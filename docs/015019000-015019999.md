# StackOverflow 问答 15019000-15019999

# ios - 如何在使用标签视图控制器的页面中将标题设置为第一个导航控制器。？

> ID：15019003
> 
> 赞同：0
> 
> 时间：2013-02-22T07:29:03.143
> 
> 标签：ios, objective-c, uinavigationcontroller

我们在应用委托中使用了以下代码。但是我们在导航控制器的 setTitle 函数中遇到了错误。

```
- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions
{
    self.window = [[UIWindow alloc] initWithFrame:[[UIScreen mainScreen] bounds]];
    // Override point for customization after application launch.
    UIViewController *viewController1 = [[FirstViewController alloc] initWithNibName:@"FirstViewController" bundle:nil];
    UIViewController *viewController2 = [[SecondViewController alloc] initWithNibName:@"SecondViewController" bundle:nil];
    UIViewController* viewController3=[[ThirdViewController alloc]initWithNibName:@"ThirdViewController" bundle:nil];
    self.tabBarController = [[UITabBarController alloc] init];
    self.tabBarController.viewControllers = [NSArray arrayWithObjects:viewController1, viewController2,viewController3, nil];
    NavigationViewController* navigationViewController=[[NavigationViewController alloc]initWithRootViewController:self.tabBarController];
  self.navigationItem.title=@"news";
    self.window.rootViewController = navigationViewController;
    [self.window makeKeyAndVisible];

    return YES;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T07:31:53.260

```
self.navigationItem.title=@"your navigation title"; 
```

在您要显示标题的视图控制器中使用它

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T07:54:49.190

```
[viewController1 setTitle:@"Title1"];
[viewController2 setTitle:@"Title2"];
[viewController3 setTitle:@"Title3"]; 
```

带有标题的既不是导航控制器也不是标签栏控制器。

# licensing - 将代码和完全所有权交给某人

> ID：15019004
> 
> 赞同：-1
> 
> 时间：2013-02-22T07:29:15.110
> 
> 标签：licensing

我想将应用程序的源代码和它的完全所有权提供给一家公司。

他们担心如果他们使用它，我以后会要钱。我不想让它开源。有没有办法让他们拥有所有权，这样他们就不用担心使用它了？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T07:32:27.167

签订一份法律合同，说明您不会起诉并且他们有权。并签字。

# javascript - 销毁jquery Modal

> ID：15019009
> 
> 赞同：0
> 
> 时间：2013-02-22T07:29:27.123
> 
> 标签：javascript, jquery, twitter-bootstrap, asp.net-mvc-4, modal-dialog

我有一个模态窗口，当您第一次单击它时效果很好，但如果您关闭它并尝试单击链接再次触发它，它似乎在代码中创建了一个全新的模态对话框。

这是一个问题，因为现在我有 2 个。我要么需要找到一种方法来阻止这种情况的发生（只需在同一个对话框上进行隐藏/显示），要么在关闭时将其销毁。

我尝试了破坏路径，并且看到了一些非常[有用的帖子](https://stackoverflow.com/questions/5674084/jquery-modal-dialog-destroy-or-close)，但我似乎无法让我的代码正常工作。到目前为止，这是我的代码：

模态绑定到`Actionlink`

```
@Html.ActionLink("Send Email", "SendErrorEmail", "Support", new { id = Model.jcode },
            new { @class = "openDialog btn btn-inverse", data_dialog_id = "sendErrorDialog", data_dialog_title = "Send Email", @id = "senderror" }) 
```

这是我拥有的javascript代码：

```
$(".openDialog").on("click", function (e) {
    e.preventDefault();

    $('#loadingdiv').show();
    $("<div></div>")
    .addClass("dialog")
    .attr("id", $(this).attr("data-dialog-id"))
    .appendTo("body")
    .dialog({
        title: $(this).attr("data-dialog-title"),
        modal: true,
        draggable: true,
        resizable: false,
        width: modalwidth,
        dialogClass: "popup1"

    })
    .load(this.href, function () {
        $('#loadingdiv').hide();
    })

}); 
```

我知道我需要添加类似的东西，`on.("hidden"...`但我似乎无法让它工作。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T07:32:06.200

这是您销毁对话框的方式：

```
$( ".selector" ).dialog( "destroy" ); 
```

这是您打开现有对话框的方式，无需销毁：

```
$( ".selector" ).dialog( "open" ); 
```

[**对话文档**](http://api.jqueryui.com/dialog/)

如果要检查该 div 是否在对话框中，可以使用以下内容：

```
if ($('#divId').closest('.ui-dialog').length === 0) 
    // not in a dialog. 
```

# javascript-events - 如何在 JavaScript 中显示表单？

> ID：15019010
> 
> 赞同：-2
> 
> 时间：2013-02-22T07:29:27.310
> 
> 标签：javascript-events

我想使用弹出 pr 提示窗口提交表单。就像我有一个表格我想在弹出窗口中显示我如何从 JavaScript 中做到这一点。？

谢谢，夏尔！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T07:36:47.687

您必须使用该功能创建一个表单元素

```
 var x = document.createElement("form"); 
```

然后你需要使用 appendChild 之类的东西附加它

```
 var attachto = document.getElementbyId("contains_form");
  attachto.appendChild(x) 
```

您需要触发导致它的事件。
阅读本教程：
[http ://www.w3schools.com/js/js_htmldom_elements.asp](http://www.w3schools.com/js/js_htmldom_elements.asp)

# xml - SoapFault - 故障代码：'soap:Server' faultstring：'服务器无法处理请求。---> 对象引用未设置为对象的实例

> ID：15019015
> 
> 赞同：0
> 
> 时间：2013-02-22T07:29:43.510
> 
> 标签：xml, web-services, ksoap2

我无法从 Web 服务获得响应，它显示故障代码`soap:server`和故障字符串`server was unable to process the request`

> 02-22 12:41:08.008: W/System.err(860): SoapFault - 故障代码: 'soap:Server' faultstring: '服务器无法处理请求。---> 对象引用未设置为对象的实例。faultactor：'null' 详细信息：org.kxml2.kdom.Node@413ecc90

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2021-02-23T20:24:30.567

*   检查方法名称是否正确。
*   检查是否添加了所有参数。
*   检查所有参数名称是否正确（包括区分大小写）。

# sql - 在 codeigniter SQL 上设置变量

> ID：15019026
> 
> 赞同：2
> 
> 时间：2013-02-22T07:30:35.197
> 
> 标签：sql, codeigniter, codeigniter-2

我试过这段代码：

```
SET @num := 0, @type := NULL;
SELECT categories_name, products_name, products_url, categories_id, 
       @num := IF( @type = categories_name, @num +1, 1 ) AS row_number,
       @type := categories_name AS dummy
  FROM (
        SELECT categories_name, products_name, products_url, ptc.categories_id
          FROM toc_products_description pd
         INNER JOIN toc_products_to_categories ptc ON pd.products_id = ptc.products_id
         INNER JOIN toc_categories_description cd ON cd.categories_id = ptc.categories_id
               AND pd.language_id =1
               AND cd.language_id =1
        ) AS x
 GROUP BY x.categories_name, x.products_name, x.products_url, x.categories_id
HAVING row_number <=2 
```

在 SQL 上（并且运行良好），现在我需要在 codeigniter 上使用`query()`. 问题是我不能插入

```
SET @num := 0, @type := NULL; 
```

在 query() 上，因为当我插入它时它总是给出错误消息。

我已经这样做了：

```
$query="SELECT categories_name, products_name, products_url, categories_id, @num := IF( @type := categories_name, @num +1, TRUE) AS row_number, @type := categories_name AS dummy
                FROM (
                SELECT categories_name, products_name, products_url, ptc.categories_id
                FROM toc_products_description pd
                INNER JOIN toc_products_to_categories ptc ON pd.products_id = ptc.products_id
                INNER JOIN toc_categories_description cd ON cd.categories_id = ptc.categories_id
                AND pd.language_id =1
                AND cd.language_id =1
                ) AS x
                GROUP BY x.categories_name, x.products_name, x.products_url, x.categories_id
                HAVING row_number <=5";        
        $result = $this->db->query($query); 
```

我不能在 SELECT 语法之前写任何东西，因为当我尝试它时它会返回错误消息。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-22T10:37:27.253

您将不得不为此运行两个单独的查询

```
$query  =   "SET @num := 0, @type := NULL";
$this->db->query($query);
$new_query  =   "
                SELECT categories_name, products_name, products_url, categories_id, 
                       @num := IF( @type = categories_name, @num +1, 1 ) AS row_number,
                       @type := categories_name AS dummy
                  FROM (
                        SELECT categories_name, products_name, products_url, ptc.categories_id
                          FROM toc_products_description pd
                         INNER JOIN toc_products_to_categories ptc ON pd.products_id = ptc.products_id
                         INNER JOIN toc_categories_description cd ON cd.categories_id = ptc.categories_id
                               AND pd.language_id =1
                               AND cd.language_id =1
                        ) AS x
                 GROUP BY x.categories_name, x.products_name, x.products_url, x.categories_id
                HAVING row_number <=2";
$this->db->query($new_query); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T07:41:01.037

使用您的 SQL 创建一个存储过程并从 query() 调用该存储过程

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-02-26T15:42:59.230

写入模型

```
public function select_datos($param1) {
    if ($param1 == 'planilla') {
        $query1 = "SET @numero := 0, @type := NULL";
        $this->db->query($query1);
        $this->db->select('*');
        $this->db->select("@numero:=@numero+1 AS 'posicion'");
        $this->db->from($param1);
        $query = $this->db->get();
        $row['planilla'] = $query->row();
    } else {
        $query = '1'; //    Error
    }
    return $query->result();
} 
```

# android - 如何在 Android 中使用一台相机创建多镜头或预览

> ID：15019036
> 
> 赞同：8
> 
> 时间：2013-02-22T07:31:22.223
> 
> 标签：android, android-layout, android-camera

![](../Images/39c3af05183d6df3f2c127fe9b7c8380.png)

我想创建像上面那样的东西，那三个盒子，就像一个相机预览。关于做什么的任何想法或概念？

我尝试获取相机实例并将其放置到三个 camerapreview 对象，但我收到一条错误消息，我猜，这是不允许的。这是我的代码：

```
 private CameraPreview mPreview;
  private CameraPreview mPreview2;
  private CameraPreview mPreview3;
  private FrameLayout preview;
  private FrameLayout preview2;
  private FrameLayout preview3;

    mCamera=getCameraInstance(); 
    mCamera2=getCameraInstance();
    mCamera3=getCameraInstance();

    mPreview=new CameraPreview(getApplicationContext(), mCamera);
    mPreview2=new CameraPreview(getApplicationContext(), mCamera2);
    mPreview3=new CameraPreview(getApplicationContext(), mCamera3);

    preview=(FrameLayout)findViewById(R.id.camSetA_qr1);
    preview.addView(mPreview);
    preview2=(FrameLayout)findViewById(R.id.camSetA_qr1);
    preview2.addView(mPreview2);
    preview3=(FrameLayout)findViewById(R.id.camSetA_qr1);
    preview3.addView(mPreview3); 
```

和我的getinstance代码

```
 public static Camera getCameraInstance() {
    Camera c = null;
    try {
        c = Camera.open();
    } catch (Exception e) {
    }
    return c;
 } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-24T10:31:00.983

You can only open a given camera (front or back) once; you cannot open the camera multiple times to produce multiple preview streams. In fact, on most devices, you can't open the front and back cameras simultaneously, since the camera processing pipeline is shared between the two cameras.

To do this, you need to only open the camera once, and then split the output preview data into the three parts that you then display.

If you need to run on Android versions before 3.0 (Honeycomb), then you need to use the [preview callbacks](http://developer.android.com/reference/android/hardware/Camera.html#setPreviewCallbackWithBuffer%28android.hardware.Camera.PreviewCallback%29). With them, you'll get a byte[] array of YUV data for each frame that you can then crop, convert to RGB, and place in an ImageView or SurfaceView.

On Android 3.0 or later, you can use the [setPreviewTexture](http://developer.android.com/reference/android/hardware/Camera.html#setPreviewTexture%28android.graphics.SurfaceTexture%29) method to pipe the preview data into an OpenGL texture, which you can then render to multiple quads in a GLSurfaceView or equivalent.

# sql-server-2005 - 拆分字符串。获取拆分 SQL Server 2005 的第一个值

> ID：15019037
> 
> 赞同：3
> 
> 时间：2013-02-22T07:31:23.450
> 
> 标签：sql-server-2005

我有一个名为的表`TableReason`，其中有一列名为`Reason`.

`Reason`数据类型是并且包含一行`varchar(100)`这样的值`2,-2,22,33,0,2`

我需要为这个表写一个更新语句来完成：只需要用逗号分割的第一个值，即。2只需要。

```
 update TableReason
 set reason=--please help me on this. 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-22T07:34:07.737

```
...
set reason=CASE CHARINDEX(',', reason)
                         WHEN 0 THEN reason
                         WHEN 1 THEN ''
                         ELSE LEFT(reason, CHARINDEX(',', reason)-1)
           END 
```

这涉及 3 种情况

*   没有逗号
*   第一个字符是逗号
*   一个数字后跟一个逗号

# php - “Adobe Reader”插件 html中的标签

> ID：15019038
> 
> 赞同：1
> 
> 时间：2013-02-22T07:31:42.653
> 
> 标签：php, html, css, acrobat

如何为 EMBED 标签添加“Adobe Reader”插件？在浏览器中，例如来自 HTML 的“safari”标签，将消息显示为“Missing Plug in”。我不想添加“flash player”插件，我只想要 Adob​​e 阅读器插件。

![在此处输入图像描述](../Images/0829556e93a2cebad36b89e63fb76769.png)

这是在 Safari 浏览器上遇到的错误。谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T07:48:38.027

尝试这个

[http://www.pdfobject.com/](http://www.pdfobject.com/)

> PDFObject 是一种易于使用的方法，用于将 PDF 文件动态嵌入到 HTML 文档中。它使用 JavaScript 生成标准友好元素并将其注入到您的 HTML 文件中。

# mysql - 将数据从一张表插入到多张表中

> ID：15019040
> 
> 赞同：2
> 
> 时间：2013-02-22T07:31:43.387
> 
> 标签：mysql, insert

我有一张桌子说`TblA`像这样的列

```
+---------------+
| Field         | 
+---------------+
| a             | 
| b             |
| c             |
| d             | 
| e             | 
| f             | 
+---------------+ 
```

我想将此数据插入到`TblB`like

```
+---------------+
| Field         | 
+---------------+
| id  (Autoincrement) | 
| a             | 
| b             |
| c             |
+---------------+ 
```

和`TblC`喜欢

```
+---------------+
| Field         | 
+---------------+
| id  (Equal to the one in tblB) | 
| d             | 
| e             |
| f             |
+---------------+ 
```

mysql中有什么方法可以做到这一点吗？或者这样做的唯一方法是编写脚本？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T07:41:06.997

如果`a`是 的主键`tblA`，那么您可以分两步执行此操作：

```
INSERT INTO tblB (a,b,c)
SELECT a,b,c FROM tblA 
```

其次是：

```
INSERT INTO tblC (id,d,e,f)
SELECT b.id,a.d,a.e,a.f
FROM tblA a
JOIN tblB b ON a.a = b.a 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T08:23:21.490

尽管@mvp 在您没有任何主键时帮助我提出了这种方法，但`tblA`我想我会在这里发布。

首先添加一个名为 id 的新自动增量列，使用

```
 ALTER TABLE TblA 
  ADD COLUMN id INT NOT NULL AUTO_INCREMENT FIRST, 
  ADD primary KEY id(id); 
```

然后做

```
INSERT INTO TblB (id, a, b, c) 
SELECT id, a, b, c FROM TblA; 
```

和

```
INSERT INTO TblC (id, d, e, f) 
SELECT id, d, e, f FROM TblA; 
```

# android - outputbufferindex 始终为 -1

> ID：15019041
> 
> 赞同：0
> 
> 时间：2013-02-22T07:31:46.683
> 
> 标签：android, h.264, android-4.2-jelly-bean, decoder

使用 MediaCodec API，我每次都将 OutputBufferIndex 设为 -1。任何可能的解决方案？

```
outputBufferIndex = codec.dequeueOutputBuffer(info,outtimeout);
loginfo();
if (outputBufferIndex >= 0) 
{
    // outputBuffer is ready to be processed or rendered.
    codec.releaseOutputBuffer(outputBufferIndex, true);
} 
else if (outputBufferIndex == MediaCodec.INFO_OUTPUT_BUFFERS_CHANGED) 
{
    outputBuffers = codec.getOutputBuffers();
    Log.i(TAG, "op_buf_changed");
} 
else if (outputBufferIndex == MediaCodec.INFO_OUTPUT_FORMAT_CHANGED) 
{
    // Subsequent data will conform to new format.
    MediaFormat opmediaformat = codec.getOutputFormat();
    Log.i(TAG, "op_buf_format_changed");
}
else
{
    Log.i(TAG, "no_out_buffer");
} 
```

我也遇到了与 inputbufferindex 相同的问题，但通过设置正确的“TimeoutUs”值我得到了解决。但在 OutputBuffer 的情况下，它没有帮助。

# c# - Windows 窗体 - 将空字段添加到数据绑定组合框列表

> ID：15019046
> 
> 赞同：1
> 
> 时间：2013-02-22T07:32:00.053
> 
> 标签：c#, visual-studio-2010, data-binding, ado.net

我有一个`combo` DropDownList 我用这样的数据填充：

```
cboTypeOfMaterial.DataSource = (from tom in context.MaterialTypes
                                where tom.IsActive == true
                                select tom.Name).Distinct().ToList(); 
```

问题是我使用此 DropDownList 进行搜索，并且我希望有一个空行或其他任何内容，如果用户不想在某个搜索中包含此数据，我可以使用该行将列表留空。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T07:34:37.920

试试这个 ：

```
IList<String> materialTypes = (from tom in context.MaterialTypes
                                where tom.IsActive == true
                                select tom.Name).Distinct().ToList();
materialTypes.Insert(0, "-- Please Select --");
cboTypeOfMaterial.DataSource = materialTypes; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T07:35:23.257

```
var list = (from tom in context.MaterialTypes
            where tom.IsActive == true
            select tom.Name).Distinct().ToList();

list.Insert(0, "");
cboTypeOfMaterial.DataSource = list; 
```

这会在列表中添加一个空白项。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-22T07:39:22.163

我想你可以先在列表中添加一个空元素，然后从你的上下文中添加项目

```
Example:

cboTypeOfMaterial.DataSource = new string[] { string.Empty }
                               .Concat(from tom in context.MaterialTypes
                                       where tom.IsActive == true
                                       select tom.Name).Distinct().ToList(); 
```

# string - 将天数添加到日期，并将新日期存储在字符串中

> ID：15019047
> 
> 赞同：2
> 
> 时间：2013-02-22T07:32:01.910
> 
> 标签：string, abap

```
DATA: l_str TYPE string,
    l_dat TYPE d.

l_dat = sy-datum.
l_str = l_dat.
WRITE:/ l_str.

l_dat = ( sy-datum + 1 ).
l_str = l_dat.
WRITE:/ l_str.
l_dat = sy-datum.

l_dat = ( l_dat + 1 ).
l_str = l_dat.
WRITE:/ l_str.

l_dat = sy-datum.
l_str = ( l_dat + 1 ).
WRITE:/ l_str. 
```

输出结果（特别是最后一行）：

```
 20130222
  20130223
  20130223
  734909 
```

什么是最好的方法来做到这一点，以便一如既往地获得预期值？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T09:27:17.160

可靠地添加/减去日期的一种方法是使用功能模块，例如 RP_CALC_DATE_IN_INTERVAL

SAP Wiki 中有一个代码示例：http: [//wiki.sdn.sap.com/wiki/display/ABAP/add+or+subtract+dates,+months,years+to+date](http://wiki.sdn.sap.com/wiki/display/ABAP/add+or+subtract+dates,+months,years+to+date)

否则，您应该始终对日期类型字段进行修改，然后在完成计算后将数据复制到字符串字段中（如果需要）。

我必须同意您显示的行为看起来不合逻辑，我已经在我们的系统中复制了它并得到了相同的结果。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-22T11:11:37.400

我怀疑对左手（字符串）的赋值会导致加法的结果在赋值发生之前转换为整数。

*编辑*对不起，我意识到你在其他测试中这样做了，所以我删除了我的例子，只留下解释。

*考虑访问类似字符的日期字段和时间字段*的 ABAP 关键字文档中的以下内容：

> 对类似字符的日期字段和时间字段的数字访问利用了将 d 和 t 类型转换为数值产生整数天数或秒数的事实。这尤其适用于在数值计算中使用类似字符的日期字段和时间字段时，这些字段将转换为相应的计算类型。

因为系统做了隐式类型转换，所以可以想象，因为加法涉及到整数，所以在赋值之前将得到的类型转换为整数。

在您的其他示例中，分配不是加法的结果，而是显式变量。

# php - 在 sidebar.php 中引导可选项锚点

> ID：15019059
> 
> 赞同：1
> 
> 时间：2013-02-22T07:32:39.163
> 
> 标签：php, html, twitter-bootstrap

我认为自己是 css 的中级人员，php 的初学者，但是 js 的小白：/

对于我的问题，我使用的是基本引导格式并创建了 header.php、footer.php、body.php 和 sidebar.php

Header.php 包含所有顶部导航以及指向 css 的链接。

footer.php 包含

```
 <script type="text/javascript" src="js/jquery.js"></script>
     <script type="text/javascript" src="js/bootstrap.js"></script>
     <script type="text/javascript" src="js/bootstrap.min.js"></script>
     <script type="text/javascript" src="http://twitter.github.com/bootstrap/assets/js/bootstrap-tab.js"></script> 
```

body.php 包含页面的主体以及特定的导航链接以进入侧边栏。

```
 <div class="container">
      <div class="tabbable">
       <div class = "row"> 
        <div class="span8 pull-right">
         <div class="tab-content">
          <div class="tab-pane fade active in" id="thing1">
            <p>about this thing1</p>
          </div><!--end tab-pane-->
          <div class="tab-pane fade in" id="thing2">
            <p>about this thing2</p> 
          </div><!--end tab-pane-->
         </div><!--end tab-content-->
        </div><!--end span8-->

     <!--sidebar info --> 
       <?php 
        $sidebar_nav = "<ul class='nav nav-pills nav-stacked' id='tabs' data-tabs='tabs'>
        <li><a href='#thing1' data-toggle='tab'>Thing 1 >></a></li>
        <li><a href='#thing2' data-toggle='tab'>Thing 2 >></a></li>
        </ul>";
        include "sidebar.php";
       ?> 
     <!-- end sidebar-->

     </div><!--end tabbable-->
    </div><!--end row-->
   </div><!--end container-->
    <!--end main body--> 
```

Sidebar.php 包含

```
 <div class="span4">
     <div class="well-small">
      <div class="pull-right">
       <?php echo $sidebar_nav;?> 
      </div><!--end pull-right-->   
     </div><!--end well-small -->
    </div><!-- end span4 --> 
```

我已经尝试将以下代码放在 body.php 页面的底部以及脚本链接之后的页脚中。

```
 <script>
         $('#tabs a').click(function (e) {
         e.preventDefault();
     $(this).tab('show');
     });
       </script> 
```

我让李的班级活跃起来，最近把它们拿出来了。

发生的事情是 thing2 块被隐藏了，单击侧栏中的 thing2 链接没有任何反应！我究竟做错了什么？它不是从thing1切换到thing2。

请帮忙！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-26T09:39:21.203

经过一个月的疯狂，我发现问题是由于 type="text/javascript** unclosed " 这样一个新手错误！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T07:43:45.597

不确定这是否是绝对答案，但我注意到了一些事情：

1 - footer.php 在文件底部包含一个打开。删除该行。

2 - 您的字符需要使用 HTML 实体值。否则，它可以被视为 HTML 标记的一部分。

改变：

```
<li><a href='#thing1' data-toggle='tab'>Thing 1 >></a></li>
<li><a href='#thing2' data-toggle='tab'>Thing 2 >></a></li> 
```

至

```
<li><a href='#thing1' data-toggle='tab'>Thing 1 &gt;&gt;</a></li>
<li><a href='#thing2' data-toggle='tab'>Thing 2 &gt;&gt;</a></li> 
```

# java - Java GUI 在联网之前被挂起

> ID：15019060
> 
> 赞同：0
> 
> 时间：2013-02-22T07:32:43.687
> 
> 标签：java, swing, user-interface, networking, event-dispatch-thread

我正在用 Java 开发游戏。在服务器端，在将信息发送给客户端之前，我在一个地方更改了 gui。当我在没有网络部分（代码中的标记 1）的情况下运行它时，它运行良好。但是当我做网络部分时（注意它是在 gui 部分之后完成的，我也编码了一个 5 秒的睡眠线程部分）， gui挂了。

这是我们代码的一小段：

```
public void startgame()
{
    Main.setx=Start.setx;
    Main.sety=Start.sety;
    gui1 = new Main(); //  Bind it
    gui1.setOpaque(true);
    container.add(gui1);
    container.remove(hostpanel);
    container.setSize(Start.setx,Start.sety);
    container.setPreferredSize(new Dimension(Start.setx,Start.sety));
    container.setVisible(true);
    container.repaint();
    gui=(Main)gui1;                   // 1
try {
        System.out.println("Thread sleeping");
        Thread.sleep(10000);
    } catch (InterruptedException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    }
    System.out.println("Thread awake");
    if(vector.get(0)!=null)
    {
        pl1=new Human_player(vector.get(0));
        pl1.send(1);
    }
    else
    {

    }
    if(vector.get(1)!=null)
    {
        pl2=new Human_player(vector.get(1));
        pl2.send(2);
    }
    else
    {

    }
    if(vector.get(2)!=null)
    {
        pl3=new Human_player(vector.get(2));
        pl3.send(3);
    }
    else
    {

    }
    ArrayList<Integer> cards=new ArrayList<Integer>();
    int i;
    for(i=0;i<=51;i++)
    {
        cards.add(i,i);
    }
    Collections.shuffle(cards);
    table=new Table(cards.get(0),cards.get(1),cards.get(2),cards.get(3),4);
    Vector<Integer> temp=new Vector<Integer>();
    for(i=4;i<16;i++)
    {
        temp.add(cards.get(i));
    }
    pl1.set_cards(temp);
    if(pl1.type=="human")
    {
        pl1.send(temp);
        pl1.send(table.heaps.get(0).get(0));
        pl1.send(table.heaps.get(1).get(0));
        pl1.send(table.heaps.get(2).get(0));
        pl1.send(table.heaps.get(3).get(0));
    }
    temp.clear();
    for(i=16;i<28;i++)
    {
        temp.add(cards.get(i));
    }
    pl2.set_cards(temp);
    if(pl2.type=="human")
    {   
        pl2.send(temp);
        pl2.send(table.heaps.get(0).get(0));
        pl2.send(table.heaps.get(1).get(0));
        pl2.send(table.heaps.get(2).get(0));
        pl2.send(table.heaps.get(3).get(0));
    }
    System.out.println("Making Initial arrangements");
    temp.clear();
    for(i=28;i<40;i++)
    {
        temp.add(cards.get(i));
    }
    System.out.println("Making Initial arrangements");
    pl3.set_cards(temp);
    if(pl3.type=="human")
    {
        System.out.println("Making Initial arrangements");
        pl3.send(temp);
        pl3.send(table.heaps.get(0).get(0));
        pl3.send(table.heaps.get(1).get(0));
        pl3.send(table.heaps.get(2).get(0));
        pl3.send(table.heaps.get(3).get(0));
        System.out.println("Initial arrangement made");
    }
    for(i=40;i<52;i++)
    {
        mycards.add(cards.get(i));
    }
    playgame();
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-22T07:35:50.730

当您休眠或在事件线程上进行阻塞操作时，GUI 会挂起。所以不要那样做。使用单独的线程。

# php - 使用 SSL 域登录到非 ssl 域上的 webapp

> ID：15019068
> 
> 赞同：4
> 
> 时间：2013-02-22T07:33:19.383
> 
> 标签：php, security, session, ssl, login

我正在构建这个 web 应用程序，用户可以在其中使用 html 和 javascript 构建自己的在线演示文稿（这些上传将在 AWS S3 上，而不是在服务器本身上）。他们将他们的域名连接到应用程序。我有以下设置，但想知道这在安全性和/或风险方面是否是最安全的设置，谢谢您的帮助！

**全局设置**

1.  当用户从非 sl 域 ( [http://userdomain.com](http://userdomain.com) ) 登录到管理员时，登录表单将凭据直接发布到 SSL 登录域 ( [https://logindomain.com](https://logindomain.com) )

2.  在 logindomain.com 上会发生验证，当成功时会启动一个新的 PHP 会话。该会话仅对 userdomain.com 有效。session_id 也保存在该用户帐户的数据库中。

3.  然后这个 session_id 通过 $_GET (2-way encrypted) 发送到 userdomain.com

4.  添加 userdomain.com 发送的 session_id 已验证到数据库中的用户帐户，如果确定，则基于此 session_id 启动新会话。新会话完成后，会在数据库中重新生成和更新 session_id。此会话在有限的时间内有效（在会话超时方面，但也在数据库中）

5.  然后将用户转发到应用程序（非 ssl），因为他已登录

6.  在每个页面上，用户会话都根据 session_id 和有效时间窗口验证到数据库。

该服务器不是共享主机设置，因此没有其他虚拟主机共享会话数据。

此登录设置是否安全或如何使其更安全？

谢谢！干杯

克。丹尼斯

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T07:37:18.343

> 当用户从非 sl 域 ( `http://userdomain.com`) 登录到管理员时，登录表单将凭据直接发布到 SSL 登录域 ( `https://logindomain.com`)

这表明它通过 HTTP 服务的形式。因此，它可以被拦截和编辑，以便攻击者捕获凭据。这是不安全的。

> 然后将用户转发到应用程序（非 ssl），因为他已登录

任何包含（或将包含）需要安全的数据的页面都应通过 SSL 发送。一旦用户登录，您不应该离开 SSL，这样做会使您受到[Firesheep 式攻击](http://en.wikipedia.org/wiki/Firesheep)。

# javascript - javascript中涉及懒惰的奇怪行为

> ID：15019069
> 
> 赞同：-1
> 
> 时间：2013-02-22T07:33:19.303
> 
> 标签：javascript, jquery

javascript中奇怪的“懒惰”行为。这个运行良好：

```
$(document).on("change", "#dropdown-menu-category-chk", function(){
  $("#dropdown-menu-category input[type='checkbox']").prop('checked', this.checked);
 });

$(document).on("change", "#dropdown-menu-category2-chk", function(){
   $("#dropdown-menu-category2 input[type='checkbox']").prop('checked', this.checked);
 });

$(document).on("change", "#dropdown-menu-category3-chk", function(){
  $("#dropdown-menu-category3 input[type='checkbox']").prop('checked', this.checked);
 });

 // and so on.... 
```

但在这段代码中，变量 i == 5！

```
function setDropDowns(){
  var idList = ['category', 'category2', 'category3', 'category4', 'category5']
  for(var i = 0; i < idList.length; i++){
    $(document).on("change", "#dropdown-menu-"+idList[i]+"-chk", function(){
      $("#dropdown-menu-" +idList[i] +" input[type='checkbox']").prop('checked', this.checked);
        debugger; // i == 5; idList[i] === undefined
    });
  }
} 
```

即使我说

```
for(var i = 0; i < idList.length; i++){
  var id = dropDownCheckBoxItemList[i];
  $(document).on("change", "#dropdown-menu-"+id+"-chk", function(){ 
```

它不起作用，因为`id`将等于`'category5'`代码执行的时间！

如何使用循环使其工作？我不想打破 DRY 的规则。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T07:36:03.040

您需要`i`在循环的每次迭代中捕获 的值。您可以通过引入一个带有立即调用的函数表达式的新范围来做到这一点：

```
for(var i = 0; i < idList.length; i++) {
    (function (i) {
        $(document).on("change", "#dropdown-menu-"+idList[i]+"-chk", function() {
            // etc...
        });
    }(i));
} 
```

# c - 将 C 结构转换为无符号字符

> ID：15019073
> 
> 赞同：1
> 
> 时间：2013-02-22T07:33:37.357
> 
> 标签：c, casting, structure, pragma

我有一个函数 UartSend() 通过 uart 将数据发送到网络。它需要参数 unsigned char 和一个整数

```
UartSend(unsigned char *psend_data,int length); 
```

我想通过这个函数发送一个结构

```
#pragma pack(push, 1)
struct packet
{

    int a;
    char b[3];
    ...

}PacketData;

#pragma pack(pop) 
```

如何将此结构转换为无符号字符以通过 UartSend 发送此数据？谢谢..

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-22T07:48:09.697

`unsigned char *`只要您的尺寸正确，您就可以简单地转换为：

```
PacketData pkt;
UartSend((unsigned char *)&pkt, sizeof(pkt)); 
```

`unsigned char *`在这种情况下，实际上只意味着字节。

当然，在连接的另一端，您需要合并程序逻辑以重新转换为`PacketData`（或一些类似的结构）。

编辑：但是，请注意，正如@WhozCraig 在评论中指出的那样，如果您的目标平台与源平台不同，则*需要*考虑对齐问题（或者，依赖 GNU 扩展，例如`__packed__`）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T07:57:11.560

您可以使用联合以结构或无符号字符数组的形式访问数据。通过这种方式，您可以避免直接转换时遇到的混叠问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T08:01:35.617

[结构中可以有额外的字节以使每个元素对齐](http://en.wikipedia.org/wiki/Data_structure_alignment)。这些额外的字节可能因所使用的编译器/平台而异。结果，你想做的事情可能做不到。

我建议您编写一个函数来执行此操作。它需要将每个元素拉出结构并单独发送。需要第二个函数来接收值，并将它们存储回函数中。

请记住，字节[序](http://en.wikipedia.org/wiki/Endianism)也可能是一个问题，并使用[网络字节排序函数](https://stackoverflow.com/questions/1678490/confusion-in-htons-little-endian-big-endian)确保整数值以标准格式发送。如果系统是不同的类型，浮点值可能需要某种额外的转换步骤。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-22T08:47:36.697

尖端

> 1.  字节对齐/打包一个。推荐使用自然字节对齐，确保获得最佳性能。**SUN 和 AIX**对**“自然字节对齐”**敏感。
> 2.  字节序列转换，通常发送方以大端序发送，接收方将 BYTES 转换为本地端序。小（WINDOWS、LINUX）/大（AIX、SUN、HP）

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-12-02T04:53:20.290

**您的数据结构已对齐，以便您的 int 落在字边界上，对于您的目标，这可能是 32 位或 64 位。**

您可以像这样重新组织您的结构，这样就不会发生这种情况： struct thestruct

```
{
 int var6;
 unsigned char var1;
 unsigned char var2;
 unsigned char var3[2];
 unsigned char var4;
 unsigned char var5[8];
 unsigned char var7[4];
}; 
```

# jsp - JSP c:forEach 错误：找不到属性

> ID：15019076
> 
> 赞同：0
> 
> 时间：2013-02-22T07:33:52.807
> 
> 标签：jsp

这是一个奇怪的问题，我已经面临很长时间并且无法解决。希望这里有人能指出我的错误。非常感谢。

基本上，我在 JSP 中使用 c:forEach 标记来循环属性。但是，模型类中的列表属性显示“找不到属性错误”。这是模型类中的属性代码：

```
private String stnID = new String();
private String stnShortName = new String();
private String stnDesc = new String();
private List<RailDeviceInfo> railDeviceInfoList = new ArrayList<RailDeviceInfo>(); 
```

而且我知道 JSP 只能使用 getter 方法，这是我的列表属性的 getter：

```
public List<RailDeviceInfo> getDeviceList()
{
    return this.railDeviceInfoList;
} 
```

最后，这是我的 JSP 代码：

```
<c:forEach items="${railList}" var="station">
   <c:out value="${station.stnID}" />
   <c:out value="${station.stnShortName}" />
   <c:out value="${station.stnDesc}" />

   <c:forEach items="${station.railDeviceInfoList}" var="device">
       <!-- can not found station.railDeviceInfoList -->
       <c:out value="${device.id}" />
       <c:out value="${device.name}" />
   <c:forEach>

</c:forEach> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T07:38:02.083

你的吸气剂是`getDeviceList()`，所以财产是`deviceList`，而不是`railDeviceInfoList`：

```
<c:forEach items="${station.deviceList}" var="device"> 
```

EL 不关心您班级的私有字段。它关心它的 JavaBean 属性。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T07:51:37.980

jstl 在您的情况下找到 getRailDeviceInfoList() 方法，但它不存在。你应该使用 station.deviceList 而不是 station.railDeviceInfoList

# java - 从字符串中删除前导/尾随零的正则表达式

> ID：15019080
> 
> 赞同：-3
> 
> 时间：2013-02-22T07:34:03.777
> 
> 标签：java, regex

这是从字符串中删除尾随小数和零的正确正则表达式吗？我无法让它工作。我错过了什么？

> 78.80 -> 78.8

```
str.replaceAll("^.0*$", ""); 
```

我只需要 2 个小数点，就像 78.008 应该是 78.01

如果是 78.10，则只有 78.1。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T07:36:36.393

不，正确的正则表达式更复杂，它需要积极的后视。

```
str = str.replaceAll("\\.0*$|(?<=\\.[0-9]{0,2147483646})0*$", ""); 
```

您必须转义`.`，因为否则它意味着“任何字符”，您必须将正则表达式仅锚定到字符串的末尾，并且您必须说`0`数字必须在`.`加上一些可选的非零数字之后。

附录：有一个“特殊情况”需要处理：`1.00`. 我们使用`|`. 第一个子表达式的意思是“一个点只加零”，甚至匹配点（以这种方式被删除）

请记住，在 Java 中字符串是不可变的，因此`replaceAll`将创建一个新字符串。

注意使用`{0,2147483646}`: 如果你使用了a`*`你会得到带符号的 int) 减 1 表示点。`Look-behind group does not have an obvious maximum length``*``{0,2147483647}``\\.`

测试示例：http: [//ideone.com/0NDTSq](http://ideone.com/0NDTSq)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-22T07:51:02.713

由于您希望对数字进行四舍五入，因此不应使用正则表达式。你应该使用`DecimalFormat`：

```
DecimalFormat twoDForm = new DecimalFormat("#.#");
Double d = Double.parseDouble("123.078");
String s = twoDForm.format(d);
System.out.println(s); 
```

将输出：

```
123.08 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-22T07:37:54.343

使用锚点`^`，`$`您正在尝试匹配整个字符串并替换它。这将不匹配，因为字符串中有更多内容。

试试这个

```
 str.replace("0*$", ""); 
```

与`0*$`您将仅匹配字符串末尾的 0 个或多个“0”。

**注意：**这也会将“1000”更改为“1”！

# compiler-construction - 何时检查是否需要 GC？

> ID：15019085
> 
> 赞同：1
> 
> 时间：2013-02-22T07:34:18.853
> 
> 标签：compiler-construction, garbage-collection

我正在为垃圾收集语言编写编译器，并且对我如何知道何时应该运行垃圾收集器感到困惑。

我能想到的方法有两种：

1.  在每次堆分配之前进行 GC 检查。因此，如果任何分配即将失败，我们就会运行 GC。

2.  要“定期”运行 GC 检查，并在空间“危险”不足时执行 GC 扫描。

我目前使用的是第二种方案，因此我在每个函数入口的开头都有一个 GC 检查，以确保足够频繁地执行 GC 检查。

有谁知道我在哪里可以找到有关此主题的更多信息？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T14:55:21.917

对于您的问题“有人知道我在哪里可以找到有关此主题的更多信息”，最好的参考是@ Raymond Chen 指出的[Paul Wilson 的调查论文。](http://compilers.iecc.com/comparch/article/94-02-143)

要了解现有垃圾收集器算法，请查看此[链接](http://www.oracle.com/technetwork/java/javase/memorymanagement-whitepaper-150215.pdf)

在你提到的（1）和（2）两种方式中，我觉得两种方式都必须进行检查。

假设您已经使用某些约束定义了堆。（主要约束是`size_t maximumSize , base , limit ,NoOfBytesAllocated`）。因此，向该堆结构添加更多字段`limitForGcInSizeMinor ,limitForGcInSizeMajor limitForGcInObjects`可以更好地解决 GC 情况（如果您的堆结构已经具有此字段，请忽略）。

所以每当分配> = limitForGcInSizeMinor 执行GcMinor（可以停止世界机制或可以并发）。如果分配达到 limitForGcInSizeMajor 则执行 GCMajor（类似于 stop the world ）。我划分 GCMinor 和 GCMajor 的主要原因是为了将 GC 峰值（当停止世界机制发生时）的影响减少到最小。

因此，在整个 GC 中，我们遵循 (2) 方式，我的意思是定期以及使用 heap allocation 检查它。Al-tough 我从 CMS 算法中借来了它。

# json - 骨干 | 模型中的数组和操作

> ID：15019087
> 
> 赞同：1
> 
> 时间：2013-02-22T07:34:27.237
> 
> 标签：json, templates, backbone.js

我有一个类似任务的模型（它具有标题、时间、注释等默认属性）和一个类似任务列表的集合。现在一个任务可以有多个笔记。我有 REST api (JSON) 来填充模型和集合。我需要列出所有任务（这很简单，忽略注释），然后查看任务（包括注释）。

从这里开始，它似乎实现了类似于 Backbone 中的嵌套循环。如何填充我的模型并使用所有注释显示任务。我应该涵盖模型、集合、视图和模板。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-23T09:44:56.790

我假设在纯 RESTFUL 实现中，您有模型`Task`和`Note`集合`TaskList`。`TaskNotes`

最初你只希望从服务器加载任务，所以你去`tasklist.fetch()`

这将期望所有任务都与服务器同步，但集合中的任务模型不包含任何注释。

当用户选择一个任务时，您创建一个新`TaskNotes`实例，将其存储在父任务模型中（不是作为属性，因为保存时所有属性都由 Backbone 传递给服务器）并获取它。

那应该很容易吧？

* * *

真正的问题是，如果您希望在一次调用中获取并初始化所有内容（所有任务，所有嵌套注释）。这有点棘手，因为主干不处理嵌套的集合/模型。从服务器返回的 JSON 中的所有属性都被视为普通属性。您需要研究诸如[骨干关系](https://github.com/PaulUithol/Backbone-relational)或覆盖[Model.parse](https://stackoverflow.com/questions/6292667/populating-nested-collections-with-parent-model-fetch)方法之类的东西。

说您很少想在一次调用中获取所有内容。这是太多的数据，用户不会一次看到所有这些数据。最好按需进行，即用户选择任务，您获取注释。

# asp.net - 无法恢复 SQL Server 2008 R2 数据库

> ID：15019094
> 
> 赞同：0
> 
> 时间：2013-02-22T07:34:54.897
> 
> 标签：asp.net, sql-server, sql-server-2008

仅从 SQL Server 2008 R2 备份数据库。我的系统还安装了 SQL Server 2008 R2。在恢复该数据库时，它会引发错误：

> *数据库备份在运行版本 10.50.1600 的服务器上。该版本与运行版本 10.00.1600 的此服务器不兼容。*

这个错误的原因是什么。请问我需要一个解决方案

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T07:45:02.050

你对你拥有的系统是错误的。错误消息明确指出当前版本为 10.00.1600，即[SQL Server 2008 RTM](http://support.microsoft.com/kb/321185)。您的备份确实来自[SQL Server 2008 **R2**](http://support.microsoft.com/kb/321185)。您将只能在 SQL Server 2008 R2 上恢复该备份。

不要将工具 (Management Studio) 的版本与 SQL Server 实例的版本混淆。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T07:38:32.810

您的备份源是使用 sql server version 创建`10.50.1600`的，但是您的服务器`10.00.1600`和错误消息一样，说不兼容。

无法降级数据库。可能的解决方案是将您的实例从升级`10.00.1600`到`10.50.1600`.

如果您使用的是 SQL Express，则可以从[此处](http://www.microsoft.com/en-us/download/details.aspx?displaylang=en&id=25174)下载。

# zend-framework2 - 如何使用 Annotation 类创建日期字段？

> ID：15019095
> 
> 赞同：-1
> 
> 时间：2013-02-22T07:34:56.923
> 
> 标签：zend-framework2

我正在使用 zend framework-2 中的 Annotation 类创建一个表单。在这门课中，我尝试使用注释创建日期字段，但它没有显示在表单上。请帮助我如何使用注释设置 vdate 字段属性。

代码`TestEntity.php`

```
<?php

namespace TestAjax\Model;

use Zend\Form\Annotation;

/*
 * @Annotation\Hydrator("Zend\Stdlib\Hydrator\ObjectProperty")
 * @Annotation\Name("TestEntity")
 */
class TestEntity
{

/**
 * @Annotation\Type("Zend\Form\Element\Date")
 * @Annotation\Required({"required":"true" })
 * @Annotation\Filter({"name":"vdate"})
 * @Annotation\Validator({"name":"Between", "options":{"min":"1970-01-01" "max":"2013-12-31"}})                     
 * @Annotation\Options({"label":"Date:"})
 */
public $vdate;

 /**
 * @Annotation\Type("Zend\Form\Element\Text")
 * @Annotation\Required({"required":"true"})
 * @Annotation\Filter({"name":"StripTags"})
 * @Annotation\Validator({"name":"StringLength", "options":{"min":"5"}})
 * @Annotation\Options({"label":"Last Name:"})
 */
public $lastname;

/**
 * @Annotation\Type("Zend\Form\Element\Radio")
 * @Annotation\Required({"required":"true" })
 * @Annotation\Filter({"name":"StripTags"})
 * @Annotation\Options({"label":"Gender:",
 *                      "value_options" : {"1":"Male","2":"Female"}})
 * @Annotation\Validator({"name":"InArray",
 *                        "options":{"haystack":{"1","2"},
 *                              "messages":{"notInArray":"Gender is not valid"}}})
 * @Annotation\Attributes({"value":"1"})
 */
public $gender;

/**
 * @Annotation\Type("Zend\Form\Element\Select")
 * @Annotation\Required({"required":"true" })
 * @Annotation\Filter({"name":"StripTags"})
 * @Annotation\Options({"label":"Class:",
 *                      "value_options" : {"0":"Select a Class","1":"A","2":"B","3":"C"}})
 * @Annotation\Validator({"name":"InArray",
 *                        "options":{"haystack":{"1","2","3"},
 *                              "messages":{"notInArray":"Please Select a Class"}}})
 * @Annotation\Attributes({"value":"0"})
 */
public $class;

/**
 * @Annotation\Type("Zend\Form\Element\Text")
 * @Annotation\Required({"required":"true" })
 * @Annotation\Filter({"name":"StripTags"})
 * @Annotation\Options({"label":"Username:"})
 */
public $username;

/**
 * @Annotation\Type("Zend\Form\Element\Password")
 * @Annotation\Required({"required":"true" })
 * @Annotation\Filter({"name":"StripTags"})
 * @Annotation\Options({"label":"Password:"})
 */
public $password;
/**
 * @Annotation\Type("Zend\Form\Element\Submit")
 * @Annotation\Attributes({"value":"Submit"})
 */
public $submit;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-09-13T07:16:06.923

如果您使用的是学说，请尝试以下方法：

在你的类声明之前包括这个：

```
<?php
    namespace Test\Entity; //Test is your module name and Entity is your folder

    use Doctrine\ORM\Mapping as ORM;
    use Zend\Form\Annotation;

    use Doctrine\Common\Collections\ArrayCollection;
    use Doctrine\Common\Collections\Collection;

/**
 * Test
 *
 * @ORM\Table(name="test")
 * @ORM\Entity
 * @Annotation\Name("Test")
 * @Annotation\Hydrator("Zend\Stdlib\Hydrator\ClassMethods")
 * @property int $id
 * @property ............ other variable/column name

class Test //your file name must be Test.php
{ 
```

然后添加这个日期

```
/**
     * @var \DateTime
     *
     * @ORM\Column(name="vdate", type="datetime", nullable=false)
     * @Annotation\Attributes({"type":"datetime","min":"2010-01-01T00:00:00Z","max":"2020-01-01T00:00:00Z","step":"1"})
     * @Annotation\Options({"label":"V Date:", "format":"Y-m-d\TH:iP"})
     */
public $vdate; 
```

这应该会有所帮助。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-02-22T08:49:38.060

使用普通文本框字段（zend\form\element\text），然后使用 jquery 日期选择器进行 UI

# android - Arduino Android 和 USB 主机 API

> ID：15019096
> 
> 赞同：1
> 
> 时间：2013-02-22T07:34:57.313
> 
> 标签：android, arduino

我有一个连接到[Arduino Uno](http://arduino.cc/en/Main/ArduinoBoardUno)串行端口的设备。我需要通过 USB 将 Arduino 连接到 Android 智能手机，以便读取从串行端口检索到的数据。我打算使用 Android USB 主机 API，所以 Arduino 将充当 USB 设备。

有没有图书馆可以做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-24T08:21:06.447

本[教程](http://android.serverbox.ch/?p=549)展示了如何从 Nexus 与 Arduino 进行通信。

# java - 网格和 x 和 y 坐标

> ID：15019100
> 
> 赞同：1
> 
> 时间：2013-02-22T07:35:16.627
> 
> 标签：java, grid

我需要制作一个网格，用户在其中输入列和行中星号的数量，到目前为止我有这个：

```
import java.util.Scanner;

public class Grid {

public void run(){

        Scanner scan = new Scanner(System.in);

        System.out.println("Enter the grid width (1-9):" );
        double num = scan.nextDouble(); 

        System.out.println("Enter the grid length (1-9)");
        double numLength = scan.nextDouble(); 

        for(int i = 0; i < num; i++){
           for(int j = 0; j < numLength; j++){
            System.out.print("*");
           }
        System.out.println(""); 
```

但我不知道如何将字符“X”插入网格的 (0,0)、左上角或如何使其移动甚至循环。用户必须输入“上”“下”“左”和“右”才​​能移动，我对如何在 java 中设置 x 和 y 坐标感到非常困惑。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T07:51:08.007

`System.out`是一个简单的输出流。您不能在那里为文本设置动画，也不能在命令行上注册方向键。

你需要一个图形用户界面。这不是最好的，但看看[Swing](http://en.wikipedia.org/wiki/Swing_%28Java%29)。

一种更混乱的方法是重复循环并通过命令行从用户输入中获取输入：

```
Scanner scan = new Scanner(System.in);

System.out.println("Enter the grid width (1-9):" );
int w = scan.nextInt(); 

System.out.println("Enter the grid length (1-9):");
int h = scan.nextInt(); 

int x = 0, y = 0;
while (true)
{
   for(int i = 0; i < w; i++){
      for(int j = 0; j < h; j++){
         if (i != x || j != y)
           System.out.print("*");
         else
            System.out.print("X");
      }
      System.out.println("");
   }
   System.out.println("Enter direction (u,d,l,r):");
   char c = scan.next().charAt(0);
   switch (c)
   {
      case 'u': x = Math.max(0, x-1); break;
      case 'd': x = Math.min(w-1, x+1); break;
      case 'l': y = Math.max(0, y-1); break;
      case 'r': y = Math.min(h-1, y+1); break;
      case 'x': System.out.println("Exiting..."); System.exit(0);
   }
} 
```

# ruby-on-rails - 用一个部分渲染两个实例变量

> ID：15019106
> 
> 赞同：1
> 
> 时间：2013-02-22T07:35:26.097
> 
> 标签：ruby-on-rails

在 Rails 待办事项应用程序的索引文件（来自 Railscast 的代码）中，它列出了分配给任务控制器中实例变量的不完整和完整任务。注意它是如何调用render @incomplete_tasks 和render @complete_tasks，而partial 只被调用

```
_task.html.erb 
```

似乎这一部分用于渲染不完整和完整的任务。Rails 是否能够忽略实例变量的前半部分（即@incomplete 和@complete）来使用一个部分来渲染两者？

控制器

```
 def index
    if current_user
      @incomplete_tasks = current_user.tasks.where(complete: false)
      @complete_tasks = current_user.tasks.where(complete: true)
    end
  end 
```

指数

```
<% if @incomplete_tasks.empty? && @complete_tasks.empty? %>
    <p>Currently no tasks. Add one above.</p>
  <% else %>
    <h2>Incomplete Tasks</h2>
    <div class="tasks" id="incomplete_tasks">
      <%= render @incomplete_tasks %>
    </div>

    <h2>Complete Tasks</h2>
    <div class="tasks" id="complete_tasks">
      <%= render @complete_tasks %>
    </div>
  <% end %> 
```

**_task.html.erb**

```
<%= form_for task, remote: true do |f| %>
  <%= f.check_box :complete %>
  <%= f.label :complete, task.name %>
  <%= link_to "(remove)", task, method: :delete, data: {confirm: "Are you sure?"}, remote: true %>
<% end %> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T07:42:10.040

因此，rails 会查看模型对象以确定在您使用这种语法时使用哪个部分。在这两种情况下，实例变量都包含任务，因此 rails 知道使用 _task 部分。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T07:44:41.900

复制@ryanb 的答案，在此处查看：[Rails: Rendering Models?](https://stackoverflow.com/questions/1260682/rails-rendering-models)

如果您直接传递模型进行[渲染](http://api.rubyonrails.org/classes/ActionController/Base.html#M000658)，它将尝试为它渲染一个部分。

```
<%= render @thing %> 
```

那是一样的。

```
<%= render :partial => 'things/thing', :object => @thing %> 
```

如果你传递一个模型数组......

```
<%= render @things %> 
```

它会为每个渲染`_thing`部分，就像你这样做一样。

```
<%= render :partial => 'things/thing', :collection => @things %> 
```

注意：这需要 Rails 2.3。如果你有早期版本的 Rails，你需要使用 :partial 选项来做同样的事情。

```
<%= render :partial => @thing %> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T10:26:51.460

这个问题有完整的答案。

[http://guides.rubyonrails.org/layouts_and_rendering.html](http://guides.rubyonrails.org/layouts_and_rendering.html)

2.2.13 避免双重渲染错误

# android - 基于 Virgil Dobjanschi Android Rest Client 使用 AbstractThreadedSyncAdapter for Rest Client

> ID：15019110
> 
> 赞同：4
> 
> 时间：2013-02-22T07:35:39.057
> 
> 标签：android

我想使用 AbstractThreadedSyncAdapter 为我的应用程序编写一个 Android 休息客户端，我的休息服务器不需要身份验证。我的问题是。

1.  AbstractThreadedSyncAdapter 是否仅用于身份验证应用程序？
2.  如果不是如何将其用作普通的 Rest Client。
3.  我可以得到一个好的示例代码吗？

# eclipse - Eclipse 中与 JSF 相关的 Maven 配置标记

> ID：15019116
> 
> 赞同：1
> 
> 时间：2013-02-22T07:36:03.600
> 
> 标签：eclipse, maven, m2eclipse, jsf-1.2, facet

我正在开发一个由两个war文件组成的**Maven Web应用程序，使用覆盖方法。**该战争文件正在使用 JSF 1.2 依赖项。我在构建、部署或运行​​项目时没有问题，一切正常，但是我得到了一个让我发疯的错误标记：

![在此处输入图像描述](../Images/7c1463df2ba0dd8d3f9d6f210f1da8a1.png)

看起来 Eclipse 在我的战争中并没有注意到 Dynamic Web Module 2.5，即使我安装了这个方面。现在我正在使用 Eclipse Juno，但我在以前的版本中也遇到了这个问题。似乎 JSF 1.2 方面存在一些问题。那是我的*org.eclipse.wst.common.project.facet.core.xml*文件：

**主要项目**

```
<?xml version="1.0" encoding="UTF-8"?>
<faceted-project>
  <fixed facet="wst.jsdt.web"/>
  <installed facet="wst.jsdt.web" version="1.0"/>
  <installed facet="java" version="1.6"/>
  <installed facet="jst.web" version="2.5"/>
  <installed facet="jst.jsf" version="1.2"/>
  <installed facet="jst.jaxrs" version="1.0"/>
  <installed facet="jboss.m2" version="1.0"/>
</faceted-project> 
```

**战争依赖**

```
<?xml version="1.0" encoding="UTF-8"?>
<faceted-project>
  <fixed facet="wst.jsdt.web"/>
  <installed facet="java" version="1.6"/>
  <installed facet="jst.web" version="2.5"/>
  <installed facet="wst.jsdt.web" version="1.0"/>
  <installed facet="jst.jaxrs" version="1.0"/>
  <installed facet="jboss.m2" version="1.0"/>
  <installed facet="jst.jsf" version="1.2"/>
</faceted-project> 
```

有没有人有类似的问题？我认为构面配置已正确完成，所以不知道为什么会出现此错误..

**更新**

这可能是服务器运行时配置问题，但如果我转到我的项目配置，在**Java Build Path**的*Libraries*选项卡中，我发现的所有内容都是 JRE System Library for JavaSE-1.6 和附加的 Maven 依赖项。似乎没有粘贴服务器运行时。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-01T08:46:14.593

那里的警告表明您的项目中的“*某些地方*”，动态 Web 模块设置为低于 2.5 的版本

根据您提供的面孔配置，您似乎正在使用 DWM 2.5

```
<installed facet="jst.web" version="2.5"/> 
```

因此，在您项目的其他地方，有对较低版本的引用。

*   **检查您的网络应用程序定义和架构，web.xml 文件。它应该是 web-app_2_5**

* * *

```
<web-app xsi="http://www.w3.org/2001/XMLSchema-instance"
 xmlns="http://java.sun.com/xml/ns/javaee" 
 web="http://java.sun.com/xml/ns/javaee/webapp_2_5.xsd"
 schemalocation="http://java.sun.com/xml/ns/javaee
 http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd" id="WebApp_ID" version="2.5"> 
```

* * *

*   **web.XML 文档类型**

* * *

```
<!DOCTYPE web-app PUBLIC "-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN"
"http://java.sun.com/dtd/web-app_2_3.dtd" > 
```

* * *

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T08:45:53.247

最有可能发生的事情是您的服务器运行时（在向导的前一页中选择）正在根据其适配器允许的内容过滤可用的 Web 模块版本。

我正在使用 Tomcat 6 - 它对我来说效果很好并且支持 2.5 版。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T10:29:18.620

@Xtreme 骑自行车的人

更改动态 Web 模块的简单方法

单击右键单击项目-> 属性-> 项目方面-> 单击链接，然后根据您的要求更改动态 Web 模块部分。

![在此处输入图像描述](../Images/2b58e1884f3259f4adbd993108a03f14.png)

# c# - asp.net 内容混淆

> ID：15019126
> 
> 赞同：1
> 
> 时间：2013-02-22T07:36:50.510
> 
> 标签：c#, asp.net, obfuscation, obscured-view

我正在寻找一种策略，允许我混淆网页上提供的 HTML 内容，以防止读者选择文本并将其复制到剪贴板中，并通过浏览器输出或通过检查底层 HTML 来使用它来源。该解决方案必须独立于浏览器和平台。源语言是 C# ASP.NET。

一种这样的策略是将页面预渲染为图像并传输图像，这就是他们用来查看页面的方式。从理论上讲，这听起来有点酷，但现实是，在传输方面推送图像可能会很昂贵。

我想到的另一个想法是创建一种混合字符的字体。字体中的“ABdcBA”实际上读作“render”。因此，如果他们复制文本甚至查看 HTML，他们会看到并复制 ABdcBA，但会读取“渲染”。

查看如下页面：[http](http://colddata.com/developers/online_tools/obfuscator.shtml#obfuscator_view) : //colddata.com/developers/online_tools/obfuscator.shtml#obfuscator_view 使我能够将乱码放入变量并进行简单转换，但输出仍然是可复制的。

[像asp.net for html 的混淆工具](https://stackoverflow.com/questions/8256740/obfuscation-tool-for-asp-net-for-html)这样的页面意味着我可以使它难以阅读，但我仍在寻找某种方法使内容非常难以使用，除了截屏并使用 OCR 来转换文本。

我试图保护的文本并不是受版权保护，而是我试图防止第三方盗取内容。

还有其他想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T07:59:25.130

您可以尝试提供加扰的 HTML 内容并使用 javascript 在页面加载时解扰内容。不过，精明的用户仍然可以使用 Firebug 直接从 DOM 获取数据。

复制粘贴也可以，但您可以使用 CSS 来防止选择。[禁用 Div 中的复制](https://stackoverflow.com/questions/10777133/disable-copying-in-a-div)

正如其他人所指出的，如果用户想要获取您的内容，总会有办法。

# c - 使用驱动程序获取原始 MAC 地址

> ID：15019127
> 
> 赞同：2
> 
> 时间：2013-02-22T07:36:52.140
> 
> 标签：c, linux, linux-kernel, linux-device-driver, device-driver

Linux : uname -a :2.6.18 和 2.6.39

我对它很陌生...当第一次加载驱动程序时，在 ifconfig 可以更改 MAC 地址之前，现有的（永久）MAC 地址被存储起来，可以通过这个 ioctl 检索。

```
case ETHTOOL_GPERMADDR:
rc = ethtool_get_perm_addr(dev, useraddr);
break; 
```

有人测试过吗？我可以获得代码或代码的一部分来实现它吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-23T01:47:58.623

像这样调用它：

```
# ethtool -P eth0 
```

从 ethtool 源（来自包 ethtool-debugsource-3.2-3.1.2.x86_64 的 ethtool.c）：

```
static int do_permaddr(struct cmd_context *ctx)
{
        int i, err;
        struct ethtool_perm_addr *epaddr;

        epaddr = malloc(sizeof(struct ethtool_perm_addr) + MAX_ADDR_LEN);
        epaddr->cmd = ETHTOOL_GPERMADDR;
        epaddr->size = MAX_ADDR_LEN;

        err = send_ioctl(ctx, epaddr);
        if (err < 0)
                perror("Cannot read permanent address");
        else {
                printf("Permanent address:");
                for (i = 0; i < epaddr->size; i++)
                        printf("%c%02x", (i == 0) ? ' ' : ':',
                               epaddr->data[i]);
                printf("\n");
        }
        free(epaddr);

        return err;
} 
```

# c# - WiX：如何访问/更改托管引导程序中的安装目录？

> ID：15019135
> 
> 赞同：5
> 
> 时间：2013-02-22T07:37:52.513
> 
> 标签：c#, wix, bootstrapper

我正在创建一个带有自定义用户界面的 WPF 设置应用程序。我从 Bryan P. Johnston 的教程开始：http: [//bryanpjohnston.com/2012/09/28/custom-wix-managed-bootstrapper-application/](http://bryanpjohnston.com/2012/09/28/custom-wix-managed-bootstrapper-application/)

在我看来，我有一个简单`TextBox`的绑定到`InstallationPath`我的`MainViewModel`.

现在我希望在用户单击“安装”时使用此路径。为此，我有一个绑定到我的`InstallCommand`. 调用以下方法（直接取自教程）：

```
private void InstallExecute()
{
    Bootstrapper.Engine.Plan(LaunchAction.Install);
} 
```

如何使软件包安装到我的财产目录中`InstallationPath`？

* * *

编辑：

我在 Stackoverflow 上发现了一个类似的问题：

[在刻录管理的引导程序中指定 WiX 中软件包的 INSTALLLOCATION](https://stackoverflow.com/questions/7588259/wix-specify-the-installlocation-of-packages-inside-the-burn-managed-bootstrappe)

答案来自 Bob Arnson

> 为每个 MsiPackage 使用 MsiProperty 子项以指定 INSTALLLOCATION=[BurnVariable]。然后使用 Engine.StringVariables 设置 BurnVariable。

现在，我想我可以`StringVariables`像`InstallExecute`这样访问

```
private void InstallExecute()
{
    Bootstrapper.Engine.StringVariables["BurnVariable"] = InstallationPath;
    Bootstrapper.Engine.Plan(LaunchAction.Install);
} 
```

但是在哪里定义这个变量呢？我猜在 Product.wxs 的某个地方？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-22T11:38:06.477

是的，只需在您的刻录引导程序中创建一个变量：

```
<Variable Name="BurnVariable"
          bal:Overridable="yes" /> 
```

然后，您可以将其作为参数传递给引导的 msi 包：

```
<MsiPackage SourceFile="$(var.YourMsiProject.Installer.TargetPath)" Compressed="no">
    <MsiProperty Name="INSTALLLOCATION" Value="[BurnVariable]" />          
</MsiPackage> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-06-19T02:32:29.037

Bundle Variable 元素上缺少一个属性“Type”。caverman_dick 是对的，但是当不可覆盖时，它不能正常工作。你也可以试试这个，设置 Type="string"。

[蜡可变元素](http://wixtoolset.org/documentation/manual/v3/xsd/wix/variable.html)

```
<Wix>...<Bundle>...
  <Variable Name="MyApplicationMsiInstallFolder" Value="[WindowsVolume]MyApplication"
          bal:Overridable="yes" Type="string"/>
    <Chain>
        <?if $(var.DbVersion) = false?>
        <PackageGroupRef Id="AccessDatabaseGroup"/>
        <RollbackBoundary />
        <?endif?>
        <MsiPackage Id="MyApplicationMsiPackage" SourceFile="$(var.MyApplicationSetup.TargetPath)" DisplayInternalUI="no"
                                Vital="yes" >
            <MsiProperty Name="APPLICATIONFOLDER" Value="[MyApplicationMsiInstallFolder]"/>
        </MsiPackage>
    </Chain>
</Bundle></Wix> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-05-12T11:11:00.313

我也用这个传奇的教程。我想用veriable做别的事情。即，变量表示是否应该安装程序。问题是在 InstallExecute() 中调用该变量时不会覆盖该变量。对于我的问题，它以这种方式工作：

```
 protected override void Run()
    {
        this.Engine.Log(LogLevel.Verbose, "Launching custom TestBA UX");
        BootstrapperDispatcher = Dispatcher.CurrentDispatcher;

        MainViewModel viewModel = new MainViewModel(this);
        viewModel.Bootstrapper.Engine.Detect();

        MainView view = new MainView();
        this.Engine.StringVariables["SqlStatus"] = view.CheckInstalledSQL() == true ? "true" : "false";
        this.Engine.StringVariables["SsmsStatus"] = view.CheckInstalledSSMS() == true ? "true" : "false";
        view.DataContext = viewModel;
        view.Closed += (sender, e) => BootstrapperDispatcher.InvokeShutdown();
        view.Show();
        Dispatcher.Run();

        this.Engine.Quit(0);
    } 
```

引导程序：

```
<Variable Name="SqlStatus" bal:Overridable="yes" Value="false" Type="string"/>
<Variable Name="SsmsStatus" bal:Overridable="yes" Value="false" Type="string"/>
...

<ExePackage Id="SSMS" Name="SQLServerManagementStudio" Cache="no" Compressed="yes" PerMachine="yes" Permanent="yes" Vital="yes"
    InstallCommand="/install /Passive SSMSInstallRoot=C:\\Program Files\\Microsoft SQL Server /norestart"
    SourceFile="C:\Users\..\Downloads\SSMS-Setup-ENU.exe"
    DetectCondition="SsmsStatus = &quot;true&quot;"/> 
```

# php - 在codeigniter中递归？

> ID：15019137
> 
> 赞同：1
> 
> 时间：2013-02-22T07:37:55.307
> 
> 标签：php, codeigniter

我试图有一个菜单，其中父类别可以有尽可能多的子类别。子类别可以有尽可能多的子子类别等等......

例如：

*   项目清单：
    *   清单 1
    *   清单 2
        *   清单 2 a
        *   清单 2 b
            *   清单 2 双

对此有何见解？

PS。使用 Codeigniter HMVC

目前我的工作是：

使用辅助函数...

我可以通过以下代码查看 2 级嵌套类别：

```
<ul>
    <?php foreach($results as $row){ ?>
    <li>
        <?php echo $row->cat_title; ?>
        <?php 
        $childs = get_child_cat_by_id($row->cat_id);
        if(!empty($childs)){ ?>

        <ul>
            <?php  
            foreach($childs as $child){ ?>
            <li><?php echo $child->cat_title; ?>  
                <?php 
                $sub_child = get_sub_childs($child->cat_id);
                if(!empty($sub_child)){ ?>
                <ul>
                    <?php  
                    foreach($sub_child as $children){ ?>
                    <li><?php echo $children->cat_title; ?>  </li>
                    <?php }?>
                </ul>
                <?php } ?>

            </li>
            <?php }?>
        </ul>
        <?php } ?>

    </li>
    <?php } ?>
</ul> 
```

此代码在视图中使用。我需要一个递归方法，以便不需要多次调用函数 get_child_cat_by_id 。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-06-18T06:20:28.053

我对您的问题的最佳解决方案是使用 ORM 支持分层数据，如[Doctrine 2](http://docs.doctrine-project.org/projects/doctrine1/en/latest/en/manual/hierarchical-data.html)或带有嵌套集扩展的[Rapid Data Mapper](http://ellislab.com/forums/viewthread/138360/)

但是更简单的解决方案是获取数据的嵌套数组（为此处理您的模型）并尝试类似：

```
//Make a list from an array 
function nestedArrayToList($array, $property)
{
    $output = '<ul>';

    foreach ($array as $key => $mixedValue) { 
        if (is_array($mixedValue)) {
            // Recursive step
            $output .= '<li>' . nestedArrayToList($mixedValue) . '</li>'; 
        } else {
            // Simply output the property
            $output .= '<li>' . $mixedValue->$property . '</li>'; 
        }
    } 

    $output .= '</ul>'; 

    return $output; 
}

nestedArrayToList($row) 
```

我没有测试它，但想法就在这里。

# ruby-on-rails - Slug url——routes.rb 中需要什么？

> ID：15019143
> 
> 赞同：2
> 
> 时间：2013-02-22T07:38:09.307
> 
> 标签：ruby-on-rails, ruby-on-rails-3

快速提问。

我在我的帖子控制器中创建了一个 slug 方法，以便@post.slug 返回（例如）“this-is-the-post-name”。

但是，不确定在我的 routes.rb 文件中要做什么才能使其工作（'posts/this-is-the-post-name'），而且我没有找到完全适合答案的问题或指南。知道怎么做吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-22T07:42:51.407

如果您已经设置了资源，则无需在路线中添加任何内容。如果没有，您在路线中所需要的只是

```
resources :posts 
```

然后，要使用 slug 作为参数，您需要`to_param`在 post 模型中定义一个方法。

```
# post.rb
def to_param
  slug
end 
```

此方法由 url_for 调用以将对象转换为 url。例如

```
>> @post.slug = 'this-is-the-post-name'
>> post_path(@post) = '/posts/this-is-the-post-name' 
```

您还需要注意的另一件事是获取记录。由于 url 不再包含帖子的 id，因此您必须按 slug 搜索。例如，在 show 动作中

```
def show
  # this will not work anymore
  # @post = Post.find params[:id]
  # you should change this to
  @post = Post.find_by_slug params[:id]
end 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-02-22T07:44:31.527

扩展 jvnill 的答案，确保 slug 是您的帖子表上的一列，并且应该是唯一的，否则您将遇到问题。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-02-22T07:51:47.177

尽管自己动手总是一种很好的学习体验，但使用可以处理 slugging 的 gem 可能更实用。我通常会转向它，`FriendlyId`因为它正在积极开发并且有很多很棒的选择，并且使 slugging 非常简单。

[友好ID](https://github.com/norman/friendly_id)

# java - 如何从大小为 40 的数组中获取素数？

> ID：15019144
> 
> 赞同：-1
> 
> 时间：2013-02-22T07:38:15.240
> 
> 标签：java, arrays, primes

我正在尝试编写一个简单的程序，该程序给出数组大小为 40 的最大值、最小值、偶数个数、奇数个数和素数个数。

我写了以下代码：

```
package TESTING;
import java.util.*;

public class testClass{  
    public static void main (String args[]){

    int numbers[]= {1,5,-9,12,-3,89,18,23,4,-6,14,-5,87,17,47,-73,39,49,56,71,
                    3,0,-2,23,-8,45,63,71,5,29,-4,15,78,37,99,-66,44,94,65,73};  
    //Find minimum (lowest) value in array using loop  
    System.out.println("Minimum Value = " + getMinValue(numbers));  
    //Find maximum (largest) value in array using loop  
    System.out.println("Maximum Value = " + getMaxValue(numbers));  
    System.out.println("Even Numbers = " + even(numbers));
    System.out.println("Odd Numbers = " + odd(numbers));
    for(int number = 1; number<=numbers.length; number++){
    //print prime numbers only
    if(isPrime(numbers)){

       System.out.println("+ numbers");
    }
  }

//Find maximum (largest) value in array using loop  
public static int getMaxValue(int[] numbers){  
int maxValue = numbers[0];  
for(int i=1;i<numbers.length;i++){  
    if(numbers[i] > maxValue){  
        maxValue = numbers[i];  
    }  
}  
return maxValue;  
}  

 //Find minimum (lowest) value in array using loop  
 public static int getMinValue(int[] numbers){  
int minValue = numbers[0];  
for(int i=1;i<numbers.length;i++){  
    if(numbers[i] < minValue){  
        minValue = numbers[i];  
    }  
}  
return minValue;  
}  
//Find even numbers in array 
public static int even(int[] numbers)
{
int countLength = 0;

for (int i = 0; i < numbers.length; i++) {
    if (numbers[i] % 2 == 0) {
        countLength++; 
    }
}

return countLength; 
}

public static int odd(int[] numbers)
{
int countOdd =0;
for (int i=0; i<numbers.length; i++) {
    if (numbers[i] %2 != 0){
        countOdd++;
    }
}
return countOdd;

}

public static boolean isPrime(int numbers[]){
     for(int i=2; i<numbers.length; i++){
   if(numbers.length%i == 0){
       return false; //number is divisible so its not prime
        }
     }
     return true; //number is prime now
 }    

} 
```

没看懂问题出在哪里？它没有在输出中显示素数。我得到以下输出：

**输出**

```
Minimum Value = -73
Maximum Value = 99
Even Numbers = 14
Odd Numbers = 26 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T07:53:36.593

这是 isPrime 的更好变体：

```
public static int[] getPrime(int[] someNumbers) {
  int[] temp = new int[someNumbers.length];
  int cnt = 0;
  for (int num : someNumbers) {
    int max = num / 2;
    for (int i = 2; i <= max; i++) {
      if (num % i == 0) {
        temp[cnt++] = num;
      }
    }
  }
  int[] result = new int[cnt];
  System.arrayCopy(temp, 0, result, 0, cnt);
  return result;
} 
```

注意：要打印它，您必须遍历方法的结果并打印每个数字

```
public static void printArray(int[] anArray) {
  boolean firstRun = true;
  for (int num : anArray) {
    if (! firstRun) {
      System.out.print(", ");
    } else {
      firstRun = false;
    }     
    System.out.print("" + num);
  }
  System.out.println();
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T07:44:17.670

我认为这是问题所在。正确观察代码更改：-

```
for (int number = 0; number < numbers.length; number++) {
            // print prime numbers only
            if (isPrime(numbers[number])) {
                System.out.println("Prime= "+numbers[number]);
            }
        } 
```

`isPrime(number)`应该使用而不是`numbers[]`，然后你的`isPrime()`方法应该是

```
public static boolean isPrime(int number) {
        for (int i = 2; i < number; i++) {
            if (number % i == 0) {
                return false; // number is divisible so its not prime
            }
        }
        return true; // number is prime now
    } 
```

进行这些代码更改。它会工作的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T07:44:36.643

您正在尝试打印素数..是吗？然后删除我在下面编辑的双引号。

试试这个：当你试图打印素数时，在 for 循环中。

```
if(isPrime(numbers[i])){

   System.out.println(numbers[i]);
} 
```

代替

```
if(isPrime(numbers)){

   System.out.println("+ numbers");
} 
```

并编辑你的 isPrime 函数。

```
public static boolean isPrime(int numbers){
    for(int i=2; i<numbers; i++){
        if(numbers%i == 0){
            return false; //number is divisible so its not prime
        }
    }
     return true; //number is prime now
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-22T07:45:36.420

`List`您可以轻松地从数据中创建一个 java`Arrays.asList()`

对列表进行排序。您的第一个和最后一个元素现在是最小值和最大值。

使用[CollectionUtils.countMatches()](http://commons.apache.org/collections/apidocs/org/apache/commons/collections/CollectionUtils.html#countMatches%28java.util.Collection,%20org.apache.commons.collections.Predicate%29)并编写一个 Predicate 来测试数字是否为 isPrime、isEven、isOdd...

祝你好运！

# java - 连接正忙于另一个 hstmt 的结果

> ID：15019151
> 
> 赞同：5
> 
> 时间：2013-02-22T07:38:42.677
> 
> 标签：java

我正在尝试迭代 ResultSet 值以在 while 循环中插入查询。代码片段如下：

```
 String sel="select roll_no from Nursery";
    rs=stmt.executeQuery(sel);
    stmt1=con.createStatement();
    int aa;
    while(rs.next())
    {
        aa=rs.getInt(1);
        stmt1.executeUpdate("insert into [Nursery_FirstTerminal_marks](roll_no)values("+aa+")");
        //stmt.close();
    }

    JOptionPane.showMessageDialog(null, "Data has been inserted");
}
    catch(Exception e)
    {
        System.out.println(e);
        // JOptionPane.showMessageDialog(null, e);
    } 
```

但引发了以下给出的错误。

```
java.sql.SQLException: [Microsoft][ODBC SQL Server Driver]Connection is busy with results for another hstmt 
```

你能建议如何摆脱它..

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-22T07:41:00.680

这是由于您打开了针对同一连接的打开结果集。例如，您执行 SqlCommand 以从表中选择所有行，而结果集未耗尽，您尝试使用相同的连接执行另一个 SqlCommand，您将遇到此错误消息。

要解决这个问题，您有两种选择：

一个。确保在发送下一个 SqlCommand 之前从待处理的结果集中读取其余数据。

湾。使用 MARS（多活动结果集）连接设置在连接中启用多个活动结果集。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-09-24T08:36:11.593

在 C# 中，使用对象后可能会`Dispose`出现对象。`Command`对象的Autogarbage`Command`是不够的。尝试明确释放它。也许`Statement.close()`是你需要的。只是猜测。

# ios - 如何找出哪个是父（前一个）uiviewcontroller？苹果手机

> ID：15019155
> 
> 赞同：0
> 
> 时间：2013-02-22T07:39:09.983
> 
> 标签：ios, uiviewcontroller, parent

例如，我有 3 `UIViewController`s A、B、C。

我像这样走低谷`UIViewController`：

```
 A -> B -> C -> B -> A 
```

当我们到达`UIViewController`B 时，我想知道我是从 A 到达 B 还是从 C 到达。

所以我想知道哪个是`UIViewController`B的前一个。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T07:45:02.347

在其他答案之上，您可以为您来自的视图控制器维护一个标签，创建一个 int tagViewControllerFrom 的属性，并在您从 A 或 C 推送到 B 时设置它，为 A 设置 1 或 C 设置东西2，两者都应该被区分，然后在B的viewDidLoad中你可以使用if条件检查它并做accodingly。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T07:42:34.970

**试试这个：**

```
// In B

UIViewController* parentViewController = 
    (UIViewController*) [[self.view superview] nextResponder];

if ([parentViewController isEqualTo:viewControllerA])
{
}
else if ([parentViewController isEqualTo:viewControllerB])
{
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T07:42:03.070

您需要`weak`在控制器中维护一个引用（可能是`id`类型），并且可以在呈现新控制器时将父控制器分配给它

# php - PHP双while循环，第二个循环只运行一次

> ID：15019159
> 
> 赞同：0
> 
> 时间：2013-02-22T07:39:29.443
> 
> 标签：php

我想在第二个 while 循环的帮助下打印信息，但它只运行一次。

```
while($nextDate<$currentDate)
{
        $nextDate=date('Y-m-d',strtotime('+ 6 days',strtotime($weekDate))); 

        $qM="select count(*) as count ,Deposit.DepositNo, Deposit.DepositDate,
                     sum(DepositItem.Amount) as Amount,DAmount
                     from DepositItem
                     inner join Deposit on Deposit.DepositNo=DepositItem.DepositNo
                     where Deposit.DepositDate>='".$weekDate."' and Deposit.DepositDate<='".$nextDate."' group by Deposit.DepositNo 
                     order by Deposit.DepositNo desc";

        $connM=new dbconfig();
        $connM->connectdb();
        $connM->execute($qM);
        $amt=0;
        $damt=0;
        while($rowsM =$connM->fetch_row()) 
        {
            $amt=$amt+$rowsM['Amount'];
            $damt=$damt+$rowsM['DAmount'];
        }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T07:42:54.037

$nextDate 总是大于 $currentDate 因为您要添加 6 天

```
$nextDate=date('Y-m-d',strtotime('+ 6 days',strtotime($weekDate))); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T08:02:52.480

从您的代码来看，有太多未知数无法解决问题。

但是我在代码中写了一些注释来指出潜在的问题/调试建议：

```
// what are the (expected) values of $nextDate and $currentDate ?
while ($nextDate < $currentDate) {
    $nextDate = date('Y-m-d', strtotime('+ 6 days', strtotime($weekDate)));
    // this makes the big loop either run once (if $weekDate is within the 6 days interval)
    // or an infinite loop if it isn't

    $qM =   "select count(*) as count ,Deposit.DepositNo, Deposit.DepositDate,
             sum(DepositItem.Amount) as Amount,DAmount
             from DepositItem
             inner join Deposit on Deposit.DepositNo=DepositItem.DepositNo
             where Deposit.DepositDate>='" . $weekDate . "' and Deposit.DepositDate<='" . $nextDate . "' group by Deposit.DepositNo 
             order by Deposit.DepositNo desc";
    // do an echo $qM and copy it in Phpmyadmin, see if it returns expected results

    $connM = new dbconfig(); // not quite good to have these inside a loop
    $connM->connectdb(); // you should put these 2 lines outside
    $connM->execute($qM);
    $amt = 0;
    $damt = 0;
    while ($rowsM = $connM->fetch_row()) { // do a var_dump($rowsM) inside the loop
        $amt = $amt + $rowsM['Amount'];
        $damt = $damt + $rowsM['DAmount'];
    }
} 
```

# sql - 重复 2 列值时获取单行

> ID：15019161
> 
> 赞同：1
> 
> 时间：2013-02-22T07:39:34.130
> 
> 标签：sql, sql-server-2008

提前致谢。

我的客户收到了这件特定商品的发货，该商品具有基于他们的要求的 ID。在这个特定的请求项目上，ID 定义如下。

1.  条码 # - 机器生成
2.  可见# - 手动序列号

在项目本身上，条形码的实际值不显示，而是它们应该是等效的 visibleid。

```
 Example
        -------

||||||||| <Barcode # - C007587>
 C000001  <Visible # - C000001> 
```

这个项目的制造商虽然生成并打印了条形码#和可见#，但数字确实会重复。他们为我的客户提供了最终的 excel 表，并且必须将 excel 数据导入完成的数据库。但是在检查后我们发现数据有重复的 id。

```
DB Schema with row sample

SRNO    BarcodeID    VisibleID
----    ---------    ---------
1       C007587      C000001
2       C000001      C011704 
```

操作员大部分时间使用条形码扫描仪扫描物品上的 ID，但有时他们也手动输入值。

```
SQL Query I am using is as follows
----------------------------------

select * from <table> where barcodeid='C000001' or VisibleID='C000001' 
```

当执行上面的 SQL 代码时，出于显而易见的原因，我们得到 2 行，而我只需要得到 1 行。（只要在任一列中没有重复值，我们就会得到对我们有用的单行结果）。

### 注意：如果操作员键入或扫描 ID 代码，我将无法区分，也无法修改我们收到的 excel 文件。

因此，请就如何解决此问题并获得实际结果提出任何建议。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T07:48:31.863

如果不说明输入的来源（条形码/手动输入），则无法检测到这一点。

另外：条形码下方的数字通常是条形码编号本身，这也是条形码规范 (afaik) 的一部分。

但是，这并不总是可能的。我有一个使用人类可读 ID 和 RFID 标签的客户。RFID-ID 是 36 位十六进制数字代码，不适合人工输入。区分两者的解决方案是密钥的长度（以及输入源）。人类可读的 ID 始终为 4 位数字。

所以我可以提供3个解决方案：

1.  查询数据库时要考虑输入源。
2.  在条码下方打印条码#
3.  更改任一代码的代码长度。

# gwt - GWT SimplePager - 获取不正确的寻呼机索引 onclick 的 LastButton

> ID：15019166
> 
> 赞同：2
> 
> 时间：2013-02-22T07:39:49.700
> 
> 标签：gwt, pagination, pager, celltable

我正在使用我的 GWT 2.3 Celltable 和 SimplePager

通过扩展 SimplePager 类编写 CustomPager。

使用 ListBox 为 celltable 显示不同的页面大小，例如 10,20,50,100

当页面大小为 10 时，我在 celltable 中显示 11 条记录。（1 条空记录（行）+ 10 条记录（行）

当 pageSize = 20 则为 21 行（记录），当 pageSize = 50 则为 51 行（记录），当 pageSize = 100 则为 101 行（记录）。

Whenever selected page size 50 or 100, pager & display returning correct values so pagination working correctly, but not working in case of 10 & 20\. Strange :|

调试后发现如下东西：

当页面大小为 10 或 20 时，单击分页器的 lastPage 按钮会得到不正确的分页器 pageIndex 和不正确的 startIndex 值。

错误的 startindex = display.getVisibleRange().getStart()

```
//Following method called when button click event fires

 protected void onRangeChanged(HasData<RecordVO> display) {

            info("Called onRangeChanged method of AsyncDataProvider");

            eventType = "PAGINATION";

            setPrevPageIndexForChangedRecord();
            cellTable.setRowCount(searchRecordCount, false);

            startRowIndexOfPage = display.getVisibleRange().getStart(); // startRowIndex;
             // ------ My code is here

} 
```

单击寻呼机最后一个按钮时，错误值如下所示，假设页面大小=10，即 1 条虚拟记录 + 10 条实际记录。

```
 startRowIndexOfPage = display.getVisibleRange().getStart(); // startRowIndex;
    info("Start row index of page = "+startRowIndexOfPage);
    info("GWT Current page index = "+pager.getPage());
    info("GWT Total page count = "+pager.getPageCount());
    info("Gwt Total page size  = "+pager.getPageSize());
    info("Gwt page start index = "+pager.getPageStart()); 
```

当页面大小 = 10 时，分页器最后一个按钮的输出 onclick 不正确：

```
(-:-) 2013-03-05 09:53:22,136 [INFO ] Start row index of page = 990
(-:-) 2013-03-05 09:53:22,150 [INFO ] GWT Current page index = 90
(-:-) 2013-03-05 09:53:22,178 [INFO ] GWT Total page count = 91
(-:-) 2013-03-05 09:53:22,191 [INFO ] Gwt Total page size = 11
(-:-) 2013-03-05 09:53:22,204 [INFO ] Gwt page start index = 990 
```

**主要问题是 pager.getPage() 返回 90 而不是最后一页索引:(**

有没有办法解决这个问题？请为这个问题提供一些指示/解决方案。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T14:51:30.340

尝试使用以下算术运算找到`startRowIndexOfPage`-

```
 startRowIndexOfPage = display.getVisibleRange().getStart() - pager.getPage(); 
```

并确保`page limit is 10 not 11`. 并使您的寻呼机不知道您正在添加的额外空行。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-02T12:24:17.737

你试过这样吗？？

```
@Override
protected void onRangeChanged(HasData<YourObject> display) 
{
        int start = display.getVisibleRange().getStart();
        int end  = start + display.getVisibleRange().getLength();                
        if (ListOfYourObjects != null) 
        {
              end = end >= ListOfYourObjects.size() ? ListOfYourObjects.size(): end;
              List<YourObject> sub = ListOfYourObjects.subList(start, end);
              updateRowData(start, sub);
        }   
} 
```

# content-management-system - 我应该使用内容管理系统吗？

> ID：15019169
> 
> 赞同：1
> 
> 时间：2013-02-22T07:40:01.697
> 
> 标签：content-management-system, c1-cms

这个问题困扰了我将近一个星期。我已经开始使用 Composite C1（因为我已经有了一些 MVC3 代码）。我将概述我的高级要求：

*   用户配置文件（登录/注销/活动历史/游戏化等）
*   工具的配置文件页面（需要这个来存储帮助文档、培训视频、各种软件的评论）
*   论坛（我需要分析线程并执行情绪分析，所以我需要数据而不是托管在像 nabble 这样的第三方上）
*   为任务寻求者和提供者提供直观匹配的分类广告（基于某些规则）

由于我是使用 CMS 的新手，我不确定我是否真的会使用现成的任何东西。在我看来，我必须为每个功能构建一个自定义组件，所以我认为最好还是自己编写代码（ASP.Net MVC3 应用程序）。

如果我使用 C1 与自己编写代码相比，我是否会节省大量时间和精力（假设 Composite 的学习曲线也不错）？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T07:49:51.593

毫无疑问，您仍然会为您想要完成的事情编写代码，但是拥有 CMS 的优势在于它更易于管理。请记住，它是一种管理工具。它将为您提供一个用户界面，您可以在其中上传页面，以及特定页面（中间、底部等）的确切位置以及更多内容。我使用的一个 CMS 是 dotnetnuke 。你可以在这里查看。 [http://www.dotnetnuke.com/](http://www.dotnetnuke.com/) -->（它会在网站上为您提供类似的模板以及更多模板。您甚至可以自己制作）

# node.js - 托管 NodeJS 应用程序

> ID：15019171
> 
> 赞同：2
> 
> 时间：2013-02-22T07:40:21.320
> 
> 标签：node.js, hosting, express

我在本地使用 NodeJS 创建了我的个人网站，它运行良好。但是现在，我想在主机上托管我的应用程序。我试图在 AppFog 上托管，但它不起作用，会话并没有真正起作用，它们有时会破坏，我不知道问题出在哪里，因为它们在本地（会话）中运行良好......

此外，我的 JSDOM 模块出现错误，它不适用于 AppFog，但它适用于我本地安装的 NodeJS (v0.8.15)。

错误：

```
TypeError: Cannot read property 'implementation' of undefined
at exports.env.exports.jsdom.env.processHTML (/mnt/var/vcap.local/dea/apps/anthonycluse-1-  0c3b7373ee2a0a1334d2ea77a9bf22c8/app/node_modules/jsdom/lib/jsdom.js:178:59)
at Object.exports.env.exports.jsdom.env (/mnt/var/vcap.local/dea/apps/anthonycluse-1-   0c3b7373ee2a0a1334d2ea77a9bf22c8/app/node_modules/jsdom/lib/jsdom.js:269:5)
at exports.index.Creation.findAll.success.Post.findAll.success.async.map.res.render.creations (/mnt/var/vcap.local/dea/apps/anthonycluse-1- 0c3b7373ee2a0a1334d2ea77a9bf22c8/app/routes/index.js:50:23)
at _asyncMap (/mnt/var/vcap.local/dea/apps/anthonycluse-1-0c3b7373ee2a0a1334d2ea77a9bf22c8/app/node_modules/async/lib/async.js:222:13)
at async.each (/mnt/var/vcap.local/dea/apps/anthonycluse-1-0c3b7373ee2a0a1334d2ea77a9bf22c8/app/node_modules/async/lib/async.js:99:13)
at Array.forEach (native)
at _each (/mnt/var/vcap.local/dea/apps/anthonycluse-1-0c3b7373ee2a0a1334d2ea77a9bf22c8/app/node_modules/async/lib/async.js:32:24)
at async.each (/mnt/var/vcap.local/dea/apps/anthonycluse-1-0c3b7373ee2a0a1334d2ea77a9bf22c8/app/node_modules/async/lib/async.js:98:9)
at _asyncMap (/mnt/var/vcap.local/dea/apps/anthonycluse-1-0c3b7373ee2a0a1334d2ea77a9bf22c8/app/node_modules/async/lib/async.js:221:9)
at Object.doParallel [as map] (/mnt/var/vcap.local/dea/apps/anthonycluse-1- 0c3b7373ee2a0a1334d2ea77a9bf22c8/app/node_modules/async/lib/async.js:199:23) 
```

我在哪里可以毫无问题地托管我的 NodeJS 网站？

安东尼

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T07:45:28.780

许多人为此使用[Heroku 。](http://www.heroku.com/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T12:37:12.820

我用 GigaPros.com [node.js 托管](http://www.gigapros.com/portal/nodejs-hosting)我的 nodejs 。到目前为止，一路顺风顺水。您只需获得一个现成的 nodejs env 并在其上简单地部署您的 node.js 应用程序。这是一个不同的概念；试试看。

# c# - 如何使用 jQuery Datatables 和 ASP MVC 进行批量行更新

> ID：15019172
> 
> 赞同：1
> 
> 时间：2013-02-22T07:40:21.923
> 
> 标签：c#, javascript, jquery, asp.net, asp.net-mvc

我正在使用`ASP.NET MVC 4`和`jQuery Datatables`.

我有一个需要在网格中填充的服务器列表。这是简单的部分。我需要可编辑的功能。当我选择一行时，我需要能够编辑数据。我应该能够编辑任何行的数据。我不想在单元格编辑时进行更新。当我完成所有更新后，我点击一个按钮。该按钮获取网格中的所有数据并检查需要更新哪些行。然后我对数据存储进行更新。

jQuery Datatables 和 ASP MVC 可以做到这一点吗？我看到的样本似乎在编辑单元格后进行了更新。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-26T02:30:20.037

我最近在一个有类似用例的项目上工作。但是，我很好奇您为什么需要批量数据更新。对于我的项目，我将[jQuery DataTables](http://www.datatables.net/)与[Jeditable](http://www.appelsiini.net/projects/jeditable)配对。作为指南，您可能会发现[“用于 jQuery 的带有 jEditable 和 DataTables 插件的 MVC”](http://weblogs.asp.net/ericpanorel/archive/2012/02/12/MVC-3-and-dataTables.aspx)很有用。我个人喜欢使用这种组合的异步数据更新能力。希望这会为您指明正确的方向！

# google-chrome - 删除 chrome 开发工具脚本面板中的断点

> ID：15019174
> 
> 赞同：0
> 
> 时间：2013-02-22T07:40:29.897
> 
> 标签：google-chrome, ubuntu-12.04, google-chrome-devtools

在调试时，我在 chrome 脚本控制台中添加了一个断点。但调试后我把它删除了。

即使在删除它之后，它仍然存在，并且每次我加载页面时脚本都会暂停。我手动删除了该断点，尝试清除 cookie 和缓存，甚至重新启动浏览器，但它仍然存在。

请告诉我如何删除它 ![在此处输入图像描述](../Images/3b1a5f0fc03d2f8cd47f6bb9081efef8.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-18T06:54:56.203

我注意到这有时会发生在我身上，这可能是一个错误，也可能是由于在您一直播放当前中断的负载之前重新加载了页面。

如果您让代码完成，然后取消选择可能有助于修复它的断点。

# javascript - Javascript函数来确定一个点是否在一个矩形之间

> ID：15019176
> 
> 赞同：3
> 
> 时间：2013-02-22T07:40:38.933
> 
> 标签：javascript, point

我有一个 Javascript 函数没有返回我预期的结果。我正在尝试根据其他 2 个 x,y 点确定矩形内是否存在 x,y 点。在我的代码中，x 和 y 是有问题的原始点。z1 和 z2 是矩形的左上角坐标，z3 和 z4 是右下角坐标。

```
function isInside(x,y,z1,z2,z3,z4){
x1 = Math.min(z1, z3);
x2 = Math.max(z1, z3);
y1 = Math.min(z2, z4);
y2 = Math.max(z2, z4);
if ((x1 <= x <= x2) && (y1 <= y <= y2)) {
 console.log (x1 + "," + x + "," + x2); 
 console.log (y1 + "," + y + "," + y2);
 return true;
} else {
 return false;
};
}; 
```

如果我评估 isInside(110,175,50,50,100,100) 我是真的。这是出乎意料的，因为点 110,175 不存在于 50,50 和 100,100 的矩形内。任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-22T07:43:00.053

`(x1 <= x <= x2)`不做你想让它在 Javascript 中做的事情：你必须使用`x1 <= x && x <= x2`.

如果您为这些变量插入实际数字并在 Chrome 的控制台中尝试此操作，您会看到整个语句的计算结果始终为 true：

```
1 <= 3 <= 5
true
9 <= 3 <= 5
true 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-22T07:49:55.693

这是答案

```
function isInside(x, y, z1, z2, z3, z4) {
    x1 = Math.min(z1, z3);
    x2 = Math.max(z1, z3);
    y1 = Math.min(z2, z4);
    y2 = Math.max(z2, z4);
    if ((x1 <= x ) && ( x <= x2) && (y1 <= y) && (y <= y2)) {
        console.log(x1 + "," + x + "," + x2);
        console.log(y1 + "," + y + "," + y2);
        return true;
    } else {
        return false;
    };
}; 
```

如果您需要检查是否`x`介于两者之间`a`，并且`b`您必须与计算机交谈，例如，

如果 x 大于 a 并且 x 小于 b，那么它将给出正确的结果

```
if(x >= a && x <= b){
   // true
} 
```

# android - 当我尝试获取图像时，BitmapFactory.decodeFile() 返回 null

> ID：15019179
> 
> 赞同：-3
> 
> 时间：2013-02-22T07:40:53.603
> 
> 标签：android, bitmapfactory

```
 String imageInSD = Environment.getExternalStorageDirectory()+"/DCIM/Soovy/2089.jpg";         
 Bitmap bitmap = BitmapFactory.decodeFile(imageInSD);

 if(bitmap == null){                  
     Log.v("combine image", "null");
 }else{ 
     Log.v("combine image", "not null");                  
 } 
```

更新：使用 Environment.getExternalStorageDirectory() 感谢您的信息

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T07:49:39.287

不要直接访问 SD 卡，尝试通过`Environment`.

像这样：

```
String imageDir = Environment.getExternalStorageDirectory()+"/DCIM/Soovy/2089.jpg";

Bitmap bitmap = BitmapFactory.decodeFile(imageDir);

if(bitmap == null){                  
     Log.v("combine image", "null");
 }else{ 
     Log.v("combine image", "not null");                  
 } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T07:50:15.787

试试这个：

```
String imageInSD = "file:///mnt/sdcard/DCIM/Soovy/2089.jpg"; 
```

但是，您不应该对路径进行硬编码。采用

```
Environment.getExternalStorageState() 
```

获取 sdcard 的根目录。

```
String imageInSD = Environment.getExternalStorageState() + "/DCIM/Soovy/2089.jpg"; 
```

# html - 什么是“浏览器铬”？

> ID：15019186
> 
> 赞同：1
> 
> 时间：2013-02-22T07:41:29.187
> 
> 标签：html, css, browser

以下引用来自 O'Reilly Definitive Guide to CSS：

> Mozilla 和相关浏览器使用 CSS 来影响浏览器 chrome 本身的呈现

在这种情况下，“chrome”一词的实际含义是什么？仅仅是显示区域吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-22T07:43:36.763

chrome 是实际浏览器的 UI，不仅仅是页面中显示的内容，还有主题位，如按钮、菜单、选项卡等

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-22T07:58:59.760

**browser chrome** '<code>Browser chrome 是对 Web 浏览器窗口的图形框架和元素的委婉说法。

`Google Chrome`不要将“浏览器 chrome”与Web 浏览器混淆。

Chrome 包括网络浏览器：

*   标题栏，
*   工具栏按钮：“后退”、“前进”、“停止”等，
*   水平和垂直滚动条，
*   状态栏：浏览器窗口底部的条带，以及窗口框架。

浏览器 chrome 可以通过使用“皮肤”进行修改；（通常）第三方软件扩展，可用于自定义颜色、图形处理和界面隐喻。

更多阅读[浏览器和 GUI Chrome](http://www.nngroup.com/articles/browser-and-gui-chrome/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T08:04:24.623

Chrome 浏览器是用户界面。随着文件菜单和设置菜单等它还包括后退和刷新。

在页面的底部，它包含状态栏加载了多少等。

它还可以包括最小化最大化和关闭按钮。不包括网页内容。

# java - 使用 Javascript SDK 或 Feed 对话框为发布到 Facebook 页面生成预览

> ID：15019189
> 
> 赞同：3
> 
> 时间：2013-02-22T07:41:38.873
> 
> 标签：java, javascript, facebook, facebook-javascript-sdk, fb.ui

我们运行一个 java 应用程序以允许用户发布到他们的粉丝页面（在内部使用图形 API 调用）。我们希望在发布帖子并找到[Feed Dialog](https://developers.facebook.com/docs/reference/dialogs/feed/)之前在 facebook 上生成帖子的预览。但是，该对话框假定用户已登录并将发布到用户墙。

有没有办法告诉该对话框使用 pageID 和 accessToken 在用户未登录的情况下发布到特定页面？

或者：还有其他方法可以生成帖子预览吗？对于 facebook 从目标元数据和内容生成数据的链接帖子，我们尤其需要这个，这很难模仿。

谢谢！

# xcode - 如何重新组装依赖于 QT 的反汇编 .dylib (Mac OS X) (.asm)？

> ID：15019191
> 
> 赞同：0
> 
> 时间：2013-02-22T07:41:53.257
> 
> 标签：xcode, macos, qt, assembly, disassembly

我使用 hopper disassembler 反汇编了一个 dylib 文件，这个库依赖于 QT 框架。我只是在汇编代码中更改了一些指令，并尝试使用 hopper 中的选项来“生成新的可执行文件”。它在没有我更改的情况下创建了源文件的副本。我认为这是因为这是一个库而不是可执行文件。我可以保存到 .asm 文件，但现在我不知道如何重新组合文件以使库像以前一样工作。我需要在 XCode 中编程才能做到这一点吗？我可以按照网络上的教程来执行此操作吗？我可以使用 MonoDevelop 执行此操作吗？请让我知道，因为我在这里完全一无所知。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T08:07:12.730

不能直接用十六进制编辑器对库进行操作吗？

# iphone - 不使用 Graph API 在朋友墙上发布消息

> ID：15019195
> 
> 赞同：1
> 
> 时间：2013-02-22T07:42:03.477
> 
> 标签：iphone, ios, facebook

之前我使用下面的代码发布朋友墙，效果很好。

```
NSMutableDictionary  *postVariablesDictionary = [[NSMutableDictionary alloc] init];
 [postVariablesDictionary setObject:@"Please download Hollywood Burger <https://itunes.apple.com/in/app/doodlify/id578182515>" forKey:@"message"];
  [FBRequestConnection startWithGraphPath:[NSString stringWithFormat:@"%@/feed",[selectedFBfriendsArray objectAtIndex:i] ] parameters:postVariablesDictionary HTTPMethod:@"POST" completionHandler:^(FBRequestConnection *connection, id result, NSError *error) {
                  NSLog(@"result is %@",result);
                NSLog(@"error is %@",[error description]);
} 
```

但 Facebook 不推荐使用 Graph API 在朋友墙上发帖，请参阅此链接

> **[http://facebook.stackoverflow.com/questions/14792062/posting-to-friends-wall-with-graph-api-via-feed-connection-failing-since-feb](http://facebook.stackoverflow.com/questions/14792062/posting-to-friends-wall-with-graph-api-via-feed-connection-failing-since-feb)**。

我可以使用 Feed 对话发布朋友墙

```
>     NSMutableDictionary* params = [NSMutableDictionary dictionaryWithObjectsAndKeys:
>                                    @"401253773268767", @"app_id",
>                                    @"Reference Documentation", @"caption",
>                                    @"Using Dialogs to interact with users.", @"description",
>                                    @"1821531148",@"to",
>                                    nil];
>     [self.facebook dialog:@"feed" andParams:params andDelegate:self]; 
```

但是，我需要在选定的朋友（多个朋友）墙上发布帖子。

你能帮我一个人吗..

提前致谢。

# c# - 无法使用 Gridview 的 RowCreated 上的 FindControl 找到控件

> ID：15019204
> 
> 赞同：2
> 
> 时间：2013-02-22T07:42:54.847
> 
> 标签：c#, asp.net, gridview, findcontrol

我正在使用网格视图，这是我的模板字段之一：

```
<asp:TemplateField HeaderText="Quantity" SortExpression="Quantity">
    <HeaderTemplate>
        <asp:Label ToolTip="Quantity" runat="server" Text="Qty"></asp:Label>
    </HeaderTemplate>
    <EditItemTemplate>
        <asp:TextBox ID="txt_Quantity" runat="server" Text='<%# Bind("Quantity") %>' Width="30px"
            Enabled='True'></asp:TextBox>
    </EditItemTemplate>
</asp:TemplateField> 
```

我想像这样达到 txt_Quantity

```
 protected void begv_OrderDetail_RowCreated(object sender, GridViewRowEventArgs e)
    {
        TextBox txt_Quantity = (TextBox)e.Row.FindControl("txt_Quantity");
        txt_Quantity.Attributes.Add("onFocus", "test(this)");
    } 
```

这是错误消息：

> System.NullReferenceException：对象引用未设置为对象的实例。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T07:46:42.093

`RowCreated`对每个[`RowType`](http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.gridviewrow.rowtype.aspx)（顺便说一句，与 with 相同`RowDataBound`）执行，因此对于页眉、数据行、页脚或寻呼机。

第一行是标题行，但`TextBox`在带有`RowType`=的行中[`DataRow`](http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.datacontrolrowtype.aspx)。由于它在`EditItemTemplate`您还必须检查[`EditIndex`](http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.gridview.editindex.aspx)：

```
protected void begv_OrderDetail_RowCreated(object sender, GridViewRowEventArgs e)
{
    if (row.RowType == DataControlRowType.DataRow
       && e.Row.RowIndex == begv_OrderDetail.EditIndex)
    {
        TextBox txt_Quantity = (TextBox)e.Row.FindControl("txt_Quantity");
        txt_Quantity.Attributes.Add("onFocus", "test(this)");
    }
} 
```

请注意，如果您枚举 的[`Rows`](http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.gridview.rows.aspx)属性，`GridView`您只会得到带有`RowType`=的行`DataRow`，因此页眉、页脚和分页将被省略。所以这里不需要额外的检查：

```
foreach(GridViewRow row in begv_OrderDetail.Rows)
{
    // only DataRows
} 
```

# java - cassandra中的随机列获取

> ID：15019205
> 
> 赞同：5
> 
> 时间：2013-02-22T07:42:57.777
> 
> 标签：java, cassandra

我正在使用此代码获取 user_id 和 user_code

```
Keyspace keyspace = HFactory.createKeyspace("test", cluster);
CqlQuery<String,String,ByteBuffer> cqlQuery = new CqlQuery<String,String,ByteBuffer>(keyspace, stringSerializer, stringSerializer, new ByteBufferSerializer());
cqlQuery.setQuery("select user_id,user_code from User");
QueryResult<CqlRows<String,String,ByteBuffer>> result = cqlQuery.execute();
Iterator iterator = result.get().iterator();
while(iterator.hasNext()) {
    Row<String, String, ByteBuffer> row =  (Row<String, String, ByteBuffer>) iterator.next();
    System.out.println("\nInserted data is as follows:\n" + row.getColumnSlice().getColumns().get(0).getValue().getInt());
    System.out.println("\nInserted data is as follows:\n" + Charset.forName("UTF-8").decode(row.getColumnSlice().getColumns().get(1).getValueBytes()));
} 
```

现在问题出在这里，我正在根据它们的特定类型转换字段

如果查询是随机的怎么办？如何处理这种情况？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-24T05:03:11.627

CQL 查询返回有关它们包含的列的元数据，类似于 JDBC 结果集。

我不知道赫克托是否或如何公开这些信息。对于 CQL，更好的选择是新的纯 CQL 驱动程序：[https ://github.com/datastax/java-driver](https://github.com/datastax/java-driver)

# php - preg_replace 带有标签的字符串

> ID：15019211
> 
> 赞同：0
> 
> 时间：2013-02-22T07:43:12.363
> 
> 标签：php, regex

我有以下字符串，我想删除以下标签之间的所有内容，包括这些标签：

```
<br> and the </span>

<a class='interactive' href='http://mathbench.umd.edu/modules/microbio_counting-methods/page01.htm' target='_blank' alt='Counting bacteria' >Counting bacteria<br><span class='attribute'> - University of Maryland</span></a> 
```

我已经尝试过`preg_replace('/<br>.*?</a>/', '', $link)`，但这似乎删除了href ...

有什么想法我应该怎么做？

**编辑：** 使用后：

```
 preg_replace('/<br>.*?<\/span>/', '', $link) 
```

我现在在源代码中看到：

```
 <tr>
    <td><a class='interactive' href='http://www.proteinatlas.org/' target='_blank' alt='The protein atlas' >The protein atlas<br><span class='attribute'> - Uppsala Univeristät</td> 
    <td width='16' align='center' valign='middle'><a class='delete_link' href='#' data_link='%3Ca+class%3D%27interactive%27+href%3D%27http%3A%2F%2Fwww.proteinatlas.org%2F%27+target%3D%27_blank%27+alt%3D%27The+protein+atlas%27+%3EThe+protein+atlas%3Cbr%3E%3Cspan+class%3D%27attribute%27%3E+-+Uppsala+Univerist%C3%A4t' data_topic='161' data_introduction=''><img src="../images/delete.png" width="16" height="16" alt="delete" title="delete this link" border='0' /></a></td>
  </tr>
  <tr>
    <td> funded by the Knut and Alice Wallenberg Foundation</span></a></td> 
    <td width='16' align='center' valign='middle'><a class='delete_link' href='#' data_link='+funded+by+the+Knut+and+Alice+Wallenberg+Foundation%3C%2Fspan%3E%3C%2Fa%3E' data_topic='161' data_introduction=''><img src="../images/delete.png" width="16" height="16" alt="delete" title="delete this link" border='0' /></a></td>
  </tr> 
```

**编辑：** 也试过了；

```
preg_replace('/<br><span class=\'attribute\'>.*?<\/span>/', '', $link) 
```

但问题仍然存在。

**编辑**

仍然看到源显示为：

```
<a class='interactive' href='http://www.tinyurl.com/immunologygame/' target='_blank' alt='Innate Immunology game' >Innate Immunology game<br><span class='attribute'> - University of Ballarat</span></a> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T07:48:16.013

**试试这个 ：**

```
<?php

$str = "<a class='interactive' href='http://mathbench.umd.edu/modules/microbio_counting-methods/page01.htm' target='_blank' alt='Counting bacteria' >Counting bacteria<br><span class='attribute'> - University of Maryland</span></a>";

$r = '/<br>(.+?)<\/span>/';

$str = preg_replace($r, '', $str);

echo $str;

?> 
```

**输出 ：**

```
<a class='interactive' href='http://mathbench.umd.edu/modules/microbio_counting-methods/page01.htm' target='_blank' alt='Counting bacteria' >Counting bacteria</a> 
```

* * *

**演示：** [http ://regexr.com?33s84](http://regexr.com?33s84)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T10:09:04.700

试试这个

```
$str = "<a class='interactive' href='http://mathbench.umd.edu/modules/microbio_counting-methods/page01.htm' target='_blank' alt='Counting bacteria' >Counting bacteria<br><span class='attribute'> - University of Maryland</span></a>";

echo htmlspecialchars(preg_replace('#(<a[^>]+?>)([^<>]+).*#i', '$1$2</a>', $str)); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T07:49:53.503

只需使用这个简短的模式：

```
/<br>.*?<\/span>/ 
```

输出将是这样的：

```
<a class='interactive' href='http://mathbench.umd.edu/modules/microbio_counting-methods/page01.htm' target='_blank' alt='Counting bacteria' >Counting bacteriabla</a> 
```

# ember.js - Ember App.Router.router.currentState 未定义

> ID：15019212
> 
> 赞同：1
> 
> 时间：2013-02-22T07:43:19.527
> 
> 标签：ember.js

我想监视 App.Router.router.currentState 以激活/停用导航链接。类似于此处解释的内容：[https ://stackoverflow.com/a/13312466/674525](https://stackoverflow.com/a/13312466/674525)

但是，属性 currentState 似乎不再存在于路由器中。App.get('Router.router.currentState') 返回未定义。

我想，它在最近的 Ember 版本中发生了变化。还有另一种方法吗？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-06-05T08:21:44.083

我相信使用新 Ember 构建的“教科书”方式将是：

```
App.SomeController = Ember.Controller.extend({
    needs: 'application',
    someFunction: function(){
        var state = this.get('controllers.application.currentPath');
    }
}) 
```

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2013-02-22T09:24:19.267

对我来说，当前版本有点复杂，但至少它有效：

```
var router = App.__container__.lookup("router:main"); //lookup the router
var currentHandlerInfos = r.router.currentHandlerInfos; //there are multiple handlers active at one time
var activeHandler = currentHandlerInfos[currentHandlerInfos.length - 1]; // the last item in the array is the current handler with properties like name, context, handler (Ember.Route)
var activeRoute = activeHandler.handler; //your route object 
```

此代码的灵感来自阅读此[Ember Source](https://github.com/emberjs/ember.js/blob/master/packages/ember-routing/lib/vendor/router.js#L272)。我还没有在一个有很多路线的复杂应用程序中测试它，但我非常有信心，它会正常工作。也许有人有更精简的方式来做到这一点:-)

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2013-02-24T10:26:18.190

行。解决了这个问题。似乎 currentPath 是在 applicationController 实例中设置的。所以我这样做了：

```
App = Em.Application.create({

    currentPath: '',

    ApplicationController : Ember.Controller.extend({
        updateCurrentPath: function() {
            App.set('currentPath', this.get('currentPath'));
        }.observes('currentPath')
    }),

    ...

}); 
```

然后，我可以从代码中的任何位置绑定或观察 App.currentPath 并对其更改做出反应。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-08-18T07:31:55.697

这个例子来自我的组件。所有实体都有属性 - 容器。

`GetCurrentPath:-> app = @container.lookup('controller:application') return app.get 'currentPath'`

# c# - 将代码签名证书导入浏览器

> ID：15019215
> 
> 赞同：0
> 
> 时间：2013-02-22T07:43:28.793
> 
> 标签：c#, asp.net, browser, certificate, code-signing-certificate

我想在 silverlight 5 中实现屏幕截图功能。我从 go-daddy 购买了代码签名证书。我们需要做以下事情来归档目标。

1.  签署 xap 文件（在服务器上配置）

2.  使用 mmc.exe 在用户帐户下的 Trusted Publishers 容器中添加代码签名证书。（在服务器上配置）

3.  在注册表中添加一个键 (AllowElevatedTrustAppsInBrowser)。（使用自定义 exe 在最终用户上配置）

4.  将证书导入浏览器。（最终用户）

我需要手动将证书导入浏览器以实现目标。

但我希望它是自动化的，因为我无法指示最终用户将证书导入您的浏览器。

我在想证书可以在访问应用程序期间自动导入浏览器。请提出我所缺少的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T12:39:24.723

我得到了解决方案。这很简单。让我试着解释一下。

如果我们在 Trusted Publishers 容器中添加/删除代码签名证书。它将在浏览器证书中生效，反之亦然。

# wpf - Clean Implementation 在 MVVM ViewModel 中显示弹出错误消息

> ID：15019221
> 
> 赞同：1
> 
> 时间：2013-02-22T07:43:56.127
> 
> 标签：wpf, silverlight, design-patterns, mvvm, messagebox

我希望能够显示带有错误和警告的弹出窗口。这些来自我`ViewModel`和我的应用程序中的其他实用程序。
我有一个`MessageBoxHelper`为我提供此功能的静态类。

我现在确实遇到了我的可测试性问题。如果我想验证失败记录我的测试触发器`MessageBox`并且我在我的测试中得到一个`UI thead exception`。

我想实现一个干净的松散耦合系统，只需少量开销即可提供此功能。我已经想出了两个想法，但对我来说仍然有很多缺点：

1.  实现`IMessageBoxHelper`在我的`DI Container`. 这需要我向我的`Constructor`. 而且我想避免拥有一个巨大的构造函数。
2.  而不是调用`MessageBoxHelper`直接与我发送消息`EventAggregator`并实现`MessageBoxListener`单例捕获这些`Messages`并显示它们。但这对我来说似乎有点过度了。

这些想法中的任何一个都是正确的还是有其他方法？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T07:47:05.980

如果您的视图模型依赖于能够显示消息框（例如`IMessageBoxHelper`），为什么不通过注入依赖项使这一点变得明显呢？单元测试将很容易等。我认为选择解决方案 1 没有问题。

# search - 使用 sphinxsearch 搜索类似产品 sku

> ID：15019223
> 
> 赞同：0
> 
> 时间：2013-02-22T07:44:00.930
> 
> 标签：search, kohana, sphinx

我的电子商务网站中有搜索表单。搜索引擎是 Sphinxsearch。

我有类似 sku 的产品（04078、PS04078、DS04078、04078-1、04078-2、4078-3）。

* * *

我无法弄清楚如何配置 sphinx 以获得我需要的结果的问题：

按“04078”搜索只会给我 sku 04078 的项目，但不是全部 6 个项目。

**如何获取结果集中的所有 6 个项目？**

我的自信：

```
source products
{
        type                    = mysql
        sql_host                = #
        sql_user                = #
        sql_pass                = #
        sql_db                  = #
        sql_port                = # 
        sql_query_pre = SET CHARACTER SET utf8
        sql_query               = \
                SELECT id,price,name,sku,producer_name \
                                        FROM products
        #sql_attr_string         = post_title
        #sql_field_string        = post_content
        sql_query_info          = SELECT * FROM products WHERE id=$id

}

index products
{
        source                  = products
        path                    = /var/data/products
        docinfo                 = extern
        mlock                   = 0
        charset_type = utf-8
        html_strip = 1
        html_remove_elements = style, script
        enable_star = 1
        min_word_len = 1
        min_infix_len = 3
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T11:41:45.647

2.1.1 beta 中的新正则表达式过滤器听起来只是将产品代码转换为一致形式的门票......

[http://sphinxsearch.googlecode.com/svn/trunk/doc/sphinx.html#conf-regexp-filter](http://sphinxsearch.googlecode.com/svn/trunk/doc/sphinx.html#conf-regexp-filter)

# java - 在 WebSpher 8 中部署 EAR 文件包含 jaxb-xjc-2.1.12.jar 的问题

> ID：15019224
> 
> 赞同：0
> 
> 时间：2013-02-22T07:44:01.133
> 
> 标签：java, websphere, classloader, application-server

我们在*Websphere 8.5.0.1*堆栈上部署 EAR 文件时遇到问题。Ear 包含 `jaxb-xjc-2.1.12.jar`定义了 [ `1.0/org/apache/xml/resolver/tools`] 的包，但应用程序将其视为 [ `1/0/org/apache/xml/resolver/tools`]。

问题是微不足道的，我们是否收到了一些警告消息，但看起来不太好

> 警告：无法从模块 [WEB-INF/lib/jaxb-xjc-2.1.12.jar] 打开资源 [1/0/org/apache/xml/resolver/tools/CatalogResolver.class]

我理解这是因为注释处理在 WAS8.501 中启用，并且未出现在以前版本的 Websphere 服务器中。经过一番研究，我们发现我们可以将其设置为忽略扫描，如下所示。

> 忽略扫描存档：jaxb-xjc-2.1.12.jar
> 忽略扫描包：1.0

但对我不起作用。

任何替代想法将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T07:51:23.137

[更新]

> 我们已就此问题与 IBM 进行了核对，他们已确认 Websphere 8.5.0.1 存在问题。他们将在 Websphere 8.5.0.3 中修复

# c# - 指定的初始化向量 (IV) 与此算法的块大小不匹配

> ID：15019236
> 
> 赞同：2
> 
> 时间：2013-02-22T07:45:11.637
> 
> 标签：c#, exception, cryptography

我正在尝试用 c# 制作一个加密系统。这是加密的代码。

```
public static void EncryptFile(string inFile, string outFile, string @inkey)
    {
        try
        {
            UnicodeEncoding ue = new UnicodeEncoding();
            byte[] key = ue.GetBytes(inkey);
            FileStream fsEncrypt = new FileStream(outFile, FileMode.Create);

            RijndaelManaged rmCrypto = new RijndaelManaged();

            CryptoStream cs = new CryptoStream(fsEncrypt, rmCrypto.CreateEncryptor(key, key), CryptoStreamMode.Write);
            FileStream fsIn = new FileStream(inFile, FileMode.Open);

            int data;
            while((data=fsIn.ReadByte()) != 1){
                cs.WriteByte((byte)data);
            }

            fsIn.Close(); cs.Close(); fsEncrypt.Close();
        }
        catch(Exception ex)
        {
            MessageBox.Show(ex.Message, "Fail to encrypt", MessageBoxButtons.OK, MessageBoxIcon.Error);
        }
    } 
```

现在，这段代码每次运行时都会抛出异常，说

> 指定的初始化向量 (IV) 与此算法的块大小不匹配

我读过关于这个的其他讨论，说字节数有问题（我传递给这个函数的密钥长度是 255）。但我已经尝试让密钥只有 16 个字节，但仍然无法正常工作。

经过一些故障排除后，我发现这部分：

`CryptoStream cs = new CryptoStream(fsEncrypt, rmCrypto.CreateEncryptor(key, key), CryptoStreamMode.Write);`

抛出异常。我不知道为什么。任何人都可以帮忙吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-22T07:52:12.690

您将密钥两次传递给[`CreateEncryptor`](http://msdn.microsoft.com/library/f9df14hc.aspx)，但它需要一个密钥和一个 IV （[初始化向量](http://en.wikipedia.org/wiki/Initialization_vector)）。第二个参数应该是一个包含 128 个随机位的数组。128 位是 RijndaelManaged 的​​默认块大小，但它也接受其他值（例如 256）。阅读[此](http://simpledotnetsolutions.wordpress.com/2012/03/22/using-rijndaelmanaged-to-encryptdecrypt/)内容以获取更多信息。正如 Grzegorz W 在评论中指出的那样，您可能还需要选择[不同的密钥大小](http://msdn.microsoft.com/library/system.security.cryptography.symmetricalgorithm.legalkeysizes.aspx)。

如果您不熟悉加密（在这种情况下，您应该在实施自己的解决方案之前停下来了解更多信息，或者使用现成的解决方案），[IV 的功能](https://stackoverflow.com/q/65879/520779)是防止两次编码的相同消息产生相同的密文。对于每条消息（以及消息的每次使用），它应该是随机的，不需要保密，但您需要存储它以便以后能够解密消息（即加密后不能丢弃它）。

# c# - 单击按钮时添加数字

> ID：15019237
> 
> 赞同：0
> 
> 时间：2013-02-22T07:45:14.610
> 
> 标签：c#, events, button

我做了一个计算总价的应用程序，我希望当单击按钮时，它会在数量上加 1，但它只加 1，当我再次单击按钮时，它不加，有没有办法循环一个按钮？

这是我的示例代码

```
int intclicks;

private void button10_Click(object sender, EventArgs e)
{

    intclicks++;
    int qty = 1;
    {
        if (intclicks > 0)
        {
            int totalqty;
            totalqty = qty + 1;
            textBox3.Text = totalqty.ToString();
            totalPrice();
        }
    }

} 
```

套装在另一个中`totalPrice();`显示总价`textBox`，谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T07:46:56.393

您在事件开始时分配`qty =1`，所以，是的，它从头开始。

这里缺少太多，但似乎您可以使用：

```
int qty = int.Parse(textBox3.Text);
... 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T07:50:39.523

当您单击 GUI 程序中的按钮时，它会触发一次事件。ClickEvent 中的循环似乎不是很有用，因为它会阻塞主线程，因此您的 UI 会冻结。您可以启动一个在后台循环的线程。有关线程，请参阅[MSDN](http://msdn.microsoft.com/en-us/library/ms173178%28v=vs.100%29.aspx)。请进一步解释您想要实现的目标。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T07:50:41.543

那是因为您在循环开始之前设置了 int qty= 1 并且在您的 if 条件下您正在检查 if (intclicks > 0)。因此，当您第一次单击该按钮时，它将检查 if (intclicks > 0) 但由于您已设置 qty = 1，因此条件将为 false，并且不会进入 if 条件。所以将 if 条件更改为

```
if (intclicks >= 1) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-22T07:51:14.507

我认为您的逻辑对于（我相信）您正在尝试做的事情有点过分，为什么不尝试。

```
int intclicks;
int totalqty;

private void button10_Click(object sender, EventArgs e)
{

    intclicks++;
    if (intclicks > 0)
    {
        totalqty++
        textBox3.Text = totalqty.ToString();
        totalPrice();
        intclicks = 0;
    }
} 
```

# facebook - localhost:8080 上的 Facebook 服务器端 OAuth 2.0 无法获取缺少 redirect_uri 的访问令牌

> ID：15019238
> 
> 赞同：1
> 
> 时间：2013-02-22T07:45:26.347
> 
> 标签：facebook, playframework-2.0, oauth-2.0, localhost, facebook-oauth

还有许多与此相关的其他问题，但他们并没有帮助我解决我的问题。

我正在使用 Facebook 服务器端登录网站，我想在本地进行测试。启动登录操作的路径是 [http://localhost:8080/fblogin]（这会重定向到 Facebook 登录对话框，并从那里开始）。

我可以成功获取代码，但是当我尝试将其交换为访问令牌时，出现以下错误：

```
{"error":{"message":"Missing redirect_uri parameter.","type":"OAuthException","code":191}} 
```

我提供了redirect_uri，url编码，它与我用来获取第一个代码的相同。这是我用来请求访问令牌的 url（当然，全大写查询字符串参数替换为它们的实际值）：

> [https://graph.facebook.com/oauth/access_token?client_id=CLIENT_ID&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Ffblogin&client_secret=CLIENT_SECRET&code=CODE_FROM_FB](https://graph.facebook.com/oauth/access_token?client_id=CLIENT_ID&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Ffblogin&client_secret=CLIENT_SECRET&code=CODE_FROM_FB)

我怀疑这可能与我的应用在 Facebook 上的设置方式有关。以下是我设置的值：

```
Display Name: (an actual display name here) 
App Domains: localhost 
Contact email: (an actual email here) 
Site URL: [http://localhost:8080/fblogin] 
```

我需要在设置中进行哪些调整才能使其正常工作？或者这看起来正确吗？

顺便说一句，如果有什么不同的话，我正在使用 Play！框架，版本 2.0.1

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T15:40:27.013

经过一番挖掘，我发现在从我的服务器发送请求以获取访问令牌时，我有必要使用 POST。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-11T03:24:54.763

有趣的是，使用 POST 对你有用，因为这对我没有用。

无论如何，您是否使用 setQueryParameter() 添加了查询参数？（参见[如何在 play 2 中发出多个 http 请求？](https://stackoverflow.com/questions/12758956/how-to-make-multiple-http-requests-in-play-2/12768985#12768985)）

# command-line - 对文件夹中的多个文件运行命令行

> ID：15019242
> 
> 赞同：0
> 
> 时间：2013-02-22T07:45:46.200
> 
> 标签：command-line, vbscript

我想要一个简单的 vbscript 甚至只是一个命令行单行器，它允许我（在伪代码中）：

```
for each file FL (*.ts) in folder
   run command 'ffprobe -show_frames -select_streams 1 -print_format csv -i "folder\FL" > "folder\FL.Name.csv"'
next 
```

就像代码说的那样，我只希望它适用于 .TS 类型的文件，我需要通过该命令行运行文件夹中的每个文件并将标准输出重定向到 csv 文件。我可以在 C# 中创建一个小程序，但我宁愿有一个轻量级的脚本或其他东西，而且我是新手。有任何想法吗？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-02-22T12:47:58.470

可以像这样处理给定文件夹中具有特定扩展名的文件：

```
Set sh  = CreateObject("WScript.Shell")
Set fso = CreateObject("Scripting.FileSystemObject")

For Each f In fso.GetFolder("C:\foo").Files
  If fso.GetExtensionName(f) = "ts" Then
    sh.Run "...", 0, True
  End If
Next 
```

将输出重定向到 CSV 文件（恕我直言）最好通过运行 VBScript`cscript.exe`并将 STDOUT 重定向到文件来完成：

```
cscript your.vbs > output.csv 
```

# expect - 修剪期望脚本的输出

> ID：15019244
> 
> 赞同：1
> 
> 时间：2013-02-22T07:46:28.963
> 
> 标签：expect

我是 Expect 脚本的新手。我有用 bash 脚本编写的 Expect 脚本。该脚本返回我需要的统计数据，但还有来自终端的许多其他内容。“**有什么方法可以让我只得到命令的精确输出**吗？” 我花了一天时间搜索各种论坛，但没有任何运气。任何形式的帮助将不胜感激。

```
Stats = $(expect -c "  
spawn ssh $Username@$Host  
expect \"password:\"  
send \"$Password\r\"  
expect \"\\\\$\"  
send \"ps -A | grep java\r\"  
expect -re \"$USER.*\"  
send \"logout\"  
") 
```

回声 $Stats > someFile.txt

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T08:02:23.830

除了命令输出之外，您可以关闭日志记录：

```
expect -c "
  log_user 0
    spawn ssh $Username@$Host  
    expect \"password:\"  
    send \"$Password\r\"  
    expect \"\\\\$\"  
  log_user 1
    send \"ps -A | grep java\r\"  
    expect -re \"$USER.*\"  
    send \"logout\"  
 " 
```

# java - 如何解决 groovy/grails 工具套件参考？

> ID：15019254
> 
> 赞同：0
> 
> 时间：2013-02-22T07:46:55.907
> 
> 标签：java, linux, grails, groovy, sts-springsourcetoolsuite

我一直在使用具有 openjdk 7 的台式计算机。

当我将 Grails 项目复制到装有 Oracle JDK v7 的笔记本电脑上时，我遇到了类路径问题。

我检查了类路径，一切似乎都很好。

这是 GGTS 显示的文本：

```
The archive: /usr/lib/jvm/java-7-openjdk-amd64/lib/tools.jar which is
referenced by the classpath, does not exist 
```

我在 /etc/profile 中设置了 JAVA_HOME。

我安装了 gvm 是为了使 Groovy 和 Grails 设置更容易。

我希望你能帮助我

:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-09-23T13:28:44.667

然后我转到顶部的**RUN 菜单选项并选择****运行配置**

它在： **Grails \ {Myproject}（运行应用程序）**

在此运行应用程序的右侧有 JRE 选项

在 JRE 下确保您在这种情况下定义了与项目相同的 JRE 1.6

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T16:00:13.077

我猜您项目中的 JRE 引用很糟糕。您的桌面 Windows 和笔记本电脑是 mac 还是 linux（反之亦然）？

试试这些东西：

1.  /usr/lib/jvm/java-7-openjdk-amd64/lib/tools.jar 路径是否存在于损坏的系统上？
2.  您可以在损坏的系统上创建其他类型的项目吗？
3.  你能在损坏的 GGTS 中从头开始创建一个新的 Grails 项目吗？
4.  如果您运行 Grails -> 刷新项目的依赖关系会发生什么？

# java - 使用 netbeans 定义的 GUI 在 postgreSQL 中调用位于“postgres.c”中的用户定义函数

> ID：15019257
> 
> 赞同：1
> 
> 时间：2013-02-22T07:47:16.293
> 
> 标签：java, c, postgresql, global-variables, postgresql-8.4

我正在尝试将 3 个 user_defined 函数添加到 PostgreSQL-8.4.15。这里有3个功能：

(1)`start_create_profile();`

(2)`make_profile();`

(3)`check_anomaly();`

所有这些都写在位于 src/backend/tcop 的文件“test.c”中。我想从`exec_simple_query()`. `exec_simple_query()`是在 src/backend/tcop 中的“postgres.c”中编写的 PostgreSQL 函数。我想通过我的 GUI 直接调用 (2)。

这是我用“test.c”编写的代码：

```
#include "postgres.h"

#ifndef PROGPROFILE_H_
#define PROGPROFILE_H_

/* interfaces */
extern void start_create_profile(List *querytree_list);
extern void create_profile();
extern void check_anomaly(List *querytree_list);

#endif /* Test ProgProf */

void start_create_profile(List *querytree_list){

    ListCell *l;
    ListCell *tl;
    FILE *f;

    //if the file exist just open and write
    //else create and write
    f = fopen ("QueryParsed.txt", "a+");

    Query *query_idr = (Query *)linitial(querytree_list);

    // CMD_SELECT=0 CMD_INSERT=1 CMD_UPDATE=2
    switch (query_idr->commandType)
    {
        case CMD_SELECT:
            fputs("CMD_SELECT, ", f);
        break;

        case CMD_INSERT:
            fputs("CMD_INSERT, ", f);
            break;

        case CMD_UPDATE:
            fputs("CMD_UPDATE, ", f);
        break;

        default:
            break;
    }

    //to have the ID of the table
    foreach(l, query_idr->rtable){
        Oid tab_idT = ((RangeTblEntry *) lfirst(l)) ->relid;
        //char temp1[10];
        char *tab_idTConverted = itoa(tab_idT);
        /* This is not a table */
        if (tab_idT == 0)
            continue;

        fputs(" tab_id:  , ", f);
        fputs(tab_idTConverted, f);

    }

    //to have the name of the targer list
    foreach(tl, query_idr->targetList){
        TargetEntry *tle = (TargetEntry *) lfirst(tl);
        Oid tab_id = tle->resorigtbl;
        int tab_idCast=(int)tab_id;
        //char temp[10];
        char *tab_idConverted = itoa(tab_idCast);
        char *resname=tle->resname;

        fputs("Name of column:  ", f);
        fputs(resname, f);
        fputs(" ID:  ", f);
        fputs(tab_idConverted, f);
        fputs("\n", f);
    }

    //close the file that we write
    fputs("$", f);
    fclose (f);
}

void create_profile(){

}

void check_anomaly(List *querytree_list){

} 
```

现在我创建了一个非常简单的 GUI，包括 3 个按钮（通过 java 中的 netbeans）。Button1, button2, button3 按顺序对应`start_create_profile()`, make_profile, `check_anomaly()`.

我想使用一个全局变量（让我们考虑可以设置为 3 个不同值的“按钮”，如 0、1、2。我希望每当我按下按钮 1 或按钮 3 时，全局变量都设置为 1 或 2，以便使用我写过的`exec_simple_query()`“if”。这里是“if”

```
//initially button=0;
//inside exec_simple_query

if(button==1) start_create_profile();
if(button==2) check_anomaly; 
```

每当我按下 button2 时，必须直接调用 function(2)。知道如何设置该变量以使我能够使用我的 GUI 选择这 3 个功能之一吗？我如何必须通过我的 GUI 直接调用函数（2）？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-22T08:18:12.707

这里有几个问题。

## 您不能只从 SQL 调用任何 C 函数

首先，不能只从 SQL 调用任意函数，必须使用 PostgreSQL 的 C 扩展 API 和宏；查看源代码中 SQL 可调用函数的现有实现以获取示例。

## 您通常不必修改核心代码，扩展通常就足够了

其次，如果您想将函数添加到核心 PostgreSQL，您必须将它们添加到`src/include/catalog/pg_proc.h`以便在`initdb`.

但是，使用适当的扩展加载工具要好得多：

*   [http://www.postgresql.org/docs/current/static/xfunc-c.html](http://www.postgresql.org/docs/current/static/xfunc-c.html)
*   [http://www.postgresql.org/docs/current/static/extend-pgxs.html](http://www.postgresql.org/docs/current/static/extend-pgxs.html)

通过这种方式，您可以根据文档`LOAD`扩展模块、 C 函数，并从 SQL 调用它们。`CREATE FUNCTION`

在您的特定情况下，您似乎*确实*需要修改核心代码库，但这很不寻常，所以我将这个建议保留给其他人。

## 不能从 GUI“直接”调用 PostgreSQL 后端中的 AC 函数

您有一个 Java Swing GUI，并设想以某种方式在不同的进程中调用 C 函数，甚至可能在不同的主机上。

这不起作用有很多原因，包括：

*   Java 不能直接调用 C 函数而无需像`JNI`or之类的胶水代码`JNA`。
*   不能直接在不同的进程中调用 C 函数；您必须改为使用进程间通信（共享内存、管道、套接字、共享文件等）来交换信息
*   虽然您可以在 Pg 后端嵌入 Java 解释器并通过 JNI 直接调用 C 函数，但您*确实*不想尝试直接从 Pg 后端内部显示 Swing GUI。

你需要的是一个多阶段的过程：

*   在 PostgreSQL 后端收集您希望捕获的数据。如果您打算从创建它的同一连接访问它，则可以使用普通`palloc`的 'd 缓冲区。否则，您将需要从共享内存中分配一个缓冲区或使用文件系统交换数据。

*   根据 PostgreSQL 的 C 扩展函数文档（上图），从使用 SQL 可调用接口创建的 C 函数访问该数据

*   使用 PostgreSQL 连接将数据从 SQL 可调用接口函数传输到 Java 应用程序。在您的应用程序中对其进行解码并根据需要显示它。

交替：

*   要求您的 Java 程序或它的代理程序与 PostgreSQL 服务器在同一系统上运行，并让代理程序将文件写入可写入 Pg 并由您的程序读取的位置。

*   使用您的程序或其代理读取文件并处理它们以供显示

您甚至可以让 Pg 写入您的程序正在侦听的套接字，但我不建议这样做，因为您的程序中的停顿会导致 PostgreSQL 中的性能问题。

# facebook-graph-api - 如何使用创建日期获取 Facebook 收件箱评论？

> ID：15019266
> 
> 赞同：0
> 
> 时间：2013-02-22T07:48:26.473
> 
> 标签：facebook-graph-api, twitter, facebook-comments

我需要使用创建日期阅读最新的 facebook 收件箱评论。请让我知道使用创建日期获取最新 Facebook 评论的 URL。

谢谢，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T09:48:35.597

我设法通过使用 FQL 查询来获取收件箱评论（消息）。

试着打电话，

```
FB.api({
    method: 'fql.query',
    query: 'SELECT thread_id, body, author_id, created_time FROM message WHERE thread_id = 1327060333367 and created_time=1277394689'
}, function ( inboxresponse ) {
        //do stuff here with results
}); 
```

请注意，您需要传递 thread_id 和 created_time（在 unix 时间戳中）并且还具有“read_mailbox”权限。

请让我知道这件事！

# c# - 如何减少gridview列asp.net C#中的小数位

> ID：15019269
> 
> 赞同：1
> 
> 时间：2013-02-22T07:48:33.903
> 
> 标签：c#, asp.net, web-services

我想在 gridview 列中只显示 2 位小数。列名称为 InsuaranceAmount、TotalAmount 和 TravelAssistAmoun。

```
for (int i = 0; i < bookingDetailsEmailRS.Length - 1; i++)
 {
BookingDetailsEmailRS[] bookingDetailsEmailRS = b.GetBookingDetails(soap, emailid, out    errorCode, out  errorAtNode);
 GridView1.DataSource = bookingDetailsEmailRS.Select(obj => new
        {
            TravelerName = obj.Travelers[0].FirstName + obj.Travelers[0].MiddleName + obj.Travelers[0].LastName,
            obj.BookingNumber,
            obj.BookingStatus,
            obj.ContactNumber,
            obj.CouponDiscountAmount,
            obj.DepartureDate,
            obj.FromCity,
            obj.ToCity,
            obj.PaidAmount,
            obj.TicketType,
            obj.InsuaranceAmount,
            obj.TotalAmount,
            obj.TravelAssistAmount
        }).ToList();

        GridView1.DataBind();    
 } 
```

在这个变量 bookingDetailsEmailRS 中，我得到了响应。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-22T07:53:23.090

使用 DataFormat 属性：

```
<asp:BoundField DataField="InsuaranceAmount" HeaderText="Total Data"  
     ReadOnly="True" SortExpression="totaldata" DataFormatString="{0:0.00}" /> 
```

对于您问题的第二部分，请使用 Eval 方法的第二个参数来格式化您的数据：

```
<%# Eval("InsuaranceAmount", "{0:0.00}") %> 
```

[这也可能有帮助](http://blog.weareon.net/c-dataformatstrings/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-22T07:54:53.773

该`Eval`函数有两个参数，第一个是`Bind`able字段，第二个是字段的格式。`{0:0.00}`在控件的字段定义的这一部分中使用类似的东西。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-22T07:59:42.260

在绑定列的情况下，您有一个`DataFormatString`属性。您可以执行类似在 gridview 列中仅显示 2 位小数的操作：

`DataFormatString="{0:0.00}"`

前任：

```
<asp:BoundField DataField="TotalAmount" HeaderText="Total Amount" DataFormatString="{0:0.00}" /> 
```

参考：[数字自定义格式字符串](http://msdn.microsoft.com/en-us/library/0c899ak8.aspx)

# python - 在 TideSDK 中排序菜单项

> ID：15019271
> 
> 赞同：1
> 
> 时间：2013-02-22T07:48:37.743
> 
> 标签：python, titanium, tidesdk

我正在向我的应用程序添加主菜单项。但是，它们仅在默认的“编辑”菜单项之后添加。

```
new_menu = Ti.UI.createMenu()
fileItem = new_menu.addItem('File')
settingsItem = new_menu.addItem('Settings')

Ti.UI.setMenu(new_menu) 
```

这是结果： ![在此处输入图像描述](../Images/1cef134572d5775554c759360a93b24e.png)

显然，我希望“文件”出现在编辑之前。如果可能，我想删除“编辑”和“窗口”。我该怎么做呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-02T12:48:17.293

看起来这是一个未解决的问题： [https ://github.com/TideSDK/TideSDK/issues/112](https://github.com/TideSDK/TideSDK/issues/112)

# iphone - 将 GLInt 作为参考传递时遇到问题

> ID：15019274
> 
> 赞同：0
> 
> 时间：2013-02-22T07:48:39.270
> 
> 标签：iphone, ios, objective-c, cocoa-touch, opengl-es

我有以下代码：

```
glGenFramebuffers(1, &_defaultFramebuffer); 
```

我收到警告：

```
Passing 'GLint *' (aka 'int *') to parameter of type 'GLuint *' (aka 'unsigned int *') converts between pointers to integer types with different sign 
```

我将如何使该警告消失？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T07:55:45.727

`glGenFramebuffers`需要一个无符号整数数组 ( `GLuint *`) ，但您提供的是一个有符号整数数组 ( `GLint *`)。

有`_defaultFramebuffer`类型`GLuint *`，你应该没问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T08:34:33.147

如果您无法更改 _defaultFrameBuffer 的签名，请将其转换为 (GLuint*) 就可以了

```
glGenFramebuffers(1, (GLuint*)&_defaultFramebuffer); 
```

# c# - 分离对象上下文后丢失包含的实体

> ID：15019276
> 
> 赞同：1
> 
> 时间：2013-02-22T07:48:56.433
> 
> 标签：c#, wpf, wcf, entity-framework-4

考虑驻留在服务（WCF）中的以下代码：

```
 using (var context = new ctxEntities())
            {
                var result = context.MyTable.Include("LinkedTable")
                                   .Where(c => c.RepairID == repairID).ToList();
                result.ForEach(e => context.Detach(e));
                return result;
            } 
```

我想在 WPF 环境中访问 LinkedTable 属性，并希望（或拥有？）分离上下文。在分离上下文（result.foreach ....）之前，我可以“看到” LinkedTable 作为 Table 的属性。分离上下文后，表的 LinkedTable 属性为空。

我怎样才能防止这种行为？

保罗

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T09:55:35.027

`Detach`还卸载关系管理器中条目的相关端。

如果您通过预先关闭跟踪来消除分离的需要，它会有所帮助。无论如何，这是一种改进，因为它消除了附加/分离的开销。

```
using (var context = new ctxEntities())
{
    context.MyTable.MergeOption = MergeOption.NoTracking;
    var result = context.MyTable.Include("LinkedTable")
                       .Where(c => c.RepairID == repairID).ToList();
    return result;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T09:58:12.010

这有帮助吗

```
using(var context = new ctxEntities()){
    context.Configuration.ProxyCreationEnabled = false;
    context.Configuration.LazyLoadingEnabled = false;
    //.... 
```

# r - 提取部分时间戳

> ID：15019284
> 
> 赞同：3
> 
> 时间：2013-02-22T07:49:45.453
> 
> 标签：r, postgresql

我有一些数据集，其中每 5 秒记录一次动物。数据存储在 postgis 中，我正在使用 R 来分析和绘制数据。我想在地块上添加一些标记，显示每小时的位置。我将数据集的子集拉入 R 中，制作一个数据框，其中包含每个点的时间戳以及 x 和 y 坐标等信息。

我的数据集的 summary() 的一部分（总共约 10000 行）：

```
 id             datetime                        date           
Min.   :2664295   Min.   :2009-08-21 05:00:04   Min.   :2009-08-21  
1st Qu.:2666819   1st Qu.:2009-08-21 08:30:15   1st Qu.:2009-08-21  
Median :2669342   Median :2009-08-21 12:00:03   Median :2009-08-21  
Mean   :2669342   Mean   :2009-08-21 11:30:10   Mean   :2009-08-21  
3rd Qu.:2671866   3rd Qu.:2009-08-21 14:22:44   3rd Qu.:2009-08-21  
Max.   :2674390   Max.   :2009-08-21 16:59:58   Max.   :2009-08-21  

 lokalitet             cowid           x                y          
Length:10          Min.   :553   Min.   :455329   Min.   :6712350  
Class :character   1st Qu.:553   1st Qu.:455718   1st Qu.:6712744  
Mode  :character   Median :553   Median :456154   Median :6713068  
                   Mean   :553   Mean   :456011   Mean   :6713074  
                   3rd Qu.:553   3rd Qu.:456274   3rd Qu.:6713470  
                   Max.   :553   Max.   :456361   Max.   :6713596 
```

所以，我想做的是对日期时间的数据集进行子集化，其中分钟部分为 0，第二部分 < 5（即对于摘要中显示的时间戳，我希望有 05:00:04 和 12 :00:03\. （我知道我可以在 postgres 中做到这一点，但由于基础数据集非常大（大约 4 M 行）并且我没有对部分时间戳建立索引，我认为这样做可能会更好R 中的子集）（不，因为我想多次这样做，我不想只是手动找到匹配的第一行，然后从那里获取第 720 行）

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-22T08:12:59.083

使用这个`lubridate`包，很容易从你的日期中提取分钟和秒，然后对它们进行测试。例如 ：

```
library(lubridate)

## Sample data
dates <- as.POSIXlt(c("2009-08-21 05:00:04","2009-08-21 08:30:15","2009-08-21 12:00:03","2009-08-21 11:30:10","2009-08-21 14:22:44","2009-08-21 16:59:58"))

## How to extract minutes
minute(dates)
# [1]  0 30  0 30 22 59

## How to extract seconds
second(dates)
# [1]  4 15  3 10 44 58

## Select dates from minutes and seconds values
dates[minute(dates)==0 & second(dates) < 5]
# [1] "2009-08-21 05:00:04" "2009-08-21 12:00:03" 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-22T10:48:59.867

您可以创建一个辅助函数，该函数采用格式字符串并转换为数字。我将假设数据时间是 POSIXct 而不是 POSIXlt。（POSIXct 不能很好地处理数据帧操作。）

```
ndtfrm <- function(dt, frm) as.numeric(format(dt, frm))
ndtfrm(dates, "%M")
#[1]  0 30  0 30 22 59
ndtfrm(dates, "%S")
#[1]  4 15  3 10 44 58

 dfrm[ ndtfrm(dfrm$dates, "%M") ==0 & ndtfrm(dfrm$dates, "%S") < 5 , ] 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-25T08:06:18.510

感谢您的回答，但事实证明在 postgres 中最容易做到这一点......

一个简单的

```
SELECT ..., case when extract(second from datetime)<5 
                         and extract(minute from datetime) = 28 
  then extract(hour from datetime) end as marker  FROM .... 
```

给了我我需要的东西——因为我只是将这些数据与数据集的其余部分结合起来，所以没有必要搜索这些点。

# android - 以编程方式隐藏/显示上下文操作栏

> ID：15019289
> 
> 赞同：5
> 
> 时间：2013-02-22T07:50:11.280
> 
> 标签：android, android-viewpager, android-listfragment, contextual-action-bar

**我的用例：**

我有一个以 a 作为其唯一视图元素的活动，为其三个页面`ViewPager`设置了三个s（使用 a ）。其中一个片段是，而另外两个常规s 包含一些信息图表。`Fragment``FragmentPagerAdapter``ListFragment``Fragment`

允许“检查”元素中的列表`ListFragment`，检查元素会调出上下文操作栏，显示对选定/选中项目可能执行的操作列表。

**我的问题：**

当我选择几个列表项时，CAB 就会出现。但是当我切换页面时，CAB 保持可见，呈现操作。更糟糕的是，这`ViewPager`似乎有时会破坏列表片段的视图 - 因此选择操作会引发`"java.lang.IllegalStateException: Content view not yet created"`异常。

**我的问题：**

1.  当用户离开`ListFragment`页面时，如何让 CAB 消失？
2.  `ListFragment`（可选）当背面是并且某些项目仍然被检查时，我如何让 CAB 重新出现。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T15:32:57.490

您需要先将`ViewPager.OnPageChangeListener`with添加`ViewPager.OnPageChangeListener`到您的`viewPager`.

在**onPageSelected**方法中调用您的方法`ListFragment`以关闭您的 CAB。

**编辑：**

要获取当前活动片段，您可以使用它的标签。可以使用以下方法计算标签：

```
private static String makeFragmentName(int viewId, int index) {
   return "android:switcher:" + viewId + ":" + index;
} 
```

其中 viewId 是 viewpager 的 id 和索引选项卡索引（位置）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-01-27T08:59:51.137

您还可以使用 setUserVisibleHint 方法对从片段内部隐藏的片段做出反应，如[https://stackoverflow.com/a/11075663/1199911中所述](https://stackoverflow.com/a/11075663/1199911)

# django - 如何将 Decimal 指定为 Django South 迁移的一次性值

> ID：15019291
> 
> 赞同：1
> 
> 时间：2013-02-22T07:50:21.543
> 
> 标签：django, django-south

我在模型中添加了一个 DecimalField

```
dec_field = models.DecimalField(max_digits=6, decimal_places=3) 
```

在我尝试使用 South 创建一个自动架构迁移文件后，我尝试指定一个一次性值以用于现有列，但是......

```
? Please enter Python code for your one-off default value.
? The datetime module is available, so you can do e.g. datetime.date.today()
>>> Decimal('15.4')
! Invalid input: name 'Decimal' is not defined
>>> from decimal import *
! Invalid input: invalid syntax (<string>, line 1) 
```

我是否可以指定 Decimal 默认值（无损，所以浮点数并不理想），如果可以，如何？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T18:19:20.717

查看代码:: [https://bitbucket.org/andrewgodwin/south/src/81b93bfc927b46227103d094691b5ddcfc25f400/south/creator/actions.py?at=default#cl-190](https://bitbucket.org/andrewgodwin/south/src/81b93bfc927b46227103d094691b5ddcfc25f400/south/creator/actions.py?at=default#cl-190)

我试过这样做：

```
 __import__('decimal').Decimal('0.445') 
```

并工作

但这很奇怪，最正确的方法就是放一个它自动转换的字符串

或导入 Decimal，因为南迁移创造了

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-08-22T11:02:00.753

接受的答案确实很奇怪。

The correct answer is that South migrations are, by design, user-editable, and `schemamigration --auto` doesn't always do a perfect work. In this case, I would just enter a value that is easy to find in the file (say, `'0.445'`), then edit the file, add a proper import for `Decimal` and modify the code to use `Decimal('0.445')` instead of the value in the generated migration.

# c# - Asp.net MVC 3 存储过程从表中返回一个值

> ID：15019294
> 
> 赞同：0
> 
> 时间：2013-02-22T07:50:41.683
> 
> 标签：c#, asp.net-mvc-3, sql-server-2008, stored-procedures

我有我想要返回的 SQL：

```
 CREATE PROCEDURE [Zinc].[GetUserByEmail]
    @Email nvarchar (256)
  AS
    SELECT zu.UserId FROM zinc.users zu WHERE zu.Email = @Email 
```

然后在我的存储库中我到目前为止：

```
public int GetUserByEmail(string email)
{
    using (SqlConnection conn = new SqlConnection(ZincModelContainer.CONNECTIONSTRING))
    {
        using (SqlCommand cmd = conn.CreateCommand())
        {
            conn.Open();

            cmd.CommandType = System.Data.CommandType.StoredProcedure;
            cmd.CommandText = "[Zinc].[GetUserByEmail]";

            //not sure how to go from here?
        }
        return userId;
    }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T07:52:54.013

因为它是一个标量值，所以使用：

```
cmd.Parameters.Add("@Email", SqlDbType.NChar).Value = email;
var UserId = cmd.ExecuteScalar(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T07:53:32.997

```
cmd.Parameters.Add("@Email", SqlDbType.NChar).Value = email;

int UserId = cmd.ExecuteScalar(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T07:54:59.883

Microsoft 文档通常是最好的起点。有关从 SqlConnection 读取的示例，请参阅：http: [//msdn.microsoft.com/en-us/library/877h0y3a.aspx 。](http://msdn.microsoft.com/en-us/library/877h0y3a.aspx)

# git - 将 git 推送到远程服务器，文件不存在？

> ID：15019295
> 
> 赞同：0
> 
> 时间：2013-02-22T07:51:02.793
> 
> 标签：git

我是新手，正在尝试使用 Git 和 SSH 对我的文件进行版本控制，然后将其推送到生产服务器。

以下是我遵循的步骤：

```
git init
touch readme.md
git add .
git commit -m "First commit"
ssh username@server
mkdir gittest && cd gittest && mkdir .git && cd .git
git init --bare
logout

git remote add origin ssh://username@server/gittest/.git/
git push origin master 
```

现在，git 目录是相同的，我手动检查以及使用 show - 但我不应该在远程 repo 中看到自述文件，还是我遗漏了什么？还有一步吗？我真的很想压缩我所有的工作流

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T07:54:08.267

在远程主机上，您创建了一个裸存储库，即*它只*包含 GIT 数据，不进行检出。您需要在某处制作非裸克隆。

# javascript - 子节点的 XML 计数

> ID：15019297
> 
> 赞同：0
> 
> 时间：2013-02-22T07:51:02.940
> 
> 标签：javascript, jquery, xml

xml是：

```
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<tutorial xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">

<!--  ************************************** DAY 1 MODULE 1 **************************** -->

<qn day="1" module="1" id="1"  qntxt="Day 1 Mod 1 First qn?" ans="Answer 3" desc="The Correct answer is Answer3 because...">
        <opt id="Answer 1"></opt>
        <opt id="Answer 2"></opt>
        <opt id="Answer 3"></opt>
        <opt id="Answer 4"></opt>
</qn>
<qn day="1" module="1" id="2" qntxt="Day 1 Mod 1 Second qn?" ans="Answer 22" desc="The Correct answer is Answer1 because...">
        <opt id="Answer 21"></opt>
        <opt id="Answer 22"></opt>
        <opt id="Answer 23"></opt>
        <opt id="Answer 24"></opt>
</qn>
<qn day="1" module="1" id="3" qntxt="Day 1 Mod 1 Third qn?" ans="Answer 34" desc="The Correct answer is Answer4 because...">
        <opt id="Answer 31"></opt>
        <opt id="Answer 32"></opt>
        <opt id="Answer 33"></opt>
        <opt id="Answer 34"></opt>
</qn> 
```

我正在解析 DayID、ModuleID 并将其插入到数据库中。这工作正常。除此之外，我还插入了“问题总数”——即每个 qn 节点下的“选择”子节点的计数。我怎样才能得到这个？

```
function xmlParser(data) {

            dropTable();
            createTable();

            xml = data;
            var dayID, moduleID;
                $(xml).find('day').each(function()
                {
                    **alert($(this).children.length);**
                     dayID = $(this).attr('id');
                    $(this).find("module").each(function()
                    {

                         moduleID = $(this).attr('id');

                             DayID = dayID;  
                             ModuleID = moduleID;  
                             //CurScore = 0;
                             //HighScore = 0;

                            //alert(dayID +'--' + moduleID);
                            insertRecord(dayID,moduleID,0,0,0);
                    });

                });
        } 
```

**我使用 - $(this).children.length; - 但它给了我错误的值 - 我得到 2 - 实际值为 4。**

我怎样才能得到这个，而无需进一步循环/大量更改代码？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T08:04:09.873

试试这个：- [http://jsfiddle.net/aiioo7/sPRgR/](http://jsfiddle.net/adiioo7/sPRgR/)

HTML:-

```
<div id="test">
    <?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<tutorial xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">

<!--  ************************************** DAY 1 MODULE 1 **************************** -->

<qn day="1" module="1" id="1"  qntxt="Day 1 Mod 1 First qn?" ans="Answer 3" desc="The Correct answer is Answer3 because...">
        <opt id="Answer 1"></opt>
        <opt id="Answer 2"></opt>
        <opt id="Answer 3"></opt>
        <opt id="Answer 4"></opt>
</qn>
<qn day="1" module="1" id="2" qntxt="Day 1 Mod 1 Second qn?" ans="Answer 22" desc="The Correct answer is Answer1 because...">
        <opt id="Answer 21"></opt>
        <opt id="Answer 22"></opt>
        <opt id="Answer 23"></opt>
        <opt id="Answer 24"></opt>
</qn>
<qn day="1" module="1" id="3" qntxt="Day 1 Mod 1 Third qn?" ans="Answer 34" desc="The Correct answer is Answer4 because...">
        <opt id="Answer 31"></opt>
        <opt id="Answer 32"></opt>
        <opt id="Answer 33"></opt>
        <opt id="Answer 34"></opt>
</qn>
    </div> 
```

JS：-

```
$(function(){
    var xml = $("#test").html();
    var xmlDoc = $.parseXML( xml );
    $(xmlDoc).find("qn").each(function(){
        alert($(this).find("opt").length);
    });    
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T08:08:36.967

如果您正在寻找一个特定的标签，在我们的例子中，`opt`您应该将它作为一个选择传递给`.children()`，因为否则 children 会获取该标签的所有子代。但是，在您的情况下，您正在获取函数对象的长度（`children`是函数对象，`children('opt')`或者`children()`是对所述函数的调用）

```
$(xmlDoc).find("qn").each(function(){
    numberOfQuestions = $(this).children("opt").length;
}); 
```

请注意，在您的特定情况下，使用`.find()`会给您完全相同的数字。但是，两者之间是有区别的。`find`将遍历 DOM 从选择到树的底部。也就是说，如果您的 XML 更改为类似

```
<qn day="1" module="1" id="1"  qntxt="Day 1 Mod 1 First qn?" ans="Answer 3" desc="The Correct answer is Answer3 because...">
        <opt id="Answer 1">
             <qn day="1" module="1" id="1"  qntxt="Day 1 Mod 1 First qn?" ans="Answer 3" desc="The Correct answer is Answer3 because...">
                   <opt id="Answer 1"></opt>
                   <opt id="Answer 2"></opt>
                   <opt id="Answer 3"></opt>
                   <opt id="Answer 4"></opt>
            </qn>
        </opt>
        <opt id="Answer 2"></opt>
        <opt id="Answer 3"></opt>
        <opt id="Answer 4"></opt>
</qn> 
```

然后使用`find('opt')`你将选择 8 个元素，而使用`children('opt')`你只会得到 4 个。有关详细说明，请参阅此内容[`.children(\[selector\])`](http://api.jquery.com/children/)

# class - Eclipse Web 应用程序的构建问题

> ID：15019298
> 
> 赞同：2
> 
> 时间：2013-02-22T07:51:05.130
> 
> 标签：class, tomcat, web, build

我有一个在 Eclipse 中创建的网络应用程序。在我做了一些奇怪的改变之后，我不记得了，构建目录下的所有类都不起作用。具体来说，当我打开它们时，我会得到这些东西：

类文件编辑器

找不到来源

类文件 foo.class 没有附加源

// 编译自 foo.java (version 1.7 : 51.0, super bit) public class Beans.foo implements java.io.Serializable {

// 字段描述符#8 J private static final long serialVersionUID = 1L;

…………………………………………………………………………………………………………………………………………………… .....................

虽然，WebContent 目录下的类工作正常。

（tomcat也无法启动，我认为是因为这个）

我怎样才能解决这个问题？

编辑：我将 WebContent 中的所有 java 文件复制并粘贴到 build 中，但现在 eclipse 将相同的 java 文件（也存在于 build 和 webContent 中）理解为不同的文件。谢谢你。

# ios - 在另一个应用程序中安装 iOS 应用程序（ipa 文件）？

> ID：15019300
> 
> 赞同：4
> 
> 时间：2013-02-22T07:51:10.813
> 
> 标签：ios, objective-c, ipa

我尝试编写一个应用程序，它可以从网络服务器（ipa 文件）下载一个应用程序并安装它。有谁知道如何安装这个 ipa 文件？我可以在应用程序内使用 OTA 或使用命令行安装它吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-22T15:34:56.157

**因此，这里有一个针对越狱设备**的即时解决方案，它可以直接`.ipa`从您的应用程序中安装任何文件。您必须采取的步骤是：

I. 获得 root 访问权限。`setuid(0);`您可以通过从您的`main()`函数调用来实现此目的。您需要在可执行文件上设置粘性权限位并使用启动脚本。

二、解压缩`.ipa`文件。是的，没错——IPA 只是伪装的 ZIP 文件。您可以为此使用开源[libzip](http://nih.at/libzip/)库。

三、里面会有一个目录`Payload`。实际的应用程序包（我们称之为`MyApp.app`）将驻留在该文件夹中。

四。在文件系统的目录中创建一个目录`/var/mobile/Applications`。这将是要安装的应用程序的容器沙箱。按照惯例，这个目录的名字应该是一个 UUID。例如，您可以为此使用以下代码片段：

```
CFUUIDRef uuidObj = CFUUIDCreate(NULL);
CFStringRef uuid = CFUUIDCreateString(NULL, uuidObj);
CFRelease(uuidObj);

NSString *appPath = [@"/var/mobile/Applications" stringByAppendingPathComponent:(id)uuid];
[fmgr createDirectoryAtPath:appPath withIntermediateDirectories:YES attributes:nil error:NULL];
CFRelease(uuid); 
```

五、通过`Payload`目录的内容循环找到app bundle（在第二步中获得）。将其复制到新创建的沙箱（其名称是 UUID 字符串）。还要复制`iTunesMetadata.plist`和`iTunesArtwork`文件，以便 iTunes 为应用程序显示一个漂亮的图标并通知您更新。修复应用程序可执行文件的权限，使其可执行：

```
NSString *execName = [appInfoPlist objectForKey:@"CFBundleExecutable"];
NSString *execPath = [bundle stringByAppendingPathComponent:execName];
chmod(execPath.UTF8String, 0755); 
```

六、您需要告诉 SpringBoard 找到您的应用程序，然后重新加载其已安装的应用程序缓存，以使新安装的图标出现在主屏幕上。为此，您首先更新 MobileInstallation 属性列表文件中的应用程序列表。这里的`bundle`变量是指应用程序包的文件系统位置，例如`/var/mobile/applications/LONG_UUID_STRING/MyApp.app`.

```
#define kMobileInstallationPlistPath @"/var/mobile/Library/Caches/com.apple.mobile.installation.plist"
NSMutableDictionary *appInfoPlist = [NSMutableDictionary dictionaryWithContentsOfFile:[bundle stringByAppendingPathComponent:@"Info.plist"]];
[appInfoPlist setObject:@"User" forKey:@"ApplicationType"];
[appInfoPlist setObject:bundle forKey:@"Path"];
[appInfoPlist setObject:@{
    @"CFFIXED_USER_HOME" : appPath,
    @"HOME" : appPath,
    @"TMPDIR" : [appPath stringByAppendingPathComponent:@"tmp"]
} forKey:@"EnvironmentVariables"];
[appInfoPlist setObject:appPath forKey:@"Container"];

NSData *data = [NSData dataWithContentsOfFile:kMobileInstallationPlistPath];
NSMutableDictionary *mobileInstallation = [NSPropertyListSerialization propertyListWithData:data options:NSPropertyListMutableContainersAndLeaves format:NULL error:NULL];
NSString *bundleID = [appInfoPlist objectForKey:@"CFBundleIdentifier"];
[[mobileInstallation objectForKey:@"User"] setObject:appInfoPlist forKey:bundleID];
[mobileInstallation writeToFile:kMobileInstallationPlistPath atomically:NO]; 
```

然后移除 SpringBoard 存储的缓存应用信息：

```
remove("/var/mobile/Library/Caches/com.apple.mobile.installation.plist");
remove("/var/mobile/Library/Caches/com.apple.springboard-imagecache-icons");
remove("/var/mobile/Library/Caches/com.apple.springboard-imagecache-icons.plist");
remove("/var/mobile/Library/Caches/com.apple.springboard-imagecache-smallicons");
remove("/var/mobile/Library/Caches/com.apple.springboard-imagecache-smallicons.plist");
remove("/var/mobile/Library/Caches/SpringBoardIconCache");
remove("/var/mobile/Library/Caches/SpringBoardIconCache-small");
remove("/var/mobile/Library/Caches/com.apple.IconsCache"); 
```

然后通知 SpringBoard 重新加载所有应用的列表：

```
Class __LSApplicationWorkspace = objc_getClass("LSApplicationWorkspace");
[(LSApplicationWorkspace *)[__LSApplicationWorkspace defaultWorkspace] invalidateIconCache:nil];
[(LSApplicationWorkspace *)[__LSApplicationWorkspace defaultWorkspace] registerApplication:[NSURL fileURLWithPath:bundle]];
notify_post("com.apple.mobile.application_installed"); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-22T09:16:35.160

您可以通过 OTA 分发执行此操作，请参阅 [http://help.apple.com/iosdeployment-apps/mac/1.1/#app43ad871e](http://help.apple.com/iosdeployment-apps/mac/1.1/#app43ad871e)

可以在此处找到示例 plist： [https ://gist.github.com/hramos/774468](https://gist.github.com/hramos/774468)

请注意，您要么需要 Enterprise Developer Program，要么收集用户的 UDID 并将它们包含在您的 ad-hoc 供应配置文件中。

# analysis - 情感 分析 , 特征 选择

> ID：15019304
> 
> 赞同：0
> 
> 时间：2013-02-22T07:51:26.493
> 
> 标签：analysis, svm, sentiment-analysis, feature-selection

我想知道分析情绪的每个步骤有哪些合适的工具：删除停用词、词干提取、文本的向量表示、特征选择、分类、如何从文本的向量表示传递到特征选择，是否有任何步骤可以遵循和描述这些步骤的示例

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T14:45:06.150

您可以在这里查看 Bing Liu 的情感分析教程[，](http://www.cs.uic.edu/~liub/FBS/Sentiment-Analysis-tutorial-AAAI-2011.pdf)以及 Pang & Lee 的调查[在这里](http://www.cs.cornell.edu/home/llee/opinion-mining-sentiment-analysis-survey.html)。它们涵盖了情感分析的不同方面和常用方法。

# java - 关于静态保持器单例模式

> ID：15019306
> 
> 赞同：28
> 
> 时间：2013-02-22T07:51:34.357
> 
> 标签：java

我已经根据条件以多种方式开发了单例，例如 volatile/lazy 单例、渴望单例、普通单例以及通过 Enum，但具体来说，我想了解下面显示的静态保持器模式单例。

```
public static class Singleton {
    private static class InstanceHolder {
        public static Singleton instance = new Singleton();
    }

    private Singleton(){}

    public static Singleton getInstance() { 
        return InstanceHolder.instance;
    }
} 
```

请告知在哪些条件下它是有益的，它的好处是什么。

* * *

## 回答 #1

> 赞同：70
> 
> 时间：2014-06-03T14:43:27.440

这种模式至少有 3 个原因是有益的：

1.  静态工厂
2.  延迟初始化
3.  线程安全

JVM 推迟初始化 InstanceHolder 类，直到它被实际使用，并且因为 Singleton 是使用静态初始化器初始化的，所以不需要额外的同步。*任何线程对getInstance*的第一次调用都会导致 InstanceHolder 被加载和初始化，此时 Singleton 的初始化通过静态初始化程序发生。

静态持有人模式也被认为是双重检查锁定反模式的最聪明的替代品。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-02-22T07:57:29.057

这是一种通过利用 JVM 加载类的方式来制作线程安全的惰性单例的方法。您可以在 Bloch 的 Effective Java 书中阅读更多关于为什么以及如何正确实现它的信息。

请记住，从`testable code`角度来看，单例（以及一般的全局状态）是无益的，应该避免。

# java - 使用 Java nio 文件，重命名目录，但如果已经存在，则将文件移动到现有目录

> ID：15019307
> 
> 赞同：1
> 
> 时间：2013-02-22T07:51:35.390
> 
> 标签：java, java-7

我想将 Dir“Dir1”重命名为“Dir2”。

但如果“Dir2”退出，那么我想将“Dir1”文件移动到“Dir2”。C:\Artwork\Dir1 C:\Artwork\Dir2 用于重命名

```
Files.move(path, path.resolveSibling("NewName"))); //Worked Ok 
```

对于已经存在的目录，我尝试了

```
Path source = Paths.get("C:\\Artwork\\Dir1");
Path newDir = Paths.get("C:\\Artwork\\Dir2");
Files.move(source, newDir,StandardCopyOption.ATOMIC_MOVE); //Throwed AccessDeniedException
Files.move(source, newDir,StandardCopyOption.REPLACE_EXISTING); //Throwed DirectoryNotEmptyException 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T09:08:59.423

我编写了一些实用方法来使用 NIO File API 复制目录（该库是开源的）：

马文：

```
<dependency>  
    <groupId>org.softsmithy.lib</groupId>  
    <artifactId>softsmithy-lib-core</artifactId>  
    <version>0.3</version>  
</dependency> 
```

教程：

[http://softsmithy.sourceforge.net/lib/current/docs/tutorial/nio-file/index.html](http://softsmithy.sourceforge.net/lib/current/docs/tutorial/nio-file/index.html)

API： [CopyFileVisitor.copy](http://softsmithy.sourceforge.net/lib/current/docs/api/softsmithy-lib-core/org/softsmithy/lib/nio/file/CopyFileVisitor.html#copy%28java.nio.file.Path,%20java.nio.file.Path%29)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T08:45:39.337

如果 Dir2 不存在，则用于`Dir2.mkdir();` 创建目录。如果它已经exixt那么`moveDirectory(File Dir1, File Dir2);` 我们可以移动整个目录

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T08:55:15.520

从 Java 1.7 开始，有 java.nio.file.Files 提供了处理文件和目录的操作。尤其是 move、copy 和 walkFileTree 函数。

# php - $this->pagination->create_links() 不显示任何内容，并返回空白字符串

> ID：15019311
> 
> 赞同：0
> 
> 时间：2013-02-22T07:51:53.557
> 
> 标签：php, codeigniter

```
<?php if ( ! defined('BASEPATH')) exit('No direct script access allowed');

class Page extends CI_Controller {

    function useradd(){
        $this->load->model('test_m');
        for($i=1; $i<=40; $i++){
            $name = 'u'.$i;
            $arr = array('uname'=>$name, 'upass'=>'123456');
            $this->test_m->user_insert($arr);
        }
    }
    /****************
     function Userdelete(){
        $this->load->model('test_m');
        for($i=1; $i<=11; $i++){
            $this->test_m->user_delete($i);
        }
    }
    *****************/
     function pagelist(){
        $this->load->model('test_m');
        $user=$this->test_m->user_select_all();
        $pagenum=10;
        $pageall=count($user);
        $config['total_row']=$pageall;
        $config['per_page']=$pagenum;
        $config['num_links']=3;
        $config['base_url']="/~chrisfu/CI/index.php/page/pagelist";
        $this->load->library('pagination');
        $this->pagination->initialize($config);
        echo $this->pagination->create_links();
        //echo "<br>";
        //$id=$id ? $id : 1;
        //$start=($id-1)*$pagenum;
        //$list=$this->test_m->user_select_limit($start, $pagenum);
        //var_dump($list);
        }

} 
```

create_links() 函数似乎不起作用。我没有收到任何错误，但它只返回一个空白字符串。我知道文档说[https://www.codeigniter.com/user_guide/libraries/pagination.html](https://www.codeigniter.com/user_guide/libraries/pagination.html)当没有分页显示时，create_links() 函数返回一个空字符串。但那我该如何解决呢？谢谢！

我将此功能添加到模型 test_m 中。

```
function user_select_all(){

    $this->db->select('*');
    $query=$this->db->get('user');
    return $query->result();
}
function user_select_limit($start, $end){

    $this->db->select('*');
    $this->db->limit($end, $start);
    $query=$this->db->get('user');
    return $query->result();
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T08:28:42.310

它应该是**total_rows**：

```
$config['total_rows']=$pageall; 
```

正常工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T09:12:45.283

看下面的例子，

```
$this->load->library('pagination');
$limit = 10;

$total = $this->legend_model->get_legend_count($language_id);

$config['base_url'] = base_url().'legend/index/';
$config['total_rows'] = $total;
$config['per_page'] = $limit;
$config['uri_segment'] = 3;

$config['first_link'] = '<< First';
$config['last_link'] = 'Last >>';
$config['next_link'] = 'Next ' . '&gt;';
$config['prev_link'] = '&lt;' . ' Previous';
$config['num_tag_open'] = '<span class="number">';
$config['num_tag_close'] = '</span>';

$config['cur_tag_open'] = '<span class="current"><a href="#">';
$config['cur_tag_close'] = '</a></span>';

$this->pagination->initialize($config);
$data['offset'] = $offset;
$data['legends'] = $this->legend_model->get_legend($language_id, $limit, $offset);

$this->template->write('title', 'Legend : Manage Legend');
$this->template->write_view('content', 'legend/index', $data);
$this->template->render(); 
```

# java - MySQL JPQL 查询性能问题

> ID：15019312
> 
> 赞同：0
> 
> 时间：2013-02-22T07:51:54.480
> 
> 标签：java, mysql, hibernate, mongodb

我正在构建一个游戏，我打算成为一个持久的在线世界（就像一个 MMO，但可能不是大量的玩家。）我正在通过创建一个 2d 网格“瓷砖”来制作游戏地图。我的磁贴可以很好地保存到我的数据库中，并且我已经设置了一个网页 UI（通过 Vaadin），因此我可以很好地查看它们。到目前为止，我最常在 20x20 网格中查看它们。

到目前为止，它似乎进展顺利。我可以保留几组 10,000 个图块，然后滚动查看它们并重新显示图块几乎是瞬间的。不过，今天，我决定保留一大堆瓦片（准确地说是 633,460 个），看看在数据库中拥有更真实数量的瓦片会是什么样子。现在我在地图上滚动时遇到了一些重大的性能问题，因为我的 MySQL 数据库似乎很难处理这么多的图块。

我正在使用由 Hibernate 支持的 JPA 2.0。即使我直接进入数据库并运行 SQL 查询，响应时间也非常慢。

```
SELECT * FROM game.landtile WHERE xcoor < 999999061 AND xcoor >  999999040
AND ycoor > 1000000140 AND ycoor < 1000000161; 
```

我刚刚运行该查询以获取 400 个地块，它直接在 MySQL 中具有 3.5 秒的持续时间和 7.25 秒的获取时间！如果我第二次运行相同的查询，它的持续时间为 0.5 秒，获取时间为 0.1 秒。500 毫秒我可以忍受...... 7,000 我不能。

我的地块实体如下所示：

```
@Entity
@Table(name = "LandTile", uniqueConstraints = {@UniqueConstraint(columnNames={"XCoor", "YCoor"})})
public class LandTile extends AbstractMapValues implements Serializable {

    private static final long serialVersionUID = 1L;

    @Id
    @Column(name = "LandTileId")
    private String landTileId;

    @Column(name = "XCoor")
    @Index(name = "XCoordinateIndex")
    @Range(min = 0, max = MAX_MAP_INT)
    private int xCoor;

    @Column(name = "YCoor")
    @Index(name = "YCoordinateIndex")
    @Range(min = 0, max = MAX_MAP_INT)
    private int yCoor;

    @OneToOne(cascade = CascadeType.ALL)
    private Building building;

    @OneToOne(cascade = CascadeType.ALL)
    private Road road;

    private boolean river;

    @OneToMany(mappedBy="expeditionLocationLandTile")
    private Set<Expedition> expeditionsAtThisLocation;

    @ManyToMany(
            mappedBy = "discoveredLandTiles",
            targetEntity = Player.class
        )

    private Set<Player> playersThatHaveDiscovered;

    @ManyToMany(
            mappedBy = "routeListOfLandTiles",
            targetEntity = Expedition.class
        )
    private List<Expedition> expeditionRouteThisIsPartOf;

    @ManyToOne
    @JoinColumn(name="FiefdomOfCapitalCity", unique=true)
    private Fiefdom fiefdomOfCapitalCity;

    @ManyToOne
    @JoinColumn(name="ActualOwningFiefdomId", unique=true)
    private Fiefdom actualOwningFiefdom;

    @ManyToOne
    @JoinColumn(name="DefaultOwningFiefdomId", unique=true)
    private Fiefdom defaultOwningFiefdom; 
```

还有另外 18 个简单的 int 列我没有在这里列出。

所以基本上我希望你们能帮助我弄清楚我的选择是什么。如您所见，地块和我的其他模型之间存在很多关系，对于这样的游戏，整个数据集本身是高度相关的，这就是我首先使用 SQL 数据库的原因。但现在我担心性能会变得如此糟糕，以至于我应该停止开发新功能，并重新设计我的整个 DAO 层（希望它只需要那样......）以使用 NoSQL 数据库，并处理与我在 java 中的所有关系。

看起来 MongoDB 已经内置了对 2d 网格的支持：

[http://blog.codecentric.de/en/2012/02/spring-data-mongodb-geospatial-queries/](http://blog.codecentric.de/en/2012/02/spring-data-mongodb-geospatial-queries/)

我计划在 Amazon 上托管我的游戏并使用 Amazon Elasti-cache。我的游戏地图数据是否有可能主要停留在二级缓存中（通过休眠），因此我不会有这种可怕的性能？我真的认为我在使用 MySQL 时遇到的唯一真正的性能问题是在哑图上滚动！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T02:27:19.440

我的数据是空间数据，MySQL的InnoDB引擎不支持空间索引。MyISAM 引擎支持，但它不支持事务或外键。请参阅[MySQL 文档](http://dev.mysql.com/doc/refman/5.6/en/storage-engines.html)。

我没有牺牲事务和外键，而是决定使用支持复杂关系、事务和外键的数据库，因此我将整个项目切换为使用[Neo4j 图数据库](http://www.neo4j.org/)。

# xml - 如何从服务器获取 xml 并在 extjs 中显示到树中？

> ID：15019313
> 
> 赞同：1
> 
> 时间：2013-02-22T07:52:03.860
> 
> 标签：xml, extjs

我正在使用 Extjs 3.4.0 我想从服务器端获取 xml，如下例所示。例子： `<Root> <I DN:'abc'/> <I DN:'def'/> </Root>`

然后，我想在树中显示这个 DN 列。

我该如何继续这样做？

到目前为止，我只使用静态数据在树中显示。但现在我想要这个来自 xml 数据的树节点。

请帮我。

提前致谢。

# oracle - RobotFramework：cx_Oracle - 失败：InternalError：没有Oracle错误？

> ID：15019323
> 
> 赞同：1
> 
> 时间：2013-02-22T07:52:48.523
> 
> 标签：oracle, cx-oracle, robotframework

无法使用搜索找到我的问题的解决方案，所以我创建了这个主题。

[使用数据库库](http://franz-see.github.com/Robotframework-Database-Library/)和 cx_Oracle 模块连接到 Oracle 数据库时遇到问题。

在 python 中`import cx_Oracle`效果很好（不返回错误），但是当我尝试连接到 RobotFramework 上的数据库时`Connect To Database Using Custom Params | cx_Oracle | 'user', 'pass', 'host/db'`

我收到一个错误：`FAIL : InternalError: No Oracle error?`

如果我尝试使用连接到数据库

```
Connect To Database | dbapiModuleName=cx_Oracle | dbName=db_name | dbUsername=user | dbPassword=pass | dbHost=host | dbPort=port 
```

我收到一个错误：`FAIL : TypeError: 'database' is an invalid keyword argument for this function`

我正在使用 Windows7 x86、非管理员用户、Oracle 11g、Python 2.7.3、cx_Oracle 5.1.2、RobotFramework 2.7.6、RIDE 1.0.1。其他一切都像魅力一样工作（使用 PLSQLDeveloper、RobotFramework、Selenium2Libary 等连接到数据库）

有谁知道我该如何解决我的问题？

真诚的，克里斯蒂安斯

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-10-21T14:03:15.503

我遇到了同样的问题：'FAIL：TypeError：'database' is an invalid keyword argument for this function'

这对我有用：

```
DatabaseLibrary.Connect To Database Using Custom Params | cx_Oracle | 'user', 'password', 'host:port/dbname' 
```

# jquery - 替换url参数

> ID：15019324
> 
> 赞同：0
> 
> 时间：2013-02-22T07:52:51.250
> 
> 标签：jquery

我的网址是

```
 /home/?tx_besijobs_pi1[pointer]=2&cHash=749431ca0340bf2344cc90704f79570f 
```

我的 jquery 代码包含

```
 var pntr = getUrlVars()["tx_besijobs_pi1[pointer]"]; 
```

我从中得到指针值 1,2,3,...

我必须在下一次 Tab 单击时将***指针值更改为 0 。***我的替换代码看起来像

```
 id =id.replace("[pointer]=pntr", "[pointer]=0"); 
```

但它不起作用...

如果我手动给出指针值

```
 id =id.replace("[pointer]=2", "[pointer]=0"); 
```

该代码将起作用。如何在代码中使用“ **pntr** ”？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T07:56:30.030

`pntr`是一个变量，所以它应该在引号之外。

试试这个：

```
id = id.replace("[pointer]=" + pntr, "[pointer]=0"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T08:00:33.303

使用正则表达式，如：

```
var url = '/home/?tx_besijobs_pi1[pointer]=2&cHash=749431ca0340bf2344cc90704f79570f';
alert( url.replace(/pointer\]=\d{1,}/gi, "pointer]=0")); 
```

# ios - 无法从 appdelegate 推送视图控制器

> ID：15019325
> 
> 赞同：1
> 
> 时间：2013-02-22T07:52:51.827
> 
> 标签：ios, uiactionsheet, pushviewcontroller, appdelegate

1.  在我的窗口基础应用程序中，当我单击 tabbarcontroller 的第二项时，我需要从我的 appdelegate 导航到 editorview，它将显示一个带有三个选项的操作表。

2.  actionsheet 工作正常，如果您从标签栏中选择第二项，它将显示一个 actionsheet。

3.  但是当我选择我的操作表的第一个选项时，我需要推送到另一个视图

4.  我在 appdelegate 中声明了我的操作表。

5.  我已经实现了 actionsheetdelegate

    *   (void)actionSheet:(UIActionSheet *)actionSheet clickedButtonAtIndex:(NSInteger)buttonIndex

该方法已触发，它可以显示我是否执行 nslog。但它不能推送到我想要的视图控制器。这是我的代码：

```
- (void)actionSheet:(UIActionSheet *)actionSheet clickedButtonAtIndex:(NSInteger)buttonIndex
    {
        if (buttonIndex == 0)
        {
            DetailViewController *v2 = [[DetailViewController alloc] init];

            NSLog(@"PUSH TRIGER");

            [self.window.rootViewController.navigationController pushViewController:v2 animated:YES];
        }
    } 
```

注意：我已经在我的故事板中嵌入了我的 tabbarcontroller 和导航控制器

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2014-01-16T11:40:05.220

它充满了与此问题相关的错误答案。

我希望我的符合你的要求。

1.- 里面

```
- (void)application:(UIApplication*)application didReceiveRemoteNotification:(NSDictionary*)userInfo 
```

// 1.- 首先：实例化 navigationController。通常是 rootviewcontroller

```
 UINavigationController *navigationController = (UINavigationController *)self.window.rootViewController; 
```

// 2.- 第二：实例化故事板 // 它可能被标记为 MainStoryBoard。如果您已更改，请小心

```
UIStoryboard *mainStoryboard = [UIStoryboard storyboardWithName:@"MainStoryboard" bundle: nil]; 
```

// 3.- 第三次实例化你想要导航的 VC // 在我的特殊情况下，它被称为 IniciarSliderViewController 。不要忘记在 appdelegate 中导入它。还要注意正确标记。在我的情况下 MenuSlider

```
IniciarSliderViewController *controller = (IniciarSliderViewController*)[mainStoryboard instantiateViewControllerWithIdentifier: @"MenuSlider"]; 
```

//4.- 最后一个，你现在可以像在 VC 中一样推送

```
[navigationController pushViewController:controller animated:YES]; 
```

不要犹豫，问你是否还有问题

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-22T08:10:20.487

这样做

你分配 VC 是为了`UITabBarController`什么？我打赌`UIViewController`？尝试分配`UINavigationController`而不是`UIViewController`

合成`UINavigationController *navController`；

```
self.navController = [[UINavigationController alloc] init];
SomeViewController *viewController = [[SomeViewController alloc]  initWithNibName:@"SomeViewController" bundle:nil];
self.navController.viewControllers = [NSArray arrayWithObject:viewController];

UITabBarController *tabBarController = [[UITabBarController alloc] init];
[tabBarController setViewControllers:[NSArray arrayWithObjects:
self.navController, nil]]; 
```

然后在您的操作表上

```
[self.navController pushViewController:v2 animated:YES]; 
```

**编辑故事板**

```
UIStoryboard *storyboard = [UIStoryboard storyboardWithName:@"MainStoryboard" bundle:nil];
   self.navController = (UINavigationController*) [storyboard instantiateViewControllerWithIdentifier:@"MyNavController"]; 
```

希望有帮助

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2013-02-22T08:01:17.163

而不是这个 self.window.rootViewController.navigationController

使用 UINavigationController 对象

# text - 如何强制 Sublime Text 2 在 PHP 文件中使用 3 个空格的制表符？

> ID：15019330
> 
> 赞同：5
> 
> 时间：2013-02-22T07:53:08.830
> 
> 标签：text, tabs, tab-size

在我的一些 PHP 文件中，Sublime 显示垂直线（制表位？）间隔 2 个字符，而其他文件默认使这些垂直线间隔 3 个字符（我首选的制表符长度）。

下面可以看到垂直线（这些线相隔 3 个字符）：

[注意我不能发截图，因为我没有足够的积分！]

我的用户首选项文件如下：

```
{
    "draw_white_space": "none",
    "ignored_packages":
    [
        "Vintage"
    ],
    "tab_size": 3,
    "translate_tabs_to_spaces": true,
    "detect_indentation": false,
    "smart_indent": false,
    "use_tab_stops": false,
    "trim_trailing_white_space_on_save": true,
    "fallback_encoding": "UTF-8",
    "rulers": [80, 120]
} 
```

我已经尝试过detect_indentation、smart_indent 和use_tab_stops 的不同排列，即完全省略和真/假等。这没有区别。

我真的很惊讶： a) 不同的 PHP 文件之间存在不一致，即一些默认为垂直行相隔 2 个字符，而另一些则相隔 3 个字符。b）用户设置没有我期望的效果。

任何 Sublime Text 2 专家都知道如何让这些垂直线默认为我的选项卡宽度设置？

非常感谢。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-02-25T00:36:24.183

因为这指的是 PHP 中的特定语法，所以设置必须直接保存在“特定于语法”的设置文件中。打开`Packages/User/PHP.sublime-settings`包文件夹中的文件并写入以下内容：

```
{
    "tab_size": 3,
    "translate_tabs_to_spaces": true,
    "detect_indentation": false
} 
```

但是，如果您希望**所有**代码（即不仅仅是 PHP）都像这样，请将其放在`Packages/User/Preferences.sublime-settings`文件中。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-10-20T10:46:34.483

这两种方法都是有效的，但我认为您应该了解文件`Preferences.sublime-settings`，这是所有环境的默认首选项。

您可以访问`Preferences.sublime-settings`：

偏好 > 设置 - 默认

在主菜单上。或访问路径：

`/home/<user_name>/.config/sublime-text-3/Packages/Default/Preferences.sublime-settings`

对于 Linux 用户，但在其他操作系统中具有类似的架构，除了访问目录的特殊性。像窗户一样`C:\\Programs Files\Sublime Text 3\[...]`

文件 Preferences.sublime-settings 已经预先定义了许多参数，您只需要根据自己的喜好分配值即可。可能值的范围，一般来说，是真、假或数值。

对于您的情况，您应该更改 的值`"tab_size"`，默认情况下它接收 4 个空格作为值 - 它非常适合 Python 程序员），只需更改为所需的值。

```
// Set to true to turn spell checking on by default
"spell_check": false,

// The number of spaces a tab is considered equal to
"tab_size": 4,

// Set to true to insert spaces when tab is pressed
"translate_tabs_to_spaces": true,

// If translate_tabs_to_spaces is true, use_tab_stops will make tab and
// backspace insert/delete up to the next tabstop
"use_tab_stops": true, 
```

我一直喜欢更改值的设置是：

```
"translate_tabs_to_spaces": true, //prevents that to switch from editor the indentation be changed.

"highlight_line": true, //highlights the line where the course is.

"auto_complete_commit_on_tab": true, //allows complement of code structure with tab key. 
```

# amazon-web-services - Composer - 将供应商文件从开发复制到生产可以吗？

> ID：15019338
> 
> 赞同：0
> 
> 时间：2013-02-22T07:53:40.577
> 
> 标签：amazon-web-services, composer-php

我正在为 AWS SDK 使用作曲家。

可以在开发 PC（Windows）上安装 SDK 并将供应商目录复制到生产环境，还是必须在生产服务器（Linux）上安装 composer 并由 composer 安装库？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T10:24:25.783

考虑到为自动加载等生成的所有路径都是相对的，将整个项目移动到另一条路径甚至不同的计算机应该可以正常工作。

# javascript - 是否可以在 JavaScript 中显示 [object FileList] 的内容？

> ID：15019344
> 
> 赞同：1
> 
> 时间：2013-02-22T07:54:12.997
> 
> 标签：javascript, html, filelist

```
if(this.all.length > 0){
    for(var k=0; k<this.all.length; k++){               
        alert(this.all[k]);  // it alerts [object FileList] 
        var file = this.all[k];
        this._uploader(file,0);
    }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T08:19:53.240

```
if(this.all.length > 0){
    for(var k=0, len = this.all.length; k < len; k++){               
        console.dir(this.all[k]);  // will iterate over the properties of each  [object FileList] in the console
        var file = this.all[k];
        this._uploader(file,0);
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T08:09:14.153

如果您想出于调试目的这样做，我建议您使用 console.log：

```
console.log(this.all[k]) 
```

如果您出于某种原因坚持要警告该事物，则可以使用 JSON.stringify 对其进行序列化：

```
JSON.stringify(this.all[k]) 
```

但是，console.log 确实要好得多：不那么烦人，并且您可以轻松地检查对象。

# php - 是否可以在 PHP 脚本已经运行时检查它正在做什么？

> ID：15019345
> 
> 赞同：4
> 
> 时间：2013-02-22T07:54:18.967
> 
> 标签：php

我有一个 PHP 脚本已经运行了一周，因为它正在做大量的数字运算——它没有挂起，只是做了很多工作。问题是我不知道它去了哪里，所以我不知道它是否会在 1 小时或 1 个月内完成。（是的，我应该在里面放点东西让它告诉我，但现在太晚了。）

有什么办法可以找出脚本在做什么？或者更好的是，从当前状态中提取变量？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T08:03:50.143

[在 Windows 上，您可以使用 Microsoft 的procmon.exe](http://technet.microsoft.com/de-de/sysinternals/bb896645.aspx)检查 php.exe 正在做什么。它不会为您提供有关变量等的完整反馈，但您可以检查任何文件系统操作（php 经常这样做）。PHP 有一些内部函数存储为额外的 .exe 文件。如果 PHP 调用它们，您可以使用 procmon 检查...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-04-26T17:27:15.513

我希望脚本现在已经完成了它的任务。作为一般指南，在 Linux 上，您可以使用 top 命令检查系统上运行的进程发生了什么。它为您提供了所有正在运行的进程的窗口。
要专注于单个进程，您可以通过 ps 命令获取其 PID（进程 ID）。所以你可以运行：

$ ps -e

此命令将提供 4 列输出。左列是 PID，而右列是脚本名称。假设您在右栏中找到脚本名称，并检查其 PID 是否为 3468。然后运行

$顶部-p 3468

你会得到定期更新的顶部窗口。您可以在其中选择不同类型的信息。通常你首先检查 %CPU 和 VIRT。VIRT 列很有用，因为如果它不断增加，这几乎是脚本中内存泄漏的明确迹象。
或者，您可以使用 htop 并突出显示您选择的进程，如果您在系统上安装了它。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-04-26T17:40:52.067

The already suggested answers.. Simply show that a script is running.. This as you already stated is not your need...

As for a script already running that does not log / store any information.. Well the only true option you have that i can think of is checking what it is processing.. So if it is processing files / a database.. You should be able to see the changed / modified results.

If its purely all in memory, your more or less out of luck unless you happen to use something like a session.

But simply checking if the script is running... is of no help at all.., So if its processing a database, check the database, If its processing files, check the files.. Otherwise your out of luck.

When it comes to heavy cruncher scripts, for example when i do geo-coding... I store results / processed data in local files.. So if the script fails or stops.. I can resume.. But the benefit of this is i can run another script and read those files and see the progress or last step performed.

CAN this be resumed or would it start over again? If it can be resumed, stop it and have it log or something so you can monitor it? Otherwise your just going to have to wait for it to finish.

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2015-04-26T17:40:44.007

I have written some PHP scripts that take a very long time to run. Usually I have the script update a database table with some statistics occasionally (ex: if in a loop, every 10000 loops, depending on weight of the loop...also take samples of microtime to see how long a particular step takes). I can then check the table for the "statistics" to see how the script is performing, or what particular step it is on.

I'd agree with what others have said about PHP not being the best language for this, but in a pinch I've found this method works well (I've had PHP scripts run stable for months).

# c# - 如何使用主密钥存储多个 ID/密码

> ID：15019346
> 
> 赞同：-1
> 
> 时间：2013-02-22T07:54:19.983
> 
> 标签：c#, .net, visual-studio, security, encryption

类似于说允许主密钥存储各种 ID/密码的 FireFox

我们需要将多个用户 ID/密码存储到多个数据库和受密码保护的文档中，而不是让用户每次使用应用程序时都输入这些（wpf）

不太确定从哪里开始，希望有一个提供此功能的库？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T11:28:03.623

我会这样做：

1.  为每个用户创建一个[证书，对称密钥](http://www.mssqltips.com/sqlservertip/1312/managing-sql-server-2005-master-keys-for-encryption/)是他的密码。
2.  当用户进行身份验证时，使用他的密码解密为他存储在数据库中的用户名/密码对值。
3.  [使用SecureString](http://msdn.microsoft.com/en-us/library/system.security.securestring.aspx)将用户名/密码保存在内存中
4.  需要时使用它。

# android - 使用处理程序的进度对话框在 android 中无法正常工作

> ID：15019347
> 
> 赞同：0
> 
> 时间：2013-02-22T07:54:31.000
> 
> 标签：android, listview, handler, progressdialog

我正在一个应用程序中工作，我在其中分配了进度对话框，但在完成加载后，单击某个编辑框后列表视图也不可见，列表视图可见..

这是我的代码：

```
 new Thread() 
        {
            public void run() 
            {
             try
                {
                URL userurl = new URL("https://api.....");
                BufferedReader in = new BufferedReader(new InputStreamReader(userurl.openStream()));
                String inputLine;
                String strJson1 = "";
                while ((inputLine = in.readLine()) != null) 
                {
                    strJson1 += inputLine;
                }

                System.out.println("buffer"+strJson1);

                jsonobj = new JSONObject(strJson1);

            questionarray = jsonobj.getJSONArray("items");

                } catch (MalformedURLException tagobject) {
                    // TODO Auto-generated catch block
                    tagobject.printStackTrace();
                } catch (IOException tagobject) {
                    // TODO Auto-generated catch block
                    tagobject.printStackTrace();
                }catch (JSONException e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                    }
     handler.sendEmptyMessage(0);

    }
}.start();
handler = new Handler() {
@Override
public void handleMessage(Message msg) {
    try
    {
        for (int i = 0;  i<questionarray.length(); i++) {

            ///Perform the operation get the data from WebService...

}
    catch(Exception e)
{
System.out.println(e);
}

}
}; 
```

错误：

```
02-23 16:32:10.178: E/AndroidRuntime(478): FATAL EXCEPTION: AsyncTask #1
02-23 16:32:10.178: E/AndroidRuntime(478): java.lang.RuntimeException: An error occured while executing doInBackground()
02-23 16:32:10.178: E/AndroidRuntime(478):  at android.os.AsyncTask$3.done(AsyncTask.java:200)
02-23 16:32:10.178: E/AndroidRuntime(478):  at java.util.concurrent.FutureTask$Sync.innerSetException(FutureTask.java:274)
02-23 16:32:10.178: E/AndroidRuntime(478):  at java.util.concurrent.FutureTask.setException(FutureTask.java:125)
02-23 16:32:10.178: E/AndroidRuntime(478):  at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:308)
02-23 16:32:10.178: E/AndroidRuntime(478):  at java.util.concurrent.FutureTask.run(FutureTask.java:138)
02-23 16:32:10.178: E/AndroidRuntime(478):  at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1088)
02-23 16:32:10.178: E/AndroidRuntime(478):  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:581)
02-23 16:32:10.178: E/AndroidRuntime(478):  at java.lang.Thread.run(Thread.java:1019)
02-23 16:32:10.178: E/AndroidRuntime(478): Caused by: android.view.ViewRoot$CalledFromWrongThreadException: Only the original thread that created a view hierarchy can touch its views.
02-23 16:32:10.178: E/AndroidRuntime(478):  at android.view.ViewRoot.checkThread(ViewRoot.java:2932)
02-23 16:32:10.178: E/AndroidRuntime(478):  at android.view.ViewRoot.invalidateChild(ViewRoot.java:642)
02-23 16:32:10.178: E/AndroidRuntime(478):  at android.view.ViewRoot.invalidateChildInParent(ViewRoot.java:668)
02-23 16:32:10.178: E/AndroidRuntime(478):  at android.view.ViewGroup.invalidateChild(ViewGroup.java:2511)
02-23 16:32:10.178: E/AndroidRuntime(478):  at android.view.View.invalidate(View.java:5279)
02-23 16:32:10.178: E/AndroidRuntime(478):  at android.widget.AbsListView.resetList(AbsListView.java:1120)
02-23 16:32:10.178: E/AndroidRuntime(478):  at android.widget.ListView.resetList(ListView.java:511)
02-23 16:32:10.178: E/AndroidRuntime(478):  at android.widget.ListView.setAdapter(ListView.java:440)
02-23 16:32:10.178: E/AndroidRuntime(478):  at com.example.stack.MainActivity.Callpagedetails(MainActivity.java:266)
02-23 16:32:10.178: E/AndroidRuntime(478):  at com.example.stack.MainActivity$GetTask.doInBackground(MainActivity.java:104)
02-23 16:32:10.178: E/AndroidRuntime(478):  at com.example.stack.MainActivity$GetTask.doInBackground(MainActivity.java:1)
02-23 16:32:10.178: E/AndroidRuntime(478):  at android.os.AsyncTask$2.call(AsyncTask.java:185)
02-23 16:32:10.178: E/AndroidRuntime(478):  at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:306)
02-23 16:32:10.178: E/AndroidRuntime(478):  ... 4 more
02-23 16:32:11.048: E/WindowManager(478): Activity com.example.stack.MainActivity has leaked window com.android.internal.policy.impl.PhoneWindow$DecorView@4051f750 that was originally added here
02-23 16:32:11.048: E/WindowManager(478): android.view.WindowLeaked: Activity com.example.stack.MainActivity has leaked window com.android.internal.policy.impl.PhoneWindow$DecorView@4051f750 that was originally added here
02-23 16:32:11.048: E/WindowManager(478):   at android.view.ViewRoot.<init>(ViewRoot.java:258)
02-23 16:32:11.048: E/WindowManager(478):   at android.view.WindowManagerImpl.addView(WindowManagerImpl.java:148)
02-23 16:32:11.048: E/WindowManager(478):   at android.view.WindowManagerImpl.addView(WindowManagerImpl.java:91)
02-23 16:32:11.048: E/WindowManager(478):   at android.view.Window$LocalWindowManager.addView(Window.java:424)
02-23 16:32:11.048: E/WindowManager(478):   at android.app.Dialog.show(Dialog.java:241)
02-23 16:32:11.048: E/WindowManager(478):   at android.app.ProgressDialog.show(ProgressDialog.java:107)
02-23 16:32:11.048: E/WindowManager(478):   at android.app.ProgressDialog.show(ProgressDialog.java:90)
02-23 16:32:11.048: E/WindowManager(478):   at android.app.ProgressDialog.show(ProgressDialog.java:85)
02-23 16:32:11.048: E/WindowManager(478):   at com.example.stack.MainActivity$GetTask.onPreExecute(MainActivity.java:96)
02-23 16:32:11.048: E/WindowManager(478):   at android.os.AsyncTask.execute(AsyncTask.java:391)
02-23 16:32:11.048: E/WindowManager(478):   at com.example.stack.MainActivity.onCreate(MainActivity.java:88)
02-23 16:32:11.048: E/WindowManager(478):   at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
02-23 16:32:11.048: E/WindowManager(478):   at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1611)
02-23 16:32:11.048: E/WindowManager(478):   at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1663)
02-23 16:32:11.048: E/WindowManager(478):   at android.app.ActivityThread.access$1500(ActivityThread.java:117)
02-23 16:32:11.048: E/WindowManager(478):   at android.app.ActivityThread$H.handleMessage(ActivityThread.java:931)
02-23 16:32:11.048: E/WindowManager(478):   at android.os.Handler.dispatchMessage(Handler.java:99)
02-23 16:32:11.048: E/WindowManager(478):   at android.os.Looper.loop(Looper.java:123)
02-23 16:32:11.048: E/WindowManager(478):   at android.app.ActivityThread.main(ActivityThread.java:3683)
02-23 16:32:11.048: E/WindowManager(478):   at java.lang.reflect.Method.invokeNative(Native Method)
02-23 16:32:11.048: E/WindowManager(478):   at java.lang.reflect.Method.invoke(Method.java:507)
02-23 16:32:11.048: E/WindowManager(478):   at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)
02-23 16:32:11.048: E/WindowManager(478):   at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)
02-23 16:32:11.048: E/WindowManager(478):   at dalvik.system.NativeStart.main(Native Method) 
```

谁能帮帮我。。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T08:20:03.287

首先使用单独的工作线程编写您的 Rest 客户端是错误的。

根据 Virgil Dobjanschi 的视频编写 webservice。[http://www.youtube.com/watch?v=xHXn3Kg2IQE](http://www.youtube.com/watch?v=xHXn3Kg2IQE)。他拒绝写在单独的工作线程中。因此，为了让您的应用程序保持一致，您可以使用 Services for Android Rest Client。

您可以参考 [http://www.codeproject.com/Articles/429997/Sample-Implementation-of-Virgil-Dobjanschis-Rest-p](http://www.codeproject.com/Articles/429997/Sample-Implementation-of-Virgil-Dobjanschis-Rest-p)编写 Android webservice Client 的基础。

# c# - 如何按升序对数组进行排序但最后放入0？

> ID：15019357
> 
> 赞同：-1
> 
> 时间：2013-02-22T07:55:00.393
> 
> 标签：c#

以排序数组的成员以升序开始但o值在c＃中最后出现的方式排序数组

```
ulong[] arr = new ulong[30];

arr[0]=13325647855656;
arr[1]=65897426666332;
arr[2]=00685956265661;
arr[4]=0; 
```

那么输出必须是

```
arr[0]=00685956265661;
arr[1]=13325647855656;
arr[2]=65897426666332;
arr[4]=0; 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-22T08:03:38.413

你可以使用`Linq` `OrderBy`和`ThenBy`

```
ulong[] arr = new ulong[30];
arr[0] = 13325647855656;
arr[1] = 65897426666332;
arr[2] = 00685956265661;
arr[4] = 0;

var results = arr.OrderBy(x => x == 0).ThenBy(x => x); 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-02-22T08:02:43.080

您可以使用[`Array.Sort`](http://msdn.microsoft.com/en-us/library/cxt053xf.aspx)此自定义[比较委托](http://msdn.microsoft.com/en-us/library/tfakywbh.aspx)：

```
Array.Sort(arr, (u1, u2) =>
    {
        if (u1 == 0 && u2 == 0) return 0;
        else if (u1 == 0) return ulong.MaxValue.CompareTo(u2);
        else if (u2 == 0) return u1.CompareTo(ulong.MaxValue);
        else return u1.CompareTo(u2);
    }); 
```

[**演示**](http://ideone.com/yI3c9e)

如果你想使用 Linq（`ToArray()`需要在内部创建一个附加数组），我会使用：

```
arr = arr.OrderBy(x => x == 0).ThenBy(x => x).ToArray(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T08:06:15.030

```
class ZeroIsBigComparer : System.Collections.Generic.IComparer<ulong>
    {
        public int Compare(ulong x, ulong y)
        {
            if (x == y) return 0;
            if (x == 0) return 1;
            if (y == 0) return -1;
            return x.CompareTo(y);
        }
    } 
```

然后

```
var comparer = new ZeroIsBigComparer();
arr = arr.OrderBy(x => x, comparer).ToArray(); 
```

# solr - 使用 SOLR 索引 HTML 文件

> ID：15019359
> 
> 赞同：0
> 
> 时间：2013-02-22T07:55:06.573
> 
> 标签：solr, lucene, indexing

我正在尝试使用 SOLR 索引一组 HTML 文件。基本思想是为开发的网站实现网站搜索功能。我对 Lucene 和 SOLR 非常陌生，并且已经尝试了站点中可用的一些示例，并使用它索引了一些文档。但是我无法就什么是最好的做事方式得出结论。有些人建议使用 DataImportHandler，有些地方我看到使用 ExtractingRequestHandler。我这边的一个简单尝试是使用 ExtractingRequestHandler。另外我将不得不更新文件列表，例如，将来可能会删除一些 HTML，可能会添加一些 HTML 等等。请在选择方法时建议要考虑的因素

干杯！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T13:38:26.993

我建议您使用[Nutch](http://nutch.apache.org/about.html)将您的 HTML 文件抓取并索引到 Solr。它内置了对跟踪文件删除/添加到站点的支持。

另请查看[Nutch Wiki](http://wiki.apache.org/nutch/)以获取有关入门的教程。

# php - 当表单动作到同一页面时，保留页面位置？

> ID：15019360
> 
> 赞同：3
> 
> 时间：2013-02-22T07:55:12.483
> 
> 标签：php, javascript, jquery, html

在我当前的项目中，用户在他们正在编辑的内容上单击“保存更改”，它位于页面下方，编辑框、保存的文本等...弹出。有没有办法让网站保留其页面位置，以便将它们自动滚动回他们单击编辑的位置？

理想情况下，我会有某种类型的解决方案，页面不必重新加载，但我不知道该怎么做，哈哈。

我的网站是用 PHP 编码的。

谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-22T08:00:20.517

Html 中有一个功能可以在使用 (#) 的帮助下定位您的页面。

例如，考虑您的编辑按钮所在的以下场景

```
<div id="editButton">
 <input type="button" name="Edit" value ="Edit"/>
</div> 
```

如果您的页面名称是“index.php”并且您使用 url 重定向：**“index.php#editButton”** 您的页面将自动滚动到该部分而无需太多努力。

它标识元素的 id 并将滚动条放置到该位置。

干杯

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-22T07:58:34.360

您可能想查看一些关于如何通过 AJAX 保存表单的教程。这意味着您没有发布页面，因此它不会刷新，用户也不会失去他们在页面上的位置。

[http://www.jstiles.com/Blog/How-To-Submit-a-Form-with-jQuery-and-AJAX](http://www.jstiles.com/Blog/How-To-Submit-a-Form-with-jQuery-and-AJAX)
[http://www.devblog.co/easy-jquery-ajax-php-contact-form /](http://www.devblog.co/easy-jquery-ajax-php-contact-form/)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2017-01-07T19:03:33.290

我只是将 ID 选择器的名称放入表单操作中：

```
<form class="form-horizontal" method="post" action="#regform"> 
```

它对我有用。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-22T08:01:13.570

是的，有这种方法很好。

与其完全重定向，不如只发送一部分数据并相应地上传。

为此，您需要[http://www.w3schools.com/ajax/default.ASP](http://www.w3schools.com/ajax/default.ASP)

然后，学习 jQuery（希望你熟悉 CSS 中的 id 和 class）...

[http://api.jquery.com/jQuery.ajax/](http://api.jquery.com/jQuery.ajax/)

凉爽的？

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-22T08:04:45.307

如果您在一页上有多个表单，则可以添加`name`该表单的属性以进行链接。例如

```
<form name="my-form1" action="form.php#my-form1"> 
```

我想这应该可行。

另一种方法是考虑使用 Ajax，因此您根本不必重新加载页面，或者您可以创建将在表单提交时调用的 javascript 函数，并将当前页面位置添加到隐藏输入中。页面重新加载后，您可以使用隐藏输入中的值滚动到原始位置。

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2013-02-22T07:59:06.263

是的，使用 Ajax 部分更新页面。这是在任何网络技术中做到这一点的方式。

# android - 为什么程序无法读取 run() 方法？

> ID：15019367
> 
> 赞同：0
> 
> 时间：2013-02-22T07:55:35.723
> 
> 标签：android

我编写了这个程序，但是当我运行这个程序时，程序无法读取 run() 方法，因为在 logCat 中没有显示 log.e() 并且没有在 textView 中显示消息。为什么？

MainActivity.java：

```
public class MainActivity extends Activity{

private TextView textModifiedThread;
private int threadModifiedInt=4;
private Point threadModifiedPoint=new Point(20,10);
boolean activeThread=true;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
    Log.e("CREATE", "READ");

    textModifiedThread=(TextView)findViewById(R.id.textId);
    Thread currentThread=new Thread(){
        public void Run(){
            Log.e("RUN", "READ");
            try{
                threadModifiedInt=20;
                threadModifiedPoint.set(30, 40);

                int timeCounter=100;
                while(activeThread&&(timeCounter>0)){
                    try {
                        sleep(100);
                    } catch (InterruptedException e) {
                        // TODO Auto-generated catch block
                        e.printStackTrace();
                    }
                    if(timeCounter%10==0){
                        threadHandler.sendEmptyMessage((int)timeCounter/10);
                        Log.e("WHile", "Read");
                    }
                    timeCounter--;
                }
            }finally{
                finish();
            }
        }
    };        
    currentThread.start();
}

@Override
public boolean onTouchEvent(MotionEvent event){
    if(event.getAction()==MotionEvent.ACTION_DOWN){
        activeThread=false;
        Log.e("TOUCH", "READ");
    }
    return super.onTouchEvent(event);
}
private Handler threadHandler=new Handler(){
    public void handleMessage(android.os.Message msg){
        textModifiedThread.setText("test int is "+threadModifiedInt+"\ntest    point is "+threadModifiedPoint.toString()+"\ncounter is "+Integer.toString(msg.what));
        Log.e("ERROR", "Read this");
    }
};
} 
```

活动主.xml：

```
 <?xml version="1.0" encoding="UTF-8"?>
 <LinearLayout 
android:layout_height="fill_parent" 
android:layout_width="fill_parent" 
android:orientation="vertical" 
xmlns:android="http://schemas.android.com/apk/res/android"> 
<TextView 
    android:layout_height="wrap_content" 
    android:layout_width="fill_parent" 
    android:id="@+id/textId"/> 
    </LinearLayout> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T08:02:05.120

因为你拼错了运行词：

```
public void Run(){ 
```

运行必须小写。所以正确的方法是：

```
public void run() 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T07:59:32.547

尝试改用可运行线程。并且您的 public void Run() 尝试将其更改为 `public void run()`. 这大概就是它的原因。

```
Thread currentThread=new Thread(new Runnable){
    public void run(){

    }
 } 
```

# bash - 重定向命令输出而不覆盖

> ID：15019370
> 
> 赞同：0
> 
> 时间：2013-02-22T07:55:46.150
> 
> 标签：bash

我确实有这样的命令：

```
 grep pattern file > result && head -n 1 file >> result 
```

我用它`grep`来提取特定模式并`head`提取标题。

是否可以简化我的命令？例如重定向输出`grep`？

如果我使用这个：

```
 head -n 1 file > result <<(grep pattern file) 
```

我收到一个错误`bash: syntax error near unexpected token ('`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T13:11:10.300

您可以使用命令组来组合两个命令的标准输出：

```
{ grep pattern file && head -1 file; } > result 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-02-22T07:58:29.800

如果我理解正确，你需要这个：

```
grep pattern file | head -n 1 file >> result 
```

通过管道将标准输出从 grep 发送到 head，然后附加到文件结果中。如果您不希望/不需要它在文件结果中，仅在屏幕上，您可以使用：

```
grep pattern file | head -n 1 file 
```

我希望我有所帮助。

# c# - Sharepoint 2010 升级到 SP1。无法创建 ClassName`1[T] 的实例，因为 Type.ContainsGenericParameters 为真

> ID：15019371
> 
> 赞同：1
> 
> 时间：2013-02-22T07:55:54.963
> 
> 标签：c#, sharepoint-2010, upgrade

我在我的场上部署了一个解决方案，它安装应用程序服务及其对应的代理。

当我安装 SP1 并尝试运行配置向导时，出现以下异常：

无法创建 MyNameSpace.SPApplicationProxy`1[T] 的实例，因为 Type.ContainsGenericParameters 为真。

我有 5 个来自这种类型 MyNameSpace.SPApplicationProxy`1[T] 的应用程序代理，看起来他正试图通过反射来调用它们......

我该如何解决？我怎样才能使我的课程不可升级？

# iphone - UIImageView 在 Screencapture 视图中使用时拖拽生涩

> ID：15019372
> 
> 赞同：1
> 
> 时间：2013-02-22T07:56:01.263
> 
> 标签：iphone, ios, objective-c, ios6

我正在一个项目中工作，我需要拖动图像并为其创建视频，当我在主视图中使用它时效果很好。

我使用`ScreencaptureView.h`和`ScreencaptureView.m`文件进行视频录制，我在主视图中对其进行子视图，并在捕获视图中添加图像对象的子视图。

现在的问题是因为我在`ScreencaptureView`拖动中查看图像变得很慢。

可以做些什么来解决这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-03T16:50:05.897

我并不奇怪它会减慢你的动画速度。要捕获并作为图像保存到内存中的数据量是巨大的。这里没有奇迹。数据必须从图形内存刷新到 RAM，然后再到磁盘，这需要很长时间。我向您推荐的是分两步完成。主要思想是实时捕获尽可能少的数据。

**- 第 1 步：实时捕捉**

在此步骤中，不要将您的子视图放在 ScreencaptureView 中，而是放在普通视图中，或者如果该选项可用，则禁用捕获。仅捕获您在字典中的每个图像上所做的翻译值，例如键引用您的图像的位置（带有指向图像的指针的 N​​SValue）。每帧保存一个字典。然后你有一个字典数组。您可以想象其他解决方案来存储您转储的数据。您可以以 30 fps 或 60 fps 轻松完成。这样，您的捕获非常轻量级，并且动画对于用户来说将是完全流畅的。

**-步骤 2：重播 - 后处理**

现在您可以将您的子视图放在 ScreencaptureView 中，或者如果已经简单地激活捕获模式。通过读取您记录的值来重播您的动画，并将相应的翻译重新应用于图像（当然，您必须保留它们）并像往常一样捕获帧。现在它可以变慢，但没关系。帧将被一一处理。

这个完成了 ！你现在有一个流畅的动画视频截图。

清楚吗 ？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T14:49:36.620

尝试这个

*   在触摸开始事件期间，首先，将被拖动到根视图的视图添加为子视图。调用bringSubviewToFront 方法将拖动的视图保持在根视图层次结构的顶部。
*   确保根视图应该是拖动视图和目标视图的父视图（在您的情况下为 ScreencaptureView）。
*   在触摸结束事件期间将拖动的视图添加到目标视图（ScreencaptureView）。

# php - 从一系列值数组php中选择一个特定值

> ID：15019374
> 
> 赞同：1
> 
> 时间：2013-02-22T07:56:13.567
> 
> 标签：php, arrays, loops

我有一个看起来像这样的数组：我需要有这种格式的数组，以便稍后在脚本中使用。

```
//this is only 1 values set there are others that are returned.
    Array
    (
        [DealerName] => Auto Bavaria Midrand MINI
        [CustomersCounted] => 16
        [Satisfied_Y] => 10
        [Satisfied_N] => 6
        [InterviewDate] => 2012-01-13
    ) 
```

`$customerSatisfactionRatings`我已经调用了循环遍历的数组。

```
foreach($customerSatisfactionRatings as $customerSatisfactionRating) {
      $content .= $customerSatisfactionRating';
    } 
```

这会将正确的值返回到内容变量中。我感兴趣的是从`[Satisfied_Y]`密钥创建一个字符串。

我需要的一个例子是`$content = '10,5,15,7,8,9,0,3';`

我知道如何制作字符串，但不知道如何仅提取`[Satisfied_Y]`密钥。这让我很难过。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T08:07:19.183

您使用映射函数`Satisfied_Y`从每个项目中提取每一列`$customerSatisfactionRatings`，然后将结果连接在一起：

```
$content = join(',', array_map(function($item) {
    return $item['Satisfied_Y'];
}, $customerSatisfactionRatings)); 
```

这假设其中的每个项目`$customerSatisfactionRatings`都是一个数组，如您的问题中所述。

也可以看看：[`array_map()`](http://www.php.net/array_map)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T08:01:02.640

我认为它会起作用。试试这个，

```
$satisfyY = array();
foreach($customerSatisfactionRatings as $customerSatisfactionRating) {
      $content .= $customerSatisfactionRating;
      $satisfyY = $customerSatisfactionRating['Satisfied_Y'];
 } 
```

然后将其内爆以制作一个字符串。

```
$sat_Y = implode(",", $satisfyY); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-22T08:04:35.747

```
foreach($customerSatisfactionRatings as $temp)
 if (isset($temp['Satisfied_Y']))
   {
   if (isset($content)) $content.=','.$temp['Satisfied_Y'];
    else $content=$temp['Satisfied_Y'];
   } 
```

# git - Git：如何获取单个远程分支并自动创建它的远程跟踪分支？

> ID：15019375
> 
> 赞同：4
> 
> 时间：2013-02-22T07:56:15.107
> 
> 标签：git

[git-fetch 手册页](http://www.kernel.org/pub/software/scm/git/docs/git-fetch.html)说：

```
git fetch remote_repo 
```

将从远程存储库更新所有分支的“远程跟踪分支”。

如果我只需要获取一个远程分支怎么办？

我尝试运行：

```
git fetch remote_repo remote_branch 
```

它只是将信息存储到`FETCH_HEAD`而不是创建名为`remote_repo/remote_branch`.

我知道有一个解决方案：

```
git fetch remote_repo remote_branch:refs/remotes/remote_repo/remote_branch 
```

但这太冗长了。

有没有更简单的方法来实现这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T08:00:33.980

如果您要获取的远程分支集有些稳定，您可以编辑`remote.<name>.fetch`以`git-config`实现该结果：

```
git config remote.remote_repo.fetch remote_branch:refs/remotes/remote_repo/remote_branch 
```

运行裸机时，该配置将作为默认设置`git fetch`：

```
remote.<name>.fetch
    The default set of "refspec" for git-fetch(1). See git-fetch(1). 
```

# jquery - 使用 JQuery / JavaScript 将按钮变成进度条

> ID：15019381
> 
> 赞同：0
> 
> 时间：2013-02-22T07:56:35.083
> 
> 标签：jquery, html, css, button, progress-bar

我正在尝试找出如何将按钮变成进度条。例如，在引导按钮中，例如：

```
<button class="btn btn-large btn-primary" type="button">Load</button> 
```

我目前正在使用经典的引导进度条并通过 JQuery setInterval 刷新它：

```
<div class="progress progress-striped"><div id="data_loaded" \
class="bar" style="width: 100%;"></div></div> 
```

是否可以将按钮变成进度条 - 这样前进的进度会填充实际按钮的背景，而不是为进度条使用单独的页面元素？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T08:04:05.057

您可以在单击时隐藏按钮，并在按钮的位置显示进度条。

```
<button class="btn btn-large btn-primary" type="button" onClick="showProgress()">Load</button>

function showProgress(){
    $("button").fadeOut();
    $("#data_loaded").fadeIn();
  } 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-22T08:06:30.130

是的，jQuery 有一个`.replaceWith()`方法。

> **描述**：用提供的新内容替换匹配元素集中的每个元素，并返回被删除的元素集。

假设您想使用 HTML5 进度条，您可以这样编写代码：HTML5

```
<button class="btn btn-large btn-primary" type="button">Load</button> 
```

JS：

```
$('button').replaceWith('<progress max="100" value="60">\
        <strong>Progress: 60% done.</strong>\
    </progress>'); 
```

提琴手： http: [//fiddle.jshell.net/KQr7S/](http://fiddle.jshell.net/KQr7S/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-22T08:02:41.927

是的，我认为这是可能的。当然，使用按钮时，您不能像第二个示例中显示的那样让内部容器填充父容器。

但是，您可以使用 - 例如 - 按钮的背景属性来执行此操作。因此，如果您自定义按钮样式并让背景位置根据进度值更改，您应该能够使其正常工作。

所以基本上，您希望从按钮左侧的按钮背景开始，然后逐渐将其向右移动。

另一种解决方案是在按钮和`<div>`您显示的进度条之间切换。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-22T08:21:18.243

我认为最好的做法是使用 2 个不同的元素，这样您就可以在完成后重置表单，但是可以使用单个 div 来完成，但是您仍然需要向按钮添加进度条元素除非您有其他方法可以制作进度条...进度。

单击按钮时，删除着色格式，并添加空白进度条。随着进度条的更新，它会变宽，直到填满按钮。

这是一个让你开始的小提琴：http: [//jsfiddle.net/zRBxR/](http://jsfiddle.net/zRBxR/)

CSS：

```
.progress,
.progress:hover {
    background: transparent;
    padding: 0;
    height: 30px;
    width: 68px;
}

#progress-bar {
    background: #000;
    display: block;
    height: 30px;
    width: 0;
} 
```

html:

```
<html>
    <body>
        <div id="progress-button" class="btn btn-primary btn-default" onclick="startProgress();">Button</div>
    </body>
</html> 
```

js：

```
var progress = 0;

function startProgress()
{

    // change button to progress button, and add progress bar
    $('#progress-button').addClass('progress').html('<span id="progress-bar"></span>');

    // update progress bar every 0.5 second
    setInterval(function(){
        $('#progress-bar').width(progress);
        progress++;
    }, 500);
} 
```

# java - 打印最小和最大的数字。输出不是我想要的

> ID：15019384
> 
> 赞同：0
> 
> 时间：2013-02-22T07:56:50.160
> 
> 标签：java

编写一个名为 minimumLargest 的方法，要求用户输入数字，然后打印用户输入的所有数字中的最小和最大。您可以假设用户输入了一个大于 0 的有效数字来读取要读取的数字。这是一个示例对话：

你想输入多少个数字？4

```
Number 1: 5
Number 2: 11
Number 3: -2
Number 4: 3
Smallest = -2
Largest = 11 
```

这就是我所做的，但我无法获得最小和最大的输出。

```
import java.util.*;
public class smallestLargest{
    public static void main(String[] args){

        System.out.print("How many numbers do you want to enter? ");
        Scanner sc=new Scanner(System.in);
        int count=sc.nextInt();

        int smallest=Integer.MAX_VALUE;
        int largest=Integer.MIN_VALUE;

        for(int i=1;i<=count;i++){
            System.out.println("Number" + i + ": ");
            int nextNumber=sc.nextInt();
            if(nextNumber<smallest){
                smallest+=nextNumber;
            }
            else if(nextNumber<largest){
                largest+=nextNumber;
            }

        }
        System.out.println("Smallest= "+ smallest);
        System.out.println("Largest= "+ largest);

    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T07:59:06.357

这就是问题：

```
if(nextNumber<smallest){
    smallest+=nextNumber;
}
else if(nextNumber<largest){
    largest+=nextNumber;
} 
```

这根本不符合你的要求。

我不会给你解决方案，但考虑一下 - 一次只做一个。让我们从“最小”开始。

*   如果我们当前的最小数字是 5，有人输入 2，那么新的最小数字应该是多少？为什么？

*   如果我们当前的最小数字是 5，有人输入 10，那么新的最小数字应该是多少？为什么？

解决这个问题，然后将相同的思维过程应用于“最大数字”。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T08:11:59.597

一点点“我很懒”的解决方案：

```
 Scanner sc = new Scanner(System.in);
        List<Integer> numbers = new ArrayList<Integer>();
        while (sc.hasNextInt())
        {
            numbers.add(sc.nextInt());
        }
        System.out.println("Smallest= " + Collections.min(numbers));
        System.out.println("Largest= " + Collections.max(numbers)); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T08:02:52.200

不要使用“else if”，因为在第一个循环中，数字将通过两个测试 - 即它将是最小和最大的，也不要使用“+=”，只需“=”并更改“最大”。所以像：

```
if(nextNumber<smallest)
    smallest=nextNumber;

if(nextNumber>largest)
    largest=nextNumber; 
```

# version-control - MS Access 中的源代码控制/版本控制

> ID：15019385
> 
> 赞同：1
> 
> 时间：2013-02-22T07:56:56.017
> 
> 标签：version-control, ms-access-2010

这是关于该主题的一般性问题。我遇到了一篇**[文章](https://stackoverflow.com/questions/187506/how-do-you-use-version-control-with-access-development)**，它提供了用于版本控制的 VB 脚本代码。我已经使用 Access 进行了一段时间的开发，但我完全是自学的，可能对更广泛的 IT 世界一无所知。我得到了为我工作的代码，但我不知道如何把它作为一个系统工作。

为了提供一些背景信息，我有一个示例情况，也许这种事情可以解决。我现在正在同时开发两个版本（1.2 和 1.3），因为我们要发布的第一个版本必须在中国使用的地方进行测试。由于中国新年，他们离开办公室一周，与此同时，我正在开发 1.3。现在，我必须对 1.2 进行的任何更改当然必须进入 1.3。实际上，情况比这更糟，因为我们必须在两个单独的版本中执行此操作这一事实的明确性直到工作完成后才出现，事后看来，我们无法将其纳入 1.2。

帖子中的代码基本上将有关表单、报告、VBA 和宏的所有信息转储到一堆文本文件中（由于某种原因不是表格，也许这与我正在使用 Access 的事实有关2010 而不是创建此代码的任何版本。）显然，它可以从这些相同的文本文件重建应用程序。

我需要了解什么关于源代码控制才能使这样的事情为我工作？我知道这可能不是您想在帖子中解释的内容，但是您能否在信息方面为我指明正确的方向？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2016-02-02T08:44:12.873

虽然这个问题已经有 3 年历史了，但无论如何，有些人可能会对答案感兴趣。
AFAIK，accesssvn.codeplex.com - 由@Robby Shaw 引用 - 不工作且未维护。
今天我看到 2 个产品可用于 VCS 集成：

*   一个是[https://github.com/timabell/msaccess-vcs-integration](https://github.com/timabell/msaccess-vcs-integration)非常活跃
*   另一个是[Microsoft Access 2010 源代码控制](https://www.microsoft.com/en-us/download/details.aspx?id=6840)，我不知道它是否适用于更新版本的 Access

除了 VCS，您还可以使用数据库比较工具，例如 Microsoft 的[Database Compare 2013](https://support.office.com/en-gb/article/Compare-two-versions-of-a-database-Database-Compare-a969a77a-5251-4b59-84ea-74e12a135a05)

另外值得考虑的是 Accdbmerge，一个[合并 2 个数据库的工具](https://db-merge-tools.net/microsoft-access-diff-merge-overview.html)。

# java - 从android中的外部存储访问或打开数据库

> ID：15019391
> 
> 赞同：1
> 
> 时间：2013-02-22T07:57:27.103
> 
> 标签：java, android, database, eclipse, sqlite

--> 好的，我在 SD 卡中有一个 Sq-lite 数据库。

```
 (String DB_PATH = Environment.getExternalStorageDirectory().getPath().toString();) 
```

--> 检查数据库是否存在

```
 dbFile = new File(DB_PATH + DB_NAME );
        if(dbFile.exists()== true)
        {
            //set text db exists
            open_DB();

        }
        else 
        {
            //set text db does not exist
            return;
        } 
```

--> 在调试时我可以确认数据库文件的存在。但是打开
数据库时出现异常

```
 SQLiteDatabase checkDB = null;
    try 
    {
        dbFile = new File(DB_PATH + DB_NAME);
        myDataBase = SQLiteDatabase.openOrCreateDatabase(dbFile, null);

        //myDataBase = SQLiteDatabase.openDatabase(DB_PATH + DB_NAME, null, 0);
        //also tried this

        //set text bd opened
    }
    catch(SQLiteException e) 
    {
        //set text bd unable open
        return;
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T08:49:05.280

可能您的问题是由标志或文件引起的，因此请尝试使用：

```
dbFile = new File(DB_PATH + DB_NAME);
if (dbFile.exists()) {
   db = SQLiteDatabase.openDatabase(db_path, null, SQLiteDatabase.NO_LOCALIZED_COLLATORS | SQLiteDatabase.CREATE_IF_NECESSARY);
} 
```

让我知道。

# sql - 字符串或二进制数据将被截断。该语句已终止

> ID：15019397
> 
> 赞同：88
> 
> 时间：2013-02-22T07:57:49.757
> 
> 标签：sql, sql-server

我在 SQL 服务器上遇到了一些问题，这是我创建的函数：

```
ALTER FUNCTION [dbo].[testing1](@price int)
RETURNS @trackingItems1 TABLE (
   item       nvarchar  NULL,
   warehouse   nvarchar NULL,
   price int   NULL
) 
AS
BEGIN
   INSERT INTO @trackingItems1(item, warehouse, price)
   SELECT ta.item, ta.warehouse, ta.price 
   FROM   stock ta
   WHERE  ta.price >= @price; 

   RETURN;
END; 
```

当我编写查询以使用该函数时，如下所示

> *字符串或二进制数据将被截断。该语句已终止*

我该如何解决这个问题？

```
select * from testing1(2) 
```

这是我创建表格的方式

```
CREATE TABLE stock(item       nvarchar(50) NULL,
                   warehouse   nvarchar(50) NULL,
                   price int NULL); 
```

* * *

## 回答 #1

> 赞同：72
> 
> 时间：2013-02-22T08:06:21.123

当你定义[`varchar`etc 时没有长度，默认为 1。](http://msdn.microsoft.com/en-gb/library/ms186939.aspx)

> 当在数据定义或变量声明语句中未指定 n 时，默认长度为 1。当未使用 CAST 函数指定 n 时，默认长度为 30。

因此，如果您希望 中的`@trackingItems1`列中有 400 个字节`stock`，请使用`nvarchar(400)`.

否则，您试图将 >1 个字符放入`nvarchar(1)`= fail

作为评论，这也是[对表值函数的不好使用，](https://stackoverflow.com/a/510754/27535)因为它是“多语句”。可以这样写，运行起来会更好

```
ALTER FUNCTION [dbo].[testing1](@price int)
RETURNS
AS
   SELECT ta.item, ta.warehouse, ta.price 
   FROM   stock ta
   WHERE  ta.price >= @price; 
```

当然，您可以只使用普通的 SELECT 语句..

* * *

## 回答 #2

> 赞同：43
> 
> 时间：2013-02-22T08:05:13.443

目标列的最大长度小于您尝试插入的值。

右键单击 SQL 管理器中的表并转到“设计”以可视化您的表结构和列定义。

编辑：

尝试在您的 nvarchar 插入上设置一个长度，该长度与表中定义的长度相同或更短。

* * *

## 回答 #3

> 赞同：24
> 
> 时间：2016-07-20T08:17:52.387

就我而言，我收到此错误是因为我的桌子有

```
varchar(50) 
```

但我正在注入 67 个字符的长字符串，这导致了这个错误。将其更改为

```
varchar(255) 
```

解决了这个问题。

* * *

## 回答 #4

> 赞同：8
> 
> 时间：2013-02-22T08:09:47.987

指定*项目*和*仓库*的大小，如 [dbo].[testing1] FUNCTION

```
@trackingItems1 TABLE (
item       nvarchar(25)  NULL, -- 25 OR equal size of your item column
warehouse   nvarchar(25) NULL, -- same as above
price int   NULL

) 
```

由于在 MSSQL 中只说*nvarchar*等于 nvarchar(1) 因此*库存*表中列的值被截断

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2020-07-15T08:05:29.763

SQL Server 2016 SP2 CU6 和 SQL Server 2017 CU12 引入了跟踪标志 460 以返回截断警告的详细信息。您可以在查询级别或服务器级别启用它。

**查询级别**

```
INSERT INTO dbo.TEST (ColumnTest)
VALUES (‘Test truncation warnings’)
OPTION (QUERYTRACEON 460);
GO 
```

**服务器级别**

```
DBCC TRACEON(460, -1);
GO 
```

从 SQL Server 2019 开始，您可以在数据库级别启用它：

```
ALTER DATABASE SCOPED CONFIGURATION 
SET VERBOSE_TRUNCATION_WARNINGS = ON; 
```

旧的输出消息是：

```
Msg 8152, Level 16, State 30, Line 13
String or binary data would be truncated.
The statement has been terminated. 
```

新的输出消息是：

```
Msg 2628, Level 16, State 1, Line 30
String or binary data would be truncated in table 'DbTest.dbo.TEST', column 'ColumnTest'. Truncated value: ‘Test truncation warnings‘'. 
```

在未来的 SQL Server 2019 版本中，默认情况下，消息 2628 将替换消息 8152。

# jquery - asp.net jquery 简单的自定义文件上传

> ID：15019398
> 
> 赞同：1
> 
> 时间：2013-02-22T07:57:52.347
> 
> 标签：jquery, asp.net, file-upload, upload

我一直在研究 asp.net 中的自定义文件上传控件。但是做起来太难了。我已经走了这么远，但我有一些我无法理解的问题。

我正在尝试隐藏文件上传控件并改为显示图像。当用户单击图像时，我希望弹出上传文件。我用 jquery 在 html 中尝试了同样的事情，它可以工作，但它在 aspp.net 中不起作用

上传文件不显示。

这是 html 代码 - [http://jsfiddle.net/ees2q/1/](http://jsfiddle.net/ees2q/1/)

这是 asp.net 代码：

```
 <asp:FileUpload ID="FileUpload1" runat="server" style="display:none" />
 <img id="upload_img" src="http://us.cdn1.123rf.com/168nwm/artlosk/artlosk1010/artlosk101000085/7909823-single-rectangle-upload-button.jpg" width="20px">
 <script>$(document).ready(function () { $('#upload_img').click(function () { $('#FileUpload1').click(); }); });</script> 
```

请帮我修复 asp.net 代码以显示文件上传

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T08:07:41.393

尝试使用这个：

```
 $("#<%=FileUpload1.ClientID %>").click(function(){
    $('#upload').click();
}); 
```

# image - 将（SVG-）图像添加到 R 中的现有图形

> ID：15019405
> 
> 赞同：6
> 
> 时间：2013-02-22T07:58:22.967
> 
> 标签：image, r, import, svg, insets

我想将图像（理想情况下是 SVG）作为 R 中现有图形的插图，并在图像周围放置黑色边框。

R中的基本功能可能吗？我需要包裹吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T08:19:05.350

也许这个`grImport`包就是你要找的？但是，它似乎只允许导入 Posctscript 文件。

[您可以在包网页上](http://cran.r-project.org/web/packages/grImport/index.html)找到两个 vignettes 文件，这应该可以帮助您了解如何使用它。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-22T09:58:43.090

将您的 SVG 转换为 PostScript，然后您就可以做所有这些好事：

[http://www.stat.auckland.ac.nz/~paul/Talks/import.pdf](http://www.stat.auckland.ac.nz/~paul/Talks/import.pdf)

如果有一种更简单的方法可以将 SVG 转换为那里提到的 RGML 格式，那将是一个更好的选择。

# c# - 在 Windows Phone 应用程序中显示一组数据

> ID：15019412
> 
> 赞同：0
> 
> 时间：2013-02-22T07:58:48.273
> 
> 标签：c#, silverlight, windows-phone-7, xaml

我有一个二维数组：

```
a   b   c   d   f   g   h   i
2   3   4   5   6   7   8   9
1   2   3   2   1   7   8   9
4   3   2   1   5   7   8   9
2   3   4   5   6   7   8   9
1   2   3   2   1   7   8   9
4   3   2   1   5   7   8   9
2   3   4   5   6   7   8   9
1   2   3   2   1   7   8   9
4   3   2   1   5   7   8   9 
```

我想在 WP7 应用程序中显示这个数组，所以我尝试了这段代码：

```
int top = 50;
for (var rows = 0; rows < jsonObject["data"].Count(); rows++)
{
    int left = 0;
    for (var cols = 0; cols < jsonObject["data"][rows].Count(); cols++)
    {
        TextBlock txt = new TextBlock();
        txt.FontSize = 21;
        txt.Text = (String)jsonObject["data"][rows][cols];
        Canvas.SetTop(txt, top);
        Canvas.SetLeft(txt, left);
        MainCanvas.Children.Add(txt);
        left = left + 100;
    }
    top = top + 100;
} 
```

数组的每个元素都显示在 a 中`TextBlock`，

现在它看起来像这样：

```
 a   b   c   d   
    2   3   4   5     
    1   2   3   2       /// rest of the columns is invisible 
    4   3   2   1  
    2   3   4   5  
    1   2   3   2  

   /// rest of the rows is invisible 
```

问题是我不能左右滑动数据，所以我只能看到有限数量的行和列。

谁能给我一个可能的解决方案？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T08:50:19.953

不确定这是否会有所帮助（目前无法测试），但也许将其放入 ScrollViewer 会有所帮助。就像是：

```
var scrollViewer = new ScrollViewer();
scrollViewer.Content = txt; 
```

也许您必须设置宽度和高度或水平/垂直对齐方式，以使滚动查看器占用必要的屏幕空间。

# requirejs - 通过插件加载的模块的requirejs别名

> ID：15019414
> 
> 赞同：2
> 
> 时间：2013-02-22T07:58:50.003
> 
> 标签：requirejs

我想为通过插件加载的 requirejs 模块创建一个别名，如文本或在本例中为 noext 插件。

我正在尝试这样做，但是在加载资源时它不会使用插件，而是将其视为一个简单的路径。

```
require.config({
    paths: {
        noext: '../../../../Stuff/require/noext',
        resources: 'noext!application/resources'
    }
}); 
```

如何为通过插件加载的模块创建别名？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T08:11:59.010

我认为使用 requirejs 对资源进行别名的唯一方法是定义它们：

```
define('noext', ['../../../../Stuff/require/noext'], function(noext) {
  return noext;
}); 
```

# java - FileDialog 和复合

> ID：15019415
> 
> 赞同：0
> 
> 时间：2013-02-22T07:58:50.330
> 
> 标签：java, swt, composite

我正在尝试使用`FileDialog`Java SWT 创建一个浏览按钮并进行复合。（复合，因为，我用`CTabFolder`和`CTabItem`。我觉得向`CTabItem`复合中添加组件就足够了）

```
import java.io.BufferedReader; 
import java.io.File;
import java.io.FileReader;
import java.util.StringTokenizer;
import org.eclipse.swt.SWT;
import org.eclipse.swt.widgets.Button;
import org.eclipse.swt.widgets.Composite;
import org.eclipse.swt.widgets.Display;
import org.eclipse.swt.widgets.FileDialog;
import org.eclipse.swt.widgets.Group;
import org.eclipse.swt.widgets.Label;
import org.eclipse.swt.widgets.Shell;
import org.eclipse.swt.widgets.TabFolder;
import org.eclipse.swt.widgets.TabItem;
import org.eclipse.swt.widgets.Table;
import org.eclipse.swt.widgets.TableColumn;
import org.eclipse.swt.widgets.TableItem;
 import org.eclipse.swt.widgets.Text;
import org.eclipse.swt.custom.CBanner;
import org.eclipse.swt.events.SelectionAdapter;
import org.eclipse.swt.events.SelectionEvent;
import org.eclipse.swt.graphics.Point;
import org.eclipse.swt.layout.FillLayout;
import org.eclipse.wb.swt.SWTResourceManager;

public class DemoShell extends Shell {
  protected Composite composite;
  private Text filename;
  private Table table;
  protected Shell shell;

public static void main(String args[]) {
  try {
Display display = Display.getDefault();
DemoShell shell = new DemoShell(display);
shell.open();
shell.layout();
while (!shell.isDisposed()) {
if (!display.readAndDispatch()) {
    display.sleep();
}
}
} catch (Exception e) {
e.printStackTrace();
 }
}

private static boolean parseFile(Table table, String filename) { 
    try { 
          BufferedReader br = new BufferedReader( new FileReader(filename) ); 
          String line = ""; 
          StringTokenizer token = null, subtoken = null; 

          int tokenNum = 1; 

          while((line = br.readLine()) != null) { 

              //  lineNum++;                     
              // break comma separated file line by line

                token = new StringTokenizer(line, ";"); 
                String sno = null;

                while(token.hasMoreTokens()) { 
                    subtoken = new StringTokenizer(token.nextToken().toString(), ",");
                    sno = "";
                    sno = Integer.toString(tokenNum);
                    TableItem item = new TableItem (table, SWT.NONE);
                    item.setText (0, sno );
                    item.setText (1, subtoken.nextToken());
                    item.setText (2, subtoken.nextToken());
                    item.setText (3, subtoken.nextToken());
                    item.setText (4, subtoken.nextToken());
                    item.setText (5, subtoken.nextToken());
                      tokenNum++; 
                      System.out.println("S.No # " + tokenNum + token.nextToken()); 
                } 

                tokenNum = 0; 
          } 
          br.close(); 
          return true; 
    } catch(Exception e) { 
          System.err.println("Parse Error: " + e.getMessage()); 
          return false; 
    } 
  }

public void displayFiles(String[] files) {
      for (int i = 0; files != null && i < files.length; i++) {
          filename.setText(files[i]);
          filename.setEditable(false);
      }
    }
/**
 * Create the shell.
 * @param display
 */
public DemoShell(Display display) {
    super(display, SWT.SHELL_TRIM);

    TabFolder tabFolder = new TabFolder(this, SWT.NONE);
    tabFolder.setBounds(10, 10, 462, 268);

    TabItem re_item = new TabItem(tabFolder, SWT.NONE);
    re_item.setText("Road Network");

    TabItem ttable_item = new TabItem(tabFolder, SWT.NONE);
    ttable_item.setText("Time Table");

    createContents_tt(tabFolder, ttable_item );
}

/**
 * Create contents of the shell.
 */
protected void createContents_tt(TabFolder tabFolder, TabItem ttable_item) {
    setText("SWT Application");
    setSize(530, 326);

    //Table declaration
    table = new Table(shell, SWT.BORDER | SWT.FULL_SELECTION);
    table.setBounds(10, 153, 450, 107);
    table.setHeaderVisible(true);
    table.setLinesVisible(true);
    String[] titles = {"S.No", "Route", "Transport #", "Cross Point", "Start Time", "End Time"};
    for (int i=0; i<titles.length; i++) {
        TableColumn column = new TableColumn (table, SWT.NONE);
        column.setText (titles [i]);
    }
    for (int i=0; i<titles.length; i++) {
        table.getColumn (i).pack ();
    }   

    Composite composite = new Composite(tabFolder, SWT.NONE);
            composite.setLayout(new FillLayout());

    Group group_1 = new Group(shell, SWT.NONE);
    group_1.setBounds(10, 10, 450, 127);

    filename = new Text(group_1, SWT.BORDER);
    filename.setBounds(31, 95, 377, 21);
    filename.setBackground(SWTResourceManager.getColor(SWT.COLOR_WHITE));

    Group group = new Group(group_1, SWT.NONE);
    group.setBounds(81, 46, 245, 43);

    Label lblEitherBrowseFor = new Label(group_1, SWT.NONE);
    lblEitherBrowseFor.setBounds(10, 19, 430, 21);
    lblEitherBrowseFor.setText("Either Browse for a file or Try to upload the time table data through Manual entry");

    Button btnManual = new Button(group, SWT.NONE);
    btnManual.setBounds(162, 10, 75, 25);
    btnManual.addSelectionListener(new SelectionAdapter() {
        @Override
        public void widgetSelected(SelectionEvent e) {

        }
    });
    btnManual.setText("Manual");

    Button btnBrowser = new Button(group, SWT.NONE);
    btnBrowser.setBounds(27, 10, 75, 25);
    btnBrowser.setText("Browse");
    btnBrowser.addSelectionListener(new SelectionAdapter() {
        @Override
        public void widgetSelected(SelectionEvent e) {

            FileDialog dialog = new FileDialog(composite, SWT.NULL);
            String path = dialog.open();
            if (path != null) {

              File file = new File(path);
              if (file.isFile())
              {
                  displayFiles(new String[] { file.getAbsolutePath().toString()});
                  DemoShell.parseFile(table, file.toString());
              }

              else
              displayFiles(file.list());

            }
        }
    });
    ttable_item.setControl(composite);

}

@Override
protected void checkSubclass() {
    // Disable the check that prevents subclassing of SWT components
} 
```

}

尝试以上述方式添加时出现以下错误。

> 线程“main”java.lang.Error 中的异常：未解决的编译问题：构造函数 FileDialog(Composite, int) 未定义 无法引用以不同方法定义的内部类中的非最终变量组合

我请求建议/帮助以清除错误或以任何其他方式重做。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T08:04:14.547

您正在尝试`composite`从`Listener`您定义的 ( `SelectionAdapter`) 中访问。您用于创建侦听器的表示法隐式地创建了一个新类。因此，您实际上是在尝试`composite`从内部类访问变量，只有当`composite`它是外部类的一个`static`字段或者您将`composite` `final`.

所以只需执行以下操作：

```
final Composite composite = new Composite(tabFolder, SWT.NONE); 
```

它会起作用。

* * *

此外，正如错误所述，没有构造函数采用`Composite`. 你必须使用一个`Shell`. 所以只需执行以下操作：

```
FileDialog dialog = new FileDialog(composite.getShell(), SWT.NULL); 
```

* * *

但是，这会给您另一个例外，因为您在`shell`该行上方的某处使用该字段，即`null`. 由于您的课程是 a `Shell`，替换所有出现的`shell`with`this`并且它会起作用。

# jquery - jQuery - 创建可变的序列号

> ID：15019418
> 
> 赞同：0
> 
> 时间：2013-02-22T07:59:05.087
> 
> 标签：jquery

我正在尝试使用 jquery 构建一个简单的表单。通过构建一个表单，我的意思是我正在根据单击的按钮将准备发布的输入放在一起。

所以例如我可能有一个像这样的变量......

```
var1 = "<input type='text' value='some product' />"; 
```

单击相关按钮时，会将 html 附加到更多相同的内容。有点像购物车。

我遇到的问题是，我需要按顺序对它们进行编号，以便将输入添加到列表中时，它会创建相关的索引号，因此最终会

```
<input id="number1" type="text" />
<input id="number2" type="text" />
<input id="number3" type="text" />
<input id="number4" type="text" /> etc etc... 
```

这很简单，我只是使用了 var = count++ 当我想要能够从列表中删除一个项目时，问题就来了。我正在使用 $(this).parents('tr').remove(); 将它们从列表中删除。

但是，当您从列表中间删除一个时，数字不是连续的。所以我的问题是如何保持这些数字连续。是我首先添加数字的方式，还是有一种方法可以“重新访问”count变量的先前实例？

我真的不能举一个我在这里尝试过的例子，因为我完全不知所措。我已经搜索了互联网，但我不确定什么是可能的。

我在这里并不懒惰，只是想找人提供解决方案，但如果你能指出我正确的方向，那就太好了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T08:57:21.923

实际上，我发现这个问题很有趣，所以我花了一些时间来创建答案。

我认为一个特殊的 jquery 插件可以在这里帮助你，我在下面发布。用法示例在这个小提琴上：http: [//jsfiddle.net/FJRNh/](http://jsfiddle.net/FJRNh/)

它的工作方式：

*   隔离“前缀”部分 - 在您的案例编号中
*   查找 id 以前缀开头的所选元素的所有兄弟姐妹
*   删除需要的元素
*   重新编号兄弟姐妹

它有一个缺点 - 它会对所有具有相同前缀的项目重新编号，即使它们之前没有编号，所以如果你有像 number1、number2、number3、number_foot 这样的 id，那么 number_foot 也会被重新编号。这可以通过在内部循环中添加正则表达式测试来避免。但是我相信如果您牢记这个限制，那么提供的代码就足够了

```
(function ($) {
    $.fn.renumberingRemove = function () {
        var $this = $(this);
        var mthisid = $this.attr('id');
        var name = $this[0].nodeName;
        var numberp = /\D+/.exec($this.attr('id'));              
        var sibl = $this.parent().children(name+"[id^='"+numberp+"']");
        $this.remove();
        var istart = 1;
        sibl.each(function () {      
            if (this.id != mthisid) {
                $(this).attr('id', numberp + istart++);
            }
        });        
    };
})(jQuery); 
```

# javascript - 设计富豪榜

> ID：15019426
> 
> 赞同：0
> 
> 时间：2013-02-22T07:59:29.130
> 
> 标签：javascript, html, d3.js

我正计划为测试小部件开发丰富的列表。我设计了它的外观

截屏：

我不想采用传统的将 div 放入 table 方法。因为我遇到了很多问题。

您能否就如何继续提出任何其他建议。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T08:36:10.063

我已经建立了类似的东西，并建议您从列表开始。所以例如

```
<ul>
  <li>Your content here</li>
  ...
</ul> 
```

然后你需要一些 CSS 技巧让它看起来不错，

```
ul {
   list-style:none;
   padding:0;
} 
```

这与链接菜单的方法相同。这是一个列表，因此应该这样表示:)

# c - 在 C 语言上从字符串转换为长时间

> ID：15019429
> 
> 赞同：1
> 
> 时间：2013-02-22T07:59:33.357
> 
> 标签：c

我们通常使用 mktm() 或 mktime() 将长时间转换为日期和时间字符串。无论如何我们可以做相反的事情吗？我想将日期和时间字符串转换为长时间。但我无法从互联网上找到任何东西。供您参考，长时间是指从 01/01/1980 00:00:00 开始的秒数。

例如，如果长时间 1045872000 使用 mktm() 或 mktime() 转换为字符串时间，我们可以得到 21/02/2013 00:00:00。有反转功能吗？将 21/02/2013 00:00:00 转换为 1045872000。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T08:01:12.250

你有[strptime](http://linux.die.net/man/3/strptime)但我不认为这是一个标准。

> 将时间的字符串表示形式转换为时间 tm 结构

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T10:27:30.303

Strftime 函数将 Normaltime 转换为 Epoch 时间

```
 #include<stdio.h>
   #include<stdlib.h>
    #include<time.h>
    int
   main(void)
   {
       struct tm tm;
       char buf[255];

       strptime("2001-11-13 18:31:01", "%Y-%m-%d %H:%M:%S", &tm);
       strftime(buf, sizeof(buf), "%s", &tm);
       puts(buf);
       exit(EXIT_SUCCESS);
   } 
```

这次 2001-11-13 18:31:01 Epoch时间是1005570061

（或者）

使用转换纪元时间的系统函数。

```
 system("date -d 'Mon Feb 25 18:05:57 IST 2013' +'%s'"); 
```

# encoding - 决策树中的香农熵测度

> ID：15019430
> 
> 赞同：4
> 
> 时间：2013-02-22T07:59:37.420
> 
> 标签：encoding, machine-learning, decision-tree, entropy, information-theory

为什么在决策树分支中使用香农熵度量？

> 熵(S) = - p(+)log( p(+) ) - p(-)log( p(-) )

我知道这是对否的衡量标准。编码信息所需的比特数；分布越均匀，熵越大。但我不明白为什么它如此频繁地应用于创建决策树（选择分支点）。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-22T09:18:18.230

因为你想问能给你最多信息的问题。目标是尽量减少树中决策/问题/分支的数量，因此您从能给您提供最多信息的问题开始，然后使用以下问题填写详细信息。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-22T14:02:54.233

为了决策树，忘记位数，只关注公式本身。考虑一个二进制 (+/-) 分类任务，您的训练数据中有相同数量的 + 和 - 示例。最初，熵将为 1，因为`p(+) = p(-) = 0.5`。您希望在最能降低熵的属性上拆分数据（即，使类的分布最不随机）。如果选择一个与类完全无关的属性 A1，那么在将数据除以 A1 的值之后，熵仍然为 1，因此熵没有减少。现在假设另一个属性 A2 完美地分隔了类（例如，类总是`+`为`A2="yes"`并且总是`-`为`A2="no"`。在这种情况下，熵为零，这是理想情况。

在实际情况下，属性通常不能完美地对数据进行分类（熵大于零）。因此，您选择“最佳”对数据进行分类的属性（提供最大的熵减少）。一旦以这种方式分离数据，则以类似方式为来自第一次拆分的每个分支选择另一个属性，以进一步减少沿该分支的熵。继续这个过程来构建树。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-09-30T06:25:02.787

您似乎了解该方法背后的数学原理，但这里有一个简单的示例，可能会让您对为什么使用这种方法有一些直觉：想象您在一个有 100 名学生的教室里。每个学生都坐在一张课桌前，课桌被组织成 10 行 10 列。100 名学生中有 1 名有奖品，但你必须猜出是哪个学生才能获得奖品。问题是，每次您猜测时，奖品的价值都会减少。您可以先单独询问每个学生是否有奖品。但是，最初，您只有 1/100 的机会猜对，而且很可能当您找到奖品时，它已经毫无价值（将每个猜测都视为决策树中的一个分支）。反而，您可以提出广泛的问题，从而大大减少每个问题的搜索空间。例如“学生是否在第 1 行到第 5 行？” 无论答案是“是”还是“否”，您都将树中潜在分支的数量减少了一半。

# c# - wp8中的system.reflection.targetinvocationexception

> ID：15019431
> 
> 赞同：-3
> 
> 时间：2013-02-22T07:59:39.513
> 
> 标签：c#, asp.net, compiler-errors, windows-phone-8

我的代码中出现此错误。
有谁知道如何解决这个问题？由于此问题发生在 system.windows.ni.dll 中。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-22T08:09:12.963

`TargetInvocation`只是意味着某些东西正在调用反射`Invoke`，并且被调用的方法引发了异常。真正的问题隐藏在`.InnerException`. 因此，您应该`catch`检查异常并检查`.InnerException`实际出了什么问题。还要看`.StackTrace`。的`.InnerException`，看看*哪里*出错了。

# php - 解析错误：语法错误，第 13 行出现意外的“=”

> ID：15019434
> 
> 赞同：-1
> 
> 时间：2013-02-22T07:59:50.440
> 
> 标签：php, mysql

我希望在`$colours`开始时将其作为红色、黄色、蓝色、绿色和 N/A 列表放入数据库中，稍后将在用户选择一个下拉框时调用这些列表

```
 include'dbc.php';
    $colours = "N/A";

    if (isset($_POST['cb']) && is_array($_POST['cb'])) {
      foreach ($_POST['cb'] as $value) {
        $colours. = $value  ",";
      }
    };

    $sql="INSERT INTO items (category,title,description,qdescription,price,colours)
    VALUES ('$_POST[category]','$_POST[title]','$_POST[description]','$_POST[qdescription]','$_POST[price]','$colours')";

    if (!mysql_query($sql)){
      die('Error: ' . mysql_error());
    }

    mysql_close($db); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T08:02:15.060

这里的问题是你在`.`和`=`字符之间有一个空格。如果要连接字符串，只需省略该空格 -

```
$colours .= $value . ","; 
```

另请注意，我在之后添加了一个附加`.`字符，`$value`因为您也想添加它`,`。

* * *

最后一点是关于`mysql_*`函数的使用。[请不要在新代码中使用 mysql_* 函数。](https://stackoverflow.com/questions/12859942/why-shouldnt-i-use-mysql-functions-in-php)它们不再被维护并被[正式弃用](https://wiki.php.net/rfc/mysql_deprecation)。看到红框了吗？改为了解[准备好的语句](http://en.wikipedia.org/wiki/Prepared_statement)，并使用[PDO](http://php.net/pdo)或[MySQLi](http://php.net/mysqli)。

在您迁移到这些较新的方法之前，您还需要注意在将数据插入 SQL 语句之前对其进行清理。就您的代码目前而言，它极易受到 SQL 注入的攻击。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T08:00:58.263

改变这个

```
 $colours. = $value  ","; 
```

到

```
$colours .= $value .","; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T08:01:05.767

改变这个

```
$colours. = $value  ","; 
```

到

```
$colours .= $value .","; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-22T08:01:24.247

你`.`和你`=`的第 13 行之间有一个空格。

# mysql - 用于基于事件进行报告的 SQL

> ID：15019435
> 
> 赞同：2
> 
> 时间：2013-02-22T07:59:57.040
> 
> 标签：mysql, sql, reporting

我有一个这样的事件表：

```
-----------------------------------------------------------
timestamp            |  station |  event_type   |  count
-----------------------------------------------------------
2013-02-22 01:00:00  |  1       |  log_in       |  -1
2013-02-22 01:05:00  |  1       |  alert        |  5
2013-02-22 01:08:00  |  1       |  alert        |  3
2013-02-22 01:10:00  |  1       |  log_out      |  -1
2013-02-22 01:30:00  |  2       |  log_in       |  -1
2013-02-22 01:31:00  |  2       |  alert        |  2
2013-02-22 01:35:00  |  2       |  log_out      |  -1
----------------------------------------------------------- 
```

如何编写 SQL 来生成这样的报告：

```
--------------------------------------------------------------------------
station  | log_in               |  log_out               | count
--------------------------------------------------------------------------
1        | 2013-02-22 01:00:00  |  2013-02-22 01:10:00   | 8
2        | 2013-02-22 01:30:00  |  2013-02-22 01:35:00   | 2
-------------------------------------------------------------------------- 
```

基本上，我想总结登录和注销之间的警报。

有人可以指出我正确的方向吗？

更新：

JW 在下面的回答有效，但我在上表中犯了一个错误。对于警报事件，我不知道站号，所以表格应该如下所示。

```
-----------------------------------------------------------
timestamp            |  station |  event_type   |  count
-----------------------------------------------------------
2013-02-22 01:00:00  |  1       |  log_in       |  -1
2013-02-22 01:05:00  |  -1      |  alert        |  5
2013-02-22 01:08:00  |  -1      |  alert        |  3
2013-02-22 01:10:00  |  1       |  log_out      |  -1
2013-02-22 01:30:00  |  2       |  log_in       |  -1
2013-02-22 01:31:00  |  -1      |  alert        |  2
2013-02-22 01:35:00  |  2       |  log_out      |  -1
----------------------------------------------------------- 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T08:02:02.670

```
SELECT  station, 
        MIN(timestamp) login,
        MAX(timestamp) logout,
        SUM(CASE WHEN count > 0 THEN count ELSE 0 END) count
FROM    tbaleName
GROUP   BY station 
```

*   [SQLFiddle 演示](http://www.sqlfiddle.com/#!2/55e8e7/2)

**更新 1**

```
SELECT  a.station, 
        a.login,
        a.logout,
        SUM(CASE WHEN count > 0 THEN count else 0 END) count
FROM
        (
          SELECT  station, 
                  MIN(timestamp) login,
                  MAX(timestamp) logout
          FROM    tableName2 
          GROUP   BY station
        ) a
        INNER JOIN tableName2 b
          ON b.timestamp BETWEEN a.logIN and a.logout AND
             a.station <> -1
GROUP   BY a.station, 
           a.login,
           a.logout 
```

*   [SQLFiddle 演示](http://www.sqlfiddle.com/#!2/61710/1)

为了获得更快的性能，请添加一个`INDEX`on 列`timestamp`。

# python - Python：如何在嵌套循环的第一列中搜索？

> ID：15019438
> 
> 赞同：1
> 
> 时间：2013-02-22T08:00:16.777
> 
> 标签：python, list, search, nested

我有这样的清单：

```
[
    [1, 37, 79, 164, 155, 32, 87, 39, 113, 15, 18, 78, 175, 140, 200, 4, 160, 97, 191, 100, 91, 20, 69, 198, 196], 
    [2, 123, 134, 10, 141, 13, 12, 43, 47, 3, 177, 101, 179, 77, 182, 117, 116, 36, 103, 51, 154, 162, 128, 30], 
    [3, 48, 123, 134, 109, 41, 17, 159, 49, 136, 16, 130, 141, 29, 176, 2, 190, 66, 153, 157, 70, 114, 65, 173, 104, 194, 54]
] 
```

我想查找搜索值位于第一列的列表项的索引。

例如，如果我搜索**2**，它应该返回我 1 因为**2**位于列表索引 1 的第一列中。

我怎样才能在python中实现这一点？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-22T08:07:26.007

```
>>> [i for i, row in enumerate(data) if row[0] == 2]
[1]
>>> data = [
    [1, 2, 3],
    [2, 3, 4],
    [1, 3, 5],
    [2, 6, 8]
]
>>> [i for i, row in enumerate(data) if row[0] == 2]
[1, 3] 
```

# soql - Salesforce SOQL INVALID_QUERY_LOCATOR 异常

> ID：15019439
> 
> 赞同：3
> 
> 时间：2013-02-22T08:00:17.320
> 
> 标签：soql

当我尝试使用 SOAP API 拉许多联系人时，我得到 NVALID_QUERY_LOCATOR 异常。当任何具有子查询的查询在 SF 服务器上执行很长时间（超过 15 分钟）并且同时 SF DB 对象过期时，会发生 INVALID_QUERY_LOCATOR 异常。

执行以下查询时发生此异常 -

```
Select street, city, country, email, firstname, mobilephone, lastname, postalcode, state, phone, fax, id from lead where Email!=Null and BH4SF__Opted_Out__c = false and id in (select leadid from CampaignMember where campaignId = '70160000000Mk5FAAS') order by Email, CreatedDate 
```

有关如何解决此问题的任何帮助？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-03-16T18:01:12.907

您在销售人员的州长限制方面遇到问题。您的查询正在提取太多记录。您可以使用列表来存储查询示例：

```
List<Account> accountsAndCases= [SELECT id, name, (SELECT id, subject, description FROM Cases) FROM Account]; 
```

然后使用列表并在最后更新您的数据库。或者，也许您也可以在查询结束时使用限制调用来限制您将获得的记录数量。例子：

```
SELECT id, name FROM Account limit 100; 
```

此链接可能会有所帮助： [https ://help.salesforce.com/apex/HTViewSolution?id=000004410&language=en_US](https://help.salesforce.com/apex/HTViewSolution?id=000004410&language=en_US)

# uitableview - 动态原型 UITableView 中的占位符文本

> ID：15019447
> 
> 赞同：0
> 
> 时间：2013-02-22T08:00:44.403
> 
> 标签：uitableview

基本上，我有一个 UITableView 可以保存警报。

屏幕底部有一个“+”按钮可以添加警报，但当然，在添加任何警报之前，表格是空白的。

如果没有警报，并且表格视图为空，我希望有某种占位符文本，例如“按 + 添加警报”。

我已经尝试过[了](https://stackoverflow.com/questions/4600948/keeping-a-placeholder-cell-in-a-uitableview)，还发现了一个关于使用显示上述文本的单元格制作占位符 UITableView 的建议。然后根据是否有任何警报显示/隐藏占位符 UITableView 或警报 UITableView。我无法让它工作，并认为想要一个简单的字符串出现有点过分。

如果没有警报，我还尝试创建一个占位符 UITableViewCell ，但这与 numberOfRowsInSection 混淆，这反过来又破坏了删除单元格的能力，它也应该（因为 numberOfRowsInSection 永远不能为零）。

更新：我还尝试将 UILabel 添加到 tableView 的 tableHeaderView（和 tableFooterView）。没运气。

有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-23T23:15:06.887

在对该站点进行了一些研究之后，我通过实现以下委托回调来解决它：

```
- (UIView *)tableView:(UITableView *)tableView viewForHeaderInSection:(NSInteger)section {
    if (self.alarmList.count == 0) {
        UILabel *label = [[UILabel alloc] init];
        label.text = @"press the + to add an alarm";
        label.textAlignment = UITextAlignmentCenter;
        label.numberOfLines = 2;
        label.font = [UIFont boldSystemFontOfSize:16];
        label.backgroundColor = [UIColor darkTextColor];
        label.textColor = [UIColor whiteColor];
        return label;
    } else {
        return nil;
    }
}

- (CGFloat) tableView:(UITableView *)tableView heightForHeaderInSection:(NSInteger)section {
    if (self.alarmList.count == 0) {
        return 68;
    } else {
        return 0;
    }
} 
```

# sqlite - 如何连接分布在多个表中的一系列 sqlite 列？

> ID：15019448
> 
> 赞同：2
> 
> 时间：2013-02-22T08:00:53.340
> 
> 标签：sqlite, concatenation

我知道您可以使用如下查询连接单个表中的多个列：

```
SELECT ( column1 || column2 || column3 || ... ) AS some_name FROM some_table 
```

是否可以使用**单个 sqlite 查询**连接来自**多个表的****列**？

 ****非常简单的例子 - 两个表和结果：

```
 Table1              |           Table2          |         Result
  Col1          Col2        |            Col3           |
 -------------------------------------------------------------------------------
   A             B          |             C             |           ABC 
```

如果这是可能的，查询会是什么？

我总是可以手动连接多个单表连接结果，但是让 sqlite 完成所有工作会很棒:)

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-02-22T08:10:36.643

试试这个

```
SELECT a.col1 || a.col2 ||  b.col3 AS 'SUM'
FROM table1 a, table2 b
WHERE a.id = b.id; 
```

在您最上面提到表之间的连接条件的地方

[小提琴](http://sqlfiddle.com/#!5/3b3fe/2)****

# algorithm - 二叉树的前序、后序遍历的应用？

> ID：15019449
> 
> 赞同：0
> 
> 时间：2013-02-22T08:00:53.827
> 
> 标签：algorithm, language-agnostic, tree, binary-tree, binary-search-tree

二叉树的前序和后序遍历是否有任何特定应用？

PS：中序遍历的应用：用于从BST打印排序后的数字。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T08:05:28.867

树序列化怎么样？例如，堆通常以预先顺序存储，这将是固定元素大小的规范序列化顺序。

如果你有动态元素大小，你不能在前序中写出子指针，所以后序遍历更合适。一些现代 B+-tree 磁盘布局也使用后序 IIRC，但它不是严格的后序布局，因为它需要考虑动态变化。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-06-15T17:45:49.123

[二元表达式树](https://en.wikipedia.org/wiki/Binary_expression_tree)的前序、中序和后序遍历将分别给出前缀、中缀和后缀表达式。

# ruby-on-rails - Rails 用 col2 更新属性表 col1

> ID：15019453
> 
> 赞同：1
> 
> 时间：2013-02-22T08:01:10.320
> 
> 标签：ruby-on-rails, mass-assignment

我想（大规模）更新模型。应通过将 attb 1 的 val 替换为 attr2 的 val 来更新每一行

```
users = User.find_all_by_project_id(params[:project_id])
users.each do |d|
  User.update_attribute attribute1 with attribute2
end 
```

最好的方法是怎样的？感谢您的输入。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T08:08:47.353

这就是你应该这样做的，所以一切都发生在 sql 端。

```
User.update_all("attribute1 = attribute2", { project_id: params[:project_id] }) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T08:07:01.090

应该这样做：

```
User.where(:project_id => params[:project_id]).update_all('col1 = col2') 
```

或者

```
User.update_all('col1 = col2', {:project_id => params['project_id'] }) 
```

# html - html 页面上的 XSL 超链接

> ID：15019459
> 
> 赞同：0
> 
> 时间：2013-02-22T08:01:19.290
> 
> 标签：html, xml, xslt, hyperlink

我正在研究 XSL，我对在一个 HTML 文件中生成双向超链接有疑问。

例如，我们有

```
<person id="first">
-<name>Bob</name>
-<age>19<age>
<person id="second">
-<name>smith</name>
-<age>12<age>
<person id="third">
-<name>Lisa</name>
-<age>30<age> 
```

在 XML 文件中，我想用 XSLT 在一个 HTML 页面上创建 3 个超链接。

例如，在 HTML 页面的顶部，我们有三个链接：

1.  鲍勃
2.  史密斯
3.  丽莎

在同一个 HTML 页面的底部，我们有三个链接：

1.  鲍勃
2.  史密斯
3.  丽莎

如果用户点击 1\. Bob，我们转到页面底部的 4\. Bob (1\. Bob <-> 4\. Bob)

如果用户点击 4\. Bob，我们转到页面底部的 1\. Bob

如果用户点击 2\. Smith，我们转到页面底部的 5\. Smith (5\. Smith <-> 5.Smith)

如果用户点击 5\. Smith，我们转到页面底部的 2\. Smith

我试着用`<a id="some value"> </a>`

然而，它并没有真正奏效。

谁能举个例子？？

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T08:38:30.343

如果要导航到页面中的锚标记，则需要另一个链接，并将**href**属性设置为适当的值。例如，如果您的锚标记是这样的：

```
<a id="first">Bob</a> 
```

那么您的链接将是这样的

```
<a href="#first">Bob</a> 
```

在您的情况下，您希望锚点相互链接，因此两个**a**元素都将具有**id**和**href**

```
<a id="first_top" href="#first_bottom">Bob</a>
<a id="first_bottom" href="#first_top">Bob</a> 
```

编写 XSLT 代码的一种方法是使用两个模板匹配**people**元素，但使用**mode**属性来区分它们

例如试试这个 XSLT

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
   <xsl:output method="html" indent="yes"/>
   <xsl:template match="/people">
      <html>
         <body>
            <xsl:apply-templates select="person" mode="top"/>
            <p>
               Some content in the middle
            </p>
            <xsl:apply-templates select="person" mode="bottom"/>
         </body>
      </html>
   </xsl:template>

   <xsl:template match="person" mode="top">
      <p>
         <a id="{@id}_top" href="#{@id}_bottom">
            <xsl:value-of select="name" />
         </a>
      </p>
   </xsl:template>

   <xsl:template match="person" mode="bottom">
      <p>
         <a id="{@id}_bottom" href="#{@id}_top">
            <xsl:value-of select="name" />
         </a>
      </p>
   </xsl:template>
</xsl:stylesheet> 
```

这将输出以下内容（假设您有带有根元素的格式良好的 XML，并且所有标签都已关闭）

```
<html>
<body>
<p><a id="first_top" href="#first_bottom">Bob</a></p>
<p><a id="second_top" href="#second_bottom">smith</a></p>
<p><a id="third_top" href="#third_bottom">Lisa</a></p>
<p>Some content in the middle</p>
<p><a id="first_bottom" href="#first_top">Bob</a></p>
<p><a id="second_bottom" href="#second_top">smith</a></p>
<p><a id="third_bottom" href="#third_top">Lisa</a></p>
</body>
</html> 
```

如果您想避免使用两个单独的模板来匹配**人员**元素，则可以将参数传递给模板以区分顶部和底部。这个 XSLT 也可以工作

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
   <xsl:output method="html" indent="yes"/>
   <xsl:template match="/people">
      <html>
         <body>
            <xsl:apply-templates select="person">
                <xsl:with-param name="idpos" select="'top'" />
                <xsl:with-param name="hrefpos" select="'bottom'" />
            </xsl:apply-templates>
            <p>
               Some content in the middle
            </p>
            <xsl:apply-templates select="person">
                <xsl:with-param name="idpos" select="'bottom'" />
                <xsl:with-param name="hrefpos" select="'top'" />
            </xsl:apply-templates>
         </body>
      </html>
   </xsl:template>

   <xsl:template match="person">
      <xsl:param name="idpos" />
      <xsl:param name="hrefpos" />
      <p>
         <a id="{@id}_{$idpos}" href="#{@id}_{$hrefpos}">
            <xsl:value-of select="name" />
         </a>
      </p>
   </xsl:template>
</xsl:stylesheet> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T08:41:23.583

这不一定是 XSLT 问题，您只需要生成适当的问题，`<a id="link1" href="#link4">...</a>`反之亦然。例如，顶部链接可能是

```
<xsl:for-each select="person">
  <a id="top_{@id}" href="#bottom_{@id}">
    <xsl:value-of select="name"/>
  </a>
</xsl:for-each> 
```

# javascript - JQuery Spot of light with Sparkles，如何实现，有没有类似的东西准备好？

> ID：15019460
> 
> 赞同：0
> 
> 时间：2013-02-22T08:01:20.113
> 
> 标签：javascript, jquery, css

我在这个网站上有他的效果 [http://www.immersive-garden.com/](http://www.immersive-garden.com/) 有这个光点，在悬停时你会得到背景，我想要类似的东西而不使用闪光灯这是我正在使用的脚本现在

```
/*
Particle Emitter JavaScript Library
Version 0.3
by Erik Friend

Creates a circular particle emitter of specified radius centered and offset at specified screen location.  Particles appear outside of emitter and travel outward at specified velocity while fading until disappearing in specified decay time.  Particle size is specified in pixels.  Particles reduce in size toward 1px as they decay.  A custom image(s) may be used to represent particles.  Multiple images will be cycled randomly to create a mix of particle types.

example:
var emitter = new particle_emitter({
    image: ['resources/particle.white.gif', 'resources/particle.black.gif'],
    center: ['50%', '50%'], offset: [0, 0], radius: 0,
    size: 6, velocity: 40, decay: 1000, rate: 10
}).start();
*/

particle_emitter = function (opts) {
    // DEFAULT VALUES
    var defaults = {
        center: ['50%', '50%'], // center of emitter (x / y coordinates)
        offset: [0, 0],         // offset emitter relative to center
        radius: 0,              // radius of emitter circle
        image: 'particle.gif',  // image or array of images to use as particles
        size: 1,                // particle diameter in pixels
        velocity: 10,           // particle speed in pixels per second
        decay: 500,             // evaporation rate in milliseconds
        rate: 10                // emission rate in particles per second
    };
    // PASSED PARAMETER VALUES
    var _options = $.extend({}, defaults, opts);

    // CONSTRUCTOR
    var _timer, _margin, _distance, _interval, _is_chrome = false;
    (function () {
        // Detect Google Chrome to avoid alpha transparency clipping bug when adjusting opacity
        if (navigator.userAgent.indexOf('Chrome') >= 0) _is_chrome = true;

        // Convert particle size into emitter surface margin (particles appear outside of emitter)
        _margin = _options.size / 2;

        // Convert emission velocity into distance traveled
        _distance = _options.velocity * (_options.decay / 1000);

        // Convert emission rate into callback interval
        _interval = 1000 / _options.rate;
    })();

    // PRIVATE METHODS
    var _sparkle = function () {
        // Pick a random angle and convert to radians
        var rads = (Math.random() * 360) * (Math.PI / 180);

        // Starting coordinates
        var sx = parseInt((Math.cos(rads) * (_options.radius + _margin)) + _options.offset[0] - _margin);
        var sy = parseInt((Math.sin(rads) * (_options.radius + _margin)) + _options.offset[1] - _margin);

        // Ending Coordinates
        var ex = parseInt((Math.cos(rads) * (_options.radius + _distance + _margin + 0.5)) + _options.offset[0] - 0.5);
        var ey = parseInt((Math.sin(rads) * (_options.radius + _distance + _margin + 0.5)) + _options.offset[1] - 0.5);

        // Pick from available particle images
        var image;
        if (typeof(_options.image) == 'object') image = _options.image[Math.floor(Math.random() * _options.image.length)];
        else image = _options.image;

        // Attach sparkle to page, then animate movement and evaporation
        var s = $('<img>')
        .attr('src', image)
        .css({
            zIndex:     10,
            position:   'absolute',
            width:      _options.size + 'px',
            height:     _options.size + 'px',
            left:       _options.center[0],
            top:        _options.center[1],
            marginLeft: sx + 'px',
            marginTop:  sy + 'px'
        })
        .appendTo('body')
        .animate({
            width: '1px',
            height: '1px',
            marginLeft: ex + 'px',
            marginTop: ey + 'px',
            opacity: _is_chrome ? 1 : 0
        }, _options.decay, 'linear', function () { $(this).remove(); });

        // Spawn another sparkle
        _timer = setTimeout(function () { _sparkle(); }, _interval);
    };

    // PUBLIC INTERFACE
    // This is what gets returned by "new particle_emitter();"
    // Everything above this point behaves as private thanks to closure
    return {
        start:function () {
            clearTimeout(_timer);
            _timer = setTimeout(function () { _sparkle(); }, 0);
            return(this);
        },
        stop:function () {
            clearTimeout(_timer);
            return(this);            
        },
        centerTo:function (x, y) {
            _options.center[0] = x;
            _options.center[1] = y;
        },
        offsetTo:function (x, y) {
            if ((typeof(x) == 'number') && (typeof(y) == 'number')) {
                _options.center[0] = x;
                _options.center[1] = y;
            }
        }
    }
}; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T09:28:45.400

你可能需要这样的东西：[http ://www.realcombiz.com/2012/09/customize-blackquote-with-light-bulb.html](http://www.realcombiz.com/2012/09/customize-blackquote-with-light-bulb.html)

# angularjs - Canvas 如何与 MVC 框架一起使用？

> ID：15019464
> 
> 赞同：4
> 
> 时间：2013-02-22T08:01:31.650
> 
> 标签：angularjs, html5-canvas, javascript-framework, kineticjs

我一直在研究 AngularJS 及其 MVC 解决方案。通常，MVC 框架使用 HTML 结构本身来绑定到后端数据模型。在 AngularJS 的情况下，这是通过 Directives 完成的，它对直接 HTML 非常有效。

对于我的场景，我有一个数据模型，它将在即时模式 Canvas 上转换为可视化表示。然后，还需要与渲染的视觉项目进行交互，以便编辑后端数据模型中的值。

在 MVC 框架内的数据模型中的项目和项目值之间实现这种双向绑定的最佳方法是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T09:18:18.697

Angulars 的优势在于它为您处理 DOM，而您不必担心它。如果您要改用 SVG，则可以让 Angular 处理更新视图，因为 SVG 是 DOM，但如果您需要使用画布，Angular 无法为您处理绘图。

您仍然可以从使用 Angular 中受益，方法是使用监视并在数据更改时重绘画布，但您需要自己处理绘图。

# smartfoxserver - 如何防止用户离开当前房间并加入新创建的房间？

> ID：15019474
> 
> 赞同：0
> 
> 时间：2013-02-22T08:02:09.707
> 
> 标签：smartfoxserver

我在使用 SmartFoxServer 2X 时遇到了一个问题，我想分享这个问题，寻求社区的任何帮助/建议。这可能是 SFS 的默认行为，但我想以另一种方式为我的项目做这件事。这是场景：

服务器版本：2.0.0-RC1，我使用 AS3 进行客户端编码。我没有在服务器端做任何事情并在 AS3 中使用 SFS 的基本/默认方法。

用户登录特定区域并获得可用房间列表。所有房间最多只能有 2 位用户。如果没有房间，则用户创建房间（带有`settings.maxUsers = 2;`）并加入该房间。如果有任何房间，则用户检查一个房间`room.userCount<2`并加入该房间。

如果所有房间都已满，则用户创建一个新房间并加入该房间，以便其他用户可以登录并加入该房间。现在，当第一个用户登录时，会创建一个房间，用户等待下一个用户登录并加入该房间。

第二个用户登录并加入第一个用户创建的房间。现在，当第三个用户登录时，第二个用户加入了新创建的房间，同时也留在了第一个用户创建的房间中。（注意：只有第二个用户有这样的行为；第一个用户呆在同一个房间里。类似地，当游戏中有 4、5 和 6 个用户时，第 5 个用户与第 4 个和第 6 个用户共享房间，以相同的方式正如第二个用户所做的那样）。

现在有两个房间。第一个房间由第一个和第二个用户共享，第二个房间由第二个和第三个用户共享。这可能是 SFS 处理房间和加入他们的用户的默认方式。但是我想将第一个和第二个玩家保留在第一个房间中，即使在区域中创建一个新房间，然后为第三个用户创建一个新房间，以便第四个用户可以与第三个用户一起加入房间并且很快。

感谢您查看它。请帮忙。

* * *

```
private function onLogin(event:SFSEvent):void {
  SFSVar.removeEventListener(SFSEvent.LOGIN, onLogin);
  var count:int = 0;
  var roomList:Array = event.currentTarget.roomList;
  if(roomList.length==0) {
    var my_date:Date = new Date();
    var settings:RoomSettings = new RoomSettings("PoolGame"+my_date.fullYear+my_date.month+my_date.date+my_date.hours+my_date.minutes+my_date.seconds);
    settings.maxUsers = 2;
    settings.groupId = "default";
    settings.isGame = true;
    SFSVar.send(new CreateRoomRequest(settings, false));
  } else if(roomList.length>0) {
    for each(var room:Room in roomList) {
      count++;
      if(room.userCount==2) {
        if(count==roomList.length) {
          var my_date:Date = new Date();
          var settings:RoomSettings = new RoomSettings("PoolGame"+my_date.fullYear+my_date.month+my_date.date+my_date.hours+my_date.minutes+my_date.seconds);
          settings.maxUsers = 2;
          settings.groupId = "default";
          settings.isGame = true;
          SFSVar.send(new CreateRoomRequest(settings,false));
          break;
        }
      } else if(room.userCount==1) {
        var roomRequest:JoinRoomRequest = new JoinRoomRequest(room.id,null,-1);
        SFSVar.send(roomRequest);
        break;
      }
    }
  }
} 
```

* * *

```
private function onRoomCreation(event:SFSEvent):void {
  SFSVar.removeEventListener(SFSEvent.ROOM_ADD, onRoomCreation);
  var room:Room = event.params.room;
  var roomRequest:JoinRoomRequest = new JoinRoomRequest(room.id,null,-1);
  SFSVar.send(roomRequest);
} 
```

* * *

```
private function onRoomJoin(event:SFSEvent):void {
  SFSVar.removeEventListener(SFSEvent.ROOM_JOIN, onRoomJoin);
  trace("room joined!!!");
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-07T01:36:15.923

我敢肯定原始海报已经弄清楚了这一点，但对于阅读本文的其他人来说，问题是第二个用户仍然有它的 room_add 事件侦听器。当第 3 个用户加入时，会创建一个新房间，并且因为第 2 个和第 3 个用户仍然附加了他们的 room_add 事件侦听器，所以他们都加入了新房间。

要修复它，要么添加一行以将 room_add 事件侦听器删除到 room_join 事件处理程序，或者添加一些检查到 room_add 事件处理程序以仅在玩家尚未在房间中时发送房间加入请求。

# entity-framework-5 - 将自定义 t4 模板添加到 DDL 生成模板下拉列表

> ID：15019484
> 
> 赞同：5
> 
> 时间：2013-02-22T08:02:53.047
> 
> 标签：entity-framework-5, t4, ef-model-first

我知道我可以在文件夹中添加模板

> C:\Program Files (x86)\Microsoft Visual Studio 11.0\Common7\IDE\Extensions\Microsoft\Entity Framework Tools\DBGen

使其在 DDL 生成模板下拉列表中可见，但是我需要将模板分发给我的团队成员，以便他们可以将模板添加到同一文件夹中。

我希望通过以某种方式将模板添加到 VS 2012 解决方案并使其在同一个下拉列表中可见，我可以达到相同的结果

你知道实现这一目标的方法吗？我正在使用 VS 2012 并使用 Model First 方法生成数据库

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-09-18T02:49:21.760

我今晚玩了这个，发现这是可能的，但它有点像黑客。您必须手动编辑 edmx 文件，并确保它受版本控制，因为您必须编辑 edmx 文件的设计器部分（自动生成）。首先是将 t4 模板复制到项目的根目录（可能实际上必须与 edmx 位于同一文件夹中，不确定）。然后将 t4 模板添加到您的项目中。现在删除自定义工具条目（在属性中），这样它就不会尝试自动生成 t4 模板。最后在 edmx 文件的正确位置添加下面的设计器属性（我包含上下文以找到正确的位置）：

```
 <!-- EF Designer content (DO NOT EDIT MANUALLY BELOW HERE) -->
    <edmx:Designer xmlns="http://schemas.microsoft.com/ado/2009/11/edmx">
      <edmx:Options>
        <DesignerInfoPropertySet>
          <DesignerProperty Name="DDLGenerationTemplate" Value="SSDLToSQLite3.tt" /> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-11-21T21:01:40.533

我最终制作了一个自定义模板来生成 datetime2 字段。虽然我无法让模板显示在属性框中的下拉列表中，但我能够将模板添加到与我的 .edmx 相同的文件夹中，将其包含在解决方案中，然后将模板的文件名直接输入到设计器的属性字段替换默认值。生成数据库和实体后，该值似乎被保留，我不需要直接编辑 edmx XML，我的自定义模板现在在使用它的位置旁边是源代码控制的。

# javascript - 为什么这个 For 循环在 Canvas 中不起作用？

> ID：15019485
> 
> 赞同：2
> 
> 时间：2013-02-22T08:02:55.547
> 
> 标签：javascript, loops, canvas

我试图让画布`i`循环显示 - 我希望`i`像 count 一样`t`从 1 到 9 不停地变化。我只是不知道出了什么问题。javascript看起来像这样：

```
window.requestAnimFrame = (function(){
    return  window.requestAnimationFrame       ||  
            window.webkitRequestAnimationFrame ||  
            window.mozRequestAnimationFrame    ||  
            window.oRequestAnimationFrame      ||  
            window.msRequestAnimationFrame     ||  
    function(callback){window.setTimeout(callback, 1000/60)}; 
})(); 

var cvs = document.getElementById("canvasId"),
    c = cvs.getContext("2d"),
    t = 0;

window.onload=function loop(){
    window.requestAnimFrame(loop);
    t++;

    for(i=0;i<10;i++){
        c.clearRect(0,0,cvs.width,cvs.height);
        c.font = "bold 90px Arial";
        c.fillText(i + " " + t, 100, 200);
    }
}; 
```

[http://jsfiddle.net/luxiyalu/9UZU5/](http://jsfiddle.net/luxiyalu/9UZU5/)

这是一个小游戏的一部分，我在这里被困了 2 天；如果有人能告诉我有什么问题...非常感谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T08:09:21.480

当您在绘图函数中将 i 从 0 迭代到 9 时，两个绘图之间没有时间，用户只能看到最后一个迭代值，即 9。

我不确定你真正想要实现什么，但看起来你想要这个：

```
var cvs = document.getElementById("canvasId"),
    c = cvs.getContext("2d"),
    t = 0,
    i = 0;

window.onload = function loop(){
    window.requestAnimFrame(loop);
    i++;
    if (i==10) {
      i = 0;
      t++;
    }

    c.clearRect(0,0,cvs.width,cvs.height);
    c.font = "bold 90px Arial";
    c.fillText(i + " " + t, 100, 200);

}; 
```

[示范](http://jsfiddle.net/Bv9hT/)

# c++ - C++ 列表迭代器在迭代时永远不会到达 end()

> ID：15019487
> 
> 赞同：5
> 
> 时间：2013-02-22T08:03:02.480
> 
> 标签：c++, linux, list, iterator, g++

好的，我写了一个程序，它在用 Visual C++ 编译器编译时运行得非常好。现在我想将它移植到 linux，但是在我在 linux 中编译它之后发生了一些奇怪的事情。

所以，我正在尝试使用迭代器遍历列表。这里的代码：

```
for (list<IntermediateRepresentation>::iterator irIt = funcIt->second.prologue.begin(); irIt != funcIt->second.prologue.end(); ++irIt) {
    irIt->address = address;
    address += getOpcodeSize(irIt->opcode);
} 
```

现在的问题是上面的代码导致了无限循环。我试图看看它为什么在调试器中这样做，我发现列表的最后一个元素（在'end（）'之前的那个）指向'begin（）'迭代器而不是'end（ )' 迭代器，所以当我调用 '++irIt' 时，它又回到了 'begin()'。这是预期的行为吗？我发现的另一件事是，当我这样做时：

```
size_t irSize = funcIt->second.prologue.size(); 
```

这也会导致无限循环，因为它使用类似于我的循环来计算大小。那么，这不能是预期的行为吗？

谁能给我一些提示，问题可能出在哪里？

哦，我正在使用 Ubuntu 12.10、g++ 版本 4.7.2 和带有 Linux GCC 作为工具链的 Eclipse IDE。

谢谢！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-22T10:15:47.723

您可能通过拼接自身创建了一个无效的[std::list 。](http://en.cppreference.com/w/cpp/container/list)

例如，使用[splice](http://en.cppreference.com/w/cpp/container/list/splice)的第三种变体：

```
void splice(const_iterator pos, list& other, 
            const_iterator first, const_iterator last); 
```

> 3) 将范围内的元素`[first, last)`从移动`other`到`*this`。元素插入到 指向的元素之前`pos`。`pos`如果是 range 中的迭代器，则行为未定义`[first,last)`。

# functional-programming - 方案 - 列表总和

> ID：15019498
> 
> 赞同：3
> 
> 时间：2013-02-22T08:03:52.960
> 
> 标签：functional-programming, scheme

我正在尝试实现一个计算 list 总和的函数，它的名字是`sum`-

```
(define (sum elemList)
  (if
   (null? elemList)
   (+ (car elemList) (sum (cdr elemList)))
   0
  )
 ) 
```

上面的实现给出了错误的结果，例如 -

```
> (sum (list 1 2 3 4 ))
0 
```

我在这里做错了什么？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-22T08:38:53.787

我认为您交换了*then*和*else*的部分`if`：

```
(define (sum elemList)
  (if
    (null? elemList)
    0
    (+ (car elemList) (sum (cdr elemList)))
  )
) 
```

在原始函数中，对于每个非空列表，`0`都会返回。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2020-02-22T08:16:00.553

你也可以使用`apply`

```
(define (sum elemList) (apply + elemList)) 
```

应该给你同样的结果

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-02-22T08:51:55.317

请参阅此链接了解更多详情。- [http://groups.umd.umich.edu/cis/course.des/cis400/scheme/listsum.htm](http://groups.umd.umich.edu/cis/course.des/cis400/scheme/listsum.htm)

```
(define(list-sum lst)
    (cond
((null ? lst)
    0)
((pair? (car lst))
    (+(list-sum (car lst)) (list-sum (cdr lst))))
(else
    (+ (car lst) (list-sum (cdr lst)))))) 
```

# c# - 如何在 XtraGrid 的每一行中分别设置就地编辑器？

> ID：15019503
> 
> 赞同：0
> 
> 时间：2013-02-22T08:04:04.853
> 
> 标签：c#, devexpress, xtragrid

我正在使用 C# 使用 XtraGrid 控件。我想在 XtraGrid 中分别在每一行中设置就地编辑器，即。单独行的单独编辑器

请参阅以下两个表示网格控件的图像。我想要这种类型的网格。

![下列的](../Images/842d567f5f8c37da850185aabb3eca05.png) ![下列的](../Images/adbe4a4d753bd61d3d6c3906a6886d14.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T08:10:57.333

要实现第一张图片，请使用[GridView.CustomRowCellEdit](http://documentation.devexpress.com/#WindowsForms/DevExpressXtraGridViewsGridGridView_CustomRowCellEdittopic)事件：

```
void gridView1_CustomRowCellEdit(object sender, CustomRowCellEditEventArgs e) {
   if(e.Column.FieldName!="Value") return;
   GridView gv = sender as GridView;
   string editorName = (string)gv.GetRowCellValue(e.RowHandle, "EditorName");
   switch (editorName) {
      case "Spin Edit":
         e.RepositoryItem = repositoryItemSpinEdit1;
         break;
      case "Combo Box":
         e.RepositoryItem = repositoryItemComboBox1;
         break;
      case "Check Edit":
         e.RepositoryItem = repositoryItemCheckEdit1;
         break;
      //...
   }           
} 
```

要实现第二个图像，请使用[DevExpress PropertyGrid 控件](http://help.devexpress.com/#WindowsForms/CustomDocument2462)

# android - Spring Android POST在ResponseEntity中没有返回类型应用程序/八位字节流

> ID：15019507
> 
> 赞同：1
> 
> 时间：2013-02-22T08:04:17.387
> 
> 标签：android, spring, post, http-headers, spring-annotations

我正在使用运行 Express 3.0 的 Node.js 服务器。

在我的应用程序的一个部分中，我将 json 发布到一个 URI 以在 /api/transactions/powerup 购买电源。这有几个返回选项。

我要么收到 201 表示交易有效，要么收到 404 表示请求因资金不足而无效。我的问题是，如果我想仅根据 ResponseEntity 中的标头告诉 android 客户端它是否成功。

**没有 json**传递回客户端，因为 HTTP 代码可以告诉我它是否成功。有谁知道如何做到这一点？

```
PowerupPurchase purchase = new PowerupPurchase();
purchase.setPowerId(params[0]);
final String url = getString(R.string.external_api_url) + "/transactions/powers?apiKey="+mCurrentUser.getApiKey();

Log.i(TAG,url);
// create the headers
HttpHeaders requestHeaders = new HttpHeaders();
requestHeaders.setAccept(Collections.singletonList(MediaType.APPLICATION_JSON));
requestHeaders.setAcceptEncoding(ContentCodingType.GZIP);
requestHeaders.setContentType(MediaType.APPLICATION_JSON);

// Create the Json that will be exchanged
HttpEntity<?> requestEntity = new HttpEntity<PowerupPurchase>(purchase, requestHeaders);
// Create a new RestTemplate instance
RestTemplate restTemplate = new RestTemplate();

MappingJacksonHttpMessageConverter converter = new MappingJacksonHttpMessageConverter();
List<MediaType> mediaList = new LinkedList<MediaType>();
mediaList.add(new MediaType("application","octet-stream",Charset.forName("UTF-8")));
converter.setSupportedMediaTypes(mediaList);
restTemplate.getMessageConverters().add(converter);

   try {
        // Make the network request
    ResponseEntity<?> response = restTemplate.postForEntity(url, requestEntity, Object.class);
    // HOW DO I GET THE HEADERS??
        response.getHeaders() 
```

400 似乎总是在 Spring Android 中抛出错误无论如何我可以简单地查看 http 标头而不必担心返回对象映射到？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T20:10:06.273

`DefaultResponseErrorHandler`用于`RestTemplate`所有 400 和 500 系列 HTTP 状态响应的抛出异常。一种选择是对`ResponseErrorHandler`您的 RestTemplate 请求使用不会引发异常的自定义。您可以修改您的请求以使用自定义处理程序，然后检查预期的状态代码：

```
// set the custom error handler
restTemplate.setErrorHandler(new CustomErrorHandler());

// make the request
ResponseEntity<Void> response = restTemplate.postForEntity(url, requestEntity, null);

// check status code
HttpStatus statusCode = response.getStatusCode();
if (statusCode == HttpStatus.CREATED) {
    // handle success
} else if (statusCode == HttpStatus.NOT_FOUND) {
    // handle error
} 
```

这是一个不会抛出任何异常的“空”实现示例：

```
class CustomErrorHandler implements ResponseErrorHandler {

    @Override
    public void handleError(ClientHttpResponse response) throws IOException {
    }

    @Override
    public boolean hasError(ClientHttpResponse response) throws IOException {
        return false;
    }

} 
```

因为服务器可能会返回其他状态码，所以最好查找预期的状态码，而不是为那些特定的状态码抛出异常。但这完全取决于您的需求。此示例扩展了使用的默认处理程序`RestTemplate`并检查预期的状态代码：

```
class CustomErrorHandler extends DefaultResponseErrorHandler {

    @Override
    public void handleError(ClientHttpResponse response) throws IOException {
        // check for expected status codes
        if (isExpected(response.getStatusCode())) {
            return;
        }
        super.handleError(response);
    }

    @Override
    public boolean hasError(ClientHttpResponse response) throws IOException {
        // check for expected status codes
        if (isExpected(response.getStatusCode())) {
            return false;
        }
        return super.hasError(response);
    }

    private boolean isExpected(HttpStatus statusCode) {
        return (statusCode == HttpStatus.CREATED || statusCode == HttpStatus.NOT_FOUND);
    }

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T08:18:56.720

当然，您可以将异常用作失败吗？

```
boolean success;
try{
    ResponseEntity<?> response = restTemplate.postForEntity(url, requestEntity, Object.class);
    int result = response.getHeaders().getStatus()...
    success = result >= 200 && result < 300;
}catch(Exception e){
    success = false;
} 
```

# javascript - 设置溢出-y：隐藏；导致页面在 Firefox 中跳转到顶部

> ID：15019510
> 
> 赞同：24
> 
> 时间：2013-02-22T08:04:26.443
> 
> 标签：javascript, css, overflow

我有一些 javascript 可以处理在我的网站上打开模式弹出窗口，它还将元素`overflow-y`上的属性设置为. 在 Chrome 和 IE 中，这按预期工作 - 滚动条隐藏，模式弹出窗口后面的页面保持在相同的滚动位置。当弹出窗口关闭时，设置为并且页面处于与之前相同的状态和位置。`<html>``hidden``overflow-y``scroll`

但是在 Firefox 中，一旦`overflow-y`更改为`hidden`页面滚动位置就会跳转到最顶部，因此当弹出窗口关闭时，用户的视图已更改 - 不理想。

这个问题可以[在这个jsfiddle上看到](http://jsfiddle.net/SBLgJ/5/)

这种行为有什么解决方案吗？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2016-08-27T17:20:20.427

不要使用`overflow: hidden`on `html`，只使用 on `body`。我有同样的问题，但通过删除`html`.

反而 ：

`$('body, html').css('overflow', 'hidden');`

做 ：

`$('body').css('overflow', 'hidden');`

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2018-07-24T17:13:09.277

在检查器窗口中检查后我遇到了同样的问题，我注意到在重置 CSS 中，HTML 设置为

```
HTML {
    overflow-y: scroll;
} 
```

您可以通过将其设置为来解决此问题

```
HTML {
    overflow-y: initial;
} 
```

如果您不想触摸重置 CSS 或只是评论它

插件和代码绝对没问题

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2018-05-12T10:29:54.480

将模态位置从绝对更改为固定：

```
#mymodal {
    position: fixed
 } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-06-30T23:51:20.793

不同的浏览器有很多错误，功能无处不在，所以要小心修改 body 和 html 标签的样式。

为了解决这个问题，我必须将正文的内容包装到它自己的元素中并对其应用滚动限制：

```
var $content = $('<div/>').append($body.contents()).appendTo($body);
$content.css('overflow-y', 'hidden'); 
```

这是我能够在不同的浏览器和设备上始终如一地工作的唯一方法。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2021-06-06T23:32:49.693

编辑：我刚刚看到您的代码，您使用了带有 href="#" 的链接。这很可能是原因。我建议删除 href 属性或使用按钮。

您应该考虑这可能不是由 css 本身引起的。在我的例子中，我用一个链接打开了我的弹出窗口：`<a href="#">open popup</a>` 所以实际上导致跳转到顶部的是链接的 href 属性中的“#”。

我删除了它并在我的 html 和 body 标签中添加了一个 noscroll 类：

```
.noscroll {
    overflow: hidden;
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2016-08-18T16:19:31.170

我刚遇到这个问题。我的解决方法是

```
/**
 * Store the scroll top position as applying overflow:hidden to the body makes it jump to 0
 * @type int
 */
var scrollTop;

$(selecor).unbind('click.openmenu').on('click.openmenu', function (e) {
    // Stuff...
    scrollTop = $('body').scrollTop() || $('html').scrollTop();
    $('body,html').css({overflow: 'hidden'});
});

$(selector).unbind('click.closemenu').on('click.closemenu', function (e) {
    // Stuff
    $('body,html').css({overflow: 'initial'}).scrollTop(scrollTop);
}); 
```

然而，这并不能解决如果用户调整视口大小会发生什么的问题。

* * *

## 回答 #7

> 赞同：-1
> 
> 时间：2018-02-05T01:52:21.127

从一开始就保持体高 100% 为我解决了这个问题。

```
body{
   height:100vh;
   overflow:auto;
}
body.with-modal{
   overflow:hidden;
} 
```

* * *

## 回答 #8

> 赞同：-2
> 
> 时间：2013-02-22T08:28:15.867

使用 body 标签而不是 html。

JS 小提琴：- **[http://jsfiddle.net/SBLgJ/6/](http://jsfiddle.net/SBLgJ/6/)**

JS 更改：-

```
$(document).ready(function() {
    $('#middle a').on('click', function(e) {
        e.preventDefault();
        $('body').css('overflow-y', 'hidden');  
    });
}); 
```

CSS更改：-

```
body {
    overflow-y:scroll;
} 
```

存在此类行为的报告问题。（[https://github.com/necolas/normalize.css/issues/71](https://github.com/necolas/normalize.css/issues/71)）

# android - Android绘制透明度

> ID：15019517
> 
> 赞同：0
> 
> 时间：2013-02-22T08:04:52.173
> 
> 标签：android, graphics, transparency

我是 Android 的新手（和 Java 相关的），我正在制作一个简单的游戏。我被困住了。

我的问题是这样的：

我有 2 张 png 图像（背景和前景）在启动时占据了整个屏幕。我现在希望能够将前景的“绘制部分”的宽度设置为 ON_DRAG 的 x 坐标。我的控制方法效果很好；它是这样使用的：

g.drawRect(0, 0, scene.getLine(), g.getHeight(), Color.GREEN);

其中 scene.getLine() 返回触摸的 x 值。所以此时我可以在我的图像上方绘制一个绿色矩形。但我真正想要的是让这些矩形尺寸在我的顶层 png 中“打一个洞”（这样背景就会显示在下面）。我不想缩放前景。

我试过clipRect，但它不起作用，因为我有其他图像需要在这两个之上绘制，而clipRect阻止了这种情况。我查看了一堆“PorterDuffXfermode”代码，但无法理解如何将其应用于我的情况，并且无法使其工作。即，我可以使用 PorterDuff“SRC”模式集进行绘画，但我不知道如何定义“源”和“目标”图像，因此绘画将发挥其魔力。最后一个考虑因素是，即使 PorterDuff 可以工作，我不确定它是否实用，因为我希望这个东西以 60fps 运行。

有什么建议么？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T08:09:16.650

您可以`canvas.save()`在剪辑之前和`canvas.restore()`绘图之后调用以将画布恢复到您凝视之前的状态。然后，您可以绘制其他图像。

# android - 动画：fillEnable、fillBefore 文档矛盾；包括fillAfter在内的语义

> ID：15019520
> 
> 赞同：1
> 
> 时间：2013-02-22T08:05:19.320
> 
> 标签：android, android-animation

今天，我有心情尝试对所讨论的属性进行布尔值的任意排列，并了解它们的真正含义。;)

[文档](http://developer.android.com/reference/android/view/animation/Animation.html#setFillAfter%28boolean%29)证明不是很有帮助，因为它似乎自相矛盾并且不太清楚。

我们来看一下。

> [...] fillBefore [...] 如果 setFillEnabled(boolean)*未设置为 true ，则默认为 true*。
> 
> 如果fillEnabled 为true，动画将应用fillBefore 的值。否则，fillBefore 将被忽略 [...]

如果不是*true* ，那么`fillBefore` *默认为 true*，同时被*忽略*？或者我们是否应该发现真实和*被**设置为*真实之间的细微差别？但即使这样也不能解开这个谜。`fillEnabled`

 ***好像这还不够，让我们试着找出这些属性真正控制的是什么。

> 如果 fillBefore 为真，则此动画将在动画开始时间之前应用其变换。

到现在为止还挺好。但：

> 如果 fillEnabled [...] [is false]，则忽略 fillBefore 并始终应用动画转换，直到动画结束。

什么？那么`fillEnabled`同时控制两个方面呢？或者*，动画转换[...]总是[被]应用直到动画结束*与开始时间之前动画的单个应用相关？

尽管存在文档问题，但我承认到目前为止我都很好地遵循了这些属性。但现在我看到了一种我无法解释的奇怪效果，所以是时候深入研究这个问题或找到解决方法了。

有人系统地检查过这个和/或可以指出我的解释吗？没找到太多；事实上，人们似乎一开始就避开了这些属性？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T08:22:44.733

这是文档中的一个错误。

Android UI Toolkit Team 的 Chet Haase 有更好的[解释](http://graphics-geek.blogspot.com/2011/08/mysterious-behavior-of-fillbefore.html)。***

# jquery - jQuery: 小 div 和快速鼠标移动无法识别 mouseenter/mousemove/mouseover

> ID：15019523
> 
> 赞同：1
> 
> 时间：2013-02-22T08:05:39.700
> 
> 标签：jquery, mouseover

我有一个**宽度：5px**和**高度：400px**的 div （例如）。如果我想在这个 div 悬停时触发一个函数，当我将鼠标移动得太快时无法识别事件（如果我使用 mouseover/mouseenter/mousemove 无关紧要）。

您可以在这里看到一个工作示例：http: [//jsfiddle.net/2YZvk/](http://jsfiddle.net/2YZvk/)

这是我的功能：

```
jQuery(document).ready(function(){
    jQuery('.hover_test').bind('mouseenter',function(){
        jQuery(this).css('background-color','#30a900');
    });
}); 
```

是否有可能以某种方式触发此事件，即使我将鼠标移动得太快？使 div 更宽不是一种选择......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T08:09:47.383

当您将鼠标移动到快时，速度为（例如）5，并且 5 + 5 + 5 + 5 = 20，因此您可以触摸的步数是 5、10、15、20，但如果 div 为 7 , 14, 18 它不会发生，它只是它的工作方式

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T08:28:12.927

这只是“*浏览器的工作原理*”；它根本不会为您触摸的每个像素触发事件，而是为每 x 毫秒触发事件。它会检查指针先前位置的位置是否不同，然后会触发该事件。这是通过操作系统处理的。

将鼠标快速移动到[JSFiddle 的这个更改版本上](http://tinyurl.com/akbhv9p)。并非所有条形都会直接着色：仅在浏览器中定义的 x 毫秒数之后。

# android - 为什么从给定位置列出 fb 优惠的 FQL 查询没有给出任何结果？

> ID：15019524
> 
> 赞同：0
> 
> 时间：2013-02-22T08:05:48.953
> 
> 标签：android, facebook, facebook-graph-api, facebook-fql

请帮助我解决 FQL 查询不显示任何结果，即使我所在位置有有效结果。

这是我正在使用的查询： **SELECT id, title, owner_id, image_url, created_time, expiration_time, terms, claim_limit, coupon_type, redemption_link, redemption_code FROM offer WHERE owner_id IN (SELECT parent_page FROM page WHERE page_id IN (SELECT page_id,name FROM放置WHERE距离（纬度，经度，'-36.849423'，'174.755888'）<50000））**

实际上，我所在的位置有很多有效的报价。请有人帮我找到解决方案，因为我被这个问题困扰了好几天..

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-21T10:59:38.103

这是旧的，所以你可能已经弄清楚了。

此查询在 API 资源管理器中适用于我：

```
SELECT id, title, owner_id, image_url, created_time, expiration_time, terms, claim_limit, coupon_type, redemption_link, redemption_code FROM offer WHERE owner_id IN (SELECT page_id FROM place WHERE distance(latitude, longitude, '-36.849423','174.755888') < 50000) 
```

# .htaccess - 仅针对 URL 的同一部分重写规则

> ID：15019525
> 
> 赞同：1
> 
> 时间：2013-02-22T08:05:50.940
> 
> 标签：.htaccess, redirect, rewrite, rule

我需要从 URL 进行重定向：

`RewriteRule    ^/cars/new/(.*)/(.*)/(.*).html$        /cars/new/$1/$2/ [R=301,L]`- 有用。

但是，类似的页面`/cars/new/asd/qwe/zxc.html`也使用此规则进行重定向。

我只需要重定向 /cars/new/asd/ **qwe** / ***qwe*** .html之类的 URL

而不是 /cars/new/asd/ **some_part** / **some_other_part** .html

只有 /cars/new/asd/ **some_part** / **some_part** .html

请有任何建议！

更新：工作解决方案是

```
RewriteRule ^cars/new/(.*)/(.*)/\2.html$    /cars/new/$1/$2/ [R=301,L] 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T09:19:20.983

请试试这个正则表达式。它使用反向引用来匹配与目录名称相同的文件名。

```
RewriteRule ^/cars/new/(.*)/(.*)/\2\.html$ /cars/new/$1/$2/ [R=301,L] 
```

# c# - 使用手机存储中的歌曲实现播放列表 [windows phone]

> ID：15019526
> 
> 赞同：3
> 
> 时间：2013-02-22T08:05:53.433
> 
> 标签：c#, windows, windows-phone-7, xna, media-player

我一直在努力解决我的媒体播放器 windows phone (7) 应用程序的问题。问题是我似乎无法实现播放列表。

我想做的是播放媒体库中的歌曲。[这篇文章](http://msdn.microsoft.com/en-us/library/windowsphone/develop/hh394039%28v=vs.105%29.aspx)似乎毫无意义。

我试着进入`SongCollection`课堂并弄清楚如何创造更多这些东西。这似乎是不可能的（没有构造函数，不能转换它，不能继承它）。

之后，我尝试在运行我的应用程序中存在的后台音频代理的进程上获取一个对象（直到我发现它是多余的），并一次为媒体播放器提供一首歌曲。

问题是，我不知道媒体播放器何时停止播放。只要我的应用程序在前台，它就可以正常工作，但是当它不在前台时，一切都停止工作，只有媒体播放器继续运行。

有没有我想不通的方法？在上面的文章中，他们建议在我认为是`MediaPlayer.Queue`属性的 Zune 媒体队列和我可以实现的各种东西之间存在一个链接，但我就是想不出办法让它去。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-22T10:23:46.270

您应该放弃，因为构建自己的媒体播放器是一项不可能完成的任务（去过那里，做过）。您不能创建播放列表或编辑任何信息，不能替换屏幕音乐控件的默认事件处理程序，除非当前正在运行，否则您不会在应用程序中获得音乐更改事件。

基本上，你现在能做的事情真的很有限，而且 WP8 的情况也好不到哪里去。

我希望在我们获得 Windows Phone 9 时它的只读性会降低。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-08-11T22:58:36.173

查看来自 Microsoft 的 UWP 示例： [https ://github.com/Microsoft/Windows-universal-samples](https://github.com/Microsoft/Windows-universal-samples)

该示例包含播放/暂停/播放列表说明。这在 Windows phone 7.5/8/8.1 中已经成为可能

# ubuntu - MySql 子进程正在消耗大量 RAM 空间

> ID：15019529
> 
> 赞同：2
> 
> 时间：2013-02-22T08:06:01.067
> 
> 标签：ubuntu, mysql-python, mysql, mysqlconnection

我的服务器上的 RAM 消耗存在问题。在一天中的特定时间，RAM 使用量增加到临界极限。

为了检查问题，我尝试运行`htop`命令，发现大部分 RAM 空间被 MySql 生成的子进程使用。这是`htop's`输出的屏幕截图。

![htop 命令的输出显示 MySql RAM 消耗](../Images/377945fad32deee0b5fa291960abc3f7.png)

目前我使用 MAX_CONNECTION 作为 151。

我该怎么做才能解决问题。有什么方法可以在不影响性能的情况下进行修复，或者有什么问题，我们在处理 MySql 连接方面做错了吗？

# c# - 如何为自定义控件制作外阴影

> ID：15019533
> 
> 赞同：0
> 
> 时间：2013-02-22T08:06:17.540
> 
> 标签：c#, winforms, controls

当鼠标移到我的控件上时，是否有可能出现外阴影？在winforms中？

我可以改变它的外观，但是一个影子？

```
public class MyButton : Button
{
    protected override void OnPaint(PaintEventArgs pevent)
    {
        GraphicsPath path = new GraphicsPath();
        path.AddEllipse(0, 0, ClientSize.Width, ClientSize.Height);
        this.Region = new Region(path);

        base.OnPaint(pevent);
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T08:31:36.410

我是提问者。我可以在控件后面添加另一个标签，并使其在鼠标悬停时显示为阴影。

# php - 根据 CGridView 中的列值动态更改行颜色

> ID：15019535
> 
> 赞同：0
> 
> 时间：2013-02-22T08:06:22.647
> 
> 标签：php, ajax, yii, yii-extensions, cgridview

首先，实际上我没有使用 CGridView，而是使用[来自](http://yii-booster.clevertech.biz/extended-grid.html)YiiBooster 的[TbExtendedGridView](http://yii-booster.clevertech.biz/index.html)。我在标题上使用 CGridView 是因为它更熟悉，但这两件事仍然以完全相同的方式工作。

我在我的 TbExtendedGridView (TbJEditableColumn) 上启用了内联编辑。TbExtendedGridView 正在使用 jquery 的 Jeditable 来实现此功能。这个[Jeditable 也适用于 CGridView](http://help.discretelogix.com/php/yii/enable-in-place-editing-in-yii-grid.htm)。

感谢这个 SO 的问题：[Change the Row Color Based on the Column value in CGridView](https://stackoverflow.com/questions/11077325/change-the-row-color-based-on-the-column-value-in-cgridview-in-yii)

我知道如何更改行颜色。但是，它仍然不能使用内联编辑功能。`rowCssClassExpression`所以，我的问题是，每次我在列上编辑一些值时，如何更新它？

这是我的观点代码`[root]/protected/views/transaction/admin.php`

```
<?
$this->widget('bootstrap.widgets.TbExtendedGridView', array(
    'id'=>'transaction-grid',
    'rowCssClassExpression'=>'$data->getCssClass()',
    'dataProvider'=>$model->search(),
    'filter'=>$model,
    'columns'=>array(
        array(
            'name'=>'date',
            'value'=> 'date("j M Y", strtotime($data->date))',
            'htmlOptions' => array('style'=>'width:52px')
        ),
        array(
            'name' => 'amount',
            'value' => 'number_format($data->amount, 0, ",", ".")',
            'htmlOptions' => array('class'=>'currency', 'style'=>'width:72px')
        ),
        array(
            'name' => 'category_name',
            'value'=>'$data->category->name',
            'header'=>'Category',
            'sortable' => 'true',
            'htmlOptions' => array('style'=>'width:131px'),
            'class'=>'bootstrap.widgets.TbJEditableColumn',
            'jEditableOptions' => array(
                'type' => 'optgroup',
                'loadurl' => Yii::app()->baseUrl . '/index.php/transaction/getCategory',
                'submitdata' => array('attribute'=>'category'),
                'cssclass' => 'form',
                'width' => '180px',
                'submit' => 'save changes'
            )
        ),
        array(
            'name'=>'desc',
            'value'=>'$data->desc',
            'htmlOptions' => array('class'=>'desccell'),
            'class'=>'bootstrap.widgets.TbJEditableColumn',
            'jEditableOptions' => array(
                'type' => 'text',
                // very important to get the attribute to update on the server!
                'submitdata' => array('attribute'=>'desc'),
                'cssclass' => 'form',
                'width' => '180px',
            )
        ),
        array(
            'htmlOptions' => array('nowrap'=>'nowrap'),
            'class'=>'bootstrap.widgets.TbButtonColumn',
        )
    )
) 
```

这是我的`getCssClass`代码`[root]/protected/models/Transaction.php`：

```
public function getCssClass(){
        $categoryType = Category::model()->findByPk($this->categoryId)->getAttribute("type");
        $categoryName = Category::model()->findByPk($this->categoryId)->getAttribute("name");

        $class = "";

        if($categoryName == "Uncategorized Income"){
            $class = "darkgreen";
        }
        else if($categoryName == "Uncategorized Expense"){
            return "darkred";
        }
        else if($categoryType == "INCOME"){
            return "green ";
        }
        else if($categoryType == "EXPENSE" || $categoryType == "COST OF GOODS"){
            return "red ";
        }
        else if($categoryType == "WITHDRAW" || $categoryType == "DEPOSIT" ){
            return "blue ";
        }
        else{
            return "grey ";
        }

        return $class . " " . $categoryName . " " . $categoryType;
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-24T21:33:01.890

使用“afterAjaxUpdate”属性在任何更新时触发 javascript 函数。

```
'afterAjaxUpdate' => ' function(){ //enterJScode }', 
```

# c# - 如何在 Linq 中订购日期？

> ID：15019542
> 
> 赞同：6
> 
> 时间：2013-02-22T08:06:50.457
> 
> 标签：c#, linq, entity-framework

我正在使用 C# 和 LINQ，我有一些日期类型`Date`

目前，我正在使用此脚本按开始日期排序列表，从早到晚。

使用以下代码，我的事件未排序：

```
 events.OrderBy(x => x.DateTimeStart).ToList();    
      return events.AsQueryable(); 
```

这里有什么问题？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-02-22T08:09:24.750

`events.OrderBy(x => x.DateTimeStart).ToList()`创建一个新列表，您不会返回它。

你可能想要类似的东西

```
return events.OrderBy(x => x.DateTimeStart).ToList(); 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-22T08:33:53.040

`events.OrderBy(x => x.DateTimeStart)`*：声明一个按属性DateTimeStart*对事件进行排序的查询。查询尚未执行。

`events.OrderBy(x => x.DateTimeStart).ToList();`：处理上一个查询。遍历所有*事件*，检查它们的*DateTimeStart*，对它们进行排序并将结果作为*List*安全，然后......丢弃结果！因为你没有保护它。将其与类似的东西进行比较：

```
int a = 0;
a + 1;
b = a; // b is 0 
```

`return events.AsQueryable();`：在这里，您将返回原始*事件*而不是排序。

您应该按如下方式编写代码：

```
return events.OrderBy(x => x.DateTimeStart).ToList().AsQueryable(); 
```

该版本将创建排序事件的静态列表。如果现在您更改*事件*列表，结果将不会考虑您的更改。

第二种解决方案是：

```
return events.OrderBy(x => x.DateTimeStart).AsQueryable(); 
```

该版本将不起作用。它只是声明了一种对*事件*进行排序的方式并将该方式返回为*IQueryable*。如果您在以后的代码中使用返回值，它将始终包含所有排序的事件，即使您在使用之前添加新事件也是如此。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-22T08:09:31.280

将您的有序事件存储在一个变量中，并将该变量作为Queryable() 返回；

```
var orderedEvents = events.OrderBy(x => x.DateTimeStart).ToList();    

return orderedEvents.AsQueryable(); 
```

或者，如果您不需要该变量，则直接返回您订购的事件。

```
return events.OrderBy(x => x.DateTimeStart).ToList().AsQueryable(); 
```

# windows-phone-7 - 在 WP7 中使用 Bing 地图中的搜索服务

> ID：15019544
> 
> 赞同：0
> 
> 时间：2013-02-22T08:06:57.693
> 
> 标签：windows-phone-7, bing-api, bing-maps

我用[它](http://programming4.us/mobile/3478.aspx)来使用模拟器在 WP7 上的 Bing Maps 上找到一个地址。该网站提到了搜索服务，这是我想尝试和实施的东西。但是，方法似乎不同，因为查询参数不同，查询方式也不同。任何人都可以帮我找到资源，这些资源给我一个（如果可能的话）如何实现或实施搜索服务的分步列表。我已经浏览了官方的 MSDN 页面，它们毫无用处。至少满足我的需求！请帮忙。谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T10:49:17.213

我强烈建议使用 Bing Maps REST 服务，您可以在 MSDN 上找到有关如何使用它的信息：

[http://msdn.microsoft.com/en-us/library/ff701713.aspx](http://msdn.microsoft.com/en-us/library/ff701713.aspx)

此外，请查看官方博客，您将能够在其中找到使用 .Net 包装器使用 REST 服务的最佳实践和好的技巧：

[http://www.bing.com/community/site_blogs/b/maps/archive/2013/02/14/bing-maps-rest-service-tips-amp-tricks.aspx](http://www.bing.com/community/site_blogs/b/maps/archive/2013/02/14/bing-maps-rest-service-tips-amp-tricks.aspx)

如果您在 Windows Phone 应用程序中实现搜索服务有其他困难，请告诉我们。

# python - 单击 web.py python 中的按钮时下载/导出 csv 文件

> ID：15019549
> 
> 赞同：0
> 
> 时间：2013-02-22T08:07:10.287
> 
> 标签：python, button, csv, export, web.py

我正在使用 python`web.py`框架来构建一个小型 Web 应用程序。

它由一个

1.  `Home page`以 url 作为输入
2.  读取`anchor text`并`anchor tags`从中读取
3.  将其写入 csv 文件并下载

当我们点击一​​个`export the links`按钮时，这里的第 2 步和第 3 步发生了，下面是我的代码

**代码.py**

```
import web
from web import form
import urlparse
from urlparse import urlparse as ue
import urllib2
from BeautifulSoup import BeautifulSoup
import csv
from cStringIO import StringIO

urls = (
    '/', 'index',
    '/export', 'export',
)

app =  web.application(urls, globals())
render = web.template.render('templates/')

class index:
    def GET(self):
        return render.home()

class export:

    def GET(self):
        i = web.input()
        if i.has_key('url') and i['url'] !='':
            url = i['url'] 
            page = urllib2.urlopen(url)
            html = page.read()
            page.close()

            decoded = ue(url).hostname
            if decoded.startswith('www.'):
                decoded = ".".join(decoded.split('.')[1:])
            file_name = str(decoded.split('.')[0])

            csv_file = StringIO()
            csv_writer = csv.writer(csv_file)
            csv_writer.writerow(['Name', 'Link'])

            soup = BeautifulSoup(html)
            for anchor_tag in soup.findAll('a', href=True):     
                csv_writer.writerow([anchor_tag.text,anchor_tag['href']]) 
            web.header('Content-Type','text/csv')       
            web.header('Content-disposition', 'attachment; filename=%s.csv'%file_name)
            return csv_file.getvalue()

if __name__ == "__main__":
    app.run() 
```

**主页.html**：

```
$def with()
<html>
 <head>
   <title>Home Page</title>
 </head>
 <body>
     <form method="GET" action='/export'>
        <input type="text" name="url" maxlength="500" />
        <input class="button" type="submit" name="export the links" value="export the links" />
      </form>
 </body>
</html> 
```

上面的 html 代码显示了一个带有文本框的表单，该文本框采用 url ，并具有按钮`export the links`按钮，`downloads/exports`带有锚标记的 csv 文件链接和文本。

1.  例如，当我们提交`http://www.google.co.in`并单击时`export the links`，所有锚 url 和锚文本都保存到 csv 文件并成功下载

2.  但是例如，当我们`http://stackoveflow.com`立即给出另一个 url 并单击`export the links`按钮时，csv 文件（使用 url 的域名创建，如上面的代码所示）正在使用标签链接下载，但下载的 csv 文件还包含数据（锚上一个 url 的文本和链接），即`http://www.google.co.in`.

那就是数据在来自不同 url 的同一个 csv 文件中被覆盖，谁能告诉我上面`export class`生成 csv 文件的代码（）中有什么问题，为什么数据被覆盖而不是创建一个新的 csv 文件动态创建的名称？

最后，我的意图是下载/导出一个新的 csv 文件，其中包含 url 的域名（在我的代码中切片），每次我们提供新的 url .

任何人都可以扩展/对我的上述代码进行必要的更改，以下载个人 url 的个人 csv 文件............

# svn - SVN重命名错误

> ID：15019555
> 
> 赞同：-1
> 
> 时间：2013-02-22T08:07:30.113
> 
> 标签：svn, tortoisesvn

在 SVN 我的文件夹结构是 Folder1 | -> 子文件夹1 | -> 子子文件夹1

我只能访问 SubFolder1 及其所有子文件夹（在我的情况下为 SubSubFolder1）。我无权访问 Folder1。我想将 SubFolder1 重命名为 NewSubFolder1。我在win7上使用乌龟SVN。当我右键单击 SubFolder1 存储库时，我没有得到重命名选项。我尝试通过 repo 浏览器重命名，但出现以下错误：

> 服务器发送了意外的返回值（405 Method not Allowed）以响应对“/”的 PROPFIND 请求

知道如何重命名它吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T11:56:52.973

你不能。

将 SVN 中的文件夹视为包含所有子项列表的文本文件。然后您会看到，要修改 SubFolder1，您需要修改 Folder1 的“内容”。

从技术上讲，重命名不是对项目本身的操作，而是对父项的操作。

# javascript - 我如何从网络浏览器/HTML PAGE 表中打印选定的 ROWS？

> ID：15019556
> 
> 赞同：0
> 
> 时间：2013-02-22T08:07:31.653
> 
> 标签：javascript, jquery

我有一个将数据发送到名为 Print.txt 的文本文件的 sendData.JSON.aspx 页面。但我只想打印在我的网络浏览器页面/HTML PAGE 上选择的数据，注意在那个网络浏览器页面上，数据是在 TABLE 上选择的。我有一个复选框列，所以我想相应地打印所有选定的 ROWS。这是我要打印的代码：

```
 function printSelected() 
    {
        var selecteditems = hesto.ui.getselecteditems('#scannedlabeltable');

        $.each(selecteditems, function (i, item) {

            $.ajax({
            url: SEND_TO_TEXTFILE_PAGE
                    , data: "serial=" + item.id
                        , datatype: 'json'
                        , success: function (status) {
                            if (status.error) {
                                alert(status.error);
                            }
                        }
                        , error: hesto.ajax.errorhandler
            });
        }); 
```

# primefaces - 未从 primefaces 对话框调用客户端回调

> ID：15019566
> 
> 赞同：1
> 
> 时间：2013-02-22T08:08:55.747
> 
> 标签：primefaces, dialog

我有一个 primefaces 对话框，其中包含一个输入文本区域和一个命令按钮“提交”。

我有一个包含“拒绝”按钮的表单，该表单位于 Tabview 内。当用户单击“拒绝”按钮时，我会显示对话框“rejectDialog”供用户输入拒绝原因。一旦用户输入评论并单击对话框中的提交按钮“submitButton”，就会在 bean 中调用一个操作方法来更新评论值。我有一个调用 javascript 方法的 oncomplete 属性。action 方法完成后，javascript 方法不再执行，对话框关闭。该操作成功执行，我没有收到任何错误。我也尝试用 onsuccess 替换 oncomplete，但仍然没有执行 javascript 方法。

我想知道为什么在对话框中从不完整地调用javascript？

我还尝试在 oncomplete 属性中添加一个警报，但仍然从未执行警报。

代码附在下面。

## XHTML 页面

```
<p:dialog id="rejectDialog" header="Enter Comments" 
              hideEffect="explode" showEffect="explode" 
              resizable="false" widgetVar="rejectDlg" 
              style="background: #bcbcbc !important;"
              >
            <h:panelGrid columns="1" cellpadding="0" cellspacing="2"
                         styleClass="commentsPanel"
                         id="dialogpanelgrid">
                <p:outputLabel for="rejectComments" value="Enter Comments *: "
                               style="font-weight: bold;">

                </p:outputLabel>
                <p:inputTextarea cols="40" rows="4" autoResize="false" 
                   id="rejectComments" styleClass="rejectCommentsCls"
                   value="#{requestDetailsMB.rejectCommentsDesc}"
                   style="background: lightgray !important; color:#000 !important;" 
                                 widgetVar="txtreject"
                                 >
                    <f:validator validatorId="commentsValidator"></f:validator>
                </p:inputTextarea>
         <h:outputLabel id="rejectCommentsMessage" class="rejectCommentsMsg" value="" 
                               style="color:red !important; font-weight: bold;">

                </h:outputLabel>
            </h:panelGrid>
            <p:commandButton id="submitButton" 
                             style="margin-top: 15px; float:right;" 
                             value="Submit"
                             onclick="return validate();"
                             action="#{requestDetailsMB.rejectRequest}"
                             oncomplete="performRejectAction();"
                             /> 
    </p:dialog> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T18:42:08.807

在`onclick`发生`commandButton`. javascript 可以覆盖 primefaces 的行为，这可能`oncomplete`是不被执行的原因。我建议您改用该`onstart`事件：

```
<p:commandButton id="submitButton" 
    style="margin-top: 15px; float:right;" 
    value="Submit"
    onstart="return validate();"
    action="#{requestDetailsMB.rejectRequest}"
    oncomplete="performRejectAction();" /> 
```

# javascript - 执行javascript函数，哪个名称存储在变量中？

> ID：15019574
> 
> 赞同：1
> 
> 时间：2013-02-22T08:09:17.963
> 
> 标签：javascript, function, variables

我有 HTML 标签，我在其中存储要在属性中调用的函数名称。

```
<div id="it3" evt="swipeleft|swiperight" act="evtsheet['it2L']|evtsheet['it3R']" class="focusable off" style="width: 25%; height: 26.031746031746035%; top: 60.63492063492063%; left: 44.82142857142858%; z-index: 998; "></div>
<div id="it4" evt="swipeleft|swiperight" act="evtsheet['it3L']|evtsheet['it4R']" class="focusable off" style="width: 25%; height: 25.709325396825395%; top: 60.952380952380956%; left: 60.357142857142854%; z-index: 999; ></div> 
```

我也有这个脚本。

```
<script>
    var evtsheet = {
        it2L : function(){/*some code*/}
        it3L : function(){/*some code*/}
        it3R : function(){/*some code*/} 
        it4L : function(){/*some code*/}
        /*have more similar functions*/
    }
</script> 
```

让我们考虑这个 HTML/JS 在 index.html 现在，我有一个 wrapper.js 访问上述元素并获取函数名称。例子：

```
com.xxx.init = function(ele){       //ele = "#it3"

     var e = ($(ele).attr("act")).split("|");   
     // e is array with values e[0] = evtsheet['it2L'] and 
     //                        e[1] = evtsheet['it3R']

     //Here i need to invoke the function
     //             ????? 
```

}

如何调用函数 evtsheet['it3R'] ？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T08:12:05.480

函数引用只是对象的一个​​属性。在 JavaScript 中，您可以通过*两种*方式访问​​对象属性：

1.  使用点分符号和文字属性名称：`obj.foo`

2.  使用括号表示法和字符串属性名称：`obj["foo"]`

在后一种情况下，字符串可以是任何表达式的结果。

访问该属性后，您只需添加`()`即可调用它。

所以：

```
evtsheet['it3L'](); 
```

或者

```
evtsheet.it3L(); 
```

对于其中任何一个，在通话中，`this`将是`evtsheet`.

你说

> 我可以访问这个值并存储在一个变量中。

你可以这样做，像这样：

```
var f = evtsheet['it3L']; 
```

或者

```
var f = evtsheet.it3L; 
```

然后调用它：

```
f(); 
```

但请注意，如果您这样做，`this`将*不会*在`evtsheet`通话中。（它将是全局对象或`undefined`，取决于您是否处于严格模式。）

更多的：

*   [*神话方法*](http://blog.niftysnippets.org/2008/03/mythical-methods.html)
*   [*你必须记住`this`*](http://blog.niftysnippets.org/2008/04/you-must-remember-this.html)

* * *

重新从 HTML 中获取名称。我会把它们改成这样，这样它们更容易抓取（它们并不像你拥有的那样*难*，但像这样更容易）：

```
<div id="it3" evt="swipeleft|swiperight" act="evtsheet.it2L|evtsheet.it3R" class="focusable off" style="width: 25%; height: 26.031746031746035%; top: 60.63492063492063%; left: 44.82142857142858%; z-index: 998; "></div>
<div id="it4" evt="swipeleft|swiperight" act="evtsheet.it3L|evtsheet.it4R" class="focusable off" style="width: 25%; height: 25.709325396825395%; top: 60.952380952380956%; left: 60.357142857142854%; z-index: 999; ></div> 
```

那么你可以使用`split`它来获取它的部分：

```
com.xxx.init = function(ele) {       //ele = "#it3"

     var e = $(ele).attr("act").split("|");

     // This assumes `evtsheet` is a global variable
     // Here's how to call the function defined by `e[0]`:
     var parts = e[0].split('.');
     window[parts[0]][parts[1]]();

     // (And you can generalize it for any of the other functions in
     // the `e` array)
} 
```

假设`evtsheet`是一个全局变量（它在你的问题中）。我不喜欢全局变量，所以我可能会将所有代码放在一个作用域函数中（以避免创建全局变量）并这样做：

```
<script>
    // Start the scoping function
    (function() {
        // Make evtsheet a property of an object
        var stuff = {
            evtsheet: {
                it2L : function(){/*some code*/},
                it3L : function(){/*some code*/},
                it3R : function(){/*some code*/},
                it4L : function(){/*some code*/},
               /*have more similar functions*/
            }
        };

        // ...other stuff...

        com.xxx.init = function(ele) {       //ele = "#it3"

             var e = $(ele).attr("act").split("|");

             // We no longer assume `evtsheet` is a global, but it *is*
             // a property on `stuff`.
             // Here's how to call the function defined by `e[0]`:
             var parts = e[0].split('.');
             stuff[parts[0]][parts[1]]();

             // (And you can generalize it for any of the other functions in
             // the `e` array)
        };

        // ...other stuff...

    // End of scoping function
    })();
</script> 
```

如果您想保持名称不变，则可以使用相当简单的正则表达式：

```
var parts = /^([^[]+)['([^']+)']$/.exec(e[0]);
if (parts) {
    stuff[parts[1]][parts[2]](); // Note the indexes changed
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T08:11:59.580

您可以通过以下方式调用您的函数

```
<script>
    var evtsheet = {
        it3L : function() {
            console.log("test")
        }

    }
    evtsheet['it3L']();        
    // evtsheet.it3L();
</script> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T08:12:15.727

尝试将函数的名称改为：

```
//assuming that you are going to get the "act" property and parse it
<div id="it3" act="it3L|it4R"...

//get the function name, for example, it3L
var evt = 'it3L';

//execute that function from your evtsheet object
evtsheet[evt].call(this); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-22T08:19:01.117

您正在寻找事件。事件是发生某事时调用函数的一种方式。现在，您没有指定何时要调用这些函数，让我们以最常见的一个为例：onClick。

```
<div id="it3" evt="swipeleft|swiperight" onclick="funcName()" ...></div> 
```

还有剧本

```
<script>
    function funcName() {
        // Anything goes...
    }
</script> 
```

另外，如果你想在 html 标签中存储元信息，我建议你使用标准的 data- 属性，见这里：[http ://www.w3.org/TR/2011/WD-html5-20110525/elements.html#自定义数据属性](http://www.w3.org/TR/2011/WD-html5-20110525/elements.html#custom-data-attribute)

# css - CSS 在 IE9 中运行良好，但在 IE8 中完全搞砸了

> ID：15019581
> 
> 赞同：1
> 
> 时间：2013-02-22T08:09:34.047
> 
> 标签：css, internet-explorer, internet-explorer-8

![在此处输入图像描述](../Images/d4fb685462cdb6b22e55378400a74d55.png)

我的边框半径和背景渐变样式没有出现在 IE8 中。IE8 中整体容器的大小也不同。

我尝试过 CSS PIE，但也没有用。

期待在此问题上获得任何帮助。请帮帮我。

提前感谢大家的提示。

```
.Quor_Widget_buttondescription0  //Add To Order Button
{

position:relative;
width:90%;
font-size: 24px;
height:47px;
overflow:hidden;
margin:8px 8px 5px;
border:1px solid #000000;
text-align: center;
-moz-border-radius:10px;
-webkit-border-radius:10px;
border-radius:10px;
-moz-box-shadow:0 0 3px rgba(0,0,0,0.5);
-webkit-box-shadow:0 0 3px rgba(0,0,0,0.5);
box-shadow:0 0 3px rgba(0,0,0,0.5);
color:#000000;
font:bold, Helvetica, Arial, sans-serif;
cursor:pointer;
background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIHZpZXdCb3g9IjAgMCAxIDEiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiPgo8bGluZWFyR3JhZGllbnQgaWQ9Imc0NjEiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4MT0iMCUiIHkxPSIwJSIgeDI9IjAlIiB5Mj0iMTAwJSI+CjxzdG9wIHN0b3AtY29sb3I9IiM2N0JBNjciIG9mZnNldD0iIi8+PHN0b3Agc3RvcC1jb2xvcj0iIzBGQTkwRiIgb2Zmc2V0PSIiLz4KPC9saW5lYXJHcmFkaWVudD4KPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEiIGhlaWdodD0iMSIgZmlsbD0idXJsKCNnNDYxKSIgLz4KPC9zdmc+);
background: -moz-linear-gradient(#0FA90F, #67BA67);
behavior: url(PIE.htc);

display: inline-block;

} 
```

// 选择按钮 -- 在尺寸标签下

```
.segmented-button-count3 {
background: transparent;
padding: 1px;
}
.segmented-button-count3 input[type="radio"] {
width: 0px;
height: 0px;
display: none;
}
.segmented-button-count3 label {
width:33.3%;
height:20px;
padding-top: 4px;
padding-bottom: 1px;
overflow: hidden;
white-space: nowrap;
display: block;
text-overflow: ellipsis;
display: -moz-inline-box;
-moz-box-orient: vertical;
display: inline-block;
vertical-align: middle;
vertical-align: auto;
-moz-border-radius: 10px;
-webkit-border-radius: 10px;
-o-border-radius: 10px;
-ms-border-radius: 10px;
-khtml-border-radius: 10px;
border-radius: 10px;
text-shadow: white;
background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIHZpZXdCb3g9IjAgMCAxIDEiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiPgo8bGluZWFyR3JhZGllbnQgaWQ9ImczNjEiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4MT0iMCUiIHkxPSIwJSIgeDI9IjEwMCUiIHkyPSIxMDAlIj4KPHN0b3Agc3RvcC1jb2xvcj0iI0ZCRkJGQiIgb2Zmc2V0PSIwIi8+PHN0b3Agc3RvcC1jb2xvcj0iI0M5QzlDOSIgb2Zmc2V0PSIxIi8+CjwvbGluZWFyR3JhZGllbnQ+CjxyZWN0IHg9IjAiIHk9IjAiIHdpZHRoPSIxIiBoZWlnaHQ9IjEiIGZpbGw9InVybCgjZzM2MSkiIC8+Cjwvc3ZnPg==);
background-repeat: no-repeat;
background-size:100%; 
-webkit-box-shadow: inset 0 -4px 7px rgba(0,0,0,0.15), 0 1px 0 rgba(255,255,255, 0.3), inset 0 1px 0 rgba(255,255,255, 0.3);  
-moz-box-shadow: inset 0 -8px 10px rgba(0,0,0,0.15), 0 1px 0 rgba(255,255,255, 0.3), inset 0 1px 0 rgba(255,255,255, 0.3);  
box-shadow: inset 0 -8px 10px rgba(0,0,0,0.15), 0 1px 0 rgba(255,255,255, 0.3), inset 0 1px 0 rgba(255,255,255, 0.3); 
background: -moz-linear-gradient(#fbfbfb, #c9c9c9);
border: 1px solid #b2b2b2;
color: 000000;
font-size: 13px;
cursor: pointer;
font-family: Helvetica;
-moz-border-radius: 0px;
-webkit-border-radius: 0px;
-o-border-radius: 0px;
-ms-border-radius: 0px;
-khtml-border-radius: 0px;
border-radius: 0px;
margin-right: -5px;
}
.segmented-button-count3 label {
*display: inline;
}
.segmented-button-count3 label:hover {
-moz-box-shadow: 0 0 5px 1px rgba(0, 0, 0, 0.1);
-webkit-box-shadow: 0 0 5px 1px rgba(0, 0, 0, 0.1);
-o-box-shadow: 0 0 5px 1px rgba(0, 0, 0, 0.1);
box-shadow: 0 0 5px 1px rgba(0, 0, 0, 0.1);
color: #333333;
}
.segmented-button-count3 label:active, .segmented-button-count3 label.active {
background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIHZpZXdCb3g9IjAgMCAxIDEiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiPgo8bGluZWFyR3JhZGllbnQgaWQ9ImcyMDYiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4MT0iMCUiIHkxPSIwJSIgeDI9IjAlIiB5Mj0iMTAwJSI+CjxzdG9wIHN0b3AtY29sb3I9IiMyRDYyQkUiIG9mZnNldD0iMCIvPjxzdG9wIHN0b3AtY29sb3I9IiM2Q0E1RjUiIG9mZnNldD0iMSIvPgo8L2xpbmVhckdyYWRpZW50Pgo8cmVjdCB4PSIwIiB5PSIwIiB3aWR0aD0iMSIgaGVpZ2h0PSIxIiBmaWxsPSJ1cmwoI2cyMDYpIiAvPgo8L3N2Zz4=);
background-repeat: no-repeat;
background-size:100%; 
background: -moz-linear-gradient(#2d62be, #6ca5f5);
}
.segmented-button-count3 label.first {
-moz-border-radius-topleft: 10px;
-webkit-border-top-left-radius: 10px;
-o-border-top-left-radius: 10px;
-ms-border-top-left-radius: 10px;
-khtml-border-top-left-radius: 10px;
border-top-left-radius: 10px;
-moz-border-radius-bottomleft: 10px;
-webkit-border-bottom-left-radius: 10px;
-o-border-bottom-left-radius: 10px;
-ms-border-bottom-left-radius: 10px;
-khtml-border-bottom-left-radius: 10px;
border-bottom-left-radius: 10px;
}
.segmented-button-count3 label.last {
-moz-border-radius-topright: 10px;
-webkit-border-top-right-radius: 10px;
-o-border-top-right-radius: 10px;
-ms-border-top-right-radius: 10px;
-khtml-border-top-right-radius: 10px;
border-top-right-radius: 10px;
-moz-border-radius-bottomright: 10px;
-webkit-border-bottom-right-radius: 10px;
-o-border-bottom-right-radius: 10px;
-ms-border-bottom-right-radius: 10px;
-khtml-border-bottom-right-radius: 10px;
border-bottom-right-radius: 10px;
}
.segmented-button-count3 input:checked + label, .segmented-button-count3 label.selected {
background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIHZpZXdCb3g9IjAgMCAxIDEiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiPgo8bGluZWFyR3JhZGllbnQgaWQ9ImcyMDYiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4MT0iMCUiIHkxPSIwJSIgeDI9IjAlIiB5Mj0iMTAwJSI+CjxzdG9wIHN0b3AtY29sb3I9IiMyRDYyQkUiIG9mZnNldD0iMCIvPjxzdG9wIHN0b3AtY29sb3I9IiM2Q0E1RjUiIG9mZnNldD0iMSIvPgo8L2xpbmVhckdyYWRpZW50Pgo8cmVjdCB4PSIwIiB5PSIwIiB3aWR0aD0iMSIgaGVpZ2h0PSIxIiBmaWxsPSJ1cmwoI2cyMDYpIiAvPgo8L3N2Zz4=);
background-repeat: no-repeat;
background-size:100%; 
background: -moz-linear-gradient(#2d62be, #6ca5f5);
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T08:15:11.013

Internet Explorer 8 没有对 SVG 的本机支持。它很少或根本不支持 CSS3 属性，例如`border-radius`.

最好的解决方案可能是使用自定义样式（例如 JPG 背景而不是 SVG）为 IE8 制作单独的样式表，并仅在 IE8 中显示。

您还应该看看[Modernizr](http://www.modernizr.com/)。

或者，强制用户使用真正的网络浏览器；-)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T10:31:19.040

**答：**在IE6-9中实现border-radius、box-shadow和渐变背景，可以使用[CSS3 PIE 。](http://css3pie.com/)正如 SDC 所提到的，您可能希望确保 PIE.htc 文件实际上正在加载。一个例子：

```
.button {
  -webkit-border-radius: 12px;
     -moz-border-radius: 12px;
          border-radius: 12px;

  -webkit-box-shadow: #888 5px 5px 5px;
     -moz-box-shadow: #888 5px 5px 5px;
          box-shadow: #888 5px 5px 5px;

  background: #444; /* Single-color fallback */
  background: -webkit-gradient(linear, 0 0, 0 bottom, from(#444), to(#CCC)); /* Chrome, Safari 4+ */
  background: -webkit-linear-gradient(#444, #CCC); /* Chrome 10+, Safari 5.1+ */
  background: -moz-linear-gradient(#444, #CCC); /* FF 3.6+ */
  background: -ms-linear-gradient(#444, #CCC); /* IE10+ */
  background: -o-linear-gradient(#444, #CCC); /* Opera 11.10+ */
  background: linear-gradient(#444, #CCC); /* W3C */

  -pie-background: linear-gradient(#444, #CCC); /* For CSS3 PIE */
  behavior: url(PIE.htc); /* Also for CSS3 PIE */
} 
```

**最佳实践：**您可能需要考虑重新编写 CSS。有很多重复和不必要的属性和技巧可以使代码在特定的浏览器中工作。开始跨浏览器保持一致性的一种简单方法是使用 CSS 重置，例如[Normalize.css](http://necolas.github.com/normalize.css/)。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-22T10:48:23.393

从截图中可以清楚地看出 CSS3Pie 根本没有运行。我建议阅读 CSS3Pie 网站上列出的常见问题和已知问题；看起来你可能正在与其中之一发生冲突。

特别是，您应该检查 PIE.htc 文件是否正在加载，以及是否使用正确的 mime 类型提供服务。（查看 IE8 的开发工具窗口以查看加载了哪些 URL）

第一点——如果文件根本没有被加载，它可能加载了错误的 URL。给 htc 文件的相对 URL 时，IE 可能会出错；将其更改为绝对 URL 是个好主意；例如`/PIE.htc`，而不仅仅是`PIE.htc`. 这在[已知问题页面](http://css3pie.com/documentation/known-issues/)中进行了讨论。

第二点也在已知问题页面上进行了讨论。某些 Web 服务器可能无法提供具有正确 mime 类型的 htc 文件。如果不作为`text/x-component`. 检查下载文件时发送的 http 标头。

# android - 如何检查用户在 EditText 中输入的自己的电话号码？

> ID：15019582
> 
> 赞同：11
> 
> 时间：2013-02-22T08:09:36.457
> 
> 标签：android, android-asynctask, sms, telephony, android-broadcast

手机号码将由用户在我的 Android 应用程序的注册页面上以编辑文本形式输入。如何检查用户是否输入了他/她的手机号码而不是其他人的？

我试过这个：

```
TelephonyManager tMgr =(TelephonyManager)mAppContext.getSystemService(Context.TELEPHONY_SERVICE);
  mPhoneNumber = tMgr.getLine1Number(); 
```

并将此变量与 edittext 的文本进行比较。但在我的情况下，mPhoneNumber 返回**NULL 。**还有其他选择吗？如何解决这个问题？

任何帮助都是不言而喻的。

我试过这个：检查源代码：

```
 public class MainActivity extends Activity{    

    Button submit;
    EditText contact;
    String phNo;
    ProgressDialog progress;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        contact = (EditText)findViewById(R.id.mobileNumber);
        submit = (Button) findViewById(R.id.button1);

        submit.setOnClickListener(new OnClickListener()
        {
                public void onClick(View v)
                {
                    phNo = contact.getText().toString();
                    new CheckOwnMobileNumber().execute();
                    Toast.makeText(getApplicationContext(), phNo, Toast.LENGTH_LONG).show();
                }
        });

    }

    private class CheckOwnMobileNumber extends AsyncTask<String, Void, String>
    {
        @Override
        protected void onPostExecute(String result)
        {
            // TODO Auto-generated method stub
            if(progress.isShowing())
            {
                progress.dismiss();
                // Check SMS Received or not after that open dialog date
                /*if(SMSReceiver.str.equals(phNo))
                {
                    Toast.makeText(getApplicationContext(), "Thanks for providing your number.", Toast.LENGTH_LONG).show();
                }
                else
                {
                    Toast.makeText(getApplicationContext(), "Provide your own mobile number please.", Toast.LENGTH_LONG).show();
                    return;
                }*/

            }
        }

        @Override
        protected String doInBackground(String... params)
        {
            // TODO Auto-generated method stub
            String msg = phNo;
            try
            {
                sendSMS(phNo, msg);
            }
            catch(Exception ex)
            {
                Log.v("Exception :", ""+ex);
            }
            return null;
        }

        @Override
        protected void onPreExecute() {
            // TODO Auto-generated method stub
            progress = ProgressDialog.show(MainActivity.this, "","Checking Mobile Number...");
            progress.setIndeterminate(true);
            progress.getWindow().setLayout(LayoutParams.WRAP_CONTENT,LayoutParams.WRAP_CONTENT);
            super.onPreExecute();
        }

}

    private void sendSMS(String phoneNumber, String message)
        {        
            //PendingIntent pi = PendingIntent.getActivity(getApplicationContext(), 0, new Intent(getApplicationContext(), MainActivity.class), 0);                
            SmsManager sms = SmsManager.getDefault();
            sms.sendTextMessage(phoneNumber, null, message, null, null);        
        }
} 
```

接收方是否收听短信？

```
public class SMSReceiver extends BroadcastReceiver
{
private static final String ACTION_SMS_RECEIVED = "android.provider.Telephony.SMS_RECEIVED";
Context mContext;
private Intent mIntent;
static String address, str = null;

// Retrieve SMS
public void onReceive(Context context, Intent intent) {
    mContext = context;
    mIntent = intent;

    String action = intent.getAction();

    if(action.equals(ACTION_SMS_RECEIVED))
    {
        SmsMessage[] msgs = getMessagesFromIntent(mIntent);
        if (msgs != null)
        {
            for (int i = 0; i < msgs.length; i++)
            {
                address = msgs[i].getOriginatingAddress();
                str = msgs[i].getMessageBody().toString();
            }
        }   

        // ---send a broadcast intent to update the SMS received in the
        // activity---
        Intent broadcastIntent = new Intent();
        broadcastIntent.setAction("SMS_RECEIVED_ACTION");
        broadcastIntent.putExtra("sms", str);
        context.sendBroadcast(broadcastIntent);
    }

}

public static SmsMessage[] getMessagesFromIntent(Intent intent)
{
    Object[] messages = (Object[]) intent.getSerializableExtra("pdus");
    byte[][] pduObjs = new byte[messages.length][];

    for (int i = 0; i < messages.length; i++)
    {
        pduObjs[i] = (byte[]) messages[i];
    }

    byte[][] pdus = new byte[pduObjs.length][];
    int pduCount = pdus.length;
    SmsMessage[] msgs = new SmsMessage[pduCount];
    for (int i = 0; i < pduCount; i++)
    {
        pdus[i] = pduObjs[i];
        msgs[i] = SmsMessage.createFromPdu(pdus[i]);
    }
    return msgs;
}
} 
```

日志猫：

```
03-13 17:31:02.049: E/ActivityManager(161): ANR in com.example.test
03-13 17:31:02.049: E/ActivityManager(161): Reason: Broadcast of Intent { act=android.provider.Telephony.SMS_RECEIVED cmp=com.example.test/.SMSReceiver (has extras) }
03-13 17:31:02.049: E/ActivityManager(161):   54% 3732/com.example.test: 54% user + 0% kernel / faults: 21 minor
03-13 17:31:02.049: E/ActivityManager(161):   40% 3732/com.example.test: 40% user + 0% kernel / faults: 2 minor
03-13 17:31:30.699: I/ActivityManager(161): Killing com.example.test (pid=3732): user's request
03-13 17:31:30.799: I/ActivityManager(161): Process com.example.test (pid 3732) has died.
03-13 17:31:30.799: I/WindowManager(161): WIN DEATH: Window{40992f50 com.example.test/com.example.test.MainActivity paused=false}
03-13 17:31:30.819: E/InputDispatcher(161): channel '40818670 com.example.test/com.example.test.MainActivity (server)' ~ Consumer closed input channel or an error occurred.  events=0x8
03-13 17:31:30.819: E/InputDispatcher(161): channel '40818670 com.example.test/com.example.test.MainActivity (server)' ~ Channel is unrecoverably broken and will be disposed!
03-13 17:34:59.649: I/ActivityManager(161): Start proc com.example.test for broadcast com.example.test/.SMSReceiver: pid=4037 uid=10098 gids={} 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-02-22T08:34:37.557

它不能保证`tMgr.getLine1Number();`总是返回您的 SIM 卡号码。因为这取决于 SIM 卡中号码的可用性。就像我的情况一样，我的 Tre-Sweden SIM 卡不包含我的电话号码。

但是，如果您将 SIM 卡放入旧的索尼爱立信或诺基亚手机中，那么您将可以选择编辑此号码（在 SIM 上）。完成后，Android 设备将识别该号码并显示给您。

此外，如果您确实通过代码获取了您的电话号码，那么比较两个号码的最佳方法是：

```
boolean isSame = PhoneNumberUtils.compare(num1, num2); 
```

* * *

或者，您可以实现某种密码验证逻辑（如 Viber、WhatsApp 或其他应用程序），在其中您要求用户在注册期间输入他们的电话号码。随后，该电话号码被发送到服务器，并针对该号码生成一个密码，该密码通过 SMS 发送给用户。最后，用户必须输入该密码（通过短信接收）才能完成注册。

或者

只需从用户的设备（经同意）向您的服务器/设备发送 SMS 并了解他们的电话号码。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-03-08T19:10:48.883

**获取使用的电话号码`getLine1Number()`既不*安全*也不*确定*。**

它被普遍接受，因为整个“获取电话号码”是多个问题的冲突，例如用户的隐私、运营商的品牌，甚至是供应商的。

无论如何，与 ios 不同的是，android 的`android.provider.Telephony.SMS_RECEIVED`整个过程对用户来说非常方便和无缝：您可以捕获短信并阅读它，而无需用户干预。

**一种方法是什么？**

在您的服务器上，收到验证电话号码的请求后，您应该生成一个密码***tokenSent***并将其发送到应用程序。现在，您的服务器应该通过短信将此代码发送到指定的电话号码。应用程序现在应该有一个注册的接收器来监听`android.provider.Telephony.SMS_RECEIVED`意图。收到后，应用程序会验证***tokenSent***是否与从服务器收到的相同。至此，电话注册完成，可以通知服务器了。

**会出什么问题？**

一般来说，此类应用程序通常是付费应用程序，用户不宜尝试任何事情。尽管如此，用户可能会输入他现在拥有的错误号码。然后在收到短信后，他可以将其转发到应用注册的手机。然后应用程序将收到***tokenSent***并错误地验证电话号码。

**我们如何解决这个问题？**

该解决方案的可行性取决于短信提供商是否允许您的服务器知道发件人的电话号码。这可能（AFAIK）不会发生，但如果发生了，那么你很幸运。这样，应用程序可以在收到***tokenSent 后***，将其与短信的发送者一起发送回服务器。然后服务器可以验证这是来自您的服务提供商的短信。

**还有更可行的解决方案吗？（如果我真的很偏执）**

在这种情况下，我相信最好的解决方案是从您的服务器请求***tokenSent 。***服务器将生成的***tokenSent***与输入的电话号码一起保存，并将此令牌发送到应用程序。该应用程序通知用户注册将花费他 1 条短信。一旦用户接受，您可以轻松地在后台发送一条包含此***tokenSent***的短信到某个服务。服务器一旦收到此***tokenSent*** ，就会使用该令牌和短信的发送者来验证用户。当然，这对用户来说可能看起来有点骚扰和侵权，但它是最安全的方式，尤其是对于这种偏执狂（阅读这部分）。

**手续：P**

`Add Permissions in Manifest`

```
<uses-permission android:name="android.permission.RECEIVE_SMS"> 
```

`Register the receiver`（在将短信发送到手机之前执行此操作）

```
registerReceiver(new BroadcastReceiver() {

    @Override
    public void onReceive(Context context, Intent intent) {
        if (intent.getExtras() != null)
        {
            Object[] pdus = (Object[]) intent.getExtras().get("pdus");
            SmsMessage[] msgs = new SmsMessage[pdus.length];            
            for (int i=0; i<msgs.length; i++){
                msgs[i] = SmsMessage.createFromPdu((byte[])pdus[i]);                
               String from = msgs[i].getOriginatingAddress();                     
                String body = msgs[i].getMessageBody().toString();
                //here is the body
                //...
                unregisterReceiver(this); //If you are done with verification
            }
        }  
    }
}, new IntentFilter("android.provider.Telephony.SMS_RECEIVED")); 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-03-15T09:34:47.620

我自己解决了。这是我的工作代码。 **MainActivity 类：**

```
 public class MainActivity extends Activity
{    
    Button submit;
    EditText contact;
    static String phNo;
    ProgressDialog progress;
    static Boolean wasMyOwnNumber;
    static Boolean workDone;
    final static int SMS_ROUNDTRIP_TIMOUT = 30000;

    @Override
    protected void onCreate(Bundle savedInstanceState)
    {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        contact = (EditText)findViewById(R.id.mobileNumber);
        submit = (Button) findViewById(R.id.button1);
        wasMyOwnNumber = false;
        workDone = false;
        submit.setOnClickListener(new OnClickListener()
        {
                public void onClick(View v)
                {
                    phNo = contact.getText().toString();
                    new CheckOwnMobileNumber().execute();
                }
        });
    }

    private class CheckOwnMobileNumber extends AsyncTask<String, Void, String>
    {
        @Override
        protected void onPostExecute(String result)
        {
            // TODO Auto-generated method stub
            if(progress.isShowing())
            {
                progress.dismiss();
                if(wasMyOwnNumber)
                {
                    Toast.makeText(getApplicationContext(), "Number matched.", Toast.LENGTH_LONG).show();
                    wasMyOwnNumber = false;
                    workDone = false;
                }
                else
                {
                    Toast.makeText(getApplicationContext(), "Wrong number.", Toast.LENGTH_LONG).show();
                    wasMyOwnNumber = false;
                    workDone = false;
                    return;
                }
            }
            super.onPostExecute(result);
        }

        @Override
        protected String doInBackground(String... params)
        {
            // TODO Auto-generated method stub
            String msg = phNo;
            try
            {
                SmsManager sms = SmsManager.getDefault();
                sms.sendTextMessage(phNo, null, msg, null, null);
                timeout();
            }
            catch(Exception ex)
            {
                Log.v("Exception :", ""+ex);
            }
            return null;
        }

        @Override
        protected void onPreExecute() 
        {
            // TODO Auto-generated method stub
            progress = ProgressDialog.show(MainActivity.this, "","Checking Mobile Number...");
            progress.setIndeterminate(true);
            progress.getWindow().setLayout(LayoutParams.WRAP_CONTENT,LayoutParams.WRAP_CONTENT);
            super.onPreExecute();
        }
    }

    private boolean timeout()
    {
           int waited = 0;
           while (waited < SMS_ROUNDTRIP_TIMOUT)
           {
              try
              {
                Thread.sleep(100);
              }
              catch (InterruptedException e)
              {
                // TODO Auto-generated catch block
                e.printStackTrace();
              }
              waited += 100;
              if(phoneNumberConfirmationReceived())
              {
                  waited=SMS_ROUNDTRIP_TIMOUT;
                  workDone = true;
              }
           }
           /*Log.v("MainActivity:timeout2: Waited: " , ""+waited);
           Log.v("MainActivity:timeout2:Comparision: ", ""+ phoneNumberConfirmationReceived());
           Log.v("MainActivity:timeout2: WorkDone value after wait complete : ", ""+workDone);*/
        return workDone;
    }

    private boolean phoneNumberConfirmationReceived()
    {
        if(wasMyOwnNumber)
        {
            workDone = true;
        }
        return workDone;
    }
} 
```

**短信接收器代码：**

```
 public class SMSReceiver extends BroadcastReceiver
{
    private static final String ACTION_SMS_RECEIVED = "android.provider.Telephony.SMS_RECEIVED";
    Context mContext;
    private Intent mIntent;
    static String address, str = null;
    boolean isSame;

    // Retrieve SMS
    public void onReceive(Context context, Intent intent)
    {
        mContext = context;
        mIntent = intent;
        String action = intent.getAction();
        if(action.equals(ACTION_SMS_RECEIVED))
        {
            SmsMessage[] msgs = getMessagesFromIntent(mIntent);
            if (msgs != null)
            {
                for (int i = 0; i < msgs.length; i++)
                {
                    address = msgs[i].getOriginatingAddress();
                    str = msgs[i].getMessageBody().toString();
                }
            }
            Log.v("Originating Address : Sender :", ""+address);
            Log.v("Message from sender :", ""+str);
            isSame = PhoneNumberUtils.compare(str, MainActivity.phNo);
            Log.v("Comparison :", "Yes this true. "+isSame);
            if(isSame)
            {
                 MainActivity.wasMyOwnNumber = isSame;
                 MainActivity.workDone=true;
            }

            // ---send a broadcast intent to update the SMS received in the
            // activity---
            Intent broadcastIntent = new Intent();
            broadcastIntent.setAction("SMS_RECEIVED_ACTION");
            broadcastIntent.putExtra("sms", str);
            context.sendBroadcast(broadcastIntent);
        }
    }

    public static SmsMessage[] getMessagesFromIntent(Intent intent)
    {
        Object[] messages = (Object[]) intent.getSerializableExtra("pdus");
        byte[][] pduObjs = new byte[messages.length][];

        for (int i = 0; i < messages.length; i++)
        {
            pduObjs[i] = (byte[]) messages[i];
        }

        byte[][] pdus = new byte[pduObjs.length][];
        int pduCount = pdus.length;
        SmsMessage[] msgs = new SmsMessage[pduCount];
        for (int i = 0; i < pduCount; i++)
        {
            pdus[i] = pduObjs[i];
            msgs[i] = SmsMessage.createFromPdu(pdus[i]);
        }
        return msgs;
    }
} 
```

未找到 ANR。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-03-13T11:52:03.367

```
public class MainActivity extends Activity{    

    Button submit;
    EditText contact;
    String phNo;
    ProgressDialog progress;
    Boolean wasMyOwnNumber = false;
Boolean workDone = false;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        contact = (EditText)findViewById(R.id.mobileNumber);
        submit = (Button) findViewById(R.id.button1);

        submit.setOnClickListener(new OnClickListener()
        {
                public void onClick(View v)
                {
                    phNo = contact.getText().toString();
                    new CheckOwnMobileNumber().execute();
                    Toast.makeText(getApplicationContext(), phNo, Toast.LENGTH_LONG).show();
                }
        });

    }

    private class CheckOwnMobileNumber extends AsyncTask<String, Void, String>
    {
        @Override
        protected void onPostExecute(String result)
        {
            // TODO Auto-generated method stub
            if(progress.isShowing())
            {

                progress.dismiss();
                // Check SMS Received or not after that open dialog date
                /*if(SMSReceiver.str.equals(phNo))
                {
                    Toast.makeText(getApplicationContext(), "Thanks for providing your          number.", Toast.LENGTH_LONG).show();
wasMyOwnNumber=true;workDone=true;
                }
                else
                {
                    Toast.makeText(getApplicationContext(), "Provide your own mobile number please.", Toast.LENGTH_LONG).show();
wasMyOwnNumber=false;workDone=true;
                    return;
                }*/

            }
        }

        @Override
        protected String doInBackground(String... params)
        {
            // TODO Auto-generated method stub
            String msg = phNo;
            try
            {
                sendSMS(phNo, msg);
                int count=0;
                     while(!workDone)
                          {count++;}
            }
            catch(Exception ex)
            {
                Log.v("Exception :", ""+ex);
            }
            return null;
        }

        @Override
        protected void onPreExecute() {
            // TODO Auto-generated method stub
            progress = ProgressDialog.show(MainActivity.this, "","Checking Mobile Number...");
            progress.setIndeterminate(true);
            progress.getWindow().setLayout(LayoutParams.WRAP_CONTENT,LayoutParams.WRAP_CONTENT);
            super.onPreExecute();
        }

}

    private void sendSMS(String phoneNumber, String message)
        {        
            //PendingIntent pi = PendingIntent.getActivity(getApplicationContext(), 0, new Intent(getApplicationContext(), MainActivity.class), 0);                
            SmsManager sms = SmsManager.getDefault();
            sms.sendTextMessage(phoneNumber, null, message, null, null);        
        }

public class SMSReceiver extends BroadcastReceiver
{
private static final String ACTION_SMS_RECEIVED = "android.provider.Telephony.SMS_RECEIVED";
Context mContext;
private Intent mIntent;
static String address, str = null;

// Retrieve SMS
public void onReceive(Context context, Intent intent) {
    mContext = context;
    mIntent = intent;

    String action = intent.getAction();

    if(action.equals(ACTION_SMS_RECEIVED))
    {
        SmsMessage[] msgs = getMessagesFromIntent(mIntent);
        if (msgs != null)
        {
            for (int i = 0; i < msgs.length; i++)
            {
                address = msgs[i].getOriginatingAddress();
                str = msgs[i].getMessageBody().toString();
            }
        }   

        // ---send a broadcast intent to update the SMS received in the
        // activity---
        workDone=true;
        Intent broadcastIntent = new Intent();
        broadcastIntent.setAction("SMS_RECEIVED_ACTION");
        broadcastIntent.putExtra("sms", str);
        context.sendBroadcast(broadcastIntent);

    }

}

public static SmsMessage[] getMessagesFromIntent(Intent intent)
{
    Object[] messages = (Object[]) intent.getSerializableExtra("pdus");
    byte[][] pduObjs = new byte[messages.length][];

    for (int i = 0; i < messages.length; i++)
    {
        pduObjs[i] = (byte[]) messages[i];
    }

    byte[][] pdus = new byte[pduObjs.length][];
    int pduCount = pdus.length;
    SmsMessage[] msgs = new SmsMessage[pduCount];
    for (int i = 0; i < pduCount; i++)
    {
        pdus[i] = pduObjs[i];
        msgs[i] = SmsMessage.createFromPdu(pdus[i]);
    }
    return msgs;
}
}
    } 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-02-22T09:00:14.280

只是想在上述答案的上述解释中添加一些内容。这也将为其他人节省时间。

就我而言，此方法没有返回任何手机号码，而是返回了一个空字符串。这是因为我将我的号码移植到了新的 sim 卡上。因此，如果我进入设置>关于电话>状态>我的电话号码，它会显示“未知”。

这可能是因为您已将号码从一个网络移植到另一个网络。

如果您无法从 API 检查号码然后：

一种方法是向该号码生成一条短信，然后向该手机号码发送一个随机生成的否。您必须要求用户将此随机生成的数字输入您的应用程序。将其输入应用程序后，您可以将其发送到服务器以检查文本中传递的号码是否正确（您已经针对该手机号码在服务器上保存了该号码）。

我希望这是有道理的。

# ios - 如何查看现在日期是否在 9:00-18:00 之间

> ID：15019583
> 
> 赞同：12
> 
> 时间：2013-02-22T08:09:43.670
> 
> 标签：ios, objective-c, nsdate

当我的应用程序启动时，我想检查日期是否在 9:00-18:00 之间。

我可以得到现在使用的时间`NSDate`。如何查看时间？

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2013-02-22T09:37:36.833

这么多的答案和这么多的缺陷......

您可以使用`NSDateFormatter`以便从日期中获取用户友好的字符串。*但是*使用该字符串进行日期比较是一个**非常糟糕的主意！**
请忽略任何涉及使用字符串的问题的答案......

如果您想获取有关日期的年、月、日、小时、分钟等信息，您应该使用`NSCalendar`and `NSDateComponents`。

为了检查日期是否在 9:00 和 18:00 之间，您可以执行以下操作：

```
NSDate *date = [NSDate date];
NSCalendar *calendar = [[NSCalendar alloc] initWithCalendarIdentifier:NSGregorianCalendar];
NSDateComponents *dateComponents = [calendar components:NSHourCalendarUnit fromDate:date];

if (dateComponents.hour >= 9 && dateComponents.hour < 18) {
    NSLog(@"Date is between 9:00 and 18:00.");
} 
```

**编辑：**
哎呀，使用`dateComponents.hour <= 18`会导致 18:01 等日期的错误结果。`dateComponents.hour < 18`是要走的路。;)

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-02-22T08:21:44.487

构造今天 09:00 和 18:00 的日期，并将当前时间与这些日期进行比较：

```
NSCalendar *cal = [[NSCalendar alloc] initWithCalendarIdentifier:NSGregorianCalendar];
NSDate *now = [NSDate date];
NSDateComponents *components = [cal components:NSEraCalendarUnit|NSYearCalendarUnit|NSMonthCalendarUnit|NSDayCalendarUnit fromDate:now];

[components setHour:9];
[components setMinute:0];
[components setSecond:0];
NSDate *nineHundred = [cal dateFromComponents:components];

[components setHour:18];
NSDate *eighteenHundred = [cal dateFromComponents:components];

if ([nineHundred compare:now] != NSOrderedDescending &&
    [eighteenHundred compare:now] != NSOrderedAscending)
{
    NSLog(@"Date is between 09:00 and 18:00");
} 
```

# java - 将 UTF-8 编码的字符串转换为人类可读的字符串

> ID：15019587
> 
> 赞同：1
> 
> 时间：2013-02-22T08:09:58.613
> 
> 标签：java, utf-8, character-encoding, ascii, decode

如何将任何 UTF8 字符串转换为可读字符串。

喜欢：â¬（在 UTF8 中）是 €

我尝试使用 Charset 但不工作。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T08:18:03.740

您正在将字符串编码为 ISO-8859-15 ，`byte[] b = "Üü?öäABC".getBytes("ISO-8859-15");`然后您将使用 UTF-8 对其进行解码`System.out.println(new String(b, "UTF-8"));`。您必须以与 ISO-8859-15 相同的方式对其进行解码。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T08:18:30.960

您正在尝试使用“UTF-8”格式解码使用“ISO-8859-15”编码的 byteArray

```
 b = "Üü?öäABC".getBytes("ISO-8859-15");
        u = "Üü?öäABC".getBytes("UTF-8");

    System.out.println(new String(b, "ISO-8859-15")); // will be ok
    System.out.println(new String(b, "UTF-8")); // will look garbled
    System.out.println(new String(u,"UTF-8")); // will be ok 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-22T08:19:39.180

这不是“UTF-8”，而是完全损坏且*无法修复*的数据。字符串没有编码。在这种情况下说“UTF-8”字符串是没有意义的。String 是一串抽象字符 - 它没有任何编码，除了作为内部实现细节，这不是我们关心的并且与您的问题无关。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-22T08:21:37.357

java中的字符串已经是一个unicode表示。当您在其上调用其中一个*getBytes*方法时，您将获得特定编码的编码表示（作为字节，因此是二进制值） - 在您的示例中为 ISO-8859-15。如果您想将此字节数组转换回 unicode 字符串，您可以使用接受字节数组的字符串构造函数之一来执行此操作，就像您所做的那样，但您必须使用与最初生成字节数组**完全相同的编码来执行此操作。**只有这样，您才能将其转换回 unicode 字符串（没有编码，也不需要编码）。

请注意无编码方法，包括字符串构造函数和 getBytes 方法，因为它们使用运行代码的平台的默认编码，这可能不是您想要实现的。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-22T08:22:00.117

我认为这里的问题是您假设 java String 是使用您在构造函数中指定的任何内容进行编码的。 **它不是。** 它采用 UTF-16 格式。

因此，`"Üü?öäABC".getBytes("ISO-8859-15")`实际上是将 UTF-16 字符串转换为 ISO-8859-15，然后获取其字节表示。

如果您想在 Eclipse 控制台中获得人类可读的格式，只需保持原样（在 UTF-16 中） - 并调用`System.out.println("Üü?öäABC")`，因为您的 Eclipse 控制台将解码字符串并将其显示为 UTF-16。

# c - 在函数中返回字符串

> ID：15019589
> 
> 赞同：0
> 
> 时间：2013-02-22T08:10:01.027
> 
> 标签：c, optimization

```
gcc 4.7.2
c89 
```

你好，

我有一个函数，它将根据通道的当前状态返回一个字符串。我只是想知道使用什么更好的技术。第一个我使用内存池，以便内存始终有效。第二个只是在 return 语句中返回一个字符串。第三个使用在堆栈上分配的本地指针并返回它。

在所有情况下，我只是打印字符串，不会将其用于其他任何事情。

你会推荐哪一个？

非常感谢您的任何建议，

使用这样的功能：

```
MODULE_LOG(PRIO_DEBUG, "%s|%s",
        g_channel_state_to_string(channel->previous_state, channel->mem_pool),
        g_channel_state_to_string(channel->current_state, channel->mem_pool)); 
```

使用传入的内存池

```
static char* g_channel_state_to_string(states_e state, apr_pool_t *mem_pool)
{
    char *channel_state = NULL;

    switch(state) {
    case CHANNEL_IDLE:
        channel_state = apr_pstrdup(mem_pool, "CHANNEL_IDLE");
        break;

    default:
        channel_state = apr_pstrdup(mem_pool, "CHANNEL_UNKNOWN_CHANNEL_STATE");
        break;
    }

    return channel_state;
} 
```

在 return 语句中返回字符串

```
static char* g_channel_state_to_string(states_e state)
{  
    switch(state) {
    case CHANNEL_IDLE:
        return "CHANNEL_IDLE";
        break;

    default:
        return "CHANNEL_UNKNOWN_CHANNEL_STATE";
        break;
    }
} 
```

将字符串文字分配给本地指针可能会导致堆栈转储，因为内存是在堆栈上分配的，并且在函数返回时可能不存在。

```
static char* g_channel_state_to_string(states_e state)
{
    char *channel_state = NULL;

    switch(state) {
    case CHANNEL_IDLE:
        channel_state = "CHANNEL_IDLE";
        break;

    default:
        channel_state = "CHANNEL_UNKNOWN_CHANNEL_STATE";
        break;
    }

    return channel_state;
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-22T08:39:07.820

**在 return 语句中返回字符串**并将**字符串文字分配给本地指针..**是相同的解决方案。**使用传入的内存池**更容易出错，除非您将函数原型更改为 return `const char*`。

在第三个选项中，您将“CHANNEL_IDLE”字面量的地址分配给指针类型的局部变量，该变量进一步按值返回。因此，原始地址被返回，无论堆栈如何，它都保持有效（参见下面的解释）。选项三与`return 0xffffaaaa;`

在整个代码中定义的字符串文字将被链接器仔细清除并重新定位到单个代码段中。根据您的平台，运行时加载程序实际上可以将其放入只读内存，并且写入访问可以生成硬件中止。选项一使返回的字符串修改可行，因为它的副本将位于堆中。从您的使用示例中，我怀疑您是否想要修改字符串，因此“strdup”开销是不必要的。

由于选项二和三是相同的，我会将函数原型更改为返回类型为`const char*`并选择其中任何一个。

PS“我们应该忘记小的效率，说大约 97% 的时间：过早优化是万恶之源” D. Knuth

# birt - BIRT 报告 - 为每个系列标签创建超链接

> ID：15019590
> 
> 赞同：0
> 
> 时间：2013-02-22T08:10:04.147
> 
> 标签：birt

我有一个条形图，其中包含 Y 轴中的故障数和 X 轴中的年月。

示例数据集：

年月 | 故障数

2013-01 - - - - 5

2013-02 - - - - 6

2013-03 - - - - 10

因此，在图表中，每个条形的标签将是 5、6 和 10。

我如何为每个标签创建一个超链接，这样当您单击年月 2013-01 的“5”标签时，它会将您重定向到显示这 5 个故障的报告。

我希望我解释得很好。提前致谢！

EDIT1：顺便说一句，我使用的是 eclispe，并且 BIRT 报告与 Grails 集成在一起。忘了提这些细节。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T08:14:39.227

试试这个步骤：

1.  打开您的报告 (.rptdesign)
2.  右键单击标签 -> 属性
3.  选择超链接选项卡
4.  点击编辑
5.  在选择超链接类型中选择钻取
6.  设置报告名称和报告参数

# php - 如何将 HTML 标头放入 PHP 变量中

> ID：15019592
> 
> 赞同：0
> 
> 时间：2013-02-22T08:10:14.817
> 
> 标签：php, variables

我想把我的整个网站的标题变成一个变量。因此，例如，我想将这三行放入一个变量中：

```
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script> 
```

我正在为它编写一个函数：

```
function set_header(){
         //This is where i would like to set the variable for the 3 lines I mentioned earlier
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-22T08:12:28.910

```
function set_header(){
echo '<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>';
}

set_header(); 
```

或者

```
function set_header(){
return '<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>';
}

echo set_header(); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-22T08:14:54.313

```
 function set_header(){
    $header = '<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
                <script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
                <script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>';
    return $header;
} 
```

回声 set_header();

# c# - 从内容页面调用母版页中的用户控制方法

> ID：15019598
> 
> 赞同：1
> 
> 时间：2013-02-22T08:10:46.053
> 
> 标签：c#, asp.net, .net, master-pages

我的母版页中有一个自定义用户控件，它将站点范围的 JavaScript 库加载到母版页的头部

像这样：

```
<html>
    <head>
        <CustomControl:MyScriptControl id="scripts" runat="server" />
    </head>

    <body>

        <asp:ContententPlaceHolder id="pageContent" runat="server" />

    </body>

</html> 
```

我想让使用 MasterPage 的页面本质上调用用户控件**MyScriptControl的方法**

```
public partial class ChildPage: System.Web.UI.Page
{
    protected void Page_Load(object sender, EventArgs e)
    {

          //// Invoke Method of MasterPage's UserControl: MyScriptControl

    }
} 
```

这可能吗 ？还是有更好的方法来做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T08:55:59.443

第 1 步：在您的 aspx 页面中添加 MasterType 指令
第 2 步：在您的母版页中创建一个公共方法，该方法将调用您的 usercontrol 方法。
第 3 步：在您的页面中，您可以使用 Master.Method() 调用该方法

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T08:19:27.387

您应该在页面中使用[MasterType](http://msdn.microsoft.com/en-us/library/ms228274%28v=vs.80%29.aspx)指令。

使用 MasterType，您的页面`Master`属性将属于您的母版页的类型，而不是基类的类型`MasterPage`。你应该能够做类似的事情

```
protected void Page_Load(object sender, EventArgs e) {
    Master.scripts.SomeMethod();
} 
```

# image - 根据父宽度/高度 CSS HTML 自动调整 img 宽度/高度

> ID：15019599
> 
> 赞同：0
> 
> 时间：2013-02-22T08:10:49.617
> 
> 标签：image, html, css

我正在尝试用图像填充窗口。我正在使用 CSS 来尝试解决这个问题，但我想知道是否有办法最大化图像的宽度/高度，直到所有空白都被填充，但不会破坏质量。

```
<div class='rel-img-cont'>
    <img src='src.jpg' />
</div>

.rel-img-cont
{
    width: 100px; height: 100px; overflow: hidden;
}
.rel-img-cont img
{
    height: 100px; margin:0 0 0 0;
} 
```

如何填充空白空间，即使其中一个尺寸必须溢出，它也只能达到 100 像素。

有没有办法做到这一点，即使原始图像是 100px x 100px 或 150px x 200px，无论哪一个，100px 是最大的，所以其中一方将不得不放弃。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-12-27T09:41:48.467

您可以将宽度设为 100%，并将高度设为自动。并且只使用那些与你的 div 成比例的 img。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-12-27T09:34:06.167

> .rel-img-cont { 宽度：100%; 高度：100%；} .rel-img-cont img { 高度：100%; 宽度：100%；}

请看[演示](http://jsbin.com/AlUguQeD/2/edit)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T08:22:04.970

您可能会发现[`background-size`](https://developer.mozilla.org/en-US/docs/CSS/background-size)css 属性很有趣。因为此属性与您在此处尝试处理的相同。但这适用于`background-image`.

```
background-size: 100% 100%; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-22T08:26:17.713

在这种情况下，最好使用 % 而不是 px

```
<div id="Maindiv" style="width:100px;height:100px">
<img id="Img" src="http://blog.flattr.net/wp-content/uploads/2011/09/stackoverflow.png" alt="Image"  />
</div> 
```

CSS

```
#Maindiv img
{
width:100%;
height:100%;
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-12-27T09:45:02.917

使用在我的机器上测试过的代码

```
 <style>
 .rel-img-cont
{
    width: 10%; height: 10%; overflow: hidden;
    border:3px solid orange;
}
.rel-img-cont img
{
    height: 100%; margin:0 0 0 0;
    width:100%;
}
 </style> 
```

![在此处输入图像描述](../Images/dc538d8c147a0826a4b59b3c33d8a222.png)

![在此处输入图像描述](../Images/868987aceff90dac508143695d5a093c.png)

# bash - 在shell脚本中按日期删除文件？

> ID：15019606
> 
> 赞同：2
> 
> 时间：2013-02-22T08:11:18.047
> 
> 标签：bash

我有一个包含很多文件的目录。我只想保留最新的 6 个。我想我可以查看他们的创建日期并在所有那些太旧的人上运行 rm ，但这样做是更好的方法吗？也许我可以使用一些 linux 命令？

谢谢！

:)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-22T08:19:38.073

```
rm -v $(ls -t mysvc-*.log | tail -n +7) 
```

*   `ls -t`, 按时间排序的列表
*   `tail -n +7`, *+7*这里表示*length-7*，所以除了前 7 行
*   `$()`从封闭的命令输出中创建一个字符串列表
*   `rm`当然要删除文件
*   当心名称中带有空格的文件，`$()`在任何空白处拆分！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T16:18:02.867

这是我的看法，作为一个脚本。它确实可以处理文件名中的空格，即使它有点小技巧。

```
#!/bin/bash

eval set -- $(ls -t1  | sed -e 's/.*/"&"/')

if [[ $# -gt 6 ]] ; then
    shift 6
    while [[ $# -gt 0 ]] ; do
        echo "remove this file: $1" # rm "$1"
        shift
    done
fi 
```

ls up there 的第二个选项是每行一个文件名的“一”。不过，实际上似乎并不重要，因为当 ls 不提供 tty 时，这似乎是默认设置。

# javascript - Ace 编辑器的自动完成功能

> ID：15019607
> 
> 赞同：8
> 
> 时间：2013-02-22T08:11:31.170
> 
> 标签：javascript, objective-c, cocoa, autocomplete, ace-editor

**好的，这是交易：**

*   我正在使用[Ace 编辑器](http://ace.ajax.org/#nav=about)
*   编辑器集成到的应用程序，是用Objective-C/Cocoa编写的
*   我需要自动完成（对于给定的一组关键字）

**现在，这是问题所在：**

*   我知道 AutoCompletion 还没有原生支持
*   我知道其他人的一些尝试（例如[Codiad IDE](https://github.com/Codiad/Codiad/tree/master/components/autocomplete)、[Gherkin](https://github.com/cucumber/gherkin-editor/tree/master/spec)、[Alloy-UI](https://github.com/liferay/alloy-ui/commit/b66cd0c22a67c7e744262b6d0cb4c2805b2f37d8)），其中一些使用了[Jquery UI Autocomplete](http://jqueryui.com/autocomplete/) - 但我仍然无法弄清楚这如何适应现有的 Ace 设置
*   我仍然不确定我应该选择面向 JS 的解决方案还是只使用 Objective-C/Cocoa

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2013-12-04T08:20:42.573

AutoCompletion 可以在 ace 编辑器中实现。

**代码 ：**

```
 var editor = ace.edit('editor');
    editor.setTheme("ace/theme/eclipse");
    editor.getSession().setMode("ace/mode/java");
    editor.setShowInvisibles(true);
    editor.setDisplayIndentGuides(true);
    editor.getSession().setUseWrapMode(true);    
    var jsonUrl = "JSON/Components/proce.json";
    //the url where the json file with the suggestions is present
    var langTools = ace.require("ace/ext/language_tools");
    editor.setOptions({enableBasicAutocompletion: true});
    var rhymeCompleter = {
        getCompletions: function(editor, session, pos, prefix, callback) {
            if (prefix.length === 0) { callback(null, []); return }
            $.getJSON(jsonUrl, function(wordList) {
                callback(null, wordList.map(function(ea)  {           
                    return {name: ea.word, value: ea.word, meta: "optional text"}
                }));
            })
        }
    }

    langTools.addCompleter(rhymeCompleter); 
```

**json文件格式：**

```
 [ {"word":"hello"}, 
   {"word":"good morning"},
   {"word":"suggestions"},
   {"word":"auto suggest"},
   {"word":"try this"}] 
```

**参考/演示：**

[http://plnkr.co/edit/6MVntVmXYUbjR0DI82Cr?p=preview](http://plnkr.co/edit/6MVntVmXYUbjR0DI82Cr?p=preview)

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2015-02-23T15:36:28.360

现在要在 Ace 中添加实时自动完成功能：在您的 HTML 中包含 ace/ext-language_tools.js。这 。call 还不能很好地工作，因此您可能必须为此输入 ctrl-space 或 alt-space，但现在将显示标准语法内容，例如写入函数。然后：

```
var editor = ace.edit("editor");

ace.require("ace/ext/language_tools");
editor.setOptions({
    enableBasicAutocompletion: true,
    enableSnippets: true,
    enableLiveAutocompletion: true
}); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-22T21:23:42.067

自动补全的难点在于找出关键字，其余的很容易做到。

1.  您需要一个弹出窗口和 listView 来显示完成，使用基于 Cocoa 的弹出窗口可能会更好。
2.  一些过滤功能，简单的startsWith检查就可以了，但是你可以使用更好的flex match，比如sublime
3.  对 editor.session.replace 的简单调用以插入选定的完成

对于 2-3，您应该在[https://github.com/ajaxorg/ace/issues/110](https://github.com/ajaxorg/ace/issues/110)评论您的特定用例，因为有一项工作可以获得对 AutoCompletion 的本机支持。

# c# - 如何控制 Orchard 中菜单的呈现

> ID：15019611
> 
> 赞同：4
> 
> 时间：2013-02-22T08:11:38.477
> 
> 标签：c#, asp.net-mvc, orchardcms, orchardcms-1.6

我有以下问题：我在 Orchard 做一个网站，必须应用某个设计公司的设计。他们提供了 html 和 CSS (+ LESS)，我必须把它变成一个主题。除了菜单，我大部分时间都完成了。我想在下面的代码中将一个类应用于**nav**标记，但我无法为最终呈现它做任何替代。

```
<article class="widget-navigation widget-menu-widget widget" shape-id="18">
<nav shape-id="19">
    <ul class="menu menu-main-menu" shape-id="19">
<li class="current first" shape-id="22">
    <a href="/" shape-id="22">Home</a> 
</li>
<li shape-id="24">
<a href="/Something1" shape-id="24">Something1</a>
</li>
<li shape-id="26">
<a href="/Something2" shape-id="26">Something2</a>
</li>
<li class="last" shape-id="28">
<a href="/Something3" shape-id="28">Something3</a>
</li>
    </ul>
</nav>
</article> 
```

如何影响我的菜单的呈现，以便我可以对其应用适当的 CSS？我可以制作的唯一替代品仅包含：

```
<a href="@Model.Href">@Model.Text</a> 
```

或者：

```
@Display(Model.Menu) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T08:43:34.817

我认为您可以在 Views/Menu-Main.cshtml 中为菜单创建自定义形状，如[本页](http://docs.orchardproject.net/Documentation/Accessing-and-rendering-shapes)所述。从那里开始，你几乎可以对形状做任何你想做的事情。例如

```
@{
// Model is Model.Menu from the layout (Layout.Menu)
    var tag = Tag(Model, "ul");

    var items = (IList<dynamic>)Enumerable.Cast<dynamic>(Model.Items);

    if (items.Any()) {
        items[0].Classes.Add("first");
        items[items.Count - 1].Classes.Add("last");
    }    
}
<nav class='my-custom-class'>
    @tag.StartElement
        @DisplayChildren(Model)
    @tag.EndElement
</nav> 
```

如果我不是 100% 正确，我实际上并没有尝试过，所以很抱歉，但这至少应该让你朝着正确的方向前进。

此外，上面的示例代码只是原始菜单代码的略微修改版本，Orchard 最好的部分是它是开源的......您可以查看原始代码[here](http://orchard.codeplex.com/SourceControl/changeset/view/b3601054d641#src/Orchard.Web/Core/Shapes/Views/Menu.cshtml)

# android - Why Facebook application id suddenly become invalid?

> ID：15019625
> 
> 赞同：15
> 
> 时间：2013-02-22T08:12:36.223
> 
> 标签：android, facebook, facebook-graph-api, facebook-login

First of all I'm sure that my fb app id is valid because users can log in my Android app using facebook credentials until some days ago (I think it's before Feb break change).

Recently new users cannot log in my Android app using facebook any more because facebook keep saying that my fb app invalid (Error is: `Invalid application fb-app-id`) BUT `old users` who already authorized my Android app for accessing their info can still log in using facebook. (Old users can still login to my app using facebook credentials but new users cannot)

Does anyone know why this happen to my facebook app and how to fix it?

Edit: When access to [https://graph.facebook.com/facebook-app-id](https://graph.facebook.com/facebook-app-id) I get this error

```
{
"error": {
  "message": "Unsupported get request.",
  "type": "GraphMethodException",
  "code": 100
    }
   } 
```

Thanks you.

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2013-03-08T23:31:58.227

If you're sure the app is not in sandbox mode (which was gema.megantara's answer), and hasn't been deleted for policy reasons by Facebook the only explanation I can think of is that you've restricted the app demographically (i.e by country or age)

If that's the case the API won't return the app's details unless you make the API call using a user access token for a user who meets whatever restrictions you've applied, and users who don't meet the requirements won't be able to use the app.

If that's what you've done, you can remove the restrictions via the API (via the `restrictions` field of the [Application object](https://developers.facebook.com/docs/reference/api/application/) or in the ''Advanced'' tab in the app settings in the [App Dashboard](https://developers.facebook.com/apps/)

If using the frontend interface to change the settings, it's the ''App Restrictions'' field you want to edit, screenshot attached ![settings interface](../Images/8026caaaeec2d22ec299cec73b3fa5f3.png)

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2014-01-19T17:33:37.047

Basically the same solution as the accepted answer, just updated for the latest FB developer site has been updated so you need do this:

1.  Apps->Your App
2.  Status+Review
3.  Do you want to make this app and all its live features available to the general public? -> Yes

![updated](../Images/3ee94d4a40028af247dbb4ae0db04e26.png)

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2013-03-07T04:54:38.027

Usually if you get error like that when visit [https://graph.facebook.com/523132271032907](https://graph.facebook.com/523132271032907) is because the sandbox mode is on. Have you try to reset the secret key ?

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-22T08:58:04.547

I think, this is because FB does not check whether application id is valid when the user has already logged in. It likely assumes that if the check passed, the id *is* valid. Apparently, locking out the users after making the app id invalid has never been a design goal.

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2020-05-08T23:31:47.047

try replacing:

`<string name="facebook_app_id">CHANGE-ME</string>`

with:

`<string name="facebook_application_id">CHANGE-ME</string>`

# iphone - NSPersistentStoreCoordinator 没有持久存储

> ID：15019629
> 
> 赞同：1
> 
> 时间：2013-02-22T08:13:02.437
> 
> 标签：iphone, ios, objective-c, core-data, core-data-migration

我正在尝试为我的核心数据库进行轻量级迁移。我已经在我的 appdelegate 中包含了所有代码，就像每个教程中所说的那样。然后我有这段代码。

```
- (void)fetchNewsIntoDocument:(UIManagedDocument *)document
{
    dispatch_queue_t fetchNews = dispatch_queue_create("news fetcher", NULL);
    dispatch_async(fetchNews, ^{
        NSArray *news           = [GenkData getNews];
     [document.managedObjectContext performBlock:^{

        int newsId          = 0;
        for (NSDictionary *genkInfo in news) {
            newsId++;
            [News newsWithGenkInfo:genkInfo inManagedObjectContext:document.managedObjectContext withNewsId:newsId];
            NSLog(@"news inserted");
        }

        [document saveToURL:document.fileURL forSaveOperation:UIDocumentSaveForOverwriting completionHandler:NULL];
       }];
    });
   dispatch_release(fetchNews);

} 
```

但是当我运行它时，它第一次正确运行它，但是当我刷新时，我得到了这个错误。

```
Terminating app due to uncaught exception 'NSInternalInconsistencyException', reason: 'This NSPersistentStoreCoordinator has no persistent stores.  It cannot perform a save operation.' 
```

有人可以帮我吗？

# azure - 存储帐户之间的 Azure 性能

> ID：15019631
> 
> 赞同：0
> 
> 时间：2013-02-22T08:13:15.130
> 
> 标签：azure, azure-storage, azure-blob-storage, azure-table-storage

我的 Web 角色已打开`StorageAccount1`，我的 Azure 存储表已打开`StorageAccountB`。

我的 Web 角色对存储表执行操作（插入、更新、查询）。

**这两个存储帐户都在同一个关联组中。**

如果我的 Web 角色和存储表在同一个存储帐户中，性能会更好吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-22T14:24:13.830

您可能对 Visual Studio 中的“发布”窗口感到困惑。“发布”窗口允许您选择有关如何部署应用程序的一些信息，例如云服务以及存储帐户。当您选择一个存储帐户时，这并不意味着您的应用程序将存储在该存储帐户中，它仅意味着服务包（包含您的应用程序的包）将被上传到那里。上传包后，Fabric Controller 将接收它并将其部署到您的云服务。

除此之外，将云服务（Web 角色）部署在与存储帐户相同的关联组中仍然是一个好主意。通过选择相同的关联组，Windows Azure 将尝试对您的云服务和存储帐户进行物理分组，以最大限度地减少网络开销。

# android - 有什么方法可以使用局域网通过 PC 完全控制我的安卓手机？

> ID：15019637
> 
> 赞同：2
> 
> 时间：2013-02-22T08:13:42.580
> 
> 标签：android, android-intent

我正试图控制我的安卓手机！我需要查看我手机的屏幕。我想使用我的接入点调制解调器来执行此操作。我已经搜索了网络，但找不到正确的答案。有什么解决办法吗？

谢谢。

对不起，如果问题标签可能是错误的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T08:21:55.573

我不知道您是在寻找与开发相关的说明，还是只需要一个可以满足您需求的应用程序。

如果是后者，您应该查看此论坛：[https ://android.stackexchange.com/](https://android.stackexchange.com/)

我知道的一些应用程序可以做到这一点：

[https://play.google.com/store/apps/details?id=com.sand.airdroid](https://play.google.com/store/apps/details?id=com.sand.airdroid)

[https://play.google.com/store/apps/details?id=com.unicorntoast.mrroboto.android](https://play.google.com/store/apps/details?id=com.unicorntoast.mrroboto.android)

[https://www.xda-developers.com/android/app-review-remotely-control-your-android-device-with-teamviewer-xda-developer-tv/](https://www.xda-developers.com/android/app-review-remotely-control-your-android-device-with-teamviewer-xda-developer-tv/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T08:18:55.143

我怀疑 android 是否支持开箱即用，因为那将是一个安全漏洞。

您可能可以安装一些 rdp 服务，因为 android 是一个 linux 发行版，但我可能会耗尽您的电池。

试试这个： [http ://www.androidpit.de/de/android/market/apps/app/com.xtralogic.android.rdpclient/Remote-Desktop-Client](http://www.androidpit.de/de/android/market/apps/app/com.xtralogic.android.rdpclient/Remote-Desktop-Client)

# java - 尝试使用 HttpClient 设置会话 cookie

> ID：15019642
> 
> 赞同：1
> 
> 时间：2013-02-22T08:14:17.447
> 
> 标签：java, json, cookies, curl, apache-httpclient-4.x

帮助设置 cookie 为 HttpClient

创建了一个登录到外部 Web 服务的程序。但是，要从 HTTP GET 获取重要信息，我无法传入 cookie（从登录生成）。

```
public class ClientHelper {
    private final static String PROFILE_URL = 
                               "http://externalservice/api/profile.json";
    private final static String LOGIN_URL = "http://externalservice/api/login";

    public static Cookie login(final String username, final String password) {
        DefaultHttpClient client = new DefaultHttpClient();
        HttpPost post = new HttpPost(LOGIN_URL);
        HttpContext localContext = new BasicHttpContext();
        client.getParams().setParameter("http.useragent", "Custom Browser");
        client.getParams().setParameter(CoreProtocolPNames.PROTOCOL_VERSION, 
                                        HttpVersion.HTTP_1_1);
        List<Cookie> cookies = null;
        BasicClientCookie cookie = null;

        try {
            List<NameValuePair> nameValuePairs = new ArrayList<NameValuePair>(3);
            nameValuePairs.add(new BasicNameValuePair("user", username));
            nameValuePairs.add(new BasicNameValuePair("passwd", password));
            UrlEncodedFormEntity entity = 
                    new UrlEncodedFormEntity(nameValuePairs, HTTP.UTF_8);
            entity.setContentType("application/x-www-form-urlencoded");

            post.setEntity(new UrlEncodedFormEntity(nameValuePairs));
            HttpResponse response = client.execute(post, localContext);
            cookies = client.getCookieStore().getCookies();
            System.out.println(cookies.get(1));

            cookie = new BasicClientCookie(cookies.get(1).getName(), cookies.get(1).getValue());
            cookie.setVersion(cookies.get(1).getVersion());
            cookie.setDomain(cookies.get(1).getDomain());
            cookie.setExpiryDate(cookies.get(1).getExpiryDate());
            cookie.setPath(cookies.get(1).getPath());               
            BufferedReader rd = new BufferedReader(new InputStreamReader(response.getEntity().getContent()));

            String line = "";
            while ((line = rd.readLine()) != null) {
                System.out.println(line);
            }
        } 
        catch (Throwable e) {
            e.printStackTrace();
        }
        return cookie;
   }

   public static void getProfile(Cookie cookie) {
      DefaultHttpClient client = new DefaultHttpClient();
      HttpContext context = new BasicHttpContext();
      CookieStore cookieStore = new BasicCookieStore();
      cookieStore.addCookie(cookie);
      client.setCookieStore(cookieStore);
      context.setAttribute(ClientContext.COOKIE_STORE, cookieStore);
      HttpGet get = new HttpGet(PROFILE_URL);
      HttpResponse response;

      try {
          response = client.execute(get, context);
          BufferedReader rd = 
             new BufferedReader(
                    new InputStreamReader(response.getEntity().getContent()));

          String line = "";
          while ((line = rd.readLine()) != null) {
              System.out.println(line);
          }
       } 
       catch (ClientProtocolException e) {
           e.printStackTrace();
       } 
       catch (IOException e) {
           e.printStackTrace();
       }
   }
} 
```

App.java（使用 ClientHelper 的类）：

```
public class App {
   private static final String USER = "myusername";
   private static final String PASSWD = "mypassword";

   public static void main(String[] args) {
       Cookie cookie = ClientHelper.login(USER, PASSWD);
       ClientHelper.getProfile(cookie);
   }
} 
```

当我运行 App 时，我可以登录（我看到生成的 JSON），但 getProfile() 方法返回一个空的 JSON 对象：

```
 {} 
```

从命令行，使用 curl 我试图模仿这个：

```
curl -b Cookie.txt http://externalservice/api/profile.json 
```

这实际上有效，但不适用于我的 Java 程序。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T08:22:29.257

尝试执行这部分代码：

```
List<Cookie> cookies = client.getCookieStore().getCookies();
        for (Cookie cookie : cookies) {
             singleCookie = cookie;
        } 
```

# 后

```
 HttpResponse response = client.execute(post, localContext); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T18:04:29.083

在登录请求后更改代码以获取 cookie 后，您实际上是从请求中获取所有 cookie。

我怀疑问题在于，无论`Cookie`它在索引 1 中的`CookieStore`位置是什么，都不是您需要的，而且显然，因为`IndexOutOfBounds`当您这样做时它不会引发异常，所以至少有另一个`Cookie`在其中（在 index 处`0`）。返回 cookie 列表并将*它们*与您的配置文件请求一起发送。

获取您的代码，将所有这些索引从`1`to更改`0`并指向这个简单的 PHP 脚本，表明它正在接收然后发送 cookie：

```
<?php
    setcookie("TestCookie", "Some value");
    print_r($_COOKIE);        
?> 
```

输出：

```
[version: 0][name: TestCookie][value: Some+value][domain: www.mydomain.org][path: /][expiry: null]
Array
(
)
Array
(
    [TestCookie] => Some value
) 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-25T01:04:15.397

我想通了......我正在创建两个不同的 HTTP 客户端，而不是使用同一个。

@Brian Roach 和 Raunak Agarwal 非常感谢你们的帮助！

这是修复：

```
public static HttpClient login(final String username, final String password) 
{
    HttpClient client = new DefaultHttpClient();
    HttpPost post = new HttpPost(LOGIN_URL);
    client.getParams().setParameter("http.useragent", "Custom Browser");
    client.getParams().setParameter(
             CoreProtocolPNames.PROTOCOL_VERSION, HttpVersion.HTTP_1_1);

    try 
    {
        List<NameValuePair> nameValuePairs = new ArrayList<NameValuePair>(3);
        nameValuePairs.add(new BasicNameValuePair("user", username));
        nameValuePairs.add(new BasicNameValuePair("passwd", password));
        UrlEncodedFormEntity entity = 
              new UrlEncodedFormEntity(nameValuePairs, HTTP.UTF_8);
        entity.setContentType("application/x-www-form-urlencoded");

        post.setEntity(new UrlEncodedFormEntity(nameValuePairs));
        HttpResponse response = client.execute(post);

        BufferedReader reader = 
              new BufferedReader(
              new InputStreamReader(response.getEntity().getContent()));

        String line = "";
        while ((line = reader.readLine()) != null) 
        {
            System.out.println(line);
        }
    } 
    catch (Throwable e) { e.printStackTrace(); }
    return client;
}

public static void getProfile(HttpClient client) 
{
    HttpGet get = new HttpGet(PROFILE_URL);
    HttpResponse response;
    try 
    {
        response = client.execute(get);
        BufferedReader reader = 
               new BufferedReader(
               new InputStreamReader(response.getEntity().getContent()));

        String line = "";
        while ((line = reader.readLine()) != null) 
        {
            System.out.println(line);
        }
    } 
    catch (ClientProtocolException e) { e.printStackTrace(); } 
    catch (IOException e) { e.printStackTrace(); }  
} 
```

# php - 如何在 PHP 中自动发布到 Google Plus

> ID：15019644
> 
> 赞同：4
> 
> 时间：2013-02-22T08:14:22.417
> 
> 标签：php, cakephp-2.0, google-plus

当我在我的网站 (php) 中创建或发布新内容时，我想在我的 google pluse 页面中发布。

最近我在 google api 中搜索，但找不到好东西。

如果你完成了分享

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-22T16:47:27.123

Google+ API 无法让您以编程方式从您的网站发布到您的主页。您可以使用与 Google+ 合作的[第三方管理工具](http://www.google.com/+/business/3rdpartytools.html)之一来提供其他选项。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-22T20:09:14.613

Google+ 并未正式允许自动发帖。有一些第三方服务提供商，如 Hootsuite，还有一些第三方 API，如[http://www.nextscripts.com/google-plus-automated-posting](http://www.nextscripts.com/google-plus-automated-posting)

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-02-22T08:25:04.643

这是一个声称可以让您发布到 Google+ 的插件。

[http://wordpress.org/support/view/plugin-reviews/google-plus-authorship](http://wordpress.org/support/view/plugin-reviews/google-plus-authorship)

**编辑：**原来这个插件没有按照提问者的意思发布到 Google+。向前走。

# drag-and-drop - JavaFX：在拖放期间更改光标

> ID：15019645
> 
> 赞同：3
> 
> 时间：2013-02-22T08:14:25.723
> 
> 标签：drag-and-drop, cursor, javafx-2

我试图在拖放过程中更改节点上的光标，但图像没有改变。我正在调用我`setCursor()`的`DragDetectedEventHandler`节点。我也试过打电话`getParent().setCursor()`并得到相同的结果。我也尝试在其他各种事件处理程序中执行此操作，例如鼠标按下和拖动。充其量，我可以在释放鼠标按钮后更改图像，但我需要在拖动过程中图像不同。有人知道怎么做吗？

```
private class DragDetectedEventHandler implements EventHandler<MouseEvent> {

    @Override
    public void handle(MouseEvent mouseEvent) {
        System.out.println("Drag Detected");
        Dragboard db = startDragAndDrop(TransferMode.MOVE);
        ClipboardContent content = new ClipboardContent();
        content.putString("sample-drag-text");
        db.setContent(content);
        setCursor(_imageCursor);
        mouseEvent.consume();
    }
} 
```

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-02-22T08:57:58.693

尝试

```
((Node) mouseEvent.getSource()).setCursor(Cursor.HAND); 
```

如果不起作用，请发布包含 DragDetectedEventHandler 的完整类代码。

# postgresql - 通过连接到远程 PostgreSQL 服务器访问文件系统

> ID：15019653
> 
> 赞同：1
> 
> 时间：2013-02-22T08:14:56.033
> 
> 标签：postgresql, sas

我们让 PostgreSQL 在一个 unix 机器上运行，多个用户同时拥有单独的 unix 帐户和单独的数据库登录名。我们试图为这些用户启用的工作流程是：

1.  将大文件传输到服务器（通常通过 Samba）
2.  建立从用户 PC 到 PostgreSQL 的远程连接
3.  将大文件读入（最好是临时）表并进行一些分析

绊脚石是如何在登录 PostgreSQL 时访问文件。乍一看，这似乎不可能安全地进行，因为数据库在该`postgres`帐户下运行，该帐户甚至无法访问属于其他 unix 帐户的文件。开箱即用，我相信 PostgreSQL 用户可以访问本地文件的唯一方法是 (a) 使文件可由 unix 帐户读取，以及 (b) 赋予数据库用户提升的权限`postgres`以允许他们使用`COPY FROM`邮递员。这是不可能的；用户必须不能读取彼此的数据。

我们目前使用的解决方法是进入服务器并运行，这允许用户使用元命令`psql`从本地文件中获取数据。`\copy`但这会使工作流程复杂化，并且对我们大多数不熟悉 unix 的用户来说并不是很满意。相反，他们希望从称为 SAS 的基于 PC 的分析包驱动整个过程，该分析包可以通过 ODBC 直接连接到 Postgres。

我正在寻找一个创造性的解决方案来解决这个问题。显然，我上面列出的幼稚工作流程与 unix 安全模型完全不一致。但是，从用户的角度来看，是否有其他类似的功能？我们很乐意考虑存储过程、中间人代理等。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T08:41:36.170

如果您的用户通过 SAS 连接，他们可以通过 SAS-PSQL 连接自己上传文件吗？作为 SAS 用户，这当然是可能的；就像是

```
libname psql odbc (connection-string);
data psql.mytable;
set sastable;
run; 
```

当然，这需要先在本地读入 SAS，但这可能是微不足道的。这里的主要潜在问题是时间——以这种方式传输无疑比通过 SAMBA 传输要慢；但也许为了简单而花费的时间是值得的？

# python - python从xml中提取项目

> ID：15019659
> 
> 赞同：2
> 
> 时间：2013-02-22T08:15:30.243
> 
> 标签：python, xml

我想在 python 中读取一个 xml 文件，它看起来像这样：

```
<xml>
    <project name = "proj1">
        <design name = "des1">
            <param>para1</param>
        </design>
        <design name = "des2">
            <param>para4</param>
        </design>
    </project>
    <project name = "proj2">
        <design name = "des2">
            <param>para2</param>
        </design>
    </project><project name = "proj3">
        <design name = "des3">
            <param>para3</param>
        </design>
    </project>
</xml> 
```

我想使用 xml.etree.ElementTree

我可以阅读所有这样的项目

```
 tree = ET.parse(path)
    root = tree.getroot()

    for child in root:
        print child.get("name") 
```

但是我如何获得特定项目，让我们说 proj1 中 des2 中的参数？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T08:31:23.047

阅读[文档](http://docs.python.org/2/library/xml.etree.elementtree.html)以`etree`获取遍历 DOM 和检索数据可以做的所有事情的列表（带有示例）。您可能还想阅读有关[xpath](http://en.wikipedia.org/wiki/XPath)的内容，以防您不熟悉它（即使此模块[不完全支持它](http://docs.python.org/2/library/xml.etree.elementtree.html#xpath-support)，您也可以使用它的子集轻松检索一些元素）。对于您的具体示例，它将是：

```
root.find('project[@name="proj1"]/design[@name="des2"]/param').text 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-22T08:32:02.383

我个人会使用 lxml 而不是原生的 python ETree 代码。这样您就可以使用 XPath，这使得操作 xml 变得更加容易。

例如，获取您要求的元素的代码是：

```
param = root.xpath(/project[@name="proj1"]/design[@name="des2"]/param/Text()') 
```

更新：看起来 ETree 支持完整 XPath 的子集，因此正如@mgibsonbr 指出的那样，它足以满足您的要求

# jsf - 如何对 JSF 2 资源进行版本控制？

> ID：15019660
> 
> 赞同：1
> 
> 时间：2013-02-22T08:15:33.337
> 
> 标签：jsf, jsf-2, resources, browser-cache

当您有多个资源（js、css、图像）时，在生产环境中设置缓存策略会极大地提高性能，这样浏览器就不会每次都询问是否有新版本的资源可用。

问题是，当您更新应用程序时，浏览器仍然（一段时间）使用旧资源。虽然使用 css 和图像会很不方便，但使用 JavaScript 时，应用程序大多无法运行。

解决方案是众所周知的。重**命名**资源（不实用）或**附加版本参数**以请求（例如`&ver=XYZ`）。

我的问题是，如何在**JSF 2**中做第二个？因此，请勿更改库名称或为资源中的新版本创建新文件夹。我想将请求参数附加到请求中，保留资源路径。

如何将此类参数附加到 xhtml 中通过`h:outputScript`和`h:outputStylesheet`标签包含的资源，以及通过`@ResourceDependency`自定义组件中的注释？

充其量，如果它可以在应用程序中全局指定，并影响所有生成的资源链接。

# java - 是否可以告诉编译器一个方法总是抛出一个异常

> ID：15019662
> 
> 赞同：38
> 
> 时间：2013-02-22T08:15:52.537
> 
> 标签：java

一般来说，Java 编译器不会传播方法“总是”抛出异常的信息，因此不会检测到所有代码路径是否完整。

（这是因为 Java 编译器独立编译每个类）。

当你想写这样的东西时，这是一个问题。

```
public class ErrorContext {
    public void fatalISE(String message) {
        String context = "gather lots of information about the context of the error";
        throw new IllegalStateException(context +": " + message);
    }
}

public class A {
    public MyObject myMethod() {
        if (allIsGood()) {
            return new MyObject();
        }
        ErrorContext.fatalISE("all is not good");
    }
} 
```

（即，一种收集上下文信息的“断言助手”）。

因为编译器会抱怨 myMethod 并不总是返回一个 MyObject。

据我所知，没有特定的注释表明方法总是抛出。

* * *

## 回答 #1

> 赞同：47
> 
> 时间：2013-02-22T08:18:51.260

一个简单的解决方法是让您的`fatalISE`方法不*抛出*异常，而只创建它：

```
public class ErrorContext {
    public IllegalStateException fatalISE(String message) {
        String context = "gather lots of information about the context of the error";
        return new IllegalStateException(context +": " + message);
    }
}

public class A {
    public MyObject myMethod() {
        if (allIsGood()) {
            return new MyObject();
        }
        throw ErrorContext.fatalISE("all is not good");
    }
} 
```

这样编译器就会知道不要抱怨缺少`return`. 并且忘记使用`throw`是不太可能的，这正是因为编译器通常会抱怨。

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2013-02-22T08:15:52.537

我使用的一个技巧是替换

```
public void fatalISE(String message) {
    String context = "gather lots of information about the context of the error";
    throw new IllegalStateException(context +": " + message);
} 
```

和

```
public <T> T fatalISE(String message) {
    String context = "gather lots of information about the context of the error";
    throw new IllegalStateException(context +": " + message);
} 
```

然后，在 myMethod 中，使用：

```
public MyObject myMethod() {
   if (allIsGood()) {
        return new MyObject();
    }
    return ErrorContext.fatalISE("all is not good");
} 
```

无论 myMethod 的返回类型如何，它都可以工作，包括原始类型。您仍然可以`fatalISE`在 void 方法中使用，只是不使用`return`关键字。

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2013-02-22T08:24:19.617

反转if条件怎么样？

```
public MyObject myMethod() {
    if (!allIsGood()) {
        ErrorContext.fatalISE("all is not good");
    }
    return new MyObject();
} 
```

祝你好运！

* * *

## 回答 #4

> 赞同：6
> 
> 时间：2013-02-22T08:19:12.553

添加

```
return null; 
```

在末尾。（无论如何它永远不会到达那里，但是应该让编译器保持沉默）

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2019-01-07T21:15:01.837

您要做的是声明一个函数永远不会返回，这不是 Java 知道如何做的事情。[相比之下，Kotlin 有一个 Nothing 类型](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-nothing.html)。如果你声明你的函数返回“Nothing”，这意味着它永远不会返回。

上面 Zorglub 的答案，函数返回类型参数“T”的类型参数是你在 Java 中最接近的。这是我最近写的东西，它记录一个字符串，然后用相同的字符串抛出一个异常：

```
/**
 * Error logging. Logs the message and then throws a {@link RuntimeException} with the given
 * string.
 *
 * @param tag String indicating which code is responsible for the log message
 * @param msg String or object to be logged
 */
@CanIgnoreReturnValue
@SuppressWarnings("TypeParameterUnusedInFormals")
public static <T> T logAndThrow(String tag, Object msg) {
    String s = msg.toString();
    Log.e(tag, s);
    throw new RuntimeException(s);
} 
```

此代码使用 Android 的标准日志记录 API，是我希望能够在可能需要值的任何地方使用的代码。我希望能够拥有一个 lambda，其主体只是对该函数的调用。这个解决方案效果很好，但值得解释一些棘手的问题：

*   您不能在需要 Java 原始类型（int、double、boolean 等）的地方执行此操作。
*   如果您使用[容易出错](http://errorprone.info/)（一个出色的静态 Java 错误检查工具），则两个 @-annotations 是必需的，因为否则它会在调用站点抱怨您没有使用返回值，并且它会在方法定义中抱怨你正在用 type 参数做无法形容的邪恶事情。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2017-11-16T14:45:23.640

我刚刚遇到了这个用例，但使用的方法应该总是抛出 2 种或更多类型的异常。

要编译代码，您可以添加`return null;`As [MouseEvent](https://stackoverflow.com/a/15019698)所说的。

或者更好地将其替换为`throw new AssertionError()`防止返回 null 值，提高可读性并确保如果有人修改`checkAndAlwaysThrowException()`它将继续始终抛出异常

```
public Object myMehtod() throws ExceptionType1, ExceptionType2 {
    //....
    checkAndAlwaysThrowException();
    throw new AssertionError("checkAndAlwaysThrowException should have throw exception");
}

public void checkAndAlwaysThrowException() throws ExceptionType1, ExceptionType2 {
    if (cond) {
        throw new ExceptionType1();
    } else {
        throw new ExceptionType2();
    }
} 
```

# twitter-bootstrap - 如何阻止图像在引导响应式设计中变得模糊？/

> ID：15019664
> 
> 赞同：3
> 
> 时间：2013-02-22T08:15:59.833
> 
> 标签：twitter-bootstrap

`bootstrap-responsive.css`添加到`max-width:100%`所有`.img`标签。因此，我的图像变得越来越模糊。如果我删除它，图像会非常清晰但不再响应。有没有办法让我拥有响应式图像（即自行调整大小）并且仍然让它们清晰而不模糊

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-11T15:26:02.327

您需要通过在缩放浏览器时不希望重新调整大小的图像添加一个类来覆盖最大宽度设置。

```
 .fixed_width {
      height: 32px;
      width: 32px;
      max-height: 32px;
      max-width: 32px;
     }

    <img class="fixed_width" alt="{{item.Name}}" ng-src="Images/{{item.ImageUrl}}" /> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-02-11T06:40:40.317

我已经通过在图像的外部容器上放置一个最大宽度到图像尺寸来解决这个问题。

```
.outer-image-container { 
    max-width: 500px;
} 
```

HTML 将如下所示：

```
<div class="outer-image-container">
     <img src="image.png" class="img-responsive" />
</div> 
```

希望这个对你有帮助。它使我的图像保持响应而不会使其模糊。

# django - Django-grappelli。如何删除内联项

> ID：15019672
> 
> 赞同：2
> 
> 时间：2013-02-22T08:16:46.247
> 
> 标签：django, admin, django-grappelli

我将 grappelli 用于 django 管理员。我有简单的博客模型：

```
class Blog(models.Model):
    title = models.CharField(max_length=100, unique=True)
    slug = models.SlugField(max_length=100, unique=True)
    body = models.TextField()
    timestamp=models.DateTimeField(db_index=True)
    category = models.ForeignKey('auto.Category')
    class Meta:
        ordering=('-timestamp',)

    class Category(models.Model):
    title = models.CharField(max_length=100, db_index=True)
    slug = models.SlugField(max_length=100, db_index=True) 
```

管理员.py

```
class BlogInline(admin.TabularInline):
    list_display=('title', 'timestamp')
    prepopulated_fields = {'slug': ('title',)}
    model = Blog

class CategoryAdmin(admin.ModelAdmin):
    prepopulated_fields = {'slug': ('title',)}
    inlines = [BlogInline,]

admin.site.register(Category, CategoryAdmin) 
```

在标准管理员中，我在类别中的每个博文附近都有删除复选框。但后来我打开 grappelli，这个复选框消失了。我怎样才能让他们回来？谢谢！

# algorithm - 如何删除两组之间不相关的元素？类似于 SQL 连接

> ID：15019673
> 
> 赞同：0
> 
> 时间：2013-02-22T08:16:48.870
> 
> 标签：algorithm, join, inner-join

假设我有 2 套，如：

```
A = { 1, 4, 7, 10, 11, 12 }
B = { a, b, x, y, z } 
```

我有一个函数可以确定 A 中的一个元素是否与 B 中的另一个元素相关：

```
bool isRelated(a, b) 
```

我想从 A 和 B 中删除没有任何相关元素的元素。我怎样才能做到这一点？1个简单的方法是：

```
forEach a in A:
    related = 0
    forEach b in B:
        if isRelated(a, b):
            related++
            break
    if related == 0 
        A.remove(a)

// then I need to do something similar for B 
```

在我看来效率很低。有没有更好的办法？一定会有更好的办法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T08:27:41.140

这在时间复杂度上非常相似，但是由于 linq 的懒惰，它也许可以为您节省一些。

这是一个 C# 示例：

```
var newA = A.Where(a=> B.Any(b=> IsRelated(a,b)).Select(a); //checks the desired condition
var newB = B.Where(b=> A.Any(a=> IsRelated(a,b)).Select(b);
A = newA;
B = newB' 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T08:27:41.570

一般来说，没有更好的方法。SQL 数据库在识别连接子句中的特定条件时进行优化，它们可以使用索引（已经存在的索引或动态构建的数据结构）来查找所有匹配项，而无需扫描整个集合。并非所有可能的关系都与任何索引有关。

您可以在第一个循环中记录所有`B`返回`isRelated`true 的元素。然后在尚未编写的第二个循环中，您可以在遍历（现在减少的） set 之前检查缓存`A`。一旦这到位，也许您可​​以（在第一个循环中）并不总是`B`从头开始搜索，以便为以后的元素`B`提供更好的机会进入缓存。

除此之外，我认为这里没有任何大的节省。

# svn - 防止在netbeans 7.2中提交完整目录

> ID：15019676
> 
> 赞同：0
> 
> 时间：2013-02-22T08:17:01.277
> 
> 标签：svn, netbeans-7

我试图从项目目录中的提交中排除一个文件夹，但它仍然显示在要提交的文件和文件夹列表中。我右键单击文件夹 Subversion->从提交中排除，但它仍然显示。我已经尝试过`svn:ignore`，但它不会忽略目录。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T23:24:28.757

`svn:ignore`确实适用于目录AFAIK。但是如果目录已经在源代码控制下，它将不起作用

从[这个线程](https://stackoverflow.com/questions/116074/how-to-ignore-a-directory-with-svn)

> 注意：如果目录已经在 svn 中，这将不起作用。`svn rm --keep-local dirname`第一的。（我的 svn stat 输出非常大，我把头撞了一会儿。） - Erik Aronesty

# ember.js - Ember.js：如何防止用户退出脏对话框？

> ID：15019679
> 
> 赞同：1
> 
> 时间：2013-02-22T08:17:32.707
> 
> 标签：ember.js

当用户在对话框中有未保存的更改时，我想在他可以转换到其他地方之前警告他。

当他单击链接或手动更改哈希时，应该进行此检查。

ember有没有办法实现这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T10:00:56.053

目前无法在 Ember 中停止转换。从好的方面来说，这个问题[目前正在 github 上解决](https://github.com/emberjs/ember.js/issues/1786)。

您可以等待它解决，或者如果您愿意，可以提供帮助。

同时，您可以使用手动操作代替`linkTo`检查是否有未提交的更改的帮助程序。

在您的模板中：

```
<a {{action goHome}}>Home</a> 
```

在您的路线中：

```
events: {
  goHome: function() {
    var isCommitted = !this.controllerFor('post').get('isDirty');
    if (isCommitted || confirm('You will lose your changes')) {
      this.transitionTo('home');
    }
  }
} 
```

不利的一面是，您将丢失链接中的 URL，这意味着用户将无法在新选项卡中打开链接。

# javascript - 更改 html 嵌入对象的样式属性

> ID：15019680
> 
> 赞同：0
> 
> 时间：2013-02-22T08:17:35.347
> 
> 标签：javascript, object, styling

我正在尝试更改使用 .html 插入的对象的填充：

```
$('#notification-container').html($("<div id = 'notification-count'><span id = 'not-count'>"+ count +"</span></div>"));
$('#notification-count').style.padding = 1px 4px; 
```

我猜这不起作用，因为它认为该元素`#notification-count`不存在。如果可能，实现这一目标的最佳方法是什么？是否有一些“主数组”存储了所有 .html 嵌入或其他内容？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T08:29:12.640

你可以使用 jquery .css() 方法

```
$(function() {
var count = 25; //default value for try
$('#notification-container').html('<div id="notification-count"><span id="not-count">'+ count +'</span></div>');
$('#notification-count').css({'padding':'1px 4px'});
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T08:26:53.300

将第二行更改为

```
$('#notification-count').css('padding', '1px 4px'); 
```

# ajax - AJAX 调用返回 true 后表单未提交

> ID：15019681
> 
> 赞同：0
> 
> 时间：2013-02-22T08:17:41.133
> 
> 标签：ajax, jquery

我正在使用 Google Phone 验证库来检查号码是否对 AJAX 调用有效。如果号码无效，我需要以下函数来阻止表单提交。

目前它会阻止表单正确提交，但是当它返回 true 时表单不会提交。确实发生了真实声明的警报，但表单仍然没有提交。我错过了什么？

```
$(document).ready(function(){
$('form#sellerForm').submit(validatePhoneNumber);
});

function validatePhoneNumber() {
var output = null;
var phoneNumber = $('#phone').val();
var node = document.getElementById('phoneOutput');
var country = $('#country').val();
if(country == -1){
  output = translateNoCountry();
  node.innerHTML = output;
  event.preventDefault();
  return false;
}
if(output == null){
  //AJAX to get country code from country for var regionCode;
  $.ajax({ type: "POST", 
    url: '/ajax/validate_phone.php', 
    data: {country: country},
    cache: false, 
    success: function(result) {
    var regionCode = jQuery.parseJSON(result);
      try {
        var phoneUtil = i18n.phonenumbers.PhoneNumberUtil.getInstance();
        var number = phoneUtil.parseAndKeepRawInput(phoneNumber, regionCode);
        var isNumberValid = phoneUtil.isValidNumber(number);
        if(!isNumberValid){//invalid number
            output = translateInvalidePhone();
        }
      } catch (e) {
        output = translateInvalidePhone();
      }
    if(output != null){
        node.innerHTML = output;
        event.preventDefault();
        return false;
    }else{
        alert('Hello world');
        return true;
    }
}
});
event.preventDefault();
return false;
}
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T08:21:14.993

有什么用，

```
event.preventDefault();
return false; 
```

在最后一行。我认为这可能是问题所在。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T10:37:19.203

不要使用 event.preventDefault(); 在您的 validatePhoneNumber() 函数的最后

它阻止所有默认回发

# javascript - 如何使用 JavaScript 在 mongodb 中设置唯一 ID

> ID：15019683
> 
> 赞同：2
> 
> 时间：2013-02-22T08:18:04.127
> 
> 标签：javascript, node.js, mongodb

我有这样的数据

```
Mywants:[
    {"title":"lap","rate":$20}
    {"title":"lap","rate":$20}
    {"title":"lap","rate":$20}
] 
```

如果我将新数据保存到数组（mywant）中，我应该使用新的唯一 ID 保存，那么如何使用 javascript 进行保存。所以它应该看起来像：

```
Mywants:[
    {"title":"lap","rate":$20,_id:objectId("512640f3243c837c0e0004401}
    {"title":"lap","rate":$20,_id:objectId("512640f3243c837254000001}
    {"title":"lap","rate":$20,_id:objectId("512640f3243c8372540257001}}
] 
```

要插入我正在使用类似的命令

```
collection.update({"userid":1248787885},{$push:{"Mywant":{"title":"car","rate":$100}}}); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T14:08:42.987

正如 andyb 所指出的，您必须`ObjectId`通过构建一个新元素来为您的新元素生成 。但是您不需要单独的库：

```
var mongodb = require('mongodb');
collection.update(
    {"userid":1248787885},
    {$push:{"Mywant":{
        _id: new mongodb.ObjectID(),
        "title":"car",
        "rate":$100
    }}}); 
```

当然，`$100`它不是一个有效的 JavaScript 类型，但我假设你知道这一点。还值得注意的是，[Mongoose](http://mongoosejs.com/)会为您将`_id`字段添加到数组元素中，因此这是另一种选择。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T08:25:27.357

要在 JavaScript 中生成 mongoDB [`ObjectId`](http://docs.mongodb.org/manual/core/object-id/)，您可以使用现有库或自己实现 BSON ObjectId 规范。[ObjectId.js](https://github.com/justaprogrammer/ObjectId.js)就是这样一个库，获取 ID 非常简单：

```
var objectId = new ObjectId(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T09:52:26.950

在 javascript 中有一种称为 Math.random() 的方法，它将创建动态随机数，因此您可以将此数字修改为动态 id。

# css - 鼠标悬停时淡出背景覆盖

> ID：15019685
> 
> 赞同：0
> 
> 时间：2013-02-22T08:18:14.787
> 
> 标签：css, jquery-animate, overlay

我在这个页面上工作：[http](http://gpt.hernan.org/gpnew/v1%20(Referrals%20hover).html) : //gpt.hernan.org/gpnew/v1%20(Referrals%20hover).html 当悬停在推荐按钮上时，会出现一个背景覆盖，我需要它逐渐出现。也许一些淡入或淡出动画。

我正在使用这个脚本来运行 Overlay。

```
<script type="text/javascript">
(function(){
   $('#coins').on('mouseenter', function(){
          var w = $(window).width();
          var h = $(window).height();
      $('<div></div>').appendTo('body').
               addClass('overlay').css({ 'width': w, 'height': h });
      }).on('mouseleave', function(){
      $('.overlay').remove();
      })                
})();
</script> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T09:53:24.670

你只能这样做`CSS`;）

使用`CSS3 Transition`，您可以为每个要转换的属性指定 n1 秒的长度，在 n2 秒的可选延迟之后（以及转换的类型，但在这里并不有趣，默认为 ease）。

顺便说一句，`CSS3 Transition`不适用于`Display`nor `Visibility`; 您将不得不使用诸如`height: 0px;`，或移出可见区域，或更改 z-index 之类的技巧，或者，在您的情况下，最好的选择是使用 Opacity。

从 开始`opacity: 0;`，过渡到`opacity: 1;`in `hover`。

在你的情况下：

```
.button-hover ul ul {
  min-width: 449px;
  position: absolute;
  right: 0;
  top: 80%;
  z-index: 598;

  transition: all 1s ease 0s; /* new */
  opacity: 0; /* new */
  /* visibility: hidden; -> removed */
} 
```

而`:hover`不是

```
.button-hover ul li:hover > ul{
    visibility: visible;
} 
```

利用

```
.button-hover ul li:hover > ul{
    opacity: 1;
} 
```

# javascript - 使用 JavaFx-2 而不是 Javascript

> ID：15019686
> 
> 赞同：0
> 
> 时间：2013-02-22T08:18:27.187
> 
> 标签：javascript, html, javafx-2

我新发现了 javafx2 并开始使用它。但是，我在教程中感到困惑和迷失（尝试做蚂蚁但失败了：）但这是另一个问题）。

所以，我可以用 JavaFx-2 做一些很酷的事情，而且我真的很喜欢媒体播放器的“简单性”。所以，我只想使用 HTML、Java 和 CSS。有什么办法吗？

我可以从 HTML 调用 javafx2 函数吗？

感谢您的建议和回复。

要求更新；例如，嵌入在 html 中的 javascript 函数。我从[http://www.simplehtmlguide.com/javascript.php c/p'd](http://www.simplehtmlguide.com/javascript.php)

```
<html>
 <head>
  <script type="text/javascript">
function functionOne() { alert('You clicked the top text'); }
function functionTwo() { alert('You clicked the bottom text'); }
 </script>
</head>
<body>
 <p><a href="#" onClick="functionOne();">Top Text</a></p>
 <p><a href="javascript:functionTwo();">Bottom Text</a></p>
</body>
</html> 
```

现在我可以用 javafx2 做同样的事情吗？我可以直接从html中引用它的功能吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T08:48:11.377

您可以在 HTML 页面中嵌入 JavaFX 应用程序，如果这是您的意思：[http ://docs.oracle.com/javafx/2/deployment/deployment_toolkit.htm#BABJHEJA](http://docs.oracle.com/javafx/2/deployment/deployment_toolkit.htm#BABJHEJA)

# html - HTML：在电子邮件主题中插入换行符，如 %20 是空格吗？

> ID：15019689
> 
> 赞同：29
> 
> 时间：2013-02-22T08:18:42.447
> 
> 标签：html, email

打破这里...</p>

我想知道是否也可以`%20`为换行符编写类似（代表空格）的东西。所以我想在我的电子邮件正文中有单独的行。

有任何想法吗？

* * *

## 回答 #1

> 赞同：38
> 
> 时间：2013-02-22T08:30:50.073

您应该使用回车`%0D`和换行`%0A`

```
<a href="mailto:endpointadress@something.com?cc=endpointadress2@something.com&subject=your subject&body=Text before new line.%0D%0AText after new line.">create email</a> 
```

这是在[RFC2368](https://www.rfc-editor.org/rfc/rfc2368)中定义的，并且是生成换行符的唯一有效方法。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2014-11-27T15:18:41.550

[按照RFC6068](https://www.rfc-editor.org/rfc/rfc6068)（在[第 5 节](https://www.rfc-editor.org/rfc/rfc6068#section-5)中）的规定替换`\n`（和`\r\n`），从 2010 年 10 月起更新[URI 方案](https://en.wikipedia.org/wiki/Mailto)（替换[RFC2368](https://www.rfc-editor.org/rfc/rfc2368)）。`%0D%0A`[`mailto`](https://en.wikipedia.org/wiki/Mailto)

> [...] 消息正文中的换行符必须用`"%0D%0A"`.
> 即使正文中没有尾随，实现也可以在消息正文中添加最后一个换行符`"%0D%0A"`[...]

这是来自 RFC 的示例（在[第 6 节](https://www.rfc-editor.org/rfc/rfc6068#section-6.1)中）

```
<mailto:infobot@example.com?body=send%20current-issue%0D%0Asend%20index> 
```

上述邮件正文对应：

```
send current-issue
send index 
```

# php - 架构：后端和前端的双重视图

> ID：15019692
> 
> 赞同：0
> 
> 时间：2013-02-22T08:18:54.487
> 
> 标签：php, view, angularjs

我正在构建一个使用 AngularJS（或另一个 JS MVC fw）并拥有自己的模板语言的 webapp。同时，我的后端也有模板语言，twig。我发现自己在后端只有一个通用模板/视图，然后用 Angular 做所有事情......这是否意味着我的后端太复杂/我需要别的东西？

请注意，我确实需要用户身份验证..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T09:00:14.407

只要您的后端渲染不将 HTML 与您的数据混合，后端渲染就非常有用。在我们的应用程序中，我们根据您的许可证/权限/等打开/关闭功能，因此我们根据这些呈现不同的前端模板。这使得我们的前端代码更简单，因为它需要处理的事情更少。

假设您有一个要显示的任务列表。您将在客户端处理任务数据的呈现，但您可能希望确定应在服务器上显示哪些列。像这样的东西：

```
<table>
    <thead>
        <tr>
        <?php foreach ($columns as $column) { ?>
            <th><?php echo $column->name; ?></th>
        <?php } ?>
        </tr>
    </thead>
    <tbody>
        <tr ng-repeat="task in tasks">
        <?php foreach ($columns as $column) { ?>
            <td>{{<?php echo $column->property; ?>}}</td>
        <?php } ?>
        </tr>
    </tbody>
</table> 
```

只要您的后端渲染的模板可以在客户端上缓存，我会说您没问题。

# c# - 检查 Word 文档中的语句中的逻辑

> ID：15019699
> 
> 赞同：-5
> 
> 时间：2013-02-22T08:19:13.723
> 
> 标签：c#, .net

如何使用c#检查word文档中的IF、Then、Else和End If条件

请给我一些代码......或帮助我的逻辑。提前致谢..

```
Stack stackWords = new Stack();
string[] words = SplitWords(sLine);

foreach(string s in words)
{
    if(s.Contains("IF") || s.Contains("ELSE") ||  (sLine.Contains("THEN")) || (sLine.Contains("ENDIF")))
    {
        for (; i < words.Length; i++)
        {
            if (words[i] == "IF" || words[i] == "ELSE" ||
            words[i] == "ELSEIF" || words[i] == "THEN" || words[i] == "END IF")
            {
                stackWords.Push(words[i]);
            }
        }
       // stackWords.Push(s);
    }
  //  MessageBox.Show(s);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T09:11:08.073

根据@Evelie 的回答，这里有一个可以进行检查的工作示例程序（我相信我在验证方法中涵盖了一些案例，并且我还在序列中添加了一些对错误关键字的跟踪）。

**备注：**如果这有帮助，请将@Evelie 的答案标记为**答案**。我刚刚发布了这个给你，让你对整个系列有个印象。

```
class Program
{
    static void Main(string[] args)
    {
        Stack stackWords = new Stack();

        var app = new Microsoft.Office.Interop.Word.Application();
        var file = Environment.CurrentDirectory + @"\doc.docx";
        var document = app.Documents.Open(file);

        try
        {
            int count = document.Words.Count;
            for (int i = 1; i <= count; i++)
            {
                string text = document.Words[i].Text.Trim().ToUpper();
                Vals val;
                if(Enum.TryParse<Vals>(text, out val))
                {
                    Console.WriteLine("Word {0} = {1}", i, text);
                    if (stackWords.Count > 0)
                    {
                        var peeked = (Vals)stackWords.Peek();
                        if (IsValidFollower(peeked, val))
                        {
                            stackWords.Push(val);
                        }
                        else
                        {
                            throw new Exception(String.Format("Exception occured at word {0}. {1} was not expected after {2}",i, val, peeked));
                        }
                    }
                    else
                    {
                        stackWords.Push(val);
                    }
                }
            }
            Console.WriteLine("Syntax sequence is valid");
        }
        catch (Exception ex)
        {
            Console.WriteLine("Syntax sequence is invalid");
            Console.WriteLine(ex.Message);
        }
        finally
        {
            document.Close();
            app.Quit();
        }

    }

    public enum Vals
    {
        IF,
        THEN,
        ENDIF,
        ELSE,
        ELSEIF
    }

    public static bool IsValidFollower(Vals val1, Vals val2)
    {
        if (val1 == Vals.IF)
            return val2 == Vals.THEN;
        if (val1 == Vals.THEN)
            return val2 == Vals.ENDIF || val2 == Vals.ELSEIF || val2 == Vals.ELSE;
        if (val1 == Vals.ENDIF)
            return val2 == Vals.IF;
        if (val1 == Vals.ELSE)
            return val2 == Vals.ENDIF;
        if (val1 == Vals.ELSEIF)
            return val2 == Vals.THEN;
        return false;
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T08:53:35.737

获取自己并枚举这些值。比字符串更容易处理。

```
 public enum Vals
    {
        IF,
        THEN,
        ENDIF,
        ELSE,
    } 
```

我们有一种方法可以比较下一个值是否与当前值正确配对。

```
 public static bool IsValidFollower(Vals val1, Vals val2)
    {
        if (val1 == Vals.IF)
            return val2 == Vals.THEN;
        if (val1 == Vals.THEN)
            return val2 == Vals.ENDIF;
        if (val1 == Vals.ENDIF)
            return val2 == Vals.IF || val2 == Vals.ELSE;
        if (val1 == Vals.ELSE)
            return val2 == Vals.THEN;
        return false;
    } 
```

然后我们使用普通列表代替堆栈。（只是个人喜好，我不希望它们倒序）

```
 List<Vals> ListWords = new List<Vals>();

        foreach (string str in s.Split(' '))
        {
            if (str.Contains("ENDIF"))
                ListWords.Add(Vals.ENDIF);

            else if (str.Contains("ELSE"))
                ListWords.Add(Vals.ELSE);

            else if (str.Contains("THEN"))
                ListWords.Add(Vals.THEN);

            else if (str.Contains("IF"))
                ListWords.Add(Vals.IF);
        } 
```

当我们拥有所有值的列表时。我们检查它们是否在逻辑上有效。

```
 bool valid = true;
        for (int i = ListWords.Count - 1; i +1< ListWords.Count; i++)
        {
            if (!IsValidFollower(ListWords[i], ListWords[i + 1]))
            {
                valid = false;
                break;
            }
        } 
```

# javascript - 尝试使用 javascript 原型在锚点周围添加标题

> ID：15019702
> 
> 赞同：1
> 
> 时间：2013-02-22T08:19:21.243
> 
> 标签：javascript, prototypejs

我正在尝试使用 Prototype 在几个锚点周围放置标题。但它不起作用？有人可以帮我弄这个吗？谢谢。

```
 function placeheader(item, i)
            {
                item.insert({
                    //This doesnt work:  
                    before: "<h3>",
                    after: "</h3>"

                    //This works:           
                    //top: "test3",
                    //bottom: "test4"
                }); 
            }               
            $$('div.subresult a').each(placeheader); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T10:27:11.553

恐怕你不能使用带有部分标签的 insert() 方法，试试这个：

```
function placeheader(item) {
    var header = $(document.createElement("h3"));
    item.up().insertBefore(header, item);
    item.remove();
    header.appendChild(item);
}
$$("div.subresult a").each(placeheader); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T16:04:28.623

试试`wrap()`方法

```
$$('div.subresult a').each(function(item){
    var header = new Element('h3');
    item.wrap(header);

}); 
```

[http://api.prototypejs.org/dom/Element/prototype/wrap/](http://api.prototypejs.org/dom/Element/prototype/wrap/)

# entity-framework - 使用实体框架的动态\用户可扩展实体

> ID：15019705
> 
> 赞同：2
> 
> 时间：2013-02-22T08:19:28.367
> 
> 标签：entity-framework, design-patterns, dynamic-data

我将实体框架用于一个相当简单的问题跟踪应用程序。我想通过添加其他属性为用户提供扩展“问题”实体的能力，例如：

*   数字字段
*   文本字段（简单或富文本）
*   不同的列表（多选\单选）
*   布尔属性

我想到了两种完成任务的方法：

**可扩展数据库方法**

这种方法是公正的想法，我不知道如何使用实体框架来实现，所以我非常希望得到你的帮助。这是基本概念：

1.  创建一个名为 IssueExtendedFields 的表，其中每个字段都有一条记录，描述它的类型和名称，可能还有其他属性。
2.  创建另一个名为 IssueFieldOptions 的表，该表将保存每个“列表类型字段”的选项列表
3.  最终表名为 IssueExtendedFieldValues，它将为用户创建的每个自定义字段保存一个具有特定命名约定的列，并为每个问题保存一个外键。

现在我只是不知道如何实现第三步，因为使用实体框架并且有从表中生成的 EF 实体对象（首先是 DB）所以理论上每个新列都必须重新映射和重新编译 DAL项目。

你有什么其他的建议？

**字典法**

这种方法我知道如何实施

1.  创建一个名为 IssueExtendedFields 的表，其中每个字段都有一条记录，描述它的类型和名称，可能还有其他属性。
2.  创建另一个名为 IssueFieldOptions 的表，该表将保存每个“列表类型字段”的选项列表
3.  最后一个名为 IssueExtendedFieldValues 的表将保存输入到系统中的每个“字段 - 值”对的记录

但它有许多缺点（如果你知道如何克服它们，请发布）。

1.  用户添加的每个新属性只是另一条记录，将每个实体存储的数据量乘以 X，其中 X 是属性的数量，我看到大量问题进入系统并创建一个单独的表，该表将再容纳 10 条记录每个问题都会产生大量查询，需要大量内存。
2.  除了可预见的内存问题，我将不得不创建动态“数据透视”，如报告和视图，以允许用户再次生成自定义属性报告，并且当您处理大量数据时，“数据透视”查询将花费更多时间.

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2014-11-12T23:41:49.927

我知道这个问题已经很老了，但是没有什么可以阻止您在运行时使用您的数据库架构在那个特定时刻构建您的 EF 数据模型。由于您的大部分数据模型都是静态的，因此增加的复杂性被本地化为在运行时可以更改的实体：

1.  当您在运行时向数据库添加列时，您也需要将属性添加到相应的类型。这意味着您的类型是在运行时构造的。您可能会在运行时创建具有附加属性的*派生*类型（或实现某些接口），以便您的编译时代码具有合理的类型以用于其他情况。这可以使用[Reflection.Emit](https://stackoverflow.com/questions/14480332/create-a-class-dynamically-with-reflection-emit-i-got-stuck?rq=1)来完成。

2.  每当架构更改时，您都需要在运行时动态构建 EF 映射。您可以使用 EF Code First 来做到这一点。如果您的映射符合正常的 EF Code First 约定，那么除了确保将运行时类型添加到映射中之外，您无需在此处执行任何操作。否则，您必须实现代码，在运行时为您的附加属性确定和配置必要的映射。

3.  任何使用附加属性的查询都需要在运行时动态构建。这意味着[构建成员访问表达式](https://stackoverflow.com/questions/20698489/using-string-in-place-of-property-name-linq)以在您的 LINQ 查询中使用。类似地，访问仅在运行时知道的附加属性的值将需要[反射](https://stackoverflow.com/questions/1196991/get-property-value-from-string-using-reflection-in-c-sharp)。

您对第二种方法保持警惕是正确的，这种方法更广为人知的是[Entity-Attribute-Value (EAV) data modeling](https://stackoverflow.com/questions/870808/entity-attribute-value-database-vs-strict-relational-model-ecommerce-question)。这种方法有许多缺点，其中最重要的是连接/查询复杂性增加以及缺乏外键支持。但是，由于 EAV 模型是在编译时声明的，因此可以说它更容易实现。

或者，您可以考虑使用专门用于具有灵活模式的实体的另一个数据存储，例如[文档数据库](http://en.wikipedia.org/wiki/Document-oriented_database)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T11:25:13.983

> > 因此，理论上每个新列都必须重新映射和重新编译 DAL 项目。

你回答了你自己的问题:) EF 使用固定的数据库模式，所以第一个选项无论如何都不是一个选项。

# image - 计算图像的对相关性

> ID：15019706
> 
> 赞同：1
> 
> 时间：2013-02-22T08:19:28.963
> 
> 标签：image, matlab, correlation

我有一个二进制图像，比如说 512x512px。我想计算对相关性 g(x)。到目前为止，我正在以原始和无效的方式逐行进行：

```
function Cr = pairCorr(image)

domains = imread(image); % read image
domains(domains>0) = 1;  % make sure its binary by setting 1 to values > 0
size = length(domains(:, 1)); % image size

for i=1:size
    line = domains(:, i); % take one line...
    for j=1:size % and for each distance...
        s = line(1:end-size+j);
        Cr(i, j) = mean(s); %...calculate Cr as mean  
    end
end

Cr = mean(Cr); % average all lines 
```

知道如何更快地做到这一点吗？谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T09:50:32.507

您的代码（从循环开始）似乎与

```
Cr = mean(bsxfun(@rdivide, cumsum(domains), (1:n)')); 
```

我在哪里`n`是你的`size`。不要在 matlab 中使用 size 作为变量名，因为它是一个非常有用的函数。例如你去了`length(domains(:,1))`，但你本来可以去的`size(domains, 2)`

我的代码在做什么：

`cumsum(domains)`求每一列的累积总和。所以这就像`for j=1:size s = line(1:end-size+j); Cr(i, j) = mean(s); end`一次性完成整个矩阵。但是用`sum`而不是`mean`. 因此，要将累积和向量转换为意味着我们必须将每个元素除以列号。所以我们要除以向量 1:n。`bsxfun`允许我们对矩阵的一个维度的每个切片执行操作。因此，在每列的 2D 情况下，它允许将（即`@rdivide`）除以另一个常数列，即`(1:n)'`。

这是一个显示等效性的测试：

```
n = 512;
A = rand(n);
A(A > 0.5) = 1;
A(A <= 0.5) = 0

tic
Cr1 = mean(bsxfun(@rdivide, cumsum(A)', (1:n)));
toc

tic
for i=1:n
    line = A(:, i); 
    for j=1:n 
        s = line(1:end-n+j);
        Cr2(i, j) = mean(s);
    end
end
Cr2 = mean(Cr2)
toc  

mean(mean(Cr1 == Cr2)) 
```

结果：

```
Elapsed time is 0.016396 seconds.
Elapsed time is 75.2006 seconds. 
```

因此，尽管这仅适用于 1 次运行，但它可以为您提供 4500 的加速，我认为这非常好

# git - 在 git init 上执行脚本

> ID：15019709
> 
> 赞同：2
> 
> 时间：2013-02-22T08:19:38.810
> 
> 标签：git, bash, templates, init, githooks

我想自动化我每次使用 git init 命令时所做的一些任务。

我查看了不同的模板，但我什至不知道是否可以在初始化之后直接执行脚本。

一个主意 ？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-22T08:24:51.677

“on init”没有钩子 - 特别是考虑到钩子是每个存储库的，并且在使用时，`init`您根据定义设置一个新的存储库，该存储库还没有任何钩子。

您可以做的是编写一个`git init`为您运行的 shell 脚本，然后也运行您的任务。然后你只需运行该脚本而不是`git init`.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-22T13:22:09.167

`.gitignore`用于版本控制模式。另一个可以包含要忽略的模式的文件是`$GIT_DIR/info/exclude`. 该文件是从用于创建新存储库的模板中复制而来的。默认情况下，它存储在类似`/usr/share/git-core/template`. `--template`您可以使用标志指定您自己的模板to `git init`。您将在某处制作默认模板的副本，例如`~/my-git-template`，然后编辑`~/my-git-template/info/exclude`以在初始存储库中包含您想要的模式。要创建新存储库，请运行

```
git init --template ~/my-git-template 
```

查看和文件`man gitignore`之间的差异，看看这种方法是否适合您。`.gitignore``exclude`

# jquery - 每个 li 标签的点击事件

> ID：15019713
> 
> 赞同：1
> 
> 时间：2013-02-22T08:19:46.967
> 
> 标签：jquery, jsp

我正在使用以下代码，其中 li 将具有唯一 ID。

```
<c:forEach var="food" varStatus="i" items="${selectedIngredientsList}">
        <c:set var="foodInfo" value="${food.foodItemId}~${food.foodCategoryId}~${food.foodName}~${food.foodPortionName}"/>    
        <ul id="my">
           <li id="my_${foodInfo}"><c:out value="${food.foodName}"/>
            </li>
        </ul> 
</c:forEach> 
```

我想知道每个 li 的点击，想要获取点击的 li 的信息（ foodInfo ）。我怎样才能实现它？

```
var ua = navigator.userAgent,
    event = (ua.match(/iPad/i)) ? "touchstart" : "click";

$(document).ready(function(){
  $("#my").bind(event,function(e){
    alert("clicked");
  });
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T08:38:26.817

只是 HarishAnchu 的修改版

```
$(document).ready(function(){
  $("#my").on('click', 'li', function()
   {
        alert($(this).html());
        alert($(this).attr('id'));
   });
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T08:22:34.607

我想你想知道`id`clicked 的`li`，如果那是正确的，那么这应该做你想要的：

```
$("#my > li").on("click", function() {
  alert(this.id);
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T08:25:22.720

以下代码将在点击时提醒每个 li 和 li 的 id 内的值。

```
$(document).ready(function(){
  $("#my li").click(function()
   {
        alert($(this).html());
        alert($(this).attr('id'));
   });
}); 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-02-22T08:22:02.553

我希望这能正常工作。

```
$(document).ready(function(){
  $("#my").bind("click",function(e){
    alert("clicked");
  });
}); 
```

# c# - 使用 XML 获取数据并将其保存到数据库

> ID：15019720
> 
> 赞同：0
> 
> 时间：2013-02-22T08:20:19.850
> 
> 标签：c#, sql-server, xml, visual-studio-2010, dataset

我有这种情况，我想从另一台连接到我的计算机的计算机上获取数据，
我的数据库连接使用 OLEDB。
我想使用 XML 获取该数据并将其保存到我的 SQL SERVER 数据库并将其显示到我的网站 .aspx
我被告知我可以使用 Dataset -> XML -> SQL Server 来做到这一点，对吗？
我想做什么？

# java - 此处不允许“void”类型（java）错误

> ID：15019723
> 
> 赞同：0
> 
> 时间：2013-02-22T08:20:45.000
> 
> 标签：java, types, void

这是我的代码：

```
public void start()
{
  //If the gas tank and oil have more than nothing, and the transmission is in gear park, then the car can start
  if((gasTank.getGasLevel() > 0) && (engine.getOilLevel() > 0) && (transmission.gearPark()))
  {
    engine.startEngine();
    System.out.println("Engine is now on");
  }
  else
  {
    System.out.println("Please make sure your car is in proper gear, engine has oil and gas.");
  }
} 
```

我不断收到`'void' type not allowed here`错误。我不想返回任何东西，所以我知道我不需要 int、Boolean、double 等。

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-22T08:27:08.777

您的代码不在类中。

试试这个：

```
public class SomeClass {
    // your method here
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T08:25:26.807

看起来这些方法中的一种或多种可能是无效的，但不能是：

```
getGasLevel(); 
getOilLevel();
gearPark() 
```

它们不能是无效的，因为您在 if 语句中检查从它们返回的值。

# r - r : 3D 曲面图

> ID：15019725
> 
> 赞同：0
> 
> 时间：2013-02-22T08:20:54.393
> 
> 标签：r, 3d

假设我有一个 x ， y ， z 的数据框，其中 x any y 是坐标，z 是高度。如何在 x 和 y 平面上创建 z 的毯子。我尝试使用 loess 函数来创建毯子

```
data.loess = loess(z~x*y,data =data.df)
data.fit = expand.grid(list(x = seq(min(x),max(x),0.1), y = seq(min(y),max(y),0.1)))
z = predict(data.loess, newdata =data.fit) 
```

但预测的 z 值与原始高度不一致。

像这样的函数`scatterplot3d`只给我分散的点，我如何得到一个有丘陵和山谷的表面？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T09:16:16.747

我不知道“与原始高度不一致”这句话是什么意思，但为什么不看看：

```
persp(z)

x = seq(1,10,0.1); y = seq(1,10,0.1)
z= outer(x,y,"*")
data =data.frame(x=rep(x, times=91), y=rep(y, each=91), z=c(z) )
data.loess = loess(z~x*y,data =data)
data.fit = expand.grid(list(x = seq(min(x),max(x),0.1), y = seq(min(y),max(y),0.1)))
z = predict(data.loess, newdata =data.fit)
persp(z) 
```

![在此处输入图像描述](../Images/d39b93bd6500dcd5f458306e7d8deb5a.png)

# html - 在 css 中，当页面大小改变时使用 vmin/vmax 属性

> ID：15019726
> 
> 赞同：2
> 
> 时间：2013-02-22T08:20:57.730
> 
> 标签：html, css, resize, viewport-units

使用新的`vmin`css 属性来获得正确的字体大小。工作绝对很棒！

```
div.sample { font-size: 1.5vmin; text-align: center; ... } 
```

调整页面大小时会出现问题。例如，如果页面变小，`font-size`则 保持不变，从而使所有内容变得不平衡。

首先，浏览器应该处理这个吗？

第二，最好的处理方法是什么？似乎如果我使用触发器来设置`font-size`，那么我需要知道 以及 中的字体大小值`javascript`，`css`从而造成必然会失败的情况。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T08:49:35.440

它看起来像是`vmin`在 Firefox 中的行为。

这是我为测试而制作的 jsfiddle：http: [//jsfiddle.net/noahcollins/Sc8gm/](http://jsfiddle.net/noahcollins/Sc8gm/)

听起来您在 chrome 中看到了这个问题？正如 Bazzz 指出的那样，[Chrome 的一个 bug](http://code.google.com/p/chromium/issues/detail?id=124331)仍然存在。我能够在 Canary 中复制它。如果您愿意的话， [CSS Tricks 文章可以帮助您使用一些 javascript 来解决它。](http://css-tricks.com/viewport-sized-typography/)

还有一点要记住：目前对`vmin`移动浏览器的支持[非常有限](http://caniuse.com/#feat=viewport-units)，所以当用户在纵向和横向之间旋转时，这将是一个问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T08:34:08.327

据说这是一个已知的错误，如 CSS-Tricks 所述。他们也有一个 javascript 解决方法，在“错误！”标题下查看这里：

[http://css-tricks.com/viewport-sized-typography/](http://css-tricks.com/viewport-sized-typography/)

**CSS-Tricks 建议的解决方法**

> 要解决此问题（允许在不刷新页面的情况下调整大小），您需要对元素进行“重绘”。我使用了 jQuery，只是摆弄了每个元素（在这种情况下是不相关的）z-index 值，这会触发重绘。

```
causeRepaintsOn = $("h1, h2, h3, p");
$(window).resize(function() {
    causeRepaintsOn.css("z-index", 1);
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-10-17T03:21:34.640

vmin 是移动网页设计的好主意，但浏览器支持有限。此外，确实存在的浏览器支持表现出一些奇怪的行为。例如，因为 vmin 将字体大小计算为当前屏幕大小的函数，所以当您专注于文本输入元素时，您会遇到麻烦，因为有时文本会根据您使用的小得多的窗口调整大小键盘打开。因此，有时您的文本输入会自发地变得很小，这非常烦人。因此，我建议使用 vw 来根据屏幕宽度保持文本大小。它有助于提供更好的用户体验。vh 有我上面谈到的同样的问题。

# cuda - GPU/CPU 指针没有更强的类型是有原因的吗？

> ID：15019729
> 
> 赞同：0
> 
> 时间：2013-02-22T08:21:07.773
> 
> 标签：cuda

语言设计者是否有理由不使指针类型更强，以便编译器可以区分 GPU 指针和 CPU 指针并消除混合两者的可笑常见错误？

是否需要一个指针同时引用 GPU 内存位置和 CPU 内存位置**（***这甚至可能）*？

或者这只是语言设计中令人难以置信的明显疏忽？

* * *

**[编辑]**示例：C++/CLI 有两种不同类型的指针，不能混用。他们引入了单独的符号，以便编译器可以强制执行此要求：

```
int* a; //Normal pointer
int^ b; //Managed pointer
//pretend a is assigned here
b = a;  //Compiler error! 
```

有没有理由*（除了懒惰/疏忽）* CUDA 不做同样的事情？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-22T22:30:32.377

Nvidia 的`nvcc`CUDA C“编译器”不是一个完整的编译器，而是一个相当简单的驱动程序，它调用一些其他工具（`cudafe`和 C 预处理器）来分离主机和设备代码，并将它们提供给各自的编译器。

Nvidia仅提供设备代码编译器（`cicc`或`nvopencc`在以前的 CUDA 版本中）。代码的宿主部分只是传递给宿主本机 C 编译器，这使 Nvidia 从提供竞争编译器本身的负担中解放出来。

在指针使用不当时生成错误消息需要解析主机 C 代码。虽然这当然是可能的（例如教授CUDA 特性`sparse`或`clang`关于 CUDA 的特性），但据我所知，到目前为止还没有人为此投入精力。

Nvidia 已[在 NVIDIA CUDA Compiler Driver NVCC 上编写了一份文档，](http://docs.nvidia.com/cuda/cuda-compiler-driver-nvcc/index.html)其中更详细地解释了编译过程和所涉及的工具。

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2013-02-22T12:01:52.273

您定义的所有指针都存储在 RAM 中。不管是GPU指针还是CPU指针。那么您必须自己将其复制到GPU。没有 GPU 也没有 CPU 指针。它只是一个变量，用于保存内存中某个位置的地址。在哪里使用它很重要，如果您在 GPU 中使用它，那么 GPU 将在其可访问的内存中搜索该地址，如果您已将其固定到图形内存，它可以是 RAM 中的一个位置。

最重要的是您无法直接访问 RAM 中的某个位置，因为 CPU 中的地址空间是虚拟的。您的数据可能存储在硬盘上，但在 GPU 上并非如此。您的内存地址是直接传递到该位置。这使得无法统一两个地址空间。

# javascript - JavaScript ID 处理

> ID：15019735
> 
> 赞同：0
> 
> 时间：2013-02-22T08:21:26.013
> 
> 标签：javascript, jquery

我正在开发一个网站，允许用户通过内联“窗口”在同一个浏览器窗口中打开相同内容的多个页面。

由于**内容可以重复多次，**因此 id 可以是相同的，因此我必须分别“处理”它们，以便区分这些页面。

我目前通过在加载时为脚本分配一个唯一的 id 来做到这一点，如下所示：

```
var id_key;

 function load_page() {
     id_key++;
     load_script("test.js") //load javascript file
 }
 //test.js:
 $(function () {
     var unique_id = id_key;
     //adds the `unique id ` to the end of all elements  with an id attribute set. ie `mycontainer` becomes `mycontainer_1`
     update_ids(unique_id);

     $("#mybtn_ " + unique_id).click(function () {
         //do stuff
     });
 } 
```

这在大多数情况下都可以正常工作，但是如果多个页面加载速度过快，ID 往往会被覆盖，从而导致混淆和错误。

我想知道这样做是否有更好的技术。我听说过backbone.js，但我不确定这在这种情况下是否有用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T13:58:51.917

有几种通用方法可以解决此类问题：

1.  加载`iframe`s 中的子页面。每个 iframe 都有自己的 ID 空间。只要所有[文档都是从同一个域加载的，所有框架中的脚本都可以通过](http://en.wikipedia.org/wiki/Same_origin_policy)[该`parent`变量](https://stackoverflow.com/questions/935127/how-to-access-parent-iframe-from-javascript)相互通信。

2.  不要使用任何 ID。相反，给每个“窗口”一个 ID，然后通过类和父子关系定位窗口中的元素。请注意，一个元素可以有多个类。

    然后，您可以使用`$(selector, win)`来查找某个窗口上的元素`win`。窗口变成了“ [Selector Context](http://api.jquery.com/jQuery/#jQuery1) ”，这意味着 jQuery 将只搜索窗口的子级，而不搜索其他任何内容。

3.  在脚本的开头，按 ID 定位所有重要元素并将它们保存在 JavaScript 对象中。这样，您可以在不使用 jQuery 选择器的情况下访问它们。

    例如，您可以选择任何具有 ID 的内容，并使用[.data()](http://api.jquery.com/category/miscellaneous/data-storage/)将其保存在窗口元素中。完成此设置后，所有元素都可以通过以下方式访问`$(win).data('id')`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T08:27:19.137

您可以通过连接日期和随机数来生成非常好的唯一 ID：

```
new Date().getTime() + Math.random() 
```

虽然这绝不是完美的，但我认为在您的用例中就足够了。

正如杰克在他的评论中提到的，您可以将此 id 作为获取参数传递给您的新窗口。我曾经用这种方法做了一个类似操作系统的界面，它工作得完美无缺。

# iphone - 如何将 UIButtons 添加到导航栏，该类还包含 UITabbarController

> ID：15019741
> 
> 赞同：0
> 
> 时间：2013-02-22T08:21:45.733
> 
> 标签：iphone, ios, objective-c

我是 iOS Development 的新手。我有`UINavigationController`作为 rootviewcontroller 的。在我以编程方式`UIWindow`添加的子类中。我将`UITabbarController`默认的 Tabbarcontroller 选择作为第一个控制器。在这里，我尝试向导航栏添加 3 个按钮。

任何人都可以给我发送正确的代码。提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T08:35:04.273

要在左侧或右侧添加多个按钮，您必须调用以下方法之一：

```
- (void)setRightBarButtonItems:(NSArray *)items animated:(BOOL)animated

- (void)setLeftBarButtonItems:(NSArray *)items animated:(BOOL)animated 
```

该数组`items`包含`UIBarButtonItem`该类的实例。你可以像这样实例化它们

```
UIBarButtonItem *FirstButton = [[UIBarButtonItem alloc] 
                       initWithTitle:@"Title"                                            
                               style:UIBarButtonItemStyleBordered 
                              target:self 
                              action:@selector(buttonTapped:)]; 
```

然后你必须实现在`buttonTapped:`点击按钮时调用的选择器。

```
-(void)buttonTapped:(UIBarButtonItem *)button
{
  // do the things that should happen when the button is pressed
} 
```

如果您不想将它们放在左侧或右侧，也可以自己创建一个`UIView`包含按钮并将视图设置为`UINavigationItem`. 此效果类似于 Facebook App 中的按钮

```
[self.navigationItem setTitleView:yourView]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T10:07:51.393

```
UIButton *customButton = [UIButton buttonWithType:UIButtonTypeCustom];

// here is custom button setup //

UIBarButtonItem *item = [[UIBarButtonItem alloc] initWithCustomView:customButton];

[self.navigationItem setLeftBarButtonItem:item animated:YES]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T08:27:53.087

这是添加的简单`UIButton`代码`UINavigationBar`

在以下代码中，您可以添加 Button With**`FlexibleSpace`**

```
NSMutableArray *barItems = [[NSMutableArray alloc] init];
    UIBarButtonItem *flexSpace = [[UIBarButtonItem alloc] initWithBarButtonSystemItem:UIBarButtonSystemItemFlexibleSpace target:self action:nil];
    [barItems addObject:flexSpace];
    [flexSpace release];

    UIBarButtonItem *btnFirst = [[UIBarButtonItem alloc] initWithTitle:@"First" style:UIBarButtonItemStyleBordered target:self action:@selector(FirstTapped:)];
    [barItems addObject: btnFirst];

    UIBarButtonItem *btnSecond = [[UIBarButtonItem alloc] initWithTitle:@"Second" style:UIBarButtonItemStyleBordered target:self action:@selector(SecondTapped:)];
    [barItems addObject:btnSecond];

UIBarButtonItem *btnThird = [[UIBarButtonItem alloc] initWithTitle:@"Third" style:UIBarButtonItemStyleBordered target:self action:@selector(ThirdTapped:)];
    [barItems addObject: btnThird];

self.navigationItem.rightBarButtonItems = barItems; 
```

**按钮相关方法**

```
-(void) FirstTapped:(UIBarButtonItem *)sender{

//perform your action

}
-(void) SecondTapped:(UIBarButtonItem *)sender{

//perform your action

}

-(void) ThirdTapped:(UIBarButtonItem *)sender{

//perform your action

} 
```

**注意：** `self.navigationItem.rightBarButtonItems` **仅适用于 iOS 5 或更高版本。**

# c# - 调用事件委托的更好方法是什么？

> ID：15019744
> 
> 赞同：7
> 
> 时间：2013-02-22T08:21:57.743
> 
> 标签：c#, events, event-handling

```
private void NotifyFreeChannelsChanged() //1.
{
    if (FreeChannelsChanged != null)
    {
        FreeChannelsChanged(this, null);
    }
}

private void NotifyFreeChannelsChanged() //2.
{
    NotifyCollectionChangedEventHandler h = FreeChannelsChanged ;
     if (h != null)
         h(this, e);
} 
```

其中哪个更好，为什么。或者这只是额外的检查。不是主要区别。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-22T08:24:32.147

“更好的”？嗯，不包含（特定）竞争条件，一个。MultiCastDelegate 类型是不可变的，并以所有重要的方式使用值类型语义（但是它们*是*引用类型，请参阅[this](https://stackoverflow.com/questions/7905962/why-are-delegates-reference-types)，更重要的是，[this](http://blogs.msdn.com/b/ericlippert/archive/2009/04/29/events-and-races.aspx)），这就是您首先分配它然后检查的原因。问题是：

```
// this evaluates to true...
if(SomeEvent != null)
{
    // ...but before this line executes, the last 
    // subscriber detached, and now SomeEvent is null. Oops.
    SomeEvent(this, e);
} 
```

您应该问“为什么有人会使用示例 #2？”

* * *

顺便说一句，这是使用隐式类型变量 ( `var`) 的好地方。那些委托类型名称变得很长......

同样有趣的是竞争条件仍然存在，只是更加微妙。如果在分配后删除订阅者会发生什么？好吧，它仍然会被调用，但实际上（我知道）你无能为力。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T08:29:15.403

第二个很容易适用于我们使用的一组扩展方法，其中 EventHandler 是方法的目标。

```
public static void Raise(this EventHandler handler, object sender)
{
  if (handler != null)
    handler(sender, EventArgs.Empty);
}

// And then...
TheEvent.Raise(this); 
```

据我所知，将处理程序传递给方法的事实为您提供了本地副本以避免竞争条件。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T08:24:38.230

第二个是防止可能的线程错误，其中在 null 检查和片段 1 中触发的事件之间发生上下文切换。其他一些线程可以在两者之间将其设置为 null。

因此，除非您的方法易于使用多线程，否则您可以使用更简单的代码片段。

# javascript - 导航后立即执行代码：浏览器插件？

> ID：15019747
> 
> 赞同：0
> 
> 时间：2013-02-22T08:22:04.233
> 
> 标签：javascript, html, security, browser, same-origin-policy

我正在构建一个使用（动态插入）JavaScript 来修改网页的工具。任何网页。

这个想法是允许用户使用它来记录对现有网页的一系列更改，例如`google.com`，（例如，假设更改是对所有`<img>`标签应用 10 像素纯黑色边框，这个更改显然可以编码作为 jQuery 的一个简短而甜蜜的片段），并且该工具会生成一个链接（或标识符），其中包含此元数据和表示“起点”的 url（如果您愿意的话）（在这种情况下`google.com`）。

现在我遇到的问题是整个同源安全策略，其目的是明确否认我似乎需要做的事情。

我需要做的基本上是导航到特定站点，然后在该站点的上下文中执行 javascript。我（该工具的作者）和与我共享脚本的用户都不一定能控制该站点，因此理论上，如果实施得当，安全模型应该会阻止这个概念起作用。

因此，我不能有一个可点击的链接来启动在某个站点上运行我的代码的过程。这也完全有道理。攻击者站点发送伪装的可点击链接将变得微不足道，该链接将在他们想要的任何站点上运行充当我的代码。

但是，绕过它的方法是告诉接收者做一个**额外的步骤**。首先，他们像平常一样打开网站的 URL，然后将一些内容粘贴`javascript:(function(){.....})();`到 URL/omni 栏中。那是（AFAICT）完全合法并且应该是允许的，因为用户知道这个脚本正在被执行。在这一点上是否应该允许它如此轻松地运行 JS 或多或少无关紧要，因为它现在基本上可以在任何地方工作。

这还不错，但我认为用户体验受到了不必要的影响。例如，与将 JS 粘贴到 iOS 设备上的 URL 栏中相比，它看起来需要一个原生应用程序，但在接受插件的完整浏览器上，插件似乎可以实现我想要的。

即：一键导航到任意 URL，然后执行代码（此代码源自授权来源）。

但我不知道从哪里开始。什么 API 可以为我提供这种能力？我希望我可以摆脱 Greasemonkey 类型的脚本（因为 Greasemonkey 兼容的插件可用于几乎所有优秀的浏览器），但我不知道是否有足够的功能可用。

我实际上仍然有点不确定与此相关的安全问题。我曾经在这里有一个很大的段落，但这一切都归结为“社会工程”。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T08:40:27.760

这种事情一般都是用[小书签](http://en.wikipedia.org/wiki/Bookmarklet)来完成的。

在以您的脚本为特色的网站上，创建一个包含`href="javascript:(function(){/* ... */})()"`. 然后用户可以简单地将该链接拖放到他的收藏夹中（添加书签）。并将其用作收藏夹栏中的按钮。

您的小书签可以直接包含您的脚本，或者一个将`<script src=http://mywebsite.com/script.js">`标签注入文档的简单加载程序，这样您就可以更新您的脚本并将其直接“分发”给所有用户。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T08:41:38.907

安全始终与知识有关。或者反过来说：不知道某事会让你感到不安全。

没有安全的方法可以做你想做的事，这是我的网络浏览器默认禁止的。有一些解决方法（比如粘贴上面解释的 URL），但只要用户知道她在做什么，所有这些都是安全的。

这就是社会影响。现在的技术解决方案：

1.  你试试[小书签](http://en.wikipedia.org/wiki/Bookmarklet)
2.  您可以使用像[Greasemonkey这样的浏览器插件](http://en.wikipedia.org/wiki/Greasemonkey)

两者都允许运行任意 JavaScript。前者每次都需要用户的明确许可，后者自动执行。

当然，如果您将功能的核心移动到一个偏远的地方，即使是像我这样知识渊博的用户也很难理解和信任正在发生的事情。

那是当函数的内容不在书签或greasemonkey 脚本中时，而是当您添加`<script>`带有远程URL 的标签时。这将使确保您的脚本不会做“奇怪”的事情变得更加困难。例如，当我尝试在不使用您的书签的情况下下载 JavaScript 时，您可能会返回不同的脚本。

# nlp - 如何使用 GIZA++ 解决 mkcls 占用大量内存和时间进行字对齐的问题？

> ID：15019755
> 
> 赞同：1
> 
> 时间：2013-02-22T08:22:46.387
> 
> 标签：nlp, text-alignment, machine-translation, giza++

我正在使用[GIZA++](http://code.google.com/p/giza-pp/)来对齐来自[Europarl corpus](http://www.statmt.org/europarl/)的 bitexts 中的单词。

在我使用 训练对齐模型之前`GIZA++`，我需要使用[mkcls](http://www-i6.informatik.rwth-aachen.de/web/Software/mkcls.html)脚本来制作隐马尔可夫模型算法所需的类，如下所示：

```
mkcls -n10 -pcorp.tok.low.src -Vcorp.tok.low.src.vcb.classes 
```

我已经尝试过使用小型 1000 行语料库，它可以正常工作并在几分钟内完成。**现在我正在用 1,500,000 行的语料库上尝试它，它占用了我的一个 CPU 的 100%`(Six-Core AMD Opteron(tm) Processor 2431 × 12)`**

在上课之前，我已经采取了必要的步骤来标记化，降低所有大写字母并过滤掉超过 40 个单词的行。

**有人`mkcls`对 GIZA++ 有类似的经验吗？它是如何解决的？如果有人在 Europarl 语料库上做过同样的事情，那么您运行`mkcls`.**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T13:06:21.047

尝试支持多线程的**mgiza** ( [http://www.kyloo.net/software/doku.php/mgiza:overview )。](http://www.kyloo.net/software/doku.php/mgiza:overview)它应该会显着减少完成任务所需的时间。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-23T02:09:36.593

由于和的脚本`mkcls`没有并行化，加上 Europarl 语料库 150 万个单词的句子和单词的数量，制作词汇课大约需要 1-2 个小时。`MOSES``GIZA++`

其他前 GIZA++ 处理步骤（即`plain2snt`, `snt2cooc`）花费的时间和处理能力要少得多。

# rest - 重构应用：直接数据库访问 -> 通过 REST 访问

> ID：15019759
> 
> 赞同：1
> 
> 时间：2013-02-22T08:23:08.447
> 
> 标签：rest, jpa, spring-mvc, jpa-2.0, eclipselink

我们有一个巨大的数据库应用程序，必须对其进行重构（这有很多原因。最大的一个：安全性）。

**我们已经拥有的：**

*   MySQL 数据库
*   超过 100 个表的 JPA2 (Eclipselink) 类
*   直接访问数据库的客户端应用程序

**需要有什么：**

*   REST接口
*   通过数据库使用角色登录/注销

**到目前为止我所做的：**

*   使用 Spring Security 3.1.1 设置 Spring MVC 3.2.1
*   使用自定义`UserDetailsService`（仅包含用于测试 atm 的静态数据）
*   创建了一些用于测试的控制器（简单地接收/提供数据）

# 设计问题：

*   我们的数据库中有 maaaaany @OneToMany 和 @ManyToMany 关系

## 1.：（重要）

如果我发送带有所有子对象的整个对象树作为响应，我可能会一次发送整个数据库。

所以我需要一种方法来请求例如“所有文章”。但它应该省略所有子对象。我昨天试过了，我收到的对象有很多兆字节：

```
@PersistenceContext
private EntityManager em;

@RequestMapping(method=RequestMethod.GET)
public @ResponseBody List<Article> index() {        
    List<Article> a = em.createQuery("SELECT a FROM Article a", Article.class).getResultList(); 
    return a;
} 
```

## 2.：（重要）

如果客户收到一篇文章，此时我们可以简单地调用`article.getAuthor()`，JPA 会做一个`SELECT a FROM Author a JOIN Article ar WHERE ar.author_id = ?`.

使用 REST，我们可以向`/authors/{id}`. **但是：**这样我们就不能在客户端使用我们旧的 JPA 模型，因为模型包含`Author author`而不是`Long author_id`.

我们必须重写每个模型还是有更简单的方法？

## 3.：（不太重要）

身份验证：是否使其无状态？到目前为止，我从未使用过无状态身份验证，但 Spring 似乎对它有某种支持。当我查看网络上的一些示例实现时，我有安全方面的顾虑：每个请求都会发送用户名和密码。这不可能是正确的方法。

如果有人知道一个很好的解决方案，请告诉我。否则我只会使用标准的 HTTP 会话。

## 4.:

设计客户端模型的最佳方法是什么？

```
public class Book {
    int id;

    List<Author> authors; //option1
    List<Integer> authorIds; //option2
    Map<Integer, Author> idAuthorMap; //option3
} 
```

（这是一本有多个作者的书）。所有三个选项都有不同的优点和缺点：

1.  我可以直接访问相应的`Author`模型，**但是**如果我通过 REST 请求`Book`模型，我可能现在不想要模型，但稍后。所以选项2会更好：
2.  `Book`我可以直接通过 REST请求模型。然后使用`authorIds`来获取相应的作者。但现在我不能简单地使用`myBook.getAuthors()`.
3.  这是 1\. 和 2\. 的混合体：如果我只请求`Book`仅包含 id 的 s `Author`，我可以执行以下操作：`idAuthorMap.put(authorId, null)`.

但也许有一个 Java 库可以为我处理所有的东西？！

* * *

现在就是这样。感谢你们 ：）

* * *

# 可能的解决方案：

**问题：**只选择我需要的数据。这意味着或多或少地忽略每个`@ManyToMany`, `@OneToMany`,`@ManyToOne`关系。

**解决方案：**使用`@JsonIgnore`和/或`@JsonIgnoreProperties`.

* * *

**问题：**每个被忽略的关系都应该在不修改数据模型的情况下轻松获取。

**解决方案：**示例模型：

```
class Book {
  int bId;
  Author author; // has @ManyToOne
}

class Author {
  int aId;
  List<Book> books; // has @OneToMany
} 
```

现在我可以通过 REST: 获取一本书`GET /books/4`，结果将如下所示（因为我通过 忽略所有关系`@JsonIgnore`）：`{"bId":4}`

然后我必须创建另一个路由来接收相关作者：`GET /books/4/author`。将返回：`{"aId":6}`。

向后：`GET /authors/6/books`-> `[{"bId":4},{"bId":42}]`。

每个`@ManyToMany`, `@OneToMany`,都会有一条路线`@ManyToOne`，但仅此而已。所以这**将不**存在：`GET /authors/6/books/42`. 客户应该使用`GET /books/42`.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T14:47:27.640

首先，您需要控制 JPA 层如何处理您的关系。我的意思是使用延迟加载与急切加载。这可以通过注释上的“fetch”选项轻松控制，如下所示：

```
@OneToMany(fetch=FetchType.Lazy) 
```

这告诉 JPA，对于这个相关对象，只有在某些代码请求它时才加载它。在幕后，正在制作/创建一个动态“代理”对象。当您尝试访问此代理时，它足够聪明，可以出去执行另一个 SQL 来收集所需的位。在 Collection 的情况下，如果您迭代 Collection 中的项目，它甚至足够聪明地批量抓取底层对象。但是，请注意：对这些代理的访问必须在同一个常规会话中进行。底层 ORM 框架（不知道 Eclipselink 是如何工作的……我是 Hybernate 用户）不知道如何将子请求与正确的域对象相关联。当您使用 Flex BlazeDS 等运输框架时，这会产生更大的影响，

您可能还想设置您的级联策略，这可以通过“级联”选项来完成，例如

```
@OneToMany(cascade=CascadeType.ALL) 
```

或者你可以给它一个类似的列表：

```
@OneToMany(cascade={CascadeType.MERGE, CascadeType.REMOVE}) 
```

一旦控制了从数据库中提取的内容，就需要查看如何编组域对象。您是否根据请求通过 JSON、XML 或混合方式发送此信息？您使用什么框架（Jackson、FlexJSON、XStream 等）？问题是，即使您将 fetch 类型设置为 Lazy，这些框架仍然会追踪相关对象，从而否定您所做的所有工作告诉它延迟加载。这是对编组/序列化方案更具体的地方：您需要弄清楚如何告诉您的框架什么要编组，什么不应该编组。同样，这将高度依赖于正在使用的任何框架。

# ruby-on-rails - 以正确的方式从 ruby on rails 执行查询

> ID：15019760
> 
> 赞同：3
> 
> 时间：2013-02-22T08:23:10.310
> 
> 标签：ruby-on-rails, ruby

我刚开始使用 ruby​​ on rails 并且有一个关于更复杂查询的问题。到目前为止，我在查看 rails guide 时完成了简单的查询，并且效果非常好。

现在我正在尝试从数据库中获取一些 Id，我会使用这些 Id 来获取真实的对象并对它们做一些事情。获得这些比简单的 Object.find 方法要复杂一些。

这是我的查询的样子：

```
select * from quotas q, requests r
where q.id=r.quota_id
and q.status=3
and r.text is not null
and q.id in
(
select A.id from (
select max(id) as id, name 
from quotas
group by name) A
)
order by q.created_at desc
limit 1000; 
```

从 sql 管理器执行此查询时，这会给我 1000 个 id。我想先获取 id 列表，然后按 id 查找对象。

有没有办法通过使用这个查询直接获取这些对象？避免 ids 查找？我用谷歌搜索你可以执行这样的查询：

```
ActiveRecord::Base.connection.execute(query); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T08:33:16.897

假设`Quota has_many :requests`,

```
Quota.includes(:requests).
  where(status:3).
  where('requests.text is not null').
  where("quotas.id in (#{subquery_string_here})").
  order('quotas.created_at desc').limit(1000) 
```

我绝不是专家，但大多数基本的 SQL 功能都包含在 ActiveRecord 中。您可能还想查看`#group`和`#pluck`方法来消除丑陋的字符串子查询。

调用`#to_sql`关系对象将向您显示它等效的 SQL 命令，并且可能有助于您的调试。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T09:53:04.043

我会为此使用 find_by_sql 。我不会发誓这是完全正确的，但我记得你几乎可以将 SQL 语句插入 find_by_sql 并且结果列将作为你调用它的类的对象数组的属性返回：

```
 status = 3
  Quota.find_by_sql('
    select * 
    from quotas q, requests r
    where q.id=r.quota_id
    and q.status= ?
    and r.text is not null
    and q.id in
    (
      select A.id from (
      select max(id) as id, name 
      from quotas
      group by name) A
    )
    order by q.created_at desc
    limit 1000;', status) 
```

如果您以习惯于编写原始 SQL 的身份来到 Rails，那么使用这种语法可能比将一堆 ActiveRecord 方法串在一起更好——结果是一样的，所以这只是您发现什么更具可读性的问题。

顺便说一句，您不应该在 SQL 查询中使用字符串插值（即 #{variable} 语法）。使用 '？' 代替语法（参见我的示例）以避免 SQL 注入的可能性。

# wordpress - Wordpress 帖子分页

> ID：15019769
> 
> 赞同：2
> 
> 时间：2013-02-22T08:23:55.547
> 
> 标签：wordpress, post, pagination, custom-post-type

我正在 Wordpress 上创建一个网站，在我的网站中存在一个名为“新闻”的帖子类型。我要求的是我在一个页面中显示 5 个帖子，但我无法显示“下一页”按钮。如果有人可以提供帮助，我的代码如下。

```
<div class="row10 offset1">
    <div class="news">
        <?php
        $paged = (get_query_var('paged')) ? get_query_var('paged') : 1;
        $args = array( 'post_type' => 'news', 'posts_per_page' => 5, 'paged' => $paged );
        $loop = new WP_Query( $args );
        while ( $loop->have_posts() ) : $loop->the_post(); ?>

            <div class="row-fluid">
                <div class="well-small">
                    <?php   the_title();        ?>
                    <?php   the_content();      ?>
                    <?php  the_date("d.m.Y");     ?>
                </div>

            </div>
            <?php
            endwhile;
        ?>
    </div>
    <div class="pull-right">
        <ul class="pager">
            <li> <?php echo previous_posts_link();?></li>
            <li><?php echo next_posts_link();?></li>
        </ul>
    </div>
    <div class="clearfix"></div>
</div> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-24T15:37:49.910

我已经解决了我的问题，但我不知道它是怎么发生的。=) 我添加了 query_posts($args); 它工作正常。

```
<div class="span10 offset1">
    <div class="">
        <?php
        $paged = (get_query_var('paged')) ? get_query_var('paged') : 1;
        $args = array( 'post_type' => 'haber', 'posts_per_page' => 3, 'paged' => $paged );
        $loop = new WP_Query( $args );

        query_posts($args);  <--- I added this line and it worked --->

        while ( $loop->have_posts() ) : $loop->the_post(); ?>

            <div class="row-fluid">

                <div class="well-small">
                    <?php   the_title();       ?>
                    <?php   the_content();     ?>
                    <?php  the_date("d.m.Y");    ?>
                </div>

            </div>
            <?php
            endwhile;
        ?>
    </div>
    <div class="pull-right">
        <ul class="pager">
            <li> <?php previous_posts_link("Geri"); ?></li>
            <li> <?php next_posts_link("İleri"); ?></li>
        </ul>
    </div>
    <div class="clearfix"></div>
</div> 
```

# ember.js - Ember.js：如何重用另一条路线的控制器/视图

> ID：15019773
> 
> 赞同：2
> 
> 时间：2013-02-22T08:24:12.537
> 
> 标签：ember.js

我有完整的联系人编辑对话框。我现在想以最少的努力创建匹配的新联系人对话框。新对话框是相同的，除了模型初始化。

我有以下新路线：

```
App.ContactNewRoute = App.BaseEntityRoute.extend({
        init: function () {
            this._super();
            this.keyName = "contact_id";
            this.controllerRoute = "contact.new";
            this.datasource = App.contactDataSource.getNewContact;
        }
}); 
```

我如何告诉 ember 它应该为这条路线使用 ContactEditController 和 ContactEditView？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T09:45:36.847

如果你想重用这个类，为什么不尝试这样的事情呢？

```
App.ContactNewController = App.ContactEditController.extend();

App.ContactNewView = App.ContactEditView.extend(); 
```

Ember 现在根据其命名模式找到类，一切都应该没问题。但为什么你真的需要那个？您基本上是在使用新名称的新路线中镜像路线的所有部分，但所有其他组件（控制器、视图）保持不变？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T10:29:32.317

Ember mixin 也可以用于此： [http ://emberjs.com/api/classes/Ember.Mixin.html](http://emberjs.com/api/classes/Ember.Mixin.html)

# php - 如何将跨度标题分配给 php 变量？

> ID：15019774
> 
> 赞同：-1
> 
> 时间：2013-02-22T08:24:18.827
> 
> 标签：php, jquery, html

是否可以将跨度的标题分配给 php 变量？

我已将以下跨度添加到从数据库生成的表中：

```
while ($row = $database->fetch_array($result))
{
$i=1-$i;
$class = "row".$i;

echo "<tr class='{$class}' id='{$row['productId']}'>
<td > <span  class='productId' title='{$row['productId']}' >". $row['category']."</span></td>
<td >" . $row['productNo']. "</td>
<td>" . $row['productName'].  "</td>
<td class='edit'>" . intval($row['quantity']).  "</td>
 <td>" . $row['sfLf'].  "</td>
<td>".  $row['cost']. "</td>
<td>".  $row['total']."</td>
  </tr>";
} 
```

现在，当我单击该跨度时，我希望弹出以下 jQuery UI 并显示与从我的数据库中的另一个表中单击的行关联的数据：

```
$(document).ready( function () {
//first we fade in the form when the button is clicked
var dialog = $("#editInventory").dialog({
                                            autoOpen: false,
                                            title: "Add New Order",
                                            modal: true,
                                            width: 780,
                                            show:  { effect: 'drop',direction:"up",duration:1000 },
                                            hide:  { effect: 'drop',direction:"down",duration:1000 }, 
                                            buttons: {
                                                'Submit':function() {
                                                    submitForm($("#addNewInvoice"));
                                                    },
                                                'Cancel':function() {
                                                    $(this).dialog('close');
                                                        $("#container").fadeTo('slow',1);
                                                    }
                                            }
                                         });
$(".productId").click(function() {
    dialog.dialog('open');
    $("#container").fadeTo('slow',.4);

    return false;
});
}); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T08:30:02.290

不是直接的。浏览器中的 HTML 和服务器上的 PHP 之间的通信是通过 HTTP 和 GET 或 POST 使用链接或表单进行的。

您可以使用 JavaScript 从 span 元素中获取 title 属性，并使用一种 HTTP 方法将其发送到服务器。

或者，由于您的 HTML 很可能是从您的 PHP 提供的，您可以首先使用 PHP 变量来填充您的 SPAN 标题。这一切都取决于您的 HTML 是如何生成的。

* * *

**更新：**

现在的问题是关于从 jQuery 对话框中引用 span 元素的标题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T08:28:28.577

这是我的大脑在阅读您的问题时写的……我们只能猜测。

`<span title="<?php echo $myVariable ?>" class="myClass">Span Contents Here</span>`

# java - Class.forName(JDBC_DRIVER); 当代码相同时，仅在我的 2 个程序中的 1 个中工作。为什么？

> ID：15019778
> 
> 赞同：0
> 
> 时间：2013-02-22T08:24:26.330
> 
> 标签：java, mysql, jdbc

我有 1 个基本程序和 1 个应用程序，我的基本程序可以正常工作（DB_URL、USER、PASS、JDBC_DRIVER 都正确且功能正常），并且我能够从我的 MySQL 数据库中获取信息。代码包括：

```
try {
        // STEP 2: Register JDBC driver
        Class.forName(JDBC_DRIVER);

        // STEP 3: Open a connection
        conn = DriverManager.getConnection(DB_URL, USER, PASS);

        // STEP 4: Execute a query
        System.out.println("Creating statement...");
        stmt = conn.createStatement();
        String sql;
        sql = "SELECT distinct tags FROM items";
        ResultSet rs = stmt.executeQuery(sql);

        // STEP 5: Extract data from result set
        while (rs.next()) {

            // Retrieve by column name
            String itemRoles = rs.getString("tags");

            //Add it to the ArrayList.
            itemRolesList.add(itemRoles);

            // Display values
            System.out.print("TAGS: " + itemRoles + "\n");
        }

        // STEP 6: Clean-up environment
        rs.close();
        stmt.close();
        conn.close();

    } catch (SQLException se) {
        // Handle errors for JDBC
        se.printStackTrace();
    } catch (Exception e) {
        // Handle errors for Class.forName
        e.printStackTrace();
    } finally {
        // finally block used to close resources
        try {
            if (stmt != null)
                stmt.close();
        } catch (SQLException se2) {
        }// nothing we can do
        try {
            if (conn != null)
                conn.close();
        } catch (SQLException se) {
            se.printStackTrace();
        }// end finally try
    }// end try 
```

但是当我尝试将相同的代码应用于我的应用程序时（在我的 OnCreateView() 中的片段内）我得到这个：

```
"java.lang.ClassNotFoundException: com.mysql.jdbc.Driver" 
```

它在这行代码中：

```
Class.forName(JDBC_DRIVER); 
```

我添加了“mysql-connector-java-5.1.23-bin.jar”，它在我的程序和应用程序的参考库中。有谁知道为什么在我的应用程序中它给了我这个错误？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T08:39:17.180

确保您的类路径中有驱动程序 jar。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T09:00:04.603

Please verify that you have jar file inside lib folder is not the empty jar file.sometime during wrong confuguration it shows a empty jar file. please go to project properties-->buildpath-->libraries Check out the jar file you have added is not blank.

# xcode - 在 ios mapview 中获取注释 id 或引用

> ID：15019780
> 
> 赞同：0
> 
> 时间：2013-02-22T08:24:36.267
> 
> 标签：xcode, map, annotations, mkmapview, callout

我在函数中绘制了一些注释，`viewdidload`我想按下一个按钮，我想要标注的注释会自动显示出来。功能是

```
[mapView selectAnnotation:self.annotation animated:YES]; 
```

但是我遇到了一些`self.annotation`无法通过编译器检查的问题，我不知道如何解决。

谁能帮我？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T19:44:40.797

你`self`的视图控制器是？它有一个叫做注解的属性吗？

# html - 谁能告诉我为什么引导下拉菜单不起作用

> ID：15019785
> 
> 赞同：1
> 
> 时间：2013-02-22T08:24:57.403
> 
> 标签：html, css, twitter-bootstrap

我正在使用引导框架并试图复制[http://twitter.github.com/bootstrap/examples/hero.html](http://twitter.github.com/bootstrap/examples/hero.html) 谁能告诉我为什么下拉菜单不起作用。示例中的下拉菜单不适用于我的代码，我已经包含了正确的样式和 js！和另一种风格正在工作，所以认为这不是风格的问题，任何帮助将不胜感激

```
<!DOCTYPE html>
<html>
<head>
    <style type="text/css">
      body {
        padding-top: 60px;
        padding-bottom: 40px;
      }
    </style>
    <meta charset="utf-8">
        <title> The first step</title>
        <link rel="stylesheet" href="css/bootstrap.min.css"> 
</head>

<body>
<div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="brand" href="#">Project name</a>
          <div class="nav-collapse collapse">
            <ul class="nav">
              <li class="active"><a href="#">Home</a></li>
              <li><a href="#about">About</a></li>
              <li><a href="#contact">Contact</a></li>
              <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Dropdown <b class="caret"></b></a>
                <ul class="dropdown-menu">
                  <li><a href="#">Action</a></li>
                  <li><a href="#">Another action</a></li>
                  <li><a href="#">Something else here</a></li>
                  <li class="divider"></li>
                  <li class="nav-header">Nav header</li>
                  <li><a href="#">Separated link</a></li>
                  <li><a href="#">One more separated link</a></li>
                </ul>
              </li>
            </ul>
            <form class="navbar-form pull-right">
              <input class="span2" type="text" placeholder="Email">
              <input class="span2" type="password" placeholder="Password">
              <button type="submit" class="btn">Sign in</button>
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>
<hr>
      <footer>
        <p>&copy; Company 2013</p>
      </footer
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js
"></script>
    <script src="js/bootstrap.min.js"></script>

</body>
</html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T09:23:41.490

@bana 关闭页脚关闭标签

像这样编辑您的脚本参考

```
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T08:41:31.113

我以前使用过以下在线实用程序，它对我有用。它是免费的，快捷。我创建了一个示例下拉菜单，然后检查了应用于我的网站的代码。祝你好运。

[CSS 菜单制作工具](http://cssmenumaker.com)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T09:32:02.010

通过以下方式使用 css 和 js 文件：[使用云托管的引导 css 和 js 检查 Jsfiddle 示例](http://jsfiddle.net/shail/T94nA/2/)
此外，您在页面中使用了错误版本的 Jquery，它必须是

```
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script> 
```

html 应如下所示：

```
<!DOCTYPE html>
   <html>
    <head>
      <style type="text/css">
         body {
         padding-top: 60px;
         padding-bottom: 40px;
           }
        </style>
      <meta charset="utf-8">
      <title> The first step</title>
      <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.0/css/bootstrap-combined.min.css" rel="stylesheet">

      <link href="//netdna.bootstrapcdn.com/font-awesome/3.0.2/css/font-awesome.css" rel="stylesheet">
        </head> 
```

在页脚中：

```
<script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.0/js/bootstrap.min.js"></script> 
```

# java - 等效的 SWTTreeNode API

> ID：15019793
> 
> 赞同：0
> 
> 时间：2013-02-22T08:25:54.733
> 
> 标签：java, swing, swt, jface

请让我知道下面提到的 Swing API 是否有任何等效的 SWT Tree API

```
import javax.swing.tree.DefaultMutableTreeNode;
import javax.swing.tree.DefaultTreeModel; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T11:09:06.500

与它们最接近的等价物是[`TreeNodeContentProvider`](http://help.eclipse.org/indigo/index.jsp?topic=/org.eclipse.platform.doc.isv/reference/api/org/eclipse/jface/viewers/TreeNodeContentProvider.html)和[`TreeNode`](http://help.eclipse.org/indigo/index.jsp?topic=/org.eclipse.platform.doc.isv/reference/api/org/eclipse/jface/viewers/TreeNode.html)，但我将实现您自己的内容提供程序（正如我建议`TreeModel`在 Swing 中实现的那样）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T01:08:20.643

我嵌入了 swt-swing 以从 DB 中填充树值，现在解决方案是 wrkng。

```
 Composite composite_tree = new Composite(unitPriceChngeComposite12, SWT.EMBEDDED);
                      composite_tree.setBounds(20, 207, 230, 398);

                      Frame frame = SWT_AWT.new_Frame(composite_tree);

                      Panel panel = new Panel();
                      frame.add(panel);
                      panel.setLayout(new BorderLayout(0, 0));

                      JRootPane rootPane = new JRootPane();
                      panel.add(rootPane);

                      tree_unitPrice = new JTree();
                      rootPane.getContentPane().add(tree_unitPrice, BorderLayout.NORTH); 
```

# android - Android：默认区域设置语言“hd”

> ID：15019800
> 
> 赞同：1
> 
> 时间：2013-02-22T08:26:29.453
> 
> 标签：android, locale

我使用 Locale.getDefault.getDisplayLanauge() 来获取语言代码，但我得到了“hd”。我不知道它是什么。我想它应该是“en”。

有人可以给我一个提示，为什么它默认为“hd”，这是什么意思？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T12:08:36.770

我有同样的问题。您正在制作自己的 Android 版本吗？

当您使用屏幕密度作为 PRODUCT_LOCALES 的第一个参数时，就会发生这种情况。在我的产品 mk 文件中，PRODUCT_LOCALES 的第一个参数是 hdpi。我把它移到最后，现在一切正常。您可能遇到与我完全相同的问题。Android 构建过程采用 PRODUCT_LOCALES 中第一个单词的前两个字母并将它们存储为默认语言。如果你有，像我一样，hdpi Android 将“hd”作为默认语言！

我还在 Android makefile 中找到了这条评论，它完美地解释了这个问题：

屏幕密度实际上被认为是一种语言环境（因为它考虑了资源的构建时选择）。包含此文件的产品定义必须注意，最终 PRODUCT_LOCALES 扩展中的第一个条目不能是密度。

# javascript - 我应该取消绑定事件侦听器以防止内存泄漏吗？

> ID：15019801
> 
> 赞同：1
> 
> 时间：2013-02-22T08:26:31.660
> 
> 标签：javascript, jquery, memory, memory-management, memory-leaks

这是我的代码：

```
// array of image data
var images = [
   {
      url: 'image.jpg'
   }
];

// function that loads image
var loadImage = function(imageObject) {
    imageObject.img = $('<img src="'+imageObject.url+'"/>').error(function() {
       // error event handler, that might not always fire
       imageObject.img.remove();
       imageObject.notLoaded = true;
    });
};

loadImage(images[0]); 
```

我的问题是如何清理图像数组？如果我分配 `images = null;`，这会清理所有图像的内存吗？我应该取消绑定“错误”处理程序吗？

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T08:38:41.977

与 C/C++（和其他）不同，JavaScript 负责内存管理和垃圾收集。当然，删除不必要的数据会释放浏览器/服务器使用的一些资源，并且可能会稍微提高整体性能，但这不是强制性的，如果您忘记它也不会发生内存泄漏。

要清理数组，您可以设置`images.length = 0`. `images`将是一个空数组`[]`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-11-08T08:05:48.473

我参加聚会可能为时已晚，但我自己偶然发现了这个问题。@oleq 的回复是正确的，但前提是这是 Vanilla JS。

jQuery 1.x 将所有事件保存在`jQuery.cache`对象中，因此您需要取消绑定它以将其从那里移除。

# html - Jquery没有被调用

> ID：15019802
> 
> 赞同：1
> 
> 时间：2013-02-22T08:26:32.703
> 
> 标签：html, jquery

首先这是我的代码

好的，我的问题是，当尝试使用注册表单时，它不会调用代码。

我已经检查了好几次，似乎找不到我在同一页面上使用登录脚本的问题，这似乎很好。

登录.js

```
$(function() {

    // Expand
    $("#open").click(function(){
        $("div#panel").slideDown("slow");

    }); 

    // Collapse
    $("#close").click(function(){
        $("div#panel").slideUp("slow"); 
    });     

    // Change Text
    $("#toggle a").click(function () {
        $("#toggle a").toggle();
    });     

// Login proccess Start
  $('.error').hide();
   $(".bt_login").click(function() {
      // validate input
      $('.error').hide();
      var username = $("input#username").val();
        if (username == "") {
        $("label#username_error").show();
        $("input#username").focus();
        return false;
      }

        var password = $("input#password").val();
        if (password == "") {
        $("label#password_error").show();
        $("input#password").focus();
        return false;
      }
      var rememberMe = $("input#rememberMe").val();

// correct data sent
  var dataString = 'username='+ username + '&password=' + password + '&submit=Login' + '&rememberMe=' + rememberMe;
  alert (dataString);return false;
  $.ajax({
    type: "POST",
    url: "../../inc/files/login.php",
    data: dataString,
    success: function() {

  return false;
    },
    error: function(XMLHttpRequest, textStatus, errorThrown) {
      $('#login_form').html("<div id='message'></div>");
      $('#message').html("<h2>!</h2>")
      .append("<p>Error Details; <br /> Status: ", textStatus, " <br /> Error thrown: ", errorThrown,"</p>")
      .hide()
      .fadeIn(1500, function() { 
      $('#message').append("<img id='cross' src='images/cross.png' />"); 
      }); 
  return false;;
}
  });
    });

// End login proccess

//Registration Process start

  $("bt_register").click(function() {
      // validate inpu
      $('.error').hide();
      var username2 = $("input#username2").val();
        if (username2 == "") {
        $("label#username2_error").show();
        $("input#username2").focus();
        return false;
      }
//      var re = new RegExp("/[^a-z0-9\-\_\.]+/i");
//      if(re.test(username2) = true) {
//      $("label#username2_error2").show();
//        $("input#username2").focus();
//        return false;
//    }
        var password2 = $("input#password2").val();
        if (password2 == "") {
        $("label#password2_error").show();
        $("input#password2").focus();
        return false;
      }
      var email = $("input#email").val();
        if (password == "") {
        $("label#email_error").show();
        $("input#email").focus();
        return false;
      }

// correct data sent
  var dataString = 'username='+ username2 + '&password=' + password2 + '&submit=Register' + '&email=' + email;
  alert (dataString);return false;
  $.ajax({
    type: "POST",
    url: "../../inc/files/login.php",
    data: dataString,
    success: function() {

  return false;
    },
    error: function(XMLHttpRequest, textStatus, errorThrown) {
      $('#reg_form').html("<div id='message'></div>");
      $('#message').html("<h2>!</h2>")
      .append("<p>Error Details; <br /> Status: ", textStatus, " <br /> Error thrown: ", errorThrown,"</p>")
      .hide()
      .fadeIn(1500, function() { 
      $('#message').append("<img id='cross' src='images/cross.png' />"); 
      }); 
return false;
   }

});

  });
}); 
```

调用 Jquery 的 html 表单

```
<div id="reg_form">
    <form class="clearfix" action="" >
        <h1>Register Here!</h1>             
        <label class="grey" for="username">Username:</label>
        <input class="text-input" type="text" name="username2" id="username2" value="" size="23" />
        <label class="error" for="username2" id="usernamename2_error">This field is required.</label> 
        <label class="error" for="username2" id="usernamename2_error2">Your username contains invalid characters!</label>
        <label class="grey" for="email">Email:</label>
        <input class="text-input" type="text" name="email" id="email" size="23" />
        <label class="error" for="email" id="email_error">This field is required.</label> 
        <label class="grey" for="password2">Password:</label>
        <input class="text-input" type="password" name="password2" id="password2" size="23" />
        <label class="error" for="password2" id="password2_error">This field is required.</label> 
        <input type="submit" name="submit" value="Register" class="bt_register" />
    </form>
</div> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T08:31:49.967

**改变**

```
$("bt_register").click(function() { 
```

**到**

```
$(".bt_register").click(function(event) {
    event.preventDefault(); 
```

第二个错误是`if (password == "") {`因为对于`.bt_register`单击事件，您没有定义`password`变量。

您可以做的是定义`var password;`为`global`每个点击事件函数都可以使用它。

**我在这里修改了您的代码，这就是我所做的并且正在警告传递的字符串。**

```
<script type="text/javascript" src="js/jquery.js"></script>
<script type="text/javascript">

$(function()
{
    var password;
    $("#open").click(function()
    {
        $("div#panel").slideDown("slow");
    }); 

    $("#close").click(function()
    {
        $("div#panel").slideUp("slow"); 
    });     

    $("#toggle a").click(function ()
    {
        $("#toggle a").toggle();
    });     

    $('.error').hide();

    // Start login proccess

    $(".bt_login").click(function(event)
    {
        event.preventDefault();
        $('.error').hide();

        var username = $("input#username").val();
        if (username == "")
        {
            $("label#username_error").show();
            $("input#username").focus();
            return false;
        }

        password = $("input#password").val();

        if (password == "")
        {
            $("label#password_error").show();
            $("input#password").focus();
            return false;
        }
        var rememberMe = $("input#rememberMe").val();

        var dataString = 'username='+ username + '&password=' + password + '&submit=Login' + '&rememberMe=' + rememberMe;
        alert (dataString);return false;

        $.ajax(
        {
            type: "POST",
            url: "../../inc/files/login.php",
            data: dataString,
            success: function()
            {
                return false;
            },
            error: function(XMLHttpRequest, textStatus, errorThrown)
            {
                $('#login_form').html("<div id='message'></div>");
                $('#message').html("<h2>!</h2>").append("<p>Error Details; <br /> Status: ", textStatus, " <br /> Error thrown: ", errorThrown,"</p>").hide().fadeIn(1500, function() { 
                    $('#message').append("<img id='cross' src='images/cross.png' />"); 
                }); 
                return false;;
            }
        });
    });

    // End login proccess

    //Registration Process start

    $(".bt_register").click(function(event)
    {
        event.preventDefault();
        // validate inpu
        $('.error').hide();
        var username2 = $("input#username2").val();

        if (username2 == "")
        {
            $("label#username2_error").show();
            $("input#username2").focus();
            return false;
        }

        var password2 = $("input#password2").val();
        if (password2 == "")
        {
            $("label#password2_error").show();
            $("input#password2").focus();
            return false;
        }

        var email = $("input#email").val();
        if (password == "")
        {
            $("label#email_error").show();
            $("input#email").focus();
            return false;
        }

        // correct data sent
        var dataString = 'username='+ username2 + '&password=' + password2 + '&submit=Register' + '&email=' + email;
        alert (dataString);return false;

        $.ajax(
        {
            type: "POST",
            url: "../../inc/files/login.php",
            data: dataString,
            success: function()
            {
                return false;
            },
            error: function(XMLHttpRequest, textStatus, errorThrown)
            {
                $('#reg_form').html("<div id='message'></div>");
                $('#message').html("<h2>!</h2>").append("<p>Error Details; <br /> Status: ", textStatus, " <br /> Error thrown: ", errorThrown,"</p>").hide().fadeIn(1500, function()
                {
                    $('#message').append("<img id='cross' src='images/cross.png' />"); 
                }); 
                return false;
            }
        });

    });
});

</script>
<div id="reg_form">
    <form class="clearfix" action="" >
        <h1>Register Here!</h1>             
        <label class="grey" for="username">Username:</label>
        <input class="text-input" type="text" name="username2" id="username2" value="" size="23" />
        <label class="error" for="username2" id="usernamename2_error">This field is required.</label> 
        <label class="error" for="username2" id="usernamename2_error2">Your username contains invalid characters!</label>
        <label class="grey" for="email">Email:</label>
        <input class="text-input" type="text" name="email" id="email" size="23" />
        <label class="error" for="email" id="email_error">This field is required.</label> 
        <label class="grey" for="password2">Password:</label>
        <input class="text-input" type="password" name="password2" id="password2" size="23" />
        <label class="error" for="password2" id="password2_error">This field is required.</label> 
        <input type="submit" name="submit" value="Register" class="bt_register" />
    </form>
</div>
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T08:42:40.127

相反`i suggest you to do this with submit form`：

```
$("#reg_form").children('form').submit(function (e) {
    e.preventDefault(); //<------------stops the submission
    // validate inpu
    $('.error').hide();
    var username2 = $("input#username2").val();
    if (username2 == "") {
        $("label#username2_error").show();
        $("input#username2").focus();
        return false;
    }

    var password2 = $("input#password2").val();
    if (password2 == "") {
       $("label#password2_error").show();
       $("input#password2").focus();
       return false;
     }

     var email = $("input#email").val();
     if (password == "") {
       $("label#email_error").show();
       $("input#email").focus();
       return false;
     }

     // correct data sent
     var dataString = $(this).serialize();
     alert(dataString);

     $.ajax({
        type: "POST",
        url: "../../inc/files/login.php",
        data: dataString,
        success: function () {
           alert('success.');
        },
        error: function (XMLHttpRequest, textStatus, errorThrown) {
          $('#reg_form').html("<div id='message'></div>");
          $('#message').html("<h2>!</h2>")
              .append("<p>Error Details; <br /> Status: ", textStatus, " <br /> Error thrown: ", errorThrown, "</p>")
              .hide()
              .fadeIn(1500, function () {
                  $('#message').append("<img id='cross' src='images/cross.png' />");
              });
              return false;
        }

    });
 }); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T10:44:32.803

好的，我认为您的 var dataString 格式不正确

你可以试试这个语法

```
data: '{LiveID: "' + Live_ID + '", CategoryID: "' + Category_ID + '"}', 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-02-22T08:34:32.103

这让我可以创建一个标签并将其链接到一个预定义的函数。将函数包含在文档正文中和标签之前。

```
<label class="error" for="username2" id="usernamename2_error2">Your username contains invalid characters! 
```

功能（打开）

# python - Grab 无法连接服务器中的强制 SSLv3

> ID：15019804
> 
> 赞同：0
> 
> 时间：2013-02-22T08:26:37.803
> 
> 标签：python, urllib

我正在尝试使用抓取（版本 0.4.8）连接“ [https://myvodafone.vodafone.in/myvodafoneselfcare/jsp/commons/login.jsp ”。](https://myvodafone.vodafone.in/myvodafoneselfcare/jsp/commons/login.jsp)我收到以下错误。

```
ERROR:in_vodafone:17162:375: (<class 'grab.error.GrabNetworkError'>, GrabNetworkError(35, 'error:140773E8:SSL routines:SSL23_GET_SERVER_HELLO:reason(1000)'), <traceback object at 0x10277cb00>)
DEBUG:in_vodafone:17162:Traceback (most recent call last):
  File "in_vodafone.py", line 308, in download
    g.go('http://www.vodafone.in/pages/myvodafone.aspx')
  File "/opt/local/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/grab-0.4.7-py2.7.egg/grab/base.py", line 306, in go
    return self.request(url=url, **kwargs)
  File "/opt/local/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/grab-0.4.7-py2.7.egg/grab/base.py", line 384, in request
    self.transport.request()
  File "/opt/local/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/grab-0.4.7-py2.7.egg/grab/transport/curl.py", line 345, in request
    raise error.GrabNetworkError(ex[0], ex[1])
GrabNetworkError: [Errno 35] error:140773E8:SSL routines:SSL23_GET_SERVER_HELLO:reason(1000) 
```

我的脚本包含以下代码：

```
from grab import Grab
g = Grab()
g.setup(hammer_mode = True, hammer_timeouts = ((100, 200), (300, 400), (500, 600)))
g.go('https://myvodafone.vodafone.in/myvodafoneselfcare/jsp/commons/login.jsp') 
```

我发现在[http://bugs.python.org/issue11220](http://bugs.python.org/issue11220)中有一个 urllib 的解决方案来解决这个问题。如何将此解决方案与抓取实用程序一起使用？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T08:24:59.073

我找到了以下解决方案，并且效果很好。

```
from grab import Grab
import pycurl

g = Grab()
g.transport.curl.setopt(pycurl.SSLVERSION, 3)
g.setup(hammer_mode = True, hammer_timeouts = ((100, 200), (300, 400), (500, 600)))
g.go('https://myvodafone.vodafone.in/myvodafoneselfcare/jsp/commons/login.jsp') 
```

# python - Python字典单词搜索/创建者？

> ID：15019807
> 
> 赞同：-3
> 
> 时间：2013-02-22T08:26:53.687
> 
> 标签：python, search, word

我有 .txt 文件，其中包含一个充满单词的字典；现在我想输入几个字母并在字典中找到由这些字母组成的每个单词。

ig 我输入字母“D，D，A”，程序搜索文本文件并返回所有可以使用这些字母组成的单词，在这种情况下，它应该返回诸如“A，AD，ADD，DAD”之类的单词”。

谁能告诉我如何做到这一点。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T08:39:07.383

你可以做类似的事情

```
In [242]: mylist = ['D', 'D', 'A']

In [243]: l = []

In [244]: for i in range(1, len(mylist)+1):
   .....:     for x in list(itertools.permutations(mylist, i)):
   .....:         l.append(''.join(x))
   .....:

In [245]: set(l)
Out[245]: set(['A', 'DAD', 'D', 'DD', 'DA', 'ADD', 'DDA', 'AD']) 
```

然后对于集合中的每个项目，在文本文件中搜索它是否是有效单词

# c++ - 需要算法来找到第 n 个回文数

> ID：15019817
> 
> 赞同：5
> 
> 时间：2013-02-22T08:27:31.123
> 
> 标签：c++, algorithm, palindrome

考虑到

```
 0 -- is the first
    1 -- is the second
    2 -- is the third
    .....
    9 -- is the 10th
    11 -- is the 11th 
```

什么是找到第 n 个回文数的有效算法？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-02-22T08:54:22.467

我假设 0110 不是回文，因为它是 110。

我可以花很多话来描述，但这张表应该足够了：

```
#Digits #Pal. Notes
   0     1     "0" only
   1     9     x     with x = 1..9
   2     9     xx    with x = 1..9
   3    90     xyx   with xy = 10..99 (in other words: x = 1..9, y = 0..9)
   4    90     xyyx  with xy = 10..99
   5   900     xyzyx with xyz = 100..999
   6   900     and so on... 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-09-12T03:22:33.210

偶数位数的（非零）回文数从 开始`p(11) = 11, p(110) = 1001, p(1100) = 100'001,...`。它们是通过获取索引`n - 10^L`、 where`L=floor(log10(n))`并附加此数字的反转来构造的：`p(1101) = 101|101, p(1102) = 102|201, ..., p(1999) = 999|999, etc`。对于索引，必须考虑这种情况`n >= 1.1*10^L but n < 2*10^L`。

当 时`n >= 2*10^L`，我们得到具有奇数位数的回文串，它以 开头`p(2) = 1, p(20) = 101, p(200) = 10001 etc.`，并且可以以相同的方式构造，再次使用`n - 10^L with L=floor(log10(n))`，并附加该数字的反转，**现在没有最后一位数字**: `p(21) = 11|1, p(22) = 12|1, ..., p(99) = 89|8, ...`。

当 时，从 L 中减去 1 以在奇数位数的情况下`n < 1.1*10^L`处于正确的设置中。`n >= 2*10^L`

这产生了简单的算法：

```
p(n) = { L = logint(n,10);
         P = 10^(L - [1 < n < 1.1*10^L]); /* avoid exponent -1 for n=1 */
         n -= P; 
         RETURN( n * 10^L + reverse( n \ 10^[n >= P] ))
       } 
```

如果 ... 为真，则 [...] 为 1，否则为 0，\ 是整数除法。（表达式`n \ 10^[...]`等价于：`if ... then n\10 else n`。）

（我在指数中添加了条件 n > 1 以避免 P = 10^(-1) for n=0。如果您使用整数类型，则不需要这个。另一个选择是放置 max(..., 0) 作为 P 中的指数，或者`if n=1 then return(0)`在开始时使用。另外请注意，在分配 P 之后您不需要 L，因此您可以对两者使用相同的变量。）

# metadata - elasticsearch中Master节点网关和其他节点网关有什么区别？它们都存储元数据，不是吗？

> ID：15019821
> 
> 赞同：12
> 
> 时间：2013-02-22T08:27:46.340
> 
> 标签：metadata, elasticsearch, gateway

elasticsearch中Master节点网关和其他节点网关有什么区别？它们都存储元数据，不是吗？元数据，elasticsearch称为，我们可以从中得到什么信息？

* * *

## 回答 #1

> 赞同：39
> 
> 时间：2013-02-22T11:10:45.173

主节点与集群中的任何其他节点相同，只是它已被选为主节点。

它负责协调任何集群范围的更改，例如节点的添加或删除、索引的创建、删除或状态更改（即打开/关闭）以及分片到节点的分配。当任何这些更改发生时，“集群状态”会由主节点更新并发布到集群中的所有其他节点。它是唯一可以发布新集群状态的节点。

Master 执行的任务是轻量级的。任何处理数据的任务（例如索引、搜索等）都不需要主控。如果您选择将主节点作为非数据节点运行（即充当主节点和路由器的节点，但不包含任何数据），那么主节点可以在一个小盒子上愉快地运行。

如果节点被标记为“主节点合格”（默认情况下所有节点都是），则允许节点成为主节点。如果当前的 master 宕机，集群将选举一个新的 master。

集群中的一个重要配置选项是`minimum_master_nodes`. 这指定了节点必须能够看到的“主合格”节点的数量才能成为集群的一部分。其目的是避免“脑裂”，即将集群分成两个集群，这两个集群都认为它们运行正常。

例如，如果您有 3 个节点，所有这些节点都是 master 合格的，并且设置`minimum_master_nodes`为 1，那么如果第三个节点与其他两个节点分开，它仍然会看到一个 master-eligible 节点（本身）并认为它可以自己形成一个集群。

相反，`minimum_master_nodes`在这种情况下设置为2（节点数/ 2 + 1），那么如果第三个节点分离，它将看不到足够的主节点，因此不会自行形成集群。它将继续尝试加入原始集群。

虽然 Elasticsearch 非常努力地选择正确的默认值，`minimum_master_nodes`但无法猜测，因为它无法知道您打算运行多少个节点。这是您必须自己配置的内容。

# android - ABS：ViewPager、FragmentStatePager 适配器、SherlockListFragment 和菜单

> ID：15019822
> 
> 赞同：0
> 
> 时间：2013-02-22T08:27:47.707
> 
> 标签：android, menu, actionbarsherlock, fragment, oncreateoptionsmenu

据我了解，在正常的 FragmentActivity / ViewPager / FragmentStatePagerAdapter 情况下，onCreateOptionsMenu 应该由 ListFragment 处理......但是在 ActionBarSherlock 扩展 FragmentActivity 和 ListFragment 类的情况下呢？

我很难让 onCreateOptionsMenu 在 SherlockListFragment 中工作：

1.  onCreateOptionsMenu 的 ABS 版本是布尔值，而不是 void。
2.  ABS 版本的 onCreateOptionsMenu 省略了 MenuInflater 作为参数
3.  在 SherlockListFragment.onCreateOptionsMenu 中实例化 MenuInflater 是一个问题（“Inflater 无法解析为一种类型”）。

如果有人能告诉我我做错了什么，我将不胜感激......

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T08:41:27.830

您绝对应该能够覆盖`void onCreateOptionsMenu(Menu menu, MenuInflater inflater)`. `SherlockListFragment`我过去曾遇到过导入错误的问题`MenuInflater`。这可能是出了什么问题吗？您想导入`com.actionbarsherlock.view.MenuInflater`而不是`android.view.MenuInflater`.

另外，使用ABS时一定要使用`getSupportMenuInflater`over 。`getMenuInflater`

# jquery - 切换动画

> ID：15019828
> 
> 赞同：0
> 
> 时间：2013-02-22T08:28:18.613
> 
> 标签：jquery, jquery-animate, toggle

当用户单击如下链接时，我正在尝试切换动画：

CSS

```
.men{
    background: url("../img/men4.jpg") no-repeat scroll 16% 0 transparent;
    height: 600px;
    left: 0;
    position: absolute;
    width: 50%;
}

.women{
    background: url("../img/women1.jpg") no-repeat scroll 84% 0 transparent;
    height: 600px;
    position: absolute;
    right: 0;
    width: 50%;
} 
```

HTML

```
 <div class="men">
    </div> 
    <div class="women">
    </div> 
    <a href="#" class="openmen">Men</a>
    <a href="#" class="openwomen">Women</a> 
```

查询

```
$("a.openwomen").click(function(event){
                event.preventDefault();
            $('.women').animate({width:"80%"}); 
            $('.men').animate({width:"20%"});   
            $('.men').animate({opacity: 0.5}, 500); 
            $('.women').animate({opacity: 1}, 500);
        }); 
```

但我不太确定如何去做，我希望当他们再次点击时它恢复到原来的状态。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T08:33:26.540

您是否尝试过阅读 JQuery API 文档？

[jQuery API](http://api.jquery.com/toggle/)

他们向您展示了一个简单的示例，说明如何使用工具而不是自己为每个组件制作动画。/ ***** ** *** ** *** ** *** ** *** ** *** ** *** ** *** ** *** ** *** ** *** ** *** ** *** ** *** ** *** ** *** ** *** ***** /

你为什么不试试这样的东西？

```
 <!DOCTYPE html>
      <html>
        <head>
         <style>
           div { background:#dad;
           font-weight:bold;
           font-size:16px; }
         </style>
         <script src="http://code.jquery.com/jquery-latest.js"></script>
        </head>
        <body>
        <a href="#">Toggle 'em</a>     
        <div class="toggle_class">Hiya</div>
        <div class="toggle_class">Such interesting text, eh?</div>
        <script>
        $("a").click(function () {
        $(".toggle_class").toggle("slow");
        });
        </script>
        </body>
      </html> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T08:38:15.823

尝试这个：

```
var toggle=1;
$(function() {
    $("a.openwomen").click(function(event){
        event.preventDefault();
        if(toggle==1)
        {
            $('.women').animate({width:"80%"}); 
            $('.men').animate({width:"20%"});   
            $('.men').animate({opacity: 0.5}, 500); 
            $('.women').animate({opacity: 1}, 500);
        }
        else
        {
            $('.women').animate({width:"50%"}); 
            $('.men').animate({width:"50%"});   
            $('.men').animate({opacity: 0}, 500); //change opacity here as you want
            $('.women').animate({opacity: 0}, 500); //change opacity here as you want
        }
        toogle=(toggle==1) ? 2 : 1;
    });
}); 
```

更多关于动画[http://api.jquery.com/animate/](http://api.jquery.com/animate/)

# python - 检查对象是数字还是布尔值

> ID：15019830
> 
> 赞同：55
> 
> 时间：2013-02-22T08:28:31.020
> 
> 标签：python, python-2.7

> 设计一个等效于以下语句的逻辑表达式：
> 
> `x`是一个由三个或五个元素组成的列表，其中第二个元素是字符串`'Hip'`，而第一个元素不是数字或布尔值。

是）我有的：

```
x = ['Head', 'Hip', 10]
print x[1] is 'Hip' 
```

我的问题：你如何检查它是布尔值还是数字？

* * *

## 回答 #1

> 赞同：73
> 
> 时间：2013-02-22T08:33:49.087

要回答具体问题：

```
isinstance(x[0], (int, float)) 
```

这将检查是否`x[0]`是 tuple 中任何类型的实例`(int, float)`。

你也可以`bool`在那里添加，但这不是必需的，因为`bool`它本身就是`int`.

文档参考：

*   [`isinstance()`](http://docs.python.org/2/library/functions.html#isinstance)
*   [内置数字类型](http://docs.python.org/2/library/stdtypes.html#numeric-types-int-float-long-complex)

* * *

要评论您当前的代码，您不应该依赖[短字符串的实习](http://en.wikipedia.org/wiki/String_interning)。您应该将字符串与`==`运算符进行比较：

```
x[1] == 'Hip' 
```

* * *

## 回答 #2

> 赞同：39
> 
> 时间：2016-01-05T13:51:47.940

最简单的我会说：

```
type(x) == type(True) 
```

* * *

## 回答 #3

> 赞同：32
> 
> 时间：2016-08-02T07:54:28.320

在 python3 中，这将是：`type(x)==bool`参见[示例](http://www.diveintopython3.net/porting-code-to-python-3-with-2to3.html)。

* * *

## 回答 #4

> 赞同：14
> 
> 时间：2015-09-25T20:38:20.183

蟒蛇2

```
import types

x = False
print(type(x) == types.BooleanType) # True 
```

蟒蛇 3

```
# No need to import types module
x = False
print(type(x) == bool) # True 
```

* * *

## 回答 #5

> 赞同：5
> 
> 时间：2018-07-09T18:22:58.417

您应该将类​​型`x`与`bool`类进行比较：

```
type(x) == bool 
```

或者：

```
type(x) == type(True) 
```

这是有关[类型方法的更多信息](https://docs.python.org/3/library/functions.html#type)

来自[数据模型文档](https://docs.python.org/3/reference/datamodel.html)：

> 布尔值 (bool)
> 
> 这些代表真值 False 和 True。表示值 False 和 True 的两个对象是唯一的布尔对象。布尔类型是整数类型的子类型，布尔值在几乎所有上下文中的行为分别类似于值 0 和 1，例外是当转换为字符串时，返回字符串“False”或“True” ， 分别。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2019-05-15T15:27:11.853

我按照最近的回答谁告诉使用，根据验证`type`，这似乎是不正确的方法：`pylint`

我收到消息：

> C0123：使用 type() 而不是 isinstance() 进行类型检查。（单一类型检查）

即使这是一个旧答案，正确的答案是@Lev Levitsky 的公认答案：

```
isinstance(x[0], (int, float)) 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2020-10-15T01:04:21.887

我喜欢让它简单易读。这将接受 bool、string、number 并将其读入 bool

```
def var2bool(v):
if type(v) == type(True):
    res = v
elif type(v) == type(0):
    if v == 0:
        res = False
    else:
        res = True
elif v.lower() in ("yes", "true", "t", "1"):
    res = True
else:
    res = False
return res 
```

# android - 如何在android中通过ThreadID获取所有消息

> ID：15019836
> 
> 赞同：6
> 
> 时间：2013-02-22T08:28:57.577
> 
> 标签：android, sms, mms

我尝试使用 uri：content://mms-sms/conversations/{threadId} 通过线程 id 获取所有消息，但它似乎不起作用并引发异常：

> java.lang.NullPointerException
> 
>          在 android.os.Parcel.readException（Parcel.java:1333）
> 
>          在 android.database.DatabaseUtils.readExceptionFromParcel(DatabaseUtils.java:182)
> 
>          在 android.database.DatabaseUtils.readExceptionFromParcel(DatabaseUtils.java:136)
> 
>          在 android.content.ContentProviderProxy.query(ContentProviderNative.java:358)
> 
>          在 android.content.ContentResolver.query(ContentResolver.java:311)
> 
> ```
>  ........ 
> ```

但是，当我将其更改为 content://sms/conversations/{threadId} 时，它不会抛出这些，但仅适用于 sms，不适用于 mms。

为什么？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-13T20:32:31.693

sms 和 mms 表有不同的列，正确的方法是单独获取每个表，即

```
Cursor smsCur = cr.query(Uri.parse("content://sms/"), null,  "thread_id=" + threadId, null, null);
Cursor mmsCur = cr.query(Uri.parse("content://mms/"), null,  "thread_id=" + threadId, null, null); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-02-11T07:47:40.587

上面的代码显示了这样的语法错误，所以我这样改变了。

```
 Cursor c= getContentResolver().query(Uri.parse("content://sms/"), null,  "thread_id=" + messgid, null, null); 
```

这对我来说可以

# erlang - 订购表格后返回表格ID

> ID：15019839
> 
> 赞同：-1
> 
> 时间：2013-02-22T08:29:16.007
> 
> 标签：erlang

我有表用户

```
-record(user, {id, firstname,lastname). 
```

该表具有例如此值

```
3  alen      dumas
5  franco    mocci
4  soma      nabi 
```

我要订这张桌子

尝试使用此代码：

```
test()->
    Select = [{#user{_ = '_'}, [], ['$_']}],
Sorted = lists:sort(mnesia:dirty_select(user, Select)),
erlang:hd(lists:reverse(Sorted)). 
```

它返回：

```
 5  franco    mocci 
```

但我的目标是只返回**ID**

所以我应该修改函数**测试**以返回 **5**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T16:44:32.643

将最后一行更改为 `(erlang:hd(lists:reverse(Sorted)))#user.id.`

# c# - 图形用户界面忙消息

> ID：15019848
> 
> 赞同：1
> 
> 时间：2013-02-22T08:30:10.113
> 
> 标签：c#, winforms, user-interface

我之前问过这个问题，但可能我不清楚，所以我再次发布。我有一个gui。当我按下“button1”时，我的 gui 启动串行通信。我发送一些命令并接收一些数据。一旦我按下“button1”，我就会在另一个线程（除了 GUI 线程）中持续 3.4 秒，直到数据完全传输。**我想要**的是一个对话框、弹出窗口或类似的东西（显示一条繁忙的消息），当我按下 button1 时出现在我的 gui 前面，并且这个弹出窗口在另一个线程中自动关闭，其中串行通信发生时整个数据被传输。

有些人建议后台工作，但我不清楚。

考虑到我的情况，一个很好的解释或一种方法？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T08:52:18.327

我会用下面的代码来做：

```
 public partial class frmWait : Form
{
    private BackgroundWorker worker;

    public frmWait()
    {
        InitializeComponent();
        this.worker = new BackgroundWorker
            {
                WorkerReportsProgress = true
            };
        this.worker.RunWorkerCompleted += WorkerOnRunWorkerCompleted;
        this.worker.DoWork += WorkerOnDoWork;
        this.worker.ProgressChanged += WorkerOnProgressChanged;
        this.worker.RunWorkerAsync();
    }

    private void WorkerOnProgressChanged(object sender, ProgressChangedEventArgs e)
    {
        // Update UI or something else
    }

    private void WorkerOnDoWork(object sender, DoWorkEventArgs e)
    {
        // Do background-stuff here
    }

    private void WorkerOnRunWorkerCompleted(object sender, RunWorkerCompletedEventArgs e)
    {
        // Actions after BackgroundWorker is done
        Close();
    }
} 
```

在带有 button1 的表单中，在按钮的单击事件中，您只需：

```
frmWait wait = new frmWait();
wait.ShowDialog(); 
```

# scala - 匹配“失败”：为多个案例类执行同一段代码？

> ID：15019849
> 
> 赞同：3
> 
> 时间：2013-02-22T08:30:11.213
> 
> 标签：scala

我在 Scala 中有一个匹配不同案例类的函数，但在每次匹配时执行相同的代码。有没有“落空”的可能？或者在不重复代码且不定义函数的情况下编写以下代码的其他好方法？

```
symbol match {
            case Times(a,b) => //some code using a and b
            case Plus(a,b)  => //same code as above
            case Div(a,b)   => //again same code as above
} 
```

这也是一个非常相似的问题“[匹配“失败”：为多个案例执行同一段代码？](https://stackoverflow.com/questions/2325863/match-fallthrough-executing-same-piece-of-code-for-more-than-one-case) ”不同之处在于我对匹配案例类很感兴趣。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-22T08:40:24.003

不，Scala 中禁止使用falltroughs，因为它们是其他语言中常见的错误来源。你有~~两个~~三个可能性：

*   分解出函数中所有相同的东西
*   尝试使用不太具体的匹配，即使用通配符。在您的示例中，这也可能意味着引入一个超类`BinaryOperation`，它使您有可能进行更通用的匹配。请注意，由于案例类继承限制，您将不得不依赖使用此超类的字段而不是拥有超案例类。
*   遵循 Mirko Stocker 关于编写特定提取器的好建议。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-22T08:55:57.587

您可以编写自己的提取器来组合这三种情况并将它们变成一个元组：

```
 object BinOp {
    def unapply(op: Op) = op match {
      case Times(a, b) => Some(a, b)
      case Plus(a, b) => Some(a, b)
      case Div(a, b) => Some(a, b)
    }
  }

  symbol match {
    case BinOp(a, b) => 
  } 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-22T09:44:09.877

我看到您的问题有两种可能的解决方案

1)`unapply`

扩展 M. Stocker 的答案，您可以像这样组织数据：

```
trait Op

trait BinaryOp extends Op {
  def a: Int
  def b: Int
}

object BinaryOp {
  def unapply(op: Op) = op match {
    case x: BinaryOp => Some((x.a, x.b))
    case _ => None
  }
}

case class Times(a: Int, b: Int) extends BinaryOp
case class Plus(a: Int, b: Int) extends BinaryOp
case class Div(a: Int, b: Int) extends BinaryOp 
```

用法：

```
symbol match {
  case BinaryOp(a, b) => f(a, b)
  case _ => //...
} 
```

2)`Product`

所有案例类都扩展了`Product` [特征](http://www.scala-lang.org/api/current/index.html#scala.Product)

这允许您执行以下匹配：

```
symbol match {
  case p: Product if p.productArity == 2 => {
    val a = p.productElement(0) //this has type Any, so a cast may be necessary
    val b = p.productElement(1)
    f(a, b)
  }
} 
```

第二种情况更通用，但也是类型不安全的。我推荐第一个解决方案。

# arrays - 找到数组中最大下降的算法

> ID：15019851
> 
> 赞同：8
> 
> 时间：2013-02-22T08:30:13.990
> 
> 标签：arrays, algorithm

我有一个算法问题：

给定一个大小为 N 的数组（假设所有元素都是整数），找到最大的下降（不一定是连续的）： max{array[i]-array[j]} 有一个约束： i>j 。

简单的解决方案是两次循环并遍历 i 和 j 的所有可能值，但时间复杂度为 O(n*n)。

我认为一个改进的解决方案是首先映射数组的索引，对数组进行排序并通过数组找到最大的下降。这个复杂度是 O(nlogn)。

有线性时间复杂度的解决方案吗？如何？

PS：我曾经想过一个线性的解决方案：创建两个额外的数组，一个是记录给定数组从头到尾的最大值，另一个是从尾到头的最小值。然后，通过两个数组一通。但是，有人认为这不正确并且占用了太大的空间。所以我想知道一个更好的解决方案。——李娟流

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-22T08:41:53.877

您需要跟踪两件事：

您似乎与元素 i 相关的最大数量，以及相对于最大数量（即 i 之前的最大数量，减去元素 i）的最大下降。这将是时间上的 O(n) 和空间上的 O(1)。

这个问题正是“股票买卖”的面试题，解决方法可以在这里找到：[最大单笔卖出利润](https://stackoverflow.com/questions/7086464/maximum-single-sell-profit)

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2015-08-22T22:33:56.840

没有额外空间的 O(n) 解决方案：

```
public int maxDrop(int[] a) {
    int max = a[0];
    int maxDrop = -1;
    for (int i = 0; i < a.length; i++) {
        if (max < a[i]) {
            max = a[i];
        }
        else {
            int drop = max - a[i];
            maxDrop = Math.max(maxDrop, drop);
        }
    }
    return maxDrop;
} 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-02-22T08:42:52.457

创建新的 2 个数组：

```
max[i] = max { arr[0], arr[1], ..., arr[i] }
min[i] = min { arr[n-1], arr[n-2], ..., arr[i] }
(max is the maximum from first to i, min is the minimum from i to last) 
```

现在，迭代辅助数组并找到最大差异`max[i] - min[i]`

这需要 3 次迭代，因此是`O(n)`.

**正确性证明（指南）：**

让最大的下降是从 index`i`到 index `j`，其中`i<j`：

1.  然后，`max[i] >= arr[j]`（因为我们已经通过了），并且 `min[i] <= arr[i]`- 因此`max[j] - min[j] >= arr[i] - arr[j]`，算法提供的答案至少与最优答案一样好。
2.  此外，由于最大的下降是`i,j`，所以不可能有`k<j` 这样的`arr[k] < arr[i]`，因为最大的下降将是从`arr[k]`到`arr[j]`。相似——不可能有`k>j`这样的 `arr[k] < arr[j]`，出于同样的原因——因此`max[j]-min[j] <= arr[i] - arr[j]`

从上面我们可以得出结论`max[j]-min[j] = arr[i] - arr[j]`。剩下的一个正式的完整证明就是证明对于每一个`k`你得到`max[k]-min[k] <= max[j] - min[j]`，确实是这样，否则有一些`u<k`，`v>k`这样`max[k]=arr[u], min[k]=arr[v]`，你得到那个，这与最大下降`arr[u] - arr[v] > arr[i] - arr[j]`的事实相矛盾。`i,j`

**量子点**

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-02-22T08:38:49.197

我只能想到 O(nlogn) 但这一个即使相同的复杂性应该比排序和找到最大的下降更快。

您可以做的是计算 O(n) 中连续数字的差异，然后问题将简化为找到连续子数组的 MAX(sum)，即 O(nlogn)

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2014-07-15T11:09:15.057

```
public static int maxDrop(int[]array){

    int maxDrop =0,drop=0,min=array[0];

    for(int i=1;i<array.length;i++){

        if(array[i]<min){
            min=array[i];
        }

        drop = array[i]-min;

        if(drop>maxDrop){
            maxDrop=drop;
        }

    }

    System.out.println(maxDrop);
    return maxDrop;

} 
```

# mongodb - 全表扫描聚合框架

> ID：15019853
> 
> 赞同：0
> 
> 时间：2013-02-22T08:30:22.030
> 
> 标签：mongodb, aggregation-framework

我知道如果有一个初始`$match`管道来限制要聚合的集合，那么聚合框架是合适的。但是，有时过滤后的集合可能仍然很大，比如大约 200 万，并且聚合将涉及`$group`. 考虑到在最多 5 秒内输出结果的要求，聚合框架是否适合处理此类集合。目前我在一个节点上工作。通过在分片集上执行聚合，性能会得到显着提高。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T08:46:12.293

据我所知，唯一的限制是聚合的结果不能超过 16MB 的限制，因为它返回的是一个文档，这是 MongoDB 中文档的限制大小。此外，您不能使用超过机器总内存的 10%，因为通常使用 $match 阶段来减少您使用的集合，或者使用 $project 阶段来减少每个文档的数据。

请注意，在 $group 或 $sort 阶段之后的分片环境中，聚合将被带回 MongoS，然后再将其发送到管道的下一个阶段。MongoS 可能与您的应用程序在同一台机器上运行，如果处理不当，可能会损害您的应用程序性能。

# eclipse - Eclipse IDE 未在命令行中打开

> ID：15019856
> 
> 赞同：0
> 
> 时间：2013-02-22T08:30:42.070
> 
> 标签：eclipse

当我从命令行执行“eclipse”文件时显示以下错误消息，

```
JVM terminated. Exit code=13
/usr/java/jdk1.6.0_14/bin/java
-Xincgc
-Xss500k
-Dosgi.requiredJavaVersion=1.6
-Xms512m
-Xmx1024m
-XX:NewSize=8m
-XX:PermSize=128m
-XX:MaxPermSize=150m
-XX:MaxPermHeapExpansion=10m
-XX:+UseConcMarkSweepGC
-XX:CMSInitiatingOccupancyFraction=70
-XX:+UseCMSInitiatingOccupancyOnly
-XX:+UseParNewGC
-XX:ParallelGCThreads=2
-XX:+CMSIncrementalPacing
-XX:CMSIncrementalDutyCycleMin=0
-XX:CMSIncrementalDutyCycle=5
-XX:GCTimeRatio=49
-XX:MaxGCPauseMillis=20
-XX:+UseCMSCompactAtFullCollection
-XX:+CMSClassUnloadingEnabled
-XX:+AggressiveOpts
-Xverify:none
-Dosgi.instance.area=@user.dir/ZIDE
-jar /home/prabha/eclipse/plugins/org.eclipse.equinox.launcher_1.2.0.v20110502.jar
-os linux
-ws gtk
-arch x86_64
-showsplash
-launcher /home/prabha/eclipse/eclipse
-name Eclipse
--launcher.library /home/prabha/eclipse/plugins/org.eclipse.equinox.launcher.gtk.linux.x86_64_1.1.100.v20110505/eclipse_1407.so
-startup /home/prabha/eclipse/plugins/org.eclipse.equinox.launcher_1.2.0.v20110502.jar
--launcher.overrideVmargs
-exitdata eef0026
-vm /usr/java/jdk1.6.0_14/bin/java
-vmargs
-Xincgc
-Xss500k
-Dosgi.requiredJavaVersion=1.6
-Xms512m
-Xmx1024m
-XX:NewSize=8m
-XX:PermSize=128m
-XX:MaxPermSize=150m
-XX:MaxPermHeapExpansion=10m
-XX:+UseConcMarkSweepGC
-XX:CMSInitiatingOccupancyFraction=70
-XX:+UseCMSInitiatingOccupancyOnly
-XX:+UseParNewGC
-XX:ParallelGCThreads=2
-XX:+CMSIncrementalPacing
-XX:CMSIncrementalDutyCycleMin=0
-XX:CMSIncrementalDutyCycle=5
-XX:GCTimeRatio=49
-XX:MaxGCPauseMillis=20
-XX:+UseCMSCompactAtFullCollection
-XX:+CMSClassUnloadingEnabled
-XX:+AggressiveOpts
-Xverify:none
-Dosgi.instance.area=@user.dir/ZIDE
-jar /home/prabha/eclipse/plugins/org.eclipse.equinox.launcher_1.2.0.v20110502.jar 
```

我的 JDK 版本是“jdk1.6.0_14”，但是，仍然抛出这个错误。

请让我知道，如何在我的机器上解决这个问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T08:34:08.870

看起来您可能正在尝试将 64 位 Eclipse 与 32 位 JRE 一起使用。它们必须相互匹配以及您正在使用的 GTK 版本。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-05-09T20:18:27.143

如果您使用的是 OSX（您不是，因为我看到`-os linux`了），您可以使用以下代码段：

```
#!/bin/bash
open -a Eclipse "$@" 
```

根据我的回忆，Linux`xdg-open`可能对你有用。

# java - 调用 java.lang.Math.log 不会通过 Eclipse 中调试模式下的方法

> ID：15019859
> 
> 赞同：0
> 
> 时间：2013-02-22T08:30:55.917
> 
> 标签：java, debugging, math, static, breakpoints

我刚开始分析一个执行一些插值的应用程序，并且在相互调用和相互`log linear`调用时发现了一些奇怪的东西。该行为可以通过以下方式重现：`Math.log``Math.exp`

```
public class TestLogExp {
public static void main(String[] args) {
    Double thisdouble = 0d;
    thisdouble = Math.log(Math.exp(10));
    System.out.println(thisdouble);
    }
} 
```

现在我们清楚地看到了，`Math.log`并且`Math.exp`在这个 main 方法中被调用。但是，当我在`Math.exp`and中都设置断点时`Math.log`（它们只是对 的调用`StrictMath` `native statics`），执行只会在 中中断`Math.exp`，而不是在`Math.log`.

现在我认为它可能`java`不会在静态方法的调用中调试调用，但是当我调用时`Math.exp(Math.log(10))`（反之亦然），观察到相同的行为，只在 exp 中停止，而不是在日志中......

有谁能重现这个？为什么会这样？

**编辑：**似乎根本没有调试 Math.log 函数。将行替换为`thisdouble = Math.log(Math.exp(10));`,`thisdouble = Math.log(10);`仍然不会在调试模式下停止，尽管 Math.class 中有一个断点...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T08:36:01.090

如果您以这种方式尝试，它确实会进入这两种方法：

```
 Double thisdouble = 0d;
    double temp = Math.exp(10);
    thisdouble = Math.log(temp);
    System.out.println(thisdouble); 
```

我正在使用 Netbeans v7.3

# html - 使用 Cheerio 排除双类的 css 选择器

> ID：15019860
> 
> 赞同：4
> 
> 时间：2013-02-22T08:31:09.497
> 
> 标签：html, css, dom, jquery-selectors, cheerio

我有一个相当“奇怪”的场景（网络抓取）。我只想选择**那些**`class=g`有( double class ) 的人。如何在 jQuery 中做到这一点？**`class="g g"``g`**

 **如果我使用 $('.g')，它将同时选择`.g`和`.g .g`

**更新 1：**

如果您认为`.g .g`无效，请在 Google 搜索结果中查看源代码；）

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-22T08:36:35.490

即使我认为`g g`无效（让我检查一下）..因此`$(".g:not(.g.g)")`不起作用，您可以执行以下操作：

```
var myWeirdElements = $('.g').map(function(){return this.className.indexOf('g g') && this ;});

// or, as mentioned on the comment, using Array.filter method 
```

演示 => [http://jsfiddle.net/GeAaA/](http://jsfiddle.net/GeAaA/)

编辑：关于第二条评论，你只需要计算多少克（简单的正则表达式）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-22T08:41:45.193

考虑以下场景，其中您有两个具有上述类的 Div 标签

```
<div class="g"></div>

<div class="g g"></div> 
```

编写以下内容以仅获取具有类“g”的那些 div

```
alert($("div[class='g']").length); 
```**

# css - 如何删除图像周围的边框？

> ID：15019861
> 
> 赞同：-1
> 
> 时间：2013-02-22T08:31:13.180
> 
> 标签：css

嗨，我正在使用 wordpress，我正在使用图库短代码，但问题是我的图像周围有边框。

我将填充设置为 0，并在 css 中将边框设置为 0，但我的缩略图周围仍然有边框。

这是css ---> [https://gist.github.com/mihadaiko/5011743#file-style-css](https://gist.github.com/mihadaiko/5011743#file-style-css)

这是它的样子：

![在此处输入图像描述](../Images/1820f5f772dfa39149611df79405b521.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T08:33:33.970

你需要使用css

```
img { border: none; } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T09:35:08.017

尝试这个

```
a img { border: 0 none; } 
```

还在 jsfiddle 中添加了您的代码：http: [//jsfiddle.net/HkTDK/2/](http://jsfiddle.net/HkTDK/2/)并且图像没有边框，因此它可能是从其他地方继承的。

另一种解决方案是添加：

```
#gallery-1 a, #gallery-1 img { border:0 none !important; } 
```

如果这不起作用，则意味着边框是背景图像，因此只需在上面的行中添加 background: none !important

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2019-01-10T13:19:21.240

非常感谢！如果您使用的是 Elementor，则非常适合 Wordpress。如果您使用多个画廊（1,2，...，n），您需要添加到您的自定义 CSS：

```
#gallery-1 a, #gallery-1 img { border:0 none !important; }
#gallery-2 a, #gallery-2 img { border:0 none !important; }
...
#gallery-n a, #gallery-n img { border:0 none !important; } 
```

等等。

# extjs - 为什么 ExtJS4 商店类没有获取商店模型的属性/功能？

> ID：15019866
> 
> 赞同：1
> 
> 时间：2013-02-22T08:31:36.610
> 
> 标签：extjs, extjs4

我真的不明白为什么 model 绑定到`proxy`而不是 to `store`，所以如果我需要商店的模型，我必须做这样的事情：

```
var m = store.getProxy().getModel(); 
```

Ext.data.AbstractStore 是否有任何理由没有 getModel() 方法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T08:39:31.563

你这样做是不对的; Store 不会使用代理的模型，但如果您没有为商店定义自己的代理，它将使用模型的代理。然后您可以访问`model`商店的属性。

如果这对您来说还不清楚，请给我评论，我将通过示例对其进行更深入的描述。

**更新**

到目前为止，我仔细查看了，我无法真正告诉您为什么缺少 getter，但是`model`存储和代理上都有一个公共属性，该属性至少应包含创建实例时的模型名称。到目前为止，您只能从商店中获取模型名称，因此您需要首先通过调用类似这样的方法来解析模型构造函数

```
Ext.ModelMgr.getModel(store.model); 
```

**一些附加信息** 再仔细看一下源码还是比较混乱的，我要测试一下，但是好像有一些不一致的地方。

**简而言之**

***->**代理需要模型**->**商店可以采用分配模型的代理**->**商店（似乎）总是设置代理的模型**->**代理（设置模型时）可以设置代理的模型店铺*

我认为他们正在为即将发布的 4.2 版本准备一些东西，这样人们就不会在他们的商店模型未定义时感到困惑，即使他们有一个分配给代理（例如）

# ios - ViewController.xib 未打开

> ID：15019870
> 
> 赞同：0
> 
> 时间：2013-02-22T08:32:01.227
> 
> 标签：ios, xcode, xib

我是 Objective-C 和 iOS 开发的新手。[我从本教程](http://mobileorchard.com/ios-development-tutorial-series-hello-world/)中描述的一个基本应用程序开始 。据此，我必须打开 ViewController.xib 才能创建界面。但是那个特定的文件并没有在 Xcode 中打开。我可以做些什么来打开该文件，或者是否有任何替代方法（手动）来创建接口？

我正在使用 Xcode 3.2.6

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T09:32:29.887

当您使用 xcode3.2 时，xib 不会在 Xcode 上打开，而是在**Interface Builder 中打开。**

# android - 如何在平板电脑或非印度手机中正确显示印度地区语言

> ID：15019873
> 
> 赞同：3
> 
> 时间：2013-02-22T08:32:09.523
> 
> 标签：android

我需要在 Android 应用程序中以所有区域语言显示文本。我可以使用 ttf 字体文件在印度 Android 手机中显示。但我无法在非印度安卓手机和模拟器中正确显示。我想在非印度手机上正确显示，所以请建议我如何解决这个问题。

# c# - 在 C# 中自动生成的 Gridview 中的超链接

> ID：15019874
> 
> 赞同：0
> 
> 时间：2013-02-22T08:32:38.703
> 
> 标签：c#, asp.net

我有一个 Gridview，它是通过从各种表中获取数据自动生成的。现在我的要求是我需要将我的第一列设为超链接，这样如果单击它，它就必须导航到具有超链接值的另一个页面。在第二页我有标签这个标签应该显示超链接值，并基于该数据将填充在第二页上。

例如：我有一个 10 列的 gridview..我的第一列是 Emp Id。如果单击该 id，它必须将我带到第二页，并且标签控件必须获取此 id 值，并基于该 id 应填写其余信息，例如 emp name emp DOB。我使用 C# 作为我的代码。

谁能帮我继续.. 等待你的回复

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T08:46:20.250

你需要`<asp:HyperLinkField />`

```
<asp:GridView>
<Columns>
   <asp:HyperLinkField HeaderText="Id" DataTextField="YourID" DataNavigateUrlFields="YourID" 
           DataNavigateUrlFormatString="SecondPage.aspx?Id={0}" />
</Columns>
</asp:GridView> 
```

您可能需要删除`AutoGenerateColumns="true"`属性并自己键入字段，仅选择要显示的列 - 使用`<asp:BoundFied DataField="ColumnName" />`

如果您想在查询字符串中传递多个值，请用逗号分隔字段

```
 DataNavigateUrlFields="YourID, SecondField" 
```

你的格式字符串是

```
DataNavigateUrlFormatString="SecondPage.aspx?Id={0}&param2={1}" 
```

其他链接

*   [HyperLinkField.DataNavigateUrlFormatString 属性](http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.hyperlinkfield.datanavigateurlformatstring.aspx)
*   [如何在 HyperlinkField 中传递多个值](http://abhijitjana.net/2010/07/27/how-to-pass-multiple-values-using-gridview-hyperlinkfield/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T08:44:37.603

您可以在 GridView 中使用`TemplateField`列：

```
<asp:TemplateField>
    <ItemTemplate>
        <asp:HyperLink ID="linkToDetails" runat="server" NavigateUrl='Details.aspx?empId=<%# Eval("empId") %>' Text='<%# Eval("empId") %>'></asp:HyperLink>
    </ItemTemplate>
</asp:TemplateField> 
```

在 Details.aspx 页面上，您应该从 QueryString 中获取 empId 并从数据库中获取详细信息。

# android - 从Android中的数组打印坐标

> ID：15019875
> 
> 赞同：0
> 
> 时间：2013-02-22T08:32:59.327
> 
> 标签：android, image-processing, pixels

我正在开发一个分析心电图的图像处理应用程序。为此，我需要检测图表的某些峰值。

如何在用户界面中打印“坐标”、“xcoor”和“ycoor”？我试着烤它，但它不起作用。我尝试了 textView 但应用程序强制关闭。

```
package com.thesis.results;

import android.app.Activity;
import android.graphics.Bitmap;
import android.graphics.BitmapFactory;
import android.graphics.Color;
import android.os.Bundle;
import android.os.Handler;
import android.view.View;
import android.widget.Button;
import android.widget.ImageView;
import android.widget.ProgressBar;
import android.widget.TextView;
import java.util.ArrayList;
import android.widget.Toast;

import com.example.edgedetection.R;

public class MainActivity extends Activity {

    // initialize variables
    static int i = 0;
    static int bl_ = 0; // number of black; pixels in the image
    static int op_ = 0;
    static int Al = 0;
    static int Re = 0;
    static int Gr = 0;
    static int Bl = 0;
    static int Alp = 0;
    static int Red = 0;
    static int Gre = 0;
    static int Blu = 0;
    static int stop = 0;
    static int stopx = 0;
    static int stopy = 1000;
    static int xcoor[];
    static int ycoor[];
    static int width;
    static int height;
    static int RRdistance;
    static double voltage;
    static int peakcoordinates;

    ImageView imageSource, imageAfter;
    Bitmap bitmap_Source;
    ProgressBar progressBar;
    Button process;
    TextView counter;
    TextView coordinates;
    private Handler handler;
    Bitmap afterProcess;

    /** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        process = (Button) findViewById(R.id.btn_process);
        imageSource = (ImageView) findViewById(R.id.imageSource);
        imageAfter = (ImageView) findViewById(R.id.imageAfter);
        progressBar = (ProgressBar) findViewById(R.id.progressBar);
        counter = (TextView) findViewById(R.id.counter);
        coordinates = (TextView) findViewById(R.id.coordinates);

        process.setOnClickListener(new View.OnClickListener() {

            public void onClick(View v) {
                // TODO Auto-generated method stub
                bitmap_Source = BitmapFactory.decodeResource(getResources(),
                        R.drawable.test_ideal_graph);
                handler = new Handler();
                StratBackgroundProcess();
            }
        });

    }

    private void StratBackgroundProcess() {

        Runnable runnable = new Runnable() {

            public void run() {
                afterProcess = processingBitmap(bitmap_Source, 0, 0, 0);

                handler.post(new Runnable() {

                    public void run() {
                        progressBar.setVisibility(View.GONE);
                        imageAfter.setImageBitmap(afterProcess);

                        calculatevoltage();
                        //  calculateRRdistance();
                        counter.setText("" + bl_ + "@ (" + stopx + "," + stopy
                                + " " + "and" + 
                                ")" + " {" + width + "," + height + " } = "
                                        + voltage + "mV" + " " + "R-R distance:" + " "
                                        + RRdistance);

                        coordinates.setText(" " + xcoor + "," + ycoor + " " );
                    }

                    private void calculatevoltage() {
                        // TODO Auto-generated method stub
                        voltage = ((0.1 * height) * (height - stopy)) / height;
                        // 1.5 mV is the total voltage of the graph, 1 box =
                        // 0.1mV
                    }

                    //private void calculateRRdistance() {
                    // TODO Auto-generated method stub
                    //     RRdistance = stopx1 - stopx;
                    // 1.5 mV is the total voltage of the graph, 1 box =
                    // 0.1mV

                    //   }

                });
            }
        };
        new Thread(runnable).start();
    }

    public static Bitmap processingBitmap(Bitmap src, double red, double green,
            double blue) {
        // image size
        width = src.getWidth();
        height = src.getHeight();
        // create output bitmap
        Bitmap bmOut = Bitmap.createBitmap(width, height, src.getConfig());
        // color information
        int A, R, G, B;
        int pixel;
        int flag = 0;

        //array
        int[] trial = new int[width];
        // scan through all pixels

        for (int x = 0; x < width; ++x) {

            flag = 0;

            for (int y = 0; y < height; ++y) {
                // get pixel color
                pixel = src.getPixel(x, y);
                // apply filtering on each channel R, G, B
                Al = Color.alpha(pixel);
                Re = (int) (Color.red(pixel));
                Gr = (int) (Color.green(pixel));
                Bl = (int) (Color.blue(pixel));
                // set new color pixel to output bitmap

                if ((Re == 0) && (Gr == 0) && (Bl == 0) && (flag == 0)) {
                    bmOut.setPixel(x, y, Color.argb(255, 0, 0, 0));
                    flag = 1;
                    trial[x] = y;

                } else
                    bmOut.setPixel(x, y, Color.argb(255, 255, 255, 255));

            }
        }

        //detect all possible peaks

        for (int x = 1; x < width; x++) {
            if (trial[x] < trial[x - 1] && trial[x] < trial[x + 1]) {
                peakcoordinates = src.getPixel(x, trial[x]); //get pixels, how to display? (textview, toast?)
                //Toast.makeText(getApplicationContext(), "hi", Toast.LENGTH_LONG).show();
            }

            //detect all R peaks
            for (int y = 1; y > (trial[1]-50); y++ ){

                xcoor[i] = x;
                ycoor[i] = y;
            }
            return bmOut;
        }
        return bmOut;
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T09:11:25.193

您只能在 UI 线程中修改您的视图（例如 TextView、ImageView）。尝试[AsyncTask](http://developer.android.com/reference/android/os/AsyncTask.html)：

```
@Override
public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        process = (Button) findViewById(R.id.btn_process);
        imageSource = (ImageView) findViewById(R.id.imageSource);
        imageAfter = (ImageView) findViewById(R.id.imageAfter);
        progressBar = (ProgressBar) findViewById(R.id.progressBar);
        counter = (TextView) findViewById(R.id.counter);
        coordinates = (TextView) findViewById(R.id.coordinates);

        process.setOnClickListener(new View.OnClickListener() {

                public void onClick(View v) {
                        // TODO Auto-generated method stub
                        bitmap_Source = BitmapFactory.decodeResource(getResources(),
                                        R.drawable.test_ideal_graph);
                        handler = new Handler();
                        new BackgroundTask().execute();
                }
        });

}

private class BackgroundTask extends AsyncTask<String, Long, String> {

    @Override
    protected String doInBackground(String... s) {
        afterProcess = processingBitmap(bitmap_Source, 0, 0, 0);
        return null;
    }

    @Override
    protected void onPostExecute(String result) {
        progressBar.setVisibility(View.GONE);
        imageAfter.setImageBitmap(afterProcess);

        calculatevoltage();
        //  calculateRRdistance();
        counter.setText("...");
        coordinates.setText(" " + xcoor + "," + ycoor + " " );
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T08:50:45.190

您的应用程序崩溃是因为您尝试`Views`从工作线程访问您的应用程序，这在 Android 中是被禁止的。我建议使用`AsyncTask`该类，它在工作线程上运行某个任务并提供在 UI 线程上运行的方法，您可以在其中更新您的`Views`. 希望这可以帮助。

# c# - 从 c# 枚举中获取值

> ID：15019876
> 
> 赞同：7
> 
> 时间：2013-02-22T08:33:11.310
> 
> 标签：c#, enums

我有一个枚举

```
public enum ProductionStatus {
    Received = 000,
    Validated = 010,
    PlannedAndConverted = 020,
    InProduction = 030,
    QAChecked = 040,
    Delivered = 070,
    RejectedOrCancelled = 100
} 
```

我需要从这个枚举中按键获取值，例如选择`ProductionStatus.Validated`它时应该返回 010。我该怎么做？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-22T08:56:58.603

只是为了在那里抛出另一个解决方案......

```
((int)ProductionStatus.Validated).ToString("D3"); 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-22T08:34:19.480

```
var code = (int)ProductionStatus.Validated; 
```

您还可以将 int 转换为枚举值，如下所示：

```
var status = (ProductionStatus)10; 
```

`bool eq = 010 == 10;`他们实际上是平等的

如果您想使用字符串，请使用此方法。

```
 static string EnumToString(ProductionStatus val)
    {
        switch (val)
        {
            case ProductionStatus.Received:
                return "000";
            case ProductionStatus.Validated:
                return "010";
            case ProductionStatus.PlannedAndConverted:
                return "020"; 
            default:
                return "Unknown value";
        }
    } 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-02-22T08:45:51.110

带格式：

```
((int)ProductionStatus.Validated).ToString("000",  CultureInfo.InvariantCulture); 
```

这是简短而简单的，它返回一个字符串。

如果您愿意，可以将其纳入扩展方法

```
public static class ProdStatusExtensions {
    public static string (this ProductionStatus status) {
        return ((int)status).ToString ("000",  CultureInfo.InvariantCulture);
    }
} 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2013-02-22T08:38:59.350

```
var enumValues = Enum.GetValues(typeof(ProductionStatus)).Cast<object>()
                                .ToDictionary(enumValue => enumValue.ToString(), enumValue => (int)enumValue);

foreach (var enumValue in enumValues)
{
    Console.WriteLine("item: {0}, value: {1}", enumValue.Key, enumValue.Value.ToString("000");
} 
```

您可以像这样从枚举中获取所有值和名称。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-02-22T08:39:58.863

一般来说，有一个[Enum 类](http://msdn.microsoft.com/en-us/library/system.enum.aspx)，其中包含一组方法，便于使用枚举。

在这里，如果您想将可枚举值转换为整数或其他类型，您可以编写：

```
int validatedAsInt = (int) ProductionStatus.Validated 
```

validateAsInt 将包含 ProductionStatus.Validated 的值。

如果你想获得像“010”这样的数字，你可以写：

```
string validatedAsString = ((int) ProductionStatus.Validated).ToString("000"); 
```

或者：

```
string validatedAsString = ((int) ProductionStatus.Validated).ToString("D3"); 
```

*已验证*的AsString将包含“010”。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-05-09T14:19:22.600

这是将执行**反向操作的通用助手类 - 从 ANY** **Enum**按值获取键：

```
public static class EnumHelpers {

  public static T GetEnumObjectByValue<T>(int valueId) {
    return (T) Enum.ToObject(typeof (T), valueId);
  }

} 
```

它的工作原理是这样的——假设我们有这个**Enum**：

```
public enum ShipmentStatus {
  New = 0,
  Shipped = 1,
  Canceled = 2
} 
```

因此，要获取**Enum**对象，`ShipmentStatus.Shipped`这将返回此对象：

```
var enumObject = EnumHelpers.GetEnumObjectByValue<ShipmentStatus>(1); 
```

所以基本上你可以粘贴任何 Enum 对象并按值获取它：

```
var enumObject = EnumHelpers.GetEnumObjectByValue<YOUR_ENUM_TYPE>(VALUE); 
```

# java - 使用相机意图在没有 SD 卡的情况下拍照

> ID：15019879
> 
> 赞同：1
> 
> 时间：2013-02-22T08:33:21.203
> 
> 标签：java, android, camera, sd-card

没有 SD 卡时，我无法使用相机。

当有SD卡时，使用相机是微不足道的，例如

[http://www.vogella.com/articles/AndroidCamera/article.html](http://www.vogella.com/articles/AndroidCamera/article.html) + 大量其他示例。

但是，我需要让我的应用程序可用于没有 SD 卡的设备（例如 Sony Xperia 系列）。我尝试修改代码以便使用内部存储（我认为）：

```
Intent intent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);
File file = new File(getDir("myDirec", Context.MODE_WORLD_WRITEABLE), "tmp_photo_" + String.valueOf(System.currentTimeMillis()) + ".jpg");
file.createNewFile();
mImageCaptureUri = Uri.fromFile(file);

intent.putExtra(android.provider.MediaStore.EXTRA_OUTPUT, mImageCaptureUri);
intent.putExtra("return-data", true); 
```

但是，根据结果：

```
@Override
protected void onActivityResult(int requestCode, int resultCode, Intent intentReturn) {
    if (resultCode != RESULT_OK)
        return;

    String path = mImageCaptureUri.getPath();
    Bitmap bitmap = BitmapFactory.decodeFile(path);

... 
```

`bitmap`一片空白。

这让我相信存在一些权限问题....也许？

我尝试了其他一些内部存储选项， http: [//developer.android.com/guide/topics/data/data-storage.html#filesInternal](http://developer.android.com/guide/topics/data/data-storage.html#filesInternal)例如`getFilesDir()`，但结果相同： null `bitmap`。

有没有人在没有SD卡的情况下使用相机成功？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T08:50:05.570

试试这个。有用..

```
 private Uri imageUri;

  public void onClick(View arg0) {
    switch (arg0.getId()) {     
      case R.id.btnImageCapture:

    Intent intent = new Intent("android.media.action.IMAGE_CAPTURE");
    File dir = context.getDir("directory", Context.MODE_PRIVATE);
    File photo = new File(dir,  "Pic.jpg");
    intent.putExtra(MediaStore.EXTRA_OUTPUT,
            Uri.fromFile(photo));
    imageUri = Uri.fromFile(photo);
    startActivityForResult(intent, OPEN_CAMERA);
                    break;
    }
} 
```

* * *

```
@Override
public void onActivityResult(int requestCode, int resultCode, Intent data) {
    super.onActivityResult(requestCode, resultCode, data);
    switch (requestCode) {
    case OPEN_CAMERA:
        if (resultCode == Activity.RESULT_OK) {
            Uri selectedImage = imageUri;
            getContentResolver().notifyChange(selectedImage, null);
            ImageView imageView = (ImageView) findViewById(R.id.ImageView);
            ContentResolver cr = getContentResolver();
            Bitmap bitmap;
            try {
                 bitmap = android.provider.MediaStore.Images.Media
                 .getBitmap(cr, selectedImage);

                imageView.setImageBitmap(bitmap);
                Toast.makeText(this, selectedImage.toString(),
                        Toast.LENGTH_LONG).show();

            } catch (Exception e) {
                Toast.makeText(this, "Failed to load", Toast.LENGTH_SHORT)
                        .show();

            }
        }
    }
} 
```

# r - R k-means 聚类数据

> ID：15019881
> 
> 赞同：-4
> 
> 时间：2013-02-22T08:33:27.190
> 
> 标签：r, data-mining, k-means

在 R 中，我计算了一个 k 均值聚类如下：

```
km = (mat2, centers=3) 
```

其中 mat2 是通过组合一组时间序列的元素获得的列向量矩阵。有31行

现在我有了我的 k-means 对象，如何查看与特定点关联的数据？例如，假设我单击了属于其中一个分区的点。如何查看这些数据？当然，我的意思是如何以编程方式获取这些数据。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T10:17:45.680

我希望你`kmeans`这样称呼：

```
set.seed(42)
df <- data.frame( row.names = paste0( "obs", 1:100 ), 
                         V1 = rnorm(100),
                         V2 = rnorm(100),
                         V3 = rnorm(100) )
km <- kmeans( df, centers = 3 ) 
```

如果您不熟悉新功能，最好使用以下方法检查生成的对象`str()`：

```
> str(km)
List of 7
 $ cluster     : Named int [1:100] 1 2 3 3 1 1 1 1 1 1 ...
  ..- attr(*, "names")= chr [1:100] "obs1" "obs2" "obs3" "obs4" ...
 $ centers     : num [1:3, 1:3] 0.65604 -1.09689 0.56428 0.11162 0.00549 ...
  ..- attr(*, "dimnames")=List of 2
  .. ..$ : chr [1:3] "1" "2" "3"
  .. ..$ : chr [1:3] "V1" "V2" "V3"
 $ totss       : num 291
 $ withinss    : num [1:3] 43.7 65.7 51.3
 $ tot.withinss: num 161
 $ betweenss   : num 130
 $ size        : int [1:3] 36 34 30
 - attr(*, "class")= chr "kmeans" 
```

正如我从您的问题中了解到的那样，您正在寻找`km$cluster`，它告诉您您的数据的哪些观察已分配给哪个集群。可以相应地研究聚类中心`km$centers`。

如果您现在想知道哪些观察已被聚类到以 为中心的第三个聚类`km$centers[3,]`，您可以通过以下方式对您的`data.frame`（或`matrix`）进行子集化

```
> rownames(df[ km$cluster == 3, ])
 [1] "obs3"  "obs4"  "obs12" "obs15" "obs16" "obs21" "obs25" "obs27" "obs32" "obs42" "obs43" "obs46" "obs48" "obs54" "obs55" "obs58" "obs61" "obs62" "obs63" "obs66" "obs67" "obs73" "obs76"
[24] "obs77" "obs81" "obs84" "obs86" "obs87" "obs90" "obs94" 
```

# python - Python：根据整数之间的步长拆分整数列表

> ID：15019889
> 
> 赞同：6
> 
> 时间：2013-02-22T08:34:06.250
> 
> 标签：python, list, split, integer, indices

我有以下问题。有一个整数列表，我想将它拆分为一个列表列表，只要原始输入列表的两个元素之间的步长不是 1。例如：input = [0, 1, 3, 5, 6, 7 ], 输出 = [[0, 1], [3], [5, 6, 7]]

我编写了以下函数，但它非常丑陋，我想知道你们中的任何人是否会帮助我获得更好的解决方案。我尝试使用 itertools，但无法解决。

这是我的解决方案：

```
def _get_parts(list_of_indices):
    lv = list_of_indices
    tuples = zip(lv[:-1], lv[1:])
    split_values = []
    for i in tuples:
        if i[1] - i[0] != 1:
            split_values.append(i[1])
    string = '/'.join([str(i) for i in lv])
    substrings = []
    for i in split_values:
        part = string.split(str(i))
        substrings.append(part[0])
        string = string.lstrip(part[0])
    substrings.append(string)
    result = []
    for i in substrings:
        i = i.rstrip('/')
        result.append([int(n) for n in i.split('/')])
    return result 
```

非常感谢！

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-22T08:40:35.000

这适用于任何可迭代的

```
>>> from itertools import groupby, count
>>> inp = [0, 1, 3, 5, 6, 7]
>>> [list(g) for k, g in groupby(inp, key=lambda i,j=count(): i-next(j))]
[[0, 1], [3], [5, 6, 7]] 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-22T08:38:18.727

```
def _get_parts(i, step=1):
    o = []
    for x in i:
        if o and o[-1] and x - step == o[-1][-1]:
            o[-1].append(x)
        else:
            o.append([x])
    return o

_get_parts([0, 1, 3, 5, 6, 7], step=1)
# [[0, 1], [3], [5, 6, 7]]) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T08:42:59.687

这是一个利用 for 循环的解决方案。

```
def splitbystep(alist):
  newlist = [[alist[0]]]
  for i in range(1,len(alist)):
    if alist[i] - alist[i-1] == 1:
      newlist[-1].append(alist[i])
    else:
      newlist.append([alist[i]])
  return newlist 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-22T08:44:31.193

这就是我的做法：

```
inp = [0, 1, 3, 5, 6, 7]
base = []

for item in inp:
    if not base or item - base[-1][-1] != 1: # If base is empty (first item) or diff isn't 1
        base.append([item])                  # Append a new list containing just one item
    else:
        base[-1].append(item)                # Otherwise, add current item to the last stored list in base
print base                                   # => [[0, 1], [3], [5, 6, 7]] 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2021-09-16T10:07:50.273

这是[模块](https://more-itertools.readthedocs.io/en/stable/api.html#more_itertools.split_when)[**more_itertools**](https://more-itertools.readthedocs.io/en/stable/api.html#more_itertools.split_when)[中函数`split_when`](https://more-itertools.readthedocs.io/en/stable/api.html#more_itertools.split_when)**的教科书用例：**

 **```
import more_itertools

print(list(more_itertools.split_when([0, 1, 3, 5, 6, 7], lambda x,y: y-x != 1)))
# [[0, 1], [3], [5, 6, 7]] 
```

或者，更简单的是[`more_itertools.consecutive_groups`](https://more-itertools.readthedocs.io/en/stable/api.html#more_itertools.consecutive_groups)：

```
print([list(g) for g in more_itertools.consecutive_groups([0, 1, 3, 5, 6, 7])])
# [[0, 1], [3], [5, 6, 7]] 
```**

# android - 处理相机意图上的方向变化

> ID：15019892
> 
> 赞同：1
> 
> 时间：2013-02-22T08:34:09.613
> 
> 标签：android, android-camera

我使用 Activity 中的内置相机应用程序拍照。问题是如果方向改变并且我的活动被重绘，我无法处理从相机 Intent 返回的数据，我试图搜索同样的问题，但它似乎让我更加困惑。我是选择捆绑包还是选择 OnConfigurationChanged() 我已将 android:configChanges="orientation" 放在 Manifest 文件中的活动标签中，对于调用相机意图的特定活动，但问题似乎仍然存在。谁能指导我解决问题。

这是我的代码：

```
if(i==0){
    Intent cameraIntent = new Intent(android.provider.MediaStore.ACTION_IMAGE_CAPTURE); 
    startActivityForResult(cameraIntent, CAMERA_PIC_REQUEST); 
}

protected void onActivityResult(int requestCode, int resultCode, Intent data) {  
    if( requestCode == 1337 && resultCode== Activity.RESULT_OK){
        Bundle extras = data.getExtras();

        if (extras != null){
            BitmapFactory.Options options = new BitmapFactory.Options();
            options.inSampleSize = 1;
            options.inPurgeable = true;
            options.inInputShareable = true;
            thumbnail = (Bitmap) data.getExtras().get("data");
            // imgview.setImageBitmap(thumbnail);
            image(thumbnail);

        }else{
            Toast.makeText(CreateProfile.this, "Picture NOt taken", Toast.LENGTH_LONG).show();
        }
        super.onActivityResult(requestCode, resultCode, data);     
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T09:09:47.503

首先，您的代码有问题。

你问是否`if (extras != null){`但仍然从数据中获取位图`thumbnail = (Bitmap) data.getExtras().get("data");`这条线应该是

```
thumbnail = (Bitmap) extras.get("data"); 
```

其次，不要使用 android:configChanges，它会弄乱很多其他的东西，而且大多数应用程序不应该使用它。

如果您的意思是在获取数据后改变方向，则使用 saveInstanceState 效果很好。尝试这样的事情，只需将您需要的数据放入 outState Bundle 并将其取回 onRestoreInstance 方法

```
@Override
protected void onSaveInstanceState(Bundle outState) {
 outState.putAll(extras);
 super.onSaveInstanceState(outState);

}

@Override
protected void onRestoreInstanceState(Bundle savedInstanceState) {

 super.onRestoreInstanceState(savedInstanceState);
 extras.putAll(savedInstanceState);
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-22T08:46:07.327

尝试将此属性添加到您`activity`的`Manifest`文件中。

```
android:configChanges="keyboardHidden|orientation|screenSize" 
```

谢谢。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-22T08:57:36.187

如果您的应用程序的目标 sdk 大于 12，请将其更改为 12，然后再试一次。

安卓：targetSdkVersion="12"

并且不要忘记将 android:configChanges="orientation|keyboardHidden" 添加到清单中的活动行

# c++ - 在什么情况下，参数依赖名称查找 (ADL) 会起作用？

> ID：15019904
> 
> 赞同：0
> 
> 时间：2013-02-22T08:35:24.993
> 
> 标签：c++, argument-dependent-lookup

在[Wikipedia 文章](http://en.wikipedia.org/wiki/Argument-dependent_name_lookup)中提到了以下引用：

> **只有在正常查找非限定名称**时找不到匹配的类成员函数时，才会发生 ADL 。在这种情况下， 可以搜索在正常查找期间未考虑的*其他名称空间，其中要搜索的名称空间集合**取决于函数参数的类型*。

所以，我期待下面的程序编译得很好，但它[没有](http://ideone.com/YbwFmk)：

```
namespace N1 {
  class A {}; 
  void foo (A *p) {}
}
namespace N2 {
  void foo (N1::A &p) {}
}

int main () {
  N1::A xa; 
  foo(&xa); // ok
  foo(xa);  // error: cannot convert ‘N1::A’ to ‘N1::A*’ for argument ‘1’ to ‘void N1::foo(N1::A*)’
} 
```

我在 SO 中搜索了几个问题，但找不到哪个以简单的单词列出了要求或情况，这表明：ADL​​ 何时开始？
更详细的答案对我和未来的访客真的很有帮助。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-22T08:37:08.457

它不应该编译。`A`在命名空间中`N1`。编译器应该如何知道您要调用`N2::foo`？n3376 3.4.2/2

> 对于函数调用中的每个参数类型 T，有一组零个或多个关联的命名空间和一组零个或多个关联的类需要考虑。**命名空间和类的集合完全由函数参数的类型（以及任何模板模板参数的命名空间）决定。** 用于指定类型的 Typedef 名称和 using-declarations 不构成该集合。命名空间和类的集合通过以下方式确定：
> 
> 如果 T 是类类型（包括联合），则其关联的类是：类本身；它所属的类别(如有的话)；及其直接和间接基类。**其关联名称空间是其关联类是其成员的名称空间。**此外，如果 T 是类模板特化，则其关联的命名空间和类还包括： 与为模板类型参数（不包括模板模板参数）提供的模板实参类型相关联的命名空间和类；任何模板模板参数都是其成员的命名空间；以及用作模板模板参数的任何成员模板是其成员的类。[注意：非类型模板参数不参与关联命名空间的集合。——尾注]

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T08:41:17.653

只要您的函数采用用户定义的类型，ADL 几乎总是会启动。它在`foo`这里开始：`xa`在 中定义`N1`，因此在全局命名空间中以及在全局命名空间中进行`foo`搜索。`N1`（没有 ADL，`foo`只会在全局命名空间中搜索。）

而且我不明白为什么您会期望第二次调用`foo`编译。的类型在`xa`中定义`N1`，因此 ADL 添加`N1`到搜索路径中，但表达式中没有任何内容可以暗示`N2`。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-22T08:41:51.403

它说搜索“其他名称空间”。它没有说搜索“所有名称空间”。

ADL 中包含哪些额外命名空间的规则有点复杂，但最重要的`A`是定义的命名空间。这就是为什么你的第一个`foo`被发现。`foo`找不到您的第二个，因为命名空间`N2`与任何内容无关，并且 ADL 不会搜索它。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2014-05-02T11:01:57.347

如果非限定名称查找失败，则使用函数调用的参数继续查找。

例子

`func(A x);`

然后编译器将从包括类 A 的命名空间开始查看命名空间。一个例子是

```
// argument_dependent_name_koenig_lookup_on_functions.cpp
namespace A
{
   struct X
   {
   };
   void f(const X&)
   {
   }
}
int main()
{
// The compiler finds A::f() in namespace A, which is where 
// the type of argument x is defined. The type of x is A::X.
   A::X x;
   f(x);   
} 
```

更多在这里 [http://msdn.microsoft.com/en-us/library/60bx1ys7.aspx](http://msdn.microsoft.com/en-us/library/60bx1ys7.aspx)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-22T08:41:23.853

一旦找到具有匹配*名称*的函数，编译器就会停止查找。如果参数类型或可访问性（公共/受保护/私有）实际上阻止在当前上下文中使用该函数，它不会继续搜索。因此，在您的示例中，编译器对 "see" 没有任何更改`N2::foo`，因为`N1::foo`首先找到了。

请注意，在您的示例中，`N2::foo`即使`N1::foo`不存在也不会找到，因为您没有引用`N2`内部的任何地方`main`，因此`N2`根本不会被搜索。

# jquery - parseFloat() 使用以 0 开头的数字

> ID：15019905
> 
> 赞同：1
> 
> 时间：2013-02-22T08:35:29.307
> 
> 标签：jquery, replace, parsefloat

我对为什么 parseFloat() 在这种情况下返回 0 感兴趣：

```
var priceFromJson = '0,33';
console.log(priceFromJson);
            var tmpPrice = parseFloat(priceFromJson);
            console.log('tmpPrice'+tmpPrice);
            var price = parseFloat( ( tmpPrice ) * 1.2 ).toFixed(2);
            console.log('price'+price); 
```

结果是：

```
0,33 
tmpPrice0 
price0.00 
```

但如果我这样做：

```
var priceFromJson = '0,33';
console.log(priceFromJson);
            var tmpPrice = parseFloat( priceFromJson.replace(',','.') );
            console.log('tmpPrice'+tmpPrice);
            var price = parseFloat( ( tmpPrice ) * 1.2 ).toFixed(2);
            console.log('price'+price); 
```

结果是：

```
0,33 
tmpPrice0.33 
price0.40 
```

通过[http://www.w3schools.com/jsref/jsref_parsefloat.asp](http://www.w3schools.com/jsref/jsref_parsefloat.asp)，但在我的情况下，第一个字符为零。

任何想法？

编辑（评论后）：

所以其他小数，例如。“5,36”、“10,44”在没有替换（）的情况下可以正常工作。任何其他想法，在这些情况下我应该怎么做？消除此问题的最佳方法是什么，然后进行实践。谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T08:37:13.430

因为本地化。

预期的小数分隔符是`.`，不是`,`。

因为`.`在所有情况下都有效，所以我建议始终转换数字（使用您的替换代码）。如果您将数据表示规范化，这并没有什么坏处。

# asp.net - 如何将数据分页器与中继器一起使用

> ID：15019906
> 
> 赞同：1
> 
> 时间：2013-02-22T08:35:31.603
> 
> 标签：asp.net, vb.net, repeater, datapager

我有一个Repeater 控件，在我的Repeater 控件中我有许多控件，如gridview、detailsview 和一些其他控件。但是现在我的页面在重复时变得杂乱无章。我想要实现的是将数据分页器添加到我的页面，以便您可以分页浏览我的控件中的所有数据。例如，第一页将包含我的转发器中的所有项目以及一些数据，第二页将包含所有具有不同数据的项目。

这是我的中继器控件：

```
<asp:Repeater ID="Repeater1" runat="server"  DataSourceID="SchemeDataSource1">
 <ItemTemplate>
    <table style="border: thin solid #000000"; width: "100%" >
      <tr>
        <td>PRENO
           <asp:Label ID="lblPreno" runat="server" Text='<%# Bind("PRENR") %>'></asp:Label>
            MONTHLY PREMIUM
            <asp:Label ID="lblPrem" runat="server" Text='<%# Bind("PREMIUM") %>'></asp:Label>
        <br />
        </td>
        <td align="right">
         <asp:LinkButton ID="lnkPre" runat="server" 
         ToolTip="Copy Premium To New Scheme" Font-Bold="True" Font-Size="Larger" Visible="true">>></asp:LinkButton>
        </td>
       </tr>

       <tr>
        <td>Relation: [
         <asp:Label ID="lblRel" runat="server" Text='<%# Bind("RELATION") %>'></asp:Label>
        ] UWCODE: [
        <asp:Label ID="lblUw" runat="server" Text='<%# Bind("UWFEECODE") %>'></asp:Label>
       ][
       <asp:Label ID="lblUwDescription" runat="server" Text='<%# Bind("DESCRIPTION") %>'></asp:Label>
       ]
       <br />
       </td>
       </tr>                                                    
       </table>

       <table>
         <tr align="left" valign="top">
          <td align="left">
           <asp:DetailsView ID="dvEarner" runat="server" HeaderText="NO EARNER"
           EmptyDataText="No Results To Display" HeaderStyle-BorderColor="Black"
           HeaderStyle-BorderStyle="Solid" HeaderStyle-BorderWidth="1px"
           BackColor="#DEBA84" BorderColor="#DEBA84" BorderStyle="None"
           BorderWidth="1px" CellPadding="3" CellSpacing="2" EnableViewState="False">
           <FooterStyle BackColor="#5D7B9D" Font-Bold="True" ForeColor="White" />
           <RowStyle BackColor="#F7F6F3" ForeColor="#333333" />
           <PagerStyle ForeColor="#8C4510" HorizontalAlign="Center"/>
           <HeaderStyle BackColor="#5D7B9D" Font-Bold="True" ForeColor="White" />
           </asp:DetailsView>
                                </td>
                                <td align="left">
                                    <asp:DetailsView ID="dvJVName" runat="server" HeaderText="JV NAME"
                                        HeaderStyle-BorderColor="Black" HeaderStyle-BorderStyle="Solid" HeaderStyle-BorderWidth="1px"
                                        EmptyDataText="JV NAME"
                                        AlternatingRowStyle-BorderStyle="Solid" AlternatingRowStyle-BorderWidth="1px"
                                        BackColor="#DEBA84" BorderColor="#DEBA84" BorderStyle="None"
                                        BorderWidth="1px" CellPadding="3" CellSpacing="2">
                                        <FooterStyle BackColor="#5D7B9D" Font-Bold="True" ForeColor="White" />
                                        <RowStyle BackColor="#F7F6F3" ForeColor="#333333" />
                                        <PagerStyle ForeColor="#8C4510" HorizontalAlign="Center" />
                                        <HeaderStyle BackColor="#5D7B9D" Font-Bold="True" ForeColor="White" />
                                        <EmptyDataRowStyle BackColor="#5D7B9D" ForeColor="White" Font-Bold="true" />
                                    </asp:DetailsView>
                                </td>
                                <td align="left">
                                    <asp:DetailsView ID="DetailsView1" runat="server" HeaderText="%"
                                        HeaderStyle-BorderColor="Black" HeaderStyle-BorderStyle="Solid" HeaderStyle-BorderWidth="1px"
                                        EmptyDataText="%"
                                        AlternatingRowStyle-BorderStyle="Solid" AlternatingRowStyle-BorderWidth="1px"
                                        BackColor="#DEBA84" BorderColor="#DEBA84" BorderStyle="None"
                                        BorderWidth="1px" CellPadding="3" CellSpacing="2">
                                        <FooterStyle BackColor="#5D7B9D" Font-Bold="True" ForeColor="White" />
                                        <RowStyle BackColor="#F7F6F3" ForeColor="#333333" />
                                        <PagerStyle ForeColor="#8C4510" HorizontalAlign="Center" />
                                        <HeaderStyle BackColor="#5D7B9D" Font-Bold="True" ForeColor="White" />
                                        <EditRowStyle BackColor="#738A9C" Font-Bold="True" ForeColor="White" />
                                        <EmptyDataRowStyle BackColor="#5D7B9D" ForeColor="White" Font-Bold="true" />
                                    </asp:DetailsView>
                                </td>
                                <td align="left">
                                    <asp:DetailsView ID="dvProduct" runat="server" HeaderText="PRODUCT DETAILS"
                                        HeaderStyle-BorderColor="Black" HeaderStyle-BorderStyle="Solid" HeaderStyle-BorderWidth="1px"
                                        EmptyDataText="No Results To Display"
                                        AlternatingRowStyle-BorderStyle="Solid" AlternatingRowStyle-BorderWidth="1px"
                                        BackColor="#DEBA84" BorderColor="#DEBA84" BorderStyle="None"
                                        BorderWidth="1px" CellPadding="3" CellSpacing="2">
                                        <FooterStyle BackColor="#5D7B9D" Font-Bold="True" ForeColor="White" />
                                        <RowStyle BackColor="#F7F6F3" ForeColor="#333333" />
                                        <PagerStyle ForeColor="#8C4510" HorizontalAlign="Center" />
                                        <HeaderStyle BackColor="#5D7B9D" Font-Bold="True" ForeColor="White" />
                                    </asp:DetailsView>
                                </td>
                                <td align="left">
                                    <asp:DetailsView ID="dvFeeDetails" runat="server" HeaderText="ADDITIONAL FEE DETAILS"
                                        HeaderStyle-BorderColor="Black" HeaderStyle-BorderStyle="Solid" HeaderStyle-BorderWidth="1px"
                                        EmptyDataText="No Results To Display"
                                        AlternatingRowStyle-BorderStyle="Solid" AlternatingRowStyle-BorderWidth="1px"
                                        BackColor="#DEBA84" BorderColor="#DEBA84" BorderStyle="None"
                                        BorderWidth="1px" CellPadding="3" CellSpacing="2">
                                        <FooterStyle BackColor="#5D7B9D" Font-Bold="True" ForeColor="White" />
                                        <RowStyle BackColor="#F7F6F3" ForeColor="#333333" />
                                        <PagerStyle ForeColor="#8C4510" HorizontalAlign="Center" />
                                        <HeaderStyle BackColor="#5D7B9D" Font-Bold="True" ForeColor="White" />
                                    </asp:DetailsView>
                                    <br />
                                </td>
                            </tr>
                        </table>

             <table>
                             <tr>
                                <td>
                                    <strong><u>UNDERWRITER DETAILS:</u></strong> 
                                    <asp:GridView ID="grdUWDetails" runat="server" ForeColor="#333333" CellPadding="4" AutoGenerateSelectButton="False">
                                        <RowStyle BackColor="#F7F6F3" ForeColor="#333333" />
                                        <FooterStyle BackColor="#5D7B9D" Font-Bold="True" ForeColor="White" />
                                        <PagerStyle BackColor="#284775" ForeColor="White" HorizontalAlign="Center" />
                                        <HeaderStyle BackColor="#5D7B9D" Font-Bold="True" ForeColor="White" />
                                        <EmptyDataTemplate>No results to display.</EmptyDataTemplate>
                                    </asp:GridView>
                                    <br />
                                    <hr />
                                </td>
                            </tr>
                        </table>
        </ItemTemplate>
    </asp:Repeater> 
```

在我的转发器中绑定我的控件：

```
Private Sub Repeater1_ItemDataBound(ByVal sender As Object, ByVal e As     System.Web.UI.WebControls.RepeaterItemEventArgs) Handles Repeater1.ItemDataBound
If e.Item.ItemType = ListItemType.Item OrElse e.Item.ItemType = ListItemType.AlternatingItem Then
  Dim strPreno As String = DirectCast(e.Item.FindControl("lblPreno"), Label).Text

  Dim dv As DetailsView = DirectCast(e.Item.FindControl("dvEarner"), DetailsView)
  dv.DataSource = fnLoadPremiums(strPreno)
  dv.DataBind()

  Dim dv1 As DetailsView = DirectCast(e.Item.FindControl("dvProduct"), DetailsView)
  dv1.DataSource = fnLoadProduct(strPreno)
  dv1.DataBind()

  Dim dv2 As DetailsView = DirectCast(e.Item.FindControl("dvFeeDetails"), DetailsView)
  dv2.DataSource = fnLoadFeeDetails(strPreno)
  dv2.DataBind()

  Dim grd As GridView = DirectCast(e.Item.FindControl("grdUWDetails"), GridView)

  grd.DataSource = fnLoadGrid(strPreno)
  grd.DataBind()
End If
End Sub 
```

或者，如果您有任何想法如何实现这一点，我们将不胜感激。

我使用了数据分页器，但出现此错误：控件“Repeater1”未实现 IPageableItemContainer。然后我对此进行了一些研究，datapager 仅适用于 listview。所以现在我想要与 datapager 相同的方法，但不知道如何实现这一点。有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T09:09:14.333

您可以将 扩展`Repeater`为 implementation `IPageableItemContainer`，这里是[codeproject](http://www.codeproject.com/Articles/45163/Extend-Repeater-to-support-DataPager)上的实现的链接。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-23T15:52:28.477

您可以使用 PagedDatasource 来绑定转发器，请查看此链接：

[http://www.dotnetfunda.com/articles/article980-paging-with-repeater-control.aspx](http://www.dotnetfunda.com/articles/article980-paging-with-repeater-control.aspx)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T09:45:24.020

解决了问题将使用`<ajaxToolkit:Accordion></ajaxToolkit:Accordion>` 这种方式我可以使用窗格来隐藏重复的控件。

# apache-flex - 使用 adt.jar 打包时将应用程序图标添加到 air 应用程序：如何？

> ID：15019908
> 
> 赞同：1
> 
> 时间：2013-02-22T08:35:54.537
> 
> 标签：apache-flex, build, air, packaging

我过去用 flash builder 构建了带有图标的 air 应用程序，一切都很好。

现在我必须使用 adt(air developer tool) 构建另一个应用程序，但我遇到了奇怪的问题。

1.  如果我只是将相对于“src”文件夹的图标路径放置到应用程序描述符（像往常一样），它会说： `error 303: Icon icon.png is missing from package`.

2.  如果我`icon.png`在应用程序描述符中使用没有路径，然后将此文件放在任何地方（到根目录、到资产、到 src、到构建目标等等），它又会说`error 303: Icon icon.png is missing from package`.

3.  如果我尝试将图标路径添加到 adt args 之类的`<arg value="icon.png"/>`（并将其放入输出文件夹，因为在我的情况下，所有路径似乎都是相对于它的），它会说`The path icon.png is restricted. If you were trying to package Icon.png you should correct the case`.

4.  当我指向原始文件位置（`<arg value="../src/assets/icon.png"/>`）时，它会输出`File ..\src\assets\icon.png is not relative to directory E:\projQ\flex\MyProject\bin`（这个`bin`目录实际上是输出目录）。我在 adobe 论坛上阅读了未经批准的评论，认为这是由于某些沙箱限制造成的，但我什至不确定 adt 是否存在沙箱（如果存在，那为什么？）

**那么，我该怎么做才能成功地将图标添加到该应用程序？** 我想使用 resHacker 之类的工具来进行项目`.exe`不会有帮助，因为`.exe`它只是`.swf`文件的启动器，无论如何我认为这种糟糕的方式会导致编程的阴暗面。

（PS 不能添加与 adobe 相关的“adt”标签，而不是 android。）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T18:20:29.207

好的。最后我找到了解决方案。因此，在使用 adt 手动打包时包含图标的要求是：

1.  将文件名添加到应用程序描述符而不使用任何`..`.
2.  我求求你，甚至不要尝试命名你的图标文件`icon.png`。这是一个显而易见的名字，对于`adt`. 因此，他们似乎正在将某些文件重命名`icon.png`为此类文件或生成此类文件的输出。或者将此文件放入目录的某个子目录中，由`adt`. 实际上，错误输出正是告诉您避免使用路径 icon.png。`Correct the case`短语（让我感到困惑）意味着`rename your icon or move it deeper in directory hierarchy`
3.  将图标的路径作为命令行参数添加到`adt`.

生成后，您将在生成的输出文件夹中看到您的图标。您可以将其删除，并且应用程序仍将按预期显示您的图标。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-11-06T03:57:36.653

这更多地是对上述答案中第一点的阐述，以澄清像我这样一直在努力解决这个问题的人。

错误显示“与目录无关”，但它的意思是“不是目录的子级”。基本上，即使您尝试使用有效的相对路径，它也希望它指向您工作目录*下的某些内容。*在我的情况下，以下技巧奏效：

`./../..build/executable.swf`

替换为

`-C ./../.. build/executable.swf`

-C 使ADT 改变目录到上面的一个两级，然后你可以指定需要的文件。

在玩了多一点 ADT 之后，我现在意识到它为什么会这样做 - 你给它的路径将成为包中的路径。因此，在上面的示例中，该文件将在包中的`build/executable.swf`. 如果您希望使其在包的根级别可用，请将 -C 指令更改为以下内容：

`-C ./../../build executable.swf`

# xml - 如何在较大的文件中读取并将值从 xml 映射到 java

> ID：15019917
> 
> 赞同：0
> 
> 时间：2013-02-22T08:36:37.207
> 
> 标签：xml

我有一个 xml，我需要从中提取值并在数据库中更新它。

xml 非常大，可能是 1gb 或更多。

这是解析和提取它的最有效方法。

Xpath 会很快吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T08:38:04.407

XPath 在如此大的文档上可能会非常慢。使用流解析器 (SAX/StAX) 并随时随地提取所需信息可能会更好。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T08:52:54.413

您需要对像这样的大文件使用某种流式处理方法，最简单的方法取决于 XML 的结构。如果它由许多可以独立处理的片段组成，例如

```
<rows>
  <row>
    <col name="col1">value1</col>
    <col name="col2">value2</col>
  </row>
  <!-- and another million row elements -->
</rows> 
```

然后有我称之为“半流式”的方式来流式传输文件解析一个`row`，处理它，然后将其丢弃并解析下一个等。使用[XOM](http://xom.nu)（查找“自定义节点工厂”）或 JAXB（定义一个表示 one 的对象模型`row`，然后在您的文档上创建一个 XMLStreamReader 并一次解组一行）。

# jquery - jQuery - 通过其 innerHTML 在字符串中查找标签并为其添加属性

> ID：15019918
> 
> 赞同：0
> 
> 时间：2013-02-22T08:36:41.657
> 
> 标签：jquery, find

我的 HTML 文件中有以下代码

```
 <select>
        <option>1</option>
        <option>2</option>
        <option>3</option>
        <!-- ......... -->
        <option>50000</option>
   </selcet> 
```

使用 jQuery 我得到

```
 var subHTML=$("select").html(); 
```

我可以通过subHTML字符串中的innerHTML找到一个选项标签，插入属性“selected”，然后将编辑后的字符串放回选择标签

```
 $("select").html(editedString); 
```

**编辑**

我试过了

```
 var strel=$(subHtml).find('option:contains("123")').attr('selected','selected');
  $("select").html(strel); 
```

但它只向选择标签添加了一个选项。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T08:50:04.150

这应该有效。（未测试）。

```
var to_replace = $("select").find('option:contains("The text i want to find")');
to_replace.attr("selected", "selected");
to_replace.text("The new text"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T08:55:25.453

```
$('option').filter(function() {
   if(this.innerHTML === '123') {
      $(this).attr('its-me', 1);
      return true;
   }
   return false;
}); 
```

***编辑***，或者只是：

```
$('option').filter(function() {
   return this.innerHTML === '123';
}).attr('its-me', 1); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T08:56:04.563

[**jQuery 包含**](http://api.jquery.com/jQuery.contains/)选择器会有所帮助。

```
<script type="text/javascript" src="js/jquery.js"></script>
<script type="text/javascript">

    $(function()
    {
        var searchReplace = $("select").find('option:contains("editme")').attr("selected", "selected").text("foundme");
    });

</script>

<select>
    <option>1</option>
    <option>2</option>
    <option>editme</option>
    <option>3</option>
    <option>50000</option>
</selcet>
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-22T08:56:35.547

这是工作样本：

[选择](http://jsfiddle.net/Rx3AP/620/)

如果这是您的 HTML：

```
<select>
    <option>1</option>
    <option>2</option>
    <option>3</option>
</select> 
```

您可以使用 ：

```
$("select option").each(function(){
if ($(this).text() == "2")
   $(this).attr("selected","selected");
}); 
```

# awesome-wm - 应用程序在 awesome-wm 中的某个标签下自动启动

> ID：15019921
> 
> 赞同：6
> 
> 时间：2013-02-22T08:37:12.863
> 
> 标签：awesome-wm

我已经阅读[了在 awesome-wm 中为特定应用程序设置窗口布局](https://stackoverflow.com/questions/5120399/setting-windows-layout-for-a-specific-application-in-awesome-wm)。现在我想在自动启动期间在特定标签下执行此操作。例如：

> > 我打开我的电脑。像“firefox”、“终端”之类的应用程序将自动在标签 1 下运行。“mplayer”将在标签 2 下运行。“xchat”将在标签 3 下运行。它们都自动启动。
> > 
> > 我不希望“firefox”总是在标签 1 下。我可以在任何我想要的标签下运行 firefox。我只需要在第一次打开计算机时在标签 1 下运行。所以下面的代码不能使用。

```
awful.rules.rules = {
-- All clients will match this rule.
{ rule = { class = "Firefox" },
 properties = { tag = tags[1][2]}}, --,switchtotag=true} },
 ... 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-05-18T15:02:47.060

你看过很棒的维基页面吗？我认为这就是您要寻找的：

```
 function run_once(prg,arg_string,pname,screen)
    if not prg then
        do return nil end
    end

    if not pname then
       pname = prg
    end

    if not arg_string then 
        awful.util.spawn_with_shell("pgrep -f -u $USER -x '" .. pname .. "' || (" .. prg .. ")",screen)
    else
        awful.util.spawn_with_shell("pgrep -f -u $USER -x '" .. pname .. " ".. arg_string .."' || (" .. prg .. " " .. arg_string .. ")",screen)
    end
end

run_once("xscreensaver","-no-splash")
run_once("pidgin",nil,nil,2)
run_once("wicd-client",nil,"/usr/bin/python2 -O /usr/share/wicd/gtk/wicd-client.py") 
```

这段代码来自[很棒的 wiki](http://awesome.naquadah.org/wiki/Autostart)。您可以将屏幕作为参数传递给此函数。有关更多详细信息，请查看上面的链接。如果您想在屏幕上的特殊标签中打开窗口，您可以给窗口一个特殊的名称（例如“startup”），然后创建一个规则以仅在屏幕上启动名为“startup”的实例。

例子：

```
run_once("firefox","startup, nil, 1)

...
 rule = { class = "Firefox", instance = "startup" }, properties = {tag = tags[2]}},
... 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-22T12:20:29.370

查看[shifty](http://awesome.naquadah.org/wiki/Shifty) - 您可以在此处指定应用程序的选项卡，但您仍然可以将其移动到其他选项卡。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2014-02-07T07:10:58.187

我创建了一个小要点，用于在 Awesome 的功能范围内使用纯 lua 完成这项任务，并且不需要插件！

[https://gist.github.com/Flowkap/8858434](https://gist.github.com/Flowkap/8858434)

# javascript - 使用javascript从文本文件中读取值

> ID：15019926
> 
> 赞同：1
> 
> 时间：2013-02-22T08:37:38.910
> 
> 标签：javascript, file, onclick, text-files

*   我的本地机器上有一个文本文件。
*   我在jsp页面中有一个按钮。
*   单击按钮时，我需要获取文本文件内容。
*   该文件有n个内容。

谁能给我javascript函数来实现这一点。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T08:50:02.357

您应该在问题中指定您希望读取客户端文件，因为我看到很多都是指服务器端读取。

你应该看看 FileAPI - 一个 HTML 5 Javascript 附加项，它允许 JavaScript 通过文件输入读取文件内容。

我正在为您编写代码示例 - 但这是一个您应该阅读的好网站

[http://www.htmlgoodies.com/beyond/javascript/read-text-files-using-the-javascript-filereader.html#fbid=4Fhi9T4mEAA](http://www.htmlgoodies.com/beyond/javascript/read-text-files-using-the-javascript-filereader.html#fbid=4Fhi9T4mEAA)

如果没有 FileAPI - 您仍然可以使用带有 target="some iframe" 的表单中的文件输入字段 - 然后让服务器上传文件并返回文本。（FormData 允许在 Ajax 中上传文件，但并非所有浏览器都支持）。

所以 File API 是你的选择 这里是你如何使用 File API

```
<input type="file"/>
<script>
$(function(){
            $("input").change(function(e){
                    console.log(["file changed",e]);
                var myFile = e.target.files[0];
                var reader = new FileReader();
                reader.onload = function(e){
                    console.log(["this is the contents of the file",e.target.result]);
                };
                reader.readAsText(myFile)

            });
        }
)
</script> 
```

您还可以实现拖放界面（如 google gmail 有）

```
 $("div").on("dragover",function(e){
            e.dataTransfer = e.originalEvent.dataTransfer;
                e.stopPropagation();
                e.preventDefault();
                e.dataTransfer.dropEffect = 'copy'; // Explicitly show this is a copy.

        }).on("drop",function(e){
                    e.dataTransfer = e.originalEvent.dataTransfer;
                    e.stopPropagation();
                    e.preventDefault();
                    console.log(["selected files", e.dataTransfer.files])}); 
```

# sharepoint-2010 - 如何根据 InfoPath 中的其他 DropDownlist 绑定一个 DropdownList 的值？

> ID：15019934
> 
> 赞同：0
> 
> 时间：2013-02-22T08:38:07.820
> 
> 标签：sharepoint-2010, infopath, infopath2010, infopath-forms-services

我有一个 DropDownList，它在 INFOPATH 中填充了一个 SharePointList，其他文本框的值根据使用规则和操作的此 DropDownList 选定值填充。这工作正常。

我也尝试过使用 XML 绑定，它可以工作。但是，现在我想使用 DropdownList2 中的两个不同的共享点列表检索数据，具体取决于 DropdownList1 的值（想使用 ClientID 作为 LookUp 值），具体取决于 Dropdownlist1 的选定值绑定 DropdownList2 中的相应数据。

```
Note: There are two Different Lists(Data Connections)

Eg: ClientList(ClientID,Name,City)
    ClientAddress(ClientID,Address1,Address2)

Depending on `ClientID` from `DropDownList1` the `DropDownList2` or `ListBox` Must contain `Address1` Value from `ClientAddress Sharepoint List` must be filled with Corresponding Address1,Address2. 
```

帮助赞赏！谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T20:13:59.977

您将需要在后面的代码中执行此操作。

取第一个下拉菜单，找到与之关联的字段，右键单击并创建一个“已更改”事件。注意：确保下拉列表控件属性在属性的“浏览器表单”选项卡中选择了“始终”（右键单击下拉列表以访问这些属性）

在事件背后的代码中，将为该字段创建一个 Changed 事件。在那里，您可以获取第一个下拉列表中当前选定项目的值。根据该值，您可以修改第二个下拉菜单的内容。

但是，如果第二个下拉列表的内容来自外部数据源，您将需要获取该数据，根据需要修改它（取决于在第一个下拉列表中选择的值），然后以编程方式填充第二个下拉列表新修改的数据。

祝你好运！

# java - 安卓导入库

> ID：15019936
> 
> 赞同：3
> 
> 时间：2013-02-22T08:38:13.497
> 
> 标签：java, android, eclipse, import-libraries

在我的项目中，我需要使用外部库。该库由`.class`文件组成。我已经使用**properties -> Java Build Path -> Libraries -> Add class folder 添加**了这个库的文件夹到我的项目中。我可以毫无问题地编译项目，但是当我运行它时，我得到`failed resolving xy`并且调试器停止在线，我从导入的文件创建类的实例。

我猜我使用的外部库没有链接到我的 .apk 文件。我怎样才能解决这个问题？我试图在“订购和导出”选项卡上检查这个库，假设它将用我的应用程序导出库。但它没有用。

如何将此库链接到我的项目 .apk？我需要先以某种方式在设备上安装这个库吗？我需要将此库复制到应用程序文件夹中吗？

PS：我正在使用 Eclipse Juno，Android SDK 目标 10。

谢谢

* * *

**更新**

我在`libs`文件夹中复制了这个库。外部库路径为：

```
my_project/libs/sk/aicit/leg/libraries*.class 
```

我在项目的**库**设置中添加了`./libs`文件夹。我**没有**这个库的版本，只有文件。****`.jar``.class`****

 ****我也有这个库的源代码，但我不想在我的项目中包含它的类，它有自己的依赖项，我只想像库一样“链接”它。它是一个我没有写过的外部库。

* * *

**更新 2**

我已将库中的所有源文件复制到我的项目“src/”目录中。我已从 Java 构建路径中删除了库。我仍然可以编译我的项目，但是当我运行它时

```
FATAL EXCEPTION:main
java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{
com.example/myvideorecord/com.example.myvideorecord.Robot}: java.langNullPointerException
... 
```

我该怎么办，如何调试这个错误？:(

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-22T08:48:59.580

脚步

1.  将库文件复制到 libs 文件夹中
2.  选择jar文件->右键单击->构建路径->添加到构建路径
3.  清理项目项目->清理->选择你的项目->确定

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2014-03-05T02:32:01.623

## 安卓工作室

要将 Android 库导入 Android Studio，请使用以下步骤：

1）*（可选）*我喜欢让我的主 Android 项目包含正确编译所需的所有内容，因此我将外部库移动到`libs/`目录中。一般只需要保留以下目录：

*   `res`
*   `src`
*   `AndroidManifest.xml`
*   `*.iml`（这通常是您要导入的库的名称。）

2) 转到您的**项目属性**。

3) 转到**模块**。

4）导入一个新模块（`Command`+`N`然后**导入模块**）。

5) 导航到要导入的库目录。

6）*从现有来源创建模块*。

7) 单击**下一步**三次以添加必要的文件。

8) 单击**完成**以完成模块附加。

9) 在模块列表中单击您的项目，然后转到**Dependencies**选项卡。

10) 单击`+`底部的按钮，然后单击**Module Dependency...**。

11) Make sure your library you're importing is selected and click **OK**.

12) Click **OK** in the Project Properties window.

And you should be good to go.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-22T08:42:17.330

将该库文件复制到 libs 文件夹中

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-22T09:25:51.937

如果你有库的源代码，你可以在 eclipse 中导入它。右键单击您的项目-> 属性-> android -> 参考-> 添加并添加您已导入的库项目。这将仅包括您项目中库的 .class 文件****

# wcf - 通过 netTcpBinding 连接到远程托管的 WCF 服务

> ID：15019937
> 
> 赞同：0
> 
> 时间：2013-02-22T08:38:13.853
> 
> 标签：wcf, tcp, connect

我可以毫无问题地在本地连接到我的 WCF 服务，但是当我远程托管它时，我收到此错误：

TCP 错误代码 10061：无法建立连接，因为目标机器主动拒绝了它 192.168.200.58:1991。

请注意，他的防火墙已经在主机上关闭。

我无法弄清楚出了什么问题。有什么帮助吗？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T10:55:04.320

尝试使用命令（需要提升权限 - 以管理员身份运行）

```
netstat -anb 
```

您可能已经搜索过，但我发现了另一个可能会引导您找到答案的问题；

[WCF 无法建立连接，因为目标计算机主动拒绝](https://stackoverflow.com/questions/5980365/wcf-no-connection-could-be-made-because-the-target-machine-actively-refused)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T10:44:04.797

看起来像防火墙问题。检查目标和客户端机器上打开的端口 1991

# jquery - 定位所选父 li 的所有嵌套 li

> ID：15019939
> 
> 赞同：1
> 
> 时间：2013-02-22T08:38:15.897
> 
> 标签：jquery

我有三个相互嵌套的无序列表。第二个和第三个`ul`被隐藏（`display: none;`）

通过第一个事件，我需要显示第一个的所有`ul.second`元素。`li``ul.first`

通过第二个事件，我需要显示第一个的所有`ul.third`元素。这是代码：`li``ul.second`

**HTML**

```
<ul class="first">
<li class="first-element">
    <ul class="second">
        <li class="second-element">
            <ul class="third">
                <li class="third-element"></li>
                <li class="third-element"></li>
                <li class="third-element"></li>
            </ul>
        </li>
        <li class="second-element">
            <ul class="third">
                <li class="third-element"></li>
                <li class="third-element"></li>
                <li class="third-element"></li>
            </ul>
        </li>
        <li class="second-element">
            <ul class="third">
                <li class="third-element"></li>
                <li class="third-element"></li>
                <li class="third-element"></li>
            </ul>
        </li>
    </ul>
</li>
<li class="first-element">
    <ul class="second">
        <li class="second-element">
            <ul class="third">
                <li class="third-element"></li>
                <li class="third-element"></li>
                <li class="third-element"></li>
            </ul>
        </li>
        <li class="second-element">
            <ul class="third">
                <li class="third-element"></li>
                <li class="third-element"></li>
                <li class="third-element"></li>
            </ul>
        </li>
        <li class="second-element">
            <ul class="third">
                <li class="third-element"></li>
                <li class="third-element"></li>
                <li class="third-element"></li>
            </ul>
        </li>
    </ul>
</li>
</ul> 
```

**CSS**

```
ul.second li {
    display: none;
}
ul.third li {
    display: none;
} 
```

**JS**

```
$('li.first-element:eq(0) li.second-element').show(); // works fine, it shows only li.second-element of ul.first first li
$('li.second-element:eq(0) li.third-element').show(); // does not work, in log it gives me empty [] 
```

如何以`li.second-element:eq(0) li.third-element`其他方式瞄准？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T08:48:23.027

然后

```
$('.first li:eq(0) .second > li');
$('.second > li:eq(0) .third > li'); 
```

# intellij-idea - 如何在 Intellij IDEA 中运行自定义 maven 目标？

> ID：15019944
> 
> 赞同：2
> 
> 时间：2013-02-22T08:38:26.660
> 
> 标签：intellij-idea

部署时，我的命令行“mvn tomcat7:deploy”而不仅仅是“mvn deploy”，有没有办法让 Maven 项目视图在我单击部署时运行所需的命令行？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T12:30:34.677

如果在“Maven Projects”视图中双击`deploy`，它不会启动任何应用程序服务器，而是在远程服务器（例如 Nexus 实例）上[部署 maven 工件。](http://maven.apache.org/plugins/maven-deploy-plugin/)

如果您的 .tomcat maven 插件[配置正确](http://tomcat.apache.org/maven-plugin-2.0/tomcat7-maven-plugin/usage.html)，您`pom.xml`应该展开`Plugins`Maven 模块下的节点（仍在“Maven 项目”视图中），展开`tomcat7`节点然后双击`tomcat7:deploy`目标。

作为第二种选择，您还可以创建一个新的`Maven`运行/调试配置并指定您自己的目标，如果您必须提供额外的参数，例如`-PmyProfile`.

# algorithm - 对生成器进行了多少次调用？

> ID：15019945
> 
> 赞同：2
> 
> 时间：2013-02-22T08:38:28.690
> 
> 标签：algorithm, recursion

假设我有以下算法：

```
procedure(n)
   if n == 1 then break
   R = generaterandom()
   procedure(n/2) 
```

现在我明白了这个算法的复杂性，`log(n)`但它是`log(n)`调用随机生成器还是`log(n)-1`因为调用时不调用它`n==1`。

抱歉，如果这很明显，但我一直在环顾四周，并没有真正说明确切的答案是什么。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T08:46:43.063

**有对生成器的 ceil(log(n)) 调用**

* * *

使用归纳证明：

**假设**： 每个
都有`ceil(log(k))`对生成器的调用`k<n`

**基数**：
log_2(1) = 0 => 0 次调用

**步骤**：
对于任意`n>1`有一个调用，然后从假设`ceil(log(n/2)`递归调用中的更多调用。
这给了我们`ceil(log(n/2))+1 = ceil(log(n/2)) + log(2) = ceil(log(n/2 * 2)) = ceil(log(n))`电话总数

**量子点**

注意：这里所有的日志都是以 2 为底的。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-02-22T09:05:57.883

根据[大师定理](http://en.wikipedia.org/wiki/Master_theorem)，您的方法可以写为 T(n) = T(n/2) + O(1)，因为您将 n 分成每个函数调用的一半，而这正是 O(log n)。- 我意识到你不是在要求复杂性分析，但就像我提到的，这个想法是一样的（即找到调用的数量等于它的复杂性）

# sql - 在每一行显示特定颜色

> ID：15019946
> 
> 赞同：1
> 
> 时间：2013-02-22T08:38:30.817
> 
> 标签：sql, sql-server, geometry, sql-server-2012

我有一张表，其中一列是`geometry`. 该表共有三行。

是否可以在 SQL Management Studio 的查询结果中`geometry`的“**空间结果**”选项卡中指定用于每一行的颜色？

![查询结果](../Images/7c75fb3675a79683d8fe1d8397b7e3c6.png)

例如，我想指定第一行应该是红色，第二行是黄色，第三行是黑色。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T10:22:18.230

当前（即在 SQL Server 2012 中）**无法**控制空间结果选项卡中使用的颜色，根据[此连接项](http://connect.microsoft.com/SQLServer/feedback/details/693327/ssms-spatial-results-tab-colour-features-by-value-in-chosen-column)：

> 我们最近查看了这个功能请求，并将它与其他几个进行了分类，不幸的是，它没有达到修复的标准。虽然我们以“无法修复”为由关闭此问题，但我们已在内部注意到这一点，我们将在未来版本的 SSMS 中重新访问此功能时尝试并合并此请求。此致，Sanjay Nagamangalam，SQL Server 可管理性

# security - 来自 SHA1 的纯文本长度

> ID：15019961
> 
> 赞同：0
> 
> 时间：2013-02-22T08:39:11.277
> 
> 标签：security, passwords, sha1, plaintext, string-length

在我的网站注册中，出于安全原因，我在客户端对密码进行哈希处理，并在注册请求中将哈希版本发送到服务器。但在服务器端，再次出于安全原因，我想确保输入的密码长于特定长度。
这是一种从 SHA1 中获取字符串长度的方法吗？如果不是，您对我的情况有什么其他解决方案来处理提到的两个安全问题。提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T10:15:04.953

现在有办法做到这一点。我你真的想在客户端对它进行哈希处理，你应该在对它进行哈希处理之前检查客户端的长度。[这里](http://www.the-art-of-web.com/javascript/validate-password/#.USdDQqVLPzW)有一些提示。

不过，更好的方法是使用 HTTPS 进行注册。这样密码就受到保护了。

自己做散列等问题是可能做错了。例如，不推荐使用 SHA-1。PS。如果您散列，请记住使用盐。

https 的一个骗局当然是为可能的中间人攻击打开了大门。如果它的安全性真的很高，你可以两者都做。这很可能是非常矫枉过正的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-23T13:30:16.173

## 不要那样做。

在客户端对密码进行哈希处理，并将哈希值与服务器上存储的密码进行比较。相当于**存储纯文本密码**。

攻击者无需知道实际密码，就像哈希已成为密码一样。

# ms-access - 通过 VBA MS_Access 将 MS Access 表导出为 dBase 5

> ID：15019964
> 
> 赞同：2
> 
> 时间：2013-02-22T08:39:37.113
> 
> 标签：ms-access, ms-access-2007, vba

如何通过 VBA 将单个表导出为 dBase 5 文件？

目前我正在使用这个 VBA 代码：

```
DoCmd.TransferDatabase _
acExport, _
"dBase IV", _
"DB_Total", _
acTable, _
"DB_Total", _
"C:\Data", _
False 
```

但是当我尝试执行此代码时，我收到以下错误（荷兰语，大致翻译）：

```
"DB_Total is not a valid path" 
```

但我不太确定路径是什么，因为我要导出的表在 Access 文件中，对吧？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T14:45:28.833

您应该需要第 4 个参数中的输出数据库的完整路径：

```
 DoCmd.TransferDatabase acExport, "dBase IV", "c:\full\path\to\output", acTable, "TableNameInAccess", "DBFTable", False, False 
```

另外我相信您将不得不将输出（DBFTable）限制为 8 个或更少的字符，因为它是 dBase IV。

# jquery - 如何将 ul 中的 li 元素添加为 2 列

> ID：15019965
> 
> 赞同：0
> 
> 时间：2013-02-22T08:39:43.367
> 
> 标签：jquery, html, css

我必须动态添加 li 元素作为列，就像这张图片

我有一个 li 元素，我想像这张图片一样附加 li 元素，一个列必须有 4 li，如果元素是 5。它必须添加到另一行，可能吗？

![在此处输入图像描述](../Images/410b724c328eaa03ebbb4bc73160cfe4.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T08:49:08.177

您可以使用 CSS 列。这似乎正是您正在寻找的：http: [//jsfiddle.net/ewsMh/](http://jsfiddle.net/ewsMh/)。

```
ul {
  -webkit-columns: 2;
  -moz-columns: 2;
  columns: 2;
} 
```

我认为有针对[不受支持的浏览器](https://developer.mozilla.org/en-US/docs/CSS/columns#Browser_compatibility)的 polyfill 。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T08:47:41.313

**这是你的 DOM：**

```
<ul id="left"></ul>
<ul id="right"></ul> 
```

**添加li的函数（使用jquery）：**

```
var addLi = function($li) {
    var $uls = $('ul');
    $.each($uls, function(index, ul) {
        // If this ul has less than 5 li's
        // then add the li here
        if ($(this).find('li').length < 5) {
            $(this).append($li);
            // exit the for loop since we have placed this li
            return;  
        }
    }
};
addLi('<li>Test</li>'); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T08:44:23.493

在我看来，取两个`ul`具有相同类名和不同`ID's`. 使它们彼此相邻排列。在`li`动态添加时，用`counter`变量计算添加量。如果添加超过 4，则只需添加到另一个`ul`标签（更改您正在使用的 ID）。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-22T08:47:25.497

你可以这样做。

```
var liLength;
$("#btnAddLi").click(function() {
liLength=$('#yourLastUl li').length;
if(liLength>4)
    $("#CreateOneMoreUL").append("<li>Content</li>");
else
    $("#yourLastUL").append("<li>Content</li>");
}); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-22T10:02:32.627

您只能使用一个`ul`with `nth-child(odd)`,`nth-child(even)`选择器来定位一半的元素，`float`并相应地左右它们。

看看这个演示：http: [//jsfiddle.net/x9kxd/](http://jsfiddle.net/x9kxd/)

当然，您会错过`<li>`元素的顺序，但至少您会为两列容器获得一个不错且简单的解决方案。

**- -编辑 - -**

如果您的`<li>`元素需要在 4 个项目之后更改列，那么您应该使用`nth-child(-n+4)`选择器。这样您就可以按照自己的意愿保持订单。

这是演示：http: [//jsfiddle.net/QqudC/1/](http://jsfiddle.net/QqudC/1/)

*`:nth-child()`除了 IE8 和更早版本，所有主要浏览器都支持选择器。*

# iphone - iPhone Alarm App 神秘停用（UILocalNotification）

> ID：15019966
> 
> 赞同：0
> 
> 时间：2013-02-22T08:39:48.970
> 
> 标签：iphone, ios, notifications, alarm

我正处于开发 iPhone 警报应用程序的最后阶段

警报通过通知中心工作。

适用于短时间延迟（比如 2 小时）

早上不上班（长时间延迟8小时）

它似乎在没有互联网接入的手机上也能正常工作？

是否有某种自动时间更新/同步会干扰警报功能？

是否延迟了 8 小时以上的时间来抵消通知？

应用程序是否需要在前台？

所以警报可以在短时间延迟，但不是在早上（当它意味着！）

我们将很快向 Apple 提交更新！

非常感谢你，

亨利（澳大利亚）

```
-(void)addLocalNotification:(myAlarmData *)ma WeekDay:(int)mweekday
{
    UILocalNotification *noti = [[UILocalNotification alloc] init];

    NSCalendar *gregorian = [[NSCalendar alloc] initWithCalendarIdentifier:NSGregorianCalendar];

    NSDate *now = [NSDate date];

    NSDateComponents *dcom = [gregorian components:(NSYearCalendarUnit | NSMonthCalendarUnit | NSDayCalendarUnit |NSHourCalendarUnit | NSMinuteCalendarUnit | NSSecondCalendarUnit | NSWeekdayCalendarUnit) fromDate:now];

    [dcom setWeekday:mweekday];
    [dcom setHour:ma.mHour];
    [dcom setMinute:ma.mMinute];
    [dcom setSecond:0];

    NSDate *fireDate = [gregorian dateFromComponents:dcom];

    noti.fireDate = fireDate;
    noti.timeZone = [NSTimeZone localTimeZone];
    noti.alertBody = [NSString stringWithFormat:@"Wake up %@!", [GlobalData gSettings].name];
    noti.soundName = [NSString stringWithFormat:@"%@.caf", ma.soundName];
    noti.alertAction = @"OK";

    noti.repeatInterval = NSWeekCalendarUnit;

    noti.userInfo = [[[NSDictionary alloc] initWithObjectsAndKeys:
                      ma.mid, @"mid",
                      [NSString stringWithFormat:@"%d", mweekday], @"day",
                      ma.soundName, @"sound",
                     [NSString stringWithFormat:@"%d", ma.snooze], @"snooze",
                      ma.title, @"title",
                      @"Close", @"action",
                      @"real", @"more",
                      nil] autorelease];

    [[UIApplication sharedApplication] scheduleLocalNotification:noti];

    [noti release];
    [gregorian release];
} 
```

# sql - 抑制文本字段

> ID：15019967
> 
> 赞同：0
> 
> 时间：2013-02-22T08:39:49.247
> 
> 标签：sql

我目前对文档应用了基本的签名抑制，当提示在参数字段中输入 pin 时，会出现签名。如果密码输入正确，则会出现签名，如果输入错误，则文档上会显示“未批准”。我想在列表中添加一个额外的名称，这将需要一个额外的 pin 并抑制“未批准”字段的更改。引脚抑制是：{?PIN} <> '1906' 未批准抑制是：{?PIN} = '1906' 我如何在此抑制中添加另一个引脚？

谢谢

# mysql - 加速或自动创建历史表触发器

> ID：15019971
> 
> 赞同：4
> 
> 时间：2013-02-22T08:40:19.883
> 
> 标签：mysql, database-design, triggers

是否有任何有用的工具或技巧可以自动（或快速）为 MySQL 中的给定表创建历史表 + 触发器？[到目前为止](http://blog.stevehorn.cc/blog?tag=MySql)，我已经遇到过这个工具，但它已经有一段时间没有更新了。如果相关，我使用 MySQL Workbench 的“模型”工具来构建我的数据库模型，然后将它们与我的本地数据库同步。

我想要的是能够为表提供创建脚本，并让该工具神奇地为历史表和触发器创建脚本，以便在插入/更新/删除时插入这些历史表。例如，如果我有一个`foo`包含复合 PK `a`、`b`、 外键`c`、`d`和 属性的表`e`，`f`它将为`foo_history`具有复合 PK `a`、`b`、`revisionNum`和`c`、`d`、`e`、 、 、 、 、 的历史表生成创建脚本，`f`从`c`和`d`- 加上可能指示的列操作的时间以及是否是 INSERT/UPDATE/DELETE。

如果它不存在，我很乐意制作这样的脚本并分享它，但如果它存在，我不想重新发明轮子。如果没有，您认为其他人使用这样的脚本最方便的格式是什么/您如何将其融入您的模型开发工作流程？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-23T20:43:57.983

我为自己创建了这个小怪物 php 脚本，它从一些速记 txt 文件生成 SQL DDL，现在它可以生成历史表及其`CREATE TRIGGER`语句。

[http://simpleddl.coolpage.biz/](http://simpleddl.coolpage.biz/)

示例来源：

```
// ZZZ means "Create History Table + Triggers"
// you can try editing it live at the link above

!DROP
= ID id P AI

person ZZZ
  ID
  name _
  N mother_id -> person
  N father_id -> person
  !FK mother_id, father_id -> family

family ZZZ
  P female_id -> person
  P male_id   -> person 
```

生成的 SQL DDL：

```
DROP   TABLE IF     EXISTS person;
CREATE TABLE IF NOT EXISTS person (
   id         INT NOT NULL AUTO_INCREMENT,
   name       VARCHAR(255) NOT NULL,
   mother_id  INT NULL,
   father_id  INT NULL,
   PRIMARY KEY ( id ),
   FOREIGN KEY ( mother_id ) REFERENCES person( id ),
   FOREIGN KEY ( father_id ) REFERENCES person( id ),
   FOREIGN KEY ( mother_id, father_id ) REFERENCES family( female_id, male_id )
) ENGINE=InnoDB DEFAULT CHARSET=utf8 AUTO_INCREMENT=1;

DROP   TABLE IF     EXISTS family;
CREATE TABLE IF NOT EXISTS family (
   female_id  INT NOT NULL,
   male_id    INT NOT NULL,
   PRIMARY KEY ( female_id, male_id ),
   FOREIGN KEY ( female_id ) REFERENCES person( id ),
   FOREIGN KEY ( male_id ) REFERENCES person( id )
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

DROP   TABLE IF     EXISTS zz_person;
CREATE TABLE IF NOT EXISTS zz_person (
   id         INT NOT NULL,
   name       VARCHAR(255) NOT NULL,
   mother_id  INT NULL,
   father_id  INT NULL,
   _zz_id     INT NOT NULL AUTO_INCREMENT,
   _zz_op     CHAR(1) NOT NULL,
   _zz_date   datetime NOT NULL,
   PRIMARY KEY ( _zz_id ),
   INDEX P ( id ),
   INDEX ( father_id, mother_id ),
   INDEX ( _zz_op ),
   INDEX ( _zz_date )
) ENGINE=InnoDB DEFAULT CHARSET=utf8 AUTO_INCREMENT=1;

DROP   TABLE IF     EXISTS zz_family;
CREATE TABLE IF NOT EXISTS zz_family (
   female_id  INT NOT NULL,
   male_id    INT NOT NULL,
   _zz_id     INT NOT NULL AUTO_INCREMENT,
   _zz_op     CHAR(1) NOT NULL,
   _zz_date   datetime NOT NULL,
   PRIMARY KEY ( _zz_id ),
   INDEX P ( male_id, female_id ),
   INDEX ( _zz_op ),
   INDEX ( _zz_date )
) ENGINE=InnoDB DEFAULT CHARSET=utf8 AUTO_INCREMENT=1;

DROP   TRIGGER IF EXISTS INSERT_ON_person;
CREATE TRIGGER           INSERT_ON_person
                   AFTER INSERT ON person
FOR EACH ROW INSERT INTO
zz_person (     id,     name,     mother_id,     father_id, _zz_date, _zz_op )
   VALUES ( NEW.id, NEW.name, NEW.mother_id, NEW.father_id,  NOW()  ,  'i'   );

DROP   TRIGGER IF EXISTS UPDATE_ON_person;
CREATE TRIGGER           UPDATE_ON_person
                   AFTER UPDATE ON person
FOR EACH ROW INSERT INTO
zz_person (     id,     name,     mother_id,     father_id, _zz_date, _zz_op )
   VALUES ( NEW.id, NEW.name, NEW.mother_id, NEW.father_id,  NOW()  ,  'u'   );

DROP   TRIGGER IF EXISTS DELETE_ON_person;
CREATE TRIGGER           DELETE_ON_person
                   AFTER DELETE ON person
FOR EACH ROW INSERT INTO
zz_person (     id,     name,     mother_id,     father_id, _zz_date, _zz_op )
   VALUES ( OLD.id, OLD.name, OLD.mother_id, OLD.father_id,  NOW()  ,  'd'   );

DROP   TRIGGER IF EXISTS INSERT_ON_family;
CREATE TRIGGER           INSERT_ON_family
                   AFTER INSERT ON family
FOR EACH ROW INSERT INTO
zz_family (     female_id,     male_id, _zz_date, _zz_op )
   VALUES ( NEW.female_id, NEW.male_id,  NOW()  ,  'i'   );

DROP   TRIGGER IF EXISTS UPDATE_ON_family;
CREATE TRIGGER           UPDATE_ON_family
                   AFTER UPDATE ON family
FOR EACH ROW INSERT INTO
zz_family (     female_id,     male_id, _zz_date, _zz_op )
   VALUES ( NEW.female_id, NEW.male_id,  NOW()  ,  'u'   );

DROP   TRIGGER IF EXISTS DELETE_ON_family;
CREATE TRIGGER           DELETE_ON_family
                   AFTER DELETE ON family
FOR EACH ROW INSERT INTO
zz_family (     female_id,     male_id, _zz_date, _zz_op )
   VALUES ( OLD.female_id, OLD.male_id,  NOW()  ,  'd'   ); 
```

测试小提琴：

[http://sqlfiddle.com/#!2/d05e6/1](http://sqlfiddle.com/#!2/d05e6/1)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T22:58:15.450

我只想编写一个工具来查询表的模式，然后生成脚本以手动运行。只是一个您喜欢的语言的简单代码生成器。

作为注释，我建议编写脚本来删除您编写的对象。只是帮助清理，以防你在前几次弄错了。

# iphone - 如何取消SBJsonStreamParser的解析？

> ID：15019977
> 
> 赞同：1
> 
> 时间：2013-02-22T08:40:40.280
> 
> 标签：iphone, ios, sbjson

我使用SBJsonStreamParser（SBJson的类）来解析JSON。现在我想知道在运行时解析类时如何取消类的解析。我找不到这样的API。请帮助我！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T10:48:37.050

恐怕目前没有这样的API。如果您需要它，我建议在[问题跟踪器](https://github.com/stig/json-framework/issues)中提出问题。您也可以自己实现它，并发送拉取请求。如果它有任何好处，我会接受补丁。

**免责声明：我是 SBJson 的作者。**

*更新：*让您知道，SBJson 4（2013 年 12 月发布）支持取消。

# ios - 我已经更改了我的应用程序的数据库，如果我将上传到苹果商店，那么会发生什么？

> ID：15019979
> 
> 赞同：0
> 
> 时间：2013-02-22T08:40:46.460
> 
> 标签：ios, database

我在苹果商店有一个应用程序，由于某些问题，我在我的应用程序的数据库中添加了一个字段。

我的查询是：当我更改应用程序的数据库时，我必须从模拟器中删除现有应用程序，然后在模拟器上重新安装应用程序，但是当有人从应用商店安装它时，我的客户是否还必须删除现有应用程序然后安装新的或在此数据库更改案例中会发生什么？还是我必须在代码中尝试一些东西？提前致谢 ：）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T08:49:51.797

您将不得不进行数据库迁移。数据库迁移使您的应用程序的现有用户能够安装更新，而无需删除旧版本。旧数据也将迁移到新版本。

你在使用核心数据吗？如果您使用的是核心数据，那么您应该阅读[Apple](http://developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/CoreDataVersioning/Articles/Introduction.html#//apple_ref/doc/uid/TP40004399-CH1-SW1)关于核心数据迁移的文档。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T08:51:54.600

如果您的应用程序正在存储任何用户特定的数据，则不应强制用户删除该应用程序。

当您上传新版本时，它应该有升级数据库的规定。您可以以编程方式进行。要确定用户是否已升级，您可以将一些自定义密钥添加到您的 .plist 文件中或通过任何其他方式。一旦确定，您可以迁移核心数据，也可以通过更新表查询迁移现有的 sqlite3 数据库。

# c++ - 创建窗口后删除窗口样式

> ID：15019980
> 
> 赞同：1
> 
> 时间：2013-02-22T08:40:47.870
> 
> 标签：c++, winapi, styles, window

我用以下代码创建了一个窗口：

```
hWnd = CreateWindowEx(WS_EX_TOPMOST | WS_EX_WINDOWEDGE, szWindowClass, szTitle, WS_OVERLAPPEDWINDOW, CW_USEDEFAULT, CW_USEDEFAULT, 640, 480, NULL, NULL, hInstance, NULL); 
```

该窗口`WS_EX_TOPMOST`在创建时具有样式，但如果单击按钮，我想删除此样式。我看到了[参考，`SetWindowLong()`](http://msdn.microsoft.com/en-us/library/windows/desktop/ms633591%28v=vs.85%29.aspx)但我不知道如何在这种情况下使用它。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-22T08:56:48.320

该`WS_EX_TOPMOST`样式[的文档指出：](http://msdn.microsoft.com/en-us/library/windows/desktop/ff700543%28v=vs.85%29.aspx)

> 要添加或删除此样式，请使用[SetWindowPos](http://msdn.microsoft.com/en-us/library/windows/desktop/ms633545%28v=vs.85%29.aspx)函数。

所以，显然你不能用`SetWindowLong`清除这种风格。

尝试：

```
SetWindowPos(hWnd, HWND_NOTOPMOST, 0, 0, 0, 0, SWP_NOMOVE | SWP_NOSIZE); 
```

# python - Python3：如何创建同一类的不同对象的字典？

> ID：15019982
> 
> 赞同：0
> 
> 时间：2013-02-22T08:40:57.540
> 
> 标签：python, python-3.x

我想创建一个字典，其中包含同一类的多个对象。每个对象必须是独立的。就像是：

```
#!/usr/bin/python3

class myReserve():

    myList = dict()

    def __init__(self, initName):
        self.myName = initName
        self.setList()

    def setList(self):
        if self.myName == "fruit":
            self.myList[0] = "Orange"
            self.myList[1] = "Lemon"
        elif self.myName == "vegetable":
            self.myList[0] = "Tomato"
            self.myList[1] = "Carrot"
        #If neither fruit nor vegetable
        #myList should be empty.

myStore = dict()
myStore[0] = myReserve("fruit")
myStore[1] = myReserve("vegetable")
myStore[2] = myReserve("spices")

print(myStore[0].myList) 
```

这打印：

```
{0: 'Tomato', 1: 'Carrot'} 
```

我以为它会打印：

```
{0: 'Orange', 1: 'Lemon'} 
```

我理解对象在 Python 中是通过引用传递的。

```
dict1 = {"var": 128}
dict2 = dict1
dict2["var"] = 0
print(dict1["var"]) 
```

将打印：

```
0 
```

通过创建一个类，我想为不同的对象创建一个结构。我不明白第一个代码示例的行为。是否有可能以 Python 的方式做这样的事情？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T09:15:45.903

您的问题是您在`myList`类级别上进行定义，因此它由`myReserve`. 尝试在其中定义它`myReserve.__init__`：

```
class myReserve():
    def __init__(self, initName):
        self.myList = dict() 
```

完整代码：

```
#!/usr/bin/python3

class myReserve():
    def __init__(self, initName):
        self.myList = dict()
        self.myName = initName
        self.setList()

    def setList(self):
        if self.myName == "fruit":
            self.myList[0] = "Orange"
            self.myList[1] = "Lemon"
        elif self.myName == "vegetable":
            self.myList[0] = "Tomato"
            self.myList[1] = "Carrot"
        #If neither fruit nor vegetable
        #myList should be empty.

myStore = dict()
myStore[0] = myReserve("fruit")
myStore[1] = myReserve("vegetable")
myStore[2] = myReserve("spices")

print(myStore[0].myList) 
```

# php - 使用Javascript将值插入到多个隐藏字段中，每个字段都以不同的形式

> ID：15019985
> 
> 赞同：4
> 
> 时间：2013-02-22T08:41:20.887
> 
> 标签：php, javascript, jquery, mysql

我有一个 HTML 表，其中包含从数据库中提取的记录。“呼叫时间”列中的条目是从 MySQL 数据库中检索的。“计时器”列中的条目不是从数据库中检索到的，它是一个 Javascript 计时器。

![在此处输入图像描述](../Images/b4444a7ec1aa8afa655e7b678db8c1a8.png)

一旦用户点击确认按钮，计时器**停止**并且计时器的最终值必须插入到数据库中。以下 Javascript 计时器是其他人代码的略微修改版本（[从数据库中给定时间开始的经过时间](https://stackoverflow.com/questions/15001152/elapsed-time-from-a-given-time-in-the-database/15002698#15002698)）

问题：我不知道如何将经过时间值插入隐藏表单字段。请注意，每个带有 ID 的条目都有一个隐藏的表单字段`id="stoppedtime<?php echo $stopid; ?>`，我知道我必须不断增加 stopid 变量的值。我需要将每个经过的时间（按下确认按钮后）插入相应的隐藏表单字段，以便稍后可以将这些隐藏表单字段的值插入数据库。

```
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js" type="text/javascript"></script>
<script type="text/javascript">
ElapsedTimeLogger = function(dateElementId, elapsedElementId, interval) {
    var container = $(elapsedElementId);
    var time = parseDate($(dateElementId).text());
    var interval = interval;
    var timer;

    function parseDate(dateString) {
        var date = new Date(dateString);
        return date.getTime();
    }

    function update() {
        var systemTime = new Date().getTime();
        elapsedTime = systemTime - time;
        container.html(prettyPrintTime(Math.floor(elapsedTime / 1000)));
       // I Know I have to do something here to put the elapsed time into the hidden field
       //But I don't know how exactly to do it
x = document.getElementById("stoppedid");  // The Problem here is that there are Multiple IDs!!  
x.value=; prettyPrintTime(Math.floor(elapsedTime / 1000))   // Change the hidden input field value
    }

    function prettyPrintTime(numSeconds) {
        var hours = Math.floor(numSeconds / 3600);
        var minutes = Math.floor((numSeconds - (hours * 3600)) / 60);
        var seconds = numSeconds - (hours * 3600) - (minutes * 60);

        if (hours < 10) hours = "0" + hours;
        if (minutes < 10) minutes = "0" + minutes;
        if (seconds < 10) seconds = "0" + seconds;
        var time = hours + ":" + minutes + ":" + seconds;

        return time;
    }

    this.start = function() {

        timer = setInterval(function() {update()}, interval * 1000);
    }

    this.stop = function() {
        clearTimeout(timer);
    }
}
$(document).ready(function () {
    <?php 
    $count= $totalRows; // Total Number of Entries in the Database
    $datevar=1;
    $elapsedvar =1;
    $timeloggervar= 1;
    $confirmvar=1;      

if ($count > 0){
        do { 
        $count--;
        $timeloggervar++;
        $confirmvar++;
        $datevar++;
        $elapsedvar++;?>
        var timeLogger<?php echo $timeloggervar; ?> = new ElapsedTimeLogger("#date<?php echo $datevar; ?>", "#elapsed<?php echo $elapsedvar; ?>", 1);
        timeLogger<?php echo $timeloggervar; ?>.start();

        $("#Confirm<?php echo $confirmvar; ?>").click(function() { //Stop timer upon clicking the Confirm Button 
            timeLogger<?php echo $timeloggervar; ?>.stop();

        });
        <?php } while ($count > 0);}?>

    });

    </script> 
```

**一些额外信息：** 表中的每个条目都有一个这样的**UNIQUE FORM**。我在表单中放置了一个隐藏字段，以便每个记录的最终经过时间值都可以存储在值部分中，如下所示。

```
<?php echo'<form action="'.$_SERVER['PHP_SELF'].'" method="post" id="form'.$formid.'">';?>
<input name="Num" type="hidden" value="<?php echo $results['Time of Call']; ?>" />
**<input type="hidden" name="stoppedtime" id="stoppedtime<?php echo $stopid; ?>" value="">**
..... 
```

如果您能帮我解决这个问题，将不胜感激，谢谢！

**编辑：**

```
 function update(id) {
        var systemTime = new Date().getTime();
        elapsedTime = systemTime - time;
        container.html(prettyPrintTime(Math.floor(elapsedTime / 1000)));
       // I Know I have to do something here to put the elapsed time into the hidden field
       //But I don't know how exactly to do it
x = document.getElementById("stoppedid"+id);  // The Problem here is that there are Multiple IDs!!  
x.value= prettyPrintTime(Math.floor(elapsedTime / 1000));   // Change the hidden input field value
    }

this.start = function(id) { 
    timer = setInterval(function(id) {update(id)}, interval * 1000);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T08:59:16.047

在`$("#Confirm<?php echo $confirmvar; ?>").click(...`函数中，添加：

```
var stopvalue = $(this).parents('td').prev().text();

$(this).parents('td').find('input:hidden').val(stopvalue); 
```

调整代码，使其适用于您的表格布局。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T09:26:40.843

试试这个，

```
<script>
ElapsedTimeLogger = function(dateElementId, elapsedElementId, hiden, interval) {
.
.
.
function update() {
    var systemTime = new Date().getTime();
    elapsedTime = systemTime - time;
    container.html(prettyPrintTime(Math.floor(elapsedTime / 1000)));
$(hiden).val(prettyPrintTime(Math.floor(elapsedTime / 1000)));
}
.
.
.

$(document).ready(function () {
<?php
for($id=1; $id<$totalRows; $id++){
?>
    var timeLogger = new ElapsedTimeLogger("#date<?php echo $id;?>", "#elapsed<?php echo $id;?>","#stoppedid<?php echo $id;?>", 1);
    timeLogger.start();

   $("#Confirm<?php echo $id; ?>").click(function() { //Stop timer upon clicking the Confirm Button 
        timeLogger.stop();

    });
<?php
}
?>
});
</script> 
```

# assembly - 为什么switch_to使用push+jmp+ret来改变EIP，而不是直接使用jmp？

> ID：15019986
> 
> 赞同：8
> 
> 时间：2013-02-22T08:41:21.893
> 
> 标签：assembly, linux-kernel, x86

在[`linux/arch/x86/include/asm/switch_to.h`](http://elixir.free-electrons.com/linux/v4.6/source/arch/x86/include/asm/switch_to.h#L27)中，有宏的定义，`switch_to`真正的线程切换奇迹的关键行是这样的（直到 Linux 4.7 改变时）：

```
asm volatile("pushfl\n\t"       /* save    flags */ \
              pushl %%ebp\n\t"      /* save    EBP   */ \
              "movl %%esp,%[prev_sp]\n\t"   /* save    ESP   */ \
              "movl %[next_sp],%%esp\n\t"   /* restore ESP   */ \
              "movl $1f,%[prev_ip]\n\t" /* save    EIP   */ \
              "pushl %[next_ip]\n\t"    /* restore EIP   */ \
              __switch_canary                   \
              "jmp __switch_to\n"   /* regparm call  */ \
              "1:\t"                        \
              "popl %%ebp\n\t"      /* restore EBP   */ \
              "popfl\n"         /* restore flags */ \ 
```

命名操作数具有内存限制，例如`[prev_sp] "=m" (prev->thread.sp)`. `__switch_canary`除非`CONFIG_CC_STACKPROTECTOR`被定义，否则被定义为空（然后它是使用的加载和存储`%ebx`）。

我了解它是如何工作的，例如内核堆栈指针备份/恢复，以及函数末尾的指令如何与`push next->eip`指令相匹配，这实际上是与真实指令匹配的“假”调用指令，并有效地使返回下一个线程的点。`jmp __switch_to``ret``ret``next->eip`

我不明白的是，为什么要黑客攻击？为什么不只是`call __switch_to`，然后在它之后`ret`，`jmp`to `next->eip`，它更干净，更易于阅读。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-22T12:32:00.400

这样做有两个原因。

一是允许完全灵活的操作数/寄存器分配`[next_ip]`。如果您希望能够在`jmp %[next_ip]` *之后*执行此操作`call __switch_to`，则必须`%[next_ip]`分配一个*非易失性寄存器*（即，根据 ABI 定义，在进行函数调用时将*保留其值的寄存器）。*

这对编译器的优化能力造成了限制，并且`context_switch()`（“调用者” -`switch_to()`使用的地方）的结果代码可能不如预期的那么好。但是有什么好处呢？

嗯 - 这就是第二个原因出现的地方，没有，真的，因为`call __switch_to`相当于：

```
pushl 1f
jmp __switch_to
1: jmp %[next_ip] 
```

即它推送返回地址；你最终会得到一个序列`push`/ `jmp`( `== call`)/ `ret`/`jmp`而如果你不想返回这个地方（而这段代码不想），你可以通过“伪造”一个调用来节省代码分支，因为你只有做`push`/ `jmp`/ `ret`。代码在这里使自己*尾递归*。

是的，这是一个小的优化，但是避免分支可以减少延迟，而延迟对于上下文切换至关重要。

# r - rhive.connect() 问题

> ID：15019990
> 
> 赞同：0
> 
> 时间：2013-02-22T08:41:31.063
> 
> 标签：r

我试图使用连接到蜂巢，`RHive`但我收到连接被拒绝错误。

```
library(RHive)
Loading required package: rJava
Loading required package: Rserve
This is RHive 0.0-7\. For overview type â?RHiveâ.
HIVE_HOME=/home/surya/hive-0.8.1
call rhive.init() because HIVE_HOME is set.
> rhive.connect()
Error in .jcall("RJavaTools", "Ljava/lang/Object;", "invokeMethod", cl,  :
  org.apache.thrift.transport.TTransportException: java.net.ConnectException: Connection refused
NULL 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-04T07:13:40.207

打开您的终端并按照以下步骤操作。

1.  首先启动你的 hadoop hdfs

    cd /usr/local/hadoop && /bin/start-all.sh

2.  开始你的蜂巢服务

    cd /usr/local/hive/ && bin/hive --service hiveserver

它将开始进程并且不会关闭您的终端

现在打开您的 R/Rstudio 并运行以下语句

```
library(Rserve) #loading R server package
Rserve(args=”—no-save”)
Sys.setenv(HADOOP_HOME=”/usr/local/hadoop”)
Sys.setenv(HIVE_HOME=”/usr/local/hive”)
library(RHive)
rhive.connect()
rhive.env()
rhive.init()
x=1:10
y=x**2
xy=data.frame(x,y)
rhive.write.tables(xy)
rhive.list.tables() 
```

现在你可以在 hive 上看到一张 xy 表

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-12-11T20:07:55.860

我也遇到了同样的问题，并且能够*通过在 Linux CentOS 6.2 中通过简单的命令为 R 重新配置 Java*来解决这个问题：

`$R CMD javareconf`

# javascript - 类型错误：window.open 不是函数

> ID：15019992
> 
> 赞同：4
> 
> 时间：2013-02-22T08:41:32.260
> 
> 标签：javascript, jquery

我在 firebug 上不断收到此错误 - > TypeError: window.open is not a function

代码：

```
 $(document).ready(function()
{
    $('.div').click(function()
    {
        var link = $(this).data('link');
        window.open(link);
    });
}); 
```

那个功能不应该起作用吗？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2016-04-26T08:12:36.730

迟到了，但对于所有其他编码员！如果您有一个名为“open”的全局变量，例如“open = true;” 或“var open = true”或类似的东西，那么函数“open()”将不再工作。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-22T09:08:22.373

尽管您的问题并不完全清楚，但值`window.open`不是只读的，因此可以由其他代码更改，例如：

```
window.open = false;
// ...
window.open('something') // error: window.open is not a function 
```

如果您知道页面上加载了哪些脚本，这应该不难做到，只需搜索与`window.open`.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2018-06-27T10:11:31.853

尝试这个

```
window.open("https://www.google.com/", "_blank"); 
```

这段代码对我来说很好用。如果这不起作用，请确保您不应该声明以“open”命名的变量或函数。（我曾经遇到过这个问题。）

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-22T09:02:36.307

我不知道为什么，但下面的变化在你的小提琴中对我有用。

改变

```
var link = $(this).attr('data-link');
window.open(link); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2020-05-09T12:07:12.003

如果你有一个名为“window”或“open”的局部变量，那么函数“window.open()”将不再工作。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2020-01-07T08:13:59.303

如果您在 chrome 控制台中尝试过并发现它不起作用，请尝试将其作为页面预加载的脚本。它在我的情况下有效。

# c# - 如何删除 TeeChart 开始、结束的某些部分

> ID：15019994
> 
> 赞同：0
> 
> 时间：2013-02-22T08:41:35.553
> 
> 标签：c#, winforms, teechart

我正在使用 c# 中的 windows 窗体应用程序。我已经安装了 TeeChart for.net v3 的许可版本。我正在尝试删除一些不需要的 TeeChart 部分。
感谢 stackoverflow 网站的用户，他们帮助我在 TeeChart 上创建了一个鼠标点击弹出窗口。现在我想为那个弹出点击实现一些功能。
使用下面的代码，我可以创建鼠标右键单击弹出窗口。

```
double m_dblTempVolFromTo = 0;
double dtFromTo = 0;
private void mainTChart_MouseUp(object sender, MouseEventArgs e)
{
    if (!checkBoxIsTime.Checked && e.Button == MouseButtons.Right)
    {
        m_dblTempVolFromTo = mainTChart.Series[0].XScreenToValue(e.X);
        mainTChart.ContextMenu = new ContextMenu();
        mainTChart.ContextMenu.MenuItems.Add(new MenuItem("From " + m_dblTempVolFromTo + " cc"));
        mainTChart.ContextMenu.MenuItems.Add(new MenuItem("To " + m_dblTempVolFromTo + " cc"));
        mainTChart.ContextMenu.MenuItems[0].Click += new EventHandler(From_Click);
        mainTChart.ContextMenu.MenuItems[1].Click += new EventHandler(To_Click);

    }
    else if (checkBoxIsTime.Checked && e.Button == MouseButtons.Right)
    {
        DateTime dt;
        dtFromTo = mainTChart.Series[0].XScreenToValue(e.X);
        DateTime.TryParse(dtFromTo.ToString(), out dt);
        mainTChart.ContextMenu = new ContextMenu();
        mainTChart.ContextMenu.MenuItems.Add(new MenuItem("From " + dt.TimeOfDay.ToString() ));
        mainTChart.ContextMenu.MenuItems.Add(new MenuItem("To " + dt.TimeOfDay.ToString()));
        mainTChart.ContextMenu.MenuItems[0].Click += new EventHandler(From_Click);
        mainTChart.ContextMenu.MenuItems[1].Click += new EventHandler(To_Click);
    }

} 
```

上面的代码正在创建弹出窗口，如下所示。 ![图片](../Images/0b1afa71ad24da4a18a884517a05583b.png)
我正在尝试实现“For 7.6 cc”和“To 7.6 cc”的功能。当我单击“到 7.6 cc”时，图表应该从“0 到 7.6”比例删除，剩余部分应该在那里。同样适用于“从 145 cc”点击，它必须从“145 到 150（刻度结束）”中删除图表。
单击“To”用于删除图表的起始部分，单击“From”用于删除图表的结束部分。
我试过这样，但我无法得到我想要的。

```
void From_Click(object sender, EventArgs e)
{
    if (!checkBoxIsTime.Checked)
    {
        var destBitmap = mainTChart.Export.Image.Bitmap.Clone(new Rect(0, 0, 100, 200), sourceBitmap.PixelFormat);
    }
}

void To_Click(object sender, EventArgs e)
{

} 
```

即使我也尝试过这段代码

```
void mainTChart_GetLegendRect(object sender, mainTChart.GetLegendRectEventArgs e)
{
    Rectangle cropRect = e.Rectangle;
    Bitmap legendImg = new Bitmap(cropRect.Width, cropRect.Height);

    using (Graphics g = Graphics.FromImage(legendImg))
    {
      g.DrawImage(chartBmp, new Rectangle(0, 0, mainTChart.Width, mainTChart.Height),
                 cropRect,
                 GraphicsUnit.Pixel);
    }
} 
```

没有什么对我有用。任何人都可以帮助我完成这项任务。

提前致谢。

> 当我将 X 轴作为时间进行编辑时，我无法通过鼠标单击获得显示时间。我尝试过的代码如下所示

```
 DateTime dt;
        dtFromTo = mainTChart.Series[0].XScreenToValue(e.X);
        DateTime.TryParse(dtFromTo.ToString(), out dt);
        mainTChart.ContextMenu = new ContextMenu();
        mainTChart.ContextMenu.MenuItems.Add(new MenuItem("From " + dt.TimeOfDay.ToString() ));
        mainTChart.ContextMenu.MenuItems.Add(new MenuItem("To " + dt.TimeOfDay.ToString())); 
```

我得到了这样 ![在此处输入图像描述](../Images/e35c527bbb56afaf336243481d7dd325.png) 的结果，如上图所示，但希望在鼠标右键单击时显示等效时间。我为这个变量“dtFromTo”获得了一些价值，比如 41322.9876587965”，但我无法将该值转换为时间。请帮助我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T12:32:30.550

已知要从/到“剪切”的值，您只需设置底部轴的最小值和最大值属性。

> 当我单击“到 7.6 cc”时，图表应该从“0 到 7.6”比例删除，剩余部分应该在那里

这将是：

```
mainTChart.Axes.Bottom.AutomaticMinimum = false;
mainTChart.Axes.Bottom.Minimum = 7.6; 
```

> 同样适用于“从 145 cc”点击，它必须从“145 到 150（刻度结束）”中删除图表。

这将通过设置最大值来完成：

```
mainTChart.Axes.Bottom.AutomaticMaximum = false;
mainTChart.Axes.Bottom.Maximum = 145; 
```

所以我认为这应该是诀窍：

```
 void From_Click(object sender, EventArgs e)
    {
        mainTChart.Axes.Bottom.AutomaticMaximum = false;
        mainTChart.Axes.Bottom.Maximum = m_dblTempVolFromTo;
    }

    void To_Click(object sender, EventArgs e)
    {
        mainTChart.Axes.Bottom.AutomaticMinimum = false;
        mainTChart.Axes.Bottom.Minimum = m_dblTempVolFromTo;
    } 
```

我还建议您创建insted 的事件，因为在事件中创建它`ContextMenu`为时已晚，显示的 ContextMenu 不会显示更新的版本。`mainTChart_MouseDown``mainTChart_MouseUp``mainTChart_MouseUp`

**编辑：**

对于 DateTime XValues，错误的行是这一行：

```
DateTime.TryParse(dtFromTo.ToString(), out dt); 
```

这是对我来说似乎可以正常工作的完整代码：

```
 private void InitializeChart()
    {
        mainTChart.Aspect.View3D = false;

        Line line1 = new Line(mainTChart.Chart);
        line1.XValues.DateTime = true;
        line1.FillSampleValues();
        mainTChart.Axes.Bottom.Labels.DateTimeFormat = "hh:mm";

        mainTChart.MouseDown += new MouseEventHandler(mainTChart_MouseDown);
    }

    double m_dblTempVolFromTo = 0;
    double dtFromTo = 0;

    void mainTChart_MouseDown(object sender, MouseEventArgs e)
    {
        if (!mainTChart.Axes.Bottom.IsDateTime && e.Button == MouseButtons.Right)
        {
            m_dblTempVolFromTo = mainTChart[0].XScreenToValue(e.X);
            mainTChart.ContextMenu = new ContextMenu();
            mainTChart.ContextMenu.MenuItems.Add(new MenuItem("From " + m_dblTempVolFromTo + " cc"));
            mainTChart.ContextMenu.MenuItems.Add(new MenuItem("To " + m_dblTempVolFromTo + " cc"));
            mainTChart.ContextMenu.MenuItems[0].Click += new EventHandler(From_Click);
            mainTChart.ContextMenu.MenuItems[1].Click += new EventHandler(To_Click);

        }
        else if (e.Button == MouseButtons.Right)
        {
            dtFromTo = mainTChart[0].XScreenToValue(e.X);
            String stFromTo = mainTChart.Axes.Bottom.Labels.LabelValue(dtFromTo);
            mainTChart.ContextMenu = new ContextMenu();
            mainTChart.ContextMenu.MenuItems.Add(new MenuItem("From " + stFromTo));
            mainTChart.ContextMenu.MenuItems.Add(new MenuItem("To " + stFromTo));
            mainTChart.ContextMenu.MenuItems[0].Click += new EventHandler(From_Click);
            mainTChart.ContextMenu.MenuItems[1].Click += new EventHandler(To_Click);
        }
    }

    void From_Click(object sender, EventArgs e)
    {
        mainTChart.Axes.Bottom.AutomaticMaximum = false;
        if (!mainTChart.Axes.Bottom.IsDateTime)
            mainTChart.Axes.Bottom.Maximum = m_dblTempVolFromTo;
        else
            mainTChart.Axes.Bottom.Maximum = dtFromTo;
    }

    void To_Click(object sender, EventArgs e)
    {
        mainTChart.Axes.Bottom.AutomaticMinimum = false;
        if (!mainTChart.Axes.Bottom.IsDateTime)
            mainTChart.Axes.Bottom.Minimum = m_dblTempVolFromTo;
        else
            mainTChart.Axes.Bottom.Minimum = dtFromTo;
    } 
```

# javascript - 单页播放应用程序

> ID：15019996
> 
> 赞同：2
> 
> 时间：2013-02-22T08:41:36.420
> 
> 标签：javascript, rest, playframework, playframework-2.0

我刚刚阅读了有关公开 RESTful 接口以检索数据的单页 Web 应用程序 - 例如以 JSON 格式，并且仅提供一个引用负责调用 RESTful 接口和构建 Web 用户的 Javascript 文件的 HTML 页面在客户端的 Web 浏览器中动态界面。

要在 Play 中实现这一点，应该实现控制器，以便它们返回 JSON 而不是 HTLM，并实现一些 CoffeScript 以在客户端呈现用户界面。

到目前为止一切顺利......但我想知道这种设计是否对大型 Web 应用程序有意义，因为要在客户端运行的 javascript 代码量会越来越多。

我最初的想法是使用 Play 的模板引擎实现 Web 应用程序，然后为移动应用程序提供 RESTful 接口。

任何涵盖该主题的建议、想法或文档链接都将不胜感激；-)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T09:56:30.740

[Play for Scala 书中](http://www.manning.com/hilton/)有一章关于这个主题。他们使用单一视图作为入口点，就是这样。

对于大型应用程序，这是一个有效的问题。为此，您可能需要使用诸如[RequireJS](http://requirejs.org/)（Play 2.1 内置支持）等库。您可能还希望将您的应用程序拆分为子模块以管理复杂性。在客户端，您可能也应该使用框架，例如[AngularJS](http://angularjs.org/)。

关于 Play 就没什么好说的了，它是一个很好的暴露 RESTful JSON 服务的平台。我建议您查看[JSON 文档](http://www.playframework.com/documentation/2.1.0/ScalaJson)并查看[ReactiveMongo](http://reactivemongo.org/)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-27T11:53:27.077

提供一个通用的 REST API 应该可以正常工作。目前，我正在为浏览器（Backbone 等）和 iOS 客户端使用 Play 2.0 服务器应用程序。浏览器客户端与 Play 应用完全分离，独立部署。

我认为与 Play 模板方法相比有一些初始开销，但只有一组控制器来测试等让生活更轻松。

需要考虑的几点：

*   客户端身份验证。最好对所有客户端使用相同的方式。
*   At some point you might want to introduce some specialized REST API for one of the clients in order to save bandwith and number of requests. For example mobile landing screen is a typical candidate.
*   You need to document your REST APIs more detailed as the web client devs are not sharing the codebase.