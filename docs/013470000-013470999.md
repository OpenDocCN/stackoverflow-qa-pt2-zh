# StackOverflow 问答 13470000-13470999

# iphone - 如何在 iOS 中设置效果音频单元

> ID：13470005
> 
> 赞同：3
> 
> 时间：2012-11-20T09:21:34.447
> 
> 标签：iphone, ios, core-audio, effects, audiounit

我的任务是播放本地保存在文档目录中的音频文件，使用效果音频单元在该音频文件中应用音频效果，并将具有该效果的新音频文件保存在文档目录中。这是我到目前为止编写的代码，但它不起作用。音频中未应用效果。请建议我这段代码有什么问题？？提前致谢..

```
- (void) setUpAudioUnits
{
OSStatus setupErr = noErr;

// describe unit
AudioComponentDescription audioCompDesc;
audioCompDesc.componentType = kAudioUnitType_Output;
audioCompDesc.componentSubType = kAudioUnitSubType_RemoteIO;
audioCompDesc.componentManufacturer = kAudioUnitManufacturer_Apple;
audioCompDesc.componentFlags = 0;
audioCompDesc.componentFlagsMask = 0;

// get rio unit from audio component manager
AudioComponent rioComponent = AudioComponentFindNext(NULL, &audioCompDesc);
setupErr = AudioComponentInstanceNew(rioComponent, &remoteIOUnit);
NSAssert (setupErr == noErr, @"Couldn't get RIO unit instance");

// set up the rio unit for playback
UInt32 oneFlag = 1;
AudioUnitElement outputElement = 0;
setupErr = 
AudioUnitSetProperty (remoteIOUnit,
                      kAudioOutputUnitProperty_EnableIO,
                      kAudioUnitScope_Output,
                      outputElement,
                      &oneFlag,
                      sizeof(oneFlag));
NSAssert (setupErr == noErr, @"Couldn't enable RIO output");

// enable rio input
AudioUnitElement inputElement = 1;

// setup an asbd in the iphone canonical format
AudioStreamBasicDescription myASBD;
memset (&myASBD, 0, sizeof (myASBD));
// myASBD.mSampleRate = 44100;
myASBD.mSampleRate = hardwareSampleRate;
myASBD.mFormatID = kAudioFormatLinearPCM;
myASBD.mFormatFlags = kAudioFormatFlagsCanonical;
myASBD.mBytesPerPacket = 4;
myASBD.mFramesPerPacket = 1;
myASBD.mBytesPerFrame = 4;
myASBD.mChannelsPerFrame = 2;
myASBD.mBitsPerChannel = 16;

/*
 // set format for output (bus 0) on rio's input scope
 */
setupErr =
AudioUnitSetProperty (remoteIOUnit,
                      kAudioUnitProperty_StreamFormat,
                      kAudioUnitScope_Input,
                      outputElement,
                      &myASBD,
                      sizeof (myASBD));
NSAssert (setupErr == noErr, @"Couldn't set ASBD for RIO on input scope / bus 0");

// song must be an LPCM file, preferably in caf container
// to convert, use /usr/bin/afconvert, like this:
//  /usr/bin/afconvert --data LEI16 Girlfriend.m4a song.caf

// read in the entire audio file (NOT recommended)
// better to use a ring buffer: thread or timer fills, render callback drains
NSURL *songURL = [NSURL fileURLWithPath:
                  [[NSBundle mainBundle] pathForResource: @"song"
                                                  ofType: @"caf"]];
AudioFileID songFile;
setupErr = AudioFileOpenURL((CFURLRef) songURL,
                            kAudioFileReadPermission,
                            0,
                            &songFile);
NSAssert (setupErr == noErr, @"Couldn't open audio file");

UInt64 audioDataByteCount;
UInt32 audioDataByteCountSize = sizeof (audioDataByteCount);
setupErr = AudioFileGetProperty(songFile,
                                kAudioFilePropertyAudioDataByteCount,
                                &audioDataByteCountSize,
                                &audioDataByteCount);
NSAssert (setupErr == noErr, @"Couldn't get size property");

musicPlaybackState.audioData = malloc (audioDataByteCount);
musicPlaybackState.audioDataByteCount = audioDataByteCount;
musicPlaybackState.samplePtr = musicPlaybackState.audioData;

NSLog (@"reading %qu bytes from file", audioDataByteCount);
UInt32 bytesRead = audioDataByteCount;
setupErr = AudioFileReadBytes(songFile,
                              false,
                              0,
                              &bytesRead,
                              musicPlaybackState.audioData);
NSAssert (setupErr == noErr, @"Couldn't read audio data");
NSLog (@"read %d bytes from file", bytesRead);

AudioStreamBasicDescription fileASBD;
UInt32 asbdSize = sizeof (fileASBD);
setupErr = AudioFileGetProperty(songFile,
                                kAudioFilePropertyDataFormat,
                                &asbdSize,
                                &fileASBD);
NSAssert (setupErr == noErr, @"Couldn't get file asbd");

ExtAudioFileCreateWithURL(outputFileURL,
                          kAudioFileCAFType,
                          &fileASBD,
                          nil,
                          kAudioFileFlags_EraseFile,
                          &musicPlaybackState.extAudioFile);

// get the mixer unit
AudioComponentDescription mixerDesc;
mixerDesc.componentType = kAudioUnitType_Effect;
mixerDesc.componentSubType = kAudioUnitSubType_Delay;
mixerDesc.componentManufacturer = kAudioUnitManufacturer_Apple;
mixerDesc.componentFlags = 0;
mixerDesc.componentFlagsMask = 0;

// get mixer unit from audio component manager
AudioComponent mixerComponent = AudioComponentFindNext(NULL, &mixerDesc);
setupErr = AudioComponentInstanceNew(mixerComponent, &mixerUnit);
NSAssert (setupErr == noErr, @"Couldn't get mixer unit instance");

// set up connections and callbacks

// connect mixer bus 0 input to robot voice render callback
effectState.rioUnit = remoteIOUnit;
effectState.sineFrequency = 23;
effectState.sinePhase = 0;
effectState.asbd = myASBD;

// connect mixer bus 1 input to music player callback

AURenderCallbackStruct musicPlayerCallbackStruct;
musicPlayerCallbackStruct.inputProc = MusicPlayerCallback; // callback function
musicPlayerCallbackStruct.inputProcRefCon = &musicPlaybackState;

setupErr = 
AudioUnitSetProperty(mixerUnit, 
                     kAudioUnitProperty_SetRenderCallback,
                     kAudioUnitScope_Global,
                     outputElement,
                     &musicPlayerCallbackStruct,
                     sizeof (musicPlayerCallbackStruct));
NSAssert (setupErr == noErr, @"Couldn't set mixer render callback on bus 1");

// direct connect mixer to output
AudioUnitConnection connection;
connection.sourceAudioUnit = mixerUnit;
connection.sourceOutputNumber = outputElement;
connection.destInputNumber = outputElement;

setupErr = 
AudioUnitSetProperty(remoteIOUnit, 
                     kAudioUnitProperty_MakeConnection,
                     kAudioUnitScope_Input,
                     outputElement,
                     &connection,
                     sizeof (connection));
NSAssert (setupErr == noErr, @"Couldn't set mixer-to-RIO connection");

setupErr = AudioUnitInitialize(mixerUnit);
NSAssert (setupErr == noErr, @"Couldn't initialize mixer unit");

setupErr =  AudioUnitInitialize(remoteIOUnit);
NSAssert (setupErr == noErr, @"Couldn't initialize RIO unit");

    setupErr = AudioOutputUnitStart (remoteIOUnit);
 } 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-20T19:26:07.843

当您有初始化音频单元的实例时，您可以`AudioUnitRender`通过向其提供 AudioBufferList 来将效果应用于声音。

首先，确保您有音频单元接受的格式的声音。您可以通过获取`kAudioUnitProperty_StreamFormat`属性来获取此格式。

如果您的音频文件的格式与您从音频单元获得的格式不同，您可以使用 ExtAudioFile “即时”转换音频。为此，您必须将`kExtAudioFileProperty_ClientDataFormat`ExtAudioFile 中的属性设置为您从“kAudioUnitProperty_StreamFormat”获得的格式。现在，当您阅读音频文件时，您将获得所需格式的音频。

另外，请确保`kAudioUnitProperty_ShouldAllocateBuffer`Audio Unit 的属性设置为`1`。

要调用`AudioUnitRender`你必须准备有效`AudioTimeStamp`的，`AudioUnitRenderActionFlags`（可以设置为`0`）和`AudioBufferList`。您不需要为缓冲区分配内存，您只需要提供缓冲区的数量及其大小。

```
AudioBufferList *buffer = malloc(sizeof(AudioBufferList) + sizeof(AudioBuffer));
buffer->mNumberBuffers = 2; // at least 2 buffers
buffer->mBuffers[0].mDataByteSize = ...; // size of one buffer
buffer->mBuffers[1].mDataByteSize = ...; 

AudioUnitRenderActionFlags flags = 0;

AudioTimeStamp timeStamp;
memset(&timeStamp, 0, sizeof(AudioTimeStamp));
timeStamp.mFlags = kAudioTimeStampSampleTimeValid;

UInt32 frames = ...; // number of frames in buffer
AudioUnit unit = ...; // your Delay unit 
```

现在您可以致电`AudioUnitRender`：

```
AudioUnitRender(unit, &flags, &timeStamp, 0, frames, buffer); 
```

音频单元将要求回调填充缓冲区并对声音应用效果，之后您将拥有具有有效音频的缓冲区。在这种情况下，您需要将`kAudioUnitProperty_SetRenderCallback`属性设置为有效回调。

# css - jQuery Mobile 复选框保持登录状态

> ID：13470006
> 
> 赞同：0
> 
> 时间：2012-11-20T09:21:35.647
> 
> 标签：css, jquery-ui, jquery-mobile, checkbox

我正在做 jQuery Mobile，如何使“保持登录”复选框与按钮登录相同。

请参考我的 jsfiddle.net/mapsv3/sZdCu/ 我的目标是与 Google 登录框相同的界面，例如 ![复选框与按钮相同的行](../Images/2cb102bc993f1cc99aefd3e8a957355e.png)

感谢您的帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T10:06:37.097

使用 jquery mobile 中的网格/块类将允许您简单地内联元素。

```
<div class="ui-grid-a">
    <div class="ui-block-a">
        <a data-theme="d" id="loginButton" data-role="button" data-inline="true" data-mini="true" value="Login" href="booking.html" rel="external" >Login</a>
    </div>
    <div class="ui-block-b">
        <input type="checkbox" name="checkbox-1" id="checkbox-1" data-mini="true">
        <label for="checkbox-1">Stay Signed in</label>
    </div>
</div> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T15:31:31.143

您还可以添加 data-role="none" 这将删除复选框上的样式。我必须构建类似的东西，这非常困难。

# excel - 将具有特定值的所有单元格复制到另一列跳过空白

> ID：13470007
> 
> 赞同：5
> 
> 时间：2012-11-20T09:21:35.930
> 
> 标签：excel, skip, vba

我有三列，A、B 和 C：
A 列包含名称、NAME1、NAME2 等
。B 列仅包含值“YES”或“NO”。
假设 C 列包含 A 列中 B 列中值为“YES”的名称。

我可以说，只要 B 列中的值为“是”，将值从 A 列复制到 C 列。非常简单：

```
C1=IF(B1="YES",A1,"") 
```

但这将包括我不想要的空白单元格。所以我想我正在寻找一种方法来复制 A 列中所有 B 列中值为“YES”的名称，并将它们粘贴到 C 列中，跳过空白。

我确实找到了一个 VBA 项目，它用特定的值为列中的所有单元格着色。我不确定如何将其编辑为我需要的内容。这是我到目前为止提出的代码。

**问题**
1)~~运行时错误“1004”应用程序定义或对象定义错误~~
2)~~从 A 列复制~~
3)~~检查并删除 NewRange 中的重复项~~

**编辑 1**：在代码中添加了注释行
**编辑 2**：将 NewRange 更改为从具有偏移量的 A 列（由于运行时错误而未测试）
**编辑 3**：用于复制表格的代码与用于粘贴到另一张工作表的代码分开
**编辑 4**：添加来自用户@abahgat 的更正
**编辑 5**：删除重复项

```
Sub RangeCopyPaste()
Dim cell As Range
Dim NewRange As Range
Dim MyCount As Long
MyCount = 1

'--> Loop through each cell in column B
'--> Add each cell in column A with value "YES" in column B to NewRange 
For Each cell In Worksheets("Sheet1").Range("B1:B30")
    If cell.Value = "YES" Then
        If MyCount = 1 Then Set NewRange = cell.Offset(0,-1)
        Set NewRange = Application.Union(NewRange, cell.Offset(0,-1))
        MyCount = MyCount + 1
    End If
Next cell

'--> Copy NewRange from inactive sheet into active sheet
NewRange.Copy Destination:=activesheet.Range("C1")

'--> Remove Duplicates
activesheet.Range("C1:C30").RemoveDuplicates

End Sub 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-07-18T09:05:33.493

没有 VBA 的解决方案：

C列包含如下公式：

```
=COUNTIF(B$1:B1;"yes") 
```

如果该行在 B 列中具有“是”值，则增加 C 列中的数字。
该值将在下一步中使用。

D列包含如下公式：

```
=INDEX(A:A;MATCH(ROW();C:C;0)) 
```

取值来自：
表：整个 A 行行
号：由匹配函数计算：在整个 C 列中查找第一次出现的行号（我们将放置值的行号）。0 意味着我们正在寻找这个数字而不是最接近的数字。

跳过错误：

```
=IF(ISERROR(MATCH(ROW();C:C;0));"";INDEX(A:A;MATCH(ROW();C:C;0))) 
```

更容易写：

```
=IFERROR(INDEX(A:A;MATCH(ROW();C:C;0));"") 
```

这意味着：如果该值不是错误，则写入规则中的值；如果规则错误，则写入空字符串

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-20T09:40:17.197

只是`And`对你使用了一个条件`If`来避免空单元格

1.  ，`C1`放入，然后复制下来`=IF(AND(LEN(A1>0),B1="YES"),A1,NA()))`
2.  选择`column C`
    *   按 F5
    *   *特殊*...检查`Formulas`，然后勾选*错误*（见图）
    *   删除选定的单元格，以便在 C 列中留下更短的所需名称列表

![在此处输入图像描述](../Images/7938189841d391dd24fcc19f915c4601.png)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-23T14:22:39.917

这可以解决问题：

```
Sub RangeCopyPaste()
  Dim cell As Range
  Dim NewRange As Range
  Dim MyCount As Long
  MyCount = 1

  For Each cell In Worksheets("Sheet1").Range("B1:B30")
      If cell.Value = "YES" Then
          If MyCount = 1 Then Set NewRange = cell.Offset(0,-1)
          Set NewRange = Application.Union(NewRange, cell.Offset(0,-1))
          MyCount = MyCount + 1
      End If
  Next cell

  NewRange.Copy Destination:=activesheet.Range("D1")

End Sub 
```

# c# - 如何防止我编译的库的用户查看代码？

> ID：13470008
> 
> 赞同：1
> 
> 时间：2012-11-20T09:21:45.473
> 
> 标签：c#, .net, dll

我创建了一个 dll 并在应用程序上访问。当我调试应用程序时，可以进入 dll 代码并读取代码。出于安全目的，我想阻止对 dll 函数的这种调试。如何做呢？我还想阻止人们完全查看代码。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-20T09:23:44.820

混淆是您最有可能寻找的内容。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-20T09:25:22.210

要防止调试，请打开 DLL 项目属性，在 Advanced Compile Options 下，“Generate Debug Info”必须设置为“None”。就是这样。

步骤：右键单击项目->属性->“构建”选项卡->“高级”按钮->调试信息下拉值设置为“无”。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-20T09:48:45.143

您可能想要使用[Eazfuscator.NET 之](http://www.gapotchenko.com/eazfuscator.net)类的混淆软件。

这将阻止 ILSpy、dotPeek 等反编译工具以易于理解的方式显示您的代码。

# c# - 替换 - 如果前面有字母

> ID：13470009
> 
> 赞同：2
> 
> 时间：2012-11-20T09:21:49.830
> 
> 标签：c#, regex

如果连字符两边都**没有**被数字包围，我想用空格替换连字符。

```
 string str = "Hefer 789-567 dfg-5mh";
            str = Regex.Replace(str, @"[a-zA-Z]\-(\d+)", "$1"); 
```

**输出**

> 赫弗 789-567 df5mh

**期望的输出**

> Hefer 789-567 dfg 5mh

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-20T09:27:11.143

您可以使用否定的lookahead 和lookbehind：`(?<!\d)-|-(?!\d)`说“匹配a`-`前面没有a`\d`或a`-`后面没有a `\d`”。

因此，您的正则表达式将类似于

```
string str = "Hefer 789-567 dfg-5gh";
str = Regex.Replace(str, @"(?<!\d)-|-(?!\d)", " "); 
```

编辑：请注意，这也会替换字符串开头或结尾的连字符。如果你想避免这种情况，你可以使用`(?<!\d|^)-(?=.)|(?<=.)-(?!\d|$)`or `(?<=[^\d])-(?=.)|(?<=.)-(?=[^\d])`。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-20T09:33:30.327

您在标题中描述的问题可以使用以下方法解决：

```
Regex.Replace(str, @"(?<=[A-Za-z])-", " "); 
```

您在问题正文中描述的问题可以使用以下方法解决：

```
Regex.Replace(str, @"(?<!\d)-|-(?!\d)", " "); 
```

或者没有环视：

```
Regex.Replace(str, @"([^\d])-|-([^\d])", "$1 $2"); 
```

# eclipse - 如何在不实际启动 eclipse 的情况下使用命令行创建 eclipse 工作区？

> ID：13470015
> 
> 赞同：11
> 
> 时间：2012-11-20T09:22:06.283
> 
> 标签：eclipse, command-line, workspace

是否有任何命令可以在`eclipse`不实际启动的情况下创建工作区`eclipse`？我希望该命令成为脚本的一部分。创建工作区后，将对其进行配置（例如，文本编码），然后将其用于将项目导入到`RTC`. 我知道下面的命令能够创建一个新的工作区。但是该命令还尝试导入或构建或清除构建项目，这不是我想要的。

```
eclipse -nosplash 
    -data workspace_name
    -application org.eclipse.cdt.managedbuilder.core.headlessbuild 
    -import {[uri:/]/path/to/project} 
    -build {project_name | all} 
    -cleanBuild {projec_name | all} 
```

我想要的只是一个创建新工作区的简单命令，没有别的（不导入、不构建、不启动`eclipse`）？我该怎么做？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-20T09:32:20.403

只需创建一个空文件夹。对于一个空的工作空间，您真的不需要其他任何东西。

**编辑：**如果您需要首选项以及创建子文件夹`.metadata\.plugins\org.eclipse.core.runtime\.settings`并让您的脚本`.prefs`使用您需要的设置写入文件。查看`.prefs`现有工作区的文件以了解它们的外观。

# queue - ActiveMQ：一条待处理消息但队列为空

> ID：13470017
> 
> 赞同：3
> 
> 时间：2012-11-20T09:22:21.873
> 
> 标签：queue, activemq, message-queue, wso2esb

我对 ActiveMQ 有一个奇怪的问题。我有一个似乎有待处理消息的队列，但是当我打开队列时，没有消息。

这里有什么问题？真的有消息未决吗？我怎样才能把消息带回来或至少看到内容？

待处理消息的屏幕截图： ![在此处输入图像描述](../Images/6d07dbbfcbb9de705a6394d699b1d65f.png)

打开队列时的截图，为空： ![在此处输入图像描述](../Images/ade6c955b9b7f5b110b9a79271d00796.png)

**编辑：** 刚刚发现 ActiveMQ 5.6.0 的这两个错误。这可能是那个问题的根源吗？

[与 unacked 重新连接后，持久潜艇的 pendingQueueSize 报告不正确](https://issues.apache.org/jira/browse/AMQ-3998)

[OrderPendingList 中的问题可能导致持久子重新连接后无法传递消息。](https://issues.apache.org/jira/browse/AMQ-3871)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-21T09:52:14.000

所以我很久以前就更新到了 ActiveMQ 5.7.0，从那以后就没有这个错误了。所以我会说我的问题是由于这里的这些错误：

[与 unacked 重新连接后，持久潜艇的 pendingQueueSize 报告不正确](https://issues.apache.org/jira/browse/AMQ-3998)

[OrderPendingList 中的问题可能导致持久子重新连接后无法传递消息。](https://issues.apache.org/jira/browse/AMQ-3871)

# knockout.js - 淘汰赛选择列表显示正确的项目数，但没有文本或值

> ID：13470024
> 
> 赞同：1
> 
> 时间：2012-11-20T09:22:57.707
> 
> 标签：knockout.js, knockout-mapping-plugin

我有一个奇怪的情况，将我的视图模型绑定到选择列表显示正确的行数，但显示的数据是空的；正确数量的选项元素，但每个都有一个空值和文本。下面的模型是正确的；选择一个值可以正常工作，保存后，我的视图模型代码会保存正确的值。只是什么都看不见。使用函数绑定虽然有效；例如，这显示正确：

```
<select data-bind="options: promotionLevels, 
                   optionsText: function(item) {
                       return item().description();
                   }, 
                   optionsValue: function(item) {
                       return item().id();
                   },
                   value: promotionLevel, 
                   optionsCaption: 'Choose...'"></select> 
```

虽然这不是：

```
<select data-bind="options: promotionLevels, 
                   optionsText: 'description',  
                   optionsValue: 'id', 
                   value: promotionLevel, 
                   optionsCaption: 'Choose...'"></select> 
```

我对淘汰赛比较陌生，很想知道问题是什么。

谢谢

[编辑]服务器生成的数据是：

```
"promotionLevels":[{"id":"f28391a0-8995-45a4-a360-1dd1ae38861b","description":"Beta"},{"id":"6fb6ad46-fff4-4da8-98ef-4ff469406a6c","description":"Development"},{"id":"f16d044a-4ea6-4001-844e-c8dad6227c04","description":"Production"},{"id":"1da6ac1f-7d31-ba64-fbce-c8623af6464f","description":"QA"},{"id":"bc34a34a-0c89-4215-a001-1ea40433b8a9","description":"Test"}] 
```

转储数据，一旦通过ko绑定，提升等级为：

```
"promotionLevels": [
    {
      "id": "f28391a0-8995-45a4-a360-1dd1ae38861b",
      "description": "Beta",
      "__ko_mapping__": {
        "ignore": [],
        "include": [
          "_destroy"
        ],
        "copy": [],
        "mappedProperties": {
          "id": true,
          "description": true
        }
      }
    },
    {
      "id": "6fb6ad46-fff4-4da8-98ef-4ff469406a6c",
      "description": "Development",
      ... 
```

我试过 jsfiddle 这个，但依赖关系太大了。

[编辑 2]

页面代码为：

```
 var mapping = {
        promotionLevel: {
            create: function(ctx) {
                return ko.observable(new Foo.ReferenceDataModel(ctx));
            }
        },
        ...
    };

    var viewModel = @Html.Knockout().ToViewModel(this.Model, @<text>mapping</text>);
    ko.applyBindings(viewModel, $("#endpointEditor")[0]); 
```

以及视图模型代码：

```
Foo.ReferenceDataModel = $.inherit(
Foo.ViewModelBase,
{
    __constructor: function(options) {
        this.__base();

        if (options && options.data) {
            ko.mapping.fromJS(options.data, options.mapping || { }, this);
        } else {
            this.id = ko.observable($.generateId());
            this.description = ko.observable();
        }

        this.save = function(data, e) {
            var self = this;
            var form = $(e.target).parents("form");
            $.validator.unobtrusive.parse(form);
            if (!$(form).valid()) {
                return;
            }

            if (options.callback) {
                options.callback(self);
            }
        };
    }
}); 
```

这是我继承的一个应用程序，有一组复杂的模型等。基本视图模型只是添加了默认的错误处理。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T12:41:50.793

您的问题是执行此代码时您`ko.observable`的对象中有对象：`promotionLevels`

```
var mapping = {
        promotionLevel: {
            create: function(ctx) {
                return ko.observable(new Foo.ReferenceDataModel(ctx));
            }
        },
        ...
    }; 
```

选项[绑定](http://knockoutjs.com/documentation/options-binding.html)仅支持.`optionsText`

在您的情况下，因为这些项目是数组中的可观察对象，只是一个普通的属性名称（例如“描述”）不起作用，所以您需要使用 a 函数`optionsText: function(item) { return item().description(); },`

但是，如果您不需要集合中有可观察对象的事实，则将映射修改为：

```
var mapping = {
        promotionLevel: {
            create: function(ctx) {
                return new Foo.ReferenceDataModel(ctx);
            }
        },
        ...
    }; 
```

然后简单的属性名称绑定应该可以工作：

```
<select data-bind="options: promotionLevels, 
               optionsText: 'description',  
               optionsValue: 'id', 
               value: promotionLevel, 
               optionsCaption: 'Choose...'"></select> 
```

# python - 如何测试python方法一次处理2个请求的能力？

> ID：13470030
> 
> 赞同：3
> 
> 时间：2012-11-20T09:23:23.627
> 
> 标签：python, unit-testing

`_createAccount()`采用以下两个参数的方法

```
def _createAccount(self,username,emailID):
    <statements to create account with respect to received emailID> 
```

需要使用 unittest 测试此方法，即使用单个测试方法我想一次发送两个具有相同 emailID 和不同用户名的请求。这两个请求之一必须得到响应，就像已经使用此 emailID 创建的帐户一样。如何`createAccount requests`与单元测试并行发送。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T10:34:32.870

我猜这段代码将在 Web 应用程序中运行，因此可以一次处理多个请求。

一种方法是在测试中创建线程，在不同的线程中运行该方法并检查结果，但这有很多警告。一旦并行执行线程，执行顺序就不再是确定性的，而是取决于调度程序，这可以被认为或多或少是随机的。这意味着即使您的方法在某些情况下失败（使用精确的订单或执行），也无法确保能够重新创建这些情况。换句话说，通过测试不会告诉您任何有关该方法有效性的信息。

对于这种同步问题，您必须编写代码以确保您不希望发生两次的事情不会发生。为此，您需要确保您的创建/验证代码是原子的。

例如，如果您正在使用 sql 数据库，您可以在 username 或 emailID 列上指定唯一性约束，以便第二个请求将失败（sql 事务是原子的）。在其他情况下，您可能希望使用锁来确保只有一个线程正在执行“检查是否存在，如果不存在则创建”部分。

# c++ - 假设引用作为指针传递是否有效

> ID：13470035
> 
> 赞同：6
> 
> 时间：2012-11-20T09:23:30.290
> 
> 标签：c++, visual-studio-2010, reference, arguments

我有一个这样定义的函数：

```
void doSomethingWithCustomer (const Customer &customer); 
```

我的一位开发人员这样称呼它：

```
Customer *customer = order.getCustomer();
doSomethingWithCustomer (*customer); 
```

不幸的是`getCustomer`，如果订单未绑定到客户，该方法可能会返回 nullptr。如果`getCustomer`返回 nullptr，则应用程序不会在调用时崩溃，`doSomethingWithCustomer`而是在使用客户参考的函数内崩溃。

当然，正确的写法是先检查 customer 不是 nullptr，然后如果我们有有效的客户，则调用该函数。通常我们期望如果一个函数/方法有一个引用参数，调用者检查它的有效性（这里不是这种情况），而不是函数本身检查参数。

我知道 Visual Studio 2010（及更早版本）通过实际传递指针来传递引用，但我想知道这是否在 C++ 标准中的某处指示。我们是否可以假设引用总是作为指针传递（就我个人而言，我不会依赖这个，但知道它很有趣）？

是否可以告诉 Visual Studio 在传递引用时，它应该首先自动取消引用并在调用时崩溃，而不是在更深的地方（在调试版本中这样做可能就足够了）？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-20T09:30:26.067

> **假设引用作为指针传递是否有效？**

不它不是。
该标准不要求引用应该以指针的形式实现。

如何实际实现引用是标准留给实现决定的实现细节。它仅描述来自参考的预期行为，其中之一是参考永远不能`NULL`在标准符合程序中。

如果您的函数参数`NULL`有时会出现，那么您应该将其作为指针传递。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-20T13:18:03.840

It's not observable, and it's irrelevant. A program using this code has undefined behavior because it dereferences a null pointer.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-20T09:34:15.057

不，它完全由实现定义。

出于诊断目的，我创建了一个小容器类型来验证参数。然后，您将声明函数/方法：

```
void doSomethingWithCustomer(const t_nonnull<const Customer>& pCustomer); 
```

其中`t_nonnull`类型在构造时验证了参数。但是，我发现越来越频繁地使用引用更有用（IOW，在这种情况下不要返回指针 - 只需将在客户不存在时访问客户视为错误）。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-20T09:37:16.767

行为未定义。这意味着您不能依赖任何特定的方式来发现错误。一个好的编译器可能会在编译时警告您，而另一个可能会完全掩盖错误，具体取决于您使用变量的方式。您有责任确保引用永远不会为 NULL。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-20T09:28:42.077

引用*可以*在内部使用指针来实现（就像在 Java 中发生的那样）。但以下两个区别是它们之间的关键：

1.  默认情况下，指针可以重新绑定到另一个对象。然而，引用与它被初始化的对象具有永久绑定
2.  指针可以赋值为 0，但引用不能

类比`T&`等价于`T* const`。

您无需通知编译器有关延迟变量的信息，因为这是您自己发生的。

```
void foo(T&);

T t, *p = 0;
foo(t); // the only way to pass reference
foo(*p); // the only way to pass reference 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-11-20T09:55:24.003

正如其他人所说，该标准并未规定应如何实施引用。要及早捕获“取消引用的 NULL 作为引用传递”错误，您可以在函数中执行此操作：

```
void doSomethingWithCustomer (const Customer &customer)
{
  assert(&customer);
  //... rest of function
} 
```

# json - 使用 JavaScript 从 JSON 数据生成完全通用/动态列表/表

> ID：13470036
> 
> 赞同：2
> 
> 时间：2012-11-20T09:23:32.930
> 
> 标签：json, list, parsing, templates, dynamic

我正在为我的应用程序中的查询开发一个通用前端`SQL`，并希望提供一个显示查询结果的预览功能。

查询结果`JSON`以 Web 服务的格式返回，`JSON`布局当然因查询而异。

结果应该以完全动态的方式呈现，看起来像这样：

```
Column 1    Column 2    Column 3  
aaaaaaa     bbbbbbbb    ccccccc
.
.
. 
```

无论是否使用模板库，都应在代码中生成列标题（来自 json 键）和行内容（来自 json 值）。

关于什么是最简单和/或最有效的方法有什么建议吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T11:06:46.067

这样的事情应该做：

```
function createTableFromJson(json){
    var table = "<table><tr>";
    $.each(json.results[0], function(key, value){
        table+= "<th>" + key + "</th>";
    });
    table += "</tr>";
    $.each(json.results, function(key, value){
        table +="<tr>";
        $.each(value, function(k,v){
            table += "<td>" + v + "</td>";
        });
        table +="</tr>";
    });
    table += "</table>";
    return table;
} 
```

查看[此](http://jsfiddle.net/adcQZ/2/ "这")jsfiddle 以获取完整示例。

# android - Gif 适用于模拟器但不适用于设备

> ID：13470037
> 
> 赞同：1
> 
> 时间：2012-11-20T09:23:40.507
> 
> 标签：android, android-emulator, gif

我正在使用自定义 GIFView 类以全屏布局在 android 中显示动画 gif。gif 在我运行 Android API 8 和 16 的 AVD 上显示和动画，但在我运行 Android 4.0.4 的设备上没有。在我的设备上，好像 GIFView 没有添加到布局中。这是标题栏的空白屏幕。我已经包含了相关的代码。

```
 setContentView(R.layout.fullscreen);
    LinearLayout layout = (LinearLayout) findViewById(R.id.fullscreenlayout);
    layout.setGravity(Gravity.CENTER);
    if (imageType.equals("image/gif")){
        GIFView view = new GIFView(this);
        layout.addView(view);
        view.setLayoutParams(new LinearLayout.LayoutParams(LayoutParams.MATCH_PARENT, LayoutParams.MATCH_PARENT));
        view.setMovie(loadGifFromWeb(imageUrl, imageSize));
        view.setOnClickListener(imageListener);
    }
    else{

        ImageView imageView = new ImageView(this);
        layout.addView(imageView);
        imageView.setImageDrawable(loadImageFromWeb(imageUrl));
        imageView.setLayoutParams(new LinearLayout.LayoutParams(LayoutParams.MATCH_PARENT, LayoutParams.MATCH_PARENT));
        imageView.setOnClickListener(imageListener);
    } 
```

logcat如下

```
 11-19 23:45:09.934: I/dalvikvm(7087): Wrote stack traces to '/data/anr/traces.txt'
     11-19 23:45:10.445: I/dalvikvm(7087): threadid=3: reacting to signal 3
     11-19 23:45:10.465: I/dalvikvm(7087): Wrote stack traces to '/data/anr/traces.txt'
     11-19 23:45:10.955: I/dalvikvm(7087): threadid=3: reacting to signal 3
     11-19 23:45:10.955: I/dalvikvm(7087): Wrote stack traces to '/data/anr/traces.txt'
     11-19 23:45:11.276: I/Adreno200-EGLSUB(7087): <ConfigWindowMatch:2078>: Format RGBA_8888.
     11-19 23:45:11.286: D/OpenGLRenderer(7087): Flushing caches (mode 0) 
```

[我从这里](http://droid-blog.net/2011/10/14/tutorial-how-to-use-animated-gifs-in-android-part-1/)使用了 GIFView 类

谢谢你的帮助。

编辑* 经过进一步调查，我发现基本教程代码也有同样的问题。gif 在我的模拟器上可以正常播放，但在我的设备上却不行。(T989)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-09-22T05:47:54.313

您不需要任何 Internet 权限即可显示 GIF 图像。请参考这里

[https://stackoverflow.com/a/25967271/2732632](https://stackoverflow.com/a/25967271/2732632)

# css - 悬停滚动条上的文本跳转

> ID：13470038
> 
> 赞同：3
> 
> 时间：2012-11-20T09:23:42.473
> 
> 标签：css, hover, scrollbar

我正在尝试在许多地方使用的悬停滚动条样式，但遇到了问题。悬停时滚动条的出现会导致文本跳跃，看起来很刺耳。

```
#scroll {
   width: 200px;
   height: 200px;
   overflow: hidden;
}

#scroll:hover {
  overflow-y: scroll;
} 
```

这个[小提琴](http://jsfiddle.net/pdbYz/)显示了鼠标悬停时的跳跃文本我可以在保持悬停时滚动条的外观的同时以某种方式防止文本的跳跃吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-20T09:37:54.730

只需`<p>`对您的文本使用标签，如下所示：

[http://jsfiddle.net/pdbYz/6/](http://jsfiddle.net/pdbYz/6/)

火狐更新：

[http://jsfiddle.net/pdbYz/19/](http://jsfiddle.net/pdbYz/19/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-20T09:31:07.990

我建议在其中放置另一个容器`div#scroll`，宽度固定，略小。这样，当滚动出现时，您的文本就不会“跳跃”。由于滚动条在不同的操作系统（Windows、Mac、Linux）上具有不同的宽度，因此您应该在出现滚动条的右侧留出一些可用空间。

请在此处查看我的小提琴：http: [//jsfiddle.net/5RXSW/](http://jsfiddle.net/5RXSW/)

为了使容器更明显，我应用了填充和背景颜色。您可以根据需要调整这些样式，但请在`div#scroll`滚动条右侧保留一些像素。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-11-20T09:27:08.417

您可以在悬停时更改容器的宽度，这样当滚动条出现时，它会向外而不是向内推动。这可以防止文本移动。

[http://jsfiddle.net/pdbYz/3/](http://jsfiddle.net/pdbYz/3/)

为了实现这一点，我在您的 CSS 中添加了这一行：

```
#scroll:hover {
    width: 360px;
} 
```

# javascript - Raphael JS - 在绘图中禁用 HREF

> ID：13470041
> 
> 赞同：1
> 
> 时间：2012-11-20T09:23:46.090
> 
> 标签：javascript, jquery, svg, raphael

我正在使用 Rapheael 绘制一个控制仪表板。现在我正在向仪表板编辑器中添加一个超链接对象。它是具有 HREF 属性的文本。当我添加元素并单击它时，它会打开链接。有什么方法可以暂时禁用链接吗？当我单击其他元素时，它会打开属性对话框。我也希望使用 Hyperlink 对象。

我尝试添加return：false，但没有帮助：

```
obj.dblclick(function (event) {
        jQuery('##divProperties').dialog('open');
        return false;
    }); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T09:51:23.700

返回 false 是一种使用更传统的事件绑定取消事件的方法，例如

```
obj.onclick = function() { return false } 
```

或者

```
<a onclick="return false;"></a> 
```

但它不适用于 jQuery 事件绑定。

为此，您需要调用`.preventDefault()`事件对象上的方法，该方法将传递给事件处理程序：

```
obj.dblclick(function (event) {
        jQuery('##divProperties').dialog('open');
        event.preventDefault();
    }); 
```

如果您正在捕获双击，您可能还希望阻止单击事件的默认设置，这样它也不会被触发。

# javascript - 如何使两个表格行不断附加

> ID：13470051
> 
> 赞同：1
> 
> 时间：2012-11-20T09:24:13.147
> 
> 标签：javascript, jquery, html

所以我有一个可以对其列进行排序的表。

它由多行组成，如下所示：

```
<tr><td>Data</td><td>Data</td></tr>
<tr><td>    MetaData     </td></tr>
<tr><td>Data</td><td>Data</td></tr>
<tr><td>    MetaData     </td></tr> 
```

我希望能够按数据行排序，并让元数据行紧跟在他们拥有信息的数据行之后。但是，由于我的排序代码无法区分行之间的差异，我最终得到如下内容：

```
<tr><td>Data</td><td>Data</td></tr>
<tr><td>Data</td><td>Data</td></tr>
<tr><td>    MetaData     </td></tr>    
<tr><td>    MetaData     </td></tr> 
```

如何强制将 MetaData 和 Data 行“绑定”在一起？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T10:16:16.777

如果您按如下方式排列数据，您的数据及其关联的元数据将一起排序/移动。

```
<tr>
    <td>
        <table>
            <tr><td>Data</td><td>Data</td></tr>
            <tr><td>    MetaData     </td></tr>
        </table>
    </td>
<tr>
<tr>
    <td>
        <table>
            <tr><td>Data</td><td>Data</td></tr>
            <tr><td>    MetaData     </td></tr>
        </table>
    </td>
<tr> 
```

**这个断章取义的答案是非常糟糕的做法！我提出它的唯一原因是因为您没有提供`js`进行排序的实际代码**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T09:35:44.283

好的，首先，当您有一个跨越两列的表格单元格时，您应该使用该`colspan`属性，例如

```
<tr><td colspan="2">MetaData</td></tr> 
```

现在，为了将它们联系在一起，我认为你的做法是错误的。元数据本身在逻辑上并不完全位于它自己的表行中，它应该与实际数据位于同一行中。您可以使用 HTML5 数据属性执行以下操作：

```
<tr>
    <td data-meta="MetaData">Data</td>
    <td data-meta="MetaData">Data</td>
</tr> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-20T09:37:39.513

您可以使用标签对行进行分组，该标签可以在`<tbody>`其中出现[不止一次](http://www.w3.org/TR/html401/struct/tables.html#h-11.2.3)`<table>`- 也许拥有多个 tbodies 并不常见，但实际上是可能的。

```
<tbody>
  <tr><td>Data</td><td>Data</td></tr>
  <tr><td>    MetaData     </td></tr>
</tbody>
<tbody>
  <tr><td>Data</td><td>Data</td></tr>
  <tr><td>    MetaData     </td></tr>
</tbody> 
```

您仍然需要调整其他人提到的代码以按行对 tbodies 进行排序，而不是仅对行进行排序，因此它可能无法开箱即用，但这种结构可能会帮助您解决问题。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-20T09:38:37.257

使用 javascript 做到这一点

```
function sortNum(a, b) {
    return 1 * $(a).find('.YOUR_DATA_TO_SORT').text() < 1 * $(b).find('.YOUR_DATA_TO_SORT').text() ? 0 : 1;
}
function sortTheTable(){
    $(function() {
        var elems = $.makeArray($('tr:has(.YOUR_DATA_TO_SORT)').remove())
        elems.sort(sortNum)
        $('table#TABLE_ID').append($(elems));
    });
} 
```

这是小提琴：http: [//jsfiddle.net/E56j8/](http://jsfiddle.net/E56j8/)

[[来源](https://stackoverflow.com/questions/11116568/sort-table-rows-according-to-table-data)]

# php - 隐藏查询字符串参数 htaccess

> ID：13470052
> 
> 赞同：-1
> 
> 时间：2012-11-20T09:24:18.977
> 
> 标签：php, mysql, .htaccess, querystringparameter

嗨，我想问一下如何使用 .htaccess mod_write将[http://abc.tk/comments.php?post_referrel_id=16](http://abc.tk/comments.php?post_referrel_id=16)转换为[http://abc.tk/comments.php?post_referrel_id/16](http://abc.tk/comments.php?post_referrel_id/16)表示用户看到此链接abc.tk/comments.php?post_referrel_id/16 当他单击具有源 abc.tk/comments.php?post_referrel_id=16 的超链接时

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T09:29:35.390

你需要研究，先生。检查这个简单[的教程](http://blog.eprakash.info/2012/01/10-useful-ways-to-rewrite-url-using.html)

对于您的提示，请不要`?`在重写的 url 中使用。

这是一个快速代码（`?`在重写的网址中）

```
RewriteEngine on
RewriteRule ^comment.php?post_referrel_id/([0-9]+)$ comment.php?post_referrel_id=$1 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T09:32:20.767

使用这些代码行：

```
RewriteEngine on
RewriteCond %{HTTP_HOST} ^abc.tk
RewriteRule ^comments.php?post_referrel_id=([0-9]+)$ comments.php?post_referrel_id/$1 [R=301,L] 
```

这将被重定向`comments.php?post_referrel_id=16`到`comments.php?post_referrel_id/16`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-20T09:30:43.717

```
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^comments.php?post_referrel_id/(.*)$ comments.php/post_referrel_id=$1 [L,QSA] 
```

您可能必须添加从一种形式到另一种形式的重定向。上面的代码只是告诉服务器 /16 与 =16 相同

# javascript - 正则表达式验证大于 0 且小于 1999 的数字

> ID：13470055
> 
> 赞同：1
> 
> 时间：2012-11-20T09:24:35.230
> 
> 标签：javascript, regex

我需要一个正则表达式来验证大于 0 且小于 1999 的数字。

我尝试了下面的代码，但它需要 LiveValidation 和大量代码。

```
var f8 = new LiveValidation('f8');
f8.add( Validate.Numericality, { minimum: 0, maximum: 1999} ); 
```

谢谢

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-20T09:30:14.747

你有没有尝试过这样的事情：

```
^[0-1]?[0-9]{0,3}$ 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-20T09:30:47.943

怎么样

```
([1-9][0-9]{0,2}|1[0-8][0-9]{2}|19[0-8][0-9]|199[0-8]) 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-20T09:39:24.413

想想你只是在寻找一个答案来**将一个数字与正则表达式**进行比较浪费了多少时间。但我认为作为一名程序员，你知道`><`每种语言都有符号来比较数字。我建议你使用这些。

```
function is_valid(strNum){
    var num = parseInt(strNum);
    return (num>0 && num<1999);
} 
```

这段代码会做你需要的，甚至不会浪费时间

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-20T12:40:32.633

看看这个模式：

```
^([0-9]{0,3}|1\d[0-8][9]|1\d{2}[0-8])$ 
```

它将允许 1 到 1998 之间的值，包括 1 和 1998。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-20T09:39:29.707

我不会用正则表达式这样做，但尝试：

```
/^(?![2-9].{3})\d{1,4}$/ 
```

同样，这是*不必要*的，但你明白了。

# c# - 如何在不使 Outlook 无响应/看起来很忙的情况下将电子邮件保存到磁盘？

> ID：13470057
> 
> 赞同：0
> 
> 时间：2012-11-20T09:24:45.247
> 
> 标签：c#, .net, outlook, vsto, save

我编写了一个小的 Outlook-PlugIn (VSTO/C#)，它将特定的电子邮件存储在用户指定的目录中。我的问题是，有时会同时保存带有大附件的电子邮件和/或许多（50 多封）电子邮件。

插件处理所有这些，但在某些情况下 Outlook 没有响应并显示进度条。有没有办法防止这种情况发生？（例如另一种保存这些电子邮件的方式）

如果没有，也许有人知道如何“解决”这种行为（例如，当用户“使用”Outlook 时停止保存）

*编辑这发生在 .NET 4 中，并且必须与 Outlook 2007 和 Outlook 2010 兼容。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T10:11:52.607

您可以定义一个异步运行该方法的委托。这意味着（可能）长时间运行`SaveAs(filepath)`不会阻塞 UI 并导致 Outlook 显示进度条/对用户输入无响应。

可以在这里找到这种异步编码风格的一个非常好的简单示例[Using AsyncCallBack](http://www.java2s.com/Tutorial/CSharp/0420__Thread/UseAsyncCallback.htm)

这是官方[MSDN 文章](http://msdn.microsoft.com/en-us/library/system.asynccallback.aspx)

# java - 从 CSV 文件中检索和检查 JAVA 中的密码

> ID：13470066
> 
> 赞同：-5
> 
> 时间：2012-11-20T09:25:23.317
> 
> 标签：java, email, csv, passwords

我需要编写一个程序，其中：询问电子邮件地址和密码，在 csv 文件中搜索电子邮件地址（只需调用 csv 文件 x），如果密码正确，则显示客户详细信息，显示错误消息如果密码不正确。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-20T09:29:08.470

将纯文本密码存储在至少系统管理员可以轻松查看的 CSV 文件中是不安全的。使用 SHA 或类似的安全等级单向哈希，将哈希码存储在 CSV 文件中，然后比较哈希码。

# jqgrid - 当出现水平和垂直条时，标题中的最后一列会移动

> ID：13470070
> 
> 赞同：0
> 
> 时间：2012-11-20T09:25:54.387
> 
> 标签：jqgrid

请看第一张图片。这里一切正常 ![在此处输入图像描述](../Images/7555d23f0b4238e1f032955ef32c63db.png)

但是当我们将水平滚动移动到右侧时，标题会移动。这仅在出现垂直滚动时发生。

![在此处输入图像描述](../Images/c8f6ac70c661a9ebe8d10e456b2b93ac.png)

这是因为标题宽度小于内容宽度，如果我将 20px 添加到最后一个标题单元格，我可以修复它。但是还有其他解决方案吗？

**更新 1**：

```
createExpensesGrid: function (containerId) {
    var gridDefinition = window['personalExpensesGridModel'];
    var grid = $("#" + containerId);

    if (gridDefinition) {
        var buildKey = function (key) {
            return gridDefinition.gridid + key;
        };

        $.extend(gridDefinition, {
            loadComplete: function () {
                var selectedGuidRow = $('#TransId').val();
                if (selectedGuidRow) {
                    $(this).setSelection(selectedGuidRow, true);
                }

                $(this)
                    .find('.notes')
                    .each(function () {
                        $(this).tipsy();
                    });

                validateGrid($(this));

                // To prevent grid from being focused on tab
                $(this).removeAttr("tabindex");
                $(this).find("*[tabindex]").removeAttr("tabindex");
            }
        });

    }

    grid.jqGrid(gridDefinition);

} 
```

# ruby-on-rails-3 - New Relic ActiveRecord::ConnectionNotEstablised Rails 3.2.3 错误

> ID：13470071
> 
> 赞同：0
> 
> 时间：2012-11-20T09:25:54.573
> 
> 标签：ruby-on-rails-3, activerecord, heroku, newrelic

我刚刚在我的 RefineryCMS Rails 3.2.3 应用程序中安装了 newrelic_rpm gem。我按照说明复制了 newrelic.yml 配置文件。我的应用程序正在 Cedar 堆栈上与 Heroku 一起部署，因此说明非常简单。

[https://devcenter.heroku.com/articles/newrelic#cedar](https://devcenter.heroku.com/articles/newrelic#cedar)

然而，在我的开发箱上运行“rails server”给了我这个错误信息：

```
/home/xxx/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.2.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:398:in `retrieve_connection': ActiveRecord::ConnectionNotEstablished (ActiveRecord::ConnectionNotEstablished) 
```

在 newrelic.yml 文件中将 agent_enabled 值设置为“false”允许服务器再次启动。设置我的许可证密钥和应用程序名称环境变量没有任何区别。

有趣的是，即使我无法在我的开发盒上启动该应用程序，但当我将它部署到 Heroku 时，一切正常——我现在得到了新的遗物统计信息。伟大的！

我的解决方法是从 gemfile 中删除 newrelic_rpm（这是安装说明所说的），并将其仅放入 :production 组。显然，新遗物只在生产中有用，所以没什么大不了的。

```
group :production do
  ... other gems
  gem 'newrelic_rpm'
end 
```

其他任何人都经历过这种情况，或者知道为什么它会导致 ActiveRecord 错误（在 new relic 的错误跟踪中根本没有提及）？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-18T18:46:46.610

您遇到的问题看起来像是 newrelic_rpm gem 中的一个错误，我们（我在 New Relic 工作）最近的 3.6.4 版本已经解决了这个问题。我建议您尝试更新到 3.6.4 以查看问题是否仍然存在。

作为解释：我们在 newrelic_rpm gem 中有一个叫做 EnvironmentReport 的东西，它收集有关您的应用程序正在执行的环境的信息（Rails 版本、gem 版本、DB 适配器、Ruby 版本等）以显示在 UI 中。在 newrelic_rpm gem 的 3.6.0 版本中，我们将 EnvironmentReport 的生成推送到后台线程中。由于 EnvironmentReport 可能引用了该`ActiveRecord::Base`常量，因此生成它可能会触发一些非线程安全的 ActiveRecord 初始化代码路径。如果 EnvironmentReport 碰巧`ActiveRecord::Base`在错误的时间出现，它可能会触发错误，就像您在主线程上看到的那样。

我们在 3.6.4 中通过将 EnvironmentReport 的生成移回主线程来解决这个问题。

很抱歉让您头疼，如果 3.6.4 不能解决您的问题，请告诉我们。

*编辑*- 嗯，刚刚注意到您在 3.6.0 发布之前询问过这个问题。我仍然建议尝试 3.6.4，因为我怀疑旧版本的 newrelic_rpm 中可能存在类似的竞争条件。

# apache - 多个Apache服务器安装和通过php切换

> ID：13470075
> 
> 赞同：0
> 
> 时间：2012-11-20T09:26:13.307
> 
> 标签：apache

我想通过在一个终端上安装和保持 2 台服务器来执行负载平衡。我正在使用 php 和 mysql。请告诉我

1\. 是否可以安装 2 个 apache 服务器？如果是，我如何以编程方式在这两个服务器之间切换？
2\. 我应该安装 2 个 apache 服务器还是 2 个 xampp ？？？与 apache 相比，Coz xampp 安装更容易吗？

# asp.net-mvc - mvc 4 不能自定义授权角色

> ID：13470080
> 
> 赞同：1
> 
> 时间：2012-11-20T09:26:35.873
> 
> 标签：asp.net-mvc, authorization

家庭控制器

```
 [Authorize(Roles = "Member")]
public ActionResult Contact()
{
    return View();
} 
```

全球.asax

```
protected void Application_AuthenticateRequest(Object sender, EventArgs e)
    {
        //Construst the GeneralPrincipal and FormsIdentity objects
        var authCookie = Context.Request.Cookies[FormsAuthentication.FormsCookieName];
        if (null == authCookie)
        {
            //no authentication cokie present
            return;
        }
        var authTicket = FormsAuthentication.Decrypt(authCookie.Value);
        if (null == authTicket)
        {
            //could not decrypt cookie
            return;
        }
        //get the role
        var role = authTicket.UserData.Split(new[] { ',' });
        var id = new FormsIdentity(authTicket);
        Context.User = new GenericPrincipal(id, role);
    } 
```

帐户控制器

```
 [HttpPost]
    [AllowAnonymous]
    [ValidateAntiForgeryToken]
    public ActionResult Login(LoginModel model, string returnUrl)
    {
        if (ModelState.IsValid && _userbll.ValidateUser(model.UserName, model.Password))
        {
            var ticket = new FormsAuthenticationTicket(1, model.UserName, DateTime.Now, model.RememberMe ? DateTime.Now.AddDays(14) : DateTime.Now.AddMinutes(30), model.RememberMe, "Member"); 
            var hashTicket = FormsAuthentication.Encrypt(ticket);
            var userCookie = new HttpCookie(FormsAuthentication.FormsCookieName, hashTicket);
            Response.Cookies.Add(userCookie);
            return RedirectToLocal(returnUrl);
        }
        ModelState.AddModelError("", "error");
        return View(model);
    } 
```

FormsAuthenticationTicket userData = "会员"

最后，使用内置的 Membership Role 机制

结果还是使用了 Membership Role 组合的机制</p>

mvc3可以读取userData

# c# - ListView 项目选择 Windows 应用商店

> ID：13470083
> 
> 赞同：1
> 
> 时间：2012-11-20T09:26:44.507
> 
> 标签：c#, windows-8, windows-runtime, windows-store-apps

我希望 ListView 的行为如下：

**用鼠标输入：**

*   左键单击-> 项目单击事件处理程序被执行，但不应将其显示为“已选择”
*   右键单击-> 项目被选中

**带触摸输入：**

*   单击 -> 相当于左键单击
*   向下滑动 -> 相当于右键单击

我玩过各种事件和设置，但似乎无法让它正常工作。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-20T14:12:14.473

换句话说，您希望您的列表视图表现得像 Windows 开始屏幕？这对我来说很残酷 - 鼠标部分很容易，但触摸部分不是那么容易。解决方案非常简单。您只需为您的列表视图启用正确的选项。这是我的 xaml：

```
<ListView
        x:Name="itemListView"
        SelectionMode="Extended"
        IsSwipeEnabled="True"
        IsItemClickEnabled="True"
        ItemClick="ItemView_ItemClick"
        /> 
```

抱歉，我还没有想出如何让代码在 StackOverflow 中突出显示。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-20T11:23:49.110

这可以帮助您点击鼠标

```
 private void MainForm_MouseDown(object sender, MouseEventArgs e)
    {
        if (e.Button == MouseButtons.Left)
            method()
        if (e.Button == MouseButtons.Right)
            set selection = false
            method()
    } 
```

对于触摸的处理，我希望这会有所帮助

[http://msdn.microsoft.com/en-us/library/windows/apps/xaml/hh465387.aspx](http://msdn.microsoft.com/en-us/library/windows/apps/xaml/hh465387.aspx)

# blackberry - 黑莓网络中的推送通知

> ID：13470086
> 
> 赞同：0
> 
> 时间：2012-11-20T09:26:52.830
> 
> 标签：blackberry, blackberry-webworks

我需要在我已成功注册黑莓并收到带有推送通知凭据的邮件的黑莓网络中实现推送通知。现在下一步是什么我找到了本机黑莓的所有教程但不是phonegap我如何在phonegap中实现它

任何教程或示例应用程序

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-21T16:02:42.897

我还不能只添加评论，所以我要添加答案。您可以在 PhoneGap 项目中使用 WebWorks Push API [https://developer.blackberry.com/html5/apis/blackberry.push.html](https://developer.blackberry.com/html5/apis/blackberry.push.html)

# javascript - 在 HTML 画布上为填充和描边获取单个阴影

> ID：13470101
> 
> 赞同：5
> 
> 时间：2012-11-20T09:27:36.107
> 
> 标签：javascript, html, canvas

我必须在画布上绘制一个描边填充。为此，我`ctx.fill`分别打电话`ctx.stroke`。因此，笔触的阴影绘制在我想要避免的填充顶部。

有人可以告诉是否有办法避免这种情况？

这是我的代码：

```
ctx1.fillStyle = "blue";
ctx1.strokeStyle = "black";
ctx1.shadowColor = "rgba(0,255,0, 1)";
ctx1.shadowOffsetX = 50; 
ctx1.shadowOffsetY = 50;
ctx1.lineWidth = "20";
ctx.beginPath();  
ctx.moveTo(300, 100);  
ctx.lineTo(400, 100);  
ctx.lineTo(400, 200);
ctx.lineTo(300, 200);
ctx.closePath();

ctx1.fill();
ctx1.stroke(); 
```

[http://jsfiddle.net/abWYZ/3/](http://jsfiddle.net/abWYZ/3/)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-20T15:44:43.787

每次对上下文执行绘制操作时，也会绘制阴影。画布的工作方式是将绘制的所有东西都放在以前的东西之上。所以发生的事情是执行填充，制作阴影，然后绘制笔触，这会在所有先前绘制的对象之上产生阴影。

这是一种可能的解决方案。

**[现场演示](http://jsfiddle.net/abWYZ/5/)**

```
 // Grab the Canvas and Drawing Context
var canvas = document.getElementById('c');
var ctx = canvas.getContext('2d');

ctx.save();
ctx.fillStyle = "blue";
ctx.strokeStyle  = "black";

ctx.lineWidth="20";
ctx.beginPath();  
ctx.moveTo(300, 100);  
ctx.lineTo(400, 100);  
ctx.lineTo(400, 200);
ctx.lineTo(300, 200);
ctx.closePath();

ctx.shadowColor = "rgba(0,255,0, 1)";
ctx.shadowOffsetX = 50; 
ctx.shadowOffsetY = 50;

ctx.stroke();
ctx.fill();
// clear the shadow
ctx.shadowColor = 0;
ctx.shadowOffsetX = 0; 
ctx.shadowOffsetY = 0;

// restroke w/o the shadow
ctx.stroke(); 
```

如果您使用这样的方法，我建议您创建一个调用函数`toggleShadow`或类似的方法，以便您控制何时绘制阴影。

# windows-8 - 后台 Windows 8 应用程序中的计时器

> ID：13470103
> 
> 赞同：0
> 
> 时间：2012-11-20T09:27:52.117
> 
> 标签：windows-8

我正在玩 Windows 8 SDK，我想创建一个在计时器结束时执行某些操作的应用程序。我发现当应用程序暂停时， DispatcherTimer 停止并在应用程序回到前台时恢复。但是，我也想在后台安排计时器更新。这个问题的首选解决方案是什么（在应用程序处于后台时为未来安排任务）？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-21T09:34:00.697

我发现以下文章在使用时非常有用`BackgroundTask`

[31 天的 Windows 8 | 第 12 天：后台任务](http://www.jeffblankenburg.com/2012/11/12/31-days-of-windows-8-day-12-background-tasks/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-21T09:03:27.653

您可以使用后台任务。查看[http://code.msdn.microsoft.com/windowsapps/Background-Task-Sample-9209ade9](http://code.msdn.microsoft.com/windowsapps/Background-Task-Sample-9209ade9)上的示例。

# php - jquery-tmpl 中的 php foreach($a as $b)

> ID：13470108
> 
> 赞同：-6
> 
> 时间：2012-11-20T09:28:08.677
> 
> 标签：php, foreach, jquery-templates

帮助！我不知道这个 jquery-tmpl 的东西......只是在我去的时候弥补它。我下来`{{if something}} {{/if}}`但我不知道如何执行这个 foreach 循环。

我该怎么写`foreach($a as $b){}`

编辑：

由于标题根本没有帮助，所以我应该对每个人都非常清楚：我怎样才能将 foreach($a as $b){Do Something Here } 之类的 php foreach 循环并写在 x -jquery-tmpl。我需要一个使用 $a 和 $b 的简单示例，因为我不知道该怎么做，而且我读过的谷歌结果对我来说是 0 意义，否则我不会在这里发布。

衷心感谢那些在下面发布答案的人，我正在努力解决它们，但对我来说仍然很艰难。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-20T09:33:41.800

[谷歌](https://www.google.com/search?hl=en&q=jquery+tmpl+foreach)的第一个链接，返回[了这个链接](http://api.jquery.com/template-tag-each/)。

```
<li>
    Title: ${Name}.
    {{each Languages}}
        ${$index + 1}: <em>${$value}. </em>
    {{/each}}
</li> 
```

下次做好功课。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-20T09:32:06.790

从[文档](http://api.jquery.com/jquery.tmpl/)：

> 如果 data 是一个数组，则为数组中的每个数据项呈现一次模板。如果 data 是一个对象，或者如果 data 参数丢失或为 null，则呈现单个模板项。

所以你应该可以写

```
var template = "<div>${a}</div>";
var data = [ { a: "hello" }, { a: "world" } ];
$.tmpl(template, data); 
```

数据中的每个项目都将呈现在一个 div 中。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-20T09:32:49.720

```
//Iliterating Object in Jquery
$.each(obj, function (key, value) {
    alert(key + ': ' + value);
});
//Iliterating Array in Jquery
//To do it in jQuery, you can do it like this:

$.each(arr, function (index, value) {
    alert(index + ': ' + value);
}); 
```

希望这可以帮助

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-20T09:40:44.850

阅读链接[http://api.jquery.com/template-tag-each/](http://api.jquery.com/template-tag-each/)

例子：

```
 {{each Languages}}
            ${$index + 1}: <em>${$value}. </em>
        {{/each}} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-20T09:34:41.360

该`jQuery.tmpl()`方法设计用于与, 或`.appendTo`类似`.prependTo`这样的链接：`.insertAfter``.insertBefore`

```
$.tmpl( "<li>${Name}</li>", { "Name" : "Johnny Bravo" }).appendTo( "#targetDiv" ); 
```

你可以阅读更多关于：[http ://api.jquery.com/jquery.tmpl/](http://api.jquery.com/jquery.tmpl/)

对于 php foreach：

```
<?php
$arr = array(1, 2, 3, 4);
foreach ($arr as &$value) {
    $value = $value * 2;
}
// $arr is now array(2, 4, 6, 8)
unset($value); // break the reference with the last element
?> 
```

还有一个很棒的文档[http://php.net/manual/en/control-structures.foreach.php](http://php.net/manual/en/control-structures.foreach.php)

# c# - 检查字符串是否为 TimeSpan

> ID：13470125
> 
> 赞同：0
> 
> 时间：2012-11-20T09:29:22.503
> 
> 标签：c#, .net

我正在从 Excel 文件中导入数据，我需要检查我正在导入的数据是 TimeSpan 还是常规字符串。因为数据可以是**07:00:00**或**D2 07:00**。在 excel 文件中，一些字段被格式化为**tt:mm**，但其他字段是纯文本字段。

我的代码如下所示：

```
 public void ReadExcelFile()
        {
            string filename = @"C:\Temp\Copy2.xlsx";
            using (OleDbConnection connection = new OleDbConnection("Provider=Microsoft.ACE.OLEDB.12.0;Data Source=" + filename + ";Extended Properties=\"Excel 12.0;HDR=YES;IMEX=1\""))
            {
                try
                {
                    connection.Open();
                    string sqlCmd1 = "SELECT  * FROM [Sheet1$]";
                    using (OleDbCommand command = new OleDbCommand(sqlCmd1, connection))
                    {
                        command.CommandType = System.Data.CommandType.Text;
                        using (OleDbDataReader reader = command.ExecuteReader())
                        {
                            while (reader.Read())
                            {
                                alias = "" + reader[3];
                                codeT = "" + reader[4];
                                dtTruck = "" + reader[5];
                                codeP = "" + reader[6];
                                dtPlane = "" + reader[7];
                                dtDealer = "" + reader[8];

                                TimeSpan ts;
                                bool TruckisValid = TimeSpan.TryParse(dtTruck, CultureInfo.InvariantCulture, out ts);
                                bool PlaneisValid = TimeSpan.TryParse(dtPlane, out ts);
                                if (TruckisValid )
                                {
                                    truck = TimeSpan.FromDays(Convert.ToDouble(dtTruck));
                                }
                                else if (PlaneisValid)
                                {
                                    plane = TimeSpan.FromDays(Convert.ToDouble(dtPlane));
                                }
                                else
                                {

                                }

                                if (dtTruck == "" && dtPlane == "")
                                {
                                    dtTruck = "";
                                    dtPlane = "";
                                }
                                else if (dtTruck != "")
                                {
                                    truck = TimeSpan.FromDays(Convert.ToDouble(dtTruck));
                                    dtPlane = "";
                                }
                                else if (dtPlane != "")
                                {
                                    plane = TimeSpan.FromDays(Convert.ToDouble(dtPlane));
                                    dtTruck = "";
                                }

                                SearchForAdrIDAndCustID(Convert.ToString(reader[0]), Convert.ToString(reader[3]));
                                InsertData(custID, "" + reader[3], adrID, truck, codeT, plane, codeP, dtDealer);
                            }
                        }
                    }

                }
                catch (Exception exception)
                {
                    Console.WriteLine("ERROR in ReadExcelFile() method. Error Message : " + exception.Message);
                }
            }
        } 
```

如您所见，我尝试使用布尔值来确定导入的字段是否为时间跨度。但是布尔值总是错误的。

谁能帮忙？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-20T09:35:21.060

这是您问题的相关部分：

```
TimeSpan ts;
bool TruckisValid = TimeSpan.TryParse(dtTruck, CultureInfo.InvariantCulture, out ts);
bool PlaneisValid = TimeSpan.TryParse(dtPlane, out ts);
if (TruckisValid )
{
    truck = TimeSpan.FromDays(Convert.ToDouble(dtTruck));
}
else if (PlaneisValid)
{
    plane = TimeSpan.FromDays(Convert.ToDouble(dtPlane));
}
else
{

} 
```

1.  您正在为两个不同的字段重用相同的`TimeSpan`变量`ts`。我假设您使用它只是为了测试它是否可以被解析。相反，您应该使用已解析的`TimeSpan`.
2.  您正在测试，`TimeSpan`但**您正在将其转换为`double`**. 它既可以转换为 TimeSpan，也可以转换为双倍，而不是两者。

所以也许这种方法更好：

```
double d;
TimeSpan ts;
bool TruckisValidDouble = false;
bool TruckisValidTimeSpan = TimeSpan.TryParse(dtTruck, CultureInfo.InvariantCulture, out ts);
if(!TruckisValidTimeSpan)
{
    TruckisValidDouble = double.TryParse(dtTruck, out d);
}
// use approapriate variables 
```

**来自评论：**

> 将其转换为双倍的原因是因为当我从我的 excel 文件中导入数据时，它的百分比值为 07:00:00，女巫为 0,29166666667。所以我将双精度值转换为时间跨度。

但是您不能检查`TimeSpan`并解析为，`double`反之亦然。如果您知道它是`TimeSpan`通过直接`TryParse`使用`TimeSpan`变量。否则`double.TryParse`，然后使用该变量。

例如：

```
if(!TruckisValidTimeSpan  && TruckisValidDouble)
{
    ts = TimeSpan.FromHours(d * 24);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T09:34:47.693

您可以使用正则表达式来检查您的值是否是 TimeSpan ，如下所示：

```
Regex reg = new Regex("^\d{2}:\d{2}:\d{2}$"); 
bool TruckIsValid = reg.IsMatch(dtTruck); 
```

# ios - IOS：存储、检索和调用代码块

> ID：13470130
> 
> 赞同：0
> 
> 时间：2012-11-20T09:29:47.760
> 
> 标签：ios, closures, nsdictionary, restkit

因此，我将restkit用于异步调用等，并认为处理可能的连接问题的最佳方法之一是拥有一个requestManager，它包含一个请求数组，它会继续循环并在它们成功时删除，这样可以创建请求的有效负载并将其添加到管理器中，并且应用程序的其余部分可以继续，而不必担心返回或不返回，除非它是 GET ......现在我的问题是一些请求是随意使用闭包或代码块。

而且我很难正确地理解它的语法和用法。尤其是在涉及块时。

这就是我计划实施它的方式......

所以我首先拨打这个电话

```
GameInfo *game = [[GameInfo alloc] init];

game.myWTFID = [playerInfo _wtfID];
game.opponentWTFID = [gameInfoObj GetOpponentWTFID];
game.gameType = [NSNumber numberWithInt:[gameInfoObj gameType]];
game.turnNumber = [gameInfoObj GetTurnNumber];
game.lastMove = [gameInfoObj GetGameID];

[[RequestPayload sharedRequestPayload] addPutRequestForObject : game withSerializationMapping : serializedGameMap forClass : [Game class] withBlock :^(RKObjectLoader *loader) 
 {
     [loader setObjectMapping:gameMap];
     loader.delegate = self;
     loader.onDidLoadResponse = ^(RKResponse *response) 
     {
         [game release];
     };
     loader.targetObject = nil;
     loader.backgroundPolicy = RKRequestBackgroundPolicyRequeue;
 }
 ]; 
```

这是实施

```
- ( void ) addPutRequestForObject : (id) object withSerializationMapping : (RKObjectMapping*) serialMapping forClass : (Class) class withBlock : ( void(^)(RKObjectLoader*) ) block 
{
    NSMutableDictionary *dict = [NSMutableDictionary new];

    NSNumber *postType = [[NSNumber alloc]initWithInt:1];

    [dict setObject:postType forKey:@"request"];
    [dict setObject:object forKey:@"data"];
    [dict setObject:serialMapping forKey:@"serialMapping"];
    [dict setObject:class forKey:@"class"];

    void (^ copyBlockLoader)(id,RKObjectMapping*) = Block_copy(block);
    [dict setObject:copyBlockLoader forKey:@"block"];
    Block_release(copyBlockLoader);

    [postType release];
    postType = nil;

    [_RequestsToInvoke addObject:dict];
} 
```

然后在遍历数组中的每个对象后的 for 循环中，这将是一个包含执行此类操作所需信息的字典。（抱歉，如果这没有意义，它是高度人为的，因为实际方法要长得多，但是我认为重要的部分在这里。）

```
[[RKObjectManager sharedManager].mappingProvider setSerializationMapping:[dict objectForKey:@"serialMapping"] forClass:[dict objectForKey:@"class"]];
void(^block)(RKObjectLoader *) = [dict objectForKey:@"block"];

[[RKObjectManager sharedManager] putObject:object usingBlock:block]; 
```

所以我的问题是

在我要求它释放游戏对象的第一个片段中......这行得通吗？还是会导致泄漏游戏对象在与该调用相同的范围内声明，因此我剩下的唯一指针是代码块中的指针。

我是否正确地将块保存到字典中？

最后有人有更好的选择吗？或者在我的实现中发现需要更正/修改的其他内容？

# sql-server-2008 - IFF 语句错误 '=' 附近的语法不正确

> ID：13470133
> 
> 赞同：3
> 
> 时间：2012-11-20T09:29:53.633
> 
> 标签：sql-server-2008, if-statement

我来自 MySQL 背景，所以请在这里多多包涵。使用 MSSQL Server 2008，我正在编写一个包含 IFF 语句的查询。我收到以下错误。

```
"Msg 102, Level 15, State 1, Line 8
Incorrect syntax near '='." 
```

我的查询如下所示：

```
SELECT
    a.[storeno],
    a.[Description],
    a.[transactiondate],
    a.[amount] AS 'pos',
    b.[amount] AS 'ecc',
    a.[amount] - b.[amount] AS 'difference',
    IIF(a.amount = b.amount,'BALANCED','UNBALANCED') AS 'result',
    GETDATE()
FROM
    [POS_REPORT].[dbo].[Txn_Daily_Totals] a
LEFT JOIN
    [POS_REPORT].[dbo].[SAP_FI_INBOUND_DAILY_TOTALS] b ON
    a.[storeno] +
    a.[transactiondate] =
    b.[storeno] +
    b.[transactiondate] 
```

我尝试了很多不同的方法，但无法做到这一点。我用过

```
IF
BEGIN
END
ELSE
END 
```

和案例。都给了我不同的错误。请帮我。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-20T09:35:22.180

你可以这样写：

```
case when a.amount = b.amount then 'BALANCED' else 'UNBALANCED' end as result 
```

代替

```
IIF(a.amount = b.amount,'BALANCED','UNBALANCED') AS 'result' 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-20T09:39:13.590

IIF 在 SQL server 2008 中没有实现。它是 2012 版本中的新功能。

# mingw - 不能在mingw中使用imake

> ID：13470138
> 
> 赞同：-1
> 
> 时间：2012-11-20T09:30:21.033
> 
> 标签：mingw

我正在尝试使用 mingw 构建我的 linux 源代码。但是当我使用 imake 命令生成 make 文件时，它的抛出错误 imake 命令未找到。

谁能帮助我必须在 mingw 中安装哪个软件包以及如何安装它？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-26T07:48:07.773

imake 是 xorg 的一部分。您需要一些 xorg 开发工具的 mingw-Port 才能在 Windows 上使用 imake。当您在带有 windows 目标的 linux 上进行交叉编译时，您需要安装 xutils-dev（debian 软件包的名称，可能是您的发行版的其他名称）。

# cruisecontrol.net - CruiseControl.NET 是否会在强制构建已经运行时排队触发构建？

> ID：13470142
> 
> 赞同：1
> 
> 时间：2012-11-20T09:30:43.060
> 
> 标签：cruisecontrol.net

如果由于有人“强制”较早地构建项目而在项目已经构建时触发触发器来构建项目，CruiseControl.NET 项目会发生什么？

触发器的构建请求会排队吗？

我们使用 CCNET 1.5 和 1.6。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T10:12:50.123

什么都没有，当构建运行时，触发器不会被执行。但是，如果您`sourcecontrol`为 svn 或 p4 配置了一个块，则仍会检测到强制构建期间的修改并导致另一个构建。

如果您添加`<queueStatusServerPlugin />`到`serverPlugins`in 中，您可以更容易地看到这一点`dashboard.config`。

# java - struts2日期无法通过jquery datetimepicker获取时间

> ID：13470143
> 
> 赞同：0
> 
> 时间：2012-11-20T09:30:42.033
> 
> 标签：java, jquery, jsp, struts2, datepicker

我是 struts2 的新手，并创建了一个小型 Web 应用程序，我想发布一个计时器，我选择 jquery datetimpicker，在用户选择时间和日期后，它将显示用户选择的时间和日期。

我用这个 jquery

[http://www.javascriptkit.com/script/script2/tengcalendar.shtml](http://www.javascriptkit.com/script/script2/tengcalendar.shtml)

我的问题是，在 struts2 的操作中它可以获得日期，但它返回的时间是 00:00:00

结果是：

```
Tue Nov 20 00:00:00 ICT 2012 
```

我的行动课是：

```
public class Foo extends ActionSupport{
    private Date fooDate;

     //getter - setter;
} 
```

我的表格是：

```
//form ....
<s:textfield name="fooDate" id="dateReleased" 
             cssClass="mws-textinput"  cssStyle="width:80%" />
<a href="javascript:NewCal('dateReleased','ddmmyyyy',true,12)">
      <img src="js/cal.gif" width="16" height="16" 
           border="0" alt="Pick a date">   
</a> 
```

当我选择 2012-11-20 5:40:10PM

在行动课上我刚得到

```
Tue Nov 20 00:00:00 ICT 2012 
```

但我想要

```
Tue Nov 20 5:40:10 PM ICT 2012 
```

我该怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T11:08:52.453

而且那个 Calendar 不是 jQuery，只是 javascript，非常丑陋。

这是真正的 jQuery DatePicker：http: [//jqueryui.com/datepicker/](http://jqueryui.com/datepicker/)

目前也有一些自定义来添加时间：

[http://trentrichardson.com/examples/timepicker/](http://trentrichardson.com/examples/timepicker/)

[http://umcdatetimepicker.codeplex.com/](http://umcdatetimepicker.codeplex.com/)

或独立的 TimePicker：[http ://haineault.com/media/jquery/ui-timepickr/page/](http://haineault.com/media/jquery/ui-timepickr/page/)

眼睛糖果的胜利。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T10:49:09.243

默认情况下，Struts2 使用“与当前请求相关的区域设置的短格式”来解析日期。`String`为您使用`fooDate`并在您需要的方法中转换为日期，或为`Date` [http://struts.apache.org/2.x/docs/type-conversion.html](http://struts.apache.org/2.x/docs/type-conversion.html)创建类型转换器。

# drupal - 为内容类型重用现有 CCK 字段有什么好处？

> ID：13470149
> 
> 赞同：1
> 
> 时间：2012-11-20T09:30:53.123
> 
> 标签：drupal, drupal-6, drupal-7, drupal-modules, cck

为内容类型重用现有字段有什么好处？

或者，为新内容类型创建新字段有什么好处？

例如，我有一个名为“书评”的内容类型，其中包含一个标记为“摘要”的字段。我想创建一个名为“电影评论”的新内容类型，并为其提供一个名为“摘要”的字段。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T13:14:53.597

**重用现有字段的好处**

1.  您的数据库中减少了一个表（实际上是 2 个），因此性能变得更好。
2.  假设当您想要显示所有内容的摘要（无论内容类型如何）时，重用现有字段将使您的查询更简单。
3.  当您将视图用于显示时，您只需为每种内容类型添加一个字段而不是不同的字段。假设您要显示书评和电影评论的摘要，您可以将两者都添加到内容类型过滤器（或）并添加单个公共字段。
4.  当您覆盖模板文件时，您只需要覆盖一个模板而不是多个模板。

**使用不同（新）字段的好处**

1.  如果两个字段都必须单独显示，那么您可以拥有更多控制权。
2.  如果您的字段中有大量值，那么您只需查询一个包含 50,000 个条目的表，而不是查询一个包含 10 万个条目的表。这可能会增加您的表现（但我不太确定，可能会针对具体情况）

**我的首选**

1.  在功能有意义时重用现有字段。例如，我通常重用对父内容类型的节点引用，以使我的大部分查询保持简单。
2.  在您的用户故事中，如果重用没有意义，那么最好选择新字段。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T10:18:29.663

重复使用相同的字段 - 让您在一个地方处理该字段。代码处理+主题。创建一个新字段——summery 不是一个很好的例子，因为你有一个 Drupal 提供的内置文本区域。为两者（电影和书籍）添加具有相同预设大小的图像字段将使您能够在每种内容类型上显示图像，并根据需要让它们看起来相同（无需重复工作）。

# objective-c - Kal 日历从模拟器中的日历中获取数据，但不在设备上

> ID：13470151
> 
> 赞同：1
> 
> 时间：2012-11-20T09:30:54.037
> 
> 标签：objective-c, ios, github, calendar, ios-simulator

我正在尝试将 Kal 日历应用到我自己的项目中。我已经下载了 github 项目的副本并在模拟器上运行它。一切正常，并显示来自模拟器日历的数据。

但是当我在真实设备上测试它时。它没有获取数据，它给了我以下错误。

```
CalendarApp[1024:1103] Predicate call to calendar daemon failed: Error Domain=EKCADErrorDomain Code=1013 "The operation couldn’t be completed. (EKCADErrorDomain error 1013.)" 
```

这就是我的 fetch 的样子。

```
- (void)presentingDatesFrom:(NSDate *)fromDate to:(NSDate *)toDate delegate:(id<KalDataSourceCallbacks>)delegate
{
  // asynchronous callback on the main thread
  [events removeAllObjects];
  NSLog(@"Fetching events from EventKit between %@ and %@ on a GCD-managed background thread...", fromDate, toDate);
  dispatch_async(eventStoreQueue, ^{
    NSDate *fetchProfilerStart = [NSDate date];
    NSPredicate *predicate = [eventStore predicateForEventsWithStartDate:fromDate endDate:toDate calendars:nil];
    NSArray *matchedEvents = [eventStore eventsMatchingPredicate:predicate];
    dispatch_async(dispatch_get_main_queue(), ^{
      NSLog(@"Fetched %d events in %f seconds", [matchedEvents count], -1.f * [fetchProfilerStart timeIntervalSinceNow]);
      [events addObjectsFromArray:matchedEvents];
      [delegate loadedDataSource:self];
    }); 
```

有谁能够帮我？

提前致以诚挚的问候和感谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T09:52:01.383

好的，所以它与用户权限有关。我在这里找到了答案。

[如何在 iOS 6 中获取默认日历的名称/ID](https://stackoverflow.com/questions/12754064/how-to-get-the-name-id-of-default-calendar-in-ios-6)

# android - 建立 ServerSocket 连接

> ID：13470152
> 
> 赞同：0
> 
> 时间：2012-11-20T09:31:05.213
> 
> 标签：android, serversocket

我在我的应用程序中使用了这段代码-

```
 public class BorderCastList extends Activity {
    private VideoView video;
    private ServerSocket server;
    private MediaController media;

    protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    //  Settings window for translucent state
    //   this.getWindow().setFormat(PixelFormat.TRANSLUCENT);
    this.setContentView(R.layout.video);
                   new Thread(new Runnable() {

    @Override
    public void run() {
    try {
    Log.i("test", "before info ServerSocket");
    server = new ServerSocket(8050)
    Log.i("test", "after info ServerSocket");
    Log.i("ip:" + server.getLocalSocketAddress() + "----port: "
    + server.getLocalPort(), "");
    Log.i("service ip: " + server.getInetAddress(), "");
    Log.i("Server build success************", "");
    //   Socket socket = server.accept();

    } catch (Exception e) {
    Log.i("aaa", "bbbb");
    e.printStackTrace();
    }
    }
    }).start();
    ) 
```

为什么我得到日志输出`Log.i("test", "before info ServerSocket");`但没有 `Log.i("test", "after info ServerSocket");`

```
 Log.i("ip:" + server.getLocalSocketAddress() + "----port: "+ server.getLocalPort(), "");
 Log.i("server ip: " + server.getInetAddress(), "");
 Log.i("Server build success************", ""); 
```

为什么它不执行之后`new ServerSocket(8050)`？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T09:56:14.100

在 Galaxy Nexus Android 4.1.2 上，您的代码可以毫无问题地创建和绑定套接字。您的清单中有使用权限 android:name="android.permission.INTERNET" 吗？否则，只需期待堆栈跟踪以及关于*aaa的**bbbb*。

# android - 如何管理播放音乐的活动

> ID：13470155
> 
> 赞同：0
> 
> 时间：2012-11-20T09:31:05.897
> 
> 标签：android, android-intent

我正在开发现场广播应用程序。我解析频道列表并显示在列表视图中，我的问题是当我第一次单击特定频道时，它会根据分配链接播放该频道。但是当您退出应用程序并再次返回时，您单击同一频道（当前正在播放）它会重新启动媒体播放器并再次开始播放。

所以为了解决这个问题，我使用清单“singleTask”来解决这个问题。但是现在当我尝试点击另一个链接（除了当前播放之外）时，它不会从 Listview 项目及其分配链接播放当前选定的频道..

所以有人可以告诉我我怎样才能有活动和服务的代码来解决这个问题，我是学生，所以我没有太多经验。

此外，如果您连接到互联网，我正在检查互联网，而不是解析 json，否则它会显示消息，但它只在您启动应用程序时检查一次那么我如何检查网络连接背景？谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T09:36:27.700

您需要设置一个`Service`在后台播放音乐。

有一个名为`RandomMusicPlayer`嵌入 SDK 的示例项目，它可以帮助您实现它。（在 Eclipse 中：新建项目 > Android > Android 示例项目）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T09:37:11.293

将您的播放器移动到服务，将其绑定到活动中并从您的活动中发送命令，这有很多教程。

[类似的问题](https://stackoverflow.com/questions/2298946/android-service-controlling-mediaplayer)

[服务活动沟通](https://stackoverflow.com/questions/2463175/how-to-have-android-service-communicate-with-activity)

[服务媒体播放器](http://www.java2s.com/Code/Android/Media/UsingServicetoplaymediafile.htm)

# android - 更新旧的 android 项目

> ID：13470157
> 
> 赞同：3
> 
> 时间：2012-11-20T09:31:18.523
> 
> 标签：android, user-interface, styles, project

我正在关注本[教程](http://www.androidhive.info/2012/01/android-json-parsing-tutorial/)，我可以让它工作得很好，但是当我尝试更新 UI 以适应 android 4.2 中的新 Holo.Light 时，应用程序在启动时崩溃，我不知道为什么。

我一直在寻找一种更新 UI 的方法，但我无法让它工作。

我想知道是否有人可以帮助我？告诉我怎么做？给我一个你知道会起作用的链接吗？甚至自己做？

我得到这个错误日志：

```
11-20 09:50:39.523: I/dalvikvm(1460): threadid=3: reacting to signal 3
11-20 09:50:39.682: I/dalvikvm(1460): Wrote stack traces to '/data/anr/traces.txt'
11-20 09:50:39.892: I/dalvikvm(1460): threadid=3: reacting to signal 3
11-20 09:50:40.003: I/dalvikvm(1460): Wrote stack traces to '/data/anr/traces.txt'
11-20 09:50:40.102: D/AndroidRuntime(1460): Shutting down VM
11-20 09:50:40.102: W/dalvikvm(1460): threadid=1: thread exiting with uncaught exception (group=0x409c01f8)
11-20 09:50:40.132: E/AndroidRuntime(1460): FATAL EXCEPTION: main
11-20 09:50:40.132: E/AndroidRuntime(1460): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.androidhive.jsonparsing/com.androidhive.jsonparsing.AndroidJSONParsingActivity}: android.os.NetworkOnMainThreadException
11-20 09:50:40.132: E/AndroidRuntime(1460):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1956)
11-20 09:50:40.132: E/AndroidRuntime(1460):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1981)
11-20 09:50:40.132: E/AndroidRuntime(1460):     at android.app.ActivityThread.access$600(ActivityThread.java:123)
11-20 09:50:40.132: E/AndroidRuntime(1460):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1147)
11-20 09:50:40.132: E/AndroidRuntime(1460):     at android.os.Handler.dispatchMessage(Handler.java:99)
11-20 09:50:40.132: E/AndroidRuntime(1460):     at android.os.Looper.loop(Looper.java:137)
11-20 09:50:40.132: E/AndroidRuntime(1460):     at android.app.ActivityThread.main(ActivityThread.java:4424)
11-20 09:50:40.132: E/AndroidRuntime(1460):     at java.lang.reflect.Method.invokeNative(Native Method)
11-20 09:50:40.132: E/AndroidRuntime(1460):     at java.lang.reflect.Method.invoke(Method.java:511)
11-20 09:50:40.132: E/AndroidRuntime(1460):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
11-20 09:50:40.132: E/AndroidRuntime(1460):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)
11-20 09:50:40.132: E/AndroidRuntime(1460):     at dalvik.system.NativeStart.main(Native Method)
11-20 09:50:40.132: E/AndroidRuntime(1460): Caused by: android.os.NetworkOnMainThreadException
11-20 09:50:40.132: E/AndroidRuntime(1460):     at android.os.StrictMode$AndroidBlockGuardPolicy.onNetwork(StrictMode.java:1099)
11-20 09:50:40.132: E/AndroidRuntime(1460):     at java.net.InetAddress.lookupHostByName(InetAddress.java:391)
11-20 09:50:40.132: E/AndroidRuntime(1460):     at java.net.InetAddress.getAllByNameImpl(InetAddress.java:242)
11-20 09:50:40.132: E/AndroidRuntime(1460):     at java.net.InetAddress.getAllByName(InetAddress.java:220)
11-20 09:50:40.132: E/AndroidRuntime(1460):     at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:137)
11-20 09:50:40.132: E/AndroidRuntime(1460):     at org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:164)
11-20 09:50:40.132: E/AndroidRuntime(1460):     at org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:119)
11-20 09:50:40.132: E/AndroidRuntime(1460):     at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:360)
11-20 09:50:40.132: E/AndroidRuntime(1460):     at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:555)
11-20 09:50:40.132: E/AndroidRuntime(1460):     at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:487)
11-20 09:50:40.132: E/AndroidRuntime(1460):     at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:465)
11-20 09:50:40.132: E/AndroidRuntime(1460):     at com.androidhive.jsonparsing.JSONParser.getJSONFromUrl(JSONParser.java:38)
11-20 09:50:40.132: E/AndroidRuntime(1460):     at com.androidhive.jsonparsing.AndroidJSONParsingActivity.onCreate(AndroidJSONParsingActivity.java:53)
11-20 09:50:40.132: E/AndroidRuntime(1460):     at android.app.Activity.performCreate(Activity.java:4465)
11-20 09:50:40.132: E/AndroidRuntime(1460):     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1049)
11-20 09:50:40.132: E/AndroidRuntime(1460):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1920)
11-20 09:50:40.132: E/AndroidRuntime(1460):     ... 11 more
11-20 09:50:40.392: I/dalvikvm(1460): threadid=3: reacting to signal 3
11-20 09:50:40.412: I/dalvikvm(1460): Wrote stack traces to '/data/anr/traces.txt'
11-20 09:50:40.791: I/dalvikvm(1460): threadid=3: reacting to signal 3
11-20 09:50:40.962: I/dalvikvm(1460): Wrote stack traces to '/data/anr/traces.txt' 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-20T10:10:18.273

您正在主线程上进行网络调用。这在 Android 4.2 上是不允许的，并且在允许这样做的早期版本上是一个非常糟糕的主意。我在[http://blog.stylingandroid.com/archives/833](http://blog.stylingandroid.com/archives/833)上写了关于移动网络和其他繁重调用的各种机制的博客。

如果没有看到您的代码，我无法开始建议您使用哪种方法是正确的，但希望我文章中的信息将帮助您决定正确的方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T12:01:13.407

这个问题有两个解决方案。

1）不要在主 UIThread 中编写网络调用，为此使用异步任务。

2）在setContentView（R.layout.activity_main）之后将以下代码写入您的MainActivity文件；

```
if (android.os.Build.VERSION.SDK_INT > 9) {
    StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();
    StrictMode.setThreadPolicy(policy);
} 
```

并将下面的 import 语句放入您的 java 文件中。

```
import android.os.StrictMode; 
```

并查看下面的链接了解更多信息。

[Twitter 连接错误](https://stackoverflow.com/questions/13448468/twitter-connect-example/13448512#13448512)

# libxml2 - 使用 libXml2 添加其他 xsd 模式

> ID：13470166
> 
> 赞同：1
> 
> 时间：2012-11-20T09:32:00.310
> 
> 标签：libxml2

我有一个要验证的 xml 和架构。我不希望架构存储在文件中，而是存储在数据库位置。我`xmlSchemaNewMemParserCtxt`用来解析模式。问题是这个模式引用了基本类型的另一个模式：`<xs:include schemaLocation="CommonTypes.xsd"/>`libXml2 在当前工作目录中搜索。有没有办法在内存缓冲区中提供这些额外的模式？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-04T07:56:13.677

这是一个更好的例子：io1.c [http://www.xmlsoft.org/examples/](http://www.xmlsoft.org/examples/)

当您可以找到从 Read 函数返回值的好方法时，它可以节省大量时间。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-27T04:18:16.783

[xmlRegisterInputCallbacks](http://www.xmlsoft.org/html/libxml-xmlIO.html#xmlRegisterInputCallbacks)是您可能正在寻找的。

优势在于，它们让您可以构建某种虚拟 I/O 层。缺点是 inputcallbacks 是全局设置的（但是有[xmlPopInputCallbacks](http://www.xmlsoft.org/html/libxml-xmlIO.html#xmlPopInputCallbacks)和[xmlCleanupInputCallbacks](http://www.xmlsoft.org/html/libxml-xmlIO.html#xmlCleanupInputCallbacks)）。

下面的代码（基于[http://knol2share.blogspot.be](http://knol2share.blogspot.be/2009/05/validate-xml-against-xsd-in-c.html)的代码构建）演示了[xmlRegisterInputCallbacks](http://www.xmlsoft.org/html/libxml-xmlIO.html#xmlCleanupInputCallbacks)的使用。

所有 xml 和 xsd 文件都是从文件系统加载的，除非 URI 包含“DataTypes.xsd”，否则模式是从字符串中获取的。（因为 schemaLocation 只是一个提示，例如前缀模式的

“ **test.xsd** ”：主要的 xml 架构（请忽略对peacelane.org 的引用，命名空间来自一个爱好项目，我现在突然想到 www.peacelane.org 可能存在，显然它确实存在......）

```
<schema xmlns="http://www.w3.org/2001/XMLSchema"
        xmlns:tns="http://peacelane.org/ApplianceType/config/45/LIGHTING1/ARC" 
        xmlns:dt="http://peacelane.org/ApplianceType/config/45/DataTypes"
        targetNamespace="http://peacelane.org/ApplianceType/config/45/LIGHTING1/ARC"
        elementFormDefault="qualified">
    <import namespace="http://peacelane.org/ApplianceType/config/45/DataTypes" schemaLocation="DataTypes.xsd" />
    <complexType name="ConfigType">
        <sequence>
            <element name="housecode" type="dt:char" />
        </sequence>
    </complexType>
    <element name="Config" type="tns:ConfigType"/>
</schema> 
```

“ **test.xml** ”：要验证的测试 xml

```
<?xml version="1.0"?>
<Config xmlns="http://peacelane.org/ApplianceType/config/45/LIGHTING1/ARC">
    <housecode>A</housecode>
</Config> 
```

“ **main.c** ”：实际代码（更新“XMLFileName”和“XSDFileName”的路径）

```
#define LIBXML_SCHEMAS_ENABLED
#include <libxml/xmlschemastypes.h>
#include <stdio.h>

static const char *databaseSchema =
        "<?xml version=\"1.0\" encoding=\"UTF-8\"?>"
                "       <schema elementFormDefault=\"qualified\" xmlns:tns=\"http://peacelane.org/ApplianceType/config/45/DataTypes\"  targetNamespace=\"http://peacelane.org/ApplianceType/config/45/DataTypes\" xmlns=\"http://www.w3.org/2001/XMLSchema\">"
                "           <simpleType name=\"char\">"
                "               <restriction base=\"string\">"
                "                   <length value=\"1\" />"
                "               </restriction>"
                "           </simpleType>"
                "       </schema>";

//-----------------------------------------------------------------------------
//-- SQL Callbacks (~ simulated db actions)
//-----------------------------------------------------------------------------
static void* sqlOpen(const char * URI) {
    return ((void *) databaseSchema );
}

static int sqlClose(void * context) {
    return (0);
}

static int sqlRead(void * context, char * buffer, int len) {
    const char* result= (const char *) context;
    int rlen = strlen(result);
    memcpy(buffer, result, rlen);
    return rlen +1;
}

static int sqlMatch(const char * URI) {
    if ((URI != NULL )&& (strstr(URI, "DataTypes.xsd") != NULL) )return 1;
    return 0;
}
//-----------------------------------------------------------------------------
//-- File callbacks
//-----------------------------------------------------------------------------
static void* fileOpen(const char * URI) {
    if (URI == NULL )
        return (NULL );
    FILE* fh = fopen(URI, "rt");
    return ((void *) fh);
}

static int fileClose(void * context) {
    FILE* fh = (FILE*) context;
    if (fh != NULL )
        fclose(fh);
    return (0);
}

static int fileRead(void * context, char * buffer, int len) {
    FILE* fh = (FILE*) context;

    fseek(fh, 0L, SEEK_END);
    long flen = ftell(fh);
    rewind(fh);

    if (buffer != NULL )
        fread(buffer, flen, 1, fh);

    return flen + 1;
}

static int fileMatch(const char * URI) {
    if ((URI != NULL ))
        if (strstr(URI, "DataTypes.xsd") == NULL ) {
            return (1);
        }

    return (0);
}

//-----------------------------------------------------------------------------
//-- Main
//-----------------------------------------------------------------------------
int main(int argc, char *argv[]) {
    xmlDocPtr doc;
    xmlSchemaPtr schema = NULL;
    xmlSchemaParserCtxtPtr ctxt;
    char *XMLFileName =
            "/home/dogguts/Projects/libxml2tests/xsdparse/Debug/test.xml";
    char *XSDFileName =
            "/home/dogguts/Projects/libxml2tests/xsdparse/Debug/test.xsd";

    xmlLineNumbersDefault(1);

    if (xmlRegisterInputCallbacks(fileMatch, fileOpen, fileRead, fileClose)
            < 0) {
        fprintf(stderr, "failed to register File handler\n");
        exit(1);
    }

    if (xmlRegisterInputCallbacks(sqlMatch, sqlOpen, sqlRead, sqlClose) < 0) {
        fprintf(stderr, "failed to register SQL handler\n");
        exit(1);
    }

    ctxt = xmlSchemaNewParserCtxt(XSDFileName);

    xmlSchemaSetParserErrors(ctxt, (xmlSchemaValidityErrorFunc) fprintf,
            (xmlSchemaValidityWarningFunc) fprintf, stderr);
    schema = xmlSchemaParse(ctxt);
    xmlSchemaFreeParserCtxt(ctxt);

    xmlSchemaDump(stdout, schema);

    doc = xmlReadFile(XMLFileName, NULL, 0);

    if (doc == NULL ) {
        fprintf(stderr, "Could not parse %s\n", XMLFileName);
    } else {
        xmlSchemaValidCtxtPtr ctxt;
        int ret;

        ctxt = xmlSchemaNewValidCtxt(schema);
        xmlSchemaSetValidErrors(ctxt, (xmlSchemaValidityErrorFunc) fprintf,
                (xmlSchemaValidityWarningFunc) fprintf, stderr);
        ret = xmlSchemaValidateDoc(ctxt, doc);
        if (ret == 0) {
            printf("%s validates\n", XMLFileName);
        } else if (ret > 0) {
            printf("%s fails to validate\n", XMLFileName);
        } else {
            printf("%s validation generated an internal error\n", XMLFileName);
        }
        xmlSchemaFreeValidCtxt(ctxt);
        xmlFreeDoc(doc);
    }

    if (schema != NULL )
        xmlSchemaFree(schema);

    xmlSchemaCleanupTypes();
    xmlCleanupParser();
    xmlMemoryDump();

    return (0);
} 
```

* * *

*请注意，为简洁起见，上述代码不执行任何检查（文件、内存等）操作是否成功。*

# objective-c - iOS - 放大视图（提供屏幕截图）

> ID：13470167
> 
> 赞同：0
> 
> 时间：2012-11-20T09:32:01.833
> 
> 标签：objective-c, ios, uiview

> **可能重复：**
> [UIImageView 变换比例](https://stackoverflow.com/questions/5059266/uiimageview-transform-scale)

我正在尝试实现与下面的屏幕截图类似的东西。

![在此处输入图像描述](../Images/28a8d8c5bb7b4e1739a0d7fc639ba69d.png)

我试图通过简单地更改视图的框架属性并增加其宽度和高度来做到这一点，但它

1）并没有真正放大视图及其子视图，它只是增加了大小 2）它只是从左边增加了它的大小，所以它看起来不均匀

还有一种方法可以让我制作这个动画吗？我可以把它放在`UIView's` `animateWithDuration:`块中吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T09:38:25.813

您可以采取两种方法 -

1.  如果您使用的是标准`UITableView`，那么只需使用[管理行的重新排序](http://developer.apple.com/library/ios/#documentation/userexperience/conceptual/tableview_iphone/ManageReorderRow/ManageReorderRow.html)

2.  如果您不使用 `UITableView`并且正在做一些更自定义的事情，`UIViews`那么您需要一个名为`scale`. 当您希望影响 UIView（与使用 Core Animation 变换的层相反）时，使用 Core Graphics 仿射变换来缩放视图。

要缩放视图使用 - 这会将视图缩放到 2 倍。

```
// 2x
[yourView setTransform:CGAffineTransformMakeScale(2.0, 2.0)]; 
```

要翻译，请使用

```
// Move origin by 100 on both axis
[yourView setTransform:CGAffineTransformMakeTranslation(100.0, 100.0)]; 
```

您还可以`alpha`尝试将其设置为 0.5，以使其具有您在屏幕截图中放置的额外酷炫外观。

要为这些设置动画，请将它们包装在动画块中。如果你想用这两个转换视图，那么你需要将它们连接起来。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-20T09:41:15.587

对视图的图层应用一个变换 :) 也可以是动画的 :) 事实上，它隐含地是！

```
self.view.transform = CGAffineTransformScale(self.view.transform, 2,2); 
```

# django - 测试 Django 项目，如何避免 Errno 10054？

> ID：13470177
> 
> 赞同：4
> 
> 时间：2012-11-20T09:32:26.340
> 
> 标签：django, django-errors, django-dev-server

我正在使用自己的开发服务器测试一个简单的 django 项目。但是，每次我关闭我的 IE 客户端时，控制台中都会出现一个错误。虽然它不会导致任何失败。当我打开另一个 IE 浏览器客户端时，一切正常。

我怎样才能摆脱这个错误？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-02-28T16:50:58.947

**Django 调试工具栏**会生成大量此类错误。如果您安装了它，请在没有它​​的情况下重试

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-01T04:38:08.480

> 当客户端在服务器完成发送数据之前关闭连接时会发生这种情况。如果它只是偶尔发生并且不是持久性问题，请忽略它。

此处完整答案→ [Django 开发服务器损坏管道错误](https://stackoverflow.com/questions/10253288/django-development-server-broken-pipe-error)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-03-25T12:56:24.220

退出前添加刷新，见[这里](https://stackoverflow.com/questions/13243267/django-and-selenium-web-testing-error-errno-10054)

```
 self.browser.refresh()
    self.browser.quit() 
```

# django - 如何将 Django Admin 中的 DateTimeField 格式化为本地时间？

> ID：13470183
> 
> 赞同：8
> 
> 时间：2012-11-20T09:33:04.617
> 
> 标签：django, django-admin, django-timezone

如何根据本地时间和时区在 Admin 中格式化 DateTimeField？

我的设置.py：

```
 TIME_ZONE = 'Europe/Bratislava'
    LANGUAGE_CODE = 'en-us'
    USE_I18N = True
    USE_L10N = True
    USE_TZ = True 
```

pytz 包已安装。

模型：

```
class Material(models.Model):
    category = models.ForeignKey(Category, null=True, blank=True) 
    code = models.CharField(max_length=10)
    description = models.CharField(max_length=30, blank=True, null=True)
    modified = models.DateTimeField(auto_now=True)
    created = models.DateTimeField(auto_now_add=True) 
```

还在设置中尝试了一些日期格式，这些都没有改变日期时间对象在管理列表显示中转换为字符串的方式：

```
DATETIME_FORMAT = 'd N Y'
DATE_FORMAT = 'd N Y' 
```

在数据库中正确存储日期时间，“2012-11-20 08:57:15.901341+01”。但是在管理员中显示时，它始终是 UTC。

我可以在 ModelAdmin 中准备方法来处理格式，但这并不真正干燥，因为我希望我的管理类看起来像：

```
from django.utils.timezone import localtime

class MaterialAdmin(admin.ModelAdmin):
    list_display = ('code', 'modified_local', 'created')

    def modified_local(self, row):
        return localtime(row.modified)
    modified_local.admin_order_field = 'modified'
    modified_local.short_description = 'Modified' 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2014-03-21T17:13:32.617

您问题的答案是正确配置`settings`和`formats`在 Django 项目中。示例项目的结构：

```
.
|-- README.md
|-- demo.db
|-- demo_time_set
|   |-- __init__.py
|   |-- demo.db
|   |-- formats
|   |   |-- __init__.py
|   |   `-- en
|   |       |-- __init__.py
|   |       `-- formats.py
|   |-- settings.py
|   |-- urls.py
|   `-- wsgi.py
|-- manage.py
|-- requirments.txt
`-- some_app
    |-- __init__.py
    |-- admin.py
    `-- models.py 
```

您只需提供具有适当名称和格式的目录，即可为多种语言定义它。所有 MAGIC 发生的地方的示例内容`formats.py`如下所示：

```
# HERE FORMATING AS shown in:
# LIST: https://docs.djangoproject.com/en/dev/ref/templates/builtins/#date
DATE_FORMAT = 'd-m-Y'
TIME_FORMAT = 'H:i'
DATETIME_FORMAT = 'd-m-Y H:i'
YEAR_MONTH_FORMAT = 'F Y'
MONTH_DAY_FORMAT = 'F j'
SHORT_DATE_FORMAT = 'm/d/Y'
SHORT_DATETIME_FORMAT = 'm/d/Y P'
FIRST_DAY_OF_WEEK = 1

# BUT here use the Python strftime format syntax,
# LIST: http://docs.python.org/library/datetime.html#strftime-strptime-behavior

DATE_INPUT_FORMATS = (
    '%d-%m-%Y',     # '21-03-2014'
)
TIME_INPUT_FORMATS = (
    '%H:%M:%S',     # '17:59:59'
    '%H:%M',        # '17:59'
)
DATETIME_INPUT_FORMATS = (
    '%d-%m-%Y %H:%M',     # '21-03-2014 17:59'
)

DECIMAL_SEPARATOR = u'.'
THOUSAND_SEPARATOR = u','
NUMBER_GROUPING = 3 
```

**请注意评论中的两个链接，它们将引导您找到正确配置的列表，这对于不同的部件是不同的！**

在你`settings.py`刚刚添加：

```
FORMAT_MODULE_PATH = 'demo_time_set.formats' 
```

[GITHUB] 这是一个完整的工作示例：[https ://github.com/andilab/demo_time_set](https://github.com/andilab/demo_time_set)

# ios - 空 CGMutablePathRef 路径？

> ID：13470186
> 
> 赞同：2
> 
> 时间：2012-11-20T09:33:26.047
> 
> 标签：ios, cgpath, quartz-core

我有办法从 CGMutablePathRef 中删除所有路径并获得清晰的路径吗？

我正在绘制一条路径，我希望将其空置以供重用？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-20T09:39:31.450

我不这么认为，只需发布​​它并创建一个新的 - 无论如何应该更快。

```
CGPathRelease(pathref);
pathref = CGPathCreateMutable(); 
```

# postgresql - 如何在不使用 Spring 的情况下连接到 Heroku 中的 PostgreSQL？

> ID：13470188
> 
> 赞同：0
> 
> 时间：2012-11-20T09:33:38.997
> 
> 标签：postgresql, heroku

我正在尝试在 Heroku 上部署一个简单的 CRUD 应用程序。但是我不想使用 Spring。我使用的是 JSF（Primefaces）和 JPA（Hibernate）来实现持久性。当我尝试连接到 db 时，出现以下异常：

```
java.lang.UnsupportedOperationException: The user must supply a JDBC connection
org.hibernate.connection.UserSuppliedConnectionProvider.getConnection(UserSuppliedConnectionProvider.java:54)
org.hibernate.jdbc.ConnectionManager.openConnection(ConnectionManager.java:446)
org.hibernate.jdbc.ConnectionManager.getConnection(ConnectionManager.java:167)
org.hibernate.jdbc.JDBCContext.connection(JDBCContext.java:160)
org.hibernate.transaction.JDBCTransaction.begin(JDBCTransaction.java:81)
org.hibernate.impl.SessionImpl.beginTransaction(SessionImpl.java:1473)
org.hibernate.ejb.TransactionImpl.begin(TransactionImpl.java:60)
org.Handlers.UserHandler.getAllUsers(UserHandler.java:31)
org.tutorial.LoginBean.authenticate(LoginBean.java:52)
sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
java.lang.reflect.Method.invoke(Method.java:616)
org.apache.el.parser.AstValue.invoke(AstValue.java:264)
org.apache.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:278)
com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:105)
javax.faces.component.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:88)
com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:102)
javax.faces.component.UICommand.broadcast(UICommand.java:315)
javax.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:794)
javax.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1259)
com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:81)
com.sun.faces.lifecycle.Phase.doPhase(Phase.java:101)
com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:118)
javax.faces.webapp.FacesServlet.service(FacesServlet.java:593) 
```

我的 persistence.xml 看起来像这样：

```
<persistence-unit name="test">
<provider>org.hibernate.ejb.HibernatePersistence</provider>
<properties>
  <property name="hibernate.dialect" value="org.hibernate.dialect.PostgreSQLDialect"/>
  <property name="driverClassName" value="${database.driverClassName}"/>
  <property name="hibernate.show_sql" value="true"/>
  <property name="url" value="#{ 'jdbc:postgresql://' + @dbUrl.getHost() + @dbUrl.getPath() }"/>
  <property name="username" value="#{ @dbUrl.getUserInfo().split(':')[0] }"/>
  <property name="password" value="#{ @dbUrl.getUserInfo().split(':')[1] }"/>
  <property name="hibernate.max_fetch_depth" value="3"/>
   <property name="hibernate.hbm2ddl.auto" value="update"/>
</properties> 
```

我已经从 applicationcontext.xml 文件中复制了属性。

有人知道可能是什么问题吗？我查看了类似的帖子，但找不到解决方案。

我的 pom.xml 如下：

```
<dependencies>
    <dependency>
        <groupId>javax.servlet</groupId>
        <artifactId>javax.servlet-api</artifactId>
        <version>3.0.1</version>
        <scope>provided</scope>
    </dependency>
    <dependency>
        <groupId>org.springframework</groupId>
        <artifactId>spring-webmvc</artifactId>
        <version>${org.springframework.version}</version>
    </dependency>
    <dependency>
        <groupId>org.springframework</groupId>
        <artifactId>spring-orm</artifactId>
        <version>${org.springframework.version}</version>
    </dependency>
    <dependency>
        <groupId>taglibs</groupId>
        <artifactId>standard</artifactId>
        <version>1.1.2</version>
    </dependency>
    <dependency>
        <groupId>javax.servlet</groupId>
        <artifactId>jstl</artifactId>
        <version>1.2</version>
    </dependency>
    <dependency>
        <groupId>org.hsqldb</groupId>
        <artifactId>hsqldb</artifactId>
        <version>2.2.8</version>
    </dependency>
    <dependency>
       <groupId>postgresql</groupId>
       <artifactId>postgresql</artifactId>
       <version>9.1-901.jdbc4</version>
       <scope>runtime</scope>
    </dependency>
    <dependency>
        <groupId>commons-dbcp</groupId>
        <artifactId>commons-dbcp</artifactId>
        <version>1.4</version>
    </dependency>
    <dependency>
        <groupId>org.hibernate</groupId>
        <artifactId>hibernate-entitymanager</artifactId>
        <version>3.6.10.Final</version>
    </dependency>
     <dependency>
        <groupId>org.hibernate.javax.persistence</groupId>
        <artifactId>hibernate-jpa-2.0-api</artifactId>
        <version>1.0.0.Final</version>
        <classifier/>
     </dependency>
     <dependency>
        <groupId>org.hibernate</groupId>
        <artifactId>hibernate-core</artifactId>
        <version>3.6.4.Final</version>
        <classifier/>
    </dependency>
    <dependency>
        <groupId>com.github.jsimone</groupId>
        <artifactId>webapp-runner</artifactId>
        <version>7.0.27.1</version>
        <scope>provided</scope>
    </dependency>                       
    <dependency>
        <groupId>javax</groupId>
        <artifactId>javaee-web-api</artifactId>
        <version>6.0</version>
        <scope>provided</scope>
    </dependency>
</dependencies> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T08:21:00.123

我也遇到了和你一样的问题。持久化单元和 pom.xml 中的上述配置是正确的，但 applicationcontext.xml 中可能有错误，你没有在这里包含。

以下是可能存在缺陷的 applicationcontext.xml 部分。

```
<bean class="java.net.URI" id="dbUrl">
        <constructor-arg value="#{systemEnvironment['DATABASE_URL']}" />
    </bean>

    <bean id="dataSource"
        class="org.springframework.jdbc.datasource.DriverManagerDataSource">
        <property name="driverClassName" value="org.postgresql.Driver" />       
        <property name="url" value="#{ 'jdbc:postgresql://' + @dbUrl.getHost() + @dbUrl.getPath() }" />
        <property name="username" value="#{ @dbUrl.getUserInfo().split(':')[0] }" />
        <property name="password" value="#{ @dbUrl.getUserInfo().split(':')[1] }" />
    </bean>

    <bean id="entityManagerFactory"
        class="org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean">
        <property name="persistenceUnitName" value="test"/>
        <property name="dataSource" ref="dataSource" /> 
        <property name="jpaVendorAdapter">
            <bean class="org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter">
                <property name="showSql" value="true" />
                <property name="generateDdl" value="true" />

                <property name="databasePlatform" value="org.hibernate.dialect.PostgreSQLDialect" />
            </bean>
        </property>
    </bean> 
```

如果您需要任何帮助，请告诉我。

# javascript - 对象中的 Getter 没有返回值 Javascript

> ID：13470191
> 
> 赞同：-2
> 
> 时间：2012-11-20T09:33:49.430
> 
> 标签：javascript

我在从对象返回值时遇到问题。我的对象看起来像这样。

> ```
>  function XYZ(date, startT)
>      {
>      var _date=date;
>      var _startT=startT;
>      this.get_date = function() {
>        return _date;
>        };
>       this.set_date = function(value) {
>         _date=value;
>       };
>        this.get_startT = function() {
>        return _startT;
>        };
>        this.set_startT = function(value) {
>        _startT=value;
>       };
>       this.toString()
>       return (_date + " " _startT);
>       } 
> ```

然后我创建一个这样的数组

> ```
>  jsData[0] =new XYZ("2012-11-11","8:00");
>    jsData[1] = new XYZ("2012-03-03","8:00"); 
> ```

当我想使用 get_date 方法时，它没有返回值，但 get_startT 方法工作正常。当我使用 .toString 方法显示对象时，它也会显示完整的对象

请帮忙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T09:41:41.947

如果您修复所有语法错误，它会起作用：

```
function XYZ(date, startT) {
  var _date=date;
  var _startT=startT;
  this.get_date = function() {
    return _date;
  };
  this.set_date = function(value) {
    _date=value;
  };
  this.get_startT = function() {
    return _startT;
  };
  this.set_startT = function(value) {
    _startT=value;
  };
}

var jsData = [];
jsData[0] = new XYZ("2012-11-11","8:00");
jsData[1] = new XYZ("2012-03-03","8:00");

display("jsData[0].get_date() = " + jsData[0].get_date()); 
```

输出：

```
jsData[0].get_date() = 2012-11-11
```

[实时复制](http://jsbin.com/etetuy/1)| [来源](http://jsbin.com/etetuy/1/edit)

除了明显的错别字之外，这就是我所做的：

*   放置`{`和`}`环绕函数体。

*   删除了`this.toString()`不起作用的（无操作，因为您没有将结果存储在任何地方）。

*   删除了最后的返回，因为从构造函数返回字符串原语是另一个无操作。

*   宣布`jsData`。

*   初始化`jsData`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T09:37:42.297

`{`之后您似乎缺少一个左括号

```
function XYZ(date, startT) 
```

在你的代码末尾有一个。( `}`)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-20T09:45:58.393

尝试像这样向函数原型添加方法：

```
function XYZ(date, startT) {
  this._date = date;
  this._startT = startT;
}

XYZ.prototype.get_date = function() {
  return this._date;
}
XYZ.prototype.set_date = function(value) {
  this._date = value;
}
XYZ.prototype.get_startT = function() {
  return this._startT;
}
XYZ.prototype.set_startT = function(value) {
  this._startT = value;
}
XYZ.prototype.toString = function() {
  return this._date + " " + this._startT;
}

var myXYZ = new XYZ("2012-11-11","8:00");
myXYZ.toString(); // "2012-11-11 8:00" 
```

我在控制台中对其进行了测试，它正确输出了最终字符串。

# c# - 用 json.net 在 C# 中解析 json 需要 json.net .dll？

> ID：13470194
> 
> 赞同：1
> 
> 时间：2012-11-20T09:33:55.067
> 
> 标签：c#, json, json.net

我有一个可以注册到应用程序的简单 c# 库 (myLib.dll)。它可以用作插件。现在我想使用 Newton King 的 json.net 库，但我不想有 2 个我必须发送的 .dll。

有没有办法使用 json.net 并以某种方式将 .dll 嵌入到 myLib.dll 中，最终我只有我的 .dll？

编辑：澄清：是否允许将 jsonNET.dll 与我自己的 myLib.dll 合并，以便只有 myLib.dll 作为文件可见？

好的，它有 MIT 许可证：http: [//json.codeplex.com/license](http://json.codeplex.com/license)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-20T09:35:45.697

您可以使用 ilmerge 将库合并在一起。

[http://research.microsoft.com/en-us/people/mbarnett/ilmerge.aspx](http://research.microsoft.com/en-us/people/mbarnett/ilmerge.aspx)

请务必仔细阅读您要合并的任何库的许可证，因为它可能会影响您的库的分发规则。此外，任何使用您的库的应用程序也可以访问任何合并的库。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-20T09:43:08.573

[您可以使用Netz](http://madebits.com/netz/)，一个 .net NET Executables Compressor & Packer轻松实现这一目标。

最后，正如一些人已经提到的那样，[ILMerge](http://research.microsoft.com/en-us/people/mbarnett/ILMerge.aspx)可能是另一个值得考虑的选择，尽管涉及更多。

# java - jidesoft pivotgrid

> ID：13470196
> 
> 赞同：1
> 
> 时间：2012-11-20T09:34:03.880
> 
> 标签：java, jide

我想在我的应用程序中使用 jidesoft 的 pivotgrid。但我想知道这个组件是否支持导出 excel、csv、pdf 和打印实用程序。我搜索了 jidesoft 网站，但我没有找到任何东西。

任何人都可以帮助体验过这个组件吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T09:39:40.437

查看功能列表后，它显然没有：

1、会做广告，因为这些特性是商业价值，应该好好宣传

2、如果把这些特性放到一个Swing组件中，那就是对Swing组件概念的完全误解。它应该给你的只是访问它的底层数据模型，并且一个不同的组件应该处理任何数据转换。

您可以使用 Java 库轻松完成这些转换：

*   CSV：简单的文本文件写入
*   Excel：它可以读取 CSV，但如果真的需要，请使用 Apache POI
*   PDF：iText 是你最好的朋友

# ios6 - 妮娜 siri 的妹妹

> ID：13470200
> 
> 赞同：0
> 
> 时间：2012-11-20T09:34:16.493
> 
> 标签：ios6, voice-recognition

我读到 nuance 推出了一个语音识别软件“NINA”，它被称为 siri 的妹妹（这是苹果新版本中使用的语音识别软件）。nina 是一个开源 api，我们可以将它用于我们的用于语音识别的个人应用程序。我找不到任何下载此 api 的链接，以便我可以在我的应用程序中使用它。任何人都请给我一些相同的链接

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-20T09:39:45.943

你可能会在这个网站上得到一些东西 [http://www.nuance.com/landing-pages/enterprise/meet-nina/default.asp](http://www.nuance.com/landing-pages/enterprise/meet-nina/default.asp)

并检查他们的原始网站 [http://www.nuance.com/index.htm](http://www.nuance.com/index.htm)

# git - git .gitignore 不会忽略我所有的文件

> ID：13470204
> 
> 赞同：1
> 
> 时间：2012-11-20T09:34:23.273
> 
> 标签：git, file

我的 .gitignore 有问题

这里有我的 .gitignore 内容：

```
application/configs/application.ini
cache/
uploads/
thumbs/
docs/
.htaccess
*.swp
*~
nbproject/ 
```

它适用于所有这些，除了 application/configs/application.ini

我不明白为什么

你能帮我么

谢谢 ：）

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-20T10:09:07.683

*application/configs/application.ini*可能已经被跟踪。
您需要将其从您的存储库中删除，以便将来被忽略：`git rm --cached application/configs/application.ini`.

# magento - Magento 获取类别的可过滤属性，无论活动过滤器如何

> ID：13470208
> 
> 赞同：2
> 
> 时间：2012-11-20T09:34:34.787
> 
> 标签：magento, magento-1.6

我在顶部导航中有下拉菜单，显示过滤器列表。

问题是一旦添加过滤器（通过分层导航），它也会从下拉列表中删除。

```
$category = Mage::getModel("catalog/category")->load($_category->getId());
$layer->setCurrentCategory($category);      
$attributes = $layer->getFilterableAttributes(); 
```

无论其他过滤器处于活动状态，如何获取可过滤属性。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-29T21:49:14.147

在`Mage_Catalog_Block_Layer_View`过滤器中“创建”，我们可以检索它们。使用该函数`getFilters()`返回所有图层过滤器。对于我在核心代码中看到的内容，该函数中没有执行额外的逻辑来过滤活动过滤器。所以它必须是原始数据。

您必须将模板的块类型（下拉菜单所在的位置）更改为`catalog/layer_view`.

# asp.net - 如何在 Strigbuilder 类对象中传递参数？

> ID：13470211
> 
> 赞同：0
> 
> 时间：2012-11-20T09:34:46.397
> 
> 标签：asp.net

我在用

字符串 strurl = "报告/ReportFilter.aspx";

并将标签绑定为

```
AnchorLeftMenuLinks.Append(" href='javascript:OpenDialogue(" + strurl + ");' "); 
```

但它返回错误为“未定义的对象 AuditReports”作为运行时它变得像

```
href="javascript:OpenDialogue(Reports/ReportFilter.aspx);" 
```

但是当我在萤火虫中手动添加单引号时

```
href="javascript:OpenDialogue('Reports/ReportFilter.aspx');" 
```

它工作正常。任何人都可以建议我如何提前在 code.Yhankx 中添加单引号。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T09:38:09.973

尝试：

```
var javascript = string.Format("href='javascript:OpenDialouge('{0}');'", strurl);
AnchorLeftMenuLinks.Append(javascript); 
```

或者：

```
AnchorLeftMenuLinks.AppendFormat("href='javascript:OpenDialouge('{0}');'", strurl); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-20T09:39:22.860

试试这个

```
AnchorLeftMenuLinks.Append(" href='javascript:OpenDialogue(\"" + strurl + "\");' "); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-20T12:46:59.957

其背后的原因是 Javascript 字符串，因为在 JavaScript 中，字符串以单引号或双引号开始和停止。这意味着字符串被截断为：`javascript:OpenDialogue(`并且您的函数的语法不正确，因此无法正常工作。

因此，`(\)`在每个双引号之前必须放置一个反斜杠`strurl`。这会将每个双引号转换为字符串文字。

还有一些其他特殊字符也需要使用`\`

*   `\'`- 单引号
*   `\"`- 双引号
*   `\\`- 反斜线
*   `\n`- 新队
*   `\t`- 标签

# android - 如何在 Android 中创建和打开 SQLite 表？

> ID：13470214
> 
> 赞同：0
> 
> 时间：2012-11-20T09:34:47.110
> 
> 标签：android, sql

```
db = openOrCreateDatabase("tompomodoros.db", Context.MODE_PRIVATE, null);
db.execSQL("CREATE TABLE mytable (_id INTEGER PRIMARY KEY AUTOINCREMENT, mydate VARCHAR, mydata SMALLINT)"); 
```

我使用上面的代码来创建数据库及其表“mytable”。但是我第二次运行它，电话就死机了。我想那是因为我再次创建了表，但它已经存在了。所以我的问题是如何第一次创建表并在其余时间打开它？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-20T09:38:04.710

尝试[`if not exists`](http://www.sqlite.org/lang_createtable.html)：

```
db.execSQL("CREATE TABLE if not exists mytable (_id INTEGER PRIMARY KEY AUTOINCREMENT, mydate VARCHAR, mydata SMALLINT)"); 
```

然后我们像往常一样。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-20T09:37:09.217

首先检查表是否存在，使用如下：

```
Cursor cursor = db.rawQuery("SELECT DISTINCT tbl_name FROM sqlite_master WHERE tbl_name = 'mytable'", null);
if(cursor == null || cursor.getCount() == 0) { //table does not exist
        //create the Db attachments table
        db.execSQL("CREATE TABLE mytable (_id INTEGER PRIMARY KEY AUTOINCREMENT, mydate VARCHAR, mydata SMALLINT)");
}
cursor.close(); 
```

# javascript - 谷歌地图上多点的边界

> ID：13470215
> 
> 赞同：3
> 
> 时间：2012-11-20T09:34:50.683
> 
> 标签：javascript, google-maps

每个人。最近，我们在谷歌地图上遇到了一个关于边界的问题。

我们收到了很多点，它们是“新 google.maps.LatLng(lat,lng)”的对象。然后，如何绘制或制作这个块的边界。或者如何找到边界上的点（LatLng，用于绘制多边形），有没有 JS 算法？

就像一个故事：我们收到了很多羊（积分）作为礼物，那么如何为它们建造边界清晰的羊圈呢？

非常感谢您的回复！！！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-26T17:46:33.293

您正在寻找的是“凸包”算法。这是一个示例（您需要查看源代码）：

[http://www.geocodezip.com/v3_map-markers_ConvexHull.asp](http://www.geocodezip.com/v3_map-markers_ConvexHull.asp)

这也是之前的问题：

[如何在Javascript中查找/创建GPS点的凸包](https://stackoverflow.com/questions/4589907/how-to-find-create-convex-hull-of-gps-points-in-javascript)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-20T09:38:57.433

`var bound = new google.maps.LatLngBounds();` 然后用 `bound.extend(new google.maps.LatLng(lat,lng));`

# entity-framework - 实体框架代码优先 - 加入组合键

> ID：13470219
> 
> 赞同：0
> 
> 时间：2012-11-20T09:34:59.847
> 
> 标签：entity-framework, ef-code-first, firebird, entity-framework-5

*   火鸟 2.5
*   实体框架 5
*   火鸟客户端DLL 3.0.0.0

我（仍在）尝试使用实体框架（代码优先）访问我的旧数据库。

现在我想创建一个没有 Forrein Key 的一对一关系。

```
public class KONTAKTE
{
    public int KUNDENNR { get; set; }
    public Int16 ANSPRNR { get; set; }
    public Int16 NR { get; set; }

    public virtual ICollection<KONTAKTBED> KONTAKTBED { get; set; }
}
public class KONTAKTBED
{
    public int ID { get; set; }

    public Int16 LFDNR { get; set; }
    public int KUNDENNR { get; set; }
    public Int16 ANSPRNR { get; set; }

    public string NAME { get; set; }
} 
```

公共类 CTKontakt : DbContext {

```
 public DbSet<KONTAKTE> KONTAKTE { get; set; }
    public DbSet<KONTAKTBED> KONTAKTBED { get; set; }

    public CTKontakt(DbConnection connectionString) : base(connectionString, false)
    {
        Database.SetInitializer<CTKontakt>(null);
    }

    protected override void OnModelCreating(DbModelBuilder modelBuilder)
    {
        modelBuilder.Conventions.Remove<PluralizingTableNameConvention>();

       /* modelBuilder.Entity<KONTAKTE>().
        HasMany(p => p.KONTAKTBED).
        WithMany().
        Map(t => t.MapLeftKey("KUNDENNR", "NR")
            .MapRightKey("KUNDENNR", "LFDNR"));*/ //Does't work

        modelBuilder.Entity<KONTAKTE>().HasKey(a => new { a.KUNDENNR, a.ANSPRNR, a.NR });     
        modelBuilder.Entity<KONTAKTBED>().HasKey(a => new { a.ID, a.DATABASE_ID});  

        base.OnModelCreating(modelBuilder);
    } 
```

如您所见，我不能使用 KONTAKTE-Table 的整个主键。这是否意味着我必须实现多对多现实？目前我只是稍后加入表格：

```
from k in lEKontakt.KONTAKTE
join kbed in lEKontakt.KONTAKTBED
on new { KUNDENNR = k.KUNDENNR, NR = k.NR }
equals new { KUNDENNR = kbed.KUNDENNR, NR = kbed.LFDNR } 
```

我想做这样的事情：

```
modelBuilder.Entity<KONTAKTE>()
.HasKey(d => new { d.KUNDENNR, d.ANSPRNR, d.NR })
.HasMany(d => d.KONTAKTBED)
.WithOptional()
.HasForeignKey(l => new { l.KUNDENNR, l.ANSPRNR, l.LFDNR }); 
```

但是没有 ANSPRNR...

我还是 Ef-Code First 的新手，我发现的所有示例似乎都不适用于 EF 5...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T13:55:57.260

我为我找到了解决方案：

看来我只需要删除未使用字段的主键定义。没有它我仍然可以读取数据：

```
 protected override void OnModelCreating(DbModelBuilder modelBuilder)
    {
        modelBuilder.Conventions.Remove<PluralizingTableNameConvention>();

        modelBuilder.Entity<KONTAKTE>()
            .HasRequired(b => b.KUNDEN)
            .WithMany()
            .HasForeignKey(b => b.KUNDENNR);

        modelBuilder.Entity<KONTAKTE>()
        .HasKey(d => new { d.KUNDENNR, d.NR })
        .HasMany(d => d.KONTAKTBED)
        .WithOptional()
        .HasForeignKey(l => new { l.KUNDENNR, l.LFDNR });

        modelBuilder.Entity<KONTAKTE>().HasKey(a => new { a.KUNDENNR, a.NR });     

        modelBuilder.Entity<KUNDEN>().HasKey(a => new { a.KUNDENNR });

        modelBuilder.Entity<KONTAKTBED>().HasKey(a => new { a.ID, a.DATABASE_ID});  

        base.OnModelCreating(modelBuilder);
    } 
```

# jquery - 用 jQuery 控制 CSS 转换？

> ID：13470223
> 
> 赞同：0
> 
> 时间：2012-11-20T09:35:14.667
> 
> 标签：jquery, css, fade

我在图像上有一个简单的不透明度淡入淡出，目前只使用 css。

它工作正常..

CSS

```
ul#project li img {
opacity: 0.5;
transition: opacity .55s ease-in-out;
-moz-transition: opacity .55s ease-in-out;
-webkit-transition: opacity .55s ease-in-out;
}

ul#project li img:hover{ opacity: 1;} 
```

HTML

```
<ul id="project" class="inner clearfix">
    <li class="tv-thumb 67">
        <a href="#" rel="link">
        <img class='large-image' src='image.jpg' />         
        </a>
    </li>
</ul> 
```

jQuery是否可以暂停或保持动画，例如你将鼠标悬停在它上面会逐渐消失到完全不透明，你离开并且在消失之前有5秒的暂停？

这可能，我热衷于只使用一张图片，那是真的..

感谢您的任何提示。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T09:38:56.563

像这样的东西怎么样：

css

```
 #project li a{
    opacity:0.5;
    } 
```

js-1

```
$('#project li a').bind('mouseover',function(){

  $(this).fadeTo(0,1);

}).bind('mouseout',funcion(){

 $(this).delay(5000).fadeTo(0,0.5);

}); 
```

或 js-2

```
 $('#project li a').on('mouseover',function(){

      $(this).fadeTo(0,1);

    });

 $('#project li a').on('mouseout',funcion(){

     $(this).delay(5000).fadeTo(0,0.5);

    }); 
```

或 js-3

```
$('#project li a').on('mouseenter',function(){

      $(this).fadeTo(1500,1);

    });

$('#project li a').on('mouseleave',function(){

      $(this).delay(5000).fadeTo(1500,0.5);

    }); 
```

?

已编辑：如果您想将 css 转换为 jquery，请不要使用 css 并使用 jquery（在 jsfiddle 中，您可以删除 css 转换等等），那么在您的情况下，您应该将事件绑定到主 img 父元素，检查它出：http: [//jsfiddle.net/pmf68/8/](http://jsfiddle.net/pmf68/8/)

编辑 2：

如果你不需要跳过不透明度试试这个[http://jsfiddle.net/pmf68/10/](http://jsfiddle.net/pmf68/10/)

# java - 怎么可能知道链接会被重定向

> ID：13470227
> 
> 赞同：0
> 
> 时间：2012-11-20T09:35:21.713
> 
> 标签：java, android, url, redirect, favicon

我遇到了这种类型的问题 - 当我尝试下载某些网站的 favicon 时，您会遇到重定向（如 google.com / favicon.ico -> www.google.com / favicon.ico）。在这种情况下，我的代码不会保存图像。我想知道是否有可能知道页面是否被重定向，或者如何更改我的代码来解决这个障碍。我希望能得到你的帮助。

```
 @Override
    protected Boolean doInBackground(Void...param) {
        Log.d("url in NetworkTask", url);
        HttpGet httpGet = new HttpGet(url);
        AndroidHttpClient httpClient = AndroidHttpClient
                                        .newInstance("Android");
        HttpResponse httpResponse = null;
        try {
            httpResponse = httpClient.execute(httpGet);                       
        } catch (IOException e) {
            e.printStackTrace();                
        }
        if(httpResponse!=null) 
            primaryCodeStatus = httpResponse.getStatusLine()
                .getStatusCode();
        else Log.d("httpResponse", "NULL");            
        if(primaryCodeStatus != 0){             
            try {
                urlFavIcon = new URL(url).getProtocol()
                        +"://"
                        +new URL(url).getHost()
                        +"/favicon.ico";
                fileName = new URL(url).getHost()+"(FAVICON).jpg";
                System.out.println(urlFavIcon);
            } catch (MalformedURLException e) {
                e.printStackTrace();
            }
            if(!(urlFavIcon.equals(""))){                   
                httpGet = new HttpGet(urlFavIcon);
                try {
                    httpResponse = httpClient.execute(httpGet);
                } catch (IOException e) {
                    e.printStackTrace();
                }                   
                try {
                    is = (java.io.InputStream)
                                        httpResponse
                                        .getEntity()
                                        .getContent();
                } catch (IllegalStateException e) {
                    e.printStackTrace();
                } catch (IOException e) {
                    e.printStackTrace();
                }                   
            }
            httpClient.close();
            Log.d("START SERVICE", "monitor url: "+url);                                        
            return true;
        } 
        else return false;             
    }

    @Override
    public void onPostExecute(Boolean param){
        if(param){
            Bitmap siteIcon = BitmapFactory.decodeStream(is);
            String path = Environment.getExternalStorageDirectory().getPath()+"/"; 
            System.out.println(Environment.getExternalStorageDirectory().canWrite());
            File fileFavIcon = null;
            fileFavIcon = new File(path, fileName);
            if(fileFavIcon != null && siteIcon != null){
                try {
                    FileOutputStream fOS = new FileOutputStream(fileFavIcon);
                    siteIcon.compress(Bitmap.CompressFormat.PNG, 100, fOS);
                    fOS.flush();
                    fOS.close();
                } catch (FileNotFoundException e) {
                    e.printStackTrace();
                } catch (IOException e) {
                    e.printStackTrace();
                }
            }

            getActivity()
                .startService(new Intent(getActivity(), ExService.class)
                .putExtra("UrlBox", new UrlBoxHelper(new UrlBox(url,
                                            60000))));  
            FragmentDialogAddNewUrlConectActivity conectActivity =
                    (FragmentDialogAddNewUrlConectActivity) getActivity();          
                conectActivity
                    .fragmentDialogClickButtonListener(url,
                                                    drawableFavIconUrl);                                                
        }               
        else {              
            Toast toastInfo = Toast
                    .makeText(getActivity().getApplicationContext(),
                    "This link does not exist page",
                    Toast.LENGTH_LONG);
            toastInfo.setGravity(Gravity.TOP, 0, 0);
            toastInfo.show();               
        }

    } 
```

**编辑**

**他在这里写道，解决了我的问题：**

```
httpGet = new HttpGet(urlFavIcon);
HttpParams params = new BasicHttpParams();
params.setParameter("http.protocol.handle-redirects",false);
httpGet.setParams(params);
httpResponse = httpClient.execute(httpGet);
Header locationHeader = httpResponse.getFirstHeader("location");
if(locationHeader != null){
   System.out.println(locationHeader.getValue());// locationHeader.getValue() get new link(redirect)
   urlFavIcon = locationHeader.getValue();
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T09:37:29.793

您应该检查您的 http 请求的[状态码](http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html)。3xx 代码代表重定向。所以你可以对它们做出适当的反应。

# ios - 加密资源文件夹中的图片 +IOS SDK

> ID：13470228
> 
> 赞同：1
> 
> 时间：2012-11-20T09:35:24.580
> 
> 标签：ios, encryption

任何人都知道如何加密资源文件夹中的图像？是否有任何加密算法可以这样做？我正在使用应用内购买应用程序，并且只有在购买后才能看到一些图像（所有图像都在资源文件夹中）。我们可以通过破解它从 Windows 中看到 .ipa 文件中的文件。如何加密资源文件夹中的那些文件和图像？

# visual-studio - TeamCity 中 VStudio 的宏变量未设置

> ID：13470230
> 
> 赞同：1
> 
> 时间：2012-11-20T09:35:32.217
> 
> 标签：visual-studio, macros, teamcity

我必须在 Visual Studio 中使用 Pre-Build 事件，以便将文件从模板版本复制到可编译版本，或者调用工具来翻译文件 - 取决于我处于调试模式还是发布模式。如前所述，我使用了调试开关

```
if $(ConfigurationName) == Debug goto :debug

$(SolutionDir)\Tools\MyTool\Translate -i $(ProjectDir)\Themes\Generic.Template.xaml -o $(ProjectDir)\Themes\Generic.xaml 

goto :end

:debug

copy /y $(ProjectDir)\Themes\Generic.Template.xaml $(ProjectDir)\Themes\Generic.xaml

:end 
```

只要我使用本地的 Visual Studio，一切正常。但是使用 TeamCity 构建时，Studio 宏变量设置不正确。Visual Studio 本身未安装在构建服务器上。作为构建脚本，我们使用 f#make，它使用解决方案文件调用 msbuild。在本地调用构建批处理也可以完美运行，因此 TeamCity 似乎以某种方式隐藏了这些变量。

是否有任何已知问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-02T16:50:22.027

我知道在针对 .sln 文件构建时，msbuild 和 devenv.exe 之间存在明显差异。例如，msbuild 驱动的构建不会构建 Visual Studio 部署项目。我不能确定预构建步骤中的效果是什么。

我建议将您的 TeamCity 构建步骤更改为使用 devenv.exe 而不是 msbuild（可能需要命令行构建步骤），然后看看它是否工作得更好。

TeamCity 提供了一些内置的构建参数，可帮助您在代理上找到 devenv.exe 的正确路径。它们是 env.VS100COMNTOOLS 和 VS2010_Path。

# c# - 在 XNA 中旋转精灵

> ID：13470237
> 
> 赞同：0
> 
> 时间：2012-11-20T09:35:47.763
> 
> 标签：c#, xna, rotation

所以我想旋转我的精灵，让它总是看着鼠标的位置。我正在使用以下代码：

```
 public void draw(SpriteBatch sb)
    {
        int mouse_x = Mouse.GetState().X;
        int mouse_y = Mouse.GetState().Y;
        float angles = Calc.getAngle(new Vector2(mouse_x, mouse_y));

        sb.Draw(texture, position, null, Color.White, angles, origins, SpriteEffects.None, 1);

    }

    //Calc.cs method
    public static float getAngle(this Vector2 v)
    {
        return (float)Math.Atan2(v.Y, v.X);
    } 
```

我收到以下错误：

参数 2：无法从 'Microsoft.Xna.Framework.Vector2' 转换为 'Microsoft.Xna.Framework.Rectangle'

我以为我的参数是正确的，但显然不是。我不知道为什么它不接受该位置的向量。

请问有什么帮助吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-20T10:12:00.810

根据[MSDN](http://msdn.microsoft.com/de-de/library/microsoft.xna.framework.graphics.spritebatch.draw%28v=xnagamestudio.40%29.aspx)，具有 8 个参数的方法采用 Rectangle，而不是 Vector2。有一些方法有 9 个参数和一个 Vector2。你缺少一个参数吗？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-22T10:38:11.013

您需要在 Draw 方法的 scale 参数的“origins”之后添加一个浮点数，并且由于您不想更改纹理的大小，因此 scale 应为 1。（您需要使用 Draw 方法的第 6 次重载，该方法采用 vector2对于位置和用于缩放的浮点数，另一种解决方案是使用第 5 次重载，在这种情况下，您必须使用矩形作为位置，并且不需要缩放）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-06-28T13:04:23.617

您也可以通过将 vector.X 和 vector.Y 放在矩形的新实例中并在 spritebactch.Draw 方法中使用矩形实例而不是 vector2 来做到这一点

# hive - Hive：UDF 和 GROUP BY

> ID：13470238
> 
> 赞同：5
> 
> 时间：2012-11-20T09:35:53.667
> 
> 标签：hive, hiveql

我有一个返回扩展名的 UDF (GetUrlExt)。（例如：/abc/models/xyz/images/top.jpg 中的 jpg）。数据如下图所示：

```
Date Time TimeTaken uristem  
9/5/2011 0:00:10 234 /abc/models/xyz/images/top.jpg  
9/5/2011 0:00:11 456 /abc/models/xyz/images/bottom.jpg  
9/5/2011 0:00:14 789 /abc/models/xyz/images/left.gif  
9/5/2011 0:00:16 234 /abc/models/xyz/images/top.pdf  
9/5/2011 0:00:18 734 /abc/models/xyz/images/top.pdf  
9/5/2011 0:00:19 654 /abc/models/xyz/images/right.gif  
9/5/2011 0:00:21 346 /abc/models/xyz/images/top.pdf  
9/5/2011 0:00:24 556 /abc/models/xyz/images/front.pdf  
9/5/2011 0:00:26 134 /abc/models/xyz/images/back.jpg 
```

没有“GROUP BY”的查询工作正常：

```
SELECT GetUrlExt(uristem) AS extn FROM LogTable; 
```

结果： *jpg jpg gif pdf pdf gif pdf pdf jpg*

现在我需要对 GetUrlExt UDF 的结果进行“GROUP BY”。
预期结果：
*jpg 3 274.6
gif 2 721.5
pdf 4 467.5*

但以下查询不起作用：

```
SELECT GetUrlExt(uristem) AS extn, Count(*) AS PerCount, Avg(TimeTaken) AS AvgTime FROM LogTable GROUP BY extn; 
```

任何形式的帮助表示赞赏！

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-21T08:26:47.540

请使用子查询进行分组。

Hive 不支持直接按计算值分组。

```
SELECT a.extn, Count(*) AS PerCount, Avg(TimeTaken) AS AvgTime 
FROM
(
    SELECT GetUrlExt(uristem) AS extn, TimeTaken
    FROM LogTable 
) a
GROUP BY a.extn; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-06-30T19:03:42.363

您可以启用 group by 别名，或者您需要 group by 中的整个语句

```
SELECT GetUrlExt(uristem) AS extn, Count(*) AS PerCount, Avg(TimeTaken) AS AvgTime 
FROM LogTable 
GROUP BY GetUrlExt(uristem); 
```

# c# - 如何在 EmguCV 中将 Bgr 像素转换为 Hsv 像素？

> ID：13470239
> 
> 赞同：3
> 
> 时间：2012-11-20T09:35:52.740
> 
> 标签：c#, opencv, emgucv

我想将 Bgr 值（一个像素）转换为 Hsv 值。如何在 EmguCV 中做到这一点（无需从头开始编写转换代码）？

请注意，我对转换整个图像的色彩空间不感兴趣，但只有一个像素，因此`CvInvoke.cvCvtColor()`对我不起作用。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2017-08-19T17:03:26.727

如果您想在 EmguCV 中执行此操作，只需将图像读入 Image 获取像素的值并将其粘贴在 Hsv 结构中。

例如：

```
static void Main(string[] args)
{
    bool haveOpenCL = CvInvoke.HaveOpenCL;

    bool haveOpenClGpu = CvInvoke.HaveOpenCLCompatibleGpuDevice;

    CvInvoke.UseOpenCL = true;

    Emgu.CV.Image<Bgr, Byte> lenaBgr = new Image<Bgr, Byte>(@"D:\OpenCV\opencv-3.2.0\samples\data\Lena.jpg");

    CvInvoke.Imshow("Lena BSG", lenaBgr);

    Bgr color = lenaBgr[100, 100];

    Console.WriteLine("Bgr: {0}", color.ToString());

    Emgu.CV.Image<Hsv, Byte> lenaHsv = new Image<Hsv, Byte>(@"D:\OpenCV\opencv-3.2.0\samples\data\Lena.jpg");

    CvInvoke.Imshow("Lena HSV", lenaHsv);

    Hsv colorHsv = lenaHsv[100, 100];

    Console.WriteLine("HSV: {0}", colorHsv.ToString());

    CvInvoke.WaitKey(0);
} 
```

}

结果：Bgr：[87,74,182] HSV：[176,151,182]

```
 Lena BGR                    Lena HSV 
```

[![莉娜BGR](../Images/097916e8ad15f01dfaa11c10510c066f.png)](https://i.stack.imgur.com/sNneb.jpg) [![丽娜HSV](../Images/552d22aee02322e0b9bb512ff27d86c6.png)](https://i.stack.imgur.com/CknaL.jpg)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-20T10:18:31.997

好的，我已经找到了一种使用 .NET 框架帮助的方法

给定一个`Bgr pixel`；

1-将颜色转换为`System.Drawing.Color`：

```
System.Drawing.Color intermediate = System.Drawing.Color.FromArgb((int)pixel.Red, (int)pixel.Green, (int)pixel.Blue); 
```

2- 从中间体构造 Hsv。

```
Hsv hsvPixel = new Hsv(intermediate.GetHue(), intermediate.GetSaturation(), intermediate.GetBrightness()); 
```

干杯。

# c - C程序中的奇怪错误

> ID：13470240
> 
> 赞同：1
> 
> 时间：2012-11-20T09:36:17.497
> 
> 标签：c

仅当我在 C 文件（不是 CPP）中工作时才会出现此错误

我在处理一些 opengl 示例时遇到了一个非常奇怪的错误，我将其缩小到下面的代码，这会产生与我得到的相同的错误，找不到类型

```
#include "stdlib.h"
void Initialize(int, char*[]);

void main()
{
}

void Initialize(int argc, char* argv[])
{
    int i;
    for(i = 10; i>0;i--)
    {
        int j=0;
        j = j+2;
        int GlewInitResult2;
    }
} 
```

我用的是visual studio 2008，操作系统：windows xp

无法理解为什么会这样？这是编译器错误吗？

（顺便说一句，如果我将文件保存为 .CPP 文件，它编译得很好）

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-20T09:39:44.860

声明后有声明。在较新版本的 C（如 C99）中，您可以拥有它，但在旧版本中则不能。微软的 C 编译器很旧。在 C++ 中没关系，这就是它构建的原因。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-20T09:39:24.303

Microsoft 编译器仅支持 C89，因此不能混合声明和代码。这在 C++ 中是允许的。当源文件有`.c`扩展名时，它被视为 C 源文件，当它有扩展名时，`.cpp`它被视为 C++。

为了更正 C，请将所有变量声明放在它们要使用的范围的开头。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-20T09:44:19.613

据我所知，Visual Studio 2008 并不完全符合 c99。

在标准中，`c99`您必须在程序开始时声明您的变量。但是在`c99`函数的任何地方都可以声明变量。

在 c++ 中也没有这样的限制。在 Windows 中，当您创建带有扩展名的文件时，`.cpp`它被视为 c++ 文件。因此，相同的程序在编译为 cpp 时可以工作。

解决方案：

1.  在函数的开头声明你的变量。这也是一个好习惯！
2.  改变你的编译器！（看看[**这个**](http://codepad.org/obDhdySQ)。没有编译器错误！）

# ruby-on-rails - Ruby on rails - 如何将用户 ID 放入状态更新树屋挑战中

> ID：13470248
> 
> 赞同：0
> 
> 时间：2012-11-20T09:36:46.707
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3

我正在 treehouse.com 提供的课程上建立一个社交网络。它在轨道上使用红宝石。

我被困在这一刻，因为当我点击发布状态时，我收到了这条消息。我正在尝试用用户 ID 替换任何名称。我已经添加了树屋告诉你要做的所有正确的事情，但我收到了这个错误：

状态中的 NoMethodError#show

显示 /Users/lewisfrost/frostbook/app/views/statuses/show.html.erb 其中第 5 行提出：

13:Fixnum 的未定义方法“first_name”

提取的源代码（第 5 行附近）：

5: <%= @status.user_id.first_name %>

有人可以帮忙吗？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T09:42:45.070

`@status.user_id`只是一个数字。`@status.user`取而代之的是用户。

```
<%= @status.user.first_name if @status.user %> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-20T09:46:40.677

在您的模型状态中，您编写了状态 - 用户关系？像

```
class Statuses 
  belongs_to :user
....
end 
```

现在你可以输入

> @status.user.first_name

# sharepoint - 流程不会被拒绝和重新分配

> ID：13470250
> 
> 赞同：1
> 
> 时间：2012-11-20T09:36:57.720
> 
> 标签：sharepoint, sharepoint-2010

我创建了一个带有批准和拒绝流程的工作流。只要文件被批准，它就可以正常工作，但是当被拒绝时，流程不会被拒绝并且任务会被重新分配。我使用了顺序工作流并且在拒绝时我使用代码活动来更新流程，然后终止活动。它显示为拒绝但重新分配任务。有什么建议吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-26T09:46:08.343

我使用过 Visual Studio 工作流程。这就是拒绝过程中发生的事情。

```
enter code hereSPSite mySite = new SPSite(TaskDetails);
        SPWeb myweb = mySite.OpenWeb();
        if (TasksListstitle == "Request Form")
        {
            SPList myList = myweb.Lists["Request Form"];
            SPListItem myListItem = myList.GetItemById(TaskItemID);
            myListItem["Document Status"] = "Request Rejected";
            myListItem.Update();
        }
        if (TasksListstitle == "Contract Forms")
        {
            SPList myList1 = myweb.Lists["Contract Forms"];
            SPListItem myListItem1 = myList1.GetItemById(TaskItemID);
            myListItem1["Document Status"] = "Document Rejected";
            myListItem1.Update();

        } 
```

拒绝后，我使用了终止活动过程。有时它会被重新分配而不会被拒绝，有时它会被拒绝并终止活动。我觉得可能是身份证有问题。

# android - android在后台捕捉触摸

> ID：13470252
> 
> 赞同：1
> 
> 时间：2012-11-20T09:37:05.000
> 
> 标签：android, background, overlay, gesture, touches

我想为用户提供一种控制我的应用程序的方法，然后它就在后台。我通过覆盖在角落实现了特殊的隐藏区域。但是这样的解决方案有很多限制：每个隐藏区域只有 2 个可能的操作（一个用于常规触摸，另一个用于长按），其他应用程序使用相同的行为（区域可以重叠）等。

在寻找替代品时，我在[这里](http://play.google.com/store/apps/details?id=com.benzul.ags)找到了 AGS 应用程序。这个应用程序使用手势，它可以在屏幕上的任何地方捕捉它们。

AFAIK不可能与覆盖有关，对吗？任何想法如何实现这种行为？

# security-testing - Paros Proxy 详细教程

> ID：13470253
> 
> 赞同：3
> 
> 时间：2012-11-20T09:37:06.627
> 
> 标签：security-testing, parosproxy

任何人都可以建议，在哪里可以找到有关 Paros Proxy 的详细教程，我的意思是如何使用 paros 测试应用程序。关注站点提供的信息还不够，因为它只建议使用它，我想知道如何放置 SQL 注入或 XSS 等。请提出一些帮助。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-21T03:09:08.497

因此，paros 代理没有文档化的教程。你有没有先试一试？

首先，首先在 localhost 和端口上为您的浏览器配置代理。

现在您必须从工具 -> 选项 -> 本地代理在 Paros 代理中设置本地代理。将地址和端口设置为在浏览器中设置的值。

转到 Paros 中的“Trap”选项卡并勾选“Trap Request”和“Trap Response”复选框。

在浏览器上加载您正在测试的网站的网址。这个 http 请求将在 Paros 代理中被拦截。现在您可以根据需要更改参数进行测试。

我还建议您也尝试一下[ZAP Proxy](https://www.owasp.org/index.php/OWASP_Zed_Attack_Proxy_Project)。这是从 Paros Proxy 本身分叉出来的。它也有相当水平的文档。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-11-03T07:12:32.797

您可以从以下 PDF 中找到详细信息：

[http://www.sela.co.il/_Uploads/dbsAttachedFiles/paros_user_guide.pdf](http://www.sela.co.il/_Uploads/dbsAttachedFiles/paros_user_guide.pdf)

# facebook - 通过 facebook 应用程序在 facebook 朋友的墙上发帖不起作用

> ID：13470254
> 
> 赞同：0
> 
> 时间：2012-11-20T09:37:05.840
> 
> 标签：facebook, facebook-graph-api, publish

我想使用我的 facebook 应用程序在我的 facebook 朋友墙上发帖。我已经为它设置了足够的权限`publish_stream`，例如，`offline_access`并且我正在使用它的 Graph API 和 PHP，但它只发布给那些要么是应用程序开发人员要么是应用程序管理员的人。我不知道我在哪里做错了。然而，我的一位朋友通过客观的 c(iphone) 代码成功地做到了这一点。我检查了他的代码，他的操作方式与我相同。请帮我解决它。这是我的代码，我正在使用 facebook sdk 3.0 -：

```
if(isset($_POST['submit'])) {
    $sendTo = $_POST['friend'];
    $link = $_POST['link'];
    $message = $_POST['message'];
    $attachment = array('message' => $message, 'link' => $link );

    if($result = $facebook->api("/$sendTo/feed/",'post', $attachment))
    {
        $feedbackMessage = "Message sent to friend $sendTo";
    }
    else 
    {
        $feedbackMessage = "Oops something went wrong";
    } 
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-20T11:24:41.683

首先，我建议您看一下最近对 facebook 开发者路线图的更新：

[https://developers.facebook.com/roadmap/](https://developers.facebook.com/roadmap/) 2013 年 2 月的重大变化：

“删除通过 Graph API 向朋友墙发帖的功能我们将删除通过 Graph API 向用户朋友墙发帖的功能。具体来说，针对 [user_id]/feed 的 [user_id] 与会话用户不同的帖子，或在 target_id 用户与会话用户不同的情况下，stream.publish 调用将失败。如果您想允许人们发布到他们朋友的时间线，请调用提要对话框。通过用户提及标记或动作标记包含朋友的故事将显示在朋友的时间线上（假设朋友批准标签）。有关更多信息，请参阅此博客文章。

正如 CBroe 所提到的，只有应用程序管理员/开发人员可以发布的事实可能与沙盒设置有关。

无论如何，api应该返回一个详细的错误。

# java - 在数据库单元安装中使用 maven 生成 jar 文件

> ID：13470255
> 
> 赞同：0
> 
> 时间：2012-11-20T09:37:07.300
> 
> 标签：java, maven-3, maven-plugin

我需要在我的系统中安装数据库单元。我已完成安装 JDBC 驱动程序。我已经下载了junit-4.11.jar。

我必须将 jar 文件生成到目录中。这样做的正确方法/步骤是什么。按照链接： [http ://www.dbunit.org/building.html](http://www.dbunit.org/building.html)

我试图从命令行运行`mvn`命令。但我得到了错误

```
C:\Users\suvin>mvn install 
```

`[INFO] Scanning for projects...` `[INFO] ------------------------------------------------------------------------` `[INFO] BUILD FAILURE` `[INFO] ------------------------------------------------------------------------` `[INFO] Total time: 0.225s` `[INFO] Finished at: Tue Nov 20 14:51:56 IST 2012` `[INFO] Final Memory: 1M/15M` `[INFO] ------------------------------------------------------------------------` `[ERROR] The goal you specified requires a project to execute but there is no POM in this directory (C:\Users\suvin). Please verify you invoked Maven from the co rrect directory. -> [Help 1]` `[ERROR]` `[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.` `[ERROR] Re-run Maven using the -X switch to enable full debug logging.` `[ERROR]` `[ERROR] For more information about the errors and possible solutions, please read the following articles: [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MissingProject Exception`

任何帮助，将不胜感激

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T09:46:55.320

dbUnit 依赖项是否包含在 POM 文件中，如果是，mvn install 会执行您期望的操作

```
 <dependency>
    <groupId>org.dbunit</groupId>
    <artifactId>dbunit</artifactId>
    <version>2.4.3</version>
</dependency> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T09:39:25.653

似乎`C:\Users\suvin`位置没有 pom 文件，在执行“mvn install”之前，您的命令提示符应该位于您的 POM 文件所在的位置。

供您参考。

通常，您可以从源代码构建（编译）它并获取您的 jar。要构建源代码，您可以使用 ant 或 maven，它们是 java 中的一些构建工具。源代码提供者通过 build.xml 或 pom.xml 或两者提供其源代码。您可以使用您的构建技术来编译该 java 源并从中获取 jar。

你可以从网上学习[ant](http://ant.apache.org/)和[maven](http://maven.apache.org/)

# c# - C# 属性\避免硬编码值

> ID：13470259
> 
> 赞同：4
> 
> 时间：2012-11-20T09:37:10.637
> 
> 标签：c#, attributes, postsharp

只是为了确认没有办法避免 c# 属性中的硬编码值，对吧？

```
[SomeAttribute(3+1)]
public void Foo(string s) 
```

或访问类成员或做任何未预编译的事情？

我现在探索[postsharp 中重试机制的一个很好的例子](http://programmersunlimited.wordpress.com/2011/04/07/method-waitretry-functionality-using-postsharp/)- 并想看看我是否可以从系统外部配置重试次数

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-20T09:41:22.640

属性构造函数参数和属性值被烘焙到编译的代码中。它们无法在执行时确定。

当然，如果你有一个愿意玩球的属性，你可以给它（比如说）一个类型和一个属性的名称，并要求它在执行时获取该属性值。[（例如，这就是 NUnit 所做的`[TestCaseSource]`。）](http://nunit.org/index.php?p=testCaseSource&r=2.5)但是您不能使用不知道这样做的属性来执行此操作。

# cordova - 如何在 html 中调用 phonegap 函数

> ID：13470263
> 
> 赞同：0
> 
> 时间：2012-11-20T09:37:16.143
> 
> 标签：cordova, phonegap

我正在使用 jquery mobile 和 phonegap build 为移动设备构建一个基本的 html 应用程序。我有一个用于关闭移动应用程序的按钮。我得到了关闭应用程序的代码。

我的代码是：

```
function close_app(){
    navigator.app.exitApp();
} 
```

我使用 phonegap build 构建我的应用程序。并在我的 android 手机中对其进行了测试，但代码对我不起作用。

你能告诉我是否可以在构建 phonegap 中使用 phonegap 功能。

如果可能的话，我该怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T17:11:14.670

您需要为关闭按钮添加一个侦听器事件并关联一个函数。

像这样创建一个监听器

```
document.addEventListener("closebutton", close_app, true); 
```

然后在 close_app() 写这个

```
function close_app() {
    navigator.app.exitApp();
} 
```

将您的 phonegap/cordova 版本更新到最新版本并使用上面提供的代码是个好主意。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-03-26T10:09:22.370

我使用了以下代码，它对我来说工作正常；-

```
document.addEventListener("deviceready", deviceready, false);
function deviceready() {
    document.addEventListener("backbutton", onBackKeyDown, false);
    function onBackKeyDown() {
        if (confirm("Do you want to Exit?")) {
            navigator.app.exitApp();
        }
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-03-26T12:11:46.897

请在您的 PhoneGap 应用程序上运行以下代码。您需要等待 'deviceready' 事件才能使用 PhoneGap API。然后，您应该将事件侦听器添加到任何元素。当 'deviceready' 事件未出现时，请确保您的 cordova.js 是否已加载。

```
<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">

<!--This line should be updated according to your cordova.js version-->
<script src="cordova.js"></script>

<script>

    document.addEventListener('deviceready', onDeviceready, false);

    function onDeviceready(){

        console.log('Now you can use PhoneGap APIs');

        document.getElementById('exit_button').addEventListener('click', closeThisApp, false);

            console.log('Add click event to the button and call app.exitApp');
            function closeThisApp(){
                navigator.app.exitApp();
            }

    }

</script>
</head>
<body>

<button id="exit_button">Exit</button>

</body>
</html> 
```

# android - Android片段：指定的孩子已经有一个父片段 - 错误

> ID：13470267
> 
> 赞同：0
> 
> 时间：2012-11-20T09:37:31.857
> 
> 标签：android, layout, view, parent, fragment

我对 Androids Fragments 的问题有兴趣。

我有一个片段活动，它由一个带有 4 个选项卡的 TabHost 组成。这些选项卡之一显示图表。图表数据的计算很复杂，需要一段时间。问题：让我们假设用户单击特定选项卡，图表的计算开始并且一切正常。现在用户单击下一个选项卡，应用程序会显示内容。之后，用户切换回图表选项卡。所以它不会重新加载，我在 Diagramm-Fragment 的 onCreateView 中执行以下操作：

```
 @Override
public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {
    if(layout == null){
        layout = new PedelecRelativeLayout(getActivity());
        initUI();
    }
    return layout;
} 
```

如您所见，如果布局为空，它将被启动并且 initUI() 生成图表。

第一次单击该选项卡有效，但在第二次单击该选项卡时，应用程序崩溃并出现以下错误：

```
11-20 10:32:36.928: E/AndroidRuntime(9888): FATAL EXCEPTION: main
11-20 10:32:36.928: E/AndroidRuntime(9888): java.lang.IllegalStateException: The     specified child already has a parent. You must call removeView() on the child's parent first. 
```

这是我的片段活动与选项卡主机的代码片段：

```
summaryDiagram = (SummaryDiagramFragment)  fm.findFragmentByTag(TAB_DIAGRAM);
...
if(summaryDiagram != null){
                ft.detach(summaryDiagram);
            }
...

if(tabId.equals(TAB_DIAGRAM)){
                if(summaryDiagram==null){
                    /** Create AndroidFragment and adding to fragmenttransaction */
                    summaryDiagram = new SummaryDiagramFragment();
                    ft.add(R.id.realtabcontent, summaryDiagram, TAB_DIAGRAM);
                }else{
                    /** Bring to the front, if already exists in the fragmenttransaction */
                    ft.attach(summaryDiagram);
                }
            } 
```

谢谢你的帮助，我很抱歉我的英语不好:-)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-17T08:47:10.307

您不得自行分离然后重新附加片段。它应该保持活动状态。要在每次 onCreate(Bundle arg) 调用后获取片段实例，如果活动从保存状态恢复，您必须在 FragmentManager 中找到您的片段。

```
@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_layout);

    if (savedInstanceState != null) {
        fragment = getSupportFragmentManager().findFragmentById(R.id.fragment_container);

    } else {
        fragment = Fragment.instantiate(this, YourFragment.class.getName());
        FragmentTransaction ft = getSupportFragmentManager().beginTransaction();
        ft.add(R.id.fragment_container, fragment, YourFragment.class.getName());
        ft.commit();
    }
} 
```

# powershell - 这对循环而不是函数会更好吗？

> ID：13470274
> 
> 赞同：0
> 
> 时间：2012-11-20T09:37:50.207
> 
> 标签：powershell

以下代码有效，但我很想知道是否有更有效的编写脚本的方法，可能是使用循环，或者这是编写这样一个脚本的正确方法？我在尝试使用循环语句时遇到的问题是，我无法弄清楚如何将 $Dialog“OK”放入一个循环中，如果 IP 地址仍然无效，它可以循环回到自身。

该脚本的想法是获取（一个前三个八位字节）IP 地址，并在将其存储为变量之前查看它是否有效（即不是 0.0.0.0 或 169.254.*），如果它无效抛出一个对话框，让管理员有机会更正它，然后再次检查，依此类推。

```
function Check-IP
{
$IPSiteAddress = Get-IPAddress
if ($IPSiteAddress -like "0.*" -or $IPSiteAddress -like "169.254.*") {DialogBox-IP}
}

function Get-IPAddress
{
(Get-WmiObject Win32_NetworkAdapterConfiguration |
Where { $_.IPAddress } |
Select -Expand IPAddress).split('.')[0..2] -join '.'
}

function DialogBox-IP
{
$IPDialog = [System.Windows.Forms.MessageBox]::show( "This computer doesn't have a valid IP Address. 
Please correct the IP Address and click OK, or click Cancel to exit.","No Network Connection",1) 
if ($IPDialog -eq "OK") {Check-IP} else {exit}
}

Check-IP
$IPSiteAddress = Get-IPAddress 
```

如果有人有更好的解决方案，或者有任何想法，我很乐意听到

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T10:05:18.427

```
function Check-IP 
{
    param ($IPSiteAddress)

    return !($IPSiteAddress -like "0.*" -or $IPSiteAddress -like "169.254.*")
}

function Get-IPAddress
{
    (Get-WmiObject Win32_NetworkAdapterConfiguration | Where { $_.IPAddress } | Select -Expand IPAddress).split('.')[0..2] -join '.'
}

while (!(Check-IP Get-IPAddress))
{
    DialogBox-IP
} 
```

# arrays - redim 嵌套数组

> ID：13470278
> 
> 赞同：0
> 
> 时间：2012-11-20T09:38:13.950
> 
> 标签：arrays, ms-access, multidimensional-array, vba

我有一个数组路径......这个数组包含一个嵌套数组路径的列表。它可能看起来像这样：

```
path( 0  1  2  3  4  5  6  7  8 )
"1" | 1, 1, 1, 1, 1, 1, 1, 1, 1 |
"2" | 4, 3, 1, 4, 2, 3, 4, 3, 2 |
"3" | 1, 1,  , 2, 1, 2, 3, 3, 2 |
"Val" A, B, C, D, E, F, G, H, I 
```

现在我有一个小循环来获得第二行的最大值。

```
x = 1
For c = 0 To UBound(path)
   If IsArray(path(c)) Then
        If CInt(path(c)(x)) <= maxDimension1 Then
        maxDimension1 = CInt(path(c)(x))
        End If
    End If
Next
redim preserve pathValues(maxDimension1 - 1) 
```

我现在必须找到“2”行中元素的最大元素数，并将 pathValues 中的数组元素重新调整为此。我试过：

```
For Dimension2 = 1 To maxDimension1
    For c = 0 To UBound(Path)
        If IsArray(Path(c)) Then
            If CInt(Path(c)(x)) = Dimension2 Then
                If CInt(Path(c)(2)) >= maxDimension2 Then
                maxDimension2 = CInt(Path(c)(2))
                End If
            End If
        End If
    redim PathValues(c)(maxDimension2) //Syntax Error
    next
next 
```

有没有办法避免使用多维数组的解决方法？解释： pathValues 最终看起来像这样：

```
PathValues() = (C,(E, I),(B, F, H),(A, D, G)) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-21T09:15:16.350

我通过递归调用一个函数来修复它，该函数使用 x 作为“深度”和完整路径来创建一个包含空元素的单个数组，用于稍后写入的值。只需要添加一个语句来整理您不想要的上限，因为它们属于其他数组。对于其他一切，它工作正常

```
Function iterate_Path(path As Variant, x As Integer, value_x As Variant) As Variant
Dim insideArray, returnPath
returnPath = Array()

For c = 0 To UBound(path)
    If IsArray(path(c)) Then
       If CInt(path(c)(x)) = value_x Then
            If x <> UBound(path(c)) Then
                If CInt(path(c)(x)) > UBound(returnPath) + 1 Then
                    ReDim Preserve returnPath(CInt(path(c)(x)) - 1)
                End If
                returnPath(path(c)(x) - 1) = iterate_Path(path, x + 1, path(c)(x))
            ElseIf CInt(path(c)(x)) > UBound(returnPath) + 1 Then
                ReDim Preserve returnPath(CInt(path(c)(x)) - 1)
            End If
       ElseIf CInt(path(c)(x)) > UBound(returnPath) + 1 Then
            ReDim Preserve returnPath(CInt(path(c)(x)) - 1)
            If x + 1 = UBound(path(c)) Then
            returnPath(CInt(path(c)(x)) - 1) = iterate_Path(path, x + 1, path(c)(x))
            End If
       ElseIf x + 1 = UBound(path(c)) Then
            If CInt(path(c)(x)) > UBound(returnPath) + 1 Then
                ReDim Preserve returnPath(CInt(path(c)(x)) - 1)
            End If
            returnPath(CInt(path(c)(x)) - 1) = iterate_Path(path, x + 1, path(c)(x))
       End If
    Else
        returnPath(CInt(path(c)(x)) - 1) = Empty
    End If
Next
iterate_Path = returnPath
End Function 
```

# javascript - 使用javascript删除空格

> ID：13470280
> 
> 赞同：0
> 
> 时间：2012-11-20T09:38:15.720
> 
> 标签：javascript

如何使用 javascript 从字符串中删除所有空格。我有这样的代码——

```
var Title = "";
var Str="g g";
Title = Str.replace(/^\s+|\s+$/g, '');
this gives me result Title=g g
how to get result Title=gg 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-20T09:39:18.580

使用以下正则表达式：

```
Str.replace(/\s+/g, ''); 
```

您现在拥有的只是从字符串的开头或结尾去除空格。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T09:39:49.110

试试这个

```
Title = Str.replace(/ /g, ''); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-20T09:40:08.033

将代码更改为：

```
var title = Str.replace(/\s+/g, ''); 
```

您的原始正则表达式只会从字符串的开头或结尾修剪空格。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-20T09:40:35.350

您可以使用：

```
var Str="g g";
Str.replace(" ", ""); 
```

# html - 使用 mootools 翻页

> ID：13470282
> 
> 赞同：1
> 
> 时间：2012-11-20T09:38:19.557
> 
> 标签：html, mootools

我需要用*mootools创建翻转效果*

我正在尝试使用 Fx.Slide，但问题是写入转换（Fx.Transition）？

有没有人一些提示？PS: Hier 是我在说什么的一个小想法 ;-)

```
var myTransition = new Fx.Transition(function(pos, x){
                return 1 - Math.pow(Math.abs(Math.log(pos) / Math.log(x && x[0] || Math.E)), pos);
                }, 1.3);

var myFx = new Fx.Slide('singlePage', {
                mode: 'horizontal',
                duration: 1000,
                transition: myTransition.easeOut
                });

 myFx.toggle().chain(myFx.toggle); 
```

# javascript - 如何使用javascript将值从一个html页面传递到另一个html页面

> ID：13470285
> 
> 赞同：5
> 
> 时间：2012-11-20T09:38:24.370
> 
> 标签：javascript, html

在第一页我在文本框中获取值我需要将它传递到另一个页面，该页面分为 2 个框架。我需要在第一帧的 html 页面中显示该值。请给我一个简单的例子。我尝试使用 window.document.getElementById("inputbox1").value 但我无法获取该值。

请给我一个简单的例子。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-11-20T10:14:51.000

正如@MicrosoftGoogle 建议的那样，我会使用localStorage，但还没有得到很好的支持，您可以使用纯javascript 来实现这一点。您将在表单页面上看到类似的内容：

```
<form action="param-received.html" method="GET">
   <input type="text" id="foo" name="foo">
   <input type="submit" value="Send" name="submit" id="submit">
</form> 
```

单击发送按钮后，您将被重定向到`/param-received.html?foo=hola&submit=Send`。

*   `location.search`属性包含参数链。
*   ? 连接 URL 和参数字符串。
*   & 分隔多个参数。
*   = 为变量赋值。

这是处理发送的数据的完整代码`param-received.html`：

```
<script language="JavaScript">
  function processForm()
  {
    var parameters = location.search.substring(1).split("&");
    var temp = parameters[0].split("=");
    l = unescape(temp[1]);
    alert(l); //Dialog with the text you put on the textbox
  }
  processForm();
</script> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T09:43:47.027

如果 url 参数是一个选项，你可以使用这个

```
function getParameter(param) {
                var val = document.URL;
                var url = val.substr(val.indexOf(param))  
                var n=parseInt(url.replace(param+"=",""));
                alert(n+1); 
}
getParameter("page"); 
```

参考 [http://bloggerplugnplay.blogspot.in/2012/08/how-to-get-url-parameter-in-javascript.html](http://bloggerplugnplay.blogspot.in/2012/08/how-to-get-url-parameter-in-javascript.html)

另一个可能是饼干

* * *

被打到饼干部分：p

编辑确实不是一个好的 cookie 参考这个更好[http://www.w3schools.com/js/js_cookies.asp](http://www.w3schools.com/js/js_cookies.asp)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-20T09:41:32.357

将值写入 cookie 并从其他页面读取 cookie。

对于写入和读取 cookie，请[点击此处](http://www.quirksmode.org/js/cookies.html)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-20T09:44:18.697

您可以使用请求的[GET 部分](https://stackoverflow.com/questions/831030/how-to-get-get-request-parameters-in-javascript)或[cookie](http://www.w3schools.com/js/js_cookies.asp)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-05-06T11:09:20.863

```
function getValue(varname)
                {
                    var url = window.location.href;
                    var qparts = url.split("?");

                    if (qparts.length == 1)
                    {
                        return "";
                    }
                    else{
                        var query = qparts[1];
                        var vars = query.split("&");
                        var value = "";
                        for (i=0;i<vars.length;i++)
                        {
                            var parts = vars[i].split("=");
                            if (parts[0] == varname)
                            {
                                value = parts[1];
                                break;
                            }
                        }
                        value = unescape(value);

                        // Convert "+"s to " "s
                        value.replace(/\+/g," ");
                        return value;
                    }

                }
var VariableGot = getValue(YourPassingVariableName); 
```

只需将该函数复制到您的 html 文件中，并将您的变量名称传递给通过 GET 方法发送的函数。现在您将从 url 获取变量的值。

# php - jQuery Accordion - 根据上一个链接在加载时设置活动面板

> ID：13470289
> 
> 赞同：1
> 
> 时间：2012-11-20T09:38:42.920
> 
> 标签：php, jquery-ui, jquery

我试图弄清楚如何设置手风琴，以便根据用于打开页面的链接显示不同的活动面板。

如果您查看我正在处理的页面 - [http://testing.xenongroupadmin.com/lms/admin/index.html](http://testing.xenongroupadmin.com/lms/admin/index.html) - 您可以在顶部看到一个导航栏。如果您将鼠标悬停在选择上，则会出现一个下拉框。

第一个菜单项“课程资料”显示三个选项——“研讨会”、“远程学习”和“学习资源”。单击这些链接中的任何一个，目标页面就会打开，其中包含一个 jQuery 手风琴。此手风琴上的标题与导航栏中的三个选项相关。

所以，说到重点，我想要的是根据单击的链接打开适当的手风琴选项卡。因此，如果我在导航菜单中单击“远程学习”，“材料”页面将在远程学习手风琴选项卡打开的情况下加载。

如果在未从子菜单中选择选项的情况下单击“课程资料”链接，则应关闭所有手风琴选项卡。

任何人都可以帮忙吗？如果需要任何服务器端脚本，我的服务器设置为与 PHP 一起使用。如有必要，也很乐意使用 Ajax。

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T09:47:31.697

您可以使用手风琴选项['active'](http://api.jqueryui.com/accordion/#option-active "积极的")：

```
$('#accordion').accordion({
    active : 0
}); 
```

-1 表示封闭，0 表示研讨会，1 表示远程学习，2 表示学习资源

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-20T09:54:29.480

将您的子菜单链接到materials.html，并带有一个指示要打开的面板的井号标签。像“materials.html#workshop-slides”一样，然后使用 Javascript 解析 location.hash 上的文档准备好并打开相应的面板。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-20T09:48:05.757

一种在 javascript 中执行此操作的方法。将 url 中的活动选项卡引用传递为 #tab-0 （其中数字将成为选项卡的索引）。这是一个粗略的实现，可以帮助您入门：

```
$(document).ready(function() {
    var a =0;
    if(location.href.indexOf("#tab-1")) a = 1;
    if(location.href.indexOf("#tab-2")) a = 2;
    $('#accordion').accordion({collapsible : true, active : a});  
}); 
```

如果您想从 php 执行此操作，则必须将“无”值替换为要打开的正确选项卡索引。

# java - 访问提交的对象时在 Struts2 中获取 NullPointerException

> ID：13470291
> 
> 赞同：0
> 
> 时间：2012-11-20T09:38:47.607
> 
> 标签：java, javascript, jquery, jakarta-ee, struts2

我有以下代码和配置

波乔

```
public class MyInfo {
    private String name;
    private String desc;

    //... getters, setters ...
} 
```

我的行动

```
package demo;

//... import statements ...

public class MyAction extends ActionSupport {

    public static final String FAILURE = "failure";

    private MyInfo info;
    private String result;
    private String message;

    public String execute() {
        result = SUCCESS;
        return result;
    }

    public String processInfo() {
        result = FAILURE;
        try {
            String name = info.getName();
            //... More Statements //
            result = SUCCESS;
        } catch(Exeption e) {
            message = "Unable to process information : " + e.getMessage;
        }

        return result;
    }

    //Getter and Setter methods of info, result, and message.

} 
```

Struts.xml

```
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts PUBLIC
    "-//Apache Software Foundation//DTD Struts Configuration 2.3//EN"
    "http://struts.apache.org/dtds/struts-2.3.dtd">  
<struts>
    <constant name="struts.devMode" value="true" />
    <package name="base-ajax" namespace="/" extends="json-default,struts-default" abstract="true" >
        <global-results>
            <result type="json"></result>
            <result name="failure" type="json"></result>
        </global-results>
    </package>

    <package name="info-ajax" namespace="/" extends="base-ajax">
        <action name="processInfo" method="processInfo" class="demo.MyAction">
            <result type="json"></result>
        </action>
    </package>
<struts> 
```

呈现的 JSP 片段

```
<form id="infoForm" method="post" action="processInfo.action">
    <input id="infoName" type="text" name="info.name"></input>
    <input id="infoDesc" type-"text" naame="info.desc"></input>
    <a id="btn-submit" href="#">Submit</a>
</form> 
```

jQuery 在 JSP 的 head 部分。

```
var jQ = jQuery.noConflict();

jQ(document).ready(function() {
    jQ("#btn-submit").click(function() {
        //perform some validation
        var formData = jQ("#infoForm").serialize();
        jQ.ajax({
            url: "processInfo.action",
            data: formData,
            dataType: "json",
            error: function() {
                alert("Some error has occurred while processing request.");
            },
            success: function(response) {
                if(response.result = "failure") {
                    alert("Information processing failed.");
                } else if(response.result) {
                    alert("Information processed successfully.");
                }
            }
        });
    });
}); 
```

在大多数情况下，它运行平稳。`MyAction.processInfo()`但有时我会在on中得到 NullPointerException `info.getName()`。似乎`info`没有人口。我已经看到表单正在以正确的值提交（使用 Firebug 和篡改数据插件进行分析）。我不相信`params`拦截器会跳过创建`info`。我的配置中可能缺少某些内容。谁能弄清楚或指导我幕后发生的事情？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T11:00:40.803

它不可能以这种方式工作。

1）你有你的行动的方法声明为`private`;

2）你的回报`SUCCUESS`，而不是`SUCCESS`从内部`processInfo`

我猜它们都是在将其发布到此处之前由代码清理引起的错误，但要小心:)

PS：我不知道这是否是一种不好的做法，但我强烈建议您将 Action 的名称和类关联起来（例如，`processInfo`并且`demo.myAction`pair 可以在演示中工作，但是当您有 100 个 Actions 时，您会发疯的）。

我的 2 美分...我知道这不能回答您的问题，但是正如您所说，它在大多数情况下都有效，所以这是一个随机问题，很难在您的机器上进行调试（并且发布了假代码 :) )

# android - 在单个 Activity 上移动和缩放多个 imageView

> ID：13470295
> 
> 赞同：0
> 
> 时间：2012-11-20T09:38:57.230
> 
> 标签：android, imageview, zooming, move, multi-touch

我能够在单个 imageView 上实现拖动和缩放，从[这里](http://www.zdnet.com/blog/burnette/how-to-use-multi-touch-in-android-2/1747)也是代码；

```
public class Touch extends Activity {
private static final String TAG = "Touch";
Matrix matrix = new Matrix();
Matrix savedMatrix = new Matrix();
private PointF start = new PointF();
private PointF mid = new PointF();
private float oldDist = 1f;

// We can be in one of these 3 states
static final int NONE = 0;
static final int DRAG = 1;
static final int ZOOM = 2;
int mode = NONE;

ImageView tv1;
LayoutParams layoutParams1;
ImageView tv2;
LayoutParams layoutParams2;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);
    final int windowwidth = getWindowManager().getDefaultDisplay()
            .getWidth();
    final int windowheight = getWindowManager().getDefaultDisplay()
            .getHeight();

    tv1 = (ImageView) findViewById(R.id.imageView);
    tv1.setOnTouchListener(new View.OnTouchListener() {

        public boolean onTouch(View v, MotionEvent event) {
            // TODO Auto-generated method stub

            layoutParams1 = (RelativeLayout.LayoutParams) tv1
                    .getLayoutParams();
            switch (event.getActionMasked()) {
            case MotionEvent.ACTION_DOWN:
                break;
            case MotionEvent.ACTION_MOVE:
                int x_cord = (int) event.getRawX();
                int y_cord = (int) event.getRawY();
                if (x_cord > windowwidth) {
                    x_cord = windowwidth;
                }
                if (y_cord > windowheight) {
                    y_cord = windowheight;
                }
                layoutParams1.leftMargin = x_cord - 25;
                layoutParams1.topMargin = y_cord - 75;
                tv1.setLayoutParams(layoutParams1);
                break;
            default:
                break;
            }
            return true;
        }
    });

    tv2 = (ImageView) findViewById(R.id.imageView2);
    tv2.setOnTouchListener(new View.OnTouchListener() {

        public boolean onTouch(View v, MotionEvent event) {
            // TODO Auto-generated method stub

            layoutParams2 = (RelativeLayout.LayoutParams) tv2
                    .getLayoutParams();
            switch (event.getActionMasked()) {
            case MotionEvent.ACTION_DOWN:
                break;
            case MotionEvent.ACTION_MOVE:
                int x_cord = (int) event.getRawX();
                int y_cord = (int) event.getRawY();
                if (x_cord > windowwidth) {
                    x_cord = windowwidth;
                }
                if (y_cord > windowheight) {
                    y_cord = windowheight;
                }
                layoutParams2.leftMargin = x_cord - 25;
                layoutParams2.topMargin = y_cord - 75;
                tv2.setLayoutParams(layoutParams2);
                break;
            default:
                break;
            }
            return true;

        }
    });
}
   } 
```

这是xml：

```
<?xml version="1.0" encoding="utf-8"?>
    <LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="fill_parent"
android:layout_height="fill_parent"
android:orientation="vertical" >

<ImageView
    android:id="@+id/imageView"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:scaleType="matrix"
    android:src="@drawable/ic_launcher" />

    </LinearLayout> 
```

现在我的问题是我想动态添加多个 imageView 并在每个 imageView 上应用拖动、缩放。谁能帮我实现这一目标？我见过很多其他方式，但都有一些限制。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T09:44:09.677

在[此](https://github.com/kilaka/ImageViewZoom)示例中，您可以将图像拖动为图库视图并进行缩放。在这个例子中你有一个适配器类..所以你可以动态绑定图像。

以这种方式绑定...

```
for(int i=0;i<bmpList.size();i++)
            {
                ImageViewTouch imageView = new ImageViewTouch(Philately_image_view.this);
                imageView.setLayoutParams(new Gallery.LayoutParams(LayoutParams.FILL_PARENT, LayoutParams.FILL_PARENT));
                Options options = new Options();
                options.inSampleSize = 2;
                //Bitmap bitmap = BitmapFactory.decodeFile(file.getPath(), options);
                imageView.setImageBitmap(bmpList.get(i));
                arrayAdapter.add(imageView);

            }

            galleryTouch.setAdapter(arrayAdapter); 
```

在这里我有位图的arraylist ...和GalleryTouch galleryTouch对象..

# java - Weka 创建实例对象错误

> ID：13470305
> 
> 赞同：8
> 
> 时间：2012-11-20T09:39:20.177
> 
> 标签：java, weka

[我正在从http://weka.wikispaces.com/Programmatic+Use](http://weka.wikispaces.com/Programmatic+Use)寻找 Weka 的程序示例。但是，我认为由于我的 Weka jar 版本（3.7.7），它在这一行给出了错误：

```
 Instance iExample = new Instance(4);

 Error: Cannot instantiate the type Instance 
```

我应该对代码进行什么样的更改？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-11-20T09:47:45.173

好的，根据这个[文档](http://weka.sourceforge.net/doc.dev/weka/core/Instance.html) `Instance`是一个接口。这就是您收到此错误的原因。您将需要创建一个实现类，例如，

```
Instance iExample = new DenseInstance(4); 
```

也许那个例子已经过时了。

# xslt - XSLT 值未填充到条件中

> ID：13470306
> 
> 赞同：1
> 
> 时间：2012-11-20T09:39:21.313
> 
> 标签：xslt, xslt-1.0

下面是我正在使用的 XML。

```
<employees>
    <employee>
        <empName>ABC</empName>
        <desgination>SSE</desgination>
        <age></age>
    </employee>
    <employee>
        <empName>DEF</empName>
        <desgination>VP</desgination>
        <age></age>
    </employee>
    <employee>
        <empName>GHI</empName>
        <desgination>Lead</desgination>
        <age></age>
    </employee>        
</employees> 
```

下面是我正在使用的 XSL。

```
<?xml version="1.0" encoding="UTF-8"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" 
     xmlns:my="some.uri" version="1.0">

    <my:EMPNames>
        <entry key="ABC">true</entry>
        <entry key="XYZ">true</entry>
        <entry key="JHK">true</entry>        
    </my:EMPNames>

    <xsl:template match="//employee[document('')/*/my:EMPNames/entry[@key = empName]]">
        <xsl:element name="{local-name()}">
            <xsl:apply-templates select="@*|node()"/>
        </xsl:element>
    </xsl:template>

    <xsl:template match="*">
        <xsl:element name="{local-name()}">
            <xsl:apply-templates select="@*|node()"/>
        </xsl:element>
    </xsl:template>
    <xsl:template match="@*">
        <xsl:attribute name="{local-name()}">
            <xsl:value-of select="."/>
        </xsl:attribute>
    </xsl:template>
</xsl:stylesheet> 
```

我无法打印 empName 为 ABC 的员工部分。我正在使用键值对列表。如果传入的 xml empName 具有列表中的值，我想打印该员工部分。不知何故，我无法获得价值，`//employee[document('')/*/my:EMPNames/entry[@key = empName]]`请让我知道我在这里缺少什么。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-20T09:59:03.930

表达式的问题`//employee[document('')/*/my:EMPNames/entry[@key = empName]]`是最终的 xpath predicate `entry[@key = empName]`。这意味着您正在寻找一个具有等于其子元素**empName的****@key属性的****条目**。换句话说，它在**entry**元素下寻找**empName 。**

 ******你需要做的是这个。

```
<xsl:template match="//employee[empName = document('')/*/my:EMPNames/entry/@key]"> 
```

或者，如果您只想包含**条目**为 true 的条目，请执行此操作

```
<xsl:template 
    match="//employee[empName = document('')/*/my:EMPNames/entry[. = 'true']/@key]"> 
```******

# eclipse - eclipse，刷新外部编辑器编辑的文件

> ID：13470311
> 
> 赞同：32
> 
> 时间：2012-11-20T09:39:27.677
> 
> 标签：eclipse, refresh, external

我目前使用 emacs 来编辑 .java 文件并运行 eclipse。

Eclipse 不会自动识别修改过的文件，所以我经常运行未修改的应用程序。

我想知道是否存在刷新eclipse中所有修改文件的快捷方式。

* * *

## 回答 #1

> 赞同：60
> 
> 时间：2012-11-20T09:50:34.387

也许你想检查一下`Preferences > General > Workspaces > Refresh using native hooks or polling`。当您选中该选项时，您可以看到 Eclipse 会刷新您使用外部编辑器（如 vi、emacs 等）编辑的文件。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-20T09:46:46.627

在项目资源管理器中，您需要选择要刷新的项目，然后单击文件->刷新或按 F5。

# database - 禁用未读标记的维护时会发生什么？

> ID：13470320
> 
> 赞同：1
> 
> 时间：2012-11-20T09:39:39.000
> 
> 标签：database, lotus-notes, read-unread

我们有几个默认情况下保留未读标记的 Lotus Notes 数据库。我们禁用了此维护以加快应用程序的速度。当我们禁用未读标记时，它会在数据库中删除吗？我了解到未读标记存储在数据库本身中。如果我们重新启用它会发生什么，它会在我们禁用它之前显示相同数量的未读标记还是重新开始？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T14:55:24.713

未读标记存储在表中的每个副本中，无论何时启用它，它都会开始为空。我想当您禁用它时，它会被删除，但不确定是否立即生效。[可以在 IBM 支持站点上的此文档](http://www-01.ibm.com/support/docview.wss?uid=swg27023614)中找到一个很好的问答。

# javascript - 自动制表符文本字段的两种不同条件

> ID：13470322
> 
> 赞同：0
> 
> 时间：2012-11-20T09:39:41.723
> 
> 标签：javascript, forms, pdf, acrobat

早上好，

首先，提前感谢您提供的任何帮助

我将尝试尽可能清楚地解释自己：

我有一列大约 30 个相等的文本字段，表单中的宽度和高度不可修改。用户在文本字段中输入文本时有两个选项：

a) 逐字输入

b) 从另一个源复制一段文本并将其粘贴到文本字段中。

现在，我想要的是有两个不同的选项，如果第一个文本字段已被填写，表单将自动跳到下一个文本字段。

这是我到目前为止尝试过的两个选项，它们在单独使用时都可以使用，但不能一起使用：

a) 自定义按键脚本，比如说 Field.0：

```
if (event.fieldFull) {
     this.getField("Field.1").setFocus();
} 
```

b) Field.0 的自定义模糊脚本：

```
var temp = new Array();
temp = this.getField("Field.0").value.split(' ');
var rest = "";
ini = temp[0] + ' ';
var charsRead = temp[0].length + 1;
var index = 1;
while ((charsRead + temp[index].length) < 110){
    ini = ini + temp[index] + ' ';
    index++;
    charsRead = charsRead + temp[index].length + 1;
}
for (var i=index ; i < temp.length-1 ; i++){
    rest = rest + temp[i] + ' ';
}
this.getField("Field.0").value = ini;
this.getField("Field.1").value = rest;
this.getField("Field.1").setFocus(); 
```

您可能已经注意到，我不是专家（甚至不是一个...）脚本编写者，因此代码可能效率低下或重复。

脚本的作用是：将粘贴的块的单词存储到一个数组中（以免在单词中间分割文本），并复制第一个合适的单词，最多 110 个字符（一个任意数字，有时也是很少，有时太多），然后取出数组中的其余单词并将它们粘贴到下一个字段中。

当用户跳出 Field.0 时，焦点设置为 Field.1。如果文本仍然太长，当他跳出 Field.1 时，焦点将设置为 Field.2，并将文本的第二个剩余部分粘贴到其中。因此，他所要做的就是 Ctrl+V 和 TAB、TAB、TAB，直到所有文本都占据了必要的字段。

现在，对于点 a) 的解决方案，必须禁用滚动长文本，但是，用于解决问题 b) 的脚本是必需的。

我正在寻找的是一种方式，独立于用户输入文本的方式，当字段已满时自动选项卡。完整的意思是文本已经到达可见区域的尽头。

无论是在输入文本时（我想它必须使用击键脚本）还是在粘贴长短语时（使用模糊，因为击键在这里不起作用）。

很抱歉发了这么长的帖子，再次感谢您的帮助。

顺便说一句：使用 Adob​​e Acrobat X Pro。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T10:03:14.287

如果您有等宽字体，则可以确定文本字段中可以容纳多少个字符。将粘贴的文本分成该大小的块，然后将这些块分布在字段上。因此，使用`chunk` [此处找到的功能](https://stackoverflow.com/a/10475104/1835379)：

```
//(On paste)
var brokenUpString = pastedString.chunk(maxInputLengthPerField);
for(var i = 0; brokenUpString[i]; i++){
    fields[i]value = brokenUpString[i]
} 
```

现在，如果您想在用户键入时将光标移动到下一个文本字段，则可能会使用以下方法：

```
//(On key up)
var currentField = 0;
if(fields[currentField].value.length == maxInputLengthPerField){
    currentField++;
    fields[currentField].setFocus();
} 
```

问题是当用户按住按钮时检测输入了多少个字符是“困难的”，但如果发生这种情况，您可以将整个字符串分解，然后将其分布在各个字段中。

（`chunk()`来自[链接](https://stackoverflow.com/a/10475104/1835379)的功能:)

```
String.prototype.chunk = function(size) {
    return [].concat.apply([],
        this.split('').map(function(x,i){ return i%size ? [] : this.slice(i,i+size) }, this)
    )
} 
```

# c# - 在c#中比较两个字典以获得相同的数据？

> ID：13470335
> 
> 赞同：17
> 
> 时间：2012-11-20T09:40:16.290
> 
> 标签：c#, .net-3.5

我有两个字典，其中包含一个字符串键，然后是一个对象。该对象包含五个字段。有没有一种优雅的方法来确保两个字典首先包含相同的键，然后如果这是正确的，每个对象包含相同的五个字段？

这两个字典会有相同的内置哈希码吗？

编辑，似乎不适用于以下代码：

```
Dictionary<string, MyClass> test1 = new Dictionary<string, MyClass>();
Dictionary<string, MyClass> test2 = new Dictionary<string, MyClass>();

MyClass i = new MyClass("", "", 1, 1, 1, 1);
MyClass j = new MyClass("", "", 1, 1, 1, 1);

test1.Add("1", i);
test2.Add("1", j);

bool equal = test1.OrderBy(r => r.Key).SequenceEqual(test2.OrderBy(r => r.Key));

class MyClass
{
    private string a;
    private string b;
    private long? c;
    private decimal d;
    private decimal e;
    private decimal f;

    public MyClass(string aa, string bb, long? cc, decimal dd, decimal ee, decimal ff)
    {
        a= aa;
        b= bb;
        c= cc;
        d= dd;
        e= ee;
        f= ff;
    } 
```

这返回假？

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2012-11-20T09:50:40.883

您可以使用

```
bool dictionariesEqual = 
    dic1.Keys.Count == dic2.Keys.Count &&
    dic1.Keys.All(k => dic2.ContainsKey(k) && object.Equals(dic2[k], dic1[k])); 
```

* * *

## 回答 #2

> 赞同：20
> 
> 时间：2012-11-20T09:45:09.427

首先你必须在你的类中重写`Equals`和`GetHashCode`方法，否则将在引用而不是实际值上进行比较。*（要覆盖的代码`Equals`并`GetHashCode`在最后提供）*，之后您可以使用：

```
var result = (dic1 == dic2) || //Reference comparison (if both points to same object)
             (dic1.Count == dic2.Count && !dic1.Except(dic2).Any()); 
```

由于**返回 Dictionary 中的项目的顺序是未定义的**，因此您不能依赖[Dictionary.SequenceEqual](http://msdn.microsoft.com/en-us/library/vstudio/bb920248%28v=vs.90%29.aspx) *（没有`OrderBy`）*。

你可以试试：

```
Dictionary<string, object> dic1 = new Dictionary<string, object>();
Dictionary<string, object> dic2 = new Dictionary<string, object>();
dic1.Add("Key1", new { Name = "abc", Number = "123", Address = "def", Loc = "xyz" });
dic1.Add("Key2", new { Name = "DEF", Number = "123", Address = "def", Loc = "xyz" });
dic1.Add("Key3", new { Name = "GHI", Number = "123", Address = "def", Loc = "xyz" });
dic1.Add("Key4", new { Name = "JKL", Number = "123", Address = "def", Loc = "xyz" });

dic2.Add("Key1",new { Name = "abc",Number=  "123", Address= "def", Loc="xyz"});
dic2.Add("Key2", new { Name = "DEF", Number = "123", Address = "def", Loc = "xyz" });
dic2.Add("Key3", new { Name = "GHI", Number = "123", Address = "def", Loc = "xyz" });
dic2.Add("Key4", new { Name = "JKL", Number = "123", Address = "def", Loc = "xyz" });

bool result = dic1.SequenceEqual(dic2); //Do not use that 
```

*大多数*情况下，上述内容会返回`true`，但由于 的无序性质，不能真正依赖它`Dictionary`。

由于`SequenceEqual`也会​​比较顺序，所以只靠*可能* `SequenceEqual`是*错误*的。您必须使用`OrderBy`来订购两个字典，然后使用`SequenceEqual`如下：

```
bool result2 = dic1.OrderBy(r=>r.Key).SequenceEqual(dic2.OrderBy(r=>r.Key)); 
```

但这将涉及多次迭代，一次用于排序，另一次用于使用`SequenceEqual`.

**覆盖`Equals`和代码`GetHashCode`**

```
private class MyClass
{
    private string a;
    private string b;
    private long? c;
    private decimal d;
    private decimal e;
    private decimal f;

    public MyClass(string aa, string bb, long? cc, decimal dd, decimal ee, decimal ff)
    {
        a = aa;
        b = bb;
        c = cc;
        d = dd;
        e = ee;
        f = ff;
    }

    protected bool Equals(MyClass other)
    {
        return string.Equals(a, other.a) && string.Equals(b, other.b) && c == other.c && e == other.e && d == other.d && f == other.f;
    }

    public override bool Equals(object obj)
    {
        if (ReferenceEquals(null, obj)) return false;
        if (ReferenceEquals(this, obj)) return true;
        if (obj.GetType() != this.GetType()) return false;
        return Equals((MyClass)obj);
    }

    public override int GetHashCode()
    {
        unchecked
        {
            var hashCode = (a != null ? a.GetHashCode() : 0);
            hashCode = (hashCode * 397) ^ (b != null ? b.GetHashCode() : 0);
            hashCode = (hashCode * 397) ^ c.GetHashCode();
            hashCode = (hashCode * 397) ^ e.GetHashCode();
            hashCode = (hashCode * 397) ^ d.GetHashCode();
            hashCode = (hashCode * 397) ^ f.GetHashCode();
            return hashCode;
        }
    }
} 
```

您可能还会看到：[覆盖 Equals() 和 GetHashCode() 的正确方法](https://stackoverflow.com/questions/9317582/correct-way-to-override-equals-and-gethashcode)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-20T09:54:10.730

仅检查引用相等性的内置`Equals`功能，请参阅[SO 上的这个问题](https://stackoverflow.com/questions/1649956/does-dictionary-equals-have-an-implementation)。哈希码不能可靠地告诉您两个对象是否相等；总是有哈希冲突的机会。永远不要使用哈希码作为相等测试！`Dictionary<T>`

我会手动完成：比较两个字典的条目数，遍历一个字典的键值对并检查键是否存在于另一个字典中，然后比较两个字典中的相应对象。*编辑：*见罗林的回答:)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2015-08-25T21:11:19.950

这里有几个我认为非常接近的答案，但我认为应该添加一些额外的点，所以我将它们添加为另一个可能的答案。

首先，我会避免使用 SequenceEquals 方法。它是 Enumerable 的扩展方法，并且隐式要求两个集合的顺序相同。字典并不意味着是有序集合，因此使用 SequenceEquals 意味着您必须不必要地遍历两个字典以创建您也不需要的排序/有序中间集合，然后遍历这些集合以比较它们是否相等. 这似乎真的效率低下并且滥用 LINQ，所有这些都是以试图简洁并编写单行解决方案的名义。如果 OP 的“优雅”概念很简洁，我想这会奏效，但似乎很浪费。

另一方面，如果 OP 的“优雅”理念是有效的，那么您可能需要编写更多代码。首先，您应该为您的类重写 Equals 方法或在您的类中实现 IEquatable（例如，请参见[此处](http://www.codeproject.com/Articles/20592/Implementing-IEquatable-Properly)）。这将允许您比较字典中的值。然后，您可能想要为您的字典实现类似 IEqualityComparer 之类的接口。

然后，两个字典的比较将如下所示。这只是一个快速而肮脏的“餐巾纸背面”示例，因此它不是最佳方法的示例，但它旨在说明一种仅在必要时对字典进行多次迭代并尽快退出的方法发现不等式。

首先是所需的代码：

```
public class Foo
{
    //members here...
    public override bool Equals(object obj)
    {
        //implementation here
    }
    //You should probably also override GetHashCode to be thorough,
    //but that's an implementation detail...
}

//This method could stand on its own or you could change it to make it 
//part of the implementation of one of the comparison interfaces...
bool DictionariesEqual(Dictionary<K, V> x, Dictionary<K, V> y)
{
    //If we're comparing the same object, it's obviously equal to itself.
    if(x == y)
    {
        return true;
    }
    //Make sure that we don't have null objects because those are
    //definitely not equal.
    if (x == null || y == null)
    {
        return false;
    }

    //Stop processing if at any point the dictionaries aren't equal.
    bool result = false;

    //Make sure that the dictionaries have the same count.
    result = x.Count == y.Count;

    //If we passed that check, keep going.
    if(result)
    {
        foreach(KeyValuePair<K, V> xKvp in x)
        {
            //If we don't have a key from one in the other, even though
            //the counts are the same, the dictionaries aren't equal so
            //we can fail out.
            V yValue;
            if(!y.TryGetValue(xKvp.Key, out yValue))
            {
                result = false;
                break;
            }
            else
            {
                //Use the override of the Equals method for your object
                //to see if the value from y is equal to the value from
                //x.
                result = xKvp.Value.Equals(yValue);
                if(!result)
                {
                    //If they're not equal we can just quit out.
                    break;
                }
            }
        }
    }
    return result;
} 
```

然后我们会这样使用它：

```
Dictionary<string, Foo> dict1 = new Dictionary<string, Foo>();
Dictionary<string, Foo> dict2 = new Dictionary<string, Foo>();
//Fill the dictionaries here...

//Compare the dictionaries
bool areDictsEqual = DictionariesEqual(dict1, dict2); 
```

所以，它不是最简洁的代码，但它也没有超出必要的迭代。在我看来，这更优雅。

*编辑：一位评论者建议更新代码示例以使其通用。我最初只是脱离了原始海报的示例，但是将这个通用化似乎是一个好主意，但有一个警告：注意密钥的类型是什么。如果它是 C# 包含相等实现的字符串或 int 之类的简单类型，那么一切都应该很好。如果键是自定义类型，您需要确保覆盖`Equals()`并`GetHashCode()`为您的自定义类型。*

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-20T09:53:29.243

在这种情况下，您可以只使用 SequenceEquals() 方法，如下所示：

```
 Dictionary<string, object> d1 = new Dictionary<string, object>();
   d1.Add("first", new { Name = "TestName", Age = 12, ID = 001 }); 

   Dictionary<string, object> d2 = new Dictionary<string, object>();
   d2.Add("first", new { Name = "TestName", Age = 12, ID = 001 });

   Console.WriteLine(d1.SequenceEqual(d2)); //outputs True 
```

注意：为简单起见，我使用隐式类来填充字典。代码将以相同的方式处理任何对象。两个字典的哈希码不相等，可以通过以下操作轻松验证：

```
 Console.WriteLine(d1.GetHashCode() + " " + d2.GetHashCode()); //outputs different hashcodes 
```

# android - 应用内结算错误

> ID：13470338
> 
> 赞同：4
> 
> 时间：2012-11-20T09:40:22.577
> 
> 标签：android, in-app-purchase, in-app-billing

我的 [UNMANAGED] 应用内购买无法正常工作，在它完美运行之前，我可以使用测试帐户成功购买。但它突然不起作用，因为我记得我对商家帐户所做的只是添加了更多 2-4 个测试帐户。然后添加后，我的应用内购买将不起作用。所以我更新了公钥并上传了一个 Apk 作为草稿。但还是不行。

当应用程序位于谷歌播放页面时，我收到了 LogCat 错误：

```
11-20 17:00:18.840: E/Finsky(2182): [187] FileBasedKeyValueStore.delete: Attempt to delete 'paramsqE9ZgJf5Z6GeZu1wwGPosw' failed! 
```

然后，当我单击 Buy & Accept 按钮时，我只收到了这些 LogCat：

```
11-20 17:00:39.520: I/BillingService(2408): handleCommand() action: com.android.vending.billing.RESPONSE_CODE
11-20 17:00:39.520: I/LoginActivity(2408): purchase was successfully sent to server 
```

我期待`Security Verification's Logs`并`onPurchaseStateChange(...)`打电话，但我没有得到任何 onPurchaseStateChange。

请帮我解决这个问题。

此外，当我测试**android.test.purchased** `the reserved product IDs for testing static in-app billing responses` 但仍然得到相同的日志/响应时。

**更新 - - - - - - - - - - - -**

我删除了一些**测试帐户**，但只留下了两个（如下面的**@Tigger**建议）。现在我没有从**Google page**收到任何错误。但是**onPurchaseStateChange()**函数仍然没有触发。而且我没有收到来自**Security.java**的任何日志。

我收到的最后一条日志是：**“购买已成功发送到服务器”**

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-20T10:19:50.290

这可能不是一个正确的答案，但来自我的个人测试和各地的笔记：

*   您上传的*草稿应用程序***必须**与您正在测试的任何应用程序具有相同的“版本代码”和“版本名称”。
*   如果您上传新版本（使用新的“版本代码”或“版本名称”），新版本可能需要 4 到 24 小时才能正常工作以进行测试。
*   仔细检查设备上使用的帐户实际上是测试帐户之一。
*   您上传的草稿 APK 必须使用最终版本中使用的相同密钥进行签名。
*   对于在设备上进行测试（模拟器不适用于 Play 商店），只要“版本代码”和“版本名称”与 Play 商店中的草稿 APK 匹配，即可进行测试和调试。

希望能有所帮助。

*编辑*：一些更改以澄清几点。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-12-23T23:15:21.680

我有这个错误，但我的错误是上传行为已经改变。

过去，您将 APK 作为草稿上传到 Play 商店仪表板的生产选项卡。现在，您必须上传到仪表板的 Alpha 选项卡，*然后*发布您的应用程序 ( [http://developer.android.com/google/play/billing/billing_testing.html#draft_apps](http://developer.android.com/google/play/billing/billing_testing.html#draft_apps) )。

如果您的应用程序仍处于预生产阶段，请不要担心；如果您在发布时在生产选项卡中没有 APK，则 Play 商店中不会出现任何内容。

# ruby-on-rails - Heroku：PG ::错误：错误：关系权限被拒绝

> ID：13470339
> 
> 赞同：9
> 
> 时间：2012-11-20T09:40:26.697
> 
> 标签：ruby-on-rails, ruby, postgresql, heroku

每次我尝试将某些内容保存到数据库中时，都会收到此错误消息。我看到 Heroku 为前 10.000 条记录提供免费的 PostgreSQL 数据库，超过 10.000 条记录需要支付数据库费用。

现在，我的数据库中有 60.000 条记录。如何修复该错误/升级数据库？

先感谢您

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-20T09:50:32.767

您需要使用 PG Backups 插件来备份您的数据库，然后从您的开发/基本计划迁移到生产级（付费）计划。

它的短处：

*   提供新的生产级 Heroku Postgresql 计划
*   将您的应用程序置于维护模式以防止新的更新
*   捕获备份
*   恢复到升级的数据库
*   将新数据库提升为主数据库
*   重新激活您的应用

[https://devcenter.heroku.com/articles/upgrade-heroku-postgres-with-pgbackups](https://devcenter.heroku.com/articles/upgrade-heroku-postgres-with-pgbackups)

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-11-20T09:48:05.393

你已经超出了你的极限。您需要[升级到更大的计划](https://devcenter.heroku.com/articles/upgrade-heroku-postgres-with-pgbackups#upgrading-from-dev-to-basic)、删除数据或拥有只读访问权限。这些是您仅有的三个选择。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-07T20:17:15.163

首先，您必须在heroku 上升级您的计划。为此，请转到[此](https://addons.heroku.com/addons/heroku-postgresql)链接。

[这](https://gist.github.com/3165360)是一篇非常好的文章，其中解释了将 heroku 上的数据库迁移到另一个计划的所有步骤。

我也遇到过这个问题，在上面教程的帮助下顺利解决了这个问题。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-14T16:53:14.180

或者 ：

在本地加载您的数据库转储。清理这个。把这个转储放在heroku上。

或者 ：

通过 psql 或 pgadmin 连接到远程数据库并清理它。

*这个答案不是由 Heroku 赞助的*

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-11-22T15:38:31.377

只是想为后代添加我的解决方案。`:Heroku: PG::Error: ERROR: permission denied for relation"`尽管我只使用`180/10000`我的数据库行，但我遇到了同样的问题，我得到了错误事件。我做了：

```
heroku restart 
```

这解决了这个问题。

# wso2 - HTTP 请求的代理 WSO2 ESB

> ID：13470340
> 
> 赞同：1
> 
> 时间：2012-11-20T09:40:31.517
> 
> 标签：wso2, wso2esb

我想知道是否可以通过 WSO2 ESB 发送 HTTP 请求。我与一个仅包含调用 URL 的系统集成......这就像一种重定向。

我可以在 WSO2 ESB 中做到这一点吗？

问候

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-26T11:20:50.963

我在 WSO2 ESB 中找到了有关 restfull 服务的链接：

[http://wso2.org/library/articles/2012/10/implementing-restful-services-wso2-esb](http://wso2.org/library/articles/2012/10/implementing-restful-services-wso2-esb)

我认为这是在 wso2 esb 中处理 http 请求和响应的更好方法，而不是在您提供的链接中处理它们的方式。你怎么看？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T11:44:48.237

以下链接将帮助您找到问题的解决方案。

1.  [http://wso2.org/library/knowledge-base/2011/03/handling-httpget-request-invoking-external-web-service-wso2-esb](http://wso2.org/library/knowledge-base/2011/03/handling-httpget-request-invoking-external-web-service-wso2-esb)

2.  [http://docs.wso2.org/wiki/display/ESB451/Handling+HTTP-get+Requests+from+WSO2+ESB+and+Calling+an+External+Web+Service](http://docs.wso2.org/wiki/display/ESB451/Handling+HTTP-get+Requests+from+WSO2+ESB+and+Calling+an+External+Web+Service)

# java - 为对象动态添加属性的设计模式

> ID：13470346
> 
> 赞同：7
> 
> 时间：2012-11-20T09:41:02.233
> 
> 标签：java, oop, design-patterns

考虑我们有一个 Car 对象。**加速**和**中断**特性是使用**策略模式**实现的。但是，如果我们想为**现有的汽车对象引入硝基气体功能**怎么办？我可以使用什么设计模式？

我想在创建汽车对象后添加硝基特征（属性）。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-11-20T09:43:08.547

您可以检查[装饰器模式](http://en.wikipedia.org/wiki/Decorator_pattern)，它可用于向现有对象动态添加功能。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-20T10:12:04.103

装饰器模式可以动态地为对象添加不同的功能。但是这些功能必须在具体装饰器中实现。开发人员可以决定在运行时添加哪些功能。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-20T11:42:05.977

如果要添加新方法，则需要创建新的子类和/或使用委托。如果“nitro”功能需要显式方法调用来激活，这将是必要的。

但是，如果您只想在不添加方法的情况下添加现有功能，那么 Decorator 是一个不错的选择。假设接口“Car”有一个名为 floorIt() 的方法。在这种情况下，您可以使用 Decorator 向 floorIt 添加“nitro kick”，而无需添加到 Car 接口。

当然，也有中间立场。如果您使用运行时类型发现和/或多个接口，您可以同时使用装饰器并将方法添加到结果对象。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-20T20:08:17.007

在静态类型语言中，您不能在运行时向对象添加方法。编译器遇到类似 car.nitroAccelerate() 的语句时，会检查汽车对象是否实现了任何具有 nitroAccelerate 方法的接口。如果您可以在运行时添加（或删除）方法，则不可能进行此类检查。

动态语言允许在运行时添加方法。但这有个缺点，当你在代码中放入car.nitroAccelerate()时，需要仔细分析此时的car对象是否有这样的方法。

您可以使用装饰器在运行时修改现有方法，但这样做，您不会修改现有对象，只是创建一个包装旧对象的新方法。

因此，如果您执行以下操作：

```
Car fasterCar = new CarWithNitro(car); 
```

并且您的某些代码仍然包含对原车的引用，这辆原车不会更快，因为包装的行为不会修改原车。

# oracle - 更新过程 ORA-00001

> ID：13470347
> 
> 赞同：0
> 
> 时间：2012-11-20T09:41:04.587
> 
> 标签：oracle, plsql, indexing, sql-update

我在过程中遇到了 UPDATE 问题。程序编译和我看到（DBMS...）结果示例 100 条记录和错误
`ORA-00001: unique constraint violated (CUSTOMER_INFO_COMM_METHOD_UX)`

我的更新：

```
UPDATE customer_info_comm_method_tab SET Value=wynikOK WHERE 
         customer_id=cus_rec.customer_id AND method_id='E_MAIL' AND Value = p_stringWyn; 
```

1.  wynikOK - 实际新值
2.  cus_rec.customer_id - 来自游标的实际 customer_id
3.  p_stringWyn - 表中的旧值

密钥基于我使用的三个属性（CUSTOMER_ID、VALUE、METHOD_ID）

当然我不能删除索引 CUSTOMER_INFO_COMM_METHOD_UX 因为它不是我的数据库

如果我评论更新程序编译 100% 没有错误但我需要做这个更新

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-02T04:24:15.813

这意味着您的新值 (wynikOK) 导致违规。customer_id 、您的新值（wynikOK）和方法 id 的组合已经存在于表的另一行中。但这必须是独一无二的......

如果值（客户，值，方法）的这种组合不是唯一的，则删除表中的唯一约束..

其他值必须是唯一的。尝试为您的新值附加一些字符串，以便它是唯一的。假设您的值是 1234，请尝试将日期附加到该值 1234_23112012 以便它始终是唯一的。

# sql - SQL - 按新近度排序，其中超过某个值

> ID：13470349
> 
> 赞同：0
> 
> 时间：2012-11-20T09:41:11.027
> 
> 标签：sql, database, postgresql, timestamp

我有一个“工作”表和一个“工作状态”表。

```
Job ( 
    id SERIAL PRIMARY KEY NOT NULL, 
    PackageInstance_id bigint NOT NULL, 
    BuildClient_id bigint 
) 

JobStatus ( 
    id SERIAL PRIMARY KEY NOT NULL, 
    Job_id bigint NOT NULL, 
    Status_id bigint NOT NULL, 
    time timestamp NOT NULL DEFAULT now() 
) 
```

我想要一个查询来选择最近报告状态为“已完成”的所有作业，如果此状态的时间戳表明相关的 jon 在过去 10 分钟内完成。

我不是 SQL 向导。这个怎么设计？- 我已经可以完成未完成的工作，它让我得到了时间。我假设我们需要做某种 DATEDIFF，并选择时间戳从 Now() 到 x 分钟以内的地方，或者任何获取 CURRENT_TIMESTAMP 的函数。

有什么帮助吗？我正在使用 PostgreSQL。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-20T10:17:15.760

```
select j.*
from
    job j
    inner join (
        select j.id, max("time") "time"
        from
            job j
            inner join jobstatus js on j.id = js.job_id
        where
            "time" > now() - interval '10 minutes'
            and
            js.status_id = 3 -- finished
        group by j.id
    ) s on s.id = j.id 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T09:58:03.480

您可以这样做：

```
select
    js.JobId
    , MAX(js.StatusDate) as LatestStatusDate
into #MostRecentStatuses
from #JobStatus js
group by js.JobId

select *
from #MostRecentStatuses mrs
join #JobStatus js
    on js.JobId = mrs.JobId
    and js.StatusDate = mrs.LatestStatusDate
join #JobStatusNames jsn
    on jsn.JobStatusId = js.JobStatusId
join #Jobs j
    on j.Id = mrs.JobId
where
    mrs.LatestStatusDate >= DATEADD(MINUTE, -10, GETDATE())
    and jsn.StatusName = 'Finished' 
```

我假设你的表是这样定义的：

```
create table #Jobs
(
    Id int
    , Name nvarchar(max)
)

create table #JobStatusNames
(
    JobStatusId int
    , StatusName nvarchar(max)
)

create table #JobStatus
(
    JobId int
    , JobStatusId nvarchar(max)
    , StatusDate datetime
) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-20T12:47:03.507

可以[像这个相关任务一样](https://stackoverflow.com/a/7630564/939860)解决（点击链接获取更多解释）：

```
SELECT * FROM (
    SELECT DISTINCT ON (j.id)
           j.*
    FROM   job j
    JOIN   jobstatus js ON js.job_id = j.id
    WHERE  job_time >= (now() - interval '10 min')
    ORDER  BY j.id, js.status_id <> 123  -- or whatever signifies 'finished'
    ) x
WHERE status_id = 123 -- 'finished' 
```

*   该`ORDER BY`子句有效，因为`FALSE`排序在`TRUE`and之前`NULL`。所以“完成”首先出现（如果存在）。外层`SELECT`只取成品。

*   为什么你会`status_id`是一个`bigint`？如果您有超过“完成”/“未完成”，请将其更改为[`boolean`](http://www.postgresql.org/docs/current/interactive/datatype-boolean.html)或可能。没有意义。[`enum`](http://www.postgresql.org/docs/current/interactive/datatype-enum.html)`bigint`

*   您的所有其他`bigint`列可能应该是`integer`.

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-20T10:03:16.987

我看到你有 status_id 所以应该还有一张带有 job_status_names 的表

```
select * 
from jobs j 
 join ( select 
         job_id, 
         status_id 
       from jobstatus 
       where (job_id, time) in ( select job_id, 
                                        max(time) 
                                 from jobstatus 
                                 where time >= now() - interval '10 minutes'
                                 group by job_id) 
      ) as foo on j.id = foo.job_id 
 where status_id = (select id from job_status_names where status_name = 'finished') 
```

# api - 有谁知道谷歌翻译 API 的更好替代品？

> ID：13470351
> 
> 赞同：0
> 
> 时间：2012-11-20T09:41:15.410
> 
> 标签：api, rest, google-translate

我已经在这个论坛中为这个主题做了类似的搜索词。

[https://stackoverflow.com/questions/6151668/alternative-to-google-translate-api](https://stackoverflow.com/questions/6151668/alternative-to-google-translate-api)

但是那个帖子有点老了。事情可能已经改变了大约一年。而且我想知道自从上次发布该帖子以来是否有任何更好的基于 REST 的 API 服务可供我使用。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T09:47:49.730

我猜 Bing 翻译器可能是您正在寻找的替代品。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2021-02-14T18:31:34.800

我也在寻找替代方案，遇到了一个名为[google-translate-api-browser](https://www.npmjs.com/package/google-translate-api-browser)的 npm 包，它适用于我的小项目，但我不能保证大数据翻译或请求不会受到限制

# jsf-2 - 迁移到 Seam 2.3 + JSF2 + RichFaces4 会导致对话范围出现问题

> ID：13470353
> 
> 赞同：1
> 
> 时间：2012-11-20T09:41:20.923
> 
> 标签：jsf-2, richfaces, seam2

我正在从在 Tomcat 7（所以根本没有 EJB）上运行的 Seam 2.2.2（JSF1.2，Richfaces3）迁移到基于 maven 的多项目 Seam 2.3 Final（使用 JSF2、Richfaces4 ) 在 JBoss 7.1.1 上部署为 ear-package。

在逐步更改所有必要的 xml 模式和 Richfaces 标记（a:support、a:form 等）之后，它基本上正在运行。除了关于长期对话的一种奇怪行为。他们只是不再传播到长 LRC。每次点击都会创建一个新的临时点击。经过数小时的痛苦，我发现模板的绑定似乎是原因。

我的模板是根据您登录的租户选择的 - 它基本上是一个 SessionScope bean，包含皮肤目录的名称。像这样：

```
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
            xmlns:ui="http://java.sun.com/jsf/facelets"
            xmlns:h="http://java.sun.com/jsf/html"
            xmlns:f="http://java.sun.com/jsf/core"
            xmlns:s="http://jboss.org/schema/seam/taglib"
            xmlns:a="http://richfaces.org/a4j"
            template="skins/#{skin.name}/templates/template.xhtml"
            xmlns:rich="http://richfaces.org/rich"> 
```

一旦我`#{skin.name}`用一个特定的名称替换，传播到 LRC 似乎工作。

这与 Seam 2.2 完美配合。

有人知道这里有什么问题吗？

# android - Android是否有可能自行更新CustomAdapter

> ID：13470363
> 
> 赞同：0
> 
> 时间：2012-11-20T09:42:08.843
> 
> 标签：android, adapter

如果有人可以帮助我，我将不胜感激:)

我有一个自定义适配器（扩展 ArrayAdapter），在它显示的对象（movieDatas）上，有一个随时间变化的属性（downloadProgress）

由于我在多个地方使用此适配器，我想知道我的**CustomAdapter 是否有可能监听每个 movieDatas.downloadProgress 属性，然后自行更新？****因此，不使用**活动中的ArrayAdapter.notifyDataSetChanged ，但适配器会自行决定更新。

以前，我在每 5 秒调用一次 myListView.invalidate() 的每个 Activity 上使用 Timer，但我想知道适配器是否可以自己处理更改？

非常感谢您的帮助，我是从android开发开始的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T09:57:13.203

我不知道你是怎么做的，但听起来你完全可以使用回调来实现它。

1）创建一个这样的界面：

```
public interface OnDownloadProgressChangeListener{
    public void onProgress(int progress);
} 
```

2）将此添加到您的 MovieData 对象：

```
// We use an ArrayList because you could need to listen to more than one event. If you are totally sure you won't need more than one listener, just change this with one listener 
private ArrayList<OnDownloadProgressChangeListener> listeners = new ArrayList<OnDownloadProgressChangeListener>();

public void addDownloadProgressChangeListener(OnDownloadProgressChangeListener listener){
    listeners.add(listener);
}

public void clearDownloadProgerssChangeListeners(){
    listeners.clear();
}

//Add any handlers you need for your listener array.

// ALWAYS use this method to change progress value.
public void modifyProgress(int howMuch){
     progress+=howMuch;
     for (OnDownloadProgressChangeListener listener : listeners)
          listener.onProgress(progress);
} 
```

3）覆盖您的自定义适配器添加方法

```
@Override
public void add(final MovieData item){
    item.addDownloadProgressChangeListener(new OnDownloadProgressChangeListener(){
        public void onProgress(final int progress){
             // Add your logic here
             if (progress == 100){
                  item.update();
             }
        }
    });
    super.add(item);
} 
```

4) 每当修改项目时，请调用`notifyDataSetChanged()`您的适配器。您甚至可以在实现中的`super.add(item)`行之后添加它`add`，但是如果您要添加很多项目，这将非常低效：先添加它们然后通知更改。

# javascript - 在 ASP.NET 中运行时更改表单 ID 和表单操作

> ID：13470365
> 
> 赞同：2
> 
> 时间：2012-11-20T09:42:15.797
> 
> 标签：javascript, asp.net, html

如何在运行时更改表单操作和表单 ID。在母版页上实现的表单标签。请给出任何解决方案？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T09:53:09.493

听起来你需要使用 JavaScript。你可以这样做：

```
<script>
    var myForm = document.getElementById("oldFormId");
    myForm.action = "newAction";        
    myForm.id = "newFormId"​​;
<script> 
```

请注意，这只会更改给定页面上表单的 ID 和操作，不会影响您的实际代码（因为它是客户端更改）。如果您愿意，您可以将此逻辑封装在一个包含在您的母版页本身中的函数中，这样就可以从站点上的任何位置访问它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-20T09:53:18.370

试试这个

```
 Page.Form.ID = "newFormId";
    Page.Form.Action = "NewPage.aspx"; 
```

注意：使用 ASP.Net 4.0，不知道以前的版本是否可以工作

# javascript - jQuery 滑块建议

> ID：13470366
> 
> 赞同：0
> 
> 时间：2012-11-20T09:42:30.213
> 
> 标签：javascript, jquery, slideshow, image-gallery

> **可能重复：**
> [jquery 动态轮播](https://stackoverflow.com/questions/8076967/jquery-dynamic-carousel)

我在路上遇到了障碍 - 我正在寻找一个 jQuery 插件，它允许我使用画廊中的下一个/上一个箭头和图像的缩略图来滑过图像库。这一点很容易找到，但复杂之处在于画廊中的图像大小不统一，并且需要在块级元素内水平和垂直居中，无论它们的宽度和高度如何。

有没有支持我需要的 jQuery 插件？我真的不想出去建立自己的。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-20T09:47:00.357

您正在寻找的是 nivoslider，请检查：

[http://nivo.dev7studios.com/demos/4/](http://nivo.dev7studios.com/demos/4/)

而且它是免费的！

# asp.net - 只能使用 Eval()、XPath() 和 Bind() 等数据绑定方法

> ID：13470371
> 
> 赞同：0
> 
> 时间：2012-11-20T09:42:51.083
> 
> 标签：asp.net, eval

我尝试将一个方法从我的 aspx.cs 页面恢复到我的 aspx 页面，它允许我返回一个字符串，所以我做了：

(...)

```
 <%= PrettyReqDAL(**Eval("Column").ToString()**, "OBP"))%>

            </DetailRow>
        </Templates>
        (..)
    </dx:ASPxGridView> 
```

当我运行时，我收到此错误：

```
Databinding methods such as Eval(), XPath(), and Bind() can only be used in the context of a databound control. 
```

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T09:47:27.827

您需要使用数据绑定语法：`<%# %>`而不是`<%= %>`

# android - 在android中显示带有sqlite表数据的条形图？

> ID：13470372
> 
> 赞同：-2
> 
> 时间：2012-11-20T09:42:55.427
> 
> 标签：android, database, sqlite, graph

我对 Android 非常陌生，我的 SQLite 表中有图表，我想要在 X 轴和 Y 轴上用图表显示该数据。我的数据库值或者是休闲：

```
productId      Qty

2100021        20
2100022        50 
```

我想在 X 和 Y 轴上绘制 Android 中这些值的图表。

我写下面的代码

公共类 SalesTrackingByCustomer 扩展 Activity {

```
private DBAdapter db;
private Spinner spinner1, spinner2;
 private String[] prodctnames;
 private String[] prodctnames1;
 private double[] product_1;
 private double[] product_2;
 public int count;
 public String custid;
 public Sample customerdetails;
 public ChartCollection<String> collection;
 ChartArea area;
 ChartArea area1;

 private SimpleAdapter mSchedule;
 Vector<String> vec_custid=new Vector<String>();
 Vector<String> vec_oldno=new Vector<String>();
 Vector<String> vec_productid=new Vector<String>();
 Vector<String> vec_qty=new Vector<String>();
 private ListView mListView;

@Override
public void onCreate(Bundle savedInstanceState) {
super.onCreate(savedInstanceState);
setContentView(R.layout.bycustomers);
setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE);
mListView=(ListView)findViewById(R.id.listView1);
prodctnames=new String[10];
product_1=new double[10];

prodctnames1=new String[10];
product_2=new double[10];

db=new DBAdapter(this);

final ChartView chartView = (ChartView) findViewById(R.id.chartView);

ChartPalette palette = new ChartPalette(0xffffd7e8);
chartView.setPalette(palette);
final ChartSeries product1 = new ChartSeries("P1", ChartTypes.Column);

spinner1 = (Spinner) findViewById(R.id.spinner1);
spinner1.setOnItemSelectedListener(new OnItemSelectedListener() {

    @Override
    public void onItemSelected(AdapterView<?> arg0, View arg1, int arg2,
            long arg3) {
        // TODO Auto-generated method stub

        int position=spinner1.getSelectedItemPosition();
        System.out.println("=====ITEM POSITION======"+position);

        final String selected=arg0.getItemAtPosition(arg2).toString();
        System.out.println("=====IN SELECTED======"+selected);

        db.open();
        Cursor customer=db.fetchorderCustomername(selected);
        custid=customer.getString(0);
        System.out.println("=====CUSTOMER NAME ID======"+custid);
        Cursor cursor=db.fetchorderDetails(custid);
        count=cursor.getCount();
        System.out.println("=====COUNT======"+count);

               int i=0;
                while (i<count)
                {
                    String productid=cursor.getString(1);
                    prodctnames[i]=productid;

                    String qty=cursor.getString(2);
                    product_1[i]=Double.parseDouble(qty);
                    System.out.println("=====PROID======"+prodctnames[i]+"=====QUANTITY======"+product_1[i]);
                    cursor.moveToNext();
                    i++;

                }

                for (int j = 0; j < count; j++)
                {
                    ChartPoint point = product1.getPoints().addXY(j, product_1[j]);
                    point.setAxisLabel(prodctnames[j]);
                }

                if(position==0)
                {
                   chartView.refreshDrawableState();

                   chartView.getSeries().add(product1);

                   area = chartView.getAreas().get(0);

                area.getDefaultXAxis().setLabelsMode(ChartAxis.LabelsMode.SeriesLabels);

                }
                if(position==1)
                {

                   chartView.refreshDrawableState();

                   chartView.getSeries().add(product1);
                    area1 = chartView.getAreas().get(0);

                    area1.getDefaultXAxis().setLabelsMode(ChartAxis.LabelsMode.SeriesLabels);
                }

              //area.refresh();
                db.close();

                        }

    @Override
    public void onNothingSelected(AdapterView<?> arg0) {
        // TODO Auto-generated method stub

    }
}); 
```

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-21T02:14:19.207

您尝试添加具有相同名称的新区域。更改区域名称。

参考：[http ://www.artfulbits.com/support/forum.aspx?g=posts&t=389](http://www.artfulbits.com/support/forum.aspx?g=posts&t=389)

# c++ - 为嵌入式解释器安装为 VS2010 编译的 Numpy

> ID：13470374
> 
> 赞同：1
> 
> 时间：2012-11-20T09:43:00.333
> 
> 标签：c++, python, compilation, numpy

我对 Windows 上嵌入式 Python 2.7.3 解释器的另一个查询。我需要在 Visual Studio 2010 中编译的 C++ 程序中安装 numpy 和 matplotlib 作为嵌入式解释器的支持包。

**一些背景：**

几个月来，我一直在努力完成这项工作。主要问题是 Python 2.7 的 numpy 是针对早期版本的 MS C 库（VS2008）编译的，而我的应用程序是针对 2010 版本编译的（这是我无法控制的事实 - 那是 office 编译器）。我通过摆弄我的应用程序的清单来解决这个问题，让它为 numpy 加载正确的 C 库，这让它可以导入。随着最终用户尝试新功能，错误开始出现，包括无法追踪的崩溃。

**我现在的状态：**

我将其中一些归咎于我对 Python 2.7.3 源代码的不良编译，特别是依赖项（许多崩溃似乎与来自 matplotlib 的 Tkinter 相关）。所以我重新开始了 Python 编译，现在有了 Python 2.7.3 的所有核心和依赖项的干净编译版本。现在我在看 numpy/matplotlib。

**我的问题**

是否值得尝试针对 VS2010 编译 numpy 或者我之前的清单修改解决方案是唯一的方法？

如果是前者，我这样做会遇到什么问题（即我应该注意什么）？

在后者中，如何让 numpy 安装在嵌入式解释器的 lib/site-packages 文件夹中？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T11:19:05.877

使用 cygwin 在 Windows 上构建 numpy。我在windows-xp

它对我来说工作得很好......！

在 cygwin 中，python2.6 作为默认 python 提供。我已经安装了python2.7但没有在python2.7中安装numpy。

要在我已经运行的 python2.7 上使用它`python2.7 setup.py build`

你可以在我的终端的屏幕截图中看到它。在文件夹“namit”中，我放置了我在 cygwin 上编译的“numpy”目录。

当我在该目录中导入 numpy 时..它起作用了...您可以在 globals() 从它导入的位置看到它。

![在此处输入图像描述](../Images/7800e3b327e6c5e256a646dd3b4ddac5.png)

# c# - 使用 C# 在数据网格中搜索特定文本

> ID：13470375
> 
> 赞同：0
> 
> 时间：2012-11-20T09:43:07.857
> 
> 标签：c#, winforms, datagrid

使用 datagrid 我连接到 sqlite。我能够将 sqlite 的特定表打开到数据网格中。但是现在我想从表中搜索特定的东西，我正在使用 select 语句并应用一个文本框。用户从那里输入输入和搜索。下面是我的代码

```
 private void button2_Click(object sender, EventArgs e)
    {
        SQLiteConnection connection2 = new SQLiteConnection(@"Data Source = C:\ssds\WEBATM\APTRABuilder.sqlite;Version =3");
        connection2.Open();
        string sql2 = "Select *from builderScreenResourceBundleTBL where screenId like '%_textboxSearch%'";
        SQLiteDataAdapter connect2 = new SQLiteDataAdapter(sql2, connection2);
        DataSet ds2 = new DataSet();
        connect2.Fill(ds2);
        dataGridView.DataSource = ds2.Tables[0];
    } 
```

那么在sql2字符串语句中我需要如何通过文本框输入呢？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-20T09:45:26.257

就这样做

```
string sql2 = 
"Select * from builderScreenResourceBundleTBL where screenId like '%"+YourTextBox.Text+"%'"; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T10:01:10.860

您可以使用上面 yogi 的答案，也可以直接在 DataGridView 上应用过滤器，如下所示：

```
private void textBox1_TextChanged(object sender, EventArgs e)
    {
        try
        {
            ((DataTable)dataGridView1.DataSource).DefaultView.RowFilter = string.Format("screenId like '%{0}%'", textBox1.Text.Trim().Replace("'", "''"));
        catch (Exception) { }

    } 
```

# java - 如何在方法中使用意图的结果

> ID：13470383
> 
> 赞同：1
> 
> 时间：2012-11-20T09:43:21.293
> 
> 标签：java, android, eclipse, mobile, media-player

所以我使用这段代码让用户从他们的手机中选择一首歌：

```
 public void alarmcode(){
    Intent i = new Intent(Intent.ACTION_GET_CONTENT);
    i.setType("audio/*");
    Intent c = Intent.createChooser(i, "Select soundfile");
    startActivityForResult(c,1); 
```

这正是我想要的。但是，我接下来要做的是使用 MediaPlayer 类来播放这首选定的歌曲。这是我为此编写的一段代码：

```
 MediaPlayer mp = new MediaPlayer();
    mp.setDataSource(???);
    mp.prepare();
    mp.start(); 
```

有谁知道如何获取它的内存位置并播放它？我真的被困住了。我已经在谷歌上搜索了很多年，但找不到太多可以帮助我的东西。为任何帮助干杯:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T09:50:46.837

请检查一下。希望它对你有用。

[http://blog.infidian.com/2008/04/04/tutorial-custom-media-streaming-for-androids-mediaplayer/](http://blog.infidian.com/2008/04/04/tutorial-custom-media-streaming-for-androids-mediaplayer/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T09:51:25.863

要获取铃声，您可以调用此意图..

```
mIntent = new Intent(Intent.ACTION_PICK, android.provider.MediaStore.Audio.Media.EXTERNAL_CONTENT_URI);
        startActivityForResult(mIntent, 1); 
```

在使用意图的同时，您可以像这样使用它..

```
@Override
 protected void onActivityResult(int requestCode, int resultCode, Intent intent) {`
if (resultCode == RESULT_OK && null != intent) {
    if (requestCode == 1) {

            Uri selectedRing = intent.getData();
    }
}} 
```

# qooxdoo - 内省 qooxdoo 对象的正确方法是什么？

> ID：13470386
> 
> 赞同：3
> 
> 时间：2012-11-20T09:43:31.707
> 
> 标签：qooxdoo

我想列出一个 qooxdoo 对象的所有成员。我找到了一种方法，但我认为必须有一种更清洁的方法？

```
for (var key in obj) {
  if (key.startsWith('$$user_')) {
    msg += 'name='+key.substring(7)+' = '+obj[key]+' [type='+typeof(obj[key])+']';
  }
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-20T20:18:48.180

假设它是您感兴趣的属性，您可以使用

```
var classProperties = qx.util.PropertyUtil.getAllProperties(obj.constructor);
for(var propertyName in classProperties) {
    ...
} 
```

[http://tinyurl.com/c4b2l5m](http://tinyurl.com/c4b2l5m)

# android - AVD 管理器不启动

> ID：13470388
> 
> 赞同：13
> 
> 时间：2012-11-20T09:43:33.007
> 
> 标签：android, sdk, avd

（解决见下文）

我的 AVD 管理器没有启动，而 SDK 管理器运行良好......它昨天工作了一次（所以我可以创建一个模拟器）但现在我无法访问 AVD 管理器（没有错误，只是不启动）。

当我从 Eclipse 启动一个程序时，我的最后一个模拟器启动正常，一切都很好，但我无法管理它或创建另一个...

任何的想法？

*   Java 没问题（JAVA_HOME...等）
*   SDK 路径中没有空格
*   Eclipse，一切都很好，我可以在我创建的最后一个模拟器上进行测试.. 除了访问 AVD 管理器......

谢谢，

编辑：已解决我可以在删除 %USER%\.android\avd 中的 AVD 设置后再次启动我的 AVD 管理器。我想我在某些 AVD 中出了点问题...

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-12-07T10:22:43.917

已解决在 %USER%.android\avd 中删除我的 AVD 设置后，我可以再次启动我的 AVD 管理器。我想我在某些 AVD 中出了点问题...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T09:56:52.797

看看这篇[文章](https://stackoverflow.com/q/2181998/1626878)。它侧重于在设置 AVD 管理器期间遇到的几个不同问题。

也看看这个[帖子](https://stackoverflow.com/q/4810478/1626878)。它也可能会有所帮助。

# java - 从 Excel VBA 调用 Java 并返回结果

> ID：13470389
> 
> 赞同：0
> 
> 时间：2012-11-20T09:43:40.163
> 
> 标签：java, vba

我想知道如何使用 java 进行复杂的计算，这在 VBA 中需要很多时间。可能吗？这有意义吗？我将如何调用我的 java 代码以及如何获得结果？

问候，波斯克伦

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T10:02:41.440

在 web 服务中编写您的 java 代码并从 VBA 代码中调用它。

# objective-c - 需要有关 Objective-c 和 opps 概念的帮助

> ID：13470391
> 
> 赞同：1
> 
> 时间：2012-11-20T09:43:43.530
> 
> 标签：objective-c, ios, oop

目前我正在开发消息传递应用程序，它可以发送文本消息、图像和音频文件。

文件上传到 http 服务器，用于下载和上传，我使用的是 NSURLConnection。

当用户点击下载按钮时，我提取表格视图的单元格并将进度视图添加为这样的子视图

**在头文件中**

```
@property (strong, nonatomic) UIProgressView *progress; 
```

**在类文件中我的下载方法**

```
progress = [[UIProgressView alloc]initWithProgressViewStyle:UIProgressViewStyleBar];
        progress.trackTintColor = [UIColor grayColor];
        progress.frame = CGRectMake(10, 50, 160, 30);
        progress.progress = 0.0;
        [cell addSubview:progress]; 
```

**当接收到数据时，这个 NSURLConenction 委托方法被调用**

```
-(void)connection:(NSURLConnection *)connection didReceiveData:(NSData *)data
{
    if(imgUpload)
    {
        NSLog(@"UPLOAD");
    }
    else
    {
        [self.resourceData appendData:data]; 
        NSNumber *resourceLength = [NSNumber numberWithUnsignedInteger:[self.resourceData length]];

        [self.progress setProgress:[resourceLength floatValue] / [self.filesize floatValue] animated:YES];
    }
} 
```

如果有多个文件，并且每次用户点击下载按钮时，整个代码都将执行，progressview 将被添加到该单元格，但所有文件都通过**进度**变量引用。**如何唯一标识每个单独的进度视图**。如果我尝试下载三个文件，所有进度视图都表明有自己的进度并且工作正常。

请清除这个概念。

**是的，引擎盖下的数据搞砸了，我试图一起下载音频和图像文件，但最终得到了损坏的文件。**

**请提供如何解决此问题的示例。**

# c++ - 部分点击分层窗口 win32

> ID：13470393
> 
> 赞同：1
> 
> 时间：2012-11-20T09:43:51.777
> 
> 标签：c++, winapi, atl, wtl

在 win32 或 atl/wtl c++ 中使用分层窗口时，如果我将主窗口的 alpha 设置为 0 并在子窗口上绘制假窗口，使其可见并单击窗口，则整个窗口都是单击。我希望能够只点击窗口的区域，而不是整个窗口，假设我想绘制一个圆角窗口，我让底部/主窗口可以点击，但我不希望要点击的上部“假”窗口，我希望能够点击它。我怎么做？到目前为止我在哪里：在主窗口的 OnInitDialog 函数中：

```
::SetWindowLong( m_hWnd, GWL_EXSTYLE, ::GetWindowLong(m_hWnd, GWL_EXSTYLE) | WS_EX_LAYERED);
BYTE bTran = 0;
::SetLayeredWindowAttributes( m_hWnd, 0, bTran, LWA_ALPHA); 
```

当我创建假窗口时：

```
m_hFakeWnd = ::CreateWindowEx( WS_EX_LAYERED | WS_EX_TRANSPARENT | WS_EX_NOACTIVATE | WS_EX_LEFT
        , m_strWndClassName
        , NULL
        , WS_VISIBLE | WS_OVERLAPPED
        , rc.left
        , rc.top
        , rc.Width()
        , rc.Height()
        , GetSafeHwnd()
        , NULL
        , ::GetModuleHandle(NULL)
        , NULL
        ); 
```

如果，我设置消除 WS_EX_TRANSPARENT 标志，假窗口是可点击的，而主要是点击，但是！它不响应任何东西！单击/拖动。没有任何。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T14:24:09.783

听起来您只是为了拦截点击而覆盖另一个窗口？

无论如何，您需要处理窗口的[`WM_NCHITTEST`](http://msdn.microsoft.com/en-us/library/windows/desktop/ms645618%28v=vs.85%29.aspx)消息，以便能够让系统知道特定位置是透明的，在这种情况下您返回`HTTRANSPARENT`：

> 在当前被同一线程中的另一个窗口覆盖的窗口中（消息将被发送到同一线程中的底层窗口，直到其中一个返回不是 HTTRANSPARENT 的代码）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T19:26:40.777

在您希望接受点击的区域中使用 alpha 1 而不是 0。窗口仍将完全不可见，但 alpha 1 的区域将正常记录点击和鼠标移动。

请注意，要获得每像素 alpha，您需要使用`UpdateLayeredWindow`而不是`SetLayeredWindowAttributes`.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-20T15:32:45.220

制作两个窗口，一个具有点击属性，另一个具有普通属性。

# magento - magento如何调用自定义模型

> ID：13470395
> 
> 赞同：1
> 
> 时间：2012-11-20T09:44:01.067
> 
> 标签：magento, model, module

如何在自定义模块中调用模型？让我们假设模型非常简单，只返回静态数据数组。

我有一个类似这样的目录结构：

*   应用程序
    *   当地的
        *   我的包裹
            *   模块
                *   楷模
                    *   模型1.php

如何在控制器中包含 Model1.php？如果我使用**Mage::getModel('Mypackage/Modul/Model1)**它会返回错误，因为它在 Mage/Module/Model/Model1.php 中搜索模型

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-06-27T13:19:55.697

`Mage::getModel('mypackage_module/modeltest)`应该管用。但首先检查您的 config.xml。你应该这样声明它：

```
 <models>
            <mypackage_module>
                <class>Mypackage_Module_Model</class>
                <resourceModel>modeltest_mysql4</resourceModel>
            </mypackage_module>
            <modeltest_mysql4>
                <class>Mypackage_Module_Model_Mysql4</class>
                <entities>
                    <modeltest>
                        <table>mypackage_module</table>
                    </modeltest>
                </entities>
            </modeltest_mysql4>
          </models> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-07-02T07:29:16.437

```
Mage::getModel('modulename/modelname')->modelmethod();

i.e.
Mage::getModel('catalog/product')->getName(); 
```

希望这对你有帮助

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-05-09T21:34:29.747

这应该工作： Mage::getModel('module/model_model1')->modelmethod();

请注意，模型文件夹应该是“模型”而不是“模型”

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-21T07:53:42.927

你好，你可以试试这个，但我没有测试过

```
$collection = Mage::getModel('Module/Model1')->getCollection(); 
```

# tsql - MS SQL 在用户事务中创建用户并更改密码

> ID：13470398
> 
> 赞同：1
> 
> 时间：2012-11-20T09:44:06.687
> 
> 标签：tsql, sql-server-2000

我需要授予现有登录到我的数据库的访问权限，并从 T-SQL 脚本更改其他登录的密码，该脚本从事务中的 C++ 更新程序运行。它应该针对 SQL Server 2000 以及任何较新的 SQL Server 版本运行。

`CREATE USER FOR LOGIN`并且`ALTER LOGIN WITH PASSWORD`在 MSDE 和 SQL Server 2000 中不受支持，但我无法使用`sp_grantdbaccess`，`sp_password`因为它们失败并出现错误 -2147217900

我认为这是由于这些存储过程不能从用户事务中运行，并且它也可以在未来的 SQL Server 版本中被弃用。

你能建议任何其他解决方案吗？

以下是在用户事务中运行的脚本示例

```
CREATE PROCEDURE [dbo].[_PasswordChangeSaveCleanup]  
@Meno varchar(50),  
@HesloEncrypted varchar(50)  
AS  
BEGIN  
...     
return 1  
END  
GO  
--CREATE USER [some] FOR LOGIN [some]  
EXECUTE sp_grantdbaccess @loginame='some'  
GO  
GRANT SELECT ON [dbo].[UZivatelia] TO [ese]  
GO  
--ALTER LOGIN SOME2 WITH PASSWORD='vreK.BH45'  
EXECUTE sp_password @new='vreK.BH45',@loginame='SOME2'  
GO  
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[SOMESP]') AND type in (N'P', N'PC'))  
DROP PROCEDURE [dbo].[SOMESP]  
GO 
```

# xslt - XSLT：如何处理具有相同值的子元素的所有元素

> ID：13470401
> 
> 赞同：2
> 
> 时间：2012-11-20T09:44:15.467
> 
> 标签：xslt

简单地说，我有类似于（修剪了很多）的 XML：

```
<Event>
  <Parameter>
    <Name>#ID</Name>
    <Value>3</Value>
  </Parameter>
  <Parameter>
    <Name>AMT</Name>
    <Value>911</Value>
  </Parameter>
</Event>
<Event>
  <Parameter>
    <Name>#ID</Name>
    <Value>3</Value>
  </Parameter>
  <Parameter>
    <Name>AMT</Name>
    <Value>10</Value>
  </Parameter>
</Event>
<Event>
  <Parameter>
    <Name>#ID</Name>
    <Value>4</Value>
  </Parameter>
  <Parameter>
    <Name>AMT</Name>
    <Value>11</Value>
  </Parameter>
</Event> 
```

从此，我想为名称为“#ID”的参数处理具有相同“值”的所有事件元素。所以样本输出可能是：

```
<Result>
  <ID>3</ID>
  <AMT>10</AMT>
  <AMT>11</AMT>
<Result>
<Result>
  <ID>4</ID>
  <AMT>11</AMT>
<Result> 
```

它比这要复杂一些，但希望对此的答案足以让我摆脱困境。我的主要问题是我不知道如何一起收集和处理所有在名称为#ID 的参数中具有相同值的事件元素。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T10:32:26.643

当您使用 XSLT2.0 时，您可以使用**xsl:for-each-group**通过参数元素中的 ID 对事件元素进行分组

```
<xsl:for-each-group select="Event" group-by="Parameter[Name='#ID']/Value"> 
```

我不确定您是要汇总“AMT”元素还是单独输出它们，但是要单独输出它们，您会这样做（使用单独的匹配模板来输出它们）

```
<xsl:apply-templates select="current-group()/Parameter[Name='AMT']"/> 
```

把它们加起来你会这样做

```
<xsl:value-of select="sum(current-group()/Parameter[Name='AMT']/Value)"/> 
```

这是完整的 XSLT

```
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="2.0">
   <xsl:output method="xml" indent="yes"/>

   <xsl:template match="/*">
      <xsl:for-each-group select="Event" group-by="Parameter[Name='#ID']/Value">
         <Result>
            <ID>
               <!-- <xsl:value-of select="Parameter[Name='#ID']/Value"/> -->
               <xsl:value-of select="current-grouping-key()" />
            </ID>
            <xsl:apply-templates select="current-group()/Parameter[Name='AMT']"/>
            <TOTAL_AMT>
               <xsl:value-of select="sum(current-group()/Parameter[Name='AMT']/Value)"/>
            </TOTAL_AMT>
         </Result>
      </xsl:for-each-group>
   </xsl:template>

   <xsl:template match="Parameter[Name='AMT']">
      <AMT>
         <xsl:value-of select="Value"/>
      </AMT>
   </xsl:template>
</xsl:stylesheet> 
```

应用于以下 XML 时

```
<Events>
   <Event>
      <Parameter>
         <Name>#ID</Name>
         <Value>3</Value>
      </Parameter>
      <Parameter>
         <Name>AMT</Name>
         <Value>911</Value>
      </Parameter>
   </Event>
   <Event>
      <Parameter>
         <Name>#ID</Name>
         <Value>3</Value>
      </Parameter>
      <Parameter>
         <Name>AMT</Name>
         <Value>10</Value>
      </Parameter>
   </Event>
   <Event>
      <Parameter>
         <Name>#ID</Name>
         <Value>4</Value>
      </Parameter>
      <Parameter>
         <Name>AMT</Name>
         <Value>11</Value>
      </Parameter>
   </Event>
</Events> 
```

以下是输出

```
<Result>
   <ID>3</ID>
   <AMT>911</AMT>
   <AMT>10</AMT>
   <TOTAL_AMT>921</TOTAL_AMT>
</Result>
<Result>
   <ID>4</ID>
   <AMT>11</AMT>
   <TOTAL_AMT>11</TOTAL_AMT>
</Result> 
```

# android - setOnClickListener 和 setOnLongClickListener 调用单个按钮问题

> ID：13470404
> 
> 赞同：15
> 
> 时间：2012-11-20T09:44:19.007
> 
> 标签：android, onclicklistener, onlongclicklistener

如果有人可以的话，我需要你的帮助，这对我的解决方案来说将是一件好事。我不知道这是否可能，但我想尝试解决这个问题。实际上我想在单击事件上实现两种方法，简单的单击和长按，这里是我的代码::

```
homebutton = (ImageButton) findViewById(R.id.home_icon);
homebutton.setOnClickListener(new OnClickListener() {
    public void onClick(View arg0) {
        Intent intent = new Intent(context, MainActivity.class);
        startActivity(intent);
    }
});
homebutton.setOnLongClickListener(new OnLongClickListener() {
    public boolean onLongClick(View arg0) {
        Toast.makeText(getApplicationContext(), "Long Clicked " , Toast.LENGTH_SHORT).show();
        return false;
    }
}); 
```

所以，这里我弄错了，即使单击也能正常工作，长按也能正常工作，但问题是，在长按事件之后，它也会启动 MainActivity，如上面的 onClick 方法代码中定义的那样。

那不应该这样做，return false 也在那里，仍然无法按我的意愿工作..所以，请任何人帮助我解决它..

提前致谢..

* * *

## 回答 #1

> 赞同：44
> 
> 时间：2012-11-20T09:46:14.930

我相信您需要在**onLongClick方法中***返回* - 告诉框架触摸事件已被消耗，并且不需要进一步的事件处理。`TRUE`

 **```
homebutton.setOnLongClickListener(new OnLongClickListener() {
    public boolean onLongClick(View arg0) {
        Toast.makeText(getApplicationContext(), "Long Clicked " ,
              Toast.LENGTH_SHORT).show();

        return true;    // <- set to true
    }
}); 
```**

# android - 使用 ActionBarSherlock 在 Android 中使用 setActionView 进行搜索后返回

> ID：13470405
> 
> 赞同：0
> 
> 时间：2012-11-20T09:44:18.877
> 
> 标签：android, search, android-actionbar, actionbarsherlock

使用此代码（取自 ABS 示例），我可以在我的 ActionBar 中添加一个“搜索”图标，单击该图标将显示一个 EditText（在列表中搜索）：

```
@Override
public boolean onCreateOptionsMenu(Menu menu) {
    menu.add(Menu.NONE, searchId, Menu.NONE, R.string.menu_search)
     .setIcon(android.R.drawable.ic_menu_search)
     .setActionView(R.layout.collapsible_edittext)
     .setShowAsAction(MenuItem.SHOW_AS_ACTION_ALWAYS | MenuItem.SHOW_AS_ACTION_COLLAPSE_ACTION_VIEW);
    return true;
} 
```

使用此代码，我可以在点击“搜索”图标后显示不同的布局：

```
@Override
public boolean onOptionsItemSelected(MenuItem item) {
    switch (item.getItemId()) {
    case searchId:
        search = (EditText) item.getActionView();
        search.addTextChangedListener(filterTextWatcher);
        search.requestFocus();
        InputMethodManager imm = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);
        imm.toggleSoftInput(InputMethodManager.SHOW_FORCED, 0);

        setContentView(R.layout.search);

        this.allSongs = data.getSongs();
        ListView list = (ListView) findViewById(R.id.songList);
        list.setAdapter(new SongAdapter(this, this.allSongs));
    }
    return true;
} 
```

使用此代码，我可以处理我的搜索：

```
private TextWatcher filterTextWatcher = new TextWatcher() {
    public void afterTextChanged(Editable s) {
    }

    public void beforeTextChanged(CharSequence s, int start, int count, int after) {
    }

    public void onTextChanged(CharSequence s, int start, int before, int count) {

        List<Song> results = new ArrayList<Song>();

        Locale locale = Locale.getDefault();

        for (Song song : allSongs) {
            if (song.getTitle().toLowerCase(locale).contains(s.toString().toLowerCase(locale)))
                results.add(song);
        }

        ListView list = (ListView) findViewById(R.id.songList);
        list.setAdapter(new SongAdapter(ctx, results));
    }
}; 
```

当用户点击“搜索”图标时，EditText 出现在 ActionBar 中，并且 App 图标获得“返回”左箭头。如果用户点击“返回”按钮或点击 ActionBar 图标（带有左箭头），EditText 就会消失。除了隐藏 EditText 之外，我还想拦截此事件（不，onOptionsItemSelected() 这次不会触发）并显示以前的布局。

注意：我需要 API8 (Android 2.2) 兼容性！

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-20T14:10:54.207

使用*ActionView*时，点击“向上”或“返回”不会导致*祖先导航*（可以由*onOptionsItemSelected*处理），但会导致*Collapsible Action 事件*。

[可在](http://developer.android.com/guide/topics/ui/actionbar.html#ActionView)Android 开发人员上找到。

> **处理可折叠的动作视图**
> 
> 如果您需要根据操作视图的可见性来更新您的活动，您可以通过定义一个 OnActionExpandListener 并使用 setOnActionExpandListener() 注册它来在它展开和折叠时接收回调。例如：

```
@Override
public boolean onCreateOptionsMenu(Menu menu) {
    getMenuInflater().inflate(R.menu.options, menu);
    MenuItem menuItem = menu.findItem(R.id.actionItem);
    ...

    menuItem.setOnActionExpandListener(new OnActionExpandListener() {
        @Override
        public boolean onMenuItemActionCollapse(MenuItem item) {
            // Do something when collapsed
            return true;  // Return true to collapse action view
        }

        @Override
        public boolean onMenuItemActionExpand(MenuItem item) {
            // Do something when expanded
            return true;  // Return true to expand action view
        }
    });
} 
```

因此，为了回答我的问题，我正在搜索 onMenuItemActionCollapse 事件。

PS：为了更好的一致性，我应该将我的*案例 searchId：*从*onOptionsItemSelected*移动到*onMenuItemActionExpand*

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T10:07:36.843

对于 Home 按钮，我可以假设您调用了

```
mActionBar.setHomeButtonEnabled(true); 
```

在 onCreate() 中设置 Sherlock 操作栏时？我相信这是在单击主页按钮时获得项目 ID 为 android.R.id.home 的 onOptionsItemSelected() 回调所必需的。

对于后退按钮，我认为您只需要在活动中覆盖 onKeyDown ：

```
@Override
public boolean onKeyDown(int keyCode, KeyEvent event) {
    if (event.getKeyCode() == KeyEvent.KEYCODE_BACK) {
        // Do something
        return true;
    }

    return super.onKeyDown(keyCode, event);
} 
```

# php - RESTFUL Web 服务响应解析问题

> ID：13470408
> 
> 赞同：0
> 
> 时间：2012-11-20T09:44:25.743
> 
> 标签：php, xml, rest

我也得到了宁静的 Web 服务响应。但我无法正确解析它

我的代码看起来像这样

```
include 'RestClient.class.php';

error_reporting(E_ALL);

// Client Profile

$url = "http://localhost/lgen/index.php/api/client";

$ex = RestClient::get($url,array('requestType' =>'viewClientProfile', 
                                                        'username' => 'uname', 
                                                                 'pass' =>'pass'));

echo $response = $ex->getResponse();

$xml = simplexml_load_string($response); 
```

当打印 $response 我在浏览器上获取数据但在尝试解析它时没有得到任何类型的数据

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T09:55:13.763

```
echo $response = $ex->getResponse(); 
```

您正在同时创建和回显一个变量。

尝试这个：

```
$xml = simplexml_load_string($ex->getResponse());
var_dump($xml); 
```

# regex - REGEXP_SUBSTR 所需的输出

> ID：13470409
> 
> 赞同：0
> 
> 时间：2012-11-20T09:44:29.393
> 
> 标签：regex, oracle, oracle11g

```
SELECT REGEXP_SUBSTR('one,two,three',',[^,]+') AS reg_result FROM DUAL;

REG_RESULT    
,two          

SELECT REGEXP_SUBSTR('eight,nineteen,five',',[^,]+') AS reg_result FROM DUAL;  

REG_RESULT    
,nineteen 
```

我必须*从结果中删除“，”*。我也*想要最后一个字符串作为输出*。即“一、二、三”中的三个和*“*八、十九、五”中的五个*。*我该怎么做？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T09:53:53.100

如果只想获取最后一个单词而不检查您的字符串是否符合特定模式：

```
SQL> with t1 as(
  2    select 'one,two,three' as str from dual
  3  )
  4  select regexp_substr(str, '([[:alpha:]]+)$') last_word
  5    from t1
  6  ;

LAST_WORD
---------
three 
```

* * *

**对评论的回应**

> 如何从第一个字符串中获取第二个字符串和第二个字符串中的第十九个字符串？

该函数的第四个参数`regexp_substr`是模式的出现。所以要获得字符串中的第二个单词，我们可以使用`regexp_substr(str, '[^,]+', 1, 2)`

```
SQL> with t1 as(
  2        select 'one,two,three' as str from dual
  3      )
  4  select regexp_substr(str, '[^,]+', 1, 2) as Second_Word
  5       from t1;

Second_Word
---------
two 
```

如果需要从字符串中提取每个单词：

```
-- sample of data from your question
SQL> with t1 as(
  2     select 'one,two,three' as str from dual union all
  3     select 'eight,nineteen,five' from dual
  4  ), -- occurrences of the pattern
  5  occurrence as(
  6   select level as ps
  7     from ( select max(regexp_count(str, '[^,]+')) mx
  8              from t1
  9           ) s
 10    connect by level <= s.mx
 11  ) -- the query
 12  select str
 13       , regexp_substr(str, '[^,]+', 1, o.ps) word
 14       , o.ps as word_num
 15    from t1 t
 16     cross join occurrence o
 17  order by str
 18  ;

STR                  WORD          WORD_NUM
-------------------  ----------- ----------
eight,nineteen,five  eight                1
eight,nineteen,five  nineteen             2
eight,nineteen,five  five                 3
one,two,three        three                3
one,two,three        one                  1
one,two,three        two                  2

6 rows selected 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T09:46:51.603

```
SELECT REGEXP_SUBSTR(REGEXP_SUBSTR('one,two,three',',[^,]+$'),'[^,]+') AS reg_result FROM DUAL; 
```

我不确定 Oracle 是否有后视功能，但你也可以试试这个：

```
SELECT REGEXP_SUBSTR('one,two,three','(?<=,)[^,]+$') AS reg_result FROM DUAL; 
```

# arrays - 将 Bash 数组转换为分隔字符串

> ID：13470413
> 
> 赞同：48
> 
> 时间：2012-11-20T09:45:09.627
> 
> 标签：arrays, string, bash, csv

我想知道以下内容；

1.  为什么给定的非工作示例不起作用。
2.  如果有任何其他比工作示例中给出的更清洁的方法。

*非工作示例*

```
> ids=(1 2 3 4);echo ${ids[*]// /|}
1 2 3 4
> ids=(1 2 3 4);echo ${${ids[*]}// /|}
-bash: ${${ids[*]}// /|}: bad substitution
> ids=(1 2 3 4);echo ${"${ids[*]}"// /|}
-bash: ${"${ids[*]}"// /|}: bad substitution 
```

*工作示例*

```
> ids=(1 2 3 4);id="${ids[@]}";echo ${id// /|}
1|2|3|4
> ids=(1 2 3 4); lst=$( IFS='|'; echo "${ids[*]}" ); echo $lst
1|2|3|4 
```

在上下文中，要在[sed](https://www.gnu.org/software/sed/manual/sed.html)命令中用于进一步解析的分隔字符串。

* * *

## 回答 #1

> 赞同：52
> 
> 时间：2012-11-20T10:24:05.393

因为括号用于分隔**数组**，而不是**字符串：**

```
ids="1 2 3 4";echo ${ids// /|}
1|2|3|4 
```

一些示例：填充`$ids`两个字符串： `a b`和`c d`

```
ids=("a b" "c d")

echo ${ids[*]// /|}
a|b c|d

IFS='|';echo "${ids[*]}";IFS=$' \t\n'
a b|c d 
```

...最后：

```
IFS='|';echo "${ids[*]// /|}";IFS=$' \t\n'
a|b|c|d 
```

其中数组被组装，由 的第一个字符分隔，但在数组的每个元素`$IFS`中用空格替换。`|`

当你这样做时：

```
id="${ids[@]}" 
```

您将字符串构建从通过空格合并**数组的方式转移到** **string**`ids`类型的新变量。

 ****注意：**当`"${ids[@]}"`给出一个*空格分隔的*字符串时，`"${ids[*]}"`（用星`*`号代替 at 符号）将呈现一个由 . 的**第**`@`一个字符分隔的字符串。**`$IFS`**

什么`man bash`说：

```
man -Len -Pcol\ -b bash | sed -ne '/^ *IFS /{N;N;p;q}'
   IFS    The  Internal  Field  Separator  that  is used for word splitting
          after expansion and to split  lines  into  words  with  the  read
          builtin command.  The default value is ``<space><tab><newline>''. 
```

玩`$IFS`：

```
declare -p IFS
declare -- IFS=" 
"
printf "%q\n" "$IFS"
$' \t\n' 
```

字面意思是 a `space`， a`tabulation`和*（意思是或）* a `line-feed`。所以，虽然第一个字符是一个空格。的使用`*`将与`@`.

**但是**：

```
{
    IFS=: read -a array < <(echo root:x:0:0:root:/root:/bin/bash)

    echo 1 "${array[@]}"
    echo 2 "${array[*]}"
    OIFS="$IFS" IFS=:
    echo 3 "${array[@]}"
    echo 4 "${array[*]}"
    IFS="$OIFS"
}
1 root x 0 0 root /root /bin/bash
2 root x 0 0 root /root /bin/bash
3 root x 0 0 root /root /bin/bash
4 root:x:0:0:root:/root:/bin/bash 
```

**注意：**该行将`IFS=: read -a array < <(...)`用作`:`分隔符，无需`$IFS`永久设置。这是因为输出行将`#2`空格作为分隔符。

* * *

## 回答 #2

> 赞同：22
> 
> 时间：2018-03-08T07:13:37.317

您也可以使用`printf`，无需任何外部命令或操作 IFS：

```
ids=(1 2 3 4)                     # create array
printf -v ids_d '|%s' "${ids[@]}" # yields "|1|2|3|4"
ids_d=${ids_d:1}                  # remove the leading '|' 
```

* * *

## 回答 #3

> 赞同：17
> 
> 时间：2015-10-28T10:57:00.070

您的第一个问题已经在[F. Hauri 的回答](https://stackoverflow.com/a/13471141)中得到解决。这是连接数组元素的规范方法：

```
ids=( 1 2 3 4 )
IFS=\| eval 'lst="${ids[*]}"' 
```

有些人会大声喊出`eval`邪恶的声音，但由于单引号，这里非常安全。这只有优点：没有子shell，`IFS`没有全局修改，不会修剪尾随换行符，而且非常简单。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2019-08-17T12:12:06.280

将参数数组连接成分隔字符串的实用函数：

```
#!/usr/bin/env bash

# Join arguments with delimiter
# @Params
# $1: The delimiter string
# ${@:2}: The arguments to join
# @Output
# >&1: The arguments separated by the delimiter string
array::join() {
  (($#)) || return 1 # At least delimiter required
  local -- delim="$1" str IFS=
  shift
  str="${*/#/$delim}" # Expand arguments with prefixed delimiter (Empty IFS)
  echo "${str:${#delim}}" # Echo without first delimiter
}

declare -a my_array=( 'Paris' 'Berlin' 'London' 'Brussel' 'Madrid' 'Oslo' )

array::join ', ' "${my_array[@]}"
array::join '*' {1..9} | bc # 1*2*3*4*5*6*7*8*9=362880 Factorial 9

declare -a null_array=()

array::join '== Ultimate separator of nothing ==' "${null_array[@]}" 
```

输出：

```
Paris, Berlin, London, Brussel, Madrid, Oslo
362880 
```**

# sql-server - SQL Server 触发器以确定 crud 来源

> ID：13470416
> 
> 赞同：0
> 
> 时间：2012-11-20T09:45:16.273
> 
> 标签：sql-server

我有一个 Web 应用程序和它在我的客户端构建的数据库。我想知道是否出于任何原因从我的“某人”应用程序中执行的 CRUD（创建、更新、删除）操作是从 SQL Server Management Studio 完成的。

提前致谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-20T09:52:25.297

您可以在要审核的表上定义更新/插入触发器，然后修改[此 MSDN 文章](http://msdn.microsoft.com/en-us/library/ms189770.aspx)中的以下代码`AppName()`：

```
DECLARE @CurrentApp varchar(40)
SET @CurrentApp = APP_NAME()
IF @CurrentApp <> 'SQL Server Management Studio - Query'
PRINT 'This process was not started by a SQL Server Management Studio query session.'; 
```

我相信它可能会受到欺骗，因为我认为程序可以在连接字符串中指定应用程序名称。

# vim - 我不希望 Del 按钮拉出已删除的字符

> ID：13470417
> 
> 赞同：2
> 
> 时间：2012-11-20T09:45:17.807
> 
> 标签：vim

我不希望“删除”按钮拉出我删除的字符。

我可以举个例子：

将一些行剪切并粘贴到其他地方时。

```
code
code
code

code2
code2
code2 
```

我想在`code`下面剪切并粘贴它`code2`。我的习惯是首先对 3 行代码执行操作，然后`x`删除按钮之间的空白行= > 这样做时，我的寄存器更改为空行。`code``code2``delete`

有人有建议吗？谢谢

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-20T09:52:35.523

使用“黑洞寄存器”：

```
"_d 
```

要删除这些空白行，请在*可视*模式下选择它们并使用上面的命令。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-11-20T10:00:34.030

每当您在 Vim 中剪切或复制某些内容时`'x'`，`'y'`例如，它都会被复制到寄存器中。当您使用 粘贴某些内容时`'p'`，您始终粘贴寄存器堆栈的顶部元素 ( `""`)。

查看寄存器堆栈类型中的所有元素`:reg`

```
""   abc
"0   efg
"1   hij 
```

寄存器以`"`符号开头。要粘贴注册`"1`：（`"1p`将复制`'hij'`）。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-20T09:50:29.643

我相信，你唯一能做的就是在你的 yank 和 put 前加上，例如`"a`，在你的 delete 上加上`"b`，这样它们就可以在不同的寄存器上运行。

# codeigniter - 在带有分页的 Codeigniter 中基于查询显示结果

> ID：13470422
> 
> 赞同：1
> 
> 时间：2012-11-20T09:45:31.687
> 
> 标签：codeigniter, pagination

我有一张产品表。我需要展示所有产品。我在不同的条件下获取结果。

```
create table `products` (
    `id` double ,
    `category_id` double ,
    `subcategory_id` double ,
    `product_name` varchar (765),
    `product_description` varchar (765),
    `product_viewed` varchar (765),
    `sale_wanted` tinyint (2),
    `added_date` datetime ,
    `updated_date` datetime ,
); 
```

我需要像这样显示结果

```
1\. The latest products (use of added date)
2\. Most Wanted (Sorting by sale_wanted 1 for sale , 2 for wanted)
3\. Most Viewed (Sorting by product_viewed)
4\. Sorting by Specific Subcategory 
```

所有结果都应显示分页。如果我首先得到结果，这没关系。但是，如果我使用分页链接，所有条件数据都会丢失，并且查询会在没有任何条件的情况下获取结果。我该如何处理这种情况。请我不需要代码我需要提示和建议。另一件事是我正在使用 Codeigniter 的分页类。

已编辑

这是我正在使用的模型方法

```
public function getProductsList($per_page=5,$page=0)
{
    $info   =   $this->input->post();

    if(isset($info['type']))
    {
        $type   =   $info['type'];

        if($type == 'most_wanted'){
            $where      =   " AND sale_wanted = 1";
            $order_by   =   " ORDER BY ldc.added_date desc";
        }else if($type == 'most_viewed'){
            $where      =   " ";
            $order_by   =   " ORDER BY ldc.product_viewed desc";            
        }else{
            $where      =   " ";
            $order_by   =   " ORDER BY ldc.added_date desc";                
        }
    }else if(isset($info['sale_wanted'])   AND isset($info['subcategory_id'])){
        $sale_wanted        =   $info['sale_wanted'];
        $subcategory_id =   $info['subcategory_id'];
        $where      =   " AND sale_wanted = $sale_wanted AND ldc.subcategory_id = $subcategory_id";
        $order_by   =   " ORDER BY  ldc.added_date desc";   
    }else if(isset($info['keyword'])){
            $keyword    =   $info['keyword'];
            $search_type    =   $info['search_type'];
            $where      =   " AND ldc.$search_type like '$keyword%'";
            $order_by   =   " ";        
    }else{
            $where      =   " ";
            $order_by   =   " ";            
    }           

    $num    =   0;

    if($page != 0){
        $num    =   ($page * $per_page) - $per_page;
    }

    $sql_query  =   "
                SELECT 
                    ldc.id,
                    ldc.product_name,
                    ldc.product_viewed,
                    DATE_FORMAT(ldc.added_date, '%m/%d/%Y') as added_date,
                    ifnull(dc.name,'Unknown') as category,
                    dpi.product_image           
                FROM default_products AS ldc
                LEFT JOIN default_manufacturers as dm ON dm.id = ldc.manufacturer
                LEFT JOIN default_category as dc ON dc.category_id = ldc.category_id
                LEFT JOIN ((select product_id , product_image from default_product_images group by product_id) as dpi)
                    ON dpi.product_id = ldc.id
                WHERE   approved = 1
                $where
                $order_by
                LIMIT $num,$per_page
        ";

    $query  =   $this->db->query($sql_query);
    return  $query->result();
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T18:29:29.333

我强烈推荐这两个关于 codeigniter 分页的免费教程 -
视频教程、工作示例代码（可能需要将代码更新到 CI 2.1），甚至在评论中提供一些有用的信息。

从头开始的 CodeIgniter：显示和排序表格数据 [http://net.tutsplus.com/tutorials/php/codeigniter-from-scratch-displaying-sorting-tabular-data/](http://net.tutsplus.com/tutorials/php/codeigniter-from-scratch-displaying-sorting-tabular-data/)

从头开始的 CodeIgniter：没有查询字符串的搜索结果 [http://net.tutsplus.com/tutorials/php/codeigniter-from-scratch-search-results-without-query-strings-2/](http://net.tutsplus.com/tutorials/php/codeigniter-from-scratch-search-results-without-query-strings-2/)

# php - PHP：从类中的另一个函数调用变量

> ID：13470428
> 
> 赞同：1
> 
> 时间：2012-11-20T09:46:00.863
> 
> 标签：php, class

这是我的课程代码：

```
class myClass
{

   public function myFunc()
   {
      $myvar   =  'Test str';
   }

   public function result()
   {
      echo myClass::myFunc()->$myvar;
   }
} 
```

我用这个：

```
 $nCls = new myClass;
   $nCls->result(); 
```

显示`Test str`形式`myFunc()`但没有显示。我认为问题是：

```
echo myClass::myFunc()->$myvar; 
```

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-20T09:51:38.260

你混淆了很多概念。

首先，您必须创建一个新的 class 对象`myClass`：

```
$nCls = new myClass(); 
```

然后，您可以调用该类的成员函数（方法）：

```
$nCls->result(); 
```

在`result()`中，您只需使用以下方法调用其他方法`$this`：

```
public function result()
{
   echo $this->myFunc();
} 
```

但请注意，这没有任何作用。该变量`$myvar`是本地的，而不是类属性。我建议您阅读[面向对象的编程](http://en.wikipedia.org/wiki/Object-oriented_programming)，尤其是[面向对象的 PHP](http://php.net/manual/en/language.oop5.php)。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-20T09:55:42.387

```
class myClass {
    public $myvar;
    public function myFunc() {
        $this->myvar = 'Test str';
        return $this;
    }

    public function result() {
        echo $this->myFunc()->myvar;
    }
}

$nCls = new myClass;
$nCls->result(); 
```

您可以这样做，但这不是一个好习惯。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-20T09:49:03.597

问题是范围，您不能在另一个函数中调用变量，为类定义一个属性并从函数中设置它，然后使用以下命令检索该属性`result()`：

```
class myClass
{
   public $myvar;

   public function myFunc()
   {
      $this->myvar   =  'Test str';
   }

   public function result()
   {
      echo $this->myvar;
   }
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-20T09:49:20.443

问题是您`$myvar` *仅*在 method 范围内声明`myFunc()`。这意味着它在该方法之外不可见。改为将其声明为类成员：

```
class myClass
{

   private $myvar;

   public function myFunc()
   {
      $this->myvar   =  'Test str';
   }

   public function result()
   {
      echo myClass::myFunc()->$myvar;
   }
} 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-10-23T11:36:20.050

```
include "views.php";
class Controller extends views{

    function index(){
        $this->head();  
        $this->home();
    }
    function privacy(){
        $this->head();
        $this->privc();
    }
    function about(){
        $this->head();
        $this->abt();
    }
    function address(){
        $this->head();
        $this->add();
    }
}
$obj=new Controller();

if(isset($_GET['fun'])){
    $obj->$_GET['fun']();
}
else{
    $obj->index();  
}

   This is views.php code

   class views{
    function head(){
        include "views/header.php";
        echo "<br>this is header";  
    }
    function abt(){
        include "views/about.php";
        echo "<br>This is about us page";   
    }
    function home(){
        include "views/home.php";
        echo "<br>This is Home page";
    }
    function privc(){
        include "views/privacy.php";
        echo "<br>This is privacy page";
    }
    function add(){
        include "views/address.php";
        echo "<br>This is address page";
    }

} 
```

# c# - 在 Compact Framework 中隐藏标题栏

> ID：13470429
> 
> 赞同：2
> 
> 时间：2012-11-20T09:46:06.487
> 
> 标签：c#, windows-mobile, compact-framework

我在一个 Windows 移动项目中工作。由于某些项目要求，我需要隐藏表单的标题栏，但没有找到表单的任何属性来这样做。

任何建议将不胜感激。

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-22T14:26:21.920

隐藏您必须使用的表单标题栏

```
this.WindowState = FormWindowState.Maximized; 
```

如果您也想隐藏菜单栏，请使用

```
this.Menu = null; 
```

![在此处输入图像描述](../Images/31ff5e317c826185d811fdfa6c36177e.png) ![在此处输入图像描述](../Images/c176c6b1cd74419598a5b0211cbe0bb2.png) ![在此处输入图像描述](../Images/0d50e0c3c20dae93f7ec2c41d0cb95e5.png)

通常，Windows Mobile 窗体没有标题，但窗体的标题（标题文本）显示为顶部栏的一部分。

~约瑟夫

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T09:52:50.177

考虑到您正在使用 WPF 使用 Winforms，您可以尝试考虑一下：-

```
this.ControlBox = false;
this.Text = string.Empty; 
```

否则，您可以将 FormBorderStyle 设置为 None。

或者你可以试试这个： -

```
this.ShowInTaskBar = false; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-20T15:18:38.070

我没有为 WindowsMo​​bile 开发过，但我为 Windows CE 开发过。在 Windows CE 中，我会执行以下操作来隐藏窗口标题栏。

1.  FormBorderStyle 设置为无
2.  控制框 - 假
3.  最小化框 - 假
4.  最大化框 - 假

试试看

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-01T10:31:59.073

对于window CE 设备，您可以尝试这些属性来隐藏标题栏。

**最高====> TRUE**

**窗口状态 =====> 正常**

**FormBorderStyle ====> 无**

希望它会帮助你... :)

# android - Android Sqlite 错误 android.database.sqlite.SQLiteCantOpenDatabaseException: 无法打开数据库文件

> ID：13470432
> 
> 赞同：1
> 
> 时间：2012-11-20T09:46:15.163
> 
> 标签：android, sqlite

当我使用 Galaxy tab 2 (4.0.3) 测试应用程序时出现此错误，但是当我使用 Galaxy SI (2.3.6) 和 Akai (4.0.3) 测试它时它可以工作。

我们使用了已经创建的数据库，当应用程序启动时，我会将它从助手复制到数据库目录（如果不存在）

```
 11-20 11:20:05.170: I/SqliteDatabaseCpp(12921): sqlite returned: error code = 11, msg = database corruption at line 48112 of [ed759d5a9e], db=/data/data/com.xprts.mobilesales/databases/testDB
11-20 11:20:05.170: I/SqliteDatabaseCpp(12921): sqlite returned: error code = 11, msg = database disk image is malformed, db=/data/data/com.xprts.mobilesales/databases/testDB
11-20 11:20:05.170: E/SqliteDatabaseCpp(12921): sqlite3_exec - Failed to set synchronous mode = 1(Normal) 
11-20 11:20:05.170: E/DefaultDatabaseErrorHandler(12921): Corruption reported by sqlite on database: /data/data/com.xprts.mobilesales/databases/MobileSales.DB
11-20 11:20:05.170: E/DefaultDatabaseErrorHandler(12921): deleting the database file: /data/data/com.xprts.mobilesales/databases/MobileSales.DB
11-20 11:20:05.170: I/SqliteDatabaseCpp(12921): sqlite returned: error code = 14, msg = cannot open file at line 27803 of [ed759d5a9e], db=/data/data/com.xprts.mobilesales/databases/testDB
11-20 11:20:05.170: I/SqliteDatabaseCpp(12921): sqlite returned: error code = 14, msg = os_unix.c: open() at line 27803 - "" errno=2 path=/data/data/com.xprts.mobilesales/databases/MobileSales.DB, db=/data/data/com.xprts.mobilesales/databases/testDB
11-20 11:20:05.170: E/SqliteDatabaseCpp(12921): sqlite3_open_v2("/data/data/com.xprts.mobilesales/databases/MobileSales.DB", &handle, 2, NULL) failed
11-20 11:20:05.170: I/SqliteDatabaseCpp(12921): sqlite returned: error code = 14, msg = cannot open file at line 27803 of [ed759d5a9e], db=/data/data/com.xprts.mobilesales/databases/testDB
11-20 11:20:05.170: I/SqliteDatabaseCpp(12921): sqlite returned: error code = 14, msg = os_unix.c: open() at line 27803 - "" errno=2 path=/data/data/com.xprts.mobilesales/databases/MobileSales.DB, db=/data/data/com.xprts.mobilesales/databases/testDB
11-20 11:20:05.170: E/SqliteDatabaseCpp(12921): sqlite3_open_v2("/data/data/com.xprts.mobilesales/databases/MobileSales.DB", &handle, 1, NULL) failed
11-20 11:20:05.178: E/SQLiteDatabase(12921): Failed to open the database. closing it.
11-20 11:20:05.178: E/SQLiteDatabase(12921): android.database.sqlite.SQLiteCantOpenDatabaseException: unable to open database file
11-20 11:20:05.178: E/SQLiteDatabase(12921):    at android.database.sqlite.SQLiteDatabase.dbopen(Native Method)
11-20 11:20:05.178: E/SQLiteDatabase(12921):    at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:1124)
11-20 11:20:05.178: E/SQLiteDatabase(12921):    at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:1075)
11-20 11:20:05.178: E/SQLiteDatabase(12921):    at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:1135)
11-20 11:20:05.178: E/SQLiteDatabase(12921):    at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:1075)
11-20 11:20:05.178: E/SQLiteDatabase(12921):    at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:1051)
11-20 11:20:05.178: E/SQLiteDatabase(12921):    at com.xprts.mobilesales.database.DBAdapter.checkDataBase(DBAdapter.java:118)
11-20 11:20:05.178: E/SQLiteDatabase(12921):    at com.xprts.mobilesales.database.DBAdapter.createDataBase(DBAdapter.java:89)
11-20 11:20:05.178: E/SQLiteDatabase(12921):    at com.xprts.mobilesales.database.DBAdapter.access$0(DBAdapter.java:87)
11-20 11:20:05.178: E/SQLiteDatabase(12921):    at com.xprts.mobilesales.database.DBAdapter$1.run(DBAdapter.java:32)
11-20 11:20:05.178: E/SQLiteDatabase(12921):    at java.lang.Thread.run(Thread.java:856) 
```

**解决方案**

* * *

终于可以了，我的数据库已损坏（仅在 Galaxy Tab 2[中](http://sqljet.com)）

```
CREATE TABLE [MB_DEVICE_SEQUENCES] (
[COMP_ID] TEXT(10)  NOT NULL,
[DEVICE_CODE] TEXT(10)  NOT NULL,
[SEQ_TYPE] TEXT(4000) DEFAULT '''10''' NOT NULL,
[COMP_YEAR] NUMERIC(4)  NOT NULL,
[SEQ_CODE] TEXT(10)  NOT NULL,
[DEVICE_SEQ_FROM_NUMBER] NUMERIC(20)  NOT NULL,
[DEVICE_SEQ_TO_NUMBER] NUMERIC(20)  NOT NULL,
[DEVICE_SEQ_INTERVAL] TEXT(20)  NULL,
[DEVICE_SEQ_CONSUMED_COUNT] NUMERIC(20)  NULL,
PRIMARY KEY ([COMP_ID],[DEVICE_CODE],[SEQ_TYPE],[COMP_YEAR],[SEQ_CODE],[DEVICE_SEQ_FROM_NUMBER])
) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T09:50:03.623

确保文件复制成功完成，复制后您的数据库已损坏。

也可能是您的现有数据库中没有必要的元数据。您是否按照[此处的步骤进行操作？](http://zaman91.wordpress.com/2010/09/22/android-how-to-use-own-sqlite-database/)

# java - Eclipse Java，将文本从 ISO-8859-1 转换为 UTF-8

> ID：13470435
> 
> 赞同：2
> 
> 时间：2012-11-20T09:46:18.393
> 
> 标签：java, eclipse, encoding, utf-8, iso-8859-1

在 Eclipse 中，我有很多带有斯堪的纳维亚字符的 Java 代码。当使用编码 ISO-8859-1 时，一切看起来都很好。但是，当编码设置为 UTF-8 时，我会得到很多奇怪的符号而不是扫描字符。由于环境原因，我们需要使用 UTF-8。

如果不手动将符号更改回斯堪的纳维亚字符（无法区分符号下的字符），有没有办法在“批量”或其他方式中进行此更改？批处理后，scandic 字符将以 UTF-8 正确显示。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T10:25:41.823

好的，我找到了适用于 Windows 的解决方案。UTFCast Express 是一个很棒的小 UI 工具，它支持通过输入一个或多个文件夹或单个源来转换为 UTF-8。强烈推荐！

# java - 每个线程使用 JMeter 中 CSV 数据集中的同一行

> ID：13470441
> 
> 赞同：2
> 
> 时间：2012-11-20T09:46:43.710
> 
> 标签：java, csv, jmeter, load-testing

我想制定一个测试计划`JMeter`如下：

我有一个特定的网络服务器流程：

```
Req1  
Reply for Req1  
Req2  
Reply for Req2  
Req2  
Reply for Req2    
etc 
```

我需要将这些作为**单个**流运行，即*每个线程*从头到尾执行此操作（而**不是** 由不同的线程发送）。 我还需要在每次迭代中发送不同的参数，所以我使用了. `Req1``Req2`
`CSV data set`

**问题：**
我需要为每个线程的所有请求从 CSV 发送同一行。

**例如：**
如果我有以下 CSV：

```
john,A1111,engineer  
bill,A2111,manager  
mary,C1111,secretary 
```

我需要在所有请求中将第一行发送到线程 1 到最后一个请求的**所有**流中，并在**所有**请求等 `Req1`中通过线程 2 发送第二行。

 **这可能吗？我尝试将相同的 CSV 文件添加到我的所有控制器，但仍然无法按预期工作。

**更新：**
我感兴趣的是让每个线程消耗 CSV 文件中的 1 行，并为我的流程中的**所有请求“缓存”该行。**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T17:13:33.053

实现场景的最简单方法如下：

```
**Test Group**
Number of Threads = N
    **CSV Data Set Config**
    Filename: ... (your csv-file here)
    Variable Names: name,id,position       // (as per your csv sample above)
    Delimiter: ,
    Recycle on EOF = True
    Stop Thread on EOF = False
    Sharing Mode = All threads
    **Simple Controller**  // that's optional: simply to group your requests flow
        **Sampler 01**     // use ${name}, ${id}, ${position} variables to refer extracted values
        **Sampler 02**
        ...
        **Sampler X** 
```

*   `Number of Threads = N`将启动 N 个线程；
*   `Sharing Mode = All threads`或者`Sharing Mode = Current thread group`将强制每个线程从 csv 读取单独的行，然后在所有后续采样器中使用提取的值；
*   `Recycle on EOF = True`如果线程数 N > csv 中的条目数，将回收您的 csv。**

# c# - 正确反序列化分层 XML

> ID：13470446
> 
> 赞同：2
> 
> 时间：2012-11-20T09:46:55.213
> 
> 标签：c#, .net

我无法在我的 C# 类上反序列化以下 xml 文件。反序列化后，我看不到 Corteges 列表。它是空的。但不会产生异常。其他属性还可以。我的错误在哪里？

```
<?xml version="1.0" encoding="UTF-8"?>
<Registry>
<HKEY_CURRENT_USER>
    <Path Name="Name1">
        <Binary Name="Name3" Value="ZGVmYXVsdA=="/>
        <Binary Name="Name5" Value="ZGVmYXVsdA=="/>
        <DWord32 Name="Name7" Value="0"/>
        <DWord32 Name="Name9" Value="0"/>
        <DWord64 Name="Name11" Value="-1073741773"/>
        <DWord64 Name="Name13" Value="-1073741773"/>
        <Text Name="Name15" Value="Value1"/>
        <Text Name="Name17" Value="Value3"/>
        <ExpandText Name="Name19" Value="Value5"/>
        <ExpandText Name="Name21" Value="Value7"/>
        <MultylineText Name="Name23" Value="Value9"/>
        <MultylineText Name="Name25" Value="Value11"/>
        <Binary Name="Name27" Value="ZGVmYXVsdA=="/>
        <Binary Name="Name29" Value="ZGVmYXVsdA=="/>
        <DWord32 Name="Name31" Value="0"/>
        <DWord32 Name="Name33" Value="0"/>
        <DWord64 Name="Name35" Value="-1073741773"/>
        <DWord64 Name="Name37" Value="-1073741773"/>
        <Text Name="Name39" Value="Value13"/>
        <Text Name="Name41" Value="Value15"/>
        <ExpandText Name="Name43" Value="Value17"/>
        <ExpandText Name="Name45" Value="Value19"/>
        <MultylineText Name="Name47" Value="Value21"/>
        <MultylineText Name="Name49" Value="Value23"/>
    </Path>
    <Path Name="Name51">
        <Binary Name="Name53" Value="ZGVmYXVsdA=="/>
        <Binary Name="Name55" Value="ZGVmYXVsdA=="/>
        <DWord32 Name="Name57" Value="0"/>
        <DWord32 Name="Name59" Value="0"/>
        <DWord64 Name="Name61" Value="-1073741773"/>
        <DWord64 Name="Name63" Value="-1073741773"/>
        <Text Name="Name65" Value="Value25"/>
        <Text Name="Name67" Value="Value27"/>
        <ExpandText Name="Name69" Value="Value29"/>
        <ExpandText Name="Name71" Value="Value31"/>
        <MultylineText Name="Name73" Value="Value33"/>
        <MultylineText Name="Name75" Value="Value35"/>
        <Binary Name="Name77" Value="ZGVmYXVsdA=="/>
        <Binary Name="Name79" Value="ZGVmYXVsdA=="/>
        <DWord32 Name="Name81" Value="0"/>
        <DWord32 Name="Name83" Value="0"/>
        <DWord64 Name="Name85" Value="-1073741773"/>
        <DWord64 Name="Name87" Value="-1073741773"/>
        <Text Name="Name89" Value="Value37"/>
        <Text Name="Name91" Value="Value39"/>
        <ExpandText Name="Name93" Value="Value41"/>
        <ExpandText Name="Name95" Value="Value43"/>
        <MultylineText Name="Name97" Value="Value45"/>
        <MultylineText Name="Name99" Value="Value47"/>
    </Path>
</HKEY_CURRENT_USER>
<HKEY_CLASSES_ROOT>
    <Path Name="Name101">
        <Binary Name="Name103" Value="ZGVmYXVsdA=="/>
        <Binary Name="Name105" Value="ZGVmYXVsdA=="/>
        <DWord32 Name="Name107" Value="0"/>
        <DWord32 Name="Name109" Value="0"/>
        <DWord64 Name="Name111" Value="-1073741773"/>
        <DWord64 Name="Name113" Value="-1073741773"/>
        <Text Name="Name115" Value="Value49"/>
        <Text Name="Name117" Value="Value51"/>
        <ExpandText Name="Name119" Value="Value53"/>
        <ExpandText Name="Name121" Value="Value55"/>
        <MultylineText Name="Name123" Value="Value57"/>
        <MultylineText Name="Name125" Value="Value59"/>
        <Binary Name="Name127" Value="ZGVmYXVsdA=="/>
        <Binary Name="Name129" Value="ZGVmYXVsdA=="/>
        <DWord32 Name="Name131" Value="0"/>
        <DWord32 Name="Name133" Value="0"/>
        <DWord64 Name="Name135" Value="-1073741773"/>
        <DWord64 Name="Name137" Value="-1073741773"/>
        <Text Name="Name139" Value="Value61"/>
        <Text Name="Name141" Value="Value63"/>
        <ExpandText Name="Name143" Value="Value65"/>
        <ExpandText Name="Name145" Value="Value67"/>
        <MultylineText Name="Name147" Value="Value69"/>
        <MultylineText Name="Name149" Value="Value71"/>
    </Path>
    <Path Name="Name151">
        <Binary Name="Name153" Value="ZGVmYXVsdA=="/>
        <Binary Name="Name155" Value="ZGVmYXVsdA=="/>
        <DWord32 Name="Name157" Value="0"/>
        <DWord32 Name="Name159" Value="0"/>
        <DWord64 Name="Name161" Value="-1073741773"/>
        <DWord64 Name="Name163" Value="-1073741773"/>
        <Text Name="Name165" Value="Value73"/>
        <Text Name="Name167" Value="Value75"/>
        <ExpandText Name="Name169" Value="Value77"/>
        <ExpandText Name="Name171" Value="Value79"/>
        <MultylineText Name="Name173" Value="Value81"/>
        <MultylineText Name="Name175" Value="Value83"/>
        <Binary Name="Name177" Value="ZGVmYXVsdA=="/>
        <Binary Name="Name179" Value="ZGVmYXVsdA=="/>
        <DWord32 Name="Name181" Value="0"/>
        <DWord32 Name="Name183" Value="0"/>
        <DWord64 Name="Name185" Value="-1073741773"/>
        <DWord64 Name="Name187" Value="-1073741773"/>
        <Text Name="Name189" Value="Value85"/>
        <Text Name="Name191" Value="Value87"/>
        <ExpandText Name="Name193" Value="Value89"/>
        <ExpandText Name="Name195" Value="Value91"/>
        <MultylineText Name="Name197" Value="Value93"/>
        <MultylineText Name="Name199" Value="Value95"/>
    </Path>
</HKEY_CLASSES_ROOT>
<HKEY_LOCAL_MACHINE>
    <Path Name="Name201">
        <Binary Name="Name203" Value="ZGVmYXVsdA=="/>
        <Binary Name="Name205" Value="ZGVmYXVsdA=="/>
        <DWord32 Name="Name207" Value="0"/>
        <DWord32 Name="Name209" Value="0"/>
        <DWord64 Name="Name211" Value="-1073741773"/>
        <DWord64 Name="Name213" Value="-1073741773"/>
        <Text Name="Name215" Value="Value97"/>
        <Text Name="Name217" Value="Value99"/>
        <ExpandText Name="Name219" Value="Value101"/>
        <ExpandText Name="Name221" Value="Value103"/>
        <MultylineText Name="Name223" Value="Value105"/>
        <MultylineText Name="Name225" Value="Value107"/>
        <Binary Name="Name227" Value="ZGVmYXVsdA=="/>
        <Binary Name="Name229" Value="ZGVmYXVsdA=="/>
        <DWord32 Name="Name231" Value="0"/>
        <DWord32 Name="Name233" Value="0"/>
        <DWord64 Name="Name235" Value="-1073741773"/>
        <DWord64 Name="Name237" Value="-1073741773"/>
        <Text Name="Name239" Value="Value109"/>
        <Text Name="Name241" Value="Value111"/>
        <ExpandText Name="Name243" Value="Value113"/>
        <ExpandText Name="Name245" Value="Value115"/>
        <MultylineText Name="Name247" Value="Value117"/>
        <MultylineText Name="Name249" Value="Value119"/>
    </Path>
    <Path Name="Name251">
        <Binary Name="Name253" Value="ZGVmYXVsdA=="/>
        <Binary Name="Name255" Value="ZGVmYXVsdA=="/>
        <DWord32 Name="Name257" Value="0"/>
        <DWord32 Name="Name259" Value="0"/>
        <DWord64 Name="Name261" Value="-1073741773"/>
        <DWord64 Name="Name263" Value="-1073741773"/>
        <Text Name="Name265" Value="Value121"/>
        <Text Name="Name267" Value="Value123"/>
        <ExpandText Name="Name269" Value="Value125"/>
        <ExpandText Name="Name271" Value="Value127"/>
        <MultylineText Name="Name273" Value="Value129"/>
        <MultylineText Name="Name275" Value="Value131"/>
        <Binary Name="Name277" Value="ZGVmYXVsdA=="/>
        <Binary Name="Name279" Value="ZGVmYXVsdA=="/>
        <DWord32 Name="Name281" Value="0"/>
        <DWord32 Name="Name283" Value="0"/>
        <DWord64 Name="Name285" Value="-1073741773"/>
        <DWord64 Name="Name287" Value="-1073741773"/>
        <Text Name="Name289" Value="Value133"/>
        <Text Name="Name291" Value="Value135"/>
        <ExpandText Name="Name293" Value="Value137"/>
        <ExpandText Name="Name295" Value="Value139"/>
        <MultylineText Name="Name297" Value="Value141"/>
        <MultylineText Name="Name299" Value="Value143"/>
    </Path>
</HKEY_LOCAL_MACHINE>
<HKEY_USERS>
    <Path Name="Name301">
        <Binary Name="Name303" Value="ZGVmYXVsdA=="/>
        <Binary Name="Name305" Value="ZGVmYXVsdA=="/>
        <DWord32 Name="Name307" Value="0"/>
        <DWord32 Name="Name309" Value="0"/>
        <DWord64 Name="Name311" Value="-1073741773"/>
        <DWord64 Name="Name313" Value="-1073741773"/>
        <Text Name="Name315" Value="Value145"/>
        <Text Name="Name317" Value="Value147"/>
        <ExpandText Name="Name319" Value="Value149"/>
        <ExpandText Name="Name321" Value="Value151"/>
        <MultylineText Name="Name323" Value="Value153"/>
        <MultylineText Name="Name325" Value="Value155"/>
        <Binary Name="Name327" Value="ZGVmYXVsdA=="/>
        <Binary Name="Name329" Value="ZGVmYXVsdA=="/>
        <DWord32 Name="Name331" Value="0"/>
        <DWord32 Name="Name333" Value="0"/>
        <DWord64 Name="Name335" Value="-1073741773"/>
        <DWord64 Name="Name337" Value="-1073741773"/>
        <Text Name="Name339" Value="Value157"/>
        <Text Name="Name341" Value="Value159"/>
        <ExpandText Name="Name343" Value="Value161"/>
        <ExpandText Name="Name345" Value="Value163"/>
        <MultylineText Name="Name347" Value="Value165"/>
        <MultylineText Name="Name349" Value="Value167"/>
    </Path>
    <Path Name="Name351">
        <Binary Name="Name353" Value="ZGVmYXVsdA=="/>
        <Binary Name="Name355" Value="ZGVmYXVsdA=="/>
        <DWord32 Name="Name357" Value="0"/>
        <DWord32 Name="Name359" Value="0"/>
        <DWord64 Name="Name361" Value="-1073741773"/>
        <DWord64 Name="Name363" Value="-1073741773"/>
        <Text Name="Name365" Value="Value169"/>
        <Text Name="Name367" Value="Value171"/>
        <ExpandText Name="Name369" Value="Value173"/>
        <ExpandText Name="Name371" Value="Value175"/>
        <MultylineText Name="Name373" Value="Value177"/>
        <MultylineText Name="Name375" Value="Value179"/>
        <Binary Name="Name377" Value="ZGVmYXVsdA=="/>
        <Binary Name="Name379" Value="ZGVmYXVsdA=="/>
        <DWord32 Name="Name381" Value="0"/>
        <DWord32 Name="Name383" Value="0"/>
        <DWord64 Name="Name385" Value="-1073741773"/>
        <DWord64 Name="Name387" Value="-1073741773"/>
        <Text Name="Name389" Value="Value181"/>
        <Text Name="Name391" Value="Value183"/>
        <ExpandText Name="Name393" Value="Value185"/>
        <ExpandText Name="Name395" Value="Value187"/>
        <MultylineText Name="Name397" Value="Value189"/>
        <MultylineText Name="Name399" Value="Value191"/>
    </Path>
</HKEY_USERS>
<HKEY_CURRENT_CONFIG>
    <Path Name="Name401">
        <Binary Name="Name403" Value="ZGVmYXVsdA=="/>
        <Binary Name="Name405" Value="ZGVmYXVsdA=="/>
        <DWord32 Name="Name407" Value="0"/>
        <DWord32 Name="Name409" Value="0"/>
        <DWord64 Name="Name411" Value="-1073741773"/>
        <DWord64 Name="Name413" Value="-1073741773"/>
        <Text Name="Name415" Value="Value193"/>
        <Text Name="Name417" Value="Value195"/>
        <ExpandText Name="Name419" Value="Value197"/>
        <ExpandText Name="Name421" Value="Value199"/>
        <MultylineText Name="Name423" Value="Value201"/>
        <MultylineText Name="Name425" Value="Value203"/>
        <Binary Name="Name427" Value="ZGVmYXVsdA=="/>
        <Binary Name="Name429" Value="ZGVmYXVsdA=="/>
        <DWord32 Name="Name431" Value="0"/>
        <DWord32 Name="Name433" Value="0"/>
        <DWord64 Name="Name435" Value="-1073741773"/>
        <DWord64 Name="Name437" Value="-1073741773"/>
        <Text Name="Name439" Value="Value205"/>
        <Text Name="Name441" Value="Value207"/>
        <ExpandText Name="Name443" Value="Value209"/>
        <ExpandText Name="Name445" Value="Value211"/>
        <MultylineText Name="Name447" Value="Value213"/>
        <MultylineText Name="Name449" Value="Value215"/>
    </Path>
    <Path Name="Name451">
        <Binary Name="Name453" Value="ZGVmYXVsdA=="/>
        <Binary Name="Name455" Value="ZGVmYXVsdA=="/>
        <DWord32 Name="Name457" Value="0"/>
        <DWord32 Name="Name459" Value="0"/>
        <DWord64 Name="Name461" Value="-1073741773"/>
        <DWord64 Name="Name463" Value="-1073741773"/>
        <Text Name="Name465" Value="Value217"/>
        <Text Name="Name467" Value="Value219"/>
        <ExpandText Name="Name469" Value="Value221"/>
        <ExpandText Name="Name471" Value="Value223"/>
        <MultylineText Name="Name473" Value="Value225"/>
        <MultylineText Name="Name475" Value="Value227"/>
        <Binary Name="Name477" Value="ZGVmYXVsdA=="/>
        <Binary Name="Name479" Value="ZGVmYXVsdA=="/>
        <DWord32 Name="Name481" Value="0"/>
        <DWord32 Name="Name483" Value="0"/>
        <DWord64 Name="Name485" Value="-1073741773"/>
        <DWord64 Name="Name487" Value="-1073741773"/>
        <Text Name="Name489" Value="Value229"/>
        <Text Name="Name491" Value="Value231"/>
        <ExpandText Name="Name493" Value="Value233"/>
        <ExpandText Name="Name495" Value="Value235"/>
        <MultylineText Name="Name497" Value="Value237"/>
        <MultylineText Name="Name499" Value="Value239"/>
    </Path>
</HKEY_CURRENT_CONFIG> 
```

```
[Serializable]
[XmlRoot("Registry")]
public class Registry
{
    [XmlElement(typeof(HKEY_CURRENT_USER)),
     XmlElement(typeof(HKEY_CLASSES_ROOT)),
     XmlElement(typeof(HKEY_LOCAL_MACHINE)),
     XmlElement(typeof(HKEY_USERS)),
     XmlElement(typeof(HKEY_CURRENT_CONFIG))]
    public List<Section> Sections { get; set; }
}

[Serializable]
[XmlInclude(typeof(HKEY_CURRENT_USER))
,XmlInclude(typeof(HKEY_CLASSES_ROOT))
,XmlInclude(typeof(HKEY_LOCAL_MACHINE))
,XmlInclude(typeof(HKEY_USERS))
,XmlInclude(typeof(HKEY_CURRENT_CONFIG))]
public class Section
{
    [XmlElement("Path")]
    public List<Brunch> Branches { get; set; }
}

[Serializable]
[XmlRoot("HKEY_CURRENT_USER")]
public class HKEY_CURRENT_USER : Section { }

[Serializable]
[XmlRoot("HKEY_CLASSES_ROOT")]
public class HKEY_CLASSES_ROOT : Section { }

[Serializable]
[XmlRoot("HKEY_LOCAL_MACHINE")]
public class HKEY_LOCAL_MACHINE : Section { }

[Serializable]
[XmlRoot("HKEY_USERS")]
public class HKEY_USERS : Section { }

[Serializable]
[XmlRoot("HKEY_CURRENT_CONFIG")]
public class HKEY_CURRENT_CONFIG : Section { }

[Serializable]
[XmlRoot("Path")]
public class Brunch
{
    [XmlAttribute("Name")]
    public string Name { get; set; }

    [XmlElement(typeof(BinaryCortege)),
     XmlElement(typeof(TextCortege)),
     XmlElement(typeof(ExpandedTextCortege)),
     XmlElement(typeof(MultylineTextCortege)),
     XmlElement(typeof(IntCortege)),
     XmlElement(typeof(LongCortege))]
    public List<Cortege> Corteges { get; set; } 
}

[Serializable]
[XmlInclude(typeof(LongCortege))
,XmlInclude(typeof(IntCortege))
,XmlInclude(typeof(TextCortege))
,XmlInclude(typeof(MultylineTextCortege))
,XmlInclude(typeof(ExpandedTextCortege))
,XmlInclude(typeof(BinaryCortege))]
public class Cortege
{
    [XmlIgnore]
    public CortegeTypeEnum CortegeType { get; protected set; }

    [XmlAttribute("Name")]
    public string Name { get; set; }

    [XmlAttribute("Value")]
    public string Value { get; set; }
}

[Serializable]
[XmlRoot("DWord64")]
public class LongCortege : Cortege
{
    public LongCortege()
    {
        CortegeType = CortegeTypeEnum.LongType;
    }
}

[Serializable]
[XmlRoot("DWord32")]
public class IntCortege : Cortege
{
    public IntCortege()
    {
        CortegeType = CortegeTypeEnum.IntType;
    }
}

[Serializable]
[XmlRoot("MultylineText")]
public class MultylineTextCortege : Cortege
{
    public MultylineTextCortege()
    {
        CortegeType = CortegeTypeEnum.MultilineTextType;
    }
}

[Serializable]
[XmlRoot("ExpandText")]
public class ExpandedTextCortege : Cortege
{
    public ExpandedTextCortege()
    {
        CortegeType = CortegeTypeEnum.ExpandedTextType;
    }
}

[Serializable]
[XmlRoot("Text")]
public class TextCortege : Cortege
{
    public TextCortege()
    {
        CortegeType = CortegeTypeEnum.TextType;
    }
}

[Serializable]
[XmlRoot("Binary")]
public class BinaryCortege : Cortege
{
    public BinaryCortege()
    {
        CortegeType = CortegeTypeEnum.BinaryTextType;
    }
}

public enum CortegeTypeEnum
{
    IntType,
    LongType,
    TextType,
    ExpandedTextType,
    MultilineTextType,
    BinaryTextType
} 
```

PS 我曾尝试使用 XSD.exe，但我不喜欢它的类。

PPS对不起我的英语不好

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T11:22:54.057

明确指定 ElementName 似乎对我有用，即

```
[Serializable]
[XmlRoot("Path")]
public class Brunch
{
    [XmlAttribute("Name")]
    public string Name { get; set; }

    [XmlElement(typeof(BinaryCortege), ElementName="Binary"),
        XmlElement(typeof(TextCortege), ElementName = "Text"),
        XmlElement(typeof(ExpandedTextCortege), ElementName = "ExpandText"),
        XmlElement(typeof(MultylineTextCortege), ElementName = "MultylineText"),
        XmlElement(typeof(IntCortege), ElementName = "DWord32"),
        XmlElement(typeof(LongCortege), ElementName="DWord64")]
    public List<Cortege> Corteges { get; set; }
} 
```

# asp.net-mvc - mvc 3 DateTime 属性模型 默认值

> ID：13470447
> 
> 赞同：0
> 
> 时间：2012-11-20T09:46:57.743
> 
> 标签：asp.net-mvc, asp.net-mvc-3

我的模型类中有 DateTime 属性，

然后在视图中我正在使用：

```
 @Html.TextBoxFor(m => m.BirthDay, new {@disabled="true" , @value="" }) 
```

在我的 View TextBox Displayed as [01/01/0001 00:00:00] 中，如何强制它为 Empty ？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-20T10:51:36.540

DateTime 的默认值 = 01/01/0001 00:00:00

这是因为 DateTime 是一个结构而不是一个对象。这也适用于其他一些 C# 变量，例如默认值 = 0 的 Int

默认情况下，其他 C# 变量（如 String）可以为空，因为它们是一个对象。

要使这些结构可以为空，您需要在变量声明中添加一个 QuestionMark，例如

```
public DateTime? BirthDay { get; set; } 
```

现在您的 DateTime 可以包含空值。并且您的文本框的值将默认不包含任何内容

* * *

在结构中添加`?`是 C# 中的糖，用于`Nullable<T>`结构的位置`T`。
所以`DateTime?`可以改写为`Nullable<DateTime>`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-20T10:32:04.740

这能行吗？型号变化：

```
public DateTime? BirthDay {get; set;} 
```

代替

```
public DateTime BirthDay {get; set;} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-20T10:54:37.293

这会做到的。

```
@Html.TextBox("BirthDay", "", new {@disabled="true" }) 
```

它不是强类型的，`TextBox`所以你可以设置任何你想要的值，在另一个方向上的绑定将正常工作，

[Html.Textbox VS Html.TextboxFor](https://stackoverflow.com/questions/5908523/html-textbox-vs-html-textboxfor)

# google-maps - 谷歌地图工作正常，但是，

> ID：13470451
> 
> 赞同：4
> 
> 时间：2012-11-20T09:47:03.600
> 
> 标签：google-maps, extjs, touch

我在我的 Sencha 触摸应用程序中放置谷歌地图时遇到问题.. 以下是代码..

```
 new Ext.application({
                name:'Touch Start',
            launch:function(){
        var map = new Ext.Panel({
     fulscreen:true,
     items:[
     {
    xtype:'map',
    useCurrentLocation:true,

    }
    ]
    });
this.viewport = map;
 }
 }); 
```

好吧，它工作正常并发出警报“应用程序支持/iPhone 模拟器/5.1/Applictios/887ED997-705D-4F52-AF9C-C740C0979302/maps/app/www/index.html”想使用您当前的位置..

但是当我点击确定时，除了空白屏幕之外什么都没有发生..如果有人对此有一些想法，请提供帮助..thanx提前

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T11:28:16.777

您正在使用需要特定文件夹结构 的[Ext.aplication 。](http://docs.sencha.com/touch/2-1/#!/api/Ext.app.Application)

要使您的示例正常工作，只需编写：

```
var map = new Ext.Panel({
    fullscreen:true,
    items:[{
        xtype:'map',
        useCurrentLocation:true
    }]
}); 
```

PS：全屏是2个L

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-20T11:58:05.743

除了[@A1rPun](https://stackoverflow.com/users/1449624/a1rpun)答案：

您的应用配置有错误：

```
name:'Touch Start', 
```

是无效的！

采用

```
name:'TouchStart', 
```

反而。不允许使用空格。请注意，这是来自您的命名空间！使用上面的那个，您的应用程序无法加载/解析任何视图、模型、控制器或存储。

# wordpress - 没有在 Wordpress 搜索过滤器中返回帖子

> ID：13470454
> 
> 赞同：0
> 
> 时间：2012-11-20T09:47:23.590
> 
> 标签：wordpress, posts, meta

我正在编写一个 Wordpress 查询来过滤搜索结果。

我想使用模板（以及两个受限类别）删除`logged_in_mentor_only_template.php`结果`logged_in_only_template.php`。

此查询有效，但停止返回任何帖子。很奇怪，页面被返回但帖子没有。（我还没有添加类别过滤，因为我没有要过滤的帖子！）

我尝试添加 post_type 过滤器，其中列出了帖子和页面，但仍然没有。

任何帮助表示赞赏。

```
 query_posts(array_merge($wp_the_query->query, array(
    'meta_query' => array(
        array(
            'key' => '_wp_page_template',
            'value' => 'logged_in_mentor_only_template.php',
            'compare' => '!='
        ),
        array(
            'key' => '_wp_page_template',
            'value' => 'logged_in_only_template.php',
            'compare' => '!='
        )
    )
))); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T10:03:27.963

您搜索`_wp_page_template`Posts 不会有任何`_wp_page_template`.
所以它只会获取页面。因为它只会返回有`_wp_page_template`集合的帖子/页面。所以你需要检查一个不存在的元键。

在 WP 3.5 中，将添加[比较](http://codex.wordpress.org/Class_Reference/WP_Query#Custom_Field_Parameters)值“不存在”。

在 3.5 之前，我建议进行以下工作。不要添加这些元查询值。但是在循环中检查它们：

```
while (the_posts()): the_post();
    if (get_post_meta(GET_THE_ID(), '_wp_page_template', true) == 'logged_in_mentor_only_template.php' || get_post_meta(GET_THE_ID(), '_wp_page_template', true) == 'logged_in_mentor_only_template.php')
        continue; // skipp the rest of this round
    //Do the rest of your loop
endwhile; 
```

第二种选择是获取所有具有模板的**帖子**。
从此查询中获取所有 ID。
然后执行一个新的 wp_query，在其中排除先前获取的查询的 ID。

**最佳选择**
这些变通办法对性能不利。
最好的选择是等待几周等待 WP 3.5，它应该在 12 月的某个地方发布。

# version-control - TeamCity 6 + Github：为分支配置 VCS root

> ID：13470455
> 
> 赞同：1
> 
> 时间：2012-11-20T09:47:25.940
> 
> 标签：version-control, github, continuous-integration, branch, teamcity

我们将 TeamCity 6 与 Github Enterprise 一起使用。我们当前的项目有很多分支。构建配置的当前设置是我们为每个分支创建一个新的 VCS 根。

这似乎不是我们应该这样做的方式。

有没有一种方法可以定义一个指向我们的 Github 存储库的 VCS 根目录，然后为每个构建配置它？

我看过这篇文章：[我应该将 TeamCity 的 VCS 根指向哪里？](https://stackoverflow.com/questions/1560969/to-where-should-i-point-the-vcs-root-of-teamcity)

但不确定这是否也适用于 Github？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T10:10:12.797

TeamCity 7 支持 Git 功能分支，它将自动构建与模式匹配的所有分支，有关更多详细信息，请参阅文档：http: [//confluence.jetbrains.net/display/TCD7/Working+with+Feature+Branches](http://confluence.jetbrains.net/display/TCD7/Working+with+Feature+Branches)

如果您只想拥有一个 VCS 根并手动创建每个构建配置，您可以`%BRANCH_NAME%`在分支名称字段中拥有一个带有宏的单个 VCS 根，然后在每个构建的属性中设置一个相同的属性name 到您的分支名称，TeamCity 将找到正确的分支。

# android - 将NDK项目导入eclipse会创建多个项目

> ID：13470461
> 
> 赞同：2
> 
> 时间：2012-11-20T09:47:44.010
> 
> 标签：android, eclipse, android-ndk, eclipse-juno

我正在尝试`import`将[**Linephone**](http://www.linphone.org/eng/download/) 项目转换为 eclipse，并且`eclipse is showing multiple projects instead of just one project`.

![在此处输入图像描述](../Images/47d3f49971f19a7b2ac3b1ddb6cec0e9.png)

我已经尝试创建一个新的工作集，但它并没有解决问题。

eclipse发布版本为`Juno`，[ADT插件](http://developer.android.com/tools/sdk/eclipse-adt.html)版本为20.0.3。

为什么要将项目拆分为不同的项目，我该怎么`import the project into a single project`办？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-28T15:09:59.983

`org.linphone.LinphoneLauncherActivity`似乎是主要项目。其余的似乎是依赖项/测试。您必须导入所有项目，然后将依赖项添加到`LinphoneLauncherActivity`项目中，直到项目中没有显示依赖错误（红色警告标志）

# dust.js - 在客户端动态编译 .dust 文件

> ID：13470463
> 
> 赞同：2
> 
> 时间：2012-11-20T09:47:49.013
> 
> 标签：dust.js

我正在尝试在 Spring MVC 框架中使用客户端的dustJS 模板。如何在运行项目之前编译所有 .dust 文件？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-21T07:27:05.333

您可以在构建时（或在启动应用程序之前）编译所有灰尘模板并将它们保存为 JS。然后在需要时加载它们，使用它们，`dust.loadSource`一旦加载它们就可以渲染它们。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-07-17T14:41:44.270

如果您使用 Grunt 来运行构建任务，那么您可以使用灰尘编译器插件（如下）即时编译您的灰尘模板：

[https://www.npmjs.org/package/grunt-dust-compiler](https://www.npmjs.org/package/grunt-dust-compiler)

# ruby-on-rails - 在 Rails 模块上使用 cancan

> ID：13470465
> 
> 赞同：0
> 
> 时间：2012-11-20T09:47:56.510
> 
> 标签：ruby-on-rails, ruby-on-rails-3, cancan

只是一个非常简单的问题，我在 rails 的 lib 文件夹中有一个模块。

在该模块上，如果我们执行 Company.accessible_by(current_ability) 之类的操作，则会出现名称错误，其中 current_ability 未定义。

有人知道解决这个问题的方法吗？由于 current_ability 似乎只在控制器中识别。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T09:53:20.893

您需要将 current_ability 传入模块。与会话和参数数据（以及 current_user，如果您使用设计）一样，您无法访问您自己创建的这些内部模型或类。

这实际上是一件好事，因为您不希望您的业务对象依赖于 Web 堆栈。这些东西的一般方法（也适用于模型）是使用您传入的 current_ability 的引用来构造对象，或者在方法调用本身上构造对象。这是一些示例代码：

```
class Foo
  def initialize(ability)
     @current_ability = ability
  end

  def list_companies
    Company.accessible_by(@current_ability)
  end
end 
```

或者，如果您只需要一次通话：

```
class Foo
  def list_companies(current_ability)
    Company.accessible_by(current_ability)
  end
end 
```

这两种情况都完全有效，并且允许您使用 Mock 能力对象轻松测试代码。

# c++ - 使用 tesseract 在图片中的单词周围画一个矩形

> ID：13470466
> 
> 赞同：0
> 
> 时间：2012-11-20T09:47:55.337
> 
> 标签：c++, ocr, tesseract

我想知道如何在我的 c++ 应用程序中使用 tesseract-ocr 围绕段落图片中的单词绘制一个矩形。我也想从图片中裁剪一些单词！任何想法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T14:11:45.267

我搜索并尝试过，所以我发现了这个：

```
tesseract::TessBaseAPI api;
 api.Init("", "eng", tesseract::OEM_DEFAULT);
 api.SetPageSegMode(static_cast<tesseract::PageSegMode>(7));
 api.SetOutputName("out");

 cout<<"File name:";
 char image[256];
 cin>>image;
 const PIX   *pixs = pixRead(image);

 STRING text_out;
 api.SetImage(pixs);
 //api.ProcessPages(image, NULL, 0, &text_out);
 //text_out = api.GetUTF8Text();
 cout<<text_out.string();

 //box
    Boxa* bounds = api.GetWords(NULL); 
    l_int32 count = bounds->n;
    for(int i=0; i<count; i++)
    { 
        Box* b = bounds->box[i]; 
        int x = b->x; 
        int y = b->y; 
        int w = b->w; 
        int h = b->h; 
    cout<<x<<" "<<y<<" "<<w<<" "<<h<<endl;
    } 
```

这将导致矩形左下角的 (x,y) 也是 w 是宽度，h 是矩形的高度。

# sockets - 如何使用 python 从网络上的设备捕获数据？

> ID：13470467
> 
> 赞同：1
> 
> 时间：2012-11-20T09:48:02.740
> 
> 标签：sockets, network-programming, python-2.7, access-control, hid

我有一个**HID Edge ER40**网络非接触式阅读器，连接到与我正在使用的 PC 相同的网络。当读卡器扫描卡片时，我想使用**Python 程序**从读卡器捕获数据。
我在网络编程方面没有经验，所以想获得与该设备连接的提示和想法。
我知道设备的 IP 和主机 IP 地址以及 PC 的 IP 地址。

*   我怎么知道该设备的插座号。
*   python的哪些模块适合这个过程？

我可以使用 HID VertX Discovery GUI 查看网络中的所有设备状态。
请使用示例和文档进行指导。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-21T11:10:57.123

首先，您知道“套接字号”的概念是无效的。知道某个机器 x 上的描述符的值不允许您从中读取数据。您必须使用标准库在接口级别上执行此操作。

其次，会有很多库可供选择，例如 libpcap、pypcap、scapy 等。

看一下[python数据包嗅探](https://stackoverflow.com/questions/462439/packet-sniffing-in-python-windows)

但是，这里要理解的重要概念是，*您对嗅探其他机器的流量的控制有限*。所有上述库要么可靠地从同一台机器嗅探流量，要么它们以混杂模式嗅探，例如，如果它们是 LAN 上的路由器/交换机，则可以看到通过这台运行嗅探器的机器的所有客户端机器的流量。所有其他没有通过你的，将不可见。

这是我在本地机器上进行一些数据包嗅探时编写的一些[scapy 代码示例。](https://stackoverflow.com/q/13017797/986760)您必须安装包并在 python 中导入才能正常工作。

# iphone - 无法在正确的时刻从 appDelegate 获取 deviceToken

> ID：13470473
> 
> 赞同：0
> 
> 时间：2012-11-20T09:48:27.403
> 
> 标签：iphone, ipad, appdelegate

我在情节提要中有一个初始视图控制器，名为`LoadAppViewController`. 在 viewDidAppear 方法的视图控制器中，我向服务器发送请求以更新手机上的数据。

现在的事情是 - 在这个请求中，我发送一个设备令牌用于推送通知。但是，正如我注意到的，它发送 Null 而不是设备令牌。据我了解，问题是在执行方法 viewDidAppear 之后调用 AppDelegate 类。

我的问题是 - 我该如何解决这个问题？顺便说一句 - 这个问题只有当我在 iPad 上运行应用程序时才会出现，在 iPhone 上的 viewDidAppear 类 AppDelegate 方法已经被调用并且一切都很好。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T10:52:42.113

设备令牌不依赖于任何视图控制器的加载时间或屏幕显示时间。

从 applicationDidFinishedLaunching，您应该触发从苹果获取设备令牌的请求。那么你需要等到你得到响应（或者 - 失败/成功）当你的代表被成功调用时：

```
- (void)application:(UIApplication *)application didRegisterForRemoteNotificationsWithDeviceToken:(NSData *)deviceToken 
```

然后继续您将设备令牌发送到服务器的进一步过程。

# javascript - 可丢弃不工作

> ID：13470475
> 
> 赞同：-4
> 
> 时间：2012-11-20T09:48:34.347
> 
> 标签：javascript, jquery, jquery-ui

我正在尝试使可拖动和可放置的工作正常，而其中的放置部分不起作用。

```
$(function(){
    $(".draggable").draggable();
    $("#dashboard").droppable({
        drop: function(){
            alert("HEY!");
        }
    });
}); 
```

我在哪里犯错？

HTML-

```
<div class="leftSide">
    LeftSide
    <div id="favouritesDashboard" class="dashboard dashBoardIn">
         Dashboard
    </div>
</div>
<div class="center">
   Center
   <div class="draggable">
      DraggableTest
   </div> 
```

这也可能是版本兼容性的问题-

```
 <script src= "https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js" type="text/javascript"></script>

 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.9.1/jquery-ui.min.js" type="text/javascript"></script> 
```

那里的其他代码-

```
$(dashboard).click(function(){
    console.log("HELLO");
    if($(dashboard).hasClass("dashBoardIn")){
        $(dashboard).removeClass("dashBoardIn");
    $(dashboard).addClass("dashBoardOut");
    $(".dashboard").stop().animate({'marginLeft':'-2px'},200);
} else{
    if($(dashboard).hasClass("dashBoardOut")){
        $(dashboard).removeClass("dashBoardOut");
        $(dashboard).addClass("dashBoardIn");
    $(".dashboard").stop().animate({'marginLeft':'-85px'},200);
    }
}
}); 
```

回答-

好的，结果我需要添加一个“接受” - 像这样

```
 $("#favouritesDashboard").droppable({
    accept:".draggable",
    drop: function() {
        console.log("HEY!");
    }
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T10:36:39.367

好的，所以我需要添加一个接受 -

```
$("#favouritesDashboard").droppable({
    accept:".draggable",
    drop: function() {
        console.log("HEY!");
    }
}); 
```

这样可行。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T09:54:29.063

您正在使用 id 而不是 class - 更改：

```
$("#dashboard").droppable({ 
```

为此（或使用#favouritesDashboard id 而不仅仅是#dashboard）：

```
$(".dashboard").droppable({ 
```

工作演示：http: [//jsbin.com/ovamaf/1/](http://jsbin.com/ovamaf/1/)

如果它仍然不起作用，则说明您的设置有问题（例如，您没有正确嵌入 jquery 或 jquery ui。请检查您的控制台是否有错误。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-20T09:56:01.083

没有 id `#dashboard`，我认为`#favouritesDashboard`应该是 droppable

我觉得应该是

```
$(function(){
    $(".draggable").draggable();
    $("#favouritesDashboard").droppable({
        drop: function(){
            alert("HEY!");
        }
    });
}); 
```

# c++ - 回调中的类型安全

> ID：13470476
> 
> 赞同：1
> 
> 时间：2012-11-20T09:48:33.883
> 
> 标签：c++, callback

> **可能重复：**
> [回调的缺陷](https://stackoverflow.com/questions/5829483/callbacks-flaws)

我在 Qt 文档中读到：

> 回调有两个基本缺陷：首先，它们不是类型安全的。我们永远无法确定处理函数是否会使用正确的参数调用回调。

我不确定为什么我们不能确定回调参数的正确性。它们不是类型安全的吗，因为在我写的这样的例子中：

```
void callback( int a ) {
    printf( "something" );
}

void ourProcessingFunc( void ( *cb )( int ) ) {
    cb( 'a' );
}

int main() {
    ourProcessingFunc( callback );

    return 0;
} 
```

我们可以将 int 以外的参数传递给回调（在 ourProcessingFunc 中）吗？例如 char 或 long 等？还是因为其他原因它们不是类型安全的？抱歉这个愚蠢的问题，我想确定一下。

# cuda - Cuda 线程和循环

> ID：13470477
> 
> 赞同：2
> 
> 时间：2012-11-20T09:48:37.607
> 
> 标签：cuda

我对 CUDA 有一些不明白的地方。我知道有称为线程的“虚拟”变量。

在对内核进行编程时，线程变量会自动运行，并且内核会为每个线程一遍又一遍地运行。（到目前为止正确吗？）

现在，如果我编写这样的程序：

```
for (int i = 0 ; i<100; i++){
....
} 
```

它是否为每个线程一遍又一遍地运行？还是只有一次？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-20T10:07:16.430

您放入内核函数的每个代码（以 为前缀`__global__`）都将由所有并发线程（线程数量在内核启动时指定）执行。在内核体中，您可以根据线程的全局标识符或局部标识符来区分线程的计算：

对于一维（可能是您的情况）：

本地标识符：`int tid = threadIdx.x`

全局标识符：`int tid = blockIdx.x*blockDim.x + threadIdx.x`

***进一步说明：***

如果你有这个内核：

```
 __global__ void dummy(int *out){
      for(int i=0; i<100; i++){
        ...
      }
    } 
```

并且您想启动 4096 个并发线程，您应该将线程组织成线程块（以利用局部性并解决硬件限制）。如果将 4096 个线程分解为 256 个线程的线程块，则可以通过以下方式运行大量线程来执行`dummy`函数：

```
dummy<<<4096/256, 256>>>(output_array); 
```

该`dummy`函数将由 4096 个线程执行，每个线程一个，串行或并行取决于硬件（真正的 GPU）。您应该假设所有线程都在并行运行。如上所述，您可以使用线程标识符（全局）区分线程的计算。

# c# - 从选定的单选按钮获取文本

> ID：13470478
> 
> 赞同：0
> 
> 时间：2012-11-20T09:48:38.627
> 
> 标签：c#, asp.net, button, radio, radgridview

我收到错误：对象引用未设置为对象的实例。这里是代码

```
 <asp:radiobuttonlist id="JAN" runat="server">
              <asp:listitem id="radL" runat="server" value="L" />
              <asp:listitem id="radP" runat="server" value="P" />
              </asp:radiobuttonlist> 
```

后面的代码：

```
 protected void RadGrid1_InsertCommand(object source, Telerik.Web.UI.GridCommandEventArgs e)
                    {
                      try
                    {
                      GridEditableItem editedItem = e.Item as GridEditableItem;
                      RadioButtonList JAN = (RadioButtonList)editedItem.FindControl("JAN");
                       string GENDER = JAN.SelectedValue;

                       foreach (ListItem item in JAN.Items)
                       { 
                         if (item.Selected)
                       {
                          GENDER = item.Value;
                        } 
                      } 
                      SqlConnection conn1 = BusinessTier.getConnection();
                      conn1.Open();
                      int flg = BusinessTier.SavePersonalInfo(conn1, 1,JAN.SelectedItem.Value,)
                      BusinessTier.DisposeConnection(conn1); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T11:20:33.460

该错误可能是因为，1）您没有检查 RadioButtonList 是否为空。错误是因为您没有获得 RadioButtonList 的引用。检查以下代码：

```
protected void RadGrid1_InsertCommand(object source, Telerik.Web.UI.GridCommandEventArgs e)
                {
                  try
                {
                  GridEditableItem editedItem = e.Item as GridEditableItem;
                  RadioButtonList JAN = (RadioButtonList)editedItem.FindControl("JAN");

                 **// add below code**
                  if(JAN==null)
                  {
                     // print some error message..
                     return;
                   }

                   string GENDER = JAN.SelectedValue;

                   foreach (ListItem item in JAN.Items)
                   { 
                     if (item.Selected)
                   {
                      GENDER = item.Value;
                    } 
                  } 
                  SqlConnection conn1 = BusinessTier.getConnection();
                  conn1.Open();
                  int flg = BusinessTier.SavePersonalInfo(conn1, 1,JAN.SelectedItem.Value,)
                  BusinessTier.DisposeConnection(conn1); 
```

2）并且您已将所选项目值直接传递给某个函数。

```
int flg = BusinessTier.SavePersonalInfo(conn1, 1,JAN.SelectedItem.Value,) 
```

但是可能会选择多个项目。

# spring - 与 Spring 和 JPA 的远程实体关系（休眠）

> ID：13470479
> 
> 赞同：0
> 
> 时间：2012-11-20T09:48:40.977
> 
> 标签：spring, hibernate, jpa, remoteobject, spring-remoting

我有 2 个数据库。第一个是我们公司 ERP 的数据库，第二个是我的应用程序的数据库。

我需要在我的应用程序中使用来自 ERP 数据库的同步客户表数据。现在我每小时用石英作业同步表格。通过这种方式，我有一个本地客户表，并且在我的订单中创建外键列没有问题。

未来，开发新的应用程序，这种策略不会是一个好的解决方案（假设是现在..）。对于以这种方式工作的每个应用程序，我将拥有客户表的本地副本和同步过程。

因此，我正在考虑使用带有远程接口的 spring-remoting 来实现远程支持应用程序，以吸引客户。这个远程应用程序连接到 ERP 数据库，我所有的应用程序都会调用远程服务来获取数据。

现在我的问题是：

1.  这可能是一个好方法还是有更好的方法来实现它？

2.  如何在我的订单中引用客户实体？按照这个解决方案，我不再有本地客户表了。我想我可以在域类中做：

    ```
    @Entity
    public class Order{

        ....

        private Integer customerId; 

        @Transient 
        private Customer customer;

        ...
    } 
    ```

    并在每次我通过调用远程服务加载 Order 对象时绑定瞬态客户。所以例如在我的 OrderServiceImpl

    ```
    @Transactional
    public Order getOrder(Integer id){
        Order order = orderDao.get(id);
        order.setCustomer(customerRemoteService.getCustomerById(order.getCustomerId()));
        return order;
    } 
    ```

我想知道您是否可以给我意见或更好的解决方案！

非常感谢！！！！！马可

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T13:42:46.010

您可以直接访问 ERP 数据库，否则您必须去扔另一个应用程序？

如果您可以直接访问数据库，则可以使用 EclipseLink 的 Composite Persistence Unit 支持将实体映射到多个数据库。

[http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Advanced_JPA_Development/Composite_Persistence_Units](http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Advanced_JPA_Development/Composite_Persistence_Units)

# java - 将文本显示到另一个类的标签 - JFrame

> ID：13470481
> 
> 赞同：0
> 
> 时间：2012-11-20T09:48:46.547
> 
> 标签：java, swing

我有一个 GUI 屏幕，里面有一个标签。我现在想用如下所示的文本设置标签 ( `Test`)。但它没有得到更新。我认为以下代码中有错误，我在 try 块中重新创建 FrameTest 的新对象；

```
FrameTest frame = new FrameTest();
frame.setVisible(true); //(the full code given below) 
```

完整代码：注意：以下类是从**JFrame扩展而来的**

```
import java.awt.BorderLayout;

public class FrameTest extends JFrame {

    private JPanel contentPane;
    private JLabel lblLabel;

    public  void mainScreen() {
        EventQueue.invokeLater(new Runnable() {
            public void run() {
                try {
                    FrameTest frame = new FrameTest();
                    frame.setVisible(true);
                } catch (Exception e) {
                    e.printStackTrace();
                }
            }
        });
    }

    public void writeLabel(String k){
        this.lblLabel.setText(k);

    }

    public FrameTest() {
        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        setBounds(100, 100, 450, 300);
        contentPane = new JPanel();
        contentPane.setBorder(new EmptyBorder(5, 5, 5, 5));
        contentPane.setLayout(new BorderLayout(0, 0));
        setContentPane(contentPane);

        lblLabel = new JLabel("LABEL");
        contentPane.add(lblLabel, BorderLayout.CENTER);
    }

} 
```

测试班

```
public class Test {

    public static void main(String[] args) {

         FrameTest f = new FrameTest();
         f.mainScreen();
         f.writeLabel("FFFFF");
}} 
```

帮助，我怎样才能让文本`"FFFFF"`显示到标签上？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-20T09:54:35.517

将方法添加到您的 FrameTest

```
public String readLabel(){
       return this.lblLabel.getText();
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-20T10:02:34.280

在您的程序中，您创建了一个与您在例程中创建的不同`mainScreen()`的新文件，因此它实际上是在更改不可见框架的文本。试试这个：`FrameTest``main`

```
private FrameTest frame = this;

public  void mainScreen() {
    EventQueue.invokeLater(new Runnable() {
        public void run() {
                frame.setVisible(true);
        }
    });
} 
```

或者简单地说：

```
public  void mainScreen() {
    EventQueue.invokeLater(new Runnable() {
        public void run() {
                setVisible(true);
        }
    });
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-20T10:03:54.593

将 mainScreen() 函数更改为

```
public  void mainScreen() {
        EventQueue.invokeLater(new Runnable() {
            public void run() {
                try {
                    setVisible(true);
                } catch (Exception e) {
                    e.printStackTrace();
                }
            }
        });
    } 
```

其余代码相同

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-20T10:02:43.687

将 try 块替换为；

```
 try {
                setVisible(true);
            } catch (Exception e) {
                e.printStackTrace();
            } 
```

一切正常！

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-20T09:57:07.227

您使用代码的方式不会触发重新绘制框架或标签。在 Swing 中，您可以更改许多 Gui 对象，但它们只会在请求时在一个批次中重绘。自动重绘最常见的情况是在您从事件处理程序返回之后。（例如按钮点击或按键）

# php - php上传图片到目录

> ID：13470482
> 
> 赞同：4
> 
> 时间：2012-11-20T09:48:48.703
> 
> 标签：php

我一直在试验php的上传功能，我一直在看w3school上的这个教程。

```
http://www.w3schools.com/php/php_file_upload.asp

I installed this script on MYDOMAIN.com/New.html

<html>
<body>

<form action="upload_file.php" method="post"
enctype="multipart/form-data">
<label for="file">Filename:</label>
<input type="file" name="file" id="file"><br>
<input type="submit" name="submit" value="Submit">
</form>

</body>
</html> 
```

然后我把这个片段放在 MYDOMAIN.com/upload_file.php

```
<?php
$allowedExts = array("jpg", "jpeg", "gif", "png");
$extension = end(explode(".", $_FILES["file"]["name"]));
if ((($_FILES["file"]["type"] == "image/gif")
|| ($_FILES["file"]["type"] == "image/jpeg")
|| ($_FILES["file"]["type"] == "image/png")
|| ($_FILES["file"]["type"] == "image/pjpeg"))
&& ($_FILES["file"]["size"] < 20000)
&& in_array($extension, $allowedExts))
  {
  if ($_FILES["file"]["error"] > 0)
    {
    echo "Error: " . $_FILES["file"]["error"] . "<br>";
    }
  else
    {
    echo "Upload: " . $_FILES["file"]["name"] . "<br>";
    echo "Type: " . $_FILES["file"]["type"] . "<br>";
    echo "Size: " . ($_FILES["file"]["size"] / 1024) . " kB<br>";
    echo "Stored in: " . $_FILES["file"]["tmp_name"];
    }
  }
else
  {
  echo "Invalid file";
  }
?> 
```

现在很有可能我只是一个非常困惑的人，但我认为应该做的是将我放入 New.html 文件的文件，如果它是一个图像文件，将它上传到我的目录，而不是它的只是输出无效文件我不知道该怎么做任何帮助非常希望很快能收到回复谢谢

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-11-20T10:09:34.237

您的脚本的问题是您可能正在尝试上传比您的限制更高的文件！您指定了一个非常低的最大文件大小！打印出您的 $_FILES 变量以获取有关问题的信息；）

但是，为了将文件移动到您的文件夹，您仍然需要使用[move_uploaded_file](http://it2.php.net/manual/en/function.move-uploaded-file.php)：

```
$allow = array("jpg", "jpeg", "gif", "png");

$todir = 'uploads/';

if ( !!$_FILES['file']['tmp_name'] ) // is the file uploaded yet?
{
    $info = explode('.', strtolower( $_FILES['file']['name']) ); // whats the extension of the file

    if ( in_array( end($info), $allow) ) // is this file allowed
    {
        if ( move_uploaded_file( $_FILES['file']['tmp_name'], $todir . basename($_FILES['file']['name'] ) ) )
        {
            // the file has been moved correctly
        }
    }
    else
    {
        // error this file ext is not allowed
    }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-20T09:56:43.010

我认为上传图像的最佳方法是复制图像并存储在文件夹中，然后将图像的新位置存储到数据库中。

要移动文件，我们可以使用 move_uploaded_file 函数

```
$oldpath = $_FILES['image']['tmp_name'];
$newpath ="new_folder_location/".$_FILES['image']['name'];
move_uploaded_file($oldpath, $newpath); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-20T10:02:20.260

您的验证代码正在检查扩展名、mime 类型和文件大小。

您可能正在上传扩展名中包含大写字符的文件。当你检查扩展名时，你检查它区分大小写，`.JPG`是一个有效的图像文件扩展名，所以你应该让你的检查不区分大小写：

```
if ((($_FILES["file"]["type"] == "image/gif")
|| ($_FILES["file"]["type"] == "image/jpeg")
|| ($_FILES["file"]["type"] == "image/png")
|| ($_FILES["file"]["type"] == "image/pjpeg"))
&& ($_FILES["file"]["size"] < 20000)
&& in_array(strtolower($extension), $allowedExts))
         // ^ added strtolower() 
```

如果这不是直接的问题，那么文件太大或 MIME 类型错误。要调试，请使用以下命令查看 files 数组：

```
print_r($_FILES); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-20T10:03:42.563

我会说问题在于如果，那里有很多条件（“无效文件”也是那个 if 的 Else 部分），尝试简化它以跟踪问题，乍一看我会说这是因为大小检查：

```
&& ($_FILES["file"]["size"] < 20000) 
```

大约 20Kb，对于图像来说非常小，如果您要上传照片，请尝试设置更高的值或取出该条件并查看脚本是否有效

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-20T09:57:01.080

发生这种情况是因为以下表达式的计算结果为 false：

```
(($_FILES["file"]["type"] == "image/gif")
|| ($_FILES["file"]["type"] == "image/jpeg")
|| ($_FILES["file"]["type"] == "image/png")
|| ($_FILES["file"]["type"] == "image/pjpeg"))
&& ($_FILES["file"]["size"] < 20000)
&& in_array($extension, $allowedExts) 
```

这意味着要么

*   文件类型不正确（不是 GIF/JPEG/PNG/PNJPEG 文件）
*   文件大于 20000 字节
*   文件扩展名不正确（不是“jpg”、“jpeg”、“gif”、“png”）

我的猜测是文件大小 - 大幅增加。将其更改为以下内容以允许最大 10 MB 的大小：

```
&& ($_FILES["file"]["size"] < 10485760) 
```

查看问题的最佳方法是将此行添加到脚本的开头：

```
var_dump($_FILES); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2016-06-01T01:01:23.827

我同意 Ivo 的回答，但我认为您可以像这样更改下一段代码：

```
$typePicture = array('jpg','png','jpeg','gif');

// Allow certain file formats

if($typePicture[0] != "jpg" || $typePicture[1] != "png" || $typePicture[2] != "jpeg" || $typePicture[3] != "gif" ) 
{
    echo "Sorry, only JPG, JPEG, PNG & GIF files are allowed.";
    $uploadOk = 0;
} 
```

# zend-framework - 如何使用 Google Calendar API 更新日期和时间

> ID：13470491
> 
> 赞同：1
> 
> 时间：2012-11-20T09:49:25.693
> 
> 标签：zend-framework, frameworks, google-calendar-api

我怎么能更新日期和时间.. 一切都很好，除了日期和时间。每次更新后，它们都是相同的，从未改变过。你认为我的错误在哪里？

这是我用来更新事件的函数。

```
 function updateEvent ($client, $eventId, $newTitle, 
        $newDesc, $newWhere, $newStartDate, 
        $newStartTime, $newEndDate, $newEndTime, 
        $tzOffset)
            {   
                $gdataCal = new Zend_Gdata_Calendar($client);
                if ($eventOld = getEvent($client, $eventId)) {
                $eventOld->title = $gdataCal->newTitle($newTitle);
                $eventOld->where = array($gdataCal->newWhere($newWhere));
                $eventOld->content = $gdataCal->newContent("$newDesc");

                $when = $gdataCal->newWhen();

                if ($newStartTime!='' && $newEndTime!=''){
                  $when->startTime = "{$newStartDate}T{$newStartTime}:00.000{$tzOffset}:00";
                  $when->endTime = "{$newEndDate}T{$newEndTime}:00.000{$tzOffset}:00";
                }else {
                  $when->startTime = $newStartDate;
                  $when->endTime = $newEndDate;
                }

                try {
                  $eventOld->save();
                } catch (Zend_Gdata_App_Exception $e) {
                  var_dump($e);
                  return null;
                }
                  return 1;
              } else {
                return 0;
              }
            }

            if($_POST) {

              updateEvent($client, $id, $_POST['nameBg'], $_POST['descrBg'], $_POST['place'],
               $_POST['dateStart'],
               $_POST['dateEnd'],
               $_POST['timeStart'],
               $_POST['timeEnd'],
               '+02');

        $this->_helper->FlashMessenger->addMessage(array('success' => $this->_translate->_('Everything is OK.')));

        return $this->_helper->redirector->gotoRoute(array_merge($this->_urlCommon, array('action' => 'list')), 'lang-admin', true);

            } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T11:49:12.793

我发现我的问题出在哪里。实际上，当我调用 updateEvent() 时，我已经更改了 timeStart 和 dateEnd 的位置。

# ruby-on-rails - 是否可以将 Guard 与并行测试结合使用？

> ID：13470493
> 
> 赞同：8
> 
> 时间：2012-11-20T09:49:27.247
> 
> 标签：ruby-on-rails, rspec, cucumber, guard

我一直在寻找使用某种并行测试与我当前的[Guard](https://github.com/guard/guard)设置相结合来加快测试速度的方法。[Guard-Hydra](https://github.com/johnbintz/guard-hydra)似乎是一个好的开始，但[Hydra gem](https://github.com/ngauthier/hydra)本身不再维护，作者将人们引导到[parallel_tests](https://github.com/grosser/parallel_tests)。

并行测试似乎非常好。我使用通常的 rake 任务在命令行上运行它，但我自己无法编写适当的警卫扩展。我对搜索“guard parallel_tests”时缺少可用信息感到相当惊讶。当然，我不是唯一一个有兴趣加快测试速度的多核 PC 的 Rails 开发人员吗？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-01-15T05:26:25.907

我已经在guard-rspec 上实现了这个选项

[https://github.com/guard/guard-rspec/pull/150](https://github.com/guard/guard-rspec/pull/150)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2016-03-13T19:16:51.300

现在，guard-rspec 的自述文件中有一些关于如何在此处执行此操作的信息[https://github.com/guard/guard-rspec](https://github.com/guard/guard-rspec)（右下角查看）。截至撰写本文时，它看起来如下（注意附加参数中的逗号）

```
rspec_options = {
  cmd: "bundle exec rspec",
  run_all: {
    cmd: "bundle exec parallel_rspec -o '",
    cmd_additional_args: "'"
  }
}
guard :rspec, rspec_options do
# (...) 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-21T14:40:31.240

实际上，我最近调查了这个并没有找到解决方案。这似乎很奇怪，因为真正聪明的人坐在那里等待测试，而有未使用的内核闲置。

任何能够提出解决方案的人都会为 Rails 和 Ruby 社区做出巨大贡献。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2015-06-15T14:47:08.347

我还在guard-rspec 上实现了这个选项：

[https://github.com/guard/guard-rspec/pull/325](https://github.com/guard/guard-rspec/pull/325)

还与多租户一起使用：

[http://pr0d1r2.tumblr.com/post/121591540433/parallel-tests-with-multitenancy-on-guard](http://pr0d1r2.tumblr.com/post/121591540433/parallel-tests-with-multitenancy-on-guard)

# jquery - Jquery Autocomplete 不适用于动态元素？

> ID：13470496
> 
> 赞同：0
> 
> 时间：2012-11-20T09:49:53.983
> 
> 标签：jquery, asp.net-mvc-3, autocomplete

我正在使用 Jquery 自动完成动态文本框。这工作正常，但不能使用动态元素。有什么建议么？

我的代码

```
 $('input#ISBN').each(function () {
        $(this).autocomplete({
            source: '/Cataloging/Bib/GetISBN',
            minLength: 1,
            maxRows: 5,
            select: function (event, ui) {

            }

        });
    }); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T09:59:38.190

将元素添加到 DOM**后，**您需要调用代码。

当您使用 ID 选择器时，我的猜测是您仅将它用于一个元素，因此不需要循环。如果这是针对多个元素，请将您的 ID 更改为一个类，并将选择器更改为：

```
$('input.ISBN') 
```

你的代码应该是这样的：

```
function autoComp(element){
  element.autocomplete({
            source: '/Cataloging/Bib/GetISBN',
            minLength: 1,
            maxRows: 5,
            select: function (event, ui) {

            }

  });
}

$(function(){
    $('input#ISBN').each(function () {
       autoComp($(this));
    });
}); 
```

然后无论您在哪里动态添加元素：

```
//Element added here
//e.g:
$(".foobar").append(newElement);

autoComp(newElement); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T10:00:23.700

首先给你的元素相同的类而不是id，而不是添加动态控制之后你可以这样做

```
$('input.ISBN').not('.ui-autocomplete-input').each(function () {
        $(this).autocomplete({
            source: '/Cataloging/Bib/GetISBN',
            minLength: 1,
            maxRows: 5,
            select: function (event, ui) {

            }

        });
    }); 
```

# windows - 从窗口服务中检索命令行值

> ID：13470497
> 
> 赞同：0
> 
> 时间：2012-11-20T09:49:55.117
> 
> 标签：windows, service, command-line

我正在寻找一种方法（如果存在）来查看创建 Windows 服务时使用的*CommandLine参数的值。*虽然这可以从 Windows 注册表中查看，但从安全的角度来看，建议用户每次都为此目的打开注册表让我感到担忧。

任何建议都受到高度赞赏。谢谢你。

更新：我试图获取 CMD 行值以获取随进程设置的 JVM 选项。这可以使用 Process Explorer [来自 Windows]。只需选择有问题的进程，点击属性，导航到环境选项卡，您就可以在此处查看为您的进程设置的所有 JVM 选项。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T09:55:09.557

在 Windows Vista 和 Windows 7 上，可以通过任务管理器查看任何进程的命令行，包括服务。要查看命令行，请转到`View->Select Columns...`并勾选该`Command Line`框。

另一种选择是在服务小程序中查看服务。开始`Start->Run`并进入`services.msc`。然后，您可以浏览到所需的服务，双击它并查看该`Path to executable`字段。

# cmake - cmake，add_custom_command 具有来自不同目录的依赖项

> ID：13470499
> 
> 赞同：12
> 
> 时间：2012-11-20T09:50:02.923
> 
> 标签：cmake

我有一个关于 CMake 的问题，这里似乎经常被问到，但似乎没有一个答案能解决我的问题。

在`details`子目录中，有一个`CMakeLists.txt`包含：

```
add_custom_command(OUTPUT part.out
                   COMMAND foo --input=part.src --output=part.out
                   DEPENDS part.src)

add_custom_target(part_out
                  DEPENDS part.out) 
```

在主目录中有一个`CMakeLists.txt`用于`part.out`生成另一个文件的文件：

```
add_custom_command(OUTPUT full.out
                   COMMAND bar --input=./details/part.out --output=full.out)

add_custom_target(full_out
                  DEPENDS full.out) 
```

问题是我希望在这里发生 3 件事：

1.  如果`part.out`不存在则需要生成
2.  如果`part.out`过时（`part.src`比更新`part.out`）我希望它被重新生成
3.  如果`full.out`过时（`part.out`比 更新`full.out`，或者`full.out`不存在）我希望它被（重新）生成

因此，如果我添加`DEPENDS ./details/part.out`，`add_custom_command(OUTPUT full.out)`我将实现第 2 点和第 3 点，但不是第 1 点，因为如果我删除`part.out`然后我调用`make full_out`我会收到一个错误，即没有要制定的规则`./details/part.out`（因为它是来自另一个目录的规则）。

如果我添加`DEPENDS full_out`到`add_custom_command(OUTPUT full.out)`或添加到点，`add_custom_target(full_out)`我将获得第 1 点和第 2 点，但不是第 3 点，因为即使`part.out`重新生成，a`full.out`也不会重新生成，因为它不依赖于`part.out`文件本身。

那么如何连接这两种场景呢？我正在考虑同时添加两者`DEPENDS`，但我怎么知道这是否总是有效？我的意思是在这种情况下，构建顺序在这里很重要。

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2012-11-20T13:20:30.930

[CMake 文档`add_custom_target`](http://www.cmake.org/cmake/help/v2.8.8/cmake.html#command:add_custom_target)：

> 默认情况下，没有任何东西取决于自定义目标。使用 ADD_DEPENDENCIES 将依赖项添加到其他目标或从其他目标添加依赖项。

所以我建议将目标与

```
ADD_DEPENDENCIES( full_out part_out ) 
```

编辑： **工作示例**

事实证明，您需要为`part.out`

这是我的工作示例（在 VS2008 的 Windows 下尝试）：

CMakeLists.txt：

```
cmake_minimum_required(VERSION 2.8 )
project( full )

add_subdirectory( details )

add_custom_command( OUTPUT full.out 
               COMMAND ${CMAKE_COMMAND} -E copy ./details/part.out full.out
               DEPENDS details/part.out 
               )

add_custom_target( full_out
               DEPENDS full.out details/part.out details/part.src
              )

set_source_files_properties( details/part.out PROPERTIES GENERATED TRUE ) 

add_dependencies( full_out part_out ) 
```

详细信息/CMakeLists.txt：

```
cmake_minimum_required(VERSION 2.8 )
project(part)

add_custom_command(OUTPUT part.out
               COMMAND ${CMAKE_COMMAND} -E copy ${CMAKE_CURRENT_SOURCE_DIR}/part.src part.out
               DEPENDS part.src)

add_custom_target(part_out
              DEPENDS part.out) 
```

此示例适用于您所陈述的所有 3 个案例。

# php - 如何将媒体的路径名从本地主机更改为 Magento 中的其他本地 URL？

> ID：13470502
> 
> 赞同：0
> 
> 时间：2012-11-20T09:50:14.187
> 
> 标签：php, magento

我在本地部署了 Magento 应用程序。当我尝试使用本地网络中的其他系统访问它时，应用程序被打开但没有获取图像和 css。它正在解析为 localhost/magento/imagename.jpg。我的应用程序部署在 127.0.0.1/magento/。我是否需要更改我的 PHP.ini 或 Magento Admin 中的某些设置？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-20T09:52:16.970

将基本 url 更改为您的内部 IP 地址，即您的路由器分配给您的 IP 地址。

在 Windows 中：

开始 ->`cmd`输入并回车 ->`ipconfig`

在 Linux 中：

`ifconfig`

找到您的本地 IP，它可能看起来像 192.168.1.xx 或 10.0.0.xx 在系统 -> 配置 -> 下的 magento 后端中输入它作为您的基本 URL（前面带有 http:// 和 / 在末尾）网络

**可选地**

您可以`{{base_url}}`在 magento 后端输入您的基本 URL，这将允许任何 URL 工作，但不建议在现场使用。

**编辑**

不要忘记通过删除所有内容来清除缓存`var/cache/`

# database - 通过访问 vba 浏览和编辑 excel 文件

> ID：13470503
> 
> 赞同：1
> 
> 时间：2012-11-20T09:50:16.573
> 
> 标签：database

我是访问 vba 的新手……请求指导以下内容：我想创建一个访问 vba 工具，其目的是仅浏览多个 excel 文件并通过在 (如 sheet1) 的第一行，文本为“ABC”。然后，它应该保存并关闭所有的 excel 文件。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-25T18:12:15.520

我找到了答案，下面是供进一步参考的代码。

```
Dim Xl As Excel.Application
Dim XlBook As Excel.Workbook
Dim XlSheet As Excel.Worksheet
Dim MySheetPath As String
Dim fDialog As FileDialog
Set fDialog = Application.FileDialog(msoFileDialogFilePicker)
Dim varFile As Variant
With fDialog
   .AllowMultiSelect = True
   .Title = "Select File Location to Export XLSx :"
   .InitialFileName = ""
If .Show = True Then
   For Each varFile In .SelectedItems
     GetFileName = varFile
MySheetPath = GetFileName
Set Xl = CreateObject("Excel.Application")
Set XlBook = GetObject(MySheetPath)
Xl.Visible = True
XlBook.Windows(1).Visible = True
Set XlSheet = XlBook.Worksheets(1)
Dim varInquiryID As Long
Dim varCentreFooter As String
Dim sHeader As String
varCentreFooter = " ABC "
XlSheet.PageSetup.CenterFooter = varCentreFooter

ActiveWorkbook.Save
ActiveWorkbook.Close

Next
End If
End With

Set Xl = Nothing
Set XlBook = Nothing
Set XlSheet = Nothing 
```

# jquery - 使用 sortable 如何禁止特定类的项目移动到特定列表

> ID：13470504
> 
> 赞同：2
> 
> 时间：2012-11-20T09:50:15.607
> 
> 标签：jquery, jquery-ui

我想要 3 个列表，其中包含列表 A 或列表 B 中的一个项目应该能够移动到列表 C，但不能从列表 B 移动到列表 A，反之亦然。如果列表 C 中的项目最初来自列表 A，则列表 C 中的项目也不应该移动到列表 B，如果列表 A 来自列表 B，则列表 A 相同。在我尝试解决此问题时，列表 A 中的所有项目都有一个特定的类和列表 B 中的项目另一个类。

我到目前为止的代码是：

```
 $(function () {
    $("ul").sortable({
        connectWith: "ul",
        beforeStop: function (ev, ui) {
            if ($(ui.item).hasClass('ui-state-default') && $(ui.placeholder).parent()[0] == $HERE) {
                $(this).sortable('cancel');
            }
        }
    }); 
```

我有“这里”的地方是我一直试图插入这样一个条件的地方。目前，我只尝试将限制放在一个列表上，因为如果我能让它发挥作用，第二个应该很容易。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T09:58:14.003

我认为您应该使用可拖动/可放置组合而不是可排序，因为您尝试使用已经实现的很多逻辑。所以列表 A 和 B 将有可拖动的元素，而列表 C 是可放置的。

droppable 有一个“接受”选项，您可以在其中为可以删除的元素设置 css 选择器过滤器。

```
{ accept: ".only-these" } 
```

# mysql - Visual Studio 2010 无法连接到 MySql 服务器

> ID：13470507
> 
> 赞同：1
> 
> 时间：2012-11-20T09:50:17.213
> 
> 标签：mysql, visual-studio-2010, connect

我有 Visual Studio 2010 + MySql 连接器 6.6.4。与本地数据库的连接有效。但是连接到主机上的数据库不起作用。创建连接，输入-服务器名、用户名、密码。我打开组合框“数据库名称” - 显示错误“无法检索数据库列表”。当我手动输入数据库名称并单击测试连接时，出现错误“无法连接到任何指定的 MySql 主机”。可能是什么原因？通过代理服务器在我的机器上访问 Internet。可能需要在连接字符串中指定代理？但我找不到在哪里。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T14:59:50.537

在您需要添加 IP 地址的主机上允许连接到数据库。有用。

# zend-framework - Zend 的 PHPunit 兼容性问题

> ID：13470523
> 
> 赞同：1
> 
> 时间：2012-11-20T09:50:48.677
> 
> 标签：zend-framework, phpunit, pear, phing, zend-test

我已经用 Zend Framework 配置了 PHPUnit。当我运行命令时

```
phpunit --configuration phpunit.xml 
```

我收到失败消息，例如

```
Declaration of Zend_Test_PHPUnit_Constraint_ResponseHeader::evaluate() should be compatible with that of PHPUnit_Framework_Constraint::evaluate() 
```

我有以下`assert`功能

```
$this->assertModule($urlParams['module']);
$this->assertController($urlParams['controller']);
$this->assertAction($urlParams['action']);
$this->assertResponseCode(200); 
```

我搜索了问题并找到了许多相关的解决方案，如此[处](https://stackoverflow.com/questions/8389732/declaration-of-zend-test-phpunit-constraint-domqueryevaluate-should-be-compa)所述。我检查了我的 PHPUnit 版本`3.7.9`，Zend Framework 1 只能在`PHPUnit 3.5.x`.

然后我尝试按照[此处](http://dustyreagan.com/downgrade-phpunit-3-6-to-3-5-15/)`PHPUnit`所述降级。该过程成功运行。但是当我去安装降级版本并运行命令时`un-installation`

```
pear install phpunit/PHP_CodeCoverage-1.0.2 
```

它会产生一个错误

```
phing/phing requires package "phpunit/PHP_CodeCoverage" (version >= 1.1.0). phpunit/PHP_CodeCoverage cannot be installed, Conflicts with installed packages. 
```

有人告诉我如何处理这种情况？如何使安装的 PHPUnit 版本与 Zend Framework 兼容`1.X`或如何正确降级我的 PHPUnit？

此致。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T10:00:37.413

您始终可以安装 2 个不同的 PHPUnit 实例。安装`pear`最新版本的 PHPUnit 以开始`Phing`工作，并使用 Composer 安装 PHPunit 版本 3.5.x - 按照[此处](http://www.phpunit.de/manual/current/en/installation.html)的说明。

如果一切都正确完成，您将拥有一个最新版本的系统范围的 PHPUnit，并且在您的项目文件夹中，`vendors/bin`您将拥有 PHPunit 3.5.x。使用第二个在 ZF1 中构建测试。

# java - 休眠 LockModeType.OPTIMISTIC_FORCE_INCREMENT 在其他实体上传播

> ID：13470525
> 
> 赞同：1
> 
> 时间：2012-11-20T09:50:52.137
> 
> 标签：java, hibernate, jpa-2.0

我的项目中有两个实体：`Membership`和`User`. A`Membership`有一个`User`。我希望在读取时增加一个乐观的锁女巫，`Membership`所以我在使用 find 时添加了 lockTypeMode。

```
@Override
public Membership find(Long primaryKey) {
    return em.find(type, primaryKey, LockModeType.OPTIMISTIC_FORCE_INCREMENT);
} 
```

我添加了@Version 注释。但是，当我测试时，我得到了这个错误：

```
Caused by: org.hibernate.AssertionFailure: cannot force version increment on non-versioned entity
at org.hibernate.persister.entity.AbstractEntityPersister.forceVersionIncrement(AbstractEntityPersister.java:1283)
at org.hibernate.action.EntityIncrementVersionProcess.doBeforeTransactionCompletion(EntityIncrementVersionProcess.java:51)
at org.hibernate.engine.ActionQueue$BeforeTransactionCompletionProcessQueue.beforeTransactionCompletion(ActionQueue.java:543)
... 55 more 
```

然后我添加了@Version`User`并且没有更多错误。但是版本号是递增的，`User`所以我认为我会得到`OptimisticLockException`并且我不想要这种行为。我怎样才能摆脱锁定`User`？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-03-04T14:33:15.840

您可以尝试在 Membership 类中的字段 User 上设置`@OptimisticLock(excluded=true)`（[Hibernate API ）：](http://docs.jboss.org/hibernate/core/3.6/javadocs/org/hibernate/annotations/OptimisticLock.html)

```
class Membership {   
     ....
     @OptimisticLock(excluded=true)
     User user;       
} 
```

# javascript - Facebook 登录在登录后会产生一个空白的弹出窗口

> ID：13470528
> 
> 赞同：2
> 
> 时间：2012-11-20T09:51:08.263
> 
> 标签：javascript, facebook, facebook-javascript-sdk, facebook-login

在开发利用“使用 Facebook 登录”功能的页面时，我们目前遇到了一个非常奇怪的问题。

我们在这里关注了一切： [https ://developers.facebook.com/docs/howtos/login/getting-started/](https://developers.facebook.com/docs/howtos/login/getting-started/)

当调用 FB.login() 时，我们会弹出一个窗口，要求我们按预期登录。登录可以在 Chrome 和 Firefox 上运行，但在某些用户的 IE (7-9) 上，登录后会出现空白页面。

我们试图在那个假定的空白页面上做一个视图源，这是内容：

```
<script type="text/javascript">
    var message = "cb=f14c5171603fa58&origin=http\u00253A\u00252F\u00252Fmy.domain.com\u00252Ff3105069ef9fcf8&domain=my.domain.com&relation=opener&frame=f3050298de22b24&access_token=AAAGu5Dg83xMBAKsmr68aqYXSzWeDapHlGgkZAnA5NllE5QauaBTd2ZA8R6vQZAf7voi9g6u1ZCFOVttXZAZAmVl8dJZAedDrQMZAKrUTpGbIliyzLIOHPZB7m&expires_in=4641&signed_request=CXSX5CFXnYSV_-8S1iUFl1dFifl8B5D33vxBgaxdE3w.eyJhbGdvcml0aG0iOiJITUFDLVNIQTI1NiIsImNvZGUiOiJBUUFsekxJaVh3TExQT1labUpWcG40cWlEMXVVN2hmMzVqdUJBbzJuSXpQMGdqVG1wMzc3NnFPZ2lIX3N6dVVzLUhVbVQ3enFHZGQzZ05LNTFyVEpDaXRlSG1Sc0V4Y2V2aTVqa04xVk1zQk1Za0ZYWHAwRHZjTjBUUHFlSUN1NWV5c0llWU01cGY1SGxLYk9VTWd6NXpuNzVRa3VwZFQtZGxpZlI0eGRLVEtUSUMyelJtc2N5bHRtSWZpOWJOQTBCVk1aVno3Y2tkcW43T0I1d0N6N2NzVDciLCJpc3N1ZWRfYXQiOjEzNTM0MDQ1NTksInVzZXJfaWQiOiIxMDAwMDQ2MTY1MDQwOTEifQ&base_domain=my.domain.com", origin = "http:\/\/my.domain.com\/f3105069ef9fcf8", domain = "my.domain.com";document.domain='facebook.com';(function(){var a=window.opener||window.parent,b='fb_xdm_frame_'+location.protocol.replace(':','');function c(){try{a.frames[b].proxyMessage(message,[domain]);}catch(e){setTimeout(c,100);}}function d(){__fbNative.postMessage(message,origin);}if(window===top&&/FBAN\/\w+;/i.test(navigator.userAgent)){if(window.__fbNative&&__fbNative.postMessage){d();}else window.addEventListener('fbNativeReady',d);}else c();})();

</script> 
```

为了隔离问题，我们还尝试在此处使用 Facebook 登录按钮小部件：[https ://developers.facebook.com/docs/reference/plugins/login/](https://developers.facebook.com/docs/reference/plugins/login/)

但结果是一样的。在这些人的 IE 上，他们登录后弹出窗口变成了一个空白页面，并且窗口保持打开状态。

我们试图在整个网络和 StackOverflow 中搜索解决方案，但没有一个奏效。

这里的任何专家可以提供帮助吗？提前致谢。

# django - django 会引发除 http404 之外的其他状态代码吗？

> ID：13470529
> 
> 赞同：2
> 
> 时间：2012-11-20T09:51:08.817
> 
> 标签：django, http-response-codes

我对一般/ django世界的网络都很陌生。我一直在`Http404`为我所有的错误案例提出建议（从我的角度来看）。我认为提高`404`, 例如`401, 402..`针对不同的错误对我来说更好地检测出了什么问题。

我发现`return HttpResponse(status=401)`会做这项工作。但这被认为是可接受的做法吗？我是否应该不干涉状态代码，因为它们中的每一个都应该意味着什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T12:20:24.147

每个状态码都有特定的含义。有关每个代码的含义，请参阅Wikipedia 页面上[的 HTTP 状态代码列表页面。](http://en.wikipedia.org/wiki/List_of_HTTP_status_codes#4xx_Client_Error)

您应该为每个响应选择适当的状态代码。例如，您应该只`401`在客户端未经授权时使用。将您自己的含义分配给状态代码并不是一个好主意。

如果您想让检测错误更容易，您可以[设置一个自定义标头](https://docs.djangoproject.com/en/dev/ref/request-response/#setting-headers)：

```
response = HttpResponse()
response['My-App-Error'] = error_code
return response 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T11:20:20.483

是的，您可以子类`HttpResponse`化来处理不同类型的 HTTP 响应。更多信息[在这里](https://docs.djangoproject.com/en/dev/ref/request-response/#ref-httpresponse-subclasses)

例如，您可以发送`HttpResponse`为`status code 403`：

```
from django.http import HttpResponseBadRequest

def my_view(request):
    # ...

    return HttpResponseBadRequest('<h1>You are not authorized to view this page</h1>') 
```

# javascript - 如何在 Google 地球 3D 驾驶模拟器中更改汽车模型？

> ID：13470533
> 
> 赞同：2
> 
> 时间：2012-11-20T09:51:12.547
> 
> 标签：javascript, kml, google-earth-plugin

我正在尝试对已经提供的 Google 地球驾驶模拟器进行修改：

[http://earth-api-samples.googlecode.com/svn/trunk/demos/drive-simulator/index.html](http://earth-api-samples.googlecode.com/svn/trunk/demos/drive-simulator/index.html)

我试图用救护车文件替换提供的 3D 迷你卡车：

我上传的 KMZ 文件在我的 Dropbox 中：

这是公开的。（我从以下网址下载了它：http: [//sketchup.google.com/3dwarehouse/details](http://sketchup.google.com/3dwarehouse/details?mid=fe0ea451b7322763f0ebaf08776cf07&prevstart=0) ?mid=fe0ea451b7322763f0ebaf08776cf07&prevstart=0 ）

我的代码是：

```
 window.google.earth.fetchKml(
      this.ge,
      DDSimulator.MODEL_URL,
      function(obj) {
          me.finishInitUI_(obj, opt_cb);
      }); 
```

它尝试调试脚本但没有结果，因为它没有抛出任何异常。模拟器根本不工作。

请让我知道可能导致此问题的可能原因。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-05T13:00:01.720

您需要编辑`simulator.js`它位于此处的 javascript 文件：http: [//earth-api-samples.googlecode.com/svn/trunk/demos/drive-simulator/simulator.js](http://earth-api-samples.googlecode.com/svn/trunk/demos/drive-simulator/simulator.js)

因此，将该文件保存到您的机器上，然后打开它进行编辑。

设置的行`MODEL_URL`是

```
DDSimulator.MODEL_URL = 'http://earth-api-samples.googlecode.com/svn/trunk/' +
                        'demos/drive-simulator/smart.kmz'; 
```

要使用另一个模型，只需更改字段的值以指向您的文件。

```
DDSimulator.MODEL_URL = 'http://www.yourserver.com/yourfile.kmz'; 
```

显然，您需要保存这个文件，例如`my-simulator.js`并将您的实现指向它。

```
<script type="text/javascript" src="my-simulator.js"></script> 
```

# android - 如何显示进度微调器？

> ID：13470542
> 
> 赞同：1
> 
> 时间：2012-11-20T09:51:39.040
> 
> 标签：android, multithreading, progress

我正在构建一个应用程序，该应用程序将使用**GeoCoder**从用户输入中获取街道地址。特此我制作的一段代码：

```
Geocoder gc = new Geocoder(getBaseContext(), Locale.getDefault());

List<Address> addresses = null;
StringBuilder sb = new StringBuilder();
String destination = edittext_destination.getText().toString();

try {
    addresses = gc.getFromLocationName(destination, 10);
} catch (Exception e){
    Toast.makeText(getBaseContext(), "Address not found", Toast.LENGTH_SHORT).show();
} 
```

上面的代码正在运行，但返回结果需要一些时间。在等待结果时，我想显示进度微调器。我知道它应该使用**Thread**但我不知道如何开始。我希望任何人都可以提供帮助。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T09:57:02.580

你可以这样做`AsyncTask`：

```
 final String destination = edittext_destination.getText().toString();
    new AsyncTask<String, Void, List<Address>>() {
        private Dialog loadingDialog;

        @Override
        protected void onPreExecute() {
            super.onPreExecute();
            loadingDialog = ProgressDialog.show(TestActivity.this, "Please wait", "Loading addresses...");
        }

        @Override
        protected List<Address> doInBackground(String... params) {
            String destination = params[0];
            try {
                Geocoder gc = new Geocoder(getBaseContext(),
                        Locale.getDefault());
                return gc.getFromLocationName(destination, 10);
            } catch (Exception e) {
                return null;
            }
        }

        @Override
        protected void onPostExecute(List<Address> addresses) {
            loadingDialog.dismiss();

            if (addresses == null) {
                Toast.makeText(getBaseContext(), "Geocoding error",
                        Toast.LENGTH_SHORT).show();
            } else if (addresses.size() == 0) {
                Toast.makeText(getBaseContext(), "Address not found",
                        Toast.LENGTH_SHORT).show();
            } else {
                // Do UI stuff with your addresses
                Toast.makeText(getBaseContext(), "Addresses found: " + addresses.size(), Toast.LENGTH_SHORT).show();
            }
        }
    }.execute(destination); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T21:18:21.003

[Android Query](https://code.google.com/p/android-query/)让所有这些异步的东西变得超级简单。您可以添加微调器和进度条，而不是像这样的异步调用：

设置：

```
ProgressDialog dialog = new ProgressDialog(this);

dialog.setIndeterminate(true);
dialog.setCancelable(true);
dialog.setInverseBackgroundForced(false);
dialog.setCanceledOnTouchOutside(true);
dialog.setTitle("Sending...");

String url = "http://www.google.com/uds/GnewsSearch?q=Obama&v=1.0"; 
```

你异步调用：

```
aq.progress(dialog).ajax(url, JSONObject.class, this, "jsonCb"); 
```

看看这个！优秀的响应时间和来自 Peter Liu 的帮助。该项目使开发人员受益！

# android - 维基高度问题

> ID：13470544
> 
> 赞同：0
> 
> 时间：2012-11-20T09:51:54.600
> 
> 标签：android, ios, gps, wikitude

我将开始使用 Wikitude SDK 并对它的工作有一些疑问......我想知道 Wikitude 的架构引擎如何处理 POI 的增强？例如，兴趣点采用三个值，即地点的纬度、经度和海拔高度。我假设它以海平面以上的米为单位。Wikiitude 如何根据高度处理增强。一种情况是我在地面时拿着电话……在这种情况下，增强是正常的，但是如果我在建筑物的顶部（离地面约 300 米），Wikitude 会处理海拔升高本身吗？ （我认为这不会是因为手机上没有传感器来测量地面以上的高度，除了 gps 值不太准确）这种情况如何实现？POI 是否需要不同的高度值？

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-21T08:34:12.667

高度会自动纳入增强的计算中。您应该考虑几件事。仅当 GPS 的精度足够高时才使用高度信息。这保证了高度将是合理准确的。然而，GPS 高度信息从来没有最高精度，您可能会看到靠近用户的 POI 的差异。

如果您知道比 GPS 更准确的高度，例如对于预定义的位置，您可以使用 injectLocation 方法来设置高度。

# c# - Metro 应用程序，不要冻结 UI

> ID：13470545
> 
> 赞同：0
> 
> 时间：2012-11-20T09:51:59.627
> 
> 标签：c#, microsoft-metro, winrt-async

我正在编写一个对 web 服务有很多调用的 Metro 应用程序。有时网络服务有点慢。而且我不想在一个页面内等待，直到我的数据被下载。

但是，在我的数据加载之前，我的后退按钮被禁用。这是一个大问题。

所以我尝试了：

```
 try
{
    await Task.Run(() =>
                       {
                           Dispatcher.RunAsync(CoreDispatcherPriority.High, 
                           () => ViewModel.InitAsync(date)).AsTask(_cts.Token);
                       }, _cts.Token);
}catch(Exception e)
{
    Debug.WriteLine("HomePage, LoadState : "+e);
} 
```

笔记;

我使用 Task.Run 能够使用取消令牌。Dispatcher.RunAsync 应该允许我不冻结我的 UI。这在页面 LoadState 中使用。

我该如何解决这个问题？

问候。

更新为（不能解决我的问题）：

```
try
{
    Dispatcher.RunAsync(CoreDispatcherPriority.Normal, () =>
    ViewModel.InitAsync(date)).AsTask(_cts.Token);
}catch(Exception e)
{
    Debug.WriteLine("HomePage, LoadState : "+e);
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T14:04:47.573

你不能只顾自己`Task.Run`的`Dispatcher.RunAsync`问题。你需要了解他们在做什么。

在你的情况下，你应该能够做到这一点：

```
try
{
  await ViewModel.InitAsync(date);
}
catch (Exception e)
{
  Debug.WriteLine("HomePage, LoadState : " + e);
} 
```

# java - Java 客户端应用程序通过 Internet 与远程数据库服务器通信

> ID：13470549
> 
> 赞同：4
> 
> 时间：2012-11-20T09:52:33.230
> 
> 标签：java, mysql, database, web-services, client-server

我正在开发一个 Swing GUI 应用程序，除其他外，该应用程序用作读取和写入 MySQL 数据库的数据库客户端。目前我使用 JDBC 实现了与数据库的交互（如下所示：[http](http://www.kitebird.com/articles/jdbc.html) ://www.kitebird.com/articles/jdbc.html ），它通过指定显式数据库主机名（IP 地址）直接连接到数据库。

只要我在作为组织本地网络一部分的 PC 上运行 GUI 客户端应用程序，它就可以正常工作，因此我可以通过指定部署它的机器的 IP 地址来访问 MySQL 数据库。

但是我想知道如果 GUI 客户端应用程序要在组织网络之外的计算机上运行（通过 Internet 通信），那么实现与数据库交互的正确方法是什么？

我能想到的两种方法是：

1.  将数据库服务器机器配置为在 Internet 上的 MySQL 的默认端口 (3306) 上可用，然后我将能够通过指定数据库服务器的 IP 地址继续从 GUI 客户端应用程序连接到数据库。

2.  创建一个 Web 服务（可能基于 REST API），它将在数据库服务器机器上运行，并充当 GUI 客户端和 MySQL 数据库之间的中间人。

我怀疑正确的方法是第二种选择，使用网络服务，但我没有任何实施经验。

所以我的底线问题是：

通过 Internet 与数据库进行通信的正确方法是什么，如果涉及使用 Web 服务，我应该从哪里开始？用于实现此类事情的常用库或框架有哪些？

非常感谢有耐心阅读所有这些的人。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T10:02:44.893

听起来像是一项艰巨的任务，我不确定是否有任何简单的答案。您当然不应该**将**与您的数据库的连接公开到 Internet，因为这对于潜在的攻击者来说是一个强大的载体。

Web 服务将是一个很好的解决方案。RESTful Web 服务的 Java 标准是~~JCR (JSR-170)，其参考实现是 Apache Jackrabbit (http://jackrabbit.apache.org/)~~. 它很容易设置，并且有多种选项可以保护此类服务。

编辑：没有错！我的意思是 JAX-RS 和 Jersey (http://jersey.java.net/)。对不起！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T14:40:11.703

最简单的解决方案是设置一个 VPN，允许您的远程客户端连接到同一个数据库。这会考虑到安全性和基础架构方面的考虑，并且不需要对您的应用程序进行任何更改。

基于服务的方法是第二受欢迎的——它是对应用程序的基本重新构建，通常会带来很多棘手的性能和可伸缩性问题。我建议阅读 Martin Fowler 的企业集成模式以获取建议 - 这是一个更复杂的问题，您可以期望在 SO 上回答。

不要向更广泛的互联网开放您的 MySQL 数据库——安全风险太大了。

# magento - 按创建日期订购产品列表

> ID：13470553
> 
> 赞同：4
> 
> 时间：2012-11-20T09:52:52.260
> 
> 标签：magento, magento-1.7

我在目录列表中的排序方法中添加了日期。如果我选择按日期排序，则列表按日期排序 - 这很好用。但是，我应该怎么做才能在目录列表中设置默认的按日期排序（DESC）？就我而言，无法使用这些解决方案：catalog.xml

```
<action method="setDefaultDirection"><dir>desc</dir></action>
<action method="setDefaultOrder"><field>created_at</field></action> 
```

和：
目录/块/产品/列表/Toolbar.php

```
protected $_direction = 'desc'; 
```

Magento 版本：1.7.0.2。

**编辑： 1**
我在本地文件夹 /app/code/local/SortByDate/ 中创建了一个新模块。我添加了两个文件。首先/catalog/model/Config.php：

```
class SortByDate_Catalog_Model_Config extends Mage_Catalog_Model_Config {

    public function getAttributeUsedForSortByArray()
    {
        $options = parent::getAttributeUsedForSortByArray();
        if (!isset($options['created_at'])) {
            $options['created_at'] = Mage::helper('catalog')->__('Date');
        }
        return $options;
    }

} 
```

第二个 /etc/config.xml ：

```
 <config><global><models><catalog><rewrite><config>SortByDate_Catalog_Model_Config</config></rewrite></catalog></models></global></config> 
```

**编辑2 - 解决** 了我修改了这个功能，问题消失了:)

```
 public function setDefaultOrder($field)
    {
//set default order by date
        if (isset($this->_availableOrder[$field])) {
                         $this->_availableOrder = array(
                                'created_at' => $this->__('Date'),
                'name'        => $this->__('Name'),
                'price'       => $this->__('Price'),
            );
            $this->_orderField = $field;
        }
        return $this;
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-08-17T21:03:49.277

解决了，我修改了这个函数，问题就消失了：）

```
 public function setDefaultOrder($field)
    {
    //set default order by date
        if (isset($this->_availableOrder[$field])) {
                         $this->_availableOrder = array(
                                'created_at' => $this->__('Date'),
                'name'        => $this->__('Name'),
                'price'       => $this->__('Price'),
            );
            $this->_orderField = $field;
        }
        return $this;
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-07-30T07:59:43.437

我有类似的问题，为了以干净的方式为我的所有网站修复它，我开发了一个可以解决问题的扩展程序。

它是免费的，而且很容易安装和使用。免费下载它。

[https://magento.mdnsolutions.com/extensions/mdn-sort-by-date.html](https://magento.mdnsolutions.com/extensions/mdn-sort-by-date.html)

干杯，

雷纳托

# google-maps - 在地图类型 ID 之间动态切换

> ID：13470555
> 
> 赞同：0
> 
> 时间：2012-11-20T09:52:54.740
> 
> 标签：google-maps, google-maps-api-3

我正在使用 Google Maps api v3.. 我可以加载由我的 .NET 代码生成的图层。我正在地图上显示该自定义图层。我可以在这些地图类型之间切换吗？如果是这样怎么办？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T09:56:19.383

是的，你可以做到。你只需要编写代码

```
map.setMapTypeId("yourmaptypeid"); 
```

# jmeter - 如何在 Jmeter 中保存具有动态值的文件

> ID：13470557
> 
> 赞同：3
> 
> 时间：2012-11-20T09:53:06.983
> 
> 标签：jmeter

我正在尝试使用变量保存具有动态值的响应 xml 文件。
我通过一个从 CSV 数据集配置（例如`var = Abc123`）获得的变量传递一个值。

我已经提到了**文件名前缀**，因为我的变量`D:\response\${var}`在哪里。`var`

但是文件被保存为`${var}.xml`本身，而不是`Abc123.xml.`

请建议是否有任何方法可以保存具有动态值的文件。
谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-21T15:35:43.693

我们正在谈论[将响应保存到文件](http://jmeter.apache.org/usermanual/component_reference.html#Save_Responses_to_a_file)侦听器，对吗？

所以你必须：

**1.**文件名前缀字段中的双反斜杠：

```
D:\\response\\${var} 
```

因为在这种情况下，单个反斜杠将被视为“转义”字符，并且变量不会扩展为其值；

或者：

**2.**`D:\response\`将脚本中其他地方的部分定义为单独的变量，例如`${responsePath}`并将`D:\response\`文件名前缀字段中的替换为该变量：

```
${responsePath}${var} 
```

两种变体都可以正常工作，但第二个似乎更通用一些。

# ruby-on-rails - 为迁移中没有主键的表创建主键

> ID：13470559
> 
> 赞同：0
> 
> 时间：2012-11-20T09:53:13.703
> 
> 标签：ruby-on-rails, ruby-on-rails-3, migration, primary-key

我已经创建了表

```
create_table :friendships , :force => true, :id => false do |t|
  t.integer :person_id
  t.integer :friend_id
end 
```

现在我需要为该表创建 id。我如何在迁移中做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T14:22:00.927

在迁移中添加主键的命令是：

```
add_column :my_table, :id, :primary_key 
```

# z-index - 位于使用 mediaelement.js 创建的视频后面的导航下拉菜单 - 如何修复？

> ID：13470562
> 
> 赞同：1
> 
> 时间：2012-11-20T09:53:19.097
> 
> 标签：z-index, mediaelement.js

有问题的页面位于：

```
newnetpartners.inspirationincbeta.co.uk/voice.php 
```

我们遇到的问题是位于视频后面的导航下拉菜单（使用 创建`mediaelements.js`）。到目前为止`z-index`，网站的 css 和视频的 css 都已设置为应有的状态，但问题仍然存在。

是否有人遇到过与此相同的问题并找到了解决方法，或者是否有人对可能导致它的原因有任何想法。

谢谢大家。

# java - 在运行时使用 Hibernate 从未知数据库构建对象

> ID：13470566
> 
> 赞同：0
> 
> 时间：2012-11-20T09:53:38.760
> 
> 标签：java, hibernate, orm

我有一个关于休眠的问题。

我想在运行时使用 java 连接到数据库并获取有关表的信息（其所有列及其元数据 - 数据类型、排序规则、索引、描述、键等）。

我在开发时无法访问该数据库。Java 应用程序将安装在不知道它们是数据库的其他公司中。是否有可能使用 Hibernate 来实现这个目标？

我无法在 xml 中创建映射或使用注释，因为我不知道架构/表/列。

换句话说，也许：是否可以在应用程序运行时创建 xml 映射？从此 xml 文件中创建对象并在运行时从创建的对象中读取属性？

我希望这个问题现在更清楚了。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-08-20T22:40:48.997

实际上这是可能的，尽管非常困难！

这篇文章将帮助您入门： http: [//www.manydesigns.com/en/blog/configuring-hibernate-programmatically-part-2](http://www.manydesigns.com/en/blog/configuring-hibernate-programmatically-part-2)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-20T10:42:16.393

为什么要使用 Hibernate 执行此操作？这似乎更像是常规 JDBC 的工作。如果你说的是真的，你想做的就是获取数据库元数据。

[http://docs.oracle.com/javase/6/docs/api/java/sql/ResultSetMetaData.html](http://docs.oracle.com/javase/6/docs/api/java/sql/ResultSetMetaData.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-20T11:43:31.577

不，它在 Hibernate 中是不可能的。

使用 Hibernate 必须将您的类文件映射到数据库表。如果没有任何关于数据库模式的知识，就不可能获得这样的细节。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-06-17T07:18:47.333

不，使用 Hibernate 是不可能的

# android - 在两个 web 视图中加载多个 Html 时出现问题，闪烁？

> ID：13470567
> 
> 赞同：0
> 
> 时间：2012-11-20T09:53:43.347
> 
> 标签：android, html, webview, transition, assets

因为我有一个有 135 个屏幕的应用程序。我知道这对应用程序来说是一个愚蠢的计划，但不幸的是这是要求。因为我们计划将所有屏幕制作为 html，然后将其放入资产中，然后将其读取为字符串并将其加载到两个网络视图中。它应该加载动画。所以我们使用了 2 个 webview。

我不知道这种方法的效率有多高。正如我在大多数博客和论坛中所读到的那样。这会产生很多性能问题。现在我的问题是我试图在 2 个 webviews 中相应地加载 4 个 html 并应用动画到 webview。这 2 个 webview 将采用框架布局。当我这样做时，我会遇到下面列出的许多问题。

1.  Webview 闪烁。
2.  当动画发生时，有时未加载的 html 会显示在之前加载的之间。
3.  有时页面没有加载它只会在屏幕上发生任何用户交互时显示。
4.  有时在加载两个页面之间会显示一个白页。

闪烁和白页之间是我面临的主要问题。谁能让我知道我们如何解决这些问题。我真的很难做到这一点。如果这不是加载 135 html 的有效方法，请告诉我最好的一。下面提到了一些代码只是为了说明我是如何解决这个问题的......提前谢谢......

```
wv1.loadDataWithBaseURL("file:///android_asset/",
                        readFromAssests("rechercherunjob.html"), "text/html",
                        "UTF-8", null);

                anim_right_to_left_in = AnimationUtils.loadAnimation(getBaseContext(), R.anim.right_to_left_in);
                anim_left_to_right_out = AnimationUtils.loadAnimation(getBaseContext(), R.anim.right_to_left_out);

                anim_left_to_right_out.setAnimationListener(new AnimationListener() {
                            @Override
                            public void onAnimationStart(Animation animation) {
                                wv1.bringToFront();
                            }

                            @Override
                            public void onAnimationRepeat(Animation animation){
                            }

                            @Override
                            public void onAnimationEnd(Animation animation) {
                                runOnUiThread(new Runnable() {
                                    public void run() {
                                        Toast.makeText(LoadHTMLActivity.this,
                                                "anim end 2",
                                                Toast.LENGTH_SHORT).show();
                                    }
                                });
                                wv2.loadDataWithBaseURL(
                                        "file:///android_asset/",
                                        readFromAssests("blank.html"),
                                        "text/html", "UTF-8", null);
                            }
                        });

                final Handler Handler1 = new Handler();
                Runnable mUpdateTimeTask1 = new Runnable() {
                    public void run() {

                        wv1.setAnimation(anim_right_to_left_in);
                        wv2.setAnimation(anim_left_to_right_out);
                    }
                };
                Handler1.postDelayed(mUpdateTimeTask1, 1000); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T10:37:54.420

我认为在您的情况下，最好`Fragments`为它们使用和设置自定义动画过渡，不要使用多个`WebViews`. 如果您尝试将所有 125 个 html 绝对保留在内存中，您的应用程序将永远无法正常工作。

# iphone - 为 ipod 开发应用程序

> ID：13470570
> 
> 赞同：-2
> 
> 时间：2012-11-20T09:53:50.173
> 
> 标签：iphone, ipod-touch

我想为 ipod 开发一个应用程序。我没有用于测试的 ipod 设备。我只有一个 iphone 4。在 xcode 模拟器 ipod 中有可能吗？我应该如何测试它。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T16:20:07.047

iPod touch 在内部与 iPhone 完全相同，只是没有手机专用硬件。

您可以使用 iPhone 4 或模拟器来开发应用程序。

如果您使用 iPhone 特有的功能，请务必测试它们是否在指定硬件上可用。

# html - 从本地 html 页面内部运行的 getUserMedia

> ID：13470573
> 
> 赞同：0
> 
> 时间：2012-11-20T09:53:58.027
> 
> 标签：html, google-chrome, video

我正在尝试使用[此演示](http://www.andismith.com/examples/blog/getusermedia-simple/)中的网络摄像头，并且效果很好。但是，当我将此代码复制/粘贴到本地 html 页面并尝试从本地计算机运行它时，它会引发错误“请接受 getUserMedia 权限！刷新以重试。”

那是关于同一原产地政策，还是类似的限制？

# jquery - 使用 jquery 删除一些列表标签

> ID：13470575
> 
> 赞同：0
> 
> 时间：2012-11-20T09:54:00.557
> 
> 标签：jquery

我有标签列表，我想删除一些列表标签并用不同的值重新填充它们。我有

```
 <ul>
        <li><a href="#">ALL</a></li>
        <li><a href="#">Selected</a></li>
         <c:forEach var="category" items="${selectedCats}">
           <li><a href="#">${category.value.name}</a>
           <a href="#" >selected</a></li>
         </c:forEach>
     </ul> 
```

因此，我想删除 for 循环中的所有内容，并希望在 jquery 中重新填充它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T09:57:28.560

您可以在循环 li 项目中添加一些虚拟类名以进行识别并将其删除。

```
 <c:forEach var="category" items="${selectedCats}">
       <li class="new-item"><a href="#">${category.value.name}</a>
       <a href="#" >selected</a></li>
     </c:forEach> 
```

然后删除

```
 $('li.new-item').remove(); 
```

希望这会有所帮助！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-20T10:04:13.653

您可以使用[$.fn.remove](https://api.jquery.com/remove/)从 DOM 中删除一个或多个元素。

```
$('li.item').remove(); 
```

... 和[$.fn.append](https://api.jquery.com/append/)以添加新内容。

```
$("ul#my-list").append("<li>A new entry</li>"); 
```

# javascript - Windows 8 Metro 应用程序中的可下载文件路径？

> ID：13470576
> 
> 赞同：1
> 
> 时间：2012-11-20T09:54:02.470
> 
> 标签：javascript, html, windows-8, microsoft-metro

您好我正在尝试在 Metro 应用程序中下载文件，我能够下载文件，但它存储在图片库或文档库文件夹中。这些文件夹在我的项目的以下行中指定。
Windows.Storage.KnownFolders。***文档***库 .createFileAsync();

但是，我没有指定上述路径，而是想下载一个文件，并且它必须存储在我 PC 的下载文件夹中。如果我动态设置文件 URL，则表示文件 URL 只能读取，我们无法编辑。所以如何将文件下载到下载文件夹中？谁能给我建议？

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T19:39:59.693

您不能直接访问 Downloads 文件夹，因为与 Documents 库相反，此文件夹没有特殊功能。

您必须使用 FileOpenPicker 让用户选择他们想要存储下载的文件夹。然后您可以存储访问令牌并将其用于后续文件。有关访问令牌和 FileOpenPicker 的更多信息，请参阅这篇文章：http: [//msdn.microsoft.com/en-us/library/windows/apps/jj655411.aspx](http://msdn.microsoft.com/en-us/library/windows/apps/jj655411.aspx)

根据您的用例，您可能希望将文件下载到应用程序的本地存储文件夹中，并让用户从您的应用程序中单独复制或打开它们。

# linux - Linux 中断处理：在 SA_SHIRQ 或 IRQF_SHARED 标志中谁将决定优先级（用户/内核）？

> ID：13470577
> 
> 赞同：2
> 
> 时间：2012-11-20T09:54:02.460
> 
> 标签：linux, kernel, driver, device, interrupt

在 request_irq() 中假设我与两个处理程序函数共享一个 irq no，那么谁来决定哪个处理程序应该首先执行，哪个应该其次？我们是否可以更改应该首先执行的处理程序的优先级？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-11-08T02:58:57.670

SA_SHIRQ 已耗尽多年。使用 IRQF_SHARED。你可以检查内核代码interrupt.h

# ruby-on-rails - Rails 中的多元化……为了什么？

> ID：13470581
> 
> 赞同：1
> 
> 时间：2012-11-20T09:54:08.997
> 
> 标签：ruby-on-rails, activerecord

我知道`has_many`Rails 中的宏使用复数形式。我无法找到这种行为的原因。如果我有课`Number`，我会写`has_many :numbers`，但它的好处在哪里？我的意思是，我在谈论一个程序，而不是一首诗。

'number' 是否声明“Im ref to a scalar”和“numbers”是否声明“Im an array”......？

从我在[has_many](https://github.com/rails/rails/blob/master/activerecord)的源代码中看到的内容来看，我不确定从复数到单数的翻译发生在哪里，以及是否可以对我自己的代码使用不同的方法。是否有可能让 ActiveRecord 只使用单数形式，或者 - 可以说 - 复数到 §singular 来标记集合而不破坏 string.pluralize 功能？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-20T09:59:00.517

关于您是在处理集合还是单个实例，这是一个简单的语言提示。它只是消除了很多精神混乱，因为您不必有意识地考虑收集与实例。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-20T10:01:44.790

Ruby 以及 Rails 的扩展力求对程序员友好。其中一个重要的部分是具有人类可读的代码，因此 Rails 开发人员已经做到了，这样您就可以拥有一个复数名称，而普通英语需要复数。

乍一看，它还有助于区分单个对象和对象集合。使阅读别人的代码变得容易得多。

# c# - AJAX AutoComplete Extender 显示结果问题

> ID：13470589
> 
> 赞同：1
> 
> 时间：2012-11-20T09:54:31.887
> 
> 标签：c#, ajax

我正在使用自动完成扩展器，它工作正常，但返回的数组以小数形式出现。

我已经通过断点调试了它。它也工作正常，但在界面上返回的结果是十进制的。

如果我有结果 1171210500380120120615191746 然后在屏幕上显示 1.1712105003801201e+27

请帮助我卡住了。

# r - 在数据框中将连字符转换为零，然后将受影响的列转换为 R 中的数字

> ID：13470593
> 
> 赞同：2
> 
> 时间：2012-11-20T09:54:50.757
> 
> 标签：r

我有数据集，其中使用连字符代替数字零，如下面的示例数据集`my.data`所示。我可以用零替换连字符，但是在将受影响的列转换为数字时遇到了麻烦。我的实际数据集非常大，有很多列，我不知道哪些列将包含连字符。数据集也太大和太复杂，我无法在将它们读入 R 之前在数据集本身中使用查找和替换。

我认为实际数据集的前三列将是字符，其余列应该是数字（如果不是连字符的话）。是否有一种有效且通用的方法可以将所有带有连字符的列转换为数字而不知道它们是哪些列？

我在下面介绍一种方法，但它似乎相当麻烦。

我在这里找到了许多类似的帖子，但他们似乎通常在询问如何用其他东西替换缺失的观察结果，或者如何将特定的已知因子列转换为字符或数字格式。我没有找到任何处理这个特定问题的帖子，其中需要转换的特定列是未知的，尽管我可能会忽略它们。谢谢你的任何建议。

```
my.data <- read.table(text = "
landuse units grade Clay    Lincoln    Basin     McCartney     Maple
apple   acres AAA     1         -          3             4         6
apple   acres AA   1000       900         NA            NA       700
pear    acres AA   10.0        20         NA          30.0         -
peach   acres AAA   500        NA        350           300       200
", sep = "", header = TRUE, stringsAsFactors = FALSE, na.string=c('NA'))

my.data
str(my.data)

my.data[my.data == '-'] = '0'

as.numeric(my.data[,4:dim(my.data)[2]])

# Error: (list) object cannot be coerced to type 'double'

# The two lines below work but are too specific
# my.data$Lincoln <- as.numeric(my.data$Lincoln)
# my.data$Maple   <- as.numeric(my.data$Maple)

str(my.data)

# Here I unlist the columns I want to be numeric,
# convert them to a numeric matrix and then create a data frame.
# But this seems cumbersome.

un.my.data <- unlist(my.data[,4: dim(my.data)[2]])
un.my.data <- as.numeric(un.my.data)

my.data.2 <- matrix(un.my.data, nrow=dim(my.data)[1], byrow=F)
colnames(my.data.2) <- names(my.data)[4:dim(my.data)[2]]

new.data <- data.frame(my.data[,1:3], my.data.2)
new.data
str(new.data) 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-20T10:10:26.523

连字符的转换和数字的转换都可以使用一个命令来完成，使用`sapply`and `gsub`：

```
cbind(my.data[ , 1:3],
      sapply(my.data[ , -(1:3)], function(x) as.numeric(gsub("^-$", "0", x))))

  landuse units grade Clay Lincoln Basin McCartney Maple
1   apple acres   AAA    1       0     3         4     6
2   apple acres    AA 1000     900    NA        NA   700
3    pear acres    AA   10      20    NA        30     0
4   peach acres   AAA  500      NA   350       300   200 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-20T10:12:17.520

使用正则表达式替换`-`为`0`，然后转换为数字。将所有这些包装在`lapply`：

```
my.data[-(1:3)] <- lapply(
  my.data[-(1:3)], 
  function(x)as.numeric(gsub("-", 0, x))
)

my.data
  landuse units grade Clay Lincoln Basin McCartney Maple
1   apple acres   AAA    1       0     3         4     6
2   apple acres    AA 1000     900    NA        NA   700
3    pear acres    AA   10      20    NA        30     0
4   peach acres   AAA  500      NA   350       300   200 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-20T10:07:13.880

代替

```
as.numeric(my.data[,4:dim(my.data)[2]]) 
```

试试这个：

```
my.data[,-(1:3)] <-
  matrix(as.numeric(as.matrix(my.data[,-(1:3))),nrow=nrow(my.data))
str(my.data) 
```

请注意，我使用“除前三列之外的所有列” `[,-(1:3)]`，这比`[,4: dim(my.data)[2]]`.

# wpf - Combobox WPF的样式触发

> ID：13470595
> 
> 赞同：1
> 
> 时间：2012-11-20T09:54:51.197
> 
> 标签：wpf, combobox

我是 WPF 的新手。我对组合框有这个问题。

当 Combobox 第一次渲染并且没有任何内容可显示时，combobox 的边框必须设置为红色，但不幸的是它没有这样做。

请找到代码片段

```
<Style x:Key="requiredFieldValidationStyleComboBox">
    <Style.Triggers>
        <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=SelectedItem.Content}" Value="{x:Null}">
            <Setter Property="ComboBox.BorderBrush" Value="{StaticResource FaultyBorderBrush}" />
            <Setter Property="ComboBox.ToolTip" Value="Input value is mandatory" />
        </DataTrigger>
    </Style.Triggers>
</Style> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T10:59:30.980

一旦我将您的样式添加到组合框中，我发现您的样式可以完美地工作，请确保组合框实际上设置了它的样式属性，或者如果您希望它适用于所有组合框，请删除 x:Key 属性。

```
 <Window.Resources>
        <Style x:Key="requiredFieldValidationStyleComboBox">
            <Style.Triggers>
                <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=SelectedItem.Content}" Value="{x:Null}">
                    <Setter Property="ComboBox.BorderBrush" Value="Red" />
                    <Setter Property="ComboBox.ToolTip" Value="Input value is mandatory" />
                </DataTrigger>
            </Style.Triggers>
        </Style>
    </Window.Resources>
    <Grid Margin="0,0,401,279">
        <ComboBox Style="{StaticResource requiredFieldValidationStyleComboBox}" Margin="46,66,-46,-66"/>
    </Grid> 
```

![未选择任何内容](../Images/7daf9dbb402a16abbb3ed672f50bacd0.png)

![已选中](../Images/5d2debc78ee0aabaaa499ec85d9d9a5f.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T10:09:59.560

我不知道您绑定到 selectedItem 的对象是什么。但是我有一种感觉你会问SelectedItem本身是否等于null，那么代码应该是这样的：

```
<DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=SelectedItem}" Value="{x:Null}">
                <Setter Property="ComboBox.BorderBrush" Value="{StaticResource FaultyBorderBrush}" />
                <Setter Property="ComboBox.ToolTip" Value="Input value is mandatory" />
            </DataTrigger> 
```

“内容”是不必要的。

这就是你想要的？

# emulation - WP8 Emulator screen size

> ID：13470605
> 
> 赞同：4
> 
> 时间：2012-11-20T09:55:35.967
> 
> 标签：emulation, windows-phone-8, screen-size

I have migrate my WP7 application to WP8 platform. Now, if I start debugging my application in WXGA Emulator (screen size should be 768 × 1280). I have got `Host.Content.ActualWidth=480` and `Host.Content.ActualHeight=800`.

Is it normal behaviour? Why WXGA emulator have screen size 480x800?

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-11-20T12:21:53.770

Yeah, that's how WP8 should work.

The zen of WP8 multi-resolution is to make developers to do as little work as possible to account for different resolutions. Other platforms dump all the hard work on developers to use physical pixels for different resolutions. Instead WP8 uses logical pixels of 480x800 and 480x853 to account for different resolutions.

App developers really need to only do two things. First is to use Grid relative design (and not Canvas absolute design) to help with the 480x853 logical resolution. Second is to make sure to use media assets that work well for different resolutions. For example, you don't want to play a 720p video on a low-res screens, and you don't want to stretch a 240 pixels wide image on an HD resolution screen.

I wrote about this topic extensively including code samples and how the relevant APIs behave @ [http://www.developer.nokia.com/Community/Wiki/What%27s_new_in_Windows_Phone_8#Multi_resolution](http://www.developer.nokia.com/Community/Wiki/What%27s_new_in_Windows_Phone_8#Multi_resolution)

![WP8 Multi-res APIs](../Images/2ee7b44c1f8ff302835e59bf6dd6790c.png)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-11-20T10:21:16.723

This is expected behavior, the application is upscaled automatically and sadly you cannot use the native resolution. It works in a similar way in the 720p emulator/phone - the width is also 480, the hight is then 853 px.

# windows - 使用 cx_freeze 后出现异常 _imaging c 模块未安装

> ID：13470611
> 
> 赞同：1
> 
> 时间：2012-11-20T09:55:57.900
> 
> 标签：windows, python-3.x, cx-freeze

我使用 Python 3 和非官方的 PIL 模块。我的代码工作正常。但在使用 cx_freeze 后，我得到异常“_imaging c 模块未安装”。

这个问题我该怎么办？我找到的所有解决方案都是关于 Python 2.X 和 Linux 操作系统的。我需要适用于 Windows 和 Python 3 的解决方案。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-16T18:05:27.680

最后，我解决了这个问题。_imagingtk 需要先导入 ImageTk。所以这段代码有效：

```
from PIL import ImageTk
from PIL import _imagingtk 
```

cx_freeze 也没有问题了。但我真的不明白这个错误的真正原因是什么。我只是猜到了解决方案。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T10:58:29.500

所以，我用_imaging解决了这个问题。我只需要添加到我的代码中：

```
from PIL import _imaging 
```

但是有一个新问题。使用 cx_freeze 后，我得到“没有名为 _imagingtk 的模块”。

但是像以前的解决方案不起作用。如果我尝试：

```
from PIL import _imagingtk 
```

我得到“DLL 加载失败”。

文件 _imagingtk.pyd 存在于我的 PIL 文件夹中，但即使从 Python-interprer 也无法加载此模块。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-11T06:42:17.397

我知道会发生这种情况的唯一原因是 _imagingtk.pyd 是否不适合您的 python 版本。哦，你能把非官方版本的链接发上来吗？我一直在寻找它。

# c# - 在多线程应用程序（foreach）中使用通用集合避免 InvalidOperationException

> ID：13470616
> 
> 赞同：1
> 
> 时间：2012-11-20T09:56:14.577
> 
> 标签：c#, multithreading, collections, foreach, invalidoperationexception

*.NET 框架 3.5*

我有两个线程使用相同的通用集合。`foreach`一个线程使用以下语句循环遍历集合：

```
while(HaveToContinue)
{
   // Do work 1

   try
   {
      foreach(var item in myDictionary)
      {
         // Do something with/to item
      }

      // Do work 2 (I need to complete the foreach first)
   }
   catch(InvalidOperationException)
   {
   }
} 
```

同时另一个线程修改集合：

```
// The following line causes the InvalidOperationException (in the foreach)
myDictionary.Remove(...); 
```

那么，有没有办法避免这种情况`InvalidOperationException`？如果我能避免这个异常，我可以一直完成我的工作（工作 1 + 工作 2），相反，每次我捕获异常时，我都无法完成工作。

我想使用一个`ManualResetEvent`对象，像这样：

```
while(HaveToContinue)
{
   // Do work 1

   try
   {
      myResetEvent.Reset();
      foreach(var item in myDictionary)
      {
         // Do something with/to item
      }
      myResetEvent.Set();

      // Do work 2 (I need to complete the foreach first)
   }
   catch(InvalidOperationException)
   {
   }
} 
```

并且每次其他线程修改集合时：

```
// Expect the foreach is completed
myResetEvent.WaitOne();
// And then modify the collection
myDictionary.Remove(...); 
```

但可能有更好的解决方案。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T09:59:19.127

如果您使用的是 .NET 4，则应改用`ConcurrentBag`or`ConcurrentDictionary`类，它们是线程安全的。

如果您使用的是早期版本，那么最简单（尽管效率低下）的解决方案是使用`lock`. 您可以将其实例化为普通对象：

```
private readonly object sync = new object(); 
```

然后，当你需要访问列表时，先获取锁：

```
while (HaveToContinue)
{
   // Do work 1

   lock (sync)
   {
      foreach (var item in myDictionary)
      {
         // Do something with/to item
      }
   }

   // Do work 2 (I need to complete the foreach first)
} 
```

同样在修改集合时，获取*相同*的锁：

```
lock (sync)
{
    myDictionary.Remove(...);
} 
```

如果您必须在每个项目上做的工作量很大，那么首先获取字典的本地副本，释放锁，然后继续迭代所述副本，让竞赛线程能够更有效修改全局字典：

```
while (HaveToContinue)
{
   // Do work 1

   Dictionary<Key,Value> localDictionary;

   lock (sync)
   {
      localDictionary = new Dictionary<Key,Value>(myDictionary);
   }

   foreach (var item in localDictionary)
   {
      // Do something with/to item
   }

   // Do work 2 (I need to complete the foreach first)
} 
```

# java - 如何从指定路径获取附件

> ID：13470618
> 
> 赞同：-5
> 
> 时间：2012-11-20T09:56:14.513
> 
> 标签：java

我只有从数据库中给出的路径。它假设在该路径上保存了一个附件。如何使用 java 获取此附件？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T10:03:45.450

这适用于您想从本地读取附件时，如果您想从远程系统或其他东西读取文件，则有不同的方法。

```
 String filePAthDB ="E:/Eclipse-Leo/RD_JMS/src/test/textfile.jpg";
      File f = new File(filePAthDB );
      if(f.exists())
       {
            //process file whatever you want
          System.out.println("Attachment available......");
       }
      else
          System.out.println("not Attachment available......"); 
```

# objective-c - ARC cast - 破解 objc 对象内存

> ID：13470621
> 
> 赞同：2
> 
> 时间：2012-11-20T09:56:23.127
> 
> 标签：objective-c, automatic-ref-counting

这段代码用于在非 ARC 中正常编译：

```
int *privateObjMemory = (int *)[myObject performSelector:@selector(privateMethod)]; 
```

现在我在 ARC 我得到：

> ARC 不允许将 Objective-C 指针转换为“int *”

我该如何解决这个问题？:)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-20T10:06:10.800

写成：

```
int* privateObjMemory = [myObject privateMethod]; 
```

;)

您要避免这种情况的原因是它对 ARC 模棱两可。`performSelector:`返回一个对象——应该`int*`保留它吗？嗯……不。

**更新**

*基于评论，并删除以前的写作：*

但这不是一个很好的解决方案。如果您正在调用特定的私有 API，那么您必须知道它的签名（例如参数和返回类型）。如果它是*您的*私有 API，那么想办法让该私有接口有选择地可见。

如果是其他人的私有 API，则在具有正确参数和返回类型的类型上声明一个类别。

然后选择器被正确声明，编译器将能够通过直接向对象发送消息来正确设置调用——无需使用`performSelector:`.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-20T10:08:12.707

不要将 Obj-C 指针转换为`int *`，如果使用 ARC，则无法解决此问题。

之所以采用这种方式，是因为`int*`在运行时将 ponter 转换为意味着无法跟踪指针指向的对象的内存。因此，在不使用 ARC 时允许这样做（因为您可以自己管理内存），但在 ARC 处于活动状态时则不允许。

如果您**必须**这样做，那么您可以在使用它的文件上禁用 ARC。`-fno-objc-arc`在项目设置中使用实现文件上的编译器标志。

![在此处输入图像描述](../Images/e38e04f9afd625d1dde5e8d301bf71fd.png)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-20T10:02:47.027

我不认为这真的与ARC有关。ARC 只会导致警告或错误。AFAIK（我没有用血签名）使用 performSelector 调用的方法的返回值是 nil 或 id。因此它必须是一个对象而不是一个 skalar。它可以很好地与 int* 一起使用，因为 id 是对（但对对象，而不是对标量）的引用。为了节省开支，您应该更改代码并返回一个 NSNubmer 对象。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-20T10:04:52.573

用于`id`对象的类型。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-20T10:08:21.147

在 ARC[文档](http://developer.apple.com/library/mac/#releasenotes/ObjectiveC/RN-TransitioningToARC/Introduction/Introduction.html)中，他们特别说..

> id 和 void * 之间没有随意转换。

`performSelector`返回 an`id`并且不能使用非目标 C 对象引用进行强制转换。

在我链接的文档中，向下滚动并阅读“管理免费桥接”部分。

# javascript - 将字符串与 JSON.stringify (Javascript) 结合

> ID：13470622
> 
> 赞同：0
> 
> 时间：2012-11-20T09:56:27.143
> 
> 标签：javascript, json

好的，这个问题可能很愚蠢，但我真的坚持这一点。

我想要一个像下面这样的 json 结构：

```
order: {
    currency: 'eur',
    order_items: [
        {
            id: 3,
            quantity: 1
        },
        {
            id: 67,
            quantity: 1
        }
    ]
} 
```

我现在正在做的是这样的：

```
function makeOrder(){
    var myArray = new Array();
    for(var i=0;i<bookedItemsArray.length;i++){
        var newObject = new OrderedItem(bookedItemsArray[i].id, bookedItemsArray[i].amount);
        myArray.push(newObject);
    }
    var mystring = JSON.stringify(myArray);
    //myString = "order: {currency: 'eur', order_items: " + myString + "}";
    console.log(myString);​
} 
```

我在 order_items 数组中获取数据的方式很酷，但是当我尝试将数组与其余数组连接时（注释中的行），我得到：

```
?:??: W/?(?): Uncaught SyntaxError: Unexpected token ILLEGAL at file:///android_asset/www/november/js/t03/Booking/bookingProcess.js:96 
```

关于字符串和 JSON 结构的组合方式，我有什么遗漏吗？

非常感谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T10:04:38.370

你为什么不这样做呢？

```
var x = {
    order: {
        currency: 'eur',
        order_items: []
    }
};
for (var i = 0; i < 10; i++) {
    var newObject = {
        i: i,
        Text: 'Some Text'
    };
    x.order.order_items.push(newObject);
}

var str = JSON.stringify(x); 
```

看看这个小提琴：http: [//jsfiddle.net/9V6Vb/](http://jsfiddle.net/9V6Vb/)

这是生成的 JSON：

```
{
    "order": {
        "currency": "eur",
        "order_items": [{
            "i": 0,
            "Text": "Some Text"},
        {
            "i": 1,
            "Text": "Some Text"},
        {
            "i": 2,
            "Text": "Some Text"},
        {
            "i": 3,
            "Text": "Some Text"},
        {
            "i": 4,
            "Text": "Some Text"},
        {
            "i": 5,
            "Text": "Some Text"},
        {
            "i": 6,
            "Text": "Some Text"},
        {
            "i": 7,
            "Text": "Some Text"},
        {
            "i": 8,
            "Text": "Some Text"},
        {
            "i": 9,
            "Text": "Some Text"}]
    }
}​ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T10:00:32.260

JSON 应该封装在`{`和中`}`。

所以你的 JSON 可能应该是这样的：

```
{
    "order": {
        "currency": "eur",
        "order_items": [
            {
                "id": 3,
                "quantity": 1
            },
            {
                "id": 67,
                "quantity": 1
            }
        ]
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-20T10:19:56.500

正如 Koen 所说，您可以创建一个具有第一个属性的对象，即一次对所有对象进行排序和字符串化。

```
var myOrder = {
order: {
currency: 'eur',
         order_items: [
           {
             id: 3,
             quantity: 1
           },
           {
             id: 67,
             quantity: 1
           }
         ]
      }
}
console.log("currency : " + myOrder.order.currency);
for (var i in myOrder.order.order_items) {
    console.log("items number " + i);
    console.log("items id" + myOrder.order.order_items[i].id);
    console.log("items quantity" + myOrder.order.order_items[i].quantity);
}
var myString = JSON.stringify(myOrder);
console.log(myString); 
```

但我认为你应该直接“订购”你的对象

问候，

# actionscript-3 - 使用 as3 的动画序列

> ID：13470626
> 
> 赞同：2
> 
> 时间：2012-11-20T09:56:47.543
> 
> 标签：actionscript-3, animation, sequence, tween

我被困在一个点上，我想在 Flash AS3 中执行一系列动画。我可以使用 TweenClass 为我的电影剪辑制作动画，但不能让它们按顺序依次播放。

我想让 closeTween 在 evntInTween 完成播放后播放。

我正在使用的代码是：

```
import fl.transitions.Tween;
import fl.transitions.easing.*;
import fl.transitions.TweenEvent;

BtnEvent.buttonMode = true;
BtnEvent.addEventListener(MouseEvent.ROLL_OVER, EventOver);
BtnEvent.addEventListener(MouseEvent.ROLL_OUT, EventOut);
BtnEvent.addEventListener(MouseEvent.CLICK, EventClick);

 function EventOver(event:MouseEvent) {
    event.target.gotoAndPlay(2);
}

 function EventOut(event:MouseEvent) {
    event.target.gotoAndPlay(11);
}

 function EventClick(event:MouseEvent) {
  var evntInTween:Tween = new Tween(eventzmov, "y", Strong.easeOut, 463.75, 1794.6, 3, true);

  var closetween:Tween = new Tween(closeevent, "alpha", Strong.easeOut, 0, 1, 3, true);

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T10:10:28.677

我认为您应该嵌套补间，以便仅在第一个停止播放后才创建第二个补间-它`fl.transitions.TweenEvent.MOTION_FINISH`在结束后发送事件，因此您为按钮分配一个侦听器以收听它，不要忘记放下一次将不再需要。

```
function EventClick(event:MouseEvent) {
    var evntInTween:Tween = new Tween(eventzmov, "y", Strong.easeOut, 463.75, 1794.6, 3, true);
    event.target.addEventListener(TweenEvent.MOTION_FINISH,startSecondTween);
    evntInTween.start();
}
function startSecondTween(e:TweenEvent):void {
    var closetween:Tween = new Tween(closeevent, "alpha", Strong.easeOut, 0, 1, 3, true);
    event.target.removeEventListener(TweenEvent.MOTION_FINISH,startSecondTween);
    closetween.start();
} 
```

}

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T11:52:42.293

我强烈建议切换到 greensock 的 Tweening 库 TweenLite（又名 TweenMax）。使用如下语法：

```
//TweenLite.to(objectToTween, timeToTween, {propertyOne:value, propertyTwo:value, onComplete: functionToCallWhenFinished});
TweenLite.to(object, 4, {y:50, alpha:0, onComplete:finishedTween, ease:Quad.easeOut}); 
```

TweenMax（TweenLite 的功能更丰富的版本）也有一个 TimeLine 类，用于在几行代码中编写复杂的动画。

[https://www.greensock.com/tweenmax/](https://www.greensock.com/tweenmax/)

# c++ - 重定向由 execv 运行的进程的输出

> ID：13470630
> 
> 赞同：0
> 
> 时间：2012-11-20T09:56:58.263
> 
> 标签：c++, linux, execv, dev-null

> **可能重复：**
> [将输出重定向到 C 中的文件](https://stackoverflow.com/questions/8516823/redirecting-output-to-a-file-in-c)

我正在运行如下进程：

```
char* [NUM];
char[0] = processName;
char[1] = arg0;
...
char[NUM] = 0;
execv(args[0],args); 
```

问题是我如何使它的输出重定向到

```
/dev/null 
```

我尝试将它添加到 args 数组，但它作为参数发送给程序......

有人知道吗？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T10:22:49.477

先打开你想要的目标，然后关闭`fd`你要重新分配的，`dup2`用来连接那里，然后关闭之前打开的：

```
int tmpFd = open( "/dev/null", O_WRONLY );
if ( tmpFd == -1 ) {
    //  Real problem, couldn't open /dev/null
}
if ( dup2( tmpFd, 1 ) ) != 1 ) {
    //  Real problem, dup2 failed.
}
close( tmpFd ); 
```

# java - 为什么 Java 和 Scala 集合之间的自动转换会失败？

> ID：13470637
> 
> 赞同：1
> 
> 时间：2012-11-20T09:57:12.787
> 
> 标签：java, scala

我有两个 Java 类：`LogEntry`和`Record`.

该类`LogEntry`具有如下所示的方法：

```
public LogEntry setRec(List<Map<String,List<Record>>> rec) 
```

在 Scala 中，我尝试这样`Record`输入：`LogEntry`

```
import scala.collection.JavaConversions._
import collection.mutable._
val log = new LogEntry()
val rec = new Record()

val map:java.util.Map[String, java.util.List[Record]] = HashMap("sessionKey" -> ArrayBuffer(rec))
log.setRec(List(map)) 
```

但我得到一个编译错误：

```
scala> val map:java.util.Map[String, java.util.List[Record]] = HashMap("sessionKey" -> ArrayBuffer(eventPart))
<console>:14: error: type mismatch;
 found   : scala.collection.mutable.HashMap[String,scala.collection.mutable.ArrayBuffer[Record]]
 required: java.util.Map[String,java.util.List[Record]]
       val map:java.util.Map[String, java.util.List[Record]] = HashMap("sessionKey" -> ArrayBuffer(eventPart))
                                                                      ^ 
```

似乎从 Scala 集合到 Java 集合的自动约定失败了，但如[官方文档中所述](http://www.scala-lang.org/docu/files/collections-api/collections_46.html)：

```
mutable.Buffer   <=>     java.util.List   
mutable.Map     <=>     java.util.Map

scala> val jul: java.util.List[Int] = ArrayBuffer(1, 2, 3)   
jul: java.util.List[Int] = [1, 2, 3]   

scala> val m: java.util.Map[String, Int] = HashMap("abc" -> 1, "hello" -> 2)   
m: java.util.Map[String,Int] = {hello=2, abc=1} 
```

`ArrayBuffer`可以转换为`java.util.List`，`HashMap`也可以转换为`java.util.Map`.

那么，为什么会出现这个错误呢？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-20T10:05:16.820

这是由于 scala 隐式转换中的一些怪癖而发生的。以下应该工作。

```
val map: java.util.Map[String, java.util.List[EventPart]] = 
  HashMap("sessionKey" -> (ArrayBuffer(eventPart):java.util.List[EventPart])) 
```

作为一个测试我做了

```
scala>  val map:java.util.Map[String, java.util.List[String]] = 
   HashMap("sessionKey" -> (ArrayBuffer("aa"):java.util.List[String]))
map: java.util.Map[String,java.util.List[String]] = {sessionKey=[aa]} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-20T12:10:20.307

隐式转换不适用于类型参数（尽管您可以使用视图边界来模拟它）。也就是说，如果您有从`Foo`to的隐式转换，则可以在需要`Bar`的地方使用 type 的值：`Foo``Bar`

```
val foo: Foo = ...
def bar(b: Bar) = ...
bar(foo) 
```

但是（例如）`Seq[Foo]`不能用来代替`Seq[Bar]`：

```
val foo: Foo = ...
def bar(list: Seq[Bar]) = ...
bar(Seq(foo)) // type error 
```

这就是为什么不能在那里使用`ArrayBuffer`和之间的转换。`java.util.List`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-12-24T03:37:33.383

我不知道您使用的是哪个版本的 scala，但是在最新[的官方文档](https://docs.scala-lang.org/overviews/collections/conversions-between-java-and-scala-collections.html)中，您必须首先导入 collection.JavaConverters._ 然后调用 asJava 或 asScala 在原始 java 和 scala 之间转换集合对象。见官方示例如下：

```
scala> import collection.mutable._
import collection.mutable._

scala> val jul: java.util.List[Int] = ArrayBuffer(1, 2, 3).asJava

jul: java.util.List[Int] = [1, 2, 3]

scala> val buf: Seq[Int] = jul.asScala

buf: scala.collection.mutable.Seq[Int] = ArrayBuffer(1, 2, 3)

scala> val m: java.util.Map[String, Int] = HashMap("abc" -> 1, "hello" -> 2).asJava

m: java.util.Map[String,Int] = {abc=1, hello=2} 
```

# c++ - 使用 MFC 时导出为 excel 文件

> ID：13470638
> 
> 赞同：0
> 
> 时间：2012-11-20T09:57:17.113
> 
> 标签：c++, mfc

现在我想将数据导出到 excel，我按照 [http://support.microsoft.com/default.aspx?scid=kb;en-us;192348](http://support.microsoft.com/default.aspx?scid=kb;en-us;192348)中的步骤操作， 但在第 9 步中添加新类时MS visual 2010 它只有“Microsoft Excel 14.0 对象库”，它有很多接口来生成一个新的类。我不知道选择什么接口，因为我找不到 excel8 或相同的接口。谢谢你的帮助。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-20T10:20:49.353

文章 ID：192348 - 上次审核：2007 年 4 月 11 日 - 修订：5.2 适用于

```
Microsoft Office Excel 2007
Microsoft Office Excel 2003
Microsoft Excel 2002 Standard Edition
Microsoft Excel 2000 Standard Edition
Microsoft Excel 97 Standard Edition
Microsoft Visual C++ 5.0 Enterprise Edition
Microsoft Visual C++ 6.0 Enterprise Edition
Microsoft Visual C++ 5.0 Professional Edition
Microsoft Visual C++ 6.0 Professional Edition
Microsoft Visual C++, 32-bit Learning Edition 6.0
Microsoft Office XP Developer Edition
Microsoft Office 2000 Developer Edition
Microsoft Foundation Class Library 4.2 
```

您的平台或 IDE 在任何此类属性中是否具有兼容性？如果没有，肯定找不到excel8。

# c# - 检查 list1 内容是否与 list2 内容匹配

> ID：13470644
> 
> 赞同：1
> 
> 时间：2012-11-20T09:57:28.553
> 
> 标签：c#, linq

我有 2 个列表，其中包含一些数据：

```
List1.Add(new Filter { Name = "Foo", Value = "Bar" });
List2.Add(new Filter { Name = "Foo", Value = "Bar" }); 
```

`List1`如果包含 中的所有值，我想使用 Linq 返回 true `List2`，上面的示例显然会返回 true，但这是一个示例，但如果我添加

```
List2.Add(new Filter { Name = "Foo1", Value = "Bar1" }); 
```

那么它应该返回false。

我开始往下走：

```
var Result = from item1 in List1
             join item2 in List2 on item1.Name equals item2.Name
             new { item1, item2 }; 
```

但这只会在名称上匹配，我很确定我走错了路。

**编辑**：只是为了澄清，我不只想要 VALUE 属性。名称和值必须在两个列表中匹配。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-20T10:00:18.787

您可以使用[`Except`](http://msdn.microsoft.com/en-us/library/bb300779.aspx)：

```
var l1Vals = List1.Select(f => f.Value);
var l2Vals = List2.Select(f => f.Value);
var notInL1 = l2Vals.Except(l1Vals);
if(notInL1.Any())
{
    // no, not all Values of List2 are in List1
} 
```

**编辑**根据您要比较的所有属性的最后编辑，`Filter`最好的方法是创建一个自定义[`IEqualityComparer<Filter>`](http://msdn.microsoft.com/en-us/library/ms132151.aspx)并将其用作此[`Enumerable.Except`重载](http://msdn.microsoft.com/en-us/library/bb336390.aspx)的参数：

```
public class Filter {
    public String Name { get; set; }
    public String Value { get; set; }

    public class Comparer : IEqualityComparer<Filter>
    {
        public bool Equals(Filter x, Filter y)
        {
           if(ReferenceEquals(x, y))
               return true;
           else if(x==null || y==null)
               return false;
           return x.Name  == y.Name
               && x.Value == y.Value;
        }

        public int GetHashCode(Filter obj)
        {
            unchecked 
            {
                int hash = 17;
                hash = hash * 23 + obj.Name.GetHashCode();
                hash = hash * 23 + obj.Value.GetHashCode();
                return hash;
            }
        }
    }
} 
```

现在这有效：

```
var notInL1 = List2.Except(List1, new Filter.Comparer());
if (notInL1.Any())
{
    // no, not all properties of all objects in List2 are same in List1
    // notInL1 contains the set difference
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T10:00:36.727

你可以试试：

```
bool areAllElementsInList2 = list1.All(i => list2.Contains(i)); 
```

Contains-Methode 使用 Equals-Methode 指定项目是否在该列表中。所以你应该重写Filter-Class的Equals-Methode。

或者你试试：

```
bool areAllElementsInList2 = list1.All(i1 => list2.Any(i2 => i1.Name == i2.Name && i1.Value == i2.Value)); 
```

HTH 托比

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-20T10:01:03.230

```
bool list1doesNotContainAllFromList2 = list2.Except(list1).Any(); 
```

请注意，如果您需要使用集合 - 比较等，最好使用`HashSet<>`集合而不是`List<>`- 它具有类似`ExceptWith`或`UnionWith`比标准 LINQ 运算符执行得更快的方法。

# database - CodeIgniter 中的一对多数据库关系

> ID：13470646
> 
> 赞同：2
> 
> 时间：2012-11-20T09:57:32.333
> 
> 标签：database, codeigniter, relationship

我有一些产品和一些图像。还有更多图像，它们有一个 p_id。我如何获得多个？是为了画廊。我目前的查询：

```
 $this->db->select('prod_id, prod_name, prod_link, prod_description, prod_status, prod_price, brand_link, link, cat_link, normal, thumbnail');

    $this->db->from('product');
    $this->db->join('category', 'cat_id = prod_category');
    $this->db->join('brands', 'brand_id = prod_brand');
    $this->db->join('images', 'p_id = prod_id');

    $query = $this->db->get();

    return $query->row_array(); 
```

这只会给我第一张图片以及其他信息。如果我将其更改为 result_array() 它也会给我第二个，但在另一个数组中。（以及产品的其他结果，这没有意义）。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-20T10:27:50.117

正如我上面提到的，您可以再次访问数据库以获取该产品的图像数组，然后将这些结果添加回原始查询数组。

```
$this->db->select('prod_id, prod_name, prod_link, prod_description, prod_status, prod_price, brand_link, link, cat_link, normal');
$this->db->join('category', 'cat_id = prod_category');
$this->db->join('brands', 'brand_id = prod_brand');
$query = $this->db->get('product')->result_array();

// Loop through the products array
foreach($query as $i=>$product) {

   // Get an array of products images
   // Assuming 'p_id' is the foreign_key in the images table
   $this->db->where('p_id', $product['prod_id']);
   $images_query = $this->db->get('images')->result_array();

   // Add the images array to the array entry for this product
   $query[$i]['images'] = images_query;

}
return $query; 
```

# templates - 使用 TFS 2012 的工作区模板

> ID：13470648
> 
> 赞同：2
> 
> 时间：2012-11-20T09:57:38.967
> 
> 标签：templates, tfs, workspace

我最近安装了 Team Explorer 2012 和 TFS 2012 Power Tools 来访问我们升级的 tfs 2010，因为我需要工作区模板的功能。但似乎工作区模板的创建不起作用。我创建了一个空工作区（为什么我不能在没有现有工作区的情况下创建工作区模板？）并尝试从中创建一个工作区模板。我设置了服务器上项目的所有路径以及本地项目的所有路径，但是当我想从该模板创建工作区时，所有路径都被删除并且模板为空。难道我做错了什么？有没有人设法得到这项工作？

# python - Python S3 - 计算最近的日期

> ID：13470649
> 
> 赞同：0
> 
> 时间：2012-11-20T09:57:42.960
> 
> 标签：python, date, amazon-s3

我正在尝试创建一个脚本，该脚本从 S3 亚马逊存储桶中获取最新日期的文件。这是我目前正在使用的代码：

```
#!/usr/bin/env python

import boto
import boto.s3
from boto.s3.key import Key

# Define variables
AWS_ACCESS_KEY_ID = ''
AWS_SECRET_ACCESS_KEY = ''
BUCKET_NAME = 'My Bucket'
BUCKET = conn.get_bucket(bucket_name)
CONN = boto.connect_s3(AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY)

for key in bucket.list():
    print key.name 
```

我还没有机会注册亚马逊来测试这个，但我在互联网上找到了这段代码，它应该列出存储桶中的所有文件。

我的每个文件都使用以下名称格式注明日期：

```
NOW = datetime.datetime.now().strftime("%Y-%m-%d__%H-%M")
Example: 1999-01-30__10-30 (10:30 on the 30th Jan 1999) 
```

我的问题是，如果我想根据过时的文件名确定哪个是最新的文件，那么有什么好的方法呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T10:00:32.057

只需对文件名进行排序；最新的文件将是最后一个：

```
>>> sorted(['1999-01-30__10-30', '2012-10-10__11-22', '2011-01-30__22-11'])
['1999-01-30__10-30', '2011-01-30__22-11', '2012-10-10__11-22'] 
```

# python - 模拟 DB python

> ID：13470654
> 
> 赞同：2
> 
> 时间：2012-11-20T09:58:01.990
> 
> 标签：python, mocking

是否有一个简单的模拟示例来测试 python 中的连接数据库？我在谷歌上找到了很多例子，但我很困惑。我想测试一个连接数据库并执行一个查询，以理解概念，例如光标。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-20T10:01:23.987

如果您想了解这些概念，我认为嘲笑不是您的最佳解决方案。

我建议实际设置一个简单的数据库，例如 SQLite3，创建一些表，通过 Python 连接到它，并进行一些测试。

为了能够模拟某些东西，你需要知道你对你模拟的对象的期望是什么，如果你想了解它是如何工作的，那么你最好的答案就是实际尝试一下。

Sqlite3 内置在最新版本的 Python 中，因此您只需打开 python shell 并输入`import sqlite3`.

查看本教程以获取有关您可以做什么的一些提示：

[http://zetcode.com/db/sqlitepythontutorial/](http://zetcode.com/db/sqlitepythontutorial/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-20T10:00:26.523

正如 pcalcao 所说，我只是建议您使用数据库。Sqlite3 将让您立即启动并运行。现在 sqlite3 模块是在 python 中实现的。以下是官方文档中的一个（稍作修改）示例：http: [//docs.python.org/2/library/sqlite3.html](http://docs.python.org/2/library/sqlite3.html)

```
import sqlite3

# You can change example.db to :memory: below if you don't want to save to 
# file. But be aware that the data is (obviously) lost after the program has
# terminated.
conn = sqlite3.connect('example.db')  

c = conn.cursor()

# Create table
c.execute('''CREATE TABLE stocks
             (date text, trans text, symbol text, qty real, price real)''')

# Insert a row of data
c.execute("INSERT INTO stocks VALUES ('2006-01-05','BUY','RHAT',100,35.14)")

# Save (commit) the changes
conn.commit()

# Merged from another sample on the same page
t = ('RHAT',)
c.execute('SELECT * FROM stocks WHERE symbol=?', t)
print c.fetchone()

# We can also close the connection if we are done with it.
# Just be sure any changes have been committed or they will be lost.
conn.close() 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-20T10:15:48.570

如果您想嘲笑，可能会[在](http://docs.python.org/2/library/unittest.html)使用时查看单元测试。它适用于 sqlite3。

您可以创建一个环境，其中数据库连接照常工作，但所做的任何更改都不会持续。使用***setUp*** 方法创建测试所依赖的环境。很容易创建到仅内存数据库的新数据库连接，并使用所需的表和行填充该数据库。

***tearDown***方法来撤消 setUp 方法所做的任何事情，以便每个测试都可以在未触及的环境版本中运行。由于数据库仅在内存中，您需要做的就是关闭连接。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-20T10:07:53.087

就像其他人说的那样，您应该在 SQLite 上设置数据库并立即对其进行测试。

但是如果你需要一些带有模拟的测试套件，你可以使用[mockito](http://code.google.com/p/mockito-python/)包。它很容易使用。只需模拟一些对象，记录行为并检查是否正常。

# cassandra - ubuntu 12.04 中的 DataStax OpsCenter 无法正常工作

> ID：13470658
> 
> 赞同：0
> 
> 时间：2012-11-20T09:58:06.000
> 
> 标签：cassandra, datastax-enterprise, opscenter

我是 DataStax OpsCenter 和 cassandra 的新手，我想尝试一下。我按照网站（[http://www.datastax.com/docs/opscenter/install/install_deb](http://www.datastax.com/docs/opscenter/install/install_deb)）中的步骤进行操作，没有出现任何错误。我正在使用 ubuntu 12.04 。

```
sudo service opscenterd start 
```

这不会显示任何错误或任何其他消息。当我尝试从浏览器运行它时，我无法连接错误。请帮我解决它。opscenter 是免费版。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-10-26T22:49:59.180

启动后，您可以检查以确保它正在运行

```
ps aux|grep opscenterd 
```

如果是，那么您可能没有在 opscenterd.conf 日志中设置正确的 IP。安装文档中的第 6 步（[http://www.datastax.com/documentation/opscenter/3.2/webhelp/index.html?pagename=docs&version=opscenter&file=install/install_deb#opsc/install/opscInstallDeb_t.html](http://www.datastax.com/documentation/opscenter/3.2/webhelp/index.html?pagename=docs&version=opscenter&file=install/install_deb#opsc/install/opscInstallDeb_t.html)）说：

> 在 /etc/opscenter/opscenterd.conf 文件中将 [webserver] 接口设置为 OpsCenter 计算机的主机名或 IP 地址。例如：
> 
> [网络服务器] 端口 = 8888 接口 = 10.183.170.161

显然，您需要为这台机器使用可公开访问的 IP，而不是 10.183.170.161。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-03-06T18:00:41.027

如果您仍然遇到问题，您应该将 opscenterd 绑定到 0.0.0.0 以确保它运行正常并且可以访问。

此外，如果您在 AWS 上运行它，请务必检查安全组是否打开了端口 8888。

# c# - 使用数据库中的现有用户创建 MVC4 项目

> ID：13470664
> 
> 赞同：1
> 
> 时间：2012-11-20T09:58:25.967
> 
> 标签：c#, sql-server, asp.net-mvc-4, visual-studio-2012, sql-server-2012

我们正在制作一个学生项目，并且已经制作了一个带有`Customer`表的数据库（SQL Server 2012），该表具有`Id, Name, Address, Zip, Email`（也用作用户名）和`Password`（现在未加密，现有的 4 个测试用户都有`password = 1234`）

我正在尝试学习如何将 MVC4 项目创建为 Web 应用程序，并更改了连接字符串`web.config`以连接到我的服务提供商处的数据库。这也创建了一些 MVC 用于用户授权的表。

是否可以将其链接到我们现有的场景，让用户输入我需要的值，并更新数据库中的客户表？

我们正在使用 Visual Studio 2012，并在一家网络酒店托管了一个 SQL Server。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T10:51:16.457

如果您有可用的 .NET 4.5，则可以使用“SimpleMembership”，它消除了 asp.net 成员资格提供程序的许多缺点。

您可以在此处获取信息：http: [//blog.osbornm.com/archive/2010/07/21/using-simplemembership-with-asp.net-webpages.aspx](http://blog.osbornm.com/archive/2010/07/21/using-simplemembership-with-asp.net-webpages.aspx)和此处：[http ://weblogs.asp.net/ jgalloway/archive/2012/08/29/simplemembership-membership-providers-universal-providers-and-the-new-asp-net-4-5-web-forms-and-asp-net-mvc-4-templates。 aspx](http://weblogs.asp.net/jgalloway/archive/2012/08/29/simplemembership-membership-providers-universal-providers-and-the-new-asp-net-4-5-web-forms-and-asp-net-mvc-4-templates.aspx)

MVC4 Basic Internet Page Template 已经支持 SimpleMembership，因此您可以查看它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T14:13:37.337

我不会使用 SimpleMembership 与[本问答中讨论](https://stackoverflow.com/questions/12360126/simplemembership-with-custom-database-schema-in-asp-net-mvc-4)的现有数据库集成。顾名思义，它是针对 MVC 4 应用程序的简单开箱即用安全解决方案，您在尝试扩展它时很容易碰壁。我建议创建一个[自定义 MembershipProvider ，如此处所述](http://www.asp.net/web-forms/videos/how-do-i/how-do-i-create-a-custom-membership-provider)。

# javascript - 加载栏未在 chrome 中显示

> ID：13470665
> 
> 赞同：0
> 
> 时间：2012-11-20T09:58:26.950
> 
> 标签：javascript, ajax, jquery

当我点击我的分页器链接时，我想显示一个加载栏。分页器通过 ajax 函数。当我使用 mozila 时，它会显示加载栏。但是当我使用 chrome,safari 时它没有显示加载栏

我的加载栏是一个 div，它出现在我的 index.php 文件中。

```
<div class="loading_wrapper" id="loading_wrapper" style="display:none;">
<div class="load_animation"><img src="/magsonwink/images/loadinfo.gif" width="24" height="24" /></div>
<div class="load_texts"><h4>Loading...</h4></div>
<div class="clear"></div> 
```

分页器链接也存在于 index.php 文件中。当我单击分页器链接时，这将转到该功能

```
 var resp_msg =
            $.ajax({
                url: path + set_page,
                async: false,
                beforeSend: function() {
                    $('#loading_wrapper').show();
                },
                success: function(data, result) {
                if (!result)
                    alert('Failure to set the value.');
                }
            }).responseText;

if (resp_msg) {

    $('#loading_wrapper').hide();
    $(objReplace).html(resp_msg);
 } 
```

这在 mozila 中运行良好，但在 chrome 中却没有。当我查看错误控制台时没有显示错误。请帮助我。提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T10:16:20.597

试试这个

```
var resp_msg =
        $.ajax({
            url: path + set_page,
            async: false,
            beforeSend: showloader() ,
            success: function(data, result) {
            if (!result)
                alert('Failure to set the value.');
            }
        }).responseText;

if (resp_msg) {

$('#loading_wrapper').hide();
$(objReplace).html(resp_msg);}

function showloader(){  $('#loading_wrapper').show();  } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-20T10:45:36.957

为什么“异步”设置为“假”。将属性设置为“true”应该可以解决问题！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-11-14T09:43:16.020

你测量过响应时间吗？是不是来得太快了？与 Firefox 相比，Chrome 和 IE 需要更多时间来渲染图像。您的图像隐藏/显示可能没有足够的时间进行渲染。通过应用一些延迟来检查这一点，您也可以在 Chrome 和 IE 中看到图像

# xml - 如何将应用程序路径位置保存到 XML 节点中

> ID：13470666
> 
> 赞同：3
> 
> 时间：2012-11-20T09:58:36.757
> 
> 标签：xml, inno-setup

我有一个问题，我浏览了互联网，但没有得到帮助。这是问题所在： - 我想将应用程序路径位置保存在 XML 节点中。问题是我不能对目录使用 consts 名称，因为安装程序会写下我放在那里的任何单词，就像我写它的方式一样。

```
 function NextButtonClick2(CurPageID: Integer): Boolean;
   begin
    Result := True;
    SaveValueToXML(ExpandConstant('{pf}\XXX\Config.xml'), '//@param', PEdit.Text);
    SaveValueToXML(ExpandConstant('{pf}\XXX\Config.xml'), '//@path', '{app}\XXX\Aplication.exe');
   end; 
```

这是我得到的结果

```
<?xml version="1.0" encoding="UTF-8"?>
-<games> <game priority="0" display="1" param="test" path="{app}\Aplication.exe" id="1036"/> </games> 
```

这是我期望的结果：

```
<?xml version="1.0" encoding="UTF-8"?>
-<games> <game priority="0" display="1" param="test" path="C:\Program Files (x86)\XXX\Aplication.exe" id="1036"/> </games> 
```

位置是正确的......但前提是我手动编写它。这是一个问题，安装程序会以自动方式从 XML 编辑路径节点......然后，如果用户有不同的硬盘驱动器号 [C、D、F、H 等] 或不同的路径位置主应用程序，在安装过程中会出错。

请帮忙！从现在开始谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-20T16:27:53.720

您没有为要存储的值调用 ExpandConstant 函数，只是为 XML 的名称。

将您的代码更改为：

```
function NextButtonClick2(CurPageID: Integer): Boolean;
begin
  Result := True;
  SaveValueToXML(ExpandConstant('{pf}\XXX\Config.xml'), '//@param', PEdit.Text);
  SaveValueToXML(ExpandConstant('{pf}\XXX\Config.xml'), '//@path',
    ExpandConstant('{app}\XXX\Aplication.exe')); 
```

结尾;

你会得到你想要的。

# c# - 从 datarowview WPF 获取 datagridrow

> ID：13470667
> 
> 赞同：5
> 
> 时间：2012-11-20T09:58:34.760
> 
> 标签：c#, wpf, datagrid

我试图遍历数据网格中的每一行，拉出一个列值，将此值传递给一个方法并根据方法的结果设置该行的样式。

在发现我不能只遍历数据网格的行后，我发现[这篇](https://stackoverflow.com/questions/1934529/how-to-loop-over-the-rows-of-a-wpf-toolkit-datagrid)文章详细说明了它是如何实现的。

我稍作修改，以便使用 datarowview 对象。

我现在遇到的问题是

```
var dgRow = grid.ItemContainerGenerator.ContainerFromItem(r) as DataGridRow; 
```

总是返回null。

请有人建议我为什么会发生这种情况，以及他们是否能找到一种更简单的方法。

如果您需要更多信息，请告诉我。

这是我的代码：

```
private void colorArchived( DataGrid grid , GX3MaterialSelectionData data)
    {
        var row = GetDataGridRows(grid);
        foreach (DataRowView r in row)
        {
            var dgRow = grid.ItemContainerGenerator.ContainerFromItem(r) as DataGridRow;
            int val = int.Parse(r.Row[0].ToString());
            if ( data.IsArchived(val) )
            {
                // style will be defined in xaml
                dgRow.Style = mystyle;
            }

        }

    }

    public IEnumerable<DataRowView> GetDataGridRows(DataGrid grid)
    {
        var itemsSource = grid.ItemsSource as IEnumerable;
        if (null == itemsSource) yield return null;
        foreach (var item in itemsSource)
        {
            var row = item;
            if (null != row) yield return (DataRowView)row;
        }
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T12:34:31.950

根据您的问题，我刚刚更新了上述 StyleSelector 类：

```
public class RowStyle : StyleSelector
{
    public override Style SelectStyle(object item, DependencyObject container)
    {
        var dgRow = item as DataGridRow;
        int val = int.Parse(dgRow.Row[0].ToString());
        if ( data.IsArchived(val) )
        {
            return Mystyle;
        }
        return base.SelectStyle(item, container);
    }

    // style will be defined in xaml
    public Style Mystyle
    {
        get;
        set;
    }
} 
```

注意：将“GX3MaterialSelectionData 数据”描述为类的静态，以便上述类可以直接访问它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T10:27:39.447

You could use a StyleSelector in this case.

```
public class RowStyle : StyleSelector
{
    public override Style SelectStyle(object item, DependencyObject container)
    {
        // here the item property is the entity that the grid row is bound to.
        // check whatever values you want on it and locate a matching style with
        // find resource.

        // return a reference to the correct style here

        // or allow this to run if you want the default style.
        return base.SelectStyle(item, container);
    }
} 
```

to use it on your data grid you need to set the RowStyleSelector property.

```
<Window x:Class="Rich.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="clr-namespace:Rich"
        DataContext="{Binding RelativeSource={RelativeSource Self}}"
        Title="MainWindow" Height="350" Width="525">
    <Window.Resources>
        <local:RowStyle x:Key="styleSelector"/>
    </Window.Resources>
    <Grid>
        <DataGrid ItemsSource="{Binding Items}" RowStyleSelector="{StaticResource styleSelector}">            
            <DataGrid.Columns>
                <DataGridTextColumn Header="test" Binding="{Binding Test1}"/>
                <DataGridTextColumn Header="test2" Binding="{Binding Test2}"/>
                <DataGridTextColumn Header="test3" Binding="{Binding Test3}"/>
            </DataGrid.Columns>
        </DataGrid>
    </Grid>
</Window> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-10-11T05:54:17.030

**方法一：**

```
//simple way using SelectionChanged or RowEditEnding event without DataRowView
        DataRowView row = (DataRowView)t_DataGrid.SelectedItems[0];

        DataGridRow row1 = e.Row; 
```

**方法二：**

```
 //convert  datagridrow to datarowview (it works sometimes only databinding problems)
    DataGridRow dgr = FindVisualParent<DataGridRow>(txtPcode);
    DataRowView drv = dgr.DataContext as DataRowView; 
```

**方法3：**

```
//it needs improvements
DataRowView dataRow = (DataRowView)t_DataGrid.SelectedItem;
//subitem
int i_cell = t_DataGrid.CurrentCell.Column.DisplayIndex;
int i= int.Parse(dataRow.Row.ItemArray[id_cell].ToString());
//get datagrid by index
DataGridRow dgr = DG.GetRow(t_DataGrid_temp, i);

//create this special Datagrid class for getting full access over datagrid
public static class DG
{
    /* Get the Cell using Row Index and Column Index */
    public static DataGridCell GetCell(DataGrid grid, int row, int column)
    {
        DataGridRow rowContainer = GetRow(grid, row);
        return GetCell(grid, rowContainer, column);
    }

    /* Get the DataGridRow using Row Index */
    public static DataGridRow GetRow(DataGrid grid, int index)
    {
        DataGridRow row = (DataGridRow)grid.ItemContainerGenerator.ContainerFromIndex(index);
        if (row == null)
        {
            // May be virtualized, bring into view and try again.
            grid.UpdateLayout();
            grid.ScrollIntoView(grid.Items[index]);
            row = (DataGridRow)grid.ItemContainerGenerator.ContainerFromIndex(index);
        }
        return row;
    }

    /* Get the Cell using DataGridRow Object and Column Index */
    public static DataGridCell GetCell(DataGrid grid, DataGridRow row, int column)
    {
        if (row != null)
        {
            DataGridCellsPresenter presenter = GetVisualChild<DataGridCellsPresenter>(row);

            if (presenter == null)
            {
                grid.ScrollIntoView(row, grid.Columns[column]);
                presenter = GetVisualChild<DataGridCellsPresenter>(row);
            }

            DataGridCell cell = (DataGridCell)presenter.ItemContainerGenerator.ContainerFromIndex(column);
            return cell;
        }
        return null;
    }

    /* Get the Child Element Based on Type */
    public static T GetVisualChild<T>(Visual parent) where T : Visual
    {
        T child = default(T);
        int numVisuals = VisualTreeHelper.GetChildrenCount(parent);
        for (int i = 0; i < numVisuals; i++)
        {
            Visual v = (Visual)VisualTreeHelper.GetChild(parent, i);
            child = v as T;
            if (child == null)
            {
                child = GetVisualChild<T>(v);
            }
            if (child != null)
            {
                break;
            }
        }
        return child;
    }

    /* Get the Child by name */
    public static T FindChild<T>(DependencyObject parent, string childName) where T : DependencyObject
    {
        if (parent == null) return null;

        T foundChild = null;

        int childrenCount = VisualTreeHelper.GetChildrenCount(parent);
        for (int i = 0; i < childrenCount; i++)
        {
            var child = VisualTreeHelper.GetChild(parent, i);
            T childType = child as T;
            if (childType == null)
            {
                foundChild = FindChild<T>(child, childName);
                if (foundChild != null) break;
            }
            else if (!string.IsNullOrEmpty(childName))
            {
                var frameworkElement = child as FrameworkElement;
                if (frameworkElement != null && frameworkElement.Name == childName)
                {
                    foundChild = (T)child;
                    break;
                }
            }
            else
            {
                foundChild = (T)child;
                break;
            }
        }
        return foundChild;
    }
    /*get parent*/
    public static T GetParent<T>(DependencyObject d) where T : class
    {
        while (d != null && !(d is T))
        {
            d = VisualTreeHelper.GetParent(d);
        }
        return d as T;
    }

    //new
    public static Visual GetChildrenByType(Visual visualElement, Type typeElement, string nameElement)
    {
        if (visualElement == null) return null;
        if (visualElement.GetType() == typeElement)
        {
            FrameworkElement fe = visualElement as FrameworkElement;
            if (fe != null)
            {
                if (fe.Name == nameElement)
                {
                    return fe;
                }
            }
        }
        Visual foundElement = null;
        if (visualElement is FrameworkElement)
            (visualElement as FrameworkElement).ApplyTemplate();
        for (int i = 0; i < VisualTreeHelper.GetChildrenCount(visualElement); i++)
        {
            Visual visual = VisualTreeHelper.GetChild(visualElement, i) as Visual;
            foundElement = GetChildrenByType(visual, typeElement, nameElement);
            if (foundElement != null)
                break;
        }
        return foundElement;
    }
} 
```

# iphone - 钛推恢复 iPhone

> ID：13470669
> 
> 赞同：1
> 
> 时间：2012-11-20T09:58:37.833
> 
> 标签：iphone, mobile, titanium, push

我有一个关于钛的应用程序，我想知道如何在我的应用程序中恢复来自苹果的推送。

最终是在通知点击后打开应用时根据推送数据打开特定窗口。

问候，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-21T08:25:14.100

我独自发现：如果恢复来自点击通知，则在恢复后调用 Titanium.Network.registerForPushNotifications。我认为这是目前最好的方式。

```
app.globals.is_resumed = true; // where app.globals is your globals object in app

Titanium.Network.registerForPushNotifications({
    types:[
        Titanium.Network.NOTIFICATION_TYPE_BADGE,
        Titanium.Network.NOTIFICATION_TYPE_ALERT,
        Titanium.Network.NOTIFICATION_TYPE_SOUND
          ],
    success: successCallback,
    error: errorCallback,
    callback: function(notif) {
             // you can use notif.data ..
             if (app.globals.is_resumed === false) {
                // application is launch on notification click
             } else {
                // application is already launch when notification pop
             }
        }
});

Titanium.App.addEventListener('pause', function() {
    app.globals.is_resumed = true;
});

Titanium.App.addEventListener('resumed', function(e) {
        app.globals.is_resumed = false;
}); 
```

# ruby-on-rails - 如何通过迁移同时重命名列并更改其类型

> ID：13470670
> 
> 赞同：25
> 
> 时间：2012-11-20T09:58:42.550
> 
> 标签：ruby-on-rails, ruby-on-rails-3

在我的`general_exams`表中，我有一个名为 的列`semester`，类型为`string`。现在我想把它的名字改成`semester_id`，输入是`integer`。我已阅读有关迁移的信息，并且它具有可用的转换：

*   rename_column(table_name, column_name, new_column_name)：重命名列但保留类型和内容。
*   change_column(table_name, column_name, type, options)：使用与 add_column 相同的参数将列更改为不同的类型。

所以，我像这样创建我的迁移文件：

```
class RenameSemesterFromGeneralExams < ActiveRecord::Migration

  def change
    rename_column :general_exams, :semester, :semester_id
    change_column :general_exams, :semester_id, :integer
  end
end 
```

但是，当我运行时`rake db:migrate`，它有错误：

```
==  RenameSemesterFromGeneralExams: migrating =================================
-- rename_column(:general_exams, :semester, :semester_id)
   -> 0.0572s
-- change_column(:general_exams, :semester_id, :integer)
rake aborted!
An error has occurred, this and all later migrations canceled:

PG::Error: ERROR:  column "semester_id" cannot be cast to type integer
: ALTER TABLE "general_exams" ALTER COLUMN "semester_id" TYPE integer 
```

在我的 GeneralExam 表中，我销毁了所有数据。那么，任何人都可以告诉我我该怎么做？或者我必须创建两个迁移文件？

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2015-05-26T08:57:26.730

这适用于 Rails 4

```
def change
  rename_column :general_exams, :semester, :semester_id
  change_column :general_exams, :semester_id, :integer
end 
```

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2012-11-20T10:02:18.297

您的问题可能是`semester`包含无法转换为`integers`. 这就是为什么你得到一个演员错误。

我怀疑您需要做更多的工作才能完成这项工作，因为唯一想到的是删除列并创建一个具有正确值的新列。

但是您可以在一次迁移中简单地 remove_column 然后 add_column。那应该完美无缺。

我还建议您先仅 add_column，然后执行映射过程，将旧`semester`值映射到新值`semester_id`，然后删除列。

请记住，您可以在迁移中进行 ActiveRecord 操作。所以你可以把那个代码放在那里。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2018-02-11T02:36:59.337

我希望这有帮助

```
类 ModifyColumnTables
  定义变化
    remove_column :posts, :old_column
    add_column :posts, :new_column, :type_of_column
  结尾
结尾

```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-20T10:06:15.507

此错误是因为表中存在现有数据（或默认值，可能是 ..）PG 不知道如何从字符串转换为整数。要么删除数据，要么告诉 PG 你想如何转换它，使用 PG 特定的 SQL（我想你会想要`USING`）和`execute`迁移命令。请参阅 Rails 迁移指南。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2021-04-18T22:57:25.397

您可以通过一次迁移来完成此操作。但这并不总是有效，您可能会遇到错误，尤其是在将列从布尔类型转换为整数类型或将字符串类型转换为整数类型时，**除非您具体说明如何转换此数据**。

所以你在`general_exams`表中有一个名为的列`semester`，它是一个字符串。您想将其重命名为`semester_id`并且您想将其类型更改为整数。

在您执行任何这些操作之前，请确保您已将您的工作提交给 git，以便您始终可以重置为旧提交并重新开始，而不会丢失您的工作。

**在你的终端运行**

```
rails g migration rename_the_column_semester_to_semester_id 
```

这将为您生成迁移。现在打开您的迁移文件。

```
db/migrate/20210xxx_rename_the_column_semester_to_semester_id.rb 
```

**它看起来像这样：**

```
class RenameTheColumnSemesterToSemesterID < ActiveRecord::Migration
  def change
  end
end 
```

**在更改方法中，使您的文件看起来像这样。**

```
class RenameTheColumnSemesterToSemesterID < ActiveRecord::Migration
  def change
    rename_column :general_exams, :semester, :semester_id
    change_column :general_exams, :semester_id, :integer, using: 'semester_id::integer'
  end
end 
```

**或者，您可以这样做：**

```
class RenameTheColumnSemesterToSemesterID < ActiveRecord::Migration
  def change
    rename_column :general_exams, :semester, :semester_id
    change_column :general_exams, :semester_id, 'integer USING CAST(semester_id AS integer)'
  end
end 
```

**注意 重要提示：** 仅当您的列在表中没有默认值时，上述内容才有效。这很重要，因为如果您已经为列设置了默认值，您仍然会收到错误，例如`PG::DatatypeMismatch: ERROR: default for column "semester_id" cannot be cast automatically to semester integer`PG 会抱怨您的学期列已经有默认值。在这种情况下，您需要在重命名列并设置新的默认值后删除默认值。

```
class RenameTheColumnSemesterToSemesterID < ActiveRecord::Migration
  def change
    rename_column :general_exams, :semester, :semester_id
    execute "ALTER TABLE general_exams ALTER semester_id DROP DEFAULT;"
    change_column :general_exams, :semester_id, :integer, using: 'semester_id::integer', default: 1
  end
end 
```

当然，您可以设置您想要的任何默认值，以防您在模型中从 0、1、2 或其他值枚举。

保存您的迁移。并运行

```
rails db:migrate 
```

# c# - String.Split() 删除前导零

> ID：13470678
> 
> 赞同：3
> 
> 时间：2012-11-20T09:59:07.223
> 
> 标签：c#, .net, string, split

我正在尝试拆分我当前的应用程序版本号，但删除了前导零。

如何更改我的拆分以不删除前导零。

获取当前版本号：

```
startUpAssembly.GetName().Version.ToString() 
```

所以对于测试：

```
string versionNo = "7.01.7000.0";

string[] versionInfo = versionNo.Split('.'); 
```

这会产生：

```
7
1 //Here i need it to be 01
7000
0 
```

而且我需要它不删除前导零。我如何实现这一目标？

也许使用正则表达式有更好的解决方案？

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2012-11-20T10:02:26.677

A`System.Version`不是任意字符串 - 它是四个整数。前导零无关紧要，因此在转换回字符串时不包括在内。那是您丢失信息的地方 - 而不是`String.Split`. 你可以很容易地看到这一点：

```
using System;

class Test
{
    static void Main()
    {
        Version version = new Version("7.01.7000.0");
        Console.WriteLine(version); // 7.1.7000.0
    }
} 
```

基本上，你的计划存在根本缺陷，你应该改变你的设计。您不应该*试图*代表“7.01.7000.0”的版本开始。

此外，您应该退后一步，考虑一下您的诊断程序：是什么让您认为这`String.Split`是罪魁祸首？为什么你的第一步不看结果`startUpAssembly.GetName().Version.ToString()`？

# android - 无法使用 android 模拟器连接到应用程序，但可以使用设备连接？

> ID：13470679
> 
> 赞同：0
> 
> 时间：2012-11-20T09:59:09.830
> 
> 标签：android

我有一个开放的互联网连接，但我无法通过安卓模拟器连接到网络服务......但可以将它连接到安卓设备。我想通过模拟器连接它以进行日常工作，可以通过wi-fi吗？为什么没有连接？

# database - 哈希和索引有什么区别？

> ID：13470688
> 
> 赞同：29
> 
> 时间：2012-11-20T09:59:46.957
> 
> 标签：database, hash, indexing

我研究过 DBMS 中的散列（可扩展、线性）和 DBMS 中的索引（稀疏、密集、基于辅助键的索引等），但我无法理解散列和索引之间的区别。这两种技术是一起使用还是只是使用？我很困惑，因为这两种技术的目的似乎都是为了让我们能够快速检索数据，所以我认为任何一种都应该足够了。

任何人都可以澄清区别吗？

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2012-11-20T12:03:51.220

什么是索引？

索引是一种对多个字段上的许多记录进行排序的方法。在表中的字段上创建索引会创建另一个数据结构，该结构包含字段值和指向与其相关的记录的指针。然后对该索引结构进行排序，允许对其执行二进制搜索。

什么是哈希？

散列是将字符串转换为通常较短的固定长度值或表示原始字符串的键。散列用于索引和检索数据库中的项目，因为使用较短的散列键查找项目比使用原始值查找项目更快。

我想这可能会消除你的疑问。

* * *

## 回答 #2

> 赞同：16
> 
> 时间：2012-11-20T12:21:41.153

哈希是一种索引：它可用于根据键定位记录——但它不保留任何记录顺序。基于哈希，不能迭代到后续或前面的元素。然而，这就是索引的作用（在数据库的上下文中）。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-09-17T09:00:03.257

*   散列不保证不同的值将散列到不同的地址。
*   哈希中存在冲突。
*   散列导致溢出。
*   无需访问索引结构来定位数据然后从 DB 文件中读取数据。
*   有定义索引的命令，但没有定义散列的命令。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-02-24T12:28:33.503

**散列**是一种高级搜索技术，即将大数据制成小数据项并存储在表中。但是**索引**和二进制搜索属于线性搜索。

并且**索引**也用于为多个字段的组合创建索引（键）

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2019-12-17T09:56:26.297

## **索引和散列之间的区别**

**按定义**
**索引**是一种数据结构技术，可根据发生索引的某些属性有效地从数据库文件中检索记录。另一方面，**散列**是一种无需使用索引结构即可计算数据记录在磁盘上的直接位置的有效技术。因此，这是索引和散列之间的主要区别。

**按功能**
索引使用数据引用来保存磁盘块的地址以及与键对应的值，而散列使用称为散列函数的数学函数来计算磁盘上数据记录的直接位置。因此，这也是索引和散列之间的主要区别。

*索引*和*散列*之间的另一个区别是散列适用于大型数据库而不是索引。

# java - 如何用java获取网页的源代码？（如何处理延迟加载？）

> ID：13470689
> 
> 赞同：2
> 
> 时间：2012-11-20T09:59:46.613
> 
> 标签：java, ajax, webpage, scribe

我想获取整个（整个）网页的源代码，但是网站的某些内容一开始没有加载。（似乎这与Ajax有关）我怎样才能获得这些没有用java一次加载的内容？

我尝试使用`java's url.openStrem`. 但这没有用。`loading...`加载后我只得到内容“ ”而不是真正的内容。

非常感谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T13:09:04.047

尝试对此类事情使用 html 解析器。[Jericho Htmlparser](http://jericho.htmlparser.net/docs/index.html)在这里会很有帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T13:20:25.377

您需要远程控制现有的浏览器（使用 Java 并不容易，因为大多数使用其他语言/组件系统/接口）或使用可以执行 Javascript 的无头浏览器。[HTMLUnit](http://htmlunit.sourceforge.net/)属于后一类。

# emacs - 在 emacs 中重新绑定键时的意外行为

> ID：13470695
> 
> 赞同：5
> 
> 时间：2012-11-20T10:00:04.823
> 
> 标签：emacs, elisp

所以，我尝试将一个键映射到与默认不同的命令，但我没有得到想要的效果。

```
(global-set-key (kbd "<left>") (message "Use C-f!")) 
```

如您所见，重点是显示消息“使用 Cf！” 按下左箭头键时在回声区域中。但是，这样做是将消息输出到我正在编辑的当前缓冲区中。

我错过了什么？

问候，

大卫·林德

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-20T10:05:29.937

您应该将键绑定到命令：

```
(global-set-key (kbd "<left>") (lambda () (interactive) (message "Use C-f!"))) 
```

# com - 无法将 COM dll 的引用添加到 WP8 项目

> ID：13470697
> 
> 赞同：2
> 
> 时间：2012-11-20T10:00:14.630
> 
> 标签：com, windows-phone-8

我已经创建了 WP8 C# 项目，向解决方案添加了一些本机项目 - COM dll，现在我想在 C# 项目中添加对这些 dll 的引用，以便使用它们，但不能这样做 - 获取

```
A reference to higher version or incompatible assembly cannot be added to the project 
```

如何解决这个问题？我做错了什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-20T10:21:56.117

您不能直接将 COM 库添加到 Windows Phone 8 项目。您必须使用 WinRT 包装器，或者更好的是，在 WinRT 中重写整个 COM 部分。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T10:23:01.380

您不能只引用任何程序集 - 本机程序集必须构建为 Windows Phone 运行时组件。如果您可以访问源代码，则可以尝试将它们重新构建为 Windows Phone 运行时组件，否则您可能会不走运。

# java - jar 文件中的运输库

> ID：13470703
> 
> 赞同：0
> 
> 时间：2012-11-20T10:00:28.967
> 
> 标签：java, jar, executable-jar

当我将一个库添加到我的项目 bin 目录并在 jar 文件中提供时。

现在是静态链接还是动态链接代码？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T10:48:27.343

您是在谈论 DLL / 共享对象 / 本机二进制文件吗？Java 世界中没有静态或动态链接之类的东西。只有您放在类路径中的罐子。任何本机都应位于操作系统特定的本机搜索路径中。“bin”目录没有标准，但 IDE 可能会促进类似的事情。您必须查看您正在使用的 IDE 的手册。

我倾向于将所有使用的本地程序放在调用 java 命令的目录中。由于我总是构建可执行的 jar，因此本地程序与 jar 位于同一目录中。又好又笨，不需要配置。

# c++ - 类 Erlang 线程替代或 erl_nif 性能

> ID：13470708
> 
> 赞同：0
> 
> 时间：2012-11-20T10:00:34.823
> 
> 标签：c++, c, erlang

我非常喜欢 Erlang 的线程架构（小型廉价线程和“无共享”架构），但似乎 Erlang 并不完全适合我的应用程序（这些东西在 C/C++ 中性能更高，而 Erlang 不是最好的）。

好吧，正如我已经说过的，我真的很喜欢 Erlang 的线程架构（它不使用操作系统线程）。所以，我的问题是 - 是否有任何类似的库可以实现这种架构以在 C/C++ 代码中使用？据我谷歌搜索，找不到比 Java 的“绿色线程”（很久以前弃用并从当前版本中删除）和 D 的“纤维”（仅限于一个“真实”线程，而 Erlang线程由 Erlang 在最合适的“真实”线程上执行），它们有些相似，但不如 Erlang 线程强大。

如果没有这样的库，我正在考虑使用[erl_nif](http://www.erlang.org/doc/man/erl_nif.html)接口在 C/C++ 中编写所需的代码块。但是我在任何地方都找不到任何性能分析 - erl_nif 是否很快，或者将 Erlang 术语/数据类型“转换”为 C/C++ 类型的开销真的很大？

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-20T10:08:25.030

[Akka](http://akka.io/)提供 Erlang 风格的 actor，但适用于 Java/Scala，而不是 C/C++。

根据我的阅读（例如[http://www.scribd.com/doc/87376094/Erlang-and-OTP-in-Action#outer_page_324](http://www.scribd.com/doc/87376094/Erlang-and-OTP-in-Action#outer_page_324)），NIF 速度很快但有潜在危险，因为它们可能会使您的整个 Erlang 程序崩溃. 您可以尝试使用 Erlang 端口 (http://www.erlang.org/doc/reference_manual/ports.html) 与 C/C++ 进行通信，因为端口将非 Erlang 代码与 Erlang 监督树分开，因此更安全.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-20T10:10:18.447

你所追求的是所谓的“演员模特”

有相当多的 C++ 库实现它

1.  libcppa
2.  演员-CPP
3.  塞隆

哪个更好完全取决于您的特定用例。

但是请注意，与 erlang 的进程相比，它们**都**不能同时进行廉价线程和抢占式任务切换。您可以将您的参与者一对一映射到工作操作系统线程并进行抢先切换，或者使用基于事件的参与者和协作多任务处理。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-20T12:14:45.360

`erl_nif` *确实*使用操作系统线程：

> 避免在 NIF 调用中执行冗长的工作，因为这可能会降低 VM 的响应能力。NIF 由执行调用 Erlang 代码的同一调度程序线程直接调用。因此，调用调度程序将被阻止执行任何其他工作，直到 NIF 返回。

所以看起来 Akka 可能是你的最佳选择。

# c# - WCF 和 Ajax。不允许的方法让我发疯

> ID：13470714
> 
> 赞同：3
> 
> 时间：2012-11-20T10:00:41.423
> 
> 标签：c#, jquery, ajax, wcf, web-config

我正在将 ajax 连接到 wcf 服务。但是继续获取​​方法是不允许的。调试了几天。我不明白。我只是在测试默认的 GetData(int value) 方法。

阿贾克斯：

```
 <script type="text/javascript" src="jquery-1.7.2.min.js"></script>
<script type="text/javascript">
   $.ajax({
            type: "POST",
            url: "http://localhost:19478/Service1.svc/GetData",
            data: JSON.stringify({"value": "test"}),
            contentType: "application/json; charset=utf-8",
            dataType: "jsonp",
             success: function (msg) {
                        alert(msg);
                    },
         error: function (msg) {
                        alert("Failed");
                    }
        });

        function OnSuccessCall(response) {
            alert(response);
        }

        function OnErrorCall(response) {
            alert(response.status + " " + response.statusText);
        }

        </script> 
```

网络配置：

```
<?xml version="1.0"?>
<configuration>

  <appSettings>
    <add key="aspnet:UseTaskFriendlySynchronizationContext" value="true" />
  </appSettings>
  <system.web>
    <compilation debug="true" targetFramework="4.5" />
    <httpRuntime targetFramework="4.5"/>
  </system.web>
  <system.serviceModel>

    <services>
      <service name="WcfServiceTest.Service1" behaviorConfiguration="myServiceBehavior">
        <endpoint name="webHttpBinding"
                  address="" binding="webHttpBinding"
                  contract="WcfServiceTest.IService1"
                  behaviorConfiguration="webHttp"
                  >
        </endpoint>
        <endpoint name="mexHttpBinding"
                  address="mex"
                  binding="mexHttpBinding"
                  contract="IMetadataExchange"
                  />
      </service>
    </services>

    <behaviors>

      <serviceBehaviors>
        <behavior name="myServiceBehavior" >
          <serviceMetadata httpGetEnabled="true" />
          <serviceDebug includeExceptionDetailInFaults="false" />
        </behavior>
        <behavior>

          <serviceMetadata httpGetEnabled="true" httpsGetEnabled="true"/>

          <serviceDebug includeExceptionDetailInFaults="false"/>
        </behavior>

      </serviceBehaviors>
      <endpointBehaviors>
        <behavior name="webHttp">
          <webHttp/>
        </behavior>

        <behavior name="NewBehavior0">
          <webHttp helpEnabled="true"/>

        </behavior>
      </endpointBehaviors>

    </behaviors>
    <protocolMapping>
        <add binding="basicHttpsBinding" scheme="https" />
    </protocolMapping>    
    <serviceHostingEnvironment aspNetCompatibilityEnabled="true" multipleSiteBindingsEnabled="false" />
  </system.serviceModel>
  <system.webServer>
    <modules runAllManagedModulesForAllRequests="true"/>
    <!--
        To browse web app root directory during debugging, set the value below to true.
        Set to false before deployment to avoid disclosing web app folder information.
      -->
    <directoryBrowse enabled="true"/>
  </system.webServer>

</configuration> 
```

服务1：

```
 [OperationContract]
        [WebInvoke(Method="POST",
        RequestFormat=WebMessageFormat.Json,
        ResponseFormat=WebMessageFormat.Json)]
        string GetData(String value); 
```

服务1：

```
public string GetData(String value)
        {
            return string.Format("You entered: {0}", value);
        } 
```

上面什么都没有`public class Service1 : IService1`。`[ServiceContract]`上面有一个`public interface IService1`。

我添加了很多东西，删除了很多东西..我不知道了。我怀疑它是我的 web.config 文件，我不明白那部分

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-20T10:05:34.103

您的操作合同表明它是一个 post 方法，但您请求`JSONP`它只支持`Get`请求。如果它不是跨域请求，您不需要使用 JSONP，只需`Post`为您的请求设置方法并删除类型，您的响应格式也不是 JSON 对象，也可以根据您的需要，通过更改合同或更改方法中的返回数据，然后它应该可以工作。

编辑评论：

首先 JSONP 不是实际的 xmlhttprequest 对象请求。它所做的是向您的页面添加一个脚本标签，该标签具有您的回调函数，其中请求数据作为参数。它主要针对跨域数据共享。JSONP 请求返回如下内容

请求网址：domain.com/getJsonp?callback=processJSONP

哪个返回；

```
processJSONP( {
   resultList: [{data: "hello"}, 
                {data: "world"}
   // and lost of data you need.
   ]
}); 
```

请注意 processJSONP 这已经是您在页面或库中的功能，可以做任何您想做的事情。

```
function processJSONP(jsonpResult) {
   for(var key in jsonpResult.resultList)
   {
      //process the data
   }
} 
```

如果您确实需要使用 POST 获取数据，那么它不能是 JSONP。它必须是 AJAX 请求，并且必须在同一个域中。在这种情况下，您可以在 AJAX 请求的成功函数中处理数据。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T12:53:27.330

好的，2天后，我修好了。

这是我的步骤，感谢所有做出贡献的人。

1.  在我的 IService 界面中，我将它添加到我的 webinvoke 中：

    BodyStyle = WebMessageBodyStyle.WrappedRequest

2.  将数据类型从 jsonp 更改为 json，jsonp 仅支持 GET（感谢 Onur TOPAL）。

3.  将我的 ajax/json 文件放在我的 Visual Studio 项目文件夹中。这将使它在 IIS 服务器上运行。

# sql - SQL Server 2012，LEFT JOIN 变为 INNER JOIN

> ID：13470715
> 
> 赞同：1
> 
> 时间：2012-11-20T10:00:45.447
> 
> 标签：sql, sql-server, left-join, sql-server-2012

我有一个`fact`和`budget`表，该`budget`表没有每个类别的值

```
Category   Budget
A           100
B            50 
```

C 没有记录`budget`

该查询似乎变成了 SQL Server 2012 上的内部联接。在我当前的位置，我在 SQL Server 2005 上使用了相同的语法，它仍然返回所有记录。

现在无法检查 SQL Server 2008。

```
SELECT distinct Category
FROM FactRide 
LEFT OUTER JOIN
   Budget ON FactRide.Category = Budget.Category
WHERE 
   (Budget.BudgetType = 'Ride' OR Budget.BudgetType IS NULL) 
```

我错过了 SQL Server 2012 的变化吗？

问题是结果没有返回应有的类别 C。当我在预算中添加 C 类和预算值“空”的行时，问题已“解决”。

但我想知道我是否应该要求供应商生成不同的 SQL 或注意 SQL 2012 服务包....

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2017-11-22T19:17:12.640

是的，自 SQL Server 2012 起，SQL Server 连接语法确实发生了变化，这让我措手不及。您可以在以下位置找到完整的详细信息：[https ://straightpathsql.com/archives/2012/11/sql-server-join-syntax-its/](https://straightpathsql.com/archives/2012/11/sql-server-join-syntax-its/)

# jquery - 在 div 之后插入整个 div（在另一个 div 中）

> ID：13470719
> 
> 赞同：0
> 
> 时间：2012-11-20T10:00:53.710
> 
> 标签：jquery

我有这个：

```
<div>
   <div class="navigation>
       <ul>
           ...
       </ul>
   </div>
</div>
<div class="main">

</div> 
```

我想将 .navigation div 从它所在的 div 中取出，并将其放在 .main div 之前，这样我就可以得到这个：

```
<div class="navigation>
     <ul>
          ...
     </ul>
</div>
<div class="main">

</div> 
```

帮助？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T10:02:58.680

[`unwrap()`](http://api.jquery.com/unwrap/)是你要找的

试试这个，它应该工作：

`$('.navigation').unwrap();`

虽然，如果您可以访问生成 this 的代码，`html`那么首先以正确的方式创建它会更好

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-20T10:09:56.320

.unwrap() 方法移除元素的父元素。这实际上与 .wrap() 方法相反。匹配的元素（以及它们的兄弟，如果有的话）在 DOM 结构中替换它们的父元素。[参考](http://api.jquery.com/unwrap/)

**句法**

```
$(selector).unwrap(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-20T10:09:42.640

[http://api.jquery.com/insertBefore/](http://api.jquery.com/insertBefore/)

它可能对你有帮助。试试这个或尝试 jquery append、prepend 或 appendTo，before 等都是 jquery 中的方法

# coding-style - 命名约定 - isEnable 与 isDisable

> ID：13470724
> 
> 赞同：2
> 
> 时间：2012-11-20T10:01:12.793
> 
> 标签：coding-style, boolean, naming-conventions

假设您正在使用 API，并且您需要设置一个值来启用或禁用组件。

您希望拥有：

```
control.isEnable = true 
```

或者

```
control.isDisable = false 
```

Imo，第一个似乎更“直观”，但你知道为什么吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-20T10:04:11.173

双重否定在简单的英语和计算机代码中都是不好的。

你不反对？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-20T18:17:31.967

标识符应该使用调用者更容易感兴趣的含义。在某些情况下，这可能意味着对乍一看似乎多余的事物具有多个属性。例如，一个接口可能同时提供`IsWritable`和`IsImmutable`属性。尽管可写的东西不可能是不可变的，反之亦然，但一个对象可能既不是可写的也不是不可变的（例如，它可能是一个可以被其他东西更改的实时只读数据视图）。想要写入对象的代码应该测试`IsWritable`；想知道一个对象是否应该被防御性复制的代码应该测试`IsImmutable`。

请注意，.net 中的某些类违反了这一原则。例如，根据这个原则，`WeakReference`应该调用测试 a 有效性的属性`IsDead`，因为如果 a`WeakReference`死了就会采取行动的代码可能对如果它还活着的引用不感兴趣，但是如果引用就会采取行动的代码is alive 应该几乎总是捕获`Target`并测试是否它是`null`，而不是测试是否`WeakReference`是活着的。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-21T10:12:39.090

两者都不。构成问题的名称，例如`isFoo`暗示访问者。

```
if (control.isEnabled()) 
```

对于字段的名称，我更喜欢形容词。

```
control.enabled = true 
```

即使您更喜欢问题形式，它也应该使用过去分词形式，即`isEnabled`. 英语中没有任何东西被描述为“启用”。

至于正面/负面，我 99% 的时间都同意 NimChimpsky。我正在构建的应用程序现在有一个其他 1% 的示例，其中预期状态是“好的”，我需要一个形容词来描述负面情况——在这种情况下`rejected`。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-21T10:25:39.623

尽管我同意使用“调用者更容易感兴趣”的意思，但另一种选择是考虑使用默认的初始大小写`False`，这样它在创建时就已经有效并且不需要初始化为`True`.

# c++ - 如何将宏定义为空字符串？

> ID：13470726
> 
> 赞同：0
> 
> 时间：2012-11-20T10:01:27.503
> 
> 标签：c++, visual-c++, g++

```
#define TEST 
```

如何在源文件中将 TEST 设为空字符串？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-20T10:28:43.173

Should I see an issue of empty text macro propagated throughout a source file as something normal ? For specific cases e.g in windows programming with use of wide characters

`#define EMPTY_TEXT L""`

or

`#define EMPTY_TEXT _T("")`

or

`#define EMPTY_TEXT TEXT("")`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-20T10:15:22.727

如果您只需要一个空的 C 字符串：

```
#define TEST "" 
```

# php - 从一台数据库服务器检索值并使用 PHP 将它们存储在另一台数据库服务器中？

> ID：13470727
> 
> 赞同：0
> 
> 时间：2012-11-20T10:01:31.630
> 
> 标签：php, mysql, sql

我正在做一个项目 如何从一个数据库服务器中检索值并使用 PHP 将它们存储在其他数据库服务器中？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-20T10:10:04.387

如果数据库在同一台主机上，并且用户可以访问两者，您可以轻松地交换数据，如下所示：

```
INSERT INTO database2.table1 (*fields*) 
SELECT *fields* FROM database1.table1 
```

用表中的字段列表替换*字段。*请注意，此查询将获取整个表，并且可能需要一些时间。

如果数据库位于不同的主机上或由于任何其他原因您无法仅通过一个连接同时连接到这两个主机，请执行以下操作：

```
$dbh1 = mysql_connect($hostname, $username, $password); 
$dbh2 = mysql_connect($hostname, $username, $password, true); 
//the fourth parameter makes sure that a new link is opened as if the parameters are the same, php will grab the old connection instead of creating one.

mysql_select_db('database1', $dbh1);
mysql_select_db('database2', $dbh2); 
```

然后查询数据库 1，执行以下操作：

```
mysql_query('select * from tablename', $dbh1); 
```

对于数据库 2：

```
mysql_query('select * from tablename', $dbh2); 
```

... 或者在 PDO 中 ...

```
$database1 = new PDO('mysql:dbname=database1name;host=127.0.0.1', 'username', 'password');
$database2 = new PDO('mysql:dbname=database2name;host=127.0.0.1', 'username', 'password');
$result1 = $database1->query("select * from tablename");
$result2 = $database2->query("select * from tablename"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T10:03:49.707

可以通过插入选择组合

考虑以下示例。

```
 INSERT INTO tbl_temp2 (fld_id)
 SELECT tbl_temp1.fld_order_id
 FROM tbl_temp1 WHERE tbl_temp1.fld_order_id > 100; 
```

# iphone - 由于未捕获的异常“NSUnknownKeyException”而终止应用程序 - initWithNibName

> ID：13470733
> 
> 赞同：-1
> 
> 时间：2012-11-20T10:02:01.587
> 
> 标签：iphone, objective-c, ios

> **可能重复：**
> [此类与键的键值编码不兼容](https://stackoverflow.com/questions/3088059/this-class-is-not-key-value-coding-compliant-for-the-key)

**代码**

```
- (id)initWithNibName:(NSString *)nibNameOrNil bundle:(NSBundle *)nibBundleOrNil
{
    self = [super initWithNibName:nibNameOrNil bundle:nibBundleOrNil];
    if (self) {
        // Custom initialization
    }
   return self;
} 
```

**输出**

```
2012-11-20 15:23:55.035 ReaderDeployment[5152:11f03] *** Terminating app due to uncaught exception 'NSUnknownKeyException', reason: '[<Signature 0x7aa9de0> setValue:forUndefinedKey:]: this class is not key value coding-compliant for the key drawSign.'
*** First throw call stack:
(0x1b94022 0x155dcd6 0x1b93ee1 0x3b2022 0x323f6b 0x323edb 0x33ed50 0xa4f878 0xa4f8b3 0x1b95dea 0x1aff7f1 0x88326e 0x7291fc 0x729779 0x72999b 0x7329bc 0x72d818 0x949565 0x730857 0x7309bc 0x61bb 0x1b95e99 0x66514e 0x6650e6 0x70bade 0x70bfa7 0x70b266 0x68a3c0 0x68a5e6 0x670dc4 0x664634 0x1a7eef5 0x1b68195 0x1accff2 0x1acb8da 0x1acad84 0x1acac9b 0x1a7d7d8 0x1a7d88a 0x662626 0x2bed 0x2b65)
terminate called throwing an exception 
```

我无法理解异常和异常的原因。因此我无法根除该问题。请帮助理解异常和解决方案。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T10:05:48.907

在界面生成器中打开 xib 文件。在最右边的视图打开的连接面板（带箭头的磁盘）上，连接上可能会有一个感叹号，称为“drawSign”。删除或重新连接它

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T10:28:03.200

I agree with paras joshi. Just check the class names again. Changing to the correct class names should resolve the problem. Or try reassigning the classes.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-20T10:09:20.067

用 xib 检查类名，这是由于您的`ReaderDeployment`类或 xib 在项目中不可用，所以只需检查它并给出正确的名称..

有关更多详细信息，请参阅this 可能您可以从中获得想法..

[这个类不是键值编码兼容的键](https://stackoverflow.com/questions/3088059/this-class-is-not-key-value-coding-compliant-for-the-key)

# iphone - 更改后如何更新 NSString 属性/变量？

> ID：13470734
> 
> 赞同：0
> 
> 时间：2012-11-20T10:02:00.477
> 
> 标签：iphone, objective-c, ipad

我对 iOS 开发者网站上的一些项目感到困惑，需要解释。在以下情况 A、B 中，属性/变量将会更新，但不会。[以下代码](https://developer.apple.com/library/ios/#documentation/Cocoa/Conceptual/ProgrammingWithObjectiveC/EncapsulatingData/EncapsulatingData.html#//apple_ref/doc/uid/TP40011210-CH5-SW1)所在的页面。

这些是属性/变量

*   一个）`self.badgeView.firstName`
*   二） `NSDate *originalDate`

这些是 2 段代码：

```
NSMutableString *nameString = [NSMutableString stringWithString:@"John"];   
self.badgeView.firstName = nameString; 
[nameString appendString:@"ny"];
NSDate *originalDate = self.lastModificationDate;
self.lastModificationDate = [NSDate date]; 
NSLog(@"Last modification date changed from %@ to %@", originalDate, self.lastModificationDate); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-20T10:12:44.513

这些`NSString`属性，如果实现**The Right Way**，将*复制*您传递的参数。

```
NSMutableString *nameString = [NSMutableString stringWithString:@"John"];   
self.badgeView.firstName = nameString; 
[nameString appendString:@"ny"];
// you'll have to update it again, if you want that view's string updated:
self.badgeView.firstName = nameString; 
```

# 3dsmax - 3Ds Max 中的线条制作曲面对象

> ID：13470741
> 
> 赞同：0
> 
> 时间：2012-11-20T10:02:17.700
> 
> 标签：3dsmax, 3ds

我仍然是 3Ds Max 的初学者。我正在尝试以这种方式绘制这个机器人头部：

[http://i.stack.imgur.com/jbtoH.jpg](http://i.stack.imgur.com/jbtoH.jpg)

当我使它成为“表面”时，它看起来像这样：

[http://i.stack.imgur.com/VUpRo.jpg](http://i.stack.imgur.com/VUpRo.jpg)

前面有问题，我的台词看起来不像它浮出水面时的样子。并且所有顶点都融合在一起..任何人都可以帮助解决问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T13:40:20.453

这不是多边形建模，所使用的技术是样条曲线与表面修改器的结合，它是对 nurbs 工作流程的近似。“问题”是曲面修改器和样条曲线的组合，修改器插入曲线，您应该检查样条曲线上的贝塞尔手柄，我敢打赌它们与曲面没有正确对齐。如果您可以发布所有贝塞尔手柄可见的图像（选择所有顶点）。

作为提示/意见，max 中的样条建模不如任何其他程序中的 nurbs 建模强大。我建议学习多边形建模。更多人这样做，您也会找到更好的支持和教程。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-06-03T13:30:03.350

我应该检查表面改性剂。它基于线网构建网格。线条可以用贝塞尔点进行修改，它对复杂形状的建模非常强大。

如果您有原始模型的等距视图（上、侧、前），它将非常适合，如果您可以在拍照前在模型中画一些线，那就更好了。

我使用了这种技术建模汽车，结果很棒。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-21T01:49:17.457

我发现了问题，这是因为阈值，它是 1 我将它降低到 0.5 并且它起作用了

# solr - 使 lucene 2.3 索引与 lucene 4 兼容

> ID：13470747
> 
> 赞同：0
> 
> 时间：2012-11-20T10:02:33.767
> 
> 标签：solr, lucene

我了解 lucene 2.x 索引与最新版本的 lucene 4.0 不兼容。但是，我们所有的索引都使用 lucene 2.3 进行了索引。

现在我们计划迁移到 Lucene 4.0，有什么我可以做的，以便我仍然可以读取 2.3 索引吗？还是放弃旧指数是唯一的选择？

PS：恐怕，重新索引是不可行的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T10:55:34.303

[lucene-400-alpha-at-long-last.html](http://blog.mikemccandless.com/2012/07/lucene-400-alpha-at-long-last.html)

```
Pre-3.0 indices are no longer supported. 
```

因此，如果使用的是最新的 lucene 版本，则需要重新索引内容。

# css - 基于 html 类的 mixin

> ID：13470755
> 
> 赞同：1
> 
> 时间：2012-11-20T10:02:52.250
> 
> 标签：css, less, multilingual

我有 20-30 个元素应该共享相同的`color`和`font-family`. 因此，我将其设置为 mixin。现在`cn`标识为的网站`<html class='cn'>`应该有字体`mango-arial`和`jp`应该是`hentai-arial`。

我想要以下唱 CSS 结果文件：

```
html.cn .div
{   
    color:green;
}

html.jp .div 
{
    color:yellow:
} 
```

我正在尝试以下更少的代码，每个规则都在一个单独的语言文件中定义：

```
-- in cn.less
html.cn
{
    .textColor { color:green}
}

-- in jp.less
html.jp
{
    .textColor { color: yellow} 
}

-- in general.less
.div {.textColor;}
.someOtherElement1 { .textColor; otherstyles:here;}
.someOtherElement2 { .textColor; otherElem2Styles:here;}
... 
```

请注意，我希望所有语言覆盖在它们单独的 less 文件中。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-23T20:40:33.297

## 新答案

你想要的并不是一件容易的事。LESS 并非完全按照您的意图进行设计。但是，我确实相信我找到了一种方法来获得对您有用的东西。

**定义你的语言细节**

请注意，您将需要更改定义语言的方式，但可以在单独的文件中定义它们。下面是一个例子。笔记：

1.  语言的索引号必须定义为语言混入的第一部分（这将在后面解释）。这必须是非零的、正的、该语言唯一的，并且所有语言必须按从 1 到任何值的顺序（不能跳过数字）。如果您希望语言按字母顺序输出，那么您需要对它们进行反向编号（因此“z”起始语言将从 1 开始编号，而“a”起始语言将保留最后一个也是最高的数字）。
2.  这些文件将自动在语言所在的位置附加`html.lg`代码。`lg`该代码需要在`.htmlAppend`mixin 部分中定义。
3.  您需要在这些语言中为您想要的属性（例如`textColor`等）定义 getter mixins。如果您可能想要一个正在定义的类的*多个*属性并且您不想将它们定义为一个组（因此您有时希望单独访问它们，有时作为组访问它们），那么您需要定义一个单独的组 getter（参见`colorPkg`下面以 getter 为例）。

*语言文件代码*

```
// in cn file 

.lang(1, @class, @prop) { //cn
   .htmlAppend(@class, @prop);

   .htmlAppend(@class, @prop) {

      (~"html.cn @{class}") { //lang code here
         .getProp(@prop);
      }

      .getProp(textColor){
         color: green;
      }
      .getProp(bkgColor) {
         background-color: #fff;
      }
      .getProp(colorPkg) {
         .getProp(textColor);
         .getProp(bkgColor);
      }
   }
}

// in jp file 

.lang(2, @class, @prop) { //jp
   .htmlAppend(@class, @prop);

   .htmlAppend(@class, @prop) {

      (~"html.jp @{class}") { //lang code here
         .getProp(@prop);
      }

      .getProp(textColor){
         color: yellow;
      }
      .getProp(bkgColor) {
         background-color: #000;
      }
      .getProp(colorPkg) {
         .getProp(textColor);
         .getProp(bkgColor);
      }
   }
} 
```

**主文件中的核心变量和 Mixins**

您将导入特定于语言的 LESS 文件，然后在此之后定义一些其他内容，如下所述。笔记：

1.  您必须使用要导入的最大语言数定义一个变量。
2.  下面的代码使用[了一个循环结构](http://blog.thehippo.de/2012/04/programming/do-a-loop-with-less-css/)，这个结构让我知道了[这篇文章](https://stackoverflow.com/questions/7226347/can-you-do-a-javascript-for-loop-inside-of-less-css)。这就是为什么语言必须具有顺序索引号的原因。数字零结束循环，这就是索引必须为正的原因。

*核心主文件代码*

```
// in main file
//must tell it the maximum number of languages defined, 
//and they must be numbered in sequence
@numLang: 2; 

//a getter function for all languages
.getLangProp(@class, @prop, @index: @numLang) when (@index > 0) {
     //get and define the language specific class
     .lang(@index, @class, @prop);

     // next iteration
     .getLangProp(@class, @prop, @index - 1);
}

// end the loop when index is 0
.getLangProp(@class, @prop, 0) {} 
```

**现在定义你的班级信息**

对于需要语言方面的任何课程，这是分两个阶段完成的。首先，使用语言文件中定义的模式匹配名称从语言文件中调用属性或属性集。然后定义你的另一个基类。请注意，“类”可以是任何类型的选择器字符串（参见第三个示例）。

*主文件：定义语言特定的类代码*

```
.getLangProp(".myClass1", textColor);
.myClass1 {
    height: 20px;
    width: 40px;
}

.getLangProp(".myClass2", bkgColor);
.myClass2 {
    position: absolute;
    top: 10px;
}

.getLangProp(".parent > .myClass3", colorPkg);
.parent {
    & > .myClass3 {
       float: right;
    }
} 
```

***哪个输出这个 CSS***

```
html.jp .myClass1 {
  color: yellow;
}
html.cn .myClass1 {
  color: green;
}
.myClass1 {
  height: 20px;
  width: 40px;
}
html.jp .myClass2 {
  background-color: #000;
}
html.cn .myClass2 {
  background-color: #fff;
}
.myClass2 {
  position: absolute;
  top: 10px;
}
html.jp .parent > .myClass3 {
  color: yellow;
  background-color: #000;
}
html.cn .parent > .myClass3 {
  color: green;
  background-color: #fff;
}
.parent  > .myClass3 {
  float: right;
} 
```

## 原始答案

最初的答案不符合 OP 想要的结构，但我把它留在这里，以便其他人受益。

**更少的代码**

**`html`在标签 下组织的**一种解决方案****

 **```
html {
  &.cn .div {color: green;}
  &.jp .div {color: yellow;} 
} 
```

**在课堂上组织的**另一个解决方案**`.div`（不知道为什么你想要一个名为那个的类，但我同意了）。**

 **```
.div {
   html.cn & {color: green;}
   html.jp & {color: yellow;}
} 
```

**都输出这个 CSS**

```
html.cn .div {
  color: green;
}
html.jp .div {
  color: yellow;
} 
```****

# ruby-on-rails - 将模块包含在“lib”目录中时，Rails 未定义方法包括

> ID：13470756
> 
> 赞同：3
> 
> 时间：2012-11-20T10:02:53.520
> 
> 标签：ruby-on-rails, module, helper

我无法从我的目录加载我的`PactHelper`模块。`lib`

```
# lib/pact_helper.rb

module PactHelper
    def so_something

    end
end 
```

和

```
# app/controllers/registrations_controller.rb

class RegistrationsController < ApplicationController

    include PactHelper

    def new
        ...
    end
end 
```

返回`undefined method 'include' for #<RegistrationsController:0x5287cf8>`

有人可以向我解释为什么不包含我的模块吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-06-17T00:48:25.927

尝试：

```
require 'pact_helper.rb' 
```

多于：

```
class RegistrationsController < ApplicationController 
```

在：

注册控制器.rb

# java - Java - 一次双加/减法中的最大精度损失

> ID：13470757
> 
> 赞同：7
> 
> 时间：2012-11-20T10:02:53.937
> 
> 标签：java, double, floating-point-precision, double-precision

在java中处理两个`double`值（加/减）时，是否可以粗略地确定最大精度损失是多少？最坏的情况可能是两个数字不能准确表示，然后对它们执行操作，这导致一个值也不能准确表示。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-20T10:07:26.897

最坏的情况是*所有*精度都可能丢失。例如，如果结果大于最大的可表示有限数，就会发生这种情况。然后它将被存储为 POSITIVE_INFINITY（或 NEGATIVE_INFINITY）。

关于您的更新，它可能会随着添加而发生。

```
double a = Double.MAX_VALUE;
System.out.println(a);
double b = a + a;
System.out.println(b); 
```

结果：

```
1.7976931348623157E308
Infinity 
```

在线查看：[ideone](http://ideone.com/BgQ5DJ)

通常，表示错误的大小与数字的大小有关。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-11-20T10:37:12.530

看看[`Math.ulp(double)`](http://docs.oracle.com/javase/7/docs/api/java/lang/Math.html#ulp%28double%29)。a的*ulp*`double`是下一个最高值的增量。例如，如果您将数字相加并且其中一个小于另一个的 ulp，则您知道相加将无效。如果将两个双精度值相乘，则可以将它们的 ulps 相乘以获得结果的最大误差。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-20T10:30:55.743

You could have a look at the actual precision of your inputs, for example the code below outputs:

```
input: 0.01000000000000000020816681711721685132943093776702880859375
range: [0.0099999999999999984734433411404097569175064563751220703125 - 0.010000000000000001942890293094023945741355419158935546875]
range size: 3.4694469519536141888238489627838134765625E-18
input: 10000000000000000
range: [9999999999999998 - 10000000000000002]
range size: 4 
```

```
public static void main(String[] args) {
    printRange(0.01);
    printRange(10000000000000000d);
}

private static void printRange(double d) {
    long dBits = Double.doubleToLongBits(d);
    double dNext = Double.longBitsToDouble(dBits + 1);
    double dPrevious = Double.longBitsToDouble(dBits + -1);
    System.out.println("input: " + new BigDecimal(d));
    System.out.println("range: [" + new BigDecimal(dPrevious) + " - " + new BigDecimal(dNext) + "]");
    System.out.println("range size: " + new BigDecimal(dNext - dPrevious));
} 
```

You would still need to then estimate the loss on the result of your operation. And that does not work with corner cases (around Infinity, NaN etc.).

# java - 插件中的 getClassLoader().getResource()

> ID：13470758
> 
> 赞同：1
> 
> 时间：2012-11-20T10:02:59.010
> 
> 标签：java, eclipse-plugin, classloader, getresource

我正在开发一个 Eclipse 插件。当我运行我的插件时，会创建一个新项目，我需要从这个项目中获取一个文件。

为此，我使用了：

```
URL uri = TemplateCommun.class.getClassLoader().getResource("Identifiable.java"); 
```

但是它是在我的实际项目中搜索，而不是在插件的项目中搜索。

任何帮助，将不胜感激。

# asp.net-mvc - 如何实现安全修整的 Html.RenderAction？

> ID：13470761
> 
> 赞同：1
> 
> 时间：2012-11-20T10:03:00.600
> 
> 标签：asp.net-mvc, asp.net-mvc-3

我正在寻找创建一个安全修剪（基本上如果你没有权限不要渲染）Html.RenderAction。

目的是显示各种小部件/页面组件，如果该人没有对该操作的权限，则不会调用 RenderAction（或至少不会导致重定向到登录页面）。例如，该页面显示给所有登录的用户。但是，有些部分仅适用于人力资源、业务发展，如果您从事人力资源和业务发展，您将获得这两个部分等。

RenderAction 调用的每个部分都是独立的，因此这意味着我可以轻松地制作包含所有必需部分的页面，但如果用户不被允许，它们就不会显示。如果我为某人无权执行的操作调用 RenderAction，则会导致他们被重定向到登录页面。

我已经看到对链接做了类似的事情，但是有人对 Actions 做了类似的事情吗？

我希望得到类似的东西：

```
@Html.RenderSecurityTrimmedAction("Main","Business-Widget1")
@Html.RenderSecurityTrimmedAction("Main","HR-Widget")
@Html.RenderSecurityTrimmedAction("Main","General-Widget3") 
```

其中小部件访问基于人员当前角色。我的安全访问工作完美。它主要是创建一个 RenderAction，如果用户没有权限，它不会随意运行 Action

我想保持代码干燥，所以我不想携带大量 ViewModel 属性，然后不得不将每个 Html.RenderAction 包装在 if 语句中。这些组件会出现在很多地方，所以我希望它们是即插即用的。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-20T10:23:30.697

你可以试试这个扩展方法：

```
public static void CustomRenderAction(this HtmlHelper helper, string actionName)
{
    if (helper.ViewContext.HttpContext.User.Identity.IsAuthenticated == false)
        return;

    helper.RenderAction(actionName);
} 
```

如果您想为每个操作指定角色，您可以执行以下操作：

1）覆盖 AuthorizeAttribute 如下：

```
public class MyAuthAttribute: AuthorizeAttribute
{
  public override void OnAuthorization(AuthorizationContext filterContext)
  {
    if (filterContext.HttpContext.Items["DontRedirectToLogin"] != null)
    {
       if (base.AuthorizeCore(filterContext.HttpContext) == false)
       {
          filterContext.Result = new EmptyResult();
          return;
       }

       return;
    }

    base.OnAuthorization(filterContext);
  }
} 
```

2）改变渲染动作：

```
public static void CustomRenderAction(this HtmlHelper helper, string actionName)
{
    helper.ViewContext.HttpContext.Items["DontRedirectToLogin"] = true

    helper.RenderAction(actionName);
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-20T10:35:58.780

**有多种用户类型，权限或访问因一种用户类型而异。**

这是我从你的问题中得到的。根据权限，您需要显示或隐藏组件。组件可以是页面中的网格、按钮、文本框、消息等。或者根据登录的用户（他的许可），视图呈现不同的方式。

这可以使用 HTML Helper 轻松实现。

一个粗略的想法。

您需要将数据存储在 xml、数据库等中。即，您需要将登录的用户类型与控制器和操作进行映射。

**表/数据权限设置**

```
Admin - UserController- ViewAllUsersAction
Admin-  UserController- DeleteUserAction
Employee - UserController- RequestUserAccessAction
Employee - AlertsController- LatestNewsAction
* - UsersController- ChangePasswordAction 
```

考虑两种用户类型。管理员，员工。管理员有权访问 ViewAllUsers、DeleteUser 等。员工有权访问 ReqUserAccess、LatestNewsAction。

**HtmlHelper**

```
public static bool IsAuthorized(this HtmlHelper helper, string Controller, string Action)
{ 
   // This method query the database/storage withe controller,action and usertype.
   // In case of WindowsAuthentication, you can get the userGroup from a LDAP Server/Domain. You must know the logged in user group here, if you are not using win auth.
} 
```

**在 EmpList.Cshtml 中**

```
if( @Html.IsAuthorized("UserController","DeleteUserAction"))   <input type="submit" text="Delete Employee" /> 
```

所以如果用户类型是Admin，那么它会返回true else，false，这样那部分就不会被执行，也不会显示。

在 Windows 身份验证的情况下，我们需要使用 Windows 用户组而不是上面提到的用户类型。

**编辑**

```
if( @Html.IsAuthorized("Main","HR-Widget"))
   @Html.RenderSecurityTrimmedAction("Main","HR-Widget") 
   // this will be rendered only based on the permission for the user. 
```

谢谢，希望这对你有用。:)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-14T16:18:28.567

我实现了以下内容：

```
 public static void SecurityTrimmedRenderAction(this HtmlHelper htmlHelper,
                                                  ActionResult actionResult)
    {
        var routeValueDictionary = actionResult.GetRouteValueDictionary();
        var actionName = (string)routeValueDictionary["Action"];
        var controllerName = (string)routeValueDictionary["Controller"];
        //var areaName = (string)routeValueDictionary["Area"];
        var hasActionPermission = SecurityTrimmingExtensions.HasActionPermission(htmlHelper, actionName,
                                                                                 controllerName);
        if (hasActionPermission)
        {
            htmlHelper.RenderAction(actionResult);
        }
    } 
```

SecurityTrimmingExtensions 遵循此处找到的代码：[ASP.Net MVC 如何确定用户是否可以访问 URL？](https://stackoverflow.com/questions/2196994/asp-net-mvc-how-to-determine-if-a-user-can-access-a-url)

我不必以这种方式触摸授权，因为如果当前用户没有权限，则不会调用代码

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-20T17:20:00.297

我发现这里的扩展方法集效果最好：http: [//vivien-chevallier.com/Articles/create-an-authorized-action-link-extension-for-aspnet-mvc-3](http://vivien-chevallier.com/Articles/create-an-authorized-action-link-extension-for-aspnet-mvc-3)

它实际上对您指定的操作执行所有 ActionFilter，因此您不必自己执行它。

唯一的缺点是它不支持写入方式的区域。我相信它可以被修改以也理解领域。

# sql-server-2000 - SQL Server 2000 上的本地临时表失败

> ID：13470766
> 
> 赞同：0
> 
> 时间：2012-11-20T10:03:20.163
> 
> 标签：sql-server-2000

我只是想在我们的 SQL Server 2000 数据库上实现以下代码示例：http: [//support.microsoft.com/default.aspx ?scid=kb;en-us;q248915](http://support.microsoft.com/default.aspx?scid=kb;en-us;q248915)

当我尝试创建产生以下错误的“扩展”存储过程时出现问题：

> *错误代码 156，SQL 状态 S1000：关键字“INSERT”附近的语法不正确。
> 错误代码 156，SQL 状态 S1000：关键字“BEGIN”附近的语法不正确。
> 错误代码 156，SQL 状态 S1000：关键字“WHERE”附近的语法不正确。
> 错误代码 156，SQL 状态 S1000：关键字“WHERE”附近的语法不正确。
> 错误代码 156，SQL 状态 S1000：关键字“ELSE”附近的语法不正确。*

看来我无法创建本地临时表，如以下 SQL 所示：

```
CREATE TABLE #Yaks (YakID int,YakName char(30)) 
```

> *错误代码 170，SQL 状态 37000：第 1 行：“表”附近的语法不正确。*

有人知道为什么我不能创建临时表吗？特别是当文章说代码适用于 Microsoft SQL Server 2000 时。

谢谢

**更新**：看起来这可能是 NetBeans SQL 编辑器的一个问题，因为在 SQL Server 查询分析器中使用该查询可以正常工作。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-27T17:54:26.220

原来这是 NetBeans 本身的一个错误，现在已经解决：

[http://netbeans.org/bugzilla/show_bug.cgi?id=222617](http://netbeans.org/bugzilla/show_bug.cgi?id=222617)

# php - 样式化从数据库中输出的代码。PHP

> ID：13470770
> 
> 赞同：-3
> 
> 时间：2012-11-20T10:03:29.070
> 
> 标签：php, mysql, styles, html-entities, htmlspecialchars

我正在尝试对从数据库中提取的代码进行样式设置。它是在表“table1”上存储为 VAR-CHAR 的多行代码。

```
echo "<section class='styleElement'>" . htmlentities($code_display['Code']) . "</section>"; 
```

它可以很好地显示代码，但它只是将它们全部放在一大块文本中。

我要问的是：

如何正确缩进每个部分，并列出所有元素，使其看起来像一个可读的页面。

示例：[我的页面正在处理](http://hatsy.net/new/portview.php?portID=11&portCat=Codes)

任何帮助，将不胜感激。我环顾四周，但我发现的大多数答案更多的是关于（htmlspecialchars / htmlentities）。

我不会对页面上的元素进行颜色编码，只是缩进和编号。

我目前正在探索爆炸功能，所以我现在应该可以了。

谢谢。约翰

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T10:07:42.787

试试这个[PEAR 课程](http://pear.php.net/package/PHP_Beautifier/redirected)。它允许您以编程方式格式化 PHP 代码。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T10:07:45.703

要格式化您的输出，请使用`<pre>`或`nl2br()`。

# sql - sqlite 交叉表更新令人沮丧的错误

> ID：13470771
> 
> 赞同：1
> 
> 时间：2012-11-20T10:03:36.903
> 
> 标签：sql, sqlite, sql-update

由于某种原因，以下查询在 sqlite 中返回以下错误消息。我通常使用交叉表连接，但因为这对于 sqlite 中的更新是不可能的，所以它是一个子查询。这可能是眼睛疲倦的情况，但我似乎看不到问题所在。任何帮助表示赞赏。

> 靠近 ”。” : 语法错误

```
 UPDATE
    tbl1
    set tbl1.[some_field1] = (SELECT tbl2.[some_fieldA]||substr(tbl2.[some_fieldB],1,2)     
                              FROM tbl2
                               WHERE tbl2.[some_fieldC] = tbl1.[some_field2])
  WHERE
    tbl1.[file_name] = "some_arbitrary_file.txt"
    AND tbl1.[some_field1] IS NULL 
    OR tbl1.[some_field1] = ""; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T12:02:07.943

该`UPDATE`命令仅处理一个表，因此无需为要更新的列指定表。放入：`tbl1.`_`SET`

```
... SET [some_field1] = ... 
```

# linux - 在 perl 中使用 PID 尾随文件

> ID：13470773
> 
> 赞同：1
> 
> 时间：2012-11-20T10:03:44.717
> 
> 标签：linux, perl

我需要检查日志文件，直到 PID 在 perl 中仍然存在。它在 bash 中运行良好。

```
tail -f --pid=1234 logfile.log 
```

现在我需要对 perl 做同样的事情，通过检查 PID 或给出时间间隔来检查日志文件也适用于我。

我正在使用以下代码在 perl 中执行此操作，但我能够跟踪文件并在其中遇到两个问题。

1）文件的尾部不会立即发生。

2）我想在几秒钟后关闭尾巴，比如 100。

```
use warnings;
use strict;
use File::Tail; 
my $name='/tmp/out'; 
my $file=File::Tail->new(name=>$name,interval=>1,maxinterval=>5,adjustafter=>1);
my ($found,$timeleft,@pending) = File::Tail::select(undef,undef,undef,100,$file);

if ($found)
{
   print $pending[0]->read;
} 
```

我正在使用上面的代码，它仅在 2 秒内退出。我正在寻找一个在给定时间后退出的文件，就像 linux 中的 tailf 命令一样。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T11:29:34.360

从[文档中](http://search.cpan.org/~mgrabnar/File-Tail-0.99.3/Tail.pm)：

> 该模块非常努力地不在流量很小的文件上“忙等待”。每当它从文件中读取新数据时，它都会计算新行的数量，并将该数字除以自上次将数据写入文件以来所经过的时间。这被认为是写入新数据之前的平均时间。当没有新数据要读取时，File::Tail 会休眠该秒数。此后，动态地重新计算等待时间。请注意，File::Tail 的休眠时间永远不会超过 maxinterval 设置的秒数。

因此，`maxinterval`如果您希望它立即看到更新，则需要将其设置为较低的数字。

**更新：**超时，使用`select`. 这个简单的示例对文件进行一次 100 秒的检查。它还至少每五秒钟检查一次文件。有关使用循环的更复杂示例，请参阅上述文档。

```
use warnings;
use strict;
use File::Tail; 
my $name='/tmp/out'; 
my $file=File::Tail->new(name=>$name,interval=>1,maxinterval=>5,adjustafter=>1);
my ($found,$timeleft,@pending) = File::Tail::select(undef,undef,undef,100,$file);

if ($found)
{
   print $pending[0]->read;
} 
```

更新：这是一个循环解决方案，将在您的整个时间间隔内持续运行：

```
use warnings;
use strict;
use File::Tail; 
my $name='/tmp/out'; 
my $file=File::Tail->new(name=>$name,interval=>1,maxinterval=>5,adjustafter=>1);

my $time = 60;

while ($time > 0)
{
    my ($found,@pending);
    ($found,$time,@pending) = File::Tail::select(undef,undef,undef,$time,$file);

    if ($found)
    {
        print $_->read for @pending;
    }
} 
```

# php - 让 Sphinx 过滤搜索结果

> ID：13470777
> 
> 赞同：0
> 
> 时间：2012-11-20T10:03:49.977
> 
> 标签：php, mysql, sphinx, full-text-search

我安装[Sphinx](http://sphinxsearch.com/)的目的是使用它在`MySQL`表格 ( `InnoDB`) 上进行全文搜索。

表列由`id`（数字）`name`和`description`（这些都被全文索引；实际上还有更多，但为了简化问题......）和`lang`（语言标识符）组成。

索引通过没有问题，我得到了简单搜索的正确结果。

`name`但是，当我在按语言（）过滤结果时尝试查询和`description`指定单词时，我遇到了麻烦`lang`。

我基本上想达到*相当于*（比如搜索的短语是'yerba'）：

```
SELECT * FROM products
WHERE MATCH('yerba') AGAINST(name, description)
AND 'lang' == 'eng' 
```

不是过于雄心勃勃，但我一定错过了一些东西，因为我不断得到错误的结果。我正在使用 Sphinx 的 PHP API：

```
$s = new SphinxClient();
$db = new DB();
$s->setServer('192.168.2.57', 9312);
$s->setMatchMode(SPH_MATCH_EXTENDED2);
$result = $s->query("@* yerba @lang eng");

print (count($result['matches']));
var_dump($s->GetLastError(),$s->GetLastWarning());
print '<pre>';
print_r($result);
print '</pre>'; 
```

返回 20 个匹配项：

```
20
string '' (length=0) // no error
string '' (length=0) // no warning
Array
(
    [error] => 
    [warning] => 
    [status] => 0
    [fields] => Array
        (
            [0] => lang
            [1] => name
            [2] => description
            // snip...
        )

    [attrs] => Array
        (
            [lang] => 7
        )

    [matches] => Array
        (
            [568] => Array
                (
                    [weight] => 6640
                    [attrs] => Array
                        (
                            [lang] => spa
                        )

                )

            [234] => Array
                (
                    [weight] => 6630
                    [attrs] => Array
                        (
                            [lang] => pol
                        )

                )

            // snip

    [total] => 44
    [total_found] => 44
    [time] => 0.000
    [words] => Array
        (
            [yerba] => Array
                (
                    [docs] => 44
                    [hits] => 238
                )

            [pol] => Array
                (
                    [docs] => 715
                    [hits] => 772
                )

        )

) 
```

很容易注意到，在它发现的第一条记录中，`lang`是`spa`，不是`eng`。

为什么？？

配置文件 ( `sphinx.conf`) 如下所示 -**源代码：**

```
source src1
{
    [...]   
    sql_query       = \
        SELECT id, lang, name, description // snip! \
        FROM my_table
    [...]
    sql_field_string    = lang
    [...]
} 
```

**指数：**

```
index test1
{
    source          = src1
    [...]
    min_word_len        = 1
    [...]
} 
```

所有其他选项，除了数据库访问数据，正如我所说的（对于非过滤查询）工作正常，都保留为默认值。

一段时间以来，我一直试图破解这个坚果。我尝试声明`lang`为`sql_attr_string`，使用不同的匹配模式等，唉，一切都是徒劳的。

我的索引设置错误吗？我在哪里搞砸了？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-21T08:27:52.967

为了使事情更容易，我建议将语言从字符串字段更改为整数属性。

因此，您的查询将如下所示：

```
$s->SetFilter('lang', array(1)); //1 - eng
$s->Query('yerba'); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T10:51:21.580

你有这个...

> $result = $s->query("@* yerba @lang eng");

然后...

> ```
> [words] => Array
>        [yerba] => Array
>        [pol] => Array 
> ```

你确定它们是针对同一个查询的吗？“pol”不在您的查询中

否则检查wordforms/exceptions，也许你正在以某种方式转换你的文本......？

# excel - excel日期选择器控件

> ID：13470779
> 
> 赞同：6
> 
> 时间：2012-11-20T10:03:57.987
> 
> 标签：excel, datepicker, excel-2010, vba

我需要为我正在创建的 Excel 工作表创建一个单元格日期选择器。

我正在尝试遵循[本教程](http://msdn.microsoft.com/en-us/library/4za48s1h?cs-save-lang=1&cs-lang=vb#code-snippet-1)

但是我无法理解该示例应该如何在单元格中放置日历选择器`A1:C1`。在我的工作表中，如果我按原样粘贴代码，则会引发错误。如果我尝试像这样修改它：

```
'Declaration
Public Function AddDateTimePicker(range As range, name As String) As DateTimePicker   

Private Sub ExcelRangeAddDateTimePicker()
Dim DateTimePicker1 As Microsoft.Office.Tools.Excel.Controls.DateTimePicker
DateTimePicker1 = Me.Controls.AddDateTimePicker(Me.range("A1", "C1"), "DateTimePicker1")       
End Sub 
```

我一点结果都没有……

任何提示或答案表示赞赏:)

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-21T12:28:09.033

我找到了一个比我之前发现的更好的 Excel 2010 Calander 示例。

本教程非常好，可以帮助您为 Excel 2010 创建弹出式日历： [http ://www.fontstuff.com/vba/vbatut07.htm](http://www.fontstuff.com/vba/vbatut07.htm)

我在 brettdj 链接的页面底部找到了它。谢谢 ：）

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2017-07-22T13:54:52.343

Trevor Eyre 的这个 VBA 版本看起来非常棒，并且有据可查。一行代码打开 VBA 表单并获取日期：

```
myDate = CalendarForm.GetDate 
```

[http://trevoreyre.com/portfolio/excel-datepicker/](http://trevoreyre.com/portfolio/excel-datepicker/)

-OO-

# android - 我想在我的应用程序中录制声音，在某些设备中它可以正常工作。但在三星 Galaxy 选项卡中，它抛出以下异常

> ID：13470784
> 
> 赞同：3
> 
> 时间：2012-11-20T10:04:32.287
> 
> 标签：android

> android.content.ActivityNotFoundException：未找到处理 Intent { act=android.provider.MediaStore.RECORD_SOUND } 的活动

我正在使用以下代码，

```
Intent intent = new Intent(MediaStore.Audio.Media.RECORD_SOUND_ACTION);
startActivityForResult(intent, ACTIVITY_RECORD_SOUND); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T10:09:17.213

显然，`Galaxy Tab`没有任何应用程序可以处理您的`Intent`. 你应该抓住这个`Exception`并向用户显示一个正确`Dialog`的，或者`PackageManager`用来检查是否有任何应用程序可以处理`Intent`，然后再次显示一个`Dialog`.

[`PackageManager.queryIntentActivities(intent,flags)`](http://developer.android.com/reference/android/content/pm/PackageManager.html).

# php - 中文文本插入数据库后变成不可读文本？

> ID：13470788
> 
> 赞同：0
> 
> 时间：2012-11-20T10:04:45.713
> 
> 标签：php, jquery, html, mysql, sql

> **可能重复：**
> [一直到 UTF-8](https://stackoverflow.com/questions/279170/utf-8-all-the-way-through)

我的程序所做的是在客户端，浏览器的编码为 UTF-8，客户端在文本框中输入一些中文。然后通过 jQuery 将此文本传输`$.post`到我的服务器端。在服务器上，它被插入到数据库中。当我第一次把它放进去时，它变成了不可读的文本。下一次尝试看看哪里出错了，输出了服务器副本，发现完全没问题（中文文本完全可读）。因此，我认为当文本插入数据库时​​，一定会出现问题，在 SQL 语句的某处。

有没有办法解决这个错误？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T10:09:54.500

您还必须将数据库的字符集设置为 UTF-8。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-20T10:11:56.210

发生这种情况是因为您也必须将字符集设置为 UTF。如果您已经设置了它，那么我假设您正在 Windows 下工作并试图在 MysqlWorkbench 或类似的东西中查看文本？我知道这一点是因为我是中国人并且使用了一些中文软件并且到处都有奇怪的符号xD。

然后，您需要在控制面板-> 语言和区域选项或键盘选项中配置您的操作系统以显示这些字符，对不起，我不记得我在工作场所的 mac 上的确切位置。

碰巧浏览器可以显示这些字符，但除非您设置，否则操作系统不会显示这些字符。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-20T10:14:32.547

检查这个：

将要保存 unicode 值的列的字符集指定为 utf8。

使用`VARCHAR(250) CHARACTER SET utf8`而不是 VARCHAR(250)

**[MySQL 和 Unicode](http://dev.hubspot.com/bid/7049/MySQL-and-Unicode-Three-Gotchas)**

```
ALTER TABLE tableName MODIFY ColumnName VARCHAR(250) CHARACTER SET utf8 
```

**[如何在 MySQL 数据库中支持完整的 Unicode](http://mathiasbynens.be/notes/mysql-utf8mb4)**

# java - 如何将 REST 通道添加到 Spring Webflow 应用程序？

> ID：13470790
> 
> 赞同：3
> 
> 时间：2012-11-20T10:04:56.447
> 
> 标签：java, model-view-controller, jsf, rest, spring-webflow

我已经下载了**Spring Webflow**源，我想将 REST 通道（显示来自数据库的图像）添加到**jsf-booking**示例中。该通道在我的**Spring-MVC**示例应用程序中正常工作。

但是，我遇到了映射问题，因为在给定的地址上，JSF 处理程序正在响应错误消息，即 display.xhtml 文件不存在（并且 REST 侦听器应该处理该请求）。

这就是我注册处理程序的方式：

```
@Controller
@RequestMapping(value="/image")
public class ImageChannelImpl implements ImageChannel {

    @RequestMapping(value="/display.png", method=RequestMethod.GET)
    public void display(HttpServletResponse response) throws IOException {
(...)
        response.setContentType("image/png");
        ImageIO.write(img, "PNG", response.getOutputStream());
        response.getOutputStream().flush();     
        log.debug("display finished");
    } 
```

}

我已经复制了处理程序映射；

```
<bean

    class="org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter">
    <property name="messageConverters">
        <util:list id="beanList">
            <ref bean="stringHttpMessageConverter" />
            <ref bean="byteArrayHttpMessageConverter" />
        </util:list>
    </property>
</bean>

<bean id="stringHttpMessageConverter"
    class="org.springframework.http.converter.StringHttpMessageConverter" />

<bean id="byteArrayHttpMessageConverter"
    class="org.springframework.http.converter.ByteArrayHttpMessageConverter" /> 
```

DispatcherServlet 正在监听 /spring/* 请求：

```
<!-- The front controller of this Spring Web application, responsible for handling all application requests -->
<servlet>
    <servlet-name>Spring MVC Dispatcher Servlet</servlet-name>
    <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>
    <init-param>
        <param-name>contextConfigLocation</param-name>
        <param-value></param-value>
    </init-param>
    <load-on-startup>2</load-on-startup>
</servlet>

<!-- Map all /spring requests to the Dispatcher Servlet for handling -->
<servlet-mapping>
    <servlet-name>Spring MVC Dispatcher Servlet</servlet-name>
    <url-pattern>/spring/*</url-pattern>
</servlet-mapping> 
```

因此，我预计图像将在地址 /spring/image/display.png 上可用，但 REST 处理程序没有接受该请求，也没有处理 /image/display.png 。

那么，必须在该配置中进行哪些更改才能注册 REST 通道？我试图谷歌任何示例或文档，如何配置 Spring WebFlow 和 Spring MVC 通道，但我没有找到任何东西。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T16:22:48.603

您应该为 FlowHandlerMapping 定义“默认处理程序”：

```
<bean class="org.springframework.webflow.mvc.servlet.FlowHandlerMapping">
    <property name="flowRegistry" ref="flowRegistry"/>
    <property name="order" value="0"/>
    <!--If no flow match, map path to a view to render; e.g. the "/intro" path would map to the view named "intro" --> 
    <property name="defaultHandler" ref="requestMappingHandlerMapping"/>
</bean>

<bean class="org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping" id="requestMappingHandlerMapping">
    <property name="order" value="1"/>
</bean> 
```

您可以根据您的 Spring MVC 版本将 RequestMappingHandlerMapping 替换为 AnnotationMethodHandlerAdapter（RequestMappingHandlerMapping 是最新 SMVC 版本中的首选方式）

# java - Java为数组/对象赋值

> ID：13470791
> 
> 赞同：-3
> 
> 时间：2012-11-20T10:04:59.643
> 
> 标签：java, arrays, object

我正在从 Javascript（大学原因）转换为 Java，似乎无法理解数组/对象分配的逻辑。我想要实现的目标是在 Pascal“记录”中使用不同的变量。然后调用主类并创建几个实例。这是我的简单结构，例如：

```
class shoppingCart {
    public static void main(String[] args){
        // Define objects
        Product[] products = new Product[3];        

        // Fill in products
        products[0] = {
            title: "Product 1",
            code: "AB432",
            price: 13.60,
            quantity: "dozen"
        }                    
    }
}

class Product {
    public String title;
    public String code;
    public float price;
    public String quantity;
} 
```

有人可以指出如何创建“记录”以及如何为它们分配值的正确方法吗？在我声明变量（数组）之前，我在 Java 中遇到了同样的问题，后来又尝试了

```
someArray = {23,2,32,523} 
```

编译器给我错误...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-20T10:07:51.127

您需要创建一个对象......理想*情况下不*使用公共字段。例如，如果你给你的`Product`类一个带有四个值的构造函数，你可以使用：

```
Product[] products = 
{
    new Product("Product 1", "AB432", 13.6, "dozen"),
    new Procuct( /* etc */ )
}; 
```

另请注意，您不应该使用`float`来存储价格。改用`BigDecimal`，或整数美分/便士/随便什么。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-20T10:10:14.183

**首先向您的产品类添加一个构造函数。**

```
class Product {
    public String title;
    public String code;
    public float price;
    public String quantity;

   public Product(String title, String code, float price, String quantity){
      this.title = title;
      this.code = code;
      this.price = price;
      this.quantity = quantity;
   }
} 
```

**然后将产品实例添加到您的数组中**

```
class shoppingCart {
    public static void main(String[] args){
        // Define objects
        Product[] products = new Product[3];        

        // Fill in products
        products[0] = new Product("Product 1", "AB432", 13.60, "dozen");
        //repeat for other products.
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-20T10:12:08.470

约定是 Java 是所谓的 Bean (en.wikipedia.org/wiki/JavaBeans)，它具有私有成员变量以及 getter 和 setter 方法。你会初始化它像......

```
Product product = new Product();
product.setTitle("Product 1");
product.setCode("AB432");
product.setPrice(13.60);
product.setQuantity("dozen");
products[0] = product; 
```

此外，您只能在第一次声明时初始化这样的数组......

```
int[] someArray = {23,2,32,523}; 
```

# c# - 在 C# 中解析 DirectX 网格文件 (.x)

> ID：13470796
> 
> 赞同：2
> 
> 时间：2012-11-20T10:05:11.827
> 
> 标签：c#, wpf, parsing, directx, .x

我有一个要求，我必须以 .x 格式保存我的 3D 网格图形。我正在使用带有 C# 的 WPF 制作我的数字（因为 Visual Studio 2010 - C# 中不存在 DirectX 支持）。

制作 3D 图形（球体、圆锥体等）后，我必须将顶点、法线等存储在 .x 文件中。不能使用任何其他格式，因为需要保持 DirectX 支持它。

我找不到一个解析器，它可以让我在不使用 DirectX API 的情况下读取和写入 .x 文件（在 C# 中）。我只在 C++ 中找到了一个：http: [//www.xbdev.net/3dformats/x/x_binary/index.php](http://www.xbdev.net/3dformats/x/x_binary/index.php)。但这是常规的读/写解析，我正在寻找一些库或 API。

有人可以帮忙吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-20T12:43:09.117

您在此处获得了 MSDN 上描述的 X 模型规范：

*   [http://msdn.microsoft.com/en-us/library/windows/desktop/bb173011(v=vs.85).aspx](http://msdn.microsoft.com/en-us/library/windows/desktop/bb173011(v=vs.85).aspx)
*   [http://msdn.microsoft.com/en-us/library/cc526973.aspx](http://msdn.microsoft.com/en-us/library/cc526973.aspx)

Paul Bourke 的另一个观点：

*   [http://paulbourke.net/dataformats/directx/](http://paulbourke.net/dataformats/directx/)

你可以看看 MonoGame：

*   [https://github.com/mono/MonoGame](https://github.com/mono/MonoGame)

不确定他们在完全实现对不同 DirectX 资产格式的支持方面取得了多大进展，但是您可以查看一堆代码并从中获得`MonoGame.Framework.Content.Pipeline\Graphics`灵感`MonoGame.Framework\Graphics`。

# git - 在 Git 中查找文件的新位置

> ID：13470800
> 
> 赞同：2
> 
> 时间：2012-11-20T10:05:25.740
> 
> 标签：git

我在网络服务器日志中看到，一个文件被多次请求。该文件不再存在，并被重命名/移动到新位置。我有旧位置的目的地，`/lay/gr.js`但我需要找到文件的新位置或名称。

整个项目都使用 Git 进行跟踪，因此我猜应该可以找到包含对该文件的更改的正确提交。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-20T10:12:34.253

我喜欢 sufleR 的回答，但要回答 git 部分，我建议你做一个

```
git log -- yourfile 
```

最后一个（从顶部开始的第一个）提交可能是您正在寻找的那个。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-20T10:09:31.153

它不是 git 命令，但如果您使用的是 linux，请尝试：

```
find ./ -name "gr.js" 
```

结帐或更新项目后

编辑：检查是否有一些东西可以用来查找重命名的文件[how-to-find-the-new-path-of-a-renamed-file-whose-original-name-is-known](https://stackoverflow.com/questions/10192285/how-to-find-the-new-path-of-a-renamed-file-whose-original-name-is-known)

# javascript - 如何在调用此函数的脚本之后添加新元素？

> ID：13470802
> 
> 赞同：-1
> 
> 时间：2012-11-20T10:05:32.163
> 
> 标签：javascript, jquery

我有一个调用脚本的页面，例如：

```
<script src="http://www.mypage.com/widget/script.js" type="text/javascript"></script> 
```

在这个脚本中，我在执行时得到了当前的“脚本”，其中：

```
var scripts = document.getElementsByTagName('script');
var myScript = scripts[scripts.length - 1]; 
```

现在，我想做的是在这个“元素”之后（我的意思是，在我的调用页面中的脚本之后）添加一个新元素，例如：

```
<div>New Element</div> 
```

所以我页面的最终结果将是：

```
<script src="http://www.mypage.com/widget/script.js" type="text/javascript"></script>
<div>New Element</div> 
```

我该怎么做？我想我会`myScript`用 jquery 包装，但不知道如何在 DOM 中的这个之后添加一个新元素。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-20T10:08:14.227

```
var d = $('<div>');
d.text("new element");
$(myScript).after(d); 
```

# jquery - 将默认值添加到动态添加的行

> ID：13470819
> 
> 赞同：0
> 
> 时间：2012-11-20T10:06:45.453
> 
> 标签：jquery, html

我不确定如何解释我正在尝试做的事情，这是我的代码的简短版本：

```
var counter = 1;
    var currDate = new Date(),
    today = (currDate.getMonth() + 1) + '/' + currDate.getDate() + '/' + currDate.getFullYear();
    $("#btnAdd").click(function (event) {
        addRow = "<tr><td><input type='text' class='dateClass defaultDate' id='txtDate" + counter + "'/></td></tr>";
        event.preventDefault();
        counter++;
        $("#tblName").append(addRow);
        $("#txtDate" + counter).val(today);
        $(".dateClass").datepicker();
    }); 
```

动态添加的行包含一个用于用户选择日期的文本框，但是默认情况下，它的值是当前日期。现在，我的问题是，每次单击添加行按钮时，前一个文本框的值都会恢复为默认日期，即使我已经为其设置了不同的日期。

我知道它是因为每个添加的行都有类名 defaultDate 所以我想我必须使用 id 而不是 txtDate + 计数器（即 txtDate2），但是我不确定这是正确的方法。所以基本上，我如何告诉按钮当它添加新行时，它只会将默认日期设置为新行并且不应该更改前一行的当前值？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-20T10:43:36.637

你做事的顺序很奇怪

1.  使用计数器
2.  增量计数器
3.  再次使用计数器

问题是到 3\. 以上时，它已经增加了。只需移动这一行：

```
counter++ 
```

在这一行之后：

```
$("#txtDate" + counter).val(today); 
```

现场示例：http: [//jsfiddle.net/Nmk39/](http://jsfiddle.net/Nmk39/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-20T10:23:08.617

试着把计数器的定义

```
var counter = 1; 
```

在所有函数中，否则它不是全局变量，而且，它在每次按钮单击时重置为值 1，并且所有按钮都具有相同的 id。

然后，需要通过引用 id 来分配值：

```
$("#txtDate" + counter).val(today); 
```

否则，该类的所有输入都将被重置。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-20T10:37:42.783

试试这个

```
 var counter = 1;
        var currDate = new Date(),
        today = (currDate.getMonth() + 1) + '/' + currDate.getDate() + '/' + currDate.getFullYear();
        $("#btnAdd").click(function (event) {
            addRow = "<tr><td><input type='text' class='dateClass defaultDate' value='"+today+"'id='txtDate" + counter + "'/></td></tr>";
            event.preventDefault();
            counter++;
            $("body").append(addRow);
            $(".dateClass").datepicker();
        }); 
```

# jquery - 如何使用jquery（移动）或将jpg“图像”从一个div添加到另一个div？

> ID：13470820
> 
> 赞同：0
> 
> 时间：2012-11-20T10:06:49.733
> 
> 标签：jquery, image

大家好，我正在处理 jquery，我有这样的 html

```
 <div class="grid row-fluid">
          <div>
            <span class="span1">                
            <input type="checkbox" class="regular-checkbox" id="Header" />
            <label for="Header"></label>                
            </span> 
            <span class="span1"> <img class="img-polaroid" src="http://placehold.it/140x140"></span> 
           </div>

             <div>
            <span class="span1">                
            <input type="checkbox" class="regular-checkbox" id="Header" />
            <label for="Header"></label>                
            </span> 
            <span class="span1"> <img class="img-polaroid" src="http://placehold.it/140x140"></span> 
           </div>
           </div>

           <div class="span7" style="border:1px black" id="separate">

                <ul class="thumbnails bootstrap-examples pre-scrollable">
                    <li class="span2">
                      <a href="#">
                        //image shold add here
                      </a>
                      </li>
                     </ul>
         </div> 
```

在上面的代码中，我有一个图像和复选框，好的，现在我有一个空的 div 现在我想将这些图像添加到 empye div 中，一旦我选择了选中的图像

```
 $(function () {
          $('input[type="checkbox"]').click(function () {
              AddToCart(this);
          });
      });

      function AddToCart(obj) {
          var $this = $(obj).closest('div');
          var img = $this.find('img');
          $('#separate').append(img);
      } 
```

如何使用 jquery 将图像从一个 div 添加到另一个 div 可以请你帮我做这件事提前谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T10:12:30.157

这是你可以做的：

```
$(function(){
  $('input[type="checkbox"]').click(function(){
    AddToCart(this);
  });
});

function AddToCart(obj) {
  var $this = $(obj).closest('div');
  var img = $this.find('img');
  $('#div2').append(img);
} 
```

# c++ - C++ - 使用 atoi 时出错

> ID：13470822
> 
> 赞同：12
> 
> 时间：2012-11-20T10:07:01.010
> 
> 标签：c++, atoi

我正在尝试使用该`atoi`函数来获得从`string`to的转换`int`。问题是我有一个包含整数和字符串值的字符串数组。

根据我的阅读，为了从中获取错误代码，该函数必须返回 0 ：

```
string s = "ssss";
int i = atoi(s.c_str())
if (i == 0)
    cout<<"error"<<endl;
end; 
```

如果我的字符串值为 ，我应该如何进行`0`？

另一个问题是这个字符串 : `string s = "001_01_01_041_00.png"`。该`atoi`函数返回值`1`。它不应该返回吗`0`？为什么会返回`1`？

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-11-20T10:09:23.367

这就是`atoi`使用不安全的原因。如果输入无效，它不会检测并通知程序。

C++11 引入`std:stoi`了安全机制，因为如果输入以某种方式无效，它会抛出*异常。*还有另外两个变体：`std::stol`和`std:stoll`。有关详细信息，请参阅在线文档：

*   [`std::stoi`, `std::stol`,`std::stoll`](http://en.cppreference.com/w/cpp/string/basic_string/stol)

你的代码会变成这样：

```
try {
     string s = "ssss";
     int  i = std::stoi(s); //don't call c_str() 
     //if (i == 0) no need to check!
     std::cout << i << endl;
}
catch(std::exception const & e)
{
     cout<<"error : " << e.what() <<endl;
} 
```

请注意，运行时类型`e` 可以是`std::invalid_argument`或`std::out_of_range`取决于引发的原因。`catch`如果您希望它们以不同方式处理，您可以只编写两个块。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-20T10:45:34.430

已经有很好的答案推荐 std::stoi 和 boost::lexical_cast 的 C++ API。

atoi() 是一个 C API，甚至在 C 中也被破坏了，因为除了成功解析为零之外，您无法分辨失败。如果您正在编写 C，如果您关心错误，请改用 strtol() 和朋友，因为它会在 ERRNO 中带外报告错误。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-20T10:09:09.817

因为里面的数字`001_`是1，为什么要返回0呢？如果您只想处理一个字符，只需使用`isdigit(s[0])`and `s[0]-'0'`。如果您想更好地检查错误以查看字符串中有多少包含数字，请使用`strtol`.

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-20T10:26:16.877

atoi 有点老了……在 boost lib“词法转换”中有一个更好的替代品。

```
char * str = boost::lexical_cast<std::string>(int_value); 
```

或者

```
int int_value = boost::lexical_cast<int>(string_value); 
```

# android - 从模拟器监控命令提示符

> ID：13470825
> 
> 赞同：2
> 
> 时间：2012-11-20T10:07:22.210
> 
> 标签：android, emulation, command-prompt

我正在尝试在我的模拟器上打开命令提示符。我需要从模拟器打开我电脑的 ABC 文件夹。是否可以在模拟器或 Android 设备上打开命令提示符并监控我的电脑？

或者有没有其他方法可以在 Android 设备或 Emulator 上浏览计算机数据？
[在这里](http://kathabuzz.com/android-terminal-adb-shell-commands/)，我找到了一张在移动设备上打开命令提示符的图像。但我不明白它是如何工作的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T10:25:29.690

您无法在 Emulator 中打开终端。但您可以从相应操作系统的终端或命令提示符访问您的模拟器。

要`Terminal`在手机上运行，​​您可以使用`Android Terminal Emulator`可用的应用程序`Google Play Market`。

你可以在[这里找到](https://play.google.com/store/apps/details?id=jackpal.androidterm&hl=en)

# jquery - 根据标题将函数应用于单个 jQuery 元素

> ID：13470827
> 
> 赞同：1
> 
> 时间：2012-11-20T10:07:24.263
> 
> 标签：jquery, html, dom

我目前正在努力使用 jQuery 函数，该函数将文本框的标题添加为默认文本，直到用户单击它。我只想要一个特定的文本框来应用这个功能，所以我用'title="Search"'对其进行了修改，以确保它只对标题搜索的字段起作用。但是，这似乎破坏了功能。有谁知道下面的功能有什么问题？

```
$('input[type="text" title="Search"]').each(function() {
    this.value = $(this).attr('title');
    $(this).addClass('text-label');

    $(this).focus(function() {
        if (this.value == $(this).attr('title')) {
            this.value = '';
            $(this).removeClass('text-label');
        }
    });

    $(this).blur(function() {
        if (this.value == '') {
            this.value = $(this).attr('title');
            $(this).addClass('text-label');
        }
    });
}); 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-20T10:10:14.107

尝试`$('input[type="text"][title="Search"]')`改用。

在 jQuery中使用[属性选择器](http://api.jquery.com/attribute-equals-selector/)时，每个单独的属性都需要单独编写。

更新：

要使其适用于某个 div 中的元素，请尝试：

`$('#id_of_the_div input[type="text"][title="Search"]')`

# microdata - schema.org 微数据词汇

> ID：13470829
> 
> 赞同：1
> 
> 时间：2012-11-20T10:07:36.470
> 
> 标签：microdata, schema.org

搜索提供商建议在没有任何保证的情况下使用`itemprop="mainContentOfPage"`with来即兴创作他们的搜索结果。`itemscope="itemscope" itemtype="http://schema.org/CreativeWork/WebPage/AboutPage"`

为什么搜索提供商不使用他们所祝福的 schema.org 词汇？

如果 Google 想要避免作恶，那么以标准化丰富片段和与非通用词汇结盟的名义重新发明微格式，那些 XSL 无法解析的词汇是合理的吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T06:27:22.107

schema.org 的词汇是通用的，对于改进 UX 来说过于庞大而无法实用，尽管 Google 的尝试值得称道。失败频率值得注意，特别是对于搜索中的虚假评论垃圾邮件。仍然对于特定任务，坚持使用 XFN 和 RDFa 命名空间（例如 FOAF）作为微数据中的输入词汇表是更简洁的选择，因此实施者永远不会迷失方向。至于 XSL 解析，需要编写新的 XSL 文件，因为微数据通过 HTML5 接管，并且词汇自定义可以内置到实现中，如[http://richard.cyganiak.de/2011/10/microdata.html](http://richard.cyganiak.de/2011/10/microdata.html)所解释 的。结构化数据的概念植根于语义网的概念，无论谁是谁，对某些 RDFa 词汇表的词汇支持是由语义网的 RDFa 初始上下文在[http://www.w3.org/2011/rdfa-context/rdfa-1.1.html](http://www.w3.org/2011/rdfa-context/rdfa-1.1.html)和[http://www.w3.org/2011/rdfa-context/html-rdfa-1.1](http://www.w3.org/2011/rdfa-context/html-rdfa-1.1)

# java - 如何更改 java.util.Calendar/Date 的 TIMEZONE

> ID：13470830
> 
> 赞同：47
> 
> 时间：2012-11-20T10:07:35.197
> 
> 标签：java, datetime, calendar

我想在运行时更改 Java 日历实例中的 TIMEZONE 值。我在下面试过。但是两种情况下的输出是相同的：

```
 Calendar cSchedStartCal = Calendar.getInstance(TimeZone.getTimeZone("GMT"));
    System.out.println(cSchedStartCal.getTime().getTime());
    cSchedStartCal.setTimeZone(TimeZone.getTimeZone("Asia/Calcutta"));
    System.out.println(cSchedStartCal.getTime().getTime()); 
```

输出：
1353402486773
1353402486773

我也试过这个，但输出仍然是一样的：

```
 Calendar cSchedStartCal = Calendar.getInstance(TimeZone.getTimeZone("GMT"));
    System.out.println(cSchedStartCal.getTime());

    Calendar cSchedStartCal1 = Calendar.getInstance(TimeZone.getTimeZone("Asia/Calcutta"));
    cSchedStartCal1.setTime(cSchedStartCal.getTime());
    System.out.println(cSchedStartCal.getTime()); 
```

在 API 中，我看到了以下评论，但我无法理解其中的大部分内容：

```
 * calls: cal.setTimeZone(EST); cal.set(HOUR, 1); cal.setTimeZone(PST).
     * Is cal set to 1 o'clock EST or 1 o'clock PST?  Answer: PST.  More
     * generally, a call to setTimeZone() affects calls to set() BEFORE AND
     * AFTER it up to the next call to complete(). 
```

请你帮助我好吗？

**一种可能的解决方案：**

```
 Calendar cSchedStartCal = Calendar.getInstance(TimeZone.getTimeZone("GMT"));
    long gmtTime = cSchedStartCal.getTime().getTime();

    long timezoneAlteredTime = gmtTime + TimeZone.getTimeZone("Asia/Calcutta").getRawOffset();
    Calendar cSchedStartCal1 = Calendar.getInstance(TimeZone.getTimeZone("Asia/Calcutta"));
    cSchedStartCal1.setTimeInMillis(timezoneAlteredTime); 
```

这个解决方案好吗？

* * *

## 回答 #1

> 赞同：59
> 
> 时间：2012-11-20T11:25:54.613

在 Java 中，日期在内部以自纪元以​​来的 UTC 毫秒表示（因此不考虑时区，这就是为什么你得到相同的结果，因为`getTime()`给你提到的毫秒）。
在您的解决方案中：

```
Calendar cSchedStartCal = Calendar.getInstance(TimeZone.getTimeZone("GMT"));
long gmtTime = cSchedStartCal.getTime().getTime();

long timezoneAlteredTime = gmtTime + TimeZone.getTimeZone("Asia/Calcutta").getRawOffset();
Calendar cSchedStartCal1 = Calendar.getInstance(TimeZone.getTimeZone("Asia/Calcutta"));
cSchedStartCal1.setTimeInMillis(timezoneAlteredTime); 
```

您只需将 GMT 的偏移量添加到指定的时区（在您的示例中为“亚洲/加尔各答”），以毫秒为单位，所以这应该可以正常工作。

另一种可能的解决方案是利用`Calendar`类的静态字段：

```
//instantiates a calendar using the current time in the specified timezone
Calendar cSchedStartCal = Calendar.getInstance(TimeZone.getTimeZone("GMT"));
//change the timezone
cSchedStartCal.setTimeZone(TimeZone.getTimeZone("Asia/Calcutta"));
//get the current hour of the day in the new timezone
cSchedStartCal.get(Calendar.HOUR_OF_DAY); 
```

有关更深入的说明，请参阅[stackoverflow.com/questions/7695859/ 。](https://stackoverflow.com/questions/7695859/how-to-convert-a-data-from-1-timezone-to-another-timezone)

* * *

## 回答 #2

> 赞同：16
> 
> 时间：2012-12-22T11:20:40.830

1.  该类`Date/Timestamp`表示自 1970 年 1 月 1 日 00:00:00 GMT 以来的特定时刻，精度为毫秒。因此，无论时区如何，这个时间差（从纪元到当前时间）在全世界所有计算机中都是相同的。

2.  `Date/Timestamp`不知道给定时间在哪个时区。

3.  如果我们想要基于时区的时间，我们应该使用 java 中的 Calendar 或 SimpleDateFormat 类。

4.  如果您尝试使用 打印 Date/Timestamp 对象`toString()`，它将使用您机器的默认时区转换和打印时间。

5.  所以我们可以说 (Date/Timestamp).getTime() 对象将始终具有 UTC（以毫秒为单位的时间）

6.  总结 `Date.getTime()`将给出 UTC 时间，但`toString()`在区域设置特定时区，而不是 UTC。

## 现在我将如何在指定时区创建/更改时间？

下面的代码为您提供了具有指定时区的日期（以毫秒为单位的时间）。这里唯一的问题是你必须以字符串格式给出日期。

```
 DateFormat dateFormat = new SimpleDateFormat("yyyyMMdd HH:mm:ss");
   dateFormatLocal.setTimeZone(timeZone);
   java.util.Date parsedDate = dateFormatLocal.parse(date); 
```

用于`dateFormat.format`将输入日期（始终为 UTC）、时区和返回日期作为字符串。

## 如何在数据库中存储 UTC/GMT 时间：

如果您打印`parsedDate`对象，时间将采用默认时区。但是您可以将 UTC 时间存储在 DB 中，如下所示。

```
 Calendar calGMT = Calendar.getInstance(TimeZone.getTimeZone("GMT"));
        Timestamp tsSchedStartTime = new Timestamp (parsedDate.getTime());
        if (tsSchedStartTime != null) {
            stmt.setTimestamp(11, tsSchedStartTime, calGMT );
        } else {
            stmt.setNull(11, java.sql.Types.DATE);
        } 
```

# jquery - 已发送对 Google Analytics 的请求，但未记录事件

> ID：13470838
> 
> 赞同：1
> 
> 时间：2012-11-20T10:07:57.670
> 
> 标签：jquery, google-analytics, event-tracking

我正在尝试使用以下脚本跟踪出站链接：

```
$(document).ready(function(){
    _gaq.push(['_setAccount', 'UA-XXXXXXX-XX']); //hidden number, well configured
    //works
    $("a[href$='pdf']").click(function(){ 
        _gaq.push(['_trackEvent', 'PDF', 'Download', $(this).attr('href') ]);
    });
    //doesn't works
    $("a.external_link").click(function(e){ 
        _gaq.push(['_trackEvent', 'Outbound', 'Click', $(this).attr('href')]);      
    });
}); 
```

跟踪 pdf 链接的第一个功能运行良好。第二个没有。我在要跟踪的链接上添加了 target=_blank，所以我认为这不是延迟问题。我已经检查了 Firebug，GA 请求发送良好，所有参数似乎都很好。我点开链接，我知道有些人也是这样做的，这些事件虽然已经实施了 4 天，但在 GA 中并没有出现。

有任何想法吗 ？谢谢 ！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T10:31:08.627

You mention in your post that all the links to be tracked has a target="_blank" in the attributes.

Why not try something in the order of:

```
$("a[target$='_blank']").click(function(e){ 
    //gaq function here...      
}); 
```

Instead of referencing the href attribute, reference the target attribute rather.

Hope this helps!

# c# - WebAuthenticationBroker.AuthenticateAsync 抛出异常

> ID：13470843
> 
> 赞同：6
> 
> 时间：2012-11-20T10:08:16.827
> 
> 标签：c#, windows-8, microsoft-metro, windows-store-apps

我的代码使用：

```
WebAuthenticationResult WebAuthenticationResult = await
WebAuthenticationBroker.AuthenticateAsync( 
                                        WebAuthenticationOptions.None, 
                                        StartUri, 
                                        EndUri); 
```

就像[Microsoft Web 身份验证代理示例](http://code.msdn.microsoft.com/windowsapps/Web-Authentication-d0485122)

它曾经在我的桌面和平板电脑（Surface）上工作，但现在它不能在我的桌面上工作。它抛出异常

```
The process terminated unexpectedly. (Exception from HRESULT: 0x8007042B) 
```

它适用于平板电脑和不同的 windows-8 桌面。

有什么建议会导致此异常吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-02-26T00:55:34.507

WebAuthenticationBroker.AuthenticateAsync 将 AuthHost.exe 进程作为应用进程的子进程启动，异常返回的 HRESULT 表明 AuthHost.exe 意外失败。启动时，AuthHost 会尝试从非 sso 容器中清除 cookie、内容和历史记录，如果失败，它会退出。另一方面，Windows 应用程序在沙箱中运行，具有一组不同于桌面应用程序的权限。因此 Internet Explorer 本身或执行 SSO 的桌面应用程序可能能够正常工作，但不允许 AuthHost 在启动时进行所需的清理。在我的情况下，运行该应用程序的用户是被授予对该文件夹的完全访问权限的组的一部分，但该用户本身没有直接文件访问权限。但是，组权限在应用程序沙箱中被剥夺了。在默认设置中，权限配置正确，应该不会出现这样的问题。但是，在某些情况下，用户将 Internet 临时文件移动到新位置，该位置可能具有稍微不同的文件访问权限集。该线程上的另一个响应表明删除和重新创建配置文件会有所帮助。此操作将 Internet Explorer 中的 Temporary Internet Files 设置重置为默认值，间接支持我的建议。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T00:57:57.840

我不确定，但我认为 WebAuthBroker 需要在 UI 线程上调用，因为它试图以向您显示弹出窗口的方式更改您的 UI 的某些内容。

# javascript - 当用户点击链接或使用html的src标签时如何调用javascripte函数

> ID：13470851
> 
> 赞同：-5
> 
> 时间：2012-11-20T10:08:58.010
> 
> 标签：javascript, html

我们如何知道用户是否至少点击了 10 次链接？如果用户在链接上单击 10 次，则打开一个自动其他窗口以接受来自用户的数据并存储它.....

请使用JS和HTML解决它。

还有我们如何使用 HTML 的“src”标签调用 JS 函数？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-20T10:15:30.473

链接：

```
 <a onClick="doTheMagic('http://www.google.com/',1);" href="#">Click on it.</a> Your Total Clicked: <span id="timesClicked_1">0</span>; Remaining Total Clicked <span id="timesRequired_1">10</span>
    <br />
    <a onClick="doTheMagic('http://www.facebook.com/',2);" href="#">Click on it.</a> Your Total Clicked: <span id="timesClicked_2">0</span>; Remaining Total Clicked <span id="timesRequired_2">10</span>
    <br />
    <a onClick="doTheMagic('http://www.twitter.com/',3);" href="#">Click on it.</a> Your Total Clicked: <span id="timesClicked_3">0</span>; Remaining Total Clicked <span id="timesRequired_3">10</span> 
```

的JavaScript：

```
var clickCounter = new Array();
clickCounter[1] = 0;
clickCounter[2] = 0;
clickCounter[3] = 0;

function doTheMagic(src,linkNumber){
    clickCounter[linkNumber]++;
    if(clickCounter[linkNumber] >= 10){
       poptastic(src);
    }
    document.getElementById("timesClicked_" + linkNumber).innerHTML = clickCounter[linkNumber];
    document.getElementById("timesRequired_" + linkNumber).innerHTML = (10 - clickCounter[linkNumber]);
}

var newwindow;
var adParams = {a: '9386380', size: '728x90'};
var size = adParams['size'].split("x");
function poptastic(url){
    var params = [
                'height='+size[0],
                'width='+size[1],
                'fullscreen=no' // only works in IE, but here for completeness
                ].join(',');
    newwindow=window.open(url,'name',params);
    if (window.focus) {newwindow.focus()}
} 
```

[jsfiddle](http://jsfiddle.net/ToBadForU/a9d4J/2/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T10:12:13.970

[点击事件](http://www.w3schools.com/jsref/event_onclick.asp)。使用它来捕捉鼠标点击并执行 javascript。
请不要在每个单词上使用大写字母。它使您的问题难以阅读。

# html - 哪些内容可以在 head 和 body 标签之外？

> ID：13470854
> 
> 赞同：5
> 
> 时间：2012-11-20T10:09:09.287
> 
> 标签：html, xhtml

这似乎是一个奇怪的问题，但我正在构建一些读取 HTML 文件的脚本，并且我将内容分为 2、body 和 head，并且想知道是否还有其他我可能不知道的内容？

我唯一知道的是`<DOCTYPE>`，我想知道是否还有更多？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-11-20T10:11:22.253

doctype 声明在这个词的意义上并不完全是内容。

没有任何内容应该存在于外部`head`和`body`（事实上，任何*要显示*的内容都应该只存在于内部`body`）。但是，当您给浏览器提供奇怪或无效的标记时，浏览器可能会创建一些非常古怪的 DOM。这是一个[例子](https://stackoverflow.com/questions/5641997/is-it-necessary-to-write-head-body-and-html-tags/5642982#5642982)。

此外，`head`和`body`，按此顺序，是`html`根元素 的唯一两个可能的子元素。

# yacc - 编写 yacc 语法来解析这些语句

> ID：13470855
> 
> 赞同：0
> 
> 时间：2012-11-20T10:09:11.447
> 
> 标签：yacc

我想为解析语句编写yacc语法如下

```
START  
statement1
statement2  
END  
START
statement3
END
START
statement4
END 
```

或者

```
START
  statement1
  statement2
  XYZ               (2)
      START
      statement3
      statement4
      XYZ           (1)
      END
  statement5
  XYZ               (3)
END 
```

等等..

可以有任意数量的此类 START-END 集。

每个 START 都应该有一个 END。如果 XYZ 出现在 (1) 处，那么它也应该出现在 (2) 和 (3) 处。但是，如果 XYZ 出现在 (2) 和 (3) 它可能出现也可能不出现在 (1)。这意味着最里面的 START-END 集可能有也可能没有 XYZ .. 我应该如何编写这样的语法图案？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-06-23T06:46:29.053

用这个：

> 程序 -> S
> 
> S -> S 开始语句 END | ;
> 
> 语句 -> 语句语句 | ;
> 
> 语句 -> 正常语句 | XYZ ;

现在只需使用计数器来确保语法中的 XYZ 存在模式。您可以在 yacc 文件的前面检查它，`END`您可能知道如何检查它。

# java - 在 Eclipse 中使用 Maven 创建带有 mainClass 的 java 应用程序 - “找不到主类”

> ID：13470856
> 
> 赞同：0
> 
> 时间：2012-11-20T10:09:12.400
> 
> 标签：java, eclipse, maven, classpath, executable

我正在尝试制作一个可执行的 JAVA 程序。该程序的源代码在源文件夹中有许多不同的包。当我在下面的 pom.xml 文件中设置 mainClass 属性并将其作为 maven 构建运行时，目标为“包”，它会创建 myapplication.jar。当我尝试使用打开它时

```
java -jar myapplication.jar 
```

我收到消息：

*'找不到主类：xxx.yyy.MainClass。程序将会退出。*

以下是我的 pom.xml 文件的摘录：

```
<plugin>
    <groupId>org.apache.maven.plugins</groupId>
    <artifactId>maven-jar-plugin</artifactId>
    <configuration>
      <archive>
        <manifest>
          <addClasspath>true</addClasspath>
          <mainClass>xxx.yyy.MainClass</mainClass>
        </manifest>
      </archive>
    </configuration>
    <executions>
        <execution>
            <id>make-a-jar</id>
            <phase>compile</phase>
            <goals>
              <goal>jar</goal>
            </goals>
        </execution>
    </executions>
</plugin> 
```

在 MainClass.java 中（在包 xxx.yyy 中）我有：

```
public static void main(String[] args) {
  // My Code
} 
```

如果我解压 JAR 文件并查看 META-INF 文件夹中的 MANIFEST.MF 文件，它包含以下行：

```
Main-Class: xxx.yyy.MainClass
Class-Path: aaa.jar bbb.jar ccc.jar 
```

其中 aaa.jar、bbb.jar 和 ccc.jar 是 Maven 自动下载的 jar 文件，因为项目依赖于它们。这两行肯定都以换行结束。

此外，当我浏览到与解压缩的 JAR xxx/yyy/MainClass.class 相关的文件夹时，它就在那里！

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T11:42:17.177

我不确定这是否是导致此问题的原因，因为错误消息不适合，但请注意 jar 选项的文档指出：

“使用此选项时，JAR 文件是所有用户类的来源，其他用户类路径设置将被忽略。”

所以我怀疑

```
Class-Path: aaa.jar bbb.jar ccc.jar 
```

将工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T12:15:35.627

我刚刚根据您的要求创建了一个 Maven 项目。这工作正常。

我已经上传到这里供你参考。[https://www.dropbox.com/s/1yuy9nfdj7mz4ec/testPackage.zip](https://www.dropbox.com/s/1yuy9nfdj7mz4ec/testPackage.zip)

这工作得很好。请注意，我正在使用`maven-2.0.9`.

# java - Java 中的 String.split(" ") 是否预先完成所有工作？

> ID：13470862
> 
> 赞同：2
> 
> 时间：2012-11-20T10:09:20.357
> 
> 标签：java, string

假设我有一个很长的 String 称为`str`，并且我正在寻找`"hello"`. 现在我们可以说每个标记由一个空格分隔，但在更复杂的情况下它不会，因此使用 split 而不是 StringTokenizer。现在，让我们也说`"hello"`只是字符串中的第三个单词。是以下算法`O(n)`还是`O(1)`？

```
for (String word : str.split(" ") )
    if ( word.equals("hello") ) return; 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-20T10:12:15.950

如果`O(1)`数组中有多少令牌并不重要，那将是不正确的。它是`O(n)`。

# android - 如何在不登录的情况下从 Twitter 获取推文？

> ID：13470867
> 
> 赞同：0
> 
> 时间：2012-11-20T10:09:28.920
> 
> 标签：android

我正在尝试从 Twitter 获取推文而无需登录，仅通过用户名。这可能吗？所以请帮助我。提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-20T10:26:36.523

Try This Link And Do Json Parsing

[https://api.twitter.com/1/statuses/user_timeline.json?screen_name=](https://api.twitter.com/1/statuses/user_timeline.json?screen_name=) your username

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-20T10:11:14.323

如果不登录 Twitter，我认为这是不可能的。

twitter 身份验证是标准的，需要正确的登录。

# nhibernate - 多对多：删除一侧，关系条目但不要删除另一侧

> ID：13470869
> 
> 赞同：13
> 
> 时间：2012-11-20T10:09:33.703
> 
> 标签：nhibernate, many-to-many, cascade, nhibernate-cascade

我想删除一个有很多用户组但这些用户组不完全属于这个用户的用户：其他用户也可以使用这个用户组。即使没有用户引用它们，用户组也可以存在。

我想映射多对多关系，以便如果**删除用户**，**关系会自动删除**，而***不是*用户组**？

我尝试`Cascade.All`了，因为我认为多对多的级联会影响关系，但不会影响另一方。我以为只会`Cascade.AllDeleteOrphan`做对方删除。显然我错了。

看来我不理解级联规则。有人可以向我提供一个明确的解释，也许还能达到我的目标吗？

谢谢

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-11-20T11:50:42.057

NHibernate`many-to-many`关系确实提供了我们所期望的，让我更详细地解释一下。虽然我们只需要两个实体**User**和**Group**，但我们将需要三个表：`User`, `Group`, `UserGroup`（带有列*UserId* , *GroupId*）

**C#**实体：

```
public class User {
   IList<Group> Groups {get;set;}
}

public class Group{
   IList<User> Users{get;set;}
} 
```

**hbm.xml**我们的映射将如下所示：

```
<class name="User" ...    
  <bag name="Groups" lazy="true" 
       table="UserGroup" cascade="none" >
    <key column="UserId" />
    <many-to-many class="Group" column="GroupId" />
  </bag>
  ...

<!-- and group vica versa -->

<class name="Group" ...
  <bag name="Users" lazy="true" 
       table="UserGroup" cascade="none" >
     <key column="GroupId" />
     <many-to-many class="User" column="UserId" />
  </bag>
    ... 
```

这种具有重要设置的映射`cascade="none"`将执行预期的行为。这个映射表示有一个*PairTable* `UserGroup`，它没有任何实体表示。因此，不能有任何级联设置影响该表。这张桌子在*幕后*隐藏使用。

**对表**

当某个用户被删除时，*NHibernate*也会从`UserGroup`表中删除所有关系（实际上这将是批处理中的第一条语句）。这只是*关系引用约束处理*。我们不能在 table 中留下任何，它`UserId`在 table`UserGroups`中没有其外键`User`。

**另一方关系结束**

最后是级联设置：因为`UserGroup`表是在没有我们注意的情况下管理的，所以在这种情况下*级联*应用于实体`Group`- 另一个关系端。因此，将其设置为 all-delete-orphan 可能会导致完全删除所有交叉引用的记录。

摘要：`bag`与`many-to-many`关系上的级联是针对另一个端点的，而不是配对表。

# asp.net-mvc - ModelState 有效时单元测试失败

> ID：13470870
> 
> 赞同：1
> 
> 时间：2012-11-20T10:09:37.720
> 
> 标签：asp.net-mvc, unit-testing, nunit

我写了一个单元测试

```
// Arrange                    
FocusController controller = new FocusController();
controller.ModelState.AddModelError("", "mock error message");
// Act

FocusFormModel focus = new FocusFormModel();
focus.FocusName = "Mock Focus";
focus.Description = "Mock Description";
focus.GroupId = 1;
var result = controller.CreateFocus(focus) as RedirectToRouteResult;
//// Assert 

Assert.That(result, Is.Not.Null); 
```

此处单元测试失败，因为模型状态无效。

我的控制器动作是：

```
[HttpPost]
public ActionResult CreateFocus(FocusFormModel focus)
{ 
    if (ModelState.IsValid)
    {
        var createdfocus = focusService.GetFocus(focus.FocusName);
        return RedirectToAction("Focus", new { id = createdfocus.FocusId });
    }

    return View("CreateFocus",focus);
} 
```

我的索引操作：

```
Public ActionResult Index(int id)
{
    return View();
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T10:26:37.583

Yes, it will fail because you have an error on the ModelState, so you could compare the result type of your action method, check the modelState and check the model as well. I recommend test doing a code like this:

```
[TestMethod]
public void Should_have_return_an_error()
{
    FocusController controller = new FocusController();

    // you add this value on ModelState to force the error
    controller.ModelState.AddModelError("", "mock error message");

    // Act
    FocusFormModel focus = new FocusFormModel();
    focus.FocusName = "Mock Focus";
    focus.Description = "Mock Description";
    focus.GroupId = 1;

    const string viewNameResult = "Index"; //or whatever your action tested should return

    // it will return the error
    var result = controller.CreateFocus(focus) as ViewResult;

    //// Assert the Action type result...
    Assert.IsInstanceOfType(result, typeof(RedirectToRouteResult));

    //// Assert the model..
    Assert.AreEqual(focus, result.Model);

    //// Aseert the ModelState
    Assert.IsFalse(result.ModelState.IsValid);

    Assert.AreEquals(result.ViewName, viewNameResult);

} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-20T13:06:16.947

你真正想要测试的是最终结果。例如，您可能希望确保在模型状态无效时返回正确的 ViewName。你只会测试一件事。

如果您以 TDD 方式执行此操作...

从失败的测试开始。如果模型状态无效，我只关心预期结果。如果模型状态无效，我希望返回特定视图。

单元测试：

```
 [TestMethod]
    public void CreateFocus_WhenModelStateIsNotValid_ReturnsViewNameCreateFocus()
    {
       // Arrange                    
        var stubFocusService = new Mock<IFocusService>();
        var controller = new FocusController(stubFocusService.Object);
        controller.ModelState.AddModelError("", "fake error message");
        const string expectedViewNameWhenModelError = "CreateFocus";

        // Act
        var result = controller.CreateFocus(It.IsAny<FocusFormModel>()) as ViewResult;

        // Assert 
        Assert.AreEqual(expectedViewNameWhenModelError, result.ViewName);
    } 
```

被测系统：

```
 [HttpPost]
    public ActionResult CreateFocus(FocusFormModel focus)
    {
        return new EmptyResult();
    } 
```

现在编写足够的生产代码以使测试通过

```
 [HttpPost]
    public ActionResult CreateFocus(FocusFormModel focus)
    {
        if (!ModelState.IsValid)
        {
            return View("CreateFocus", focus);
        }

         return new EmptyResult();
    } 
```

测试通过。我们还没有完成。如果模型状态有效，我们还想测试我们得到预期的视图。我们为此编写了一个不同的测试。

从失败的测试开始

```
 [TestMethod]
    public void CreateFocus_WhenModelStateIsValid_EnsureRouteNameFocus()
    {
        // Arrange                    
        var stubFocusService = new Mock<IFocusService>();
        stubFocusService.Setup(x => x.GetFocus(It.IsAny<string>())).Returns(new Focus());
        var controller = new FocusController(stubFocusService.Object);
        const string expectedRouteNameWhenNoModelError = "Focus";

        // Act
        var result = controller.CreateFocus(new FocusFormModel()) as RedirectToRouteResult;

        // Assert 
        Assert.AreEqual(expectedRouteNameWhenNoModelError, result.RouteValues["action"]);
    } 
```

我们重构生产代码以使测试通过。再次绝对必要的..

```
 [HttpPost]
    public ActionResult CreateFocus(FocusFormModel focus)
    {
        if (!ModelState.IsValid)
        {
            return View("CreateFocus", focus);
        }

        var createdfocus = _focusService.GetFocus(focus.FocusName);
        return RedirectToAction("Focus", new { id = createdfocus.FocusId });
    } 
```

现在运行所有测试并确保它们都通过。重构您的测试以删除任何重复。

请注意，您可能使用 NUnit 或其他，但我使用 MSTest 进行了演示。我会使用手写存根，但在 Moq 中模拟很简单。我还将 Model.IsValid 切换为 !Model.IsValid （只是为了我的方便），但你明白了。

希望这可以帮助。

# extjs - 带有商店的 Extjs TextField

> ID：13470872
> 
> 赞同：1
> 
> 时间：2012-11-20T10:09:49.913
> 
> 标签：extjs, extjs4

我想在自定义控件中扩展一个 TextField，以便它可以包含我的模型的两个字段（一个 id 字段和一个描述字段），就像一个组合，但是在 TextField（或 TriggerField）中。

我也需要，当我发布表单时，将 id 属性发送到服务器。

首先我想在这个控件中创建一个商店，但我想听听更多的想法。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T11:36:06.150

您可以使用任意数量的按钮来扩展组合框。这很容易：

提供 CLS

```
trigger2Cls: 'x-form-clear-trigger' 
```

请注意，数字必须增加您需要的更多按钮

现在 ExtJS 将寻找一个触发器处理程序

```
onTrigger2Click: function(args){} 
```

而已。你不需要一个新的组件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T11:23:37.957

字段不能包含另外两个字段。如您所知，字段包含值。显示值（ Ext 术语中的**原始值**）和提交值（值）可能不同。

直接和反向转换使 rawToValue 和 valueToRaw。

[http://docs.sencha.com/ext-js/4-1/#!/api/Ext.form.field.Base-method-rawToValue](http://docs.sencha.com/ext-js/4-1/#!/api/Ext.form.field.Base-method-rawToValue)

# c++ - 获取 opencv 2.4.3 的编译错误

> ID：13470876
> 
> 赞同：0
> 
> 时间：2012-11-20T10:10:01.533
> 
> 标签：c++, opencv

我在这一行遇到了一个编译错误，说 png_libpng_version_1_5_9 没有定义。

```
/* Generate a compiler error if there is an old png.h in the search path. */
typedef png_libpng_version_1_5_9 Your_png_h_is_not_version_1_5_9; 
```

有没有人遇到同样的问题？

[我从http://opencv.org/opencv-2-4-3-released.html](http://opencv.org/opencv-2-4-3-released.html)下载了 opencv 2.4.3

线条`1819-1820`来自`3rdparty/libpng/pngtest.c`.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-27T11:43:49.540

这行代码之前的注释似乎很清楚。如果`png.h`您的路径上已经存在，则调用`png.h`可能会转到错误的代码集。

为确保您使用的是 OpenCV ，如果您的路径上已有`png.h`替代方案，它们会引发错误。`png.h`

# c# - Twitterizer2 和 Twitterizer2.Asynchronous

> ID：13470878
> 
> 赞同：1
> 
> 时间：2012-11-20T10:10:06.460
> 
> 标签：c#, .net, twitter, twitterizer

如何安装 Twitterizer2 和 Twitterizer2.Asynchronous？在 Twitterizer2 的最后一个版本中，我收到“无法解析 JSON”之类的错误。解决这个问题，从 GIT 下载版本并构建它，然后添加参考。

没有 Twitterizer.Asynchronous 一切正常，但是当我尝试添加 Twitterizer2.Asynchronous 并使用它时，我得到一个错误：

> 程序集 'Twitterizer2.Asynchronous, Version=2.4.0.26650, Culture=neutral, PublicKeyToken=69d1469eac671567' 使用 'Twitterizer2, Version=2.4.0.26532, Culture=neutral, PublicKeyToken=69d1469eac671567'，它的版本比引用的程序集 'Twitterizer2, Version =0.0.0.0，文化=中性，PublicKeyToken=69d1469eac671567' c:\Users\fs\Documents\Visual Studio 2010\Projects\Twtt2\packages\twitterizer-async.2.4.0.26650\lib\net40\Twitterizer2.Asynchronous.dll

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T10:35:47.563

解决方案：

1.  删除所有对 twitterizer、twitterizer-async、Newtonsoft.JSON 的引用；
2.  前往[https://github.com/Twitterizer/Twitterizer](https://github.com/Twitterizer/Twitterizer)下载项目；
3.  构建 Twitterizer2 和 Twitterizer2.Async；
4.  添加到您在第 3 部分程序集 (dll) 中构建的项目中；
5.  在您的项目中转到 Package-Manager-Console；
6.  在此处输入：Install-Package Newtonsoft.JSON -version 4.0.5；
7.  利润！

从 NuGet 获取 twitterizer 仍然存在问题，bcz 你必须得到一个错误“无法解析 JSON”，-那是因为在 NuGet 包中有和程序集到 Newton.JSON 4.5，-所以，你必须添加以前的版本JSON，在此之前，构建您自己的程序集。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-20T10:23:49.573

Twitterizer2当前版本为2.4.0.26532，不能使用更高版本的Twitterizer2.Asynchronous。

从引用 Twitterizer2 和 Twitterizer2.Asynchronous 中删除两者，并添加两者但具有兼容版本。

为了使它更容易，请尝试从 nuget 安装它们

[http://nuget.org/packages/twitterizer-async](http://nuget.org/packages/twitterizer-async)

```
Install-Package twitterizer-async -Version 2.4.0.26650 
```

认为因为 Twitterizer2.Asynchronous 依赖于 Twitterizer2，它会为您安装 Twitterizer2 的兼容版本

# java - XMLGregorianCalendar 到字符串转换错误

> ID：13470880
> 
> 赞同：0
> 
> 时间：2012-11-20T10:10:07.890
> 
> 标签：java, simpledateformat, gregorian-calendar

以下代码片段非常适用于年份以上的日期`1600`。但它会给出错误的输出多年等`1001, 1500, 1400`。你能解释一下为什么吗？

```
SimpleDateFormat format = new SimpleDateFormat("MM/dd/yyyy");

XMLGregorianCalendar cal DatatypeFactory.newInstance().newXMLGregorianCalendar("1600-01-01");

String birthDate = format.format(cal.toGregorianCalendar().getTime());

System.out.println(birthDate); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T10:21:38.223

我很确定公历日历始于 1582 年，这可以解释为什么它适用于 1600 年而不适用于 1500 年。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-25T13:45:33.933

DateFormat 在将 XMLGregorianCalendar 转换为[GregorianCalendar](http://docs.oracle.com/javase/1.5.0/docs/api/java/util/GregorianCalendar.html)后显示“错误”年份的原因是 GregorianCalendar.getGregorianChange() 默认为 1582-10-15。

如果 GregorianCalendar 设置为公历更改日期之前的日期，它实际上将表示[儒略历](http://en.wikipedia.org/wiki/Julian_calendar)中的日期，这会导致年份看起来“错误”，因为这两个日历的一年长度不同.

对此的修复可能是使用 GregorianCalendar.setGregorianChange() 将此值设置为较早的日期，以避免它更改为儒略历。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-01-26T22:54:18.787

我不太确定。但我认为它指的是纪元（日期），但是......纪元始于 1970 年（而不是 1960 年）。

公历也有一些限制（我不能提到每一个，但是..），例如，你不能使用“零”年的日期，这不能正确解释（我认为日期超出了 Anno Domini ，而您应该参考在基督之前...我不确定）。

但是...您应该四处寻找“时代”。我希望这有助于找到正确的答案。

# python - 如何在 Python 中将德语复数名词转换为单数？

> ID：13470891
> 
> 赞同：0
> 
> 时间：2012-11-20T10:10:26.410
> 
> 标签：python

我正在寻找一种算法，它将德语复数名词转换为单数。欢迎任何想法。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-20T10:14:35.517

在任何语言中，将复数转换为单数再转换回来都是一项*艰巨的任务。*与大多数语言一样，德语中既有[一般规则也有例外](http://www.babelnation.com/german/courses/01_07_3.html)，这使得创建简单的计算机算法变得很棘手。

要正确执行此操作，您必须使用该[`nltk`库](http://nltk.org/)（自然语言工具包）。这*不*适合胆小的人。

如果您确实想走这条路，O'Reilly 在图书馆出版了一本很棒的书，现在[可以在线免费获得](http://nltk.org/book/)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T10:17:41.917

您可以从 nltk - Natural Language Toolkit 中检查[此示例开始。](http://nltk.googlecode.com/svn/trunk/doc/book/ch02.html#code-plural)

*PS* 您也可以查看[inflect](http://pypi.python.org/pypi/inflect)，它完全符合您的要求，除了英语单词。如果你想为德国人创造一些东西，你最好看看他们是如何做到的，`inflect`而不是重新发明轮子。

# javascript - 将浮点参数从 html 传递到 javascript

> ID：13470892
> 
> 赞同：0
> 
> 时间：2012-11-20T10:10:27.617
> 
> 标签：javascript, var

我这里有个小问题。

我想要做的是将一些参数从 html 传递到 javascript。这是代码：

HTML：

```
<div id="percentage">52.338</div> 
```

JAVASCRIPT：

```
var pctg = document.getElementById("percentage");
alert(pctg); 
```

但效果不好。你能告诉我如何解决吗？我已经尝试过'parseFloat'和一些相关的东西，但还不能解决......提前谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-20T10:12:58.233

您要查找的是元素的文本内容，而不是元素本身。一些浏览器（当然是较旧的 IE）使用`innerText`而不是，[`textContent`](https://developer.mozilla.org/en-US/docs/DOM/Node.textContent)因此使用这两个属性是一个好主意：

```
var elem = document.getElementById("percentage");
var text = elem.textContent || elem.innerText; 
```

如果您实际上想要一个数字而不仅仅是一个字符串[`parseFloat()`](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/parseFloat)，请在字符串上使用。

* * *

`data-`不过，根据您所做的事情，将值存储在属性中可能更可取。然后您可以简单地使用`.getAttribute('data-whatever')`来访问它，而不必处理获取元素的文本内容。如果您使用 jQuery，它会变得更好，因为您可以使用`.data('whatever')`它已经返回一个数字。现代浏览器还支持通过属性直接访问数据属性`dataset`；但您可能不想使用它，因为它会在旧浏览器中中断。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-20T10:12:11.150

`pctg`将包含一个元素，而不是元素的文本。试试`alert(pctg.innerHTML)`。

`parseFloat(pctg.innerHTML)`如果需要浮点数，可以使用。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-20T10:19:06.350

您可以获取元素的 innerText ，然后像这样解析值：

```
var pctg = document.getElementById("percentage").innerText;
var floatNumber = parseFloat(pctg); 
```

# windows-8 - Windows 8 应用程序数据

> ID：13470895
> 
> 赞同：0
> 
> 时间：2012-11-20T10:10:31.427
> 
> 标签：windows-8, application-data

对于我的 Windows 8 应用程序，我需要一些包含应用程序内容的数据文件（可能是 xml），这些文件对于每个用户都是相同的，并且只应在新版本发布时更新。

存储/读取这些文件的适当机制/位置是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-21T04:45:12.660

如果您将数据与应用程序捆绑在一起，并且它不会因用户或版本而异，那么只需将文件作为内容包含在应用程序本身中。然后，您可以通过[FileIO 类](http://msdn.microsoft.com/en-us/library/windows/apps/xaml/windows.storage.fileio.aspx)从本地包中访问这些文件。查看 Windows 应用商店应用中的[文件访问和权限](http://msdn.microsoft.com/en-us/library/windows/apps/Hh967755.aspx)以及 ms-appx:// 协议。

或者，您可以将数据存储在云中，并通过应用程序的 HTTP 请求访问它。这是另一个移动部分，但它可以让您更新内容，而不必推出新版本的应用程序。

# nsis - NSIS：如何检查变量是否存在

> ID：13470897
> 
> 赞同：2
> 
> 时间：2012-11-20T10:10:36.843
> 
> 标签：nsis

检查 NSIS 中是否存在 var 的最佳方法是什么？

目前我做这样的事情：

```
${If} $NonExistentVar == $$NonExistentVar 
```

但是，如果现有 var`some_var`的值为 ，这将无法按预期工作`$some_var`，我知道这很罕见，但是有没有更好的检查方法？

```
section non_existent_var
    detailprint "non existent: $NonExistentVar"
    var /global ExistentVar
    detailprint "existent: $ExistentVar"
    ${If} $NonExistentVar == $$NonExistentVar
        detailprint "PASS: NonExistent doesn't exist"
    ${Else}
        detailprint "FAIL: NonExistent exists"
    ${EndIf}

    ${If} $ExistentVar == $$ExistentVar
        detailprint "FAIL: ExistentVar doesn't exist"
    ${Else}
        detailprint "PASS: ExistentVar exists"
    ${EndIf}

    strcpy $ExistentVar "$$ExistentVar"

    ${If} $ExistentVar == $$ExistentVar
        detailprint "FAIL: ExistentVar doesn't exist"
    ${Else}
        detailprint "PASS: ExistentVar exists"
    ${EndIf}
SectionEnd 
```

给出：

```
non existent: $NonExistentVar
existent: 
PASS: NonExistent doesn't exist
PASS: ExistentVar exists
FAIL: ExistentVar doesn't exist
Completed 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T11:37:18.313

为什么不使用定义？毕竟这是应该在编译时进行的检查。

```
!macro DeclareDetactableVariable name
!ifndef VAR_${name}
Var /Global ${name}
!define VAR_${name}
!endif
!macroend

!insertmacro DeclareDetactableVariable foo
!ifdef VAR_foo
...
!endif 
```

# javascript - 使用 attr() 和 jquery 保持大写（区分大小写）

> ID：13470898
> 
> 赞同：10
> 
> 时间：2012-11-20T10:10:45.777
> 
> 标签：javascript, jquery, xml

我用 jQuery 做这个：

```
@xmlOut = $('<rules />')
@xmlOut.attr('xsi:schemaLocation','test') 
```

我明白了：

```
<rules xsi:schemalocation='test'></rules> 
```

“L”不再是大写了......

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2014-03-11T20:26:59.267

有票[http://bugs.jquery.com/ticket/11166](http://bugs.jquery.com/ticket/11166)

或者，您可以将属性挂钩（使用小写名称）添加到 jQuery 以使用所需的 setter 方法。例如：

```
$.attrHooks['viewbox'] = {
    set: function(elem, value, name) {
        elem.setAttributeNS(null, 'viewBox', value + '');
        return value;
    }
}; 
```

然后您可以使用 .attr() 设置区分大小写的属性：

```
$('svg').attr('viewBox', '0 0 100 100'); 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-11-20T10:13:33.300

尝试使用`setAttribute`不区分大小写的纯 Javascript。

```
@xmlOut.get(0).setAttribute('xsi:schemLocation', 'test'); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2017-12-07T11:55:23.357

Kevin 的回答不正确，.setAttribute() 会将属性名改为小写。

相反，将 element.setAttributeNS() 与第一个参数的空字符串一起使用。

```
@xmlOut.get(0).setAttributeNS('', 'xsi:schemaLocation','test') 
```

[https://developer.mozilla.org/en-US/docs/Web/API/Element/setAttributeNS](https://developer.mozilla.org/en-US/docs/Web/API/Element/setAttributeNS)

# eclipse - 比较 Eclipse Juno 中的编辑器和空白保存对话框

> ID：13470903
> 
> 赞同：1
> 
> 时间：2012-11-20T10:11:09.523
> 
> 标签：eclipse

我在 Windows Vista 上使用带有 PDT 插件的 Eclipse Juno。问题在于尝试在比较编辑器中保存文件。所有更改都显示正常，更改副本效果很好，但是当我尝试保存文件（shotcut ctrl+s 或保存图标）时，会出现一个带有两个按钮（是和否）的空对话框。

如果我单击“是”，那么它看起来确实已保存，但如果我重新打开文件，那么我看不到任何更改。

知道这个问题的原因是什么吗？

# android - 单击即可打开 ContextMenu

> ID：13470906
> 
> 赞同：3
> 
> 时间：2012-11-20T10:11:25.920
> 
> 标签：android, android-linearlayout, android-menu

我正在尝试将上下文菜单添加到线性布局并单击打开它。反过来，线性布局包含一个文本视图，以便当用户单击布局上的任何位置时可以调用侦听器。

将 onClick 侦听器设置为线性布局。

```
linearLayout.setOnClickListener(this); 
```

和 onClick 方法：

```
public void onClick(View view) {
    openContextMenu(view);
    //view.showContextMenu(); // didn't work as well
} 
```

上述方法应触发以下

```
public void onCreateContextMenu(ContextMenu menu, View view, ContextMenuInfo menuInfo){            
     super.onCreateContextMenu(menu, view, menuInfo);  
     menu.setHeaderTitle("Title");
     menu.add(0, id, 0, "Item 1");
} 
```

但是，这似乎不起作用。从这里的其他社区帖子中，这是我可能找到的解决方案。我想知道我是否错过了什么。

有什么想法吗？

提前致谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-20T10:14:35.213

您是否使用以下方法注册了线性布局的上下文菜单：

```
registerForContextMenu(linearLayout); 
```

# shell - 打印到文件 shellscript

> ID：13470907
> 
> 赞同：-1
> 
> 时间：2012-11-20T10:11:28.103
> 
> 标签：shell

我想把这个简单的行放到一个文件中： \" 我**必须**使用的命令是： echo " any line " > file

但我找不到使用这个简单命令将**\"**放入 文件的方法

如果我这样做： echo " \" " > file 或 echo " \"" " > file. 它返回错误

如果我这样做：回显“\”“>文件。它返回：”

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T10:13:40.177

反斜杠是转义字符，因此您可以使用

```
echo "\\\"" > file 
```

（注意第一个黑斜杠转义第二个反斜杠，第三个反斜杠转义引号）

# google-chrome - 使用谷歌分析跟踪嵌入的 youtube 视频

> ID：13470908
> 
> 赞同：2
> 
> 时间：2012-11-20T10:11:31.217
> 
> 标签：google-chrome, google-analytics, youtube-api

我试图找出检查有多少用户观看嵌入式 youtube 视频的最简单方法。以下工作正常吗？

```
$('.video').click(function(){
  _gaq.push(['_trackPageview', 'Video Views', 'Play', 'The Perfect Belgian Serve']);

    }); 
```

.video 是赋予 iframe 标签的类。

刚找到这个插件：

```
<div class="ytvid">ylLzyHk54Z0</div>
<script src="//code.jquery.com/jquery-1.7.2.js"></script>
<script src="jquery.ytiframetracker.js"></script>
<script>
  jQuery(function ($) {
    $.ytiframetracker({
      track: function (action, label, value) { // track callback
        console.log('custom tracking', action, label, value);
      }
    });
  });
</script> 
```

[https://code.google.com/p/jquery-ytiframetracker/wiki/Examples](https://code.google.com/p/jquery-ytiframetracker/wiki/Examples)

有人能解释一下有什么行动、标签和价值吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-20T17:15:45.383

您可以使用 YouTube Analytics API，而不是依赖 Google Analytics 和自定义事件/跟踪：http: [//developers.google.com/youtube/analytics](http://developers.google.com/youtube/analytics)

不过，这假设有问题的视频属于您自己的帐户，因为您不能对任意帐户中的视频使用 YouTube 分析。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-20T11:56:18.003

我相信该插件使用事件跟踪，您会在这里找到大量信息：[https ://developers.google.com/analytics/devguides/collection/gajs/eventTrackerGuide#Anatomy](https://developers.google.com/analytics/devguides/collection/gajs/eventTrackerGuide#Anatomy)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-07-14T11:23:58.003

只需在您的 html 中添加代码，然后将 Enter your GA Tracking ID 替换为您的跟踪 ID

```
<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
		ga('create', 'Enter your GA Tracking ID', 'auto', {'allowLinker': true});
		ga('require', 'linker');
		ga('linker:autoLink', ['instamojo.com'] );
		ga('send', 'pageview');

	 var tag = document.createElement('script');
  tag.id = 'iframe-demo';
  tag.src = 'https://www.youtube.com/iframe_api';
  var firstScriptTag = document.getElementsByTagName('script')[0];
  firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

  var player;
  function onYouTubeIframeAPIReady() {
    player = new YT.Player('youTubePlayer', {
		events: {
          'onReady': onPlayerReady,
          'onStateChange': onPlayerStateChange
        }
    });
  }
  function onPlayerReady(event) {

  }
  function changeBorderColor(playerStatus) {

    var color;
    if (playerStatus == -1) {
      color = "#37474F"; 
    } else if (playerStatus == 0) {
      color = "#FFFF00"; 
    } else if (playerStatus == 1) {

      color = "#33691E"; 
	  ga('send', 'event', 'Videos', 'play-videoname', 'videoname');  

    } else if (playerStatus == 2) {

      color = "#DD2C00"; 
	   ga('send', 'event', 'Videos', 'Pause-videoname', 'videoname');  

    } else if (playerStatus == 3) { 
      color = "#AA00FF"; 
    } else if (playerStatus == 5) {
      color = "#FF6DOO"; 
    }
    if (color) {
      document.getElementById('youTubePlayer').style.borderColor = color;
    }
  }
  function onPlayerStateChange(event) {
    changeBorderColor(event.data);
  }

	</script>
```

# paypal - 贝宝付款选项

> ID：13470910
> 
> 赞同：1
> 
> 时间：2012-11-20T10:11:41.500
> 
> 标签：paypal

您好，我正在尝试为某个项目设置定价，并有一个空文本框供人们捐赠额外金额以帮助支付另一个人的费用。

有人知道点击结帐时如何使这两个框加起来吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T10:21:31.380

使用 jQuery 并这样做：

html:

```
Your item:
<div id="item" data-price="5">$5 t-shirt</div>
Donation:
<input type="text" name="donation">
<input type="submit" id="checkout" value="checkout"> 
```

javascript:

```
$(function() { // execute when dom is ready

$('#checkout').click(function(event) {
  var itemPrice = Number($('#item').data().price);
  var donationAmount = Number($('input[name=donation]').val());
  if (!donationAmount) {
    alert("Please enter a number in the donation field.");
  } else {
    alert("Your checkout total is " + total);
  }
});

}); 
```

# entity-framework-5 - 使用 Entity Framework 5 将现有数据库映射到现有域模型

> ID：13470911
> 
> 赞同：2
> 
> 时间：2012-11-20T10:11:42.103
> 
> 标签：entity-framework-5

我正在组合一个新的 ASP.NET MVC 项目，并且已经设计并构建了我的域模型和我的 DB 模式。

我环顾四周，并没有找到一个清晰的分步指南，该指南向我展示了如何使用 Entity Framework 5 将我的域对象映射到 DB 表。

我刚刚添加了一个新的 .edmx 文件并从数据库生成了一个模型，但我现在该怎么做才能将我的模型映射到这个文件？我试图避免在我的数据访问层以外的任何地方使用任何 EF 代码或数据注释（我正在使用存储库模式，而我的服务层只是调用存储库并取回我自己的非 EF 域对象）。

我应该完全避免EF吗？我想我会试一试，但我希望它尽可能不引人注目，让我完全控制我的数据库和域。

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-20T10:16:22.823

如果您希望直接使用代码而不是设计器，则应首先考虑实体框架代码。

您可以将 Code First 与现有数据库一起使用。事实上，[Entity Framework Power Tools](http://visualstudiogallery.msdn.microsoft.com/72a60b14-1581-4b9b-89f2-846072eff19d)（一个 Visual Studio 扩展）可以从现有数据库生成 DTO，然后您可以根据需要对其进行定制。

由于您给出的原因，您还应该考虑使用流式 API 来配置映射，而不是数据注释。

包含详细信息的两本书是 Programming Entity Framework: Code First 和 Programming Entity Framework: DbContext，均由 Julia Lerman 和 Rowan Miller 撰写。

# objective-c - iOS将short转换为长度为2的字节

> ID：13470912
> 
> 赞同：0
> 
> 时间：2012-11-20T10:11:42.387
> 
> 标签：objective-c, ios

我有一个短变量，我想在 iOS 中将其转换为 2 个字节

```
short num = 10;
char *bytes; 
```

现在我想将此 num 值转换为字节

请帮我

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-20T10:16:52.633

可能是这样 char * bytes = malloc(sizeof(char) * 2);

```
bytes[0]  =  (char)(num & 0xff);
bytes[1]  =  (char)((num >> 8) & 0xff); 
```

编辑：在下面的所有评论之后..

```
char * bytes  = malloc(sizeof(char) * 3);

bytes[0]  =  (char)(num & 0xff);
bytes[1]  =  (char)((num >> 8) & 0xff);
bytes[2]  = '\0' ; // null termination

printf("strlen %d", strlen(bytes));
printf("sizeof %d", sizeof(bytes)); 
```

现在你可以理解其中的区别了。。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-06-27T06:57:59.107

> 首先感谢**baliman**，经过一些更改后它对我有用

```
NSString *myStr = @"2";

char buf[2];

sprintf(buf, "%d", [myStr integerValue]);

char c = buf[0]; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-20T10:18:50.623

也许你可以这样做

```
char buf[2];
short num = 10;
sprintf(buf, "%d", num);

// buf[0] = '1'
// buf[1] = '0'
char c = buf[0]; 
```

约翰

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-20T10:41:11.823

如果 short 是 16 位，那么 Short 和 2 个字节是一样的，所以您只需将其类型转换为您想要的任何内容。无论如何，如果您经常使用它，您可以使用 union：

```
union ShortByteContainer {
    short shortValue;
    char byteValue[2];
}; 
```

有了它，您可以从短转换为字节或相反：

```
ShortByteContainer value;
value.shortValue = 13;
char byteVal1 = value.byteValue[0];
char byteVal2 = value.byteValue[1];

value.byteValue[0] = 1;
value.byteValue[1] = 2;
short shortVal = value.shortValue; 
```

# jquery - 如何使用自动完成 jQuery UI 更改组合框的宽度？

> ID：13470913
> 
> 赞同：0
> 
> 时间：2012-11-20T10:11:42.807
> 
> 标签：jquery, jquery-ui

我的页面上有几个使用 jQuery 组合框自动完成 UI 的下拉框。我想将组合框的宽度重置为某个指定的下拉框。我该怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T10:15:16.967

在链接 jquery.ui.css 后使用此样式。

```
 .ui-autocomplete{
     max-width:200px;
  } 
```

# php - php preg_replace 替换不在输入值中的所有内容

> ID：13470915
> 
> 赞同：0
> 
> 时间：2012-11-20T10:11:50.873
> 
> 标签：php, regex, preg-replace

我有一个模板系统来显示基于`$this->cms_language()`价值的东西。在这种情况下，`$value`将替换为与正则表达式模式匹配的内容。它就像[http://www.getnocms.com/2012/11/better-multi-language-template-better.html](http://www.getnocms.com/2012/11/better-multi-language-template-better.html)

```
 $language = $this->cms_language();
    $pattern = array();
    $pattern[] = "/\{\{ if_language:$language \}\}(.*?)\{\{ elif_language:.*?\{\{ end_if }}/s";
    $pattern[] = "/\{\{ if_language:$language \}\}(.*?)\{\{ else \}\}.*?\{\{ end_if }}/s";
    $pattern[] = "/\{\{ if_language:$language \}\}(.*?)\{\{ end_if }}/s";
    $pattern[] = "/\{\{ if_language:.*?\{\{ elif_language:$language \}\}(.*?)\{\{ elif_language:.*?\{\{ end_if }}/s";
    $pattern[] = "/\{\{ if_language:.*?\{\{ elif_language:$language \}\}(.*?)\{\{ else \}\}.*?\{\{ end_if }}/s";
    $pattern[] = "/\{\{ if_language:.*?\{\{ elif_language:$language \}\}(.*?)\{\{ end_if }}/s";
    $pattern[] = "/\{\{ if_language:.*?\{\{ else \}\}(.*?)\{\{ end_if }}/s"; 
    $replacement = '$1';
    $value = preg_replace($pattern, $replacement, $value); 
```

到目前为止一切都很好。但是后来，我发现了一个问题。例如，我编写了一个文本区域或一个包含任何这些模式的输入。就像是：

```
$value = '<input value="{{ if_language:indonesia }} do_something {{ end_if }}" />'; 
```

我不希望输入值被替换，即使它与正则表达式匹配。由于我在这里使用了很多模式，如何最有效地避免这种情况？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T14:28:09.987

您可以尝试添加

```
foreach ($pattern as &$p) {
  $p = preg_replace("/^\//", "/(?![^<>]*>|(?:[^>]*<\/(?:[tT][eE][xX][tT][aA][rR][eE][aA]|[sS][eE][lL][eE][cC][tT])[^<>]*>))", $p); 
```

} }

在大多数情况下，在您现有之前`preg_replace`避免这种情况。

请参阅**[此演示](http://ideone.com/I3ID47)**。

# php - 为什么这个 PHP mysqli fetch 在第一次运行时有效，但不是在循环中？

> ID：13470917
> 
> 赞同：0
> 
> 时间：2012-11-20T10:11:53.573
> 
> 标签：php, mysql, mysqli

```
function GetMessageFromDB(&$id, &$phone, &$message)
{
  $found = FALSE;

  $stmt = $this->db->prepare('SELECT id, phone, message FROM messages WHERE count <= 0 LIMIT 1');
  $stmt->execute();
  $stmt->bind_result($id, $phone, $message);
  $found = $stmt->fetch();
  $stmt->close();

  echo("GetMessageFromDB: ... ");

  if ($found) {
    echo("found\n");
    $this->db->query("UPDATE messages SET `count`=count+1 WHERE `id`=$id");
    $this->db->commit();
  } else {
    echo("not found\n");
  }

  return $found;
}

function SendAll()
{
  while (true) {
    $found = $this->GetMessageFromDB($id, $phone, $message);
    while ($found) {
    # $this->DoSomething($phone, $message);
      $found = $this->GetMessageFromDB($id, $phone, $message);
    }
    echo("sleep ...\n");
    sleep(10);
  }
} 
```

当我运行时`SendAll()`，结果会从数据库中一一正确检索。后来，当所有记录都更新（`count`从 0 到 1）时，我通过 Sequel Pro 更新数据库记录（`count`从 1 到 0）。奇怪的是，程序一直显示`not found`在睡眠循环中。

但是，如果我 ctrl-c 程序并重新启动。再次找到记录。我的代码有什么问题？

数据库连接设置：

```
 $this->db = new mysqli('127.0.0.1', 'username', 'password', 'sendmsg');
  $this->db->autocommit(FALSE); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T10:15:44.350

> $found = $stmt->fetchAll();

尝试这个

# android - 在安卓设备上指定端口

> ID：13470918
> 
> 赞同：0
> 
> 时间：2012-11-20T10:11:54.770
> 
> 标签：android, port

我之前问过一个关于 android 端口的问题：[我的 Android 应用程序如何打开一个端口进行监听？](https://stackoverflow.com/questions/13468358/open-a-port-on-android)

我对打开端口的方法有一个基本的疑问。这是我的客户端代码（android 应用程序）中的一行

```
Socket socket = new Socket("10.112.73.105", 4444); 
```

10.112.73.105 是我服务器的 ip。

afaik，此命令打开服务器上的端口 4444 进行通信。有没有办法指定在客户端 android 设备上使用哪个端口？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-20T10:20:59.807

[如此处](http://docs.oracle.com/javase/1.4.2/docs/api/java/net/Socket.html#Socket%28java.net.InetAddress,%20int,%20java.net.InetAddress,%20int%29)所述，您可以使用四参数 Socket 构造函数：

```
public Socket(InetAddress address,
              int port,
              InetAddress localAddr,
              int localPort) 
```

在这里您可以指定 localPort（localAddr 显然应该设置为 127.0.0.1）。

# photoshop - Photoshop通过合并下一层将图层导出为PNG

> ID：13470920
> 
> 赞同：1
> 
> 时间：2012-11-20T10:12:00.417
> 
> 标签：photoshop, photoshop-script

嗨，我有一个非常具体的问题要解决。

我有不同层数的 Photoshop 文件。假设其中一个有 10 层，我不需要导出每一层，但最底层的是第一个文件。然后我需要导出合并的第一个和第二个（第一个之上的所有图层都将混合模式设置为屏幕），接下来是前三个合并，然后是四个，依此类推。

我不知道 Photoshop 中的脚本，也无法在 Google 中找到任何内容。任何帮助，将不胜感激。我使用 Photoshop CS5

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T17:22:58.847

据我了解，您有一个 Photoshop 文件。背景位于堆栈的底部。下一层，我们称它为第 1 层，然后是第 2 层等。第 1 层和第 2 层需要合并和导出。然后层 1,2 & 3 需要合并和导出。您没有提到背景是否需要与它们合并。无论如何，我正在假设图层需要与背景合并 - 如果不是这样的话，很容易改变。这是一个您想要的脚本：

```
app.preferences.rulerUnits = Units.PIXELS;

// call the source document
var srcDoc = app.activeDocument;
fileName = app.activeDocument.name;
var myDocName = fileName.substring(0,fileName.length -4)
var numOfLayers = srcDoc.layers.length;

hideEverything(srcDoc)
processLayers (srcDoc)

function processLayers (sourceDocument)
{
  for (var i = numOfLayers -1; i >= 0  ; i--)
  {
  srcDoc.activeLayer = srcDoc.artLayers[i];

  thisLayer = srcDoc.artLayers[i].name;

  // duplicate the document
  var id17396 = charIDToTypeID( "Dplc" );
  var desc3299 = new ActionDescriptor();
  var id17397 = charIDToTypeID( "null" );
  var ref2177 = new ActionReference();
  var id17398 = charIDToTypeID( "Dcmn" );
  var id17399 = charIDToTypeID( "Ordn" );
  var id17400 = charIDToTypeID( "Frst" );
  ref2177.putEnumerated( id17398, id17399, id17400 );
  desc3299.putReference( id17397, ref2177 );
  var id17401 = charIDToTypeID( "Nm  " );
  desc3299.putString( id17401, thisLayer ); //change the name of the document
  executeAction( id17396, desc3299, DialogModes.NO );

  // Flatten the image
  app.activeDocument.flatten();

  // Set myFilePath and fileName to source path
  myFilePath = srcDoc.path + '/' + app.activeDocument.name +'.png';

  try
  {
    // save out the image
    var pngFile = new File(myFilePath);
    pngSaveOptions = new PNGSaveOptions();
    pngSaveOptions.embedColorProfile = true;
    pngSaveOptions.formatOptions = FormatOptions.STANDARDBASELINE;
    pngSaveOptions.matte = MatteType.NONE; pngSaveOptions.quality = 1;

    activeDocument.saveAs(pngFile, pngSaveOptions, false, Extension.LOWERCASE);
  }
  catch(e)
  {
    alert(e)
  }
  // close that saved png
  app.activeDocument.close()

  // select the document that's been open the longest
  app.activeDocument = srcDoc;
  }
}

function hideEverything(sourceDocument)
{
  for (var i = numOfLayers -2; i >= 0  ; i--) // don't include background
  {
    srcDoc.artLayers[i].visible = false;
  }
} 
```

# python - 从用户那里获取许多输入以接收作为字符串的输入，例如文件名、目录、其他输入

> ID：13470927
> 
> 赞同：1
> 
> 时间：2012-11-20T10:12:16.000
> 
> 标签：python, tkinter

我正在玩 Tkinter，当我只要求一个又一个输入时它就可以工作。像'askopenfilename'。但是获得许多弹出窗口并不是那么舒服。我想只构建一个框架来一次获取所有输入。

到目前为止，我发现的只是带有按钮的框架（来自一些教程），用于询问文件名或目录，但我无法读取用户的选择。

```
import Tkinter, Tkconstants, tkFileDialog
class TkFileDialogExample(Tkinter.Frame):

  def __init__(self, root):
    Tkinter.Frame.__init__(self, root)

    # define buttons
    Tkinter.Button(self, text='askopenfilename', command=self.askopenfilename).pack()
    Tkinter.Button(self, text='askdirectory', command=self.askdirectory).pack()

  def askopenfilename(self):
    return tkFileDialog.askopenfilename()

  def askdirectory(self):
    return tkFileDialog.askdirectory()

if __name__=='__main__':
    root = Tkinter.Tk()
    TkFileDialogExample(root).pack()
    root.mainloop() 
```

这只是构建了我没问题的框架，但它不停地循环，我无法获得用户选择的内容。我想也许我可以简单地获得按钮的功能（因为它是返回）附带的值？

我是否需要创建一个空列表、数组、dic 来存储函数的值，如下所示：[Returning a value after calling a function with a button in Tkinter](https://stackoverflow.com/questions/5374354/returning-a-value-after-calling-a-function-with-a-button-in-tkinter)，我还没有尝试过......

还是有其他方法，只是“从按钮”中读取它？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-20T10:38:29.240

首先，您可以允许用户在一个对话框中选择多个文件，方法是`multiple`使用`tkFileDialog`.

其次，`tkFileDialog`返回文件名（或具有多个文件名的字符串），如果你愿意，你可以用它做一些事情。例如：

```
def askopenfilename(self):
    files = tkFileDialog.askopenfilename(multiple=True)
    # files might be "file1.txt file2.exe file3.bmp" at this point
    if files: # make sure user didn't cancel the dialog, selecting nothing
        for f in files.split(' '):
            print f 
```

如果您想在其他方法中使用选定的文件，请将文件名保存到实例变量中，或直接传递。使用 return 在这里用处不大，因为它是由按钮调用的，并且它不知道如何处理这样的返回值。

在下面的方法中，`processFiles`可以用来`self.files`对文件做任何你想做的事情。

```
def askopenfilename(self):
    self.files = tkFileDialog.askopenfilename(multiple=True)
    self.processFiles()
    # alternatively:
    files = tkFileDialog.askopenfilename(multiple=True)
    self.processFiles(files) 
```

有关更多示例，请参见[此处](http://tkinter.unpythonic.net/wiki/tkFileDialog)。

# c# - 添加 DataGridViewCheckBoxColumn

> ID：13470940
> 
> 赞同：0
> 
> 时间：2012-11-20T10:12:54.093
> 
> 标签：c#, datagridview, datagridviewcheckboxcell

我已经通过代码向这样的 DataGridView 添加了一堆列。

```
dgvDocDisplay.ColumnCount = 22;
dgvDocDisplay.Columns[0].Name = "Tag";
dgvDocDisplay.Columns[1].Name = "[ ]";
dgvDocDisplay.Columns[2].Name = "#";
dgvDocDisplay.Columns[3].Name = "Type";
dgvDocDisplay.Columns[4].Name = "Reference"; 
```

现在我想让第三列显示复选框（该列的行，而不是标题）。我做了相当多的搜索，遇到了像[这样](http://csharp.net-informations.com/datagridview/csharp-datagridview-checkbox.htm)的文章，但那里显示的方法只会插入一个带有复选框的*新列。*

```
DataGridViewCheckBoxColumn col = new DataGridViewCheckBoxColumn();
dgvDocDisplay.Columns.Add(col); 
```

我需要的是在已经存在的列中添加一个复选框列。不幸的是，我找不到任何相关的信息。

如何将复选框添加到现有列？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-20T10:23:12.423

如果您自己添加列，为什么不添加您需要的列类型呢？像这样：

```
dgvDocDisplay.Columns.AddRange(
    new DataGridViewColumn[]
    {
        new DataGridViewTextBoxColumn { Name = "Tag" },
        new DataGridViewTextBoxColumn { Name = "[ ]" },
        new DataGridViewCheckBoxColumn { Name = "#" },
        new DataGridViewTextBoxColumn { Name = "Type" }
        // etc
    }); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-20T10:29:18.537

您必须从集合中删除当前列，然后在该位置推入所需类型的新列。

你可以`grid.RemoveAt(yourindex);`用来删除

然后您可以插入所需的

```
grid.Columns.Insert(yourindex, new DataGridViewCheckBoxColumn()) 
```

或者您可以使用`grid.Columns.Add(new DataGridViewCheckBoxColumn())`然后`DisplayIndex`将此列的属性设置为所需的索引。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-20T10:19:24.737

你有没有尝试过：

```
dgvDocDisplay.Columns[2] = new DataGridViewCheckBoxColumn(); 
```

?

这

```
DataGridViewCheckBoxColumn col = new DataGridViewCheckBoxColumn();
dgvDocDisplay.Columns.Add(col); 
```

确实添加了一个新列，因此 Columns.Add()

# c# - 使用 c# 在 asp.net 中使用 asp treeview 未获得所需的树视图？

> ID：13470947
> 
> 赞同：0
> 
> 时间：2012-11-20T10:13:07.487
> 
> 标签：c#, asp.net, treeview

我有一个树视图：

```
 <asp:TreeView ID="testtree1" runat="server" OnSelectedNodeChanged="testtree1_SelectedNodeChanged">
     <Nodes>
        <asp:TreeNode Expanded="False" Text="Tests" Value="Tests"></asp:TreeNode>
     </Nodes>
 </asp:TreeView> 
```

我在我的 .cs 文件中有以下代码：

```
protected void testtree1_SelectedNodeChanged(object sender, EventArgs e)
    {
        if (testtree1.SelectedNode.Text == "Tests")
        {
            con.Open();
            SqlCommand cmdd = new SqlCommand("select count(Name) from TypeOfWork");
            cmdd.Connection = con;
            int idcount = Convert.ToInt32(cmdd.ExecuteScalar());
            SqlCommand cmd = new SqlCommand("select Name from TypeOfWork");
            cmd.Connection = con;
            string[] nid = new string[idcount];
            SqlDataAdapter da = new SqlDataAdapter(cmd);
            DataSet ds = new DataSet();
            da.Fill(ds);

            if (ds.Tables[0].Rows.Count > 0)
            {
                for (int i = 0; i < idcount; i++)
                {
                    nid[i] = ds.Tables[0].Rows[i]["Name"].ToString().Trim();
                    testtree1.Nodes.Add(new TreeNode(nid[i]));
                }
            }
        }
        else
        {
            string tstr = testtree1.SelectedNode.Text;
            con.Open();
            SqlCommand cmd = new SqlCommand("select TypeOfWorkID from TypeOfWork where Name='" + tstr + "'");
            cmd.Connection = con;
            int tid = Convert.ToInt32(cmd.ExecuteScalar());

            SqlCommand cmdd = new SqlCommand("select count(Name) from CategoryLevel1 where TypeOfWorkID='" + tid + "'");
            cmdd.Connection = con;
            int idcount = Convert.ToInt32(cmdd.ExecuteScalar());
            SqlCommand cmd1 = new SqlCommand("select Name from CategoryLevel1 where TypeOfWorkID='" + tid + "'");
            cmd1.Connection = con;
            string[] nid = new string[idcount];
            SqlDataAdapter da = new SqlDataAdapter(cmd1);
            DataSet ds = new DataSet();
            da.Fill(ds);
            if (ds.Tables[0].Rows.Count > 0)
            {
                for (int i = 0; i < idcount; i++)
                {

                    nid[i] = ds.Tables[0].Rows[i]["Name"].ToString().Trim();
                    TreeNode child1 = new TreeNode();
                    child1.Text = nid[i];
                    testtree1.Nodes.Add(child1);
                }
            }
        }

    } 
```

这里的问题是我得到一棵树来获取正确的数据，但没有得到应有的树视图。

根是`Tests`当我点击它时我得到的`Civil`，`RVI`但它们不是树视图，它们在`tests`

当我单击`Civil`或`RVI`它的子节点正在整个事物下而不是普通树时......该怎么办？

任何帮助

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T11:56:01.670

您需要添加到当前选定节点的 childNodes 集合，而不是添加到根节点：

```
protected void testtree1_SelectedNodeChanged(object sender, EventArgs e)
{
    var selectedNode = (sender as System.Web.UI.WebControls.TreeView).SelectedNode;
    selectedNode.ChildNodes.Add(new TreeNode('Your TreeNode here'));
} 
```

在您的代码中，而不是：

```
testtree1.Nodes.Add(new TreeNode(nid[i])); 
```

采用：

```
(sender as System.Web.UI.WebControls.TreeView).SelectedNode.ChildNodes.Add(new TreeNode(nid[i])); 
```

# javascript - 如何在 Backbone-forms 中使用自定义模板？

> ID：13470949
> 
> 赞同：5
> 
> 时间：2012-11-20T10:13:09.997
> 
> 标签：javascript, backbone.js

我的项目中很少有`forms`涉及大量验证和服务器调用的。所以，我想到了使用`'backbone-forms.js'`这些。目前我正在玩这个代码： http: [//jsfiddle.net/evilcelery/VkUFu/](http://jsfiddle.net/evilcelery/VkUFu/) 看看是否`'backbone-forms.js'`满足我的所有需求。

[当然，我们可以为https://github.com/powmedia/backbone-forms#customising-templates](https://github.com/powmedia/backbone-forms#customising-templates)`individual components`中定义的“列表”、“日期”等提供我们自己的自定义模板。但在我的工作场所，所有 html 模板都应该独立于 javascript 实现，以便可以根据需要的外观编辑类和标记（javascript 编码基于不会更改的字段）。我的问题是我无法将自己的自定义模板用于使用.`ids``'backbone-forms.js'`

有什么方法可以使 template.html 独立于 javascript（例如 handlebars.js）？

有没有办法我们可以使用已编译的车把模板和 template.html 中的所有表单字段并使用 Backbone.Form 功能，或者这是不可能的？

谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-22T19:50:05.107

如果我很好地理解了您的问题，您希望从各个来源动态加载**html 模板**（例如从 .../templates/category.html），而不是让 BackboneForms 从架构中呈现它或不得不以丑陋的方式定义它们像[这里](https://github.com/powmedia/backbone-forms#customising-templates)的javascript代码

您可以使用 ajax （或者更好，使用 Require.js）将您的 html 模板**作为字符串**`Backbone.Form.setTemplates({templateName: templateBodyAsString})`加载，然后调用. 它不会用其他名称覆盖其他已注册的模板，请参阅`setTemplates`下面的实现。

如果你使用`$.ajax()`，你可以把你的表单渲染代码放在`success`回调中。如果你使用`Require.js`，它会更容易，更不用说它的缓存机制，如果你所有的 BB 模块/表单每次都加载自己的模板，那么`Require.js`只会在模块第一次需要相同模板时执行 ajax 请求。

**函数体`Backbone.Form.setTemplates`：**

```
function (templates, classNames) {
    var createTemplate = helpers.createTemplate;

    Form.templates = Form.templates || {};
    Form.classNames = Form.classNames || {};

    //Set templates, compiling them if necessary
    _.each(templates, function(template, key, index) {
      if (_.isString(template)) template = createTemplate(template);

      Form.templates[key] = template;
    });

    //Set class names
    _.extend(Form.classNames, classNames);
  } 
```

# security - 是否可以通过公共渠道建立共享秘密？

> ID：13470950
> 
> 赞同：0
> 
> 时间：2012-11-20T10:13:10.527
> 
> 标签：security

问题如下：我需要在两个客户端之间建立一个加密连接（因此，它需要至少一个秘密 - 密钥 [s]）。他们只被允许通过公共渠道进行交流。而且，他们也不知道彼此的任何秘密。

**tl;博士**

爱丽丝、鲍勃和卡尔在一个房间里。他们彼此不认识。爱丽丝想告诉鲍勃一个卡尔无法理解的秘密。她怎么能这样？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T10:16:24.553

他们仍然需要建立不那么开放的渠道。例如，鲍勃把他的公钥交给爱丽丝，她用这个密钥加密这个秘密，然后把它交还给鲍勃，这样他就可以用他的私钥解密它。

（请注意，如果卡尔比鲍勃更强壮并且足够接近，那无论如何也无济于事）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T10:16:40.817

我相信公钥方法是您应该考虑的。这是每个人都有两个相关键的地方；公立和私立。公钥用于加密消息，但只有私钥才能解密消息。

见 - [http://en.wikipedia.org/wiki/Public-key_cryptography#Description](http://en.wikipedia.org/wiki/Public-key_cryptography#Description)

# jquery - Rails 3 - 使用 Ajax 和 jquery 更新 div 内容（嵌套资源）

> ID：13470953
> 
> 赞同：8
> 
> 时间：2012-11-20T10:13:13.800
> 
> 标签：jquery, ruby-on-rails, ajax, ruby-on-rails-3, nested

我有两个简单的模型，Pin 和 Comment，Comments 属于 Pin：

```
class Pin < ActiveRecord::Base
    has_many :comments, dependent: :destroy 
```

和

```
class Comment < ActiveRecord::Base
    belongs_to :pin 
```

在 Pin 的索引操作中，我基本上列出了所有引脚 + 一个**div**。当用户选择 pin 时，此**div必须显示所有评论。**

概念很简单，但我不知道如何实现它。我发现了许多相关的主题，但我总是迷失在与我的问题的差异中。

一些精确的问题：

*   如何做这个ajax加载？（用jQuery）
*   我需要使用部分或使用评论的索引视图吗？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-11-20T11:00:56.443

我将使用一个链接让用户选择一个 Pin，但你明白了：

```
#:remote => true allows ajax stuffz.
<%= link_to 'show comments', pin_comments_path(@pin), :remote=> true %> 
```

在 comments_controller.rb 中（我在这里使用 index 操作，但可以根据您的需要进行调整）

```
def index 
  @pin = Pin.find(params[:pin_id])
  @comments = @pin.comments.all

  respond_to do |format|
    format.js { render :pin_comments }
  end
end 
```

在这种情况下，控制器将渲染 pin_comments.js.erb，它将与您的评论 div 交互。

```
//pin_comments.js.erb
$("#comments_div").html("<%= j(render('show_comments', :comments=> @comments)) %>"); 
```

查看部分模板以显示评论

```
#_show_comments.html.erb
<div id="comments_div">
    <% comments.each do |c| %> 
        <p>
           <h1><%= c.title %></h1>
           <h6>by <%= c.author %> </h6>
           <%= c.content %>
        </p>
    <% end %>
</div> 
```

希望有帮助！

# google-apps-script - Google Apps 脚本 - 从模板电子表格复制后未设置可安装的 OnEdit 触发器

> ID：13470960
> 
> 赞同：2
> 
> 时间：2012-11-20T10:13:39.717
> 
> 标签：google-apps-script

我添加了一些菜单并在 onOpen() 中启用了自定义可安装的 onEdit 触发器，如下所示。所有菜单均按预期设置，但未设置可自定义安装的 onEdit 触发器。似乎它没有执行那些删除和创建触发器的行。这里发生了什么？解决方案？

```
function onOpen() {

  var ass = SpreadsheetApp.getActiveSpreadsheet();

  ass.addMenu("TriggerOn", [null, {name: "Disable OnEditTrigger", functionName: "disableOnEditTrigger"}]);
  ass.addMenu("AlertOn", [null, {name: "Alert Off", functionName: "alertOff"}]);
  ass.addMenu("EmailBodyHtml", [null, {name: "TextBody", functionName: "textbody"}]);
  ass.addMenu("Setup", [null, {name: "MasterTemplate", functionName: "setMasterTemplate"}]);

  //delete all previous triggers
  var allTriggers = ScriptApp.getScriptTriggers();
  // Loop over all triggers
  for(var i=0; i < allTriggers.length; i++)
      ScriptApp.deleteTrigger(allTriggers[i]);

  // Create onEdit trigger using the Spreadsheet
  var onEditTrigger = ScriptApp.newTrigger("myOnEdit")
      .forSpreadsheet(ass)
      .onEdit()
      .create();

  ScriptProperties.setProperty("alert", "1");
  ScriptProperties.setProperty("emailbody", "htmlbody");

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T14:38:08.417

为了证实其他响应，我建议您阅读[有关触发器的文档，](https://developers.google.com/apps-script/understanding_triggers)其中解释了简单触发器（如 onEdit 和 onOpen）具有一组有限的可能操作，因为它们在未经用户授权的情况下运行......添加一个触发器（尽管我从未在这样的触发器中尝试过）超出其可能的操作，因为它需要被授权。如果您想确定，请手动运行它并查看脚本是否要求授权（或者可能已经完成，因此请尝试使用另一个用户帐户）。

您可以创建一个可安装的 onOpen 触发器，该触发器将提示用户授权相关服务，在这种情况下，您可以将其命名为不同的名称以避免混淆（尽管在这种情况下名称并不重要）

希望它足够清楚。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T14:00:16.000

通过检查代码周围的 try-catch（并转储到 Browser.MsgBox），您似乎遇到了 Apps 脚本施加的安全限制。-似乎`"You do not have permission to call getScriptTriggers"`存在类似的问题`newTrigger`，或者基本上存在任何问题。[此处](https://developers.google.com/apps-script/understanding_triggers#Simple)`ScriptApp`的限制中没有特别提到这一点，但似乎这就是问题所在。您可能需要在脚本中对该触发器进行硬编码，或者可能需要通过另一个菜单项来创建它。

# vb.net - VisualStudio - 更改复选框最大字符长度？

> ID：13470962
> 
> 赞同：0
> 
> 时间：2012-11-20T10:13:59.443
> 
> 标签：vb.net, visual-studio, visual-studio-2012, checkbox

我没有看到任何属性来更改复选框标签的默认字符长度......我可以吗？

如果没有，我该怎么办？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T11:17:34.670

我有以下选项，您可以使用它们中的任何一个：

1）您可以点击[此](http://social.msdn.microsoft.com/Forums/en-US/vbgeneral/thread/8bc34c7f-79de-4803-98bd-c9b6df412b50)链接并将`Environment.NewLine`或附加`VbCrLf`到`Text`属性。

2）根据您的需要将`AutoSize`属性设置为`false`并调整控件的大小以占用更多的行。

# c++ - C++ 将文件读入字符数组

> ID：13470964
> 
> 赞同：4
> 
> 时间：2012-11-20T10:14:14.033
> 
> 标签：c++, linux, gcc, ubuntu

我正在使用以下代码将文件读入字符数组。现在，对于小文件（比如 2 MB），它可以正常执行，但对于大文件（140 MB），在我的 18 GB UBUNTU 服务器中，它提供`segmentation fault`. 谁能帮我解决这个问题？我认为 18 GB 足以将 240 MB 文件保存到内存中。我正在使用 64 位 UBUNTU 并使用 g++ 进行编译。

```
ifstream is;

char chararray [fileSize] ;

is.read(chararray, fileSize) ; 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-20T10:18:16.177

如果数组是局部变量，则会出现堆栈溢出，因为它不适合堆栈。而是在堆上分配“数组”，直接使用`new`或间接使用`std::vector`。

或者使用内存映射。见[`mmap`](http://linux.die.net/man/2/mmap)功能。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-20T10:17:01.027

我不会在堆栈上分配 char 数组，而是尝试使用`std::vector`，它将在**堆上**动态分配：

```
std::vector<char> buffer(fileSize);
is.read(&buffer[0], fileSize); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-21T19:06:21.100

GCC 编译器为此提供了名为 size 的默认命令！使用 GCC 编译器编译程序。然后你可以得到文件大小！

```
gcc -Wall test.c
size 
```

这是一个普通的C程序！由于您没有指定任何参数，因此它将 ./a.out 作为其默认参数！

如果您必须应用一些优化，代码将如下所示..

```
praveenvinny@ubuntu:~/Project/New$> gcc -Wall -o1 -fauto-inc-dec test.c -o Output
praveenvinny@ubuntu:~/Project/New$> size output
text       data     bss     dec     hex filename
1067       256      8       1331    533 output 
```

使用文本部分作为代码大小。如果还想考虑全局数据大小，可以使用 data 和 bss。

这将打印代码大小，

```
time -f "%e" -o Output.log ./a.out 
```

将执行时间打印到名为 Output.log 的日志文件中

# svn - Maven 发布/SVN：E205009：本地、非提交操作不采用日志消息或修订属性

> ID：13470965
> 
> 赞同：0
> 
> 时间：2012-11-20T10:14:16.943
> 
> 标签：svn, maven-3, maven-release-plugin

我们正在尝试使用 maven 3.04 和 SVN 1.7.7 设置 maven-release 插件。

当尝试准备发布时， mvn release:prepare 我们收到以下消息：svn: E205009: Local, non-commit operations do not take a log message or revision properties

我们的配置是：

```
<scm>
            <developerConnection>scm:svn:svn://hostname/projects/tags/myapp/poms/parent-pom/parent-pom-0.0.1</developerConnection>
</scm>

...

<plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-release-plugin</artifactId>
            <version>2.3.1</version>
            <configuration>
                <username>myuser</username>
                <password>mypassword</password>
                <tagBase>scm:svn:svn://hostname/projects/tags/projectname/poms/parent-pom</tagBase>
            </configuration>
</plugin> 
```

有谁知道可能出了什么问题？

非常感谢

帕特里克

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-10-22T08:32:02.340

您需要删除标签库配置中的“scm:svn:”部分。在您的示例中，它应为：

```
 <tagBase>svn://hostname/projects/tags/projectname/poms/parent-pom</tagBase> 
```

# actionscript-3 - 在标注中多次使用时，用于 textInput 的 Flex4.6 移动绑定不起作用

> ID：13470972
> 
> 赞同：1
> 
> 时间：2012-11-20T10:14:44.150
> 
> 标签：actionscript-3, apache-flex, mobile, binding, flex4.6

我想使用标注来允许重命名。标注包含通过绑定填充的 textInput（嵌入在组件中）。每次打开标注时都会使用不同的文本。不幸的是，每次只显示第一个文本，无论我可以写入绑定数据。我附上了一个样本。

我注意到，当标注关闭时将组件附加到视图，然后重新附加到标注，文本输入会正确更新。

欢迎任何帮助。

```
<?xml version="1.0" encoding="utf-8"?>
<s:View xmlns:fx="http://ns.adobe.com/mxml/2009" 
xmlns:s="library://ns.adobe.com/flex/spark" title="TestChgCallout2"
creationComplete="init()"
>

<fx:Declarations>
    <s:Callout id="COrename"/>
    <fx:Component className="Rename">
        <s:VGroup>          
            <fx:Metadata>
                [Event(name="cancel", type="flash.events.Event")]
                [Event(name="updated", type="flash.events.Event")]
            </fx:Metadata>

            <fx:Script>
            <![CDATA[
                [Bindable] private var _nom:String="";
                private var _NewName:String="";

                public function set nom(s:String):void {
                    _nom=s;
                    _NewName="";
                }

                public function get nom():String {
                    return _NewName;
                }

                private function doUpd():void {
                    var req:XML=<req><oldName></oldName><newName></newName></req>;
                    req.oldName = _nom;
                    req.newName = Nom.text;
                    _NewName=Nom.text;
                    this.dispatchEvent(new Event('updated'))
                }
            ]]>
            </fx:Script>

            <s:HGroup verticalAlign="middle">
                <s:Label width="90" text="Nom" verticalAlign="middle"/>
                <s:TextInput id="Nom" text="{_nom}" width="201" maxChars="23" restrict="a-z A-Z0-9" />
            </s:HGroup>
            <s:HGroup width="100%" verticalAlign="middle" horizontalAlign="center">
                <s:Button label="cancel" click="this.dispatchEvent(new Event('cancel'))"/>
        <s:Button label="update" click="doUpd()"/>
            </s:HGroup>
        </s:VGroup>
    </fx:Component>
</fx:Declarations>

<s:HGroup gap="5">
    <s:VGroup>
    <s:Label text="{'Count:' + i.toString()}" />
    <s:Label text="{'result:' + _res}" />
    </s:VGroup>
         <s:Button id="Bt" label="call" click="doCall()" />
</s:HGroup>

<fx:Script>
<![CDATA[
        [Bindable] private var i:int=0;
        private var renPlan:Rename = new Rename();
        [Bindable] private var _res:String="";

        private function init():void {
            renPlan.addEventListener("cancel", onPlanUpdCancel);
            renPlan.addEventListener("updated", onPlanUpdated);
            COrename.addElement(renPlan);
        }

        private function doCall():void {
            if (COrename.isOpen) {
                COrename.close();
            } else {
                renPlan.nom = "test #"+i.toString();
                COrename.open(Bt, false);
            }
        }

        private function onPlanUpdCancel(e:Event):void {
            i++;
            COrename.close();
        }

        private function onPlanUpdated(e:Event):void {
            i++;
            _res = renPlan.nom;
            COrename.close();
        }
    ]]>
    </fx:Script>

</s:View> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-21T08:43:28.987

对于这些情况，您是否尝试过通常的建议——[更换皮肤](http://help.adobe.com/en_US/flex/mobileapps/WS19f279b149e7481c6a9f451212b87fe7e87-7fff.html)？

```
<s:TextInput skinClass="spark.skins.mobile.TextInputSkin" id="Nom" 
text="{_nom}" width="201" maxChars="23" restrict="a-z A-Z0-9" /> 
```

# javascript - CSS使标签标题包含固定字符长度？

> ID：13470974
> 
> 赞同：1
> 
> 时间：2012-11-20T10:14:56.083
> 
> 标签：javascript, html, css, jquery-ui, jquery-tabs

我正在使用 jquerytabs，它在单击某个按钮时动态添加选项卡。标题可以是任何字符长度。我想要的是如果标题包含超过 20 个字符，CSS 应该使其长度为 17 个字符，前面有 3 个点。这是我在萤火虫中看到的标题 html 元素，其中标题是“测试标题长度与太多字符”

```
<li class="ui-state-default ui-corner-top ui-tabs-selected ui-state-active">
<a href="#ui-tabs-4">Test Title length With Too many Characters/a>
<span class="ui-icon ui-icon-close"></span>
</li> 
```

**我正在寻找 css 属性，以便将标题视为“测试标题长度 ...”，它有 17 个字符长，前面有三个点？**

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-20T10:17:29.317

你可能想要这样的东西： http: [//css-tricks.com/snippets/css/truncate-string-with-ellipsis/](http://css-tricks.com/snippets/css/truncate-string-with-ellipsis/)

即将这个类添加到列表项：

```
.truncate {
    width: 250px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T10:26:21.457

由于您在此问题中添加了 javascript / jQuery 标签，因此这里是用于截断文本的 js / jQuery ..

```
var text = $('a').text();
if(text.length > 17)​{
    $('a').text(text.substr(0,17) + "...")
}​ 
```

不过，CSS 是实现这一目标的一种更简洁的方法。

# php - 在 PHP 中动态显示/隐藏 Div

> ID：13470977
> 
> 赞同：2
> 
> 时间：2012-11-20T10:15:12.313
> 
> 标签：php, javascript, show-hide

我有一个动态生成 Div 的数组。现在我想隐藏和显示 div，一次应该显示 1 个 div 并显示下一个 div，用户必须单击按钮。像这样：

```
<?php $h=0;?>
<script stype="textjavascript">
        function test() {
          document.getElementById("set").style.display="none";

          document.getElementById("set<?php echo $h+1; ?>").style.display="block";

          }
</script>
<?php
foreach($sets as $set){ 
if($h==0)
{
?>
<div id="set">
</php } else { ?>
<div id="set<?php echo $h;?>" style="display:none;">

<p><a class="continue" href="#" onclick="test()">Continue</a></p>
</div>
<?php $h++; } } ?> 
```

现在使用上面的代码我可以隐藏和显示 2 div 但在 3 div 的情况下它不起作用，请让我知道我做错了什么。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-20T10:33:56.733

试试这个代码。

```
<?php
$sets = array('one','two','three','four');
?>
<script stype="textjavascript">
    var current = 0;
    var total = <?php echo count($sets); ?>;
    function test() {
        for(var i=0;i<total;i++)
        {
            document.getElementById("set"+i).style.display="none";
        }
        current++;
        document.getElementById("set"+current).style.display="block";
    }
</script>
<?php
foreach($sets as $key=>$set){ 
?>
<div <? if($key>0){ ?> style="display: none" <? } ?> id="set<?php echo $key; ?>">
    == <?php echo $set; ?> ==
<p><a class="continue" href="#" onclick="test()">Continue</a></p>
</div>
<?php  } ?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T10:16:40.940

不要使用 PHP 来实现这一点。使用 jQuery 和一些逻辑来显示和隐藏这些 div。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-20T10:23:17.150

您必须使用此代码来实现该代码

```
$("#div,$div2,#div3").hide();
$("#div,#div2,#div3").show(); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-20T10:27:14.130

为什么不创建一个类 hidden-div{display:none;} 并从 php 将其添加到类中？

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-20T10:28:12.393

检查这个

```
 var current = 0;
 function test() {
      document.getElementById("set"+current).style.display="none";
      current++;
      document.getElementById("set"+current).style.display="block";
 } 
```

和

```
...
foreach($sets as $set){ 
if($h==0){ 
  echo '<div id="set0">';
else 
  echo '<div id="set<?php echo $h;?>" style="display:none;">';

 ... 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-11-20T10:28:31.797

假设您修复了 HTML 并将关闭放在`else` `}`之前`$h++;`，您的 PHP 代码将生成固定的 HTML（和 Javascript），看起来像这样：

```
<script>
    function test() {
        document.getElementById("set").style.display="none";
        document.getElementById("set1").style.display="block";
    }
</script>

<div id="set"></div>
<div id="set1" style="display:none;">
    <p><a class="continue" href="#" onclick="test()">Continue</a></p>
</div>
<div id="set2" style="display:none;">
    <p><a class="continue" href="#" onclick="test()">Continue</a></p>
</div>
<div id="set3" style="display:none;">
    <p><a class="continue" href="#" onclick="test()">Continue</a></p>
</div> 
```

请注意，所有三个`<a>`标签都调用了相同的 Javascript 函数`test()`，它改变了 div`set`并`set1`没有其他任何东西。

要解决这种情况，您可以提供`test()`一个参数 ( `function test(id)`) 并`test(<?php echo $h; ?>)`与每个`<a>`标签关联。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-11-20T10:33:11.540

这没有测试。但试试看：

```
<script stype="textjavascript">
        function test(i) {
          document.getElementById("set").style.display="none";

          document.getElementById("set"+i).style.display="block";

          }
</script>

<?php
foreach($sets as $set){ 
   if($h==0)
   {?>
     <div id="set">
      <?php 
   } else { ?>
       <div id="set<?php echo $h;?>" style="display:none;">
       <p><a class="continue" href="#" onclick="test(<?php echo (($h)==count($sets)?'':$h+1);?>)">Continue</a></p>
       </div>
  <?php  
   }
$h++;
} ?> 
```

# php - 选择 COUNT 个案例

> ID：13470980
> 
> 赞同：0
> 
> 时间：2012-11-20T10:15:19.977
> 
> 标签：php, mysql

是否可以像这样跟踪数据：

表消息
msg_id | 留言 | 日期消息

像这样的示例数据：
msg_id = 1
消息 = 真的想要你 #LOVE
date_messages = 17-OCT-2012

```
SQL = "SELECT COUNT(MESSAGES) FROM MESSAGES WHERE MESSAGES='#LOVE'"; 
```

如果包含#LOVE，我想要计数消息。

任何想法 ？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-20T10:19:48.500

`SQL = "SELECT COUNT(messages) FROM MESSAGES WHERE messages LIKE '%#LOVE%';`

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-20T10:20:11.080

您可以使用 mysql 的通配符语法： `%`. 查看[文档](http://dev.mysql.com/doc/refman/5.0/en/string-comparison-functions.html)。

```
SQL = "SELECT COUNT(messages) FROM MESSAGES WHERE messages LIKE '%#LOVE%'"; 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-11-20T10:20:41.600

您需要将查询修改为

```
SQL = "SELECT COUNT(MESSAGES) FROM MESSAGES WHERE MESSAGES like '%#LOVE%'"; 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-20T10:24:29.253

如果您打算选择“#LOVE”是 MESSAGES 字段的子字符串的记录，我认为您需要`LIKE`运算符：

```
SELECT COUNT(MESSAGES) FROM MESSAGES WHERE MESSAGES like '%#LOVE%' 
```

或者你可以使用 INSTR 函数：

```
SELECT COUNT(MESSAGES) FROM MESSAGES WHERE 0 != INSTR(MESSAGES, '#LOVE') 
```

# ruby-on-rails - Rails：设计 gem 密码加密

> ID：13470984
> 
> 赞同：0
> 
> 时间：2012-11-20T10:15:32.503
> 
> 标签：ruby-on-rails, encryption, devise

我正在开发一项功能，我必须手动更新数据库中的所有帐户详细信息。它工作正常，但唯一的问题是，因为我们还使用 devise gem 进行登录功能。我必须存储我手动更新的密码的加密格式。所以我只想知道设计 gem 是如何加密密码的。

如果我的密码是“密码”。我必须手动加密它并以与设计相同的方式将其存储在数据库中。

请尽快回复以寻求帮助。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-20T10:39:10.243

我假设您有一个用户名/密码列表，您希望将其批量分配到数据库中，以便在通过 Devise 进行身份验证的应用程序中使用。

设计默认使用 BCrypt，（有一个 gem）

```
require 'bcrypt'

class User < ActiveRecord::Base
  # users.password_hash in the database is a :string
  include BCrypt

def password
  @password ||= Password.new(password_hash)
end

def password=(new_password)
  @password = Password.create(new_password)
  self.password_hash = @password
end

end 
```

例如，您可以在列表中创建用户实例并在 Rake 任务中保存到数据库。

```
@user = User.new
@user.username = "foobar"
@user.password = "password"
@user.save 
```

# c# - 带绑定的淘汰赛不起作用

> ID：13470989
> 
> 赞同：1
> 
> 时间：2012-11-20T10:15:46.013
> 
> 标签：c#, jquery, asp.net-mvc, knockout.js

我正在尝试使用淘汰赛 inbuild WITH Binding 做简单的行为。有使用 ko.applyBinding 与 ViewModel 绑定的 UL-LI 列表。工作正常。现在，我正在尝试使用列表实现选择项行为。因此在 ViewModel 中实现了 selectPatient 行为，并使用 Click 将其与 LI 标记绑定。调用该方法并设置可观察的 selectedPatient 变量。

现在在 UL-LI 同一级别的父 div 内有一个 div，我正在尝试使用 With 与 selectedPatient 绑定。不工作。

参考代码：

```
<div data-role="content" id="MyPatientDiv">
        <div>
            <ul data-bind="foreach:Patients">
                            <li data-bind="click:$root.selectPatient">
                                <table>
                                    <tr>
                                        <td>
                                            <a href="javascript:" id="pName" sortorder="none"><span data-bind="text:LastName"></span>
                                                ,<span data-bind="text:$data.FirstName"></span></a>
                                        </td>
                                        <td>
                                            <a href="javascript:" id="pid" sortorder="none"><span data-bind="text:$data.DisplayId">
                                            </span></a>
                                        </td>
                                        <td>
                                            <a href="javascript:" id="pLocation" sortorder="none"><span data-bind="text:$data.UnitName">
                                            </span></a>
                                        </td>
                                    </tr>
                                </table>
                            </li>
            </ul>
        </div>
        <div id="dlgAction" databind="with:selectedPatient">
            What would you like to do for <span databind="text:$data.LastName"></span>,<span databind="text:$data.FirstName"></span>
        </div>
    </div>​ 
```

脚本代码：

```
function PatientsModel(data) {
    var self = this;

    self.Patients = ko.observableArray([]);

    if (data.patientEncounters == null) self.Patients([]);
    else self.Patients(data);

    self.selectedPatient = ko.observable(null);

    self.selectPatient = function(data, target) {
        self.selectedPatient(data);

        //$('#dlgAction').dialog('open');
    };
}

MyPatientList = {
    PatientsModel: null,
    DOMElementId: 'MyPatientDiv'
}

$(function(){
    var data = [{
        AccountId: null,
        AdmissionStatus: 1
        AttendingPhysicians: null,
        BedId: null,
        DisplayId: "32456",
        EncounterKey: "00000000000000000000000000000003",
        FirstName: "John",
        Gender: null,
        LastName: "Rambo",
        LocalPatient: true,
        MiddleName: null,
        MyPatient: true,
        PatientId: null,
        PatientKey: "00000000000000000000000000000003",
        RoomName: null,
        SameName: false,
        TemporaryPatient: false,
        UnitName: "IC1",
        VisitId: null}];

        data[0].LastName;

    MyPatientList.PatientsModel = new PatientsModel(data);
    ko.applyBindings(MyPatientList.PatientsModel, $('#MyPatientDiv')[0]);
}); 
```

难道我做错了什么？

问候苏梅特

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-20T10:27:30.420

您错过了`data-bind`关键字中的破折号：

```
<div id="dlgAction" data-bind="with:selectedPatient">
    What would you like to do for <span data-bind="text:$data.LastName"></span>,
    <span data-bind="text:$data.FirstName"></span>
</div> 
```

此外，您不必将 $data 放入`data-bind`属性中，您只需指定属性名称即可：

```
<div id="dlgAction" data-bind="with:selectedPatient">
    What would you like to do for <span data-bind="text: LastName"></span>,
    <span data-bind="text: FirstName"></span>
</div> 
```

编辑：它对我有用。这是一个小提琴：http: [//jsfiddle.net/vyshniakov/BjeP9/](http://jsfiddle.net/vyshniakov/BjeP9/)

数据有误——你错过了`AdmissionStatus`财产后昏迷。您还尝试加载`data.patientEncounters`始终为 null 的内容，因此您的集合未初始化。

# html - 谷歌浏览器：单选按钮未出现在网页中

> ID：13470991
> 
> 赞同：2
> 
> 时间：2012-11-20T10:15:54.460
> 
> 标签：html

表单中的单选按钮在 chrome 中不可见/有时它确实出现并再次消失。在某些网站中，我在带有单选按钮的 chrome 中遇到了错误。但我没有得到任何解决方案来解决这个问题。有人知道吗？这是我遇到单选框问题的表单示例。

```
<form method="get" action="http://www.google.in/search" style="width:244" target="_blank">
    <table width="242" border="0" align="center" cellpadding="0"  style="font-size:10px">
        <tr>
            <td width="242"><img src=googlelogo.gif style="padding-top:6px;"/>
                <input type="text"   name="q" size="14" maxlength="255" value=""/>
                <input type="submit" value="Search" style="width:52px;">
            </td>
        </tr>
        <tr>
            <td style="padding-top:3px;">
                <input type="radio"  name="sitesearch" value="" />The Web
                <input type="radio"  name="sitesearch" value="website.com" width="auto" height="auto" checked="checked"/>website.com
                <br />
            </td>
        </tr>
    </table>
</form> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-23T10:00:49.067

您使用的是 HTML4 还是 5？

在 HTML 5 中，table 标记的宽度、对齐、单元格填充已过时。

另外，删除border属性中的0，只使用border=""，因为它只允许空字符串或1。

td 的 width 属性也已过时。

还尝试删除单选按钮上的宽度和高度属性。如果它有效，请改为在 CSS 中修复它。但首先删除它！

# java - 忽略 Java 中的 SSL 验证

> ID：13470998
> 
> 赞同：11
> 
> 时间：2012-11-20T10:16:14.317
> 
> 标签：java, ssl, weblogic

我必须使用无效的 SSL 证书调用托管在 Web 服务器上的 HTTP 服务。在 dev 中，我使用*keytool*导入证书，但是每个客户端安装的证书都会有所不同，所以我不能只是捆绑它。

前言：我**知道**跳过 SSL 验证真的很难看。在这种特定情况下，我什至不需要 SSL，系统中的所有其他通信都通过简单的 HTTP。所以我真的不在乎 MITM 攻击之类的。攻击者不需要破坏 SSL，因为数据没有 SSL。这是对我无法控制的遗留系统的支持。

我正在使用`HttpURLConnection`具有`SSLSocketFactory`a`NaiveTrustManager`和 a 的 a `NaiveHostnameVerifier`。这适用于我尝试过的一些自签名服务器，但不适用于客户的站点。我得到的错误是：

```
javax.net.ssl.SSLKeyException: [Security:090477]Certificate chain received from xxxxxxxxxx was not trusted causing SSL handshake failure.
    at com.certicom.tls.interfaceimpl.TLSConnectionImpl.fireException(Unknown Source)
    at com.certicom.tls.interfaceimpl.TLSConnectionImpl.fireAlertSent(Unknown Source)
    at com.certicom.tls.record.handshake.HandshakeHandler.fireAlert(Unknown Source)
    at com.certicom.tls.record.handshake.HandshakeHandler.fireAlert(Unknown Source)
    at com.certicom.tls.record.handshake.ClientStateReceivedServerHello.handle(Unknown Source)
    at com.certicom.tls.record.handshake.HandshakeHandler.handleHandshakeMessage(Unknown Source)
    at com.certicom.tls.record.handshake.HandshakeHandler.handleHandshakeMessages(Unknown Source)
    at com.certicom.tls.record.MessageInterpreter.interpretContent(Unknown Source)
    at com.certicom.tls.record.MessageInterpreter.decryptMessage(Unknown Source)
    at com.certicom.tls.record.ReadHandler.processRecord(Unknown Source)
    at com.certicom.tls.record.ReadHandler.readRecord(Unknown Source)
    at com.certicom.tls.record.ReadHandler.readUntilHandshakeComplete(Unknown Source)
    at com.certicom.tls.interfaceimpl.TLSConnectionImpl.completeHandshake(Unknown Source)
    at com.certicom.tls.record.WriteHandler.write(Unknown Source)
    at com.certicom.io.OutputSSLIOStreamWrapper.write(Unknown Source)
    at java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:65)
    at java.io.BufferedOutputStream.flush(BufferedOutputStream.java:123)
    at java.io.FilterOutputStream.flush(FilterOutputStream.java:123)
    at weblogic.net.http.HttpURLConnection.writeRequests(HttpURLConnection.java:154)
    at weblogic.net.http.HttpURLConnection.getInputStream(HttpURLConnection.java:358)
    at weblogic.net.http.SOAPHttpsURLConnection.getInputStream(SOAPHttpsURLConnection.java:37)
    at weblogic.net.http.HttpURLConnection.getResponseCode(HttpURLConnection.java:947)
    at (my own code) 
```

我的`SimpleSocketFactory`样子：

```
public static final SSLSocketFactory getSocketFactory()
{
    if ( sslSocketFactory == null ) {
        try {
            // get ssl context
            SSLContext sc = SSLContext.getInstance("SSL");

            // Create a trust manager that does not validate certificate chains
            TrustManager[] trustAllCerts = new TrustManager[]{
                new NaiveTrustManager() {
                    public java.security.cert.X509Certificate[] getAcceptedIssuers() {
                        log.debug("getAcceptedIssuers");
                        return new java.security.cert.X509Certificate[0];
                    }
                    public void checkClientTrusted(
                        java.security.cert.X509Certificate[] certs, String authType) {
                        log.debug("checkClientTrusted");
                    }
                    public void checkServerTrusted(
                        java.security.cert.X509Certificate[] certs, String authType) {
                        log.debug("checkServerTrusted");
                    }
                }
            };

            sc.init(null, trustAllCerts, new java.security.SecureRandom());
            // EDIT: fixed the following line that was redeclaring SSLSocketFactory sslSocketFactory, returning null every time. Same result though.
            sslSocketFactory = sc.getSocketFactory();

            HttpsURLConnection.setDefaultSSLSocketFactory(sslSocketFactory);
            // EDIT: The following line has no effect
            //HttpsURLConnection.setDefaultHostnameVerifier(new NaiveHostNameVerifier());

        } catch (KeyManagementException e) {
            log.error ("No SSL algorithm support: " + e.getMessage(), e);
        } catch (NoSuchAlgorithmException e) {
            log.error ("Exception when setting up the Naive key management.", e);
        }
    }
    return sslSocketFactory;
} 
```

有`NaiveHostnameVerifier`一种方法来限制有效主机，但它保留为空，所以基本上接受任何东西：

```
public class NaiveHostnameVerifier implements HostnameVerifier {
    String[] patterns;

    public NaiveHostnameVerifier () {
        this.patterns=null;
    }

    public NaiveHostnameVerifier (String[] patterns) {
        this.patterns = patterns;
    }

    public boolean verify(String urlHostName,SSLSession session) {
        if (patterns==null || patterns.length==0) {
            return true;
        } else {
            for (String pattern : patterns) {
                if (urlHostName.matches(pattern)) {
                    return true;
                }
            }
            return false;
        }
    }
} 
```

用法是这样的：

```
 try {
        conn = (HttpURLConnection)url.openConnection();
        if (conn instanceof HttpsURLConnection) {
                ((HttpsURLConnection)conn).setSSLSocketFactory(SimpleSSLSocketFactory.getSocketFactory());
                // EDIT: added this line, the HV has to be set on connection, not on the factory.
                ((HttpsURLConnection)conn).setHostnameVerifier(new NaiveHostnameVerifier());
        }
        conn.setDoInput(true);
        conn.setDoOutput(true);
        conn.setRequestMethod("POST");
        conn.setRequestProperty("Content-type","application/x-www-form-urlencoded");
        conn.connect();

        StringBuffer sbContent = new StringBuffer();
        // (snip)
        DataOutputStream stream = new DataOutputStream(conn.getOutputStream ());
        stream.writeBytes(sbContent.toString());
        stream.flush();
        stream.close();
    } catch (ClassCastException e) {
        log.error("The URL does not seem to point to a HTTP connection");
        return null;
    } catch (IOException e) {
        log.error("Error accessing the requested URL", e);
        return null;
    } 
```

当我搜索错误消息时，大多数人只是在他们的商店中导入证书，但同样，我真的不能这样做，因为我不知道它将是哪个证书。如果这不起作用，我唯一的选择是制作一个可以下载证书的工具，并以一种比神秘命令行更简单的方式添加它，但我宁愿让我的 Java 代码忽略无效的证书。

任何的想法 ？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-20T22:25:21.087

其实上面的代码没有错。问题似乎在于 Weblogic 和这个 Certicom TLS 模块。当我查看*服务器*选项*SSL*和*Advanced*时，我发现我可以指定一个自定义 HostnameVerifier (SSLMBean.HostnameVerifier)，但唯一暗示能够干扰证书验证的元素已被弃用。

我在 Weblogic 之外尝试了上面的代码，它工作得很好（虽然修复了帖子中的 HostnameVerifier）。

然后我尝试按照 ipolevoy 在[另一个问题](https://stackoverflow.com/questions/7109550/handshake-failure-alert-received)中的建议将“-DUseSunHttpHandler=true”添加到 Weblogic 参数中。它开始工作了。

话虽如此，在 Oracle Service Bus 服务器上切换 HTTP 处理程序似乎有点冒险。几周后很可能会有副作用回来咬我......

我还尝试定义自己的 trustStore 并将其指向包含所需密钥的 jssecacert。Weblogic 也忽略了它，因为它对每个服务器都有自己的 trustStore 设置。所以我求助于要求管理员手动导入所需的密钥或将 Weblogic 指向我自己的商店。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-06-05T06:31:47.693

实际上，这是 Weblogic 10.3.5 以下版本中的一个已知错误，Oracle 提供了一个补丁程序。有关详细信息，请参阅 My Oracle Support 中的文档 1474989.1。

上面的修复是 Oracle 不推荐（但受支持）的解决方法，它可以工作，但不是首选解决方案。

首选解决方案是下载 Oracle 文章中提到的补丁，并将 SSL 主机名验证器替换为 Weblogic 10.3.5 及更高版本中的新补丁。如果您希望在支持方面保持与 Oracle 的合规性，这就是您要走的路。