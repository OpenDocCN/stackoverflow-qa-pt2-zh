# StackOverflow 问答 15150000-15150999

# javascript - 上传文件夹和文件

> ID：15150002
> 
> 赞同：1
> 
> 时间：2013-03-01T03:29:31.630
> 
> 标签：javascript, html, google-chrome, file-upload

因此，现在有了 Google 文件夹上传 API，我一直在使用它，但我遇到了一个主要缺陷。

如果我有这样的输入：

```
<input type="file" id="files" name="files[]" multiple="" webkitdirectory=""> 
```

它只允许我上传文件夹，也不允许我上传单个文件。而且我只能上传一个文件夹，即使选择了多个。我不是说子文件夹，但它可以上传这些子文件夹。我希望能够在相同或完全不同的目录中选择几个不同的文件夹进行上传。

我做错了什么吗？我也尝试将接受属性设置为 all/* 但这不起作用。

基本上这个特性对我来说是无用的，因为它并没有真正允许一致的功能。它会在弃用时允许上传多个文件，但在不弃用时只允许上传一个文件夹。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-01T03:39:48.723

我同意，由于您所说的原因，“选择文件夹”功能几乎没用。在我维护的跨浏览器上传库[Fine Uploader中，我决定不支持通过选择文件对话框上传文件夹。](http://fineuploader.com)相反，我决定使用 Chrome 的[Filesystem API](http://www.w3.org/TR/file-system-api/)支持，它允许您同时删除多个文件夹和/或文件。`webkitdirectory`我认为允许用户删除文件夹和/或文件比受限属性允许的要直观得多。

# javascript - 使用 raphael 在 svg 中创建模式元素

> ID：15150004
> 
> 赞同：1
> 
> 时间：2013-03-01T03:29:37.510
> 
> 标签：javascript, svg, raphael

我在 svg 中有一些模式应用于我的矩形，代码是这样的

```
<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="100%" height="100%" style="position:absolute; top:0px; left:0px">
  <defs> 
    <rect id="unitsqr" fill="#DBDBDB" stroke="white" stroke-width="1px" x="0" y="0" width="12" height="12"/>    
    <pattern id="grid" width="10" height="10" patternUnits="userSpaceOnUse">
      <use xlink:href="#unitsqr" />
    </pattern>
  </defs>
  <rect fill="url(#grid)" x="0" y="0" width="100%" height="100%"/>
</svg> 
```

我想在 raphael 中做一些动画，但也要保留我的网格，我不知道如何在 raphael 中创建图案并稍后将其用作填充。有没有办法做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T10:08:09.363

当你这样做时，`Element.attr("fill", "http://example.com/example.png")`如果使用 SVG 后端，Raphaël 会在后台为你创建一个 <pattern> 元素。但是 Raphaël 中没有用于创建和操作图案填充的高级 API 支持。所以，要么你需要扩展 Raphaël，要么你可以用普通的 js 来做，假设你不关心 IE8 及更低版本的 VML 回退。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-09-26T20:37:22.150

正确的语法是

```
Element.attr("fill" , "url(http://exmaple.com/example.png)") ; 
```

您可以通过使用 Raphael.path 或 Raphael.circle 创建一个元素并将填充设置为一个 url 来完成一些时髦的事情，例如填充创建一个圆形或路径形状的图像。

# c - 需要在C中运行程序中编写调用堆栈

> ID：15150005
> 
> 赞同：-3
> 
> 时间：2013-03-01T03:29:52.670
> 
> 标签：c

我需要在正在运行的程序（在 C 中）的日志文件中打印调用堆栈，因为我需要检查流程，我必须将跟踪发送到其他环境并且我无法调试，有没有办法在 C 中做到这一点.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T03:35:55.283

如果平台是 linux（我也相信 OSX），你可以使用[backtrace](http://www.kernel.org/doc/man-pages/online/pages/man3/backtrace.3.html)和[backtrace_symbols](http://linux.die.net/man/3/backtrace_symbols)来实现你想要的。

根据注释部分`backtrace`

> 如果不使用特殊的链接器选项，符号名称可能不可用。对于使用 GNU 链接器的系统，必须使用 -rdynamic 链接器选项。请注意，“静态”函数的名称不会公开，并且不会在回溯中可用。

# android - 使用 PhoneGap 创建项目的问题

> ID：15150010
> 
> 赞同：1
> 
> 时间：2013-03-01T03:30:23.963
> 
> 标签：android, cordova

在命令提示符下使用 create 命令创建一个 android 项目后，我收到以下消息：

您没有任何 android 目标设置。请使用“android”命令创建至少一个目标。

我不确定这意味着什么，任何帮助将不胜感激！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-05-16T17:51:13.443

我修复了运行创建命令的错误，提示指向“工具”文件夹。在这种情况下，该命令能够检查我之前创建的目标。例子：

```
D:\adt-bundle-windows-x86_64-20130514\sdk\tools> d:\phonegap-2.7.0\lib\android\bi
n\create d:\AndroidWorkspace\<Project Name> <project package> <activity>

Microsoft (R) Windows Script Host Version 5.8
Copyright (C) Microsoft Corporation. All rights reserved.

Creating new android project...
Copying template files...
Copying js, jar & config.xml files...
Copying cordova command tools...
Updating AndroidManifest.xml and Main Activity... 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T03:38:11.070

您需要在创建中指定目标 API

[http://edoceo.com/notabene/android-phonegap-cli](http://edoceo.com/notabene/android-phonegap-cli)

```
android create project \
    --name 'Android_PhoneGap_EXample' \
    --target 12 \
    --path . \
    --package 'com.edoceo.apgex' \
    --activity 'APGEX_Activity' 
```

# android - 在 Android 浏览器中获取位置

> ID：15150012
> 
> 赞同：2
> 
> 时间：2013-03-01T03:30:37.997
> 
> 标签：android, html

以下代码适用于我的桌面浏览器，但不适用于我的 Android 手机的默认浏览器。我收到“浏览器支持地理位置”的警报框，但没有收到该位置的警报框。

谢谢

```
<!DOCTYPE html>
<html>
<head>
    <script type="text/javascript">
        if (navigator.geolocation) {
            alert('Browser support geolocation')
            navigator.geolocation.getCurrentPosition(showPosition);
        }
        else { alert('Browser does not support geolocation'); }

        function showPosition(position) {

            alert(position.coords.latitude + ":" + position.coords.longitude);
            document.title = position.coords.latitude + ":" + position.coords.longitude;
        }
    </script>

</head>
<body>
<div id="coor">Loading...</div>
</body>
</html> 
```

更新：上面的代码只有在我在手机上启用 GPS 时才有效。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T03:48:11.107

此代码适用于我在默认浏览器（两个警报）上。您应该检查托管该页面的服务器是否已由您的手机授权，并且是否也允许访问位置：查看默认浏览器的设置。

# rabbitmq - 使用 RabbitMQ 的 Masstransit 的简单示例

> ID：15150017
> 
> 赞同：8
> 
> 时间：2013-03-01T03:31:10.827
> 
> 标签：rabbitmq, sample, masstransit

我想将 MassTransit 总线与 RabbitMQ 一起使用。但我找不到一个简单的例子。我正在寻找可以帮助我入门的示例。

**我已经尝试过。**

1.  谷歌搜索：但大多数示例都使用 MSMQ 或使用太多配置选项。
2.  GitHub：我查看了 MassTransit 的 GitHub ( [https://github.com/MassTransit/MassTransit/tree/master/src/Samples](https://github.com/MassTransit/MassTransit/tree/master/src/Samples) ) 但这里的示例负载很重。初学者很难理解。
3.  阅读文档：我已经开始阅读文档，但完成它需要一些时间。我希望如果有人分享一个简单示例的链接，这将使我开始。

请提供您的建议。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-11-04T16:12:48.840

这是一个使用 MassTransit 和 RabbitMQ 的简单、良好的 pub-sub 示例。 [http://looselycoupledlabs.com/2014/06/masstransit-publish-subscribe-example/](http://looselycoupledlabs.com/2014/06/masstransit-publish-subscribe-example/)

如果文章链接不起作用，这里是源代码的链接： [https ://github.com/dprothero/MtPubSubExample](https://github.com/dprothero/MtPubSubExample)

当然感谢作者！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-01T14:44:32.117

MassTransit 实现了许多概念，并通过非常小的表面 API 提供了许多功能。没有简单的方法来描述它所做的一切，因为它帮助解决的问题并不简单，但可以做一个小例子。

看看我用于测试吞吐量的这个示例： [https ://github.com/et1975/Throughput-Test](https://github.com/et1975/Throughput-Test)

唯一可能发现不必要的“额外”是依赖注入集成。在大多数情况下你会想要一个，但它确实隐藏了某些位的交互方式。

查看[https://groups.google.com/forum/?fromgroups#!forum/masstransit-discuss](https://groups.google.com/forum/?fromgroups#!forum/masstransit-discuss)以获得更多帮助。

干杯，ET。

# xml - 使用 XML 在 HTML 中实现图像

> ID：15150028
> 
> 赞同：2
> 
> 时间：2013-03-01T03:32:58.700
> 
> 标签：xml

好的，所以我正在设计一个使用 HTML、CSS 和（希望如此）XML 的网站。我正在尝试将 XML 用于网站的特定部分，并且我在以我想要的方式合并 XML 时遇到了一些困难。

我的问题是我正在尝试找到一种方法来使用 XML 读取图像（或图像目录）并使用调用命令通过 for 循环将其打印到我的 HTML 网站上，因此我可以简单地将数据输入到 XML 文件中带有属性，并为网站上的任何页面轻松调用它们。我还希望最终添加一个搜索栏，并且有人告诉我，由于可以添加属性和元素，XML 将是一个很棒的附加组件。 *编辑*：我相信我使用了错误的命令将图像拉入 XML。任何有关这方面的信息都会有所帮助。

*注意：为简单起见，我已将 HTML 和 XML 的编码简化为我遇到的问题。*

*这是我的 XML 文件*

```
<inventory>
<shirt>
    <picture><image href="tank_top.jpg"/></picture>
    <name>Tank Top</name>
    <description>This is a tank top. </description>
    <price>$12.00</price>
</shirt>
<shirt>
    <picture><image href="sweater.jpg"/></picture>
    <name>Sweater</name>
    <description>This is a sweater. </description>
    <price>$15.00 </price>
</shirt>
<shirt>
    <picture><image href="hoodie.jpg"/></picture>
    <name>Hoodie</name>
    <description>This is a hoodie. </description>
    <price>$17.00 </price>
</shirt>
<shirt>
    <picture><image href="long_sleeve_shirt.jpg"/></picture>
    <name>Long-Sleeve</name>
    <description>This is a long-sleeve. </description>
    <price>$20.00 </price>
</shirt>
<shirt>
    <picture><image href="t-shirt.jpg"/></picture>
    <name>T-Shirt</name>
    <description>This is a t-shirt. </description>
    <price>$50.00 </price>
</shirt>
</inventory> 
```

*这是我的 Javascript*

```
if (window.XMLHttpRequest)
  {// code for IE7+, Firefox, Chrome, Opera, Safari
  xmlhttp=new XMLHttpRequest();
  }
else
  {// code for IE6, IE5
  xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
  }
xmlhttp.open("GET","Example.xml",false);
xmlhttp.send();
xmlDoc=xmlhttp.responseXML; 

var x=xmlDoc.getElementsByTagName("shirt");
 for (i=1;i&lt;x.length+1;i++)
  {
   document.write(x[i].getElementsByTagName("picture")[0].childNodes[0].nodeValue);
   document.write(x[i].getElementsByTagName("name")[0].childNodes[0].nodeValue);
   document.write(x[i].getElementsByTagName("description")[0].childNodes[0].nodeValue);
   document.write(x[i].getElementsByTagName("price")[0].childNodes[0].nodeValue);
  } 
```

我什至尝试使用下面的代码代替图片的第一个“document.write”命令，

> var img=新图像（）；img.src='插入图片标题_这里'; document.body.appendChild(img);

但这只会在其他所有内容加载后将我的图像发送到页面底部。每次打印出其余信息时，我都需要加载不同的标题图像（即我需要打印图片，然后是名称，然后是描述，然后是价格。然后是一张不同的图片以及存储在XML 文件）。

TL;DR：我需要通过 JS 以 HTML 格式输出一个图像，该图像读取一个 XML 文件。而且我需要 XML 文件来提取图像，因为我有嵌套的打印命令的 for 循环。上面是简化的 XML 和 HTML 代码。寻找了几个小时的解决方案。没有发现任何帮助。

*注意：我只是在读高中，虽然我已经编码了几年（主要使用 Java 并涉足 HTML），但我对编码世界的其他部分非常陌生......我实际上只是今天开始学习使用 XML。任何和所有的描述都会非常有帮助。请包括您认为可能有帮助的任何网络资源甚至书籍。非常感谢！*

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T04:04:03.217

尝试将您的内容放在表格中。还将您的`for`循环`onload`或对象的`onreadystatechange`属性放入`xmlhttp`，例如：

```
xmlhttp.onload = function() {
    //for loop here...
};
//and then send the request
xmlhttp.send(); 
```

并使用`xmldoc.documentElement.getElementsByTagName`而不是`xmldoc.getElementsByTagName`...

更新：避免使用全局变量并使用`var`声明变量。

# linux - 从文件中计算 IP

> ID：15150033
> 
> 赞同：0
> 
> 时间：2013-03-01T03:33:23.733
> 
> 标签：linux, bash, shell, sorting, awk

我有这样的访问日志，我想抓住他们中的每一个人，然后对它们进行排序，找到最多的一个。

```
173.192.238.41 - - [28/Feb/2013:07:06:09 -0500] "GET / HTTP/1.1" 200 20644 "-" "Mozilla/5.0 (X11; U; Linux x86_64; en-US; rv:1.9.0.19; aggregator:Spinn3r (Spinn3r 3.1); http://spinn3r.com/robot) Gecko/2010040121 Firefox/3.0.19"
208.115.113.84 - - [28/Feb/2013:07:06:19 -0500] "GET /tag/bright HTTP/1.1" 404 327 "-" "Mozilla/5.0 (compatible; Ezooms/1.0; ezooms.bot@gmail.com)"
94.228.34.214 - - [28/Feb/2013:07:10:16 -0500] "GET /alli-comes-home-12-10-09-day-224-2264/feed HTTP/1.1" 404 359 "-" "magpie-crawler/1.1 (U; Linux amd64; en-GB; +http://www.brandwatch.net)"
209.171.42.71 - - [28/Feb/2013:07:11:19 -0500] "GET /feed/atom HTTP/1.1" 404 326 "-" "Mozilla/5.0 (compatible; BlogScope/1.0; +http://www.blogscope.net/; U of Toronto)"
94.228.34.229 - - [28/Feb/2013:07:12:48 -0500] "GET /the-latest-design-franck-muller-watches-and-versace-watches-6838/feed HTTP/1.1" 404 386 "-" "magpie-crawler/1.1 (U; Linux amd64; en-GB; +http://www.brandwatch.net)" 
```

我可以像这样对它进行分类吗？

```
cat /path/to/access.log | awk '{print $1}' | sort | uniq -c 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-01T03:38:14.247

你很近。数完之后，你必须按计数排序：

```
awk '{print $1}' /path/to/access.log | sort | uniq -c | sort -n 
```

您也可以在 awk 中进行计数，而不是使用`sort`and `uniq`：

```
awk '{count[$1]++} END {for (ip in count) print count[ip], ip;}' | sort -n 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T08:01:01.087

这是您可以按出现然后按地址排序 IPv4 地址的一种方法：

```
# cut takes only the first column from access.log
<access.log cut -d' ' -f1 |

# Presort the IP addresses so uniq can count them 
sort    |
uniq -c |

# Format the stream so it only contains `.' delimiters
sed 's/^ *//; s/ /./' |

# Now sort numerically based on each consecutive dot delimited column
sort -t. -k1,1n -k2,2n -k3,3n -k4,4n -k5,5n | 

# Reset the first delimter  
sed 's/\./ /' 
```

测试输入：

```
cat << EOF > access.log
173.192.238.41 - - [28/Feb/2013:07:06:09 -0500] "GET / HTTP/1.1" 200 20644 "-" "Mozilla/5.0 (X11; U; Linux x86_64; en-US; rv:1.9.0.19; aggregator:Spinn3r (Spinn3r 3.1); http://spinn3r.com/robot) Gecko/2010040121 Firefox/3.0.19"
208.115.113.84 - - [28/Feb/2013:07:06:19 -0500] "GET /tag/bright HTTP/1.1" 404 327 "-" "Mozilla/5.0 (compatible; Ezooms/1.0; ezooms.bot@gmail.com)"
94.228.34.229 - - [28/Feb/2013:07:12:48 -0500] "GET /the-latest-design-franck-muller-watches-and-versace-watches-6838/feed HTTP/1.1" 404 386 "-" "magpie-crawler/1.1 (U; Linux amd64; en-GB; +http://www.brandwatch.net)"
94.228.34.214 - - [28/Feb/2013:07:10:16 -0500] "GET /alli-comes-home-12-10-09-day-224-2264/feed HTTP/1.1" 404 359 "-" "magpie-crawler/1.1 (U; Linux amd64; en-GB; +http://www.brandwatch.net)"
209.171.42.71 - - [28/Feb/2013:07:11:19 -0500] "GET /feed/atom HTTP/1.1" 404 326 "-" "Mozilla/5.0 (compatible; BlogScope/1.0; +http://www.blogscope.net/; U of Toronto)"
209.71.42.71 - - [28/Feb/2013:07:11:19 -0500] "GET /feed/atom HTTP/1.1" 404 326 "-" "Mozilla/5.0 (compatible; BlogScope/1.0; +http://www.blogscope.net/; U of Toronto)"
94.228.34.229 - - [28/Feb/2013:07:12:48 -0500] "GET /the-latest-design-franck-muller-watches-and-versace-watches-6838/feed HTTP/1.1" 404 386 "-" "magpie-crawler/1.1 (U; Linux amd64; en-GB; +http://www.brandwatch.net)"
94.229.34.229 - - [28/Feb/2013:07:12:48 -0500] "GET /the-latest-design-franck-muller-watches-and-versace-watches-6838/feed HTTP/1.1" 404 386 "-" "magpie-crawler/1.1 (U; Linux amd64; en-GB; +http://www.brandwatch.net)"
94.227.34.229 - - [28/Feb/2013:07:12:48 -0500] "GET /the-latest-design-franck-muller-watches-and-versace-watches-6838/feed HTTP/1.1" 404 386 "-" "magpie-crawler/1.1 (U; Linux amd64; en-GB; +http://www.brandwatch.net)"
EOF 
```

输出：

```
1 94.227.34.229
1 94.228.34.214
1 94.229.34.229
1 173.192.238.41
1 208.115.113.84
1 209.71.42.71
1 209.171.42.71
2 94.228.34.229 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-01T07:11:49.687

```
awk '{a[$1]++}END{for(i in a)print a[i],i}' your_log|sort -rn 
```

或者

```
perl -lane '$x{$F[0]}++;END{for(keys %x){print $x{$_}." ".$_;}}' your_log|sort -rn 
```

# javascript - JavaScript 滑块效果不一致

> ID：15150034
> 
> 赞同：0
> 
> 时间：2013-03-01T03:33:25.043
> 
> 标签：javascript, jquery, jquery-ui, slider

我创建了一个滑块，这样当您单击一个按钮时，会从侧面显示一部分内容，下一次单击该部分将从顶部显示，依此类推，但是前几张幻灯片不一致，所有内容都滑动同样的方式（侧面）。

如果有人可以看看并找出为什么会发生这种情况，那就太好了：

```
<div id="slider">

    <section class="horizontal-gallery">
        <img src="images/pekapeka/peka1.jpg" class="init-hidden" id="1-slide" rel="right"/>
        <p id="1-text" class="horizontal-gallery-text">This is the first image in the gallery </p>
    </section>

    <section class="vertical-gallery">
        <img src="images/pekapeka/peka2.jpg" class="picture2 init-hidden" id="2-slide" rel="right" />
        <p id="2-text" class="vertical-gallery-text init-hidden">This is the second image in the gallery, it should be sliding down</p>
    </section>

    <section class="horizontal-gallery">
        <img src="images/pekapeka/peka3.jpg" class="picture3 init-hidden" id="3-slide" rel="up" />
        <p id="3-text" class="horizontal-gallery-text text-3 init-hidden">This is the third image in the gallery it should be sliding in from the side </p>
    </section> 
```

JS：

```
var totalslides = '5';
var slidenum = 0;
var slidenext = 0;
var slideType = '';
$(function(){
    $('#gallery-next').data('counter', 0);
    $('#gallery-next').click(function() {
       slidenum = parseInt($('#gallery-next').data('counter'));
       slidenext = slidenum+1

      slideType = $('#'+slidenum+'-slide').attr('rel')

        //alert('Next slideType is: ' + slideType)
        //hide(slide) is a jQueryUI function, so ensure you include that lib
       $('#'+slidenext+'-slide').show('slide',{direction:slideType}, 1000);
       $('#'+slidenum+'-slide').delay(600).fadeOut(600);

       $('#'+slidenext+'-text').delay(1200).fadeIn();
       $('#'+slidenum+'-text').fadeOut(400);

       slidenum = slidenum % totalslides + 1;
       $('#gallery-next').data('counter',slidenum);

       console.log(slideType);
    });
}); 
```

还有一个链接： http: [//luvly.co.nz/space/te-horo-beach-house.html](http://www.luvly.co.nz/space/te-horo-beach-house.html)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T03:50:34.177

它坏了，因为第一次执行时，slidenum 为 0。所以当它试图找到

```
 slideType = $('#'+slidenum+'-slide').attr('rel') 
```

`slideType`未定义，因为`$('#0-slide')`不存在。因此，当您尝试传递`{direction:undefined}`给您的`show()`函数时，我假设它默认为您不期望的某个方向。

尝试将您的 slideNum 变量初始化为 1。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-01T04:25:26.720

我冒昧地修复了整个脚本，在此转载：http: [//jsfiddle.net/samliew/waTDr/31/](http://jsfiddle.net/samliew/waTDr/31/)

```
var totalslides = 6;
var slidenum = 0;
var slidenext = 0;

$(function () {
    var $slider = $('#slider');
    var $slides = $slider.find('img');
    var $slideTexts = $slider.find('p');

    // hide all except first slide
    $slides.hide().eq(0).show();
    $slideTexts.hide().eq(0).show();

    $('#gallery-next').data('counter', 0);
    $('#gallery-next').click(function () {

        slidenext = slidenum + 1;
        if(slidenext >= totalslides) slidenext = 0;

        var slideType = $slides.eq(slidenext).attr('rel');
        console.log(slidenum + ', ' + slidenext + ': ' + slideType);

        // hide(slide) is a jQueryUI function, so ensure you include that lib
        $slides.eq(slidenext).show('slide', {
            direction: slideType
        }, 1000);
        $slides.eq(slidenum).delay(600).fadeOut(600);

        $slideTexts.eq(slidenext).delay(1200).fadeIn();
        $slideTexts.eq(slidenum).fadeOut(400);

        slidenum++;
        if(slidenum >= totalslides) slidenum = 0;

        console.log(slidenum + ', ' + slidenext);
    });
}); 
```

此外，text-6 的 CSS 定位有问题，您可能需要调查一下。

# android - TYPE 旋转矢量传感器

> ID：15150037
> 
> 赞同：1
> 
> 时间：2013-03-01T03:33:52.023
> 
> 标签：android, rotation, android-sensors

在传感器列表中，旋转矢量传感器显示为我手机华为 Ascend 中的传感器。但是当我在应用程序中使用它时，旋转矢量传感器没有显示任何输出。我无法弄清楚实际原因是什么，我确定代码没有错误。请帮助我..提前谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2018-12-20T11:37:05.673

旋转矢量传感器需要从加速度计和陀螺仪[源](http://%20https://source.android.com/devices/sensors/sensor-types)中获取值，其中陀螺仪被视为主要传感器。华为 Ascend 没有内置陀螺仪传感器。因此，它可能能够生成值。

# .net - 我是否在多个实体框架有界上下文中添加同一个表

> ID：15150039
> 
> 赞同：5
> 
> 时间：2013-03-01T03:34:22.720
> 
> 标签：.net, entity-framework, domain-driven-design, edmx, bounded-contexts

我有一个相当大的数据库，大约 80 个表左右。因此，我决定将表分隔为有界上下文，而不是将所有 80 个表放在 1 个大 edmx 文件中。

所以我有有限的上下文，比如销售、客户等。

我的客户 edmx 文件中有我的主要客户表。但是，我还需要从销售 edmx 上下文的客户表中访问某些字段，而不是全部，而是 1 或 2 个字段（例如，我只需要客户名称，而不是整个客户对象/表）。

我是否必须将整个客户表添加到销售 edmx 文件中？这种情况的最佳做法是什么？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-03-01T06:16:45.033

我喜欢 Julie Lerman 对这个话题的看法[http://msdn.microsoft.com/en-us/magazine/jj883952.aspx](http://msdn.microsoft.com/en-us/magazine/jj883952.aspx)

我使用有界上下文来提高访问性能，因为即使使用生成的视图，使用较小的 dbcontext 时上下文的加载时间也会更快。简化访问模型是很好的额外。MS ef 网站上的性能考虑提示：http: [//msdn.microsoft.com/en-us/data/hh949853](http://msdn.microsoft.com/en-us/data/hh949853)

BC 还允许其他好处，例如限制访问以匹配业务问题。如果您尝试使用不仅 DBSet 出现在其中，而且您尝试更改模型视图的 db 上下文也会出现更大的问题。我认为最好在 EF 之外完成并映射。

我使用一个大的 SUPERSET 上下文来管理数据库创建/迁移。但不是日常访问。

较小的 DBcontexts 用于每天全天访问数据。

所以是的，一定要使用有界上下文。这可以针对**SAME 数据存储**。并以措辞“是的，同一张表（**DbSet）**可以出现在许多情况下”来回答这个问题。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-03-01T04:39:47.697

这种方法（IMO）有几个潜在的问题：

EF 与任何 ORM 一样，属于持久性问题。因此，它不应该干扰您构建域模型的方式。您将所有实体都持久化在一个听起来像是一个持久性存储中的事实可能表明您的有界上下文重叠或不存在。

尝试转向更好的结构并不是一件坏事:) --- 然而，正如 Mark Oreta 所说，我可能不会为 EF 结构而烦恼。

您遇到的主要问题是由于尝试从您的域模型中读取而引起的。这似乎在系统中经常出现，这让事情变得相当困难。延迟加载正是这种情况的直接结果。理想情况下，当您阅读时，您应该使用可以访问针对阅读进行了优化的查询存储（可能是同一个数据库）的查询层。在您的示例中，您需要在销售域中使用非规范化的客户名称。没事儿。试图通过读取您的域模型然后尝试在另一个有界上下文中从域模型中提取数据来实现这一点是导致您痛苦的原因。

如果您沿着拆分数据的路线走，那么您将需要*保持拆分*。

尽管来自不同 BC 的数据可能都在同一个存储中，但您应该将数据视为每个 BC 都有自己的数据库。有时，我在不同的文件夹/命名空间（此处为 .NET）中有一个具有各种关注点（层到某些层）的项目。应该可以一时兴起将这些关注点拆分为单独的程序集。所以它们不应该耦合得太紧。您尝试拆分的此数据结构也是如此。您本质上应该能够将相关的 BC 数据拆分到单独的数据库中。跨 BC 获取数据的机制是另一回事，我想如果无法解决这个问题，您可能会觉得很难。

虽然我不认为从数据方面识别 BC 可能是最好的主意，但这肯定是朝着正确方向迈出的一步 :)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-01T03:37:35.327

如果您希望能够使用导航属性从您的销售实体访问客户实体， ( `Sale.Customer`) 您需要将其添加到销售 edmx。

将所有表放在一个 edmx 中不一定是坏事，只要您创建它，将其用于您想要的操作，然后处理它，对象图就不会变得那么大。

或者，如果您想保留有界上下文，您可以有一个存储库或在您需要时通过 ID 获取它的东西。

```
var customer = customerContext.GetCustomerById(sale.CustomerId); 
```

# hadoop - 使用带有 .mapreduce 的 Avro 1.7.4 特定 API 时出错

> ID：15150040
> 
> 赞同：2
> 
> 时间：2013-03-01T03:34:24.330
> 
> 标签：hadoop, avro

我正在尝试编写一个采用 Avro 1.7.4 文件的 Mapper（使用 .mapreduce）api。我正在使用特定的 API（maven avro 插件）从 .avdl 文件生成我的对象。

我已验证 Avro 文件已正确生成，并且可以使用 Avro 工具 jar 中的 avro-to-json 函数来读回文件。

我收到的错误是：

```
java.lang.ClassCastException: org.apache.avro.generic.GenericData$Record cannot be cast to
org.lab41.cyprus.domain.NetworkRecord
    at org.lab41.cyprus.mapreduce.RollupAvroFilesMapper.map(RollupAvroFilesMapper.java:45)
    at org.lab41.cyprus.mapreduce.RollupAvroFilesMapper.map(RollupAvroFilesMapper.java:23)
    at org.apache.hadoop.mapreduce.Mapper.run(Mapper.java:140)
    at org.apache.hadoop.mapred.MapTask.runNewMapper(MapTask.java:645)
    at org.apache.hadoop.mapred.MapTask.run(MapTask.java:325)
    at org.apache.hadoop.mapred.LocalJobRunner$Job.run(LocalJobRunner.java:263)\ 
```

驱动类如下：

公共类 RollupAvroFiles 扩展配置实现工具{

```
@Override
public int run(String[] args) throws Exception {
    Configuration conf = getConf();
    String[] otherArgs = new GenericOptionsParser(conf, args).getRemainingArgs();

    String input, output;
    if (otherArgs.length == 2) {
        input = otherArgs[0];
        output = otherArgs[1];
    } else {
        return 1;
    }

    /** configure Job **/
    Job job = new Job(conf, "RollupAvroFiles");
    job.setJarByClass(RollupAvroFiles.class);
    job.setUserClassesTakesPrecedence(true);
    job.setNumReduceTasks(1);

    FileInputFormat.setInputPaths(job, new Path(input));
    job.setInputFormatClass(AvroKeyInputFormat.class);
    AvroJob.setInputKeySchema(job, NetworkRecord.SCHEMA$);

    job.setMapperClass(RollupAvroFilesMapper.class);
    AvroJob.setMapOutputKeySchema(job, Schema.create(Schema.Type.LONG));
    AvroJob.setMapOutputValueSchema(job, NetworkRecord.SCHEMA$);

    job.setMapOutputKeyClass(AvroKey.class);
    job.setMapOutputValueClass(AvroValue.class);

    job.setReducerClass(RollupAvroFilesReducer.class);
    AvroJob.setOutputKeySchema(job, NetworkRecord.SCHEMA$);

    job.setOutputFormatClass(AvroKeyOutputFormat.class);
    FileOutputFormat.setOutputPath(job, new Path(output));

    return job.waitForCompletion(true) ? 0 : 1;
}

public static void main(String[] args) throws Exception {
    int exitCode = ToolRunner.run(new RollupAvroFiles(), args);
    System.exit(exitCode);
} 
```

}

Mapper 类内容如下：

```
public class RollupAvroFilesMapper
        extends Mapper<AvroKey<NetworkRecord>, NullWritable, AvroKey<Long>,
AvroValue<NetworkRecord>> {

    @Override
    protected void setup(Context context) throws IOException, InterruptedException {
    }

    @Override
    protected void map(AvroKey<NetworkRecord> key, NullWritable value, Context context)
            throws IOException, InterruptedException {
NetworkRecord = key.datum();
….
    }
} 
```

任何想法将不胜感激

# linux - 如何从网页向程序传递参数？

> ID：15150052
> 
> 赞同：1
> 
> 时间：2013-03-01T03:35:36.720
> 
> 标签：linux, web-services, web, interface, scripting

我将首先承认我在 Web 服务方面的编程经验和技能实际上是不存在的。我通常使用 C 或汇编对完全独立或本地运行的东西进行编程。我已经足够精通网站了，在系统上具有一些基本的身份验证和目录读取访问权限。就是这样。

我正在尝试做一个远离我舒适区的项目，并获得一些远程/通过网络控制东西的经验。使用运行 Debian 的 Raspberry Pi，我在 C 中运行一个程序，该程序接收视频和 UART 数据等信息，进行一些处理并触发一些输出并将事件写入文件/文件夹。这个组件很容易自动运行。建立一个网络服务器以便远程用户可以查看驱动程序创建的文件和图片也非常容易。

对我来说，问题在于尝试在网页上制作一个可用于手动控制这些输出的 GUI。很明显，我需要一些脚本来处理网页上的按钮按下，但是是否有一种脚本语言特别适合使用内核对象/系统调用，所以我可以实际与该进程交谈？我认为最好的方法是使用消息队列，但我不知道 Python 或 PHP（或其他脚本语言）是否能够做到这一点，以及是否有比其他人更好的方法。这样做的首选方法是什么？

我知道这是可能的，因为我们都见过那些带有闪光灯容器的小猫相机，您可以在其中移动相机或触发事物。我只是不知道从哪里开始。

谢谢你的帮助

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T03:52:13.290

Java 可以通过 JNI ( [http://en.wikipedia.org/wiki/Java_Native_Interface](http://en.wikipedia.org/wiki/Java_Native_Interface) ) 从 JVM 中调用本机命令。因此，如果您已经拥有可以处理控件的 C 代码，那么只需让 Java 代码调用它们即可。

至于处理按钮按下的脚本，有几个选项。一种方法是通过 AJAX 异步进行（这需要一些 JavaScript 知识），另一种方法是在每次按下时进行传统的页面刷新。很抱歉回答有点含糊，但这需要对整个 JSP（Java 服务器页面）/Servlets 生态系统如何工作进行冗长的解释。

这是一个很好的起点：

[http://www.apl.jhu.edu/~hall/java/Servlet-Tutorial/](http://www.apl.jhu.edu/~hall/java/Servlet-Tutorial/)

* * *

# python - 将数据从 dbfpy 插入 MySQL 的最佳方法是什么？

> ID：15150053
> 
> 赞同：0
> 
> 时间：2013-03-01T03:35:47.093
> 
> 标签：python, mysql, mysql-python, dbf

我正在使用[dbfpy 模块](http://dbfpy.sourceforge.net/)从 DBF 文件中读取数据，目的是将相同的数据写入等效的 MySQL 表。这是我的代码的粗略版本：

```
###################
# BEGIN CONFIG 
###################

import_root = '/Users/shawn/Dropbox/ITistic Inc/Digital Aspire/Clients/MVP/Automated Sales Report Project/pdq dbf export 1.30.2013'
concept_id = 1

###################
# END CONFIG 
###################

import os
import datetime
from dbfpy import dbf
import MySQLdb

# Connect to MySQL
db = MySQLdb.connect('localhost', 'dbposireporting', 'posi', 'dbposireporting')
cur = db.cursor()

discount = dbf.Dbf(os.path.join(path, 'DISCOUNT.DBF'))

for rec in discount:
    print rec['date']
    print

    # LINE BELOW NOT WORKING:
    cur.execute("INSERT INTO discount VALUES (%s, %s, %s, %s, %s, %s)", rec)

discount.close()

db.close() 
```

我尝试插入的 MySQL 表包含一个附加字段，我需要使用脚本顶部设置的 concept_id 值填充该字段。该值不是 DBF 记录 (rec) 的一部分。我插入这些数据的最佳方式是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-26T05:35:44.840

我认为您可以替换`rec`为`cur.execute()`

`tuple(rec) + (concept_id,)`

哦，别忘了再添加一个`%s`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-10-30T21:22:32.327

如果任何字段是字符串，则需要将它们括在引号中以使 SQL 有效。

# sql - 根据下一行日期值添加日期列

> ID：15150057
> 
> 赞同：0
> 
> 时间：2013-03-01T03:36:04.277
> 
> 标签：sql, sql-server-2005

我正在使用 SQL Server 2005。从下面的 tbl_temp 表中，我想根据下一行的 StartDate 减去 1 天添加一个 EndDate 列，直到 AID 和 UID 组合发生变化。这个计算出来的 EndDate 将作为 EndDate 转到它上面的行。AID 和 UID 组的最后一行将获取系统日期作为其 EndDate。该表必须按 AID、UID、StartDate 顺序排序。谢谢您的帮助。

-- tbl_temp

```
援助 UID 开始日期
1 1 2013-02-20
2 1 2013-02-06
1 1 2013-02-21
1 1 2013-02-27
1 2 2013-02-02
1 2 2013-02-04

```

-- 需要结果

```
AID UID 开始日期 结束日期
1 1 2013-02-20 2013-02-20
1 1 2013-02-21 2013-02-26
1 1 2013-02-27 系统日期
1 2 2013-02-02 2013-02-03
1 2 2013-02-04 系统日期
2 1 2013-02-06 系统日期

```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T03:39:11.127

最简单的方法是使用相关子查询：

```
select t.*,
       (select top 1 dateadd(day, -1, startDate )
        from tbl_temp t2
        where t2.aid = t.aid and
              t2.uid = t.uid and
              t2.startdate > t.startdate
       ) as endDate
from tbl_temp t 
```

要获取当前日期，请使用`isnull()`：

```
select t.*,
       isnull((select top 1 dateadd(day, -1, startDate )
               from tbl_temp t2
               where t2.aid = t.aid and
                     t2.uid = t.uid and
                     t2.startdate > t.startdate
               ), getdate()
              ) as endDate
from tbl_temp t 
```

通常，我会推荐`coalesce()`over `isnull()`。但是，在某些版本的 SQL Server 中存在一个错误，它对第一个参数求值两次。通常，这并没有什么区别，但是对于子查询却可以。

最后，使用`sysdate`让我想到了 Oracle。同样的方法也适用于那里。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-01T03:42:47.547

```
;WITH x AS
(
    SELECT AID, UID, StartDate, 
        ROW_NUMBER() OVER(PARTITION BY AID, UID ORDER BY StartDate) AS rn
    FROM tbl_temp
)
SELECT x1.AID, x1.UID, x1.StartDate, 
    COALESCE(DATEADD(day,-1,x2.StartDate), CAST(getdate() AS date)) AS EndDate
FROM x x1
LEFT OUTER JOIN x x2 ON x2.AID = x1.AID AND x2.UID = x1.UID
    AND x2.rn = x1.rn + 1
ORDER BY x1.AID, x1.UID, x1.StartDate 
```

[SQL 小提琴示例](http://www.sqlfiddle.com/#!3/9d2cd/4)

# grails - 如何将 Google Web 字体 css 添加到 Grails 资源

> ID：15150058
> 
> 赞同：1
> 
> 时间：2013-03-01T03:36:04.667
> 
> 标签：grails, fonts, resources, grails-resources-plugin

**使用资源插件将Google Web 字体 css**依赖项添加到 grails 应用程序的正确方法是什么？

出于某种原因，**grails 资源插件**似乎想要删除查询字符串。

```
modules = {
    mainLayout {
        dependsOn 'bootstrap-css,bootstrap-responsive-css,bootstrap-dropdown'
        resource url: 'css/main.css'
        resource url: 'http://fonts.googleapis.com/css?family=Snowburst One', attrs: [type: "css"]
    }
} 
```

HTML有这个：

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T22:14:48.843

在主布局文件中包含指向网络字体 a pi 的链接：

```
<link href='http://fonts.googleapis.com/css?family=.../> 
```

# mysql - Virtuemart 属性查询的优化

> ID：15150063
> 
> 赞同：0
> 
> 时间：2013-03-01T03:36:29.990
> 
> 标签：mysql, optimization

我在下面有一个选择查询，它的作用是从 Virtuemart 表中选择与某个属性匹配的所有产品。属性表相当大（将近 6000 行）。有什么方法可以优化下面的查询，或者是否有任何其他可能有用的过程，我已经尝试将索引添加到一个甚至两个表。

```
SELECT DISTINCT `jos_vm_product`.`product_id`,
    `jos_vm_product_attribute`.`attribute_name`, 
    `jos_vm_product_attribute`.`attribute_value`,
    `jos_vm_product_attribute`.`product_id` 
FROM (`jos_vm_product`) 
    RIGHT JOIN `jos_vm_product_attribute` 
        ON `jos_vm_product`.`product_id` = `jos_vm_product_attribute`.`product_id`  
WHERE ((`jos_vm_product_attribute`.`attribute_name` = 'Size') 
    AND ((`jos_vm_product_attribute`.`attribute_value` = '6.5')  
        OR (`jos_vm_product_attribute`.`attribute_value` = '10')))    
GROUP BY `jos_vm_product`.`product_sku`   
ORDER BY CONVERT(`jos_vm_product_attribute`.`attribute_value`, SIGNED INTEGER)
LIMIT 0, 24 
```

这是 EXPLAIN 表的结果：

```
id select_type table type possible_keys key key_len ref rows Extras
1 SIMPLE jos_vm_product_attribute range idx_product_attribute_name,attribute_value,attribute_name attribute_value 765 NULL 333 使用 where；使用临时的；使用文件排序
1 简单的 jos_vm_product eq_ref PRIMARY PRIMARY 4 shoemark_com_shop.jos_vm_product_attribute.product_id   

```

任何帮助将不胜感激。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T15:00:38.367

用和（按该顺序）`jos_vm_product_attribute.attribute_name`上的复合索引替换索引应该有助于此查询。目前，它仅在for 条件中使用索引，但这个新索引将可用于条件的两个部分。`jos_vm_product_attribute.attribute_name``jos_vm_product_attribute.attribute_value``WHERE``jos_vm_product_attribute.attribute_value``WHERE`

# sql-server-2008 - SQL：将 ISNULL 与动态数据透视一起使用

> ID：15150068
> 
> 赞同：2
> 
> 时间：2013-03-01T03:36:51.063
> 
> 标签：sql-server-2008, tsql, pivot

我想让枢轴产生的所有NULL值都变成0。我已将 ISNULL 放置在每个可以想象的地方，但似乎没有任何效果。枢轴是否与 ISNULL 兼容？下面的代码：

```
 DECLARE @startDate datetime
    SET @startDate = '2013-01-01'

    DECLARE @sql varchar(MAX)
    SET @sql = 'SELECT 
    CLIENTNAME, PROJECTNAME, RESOURCE, [' +
      REPLACE(SUBSTRING(CONVERT(varchar, @startDate, 13), 4, 8), ' ', '') + '], [' +
      REPLACE(SUBSTRING(CONVERT(varchar, DATEADD(MONTH, 1, @startDate), 13), 4, 8), ' ', '') + '], [' +
      REPLACE(SUBSTRING(CONVERT(varchar, DATEADD(MONTH, 2, @startDate), 13), 4, 8), ' ', '') + '], [' +
      REPLACE(SUBSTRING(CONVERT(varchar, DATEADD(MONTH, 3, @startDate), 13), 4, 8), ' ', '') + '], [' +
      REPLACE(SUBSTRING(CONVERT(varchar, DATEADD(MONTH, 4, @startDate), 13), 4, 8), ' ', '') + '], [' +
      REPLACE(SUBSTRING(CONVERT(varchar, DATEADD(MONTH, 5, @startDate), 13), 4, 8), ' ', '') + ']
    FROM
      (
      SELECT
        CLIENTNAME, PROJECTNAME, RESOURCE, FORECASTTOTAL
      FROM viewprojscheduling_group
      ) AS SourceTable
    PIVOT
      (
      SUM(FORECASTTOTAL)
      FOR SCHEDULEDDATE IN (' +
              QUOTENAME(REPLACE(SUBSTRING(CONVERT(varchar, @startDate, 13), 4, 8), ' ', '')) + ', ' +
              QUOTENAME(REPLACE(SUBSTRING(CONVERT(varchar, DATEADD(MONTH, 1, @startDate), 13), 4, 8), ' ', '')) + ', ' +
              QUOTENAME(REPLACE(SUBSTRING(CONVERT(varchar, DATEADD(MONTH, 2, @startDate), 13), 4, 8), ' ', '')) + ', ' +
              QUOTENAME(REPLACE(SUBSTRING(CONVERT(varchar, DATEADD(MONTH, 3, @startDate), 13), 4, 8), ' ', '')) + ', ' +
              QUOTENAME(REPLACE(SUBSTRING(CONVERT(varchar, DATEADD(MONTH, 4, @startDate), 13), 4, 8), ' ', '')) + ', ' +
              QUOTENAME(REPLACE(SUBSTRING(CONVERT(varchar, DATEADD(MONTH, 5, @startDate), 13), 4, 8), ' ', '')) + ')
      ) AS PivotTable'

    execute(@sql) 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-01T11:18:50.447

我会将您的查询设置略有不同，因为虽然它是动态的，因为列名正在更改，但您仍然对列数进行了硬编码。

首先，我将使用递归 CTE 生成您要创建的月/年列表。

```
DECLARE @startDate datetime

SET @startDate = '2013-01-01'

;with dates as
(
  select @startdate datelist, 1 sp
  union all
  select dateadd(month, 1, datelist), sp+1
  from dates
  where sp+1 <= 5 -- change this number 5 to the number of months you need
)
select   sp,
  REPLACE(SUBSTRING(CONVERT(varchar(11), datelist, 13), 4, 8), ' ', '') MONTHANDYEAR
from dates 
```

请参阅[SQL Fiddle with Demo](http://www.sqlfiddle.com/#!3/b803d/3)。这将自动创建带有年份的 5 个月的列表。然后，您不会对 5 列进行硬编码。您当前的查询不够灵活。如果您想要 12 个月会发生什么，您将不得不更改您的代码。

生成日期列表后，我会将其插入临时表中，以便您可以使用它来获取列。

获取列列表的代码是：

```
select @cols = STUFF((SELECT ',' + QUOTENAME(monthandyear) 
                    from #datesTemp
                    group by monthandyear, sp
                    order by sp
            FOR XML PATH(''), TYPE
            ).value('.', 'NVARCHAR(MAX)') 
        ,1,1,'')

select @colNames = STUFF((SELECT  ', isnull(' + QUOTENAME(monthandyear)+', 0) as '+QUOTENAME(monthandyear)
                    from #datesTemp
                    group by monthandyear, sp
                    order by sp
            FOR XML PATH(''), TYPE
            ).value('.', 'NVARCHAR(MAX)') 
        ,1,1,'') 
```

请参阅[SQL Fiddle with Demo](http://www.sqlfiddle.com/#!3/b803d/5)。你会看到有两个版本。第一个`@cols`获取将在`pivot`. 第二个`@colNames`将在最终`SELECT`列表中`null`使用零替换值。

然后你把它们放在一起，代码将是：（注意：我使用的是你[上一个问题](https://stackoverflow.com/questions/15016752/sql-dynamically-pivot-and-group-results)的答案的一个版本）

```
DECLARE @cols AS NVARCHAR(MAX),
    @colNames AS NVARCHAR(MAX),
    @query AS NVARCHAR(MAX),
    @startDate datetime

SET @startDate = '2013-01-01'

;with dates as
(
  select @startdate datelist, 1 sp
  union all
  select dateadd(month, 1, datelist), sp+1
  from dates
  where sp+1 <= 5 -- change this number 5 to the number of months you need
)
select   sp,
  REPLACE(SUBSTRING(CONVERT(varchar(11), datelist, 13), 4, 8), ' ', '') MONTHANDYEAR
into #datesTemp
from dates

select @cols = STUFF((SELECT ',' + QUOTENAME(monthandyear) 
                    from #datesTemp
                    group by monthandyear, sp
                    order by sp
            FOR XML PATH(''), TYPE
            ).value('.', 'NVARCHAR(MAX)') 
        ,1,1,'')

select @colNames = STUFF((SELECT  ', isnull(' + QUOTENAME(monthandyear)+', 0) as '+QUOTENAME(monthandyear)
                    from #datesTemp
                    group by monthandyear, sp
                    order by sp
            FOR XML PATH(''), TYPE
            ).value('.', 'NVARCHAR(MAX)') 
        ,1,1,'')

set @query = 'SELECT resource, clientname,' + @colNames + ' 
             from 
             (
                select [CLIENTNAME], [RESOURCE], [FORECASTTOTAL],
                   REPLACE(SUBSTRING(CONVERT(varchar(11), SCHEDULEDDATE, 13), 4, 8), '' '', '''') monthandyear
                from viewprojscheduling_group
            ) x
            pivot 
            (
                sum(FORECASTTOTAL)
                for monthandyear in (' + @cols + ')
            ) p '

execute(@query) 
```

请参阅[SQL Fiddle with Demo](http://www.sqlfiddle.com/#!3/87416/25)。此查询将为您提供结果：

```
| RESOURCE | CLIENTNAME | JAN2013 | FEB2013 | MAR2013 | APR2013 | MAY2013 |
---------------------------------------------------------------------------
|     res1 |        abc |    1000 |    2000 |       0 |       0 |       0 |
|     res1 |        def |       0 |       0 |    2000 |       0 |       0 |
|     res2 |        def |    1500 |       0 |       0 |       0 |       0 |
|     res3 |        ghi |       0 |       0 |    2500 |       0 |       0 | 
```

# php - PHP和CSS百分比栏不显示div

> ID：15150069
> 
> 赞同：1
> 
> 时间：2013-03-01T03:36:54.807
> 
> 标签：php, css

我做了一个百分比条（只是一个简单的想法）。我制定了一个 CSS 规则和一个简短的 PHP 代码块。由于某种原因，较大的条不会显示。但是，显示使用了多少空间的较小的那个。我在这里想念什么？

PHP：

```
$free = disk_free_space("F:");
$total = disk_total_space("F:");
$used = $total - $free;
$value = $used;
$max = $total;
$scale = 4.0;
if ( !empty($max) ) { $percent = ($value * 100) / $max; }
else { $percent = 0; }
if ( $percent > 100) { $percent = 100; } 
```

CSS：

```
.percentbar {
background-color: #CCC;
border: solid 2px #000;
height:16px;
}
.percentbar div {
background-color: #F90;
height: 16px;
} 
```

HTML：

```
<div class="percentbar" style="width:<?php echo round(100 * $scale); ?>px">
<div style="width:<?php echo round($percent * $scale); ?>px;">
</div>
</div> 
```

HTML 中的第一个 div 未显示，而辅助 div 正在显示。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T04:11:17.127

~~我不认为你的问题是css。~~ 如果您为两个 div 设置相同的宽度，您将不会看到其中一个。

所以你必须确定你在宽度上打印的 php 值。如果两个 div 相同或不正确，则第一个 div 可能显然没有显示

* * *

我刚才已经用你所说的完全相同的值对其进行了测试，并且效果很好。检查是否可以有另一个 css 覆盖这个

![百分比条](../Images/f132e4304feb6ed9bae0504232c3c6da.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T04:08:42.893

$percent 的值可能总是小于 100，因为 $value/$max 介于 0 和 1 之间，将其乘以 100 将始终小于 100。较小的条可能正好位于较大的条之上。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-01T05:04:15.410

```
<style>
    .percentbar {
    background-color: #CCC;
    border: solid 2px #000;
    height:16px;
    }
    .percentbar div {
    background-color: #F90;
    height: 16px;
    }
</style>
<html>
<?php

$free = disk_free_space("F:");
$total = disk_total_space("F:");
$used = $total - $free;
$value = $used;
$max = $total;
$scale = 4.0;
if ( !empty($max) ) { $percent = ($value * 100) / $max; }
else { $percent = 0; }
if ( $percent > 100) { $percent = 100; }
?>

<div class="percentbar" style="width:<?php echo round(100 * $scale); ?>px">
<div style="width:<?php echo round($percent * $scale); ?>px;">
</div>
</div>

</html> 
```

这个显示：

![在此处输入图像描述](../Images/8af3099c0f28c3f768a525e92b0b4834.png)

可能是您将 php 代码放在 percentbar div 下，这就是它不显示灰色条的原因：

```
<style>
    .percentbar {
    background-color: #CCC;
    border: solid 2px #000;
    height:16px;
    }
    .percentbar div {
    background-color: #F90;
    height: 16px;
    }
</style>
<html>

<div class="percentbar" style="width:<?php echo round(100 * $scale); ?>px">
<div style="width:<?php echo round($percent * $scale); ?>px;">
</div>
</div>
<?php

$free = disk_free_space("F:");
$total = disk_total_space("F:");
$used = $total - $free;
$value = $used;
$max = $total;
$scale = 4.0;
if ( !empty($max) ) { $percent = ($value * 100) / $max; }
else { $percent = 0; }
if ( $percent > 100) { $percent = 100; }
?>
</html> 
```

# java - Java中ArrayList和LinkedList的区别——性能的原因

> ID：15150079
> 
> 赞同：6
> 
> 时间：2013-03-01T03:37:46.057
> 
> 标签：java, performance, collections, arraylist, linked-list

我以为我在理论上非常了解 ArrayList 和 LinkedList 之间的区别。然而，这是第一次，我对它进行了一点测试，测试出来了，与我的预期大相径庭。

期望 ：

1.  Arraylist 在开头插入时会比 LinkedList 慢，因为它必须“移动”元素，对于linkedlist，它只是更新2个引用。

    现实：在大多数迭代中都是相同的。对于选择的几次迭代，它比较慢。

2.  Arraylist 在开始删除时会比 LinkedList 慢，因为它必须“移动”元素，对于 Linkedlist，它只是使一个元素无效。

    现实：从乞求中删除时性能相同。

测试用例：1,000,000 个元素

```
public static void main(String[] args) {
    int n = 1000000;

    List arrayList = new ArrayList(n+10);
    long milis = System.currentTimeMillis();
    for(int i= 0 ;i<n;i++){
        arrayList.add(i);
    }
    System.out.println("insert arraylist takes "+(System.currentTimeMillis()-milis)+" ms");

    List linkedList = new LinkedList();
    milis = System.currentTimeMillis();
    for(int i= 0 ;i<n;i++){
        linkedList.add(i);
    }
    System.out.println("insert linkedlist takes "+(System.currentTimeMillis()-milis)+" ms");

    //System.out.println("Adding at end");
    milis = System.currentTimeMillis();
    arrayList.add(n-5,n+1);
    System.out.println("APPEND arraylist takes "+(System.currentTimeMillis()-milis)+" ms");

    milis = System.currentTimeMillis();
    linkedList.add(n-5,n+1);
    System.out.println("APPEND linkedlist takes "+(System.currentTimeMillis()-milis)+" ms");

    //add at front
    milis = System.currentTimeMillis();
    arrayList.add(0,0);
    System.out.println("INSERT BEG arraylist takes "+(System.currentTimeMillis()-milis)+" ms");

    milis = System.currentTimeMillis();
    linkedList.add(0,0);
    System.out.println("INSERT BEG linkedlist takes "+(System.currentTimeMillis()-milis)+" ms");

    //add at middle
    milis = System.currentTimeMillis();
    arrayList.add(n/2,n/2);
    System.out.println("INSERT MIDDLE arraylist takes "+(System.currentTimeMillis()-milis)+" ms");

    milis = System.currentTimeMillis();
    linkedList.add(n/2,n/2);
    System.out.println("INSERT MIDDLE linkedlist takes "+(System.currentTimeMillis()-milis)+" ms");

    //get from front, mid, end
    milis = System.currentTimeMillis();
    arrayList.get(0);
    System.out.println("get front arraylist takes "+(System.currentTimeMillis()-milis)+" ms");

    milis = System.currentTimeMillis();
    linkedList.get(0);
    System.out.println("get front linkedlist takes "+(System.currentTimeMillis()-milis)+" ms");

    milis = System.currentTimeMillis();
    arrayList.get(n/2);
    System.out.println("get MIDDLE arraylist takes "+(System.currentTimeMillis()-milis)+" ms");

    milis = System.currentTimeMillis();
    linkedList.get(n/2);
    System.out.println("get MIDDLE linkedlist takes "+(System.currentTimeMillis()-milis)+" ms");

    milis = System.currentTimeMillis();
    arrayList.get(n-4);
    System.out.println("get last arraylist takes "+(System.currentTimeMillis()-milis)+" ms");

    milis = System.currentTimeMillis();
    linkedList.get(n-4);
    System.out.println("get last linkedlist takes "+(System.currentTimeMillis()-milis)+" ms");

    //delete from front, mid, end.
    milis = System.currentTimeMillis();
    arrayList.remove(0);
    System.out.println("del front arraylist takes "+(System.currentTimeMillis()-milis)+" ms");

    milis = System.currentTimeMillis();
    linkedList.remove(0);
    System.out.println("del front linkedlist takes "+(System.currentTimeMillis()-milis)+" ms");

    milis = System.currentTimeMillis();
    arrayList.remove(n/2);
    System.out.println("del mid arraylist takes "+(System.currentTimeMillis()-milis)+" ms");

    milis = System.currentTimeMillis();
    linkedList.remove(n/2);
    System.out.println("del mid linkedlist takes "+(System.currentTimeMillis()-milis)+" ms");

    milis = System.currentTimeMillis();
    arrayList.remove(n-4);
    System.out.println("del end arraylist takes "+(System.currentTimeMillis()-milis)+" ms");

    milis = System.currentTimeMillis();
    linkedList.remove(n-4);
    System.out.println("del end linkedlist takes "+(System.currentTimeMillis()-milis)+" ms");

} 
```

**输出日志**

```
insert arraylist takes 141 ms
insert linkedlist takes 312 ms
APPEND arraylist takes 0 ms
APPEND linkedlist takes 0 ms
INSERT BEG arraylist takes 0 ms
INSERT BEG linkedlist takes 0 ms
INSERT MIDDLE arraylist takes 0 ms
INSERT MIDDLE linkedlist takes 0 ms
get front arraylist takes 0 ms
get front linkedlist takes 0 ms
get MIDDLE arraylist takes 0 ms
get MIDDLE linkedlist takes 16 ms
get last arraylist takes 0 ms
get last linkedlist takes 0 ms
del front arraylist takes 0 ms
del front linkedlist takes 0 ms
del mid arraylist takes 0 ms
del mid linkedlist takes 15 ms
del end arraylist takes 0 ms
del end linkedlist takes 0 ms 
```

那么是什么原因呢？使用 JDK 1.6。

编辑：使用 System.nanotime() 后，它确实给了我预期的答案。同意，这只是一次试验，应该取平均值。

```
insert arraylist takes 137076082 ns
insert linkdlist takes 318985917 ns
APPEND arraylist takes 69751 ns
APPEND linkdlist takes 98126 ns
**INSERT BEG arraylist takes 2027764 ns
INSERT BEG linkdlist takes 53522 ns**
INSERT MIDDLE arraylist takes 1008253 ns
INSERT MIDDLE linkdlist takes 10395846 ns
get front arraylist takes 42364 ns
get front linkdlist takes 77473 ns
get MIDDLE arraylist takes 39499 ns
get MIDDLE linkdlist takes 9645996 ns
get last arraylist takes 46165 ns
get last linkdlist takes 43446 ns
**del front arraylist takes 1720329 ns
del front linkdlist takes 108063 ns**
del mid arraylist takes 1157398 ns
del mid linkdlist takes 11845077 ns
del end arraylist takes 54149 ns
del end linkdlist takes 49744 ns 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-01T03:53:06.750

你的前两个（奇怪的）测试号码的解释是：

插入 ArrayList 通常会比较慢，因为一旦达到它的边界，它就必须增长。它必须创建一个更大的新数组，并从原始数组中复制数据。

但是，当您创建一个*已经*足够大以适合所有插入的 ArrayList 时（这是您的情况，因为您正在这样做`new ArrayList(n+10)`） - 它显然不会涉及任何数组复制操作。添加到它会比使用 LinkedList 更快，因为 LinkedList 必须处理它的“链接”（指针），而巨大的 ArrayList 只是在给定的（最后一个）索引处设置值。

[此外，您的测试也不好，因为每次迭代都涉及自动装箱（从 int 转换为 Integer） - 它既需要额外的时间来做到这一点，也会因为整数缓存](https://stackoverflow.com/questions/2307904/autoboxing-vs-manual-boxing-java)在第一次通过时被填充而搞砸结果。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-01T03:43:21.897

`int n = 1000000;`太小。你得到`0 ms`并不意味着它不需要时间来完成插入或删除。这意味着经过的时间小于 1ms 。尝试增加`int n = 1000000;`. 那你就可以看出区别了。

编辑：我误读了你的代码。我以为您`n`在数组列表的前面插入元素。您绝对应该插入多个项目，而不是只插入一个。

另一个编辑：如果您插入`n`元素，则不需要提高`n`. 相反，您可能希望减少它，因为在 ArrayList 的前面插入是一个缓慢的操作。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-05-29T23:27:59.937

使用 ArrayList，中间操作的插入操作将是理论上 Big Oh 的两个步骤：

*   O(1) 找到位置并插入新值
*   O(n) 将剩余的值向前移动。

使用LinkedList，如果相关Node还不知道（从头节点循环），也是两步：

*   O(n) 找到该位置的节点
*   O(1) 插入新值

但是，除了预期的算法复杂性之外，还有其他几点可能会对实际运行时产生影响：

*   特定的语言实现可能会使特定过程的某些部分更快。在这种情况下，ArrayList 使用的 Java 的 arraycopy() 比复制每个值的 for 循环更快。这可能不适用于所有数组（大小、类型）——同样，这将是特定于实现的。

*   Big Oh 会忽略可能对某些数据集产生影响的常量。例如，冒泡排序是 O(n*n)，但可以检测 O(n) 中的预排序数组，并且对于几乎排序的数组非常快。

*   LinkedList 需要向虚拟机请求更多内存（创建 Node 对象）。需要更多内存来请求的进程有时会成为瓶颈的原因。

总结：提防理论假设并始终进行测量，最好使用真实世界的数据和操作:)。

# c++ - 算术中涉及指针函数的错误

> ID：15150093
> 
> 赞同：-2
> 
> 时间：2013-03-01T03:39:10.027
> 
> 标签：c++, pointers, pointer-arithmetic, postfix-notation

这是我的错误：

```
postfix.cpp: In function ‘int main()’:
postfix.cpp:32: warning: pointer to a function used in arithmetic
postfix.cpp:87: warning: pointer to a function used in arithmetic
postfix.cpp:93: warning: pointer to a function used in arithmetic
postfix.cpp:99: warning: pointer to a function used in arithmetic
postfix.cpp:140: error: expected ‘(’ before ‘{’ token
postfix.cpp:140: error: expected type-specifier before ‘{’ token
postfix.cpp:140: error: expected ‘)’ before ‘{’ token
postfix.cpp:146: error: redeclaration of ‘std::string input’
postfix.cpp:20: error: ‘std::string input’ previously declared here 
```

我想知道前 4 个错误是为了什么。我需要修复所有错误，但我主要关心前 4 个。

这是程序：

```
#include <iostream>
#include <stack>
#include <string>
#include <cstdlib>
using namespace std;

bool isOp(string s);
bool isDigit(int ch);

int main()
{
system("clear");

bool keepGoing = true;

cout << "@@@@@@@@@@@@@@@@ THE POSTFIX EVALUATOR @@@@@@@@@@@@@@@@" << endl;

while(keepGoing)
{
    string input;
    cout << "Your RPN Expression : ";
    getline(cin, input);

    try
    {
    stack<int> s;
    bool anySemicolon = false;

    for (int i = 0; i < input.size(); i++)
        if (input[i] == ' ')
            return 0;           
        else if(isOp[input[i]])
        {
            cout << "Token = " << input[i] << "\t";

            if(s.size() == 0)
                throw "Stack underflow exception.";
            int b = s.top();
            s.pop();
            cout << "Pop " << b << "\t";

            if(s.size() == 0)
                throw "Stack underflow exception.";
            int a = s.top();
            s.pop();
            cout << "Pop " << a << "\t";

            int res;

            switch(input[i])
            {
            case '+':
            res = a+b;
            break;

            case '-':
            res = a-b;
            break;

            case '*':
            res = a*b;
            break;

            case '/':
            if(b == 0)
            {
                cout << endl;
                throw "Division by zero exception.";
            }
            res = a/b;
            break;

            case '%':
            if(b == 0)
            {
                cout << endl;
                throw "Division by zero exception.";
            }
            res = a%b;
            break;
            }//End switch

        s.push(res);
        cout << "Push " << res << endl;
        }//End else if statement

        else if(isDigit[input[i]] || input[i] == '_')
        {
            bool negative = input[i] == '_';

            if(negative)
            {
                if(i == input.size()-1 || !isDigit[input[i+1]])
                    throw "You have entered an invalid expression.";
                    i++;
                }

                int value = 0;
                while(i < input.size() && isDigit[input[i]])
                {
                    value *= 10;
                    value += input[i]-'0';
                    i++;
                }
                i--;

                s.push(value);
                cout << "Token = " << s.top() << "\tPush " << s.top() << endl;
            }
            else if(input[i] == ';')
            {
                cout << "Token = ;\t";
                anySemicolon = true;
                i++;

                while(i < input.size() && (input[i] == ' ' || input[i] == '\t'))
                    i++;

                if(i < input.size())
                {
                    cout << endl;
                    throw "No more tokens after ; is expected.";
                }
            }
            else
            {
                throw "You have entered an invalid expression.";
            }

        if(!anySemicolon)
            throw "Semicolon expected.";
        if(s.size() == 0)
            throw "Stack underflow exception.";
        else if(s.size() != 1)
            throw "Stack overflow exception.";
        else
            cout << "Pop " << s.top() << endl;          
    }
    catch
    {
        cout << " Now Exiting." << endl;
        return 1;
    }

    cout << "Go Again? (Y/N) ";
    string input;
    getline(cin, input);
    if (input[0] != 'n' && input[0] != 'N')
        keepGoing = true;   
}//End while

return 0;
}// End Main

bool isOp(char s)
{
    return (s == ';' || s == '_' ||
            s == '+' || s == '-' || s == '*' || s == '/' ||
            s == '%' );
}

bool isDigit(int ch)
{
return ch >= '0' && ch <= '9';
} 
```

这只是试图采用后缀函数并对其进行评估。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T03:41:45.737

`else if(isOp[input[i]])`

`isOp`是一个函数，而不是一个数组。你需要`isOp(input.substr(i,1))`，或者你需要创建`isOp`一个布尔数组。

# php - 提交后保留由Javascript生成的输入值

> ID：15150094
> 
> 赞同：0
> 
> 时间：2013-03-01T03:39:10.073
> 
> 标签：php, jquery

`#yearPanel`在选择框`#before`更改后，我有此代码来附加输入面板。

```
$("#before").change(function() {
    var selected = $('#before option:selected').text();

    if(selected == bankShowYear) {
        $(yearPanel).insertAfter("#yearAnchor");
        var value = $("#yearHiden").val();
        $("#year").val(value);
    } else {
        $("#yearPanel").remove();
    }
}); 
```

我想在通过 PHP 提交后保留`#year`in的输入值。`#yearPanel`我试图在所有输入都呈现后将值存储`#yearHidden`并分配给它，`#year`但它不起作用。

如何保持输入值？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T03:41:23.670

您的输入需要一个 name 属性才能将其传递给您的服务器端 php 脚本

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-01T04:07:22.890

试试这个：

```
$("#before").change(function() {
    var selected = $('#before option:selected').text();

    if(selected == bankShowYear) {
        $(yearPanel).insertAfter("#yearAnchor");
        var value = $("#yearHiden").val();
        $("#year").val(value).attr('name', 'year');
    } else {
        $("#yearPanel").remove();
    }
}); 
```

然后，在您的下一页：

```
$("#year").value(<?php echo $_REQUEST['year']?>); 
```

或者

```
 <input id="year" value="<?php echo $_REQUEST['year']?>" /> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-01T03:42:30.250

您需要通过隐藏字段将值传递给 PHP，PHP 必须在下一页上呈现它。换句话说，值需要从客户端传递到服务器端，然后再返回客户端。

# antlr - 如何解决“以下备选方案永远无法匹配”

> ID：15150098
> 
> 赞同：2
> 
> 时间：2013-03-01T03:39:26.930
> 
> 标签：antlr, antlr3, antlrworks

几天来，我一直在努力解决解析器中的“多种选择”错误，但没有成功。我一直在使用 Sam Harwell 的 ANTLR3 和 VS2010 端口将 Bart Kiers 出色的 Tiny Language(TL) 教程代码转换为 C#。对这两个家伙的出色工作表示敬意。我相信我已经准确地遵循了 Bart 的教程，但由于我是 ANTLR 的新手，所以我不能确定。

我确实让 TL 代码在纯数学基础上运行良好，即没有“函数”或“if then else”或“while”（参见一个小应用程序的屏幕截图）

![基于 Bart Kiers 工作的简单数学解析器](../Images/4ecc7ed00be35258c43c42d3a07e7d05.png)

但是当我添加缺失部分的代码以完成教程时，我在“functionCall”和“list”中得到一个解析错误（见下面的代码）

```
grammar Paralex2;

options {
    language=CSharp3;
    TokenLabelType=CommonToken;
    output=AST;
    ASTLabelType=CommonTree;
}

tokens {
  BLOCK;
  RETURN;
  STATEMENTS;
  ASSIGNMENT;
  FUNC_CALL;
  EXP;
  EXP_LIST;
  ID_LIST;
  IF;
  TERNARY;
  U_SUB;
  NEGATE;
  FUNCTION;
  INDEXES;
  LIST;
  LOOKUP;
}

@lexer::namespace{Paralex2}
@parser::namespace{Paralex2}

/*
 * Parser Rules
 */

@parser::header {using System; using System.Collections.Generic;}

@parser::members{

public SortedList<string, Function> functions = new SortedList<string, Function>();

  private void defineFunction(string id, Object idList, Object block) {

    // `idList` is possibly null! Create an empty tree in that case. 
    CommonTree idListTree = idList == null ? new CommonTree() : (CommonTree)idList;

    // `block` is never null.
    CommonTree blockTree = (CommonTree)block;

    // The function name with the number of parameters after it the unique key
    string key = id + idListTree.Children.Count();
    functions.Add(key, new Function(id, idListTree, blockTree));
  }

}

public parse
  :  block EOF -> block
  ;

block
  :  (statement | functionDecl)* (Return exp ';')?  -> ^(BLOCK ^(STATEMENTS statement*) ^(RETURN exp?))
  ;

statement
  :  assignment ';'   -> assignment
  |  functionCall ';' -> functionCall
  |  ifStatement
  |  forStatement
  |  whileStatement
  ;

assignment
  :  Identifier indexes? '=' exp 
     -> ^(ASSIGNMENT Identifier indexes? exp)
  ;

functionCall
  :  Identifier '(' expList? ')' -> ^(FUNC_CALL Identifier expList?)
  |  Assert '(' exp ')'    -> ^(FUNC_CALL Assert exp)
  |  Size '(' exp ')'      -> ^(FUNC_CALL Size exp)
  ;

ifStatement
  :  ifStat elseIfStat* elseStat? End -> ^(IF ifStat elseIfStat* elseStat?)
  ;

ifStat
  :  If exp Do block -> ^(EXP exp block)
  ;

elseIfStat
  :  Else If exp Do block -> ^(EXP exp block)
  ;

elseStat
  :  Else Do block -> ^(EXP block)
  ;

functionDecl
  :  Def Identifier '(' idList? ')' block End 
     {defineFunction($Identifier.text, $idList.tree, $block.tree);}
  ;

forStatement
  :  For Identifier '=' exp To exp Do block End 
     -> ^(For Identifier exp exp block)
  ;

whileStatement
  :  While exp Do block End -> ^(While exp block)
  ;

idList
  :  Identifier (',' Identifier)* -> ^(ID_LIST Identifier+)
  ;

expList
  :  exp (',' exp)* -> ^(EXP_LIST exp+)
  ;

exp 
  :  condExp  
  ;  

condExp  
  :  (orExp -> orExp)   
  |  ( '?' a=exp ':' b=exp -> ^(TERNARY orExp $a $b)
  |  In exp         -> ^(In orExp exp)
  )?  
  ;  

orExp  
  :  andExp ('||'^ andExp)*  
  ;  

andExp  
  :  equExp ('&&'^ equExp)*  
  ;  

equExp  
  :  relExp (('==' | '!=')^ relExp)*  
  ;  

relExp  
  :  addExp (('>=' | '<=' | '>' | '<')^ addExp)*  
  ;

addExp
  :  mulExp ((Add | Sub)^ mulExp)*
  ;

mulExp
  :  powExp ((Mul | Div)^ powExp)*
  ;

powExp  
  :  unaryExp ('^'^ unaryExp)*  
  ;

unaryExp
  :  Sub atom -> ^(U_SUB atom)
  | '!' atom -> ^(NEGATE atom)
  |  atom
  ;

atom
  :  Nmber
  |  Bool
  |  Null
  |  lookup
  ;

list
  :  '[' expList? ']' -> ^(LIST expList?)
  ;

lookup
  :  list indexes?              -> ^(LOOKUP list indexes?)
  |  functionCall indexes?      -> ^(LOOKUP functionCall indexes?)
  |  Identifier indexes?        -> ^(LOOKUP Identifier indexes?)
  |  String indexes?            -> ^(LOOKUP String indexes?)
  |  '(' exp ')' indexes?       -> ^(LOOKUP exp indexes?)
  ;

indexes
  :  ('[' exp ']')+ -> ^(INDEXES exp+)
  ;

/*
 * Lexer Rules
 */

Assert      : 'assert';
Size        : 'size';
Def         : 'def';
If          : 'if';
Else        : 'else';
Return      : 'return';
For         : 'for';
While       : 'while';
To          : 'to';
Do          : 'do';
End         : 'end';
In          : 'in';
Null        : 'null';

Or          : '||';  
And         : '&&';  
Equals      : '==';  
NEquals     : '!=';  
GTEquals    : '>=';  
LTEquals    : '<=';  
Pow         : '^';  
GT          : '>';  
LT          : '<';
Add         : '+';
Sub         : '-';
Mul         : '*';
Div         : '/';
Modulus     : '%';
OBrace      : '{';
CBrace      : '}';
OBracket    : '[';
CBracket    : ']';
OParen      : '(';
CParen      : ')';
SColon      : ';';
Assign      : '=';
Comma       : ',';
QMark       : '?';
Colon       : ':';

Bool
    :   'true'
    |   'false'
    ;

Nmber
    : Int ('.' Digit*)?
    ;

Identifier
  :  ('a'..'z' | 'A'..'Z' | '_') ('a'..'z' | 'A'..'Z' | '_' | Digit)*
  ;

String
@after {
  setText(getText().substring(1, getText().length()-1).replaceAll("\\\\(.)", "$1"));
}
  :  '"'  (~('"' | '\\')  | '\\' ('\\' | '"'))* '"' 
  |  '\'' (~('\'' | '\\') | '\\' ('\\' | '\''))* '\''
  ;

Comment
  :  '//' ~('\r' | '\n')* {Skip();}
  |  '/*' .* '*/'         {Skip();}
  ;

 Space
  :  (' ' | '\t' | '\r' | '\n' | '\u000C') {Skip();}
  ;

fragment Int  
  :  '1'..'9' Digit*  
  |  '0'  
  ;  

fragment Digit   
  :  '0'..'9'  
  ; 
```

我收到的错误消息是

决策可以使用多种选择匹配诸如“CParen”之类的输入：1、2：第 79:20 行

和

决策可以使用多种选择匹配诸如“CBracket”之类的输入：1、2：第 176:10 行

这些错误与 functionCall 和 list 规则有关。我检查了 ANTLRWorks 1.5 中的解析器文件，并在那里确认了相同的错误。两条规则的语法图如下所示；

![functionCall 规则显示解析错误](../Images/36114ce6e4ba27c2b92a43cbf606ee48.png)

还有这个;

![显示解析错误的列表规则](../Images/0e741adfd9030e2a3a74d44790861a75.png)

我尝试了一些更改来尝试解决问题，但我似乎无法正确使用语法。我将不胜感激你们可以提供的任何帮助，如果有帮助，可以通过电子邮件发送图像。

在此先感谢伊恩·卡森

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-01T08:59:29.573

规则中有太多的 OR 运算符，`condExp`使语法模棱两可。

你有：

```
condExp  
  :  ( orExp               -> orExp)   
  |  ( '?' a=exp ':' b=exp -> ^(TERNARY orExp $a $b)
     |  In exp             -> ^(In orExp exp)
     )?  
  ; 
```

对应于：

![在此处输入图像描述](../Images/f81596cac866e4bd873d654dfe5e0324.png)

但它应该是：

```
condExp  
  :  ( orExp               -> orExp)
     ( '?' a=exp ':' b=exp -> ^(TERNARY orExp $a $b)
     |  In exp             -> ^(In orExp exp)
     )?  
  ; 
```

对应于：

![在此处输入图像描述](../Images/a37df6a02ea8432053e36bbc9976f1d4.png)

# database - 数据库如何实现跳过？

> ID：15150106
> 
> 赞同：2
> 
> 时间：2013-03-01T03:40:01.410
> 
> 标签：database, algorithm, b-tree

我正在编写自己的小型数据库引擎。除了检查 B+tree 的每个叶节点之外，是否有任何有效的方法来实现跳过功能，这对于大条目来说会很慢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T04:51:26.480

如果您使用 B+tree 作为索引，则所有值都存储在叶子中，因此可以链接在一起以形成（有序）链表，或者更确切地说是[展开的链表](http://en.wikipedia.org/wiki/Unrolled_linked_list)。这是 B+ 树相对于普通 B 树的主要优势。

也就是说，即使展开列表允许您执行某种形式的跳过，也没有什么能阻止您在记录上实现[跳过列表](http://en.wikipedia.org/wiki/Skip_list)，并将这些列表的节点用作您的 btree 值。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-02-17T17:58:59.167

2年后，但无论如何。你也可以用 Cassandra 的方式来做。没有限制，但您指定上一个查询的最后一个键，例如

select * from abc where key > 123 limit 100

其中 123 是上一个查询的最后一个键

# .net - 网站和数据库部署

> ID：15150111
> 
> 赞同：1
> 
> 时间：2013-03-01T03:40:25.650
> 
> 标签：.net, sql, iis, deployment

我已经开始了一个由网站和数据库组成的开源项目。

我正想提供第一个版本，但想让人们更容易安装解决方案。我用过 umbraco，我认为那里的工具非常好，想要这样的东西，但我不知道从哪里开始。

因此，我的问题是创建供普通人（非计算机类型）使用的部署工具的最佳方法是什么？

谢谢。

# jboss - jboss as 7 + jersey - ClassNotFound com.sun.jersey.server.impl.container.servlet.Include

> ID：15150115
> 
> 赞同：3
> 
> 时间：2013-03-01T03:40:54.497
> 
> 标签：jboss, jersey, maven-3, jboss7.x

我将 jboss 上的项目作为 7 从 jersey 版本 1.9 迁移到 1.17，我得到以下异常：

```
12:05:48,573 WARN  [org.jboss.as.ee] (MSC service thread 1-10) JBAS011006: Not installing optional component com.sun.jersey.server.impl.container.servlet.Include due to except
ion: java.lang.ClassNotFoundException: com.sun.jersey.server.impl.container.servlet.Include from [Module "deployment.ApiEar-2.0.0-SNAPSHOT.ear.ApiService-2.0.0-SNAPSHOT.war:ma
in" from Service Module Loader]
        at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:190)
        at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:468)
        at org.jboss.modules.ConcurrentClassLoader.performLoadClassChecked(ConcurrentClassLoader.java:456)
        at org.jboss.modules.ConcurrentClassLoader.performLoadClassChecked(ConcurrentClassLoader.java:423)
        at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:398)
        at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:120)
        at java.lang.Class.forName0(Native Method) [rt.jar:1.6.0_32-ea]
        at java.lang.Class.forName(Class.java:247) [rt.jar:1.6.0_32-ea]
        at org.jboss.as.server.deployment.reflect.DeploymentClassIndex.classIndex(DeploymentClassIndex.java:54)
        at org.jboss.as.ee.component.deployers.EEModuleConfigurationProcessor.deploy(EEModuleConfigurationProcessor.java:81) [jboss-as-ee-7.1.2.Final-redhat-1.jar:7.1.2.Final-
redhat-1]
        at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:116)
        at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1811)
        at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1746)
        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) [rt.jar:1.6.0_32-ea]
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) [rt.jar:1.6.0_32-ea]
        at java.lang.Thread.run(Thread.java:662) [rt.jar:1.6.0_32-ea] 
```

代码在 1.9 下运行良好。这是我的依赖项：

```
<dependency>
    <groupId>com.sun.jersey</groupId>
    <artifactId>jersey-core</artifactId>
    <version>1.9.1</version>
</dependency>
<dependency>
    <groupId>com.sun.jersey</groupId>
    <artifactId>jersey-client</artifactId>
    <version>1.9.1</version>
</dependency> 
```

什么可能导致这样的异常？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-01T03:49:43.823

我认为您的问题与泽西岛从 1.9 版到 1.10 版发生了相当大的变化有关；即 Servlet 功能发生了很大变化。您可以在此处阅读更多信息：[Jersey 1.10 已发布](https://blogs.oracle.com/japod/entry/jersey_1_10_is_released) 就您的问题而言，我认为您只是缺少一些依赖项。我知道我必须将以下内容添加到我的 .pom 文件中：

```
 <!-- Jersey 1.17 dependencies -->
        <dependency>
            <groupId>com.sun.jersey</groupId>
            <artifactId>jersey-servlet</artifactId>
            <version>${jersey-version}</version>
            <scope>compile</scope>
        </dependency>
        <dependency>
            <groupId>javax.persistence</groupId>
            <artifactId>persistence-api</artifactId>
            <version>1.0.2</version>
            <scope>compile</scope>
        </dependency>
        <!-- end Jersey 1.17 dependencies --> 
```

# c - 直接或通过 C/Clang 转换为 LLVM IR

> ID：15150116
> 
> 赞同：3
> 
> 时间：2013-03-01T03:41:04.410
> 
> 标签：c, llvm, clang, frontend

假设有人想使用 LLVM 静态编译给定语言，最大的区别（优点和缺点）是先将其翻译成 C 然后使用 CLang 而不是处理直接的 IR 翻译。

我想显而易见的答案是，通过使用了解源语言的前端，与期望 CLang 在生成的 C 中表现良好相比，更容易提出优化的 IR 表示。

我在这里遗漏了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T09:25:17.337

使用通用 C 后端的优点：

*   您可以使用任何 C 编译器（不仅仅是 Clang）
*   如果使用如此高级的语言，则更容易调试中间代码
*   根据您的源语言语义，通过 C 翻译它可能更容易（但不一定）

缺点是：

*   如果您的语言是增量编译的（例如，没有明确分离的模块，或复杂的宏系统，或其他任何东西），通过 LLVM IR 在单个模块中进行编译并立即进行 JIT 编译比生成数百个微小的 C 模块更有意义。换句话说，C 正在强制执行单独的编译。
*   如果您的源语言语义与 C 相差太远，直接将其编译到较低级别会更容易。
*   并非所有 LLVM 功能都可以从 CEg、内在函数、替代调用约定、高级语言的调试元数据直接访问。
*   Clang 很大，排除它会改善你的内存占用
*   Clang 不容易维护，它依赖于头文件的存在和确切位置，依赖于`gcc`.

在大多数情况下，优化不是问题。Clang 故意生成一个极其非最优的 LLVM IR。LLVM 应该关注所有优化，而不是前端。当然，除非您可以进行一些高级别的优化，但它们不会取决于您的后端选择。

# java - JMS 和 AMQP - RabbitMQ

> ID：15150133
> 
> 赞同：150
> 
> 时间：2013-03-01T03:43:29.123
> 
> 标签：java, jms, rabbitmq, message-queue, amqp

我试图了解什么 JMS 以及它如何连接到 AMQP 术语。我知道 JMS 是一种 API，而 AMQP 是一种协议。

这是我的假设（以及问题）

*   RabbitMQ 使用 AMQP 协议（​​而是实现了 AMQP 协议）
*   Java客户端需要使用AMQP协议客户端库连接/使用RabbitMQ
*   JMS API 在哪里发挥作用？JMS API 应该使用 AMQP 客户端库连接到 RabbitMQ？
*   通常我们使用 JMS 来连接 RabbitMQ、ActiveMQ 等消息代理。那么这里使用的默认协议是什么而不是 AMQP？

上面的一些可能是愚蠢的。:-) 但试图绕开它。

* * *

## 回答 #1

> 赞同：127
> 
> 时间：2013-03-01T04:33:26.940

你的问题有点乱，但让我们一一看看。

一般概念：

Java 消息服务**(JMS) API 是一种 Java 面向消息的中间件 (MOM) API，用于在两个或多个客户端之间发送消息**。JMS 是 Java Platform, Enterprise Edition 的一部分，由 Java Community Process 下开发的规范定义为 JSR 914。**它是一种消息传递标准，允许基于 Java Enterprise Edition (Java EE) 的应用程序组件创建、发送、接收和阅读消息。它允许分布式应用程序的不同组件之间的通信是松散耦合、可靠和异步**的。

*现在*（来自[维基百科](https://en.wikipedia.org/wiki/Advanced_Message_Queuing_Protocol)）：

> **高级消息队列协议 (AMQP)**是面向消息中间件的开放标准应用层协议。AMQP 的定义特性是消息导向、队列、路由（包括点对点和发布订阅）、可靠性和安全性。

最重要的事情（再次来自维基百科）：

> 与仅定义 API 的 JMS 不同，AMQP 是一种线级协议。线路级协议是对作为八位字节流通过网络发送的数据格式的描述。因此，任何可以创建和解释符合此数据格式的消息的工具都可以与任何其他兼容工具互操作，而与实现语言无关

您应该知道的一些重要事项：

1.  请记住，AMQP 是一种不实现 JMS API 的消息传递技术。
2.  JMS是API，AMQP是协议。所以说什么是JMS的默认协议是没有意义的，当然客户端应用程序在调用WebLogic Web Service时使用HTTP/S作为连接协议。
3.  JMS 只是一个 API 规范。它不使用任何协议。JMS 提供者（如 ActiveMQ）可以使用任何底层协议来实现 JMS API。例如：Apache ActiveMQ 可以使用以下任何协议：AMQP、MQTT、OpenWire、REST(HTTP)、RSS 和 Atom、Stomp、WSIF、WS Notification、XMPP。我建议您阅读[使用 JMS 传输作为连接协议](http://docs.oracle.com/cd/E13222_01/wls/docs103/webserv_adv_rpc/jmstransport.html#wp244314)。

祝你好运 ：）

* * *

## 回答 #2

> 赞同：49
> 
> 时间：2014-10-16T19:10:25.377

让我们从基础开始。

**RabbitMQ** *是一个 MOM*（面向消息的中间件），使用 Erlang（一种面向 TLC 的编程语言）开发并**实现了有线协议 AMQP**（高级消息队列协议）。目前，许多客户端 API（例如，Java、C++、RESTful 等）可用于启用 RabbitMQ 消息传递服务。

**JMS**（Java 消息服务）是一个 JCP 标准，它定义了一组由 MOM 实现**的结构化 API 。**实现（即兼容）JMS API 的 MOM 的一个示例是 ActiveMQ；还有 HornetMQ 等。此类中间件获取 JMS API 并相应地实现交换模式。

根据上述，以 JMS API 的框架、RabbitMQ 的一个实例及其 Java 客户端 API 为例，可以使用 RabbitMQ 开发 JMS 实现：此时唯一要做的就是实现根据 JMS 规范交换模式（通过 RabbitMQ）。

关键是：*无论采用何种技术*（在本例中为 RabbitMQ），都可以实现一组 API，例如 JMS。

* * *

## 回答 #3

> 赞同：16
> 
> 时间：2013-03-01T05:48:19.807

JMS 在定义时没有定义 JMS 客户端和消息传递服务器之间的协议。实现 JMS API 的 JMS 客户端可以使用任何协议与消息传递服务器进行通信。客户端只需要兼容 JMS api。就这样。通常，JMS 客户端使用其消息传递服务器可以理解的自定义协议。

另一方面，AMQP 是消息传递客户端和消息传递服务器之间的协议。JMS 客户端可以使用 AMQP 作为与消息传递服务器通信的协议。并且有这样的客户可用。

[http://www.lshift.net/blog/2009/03/16/openamqs-jms-client-with-rabbitmq-server](http://www.lshift.net/blog/2009/03/16/openamqs-jms-client-with-rabbitmq-server)

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2017-06-07T10:06:38.967

*   JMS API 在哪里发挥作用？JMS API 应该使用 AMQP 客户端库连接到 RabbitMQ？

JMS 是一种 API，因此一些 JMS API 是通过 AMQP 协议（​​如[Apache QPID JMS](https://qpid.apache.org/components/jms/index.html)）实现的，而大多数 JMS API 使用其他协议。如果 AMQP 协议的版本相同，那么这样的客户端应该能够与另一个 AMQP 客户端通信。

*   通常我们使用 JMS 来连接 RabbitMQ、ActiveMQ 等消息代理。那么这里使用的默认协议是什么而不是 AMQP？

这取决于您对该 JMS API 的配置。对于 ActiveMQ，它可以是[AMQP](http://activemq.apache.org/amqp.html)，但默认情况下它是“openwire”

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2022-01-18T14:06:13.777

## 什么是 JMS？

JMS 是一种 Java 标准，它定义了用于处理消息代理的通用 API。

## 为什么我们需要 JMS？

1.  **它于*2001***年推出，并在很长一段时间内被用于异步消息传递。

2.  **在 JMS 之前，过去发生的情况是每个消息代理都有一个专有 API，这使得应用程序的消息传递代码在代理之间的可移植性降低**。

3.  使用 JMS，所有兼容的实现都可以通过一个通用接口进行处理。因此，如果您将代理说“ *Apache Active MQ* ”更改为“ *Apache ActiveMQ Artemis* ”，您不必担心可移植性问题，因为 JMS 接口可确保您的代码可移植性。

## JMS 的缺点？

1.  JMS 在 2001 年被定义时并没有在 JMS 客户端和 JMS 消息传递服务器之间强制执行任何协议。JMS 客户端可以使用任何协议进行通信，并且客户端需要确保协议与 JMS API 兼容。
2.  JMS 仅限于 Java 应用程序。

* * *

## 什么是 AMQP？

1.  AMQP（高级消息队列协议）是一种用于传递消息的开放标准应用层协议。
2.  **AMQP 0.9.1 于 2008 年 11 月发布。**
3.  AMQP 提供了如何构造消息的描述。与 JMS 不同，它不提供有关如何发送消息的 API。

## 为什么选择 AMQP？

1.  AMQP 只是消息传递客户端和消息传递服务器之间的协议。因此，即使是 JMS 客户端也可以使用 AMQP 作为协议与消息传递服务器进行通信。

2.  AMQP 是一种跨越所有平台的消息传递协议。使用哪个 AMQP 客户端无关紧要，只要是 AMQP 投诉，就会成立。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2022-01-24T19:14:11.350

JMS 是来自 Sun - Oracle 的 API。
有实现此 API 的驱动程序。对于每种语言和每种消息传递系统，将至少有一个驱动程序。例如，对于 Java + RabbitMQ -> 驱动程序，对于 Java + ActiveMq，对于 C# + RabbitMQ，Go + IBM MQ 等
。AMQP 是一种线级协议，很像 MQTT 或 STOMP 或 Openwire。它不是 API。这带来了两个新的东西：-

1.  消息系统可能需要一个插件来支持线级协议，例如 ActiveMQ STOMP 插件等。

2.  Driver needs to support the wire level protocol by converting standard JMS API calls to STOMP, aMQP etc calls.
    Finally, thus you can have one driver per -> messaging system + API + wire level protocol
    Java code -> API -> Driver -> wire level protocol -> plugin -> Messaging system

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2017-08-09T15:28:48.153

[https://spring.io/understanding/AMQP](https://spring.io/understanding/AMQP)

> AMQP（高级消息队列协议）是一个公开发布的异步消息传输规范。指定传输数据的每个字节。此特性允许库以多种语言编写，并在多个操作系统和 CPU 架构上运行，从而形成真正可互操作的跨平台消息传递标准。
> 
> AMQP 经常与 Java 社区中最常见的消息传递系统 JMS（Java 消息服务）进行比较。JMS 的一个限制是指定了 API，但没有指定消息格式。与 AMQP 不同，JMS 对消息的形成和传输方式没有要求。本质上，每个 JMS 代理都可以以不同的格式实现消息。他们只需要使用相同的 API。

* * *

## 回答 #8

> 赞同：-1
> 
> 时间：2014-04-16T14:25:21.373

我怀疑您可能正在寻找[此文档](http://pubs.vmware.com/vfabricRabbitMQ32/index.jsp?topic=/com.vmware.vfabric.rabbitmq.3.2/jms-client/about.html)，其中部分内容是：

> vFabric RabbitMQ 的 JMS 客户端是 vFabric RabbitMQ 的客户端库。vFabric RabbitMQ 不是 JMS 提供程序，但具有支持 JMS 队列和主题消息传递模型所需的功能。RabbitMQ 的 JMS 客户端在 RabbitMQ Java 客户端 API 之上实现了 JMS 1.1 规范，从而允许新的和现有的 JMS 应用程序通过高级消息队列协议 (AMQP) 与 RabbitMQ 代理连接。

# html - iframe 上的边框？不在 Chrome 中

> ID：15150134
> 
> 赞同：3
> 
> 时间：2013-03-01T03:43:30.880
> 
> 标签：html, css, google-chrome, iframe, border

如果您希望 iframe 周围有一个 1px 宽的黑色边框，您可以应用相同的规则，就像您希望其他任何东西周围有边框一样，这似乎是合乎逻辑的。但是这段代码不起作用：

```
#myiframe{
    border:1px solid black;
} 
```

边框位于 iframe 的左侧和顶部，有时（出乎意料地）在它的底部，但从不在它的右侧。为什么它不只是在 iframe 周围一致地应用它？

我只在谷歌浏览器中有这个问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T04:59:17.553

尝试添加这个..

```
appearance:none;
-moz-appearance:none;
-webkit-appearance:none;
outline:none; 
```

`outline:none`并将`appearance:none`删除默认浏览器外观。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T05:12:49.770

正如对该问题的评论所指出的，我使用的是过时的 Chrome 版本。在最新的稳定版本上，没有错误。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-01T06:18:06.467

尝试包装一个`DIV`

html

```
<div class="wrapper">

  <myiframe>

</div> 
```

css

```
.wrapper {
float:left;
border:1px solid #000;

} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-05-12T04:15:01.790

通过使用属性 frameBorder，我们可以在 iFrame 周围获得唯一的边框。所以试试`<iframe src="" frameBorder="1"/>`

# java - Spring + RMI 如何限制从客户端到服务器的并发连接

> ID：15150139
> 
> 赞同：0
> 
> 时间：2013-03-01T03:43:53.980
> 
> 标签：java, spring, concurrency, spring-security

嗨，我在使用 Spring 框架的 Java 项目上工作，并使用 Spring RMI 实现客户端-服务器端，无论如何限制并发客户端调用服务器？我尝试谷歌，发现spring提供安全容器包，可以限制每个经过身份验证的用户的并发数量，我不认为这是我要找的

这是spring网站中提供的服务器端配置我想知道我是否可以配置它来限制并发连接？

```
<bean id="checkingAccountService"
    class="org.springframework.jms.remoting.JmsInvokerServiceExporter">
  <property name="serviceInterface" value="com.foo.CheckingAccountService"/>
  <property name="service">
     <bean class="com.foo.SimpleCheckingAccountService"/>
  </property>
</bean> 
```

谢谢你的回复

# asp.net - 如何将响应写入缓冲区而不是在屏幕上呈现？

> ID：15150141
> 
> 赞同：0
> 
> 时间：2013-03-01T03:44:04.430
> 
> 标签：asp.net, httprequest, httpresponse

我正在开发应用程序，我需要在自动提供凭据后从网页中捕获信息。我如何设法做到自动登录和页面重定向。这是我的代码：

```
HttpWebRequest req = (HttpWebRequest)WebRequest.Create("https://abcd.com.au/categories/A_dfn/sdf");
    HttpWebResponse res = req.GetResponse() as HttpWebResponse;

    StringBuilder sb = new StringBuilder();
    byte[] buf = new byte[10000];
    Stream resStream = res.GetResponseStream();
    string s = null;
    int c = 0;
    do
    {
        c = resStream.Read(buf, 0, buf.Length);
        if (c != 0) {
            s = ASCIIEncoding.ASCII.GetString(buf, 0, c);
            sb.Append(s);
        }
    } while (c > 0);
    string oldhead = "class=\"login_button\">";
    string newhead = "class=\"login_button\">   <script type=\"text/javascript\">document.getElementById('btn').click()</script>";
    sb.Replace(oldhead, newhead);

    string oldbtn = "value=\"Submit\"";
    string newbtn = "value=\"Submit\" id=\"btn\" ";
    sb.Replace(oldbtn, newbtn);

    string oldAction = "<form action=\"/login\" method=\"post\">";
    string newAction = "<form action=\"https://abcd.com.au/login?orig_req_url=%2Fcategories/A_dfn/sdf\" method=\"post\">";
    sb.Replace(oldAction, newAction);

    string oldUsername = "<input id=\"login_email\" type=\"text\" name=\"user[email_address]\" class=\"textBox\" value=\"\">";
    string newUserName = "<input id=\"login_email\" type=\"text\" name=\"user[email_address]\" class=\"textBox\" value=\"abc@xyz.com.au\">";
    sb.Replace(oldUsername, newUserName);

    string oldPass = "<input id=\"login_password\" type=\"password\" name=\"user[password]\" class=\"textBox\" value=\"\">";
    string newPass = "<input id=\"login_password\" type=\"password\" name=\"user[password]\" class=\"textBox\" value=\"abc\">";
    sb.Replace(oldPass,newPass);
    Response.Write(sb); 
```

这是通过渲染页面（Response.write（sb））向我展示我想要的预期输出。但是，现在我想做同样的事情而不重定向到“ [https://abcd.com.au/login?orig_req_url=%2Fcategories/A_dfn/sdf](https://abcd.com.au/login?orig_req_url=%2Fcategories/A_dfn/sdf) ”，并且想做更多的事情。我希望在某个缓冲区中获得 Response.Write(sb) 的输出。有可能吗？

这是示例，它准确地解释了我想要做什么。我正在寻找产品的数量说名称：螺丝 15mm，这位于页面[https://abcd.com.au/%2Fcategories/A_dfn/sdf](https://abcd.com.au/%2Fcategories/A_dfn/sdf)中。所以，我首先请求这个 url，但是由于需要登录才能访问该页面，它会将我重定向到登录页面，填写用户名和密码，使用 javascript 按下登录按钮，然后重定向到最初请求的页面。在这个页面上，我想找到该产品，并将信息返回到我的网络应用程序。

所有这一切我都想做而不向用户展示。我只想显示检索到的信息。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T04:08:13.010

您正在寻找的是一个持久会话。您对这个问题的处理方法是不正确的。您正在客户端触发提交。您要实现的目标应该在服务器端完成。

您的方案的关键是持久（存储）登录页面设置的会话和cookie；然后在您下一次请求产品信息之前，将凭证注入请求的 webRequest。

1.  使用 WebRequest 对象加载登录页面。
2.  存储登录页面响应标头发送的任何信息（cookie）。
3.  使用提供的响应标头创建一个新的 WebRequest 对象，注入用户 ID/密码。
4.  存储响应返回的任何凭据。
5.  继续请求报价信息。

在不知道您尝试从哪个网站截屏的情况下，没有通用的方法可以做到这一点。但一般步骤如上。基本上，您需要为此创建一个自定义类。

此外，您需要**HTMLAgilityPack**来解析 HTML 节点。这是正确的方法。

* * *

**编辑**：添加了我的代码。碰巧我之前创建了这个类。所以，你很幸运。但是，您需要安装并引用 HTMLAgilityPack 才能使用它。您可以在以下网址下载 HAP：[http](http://htmlagilitypack.codeplex.com/) ://htmlagilitypack.codeplex.com/ 如果您想做任何严重的屏幕抓取，HAP 是事实上的标准。

```
Public Class clsBrowserSession
    '=================================================================================================================================
    'This is a special Browser Post class
    ' Instead of just POST to a URL as per the clsWeb.fnsPostResponse()
    ' clsBrowserSession allows us to LOAD a page first, persist all the cookies and variables, and then only POST to the target URL.
    ' The reason is that some program will drop (lets say) a SessionID as an input when you first load the page.
    ' and when you post, without the SessionID (variable), it will reject the POST. Thus clsBrowserSession can solve this problem.
    '=================================================================================================================================
    ' USAGE:
    '   Dim voBrowserSession As New clsBrowserSession
    '   voBrowserSession.sbLoadPage("https://xxx.yyy.net.my/publicncdenq/index.htm")
    '   voBrowserSession.proFormElements("UserID") = "myID"
    '   voBrowserSession.proFormElements("Password") = "myPassword"
    '   Dim vsResponseHTML As String = voBrowserSession.Post("https://xxx.yyy.net.my/publicncdenq/index.htm")
    Private vbIsPostingInProgress As Boolean
    Public voCookies As System.Net.CookieCollection
    Public proHTMLDoc As HtmlAgilityPack.HtmlDocument
    Public proFormElements As clsFormElementCollection

    Public Sub sbLoadPage(pvsURL As String)
        vbIsPostingInProgress = False
        fnoCreateWebRequestObject().Load(pvsURL)
    End Sub
    Public Function Post(pvsURL As String) As String
        vbIsPostingInProgress = True
        fnoCreateWebRequestObject().Load(pvsURL, "POST")

        Return proHTMLDoc.DocumentNode.InnerHtml
    End Function

    Private Function fnoCreateWebRequestObject() As HtmlAgilityPack.HtmlWeb
        Dim voWeb As New HtmlAgilityPack.HtmlWeb
        voWeb.UseCookies = True
        voWeb.PreRequest = New HtmlAgilityPack.HtmlWeb.PreRequestHandler(AddressOf event_OnPreRequest)
        voWeb.PostResponse = New HtmlAgilityPack.HtmlWeb.PostResponseHandler(AddressOf event_OnAfterResponse)
        voWeb.PreHandleDocument = New HtmlAgilityPack.HtmlWeb.PreHandleDocumentHandler(AddressOf event_OnPreHandleDocument)
        Return voWeb
    End Function
    Private Sub sbAddPostDataTo(pvoRequest As Net.HttpWebRequest)
        Dim vsPayload As String = proFormElements.fnsAssemblePostPayload()
        Dim vabyteBuffer As Byte() = Text.Encoding.UTF8.GetBytes(vsPayload.ToCharArray())
        pvoRequest.ContentLength = vabyteBuffer.Length
        pvoRequest.ContentType = "application/x-www-form-urlencoded"
        pvoRequest.UserAgent = "Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.11 (KHTML, like Gecko) Chrome/23.0.1271.97 Safari/537.11"
        pvoRequest.GetRequestStream().Write(vabyteBuffer, 0, vabyteBuffer.Length)
    End Sub
    Private Sub sbAddvoCookiesTo(pvoRequest As Net.HttpWebRequest)
        If (Not IsNothing(voCookies)) Then
            If voCookies.Count > 0 Then pvoRequest.CookieContainer.Add(voCookies)
        End If
    End Sub
    Private Sub sbSaveCookiesFrom(pvoResponse As Net.HttpWebResponse)
        If pvoResponse.Cookies.Count > 0 Then
            If IsNothing(voCookies) Then voCookies = New Net.CookieCollection
            voCookies.Add(pvoResponse.Cookies)
        End If
    End Sub
    Private Sub sbSaveHtmlDocument(pvoHTMLDocument As HtmlAgilityPack.HtmlDocument)
        proHTMLDoc = pvoHTMLDocument
        proFormElements = New clsFormElementCollection(proHTMLDoc)
    End Sub

    Protected Function event_OnPreRequest(pvoRequest As Net.HttpWebRequest) As Boolean
        sbAddvoCookiesTo(pvoRequest)
        If vbIsPostingInProgress Then sbAddPostDataTo(pvoRequest)
        Return True
    End Function
    Protected Sub event_OnAfterResponse(pvoRequest As System.Net.HttpWebRequest, pvoResponse As Net.HttpWebResponse)
        sbSaveCookiesFrom(pvoResponse)
    End Sub
    Protected Sub event_OnPreHandleDocument(pvoHTMLDocument As HtmlAgilityPack.HtmlDocument)
        sbSaveHtmlDocument(pvoHTMLDocument)
    End Sub

    '-----------------------------------------------------------------------------------------------------
    'Form Elements class
    '  Note: This element class will only capture (any) INPUT elements only, which should be enough
    '  for most cases. It can be easily modified to add other SELECT, TEXTAREA, etc voInputs
    '-----------------------------------------------------------------------------------------------------
    Public Class clsFormElementCollection
        Inherits Dictionary(Of String, String)
        Public Sub New(htmlDoc As HtmlAgilityPack.HtmlDocument)
            Dim voInputs As Collections.Generic.IEnumerable(Of HtmlAgilityPack.HtmlNode) = htmlDoc.DocumentNode.Descendants("input")
            For Each voInput As HtmlAgilityPack.HtmlNode In voInputs
                Dim vsName = voInput.GetAttributeValue("name", "undefined")
                Dim vsValue = voInput.GetAttributeValue("value", "")
                If vsName <> "undefined" Then Add(vsName, vsValue)
            Next
        End Sub
        Public Function fnsAssemblePostPayload() As String
            Dim sb As New Text.StringBuilder
            For Each voKeyValuePair In Me
                Dim vsValue = System.Web.HttpUtility.UrlEncode(voKeyValuePair.Value)
                sb.Append("&" & voKeyValuePair.Key & "=" & vsValue)
            Next
            Return sb.ToString.Substring(1)
        End Function
    End Class
End Class 
```

只需将上面的内容变成一个类对象并实例化它。用法示例在评论中。你想要`vsResponseHTML`字符串。

# c# - 列表的所有排列

> ID：15150147
> 
> 赞同：10
> 
> 时间：2013-03-01T03:44:52.233
> 
> 标签：c#, combinations

我希望能够列出这样的清单

```
var list=new List<int>{0, 1, 2}; 
```

并得到这样的结果

```
var result=
    new List<List<int>>{
        new List<int>{0, 1, 2},
        new List<int>{0, 2, 1},
        new List<int>{1, 0, 2},
        new List<int>{1, 2, 0},
        new List<int>{2, 0, 1},
        new List<int>{2, 1, 0}
    }; 
```

我对缺少数字的集合不感兴趣，只是对现有数字的组合感兴趣。有任何想法吗？

* * *

另外，我已经研究了像[从数字列表中获取所有可能的组合](https://stackoverflow.com/questions/3319586/getting-all-possible-permutations-from-a-list-of-numbers)这样的解决方案，但它们不适合。

那个给了我这样的东西

```
var result=
    new List<List<int>> {
        // [[],[1],[2],[1,2],[3],[1,3],[2,3],[1,2,3]]
        // serialized the result to JSON so it would be quicker.
    }; 
```

它不会吐出所有的组合。

* * *

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-03-01T04:28:30.873

在大小上尝试这些扩展方法：

```
public static IEnumerable<IEnumerable<T>> Permute<T>(this IEnumerable<T> sequence)
{
    if (sequence == null)
    {
        yield break;
    }

    var list = sequence.ToList();

    if (!list.Any())
    {
        yield return Enumerable.Empty<T>();
    }
    else
    {
        var startingElementIndex = 0;

        foreach (var startingElement in list)
        {
            var index = startingElementIndex;
            var remainingItems = list.Where((e, i) => i != index);

            foreach (var permutationOfRemainder in remainingItems.Permute())
            {
                yield return permutationOfRemainder.Prepend(startingElement);
            }

            startingElementIndex++;
        }
    }
} 
```

# html - 和 之间的区别

> ID：15150150
> 
> 赞同：0
> 
> 时间：2013-03-01T03:45:23.967
> 
> 标签：html

有没有区别

```
 <meta content="medical transcription company, medical transcriptions, medical transcription services, US based company" name="keywords"> 
```

和

```
 <meta name="keywords" content="medical transcription company, medical transcriptions, medical transcription services, US based company"> 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-01T03:46:18.220

不，没有功能上的区别。元素属性可以以任何顺序出现。

# python - 复制并粘贴部分选项卡类型数据以创建新文档

> ID：15150153
> 
> 赞同：0
> 
> 时间：2013-03-01T03:45:45.880
> 
> 标签：python, copy, copy-paste

我有一组选项卡类型的数据来清理我的研究。每个数据集不是典型的整齐的逐列格式，而是每个县的选项卡格式（如下所示）

```
1CURRENT DATE: XXX               AGE,SEX, RACE AND ETHNICITY OF PERSONS  PAGE    1
 BEGINNING DATE FOR DATA TOTALS: 01/83                    COUNTY    001
 ENDING DATE FOR DATA TOTALS: 12/83                                                                       RECORD COUNT    36
              Gender     Age_20    Age_21     Age_22   Age_23    Asian    Hispanic    White
Robbery       F           1          2          2        2         3         3          3
              M           3          3          2        2         4         3          3
Fraud         F           1          2          2        2         3         3          2
              M           2          3          2        2         4         3          3  
Arson         F           1          2          2        2         3         3          3
              M           4          3          2        2         4         3          4

1CURRENT DATE: XXX               AGE,SEX, RACE AND ETHNICITY OF PERSONS  PAGE    4
 BEGINNING DATE FOR DATA TOTALS: 01/83                    COUNTY    002
 ENDING DATE FOR DATA TOTALS: 12/83                                                                       RECORD COUNT    36
              Gender     Age_20    Age_21     Age_22   Age_23    Asian    Hispanic    White
Robbery       F           1          2          2        2         3         3          3
              M           2          3          2        2         4         4          3
Fraud         F           1          2          2        2         3         3          2
              M           2          3          2        2         4         6          3  
Arson         F           1          2          2        2         3         3          3
              M           4          3          2        2         4         3          4

1CURRENT DATE: XXX               AGE,SEX, RACE AND ETHNICITY OF PERSONS  PAGE    7
 BEGINNING DATE FOR DATA TOTALS: 01/83                    COUNTY    003
 ENDING DATE FOR DATA TOTALS: 12/83                                                                       RECORD COUNT    36
              Gender     Age_20    Age_21     Age_22   Age_23    Asian    Hispanic    White
Robbery       F           1          2          2        2         3         3          3
              M           3          3          2        2         4         3          3
Fraud         F           1          2          1        4         3         3          2
              M           2          3          2        2         4         3          3  
Arson         F           1          2          4        2         3         3          3
              M           4          3          2        2         4         3          4 
```

由于其标签类型的性质，我无法将这些数据集直接导入 excel 或 stata 以进行进一步分析。我计划做的是复制并粘贴每个县的 ID（即：COUNTY 003、COUNTY 002 等）和特定类型的犯罪，以创建一个新的类似列的数据集，如下所示：

```
 Gender     Age_20    Age_21     Age_22   Age_23    Asian    Hispanic    White    County
Robbery       F           1          2          2        2         3         2          3        001
Robbery       F           1          2          2        2         2         3          3        002
Robbery       F           1          2          2        2         3         3          3        003 
```

并进一步清理这个新数据集中的数据。

我在网上搜索，发现Python实际上可以将文件的特定部分复制并粘贴到新文档中。但我对 Python 真的很陌生，我的经验主要是在 Stata 和 SPSS 方面。我不确切知道哪些代码将执行这种类型的复制和粘贴工作。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T04:34:04.907

你可能想看看[pandas](http://pandas.pydata.org)。具体细节将根据您的格式而有所不同，但将您的数据按摩成更清洁的东西并不需要太多。有更漂亮、更少硬编码的方法来执行以下操作，但这里有一个几乎是意识流的例子：

```
import pandas as pd

# read in a fixed-width file
df = pd.read_fwf("crime.tsv", widths=[14] + [10]*8, header=None)
# clean up the strings
df = df.applymap(lambda x: x.strip() if isinstance(x, basestring) else x)

# make a new column
df["County"] = None
# move over the county information
df["County"][df[5] == "COUNTY"] = df[6]
# fill the county info forwards into the empty places
df["County"].fillna(method='ffill', inplace=True)

# fill the crime information forwards
df[0].fillna(method='ffill', inplace=True)

# reset the columns from one of the examples
df.columns = ["Crime"] + list(df.ix[3,1:-1]) + ["County"]
# get rid of any of the headings left in the table
df = df[~(df["Gender"] == "Gender")]

# toss anything which still has empty cells
df = df.dropna()

# reset the index, and fix the types
df = df.set_index(["Crime", "Gender", "County"]).astype(int)
df = df.reset_index() 
```

产生

```
>>> df
      Crime Gender County  Age_20  Age_21  Age_22  Age_23  Asian  Hispanic  White
0   Robbery      F    001       1       2       2       2      3         3      3
1   Robbery      M    001       3       3       2       2      4         3      3
2     Fraud      F    001       1       2       2       2      3         3      2
3     Fraud      M    001       2       3       2       2      4         3      3
4     Arson      F    001       1       2       2       2      3         3      3
5     Arson      M    001       4       3       2       2      4         3      4
6   Robbery      F    002       1       2       2       2      3         3      3
7   Robbery      M    002       2       3       2       2      4         4      3
8     Fraud      F    002       1       2       2       2      3         3      2
9     Fraud      M    002       2       3       2       2      4         6      3
10    Arson      F    002       1       2       2       2      3         3      3
11    Arson      M    002       4       3       2       2      4         3      4
12  Robbery      F    003       1       2       2       2      3         3      3
13  Robbery      M    003       3       3       2       2      4         3      3
14    Fraud      F    003       1       2       1       4      3         3      2
15    Fraud      M    003       2       3       2       2      4         3      3
16    Arson      F    003       1       2       4       2      3         3      3
17    Arson      M    003       4       3       2       2      4         3      4 
```

之后我们可以做各种整洁的事情。

# c# - string.replace 每个 ' 除了第一个和最后一个

> ID：15150154
> 
> 赞同：1
> 
> 时间：2013-03-01T03:46:03.593
> 
> 标签：c#, c#, .net

我有一个[c#](/questions/tagged/c%23 "显示标记为“c#”的问题")项目，我在其中调用 MySQL 查询，该查询是由我发送给该方法的字符串构建的。

如果字符串有单引号，我会遇到问题`'`

我想用 a 替换它，`\'`所以它对 MySQL 是安全的

但是当我建立查询时，我`%`在字符串的开头和结尾添加了一个单引号和一个；例如`'%texthere%'`

所以我需要知道如何替换除第一个和最后一个引号之外的每个单引号？

所以它只会从以下位置替换：`'%thi'stext%'`

对此：`'%thi\'stext'%`

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-01T04:06:18.787

简单的：

```
int first = s.IndexOf('\'');
int last = s.LastIndexOf('\'');
string prefix = s.Substring(0, first+1);
string query = s.Substring(first+1, last-first-1);
string suffix = s.Substring(last);
s = prefix + query.Replace("'", "\\'") + suffix; 
```

当然，您应该*真正*使用 SQL 参数。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-01T04:51:14.650

我太愚蠢了，我终于更好地研究了这个方法

我把它修好了`string.Replace("'", "\'")`

在我在开头和结尾添加&`%`之前`'``%``'`

我从你们那里学到了很多，非常感谢

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-01T04:00:20.757

我之前这样做的方式如下：

1.  使用 IndexOf 获取字符第一次出现的索引。
2.  获取从步骤 1 中找到的索引开始的原始字符串的子字符串
3.  反转步骤 2 中找到的子字符串
4.  对步骤 3 中的反转字符串重复步骤 1，您现在得到一个子字符串，其中包含从第一个 ' 字符之后到最后一个字符之前的字符串。
5.  再次反转步骤 4 中的子字符串（使其恢复到原始顺序）并将剩余的 ' 字符替换为 \'
6.  使用（伪代码）重建字符串 -

    finalString = string.Concat( originalString.Substring(0, firstIndex), replaceSubstringFromStep5, originalString.Substring(secondIndex, originalStringLength - 1)

这将为您提供一个字符串，其中包含第一个 ' 字符之前和原始字符串中最后一个字符之后的任何内容，并且中间的所有内容都将是替换的 ' 字符，这些字符现在为您的 MySQL 查询转义。

希望这可以帮助！

编辑：请注意，当我这样做时，它是用于互连应用程序中的字符串操作，而不是用于数据库查询。我同意最好使用其他人所说的存储过程和参数；但是，我提供的解决方案，没有进入最佳实践等，将满足 OP 的要求。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-01T04:03:54.273

参考下面的链接

[从.NET中的字符串中去除双引号](https://stackoverflow.com/questions/1177872/strip-double-quotes-from-a-string-in-net)

[用字符串替换所有双引号](https://stackoverflow.com/questions/5361971/replace-all-double-quotes-withing-string)

如果没有得到解决方案，希望这个对您有所帮助，而不是告诉我我会提供另一种解决方案

**编辑** Okey 所以尝试这样的字符串并反馈

```
string query=@"%thi'stext%"; 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-01T04:58:12.147

我希望这个方法对你有帮助：假设 raw 匹配模式“'%free text here with single quotes%'”

```
 private string ReplaceSpecial(string raw)
    {
        return String.Format("'%{0}%'", raw.Substring(2, raw.Length - 2).Replace("'", "\\'"));
    } 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-01T03:48:27.880

首先使用修剪函数从字符串的每一侧剪切单引号。然后将 "'" 替换为 "\'" 并将单引号添加回字符串的每一侧。如果 ' 是字符串中的第一个或最后一个字符，这将不起作用，因为它会被修剪。

# .net - 使用相同库的 C# 和 F# 之间的转换差异

> ID：15150157
> 
> 赞同：0
> 
> 时间：2013-03-01T03:46:14.670
> 
> 标签：.net, f#, clr

我确信这与这里发生的内部情况有关。希望有人能澄清一下。

我正在访问一个 C# 友好的库。

我有一个充当数组的特定对象（它是来自 lib 的用户定义类型）。在 C# 中我可以调用。

`myObject[0] = 1`

我这样做没有错误。

如果我尝试在 F# 中执行以下操作，则会出现错误 -`The expression was expected to have type float32 but instead has type int.`

`myObject.[0] <- 1`

这行得通。

`myObject.[0] <- float32 1`

所以问题是，为什么在 C# 中这种类型转换是自动发生的，而在 F# 中却不是？我可以在 F# 中做些什么来清理这样的东西吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-01T13:50:52.620

F# 类型检查机制在许多方面都比 C# 中的类型检查更严格。一方面是 F# 不会在幕后进行任何隐式转换，因此您必须使用正确的数字文字（如`1.0f`）或显式转换函数（如`float32`）。

为什么语言是这样设计的？一个原因是它使类型推断更简单、更可预测。例如：

```
let data = [| 0; 1; 2 |]

let writeData n = 
  data.[0] <- n 
```

在这里，F# 编译器知道它`data`的类型`int[]`（因为它被初始化为包含整数的数组）。它还知道这`writeData`是一个函数`int -> unit`，因为数组包含整数，因此`n`也必须是整数。

如果编译器做了隐式转换，会有很多不确定性：

*   `data`例如，可能是，`float[]`或者`float32[]`因为您可以将整数隐式转换为其他数字类型
*   `dwriteData`可以采用任何可转换为的数字类型`int`（例如`int16`等`sbyte`）

这会使类型信息更加复杂，您可能不得不更频繁地明确指定类型。出于这个原因，F# 选择了一个折衷方案——您必须显式地编写转换，但是您不需要经常使用类型注释。

# ios - 我应该在 iOS 上将分析数据存储在哪个目录中？

> ID：15150166
> 
> 赞同：1
> 
> 时间：2013-03-01T03:47:26.967
> 
> 标签：ios, filesystems

我正在尝试存储本地保存的有关用户操作的分析数据，以便以后可以在用户有互联网连接时上传。我希望数据存储在本地，并且在正常情况下在应用程序的后续打开之间不会被删除。我不希望数据同步到 iCloud。理想情况下，我还希望在更新之间保留数据。如果数据在空间不足的情况下被删除，那很好。

我从不同的来源得到了关于数据存储位置的不同答案——无论是在 NSCachesDirectory 还是 NSLibraryDirectory 中。注意 NSCachesDirectory 是 NSLibraryDirectory 的子目录，例如。文件系统看起来像 Application_Home/Library/Caches/。

根据官方文档： http: [//developer.apple.com/library/ios/#documentation/iPhone/Conceptual/iPhoneOSProgrammingGuide/PerformanceTuning/PerformanceTuning.html#//apple_ref/doc/uid/TP40007072-CH8-SW9](http://developer.apple.com/library/ios/#documentation/iPhone/Conceptual/iPhoneOSProgrammingGuide/PerformanceTuning/PerformanceTuning.html#//apple_ref/doc/uid/TP40007072-CH8-SW9)暗示我应该使用 NSCachesDirectory 来存储数据，并且在大多数情况下不会被删除。这也意味着 NSLibraryDirectory 已同步到 iCloud。

根据这些答案：[如何在 iPhone 上获得可写路径？](https://stackoverflow.com/questions/1567134/how-can-i-get-a-writable-path-on-the-iphone), [https://stackoverflow.com/a/5444762/340520/](https://stackoverflow.com/a/5444762/340520/) , [NSCachesDirectory 中的文件何时被删除？](https://stackoverflow.com/questions/6879860/when-are-files-from-nscachesdirectory-removed), NSCachesDirectory 不会在应用程序更新之间保留，并声称我必须不断地重新创建 NSCachesDirectory。第一个答案还暗示 NSLibraryDirectory 是存储数据的最佳位置。然而，这些答案是两年前的。

根据文档和这个答案：http: [//developer.apple.com/library/ios/#documentation/iPhone/Conceptual/iPhoneOSProgrammingGuide/PerformanceTuning/PerformanceTuning.html#//apple_ref/doc/uid/TP40007072-CH8-SW10](http://developer.apple.com/library/ios/#documentation/iPhone/Conceptual/iPhoneOSProgrammingGuide/PerformanceTuning/PerformanceTuning.html#//apple_ref/doc/uid/TP40007072-CH8-SW10) , [https://stackoverflow.com/a/8830746/340520](https://stackoverflow.com/a/8830746/340520) , NSCachesDirectory 在应用程序更新之间保留。

Localytics 的 iOS SDK 将他们的数据存储在 NSCachesDirectory：[https](https://github.com/twobitlabs/Localytics-iOS/blob/master/src/LocalyticsDatabase.m) ://github.com/twobitlabs/Localytics-iOS/blob/master/src/LocalyticsDatabase.m Mixpanel 的 iOS SDK 将他们的数据存储在 NSLibraryDirectory：[https ://github.com/ mixpanel/mixpanel-iphone/blob/master/Mixpanel/Mixpanel.m](https://github.com/mixpanel/mixpanel-iphone/blob/master/Mixpanel/Mixpanel.m)

在所有这些来源中，我一直倾向于使用 NSCachesDirectory，但我不确定在某些情况下数据不会被定期删除。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2016-01-25T19:07:14.777

NSCachesDirectory 是存储您在应用程序启动甚至设备重新启动时需要的持久信息的错误位置。

为了证明我的观点，试试这个......

1.  获取只有 8GB 磁盘空间的 iPhone 设备。
2.  使用您的应用程序在 NSCachesDirectory 中写入文件。
3.  开始下载随机应用程序以填满磁盘空间。很快您将看到操作系统显示的存储限制对话框。
4.  现在只需重新启动手机，启动应用程序，看看是否可以找到您编写的文件。

如果您第一次找到该文件，请再试一次，您会发现您的文件丢失了。在设备启动期间，如果您看到设备日志，您会注意到日志表明正在清除目录以腾出空间等。

使用 NSCachesDirectory 存储您可以从您的服务器继续下载的信息。不是您需要上传到服务器的信息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T04:05:14.950

Caches 目录应该只用于您的应用程序可以轻松替换的文件（如果它们被删除）。Caches 目录可能会或可能不会在应用程序更新期间被清除，并且可能会在设备存储空间不足的情况下被清除。仅将其用于临时文件或您可以轻松替换的文件。

我的第一选择是`Library/Application Support`目录 ( `NSApplicationSupportDirectory`)。请注意，默认情况下不会创建此目录。您的应用必须在首次启动时创建它。此路径在应用程序更新期间保留（与大多数应用程序沙盒一样），并通过 iTunes（或 iCloud）设备备份进行备份。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-05-24T08:12:13.653

我认为最好的地方是`Library/Application Support (NSApplicationSupportDirectory)`参考[如何防止文件备份到 iCloud 和 iTunes？](https://developer.apple.com/library/ios/#qa/qa1719/_index.html)详情。

# javascript - Html 触控问题 iPad

> ID：15150167
> 
> 赞同：-3
> 
> 时间：2013-03-01T03:47:32.807
> 
> 标签：javascript, html, ipad, touch

我对 iPad 中的 touchmove 有疑问。当我触摸 html 页面并拖动时，整个页面都在 iPad Safari 浏览器中被拖动。由于某些限制，我无法在此处粘贴代码。我现在可以想到一个热修复，即 event.preventDefault on touch move。但我想知道真正的问题是什么。有人遇到过这样的问题，请指点一下，比如问题出在哪里？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-01T03:54:52.287

这是预期的行为，拖动是在 iPad 上滚动的方式，不仅在您的 iPad 上，在每个网站上。

# javascript - JavaScript 中用于变音符号的标题案例（非 ASCII）

> ID：15150168
> 
> 赞同：4
> 
> 时间：2013-03-01T03:47:34.310
> 
> 标签：javascript, case, title

是否有可能创建一个可以将字符串转换为标题大小写但适用于非 ASCII (Unicode) 字符的 JavaScript 函数？例如具有以下字符：

```
Áá  Àà  Ăă  Ắắ  Ằằ  Ẵẵ  Ẳẳ  Ââ  Ấấ  Ầầ  Ẫẫ  Ẩẩ  Ǎǎ  Åå  Ǻǻ  Ää  Ǟǟ  Ãã
Éé  Èè  Ĕĕ  Êê  Ếế  Ềề  Ễễ  Ểể  Ěě  Ëë  Ẽẽ  Ėė  Ȩȩ  Ḝḝ  Ęę  Ēē  Ḗḗ  Ḕḕ
etc. 
```

例如，如果字符串是“anders ångström”，则应将其转换为“Anders Ångström”。[已经存在](https://stackoverflow.com/questions/196972/convert-string-to-title-case-with-javascript)的脚本将转换为“Anders åNgström”。

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2013-03-01T04:30:18.590

试试这个：

```
var str = 'anders ångström';

str = str.replace(/[^\s]+/g, function(word) {
  return word.replace(/^./, function(first) {
    return first.toUpperCase();
  });
});

console.log(str); //=> "Anders Ångström" 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-01T03:59:08.323

Javascript 的内置转换是 Unicode 感知的，例如`"å".toUpperCase()`返回`"Å"`. 所以我不确定你的“现有脚本”做错了什么。

但是，如果您需要完整的 Unicode 感知大小写转换（或其他 Unicode 支持），您可能需要查看[unicode.js](https://github.com/reyesr/javascript-unicode)。

# linux - ErrorDocument 403 不适用于子目录

> ID：15150171
> 
> 赞同：0
> 
> 时间：2013-03-01T03:47:54.070
> 
> 标签：linux, apache, .htaccess, http-status-code-403

我在共享主机上有这样的结构：

```
~/above_public_html/public_html/directory_i_want_forbidden 
```

我有`~/above_public_html/.htaccess`以下内容：

```
ErrorDocument 403 /403.html
ErrorDocument 404 /404.html 
```

当我导航到一个不存在的文件或文件夹时，我会弹出 404.html，没有问题。

当我导航到存在但具有`chmod 700`权限（包括`directory_i_want_forbidden`）的子文件夹或文件时，我得到：

```
Forbidden

You don't have permission to access /directory_i_want_forbidden on this server.

Additionally, a 403 Forbidden error was encountered while trying to use an ErrorDocument to handle the request.

Apache Server at www.mydomain.com Port 80 
```

为了使`ErrorDocument 403 /403.html`工作正确，我需要做什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T21:26:56.180

上游的 .htaccess 或 httpd.conf 出了点问题。因为我在共享主机上，所以我无法控制它。从那以后，我启动了自己的 Amazon EC2 服务器实例，一切正常。

# php - 非贪婪的正则表达式

> ID：15150175
> 
> 赞同：2
> 
> 时间：2013-03-01T03:48:19.347
> 
> 标签：php, regex, regex-greedy, non-greedy

我需要在这样的注释 php 文件中的一些标签中获取值

```
php code
/* this is a comment
!-
<titulo>titulo3</titulo>
<funcion>
   <descripcion>esta es la descripcion de la funcion 6</descripcion>
</funcion>
<funcion>
   <descripcion>esta es la descripcion de la funcion 7</descripcion>
</funcion>
<otros>
   <descripcion>comentario de otros 2a hoja</descripcion>
</otros>
-!
*/
some php code 
```

所以你可以看到文件有换行符和重复的标签`<funcion></funcion>`，我需要获取每一个标签，所以我尝试了这样的事情：

```
preg_match_all("/(<funcion>)(.*)(<\/funcion>)/s",$file,$matches); 
```

这个例子适用于换行符，但它很贪心，所以我一直在搜索并看到这两个解决方案：

```
preg_match_all("/(<funcion>)(.*?)(<\/funcion>)/s",$file,$matches);
preg_match_all("/(<funcion>)(.*)(<\/funcion>)/sU",$file,$matches); 
```

但它们都不适合我，不知道为什么

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T04:13:11.363

试试这个..

```
 /<funcion>((.|\n)*?)<\/funcion>/i 
```

**例如**

```
$srting = "<titulo>titulo3</titulo>
<funcion>
   <descripcion>esta es la descripcion de la funcion 6</descripcion>
</funcion>
<funcion>
   <descripcion>esta es la descripcion de la funcion 7</descripcion>
</funcion>
<otros>
   <descripcion>comentario de otros 2a hoja</descripcion>
</otros>";

$result=preg_match_all('/<funcion>((.|\n)*?)<\/funcion>/i', $srting,$m);
print_r($m[0]); 
```

**这个输出**

```
Array
(
    [0] => 
   esta es la descripcion de la funcion 6

    [1] => 
   esta es la descripcion de la funcion 7

) 
```

**[演示](http://codepad.viper-7.com/Afg2pn)**

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-01T04:19:22.737

你的问题中的这个表达：

```
preg_match_all("/(<funcion>)(.*?)(<\/funcion>)/s", $file, $matches);
print_r($matches); 
```

这将起作用，但只有 IF`$file`是包含 XML 的字符串；如果是文件名，则必须先获取内容：

```
preg_match_all("/(<funcion>)(.*?)(<\/funcion>)/s", file_get_contents($file), $matches); 
```

另外，请记住，当您使用非贪婪模式时，PCRE 具有[回溯限制。](http://www.php.net/manual/en/pcre.configuration.php#ini.pcre.backtrack-limit)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-01T04:22:27.907

. . 如果结构完全一样（总是在内容内缩进），您可以轻松地将其与**/\n[\s]+([^\n]+(\n[\s]+)*)\n/**匹配。

. . 我总是倾向于避免使用“懒惰”（“非贪婪”）修饰符。它只是看起来像一个 hack，它并不是随处可用并且具有相同的实现。由于在这种情况下您似乎**不需要**它，我建议您不要使用它。

. . 试试这个：

```
$regexp = '/<funcion>\n[\s]+([^\n]+(\n[\s]+)*)\n</funcion>/';
$works = preg_match_all($regexp, $file, $matches);
echo '<pre>';
print_r($matches); 
```

. . "$matches[1]" 数组将为您提供一个包含 "funcion" 标签内容的数组。

. . 当然，最好预先过滤内容并将正则表达式应用于评论内容，以避免任何不匹配。

. . 玩得开心。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-01T03:53:04.977

尝试使用`[\s\S]`，这意味着所有空格和非空格字符，而不是`.`. 此外，无需在匹配组中添加`<funcion>`和。`</funcion>`

```
/<funcion>([\s\S]*?)<\/funcion>/s 
```

另外，请记住，最好的方法是使用[XML 解析器](http://php.net/manual/en/book.xml.php)解析 XML 。即使它不是 XML 文档，正如您在评论中提到的那样，提取应该解析的部分并使用 XML 解析器来解析它。

# c++ - 为什么我在这里收到与内存相关的错误？

> ID：15150180
> 
> 赞同：0
> 
> 时间：2013-03-01T03:48:54.023
> 
> 标签：c++, memory, memory-management, vector

我有一个网站的问题。给定一个`string` `s`and `st`，我必须找到 in 的所有可能`st`组合`s`。例如，

```
s      = "doomdogged"
st     = "dg"
answer = 4 
```

我可以从 0 或 4 中选择 d，从 6 或 7 中选择 g。这给了我 4 种可能的组合。

这是我的代码：

```
#include <iostream>
#include <vector>

using namespace std;

string s, st;

bool target[26];
vector<int> positions[26];
vector<vector<int>> possibleCombinations;

void DFS_Enumeration(int, vector<int>*);
int DFS_index_max = 0;

int main(int argc, char *argv[])
{
    int    answer = 0;
    cin >> s;  //Given a string s
    cin >> st; //Given a string st
    //Find all possible combination of st in s
    for ( int i = 0 ; i < 26 ; ++ i )
        target[i] = 0;
    for ( int i = 0 ; i < st.length() ; ++ i )
        target[st[i] - 97] = 1;
    for ( int i = 0 ; i < 26 ; ++ i )
    {
        if ( target[i] == 0 ) continue;
        for ( int j = 0 ; j < s.length() ; ++ j )
        {
            if ( s[j] == i + 97 ) positions[i].push_back(j);
        }
    }
    DFS_index_max = st.length();
    vector<int> trail(0);
    DFS_Enumeration(0, &trail); //Here I got an runtime error
    for ( vector<int> vi : possibleCombinations )
    {
        int currentMax = 0;
        for ( int i = 0 ; i < vi.size() ; ++ i )
        {
            if ( vi[i] > currentMax )
            {
                if ( i == vi.size() - 1 ) ++ answer;
                currentMax = vi[i];
                continue;
            }
            else
                break;
        }
    }
    cout << answer;
}

void DFS_Enumeration(int index, vector<int>* trail)
{
    if ( index == DFS_index_max )
    {
        possibleCombinations.push_back(*trail);
        return;
    }
    for ( int i = 0 ; i < positions[st[index] - 97].size() ; ++ i )
    {
        trail -> push_back(positions[st[index] - 97][i]);
        DFS_Enumeration(++index, trail);
        trail -> pop_back();
    }
    return;
} 
```

首先，我在 中查找字符`st`，并根据需要将它们标记为在我的布尔数组目标中找到。

然后，我使用 DFS 枚举所有可能的组合。对于上面的“doomdogged”和“dg”的例子，d存在于0、4、9中。而g存在于6、7中。我会得到06、07、46、47、96、97。

最后，我计算那些有意义的，并输出答案。出于某种原因，我的代码无法正常工作，并在我标记的行中生成有关内存的运行时错误。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T03:58:54.047

`DFS_Enumeration`可能会增加`index`任意次数，因此`st[index]`可能会超过字符串的结尾`st`。

# algorithm - 亚马逊面试 - 设计会议安排程序

> ID：15150188
> 
> 赞同：23
> 
> 时间：2013-03-01T03:49:47.407
> 
> 标签：algorithm

最近，我接受了一个采访。我被要求设计一个会议安排程序，就像在 Microsoft Outlook 日历或 gmail 日历中一样。我建议我每天创建一个 48 个数组。每 30 分钟代表一个数组条目。

我必须确保下一次约会不会与上一次会议发生冲突。

我的解决方案运行良好，但浪费了太多内存。

谁能告诉我如何找到更好的解决方案来检测会议碰撞。

我不知道一开始的所有会议。它们将在以后随机添加。

谢谢，

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2013-03-01T03:53:29.853

从一个空的会议列表开始，每个会议都有一个`start_time`和`duration`。我们将按 . 维护排序的会议列表`start_time`。

要将会议添加到列表中，请通过执行二分搜索找到它在列表中的所属位置。找到索引后，执行两次检查以避免冲突；考虑即将插入的会议之前和之后的会议（如果存在）。

1.  断言前会议的`start_time + duration`不超过新会议的`start_time`。
2.  断言新会议的`start_time+duration`不超过会后的`start_time`。

如果断言得到满足，则将会议添加到列表中。

此添加操作需要`O(log(list_size))`时间。

注意：此方法假定添加具有重叠的会议是无效操作。如果允许存在重叠，您将不得不在新会议之前/之后的会议之外进行检查。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2015-02-21T23:07:29.173

We can have a Tree structure (**BST**) for storing the requests (Request object: start time/end time/date/priority etc.). By doing so, add/delete/search/update operations can be achieved by O(height_of_tree). If we use a balanced tree, we can get the optimized running time. i.e. **O(log n)** for each of the above mentioned operations.

This approach is better than the sorted list approach as the list is backed by an fixed sized array in case of ArrayList which takes O(n) for copying the elements from old array to new array. If we use a linkedlist, binary search is not possible.

Comments welcome!

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2014-12-18T04:36:00.560

这是我使用二进制搜索插入的解决方案

```
public class MeetingScheduler {

    static class Meeting implements Comparable<Meeting> {
        Date startTime;
        Date endTime;
        int duration;

        public static final int MINUTE = 60000;

        //duration in minutes
        Meeting(Date startTime, int duration) {
            this.startTime = startTime;
            this.duration = duration;
            this.endTime = new Date(startTime.getTime() + (MINUTE * duration));

        }

        @Override
        public int compareTo(Meeting o) {
            if (this.endTime.compareTo(o.startTime) < 0) {
                return -1;
            }//end time is before the other's start time
            if (this.startTime.compareTo(o.endTime) > 0) {
                return 1;
            }////start time is after the other's end time
            return 0;
        }

        @Override
        public String toString() {
            return "meeting {" +
                    "from " + startTime +
                    ", minutes=" + duration +
                    '}';
        }
    }

    private List<Meeting> meetings = new ArrayList<Meeting>();

    public Meeting bookRoom(Meeting meeting) {

        if (meetings.isEmpty()) {
            meetings.add(meeting);
            return null;
        } else {
            int pos = -Collections.binarySearch(meetings, meeting);
            if (pos > 0) {
                meetings.add(pos-1, meeting);
                return null;
            } else {
                return meetings.get(-pos);
            }
        }
    }

    public List<Meeting> getMeetings() {
        return meetings;
    }

    public static void main(String[] args) {
        MeetingScheduler meetingScheduler = new MeetingScheduler();

        Meeting[] meetingsToBook = new Meeting[]{
                //October 3rd 2014
                new Meeting(new Date(2014 - 1900, 10 - 1, 3, 15, 00), 15),
                new Meeting(new Date(2014 - 1900, 10 - 1, 3, 16, 00), 15),
                new Meeting(new Date(2014 - 1900, 10 - 1, 3, 17, 00), 60),
                new Meeting(new Date(2014 - 1900, 10 - 1, 3, 18, 00), 15),
                new Meeting(new Date(2014 - 1900, 10 - 1, 3, 14, 50), 10),
                new Meeting(new Date(2014 - 1900, 10 - 1, 3, 14, 55), 10)
        };

        for (Meeting m : meetingsToBook) {
            Meeting oldMeeting = meetingScheduler.bookRoom(m);
            if (oldMeeting != null) {
                System.out.println("Could not book room for " + m + " because it collides with " + oldMeeting);
            }
        }

        System.out.println("meetings booked: " + meetingScheduler.getMeetings().size());

        for (Meeting m : meetingScheduler.getMeetings()) {
            System.out.println(m.startTime + "-> " + m.duration + " mins");
        }

    }
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-01-09T08:32:14.937

虽然使用排序数组和二分查找是有效的，但请注意插入将花费 o(n) 假设没有发现冲突，因为数组需要滑动会议。不确定这是否是最佳解决方案。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-01-13T23:03:31.610

如果排序列表是一个数组，我相信添加操作将花费 O(n)，因为您必须转移在要插入的会议之后开始的会议。

# php - 简单 ACL - 如果用户具有不正确的权限，则重定向用户

> ID：15150189
> 
> 赞同：1
> 
> 时间：2013-03-01T03:50:08.253
> 
> 标签：php, cakephp, redirect

我遵循了这个“简单 ACL 控制的应用程序”CakePHP 教程：[http ://book.cakephp.org/2.0/en/tutorials-and-examples/simple-acl-controlled-application/simple-acl-controlled-application.html](http://book.cakephp.org/2.0/en/tutorials-and-examples/simple-acl-controlled-application/simple-acl-controlled-application.html)

一切正常，但该应用程序有一个我不喜欢的怪癖。

在示例中，存在三个角色：管理员、经理和用户。我使用具有用户角色的帐户登录。当我单击我无权访问的链接时，我会被重定向到当前 url，因此，从本质上讲，似乎没有任何事情发生。我不喜欢这样，因为它看起来像应用程序没有响应。

如何将用户重定向到“权限被拒绝”页面而不是重定向到推荐人？我已经在`UsersController`命名`permissionDenied`和相应的视图中创建了一个新操作。我还为该操作创建了 aco 并允许所有组访问它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T13:09:47.380

似乎什么都没有发生的原因是因为您没有在视图中显示 Acl 组件生成的 flash 消息（正如 Dave 在评论中已经提到的那样）。您必须将其添加到您的布局或视图中：

```
echo $this->Session->flash('auth'); 
```

这样，用户将看到您`authError`在`AuthComponent`.

另一种方法是在 AppController 的 beforeFilter 方法中运行 Acl 检查，如果 Acl 检查失败，则重定向用户，如下所示：

```
/**
 * ACL Check (CakeError controller is exempt from this example,
 * so errors are always "allowed" to be shown).
 */
if (!is_null($this->Auth->User()) && $this->name != 'CakeError'
    && !$this->Acl->check(array(
        'model' => 'User',
        'foreign_key' => AuthComponent::user('id')),
        $this->name . '/' . $this->request->params['action']
)) {

    // Optionally log an ACL deny message in auth.log
    CakeLog::write('auth', 'ACL DENY: ' . AuthComponent::user('username') .
        ' tried to access ' . $this->name . '/' .
        $this->request->params['action'] . '.'
    );

    // Render the forbidden page instead of the current requested page
    echo $this->render('/Pages/forbidden');

    /**
     * Make sure we halt here, otherwise the forbidden message
     * is just shown above the content.
     */
    exit;
} 
```

这样，`app/View/Pages/forbidden.ctp`文件将被呈现，exit 语句将阻止重定向发生。

# java - 如何检查字符串是否包含指定字符以外的字符。（在 Java 中）

> ID：15150193
> 
> 赞同：7
> 
> 时间：2013-03-01T03:50:15.693
> 
> 标签：java, regex, string

我有一个程序要求用户输入三个字符串。字符串只能是 a、b 或 c 的组合。

如何在不执行一百万条条件语句的情况下检查字符串是否包含指定字符以外的任何其他字符。

伪示例：

```
String s = "abq"

if (s.containsOtherCharacterThan(a,b,c))
    System.exit(-1) 
```

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-03-01T03:53:57.700

要查找不是 a、b 或 c 的字符，请使用以下内容：

```
if(!s.matches("[abc]+"))
{
    System.out.println("The string you entered has some incorrect characters");
} 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-03-01T03:53:24.850

您可以使用正则表达式及其[字符类](http://www.regular-expressions.info/charclass.html)。只需调用[`String#matches(String regex)`](http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#matches%28java.lang.String%29)您想要检查它是否可以完全由正则表达式匹配的字符串。

```
if (!s.matches("[abc]+")) {//.. 
```

这个测试应该只通过包含其他字符的字符串，然后指定它应该通过它，`[` `]`因为`"abq"`它包含`q`. 匹配将检查是否`s`仅包含`a`、`b`和`c`字符。如果不是，它将返回`false`，并且由于否定，我们将进入 if 块。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-01T04:01:37.537

您可以将字符串拆分为一个数组并从那里循环输入，您可以比较每个字符。

```
public boolean containsOtherCharacter(String s, String a, String b, String c) {
    String[] st = s.split("");
    for(int x = 0; x < st.length; x++)
        if (st[x].compareTo(a) != 0 && st[x].compareTo(b) != 0 && st[x].compareTo(c) != 0)
            return true;
    return false;
} 
```

这将告诉您是否还有其他字符。如果您想知道它们是哪些字符，可以将每个字符插入到 HashMap 中，其中键是字符，值是使用次数。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-01T03:53:08.367

您可以使用这个正则表达式：- `[abc]+`。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-03-01T03:54:42.213

没有正则表达式的一种方法是遍历字符串并检查每个字符，如果字符不是 a、b 或 c，则退出。仅使用 String.contains 无法做到这一点

# django - django 刷新查询缓存

> ID：15150198
> 
> 赞同：4
> 
> 时间：2013-03-01T03:50:44.207
> 
> 标签：django, caching

我有 2 个 django 应用程序实例。一个是前端 - 一个普通的 wsgi 应用程序。另一个是后端 - 一个使用 ./manage.py rundaemon 运行的扭曲守护程序。他们共享 django settigns 和模型。

现在，当其中一个有查询时，它被缓存了。而当另一个更新数据库 - 缓存不会被刷新。这显然是因为他们不知道另一个实例访问同一个数据库。

有没有办法禁用缓存，或者手动刷新它并强制重新执行查询？

（我猜管理应用程序确实以某种方式刷新查询缓存）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-01T06:10:41.523

我不确定这是否是最好的解决方案，但是当我遇到同样的问题时它对我有用。

```
import django
django.db.connection.close() 
```

下次需要时，连接将自动重新打开。

# .net - 我在哪里可以找到一些 ServiceStack/Razor 文档？

> ID：15150202
> 
> 赞同：1
> 
> 时间：2013-03-01T03:51:56.533
> 
> 标签：.net, razor, documentation, servicestack

这是一个非常新手的问题，但是我在哪里可以找到一些关于 Razor 的教程或文档，以及它与 ServiceStack 的关系？更具体地说，我试图找出最简单的方法来创建一些登录和注册页面并将它们绑定到我的服务中，以便为管理员用户提供额外的功能。

我已经阅读了[http://razor.servicestack.net/](http://razor.servicestack.net/)上的内容，并且可以浏览“Razor Rockstars”项目的源代码；但感觉不像是在学习一个新的框架，而更像是在黑暗中用别人的代码玩“捉迷藏”。

例如，我如何在不随机绊倒它们的情况下发现这样的事情（就像我刚刚做的那样）[？](https://stackoverflow.com/questions/12640653/servicestack-razor-authentication)

基本上我正在寻找的是一些关于如何将库放在一起的系统文档，哪些类提供哪些功能等。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T17:16:32.540

[razor.servicestack.net](http://razor.servicestack.net)的目标不是成为一个完整的参考，展示如何在给定的 Web 应用程序中构建每个用例。它只是为了解释它是如何工作的，[它在 ServiceStack 架构中的位置，](https://github.com/ServiceStack/ServiceStack/wiki/Architecture-overview)[剃刀视图与内容页面](https://stackoverflow.com/a/13206221/85785)的作用，[ServiceStack 用来指定所用视图和模板](https://github.com/ServiceStack/ServiceStack/wiki/View-and-template-selection)的规则和约定。

### 服务与视图之间的清晰分离

ServiceStack 在 Service 和 HTML Rendering 之间有一个清晰的分离，ServiceStack 只是认为这是另一种 Content-Type。您需要做的一切都可以在这个框架内完成。

### 所有源代码都可用

如果出于任何原因需要了解更多详细信息，请随时参考包含在[ServiceStack GitHub 项目](https://github.com/ServiceStack/ServiceStack)中的源代码，从[RazorFormat](https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack.Razor/RazorFormat.cs)开始，这是 ServiceStack 的 Razor 支持的起点。

# python - 无法关闭循环或创建进度提示

> ID：15150203
> 
> 赞同：1
> 
> 时间：2013-03-01T03:52:06.203
> 
> 标签：python, loops, if-statement, while-loop, prompt

我在一般的“while”命令和循环中苦苦挣扎。我错过了一个停止点，但我不知道如何创建一个。我正在尝试创建一个程序来模拟原始股票期权选择，但它只是循环通过前两个循环而没有停止点。任何帮助，将不胜感激。

```
selection = " "
while selection not in ("r","R","t","T"):
print("This program can operate in random mode (fluctuations will randomly occur) or it      can operate in test mode (fluctuations are fixed).")
print("(r)andom mode")
print("(t)est mode")
selection = input("Mode of operation:")
if selection not in ("r","R","t","T"):
    print("\nPlease select 'r' or 't' for mode selection\n")
elif (selection == "r"):
    print("Random mode enabled")
    n = random.randrange(1,101)
    selection = " "
    while selection not in ("1","2","3"):
        print("\tInvestment options:")
        print("(1)Fly-By-Night Investments (FBN): high risk, high potential returns")
        print("(2)Blue Chips INC. (BCI): moderate risk, good potential yearly returns")
        print("(3)Slow-And-Steady-Corp. (SNS), mature industry stock: no risk but low returns")
        selection = input("Please enter your investment option 1, 2, or 3:")
        if selection not in ("1","2","3"):
            print("\nPlease enter an investment option from the menu using 1, 2, or 3 as valid selections:\n") 
```

随机和测试模式在程序的后面出现，但我想展示我在任何地方都没有停止点的循环。它只是在两者之间循环。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T04:05:31.390

你被困在一个无限循环中，因为你重新定义了`selection`.

```
selection = ''
while selection.lower() not in ("r","t"):
    print("This program can operate in random mode (fluctuations will randomly occur) or it can operate in test mode (fluctuations are fixed).")
    print("(r)andom mode")
    print("(t)est mode")
    selection = input("Mode of operation:")
    if selection.lower() not in ("r","t"):
         print("\nPlease select 'r' or 't' for mode selection\n")
    elif (selection.lower() == "r"):
        print("Random mode enabled")
        n = random.randrange(1,101)
        selection = '' # redefined here
        while selection not in ("1","2","3"): 
            print("\tInvestment options:")
            print("(1)Fly-By-Night Investments (FBN): high risk, high potential returns")
            print("(2)Blue Chips INC. (BCI): moderate risk, good potential yearly returns")
            print("(3)Slow-And-Steady-Corp. (SNS), mature industry stock: no risk but low returns")
            selection = input("Please enter your investment option 1, 2, or 3:")
            if selection not in ("1","2","3"):
                print("\nPlease enter an investment option from the menu using 1, 2, or 3 as valid selections:\n") 
```

请注意您如何`selection`再次使用。一旦它到达内部`while`循环，`selection`就会变成 1、2 或 3（或其他任何值），但很可能不是 'r' 或 't'。因此，它陷入了无限循环。为了防止这种情况，每个循环使用两个不同的变量。

```
selection = ''
while selection.lower() not in ("r","t"):
    print("This program can operate in random mode (fluctuations will randomly occur) or it can operate in test mode (fluctuations are fixed).")
    print("(r)andom mode")
    print("(t)est mode")
    selection = input("Mode of operation:")
    if selection.lower() not in ("r","t"):
         print("\nPlease select 'r' or 't' for mode selection\n")
    elif (selection.lower() == "r"):
        print("Random mode enabled")
        n = random.randrange(1,101)
        investmentChoice = ''
        while investmentChoice not in ("1","2","3"): 
            print("\tInvestment options:")
            print("(1)Fly-By-Night Investments (FBN): high risk, high potential returns")
            print("(2)Blue Chips INC. (BCI): moderate risk, good potential yearly returns")
            print("(3)Slow-And-Steady-Corp. (SNS), mature industry stock: no risk but low returns")
            investmentChoice = input("Please enter your investment option 1, 2, or 3:")
            if investmentChoice not in ("1","2","3"):
                print("\nPlease enter an investment option from the menu using 1, 2, or 3 as valid selections:\n") 
```

# timeout - RabbitMQ 服务器中的连接在 600 秒后自动丢失

> ID：15150207
> 
> 赞同：8
> 
> 时间：2013-03-01T03:52:20.933
> 
> 标签：timeout, rabbitmq

我正在使用带有 amq 的 rabbitMQ 服务器。

我遇到了一个难题。将服务器单独放置约 10 分钟后，连接将丢失。

这可能是什么原因造成的？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-04T09:39:11.790

如果您查看 Erlang 客户端文档[http://www.rabbitmq.com/erlang-client-user-guide.html](http://www.rabbitmq.com/erlang-client-user-guide.html)，您将看到标题为*Connecting To A Broker的部分*

这为您提供了一些不同的选项，您可以在设置与 RabbitMQ 服务器的连接时指定这些选项，其中一个选项是`heartbeat`，您可以看到默认设置是`0`没有指定心跳。

我不知道确切的 Erlang 表示法，但您需要执行以下操作：

```
{ok, Connection} = amqp_connection:start(#amqp_params_network{heartbeat = 5}) 
```

心跳超时以秒为单位指定。因此，这将导致您的消费者每 5 秒向服务器发送一次心跳。

也看看这个讨论：[https ://groups.google.com/forum/?fromgroups=#!topic/rabbitmq-discuss/u227xzvqOr8](https://groups.google.com/forum/?fromgroups=#!topic/rabbitmq-discuss/u227xzvqOr8)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-27T12:35:14.030

RabbitMQ 连接工厂的默认连接超时是**600 秒**（至少在 Java 客户端 API 中），因此是 10 分钟。您可以通过向连接工厂指定您选择的超时来更改此设置。

确保在特定时间后释放并重新创建连接是一种很好的做法，以防止最终泄漏和过多的资源。您的代码应确保它寻求一个未关闭以超时的有效连接，并在已超时的连接上重新建立新连接。总体而言，采用连接池方法。

*- Java 示例：*

```
 ConnectionFactory factory = new ConnectionFactory();
    factory.setHost(this.serverName);
    factory.setPort(this.serverPort);
    factory.setUsername(this.userName);
    factory.setPassword(this.userPassword);
    factory.setConnectionTimeout( YOUR-TIMEOUT-IN-SECONDS ); 

    Connection = factory.newConnection(); 
```

# algorithm - 访问最高值附近项目的最佳数据结构？

> ID：15150209
> 
> 赞同：2
> 
> 时间：2013-03-01T03:52:39.713
> 
> 标签：algorithm, sorting, search, tree, heap

我正在做一些事情，我必须存储相当多的项目（大约几千个）。

项目会被频繁地插入、删除和访问；然而，一个项目的值越大，它就越有可能被插入、删除或访问。

此外，我想支持对结构中的前“k”个项目进行非常快速的排序，其中“k”相当小。

因此，理想情况下，进行这些操作的成本将与其价值直接相关。

一个简单的旧链表，其中项目始终保持排序将是这里的幼稚方法，但在所有情况下的性能仍然很重要；在一般情况下，我希望操作比 O(n) 更好。

我在这个问题上进行了相当多的头脑风暴，我很困惑。

起初我认为[Beap](http://en.wikipedia.org/wiki/Beap)可能是理想的数据结构，但搜索并不偏向于 Beap 的顶部；相反，他们从底角开始，然后向上和向上工作。不是我需要的。

某种风格的二叉搜索树似乎不是正确的解决方案，因为尽管这些操作是 O(log n)，但我希望对更大的值做得更好。

我需要的几乎是一个翻转的二叉搜索树，这样我就可以从右下角开始遍历。但我正试图绕过它，看看它是否对我有用。我*认为*它会提供 O(2 log n) 最坏情况下的性能，并且对于更大的值比 O(log n) 更好......但我不完全确定。

有这样的数据结构吗？还是我必须发明一个？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T13:20:56.747

如果可以接受概率数据结构，请使用（稍作修改）[Skip list](http://en.wikipedia.org/wiki/Skip_list)。

元素应按降序存储。还应修改搜索操作以在底部列表中的头元素处开始搜索（而不是在顶部列表中，如普通跳过列表）。

插入/删除/搜索操作的预期时间为 O(log K)，其中 K 是大于插入/删除/搜索的元素的数量。最坏情况的时间复杂度是 O(K)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T13:53:40.633

为什么不能使用[堆](http://en.wikipedia.org/wiki/Heap_%28data_structure%29)？它们将最大的项目存储在更靠近顶部的位置，并支持亚线性时间内的所有操作。此外，显然基于堆的[heapsort允许非常快速地对数组进行部分排序（获取前 N 个元素）。](http://en.wikipedia.org/wiki/Heapsort)

# c - 试图使用自己的 strcpy 并复制数组元素不起作用？

> ID：15150210
> 
> 赞同：0
> 
> 时间：2013-03-01T03:52:50.673
> 
> 标签：c

亲爱的朋友，我是新来的，请检查我的代码。我的意图是将名称复制到结构数组元素中。我是c新手，无法理解发生了什么......请指导我？

```
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

typedef struct new_st{

      const char name[100];
      int value;

    }var1;

char *myStringcopy(char *dst, const char *src)
{
         char *ptr;
         ptr  = dst;
        while(*dst++!=NULL)
        {
           *dst++=*src++;
          }

        return(ptr);
 }

 int main()
{

   char my_str[] = {"HelloWord", "MY var1", "my var2"};

   var1 *new_st1;

   new_st1 = malloc(sizeof(struct new_st));

     //trying just first name then i thought of using for loop for rest

      myStringcopy(my_str, new_st1->name[0]);

       printf("%s\n",new_st1->name[0]);

   return 0;

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T04:13:31.800

在此函数 `char *myStringcopy(char *dst, const char *src)`中，您的第一个参数是目的地。但是您使用源地址作为第一个参数调用此函数。

您`while(*dst++!=NULL)`在 while 条件和 while 正文中的循环中将目标地址增加了两次 int 函数`*dst++=*src++;`

您的 while 条件检查内容等于`NULL`

字符串数组声明应该是这样的 `char *my_str[] = {"HelloWord", "MY var1", "my var2"};`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-01T04:14:47.277

坦率地说，您的代码似乎有很多逻辑错误。这是我的修复：

```
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

typedef struct new_st{
    char name[100]; //It should not be const because the content inside the array is intended to be modified.
    int value;
}var1;

char *myStringcopy(char *dst, const char *src) 
{
        char *ptr;
        ptr  = dst;
        while(*src!='\0') //src should be copy until a '\0' in src is reach.
           *dst++=*src++;
        *dst='\0'; //making dst a null-terminated string

        return(ptr);
 }

int main()
{

    const char* my_str[] = {"HelloWord", "MY var1", "my var2"}; //I have no idea why your code in this line even compile. The type of my_str should be char**, or an array of char* . Also, you should use const if the string will not be modified.
    var1 *new_st1;

    new_st1 = malloc(sizeof(struct new_st));
    myStringcopy(new_st1->name, my_str[0]); //new_st1->name[0] is a char. There is no reason to copy a char. Instead, you should copy a char* . I *guess* that you want to copy stuffs from my_str[n] to new_st1->name
    printf("%s\n",new_st1->name); //%s accepts a string(i.e. char*) , while new_st1->name[0] is a char. In this case, new_st1->name should be passed as a parameter, instead of new_st1->name[0]
    free(new_st1); //you should free() it after allocating memory with malloc() to avoid memory leak.
    return 0;
} 
```

这是你想要的吗？

编辑：现在解释一下。

# java - java中的会话是如何工作的？

> ID：15150215
> 
> 赞同：1
> 
> 时间：2013-03-01T03:53:12.417
> 
> 标签：java, session, map, hashmap

如果我在会话中放一张地图。然后，如果我从地图中删除一个对象。这也会改变会话中的地图还是我必须再次将地图放入会话中？

```
 Map map = new HashMap();

        map.put("1", "1");
        map.put("2", "2");
        map.put("3", "3");
        map.put("4", "4");

        Session session = getSession();

        session.setAttribute("myMap", map);

        map.remove("1"); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-01T04:01:10.427

是的，它会在会话中更新地图......

```
 Map map = new HashMap();
        map.put("1", "1");
        map.put("2", "2");
        map.put("3", "3");
        map.put("4", "4");
        session.setAttribute("myMap", map);

        map.remove("1");
        Object mapw = session.getAttribute("myMap");  
        out.println(mapw); 
```

**输出**

```
{3=3, 2=2, 4=4} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-01T03:56:53.383

会话保留对您放入的对象的引用。如果您更改地图的内容，地图对象的引用不会改变。它仍然是同一张地图，因此您在会话中拥有的信息也会发生变化。

像这样：

```
Map original_map = new HashMap();
session.setAttribute("myMap", original_map);

// Now put something into original_map...
// The _content_ of the map changes

// Later:
Map retrieved_map = session.getAttribute("myMap");

// you'll find that retreived_map == original_map.
// They're the same object, the same Map reference.
// So the retrieved_map contains all that you put into the original_map. 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-01T04:00:20.783

您的地图仍保留在会话中。但是，在这种情况下使用 Wea​​kHashMap 可能是更好的做法。请参阅以下链接

[弱哈希图讨论](https://stackoverflow.com/questions/154724/when-would-you-use-a-weakhashmap-or-a-weakreference)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-01T04:10:29.157

是的，它会更新。

这背后的原因是 Java 中的所有对象都是通过引用传递的，除非访问器当然返回对象的副本。

# excel - 在excel中强制格式化导入的文本文件

> ID：15150220
> 
> 赞同：0
> 
> 时间：2013-03-01T03:53:50.090
> 
> 标签：excel, vba

我有包含 MCQ 测验的文本文件。目前，在将所有测验问题导入 Excel 之前，我必须使用分隔符（例如 TABS）编辑所有测验问题。

我需要一种自动方式将导入的文件格式化为这些列：

```
QuestionId, ExamType, Year, Subject, Question, Answer1, Answer2, Answer3, Answer4, Answer5, CorrectAnswer, Image 
```

无需先手动编辑文本。

这是我当前导入 excel 的文本示例。

```
1.Government as an art of governing refers to the process of A.ruling people in the society b.establishing political parties C. providing free education D. acquiring social skills, 2\. An essential feature of a State is A. availability of mineral resources B. developed infrastructure. C an organized system of laws D. developed markets. 
```

我想将示例 1 和 2 放入上面的列中。我已经把我一直在做的事情拉上拉链，这样你就可以看看了。我还包括了原始测验数据，这样您就可以知道我要强制格式化的是什么

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T04:53:36.397

尝试这个：

打开您的 excel 文档并点击`Alt`+`F11`以调出 VBA 编辑器，插入一个新模块（如果尚不存在），打开它，然后粘贴以下代码（它们是我们自定义的用户定义函数）一会儿用）

```
Function LEFTDELIMIT(ByVal text As String, ByVal delimiter As String)
    Dim position As Integer
    Dim leftText As String
    position = InStr(1, text, delimiter, vbTextCompare) - 1
    leftText = Left(text, position)
    LEFTDELIMIT = leftText
End Function

Function RIGHTDELIMIT(text, delimiter)
    Dim position As Integer
    Dim rightText As String
    position = Len(text) - Len(delimiter) - InStr(1, text, delimiter, vbTextCompare) + 1
    rightText = Right(text, position)
    RIGHTDELIMIT = rightText
End Function

Function NOERROR(text)
    If IsError(text) Then
        NOERROR = ""
    Else
        NOERROR = text
    End If
End Function 
```

我猜此时您的测验的所有文本都在 A1 中。继续并按照我之前指定的那样用逗号分隔该单元格，以便将每个问题放在自己的列中。由于我们希望这些问题中的每一个都占据自己的行，因此突出显示第 1 行的所有内容，然后将其复制粘贴到 A2 中，然后选择转置值的选项。现在每个问题都有自己的行。现在我们想做的是给每个答案选择它自己的列。我们可以使用之前的自定义函数，这些函数允许您将所有文本放在自定义分隔符的左侧或右侧。

如果 A2 的值为

*   1.作为一种治理艺术的政府是指 A.统治社会中的人民 b.建立政党 C.提供免费教育 D.获得社会技能的过程

然后我们将使用以下代码填写其他列：

*   B2：`=LEFTDELIMIT(A2,"A.")`
*   C2：`=NOERROR(PROPER(TRIM(LEFTDELIMIT(RIGHTDELIMIT(A2,"A."),"B."))))`
*   D2：`=NOERROR(PROPER(TRIM(LEFTDELIMIT(RIGHTDELIMIT(A2,"B."),"C."))))`
*   E2：`=NOERROR(PROPER(TRIM(LEFTDELIMIT(RIGHTDELIMIT(A2,"C."),"D."))))`
*   F2：`=NOERROR(PROPER(TRIM(LEFTDELIMIT(RIGHTDELIMIT(A2,"C."),"D."))))`
*   G2：`=NOERROR(PROPER(TRIM(LEFTDELIMIT(RIGHTDELIMIT(A2,"D."),"E."))))`

这是对传入数据的格式做出某些假设。如果这不起作用，请向大家展示一个 Excel 文件，您可以通过任何在线文件共享主机上传和分发该文件，以便更好地了解哪些特定错误可能会导致您出错

# r - 将每个因子的第一个元素转换为 R 中的 NA

> ID：15150228
> 
> 赞同：1
> 
> 时间：2013-03-01T03:54:47.673
> 
> 标签：r, vector, dataframe, subset, na

我有一个简化如下的数据框：

```
Day Place   dendrometer max

1   1       1   4684

2   1       1   4831

1   1       2   2486

2   1       2   2596

1   2       1   6987

2   2       1   6824 
```

我需要每个 dendrometer 的第一个元素作为 NA，所以每次 R 计算一个新的 dendrometer（独立于位置）的“max”时，都从 NA 开始，如下所示：

```
Day Place   dendrometer max

1   1       1   NA

2   1       1   4831

1   1       2   NA

2   1       2   2596

1   2       1   NA

2   2       1   6824 
```

你能否让我知道我可以计算每个环内每个 dendrometer 的 max 列的 MEAN（sapply，聚合？）而不是计算整个 max 列的平均值？注意： dendro 1 in place 1 与 dendro 1 in place 2 不同，我需要为它们中的每一个提供不同的信息

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-01T04:35:47.883

您是否总是在一个地方对一台测树仪进行两次测量？如果是这样，那么您可以将所有其他值设置为 NA：

```
#x is your data.frame
x<-read.table("clipboard",header=TRUE)
x[seq(1,nrow(x),by=2),4]<-NA 
```

最大值是非NA值

```
x[seq(2,nrow(x),by=2),4] 
```

如果您的数据更复杂，这应该有效：

```
dup<-duplicated(x[,2:3]) #find the non-unique cases
x[!dup,4]<-NA #set the first measurements as NA
tapply(x[dup,4],which(dup),max) #compute max from others. 
```

请注意，为了计算平均值，您不需要将第一个测量值设置为 NA。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-01T06:51:59.157

```
 library(data.table)
  myDat <- data.table(myDat, key="Day")

  # using the `mult` argument, make the first instance of each Day  NA
  myDat[.(Day), dendrometer := NA, mult="first"]

  # add mean
  myDat[, mean := mean(dendrometer, na.rm=TRUE), by=Day]

  # add max
  myDat[, max := max(dendrometer, na.rm=TRUE), by=Day] 
```

## 结果：

```
 > myDat
     Day Place dendrometer     mean  max
  1:   1     1          NA 3304.333 4831
  2:   1     1        4831 3304.333 4831
  3:   1     2        2486 3304.333 4831
  4:   1     2        2596 3304.333 4831
  5:   2     1          NA 6824.000 6824
  6:   2     1        6824 6824.000 6824 
```

### 使用的样本数据：

```
 read.table(text=
  "Day Place   dendrometer
     1       1   4684
     1       1   4831
     1       2   2486
     1       2   2596
     2       1   6987
     2       1   6824", header=TRUE, stringsAsFactors=FALSE) -> myDat 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-01T09:31:42.983

`max`首先，用 计算的平均值`tapply`。

```
dat <- transform(dat,
                 mean = tapply(max, c(0, cumsum(abs(diff(dendrometer)))), mean))

  Day Place dendrometer  max   mean
1   1     1           1 4684 4757.5
2   2     1           1 4831 2541.0
3   1     1           2 2486 6905.5
4   2     1           2 2596 4757.5
5   1     2           1 6987 2541.0
6   2     2           1 6824 6905.5 
```

您可以使用该`diff`函数来查找之间的差异，`dendrometer`并使用该`is.na<-`函数来替换 中`max`的值`NA`。

```
is.na(dat$max) <- c(TRUE, diff(dat$dendrometer) != 0)

  Day Place dendrometer  max   mean
1   1     1           1   NA 4757.5
2   2     1           1 4831 2541.0
3   1     1           2   NA 6905.5
4   2     1           2 2596 4757.5
5   1     2           1   NA 2541.0
6   2     2           1 6824 6905.5 
```

# html - 如何在div中垂直居中文本？

> ID：15150229
> 
> 赞同：3
> 
> 时间：2013-03-01T03:54:49.900
> 
> 标签：html, css, layout, alignment

我知道你可以通过设置单行来做到这一点`line-height`，但我的数据可能会占用多行。`display:table`我尝试为父母和孩子做一些设置`display:table-cell`，但我无法让它工作。

这是我的[jsfiddle](http://jsfiddle.net/rVgkJ/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T04:24:31.580

好吧，我玩了一下 jsFiddle，这就是我想出的：

[http://jsfiddle.net/rVgkJ/7/](http://jsfiddle.net/rVgkJ/7/)

**相关的CSS：**

```
.small_wrapper_div{
    width:100%;
    display:table;
}

.small_wrapper_div > div{
    display:table-cell;
    vertical-align: middle; 
}

.small_picture_div{
    width:50px;
    height:50px;
}

.small_picture_div img {
    width:50px;
    display:block;
}

.small_text_div{
    padding-left:10px;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-01T04:29:57.047

简而言之，您需要添加`position: relative`到包含的 div ( `small_wrapper_div`) 中，然后您可以添加：

```
.small_text_div a {
    display: table-cell; 
    vertical-align: middle; 
    text-align: left;    
} 
```

并更改`.small_text_div`为以下组合：

```
.small_text_div {
    height:100%;
    padding-left:10px;
    width:250px;
    position: absolute;
    left:50px;
    top: 2px;  
    display: table; 
} 
```

您将使文本垂直居中。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-01T06:11:49.660

嗨使用表格，这样您就可以轻松地将其垂直对齐

html

```
<table>
    <tr>
        <td class="image"><img src = "http://www.startingtofeelit.com/wp-content/uploads/2013/02/Wild-Party.jpg"/></td>
        <td>Talib Kweli &#8211; Push Thru (DJ Friendship Remix)</td>
    </tr>
    <tr>
        <td class="image"><img src = "http://www.startingtofeelit.com/wp-content/uploads/2013/02/Wild-Party.jpg"/></td>
        <td>Talib Kweli &#8211; Push Thru (DJ Friendship Remix)</td>
    </tr>
    <tr>
        <td class="image"><img src = "http://www.startingtofeelit.com/wp-content/uploads/2013/02/Wild-Party.jpg"/></td>
        <td>Talib Kweli – Push Thru <br />(DJ Friendship Remix)</td>
    </tr>
</table> 
```

css

```
table td.image img{
    width:50px;
    height:50px;
} 
```

[**演示**](http://jsfiddle.net/jhunlio/rVgkJ/8/)

# prolog - 评估代数表达式

> ID：15150232
> 
> 赞同：1
> 
> 时间：2013-03-01T03:55:12.240
> 
> 标签：prolog

这是一个我遇到问题的测试复习问题。您如何编写一个方法来计算带有运算符`plus`和 `minus`的代数表达式`times`。以下是一些测试查询：

```
simplify(Expression, Result, List)

?- simplify(plus(times(x,y),times(3 ,minus(x,y))),V,[x:4,y:2]).
          V = 14

?- simplify(times(2,plus(a,b)),Val,[a:1,b:5]).
          Val = 12

?- simplify(times(2,plus(a,b)),Val,[a:1,b:(-5)]).
          Val = -8 . 
```

我得到的只是这些示例查询，没有其他解释。但我很确定该方法应该剖析第一个参数，它是代数表达式，用 x 和 y 代替它们在第三个参数（列表）中的值。第二个参数应该是计算表达式后的结果。

我认为其中一种方法应该是`simplify(V, Val, L) :- member(V:Val, L).` 理想情况下应该只再有 4 种方法......但我不知道该怎么做。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-03T15:07:49.940

从小处着手，写下你所知道的。

```
simplify(plus(times(x,y),times(3 ,minus(x,y))),V,[x:4,y:2]):- V = 14. 
```

是一个非常好的开始：`(+ (* 4 2) (* 3 (- 4 2))) = 8 + 3*2 = 14`. 但是，当然，

```
simplify(times(x,y),V,[x:4,y:2]):- V is 4*2. 
```

甚至更好。还，

```
simplify(minus(x,y),V,[x:4,y:2]):- V is 4-2.
simplify(plus(x,y),V,[x:4,y:2]):- V is 4+2.
simplify(x,V,[x:4,y:2]):- V is 4. 
```

所有完美的 Prolog 代码。但当然，我们真正的意思是，*很明显*，是

```
simplify(A,V,L):- atom(A), getVal(A,L,V).
simplify(C,V,L):- compound(C), C =.. [F|T], 
  maplist( simp(L), T, VS),       % get the values of subterms
  calculate( F, VS, V).           % calculate the final result

simp(L,A,V):- simplify(A,V,L).    % just a different args order 
```

等`getVal/3`将需要以某种方式从`L`列表中检索值，并`calculate/3`在给定符号操作名称和计算值列表的情况下实际执行计算。

研究[`maplist/3`](http://www.swi-prolog.org/pldoc/man?predicate=maplist%2F3)和[`=../2`](http://www.swi-prolog.org/pldoc/doc_for?object=%28%3D..%29/2)。

（未完成，未测试）。

* * *

好吧，`maplist`这有点矫枉过正`=..`：你所有的条款都可能是`op(A,B)`. 所以定义可以*简化*为

```
simplify(plus(A,B),V,L):-
  simplify(A,V1,L),
  simplify(B,V2,L),
  V is V1 + V2\.         % we add, for plus

simplify(minus(A,B),V,L):-
  % fill in the blanks
  .....
  V is V1 - V2\.         % we subtract, for minus

simplify(times(A,B),V,L):-
  % fill in the blanks
  .....
  V is .... .           % for times we ...

simplify(A,V,L):-
  number(A),
  V = .... .            % if A is a number, then the answer is ... 
```

最后一种可能性是，`x`或`y`等等，满足`atom/1`。

```
simplify(A,V,L):-
  atom(A),
  retrieve(A,V,L). 
```

所以上面子句的最后一个调用可能看起来像`retrieve(x,V,[x:4, y:3])`，或者看起来像`retrieve(y,V,[x:4, y:3])`。实施起来应该是一件简单的事情。

# php - 如何将 codeigniter 的 URL_TITLE 值应用于 URL

> ID：15150234
> 
> 赞同：2
> 
> 时间：2013-03-01T03:55:28.197
> 
> 标签：php, codeigniter, url-routing

我对ci完全陌生，

我有一个这样的网址：

```
http://localhost/mvc/post/prod_id/1 
```

我希望它是：

```
http://localhost/mvc/post/my-best-product 
```

到目前为止，我能够设法将所有这些路由到`home/post/`并学习该`segment`功能。

但我的问题是我如何真正获得`url_title`实际的网址。

我找不到关于这个特定主题的任何信息。我能找到的只是如何使用`url_title`ci 以及如何在 ci 中路由。但他们没有解释我们如何才能实际更改基本 url 名称。

请引导我走向正确的方向。

**解决方案示例：**

```
public function my_method($product_slug)
{
    $product1 = "training-for-recruitment";
    $product2 = "training-for-od";

    if($product_slug==$product1)
    {
        $this->load->view('prod1');

    }else if($product_slug==$product2)
    {
        $this->load->view('prod2');

    }else{
        show_404();
    }
} 
```

这不是我真正要做的。只是为了让其他人了解 Slugs 的解决方法。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-01T06:25:59.670

为您的每个产品生成一个独特的 slug。在产品表上为其添加一个字段，并且每次从表中选择产品时，使用该 slug 而不是从主 ID 获取产品。

因此，您的功能变为：

```
function product($product_slug)
{
    //get product by slug from database
    //load view page
} 
```

现在，在**config/routes.php**

```
$route['your_controller_name/(:any)'] = "your_controller_name/product/$1"; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-01T04:00:52.937

你需要这样做：

1.  设置一些将“my-best-product”翻译为“1”的逻辑
2.  在 CI 中设置路由，调用您的“prod_id”控制器并传递 URI 变量

# sql - 在插入新数据集之前获取表中已有事件的行数？

> ID：15150244
> 
> 赞同：2
> 
> 时间：2013-03-01T03:56:52.673
> 
> 标签：sql, oracle, insert

我有一个由三个值组成的表

1.  参与者ID
2.  课程事件ID
3.  标记

每人`courseevent`只限15人

如何使用 Oracle 进行检查？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-01T06:46:49.970

这个问题最重要的方面是让它在多用户环境中工作。

Oracle 只允许 READ COMMITTED 和 SERIALIZED 隔离级别。没有幻读或脏读，也没有“偷看”未提交会话的机制。 [了解更多](http://docs.oracle.com/cd/E11882_01/server.112/e25789/consist.htm#BABEAFAH)。

这意味着这个声明

```
select courseevent, count(*) 
from courseparticpants
group by courseevent; 
```

将显示已提交的记录数。如果您继续插入记录，您仍然可以插入第十六次预订，如果其他人在此期间提交了他们的工作。相反，当实际上有人要删除一行时，您可能会认为课程已经满了。

要控制这一点，您需要序列化对`courseparticpants`表的访问，以便一次只有一个会话可以将记录插入其中。有多种方法可以做到这一点，但最安全的是：

```
lock table courseparticpants exclusive nowait; 
```

如果您未能获得锁定，您就知道另一个会话已经在处理它。否则，您可以运行您的计数，插入一个新的预订并执行任何其他需要的操作，并确信您的规则没有被违反。

重要的是不要因为太锁而冻结在锁上，原因很明显：没有其他人可以在桌子上做他们的工作。一个稍微不那么突兀的机制是锁定父表中的相关记录；我没有首先提出这个建议，因为我不想对您的数据模型做出假设。

```
select whatever
from courseevents
where courseevent = :p1
for update nowait; 
```

这将允许其他会议为另一个活动预订参与者。 [了解更多](http://docs.oracle.com/cd/E11882_01/server.112/e26088/statements_10002.htm#i2130052)。

这两种解决方案都需要编写一个程序单元——比如在 PL/SQL 中——来管理事务。

> “有没有可能在约束条件下解决这个问题？”

不，Oracle 不允许在其 CHECK 约束中使用 SQL。标准 SQL 有断言的概念，但 Oracle 没有实现它们。

一种可能的解决方案是在`participantid`内进行计数`courseevent`，因此您可以强制执行检查约束

```
check ( participantid <= 15) 
```

但是，您仍然需要执行所有锁定操作才能获得当前参与者数量的准确数字，以确保您`n+1`是正确的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T04:01:28.473

```
select count(*)
from blah, blah, blah 
```

为您提供现有记录的数量。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-02T14:09:26.327

常规表约束只考虑*单独*的行，但您的要求是一起考虑一*组行*。这是一个相当复杂的解决方案，它使用物化视图约束来实现需求。您可以将其视为在结果集中的列上定义约束。

```
create table course_participants(
   course          varchar2(20) not null
  ,participant     varchar2(20) not null
  ,constraint course_participants_pk primary key(course, participant)
);

-- Need this for fast refreshable mview
create materialized view log 
    on course_participants 
       with rowid(course, participant) 
       including new values;

-- A materialized view with a count of participants per course
create materialized view course_parts_max_mv
refresh fast on commit
as
select course
      ,count(*) as participants
 from course_participants
group 
   by course;

-- This is where you perform the check. 
-- I've used 2 participants to make the example easier
alter materialized view course_parts_max_mv 
  add constraint too_many_participants check(participants <= 2); 
```

上面的 DDL 创建了一个表和一个物化视图。物化视图将包含每门课程的一行以及参与者的 nr。诀窍是，我们现在可以在物化视图上声明它，而不是在基表上声明约束。

```
-- One participant is ok!
insert into course_participants values('Oracle', 'Alfred');
commit;

-- Two participants are ok!
insert into course_participants values('Englis speling', 'Benjamin');
insert into course_participants values('Englis speling', 'Charles');
commit;

-- This will fail, because the count(*) for 'Economics' will return 3
insert into course_participants values('Economics', 'Alfred');
insert into course_participants values('Economics', 'Benjamin');
insert into course_participants values('Economics', 'Charles');
commit;
ORA-12008: error in materialized view refresh path
ORA-02290: check constraint (RNBN.TOO_MANY_PARTICIPANTS) violated 
```

**请注意，当您提交**事务时会检查约束，因此在最后一个示例中，任何参与者都不会注册。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-01T04:12:44.577

这显示了超过 15 个事件的参与者。

```
SELECT participant, COUNT(DISTINCT courseevent) F
FROM Table
GROUP BY participant
HAVING COUNT(DISTINCT courseevent) > 15 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-01T04:13:49.550

```
INSERT INTO MyTable(Col1, Col2, Col3)
    SELECT 'Val1', 'Val2', 'Val3'
      FROM DUAL
     WHERE (SELECT COUNT(*) FROM MyTable WHERE condition) < 15; 
```

# linux - 编写一个 bash 脚本，将变量写入另一个文件的行尾

> ID：15150246
> 
> 赞同：1
> 
> 时间：2013-03-01T03:56:56.870
> 
> 标签：linux, bash, sed

我正在尝试向 bash 脚本添加一行，该脚本执行许多其他操作，而我想要它做的是写入另一个文件的行尾。我有一个文件，其中包含一行 IP 地址，都是一行。我编写的这个脚本要求用户输入，其中一个要求是 IP 地址。它被存储为一个变量 inside_ip 我想把它写到另一个文件的行尾。我发现了一个类似的问题，解决方案是

```
sed -i.bck '$s/$/yourText2/' list.txt 
```

我试图把它放在一个文件中

`sed -i.bck '$s/$/ $inside_ip/' list.txt`

但它实际上将 $inside_ip 写入文件末尾，所以我只需要它来打印变量。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-01T04:05:53.000

以下内容对您有用吗？

```
echo $inside_ip >> list.txt 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-01T04:08:28.757

使用`"`'s 而不是`'`'s 如`sed -i.bck "s/$/ $inside_ip/" list.txt`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-01T04:08:22.467

单引号阻止变量被扩展。双引号允许它们被扩展。因此：

```
sed -i.bck '$s/$/ '"$inside_ip/" list.txt 
```

这保护了`$s`单引号；您想`sed`查看`$`和`s`，而不是（可能未设置的）shell 变量的值`$s`。当然，如果文件只包含一行，那么前导`$`并不重要；您可以将其排除在外，或将其替换为`1`. `/$/`无论如何都会留下，但后面的双引号会扩展变量，保留其中的任何空格（尽管 IP 地址通常不包含空格）。

# mysql - MySQL：表可以递归锁定吗？

> ID：15150249
> 
> 赞同：1
> 
> 时间：2013-03-01T03:57:29.393
> 
> 标签：mysql, recursion, locking, nested

MySQL（InnoDB）表可以**递归**锁定吗？

在 LOCK TABLES 文档中找不到任何提及嵌套或递归的内容。

默认行为似乎是（基于我观察到的）第二个锁隐式解锁第一个锁。

有没有办法让它递归地运行？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-01T04:10:58.050

如果**递归**，你的意思是`LOCK TABLES`重复调用，创建一系列嵌套锁，那么答案是“不”。调用`LOCK TABLES`表会隐式释放该线程在该表上持有的所有当前锁。

从[MySQL LOCK TABLES 语法文档](http://dev.mysql.com/doc/refman/5.6/en/lock-tables.html)：

> `UNLOCK TABLES`显式释放当前会话持有的任何表锁。`LOCK TABLES`在获取新锁之前隐式释放当前会话持有的任何表锁。

# c# - 不使用 OO 封装会产生安全风险吗？

> ID：15150251
> 
> 赞同：0
> 
> 时间：2013-03-01T03:57:52.053
> 
> 标签：c#, security, oop

这个问题可能听起来有些愚蠢，但我很想知道，如果公开像 publics 这样的对象的字段，是否会在我的应用程序中造成安全风险或漏洞，从而被其他人利用？

```
public class AClass
{
    public int AProperty { get; set; }

    //Less Secure?
    public int APublicField;
} 
```

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-01T04:24:53.183

访问修饰符（公共、私有、受保护）只是一种机制，允许对具有源访问权限的人进行不同级别的封装。您应该将它们与 OOP 最佳实践一起使用，以使您的逻辑易于维护。它们与您的应用程序的安全性完全无关。

在 C# 中，您可以像使用公共数据一样轻松地使用 RTTI 来反映私有数据。由于 C# 的 CLR 和二进制兼容性保证，您甚至可以在自己的外部二进制文件上执行此操作。即使您不能使用反射，攻击者也可以使用反汇编程序并将代码作为中间语言进行检查。您可能想阅读这篇[文章](https://stackoverflow.com/questions/8784557/how-to-write-a-truly-private-method-in-c)。

熟悉该平台的精明攻击者甚至可以寻找有关如何逆向工程运行内核级调试器（如[softICE](http://en.wikipedia.org/wiki/SoftICE) ）的应用程序的线索。

[您总是可以尝试通过封装您的逻辑来尝试通过模糊](http://en.wikipedia.org/wiki/Security_through_obscurity)使用某种形式的安全性，以试图使执行不那么明显，但显然如果有人足够持久，他们会找到一种方法。

安全性的最佳选择是进行研究并寻找使用良好的商业和开源库。密码学的曝光率越高越好，因为库开发人员和白帽可以在发现漏洞时协作修复漏洞。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-01T04:02:41.883

您的代码段中的两个“字段”本质上是等效的。第一个只是一个[auto-property](http://msdn.microsoft.com/en-us/library/bb384054.aspx)。因此，两者都不比另一个更“安全”。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-03-18T15:36:50.867

实际上，setter 和 getter 只是 OOP 的历史最佳实践。

您公开的两种解决方案都不尊重封装，因为当您更改属性的名称或类型时，您必须在使用它的所有类中更改它。

但是，public 属性的一个优点是您获得的代码更少，这有助于轻松理解和维护代码。

# r - 什么数大于 x 并且落在位置 y 之后

> ID：15150262
> 
> 赞同：0
> 
> 时间：2013-03-01T03:59:33.653
> 
> 标签：r

哪个数量的 x > 5 并且落在第 10 位之后？它是第 11 位的数字。但我发现自己编写了很长的代码来得到答案，我想知道是否有更快的方法。

```
x <- c(5,7,3,6,9,4,1,4,7,10,8,5,7,9,7,1, 8, 4, 4,9); 
```

识别所有 >5 的数字的位置，称之为 x1：

```
x1 <- which(x>5); 
```

确定第 10 个位置之后出现的第一个位置 (x1)：

```
first(which(x1 >10)) 
```

这标识了 x1 的位置 6；

确定该数字在原始向量 (x) 中的位置：

```
x1[first(which(x1 >10))]; 
```

现在我们有了我们想要的值在原始向量 (x) 中的位置，这段代码提取了我们想要的值：

```
x[x1[first(which(x1 >10))]] 
```

这似乎是一个很长的代码来回答一个简单的问题，你知道获得相同结果的更短/更简单的方法吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-01T04:15:01.760

一些非常简单的索引和子集化有什么问题？

`x`这给出了大于 5 并且出现在 position 之后的所有元素的索引`10`：

```
> which(x > 5 & seq_along(x) > 10)
[1] 11 13 14 15 17 20 
```

所以最终的答案是

```
> which(x > 5 & seq_along(x) > 10)[1]
[1] 11 
```

或者

```
> head(which(x > 5 & seq_along(x) > 10), 1)
[1] 11 
```

这里使用的技巧是生成`x`使用该`seq_along()`函数的索引向量。这样我们就可以在一个逻辑语句中生成所有匹配项，然后选择其中的第一个。

如果要提取已识别的元素，则：

```
> want <- which(x > 5 & seq_along(x) > 10)[1]
> x[want]
[1] 8 
```

[不清楚您是否想确定哪个元素符合您的标准或该元素的价值。]

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-01T10:07:11.033

使用[函数](http://stat.ethz.ch/R-manual/R-patched/library/base/html/funprog.html)式编程提取索引的替代版本：

```
> Find(function(y) x[y] > 5 & y > 10, seq_along(x))
[1] 11 
```

或提取元素：

```
> x[Find(function(y) x[y] > 5 & y > 10, seq_along(x))]
[1] 8 
```

不过，不知道与简单索引相比在性能上的差异。

# jquery - Jquery如何在parseHTML时停止自动加载图像

> ID：15150264
> 
> 赞同：1
> 
> 时间：2013-03-01T03:59:46.277
> 
> 标签：jquery, image, load

我有一个页面使用 Jquery $.ajax 来获取另一个页面的 html 代码。这是它的样子：

```
 <html><head>
    <script language="JavaScript" type="text/javascript" src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
    <script language="JavaScript" type="text/javascript">
    <!--
$(function(){
        $.ajax({
            url:another_page_url,
            async:false,
            dataType:"text",
            success:function(doc){ 
                //do something with $(doc) 
                //e.g. alert($(doc).find('img').attr('src'));}
        });
});
    //-->
    </script>
    </head>
    <body>
        <pre id="result" style="word-wrap: break-word; white-space: pre-wrap;"></pre>
    </body></html> 
```

another_page_url 是一个网页，里面有很多这样的图片：

```
<img src="http://ww3.sinaimg.cn/mw600/50cdeb22jw1e2a35t0w8ag.gif"> 
```

问题是当我在成功加载后调用 $(doc)（等于 $.parseHTML(doc)）时，Jquery 启动 ajax get 请求以加载 doc 中包含的所有图像。我的问题是如何防止这种自动加载的事情？我只想要图像 url 字符串而不是这些真实图像。

PS 如果我设置 dataType="xml" 会有一个 prase 错误。（似乎我要加载的页面不是 xml 兼容的，我无法更改它。）设置 dataType="html" 等于调用 $( doc）这导致我遇到同样的情况。

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-05T06:37:57.847

谢谢大家。我的问题是这样解决的：

```
$.ajax({
    url:url,
    async:false,
    dataType:"text",
    success:function(doc){ 
        var new_doc = doc.replace(/<img [^>]*src=['"]([^'"]+)[^>]*>/gi, function (match, capture) {return "<img no_load_src=\"" +capture+ "\" />";});
        parse_function(new_doc);
    },
    error:function(jqXHR, textStatus, errorThrown){ alert(textStatus); }
}); 
```

只需两步即可解决此问题：

*   在 $.ajax 调用中显式设置 dataType="text" 以便 jquery 不会检测和解析返回的 html 文档。
*   在使用之前使用正则表达式替换所有img标签的src属性。（我将<img属性src="somewhere" />更改为<img no_load_src="somewhere" />以防止jquery加载真实图像。）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-01T04:42:37.767

每当您请求从中加载 html 数据时，它也将始终被视为 html。因此，如果您希望将 html 作为字符串，则需要将 **<**替换为**<**和**>**替换为**>**

请参考以下内容：

```
success:function(doc){ 

    // create dynamic temporary div
    var div = $("<div />" , { id : 'temp-container' });

    // appned reposne html into div 
    $(div).html(doc);

    var img_url = $(div).find('img').attr('src'); 

            // check firebug console
    console.log(img_url);   

} 
```

你可以找到任何属性。无需顶部将其附加到正文中。
希望它对你有用。祝你好运

# json - Sencha touch 在休息请求过程中加载掩码

> ID：15150265
> 
> 赞同：0
> 
> 时间：2013-03-01T03:59:52.020
> 
> 标签：json, web-services, rest, sencha-touch-2, loading

当我的列表需要从我的网络服务获取 json 结果时，是否可以制作加载栏？

这是我的代码 list.js

```
 Ext.define('bluebutton.view.BlueButton.MemberList', {
    extend: 'Ext.List',
    xtype: 'memberlistcard',
    requires: [
        'Ext.field.Select',
        'Ext.field.Search',
        'bluebutton.view.BlueButton.MemberDetail',
         'Ext.plugin.ListPaging',
        'Ext.plugin.PullRefresh',
        'Ext.dataview.Override'

    ],
    config: {

        styleHtmlContent: true,
        scrollable: 'vertical',
        itemHeight :20,
        variableHeights : false,
        store : { xclass : 'bluebutton.store.BlueButton.MemberList'},
       grouped: true,
        indexBar: true,

//       plugins: [
//                   
//                        { 
//                               xclass: 'Ext.plugin.ListPaging',
//                                 autoPaging: true
//                        
//                        }
//                ],

        id :'memberlist',
        items: [

        ],
        emptyText: '<p class="no-search-results">No member record found matching that search</p>',
        itemTpl: Ext.create(
            'Ext.XTemplate',
            '<div class="tweet-wrapper">',
                '<table>',
                    '<tr>',
                        '<td rowspan="2" width="28%" >',
//                        '<div style="padding-left: 30px;">',
//                        '   <img src="{imgUrl}" width="140" height="130" /></div>',
                        '</td>',
                        '<td>',
                        '   <div class="tweet">',
                        '       <h3>{consumer_bbID}</h3>',
                         '      <h3>Name: {fullName}</h3>',
                        '       <h3>Point Avalaible : {currentPoint} , Last Visited : {lastVisited}</h3>',

                        '   </div>',
                        '</td>',
                    '</tr>',
                '</table>',
            '</div>'

        ),

    },

}); 
```

Store.js

```
Ext.define('bluebutton.store.BlueButton.MemberList', {
    extend: 'Ext.data.Store',
   requires: [
              'bluebutton.model.BlueButton.MemberList'
    ],

    config: {
        grouper: {
            groupFn: function (record) {
                return record.get('fullName')[0];
            }
        },

           model :'bluebutton.model.BlueButton.MemberList',
           storeId :'memberStore',
            autoLoad: true,
            clearOnPageLoad: false,  // This is true by default
            pageSize: 10,

    }
}); 
```

模型.js

```
Ext.define('bluebutton.model.BlueButton.MemberList', {
    extend: 'Ext.data.Model',
    config: {
        idProperty: 'memberlistModel',
        fields: [
            {  name :'memberId'},
            {  name: 'fullName' },
            {  name: 'phone' },
            {  name: 'age' },
            {  name: 'point' },
            {  name :'address'},
            {  name: 'emailAddress' },
            {  name: 'lastVisited'  },
            {  name: 'consumer_bbID'  },
            {  name: 'merchant_bbID'  },
            {  name: 'sessionId'  },
            {  name: 'deviceId'  },
            {  name: 'currentPoint'  },

        ],

        proxy: {
            type: 'rest',
           url: 'http://192.168.251.131:8080/WebCommon/rest/BBWebService/getMembersList',
            reader: 'json',
            actionMethods: {
                create: 'POST',
                read: 'GET',
                update: 'PUT',
                destroy: 'DELETE'
            },

                      noCache: false, // get rid of the '_dc' url parameter

                    extraParams: {
                        sessionId: "1",
                        deviceId: "1",
                        merchant_bbID: "merchant1",

                    // add as many as you need
                },

            reader: {
                type: 'json',
                rootProperty: 'membersList'

            },

            writer: {
                type: 'json',

            },
        }

    }

}); 
```

sencha 从 Web 服务加载 json 数据时可能会延迟几秒钟？休息时从网络服务获取请求时是否可以实现加载栏

# node.js - 如何使用 Node.js 处理大型（1000 多个文件）目录？

> ID：15150268
> 
> 赞同：2
> 
> 时间：2013-03-01T04:00:07.773
> 
> 标签：node.js, file-io

因此，我有一个相当大的文件目录，我需要在 NodeJS 应用程序中使用长时间运行的进程来不断处理这些文件。该目录正在不断处理和清空，但在任何给定时间排队处理 1000 多个文件并不少见 - 它们是压缩的 CSV 文件，所以我天真的解决方案是获取目录列表，遍历文件，打开每个，解析它们，然后继续，如下所示：

```
files = fs.readdirSync 'directory'

for filename in files
  file_path = path.resolve path.join 'directory', filename
  fd = fs.openSync file_path, 'r'
  buf = new Buffer fs.statSync(file_path).size
  fs.readSync fd, buf, 0, len, 0
  fs.closeSync fd
  zlib.gunzip buf, (err, buf) =>
    throw err if err
    content = buf.toString().split("\n")
    for line in content
      # parse, process content, archive file 
```

我很快就遇到了 EMFILE（打开的文件太多）错误。请原谅 fs 函数和咖啡脚本的同步版本。

有没有更好的方法以托管方式处理大量文件？最终，我想使用像单个解析流这样的东西——我知道如何使用单个大（甚至不断增长的）文件来做到这一点，但不知道如何使用一个充满单独文件的目录。

这些文件由大量不同的客户端生成到面向公众的 Web 服务器，然后通过安全协议定期将它们同步到我的输入目录。不是一个理想的设置，但考虑到系统的特定性质，这是必要的，它解释了为什么我不能简单地将文件更改为单个多路复用流。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T10:34:19.560

不完全是解析流，但可能是朝着它迈出的一步：

您可以使用[https://npmjs.org/package/generic-pool](https://npmjs.org/package/generic-pool)来限制正在处理的并发文件的数量。您只需要定义要汇集的资源。

在您的情况下，我假设要池化的资源应该是一个文件处理器，以便一次只能有一个或几个。

您还可以使用某种迭代器方法来简化接下来要处理的文件。

编辑：完成我的回答。我尝试了您的问题并尝试了此 [https://gist.github.com/Floby/5064222](https://gist.github.com/Floby/5064222)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-02-19T05:05:44.960

Mixu 的 Node 书中有一节介绍了如何准确管理此类问题。[http://book.mixu.net/node/ch7.html](http://book.mixu.net/node/ch7.html)

您可以使用以下代码在“有限并行”中运行代码，如图所示 - 使用 limit 参数可以轻松管理您希望一次加载的数量：

```
function async(arg, callback) {
  console.log('do something with \''+arg+'\', return 1 sec later');
  setTimeout(function() { callback(arg * 2); }, 1000);
}
function final() { console.log('Done', results); }

var items = [ 1, 2, 3, 4, 5, 6 ];
var results = [];
var running = 0;
var limit = 2;

function launcher() {
  while(running < limit && items.length > 0) {
    var item = items.shift();
    async(item, function(result) {
      results.push(result);
      running--;
      if(items.length > 0) {
        launcher();
      } else if(running == 0) {
        final();
      }
    });
    running++;
  }
}

launcher(); 
```

# python - Mongoengine 中的“QuerySet”对象到底是什么？

> ID：15150275
> 
> 赞同：10
> 
> 时间：2013-03-01T04:00:59.053
> 
> 标签：python, list, class, mongodb, mongoengine

根据 Mongoengine API 指南（[http://mongoengine-odm.readthedocs.org/en/latest/apireference.html](http://mongoengine-odm.readthedocs.org/en/latest/apireference.html)）：

```
class mongoengine.queryset.QuerySet(document, collection) 
```

是“*从查询返回的一组结果。包装一个 MongoDB 游标，提供 Document 对象作为结果。* ”

当我`type()`在解释器中检查 QuerySet 对象时，它说 QuerySet 对象是 a `<class 'mongoengine.queryset.QuerySet'>`，与 API 指南一致。

我很困惑，因为为了实际访问`Document`QuerySet 实例中的单个 Mongoengine 对象，我必须使用索引方法，如 [0]（对于第一个`Document`对象）或 [2]（对于第三个`Document`对象）[见这个 SO question关于切片 QuerySet](https://stackoverflow.com/questions/5990026/mongoengine-slicing-queryset-mongodb-with-django)。有趣的是，您还可以调用`len()`QuerySet 实例。

**即使 QuerySet 是一个类对象，为什么它的行为看起来像一个列表对象？据我所知，它没有继承自`UserList`并且没有`data`属性。任何帮助将不胜感激。**

谢谢。

**编辑：**

感谢您的建议@isbadawi。这很有帮助。QuerySet 类对象确实包含该`__getitem__`方法，正如您的链接所暗示的那样，它“大致相当于”索引（例如`x.__getitem__(i)`，大致相当于`x[i]`）。因此，如果 QuerySet 通过 模拟列表类`__getitem__`，那么实际`Document`对象存储在类中的什么位置？在属性中？这是`dir(QuerySet)`我的解释器的输出：

```
> ['_QuerySet__already_indexed', '_QuerySet__dereference', '__call__', '__class__', '__delattr__', '__dict__', '__doc__', '__format__', '__getattribute__', '__getitem__', '__hash__', '__init__', '__iter__', '__len__', '__module__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__sizeof__', '__str__', '__subclasshook__', '__weakref__', '_as_pymongo', '_as_pymongo_coerce', '_build_index_spec', '_class_check', '_collection', '_collection_obj', '_cursor', '_cursor_args', '_cursor_obj', '_dereference', '_document', '_ensure_indexes', '_fields_to_dbfields', '_get_as_pymongo', '_get_scalar', '_hint', '_initial_query', '_item_frequencies_exec_js', '_item_frequencies_map_reduce', '_iter', '_limit', '_loaded_fields', '_lookup_field', '_mongo_query', '_ordering', '_query', '_query_obj', '_reset_already_indexed', '_scalar', '_skip', '_slave_okay', '_snapshot', '_sub_js_fields', '_timeout', '_transform_query', '_transform_update', '_translate_field_name', '_where_clause', 'all', 'all_fields', 'as_pymongo', 'average', 'clone', 'count', 'create', 'delete', 'distinct', 'ensure_index', 'exclude', 'exec_js', 'explain', 'fields', 'filter', 'first', 'get', 'get_or_create', 'hint', 'in_bulk', 'insert', 'item_frequencies', 'limit', 'map_reduce', 'next', 'only', 'order_by', 'rewind', 'scalar', 'select_related', 'skip', 'slave_okay', 'snapshot', 'sum', 'timeout', 'update', 'update_one', 'values_list', 'where', 'with_id'] 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-01T06:22:30.577

[从代码](https://github.com/MongoEngine/mongoengine/blob/master/mongoengine/queryset/queryset.py) 中可以看出，这`QuerySet`是对 pymongo 的一种抽象`cursor`。因此里面没有存储`QuerySet`。

当您调用`len()` `QuerySet.__len__`魔术方法时，将调用返回`self.count()`从游标询问计数的结果。

等等。`QuerySet.__getitem__`询问光标对应的项目，`QuerySet.first`做同样的事情。

当您怀疑事情是如何在内部实现时，我强烈建议您查看代码。

# java - 停止 Bufferedreader 进程

> ID：15150276
> 
> 赞同：1
> 
> 时间：2013-03-01T04:01:09.680
> 
> 标签：java, bufferedreader

我在linux终端中的数据包捕获命令..

```
sudo tcpdump -w kbh-ns.pcap -i lo greater 106 and less 106 
```

当我按下时，进程将停止并保存捕获的数据包

> ^c

我有如下代码，它使用 BufferedReader 来完成

```
public void SaveCapture() throws IOException
{
    List<String> command1 = new ArrayList<String>();
    //perintah untuk mecari koneksi ( SIP DIP SPort DPort )
    command1.clear();
    command1.add("sudo"); command1.add("tcpdump");
    command1.add("-w"); command1.add("kbh-ns.pcap"); //write
    command1.add("-i"); command1.add("vmnet1"); //interface
    command1.add("greater");command1.add("106"); //packet length
    command1.add("and");
    command1.add("less"); command1.add("106");//packet length
    command1.add("-c"); command1.add("20");

    ProcessBuilder pb = new ProcessBuilder(command1);
    process = pb.start();
    ProcessBuilder PB = new ProcessBuilder(command1);
    Process TerminalTask = PB.start();

    BufferedReader stdInput = new BufferedReader(new InputStreamReader(process.getInputStream()));

    String s;
    s = stdInput.readLine();
} 
```

如果我使用它就可以了

```
command1.add("-c"); command1.add("5");//number of packets to capture 
```

我的问题：如何使用 java 使用 ^c 命令停止进程？

如果我使用`process.destroy()`

```
private void ButtonStopScanActionPerformed(java.awt.event.ActionEvent evt) {                                               
    if (process != null)
    {
        process.destroy();
        TxtAreaKet.setText(TxtAreaKet.getText() + "Complete.. \n");
    }
    end = System.currentTimeMillis();
    try {
        ReadPacket();
    } catch (IOException ex) {
        Logger.getLogger(Receiver1.class.getName()).log(Level.SEVERE, null, ex);
    }
    TxtAreaKet.setText(TxtAreaKet.getText() + "waktu : "+ ((end - start) / 1000.0) + " ms");        
} 

private void ReadPacket() throws IOException {
    List<String> command1 = new ArrayList<String>();
    //perintah untuk mecari koneksi ( SIP DIP SPort DPort )
    command1.clear();
    command1.add("sudo"); command1.add("tcpdump");
    command1.add("-r"); command1.add("kbh-ns.pcap"); //read
    command1.add("-n"); 

    ProcessBuilder pb = new ProcessBuilder(command1);
    process2 = pb.start();
    ProcessBuilder PB = new ProcessBuilder(command1);
    Process TerminalTask = PB.start();

    BufferedReader stdInput = new BufferedReader(new InputStreamReader(process2.getInputStream()));
    BufferedReader stdError = new BufferedReader(new InputStreamReader(process2.getErrorStream()));

    String s;
    long a = 0;
    while ((s = stdInput.readLine()) != null)
    {
        a++;
    }
    TxtAreaKet.setText(TxtAreaKet.getText() + "Captured Packet : " + a + "\n");
    while ((s = stdError.readLine()) != null)
    {
        TxtAreaKet.setText(TxtAreaKet.getText() + s + "\n");
    }
} 
```

这并没有真正停止我的进程，因为..

![在此处输入图像描述](../Images/cdfc7331a4f5fdf59529176185554571.png)

当我`Stop Scan`再次按下

![在此处输入图像描述](../Images/958b650f4db3e42414b40bb46cd87923.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T04:03:50.613

> java - 如何使用java使用^c命令停止进程？

只要打电话`Process.destroy()`。

# sql-server - 如何根据相应的工作日找到未来的日期？

> ID：15150277
> 
> 赞同：1
> 
> 时间：2013-03-01T04:01:09.813
> 
> 标签：sql-server, tsql, date, calendar, weekday

我正在开发一个创建事件的日历系统。我需要能够将任何事件（在一天内发生）“前滚”到用户指定的月/年。

例如，2013 年 3 月 4 日是星期一。我需要能够根据给定的月份/年份确定相应的日期 - 基于工作日及其在月份​​中的位置。因此，在此示例中，4 月的对应日期为 4 月 1 日，即星期一。

另一个例子：2013 年 3 月 13 日是星期三，所以 5 月的对应日期是 5 月 8 日。

如果不是因为用户提供的月/年是可变的，这将不是那么困难的任务；但既然是...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T04:03:55.920

如果您有一个`Dates`包含五列、`FullDate`、`Month`、`Day`、`Year`和的表`DayOfWeek`，并填充了未来的日期，您可以轻松地执行以下操作。

假设`@m`和`@y`是用户指定的前滚月/年，`@d`是事件日期：

```
DECLARE @weekNumInMonth int =
(
    SELECT COUNT(1)
    FROM Dates
    WHERE Year = datepart(year @d) 
    AND Month = datepart(month, @d)
    AND DayOfWeek = datepart(weekday, @d)
    AND Day <= datepart(day, @d)
)

SELECT MAX(FullDate)
FROM 
(
    SELECT TOP @weekNumInMonth
    FROM Dates
    WHERE Year = @y
    AND Month = @m
    AND DayOfWeek = datepart(weekday, @d)
) x 
```

* * *

如果没有日期表，您只需要做一些数学运算：

```
DECLARE @DOW int = datepart(weekday, @d)
DECLARE @firstDayInMonth date = dateadd(day, 1-datepart(day, @d), @d)
DECLARE @firstDayInMonthDOW int = datepart(weekday, @firstDayInMonth)
DECLARE @firstSameDayInMonth date = 
    dateadd(day, (7-(@firstDayInMonthDOW-@DOW))%7, @firstDayInMonth)
DECLARE @weekInMonth int = datediff(week, @firstSameDayInMonth, @d)

DECLARE @corr date = datefromparts(@y, @m, 1)
DECLARE @corrDOW int = datepart(weekday, @corr)
DECLARE @corrFirstSameDay date = dateadd(day, (7-(@corrDOW-@DOW))%7, @corr)

SELECT dateadd(week, @weekInMonth, @corrFirstSameDay) 
```

[SQL 小提琴示例](http://www.sqlfiddle.com/#!6/d41d8/2893)

这有点难看，但它的作用是：

1.  获取该月的第一天，其工作日与`@d`into相同`@firstSameDayInMonth`。
2.  `@d`以从 0 开始的整数形式确定相应月份内的第 # 周`@weekInMonth`。这是 和 之间的周`@firstSameDayInMonth`数`@d`。
3.  Get the first day of month `@m`, year `@y` with the same weekday as `@d` into `@corrFirstSameDay`.
4.  Add the 0-based number of weeks `@weekInMonth` to `@corrFirstSameDay` to get the result.

Can you do it as a one-liner? Sure, just substitute your variables. Be warned though, it's ugly, and there's really nothing to be gained from it except lack of readability IMHO:

```
SELECT dateadd(week, datediff(week, dateadd(day, (7-(datepart(weekday, dateadd(day, 
    1-datepart(day, @d), @d))-datepart(weekday, @d)))%7, dateadd(day, 
    1-datepart(day, @d), @d)), @d), dateadd(day, (7-(datepart(weekday,
    datefromparts(@y, @m, 1))-datepart(weekday, @d)))%7, datefromparts(@y, @m, 1))) 
```

# iis-7 - IIS7 将 https 重定向到 http，除了 1 页

> ID：15150283
> 
> 赞同：0
> 
> 时间：2013-03-01T04:01:43.220
> 
> 标签：iis-7

我有规矩

```
<rule name="HTTPS to HTTP Redirect" enabled="true" stopProcessing="true">
    <match url="(.*)" />
    <conditions logicalGrouping="MatchAll" trackAllCaptures="false">
       <add input="{HTTPS}" pattern="on" />
    </conditions>
    <action type="Redirect" url="http://{HTTP_HOST}/{R:1}" redirectType="Permanent" />
</rule> 
```

将所有 HTTPS 重定向到 HTTP 但是我现在需要 1 个页面是 HTTPS。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T04:39:08.753

嗨，您可以尝试下面的正则表达式：这将与 https 匹配除 help.html 页面之外的所有内容。

```
^[hH][Tt]{2}[pP][Ss](?!.*help.html).*$ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T04:15:21.933

尝试这个。我假设您要强制使用 HTTPS 的页面是 login.aspx。

```
<rewrite>
<rules>
    <rule name="Force HTTPS for 1 page " stopProcessing="true">
        <match url="(.*)/login.aspx" />
        <conditions>
            <add input="{HTTPS}" pattern="^OFF$" />
        </conditions>
        <action type="Redirect" url="https://{HTTP_HOST}/{R:0}" redirectType="Permanent" />
    </rule>
    <rule name="Others Force HTTP" stopProcessing="true">
        <match url="((.*))" negate="true" />
        <conditions>  
            <add input="{HTTPS}" pattern="^ON$" />
        </conditions>
        <action type="Redirect" url="http://{HTTP_HOST}{REQUEST_URI}" redirectType="Permanent" />
    </rule>
</rules>
</rewrite> 
```

# java - 当一个实体碰撞到另一个实体时，有什么简单的方法来阻止它？

> ID：15150285
> 
> 赞同：0
> 
> 时间：2013-03-01T04:01:46.833
> 
> 标签：java, slick2d

我有两个实体，一个玩家和一个块。玩家和方块都是正方形。我希望玩家在遇到障碍物时停止移动。我已经完成了一些代码，但它只适用于水平，我想知道是否可以向它添加垂直碰撞部分，使用我现有的代码。

我需要水平和垂直碰撞，因为我需要知道玩家击球的方式以及在哪一侧。这将帮助我确定在碰撞到块时是否应该停止 X 或 Y 速度。

我已经对这个主题进行了大量研究，但没有什么真正简单的，也没有用 Slick2d 的 Rectangle 对象很好地解释。如果您使用过 Slick;s Shape 类，您已经知道它有一个 .intersect(Shape s) 方法。我已经在我的代码中使用它来查看是否有必要检查它碰撞到哪一侧并停止播放器。

这是我认为相对而言的课程（如果您需要其他课程，请询问）。

实体：

```
import org.newdawn.slick.GameContainer;
import org.newdawn.slick.Graphics;
import org.newdawn.slick.SlickException;
import org.newdawn.slick.geom.Shape;
import org.newdawn.slick.state.StateBasedGame;

public abstract class Entity {

    private Shape shape;
    private float velX = 0f, velY = 0f;

    public Entity(Shape shape){
        this.shape = shape;
    }

    //Get Methods
    public Shape getShape(){ return shape; }
    public float getVelocityX(){ return velX; }
    public float getVelocityY(){ return velY; }

    //Set Methods
    public void setVelocityX(float velX){ this.velX = velX; }
    public void setVelocityY(float velY){ this.velY = velY; }

    protected abstract void onUpdate(GameContainer gc, StateBasedGame sbg, int d) throws SlickException;
    protected abstract void onRender(GameContainer gc, StateBasedGame sbg, Graphics g) throws SlickException;

    public void update(GameContainer gc, StateBasedGame sbg, int d) throws SlickException {
        //Use velocity to change x and y.
        this.shape.setX(shape.getX() + (velX * (float)d));
        this.shape.setY(shape.getY() + (velY * (float)d));

        onUpdate(gc, sbg, d);
    }

    public void render(GameContainer gc, StateBasedGame sbg, Graphics g) throws SlickException {
        onRender(gc, sbg, g);
    }

} 
```

世界实体：

```
import org.newdawn.slick.geom.Shape;

public abstract class WorldEntity extends Entity{

    private World world;

    public WorldEntity(World world, Shape shape) {
        super(shape);
        this.world = world;
    }

    //Get Methods
    public World getWorld(){ return world; }

    public abstract boolean collidedWithEntity(Entity e);
    public abstract void remove();

} 
```

堵塞：

```
import org.newdawn.slick.Color;
import org.newdawn.slick.GameContainer;
import org.newdawn.slick.Graphics;
import org.newdawn.slick.Image;
import org.newdawn.slick.SlickException;
import org.newdawn.slick.geom.Rectangle;
import org.newdawn.slick.state.StateBasedGame;

public class Block extends WorldEntity{

    private BlockType type;

    public Block(World world, float x, float y, BlockType type) {
        super(world, new Rectangle(x, y, 48, 48));
        this.type = type;
    }

    //Get Methods
    public Color getColor(){ return type.getColor(); }
    public Image getTexture(){ return type.getTexture(); }
    public boolean isSolid(){ return type.isSolid(); }
    public BlockType getType(){ return type; }

    @Override
    public boolean collidedWithEntity(Entity e) {
        return false;
    }

    @Override
    protected void onUpdate(GameContainer gc, StateBasedGame sbg, int d) throws SlickException {

    }

    @Override
    protected void onRender(GameContainer gc, StateBasedGame sbg, Graphics g) throws SlickException {
        if(type.getTexture() != null){
            if(type.getColor() != null){
                g.drawImage(type.getTexture(), getShape().getX(), getShape().getX(), type.getColor());
            }
            else{
                g.drawImage(type.getTexture(), getShape().getX(), getShape().getX());
            }
        }
        else{
            g.setColor(type.getColor());
            g.fill(getShape());
        }
    }

    @Override
    public void remove() {
        getWorld().getBlocks().remove(this);
    }

} 
```

玩家：

```
import org.newdawn.slick.Color;
import org.newdawn.slick.GameContainer;
import org.newdawn.slick.Graphics;
import org.newdawn.slick.Input;
import org.newdawn.slick.SlickException;
import org.newdawn.slick.geom.Rectangle;
import org.newdawn.slick.geom.Shape;
import org.newdawn.slick.state.StateBasedGame;

import us.chrisix.coloroid.world.Block;
import us.chrisix.coloroid.world.Entity;
import us.chrisix.coloroid.world.World;
import us.chrisix.coloroid.world.WorldEntity;

public class Player extends WorldEntity{

    private Color c;
    private float speed = 0.3f;

    public Player(World world, float x, float y, Color c) {
        super(world, new Rectangle(x, y, 48, 48));
        this.c = c;
    }

    public Color getColor(){ return c; }

    @Override
    public boolean collidedWithEntity(Entity e) {
        if(e instanceof Block && e.getShape().intersects(getShape()) && ((Block) e).isSolid()){
            Shape b = e.getShape();
            Shape p = getShape();
            if(b.getX() > p.getX()){
                p.setX(b.getX() - 48.1f);
                setVelocityX(0);
            }
            else if(b.getX() < p.getX()){
                p.setX(b.getX() + 48.1f);
                setVelocityX(0);
            }
            return true;
        }
        return false;
    }

    @Override
    public void remove() {

    }

    @Override
    protected void onUpdate(GameContainer gc, StateBasedGame sbg, int d) throws SlickException {
        Input in = gc.getInput();
        if(in.isKeyDown(Input.KEY_D)){
            this.setVelocityX(speed);
        }
        else if(in.isKeyDown(Input.KEY_A)){
                this.setVelocityX(-speed);
        }
        else{
            this.setVelocityX(0);
        }

        if(in.isKeyDown(Input.KEY_W)){
            this.setVelocityY(-speed);
        }
        else if(in.isKeyDown(Input.KEY_S)){
            this.setVelocityY(speed);
        }
        else{
            this.setVelocityY(0);
        }
    }

    @Override
    protected void onRender(GameContainer gc, StateBasedGame sbg, Graphics g) throws SlickException {
        g.setColor(c);
        g.fill(getShape());
        g.setColor(Color.black);
        g.draw(getShape());
        g.draw(new Rectangle(getShape().getX() + 1, getShape().getY() + 1, 46, 46));
    }

} 
```

我希望改进的部分代码是 Player.collidedWithEntity(Entity e)。

如果您对我的措辞或代码有任何疑问，我鼓励您要求澄清。感谢您抽出时间来阅读。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-03T19:56:30.987

我已经解决了这个问题！我通过拆分 X 和 Y 来解决它。这是分解的。

*   保存 X 和 Y 坐标。
*   根据速度移动 X。
*   如果实体碰撞到一个实体对象，它会撤消 X 移动。
*   根据速度移动 Y。
*   如果实体碰撞到一个实体对象，它会撤消 Y 运动。

所以现在我让它在墙上碰撞和滑动！感谢那些给我文章阅读的人：）

# redirect - 301 将带有斜杠的 URL 重定向到同名的“子目录”

> ID：15150305
> 
> 赞同：2
> 
> 时间：2013-03-01T04:04:37.567
> 
> 标签：redirect, subdirectory, slash, trailing

我工作的公司最近接管了一个用 WordPress 构建的网站，显然谷歌已经索引了几个带有尾随 / 的页面，再加上前任公司程序员使该网站需要来自 URL 的一些信息这一事实。

因此，Google 已将 domain.com/featured-something/something/ 编入索引，我需要将这些页面重定向到 domain.com/featured-something/something/?something=something&somethingelse=something else

我尝试使用此代码进行重定向，但只能在没有斜杠的情况下工作：

```
RewriteRule ^featured-something/something?$ http://domain.com/featured-something/something/?start=0&pt=&bed=&bat=&subdiv=Aqua&sub=&pr=&display=quick [R=301,L] 
```

我在所有规则之前添加了一些代码以首先重定向到非斜线版本，然后是这些，但这会创建一个无限重定向循环。

有人可以帮我吗？

谢谢

卡尔

ps GET 字符串对于每个不同的 URL 都是唯一的，不幸的是，因此必须为每个 url 创建规则。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T14:20:50.327

Well, I never gave up the search, even after I posted here.. Looks a little inelegant, but I found a way to make it work (thanks in part to another Stack Overflow question/answer) Before each and every RewriteRule I had to add a RewriteCond to not rewrite the URL W/ the query string

```
RewriteCond %{QUERY_STRING} !([^&]+&)*start=0(&.*)?$ 
```

I also changed the ? in the Rule to a /

No more infinite loop and redirects all of Google's indexed pages properly.

# apache-flex - Flex：将 MXML 包含在另一个 MXML 文件中是一个好主意或设计吗？

> ID：15150307
> 
> 赞同：1
> 
> 时间：2013-03-01T04:04:41.743
> 
> 标签：apache-flex, mxml, flex4.6

我想知道`mxml`为每个组件都有一个文件是否是个好主意，然后将这些不同的组件内联到一个`mxml`文件中并能够在这些`mxml`文件之间进行通信？

例如，我有一个`overView.mxml`，在这个中，我内联了其他`mxml`包含组件的文件，例如`datagrid`，另一个`mxml`包含可能是一个表单。我可以通过访问表单中的 id 来与网格数据通信`mxml`吗？

如果我的问题不清楚，请告诉我。我会尝试改写它。

非常感谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-01T05:57:28.030

是的，这是个好主意。这比创建一个包含所有功能的巨型 MXML 或类要好得多。

同时，它也会带来一些开销。要在类之间进行通信（MXML 文件只是类），您必须调度事件。包含子组件的父组件可以设置其子组件的公共属性（有或没有数据绑定）。

您应该尝试尽可能多地解耦您的组件。尽量不要在子组件显式引用父组件的地方编写代码（即：尽量不要使用该`parent`属性）。而是从子组件调度一个事件并让父组件监听该事件。

**关于您使用数据网格和表单的示例：**

如果这两个对象之间会有很多交互，那么将它们保存在同一个 MXML 文件中会容易得多。这听起来不像是父组件包含子组件的场景。由于这些“兄弟姐妹”很可能相互通信，因此将它们放在同一个 MXML 文件中会更容易。但是，如果事情变得复杂并且文件增长到超过几百行，您可能会从分离它们中受益。

假设您计划在项目的其他地方使用表单组件而没有数据网格，那么将它们分开也是有意义的。

**关于您的问题：** “表单组件是否能够通过访问它的 ID 与网格组件进行通信？”：

从技术上讲，是的，您可以做到这一点，但只能通过将表单组件与网格组件紧密耦合。表单组件可以使用`parent`属性上一层，使用网格的id。但是由于该`parent`属性被键入为 a`DisplayObjectContainer`你必须欺骗编译器并且你失去了强类型的好处（因为`DisplayObjectContainer`没有一个属性是你的网格的 ID）。因此，虽然这是可能的，但它不是好的设计，并且会阻止您在其他地方重用表单组件。

这种紧密耦合破坏了创建单独组件的目的。因此，您又回到了通过调度事件来促进通信，或者将网格和表单放在同一个文档中:)

**TLDR：**

您通常应该尝试创建可重用的组件。所以我一般会朝那个方向倾斜。MXML 文件只是类，人们在面向对象编程中谈论的所有常见事物都适用。

# ios - Grand Central Dispatch 中线程限制的解决方法？

> ID：15150308
> 
> 赞同：34
> 
> 时间：2013-03-01T04:04:49.150
> 
> 标签：ios, objective-c, grand-central-dispatch

使用[Grand Central Dispatch](http://developer.apple.com/library/ios/documentation/Performance/Reference/GCD_libdispatch_Ref/Reference/reference.html)，可以轻松地在非主线程上执行耗时的任务，避免阻塞主线程并保持 UI 响应。只需在全局并发队列上使用`dispatch_async`和执行任务即可。

```
dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{
    // code
}); 
```

然而，有些事情听起来好得令人难以置信，比如这个通常有其缺点。在我们的 iOS 应用项目中大量使用它之后，最近我们发现它有 64 个线程的限制。一旦我们达到限制，应用程序将冻结/挂起。通过使用 Xcode 暂停应用程序，我们可以看到主线程由`semaphore_wait_trap`.

在网上搜索确认其他人也遇到了这个问题，但到目前为止还没有找到解决方案。

> 已达到调度线程硬限制：64（同步操作中阻塞的调度线程太多）

[另一个stackoverflow问题](https://stackoverflow.com/questions/14027824/gcd-dispatch-concurrent-queue-freeze-with-dispatch-thread-soft-limit-reached-6)证实了使用`dispatch_sync`and时`dispatch_barrier_async`也会出现这个问题。

**问题：**
由于 Grand Central Dispatch 有 64 个线程的限制，是否有任何解决方法？

提前致谢！

* * *

## 回答 #1

> 赞同：70
> 
> 时间：2013-03-01T04:57:26.510

好吧，如果你有约束力和决心，你可以摆脱 GCD 的束缚，然后继续使用 pthreads 突破操作系统每个进程的线程限制，但底线是：如果你正在打GCD 中的队列宽度限制，您可能需要考虑重新评估您的并发方法。

在极端情况下，有两种方法可以达到极限：

1.  您可以通过阻塞系统调用在某些操作系统原语上阻塞 64 个线程。（I/O 绑定）
2.  您可以合法地同时准备好 64 个可运行的任务。（CPU 绑定）

如果您处于情况 #1，那么推荐的方法是使用非阻塞 I/O。事实上，GCD 有一大堆调用，在 10.7/Lion IIRC 中引入，它们促进了 I/O 的异步调度并提高了线程重用。如果您使用 GCD I/O 机制，那么这些线程将不会被捆绑等待 I/O，当您的文件描述符（或 mach 端口）上的数据可用时，GCD 只会将您的块（或函数）排队。请参阅[`dispatch_io_create`和朋友](http://developer.apple.com/library/mac/#documentation/Darwin/Reference/ManPages/man3/dispatch_io_create.3.html)的文档。

如果有帮助，这里有一个使用 GCD I/O 机制实现的 TCP 回显服务器的小示例（不提供保证）：

```
in_port_t port = 10000;
void DieWithError(char *errorMessage);

// Returns a block you can call later to shut down the server -- caller owns block.
dispatch_block_t CreateCleanupBlockForLaunchedServer()
{
    // Create the socket
    int servSock = -1;
    if ((servSock = socket(PF_INET, SOCK_STREAM, IPPROTO_TCP)) < 0) {
        DieWithError("socket() failed");
    }

    // Bind the socket - if the port we want is in use, increment until we find one that isn't
    struct sockaddr_in echoServAddr;
    memset(&echoServAddr, 0, sizeof(echoServAddr));
    echoServAddr.sin_family = AF_INET;
    echoServAddr.sin_addr.s_addr = htonl(INADDR_ANY);
    do {
        printf("server attempting to bind to port %d\n", (int)port);
        echoServAddr.sin_port = htons(port);
    } while (bind(servSock, (struct sockaddr *) &echoServAddr, sizeof(echoServAddr)) < 0 && ++port);

    // Make the socket non-blocking
    if (fcntl(servSock, F_SETFL, O_NONBLOCK) < 0) {
        shutdown(servSock, SHUT_RDWR);
        close(servSock);
        DieWithError("fcntl() failed");
    }

    // Set up the dispatch source that will alert us to new incoming connections
    dispatch_queue_t q = dispatch_queue_create("server_queue", DISPATCH_QUEUE_CONCURRENT);
    dispatch_source_t acceptSource = dispatch_source_create(DISPATCH_SOURCE_TYPE_READ, servSock, 0, q);
    dispatch_source_set_event_handler(acceptSource, ^{
        const unsigned long numPendingConnections = dispatch_source_get_data(acceptSource);
        for (unsigned long i = 0; i < numPendingConnections; i++) {
            int clntSock = -1;
            struct sockaddr_in echoClntAddr;
            unsigned int clntLen = sizeof(echoClntAddr);

            // Wait for a client to connect
            if ((clntSock = accept(servSock, (struct sockaddr *) &echoClntAddr, &clntLen)) >= 0)
            {
                printf("server sock: %d accepted\n", clntSock);

                dispatch_io_t channel = dispatch_io_create(DISPATCH_IO_STREAM, clntSock, q, ^(int error) {
                    if (error) {
                        fprintf(stderr, "Error: %s", strerror(error));
                    }
                    printf("server sock: %d closing\n", clntSock);
                    close(clntSock);
                });

                // Configure the channel...
                dispatch_io_set_low_water(channel, 1);
                dispatch_io_set_high_water(channel, SIZE_MAX);

                // Setup read handler
                dispatch_io_read(channel, 0, SIZE_MAX, q, ^(bool done, dispatch_data_t data, int error) {
                    BOOL close = NO;
                    if (error) {
                        fprintf(stderr, "Error: %s", strerror(error));
                        close = YES;
                    }

                    const size_t rxd = data ? dispatch_data_get_size(data) : 0;
                    if (rxd) {
                        // echo...
                        printf("server sock: %d received: %ld bytes\n", clntSock, (long)rxd);
                        // write it back out; echo!
                        dispatch_io_write(channel, 0, data, q, ^(bool done, dispatch_data_t data, int error) {});
                    }
                    else {
                        close = YES;
                    }

                    if (close) {
                        dispatch_io_close(channel, DISPATCH_IO_STOP);
                        dispatch_release(channel);
                    }
                });
            }
            else {
                printf("accept() failed;\n");
            }
        }
    });

    // Resume the source so we're ready to accept once we listen()
    dispatch_resume(acceptSource);

    // Listen() on the socket
    if (listen(servSock, SOMAXCONN) < 0) {
        shutdown(servSock, SHUT_RDWR);
        close(servSock);
        DieWithError("listen() failed");
    }

    // Make cleanup block for the server queue
    dispatch_block_t cleanupBlock = ^{
        dispatch_async(q, ^{
            shutdown(servSock, SHUT_RDWR);
            close(servSock);
            dispatch_release(acceptSource);
            dispatch_release(q);
        });
    };

    return Block_copy(cleanupBlock);
} 
```

无论如何......回到手头的话题：

如果您处于第二种情况，您应该问自己：“我真的通过这种方法获得了什么吗？” 假设您拥有最出色的 MacPro——12 个内核、24 个超线程/虚拟内核。有 64 个线程，你有一个大约。3:1 线程与虚拟内核的比率。上下文切换和缓存未命中不是免费的。请记住，我们假设您在这种情况下不受 I/O 限制，因此您通过拥有比内核更多的任务所做的所有事情都是在上下文切换和缓存抖动上浪费 CPU 时间。

实际上，如果您的应用程序因达到队列宽度限制而挂起，那么最有可能的情况是您的队列已饿死。您可能已经创建了一个减少到死锁的依赖项。我最常看到的情况是当多个互锁线程试图`dispatch_sync`在同一个队列上时，当没有线程剩余时。这总是失败的。

原因如下：队列宽度是一个实现细节。GCD 的 64 线程宽度限制没有记录，因为设计良好的并发架构不应该依赖于队列宽度。您应该始终设计您的并发架构，以便 2 线程宽的队列最终将完成与 1000 线程宽的队列相同的结果（如果更慢）。如果你不这样做，你的队列总是有可能会饿死。将您的工作负载划分为可并行化的单元应该让您自己接受优化的可能性，而不是基本功能的要求。在开发期间强制执行此规则的一种方法是尝试在使用并发队列但期望非互锁行为的地方使用串行队列。

另外，对于你原来的问题的精确点：IIUC，64 个线程的限制是*每个顶级并发队列*64 个线程，所以如果你真的觉得需要，你可以使用所有三个顶级并发队列（默认、高和低优先级）以实现总共超过 64 个线程。请不要这样做。修复您的设计，使其不会饿死自己。你会更快乐。无论如何，正如我上面所暗示的，如果你正在饿死一个 64 线程宽的队列，你最终可能只会填满所有三个顶级队列和/或遇到每个进程的线程限制，并且也会这样饿死自己。

# java - 即使满足所有依赖项，Apache Ant 构建也会出现构建失败错误

> ID：15150309
> 
> 赞同：1
> 
> 时间：2013-03-01T04:05:14.290
> 
> 标签：java

我正在尝试使用 Apache ANT 构建一个项目（在 Windows Xp SP3 上安装的所有软件包，如 SWT、Eclipse Indigo）。所有文件都在相应目录下

F:\Work_Arun\Indic\trunk\indic-keyboards\build-win32-x86.xml:47：执行失败：java.io.IOException：无法运行程序“Cl”（在目录“F:\Work_Arun\Indic\trunk \indic-keyboards\src\org\iisc\mile\indickeyboards\windows"): CreateProcess error=2, 系统找不到指定的Build.XML文件

```
<?xml version="1.0"?>
<project name="indic-keyboards-win32-x86" default="build">
    <description>indic-keyboards - A Multilingual Indic Keyboard Interface for Indic Scripts</description>

    <property name="debug" value="false" />
    <property name="verbose" value="false" />
    <property name="main.class" value="org.iisc.mile.indickeyboards.IndicKeyboards" />
    <property name="swt" value="swt.jar" />

    <fileset id="ImagesIcons" dir="./resources">
        <patternset includes="*.ico,*.png,*.gif,*.jpg,*.jpeg" />
    </fileset>

    <fileset id="otherfiles" dir=".">
        <patternset includes="*.txt,*.conf" />
    </fileset>

    <fileset id="swtorg" dir="./swt">
        <patternset includes="**/org/**" />
    </fileset>

    <fileset id="swtdll" dir="./swt">
        <patternset>
            <include name="swt*.dll" />
            <include name="version.txt" />
        </patternset>
    </fileset>

    <fileset id="ourdll" dir=".">
        <patternset includes="*.dll" />
    </fileset>

    <target name="init" description="Initialization by creating the directory structure">
        <mkdir dir="bin" />
    </target>

    <target name="header" depends="compile" description="Generates the platform specific header files for building libraries">
        <javah destdir="./src/org/iisc/mile/indickeyboards/windows" classpath="./bin">
            <class name="org.iisc.mile.indickeyboards.windows.PollThread" />
            <class name="org.iisc.mile.indickeyboards.windows.OutputCharToActiveWindow" />
        </javah>
    </target>

    <target name="build" depends="header" description="Creates the windows libraries (.dll files)">
        <property environment="env" />
        <echo>Using JDK present at ${env.JAVA_HOME} ; Architecture : ${env.PROCESSOR_ARCHITECTURE}</echo>
        <exec dir="./src/org/iisc/mile/indickeyboards/windows" executable="Cl">
            <arg line="-I'${env.JAVA_HOME}'\include -I'${env.JAVA_HOME}'\include\win32 -LD /Feindic-keyboards-sysHook.dll syshook.cpp /link user32.lib" />
        </exec>
        <exec dir="./src/org/iisc/mile/indickeyboards/windows" executable="cl">
            <arg line="-I'${env.JAVA_HOME}'\include -I'${env.JAVA_HOME}'\include\win32 -LD /Feindic-keyboards-opChars.dll opChars.cpp /link user32.lib" />
        </exec>
        <move todir=".">
            <fileset dir="./src/org/iisc/mile/indickeyboards/windows">
                <include name="*.dll" />
            </fileset>
        </move>
        <delete>
            <fileset dir="./src/org/iisc/mile/indickeyboards/windows" includes="*.h" />
            <fileset dir="./src/org/iisc/mile/indickeyboards/windows" includes="*.obj" />
            <fileset dir="./src/org/iisc/mile/indickeyboards/windows" includes="*.exp" />
            <fileset dir="./src/org/iisc/mile/indickeyboards/windows" includes="*.lib" />
            <fileset dir="./src/org/iisc/mile/indickeyboards/windows">
                <include name="lib*" />
            </fileset>
        </delete>
    </target>

    <target name="compile" depends="init" description="Compiles the java source code.">
        <echo>Compiling ${ant.project.name}</echo>
        <javac srcdir="src" destdir="bin" classpath="${swt}" debug="${debug}" verbose="${verbose}" />
    </target>

    <target name="run" depends="build" description="Executes the project">
        <echo>Using Java ${ant.java.version} present at ${java.home}</echo>
        <java classpath="${swt}:./bin" classname="org.iisc.mile.indickeyboards.IndicKeyboards" fork="true" />
    </target>

    <target name="jar" depends="build" description="Packages into an executable JAR">
        <mkdir dir="dist" />
        <mkdir dir="swt" />
        <unjar src="${swt}" dest="./swt" />

        <manifest file="MANIFEST.MF">
            <attribute name="Class-Path" value="." />
            <attribute name="Main-Class" value="${main.class}" />
        </manifest>
        <jar destfile="./dist/${ant.project.name}.jar" basedir="bin" duplicate="preserve" manifest="./MANIFEST.MF">
            <fileset refid="swtdll" />
            <fileset refid="swtorg" />
        </jar>
        <delete dir="META-INF" />
        <delete file="./MANIFEST.MF" />
        <delete dir="swt" />
        <copy todir="./dist">
            <fileset refid="ourdll" />
        </copy>

        <mkdir dir="./dist/kblayouts" />
        <copy todir="./dist/kblayouts">
            <fileset dir="./kblayouts" />
        </copy>

        <mkdir dir="./dist/resources" />
        <copy todir="./dist/resources">
            <fileset dir="./resources" />
        </copy>

        <mkdir dir="./dist/docs" />
        <copy todir="./dist/docs">
            <fileset dir="./docs" />
        </copy>

        <copy todir="./dist">
            <fileset refid="otherfiles" />
        </copy>
        <delete dir="./bin" />
    </target>

    <target name="javadoc" depends="init" description="Generates javadoc of the source">
        <mkdir dir="./javadoc" />
        <javadoc destdir="./javadoc" sourcepath="./src" packagenames="org.*" Private="true" />
        <delete dir="./bin" />
    </target>

    <target name="clean" description="Clean up after compile/build.">
        <delete dir="./bin" />
        <delete dir="./javadoc" />
        <delete dir="./dist" />
        <delete>
            <fileset dir="./" includes="*.dll" />
        </delete>
    </target>

</project> 
```

错误的原因是什么？

# utf-8 - 汉字在strings.xml中显示为空白框

> ID：15150311
> 
> 赞同：3
> 
> 时间：2013-03-01T04:05:16.477
> 
> 标签：utf-8, localizable.strings, chinese-locale

我正在尝试在我的 values-zh-rTW/strings.xml 文件中剪切和粘贴繁体中文字符作为替代资源。它们显示为空白的白色框。据我所知，每个编码选项都设置为 UTF-8。如果是字体问题，我不确定在哪里更改字体或更改哪种字体。我确实去了常规>外观>颜色和字体，但我不确定要调整哪种字体，如果有的话。如果您以前处理过此问题，请提供帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-01T04:21:44.587

你可以看看这个问题，以确保你正在做这里提到的所有事情：

[如何在 Eclipse 中支持 UTF-8 编码](https://stackoverflow.com/questions/9180981/how-to-support-utf-8-in-eclipse)

这是另一个可能有您需要的问题：

[如何将[简体]汉字打印到Eclipse控制台？](https://stackoverflow.com/questions/8056900/how-to-print-simplified-chinese-characters-to-eclipse-console)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-09-23T19:35:17.370

I had the same problem and the solution was to install "East Asian Languages" in windows. Just go to control panel, Regional and Language Options, Languages tab, and then check Install files for East Asian languages (it required a windows cd for me).

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-08-15T10:38:28.377

我的eclipse编辑器中有一些汉字。而且显示不正确。我更改项目的文本文件编码`Cmd + I`以显示项目的属性设置对话框。然后在输入**GBK**中`Text file encoding`。然后应用它。字符显示正确。

截图如下： ![在此处输入图像描述](../Images/ed13bf57fd195b78f5091a3b67520d3d.png)

# c# - 阻止其他 c# 程序重置文件的权限

> ID：15150312
> 
> 赞同：0
> 
> 时间：2013-03-01T04:05:23.263
> 
> 标签：c#

我使用此代码拒绝对文件的权限。它工作得很好。

```
string fileName = @"c:\untitled.jpg";
FileSecurity fSecurity = File.GetAccessControl(fileName);
fSecurity.AddAccessRule(new FileSystemAccessRule("Everyone",    
                        FileSystemRights.FullControl, AccessControlType.Deny));
File.SetAccessControl(fileName, fSecurity); 
```

以及以下用于重置访问控制的代码

```
fSecurity.ResetAccessRule(new FileSystemAccessRule("Everyone", 
                     FileSystemRights.FullControl, AccessControlType.Allow)); 
```

现在，当我为文件设置权限时。我不希望其他人重置文件的权限，但是当我打开一个新项目并复制代码以重置文件的访问规则时，它已经重置了文件的权限。我不希望这种情况发生。

我只希望我的 C# 代码重置文件的权限，因为了解 C# 编程的人可以轻松地将权限重置为已被我的 C# 代码拒绝的文件。

我可以阻止其他人通过我的 c# 代码重置文件的权限吗？文件权限只能通过我的 C# 代码重置。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-01T04:10:49.567

其他任何人都可以编写您编写的相同代码来更新权限，因此您无法通过代码执行此操作（除非您的程序永久运行并且您锁定了文件）

您最好通过 Windows NTFS 权限来管理它，这样其他应用程序的用户就没有更改权限的权限（因此他们正在运行的应用程序也没有）

# actionscript-3 - 如何使用按钮在 Flash AS3.0 中浏览一个 tilelist？

> ID：15150315
> 
> 赞同：1
> 
> 时间：2013-03-01T04:05:41.743
> 
> 标签：actionscript-3, flash, button, tilelist

我有一个使用 TileList 和 UILoader 的照片库。它工作得很好。当我单击 TileList 中的缩略图时，整个图片会显示在 UILoader 中，但我正在尝试向其中添加下一个和上一个按钮并能够浏览图片。我只是不确定如何创建函数/编写代码才能做到这一点。我需要使用循环吗？这可能吗？？我已经通过谷歌搜索并找不到答案。我确实发现 [this][1] 很接近，但没有提供代码，这个问题是针对 Flex 的。

到目前为止，这是我的代码：

```
import flash.display.Loader;
import flash.net.URLLoader;
import flash.net.URLRequest;
import flash.events.Event;
import flash.events.MouseEvent;
import fl.data.DataProvider;
import fl.controls.TileList;
import fl.controls.ScrollBarDirection;
import fl.transitions.Tween;
import fl.transitions.easing.None;

var XMLgallery:XML = <items>        
        <item source="img/DSC_0.jpg" />
        <item source="img/DSC_1.jpg" />
        <item source="img/DSC_2.jpg" />
        <item source="img/DSC_3.jpg" />
        <item source="img/DSC_4.jpg" />
        <item source="img/DSC_5.jpg" />
        <item source="img/DSC_6.jpg" />
        <item source="img/DSC_7.jpg" />
        <item source="img/DSC_8.jpg" />
        <item source="img/DSC_9.jpg" />
        <item source="img/DSC_10.jpg" />
        <item source="img/DSC_11.jpg" />
        <item source="img/DSC_12.jpg" />
        <item source="img/DSC_13.jpg" />
        <item source="img/DSC_14.jpg" />
        <item source="img/DSC_15.jpg" />
    </items>;
tileList.dataProvider = new DataProvider(XMLgallery);
tileList.setSize(795, 130);
tileList.columnWidth = 195;
tileList.rowHeight = 130;
tileList.direction = ScrollBarDirection.HORIZONTAL;
tileList.addEventListener(Event.CHANGE, imageChanger);
progressBar.visible = false;

mainLoader.load(new URLRequest("img/DSC_0.jpg"));

function imageChanger(event:Event):void{
    progressBar.visible = true;
    mainLoader.source = tileList.selectedItem.source;
    var myTween:Tween = new Tween(mainLoader, "alpha", None.easeNone,.3,1,18,false);
}

mainLoader.addEventListener(Event.COMPLETE, completeHandler);

function completeHandler(event:Event):void{
    progressBar.visible = false;
}
prev_mc.addEventListener(MouseEvent.CLICK, prevF);
next_mc.addEventListener(MouseEvent.CLICK, nextF); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T09:41:24.380

您必须使用该类的[selectedIndex](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/fl/controls/SelectableList.html#selectedIndex)属性`TileList`，只需检索哪个是所选图片的当前索引，然后在您的下一个/上一个函数中将其增加/减少一个。

您还需要一些逻辑来在选择第一张图片时禁用上一个按钮，并在选择最后一张图片时禁用下一个按钮，并在必要时启用它们。

像这样的东西应该工作：

```
function prevF(e:Event):void
{
  if(tileList.selectedIndex >0)
  {
    tileList.selectedIndex = tileList.selectedIndex-1;

    //trigger image change
    //(no event is dispatched on selectedIndex set)
    imageChanger(null);

    //reenable next button
    next_mc.enabled=true;
  }

  //disable prev button if first
  if(tileList.selectedIndex==0)
  {
    prev_mc.enabled=false;
  }
}

function prevF(e:Event):void
{
  if(tileList.selectedIndex < (tileList.length-1))
  {
    tileList.selectedIndex = tileList.selectedIndex+1;

    //trigger image change
    //(no event is dispatched on selectedIndex set)
    imageChanger(null);

    //reenable prev button
    prev_mc.enabled=true;
  }

  //disable next button if last
  if(tileList.selectedIndex==(tileList.length-1))
  {
    next_mc.enabled=false;
  }
} 
```

希望这可以帮助！

# git - Git - 忽略对配置文件的特定修改

> ID：15150317
> 
> 赞同：3
> 
> 时间：2013-03-01T04:05:56.557
> 
> 标签：git

我在我们的项目中有一个配置文件，其中包含一个到数据库的连接字符串，以及几个应用程序设置，例如：

```
...
<setting name="ConnectionString"><value>Server=prodServer;Database=myDataBase;</value></setting>
<setting name="AnotherSetting1"><value>Lorem</value></setting>
<setting name="AnotherSetting2"><value>Ipsum</value></setting>
<setting name="AnotherSetting3"><value>dolor </value></setting>
... 
```

在我的开发过程中，我总是将**ConnectionString**值更改为我的本地数据库，这会导致 git 将文件标记为“已修改”。

我阅读了有关执行以下操作的选项：

`git update-index --assume-unchanged app.config`

但是，这意味着如果我对文件进行任何其他更改（例如，更改**AnotherSetting1**），那么 git 也会忽略它。

有没有办法告诉 git 忽略文件中的特定更改，但如果发生任何其他更改，则将其标记为已修改？或者这个问题还有其他类似的解决方案吗？

请假设我无法对配置文件本身的体系结构进行任何更改 - 我想要一个仅限本地的解决方案。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-10T21:05:12.030

[**过滤器**](https://www.kernel.org/pub/software/scm/git/docs/gitattributes.html#_tt_filter_tt)是为这样的东西制作的。在你的回购中，

```
cat >.git/info/saved-connection <<EOD
<setting name="ConnectionString"><value>Server=prodServer;Database=myDataBase;</value></setting>
EOD

cat >.git/info/my-connection <<EOD
<setting name="ConnectionString"><value>Server=myprivateserver;Database=myDataBase;</value></setting>
EOD

git config filter.use-my-connection.smudge 'sed -f ".git/info/use-my-connection.smudge"'
git config filter.use-my-connection.clean  'sed -f ".git/info/use-my-connection.clean"'

cat >.git/info/use-my-connection.smudge    <<EOD
/^<setting name="ConnectionString">/ {
     w .git/info/saved-connection
     r .git/info/my-connection
     d
}
EOD

cat >.git/info/use-my-connection.clean     <<EOD
/^<setting name="ConnectionString">/ {
     w .git/info/my-connection
     r .git/info/saved-connection
     d
}
EOD

echo >> .git/info/attributes     path/to/app.config filter=use-my-connection 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-01T04:25:50.110

我不认为`git`有这样的设施。并且建议的`app.config`文件管理方式，对文件版本的一部分进行控制，而对其他部分不进行处理，这对我来说并不合适。

在您的情况下，我会寻求一种方法来安排`app.config`从两个文件生成的。该`ConnectionString`设置将放在用户创建（构建）的配置文件中，而其他部分将放在某种模板文件中（从概念上讲）。用户创建的配置文件可以添加到`.gitignore`文件中。模板文件将由`git`. 我们需要一种方法来`app.config`通过将构建配置文件中的设置应用于模板文件来构建文件。

我们缺乏关于开发环境的背景信息来说明如何实现这一切。如果您正在使用`make`或`ant`类似的东西，那么这将是一个简单的依赖项和规则来创建`app.config`以确保在文件不存在或构建配置文件或模板文件更改时创建文件。此外，如何从模板文件生成文件的自然选择`app.config`取决于您的构建环境和`app.config`文件。对于超过几行的文本，甚至可以使用 shell 脚本轻松地简单扩展给定的模板文件（几行扩展 ${VARIABLE} 结构，但如果文件需要包含美元，则会变得更加复杂符号或反引号或反斜杠等）。我们可以使用更复杂的扩展`eruby`，`eperl`或者类似的东西（甚至可能`PHP`）。`app.config`当您需要更改设置时，也可以手动生成该文件。但这一切在没有进一步背景的情况下有点无用的猜测。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-01T07:02:03.653

让我就如何做到这一点提出一些建议。

在向索引添加更改时，您可以使用`git add -p app.config`并手动跳过文件中的一些更改。如果您在提交之前不向索引添加更改，则不会提交这些更改。这是一种“仅限本地”的解决方案。`git status`但是总是在报告中看到修改的文件可能真的很无聊。

所有其他建议可能需要更改架构，因此不能被视为“仅限本地”的解决方案。无论如何，我认为他们可能值得审查。

所有更改的主要思想是添加`.gitignore`包含本地系统特定设置的本地文件。我们在这里使用了几种略有不同的解决方案。

*   您可以拥有包含所有本地系统特定值的键值对的属性文件。该文件应手动更新。然后在应用程序上使用它并合并到应用程序配置中。详细信息取决于您使用的工具。但我确实相信这不会带来任何大的困难，但很可能需要更改应用程序。
*   您可以`app-original.config`在 git 存储库中拥有文件，并`app.config`在`git`忽略列表中拥有文件。该`app.config`文件应从`app-original.config`文件手动创建。

所有这些解决方案真正令人厌烦的是，当配置文件的结构发生变化时，需要进行一些手动工作。例如，在每次配置文件更新时，您应该检查是否引入了新属性并更新本地属性文件。同样，当您因为某些应用程序更改而更新本地文件时，您需要记住在配置文件中提交相关更改（请记住您的本地文件位于 中`.gitignore`）。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-13T14:29:28.687

我想我找到了解决这个问题的好方法。

正如我所说，在我的项目中有一个配置文件（错误地）将连接字符串存储在该配置文件中。

我希望能够使用修改后的配置版本，但不会在“修改过的”文件列表中不断地看到该文件，也不会完全忽略它的所有更改。

**这是我所做的**

从我们的服务器克隆后，我的日志图如下所示：

```
A---B---C master 
```

我所有的开发都将在另一个分支“开发”中完成。所以我分支它。然后我更改配置文件并更改连接字符串并提交。

```
A---B---C master, origin/master
         \
          X development 
```

接下来，我签出 master 并将更改与“--nocommit”标志合并回来。然后在合并提交中，我恢复配置更改并提交。实际上，我创建了一个空提交，它只是通知 Git 这些更改已合并，无需再次合并它们。

```
A---B---C---D master, origin/master
         \ /
          X development 
```

现在，随着我继续在 X 上开发新功能，我可以安全地将更改合并回 master - Git 只会尝试合并自上次合并以来的新更改。

```
A---B---C---D---E---F master, origin/master
         \ /       /
          X---Y---Z development 
```

所以在上面的例子中，只有“Y”和“Z”的变化会被我合并回来。

我已经尝试过了，它似乎工作正常。然而，这确实意味着，每当我切换到主分支时，我都会使用不正确的连接字符串进行配置，但是由于我的大部分开发都是在“开发”分支上完成的，所以它看起来并不大问题给我。

如果我的解决方案有任何问题，请在评论中告诉我。

**更新**

这样做的一个问题是，如果在“master”上以任何方式更改了配置文件，然后将“master”更改合并到“development”分支，那么配置文件将被覆盖而不会发出警告。

# android - 如何在android中同时禁用主页按钮和通知栏

> ID：15150319
> 
> 赞同：1
> 
> 时间：2013-03-01T04:06:19.963
> 
> 标签：android, locking, android-notification-bar, home-button

我正在制作一个自定义锁定应用程序，为此我需要禁用主页按钮和通知栏，以便在手机解锁之前无法读取消息/无法从通知栏访问应用程序。

我使用以下代码禁用了主页按钮：

```
@Override
      public boolean onKeyDown(int keyCode, android.view.KeyEvent event) {

            if((keyCode == KeyEvent.KEYCODE_HOME)){

                  return true;
            }
            return false;
      }

      public void onAttachedToWindow()// to disable Home button 
      {
          // TODO Auto-generated method stub
    this.getWindow().setType(WindowManager.LayoutParams.TYPE_KEYGUARD_DIALOG|WindowManager.LayoutParams.FLAG_FULLSCREEN);

          super.onAttachedToWindow();
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T04:14:47.907

试试这个禁用通知栏

```
getWindow().addFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN);
getWindow().clearFlags(WindowManager.LayoutParams.FLAG_FORCE_NOT_FULLSCREEN); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-01T04:18:04.423

供您参考，请查看[禁用主页按钮](https://stackoverflow.com/questions/12560180/what-does-this-4-line-java-code-means-in-android-application)。而对于在 android 中隐藏通知栏，您可以在 AndroidManifest.xml 中使用

```
android:theme="@android:style/Theme.NoTitleBar.Fullscreen" 
```

# android - 如何检测我的应用程序的更新在 google play 上可用？

> ID：15150320
> 
> 赞同：2
> 
> 时间：2013-03-01T04:06:52.857
> 
> 标签：android, google-play

有没有一种方法可以以编程方式检查我的应用在 google play 上是否有更新，以便通知用户？我知道 android google play 有一个自动通知，但我想使用我自己的通知/弹出消息来更新可用性（有点像 Viber 应用程序所做的）。

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-01T04:10:23.653

没有提供此信息的 API。如果您的应用程序具有[INTERNET](http://developer.android.com/reference/android/Manifest.permission.html#INTERNET)权限

```
<uses-permission android:name="android.permission.INTERNET" /> 
```

在您的清单中，然后您可以创建一个返回当前版本号的服务器。如果它与安装的版本不同，那么您可以创建自定义通知。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-01T04:28:49.873

您的服务器上可能有一个 JSON 文件，其中包含`android:versionCode`您应用程序的最新版本。检索和比较版本代码不会很复杂。

此信息不会显示在 Google Play 商店中。因此，hacky 脚本将无法检索此内容。仅`android:versionName`显示 。

# android - ActionBarSherlock 在方向更改时更改选项卡文本颜色

> ID：15150329
> 
> 赞同：1
> 
> 时间：2013-03-01T04:07:39.473
> 
> 标签：android, actionbarsherlock

我有一个使用 ActionBarSherlock 设置的 ActionBar。当应用程序处于纵向和横向时，我需要设置不同的选项卡文本颜色。当标签处于肖像模式时，文本应为浅灰色，如下：

![纵向选项卡](../Images/8420e7c53b4f3158a78ca45ba0e46609.png)

当方向为横向时，选项卡文本颜色应为白色 (#FFFFFF)。但是，当方向变为横向时，文本如下所示：

![横向选项卡](../Images/2fcb9f600221b1390545c8a0f5385dc6.png)

同样，我需要标签的文本颜色，在横向时，白色（#FFFFFF）。我正在使用 Light.DarkActionBar 主题并通过样式设置文本颜色，如下所示。

**在*/values*文件夹中**

```
<?xml version="1.0" encoding="utf-8"?>
<resources>
    <style name="Example.Theme.Default" parent="@style/Theme.Sherlock.Light.DarkActionBar">

        <item name="actionBarTabTextStyle">@style/Example.ActionBar.TabTextStyle</item>
        <item name="android:actionBarTabTextStyle">@style/Example.ActionBar.TabTextStyle</item>

    </style>

    <style name="Example.ActionBar.TabTextStyle"  parent="Widget.Sherlock.ActionBar.TabText">
        <item name="android:textColor">#585858</item>
    </style>

</resources> 
```

当我旋转设备时，文本保持黑暗，这是意料之中的。我决定使用资源修饰符来解决这个问题，并在 values-land 文件夹下创建了一个带有 -land 修饰符的新资源文件夹，该文件夹在横向时具有新的选项卡文本样式，如下所示。

**在*/values-land*文件夹中**

```
<?xml version="1.0" encoding="utf-8"?>
<resources>

    <style name="Example.ActionBar.TabTextStyle"  parent="Widget.Sherlock.ActionBar.TabText">
        <item name="android:textColor">#FFFFFF</item>
    </style>

</resources> 
```

在这一点上，如果我旋转设备，我希望文本会改变颜色。**这不会发生**。但是...如果我回到 Android 主屏幕，将设备置​​于横向，*然后启动应用程序*，则会使用正确的资源样式（标签文本为白色）。如果我将它旋转回纵向，它会保持白色。我希望它恢复到较深的颜色 (#585858)

如何在屏幕方向的选项卡上更改文本颜色？似乎 Android 或 ActionBar 忽略了方向更改并且不再查找样式。有人知道吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-27T16:35:56.390

听起来`android:configChanges="keyboardHidden|orientation"`您的清单中有（或类似的东西）。如果你删除它，那么它应该在旋转时改变颜色。它还会导致活动在旋转时重新加载，因此请确保您也适当地处理它。

# python - Python 内存错误 - Sklearn 巨大的输入数据？

> ID：15150339
> 
> 赞同：1
> 
> 时间：2013-03-01T04:09:40.953
> 
> 标签：python, svm, scikit-learn

我需要在 sklearn 中训练 svm 分类器。特征向量的维度有数十万个，这样的特征向量有数万个。但是，每个维度可以是 0、1 或 -1。每个特征向量中只有大约 100 个是非零的。将有关特征向量的信息提供给分类器的任何有效方法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-01T08:17:34.093

> 我需要在 sklearn 中训练 svm 分类器。

你的意思是`sklearn.svm.SVC`？对于高维稀疏数据和许多样本，、`LinearSVC`或可以更快地训练以获得可比较的预测精度。`LogisticRegression``PassiveAggressiveClassifier``SGDClassifier`

> 特征向量的维度以十万为单位，这样的特征向量有数万个。但是，每个维度可以是 0、1 或 -1。每个特征向量中只有大约 100 个是非零的。将有关特征向量的信息提供给分类器的任何有效方法？

找到一种方法将数据加载为`scipy.sparse`不将零存储在内存中的矩阵。查看[有关特征提取的文档](http://scikit-learn.org/stable/modules/feature_extraction.html)。它将根据原始数据表示的性质为您提供执行此操作的工具。

# silex - 设置 Silex 项目 - 在哪里？

> ID：15150340
> 
> 赞同：3
> 
> 时间：2013-03-01T04:09:44.017
> 
> 标签：silex

这是关于第一次使用 Silex 的一个非常基本的问题。

我想安装从[本教程](http://sf.khepin.com/2011/04/a-first-silex-project/)链接的[这个项目](https://github.com/khepin/tsusbos)。我已经按照[这些说明](http://silex.sensiolabs.org/download)通过 Composer 安装了 Silex 。

我需要知道的是，我应该把项目放在我用 Composer 安装它时创建的 Silex 文件夹中吗？我是否需要为每个我使用它的项目创建一个新的 Silex 实例，或者我是否对所有项目都使用一个，并将它们保存在其他文件夹中？

我习惯了 Drupal，如果这有助于回答这个问题。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-01T04:19:05.890

不同的silex 项目可能需要不同的包依赖。每个项目应该有 1 个 composer.json ，它有自己的供应商文件夹。

你应该做什么：

在 github 上 fork 这个 repo：

> [https://github.com/fabpot/silex-skeleton](https://github.com/fabpot/silex-skeleton)

创建您自己的基础项目，然后使用 composer 自动创建项目（您可以在 packagist.org 上发布您的默认项目，然后使用 composer 安装它）：

要使用 Fabien Potencier 使用的默认骨架，请使用以下命令：

```
composer create-project fabpot/silex-skeleton -sdev 
```

如果您使用单独的 silex 安装，一旦您完成开发，在服务器上部署您的应用程序会更容易。

# java - ISO-8859-1、UTF-8 和西班牙口音

> ID：15150341
> 
> 赞同：1
> 
> 时间：2013-03-01T04:09:49.773
> 
> 标签：java, mysql, utf-8, iso-8859-1

我有一个使用 UTF-8 Unicode 字符集的 MySql 数据库。在我的 JSP 中，当我有：

```
<meta http-equiv="Content-Type" content="text/html" charset="ISO-8859-1"> 
```

它会在数据库中正确插入西班牙口音。但是，当我使用：

```
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8"> 
```

它会插入 García 而不是 García

你们知道为什么使用 UTF-8 它不会插入重音符号吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T04:31:28.420

我不了解 JSP，但这通常与 db 连接如何从数据库中读取数据有关。在 PHP 中，为确保您正在读取使用 utf-8 编码的表（或数据库），您应该声明连接的字符集：

```
if(!$conexion->set_charset("utf8")) {
$errsql['juego_de_caracteres']="Error al conectar al servidor mysql :    ".mysqli_connect_error(); 
```

所以我想你可以在 Java 中做类似的事情。您可以在网络上阅读有关字符编码的信息。这个链接：[http](http://www.joelonsoftware.com/articles/Unicode.html) ://www.joelonsoftware.com/articles/Unicode.html我觉得很有用。
此外，如果您的设置不正确，那么输出可能是相当不可预测的，因为我有时在 Windows 字符中看到使用 ISO-8859-1 正确显示，但它们肯定不会在所有系统中正确显示。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-01T05:48:24.043

由于我使用的是 Spring，因此我使用 CharacterEncodingFilter 解决了我的问题。这很有用，因为当前浏览器通常不会设置字符编码，即使在 HTML 页面或表单中指定也是如此

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-01T15:44:21.777

您必须设置三件事

(1) 告诉servlet引擎在源文件中使用了什么字符编码

(2)告诉servlet引擎你想输出什么字符集

(3) 告诉接收者流的字符编码是什么。

您的元标记仅完成其中的最后一项，但您实际上可能并未发送以该编码格式格式化的输出流。

使用它来告诉 servlet 引擎如何读取源文件，并且您需要输入对源文件进行编码的实际字符集。只有使用 UTF-8 编辑器时才会是 UTF-8。如果您不费吹灰之力将其设为 UTF-8，它可能是 ISO-8859-1：

```
<%@page contentType="text/html;charset=???????"%> 
```

并用它来告诉它如何输出流：

```
response.setCharacterEncoding("text/html; charset=UTF-8") 
```

在您的情况下，由于您知道数据库中的数据以 UTF-8 编码，因此可能是最后一个设置可以解决问题。

# c# - 对 IQueryable 的反思 找不到房产

> ID：15150342
> 
> 赞同：0
> 
> 时间：2013-03-01T04:10:09.347
> 
> 标签：c#, asp.net, reflection, dll, webforms

我创建了一个自定义 gridview 控件并将其导出到一个 dll 中，以便我可以重用它。在 dll 中，我创建了一个函数来获取数据源，我试图从那里填充一个下拉列表，但失败了。

所以在我的网站上我有这个

```
public partial class _Management : System.Web.UI.Page
{
    public class _ManagementHelper
    {
        public int ID;
        public string CompanyName;
        public string ResourceName;
    }

    protected void Page_Load(object sender, EventArgs e)
    {    
        ucGridViewEx.DataSource = ucGridViewEx_Source();
        ucGridViewEx.DataBind();
    }

    private List<dynamic> ucGridViewEx_Source()
    {
        var source = dl.ComapniesResources.Select(x => new _ManagementHelper
        {
            ID = x.ResourceID,
            CompanyName = x.Supplier1.SupplierName,
            ResourceName = x.Name
        });

        return ucGridViewEx.GridViewExDataSource(source);
} 
```

然后dll里面的自定义控件有这个相关代码

```
public List<dynamic> GridViewExDataSource<T>(IQueryable<T> query)
{
    foreach (var column in this.Columns)
    {
        var gridViewExColumn = column as ColumnEx;
        if (gridViewExColumn != null
            && gridViewExColumn.SearchType == SearchTypeEnum.DropDownList)
        {
            gridViewExColumn.DropDownDataSource = query.GetDropDownDataSource(gridViewExColumn.DataField);
        }
    }

    return ((IQueryable<dynamic>)query).ToList<dynamic>();
} 
```

函数 GetDropDownDataSource() 位于与 gridview 相同的 dll 内的另一个扩展类中

```
internal static List<ListItem> GetDropDownDataSource<T>(this IQueryable<T> query,
    string dataField)
{
    var ddlSource = new List<ListItem>();

    // x =>
    var xParameter = Expression.Parameter(typeof(T), "x");

    // x.Property
    var propery = typeof(T).GetProperty(dataField);

    // x => x.Property
    var columnLambda = Expression.Lambda(Expression.Property(xParameter, propery), xParameter);

    return ddlSource;
} 
```

代码在我将值分配给 columnLambda 时失败，因为属性为空，而不是因为它不存在（它确实存在），因为没有获得任何属性。我尝试使用 GetProperties() 并且没有返回任何内容。

奇怪的是，自从我移至 DataSource 以选择 _ManagementHelper 后发生这种情况。我之前在 ucGridViewEx_Source() 上使用了动态（ Select(x => new {}) ），并且效果很好。请不要提供继续使用动态的解决方案，因为我需要允许使用动态和使用自定义对象这两种类型。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-01T04:52:23.823

`_ManagementHelper`没有财产。它仅包含三个字段（据您告诉我们）。所以`GetPrperty`什么都不返回。将成员更改`_ManagementHelper`为属性：

```
public class _ManagementHelper
{
    public int ID { get; set; }
    public string CompanyName { get; set; }
    public string ResourceName { get; set; }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T04:24:39.433

我看到一个错误——

```
 var source = dl.ComapniesResources.Select(x => new _ManagementHelper
    {
        // ResourceID = x.ResourceID, this was the old code
        ID = x.ResourceID,  // fixed code
        CompanyName = x.Supplier1.SupplierName,
        ResourceName = x.Name
    }); 
```

另外，ListItem 是在哪里定义的？

# ios - NSTimer 泄漏内存（CFArray？）

> ID：15150348
> 
> 赞同：3
> 
> 时间：2013-03-01T04:10:55.650
> 
> 标签：ios, memory-leaks, nstimer

在测试我的应用程序的内存泄漏时，我发现每当我以一个间隔启动 NSTimer 时，它表明 CFArray（存储双端队列）和 CFArray（可变变量）的大小一直在增长。在我的实际应用程序中，Malloc 16 和 Malloc 32 等随着 CFArray 的大小增加。

问题：如何阻止这种“泄漏”？

代码：.h

```
@interface ViewController : UIViewController
{
    NSTimer *timerClock;
    int timer;
}
@end 
```

代码：.m

```
- (void)viewDidLoad
{
    [super viewDidLoad];

    timer = 0;
    timerClock = [NSTimer scheduledTimerWithTimeInterval:0.01 target:self selector:@selector(counter) userInfo:nil repeats:YES];
}

- (void)counter
{

}
@end 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-01T04:22:52.867

当您关闭视图控制器时，您是否看到了这一点？我问这个是因为重复`NSTimer`保持对其的强引用`target`，如果您在关闭视图控制器时没有`invalidate`计时器，您将泄漏计时器和控制器本身，因为您将有一个强引用周期（又名[保留循环](https://developer.apple.com/library/mac/documentation/Cocoa/Conceptual/MemoryMgmt/Articles/mmPractical.html#//apple_ref/doc/uid/TP40004447-1000810)) 在控制器和`NSTimer`.

顺便不要尝试`invalidate`在控制器的`dealloc`方法中，因为具有强引用循环，`dealloc`永远不会被调用。通常人们会`invalidate`在`viewDidDisappear`. 而且，很明显，如果您要在 中创建`invalidate`计时器`viewDidDisappear`，您可能应该在`viewDidAppear`而不是在中创建它`viewDidLoad`，以确保您在创建计时器与其`invalidate`调用之间取得平衡。

# python - 我正在尝试查找并替换文本文件中的值

> ID：15150350
> 
> 赞同：1
> 
> 时间：2013-03-01T04:11:04.390
> 
> 标签：python, python-2.6

我有一个包含值的文本文件（例如 0.2803739 0.280314）。我想以这样的方式替换文本文件中的值，即最高值将被最低值替换，依此类推。例如，如果文本文件包含从 1 到 10 的值，则值 10 应替换为值 1，值 9 应替换为 2，值 8 应替换为 3，依此类推。在以下脚本中，第三个“for 循环”被忽略。

```
import fileinput

text_file = r"E:\Jagu\test123.txt"
f1 = open(text_file, 'r')

unique_v = set(f1.read().split())
a = list(unique_v)

new_list1= list(a)
new_list1.sort(reverse = True )

new_list2 = new_list1
new_list2.sort(reverse = False )

l = 0
m = len (new_list2)
m = m-1

f2 = open(text_file + ".tmp", 'w')

for j in new_list1: 
    c = new_list1 [l]
    l = l + 1
    for k in new_list2:
        d = new_list2[m]
        m = m - 1
        for line in f1:
            f2.write(line.replace(c,d))
            print "replaced : " + str(c)  + " with : " + str(d)
f1.close()
f2.close() 
```

希望解释有助于理解我的问题。我是 Python 编程的初学者。任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T04:26:08.767

问题一：

```
new_list2 = new_list1 
```

这将创建`new_list2`并`new_list1`指向相同的列表。你需要

```
new_list2 = list(a) 
```

或者

```
new_list2 = new_list[:] 
```

问题 2：

你不能做

```
for line in f1: 
```

`read()`从`f1`. _

做

```
f1.seek(0)
l = f1.readlines()
for line in f1: 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T04:28:09.747

在你调用 f1.read() 之后，你在文件的末尾，所以调用 f1.seek(0) 以便你可以在最后一个 for 循环中再次读取它。

请参阅[在 Python 中重新打开文件？](https://stackoverflow.com/questions/2106820/re-open-files-in-python)了解更多信息。

# css - 如何以正确的方式将内容放在两个并排浮动的 div 中？

> ID：15150354
> 
> 赞同：-2
> 
> 时间：2013-03-01T04:12:21.530
> 
> 标签：css, html

我希望我的内容如下所示：

![图片](../Images/00a5d895f92976f5e3cefa3e6b116733.png)

在 HTML 和 CSS 中两个`div`并排浮动的内部。我可以以一种不直观的方式使用一些 CSS 来获得它，但这是我不想遵循的做法。

我想知道编码的正确方法。它将消除学习 HTML 和 CSS 的主要障碍。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-01T04:38:21.603

html

```
<div class="left">
    <h1>jk</h1>
</div>

<div class="right">
    <ul>
        <li><a href="#">home</a></li>
        <li><a href="#">sample</a></li>
        <li><a href="#">sample</a></li>
        <li><a href="#">sample</a></li>
        <li><a href="#">sample</a></li>
    </ul>   
    <a class="logIn" href="#">log in</a>

</div> 
```

css

```
 .left{
    float:left;
    background-color:#898989;
    width:30%;
}
.left h1 {
    font-size:20px;
    float:right;
    padding:1px 5px;
    color:#fff;
}
.right {
    float:right;
    background-color:#222;
    width:70%;

}
.right ul {float:left; }
.right ul li {
    float:left;
    list-style-type:none;
    color:#fff;
    padding:0 5px;
}
.right ul li a {
    color:#fff;
    text-decoration:none;    
}
.logIn {
    float:right;
    margin:8px 5px 0 0;
    text-decoration:none;
    background-color:#3c3c3c;
    padding:5px;
} 
```

[**演示**](http://jsfiddle.net/jhunlio/JUdYy/5/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-01T04:18:43.797

```
<div style="float:left">Hello</div>
<div style="float:right">world!</div> 
```

更多信息在`float`这里[，](http://css.maxdesign.com.au/floatutorial/)或在[Google](https://www.google.co.uk/webhp?hl=en&q=basic+floats+css#hl=en&safe=off&output=search&sclient=psy-ab&q=basic+floats+css&oq=basic+floats+css)上。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-01T04:26:01.003

有两种简单的方法可以做到这一点：

1.  创建 2 个 div 并将它们分别向左浮动：

    `<div style="width: 300px; float: left;">Div 1</div>`

    `<div style="width: 300px; float: left;">Div 2</div>`

2.  第二种方法是：

**HTML：**

```
<div id="wrapper">
   <div id="left">First Div</div>
   <div id="right">Second Div</div>
</div> 
```

**CSS：**

```
#wrapper {
    width: 960px;
    display: inline-block;
}

#wrapper #left {
    width: 480px;
    float: left;
}

#wrapper #right {
    width: 480px;
    float: right;
} 
```

# c++ - TimeUnit 类中的 Add 方法的问题

> ID：15150356
> 
> 赞同：0
> 
> 时间：2013-03-01T04:12:33.700
> 
> 标签：c++

```
#include <iostream>
#include <string>
#include <sstream>

using namespace std;

class TimeUnit
{
public:
    TimeUnit(int m, int s)
    {
        this -> minutes = m;
        this -> seconds = s;
    }

    string ToString()
    {
        ostringstream o;
        o << minutes << " minutes and " << seconds << " seconds." << endl;

        return o.str();
    }

    void Simplify()
    {
        if (seconds >= 60)
        {
            minutes += seconds / 60;
            seconds %= 60;
        }
    }

    TimeUnit Add(TimeUnit t2)
    {
        TimeUnit t3;

        t3.seconds = seconds + t2.seconds;

        if(t3.seconds >= 60)
        {
            t2.minutes += 1;
            t3.seconds -= 60;
        }

        t3.minutes = minutes + t2.minutes;

        return t3;
    }

private:
    int minutes;
    int seconds;

};

int main(){

    cout << "Hello World!" << endl;

    TimeUnit t1(2,30);
    cout << "Time1:" << t1.ToString() << endl;

    TimeUnit t2(3,119);
    cout << "Time2:" << t2.ToString();
    t2.Simplify();
    cout << " simplified: " << t2.ToString() << endl;

    cout << "Added: " << t1.Add(t2).ToString() << endl;
    //cout << " t1 + t2: " << (t1 + t2).ToString() << endl;

    /*cout << "Postfix increment: " << (t2++).ToString() << endl;
    cout << "After Postfix increment: " << t2.ToString() << endl;

     ++t2;
     cout << "Prefix increment: " << t2.ToString() << endl;*/

} 
```

我的 Add 方法有问题。Xcode 给了我这个错误：“没有匹配的构造函数用于 TimeUnit 的初始化”

有人可以告诉我我做错了什么吗？我已经尝试了所有我知道该怎么做的事情，但我什至无法用这种方法编译它。

以下是我教授的指示：

> TimeUnit 类应该能够保存由分和秒组成的时间。它应该有以下方法：
> 
> 以 Minute 和 Second 作为参数的构造函数 ToString() - 应该返回时间的等值字符串。“M分S秒。” Test1 Simplify() - 这个方法应该花费时间并简化它。如果秒数为 60 秒或以上，则应将秒数减少到 60 以下并增加分钟数。例如，2 分 121 秒应变为 4 分 1 秒。Test2 Add(t2) - 应该返回一个新时间，即两次 Test3 运算符 + 的简化相加应该与 Add Test4 pre 和 postfix ++ 做同样的事情：应该将时间增加 1 秒并简化 Test5

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-01T04:18:00.140

在您的`TimeUnit::Add`函数中，您尝试使用默认构造函数初始化 t3 。但是，您的 TimeUnit 没有：

```
TimeUnit Add(TimeUnit t2)
{
   TimeUnit t3;   ///<<<---- here
   ///.....
} 
```

尝试`TimeUnit::Add`以这种方式更新：

```
TimeUnit Add(const TimeUnit& t2)
{
   return TimeUnit(this->minutes+t2.minutes, this->seconds+t2.seconds);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T04:16:04.947

具体问题是因为没有`TimeUnit::TimeUnit()`定义，只有`TimeUnit(const int &m, const int &s)`.

# java - Javadoc 是告诉用户安全问题的正确方法吗？

> ID：15150361
> 
> 赞同：3
> 
> 时间：2013-03-01T04:13:46.777
> 
> 标签：java, javadoc

我正在尝试回答这个问题，我相信 Javadoc 会解决这个问题：

您发现您的一个（否则非常出色）类中的方法存在安全问题，并且您想告诉用户不再使用该方法不是一个好主意。你怎么做到这一点？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-01T04:22:44.367

我建议**弃用**该方法。

[如何以及何时弃用 API](http://docs.oracle.com/javase/1.5.0/docs/guide/javadoc/deprecation/deprecation.html)

> 在设计 API 时，请仔细考虑它是否会取代旧的 API。如果是这样，并且您希望鼓励开发人员（API 的用户）迁移到新的 API，那么请弃用旧的 API。弃用 API 的正当理由包括：
> 
> 它不安全、有缺陷或效率极低

这将自动包含在 Javadocs 中，并给出一个明确的信号，表明不应使用此方法。

# c# - 如何将带有联接的查询绑定到 GridView，以及带有业务层和数据访问层的 Linq 数据源

> ID：15150363
> 
> 赞同：0
> 
> 时间：2013-03-01T04:14:18.060
> 
> 标签：c#, asp.net, linq, gridview

我有两个要连接在一起的表格显示在 GridView 中

```
foo
fooID  fooName barID
1      Alice   2
2      Bob     1
3      Charlie 1

bar
barID  barTitle
1      Developer
2      Project Manager 
```

（关系和约束已在数据库中定义）

我有一个`foo`像这样的输出的 GridView

```
Name    Title
Alice   2
Bob     1
Charlie 1 
```

但我想看看以下

```
Name    Title
Alice   Project Manager
Bob     Developer
Charlie Developer 
```

显然，我的 SQL 看起来像：

```
select fooName as Name, barTitle as Title
from foo join bar on foo.barid = bar.barid 
```

深埋在我的代码中，我有以下内容：

FooDAL.cs

```
// ...
namespace ourDAL{
// ...
public class fooDAL : ICRUD <foo>, IDisposable //ICRUD is just an interface
{
// ...
  ourPoco context; // ourPoco was auto generated by a template from our  
                   // database and an EDMX file.

  public fooDAL()
  {
      context = new ourPoco;
  }
// ...
    public IList<Cfoo> FindAll()
    {
        return (from c in context.foo
                select c).ToList<foo>();
    }
// ... 
```

**我认为在这里我应该能够在 Linq 中构建一个 Join，但我不知道该怎么做。如何修改 Linq 代码来处理加入？**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T04:25:49.137

您可以使用此查询：

```
select  a.fooName as Name, b.barTitle as Title from foo a inner join bar b
on a.barid= b.barid 
```

同样在您的网格中，您需要从

```
<asp:BoundField DataField="BarID" HeaderText="Title" /> 
```

至

```
<asp:BoundField DataField="Title" HeaderText="Title" /> 
```

等效的 LINQ 查询将是：

```
var a = (from p in foo 
            join q in bar 
            on p.barid equals q.barid 
            select new { Name= p.fooName , Title = q.barTitle }).ToList(); 
```

# java - Java从字符串输入中获取int

> ID：15150369
> 
> 赞同：0
> 
> 时间：2013-03-01T04:14:58.383
> 
> 标签：java, string

我正在写一个二叉搜索树。用户将按如下方式使用该程序：

您想测试哪棵树（BST、ST、RBT）？

> BST 您要插入多少个项目？10000 模式（随机或排序）？排序下一个命令（插入 X、删除 X、查找 X、高度、退出）？查找 111111 项目不存在。

对于前三个选择，我认为我可以只使用字符串在 BST、ST 和 RBT 之间进行选择，也可以在随机或排序之间进行选择，比如

```
String choice
if( choice == "random")
  insert random numbers 
```

我遇到的问题是第四个选择。例如，如果用户将插入 100 作为字符串输入，我是否只需要去掉 100 并将其设为 int。如果是这样，我将如何去做？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-01T04:20:04.483

您可以使用函数的组合来确定字符串是否为 int

```
public boolean isInteger(String str) {
  try {
    Integer.parseInt(str);
    return true;
  } catch(NumberFormatException e) {
    return false;
  }
} 
```

如果此函数返回 true ... string 是一个整数 ...现在使用获取整数值

```
Integer.parseInt(str); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-07-16T18:12:32.370

我要注意的第一件事是，不应将 String 与 == 进行比较，而应使用 string.equals(comparedString); 您还可以使用以下代码解析一个人输入的所有输入，然后同时使用输入的字符串和输入的字符串值，它不会依赖于字符串的开头。这将满足他们所有人的选择；插入、删除等。

```
String userInput;//received by system in
String choice;
int choiceInt;
for (int i = 0; i < userInput.length(); i++) 
{
    Character character = userInput.charAt(i);
    if (!Character.isDigit(character)) 
    {
        choice += character;
    }
    else if (Character.isDigit(character))
    {
        choiceInt += character;
    }
    else
    {
        System.out.println("Unable to determine character.");
    }

    /* Code for the comparison of String based option */
    //Example
    if (choice.equalsIgnoreCase("insert")//NOTE: the ignore case, 
                                         // you want users to be                        
                                         // able to enter in strings 
                                         // and not have a case sensitivity.
    {
        /* do the code you planned on doing here */
    }
} 
```

您还可以为您愿意接受为有效选项的每个字符串可能性分配整数值。这将增加编码，但也会增加 switch case 语句。（这仍然被解释为 if、else if、else 语句）我认为在这一点上这将更多地取决于开发人员的意图和设计偏好。如果我错了，请纠正我。

您还可以使用 try 和 catch 块替换最后的 else 语句。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-01T05:00:34.543

尝试这个：

```
if (input.startsWith("insert")) {
    int num = Integer.parseInt(input.replaceAll("\\D", ""));

} 
```

# iphone - 如何将 NSMutableArray 的所需项复制到 NSArray

> ID：15150371
> 
> 赞同：2
> 
> 时间：2013-03-01T04:15:04.537
> 
> 标签：iphone, nsmutablearray

我有`NSMutableArray`结果它有 6 个项目。我想将前三个内容复制到另一个`NSArray`.

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-01T04:42:20.920

只需使用`subarrayWithRange:`：

```
NSMutableArray *oldArray = ... // the mutable array with the 6 objects
NSArray *result = [oldArray subarrayWithRange:NSMakeRange(0, MIN(3, oldArray.count))]; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-01T04:22:08.997

```
NSMutalbeArray *newArray=[[NSMutableArray alloc] init];
for(int i=0; i < results.count; i++){
    [newArray addObject:results[i]];
    if(i == 2)
       break;
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-01T04:32:42.363

试试这个简单的循环：

```
NSMutableArray *resultantArray=[NSMutableArray new];
for(NSInteger i=0;i<3;i++){
    [resultantArray addObject:firstArray[i]];
} 
```

# java - 获得学生评分的平均成绩

> ID：15150376
> 
> 赞同：0
> 
> 时间：2013-03-01T04:15:24.913
> 
> 标签：java, arrays, for-loop, user-input, do-while

在进行任何计算或显示任何输出之前，请阅读所有学生的信息。确认 3 次考试成绩在 0-50 分之间，并且在输入时确保期末考试成绩在 0-100 分之间。将最小值和最大值声明为常数，以便根据需要轻松更新它们。如果无效，则显示错误消息并允许用户重新输入该无效分数。读入所有学生信息后，以 LASTNAME、FIRSTNAME（全部大写）的格式显示每个学生的姓名、学生的考试百分比（所有考试的总和加上可能的期末/总数）到小数点后 1 位和学生的期末成绩，基于以下百分比：

> 90-100 A、80-89.9 B、70-79.9 C、60-60.9 D、低于 60 F

![输出应该是什么样子](../Images/7c02717e5e139d1581c049b546c760f0.png)

这是我已经输入的内容，但它给了我一些错误，我不确定我是否正确分配了值。

```
import java.util.*;
import java.text.*;

public class Proj4 {
public static void main(String[] args){
Scanner s= new Scanner(System.in);
String input;
String again = "y";

int [] exams = new int[4];
int student = 1;

do
{

    String [] names = new String[student];
        System.out.print("PLease enter the name of student" + student );
        names[student-1] = s.nextLine();
        for ( int i = 1; i < exams.length; i++){
            if(i==4){
                System.out.print("Please enter score for Final Exam: ");
            }

            System.out.print("Please enter score for Exam" + i);
            exams[i] = s.nextInt(); 

                if((exams[1]<0||exams[1]>50)||(exams[2]<0||exams[2]>50)||(exams[3]<0||exams[3]>50)){
                    System.out.println("Invalid enter 0-50 only...");
                    System.out.print("Please re-enter score: ");
                    exams[i] = s.nextInt();
                }
                else if(exams[4]<0||exams[4]>100){
                    System.out.println("Invalid enter 0-100 only...");
                    System.out.print("Please re-enter score: ");
                    exams[i] = s.nextInt();
                }
        }
        System.out.println("do you wish to enter another?");
        again = s.nextLine();
    student++;
}while (again.equalsIgnoreCase ("y"));
}
} 
```

这是错误消息：

线程“主”java.lang.ArrayIndexOutOfBoundsException 中的异常：Proj4.main 中的 4（Proj4.java:32）

但它令人困惑，因为第 32 行只是一个 } 所以我真的不知道它的确切含义，我知道我可能需要减少数组输入之一的长度，但我不确定哪个或是否有什至比这更错误。

编辑：

抱歉，这是我的问题，你们能帮我找出问题和/或告诉我是否或我做错了什么来获得我需要的输出吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T04:18:00.327

数组`exams`只有 4 个元素，但您尝试在此处访问索引为 4 的第 5 个元素`exams[4]<0`。数组的第一个索引是 0（不是 1）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T08:36:30.180

以下内容对您有用吗？

```
public static void main(String[] args) {
        Scanner s = new Scanner(System.in);
        String again = "y";

        int[] exams = new int[4];
        int student = 1;

        do {

            String[] names = new String[student];
            System.out.print("PLease enter the name of student" + student);
            names[student - 1] = s.nextLine();
            for (int i = 0; i < exams.length; i++) {
                System.out.println(i + " i");
                if (i == 3) {
                    System.out.print("Please enter score for Final Exam: ");
                    exams[i] = s.nextInt();
                    if (exams[3] < 0 || exams[3] > 100) {
                        System.out.println("Invalid enter 0-100 only...");
                        System.out.print("Please re-enter score: ");
                        exams[i] = s.nextInt();
                    }
                } else {
                    System.out.print("Please enter score for Exam " + i);
                    exams[i] = s.nextInt();

                    if ((exams[i] < 0 || exams[i] > 50)) {
                        System.out.println("Invalid enter 0-50 only...");
                        System.out.print("Please re-enter score: ");
                        exams[i] = s.nextInt();
                    }

                }
            }
            System.out.println("do you wish to enter another?");
                again = s.next();
                student++;
        } while (again.equalsIgnoreCase("y"));
    } 
```

# drupal - Drupal vhost 文件不显示网站内容

> ID：15150377
> 
> 赞同：1
> 
> 时间：2013-03-01T04:15:27.153
> 
> 标签：drupal, virtualhost

我在 drupal 中使用虚拟主机文件在一台服务器下创建多个站点。还要从 url 中删除 /drupal。

例如：202.45.198.98/drupal 这是我访问网站时 URL 的样子

为我的网站创建新的虚拟主机文件后，我可以在 url 中看到没有 /drupal 的网站。

现在问题只加载了第一页，我的意思是一些问题，但不是图像、drupal 模板或任何其他链接。

```
 <VirtualHost *:80>
ServerAdmin webmaster@localhost
ServerName mysite

DocumentRoot /var/www/drupal
<Directory /var/www/drupal/>
    Options FollowSymLinks
    AllowOverride All
    Order allow,deny
    allow from all
</Directory>
<Directory /var/www/drupal/>
    Options Indexes FollowSymLinks MultiViews
    AllowOverride All
    Order allow,deny
    allow from all
</Directory>

ScriptAlias /cgi-bin/ /usr/lib/cgi-bin/
<Directory "/usr/lib/cgi-bin/">
    AllowOverride All
    Options +ExecCGI -MultiViews +SymLinksIfOwnerMatch
    Order allow,deny
    Allow from all
</Directory>

ErrorLog /var/log/apache2/error.log

# Possible values include: debug, info, notice, warn, error, crit,
# alert, emerg.
LogLevel warn

CustomLog /var/log/apache2/access.log combined

    Alias /doc/ "/usr/share/doc/"
    <Directory "/usr/share/doc/">
    Options Indexes MultiViews FollowSymLinks
    AllowOverride All
    Order deny,allow
    Allow from all
    Allow from 127.0.0.0/255.0.0.0 ::1/128
    </Directory>

    </VirtualHost> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T05:07:21.927

您应该检查 sites/default 文件夹中的 settings.php。你会看到这样的一行——

```
# $base_url = 'http://www.example.com';  // NO trailing slash! 
```

在开始时删除哈希并使用您对 drupal 实例的当前 URL 更新 URL。如果您的连接设置在相同的 settings.php 文件（数据库名称、服务器名称、用户名和密码）中正确，您很可能会解决您的问题。

如果您在登录时发现由于 URL 干净而导致的问题，那么您可能需要手动输入以管理员身份登录的路径，这将是 --

```
YOUR_BASE_URL/?q=user/login 
```

如果你想禁用干净的 URL，那么你可以在你的 settings.php 中多写一行——

```
$conf = array(
  'clean_url' => 0,
); 
```

吃得开心 :)

# javascript - 控制器在 Javascript MVC 中的作用

> ID：15150387
> 
> 赞同：0
> 
> 时间：2013-03-01T04:16:39.827
> 
> 标签：javascript, model-view-controller, design-patterns, backbone.js

我想了解控制器在 Javascript MVC 模式中的作用。是一种方式还是两种方式，即控制器负责保持模型和视图同步，还是只负责在视图更改时更新模型？或者它是特定于框架的吗？

同样在所有框架中，我们是否需要为屏幕上显示的每个元素设置 View Controller 对？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T05:51:34.557

MVC 要记住的一点是，它旨在促进“关注点分离”，使您的代码保持相对干净和清晰。以我的经验，许多 MVC 问题不一定有一个“正确”的答案，尤其是在 JavaScript 中。

我曾在一些大型 HTML/JavaScript 应用程序上工作过，并且我对这种方法最幸运：

1.  保存数据并执行某种程度的业务逻辑的“模型”对象。这可能涉及一些将更改同步到服务器和从服务器同步更改的逻辑。
2.  可以从客户端轻松更新的“视图”组件。例如，封装不同 UI 元素的自定义 jQuery 控件，尽可能少的业务逻辑。
3.  也许是一种事件机制，模型通过该机制通知系统的其余部分基础数据的更改。这主要是为了避免让模型担心数据的使用方式。
4.  一个“控制器”，它改变模型以响应用户操作。

通常所有丑陋的代码都会在控制器中结束，这很好。至少系统的其余部分是以模块化和可理解的方式组织的。:) 最后，一切都是为了管理复杂性。

# php - 弹出直到jquery完成处理

> ID：15150394
> 
> 赞同：0
> 
> 时间：2013-03-01T04:17:19.350
> 
> 标签：php, jquery

我是 jquery 的新手，我需要弄清楚如何执行以下操作：

我的页面上有一个提交按钮，单击时会执行一个 jquery 函数。该函数将从 mysql 加载一些信息并用该信息回显一个表。

我的问题是这需要时间，同时用户正在等待甚至重新提交。

我想要的是在我开始从 mysql 获取数据之前显示一个弹出屏幕，并在数据回显到页面后将其删除。

我会寻找什么？这个叫什么？我怎样才能实现这样的想法。

这是我的代码：

```
<script type="text/javascript">
$(document).ready(function(){
$('#form-lecturer-login').submit(function(event){
event.preventDefault();
//I need: Display a pop up

//This is working : Code to fetch mysql data and echo a table

//I need: Remove popup
} 
```

这是我的完整代码：pastebin.com/JVCfWbLD

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T04:20:18.387

利用

```
 .blockUI() in jQuery . 
```

我认为这将解决您的问题。

[阻止用户界面](http://www.malsup.com/jquery/block/)

它会阻止屏幕，直到您取消阻止它。它是非常好的插件。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-01T04:36:55.490

由于您实际上使用的是 jQuery`submit`而不是 AJAX，因此页面正在等待您的服务器端处理程序来处理数据。尝试这个：

将这两行放在`<header>`您的页面中：

```
<script src="http://code.jquery.com/ui/1.10.1/jquery-ui.js">
<link rel="stylesheet" type="text/css" href="http://code.jquery.com/ui/1.10.1/themes/base/jquery-ui.css"> 
```

然后修改您的代码，如下所示：

```
<script type="text/javascript">

       $(document).ready(function(){

           $(function() {
                $( "#dialog-modal" ).dialog({
                    height: 140,
                    modal: true,
                    autoOpen: false
           });

           $('#form-lecturer-login').submit(function(event) {
                event.preventDefault();

                $( "#dialog-modal" ).dialog( "open" );

                    //Your working processing code here.

                $( "#dialog-modal" ).dialog( "close" );
           }

       }); 
```

然后在您的 HTML 正文中：

```
<div id="#dialog-modal" title="Stand by...">
  <p>Your data is loading, please stand by...</p>
</div> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-01T04:28:12.990

最好的方法是在用户提交时使用加载栏。这是一个演示

[http://bokehman.com/loading](http://bokehman.com/loading)

# powershell - Powershell ..从网页中选择下拉菜单

> ID：15150397
> 
> 赞同：3
> 
> 时间：2013-03-01T04:17:28.667
> 
> 标签：powershell, drop-down-menu, html.dropdownlistfor

我试图在网站上选择一个下拉菜单，但我完全不知道该怎么做。我用谷歌搜索了它，但没有找到任何东西。这就是我想做的..

连接到网络..从下拉菜单中选择一个项目设置数量然后添加到购物车....................... …………………………………………………………………………………………

```
[void] [System.Reflection.Assembly]::LoadWithPartialName("System.Drawing") 
[void] [System.Reflection.Assembly]::LoadWithPartialName("System.Windows.Forms") 

$objForm = New-Object System.Windows.Forms.Form 
$objForm.Text = "Web Link"
$objForm.Size = New-Object System.Drawing.Size(300,150) 
$objForm.StartPosition = "CenterScreen"
$objForm.KeyPreview = $True
$objForm.Add_KeyDown({if ($_.KeyCode -eq "Enter") 
   {$tag=$objTextBox.Text;$objForm.Close()}})
$objForm.Add_KeyDown({if ($_.KeyCode -eq "Escape") 
   {$objForm.Close()}})

$OKButton = New-Object System.Windows.Forms.Button
$OKButton.Location = New-Object System.Drawing.Size(100,75)
$OKButton.Size = New-Object System.Drawing.Size(75,23)
$OKButton.Text = "OK"
$OKButton.Add_Click({$WebSite=$objTextBox.Text;$objForm.Close()})
$OKButton.TabIndex=1

$objForm.Controls.Add($OKButton)
$objLabel = New-Object System.Windows.Forms.Label
$objLabel.Location = New-Object System.Drawing.Size(10,20) 
$objLabel.Size = New-Object System.Drawing.Size(280,20) 
$objLabel.Text = "Enter Website Page:"

$objForm.Controls.Add($objLabel) 

$objTextBox = New-Object System.Windows.Forms.TextBox 
$objTextBox.Location = New-Object System.Drawing.Size(10,40) 
$objTextBox.Size = New-Object System.Drawing.Size(260,20) 
$objTextBox.TabIndex = 0

$objForm.Controls.Add($objTextBox)
$objForm.Topmost = $True

$objForm.Add_Shown({$objForm.Activate()})

[void] $objForm.ShowDialog()

#Connect to Website
$ie = new-object -com "InternetExplorer.Application"
$ie.navigate("$WebSite")
$ie.visible = $true
   while ($ie.Busy -eq $true) {Start-Sleep -Milliseconds 1000; }

i see this on the website, but i dont know hot to set the value or select the item. or is there easier way to
do this when the webpage loads?

#<select name="skuAndSize" class="size-dropdown mediumSelect footwear selectBox" style="display: none;">
         <option value=""></option>
            <option name="skuId" value="2870325:7"> 7</option>
            <option class="size-not-in-stock" name="skuId" value="2870326:7.5"> 7.5</option>
            <option name="skuId" value="2870327:8"> 8</option>
            <option class="size-not-in-stock" name="skuId" value="2870328:8.5"> 8.5</option>
            <option name="skuId" value="2870329:9"> 9</option>
            <option name="skuId" value="2870330:9.5"> 9.5</option>
            <option name="skuId" value="2870331:10"> 10</option>
            <option class="size-not-in-stock" name="skuId" value="2870332:10.5"> 10.5</option>
            <option name="skuId" value="2870333:11"> 11</option>
            <option class="size-not-in-stock" name="skuId" value="2870334:11.5"> 11.5</option>
            <option name="skuId" value="2870335:12"> 12</option>
            <option class="size-not-in-stock" name="skuId" value="2870336:12.5"> 12.5</option>
            <option name="skuId" value="2870337:13"> 13</option>
            <option class="size-not-in-stock" name="skuId" value="2870338:13.5"> 13.5</option>
            <option name="skuId" value="2870339:14"> 14</option>
            <option class="size-not-in-stock" name="skuId" value="2870340:15"> 15</option>
            <option class="size-not-in-stock" name="skuId" value="2870341:16"> 16</option>
            <option class="size-not-in-stock" name="skuId" value="2870342:17"> 17</option>
            <option class="size-not-in-stock" name="skuId" value="2870343:18"> 18</option>
       </select> 

#<span class="selectBox-label" data-qa="pdp.buyingtools.size-dropdown">(9.5)</span># 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-01T12:46:16.093

尝试这个：

```
# will select item with label 9
$dropdown = $ie.Document.getElementById("skuAndSize")
($dropdown | where {$_.innerHTML -eq "9"}).Selected = $true 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-12-18T07:41:48.123

找到了一个更好的解决方案，它将选择具有精确文本的值

**定义一个函数**

> applicationList 是选择标签的id
> 
> 测试 abc 是要匹配的确切文本

* * *

```
function Subscription()
{
$x = $IE.document.getElementById("applicationList");
for($i=0;$i -lt $x.length;$i++)
{
If($x.options[$i].text -eq "test abc")
{
return $i;
}}} 
```

**调用函数**

```
$index=Subscription;
$IE.Document.getElementById("applicationList").SelectedIndex=$index; 
```

# ios - 从标签栏控制器获取导航控制器

> ID：15150400
> 
> 赞同：1
> 
> 时间：2013-03-01T04:17:39.600
> 
> 标签：ios, objective-c, uinavigationcontroller, uitabbarcontroller

我现在正在努力实现两件事：

1）在导航控制器中有一个标签栏控制器

2）根据选定的选项卡，一些导航按钮会发生变化，我想将一些视图推送到导航控制器中，同时保持在当前选定的选项卡内。

现在，我像这样推动导航控制器：

```
GenericAddViewController *vc = [[GenericAddViewController alloc]init];
UINavigationController *navigationController = [[UINavigationController alloc]initWithRootViewController:vc];
navigationController.modalPresentationStyle = UIModalPresentationFullScreen;
[self presentViewController:navigationController animated:YES completion: nil]; 
```

然后，在 GenericAddViewController.m 我有：

```
@interface GenericAddViewController ()
@property (strong, nonatomic) UITextField *titleTextField;
@property (nonatomic, strong) UITabBarController *tabBarController;

@end

@implementation GenericAddViewController

-(void)loadView
{
[super loadView];

TabOneController *tabOneController = [[TabOneController alloc]init];
tabOneController.title = @"Steps";

TabTwoController *tabTwoController = [[TabTwoController alloc]init];
tabTwoController.title = @"More Information";   

NSArray *controllers = [NSArray arrayWithObjects:tabOneController, tabTwoController, nil];

self.tabBarController = [[UITabBarController alloc]init];
self.tabBarController.view.frame = CGRectMake(0, 0, 768, 1004);
self.tabBarController.viewControllers = controllers;
self.tabBarController.delegate = self;

} 
```

这行得通。唯一的问题是例如在 TabOneController 中，我不能做任何这些：

```
UIBarButtonItem *doneButton = [[UIBarButtonItem alloc] initWithBarButtonSystemItem:UIBarButtonSystemItemDone target:self action:@selector(isDone:)];
[self.navigationItem setRightBarButtonItem:doneButton animated:NO]; 
```

也不 [self.navigationController push...]

不应该那么复杂吧？！

非常感谢！

# java-me - 在 J2ME 中，关闭应用程序或重启手机后，RMS 仍然可以保留所有记录吗？

> ID：15150408
> 
> 赞同：1
> 
> 时间：2013-03-01T04:18:19.600
> 
> 标签：java-me, rms, midp-2.0, cldc

我正在 J2ME 中开发一个基于位置的应用程序。我正在使用 CLDC 1.1 和 MIDP 2.0 的配置。

我必须在数据库中存储**地名、地址、纬度、经度、提醒文本和音调名称**。我关于 RMS 的问题是：

1) 当我关闭应用程序或重新启动应用程序时；RMS中的应用程序存储的任何记录都被删除了吗？

2) 持有记录的最大有效值是多少。那是无限的吗？

3) RMS 可以保存多少条记录而不会使移动系统变慢？

4) 哪个 J2ME 数据库系统在添加、删除和更新记录方面为我提供了**高效、简单和速度。**RMS 提供吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-01T13:16:02.223

对于您的问题，答案如下：

1)**当我关闭应用程序或重新启动应用程序时；RMS中的应用程序存储的任何记录都被删除了吗？**:

当你关闭或重启手机时，RMS 没有被删除。当您在 RMS 中调用 delete 方法时，它会被删除。*如果您从设备中删除您的应用程序（Midlet 套件），则与该应用程序关联的 RMS 将被删除*，

2)**持有记录的最大有效值是多少。那是无限的吗？：**

我认为这是基于可用内存的多少。*如果您将应用程序存储在 SD 卡中，则 RMS 也会占用 SD 卡内存。如果您将应用程序存储在设备内存中（不在 SD 卡中），则 RMS 会占用设备内存（这里设备内存要少得多）*。

4)**哪个 J2ME 数据库系统在添加、删除和更新记录方面为我提供了高效、简单和速度。RMS 提供吗？**:

RMS 符合您的要求。但是 RMS 中的记录存储为平面文件系统。RMS API 中有删除、插入方法等。但是您需要构建一个*逻辑*来查找删除，插入等需要哪些记录。例如，我们要删除年龄> 20的记录意味着我们不能使用类似的查询`delete from table1 where age>20`。这里我们要一个一个的读取所有的记录，找出哪些记录包含age>20，然后我们找到位置并相对于位置删除。因为*我们不能在 RMS 中使用 sql 查询。这是 RMS 的一大缺点*。

# c# - MonoTouch 绑定到 NSString 字段在 Release 版本中返回 null

> ID：15150412
> 
> 赞同：0
> 
> 时间：2013-03-01T04:18:29.820
> 
> 标签：c#, objective-c, zbar-sdk, xamarin.ios

我已经成功地创建了一个更新的 ZBar MonoTouch 绑定 dll，[不久前在此处跟进这个答案](https://stackoverflow.com/a/10073762/505457)，使用更新的 [Field] 绑定来绑定静态 NSStrings（以前我只是在我的绑定 dll 中复制 NSString 的值）。

绑定 dll 编译良好（在发布模式下编译）。

并且使用我的应用程序中的绑定 ZBar.dll 在调试版本中工作正常，从本机库返回正确的 NSString 值。但是在 Release 版本中，它总是返回 null。

请注意，我将链接器行为设置为剥离调试和发布版本的所有程序集，因此与链接器剥离任何内容无关。

我尝试为 Release 关闭 LLVM 编译器，但它仍然在 Release 版本中返回 null。但是，在 Release 版本中启用调试可以修复它（但显然不是解决方案）。

下面是绑定代码：

```
[Static]
interface ZBarSDK
{
    // extern NSString* const ZBarReaderControllerResults;
    [Field ("ZBarReaderControllerResults", "__Internal")]
    NSString BarcodeResultsKey { get; }
} 
```

这是反编译的 IL（根据 MonoDevelop）：

```
namespace ZBar
{
    public static class ZBarSDK
    {
        [CompilerGenerated]
        private static NSString _BarcodeResultsKey;

        [CompilerGenerated]
        private static readonly IntPtr __Internal_libraryHandle = Dlfcn.dlopen(null, 0);

        public static NSString BarcodeResultsKey
        {
            get
            {
                if (ZBarSDK._BarcodeResultsKey == null)
                {
                    ZBarSDK._BarcodeResultsKey = Dlfcn.GetStringConstant(ZBarSDK.__Internal_libraryHandle, "ZBarReaderControllerResults");
                }
                return ZBarSDK._BarcodeResultsKey;
            }
        }
    }
} 
```

单点触控：6.0.10

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-01T13:31:55.940

将此添加到项目的 iOS 构建选项页面中的其他 mtouch 参数中：

```
--nosymbolstrip=ZBarReaderControllerResults 
```

Debug 和 Release 版本之间的区别在于 Release 版本被剥离，因此删除了该字段的符号，因此 Xamarin.iOS 在运行时找不到它。此选项将使 Xamarin.iOS 告诉链接器它应该保留该符号，即使该符号未使用（请注意，与字段的绑定是在运行时发生的动态绑定，因此本机`strip`工具无法看到实际使用该字段）。

# asp.net-mvc-3 - 在 Razor 中加入文本 + 变量

> ID：15150417
> 
> 赞同：20
> 
> 时间：2013-03-01T04:19:31.377
> 
> 标签：asp.net-mvc-3, razor

在 Razor 中，我如何打印一些文本 + 变量值？

例如：

```
@for(int i=0;i<5;i++)                      
{
  <input type="text" value="@i" id = "name_@i"/>
} 
```

上面的代码打印 id = "name_@i"，但我想要 id 标签中 i 的值。

* * *

## 回答 #1

> 赞同：37
> 
> 时间：2013-03-01T04:21:05.643

尝试以下操作：

```
@for(int i=0;i<5;i++)                      
{
  <input type="text" value="@(i)" id = "name_@(i)"/>
} 
```

当您无法让 Razor 理解您的意图时，请在表达式周围使用括号来创建“[显式表达式](http://haacked.com/archive/2011/01/06/razor-syntax-quick-reference.aspx)”。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-03-09T05:04:17.877

在 Razor 视图中插入变量的一种简单方法，在任何地方插入变量，只需将变量包装到 (XXX)

```
 <div data-original-title="user" data-toggle="tooltip" data-placement="top" class="@(identifier)completeicon"></div>
  <div data-original-title="user" data-toggle="tooltip" data-placement="top" class="comple@(identifier)teicon"></div>
  <div data-original-title="user" data-toggle="tooltip" data-placement="top" class="completeicon@(identifier)"></div> 
```

# ide - 无法在我的 IDE 中将 rhino 调试器设置为项目

> ID：15150421
> 
> 赞同：0
> 
> 时间：2013-03-01T04:20:05.290
> 
> 标签：ide, open-source, project, rhino

我正在尝试使用我的 servlet 调整 Rhino 调试器的工作，所以我下载了源代码，由于某种原因，我在我的 IDE (intellij) 中正确设置项目时遇到了一些困难。

我尝试添加 SRC 和 Jar 文件，但似乎有一个*.internal。*碍事的包裹。

例如：继承链中某处的全局从 sun.org.mozilla.javascript.internal.ScriptableObject 扩展

但是曾经使用 Global 的人期待 org.mozilla.javascript.ScriptableObject。

当我使用 ant 构建代码时，它工作正常，所以我猜这是我缺少的东西..

有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T06:38:43.953

问题是 IntelliJ 在加载项目时正在修改导入。

并且导入在 org.mozilla.javascript... 和 sun.org.mozilla.javascript.internal.ScriptableObject 之间混淆了

使用整个下载的 zip 创建一个新项目解决了问题并提供了正确的源代码

# actionscript-3 - 在 AS3 中子类化和使用布尔值

> ID：15150425
> 
> 赞同：0
> 
> 时间：2013-03-01T04:20:35.307
> 
> 标签：actionscript-3, flash

两个问题；这次没有代码，但它们应该很简单。

1）AS3要我继承一个扩展Stage的类；我不知道如何做到这一点，因为它在包的行上给出了错误......代码基本上是：

```
package
{
    import flash.whatever.Stage
    public class thisclass extends Stage
    {
        public function thisclass()
        {
        }
    }
} 
```

不确定我是否所有大写都正确，我在学校有代码。我需要在函数中添加一些东西吗？如果是这样呢？

2) AS3 还希望我对变量使用属性。var I：布尔值；if (I == true) 错误在 if 行...我应该将其声明为 I.something 吗？改成小写？（会测试但我在学校时没有想到）

更新：我尝试使用 .value 并声明并将布尔值用作 .something，没有任何效果，也没有尝试使用小写字母......也无法让我的空白舞台类工作......另一个问题：什么是为开关盒导入 flash.whatever.whatever？

新的东西：

```
package
{
    import flash.events.* 
    import flash.ui.*
    import flash.display.MovieClip

    public class tank extends MovieClip 
    {
        var ii:Boolean; var kk:Boolean; var ww:Boolean; var ss:Boolean;
        public function tank()
        {
            this.addEventListener(Event.ENTER_FRAME, update);
            stage.addEventListener(KeyboardEvent.KEY_UP, keyup);
            stage.addEventListener(KeyboardEvent.KEY_DOWN, keydown);
            this.x = 500; this.y = 500;
        }

        public function update(event:Event):void
        {
            var rotang = 0;
            var speed;
            if(ii==true)
            {
                rotang = rotang + 1;
            }
            if(kk==true)
            {
                rotang = rotang - 1;
            }
            if(ww==true)
            {
                rotang = rotang - 1; 
            }
            if(speed > 0)
            {
                speed = speed - 1;
            }
            if(speed < 0)
            {
                speed = speed + 1;
            }
            if(ss==true)
            {
                rotang = rotang + 1;
            }
            if(ii==true && ww==true)
            {
                speed = speed + 3;
            }
            if(kk==true && ss==true)
            {
                speed = speed - 3;
            }
            if(speed > 30)
            {
                speed = 30;
            }
            if(speed < -30)
            {
                speed = -30;
            }
            var vy =  Math.sin(this.degreesToRadians(rotang))*speed;
            var vx = Math.cos(this.degreesToRadians(rotang))*speed;
            this.y = this.y + vy;
            this.x = this.x + vx;
            this.rotation = rotang * Math.PI / 180;
        }
        public function degreesToRadians(param1:Number) : Number
        {
            return param1 * Math.PI / 180;
        }
        public function keyup(event:KeyboardEvent):void
        {
            switch(event.keyCode) 
            {
                case 87 :
                        ww = false;
                        break;
                case 83 :
                        ss = false;
                        break;
                case 73 :
                        ii = false;
                        break;
                case 75 :
                        kk = false;
                        break;
            }
        }

        public function keydown(event:KeyboardEvent):void
        {
            switch(event.keyCode) 
            {
                case 87 :
                        ww = true;
                        break;
                case 83 :
                        ss = true;
                        break;
                case 73 :
                        ii = true;
                        break;
                case 75 :
                        kk = true;
                        break;
            }
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T04:59:04.527

试试这个 ：

```
package 
{
  import flash.display.MovieClip;

public class myClass extends MovieClip
{
    private var bln:Boolean = false;

    public function myClass()
    {
        if (bln == false)
        {
            trace("Value of boolean is false");
        }
     }
  } 
} 
```

这是有效的。

# java - 检查字符串以获取允许的值以外的值。爪哇

> ID：15150426
> 
> 赞同：0
> 
> 时间：2013-03-01T04:20:37.077
> 
> 标签：java, string, match, matching, conditional

我写了一个程序，要求用户输入一个由 3 个字符组成的字符串，可以是 [a, b, v, ^] 的组合；

这是我到目前为止所拥有的：

```
do {
    System.out.print("Enter a two variable logical expression, no spaces: ");    // 'v' for or, '^' for and.
    expression = type.nextLine();
}
while ((expression.length() != 3) || !((expression.toUpperCase()).matches("[AB^V]"))); 
```

只有当字符串不是 3 个字符长或字符串中的字符不被允许时，循环才会继续。

我输入了一个测试字符串：a^b，但循环仍在继续。

我该如何解决？

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-01T04:26:19.853

正确的正则表达式是`[AB^V]+`. 实际上，原始表达式只会匹配长度为 1 的字符串。

```
((expression.toUpperCase()).matches("[AB^V]+")) 
```

`^`不需要转义，因为它在`[`and之间`]`（即在字符类中）。

**编辑**`^`：如果它位于字符类的开头（如 in ），实际上应该被转义`[\\^ABV]+`，但当它前面有其他字符时则不会。

# android - Android：TimePicker setIs24HourView 不起作用

> ID：15150430
> 
> 赞同：6
> 
> 时间：2013-03-01T04:21:07.977
> 
> 标签：android, timepicker

我正在尝试以 24 小时格式使用 TimePicker，并且我正在使用 setIs24HourView=true，但我仍然没有在 TimePicker 上获得 24 小时格式。这是我在 Activity 的 onCreate 中的代码。

```
 timePicker = (TimePicker) findViewById(R.id.timePicker1);
    timePicker.setIs24HourView(true); 
```

我什至在 setIs24HourView 之后尝试了 timePicker.setCurrentHour(cal.HOUR_OF_DAY)，但我无法在 TimePicker 上看到 24 小时格式。

```
<TimePicker
    android:id="@+id/timePicker1"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_marginTop="110dp" /> 
```

我在这里错过了什么吗？

![在此处输入图像描述](../Images/1ce79df9519287c12c64ed16b8431464.png)

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-03-01T05:37:44.127

好的，我知道现在是什么问题了。它没有正确地将 currentHour 设置为新的 24 小时格式，这就是为什么你得到 9:05 而不是 21:05。我猜你现在不是早上 9 点！这是一个错误，正如这个[问题](https://stackoverflow.com/questions/13662288/timepicker-hour-doesnt-update-after-switching-to-24h)中提到的，目前 看来唯一的解决方法是执行以下操作：

```
timePicker = (TimePicker) findViewById(R.id.timePicker1);
timePicker.setIs24HourView(true);
timePicker.setCurrentHour(Calendar.get(Calendar.HOUR_OF_DAY)); 
```

我看到你尝试了 cal.HOUR_OF_DAY，但没有提供你实际使用的代码，但试试这个，看看它是否有帮助。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-03-01T05:38:01.167

我注意到果冻豆中的这个问题您可以设置时间以 24 小时视图显示

```
 TimePicker picker = (TimePicker) findViewById(R.id.timePicker1);
    picker.setIs24HourView(true);
    Calendar calendar = Calendar.getInstance();

    int h = calendar.get(Calendar.HOUR_OF_DAY);
    int m = calendar.get(Calendar.MINUTE);

    picker.setCurrentHour(h);
    picker.setCurrentMinute(m); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-01T04:59:10.877

您可以只使用设备设置，从而让用户做出决定；

```
 String clockType = android.provider.Settings.System.getString(context.getContentResolver(), android.provider.Settings.System.TIME_12_24); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-01T06:31:51.953

设置`timePicker.setCurrentHour(Calendar.get(Calendar.HOUR_OF_DAY))`解决了问题

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2017-11-06T08:12:45.450

```
timePicker = (TimePicker) findViewById(R.id.timePicker1);

timePicker.setIs24HourView(true); 
```

我们需要添加这个：

```
Calendar calendar = Calendar.getInstance();

timePicker.setCurrentHour(calendar.get(calendar.HOUR_OF_DAY)); 
```

# image - 在wordpress中设置特征图像而不上传

> ID：15150431
> 
> 赞同：1
> 
> 时间：2013-03-01T04:21:13.040
> 
> 标签：image, wordpress, amazon-s3

我将图像存储在 s3 上，并在 img 标签中从 s3 调用。我可以通过将其插入到 wp 上传文件夹中来设置特征图像，就像在这个线程中一样

[https://wordpress.stackexchange.com/questions/40301/how-do-i-set-a-featured-image-thumbnail-by-image-url-when-using-wp-insert-post](https://wordpress.stackexchange.com/questions/40301/how-do-i-set-a-featured-image-thumbnail-by-image-url-when-using-wp-insert-post)

现在的问题是，如何设置特征图像而不将其上传到 wp 文件夹。它应该从 s3 调用图像并将其设置为特征。

提前非常感谢。

# file-io - 模拟器的SD卡和真机的SD卡的区别

> ID：15150432
> 
> 赞同：0
> 
> 时间：2013-03-01T04:21:20.947
> 
> 标签：file-io, android-emulator, android-sdcard

我的目标是读取 SD 卡中的文件，然后在我的程序中处理它。

在安卓模拟器中一切正常！！！！

不幸的是，当我在智能手机上工作时，它根本不起作用！

```
 public void receiveVideoRawData() throws IOException{
      byte[] buf_rcv = new byte[153600];
      File file = new File("/mnt/sdcard/Bluetooth/ardrone.raw");
      ByteArrayOutputStream ous = new ByteArrayOutputStream();
      InputStream ios = new FileInputStream(file);
      int read = 0;
      while ( (read = ios.read(buf_rcv)) != -1 ) {
                ous.write(buf_rcv, 0, read);
             }
                ous.close();
                ios.close();

    ReadRawFileImage readMyRawData=new ReadRawFileImage();
    image = readMyRawData.readUINT_RGBImage(buf_rcv);
        File outputfile = new File("/mnt/sdcard/Bluetooth/ardroneCVT1.jpg");
        OutputStream _outStream  = new FileOutputStream(outputfile);
        Bitmap pBitmap = image ;
        pBitmap.compress(Bitmap.CompressFormat.JPEG, 90, _outStream);       
          _outStream.flush();
          _outStream.close();       

} 
```

}

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T04:29:25.203

您不应该直接硬编码外部存储的路径，因为这可能因设备而异，而是使用 getExternalStorageDirectory()：

```
File file = new File(Environment.getExternalStorageDirectory()
                      .getAbsolutePath(), filename); 
```

# codeigniter - 如何在codeigniter中查看查询结果

> ID：15150436
> 
> 赞同：2
> 
> 时间：2013-03-01T04:22:08.343
> 
> 标签：codeigniter

我已经使用两个查询来获取视图上的结果。要获得 resultq1 的结果，我使用 foreach 但如何才能在视图中获得 resultq2 的结果。

对于 resultq1 的每一行，我在 resultq2 中得到记录“reccount”。

//控制器

```
 //Query 1
     $q = $this->db->select(array(
                'spf.id as id' ,
                'spf.name',
                "if(u.username != '',u.username,spf.added_by) as added_by ",
                'spf.added_on'
              ))->from('sp_forum spf')->join('sp_users u', 'spf.added_by = u.id', 'left')->where($where)->order_by('spf.id desc')->limit(10, $page * 10)->get();

            $resultq1= $q->result_array();
            $data['resultq1'] = $resultq1;

            $resultq2 = array();
             $i=0;
            foreach($resultq1 as $rec)
             {
                      //query 2
                 $id = $rec['id'];
                 $q1 = $this->db->select("count('id') as reccount ")->from('sp_forum_topic spft')->where('spft.forumid',$id)->get();
                 $resultq2[$i] =  $q1->row_object();
                 $i++; 
               }

$this->load->view('forumview', $data, true); 
```

//查看文件

```
<table width="100%">
      <tr>
        <td class="th"> Details</td>
        <td width="5%" class="th"> Answer</td>
        <td width="15%" class="th">Started by</td>
        <td  width="15%" class="th">Created on</td>
      </tr>
      <?php foreach($resultq1 as $row):?>
       <tr>
        <td><?php echo $row['name'] ;?></td>

         <td >---- </td> // here i want to use resultq2

         <td><?php echo $row['added_by'] ;?></td>
        <td ><?php echo $row['added_on'];?></td>
      </tr>
      <?php endforeach;?>
    </table> 
```

resultq2 的数组打印视图。Resultq1 有 4 行，所以我在 resultq2 中得到 4 个值。

```
Array ( [0] => stdClass Object ( [reccount] => 0 ) [1] => stdClass Object ( [reccount] => 0 ) [2] => stdClass Object ( [reccount] => 0 ) [3] => stdClass Object ( [reccount] => 2 ) ) 0002 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-01T05:00:34.457

您还需要传递`$resultq2`给视图。

在控制器中，就在调用视图之前

```
$data['resultq2'] = $resultq2 
```

您现在可以`$resultq2`在您的视图中使用。

PS - SQL 查询应该在模型中，而不是控制器中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T05:18:47.460

我稍微优化了您的第二个查询，但逻辑几乎相同。

```
$q = $this->db->select(array(
    'spf.id as id' ,
    'spf.name',
    "if(u.username != '',u.username,spf.added_by) as added_by ",
    'spf.added_on'
    ))->from('sp_forum spf')->join('sp_users u', 'spf.added_by = u.id', 'left')->where($where)->order_by('spf.id desc')->limit(10, $page * 10)->get();

    $resultq1= $q->result_array();
    $data['resultq1'] = $resultq1;
    $ids = array();
    foreach($resultq1 as $result)
        $ids[] = $result['id'];

     $resultq2 = $this->db->select("count('id') as reccount ")->from('sp_forum_topic spft')->where_in('spft.forumid',$ids)->get();

    foreach( $resultq2->result_array() as $res )
        $newArr[$res['forumid']] = $res;

    $data['resultq2'] = $newArr; 
```

在 resultq2 被原始 id 索引后，它易于使用 resultq1 循环中的 id 来显示正确的数据

```
<table width="100%">
      <tr>
        <td class="th"> Details</td>
        <td width="5%" class="th"> Answer</td>
        <td width="15%" class="th">Started by</td>
        <td  width="15%" class="th">Created on</td>
      </tr>
      <?php foreach($resultq1 as $row):?>
       <tr>
        <td><?php echo $row['name'] ;?></td>

         <td >
            <?php

                print_r( $resultq2[$row['id']]);

            ?>
        </td> // here i want to use resultq2

         <td><?php echo $row['added_by'] ;?></td>
        <td ><?php echo $row['added_on'];?></td>
      </tr>
      <?php endforeach;?>
    </table> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-01T05:09:19.240

只需在加载视图之前写入'$data['resultq2'] = $resultq2'，

```
$data['resultq2'] = $resultq2
$this->load->view('forumview', $data, true); 
```

您可以通过 $result2 变量在视图中检索它。

只需`var_dump($result2);`在您的视图文件中执行，您将获得 $result2 变量的完整数据。

xbonez 是对的，请在模型中编写数据库查询，控制器仅用于登录，并在（模型、视图、库、帮助程序等）之间进行协调

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-01T05:26:39.903

## 这应该解决它。

### 修改控制器 - 另见评论

```
<?php
//Query 1

  $q = $this->db->select(array(
  'spf.id as id',
  'spf.name',
  "if(u.username != '',u.username,spf.added_by) as added_by ",
  'spf.added_on'
  ))->from('sp_forum spf')->join('sp_users u', 'spf.added_by = u.id', 'left')->where($where)->order_by('spf.id desc')->limit(10, $page * 10)->get();

  $resultq1 = $q->result_array();
  $data['resultq1'] = $resultq1;   

$resultq2 = array();
foreach ($resultq1 as $rec) {
    //query 2
    //echo $id = $rec['id']; //Test and See if all IDs echo out correctly
    $data["id"] = $id; //Add this for the ID
    $q1 = $this->db->select("count('id') as reccount, spft.forumid")->from('sp_forum_topic spft')->where('spft.forumid', $id)->get();
    $resultq2[$id] = $q1->result(); //Change this line
    $data["resultq2"][$id] = $resultq2[$id]; //Add this line
}

//echo "<pre>";
//$export = var_export($data, true);// Test the returned value...
//echo "</pre>";
$this->load->view('forumview', $data, true);
?> 
```

### 在你看来

```
<table width="100%">
    <tr>
        <td class="th"> Details</td>
        <td width="5%" class="th"> Answer</td>
        <td width="15%" class="th">Started by</td>
        <td  width="15%" class="th">Created on</td>
    </tr>
    <?php //foreach ($resultq1 as $row):  ?>
    <?php foreach ($data as $row): ?>
        <tr>
            <td><?php echo $row['name']; ?></td>
            <td>
                <?php
                //$resultq2 is now array
                //print_r($resultq2); //Do this so you can see the depth of the array

                foreach ($resultq2 as $counts) {
                    foreach ($counts as $count) { //The second foreach might be necessary - please test
                        echo $count->reccount; //This should print out the count result
                        //echo "<br />";
                    }
                }
                ?>
            </td>
            <td><?php echo $row['added_by']; ?></td>
            <td ><?php echo $row['added_on']; ?></td>
            <td >

            </td>
        </tr>
        <?php
    endforeach;
    exit;
    ?>
</table> 
```

我没有时间测试它，但它应该可以工作。如果您发现任何问题，请告诉我：

# java - Java Read 如何读取第一个单词，然后读取输入的其余部分

> ID：15150438
> 
> 赞同：3
> 
> 时间：2013-03-01T04:22:14.337
> 
> 标签：java, token, java.util.scanner, tokenize

我无法弄清楚如何读取输入行的其余部分。我需要标记第一个单词，然后可能将输入行的其余部分创建为一个完整的标记

```
public Command getCommand() 
{
    String inputLine;   // will hold the full input line
    String word1 = null;
    String word2 = null;

    System.out.print("> ");     // print prompt

    inputLine = reader.nextLine();

    // Find up to two words on the line.
    Scanner tokenizer = new Scanner(inputLine);
    if(tokenizer.hasNext()) {
        word1 = tokenizer.next();      // get first word
        if(tokenizer.hasNext()) {
            word2 = tokenizer.next();     // get second word
            // note: just ignores the rest of the input line.
        }
    }

    // Now check whether this word is known. If so, create a command
    // with it. If not, create a "null" command (for unknown command).
    if(commands.isCommand(word1)) {
        return new Command(word1, word2);
    }
    else {
        return new Command(null, word2); 
    }
} 
```

输入：

```
take spinning wheel 
```

输出：

```
spinning 
```

期望的输出：

```
spinning wheel 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-01T04:28:58.583

利用`split()`
`String[] line = scan.nextLine().split(" ");
String firstWord = line[0];
String secondWord = line[1];`

这意味着您需要在空间分割线并将其转换为数组。现在使用 yhe 索引你可以得到任何你想要的词

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T04:44:35.113

你也可以这样试试...

```
String s = "This is Testing Result";
System.out.println(s.split(" ")[0]);
System.out.println(s.substring(s.split(" ")[0].length()+1, s.length()-1)); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-01T04:35:04.293

或者 -

```
String inputLine =//Your Read line
String desiredOutput=inputLine.substring(inputLine.indexOf(" ")+1) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2019-02-12T12:27:56.213

利用`split(String regex, int limit)`

```
String[] line = scan.nextLine().split(" ", 2);

String firstWord = line[0];

String rest= line[1]; 
```

请参阅此处的[文档](https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#split(java.lang.String,%20int))

# perl - 在 Perl 中检查 LF 是否位于大标量末尾的最快方法？

> ID：15150445
> 
> 赞同：0
> 
> 时间：2013-03-01T04:23:28.150
> 
> 标签：perl

我想出了以下方法来检查换行符的 $scaler 的最后一个字符：

```
if( $buffer !~ /\n$/ ) {
if( substr( $buffer, -1, 1 ) !~ /\n/ ) {
if( substr( $buffer, -1, 1 ) ne '\n' ) { 
```

我有更快的方法吗？$buffer 标量的大小可能会变大，我注意到它越大，这些条件运行的时间就越长。如果有帮助的话，我确实有另一个包含 $buffer 长度的标量。

谢谢

完整代码：

```
#!/usr/bin/perl
use strict;
use warnings;
use Fcntl qw();
use Time::HiRes qw( gettimeofday tv_interval );

use constant BUFSIZE => 2 ** 21; # 2MB worked best for me, YMMV.

die "ERROR: Missing filename" if( !$ARGV[0] );

my $top = [gettimeofday];
sysopen( my $fh, $ARGV[0], Fcntl::O_RDONLY | Fcntl::O_BINARY ) or
  die "ERROR: Unable to open $ARGV[0], because $!\n";
open my $output, ">", "/dev/null";  # for 'dummy' processing

my $size = -s $ARGV[0];
my $osiz = $size;
my( $buffer, $offset, $lnCtr ) = ( "", "", 0 );
while( $size ) {
    my $read = sysread( $fh, $buffer, BUFSIZE, length($offset) );
    $size -= $read;
    my @lines = split /\n/, $buffer;
    if( substr( $buffer, -1, 1 ) ne "\n" ) {
        $offset = pop( @lines );
    } else {
        $offset = "";
    }
    for my $line ( @lines ) {
        processLine( \$line );
        $lnCtr++;
    }
    $buffer = $offset if( $offset );
}
close $fh;
print "Processed $lnCtr lines ($osiz bytes) in file: $ARGV[0] in ".
      tv_interval( $top ).
      " secs.\n";
print "Using a buffered read of ".BUFSIZE." bytes.  -  JLB\n";

sub processLine {
    if( ref($_[0]) ) {
        print $output ${$_[0]}."\n";
    } else {
        print $output $_[0]."\n";
    }
    return 0;
} 
```

我想我已经达到了“收益递减点”，因为我试图让这个运行更快。它现在似乎能够像我的 RAID5 SSD 一样快地读取数据。如您所见，我没有使用 chomp() 是有原因的，输入可以包含数十万个换行符，我需要保留这些换行符以便能够换行进行处理。

./fastread.pl newdata.log 在文件中处理了 516670 行（106642635 字节）：newdata.log 在 0.674738 秒内。使用 2097152 字节的缓冲读取。- 捷豹路虎

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-01T07:30:33.910

Perl 有两种字符串存储格式。

其中一种格式使用相同数量的字节 (1) 来存储字符串可以包含的每个可能的字符。正因为如此，并且因为 Perl 会跟踪字符串使用了多少字节，所以`substr($x, -1)`这种格式的字符串的性能不取决于字符串的长度。

上述格式的问题在于它只能存储非常有限的字符范围。它可用于存储 Unicode 代码点“Eric”和“Éric”，但不能用于存储“Ελλάδα”。必要时（甚至在不必要时），Perl 会自动将字符串的存储格式转换为另一种格式。

第二种格式可以将任何 Unicode 代码点存储为字符。事实上，它可以存储任何 32 位或 64 位值（取决于`perl`的构建设置）。缺点是使用可变数量的字节来存储每个字符。因此，即使 Perl 知道整个字符串使用的字节数，它也不知道除了第一个字符之外的任何字符从哪里开始。* 要找到最后一个字符，它必须扫描整个字符串。

也就是说，由于存储格式的特性，实际上很容易在常数时间内找到字符串的最后一个字符。

```
use Inline C => <<'__END_OF_C__';

   # O(1) version of substr($x,-1)
   SV* last_char(SV* sv) {
      STRLEN len;
      const char* s = SvPV(sv, len);

      if (!len)
         return newSVpvn("", 0);

      {
         const U32 utf8 = SvUTF8(sv);
         const char* p = s+len-1;         
         if (utf8) {
            while (p != s && (*p & 0xC0) != 0xC0)
               --p;
         }

         return newSVpvn_utf8(p, s+len-p, utf8);
      }
   }

__END_OF_C__ 
```

* — 它确实保留了一对字符位置到字节位置映射的缓存。

* * *

您已经展示了可以清理的代码，因此您甚至不需要检查最后一个字符是否有换行符。

```
sub processLine {
   print $_[0] $_[1];
}

open(my $fh, '<:raw', $ARGV[0])
   or die("Can't open $ARGV[0]: $!\n");

my $buffer = '';
my $lnCtr = 0;
while (1) {
   my $rv = sysread($fh, $buffer, BUFSIZE, length($buffer));
   die $! if !defined($rv);
   last if !$rv;

   while ($buffer =~ s/(.*\n)//) {
      processLine($1);
      ++$lnCtr;
   }
}

if (length($buffer)) {
   processLine($output, $buffer);
   ++$lnCtr;
} 
```

笔记：

*   不需要`sysopen`。`open`更简单。
*   如果传递`$buffer`给`sysread`，则使用`length($offset)`.
*   如您所见，`$offset`完全没有必要对其进行复制。
*   将 var 传递给 sub 不会复制它，因此无需传递引用。
*   如果`processLine`不需要换行符，请`s/(.*)\n//`改用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-01T06:10:46.417

你为什么关心速度？这段代码是否在您的程序的一部分中非常慢，可能使用 Devel::NYTProf 进行了分析？如果不是，那么我建议您使用最清晰易读和最惯用的内容，这可能是

```
if( $buffer !~ /\n$/ ) 
```

你的最终版本：

```
if( substr( $buffer, -1, 1 ) ne '\n' ) 
```

除了单引号换行之外，这也是一个不错的选择，从而为您提供由反斜杠和小写 n 组成的两个字符的字符串。也许您来自 C 语言，其中单个字符是单引号而字符串是双引号？你要

```
if( substr( $buffer, -1, 1 ) ne "\n" ) 
```

这个版本

```
if( substr( $buffer, -1, 1 ) !~ /\n/ ) 
```

正在做一个不应该的正则表达式匹配，因为它正在检查一个单字符的字符串与一个单字符的正则表达式。下一个阅读代码的人会觉得这很奇怪，并想知道你为什么要这样做。另外，回到速度方面，将字符串与正则表达式进行匹配比仅与单个字符进行相等性比较要慢。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-01T08:15:24.807

这是一个基准：

```
#!/usr/bin/perl 
use strict;
use warnings;
use Benchmark qw(:all);

my $buffer = 'abc'x10_000_000;
$buffer .= "\n";
my $count = -2;
cmpthese($count, {
    'regex' => sub {
        if ($buffer !~ /\n$/) { }
    },
    'substr + regex' => sub {
        if (substr($buffer, -1, 1) !~ /\n$/) { }
    },
    'substr + ne' => sub {
        if (substr($buffer, -1, 1) ne "\n") { }
    },
    'chomp' => sub {
        if (chomp $buffer) { }
    },
}); 
```

**输出：**

```
 Rate substr + regex  substr + ne         regex        chomp
substr + regex  6302468/s             --         -11%          -44%         -70%
substr + ne     7072032/s            12%           --          -37%         -66%
regex          11294695/s            79%          60%            --         -46%
chomp          20910531/s           232%         196%           85%           -- 
```

`chomp`当然是最快的方法。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-01T04:36:31.547

我怀疑 perl 将字符串视为 utf-8 并且出于某种原因必须遍历整个内容。

您可以暂时切换到字节语义以查看末尾的 char 是否为换行符。

请参阅文档以获取 Perl 的[bytes pragma](http://perldoc.perl.org/bytes.html)和[perlunicode](http://perldoc.perl.org/perlunicode.html#Byte-and-Character-Semantics)。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-01T04:40:17.053

你可以试试[chomp](http://perldoc.perl.org/functions/chomp.html)。Chomp 将返回从行尾删除的 EOL 字符数：

```
if ( chomp $buffer ) {
    print "You had an LF on the end of \$buffer";
} 
```

当然，chomp 会删除它计数的 NL 字符。

# ios - 弱属性的合成只允许在 arc 或 gc 模式下使用

> ID：15150447
> 
> 赞同：13
> 
> 时间：2013-03-01T04:23:29.317
> 
> 标签：ios, objective-c

嘿，我今天才开始 ios 编程，我正面临这个错误。

请帮我消除这个错误

请建议我一些不错的 ios 开发者教程

```
#import "ViewController.h"

@interface ViewController ()

@end

@implementation ViewController

- (void)viewDidLoad
{
    [super viewDidLoad];
    // Do any additional setup after loading the view, typically from a nib.
}

- (void)didReceiveMemoryWarning
{
    [super didReceiveMemoryWarning];
    // Dispose of any resources that can be recreated.
}

@end

#import <UIKit/UIKit.h>

@interface ViewController : UIViewController
@property (weak, nonatomic) IBOutlet UITextField *txtUsername;
@property (weak, nonatomic) IBOutlet UITextField *txtPassword;
- (IBAction)loginClicked:(id)sender;
- (IBAction)backgroundClick:(id)sender;

@end 
```

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2013-03-01T04:33:36.397

如果您不使用 ARC，则无法使用`weak`. 对于`IBOutlet`非 ARC 代码中的引用，请将您的引用替换为`weak`, `retain`。（这有点令人困惑，但通常您使用`assign`而不是`weak`在非 ARC 代码中，但对于`IBOutlet`引用，您使用`retain`.）

更好的是，正如 nneonneo 建议的那样，您应该使用 ARC。

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2013-03-01T04:28:19.573

如果您刚刚开始，则应该[启用 ARC](https://stackoverflow.com/questions/7476692/how-do-you-enable-arc-project-wide-in-xcode-4-2)。它将为您省去很多麻烦，并且可以解决该问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-01T04:46:37.457

您可以阅读此网页[http://designthencode.com/scratch/](http://designthencode.com/scratch/)开始学习 iOS 编程。

它很好地介绍了为 iPhone 编写应用程序所涉及的许多元素。

有关属性声明的问题，请参阅下面的这个 stackoverflow 答案。

[Objective-C 中的属性和实例变量](https://stackoverflow.com/q/1551966/463478)

# android - 安卓动态壁纸

> ID：15150450
> 
> 赞同：0
> 
> 时间：2013-03-01T04:23:45.480
> 
> 标签：android, live-wallpaper

有人可以指导我如何在 Android 中创建动态壁纸。我已经提到了很多例子，但它们太复杂而无法理解。任何人都可以举一个简单的例子，比如移动单杠或类似的东西吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T04:51:19.370

您可以查看`CubeLiveWallpaper`Android SDK 官方示例。

您需要使用 Android SDK 管理器安装示例。

然后，在 Eclipse 中： `File`> `New`>  `Other`> `Android Sample Project`> `{Target with Samples}`> `CubeLiveWallpaper`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T05:43:47.703

嗨，这是有史以来最好的教程 [http://mobile.tutsplus.com/tutorials/android/creating-live-wallpapers-on-android/](http://mobile.tutsplus.com/tutorials/android/creating-live-wallpapers-on-android/)

# c++ - 无法理解 C 和 C++ 中缓冲区大小的不同实验结果。ifstream 也比 FILE 慢？

> ID：15150451
> 
> 赞同：1
> 
> 时间：2013-03-01T04:23:50.143
> 
> 标签：c++, c, memory, buffer, ifstream

这一切都始于这个问题->[如何从文件中读取数据块，然后从该块读取到向量中？](https://stackoverflow.com/questions/15128383/how-to-read-blocks-of-data-from-a-file-and-then-read-from-that-block-into-a-vect)

为了最小化磁盘 I/O 操作，我进行了一些实验，看看缓冲区的大小是否对程序花费的时间有任何影响。

我使用了以下两个代码，一个是面向 c 的，另一个是 c++（尽管都是用 gcc 编译的）：-

面向c的代码：-

```
int buffer_size=1024;
FILE *file;
file = fopen(argv[1], "r");
FILE *out_file;
out_file = fopen("in", "w");
char out_buffer[2048];
setvbuf(out_file, out_buffer, _IOFBF, buffer_size);
char buffer[2048];
setvbuf(file, buffer, _IOFBF, buffer_size);
while (!feof(file)) 
{
 char sl[1000];
 fgets(sl, 140 , file);
 fputs(sl, out_file);

} 
```

c 代码给出了以下结果（对于 14 mb 文件）：-

```
Buffer_size      Time
10               18 sec
100              2 sec
1024             0.4 sec              
10240            0.3 sec 
```

（对于 103 mb 文件）

```
1024             ~8 sec
5120             ~3 sec
10240            ~3 sec
15360            ~3 sec 
```

它似乎在缓冲区大小约为 5 mb 时达到饱和点。这有什么特别的原因吗？

面向 c++ 的代码：-

```
int buffer_size=1024;
ifstream in_file(argv[1]);
char in_buffer[buffer_size];
in_file.rdbuf()->pubsetbuf(in_buffer,sizeof(in_buffer));
ofstream out_file("in");
char out_buffer[buffer_size];
out_file.rdbuf()->pubsetbuf(out_buffer,sizeof(in_buffer));
while(!in_file.eof())
{
    char sl[1024];
    in_file >> sl;
    out_file << sl<<endl;
} 
```

我的测试输入文件是一个 14mb 的文件，有 1000000 行。

```
Buffer_size      Time (~)
10               6.5 sec
100              6.5 sec
1024             6.5 sec 
```

C++ 似乎根本不关心缓冲区大小。为什么？

此外，C++ 代码慢了大约 15 倍（当 C 中的缓冲区大小为 1 mb 时）！ifstream 通常比 FILE 慢（SO上的其他答案似乎表明没有区别）？或者代码中是否还有其他原因导致缓慢？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-01T04:37:57.523

从根本上说，写作所花费的时间是通过以下公式估算的：

```
T = C1*nsyscalls + C2*nbytes 
```

实际上，`C1`是一个非常大的常数（每个系统调用的成本）并且`C2`是一个非常小的常数（每个字节的成本）。缓冲区的大小会影响比率的大小`nsyscalls/nbytes`；更大的缓冲区使其更小。缓冲的目标是`nsyscalls`相对于第二项支配第一项而言足够小`nbytes`，并且您只剩下`T = (C2+epsilon)*nbytes`. 一旦缓冲区足够大以至于第二项占主导地位，进一步增加缓冲区大小不会给您带来任何显着的性能提升。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-01T04:33:02.670

众所周知，iostreams 中的格式化输入 >> 非常慢。但问题是您不要将苹果与苹果进行比较，因为 istream >> std::string 或 char * 正在读取由空格分隔的单词，而不是 fgets 所做的。因此，对 std::string 使用 std::getline 或对 char * 使用 istream::getline() 以具有类似的功能，并且您的比较会更有意义。

PS 在这个[例子](http://en.cppreference.com/w/cpp/io/basic_streambuf/pubsetbuf)中 pubsetbuf() 在文件打开之前被调用。这可能是您在打开文件后调用 pubsetbuf() 时没有观察到代码中读取速度的任何变化的原因。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-01T07:25:15.547

您的 C++ 代码的问题是无法在 streambuf 中设置缓冲区大小。调用`pubsetbuf(0, 0)`将使输出文件流无缓冲，但使用任何其他值不会做任何特别的事情。从规范：

> basic_streambuf* setbuf(char_type* s, 流大小 n);
> 
> 效果：如果在该流上发生任何 I/O 之前对该流调用 setbuf(0,0)，则该流将变为无缓冲。否则结果是实现定义的。“无缓冲”意味着 pbase() 和 pptr() 总是返回 null 并且文件的输出应该尽快出现。

看起来在您的情况下，实现忽略了 setbuf ...

# ruby-on-rails-3 - Capistrano“没有这样的文件或目录 - git ls-remote git@github.com”

> ID：15150456
> 
> 赞同：1
> 
> 时间：2013-03-01T04:24:38.647
> 
> 标签：ruby-on-rails-3, git, ruby-on-rails-3.1, capistrano, bundler

我构建了一个 Rails 应用程序，目前正在将其从我的 Windows 系统部署到 vexxhost（一家托管公司）。我在 github 上有一个存储库，并且我遵循了部署我的 rails 应用程序的所有程序。一切都很顺利，直到我输入“cap deploy：cold”，然后显示以下错误。

![在此处输入图像描述](../Images/f94032c0d7b736bdc19785983dd2c5a1.png)

我的 deploy.rb 文件

```
 require 'bundler/capistrano'
 require 'capistrano'
 require 'capistrano-vexxhost'

  # Account Settings

  ssh_options[:forward_agent] = true

  set :user, "innocent"
  set :password, "2Q0bNx85it"
  set :domain, "legoads.com"
  set :mount_path,"/home/innocent/public_html"
  set :application,"legoads"
  set :scm, :git
  set :repository, "git@github.com:innoc/Legoads.git"
  default_run_options[:pty] = true 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T15:37:01.880

从错误看来，远程服务器中没有安装 git。安装 git 并再试一次，或者更好的是，制作一个 capistrano 配方来设置您的服务器，这将在其他任务中安装 git。

# python - 如何在列表理解中转换这个 for 循环？

> ID：15150458
> 
> 赞同：8
> 
> 时间：2013-03-01T04:24:39.380
> 
> 标签：python, list

我有一个这样的for循环：

```
for i in conversion:
    for f in glob.glob(i):
        print(os.path.getsize(f)) 
```

我想将其转换为列表理解：

试过这个：

```
[os.path.getsize(f) for f in glob.glob(i) for i in conversion] 
```

但没有用。

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2013-03-01T04:26:13.490

`for`双列表推导式中的循环顺序与嵌套循环使用的顺序*相同：*

```
[os.path.getsize(f) for i in conversion for f in glob.glob(i)] 
```

这有点令人困惑，因为您希望内部循环更“内部”，但是一旦您意识到它与嵌套循环的顺序相同，一切都很容易:)

# ruby-on-rails - 在 Rails 中添加自己的订单

> ID：15150462
> 
> 赞同：0
> 
> 时间：2013-03-01T04:25:25.237
> 
> 标签：ruby-on-rails, ruby, postgresql

在[Rails 教程](http://guides.rubyonrails.org/active_record_querying.html#ordering)中，它说我可以简单地使用`.order("something")`它并且它会工作。然而，当我写`Course.order("name DESC")`我得到查询：

`SELECT "courses".* FROM "courses" ORDER BY name ASC, name DESC`

当我真的想要时（注意它只是由 订购的`name DESC`）：

`SELECT "courses".* FROM "courses" ORDER BY name DESC`

我怎么能强行通过？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-01T04:31:38.590

如果您有一个由 a 限制的默认订单`default_scope`，您可以使用`reorder`

```
Order.reorder('name DESC') 
```

更新： Using`unscoped`也可以，但要小心，这会完全删除查询中定义的所有范围。比如下面的都会返回相同的sql

```
Order.where('id IS NOT NULL').unscoped.order('name DESC')
Order.unscoped.order('name DESC')
Order.scope1.scope2.unscoped.order('name DESC')
current_user.orders.unscoped.order('name DESC') 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-01T04:31:28.980

这是因为我`default_scope`在导致它的模型中使用。运行它可以避免范围：

`Course.unscoped.order("name DESC")`

编辑：为了将来参考，这是代码气味，`default_scope`应该小心使用，因为开发人员经常会忘记（编写代码几个月后）`default_scope`设置并咬你。

# spring-mvc - Weblogic 服务器上的部署问题

> ID：15150467
> 
> 赞同：0
> 
> 时间：2013-03-01T04:25:52.260
> 
> 标签：spring-mvc, deployment, weblogic, slf4j, weblogic12c

我有两个应用程序，都是用 Spring MVC 开发的。一，即 VDM 正在本地和实时 weblogic 12c 服务器中进行部署和启动。但另一个，即 VPORTAL 正在部署，但未在实时服务器中启动。启动服务时，出现以下错误：

```
java.lang.NoSuchMethodError: org/slf4j/spi/LocationAwareLogger.log(Lorg/slf4j/Marker;Ljava/lang/String;ILjava/lang/String;Ljava/lang/Throwable;)V 
```

有趣的是，它在本地服务器上运行良好。

我在两个应用程序中都制作了一些一致的罐子，但没有帮助。需要注意的一点是，在 VDM 的类目录中有一个名为**log4j.xml**的文件，但在 VPORTAL 中没有。进行更改后，我将其放入 VPORTAL 中，但也无济于事。请帮忙！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-01T05:05:16.473

这绝对是一个 jar 版本不匹配的问题。您没有提及您放置在 WEB-INF\lib 文件夹下的 slf4j-api jar 版本。我怀疑它与 WLS 12c 中的版本不同。WLS 12.1.1在其模块目录中附带**org.slf4j.api_1.6.1.0.jar 。**因此，您需要在**weblogic.xml**中添加以下部分，指示 weblogic 从WEB-INF/lib 中的**slf4j-api _x.xxjar加载类，而不是从****org.slf4j.api_1.6.1 加载类。**来自 WLS 安装的**0.jar 。**默认情况下，使用**org.slf4j.api_1.6.1.0.jar**，因为它位于服务器类路径中。

```
<container-descriptor>
    <prefer-web-inf-classes>false</prefer-web-inf-classes>
    <prefer-application-packages>
        <package-name>org.slf4j.*</package-name>
        <package-name>org.apache.commons.logging.*</package-name>
    </prefer-application-packages>
</container-descriptor> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-04-03T23:38:47.090

我们的应用程序也面临类似的问题。应用程序 - Spring MVC & 我们正在迁移到 Weblogic12c。我们尝试了不同的方式，比如修改 pom.xml & all。但最后 weblogic.xml 中的这种变化帮助了我们。

```
<?xml version="1.0" encoding="UTF-8"?>
<wls:weblogic-web-app xmlns:wls="http://xmlns.oracle.com/weblogic/weblogic-web-app" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd http://xmlns.oracle.com/weblogic/weblogic-web-app http://xmlns.oracle.com/weblogic/weblogic-web-app/1.2/weblogic-web-app.xsd">
<wls:context-root>/</wls:context-root>
<wls:session-descriptor>
    <wls:cookie-secure>false</wls:cookie-secure>
    <wls:url-rewriting-enabled>true</wls:url-rewriting-enabled>
</wls:session-descriptor>
<wls:container-descriptor>
        <wls:prefer-application-packages>
            <wls:package-name>org.slf4j</wls:package-name>
            <wls:package-name>org.apache.xerces</wls:package-name>
        </wls:prefer-application-packages>
    </wls:container-descriptor>
</wls:weblogic-web-app> 
```

* * *

Pom.xml 文件：-

```
 <dependencies>
    <dependency>
        <groupId>org.apache.ws.commons.schema</groupId>
        <artifactId>XmlSchema</artifactId>
        <version>1.4.2</version>
    </dependency>
    <dependency>
        <groupId>antlr</groupId>
        <artifactId>antlr</artifactId>
        <version>2.7.2</version>
    </dependency>
    <dependency>
        <groupId>org.apache.directory.studio</groupId>
        <artifactId>org.apache.commons.collections</artifactId>
        <version>3.2.1</version>
    </dependency>
    <dependency>
        <groupId>aspectj</groupId>
        <artifactId>aspectjrt</artifactId>
        <version>1.5.3</version>
    </dependency>
    <dependency>
        <groupId>org.apache.ws.commons.axiom</groupId>
        <artifactId>axiom-api</artifactId>
        <version>1.2.7</version>
    </dependency>
    <dependency>
        <groupId>org.apache.ws.commons.axiom</groupId>
        <artifactId>axiom-dom</artifactId>
        <version>1.2.7</version>
    </dependency>
    <dependency>
        <groupId>org.apache.ws.commons.axiom</groupId>
        <artifactId>axiom-impl</artifactId>
        <version>1.2.7</version>
    </dependency>
    <dependency>
        <groupId>axis</groupId>
        <artifactId>axis</artifactId>
        <version>1.4</version>
    </dependency>
     <dependency>
        <groupId>org.json</groupId>
        <artifactId>json</artifactId>
        <version>20090211</version>
    </dependency>
    <dependency>
        <groupId>org.apache.axis2</groupId>
        <artifactId>axis2-adb</artifactId>
        <version>1.4.1</version>
    </dependency>
    <dependency>
        <groupId>org.apache.axis2</groupId>
        <artifactId>axis2-kernel</artifactId>
        <version>1.4.1</version>
    </dependency>
    <dependency>
        <groupId>axis</groupId>
        <artifactId>axis-jaxrpc</artifactId>
        <version>1.2-RC1</version>
    </dependency>
    <dependency>
        <groupId>backport-util-concurrent</groupId>
        <artifactId>backport-util-concurrent</artifactId>
        <version>3.1</version>
    </dependency>
    <dependency>
        <groupId>org.apache.cactus</groupId>
        <artifactId>
            cactus.core.framework.uberjar.javaEE.14
        </artifactId>
        <version>1.8.1</version>
        <type>pom</type>
        <scope>provided</scope>
        <exclusions>
            <exclusion>
                <artifactId>org.mortbay.jetty</artifactId>
                <groupId>org.mortbay.jetty</groupId>
            </exclusion>
        </exclusions>
    </dependency>
    <dependency>
        <groupId>org.apache.cactus</groupId>
        <artifactId>cactus.integration.ant</artifactId>
        <version>1.8.1</version>
        <scope>provided</scope>
        <exclusions>
            <exclusion>
                <artifactId>cactus.integration.shared.api</artifactId>
                <groupId>org.apache.cactus</groupId>
            </exclusion>
            <exclusion>
                <artifactId>org.mortbay.jetty</artifactId>
                <groupId>org.mortbay.jetty</groupId>
            </exclusion>
        </exclusions>
    </dependency>
    <dependency>
        <groupId>commons-beanutils</groupId>
        <artifactId>commons-beanutils</artifactId>
        <version>1.7.0</version>
    </dependency>
    <dependency>
        <groupId>onlinesupport-Mysp</groupId>
        <artifactId>coherence</artifactId>
        <version>3.5</version>
    </dependency>
    <dependency>
        <groupId>commons-chain</groupId>
        <artifactId>commons-chain</artifactId>
        <version>1.1</version>
    </dependency>
    <dependency>
        <groupId>commons-codec</groupId>
        <artifactId>commons-codec</artifactId>
        <version>1.3</version>
    </dependency>
    <dependency>
        <groupId>commons-digester</groupId>
        <artifactId>commons-digester</artifactId>
        <version>1.8</version>
    </dependency>
    <dependency>
        <groupId>commons-fileupload</groupId>
        <artifactId>commons-fileupload</artifactId>
        <version>1.2</version>
    </dependency>
    <dependency>
        <groupId>commons-httpclient</groupId>
        <artifactId>commons-httpclient</artifactId>
        <version>3.0.1</version>
    </dependency>
    <dependency>
        <groupId>commons-logging</groupId>
        <artifactId>commons-logging</artifactId>
        <version>1.0.4</version>
    </dependency>
    <dependency>
        <groupId>commons-validator</groupId>
        <artifactId>commons-validator</artifactId>
        <version>1.3.1</version>
    </dependency>
    <dependency>
        <groupId>dom4j</groupId>
        <artifactId>dom4j</artifactId>
        <version>1.6.1</version>
    </dependency>
    <dependency>
        <groupId>org.apache.geronimo.specs</groupId>
        <artifactId>geronimo-stax-api_1.0_spec</artifactId>
        <version>1.0</version>
    </dependency>
    <dependency>
        <groupId>com.ibm.icu</groupId>
        <artifactId>icu4j</artifactId>
        <version>4.6</version>
    </dependency>
    <dependency>
        <groupId>jaxen</groupId>
        <artifactId>jaxen</artifactId>
        <version>1.1-beta-6</version>
        <type>zip</type>
    </dependency>
    <dependency>
        <groupId>com.cedarsoft.serialization</groupId>
        <artifactId>jdom</artifactId>
        <version>1.0.0</version>
    </dependency>
    <dependency>
        <groupId>javax.servlet</groupId>
        <artifactId>jstl</artifactId>
        <version>1.2</version>
    </dependency>
    <dependency>
      <groupId>jsptags</groupId>
      <artifactId>pager-taglib</artifactId>
      <version>2.0</version>
    </dependency>
    <!-- Remove this for Weblogic -->

    <dependency>
        <groupId>junit</groupId>
        <artifactId>junit</artifactId>
        <version>3.8.2</version>
    </dependency>
    <dependency>
        <groupId>log4j</groupId>
        <artifactId>log4j</artifactId>
        <version>1.2.8</version>
    </dependency>
    <dependency>
        <groupId>org.apache.neethi</groupId>
        <artifactId>neethi</artifactId>
        <version>2.0.4</version>
    </dependency>
    <dependency>
        <groupId>oro</groupId>
        <artifactId>oro</artifactId>
        <version>2.0.8</version>
    </dependency>
    <dependency>
        <groupId>xmlbeans</groupId>
        <artifactId>xmlbeans</artifactId>
        <version>2.3.0</version>
    </dependency>
    <dependency>
        <groupId>wsdl4j</groupId>
        <artifactId>wsdl4j</artifactId>
        <version>1.6.2</version>
    </dependency>

    <dependency>
        <groupId>servletapi</groupId>
        <artifactId>servlet-api</artifactId>
        <version>2.4</version>
        <scope>provided</scope>
    </dependency>
    <dependency>
        <groupId>com.apple.corp</groupId>
        <artifactId>BlackWord</artifactId>
        <version>1.0.0</version>
    </dependency>
    <dependency>
        <groupId>com.apple.corp</groupId>
        <artifactId>AESCryptoAlgorithm</artifactId>
        <version>0.0.1</version>
    </dependency>

    <dependency>
        <groupId>org.springframework</groupId>
        <artifactId>spring-webmvc</artifactId>
        <version>3.2.2.RELEASE</version>
    </dependency>

    <dependency>
        <groupId>org.springframework</groupId>
        <artifactId>spring-context</artifactId>
        <version>3.2.2.RELEASE</version>
    </dependency>
    <dependency>
        <groupId>org.springframework</groupId>
        <artifactId>spring-web</artifactId>
        <version>3.2.2.RELEASE</version>
    </dependency>
    <dependency>
        <groupId>cglib</groupId>
        <artifactId>cglib</artifactId>
        <version>2.2</version>
    </dependency>
    <dependency>
        <groupId>org.springframework.ws</groupId>
        <artifactId>spring-oxm-tiger</artifactId>
        <version>1.5.4</version>
    </dependency>
    <dependency>
      <groupId>commons-lang</groupId>
      <artifactId>commons-lang</artifactId>
      <version>2.5</version>
    </dependency>

    <dependency>
        <groupId>com.sun.jersey</groupId>
        <artifactId>jersey-server</artifactId>
        <version>1.8</version>
    </dependency>
    <dependency>
        <groupId>com.sun.jersey</groupId>
        <artifactId>jersey-bundle</artifactId>
        <version>1.2</version>
      </dependency>
      <dependency>
        <groupId>org.springframework</groupId>
        <artifactId>spring-tx</artifactId>
        <version>3.2.2.RELEASE</version>
    </dependency>
    <dependency>
        <groupId>org.springframework</groupId>
        <artifactId>spring-context-support</artifactId>
        <version>3.2.2.RELEASE</version>
    </dependency>

    <!-- Quartz framework -->
    <dependency>
        <groupId>org.quartz-scheduler</groupId>
        <artifactId>quartz</artifactId>
        <version>1.8.6</version>
    </dependency>

    <dependency>
        <groupId>com.fasterxml.jackson.module</groupId>
        <artifactId>jackson-module-jaxb-annotations</artifactId>
        <version>2.1.4</version>
    </dependency>
    <dependency>
        <groupId>com.sun.xml.bind</groupId>
        <artifactId>jaxb-impl</artifactId>
        <version>2.2.6</version>
    </dependency>
    <dependency>
        <groupId>org.owasp.esapi</groupId>
        <artifactId>esapi</artifactId>
        <version>2.0_rc9</version>
    </dependency>
    <dependency>
        <groupId>com.google.code.gson</groupId>
        <artifactId>gson</artifactId>
        <version>2.2.2</version>
    </dependency>
    <dependency>
            <groupId>groovy</groupId>
            <artifactId>groovy-all-1.0-jsr</artifactId>
            <version>05</version>
    </dependency>
    <dependency>
          <groupId>com.apple.ist.gcrm.infra.log</groupId>
          <artifactId>cslogger</artifactId>
          <version>1.0-SNAPSHOT</version>
          <exclusions>
            <exclusion>
                <artifactId>log4j</artifactId>
                <groupId>apache-log4j</groupId>
            </exclusion>
            <exclusion>
                <groupId>javax</groupId>
                <artifactId>javaee-api</artifactId>
            </exclusion>
          </exclusions>
    </dependency>
      <dependency>
        <groupId>org.eclipse.persistence</groupId>
        <artifactId>org.eclipse.persistence.moxy</artifactId>
        <version>2.4.0</version>
       </dependency>

      <dependency>
        <groupId>com.apple.ist.ets</groupId>
        <artifactId>geneva-api</artifactId>
        <version>1.0</version>
      </dependency>
      <dependency>
        <groupId>org.owasp</groupId>
        <artifactId>antisamy</artifactId>
        <version>1.4</version>
      </dependency>
      <dependency>
        <groupId>javax.validation</groupId>
        <artifactId>validation-api</artifactId>
        <version>1.0.0.GA</version>
      </dependency>
      <dependency>
        <groupId>org.hibernate</groupId>
        <artifactId>hibernate-validator</artifactId>
        <version>4.0.2.GA</version>
      </dependency>
   </dependencies>

  <packaging>war</packaging>
</project> 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-04-18T07:07:17.363

您必须将 Lan 提到的配置拆分为两个文件：

第一个是 META-INF/weblogic-application.xml：

```
<?xml version="1.0" encoding="UTF-8"?>
<weblogic-application xmlns="http://www.bea.com/ns/weblogic/90">

  <prefer-application-packages>
      <package-name>org.slf4j.*</package-name>
      <package-name>org.apache.commons.logging.*</package-name>
  </prefer-application-packages>

</weblogic-application> 
```

第二个是WEB-INF/weblogic.xml：

```
<?xml version="1.0" encoding="UTF-8"?>
<weblogic-web-app xmlns="http://xmlns.oracle.com/weblogic/weblogic-web-app"
                  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                  xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd
                                      http://xmlns.oracle.com/weblogic/weblogic-web-app http://xmlns.oracle.com/weblogic/weblogic-web-app/1.1/weblogic-web-app.xsd">

  <container-descriptor>
    <prefer-web-inf-classes>true</prefer-web-inf-classes>
  </container-descriptor>

</weblogic-web-app> 
```

这样，您可以强制 WebLogic（在我的情况下为 12c）首先加载 SLF4J 的 webapp 捆绑版本（必须放在 WEB-INF/lib 中）。但似乎，这两个绑定仍然可用。德语来源：[http ://www.torsten-horn.de/techdocs/jee-oracleweblogic.htm#Kompatibilitätsprobleme](http://www.torsten-horn.de/techdocs/jee-oracleweblogic.htm#Kompatibilit%C3%A4tsprobleme)

# oracle11g - 如何在oracle的存储过程中手动将行添加到游标中

> ID：15150472
> 
> 赞同：3
> 
> 时间：2013-03-01T04:26:08.907
> 
> 标签：oracle11g

我在存储过程中有一个游标。我想从查询中选择一些数据并将该数据插入游标，然后再次从另一个查询中选择一些数据并将该数据附加到同一个游标中。

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-01T05:20:28.323

游标是 SQL 语句的只读句柄。游标没有数据。您不能将数据附加到游标。对游标唯一能做的就是获取下一行。

您可以将用于打开游标的 SQL 语句更改为`UNION`两个不同的 SQL 语句，即

```
OPEN rc FOR 
  SELECT <<column list>>
    FROM table1
  UNION ALL
  SELECT <<column list>>
    FROM table2;

RETURN rc; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T06:04:52.783

我不知道程序返回值是如何在这里看到的，这里使用的是简单的 ref_cursor

```
create or replace function test_ref() return sys_refcursor is
     temp sys_refcursor;
   begin
     open temp for 'select * from hr.employees ;
     return v_rc;
   end;
   / 
```

# ios - 在 iOS 中释放所有自动释放的对象

> ID：15150478
> 
> 赞同：1
> 
> 时间：2013-03-01T04:26:44.040
> 
> 标签：ios, memory-management, automatic-ref-counting, autorelease

我正在创建一个 iPhone 应用程序，因为我使用 ARC 进行内存管理。在此应用程序中，用户可以选择登录和注销。因此，任何用户都可以随时从同一设备登录到他们的帐户。

所以，我认为，当我使用 ARC 时，对象的释放将在未来的某些时候发生。那么，当多个用户登录时会导致任何问题吗？就像我应该在用户注销时手动向自动释放池中的所有对象发送释放消息？

请分享你的想法。提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-01T04:30:40.820

ARC 自动管理“自动释放”对象，因此您无需担心。在 ARC 下，我认为甚至不可能向池发送发布消息。当它决定不再需要这些对象时，它将自动释放这些对象。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-01T04:40:47.817

切勿使用 ARC 手动释放对象。使用 ARC，所有版本都会自动处理。如果您担心第一个用户的数据是否丢失，那么答案是否定的。当新用户登录时，会创建新的变量实例。就这样。

# opengl-es - 如何在 glkit 中的立方体的每个面上获得具有不同纹理图像的立方体？

> ID：15150481
> 
> 赞同：0
> 
> 时间：2013-03-01T04:27:20.790
> 
> 标签：opengl-es, ios6, opengl-es-2.0, game-physics, glkit

我正在开发一个游戏，我必须摇骰子才能获得数字。我正在使用 glkit 制作一个立方体并通过 GLKBaseEffect 对该立方体进行纹理化。出色地 ！我想要一个在每个面上都有不同纹理图像的立方体，以便它可以模拟骰子。我希望立方体的每个面都显示不同的骰子图像，例如一个面显示数字 1，另一个面显示数字 2，依此类推。我在这里粘贴我的代码。

```
- (void)setupGL {

[EAGLContext setCurrentContext:self.context];
glEnable(GL_CULL_FACE);

self.effect = [[GLKBaseEffect alloc] init];

NSDictionary * options = [NSDictionary dictionaryWithObjectsAndKeys:
                          [NSNumber numberWithBool:YES],
                          GLKTextureLoaderOriginBottomLeft, 
                          nil];

NSError * error;    
NSString *path = [[NSBundle mainBundle] pathForResource:@"tile_floor" ofType:@"png"];
GLKTextureInfo * info = [GLKTextureLoader textureWithContentsOfFile:path options:options error:&error];
if (info == nil) {
    NSLog(@"Error loading file: %@", [error localizedDescription]);
}
self.effect.texture2d0.name = info.name;
self.effect.texture2d0.enabled = true;

// draw one texture per side

// New lines
glGenVertexArraysOES(1, &_vertexArray);
glBindVertexArrayOES(_vertexArray);

// Old stuff
glGenBuffers(1, &_vertexBuffer);
glBindBuffer(GL_ARRAY_BUFFER, _vertexBuffer);
glBufferData(GL_ARRAY_BUFFER, sizeof(Vertices), Vertices, GL_STATIC_DRAW);

glGenBuffers(1, &_indexBuffer);
glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, _indexBuffer);
glBufferData(GL_ELEMENT_ARRAY_BUFFER, sizeof(Indices), Indices, GL_STATIC_DRAW);

// New lines (were previously in draw)
glEnableVertexAttribArray(GLKVertexAttribPosition);        
glVertexAttribPointer(GLKVertexAttribPosition, 3, GL_FLOAT, GL_FALSE, sizeof(Vertex), (const GLvoid *) offsetof(Vertex, Position));
glEnableVertexAttribArray(GLKVertexAttribColor);
glVertexAttribPointer(GLKVertexAttribColor, 4, GL_FLOAT, GL_FALSE, sizeof(Vertex), (const GLvoid *) offsetof(Vertex, Color));
glEnableVertexAttribArray(GLKVertexAttribTexCoord0);
glVertexAttribPointer(GLKVertexAttribTexCoord0, 2, GL_FLOAT, GL_FALSE, sizeof(Vertex), (const GLvoid *) offsetof(Vertex, TexCoord));

// New line
glBindVertexArrayOES(0); 
```

}

并在 drawInRects 中从这里调用绘制元素方法

```
- (void)glkView:(GLKView *)view drawInRect:(CGRect)rect {

glClearColor(1.0, 0.0, 0.0, 1.0);
glClear(GL_COLOR_BUFFER_BIT);
[self.effect prepareToDraw];
glBindVertexArrayOES(_vertexArray);
glDrawElements(GL_TRIANGLES, sizeof(Indices)/sizeof(Indices[0]), GL_UNSIGNED_BYTE, 0); 
```

}

任何人都可以帮助我实现这一目标。提前致谢。. . .

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-06-04T20:20:36.813

GLKit 允许的纹理数量有限（我认为是 2 个），因此您需要所谓的纹理贴图。基本上，您设置了这样的纹理：

```
a a a a a a a a b b b b b b b b c c c c c c c c d d d d d d d d
a a a a a a a a b b b b b b b b c c c c c c c c d d d d d d d d
a a a a a a a a b b b b b b b b c c c c c c c c d d d d d d d d
a a a a a a a a b b b b b b b b c c c c c c c c d d d d d d d d
a a a a a a a a b b b b b b b b c c c c c c c c d d d d d d d d ...
a a a a a a a a b b b b b b b b c c c c c c c c d d d d d d d d
a a a a a a a a b b b b b b b b c c c c c c c c d d d d d d d d
a a a a a a a a b b b b b b b b c c c c c c c c d d d d d d d d 
```

然后为每个顶点设置纹理坐标以指向要使用的纹理的子部分。

*注意*：即使 GLKit 支持更多纹理，正如许多 OpenGL 实现所做的那样，这种方法比加载大量纹理并一直切换它们要快得多。 `glBind()`是一个相对缓慢的操作。

另请注意：如果您的纹理图像边是 2 的幂（2、4、8、16、32，...），则事情会更有效。在纹理图像中有空白（未使用）点是可以的。我通常会在未使用的部分放置一个大红色斑点，这样我就可以判断它是否无意中出现在任何东西上。

所以你的骰子纹理可能是 32px 高和 512 (32*8) 宽，但你只使用它的前 192 (32*6) 个并且在一个图像中拥有一组 6 个 32x32 纹理。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-11-16T17:49:20.333

我通过分层或拥有更多对象来做到这一点。所以，一个立方体，然后是两个刚刚在立方体表皮上的正方形。如果立方体是 2 x 2 x 2，只要把图片的顶点设为 2.01，就像蛋糕糖霜一样

因此，您不是在为立方体添加纹理，而是在添加更多对象。这是一个视频示例 - [https://www.youtube.com/watch?v=lh2Zc8kHFbU&list=UUu5WfUbKdhLCW9aPq3WZsNA](https://www.youtube.com/watch?v=lh2Zc8kHFbU&list=UUu5WfUbKdhLCW9aPq3WZsNA)

如果您需要代码，请发送电子邮件至 StephenMWyatt2@gmail.com。

# javascript - 背景图像轮播

> ID：15150484
> 
> 赞同：1
> 
> 时间：2013-03-01T04:27:54.377
> 
> 标签：javascript, jquery, html, css

我正在尝试创建一个简单的网站，该网站仅包含旋转木马内的背景图像，该旋转木马将从左向右移动，并带有方向箭头。我找到了一个提供简单示例的资源，但是当我尝试重现他们的模型时，脚本似乎没有定义自己。此外，由于演示只有 700x500，因此实际上将其设为全屏还有第二个问题。

这是资源的链接：[动态驱动器](http://www.dynamicdrive.com/dynamicindex14/bgcarousel.htm)。

另外，这是我的 HTML

```
<!DOCTYPE html>

<head>

<title>Hit Heavy</title>

<link rel="shortcut icon" href="favicon.ico" type="image/ico" />

<style type="text/css">
    div.bgcarousel { /* CSS for main carousel container */
        background: black center center no-repeat; 
        width: 100%;
    }

    img.navbutton { /* CSS for the nav buttons */
        margin: 5px;
        opacity: 0.7;
    }

    div.slide{ /* CSS for each image's DIV container within main container */
        background-color: black;
        background-position: center center; /* center image within carousel */
        background-repeat: no-repeat;
        background-size: cover; /* CSS3 property to scale image within container? "cover" or     "contain" */
        color: black;
    }
</style>

<script src="js/jquery-1.8.2.min.js"></script>
<script src="js/bgcarousel.js" script type="text/javascript"></script>
<script type="text/javascript">

var firstbgcarousel=new bgCarousel({
    wrapperid: 'mybgcarousel', //ID of blank DIV on page to house carousel
    imagearray: [
        ['bg.jpg'], //["image_path", "optional description"]
        ['bg.jpg'],
        ['bg.jpg'],
        ['bg.jpg'] //<--no trailing comma after very last image element!
    ],
    displaymode: {type:'manual', pause:3000, cycles:2, stoponclick:false,  pauseonmouseover:true},
    navbuttons: ['left.png', 'right.png'], // path to nav images
    activeslideclass: 'selectedslide', // CSS class that gets added to currently shown DIV slide
    orientation: 'h', //Valid values: "h" or "v"
    persist: true, //remember last viewed slide and recall within same session?
    slideduration: 500 //transition duration (milliseconds)
})

</script>

</head>

<body>
    <div id="mybgcarousel" class="bgcarousel"></div>
</body>
</html> 
```

至于支持 html 中的脚本的 javascript，你可以[在这里查看](http://www.dynamicdrive.com/dynamicindex14/bgcarousel.js)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T13:52:03.457

@user2122160 高度很重要，像这样更改 css

```
div.bgcarousel { /* CSS for main carousel container */
        background: black center center no-repeat; 
        width: 100%;
        height:100%;
    } 
```

我创建了基于您的代码的滑块，它运行良好，没有错误链接如下：

> [http://www.fileconvoy.com/dfl.php?id=g7d74fb2c3b904c6a99923428881a8f81443981afd](http://www.fileconvoy.com/dfl.php?id=g7d74fb2c3b904c6a99923428881a8f81443981afd)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T04:41:46.210

问题在于您已将宽度设置为 100%

```
 div.bgcarousel{ /* CSS for main carousel container */
   background: black ; 
    width:700px; /* default dimensions of carousel */
    height:500px;
    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-01T14:02:03.167

我认为您需要在该代码周围添加一个 $(document).ready() 处理程序，我认为它在 jquery 和 bgcarousel 加载之前运行，将脚本更改为

```
<script type="text/javascript">
$(document).ready(function(){
  var firstbgcarousel=new bgCarousel({
    wrapperid: 'mybgcarousel', //ID of blank DIV on page to house carousel
    imagearray: [
        ['bg.jpg'], //["image_path", "optional description"]
        ['bg.jpg'],
        ['bg.jpg'],
        ['bg.jpg'] //<--no trailing comma after very last image element!
    ],
    displaymode: {type:'manual', pause:3000, cycles:2, stoponclick:false,  pauseonmouseover:true},
    navbuttons: ['left.png', 'right.png'], // path to nav images
    activeslideclass: 'selectedslide', // CSS class that gets added to currently shown DIV slide
    orientation: 'h', //Valid values: "h" or "v"
    persist: true, //remember last viewed slide and recall within same session?
    slideduration: 500 //transition duration (milliseconds)
  })
})
</script> 
```

$(document).ready 部分使您的代码在执行脚本之前等待文档加载

# excel - for....下一个循环在重复用户表单后失败

> ID：15150489
> 
> 赞同：0
> 
> 时间：2013-03-01T04:28:11.007
> 
> 标签：excel, vba

我正在使用 for next 循环，其中带有 while wend 循环。问题是当我输入第一个数据然后我想通过选择 vbYes 重复插入时，循环将重复但它再次将值设置为 i=32 并继续 while 循环，即使 while {condition} 为假。让我给一些例子，

comboBox1.value = {a,b,c,d}

i={32,33,34,35} ~> i 设置为行号。

对于第一个计数，我将 c 插入到 combobox1 中，给出 combobox1.value=c 和 cells(34,2).value=c 因此 while 循环继续。但是当我选择第二次继续插入数据时，它再次返回到下一个循环，但它设置了 i=32 的值，给出了 cells(32,2).value=c 然后继续进行 while 循环但是 while循环假设不继续，因为 cells(32,2).value=a 的正确值。谁能帮忙？

```
Dim i As Long
Dim prod As String
Dim RowNo As Long
Dim sh1 As Worksheet
Dim sh2 As Worksheet

Application.ScreenUpdating = False

prod = ComboBox1.Value

For i = 32 To 35

  While ComboBox1.Value = Worksheets("Input").Cells(i, 2).Value

    Rows(i).Select
    Selection.Insert shift = xlDown

    With Worksheets("Input")
    '~insert data
    .Range("B" & i) = ComboBox1.Text
    .Range("C" & i) = TextBox1.Text
    .Range("D" & i) = TextBox2.Text
    .Range("E" & i) = TextBox3.Text
    .Range("F" & i) = TextBox4.Text
    .Range("G" & i) = TextBox5.Text
    .Range("H" & i) = ComboBox2.Text
    .Range("I" & i) = TextBox6.Text
    .Range("J" & i) = TextBox7.Text
    .Range("K" & i) = TextBox8.Text

    End With

    Workbooks(prod & " Input.xlsm").Activate

    '~select row number from another worksheet
    RowNo = Workbooks(prod & " Input.xlsm").Worksheets("Input").Cells(31, 3).Value

   Set sh1 = Workbooks(prod & " Input.xlsm").Worksheets("Input")
   Set sh2 = Workbooks("MasterInput.xlsm").Worksheets("Input")

 '~copy inserted data from master input to product input
   sh1.Range(sh1.Cells(RowNo, 2), sh1.Cells(RowNo, 11)).Value = sh2.Range(sh2.Cells((i, 2), sh2.Cells(i , 11)).Value

    If MsgBox("One record written to Master Input. Do you want to continue entering data?", vbYesNo) = vbYes Then
       GoTo repeat1:

        Else
          Unload Me
    End If

    Exit Sub
  Wend
Next

 Application.ScreenUpdating = True
repeat1:
End Sub 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T05:57:39.693

您正在从内存中卸载表格。当您不想继续时卸载表格..

if msgbox("你想继续",vbyesNo)=vbyes then

```
 goto repeat1 
```

别的

```
 unload me 
```

万一

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T09:13:50.487

最后！只是我忘记输入的一个简单的单行命令。

在 for 循环上方插入

```
Workbooks("MasterInput.xlsm").Activate
For i = 32 To 35 
```

现在工作！i 值取自第二个工作簿，它应该取自第一个工作簿。

# java - PircBotX 命令问题

> ID：15150492
> 
> 赞同：2
> 
> 时间：2013-03-01T04:28:27.887
> 
> 标签：java, irc

我正在尝试使用 PircBotX Java 框架发出命令，当我发出命令时，我一直在使用这种方法来监听命令

```
public void onMessage(MessageEvent event) {
    event.respond("Hello World");
     ... 
```

虽然，这会像这样返回，假设我的尼克是 Rmarmorstein，我执行了命令..

```
Rmarmorstein: Hello World 
```

这很好，尽管对于有趣的命令，比如 ~poke ，它会返回 this..

```
Rmarmorstein: Poking OtherUser 
```

我怎样才能摆脱那个 Rmarmorstein：在一开始.. 任何帮助和建议表示赞赏，我使用的是[PircBotX](http://code.google.com/p/pircbotx/)框架的最新版本。谢谢你。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2014-09-14T15:57:28.753

```
event.getChannel().send().action("pokes OtherUser"); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-19T22:23:17.417

使用 sendMessage 而不是响应：

```
event.getBot().sendMessage(event.getChannel(), "Hello World"); 
```

或者 sendNotice 发送一个私人通知：

```
event.getBot().sendNotice(event.getUser(), "Hello World"); 
```

# c# - 错误“未在 web.config 文件中配置消毒剂提供程序。”

> ID：15150498
> 
> 赞同：4
> 
> 时间：2013-03-01T04:29:19.310
> 
> 标签：c#, asp.net, ajax

我想使用来自 ajaxtoolkit 的 htmleditor。我已经从[这个链接下载了工具包](http://ajaxcontroltoolkit.codeplex.com/releases/view/100852)

**Ajax 控制工具包 .NET 3.5**

但是由于“**未在 web.config 文件中配置 Sanitizer 提供程序。如果您将 HtmlEditorExtender 与公共网站一起使用，请配置 Sanitizer 提供程序。否则，将 EnableSanitization 属性设置为 false。** ”

**.aspx**

```
<asp:ToolkitScriptManager ID="ToolkitScriptManager1" runat="server">
    </asp:ToolkitScriptManager>
    <asp:HtmlEditorExtender ID="HtmlEditorExtender1" runat="server" TargetControlID="txtBox1">
    </asp:HtmlEditorExtender>
    <asp:TextBox runat="server" ID="txtBox1" TextMode="MultiLine" Columns="50" Rows="10"
        Text="Hello <b>world!</b>" /> 
```

我搜索了很多网站。我得到以下代码作为添加到 web.config 中的解决方案，但收到错误消息“**无法加载类型'AjaxControlToolkit.Sanitizer.AntiXssSanitizerProvider”。****在 word sanitizer**下也有一行

 **```
<configSections>
        <sectionGroup name="system.web">
            <section name="sanitizer" requirePermission="false" type="AjaxControlToolkit.Sanitizer.ProviderSanitizerSection, AjaxControlToolkit"/>
        </sectionGroup>
    </configSections>
    <system.web>
        <sanitizer defaultProvider="AntiXssSanitizerProvider">
            <providers>
                <add name="AntiXssSanitizerProvider" type="AjaxControlToolkit.Sanitizer.AntiXssSanitizerProvider"></add>
            </providers>
        </sanitizer>
    </system.web> 
```

**AjaxControl 工具包**

![在此处输入图像描述](../Images/22d1ff221ef3bb197e147bacc26dbfce.png)

**消毒剂提供程序文件夹**

![在此处输入图像描述](../Images/866385ed6857792f62ef2dd9dc8c1366.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-06-07T16:58:05.097

`sanitizer`使用此行更改web.config 中的部分并尝试：

```
<sanitizer defaultProvider="HtmlAgilityPackSanitizerProvider">
    <providers>
        <add name="HtmlAgilityPackSanitizerProvider" type="AjaxControlToolkit.Sanitizer.HtmlAgilityPackSanitizerProvider"></add>
    </providers>
</sanitizer> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-09-25T10:38:48.993

您需要通过 Nuget 包管理器进行更新。所以所有问题都会自动解决。

在 Visual Studio 包管理器控制台中安装如下：

1.  PM > 安装包 AjaxControlToolkit
2.  PM > 安装包 AntiXSS
3.  PM > 安装包 AjaxControlToolkit.HtmlEditor.Sanitizer
4.  PM > 安装包 HtmlAgilityPack -版本 1.4.9

**在下面添加新部分：**

```
 <configuration>  
        <configSections>
        <section name="ajaxControlToolkit" type="AjaxControlToolkit.AjaxControlToolkitConfigSection, AjaxControlToolkit" />
</configSections>        
....
        ...

    <runtime>
        <assemblyBinding xmlns="urn:schemas-microsoft-com:asm.v1">

          <dependentAssembly>
            <assemblyIdentity name="HtmlAgilityPack" publicKeyToken="bd319b19eaf3b43a" culture="neutral" />
            <bindingRedirect oldVersion="0.0.0.0-1.4.9.0" newVersion="1.4.9.0" />
          </dependentAssembly>
        </assemblyBinding>
      </runtime>
        <ajaxControlToolkit htmlSanitizer="AjaxControlToolkit.HtmlEditor.Sanitizer.DefaultHtmlSanitizer, AjaxControlToolkit.HtmlEditor.Sanitizer" />
    </configuration> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-12-05T16:19:52.873

将 AjaxControlToolkit.Binary.NET40.zip 中的所有文件复制到 bin 文件夹中。

这是您在 web.config 中需要的配置：

```
<configuration>
  <configSections>
...
    <sectionGroup name="system.web">
      <section name="sanitizer" requirePermission="false" type="AjaxControlToolkit.Sanitizer.ProviderSanitizerSection, AjaxControlToolkit"/>
    </sectionGroup>

....

  <system.web>
    <sanitizer defaultProvider="HtmlAgilityPackSanitizerProvider">
      <providers>
        <add name="HtmlAgilityPackSanitizerProvider" type="AjaxControlToolkit.Sanitizer.HtmlAgilityPackSanitizerProvider"/>
      </providers>
    </sanitizer> 
```

在你的 aspx 文件中：

```
<%@ Page Language="C#" AutoEventWireup="true" CodeBehind="WebForm1.aspx.cs" Inherits="CommunitySafeApp.Start.WebForm1" %>

<%@ Register TagPrefix="asp" Namespace="AjaxControlToolkit" Assembly="AjaxControlToolkit"%>

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
<head runat="server">
    <title></title>
</head>
<body>
    <form id="form1" runat="server">
    <div>

<asp:ToolkitScriptManager runat="Server" />
<asp:TextBox
        ID="txtComments"
        TextMode="MultiLine"
        Columns="60"
        Rows="8"
        runat="server" />

<asp:HtmlEditorExtender
        TargetControlID="txtComments"
        runat="server" />

    </div>

    </form>
</body>
</html> 
```**

# php - 在 ubuntu 上使用 php 向 mysql 数据库添加值

> ID：15150500
> 
> 赞同：-1
> 
> 时间：2013-03-01T04:29:26.523
> 
> 标签：php, mysql, post, mysqli

n00b 从一本书中学习 php。

我正在尝试将数据添加到名为 adv_php 的数据库中。我在从帖子接收数据的页面中使用以下代码片段：

```
 <?php
    $dbc = mysqli_connect('host', 'name', 'password', 'adv_php');

    if (mysqli_connect_errno())
    {
        echo "Failed to connec to MySQL" . mysqli_connect_error();
    }
    $parent_id = $_POST['parent_id'];
    $task = $_POST['task'];

    // Add the task to the database.
    $q = "INSERT INTO (parent_id, task) tasks VALUES ($parent_id,'$task')";
    mysqli_query($dbc, $q);
    ?> 
```

我知道这段代码连接到其他地方的数据库，因为我可以从数据库中检索信息。有了这个页面，我没有得到错误，我只是得到一个空白页面，并且没有任何内容添加到数据库中我哪里出错了？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T04:33:01.427

您的查询是错误的...更改它...

```
$q = "INSERT INTO  tasks(parent_id, task) VALUES ($parent_id,'$task')"; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T04:32:53.517

你放错了table_name，使用下面的查询

```
$q = "INSERT INTO tasks (parent_id, task)  VALUES ($parent_id,'$task')"; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-01T04:34:28.780

你的插入语句是错误的试试这个

```
 $q = "INSERT INTO tasks (parent_id, task) VALUES ($parent_id,'$task')"; 
```

# javascript - 使用 yep/nope 和 document.ready

> ID：15150504
> 
> 赞同：4
> 
> 时间：2013-03-01T04:29:52.897
> 
> 标签：javascript, jquery, document-ready, yepnope

我正在使用 yepnope.js，但在加载函数时遇到了一个小问题

在头部我包括 yep nope 并调用相关的 js 文件

```
<script type="text/javascript" src="/code/trunk/javascript/external/modernizr/modernizr-development.js"></script>

<script type="text/javascript" src="/code/trunk/javascript/external/yepnope.1.5.3-min.js"></script>

<script type="text/javascript">
yepnope({
  test: Modernizr.mq('only all and (max-width: 700px)'),
  yep: ['/templates/client/jquery/qff/plugin.mobile.js'],
  nope:['/templates/client/jquery/qff/plugin.website.js']
});    
</script> 
```

然后在页面底部

```
<script type="text/javascript">
jQuery(document).ready(function() 
{
    jQuery("#mainContent").setupQantas({
        startSlide: 1, 
        googleAnalytics:1,
        googleCode:""
    });
});
</script> 
```

所以我在主屏幕上看这个。所以应该调用 plugin.mobile.js

在 plugin.mobile.js 文件中

```
(function( $ ){

  $.fn.setupQantas = function( options ) {  

    // Create some defaults, extending them with any options that were provided
    var settings = $.extend( {
        startSlide: 1, 
        googleAnalytics:0, // 1 sends to google
        googleCode: ""
    }, options);

    var methods = {};

    return this.each(function() {        

        if (settings.startSlide === 1) {
            alert("slide = 1");     
        } else {
            alert("slide > 1");
        }
    });
  };
})( jQuery );// JavaScript Document 
```

而不是给出警告幻灯片 1 它有错误

```
jQuery("#mainContent").setupQantas is not a function 
```

如果我不使用 yepnope 而只是将它放在脚本标签中，它就可以工作。yepnope 在 js 文件中加载时似乎有延迟，并且在 doc.ready 之前似乎没有

有没有解决的办法？

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-01T04:39:46.823

是的，有延迟。**这就是异步**脚本加载器背后的全部意义所在。

您应该在 yepnope 加载脚本后使用回调。检查`complete`和`callback`选项。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T04:56:15.697

这是代码

```
<script type="text/javascript">

yepnope({
  test: Modernizr.mq('only all and (max-width: 700px)'),
  yep: ['/templates/client/jquery/qff/mobile.js'],
  nope:['/templates/client/jquery/qff/website.js'],
  complete: function () {
    jQuery("#mainContent").setupQantas({
        startSlide: 1, 
        googleAnalytics:1,
        googleCode:""
    });
  }
});

</script> 
```

# javascript - 如何从父窗口获取 iframe 中的锚标记？

> ID：15150508
> 
> 赞同：0
> 
> 时间：2013-03-01T04:30:11.570
> 
> 标签：javascript, html, javascript-events

在我的父窗口中，我有一个 iframe。我想从父窗口获取 iframe 中存在的锚标记。如果可能，请给出建议。否则，请说明为什么不可能。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T04:52:13.313

假设您的 iframe 是：

```
<iframe id="myframe"></iframe> 
```

首先你需要访问它的文档

```
var iframe_doc = document.getElementById("myframe").contentDocument; 
```

现在您可以使用它了。

获取所有锚点：

```
var all_anchors = iframe_doc.getElementsByTagName("a"); 
```

（如果父级和 iframe 由于相同的源策略而没有共享相同的协议、域和端口，您将无法这样做）

# c# - 我正在尝试将 Ninject 用于以下场景

> ID：15150512
> 
> 赞同：1
> 
> 时间：2013-03-01T04:30:24.277
> 
> 标签：c#, dependency-injection, constructor, ninject

我的要求与这里提出的问题非常相似 - [With.Parameters.ConstructorArgument with ninject 2.0](https://stackoverflow.com/questions/1374098/with-parameters-constructorargument-with-ninject-2-0) 这可能是一个愚蠢的问题 - 但是，在调用期间向构造函数发送参数的方法是否`Get<IMyType>`违反了解耦（我相信这是 DI 的主要动机）本身？
这假定 的用户`IMyType`了解 的特定实现的构造函数`IMyType`。
由于无法在接口中声明构造函数参数，因此将来可能会添加另一个实现，它在构造函数中采用不同的参数集并绑定到该实现。再一次，按照解耦的理念，代码`Bind<IMyType>.To<ADifferentImpl>()`应该能够使用之前编写的任何模块，该模块从`Get<IMyType>`.

我有非常相似的要求 - 在绑定时我不知道构造函数参数的值，但仅在访问时才知道。我认为在给定情况下遵循的最佳方法是采用 Adrian Grigore 的回答。请让我知道是否有任何其他方法。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T04:42:00.593

我将举例说明我是如何做到的：

```
public static class DI
{
    private static IKernel _kernel;
    private static Boolean _kernelLoaded = false;
    public static T Resolve<T>() where T : class
    {
        ...
        var a = _kernel.Get<T>();
        return a;
    }
   ...
} 
```

这是具有带参数的构造函数的类 UserRepository：

```
public class UserRepository : RepositoryBase<User>, IUserRepository
{
    public UserRepository(IMyContext context)
        : base(context)
    {
    }

    public void AddList(String name)
    {

    }
} 
```

如您所见，我的构造函数仅适用于 的接口`MyContext`，如果在 ninject 中注册了 IMyContext 示例的默认构造函数，则 Ninject 会自动赋予它。

这是 ninject 中的绑定示例：

```
 public override void Load()
    {
        Bind(typeof(IUserRepository)).To(typef(UserRepository));
        Bind(typeof(IMyContext)).To(typeof(MyContext));
        ...
    } 
```

所以我可以像这样在我的代码中获取这个存储库：

```
 var repository = DI.Resolve<IUserRepository>();
        List<User> users = repository.GetAll(); 
```

它也很有效

# ios - 如何在ios中合并音频和视频

> ID：15150517
> 
> 赞同：1
> 
> 时间：2013-03-01T04:31:17.340
> 
> 标签：ios, ios4, avmutablecomposition, avasset

我喜欢使用 AVMutableComposition 在应用程序中合并音频和视频，并且我在应用程序中使用了以下代码，但我能够获取输出数据。

```
-(void) playerFunction
{
    NSString  *fileNamePath = @"mexicanDance.mp3";//myaudio
    NSArray   *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory,NSUserDomainMask, YES);
    NSString  *documentsDirectory = [paths  objectAtIndex:0];
    NSString  *oldappSettingsPath = [documentsDirectory stringByAppendingPathComponent:fileNamePath];
    NSURL *audioUrl = [NSURL fileURLWithPath:oldappSettingsPath];
    NSString  *fileNamePath1 = @"Egg_break.mov";//my video
    NSArray   *paths1 = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory,NSUserDomainMask, YES);
    NSString  *documentsDirectory1 = [paths1  objectAtIndex:0];
    NSString  *oldappSettingsPath1 = [documentsDirectory1 stringByAppendingPathComponent:fileNamePath1];
    NSLog(@"oldpath=%@",oldappSettingsPath);
    NSURL *videoUrl = [NSURL fileURLWithPath:oldappSettingsPath1];
//    if (avPlayer.duration >0.00000)
//    {
        NSLog(@"SOMEDATA     IS THERE ");
        AVURLAsset* audioAsset = [[AVURLAsset alloc]initWithURL:audioUrl options:nil];
        AVURLAsset* videoAsset = [[AVURLAsset alloc]initWithURL:videoUrl options:nil];

        AVMutableComposition* mixComposition = [AVMutableComposition composition];

        NSLog(@"audio =%@",[audioAsset tracksWithMediaType:AVMediaTypeAudio]);
    NSLog(@"Video =%@",[videoAsset tracksWithMediaType:AVMediaTypeVideo]);

        AVMutableCompositionTrack *compositionCommentaryTrack = [mixComposition addMutableTrackWithMediaType:AVMediaTypeAudio preferredTrackID:kCMPersistentTrackID_Invalid];
    NSLog(@"%@",compositionCommentaryTrack);
        [compositionCommentaryTrack insertTimeRange:CMTimeRangeMake(kCMTimeZero, audioAsset.duration) ofTrack:[[audioAsset tracksWithMediaType:AVMediaTypeAudio] objectAtIndex:0] atTime:kCMTimeZero error:nil];

        AVMutableCompositionTrack *compositionVideoTrack = [mixComposition addMutableTrackWithMediaType:AVMediaTypeVideo preferredTrackID:kCMPersistentTrackID_Invalid];
        [compositionVideoTrack insertTimeRange:CMTimeRangeMake(kCMTimeZero, videoAsset.duration) ofTrack:[[videoAsset tracksWithMediaType:AVMediaTypeVideo] objectAtIndex:0] atTime:kCMTimeZero error:nil];

        AVAssetExportSession* _assetExport = [[AVAssetExportSession alloc] initWithAsset:mixComposition presetName:AVAssetExportPresetPassthrough];

        NSString* videoName = @"output.mp4";//outputdata

        NSString *exportPath = [NSTemporaryDirectory() stringByAppendingPathComponent:videoName];
        NSURL    *exportUrl = [NSURL fileURLWithPath:exportPath];

        if ([[NSFileManager defaultManager] fileExistsAtPath:exportPath])
        {
            [[NSFileManager defaultManager] removeItemAtPath:exportPath error:nil];
        }

        _assetExport.outputFileType = @"com.apple.quicktime-movie";
        NSLog(@"file type %@",_assetExport.outputFileType);
        _assetExport.outputURL = exportUrl;
        _assetExport.shouldOptimizeForNetworkUse = YES;

        [_assetExport exportAsynchronouslyWithCompletionHandler:
         ^(void )
         {

             NSString  *fileNamePath = @"sound_record.mov";
             NSArray   *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory,NSUserDomainMask, YES);
             NSString  *documentsDirectory = [paths  objectAtIndex:0];
             NSString  *oldappSettingsPath = [documentsDirectory stringByAppendingPathComponent:fileNamePath];

             //             if ([[NSFileManager defaultManager] fileExistsAtPath:oldappSettingsPath]) {
             //
             //                 NSFileManager *fileManager = [NSFileManager defaultManager];
             //                 [fileManager removeItemAtPath: oldappSettingsPath error:NULL];
             //
             //             }
             NSURL *documentDirectoryURL = [NSURL fileURLWithPath:oldappSettingsPath];
             [[NSFileManager defaultManager] copyItemAtURL:exportUrl toURL:documentDirectoryURL error:nil];
             [audioAsset release];
             [videoAsset release];
             [_assetExport release];
         }       
         ];

//}
    video = [[MPMoviePlayerController alloc] init];
    if (UI_USER_INTERFACE_IDIOM() == UIUserInterfaceIdiomPad)
        video.view.frame = CGRectMake(0, 0, 768, 1004);
    else
        video.view.frame = CGRectMake(0, 0, 320, 460);

    NSString * audioPath=[[NSBundle mainBundle] pathForResource:@"output" ofType:@"mp4"];
    [video setContentURL:[NSURL fileURLWithPath:audioPath]];

    [video prepareToPlay];
    [video play];
    [self.view addSubview:video.view];
    [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(stopAudio)
                                                 name:MPMoviePlayerPlaybackDidFinishNotification object:video];

    [video setFullscreen:YES];
} 
```

但是这段代码对我不起作用，因为 AVURLAsset 都给我丢了空集。我不知道是什么错误。有人可以帮忙解决这个问题吗

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-01-21T12:26:57.413

确保您的两个（音频和视频）文件都有适当的扩展名，并且它的持续时间不应该为空，我们可以在使用之前检查一下

```
if ([[_videoAsset tracksWithMediaType:AVMediaTypeVideo]count]!=0)
{
 // write code here to add video in composition. you can check same for audio too.
} 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2016-01-21T13:02:31.070

@btmanikandan 用于从服务器加载文件，请将文件数据（NSdata）保存到临时文件。来自服务器的文档目录，然后从那里合并。合并从文档目录中删除文件后。希望对你有帮助！！！

# iphone - 将 GData Objective-C 客户端库添加到 xcode4.5 工作示例

> ID：15150524
> 
> 赞同：1
> 
> 时间：2013-03-01T04:31:51.913
> 
> 标签：iphone, xcode4.5, gdata, icalendar

无论我在哪里下载 gdata 上 的文件，我的文件中都缺少**“#import gdata.h”**，即使我通过删除当前示例中的现有文件将其替换为其他库中的一些新数据文件。

目前我正在使用日历将事件直接同步到谷歌日历。

# android - ImageView 中的 drawLine() 与 SeekBar 的笔划宽度发生变化

> ID：15150526
> 
> 赞同：1
> 
> 时间：2013-03-01T04:31:59.057
> 
> 标签：android, android-imageview, seekbar

我正在参与`ImageView`进度`SeekBar`更改事件。如果`SeekBar`增量更改，它似乎工作正常。在减少搜索栏进度的同时，保留已绘制的线。如果减少进度，如何从`SeekBar`进度更改事件事件中用适当的笔划画线。我尝试将`ImageView`'s drawable 设置为`null`，并将图像位图设置为`null`，仍然面临错误。

```
@Override       
public void onProgressChanged(SeekBar seekBar, int progress,boolean fromUser) {     
    imageCanvas.drawLine(0, 0, 100, 100, paint);                 
    mStrokeWidth = (float)progress;
    imageView.setImageDrawable(null);
    imageView.setImageBitmap(null);
    paint.setColor(mStrokeColor);
    paint.setStrokeWidth(mStrokeWidth);
    imageCanvas.drawLine(20, 20, 100, 100, paint);
    imageView.setImageBitmap(bitmap);
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T05:30:11.740

该问题已针对创建新位图并将其分配给 onProgressChanged() 方法中的画布进行了修复。

```
@Override       
public void onProgressChanged(SeekBar seekBar, int progress,boolean fromUser) 
{
  bitmap = Bitmap.createBitmap((int)imageViewSize , (int) imageViewSize, Bitmap.Config.ARGB_8888);
  imageCanvas = new Canvas(bitmap);
  imageCanvas.drawLine(0, 0, 100, 100, paint);                 
  mStrokeWidth = (float)progress;
  imageView.setImageDrawable(null);
  imageView.setImageBitmap(null);
  paint.setColor(mStrokeColor);
  paint.setStrokeWidth(mStrokeWidth);
  imageCanvas.drawLine(20, 20, 100, 100, paint);
  imageView.setImageBitmap(bitmap);
} 
```

# xpages - 学习如何使用 xe:dominoViewEntriesTreeNode

> ID：15150528
> 
> 赞同：0
> 
> 时间：2013-03-01T04:32:35.880
> 
> 标签：xpages, xpages-extlib

我意识到我的问题在动态添加导航项方面过于模糊，所以我正在重写这个问题。

我从 xpages 中发现了 xe:dominoViewEntriesTreeNode 控件。我想我可以使用它根据视图中的条目将导航项添加到导航器控件。

我正在努力寻找分解如何做到这一点的文档或资源。任何人都可以给我一个很好的参考或示例代码吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T09:56:06.690

我假设您的页面上有一个带有导航项的区域，例如指向带有链接文本的某些页面的链接？然后，我将使用带有数据源/javascript 源的重复控件，该源从您的配置文件文档或其他内容中返回文档项值。如果您不喜欢重复控制，那么您应该考虑阅读以下内容：http: [//xpageswiki.com/web/youatnotes/wiki-xpages.nsf/dx/Work_with_repeat_controls](http://xpageswiki.com/web/youatnotes/wiki-xpages.nsf/dx/Work_with_repeat_controls) 在此页面上还有一个处理配置文件的示例。

顺便说一句：使用配置文件总是一个拐杖，所以请考虑使用“普通”配置文件。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-01T18:58:22.040

您可以使用 dominoViewListTreeNode 基于数据库中的视图（而不是这些视图中的文档）构建菜单。

这是一个使用 xe:dominoViewListTreeNode 动态构建基于所有视图的菜单的示例，称为“Test*”（在过滤器属性中使用正则表达式）。当从菜单中选择一个菜单项时，视图的名称被提交给服务器（viewEntry.getName() 方法使用 EL 表示法）。

该示例还包含一个 onItemClick 事件处理程序，它“捕获”视图的名称作为提交的值并将其存储在 sessionScope 变量中。然后事件处理程序重定向到可以包含动态视图面板控件的 views.xsp XPage，您可以在其中使用 sessionScope 变量来控制要显示的视图。

sessionScope 变量还用于将选定的菜单项标记为“选定”。

```
<xe:navigator id="navigator1">
    <xe:this.treeNodes>
        <xe:dominoViewListTreeNode filter="Test.*" submitValue="#{viewEntry.name}" var="viewEntry">
            <xe:this.selected><![CDATA[#{javascript:viewEntry.getName() == sessionScope.clickedView}]]></xe:this.selected>
        </xe:dominoViewListTreeNode>
    </xe:this.treeNodes>

    <xp:eventHandler event="onItemClick" submit="true" refreshMode="complete">
         <xp:this.action>
           <![CDATA[#{javascript:sessionScope.clickedView = context.getSubmittedValue();
         context.redirectToPage("views.xsp");}]]>
         </xp:this.action>
    </xp:eventHandler>

</xe:navigator> 
```

您可以计算 xe:dominoViewListTreeNode 的 href 属性来返回 XPage 的名称，而不是使用 onItemClick 方法重定向到 XPage。

我有一个名为“ [XPages Extension Library - Create an app in 1 hours (almost)](http://www.slideshare.net/perlausten/xpages-extension-library-create-an-app-in-1-hour-almost) ”的简短演示文稿，介绍了这种技术（和其他技术）。

# ios - UITextfield 不显示文本，如果输入了文本

> ID：15150536
> 
> 赞同：1
> 
> 时间：2013-03-01T04:33:12.933
> 
> 标签：ios, uitextfield, uitextfielddelegate

我以编程方式创建了一个 uitextfield，还添加了 uitextfield 委托协议。但问题是，即使它正在显示文本字段，如果键入它也不会显示任何文本（或者我无法在文本字段中输入任何内容。它仍然是空白的）。代码如下。实际上我在另一个类中使用了相同的代码并且在那里正常工作，不明白问题是什么。请帮忙。

```
txtSIBBBbidSearch=[[UITextField alloc]initWithFrame:CGRectMake(50, 335, 150, 25)];
txtSIBBBbidSearch.clearsOnBeginEditing=YES;
txtSIBBBbidSearch.clearButtonMode=YES;
txtSIBBBbidSearch.delegate=self;
[txtSIBBBbidSearch setPlaceholder:@"Your Name"]; 
```

在另一个班级

```
[self.view addSubview:viewcontroller.txtSIBBBbidSearch]; 
```

在上面给出 addsubview 的类的 .h 中，我还添加了 UITextfielddelegate

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-01T08:49:56.513

我猜你正在返回`NO`你的`textFieldShouldReturn`委托方法。你应该回来`YES`。

```
- (BOOL)textFieldShouldReturn:(UITextField *)textField
{
    return YES;
} 
```

# java - 单链表追加方法

> ID：15150537
> 
> 赞同：1
> 
> 时间：2013-03-01T04:33:17.077
> 
> 标签：java, add

嘿伙计们，我在尝试实现单链表的附加方法时遇到了麻烦。这是代码：

```
public void append ( int item ) {
//inserts item to the end of the list
        if ( head == null){
            head = new LinkInt();
            curr = head;
            curr.elem = item;
        }
        else{
        LinkInt temp = head;
        while ( temp.next != null){
        temp = temp.next;}
        temp.elem = item;
        }

} 
```

这是我的打印方法（不确定它是否正确）：

```
public void print () {
//outprint the array 
    //ie. <1, 2, |3, 4>
    if (  head == null) {
        System.out.print("<");
        System.out.print(">");
    }
    else{
    LinkInt temp = head;
    System.out.print("<");
    while ( temp != null) {
        if ( temp == curr){
                System.out.print( "|" + temp.elem + ","); }
        else{
        System.out.print( temp.elem );
        System.out.print(",");}
        temp = temp.next;
    }
    System.out.print(">");
    }
} 
```

}

继承人的问题：

假设附加 3 ->>> 我得到 <|3> 但如果我在 ->>>> 之后附加 5 我得到 <|5> 删除我的第一个项目。

请帮帮我:(

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T04:37:45.007

在这些声明之后：

```
while ( temp.next != null)
{
    temp = temp.next;
} 
```

做这个：

```
tmp1= new LinkInt();
tmp1.elem = item;
tmp1.next = null

tmp.next = tmp1 
```

而不是这个：

```
temp.elem = item; 
```

试试这个打印方法：

```
public void print () 
{
    //outprint the array 
    //ie. <1, 2, |3, 4>
    if (  head == null) 
    {
        System.out.print("<");
        System.out.print(">");
    }
    else
    {
        LinkInt temp = head;
        System.out.print("<");
        while ( temp->next != null) 
        {
            System.out.print( "|" + temp.elem + ","); 
            temp = temp.next;
        }
        System.out.print("|" + temp.elem);}
        System.out.print(">");
    }

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T04:40:34.583

```
LinkInt temp = head;
while ( temp.next != null){
    temp = temp.next;
}
temp.elem = item; 
```

这样做是 -`temp.next is null`何时`3`已插入。因此，它会`temp.elem = item`覆盖并覆盖您现有的值。做这样的事情： -

```
LinkInt temp = head;
while ( temp.next != null){
    temp = temp.next;
}
//temp.elem = item; -Not needed.

temp1= new LinkInt();
temp1.elem = item;
temp1.next = null;
temp.next = temp1; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-01T04:41:00.030

有这种方法

```
public void append(int item)  
{  
    LinkInt l = new LinkInt();  
    l.elem = item;  
    if ( head == null )  
        head = l;  
    else {  
        LinkInt tmp = head;  
        while ( tmp.next != null)  
            tmp = tmp.next;  
        tmp.next = l;  
} 
```

# android - 赋予任务优先级android

> ID：15150539
> 
> 赞同：3
> 
> 时间：2013-03-01T04:33:25.510
> 
> 标签：android, scroll, ticker, thread-priority

我有一个 android 应用程序，其中有一些通过 javascript 实现并加载到 web 视图中的滚动文本代码。它工作正常，但每当处理器忙时（就像我的应用程序中有许多计时器用于更新、幻灯片放映、相机图像处理等），自动收报机会停止片刻然后恢复。

我可以给 Web 视图更高的优先级，使其操作不受其他进程的阻碍吗？

# silverlight - Windows Phone 7 Scoll to Grid 的第一个元素

> ID：15150544
> 
> 赞同：0
> 
> 时间：2013-03-01T04:33:35.873
> 
> 标签：silverlight, windows-phone-7, grid

在我的 WP7 应用程序中，我在页面末尾有寻呼机，因此人们可以导航上一个和下一个。

当我调用第二页时，Grid 加载新项目很好，但它停留在用户离开滚动位置的任何地方。

当我使用 ListBox 元素时，我是这样实现的；

```
 ListBox1.UpdateLayout();
        ListBox1.ScrollIntoView(ListBoxEntries.Items[0]); 
```

但 Grid 对象不包含 ScrollIntoView 功能。这个问题有什么解决方法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T07:05:27.493

您可以像这样以编程方式更改 ScrollViewer 的滚动偏移量：

```
ScrollViewer scroll = myScrollViewer;
Double verticalOffset = 0; //0 for top, otherwise some calculated value.
scroll.ScrollToVerticalOffset(verticalOffset); 
```

# mongodb - Spring数据MongoDB多数据库

> ID：15150553
> 
> 赞同：0
> 
> 时间：2013-03-01T04:34:36.900
> 
> 标签：mongodb, spring-data, spring-data-mongodb

我想知道 MongoDB 的 spring 数据是否可以处理多个数据库并执行跨数据库查询和插入。

例如，如果我想存储`EntityA`在 DB`dbA`和`EntityB`in 中`dbB` 并且`EntityA`有一个引用`EntityB`，Spring Data 会生成正确的`DBRef`指向正确的集合和正确的数据库吗？

然后我可以查询`EntityA`然后最终延迟获取`EntityB`吗？

**Morphia**缺乏这个功能以及其他东西，我想知道 Spring 数据在大跳水和放弃 Morphia 之前是否有它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-03T12:26:24.497

`DbRef`注释具有一个属性，`db`因此您可以定义将存储引用的数据库。因此假设模型如下：

```
class EntityA {
  @DbRef(db = "dbB") EntityB entityB;
}

class EntityB { … }

interface ARepository extends Repository<EntityA, Long> { … }
interface BRepository extends Repository<EntityB, Long> { … } 
```

您的客户端代码应如下所示：

```
EntityB b = new EntityB(…);
EntityA a = new EntityA(…);
a.setB(b);

// store A manually first   
aRepository.save(a);
bRepository.save(b); 
```

# d3.js - 如何创建自定义过渡？

> ID：15150554
> 
> 赞同：0
> 
> 时间：2013-03-01T04:34:52.263
> 
> 标签：d3.js

提出问题的一种方法可能是：我如何重构[这个示例](http://livecoding.io/5062432)以使其符合 d3 约定？（下面也包含代码）

也就是说，而不是像我那样写：

```
rotateTransition(line1, 90) 
```

我宁愿写这样的东西：

```
line1.transition().attr("rotation-around-origin", 90) 
```

所以问题是：用我的例子中的自定义转换来扩展 d3 的转换的正确方法是什么？或者：我将如何处理猴子修补“线”选择对象？

奖励问题：在第 6-16 行中，我创建了 2 个具有完全相同初始化的“行”选择。是否有 d3 方法可以根据另一个选择复制选择？就像是：`line2 = line1.dup()`

上面链接的示例源代码：

```
var centerX = centerY = 50
var radius = 200

var svg = d3.select("svg").attr("width", 600).attr("height",600)

var line1 = svg.append("line")
  .attr("x1", centerX)
  .attr("y1", centerY)
  .attr("x2", centerX + radius)
  .attr("y2", centerY);

var line2 = svg.append("line")
  .attr("x1", centerX)
  .attr("y1", centerY)
  .attr("x2", centerX + radius)
  .attr("y2", centerY);

line1.attr("transform", "translate(100,100) rotate(45 50 50)");

function rotateTransition(line, degrees) {

  var rotationString = function(angle, x1, x2) { return "rotate("+angle+" "+x1+" "+x2+")" };
  var retInterpolator, startAngle = 0, endAngle = degrees;
  var transformStart = line.attr("transform") ? line.attr("transform") : "";
  var curRotation = transformStart.match(/rotate\((\d+) /)

  if (curRotation)
    endAngle = parseInt(curRotation.pop()) + degrees;
  else
    transformStart += rotationString(0,line.attr("x1"),line.attr("y1"));

  var transformEnd = transformStart.replace(/(.*rotate\()(\d+)( .*)/,"$1"+endAngle+"$3")
      console.log(transformStart);
  console.log(transformEnd);
  line.transition()
  .duration(2000)
  .attrTween("transform", function() {
    return d3.interpolateString(transformStart, transformEnd);
  })
}

rotateTransition(line1, 90)
rotateTransition(line2, 45) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T20:11:23.790

对于您的两个问题，[请在此处](https://github.com/mbostock/d3/wiki/Selections#wiki-call)查看 d3 的`selection.call()`方法。

在线路旋转的情况下，你甚至不必改变`rotateTransition`' 身体。您将像这样使用它：

```
line1.call(rotateTransition, 90) 
```

真正唯一的区别是这种方法允许您链接函数调用。

如果您想深入挖掘，对于普通教育，请查看 d3 源代码以了解如何`d3.svg.axis()`实现，因为此`call()`方法在将轴应用于 d3 选择时结合使用。

# php - 在 javascript 中获取 twitter-api url 查询

> ID：15150555
> 
> 赞同：0
> 
> 时间：2013-03-01T04:34:52.397
> 
> 标签：php, javascript, html, twitter

我正在建立一个网站，页面中有一个区域显示某个用户的推文。

我设法找到了使用 Twitter API 查询方法发布给某个用户的最新推文。但是我必须将列表放入我的 JavaScript 代码中的变量中，以便我可以动态地发布到我的网站中。有什么方法可以这样做吗？

如果这个问题很愚蠢，我很抱歉，因为我是 JavaScript 的新手。

```
https://api.twitter.com/1/statuses/user_timeline.json?include_entities=true&include_rts=true&screen_name=twitter_user&count=50 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T04:39:48.907

你可以使用[jQuery](http://jquery.com)

[http://api.jquery.com/jQuery.ajax/](http://api.jquery.com/jQuery.ajax/)

```
var twitter_api = "https://api.twitter.com/1/statuses/user_timeline.json?include_entities=true&include_rts=true&screen_name=twitter_user&count=50";

$.ajax({
   url: twitter_api,
   dataType: 'jsonp',
   success: function(response){
     //here you do whatever you want with the response variable
   }
}); 
```

# php - 我目前正在尝试使用 Prepared Statements 创建注册页面，但在 ->prepare 上失败

> ID：15150558
> 
> 赞同：0
> 
> 时间：2013-03-01T04:35:09.150
> 
> 标签：php, web

我目前正在尝试使用 Prepared Statements 创建注册页面，但在 ->prepare 上失败

我一直在 else 语句结束`Something Went Wrong`，我只是不知道出了什么问题，也是出于某种原因，因为从 mysqli_query 到这些准备好的语句，似乎没有错误被回显（通常我会得到一个白页上面有一些 mysql 错误，但现在什么也没有，这是一个`php.ini`问题吗？有人能告诉我我的代码对注入有多“安全”吗？谢谢。

更新1：

在 ->prepare 上添加了右括号，现在我收到此错误

`[Thu Feb 28 21:40:00 2013] [error] [client 68.150.102.145] PHP Fatal error: Cannot pass parameter 6 by reference in /var/www/busapp/register.php on line 25`

```
<?php
if (isset($_POST['submit'])) {

    $email = $_POST['inputEmail'];
    $firstname = $_POST['inputFirstName'];
    $lastname = $_POST['inputLastName'];
    $originalpassword = SHA1($_POST['inputOriginalPassword']);
    $confirmpassword = SHA1($_POST['inputConfirmPassword']);
    $createdip = $_SERVER['REMOTE_ADDR'];

    require_once('connectdb.php');

    /* Connect to the database */

    $mysqli = new mysqli(DB_HOST, DB_USER, DB_PASS, DB_BASE);
    if (mysqli_connect_errno()) {
        printf("Connect failed: %s\n", mysqli_connect_error());
        exit();
    }

    if ($stmt = $mysqli->prepare("INSERT INTO Users (Firstname, Lastname, Email, Password, Admin, Activated, CreatedIP, Datecreated)
                                 values(?, ?, ?, ?, ?, ?, ?, ?")) {
        /* Bind our params */

        $stmt->bind_param('ssssiiss', $firstname, $lastname, $email, $originalpassword, 0, 0, $createdip, NOW());

        /* Execute statement */

            $stmt -> execute();
            $alert = '<p class="alert-success">Account created, check your email for an activation link.</p>';

            $mysqli -> close();
            $stmt -> close();
    } else {
            $alert = '<p class="alert-error"> Something went wrong </p>';
            $mysqli -> close();
    }
}
require_once('navbar.php');
?>
<div class="container" style="padding-top: 35px; padding-bottom: 50px;">
<form class="form-signin" method="post" action="<?php echo $_SERVER['PHP_SELF']?>">
    <h2 class="form-signin-heading">Please Register</h2>
    <input type="text" class="input-block-level" placeholder="Email Address" name="inputEmail">
    <input type="text" class="input-block-level" placeholder="First Name" name="inputFirstName">
    <input type="text" class="input-block-level" placeholder="Last Name" name="inputLastName">
    <input type="password" class="input-block-level" placeholder="Password" name="inputOriginalPassword">
    <input type="password" class="input-block-level" placeholder="Confirm Password" name="inputConfirmPassword">
    <?php echo $alert; ?>
    <button type="submit" name="submit" class="btn btn-info">Register</button>
</form>
</div>

<?php require_once('footer.php'); ?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T04:37:19.973

使用下面的代码，您的查询是错误的。

```
if ($stmt = $mysqli->prepare("INSERT INTO Users (Firstname, Lastname, Email, Password, Admin, Activated, CreatedIP, Datecreated)
                             values(?, ?, ?, ?, ?, ?, ?, ?)"))
                                                          ^ // you forgot ) here 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T04:52:04.373

试试这个：

```
if ($stmt = $mysqli->prepare("INSERT INTO Users (Firstname, Lastname, Email, Password, Admin, Activated, CreatedIP, Datecreated)
                                 values(?, ?, ?, ?, 0, 0, ?, NOW())")) {
    /* Bind our params */
    $stmt->bind_param('sssss', $firstname, $lastname, $email, $originalpassword, $createdip); 
```

//剩下的代码

除了左括号外，您不需要绑定`NOW()`两个 const 值`0`。

# python - 如何在 Python 中进行二维 (x,y) 索引？

> ID：15150563
> 
> 赞同：3
> 
> 时间：2013-03-01T04:35:54.713
> 
> 标签：python, multidimensional-array, indexing

一般来说，如果你有一个二维数据结构，它是两个容器的组合——一个列表列表，或者一个字典字典。如果您想制作一个集合但要在两个维度上工作怎么办？

代替：

```
collection[y][x] 
```

做：

```
collection[x,y] 
```

我知道这是可能的，因为该[`PIL` `Image.load`函数](http://www.pythonware.com/library/pil/handbook/image.htm)返回一个以这种方式工作的对象。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-01T04:35:54.713

关键是要了解 Python 如何进行索引 -`__getitem__`当您尝试使用方括号对其进行索引时，它会调用对象的方法`[]`。感谢这个答案为我指明了正确的方向：[创建一个可以用方括号访问的python对象](https://stackoverflow.com/questions/7942669/create-a-python-object-that-can-be-accessed-with-square-brackets)

当您在方括号中使用一对索引时，将`__getitem__`使用参数的元组调用该方法`key`。

这是一个简单的演示类，当给定二维索引时，它只是将整数索引返回到一维列表中。

```
class xy(object):

    def __init__(self, width):
        self._width = width

    def __getitem__(self, key):
        return key[1] * self._width + key[0]

>>> test = xy(100)
>>> test[1, 2]
201
>>> test[22, 33]
3322 
```

当分配给方括号中的索引时，还会使用一种伴随`__setitem__`方法。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-01T04:53:00.553

使用[numpy](http://www.numpy.org/)数组。

如果你有一个普通的 Python 数组，你可以把它变成一个 numpy 数组并像你描述的那样访问它的元素：

```
a = [[1,2,3],[4,5,6],[7,8,9]]
A = numpy.array(a)
print A[1,1] 
```

将打印：

```
5 
```

另一个例子：

```
A = numpy.zeros((3, 3))
for i in range(3):
    for j in range(3):
        A[i,j] = i*j
print A 
```

会给你：

```
[[ 0\.  0\.  0.]
 [ 0\.  1\.  2.]
 [ 0\.  2\.  4.]] 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-01T06:44:15.520

我[在 python 邮件列表中找到了这个食谱](http://www.gossamer-threads.com/lists/python/dev/767627)。有了它，您可以使用索引迭代器访问容器的元素。如果您需要使用`container[index_1, index_2]`符号，可以使用 Mark 帖子中概述的方法轻松调整。

```
>>> from operator import getitem
>>> from functools import reduce
>>> l = [1,[2,[3,4]]]
>>> print(reduce(getitem, [1,1,1], l))
 4 
```

这是我适应`container[index_1, index_2]`符号的python邮件列表中建议的另一种方法。

```
class FlatIndex(object):
  def __init__(self, l):
    self.l = l
  def __getitem__(self, key):
    def nested(l, indexes):
      if len(indexes) == 1:
        return l[indexes[0]]
      else:
        return nested(l[indexes[0]], indexes[1:])
    return nested(self.l, key)

>>> l = [1,[2,[3,4,[5,6]]]] 
>>> a = FlatIndex(l)
>>> print(a[1,1,2,1])
 6 
```

# python - 切片：生成列表列表 [a,b,c,...z] = [z], [y,z]

> ID：15150566
> 
> 赞同：2
> 
> 时间：2013-03-01T04:36:13.637
> 
> 标签：python, slice

大家晚上好，我想知道有没有一种更快的方法来生成以下形式的列表？

```
[a,b,c,…,z] → [[z], [y,z], [x,y,z], … , [a,b,…,y,z]] 
```

我知道切片是最好的方法之一，但没有更快的方法吗？

这是我所拥有的：

```
import string

a = ['a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r',
     's','t','u','v','w','x','y','z']

print (a, "\n",a[:24:-1], "\n",a[24:], a[23:] , a[22:], 
       a[21:], a[20:], a[19:], a[18:]) 
```

我的答案：

```
['z'] 
['y', 'z'] 
['x', 'y', 'z'] 
['w', 'x', 'y', 'z']
['v', 'w', 'x', 'y', 'z'] 
['u', 'v', 'w', 'x', 'y', 'z'] 
['t', 'u', 'v', 'w', 'x', 'y', 'z'] 
['s', 't', 'u', 'v', 'w', 'x', 'y', 'z'] 
```

没有错误

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-01T04:41:35.257

就像是：

```
>>> from string import ascii_lowercase
>>> lower = list(ascii_lowercase)
>>> for i in range(1, len(lower) + 1):
    print lower[-i:]

['z']
['y', 'z']
['x', 'y', 'z']
['w', 'x', 'y', 'z']
['v', 'w', 'x', 'y', 'z']
... 
```

或者（避免使用`range`and `len`）：

```
for test in (lower[-i:] for i, j in enumerate(lower, start=1)):
    print test 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-01T04:40:18.420

是的，可能你正在寻找

```
>>> from string import ascii_lowercase
>>> import pprint
>>> from pprint import PrettyPrinter
>>> pp = PrettyPrinter(indent = 4,width = 255)
>>> pp.pprint([some_list[-i:] for i in range(1, len(ascii_lowercase) + 1)])
[   ['z'],
    ['y', 'z'],
    ['x', 'y', 'z'],
    ['w', 'x', 'y', 'z'],
    ['v', 'w', 'x', 'y', 'z'],
    ['u', 'v', 'w', 'x', 'y', 'z'],
    ['t', 'u', 'v', 'w', 'x', 'y', 'z'],
    ['s', 't', 'u', 'v', 'w', 'x', 'y', 'z'],
    ['r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z'], 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-01T04:40:42.337

检查这个

```
In[9] : [st[-i:] for i in range(1, len(st)+1)]
Out[9]: [['z'],
['y', 'z'],
['x', 'y', 'z'],
['w', 'x', 'y', 'z'],
['v', 'w', 'x', 'y', 'z'],
['u', 'v', 'w', 'x', 'y', 'z'],
['t', 'u', 'v', 'w', 'x', 'y', 'z'],
['s', 't', 'u', 'v', 'w', 'x', 'y', 'z'],
['r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z'],
['q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z'],
['p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z'],
['o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z'],
['n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z'],
['m', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z'],
['l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z'], .... 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-01T04:49:28.387

`string.ascii_lowercase`返回小写字母“abcdefghijklmnopqrstuvwxyz”。此值不依赖于语言环境，也不会更改。这比写出每个字母要容易:)

```
import string

alphabet = string.ascii_lowercase
for i in range(1, len(alphabet) + 1):
    print list(alphabet[-i:]) 
```

# javascript - 带有 HighCharts 和 Leaflet 的容器 .fadeIn/Out

> ID：15150568
> 
> 赞同：2
> 
> 时间：2013-03-01T04:36:27.697
> 
> 标签：javascript, jquery, css, highcharts, leaflet

所以我有 2 个包装器，一个有一个高图，另一个有一个传单地图。我使用按钮来切换 div 的进出。图表 div 工作正常，但地图一个我必须单击按钮两次才能呈现。我试着放一个`setTimer()`看看是否有助于过渡，但没有。我有一个小提琴，它说明了我想要做什么，但是[这里](http://jsfiddle.net/QBYPH/1/)的地图有问题。我的问题是为什么它不会立即渲染？我该怎么做才能让它立即渲染？谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T04:46:16.257

您正在渲染`chart`in`container`和 the`container`两者`map`，`chart`因此在渲染`chart`您的`map div`移除后`container`，它会产生问题。

**注意：**你已经给`container id`了`div`两次

替换你的**HTML**

```
<div id="maincontainer">
    <div id="chart-wrapper" style="display:block; overflow: auto;">
        <div id="container" style="min-width: 400px; height: 400px; margin: 0 auto;"></div>
    </div>
  <div id="map-wrapper" style="overflow: auto; display: none;">
        <div id="map-container" style="height: 400px; "></div>
    </div>
</div>

<button id="toggle-btn">Map</button>
<button id="run-btn">run</button> 
```

小提琴[http://jsfiddle.net/QBYPH/2/](http://jsfiddle.net/QBYPH/2/)

# c# - BITS 无法使用其他 URL 下载

> ID：15150570
> 
> 赞同：1
> 
> 时间：2013-03-01T04:36:35.837
> 
> 标签：c#, background, transfer, microsoft-bits

我编写了一个控制台程序来通过 BITS（后台智能传输服务）下载文件，并且可以很好地使用如下 url 格式。

**[http://aaa.com/storage/file999.zip](http://aaa.com/storage/file999.zip)**

但是，出于安全原因，最近文件提供商将下载 URL 更改为如下。虽然普通用户可以通过IE手动下载，但我的程序不能再通过这种链接下载文件了。

**[http://aaa.com/?key=8e3f1d258c3ca1106a681e14cad0aac&filename=file999&user=kkman&type=Y](http://aaa.com/?key=8e3f1d258c3ca1106a681e14cad0aac&filename=file999&user=kkman&type=Y)**

使用此类链接时，BITS 作业状态将为**JobState.TransientError 。**

我有 googld 但相关信息很少。任何出口都可以帮助我吗？

# java - IE9 意外重启

> ID：15150576
> 
> 赞同：1
> 
> 时间：2013-03-01T04:37:24.637
> 
> 标签：java, applet

我正在开发一个 Java 小程序并在 IE9 上遇到问题。In our design applet would be added and removed from the document when a particular tab is selected/deselected.

1）当标签被张紧时，小程序显示正常。在 java 控制台中，我看到以下消息：

```
basic: Added progress listener
 basic: Plugin2ClassLoader.addURL parent called for XXX

basic: Applet initialized
 basic: Starting applet

basic: Applet made visible
 basic: Applet started
 basic: Told clients applet is started 
```

2) 取消选择选项卡时：在 java 控制台中

```
basic: Starting applet teardown

basic: Finished applet teardown
 basic: Removed progress listener: 
```

紧接着是（不知道小程序又是谁，为什么又启动了）

```
basic: Added progress listener:

basic: Plugin2ClassLoader.addURL parent called for

basic: Applet loaded.

basic: Applet resized and added to parent container

basic: PERF: AppletExecutionRunnable - applet.init() BEGIN ; jvmLaunch dt 106964 us, pluginInit dt 45402059 us, TotalTime: 45509023 us

basic: Applet initialized

basic: Starting applet

basic: completed perf rollup 
```

当文档模式切换到 IE8 时，同样的小程序可以正常工作。此外，Firefox 也可以正常工作...

顺便说一句，我正在使用以下版本的 JRE

版本：7.0.150.3

任何想法为什么会意外重启小程序？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T17:24:56.103

（我还看到了您在同一问题上的 MSDN TechNet 论坛消息。）

我刚刚在一个做类似事情的项目中遇到了你的问题：我们正在从单页应用程序的 DOM 中注入和删除小程序，我们不能指望永远注入它们并消耗资源，而且事实证明这太困难了处理我们支持的浏览器的所有怪癖，以使小程序在选项卡中长时间（几天）保持活动状态。由于小程序生命周期的管理并没有真正强制执行，并且因浏览器而异，因此有些人会杀死它们，并且使用“短期”小程序被证明总体上“更安全”和“更简单”。

也就是说，除了 IE9 中的 2 个问题：

*   如果不强制 IE9 为每个小程序使用单独的 JVM，它会在尝试重新注入和重新执行小程序时在某些配置下崩溃。
*   在我怀疑是 2 月 12 日的[KB2792100](http://support.microsoft.com/kb/2792100)解决安全公告[MS13-009](http://technet.microsoft.com/en-gb/security/bulletin/MS13-009)的 Windows 更新之后，我们目前正在处理的那个。

请注意，我不完全确定是什么触发了 IE9 的行为，但我会怀疑在删除小程序时存在内部竞争条件（或者会假设删除它是错误的奇怪保护措施，除非它似乎并不总是打扰它）。

此外，对于我提到的这两个问题，我发现至少有一个工作站没有出现问题，但没有确定原因（硬件配置、win + ie 版本、java 插件版本......）。我所有同事的工作站和我们的测试服务器都会失败，除了我的机器（这让调试变得更加有趣）。

## 解决方法

我们解决它的方式并不令人满意，但我们现在就这样做了：我们有一个针对 IE9 的特殊情况。希望 IE10 没有错误，并且 IE8 甚至 IE9 在 IE8 模式下或如您在 MSDN 帖子中提到的 IE9 在不同的兼容模式下似乎不会触发问题。

所以对于好的 ol' IE9，我们所做的确实是使用更传统的长寿命小程序，并使用 JS 到 Java 通信来使其按需执行我们想要的操作，并且我们跳过了 DOM 删除部分......这意味着我们可能需要通知用户，如果 java 插件没有运行或 IE 决定终止小程序，他们可能偶尔需要刷新他们的选项卡或类似的东西。

希望下一次更新不会让情况变得更糟。

### 替代解决方法

我还发现了一些很奇怪的东西。通常，我们在完成后从 DOM 中删除小程序：在其任务*完成*后，它会触发 JS 回调，这反过来会从父级中删除小程序。而且，为了以防万一，我们还会在注入新的小程序之前删除任何现有的小程序，以防前一个小程序没有被正确删除。

现在这两个都失败了，因为几个星期。

但我注意到我可以注入小程序，然后启动一个重复的函数`setInterval()`并让它定期检查小程序，然后在看到小程序可用时立即删除它。奇怪的是，使用这种方法不会发生错误！

但是，我没有走这条路：

*   我真的不喜欢出于临时原因添加这种奇怪的计时器，并冒着永远不会被丢弃的风险，
*   恐怕小程序可能会在完成工作之前被删除并提前终止。似乎并非如此，但由于那种东西相当“未指定”，我宁愿不理会它。

### 您可以尝试的其他事情

您可以尝试使用`<object>`标签而不是`<applet>`标签。这实际上是为 IE 推荐的，但我们不能这样做，因为我们希望小程序在注入时自动启动，并且由于某种原因 IE8（我们支持的*所有*浏览器中唯一的一个）会拒绝自动启动小程序在页面加载后注入。因此，您可以检查它是否有效，如果有效并且您不需要 IE8，您可能是黄金（或者不是像上面这样的特殊情况，您可以为 IE8 和 IE9 使用不同的标签）。

但我还没有机会尝试（还）。

祝你好运。

# ios - 如何使用 AVMutableCompositionTrack 合并音频和视频

> ID：15150578
> 
> 赞同：3
> 
> 时间：2013-03-01T04:37:48.413
> 
> 标签：ios, ios4, avmutablecomposition

在我的应用程序中，我需要合并音频和视频，然后我需要在 Mediaplayer 中播放音频文件。如何在IOS中合并音频和视频。是否有任何源代码。请给我一些想法

提前致谢

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-03-02T01:09:40.607

用这个

```
AVURLAsset* audioAsset = [[AVURLAsset alloc]initWithURL:audioUrl options:nil];
AVURLAsset* videoAsset = [[AVURLAsset alloc]initWithURL:videoUrl options:nil];

AVMutableComposition* mixComposition = [AVMutableComposition composition];

AVMutableCompositionTrack *compositionCommentaryTrack = [mixComposition addMutableTrackWithMediaType:AVMediaTypeAudio 
                                                                                    preferredTrackID:kCMPersistentTrackID_Invalid];
[compositionCommentaryTrack insertTimeRange:CMTimeRangeMake(kCMTimeZero, audioAsset.duration) 
                                    ofTrack:[[audioAsset tracksWithMediaType:AVMediaTypeAudio] objectAtIndex:0] 
                                     atTime:kCMTimeZero error:nil];

AVMutableCompositionTrack *compositionVideoTrack = [mixComposition addMutableTrackWithMediaType:AVMediaTypeVideo 
                                                                                    preferredTrackID:kCMPersistentTrackID_Invalid];
[compositionVideoTrack insertTimeRange:CMTimeRangeMake(kCMTimeZero, videoAsset.duration) 
                               ofTrack:[[videoAsset tracksWithMediaType:AVMediaTypeVideo] objectAtIndex:0] 
                                atTime:kCMTimeZero error:nil];

AVAssetExportSession* _assetExport = [[AVAssetExportSession alloc] initWithAsset:mixComposition 
                                                                      presetName:AVAssetExportPresetHighestQuality];   

NSString* videoName = @"export.mov";

NSString *exportPath = [NSTemporaryDirectory() stringByAppendingPathComponent:videoName];
NSURL    *exportUrl = [NSURL fileURLWithPath:exportPath];

if ([[NSFileManager defaultManager] fileExistsAtPath:exportPath]) 
{
    [[NSFileManager defaultManager] removeItemAtPath:exportPath error:nil];
}

_assetExport.outputFileType = @"com.apple.quicktime-movie";
_assetExport.outputURL = exportUrl;
_assetExport.shouldOptimizeForNetworkUse = YES;

[_assetExport exportAsynchronouslyWithCompletionHandler:
 ^(void ) {      
            // your completion code here
     }       
 }
 ]; 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2015-04-17T14:20:01.897

您可以通过创建可变合成来合并视频。

```
AVMutableComposition* composition = [[AVMutableComposition alloc]init];
AVURLAsset* video1 = [[AVURLAsset alloc]initWithURL:[NSURL fileURLWithPath:path1]options:nil];

NSArray *pathComponents = [NSArray arrayWithObjects:
[NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES) lastObject],@"MyAudio.m4a",nil];

  NSURL *outputFileURL = [NSURL fileURLWithPathComponents:pathComponents];
AVAsset *audioAsset = [AVAsset assetWithURL:outputFileURL];

//Create mutable composition of audio type
 AVMutableCompositionTrack *audioTrack = [composition    addMutableTrackWithMediaType:AVMediaTypeAudio preferredTrackID:kCMPersistentTrackID_Invalid];

[audioTrack insertTimeRange:CMTimeRangeMake(kCMTimeZero,video1.duration)
ofTrack:[[audioAsset tracksWithMediaType:AVMediaTypeAudio] objectAtIndex:0] atTime:kCMTimeZero error:nil];

  AVMutableCompositionTrack* composedTrack = [composition addMutableTrackWithMediaType:AVMediaTypeVideo preferredTrackID:kCMPersistentTrackID_Invalid];

[composedTrack insertTimeRange:CMTimeRangeMake(kCMTimeZero, video1.duration)
ofTrack:[[video1 tracksWithMediaType:AVMediaTypeVideo] objectAtIndex:0]
atTime:kCMTimeZero error:nil];

AVAssetExportSession*exporter = [[AVAssetExportSession alloc]initWithAsset:composition presetName:AVAssetExportPresetHighestQuality];

[exporter exportAsynchronouslyWithCompletionHandler:^{
           case AVAssetExportSessionStatusFailed:
                 NSLog(@"Failed to export video");
                 break;
           case AVAssetExportSessionStatusCancelled:
                 NSLog(@"export cancelled");
                 break;

} 
```

对于视频合并，请访问本教程。[http://iosbucket.blogspot.in/2015/04/mp4-conversion-and-video-merging-in-ios.html](http://iosbucket.blogspot.in/2015/04/mp4-conversion-and-video-merging-in-ios.html)

您还可以找到用于合并视频的示例项目。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-11-01T11:25:50.837

[http://www.raywenderlich.com/13418/how-to-play-record-edit-videos-in-ios](http://www.raywenderlich.com/13418/how-to-play-record-edit-videos-in-ios)访问本教程以合并音频和视频文件

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2020-12-17T10:11:12.923

回答有点晚了，但它可以帮助将来的人。如果视频持续时间大于音频，则重复音频。

```
+ (void)mergeVideoWithAudio:(NSURL *)videoUrl audioUrl:(NSURL *)audioUrl success:(void (^)(NSURL *url))success failure:(void (^)(NSError *error))failure {
    AVMutableComposition *mixComposition = [AVMutableComposition new];
    NSMutableArray<AVMutableCompositionTrack *> *mutableCompositionVideoTrack = [NSMutableArray new];
    NSMutableArray<AVMutableCompositionTrack *> *mutableCompositionAudioTrack = [NSMutableArray new];
    AVMutableVideoCompositionInstruction *totalVideoCompositionInstruction = [AVMutableVideoCompositionInstruction new];

    AVAsset *aVideoAsset = [AVAsset assetWithURL:videoUrl];
    AVAsset *aAudioAsset = [AVAsset assetWithURL:audioUrl];

    AVMutableCompositionTrack *videoTrack = [mixComposition addMutableTrackWithMediaType:AVMediaTypeVideo preferredTrackID:kCMPersistentTrackID_Invalid];
    AVMutableCompositionTrack *audioTrack = [mixComposition addMutableTrackWithMediaType:AVMediaTypeAudio preferredTrackID:kCMPersistentTrackID_Invalid];
    if (videoTrack && audioTrack) {
        [mutableCompositionVideoTrack addObject:videoTrack];
        [mutableCompositionAudioTrack addObject:audioTrack];

        AVAssetTrack *aVideoAssetTrack = [aVideoAsset tracksWithMediaType:AVMediaTypeVideo].firstObject;
        AVAssetTrack *aAudioAssetTrack = [aAudioAsset tracksWithMediaType:AVMediaTypeAudio].firstObject;

        if (aVideoAssetTrack && aAudioAssetTrack) {
            [mutableCompositionVideoTrack.firstObject insertTimeRange:CMTimeRangeMake(kCMTimeZero, aVideoAssetTrack.timeRange.duration) ofTrack:aVideoAssetTrack atTime:kCMTimeZero error:nil];

            CMTime videoDuration = aVideoAsset.duration;
            if (CMTimeCompare(videoDuration, aAudioAsset.duration) == -1) {
                [mutableCompositionAudioTrack.firstObject insertTimeRange:CMTimeRangeMake(kCMTimeZero, aVideoAssetTrack.timeRange.duration) ofTrack:aAudioAssetTrack atTime:kCMTimeZero error:nil];
            } else if (CMTimeCompare(videoDuration, aAudioAsset.duration) == 1) {
                CMTime currentDuration = kCMTimeZero;
                while (CMTimeCompare(currentDuration, videoDuration) == -1) {
                    // repeats audio
                    CMTime restTime = CMTimeSubtract(videoDuration, currentDuration);
                    CMTime maxTime = CMTimeMinimum(aAudioAsset.duration, restTime);
                    [mutableCompositionAudioTrack.firstObject insertTimeRange:CMTimeRangeMake(kCMTimeZero, maxTime) ofTrack:aAudioAssetTrack atTime:currentDuration error:nil];
                    currentDuration = CMTimeAdd(currentDuration, aAudioAsset.duration);
                }
            }
            videoTrack.preferredTransform = aVideoAssetTrack.preferredTransform;
            totalVideoCompositionInstruction.timeRange = CMTimeRangeMake(kCMTimeZero, aVideoAssetTrack.timeRange.duration);
        }
    }

    NSString *outputPath = [NSHomeDirectory() stringByAppendingPathComponent:@"tmp/screenCapture.mp4"];
    if ([[NSFileManager defaultManager] fileExistsAtPath:outputPath]) {
        [[NSFileManager defaultManager] removeItemAtPath:outputPath error:nil];
    }
    NSURL *outputURL = [NSURL fileURLWithPath:outputPath];

    AVAssetExportSession *exportSession = [[AVAssetExportSession alloc] initWithAsset:mixComposition presetName:AVAssetExportPresetHighestQuality];
    exportSession.outputURL = outputURL;
    exportSession.outputFileType = AVFileTypeMPEG4;
    exportSession.shouldOptimizeForNetworkUse = YES;

    // try to export the file and handle the status cases
    [exportSession exportAsynchronouslyWithCompletionHandler:^{
        switch (exportSession.status) {
            case AVAssetExportSessionStatusFailed:
                failure(exportSession.error);
                break;
            case AVAssetExportSessionStatusCancelled:
                failure(exportSession.error);
                break;
            default:
                success(outputURL);
                break;
        }
    }];
} 
```

# jquery - jquery navbar上两个菜单链接的区别

> ID：15150579
> 
> 赞同：0
> 
> 时间：2013-03-01T04:37:52.637
> 
> 标签：jquery, jquery-ui, jquery-mobile

我正在尝试使用 jquery mobile 创建一个简单的导航栏，但在桌面上看起来很奇怪。

![http://imgur.com/7BIgUQx](../Images/df72a6f74f59f7842c9508dbda0e8e2c.png)

当我跳转到起始页“./overview”时，整个菜单变大了，并且有一条奇怪的线将其抛出。如果我单击第二个菜单项，菜单会变小并且看起来正确。我去看看是否可以在 Firefox 中重现它，并注意到它不是概览页面所独有的。如果我在域之后键入“./stats”，它会进入统计页面，并且菜单会再次以不同的方式呈现。回到概览页面，菜单看起来很正常。所以似乎正在发生的事情是菜单看起来只有在我在 url 栏中输入的页面上是错误的。如果我切换到其他页面，则 url 会在栏中更新，但看起来不错。用菜单切换回来，菜单又变大了，那条线扔了它。

我查看了这两个页面的来源，它们看起来相同，所以我不知道还要检查什么。

**概述**

```
<html>
  <header>
    <title>Overview</title>
    <link rel="stylesheet" href="http://code.jquery.com/mobile/1.3.0/jquery.mobile-1.3.0.min.css" />
    <script src="http://code.jquery.com/jquery-1.8.2.min.js"></script>
    <script src="http://code.jquery.com/mobile/1.3.0/jquery.mobile-1.3.0.min.js"></script>
  </header>
  <body>
    <h1>Overview</h1>
    <h3></h3>

    <div data-role="header" data-id="foo1" data-position="fixed">
      <div data-role="navbar">
    <ul>
      <li><a href="/10/overview" class="ui-btn-active ui-state-persist">Overview</a></li>
      <li><a href="/10/stats">Status</a></li>
    </ul>
      </div><!-- /navbar -->
    </div><!-- /footer -->
  </body>
</html> 
```

**统计数据**

```
<html>
  <header>
    <title>Stats</title>
    <link rel="stylesheet" href="http://code.jquery.com/mobile/1.3.0/jquery.mobile-1.3.0.min.css" />
    <script src="http://code.jquery.com/jquery-1.8.2.min.js"></script>
    <script src="http://code.jquery.com/mobile/1.3.0/jquery.mobile-1.3.0.min.js"></script>
  </header>
  <body>
    <h1>Stats</h1>
    <h3></h3>

    <div data-role="header" data-id="foo1" data-position="fixed">
      <div data-role="navbar">
    <ul>
      <li><a href="/10/overview">Overview</a></li>
      <li><a href="/10/stats" class="ui-btn-active ui-state-persist">Stats</a></li>
    </ul>
      </div>
    </div>
  </body>
</html> 
```

有谁知道是什么导致这个菜单扩大？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T05:26:24.137

在两个页面的 head 标签之间包含以下标签：

```
<title>Stats</title>
    <link rel="stylesheet" href="http://code.jquery.com/mobile/1.3.0/jquery.mobile-1.3.0.min.css" />
    <script src="http://code.jquery.com/jquery-1.8.2.min.js"></script>
    <script src="http://code.jquery.com/mobile/1.3.0/jquery.mobile-1.3.0.min.js"></script> 
```

# c++ - 预分配 unordered_map 的线程安全

> ID：15150580
> 
> 赞同：1
> 
> 时间：2013-03-01T04:37:54.780
> 
> 标签：c++, multithreading, unordered-map

如果您确切知道无序映射将包含的最大元素数量，并且您预先分配了确切数量的存储桶。

**该容器（不是存储在容器中的对象）上的哪些操作是线程安全的？**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T05:22:07.913

从您的问题来看，您似乎并没有完全理解散列图又名 unordered_map 的工作原理。您可以阅读[wiki 上的这篇文章](http://en.wikipedia.org/wiki/Hash_table)以更好地理解它。因此，如果您并不意味着您拥有[最小的完美哈希函数](http://en.wikipedia.org/wiki/Perfect_hash_function#Minimal_perfect_hash_function)，那么将桶的数量设置为与预期的元素数量完全相同会使事情变得更糟。如果您确实希望有最小的完美散列函数，这是一个非常特殊的情况，您应该提到这个问题，并且可能您将如何实现这一点。

无论如何，我怀疑您是否会在 unordered_map 的操作上获得任何正式的线程安全保证，即使您会提供最小的完美哈希函数。

# excel - 如何在Excel中打开spss数据文件？

> ID：15150586
> 
> 赞同：29
> 
> 时间：2013-03-01T04:38:26.290
> 
> 标签：excel, spss

我想`.sav`在 Excel 中打开 spss 数据文件而不打开 spss 文件（我不想将 spss 数据文件转换为 Excel 文件）。我知道这可以使用 OLDB 连接，但我不知道该怎么做。

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2015-03-08T23:22:36.757

我在线将 sav 转换为 csv：http: [//pspp.benpfaff.org/](http://pspp.benpfaff.org/)

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2015-08-26T08:20:46.350

（不完全是你的答案，因为你想避免打开文件，但也许这对其他人有帮助）。

我一直在使用开源 GNU PSPP 包将 sav 磁贴转换为 csv。您至少可以从 SourceForge [1] 下载 Windows 版本。拥有该软件后，您可以使用以下命令行将 sav 文件转换为 csv：

```
pspp-convert <input.sav> <output.csv> 
```

[1] [http://sourceforge.net/projects/pspp4windows/files/?source=navbar](http://sourceforge.net/projects/pspp4windows/files/?source=navbar)

* * *

## 回答 #3

> 赞同：12
> 
> 时间：2014-01-31T22:35:46.437

要下载该驱动程序，您必须拥有 SPSS 的许可证。对于那些不知道的人，有一个非常类似于 SPSS 的开源工具，它允许您导入 SAV 文件并将它们导出为 CSV。

这[是软件](http://www.gnu.org/software/pspp/)

以下是[导出数据的步骤](http://lists.gnu.org/archive/html/pspp-users/2011-11/msg00033.html)。

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2015-04-24T17:10:28.273

我帮助开发 Colectica for Excel 插件，它可以在 Excel 中打开 SPSS 和 Stata 数据文件。这不需要 ODBC 配置；它读取文件，然后将数据和元数据插入到您的工作表中。

该插件可从 [http://www.colectica.com/software/colecticaforexcel下载](http://www.colectica.com/software/colecticaforexcel)

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2013-03-03T08:05:59.013

您可以通过 ODBC 来完成。这样做的步骤：

1.  安装[IBM SPSS Statistics 数据文件驱动程序](http://www-01.ibm.com/support/docview.wss?uid=swg21483499)。独立驱动程序就足够了。
2.  通过 ODBC 管理器创建 DNS。
3.  通过选择创建的 DNS，通过 ODBC 使用 Excel 中的数据导入器。

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2017-12-01T19:31:19.580

您可以使用我在[N'counter](http://secure.ncounter.de)开发的在线转换器。

这是在 Excel 中打开 SPSS 文件的最简单方法。

1) 您只需在[https://secure.ncounter.de/SpssConverter将文件上传到 SPSS converter](https://secure.ncounter.de/SpssConverter)

2) 选择一些选项

3) 转换后的 Excel 文件将被下载

我们的服务器上不会保留有关您文件内容的任何信息。文件传送到我们的服务器，在内存中转换，然后立即丢弃：我们不会随时查看您的数据！

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-03-14T04:00:56.927

我尝试了以下方法，效果很好，

安装维度数据模型和 OLE DB 访问

并在 excel 中按照以下步骤操作

**数据->获取外部数据->从其他来源->从数据连接向导->其他/高级-> SPSS MR DM-2 OLE DB提供程序->元数据类型为SPSS文件（SAV）->元数据位置中的SPSS数据文件->完成**

# android - 如何在Android中更改按钮单击选项卡？

> ID：15150587
> 
> 赞同：4
> 
> 时间：2013-03-01T04:38:27.033
> 
> 标签：android, android-fragments

FragmentPagerSupport 是一个 FragmentActivity 类，FragmentA 和 FragmentB 代表 2 个不同的选项卡。在第一个选项卡中，我有一个 EditText 和一个按钮。我的任务是单击按钮需要打开第二个选项卡并在第二个选项卡中显示 EditText 值。我也在使用 FragmentStatePagerAdapter。

以下代码正在构建 FragmentActivity 的 onCreate() 选项卡：

```
 for (int i = 0; i < mSectionsPagerAdapter.getCount(); i++) {
        actionBar.addTab(actionBar.newTab()
                .setText(mSectionsPagerAdapter.getPageTitle(i))
                .setTabListener(this));
    } 
```

我在 FragmentStatePagerAdapter 中的代码如下：

```
public Fragment getItem(int position) {
    Fragment fragment = null;
    Bundle args = new Bundle();         
    switch (position) {
    case 0:
        fragment = FragmentA();
        args.putInt(FragmentA.ARG_SECTION_NUMBER, position + 1);
        fragment.setArguments(args);
    break;
    case 1:
        fragment = new FragmentB();
        args.putInt(FragmentB.ARG_SECTION_NUMBER, position + 1);
        fragment.setArguments(args);
    break;
    }
return fragment;
} 
```

我在按钮单击时的 FragmentA 代码如下：

```
confirmButton.setOnClickListener(new View.OnClickListener() {
    public void onClick(View view) {

    }
} 
```

现在我卡在这里了。在这里找不到调用第二个选项卡并根据 tab1 EditText 值显示值的代码。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-03-01T04:42:18.287

假设您的 ViewPager 被命名为 mPager：

```
public void onClick(View view)
{
     mPager.setCurrentItem(1); // Change to page 1, i.e., FragmentB
} 
```

我建议详细阅读[此](http://developer.android.com/training/basics/fragments/communicating.html)培训页面。它涉及一些用于将信息从 Fragment 传递到 Fragment 的策略（通常通过让 Activity 实现一个 Fragment 然后可以调用的接口）。

这实际上取决于您希望片段的耦合程度。你当然可以使用类似的东西

```
((FragmentB)getActivity().getSupportFragmentManager().findFragmentByTag(
    "android:switcher:" + pager.getId() + ":1")).setExitText(text) 
```

将文本从 FragmentA 传递到 FragmentB，但这会将您的 Fragment 彼此紧密耦合，并与 Activity 包含的 ViewPager 紧密耦合。

我会建议

1.  使您的 Activity 实现一个包含单个方法的接口，例如 goToFragmentB(String exitText)
2.  在 FragmentA 的 onClick 中调用此方法
3.  有 goToFragmentB：
    *   在 FragmentB 中调用 setExitText （使用上面的 findFragmentByTag 使用每个[ViewPager 源](https://android.googlesource.com/platform/frameworks/support/+/refs/heads/master/v4/java/android/support/v4/view/ViewPager.java)的奇数标签）
    *   Set the pager to FragmentB

# java - Spring/JPA/Hibernate 可以使用简单的 JDBC 兼容驱动程序吗？

> ID：15150589
> 
> 赞同：6
> 
> 时间：2013-03-01T04:38:38.150
> 
> 标签：java, spring, hibernate, jdbc, entitymanager

我们有一个在服务器上使用 Spring 容器的应用程序，该容器使用 EJB3 实体和 Hibernate 将数据持久保存在 PostgreSQL 数据库中。

我想使用单独的 EntityManager 添加另一个到单独数据库的连接，但 DBMS (Trifox Vortex) 的供应商没有`DataSource`类型驱动程序。

Hibernate EntityManager 可以使用简单的 JDBC 兼容驱动程序来实现实体的 EJB3 JPA 持久性吗？

我是否需要为要连接的 DBMS 提供特定的 Hibernate 方言？

值得一提的是，这是我们当前在 Spring 中的 Entity Manager Factory 的 XML 定义：

```
 <bean id="entityManagerFactory" class="org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean">
    <property name="persistenceUnitName" value="UniWorks-EntityPersistenceUnit"/>
    <property name="dataSource" ref="dataSource"/>
    <property name="jpaDialect">
      <bean class="org.springframework.orm.jpa.vendor.HibernateJpaDialect"/>
    </property>
    <property name="jpaVendorAdapter">
      <bean class="org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter">
        <property name="showSql" value="${db.showsql}"/>
        <property name="generateDdl" value="${db.generate}"/>
        <property name="databasePlatform" value="org.hibernate.dialect.PostgreSQLDialect"/>
      </bean>
    </property>
    <property name="jpaProperties">
      <props>
        <prop key="hibernate.hbm2ddl.auto">${db.hbm2ddl}</prop>
      </props>
    </property>
  </bean> 
```

**更新/进展：** 21/3/13

在与供应商反复讨论之后，我设法让他们的 JDBC 驱动程序与一个简单的 Java 测试程序一起工作。

不幸的是，他们的 JDBC 驱动程序显然不足以让 Hibernate 获得足够的信息，因为 Spring 无法使用以下堆栈跟踪创建 EntityManagerFactory：

```
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in URL [bundle://222.0:0/META-INF/spring/cobol.xml]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: UniWorks-CobolPersistenceUnit] Unable to build EntityManagerFactory
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1455)[58:org.springframework.beans:3.1.1.RELEASE]
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)[58:org.springframework.beans:3.1.1.RELEASE]
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)[58:org.springframework.beans:3.1.1.RELEASE]
    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:294)[58:org.springframework.beans:3.1.1.RELEASE]
    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:225)[58:org.springframework.beans:3.1.1.RELEASE]
    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:291)[58:org.springframework.beans:3.1.1.RELEASE]
    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193)[58:org.springframework.beans:3.1.1.RELEASE]
    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:567)[58:org.springframework.beans:3.1.1.RELEASE]
    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:913)[59:org.springframework.context:3.1.1.RELEASE]
    at org.springframework.osgi.context.support.AbstractDelegatedExecutionApplicationContext.access$1600(AbstractDelegatedExecutionApplicationContext.java:69)[90:org.springframework.osgi.core:1.2.1]
    at org.springframework.osgi.context.support.AbstractDelegatedExecutionApplicationContext$4.run(AbstractDelegatedExecutionApplicationContext.java:355)[90:org.springframework.osgi.core:1.2.1]
    at org.springframework.osgi.util.internal.PrivilegedUtils.executeWithCustomTCCL(PrivilegedUtils.java:85)[90:org.springframework.osgi.core:1.2.1]
    at org.springframework.osgi.context.support.AbstractDelegatedExecutionApplicationContext.completeRefresh(AbstractDelegatedExecutionApplicationContext.java:320)[90:org.springframework.osgi.core:1.2.1]
    at org.springframework.osgi.extender.internal.dependencies.startup.DependencyWaiterApplicationContextExecutor$CompleteRefreshTask.run(DependencyWaiterApplicationContextExecutor.java:132)[91:org.springframework.osgi.extender:1.2.1]
    at java.lang.Thread.run(Thread.java:662)[:1.6.0_24]
Caused by: javax.persistence.PersistenceException: [PersistenceUnit: UniWorks-CobolPersistenceUnit] Unable to build EntityManagerFactory
    at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:677)[80:com.springsource.org.hibernate:3.3.2.GA]
    at org.hibernate.ejb.HibernatePersistence.createContainerEntityManagerFactory(HibernatePersistence.java:132)[80:com.springsource.org.hibernate:3.3.2.GA]
    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:268)[64:org.springframework.orm:3.1.1.RELEASE]
    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:310)[64:org.springframework.orm:3.1.1.RELEASE]
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1514)[58:org.springframework.beans:3.1.1.RELEASE]
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1452)[58:org.springframework.beans:3.1.1.RELEASE]
    ... 14 more
Caused by: org.hibernate.HibernateException: Unable to access java.sql.DatabaseMetaData to determine appropriate Dialect to use
    at org.hibernate.dialect.resolver.DialectFactory.determineDialect(DialectFactory.java:141)[80:com.springsource.org.hibernate:3.3.2.GA]
    at org.hibernate.dialect.resolver.DialectFactory.buildDialect(DialectFactory.java:97)[80:com.springsource.org.hibernate:3.3.2.GA]
    at org.hibernate.cfg.SettingsFactory.buildSettings(SettingsFactory.java:117)[80:com.springsource.org.hibernate:3.3.2.GA]
    at org.hibernate.cfg.Configuration.buildSettingsInternal(Configuration.java:2119)[80:com.springsource.org.hibernate:3.3.2.GA]
    at org.hibernate.cfg.Configuration.buildSettings(Configuration.java:2115)[80:com.springsource.org.hibernate:3.3.2.GA]
    at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1339)[80:com.springsource.org.hibernate:3.3.2.GA]
    at org.hibernate.cfg.AnnotationConfiguration.buildSessionFactory(AnnotationConfiguration.java:867)[80:com.springsource.org.hibernate:3.3.2.GA]
    at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:669)[80:com.springsource.org.hibernate:3.3.2.GA]
    ... 19 more
Caused by: java.sql.SQLException: getDatabaseMajorVersion: Not supported by VORTEXjdbc.
    at vortex.sql.vortexDbMetaData.getDatabaseMajorVersion(vortexDbMetaData.java:362)
    at org.hibernate.dialect.resolver.DialectFactory.determineDialect(DialectFactory.java:131)[80:com.springsource.org.hibernate:3.3.2.GA]
    ... 26 more 
```

所以看起来我可能不得不编写自己的方言子类。任何人都给我任何关于从哪里开始寻找或扩展现有子类的指示？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-11T14:38:23.670

这应该有效（SimpleDriverDataSource + org.springframework.orm.jpa.vendor.Database.DEFAULT）：

```
 <bean id="dataSource" class="org.springframework.jdbc.datasource.SimpleDriverDataSource">
        <property name="driverClass" value="org.h2.Driver"/> <!-- put your driver here -->
        <property name="url" value="jdbc:h2:mem:test"/> <!-- put your jdbc url here -->
        <property name="username" value="sa"/>
        <property name="password" value=""/>
    </bean>

            <bean id="entityManagerFactory" class="org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean">
        <property name="dataSource" ref="dataSource"/>
        <property name="persistenceUnitName" value="TestPersistenceUnit"/>
        <property name="jpaDialect">
            <bean class="org.springframework.orm.jpa.vendor.HibernateJpaDialect"/>
        </property>
        <property name="jpaVendorAdapter">
            <bean class="org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter">
                <property name="showSql" value="false"/>
                <property name="database" value="DEFAULT"/>
            </bean>
        </property>
    </bean> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-16T16:09:28.200

Hibernate 可以使用 DataSource 以外的连接池。所以你可以使用 c3p0 或 proxool 或 dbcp 甚至你自己的连接池。Hibernate 确实有一个内置的连接池，尽管它仅用于测试/原型设计；它只允许您传入驱动程序名称、url、用户名、密码，它会设置一些（非常）简单的池。

有几种不同的选择可以实现这一目标。首先，Hibernate 总是通过统一的合约来处理连接的获取和释放：`org.hibernate.engine.jdbc.connections.spi.ConnectionProvider`. 因此，一种选择是传入您自己的 ConnectionProvider 实现。

另一种选择是传入驱动程序、url、用户名、密码和要使用的 ConnectionProvider。对于驱动程序、url、用户名和密码，Hibernate 和 JPA 都定义了执行此操作的机制。对于 JPA ，您可以使用 persistence.xml 或设置`javax.persistence.jdbc.driver`、`javax.persistence.jdbc.url`和. 至于 ConnectionProvider，默认情况下，Hibernate 将选择不受支持、不用于生产的那个。但是要告诉 Hibernate 使用不同的设置，您将使用该设置。Hibernate 内置支持与 c3p0 和 proxool 集成作为后端连接池（Hibernate 将为您设置和管理 c3p0/proxool 池并使用该池进行连接管理）。`javax.persistence.jdbc.user``javax.persistence.jdbc.password``hibernate.connection.provider_class`

正如另一个答案指出的那样，另一种选择是在驱动程序和连接信息周围使用 DataSource 包装器。

抱歉，我不了解 Spring，所以我不知道所有特定于 Spring 的方法来指定 persistence.xml 或 JPA 设置或 Hibernate 设置。

# operating-system - 操作系统和元操作系统有什么区别

> ID：15150599
> 
> 赞同：6
> 
> 时间：2013-03-01T04:39:52.480
> 
> 标签：operating-system, ros

最近在学习 ros 时听到了*元操作系统这个词。*你能帮我区分*操作系统*和*元操作系统*吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-01T16:44:45.293

[本文](http://www.robotics.stanford.edu/~ang/papers/icraoss09-ROS.pdf)对 ROS 是什么和不是什么进行了最好的解释。

引用[ros.org](http://ros.org/wiki/ROS/Introduction)上的介绍：

> 它提供您期望从操作系统获得的服务，包括硬件抽象、低级设备控制、常用功能的实现、进程之间的消息传递和包管理。它还提供用于在多台计算机上获取、构建、编写和运行代码的工具和库。

您还可以在[这个 wiki 中找到一个很好的解释。](https://github.com/uscrs-art/uscrs-art/wiki/ROS-Tutorial-4.-ROS-Overview%3a-Nodes,-Messages-and-Services)基本区别在于元操作系统构建在操作系统之上，并允许不同的进程（节点）在运行时相互通信。

# sorting - 随机搜索的最坏情况是什么

> ID：15150600
> 
> 赞同：0
> 
> 时间：2013-03-01T04:39:53.250
> 
> 标签：sorting

随机搜索的最坏情况是什么？假设我有 N 个元素，然后搜索一个特定元素。

答案是无限的吗？这对我来说很有意义，因为我从来没有在最坏的情况下找到元素。

那么最好的情况只是1对吗？那么平均呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T04:55:45.393

您实际上是在做一个简单的随机样本。在从 N 个元素中选择 n 个样本后，选择任何给定元素的机会由下式给出：

```
P(n) = 1 - (1 - 1/N)^n 
```

维基百科关于[简单随机样本](http://en.wikipedia.org/wiki/Simple_random_sample)的文章。

# node.js - 将函数传递给其他原型

> ID：15150601
> 
> 赞同：0
> 
> 时间：2013-03-01T04:40:08.787
> 
> 标签：node.js, javascript-framework, javascript

我有以下代码

[http://jsfiddle.net/qhoc/SashU/1/](http://jsfiddle.net/qhoc/SashU/1/)

```
var Callback = function(op) {
    this.callback = op.callback;
}

var Test = function (op) {
  for (var option in op) {
    if (!this[option]) this[option] = op[option];
  }

}

Test.prototype.init = function(bb) {
    console.log('aa = ' + this.aa);
    console.log('bb = ' + bb);

    if (bb < 3) {
        this.init(bb + 1);
    } else {
        this.callback;
    }
}

var finalCallback = function() {
    console.log('this is finalCallback');
}

var myCallback = new Callback({
    callback: finalCallback
});

var myTest = new Test({
    aa: 1,
    callback: myCallback
});

myTest.init(1); 
```

**第 19 行**根本没有打印`'this is finalCallback'`，因为`this.callback;`已执行但它没有指向函数。但以下工作：

```
myTest.init(1);
myCallback.callback(); 
```

我猜当传递`myCallback`给时`myTest`，它没有传递`finalCallback`？？

有人可以帮助解释这种行为以及如何解决它吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T04:49:46.310

这有效：

```
var myTest = new Test({
    aa: 1,
    callback: myCallback.callback()
}); 
```

我想这就是你的意思。如果不是，请澄清什么不是打印。

这不起作用，因为它只是一个参考 - 一个作业。

```
 callback: myCallback 
```

这就是执行它（）

所以：

```
callback: myCallback.callback; 
```

然后：

```
this.callback(); 
```

如果我不够简洁，我深表歉意。我希望我能理解你在问什么。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-01T04:55:29.060

似乎你想做这个（使用 op.callback 作为函数）：

```
var Callback = function (op) {
    this.callback = op.callback;
    return this.callback;
}; 
```

和函数应该被调用`()`

```
 } else {
        this.callback();
  } 
```

[http://jsfiddle.net/oceog/SashU/3/](http://jsfiddle.net/oceog/SashU/3/)

[这是可以使用的示例](http://jsfiddle.net/oceog/SashU/7/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-01T05:01:36.650

正如已经指出的那样，您甚至没有尝试`this.callback`在第 19 行调用。用括号调用它。

即使那样，它也不起作用。当你这样做时`var myTest = new Test({ aa: 1, callback: myCallback });`， myCallBack 不是一个函数；它是一个具有属性的对象`callback`。将第 19 行更改`this.callback`为`this.callback.callback()`调用该函数。第 19 行`this.callback`是 Callback 的一个实例——一个具有函数属性*的*`callback`对象。

 *[http://jsfiddle.net/trevordixon/SashU/4/](http://jsfiddle.net/trevordixon/SashU/4/)显示了一个工作示例。*

# c# - 将文本分配给多个文本框

> ID：15150608
> 
> 赞同：1
> 
> 时间：2013-03-01T04:40:50.110
> 
> 标签：c#

我试图让一个按钮将特定字符输入到两个不同的文本框中，我使用的代码只能让我输入一个文本框。

```
private void btn9_Click(object sender, EventArgs e)
{
    txtBox1.Text = txtBox1.Text + btn9.Text;
} 
```

我也希望能够为`btn9_Click`被认为是：

```
private void btn9_Click(object sender, EventArgs e)
{
    txtBox2.Text = txtBox2.Text + btn9.Text;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T04:43:18.033

只需将两行代码放入同一个 Button Click Handler 函数中

```
private void btn9_Click(object sender, EventArgs e)
{
    txtBox1.Text = txtBox1.Text + btn9.Text;
    txtBox2.Text = txtBox2.Text + btn9.Text;
} 
```

事实上，一个函数中可以有数百行代码。通常最好将其保持在 100 以下以提高可读性。

# **更新 2**

让按钮将文本分配给最近获得焦点的任何功能

此解决方案使用 jquery 来更新隐藏输入的值，只要文本框被聚焦（引起用户注意）。该解决方案使用 ClientIDMode="Static" 以便 jquery 能够引用正确的元素。

在您的 ASPX 页面标题中，添加一个脚本标记以应用我们的 Jquery

```
<script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.1/jquery-ui.min.js"></script>

<script>
  $("#TextBox1").focus(function () {
    $('#MyHiddenInput').val('TextBox1');
  });

  $("#TextBox2").focus(function () {
    $('#MyHiddenInput').val('TextBox2');
  });
</script> 
```

**在表单内的 ASPX 页面中，使用 clientidmode=static 添加隐藏输入**

```
<asp:HiddenField id="MyHiddenInput" runat="server" ClientIdMode="Static" Value="TextBox1" /> 
```

**现在，将您的文本框更改为 clientIdMode="Static"**

```
<asp:TextBox id="TextBox1" runat="server" clientIdMode="Static" />
<asp:TextBox id="TextBox2" runat="server" clientIdMode="Static" /> 
```

**最后，在您的代码隐藏中，您可以使用这样的代码来确定哪个文本框最近具有焦点

```
if ( MyHiddenInput.Value == "TextBox1" ){
  // Write to TextBox1
}else{
  // Write to TextBox2
} 
```

**或者，如果您在 VB 窗体中执行此操作，您可以处理[TextBox.GotFocus](http://msdn.microsoft.com/en-us/library/system.windows.forms.control.gotfocus.aspx)事件并设置一个名为 LastTextboxFocus = "..." 的字符串变量来代替上面的隐藏字段方法。**

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-01T04:43:24.613

您的事件处理程序中可以包含多行：

```
private void btn9_Click(object sender, EventArgs e)
{
    txtBox1.Text = txtBox1.Text + btn9.Text;
    txtBox2.Text = txtBox2.Text + btn9.Text;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-01T04:44:25.680

```
private void btn9_Click(object sender, EventArgs e)
{
  txtBox1.Text = txtBox1.Text + btn9.Text;
  txtBox2.Text = txtBox2.Text + btn9.Text;
  txtBox3.Text = txtBox3.Text + btn9.Text;
  //for Any number textboxes, u can add text .......... 
} 
```

# java - 在 setter 方法中做其他事情被认为有副作用吗？

> ID：15150610
> 
> 赞同：3
> 
> 时间：2013-03-01T04:40:53.680
> 
> 标签：java, oop

最近看了一些文章，说有副作用的方法不好。所以我只想问我这里的实现是否可以归类为有副作用。

假设我有一个`SecurityGuard`which 检查他是否应该允许客户去俱乐部。

`SecurityGuard`要么只有validNames 列表或invalidNames 列表，而不是两者。

*   如果`SecurityGuard`只有validNames，他只允许名字在列表中的客户。
*   如果`SecurityGuard`只有无效名称，他只允许名称不在列表中的客户。
*   如果`SecurityGuard`根本没有列表，他允许所有人。

因此，为了执行逻辑，在每个列表的设置器上，如果新列表具有值，我会重置另一个列表。

```
class SecurityGaurd {
    private List<String> validNames = new ArrayList<>();
    private List<String> invalidNames = new ArrayList<>();

    public void setValidNames(List<String> newValidNames) {
        this.validNames = new ArrayList<>(newValidNames);
        // empty the invalidNames if newValidNames has values
        if (!this.validNames.isEmpty()) {
            this.invalidNames = new ArrayList<>();
        }
    }

    public void setInvalidNames(List<String> newInvalidNames) {
        this.invalidNames = new ArrayList<>(newInvalidNames);
        // empty the validNames if newInvalidNames has values
        if (!this.invalidNames.isEmpty()) {
            this.validNames = new ArrayList<>(); //empty the validNames
        }
    }

    public boolean allowCustomerToPass(String customerName) {
        if (!validNames.isEmpty()) {
            return validNames.contains(customerName);
        }
        return !invalidNames.contains(customerName);
    }
} 
```

所以在这里你可以看到 setter 方法有一个隐式操作，它重置了另一个列表。

问题是我在这里所做的可以被认为有副作用吗？是不是太糟糕了以至于我们不得不改变它？如果是，我该如何改进？

提前致谢。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-01T04:44:09.497

好吧，setter 本身有副作用（该实例中的值在函数结束后被修改）。所以，不，我不会认为这是需要改变的坏事。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-12-29T20:03:27.780

想象一下，守卫刚刚有一个`SetAdmissionPolicy`接受对`AdmissionPolicy`定义的引用：

```
interface AdmissionPolicy {
    boolean isAcceptable(String customerName) {
} 
```

并将守卫的`admissionPolicy`字段设置为传入的引用。守卫自己的`allowCustomerToPass`方法简称为`admissionPolicy.isAcceptable(customerName);`.

鉴于上述定义，我们可以想象三个实现 的类`AdmissionPolicy`：一个将在其构造函数中接受一个列表，并为列表中`isAcceptable`的每个人返回 true，另一个也将在其构造函数中接受一个列表，但`isAcceptable`它只对人返回 true*不在*名单上。第三个将简单地无条件返回true。如果俱乐部偶尔需要关闭，可能还有第四个实现无条件返回 false。

以这种方式查看，`setInvalidNames`并且`setValidNames`都可以实现为：

```
public void setAdmissionPolicyAdmitOnly(List<String> newValidNames) {
    admissionPolicy = new AdmitOnlyPolicy(newValidNames);
}

public void setAdmissionPolicyAdmitAllBut(List<String> newInvalidNames) {
    admissionPolicy = new AdmitAllButPolicy(newInvalidNames);
} 
```

通过这样的实现，很明显每种方法都只是“设置”一件事。这样的实现是我期望像你这样的类的行为方式。

但是，我认为您所描述的班级的行为充其量是可疑的。问题不在于添加承认的项目会清除被拒绝的项目，而是传入列表为空时的行为以一种相当奇怪的方式取决于早期状态。如果允许除 Fred 之外的每个人访问，那么将 setValidNames 调用为 none 应该没有任何效果，但如果它设置为只允许 George 访问，那么同一个调用应该授予每个人访问权限，这几乎不是直观的。`setValidNames`此外，虽然从包含在有效名称列表中的任何人中删除并不意外，`invalidNames`反之亦然，但考虑到函数的命名方式，设置一个列表会删除*所有人*来自另一个列表有点出乎意料（空列表的不同行为使其尤其如此）。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-01T04:52:11.257

尽管它没有任何副作用，但开发人员假设 getter 和 setter 除了获取和设置变量之外可能没有任何底层代码。因此，当另一个开发人员试图维护代码时，他可能会忽略您的 Bean 代码并执行与您在 setter 中所做的相同的检查 - 可能是您所称的样板代码

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-01T04:44:32.883

我不认为这是副作用。您正在维护对象的基本假设。我不确定它是不是最好的设计，但它肯定是一个有效的设计。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-01T04:52:22.670

在这种情况下，我认为更改其他链表不会产生副作用，因为范围在此类内。

但是，根据您的描述，最好设计一个linkedList（称为nameList）和一个boolean（isValid）来区分白名单和黑名单。这样很明显，任何时候都只能填写一种类型的列表。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-01T05:04:58.483

我认为没关系。例如，如果你希望你的类是不可变的，那么最好的地方就是 setter：

```
public void setNames(List<String> names) {
       this.names = names == null ? Collections.emptyList() : Collections.unmodifiableList(names);
} 
```

# c#-4.0 - 尽管配置正确，实体框架 5 级联删除仍无法正常工作

> ID：15150611
> 
> 赞同：2
> 
> 时间：2013-03-01T04:40:56.177
> 
> 标签：c#-4.0, entity-framework-5

我在父>子关系中有两个表。

尝试删除父级时，出现以下错误：

```
The operation failed: The relationship could not be changed because one or more of the foreign-key properties is non-nullable. When a change is made to a relationship, the related foreign-key property is set to a null value. If the foreign-key does not support null values, a new relationship must be defined, the foreign-key property must be assigned another non-null value, or the unrelated object must be deleted. 
```

我在 dbfirst 类型模型中使用 SQL Server 2012。

在数据库中，删除规则设置为级联，我仔细检查了 .edmx 中该规则也设置为级联。

我正在使用多个事务，然后在最后调用 .SaveChanges() ......不确定这是否与它有关。具体来说，我首先在另一个表上发布了一个更新，然后是这个删除。

这是我用于删除的通用存储库代码：

```
public virtual ActionConfirmation<int> Delete(TRepository entity, bool boolCommitChgs = true)
        {

            try
            {   
                //DbSet.Remove(entity);
                _dataContext.Entry(entity).State = System.Data.EntityState.Deleted;
                if (boolCommitChgs)
                {
                    _dataContext.SaveChanges();
                }

                return CRUDMessage(true, "deleted", entity);
            }
            catch (Exception ex)
            {
                return CRUDMessage(false, "delete", entity, ex);
            }
        } 
```

然后我完成事务并在此处调用 SaveChanges，这是引发错误的时间：

```
try
        {
            dbContext.SaveChanges();
            result = ActionConfirmation<int>.CreateSuccessConfirmation(
                            string.Format("{0} {1}: {2} successful.",
                            strNoun,
                            id, 
                            strVerb
                        ),
                            id
                        );
        }
        catch (Exception ex)
        {
          ....etc.... 
```

任何想法为什么我会收到这个错误？

![在此处输入图像描述](../Images/38f2f5d77a56339e60bc917b615161f8.png) ![在此处输入图像描述](../Images/9192c04ce5120570a0cc5185adc98a9b.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T20:46:13.420

该问题可能是由于您的更新更改了某些关系造成的。

# html - 在使内容响应时遇到问题

> ID：15150615
> 
> 赞同：1
> 
> 时间：2013-03-01T04:41:39.233
> 
> 标签：html, css, responsive-design

我正在将我的布局转换为响应式设计。我查看了一些教程并进行了一些调整。但是，当我在手机、iPad 上加载页面，甚至缩小窗口时，内容会相互叠加。我的印象是使用 % 而不是像素可以解决这个问题。我错了吗？链接如下。

[http://tinyurl.com/ab2fmwv](http://tinyurl.com/ab2fmwv)

```
article {
width: 80%;
min-height: 100%;
margin-left: auto;
margin-right: auto;
border: solid;
position: relative;
overflow: hidden;
clear: both;
}
#two_column_left {
width: 74%;
float: left;
background-color: #FFFFFF;
}

#two_column_right {
width: 25%;
float: right;
}
.three-col-row {
width: 100%;
float: left;
padding-top: 2%;

}

.col-1 {
width: 26%;
float: left;
padding-left: 5%;
padding-bottom: 2%;
}
.col-2 {
width: 26%;
float: left;
padding-left: 5%;
padding-bottom: 2%;

}
.col-3 {
width: 26%;
float: left;
padding-left: 5%;
padding-bottom: 2%;

}
.pic-3-col {
width: 175px;
height: 100px;
}
p.title-3-col {
color: #222020;
font-size: 1.3em;
clear: both;
}
p.description-3-col {
width: 190px;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T04:45:38.153

尽管列的大小完美，但它的内容却没有。例如

```
.pic-3-col {
width: 175px;
height: 100px;
} 
```

如果你想要一个响应式的流体布局，那么 CSS 中不应该有这样的值。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T05:25:02.400

您正在为以下类使用宽度（以像素为单位）

p.description-2-col style.css 第 439 行解决方案。添加它'最大宽度 100%'

p.description-3-col style.css 行号 406 解决方案。添加它'最大宽度 100%'

```
.pic-3-col     style.css line no 197    solu.   add it 'max-width 100%'  </br> 
```

在 .pic-3-col 中包装相同列的图像，因为第一列完成

并且还根据分辨率使用媒体查询不断改变他们的宽度百分比

# mysql - 外键求解

> ID：15150618
> 
> 赞同：1
> 
> 时间：2013-03-01T04:41:52.853
> 
> 标签：mysql, foreign-keys, foreign-key-relationship

我正在创建两个不同的表，其中一个具有外键。

我需要将`mailbox`表中的发送者和接收者关联到`users.item1`

当我尝试我的代码时，我收到以下错误：

> 检查您的 MySQL 版本的语法

我做了什么，我正在运行 5.5.25

该手册显示了一个我尝试过的示例，但仍然出现错误。

```
$sql="CREATE TABLE users(
    id INT NOT NULL AUTO_INCREMENT,
    item1 VARCHAR(32),
    item2 VARCHAR(32),password VARCHAR(32),
    PRIMARY KEY (id))";

if ($query = mysqli_query($con,$sql))
    echo "Table users created successfully";
else
    echo "Error creating table: " . mysqli_error($con);

$sql = "CREATE TABLE mailbox(
    id INT NOT NULL AUTO_INCREMENT, 
    item VARCHAR(32), 
    subject VARCHAR(32), 
    item  VARCHAR(64), 
    sender VARCHAR(32), 
    receiver VARCHAR(32), 
    item INT, PRIMARY KEY (id)
    FOREIGN KEY (id) REFERENCES users(id))"; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T04:47:24.850

*..我需要将`sender and receiver from mailbox`表格与`users table item1`..*

```
CREATE TABLE users
(
    id INT NOT NULL AUTO_INCREMENT,
    item1 VARCHAR(32),
    item2 VARCHAR(32),
    password VARCHAR(32),
    PRIMARY KEY (id),
    KEY(item1)
);

CREATE TABLE mailbox
(
    id INT NOT NULL AUTO_INCREMENT, 
    item VARCHAR(32), 
    subject VARCHAR(32), 
    sender VARCHAR(32), 
    receiver VARCHAR(32), 
    PRIMARY KEY (id),
    CONSTRAINT tb_fk1 FOREIGN KEY (sender)
        REFERENCES users(item1),
    CONSTRAINT tb_fk2 FOREIGN KEY (receiver)
        REFERENCES users(item1)
) 
```

*   [SQLFiddle 演示](http://www.sqlfiddle.com/#!2/a34e47)

*后续问题：为什么表`item`上有 3 列名称`mailbox`？*

# sql - 如何从另一台机器中的 informatica pc 访问一台主机中的 SQL Server 数据库

> ID：15150619
> 
> 赞同：0
> 
> 时间：2013-03-01T04:41:56.263
> 
> 标签：sql, sql-server-2008-r2, informatica-powercenter, informatica

我在 Windows XP 上安装了 informatica PC8.6，在另一台机器上安装了 SQL Server 2008 R2。如何从 informatica pc.8.6 访问此数据库。并且可以访问吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T10:23:44.183

是的，可以从 Informatica 访问 SQL Server。只需使用相同的 sql 用户（不是 windows 用户）登录到 SQL Server。在你的情况下，确保你可以从远程机器连接到 sql server

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-02T08:07:05.623

如果您在客户端上安装了驱动程序，则可以从任何服务器访问任何数据库。

如果客户端操作系统支持数据库，您可以在那里安装客户端。如果没有，您始终可以通过 ODBC 获取 cess 通道。

# php - ZF2 fromQuery() 返回一个空数组

> ID：15150624
> 
> 赞同：2
> 
> 时间：2013-03-01T04:42:24.410
> 
> 标签：php, nginx, zend-framework2

我刚刚开始使用 Zend 框架 2，这似乎是一项简单的任务，但由于某种原因它不起作用。

我试图简单地获取查询参数：`controller/action?name=something`

我试过使用：

```
$this->params()->fromQuery()
$this->plugin('params')->fromQuery(); 
```

我相信两者是相同的，但是当我设置参数时它们都返回空数组。

我的路线如下所示：

```
 'users' => array(
            'type' => 'Zend\Mvc\Router\Http\Literal',
            'options' => array(
                'route'    => '/users/search',
                'defaults' => array(
                    'controller' => 'Module\Controller\Users',
                    'action'     => 'search',
                ),
                'may_terminate' => true,
                'child_routes' => array(
                    'query' => array(
                        'type' => 'Query',
                    ),
                ),
            ),   
        ), 
```

任何想法我做错了什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-02-11T09:27:54.947

我想，你的 nginx 配置有问题。

只需添加`$is_args$args`到`location /`部分：

```
location / {
    try_files $uri $uri/ /index.php$is_args$args;
} 
```

并重启nginx`sudo /etc/init.d/nginx restart`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-01T05:04:24.233

我认为您想使用[此页面上列出](http://framework.zend.com/manual/2.0/en/modules/zend.mvc.plugins.html)的 Params 插件。

您可以尝试（我是从插件的代码中提取的。`null`实际上，$param 应该是）：

```
$this->getController()->getRequest()->getQuery($param, $default)->toArray(); 
```

`fromQuery()`只是上述内容的包装器（请参见[此处的第 88 行](https://github.com/zendframework/zf2/blob/master/library/Zend/Mvc/Controller/Plugin/Params.php)），但是如果这对您不起作用，则可能不起作用（除非问题是插件未正确加载或实例化）：

```
$this->params()->fromQuery(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-01T04:46:07.597

```
$this->_request->getParam('name'); 
```

我认为这会奏效..

# excel - 宏查找值并复制和粘贴到另一个单元格

> ID：15150627
> 
> 赞同：0
> 
> 时间：2013-03-01T04:42:26.893
> 
> 标签：excel, vba

我想使用宏创建简单的工具，如果它匹配，则必须在 D 列中找到“R”文本，然后复制该单元格值并粘贴到“L”列中。

如果为下面的脚本运行宏，我可以获得确切的值，但它一直是一个单元格。所以任何人都可以帮助我找到整​​个 D 列。

```
D                  L

1111_r             1111_r
0000
22222
348_16re
111
222
333_16re 
```

```
Dim c As Range
    With ActiveWorkbook.Sheets("PLMSync_NetChange")
        Set c = .Range("D1:D20").Find(What:="_R", _
                                   LookIn:=xlFormulas, LookAt:=xlPart, _
                                   SearchOrder:=xlByRows, _
                                   SearchDirection:=xlNext, MatchCase:=True)
        On Error GoTo NotFoundErr:
            c.Offset(0, 15).Value = c.Value
    End With
    Exit Sub
NotFoundErr:
    Debug.Print "value not found"
End Sub 
```

非常感谢。它现在正在工作......在此过程之后必须将 L 列的值与限制范围内的 A cloumn 进行比较。想要从 L 列中取出 _values 并从项目 iD 单元格下方到 bom 更新单元格上方找到 A 列（有限制）。如果匹配，则复制并粘贴到 M 列中。

在这里，我附上了清楚显示的示例..

```
 A       B       C       D    L           M
BOM Update report for car               
Summary: Additions=14;Removals=10;Changes=3;Same=20             
Add         Remove  Remove
Item Id Revision    ProFeatureID    Item Id 
xxxxxx  0   795 3S2093_L    
xxxxxx  0   802 3S2093_L    
xxxxxx  0   790 3S2093_L    
yyyyyy  0   720 3S2093_L    
yyyyyy  0   817 3S2093_L    
yyyyyy  0   740 3S2093_L    
zzzzzz  0   732 11111_re    11111_re   11111
zzzzzz  0   746 11111_re    11111_re   11111
zzzzzz  0   758 11111_re    11111_re   11111
zzzzzz  0   766 11111_re    11111_re   11111
11111   2   774     
11111   2   777     
11111   2   780     
11111   2   783     
BOM Update report for bike 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T05:21:52.897

```
Dim LvRow As Integer

Dim LvCol As Integer

lastrow = Range("D65354").End(xlUp).Row

LvCol = 4

For LvRow = 1 To lastrow

  If InStr(1, Cells(LvRow, LvCol), "R",vbtextcompare) > 0 Then

      Cells(LvRow, LvCol).Select

      Cells(LvRow, LvCol + 8).Value = Cells(LvRow, LvCol)

 End If

Next 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T05:24:07.517

```
Sub sample()

    Dim lastRow As Long
    Dim rng As Range

    With Sheets("PLMSync_NetChange")
        .Activate
        lastRow = .Range("D65000").End(xlUp).Row

        For i = 1 To lastRow
            If (InStr(1, .Range("D" & i).Value, "r", vbTextCompare) > 0) Then
                .Range("L" & i).Value = .Range("D" & i).Value
            End If

        Next

    End With

    Exit Sub

NotFoundErr:
    Debug.Print "value not found"
End Sub 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-01T06:53:14.670

将 lvrow 调暗为整数

lastrow = Range("A65354").End(xlUp).Row

For lvrow = 1 到 lastrow

如果 (InStr(1, Cells(lvrow, 12), "1") > 0) 那么

```
If CStr(Mid(Cells(lvrow, 12), 1, InStr(1, Cells(lvrow, 12), "_") - 1) )=CStr(Cells(lvrow, 1)) Then
    Cells(lvrow, 13) = Cells(lvrow, 1)
    Cells(lvrow, 14) = "Match Found"
End If 
```

万一

下一个

如果您想将其他列值粘贴到 col M 中，请更改列号。

# facebook - Facebook sharer.php 参数“images[0]”停止支持？

> ID：15150628
> 
> 赞同：1
> 
> 时间：2013-03-01T04:42:28.343
> 
> 标签：facebook, share

首先，我知道 Facebook 中的分享功能已被弃用。但是由于某种原因，我仍然需要在不切换到 Like 的情况下使用它。

我参考这个网站来定制分享内容 [http://www.daddydesign.com/wordpress/how-to-create-a-custom-facebook-share-button-for-your-iframe-tab/](http://www.daddydesign.com/wordpress/how-to-create-a-custom-facebook-share-button-for-your-iframe-tab/)

使用与上面站点中的示例相同的所有参数（url、标题、摘要、图像），只是内容不同。而且代码结构也一样，所以我想不需要在这里发布我的代码。

2013 年 2 月 27 日图像仍然加载，但 2013 年 2 月 28 日无法加载。情况与上述站点中的演示相同。它也不起作用。

演示链接：[http ://www.facebook.com/wordpressdesign?sk=app_235525236461712](http://www.facebook.com/wordpressdesign?sk=app_235525236461712)

对于目标页面，我也放入了 og-image 但共享也没有加载图像。

有没有人面临同样的情况？或者有其他选择吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T22:06:51.517

是的，我们遇到了同样的问题。

我们正在将分享链接更改为 [https://www.facebook.com/dialog/feed?app_id=YOUR_APP_ID&redirect_uri=YOUR_REDIRECT_URI](https://www.facebook.com/dialog/feed?app_id=YOUR_APP_ID&redirect_uri=YOUR_REDIRECT_URI)

[https://developers.facebook.com/docs/reference/dialogs/](https://developers.facebook.com/docs/reference/dialogs/)

更新：似乎 sharer.php 函数已更正，“images[0]”正在工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T19:21:28.960

我观察到了同样的现象。在我的情况下，我需要一个透明的按钮。我将尝试点赞按钮代码，并通过 css 将“f”、“点赞”的图像和点赞元素的数量设置为透明。

# css - 我如何消除菜单框之间的差距

> ID：15150632
> 
> 赞同：1
> 
> 时间：2013-03-01T04:43:15.607
> 
> 标签：css

我的问题是我不想在盒子之间留出空隙。

请建议如何消除这个差距谢谢:)

我的 CSS

```
.menu:link,.menu:visited
{
font-weight:bold;
color:#FFFFFF;
background-color:#98bf21;
width:80px;
text-align:center;
padding:4px;
text-decoration:none;
}
.menu:hover,.menu:active
{
background-color:#7A991A;
} 
```

我的菜单 PHP

```
<?php
echo '<a class="menu" href="/test/index.php">Home</a>
<a class="menu" href="/test/profile.php">Profile</a>
<a class="menu" href="/test/settings.php">Settings</a>
<a class="menu" href="/test/image.php">Image</a> 
<a class="menu" href="/test/logout.php">Logout</a>';
?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T04:44:58.500

删除链接标签之间的空格。

**[jsFiddle 示例](http://jsfiddle.net/j08691/HfpJh/)**

```
<a class="menu" href="/test/index.php">Home</a><a class="menu" href="/test/profile.php">Profile</a><a class="menu" href="/test/settings.php">Settings</a><a class="menu" href="/test/image.php">Image</a><a class="menu" href="/test/login.php">Logout</a> 
```

或者

```
<a class="menu" href="/test/index.php">Home</a><!--
--><a class="menu" href="/test/profile.php">Profile</a><!--
--><a class="menu" href="/test/settings.php">Settings</a><!--
--><a class="menu" href="/test/image.php">Image</a><!--
--><a class="menu" href="/test/login.php">Logout</a> 
```

或者只是将它们向左浮动

```
.menu {
    float:left;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-01T04:54:55.433

你的字符串中有空格。

您可以参考以下创建字符串的方法

其中 $url 是 href 并且 $displayText 是要显示的文本

```
$menu .= sprintf('<a class="menu" href="%s">%s</a>' , $url , $displayText); 
```

例子

```
$menu = sprintf('<a class="menu" href="%s">%s</a>', '/test/index.php' , "Home");
$menu .= sprintf('<a class="menu" href="%s">%s</a>', '/test/profile.php' , 'Profile');
$menu .= sprintf('<a class="menu" href="%s">%s</a>', '/test/settings.php' , 'Settings');
$menu .= sprintf('<a class="menu" href="%s">%s</a>', '/test/image.php' , 'Image');
$menu .= sprintf('<a class="menu" href="%s">%s</a>', '/test/login.php' , 'Logout');

echo $menu ; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-01T05:16:52.953

这是您的问题的简单解决方案是：

不要在所有锚标记之间使用间隙。将它们保持在一条线上，没有任何间隙。你的问题将得到解决。

看下面的演示

```
Visit http://jsfiddle.net/creators_guru/6B9ea/ 
```

# android - 在编辑文本中的画布上绘制线条，但在按下输入时中断

> ID：15150638
> 
> 赞同：1
> 
> 时间：2013-03-01T04:43:55.773
> 
> 标签：android, drawing, android-canvas

我通过绘图画布在记事本等编辑文本中绘制了线条。但是当我按下很多输入并且它消失时，画布会被绘制但不会画线并且空白会出现在编辑文本中。

即使按下回车，我如何绘制这些线条？

# python - 第 60 行，在 make_tuple return tuple(l) TypeError: iter() returned non-iterator of type 'Vector'

> ID：15150640
> 
> 赞同：14
> 
> 时间：2013-03-01T04:44:06.783
> 
> 标签：python, class, vector, iteration, pygame

我是 Vectors 和上课的新手。我正在尝试构建自己的矢量类，但是当我通过我的代码传递它时：

位置+=航向*距离移动

其中位置和标题都是向量。标题已标准化。我的目标是重复我的代码，直到位置 = 目的地。这堂课有什么问题？

导入数学

```
class Vector(object):
    #defaults are set at 0.0 for x and y
    def __init__(self, x=0.0, y=0.0):
        self.x = x
        self.y = y

    #allows us to return a string for print
    def __str__(self):
        return "(%s, %s)"%(self.x, self.y)

    # from_points generates a vector between 2 pairs of (x,y) coordinates
    @classmethod
    def from_points(cls, P1, P2):
        return cls(P2[0] - P1[0], P2[1] - P1[1])

    #calculate magnitude(distance of the line from points a to points b
    def get_magnitude(self):
        return math.sqrt(self.x**2+self.y**2)

    #normalizes the vector (divides it by a magnitude and finds the direction)
    def normalize(self):
        magnitude = self.get_magnitude()
        self.x/= magnitude
        self.y/= magnitude

    #adds two vectors and returns the results(a new line from start of line ab to end of line bc)
    def __add__(self, rhs):
        return Vector(self.x +rhs.x, self.y+rhs.y)

    #subtracts two vectors
    def __sub__(self, rhs):
        return Vector(self.x - rhs.x, self.y-rhs.y)

    #negates or returns a vector back in the opposite direction
    def __neg__(self):
        return Vector(-self.x, -self.y)

    #multiply the vector (scales its size) multiplying by negative reverses the direction
    def __mul__(self, scalar):
        return Vector(self.x*scalar, self.y*scalar)

    #divides the vector (scales its size down)
    def __div__(self, scalar):
        return Vector(self.x/scalar, self.y/scalar)

    #iterator
    def __iter__(self):
        return self

    #next
    def next(self):
        self.current += 1
        return self.current - 1

    #turns a list into a tuple
    def make_tuple(l):
        return tuple(l) 
```

* * *

## 回答 #1

> 赞同：32
> 
> 时间：2013-06-09T22:18:54.057

我猜您使用的是 python 3.x，因为我遇到了类似的错误。我也是上课的新手，但很高兴分享我学到的东西:)

在 3.x 中，在类的定义中使用`__next__()`而不是。`next()`我在你的代码中重命名它后没有发生错误，但我遇到了另一个问题，“'Vector'对象没有属性'current'”:)

我认为更多地了解迭代器（和类？）可能会更好。一个最简单的例子是：

```
class Count:
    def __init__(self, n):
        self.max = n

    def __iter__(self):
        self.count = 0
        return self

    def __next__(self):
        if self.count == self.max:
            raise StopIteration
        self.count += 1
        return self.count - 1

if __name__ == '__main__':
    c = Count(4)
    for i in c:
        print(i, end = ',') 
```

输出为 0,1,2,3,。

使用向量类，我想迭代向量的组件。所以：

```
def __iter__(self):
    self.count = 0
    self.list = [self.x, self.y, self.z]  # for three dimension
    return self

def __next__(self):
    if self.count == len(self.list):
        raise StopIteration
    self.count += 1
    return self.list[self.count - 1] 
```

迭代器输出序列 x, y, z。

请注意，迭代器最重要的特性是逐步给出序列而不创建整个列表。`self.list`因此，如果序列会很长，这不是一个好主意。更多细节在这里：[python教程](http://docs.python.org/3/tutorial/classes.html#iterators)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T04:48:22.637

传入的第一个参数`make_tuple`是您的`Vector`实例（与`self`您在任何地方放置的参数相同）。

你必须传入你想要变成一个元组的*东西*，这可能是你的 x 和 y 坐标：

```
def make_tuple(self):
    return (self.x, self.y) 
```

# jquery - 鼠标悬停在子div上时如何触发悬停

> ID：15150642
> 
> 赞同：0
> 
> 时间：2013-03-01T04:44:16.433
> 
> 标签：jquery

我有这个：

```
<div id='hasHover'>
  <div id='inner-button' style='display:none'>Click</div>
</div>

$('#hasHover').hover(function(){
  $('inner-button').toggle();
}); 
```

这工作正常。但是，当我将鼠标移到按钮上时，按钮会消失（或快速闪烁）。当鼠标悬停在div（包括子div）上时，如何确保按钮保持不变？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T04:47:10.807

```
$('#hasHover').hover(function(e) { // <-- Create event argument
  if(e.target.id == "hasHover") { // <-- Check the ID of the div on which event fired
     $('#inner-button').toggle(); // <-- You missed # here
     return false;
  }
  else {
     return false;
  }
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T04:48:22.723

检查目标ID

```
$('#hasHover').hover(function(e) {
   if(e.target.id = "hasHover") {
      $('inner-button').toggle();
   return false;
   }else {
    return false;
   }
}); 
```

# ruby-on-rails - 用于搜索过滤器的 Rails 活动记录查询

> ID：15150645
> 
> 赞同：0
> 
> 时间：2013-03-01T04:44:25.033
> 
> 标签：ruby-on-rails, activerecord, ruby-on-rails-3.2, rails-postgresql

查看 railscasts.com，我想知道 Ryan 如何为该站点实施搜索过滤器。如果搜索参数与数据库中的任何内容都不匹配，那么他将返回所有记录（例如，如果我们在 URL 中为搜索参数值键入无效参数，则返回所有记录，因为没有任何内容可供过滤）。如果它匹配数据库中的记录，他只返回那些匹配的记录。

是如何实现的？我可以只使用没有任何 gems/full-text-search 的 Active Record 吗？Arel 的查询会是什么样子？

另外，他如何实现过滤器链接（我们进行搜索后页面顶部的链接）？他是在解析每个搜索参数并通过一次删除一个搜索参数来生成页面上的链接吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T04:59:34.270

我没有看到 Railscasts.com 显示无效过滤器（如搜索参数）时的所有记录。当没有找到记录时，它会返回一个链接以查看所有剧集。例如，请参阅此链接： [http](http://railscasts.com/episodes?utf8=%E2%9C%93&search=) ://railscasts.com/episodes?utf8=%E2%9C%93&search = 它说：

> 未找到任何剧集。查看所有剧集。

但是，如果需要，您可以在这种情况下显示所有记录。这很容易。

```
 def index
    @records = []
    if params[:search].present?
      #YOUR SEARCH LOGIC and assign to @records. for example:
      @records = Episode.where(:title => params[:search])
    end

    unless @records.length
      @records = Episode.all  
    end
  end 
```

# javascript - 请帮助我防止 Bootstrap 单选按钮过早提交我的表单（使用 Javascript？）

> ID：15150648
> 
> 赞同：1
> 
> 时间：2013-03-01T04:44:34.337
> 
> 标签：javascript, forms, twitter-bootstrap, radio-button, mailchimp

**我的过程：**

1.  首先，我使用 Bootstrap 为我的网站设计了一个注册表单
2.  然后，我使用 MailChimp 创建了一个注册表单，这样我就可以跟踪和联系我的注册
3.  然后我生成了嵌入表单 HTML 标记，并将两者结合起来

**问题：**

破坏表单的部分是 Bootstrap 单选按钮切换使用输入类型 =“按钮”，而我试图将其映射到的 MailChimp 表单使用类型 =“收音机”。

如果我不使用 type="radio"，则提交工作有效，但是当我在 MailChimp 中检查订阅者的信息时，我会丢失表单中该部分的数据。

如果我使用 type="radio"，当用户尝试使用切换按钮时，表单会过早提交，所以基本上表单会在他们完成填写表单的其余部分之前提交。

*问题的 JSFiddle 演示在这里：http:* [//jsfiddle.net/halsey/qwPzy/9/](http://jsfiddle.net/halsey/qwPzy/9/)

**解决方案？**

我知道这样的线程[，](https://stackoverflow.com/questions/9643806/form-is-submitted-when-i-click-on-the-button-in-form-how-to-avoid-this)它说您需要使用 javascript 覆盖此行为，但我找不到如何执行此操作的示例。

我确信这非常容易，但我无法找到资源来帮助我学习如何解决这个问题。提前感谢您提供的任何帮助。

**脚注**

StackOverflow 阻止我在不嵌入代码的情况下链接到 JSFiddle。我鼓励您使用上面的链接，但我嵌入代码的失败尝试如下。为奇怪的格式道歉，但我无法将代码嵌入到一个块中 - 我是 StackOverflow 初学者。

HTML：

```
<form action="http://foorder.us6.list-manage1.com/subscribe/post?u=81c3da3b3ebbf564cf50a78ff&amp;id=f16451f556" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>

                            <fieldset class="mc-field-group">

                                <div class="form-field input-prepend">

                                        <span class="add-on">http://Foorder.com/</span>

                                        <input class="span3 required" id="prependedInput mce-MMERGE2" type="text" placeholder="YourProfile" value="" name="MMERGE2">

                                 </div><!-- / .formfield .input-prepend -->

                                <div class="form-field">

                                       <input type="email" class="span3 required email" placeholder="Email" value="" name="EMAIL" id="mce-EMAIL">

                                    <input type="text" class="span2 required" placeholder="Zip Code" value="" name="MMERGE8" id="mce-MMERGE8">

                                </div><!-- / .formfield -->

                                <div class="form-field">

                                      I want to&nbsp;&nbsp;
                                        <div class="btn-group" data-toggle="buttons-radio">
                                             <button type="radio" class="btn" value="Buy" name="MMERGE3" id="mce-MMERGE3-0">Buy</button>
                                             <button type="radio" class="btn" value="Sell" name="MMERGE3" id="mce-MMERGE3-1">Sell</button>
                                        </div>
                                      &nbsp;&nbsp;items on Foorder

                                </div><!-- / .formfield -->

                                <div class="form-field">

                                        <button type="button" class="btn btn-link" data-toggle="collapse" data-target="#promo-code-toggle">

                                            Have a promo code?

                                         </button>

                                        <div id="promo-code-toggle" class="collapse">

                                                   <input type="text" class="span2" placeholder="Promo Code" value="" name="MMERGE1 promocodeinput" id="mce-MMERGE1 promo-code-input">

                                        </div><!-- / .formfield -->

                                </div><!-- / .formfield -->

                                 <div id="mce-responses" class="clear">

                                        <div class="response" id="mce-error-response" style="display:none"></div>

                                        <div class="response" id="mce-success-response" style="display:none"></div>

                                </div>  

                                <div class="form-field">

                                    <button type="submit" class="button btn btn-primary" value="Subscribe" name="subscribe" id="mc-embedded-subscribe">Submit</button>

                                </div><!-- / .formfield -->

                            </fieldset>

                       </form> 
```

CSS HEAD 链接：

```
<link href="http://fonts.googleapis.com/css?family=Ubuntu" rel="stylesheet">
<link href="http://foorder.com/_Resources/SBX/css/bootstrap.css" rel="stylesheet">
<link href="http://foorder.com/_Resources/SBX/css/bootstrap-responsive.css" rel="stylesheet"> 
```

Javascript 正文链接：

```
<script src="http://foorder.com/_Resources/SBX/js/jquery.js"></script>
<script src="http://foorder.com/_Resources/SBX/js/bootstrap-transition.js"></script>
<script src="http://foorder.com/_Resources/SBX/js/bootstrap-alert.js"></script>
<script src="http://foorder.com/_Resources/SBX/js/bootstrap-modal.js"></script>
<script src="http://foorder.com/_Resources/SBX/js/bootstrap-dropdown.js"></script>
<script src="http://foorder.com/_Resources/SBX/js/bootstrap-scrollspy.js"></script>
<script src="http://foorder.com/_Resources/SBX/js/bootstrap-tab.js"></script>
<script src="http://foorder.com/_Resources/SBX/js/bootstrap-tooltip.js"></script>
<script src="http://foorder.com/_Resources/SBX/js/bootstrap-popover.js"></script>
<script src="http://foorder.com/_Resources/SBX/js/bootstrap-button.js"></script>
<script src="http://foorder.com/_Resources/SBX/js/bootstrap-collapse.js"></script>
<script src="http://foorder.com/_Resources/SBX/js/bootstrap-carousel.js"></script>
<script src="http://foorder.com/_Resources/SBX/js/bootstrap-typeahead.js"></script>
<script src="http://foorder.com/_Resources/SBX/js/bootstrap-affix.js"></script>
<script src="http://foorder.com/_Resources/SBX/js/holder/holder.js"></script>
<script src="http://foorder.com/_Resources/SBX/js/google-code-prettify/prettify.js"></script>
<script src="http://foorder.com/_Resources/SBX/js/application.js"></script>
<script src="http://foorder.com/_Resources/SBX/js/custom.js"></script> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T05:56:34.600

您是否尝试过在表单上放置“onsubmit”并通过函数运行以确定测试？

翼

```
<form action="http://foorder.us6.list-manage1.com/subscribe/post?u=81c3da3b3ebbf564cf50a78ff&amp;
    id=f16451f556" method="post" id="mc-embedded-subscribe-form" 
    name="mc-embedded-subscribe-form" class="validate" target="_blank" 
    onsubmit="return checkValidity(this);"> 
```

在你的 js 代码中：

```
function checkValidity(form){
  if(){
       // return false <-- doesn't submit
      }
  } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-02T04:58:19.437

所以我在 Bootstrap Github 上找到的这个 JSFiddle 对我有用：http: [//jsfiddle.net/charettes/SauLj/](http://jsfiddle.net/charettes/SauLj/)

HTML：

```
<div class="btn-group">
<input type="radio" name="radios" id="radio_1" />
<label class="btn" for="radio_1">Radio one</label>
<input type="radio" name="radios" id="radio_2" />
<label class="btn" for="radio_2">Radio two</label>
<input type="radio" name="radios" id="radio_3" />
<label class="btn" for="radio_3">Disabled radio three</label> 
```

CSS：

```
 .btn-group > input {
    display: none;
}

.btn-group input:first-child + .btn {
     /* This is an actual copy/paste of the .btn-group .btn:first-child style */
    border-bottom-left-radius: 4px;
    border-top-left-radius: 4px;
    margin-left: 0;
}

input:checked + label.btn {
    /* This is an actual copy/paste of the .btn:active style */
    background-color: #E6E6E6;
    background-image: none;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.15) inset, 0 1px 2px rgba(0, 0, 0, 0.05);
    color: rgba(0, 0, 0, 0.5);
    outline: 0 none;
}

input[disabled] + label.btn {
    /* This is an actual copy/paste of the .btn:disabled style */
    background-color: #E6E6E6;
    background-image: none;
    box-shadow: none;
    cursor: default;
    opacity: 0.65;
} 
```

# python - 多处理 BaseManager shutdown() 需要 20 秒

> ID：15150651
> 
> 赞同：0
> 
> 时间：2013-03-01T04:44:58.583
> 
> 标签：python, multiprocessing

我正在使用 BaseManager 与工作进程池共享队列。我在它上面调用 start() 是为了让管理器在另一个线程中运行。

在 shutdown() 下，文档说“这仅在使用 start() 启动服务器进程时可用。” 但是，如果我调用shutdown()，前台进程将在每次终止前阻塞管理器进程20 秒。如果我不调用shutdown()，前台进程会立即离开吗？

我错过了什么？

另外，有没有人知道为什么文档说“这可以被多次调用。”？为什么要向管理器进程发送多个关闭信号？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T05:07:46.917

它按设计等待 20 秒。请[参阅此处](http://fossies.org/dox/Python-2.7.3/managers_8py_source.html) 了解更多信息

```
 process.join(timeout=0.2)
        if process.is_alive():
            util.info('manager still alive')
            if hasattr(process, 'terminate'):
                util.info('trying to `terminate()` manager process')
                process.terminate()
                process.join(timeout=0.1)
                if process.is_alive():
                    util.info('manager still alive after terminate') 
```

# cassandra - PlayORM 中的二级索引是如何实现的，是否支持/处理并发更新？

> ID：15150653
> 
> 赞同：1
> 
> 时间：2013-03-01T04:45:03.570
> 
> 标签：cassandra, playorm

对于处理并发更新的二级索引，有几种滚动您自己的策略，例如：

[http://www.slideshare.net/edanuff/indexing-in-cassandra](http://www.slideshare.net/edanuff/indexing-in-cassandra)

它使用 3 个 ColumnFamilies。

我的问题是，PlayORM`@NoSqlIndexed`注释是如何实现的；就需要/创建哪些额外的 ColumnFamilies 而言？

此外，是否支持并发更新 - 即，两个竞争更新不可能从一个更新索引和另一个更新表？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-01T15:06:01.513

您可以在没有锁定的情况下进行并发更新。

幻灯片 46 的问题，我不能得到误报吗？PlayOrm 也是如此。

一个警告是您可能需要在阅读时解决。例子是这样的。假设您在数据库中有地址为 123 的 Fred。

现在，两台服务器对 Fred 进行了更新

*   server 1 : Fred 的新地址是 456（导致删除索引 123.fred 并添加 456.fred）
*   server 2 : Fred 的新地址是 789（导致删除索引 123.fred 并添加 789.fred）

这意味着您的索引可能有 456.fred 和 789.fred 的副本。然后，您可以在读取时解决此问题，因为当您询问地址为 456 的人时，查询将返回 Fred。我们还有另一张票可以在读取时为您解决此问题；）并消除该条目。

我们确实询问过在 cassandra 中我们可以做的更改（添加列 456.fred IF 列 123.fred 存在或失败），但不确定他们是否会实现类似的东西。这会将失败传播给失败者（即最后一位作家获得例外）。这会很好，但我不确定他们会做这样的功能。

**大注意：与 CQL 不同，查询不会发送到所有节点。它只将负载放在包含索引的节点上，而不是所有 100 台计算机上。IE。它可以通过这种方式更好地扩展。**

**更多细节：**在该演示文稿的第 27 张幻灯片上，您的链接具有，几乎就像我们的索引一样。该格式不包含 1、2、3。索引格式为

```
Indexes=
    {"User_Keys_By_Last_Name":{
         {"adams","e5d…"}: null,
         {"alden","e80…"}: null,        
         {"anderson","e5f…"}: null,
         {"anderson","e71…"}: null,
         {"doe","e78…"}: null,
         {"franks","e66…"}: null,
          …:…,
       }
   } 
```

这样，我们就可以避免读取来确定是否需要在名称的后半部分使用 1、2、3、4、5。相反，我们使用我们知道是唯一的 FK 并且只需要进行写入。无论如何，Cassandra 都是关于解决读取冲突的，这就是存在修复过程的原因。这是基于这样一个事实，即冲突将在非常低的时间内发生，然后在那个低的百分比下受到打击。

最后，您可以使用命令行工具查看索引！！！！它将大约 200 列中的内容批处理，每列流回，因此您可以拥有 100 万个条目，并且命令行工具会很高兴地继续打印它们，直到您 ctrl-c 它。

后来，迪恩

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-01T10:41:36.603

截至目前，仅为 Playorm 中的所有索引创建了 3 个表。即，所有索引都存储在 StringIndice、IntegerIndice 和 DecimalIndice 列族中。

除此之外，还有一种模式正在开发中，如果需要，它将为该列创建一个新表。[请参阅https://github.com/deanhiller/playorm/issues/44](https://github.com/deanhiller/playorm/issues/44)上的模式详细信息。

# php - php Set_time_limit 用于长时间运行的脚本

> ID：15150654
> 
> 赞同：-2
> 
> 时间：2013-03-01T04:45:09.057
> 
> 标签：php

我有一个 php 脚本，它肯定需要很长时间来处理。把它放在 set_time_limit(0) 里好吗？我见过一些时候，即使我们将时间限制设置为 0，我们也会收到 500 个内部服务器错误。在 php 中处理如此耗时的脚本的最佳方法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T04:55:19.620

如果您尝试从浏览器执行长时间运行的脚本，您有可能遇到各种超时，包括 php、代理、Web 服务器和浏览器。您可能无法控制所有这些。

任何长时间运行的脚本都应该从命令行运行。这样你就可以解决所有问题，除了易于覆盖的 php 执行时间限制。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T04:51:01.507

如果您有权访问 php.ini 文件，则在其中设置 max_execution_time

```
max_execution_time = 300 
```

或者您可以使用 .htaccess 来处理它

```
php_value max_execution_time 300 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-03-01T04:52:19.697

运行超过 360 秒的脚本（我希望`max_execution_time`）即使应用也会自动抛出内部服务器错误`set_time_limit`。

你可以在你的页面中有这个。

```
<?php
ini_set('max_input_time', time in seconds);
ini_set('max_execution_time', time in seconds);
?> 
```

或在 php.ini 中

设置`max_input_time`和`max_execution_time`任何你喜欢的。

或在 .htaccess

```
php_value max_input_time 300
php_value max_execution_time 300 
```

# css - 将两张图片放在同一行

> ID：15150655
> 
> 赞同：1
> 
> 时间：2013-03-01T04:45:09.190
> 
> 标签：css, html

我有 2 张图片。我的限制是我必须在第一张图片结束后放置一个新的 div。但是它们出现在不同的行上。我用谷歌搜索了很多，发现 float:left 可以解决问题

我已经在使用它，但它们仍然以不同的方式出现。我不知道我哪里出错了。

[提琴手](http://jsfiddle.net/b9TWE/)

```
span.tab {
padding: 0 50px; /* Or desired space*/
}
.span.tab {
display: inline-block;
float:left;
}
 #div23 {
display: inline-block;
float: left;
}
#topdiv1 {
display: inline-block;
float: left;
}
    #topdiv3 {
display: inline-block;
float:left;
} 
```

html

```
 <br />
<div id='topdiv1'><div id="widget1" class="sticky1"> 
<div id='topdiv3'>
       <a href="http://jlkjlkj.org"> <img src="https://lh3.googleusercontent.com/-TrGnsESMpDc/AAAAAAAAAAI/AAAAAAAAAAA/lcUg6MaCxmg/photo.jpg?sz=50" /></a>
          <div id='div23'>

    <span class="tab"></span>
    <img src='https://lh3.googleusercontent.com/-TrGnsESMpDc/AAAAAAAAAAI/AAAAAAAAAAA/lcUg6MaCxmg/photo.jpg?sz=50'/>
</div> </div> 
```

请帮忙。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-01T04:50:05.297

您不会将浮动应用到父容器。您将浮动应用于子元素：

```
#topdiv3 > * {
    float:left;
} 
```

[http://jsfiddle.net/samliew/b9TWE/1/](http://jsfiddle.net/samliew/b9TWE/1/)

如果要删除图像之间的空间，请删除`span`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-01T04:53:34.920

[http://jsfiddle.net/b9TWE/2/](http://jsfiddle.net/b9TWE/2/)这修复了它，你只需要让`<a>`包含第一个图像浮动

```
#topdiv3 > a{
    float: left;
} 
```

[更多关于花车是如何工作的（很棒的文章）](http://alistapart.com/article/css-floats-101)

通过浮动第一个`<a>`包含图像的图像，您可以将其从常规文档流中删除。包含`<div>`秒图像将恢复正常流程并将其自身定位在`<a>`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-01T04:53:37.157

您`topdiv3`必须在 div 之前关闭`div23`。

```
<div id='topdiv1'>
<div id="widget1" class="sticky1">

    <div id='topdiv3'>
           <a href="http://jlkjlkj.org"> <img src="https://lh3.googleusercontent.com/-TrGnsESMpDc/AAAAAAAAAAI/AAAAAAAAAAA/lcUg6MaCxmg/photo.jpg?sz=50" /></a>
    </div>
     <div id='div23'>
        <img src='https://lh3.googleusercontent.com/-TrGnsESMpDc/AAAAAAAAAAI/AAAAAAAAAAA/lcUg6MaCxmg/photo.jpg?sz=50'/>
    </div> 
</div>
</div> 
```

[http://jsfiddle.net/arunu/8gvvr/](http://jsfiddle.net/arunu/8gvvr/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-01T04:54:04.640

我已经在 Firefox 上对其进行了测试，它的工作方式与您一样。

但无论如何，您的 html 标记有点混乱，不是吗？

# configuration - 为什么我不能读取 Jetty 上的其他文件，除了 root.war？

> ID：15150656
> 
> 赞同：0
> 
> 时间：2013-03-01T04:45:15.970
> 
> 标签：configuration, cgi, jetty

我在 Jetty 的 webapps 目录下有 root.war 和 cgi-bin-perl 目录。我能够在root.war 中运行UI 代码，但是我无法读取cgi-bin-perl 目录下的cgi 文件和xml 文件，例如hello.cgi、plugin.xml。它返回错误“找不到”。这是我的 etc/webdefault.xml 文件。我想念什么？

```
<servlet>
    <servlet-name>PerlCGI</servlet-name>
    <servlet-class>org.eclipse.jetty.servlets.CGI</servlet-class>
    <init-param>
        <param-name>commandPrefix</param-name>
         <param-value>/usr/bin/perl</param-value>
    </init-param>
    <init-param>
        <param-name>cgibinResourceBase</param-name>
        <param-value>/opt/jetty/webapps/cgi-bin-perl</param-value>
    </init-param>

    <load-on-startup>1</load-on-startup>
</servlet>

<servlet-mapping>
    <servlet-name>PerlCGI</servlet-name>
    <url-pattern>*.pl</url-pattern>
</servlet-mapping> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T14:48:49.670

您的 servlet 映射意味着只有以 pl 结尾的模式才会由 servlet 执行......这里没有任何东西可以提供该 url 下的其他文件。

如果您想访问这些文件，那么您应该在该 url 空间下设置一个默认 servlet 并让它提供这些文件。默认情况下，码头不会让您下载您喜欢的任何文件，您必须对其进行配置才能做到这一点！

# java - 如何在另一个 AsyncTask 期间启动 AsyncTask

> ID：15150657
> 
> 赞同：0
> 
> 时间：2013-03-01T04:45:20.320
> 
> 标签：java, android, android-asynctask

主题代码是：

```
public class AsyncTask1 extends AsyncTask <Void, Void, Boolean>{
    @Override
    protected Boolean doInBackground(Void... params){
        //...
        asyncTask2 = new AsyncTask2();
        //...
        Log.i("AsyncTask1","Launch asyncTask2");
        String taskResult = tasyncTask2.execute().get().toString();
        //...
    }
    //...
}

public class AsyncTask2 extends AsyncTask <Void, Void, String>{
//...
@Override
protected String doInBackground(Void... params){
    Log.i("AsyncTask2", "I have started");
    //...
}
//...
} 
```

此代码模板适用于 2.3.5 和 4.2，但在 Jelly Bean 更新后无法正常工作。为什么？

2.3.5

AsyncTask1 通知 +

AsyncTask2 通知 +

4.2（更新后）：

AsyncTask1 通知 +

AsyncTask2 通知 -

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T05:17:40.300

根据 Jellybean 之后 Asynctask 任务的文档部分，必须在 UI 线程上创建 Asynctask 实例。并且您创建实例 n 在另一个 asycntask 的后台执行其操作，这是另一个工作线程而不是 UI 线程。所以你不应该创建/在非 UI 线程中执行 asynctask 的实例

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T04:56:11.290

默认情况下，AsyncTask.execute 在 Android 3.0+ 上是单线程的，[根据 execute 的文档](http://developer.android.com/reference/android/os/AsyncTask.html#execute%28Params...%29)。

根据[此博客](http://commonsware.com/blog/2012/04/20/asynctask-threading-regression-confirmed.html)，您可以将 tasyncTask2.execute().get().toString() 替换为：

```
String taskResult;
if (Build.VERSION.SDK_INT>=Build.VERSION_CODES.HONEYCOMB) {
    taskResult = tasyncTask2.executeOnExecutor(AsyncTask.THREAD_POOL_EXECUTOR).get().toString();
}
else {
    taskResult = tasyncTask2.execute().get().toString();
} 
```

或者通过将您的 tasyncTask2.execute().get().toString() 替换为您在 AsyncTask2 的 doInBackground 方法中所做的本地方法调用来组合您的 AsyncTask。

# python - 在Python中删除二维列表元素中的字符

> ID：15150663
> 
> 赞同：-1
> 
> 时间：2013-03-01T04:46:36.140
> 
> 标签：python, list, 2d

我正在使用 python 中的二维列表

我有一个字符串列表 ( `m= [[0]*5 for i in range(5)]`)

在拆分另一个字符串并将其存储后，`m`我得到以下元素`m`：

```
m[0] = "< one"

m[1] = "two" 

m[2] = "three" 

m[3] = "four"

m[4] = "five >" 
```

如何删除`<`元素 0 中的`>`字符和元素 4 中的字符？

我正在尝试解析字符串 s。我正在解析它，以便以后可以将值存储到数据库中。这就是为什么我需要消除 < 。

实际代码：

```
 s ="< one > < two > < three > < four : 1 > < five : 2 > < six : 3 > < seven : 4 > < eight : 5 > < nine : 6 >"
    m= [[0]*5 for i in range(5)]
    m=s.split("> <")
    print "The original list"
    index=0
    for index in m:
        print index 
```

输出：

原名单

< 一

二

三

四：1

五：2

六：3

七：4

八：5

九：6 >

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T05:00:22.713

他在那里发布了代码......然后我的答案变成了：

```
s ="< one > < two > < three > < four : 1 > < five : 2 > < six : 3 > < seven : 4 > < eight : 5 > < nine : 6 >" 
m=s.split("> <") 

m[0].replace("<", "")
m[-1].replace(">", "")

print m
>>> [' one ', ' two ', ' three ', ' four : 1 ', ' five : 2 ', ' six : 3 ', ' seven : 4 ', ' eight : 5 ', ' nine : 6 '] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T06:28:36.660

如何正确拆分字符串以开始？

```
import re
from pprint import pprint

s ="< one > < two > < three > < four : 1 > < five : 2 > < six : 3 > < seven : 4 > < eight : 5 > < nine : 6 >"
res = re.findall('< (.*?) >', s)
pprint(res) 
```

给你：

```
['one',
 'two',
 'three',
 'four : 1',
 'five : 2',
 'six : 3',
 'seven : 4',
 'eight : 5',
 'nine : 6'] 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-01T05:39:00.050

您的输出看起来不正确-您确定要将项目存储在列表中吗？我建议对列表进行一些研究，一旦你弄清楚了，你可以简单地使用 remove() 方法：

```
m = ["<", "a", "b", "c", "d", ">"]

m.remove("<")
m.remove(">")

print m 

>>>['a', 'b', 'c', 'd'] 
```

编辑：刚刚看到你的编辑，它没有多大意义 - 你不能有两个不同的值占用相同的列表索引空间（在你的情况下是 m[2]）

# java - Android JSON解析器数组

> ID：15150665
> 
> 赞同：0
> 
> 时间：2013-03-01T04:46:37.037
> 
> 标签：java, android, json

班上：

```
 public class MainActivity extends Activity {

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        setContentView(R.layout.activity_main);

        new Read().execute("masjids");

    }

    public JSONObject retrieveInfo(String radius) throws ClientProtocolException,
            IOException, JSONException {
        StringBuilder url = new StringBuilder(
                "http://iqamah.org/api/index.php?lat=43&long=-79&radius=");
        url.append(radius);

        HttpClient httpclient = new DefaultHttpClient();
        HttpGet get = new HttpGet(url.toString());
        HttpResponse r = httpclient.execute(get);
        HttpEntity e = r.getEntity();
        String data = EntityUtils.toString(e);
        JSONObject timeline = new JSONObject(data);
        return timeline.getJSONObject("1");
    }

    private class Read extends AsyncTask<String, Integer, String> {

        ProgressDialog pd = null;

        @Override
        protected void onPreExecute() {
            super.onPreExecute();
            pd = new ProgressDialog(MainActivity.this);
            pd.setTitle("Loading...");
            pd.setMessage("Please wait...");
            pd.setCancelable(false);
            pd.show();

        }

        protected String doInBackground(String... arg0) {
            // TODO Auto-generated method stub
            try {
                JSONObject json = retrieveInfo("200");
                return json.getString(arg0[0]);
            } catch (ClientProtocolException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            } catch (IOException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            } catch (JSONException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            }
            return null;
        }

        @Override
        protected void onPostExecute(String status) {
            super.onPostExecute(status);
            pd.dismiss();

            TextView day = (TextView) findViewById(R.id.displayDay);
            day.setText("Masjid: " + status);

        }

    }

} 
```

JSON：

```
{
    "status": "ok",
    "masjids": [
        {
            "id": "44|Madina Masjid|1200 Danforth Ave, Toronto|49.99"
        },
        {
            "id": "39|Darul Taqwa|1 Thorncliffe Park Drive, Toronto|51.59"
        },
        {
            "id": "43|Darul Khair|25 St Dennis, Toronto|52.12"
        }
    ]
} 
```

我正在尝试访问`masjids->id[0]`数组，如何使用上面的代码执行此操作？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T04:50:37.620

```
String data = "{ "status": "ok", "masjids": [ { "id": "44|Madina Masjid|1200 Danforth Ave, Toronto|49.99" }, { "id": "39|Darul Taqwa|1 Thorncliffe Park Drive, Toronto|51.59" }, { "id": "43|Darul Khair|25 St Dennis, Toronto|52.12" } ] }";

JSONObject jObj = new JSONObject(data);
JSONArray jArray_masjids = jObj.getJSONArray("masjids");
String address = jArray_masjids.getJSONObject(0).getString("id"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T04:53:28.227

```
 JSONObject timeline = new JSONObject(data);
JasonArry jarry=timeline.getJsonArray("masjids");
for (int i = 0; i < jarry.length(); i++) {
JSONObject explrObject = jsonArray.getJSONObject(i);
String newStr = explrObject.getString("id");
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-01T04:54:43.200

尝试这个，

```
String data = "{ "status": "ok", "masjids": [ { "id": "44|Madina Masjid|1200 Danforth Ave,     Toronto|49.99" }, { "id": "39|Darul Taqwa|1 Thorncliffe Park Drive, Toronto|51.59" }, { "id":    "43|Darul Khair|25 St Dennis, Toronto|52.12" } ] }";

 JSONObject jObj = new JSONObject(data);
 JSONArray jArray_masjids = jObj.getJSONArray("masjids");
 for(int i = 0 ;i<jArray_masjids;i++){
 String address = jsonArray.getJSONObject(i).getString("id");

 } 
```

# sql - 如何在sql中按月年组合列按顺序显示数据结果？

> ID：15150666
> 
> 赞同：-3
> 
> 时间：2013-03-01T04:46:39.230
> 
> 标签：sql

我想按月和年的顺序显示以下数据

```
count     Date
-------  ----------
 5        Aug 2011 
 6        jan 2008
10        feb 2009 
```

我想首先显示一个 2008 年，然后是 2009 年，就像明智的排序日期一样，也应该按顺序显示月份

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T06:37:11.683

假设：

*   您正在尝试按年和月计算记录分组
*   您有一个名为的表`Table1`，其中有一列名为`EventDate`
*   您正在使用 SQL Server（您没有指定）
*   您不介意在输出中有额外的列（您可以忽略不需要的列）
*   您想按计数排序，然后按年排序，然后按月排序

基于这些假设，以下内容应该可以满足您的需求。

```
SELECT COUNT(*) AS Count,
        CONVERT(CHAR(3), DATENAME(MONTH, EventDate))
                + ' ' + CONVERT(CHAR(4), YEAR(EventDate)) AS Date,
        MIN(YEAR(EventDate)) AS Year, MIN(MONTH(EventDate)) AS Month
        FROM Table1
        GROUP BY CONVERT(CHAR(4), YEAR(EventDate)),
                CONVERT(CHAR(3), DATENAME(MONTH, EventDate))
        ORDER BY COUNT(*), Year, Month 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T07:13:15.657

这是解决方案..

```
select convert(char(3), Date, 0)+'  '+RIGHT(CONVERT(varchar, YEAR(Date)), 4) as [Date]
,count(id) as Count from Tabletest 
 group by convert(char(3), Date, 0)+'  '+ RIGHT(CONVERT(varchar, YEAR(Date)), 4),month(Date),YEAR(Date)
order by YEAR(Date),MONTH(Date) 
```

# javascript - 为不同的数据范围自动调整 jqplot 条形图的大小

> ID：15150667
> 
> 赞同：1
> 
> 时间：2013-03-01T04:46:43.910
> 
> 标签：javascript, jquery, jqplot

基本上我希望 jqplot 条形图能够根据传递给它的数据范围自动调整大小。

在我的应用程序中，数据范围（纵坐标）和刻度数可能会有所不同，因此我需要一些帮助来正确调整图表大小以避免任何重叠。

我曾尝试使用具有固定高度和宽度的 HTML 滚动，但它没有像我希望的那样工作。

此外，任何有关 jqplot X 轴滚动的帮助都将受到高度赞赏。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-01T11:02:58.017

您可以使用以下方法在渲染后获取 dataBounds 值：

```
var minY = plot2.axes.yaxis._dataBounds.min;
var maxY = plot2.axes.yaxis._dataBounds.max; 
```

（您可以使用 xaxis 类似地获得 minX 和 maxX。）

然后你可以要求 jqplot 使用这个边界来绘制精确的范围：

```
plot2.axes.yaxis.min = minY;
plot2.axes.yaxis.max = maxY; 
```

（再次对 xaxis 执行类似操作）；

最后，重新绘制图表：`plot2.replot();`

根据您的数据值，您的最​​终图表具有界限。

**编辑**

您也可以使用`plot2.yaxis._numberTicks`or处理 numberTicks `plot2.yaxis.numberTicks`（不确定哪个有效）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-01T05:01:11.460

`jqplot`没有内置功能来在大数据的情况下引入滚动条。您必须在您身边应用解决方法，例如`jquery slider`HTML div 滚动。

但是，我建议您使用[此处](http://www.jqplot.com/deploy/dist/examples/zoomProxy.html)`jqplot`所述的缩放功能

# apache - .htaccess 重定向没有查询字符串

> ID：15150670
> 
> 赞同：5
> 
> 时间：2013-03-01T04:46:54.007
> 
> 标签：apache, .htaccess

我正在尝试重定向（注意没有查询字符串）：

```
http://www.reviews.com/review/review_review.cfm?review_id=135223 
```

到

```
http://www.reviews.com/ 
```

目前的规则：

```
Redirect 301 /review/review_review.cfm http://www.reviews.com/ 
```

导致原始 URL 重定向到`http://www.reviews.com/?review_id=135223`

基于[这里](https://stackoverflow.com/questions/8956475/remove-query-string-from-redirected-url-with-htaccess)和[这里](https://stackoverflow.com/questions/11978066/htaccess-301-redirect-to-the-same-page-with-no-query-string)的一些堆栈问题，我应该能够`?`在重定向规则中添加一个，如下所示：

```
Redirect 301 /review/review_review.cfm http://www.reviews.com/? 
```

但这会重定向到`http://www.reviews.com/?`. 尾随 ? 遗迹。我该如何摆脱它，它正在杀死我。

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-03-01T05:11:52.113

`?`您无法使用 mod_alias摆脱多余的东西。这`?`将阻止附加查询字符串，但使用 mod_alias，不幸的是，它包含 a`?`作为重定向的一部分。但是，mod_rewrite 不会，因为添加`?`到末尾，告诉它不包含任何现有的查询字符串，其工作方式与 mod_alias 相同，但之后它会被 mod_alias 再次处理，减去尾随`?`，所以最终结果在 URL 的末尾没有尾随`?`。所以像：

```
RewriteEngine On
RewriteRule ^/?review/review_review.cfm$ http://www.reviews.com/? [L,R=301] 
```

这将取代`Redirect`声明。

# git - 删除 Bitbucket 中的分支

> ID：15150671
> 
> 赞同：159
> 
> 时间：2013-03-01T04:46:54.197
> 
> 标签：git, bitbucket, git-branch

我在我们的一个存储库中创建了许多分支。这些分支在被拉到主服务器之前用于测试。现在我在清单上看到了很多，我们再也不会使用它们了。如何将这些分支直接删除到 Bitbucket？

* * *

## 回答 #1

> 赞同：255
> 
> 时间：2013-03-05T16:45:30.787

如果分支只是本地的，如果分支已合并，则可以使用**-d ，例如**

```
git branch -d branch-name 
```

如果分支包含您从未计划合并的代码，请改用**-D**。

如果分支位于上游 repo 中（在 Bitbucket 上），您可以通过以下方式删除远程引用

```
git push origin :branch-name 
```

此外，如果您在 Bitbucket 网站上，您可以通过转到网站上**提交下的****功能分支**选项卡来删除您推送的分支。在那里你会找到一个省略号图标。单击它，然后选择**Delete branch**。只要确保你想把所有的改变都放在那里！

 ****[![在此处输入图像描述](../Images/72969a390ea5ffbaf702fa32d3324c49.png)](https://i.stack.imgur.com/qMHhy.png)

* * *

## 回答 #2

> 赞同：52
> 
> 时间：2015-08-11T09:22:34.483

要从 Bitbucket 中删除分支，

1.  转到概述（您的存储库 >左侧边栏中的*分支*）
2.  单击分支数（应显示分支列表）
3.  单击要删除的分支
4.  在右上角，单击 3 个点（在合并按钮旁边）。
5.  如果您有权限，可以选择“删除分支”。

* * *

## 回答 #3

> 赞同：25
> 
> 时间：2016-07-27T21:47:09.697

除了@Marcus 给出的答案之外，您现在还可以通过以下方式删除远程分支：

```
git push [remote-name] --delete [branch-name] 
```

* * *

## 回答 #4

> 赞同：14
> 
> 时间：2017-02-24T09:16:02.367

我可以删除我的大部分分支，但一个看起来像这样，我无法删除它：

[![在此处输入图像描述](../Images/625ee61dfd96320170d0f46b781ca8fe.png)](https://i.stack.imgur.com/qZSzg.png)

原来有人在`Branch permissions`下面`Settings`和从那里未经检查`Allow deleting this branch`。希望这可以帮助某人。

[![在此处输入图像描述](../Images/5a249b42a08eac46091e396a4809933d.png)](https://i.stack.imgur.com/fibvF.png)

**更新**：评论中的问题设置位于何处。输入您不想编辑的存储库以获取菜单。您可能需要管理员权限才能更改此设置。

[![在此处输入图像描述](../Images/5bae01239f6ed9013fed1d326193475c.png)](https://i.stack.imgur.com/WQBTa.png)

* * *

## 回答 #5

> 赞同：12
> 
> 时间：2017-09-20T06:03:25.530

在**Bitbucket**中转到左侧菜单中的分支。

1.  选择您要删除的分支。
2.  转到操作列，单击三个点 (...) 并选择删除。

* * *

## 回答 #6

> 赞同：5
> 
> 时间：2018-08-04T07:55:27.903

第 1 步：登录**Bitbucket**

第 2 步：在存储库列表中选择您的存储库。 [![在此处输入图像描述](../Images/829a179a8669267b28fa3c24c59970f3.png)](https://i.stack.imgur.com/ExwYG.png)

第 3 步：在左侧菜单中选择分支。 [![在此处输入图像描述](../Images/b87cbd69b869a35cc87e4495ff08e919.png)](https://i.stack.imgur.com/be5dz.png)

第4步：分支上的光标点单击三个点（...）选择删除（见下图） [![在此处输入图像描述](../Images/4bb7d125c33d158e959474b1fed22995.png)](https://i.stack.imgur.com/RNHcc.png)

* * *

## 回答 #7

> 赞同：3
> 
> 时间：2019-06-20T17:22:27.200

当我的仓库中的分支数量超过数百个时，我编写了这个小脚本。我不知道其他方法（使用 CLI），所以我决定使用 selenium 自动化它。它只是打开 Bitbucket 网站，转到分支，将页面向下滚动到最后，然后单击每个分支选项菜单 -> 单击删除按钮 -> 单击是。可以调整它以保留最后 N 个（100 - 默认）分支并跳过具有特定名称的分支（master、develop - 默认，可能更多）。如果这适合您，您可以尝试这种方式。

[https://github.com/globad/remove-old-branches](https://github.com/globad/remove-old-branches)

您只需要克隆存储库，下载正确版本的 Chrome-webdriver，输入一些常量，如存储库的 URL 并运行脚本。

代码简单易懂。如果您有任何问题，请写评论/创建问题。

* * *

## 回答 #8

> 赞同：2
> 
> 时间：2018-09-17T07:35:43.643

如果您正在使用 pycharm IDE 进行开发，并且您已经添加了 Git。您可以直接从 pycharm 中删除远程分支。 **从工具栏 VCS-->Git-->Branches-->Select branch--> 和 Delete**。它将从远程 git 服务器中删除它。

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2019-03-27T11:51:32.063

试试这个命令，它将清除所有已合并到分支的`develop`分支。

```
for i in `git branch -r --merged origin/develop| grep origin | grep -v '>' \
   | grep -v master | grep -v develop | sed -E "s|^ *origin/||g"`; \
do \
   git push origin $i --delete; \
done 
```

* * *

## 回答 #10

> 赞同：1
> 
> 时间：2021-09-08T13:00:05.010

在**Bitbucket**中转到您的项目，单击分支，单击三个点，然后单击**删除多个**。

此选项用于批量删除。

[![在此处输入图像描述](../Images/5018f6dc708dbca86e74e2d51bb0df58.png)](https://i.stack.imgur.com/079G1.png)

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2015-11-09T23:20:46.653

在**Android Studio**中，IDE 右上角的选项：

*   更改/结帐其他本地分支
*   删除不需要的本地分支（即 v0.0.1...）
*   **删除不需要的远程分支**（即 origin/v0.0.1...）——如果不阻止删除分支并且它们不是**MAIN BRANCH** ，则此步骤将删除 BitBucket 中的分支。

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2022-03-04T06:24:18.890

在 bitbucket Web 控制台中，当有活动的拉取请求时，删除分支被禁用。

* * *

## 回答 #13

> 赞同：0
> 
> 时间：2020-08-28T04:36:59.187

```
git push <repository> -d <branch> 
```

要获取`repository`, 输入`git remote -v`命令行

* * *

## 回答 #14

> 赞同：0
> 
> 时间：2018-06-12T09:58:51.327

如果你喜欢有趣，那么你可以去你的分支列表页面（例如合并），然后在 javascript 控制台中运行：

```
document.querySelectorAll('tr td div a:first-child').forEach(function(item) { fetch('https://bitbucket.org/snippets/new?owner=<yourprofilenick>', {'credentials': 'same-origin'}).then((response) => {return response.text()}).then(function(string) { return /'csrfmiddlewaretoken' value='(.*)'/g.exec(string)[1] }).then(function(csrf) { if (!~item.innerText.indexOf('/')) return; 
 fetch(`https://bitbucket.org/!api/2.0/repositories/<your_organization_path>/refs/branches/${item.innerText}`, {headers: {"x-csrftoken": csrf}, credentials: "same-origin", method: 'DELETE'}).then(() => console.log(`${item.innerText} DELETED!`)) }) }) 
```

## 运行前

*   替换`<yourprofilenick>`为您的 BitBucket 昵称
*   替换`<your_organization_path>`为您的组织路径

## 这个怎么运作

首先，我们需要一个在页面源中带有 CSRF 令牌的页面，所以我选择：

`https://bitbucket.org/snippets/new?owner=<yourprofilenick>`

然后对于每个分支（在分支列表中），它会获取 CSRF 令牌并删除该分支。

## 谨防

请记住在 repo 设置中删除之前防止敏感分支。

它不会删除主分支。

## 附加信息

您必须登录。

它只删除该页面上可见的分支（因此要删除其余分支，您必须转到下一页）。****

# c# - C#如何从RFID扫描自动确定？

> ID：15150672
> 
> 赞同：5
> 
> 时间：2013-03-01T04:47:00.950
> 
> 标签：c#, button, rfid

我有一个程序，其中用户在阅读器上点击 RFID 卡，程序将输入此数据。在这个程序中，有一个提示，我必须单击确定。RFID 卡被点击后，如何移除 OK 按钮并使其成为自动 OK 程序？

以下是程序的各个部分：

委托无效函数（）；

```
 private void serialPort1_DataReceived(object sender, SerialDataReceivedEventArgs e)
    {
        string sdsd = serialPort1.ReadLine();
        string Hexed = new LasalleRFIDComputerRentals.BLL.DAL.Utils().HexIt(sdsd);

        SetRFIDText(Hexed);
    }

    protected void SetRFIDText(string input)
    {
        this.Invoke(new Function(delegate()
        {
            txtRFID.Text = input;
        }));

        CustomerInfo customer = new Customer().GetCustomerByRFID(txtRFID.Text);

    }

    private void btnOk_Click(object sender, EventArgs e)
    {
        if (txtRFID.Text.Trim() == "")
        {
            MessageBox.Show(this, "Please supply the RFID.", "RFID Reader", MessageBoxButtons.OK);

            txtRFID.Focus();
            return;
        }

        CustomerInfo customer = new Customer().GetCustomerByRFID(txtRFID.Text);

        if (customer.CustomerID <= 0)
        {
            MessageBox.Show("Invalid RFID", "Validation");

            this.Close();
            return;
        }

        if (_parentForm == "StandBy")
        {
            Utils.CurrentCustomer.CustomerInfo = customer;

            frmStandBy form = (frmStandBy)this.Owner;

            form.xResult = "OK";
        }

        this.Close();
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-05-21T18:28:50.107

简单地分离OK按钮的逻辑

```
private void serialPort1_DataReceived(object sender, SerialDataReceivedEventArgs e)
{
    string sdsd = serialPort1.ReadLine();
    string Hexed = new LasalleRFIDComputerRentals.BLL.DAL.Utils().HexIt(sdsd);

    SetRFIDText(Hexed);
}

protected void SetRFIDText(string input)
{
    this.Invoke(new Function(delegate()
    {
        txtRFID.Text = input;
    }));

    // what is it for?
    //CustomerInfo customer = new Customer().GetCustomerByRFID(txtRFID.Text);

    SearchCustomer();

}

private void btnOk_Click(object sender, EventArgs e)
{
    SearchCustomer();
}

private void SearchCustomer()
{

    if (txtRFID.Text.Trim() == "")
    {
        MessageBox.Show(this, "Please supply the RFID.", "RFID Reader", MessageBoxButtons.OK);

        txtRFID.Focus();
        return;
    }

    CustomerInfo customer = new Customer().GetCustomerByRFID(txtRFID.Text);

    if (customer.CustomerID <= 0)
    {
        MessageBox.Show("Invalid RFID", "Validation");

        this.Close();
        return;
    }

    if (_parentForm == "StandBy")
    {
        Utils.CurrentCustomer.CustomerInfo = customer;

        frmStandBy form = (frmStandBy)this.Owner;

        form.xResult = "OK";
    }

    // what is it for?
    //this.Close();

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T04:59:05.273

```
private void serialPort1_DataReceived(object sender, SerialDataReceivedEventArgs e)
{
    string sdsd = serialPort1.ReadLine();
    string Hexed = new LasalleRFIDComputerRentals.BLL.DAL.Utils().HexIt(sdsd);

    SetRFIDText(Hexed);
    btnOK_click(sender, e);
} 
```

这没有回答“我如何删除确定按钮”的问题，因为您没有首先显示它是如何创建的 - 我怀疑您需要为此编辑表单定义。在这种情况下，将 btnOK_click 的代码从事件处理程序更改为“常规”函数（无论如何这都是个好主意）。

# node.js - 有什么方法可以让节点控制台告诉我附加到对象的所有可用方法？

> ID：15150673
> 
> 赞同：0
> 
> 时间：2013-03-01T04:47:05.423
> 
> 标签：node.js

例如，如果我想知道基础 http 类上可用的所有方法和属性、方法和事件，我可以输入类似的`http()?`内容，它会返回

```
http.createServer([requestListener])
http.createClient([port], [host]) 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-01T05:05:52.240

对于任何`require`类似的模块`http`，只需在控制台提示符处输入名称：

```
> http 
```

`http.`如果您在提示符下输入然后按 ，您会得到一个更整洁的演示文稿`Tab`。

两者都会告诉你可用函数的名称，但不会告诉你它们的参数。您需要检查文档。

# java - AVL 树 toString() 的实现

> ID：15150674
> 
> 赞同：0
> 
> 时间：2013-03-01T04:47:07.577
> 
> 标签：java, stringbuilder, avl-tree

这是我的 toString() 但它不能正常工作

```
public String toString() {
        StringBuilder str = new StringBuilder("{");
        traverse(root, str);
        str.append("}");

        return str.toString();
    }

    private void traverse(TreeNode node, StringBuilder str){
        if (node == null){
            return;
        }

        if (node.left != null) {
            traverse(node.left, str);
            str.append(", ");
        }

        str.append(node.left);

        if (node.right != null) {
            str.append(", ");
            traverse(node.right, str);
        }
    } 
```

这是方法打印出来的内容：{null, AbstractTreeMap$TreeNode@15a8767}

任何帮助表示赞赏。谢谢你

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-01T04:51:10.037

```
if (node.left != null) {
      inOrder(node.left, result);
      result.append(", ");
}

result.append(node.left); //should not be node.left 
```

改为这样做

```
if (node.left != null) {
     inOrder(node.left, result);
     result.append(", ");
}

result.append(node); //this will print the node itself 
```

也`TreeNode`没有`toString()`覆盖方法，因此它显示哈希码。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T04:50:48.060

1.  递归方法应该调用 result.append(node) 而不是 result.append(node.left)

2.  你的 TreeNode 类应该覆盖 toString（显示一些节点 ID），否则你会看到默认的 toString（来自 Object），它看起来像“AbstractTreeMap$TreeNode@15a8767”

# ios - B的子类（从A类继承）可以从A的子类而不是A本身继承吗？

> ID：15150679
> 
> 赞同：0
> 
> 时间：2013-03-01T04:47:52.337
> 
> 标签：ios, oop

我正在开发一个 iOS 应用程序的辅助功能项目。因为可访问性并不像宣传的那样，我必须在子类中覆盖`accessibilityFrame`,`accessibilityActivationPoint`和`pointInside:withEvent`，以便将 VoiceOver 识别的区域（用于绘图和触摸识别）扩展到控制视图的“自然”边界之外。因此，为了更改 a 的 VoiceOver 边界，`UIButton`我必须将该类子类化，然后添加这三个方法。为了做到这一点，`UILabel`我必须使用代码添加另一个子类，依此类推。

我可以将这些方法中的代码重构到一个中心位置，但我想知道这是否可以通过继承更优雅地完成。我想将此代码放入`UIView`（可能称为`UIViewAccessible`）的子类中，然后创建一个`UIButton`被调用的子类，该子类`UIButtonAccessible`继承自该子类，而该子类`UIButton`又将继承自. 这是可能的，还是可以用一个类别来完成这样的事情？`UIViewAccessible``UIView`

**编辑：**根据文档，您无法通过类别真正实现这一目标：

> 如果在一个类别中声明的方法的名称与原始类中的方法相同，或者与同一类（甚至是超类）上的另一个类别中的方法相同，则对于在哪个方法实现中使用的行为是不确定的运行。

还有其他方法可以做到这一点吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-01T05:44:00.020

要回答您的问题，不，它不能，因为您是继承链中`UIViewAccessible`的二级兄弟（两者都在某个时候继承）。但我猜你已经知道了。至于解决方案，您可以将可访问的类包装成一个装饰器，并使用强类型协议。这样您就可以将代码保存在一个地方。我在[这里](http://cocoaexposed.com/post/40353790996/advanced-delegation-decorator-pattern)更详细地描述了这种技术（尽管出于不同的目的，但情况相同）。`UIButton``UIView``UIView`

对于支持可访问性的视图，您必须这样做：

```
@property (nonatomic, strong) UIView<MyAccesibilityProtocol>* view;

//self.view can come from the nib or previously created in code
self.view = [[AccesibilityDecorator alloc] initWithDecoratedObject:self.view];

//you can then use self.view like any other UIView, 
//and because it also implements an 
//accessibility protocol, you can use the methods 
//implemented in the wrapper as well.
//more than that, you can control which methods to override
//in the AccesibilityDecorator class
[self.view addSubview:otherView];//could be overridden or not
[self.view myAccesibilityMethod];//custom method declared in the protocol 
```

# ios - IOS：NSString 的发布未按预期工作

> ID：15150685
> 
> 赞同：9
> 
> 时间：2013-03-01T04:48:22.773
> 
> 标签：ios, iphone, memory-management

我发现 NSString 有一个奇怪的行为。我尝试运行以下代码并注意到了这一点。

```
NSString *str = [[NSString alloc] initwithstring : @"hello"];
[str release];
NSLog(@" Print the value : %@", str); 
```

在这里，在第三行应用程序应该崩溃，因为我们正在访问一个已释放的对象。但它正在打印 str 的值。它没有崩溃。但是使用 NSArray 我观察到了不同的行为。

```
NSArray *array = [[NSArray alloc] initwithobjects : @"1",  @"2", nil];
[array release];
NSLog(@"Print : %@", [array objectatindex : 0]);
NSLog(@"Print : %@", [array objectatindex : 0]); 
```

该代码有两个用于 NSArray 的 NSLog 语句。这里在执行第一个NSLog时释放后，是打印值。但是当执行第二个 NSLog 时，应用程序崩溃了。应用程序崩溃是可以接受的，因为访问的数组已经被释放。但是在执行第一个 NSLog 时它应该会崩溃。不是第二个。

帮助我解决这些行为。在这些情况下发布如何工作。

谢谢吉腾

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-01T04:51:47.397

第一个示例不会崩溃，因为字符串文字永远不会被释放。代码真的是：

```
NSString *str = @"hello";
[str release]; 
```

人们在内存管理上被字符串文字所困扰，并错误地使用`==`来比较它们而不是`isEqualToString:`. 编译器做了一些导致误导性结果的优化。

**更新**：

下面的代码证明了我的观点：

```
 NSString *literal = @"foo";
    NSString *second = [NSString stringWithString:literal];
    NSString *third = [NSString stringWithString:@"foo"]; // <-- this gives a compiler warning for being redundant
    NSLog(@"literal = %p", literal);
    NSLog(@"second = %p", second);
    NSLog(@"third = %p", third); 
```

此代码提供以下输出：

> 2013-02-28 22:03:35.663 SelCast[85617:11303] 文字 = 0x359c
> 2013-02-28 22:03:35.666 SelCast[85617:11303] 秒 = 0x359c
> 2013-02-28 22:03:35.668 选择85617:11303] 第三 = 0x359c

请注意，所有三个变量都指向同一个内存。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-03-01T05:05:59.917

您的第二个示例在第二个崩溃，`NSLog`因为在第一个日志中，内存`array`没有被重新使用，但是第一个日志导致堆上的足够活动导致内存被其他东西使用。然后，当您尝试再次访问它时，您会崩溃。

每当一个对象被释放并且它的内存被标记为空闲时，就会有一段时间该内存仍然存储该对象的剩余内容。在此期间，您仍然可以在此类对象上调用方法等，而不会崩溃。这个时间非常短，如果你运行了很多线程，它甚至可能不足以让你的方法调用。所以很明显，不要依赖这个实现细节来进行任何行为。

正如其他人所说，关于您的第一个问题，`NSString`文字不会被释放。这对于其他一些 Foundation 类是正确的（`NSNumber`想到），但也是一个实现细节。如果您需要对内存管理进行实验，请改用`NSObject`实例，因为它不会显示异常行为。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-03-01T04:51:29.750

当您在对象上发送`release`消息时，该对象实际上**并没有从内存中删除**。释放消息只是**将引用计数减一**。如果引用计数为零，则该对象被标记为空闲。然后系统将其从内存中删除。在此释放发生之前，您可以访问您的对象。即使您`release`是对象，您的对象**指针仍然指向该对象**，除非您分配`nil`给该指针。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-01T04:56:44.980

第一个示例不会崩溃，因为字符串文字永远不会被释放。第二个完全取决于释放和保留计数器。

[阅读这篇文章。它包含对您的查询的简短说明](http://perspx.com/archives/cocoa-memory-management-etiquette/)

[你应该阅读这个苹果指南](http://developer.apple.com/library/ios/#documentation/Cocoa/Conceptual/MemoryMgmt/Articles/MemoryMgmt.html)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-01T09:40:17.010

您似乎认为`release`应该立即销毁该对象。我不认为这是语言做出的保证。意思`release`是：我已经用完了这个对象，我保证不再使用它。从那时起，由系统决定*何时*实际释放内存。

您看到的任何超出此范围的行为都未定义，并且可能会从 Objective C 运行时的一个版本更改为下一个版本。

也就是说，其他表明区别在于字符串文字和内存重用的答案*目前*是正确的，但假设行为总是这样可能是一个错误。

# c - 被用户关闭，因为人们使用我的作品作为他们自己的作品

> ID：15150687
> 
> 赞同：0
> 
> 时间：2013-03-01T04:48:48.643
> 
> 标签：c, clock, fibonacci

已删除，抱歉………………………………………………

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T04:59:02.653

使用`n=30`，您的程序会做如此少量的工作，以至于它会以粗粒度显示为零时间`clock`。在某些系统上，`clock`每 10 毫秒滴答一次。假设您有相当快的控制台 I/O，您可能在*数十或数百微秒*范围内，并且可能有 99.99% 的时间花在`printf`.

尝试输入一个更大的数字，比如 1000000。然后你应该得到一个非零的值。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T04:55:39.467

尝试这个

```
struct timeval start, end;
long mtime, secs, usecs;    

gettimeofday(&start, NULL);
// your processing.
gettimeofday(&end, NULL);
secs  = end.tv_sec  - start.tv_sec;
usecs = end.tv_usec - start.tv_usec;
mtime = ((secs) * 1000 + usecs/1000.0) + 0.5;
printf("Elapsed time: %ld millisecs\n", mtime); 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-03-01T04:53:54.623

~~问题是您正在进行整数除法，然后将其转换为浮点数。*否则，您的结果将向下*舍入到最接近的秒数。您需要`(y-x)`在划分之前转换为浮点数：~~

 ~~```
z = (float)(y-x) / CLOCKS_PER_SEC; 
```~~  ~~如果您的程序运行速度快于时钟粒度，那么无论您做什么，它都会出现为零（因为`y`和`x`将是相同的）。 ~~但至少使用浮点除法，否则您可以获得小数秒。~~

**[编辑]**实际上，我的错误。出于某种原因，我认为`x`and`y`是整数（因为您使用它们来存储 的返回值`clock`）。所以在这种情况下，你的运行速度可能比时钟周期快。

当您想要对快速操作进行基准测试时，您需要执行以下一项或两项操作：

*   多次重复操作（一千，一百万......）
*   使用更高分辨率的计时器~~

# c# - .NET (C#) 的 madSHI MadExcept 等效项

> ID：15150688
> 
> 赞同：6
> 
> 时间：2013-03-01T04:48:56.613
> 
> 标签：c#, delphi

我是一个 C# 新手，在 Delphi 上花了很多时间，我正在切换到 .NET。用于异常堆栈报告等的一个很棒的包是来自[http://madshi.net/madExceptScreenShots.htm](http://madshi.net/madExceptScreenShots.htm)的 madExcept 。

.NET (C#) 是否有等效的东西。我所追求的是在发生异常时将为我提供堆栈跟踪的东西。如果是这样，我假设我必须部署程序集的调试版本，因为这将具有必要的符号信息？或者我可以提供一个单独的调试 MAP 文件吗？

非常感谢所有指针。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-01T09:33:30.543

[`Exception.StackTrace`](http://msdn.microsoft.com/en-au/library/system.exception.stacktrace.aspx)与 Delphi 不同，如果 C# 异常可通过属性获得，则它们将为您提供堆栈跟踪。

如果您想要 MadExcept 其他方面的替代品（其中有不少），您应该明确询问他们。

# html - 文本超出流体div？

> ID：15150694
> 
> 赞同：1
> 
> 时间：2013-03-01T04:49:31.910
> 
> 标签：html, css, twitter-bootstrap, grid

我正在尝试使用 Bootstrap 制作一个流畅的响应式模板，但是每次页面在标题或段落中使用大量文本进行扩展时，或者当标题或段落中通常在 div 中存在大量文本时，它都会出现类是一个流畅的行....它在 div 之外将另一个 div 向下推。我该如何解决？[http://img850.imageshack.us/img850/4238/screenshot20130228at114.png](http://img850.imageshack.us/img850/4238/screenshot20130228at114.png)

```
 ![<div class="container-fluid">
      <div class="div-1">
        <div class="page-header">
          <h1>Page heading <small>Subheading</small>
          </h1>
        </div>
      </div>
      <div class="row-fluid">
        <span class="span3">
          <h1 class="heading">Headingaaaaaaaaaaaaaaaaaaaaaaaaaa</h1>
          <p>Lorem Ipsum...aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa</p>
        </span>
        <span class="span6">
          <h1 class="heading">Heading</h1>
          <p>Lorem Ipsum...</p>
        </span>
        <span class="span3">
          <h1 class="heading">Heading</h1>
          <p>Lorem Ipsum...</p>
        </span>
      </div>
    </div> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-01T05:33:10.170

这是一个简单的修复...

只需添加以下 CSS：

```
.row-fluid {
    word-wrap: break-word;  
} 
```

加载这个 jsFiddle 示例，然后点击运行。只需拉伸结果框即可清楚地看到它。

[jsFiddle 示例来修复非换行的长词](http://jsfiddle.net/chrisallenmoore/5fdd6/)

另请注意，在您的示例中，您的单词很长，没有中断，这就是它真正超出边缘的原因。大多数单词可能不会运行那么长时间。但是，假设你有“Supercalifragelousexpialidocious”这个词，可能需要这个修复。:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T05:04:49.500

使用这个 CSS 代码。它将从容器边界结束的地方断线

```
.test2
{
 word-break:break-all;
} 
```

# sql-server-2008 - 如何从多个帐户的同一列中提取多个条目？

> ID：15150696
> 
> 赞同：1
> 
> 时间：2013-03-01T04:49:45.643
> 
> 标签：sql-server-2008

我正在从几个表中提取财务信息并将其汇总到另一个表中。我想要的是通过 accountID 从资产负债表表中选择几个账户项目，对项目求和，然后将结果保存到另一个表中。我需要为几个客户做这个。我已经在这段代码中解决了部分问题：

```
;with
T1 AS (
SELECT CompanyID, QEndDate, Qtr, [50], [76] FROM (
SELECT CompanyID, ItemID, CAST(Amount AS DECIMAL(18,4)) AS Amount, QEndDate, Qtr from BalanceSheet 
WHERE CompanyID = 2335 AND (ItemID = 50 OR ItemID = 76) AND Amount <> '-'
AND QA = 'Q' )as s 
PIVOT (MAX(Amount) FOR ItemID IN ([50], [76])) AS P 
) 

UPDATE Funds SET Funds.EV = (@mCap - ([50] + [76])) / @EB 
FROM T1
INNER JOIN Funds ON T1.CompanyID = Funds.CompanyID 
```

以上适用于一家公司，但我需要一次做几个。

一点补充信息：资产负债表包含所有信息作为 VARCHAR，因此 <> '-'，一些公司（但不是全部）使用它来表示不适用，而不是零。

50 和 76 是 Accounts 表中的项目编号，表示金额属于哪个帐户。

我从资产负债表中提取金额和项目并将它们组合在一行上，以便我可以访问这些项目，执行一些数学运算并生成存储在 Funds 表中的结果。我希望一切都说得通。

那么我怎样才能把它变成可以为我需要的尽可能多的客户执行操作的东西。

谢谢，也特别感谢所有贡献想法和代码的好人，让我能走到这一步。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T11:47:34.720

是什么阻止了在许多公司工作的这种情况？

您通过选择“WHERE CompanyID = 2335”来限制公司；只是扩大枢轴内的数据范围。如果这没有帮助，那么不确定我是否理解限制在哪里。

# android - How to draw triangle shape and add it into relative or linear layout android

> ID：15150701
> 
> 赞同：5
> 
> 时间：2013-03-01T04:50:30.120
> 
> 标签：android, android-linearlayout, ondraw

I am developing small android application in which I m using my custom linear layout class. In that class i tried to draw one small triangle and tried to include it in to my linear layout but I m not able to do that. I tried it in following ways ...

```
@SuppressLint("DrawAllocation")
public class SimpleLin extends LinearLayout {
    public String TAG = "CustomviewActivity";   
    LinearLayout parentLayout;

    public SimpleLin(Context context) 
    {
        super(context);
        LayoutInflater inflater = (LayoutInflater)context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
        if(inflater != null){   
        view = inflater.inflate(R.layout.main2, this);d.lin_llt);
        parentLayout.setBackgroundResource(R.drawable.bcd);

      }

    }

    public SimpleLin(Context context, AttributeSet attrs) {

        super( context, attrs );

        context1= context;
    }

    protected void onDraw(Canvas canvas) {

        super.onDraw(canvas);
        Log.i("############################", "inside ondraw");
        Paint p = new Paint();
        p.setStyle(Style.FILL);
        p.setColor(Color.RED);
        Point point = new Point();
        point.x = 80;
        point.y = 80;
        Path path = getEquilateralTriangle(point, 70, Direction.SOUTH);
        Bitmap b = Bitmap.createBitmap(500, 500, Bitmap.Config.ARGB_8888);
        canvas.drawPath(path, p);
    }
    public static Path getEquilateralTriangle(Point p1, int width, Direction direction) {
        Point p2 = null, p3 = null;

        if (direction == Direction.NORTH) {
            p2 = new Point(p1.x + width, p1.y);
            p3 = new Point(p1.x + (width / 2), p1.y - width);
        }
        else if (direction == Direction.SOUTH) {
            p2 = new Point(p1.x + width,p1.y);
            p3 = new Point(p1.x + (width / 2), p1.y + width);
        }
        else if (direction == Direction.EAST) {
            p2 = new Point(p1.x, p1.y + width);
            p3 = new Point(p1.x - width, p1.y + (width / 2));
        }
        else if (direction == Direction.WEST) {
            p2 = new Point(p1.x, p1.y + width);
            p3 = new Point(p1.x + width, p1.y + (width / 2));
        }

        Path path = new Path();
        path.moveTo(p1.x, p1.y);
        path.lineTo(p2.x, p2.y);
        path.lineTo(p3.x, p3.y);

        return path;
    }
    public enum Direction 
    {
        NORTH, SOUTH, EAST, WEST;
    }

    @SuppressWarnings("deprecation")
    public void initialiseImages()
    {
        invalidate();
    }
} 
```

I am calling `initialiseImages` method from my activity where i wanted to use this custom layout. So problem is that It not calling my on draw method when i use invalidate(). That's why it not drawing my triangle. and I am also confuse how to include that triangle into my `parentlayout`.. Is there wrong in my code.. How to draw such shapes in android... Need help... Thank you...

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-03-01T06:12:56.387

Code for Custom Linear Layout (I modified your code so its easier for you to understand)

```
import android.content.Context;
import android.graphics.Canvas;
import android.graphics.Color;
import android.graphics.Paint;
import android.graphics.Paint.Style;
import android.graphics.Path;
import android.graphics.Point;
import android.util.AttributeSet;
import android.util.Log;
import android.widget.LinearLayout;

/**
 * @author Atrix1987
 * 
 */
public class CustomView extends LinearLayout {

    /**
     * @param context
     */
    public CustomView(Context context) {
        super(context);
        commonConstructor(context);
    }

    /**
     * @param context
     * @param attrs
     */
    public CustomView(Context context, AttributeSet attrs) {
        super(context, attrs);
        commonConstructor(context);
    }

    /**
     * 
     */
    Paint trianglePaint;
    /**
     * 
     */
    Path trianglePath;

    /**
     * @param context
     */
    private void commonConstructor(Context context) {
        trianglePaint = new Paint();
        trianglePaint.setStyle(Style.FILL);
        trianglePaint.setColor(Color.RED);
        Point point = new Point();
        point.x = 80;
        point.y = 80;
        trianglePath = getEquilateralTriangle(point, 70, Direction.SOUTH);
    }

    @Override
    protected void onDraw(Canvas canvas) {

        Log.i("Sample", "inside ondraw");
        //avoid creating objects in onDraw
        canvas.drawPath(trianglePath, trianglePaint);
    }

    private Path getEquilateralTriangle(Point p1, int width, Direction direction) {
        Log.i("Sample", "inside getEqui");
        Point p2 = null, p3 = null;

        if (direction == Direction.NORTH) {
            p2 = new Point(p1.x + width, p1.y);
            p3 = new Point(p1.x + (width / 2), p1.y - width);
        } else if (direction == Direction.SOUTH) {
            p2 = new Point(p1.x + width, p1.y);
            p3 = new Point(p1.x + (width / 2), p1.y + width);
        } else if (direction == Direction.EAST) {
            p2 = new Point(p1.x, p1.y + width);
            p3 = new Point(p1.x - width, p1.y + (width / 2));
        } else if (direction == Direction.WEST) {
            p2 = new Point(p1.x, p1.y + width);
            p3 = new Point(p1.x + width, p1.y + (width / 2));
        }

        Path path = new Path();
        path.moveTo(p1.x, p1.y);
        path.lineTo(p2.x, p2.y);
        path.lineTo(p3.x, p3.y);

        return path;
    }

    public enum Direction {
        NORTH, SOUTH, EAST, WEST;
    }

} 
```

The code for the activity (For simplicity and as a shortcut i did this, you can also specify it in the xml and just setContentView):

```
import android.app.Activity;
import android.graphics.Color;
import android.os.Bundle;
import android.widget.LinearLayout;
import android.widget.LinearLayout.LayoutParams;

/**
 * @author Atrix1987
 *
 */
public class SampleActivity extends Activity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        CustomView cv = new CustomView(getApplicationContext());
        cv.setBackgroundColor(Color.WHITE);
        setContentView(cv, new LinearLayout.LayoutParams(LayoutParams.FILL_PARENT, LayoutParams.FILL_PARENT));
    }

} 
```

Do explore the developer site [links](http://developer.android.com/training/custom-views/create-view.html) for custom views, for more insight.

Hope this helps.

PFB the screenshot![The screenshot from the sample i ran](../Images/959a9ad16b68be335d6afb2b563a4456.png)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-09-27T16:26:08.660

If you are wanting a drawable you can use, try this [http://looksok.wordpress.com/2013/08/24/android-triangle-arrow-defined-as-an-xml-shape/](http://looksok.wordpress.com/2013/08/24/android-triangle-arrow-defined-as-an-xml-shape/) sadly I can't claim credit

# java - 表单不提交选择的值

> ID：15150706
> 
> 赞同：2
> 
> 时间：2013-03-01T04:50:52.943
> 
> 标签：java, jsp, struts2

我有以下**正确显示选项的下拉列表，但是**当我选择一个项目并提交表单时，它会遇到以下错误：

```
'select', field 'list', name 'name': The requested list key 'listnames' could not be 
 resolved as a collection/array/map/enumeration/iterator type. Example: people or 
 people.{name} - [unknown location] 
```

我的 JSP 表单

```
 <s:form method="POST" action="addNames">
            <s:select name="name"
                      label="Names"
                      list="listnames"
                      />
     </s:form> 
```

我的行动

```
 @Action
 public class Myaction implements ModelDriven{
    private MyClass myclass = new MyClass();
    private List listnames = new ArrayList();

   @Override
   public MyClass getModel() {
      return this.myclass;
   }

  public List getListnames() {
     return listnames;
  }

  public void setListnames(List listnames) {
     this.listnames = listnames;
 } 

   public MyClass getMyClass() {
       return myclass;
 }

   public void setMyClass(MyClass myclass) {
       this.myClass = myclass;
   }
 } 
```

我的课

```
 public class MyClass {
   private String name;

   ..... getter and setters go here ....
 } 
```

支柱

```
<package name="MyUsers" extends="default" namespace="/MyUsers">
        <action name="*" method="{1}" class="com.myproject.controller.Myaction">
            <result name="uAdd" type="tiles" >uAdd</result>
            <result name="uView" type="tiles" >uView</result>
        </action>
    </package> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-01T04:55:29.933

**第 1 步**：确保`listnames`正确完成getter 和 setter for

**第 2 步**：确保您已`listnames`正确完成 List的声明和初始化

**更新 2** 示例

***struts.xml***

```
<action name="getText" class="commonpackage.ReportsCommonClass" method="getText">
<result name="success">index.jsp</result>
</action>

<action name="myaction" class="commonpackage.ReportsCommonClass" method="myaction">
<result name="success">index2.jsp</result>
</action> 
```

***索引.jsp***

```
 <s:form id="conform" action="myaction" method="post">
 <label>NAME</label>
     <s:select id="name1" name="name1" list="mylist" headerKey="0" headerValue="--SELECT--"/>              

<s:submit value="Click" />  
 </s:form> 
```

***在 commonpackage.ReportsCommonClass 类中***

```
ArrayList mylist=new ArrayList();

    public ArrayList getMylist() {
        return mylist;
    }

    public void setMylist(ArrayList mylist) {
        this.mylist = mylist;
    }

  public String getText()
  {
      mylist.add("NAME 1");
       mylist.add("NAME 2");
        mylist.add("NAME 3");
         mylist.add("NAME 4");
          mylist.add("NAME 5");
       return SUCCESS;
  }
  String name1;

    public String getName1() {
        return name1;
    }

    public void setName1(String name1) {
        this.name1 = name1;
    }

  public String myaction()
  {
       System.out.println("NAMEEEEEEEEEEEEEEEEEEEEE:"+name1);
       return SUCCESS;
  } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-01T04:55:29.153

在您的操作类中为 name 提供 getter setter。由于您在提交表单时选择标签名称是名称`<s:select name="name">`，因此它将在您的操作类中搜索属性名称。这可能是您的问题

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-01T04:57:39.947

像这样更改您的选择标签

```
 <s:form method="POST" action="addNames">
            <s:select name="myclass.name"
                      label="Names"
                      list="listnames"
                      />
     </s:form> 
```

**编辑：**

**问题：** 我猜你是直接点击jsp，因此没有任何动作执行。如果没有任何动作执行，则请求中没有任何列表。

**解决方案。** 以执行操作类的方式点击 URL，并且列表应在呈现 jsp 或视图之前初始化或填充。

在action类中创建一个类似**populateView**的方法并执行这个方法而不是直接执行JSP。

希望你明白我想说什么。

# sql - 在 Magento 中更新产品名称、描述、简短描述

> ID：15150710
> 
> 赞同：1
> 
> 时间：2013-03-01T04:51:18.120
> 
> 标签：sql, magento

这个答案几乎提供了这个解决方案[https://stackoverflow.com/a/14249171](https://stackoverflow.com/a/14249171) 它确实正确地替换了产品名称。

但我需要更进一步，检查产品名称、描述和简短描述，以在所有三个区域中将“示例”替换为“测试”。我不确定是否可以修改提供的当前脚本以包含这些其他属性。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T08:49:22.457

这可以解决问题：

```
$newName = str_replace('example','test',$product->getName());
$product->setName($newName); 
```

找到它并添加其他属性：

```
$newDescription = str_replace('example','test',$product->getDescription());
$product->setDescription($newDescription);
$newShortDescription = str_replace('example','test',$product->getShortDescription());
$product->setShortDescription($newShortDescription); 
```

然后像这样保存每个属性：

```
$product->getResource()->saveAttribute($product,'description');
$product->getResource()->saveAttribute($product,'short_description'); 
```

或者只是保存产品（耗费时间和资源）

```
$product->save(); 
```

要仅选择名称或描述或 short_desc 中具有示例的产品，请使用此

```
 -addAttributeToFilter(array(array('attribute'=>'name','like'=>'%example%'), array('attribute'=>'description','like'=>'%example%'),array('attribute'=>'short_description','like'=>'%example%'))) 
```

代替

```
->addAttributeToFilter('name',array('like','%example%')) 
```

# ios - 对象和文件所有者的自定义类以及通过 IB 的步骤之间的混淆差异

> ID：15150713
> 
> 赞同：2
> 
> 时间：2013-03-01T04:51:29.713
> 
> 标签：ios, uiview, ios6

这是另一个“我很困惑的问题”。所以我正在努力将自定义视图引入视图控制器。我将概述错误的确切步骤。

1.  创建单视图应用程序项目
2.  通过 File -> New -> User Interface -> View 创建一个 Nib 文件；称之为NIB.xib。添加一个简单的标签以确保加载。
3.  添加以下代码：

    ```
    UIView *view = [[[NSBundle mainBundle] loadNibNamed:@"theNIB" owner:self options:nil] objectAtIndex:0];
    view.frame=CGRectMake(10.0f,10.0f,100.0f,100.0f);
    view.backgroundColor=[UIColor orangeColor];
    [self.view addSubview:view]; 
    ```

这行得通。

现在我要做的是将此笔尖与 UICustomView 连接，因此我通过 File -> New -> UIView 创建 ArcView。

'4。在 IB 中，我需要将 NIB 连接到 ArcView，因此我在占位符中突出显示文件的所有者并在自定义类中选择 AcrView。

![在此处输入图像描述](../Images/a33f904d629c85445cd5c620436b06d2.png)

“5。” 然后我选择主视图并将其设置为自定义类中的 ArcView。

![在此处输入图像描述](../Images/871ff443bf4bdbe9feeac122b306bbba.png)

我不知道下一步是什么，或者是否需要 4 个或 5 个（两者/都不是）？我是否尝试在 ArcView 中创建插座引用以查看 Interface Builder 中的主视图？我应该能够从视图 Alt 拖动到助手编辑器中的头文件（我目前不能）吗？

提前谢谢

** 编辑 1 **

这是带有 arcView 集的文件所有者：

![在此处输入图像描述](../Images/9524adaf35c4368333bbcbac9e59324f.png)

未设置 arcView 的视图对象：

![在此处输入图像描述](../Images/505bf801d7c51c93f2541ae9f0913fc5.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T06:14:20.970

在父类的 @interface 部分中定义一个 IBOutlet @property，如下所示：

```
@property (weak, nonatomic) IBOutlet ArcView *arcView 
```

然后进入Interface Builder，右键单击File's Owner。当您在黑色 HUD 窗口中看到“arcView”时，将鼠标从该项目拖到您在 XIB 上的视图中。

现在您有了 arcview 控件的属性，您可以像使用任何控件（如 UIButton、UILabel 等）一样使用它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-01T07:31:02.373

设置文件的所有者 == 您的 UIView 子类，以便您可以将插座连接到它。您应该将笔尖绘制的 UIView 类设置为同一个子类，因为它是该 UIView 子类的一个实例。

换句话说，请按照以下步骤操作：

1.  创建一个名为 CustomView 的 UIView 子类
2.  创建一个 UIView xib 新文件 -> 用户界面 -> 视图
3.  将文件的所有者更改为 CustomView
4.  将视图的类更改为 CustomView
5.  如果您愿意，可以添加子视图，将它们作为出口连接到文件所有者（CustomView）

您的崩溃正在发生，因为您的代码是这样说的：

```
UIView *view = [[[NSBundle mainBundle] loadNibNamed:@"theNIB" owner:self options:nil] objectAtIndex:0]; 
```

但那`owner:self`是运行此代码的视图控制器。您希望视图子类成为 nib 的所有者。

要解决此问题，请让您的 UIView 子类从 nib 初始化自身，如下所示：

自定义视图.h

```
@interface CustomView : UIView

- (id)initFromNib;

@end 
```

自定义视图.m

```
#import "CustomView.h"

@interface CustomView ()
// connect this in the XIB to file's owner that you've set to this CustomView class
@property (weak, nonatomic) IBOutlet UILabel *myLabel;
@end

@implementation CustomView

- (id)initFromNib
{
    self = [[[NSBundle mainBundle] loadNibNamed:@"CustomView" owner:self options:nil] objectAtIndex:0];

    if (self) {
        // prove you can set properties on your outlets
        self.myLabel.text = @"this is good";
    }
    return self;
} 
```

我建立了一个小项目，里面只有这些东西，就像描述的那样。工作正常。让我知道您是否想看它，我会想办法给您发送一个匿名 zip。

# ios - 自动续订订阅和非消耗性 IAP

> ID：15150716
> 
> 赞同：2
> 
> 时间：2013-03-01T04:51:29.967
> 
> 标签：ios, subscription, in-app-purchase, newsstand-kit, auto-renewing

我有一个杂志应用程序，我想为用户提供一年的自动续订订阅，对于非订阅用户，他们可以使用非消耗性 IAP 支付每期然后下载。实施它的最佳方法是什么？

对于自动续订订阅，我认为这不是问题。我可以按照[http://www.viggiosoft.com/blog/blog/2011/10/29/at-newsstand-and-subscriptions/](http://www.viggiosoft.com/blog/blog/2011/10/29/at-newsstand-and-subscriptions/)上的教程完成这部分。但对于非消耗性 IAP 部分，我不确定。在提交应用程序之前，我是否需要为将来的问题添加所有非消耗性 IAP？如果我这样做，Apple 怎么会审查我的 IAP，因为在审查时还没有准备好未来的问题。或者，我可以在我的应用发布到应用商店后添加非消耗性 IAP 吗？例如，每次在我们的服务器中准备好一个新问题时，我们在 iTC 中添加一个新的 non-soncumable IAP，并将产品 ID 设置为服务器中的问题。当非订阅用户单击该问题时，将开始购买指定产品 ID。可能吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-04T09:37:54.157

经过一些研究，我发现实现它的最佳方法是在每次要发布新问题时设置新的非消耗性 IAP。

唯一的问题是，每个 IAP 都需要提交审核，在审核通过之前，尝试购买 issue 的用户会收到错误消息：“无法连接到 iTunes 商店”。我还没有弄清楚如何知道 IAP 正在审核中，因此我可以弹出一条更好的消息，例如“问题正在审核，请稍候”，而不是令人困惑的错误消息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-25T14:05:16.343

> 我有一个杂志应用程序，我想为用户提供一年的自动续订订阅，对于非订阅用户，他们可以使用非消耗性 IAP 支付每期然后下载。实施它的最佳方法是什么？

您应该接受您的解决方案，但这是另一种情况，也许它可以帮助您或其他人：

订阅者可以拥有他们的杂志，这些杂志不在 iTunes 服务器上，而是在您的主机上。那些杂志不需要绕过苹果评论。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-07-03T05:49:49.593

这取决于您是否希望用户能够将他们购买的问题的记录永久存储在他们的应用收据中。如果您希望用户能够删除应用程序及其所有相关内容，然后重新安装应用程序，并能够下载他们之前购买的特定过期问题，您可能希望这样做——所有这些都无需任何用户帐户在你自己的服务器上。使用非消耗性应用内购买还使您能够让他们在登录到该 Apple ID 的多台设备上访问这些问题，而无需运行您自己的用户帐户-服务器组合来跟踪购买的问题。

如果这些功能对您来说不重要，那么您可以考虑一个更简单的解决方案，您不必不断创建新的应用内购买产品。拥有一个名为*Purchase One Issue*之类的可消耗应用内购买产品。当一个人购买此产品时，他们会获得一个积分，他们可以使用它来选择他们希望获得访问权限的问题。然后，您的应用程序允许他们访问该问题。当然，您也可以在 UX 中反转此过程：他们选择问题，单击购买，您将他们发送到*购买一个问题*产品的购买过程中，并且您自动授予他们访问所选问题的权限，因为他们已经选择了它。

注意：消耗性应用内购买不存储在应用收据中，因此用户无法使用此方法“恢复以前的购买”。然而，在可以接受的情况下，一旦设置，这是一种劳动密集程度低得多的方法。

# c++ - 如何使用 Visual Studio 2005 构建 64 位？

> ID：15150717
> 
> 赞同：0
> 
> 时间：2013-03-01T04:51:38.633
> 
> 标签：c++, visual-studio

我将 Visual Studio 2005 用于 C++ 项目。我想用 64 位构建这个项目。但是配置管理器中没有选项。我如何在 64 中构建它？它需要在 Visual Studio 2005 中构建。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T04:57:26.377

在项目属性>链接器>高级>目标机器中，选择“MachineX64”

# jsp - 在 Jsp 中使用显示标签时，我无法将标题导出到我的 excel 或 pdf

> ID：15150719
> 
> 赞同：1
> 
> 时间：2013-03-01T04:51:42.643
> 
> 标签：jsp, displaytag

我在我的 jsp 文件中使用 Display 标签来导出列表或表格内容。除了我提到的标题之外，我可以导出所有表格详细信息。请注意如何以 excel 或 pdf 格式导出我的标题。

我在下面粘贴了我的代码..

```
<display:table name="requestScope.reportmanagementForm.domainList" requestURI="" export="true" id="id" pagesize="4" cellpadding="25">

     <display:caption media="html">

    <strong>A Caption</strong>

    </display:caption>

    <display:caption media="excel pdf">A Caption</display:caption>

    <display:setProperty name="export.pdf" value="true" />
    <display:column title="Vertical Name"  property="vertical.name"/>
    <display:column title="Domain Name"  property="name"/>
    <display:column title="Domain Description"  property="desc"/>
    <display:column title="Remarks"  property="remarks"/>
    <display:column title="Super User IPN"  property="domainSuperAdmin"/>
    <display:column title="Start Date" property="formatedStartDate"/>
    <display:column title="End Date"  property="formatedEndDate"/>
    <display:setProperty name="export.excel.filename" value="List.xls"/>
    <display:setProperty name="export.csv.filename" value="List.csv"/>
    <display:setProperty name="export.pdf.filename" value="List.pdf"/>

    </display:table> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-04T07:21:53.143

从摆脱这个错误，你必须添加以下罐子：

```
commons-beanutils
commons-fileupload-1.0 
jakarta-jstl-1.1.2
jakarta-oro
jcl104-over-slf4j-1.4.2
log4j-1.2.13
poi-3.2-FINAL
slf4j-log4j12-1.4.2
struts
displaytag-1.2
displaytag-export-poi1.2
displaytag-portlet-1.2 
```

此外，您必须在您的动作类包中创建一个名为 displaytag.properties 的属性文件，并且您必须粘贴下面粘贴的代码。

显示标签属性：

```
displaytag.properties:

export.types=csv excel xml pdf rtf 
export.excel=true
export.csv=true
export.xml=true
export.pdf=true
export.rtf=true
export.excel.class=org.displaytag.export.excel.DefaultHssfExportView
export.pdf.class=org.displaytag.export.DefaultPdfExportView
export.rtf.class=org.displaytag.export.DefaultRtfExportView 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-07-21T09:25:54.423

您也可以导出字幕，但要做到这一点，您需要为此付出一些努力。

对于任何类型的自定义（您通常不会得到），您需要`ExportView` 通过实现`ExportView`接口来创建您自己的。

[这个答案将给出一些解释](https://stackoverflow.com/questions/10562760/display-tag-export-to-excel-with-the-css-formatting-of-the-html-page/24860956#24860956) 阅读这个答案。*虽然要求不一样，但程序是一样的*。

如果您已阅读链接，那么将知道一些方法`doExport`

`public void setParameters(TableModel tableModel, boolean exportFullList, boolean includeHeader,boolean decorateValues)`在您的课程中，您将通过方法获得一个表格模型。
实际上，这`tableModel`包含了 html 中显示的所有信息。
现在您可以获取标题并将其写入使用以下内容：

```
sheet.createRow(rowNum++).createCell(0).setCellValue(tableModel.getCaption()); 
```

**查看此源代码以了解连击解释。它也是一个`ExportView`
[ExcelHssfView](http://grepcode.com/file/repo1.maven.org/maven2/displaytag/displaytag-export-poi/1.2/org/displaytag/export/excel/ExcelHssfView.java)** 并阅读显示标签 [显示标签配置的文档](http://www.displaytag.org/1.2/configuration.html) `export.export name.class`

# ios - xcode如何在数据库的集合视图单元格中显示图像

> ID：15150721
> 
> 赞同：2
> 
> 时间：2013-03-01T04:51:56.913
> 
> 标签：ios, xcode, uicollectionview, sqlite

我只是一个初学者。我想在集合视图单元格中显示存储在数据库中的图像。我已经创建了数据库和集合视图。我的代码如下，

```
MyDatabase *data;
data=[MyDatabase new];
imagearray=[data OpenMyDatabase:@"SELECT pic_name FROM exterior" :@"pic_name"]; 
```

所以我的问题是如何显示图像？让我知道方式/代码提前谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-01T05:08:44.363

您可以将以下代码用于显示`UIImage`网格。`UICollectionView`为您的`xib`文件添加。不要忘记设置`delegate`in 集合。

```
- (NSInteger)numberOfSectionsInCollectionView:(UICollectionView *)collectionView
    {
        return  noOfItem/ noOfSection;
    }

    - (NSInteger)collectionView:(UICollectionView *)collectionView 
         numberOfItemsInSection:(NSInteger)section
    {
        return noOfSection;
    }

    - (UICollectionViewCell *)collectionView:(UICollectionView *)collectionView 
                      cellForItemAtIndexPath:(NSIndexPath *)indexPath
    {
          static NSString *identifier = @"Cell";

    UICollectionViewCell *cell = 
     [collectionView dequeueReusableCellWithReuseIdentifier:identifier 
                                               forIndexPath:indexPath];

    UIImageView *recipeImageView = (UIImageView *)[cell viewWithTag:100];
    recipeImageView.image = [imageArray objectAtIndex:
                             (indexPath.section * noOfSection + indexPath.row)];

    return cell;

    } 
```

在您的 xib 文件中，将 UIImageView 添加到您的**CollectionViewCell**并将其**标记**值更改为 100。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-01T05:04:42.850

请通过以下链接。

[http://developer.apple.com/library/ios/#documentation/UIKit/Reference/UICollectionView_class/Reference/Reference.html](http://developer.apple.com/library/ios/#documentation/UIKit/Reference/UICollectionView_class/Reference/Reference.html)

以上链接来自苹果开发者网站。它包含 UIcollectionview 的所有详细信息以及相关的教程。下面的 URL 也有示例教程，这将对您有很大帮助。

[http://www.raywenderlich.com/22324/beginning-uicollectionview-in-ios-6-part-12](http://www.raywenderlich.com/22324/beginning-uicollectionview-in-ios-6-part-12)

您已从数据库中检索到图像数组。现在它将充当集合视图的数据源。您需要形成 UICollectionViewCell ，它将相应地具有这些图像。请研究以上链接，您将了解。

# facebook - 通过网络应用在墙帖中自定义内容

> ID：15150722
> 
> 赞同：0
> 
> 时间：2013-03-01T04:52:00.250
> 
> 标签：facebook, facebook-graph-api, facebook-php-sdk

我开发了一个网站，我希望用户能够在 facebook 上分享他们的活动。我可以使用图形 api 发布简单的消息和图像，但我需要能够发布自定义内容，就像 Foursquare 和其他应用程序一样。例如，当 Foursquare 用户在 facebook 上分享他的签到时，它会显示一张地图和一个包含该地点的一些图像的信息框。如何自定义 Facebook 帖子中显示的内容？

# ios - NSString 的问题

> ID：15150724
> 
> 赞同：-3
> 
> 时间：2013-03-01T04:52:04.597
> 
> 标签：ios, objective-c

我的头文件中有一个字符串，名为

```
NSString *enemy; 
```

在实现文件中，我正在从这样的 plist 文件中初始化该字符串

```
NSString *path = [[NSBundle mainBundle] pathForResource:@"Settings" ofType:@"plist"];
NSDictionary *data = [NSDictionary dictionaryWithContentsOfFile:path];

NSDictionary *level_data = [data objectForKey:[@"Level" stringByAppendingFormat:@"%d", level]];

enemy = [level_data objectForKey:@"enemy"]; 
```

然后是这个“敌人”字符串，当我在这样的方法中使用它时

```
-(void) addEnemy{
    if([enemy isEqualToString:@"Ostrich"]){
        [some_Obj valueCalc:t];
    }
} 
```

第一次调用该“addEnemy”方法时效果很好，但是当我再次调用此方法时，字符串“enemy”会引发异常。调试后，我知道在第二次调用方法“addEnemy”时，字符串“enemy”在调试器中显示“Variable is not NSString”。

但是如果我像这样初始化“敌人”

```
enemy = [[NSString alloc] initWithString:[level_data objectForKey:@"enemy"]]; 
```

然后它工作得很好。

谁能告诉我为什么会出现上述问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T05:02:03.843

> 我的头文件中有一个字符串，名为
> 
> NSString *敌人；

这表明这是一个 iVar。

你需要有一个@property。您必须`strong`在 ARC 或`retain`MRC 中使用。

随着每次都被释放并创建新实例。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T05:02:43.803

在 .h 文件中声明并将属性添加到此变量，更多信息请阅读[此文档](http://cagt.bu.edu/w/images/b/b6/Objective-C_Programming_Language.pdf)。

```
@property (nonatomic, strong) NSString *enemy; 
```

我认为这对你有帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-01T05:03:46.833

您提供的信息不足以确切说明出了什么问题，但听起来问题在于在调用`enemy`之前已被释放`-addEnemy`。`@property`通过使用访问器而不是直接设置和访问实例变量，您将为自己省去很多麻烦。

在你的头文件中：

```
@interface MyClass : NSObject

@property (nonatomic, strong) NSString *enemy;

@end 
```

在您的实现 (.m) 文件中：

```
- (void)initializationMethod // Don't know what this really is in your code
{
    // get level_data from plist
    self.enemy = [level_data objectForKey:@"enemy"];
}

// Then in -addEnemy:
- (void)addEnemy
{
    if([self.enemy isEqualToString:@"Ostrich"])
    {
        [some_Obj valueCalc:t];
    }
}

// If (and only if) you're not using ARC, you need this. But, really you should use ARC.
- (void)dealloc
{
     [_enemy release];
     [super release];
} 
```

这样，@property 的合成 setter 方法会`enemy`为您保留，因此不会从您的下方释放。您还真的应该[阅读](https://developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/MemoryMgmt/Articles/MemoryMgmt.html)Objective-C 内存管理，特别是如果您不打算使用 ARC。请参阅[我](https://stackoverflow.com/a/14904463/344733)对[这个问题](https://stackoverflow.com/q/14903920/344733)的回答，以了解为什么使用访问器方法是个好主意的更多原因。

# ruby-on-rails - Capistrano 和每当阶段变量

> ID：15150725
> 
> 赞同：4
> 
> 时间：2013-03-01T04:52:10.940
> 
> 标签：ruby-on-rails, capistrano, whenever, whenever-capistrano

在我们的登台服务器上，我们在生产环境中运行我们的 Rails 应用程序，以便尽可能与我们的生产服务器相似。我们使用任何时候来创建我们的 crontab。但是，我们需要为站点地图生成运行一个稍微不同的 rake 任务，这样它就不会 ping Google 和 Bing。

在 deploy.rb 中，我们有： `set :stages, %w(production staging)`，但是在 deploy/staging.rb 和 deploy/production.rb 我们都`:rails_env, "production"`设置了，所以我不能使用`Rails.env`.

在`schedule.rb`，我想做类似的事情：

```
every :day, at: '1am' do
  if @stage == 'production'
    rake 'sitemap:refresh'
  else
    rake 'sitemap:refresh:no_ping'
  end
end 
```

如何使该变量可用？

**更新**

我能够通过放置来解决它

`set :whenever_variables, defer { "stage=#{stage}" }`

进入我的 deploy/staging.rb。然后我可以访问`@stage`schedule.rb

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-01T06:10:48.973

不确定这是否可行，但值得一试（来自[无论何时自述文件](https://github.com/javan/whenever#capistrano-integration)）

```
# deploy.rb
set :whenever_environment, defer { stage }
require "whenever/capistrano" 
```

然后在你的 schedule.rb

```
set :environment, ENV['RAILS_ENV']

case environment
when 'production', 'staging'
  ...
when 'production'
  ...
when 'staging'
  ...
end 
```

更新：您也可以使用

```
set(:whenever_command) { "STAGE=#{stage} bundle exec whenever" } 
```

这样您就可以访问`STAGE`内部的环境变量`schedule.rb`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-11-15T23:26:21.827

该`defer`方法似乎不适用于 Capistrano (3.4.1) / 无论何时 (0.9.7) 的更高版本。我遇到了一个错误`NoMethodError: undefined method 'defer' for main:Object`。这对我有用：

部署.rb：

```
set :whenever_environment, Proc.new { fetch :stage } 
```

时间表.rb：

```
if @environment == 'production'
  every 15.minutes, roles: [:my_custom_role] do
    rake 'my_rake_task'
  end
end 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-04-12T16:45:39.200

@jvnill 有正确的答案。如果您将 config/deploy/ 用于单独的环境，则可以通过将设置放在适当的阶段来保持它的整洁。

```
# config/deploy/staging.rb
set :whenever_command, "STAGE=#{stage} bundle exec whenever"

# config/deploy/production.rb
set :whenever_command, "STAGE=production bundle exec whenever"

# config/deploy.rb
require "whenever/capistrano" 
```

通过要求 'whenever/capistrano'，您需要在 deploy:finalize_update 之后运行whenever。

[https://github.com/javan/whenever/blob/master/lib/whenever/capistrano/v2/hooks.rb](https://github.com/javan/whenever/blob/master/lib/whenever/capistrano/v2/hooks.rb)

# java - 在 ConcurrentHashMap 中添加值时发生线程争用

> ID：15150727
> 
> 赞同：1
> 
> 时间：2013-03-01T04:52:11.910
> 
> 标签：java, multithreading, thread-safety

我正在考虑多线程代码中发生`count`的次数。`exceptions`因此，我所做的是，我创建了一种方法`addException`，在该方法中我使用`AtomicInteger`.

`addException`方法接受两个参数，`one is the String`和 other`boolean flag`表示我们是否要因为任何异常而终止程序。意思是，如果该标志为真，那么只要有任何异常，我都需要终止程序。

因此，如果您查看我的下面的`catch`块，我有`addException`用于计算异常的方法调用，并且在该方法调用下面我也在记录异常。

```
ExecutorService service = Executors.newFixedThreadPool(threads);

    for (int i = 0; i < threads; i++) {
            service.submit(new ReadTask());
    }

class ReadTask implements Runnable {

    public static ConcurrentHashMap<String, AtomicInteger> exceptionMap = new ConcurrentHashMap<String, AtomicInteger>();

public ReadTask() {

}

@Override
public run() {

    try {

        .........

    } catch (ClassNotFoundException e) {
        addException(e.getCause() != null ? e.getCause().toString() : e.toString(), Read.flagTerminate);
        LOG.error("Threw a ClassNotFoundException in " + getClass().getSimpleName(), e);
    } catch (SQLException e) {
        addException(e.getCause() != null ? e.getCause().toString() : e.toString(), Read.flagTerminate);
        LOG.error("Threw a SQLException while making connection to database in " + getClass().getSimpleName(), e);
    }
}

    /**
     * A simple method that will add the count of exceptions and name of
     * exception to a map
     * 
     * @param cause
     * @param flagTerminate 
     */
    private static void addException(String cause, boolean flagTerminate) {
        AtomicInteger count = exceptionMap.get(cause);
        if (count == null) {
            count = new AtomicInteger();
            AtomicInteger curCount = exceptionMap.putIfAbsent(cause, count);
            if (curCount != null) {
                count = curCount;
            }
        }
        count.incrementAndGet();

        if(flagTerminate) {
            System.exit(1);
        }
    }
} 
```

**问题陈述：-**

此代码是否可能存在任何线程争用？如果是，我怎样才能`addException`以更好的方式编写方法来避免`Thread Contention`？

这里有没有更**有效**的写法`addException`？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-01T05:13:58.017

您的代码在逻辑上看起来是正确的，但仍然存在线程争用的可能性。

考虑如果每个线程都抛出相同的异常会发生什么：它们将在更新`AtomicInteger`跟踪异常计数时进行序列化。

解决这个问题真的没有简单的方法：如果所有线程都在更新同一条数据，那么它们几乎必须序列化。这不是问题。那只是现实。

有**很多**方法可以解决这个问题，但它会将一段简单、正确的代码变成一场复杂的噩梦。

您应该问的问题是“我**需要**提高效率吗？” 答案很可能是否定的，因为几乎按照定义，例外情况很少见。只有在前一个问题的答案是肯定的情况下，才应该问“我*如何*使它更有效率”的问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T04:57:42.187

```
 //This check-then-act block can cause two threads can see count as null
    if (count == null) {
        count = new AtomicInteger();
        AtomicInteger curCount = exceptionMap.putIfAbsent(cause, count);
        if (curCount != null) {
            count = curCount;
        }
    } 
```

`Map<Class<?>,AtomicInteger>`建议：1） where Class 将是异常的类怎么样。

**更新：** 尝试`ThreadLocals`在这里使用每个线程将拥有**自己的地图副本，**并将在自己的副本中更新。所以零争用。

# standards - 是否有与文化无关的“香草”数字的标准表示？

> ID：15150736
> 
> 赞同：1
> 
> 时间：2013-03-01T04:52:47.393
> 
> 标签：standards, iso

我正在编写规范，需要指定数值的文化中性字符串表示。类似于 ISO-8601 的日期。

最好我希望将我的数值表示为“标准符号中的十进制数”。作为小数分隔符，没有千位分隔符，尾随零可选。” 例如，八千半将由“80000.5”或“80000.50”表示

是否有此规范的标准，或任何可以明确解析的文化中立表示的标准？

我查看了货币规范，但似乎唯一处理的是符号/货币代码。
ISO-30 看起来很有希望，但对小数分隔符没有明确的立场。

# javascript - 如何在悬停时显示隐藏的 div 并动态添加其他 div

> ID：15150737
> 
> 赞同：0
> 
> 时间：2013-03-01T04:52:48.897
> 
> 标签：javascript, html

我有一个`<article>`和一个`<section>`，当你将鼠标悬停在 上时`article`，它会显示隐藏的`<section>`。它工作正常。但是，我们需要添加它`article`并`section`动态更改需要触发的 css 类。

我有一个 JS 小提琴，它显示具有相同类的 div 并触发两个隐藏部分。

编辑：这是[js小提琴](http://jsfiddle.net/vanduzled/nD7dW/2/)

我想要做的是拥有多个`div`s，它将更新 javascript 和 css 中的类，以便我可以在悬停在特定文章上时触发正确的隐藏部分。

这将用作悬停时显示片段的新闻列表。后端是 ASPX。

# hibernate - Hibernate Native SQL Mapping to Entity with Selection Example

> ID：15150739
> 
> 赞同：1
> 
> 时间：2013-03-01T04:52:57.337
> 
> 标签：hibernate, native-sql

我尝试创建本机 sql 查询并使用参数映射到实体类但失败。

```
/**
     * @return
     */
    public List<PoolRuleMapping> getAllPRM() {
        Session session = null;
        List<PoolRuleMapping> prmList = null;

        try {
            session = HibernateSessionFactory.getSession();

            Query q = session.createSQLQuery("select * from pool_rule_mapping").addEntity(PoolRuleMapping.class);
            prmList = q.list();

        } catch (HibernateException e) {
        } finally {
            session.close();
        }

        return prmList;
    } 
```

请举个例子。谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-01T08:56:05.740

你可以试试下面的代码。

```
session.createSQLQuery("select * from pool_rule_mapping")
 .addScalar("ID", Hibernate.LONG)
 .addScalar("NAME", Hibernate.STRING)
 .addScalar("SOMEDATE", Hibernate.DATE)
 .addEntity(PoolRuleMapping.class); 
```

此外，您可以尝试为各个字段指定别名。

```
select prm.id AS ID, prm.name AS NAME, prm.somedate as SOMEDATE from pool_rule_mapping prm 
```

# javascript - 电子商务类网站的数据绑定

> ID：15150741
> 
> 赞同：0
> 
> 时间：2013-03-01T04:53:15.123
> 
> 标签：javascript, html, web-applications, data-binding

我很好奇开发人员用来获取数据库中每个具有不同属性的项目的方法，将它们作为 DOM 元素插入到 HTML 中，然后允许用户选择这些项目，同时仍然绑定数据，因此对数据库的以下查询是相对的给用户点击。

例如，假设我有一个销售服装和服饰的电子商务网站。数据库可能包含 productID、productName、productColors 等。现在我使用这些数据创建一些 DOM 元素以在页面上显示所有这些项目。当用户单击一个项目时，我希望有一个弹出窗口以有组织的方式显示所有信息，包括图像和所有内容。

那么我怎样才能将哪些项目从客户端选择到服务器？开发人员必须有很多方法来处理这个问题，但我不确定这将如何实现？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T21:39:38.810

查看前端 MVC 框架。对于您提出的特定问题，这是一个大锤，但它们从您那里抽象出许多数据绑定，因此您可以将精力花在其他地方。不过有很多：addyosmani.github.com/todomvc

有关用例审查的更多信息，请查看：

[http://coding.smashingmagazine.com/2012/07/27/journey-through-the-javascript-mvc-jungle/](http://coding.smashingmagazine.com/2012/07/27/journey-through-the-javascript-mvc-jungle/)

祝你好运！

# c++ - C++中的多态性

> ID：15150749
> 
> 赞同：-2
> 
> 时间：2013-03-01T04:53:48.257
> 
> 标签：c++, polymorphism

好的，所以我知道有很多多态线程飞来飞去，但我还没有遇到这种情况。

```
class Base {
public:
    virtual void method1() {
        cout << "BaseMethod1" << endl;
    }

    void method2() {
        cout << "BaseMethod2" << endl;
    }
};

class Derive: public Base {
public:
    void method1() {
        cout << "DeriveMethod1" << endl;
        method2();
    }

    void method2() {
        cout << "DeriveMethod2" << endl;
    }
};

int main() {
    Base* p = new Derive();
    p->method1();
} 
```

让我绊倒的是派生类中的method1调用了method2。那么，既然 Base 类中的 method2 没有被声明为 virtual，那么它会是哪个 method2？

提前谢谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-01T04:55:41.160

有问题的代码将无法编译，因为`Base::method1()`已声明`private`。它需要`public`能够从`main`.

* * *

`Derived::method1()`是隐含的`virtual`，即使没有标记为`virtual`。所以`this`in`Derived::method1()`指向一个`Dervied`对象，在这个范围内编译器只能看到`Derived::method2()`. 因此`Derived::method2()`将被调用。派生类中的方法**隐藏**了基类中相同的命名方法。

* * *

**好读：**

**[警告：Derived::f(char) 隐藏 Base::f(double) 是什么意思？](http://www.parashift.com/c++-faq/hiding-rule.html)**

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-01T04:59:48.537

您不经常看到这种模式的主要原因是它实际上是一种反模式。

将调用 Derived 方法，因为您使用 Derived 对象引用 (this) 调用它。如果您使用 Base 类引用调用它，您将获得 Base 方法。

如果您重新声明了一个非虚拟方法，那么您将隐藏基本方法并破坏多态性。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-01T04:59:05.940

它将用作从类本身开始的`Derive::method2()`名称查找（在正文中）。`Derive::method1()`

# javascript - 如何在jquery的alertbox中更改字体样式

> ID：15150751
> 
> 赞同：0
> 
> 时间：2013-03-01T04:54:01.537
> 
> 标签：javascript, jquery

出于设计目的，如何更改警报框中的字体颜色和样式。实际上我在我的项目中使用了会话，如果用户直到 30 秒才响应，我正在尝试使用警报框或任何其他方式警告用户。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T04:56:09.783

做一个 console.log( $(this) ) 而不是 alert

然后像添加 CSS

```
$(this).css('font-size','12px'); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T04:55:18.277

`alertbox`是内置的，所以我们不能编辑它。您可以创建对话框并根据需要设置它们的样式。

# ruby-on-rails - Rails：根据 url 显示搜索结果

> ID：15150755
> 
> 赞同：0
> 
> 时间：2013-03-01T04:54:21.590
> 
> 标签：ruby-on-rails, search

我正在使用“mongoid_search”在我的应用程序的索引页面上进行搜索。

返回结果的 url 类似于：“/profiles?utf8=✓&profile_search=San+Antonio%2C+TX”

我将如何让 /location/sanantonio-tx 返回与搜索 url 相同的结果？

基本上，“位置”之后的任何内容都应转换为“profile_search”查询字符串。

另外，是否可以保持 URL 相同？（例如：'/location'san-antonio-tx" url 不会变成查询字符串）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T10:47:05.167

查看您提供的代码，似乎搜索是在“配置文件”控制器的“索引”操作中执行的。如果是这种情况，您可以创建一条新路线：

```
#config/routes.rb
match '/location/:profile_search' => 'profiles#index' 
```

这将调用“profiles”控制器的“index”操作，同时将 url 的“/location/”部分之后的所有内容作为名为“profile_search”的参数提供

欲了解更多信息： http: [//guides.rubyonrails.org/routing.html](http://guides.rubyonrails.org/routing.html)

# sencha-touch-2 - 煎茶触摸单选按钮矩阵

> ID：15150759
> 
> 赞同：2
> 
> 时间：2013-03-01T04:55:08.527
> 
> 标签：sencha-touch-2

谁能帮我在 sencha touch 中制作一个单选按钮矩阵。矩阵的结构将在 JSON 文件中定义。这是我想要实现的图像

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-03T10:21:38.310

您可能会发现 dataview 组件在创建您想要的内容时很有用。这是一个绘制了相当复杂布局的[演示。](http://www.senchafiddle.com/#HWu1K)

# python - 在 Blender 中以编程方式创建模型

> ID：15150760
> 
> 赞同：3
> 
> 时间：2013-03-01T04:55:15.407
> 
> 标签：python, blender, fractals

我想以编程方式在 Blender 中创建一个 3D 模型，例如：

```
createcube(loc,axis) 
```

我该怎么做呢？
（使用 Python？，如何？）
（我想用它来创建 3D 分形）

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-01T05:00:00.107

是的。Python 是 Blender 的内置语言。你可以在 Blender UI 上做的所有事情都可以在 python 代码中完成。

这是一些创建网格的示例代码：

```
#----------------------------------------------------------
# File meshes.py
#----------------------------------------------------------
import bpy

def createMesh(name, origin, verts, edges, faces):
    # Create mesh and object
    me = bpy.data.meshes.new(name+'Mesh')
    ob = bpy.data.objects.new(name, me)
    ob.location = origin
    ob.show_name = True
    # Link object to scene
    bpy.context.scene.objects.link(ob)

    # Create mesh from given verts, edges, faces. Either edges or
    # faces should be [], or you ask for problems
    me.from_pydata(verts, edges, faces)

    # Update mesh with new data
    me.update(calc_edges=True)
    return ob

def run(origin):
    (x,y,z) = (0.707107, 0.258819, 0.965926)
    verts1 = ((x,x,-1), (x,-x,-1), (-x,-x,-1), (-x,x,-1), (0,0,1))
    faces1 = ((1,0,4), (4,2,1), (4,3,2), (4,0,3), (0,1,2,3))
    ob1 = createMesh('Solid', origin, verts1, [], faces1)
    verts2 = ((x,x,0), (y,-z,0), (-z,y,0))
    edges2 = ((1,0), (1,2), (2,0))
    ob2 = createMesh('Edgy', origin, verts2, edges2, [])

    # Move second object out of the way
    ob1.select = False
    ob2.select = True
    bpy.ops.transform.translate(value=(0,2,0))
    return

if __name__ == "__main__":
    run((0,0,0)) 
```

从这里复制： [https ://archive.blender.org/wiki/index.php/Dev:2.5/Py/Scripts/Cookbook/Code_snippets/Meshes/](https://archive.blender.org/wiki/index.php/Dev:2.5/Py/Scripts/Cookbook/Code_snippets/Meshes/)

转到此链接，看看您是否找到要解决的问题。

# java - 需要帮助将用户输入分配到不断增加的字符串数组中

> ID：15150764
> 
> 赞同：1
> 
> 时间：2013-03-01T04:55:23.257
> 
> 标签：java, arrays, loops, user-input, auto-increment

基本上我总体上想做的是：

您的一位教授听说了您的新兴编程专业知识，并要求您编写一个可用于帮助他们评分的 SINGLE 程序。教授给出了三门 50 分的考试和一次 100 分的期末考试。您的程序将提示用户输入学生的姓名，输入为 Firstname Lastname（即 Bob Smith）、学生的 3 次考试成绩和 1 次期末考试成绩（全部为整数）。班级规模因学期而异，但限制为 100 人（声明为常数）。

在进行任何计算或显示任何输出之前，请阅读所有学生的信息。确认 3 次考试成绩在 0-50 分之间，并且在输入时确保期末考试成绩在 0-100 分之间。将最小值和最大值声明为常数，以便根据需要轻松更新它们。如果无效，则显示错误消息并允许用户重新输入该无效分数。读入所有学生信息后，以 LASTNAME、FIRSTNAME（全部大写）的格式显示每个学生的姓名、学生的考试百分比（所有考试的总和加上可能的期末/总数）到小数点后 1 位和学生的期末成绩。

但我无法弄清楚如何将用户输入分配到一个数组中（或者 2 个数组可能是因为名字和姓氏？）但我很不知道该怎么做，这就是我现在所拥有的：

```
import java.util.*;
import java.text.*;

public class Proj4 {
public static void main(String[] args){
Scanner s= new Scanner(System.in);
String input;
String again = "y";

int [] exams = new int[4];
int student = 1;

do
{

    String [] names = new String[student];
        System.out.print("PLease enter the name of student " + student + ": " );
        names[student-1] = s.nextLine();
        for ( int i = 0; i < exams.length; i++){
            if(i==3){
                System.out.print("Please enter score for Final Exam: ");
                exams[i] = s.nextInt();
            }
            else{
            System.out.print("Please enter score for Exam " + (i+1) + ": ");
            exams[i] = s.nextInt(); 

                if((exams[0]<0||exams[0]>50)||(exams[1]<0||exams[1]>50)||(exams[2]<0||exams[2]>50)){
                    System.out.println("Invalid enter 0-50 only...");
                    System.out.print("Please re-enter score: ");
                    exams[i] = s.nextInt();
                }
                else if(exams[3]<0||exams[3]>100){
                    System.out.println("Invalid enter 0-100 only...");
                    System.out.print("Please re-enter score: ");
                    exams[i] = s.nextInt();
                }
            }
        }
        System.out.print("do you wish to enter another? (y or n) ");
        again = s.nextLine();
        if(again!="y")
            student++;
}while (again.equalsIgnoreCase ("y"));
}
} 
```

如果我的代码还有其他问题，那么帮助也很棒。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-01T05:35:33.650

首先，声明需求指定的常量：

```
final int MAX_STUDENTS = 100; 
final int MIN_EXAM = 0; 
final int MAX_EXAM = 50; 
final int MIN_FINAL = 0; 
final int MAX_FINAL = 100\. 
```

然后，由于您只允许使用数组，因此声明两个数组。一个将保存学生姓名，另一个将保存考试成绩。因此，它们将具有不同的类型。将 String 数组初始化为最大学生数。将测试成绩数组初始化为 4 * MAX_STUDENTS，因为每个学生将有 4 个考试成绩：

```
String[] student_names = new String[MAX_STUDENTS];
int[] exam_scores = new int[MAX_STUDENTS * 4]; 
```

当您读入一个新学生时，将他/她的名字放在 student_names 数组的新索引中。然后，当您阅读每个后续测试分数（3 次考试，1 次期末考试）时，逐渐填充exam_scores 数组。

当您要打印分数时，请保留一个变量来跟踪打印的exam_scores 数组的最后一个索引。这样，当您移动到另一个学生（当您遍历数组时）时，您就会知道您在exam_scores 数组中的中断位置。

还有其他（更好的）方法可以做到这一点（例如使用列表是最好的，但即使使用数组你也可以得到比这更有趣的方法）。我不确定你到目前为止学到了什么，所以选择了最基本的方法来实现这个程序。

# javascript - 在 HTML 中交叉合并表格的列和行

> ID：15150767
> 
> 赞同：0
> 
> 时间：2013-03-01T04:55:29.427
> 
> 标签：javascript, jquery, html, css

有没有办法交叉合并html表的列和行，（如下图的红色区域。）

![在此处输入图像描述](../Images/ad3600fad5ec359cae2cb441a0d257ad.png)

提前致谢..！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2020-02-11T14:28:23.013

```
<style>
#div{
    width: 600px;
    height:300px;
    background-color: red;
    overflow: hidden;
    }
#div #div1{
    background-position: left;
    width:50%;
    height: 50%;
    background-color:black;
    }
</style>
```

```
<body>
    <div id="div">
    <div id="div1">
    </div>
    </div>
</body>
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T05:16:01.157

这是你想要的。

[http://jsfiddle.net/bittu4u4ever/Ht7yY/](http://jsfiddle.net/bittu4u4ever/Ht7yY/)

图像浮动需要此 CSS

```
img {
    float: left;
    margin: 20px 10px 10px 0;
} 
```

# php - php如何在cakephp中扩展名为.ctp的文件中执行？

> ID：15150770
> 
> 赞同：3
> 
> 时间：2013-03-01T04:55:38.223
> 
> 标签：php, css, cakephp

我是 cakephp 新手。我想知道 php 代码如何执行扩展名为 .ctp 的文件。php如何在cakephp中的.ctp文件扩展名中执行？如何使用 cakephp 技术在扩展名为 .css 的文件中执行 php 代码？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-01T11:01:00.077

视图中的代码被执行是因为 Cake 使用`include`它来处理它。你可以自己做同样的事情：

```
include('any_file_you_want.with_any_extension'); 
```

只要有一个 PHP 开始标签并且语法正确，该文件中的任何代码都将被执行。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-01T05:04:12.130

看 cakephp 遵循 MVC 架构。

```
Hence the files structures are divided into 3 main modules:-

1.Model:- This the file in which you write your validations.
2.COntroller:- This the file where you write your programs logic.
3.View:- This is the file where you write your output/design in the form of HTML and also write Java script.

Now coming back to your question. The .ctp files are nothing but the View part of the cakephp. They are initiated/ called by the controllers. The controllers act as a heart of ur php.They are the one's to call your .ctp file and execute the file and also css files are called and handled by them only.

Go through the documentation throughly... 
```

我知道文档可能有点混乱，阅读 4 到 5 次你就会了解每件事...

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-01T10:55:08.157

CakePHP 是基于 MVC 结构的 PHP 框架。MVC 代表模型视图控制器。

**模型**：您的数据库表在其中定义以及所有处理和验证，例如如果您有名为“USER”的表，那么要访问该表，您将在模型目录中创建 UserModel.php。

**控制器**：对于每个模型，为我们的业务逻辑定义一个控制器。这里我们的控制器名称将是 UsersController.php

**查看**:: 查看文件的扩展名为 .ctp。它定义了数据将如何在客户的浏览器上显示。

CakePHP 的流程：客户端请求将转到第一个 UsersController.php。控制器将从 UserModel.php 中获取数据。在处理检索到的数据后，控制器将此数据传递给 View。View(.ctp) 文件包含 HTML、CSS 和客户端脚本数据，这些数据将返回到显示它的客户端计算机。

# android - Android按钮突出显示状态不起作用

> ID：15150775
> 
> 赞同：1
> 
> 时间：2013-03-01T04:55:45.663
> 
> 标签：android

当我在该主页中时，我正在使用下面的代码来显示突出显示的按钮，但是我的代码无法正常工作，所以我不明白我的 xml 代码有什么问题。

你能告诉我正确的方法吗？

```
<selector xmlns:android="http://schemas.android.com/apk/res/android">

    <item android:drawable="@drawable/button_pressed" android:state_activated="true"/>
 <!-- pressed -->
    <item android:drawable="@drawable/button_pressed" android:state_pressed="true"/>
 <!-- pressed -->
    <item android:drawable="@drawable/button_pressed" android:state_focused="true"/>
 <!-- focused -->
    <item android:drawable="@drawable/list_button" android:state_hovered="true"/>
 <!-- hovered -->
    <item android:drawable="@drawable/button_background"/>
 <!-- default -->

</selector> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T05:30:23.147

创建 xml 选择器文件。

```
 <item android:drawable="@android:color/transparent" android:state_window_focused="false"/>
    <item android:drawable="@drawable/action_item_selected" android:state_pressed="true"/>
    <item android:drawable="@drawable/action_item_selected" android:state_focused="true"/>
    <item android:drawable="@android:color/transparent"/>

</selector> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T05:01:19.847

尝试这个，

```
<?xml version="1.0" encoding="utf-8"?>
<selector xmlns:android="http://schemas.android.com/apk/res/android">

<item android:drawable="@drawable/button_background" android:state_pressed="false"/>
<!-- default -->
<item android:drawable="@drawable/button_pressed" android:state_pressed="true"/>
<!-- pressed -->
</selector> 
```

# java - 无法将 getNamedQuery 结果转换为表类

> ID：15150776
> 
> 赞同：1
> 
> 时间：2013-03-01T04:55:49.043
> 
> 标签：java, hibernate, classcastexception

在过去的 4 小时里，我一直在寻找并尝试在谷歌上搜索的用于转换命名查询结果的教程，但没有找到可行的解决方案。当我运行下面的代码片段时，我收到一个`java.lang.ClassCastException`错误（见下文）。

我从使用`sessionCriteria`（有效）获取整个记录结果切换到使用`getNamedQuery`.

* * *

**原始代码块**

```
Criteria sessionCriteria = session.createCriteria(RunContainer.class);

@SuppressWarnings ("unchecked")
List<RunContainer> runContainer = sessionCriteria.list(); 
```

**命名查询代码块**

```
Query query = session.getNamedQuery("RunContainer.GetRunsForCalendar");

List results = query.list();

for(int i = 0; i < results.size(); i++){
    RunContainer result = (RunContainer)results.get(i);
    System.out.println(result.getNotes());
} 
```

**RunContainer 表类**

```
@Entity
@Table (name = "container")
@NamedQueries ( {
    @NamedQuery (name = "RunContainer.GetRunsForCalendar", 
        query = "SELECT id, date, notes FROM RunContainer")
    })
public class RunContainer {

    @Id
    @GeneratedValue
    @Column (columnDefinition = "INT UNSIGNED")
    private Integer id;

    private Date date;

    @Column(columnDefinition = "TEXT")
    private String notes;

    ... 
```

**错误**

```
java.lang.ClassCastException:
[Ljava.lang.Object; cannot be cast to com.scene7.is.qa.jorogumo.tables.RunContainer 
```

* * *

谁能帮我调试一下？我对 Java 相当陌生，这是我的第一个与工作相关的项目。

* * *

## 接受答案的工作代码

如果有人遇到这篇文章，下面的代码是我从接受的答案中得到的。

```
Query query = session.getNamedQuery("RunContainer.GetRunsForCalendar");
List<Object> containerResults = query.list();
List<RunContainer> runContainers = new ArrayList<RunContainer>();

for (Object result : containerResults) {

    Object[] temp = (Object[]) result;
    RunContainer runContainer = new RunContainer();

    runContainer.setId((Integer) temp[0]);
    runContainer.setDate((Date) temp[1]);
    runContainer.setNotes((String) temp[2]);

    runContainers.add(runContainer);
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-01T05:45:02.987

> SELECT 子句查询多个列或实体，结果聚合在 getResultList( ) 返回的 java.util.List 中的对象数组 (Object[]) 中。

在这里，您将其投射到`RunContainer`会导致问题的位置。遍历列表并从数组中获取单个字段。

```
List containerResults = query.List(); 

    for(Object[] result : containerResults) 
    {
       Integer id = (Integer) result[0];
       Date date = (Date) result[1];
       String notes = (String) result[2];
    } 
```

*[注：提供的示例代码未经编译，请进行相应更改]*

* * *

**编辑：**或者，如果所选字段与实体中的字段名称相同，您可以尝试

`session.createSQLQuery("SELECT id, date, notes FROM RunContainer").addEntity(RunContainer.class);`

您可以参考[这里](https://stackoverflow.com/a/15153886/366964)了解更多详情。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T05:32:37.950

试试这个： `query.setResultTransformer(Transformers.aliasToBean(RunContainer.class));` 请参阅此处的文档：[http://docs.jboss.org/hibernate/orm/3.2/api/org/hibernate/Query.html#setResultTransformer(org.hibernate.transform.ResultTransformer)](http://docs.jboss.org/hibernate/orm/3.2/api/org/hibernate/Query.html#setResultTransformer(org.hibernate.transform.ResultTransformer))

# wcf - 动态更新实体模型框架

> ID：15150777
> 
> 赞同：2
> 
> 时间：2013-03-01T04:55:51.110
> 
> 标签：wcf, dynamic, model, entity, odata

我想以编程方式更新 ADO.Net 实体数据模型，以便 EDM 获得最新版本的数据库（新表、值等）。一旦添加或更改了数据库表，实体模型就会过时。重新编译数据服务不是一种选择。

我知道可以通过单击模型设计器中的从数据库更新模型来更新 EDM。

你知道有什么解决办法吗？是否有任何以编程方式更新实体模型的工具？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T08:09:48.993

你也可以使用[EDM Generator](http://msdn.microsoft.com/en-us/library/bb387165.aspx) 看看[DBMetal](https://code.google.com/p/dblinq2007/wiki/DbMetal)。但我建议您摆脱设计师生成的模型并使用代码优先的方法：轻量级 POCO 和流畅的映射（流畅 => 无属性，映射类易于管理）。它更容易维护。+ EF 支持代码优先迁移。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T08:22:09.950

据我了解，EF 并不真正支持此要求。再次生成模型将执行代码生成。但是，您仍然需要编译然后重新缓存元数据和视图。这对 EF 来说是一个非常昂贵的提议。

如果您的架构经常更改，您甚至可能不需要关系数据库。您应该查看无模式持久性 (nosql)。例如，Raven DB 可以更轻松地让您动态更改您保存的内容的形状。

# r - 在R中查找连续的零序列

> ID：15150780
> 
> 赞同：12
> 
> 时间：2013-03-01T04:56:08.990
> 
> 标签：r, data.table

我有一个非常大的data.frame（实际上是一个data.table）。现在，为了简化事情，让我们假设我的 data.frame 如下所示：

```
x <- c(1, 1, 0, 0, 1, 0, 0, NA, NA, 0) 
y <- c(1 ,0 ,NA, NA, 0, 0, 0, 1, 1, 0)
mydf <- data.frame(rbind(x,y)) 
```

我想确定最后一个序列在哪一行（如果有）由三个连续的零组成，不考虑 NA。因此，在上面的示例中，第一行在最后一个序列中有三个连续的零，但第二行没有。

如果我只有一个向量（不是 data.frame），我知道该怎么做：

```
runs <-  rle(x[is.na(x)==F])

runs$lengths[length(runs$lengths)] > 2 & runs$values[length(runs$lengths)]==0 
```

我显然可以做一个循环，我会得到我想要的。但这会非常低效，而且我的实际 data.frame 非常大。那么，关于如何以最快的方式做的任何想法？

我想 apply 可能很有用，但我现在无法考虑使用它。另外，也许有一种 data.table 方法可以做到这一点？

ps.：其实这个data.frame是我原来data.table的改版。如果我能以某种方式使用原始格式的 data.frame 完成这项工作，那没关系。要查看我的 data.frame 最初如何，只需将其视为：

```
x <- c(1, 1, 0, 0, 1, 0, 0, 0) 
y <- c(1 ,0 , 0, 0, 0, 1, 1, 0)

myOriginalDf <- data.frame(value=c(x,y), id=rep(c('x','y'), c(length(x), length(y)))) 
```

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2013-03-01T05:26:53.127

使用`data.table`，正如您的问题所暗示的那样，您实际上想要，据我所知，这是在做您想做的事情

```
DT <- data.table(myOriginalDf)

# add the original order, so you can't lose it
DT[, orig := .I]

# rle by id, saving the length as a new variables

DT[, rleLength := {rr <- rle(value); rep(rr$length, rr$length)}, by = 'id']

# key by value and length to subset 

setkey(DT, value, rleLength)

# which rows are value = 0 and length > 2

DT[list(0, unique(rleLength[rleLength>2])),nomatch=0]

##    value rleLength id orig
## 1:     0         3  x    6
## 2:     0         3  x    7
## 3:     0         3  x    8
## 4:     0         4  y   10
## 5:     0         4  y   11
## 6:     0         4  y   12
## 7:     0         4  y   13 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-03-01T05:33:00.120

这是基于您的向量解决方案的应用语句。它可能会做你想做的事。

```
z <- apply(mydf,1, function(x) {
runs <-  rle(x[is.na(x)==FALSE]) ;
runs$lengths[length(runs$lengths)] > 2 & runs$values[length(runs$lengths)]==0 })

mydf[z,]

#   X1 X2 X3 X4 X5 X6 X7 X8 X9 X10
# x  1  1  0  0  1  0  0 NA NA   0 
```

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2013-03-01T05:45:12.167

`isMidPoint``0`如果有，下面将识别中间。

```
library(data.table)
myOriginalDf <- data.table(myOriginalDf, key="id")

myOriginalDf[, isMidPoint := FALSE]
myOriginalDf <- myOriginalDf[!is.na(value)][(c(FALSE, !value[-(1:2)], FALSE) & c(!value[-(length(value))], FALSE) & c(FALSE, !value[-length(value)])), isMidPoint := TRUE, by=id] 
```

## 解释：

要连续查找一系列三个，您只需将从第 2 个到倒数第 2 个的每个元素与其之前和之后的相邻元素进行比较。

由于您的值是`0 / 1`，因此它们是有效`T / F`的，这使得评估变得非常简单（假设没有 NA）。

如果`v`是您的值（没有 NA），那么`!v & !v[-1]`在元素及其后继为 0 的任何地方都将为 TRUE。添加，`& !v[-(1:2)]`只要您拥有一系列三个`0s`. *请注意，这也捕获了一系列 4+ `0s`！*

然后剩下的就是（1）在删除（并考虑！）任何 NA 的同时计算上述内容，以及（2）按 id 值分隔。幸运的是，`data.table`让这些变得轻而易举。

## 结果：

```
 > myOriginalDf

    row value id isMidPoint
 1:   1     1  x      FALSE
 2:   2     1  x      FALSE
 3:   3     0  x      FALSE
 4:   4     0  x      FALSE
 5:   5     1  x      FALSE
 6:   6     0  x      FALSE
 7:   7     0  x       TRUE  <~~~~
 8:   9     0  x      FALSE
 9:  10     1  x      FALSE
10:  11     0  x      FALSE
11:  12     0  x       TRUE  <~~~~
12:  13     0  x       TRUE  <~~~~
13:  14     0  x       TRUE  <~~~~
14:  15     0  x      FALSE
15:  16     1  y      FALSE
16:  17     0  y      FALSE
17:  18     0  y       TRUE  <~~~~
18:  20     0  y      FALSE
19:  21     1  y      FALSE
20:  22     1  y      FALSE
21:  23     0  y      FALSE
22:  25     0  y       TRUE  <~~~~
23:  27     0  y       TRUE  <~~~~
24:  29     0  y      FALSE
    row value id isMidPoint 
```

## 根据评论编辑：

如果您想**找到**最后一个正确的序列，请使用：

```
 max(which(myOriginalDf$isMidpoint)) 
```

如果您想**知道**最后一个序列是否为真，请使用：

```
 # Will be TRUE if last possible sequence is 0-0-0
  #   Note, this accounts for NA's as well
  myOriginalDf[!is.na(value), isMidpoint[length(isMidpoint)-1] 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2019-06-26T18:05:16.743

基于 的基本 R 解决方案`rle`，它重复每个长度计数多次：

```
rle_lens <- rle(myOriginalDf$value)$lengths
myOriginalDf$rle_len <- unlist(lapply(1:length(rle_lens), function(i) rep(rle_lens[i], rle_lens[i]))) 
```

然后您可以对其中的行进行子集化`value == 0 & rle_len >= 3`（可选地将行号保留为新列）

```
> myOriginalDf
   value id rle_len
1      1  x       2
2      1  x       2
3      0  x       2
4      0  x       2
5      1  x       1
6      0  x       3
7      0  x       3
8      0  x       3
9      1  y       1
10     0  y       4
11     0  y       4
12     0  y       4
13     0  y       4
14     1  y       2
15     1  y       2
16     0  y       1 
```

# css - css 两个相邻的 div 在窗口调整大小时没有重叠

> ID：15150783
> 
> 赞同：2
> 
> 时间：2013-03-01T04:56:12.960
> 
> 标签：css

以下是我的html和css代码

```
<body>
<div style="display: inline; postion: relative; float: left; width: 20%; min-height: 350px; background-color:red">
TESSSSSSSSSTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT123
</div>
<div style="display: inline; postion: relative; float: left; width:80%; min-height: 350px; background-color:green">

</div>

</body>
</html> 
```

在窗口调整大小时，两个 div 重叠，有什么办法可以避免这种情况吗？无论窗口大小如何，我都希望两个 div 始终保持在一行中（而且两个 div 的内容都包含在每个 div 中）。

感谢任何帮助，谢谢，

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-01T05:00:58.240

它们`widths`是使用该`%`值定义的，因此它们相对于浏览器大小会增长/缩小。为了使您的文本不与相邻的文本重叠，请`<div>`添加`word-break: break-all;`到`<div>`包含文本的第一个 .. 中，还请提及您使用的浏览器。

[例子](http://jsbin.com/oximid/1)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T04:59:24.750

它们不重叠，它们的宽度根据 变化`<body>`，它们一个接一个地保持在同一条线上。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-01T05:09:27.150

div 不重叠，您的测试文本根本没有空格，浏览器只会重新调整空格上的文本大小。尝试在测试文本中添加空格，您会看到文本会重新调整大小（现在，您还应该看到 div 实际上没有重叠）。

此外，如果您将元素设置为内联，那么像您所做的那样让元素向左浮动是没有意义的。如果您打算将 div 用作网站布局的一部分，我建议让它们向左浮动，这将使 div 保持为块元素，这允许使用 CSS 进行更多样式设置。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-01T05:11:28.390

html

```
<div class="firstDiv"></div>
<div class="secondDiv"></div> 
```

css

```
.firstDiv {
    height:100px;
    width:60%;
    float:left;
    background-color:#222;
}
.secondDiv {
    height:100px;
    width:60%;
    float:left;
    background-color:#000;
} 
```

使用百分比`%`让你的 div 更可修复 [**DEMO**](http://jsfiddle.net/jhunlio/actef/)

# java - 结合 JAXB、泛型和反射到 XML 序列化我所有的 Java 类

> ID：15150788
> 
> 赞同：2
> 
> 时间：2013-03-01T04:56:39.573
> 
> 标签：java, generics, reflection, jaxb

我的代码如下：

```
 System.out.println("This will save a table to XML data sheet.");
    System.out.println("Please pick a table to save: " + listOfTables.toString());
    command = scan.nextLine();
    if(listOfTables.contains(command))
    {
        System.out.println("successfuly found table to save: " + command);
        try  //Java reflection
        {
            Class<?> myClass = Class.forName(command); // get the class named after their input
            Method listMethod = myClass.getDeclaredMethod("list"); // get the list method from the class
            Object returnType = listMethod.invoke(myClass, new Object[]{}); // run the list method
            ArrayList<Object> objectList = (ArrayList)returnType; // get the arraylist of objects to send to XML
            try 
            {
                JAXBContext jaxbContext = JAXBContext.newInstance(myClass);
                Marshaller marshaller = jaxbContext.createMarshaller();
                marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);
                JAXBElement<?> jaxbElement = new JAXBElement<?>(new QName("jaxbdemo", "generated"), myClass, objectList.get(0));
                marshaller.marshal(jaxbElement, System.out);

            } catch (JAXBException e) {}
        }
        catch (ClassNotFoundException | SecurityException | NoSuchMethodException | IllegalAccessException | IllegalArgumentException | InvocationTargetException e) { } 
```

我的问题是：

```
JAXBElement<?> jaxbElement = new JAXBElement<?>(new QName("jaxbdemo", "generated"), myClass, objectList.get(0)); 
```

也不：

```
JAXBElement<myClass> jaxbElement = new JAXBElement<myClass>(new QName("jaxbdemo", "generated"), myClass, objectList.get(0)); 
```

将编译。那么对于我的 JAXBElement 类型，我需要在 <> 之间放置什么？顺便说一句，我得到：

```
The constructor JAXBElement<myClass>(QName, Class<myClass>, myClass) refers to the missing type myClass 
```

和：

```
Cannot instantiate the type JAXBElement<?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T05:17:53.890

您需要使用辅助方法来执行此操作。这是一个粗略的例子：

```
static <T> void helper(Class<T> myClass) {

    Method listMethod = myClass.getDeclaredMethod("list");
    Object returnType = listMethod.invoke(myClass, new Object[]{});
    @SuppressWarnings("unchecked") // [carefully document why this is okay here]
    ArrayList<T> objectList = (ArrayList<T>)returnType;

    ...

    JAXBElement<T> jaxbElement = new JAXBElement<T>(
            new QName("jaxbdemo", "generated"),
            myClass,
            objectList.get(0)
    );

    ...
} 
```

从那时起，您可以自由地返回 a`JAXBElement<?>`或在助手中完成剩余的工作。

如前所述，您应该记录未经检查的强制转换，解释为什么调用`list`由 a 表示的给定类`Class<T>`保证返回 a `ArrayList<T>`，正如您的代码所假设的那样。这种方法在我看来充其量是脆弱的，当你打电话时我已经发现了一个错误[`invoke`](http://docs.oracle.com/javase/7/docs/api/java/lang/reflect/Method.html#invoke%28java.lang.Object,%20java.lang.Object...%29)：

```
listMethod.invoke(myClass, new Object[]{}); 
```

该方法将调用该方法的实例作为其第一个参数（或者`null`如果它是静态方法），但您正在传入`myClass`- 这不可能是正确的。

# android - 使用 facebook 按钮解析 XML 时出错

> ID：15150795
> 
> 赞同：4
> 
> 时间：2013-03-01T04:56:51.067
> 
> 标签：android, xml

我在线解析 xml 时遇到错误（错误）。我声明了我的 android 和 facebook 命名空间，所以我不知道为什么......

```
 <?xml version="1.0" encoding="utf-8"?>
    <RelativeLayout 
        xmlns:android="http://schemas.android.com/apk/res/android"
        xmlns:facebook="http://schemas.android.com/apk/res-auto"
        android:layout_width="fill_parent"
        android:layout_height="match_parent"
        android:orientation="vertical"
        >  

(error) <com.facebook.widget.LoginButton 
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_marginTop="500dp"
        facebook:confirm_logout="false"
        android:id="@+id/login_button"
        facebook:fetch_user_info="true"
        android:layout_centerHorizontal="true"
                    />
    </RelativeLayout> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2014-04-23T14:42:12.937

您可以添加此前缀标签：xmlns:facebook="http://schemas.android.com/apk/res-auto"

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-01T05:33:26.913

请查看将 facebook sdk 设置为库项目时的区别

成功 ![在此处输入图像描述](../Images/1f2d10bb976c48ae1507766f5e947862.png)

失败的 ![在此处输入图像描述](../Images/91d02dddd3c0eaace564e85ed37d6ff8.png)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-01T05:41:46.027

可能还有其他一些解决方案，但我建议您必须选中此复选框

![在此处输入图像描述](../Images/b445b0dfe9bb3d8bef529524413842f8.png)

在将`Facebook SDK`库项目导入工作区时，我也遇到了这样的问题，至少这对我有用，希望对你也有用！

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-12-11T17:28:27.527

你应该在你的 facebook 按钮中添加这个：

```
<com.facebook.widget.LoginButton 
     xmlns:fb="http://schemas.android.com/apk/res-auto"
     android:layout_width="wrap_content"
        ..... 
```

# javascript - JSFiddle 环境，设置骨干网

> ID：15150796
> 
> 赞同：2
> 
> 时间：2013-03-01T04:56:58.803
> 
> 标签：javascript

我正在尝试让 jsfiddle 启动并运行，这样我就可以开始学习一些 javascript。我四处搜索如何包含 underscore.js 和backbone.js 并找到了这样的东西：[使用jsfiddle：如何使用underscore.js 或backbone.js 库？](https://stackoverflow.com/questions/10381066/using-jsfiddle-how-can-i-use-underscore-js-or-backbone-js-libraries)

我正在尝试做同样的事情，但遇到了麻烦。我基本上去了jsfiddle.net。然后我在Manage Resources上向左添加了这两个：

[http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.3.1/underscore-min.js](http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.3.1/underscore-min.js)

[http://cdnjs.cloudflare.com/ajax/libs/backbone.js/0.9.10/backbone-min.js](http://cdnjs.cloudflare.com/ajax/libs/backbone.js/0.9.10/backbone-min.js)

这就是我所做的。然后当我尝试在 JS 窗口中输入一些代码时：

```
var Vehicle = Backbone.Model.extend({
    prop1: '1'
});
var v = new Vehicle();
console.log(v.prop1); 
```

当我查看控制台时，我只看到：

```
TypeError: f.result is not a function
[Break On This Error]   

...s);this._listeners={}}return this}}};h.bind=h.on;h.unbind=h.off;f.extend(g,h);va...

backbone-min.js (line 11) 
```

我是否正确设置了我的 jsfiddle 环境？谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-01T05:27:46.277

根据我的调查，我似乎发现了你的问题。问题是您的 Underscore.js 版本是 1.3.1。将其升级到最新版本 1.4.4。jQuery 1.9.1 在 1.3.1 上存在问题

这是您可以为提琴手尝试的两个脚本的链接。只需替换您现有的外部资源。

[http://underscorejs.org/underscore-min.js](http://underscorejs.org/underscore-min.js)

[http://backbonejs.org/backbone-min.js](http://backbonejs.org/backbone-min.js)

# mysql - “类型”是mysql中的保留字吗

> ID：15150798
> 
> 赞同：13
> 
> 时间：2013-03-01T04:57:11.290
> 
> 标签：mysql, sql

在**记事本 ++** *SQL 语言中*，它以蓝色突出显示单词“ **type ”，但在***mysql*保留字 list/table* 中我找不到“ **type** ”

如果“ **type** ”不是**mysql**中的保留字，我应该避免使用“ **type** ”这个词，我应该使用哪个替代词。

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-03-01T04:58:41.930

绝对，不。

*   [MySQL 保留关键字列表](http://dev.mysql.com/doc/refman/5.5/en/reserved-words.html)

当我打开我的 Notepad++ 时，我似乎无法找到 的语言`MySQL`，只有`SQL`可用。所以它之所以突出为蓝色是因为它可能是其他语言的保留关键字。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-03-30T00:38:26.860

`TYPE`不是 SQL 命令。

但是，我会避免它有两个原因：

*   “数据类型”在 SQL 文档中被多次引用（假设这意味着 string、int、float。
*   `type()`将是许多编程语言中的保留字，您希望在与 SQL 数据存储区协作时使用它。特别是如果您打算将该编程语言用作 ORM。

* * *

## 回答 #3

> 赞同：-3
> 
> 时间：2017-03-29T08:42:48.107

“type”和“types”是基于[此链接](https://dev.mysql.com/doc/refman/5.5/en/keywords.html)的保留关键字。

# javascript - 使用 CoffeeScript 支持设置 Node.js/Geddy 应用程序

> ID：15150804
> 
> 赞同：2
> 
> 时间：2013-03-01T04:57:50.030
> 
> 标签：javascript, node.js, coffeescript, geddy

刚开始使用 Node.js，我正在使用 Geddy 框架（我喜欢与 Rails 的相似性）。但是我在让它与 CoffeeScript 一起正常工作时遇到了一些麻烦。我看到[Geddy 现在正在“支持”咖啡文件](https://github.com/mde/geddy/pull/150)。但是当我开始将默认的 js 转换为咖啡时，我得到了错误：

```
/usr/local/lib/node_modules/geddy/lib/app.js:108
      ctor.origPrototype = ctor.prototype;
                               ^
TypeError: Cannot read property 'prototype' of undefined
at _registerControllers (/usr/local/lib/node_modules/geddy/lib/app.js:108:36)
at async.AsyncBase.runItem (/usr/local/lib/node_modules/geddy/node_modules/utilities/lib/async.js:108:10)
at async.AsyncBase.next (/usr/local/lib/node_modules/geddy/node_modules/utilities/lib/async.js:113:12)
at async.AsyncBase.execCallback (/usr/local/lib/node_modules/geddy/node_modules/utilities/lib/async.js:148:54)
at process.startup.processNextTick.process._tickCallback (node.js:244:9) 
```

我已经安装了 CoffeeScript，但我真的不知道我还应该在这里做什么。这方面的文档几乎不存在。

知道我在这里缺少什么吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-23T18:15:13.543

看看[geddy-coffee-templates](https://github.com/MiguelMadero/geddy-coffee-templates)。您可以从 coffeescript 创建一个新的基础应用程序。添加模型和控制器现在可以工作，但脚手架和资源生成器目前无法正常工作。

对于现有应用程序，只需`coffee-script`在您的`package.json`文件中添加一个依赖项。（[示例](https://github.com/MiguelMadero/geddy-coffee-templates/blob/master/templates/base/package.json.ejs)）。然后`npm install`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-26T16:00:05.260

这个问题可能有点老了，但我刚刚遇到了这个问题。

就我而言，我所做的只是添加了一个名为 fruits.js 的控制器文件，但在我的 fruits.js 中，我将其定义为：

```
var Fruit = function () {

...

};

exports.Fruit = Fruit; 
```

问题在于文件的命名和实际的变量名不匹配。

就我而言，简单的解决方法是：

```
either rename "Fruit" to "Fruits" 
```

或者

```
change the file name from "fruits.js" to "fruit.js" 
```

所以吸取的教训是 Geddy 期望控制器文件名与文件中的实际变量定义相匹配。

希望你有同样的问题。

# c# - Visual Studio 项目用户选项修改

> ID：15150809
> 
> 赞同：2
> 
> 时间：2013-03-01T04:58:48.147
> 
> 标签：c#, visual-studio-2010

我已经进行了许多研发以编程方式修改 Visual Studio Projects 用户选项（.suo），但找不到有希望的结果。我还在stackOverFlow上找到了一些主题，例如- [查看解决方案用户选项文件（.suo）](https://stackoverflow.com/questions/54052/tool-to-view-the-contents-of-the-solution-user-options-file-suo/54066#54066) 和 [VS2010内容的工具-打开解决方案，此sln中的文件也将打开](https://stackoverflow.com/questions/9030864/vs2010-open-a-solution-file-in-this-sln-will-open-too/9031375#9031375)

但都说要使用 IVsPersistSolutionOpts 接口。我也在这个界面上做了一些实验，但仍然找不到足够的资源来理解这个界面。实际上我的目的是改变我所有的项目配置来改变程序。例如，我为我的项目创建的调试或发布或其他配置。

任何帮助都将是可观的。谢谢。

# php - php认证令牌+ios

> ID：15150817
> 
> 赞同：4
> 
> 时间：2013-03-01T04:59:10.447
> 
> 标签：php, ios, web-services, authentication, sfhfkeychainutils

我正在开发一个 ios 应用程序，我让用户使用用户 ID 和密码登录。目前的事件流程如下：

1) 用户输入用户名和密码。

2) 单击登录按钮调用一个 php web 服务，该服务对用户进行身份验证，并根据登录成功或失败返回 1 或 0。

现在，我想对我的 php 登录 web 服务进行更新，以便它可以在第一次成功登录后向 ios 返回一个身份验证令牌。然后我想将此令牌安全地存储在我的手机上。以下是我的问题：

1) 是否有生成认证令牌的标准算法？我在一些线程中阅读令牌应该是**UDID+userid+timestamp**的加密，但没有看到具体的答案或示例。

2）一旦我在手机上收到令牌，我如何将其安全地存储在钥匙串中。我打算使用`SFHFKeychainUtils`. 有没有办法可以使用它来存储我的令牌。我搜索了很多关于在钥匙串上存储身份验证令牌/`SFHFKeychainUtils`但没有找到具体答案的信息。我只是将它存储为用户 ID，令牌组合还是有更好的方法来完成这个。

我非常感谢您的意见。

谢谢，

麦克风。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T05:15:39.127

[oauth](http://oauth.net/code/)是认证过程的标准协议。检查 oauth-consumer libray。您可以从这个[链接](https://code.google.com/p/oauthconsumer/)下载它。

# jersey - 如何在 websphere 8.5 中使用 jersey 部署 JAX-RS 应用程序

> ID：15150819
> 
> 赞同：0
> 
> 时间：2013-03-01T04:59:13.190
> 
> 标签：jersey, websphere, jax-rs, websphere-8

当我在 websphere 7.0 中部署我的 app.war 时。RESTful Web 服务已成功初始化。
但是在我升级到 websphere 8.5 之后。它未能部署 RESTful Web 服务类。
下面是我 app.war 的球衣 pom.xml。

```
 <!-- restful web service -->
    <dependency>
        <groupId>javax.ws.rs</groupId>
        <artifactId>jsr311-api</artifactId>
        <version>1.1.1</version>
        <optional>true</optional>
    </dependency>

    <dependency>
        <groupId>asm</groupId>
        <artifactId>asm-all</artifactId>
        <version>3.2</version>
        <optional>true</optional>
    </dependency>

    <dependency>
        <groupId>com.sun.jersey</groupId>
        <artifactId>jersey-core</artifactId>
        <version>1.17</version>
        <scope>compile</scope>
    </dependency>

     <dependency>
        <groupId>com.sun.jersey</groupId>
        <artifactId>jersey-servlet</artifactId>
        <version>1.17</version>
       <scope>compile</scope>
    </dependency>  

     <dependency>
        <groupId>com.sun.jersey</groupId>
        <artifactId>jersey-server</artifactId>
        <version>1.17</version>
       <scope>compile</scope>
    </dependency>  

    <dependency>
        <groupId>com.sun.jersey</groupId>
        <artifactId>jersey-json</artifactId>
        <version>1.17</version>
        <scope>compile</scope>
    </dependency> 
```

下面是我的 web.xml

```
 <servlet>
    <servlet-name>Jersey REST Service</servlet-name>
    <servlet-class>com.sun.jersey.spi.container.servlet.ServletContainer</servlet-class>
    <init-param>
      <param-name>com.sun.jersey.config.property.packages</param-name>
      <param-value>com.tag.services.testrsws</param-value>
    </init-param>
    <load-on-startup>1</load-on-startup>
  </servlet>
  <servlet-mapping>
    <servlet-name>Jersey REST Service</servlet-name>
    <url-pattern>/rs/*</url-pattern>
  </servlet-mapping>
</web-app> 
```

以下是启动应用程序时的 websphere 错误日志：

> [13-3-1 13:22:44:103 CST] 000003b5 PackagesResou I Scanning for root resource and provider classes in the packages: com.tag.services.testrsws
> [13-3-1 13:22:44:123 CST] 000003b5 servlet E com.ibm.ws.webcontainer.servlet.ServletWrapper init Uncaught.init.exception.thrown.by.servlet
> [13-3-1 13:22:44:124 CST] 000003b5 webapp E com.ibm.ws.webcontainer.webapp.WebApp commonInitializationFinally SRVE0266E: init servlet error：{0} javax.servlet.ServletException: SRVE0207E: servlet create uncaught exception thrown by servlet at com.ibm.ws.webcontainer.servlet.ServletWrapper.init(ServletWrapper.java:398)
> ...
> ...
> Caused by: **java.lang.IncompatibleClassChangeError: org.objectweb.asm.ClassVisitor** at java.lang.ClassLoader.defineClassImpl(Native Method) at java.lang.ClassLoader.defineClass(ClassLoader.java:262) at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:69) at com.ibm.ws.classloader.CompoundClassLoader._defineClass(CompoundClassLoader.java:852) at com.ibm.ws.classloader.CompoundClassLoader.localFindClass(CompoundClassLoader.java:762) at com.ibm.ws.classloader.CompoundClassLoader.loadClass(CompoundClassLoader.java:585) at java.lang.ClassLoader.loadClass(ClassLoader.java:627) at java.lang.J9VMInternals.verifyImpl(Native Method) at java.lang.J9VMInternals.verify(J9VMInternals.java:85) at java.lang.J9VMInternals.verify(J9VMInternals.java:83) at java.lang.J9VMInternals.initialize(J9VMInternals.java:162) at com.sun.jersey.api.core.ScanningResourceConfig.init(ScanningResourceConfig.java:79) at com.sun.jersey.api.core.PackagesResourceConfig.init(PackagesResourceConfig.java:104) at com.sun.jersey.api.core.PackagesResourceConfig.(PackagesResourceConfig.java:78) at com.sun.jersey.api.core.PackagesResourceConfig.(PackagesResourceConfig.java:89) at com.sun.jersey.spi.container.servlet.WebComponent.createResourceConfig(WebComponent.java:696) at com.sun.jersey.spi.container.servlet.WebComponent.createResourceConfig(WebComponent.java:674) at com.sun.jersey.spi.container.servlet.WebComponent.init(WebComponent.java:203) at com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:374) at com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:557) at javax.servlet.GenericServlet.init(GenericServlet.java:161) at com.ibm.ws.webcontainer.servlet.ServletWrapper.init(ServletWrapper.java:336)

After search by google , some one says it may be webshpere server already contain the asm. So I delete the asm.jar from my app.war WEB-INF/lib. But it still has the error.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T05:31:53.680

You should not delete your asm.jar from our WEB-INF/lib. On the contrary, you should instruct your websphere 8.5 to use the asm.jar in the WEB-INF/lib instead the asm.jar provided by the Websphere installation. Check out this link: [Configure Web Module Classloader](http://www14.software.ibm.com/webapp/wsbroker/redirect?version=phil&product=was-express-iseries&topic=trun_classload_web). You should choose **Classes loaded with local class loader first**.

**Edit based on comments:**

Looks like this is a bug in Websphere 8.5 [PM63479; 8.5: earexpander throws java.lang.incompatibleclasschangeerror](http://www-01.ibm.com/support/docview.wss?uid=swg24032860). Please download PM63479 to see if it fixes your issue.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T05:40:22.637

Except @Surge advice.
Have you try to create a shared library, and put your asm-all.jar jersery.jar into your library.And specify the shared library to your application.

# javascript - 响应式网格破坏了我的 js 元素

> ID：15150825
> 
> 赞同：1
> 
> 时间：2013-03-01T04:59:26.680
> 
> 标签：javascript, jquery, css, responsive-design

我有一个导航栏，它被编程为 on.click 滚动到屏幕上，然后再次滚动 on.click。

它工作得很好，但现在根本不工作。我确实将布局转换为 12 col 网格以实现流畅的响应式设计，但即使我将其设置为另一种方式，现在它仍然无法正常工作。

任何帮助总是受到赞赏。

这是网站：[http ://ericbrockmanwebsites.com/dev4/](http://ericbrockmanwebsites.com/dev4/)

并标记：

```
<div class="row-fluid">
    <div class="span12">
        <div id="dashboard">
            <nav id="access">
                <div class="open">Here's the Nav Bar
            </nav>
        </div> <!-- dashboard -->
    </div> <!-- span12 -->
</div> <!-- row-fluid --> 
```

和脚本：

```
$('.open').bind('click',function() { 
    $('#dashboard').stop().animate({
        right: $(this).hasClass('close') ? '-659px' : '0'
    });
    $(this).toggleClass('close');
}); 
```

现在我认为是 css 造成了麻烦，但我不确定从哪里看，只是学习响应式设计，我认为转储我的整个样式表没有帮助，但我会尝试挑选相关的位：

```
html {
    min-height: 100%;
    background-size: cover;
    background-image: url(images/bg.jpg);
    background-repeat: no-repeat;
    background-position: right bottom;
}

body{
    min-height:100%;
    overflow-x:hidden;
}

.row-fluid .span12 {
    width: 100%;
    *width: 99.94680851063829%;
}

#access {
    display: block;
    float: right;
    margin: 10px auto 0;
    width: 730px;
}

#dashboard {
   font-size: 30px;
   float: left;
   position: absolute;
   right: -659px;
   z-index: 100;
}

.open {
   background: #cabd32 url(images/open.png) top left no-repeat;
   background-position: center;
   float: left;
   padding: 32px 35px 33px;
}

.close {
   background: #cabd32 url(images/close.png) top left no-repeat;
   background-position: center;
   float: left;
   padding: 32px 35px 33px;
} 
```

一直在挑选它几个小时，无济于事，爱一些帮助。干杯，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T05:46:15.080

尝试这个：

**脚本**

```
$('.open').bind('click',function(){ 
    $('#dashboard').stop().animate(
    {
        right: $(this).hasClass('close') ? '-790px' : '0'
    });
    $(this).toggleClass('close');
}); 
```

和**CSS**`dashboard`的变化

 **```
#dashboard {
  font-size:30px;
  float:left;
  position: absolute;
  right: -790px;
  z-index: 100;
} 
```**

# lua - Corona 的新手，为什么这个脚本不产生任何可见的输出？

> ID：15150826
> 
> 赞同：1
> 
> 时间：2013-03-01T04:59:28.207
> 
> 标签：lua, coronasdk

我是 Corona Sdk 的新手，我正在尝试开发像 Pig（骰子）这样的游戏。我找到了一个相同的脚本，但运行它后我没有得到输出，所以请帮助我。我还需要一些关于 Mac 的 Lua 脚本好的调试器的建议。

另一个开发骰子游戏的类似教程将不胜感激在此先感谢...

```
--[[

  dice.lua - A dice rolling module useful for bell curve type random distributions
  ================================================================================

  (c)2011 Shaun Sullivan
  Electric Plum, LLC
  www.electricplum.com

  twitter: @LiquidSullivan
  email: shaun@electricplum.com

  Please use freely in any of your projects!

    Example usage:

      local dice = require("dice")
      -- Most compact method roll 4d6 and subtract 2 from the roll
      local dRoller = dice.new({dice=4, sides=6, adjust=-2})
      dRoller.roll()

      local dRoller = dice.new()

      -- Roll 3 6 sided dice and add 1 to the result (string method)
      local roll = dRoller.rollFromDiceString("3d6+1")
      print("roll = "..tostring(roll))

      -- Add 3 8 sided dice and one 12 and then roll
      dRoller.reset()
      dRoller.addMultipleDice(3, 8)
      dRoller.addDie(12)
      roll = dRoller.roll()
      print("roll = "..roll)

      -- Roll 4 10-sided dice and add 6 to the total
      for i=1,10 do
        print(dRoller.rollFromDiceString("4d10+6"))
      end

]]--

module (..., package.seeall)

-------------------------------------------------------------------------------
-- new
--
-- Construct a new one and return it
-- Optional object constructor arguments: {dice, sides, adjust, seed}
--
-------------------------------------------------------------------------------
new = function(args)

  -- Table we'll return
  local t = {}

  -- privates

  -- array of dice
  local _dies = {}
  -- number of dice 
  local _numDies = 0
  -- random seed to use default to os.time() but can be overriden by the caller 
  local _seed = os.time()
  -- something to add or subtract to/from the die roll 
  local _adjust = 0

  -------------------------------------------------------------------------------
  -- initInternal
  -------------------------------------------------------------------------------
  local initInternal = function(args)

    if args then

      -- Use the caller's seed or just seed with the time
      _seed = args.seed or _seed
      _numDies = args.dice or 0
      _adjust = args.adjust or 0 

      if (_numDies > 0) then

        for i=1,_numDies do

          -- default to 6 sided 
          _dies[i] = args.sides or 6

        end
      end

    else

      -- No args passed at all, so we start empty
      _seed = os.time()
      _numDies =  0
      _adjust = 0

    end

    -- Seed, note the caller can pass in a seed to get a repeatable sequence
    math.randomseed(_seed)

  end

  -------------------------------------------------------------------------------
  -- rollInternal
  -------------------------------------------------------------------------------
  local rollInternal = function()

    local total = 0

    for i=1,_numDies do
      total = total + math.random(1, _dies[i])
    end

    return total + _adjust

  end

  -------------------------------------------------------------------------------
  -- quickResetInternal
  --
  -- Called by rollFromDiceString to make sure it gets a clean roll
  --
  -------------------------------------------------------------------------------
  local quickResetInternal = function()
    _dies = nil
    _dies = {}
    _numDies = 0
    _adjust = 0
  end

  -------------------------------------------------------------------------------
  -- Constructor
  -------------------------------------------------------------------------------
  initInternal(args)

  -- ============================================================================
  -- public interface
  -- ============================================================================

  -------------------------------------------------------------------------------
  -- reset
  -------------------------------------------------------------------------------
  t.reset = function(args)
    initInternal(args)
  end

  -------------------------------------------------------------------------------
  -- addDie
  -------------------------------------------------------------------------------
  t.addDie = function(sides) 

    _numDies = _numDies + 1
    _dies[_numDies] = sides

  end

  -------------------------------------------------------------------------------
  -- addMultipleDice
  -------------------------------------------------------------------------------
  t.addMultipleDice = function(numDiceToAdd, numSides)

    numDiceToAdd = numDiceToAdd or 1
    numSides = numSides or 6

    if (numDiceToAdd < 1) then
      print("bad args, forcing one die")  
      numDiceToAdd = 1
    end

    if (numSides < 1) then
      print("bad args, forcing 6 sides")  
      numSides = 6 
    end

    --for i=1,#_dies do
    for i=1,numDiceToAdd do

      _numDies = _numDies + 1
      _dies[_numDies] = numSides

    end

  end

  -------------------------------------------------------------------------------
  -- rollFromDiceString 
  --
  -- Pass in a string like "4d6+3" (roll 4 6 sided dice and add 3)
  -------------------------------------------------------------------------------
  t.rollFromDiceString = function(s)

    -- "split" Lifted from Crawlspace Lib 
    -- https://github.com/AdamBuchweitz/CrawlSpaceLib 
    local split = function(str, pat)
        local t = {}
        local fpat = "(.-)" .. pat
        local last_end = 1
        local s, e, cap = str:find(fpat, 1)
        while s do
            if s ~= 1 or cap ~= "" then table.insert(t,cap) end
            last_end = e+1
            s, e, cap = str:find(fpat, last_end)
        end
        if last_end <= #str then
            cap = str:sub(last_end)
            table.insert(t,cap)
        end
        return t
    end

    -- Sanity check to at least make sure we have a "d" in the string
    local dLoc = string.find(s, "d") or 0

    if (dLoc > 0) then

      local addSubRoll = 0
      local dice = split(s, "d")
      local numD = tonumber(dice[1])
      local stopAt = 0
      local sides = 0

      -- not super robust here, you could pass in +- in the same 
      -- string and break it, but just testing...   
      if (string.find(s, "+")) then

        local plus = string.find(s, "+")
        addSubRoll = tonumber(string.sub(s, plus + 1))
        stopAt = plus - 1

      elseif (string.find(s, "-")) then

        local minus = string.find(s, "-")
        addSubRoll = tonumber(string.sub(s, minus + 1)) * -1
        stopAt = minus - 1

      else
        stopAt = 0
      end     

      local dPos = string.find(s, "d")

      if (stopAt ~= 0) then
        sides = tonumber(string.sub(s, dPos + 1, stopAt))
      else
        sides = tonumber(string.sub(s, dPos))
      end

      -- We don't want to add to previous initializations
      quickResetInternal()
      t.addMultipleDice(numD, sides)

      _adjust = addSubRoll
      return(rollInternal())

    else
      assert(false, "Bad arguments")
    end 

  end

  -------------------------------------------------------------------------------
  -- roll
  -------------------------------------------------------------------------------
  t.roll = function()
    return rollInternal()
  end

  -------------------------------------------------------------------------------
  -- get_Seed
  --
  -- getter for the seed if the caller wants to store it for 
  -- some future replay
  -------------------------------------------------------------------------------
  t.get_Seed = function()
    return _seed
  end

  return t
end 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-12T06:47:28.813

我在 Mac 上使用了 Lua Glider，Glider 的调试器工作得非常简单。

[滑翔机](http://www.mydevelopersgames.com/CIDER/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-02-23T21:02:45.520

尝试

```
local dice = require("dice")

local dRoller = dice.new( {dice=1, sides=6, adjust=0} )

for i=1, 10 do
    local result  = dRoller.roll()
    print( result )
end 
```

结果（来自控制台）：

```
22:00:10.125  1
22:00:10.125  4
22:00:10.125  2
22:00:10.125  3
22:00:10.125  6
22:00:10.125  3
22:00:10.125  3
22:00:10.125  6
22:00:10.125  1
22:00:10.125  1 
```

我使用 Sublime Text 3 + Corona Editor 插件。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-02-23T15:42:08.143

转到您的主 lua 并在其中需要该库：

```
local diceLibrary = require("dice.lua") 
```

然后你从那里调用脚本：

```
diceLibrary.addDie(6) 
```

等等

# android - 如何在缩放时不使 ImageView 变得如此模糊 - Titanium Studio

> ID：15150827
> 
> 赞同：0
> 
> 时间：2013-03-01T04:59:29.017
> 
> 标签：android, titanium

我正在设计一个应用程序，以便您可以选择要查看的地图，该应用程序将返回地图图像（.jpg 文件）。我可以让地图正常显示，但是当我为其设置缩放控件并放大以查看图像上的文字时，图像会扭曲和模糊，我看不到任何文字所说的内容。有没有办法防止这种情况？谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T05:28:06.120

你可以试试

`android:drawingCacheQuality="high"`

但是，如果您使用的是 ImageView

# ios - 在 xcode 4.2 上移动 tableview

> ID：15150828
> 
> 赞同：0
> 
> 时间：2013-03-01T04:59:29.367
> 
> 标签：ios, objective-c, xcode, storyboard

我已经阅读了如何在 xcode4.2 上移动对象并且我确实成功地移动了一个按钮。但我不能移动一个表格视图。

以下是 Viewcontroller.m 上的代码：

```
- (IBAction) unhide {
if (flag==1) {
    flag=0;

    CGRect frame = testtable.frame;
    frame.origin.x = frame.origin.x; // new x coordinate
    frame.origin.y = 150; // new y coordinate

    [UIView beginAnimations:nil context:nil];
    [UIView setAnimationDuration: 0.25];
    testtable.frame = frame;
    [UIView commitAnimations];

}
else{
    flag=1;

    CGRect frame = testtable.frame;
    frame.origin.x = frame.origin.x; // new x coordinate
    frame.origin.y = 350; // new y coordinate

    [UIView beginAnimations:nil context:nil];
    [UIView setAnimationDuration: 0.25];
    testtable.frame = frame;
    [UIView commitAnimations];

}} 
```

先感谢您。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T06:30:42.787

这很简单，不要忘记为表格视图创建出口。例如，如果您的 outlet 名称是 testTable，请尝试以下代码块：

```
if(flag==0)
{
    flag=1;
    [UIView animateWithDuration:0.7 animations:^()
     {
         testTable.frame=CGRectMake(0, 150, testTable.frame.size.width, testTable.frame.size.height);
     }];
}
else
{
    flag=0;
    [UIView animateWithDuration:0.7 animations:^()
     {
         testTable.frame=CGRectMake(0, 350, testTable.frame.size.width, testTable.frame.size.height);
     }];
} 
```

希望这会帮助你。祝你好运

# iphone - 如何处理 ios 6.0 中的所有屏幕方向？

> ID：15150832
> 
> 赞同：0
> 
> 时间：2013-03-01T04:59:37.820
> 
> 标签：iphone, ios6, screen-orientation

我正在使用以下两种方法：

```
-(Bool)shouldAutorotate

{

return YES;

}

-(NSUInteger)supportedInterfaceOrientations

{

return UIInterfaceOrienationsMaskAll;

} 
```

在 TARGETS 中有 Supported Interface Orientations，我选择了所有方向纵向、上下颠倒、横向左侧、横向右侧。

而且我没有使用任何标签栏或导航应用程序。它很简单**UiViewController**。在 AppDelegate 我正在使用

```
self.window.rootViewController=self.viewController; 
```

但问题是，当我这样做时，我的视图并没有出现在它的确切位置上。它在这里和那里受到干扰，在横向和纵向模式下没有占据确切的位置。

在哪种方法中我必须编写代码以使其在**Ipad**中占据确切位置。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T05:25:37.430

您必须在界面构建器中设置任何自动调整大小或自动布局属性，以使事物在旋转时拉伸和重新调整大小，假设您已经以这种方式设置了 UI。

或者在您的代码中，您也可以实现该`willAutorotateToInterfaceOrientation:`方法，以便在旋转发生之前以编程方式设置 UI 元素的位置。或者，我相信`UIView`有一个`autoResizingMask`可以设置为处理布局更改的属性。有几种方法可以解决这个问题 - 您只需要找到最适合您的实施需求的方法！

# android - 谷歌地图路径跟踪与android中的标记点

> ID：15150834
> 
> 赞同：0
> 
> 时间：2013-03-01T04:59:48.330
> 
> 标签：android, google-maps, latitude-longitude

我正在开发一个 android 应用程序，我想在其中标记一些地方，然后跟踪它们的黑白路径。就像我从A开始我的旅程并标记它，然后去Band标记那个，然后是C，最后当我到达我的最终目的地时。然后我想从ABC追踪路径......我尝试了很多，发现我可以使用url意图通过动态传递lat-long来做到这一点，但我想在运行时标记随机位置......现在我正在使用这个。

```
 String uri = "http://maps.google.com/maps?f=d&source=s_d&saddr=" + 30.7353 +","+76.7911+"&daddr="+12.9833+","+ 77.5833+"+to:"+22.5697+","+88.3697;
    Intent intent = new Intent(android.content.Intent.ACTION_VIEW, Uri.parse(uri));
    intent.setClassName("com.google.android.apps.maps", "com.google.android.maps.MapsActivity");  
    startActivity(intent); 
```

请帮帮我。感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T18:05:52.480

如果我理解正确，当您使用地图时，您要设置一个标记，然后设置另一个标记并在这些标记之间创建一条折线：

**1.**通过点击地图设置标记，您需要覆盖onMapClick方法并将您的活动设置为OnMapClickListener。在那里创建一个标记供您单击并获得它的协调。

**2.**现在，当您完成此操作并创建 2 个标记时，您可以前往这篇文章了解如何在这 2 个标记和后面的标记之间创建折线：[在此处输入链接描述](https://stackoverflow.com/questions/14495030/google-map-api-v2-get-driving-directions/15053901#15053901)

# android - Android 中的音频文件流无法运行一个 android 2.3

> ID：15150844
> 
> 赞同：5
> 
> 时间：2013-03-01T05:00:31.503
> 
> 标签：android, audio, streaming, media-player

我正在使用媒体播放器在 android 上为 soundcloud 音频处理音频流，它适用于 android 4.x 及更高版本的设备，但不能低于 4.0，如 2.3.3 和 2.2

在android中流式传输的任何其他解决方案？

声音云的流 url：

[https://api.soundcloud.com/tracks/81302334/stream?client_id=API_KEY_FOR_SOUNDCLOUD](https://api.soundcloud.com/tracks/81302334/stream?client_id=API_KEY_FOR_SOUNDCLOUD)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-01T12:01:05.213

android <4.x 中的媒体播放器仅支持 HTTP 和 4.xn 以上同时支持 http 和 https ，因此在使用旧 API 级别的 https 时，请考虑使用 http 而不是 https。

# macos - 为什么 automake 程序在 osx 上似乎有奇怪的查找优先级？

> ID：15150848
> 
> 赞同：0
> 
> 时间：2013-03-01T05:00:38.980
> 
> 标签：macos, unix, path, automake

我有自己的名为 automake 的程序，我最初是在 Ubuntu 机器上编写的，最近想在我的运行 OSX Lion 的机器上工作。

我已经编译了它，将其复制到我的`/Users/andrew/bin`目录中，这是我的`PATH`变量中列出的第一个目录之一：

```
bash-3.2$ echo $PATH | tr : '\n'
.
/Users/andrew/bin
/opt/local/bin
/opt/local/sbin
/Users/andrew/Library/Application Support/GoodSync
/Users/andrew/.rvm/gems/ruby-1.9.3-p194/bin
/Users/andrew/.rvm/gems/ruby-1.9.3-p194@global/bin
/Users/andrew/.rvm/rubies/ruby-1.9.3-p194/bin
/Users/andrew/.rvm/bin
.
/usr/bin
/bin
/usr/sbin
/sbin
/usr/local/bin
/usr/X11/bin
/Users/andrew/.rvm/bin
/Users/andrew/bin
/Users/andrew/.rvm/bin 
```

但是，当我尝试运行 automake 时，它​​显然正在运行不同的 automake 程序。我认为它是 xcode 开发人员工具之一：

```
bash-3.2$ automake game.cpp
automake: error: no Automake input file found for 'game.cpp'
automake: error: no input file found among supplied arguments 
```

此版本的 automake 位于`/opt/local/bin`. 我不明白的是，当我的 automake 位于`PATH`变量的较早目录中时，这怎么可能。实际上，unix`which`程序显示了我的 automake 的路径：

```
bash-3.2$ which automake
/Users/andrew/bin/automake 
```

这是什么法术？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-02T05:40:57.867

我在你的 PATH 中发现了两个特性，它们都不应该是你的麻烦的根源，但可能你还是想纠正它们

*   `/Users/andrew/bin`，`.` 并且`/Users/andrew/.rvm/bin`如果我数数正确的话，第一个被列出多次，第三个被列出两次，甚至三次。

*   `.`如前所述，您的 PATH 甚至包含两次。从安全的角度来看，这不是最好的主意。

如前所述，这些都不应对所描述的问题负责。也许它可以帮助解决以下问题：

*   你确定你复制了正确的文件吗？不是 GNU/autotools automake 也躺在你的 ubuntu 机器上吗？

*   您是否尝试过通过提供绝对路径 /Users/andrew/bin/automake 来运行*您的automake 版本？*

*   输出与您之前得到的输出相同还是不同？

# objective-c - uiscrollview 中的静态和动态对象

> ID：15150856
> 
> 赞同：1
> 
> 时间：2013-03-01T05:01:25.013
> 
> 标签：objective-c, uiscrollview, iboutlet

我有一些问题。我想在滚动视图中显示静态和动态对象。我有 IBOutlets，它们是连接的。我想更改消息和标题，它们是在代码中手动创建的。所有其他对象都是静态的。我的代码在这里：

.h 文件：

```
@interface MessageContentViewController (){
    IBOutlet UIImageView  *avatarImageView;
    IBOutlet UIScrollView *scrollView;
    IBOutlet UIImageView  *msgBoardImg;
    IBOutlet UIImageView  *topBarImg;
    IBOutlet UIButton     *backBtn;
    NSMutableArray *allMessages;
}

@property int indexOfMsg;

@end 
```

.m 文件：

```
- (void)viewDidLoad
{
    [super viewDidLoad];
    [self.view setBackgroundColor:[UIColor colorWithPatternImage:[UIImage imageNamed:@"background.jpg"]]];

    [self.navigationController setNavigationBarHidden:YES animated:YES];
    [scrollView setContentSize:CGSizeMake(scrollView.frame.size.width * allMessages.count, 0)];
    [scrollView setPagingEnabled:YES];

    [scrollView scrollRectToVisible:CGRectMake(scrollView.frame.size.width * indexOfMsg, scrollView.frame.origin.y, scrollView.frame.size.width, scrollView.frame.size.height) animated:NO];
    for (int i = 0; i < allMessages.count; i++) {

        UIView *tempSubView = [[UIView alloc] initWithFrame:CGRectMake(self.view.frame.size.width * i, self.view.frame.origin.y, self.view.frame.size.width, self.view.frame.size.height)];
        [tempSubView addSubview:topBarImg];
        [tempSubView addSubview:backBtn];
        [tempSubView addSubview:msgBoardImg];
        [tempSubView addSubview:avatarImageView];
        [scrollView addSubview:tempSubView];
    }

    [scrollView setContentOffset: CGPointMake(scrollView.frame.size.width * indexOfMsg, 0)];

    CGRect currentViewFrame = CGRectMake(scrollView.frame.size.width * indexOfMsg, scrollView.frame.origin.y, scrollView.frame.size.width, scrollView.frame.size.height);
    [scrollView scrollRectToVisible:currentViewFrame animated:NO];

} 
```

.xib 文件：

![在此处输入图像描述](../Images/e881dedd3d1f398a63265d44afe5ed12.png)

请帮我。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T05:17:12.080

您应该实现滚动视图的委托方法`scrollViewDidEndDecelerating:`，您可以在其中检测滚动距离，然后为不同的滚动视图设置不同的标题和消息。

# drupal - 如何将来自 opencalais 的 RDF 结果添加到 apache solr 中，以便在我的 Drupal 站点中获得更好的搜索结果？

> ID：15150858
> 
> 赞同：4
> 
> 时间：2013-03-01T05:01:42.953
> 
> 标签：drupal, solr, indexing, rdf, opencalais

将来自 opencalais 的 RDF 结果添加到 apache solr 中以进行索引。我正在使用 solr 搜索集成模块的开发版本（solr 4.x）、Opencalais 模块和 Drupal 7。目前从 opencalais 生成的分类字段进行索引。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-03-08T02:38:07.390

您将希望将 RDF 存储到称为三重存储的单独存储系统中。查看 Apache Jena TDB，一个开源选项：http: [//jena.apache.org/documentation/tdb/index.html](http://jena.apache.org/documentation/tdb/index.html)

# django - 对数据库进行数据操作时出错

> ID：15150861
> 
> 赞同：2
> 
> 时间：2013-03-01T05:01:47.560
> 
> 标签：django

## 大家好，有一个错误让我很困惑......谁能告诉我这个错误的原因是什么以及如何处理它......

```
DatabaseError at /admin/auth/user/

column salarylive_userprofile.firstname does not exist
LINE 1: ...."username_id", "salarylive_userprofile"."email", "salaryliv...
                                                             ^

Request Method:     POST
Request URL:    http://localhost:8000/admin/auth/user/
Django Version:     1.4.3
Exception Type:     DatabaseError
Exception Value:    

column salarylive_userprofile.firstname does not exist
LINE 1: ...."username_id", "salarylive_userprofile"."email", "salaryliv...
                                                             ^

Exception Location:     c:\Python27\lib\site-packages\django\db\backends\postgresql_psycopg2\base.py in execute, line 52
Python Executable:  c:\Python27\python.exe
Python Version:     2.7.0
Python Path:    

['e:\\Software Installations\\Aptana Workspace\\salary',
 'C:\\Windows\\SYSTEM32\\python27.zip',
 'c:\\Python27\\DLLs',
 'c:\\Python27\\lib',
 'c:\\Python27\\lib\\plat-win',
 'c:\\Python27\\lib\\lib-tk',
 'c:\\Python27',
 'c:\\Python27\\lib\\site-packages']

Server time:    Fri, 1 Mar 2013 10:26:31 +0530 
```

## 和追溯是： -

```
Environment:

Request Method: POST
Request URL: http://localhost:8000/admin/auth/user/

Django Version: 1.4.3
Python Version: 2.7.0
Installed Applications:
('django.contrib.auth',
 'django.contrib.contenttypes',
 'django.contrib.sessions',
 'django.contrib.sites',
 'django.contrib.messages',
 'django.contrib.staticfiles',
 'django.contrib.admin',
 'salarylive')
Installed Middleware:
('django.middleware.common.CommonMiddleware',
 'django.contrib.sessions.middleware.SessionMiddleware',
 'django.middleware.csrf.CsrfViewMiddleware',
 'django.contrib.auth.middleware.AuthenticationMiddleware',
 'django.contrib.messages.middleware.MessageMiddleware')

Traceback:
File "c:\Python27\lib\site-packages\django\core\handlers\base.py" in get_response
  111\.                         response = callback(request, *callback_args, **callback_kwargs)
File "c:\Python27\lib\site-packages\django\contrib\admin\options.py" in wrapper
  366\.                 return self.admin_site.admin_view(view)(*args, **kwargs)
File "c:\Python27\lib\site-packages\django\utils\decorators.py" in _wrapped_view
  91\.                     response = view_func(request, *args, **kwargs)
File "c:\Python27\lib\site-packages\django\views\decorators\cache.py" in _wrapped_view_func
  89\.         response = view_func(request, *args, **kwargs)
File "c:\Python27\lib\site-packages\django\contrib\admin\sites.py" in inner
  196\.             return view(request, *args, **kwargs)
File "c:\Python27\lib\site-packages\django\utils\decorators.py" in _wrapper
  25\.             return bound_func(*args, **kwargs)
File "c:\Python27\lib\site-packages\django\utils\decorators.py" in _wrapped_view
  91\.                     response = view_func(request, *args, **kwargs)
File "c:\Python27\lib\site-packages\django\utils\decorators.py" in bound_func
  21\.                 return func(self, *args2, **kwargs2)
File "c:\Python27\lib\site-packages\django\contrib\admin\options.py" in changelist_view
  1153\.                 response = self.response_action(request, queryset=cl.get_query_set(request))
File "c:\Python27\lib\site-packages\django\contrib\admin\options.py" in response_action
  908\.             response = func(self, request, queryset)
File "c:\Python27\lib\site-packages\django\contrib\admin\actions.py" in delete_selected
  35\.         queryset, opts, request.user, modeladmin.admin_site, using)
File "c:\Python27\lib\site-packages\django\contrib\admin\util.py" in get_deleted_objects
  104\.     collector.collect(objs)
File "c:\Python27\lib\site-packages\django\contrib\admin\util.py" in collect
  155\.             return super(NestedObjects, self).collect(objs, source_attr=source_attr, **kwargs)
File "c:\Python27\lib\site-packages\django\db\models\deletion.py" in collect
  175\.                     if not sub_objs:
File "c:\Python27\lib\site-packages\django\db\models\query.py" in __nonzero__
  130\.             iter(self).next()
File "c:\Python27\lib\site-packages\django\db\models\query.py" in _result_iter
  118\.                 self._fill_cache()
File "c:\Python27\lib\site-packages\django\db\models\query.py" in _fill_cache
  892\.                     self._result_cache.append(self._iter.next())
File "c:\Python27\lib\site-packages\django\db\models\query.py" in iterator
  291\.         for row in compiler.results_iter():
File "c:\Python27\lib\site-packages\django\db\models\sql\compiler.py" in results_iter
  763\.         for rows in self.execute_sql(MULTI):
File "c:\Python27\lib\site-packages\django\db\models\sql\compiler.py" in execute_sql
  818\.         cursor.execute(sql, params)
File "c:\Python27\lib\site-packages\django\db\backends\util.py" in execute
  40\.             return self.cursor.execute(sql, params)
File "c:\Python27\lib\site-packages\django\db\backends\postgresql_psycopg2\base.py" in execute
  52\.             return self.cursor.execute(query, args)

Exception Type: DatabaseError at /admin/auth/user/
Exception Value: column salarylive_userprofile.firstname does not exist
LINE 1: ...."username_id", "salarylive_userprofile"."email", "salaryliv...
                                                             ^ 
```

我应该如何处理这个问题..........................代码图像是这样的： - ![在此处输入图像描述](../Images/ccc6858c08ab0bf3546c8dfa1e952921.png) ![在此处输入图像描述](../Images/e9234f800da4b7533b8ebae4d3e5b07f.png) ![在此处输入图像描述](../Images/f95e80be1c5f9f2a72c882de67789092.png) ![在此处输入图像描述](../Images/6d0829a1dc63ee356e558548d39e9d4a.png) ![在此处输入图像描述](../Images/11a370b57ebb3e5d08afa3cb0e34d849.png) ![在此处输入图像描述](../Images/fa136759ad7f63f6622dfa99b1a32538.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T11:32:38.513

我认为您的查询中缺少“_”，不应该`salarylive__userprofile`代替`salarylive_userprofile`吗？

# php - 每次更新或插入数据库时 如何重新加载 div 块的内容

> ID：15150862
> 
> 赞同：-3
> 
> 时间：2013-03-01T05:01:56.097
> 
> 标签：php, jquery

每次访问数据库时如何重新加载 div 块？我尝试过使用 setInterval 函数，我需要在更新或插入数据库表时重新加载块。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T05:06:28.720

使用`setInterval`javascript的功能并使用jquery`get`或`load`在某个时间间隔重新加载div

您应该在某些服务器页面中指定 div 的内容并使用`get`load从那里获取内容`method`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T05:08:13.877

对您来说最好的选择是使用 JQuery。

1.  尝试在 jquery 中创建一个函数，以便每当更新/更改数据库时激活该函数。
2.  现在使用它的 id 调用 div 块。并使用 show /hide 为用户显示和隐藏它。

下次在发问题的时候尝试发布您尝试过的代码，我们可以很容易地调试。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-01T05:17:16.587

（[AFAIK](http://en.wiktionary.org/wiki/AFAIK)）不可能在这里进行纯粹的基于事件的设置。第一次加载页面后，必须在客户端设置任何进一步的动态加载，并且服务器本身无法触发此行为。

您唯一的解决方案是以规定的时间间隔轮询服务器并使用`JavaScript`（有或没有 jQuery 的帮助）重新加载数据。

`setInterval`将是显而易见的选择。您说您已经使用过它，但没有给出代码示例，因此*为什么*它不起作用并不明显。

例如，如果您在服务器`PHP`上调用了一个页面，该页面`data_reload.php`生成了`div`您尝试填充的内容（在 中`HTML`），您可以使用以下内容动态更新容器（注意：为简洁起见假设为 jQuery）

```
// Function that does the actual work of updating the container
function updateContent(jContainer, htmlSource) {
    $.get(htmlSource, function(html) {
        jContainer.html(html);
    });
}

setInterval(function() {
    updateContent($("#data"), 'data_reload.php');
}, 3000); // update every 3 seconds 
```

# asp.net - 如果没有 default.aspx，网站将无法运行

> ID：15150866
> 
> 赞同：2
> 
> 时间：2013-03-01T05:02:26.137
> 
> 标签：asp.net, .net, iis, web-applications, telerik

我开发了基于 Telerik 的 Web 应用程序。在本地主机（直接从 .NET 运行）上进行测试时，它工作正常。但是当托管在 IIS 下时，它不能按预期工作。

我们在 root 上有一个 default.aspx 页面，我们在上面添加了一个用户控件（登录）。在没有 default.aspx ( [http://mywebsite.com](http://mywebsite.com) ) 的情况下访问该站点时，没有任何效果。页面已正确加载，并在单击页面上的按钮时回发到服务器上。不执行按钮功能。

但是当使用 default.aspx ( [http://mywebsite.com/default.aspx](http://mywebsite.com/default.aspx) ) 访问页面时，它工作得非常好。

我用谷歌搜索了这个问题，但没有找到太多帮助。一些博客建议它可能与无扩展 url 有关。

帮助将不胜感激。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T06:38:24.520

问题与 Telerik rad 压缩有关。为了解决这个问题，我做了以下操作： in `web.config`、 under `system.webserver`set `preCondition="managedHandler"`for`RadCompression`和`RadUploadModule`. 另外，设置`runAllManagedModulesForAllRequests="false"`.

参考：见已知问题部分： [http ://www.telerik.com/help/aspnet-ajax/compression.html](http://www.asp.net/whitepapers/aspnet4/breaking-changes#0.1__Toc256770154)

查看错误的详细原因： [在此处输入链接描述](http://www.asp.net/whitepapers/aspnet4/breaking-changes#0.1__Toc256770154)

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-01T05:12:59.613

您需要在 IIS 默认文件中定义。我认为如果你有一个 root ，并且在 root 中定义了 Default.aspx，而在子站点中你没有 default.aspx，则需要在 root 的 webconfig 中定义如下所述。

[见链接](http://blogs.msdn.com/b/rakkimk/archive/2007/05/25/iis7-how-to-configure-the-default-document-of-the-website-in-its-web-config.aspx)

不要忘记重新启动 IIS。在命令行中，写“iisreset”。

# sorting - 排序中的最少比较次数

> ID：15150868
> 
> 赞同：0
> 
> 时间：2013-03-01T05:02:29.197
> 
> 标签：sorting, comparison

我有 32 只不同重量的兔子，我想按重量对它们进行分类。我可以使用每次重 2 只兔子的重量，并告诉我哪只兔子更轻。我需要对所有兔子进行排序的最少比较次数是多少，使用哪种算法？

例如，如果我使用快速排序，我需要进行 32*32（最坏情况下为 n^2）比较，这可能不是这个问题比较最少的算法。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T05:09:41.083

我可能不记得快速排序是如何工作的，但这是我要做的：

取成对的值，并按顺序（1-2、3-4 等）对它们进行排序。这将创建 16 个“短排序队列”。现在比较相邻队列的顶部元素；然后是“顶部的一个”和剩余的顶部；继续按照你的方式工作。这最多需要 3 次比较。对其他对重复; 到目前为止的总数 = 8 + 4*3 = 20

同样的道理，我们现在有 4 组 4 只分类的兔子，我们最多将它们分类为 7 步，每组分为两组，每组 8 只，另外 14 只；然后是 2 组 8 组，我们按 15 排序。总数：8+12+14+15 = 49。

仅显示四个（原理相同）：

假设我们有兔子 ABCD，按重量降序排列（我们不知道……我们希望它们按升序排列）。算法：

比较 A 和 B - 现在是 BA

比较 C 和 D - 现在是 DC

比较 BD - D 最轻，排在最前面

比较 BC - C 更轻，下一个

现在放 B（已经知道它比 A 轻）最后放 A

如您所见，总共进行了4次比较...

# grit - 使用坚固或砂砾的 git push 示例

> ID：15150869
> 
> 赞同：7
> 
> 时间：2013-03-01T05:02:33.347
> 
> 标签：grit, rugged

我正在寻找一些代码示例，无论是[坚固](https://github.com/libgit2/rugged)的还是[砂砾](https://github.com/mojombo/grit)，展示如何做一个`git push`.

## **背景**

我有 rake 任务`deploy:staging`，`deploy:production`我用它来部署我的应用程序。

我正在部署到 heroku，所以这些任务基本上执行以下操作：

1.  获取最新的标签（例如。`git describe --abbrev=0`）
2.  将该标签表示的版本推送到指定的远程（例如`git push staging v1.00`）
3.  将版本存储在heroku config var中（例如`heroku config:add APP_VERSION=v1.00`）

（那里还有一些检查，以确保我没有忘记在推送之前创建一个新标签等。）

最初，我使用 Rakefile 中的系统调用来执行这些 CLI 命令；然后我开始使用[git](https://github.com/schacon/ruby-git)和[heroku-api](https://github.com/heroku/heroku.rb) gems。

然而，git gem 似乎被放弃了（过去一年没有提交）；看来，Grit 和坚固性现在是使用 Git 的标准宝石。

不幸的是，由于缺乏文档，我无法弄清楚如何使用这些库中的任何一个进行 git push。

（在以下示例中，假设我推送到的远程/分支是源/主，并且已经在本地存储库中设置为远程）

从坚固开始：

```
$ irb
2.0.0-p0 :001 > require 'rugged'
 => true 
2.0.0-p0 :002 > repo = Rugged::Repository.new('/path/to/repo')
 => #<Rugged::Repository:0x007fe8b48821c0 @encoding=#<Encoding:UTF-8>> 
2.0.0-p0 :003 > remote = Rugged::Remote.lookup(repo, 'origin')
 NoMethodError: undefined method `lookup' for Rugged::Remote:Class 
```

现在是砂砾：

```
$ irb
2.0.0-p0 :001 > require 'grit'
 => true 
2.0.0-p0 :002 > repo = Grit::Repo.new('/path/to/repo')
 => #<Grit::Repo "/path/to/repo/.git"> 
2.0.0-p0 :004 > remote = repo.remotes.last
 => #<Grit::Remote "origin/master"> 
2.0.0-p0 :005 > repo.git.push(remote)
NoMethodError: undefined method `delete' for #<Grit::Remote "origin/master"> 
```

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-10T20:49:06.973

好的，我想我明白了，但现在它要求我提供我的 gitHub 凭据，我无法输入我的凭据，因为我收到“超时”错误。

这就是我所做的：

# 将远程仓库添加到项目中：

repo.git.remote({},'add','RemoteRepoName',' [https://github.com/](https://github.com/) /.git')

# 推送到github

pusher = repo.git.push({:process_info => true, :progress => true}, 'RemoteRepoName', 'master')

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-09T21:13:38.280

使用 grit，repo.git.push 实际上通过 method_missing 调用 Git#native。它的签名是这样的：

```
def native(cmd, options = {}, *args, &block) 
```

所以你想改为执行以下操作：

```
repo.git.push({}, remote) 
```

是的，将 OPTIONAL 选项放在开头很愚蠢，但这就是它的编写方式。

# python - Python：如何优化这段代码

> ID：15150871
> 
> 赞同：0
> 
> 时间：2013-03-01T05:03:18.963
> 
> 标签：python, performance, numpy

我试图优化下面的代码，但我不知道如何提高计算速度。下面的代码需要将近 30 秒才能运行。由于 bootsam 和 filedata 矩阵，这需要时间。有人可以帮我优化这段代码是否可以提高性能？

```
import numpy as np
filedata=np.genfromtxt('monthlydata1970to2010.txt',dtype='str') # this will creae 980 * 7 matrix
nboot=5000  
results=np.zeros((11,nboot));   #this will create 11*5000 matrix  
results[0,:]=600  
horizon=360  
balance=200  
bootsam=np.random.randint(984, size=(984, nboot)) # this will create 984*5000 matrix
for bs in range(0,nboot):  
   for mn in range(1,horizon+1):  
        if mn%12 ==1:  
            bondbal = 24*balance  
            sp500bal=34*balance  
            russbal = 44*balance  
            eafebal=55*balance  
            cashbal =66*balance  
            bondbal=bondbal*(1+float(filedata[bootsam[mn-1,bs]-1,2]))  
            sp500bal=sp500bal*(1+float(filedata[bootsam[mn-1,bs]-1,3]))  
            russbal=russbal*(1+float(filedata[bootsam[mn-1,bs]-1,4]))  
            eafebal=eafebal*(1+float(filedata[bootsam[mn-1,bs]-1,5]))  
            cashbal=cashbal*(1+float(filedata[bootsam[mn-1,bs]-1,6]))  
            balance=bondbal + sp500bal + russbal + eafebal + cashbal  
        else:  
            bondbal=bondbal*(1+float(filedata[bootsam[mn-1,bs]-1,2]))
            sp500bal=sp500bal*(1+float(filedata[bootsam[mn-1,bs]-1,3]))
            russbal=russbal*(1+float(filedata[bootsam[mn-1,bs]-1,4]))
            eafebal=eafebal*(1+float(filedata[bootsam[mn-1,bs]-1,5]))
            cashbal=cashbal*(1+float(filedata[bootsam[mn-1,bs]-1,6]))
            balance=bondbal + sp500bal + russbal + eafebal + cashbal
            if mn == 60:
               results[1,bs]=balance
            if mn == 120: 
               results[2,bs]=balance
            if mn == 180:
               results[3,bs]=balance
            if mn == 240:
               results[4,bs]=balance
            if mn == 300: 
               results[5,bs]=balance 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-01T05:37:46.317

基本代数：执行`x = x * 1.23`360 次可以轻松转换为单次执行

`x = x * (1.23 ** 360)`

重构你的代码，你会发现这些循环并不是真正需要的。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-01T21:18:20.873

没有看到真正的代码很难回答。我无法让您的示例正常工作，因为在代码`balance`中设置为`inf`早期，因为它已在问题的评论中注意到。无论如何，一个非常明显的优化不是`bootsam[mn-1,bs]`在每次迭代中读取元素五次以计算`xxbal`变量。所有这些变量都使用相同的`bootsam`元素，因此您应该读取该元素一次并重用它：

```
for bs in xrange(0,nboot):
   for mn in xrange(1,horizon+1):
        row = bootsam[mn-1,bs]-1
        if (mn % 12) == 1:  
            bondbal = 24*balance
            sp500bal=34*balance
            russbal = 44*balance
            eafebal=55*balance
            cashbal =66*balance

            bondbal=bondbal*(1+float(filedata[row,2]))  
            sp500bal=sp500bal*(1+float(filedata[row,3]))  
            russbal=russbal*(1+float(filedata[row,4]))  
            eafebal=eafebal*(1+float(filedata[row,5]))  
            cashbal=cashbal*(1+float(filedata[row,6]))  
            balance=bondbal + sp500bal + russbal + eafebal + cashbal
        else:  
            bondbal=bondbal*(1+float(filedata[row,2]))  
            sp500bal=sp500bal*(1+float(filedata[row,3]))  
            russbal=russbal*(1+float(filedata[row,4]))  
            eafebal=eafebal*(1+float(filedata[row,5]))  
            cashbal=cashbal*(1+float(filedata[row,6])) 
```

优化后的代码（对 使用假值`balance`）运行速度比我的旧 Acer Aspire 上的原始代码快近两倍。

**更新**

如果您需要进一步优化，您至少可以再做两件事：

*   不要在每个访问的元素处加 1 并转换为浮点数`filedata`。而是在创建时将 1 添加到数组并为其提供浮点数据类型。
*   不要使用混合 numpy 和内置数字的算术表达式，因为 Python 算术运行速度较慢（您可以在[此 SO 线程](https://stackoverflow.com/questions/5956783/numpy-float-10x-slower-than-builtin-in-arithmetic-operations)中阅读有关此问题的更多信息）

以下代码遵循这些建议：

```
filedata=np.genfromtxt('monthlydata1970to2010.txt',dtype='str') # this will creae 980 * 7 matrix
my_list = (np.float(1) + filedata.astype(np.float)).tolist() # np.float is converted to Python float
nboot=5000
results=np.zeros((11,nboot))   #this will create 11*5000 matrix
results[0,:]=600  
horizon=360
balance=200
bootsam=np.random.randint(5, size=(984, nboot)) # this will create 984*5000 matrix
for bs in xrange(0,nboot):
   for mn in xrange(1,horizon+1):
        row = int(bootsam[mn-1,bs]-1)
        if (mn % 12) == 1:
            bondbal = 24*balance
            sp500bal=34*balance
            russbal = 44*balance
            eafebal=55*balance
            cashbal =66*balance

            bondbal=bondbal*(my_list[row][2])  
            sp500bal=sp500bal*(my_list[row][3])  
            russbal=russbal*(my_list[row][4])  
            eafebal=eafebal*(my_list[row][5])  
            cashbal=cashbal*(my_list[row][6])  
            balance=bondbal + sp500bal + russbal + eafebal + cashbal
        else:  
            bondbal=bondbal*(my_list[row][2])  
            sp500bal=sp500bal*(my_list[row][3])  
            russbal=russbal*(my_list[row][4])  
            eafebal=eafebal*(my_list[row][5])  
            cashbal=cashbal*(my_list[row][6])  
            balance=bondbal + sp500bal + russbal + eafebal + cashbal 
```

通过这些更改，代码的运行速度几乎比之前优化的代码快两倍。

# vb.net - 窗体的背景图片（大小超过 20MB）未在 win xp 中加载

> ID：15150872
> 
> 赞同：0
> 
> 时间：2013-03-01T05:03:26.270
> 
> 标签：vb.net, winforms, user-interface

我正在使用**Windows XP**操作系统。当我尝试在表单的背景中添加图像（大小为 22.8 MB）时，它显示如下错误

> 'token endelement in state error 将导致无效的 xml 文档'

在运行表单之前......但在**Windows 7**中它工作正常......谁能帮我在**Win XP**中解决这个问题......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T05:26:50.323

您可能需要增加 XP 机器上的虚拟内存...

*   单击开始，然后单击控制面板。
*   单击性能和维护，然后单击系统。
*   在“高级”选项卡的“性能”下，单击“设置”。
*   在高级选项卡的虚拟内存下，单击更改。
*   在 Drive [Volume Label] 下，单击包含要更改的页面文件的驱动器。
*   在所选驱动器的分页文件大小下，单击自定义大小复选框。您可以通过输入初始大小和最大大小来输入要为虚拟内存保留的内存量。
*   单击设置 当系统提示您重新启动计算机时，单击是。特别注意：您应该为初始大小和最大大小选择相同的金额。这将阻止您的 CPU 不断更改页面文件。

如果这不起作用，请使用应用程序资源将您的图像添加到项目中......

谢谢！

# java - JDT：将 MethodInvocation 替换为另一个时缺少分号

> ID：15150873
> 
> 赞同：4
> 
> 时间：2013-03-01T05:03:39.563
> 
> 标签：java, eclipse-jdt, abstract-syntax-tree

我正在尝试使用 Eclipse JDT 的 AST 模型来替换`MethodInvocation`另一个。举一个简单的例子 - 我试图`Log.(i/e/d/w)`用调用替换所有调用 to `System.out.println()`。我正在使用 an`ASTVisitor`来定位*有趣* `ASTNode`的节点并将其替换为新`MethodInvocation`节点。这是代码的概要：

```
class StatementVisitor extends ASTVisitor {

    @Override
    public boolean visit(ExpressionStatement node) {

        // If node is a MethodInvocation statement and method
        // name is i/e/d/w while class name is Log

        // Code omitted for brevity

        AST ast = node.getAST();
        MethodInvocation newMethodInvocation = ast.newMethodInvocation();
        if (newMethodInvocation != null) {
            newMethodInvocation.setExpression(
                ast.newQualifiedName(
                    ast.newSimpleName("System"), 
                    ast.newSimpleName("out")));
            newMethodInvocation.setName(ast.newSimpleName("println"));

            // Copy the params over to the new MethodInvocation object
            mASTRewrite.replace(node, newMethodInvocation, null);
        }
    }
} 
```

然后将此重写保存回原始文档。整个事情运行良好，但对于一个小问题 - 原始声明：

```
Log.i("Hello There"); 
```

更改为：

```
System.out.println("Hello There") 
```

**注意**：语句末尾的分号丢失

**问题**：如何在新语句的末尾插入分号？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-01T05:29:03.473

找到了答案。诀窍是将对象包装`newMethodInvocation`在如下类型的对象中`ExpressionStatement`：

```
ExpressionStatement statement = ast.newExpressionStatement(newMethodInvocation);
mASTRewrite.replace(node, statement, null); 
```

本质上，将我的代码示例中的最后一行替换为上述两行。

# javascript - 单击 webview 中的链接时触发自定义事件

> ID：15150879
> 
> 赞同：0
> 
> 时间：2013-03-01T05:04:12.770
> 
> 标签：javascript, titanium

嗨，我在 Titanium 工作。我面临一个问题，如下所示。在图片中，我有一个 webview，其中存在一个链接“（了解更多）”。此文本来自网站，通过 JSON 解析我想触发自定义事件，而不是链接的实际 url（了解更多）。我进行了很多搜索，但不幸的是无法找到解决方案。请问有什么帮助吗？提前致谢。

![在此处输入图像描述](../Images/0cf1516d5e75d11168cb6746970c5405.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-01T06:04:05.297

尝试`preventDefault`：

```
$elem.on('click', function (evt) {
  evt.preventDefault();
  doStuff();
}) 
```

# javascript - translate() 方法在 HTML5 画布的 jCanvaScript 中不起作用？

> ID：15150887
> 
> 赞同：1
> 
> 时间：2013-03-01T05:04:55.823
> 
> 标签：javascript, html, html5-canvas, jcanvascript

我正在使用[jCanvasSript](http://jcscript.com/)进行画布动画。

我将图像元素放在画布中，然后想使用 translate 方法移动它。

这可能吗？如果可以，我该如何实现我想要的行为？

我的代码：

**HTML：**

```
<canvas id="bug_animte" width="990" height="285">
    This text is displayed if your browser 
    does not support HTML5 Canvas.
</canvas> 
```

**Javascript：**

```
function start_1(idCanvas)
{
    jc('#myCircle_1').translate(50,20);
}
function onload_1(idCanvas) 
{   
    var img=new Image();
    img.src="images/body.png";
    img.onload=function(){
        jc.start(idCanvas);
        jc.image(img,100,100).id('myCircle_1');
        jc.start(idCanvas);
    }
}
$(document).ready(function(){
    onload_1('bug_animte');
    var x = setTimeout(function(){
            start_1('bug_animte')                   
    },100);
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T05:16:21.827

试试这个例子..

```
<!DOCTYPE HTML>
<html>
  <head>
    <style>
      body {
        margin: 0px;
        padding: 0px;
      }
      #myCanvas {
        border: 1px solid #9C9898;
      }
    </style>
  </head>
  <body>
    <canvas id="myCanvas" width="578" height="200"></canvas>
    <script>
      var canvas = document.getElementById('myCanvas');
      var context = canvas.getContext('2d');
      var rectWidth = 150;
      var rectHeight = 75;

      // translate context to center of canvas
      context.translate(canvas.width / 2, canvas.height / 2);

      context.fillStyle = 'blue';
      context.fillRect(rectWidth / -2, rectHeight / -2, rectWidth, rectHeight);
    </script>
  </body>
</html> 
```

# sql-server - 以前更新的 T-SQL 更新字段

> ID：15150890
> 
> 赞同：0
> 
> 时间：2013-03-01T05:05:07.407
> 
> 标签：sql-server, tsql, sql-update, sql-server-2012

我需要从先前值的总和中填充字段。例如：

```
Id          Price           Total that i need     
----------- ------------  ---------
1           500             500
2           200             500+200 = 700
3           NULL            Because price is null put previous value = 700
4           300             SUM of previous row = 500+200+(calc to 700)+ 300 = 1700 
5           NULL            Because price is null put previous value = 1700 
```

请注意，我不能使用变量。

我也在使用子查询，但不起作用（只返回不为空的价格总和）。

sql可以实时更新价格（像光标一样逐条记录）？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T05:17:17.590

实际上，这是[计算运行总计](https://stackoverflow.com/questions/860966/calculate-a-running-total-in-sqlserver)的典型任务。

尝试这个

```
create table #t(id int, price decimal(10,2), tot_sum decimal(10,2))

insert #t(id, price) values(1, 500)
insert #t(id, price) values(2, 200)
insert #t(id, price) values(3, NULL)
insert #t(id, price) values(4, 300)
insert #t(id, price) values(5, NULL)

update a
set tot_sum=gr.tot_sum
from #t a 
     join(select a.id, max(a.price) as price, sum(isnull(b.price, 0))+max(isnull(a.price,0)) as tot_sum
            from #t a 
                 left join #t b on b.id < a.id
            group by a.id) gr on a.id=gr.id

select * from #t t order by id

drop table #t 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T18:28:16.343

一个有趣的问题，即使有些不寻常。然而它似乎可以解决。如果我没有遗漏任何东西，那么您可以这样做。

1.  以“正常”方式计算运行总计，即忽略空值（实际上，将它们视为 0）。

2.  从上一个结果集中，仅选择`Price`为空的行并计算其运行总计的运行总计。

3.  将第二个结果集中最接近的前面的“运行运行总计”添加到第一个集中的每个运行总计。

这是我对上述内容的实现：

```
WITH AllTotals AS (
  SELECT
    Id,
    Price,
    Total = SUM(Price) OVER (ORDER BY Id)
  FROM atable
)
, NullTotals AS (
  SELECT
    Id,
    Total = SUM(Total) OVER (ORDER BY Id)
  FROM AllTotals
  WHERE Price IS NULL
)
SELECT
  Id,
  Price,
  Total = Total + COALESCE((
    SELECT TOP (1) Total
    FROM NullTotals
    WHERE NullTotals.Id < AllTotals.Id
    ORDER BY Id DESC
  ), 0)
FROM AllTotals
; 
```

[您可以在 SQL Fiddle](http://sqlfiddle.com/#!6/420dc/1)尝试此查询。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-01T05:28:22.477

你将不得不学习CTE。可以将公用表表达式 (CTE) 视为在单个 SELECT、INSERT、UPDATE、DELETE 或 CREATE VIEW 语句的执行范围内定义的临时结果集。

CTE 类似于派生表，因为它不存储为对象，并且仅在查询期间持续存在。与派生表不同，CTE 可以是自引用的，并且可以在同一查询中多次引用。CTE 可用于：

*   创建递归查询。有关详细信息，请参阅使用公用表表达式的递归查询。
*   在不需要一般使用视图时替换视图；也就是说，您不必将定义存储在元数据中。
*   启用按从标量子选择派生的列或非确定性或具有外部访问权限的函数进行分组。
*   在同一语句中多次引用结果表。

# php - 如何在symfony中获取大于或等于当前记录的下一条记录？

> ID：15150901
> 
> 赞同：0
> 
> 时间：2013-03-01T05:05:57.940
> 
> 标签：php, sql, symfony-1.4, propel

这是我的代码：

```
$c = new Criteria();
$c->addAscendingOrderByColumn(ItemPeer::ITEM_DATE);
$c->add(ItemPeer::ITEM_DATE, $item->getItemDate(), Criteria::GREATER_THAN);
$this->next = ItemPeer::doSelectOne($c); 
```

这工作正常，除非多个日期相同，例如：2013 年 3 月 1 日和 2013 年 3 月 1 日

发生这种情况时，它不会选择下一个。例如（按日期排序）：

```
Apple     2/27/2013
Banana    2/28/2013
Kiwi      3/1/2013
Dolphin   3/1/2013
ICBM      3/1/2013 
```

如果当前项是`Banana`，则下一项将被正确选择为`Kiwi`。但是，如果当前项目是`Kiwi`，它将无法找到下一个项目。我希望它总是选择下一个日期，即使下一个日期相同。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T05:13:22.587

使用`Criteria::GREATER_EQUAL`代替`Criteria::GREATER_THAN`

编辑：啊，我现在看到您的问题，您应该[添加第二个订购条件](https://stackoverflow.com/questions/4584484/how-to-order-by-multiple-columns-with-propel)。也许使用主键作为第二个条件，这样你就得到了一致的排序，然后使用第二个排序来确定下一个项目。基本上，你需要`select ... from ... where (item_date > mydate) or (item_date = mydate and id > myid) order by date, id asc`symfony 中的等价物。

编辑2：

```
$c = new Criteria();
// [item.item_date > $item->getItemDate()]
$crit0 = $c->getNewCriterion(ItemPeer::ITEM_DATE, $item->getItemDate(), Criteria::GREATER_THAN);
// [item.item_date = $item->getItemDate()]
$crit1 = $c->getNewCriterion(ItemPeer::ITEM_DATE, $item->getItemDate());
// [item.id > $item->id]
$crit2 = $c->getNewCriterion(ItemPeer::ID, $item->getId(), Criteria::GREATER_THAN);

// [item.item_date = $item->getItemDate()] *AND* [item.id > $item->getId()]
$crit1->addAnd($crit2);

// [item.item_date > $item->getItemDate()] *OR* [[item.item_date = $item->getItemDate()] AND [item.id > $item->getId()]]
$crit0->addOr($crit1);

$c->add($crit0);
$c->addAscendingOrderByColumn(ItemPeer::ITEM_DATE);
$c->addAscendingOrderByColumn(ItemPeer::ID);

$this->next = ItemPeer::doSelectOne($c); 
```

# android - 关于图像大小和分辨率基础知识的说明 android

> ID：15150906
> 
> 赞同：-1
> 
> 时间：2013-03-01T05:06:26.967
> 
> 标签：android, android-layout, android-imageview, android-ui, android-image

我正在为平板电脑和手机开发应用程序。我的应用程序有一个带有 4 个网格视图图像的主菜单活动。我不清楚图像的大小，我想设计适合所有屏幕。我研究了dp，4类分辨率（ldpi，mdpi，hdpi，Xhdpi）。但我仍然有以下疑问，

*   我想为四个类别（ldpi、mdpi、hdpi、Xhdpi）设计的图像的实际尺寸和分辨率是多少？
*   我是否要设计一个最大尺寸的图像，并修改为 3:4:6:8 的缩放比例？那么一般尺寸是多少？
*   如果我放置这 4 种尺寸的图像，它是否适合所有屏幕，包括移动设备？
*   如果它适合所有屏幕，图像质量会出现问题吗？
*   如何找到它属于哪个android分辨率类别的设备？
*   如果我想在横向模式下使用网格视图在整个活动中显示 4 个图像，我想设计什么尺寸的图像？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T05:49:09.647

这里有一些建议

> 我想为四个类别（ldpi、mdpi、hdpi、Xhdpi）设计的图像的实际尺寸和分辨率是多少？

1.我建议你在不同的设备上测试图像。让我知道是否还有其他方法

> 我是否要设计一个最大尺寸的图像，并修改为 3:4:6:8 的缩放比例？那么一般尺寸是多少？

2.我对此一无所知

> 如果我放置这 4 种尺寸的图像，它是否适合所有屏幕，包括移动设备？

3.再次您需要测试以确保检查所有这些。

> 如果它适合所有屏幕，图像质量会出现问题吗？

4.假设你把你所有的图像都放在drawable-ldpi中，那么图像会在一个选项卡中像素化。正确的方法是将所有各自的图像放在drwable ldpi、mdpi、hdpi和xhdpi中。但这不是像这个图像那样优化的方式使应用程序笨重。

> 如何找到它属于哪个android分辨率类别的设备？

5.  [链接](https://stackoverflow.com/questions/5015094/determine-device-screen-category-small-normal-large-xlarge-using-code)这可能会回答您的问题

> 如果我想在横向模式下使用网格视图在整个活动中显示 4 个图像，我想设计什么尺寸的图像？

6.确定适合您设备的图像的实际尺寸，这是在每个设备上测试不同尺寸的图像的唯一方法。

有用的链接

[关联](https://stackoverflow.com/questions/6575875/android-multiple-screen-support)

[多重支撑画面](http://developer.android.com/guide/practices/screens_support.html#overview)

希望这可以帮助！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T05:37:23.037

为此，您必须在布局中创建新文件夹

> 在该文件夹中为不同的屏幕尺寸创建不同的 xml 文件

*   为不同的屏幕创建不同的图像

# javascript - 为什么javascript不允许没有赋值的匿名函数？

> ID：15150909
> 
> 赞同：-1
> 
> 时间：2013-03-01T05:07:01.693
> 
> 标签：javascript, anonymous-function

“意外令牌（”从第 1 行抛出。为什么？

```
function (a,b,c) {
        // code    
    } 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-01T05:37:03.400

Techfoobar 本质上是正确的，另一种解释方式是*FunctionDeclaration*必须有名称，而在*FunctionExpression*中名称是可选的。

两者有什么区别？函数声明是以保留字开头的任何**语句**`function`。所以：

```
function foo() {} 
```

是一个函数声明。

函数表达式类似于声明，但它出现在**除 start 之外的**语句中的任何位置，因此：

```
(function (){});
var x = function(){};
if (6 != function(){return 'foo';}()){} 
```

都是函数表达式，不需要名称。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-01T05:08:56.347

因为有语法错误。您的函数没有名称。

如果要按照您所做的方式定义您的函数，则它必须有一个名称。

要检查这一点，请将您的代码粘贴到 Firebug 控制台并执行它。你会得到错误

> SyntaxError：函数语句需要名称

您可以通过为函数命名来更正它。

例如：

```
function foo(blah) {
    ...
} 
```

* * *

对于在全局范围内定义的匿名函数，您要么需要将其分配给某个东西，要么需要立即执行它。

IE

任何一个

```
var x = function(blah) {
    ...
}; 
```

或者

```
(function(blah) {
    ...
})(arguments); 
```

因为否则绝对不可能调用它们。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-01T05:12:25.403

函数语句中缺少名称。检查它[`jslint`](http://www.jslint.com)

尝试

```
function tdip() {
    var ts = tdip.find('>span');
    var trap = [];
    ts.contents().each(

    function () {
        if ($(this).is(':visible')) {
            if (this.nodeType == 3 && this.data.length > 0) {
                trap.push(this.data.trim());
            } else if ($(this).text && $(this).text().length > 0) {
                trap.push($(this).text().trim());
            }
        }
    });
    return trap.join('');
} 
```

# android - 使用 PendingIntent 的多个警报

> ID：15150910
> 
> 赞同：0
> 
> 时间：2013-03-01T05:07:11.433
> 
> 标签：android, alarmmanager, android-pendingintent

我正在创建一个调度程序应用程序。我正在使用`AlarmManager`and设置多个事件`PendingIntent`。我使用以下方法：

在这里我声明`PendingIntent`数组：

```
public static ArrayList <PendingIntent> intentArray= new ArrayList <PendingIntent>(); 
```

在这里，我向数组添加意图：

```
PendingIntent pendingIntent = PendingIntent.getBroadcast(
        EditScheduleActivity.this, intentid, notifyintent,
        PendingIntent.FLAG_UPDATE_CURRENT); //intent id is unique

alarmManager = (AlarmManager) getSystemService(ALARM_SERVICE);
alarmManager.set(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(),
        pendingIntent);
MainActivity.intentArray.add(pendingIntent); 
```

在这里，我正在清除警报：

```
EditScheduleActivity.alarmManager.cancel(intentArray.get(selecteditemid_int));
intentArray.remove(selecteditemid_int); 
```

但是当我清除警报时，我得到一个`ArrayIndexOutOfBoundsException`，我认为问题是当我重新启动应用程序时，意图数组列表被重新初始化并引发异常。如何通过保持意图数组列表不重新初始化来克服这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T05:22:38.570

> 我认为问题是当我重新启动应用程序意图数组列表时重新初始化并引发异常。

在您的情况下，您必须使用`Sharepreference or database`，将 arraylist 存储到 shareprence 并同时`intentArray.remove(selecteditemid_int);`更新您的 SP，因此下次它将为您提供上次存储的值，请检查以下链接。

[在 Android 应用程序中使用偏好 API](http://sudarmuthu.com/blog/using-preference-api-in-android-applications)

[堆栈溢出答案](https://stackoverflow.com/a/11050845/646806)

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-01T05:13:19.593

这与Android几乎没有关系。An`ArrayOutOfBoundsException`意味着当你这样做时：

```
intentArray.remove(selecteditemid_int); 
```

`selecteditemid_int`大于数组的长度。

# batch-file - 如何查找和替换具有保留字符和空格的行

> ID：15150911
> 
> 赞同：1
> 
> 时间：2013-03-01T05:07:14.650
> 
> 标签：batch-file, passwords, complexity-theory

我是批次的新手。我正在尝试使用批处理编辑文件中的一行。但是，该行包含空格和一个保留字符（`=`符号）基本上，我想更改`PasswordComplexity = 1`为`PasswordComplexity = 0`，它位于一个名为`export.cfg` All Ideaspreciated 的文件中，这是我现在所拥有的：

```
setlocal enabledelayedexpansion

FOR /F "usebackq delims=" %%a IN ("export.cfg") DO (
set "line=%%a" & echo !line:(PasswordComplexity = 1)=(PasswordComplexity = 0)!
)>>"import.cfg" 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T14:20:34.727

`=`不幸的是，不能**简单地**用原生 Windows 解决方案替换等号。见[https://stackoverflow.com/a/9561827/891976](https://stackoverflow.com/a/9561827/891976)

如果包含 PasswordComplexity 的行只有一个数字，您可以执行以下操作：

```
setlocal EnableExtensions EnableDelayedExpansion

for /f "usebackq delims=" %%A in ("export.cfg") do (
    set "line=%%A"
    set "found=false"
    for /f "delims=" %%B in (echo %%A^|find "PasswordComplexity = 1") do set "found=true"
    if !found!==true (
        echo !line:1=0!
    ) else (
        echo !line!
    )
)>>"import.cfg"

endlocal 
```

另请注意，无论何时在引号之外使用特殊字符时，都必须对其进行转义。见[http://www.robvanderwoude.com/escapechars.php](http://www.robvanderwoude.com/escapechars.php)

# javascript - CSS：渐变标题 100% 的屏幕宽度很好，除非页面滚动

> ID：15150914
> 
> 赞同：2
> 
> 时间：2013-03-01T05:07:39.887
> 
> 标签：javascript, css, header, scroll, gradient

## 我到处寻找这个，只能找到背景渐变的解决方案。

这把我难住了，所以……就这样吧。

我有一个渐变标题。我希望它的宽度是屏幕的宽度。调整窗口大小时一切正常，除非滚动到侧面。然后我的渐变变成了空白。

内容需要保持较大的固定宽度。在我的实际页面的 HTML 中，标题包含在包装器和另一个 div 中。如果解决方案是 CSS 中的 HTML，那就太好了，但如果前者是不可能的，javascript 和 jquery 就可以了。

我做了一个 js fiddle 来显示这个问题。[http://jsfiddle.net/WvHYM/18/](http://jsfiddle.net/WvHYM/18/)

这是html

```
<body>
    <div id="wrapper">
        <div id="header">&nbsp</div>
        <div id="content">This is the content</div>
    </div>
</body> 
```

和 css 它包含渐变，所以它是一个野兽

```
html, body{
    width:100%;
}

#wrapper{
    width:100%;
}
#header {
    height: 75px;
    width: 100%;
    background: #7d7e7d; /* Old browsers */ /* IE9 SVG, needs conditional override of 'filter' to 'none' */
    background: url(data:image/svg+xml;base64, PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPHJhZGlhbEdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgY3g9IjUwJSIgY3k9IjUwJSIgcj0iNzUlIj4KICAgIDxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiM3ZDdlN2QiIHN0b3Atb3BhY2l0eT0iMSIvPgogICAgPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdG9wLWNvbG9yPSIjMGUwZTBlIiBzdG9wLW9wYWNpdHk9IjEiLz4KICA8L3JhZGlhbEdyYWRpZW50PgogIDxyZWN0IHg9Ii01MCIgeT0iLTUwIiB3aWR0aD0iMTAxIiBoZWlnaHQ9IjEwMSIgZmlsbD0idXJsKCNncmFkLXVjZ2ctZ2VuZXJhdGVkKSIgLz4KPC9zdmc+);
    background: -moz-radial-gradient(center, ellipse cover, #7d7e7d 0%, #0e0e0e 100%); /* FF3.6+ */
    background: -webkit-gradient(radial, center center, 0px, center center, 100%, color-stop(0%, #7d7e7d), color-stop(100%, #0e0e0e)); /* Chrome,Safari4+ */
    background: -webkit-radial-gradient(center, ellipse cover, #7d7e7d 0%, #0e0e0e 100%); /* Chrome10+,Safari5.1+ */
    background: -o-radial-gradient(center, ellipse cover, #7d7e7d 0%, #0e0e0e 100%); /* Opera 12+ */
    background: -ms-radial-gradient(center, ellipse cover, #7d7e7d 0%, #0e0e0e 100%); /* IE10+ */
    background: radial-gradient(ellipse at center, #7d7e7d 0%, #0e0e0e 100%); /* W3C */
    filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#7d7e7d', endColorstr='#0e0e0e', GradientType=1); /* IE6-8 fallback on horizontal gradient */
}
#content {
    width: 600px;
    height: 200px;
    background-color: #ccc;
    padding: 20px;
    font-family: Lucida Sans Unicode;
} 
```

这是问题的一些图像。

![这可以](../Images/9b2d524d8acff6f34be2a947ce7e1d63.png)

![不酷！](../Images/cf205f6001a3aa1c2bc85a187e52a5ba.png)

答案将不胜感激。:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T05:35:37.170

html

```
<body>
    <div class="wrapper"><div>&nbsp</div></div>
    <div>This is the content</div>
</body> 
```

css

```
body{
    width:100%;
}
.wrapper {
    width:100%;
}
div:first-of-type {
    height:75px;
    width:100%;
    background: #7d7e7d;
    /* Old browsers */
    /* IE9 SVG, needs conditional override of 'filter' to 'none' */
    background: url(data:image/svg+xml;
    base64, PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPHJhZGlhbEdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgY3g9IjUwJSIgY3k9IjUwJSIgcj0iNzUlIj4KICAgIDxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiM3ZDdlN2QiIHN0b3Atb3BhY2l0eT0iMSIvPgogICAgPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdG9wLWNvbG9yPSIjMGUwZTBlIiBzdG9wLW9wYWNpdHk9IjEiLz4KICA8L3JhZGlhbEdyYWRpZW50PgogIDxyZWN0IHg9Ii01MCIgeT0iLTUwIiB3aWR0aD0iMTAxIiBoZWlnaHQ9IjEwMSIgZmlsbD0idXJsKCNncmFkLXVjZ2ctZ2VuZXJhdGVkKSIgLz4KPC9zdmc+);
    background: -moz-radial-gradient(center, ellipse cover, #7d7e7d 0%, #0e0e0e 100%);
    /* FF3.6+ */
    background: -webkit-gradient(radial, center center, 0px, center center, 100%, color-stop(0%, #7d7e7d), color-stop(100%, #0e0e0e));
    /* Chrome,Safari4+ */
    background: -webkit-radial-gradient(center, ellipse cover, #7d7e7d 0%, #0e0e0e 100%);
    /* Chrome10+,Safari5.1+ */
    background: -o-radial-gradient(center, ellipse cover, #7d7e7d 0%, #0e0e0e 100%);
    /* Opera 12+ */
    background: -ms-radial-gradient(center, ellipse cover, #7d7e7d 0%, #0e0e0e 100%);
    /* IE10+ */
    background: radial-gradient(ellipse at center, #7d7e7d 0%, #0e0e0e 100%);
    /* W3C */
    filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#7d7e7d', endColorstr='#0e0e0e', GradientType=1);
    /* IE6-8 fallback on horizontal gradient */
}
div:last-of-type {
    width:600px;
    height:200px;
    background-color:#ccc;
    padding:20px;
    font-family:Lucida Sans Unicode;
}
} 
```

[演示](http://jsfiddle.net/jhunlio/WvHYM/12/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T05:24:07.560

你的`first-of-type`and`last-of-type`只对应`<p>`标签。要解决此问题，您需要一个`<div>`内部的另一个`<div>`.

试试这个：

```
<div id="header">

   <div id="header-gradient">

   //your content

   </div>

</div> 
```

对于 CSS：

```
#header {
   width: 100%;
}

#header-gradient:first-of-type {
   //style here
}

#header-gradient:last-of-type {
   //style here
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-09-17T16:01:35.800

我在这里找到了答案： [如何使 div 不大于其内容？](https://stackoverflow.com/questions/450903/make-css-div-width-equal-to-contents?rq=1#3917059)

基本上，如果你想要一个 100% 宽度的父元素和动态固定宽度的子元素，你需要将父元素设置为显示内联块和自动宽度（这是默认值，这意味着宽度也可以完全省略。）

重要的 CSS

家长

```
#wrapper{
    display: inline-block;
} 
```

孩子

```
#content {
    width:600px;
    height:200px;
    background-color:#ccc;
    padding:20px;
    font-family:Lucida Sans Unicode;
} 
```

[***演示***](http://jsfiddle.net/WvHYM/27/)

# iphone - 拍照后访问错误

> ID：15150916
> 
> 赞同：0
> 
> 时间：2013-03-01T05:07:47.387
> 
> 标签：iphone, xcode

```
-(void)imagePickerController:(UIImagePickerController *)picker didFinishPickingMediaWithInfo:(NSDictionary *)info
{

   //added other code

     [self dismissModalViewControllerAnimated:YES];

            UIAlertView *alert = [[UIAlertView alloc]initWithTitle:@"" message:@"Photo added to  library" delegate:self cancelButtonTitle:@"Ok" otherButtonTitles:nil, nil];
            [alert show];
} 
```

在我的应用程序中拍照后显示“错误访问错误”。如果我删除 Alertbox 就可以了。我的代码有什么问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T05:43:19.243

代替`[self dismissModalViewControllerAnimated:YES];`

利用`[picker dismissModalViewControllerAnimated:YES];`

# windows-phone-8 - Windows Phone 8 网络浏览器控制

> ID：15150932
> 
> 赞同：5
> 
> 时间：2013-03-01T05:08:49.457
> 
> 标签：windows-phone-8

我想在 windows phone 8 webbrowser 控件中控制双击放大，但我可以在 webbrowser 控件中捕获双击事件。我也无法使用元标记属性指定缩放，因为我一直在显示的页面来自第三方我也无法编辑 HTML 页面，任何人都遇到过这样的问题，这很明显我不能能够从中恢复超过2天，没有解决方案，

任何帮助将不胜感激！

问候，莫伊，

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-11-28T03:47:48.180

嗨，这是我用于停止滚动、缩放和双击的代码，它在我的 Windows Phone 8 和 Windows Phone 8.1（SilverLight）项目中运行良好

```
#region stop zoom and scroll
    public bool ScrollDisabled { get; set; }
    private void WB_Loaded(object sender, RoutedEventArgs e)
    {
        var border = WB.Descendants<Border>().Last() as Border;
        ScrollDisabled = true;
        border.ManipulationDelta += Border_ManipulationDelta;
        border.ManipulationCompleted += Border_ManipulationCompleted;
        border.DoubleTap += border_DoubleTap;
        //Debug.WriteLine("Height " + border.Child);
        //ContentPresenter cp = border.Child as ContentPresenter;
        //Debug.WriteLine("ContentPresenter " + cp.Height);
        //cp.Height = 650;
        //Debug.WriteLine("ContentPresenter " + cp.Content);
        //Grid gd = cp.Content as Grid;
        //Debug.WriteLine("ContentPresenter " + gd.Children.First());
        //border.MaxHeight = 700;
    }

    void border_DoubleTap(object sender, System.Windows.Input.GestureEventArgs e)
    {
        // suppress double-tap zoom
        e.Handled = true;
    }

    private void Border_ManipulationCompleted(object sender,
                                            ManipulationCompletedEventArgs e)
    {

        if (e.FinalVelocities.ExpansionVelocity.X != 0.0 ||
            e.FinalVelocities.ExpansionVelocity.Y != 0.0 
            ||(ScrollDisabled && e.IsInertial))
        {
            e.Handled = true;
            Debug.WriteLine("Scroll ManipulationCompleted");
        }
    }

    private void Border_ManipulationDelta(object sender,
                                          ManipulationDeltaEventArgs e)
    {
        // suppress zoom
        if (e.DeltaManipulation.Scale.X != 0.0 ||
            e.DeltaManipulation.Scale.Y != 0.0)
            e.Handled = true;

        //optionally suppress scrolling
        if (ScrollDisabled)
        {
            if (e.DeltaManipulation.Translation.X != 0.0 ||
              e.DeltaManipulation.Translation.Y != 0.0)
                e.Handled = true;
        }
    }
    #endregion 
```

对于此代码，它需要一个我在[此处发布的 c# 类](http://www.paste.org/76396)

# c# - Lambda 比较两个列表

> ID：15150934
> 
> 赞同：0
> 
> 时间：2013-03-01T05:08:58.070
> 
> 标签：c#, asp.net, linq

我有 3 个类型的列表`cab`。我需要比较 `listA`和`listB`。如果`Car-number`or `status`in与 in`listB`相同，`listA`那么我必须将该行添加`listB`到`listC' else add it to`listA `. I need to perform that same operation for all rows for`listB`。如何在两个列表上编写 lambda 来执行此操作？

这是我到目前为止的代码：

```
public class cab
{
    public string Name {get;set;}
    public string Desc {get;set;}
    public int Car_number   {get;set;}
    public bool status {get;set;}

}
cab c1 = new cab() { Name = "Zen",Desc = "äsdasdf",Car_number= "8832",status="false"};
cab c2 = new cab() { Name = "Ford",Desc = "sdfgedasdf",Car_number= "1132",status="true"};
cab c3 = new cab() { Name = "Swift",Desc = "sdsdf",Car_number= "732",status="true"};

List<cab> listA = new List<cab>();

listA.Add(c1);
listA.Add(c2);
listA.Add(c3);

List<cab> listB  = new List<cab>();
cab c4 = new cab() { Name = "Santro",Desc = "iisdasdf",Car_number= "8832",status="false"};
cab c5 = new cab() { Name = "Ritz",Desc = "esddf",Car_number= "132",status="true"};

listB.Add(c4);
listB.Add(c5);
List<cab> listC  = new List<cab>(); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-01T05:27:38.657

需要 lambda 的任何具体原因？

这对你有用吗？

```
foreach (var bItem in listB)
{
    if (listA.Any(aItem => bItem.Car_number == aItem.Car_number || bItem.status == aItem.status))
        listC.Add(bItem);
    else
        listA.Add(bItem);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T05:40:00.390

```
listB.ForEach(b =>
   {
      if (listA.Any(a => a.Car_number == b.Car_number || a.status == b.status))
      {
         listC.Add(b);
      }
      else
      {
         listA.Add(b);
      }
   }
); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-01T05:40:20.380

如果你真的想要 lambda 表达式，试试这个：

```
 public static void ChoiseAndAdd(Cab cab,ref List<Cab> listA,ref List<Cab> listC)
    {
        if (listA.Any(e => e.Car_number == cab.Car_number) || listA.Any(e => e.status == cab.status))
        {
            listC.Add(cab);
            return;
        }
        listA.Add(user);
    } 
```

和表达式：

```
listB.ForEach(e => ChoiseAndAdd(e, ref listA, ref listC)); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-05-31T04:11:07.497

```
//Populate list C
listC = listA.Where(a=>  listB.Select(b=>b.Car_number).Contains(a.Car_number) && listB.Select(b => b.status).Contains(a.status)).ToList();
//Populate ListB using ListC
listB.AddRange(listA.Where(a => ! listC.Select(c => c.Car_number).Contains(a.Car_number) && ! listC.Select(c => c.status).Contains(a.status)).ToList()); 
```

注意：我在这里偶然发现了一个类似的问题，并使用您的代码澄清了我的疑问。我知道这是一个老问题，并且已经提供（并接受）答案。但我想我会为可能来这里寻找答案的其他人发布上述解决方案。

# model-view-controller - 如何保持 URL 路由 DRY

> ID：15150943
> 
> 赞同：1
> 
> 时间：2013-03-01T05:09:47.327
> 
> 标签：model-view-controller, routing, routes, asp.net-mvc-routing, url-routing

我希望可以选择为 UserName（可以更改）和 UserId 提供一个路由。通过这种方式，用户可以获得易于记忆的 URL`Users/{UserName}`以及保证永远不会更改的 URL`Users/{UserId}`

有什么办法可以避免必须为每条以用户为基础的路线编写 2 条路线？

从评论编辑

我也想避免在方法中处理这个问题。我宁愿在路由中处理它。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-11T18:23:50.207

我想我首先要问为什么您需要两者都参考？如果这是一个 Web API 路由（即 restful），您通常只有一个 get 方法用于用户 API 调用。我当然不是说你的做法是错的！我只是问是否真的需要两种检索用户的方式？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-03T21:14:54.057

要确定请求是传入 UserId 还是 UserName，您需要确定输入参数是 int 还是 string。为此，您有两种选择：

1.  在行动方法中做出决定
2.  在路由中做出决定。

如果您在 action 方法中做出决定，那么您可以在一个路由中处理这两种情况。您可以通过设置如下路线来处理此问题：

```
routes.MapRoute("", "User/{userSpecifier}",
    new { controller = "Home", action = "Index" }); 
```

然后，在 Home 控制器的 Index 操作方法中，您需要通过以下代码检查输入参数是 int 还是 string：

```
public ActionResult Index(string userSpecifier)
{
    int userId = 0;
    if(int.TryParse(userSpecifier, out userId))
    {
        //It is an int, and userId contains the user Id, so process accordingly
    }
    else
    {
        //It is not an int, so treat userSpecifier as username and process accordingly
    }
    ....

    return View();
} 
```

因此，如果传递给“userSpecifier”输入参数的字符串可以转换为int，那么您可以假设它是一个UserId并相应地对待它。如果无法将其转换为 int，则您可以假定它是 UserName 并做出相应的反应。

当然，这个解决方案是假设 UserId 是一个 int 并且 UserName 是一个字符串，这是大多数应用程序的设置方式。

如果您想在路由中做出此决定，则必须设置两条路由，并使用[路由](http://www.asp.net/mvc/tutorials/controllers-and-routing/creating-a-route-constraint-cs)约束来约束一个路由来处理整数输入参数和第二个路由来处理字符串输入参数.

# c++ - C++ / 将 std::string 和 wchar* 连接到 wchar*

> ID：15150946
> 
> 赞同：2
> 
> 时间：2013-03-01T05:10:04.577
> 
> 标签：c++, visual-c++

我想连接一个`std::string`and`WCHAR*`并且结果应该在`WCHAR*`.

我尝试了以下代码

```
size_t needed = ::mbstowcs(NULL,&input[0],input.length());
std::wstring output;
output.resize(needed);
::mbstowcs(&output[0],&input[0],input.length());
const wchar_t wchar1 = output.c_str();
const wchar_t * ptr=wcsncat( wchar1, L" program", 3 ); 
```

我收到以下错误

> 错误 C2220：警告视为错误 - 未生成“对象”文件
> 
> 错误 C2664：“wcsncat”：无法将参数 1 从“const wchar_t *”转换为“wchar_t*”

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-01T05:32:42.227

如果您调用[`string.c_str()`](http://en.cppreference.com/w/cpp/string/basic_string/c_str)获取原始缓冲区，它将返回一个 const 指针以指示您不应尝试更改缓冲区。而且绝对不应该尝试将任何东西连接到它。使用第二个字符串类实例，让运行时为您完成大部分工作。

```
std::string input; // initialized elsewhere
std::wstring output;

output = std::wstring(input.begin(), input.end());
output = output + std::wstring(L" program"); // or output += L" program";
const wchar_t *ptr = output.c_str(); 
```

还要记住这一点。一旦“输出”超出范围并破坏，“ptr”将无效。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T05:33:28.090

正如文件所说

> wchar_t * wcsncat ( wchar_t * 目的地, wchar_t * 源, size_t num ); 将源的第一个 num 宽字符附加到目标，加上终止的空宽字符。返回目的地。（来源：[http](http://www.cplusplus.com/reference/cwchar/wcsncat/) ://www.cplusplus.com/reference/cwchar/wcsncat/ ）

您不能将 const wchar1 作为目标传递，因为该函数将修改它然后返回它。所以你最好

*   分配适当大小的 wchar 数组
*   将您的字符串复制到其中
*   使用 newley 分配的 wchar 数组作为目标调用 wcsncat。

但是，我想知道您是否不能只使用字符串来进行操作，这更像是 C++ 的方式。（数组是 C 风格的）

# asp.net - 用户 ID 的电子邮件验证问题

> ID：15150947
> 
> 赞同：1
> 
> 时间：2013-03-01T05:10:06.940
> 
> 标签：asp.net, createuserwizard, custom-membershipprovider, email-verification

我正在尝试使用 asp.net 中的创建用户向导根据本文 www.4guysfromrolla.com/articles/062508-1.aspx 创建新帐户，禁用他的帐户以立即登录并在注册后立即发送电子邮件到相关电子邮件进行验证，一切正常。

抱歉，我无法上传没有 min rep 的图片，所以我现在只能提供 2 个链接。

现在问题是发送给用户的电子邮件，其中包含**USERID**的 url ：

以下是它添加到数据库的方式，如下所示：

[http://img829.imageshack.us/img829/4410/54303910.png](http://img829.imageshack.us/img829/4410/54303910.png)

现在在 Asp.Net 配置中，用户被禁用，如下所示：

[http://img41.imageshack.us/img41/9286/74707709.png](http://img41.imageshack.us/img41/9286/74707709.png)

如上图所示，用户名旁边没有勾选标记（这意味着用户被禁用，他需要使用电子邮件验证激活他的帐户）

因此，一旦用户单击单击，它就会给我**`user is not found in the database`**.

我对此感到非常困惑，网上的每个人都向我展示了发送电子邮件的同一篇文章。但他们都没有工作。

还是我做错了什么？我想通过你们中的一些人对我有所了解。

这是我创建用户和发送电子邮件的代码：

```
 Protected Sub CreateUserWizard1_SendingMail(ByVal sender As Object, ByVal e As System.Web.UI.WebControls.MailMessageEventArgs) Handles CreateUserWizard1.SendingMail
    Dim newUserAccount As MembershipUser = Membership.GetUser(CreateUserWizard1.UserName)
    Dim newUserAccountId As Guid = DirectCast(newUserAccount.ProviderUserKey, Guid)
    Dim domainName As String = Request.Url.GetLeftPart(UriPartial.Authority) + Request.ApplicationPath
    Dim confirmationPage As String = "EmailConfirmation.aspx?UserID=" & newUserAccountId.ToString()
    Dim url As String = domainName & confirmationPage
    e.Message.Body = e.Message.Body.Replace("<%VerificationUrl%>", url)
    Dim smtp As New SmtpClient()
    smtp.Host = "smtp.gmail.com"
    smtp.Port = 587
    smtp.UseDefaultCredentials = False
    smtp.Credentials = New System.Net.NetworkCredential("myemail@gmail.com", "gmailpassword")
    smtp.EnableSsl = True
    smtp.Send(e.Message)
    e.Cancel = True
End Sub 
```

电子邮件确认.aspx：

```
Protected Sub Page_Load(sender As Object, e As System.EventArgs) Handles Me.Load

    'Make sure that a valid querystring value was passed through
    If String.IsNullOrEmpty(Request.QueryString("UserID")) OrElse Not Regex.IsMatch(Request.QueryString("UserID"), "[0-9a-f]{8}\-([0-9a-f]{4}\-){3}[0-9a-f]{12}") Then
        lblMessage.Text = "An invalid ID value was passed in through the querystring."
    Else
        'ID exists and is kosher, see if this user is already approved
        'Get the ID sent in the querystring
        Dim userId As Guid = New Guid(Request.QueryString("UserID"))

        'Get information about the user
        Dim userInfo As MembershipUser = Membership.GetUser(userId)
        If userInfo Is Nothing Then
            'Could not find user!
            lblMessage.Text = "The user account could not be found in the membership database."
        Else
            'User is valid, approve them
            userInfo.IsApproved = True
            Membership.UpdateUser(userInfo)

            'Display a message
            lblMessage.Text = "Your account has been verified and you can now log into the site."
        End If
    End If
End Sub 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T15:25:12.767

这是对我有用的解决方案

```
 Dim ConString As String = ConfigurationManager.ConnectionStrings("HDIConnectionString").ConnectionString
    Dim UserID As String
    Dim i As Integer = 0

    If (Request.QueryString("UserID") IsNot Nothing) Then
        UserID = Request.QueryString("UserID")
        Dim con As New SqlConnection(ConString)
        Dim cmd As New SqlCommand("UPDATE Users SET IsApproved=1 WHERE UserID=@UserID ", con)
        cmd.Parameters.AddWithValue("@UserID", UserID)
        con.Open()
        i = cmd.ExecuteNonQuery()
        con.Close()
    End If
    If i > 0 Then
        lblMessage.Text = "Your account has been approved. Please <a href=""Login.aspx"">login</a> to the site."
    Else
        lblMessage.Text = "User account could not be found..."
    End If 
```

# java - Java从输入字符串中获取用户选择

> ID：15150951
> 
> 赞同：-1
> 
> 时间：2013-03-01T05:10:24.957
> 
> 标签：java, string

用户必须选择要使用的树：

> 您想测试哪棵树（BST、ST、RBT）？

我以为您可以将输入作为字符串并将其与字符串进行比较以选择要使用的树，但我认为我错了，下面是我所做的

```
 Scanner input = new Scanner(System.in);
    System.out.println("Which tree would you like to test (BST, ST, RBT)? ");
    treeChoice = input.nextLine();

    if(treeChoice == "BST")
    {
        myTree = new BST<Integer>();
    }
    else if(treeChoice == "ST")
    {
        //ST<Integer> myTree = new ST<Integer>();
    }
    else if(treeChoice == "RBT")
    {
        //RBT<Integer> myTree = new RBT<Integer>();
    }
    else
    {
        System.out.println("Invalid Entry");
    } 
```

这似乎不起作用，当我测试它时，输出是无效条目。

我会以错误的方式解决这个问题吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-01T05:11:43.033

`if(treeChoice == "BST")`

应该

`if("BST".equalsIgnoreCase(treeChoice))`

并相应地修改其余部分。规则**不**用于比较`==`_`String`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-01T05:29:47.530

您必须使用`equals`方法来比较两个字符串。我建议你使用开关盒。Java 7 支持 switch case 中的字符串。这将提高您的代码可读性，并可以处理来自用户的所有输入。

# php - 如果以 01-03 给出，则使用增量为 01,02,03 的 for 循环的更好方法，如果以 1-3 给出，则使用 1,2,3

> ID：15150954
> 
> 赞同：1
> 
> 时间：2013-03-01T05:10:49.990
> 
> 标签：php

我在 Excel 工作表中有两列。一个是国家代码，另一个是城市代码。

数据是这样来的：

```
Country Code  City Code
10            01-03 
```

我必须通过将国家代码和城市代码组合为：

```
Result
1001
1002
1003 
```

即国家代码将与范围内的每个城市代码连接`01-03`。

如果数据是这样给出的：

```
Country Code  City Code
10            1-3 
```

我的结果应该是

```
Result
101
102
103 
```

我正在使用 for 循环将国家代码与给定的城市代码范围连接起来。

但我`101,102,103`在这两种情况下都得到了结果。

任何人都可以提出更好的方法来解决这个问题吗？

我的代码是

```
$mystring = $area_code_array;
                                                 $findme   = '-';
                                                 $pos = strpos($mystring, $findme);

                                             if($pos === false)
                                             {
                                                 $start_point = preg_replace("/[^0-9]+/", "",$area_code_array);
                                                 $end_point   = preg_replace("/[^0-9]+/", "",$area_code_array);
                                             }
                                             else
                                             {
                                                $explode = explode('-',$area_code_array);
                                                $start_point = preg_replace("/[^0-9]+/", "",$explode[0]);
                                                $end_point   = preg_replace("/[^0-9]+/", "",$explode[1]);
                                             }
                                             for($h=$start_point;$h<=$end_point;$h++)
                                             { 
```

}

以上是我使用的代码**$area_code_array**用于获取城市代码，它可能像 1,2,3 或 1-20, 01-20。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-01T05:33:01.530

你可以试试这个：

```
$number=1;
$newNumber = sprintf('%02d', $number); 
```

所以 $newNumber 的值是：01

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-01T05:20:15.207

试试这个 ：

```
$country  = 10;
$city     = '01-05';

$ct       = explode("-",$city);
$length   = strlen($ct[0]);
$range    = range($ct[0],$ct[1]);

$res      = array();
foreach($range as $val){
   $res[] = $country.str_pad($val, $length, "0", STR_PAD_LEFT);
}

echo "<pre>";
print_r($res); 
```

# objective-c - 在 iOS 5 上控制数组迭代的变量

> ID：15150956
> 
> 赞同：0
> 
> 时间：2013-03-01T05:11:03.393
> 
> 标签：objective-c, ios5, ios6, objective-c-blocks

我在某处看到以下三个代码在做同样的事情。

使用循环：

```
BOOL stop = 0;
for (int i = 0 ; i < [theArray count] ; i++) {
    NSLog(@"The object at index %d is %@",i,[theArray objectAtIndex:i]);
    if (stop)
        break;
} 
```

使用快速枚举：

```
int idx = 0;
BOOL stop = 1;

for (id obj in theArray) {
    NSLog(@"fast emuration approch @ x %d is %@",idx,obj);
    if (stop)
        break;
    idx++;
} 
```

使用块：

```
[theArray enumerateObjectsUsingBlock:^(id obj, NSUInteger idx, BOOL *stop){

    NSLog(@"the block approch at x %d is %@",idx,obj);
}]; 
```

但我不明白的是——

1.  如何在块方法中从外部设置停止？
2.  如何在块方法中设置 idx？
3.  BOOL 声明在块方法中是不寻常的。为什么？（因为我也无法更改块内的值，是因为这样的声明吗？）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-01T05:47:55.107

1.  您只能更改`stop`块内指向的值 - 但就语义而言，您也不能在其他方法中做任何不同的事情，除非您使用示例所指示的范围更广的变量代码并在另一个线程上操作它。
2.  你不能。您在块中编写的代码本质上是您的循环体，并且`idx`从`stop`块的调用上下文传递，它们用于控制该上下文中的迭代。我的意思是，在`enumerateObjectsUsingBlock:`方法的实现中，它设置本地变量`idx`，`stop`就像您在快速枚举方法中所做的那样，并将它们作为参数传递给块。
3.  您收到一个指针，`BOOL`您可以更改调用者看到的值。也就是说，从您设置的块`*stop`中`YES`，执行`enumerateObjectsUsingBlock:`将看到其局部变量`stop`已设置为`YES`. 这是在 C 中通过引用返回多个参数的典型方式。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T06:37:23.503

尝试这个 ：

```
__block bool stop = YES;
__block NSUInteger idx = 0;

[theArray enumerateObjectsUsingBlock:^(id obj){

    NSLog(@"the block approch at x %d is %@",idx,obj);
    idx++;

}]; 
```

# amazon-web-services - 当基于 AWS 的应用程序失败时，如何设置 Fail Whale 样式的页面？

> ID：15150958
> 
> 赞同：4
> 
> 时间：2013-03-01T05:11:17.120
> 
> 标签：amazon-web-services, amazon-ec2, failover, amazon-elb

当服务器未能向客户保证我们正在解决该问题时，我无法找到 AWS ELB 显示失败鲸鱼式系统消息的选项。

我们能想到的最好办法是设置一个 micro-ec2 实例，然后使用守护程序或 cron 作业或使用 monit 监控服务器运行状况，并在所有服务器都关闭时启动这个微实例。

这个问题还有其他更优雅的解决方案吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-01T17:15:13.277

Route 53 可以检查您的站点并将用户重定向到您的失败页面。如果它是静态的，您可以在 s3 上托管此页面。

# css - 告诉 LESS CSS 如何处理 .active li

> ID：15150972
> 
> 赞同：9
> 
> 时间：2013-03-01T05:12:34.733
> 
> 标签：css, html-lists, less

我正在尝试制作一个包含 6 个按钮的菜单，每个按钮都有自己的背景颜色和悬停背景颜色。现在，如果链接的父 li 有一个 .active 类，我不希望在悬停时显示背景颜色。这就是我试图做的：

```
//I'm making li and li.active links to have the same normal and hover state bg color and then...
li, li.active{
    &:first-child{
        a, a:hover{
            background: @1-n;
        }
        + li{
            a, a:hover{
                background: @2-n;
            }
            + li{
                a, a:hover{
                    background: @3-n;
                }
                + li{
                    a, a:hover{
                        background: @4-n;
                    }
                    + li{
                        a, a:hover{
                            background: @5-n;
                        }
                        + li{
                            a, a:hover{
                                background: @6-n;
                            }
                        }
                    }
                }
            }
        }
    }
}
//..trying to overwrite the hovers only for normal li so I can't avoid applying them to li.active's ones
li{
    &:first-child{
        a:hover{
            background: @1-h;
        }
        + li{
            a:hover{
                background: @2-h;
            }
            + li{
                a:hover{
                    background: @3-h;
                }
                + li{
                    a:hover{
                        background: @4-h;
                    }
                    + li{
                        a:hover{
                            background: @5-h;
                        }
                        + li{
                            a:hover{
                                background: @6-h;
                            }
                        }
                    }
                }
            }
        }
    }
} 
```

这是正在生成的 CSS：

```
li:first-child a, li.active:first-child a, li:first-child a:hover, li.active:first-child a:hover {
    background: @1-n;
}
li:first-child + li a, li.active:first-child + li a, li:first-child + li a:hover, li.active:first-child + li a:hover {
    background: @2-n;
}
li:first-child + li + li a, li.active:first-child + li + li a, li:first-child + li + li a:hover, li.active:first-child + li + li a:hover {
    background: @3-n;
}
li:first-child + li + li + li a, li.active:first-child + li + li + li a, li:first-child + li + li + li a:hover, li.active:first-child + li + li + li a:hover {
    background: @4-n;
}
li:first-child + li + li + li + li a, li.active:first-child + li + li + li + li a, li:first-child + li + li + li + li a:hover, li.active:first-child + li + li + li + li a:hover {
    background: @5-n;
}
li:first-child + li + li + li + li + li a, li.active:first-child + li + li + li + li + li a, li:first-child + li + li + li + li + li a:hover, li.active:first-child + li + li + li + li + li a:hover {
    background: @6-n;
}
li:first-child a:hover {
    background: @1-h;
}
li:first-child + li a:hover {
    background: @2-h;
}
li:first-child + li + li a:hover {
    background: @3-h;
}
li:first-child + li + li + li a:hover {
    background: @4-h;
}
li:first-child + li + li + li + li a:hover {
    background: @5-h;
}
li:first-child + li + li + li + li + li a:hover {
    background: @6-h;
} 
```

如果我搞砸了我的英语，我深表歉意，我希望我说清楚了！

谢谢！！！！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-01T15:13:45.627

## 更新了许多级别的答案

这在我的原始答案中使用了下面**选项 2**的变体，这意味着需要使用 LESS 1.3.1+ 版本。由于使用了变量，这实际上在这种情况下（在我看来）更具可读性。我只使用了数字 ( `1`) 和一个带有“h” ( `1h`) 的数字来分别表示基本背景和所需的悬停状态背景。

**较少的**

```
ul {
    li {
        @first: ~':first-child';
        @withActive: ~'.active';
        @noHover: ~'a';
        @withHover: ~'a:hover';
        @level2: ~'+ li';
        @level3: ~'+ li + li'; 
        @level4: ~'+ li + li + li'; 
        @level5: ~'+ li + li + li + li';
        @level6: ~'+ li + li + li + li + li';    
        &@{first}, 
        &@{withActive}@{first} {
           @{noHover}, @{withHover} {
             background: 1;
           }
        }      
        &@{first} { 
            @{level2}, 
            @{level2}@{withActive} {
              @{noHover}, @{withHover} {
                background: 2;
              }
            }
            @{level3}, 
            @{level3}@{withActive} {
              @{noHover}, @{withHover} {
                background: 3;
              }
            }
            @{level4}, 
            @{level4}@{withActive} {
              @{noHover}, @{withHover} {
                background: 4;
              }
            }
            @{level5}, 
            @{level5}@{withActive} {
              @{noHover}, @{withHover} {
                 background: 5;
              }
            }
            @{level6}, 
            @{level6}@{withActive} {
              @{noHover}, @{withHover} {
                 background: 6;
              }
            }      
            @{withHover} { background: 1h;}
            @{level2} @{withHover} { background: 2h;}
            @{level3} @{withHover} { background: 3h;}
            @{level4} @{withHover} { background: 4h;}
            @{level5} @{withHover} { background: 5h;}
            @{level6} @{withHover} { background: 6h;}
        }
    }
} 
```

**CSS 输出**

```
ul li:first-child a,
ul li.active:first-child a,
ul li:first-child a:hover, /* <-- Over written */
ul li.active:first-child a:hover {
  background: 1;
}
ul li:first-child + li a,
ul li:first-child + li.active a,
ul li:first-child + li a:hover, /* <-- Over written */
ul li:first-child + li.active a:hover {
  background: 2;
}
ul li:first-child + li + li a,
ul li:first-child + li + li.active a,
ul li:first-child + li + li a:hover, /* <-- Over written */
ul li:first-child + li + li.active a:hover {
  background: 3;
}
ul li:first-child + li + li + li a,
ul li:first-child + li + li + li.active a,
ul li:first-child + li + li + li a:hover, /* <-- Over written */
ul li:first-child + li + li + li.active a:hover {
  background: 4;
}
ul li:first-child + li + li + li + li a,
ul li:first-child + li + li + li + li.active a,
ul li:first-child + li + li + li + li a:hover, /* <-- Over written */
ul li:first-child + li + li + li + li.active a:hover {
  background: 5;
}
ul li:first-child + li + li + li + li + li a,
ul li:first-child + li + li + li + li + li.active a,
ul li:first-child + li + li + li + li + li a:hover, /* <-- Over written */
ul li:first-child + li + li + li + li + li.active a:hover {
  background: 6;
}

/* These over write the third lines of the above output due to the css cascade */
ul li:first-child a:hover {
  background: 1h;
}
ul li:first-child + li a:hover {
  background: 2h;
}
ul li:first-child + li + li a:hover {
  background: 3h;
}
ul li:first-child + li + li + li a:hover {
  background: 4h;
}
ul li:first-child + li + li + li + li a:hover {
  background: 5h;
}
ul li:first-child + li + li + li + li + li a:hover {
  background: 6h;
} 
```

## 提及所有级别之前的原始答案

我已将下面的代码剪切为您所涉及的问题。这可以适用于`+ li`代码。

**选项1（非常易读）**

这 (1) 将颜色定义保留在一个位置，并且 (2) 通过逗号将两者分组，但是 (3) 它重复了很多选择器代码，尽管 (4) 它非常易读：

```
ul{
    li{
        &:first-child a, 
        &.active:first-child a:hover {
          background: red;         
        }
        &:first-child a:hover {
          background: blue;
        }
    }
} 
```

**选项 2（代码选择器一次）**

这具有选项 1 的优点 (1) 和 (2)，并通过利用带变量的动态选择器构建（需要 LESS 1.3.1+）来使选择器代码仅输入一次，从而克服了问题 (3)，但是，它可能是一个将产生什么不太明显，因此失去了选项 1 的优势（4）。

```
ul {
    li {
        @noActive: ~':first-child a';
        @withActive: ~'.active@{noActive}';
        &@{noActive}, 
        &@{withActive}:hover {
             background: red;
        }
        &@{noActive}{ 
           &:hover { background: blue;}
        }
   }
} 
```

**两者的 CSS 输出**

```
ul li:first-child a,
ul li.active:first-child a:hover {
  background: red;
}
ul li:first-child a:hover {
  background: blue;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-01T06:06:19.057

为了在 less 中使用伪类（：hover 等），您必须使用 & 运算符，而且您的一些伪类的顺序也混淆了。如果我理解你想要做什么，它应该是这样的：

```
ul {
  li,
  li.active {
    &:first-child {
      a {
        background: red;

        &:hover {
          background: blue;
        }
      }

      +li {
        a {
          background: green;

          &:hover {
            background: yellow;
          }
        }
      }
    }
  }
} 
```

希望这会有所帮助；如果它不起作用，请发布从您的 LESS 文件生成的 CSS 以及您希望作为输出的 CSS，以便我们查看。

# distributed-computing - 我们是否需要复制服务器上的负载均衡器？

> ID：15150983
> 
> 赞同：0
> 
> 时间：2013-03-01T05:13:29.200
> 
> 标签：distributed-computing, apache-zookeeper

假设 ZooKeeper 支持复制/冗余。在复制集中它有 server.1=zoo1:2888:3888 server.2=zoo2:2888:3888 server.3=zoo3:2888:3888 其中 zoo1、zoo2、zoo3 是地址。

我的问题是，客户端如何知道它将连接到哪个服务器（zoo1、zoo2 或 3）？我们是否需要放置一个负载均衡器，以便它将请求重定向到任何一台服务器？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-02T18:12:05.550

Zookeeper 客户端接受一个连接字符串，其中包括它应该尝试连接的所有服务器：端口组合的列表。您不需要负载平衡器，因为客户端应该足够聪明来平衡自己。

对于其他应用程序，您可能需要负载平衡器。例如，RabbitMQ 客户端不会尝试连接到多个主机，因此必须在集群环境中拥有一个。

# python - @username 的 Python 正则表达式和处理

> ID：15150985
> 
> 赞同：1
> 
> 时间：2013-03-01T05:13:31.677
> 
> 标签：python, regex

给定一个文本块，我想找到@username 的所有实例（其中用户名可以是任何用户名），然后检查用户名是否有效，如果有效，我想用链接替换文本中的它。

我知道如何用链接替换@username 的所有实例......但我不确定如何首先插入该检查。任何人都可以帮忙 - 假设我有一个名为 is_valid(username) 的函数返回 True 或 False？

这是我所拥有的：

```
urlfinder = re.compile(r'@([A-Za-z0-9_]+)')
urlified = urlfinder.sub(r' <a href="http://mysite.com/users/\1">@\1</a> ', text) 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-01T05:21:46.657

您可以使用一个函数作为替换 - 在这种情况下，`is_valid`如果用户名已知，这是一个返回 URL 的版本，否则它返回它作为匹配项给出的内容。您可以重命名此函数，而不是`if uname in users`调用您的`is_valid`函数...

```
def is_valid(username, users=['@jon']):
    uname = username.group()
    if uname in users:
        return '<a href="http://mysite.com/users/{0}">{0}</a>'.format(uname)
    return uname

text1 = 'blah blah @jon blah blah'
text2 = 'blah and more blah @bob whatever'

import re
print re.sub(r'@\w+', is_valid, text1)
# blah blah <a href="http://mysite.com/users/@jon">@jon</a> blah blah
print re.sub(r'@\w+', is_valid, text2)
# blah and more blah @bob whatever 
```

# mysql - 使用 django 和 mysql db 删除表中数据的步骤

> ID：15150986
> 
> 赞同：1
> 
> 时间：2013-03-01T05:13:32.270
> 
> 标签：mysql, django-templates, django-views

我使用 django 和 MySQL 作为数据库来执行添加、编辑和删除详细信息。我使用下面的代码执行了添加和编辑，但删除不起作用。

### 视图.py：

```
import logging
import smtplib
from django.db import connection
from django.shortcuts import render
from django.http import HttpResponse
from polls.models import Poll
from django.template import Context, loader
from django.shortcuts import get_object_or_404, render_to_response
from myapp.models import Book
from django.shortcuts import render_to_response,redirect
from django.shortcuts import get_object_or_404, render
from django.http import HttpResponseRedirect
from django.core.context_processors import csrf
from django.template import RequestContext

log = logging.getLogger(__name__)

def index(request):

    books = Book.objects.all()
    context={'books':books}
    return render(request,'index.html', context)

def addbook(request):
    if request.POST:
        book_name =request.POST['book_name']
        author_name =request.POST['author_name']
    publisher_name =request.POST['publisher_name']
    book = Book(book_name=book_name, author_name=author_name, publisher_name=publisher_name)
        book.save()
        return render_to_response('book_detail.html', {'books': book},context_instance=RequestContext(request))
    else:
        return render_to_response('addbook.html',context_instance=RequestContext(request))

def book_detail(request):
    return render(request, 'book_detail.html') 

def editbook(request,book_id):
    if request.POST:
        book_name =request.POST['book_name']
        author_name =request.POST['author_name']
    publisher_name =request.POST['publisher_name']
    books=Book.objects.filter(book_id=book_id).update(book_name=book_name, author_name=author_name, publisher_name=publisher_name)
        return redirect('/index/')
    else:
        books = Book.objects.get(pk=book_id)
    return render_to_response('editbook.html',{'books':books},context_instance=RequestContext(request))

def deletebook(request,book_id):
    if request.POST:
        book_name =request.POST['book_name']
        author_name =request.POST['author_name']
    publisher_name =request.POST['publisher_name']
    books=Book.objects.filter(book_id=book_id).delete(book_name=book_name, author_name=author_name, publisher_name=publisher_name)
        return redirect('/index/')
    else:
        books = Book.objects.get(pk=book_id)
    return render_to_response('deletebook.html',{'books':books},context_instance=RequestContext(request)) 
```

### 网址.py：

```
from django.conf.urls import patterns, include, url
from DemoApp.views import index,addbook,editbook, book_detail
from django.contrib import admin

admin.autodiscover()

urlpatterns = patterns('',
    url('^$', index),
    url('^index/$', index),
    url('^addbook/$', addbook),
    url('^book_detail/$', book_detail, 'book_summary'),
    url('^editbook/(?P<book_id>\d+)/$',editbook) ,
    url('^deletebook/(?P<book_id>\d+)/$',deletebook) ,

    #url(r'^admin/', include(admin.site.urls)),

) 
```

### HTML 模板：

```
<html>
    <head>
        <title>{{ page_title }}</title>
    </head>
    <body>   
        <div align="center">
            <table border="0" cellpadding='5' cellspacing='5'>
                <tr>
                    <form action="/deletebook/{{ books.book_id}}/" method="POST"> {% csrf_token %}
                        <input type="text" name="book_name" value="{{books.book_name}}"></input><br>
                        <input type="text" name="author_name" value="{{books.author_name}}"></input><br>
                        <input type="text" name="publisher_name" value="{{books.publisher_name}}"></input><br>
                        <input type="submit" value="delete">
                    </form>
                    <p> Output: {{ output }} </p>
                    <p>{{ book_name }}</p>
                </tr>  
            </table>
        </div>
    </body>
</html> 
```

我没有使用任何形式。我无法对特定行执行*删除操作。*它给出了一条错误消息。请检查此片段并用正确的片段回复我。

我的要求是我想从表中删除选定的行。我正在使用 MySQL。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T05:15:54.807

我不太了解 django，但清空表的 SQL 命令是：

```
TRUNCATE table table_name; 
```

它会将自动增量重新设置为 1，如果您不想更改该使用：

```
Delete * from table_name; 
```

如果你想删除特定的行然后

```
Delete from table_name where conditions1, condition2 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-04T09:55:39.440

首先尝试打印从查询中获得的值，以确定是否有任何内容符合您的`delete`条件：

```
books = Book.objects.filter(book_id=book_id, book_name=book_name, author_name=author_name, publisher_name=publisher_name)
print '\n'.join([str(b) for b in books]) 
```

你为什么要查询`book_name`，如果你已经`author_name`给出了？我想您想删除与给定 id 匹配的书籍（将来会非常感谢更多的散文）。查询将是：`publisher_name``book_id`

```
Book.objects.filter(book_id=book_id).delete() 
```

另外，请确保`book_id`是 的现有属性`Book`。[默认情况下](https://docs.djangoproject.com/en/dev/topics/db/models/#automatic-primary-key-fields)，Django 使用一个名为`id`,的主键`book_id`是您手动更改的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-10-06T11:00:31.547

```
{% for i in obj %}

 <a href="{% url 'product_delete' %}?id={{ i.id }}"><button type="submit" class="btn btn-primary">Delete</button></a>

{% endfor %}
```

product_delete 是我在views.py中写的函数

urls.py 文件：

```
urlpatterns = [
path('page', views.page, name='page')
path('product_delete', views.product_delete, name='product_delete')
] 
```

视图.py 文件：

```
def page(request):
    return render(request, "page.html")

def product_delete(request):
    if request.GET.get('id'):
        i=request.GET['id']
        with connection.cursor() as cursor:
                        cursor.execute('delete from abc where id=%s',[i])
    return redirect ("page") 
```

**abc 是表名。**

**page 将是我们在删除产品或条目后要返回的位置。**

**记得在 views.py 中导入一个库：**

```
from django.db import connection 
```

如果您不导入连接，您的光标将不起作用。

它会从您的 HTML 页面以及数据库中删除特定产品。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2018-10-07T10:49:48.997

从 Django 中的表中删除一行的简单解决方案

# 网址.py

```
url(r'^Books_Admin/$', views.Books_Admin,name="Books_Admin"),

url(r'^BookInfoDelete/(?P<Isbn>\w+)/$', views.BookInfoDelete,name="BookInfoDelete"), 
```

/* Isbn 是表的主键。*/

# 视图.py

```
from django.shortcuts import render,redirect
from .models import BookInfo

def Books_Admin(request):
        books = BookInfo.objects.all()
        return render(request,"Books_Admin.html",{'books':books})

def BookInfoDelete(request,Isbn):
    if request.method == 'POST':
        BookInfo.objects.filter(Isbn=Isbn).delete()
        return redirect(' After deletion which page you want to see, put that url here in sigle qoutes ') 
```

// 这里 BookInfo 是表名。// 这里 Books_Admin 定义用于查看表 BookInfo

# 模型.py

```
from django.db import models

class BookInfo(models.Model):
    Isbn = models.CharField(max_length=20, primary_key = True)
    Book_Name = models.CharField(max_length=200)
    Author = models.CharField(max_length=100)
    Publisher = models.CharField(max_length=150)
    Availability = models.CharField(max_length=15) 
```

// 创建表 BookInfo

# html

```
<table class="table table-hover tab">
            <thead>
              <tr>
                <th>ISBN</th>
                <th>Book Name</th>
                <th>Author</th>
                <th>Publisher</th>
              </tr>
            </thead>
            {% for Books in books %}
              <tr>
                <td>{{ Books.Isbn }}</td>
                <td>{{ Books.Book_Name }}</td>
                <td>{{ Books.Author }}</td>
                <td>{{ Books.Publisher }}</td>
                <td>
                  <form action="/BookInfoDelete/{{ Books.Isbn }}/" method="post">
                    {% csrf_token %}
                    <button type="submit" class="btn btn-danger"><span class="glyphicon glyphicon-trash"></span></button>
                </form>
                </td>
              </tr>
            {% endfor %}
          </table>
```

# tinymce - 在 TinyMCE 编辑器中格式化

> ID：15150988
> 
> 赞同：4
> 
> 时间：2013-03-01T05:13:34.963
> 
> 标签：tinymce, editor, text-editor

在**TinyMce Editor**中，我们面临`break` `(<br/>)`标签问题。如果我们按下`Enter`有时它会生成一个*单中断标签*，有时它会生成*双中断标签。*

如果有人知道相关的解决方案，那么解决这个问题将非常有帮助。

根据我对这个中断标签的理解，生成取决于`editors,text,words, strings and space between words`.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T17:52:15.813

有几种[解决方案](http://btools.eu/blog/read/tinymce-extra-br-and-p-instead-of-new-lines-bug)，首先尝试设置为 convert_newlines_to_brs: false **不带引号的**false。

如果这没有帮助，您可以使用此清理功能

```
function CustomCleanup(type, content) {
  switch (type) {
   // gets passed when user submits the form
   case "get_from_editor":
    content = content.replace(/<br \/>/gi, "\n"); // would be nice if this replace only replaces the brs in a pre block. bur for the moment it is ok.
    break;
   // gets passed when new content is inserted into the editor
   case "insert_to_editor":
    break;
  }
return content;
}

tinyMCE.init({
    ...
    cleanup_callback : "myCustomCleanup"
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-19T11:20:03.070

查看下面的链接，这将对您有所帮助，

1.  [TinyMCE 小提琴](http://fiddle.tinymce.com/naaaab)
2.  [全功能示例](http://www.tinymce.com/tryit/full.php)
3.  [HTML5 格式](http://www.tinymce.com/tryit/html5_formats.php)

# c# - 面板内的子控件不会在表单调整大小时调整大小

> ID：15150994
> 
> 赞同：0
> 
> 时间：2013-03-01T05:14:21.627
> 
> 标签：c#, winforms

我想在 MDI 表单顶部显示横幅图像以及一些菜单。菜单应显示在右侧底部位置的横幅图像上。为此，我遵循以下步骤：

1.  添加 MDI 表格
2.  面板 ( `pnlHeader`) - 背景颜色为黑色以匹配图像背景
3.  `Picturebox`显示横幅图像并将其添加到`pnlHeader`
4.  在 Picturebox 中添加 menustrip ( `dock = none`) 以在横幅图像上显示菜单（在徽标旁边）

当我调整表单大小时，即使面板停靠到顶部，图片框图像和菜单条也不会调整大小。对此有什么建议吗？由于安全原因，我无法为您提供代码。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T07:05:45.550

Basically add a new panel to your current layout. you will end up with this:

![layout](../Images/2a237045b764a87c97e304c945017e3e.png)

Thing here is doing the correct anchoring, so this settings should work:

-`Picturebox`: `Anchor:Top, Left, Right`. Just adjust size to your needs.

-`pnlHeader`: `Anchor Top, Left, Right`. Just adjust size to your needs.

-`pnlMenuContainer` (Orange): `Anchor Top, Left, Right.` It should be of same Height of contained MenuBar, because it is just for placing the menubar.

-`MenuStrip`(MenuBar in img): `Dock Top` (or Bottom).

With this layout PictureBox and MenuStrip increase their size as you make your form wider. Actually for the MenuStrip, the panel that contains it is the one that increase it size but as your menuStrip is docked it gets bigger too. Same for the inverse (Making it smaller).

I must apologize in advance for any kind of grammar or spelling error.

Best of luck,

# javascript - 从 div 获取 TextBox 值。道场

> ID：15150996
> 
> 赞同：0
> 
> 时间：2013-03-01T05:15:20.297
> 
> 标签：javascript, dojo

我在 div 中创建一个 dojo TextBox，然后将 div 存储在一个数组中。现在我想从数组中获取 TextBox 的值。

```
var div = domConstruct.create("div",null,"someContainer","last");<br />
var textBox = new TextBox({
        name : "SomeName"
}, div);
this.inputs["Property1"]["Property2"] = div; 
```

给定 property1 和 2，我想使用输入数组来获取 TextBox 的值。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T07:51:56.350

要获得上述代码的价值，您可以尝试以下操作：

```
this.inputs["Property1"]["Property2"].value; 
```

或者

```
this.inputs["Property1"]["Property2"].get("value"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T09:40:35.170

我解决了这个问题，
通过将文本框存储在数组而不是 div 中。
this.inputs["Property1"]["Property2"].value 然后将给出值。

仍然不确定如何使用 div。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-01T07:37:28.520

如果你给你的 TextBox 一个 id，你可以简单地通过一个 ID 访问它 [http://dojotoolkit.org/reference-guide/1.7/dojo/byId.html](http://dojotoolkit.org/reference-guide/1.7/dojo/byId.html)

```
var textBox = new TextBox({
        name : "SomeName",
        id: "uniqueId",
}, div); 
```