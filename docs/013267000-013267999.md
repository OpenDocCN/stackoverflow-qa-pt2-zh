# StackOverflow 问答 13267000-13267999

# ios - iOS 6中垂直滚动时UIWebView中的背景闪烁

> ID：13267001
> 
> 赞同：2
> 
> 时间：2012-11-07T09:41:17.640
> 
> 标签：ios, uiwebview, ios6

我使用 UIWebView`-webkit-column-*`并使用垂直滚动（`window.scrollTo(X, 0);`methood）来更改页面。

在 iOS 4.3 和 5 中一切都很好。但是在 iOS 6 中，滚动时，我在屏幕的那部分看到闪烁背景以进行滚动闪烁的颜色等于`self.view`（webview 是透明的）。

我看到这个问题：[ios 6 uiwebview 在使用 jquery scrolltop 滚动页面时显示背景](https://stackoverflow.com/questions/12578618/ios-6-uiwebview-shows-background-while-scrolling-a-page-using-jquery-scrolltop) 但这并不能解决我的问题。

如何摆脱这种眨眼？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T08:30:11.990

我有完全相同的问题。修复它添加三个属性：

```
-webkit-transform: translateZ(0);
-webkit-perspective: 1000;
-webkit-backface-visibility: hidden; 
```

[从这里](http://indiegamr.com/ios6-html-hardware-acceleration-changes-and-how-to-fix-them/)获取此解决方案

# facebook - 复制 facebook-ios-sdk 并配置 Xcode 项目

> ID：13267007
> 
> 赞同：3
> 
> 时间：2012-11-07T09:41:41.973
> 
> 标签：facebook, facebook-graph-api, github, xcode4.5, facebook-ios-sdk

我已经阅读了这个文档：[iOS v3.1 的 Facebook SDK 入门](https://developers.facebook.com/docs/getting-started/facebook-sdk-for-ios/3.1/)

我已经按照它成功配置了我的 Xcode 项目。但我想在不添加 Facebook.framework 的情况下做到这一点。与之前一样，我们过去只添加我们用来克隆的“src”文件夹：[Facebook SDK for iOS - Github](https://github.com/facebook/facebook-ios-sdk)。为什么我不能只复制“src”文件夹并配置我的项目。我想玩 FBFriendPickerViewController.m (dot m) 文件。如果我遵循标准教程，我将无法查看。但在“src”文件夹中可用。请问我该怎么做？而且似乎 FbGraph.h 文件也不存在。请帮忙。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-07T19:10:09.447

如果您想使用源代码，请转到：

[https://github.com/facebook/facebook-ios-sdk/](https://github.com/facebook/facebook-ios-sdk/)

获取代码后，运行此脚本在本地构建框架：

```
<Install Location>/scripts/build_framework.sh 
```

这会将框架放在文件夹中：

```
<Install Location>/build 
```

按照入门中的相同说明来包含 Facebook SDK，但是，您将从本地构建文件夹中获取框架。

注意：如果您要换出，您可能必须修改 Xcode 中的构建搜索路径，例如其中一个示例项目（在特定位置寻找框架）。

# php - 从 PHP 中的 Google 自定义搜索 API 获取数据

> ID：13267009
> 
> 赞同：1
> 
> 时间：2012-11-07T09:41:56.057
> 
> 标签：php, codeigniter, google-custom-search

这是我从谷歌自定义搜索 api 得到的响应

我想直接在我的数据库中插入网站的标题、网址和其他信息。

我使用 json_decode 但似乎无法得到响应

请帮帮我

```
 {
"kind": "customsearch#search",
"url": {
    "type": "application/json",
    "template": "https://www.googleapis.com/customsearch/v1?q={searchTerms}&num={count?}&start={startIndex?}&lr={language?}&safe={safe?}&cx={cx?}&cref={cref?}&sort={sort?}&filter={filter?}&gl={gl?}&cr={cr?}&googlehost={googleHost?}&c2coff={disableCnTwTranslation?}&hq={hq?}&hl={hl?}&siteSearch={siteSearch?}&siteSearchFilter={siteSearchFilter?}&exactTerms={exactTerms?}&excludeTerms={excludeTerms?}&linkSite={linkSite?}&orTerms={orTerms?}&relatedSite={relatedSite?}&dateRestrict={dateRestrict?}&lowRange={lowRange?}&highRange={highRange?}&searchType={searchType}&fileType={fileType?}&rights={rights?}&imgSize={imgSize?}&imgType={imgType?}&imgColorType={imgColorType?}&imgDominantColor={imgDominantColor?}&alt=json"
},
"queries": {
    "nextPage": [
        {
            "title": "Google Custom Search - online shopping mall",
            "totalResults": "35200000",
            "searchTerms": "online shopping mall",
            "count": 10,
            "startIndex": 11,
            "inputEncoding": "utf8",
            "outputEncoding": "utf8",
            "safe": "off",
            "cx": "013036536707430787589:_pqjad5hr1a"
        }
    ],
    "request": [
        {
            "title": "Google Custom Search - online shopping mall",
            "totalResults": "35200000",
            "searchTerms": "online shopping mall",
            "count": 10,
            "startIndex": 1,
            "inputEncoding": "utf8",
            "outputEncoding": "utf8",
            "safe": "off",
            "cx": "013036536707430787589:_pqjad5hr1a"
        }
    ]
},
"context": {
    "title": "Custom Search"
},
"searchInformation": {
    "searchTime": 0.324098,
    "formattedSearchTime": "0.32",
    "totalResults": "35200000",
    "formattedTotalResults": "35,200,000"
},
"items": [
    {
        "kind": "customsearch#result",
        "title": "Online Shopping Mall-Shopping & Business Social Network",
        "htmlTitle": "<b>Online Shopping Mall</b>-Shopping &amp; Business Social Network",
        "link": "http://onlineshoppingmall.ning.com/",
        "displayLink": "onlineshoppingmall.ning.com",
        "snippet": "A One-Stop shopping & business social network created by a family of merchants   offering value, unique treasures, and convenience!",
        "htmlSnippet": "A One-Stop <b>shopping</b> &amp; business social network created by a family of merchants <br>  offering value, unique treasures, and convenience!",
        "cacheId": "5uXNYD4cCQ0J",
        "formattedUrl": "onlineshoppingmall.ning.com/",
        "htmlFormattedUrl": "<b>onlineshoppingmall</b>.ning.com/",
        "pagemap": {
            "cse_image": [
                {
                    "src": "http://i43.tinypic.com/15wm45e.jpg"
                }
            ],
            "cse_thumbnail": [
                {
                    "width": "100",
                    "height": "100",
                    "src": "https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcQy2PZIPYcAjBAPOYgKgqnWfb9kJLCW4Xx7_QZcdRmfP_MeGPH9HZNnlA"
                }
            ],
            "metatags": [
                {
                    "title": "Online Shopping Mall-Shopping & Business Social Network"
                }
            ]
        }
    },
    {
        "kind": "customsearch#result",
        "title": "Online shopping malls - Wikipedia, the free encyclopedia",
        "htmlTitle": "<b>Online shopping malls</b> - Wikipedia, the free encyclopedia",
        "link": "http://en.wikipedia.org/wiki/Online_shopping_malls",
        "displayLink": "en.wikipedia.org",
        "snippet": "Online shopping malls are websites that have a directory of online shopping   stores. Stores may include Best Buy, Aeropostale, Home Depot, Sears, Expedia, ...",
        "htmlSnippet": "<b>Online shopping malls</b> are websites that have a directory of online shopping <br>  stores. Stores may include Best Buy, Aeropostale, Home Depot, Sears, Expedia, <b>...</b>",
        "cacheId": "dA73fRSS6KMJ",
        "formattedUrl": "en.wikipedia.org/wiki/Online_shopping_malls",
        "htmlFormattedUrl": "en.wikipedia.org/wiki/<b>Online</b>_<b>shopping</b>_<b>malls</b>"
    },
    {
        "kind": "customsearch#result",
        "title": "Shop for Home, Outdoor, Electronics and Apparel Products at ...",
        "htmlTitle": "<b>Shop</b> for Home, Outdoor, Electronics and Apparel Products at <b>...</b>",
        "link": "http://www.skymall.com/",
        "displayLink": "www.skymall.com",
        "snippet": "SkyMall shopping magazine is your home for the best online catalog shopping!   Browse from home living, décor, audio, ipod, electronics and apparel. Purchase ...",
        "htmlSnippet": "SkyMall <b>shopping</b> magazine is your home for the best <b>online</b> catalog <b>shopping</b>! <br>  Browse from home living, décor, audio, ipod, electronics and apparel. Purchase <b>...</b>",
        "cacheId": "GWXI7WmQ2UUJ",
        "formattedUrl": "www.skymall.com/",
        "htmlFormattedUrl": "www.sky<b>mall</b>.com/",
        "pagemap": {
            "cse_image": [
                {
                    "src": "http://www.skymall.com/images/feature_a1a.jpg"
                }
            ],
            "cse_thumbnail": [
                {
                    "width": "239",
                    "height": "210",
                    "src": "https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcTljZ4YcdN7ZRJlVMeTlYF8sbuwLm0VRhg0oZnLDX1elV3j-dmO22t68do"
                }
            ],
            "metatags": [
                {
                    "copyright": "Copyright © 2012 SkyMall, Inc. All right reserved.",
                    "designer": "www.objectinnovation.com",
                    "classification": "online shopping, shopping, gifts, catalog sales"
                }
            ]
        }
    },
    {
        "kind": "customsearch#result",
        "title": "Sassy Shops, Your Premiere Online Mall for All Things Fabulous!",
        "htmlTitle": "Sassy <b>Shops</b>, Your Premiere <b>Online Mall</b> for All Things Fabulous!",
        "link": "http://www.sassyshops.com/",
        "displayLink": "www.sassyshops.com",
        "snippet": "Sassy Shops, Your Premiere Online Mall for All Things Fabulous! Throw on some   comfy pj's, grab a cup of hot cocoa or java and enjoy shopping from the ...",
        "htmlSnippet": "Sassy <b>Shops</b>, Your Premiere <b>Online Mall</b> for All Things Fabulous! Throw on some <br>  comfy pj&#39;s, grab a cup of hot cocoa or java and enjoy <b>shopping</b> from the <b>...</b>",
        "cacheId": "jaAQALpU96oJ",
        "formattedUrl": "www.sassyshops.com/",
        "htmlFormattedUrl": "www.sassy<b>shops</b>.com/",
        "pagemap": {
            "cse_image": [
                {
                    "src": "http://sassyshops.com/images/pinkbug/headerlogo.gif"
                }
            ],
            "cse_thumbnail": [
                {
                    "width": "268",
                    "height": "188",
                    "src": "https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcQ4-X6hJVkuF_fFclW9e8IXDKtqXJ-JTF64QwI4xfTawHkMsnsOAuGCXsQv"
                }
            ]
        }
    },
    {
        "kind": "customsearch#result",
        "title": "Home Page - Shop Online at MileagePlus Shopping",
        "htmlTitle": "Home Page - <b>Shop Online</b> at MileagePlus <b>Shopping</b>",
        "link": "https://www.mileageplusshopping.com/",
        "displayLink": "www.mileageplusshopping.com",
        "snippet": "Home Page - Shop Online at MileagePlus Shopping.",
        "htmlSnippet": "Home Page - <b>Shop Online</b> at MileagePlus <b>Shopping</b>.",
        "formattedUrl": "https://www.mileageplusshopping.com/",
        "htmlFormattedUrl": "https://www.mileageplus<b>shopping</b>.com/",
        "pagemap": {
            "cse_image": [
                {
                    "src": "https://a248.e.akamai.net/f/248/35975/5d/i.mallnetworks.com/images/global/40cf5e879cc6088d7d2086a512fd79b19b0aaa2a.jpg"
                }
            ],
            "cse_thumbnail": [
                {
                    "width": "96",
                    "height": "72",
                    "src": "https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcSDE8da0POrgf12M_3zBGdueaQfT0AHYBbz7Dkxnm7QQbHUegSwMEPleg"
                }
            ]
        }
    },
    {
        "kind": "customsearch#result",
        "title": "We-Care.com Online Shopping Mall :: Shop With Purpose :: Macy's ...",
        "htmlTitle": "We-Care.com <b>Online Shopping Mall</b> :: Shop With Purpose :: Macy&#39;s <b>...</b>",
        "link": "http://www.we-care.com/",
        "displayLink": "www.we-care.com",
        "snippet": "The online shopping mall that provides coupons for your favorite merchants and   donates a percentage of what you spend to your favorite nonprofit, school, ...",
        "htmlSnippet": "The <b>online shopping mall</b> that provides coupons for your favorite merchants and <br>  donates a percentage of what you spend to your favorite nonprofit, school, <b>...</b>",
        "cacheId": "RgiiDvqLcscJ",
        "formattedUrl": "www.we-care.com/",
        "htmlFormattedUrl": "www.we-care.com/",
        "pagemap": {
            "cse_image": [
                {
                    "src": "http://cdn.we-care.com/Content/images/addCause.gif"
                }
            ],
            "cse_thumbnail": [
                {
                    "width": "249",
                    "height": "100",
                    "src": "https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcQoOFWkNEJQDtz21dtLqwegJiXYruxvZ8UFLaFWH27knH2sIYqfvmPZOg"
                }
            ]
        }
    },
    {
        "kind": "customsearch#result",
        "title": "Online Shopping vs. Driving to the Mall: The Greener Way to Buy ...",
        "htmlTitle": "<b>Online Shopping</b> vs. Driving to the <b>Mall</b>: The Greener Way to Buy <b>...</b>",
        "link": "http://www.treehugger.com/culture/online-shopping-vs-driving-to-the-mall-the-greener-way-to-buy.html",
        "displayLink": "www.treehugger.com",
        "snippet": "Feb 13, 2009 ... When it comes to the way we procure the goods we use in our lives, there are   some mixed messages out there. Buying local is advertised as a ...",
        "htmlSnippet": "Feb 13, 2009 <b>...</b> When it comes to the way we procure the goods we use in our lives, there are <br>  some mixed messages out there. Buying local is advertised as a <b>...</b>",
        "cacheId": "9gBcwLGsuq8J",
        "formattedUrl": "www.treehugger.com/.../online-shopping-vs-driving-to-the-mall-the-greener- way-to-buy.html",
        "htmlFormattedUrl": "www.treehugger.com/.../<b>online</b>-<b>shopping</b>-vs-driving-to-the-<b>mall</b>-the-greener- way-to-buy.html",
        "pagemap": {
            "cse_image": [
                {
                    "src": "http://media.treehugger.com/assets/images/2011/10/shopping-mall-online-shopping-which-greener.jpg.400x300_q90_crop-smart.jpg"
                }
            ],
            "cse_thumbnail": [
                {
                    "width": "259",
                    "height": "194",
                    "src": "https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcRQ2PXb8tGbfICgwAmSS9m1XtEq117PujeITme8mBELX6zW3JfzgGVHEYw"
                }
            ],
            "metatags": [
                {
                    "og:title": "Online Shopping vs. Driving to the Mall: The Greener Way to Buy",
                    "og:type": "article",
                    "og:url": "http://www.treehugger.com/culture/online-shopping-vs-driving-to-the-mall-the-greener-way-to-buy.html",
                    "og:image": "http://media.treehugger.com/assets/images/2011/10/shopping-mall-online-shopping-which-greener.jpg.400x300_q90_crop-smart.jpg",
                    "og:site_name": "TreeHugger",
                    "og:description": "When it comes to the way we procure the goods we use in our lives, there are some mixed messages out there. Buying local is advertised as a green way to go -- and it can be -- but so is acquiring",
                    "fb:app_id": "133255656700169"
                }
            ]
        }
    },
    {
        "kind": "customsearch#result",
        "title": "Shabby Lane Shops - Great online Shopping Mall & Unique Web ...",
        "htmlTitle": "Shabby Lane Shops - Great <b>online Shopping Mall</b> &amp; Unique Web <b>...</b>",
        "link": "http://shabbylaneshops.com/",
        "displayLink": "shabbylaneshops.com",
        "snippet": "Shabby Lane Shops Great online shopping mall and Web design. Let us   advertise for you. Come shop with us, come join us.",
        "htmlSnippet": "Shabby Lane Shops Great <b>online shopping mall</b> and Web design. Let us <br>  advertise for you. Come shop with us, come join us.",
        "cacheId": "FhVJ8g2L5i8J",
        "formattedUrl": "shabbylaneshops.com/",
        "htmlFormattedUrl": "shabbylane<b>shops</b>.com/"
    },
    {
        "kind": "customsearch#result",
        "title": "Online Shopping Malls, Discount Stores, Outlet Malls, Shopping ...",
        "htmlTitle": "<b>Online Shopping Malls</b>, Discount Stores, Outlet Malls, Shopping <b>...</b>",
        "link": "http://www.milehimall.com/",
        "displayLink": "www.milehimall.com",
        "snippet": "Shop at online shopping malls, discount stores and gift shops at Mile Hi Mall.   Browse home and garden, beauty, electronics, sporting goods, jewelry and ...",
        "htmlSnippet": "Shop at <b>online shopping malls</b>, discount stores and gift shops at Mile Hi Mall. <br>  Browse home and garden, beauty, electronics, sporting goods, jewelry and <b>...</b>",
        "cacheId": "PaF59OCuEJ4J",
        "formattedUrl": "www.milehimall.com/",
        "htmlFormattedUrl": "www.milehi<b>mall</b>.com/",
        "pagemap": {
            "cse_image": [
                {
                    "src": "http://www.shareasale.com/image/27020/child-costumes125x125.jpg"
                }
            ],
            "cse_thumbnail": [
                {
                    "width": "100",
                    "height": "100",
                    "src": "https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcSmvuJxRjL6C_aprr--I7detJud6l_jKXdgwrQP43bZkm449F-vp2T-"
                }
            ]
        }
    },
    {
        "kind": "customsearch#result",
        "title": "Online Shopping Mall - Online Stores | Shopping Centers | Outlet Malls",
        "htmlTitle": "<b>Online Shopping Mall</b> - Online Stores | Shopping Centers | Outlet Malls",
        "link": "http://www.online-internet-shopping-mall.com/",
        "displayLink": "www.online-internet-shopping-mall.com",
        "snippet": "Many Online Stores on this shopping mall website, online shopping malls,   shopping centers, outlet malls are just a click away at online shopping mall.",
        "htmlSnippet": "Many Online Stores on this shopping mall website, <b>online shopping malls</b>, <br>  shopping centers, outlet malls are just a click away at <b>online shopping mall</b>.",
        "cacheId": "5CzLC80fRAkJ",
        "formattedUrl": "www.online-internet-shopping-mall.com/",
        "htmlFormattedUrl": "www.<b>online</b>-internet-<b>shopping</b>-<b>mall</b>.com/",
        "pagemap": {
            "cse_image": [
                {
                    "src": "http://www.online-internet-shopping-mall.com/images/online-internet-shopping-mall1.png"
                }
            ],
            "cse_thumbnail": [
                {
                    "width": "225",
                    "height": "225",
                    "src": "https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcQGTMNDeUWOwQ5ODDgGfav35KPGyn0ijbSXrhgSdgkNb097NT4HCJOz-2Yo"
                }
            ]
        }
    }
] 
```

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T18:02:59.890

如果你得到结果（看起来像你）， json_decode 应该可以正常工作

```
$json_array = json_decode($json,true);

foreach($json_array['items'] as $result)
{
    echo "title = ".$result['title']."<br>";
    echo "link = ".$result['link']."<br>";
    echo "<hr>";

} 
```

# javascript - 将 VFR 阅读器集成到 PhoneGap 项目中

> ID：13267013
> 
> 赞同：0
> 
> 时间：2012-11-07T09:42:12.170
> 
> 标签：javascript, ios, objective-c, cordova, phonegap-plugins

我正在尝试使用 PhoneGap 将 PDF Reader 集成到我的应用程序构建中，[VFR Reader](https://github.com/vfr/Reader)是本机的，用 obj-c 编写的，有人试过玩这个吗？我的 pdf 将从服务器加载，那么我如何将 pdf 作为 JS 的参数传递给 VFR？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T10:00:55.560

是的，作为 PhoneGap 插件！

[这是讨论线程和解决方案源代码](https://groups.google.com/forum/#!msg/phonegap/-JTVuXmP_ro/8qkD19tT4k8J)...

希望这可以帮助...

# javascript - node.js 的可折叠/可扩展浏览器样式控制台？

> ID：13267014
> 
> 赞同：4
> 
> 时间：2012-11-07T09:42:17.490
> 
> 标签：javascript, node.js, console

当我在浏览器控制台中记录一个对象时，我可以展开/折叠具有“大”（显示）值的键，例如，其值为另一个对象的键。

我希望能够为节点做同样的事情。例如，说我：

```
console.log(request) 
```

...在一个快速应用程序中。Express 'request' 项目很大，很容易从屏幕上滚动。能够展开/折叠更大的项目将非常有用。

node.js 有折叠/扩展控制台吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-08T11:38:36.807

我使用过交互式控制台应用程序（`top`等），对我来说，REPL 属于该类别。;)

这是一个大大改进的 REPL：[https ://github.com/Benvie/Node.js-Ultra-REPL](https://github.com/Benvie/Node.js-Ultra-REPL)

我认为它不允许您折叠对象的某些部分，但这是在进行中：

```
GUI-like interface with collapsable object views 
```

它`Toggling hiddens and builtins`至少提供了。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T20:04:40.113

[节点检查器](https://github.com/dannycoates/node-inspector)可能对您有用；它并不完全是您想要的，但它能够提供您正在寻找的信息。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-07-14T00:13:40.993

也许您可以在浏览器端控制台中记录对象，您可以在其中轻松检查属性。[bonsole](https://github.com/Bert0324/bonsole)，一种在浏览器中记录内容的简单方法。即使在Linux下，也可以去局域网的ip查看。

# c# - 如何在 C# 中捕获来自等待的异步方法的异常？

> ID：13267029
> 
> 赞同：5
> 
> 时间：2012-11-07T09:43:01.773
> 
> 标签：c#, .net, asynchronous, exception-handling, async-await

我基本上想知道在 C# 中我应该如何从通过`await`关键字等待的异步方法中捕获异常。例如，考虑以下小型控制台程序，其中最重要的是包含一个名为`AwaitSync`. `AwaitSync`calls `TestAsync`，它返回一个 Task ，执行时会引发异常。我试图在 中捕获异常`AwaitAsync`，*但它没有得到处理*。

```
class Program
{
    static void Main(string[] args)
    {
        AwaitAsync();
        Console.ReadKey();
    }

    static async Task AwaitAsync()
    {
        try
        {
            await TestAsync();
        }
        catch (Exception)
        {
            Console.WriteLine("Exception caught");
        }
    }

    static Task TestAsync()
    {
        return Task.Factory.StartNew(() => { throw new Exception("Test"); });
    }
} 
```

我应该如何从返回的任务中捕获异常`TestAsync`？虽然这个例子是一个控制台程序，但我的实际问题是在 ASP.NET MVC / Web API 的上下文中。

**编辑：** 结果异常被捕获，出于技术原因，我只是在终端关闭之前没有注意到“异常捕获”消息。无论如何，Jon Skeet 的回答对我理解`await`和异常处理非常有价值。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-11-07T09:51:48.003

`await`为表达式生成的代码将调用与返回`GetResult()`的`TaskAwaiter`相关联的.`Task``TestAsync`

`GetResult`会注意到任务出错，从任务中获取第*一个*异常`AggregateException`，然后抛出它。

最终结果是您的 catch 块将捕获您的任务中引发的异常 - 但如果您等待具有*多个*异常的任务，除非您采取特殊操作，否则您只会看到第一个异常（有多种方法）。

当您声称该异常实际上没有得到处理时，您的代码中似乎除了您所显示的内容之外还有其他内容 - 因为您提供的代码当然应该有效，并且对我有用。

# android - onCreateOptionsMenu 永远不会被调用

> ID：13267030
> 
> 赞同：70
> 
> 时间：2012-11-07T09:43:03.440
> 
> 标签：android, oncreateoptionsmenu

我在获取在 Android 中工作的选项菜单时遇到了一些麻烦。我之前构建了应用程序，它们都运行良好，但现在菜单不弹出。

编码：

```
@Override
public boolean onCreateOptionsMenu(Menu menu) {
    super.onCreateOptionsMenu(menu);

    getMenuInflater().inflate(R.menu.activity_video, menu);
    return true;
} 
```

甚至从不调用整个方法（通过设置断点进行检查）。这个活动非常简单，它只有一个`VideoView`，里面有一个`OnTouchListener`集合。

我在三星 Galaxy 10.1、API 级别 15、minSDK 15 上使用 Android 4.0.4。我错过了什么吗？

* * *

## 回答 #1

> 赞同：76
> 
> 时间：2015-07-27T05:19:54.030

在最新版本的 Android 中，当使用工具栏的兼容库时，这种情况很常见，为了让菜单项显示在工具栏中，您必须执行以下操作：

```
mToolbar = (Toolbar) findViewById(R.id.toolbar);
setSupportActionBar(mToolbar);
getSupportActionBar().setDisplayShowTitleEnabled(false); 
```

* * *

## 回答 #2

> 赞同：59
> 
> 时间：2013-10-18T03:23:58.850

从第一个调用`setHasOptionsMenu`函数`onCreate`。将`onCreateOptionsMenu`被自动调用。

试试这个：

```
setHasOptionsMenu(true) 
```

* * *

## 回答 #3

> 赞同：35
> 
> 时间：2012-11-07T10:05:43.710

如果您测试的手机有一个菜单按钮 onCreateOptionsMenu 将不会以主题开头被调用：

`android:theme="@android:style/Theme.Black.NoTitleBar"`

但是当您单击菜单按钮时，`onCreateOptionsMenu`将被调用。我不知道没有硬件按钮的手机会发生什么...

* * *

## 回答 #4

> 赞同：29
> 
> 时间：2015-08-30T07:58:19.413

在方法中：`Fragment#onCreateView(...)`你应该放：

```
setHasOptionsMenu(true); 
```

然后将调用您的方法。

* * *

## 回答 #5

> 赞同：16
> 
> 时间：2019-03-21T11:27:00.310

那是因为活动**没有**工具栏。

为了做到这一点，有 2 个步骤。

**首先**，您需要在 res/layout 中的 activity.xml 中添加工具栏

```
<?xml version="1.0" encoding="utf-8"?>
<android.support.constraint.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"">

    <!-- add this part-->
    <android.support.v7.widget.Toolbar
        android:id="@+id/toolbar"
        android:layout_width="0dp"
        android:layout_height="wrap_content"
        android:background="?attr/colorPrimary"
        android:minHeight="?attr/actionBarSize"
        android:theme="?attr/actionBarTheme"
        app:layout_constraintEnd_toEndOf="parent"
        app:layout_constraintStart_toStartOf="parent"
        app:layout_constraintTop_toTopOf="parent" />

</android.support.constraint.ConstraintLayout> 
```

**其次**，让你的活动附加它

在 JAVA 中

```
Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);
setSupportActionBar(toolbar); 
```

或在科特林

```
val toolbar = findViewById<Toolbar>(R.id.toolbar)
setSupportActionBar(toolbar) 
```

* * *

## 回答 #6

> 赞同：4
> 
> 时间：2013-12-04T21:53:48.853

我遇到了同样的问题（菜单没有出现，`onCreateOptionsMenu`没有被调用）。

如果您在片段中调用它，则需要覆盖`public void onCreateOptionsMenu(Menu menu, MenuInflater inflater)`not `public boolean onCreateOptionsMenu(Menu menu)`。`Fragments`不要使用后者，所以他们永远不会调用它。

[活动菜单](http://developer.android.com/reference/android/app/Activity.html#onCreateOptionsMenu(android.view.Menu))

[片段菜单](http://developer.android.com/reference/android/app/Fragment.html#onCreateOptionsMenu(android.view.Menu))

* * *

## 回答 #7

> 赞同：3
> 
> 时间：2016-09-15T11:29:22.720

我遇到过同样的问题。我的问题是通过继承不同的活动类来解决的。

所以我一直在做：

公共类 WelcomeActivity 扩展了 Activity

但将其更改为：

公共类 WelcomeActivity 扩展了 AppCompatActivity

这样我的意思是说可以将操作栏添加到您的活动中。

* * *

## 回答 #8

> 赞同：2
> 
> 时间：2013-10-16T08:17:32.593

也许您还覆盖了*onKeyDown*方法并使其始终返回*true*。返回 true 意味着 keyEvent 将被阻止进一步传播。请参见下面的代码：

```
@Override
public boolean onKeyDown(int keyCode, KeyEvent event) {
        /*
          handling event
         */
        return true; //onCreateOptionsMenu won't be invoked.
} 
```

* * *

## 回答 #9

> 赞同：2
> 
> 时间：2021-02-27T23:30:25.753

发生这种情况是因为您在 styles.xml 中定义了一个主题，该主题具有以下内容：

```
<style name="AppTheme" parent="Theme.AppCompat.Light.**NoActionBar**"> 
```

您可以手动创建一个工具栏，然后您必须将其添加到您的活动中。

工具栏视图的 xml 可能类似于：

```
<?xml version="1.0" encoding="utf-8"?>
<androidx.appcompat.widget.Toolbar
xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:app="http://schemas.android.com/apk/res-auto"
android:layout_height="wrap_content"
android:layout_width="match_parent"
android:minHeight="?attr/actionBarSize"
android:background="?attr/colorPrimary"
android:elevation="4dp"
android:theme="@style/ThemeOverlay.AppCompat.Dark.ActionBar"
app:popupTheme="@style/ThemeOverlay.AppCompat.Light">
</androidx.appcompat.widget.Toolbar> 
```

然后，在活动中，您必须“显示”它：

```
Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);
setSupportActionBar(toolbar);
ActionBar actionBar = getSupportActionBar();
if (actionBar != null) {
    actionBar.setDisplayShowTitleEnabled(false);
} 
```

现在，您可以使用已知的 onCreateOptionsMenu 创建菜单

* * *

## 回答 #10

> 赞同：1
> 
> 时间：2018-08-29T22:17:02.943

我有一个类似的问题，但我与社区分享了一个不同的解决方案（因为我花了一个小时才明白发生了什么）：

```
 abstract class BaseActivity : AppCompatActivity{
      override fun onCreate(savedInstanceState: Bundle?) {
      setSupportActionBar(my_toolbar)
      }
    }
    class MyActivity : BaseActivity{
        // TODO : some good stuff
    } 
```

其中 my_toolbar 是通过 dataBinding 在我的 xml 文件中创建的对象。

问题看起来一样，没有工具栏出现，也没有调用 onCreateOptionsMenu。

我的解决方案是将此代码提升到子类而不是基本代码，因为 my_toolbar 仅在构建子类时才被初始化。

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2019-09-07T11:59:07.307

> 如果上述答案不起作用，请确保您使用的是相同的工具栏***ID***。

layout_app_bar.xml

```
<androidx.appcompat.widget.Toolbar xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:id="@+id/toolbar"
    android:layout_width="match_parent"
    android:layout_height="?attr/actionBarSize"> 
```

active_main.xml

```
<include
    android:id="@+id/app_bar"
    layout="@layout/layout_app_bar" /> 
```

在java文件中：

不要打电话：

```
Toolbar tb = findViewById(R.id.toolbar); 
```

请打电话：

```
Toolbar tb = findViewById(R.id.app_bar); 
```

* * *

## 回答 #12

> 赞同：-3
> 
> 时间：2012-11-07T09:54:32.540

试试这个它对我有用：---

```
@Override
public boolean onCreateOptionsMenu(Menu menu)
{
    super.onCreateOptionsMenu(menu);
    getMenuInflater().inflate(R.menu.home_page_menu, menu);
    return true;
}
@Override
public boolean onOptionsItemSelected(MenuItem item) {

    switch (item.getItemId()) {
    case R.id.menu_delete:
        Toast.makeText(this, "You pressed the Delete!",
                 Toast.LENGTH_LONG).show();
        break;

      case R.id.menu_setting:
     Intent intent=new Intent(HomePage.this,Setting.class);
     startActivity(intent);
     finish();
     Toast.makeText(this, "You pressed the Setting!",
     Toast.LENGTH_LONG).show(); break;

    }

    return super.onOptionsItemSelected(item);
} 
```

# django - django-registration 禁用激活

> ID：13267031
> 
> 赞同：0
> 
> 时间：2012-11-07T09:43:08.307
> 
> 标签：django, django-registration

django-registration 中是否有禁用激活的设置？最好，电子邮件仍会发送如下内容：`Thanks for your registration.`

1.  是否可以停用所需的帐户激活以及如何停用？
2.  是否仍然可以发送激活电子邮件但没有验证要求？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T09:46:28.953

是的，您可以使用[`simple`后端](https://bitbucket.org/ubernostrum/django-registration/src/27bccd108cdef30dc0a91ed1968be17bb1e60da4/registration/backends/simple/__init__.py?at=default)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-05-22T14:25:46.180

我知道这是一个老问题，但如果有人仍在寻找解决方案，这里有一个基于 django-registration 提供的特定“user_activated”信号的选项。

根据原始问题的要求，激活被静默撤销，用户不知道这一点。

```
from django.dispatch import receiver
from registration.signals import user_activated

def remove_user_activation(user):
    """
    Replace with specific app logic
    """
    return True

@receiver(user_activated)
def on_user_activated(sender, **kwargs):
    """
    Revoke activation to robot users
    """

    user = kwargs['user']

    if remove_user_activation(user):
        if user.is_active:
            user.is_active = False
            user.save() 
```

# java - 将视图保存到图像

> ID：13267033
> 
> 赞同：0
> 
> 时间：2012-11-07T09:43:09.650
> 
> 标签：java, android, view

我有这个类，我想在单击操作栏时将我的绘图保存到 jpeg 文件中。

```
public class SingleTouchActivity extends Activity {

  @Override
  public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(new SingleTouchEventView(this, null));

    // Create ActionBar
    ActionBar actionBar = getActionBar();
    actionBar.show();

  }

    @Override
    public boolean onOptionsItemSelected(MenuItem item) {
        // ActionBar is clicked
        switch (item.getItemId()) {
        case R.id.sig_reset:
            finish();
            Intent sigIntent = new Intent(this, SingleTouchActivity.class);
            startActivity(sigIntent);
            break;
        case R.id.sig_save:
            //Save to image
            break;
        }
        return true;
    } 
```

我在网上搜索，发现了这个代码片段：

```
view.setDrawingCacheEnabled(true);
Bitmap b = view.getDrawingCache();
b.compress(CompressFormat.JPEG, 95, new FileOutputStream("/some/location/image.jpg")); 
```

和这个：

```
//createBitmap(int width, int height, Bitmap.Config config)
//    Returns a mutable bitmap with the specified width and height.
Bitmap image = Bitmap.createBitmap(mapRelativeView.getWidth(), mapRelativeView.getHeight(), Bitmap.Config.RGB_565);

//draw(Canvas canvas) -- Manually render this view
//(and all of its children) to the given Canvas.
yourView.draw(new Canvas(image));

//insertImage(ContentResolver cr, Bitmap source, String title, String description)
//    Insert an image and create a thumbnail for it.
//uri is the path after the image has been saved.
String uri = Images.Media.insertImage(getContentResolver(), image, "title", null); 
```

问题是我的 SingleTouchActivity 将 SingleTouchEventView 设置为内容，我不知道如何定义我的视图。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T10:57:49.677

这是免费手绘示例，您可以在其中绘制任何内容并将图像保存在 SD 卡中。

[在此处](https://sites.google.com/site/khetiyachintan/SigntuareCapture.rar?attredirects=0&d=1)下载完整的源表格

**这是执行某些特定任务**的主要**OnCreate()**方法。

 **```
Like : 
```

*   检查路径是否存在，如果没有，则设置图像路径。
*   根据当前日期和时间设置图像名称。
*   准备屏幕视图。
*   绘制签名。
*   存储在 SD 卡中。
*   使用 Bitmap Image 返回到 Activity，以便可以在 Image View 上设置它。
*   清除可绘制签名。

    ```
     @Override
    public void onCreate(Bundle savedInstanceState)
    {
    super.onCreate(savedInstanceState);
    this.requestWindowFeature(Window.FEATURE_NO_TITLE);
    setContentView(R.layout.signature);

    // tempDir = Environment.getExternalStorageDirectory() + "/" +   getResources().getString(R.string.external_dir) + "/";
     ContextWrapper cw = new ContextWrapper(getApplicationContext());
    // File directory = cw.getDir(getResources().getString(R.string.external_dir),  Context.MODE_PRIVATE);

    File directory = new File(Environment.getExternalStorageDirectory() + "/Your_Floder_Name"); 
    ```

**检查路径是否存在，如果没有，则设置图像路径。**

```
if(!directory.exists())

directory.mkdir(); //directory is created;

//prepareDirectory(); 
```

**根据当前日期和时间设置图像名称。**

```
uniqueId = getTodaysDate() + "_" + getCurrentTime();
current = uniqueId + ".png";
mypath= new File(directory,current);

mContent = (LinearLayout) findViewById(R.id.linearLayout); 
```

**绘制签名**

```
mSignature = new signature(this, null);
mSignature.setBackgroundColor(Color.WHITE); 
```

**准备屏幕视图。**

```
mContent.addView(mSignature, LayoutParams.FILL_PARENT, LayoutParams.FILL_PARENT); 
```

**清除可绘制签名。**

```
mClear = (Button)findViewById(R.id.clear);
mGetSign = (Button)findViewById(R.id.getsign);
mGetSign.setEnabled(false);
mCancel = (Button)findViewById(R.id.cancel);
mView = mContent; 
```

**清除可绘制签名。**

```
mClear.setOnClickListener(new OnClickListener()

{
public void onClick(View v)
{
Log.v("log_tag", "Panel Cleared");
mSignature.clear();
mGetSign.setEnabled(false);
}
}); 
```

**绘制签名**

```
mGetSign.setOnClickListener(new OnClickListener()
{
public void onClick(View v)
{
Log.v("log_tag", "Panel Saved");
// boolean error = captureSignature();
// if(error){
mView.setDrawingCacheEnabled(true);
mSignature.save(mView);
//Bundle b = new Bundle();
// b.putString("status", "done");
Intent intent = new Intent(Capture.this,SigntuareCaptureActivity.class);
// intent.putExtra("imagePath",mypath);
startActivity(intent);
//intent.putExtra("status", "done");
//setResult(RESULT_OK,intent);
finish();
// }
}
}); 
```

**如果不想绘制签名，请取消。**

```
mCancel.setOnClickListener(new OnClickListener()
{
public void onClick(View v)
{
Log.v("log_tag", "Panel Canceled");
Bundle b = new Bundle();
b.putString("status", "cancel");
Intent intent = new Intent();
intent.putExtras(b);
setResult(RESULT_OK,intent);
finish();
}
});

} 
```

**使用当前日期和时间设置图像名称。**

```
private String getTodaysDate()

{

final Calendar c = Calendar.getInstance();
int todaysDate = (c.get(Calendar.YEAR) * 10000) +
((c.get(Calendar.MONTH) + 1) * 100) +
(c.get(Calendar.DAY_OF_MONTH));
Log.w("DATE:",String.valueOf(todaysDate));
return(String.valueOf(todaysDate));

}

private String getCurrentTime()
{

final Calendar c = Calendar.getInstance();
int currentTime = (c.get(Calendar.HOUR_OF_DAY) * 10000) +
(c.get(Calendar.MINUTE) * 100) +
(c.get(Calendar.SECOND));
Log.w("TIME:",String.valueOf(currentTime));
return(String.valueOf(currentTime));

} 
```

**如果不存在，请检查您的目录，然后创建新的**

```
private boolean prepareDirectory()
{
try
{
if (makedirs())
{
return true;
}
else
{
return false;
}
}
catch (Exception e)
{
e.printStackTrace();
Toast.makeText(this, "Could not initiate File System.. Is Sdcard mounted properly?", 1000).show();
return false;
}
}

private boolean makedirs()
{
File tempdir = new File(tempDir);
if (!tempdir.exists())
tempdir.mkdirs();

if (tempdir.isDirectory())
{
File[] files = tempdir.listFiles();
for (File file : files)
{
if (!file.delete())
{
System.out.println("Failed to delete " + file);
}
}
}
return (tempdir.isDirectory());
} 
```

**画你的签名**

```
public class signature extends View
{
private static final float STROKE_WIDTH = 5f;
private static final float HALF_STROKE_WIDTH = STROKE_WIDTH / 2;
private Paint paint = new Paint();
private Path path = new Path();

private float lastTouchX;
private float lastTouchY;
private final RectF dirtyRect = new RectF();

public signature(Context context, AttributeSet attrs)
{
super(context, attrs);
paint.setAntiAlias(true);
paint.setColor(Color.BLACK);
paint.setStyle(Paint.Style.STROKE);
paint.setStrokeJoin(Paint.Join.ROUND);
paint.setStrokeWidth(STROKE_WIDTH);
}

public void save(View v)
{
Log.v("log_tag", "Width: " + v.getWidth());
Log.v("log_tag", "Height: " + v.getHeight());
if(mBitmap == null)
{
mBitmap = Bitmap.createBitmap (mContent.getWidth(), mContent.getHeight(), Bitmap.Config.RGB_565);
}
Canvas canvas = new Canvas(mBitmap);
try
{

FileOutputStream mFileOutStream = new FileOutputStream(mypath);

v.draw(canvas);
mBitmap.compress(Bitmap.CompressFormat.PNG, 90, mFileOutStream);
mFileOutStream.flush();
mFileOutStream.close();
String url = Images.Media.insertImage(getContentResolver(), mBitmap, "title", null);
//Log.v("log_tag","url: " + url);

// //In case you want to delete the file
// boolean deleted = mypath.delete();
// Log.v("log_tag","deleted: " + mypath.toString() + deleted);
// //If you want to convert the image to string use base64 converter

}
catch(Exception e)
{
Log.v("log_tag", e.toString());
}
}

public void clear()
{
path.reset();
invalidate();
}

@Override
protected void onDraw(Canvas canvas)
{
canvas.drawPath(path, paint);
}

@Override
public boolean onTouchEvent(MotionEvent event)
{
float eventX = event.getX();
float eventY = event.getY();
mGetSign.setEnabled(true);

switch (event.getAction())
{
case MotionEvent.ACTION_DOWN:
path.moveTo(eventX, eventY);
lastTouchX = eventX;
lastTouchY = eventY;
return true;

case MotionEvent.ACTION_MOVE:

case MotionEvent.ACTION_UP:

resetDirtyRect(eventX, eventY);
int historySize = event.getHistorySize();
for (int i = 0; i < historySize; i++)
{
float historicalX = event.getHistoricalX(i);
float historicalY = event.getHistoricalY(i);
expandDirtyRect(historicalX, historicalY);
path.lineTo(historicalX, historicalY);
}
path.lineTo(eventX, eventY);
break;

default:
debug("Ignored touch event: " + event.toString());
return false;
}

invalidate((int) (dirtyRect.left - HALF_STROKE_WIDTH),
(int) (dirtyRect.top - HALF_STROKE_WIDTH),
(int) (dirtyRect.right + HALF_STROKE_WIDTH),
(int) (dirtyRect.bottom + HALF_STROKE_WIDTH));

lastTouchX = eventX;
lastTouchY = eventY;

return true;
}

private void debug(String string)
{
}

private void expandDirtyRect(float historicalX, float historicalY)
{
if (historicalX < dirtyRect.left)
{
dirtyRect.left = historicalX;
}
else if (historicalX > dirtyRect.right)
{
dirtyRect.right = historicalX;
}

if (historicalY < dirtyRect.top)
{
dirtyRect.top = historicalY;
}
else if (historicalY > dirtyRect.bottom)
{
dirtyRect.bottom = historicalY;
}
}

private void resetDirtyRect(float eventX, float eventY)
{
dirtyRect.left = Math.min(lastTouchX, eventX);
dirtyRect.right = Math.max(lastTouchX, eventX);
dirtyRect.top = Math.min(lastTouchY, eventY);
dirtyRect.bottom = Math.max(lastTouchY, eventY);
}
} 
```

**如何调用这个类？**

**单击主 Activity 中的按钮**，

```
your_button.setOnClickListener(new View.OnClickListener()
{
public void onClick(View view)
{
Intent intent = new Intent(SigntuareCaptureActivity.this, Capture.class);
startActivity(intent);
finish();

}
}); 
```**

# javascript - 在每个输入字段上运行 JavaScript 函数

> ID：13267038
> 
> 赞同：1
> 
> 时间：2012-11-07T09:43:17.140
> 
> 标签：javascript, jquery, html

我有一个带有多个输入字段的巨大表单。这是一个余额和损益表，因此输入文本字段必须格式化为“货币”。我找到了一些不错的 jQuery 插件来进行格式化：[accounting JS](http://josscrowcroft.github.com/accounting.js/)，但现在我必须在所有字段上手动调用它，这不是我认为的最佳方法......

如何在 keydown 的所有输入文本字段上调用 ​​accounting.formatMoney() 函数？因此，如果 FORM 或 BODY 上有 KeyDown 或 KeyUp 事件，脚本将找到所有输入字段并执行脚本。

这是我想在每个 INPUT 文本字段上调用的格式和 Javascript 函数：

```
var options = {
    symbol : "",
    thousand: " ",
    precision : 0,
    format: "%v%s"
};

var tmp = parseInt(document.getElementById('input_id').value, 10);
document.getElementById('input_id').value = accounting.formatMoney(tmp, options); 
```

表单通过 AJAX 发送回 BODY，所以我认为最好的方法是这样调用函数：

```
 $(document).ready(function(){
        $('body').on('keyup', 'input', function(e){
                    // collect all input fields and execute the function
        });
    }); 
```

非常感谢你的帮助！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T09:45:04.520

你可能会做

```
$(document).ready(function(){
    $('body').on('keyup', 'input', function(){
            $(this).val(accounting.formatMoney($(this).val(), options));
    });
}); 
```

但这假设您的用户希望在输入时修改输入。

如果您想在用户离开字段或键入“输入”时修改输入，请执行以下操作：

```
$(document).ready(function(){
    $('body').on('blur change', 'input', function(){
            $(this).val(accounting.formatMoney($(this).val(), options));
    });
}); 
```

请注意，在现实世界的应用程序中，我将在我的输入上有一个类，以使选择器更具选择性（`'input.money'`而不是`'input'`）。

**编辑 ：**

如果要将其应用于表中的输入`id`，`bstable`请执行

```
$(document).ready(function(){
    $('#bstable').on('blur change', 'input', function(){
            $(this).val(accounting.formatMoney($(this).val(), options));
    });
}); 
```

如果`bstable`表格是通过 ajax 获得的并且不是立即出现在此处，您可以这样做

```
$(document).ready(function(){
    $(document.body).on('blur change', '#bstable input', function(){
            $(this).val(accounting.formatMoney($(this).val(), options));
    });
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T09:49:01.140

```
$('body').on('keyup', 'input', function(){
       $("body").find("input").each(function(index, element){
            $(element).val(accounting.formatMoney($(element).val(), options));
       });
}); 
```

# iphone - 是否可以使用 Xcode 中的 3.5 英寸外形在 iPhone 5 上测试您的应用程序？

> ID：13267039
> 
> 赞同：1
> 
> 时间：2012-11-07T09:43:17.120
> 
> 标签：iphone, objective-c, xcode, cocoa-touch, iphone-5

当我为 iPhone 3.5 英寸和 iPhone 4 英寸构建应用程序时，是否可以使用 iPhone 5 测试两种外形尺寸，而不必在手机之间不断切换？

我知道 iPhone 5 会自动在任何与 iPhone 5 不兼容的应用程序上下放置黑条，但能够以这种方式测试应用程序会很棒。

我怀疑目前是否可行，因为我自己在 Xcode 中没有找到任何选项，但如果 Apple 添加该功能会很棒。提前感谢您的任何回复。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-07T09:46:32.567

如果您`Default-568h@2x.png`从项目中删除（只需删除它的目标成员资格）并清理您的应用程序以 3.5 英寸模式呈现的项目。

没有办法在 3.5 英寸模式下设置运行参数太强制它。您也可以将两部 iPhone 连接到您的开发机器，当您想要调试应用程序时，选择您想要测试的设备。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T09:46:51.323

我认为不提供 Default-586h@2x.png 启动图像就足够了。只要有 Default.png 和 Default@2x.png，那么该应用程序应该在 4" 模拟器上进行信箱处理。

# objective-c - 如何在 xcode 中将 NSMutableArray 对象转换为 const char

> ID：13267044
> 
> 赞同：0
> 
> 时间：2012-11-07T09:43:40.917
> 
> 标签：objective-c, c, xcode4, nsmutablearray

为了在 xcode 中开发计算器，我使用 ac 类将中缀转换为后缀表达式及其求值。但是我的视图控制器类中有一个 NSString，我需要将此 NSString 传递给发生转换和评估的 C 类。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-11T14:49:08.140

这很容易，因为您可以使用 NSString 的 UTF8String 方法，但是您必须处理内存分配：分配一个块以包含字符串。选择是否将其包装到 NSData 以便在离开池块时自动释放，或者如果手动释放它：

```
@autoreleasepool
    {
        NSArray* strings= @[ @"Hello", @"Hey" ]; // Your strings
        // This could be also a NSMutableArray if you need it
        NSMutableArray* cstrings=[NSMutableArray new];  // C strings
        for(NSString* string in strings)  // Iterate over all the strings
        {
            const char* temp=[string UTF8String];  // Get C string
            const unsigned long length=strlen(temp);  // Allocate memory for it
            char* string=(char*)malloc((length+1)*sizeof(char));
            strcpy(string,temp); // Copy it
            // Store it inside NSData
            [cstrings addObject: [NSData dataWithBytesNoCopy: string length: (length+1)*sizeof(char)]];
        }
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T09:50:39.623

我认为您需要将 NSString 转换为 cString。它可以通过

```
[str UTF8String] 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T10:55:12.527

假设您有一个`NSMutableArray`包含`NSString`对象，并且您想将其转换为包含 C 字符串的 C 数组，您需要为适当大小的 C 数组分配内存（例如，如果您想要一个终止符，`char *`则 + 的计数可能额外增加 1 个数组，否则您需要在任何地方传递数组的元素计数）。然后对于 的每个元素，用对象返回的 C 字符串填充 C 数组中的相应索引。`NSMutableArray``NULL``NSMutableArray``UTF8String``NSString`

请注意，返回的 C 字符串`UTF8String`是“自动释放的”，因此如果您需要将它们保留比当前自动释放上下文更长的时间，您需要复制它们（例如，`strdup`），然后复制它们`free`（以及 C 数组，您需要`free`无论如何）在你完成它们之后。

例如：

```
#include <Foundation/Foundation.h>
#include <stdio.h>
#include <string.h>

void printCStringsInArray(const char **arr) {
    int i = 0;
    while (*arr) { printf("%d: %s\n", i++, *arr++); }
}

int main () {
    const char **carr;
    @autoreleasepool {
        NSMutableArray *arr;
        const char **p;

        arr = [NSMutableArray arrayWithObjects:@"11", @"+", @"12", nil];
        p = carr = malloc(sizeof(*carr) * ([arr count] + 1));
        for (NSString *s in arr) {
            *p++ = strdup([s UTF8String]);
        }
        *p = NULL; // mark the end of carr
    }
    printCStringsInArray(carr);
    { // free the C strings and array
        const char **p = carr;
        while (*p) { free(*p++); };
        free(carr);
    }
    return 0;
} 
```

这打印：

```
0: 11
1: +
2: 12 
```

**编辑**：当然，如果你只是想调用一些 C 函数，`const char *`从你的其他 Objective-C 代码中获取单个字符串，你不需要做任何复杂的事情，只需动态转换每个字符串`UTF8String`并使用`NSMutableArray`for 迭代，等等。但是有人可能想知道，你可以用 C 字符串做什么，而你不能直接用`NSString`s 做。

# php - 关于如何调试 Symfony2 控制器的好习惯

> ID：13267049
> 
> 赞同：0
> 
> 时间：2012-11-07T09:43:58.117
> 
> 标签：php, debugging, symfony, controller

我有一个 Symfony2 项目，有时我的控制器中有 PHP 错误。为了找出错误在哪里，我想在控制器中调试 PHP 代码。

你认为在 Symfony2 中调试控制器的最佳实践是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T09:55:11.147

错误页面告诉您许多有用的信息：

*   错误**消息**- 到底出了什么问题？（还有一些东西：我该如何解决这个问题？）
*   **行号**- 控制器的哪一行出现问题？
*   **异常**名称 -将鼠标悬停在名称上以查看完全限定的命名空间。它会告诉您哪个组件出了问题。
*   **跟踪**- 你可以看到一个完整的跟踪路径，它告诉你很多有用的东西：在哪个类/方法上抛出了异常？先执行哪些方法？

* * *

另一个好的做法是为您的控制器创建测试，包括功能测试和单元测试。[在文档](http://symfony.com/doc/current/book/testing.html)中了解更多关于它们的信息。

* * *

如果您需要更多帮助，最好指定您遇到的错误。

# php - 不使用 PHPUnit 的 PHP 测试驱动开发

> ID：13267052
> 
> 赞同：0
> 
> 时间：2012-11-07T09:44:27.610
> 
> 标签：php, tdd, phpunit

```
class TestCase
{
    public function multiply($a,$b)
    {
        return $a*$b;
    }
} 
```

我需要在 PHP 中使用测试用例。一些网站建议在 PHP 中使用 TDD，我们需要安装 PHPUnit。目前，我只需要了解测试用例并在 PHP 中使用它们来测试程序。上面的PHP代码（不安装PHPUnit）可能吗？我有 WAMPP 来运行 php。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-07T09:58:53.733

阅读 PHPUnit 的作者撰写的这篇文章：[http ://www.phpunit.de/manual/current/en/automating-tests.html](http://www.phpunit.de/manual/current/en/automating-tests.html)

那里的一个例子：

> 对于新创建的数组，我们希望 count() 函数返回 0。添加元素后，count() 应该返回 1

```
<?php
    $fixture = array();
    assertTrue(count($fixture) == 0);

    $fixture[] = 'element';
    assertTrue(count($fixture) == 1);

    function assertTrue($condition)
    {
        if (!$condition) {
            throw new Exception('Assertion failed.');
        }
    }
?> 
```

你可以重新发明轮子，但你为什么需要它？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T10:04:04.367

你可以试试[simple test](http://www.simpletest.org/)，它是一个用于 PHP 项目的轻量级 TDD 框架。为了测试它，您只需要在 PHP 脚本中包含一个文件。

# php - 编码 PHP 时出错

> ID：13267053
> 
> 赞同：-7
> 
> 时间：2012-11-07T09:44:28.030
> 
> 标签：php, date

我试图在一段时间内显示用户名，并且我也在 PHP 中编写。但它显示错误。请帮我修复错误：

```
<?php
    include("config.php");
    if(time() <= strtotime("2012-11-10")) {
        $link=mysql_connect($db_host,$db_username) ;
        mysql_select_db($db_name,$link) ;
        $query = mysql_query("SELECT * FROM tbluser");
        while($v = mysql_fetch_array($query)) {
            $username = $v['username'];
            echo("<center><table border='1' cellpadding='0' cellspacing='0' style='border-collapse: collapse' bordercolor='#111111' width='343' id='AutoNumber1'>");
            echo("<tr><td><b>UserName</b></td>");
            echo("</tr>");
            echo("<tr><td>$username</td>");
            echo("</td></tr></table>");
        }
    else
        echo 'testing period dated ended';
    }
?> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T09:46:21.520

```
$link = mysql_connect($db_host,$db_username, /* PASSWORD HERE */); 
```

您需要为[**mysql 连接**](http://php.net/manual/en/function.mysql-connect.php)分配密码。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T09:47:55.870

您缺少大括号和 mysql_connect 的第三个参数：

```
<?php
include("config.php");
if(time() <= strtotime("2012-11-10")) {
    $link=mysql_connect($db_host,$db_username,$password) ;
    mysql_select_db($db_name,$link) ;
    $query = mysql_query("SELECT * FROM tbluser");
    while($v = mysql_fetch_array($query)) {
        $username = $v['username'];
        echo("<center><table border='1' cellpadding='0' cellspacing='0' style='border-collapse: collapse' bordercolor='#111111' width='343' id='AutoNumber1'>");
        echo("<tr><td><b>UserName</b></td>");
        echo("</tr>");
        echo("<tr><td>$username</td>");
        echo("</td></tr></table>");
    }
}
else{
    echo 'testing period dated ended';
}
?> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-07T09:48:00.393

### 不要使用[`mysql_*`](http://php.net/manual/en/function.mysql-connect.php)函数。它们已被弃用。**[阅读此处](http://www.php.net/manual/en/mysqlinfo.api.choosing.php)**的指南后，选择不同的 API 。

* * *

您的**If**语句需要它的右括号。此外，for 的语法[`mysql_connect`](http://php.net/manual/en/function.mysql-connect.php)可能需要密码，除非您`mysql.default_password`在 php.ini 中使用密码作为密码。（默认为空）

```
<?php
...
if(...) { // --> needs its closing brace
    $link=mysql_connect($db_host,$db_username) ; // no password?
    ...
    ...
    while(...) {
    ...
    ... 
    } //while closes here WHERE does if close?
else
    ...
}
?> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-07T09:48:40.550

```
<?php
include("config.php");
if(time() <= strtotime("2012-11-10")) {
    $link=mysql_connect($db_host,$db_username,$password) ;
    mysql_select_db($db_name,$link) ;
    $query = mysql_query("SELECT * FROM tbluser");
    while($v = mysql_fetch_array($query)) {
        $username = $v['username'];
        echo("<center><table border='1' cellpadding='0' cellspacing='0' style='border-collapse: collapse' bordercolor='#111111' width='343' id='AutoNumber1'>");
        echo("<tr><td><b>UserName</b></td>");
        echo("</tr>");
        echo("<tr><td>$username</td>");
        echo("</td></tr></table>");
    }

}
else
    echo 'testing period dated ended'; 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-07T09:48:58.583

首先将第三个参数传递给mysql_connect()，即密码。

第二：

```
<?php
include("config.php");
if(time() <= strtotime("2012-11-10")) {
$link=mysql_connect($db_host,$db_username) ;
mysql_select_db($db_name,$link) ;
$query = mysql_query("SELECT * FROM tbluser");
while($v = mysql_fetch_array($query)) {
$username = $v['username'];
echo("<center><table border='1' cellpadding='0' cellspacing='0' style='border-collapse: collapse' bordercolor='#111111' width='343' id='AutoNumber1'>");
echo("<tr><td><b>UserName</b></td>");
echo("</tr>");
echo("<tr><td>$username</td>");
echo("</td></tr></table>");
 }
}
else {
echo 'testing period dated ended';
}
?> 
```

嵌套不正确

# c# - 如何在 C# 中将格式化字符串转换为 int（如果我知道格式）？

> ID：13267055
> 
> 赞同：2
> 
> 时间：2012-11-07T09:44:34.470
> 
> 标签：c#, int, string.format

例如，我已经格式化了字符串，`123 456 000$`并且我知道这个字符串的格式`{0:### ### ##0}$`。我想`int value = 123456000;`使用已知格式从 C# 中的这个字符串中获取。

我怎么能这样做？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-07T09:48:51.410

```
mytext = System.Text.RegularExpressions.Regex.Replace(mytext.Name, "[^.0-9]", ""); 
```

或类似的东西摆脱讨厌的非数字

然后删除前几个字符1,2,3...和最后几个长度，长度-1，长度-3...

除非我错过了什么？

哦，是的，还有 Convert.Toint32(mytext)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-07T09:48:29.947

```
int.Parse("123 456 000$", NumberStyles.AllowCurrencySymbol |
                          NumberStyles.Number); 
```

[http://msdn.microsoft.com/en-us/library/c09yxbyt.aspx](http://msdn.microsoft.com/en-us/library/c09yxbyt.aspx)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-07T09:55:15.720

我认为你将不得不构造一个类似`NumberFormatInfo`的来解析字符串值。`$`对于文本中使用的货币符号，在您的情况下，千组分隔符`space`不是，`,`因此自定义数字格式信息应该可以帮助您解析它。

```
string val = "123 456 000$";
NumberFormatInfo numinf = new NumberFormatInfo();
numinf.CurrencySymbol = "$";
numinf.CurrencyGroupSeparator = " ";
numinf.NumberGroupSeparator = " "; // you have space instead of comma as the seperator
int requiredval = int.Parse(val,NumberStyles.AllowCurrencySymbol | NumberStyles.AllowThousands,  numinf); 
```

这应该可以帮助您获得价值

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-07T09:49:34.290

我会让它变得简单：

```
String formattedString = "12345500$";
            formattedString.Remove(formattedString.Length - 1);
            int value = int.Parse(formattedString); 
```

# .net - 非托管 DLL 加载路径

> ID：13267062
> 
> 赞同：2
> 
> 时间：2012-11-07T09:45:03.583
> 
> 标签：.net, dll, c++-cli

我有一个包含非托管 dll 的托管 c++/cli 项目。

我用 加载非托管 dll `LoadLibrary`，但`LoadLibrary`调用找不到我的 dll。

```
 HMODULE theDllHell = LoadLibrary(L"mylib.dll"); 
```

我该怎么做，以便我的 dll 被复制到输出目录，我必须提供什么路径`LoadLibrary`？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T09:53:22.057

要从当前目录或 exe 目录加载库，只需库名，无需路径。有关完整的 Dll 搜索顺序，请参阅动态链接库搜索顺序[http://msdn.microsoft.com/en-us/library/windows/desktop/ms682586%28v=vs.85%29.aspx](http://msdn.microsoft.com/en-us/library/windows/desktop/ms682586%28v=vs.85%29.aspx)

```
加载应用程序的目录。
当前目录。
系统目录。使用 GetSystemDirectory 函数获取该目录的路径。
16 位系统目录。没有函数获取这个目录的路径，但是被搜索了。
Windows 目录。使用 GetWindowsDirectory 函数获取该目录的路径。
PATH 环境变量中列出的目录。

```

如果要将库复制到输出目录，请将此库项目添加到解决方案。添加模块将位于同一目录中。您还可以在 mylib 项目中使用 Post-Build Step 将 mylib.dll 复制到您需要的任何目录。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T09:53:53.510

首先：假设您已将 DLL 添加到项目中，并且它在 SolutionExplorer 面板中可见，只需右键单击它并：

*   在 BuildAction 到“内容”
*   在 CopyToOutputDir 中选择“CopyIfNewer”

如果我没有记错选项，现在应该在合理的情况下将其复制到输出目录。参考：[MSDN 上的文件属性](http://web.archive.org/web/20121116072531/http://msdn.microsoft.com/en-us/library/0c6xyb66.aspx)

第二：LoadLibrary 以传统的 Windows 特定顺序搜索一系列路径。您**几乎**总是可以确定的路径是：

*   您当前的工作目录
*   系统 DLL 目录，例如 %windir%\system32

请查看文档：[LoadLibraryA 函数](https://docs.microsoft.com/en-us/windows/win32/api/libloaderapi/nf-libloaderapi-loadlibrarya)，例如提到的“SetDllDirectory”，您认为它非常有用。此外，这里是详细解释的搜索路径顺序：[动态链接库搜索顺序](https://docs.microsoft.com/en-us/windows/win32/dlls/dynamic-link-library-search-order)

编辑：当然，您可以只向 LoadLibrary 提供文件的 CWD 相对或完整绝对路径。这总能解决问题，但是 - 我不推荐它，因为当应用程序要在各种版本和语言的操作系统上运行时，手动确定路径可能不是一件容易的事！

# javascript - 从 javascript 中的字符串启动作用域函数

> ID：13267066
> 
> 赞同：1
> 
> 时间：2012-11-07T09:45:22.550
> 
> 标签：javascript

让我们定义一只狗：

```
function Dog() {} 
```

现在让我们定义一个将 Dog 作为参数传递的自执行函数：

```
(function(dogClassName) {

    var someServerSideLogicResolvesClassName = "dogClassName";
    //Iniate class name from the server side string
})(Dog);​ 
```

经过一些谷歌搜索后，我发现我应该使用

```
new window["dogClassName"](); 
```

或者

```
new this["dogClassName"](); 
```

但由于它是一个作用域变量，它不存在于全局名称空间（无窗口）中，并且`this`是`undefined`; 我不知道如何在不使用某种评估的情况下实现这一目标。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T09:57:56.060

对，假设您尝试访问*未设置 global*的构造函数，那么您的问题的答案很简单：您不能这样做。各种引擎对闭包的范围进行不同的管理。如果返回的函数没有显式引用它，V8 甚至可能 GC 构造函数......
没有神奇的方法可以将完整的外部范围作为对象

唯一的解决方案是创建一个命名空间对象：

```
(function()
{
    var constructors = {Constructor1: function(){},
                        Constructor2: function(){}};
    return function()
    {
        var className =getClassNameViaAjax();
        if (constructors.hasOwnProperty(className))
        {
            return new constructors[className]();
        }
        if (window[className] instanceof Function)
        {//fallback
            return new window[className]()
        }
        throw className + ' Does not exist in closure, nor in global scope';
    };
}()); 
```

看看[这个问题](https://stackoverflow.com/questions/598878/how-can-i-access-local-scope-dynamically-in-javascript)，在我看来是相关的，甚至是重复的。

*更新犹豫，但为了完整性*
有一种方法可以使用变量的值作为作用域链中的引用，但它确实需要最**邪恶**的***邪恶***功能：`eval('new '+ className + '()')`正如你[在规范中看到的那样](http://www.ecma-international.org/ecma-262/5.1/#sec-10.4.2)，eval 将保留`this`绑定，并且重新初始化作用域链。除非你正在使用`'strict mode';`
因为你从 ajax 响应中获取构造函数名称，并且`eval`很容易被利用，*所以不要这样做！*这是一种*“理论上，你可以......”*的事情。

# objective-c - 调整 UIView 大小并同时更改子视图位置

> ID：13267067
> 
> 赞同：0
> 
> 时间：2012-11-07T09:45:26.313
> 
> 标签：objective-c, ios4, uiview, uibutton

我在 Interface Builder 的 ViewController 中放置了一个带有 UIButton 的 UIView 作为子视图。我还有一个 UITextField，每次我在其中输入内容时都会触发一个动作女巫。当我输入一些东西时，我的视图应该会变高，并且按钮应该移动到视图的底部。但是当我在文本字段中键入第一个字母时，视图会调整大小但按钮不会移动。当我键入第二个字母时，按钮会移动。可能是因为视图已经调整大小。我的问题是如何在文本字段中输入第一个字母时使其同时工作。

我的代码：

```
[[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(keyPressed:) name:UITextFieldTextDidChangeNotification object:textField];

- (void)keyPressed:(NSNotification*)notification{

    view.frame = CGRectMake(view.frame.origin.x, view.frame.origin.y, view.frame.size.width, 200.0);
    button.frame = CGRectMake(button.frame.origin.x, (view.frame.size.height-button.frame.size.height), button.frame.size.width, button.frame.size.height);

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T10:04:23.430

尝试实现此方法：

```
-(void)textFieldDidBeginEditing:(UITextField *)textField
{ 
 // put your action here 
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-12T08:40:54.373

通过将按钮放在视图底部来解决它。然后，当我调整视图大小时，按钮随之停留在底部。我不需要以编程方式移动按钮。

# magento - 如何从 Magento 中删除恶意软件？

> ID：13267069
> 
> 赞同：1
> 
> 时间：2012-11-07T09:45:27.810
> 
> 标签：magento, malware

我正在使用**Magento 1.7.0.2 社区版**。7 天前，我遇到了 Google 搜索问题。每当在 Google 上搜索我的网站并且任何用户点击结果链接时，我的网站都会将他们重定向到某个广告网站。我分析了代码并得出结论，dre 是每个 php 文件中的恶意代码，它重定向通过搜索引擎访问的用户。

我清理了我的网站并安装了新代码并更改了我所有的 FTP 密码。4-5天后我再次面临同样的问题。我不知道为什么会这样。

有人可以在这里帮助我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T12:00:42.533

您是否联系过您的托管公司以确保他们使用的是最新的操作系统软件和防火墙？

你也可以考虑改变你的托管公司。您托管的任何其他域是否有此问题？

假设您远程托管您的站点并且不使用任何 vpn/防火墙，那么您不应该使用 FTP。请参阅[FTP 安全性](http://publib.boulder.ibm.com/infocenter/iseries/v5r3/index.jsp?topic=/rzaj4/rzaj4rzaj45zpftpsolutions.htm)

# ruby-on-rails-3 - 如何在 ruby rails 中设置模板引擎

> ID：13267073
> 
> 赞同：1
> 
> 时间：2012-11-07T09:46:00.040
> 
> 标签：ruby-on-rails-3, template-engine

我想定制 Rails 脚手架。为此，我想设置一个自定义模板引擎。

谁能指导我设置自定义模板引擎。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-15T09:16:27.453

您不需要自定义模板引擎来自定义 Rails 脚手架。根据您要执行的操作，您可以[自定义 Rails 生成器](https://github.com/RailsApps/rails-composer)或使用诸如[rails-composer](https://github.com/RailsApps/rails-composer) / [rails_apps_composer 之](https://github.com/RailsApps/rails_apps_composer)类的工具。

如果您希望切换默认模板引擎，对于 rails 3，您可以使用`--template-engine`flag。还有一些选项，例如[Tilt](https://github.com/rtomayko/tilt/)，提供了一个抽象层，以便更容易在主要选项之间切换。

# mongodb - Mongodb地理空间查询不报告球形包装错误，但返回一个奇怪的结果

> ID：13267074
> 
> 赞同：2
> 
> 时间：2012-11-07T09:46:10.217
> 
> 标签：mongodb, geospatial

查询地理空间数据时，我有一个奇怪的行为。

从[文档](http://www.mongodb.org/display/DOCS/Geospatial+Indexing)：

> 我们目前不处理极点处或经度从 -180° 到 +180° 的过渡处的环绕，但是我们会检测搜索何时会环绕并引发错误。

但是，我有一个对象，`[179,0]`如果我查询`[-179,0]`最大距离为 0.9 的附近对象，则返回该对象并且计算的距离为 2 度。不会引发错误。

如果我查询相同的位置，但最大距离为 1.0，则不会返回对象并且仍然没有错误。

这是一个错误还是我错过了什么？我在 jira 上找不到任何报告的错误。

```
PRIMARY> version()
version: 2.0.7
PRIMARY> db.runCommand({geoNear:"GeoBug",near:[-179,0],spherical:true,maxDistance:1.0})
{
  "ns" : "mydb.GeoBug",
  "near" : "0100000000000000100010100010100000000000100010100010",
  "results" : [
    {
      "dis" : 0.03490658503988567, (2 degrees)
      "obj" : {
        "_id" : ObjectId("5098e71b744eca2df1b325f2"),
        "location" : {
          "lonlat" : [
            179,
            0
          ]
        }
      }
    }
  ],
  "stats" : {
    "time" : 0,
    "btreelocs" : 0,
    "nscanned" : 2,
    "objectsLoaded" : 1,
    "avgDistance" : 0.03490658503988567,
    "maxDistance" : 0.03490689563235392
  },
  "ok" : 1
}
PRIMARY> db.runCommand({geoNear:"GeoBug",near:[-179,0],spherical:true,maxDistance:0.9})
{
  "ns" : "mydb.GeoBug",
  "near" : "0100000000000000100010100010100000000000100010100010",
  "results" : [ ],
  "stats" : {
    "time" : 0,
    "btreelocs" : 0,
    "nscanned" : 1,
    "objectsLoaded" : 0,
    "avgDistance" : NaN,
    "maxDistance" : 0
  },
  "ok" : 1
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-13T17:32:02.437

我在 2.0.7 和 2.2.1 上都试过了，我得到了一些与你不同的行为。

我对两个版本都这样做了：

```
t = db.test
t.drop()
t.insert({geo: [179,0]})
t.ensureIndex({geo: "2d"}) 
```

在 2.0.7 中，我运行：

```
db.runCommand({geoNear:"test", near:[-179,0], spherical:true, maxDistance:1.0})
db.runCommand({geoNear:"test", near:[-179,0], spherical:true, maxDistance:0.9}) 
```

每个都返回一个结果。

但是，对于 2.2.1，搜索都没有返回结果。这表明 2.2.1 中没有记录的环绕，但在 2.0.7 中有环绕。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-05T12:09:54.767

这很荒谬，但请尝试使用“sperical”而不是“spherical”。

它适用于我的情况。

我不知道为什么，现在我正在寻找答案，但我找不到任何答案。

# oracle - 如何检查 Oracle 8 中的程序包中是否存在过程？

> ID：13267084
> 
> 赞同：3
> 
> 时间：2012-11-07T09:46:57.097
> 
> 标签：oracle, plsql, oracle8i

我在这里看到了一些用于检查程序包中的过程的解决方案，但它们仅适用于 oracle 9 或 10+。

但是是否可以在 Oracle 8i 中进行此检查？在 Oracle 8 中，您没有 DBA_PROCEDURES 或类似的东西。

任何帮助都会很棒。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-07T10:53:24.173

使用 DBMS_DESCRIBE。它在 8i 中可用。

参见：[http ://docs.oracle.com/cd/A87860_01/doc/index.htm](http://docs.oracle.com/cd/A87860_01/doc/index.htm)

如果函数的过程不存在，将返回 ORA-20001 错误。

例如

```
declare 
  V_YOUR_PROC_NAME varchar2(100) := 'MY_PACK.FUNC';
  function proc_exists(p_name varchar2) return boolean
  is
    overload     dbms_describe.number_table;
    position     dbms_describe.number_table;
    c_level      dbms_describe.number_table;
    arg_name     dbms_describe.varchar2_table;
    dty          dbms_describe.number_table;
    def_val      dbms_describe.number_table;
    p_mode       dbms_describe.number_table;
    length       dbms_describe.number_table;
    precision    dbms_describe.number_table;
    scale        dbms_describe.number_table;
    radix        dbms_describe.number_table;
    spare        dbms_describe.number_table;
    idx          integer := 0;
    PROC_NOT_FOUND exception;
    pragma exception_init(PROC_NOT_FOUND, -20001);
  begin
      dbms_describe.describe_procedure(
              p_name,null,null,
              overload,position,
              c_level,arg_name,
              dty,def_val,p_mode,
              length,precision,
              scale,radix,spare);
     return true;
  exception
    when PROC_NOT_FOUND 
    then
      return false;
  end;
begin

  if (proc_exists(V_YOUR_PROC_NAME))
  then
    dbms_output.put_line(' found');
  else
    dbms_output.put_line(' not found');
  end if;
end; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T10:00:39.600

不确定这是否适用于 Oracle 8，但试试这个：

```
select * 
from   all_procedures 
where  object_name = '<package_name>' 
  and  procedure_name = '<proc_name>' 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T10:26:32.603

正如在[这个问题](https://stackoverflow.com/q/8075727/319875)中建议的那样，您可能会被迫扫描到`all_source`视图中。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-07T10:47:09.410

这应该可以在 Oracle 8i 上运行（由于在火车上，我无法对此进行测试）

```
CREATE OR REPLACE FUNCTION check_for_procedure
  (procedure_name IN VARCHAR2)
RETURN BOOLEAN
AS
  procedure_count NUMBER;
BEGIN
    SELECT COUNT(*)
    INTO procedure_count 
    FROM USER_SOURCE 
    WHERE TYPE = 'PROCEDURE'
    AND NAME = procedure_name;
    RETURN 1 = procedure_count;
EXCEPTION
  WHEN OTHERS
  THEN
    RETURN FALSE;
END check_for_procedure; 
```

可惜不能使用`USER_PROCEDURES`或者`ALL_PROCEDURES`因为它只存在于Oracle 9i及以上

*   [如何检查存储过程是否存在？](https://stackoverflow.com/q/5721474/515359)

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2012-11-07T10:14:45.150

```
select * from all_objects
where object_name = <object name>
and object_type='PROCEDURE' 
```

不同的对象类型，它也应该在 oracle 8 中工作。

```
 OBJECT_TYPE
1   JOB CLASS
2   INDEX
3   TABLE SUBPARTITION
4   INDEXTYPE
5   PROCEDURE
6   JAVA CLASS
7   SCHEDULE
8   WINDOW
9   WINDOW GROUP
10  JAVA RESOURCE
11  TABLE PARTITION
12  TABLE
13  TYPE
14  VIEW
15  FUNCTION
16  PROGRAM
17  SYNONYM
18  CONSUMER GROUP
19  EVALUATION CONTEXT
20  DIRECTORY
21  OPERATOR
22  PACKAGE
23  SEQUENCE
24  XML SCHEMA
25  INDEX PARTITION
26  LOB 
```

在包中查找特定程序

```
SELECT *
FROM ALL_PROCEDURES
WHERE OBJECT_TYPE = 'PACKAGE' AND
OBJECT_NAME = <package name> AND
PROCEDURE_NAME = <procedure name> 
```

# c# - 如何在 mvc C# 中加入和选择表数据？

> ID：13267087
> 
> 赞同：2
> 
> 时间：2012-11-07T09:47:04.077
> 
> 标签：c#, linq

在我的项目中，我有服务。因此，在服务中，我想加入表格并希望选择多个表格数据。

所以我写了这个绳子。

```
var query1 = from opv in _opvRepository.Table
                         join o in _orderRepository.Table on opv.OrderId equals o.Id
                         join g in _graduandRepository.Table on opv.graduand_id equals g.graduand_id
                         join pv in _productVariantRepository.Table on opv.ProductVariantId equals pv.Id
                         join p in _productRepository.Table on pv.ProductId equals p.Id
                         where (opv.ceremony_id == ceremony_id) &&
                         (!o.Deleted) && (opv.IsHireItem == true)  &&
                         (!p.Deleted) &&
                         (!pv.Deleted) && (opv.ceremony_id == ceremony_id)
                         select opv,g; 
```

但是有错误，我不能选择`opv and g.`如果我写 `select opv;`它是可以的。但我想选择两个表。我该怎么做？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T09:51:29.273

尝试使用匿名类型，即

```
query1 = from opv in _opvRepository.Table
                         join o in _orderRepository.Table on opv.OrderId equals o.Id
                         join g in _graduandRepository.Table on opv.graduand_id equals g.graduand_id
                         join pv in _productVariantRepository.Table on opv.ProductVariantId equals pv.Id
                         join p in _productRepository.Table on pv.ProductId equals p.Id
                         where (opv.ceremony_id == ceremony_id) &&
                         (!o.Deleted) && (opv.IsHireItem == true)  &&
                         (!p.Deleted) &&
                         (!pv.Deleted) && (opv.ceremony_id == ceremony_id)
                         select new { table1Val = opv,
                                      table2Val = g 
                                     }; 
```

# vbscript - 提交文本后HTA中的文本框，从文本框中删除文本

> ID：13267090
> 
> 赞同：0
> 
> 时间：2012-11-07T09:47:38.497
> 
> 标签：vbscript, hta

不知道是否有人问过这个问题，（我找不到）......

我做了一个简单的谷歌搜索 HTA 文件......

它很好用，真的没有问题，但我希望在我按下回车后文本消失？

我在搜索后尝试了 BasicTextBox.Value = "" ...但是除了最后一个字母之外，这无论如何都需要..

我希望我有道理，有人可以帮助我吗？

```
<html>
<head>
<title>Search Google</title>

<HTA:APPLICATION 
ID="objHTAHelpomatic"
border="thin"
borderStyle="normal"
caption="yes"
maximizeButton="no"
minimizeButton="no"
showInTaskbar="yes"
windowState="normal"
innerBorder="no"
navigable="no"
scroll="no"
scrollFlat="no"
sysMenu="yes"
icon="htaicon.ico"
>
</head>

<SCRIPT Language="VBScript">

 Sub Window_OnLoad
 window.resizeTo 100, 100
  End Sub

sub checkEnter
With document.parentWindow.event
if .keycode = 13 then
Const NORMAL_WINDOW = 1
Set objShell = CreateObject("Shell.Application")
objShell.ShellExecute "https://www.google.com.au/search?q=" & BasicTextBox.Value
Else
.cancelbubble = false
.returnvalue = true
End if
End With

  call removetext

End sub 

sub removetext
   BasicTextBox.Value = ""
end sub

</SCRIPT>
<body bgColor="gray" STYLE="font:8pt arial; color:white">

Search Google
<input type="text" onKeydown=checkEnter name="BasicTextBox" size="10">

</body>
</html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T10:29:07.450

只需`removetext`致电`checkEnter`：

```
sub checkEnter
    Const NORMAL_WINDOW = 1
    With document.parentWindow.event
        if .keycode = 13 then
            Set objShell = CreateObject("Shell.Application")
            objShell.ShellExecute "https://www.google.com.au/search?q=" & BasicTextBox.Value
            call removetext
        End if
End With 
```

# twig - 在 TWIG 中编码内爆

> ID：13267092
> 
> 赞同：8
> 
> 时间：2012-11-07T09:47:50.270
> 
> 标签：twig, implode

编码树枝如何在这下内爆？

例如变量的内容`$data1 = "input your name"`和变量`$data2 = "input your address"`

如何成为变量`$result = "input your name, input your address"` 如何在树枝中内爆编码？

* * *

## 回答 #1

> 赞同：34
> 
> 时间：2012-11-09T10:39:04.490

我猜你正在寻找[加入](http://twig.sensiolabs.org/doc/filters/join.html)过滤器。它的工作`implode`方式与 php 中的完全一样。从手册页引用：

连接过滤器返回一个字符串，它是一个序列项的串联：

```
{{ [1, 2, 3]|join }}
{# returns 123 #} 
```

默认情况下，元素之间的分隔符是一个空字符串，但您可以使用可选的第一个参数定义它：

```
{{ [1, 2, 3]|join('|') }}
{# returns 1|2|3 #} 
```

# grails - 从插件 _install.groovy 脚本中获取 Grails 版本

> ID：13267093
> 
> 赞同：1
> 
> 时间：2012-11-07T09:47:53.507
> 
> 标签：grails, plugins

我的一个插件需要针对 grails 1.x 和 2.x 表现不同。所以想根据安装插件时使用的grails版本进行切换，但是没有找到获取grails版本的方法...

任何的想法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T15:39:27.217

您可以使用`grails.util.Metadata.current.getGrailsVersion()`. 请注意，您不能使用属性访问变量 ( `grails.util.Metadata.current.grailsVersion`)，因为`Metadata`它是 a `Map`，这将查找存储在键下的属性`"grailsVersion"`并返回 null，因为它存储在`"app.grails.version"`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T21:32:47.517

要检查您的 grails 版本：

```
grails -version 
```

安装旧插件时，请务必在

```
application.properties 
```

在你的 grails 项目中。

# css - 基于 Sass/Less/etc 的网格系统？

> ID：13267096
> 
> 赞同：0
> 
> 时间：2012-11-07T09:48:00.727
> 
> 标签：css, sass, less

我以前在我的设计中使用 960.gs 作为网格。效果很好。但是 html 中的类的数量有点乏味，而且因为我是一个网络纯粹主义者，所以在标记中控制样式总是感觉有点不对。

我试图找到一个很好的解决方案，它添加与 960.gs 相同的功能但没有所有额外的类，通过使用 som 聪明的 sass/less/etc。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T10:06:47.733

听起来您正在寻找的是[semantic.gs](http://semantic.gs/)。

`.spanX`它强调在 HTML 中不需要等的带有语义标记的网格。

我已经在 stylus 中编写了它的改编版本（他们的 stylus 实现不是很好），所以如果你使用 stylus，我很乐意给你一份副本。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T10:05:45.670

我强烈推荐[http://semantic.gs/](http://semantic.gs/)

在您的 HTML 中不需要额外的类，流畅或固定的布局，在 LESS、SCSS 和 Stylus 中工作。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T09:54:58.077

960 之后它会有一点学习曲线，但我在[http://framelessgrid.com/](http://framelessgrid.com/)示例（响应式）构建方面有很好的经验 www.hardyamies.com

它可以作为 LESS 和 SASS 使用。关键概念是在 css 中使用列变量作为宽度。这意味着您可以通过命名保持语义。

# database-design - 如何在 sqlite 中创建粗略的时间行？

> ID：13267100
> 
> 赞同：1
> 
> 时间：2012-11-07T09:48:12.547
> 
> 标签：database-design, sqlite, intervals

我正在尝试创建一个指示驱动器持续时间的时间行。一个例子是：从 A 点到 B 点大约需要 20-25 分钟。我应该如何去创造它？它是否符合间隔条件？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T13:42:44.230

SQLite 没有时间戳甚至时间间隔的本机数据类型；它使用[必须正确解释的字符串或数字](http://www.sqlite.org/lang_datefunc.html)。

我建议您将持续时间存储为秒数。

在 SQL 中，一个时间间隔指定两个时间点之间的*确切*差异，例如“20 分钟”。如果要表示一个区间的区间（如“20-25 分钟”），则必须使用两个字段，例如`duration_min`和`duration_max`。

# python - 为什么while循环停留在raw_input？（Python）

> ID：13267107
> 
> 赞同：3
> 
> 时间：2012-11-07T09:48:30.190
> 
> 标签：python, while-loop, raw-input

在下面的代码中，我尝试使用 python 脚本通过将文件读入列表并一次打印 10 行然后询问用户是否要打印接下来的 10 行（打印更多。 .)。问题是 raw_input 一次又一次地询问输入是否我给出'y'或'Y'作为输入并且不继续while循环并且如果我给出任何其他输入while循环制动。我的代码可能不像我学习 python 那样好。

```
import sys
import string
lines = open('/Users/abc/testfile.txt').readlines()
chunk = 10
start = 0

while 1:
    block = lines[start:chunk]
    for i in block:
        print i
    if raw_input('Print More..') not in ['y', 'Y']:
        break
    start = start + chunk 
```

我得到这个代码的输出是： -

```
--
10 lines from file

Print More..y
Print More..y
Print More..y
Print More..a 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-07T09:54:16.940

您正在构建错误的切片：切片中的第二个参数给出了停止位置，而不是块大小：

```
chunk = 10
start = 0
stop = chunk
end = len(lines)
while True:
    block = lines[start:stop]     # use stop, not chunk!
    for i in block:
        print i
    if raw_input('Print More..') not in ['y', 'Y'] or stop >= end:
        break
    start += chunk
    stop += chunk 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-07T10:01:43.030

我不会解释为什么你的代码不起作用以及如何修复它（因为 Tim Pietzcker 已经做了令人钦佩的工作），我将解释如何编写代码，这样这样的问题就不会出现在第一名。

尝试编写自己的显式循环、检查和索引变量是困难且容易出错的。这就是为什么 Python 为您提供了几乎总是不需要这样做的好工具的原因。这就是你使用 Python 而不是 C 的原因。

例如，查看您的程序的以下版本：

```
count = 10
with open('/Users/abc/testfile.txt', 'r') as testfile:
    for i, line in enumerate(testfile):
        print line
        if (i + 1) % count == 0:
            if raw_input('Print More..') not in ['y', 'Y']:
                break 
```

这比原始代码更短，而且效率也更高（无需读取整个文件然后提前构建一个巨大的列表），但这些并不是使用它的好理由。

一个很好的理由是它更加健壮。这里几乎没有明确的循环逻辑会出错。你甚至不需要记住切片是如何工作的（当然，很容易知道它们`[start:stop]`不是`[start:length]`……但是如果你用另一种语言编程比 Python 更频繁，而且你总是在写`s.sub(start, length)`，你会忘记…）。当您到达文件末尾时，它还会自动处理结束，而不是永远继续，为您关闭文件（即使在异常情况下，手动正确处理也很痛苦），以及您尚未编写的其他内容.

另一个很好的理由是它更容易阅读，因为代码尽可能多地告诉你它在做什么，而不是它如何做的细节。

但它仍然不完美，因为仍有一件事你很容易出错：那`(i + 1) % count == 0`一点。事实上，我在第一次尝试时就弄错了（我忘记了 +1，所以它在第 0、10、20 行……而不是 9、19、29……之后给了我一个“更多”提示）。如果你有一个`grouper`函数，你可以更简单、更健壮地重写它：

```
with open('/Users/abc/testfile.txt', 'r') as testfile:
    for group in grouper(testfile, 10):
        for line in group:
            print line
        if raw_input('Print More..') not in ['y', 'Y']:
            break 
```

或者，甚至更好：

```
with open('/Users/abc/testfile.txt', 'r') as testfile:
    for group in grouper(testfile, 10):
        print '\n'.join(group)
        if raw_input('Print More..') not in ['y', 'Y']:
            break 
```

不幸的是，模块中没有内置这样的 grouper 函数`itertools`，但你可以很容易地编写一个：

```
def grouper(iterator, size):
    return itertools.izip(*[iterator]*size) 
```

（如果效率很重要，请在这个网站上搜索——有几个问题，人们会深入比较达到相同效果的不同方法。但通常没关系。就此而言，如果你想了解*为什么*会这样对事物进行分组，请搜索此站点，因为它已至少解释过两次。）

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-07T09:51:35.823

正如@Tim Pietzcker 指出的那样，这里不需要更新`chunk`，只需使用`start+10`而不是`chunk`.

```
block = lines[start:start+10] 
```

并更新开始使用`start += 10`.

另一种使用的替代解决方案`itertools.islice()`：

```
 with open("data1.txt") as f:
    slc=islice(f,5)            #replace 5 by 10 in your case
    for x in slc:
        print x.strip()
    while raw_input("wanna see more : ") in("y","Y"):     
        slc=islice(f,5)        #replace 5 by 10 in your case
        for x in slc:
            print x.strip() 
```

这输出：

```
1
2
3
4
5
wanna see more : y
6
7
8
9
10
wanna see more : n 
```

# c++ - typedef 模板没有模板重新绑定。用作模板类参数的模板

> ID：13267121
> 
> 赞同：4
> 
> 时间：2012-11-07T09:49:09.207
> 
> 标签：c++, templates

我想做这样的事情：

```
template<class T>
class BaseSubscriber {};

template<class T>
class BasePublisher
{
    // not working : invalid use of template-name 'BaseSubscriber' without an argument list
    typedef BaseSubscriber SubscriberType;

    // compiling
    typedef BaseSubscriber<T> SubscriberTypeT;
};

template< template<class T> class Subscriber, class Data >
class ClassA:
    public Subscriber<Data> 
{
};

template< template<class T> class Publisher, class Data >
class ClassB:
    public Publisher<Data>  
{
    // Ok, but I want that the type "BaseSubscriber" depends on the template parameter Publisher
    void method1(ClassA<BaseSubscriber, Data>&);

    // I want something like that. But how to define SubscriberType ?
    void method2(ClassA<Publisher<Data>::SubscriberType, Data>&);
    // or (SubscriberType only depends on the Publisher, nor on the Data)
    void method2(ClassA<Publisher::SubscriberType, Data>&);

    // Error : template argument is invalid
    void method3(ClassA<Publisher::SubscriberTypeT, Data>&);
}; 
```

是否可以定义一些`SubscriberType`可用于`classA`模板参数的内容？或者有什么解决办法吗？

如果可能的话，我想保留`classA`原型。我不想改变它

```
template<class TSubscriber > classA {}; 
```

而且我不能使用 C++11。非常感谢你的回答。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-07T10:03:28.737

当您说：

```
// I want something like that. But how to define SubscriberType ?
void method2(ClassA<Publisher::SubscriberType>); 
```

作为`Publisher`模板，但您没有向它传递任何参数。

无论如何，这里有一些选项：

在 C++11 中，您可以使用模板别名：

```
template<class T>
class BasePublisher
{
    template<typename U>
    using SubscriberType = BaseSubscriber<U>;
}; 
```

您还可以使用嵌套类：

```
template<class T>
class BaseSubscriber {};

template<class T>
class BasePublisher
{
    template<class U>
    class BaseSubscriber {};
}; 
```

或更改`ClassA`为使用`type`会员：

```
template<class T>
class BasePublisher
{
    template<class U>
    struct SubscriberType {
        typedef BaseSubscriber<U> type;
    };
};

template< template<class T> class SubscriberT >
class ClassA {
    typedef typename SubscriberT::type Subscriber;
}; 
```

或者，如果您不需要别名，有时继承会起作用：

```
template<class T>
class BasePublisher
{
    template<class U>
    struct SubscriberType : BaseSubscriber<U> {};
}; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T10:02:27.877

C++03 中不允许使用模板别名，尽管它们在 C++11 中。

你的目标是能够做到：

```
typename BaseSubscriber<A>::SubscriberType<B> 
```

在 C++03 中，您应该使用嵌套类：

```
template< typename T > struct BasePublisher
{
   template< typename U > struct Subscriber
   {
       typedef BaseSubcriber<U> type;
   };
}; 
```

现在你可以做 typename BasePublisher::Subscriber::type;

在 C++11 中，语法为：

```
template < typename T > struct BasePublisher
{
   template< typename U > using SubscriberType = BaseSubscriber<U>;
}; 
```

还没有很多编译器支持它。虽然你不能做 typename typename 它可能需要另一个 typedef 。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T10:13:20.690

如果我理解正确，您希望`ClassA`获得 的实例化`BaseSubscriber`，例如`BaseSubscriber<my_tag>`和`ClassB`的实例化`BasePublisher`。这是对的吗？

如果您的答案是肯定的，那么为什么您将and的`template`参数声明为模板，您不想在or中对它做任何事情，所以它应该是一个类而不是模板类：`ClassA``ClassB``ClassA``ClassB`

```
template<class T>
class BasePublisher
{
    // compiling
    typedef BaseSubscriber<T> SubscriberTypeT;
};
template< class SubscriberT > class ClassA : SubscriberT {};
template< class PublisherT >
class ClassB : PublisherT {
    void method1( ClassA<typename PublisherT::SubscriberTypeT> );
}; 
```

# objective-c - 在目标 C 中制作动态表格

> ID：13267123
> 
> 赞同：1
> 
> 时间：2012-11-07T09:49:10.567
> 
> 标签：objective-c, ios, forms, uitableview, generics

我有一件非常困难的事情要做。我需要做的是以下。我有一个具有以下行的表格视图。

```
cell1: Login-form
cell2: Vacation-form
cell3: contact-form 
```

我想知道的是，当一个单元格被推送时，会显示正确的表单。好吧，这可能看起来很简单。但问题是我可以在这个 tableview 中有 20 种不同的形式。所以我想做的是制作通用表格。因此，当我单击一个单元格时，它会转到下一个视图，并且该视图填充了正确的表单。所以当我点击*登录表单*时，该视图将是一个登录表单。但是当我回去点击*联系表格*时，相同的视图应该是联系表格。

我希望你能看到我的问题。到目前为止，我所拥有的是，当您单击一个单元格时，会创建一个 NSArray，其中包含如下所示的字典

```
dict1: {
     key: "label"
     object: "Login"
     key: "textField"
     object: "text"
}
dict2:  {
     key: "label"
     object: "pass"
     key: "textField"
     object: "passText"
} 
```

但是知道当我转到下一个视图控制器时，它应该被这个标签和文本字段/密码字段填充。

我想我找到了一个非常好的表单库。你可以在[这里](https://github.com/escoz/QuickDialog)找到它。任何想法我的下一步应该是什么？

亲切的问候。

# wordpress - 制作自定义 WooCommerce 循环

> ID：13267124
> 
> 赞同：13
> 
> 时间：2012-11-07T09:49:23.840
> 
> 标签：wordpress, woocommerce

我正在使用已经为 wordpress 设计的主题，现在我想展示 WooCommerce 产品（我认为是自定义帖子类型），而不是常规的博客文章。

这是带有显示循环的当前查询：

```
<?php 
                $args = array(
                    //'posts_per_page' => '2',
                    'paged' => get_query_var('paged')
                );
                $homepage_query = new WP_Query($args);
            ?>
            <?php //query_posts('posts_per_page=4&paged='.get_query_var('paged')); ?>
            <?php if ( have_posts() ) : ?>  
                <?php while ( $homepage_query->have_posts() ) : $homepage_query->the_post(); ?>
                    <?php if($style == 'blog_style') { ?>
                    <div id="blog-style" class="post-box">
                        <?php get_template_part('content', 'blog'); ?>
                    </div>
                    <?php } else { ?>
                    <div class="post-box grid_4 <?php aero_post_box_class(); ?>">
                        <?php get_template_part('content', ''); ?>
                    </div>
                    <?php } ?>
                <?php endwhile; ?> 
```

有没有办法添加选项，`$args`以便循环显示 WooCommerce 产品？我也在这个循环中使用分页，这是这个项目所必需的，所以这就是为什么使用这个循环很重要。

* * *

## 回答 #1

> 赞同：28
> 
> 时间：2012-11-08T07:39:13.310

您应该能够通过循环访问产品，将`post_type`arg 设置为`product`：

```
<?php

// Setup your custom query
$args = array( 'post_type' => 'product', ... );
$loop = new WP_Query( $args );

while ( $loop->have_posts() ) : $loop->the_post(); ?>

    <a href="<?php echo get_permalink( $loop->post->ID ) ?>">
        <?php the_title(); ?>
    </a>

<?php endwhile; wp_reset_query(); // Remember to reset ?> 
```

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2019-04-22T18:13:02.707

这是重新创建和自定义 WooCommerce 产品循环的正确方法：

```
 if(!function_exists('wc_get_products')) {
    return;
  }

  $paged                   = (get_query_var('paged')) ? absint(get_query_var('paged')) : 1; // if your custom loop is on a static front page then check for the query var 'page' instead of 'paged', see https://developer.wordpress.org/reference/classes/wp_query/#pagination-parameters
  $ordering                = WC()->query->get_catalog_ordering_args();
  $ordering['orderby']     = array_shift(explode(' ', $ordering['orderby']));
  $ordering['orderby']     = stristr($ordering['orderby'], 'price') ? 'meta_value_num' : $ordering['orderby'];
  $products_per_page       = apply_filters('loop_shop_per_page', wc_get_default_products_per_row() * wc_get_default_product_rows_per_page());

  $products_ids            = wc_get_products(array(
    'status'               => 'publish',
    'limit'                => $products_per_page,
    'page'                 => $paged,
    'paginate'             => true,
    'return'               => 'ids',
    'orderby'              => $ordering['orderby'],
    'order'                => $ordering['order'],
  ));

  wc_set_loop_prop('current_page', $paged);
  wc_set_loop_prop('is_paginated', wc_string_to_bool(true));
  wc_set_loop_prop('page_template', get_page_template_slug());
  wc_set_loop_prop('per_page', $products_per_page);
  wc_set_loop_prop('total', $products_ids->total);
  wc_set_loop_prop('total_pages', $products_ids->max_num_pages);

  if($products_ids) {
    do_action('woocommerce_before_shop_loop');
    woocommerce_product_loop_start();
      foreach($products_ids->products as $featured_product) {
        $post_object = get_post($featured_product);
        setup_postdata($GLOBALS['post'] =& $post_object);
        wc_get_template_part('content', 'product');
      }
      wp_reset_postdata();
    woocommerce_product_loop_end();
    do_action('woocommerce_after_shop_loop');
  } else {
    do_action('woocommerce_no_products_found');
  } 
```

使用上面的代码，您可以自定义`wc_get_products()`参数以获取所需产品的 ID（如果您有特定条件）。一旦该代码到位，您就可以使用本机 WooCommerce 循环的所有功能——分页、排序等。[这种方法优于`WP_Query`并且`get_posts()`因为这两种方法可以中断](https://github.com/woocommerce/woocommerce/wiki/wc_get_products-and-WC_Product_Query)。

我在这里写了一篇关于自定义 WooCommerce 循环的更详细的博客文章：[https ://cfxdesign.com/create-a-custom-woocommerce-product-loop-the-right-way/](https://cfxdesign.com/create-a-custom-woocommerce-product-loop-the-right-way/)

* * *

## 回答 #3

> 赞同：-3
> 
> 时间：2014-01-09T10:16:22.887

您还可以使用此代码获取类别

```
 $terms = get_terms('product_cat');

       foreach ($terms as $term) {
         $term_link =  get_term_link( $term, 'product_cat' );
         echo '<li><a href="' . $term_link . '">' . $term->name . '</a></li>';
       } 
```

如果您只想要父类别，那么

```
wp_list_categories('taxonomy=product_cat&orderby=order&title_li=&depth=1'); 
```

# java - 如何在事务上下文中使用 finally 块处理异常？

> ID：13267125
> 
> 赞同：3
> 
> 时间：2012-11-07T09:49:24.110
> 
> 标签：java, spring, transactions, try-catch-finally

如果我有像下面这样的事务方法，那么在事务提交和回滚的情况下何时执行 finally 块？例如，如果“使用休眠将某些实体保存在数据库中”会引发一些休眠异常，这是真的吗？

1) 事务回滚 2) finally 块被执行

或者

1) finally 块被执行 2) 事务回滚

```
public void someTransactionalPersist(...) {
     try {
     // persist some entity in database with hibernate
     } finally {
        // do something 
     }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T09:58:23.960

在这两种情况下 finally 块都会[最终](http://docs.oracle.com/javase/tutorial/essential/exceptions/finally.html)执行。顺序将是，如果您的 try 块抛出异常，那么它将`rollback`首先然后`finally`块将`executed`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T10:21:41.023

```
try{
    //This is executed if an exception is not thrown
} catch(Exception e){
    //This is executed if an exception is thrown
} finally{
    //This is executed regardless of which of the above was executed
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T09:59:01.627

假设 someTransactionalPersist 方法是事务的起点，那么如果 try 块中有任何异常，则首先将执行 finally，如果 finally 块抛出运行时异常，则 spring 将作为默认配置进行回滚。

如果要回滚特定异常，则必须`@Transactional`使用`rollbackFor`.

如果您想手动将事务标记为回滚而不进一步抛出异常/运行时异常，那么您必须在 catch 块中执行此操作`TransactionAspectSupport.currentTransactionStatus().setRollbackOnly()`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-07T10:03:01.437

关于规范[http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.20.2](http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.20.2)

如果没有异常，则在 try 执行无误后，将执行 finally 块。如果 try 中有错误并且有一个 catch 块，捕获该异常，则执行 catch 块。之后，finally 块将被执行。

如果 try 块中有错误并且没有 catch 块，则捕获该异常，finally 块将被执行，并且您的方法将抛出该未捕获的异常。

因此，finally 块将**始终**被执行，并且始终是最后一个正在执行的块。

# linux - 如何在linux中获取倒数第二个文件夹的名称

> ID：13267126
> 
> 赞同：1
> 
> 时间：2012-11-07T09:49:26.207
> 
> 标签：linux, command

我必须在 linux 中编写一个 shell 脚本，我必须在其中提取给定路径的倒数第二个文件夹的名称。例如：-

```
/var/www/html/folder1/folder2/folder3 
```

如何使用命令仅获取倒数第二个文件夹“folder2”的名称？

```
Note: My shell script is placed at root (/var/www/html) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T09:51:12.267

使用 awk：

```
awk -F/ '{print $(NF-1)}' <<< "/var/www/html/folder1/folder2/folder3" 
```

或者，调用`basename`.`dirname`

```
basename "$(dirname /var/www/html/folder1/folder2/folder3)" 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T09:57:20.653

您可以使用 sed 来获取它：

```
export some_path="/var/www/html/folder1/folder2/folder3"
export folder_place2=`echo $some_path  | sed -e "s/.*\/\([^/]*\)\/[^/]*/\1/"`
echo $folder_place2 
```

# sql-server - SQL Server：我可以将二进制数据保存在 nvarchar 列中吗？

> ID：13267127
> 
> 赞同：4
> 
> 时间：2012-11-07T09:49:26.040
> 
> 标签：sql-server

我知道您可以转换`binary data`为`nvarchar`并保存在列中，然后在检索时`nvarchar`将其转换回。`binary`这会一直正确地为您提供原始`binary`数据吗？或者翻译中可能会出现问题？

我问是因为我们有一`nvarchar`列以纯文本形式保存密码。我希望将其更改为将 PW 保存在加密文本中。如果我使用该函数`EncryptByPassPhrase`，它会返回`varbinary`。我想知道我是否可以将输出从转换`EncryptByPassPhrase`为`nvarchar`并保存在同一个密码列中。这比创建一个新的类型列`varbinary`来保存加密的 PW 更容易。

所以我建议我像这样转换当前密码：

```
UPDATE Users 
SET Password = CONVERT(nvarchar(200), EncryptByPassPhrase('whatever', Password)) 
```

然后我将解密并检索 PW，如：

```
SELECT CONVERT(nvarchar(200), DecryptByPassPhrase('whatever', Password)) AS PW 
FROM Users 
```

这会一直正常工作吗？

提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T10:22:15.697

忽略这是否是一个好主意，以下查询似乎表明所有两个字节组合都正确往返。

```
WITH T1 AS
(
SELECT 
      TOP 65536 CAST(ROW_NUMBER() OVER (ORDER BY (SELECT 0)) - 32769 AS SMALLINT) RN
FROM master..spt_values v1, master..spt_values v2
), T2 AS 
(
SELECT CAST(CAST(RN AS BINARY(2)) AS NCHAR(1)) AS NC,
       RN
FROM T1 
)
SELECT *
FROM T2 
WHERE CAST(CAST(NC AS BINARY(2)) AS SMALLINT) <> RN 
```

# python - 如何在 python-dbus 中将类作为数据类型处理

> ID：13267137
> 
> 赞同：1
> 
> 时间：2012-11-07T09:49:52.323
> 
> 标签：python, dbus

我是 python 和 dbus 的新手，但是是否有通过 dbus-python 的数据绑定（= 一种发送和接收的方式）python 类？

我的课看起来像这样：

```
class Item:

    def __init__(self, one, two, three, four, five, *more):
        self.one= one
        self.two= two
        self.three= three
        self.four= four
        self.five= five
        self.more= more 
```

more 是一个列表，而一到五个是字符串。我有这些项目的清单：

```
list_items = []
list_items.append(Item('Test','Test','Test','Test',more)) 
```

dbus 部分如下所示：

```
@dbus.service.method('com.me.test', in_signature='', out_signature='a(sssssav)')
def get_all_items():
    return list_items 
```

我的签名是否有错误，或者我是否必须使用可以编组的不同数据结构（元组？）？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T13:32:59.943

您可以始终使用`pickle`或`marshal`发送您的数据，例如字节字符串。否则，您可以通过从`dbus.service.Object`. 我会选择前者...

# r - 可以声明包依赖项的显式版本吗？

> ID：13267140
> 
> 赞同：8
> 
> 时间：2012-11-07T09:49:59.940
> 
> 标签：r, dependencies, packages, cran

对于我编写的代码，我倾向于明确而不是隐含。因此，在成功创建自己的包之后，我立即想到的下一件事就是如何最好地确保我的代码的健壮性和可靠性。其中一部分与我的包所依赖的包有关。

## 实际问题

**在这方面：是否可以明确说明需要/期望哪个版本的包依赖项？**

我正在寻找不需要说明`zip`文件的实际路径的方法（这当然很容易），而只是使用**仅**`install.packages`说明包名称的“标准行为” （可能有一些所需版本的参考）。

 **## 尽职调查

我已经检查了[Writing R Extensions](http://cran.r-project.org/doc/manuals/R-exts.html#The-DESCRIPTION-file)以查看我`Depends`对文件部分的选择是什么`DESCRIPTION`，希望有一种类似的机制可以用于说明所需的 R 版本（例如`R (>= 2.15.2)`）。但我没有发现任何类似的包依赖项：

> > 'Depends' 字段给出了这个包所依赖的包名的逗号分隔列表。包名后面可以有一个可选的括号中的注释。注释应包含比较运算符、空格和有效的版本号。
> > 
> > 如果您的包依赖于某个版本的 R，您也可以使用特殊的包名称“R”——例如，如果该包仅适用于 R 版本 2.11.0 或更高版本，请在其中包含“R (>= 2.11.0)” “取决于”字段。您还可以要求 R-devel 或 R-patched 的某个 SVN 版本，例如，“R (>= 2.14.0), R (>= r56550)”需要 2011 年 7 月下旬的 R-devel 之后的版本（包括发布2.14.0 版本）。库和 R 包检查工具都使用此字段：因此使用不正确的语法或滥用“Depends”字段来评论可能需要的其他软件是错误的。其他依赖项（R 系统外部）应列在“SystemRequirements”字段中，可能会在单独的 README 文件中放大。
> > 
> > R INSTALL 工具检查所使用的 R 版本是否足够新以安装正在安装的包，并且指定的包列表将在当前包之前附加（在检查版本要求之后），无论是在调用库时还是在准备时用于安装期间的延迟加载。

然后我也看了看 a`install.packages`并希望有类似的`version`论点，但我想没有。

## 免责声明

我完全清楚我的问题的目标可能会与 R 的通过 CRAN 包存储库分发和安装包的哲学形成鲜明对比，其中（至少我猜）某些包的新版本只是“推翻”以前的包，并且`install.packages()`总是选择最新的可用包. 为了不让事情变得过于复杂，向最终用户隐藏版本特性也很有意义。

然而，关于编写尽可能健壮的代码的目标，恕我直言，非常明确地陈述事情也是有意义的。或者至少可以选择这样做。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-11-07T10:12:24.843

你确实使用`Depends`. 例如：

```
Depends: R (>= 2.15.0), foo (== 1.17-12) 
```

将对大于或等于 2.15.0 的 R版本**和**`foo`等于`1.17-12`.

（至少如果我对您的理解正确，您想明确声明您的包*仅适用*`x.yy-zz`于包**foo**的版本。）

不过，我不确定这对最终用户有多大帮助；您可能会强迫他们维护单独的包库，以便使用您的包来维护您规定的确切版本。**

# ios - 如何在 Unity 中使用 iOS 框架？

> ID：13267141
> 
> 赞同：4
> 
> 时间：2012-11-07T09:50:02.877
> 
> 标签：ios, frameworks, unity3d

我正在尝试在 Unity 中使用 iOS 本机框架，但我不知道如何。

在我的 C# 脚本中，我调用了这样的本机函数：

```
[DllImport ("__Internal")]
    private static extern void writeHello();

    void Start () {
        writeHello();
    } 
```

我已经将 iOS 框架拖到我的项目中，如下所示：

[链接到我的图片](http://img11.hostingpics.net/pics/583990ScreenShot20121107at102612AM.png)

但是当我在 iPad 上部署我的应用程序时，xCode 显示此错误：

> 架构 armv7 的未定义符号：“_writeHello”，引用自：RegisterMonoModules.o 中的 RegisterMonoModules() ld：未找到架构 armv7 clang 的符号：错误：链接器命令失败，退出代码为 1（使用 -v 查看调用）

我不明白为什么，我不知道我想要做的事情是否可行。帮助！:)

谢谢，森宁

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-07T10:10:27.497

iOS框架必须放在xCode生成的项目中，不能统一。

并且框架的功能必须包装在一个块中（如此[处](http://forum.unity3d.com/threads/137156-Calling-an-Objective-C-function-in-an-iPad-app-from-Unity)`extern "C"`所示）。

然后你就可以在 C# 中使用它了`dllimport`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-08T22:02:09.750

该文档说，位于 Assets/Plugins/iOS 文件夹中的所有扩展名为 .a、.m、.mm、.c、.cpp 的文件将自动合并到生成的 Xcode 项目中。文档还说当前不支持子文件夹，因此，在您的示例中，“framework-helloUnity.framework”文件夹将被忽略。

请务必注意，.m 文件默认为 C 样式绑定，而 .mm 文件默认为 C++ 样式绑定。换句话说，除非您使用`extern "C"`关键字，如 Heilo 建议的那样，如果您将它们放在 .mm 或 .cpp 文件中，将找不到您的函数。

换句话说，如果您输入以下内容：

```
void writeHello() {} 
```

在名为 的文件中`Assets/Plugins/iOS/myTestFile.m`，您的代码应该可以编译。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T14:06:29.550

由于这篇文章找到了解决方案：[Calling Objective-C method from C++ method?](https://stackoverflow.com/questions/1061005/calling-objective-c-method-from-c-method)

通过这样做：

```
void myWriteHello( void *test) {
    [(id)test writeHello];
}

- (void) writeHello
{
    NSLog(@"Hello World!");
} 
```

并从 Unity 调用我的 C 函数

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-04-15T06:15:04.437

您已经在 Xcode 项目中编写了以下函数 any class extern "C" { -(void) writeHello {

} }

# php - php zip 内容编码

> ID：13267143
> 
> 赞同：3
> 
> 时间：2012-11-07T09:50:23.640
> 
> 标签：php, encoding, zip

我通过 UTF-8 编码的 php 脚本创建了一些 .txt 文件（带有希腊字符）。当我尝试从 ftp 下载和读取这些文件时，一切正常（没有编码问题）。

当我将这些文件压缩到 zip 存档时，我面临所有希腊字符和 newLines 字符的编码问题。

压缩脚本：

```
 $zip = new ZipArchive();
    $filename = "my_zip.zip";

    if ($zip->open($filename, ZIPARCHIVE::CREATE)!==TRUE) {
        exit("cannot open <$filename>\n");
    }

    $files = glob('users/'.$_SESSION['s_uid'].'/*'); // get all file names
    foreach($files as $file){ // iterate files
        if(is_file($file))
            //$zip->addFile($thisdir . $file, basename($file));
            $zip->addFile($thisdir . $file, iconv("UTF-8","UTF-8", basename($file)));
            //echo $file; // delete file
    }   
    $zip->close(); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T19:22:51.467

这似乎是 PHP 无法处理 UTF-8 编码文件名的一个未解决的错误。

*   [https://bugs.php.net/bug.php?id=53948](https://bugs.php.net/bug.php?id=53948)
*   [http://tracker.moodle.org/browse/MDL-24928](http://tracker.moodle.org/browse/MDL-24928)

对此也有类似的问题。

[在 PHP+Apache 中压缩带有特殊字符的文件时出现问题 - 编码问题](https://stackoverflow.com/questions/4556180/problem-when-zipping-files-with-special-characters-in-phpapache-encoding-issu)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-09-30T11:49:49.463

我还遇到了使用 UTF8 字符提取 ZIP 存档的问题。我还没有找到任何真正解决这个问题的方法（我认为 PECL 中的问题仍然存在，因为我正在使用 5.6）[https://bugs.php.net/bug.php?id=53948](https://bugs.php.net/bug.php?id=53948)

...所以我想出了一个解决方法，其中涉及在提取存档文件之前重命名它们。有了这个解决方法，我仍然可以允许用户在他们的存档中上传 UTF8 文件名，但我只是用正则表达式替换特殊字符。

```
 $zip = new ZipArchive;
            if ($zip->open($file_path) === true) {
                for ($i = 0; $i < $zip->numFiles; $i++) {
                    $fname = $zip->getNameIndex($i);      
                    $fname_new = // your str replacemenet code...
                    $zip->renameIndex($i, $fname_new); 
```

# java - 扩展 Spring 应用程序上下文的最佳方式是什么？

> ID：13267145
> 
> 赞同：0
> 
> 时间：2012-11-07T09:50:26.993
> 
> 标签：java, spring, annotations

我需要用新的bean定义扩展spring applicatioContext xml文件，然后将它们的引用添加到列表中，这是一个bean的属性：基本applicationContext xml文件：

```
<bean id="myBean" class="com.example.MyBean">
    <property name="providers"> 
        <list>
            <ref bean="provider1">
        </list>
    </property>
</bean>
<bean id="provider1" class="com.example.Provider"> 
```

取决于应用程序的实例，我有不同的提供者，所以我需要将它们添加到列表中。现在我在数据库中有额外的 bean 定义，并用于`BeanFactoryPostProcessor`将它们添加到上下文中，然后将对它们的引用添加到提供者列表中。但是我使用`@Transactional`注释`myBean`和自动事务管理（`tx:annotation-driven`）并且由于使用`BeanFactoryPostProcessor`事务注释没有被处理。

所以我需要另一种方法来扩展应用程序上下文，然后是提供者列表。我可以使用什么？

我的想法是让xml文件一开始是空的，然后用数据库中的数据填充它，然后以某种方式在applicationContext中导入它。可能吗？

谢谢你的帮助

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T10:03:52.607

您可以通过多种方式覆盖或扩展 bean 定义。简而言之，这是一种方法..

主应用程序上下文 xml：

```
<bean id="myBaseBean" class="com.example.MyBean" abstract="true">
    <property name="providers"> 
        <list merge="true">
            <ref bean="provider1" />
        </list>
    </property>
</bean>
<!-- default bean definition -->
<bean id="myBean" parent="myBaseBean">
    <property name="providers"> 
        <list merge="true">
        </list>
    </property>
</bean>
<bean id="provider1" class="com.example.Provider"> 
```

一些扩展的Application Context xml：

```
<bean id="myBean" parent="myBaseBean">
        <property name="providers"> 
            <list merge="true">
                <ref bean="someOtherProvider" />
            </list>
        </property>
    </bean>
 <!-- bean definition of some other provider --> 
```

`Transactions`这与您必须像往常一样为每个其他 bean 处理事务无关。

注意：所有应用程序上下文文件都将根据您在创建`ApplicationContext`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T10:00:34.077

在 MyBean 类中使用 @PostConstruct 方法从数据库加载和填充提供者列表。

```
@PostConstruct
public void initialize() {
    providers.addAll(providerService.findAll());
} 
```

将所有与数据库相关的代码放入Service/Dao类中，并用注解进行`@Transactional`注解

# mysql - MySQL key ON DUPLICATE KEY UPDATE 列不明确

> ID：13267152
> 
> 赞同：4
> 
> 时间：2012-11-07T09:50:45.027
> 
> 标签：mysql

有以下问题

```
INSERT INTO statistics_new (SELECT * FROM statistics)
    -> 
    -> ON DUPLICATE KEY UPDATE
    -> 
    -> end_date = IF(end_date < VALUES(end_date), VALUES(end_date), end_date);
ERROR 1052 (23000): Column 'end_date' in field list is ambiguous 
```

[当我尝试按照http://dev.mysql.com/doc/refman/5.0/en/insert-select.html](http://dev.mysql.com/doc/refman/5.0/en/insert-select.html)中的建议指定列和表别名时，我得到了相同的结果。

服务器版本：5.5.24-0ubuntu0.12.04.1（Ubuntu）

以下查询运行没有问题：

```
INSERT INTO statistics_new (SELECT * FROM statistics)
ON DUPLICATE KEY UPDATE
end_date = VALUES(end_date) 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-11-07T09:58:33.727

[SQLFiddle 示例](http://sqlfiddle.com/#!2/7e377)

基本上我认为你想要这个：

```
INSERT INTO statistics_new (SELECT * FROM statistics)
ON DUPLICATE KEY UPDATE
statistics_new.end_date = if(statistics_new.end_date < statistics.end_date, 
                             statistics.end_date, statistics_new.end_date); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T09:56:51.943

两者`statistics_new`都有`statistics`列`end_date`。请在您的 SQL 中区分它们。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T09:57:58.823

如果您尝试在最后一行设置一个变量，它应该类似于：

```
SET @end_date = IF(end_date < VALUES(end_date), VALUES(end_date), end_date); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2021-11-03T08:32:12.303

如果您不想创建新表，可以使用子查询来重命名不明确的字段。这需要列出所有字段，因此可能不适合所有用例：

```
INSERT INTO statistics(end_date, field2) 
SELECT * FROM (
  SELECT end_date as new_end_date, field2 
  FROM statistics
) q
ON DUPLICATE KEY UPDATE
  end_date = IF(end_date < VALUES(end_date), VALUES(end_date), end_date); 
```

# assembly - fpu 状态 (x87)

> ID：13267156
> 
> 赞同：0
> 
> 时间：2012-11-07T09:51:11.420
> 
> 标签：assembly, fpu, x87

我正在搜索有关可以将多少值视为当前 fpu 状态的一部分的信息（我的意思是浮点代码计算所依赖的值）我知道这将是 3 种精确模式，4 种舍入模式，大约 5与 fpu 异常相关的位标志，但还有什么？tnx

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T10:06:06.313

检查[英特尔手册](http://download.intel.com/design/processor/manuals/253665.pdf)，第 8 章。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-12-06T16:44:25.780

请参阅 _controlfp() 或 _control87() 的文档。这些是更改 fpu 标志的功能。例如在 MSDN 上： [https ://msdn.microsoft.com/en-us/library/c9676k6h.aspx](https://msdn.microsoft.com/en-us/library/c9676k6h.aspx)

# ios - MKMapView 不滚动也不缩放

> ID：13267164
> 
> 赞同：0
> 
> 时间：2012-11-07T09:51:32.283
> 
> 标签：ios, scroll, mkmapview, zooming, mkmapviewdelegate

我有一个 MapView 并标记了用户的位置和附近还有其他关于旅游景点的各种类型的 annotationView。我希望 MapView 可以滚动和缩放以查看城市的所有 annotationView，但是当我移动 MapView 时立即返回居中拍摄，看起来很丑。

这是 MapViewController.m 中的代码

```
 - (void)viewDidLoad{

        //.....

   self.mapView.zoomEnabled=YES;
   self.mapView.scrollEnabled = YES;

      //......
  }

 - (void) locationManager:(CLLocationManager *) manager
 didUpdateToLocation:(CLLocation *) newLocation
        fromLocation:(CLLocation *) oldLocation {

      //......
  self.coordinate = CLLocationCoordinate2DMake(self.latitudine, self.longitudine);
  CLLocationCoordinate2D min = CLLocationCoordinate2DMake(self.coordinate.latitude -0.005,
       self.coordinate.longitude-0.005);

 CLLocationCoordinate2D max = CLLocationCoordinate2DMake(self.coordinate.latitude+0.005,
       self.coordinate.longitude+0.005);

 CLLocationCoordinate2D center = CLLocationCoordinate2DMake((max.latitude + min.latitude)
       / 2.0, (max.longitude + min.longitude) / 2.0);
 MKCoordinateSpan span = MKCoordinateSpanMake(max.latitude - min.latitude, max.longitude -
      min.longitude);
 MKCoordinateRegion region = MKCoordinateRegionMake(center, span);

 self.mapView.region= region;

  [mapView setRegion:region animated:TRUE];

     //......

 } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T11:13:09.350

我认为这是因为更新不断被调用，所以它会一直以你的 mapview setregion 位居中屏幕。

当您声明您的 locationManager 时，请确保设置灵敏度。

```
self.locationManager.distanceFilter = 10.0f; 
```

这只会在更改超过 10 米时调用更新。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T19:53:27.693

每次设备注意到它已更改位置时，您都将地图缩放到 self.latitudine 和 self.longitudine。在您显示的代码中，您没有将这些值设置为任何新值。你的意思是放大`newLocation`坐标吗？

# android - 截断 AppWidget 布局上的 TextView

> ID：13267169
> 
> 赞同：1
> 
> 时间：2012-11-07T09:51:42.867
> 
> 标签：android, textview, truncate, multiline, android-appwidget

人们！

好吧，在谷歌搜索了将近两天没有结果之后，我决定在这里问。（这是我的第一个问题。）

我正在为 Android 创建一个报价小部件（每次都显示一个随机报价），因此它有两个 TextView 和一个 ImageButton 来获取新的随机报价。第一个 TextView 显示引用文本，第二个显示引用的作者。而且，当用户单击小部件时，它会调用一个全屏显示报价的 Activity，如果需要，还带有滚动条，等等。

问题是引用的文字有时很长，所以我想省略它。但由于椭圆形不能使用超过 2 行......我正在寻找想法。

我不知道是否有必要，但这是布局代码。

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/laySmall"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:layout_margin="@dimen/widget_margin"
    android:background="@drawable/widgetback" >
    <ImageButton
        android:id="@+id/ibtNext"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentBottom="true"
        android:layout_alignParentRight="true"
        android:layout_marginBottom="4dp"
        android:layout_marginLeft="4dp"
        android:layout_marginRight="4dp"
        android:background="@null"
        android:contentDescription="@string/app_name"
        android:src="@drawable/seta" />
    <TextView
        android:id="@+id/txtWdgQuote"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_above="@+id/ibtNext"
        android:layout_alignParentLeft="true"
        android:layout_alignParentRight="true"
        android:layout_alignParentTop="true"
        android:layout_marginBottom="8dp"
        android:layout_marginLeft="4dp"
        android:layout_marginRight="4dp"
        android:layout_marginTop="4dp"
        android:textAppearance="?android:attr/textAppearanceSmall"
        android:textColor="#000000"
        android:textStyle="italic"
        android:typeface="serif"
        android:maxLines="3" />
    <TextView
        android:id="@+id/txtWdgAuthor"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_alignParentBottom="true"
        android:layout_alignParentLeft="true"
        android:layout_alignParentRight="true"
        android:layout_marginBottom="4dp"
        android:layout_marginLeft="4dp"
        android:layout_marginRight="4dp"
        android:textAppearance="?android:attr/textAppearanceSmall"
        android:textColor="#000000"
        android:textStyle="bold" />
</RelativeLayout> 
```

基本上，我在这个项目中有 3 个 AppWidget，显示几乎相同的东西。所有的变化都是大小和字体大小。

所以...我的一个想法是使用自定义 TextView。但是在 AppWidget 中，没办法。：/

另一个想法是做这样的事情：

```
if (quoteText.length() > something) {
    quoteText = quoteText.substring(0, something) + "\"[...]"
} 
```

这个解决方案的问题是换行符在哪里，因为它可以改变可以显示的字符串的大小。例如，假设一个带有小单词的字符串：线条将在边框旁边断开。同时，具有较大单词的字符串换行符将远离边界。

所以...我不知道我在做什么。请问有什么想法吗？

谢谢！

（我遇到了 android:layout_margin 的问题，所以它可以小一点，但我还没有时间处理这个问题。

# android - 以编程方式添加现有 XML 布局

> ID：13267175
> 
> 赞同：1
> 
> 时间：2012-11-07T09:51:59.620
> 
> 标签：android, android-layout, android-xml

我将以编程方式创建一个带有一些文本和图像视图的新 RelativeLayout，然后将其添加到父布局中。问题：是否可以在 XML 中定义该布局，然后以编程方式将其添加到父级？会是更快的方法..

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-07T09:53:54.170

使用通货膨胀：

```
final LayoutInflater lyInflaterForPanel = (LayoutInflater) mContext
                .getSystemService(Context.LAYOUT_INFLATER_SERVICE);
LinearLayout lLayoutPanel = (LinearLayout) lyInflaterForPanel.inflate(
                R.layout.my_row, null); 
```

这对我有用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T09:53:50.980

是的，使用[LayoutInflater](http://developer.android.com/reference/android/view/LayoutInflater.html)您将膨胀您的 XML，然后将其添加到父级..

检查，[Android 中的 LayoutInflater 是做什么的？](https://stackoverflow.com/questions/3477422/what-does-layout-inflater-in-android-do)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T09:54:26.067

为此使用 LayoutInflater 类。它会将您的布局转换为视图并将其添加到父级。

# java - 为时间 JComboBoxes 扩展 JXDatePicker

> ID：13267177
> 
> 赞同：0
> 
> 时间：2012-11-07T09:52:17.187
> 
> 标签：java, swing, datepicker, actionlistener, swingx

所以我试图扩展 JXDatePicker 以包含一个 Time 元素。我已经用几个标签和几个下拉框 (JComboBox) 替换了 JXDatePicker 窗格底部的链接面板，一个用于小时，一个用于分钟。但是，在单击侦听器关闭窗格之前，我似乎无法从任何一个框中选择任何内容，就好像我已经选择了日期一样。我不想完全覆盖此侦听器，因为我想在选择日期时保持它关闭，但我希望能够在我这样做之前填充组合框。

有谁知道我怎样才能阻止这种情况发生？

提前致谢。

# django - 删除多对多关系

> ID：13267185
> 
> 赞同：1
> 
> 时间：2012-11-07T09:52:46.053
> 
> 标签：django, django-models

你如何删除 django 中的 ManyToMany 关系。你将如何删除 m2m 然后删除照片 这是我下面的模型 谢谢

```
class Picture(models.Model):
    owner = models.ForeignKey(User,blank = True)
    caption = models.CharField(max_length=150, blank=True, null=True)
    image = ImageField(upload_to='images/',blank = True, null = True)

class Land(Properies):
    photo = models.ManyToManyField(Picture,blank=True,related_name='Land_Pictures',null = True) 
```

我试图以这种方式删除它

```
checked_list = []
start = 1            
land_photos = sorted(list(land.photo.select_related()),reverse =True)
while start < 8:
    photo = 'photo%s' % start
    checked = form.cleaned_data[photo]
    if checked != None:
        checked_list.append(land_photos[start - 1])
        start += 1            
for a_foto in checked_list:
     land.photo.remove(a_foto)
     try:
         a_foto.remove_all_file()
         a_foto.delete()
     except OSError:
         pass 
```

然后我收到这样的错误

```
Exception Type:     AssertionError
Exception Value:    
Picture object can't be deleted because its id attribute is set to None. 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T09:58:40.957

[文档](https://docs.djangoproject.com/en/dev/topics/db/examples/many_to_many/)：

```
>>> land.photo.remove(some_picture) 
```

或者反过来，使用提供的`related_name`参数：

```
>>> picture.Land_Pictures.remove(some_land) 
```

默认情况下，如果没有`related_name`，它将是：

```
>>> picture.land_set.remove(some_land) 
```

# expressionengine - 没有可重复使用的片段？

> ID：13267186
> 
> 赞同：7
> 
> 时间：2012-11-07T09:53:01.920
> 
> 标签：expressionengine

我正在使用片段将长模板分解成更易于管理的块，这是不好的做法，我应该只将片段用于可重用代码吗？

谢谢李

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-07T14:25:13.797

这取决于您在模板中执行的操作。在较小的块中重用模板的一部分确实是一个很好的做法，但由于潜在的性能问题，建议避免使用嵌入。只要您不必将变量传递给子模板，片段就很酷。

如果您的模板尚未完全编码，也许对您来说一个好方法是使用“模板部分”技术。请参阅下面的以下教程。

*   [使用 Stash 的模板部分](http://eeinsider.com/articles/template-partials-using-stash/)
*   [为 ExpressionEngine 创建模板“部分”的本土插件](http://johndwells.com/blog/homegrown-plugin-to-create-template-partials-for-expressionengine)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-07T10:36:04.770

您应该考虑使用附加组件，我使用低变量或共和国变量（免费），您可以在其中存储片段并提前或延迟解析它们。它们也可以保存为方便的文件。

[您可以在http://devot-ee.com](http://devot-ee.com)上找到它们

# php - PHP SEO优化地址与物理页面地址冲突

> ID：13267188
> 
> 赞同：2
> 
> 时间：2012-11-07T09:53:06.030
> 
> 标签：php, .htaccess, seo

我有一个静态网站，我打算转向 php。我将使用 php 来加载 navigation.htm 和主要内容页面，然后组合成一个 html 文件。

1.  实际页面在这里：[http ://abubakar.zxq.net/html/0007Horizo​​ntalAxisWindTurbineMadeWithPVCPipe.htm](http://abubakar.zxq.net/html/0007HorizontalAxisWindTurbineMadeWithPVCPipe.htm)

2.  如何通过 php 访问： [http ://abubakar.zxq.net/index.php?page=0007Horizo​​ntalAxisWindTurbineMadeWithPVCPipe.htm](http://abubakar.zxq.net/index.php?page=0007HorizontalAxisWindTurbineMadeWithPVCPipe.htm)

我希望页面在 1 中使用 URL 寻址时看起来像 2。需要保持已共享的 URL 保持工作。

这是我定义httaccess的方式：

```
RewriteEngine On
RewriteBase /
RewriteRule ^html/([a-zA-Z0-9_-]+)$ index.php?page=$1 
```

请告知是否可以以目前的形式进行？我有一个解决方案，应该将旧文件转移到新文件夹和设计 php 以便它在旧链接上工作。提前感谢您的帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T18:57:28.483

您编写的正则表达式与第一个 URL 不匹配。

您需要添加点字符（因为 URL 以“.htm”结尾），试试这个：

```
RewriteRule ^html/([a-zA-Z0-9_\.-]+)$ index.php?page=$1 
```

# asp.net-mvc - 使用 Scripts.Render 时 MVC4 捆绑速度慢

> ID：13267189
> 
> 赞同：8
> 
> 时间：2012-11-07T09:53:09.313
> 
> 标签：asp.net-mvc, asp.net-mvc-4, bundle, bundling-and-minification

在提供呈现捆绑脚本的简单页面时，我的 asp.net MVC4 Web 项目运行非常缓慢。但是，当我在页面上使用带有虚拟包路径的源属性的“硬编码”脚本标记时，性能会好得多：

```
@Scripts.Render("~/bundles/scripts")                            ~ 4 seconds 
```

对比

```
<script src='@Scripts.Url("~/bundles/scripts")'></script>       < 1 second 
```

我`BundleConfig.cs`的没有特殊配置，这与它看起来完全一样：

```
bundles.Add(new ScriptBundle("~/bundles/scripts").Include(
    "~/Scripts/jquery-1.7.2.min.js",
    "~/Scripts/jquery.validate.min.js",
    "~/Scripts/jquery.validate.unobtrusive.js",
    "~/Scripts/jquery-ui-1.9.0.custom.min.js",
    "~/Scripts/bootstrap.min.js",
    "~/Scripts/bootstrap-modal.js",
    "~/Scripts/bootstrap-dropdown.js",
    "~/Scripts/bootstrap-tooltip.js",
    "~/Scripts/bootstrap-typeahead.js",
    "~/Scripts/bootstrap-transition.js",
    "~/Scripts/bootstrap-popover.js")); 
```

我`web.config`什至被配置为在调试中进行优化，但我尝试在发布模式下运行并且仍然得到相同的结果：

```
<compilation optimizeCompilations="true" debug="false" targetFramework="4.0" /> 
```

**任何想法为什么`Scripts.Render`这么慢？**

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-07T17:50:09.017

问题出在我安装的过时软件包上。一个简单`Update-Package`的包管理器控制台，我从

```
<package id="Microsoft.AspNet.Web.Optimization"
    version="1.0.0-beta2" targetFramework="net40" /> 
```

到

```
<package id="Microsoft.AspNet.Web.Optimization"
    version="1.0.0" targetFramework="net40" /> 
```

现在`Scripts.Render()`表现好多了:-)

# php - 为 RFC 4122 版本 1 UUID 格式化 mac 地址节点的正确方法是什么？

> ID：13267191
> 
> 赞同：0
> 
> 时间：2012-11-07T09:53:21.183
> 
> 标签：php, uuid

我正在尝试根据仅使用 PHP[的 RFC 4122 第 8 页上定义的 MAC 地址创建版本 1 UUID。](http://www.ietf.org/rfc/rfc4122.txt)该站点上的[另一个答案推荐](https://stackoverflow.com/a/9321579/594137)[了这种](https://github.com/fredriklindberg/class.uuid.php)似乎符合要求的实现。

我正在测试这个类的用法，如下所示：

```
<?php
    echo UUID::generate(UUID::UUID_TIME, UUID::FMT_STRING, '000000000000');
?> 
```

但我得到以下输出：

```
6c10f140-28c0-11e2-a210-303030303030 
```

我对标准的理解是节点（最后一部分）应该是mac地址一字不差。查看它似乎使用[的源代码](https://github.com/fredriklindberg/class.uuid.php/blob/master/class.uuid.php#L250)[`ord()`](http://php.net/manual/en/function.ord.php)，它看起来像是获取了为生成节点而不是使用地址本身而提供的字符串中字符的 ASCII 值？

我对规范的理解是错误的还是代码错误？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T10:03:57.067

您需要以二进制形式传递它：

```
echo UUID::generate(UUID::UUID_TIME, UUID::FMT_STRING, "\x00\x00\x00\x00\x00\x00");
//bfd4d7d0-28c2-11e2-b87b-000000000000 
```

这就是循环进行 6 次的原因，6 字节 = 48 位。

# php - 从一个表中提取数据，修改数据，然后将其插入另外两个表中？

> ID：13267193
> 
> 赞同：0
> 
> 时间：2012-11-07T09:53:20.780
> 
> 标签：php, mysql, updates

我试图弄清楚如何修改我从一个表复制到另外两个表的数据。

目前我让它工作，所以我的表单提交它从“价格”中提取数据并将其放入“价格二”和“价格三”中。

但是，我需要事先修改数据，使价格降低 10%，价格降低 20%。

```
<?php
$priceid = $_POST['priceid'] ; 
$name = $_POST['productname'] ;
$weight = $_POST['productweight'];
$price = $_POST['productprice'];
if(isset($_POST['updateprices'])) { 

for($i=0;$i<$count;$i++){

$sql1= mysqli_query($myConnection, "UPDATE pricestwo SET productname='$name[$i]', productweight='$weight[$i]', productprice='$pricetwo[$i]' WHERE priceid='$priceid[$i]'");

$sql2= mysqli_query($myConnection, "UPDATE pricesthree SET productname='$name[$i]', productweight='$weight[$i]', productprice='$price[$i]' WHERE priceid='$priceid[$i]'");
}
echo "<meta http-equiv=\"refresh\" content=\"0;URL=edit_product_prices.php\">";
} 
?> 
```

这目前仅用于复制数据，我尝试过类似的方法：

```
 $pricetwo = $price - ($price * 0.15); 
```

修改数据，但是传输了多行，所以这只是返回一个 0.00 值。

有人对如何做到这一点有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T10:00:27.027

为一组查询编写一个存储过程，并在一个数据库调用中执行整个过程。它可以编写更好的代码并提高性能。

顺便说一句，检查您是否尝试修改变量而不是数组元素。

# android - android NDK，在另一个 android NDK 项目中使用编译的 .so 库中的函数

> ID：13267208
> 
> 赞同：4
> 
> 时间：2012-11-07T09:54:07.313
> 
> 标签：android, android-ndk, shared-libraries

我的问题是，我不知道如何从 .so 库中调用函数。我已经成功编译了 NDK 库 spatialite-android 并且在 android Java 应用程序中使用它没有问题。但我不知道如何在另一个 NDK 项目中使用它。我已将其添加到 Android.mk 文件中：

```
APP_ABI := armeabi armeabi-v7a
APP_PLATFORM := android-8

LOCAL_PATH := $(call my-dir)

include $(CLEAR_VARS)

LOCAL_MODULE    := UsingSpatialite
LOCAL_SRC_FILES := UsingSpatialite.c

LOCAL_LDLIBS := -llog -lGLESv1_CM

include $(BUILD_SHARED_LIBRARY)

LOCAL_PATH := /home/spatialite/jni
include $(CLEAR_VARS)
LOCAL_MODULE := libjsqlite
LOCAL_SRC_FILES := libjsqlite/libjsqlite.so
include $(PREBUILT_SHARED_LIBRARY) 
```

并且库 libjsqlite.so(android-spatialite) 已成功添加到：libs/armeabi/libjsqlite.so 从这一点上，我不知道如何使用该库。如何调用该库中的任何函数？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T14:29:36.427

根据我从问题中了解到的情况，您已经编译了一个 so 文件，并且它运行让我们说项目 A 及其工作。现在，您想在 Project B 中使用它。您不能直接使用项目 B 中的编译库。问题是代码中的函数签名。对于不同的包名，对应的函数签名会发生变化。

```
JNIEXPORT jint JNICALL Java_com_your_packageA_class_method(JNIEnv *d, jobject e, jstring f)
{
//some action

} 
```

您需要一个包含类的 jar，以使用您编译的 so 文件调用本机函数，以使其可供 Project B 访问。

这就是它的工作方式 Project B 将调用 jar ，这将调用已编译的 so 文件并将结果返回给 A 。

# extjs - Extjs 4 GridPanel：如何通过 id 获取元素的行索引（位置）

> ID：13267209
> 
> 赞同：7
> 
> 时间：2012-11-07T09:54:08.673
> 
> 标签：extjs, grid, extjs4

如何通过 ExtJS GridPanel 中的 id 获取行的行索引（位置）？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-11-11T13:16:49.130

使用[store.indexOf](http://docs.sencha.com/ext-js/4-1/#!/api/Ext.data.Store-method-indexOf)方法：

```
var record = store.getNodeById(id),
    rowIndex = store.indexOf(record); 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-10-31T10:47:23.353

[`Ext.data.Store.indexOfId`](http://docs.sencha.com/extjs/4.2.1/#!/api/Ext.data.Store-method-indexOfId)

```
var rowIndex = store.indexOfId(id); 
```

# java - 是否可以检索任务队列列表

> ID：13267214
> 
> 赞同：0
> 
> 时间：2012-11-07T09:54:18.790
> 
> 标签：java, google-app-engine

我想知道是否可以检索已定义任务队列的列表。

我想为每个队列创建一个显示 QueueStatistics (https://developers.google.com/appengine/docs/java/javadoc/com/google/appengine/api/taskqueue/QueueStatistics.html) 的自定义页面。

# oracle - 如何在两个 oracle 实例之间创建数据库链接

> ID：13267218
> 
> 赞同：23
> 
> 时间：2012-11-07T09:54:28.093
> 
> 标签：oracle, dblink

如何在两个 Oracle 实例之间创建数据库链接。假设 A 和 B 是两个实例。我想从实例 A 访问实例 B 中的数据。

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2018-07-12T12:44:52.427

如果您想从实例 A 访问实例 B 中的数据。那么这就是查询，您可以编辑各自的凭证。

```
CREATE DATABASE LINK dblink_passport
CONNECT TO xxusernamexx IDENTIFIED BY xxpasswordxx
USING
'(DESCRIPTION=
(ADDRESS=
(PROTOCOL=TCP)
(HOST=xxipaddrxx / xxhostxx )
(PORT=xxportxx))
(CONNECT_DATA=
(SID=xxsidxx)))'; 
```

执行此查询访问表后

```
SELECT * FROM tablename@dblink_passport; 
```

您可以执行任何操作 DML、DDL、DQL

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2013-11-21T14:16:32.993

作为一个简单的例子：

```
创建数据库链接_dblink_name_
  连接到_用户名_
    由_passwd_识别
      使用“$_ORACLE_SID_”

```

更多信息： [http ://docs.oracle.com/cd/B19306_01/server.102/b14200/statements_5005.htm](http://docs.oracle.com/cd/B19306_01/server.102/b14200/statements_5005.htm)

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2017-03-16T14:14:06.340

**创建数据库链接**

```
CREATE DATABASE LINK dblinkname
CONNECT TO $usename
IDENTIFIED BY $password
USING '$sid'; 
```

（注意： sid 在上面的单引号之间传递。）

**上述数据库链接的示例查询**

```
select * from tableA@dblinkname;

insert into tableA(select * from tableA@dblinkname); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2017-01-24T09:23:49.057

创建 DB 链接后，如果这两个实例存在于两个不同的数据库中，那么您需要在 A 机器上设置一个 TNS 条目，以便它解析 B。[查看此处](http://msutic.blogspot.com/2009/07/how-to-create-database-link-without.html)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2021-05-04T15:11:51.863

有几种方法可以创建数据库链接：

1.  使用 tnsnames：

步骤1：

将目标数据库服务详细信息添加到源的 tns 名称中：

```
 <addressname> =
  (DESCRIPTION =
    (ADDRESS_LIST =
      (ADDRESS = (PROTOCOL = TCP)(Host = <hostname of target db>)(Port = <port of target db listener>))
    )
  (CONNECT_DATA =
    (SERVICE_NAME = <service name of target db>)
  )
 ) 
```

第2步：

数据库链接可以是公共的或私有的。公共数据库链接是任何用户都可以使用的链接。私有数据库链接只能由数据库链接的所有者使用。

以下是创建私有和公共数据库链接的命令：

公共数据库链接

```
CREATE PUBLIC DATABASE LINK <dbklink name>
CONNECT TO <target db userschemaname>
IDENTIFIED BY <target db userschemapassword>
USING '<addressname defined in tns>'; 
```

私人数据库链接

连接到我们需要私有数据库链接的用户模式：

```
CREATE  DATABASE LINK <dbklink name>
CONNECT TO <target db userschemaname>
IDENTIFIED BY <target db userschemapassword>
USING '<addressname defined in tns>'; 
```

2.  使用完整的连接字符串。

```
CREATE DATABASE LINK dblink 
    CONNECT TO <target db userschemaname> IDENTIFIED BY <target db userschemapassword>
    USING '(DESCRIPTION=
                (ADDRESS=(PROTOCOL=TCP)(HOST=<hostname of target db>)(PORT=port of target db listener))
                (CONNECT_DATA=(SERVICE_NAME=<service name of target db>))
            )'; 
```

cdb 配置步骤相同

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2018-10-03T06:39:21.923

创建数据库链接 NAME 使用 'SID' 连接到由 PASSWORD 标识的 USERNAME；

指定 SHARED 以使用单个网络连接来创建可以在多个用户之间共享的公共数据库链接。如果指定 SHARED，则还必须指定 dblink_authentication 子句。

指定 PUBLIC 以创建可供所有用户使用的公共数据库链接。如果省略此子句，则数据库链接是私有的并且仅供您使用。

# algorithm - 一种寻找序列排列的算法

> ID：13267225
> 
> 赞同：0
> 
> 时间：2012-11-07T09:54:53.913
> 
> 标签：algorithm

我要问一个简单的问题：如何在具有最低复杂性的数字序列（有重复）中找到一个（并且只有一个）排列？

假设我们有序列：`1 1 2 3 4`。然后我们置换 2 和 3，所以我们有：`1 1 3 2 4`。我怎样才能发现 2 和 3 已被置换？最糟糕的解决方案是生成所有可能性并将每个可能性与原始排列序列进行比较，但我需要一些快速的东西......

谢谢您的回答。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T10:05:55.530

这样做的问题是，您的问题将有多种解决方案，而没有一些限制，例如顺序找到顺序。

我要看的是首先测试序列中是否仍然存在相同的值，如果是这样，只需一步一步完成，直到找到不匹配，然后找到另一个值的第一次出现的位置并将其标记为排列。现在继续寻找下一个修改等等……

如果您只想知道它发生了多大变化，我会看看 levenshtein 算法。该算法的基础甚至可以为您提供自定义算法所需的内容或启发其他方法。

这很快，但它不会告诉您哪些项目已更改。

我所知道的唯一完整的解决方案是记录每个更改，这样您就可以查看更改的历史以了解完美的答案。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T10:04:21.250

```
function findswaps:
    linkedlist old <- store old string in linkedlist
    linkedlist new <- store new string in linkedlist

    compare elements one by one:
        if same
             next iteration until exhausted
        else
             remember old item
             iterate through future `new` elements one by one:
                 if old item is found
                     report its position in new list
                 else
                     error 
```

我的谦虚尝试如果有错请纠正我，以便我可以提供更好的帮助。我猜数据是无序的，所以它不能比线性快吗？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T11:41:05.080

如果原始数组和派生数组之间只有 1 次交换，您可以在 O(n) 处尝试这样的操作，数组长度为 n：

```
int count = 0;
int[] mismatches;

foreach index in array {
    if original[index] != derived[index] {
        if count == 2 {
            fail
        }
        mismatches[count++] = index;
    }
}

if count == 2 and
   original[mismatches[0]] == derived[mismatches[1]] and
       original[mismatches[1]] == derived[mismatches[0]] {

    succeed
}

fail 
```

请注意，当阵列之间没有交换任何内容时，这会报告失败。

# java - 同时限制一个用户的页面访问权限

> ID：13267228
> 
> 赞同：0
> 
> 时间：2012-11-07T09:55:01.120
> 
> 标签：java, php, jquery, ajax

我有两个用户：X 和 Y。还有一个页面：页面 Z。要访问页面 Z，我有一个链接。

如果页面 Z 已经在用户 X 浏览器中打开，我希望禁用该链接并拒绝用户 Y 访问该页面。

*   我怎样才能做到这一点？
*   哪种语言最适合这样做（jQuery、Php 等）？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T10:03:24.693

您可以在服务器端创建一个布尔变量并对其进行跟踪。当用户如果页面 Z 被某人访问然后将此变量设置为 true 并且当其他人试图打开该链接时然后检查布尔变量是否为 true 然后阻止他们重定向到该页面如果它是 false 然后将他们带到页面 Z . 一旦用户离开页面，然后将布尔变量设置为 false。

**这可能是实现它的一种方法，但我仍然认为它不是那么直截了当。在实施时您将面临许多障碍。**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T10:35:25.420

只是想为这样的事情想出一个快速的实施/解决方法：

### 你需要什么

1.  系统范围的缓存，（APC 或 SESSIONS**不会这样做**）。您需要[memcached](http://en.wikipedia.org/wiki/Memcached)或[redis](http://en.wikipedia.org/wiki/Redis)之类的东西，以便多个线程可以访问同一个缓存。

2.  或者我猜只是一个数据库+ crontabs（但首选缓存）

3.  PHP/服务器端脚本

4.  启用 Javascript 的客户端

### 战略

1.  Javascript 每 X (TTL) 秒发出一次 HTTP 请求。此请求将键“占用”（在您选择的缓存中）设置为具有 X+5 秒缓存 ttl 的客户端 IP。（如果您选择 DB，您将需要一个 cronjob 每 X 秒重置一次条目）

2.  如果用户尝试访问该页面并且 'key' !== 他们的 IP 地址，则拒绝访问。

### 注意事项

1.  仅允许用户在启用 JS 时进行编辑，否则显示警告

2.  信任您的用户，他们可以轻松绕过这一点。

### 概括

基本上描述了使用 JS + 缓存的人工保持活动会话，您可以根据需要将 TTL 设置为任意长或短，具体取决于页面将被编辑的活跃程度。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T19:24:46.120

不要听任何这些答案。

你可以这样做（虽然确实有点尴尬）

你需要 PHP javascript（使用 j-query）和 mysql。您将要创建一个 php 脚本，该脚本为第一个用户提供可变会话，并且每隔几秒钟左右，您的 ajax 将继续向 db 发送带有 php time(); 的脚本。当第二个用户进入 php 页面时，会在 4 秒内询问 db 是否有任何刷新，这意味着如果第一个用户仍然登录，则从 db 时间延迟不会超过 3 秒。如果没有，则表示用户处于空闲状态或已离开页面，您可以允许访问。要使用 php 重定向，您可以使用 header 函数。如果您对如何执行此操作感兴趣，请升级我的回复和回复，因为它很长，我不想无缘无故地写它。

```
this is the page you want people to go on:
 $times = time(); 
 $num = $times + 10000;
mysql_connect("localhost", "dbname", "password") or
die("Could not connect: " . mysql_error());
mysql_select_db("dbname");
$result = mysql_query("SELECT  FROM $tablename WHERE areloggedin > $num);
$num=mysql_numrows($result);
if( $num < 0 ){
header('Location: http://redirectpage.html'); 
```

}别的{

```
 $times = time(); 
     $con = mysql_connect("localhost","username","password");
                if (!$con)
                {
                die('Could not connect: ' . mysql_error());
                 } 
                mysql_select_db("dbname", $con);

                $qry = mysql_query("UPDATE
                                     $tbalename SET      
                                    `areloggedin`= '$times'
                WHERE id = $variable_seession_foruser ");

                $result = @mysql_query($qry); 
```

}

?> (你的html)

函数 ok(){ $.get("php/foo.php" , 函数(数据) { }); setIntreval(ok,3000);

//单独的名为 foo.php 的 php 文件

# javascript - 如何在 jQuery mobile 中替换按钮文本

> ID：13267230
> 
> 赞同：1
> 
> 时间：2012-11-07T09:55:06.923
> 
> 标签：javascript, jquery, html

以下是我的应用程序代码：

```
<li class="ui-block-e">
  <a href="#login" data-transition="slide" data-role="button" data-theme="b" data-mini="true" id="UserLoginButtonP5" data-corners="false" data-shadow="false" data-iconshadow="true" data-wrapperels="span" class="ui-btn ui-btn-inline ui-mini ui-btn-up-b" data-inline="true">
    <span class="ui-btn-inner">
      <span class="ui-btn-text">Login</span>
    </span>
  </a>
</li> 
```

jQuery替换代码：

```
$("#UserLoginButtonP1").html("<span class='ui-btn-inner'><span class='ui-btn-text'>Logout</span></span>"); 
```

如何将登录替换为注销文本？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T10:07:32.783

改用`on()`函数

```
$(document)​​​​​​.on('click', '"#UserLoginButtonP5"',function(){
   $(this).find('span').find('span').text("Logout");
});​ 
```

[演示](http://jsfiddle.net/VFrSK/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T11:08:40.347

```
 var test = $("#UserLoginButtonP5").html();
    test = test.replace('Login', 'Logout');
    $("#UserLoginButtonP5").html(test); 
```

[jsfiddle](http://jsfiddle.net/BgTcM/)上的工作演示

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T10:01:49.813

试试这个，

如果要替换按钮文本，单击按钮时意味着下面给出的代码将起作用。

```
$("#btn1")​​​​​​.click(function(){
   $(this).val("Logout");
});​ 
```

[现场演示](http://jsfiddle.net/smanimani/9kTjH/)

在您的场景中，您想更改 的文本`span`，因此您可以使用`span` *css 类名称*作为点击事件，例如，

```
$(".ui-btn-text").bind('click',function(){
    $(this).html("Logout");
});​ 
```

[现场演示](http://jsfiddle.net/smanimani/9kTjH/1/)

（或者）

您想在`a`点击事件中执行此操作，下面给出的代码将起作用，

```
$("#UserLoginButtonP5").bind('click',function(){
    $("#UserLoginButtonP5 .ui-btn-text").html("Logout");
    //$("#UserLoginButtonP5 .ui-btn-text").text("Logout"); ('text' will be work also)
});​ 
```

[现场演示](http://jsfiddle.net/smanimani/9kTjH/3/)

# c++ - 奇怪的 excel 文件的 ADO OpenSchema(adSchemaColumns) 失败

> ID：13267235
> 
> 赞同：0
> 
> 时间：2012-11-07T09:55:15.640
> 
> 标签：c++, excel, ado

我有使用 C++ 和 ADO 从 MS Excel 文件中读取列标题的代码。我从 OpenSchema(adSchemaColumns) 命令失败的人那里得到了这个 Excel 文件（错误是：0x800A0CB3：“对象或提供程序无法执行请求的操作”）。为了缩小问题范围，我从文件中删除了所有数据并删除了除 A 列之外的所有列。如果我也删除了 A 列，则 OpenSchema 成功。否则，它会失败。我使用 excel CELL 函数将 A 列与其他列进行了比较：格式、保护、内容：但没有区别。

在任何情况下，OpenSchema(adSchemaTables) 都不会失败。

这是我使用的 C++ 代码的摘录，用 VS2010 构建：

```
#import "C:\Program Files\Common Files\System\ADO\msado28.tlb" no_namespace rename("EOF", "adoEOF") rename("BOF", "adoBOF")

_ConnectionPtr pCon;
pCon.CreateInstance(__uuidof(Connection))
pCon->Open(connStr, "", "", NULL)
_RecordsetPtr pSchema = NULL;
pSchema = pCon->OpenSchema(adSchemaColumns); 
```

这是错误的 excel 文件的链接： [workbook.xls](https://docs.google.com/open?id=0B2BtmmWMZ5T9TUxFWS13T0tWREk)

我使用 MS Excel 2010。

重现：在未更改的 workbook.xls 上运行代码 - 失败。删除列 A - 成功。

欢迎任何想法，

谢谢

# windows - 如何通过命令提示符禁用和启用 USB 端口？

> ID：13267236
> 
> 赞同：5
> 
> 时间：2012-11-07T09:55:21.353
> 
> 标签：windows, batch-file, vbscript

如何通过命令提示符禁用和启用 USB 端口？或使用批处理脚本？还是在 Windows 7 中使用 vb 脚本？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-11-07T10:13:35.540

您可以使用批处理，它为您提供了几个选项。您可以编辑注册表项以禁止使用 USB 设备

```
reg add HKLM\SYSTEM\CurrentControlSet\Services\UsbStor /v "Start" /t REG_DWORD /d "4" /f 
```

启用将值更改为`3`.

或者您可以拒绝访问文件`Usbstor.pnf`并`Usbstor.inf`

```
cacls %windir%\Inf\Usbstor.pnf /d user
cacls %windir%\Inf\Usbstor.inf /d user 
```

`user`您要拒绝访问的用户帐户在哪里。

启用使用

```
cacls %windir%\Inf\Usbstor.pnf /p user:R
cacls %windir%\Inf\Usbstor.inf /p user:R 
```

这两个命令都需要管理员权限。

希望这可以帮助

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-07T12:34:30.530

You can also have a look at `devcon` command. Available freely on microsoft site, for win7+ windows.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2017-03-03T08:44:32.400

我有同样的问题，我使用的解决方案可以充分利用前两个答案：

1º-我们禁用允许我们检测新的外部存储设备的功能：

```
reg add HKLM\SYSTEM\CurrentControlSet\Services\UsbStor /v "Start" /t REG_DWORD /d "4" /f 
```

2º-我们删除了安装在 PC 上的所有 USB 设备的驱动程序（这也将消除使用键盘和鼠标的可能性，但只是暂时的）：

```
devcon.exe remove *USB* 
```

3º-我们重新扫描连接的USB设备，让Windows自动安装非外部存储设备的驱动程序（如鼠标、键盘……），从而获得想要的结果：

```
devcon.exe rescan 
```

4º- 如果我们想重新允许在我们的 PC 中使用外部存储设备，我们必须使用命令：

```
reg add HKLM\SYSTEM\CurrentControlSet\Services\UsbStor /v "Start" /t REG_DWORD /d "3" /f 
```

PD：每个命令都需要管理员权限

# javascript - 这段将数据插入 Web SQL 数据库的 Javascript 代码有什么问题？

> ID：13267238
> 
> 赞同：1
> 
> 时间：2012-11-07T09:55:32.343
> 
> 标签：javascript, html, web-sql

我正在尝试创建一个简单的页面，该页面采用二进制文件并将值插入 Web SQL 数据库。这是我用来插入数据的函数：

```
function bin2dbfunc()
{
    var result, n, aByte, byteStr;
    var i=0;
    var sql = new Array();

    result = fr.result;  //Input file

    for (n = 0; n < result.length; ++n) 
    {
        aByte = result.charCodeAt(n);
        byteStr = aByte.toString(16);
        if (byteStr.length < 2)
        {
            byteStr = "0" + byteStr;
        } //Format to add leading 0 for hex values

        //Looping through taking each byte read from file and adding to array

        //sql[i] = aByte;   //Value
        sql[i] = byteStr;   //String

        //When completed one row of database run single SQL insert statement with array contents
        if(i==15)
        {
            i=0;  //Clear counter for next row
            db.transaction(function (tx)
            {
                tx.executeSql('INSERT INTO binary_data VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)', [sql[0], sql[1], sql[2], sql[3], sql[4], sql[5], sql[6], sql[7], sql[8], sql[9], sql[10], sql[11], sql[12], sql[13], sql[14], sql[15]]);
            }, function (tx, err) {
                document.getElementById("result3").innerHTML += 'ERROR ';  //Display error message if SQL not run successfully
            });
        }
        else
        {
            i++;  //Otherwise increment counter
        }
    }
} 
```

我已经剥离了代码以删除我的所有调试消息，但基本上代码似乎可以运行。我正在使用一个包含 6 行数据的二进制文件，但是代码将最后一行数据插入数据库 6 次。谁能发现我哪里出错了？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T10:06:44.097

在 JavaScript 闭包中，变量是通过引用而不是通过值来捕获的（对于诸如数组之类的对象是正确的，但对于原始值也是如此）；这意味着传递给的函数将使用它们运行时`db.transaction`的当前值。`sql`在您的情况下，它们似乎是异步运行的，因此使用了`sql`一次`bin2dbfunc`返回的值（这解释了为什么您最终得到最后一行数据）。

您必须复制 的值`sql`以确保使用正确的值：

```
function transactionCallback(sql_) {
  var sql = sql_.slice(0); // copy
  return function(tx) {
    tx.executeSql(…, sql);
  };
}

db.transaction(transactionCallback(sql), …); 
```

或者

```
function transactionCallback(sql) {
  return function(tx) {
    tx.executeSql(…, sql);
  };
}

db.transaction(transactionCallback(sql), …);
sql = []; 
```

因为您在之后不需要`sql`' 值`bin2dbfunc`；第二个解决方案还可以让您摆脱`i`并使用基于`push`and的更优雅的解决方案`length`。

# android - 来自非 UI 线程的 Toast

> ID：13267239
> 
> 赞同：1
> 
> 时间：2012-11-07T09:55:36.657
> 
> 标签：android, toast

> **可能重复：**
> [Android：线程中的吐司](https://stackoverflow.com/questions/3134683/android-toast-in-a-thread)

我正在从工作线程调用帮助程序类函数，其中我试图举杯，但我得到以下异常

```
Android Can't create handler inside thread that has not called Looper.prepare 
```

我们不能从非 UI 线程中举杯敬酒吗？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-11-07T10:08:33.210

您可以使用`runOnUiThread()`例如

`this.runOnUiThread(show_toast);`

并且在`show_toast`

```
private Runnable show_toast = new Runnable()
{
    public void run()
    {
        Toast.makeText(Autoamtion.this, "My Toast message", Toast.LENGTH_SHORT)
                    .show();
    }
}; 
```

# android - 两个 textview 在同一位置显示值我如何更改它们之间的空间或空间？

> ID：13267242
> 
> 赞同：0
> 
> 时间：2012-11-07T09:55:47.350
> 
> 标签：android

在我的条形码 xml 结果文件中，两个文本视图都在 samre 位置显示结果并相互重叠我如何在它们之间留出空间？我尝试 android_layout Gravity=center 或 left rightr 仅此工作 android:layout_gravity="center_horizo​​ntal"

```
 <FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
         android:layout_width="fill_parent"
         android:layout_height="fill_parent">

 <SurfaceView android:id="@+id/preview_view"
           android:layout_width="fill_parent"
           android:layout_gravity="center"
           android:layout_height="fill_parent"
           android:layout_centerInParent="true"/>

<com.zijunlin.Zxing.Demo.view.ViewfinderView
  android:id="@+id/viewfinder_view"
  android:layout_width="fill_parent"
  android:layout_height="fill_parent"

  android:background="@color/transparent"/>

<TextView android:id="@+id/txtResult"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"  
      android:layout_gravity="center_horizontal"
        android:text="hello"      
        android:textSize="14sp"/>

  <TextView
    android:id="@+id/txtResult2"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
   android:layout_gravity="center_horizontal"
    android:text="aaaa" />

<Button
    android:id="@+id/button1"
    style="?android:attr/buttonStyleSmall"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_marginTop="25dip"
    android:layout_marginRight="30dip"

    android:text="View Detail" />

    </FrameLayout> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T10:04:13.013

```
 <FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
         android:layout_width="fill_parent"
         android:layout_height="fill_parent">

 <SurfaceView android:id="@+id/preview_view"
           android:layout_width="fill_parent"
           android:layout_gravity="center"
           android:layout_height="fill_parent"
           android:layout_centerInParent="true"/>

<com.zijunlin.Zxing.Demo.view.ViewfinderView
  android:id="@+id/viewfinder_view"
  android:layout_width="fill_parent"
  android:layout_height="fill_parent"

  android:background="@color/transparent"/>

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:orientation="horizontal" >

        <TextView
            android:id="@+id/txtResult"
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:layout_gravity="center"
            android:layout_weight="1"
            android:gravity="center"
            android:text="hello"
            android:textSize="14sp" />

        <TextView
            android:id="@+id/txtResult2"
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:layout_gravity="center"
            android:layout_weight="1"
            android:gravity="center"
            android:text="aaaa" />
    </LinearLayout>

<Button
    android:id="@+id/button1"
    style="?android:attr/buttonStyleSmall"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_marginTop="25dip"
    android:layout_marginRight="30dip"

    android:text="View Detail" />

    </FrameLayout> 
```

像上面那样放置textview....

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T10:00:18.460

将您的 2 TextView 和 Button 放在具有垂直方向的 LinearLayout 内。还有1点，在使用FrameLayout时，不要忘记在代码中添加属性layout_gravity。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T10:07:42.060

继承`ViewfinderView`并`RelativeLayout`使用`layout_toRightOf`, `layout_toLeftOf`, `layout_below`or `layout_above`, 任何你需要的东西。

```
<com.zijunlin.Zxing.Demo.view.ViewfinderView
  android:layout_width="fill_parent"
  android:layout_height="fill_parent"/>

  <TextView android:id="@+id/txtResult"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"/>

  <TextView
    android:id="@+id/txtResult2"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_toRightOf="@id/txtResult"/>

</com.zijunlin.Zxing.Demo.view.ViewfinderView> 
```

# sql - 发生数据库错误错误号：1054

> ID：13267243
> 
> 赞同：0
> 
> 时间：2012-11-07T09:55:52.237
> 
> 标签：sql, codeigniter, function

我尝试使用 sql 为我的 CI 进行选项删除，但为什么它仍然错误？

**错误警告：**

```
A Database Error Occurred

Error Number: 1054

Unknown column 'sip' in 'where clause'

select * from t_label where label = sip

Filename: E:\web\rbt.new\system\database\DB_driver.php

Line Number: 330 
```

**代码：**

```
function hapus($id_user){
            if($this->session->userdata('username')==TRUE) {
                $name = $this->db->query("select USER_NAME from t_user where USER_ID = $id_user")->row();
                $id_label = $this->db->query("select * from t_label where label = $name->USER_NAME")->row();
                $this->db->query("delete from t_label, t_publisher where t_label.id_label = t_publisher.id_label and t_label.id_label = $id_label->id_label");
                $this->db->delete('t_user', array('USER_ID' => $id_user));
                redirect("registrasi/reg");
            }
        } 
```

我的代码有什么问题？这里真的需要帮助

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T09:58:29.227

您需要引用字符串。尝试这个：

```
$id_label = $this->db->query("select * from t_label where label = '" . $name->USER_NAME . "'")->row(); 
```

# excel - VBA：提取列直到为空，在下一张表中重复

> ID：13267246
> 
> 赞同：2
> 
> 时间：2012-11-07T09:55:59.073
> 
> 标签：excel, vba, loops, extract, worksheet

亲爱的 Stack Overflow 群。

在文件“Prodcuts.xlmx”中，工作表“Contract1”的 A 列有数千个数值。同一文件包含其他几个类似的工作表，名称为“Contract2”等。每个工作表中的行数会发生变化，并且可能会随着时间的推移在同一个工作表中发生变化，但它们后面总是跟着空行。工作表的数量是静态的

我需要将这些工作表中的信息收集到第二个文件到单个工作表中，我们将其称为“Productlist”，格式为 A 列包含重复的工作表名称，B 列是数值。

我更喜欢一个简单地复制此信息的提取循环，以避免对可能的更改进行多次检查。

我不能使用选择列来复制源，因为在空单元格之后，会出现不需要的额外数据集。

总体思路是

获取WS1 A列内容，直到空行，复制到“Productlist”B列

获取WS1 WS名称，复制到“Productlist”A列，重复直到B列没有值（或者B列+1行没有值，避免WS名称多出1行）

添加 2 个空行

重复 WS2，直到 WSn 不存在（或匹配计数）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T10:35:07.827

我在另一篇文章中回答了类似的问题，稍微修改了一下。为您的情况定制

```
Sub testing()
Dim resultWs As Worksheet
Dim ws As Worksheet
Dim dataArray As Variant
Dim height As Long
Dim currentHeight As Long
Dim wsName As String
Set resultWs = Worksheets("Productlist")
For Each ws In Worksheets
    If InStr(ws.Name, "Contract") Then
        With ws
            wsName = .Name
            height = .Cells(1, 1).End(xlDown).Row 'look til empty row
            If height > 1048575 Then
                height = 1
            End If

            ReDim dataArray(1 To height, 1 To 1)
            dataArray = .Range(.Cells(1, 1), .Cells(height, 1)).Value

        End With

        With resultWs
            currentHeight = .Cells(.Rows.Count, 1).End(xlUp).Row
            If .Cells(1, 1) = "" Then
                currentHeight = 0
            End If
            If VarType(dataArray) <> vbDouble Then
                .Range(.Cells(currentHeight + 1, 1), .Cells(currentHeight + UBound(dataArray, 1), 1)).Value = wsName
                .Range(.Cells(currentHeight + 1, 2), .Cells(currentHeight + UBound(dataArray, 1), 2)).Value = dataArray
            Else
                .Cells(currentHeight + 1, 1).Value = wsName
                .Cells(currentHeight + 1, 2).Value = dataArray
            End If

        End With
    End If

Next ws

End Sub 
```

# c - pcap_set_filter() 可以与 pcap_open_offline() 一起使用吗？

> ID：13267248
> 
> 赞同：1
> 
> 时间：2012-11-07T09:56:11.540
> 
> 标签：c, filter, pcap, libpcap

我已经编写了一个`pcap`使用`pcap_open_live()`并逐步应用过滤器的程序（即重新编译`pcap`过滤器并在初始 pcap_loop 之后再次设置过滤器），我想在`pcap`我保存的一些文件上对其进行测试`Wireshark`。

但是，当我运行程序时，我什至无法打印出我的数据包，除非我向 ; 提供一个空过滤器`pcap_compile_filter`。

这只是`lpcap`在保存的文件上使用的功能，还是我做错了什么？

这是一段代码供仔细阅读：

```
int main(int argc, char **argv)
{
char *dev = NULL;           /* capture device name */
char errbuf[PCAP_ERRBUF_SIZE];      /* error buffer */
pcap_t *handle;             /* packet capture handle */
char filter_exp[] = "ip";           /* filter expression [3] */
struct bpf_program fp;          /* compiled filter program (expression) */
bpf_u_int32 mask;           /* subnet mask */
bpf_u_int32 net;            /* ip */
int num_packets = -1;           /* number of packets to capture  -1 => capture forever! */

printf("Filter expression: %s\n", filter_exp);

// open capture device
handle = pcap_open_offline("heartbeats2", errbuf);
if (handle == NULL) {
    fprintf(stderr, "pcap_open_offline failed: %s\n", errbuf);
    exit(EXIT_FAILURE);
}

/* make sure we're capturing on an Ethernet device*/
if (pcap_datalink(handle) != DLT_EN10MB) {
    fprintf(stderr, "%s is not an Ethernet\n", dev);
    exit(EXIT_FAILURE);
}

/* compile the filter expression */
if (pcap_compile(handle, &fp, filter_exp, 0, 0) == -1) {
    fprintf(stderr, "Couldn't parse filter %s: %s\n",
        filter_exp, pcap_geterr(handle));
    exit(EXIT_FAILURE);
}

/* apply the compiled filter */
if (pcap_setfilter(handle, &fp) == -1) {
    fprintf(stderr, "Couldn't install filter %s: %s\n",
        filter_exp, pcap_geterr(handle));
    exit(EXIT_FAILURE);
}

pcap_loop(handle, -1, gotPacket, NULL);

pcap_freecode(&fp);
pcap_close(handle);

printf("\nCapture complete.\n");

return(0);
} 
```

got packet 函数只是打印出数据包的有效载荷；输出只是：

```
Filter expression: ip

Capture complete. 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-11T13:29:18.197

如果没有看到你的 gotPacket 函数，就不可能说出那里发生了什么。

由于没有其他错误消息，您的程序运行到代码末尾并打印“捕获完成”。信息。

如果您的程序与 pcap_open_live() 和空过滤器一起使用，那么我唯一怀疑您的 pcap 文件可能不包含任何 ip 数据包。

您可以使用wireshark 打开您的pcap 文件，并在wireshark 过滤器表达式中使用“ip”过滤器。如果您可以在 Wireshark 中看到一些数据包，那么您的上述程序也应该与过滤器一起使用。

有很多网站都有 BPF 示例。一个示例站点可以是[http://biot.com/capstats/bpf.html](http://biot.com/capstats/bpf.html)。

# api - 具有域模型分区的场景中嵌套/分层对象的 REST API 设计

> ID：13267249
> 
> 赞同：2
> 
> 时间：2012-11-07T09:56:15.033
> 
> 标签：api, rest, partitioning

我有一个 HTTP API，假设应用程序和这些应用程序有用户。关系应用程序 - 用户是 1:m。该模型在应用程序上完全分区。这意味着应用程序是自包含的，没有供用户使用的全局池。因此，为了找到用户，我需要预先了解应用程序。

我觉得为这种情况设计合适的 REST API 并不容易。URI 通常不应该依赖于模型的实现方式。他们应该只处理资源。并且 URI 也应该尽可能短。

现在我正在考虑用户的 URI 应该是什么样子。基本上我认为最好只

```
/user/{id} 
```

从外部的角度来看，这应该是好的。但是我想保持数据的分区，所以我既不想拥有一个引用所有应用程序用户的全局池，也不想在所有可用应用程序中搜索用户。这意味着我需要添加一些关于应用程序的上下文。使 URI 看起来像

```
/application/{id}/user/{id} 
```

将解决问题。虽然考虑到我的模型，但这是有道理的。应用程序和用户是复合的，这意味着用户在应用程序之外没有任何意义。另一方面，我仍然认为用户可以是一个独立的资源。而且我的 id 是 UUID，所以 URL 会很快变得很长，而且看起来不太好看（如果这算作一个参数:)）

第三种选择是在 HTTP 请求中添加一个额外的标头。这就像

```
X-Foo-Application: {id}
GET /user/{id} 
```

这就是我目前的做法。如果 id 是 UUID，则任何 uri 都没有机会（根据 UUID 的设计）对于不同的资源可以存在两次。但我仍然不确定这是否是在独立资源和分区数据之​​间做出妥协的正确方法。

或者也许我只是错过了明显的问题解决方法#4。任何提示表示赞赏

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T11:13:16.777

由于您的用户的 ID 是全球唯一的，我发现两者

```
/user/{id} 
```

和

```
/application/{id}/user/{id} 
```

可以接受。第二条路径使用户与应用程序的关系更加清晰。但我可能会根据用户 ID 的全球唯一性选择第一条路径。

你写：

> 而且我的 id 是 UUID，所以 URL 会很快变得很长，而且看起来不太好看（如果这算作一个参数:)）

不完全是 ：）

我不太喜欢你的第三种方法。服务器如何使用额外的`X-Foo-Application: {id}`标头？不需要识别用户，它不是任何 URI 的一部分。

# dependencies - bundle install 包括所有依赖项，即使使用 --without

> ID：13267253
> 
> 赞同：2
> 
> 时间：2012-11-07T09:56:33.707
> 
> 标签：dependencies, installation, bundle, bundler

我正在尝试在 Ubuntu 12.04 上安装[Redmine 2.1.2](http://www.redmine.org/projects/redmine/wiki/RedmineInstall)，但我遇到了依赖问题。简而言之，我正在运行以下命令：

```
bundle install --without development test mysql sqlite 
```

bundle 会尝试安装所有依赖项，甚至是上面列出的组的依赖项和与我的平台不对应的依赖项（即 is`ruby`和 not `jruby`）。

这是我正在使用的 Gemfile 的链接：[http ://www.redmine.org/projects/redmine/repository/entry/tags/2.1.2/Gemfile](http://www.redmine.org/projects/redmine/repository/entry/tags/2.1.2/Gemfile)

生成`Gemfile.lock`如下：

```
GEM
  remote: http://localhost:6789/
  specs:
    actionmailer (3.2.8)
      actionpack (= 3.2.8)
      mail (~> 2.4.4)
    actionpack (3.2.8)
      activemodel (= 3.2.8)
      activesupport (= 3.2.8)
      builder (~> 3.0.0)
      erubis (~> 2.7.0)
      journey (~> 1.0.4)
      rack (~> 1.4.0)
      rack-cache (~> 1.2)
      rack-test (~> 0.6.1)
      sprockets (~> 2.1.3)
    activemodel (3.2.8)
      activesupport (= 3.2.8)
      builder (~> 3.0.0)
    activerecord (3.2.8)
      activemodel (= 3.2.8)
      activesupport (= 3.2.8)
      arel (~> 3.0.2)
      tzinfo (~> 0.3.29)
    activeresource (3.2.8)
      activemodel (= 3.2.8)
      activesupport (= 3.2.8)
    activesupport (3.2.8)
      i18n (~> 0.6)
      multi_json (~> 1.0)
    arel (3.0.2)
    builder (3.0.0)
    coderay (1.0.8)
    erubis (2.7.0)
    fastercsv (1.5.5)
    hike (1.2.1)
    i18n (0.6.1)
    journey (1.0.4)
    jquery-rails (2.0.2)
      railties (>= 3.2.0, < 5.0)
      thor (~> 0.14)
    json (1.7.5)
    mail (2.4.4)
      i18n (>= 0.4.0)
      mime-types (~> 1.16)
      treetop (~> 1.4.8)
    metaclass (0.0.1)
    mime-types (1.19)
    mocha (0.12.3)
      metaclass (~> 0.0.1)
    multi_json (1.3.6)
    mysql (2.8.1)
    mysql2 (0.3.11)
    net-ldap (0.3.1)
    pg (0.14.1)
    polyglot (0.3.3)
    rack (1.4.1)
    rack-cache (1.2)
      rack (>= 0.4)
    rack-openid (1.3.1)
      rack (>= 1.1.0)
      ruby-openid (>= 2.1.8)
    rack-ssl (1.3.2)
      rack
    rack-test (0.6.2)
      rack (>= 1.0)
    rails (3.2.8)
      actionmailer (= 3.2.8)
      actionpack (= 3.2.8)
      activerecord (= 3.2.8)
      activeresource (= 3.2.8)
      activesupport (= 3.2.8)
      bundler (~> 1.0)
      railties (= 3.2.8)
    railties (3.2.8)
      actionpack (= 3.2.8)
      activesupport (= 3.2.8)
      rack-ssl (~> 1.3.2)
      rake (>= 0.8.7)
      rdoc (~> 3.4)
      thor (>= 0.14.6, < 2.0)
    rake (0.9.2.2)
    rdoc (3.12)
      json (~> 1.4)
    rmagick (2.13.1)
    ruby-openid (2.1.8)
    shoulda (2.11.0)
    sprockets (2.1.3)
      hike (~> 1.2)
      rack (~> 1.0)
      tilt (~> 1.1, != 1.3.0)
    sqlite3 (1.3.6)
    test-unit (2.5.2)
    thor (0.16.0)
    tilt (1.3.3)
    treetop (1.4.10)
      polyglot
      polyglot (>= 0.3.1)
    tzinfo (0.3.33)
    yard (0.8.2.1)

PLATFORMS
  ruby

DEPENDENCIES
  activerecord-jdbcmysql-adapter
  activerecord-jdbcpostgresql-adapter
  activerecord-jdbcsqlite3-adapter
  builder (= 3.0.0)
  coderay (~> 1.0.6)
  fastercsv (~> 1.5.0)
  i18n (~> 0.6.0)
  jquery-rails (~> 2.0.2)
  jruby-openssl
  mocha (= 0.12.3)
  mysql
  mysql2 (~> 0.3.11)
  net-ldap (~> 0.3.1)
  pg (>= 0.11.0)
  rack-openid
  rails (= 3.2.8)
  rdoc (>= 2.4.2)
  rmagick (>= 2.0.0)
  ruby-openid (~> 2.1.4)
  shoulda (~> 2.11)
  sqlite3
  test-unit
  yard 
```

在`.bundle/config`文件中，有一个 ligne `BUNDLE_WITHOUT: development:test:mysql:sqlite`。

我尝试删除github 上 bundler 的故障排除页面上所示`.bundle`的 、`Gemfile.lock`、 the`~/.bundler`和 the `~/.gems`（我无法发布，因为我没有 10 个声誉），但它没有改变任何东西。

我从本地存储库中获取宝石，其中只有我需要的宝石。所以我修改了`source`in `Gemfile`（这就是为什么你有一个`remote: http://localhost:6789`in `Gemfile.lock`）。正因为如此，安装失败，因为 bundler 正在寻找我的服务器上不存在的 gem，并且理论上不需要。

谢谢您的帮助

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-11-01T16:30:06.717

您可能需要`:require => false`在这些组中的某些 gem 中添加一个。

# php - 使用表单将斜杠推到 url

> ID：13267254
> 
> 赞同：0
> 
> 时间：2012-11-07T09:56:34.707
> 
> 标签：php, html, forms

`%2F`我有一个表格，当你点击搜索时，它会用斜杠而不是斜杠写出 url 。我怎样才能解决这个问题？

代码：

```
<form name="cdsearch" method="get" action="">
<input type="hidden" name="route" value="database/comics" /> <-- This is where the slash is needed
<input style="width: 100%;" type="text" name="q" value="<?php echo $q ?>" /><br/>
<input style="width: 100%;" type="submit" value="Search Comic Database" />      
</form> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T10:07:10.877

尝试

```
<form name="cdsearch" method="POST" action="redir.php">
  <input type="hidden" name="route" value="database/comics" /> <-- This is where the slash is needed
  <input style="width: 100%;" type="text" name="q" value="<?php echo $q ?>" /><br/>
  <input style="width: 100%;" type="submit" value="Search Comic Database" />      
</form> 
```

重发文件

```
<?php 

if($_POST){ //check that the form has been posted
    $route = url_decode($_POST['route']);
    $query = $_POST['query'];
    //echo $_POST['route']." has been changed to ".$route; // <--- for testing
    header("Location: ".$route."/?query=".$query);  // redirect the user now the url has been decoded
    exit();
}

?> 
```

# java - Gson SecurityException：无法使类构造函数可访问

> ID：13267258
> 
> 赞同：2
> 
> 时间：2012-11-07T09:56:42.217
> 
> 标签：java, reflection, gson, securityexception

我正在使用 Gson 序列化/反序列化包含静态嵌套类的类。该类如下所示。

```
public class ClassA {
private NestedClass nestedClass;

public NestedClass getNestedClass() {
return nestedClass;
}

public void setNestedClass(NestedClass nestedClass) {
this.nestedClass = nestedClass;
}

public static class NestedClass implements Serializable {

public NestedClass() {
}
}
} 
```

序列化工作正常，但是当我尝试将 json 字符串反序列化回对象时，我得到以下 SecurityException。

```
java.lang.SecurityException: Can not make a java.lang.Class constructor accessible
    at java.lang.reflect.AccessibleObject.setAccessible0(Unknown Source)
    at java.lang.reflect.AccessibleObject.setAccessible(Unknown Source)
    at com.google.gson.MappedObjectConstructor.getNoArgsConstructor(MappedObjectConstructor.java:86)
    at com.google.gson.MappedObjectConstructor.constructWithNoArgConstructor(MappedObjectConstructor.java:63)
    at com.google.gson.MappedObjectConstructor.construct(MappedObjectConstructor.java:54)
    at com.google.gson.JsonObjectDeserializationVisitor.constructTarget(JsonObjectDeserializationVisitor.java:42)
    at com.google.gson.JsonDeserializationVisitor.getTarget(JsonDeserializationVisitor.java:55) 
```

在试图反映内部类时，异常似乎来自 Java。以前有人遇到过这种情况吗？

任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T07:31:36.320

看来您正在`SecurityManager`启用的 JVM 上运行 Gson。您需要禁用安全管理器才能使用 Gson。

# php - 通过 php 的标志性 LiveTile 推送通知导致 PayloadFormatError

> ID：13267261
> 
> 赞同：1
> 
> 时间：2012-11-07T09:56:49.307
> 
> 标签：php, push-notification, windows-phone-8, live-tile, mpns

最终**编辑**工作代码（非常感谢克劳斯花时间解决它）：

```
class WindowsPhonePushDelay
{
    const Immediate=0;
    const In450Sec=10;
    const In900Sec=20;
}

class WindowsPhonePushNotification
{
    private $notif_url = '';

    function WindowsPhonePushNotification($notif_url)
    {
        $this->notif_url = $notif_url;
    }

    public function send_raw($msg,$message_id=NULL, $delay = WindowsPhonePushDelay::Immediate)
    {
        return $this->send_push(NULL,$delay+3,$message_id, $msg);
    }

    public function send_normal_tile($image_url, $title, $count,$message_id=NULL, $delay = WindowsPhonePushDelay::Immediate)
    {
        $msg =  "<?xml version=\"1.0\" encoding=\"utf-8\"?>" .
                "<wp:Notification xmlns:wp=\"WPNotification\">" .
                "<wp:Tile>" .
                "<wp:BackgroundImage>$image_url</wp:BackgroundImage>" .
                "<wp:Count>$count</wp:Count>" .
                "<wp:Title>$title</wp:Title>" .
                "</wp:Tile>" .
                "</wp:Notification>";
                return $this->send_push('token',$delay+1, $message_id,$msg);
    }
       public function send_iconic_tile($image_url_large, $image_url_small, $wide1, $wide2, $wide3, $title, $count,$message_id=NULL, $delay = WindowsPhonePushDelay::Immediate)
    {
        $msg =  "<?xml version=\"1.0\" encoding=\"utf-8\"?>" .
                "<wp:Notification xmlns:wp=\"WPNotification\" Version=\"2.0\">" .
                "<wp:Tile Id=\"\" Template=\"IconicTile\">" .
                "<wp:SmallIconImage>$image_url_small</wp:SmallIconImage>" .
                "<wp:IconImage>$image_url_large</wp:IconImage>" .
                "<wp:WideContent1>$wide1</wp:WideContent1>" .
                "<wp:WideContent2>$wide2</wp:WideContent2>" .
                "<wp:WideContent3>$wide3</wp:WideContent3>" .
                "<wp:Count>$count</wp:Count>" .
                "<wp:Title>$title</wp:Title>" .
                "<wp:BackgroundColor>#00FFFFFF</wp:BackgroundColor>" .
                "</wp:Tile>" .
                "</wp:Notification>";
       echo $msg;
    return $this->send_push('token',$delay+1, $message_id,$msg);
    }

    public function send_toast($title, $message,$message_id=NULL, $delay = WindowsPhonePushDelay::Immediate)
    {
        $msg =  "<?xml version=\"1.0\" encoding=\"utf-8\"?>" .
                "<wp:Notification xmlns:wp=\"WPNotification\">" .
                "<wp:Toast>" .
                "<wp:Text1>$title</wp:Text1>" .
                "<wp:Text2>$message</wp:Text2>" .
                "</wp:Toast>" .
                "</wp:Notification>";

        return $this->send_push('toast',$delay+2,$message_id, $msg);
    }

    private function send_push($target,$delay,$message_id,$msg)
    {
        $sendedheaders=  array(
                            'Content-Type: text/xml; charset=utf-8 ',
                            'Accept: application/*',
                            "X-NotificationClass: $delay"
                            );
        if($message_id!=NULL)
        $sendedheaders[]="X-MessageID: $message_id";
        if($target!=NULL)
            $sendedheaders[]="X-WindowsPhone-Target:$target";

        $req = curl_init();
        curl_setopt($req, CURLOPT_HEADER, true); 
        curl_setopt($req, CURLOPT_HTTPHEADER,$sendedheaders);
        curl_setopt($req, CURLOPT_POST, true);
        curl_setopt($req, CURLOPT_POSTFIELDS, $msg);
        curl_setopt($req, CURLOPT_URL, $this->notif_url);
        curl_setopt($req, CURLOPT_RETURNTRANSFER, 1);
        $response = curl_exec($req);
        curl_close($req);

        $result=array();
        foreach(explode("\n",$response) as $line)
        {

        $tab=explode(":",$line,2);
        if(count($tab)==2)
            $result[$tab[0]]=trim($tab[1]);
        }

        return $result;
     }
} 
```

**编辑**：XML（尝试使用本地图像和远程图像）

```
<?xml version="1.0" encoding="utf-16"?><wp:Notification xmlns:wp="WPNotification" Version="2.0"><wp:Tile Id="/" Template="IconicTile"><wp:SmallIconImage Action="Clear">/Images/LiveTiles/asot_iconic_small.png</wp:SmallIconImage><wp:IconImage Action="Clear">/Images/LiveTiles/asot_iconic_large.png</wp:IconImage><wp:WideContent1 Action="Clear">Test1</wp:WideContent1><wp:WideContent2 Action="Clear">Test2</wp:WideContent2><wp:WideContent3 Action="Clear">Test3</wp:WideContent3><wp:Count Action="Clear">1</wp:Count><wp:Title Action="Clear">Title</wp:Title><wp:BackgroundColor Action="Clear">#00FFFFFF</wp:BackgroundColor></wp:Tile></wp:Notification> 
```

EDIT2 完整的错误信息：

```
"The XML payload contains invalid or improperly formatted XML or the notification type specified in the header does not match the payload type used.  The channel has been closed.  Check your XML payload for errors and reopen the channel to obtain a new URI." 
```

EDIT3 服务器响应

```
HTTP/1.1 200 OK Cache-Control: private Server: Microsoft-IIS/7.5 X-DeviceConnectionStatus: Connected X-NotificationStatus: Received X-SubscriptionStatus: Active X-MessageID: 00000000-0000-0000-0000-000000000000 ActivityId: 5bd4c4b6-1d79-4964-9a56-7d49e2aa5972 X-Server: DB3MPNSM018 X-AspNet-Version: 4.0.30319 X-Powered-By: ASP.NET Date: Wed, 07 Nov 2012 19:35:59 GMT Content-Length: 0 
```

我在尝试发送推送通知时使用了上面的代码（由 Rudy Huyn 制作）。它可以正常发送普通磁贴，但我正在尝试更新我的应用程序，以便它可以接收标志性磁贴。我自己添加了 send_iconic_tile。

但是，当我发送标志性磁贴通知时，我在手机上收到了 PayloadFormatError。我的代码中也看不到任何错误，因为有效负载似乎与微软在此处编写的内容相匹配：http: [//msdn.microsoft.com/en-us/library/windowsphone/develop/jj207009 (v=vs.105 ).aspx](http://msdn.microsoft.com/en-us/library/windowsphone/develop/jj207009(v=vs.105).aspx)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-07T10:14:53.230

您的有效载荷确实无效。

`BackgroundColor`需要采用十六进制格式（`#FF000000`对于`00FFFFFF`透明），并且`Id="/"`应该是`Id=""`.

请记住，背景颜色的十六进制值之前或之后不能有任何空格。

# database - 如何创建独立于数据库类型的数据库驱动程序

> ID：13267264
> 
> 赞同：0
> 
> 时间：2012-11-07T09:57:01.273
> 
> 标签：database, database-design

我想创建一个自定义数据库驱动程序，它将独立于数据库类型，如`SQL Server`,`SQL LITE`或`MDB`. 请就如何实现这一点提供一些想法。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T11:37:53.123

这个问题很笼统。如果您得到任何有关独立于数据库的数据库服务器架构的详细编程技巧，我会感到惊讶。

作为一个非常普遍的事情，我建议您研究一个已嵌入 MS Access 超过 12 年的功能。是表链接。

表链接允许 MS Access 数据库+应用程序包含来自其他数据库的表或视图，就好像它们是 Access 数据库中的视图一样。它通过访问知道如何在外部数据库上操作的 DBMS 服务器来做到这一点，使用某种机制，如 ODBC。

在此设置中，客户端（本地 Access 应用程序）与本地 MS Access 服务器对话，后者与外部数据库服务器对话，后者与数据库对话。

我意识到这不是你所要求的。但是在开始一些绕过外部 DBMS 服务器的架构之前，您需要了解它。

# jquery - Bootstrap 2.2.1 中的弹出框

> ID：13267272
> 
> 赞同：1
> 
> 时间：2012-11-07T09:57:31.263
> 
> 标签：jquery, html, css, twitter-bootstrap

我正在尝试在我的应用程序中使用 Bootstrap 弹出框元素。

但这似乎不起作用。当我将弹出框放在设置了溢出样式属性的 div 中时。

但是，在以前的引导程序版本中使用的代码相同。

[你可以在这个 jsFiddle jsFiddle](http://jsfiddle.net/rKDY5/3/)中看到我的意思

这里出了什么问题？？

以下是相关代码——

HTML -

```
 <body>
       <a href="#"  rel="popover" data-content="test" data-original-title="hello" style="position: absolute; top: 300px; left: 300px;">This works</a>
   <div id="cartridges">
       <div class="relative">
           <div id="listCartridges">
               <ul>
                   <li>
                       <a href="#"  rel="popover" data-content="test" data-original-title="hello">This doesnt work</a>
                   </li>
                   <li>
                       <a href="#"  rel="popover" data-content="test" data-original-title="hello">This doesnt work</a>
                   </li>
                   <li>
                       <a href="#"  rel="popover" data-content="test" data-original-title="hello">This doesnt work</a>
                   </li>
                   <li>
                       <a href="#"  rel="popover" data-content="test" data-original-title="hello">This doesnt work</a>
                   </li>
                   <li>
                       <a href="#"  rel="popover" data-content="test" data-original-title="hello">This doesnt work</a>
                   </li>
                   <li>
                       <a href="#"  rel="popover" data-content="test" data-original-title="hello">This doesnt work</a>
                   </li>
               </ul>
           </div>
       </div>
   </div>
                   </body> 
```

CSS——

```
@import url('http://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/css/bootstrap-combined.min.css');

body {
    background: #666;
}

#cartridges {
    position: fixed;
    overflow: visible !important;
    bottom: 0;
    left: 0
    width: 100%;
    border-top: 1px solid #AAA;
}

#cartridges > .relative {
    width: 100%;
    height: 100%;
}

#listCartridges {
    width: 100%;
    background: #222;
}

#listCartridges > ul {
    display: inline-block;
    overflow-x: scroll;
    overflow-y: hidden;
    max-width: 100%;
    white-space: nowrap;
}

#listCartridges > ul > li {
    display: inline-block;
    margin: 3px;
    padding: 3px;
    position: relative;
    vertical-align:middle;
    border: 1px solid #474747;
    overflow: none;
} 
```

JS——

```
$("[rel=popover]").popover({
    animation: true,
    trigger: 'click',
    offset: 10,
    placement: 'top',
    delay: {
        show: 500,
        hide: 100
    }
}).click(function(e) {
    e.preventDefault();
});​ 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T12:02:40.260

问题来自`overflow-x: scroll;overflow-y: hidden;`您的 CSS ..

它应该是

```
#listCartridges > ul {
    display: inline-block;
    max-width: 100%;
    white-space: nowrap;
} 
```

# c++ - 我们可以在哪里使用列表初始化？

> ID：13267277
> 
> 赞同：13
> 
> 时间：2012-11-07T09:57:49.283
> 
> 标签：c++, c++11, initialization, aggregate

[这个问题](https://stackoverflow.com/questions/4178175/what-are-aggregates-and-pods-and-how-why-are-they-special)已经涵盖了 POD 和聚合是什么，并提供了一些聚合初始化的示例。

这里的问题是**在哪里可以使用列表初始化？**

您还**可以在哪里使用**（没有更好的术语）**列表分配？**

答案应该同时处理 C++03 和 C++11，突出它们之间的差异。

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2012-11-11T22:51:01.117

## C++03

### 列表初始化

在 C++03 中，您只能对聚合 (C++03 [dcl.init.aggr]) 和标量 (C++03 [dcl.init]/13) 类型使用列表初始化：

```
int i = { 0 };
POD pod = { 0, 1, 2 }; 
```

### 列表分配

你不能在 C++03 的任何地方使用“列表赋值”。[expr.ass]/1 中显示的语法不允许在赋值右侧使用花括号列表。

## C++11

### 列表初始化

在 C++11 中，您几乎可以在任何可以创建变量的地方使用列表初始化（参见 C++11 中的 [dcl.init] 和列出允许列表初始化的上下文的 [dcl.init.list]/1 ) 例如

```
struct Base { };

struct Class : Base
{
    int mem{ 0 };  // init non-static data member

    Class(int i)
    : Base{}   // init base class
    , mem{i}   // init member
    {
      int j{i};   // init local var

      int k = int{0};  // init temporary

      f( { 1 } );  // init function arg

      int* p = new int{1};  // new init

      // int k(int());  // most vexing parse, declares function
      int k{ int{} };   // ok, declares variable

      int i[4]{ 1,2,3,4 };   // init array
    }

    Class f(int i)
    {
      return { i };   // init return value
    }
};

Class c{1};   // init global var 
```

上面的大多数初始化都声明了一个`int`或数组，`int`但相同的语法可用于调用类类型的构造函数（如构造`Class`变量的两行）

除了在几乎任何可以初始化变量的上下文中都有效之外，列表初始化还可以与 C++11 的另一个新特性很好地交互：`std::initializer_list`类模板。接受参数的构造`std::initializer_list`函数可以传递任意长的值列表，构造函数`begin()`可以`end()`通过`std::initializer_list`. 这个新特性的主要好处是它允许您使用一组元素来初始化容器，例如，`vector<int> v{ 0, 1, 2, 3, 4, 5 }`而不是构造容器然后插入值。

列表初始化也可以用于括号初始化列表中的元素，允许嵌套列表初始化，例如`Map m{ {a, b}, {c, d} }`，而不是`Map m{ Map::value_type(a, b), Map::value_type(c, d) }`

唯一一次列表初始化没有做正确的事情是，如果类有另一个构造函数采用 a ，则尝试通过调用构造函数来构造类类型`std::initializer_list`，因为列表初始化总是更喜欢采用 a 的构造`std::initializer_list`函数

```
// attempts to create vector of 5 elements, [1,1,1,1,1]
// but actually creates a vector with two elements, [5,1] 
std::vector<int> v{ 5, 1 }; 
```

这不调用`vector(size_type, const int&)`构造函数，而是调用`vector(initializer_list<int>)`构造函数。

### 列表分配

在 C++11 中，您可以使用“列表分配”

*   分配给标量类型时，如果花*括号初始化列表*具有可转换（不缩小）到变量类型的单个元素（请参阅 [expr.ass]/9）
*   当赋值的左操作数是具有用户定义的赋值运算符的类类型时，在这种情况下，花*括号初始化列表*用于初始化运算符的参数（参见 [expr.ass]/9）。这包括两种情况，例如右操作数中的*括号初始化列表*`operator=(std::initializer_list<T>)`的元素可转换为，例如对于上述情况，将用 [1,2,3] 替换容器的内容，并且当*括号初始化列表*可以通过合适的构造函数隐式转换为运算符的参数类型，例如*`T``std::vector<int> v``v = { 1, 2, 3 }`*

     **```
    struct A {
      int i;
      int j;
    };

    struct B {
      B& operator=(const A&);
    };

    int main() {
      B b;
      b = { 0, 1 };
    } 
    ```

    `main`在*braced-init-list*的最后一行将被隐式转换为一个临时值，然后将调用该临时值作为其参数`A`的赋值运算符。`B`** 

 *** * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-11-11T18:14:22.263

聚合初始化是列表初始化的子集，仅限于聚合和 POD（如您引用的问题中所述）。两种类型的初始化都使用花括号和可选的等号，因此在初始化时语法确实看起来相同。请参阅[http://en.cppreference.com/w/cpp/language/aggregate_initialization](http://en.cppreference.com/w/cpp/language/aggregate_initialization)和[http://en.cppreference.com/w/cpp/language/list_initialization](http://en.cppreference.com/w/cpp/language/list_initialization)了解更多详细信息，包括可以使用每种初始化形式的位置。

在 C++03 中，聚合初始化只能与 equals 一起使用（即 T object {arg1, arg2}; was not valid just T object = {arg1, arg2};），而 C++11 允许它不使用 equals（即T 对象 {arg1, arg2}; 变为有效）。同样在 C++11 中，聚合初始化被略微修改，以禁止聚合初始化中的缩小转换。

列表初始化的子集，不是聚合初始化子集，是在 C++11 中引入的。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-11-11T18:33:06.070

列表初始化可用于初始化动态分配的数组 (C++11)：

```
int * a = new int[3] {4, 3, 2}; 
```

在 C++03 中不可能有一个非常漂亮的功能。**

# android - android facebook sdk - 会话：尝试重新授权具有待处理请求的会话

> ID：13267279
> 
> 赞同：20
> 
> 时间：2012-11-07T09:57:53.597
> 
> 标签：android, facebook-android-sdk

在过去的几天里，我一直在用 facebook-sdk-for-android-wall 敲打我的头，需要帮助。我找不到问题所在，我应该做什么，或者如何检查我缺少的某些状态。

我的 Android 应用程序正在录制曲目，对于曲目，用户必须选择将曲目摘要发布到他/她的 Facebook 时间线。我已经让它像一个快乐的流程一样工作，但是在测试不同的场景（例如没有互联网连接等）时，我现在陷入了一种状态，我只能得到“会话：尝试重新授权具有待处理请求的会话" - 尝试重新授权权限时出现异常（即使互联网连接已恢复）。我正在使用适用于 android 和 SSO 的 facebook SDK。

```
package com.test;

import java.io.Fil...
...

public class FaceBookUtil {

public interface FacebookPostCallback {
    void onComplete(String postId);
    void onError(Exception e);
    void onError();
}

private static final List<String> PERMISSIONS = Arrays.asList("publish_actions", "publish_stream");
private static final int REAUTH_ACTIVITY_CODE = 100;

public static void postToFaceBook(final Track track, final Activity activity, final FacebookPostCallback postCallback) {

    try {
        Session session = initFacebookSession(activity.getApplicationContext());
        Session.setActiveSession(session);

        StatusCallback statusCallback = new StatusCallback() {
            @Override
            public void call(Session session, SessionState state, Exception exception) {

                try {
                    // Check for publish permissions    
                    List<String> permissions = session.getPermissions();
                    if (!isSubsetOf(PERMISSIONS, permissions)) {
                        Session.ReauthorizeRequest reauthRequest = new Session
                                .ReauthorizeRequest(activity, PERMISSIONS)
                                .setRequestCode(REAUTH_ACTIVITY_CODE);
                        session.reauthorizeForPublish(reauthRequest);    //Here's where it breaks and the exceptions is thrown.
                        return;
                    }

                    Bundle postParams = new Bundle();
                    postParams.putString("name", "Facebook post test"); 
                    postParams.putString("caption", "Just a test"); 
                    postParams.putString("description", "A description");
                    postParams.putString("link", "http://www.google.com/");

                    Request.Callback reqCallback = new Request.Callback() {
                        public void onCompleted(Response response) {
                            String postId = null;

                            try {
                                FacebookException error = response.getError();
                                if (error != null)
                                    throw error;

                                JSONObject graphResponse = response.getGraphObject().getInnerJSONObject();

                                postId = graphResponse.getString("id");
                                if (postId != null)
                                    postCallback.onComplete(postId);

                            } catch (Exception e) {
                                postCallback.onError();
                            }

                            if (postId == null)
                                postCallback.onError();
                        }
                    };

                    Request postRequest = new Request(session, "me/feed", postParams, HttpMethod.POST, reqCallback);
                    RequestAsyncTask task = new RequestAsyncTask(postRequest);
                    task.execute();

                } catch (Exception e) {
                    postCallback.onError(e);
                }
            }
        };

        if (session.getState().equals(SessionState.CREATED_TOKEN_LOADED))
            session.openForRead(new Session.OpenRequest(activity).setCallback(statusCallback));

        else if (!session.isOpened() && !session.isClosed()) {
            OpenRequest req = new Session.OpenRequest(activity);
            req.setCallback(statusCallback);
            session.openForRead(req);

        } else {
            Session.openActiveSession(activity, true, statusCallback);

        }

    } catch (Exception e) {
        postCallback.onError(e);
    }    
}

private static boolean isSubsetOf(Collection<String> subset, Collection<String> superset) {
    for (String string : subset) {
        if (!superset.contains(string)) {
            return false;
        }
    }
    return true;
}

private static Session initFacebookSession(Context context) {

    Session session = Session.getActiveSession();

    if (session != null) 
        return session;

    /*
    if (savedInstanceState != null)
        session = Session.restoreSession(this, null, sessionStatusCallback, savedInstanceState);
    */

    if (session == null)
        session = new Session(context);

    return session;
}
} 
```

如果我调试到 android SDK，我可以看到异常是由 Session 类中的 reauthorize 方法引发的，因为 pendingRequest 不为空，但我不明白为什么，它在哪里设置或如何检查它，删除它或者我应该做什么？

```
private void reauthorize(ReauthorizeRequest reauthorizeRequest, AuthorizationType authType) {
    validatePermissions(reauthorizeRequest, authType);
    validateLoginBehavior(reauthorizeRequest);
    if (reauthorizeRequest != null) {
        synchronized (this.lock) {
            if (pendingRequest != null) {   //Here's where the pendingRequest is already set and causes the exception...
                throw new UnsupportedOperationException(
                        "Session: an attempt was made to reauthorize a session that has a pending request.");
            }
            switch (this.state) {
                case OPENED:
                case OPENED_TOKEN_UPDATED:
                    pendingRequest = reauthorizeRequest;
                    break;
                default:
                    throw new UnsupportedOperationException(
                            "Session: an attempt was made to reauthorize a session that is not currently open.");
            }
        }

        authorize(reauthorizeRequest);
    }
} 
```

我已经在没有任何结果的情况下搜索了异常，非常感谢任何帮助。

附带说明一下，我可能可以重构整个 FacebookUtil.postToFaceBook 方法，但在测试时我将其保留在一种方法中以提高可读性。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-01-17T12:55:34.090

在请求更多权限时，您需要在当前 Session 上调用 onActivityResult() 方法：

```
@Override
protected void onActivityResult(int requestCode, int resultCode, Intent data) {
    Logger.d(LOGTAG, "onActivityResult");
    if (RESULT_CANCELED == resultCode) {
        mAuthorizationCanceled = true;
    }
    **mFacebookSession.onActivityResult(this, requestCode, resultCode, data);**
} 
```

这样，再次调用 StatusCallback 并删除 pendingRequest。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-11-07T21:42:13.293

检查以确保您在 Activity 中添加了这行代码。

```
public void onActivityResult(int requestCode, int resultCode, Intent data) {
    super.onActivityResult(requestCode, resultCode, data); 
    UiLifecycleHelper.onActivityResult();
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-06-22T02:26:49.720

我在登录后请求用户发布权限

这是我的 SDK V3.0.1 代码

```
public class FacebookAccount extends FragmentActivity {
    private UserSettingsFragment userSettingsFragment;

    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        setContentView(R.layout.facebook_login);

        FragmentManager fragmentManager = getSupportFragmentManager();
        userSettingsFragment = (UserSettingsFragment) fragmentManager
                .findFragmentById(R.id.login_fragment);

        userSettingsFragment.setReadPermissions(Utility.READ_PERMISSIONS);

        userSettingsFragment
                .setSessionStatusCallback(new Session.StatusCallback() {
                    @Override
                    public void call(Session session, SessionState state,
                            Exception exception) {
                        if (state == SessionState.OPENED
                                && !session.getPermissions().containsAll(
                                        Utility.PUBLISH_PERMISSIONS)) {
                            session.requestNewPublishPermissions(new Session.NewPermissionsRequest(
                                    FacebookAccount.this,
                                    Utility.PUBLISH_PERMISSIONS));
                        }
                        if (session.isOpened()
                                && state == SessionState.OPENED_TOKEN_UPDATED) {
                            //Save session access token
                        }
                    }
                });
    }

    @Override
    public void onActivityResult(int requestCode, int resultCode, Intent data) {
        if (userSettingsFragment != null)
            userSettingsFragment
                    .onActivityResult(requestCode, resultCode, data);
        super.onActivityResult(requestCode, resultCode, data);
    }

} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2014-10-12T07:05:05.013

它发生在上一个会话未关闭且未正确打开时，它刚刚创建所以为了避免这种情况，我在 onResume 中处理它，当状态为 notOpend 和 notClosed 然后 setActive session null。它为我工作

> ```
> public void onResume()
>         {
>             super.onResume();
>             is not null, the session state change notification
>             // may not be triggered. Trigger it if it's open/closed.
>             Session session = Session.getActiveSession();
>             if (session != null && (session.isOpened() || session.isClosed()))
>                 {
>                     onSessionStateChange(session, session.getState(), null);
>                 }
>             else
>                 {
>                     Session.setActiveSession(null);
>                 }
>             uiHelper.onResume();
>         } 
> ```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-04-09T14:58:00.440

为了在用户真正想要从某个活动发布某些内容之前授予发布权限，并且不使用“UiLifecycleHelper”。这种方法对我有用（基于许多试验和这个特定教程中的代码： [https ://developers.facebook.com/docs/games/mobile/android-tutorial/](https://developers.facebook.com/docs/games/mobile/android-tutorial/) [https://developers.facebook.com/docs/ facebook-登录/权限/](https://developers.facebook.com/docs/facebook-login/permissions/)）

首先创建权限请求（以防用户没有权限）：

```
Session session = Session.getActiveSession();
if (PostOnFB.isChecked() && session != null && session.isOpened()) {
    List<String> permissions = session.getPermissions();
    if (!permissions.contains("publish_actions")) {
        // if they choose to publish, then we request for publish permissions
        Session.NewPermissionsRequest newPermissionsRequest =
                new Session.NewPermissionsRequest(GetUserLocationActivity.this, Arrays.asList("publish_actions"))
                        .setDefaultAudience(SessionDefaultAudience.FRIENDS)
                        .setCallback(newPermissionsCallback)
                        .setRequestCode(REAUTH_ACTIVITY_CODE);
        session.requestNewPublishPermissions(newPermissionsRequest);
    } else {
        publishResult();
    }
} 
```

其中“publishResult()”是用户获得权限后调用的方法。

接下来，为 onActivityResult 添加一个案例：

```
@Override
public void onActivityResult (
        int requestCode, int resultCode, Intent data) {
    // Decide what to do based on the original request code
    switch (requestCode) {
        case ..
        ..
        ..
        ..
        ..
        case REAUTH_ACTIVITY_CODE :
        Session.getActiveSession().onActivityResult(GetUserLocationActivity.this, requestCode, resultCode, data);
    }
 } 
```

最后实现回调：

```
private Session.StatusCallback newPermissionsCallback = new Session.StatusCallback() {
    @Override
    public void call(Session session, SessionState state, Exception exception) {
        if (exception != null || !session.isOpened() || !session.getPermissions().contains("publish_actions")) {
            // this means the user did not grant us write permissions, so
            // do whatever you think
        } else {
            publishResult();
        }
    }
}; 
```

而已。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-04T08:32:18.600

这是很有可能的，如果您在完成之前的请求之前请求打开 facebook 会话，facebook sdk 将抛出“UnsupportedOperationException”。这可能发生在用户启动的事件中，因此始终建议适当地处理该异常。

PS：在大多数情况下，您需要忽略这一点。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-11-08T10:08:55.577

我猜 Facebook 只是不允许两个打开请求一起运行。

如果您只需要打开具有发布权限的会话（而不是在读取和发布之间切换），那么有一种简单的方法可以做到这一点。

转到`Sessions.java`源代码并将此功能更改`private static Session openActiveSession(Context context, boolean allowLoginUI, OpenRequest openRequest)`为`public`.

使用它登录 Facebook：

```
private void loginFacebook() {  
        Session session = Session.getActiveSession();
        if (session == null) {
            session = new Session(this);
        }
        Session.setActiveSession(session);

        Session.OpenRequest request = new Session.OpenRequest(this).setCallback(statusCallback);
        request.setPermissions(Arrays.asList(publishPermissions));
        if (session.getState().equals(SessionState.CREATED_TOKEN_LOADED)) {
            session.openForPublish(request);
        } else {
            session = Session.openActiveSession(this, true, request);
        }
    } 
```

并使用它来发布：

```
StatusCallback statusCallback = new StatusCallback() {
            @Override
            public void call(Session session, SessionState state, Exception exception) {

                try {

                    Bundle postParams = new Bundle();
                    postParams.putString("name", "Facebook post test"); 
                    postParams.putString("caption", "Just a test"); 
                    postParams.putString("description", "A description");
                    postParams.putString("link", "http://www.google.com/");

                    Request.Callback reqCallback = new Request.Callback() {
                        public void onCompleted(Response response) {
                            String postId = null;

                            try {
                                FacebookException error = response.getError();
                                if (error != null)
                                    throw error;

                                JSONObject graphResponse = response.getGraphObject().getInnerJSONObject();

                                postId = graphResponse.getString("id");
                                if (postId != null)
                                    postCallback.onComplete(postId);

                            } catch (Exception e) {
                                postCallback.onError();
                            }

                            if (postId == null)
                                postCallback.onError();
                        }
                    };

                    Request postRequest = new Request(session, "me/feed", postParams, HttpMethod.POST, reqCallback);
                    RequestAsyncTask task = new RequestAsyncTask(postRequest);
                    task.execute();

                } catch (Exception e) {
                    postCallback.onError(e);
                }
            }
        }; 
```

# textbox - 灯开关文本框中的语法高亮显示

> ID：13267282
> 
> 赞同：1
> 
> 时间：2012-11-07T09:58:00.507
> 
> 标签：textbox, visual-studio-lightswitch, syntaxhighlighter

有谁知道如何在灯开关文本框中添加语法突出显示？我怀疑它不存在，那么如果我想添加该功能，是否有人有任何建议从哪里开始？

# javascript - 带有jsonp的角度$资源不起作用

> ID：13267285
> 
> 赞同：2
> 
> 时间：2012-11-07T09:58:09.287
> 
> 标签：javascript, angularjs

我在使用以下代码时遇到问题：

```
angular.module('offerServices', ['ngResource'])
    .factory('Offer', function ($resource) {

        return $resource('url/offers', { callback: 'JSON_CALLBACK' },
            {
                query: { method: 'JSONP' }
            }
        );                   

    })
    .factory('Trustyou', function ($resource) {
            return $resource('https://api.trustyou.com/hotels/:id/seal.json', {},
                {
                    query: { method: 'JSONP' }
                }
            );
    }); 
```

调用 Offer.query({}, function(){}); 在我的控制器中工作没有任何问题。但这部分不起作用：

```
 var trustYouData = Trustyou.query({ id: 'd8421e79-99f0-41b2-8d6e-9cfd62a9776b' }, function (data) {
            console.log(data);
        }); 
```

这总是返回 400 错误：

“NetworkError：400 错误请求 - [https://api.trustyou.com/hotels/d8421e79-99f0-41b2-8d6e-9cfd62a9776b/seal.json?callback=angular.callbacks._1](https://api.trustyou.com/hotels/d8421e79-99f0-41b2-8d6e-9cfd62a9776b/seal.json?callback=angular.callbacks._1) ”

当我更改代码并使用 jQuerys.getJSON 时，我没有任何问题：

```
 $.getJSON("https://api.trustyou.com/hotels/d8421e79-99f0-41b2-8d6e-9cfd62a9776b/seal.json?callback=?", function (data) {
            console.log(data);                           
        }); 
```

为什么 jQuery 方法有效但 angulars $resource 实现在这种情况下返回错误？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-11T08:11:28.407

角度上的回调函数有一些问题，我在 git 中打开了一个问题

[https://github.com/angular/angular.js/issues/1551](https://github.com/angular/angular.js/issues/1551)

回调名称必须为“JSONP_CALLBACK”，其中 angular 会将回调名称转为 callback=angular.callbacks._1

有一些网络服务不能接受“angular.callbacks._1”回调名称。

解决方案 ：

```
var stock_hack

function stock_search(data) {
    stock_hack = data;
 }

var stock_hack

function stock_search(data) {
    stock_hack = data;
}

function jsonp_example($scope, $http) {

    $scope.doRequest = function() {
        $http({
            method: "JSONP",
            params: {
                input: "GM",
                callback: "stock_search"
            },
            url: "http://dev.markitondemand.com/Api/Lookup/jsonp",
            isArray: true
        }).success(function(data, status) {
/*
                 *Never Goes HERE !!
                 */

        }).error(function(data, status) {

/*
                 * FREAKING HACK !!!!
                 */
            console.info("goes here")
            console.info(stock_hack)

        });
    };

}​ 
```

我的小提琴[http://jsfiddle.net/pMGgR/](http://jsfiddle.net/pMGgR/)

关键是您必须调用另一个 javascript 函数来获取您的 json 响应。

希望这有帮助

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-06-16T04:51:43.587

我想我会为这个问题添加一个真正的解决方案。这是一个可行的解决方案。

这是代码

```
var symbol = 'NFLX';
var url = "http://dev.markitondemand.com/Api/v2/Lookup/jsonp?input="+ symbol +"&callback=JSON_CALLBACK";

$http.jsonp(url)
.success(function(data){
   console.info(data);
}).error(function(data, status) {
   console.info(data);
}); 
```

退货

```
//[{"Symbol":"NFLX","Name":"Netflix Inc","Exchange":"NASDAQ"}] 
```

[单击此处转到直接链接](http://dev.markitondemand.com/Api/v2/Lookup/jsonp?input=NFLX&callback=JSON_CALLBACK)

# objective-c - iOS Core plot饼图如何像表格一样绘制图例

> ID：13267286
> 
> 赞同：1
> 
> 时间：2012-11-07T09:58:11.287
> 
> 标签：objective-c

> **可能重复：**
> [如何在 iPhone SDK 的核心图中添加图例？](https://stackoverflow.com/questions/5740785/how-add-a-legend-to-core-plot-in-iphone-sdk)

我可以像表格一样绘制饼图的图例，其中行和列之间有单独的线吗？

# html - 具有对齐网格和还原支持的 HTML5 画布拖放

> ID：13267287
> 
> 赞同：5
> 
> 时间：2012-11-07T09:58:20.637
> 
> 标签：html, canvas, drag-and-drop

我有一个 10x10 网格的 html5 画布。用户可以在该网格内拖放类似 tetrix 的对象。对象必须捕捉到网格（拖动时），如果它被放到其他对象上，它必须恢复到原始位置。（如 JqueryUI 可拖动）

我知道 EaselJS、KineticJS 支持拖放。但我找不到任何文档或教程来实现快照和恢复支持。有没有现有的解决方案，还是我必须自己动手？

# html - 如何为动态内容的 tbody 右侧应用滚动条

> ID：13267289
> 
> 赞同：0
> 
> 时间：2012-11-07T09:58:24.373
> 
> 标签：html, css

我有 4 列的表。我只需要为 tbody 右侧应用滚动条。我将滚动条类放在 tbody 中。在我应用 tbody class=bankerScroll 之前，对齐很好 4 列和并行数据显示，但我在 tboday 应用 bankerScroll 类，对齐变得一团糟.. 谁能帮我这个...

```
<table>
                        <colgroup><col width="40%"><col width="23%"><col width="24%"><col width="13%"></colgroup>
                        <thead>
                            <tr>
                                <th><p class="fieldLabel">Name</p></th>
                                <th><p class="fieldLabel">Value1</th>
                                <th><p class="fieldLabel">Value2</th>
                                <th><p class="fieldLabel">Value3</th>
                            </tr>
                        </thead>
                        <tbody class="bankerScroll">
                            <tr>
                                <td><input class="banker-name" name="send-to-banker" id="banker_0" type="checkbox"> <label for="banker_0">JOHN </td>
                                <td><input disabled="disabled" name="banker_1" type="checkbox"></td>
                                <td><input disabled="disabled" name="banker_2" type="checkbox"></td>
                                <td><input disabled="disabled" name="banker_3" type="checkbox"></td>
                            </tr>
                            <tr>
                                <td><input class="banker-name" name="send-to-banker" id="banker_4" type="checkbox"> <label for="banker_0">JOHN </td>
                                <td><input disabled="disabled" name="banker_5" type="checkbox"></td>
                                <td><input disabled="disabled" name="banker_6" type="checkbox"></td>
                                <td><input disabled="disabled" name="banker_7" type="checkbox"></td>
                            </tr>
                            <tr>
                                <td><input class="banker-name" name="send-to-banker" id="banker_8" type="checkbox"> <label for="banker_0">JOHN </td>
                                <td><input disabled="disabled" name="banker_9" type="checkbox"></td>
                                <td><input disabled="disabled" name="banker_10" type="checkbox"></td>
                                <td><input disabled="disabled" name="banker_11" type="checkbox"></td>
                            </tr>

                        </tbody>
                        </table>

CSS

 .dataRow {
    margin-bottom: 5px;
    margin-top: 5px;
}
   border-collapse: collapse;
    width: 100%;
}
.fieldLabel {
    color: #000000;
    font-size: 85%;
    font-weight: bold;
}
P, TABLE {
    font-family: Verdana;
    margin: 0;
    text-align: left;
}
.requiredFieldIndicator {
    color: #0088FF;
    font-size: x-small;
    font-weight: bold;
}
TD {
    padding: 2px;
    vertical-align: top;
}

.bankerScroll
{
    style="overflow:auto;height:100px;display:block;border:1px solid red;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T10:09:28.870

尝试这个

```
.scrollClass{
    height:100px;
    overflow-y: scroll;
    overflow-x: auto;
    display:block;
    border:2px solid blue;
    width:100%;
} 
```

希望这可以帮助！！

# iphone - 仅在我的组织中分发 iPhone 应用程序的最简单方法是什么。

> ID：13267291
> 
> 赞同：-3
> 
> 时间：2012-11-07T09:58:30.333
> 
> 标签：iphone, ios, xcode

我想在我的组织中分发 iPhone 应用程序（设备 ID 免费）并且可能通过无线方式分发应用程序，是否有任何方法可以分发应用程序而无需在组织中通过无线方式询问设备 ID。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-07T10:02:16.257

如果您只想为您的组织使用它：

需要 UDID，企业程序无线安装：MDM（移动设备管理） [https://developer.apple.com/programs/ios/enterprise/](https://developer.apple.com/programs/ios/enterprise/)

如果你想要它为每个人：

使用应用商店，他们可以安装它而无需设备 ID (UDID) [https://developer.apple.com/programs/ios/](https://developer.apple.com/programs/ios/)

**编辑**

好的，我又看了一遍。你是真的。您可以在 xcode 中创建：产品 > 存档 > 分发 > 用于内部企业应用程序。您可以通过 MDM 或使用：iPhone 配置实用程序、xcode 和 iTunes 8 发送它。

祝你的组织应用程序好运

# android - onActivityResult 被杀死的活动

> ID：13267292
> 
> 赞同：0
> 
> 时间：2012-11-07T09:58:32.880
> 
> 标签：android, activity-lifecycle

你能帮我解决我的问题吗？

我有活动1，活动2。Activity1 在 中创建 UI `onCreate()`，然后在某个时刻用户启动 Activity2`startActivityForResult()`

内存不足的情况似乎很少见，但我遇到过一次，所以我想在以后防止它。我什至可以通过运行一些“硬”应用程序或游戏来重复这种情况。结果是 - 当我返回我的应用程序时，Activity2 被重新创建。然后当我按返回按钮返回 Activity1 时，它也会重新创建。我在这里有逻辑冲突。Activity1 UI 从零开始创建，`onCreate`同时在`onActivityResult`!

我该如何解决这个问题？触发一些标志`onCreate`并检查它`onActivityResult`？这对我有用，但我认为它不应该是这样。

我的手机有 Stock ROM，Android 2.3.5

**更新：**好的，具体问题，我有一个元素列表。它内置于`onCreate()`. 离开 Activity2 我需要记住被点击元素的 id 以便稍后在`onActivityResult()`. 将它保存在 bundle 中不是问题`onSaveInstanceState()`。但！从捆绑中获取它是个坏主意，`onCreate()`因为我没有什么要更新的！为了清楚起见，这里是伪代码：

```
onCreate()
{
     elementId = getIdFromBundle();
     if (elementId == null) 
         createNewListFromZero();
}

onSaveInstanceState()
{
     putIdToBundle(elementId);
}

onActivityResult()
{
     updateOnlyOneListElement(elementId);
} 
```

所以我不能通过它的 id 更新元素，因为活动实际上被系统破坏了。我需要重建它。而且我连续打电话给`onCreate(), onActivityResult()`. 问题是我应该如何在这两种方法之间共享逻辑以正确顺序创建\更新我的元素列表？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T10:03:40.387

您应该看看将活动状态保存在`onSaveInstanceState`. 当活动重新启动时，这个捆绑的将在 onCreate 中返回。看一下Activity的生命周期

[http://developer.android.com/reference/android/app/Activity.html#ActivityLifecycle](http://developer.android.com/reference/android/app/Activity.html#ActivityLifecycle)

活动类javadoc：

*请注意上表中的“Killable”列——对于那些标记为可终止的方法，在该方法返回后，托管该活动的进程可能随时被系统终止，而无需执行另一行代码。因此，您应该使用 onPause() 方法将任何持久性数据（例如用户编辑）写入存储。*

`In addition, the method onSaveInstanceState(Bundle) is called before placing the activity in such a background state, allowing you to save away any dynamic instance state in your activity into the given Bundle, to be later received in onCreate(Bundle) if the activity needs to be re-created`

# c# - 只允许选中一个复选框 - asp.net c#

> ID：13267301
> 
> 赞同：3
> 
> 时间：2012-11-07T09:58:57.507
> 
> 标签：c#, asp.net, events, gridview, checkbox

我有一个gridview，我在其中以编程方式添加了复选框。在 foreach 循环中创建复选框时，我会执行以下操作，以便它们在选中时触发事件，

```
 cbGV = new CheckBox();
            cbGV.ID = "cbGV";
            cbGV.AutoPostBack = true;
            cbGV.CheckedChanged += new EventHandler(this.cbGV_CheckedChanged); 
```

所以基本上当我想要触发事件时，我有以下内容，

```
 protected void cbGV_CheckedChanged(object sender, EventArgs e)
    {
        //gets the current checked checkbox.
        CheckBox activeCheckBox = sender as CheckBox;

        foreach (GridViewRow gvr in GridView1.Rows)
        {
            //this code is for finding the checkboxes in the gridview.

            CheckBox checkBox = ((CheckBox)gvr.FindControl("cbGV"));

            //so basically, right here i'm confused on how i should compare the if/else logic, how i should compare and disable every other checkbox if the current checkbox is checked. Any ideas gues?

        } 
```

提前感谢您的回答。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-07T10:02:57.987

首先，您应该只在选中另一个`CheckBoxes`（如果这是您想要的）`CheckBox`而不选中另一个时取消选中它。

其次，您可以使用`==`运算符将​​此复选框与其他复选框进行比较：

```
CheckBox activeCheckBox = sender as CheckBox;
if(activeCheckBox.Checked)
{
    foreach (GridViewRow gvr in GridView1.Rows)
    {
        CheckBox checkBox = ((CheckBox)gvr.FindControl("cbGV"));
        checkBox.Checked = checkBox == activeCheckBox;
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T10:05:53.820

我没有尝试过，但这是一种方法：

```
protected void cbGV_CheckedChanged(object sender, EventArgs e)
    {
        //gets the current checked checkbox.
        CheckBox activeCheckBox = sender as CheckBox;
        BOOL flag = false;
        CheckBox selectedCheckBox;
        foreach (GridViewRow gvr in GridView1.Rows)
        {
            //this code is for finding the checkboxes in the gridview.

            CheckBox checkBox = ((CheckBox)gvr.FindControl("cbGV"));

            if (checkBox.Checked==true && flag==false)
                 {
                    flag = true;
                    selectedCheckBox = checkBox;
                 }
             else
                 {
                     if (checkBox != selectedCheckBox)
                          {
                          checkBox.Enabled = false;
                          checkBox.Checked = false;
                          }
                 }
            //so basically, right here i'm confused on how i should compare the if/else logic, how i should compare and disable every other checkbox if the current checkbox is checked. Any ideas gues?

        } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-09-20T14:49:14.067

```
CheckBox activeCheckBox = sender as CheckBox;
// to uncheck all check box
foreach (GridViewRow rw in GrdProc.Rows)
{
    CheckBox chkBx = (CheckBox)rw.FindControl("ChkCust");
    if (chkBx != activeCheckBox )
    {
       chkBx.Checked = false;
    }
} 
```

# c# - 如何在 xml 文档中显示通用参数参数

> ID：13267304
> 
> 赞同：4
> 
> 时间：2012-11-07T09:59:01.567
> 
> 标签：c#, xml-documentation

我可以像这样引用泛型类型/方法定义：

```
/// <summary>
/// Takes a <see cref="Func{T}"/>.
/// </summary>
public void Method<T>(Func<T> func) { } 
```

但是，这不起作用：

```
/// <summary>
/// Takes a <see cref="Func{Int32}"/>.
/// </summary>
public void Method(Func<int> func) { } 
```

ReSharper/生成的帮助文件说`Func<TResult>`。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-10-24T02:46:37.357

在第一个示例中，您将`cref`属性的类型指定为 type: `Func<T>`。这与命名空间中的类型完全匹配`System`。我们需要为该类型创建一个指向文档的链接：[`Func<TResult>`](https://msdn.microsoft.com/en-us/library/bb534960.aspx). 它很容易找到并链接到。请注意，这会产生一个指向一种类型的链接。

在第二个示例中，当您查找 type`Func<Int32>`时，它​​实际上并不是带有您可以指向的文档的类型。命名空间中的类型`System`是通用的，并带有一个参数。您可能不认为它是完全匹配的，但解析器会假设`Int32`您正在使用类型参数的名称，并且您希望指向它可以在`System`命名空间中轻松找到的类型。同样，这会生成一个指向您实际上可以在 System 命名空间中找到的一种类型的链接。

您可能想要创建一个使用两个指向两种类型的链接的引用，就像在[Enumerable.Sum](https://msdn.microsoft.com/en-us/library/bb535184(v=vs.110).aspx)参考页面上所做的那样。对于这种方法，

```
public static int Sum<TSource>(
    this IEnumerable<TSource> source,
    Func<TSource,int> selector
) 
```

他们使用两个链接记录了参数选择：

> 类型：[System.Func](https://msdn.microsoft.com/en-us/library/bb549151.aspx) <TSource, [Int32](https://msdn.microsoft.com/en-us/library/system.int32(v=vs.110).aspx) >

在这里，它们引用了两种类型，而不是一种。其中一个链接看起来像是对委托组的引用`System.Func`（这又不是我们可以指向的具有文档的类型），但它实际上指向`System.Func<T,TResult>`委托的文档。另一个链接是`System.Int32`.

如果你变得更正式，你可以这样做。xml通过编译器验证，如果使用则不变

```
<see cref="T:System.Func{T:System.Int32}"/> 
```

但是，我不知道这将如何在大多数模板中显示。它用于记录实体框架源代码。对于示例（显示效果不佳），您可以查看[System.Data.Entity.Core.Common.CommandTrees.ExpressionBuilder 命名空间](https://msdn.microsoft.com/en-US/library/system.data.entity.core.common.commandtrees.expressionbuilder(v=vs.113).aspx)的文档。

我也看到它完成了

```
<see cref="T:System.Func &lt; T:System.Int32 &gt;"/> 
```

同样，忽略模板以很好地显示它并且只通过 xml，这会产生通过编译器语法验证的标记。当您将其从 xml 转换为创建实际文档时，您可能会有更好的运气。

# windows - 如何在 FTP 从 UNIX 到 Windows 时检查远程服务器上的目录是否存在

> ID：13267308
> 
> 赞同：2
> 
> 时间：2012-11-07T09:59:13.833
> 
> 标签：windows, unix, ftp

我正在尝试将文件从 UNIX 服务器 FTP 到 Windows 服务器；在当前的情景中，

如果我的目标目录不存在，那么它会将文件通过 FTP 传输到默认目录。

我对这种情况的解决方法是检查目录是否存在，然后才 FTP 文件。只有我不知道如何实现。心理急救和建议。

```
srcpath=/home/fcadmin/Repository_ftp_test/venx

CS=/FCreportsrepository/Host
SCR_PATH=/home/fcadmin/Repository_ftp_test/venx
dpcpath=/fchostrjs/fcprdapp/dpcreports
logpath=/fchostrjs/fcprdapp/dpclog

for j in `cat venx.txt`
do

ftp -i -n <<EOF>ftp_me.log
open 10.226.14.102
user ftpuser abc!123
binary on
prompt
cd $CS
lcd $srcpath 
if[<Directory Exists>];
then echo "Directory exists";
mput $j;
else
echo "Specified Directory doesnt Exist">>ftp_me.log;
exit;
fi
EOF

EXITFTP=$?
if test $EXITFTP -ne 0; 
then echo "$D ERROR FTP" >> $LOG;
exit ;
fi

if (grep "^Not connected." ftp_me.log); then echo "$D ERROR FTP CONNECT" >> $LOG; fi 
if (grep "No such file" ftp_me.log); then echo "$D ERROR FTP NO SUCH FILE" >> $LOG; fi 
if (grep "access denied" ftp_me.log); then echo "$D ERROR FTP ACCESS DENIED" >> $LOG; fi
if (grep "^Please login" ftp_me.log); then echo "$D ERROR FTP LOGIN" >> $LOG; fi

done 
```

# python - Python：处理平均时间，前一个/两个要慢得多

> ID：13267316
> 
> 赞同：1
> 
> 时间：2012-11-07T09:59:46.093
> 
> 标签：python, performance, timer, pypy

我正在编写一些使用 Python 进行排序算法比较的程序。我想测量平均排序时间。第一次测量有问题。

这：

```
for i in xrange(self.repeats):
    # random list generator
    data_orig = [random.randint(0, self.size - 1) for x in xrange(self.size)]

    sorter = self.class_()
    data = data_orig[:]
    debug("%s for data size: %d, try #%d" % (sorter.__class__.__name__, self.size, i+1))
    t1 = time.clock()
    sorter.sort(data)
    t2 = time.clock()
    debug("Took: %0.4fms, shifts: %d, comparisons: %d" % ((t2-t1)*1000.0, sorter.shifts, sorter.comps)) 
```

`class_`是对 InsertionSort 类的引用。对于 size = 1000 和 5 次重复，我得到以下结果：

```
InsertionSort for data size: 1000, try #1
Took: 39.5341ms, shifts: 254340, comparisons: 255331
InsertionSort for data size: 1000, try #2
Took: 6.0765ms, shifts: 250778, comparisons: 251772
InsertionSort for data size: 1000, try #3
Took: 6.9946ms, shifts: 254189, comparisons: 255180
InsertionSort for data size: 1000, try #4
Took: 6.7421ms, shifts: 252162, comparisons: 253156
InsertionSort for data size: 1000, try #5
Took: 5.9584ms, shifts: 241412, comparisons: 242404 
```

对于每种排序算法，每次我运行程序时，第一个结果都比其他结果大。我用 PyPy 运行它（用 Python 看起来不错，但速度要慢得多）。

我知道我可以简单地省略第一个结果，但这个解决方案并不让我满意 :-)

有任何想法吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-07T10:04:13.107

因为这就是 PyPy 的全部意义所在。它是一个优化的即时编译器，这意味着你运行一段代码的次数越多，它得到的优化就越多。第一次运行时，它还没有机会做任何优化，所以结果会很慢。随后的运行将考虑第一次的经验教训，因此会更快。

# extjs - 如何在 ExtJS 4 中创建自定义小部件？

> ID：13267319
> 
> 赞同：1
> 
> 时间：2012-11-07T10:00:08.850
> 
> 标签：extjs, extjs4, extjs4.1, extjs4.2, custom-component

我想扩展颜色选择器小部件并为其添加一些当前缺少的新功能。目前 ExtJS 颜色选择器只允许我们从预定义的颜色中进行选择。我想添加一些功能，例如添加`<canvas>`将呈现色谱的元素，用户将能够选择自定义颜色、以 RGB 或十六进制格式提供颜色值的能力等。

我尝试`Ext.Component`直接从类扩展，但我没有得到 ExtJS 颜色选择器提供的默认功能。

那么谁能告诉我如何扩展 ExtJS 的当前小部件并添加新功能？

提前致谢 ！！！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T10:44:10.780

最简单的方法是将其全部打包到一个扩展[fieldcontainer](http://docs.sencha.com/ext-js/4-1/#!/api/Ext.form.FieldContainer)以及 field mixin 的类中。这是一个示例（只是一起输入，完全未经测试！）。我认为只要您仅使用具有本机布局的本机组件，您就不需要重写渲染。

```
Ext.define('Ext.ux.form.field.AdvancedPicker', {
    extend: 'Ext.form.FieldContainer',
    mixins: {
        field: 'Ext.form.field.Field'
    },
    alias: 'widget.advancedpicker',
    layout: 'hbox',
    width: 200,
    height: 22,
    combineErrors: true,
    msgTarget: 'side',

    pickerCfg: null,
    textfieldCfg: null,

    initComponent: function () {
        var me = this;
        if (!me.pickerCfg) me.pickerCfg = {};
        if (!me.textfieldCfg) me.textfieldCfg = {};
        me.buildField();
        me.callParent();
        me.pickerField = me.down('picker')
        me.textField = me.down('textfield')

        me.initField();
    },

    //@private
    buildField: function () {
        var me = this;
        me.items = [
        Ext.apply({
            xtype: 'picker',
            submitValue: false, // this one shouldn't get submitted
            width: 100,
            flex: 2
        }, me.pickerCfg),
        Ext.apply({
            xtype: 'textfield',
            submitValue: false, // this one shouldn't get submitted
            width: 80,
            flex: 1
        }, me.textfieldCfg)]
    },

    getValue: function () {
        var me = this,
            value;
        // getting the value form the nested fields
        return value;
    },

    setValue: function (value) {
        var me = this;
        // setting the values to the nested fields
    },

    getSubmitData: function () {
        var me = this,
            data = null;
        // getting the value form the nested field which should get submit in formatted manner (if needed. otherwise just call getValue())
        return data;
    }
}); 
```

# macos - 更改 OS X Mountain Lion 登录窗口

> ID：13267325
> 
> 赞同：1
> 
> 时间：2012-11-07T10:00:29.883
> 
> 标签：macos, customization, loginview

我想为 OS X Mountain Lion 创建一个自定义登录窗口。在旧版本的 OS X 中有一个 LoginWindowUI.nib，您可以使用 Interface Builder 更改它，但该文件在 Mountain Lion 上不存在。

我的目标是做一些类似于 LightDM Webkit Greeter 项目的事情，它使用户能够使用 HTML、CSS 和 JS 为 OS X 创建一个自定义登录窗口。

提前感谢您帮助我。

# zend-framework2 - Zend Framework 2 目录组织

> ID：13267330
> 
> 赞同：3
> 
> 时间：2012-11-07T10:00:49.273
> 
> 标签：zend-framework2

有人可以为 ZF2 提出最佳的目录结构组织吗？例如我有：

*   几个控制器助手，
*   自定义视图 hwlpers
*   其他库，如 PHPExcel
*   自定义类
*   身份验证、ACL 类
*   事件处理程序等

所以这是最好的（读得很好的）目录组织。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-07T15:11:41.913

有两种结构：应用结构和模块结构。

**应用**

您的应用程序的默认和推荐目录结构如下：

```
config/
  autoload/
module/
public/
vendor/ 
```

有一个`config/application.config.php`文件，在`config/autoload`目录中你有应用程序特定的配置，它覆盖任何模块特定的配置。

在`module/`您放置所有应用程序模块的目录中。如果您使用 3rd 方模块或制作了一些可重用的模块，则最好将它们放在`vendor/`目录中。这样，您就可以清楚地区分应用程序特定模块和非应用程序特定模块。

这`public/`是您的网络根目录。在那里你有`index.php`，你可以把你的样式、脚本和其他资产放在那里。

*示例*：一个完美的示例是在目录中有一个`PHPExcel`目录`vendor/`。

**模块**

模块具有默认和推荐的结构，如下所示：

```
MyModule/
  config/
  src/
    MyModule/
      Controller/
        Plugin/
      Form/
      Service/
      View/
        Helper/
  view/ 
```

你所有的 php 代码都进入`src/`. 因为`src/`遵循[PSR-0](https://github.com/php-fig/fig-standards/blob/master/accepted/PSR-0.md)标准，所以您的顶级命名空间 ( `MyModule`) 在`src/`目录中重复。在此目录下，您拥有所有模块代码。

就像 Zend Framework 2 ( `Zend\Mvc\Controller\Plugin\SomePlugin`) 中的助手一样，我会将它们放在`Controller/Plugin`目录中。对于视图助手，您有相同的：类似于`Zend\View\Helper\SomeHelper`我建议您将助手放在`View/Helper`目录中。

然后你就剩下“自定义类”、“auth、acl 类”和“事件处理程序，等等”。这真的取决于他们所做的工作。有时`Listeners/`我的模块源中有一个目录，事件侦听器所在的位置。`Auth/`Acl和身份验证也可以存储在`Acl/`目录中。这真的取决于具体情况，最重要的是你遵循 PSR-0 并且源被封装在一个模块中。

# jquery - 使用 jQuery 克隆元素的 IE7&8 问题

> ID：13267335
> 
> 赞同：0
> 
> 时间：2012-11-07T10:00:56.557
> 
> 标签：jquery, internet-explorer

根据下拉列表中选择的数字，我在克隆表单元素块时遇到 IE 问题。如果在下拉列表中选择了 3，我想重复问题块并操纵名称属性，以便它们对于每个块都是唯一的。这适用于 Chrome、FF 等，但不适用于 IE7 和 IE8。

编辑，原来它特定于 IE7 和 IE8：[这是一个 jsfiddle](http://jsfiddle.net/Ynhya/)

这是我的代码，我正在做的事情是已知的 IE 有问题吗？当前发生的所有事情是 IE 显示“null”而不是应该出现的每个块。谢谢你的帮助。

```
 // Dropdown select
    $('#quantity').live("change", function(){

        $('.questions_clonable:not(:first)').remove();

        // Get value of selection
        var num = $(this).val();

        var cloned_el = $('.questions_clonable').clone();   

        if (num > 1)
        {  
            for (var i = 1; i < num; i++)
            {
                // Assign cloned block to new var
                var new_block = cloned_el;  

                // Bit of a workaround needed to clone properly, reiterating class name
                $('.multiple_questions_container').append('<span class="questions_clonable hidden">'+new_block.html()+'</span>');

            }   
        }
    }); 
```

表单元素被包裹在一个跨度中，如下所示：

```
<span class="questions_clonable hidden"> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T10:11:55.670

如果您只是使用 cloned_el 来获取 html，为什么不这样做

```
var cloned_el = $('.questions_clonable').clone(); 
```

接着

```
var new_block = cloned_el; 
```

只是为了调用 new_block.html()，你这样做：

```
var new_block_html = $('.questions_clonable').html(); 
```

那么你可以参考new_block_html。

如果您也可以发布您的标记，它可能会有所帮助，显然如果有任何 ID，这将导致一些错误。

$.live() 当前不支持 change 事件：当前不支持：blur、focus、mouseenter、mouseleave、change、提交[docs.jquery.com/Events/live](http://docs.jquery.com/Events/live)

您是否可以尝试使用 livequery 代替？[docs.jquery.com/Plugins/livequery](http://docs.jquery.com/Plugins/livequery)

编辑 - 或者尝试使用 .on() 事件而不是 .live()，[演示](http://jsfiddle.net/Ynhya/3/)

# html - 清除浮动列表项

> ID：13267337
> 
> 赞同：1
> 
> 时间：2012-11-07T10:01:09.707
> 
> 标签：html, css

嗨，我在清除我向左浮动的列表项时遇到问题正如您从我的 jsFiddle 中看到的那样，第一个列表项正在推动第三个项目，从而弄乱了布局。见我的 [jsFiddle](http://jsfiddle.net/EqHXP/)

```
<style>

.wrap {
    width:960px;
    margin:0 auto;
    overflow:hidden;
}

ul.team-members {
    overflow:hidden;
}

ul.team-members li {
    float:left;
    width:450px;
    margin-bottom:40px;
}

ul.team-members li img {
    float:left;
    width:120px;
    padding-right:20px;
}

ul.team-members li p {
    float:left;
    width:310px;
    margin:0;
}
</style>

    <section class="wrap">

        <h1>Our Team</h1>

        <div class="store">

            <h2>Monmouth</h2>

            <ul class="team-members">

                <li>
                    <img src="_/img/t-member.jpg">
                    <p><strong>Maureen</strong> - who is originally from Fife is our longest serving member of staff. Qualified to City & Guilds level in soft furnishings, Maureen is always keen to offer advice on projects, colour schemes, fabrics and trimmings. We have an 'Ask Maureen' option on our homepage where you can ask any soft furnishing or window treatment related question, the trickier the better as she loves a challenge!</p>
                </li>
                <li>
                    <img src="_/img/t-member.jpg">
                    <p><strong>Rosyln</strong> - is known for her bubbly welcoming approach to all customers and is always keen to help with advice on the selection of suitable fabrics for your curtains, blinds or upholstery.</p>
                </li>
                <li>
                    <img src="_/img/t-member.jpg">
                    <p><strong>Clare</strong> - has a background in interior design and is very experienced and knowledgeable on fabric choices, tracks, poles and the full spectrum of soft furnishing and upholstery options.</p>
                </li>
                <li>
                    <img src="_/img/t-member.jpg">
                    <p><strong>Ann</strong> - Manages our team, our workrooms and arranges installation in conjunction with our.</p>
                </li>

            </ul>

        </div>
</section> 
```

天哪，我应该知道该怎么做，脑子一片空白！有任何想法吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-07T10:04:57.577

删除`float:left`并使用`display: inline-block; vertical-align: top;`

```
ul.team-members li {
   display: inline-block; vertical-align: top;
    width:450px;
    margin-bottom:40px;
} 
```

**[演示](http://jsfiddle.net/EqHXP/1/)**

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T10:07:04.083

***[演示](http://jsfiddle.net/rohitazad/EqHXP/5/)***

你好现在习惯了`:nth-of-type(odd)`

像这样

```
ul.team-members li:nth-of-type(odd){
clear:both;
} 
```

***[现场演示](http://jsfiddle.net/rohitazad/EqHXP/5/)***

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T10:02:33.700

试试这个：

```
ul.team-members li {
float:left;
width:450px;
margin-bottom:40px;
clear: both;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-07T10:09:42.957

使用`display: inline-block;`而不是`float: left;`. 也不要忘记使用`vertical-align: top;`正确对齐容器。

示例：http: [//jsfiddle.net/EqHXP/3/](http://jsfiddle.net/EqHXP/3/)

# .net - 用于 Intranet 解决方案的 ASP.NET MVC 表单引擎？

> ID：13267343
> 
> 赞同：0
> 
> 时间：2012-11-07T10:01:36.730
> 
> 标签：.net, asp.net-mvc, asp.net-mvc-4

有没有值得研究的内部网解决方案？我发现只有一半体面的是 [Survey](http://survey.codeplex.com/)。

我不想使用它的原因是我更喜欢 ASP.NET MVC 而不是 Webforms，上面的项目让我很头疼，从安全问题开始（例如我上次检查时，默认情况下允许 HTML 注入）并以从最终用户的角度来看解决方案的可用性。表单引擎的用户界面和可用性对于我要解决的问题是不可接受的。

[基于 Java 的表单引擎Orbeon](http://www.orbeon.com/orbeon/fr/orbeon/builder/new)给我留下了深刻的印象。ASP.NET MVC 有类似的东西吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T10:48:20.913

试试果园 CMS。它是 .net MVC 的最佳选择，虽然不是 Microsoft 官方项目，但来自 Microsoft 的人员也参与其中。它是高度可扩展的。

[http://www.orchardproject.net/](http://www.orchardproject.net/)

# sql - T-SQL 存储过程 - 如何制作接受整数或文本的参数

> ID：13267349
> 
> 赞同：0
> 
> 时间：2012-11-07T10:01:45.430
> 
> 标签：sql, sql-server, tsql, stored-procedures

我创建了一个接受 3 个参数的存储过程。

```
@row int
,@column VARCHAR(17)
,@value int 
```

我希望`@value`参数接受文本或整数，因为它根据`@column`参数更新不同的列。

请指教

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-07T10:04:48.940

不要这样做，创建两个具有不同签名和名称的存储过程。然后您将不需要该`@column`参数，并且每个存储过程都将很简单并且行为一致。

您将交换存储过程定义`IF`的 s 和`CASE`es。过程的查询计划将表现一致，因此可以可靠地缓存，并且您将写入总体上相同的行数。

根据传递的参数执行不同查询的存储过程是一个等待发生的性能问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T10:03:48.907

您可以将其声明为[`sql_variant`](http://msdn.microsoft.com/en-us/library/ms181071%28v=sql.90%29.aspx).

```
@row int,
@column VARCHAR(17),
@value sql_variant 
```

但这听起来是个**坏主意**。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-07T10:05:44.207

您可以声明 varchar 参数，然后传递 int 并进行强制`cast(@value as int)`
转换 另一种方法是声明两个参数`@value_int`和`@value_varchar`

但我同意@podiluska - 听起来你有一些设计问题，你确定你真的需要吗？

# wpf - WPF中闪烁的按钮内容模板

> ID：13267351
> 
> 赞同：2
> 
> 时间：2012-11-07T10:01:50.720
> 
> 标签：wpf, button, styles

我有以下两种样式，一个按钮要么是常规的，要么是红色的，用于警告。但是当它是红色时，我希望它闪烁而不是纯红色。有没有办法使用 WPF 动画或某些功能，我可以只使用样式来实现这一点？

```
 <ControlTemplate x:Key="ToolbarButtonRed" TargetType="{x:Type Button}">
        <Border Margin="0.3" BorderThickness="1,1,1,1" CornerRadius="4,4,4,4" BorderBrush="#cccccc" Background="#999999" Width="47">
            <Grid>
                <Border x:Name="BorderUp" BorderThickness="2,2,2,2" CornerRadius="4,4,4,4">
                    <Border.Background>
                        <LinearGradientBrush StartPoint=".5,0" EndPoint=".5,1">
                            <GradientStop Color="#ffaaaa" Offset="0"/>
                            <GradientStop Color="#cc6666" Offset="0.6"/>
                            <GradientStop Color="#bb2222" Offset="1"/>
                        </LinearGradientBrush>
                    </Border.Background>
                </Border>
                <Border x:Name="BorderDown" BorderThickness="2,2,2,2" CornerRadius="4,4,4,4" Opacity="0">
                    <Border.BorderBrush>
                        <LinearGradientBrush StartPoint="0.5,0" EndPoint="0.5,1" >
                            <GradientStop Color="White" Offset="1"/>
                            <GradientStop Color="#222222" Offset="0"/>
                        </LinearGradientBrush>
                    </Border.BorderBrush>
                    <Border.Background>
                        <LinearGradientBrush StartPoint=".5,0" EndPoint=".5,1">
                            <GradientStop Color="#ff9966" Offset="0"/>
                            <GradientStop Color="#bb2222" Offset="0.6"/>
                            <GradientStop Color="#441111" Offset="1"/>
                        </LinearGradientBrush>
                    </Border.Background>
                </Border>
                <ContentPresenter x:Name="Contents" 
                                      HorizontalAlignment="Center" 
                                      VerticalAlignment="Center" 
                                      Width="Auto"
                                      TextBlock.Foreground="White"
                                      Margin="3,3,3,3"/>
            </Grid>
        </Border>
        <ControlTemplate.Triggers>
            <Trigger Property="IsPressed" Value="True">
                <Setter TargetName="BorderDown" Property="Opacity" Value="1"/>
                <Setter TargetName="Contents" Property="Margin" Value="4,4,2,2"/>
            </Trigger>
            <Trigger Property="IsMouseOver" Value="True">
                <Setter TargetName="BorderDown" Property="Opacity" Value="1"/>
            </Trigger>
        </ControlTemplate.Triggers>

    </ControlTemplate>

    <Style x:Key="ToolbarButtonDisplay" TargetType="Button">
        <Setter Property="ContentTemplate">
            <Setter.Value>
                <DataTemplate>
                    <StackPanel Orientation="Vertical">
                        <Image Source="{Binding Path=(Windows:ButtonProperties.Image), RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type Button}}}" Margin="0,2,0,0" Width="32"/>
                        <TextBlock FontSize="9" FontWeight="Normal" FontFamily="Arial" Foreground="White" HorizontalAlignment="Center" Margin="2,2,2,2">
                                <ContentPresenter Content="{Binding Path=Content, RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type Button}}}"></ContentPresenter>
                        </TextBlock>
                    </StackPanel>
                </DataTemplate>
            </Setter.Value>
        </Setter>
        <Style.Triggers>
            <Trigger Property="Windows:ButtonProperties.IsRed" Value="True">
                <Setter Property="Template" Value="{DynamicResource ToolbarButtonRed}"/>
            </Trigger>
            <Trigger Property="Windows:ButtonProperties.IsRed" Value="False">
                <Setter Property="Template" Value="{DynamicResource ToolbarButton}"/>
            </Trigger>
        </Style.Triggers>
    </Style> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-07T11:55:37.457

您可以在任何画笔的不透明度上使用动画。这是一个例子：

```
<Border x:Name="AnimatedColorButton" Width="100" Height="30" BorderThickness="2" BorderBrush="Red">
    <Border.Triggers>
        <EventTrigger RoutedEvent="Border.Loaded">
            <BeginStoryboard>
                <Storyboard >
                    <DoubleAnimation Storyboard.TargetName="AnimatedColorButton"
                                     Storyboard.TargetProperty="BorderBrush.Opacity"
                                     RepeatBehavior="Forever"
                                     AutoReverse="True"
                                     To="0.0"
                                     Duration="0:0:0.5" ></DoubleAnimation>
                </Storyboard>
            </BeginStoryboard>
        </EventTrigger>
    </Border.Triggers>
    <Button>Test</Button>
</Border> 
```

# c++ - -O3 打开时 SSE 中的分段错误

> ID：13267354
> 
> 赞同：1
> 
> 时间：2012-11-07T10:02:05.943
> 
> 标签：c++, c, performance, gcc, sse

使用 gcc 的***-O3***或***-O2*** 选项时，我发现了一个非常奇怪的行为。

当我的程序在调试模式（***-g***）下运行时，没问题；但是当我打开***-O3***或***-O2***时会引发分段错误。

分段发生在运行带有**SSE2**宏的函数时；像

```
_m128i polynomial = _mm_set1_epi8(0x1d) 
```

这只是代码的一部分。

我想我已经消除了 16 字节地址对齐的情况。它是如此的连线，以至于 -g 模式和***-O2***或***-O3***模式的行为不同。

实际上，我不确定该错误是否与 SSE2 有关。

我正在使用***gcc 4.4.3***。

**你遇到过同样的问题吗？**

**或者你能给我一些关于如何处理它的建议吗？**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T10:06:36.957

[http://gcc.gnu.org/bugzilla/buglist.cgi?bug_status=RESOLVED&resolution=FIXED&target_milestone=4.4.4](http://gcc.gnu.org/bugzilla/buglist.cgi?bug_status=RESOLVED&resolution=FIXED&target_milestone=4.4.4)

更新到较新版本的 GCC。

# iphone - iPhone sdk 如何在横向模式下使用 vfr 阅读器实现两个页面视图？

> ID：13267358
> 
> 赞同：4
> 
> 时间：2012-11-07T10:02:24.607
> 
> 标签：iphone, pdf, vfr-reader

如何在 vfr 阅读器中添加两个页面视图？我为此得到了以下帖子，

[如何防止 UIView 被调整大小以适应 ScrollView 高度（禁用自动调整大小）？](https://stackoverflow.com/questions/7900583/how-to-prevent-uiview-from-being-resized-to-fit-scrollview-height-autoresizing)

但我不能理解那么多。你们中的任何人都可以建议一些想法或示例代码以在横向模式下使用 vfr 阅读器实现两页视图吗？

提前致谢。

# jquery - 在动态加载的内容上使用hammer.js

> ID：13267364
> 
> 赞同：5
> 
> 时间：2012-11-07T10:02:56.147
> 
> 标签：jquery, ajax, hammer.js

我正在为 web 应用程序使用hammer.js。

我可以让它工作得很好，除了用 ajax 加载的内容。

我为 jquery 使用了hammer.js 特殊事件插件。

以下工作正常：

```
$('#menu a').on("tap", function(event) {
 //console.log(event);
}); 
```

但是当我使用 jquery 委托语法时：

```
$('body').on("tap", '#menu a', function(event) {
 //console.log(event);
}); 
```

什么都没发生...

什么是正确的语法？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-08T23:58:41.687

如果您动态添加`a`元素，请尝试以下操作：

```
$('#menu').on("tap", 'a', function(event) {
  //console.log(event);
}); 
```

或这个：

```
$('#menu').hammer().on("tap", 'a', function(event) {
  //console.log(event);
}); 
```

# php - Magento 产品页面缺少产品和页脚的代码

> ID：13267367
> 
> 赞同：1
> 
> 时间：2012-11-07T10:03:04.290
> 
> 标签：php, magento, magento-1.7

我刚刚将我的 magento 网站移到了新服务器上，并且在产品页面上遇到了障碍。Magento 在此之后不呈现任何代码（这是它提供的最后十行 html）

```
 ....
        <h2>Quick Overview</h2>
        <div class="std">Add an extra hour of shooting time</div>
    </div>
</div>

<div class="product-img-box">
<p class="product-image"> 
```

我已经清除了所有缓存并重建了索引。我还检查了错误日志，但错误日志上没有显示任何内容（我确实打开了 E_ALL 显示错误）。我已将内存限制设置为 4096mb。

有没有人见过这个？我难住了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T11:44:54.797

由于您的页面在加载目录图像之前就死了：

您是否安装了 GD（或所有其他）php 扩展程序？

请参阅[Magento 电子商务所需的 PHP 扩展](http://www.activoinc.com/blog/2009/08/27/required-php-extensions-for-magento-ecommerce/)

也可能是您对目录图像的权限错误。查看[Magento 文件系统权限](http://www.magentocommerce.com/wiki/1_-_installation_and_configuration/magento_filesystem_permissions)

# php - 我如何在 oscommerce 网站上使用 sphinx？

> ID：13267372
> 
> 赞同：0
> 
> 时间：2012-11-07T10:03:24.070
> 
> 标签：php, sphinx, oscommerce

我需要将 sphinx 与我的 oscommerce 网站集成，但我不明白如何启动它。如何实现 sphinx php api 并将其与 oscommrece php mysql 查询一起使用。

我真的很感激我能得到的任何帮助！谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T10:23:46.977

你应该使用这个 URL FOR SPINIX [http://sphinxsearch.com/docs/2.0.6/about.html](http://sphinxsearch.com/docs/2.0.6/about.html)

谢谢

# android - ActionBarSherlock SearchView 投射错误

> ID：13267384
> 
> 赞同：6
> 
> 时间：2012-11-07T10:03:54.740
> 
> 标签：android, actionbarsherlock, searchview

当我尝试[像在文档中那样配置 SearchView 时，](http://developer.android.com/guide/topics/search/search-dialog.html#UsingSearchWidget)如果使用 ActionBarSherlock，则会出现此错误：

```
FATAL EXCEPTION: main
java.lang.ClassCastException: android.widget.SearchView cannot be cast to com.actionbarsherlock.widget.SearchView
    at MY_PACKAGE.ACTIVITY.onCreateOptionsMenu(MenuDrawerBase.java:181)
    at android.support.v4.app.Watson.onCreatePanelMenu(Watson.java:45)
    at com.actionbarsherlock.ActionBarSherlock.callbackCreateOptionsMenu(ActionBarSherlock.java:559)
    at com.actionbarsherlock.internal.ActionBarSherlockNative.dispatchCreateOptionsMenu(ActionBarSherlockNative.java:60)
    at com.actionbarsherlock.app.SherlockFragmentActivity.onCreatePanelMenu(SherlockFragmentActivity.java:165)
    at com.android.internal.policy.impl.PhoneWindow.preparePanel(PhoneWindow.java:393)
    at com.android.internal.policy.impl.PhoneWindow.invalidatePanelMenu(PhoneWindow.java:747)
    at com.android.internal.policy.impl.PhoneWindow$1.run(PhoneWindow.java:2913)
    at android.os.Handler.handleCallback(Handler.java:615)
    at android.os.Handler.dispatchMessage(Handler.java:92)
    at android.os.Looper.loop(Looper.java:137)
    at android.app.ActivityThread.main(ActivityThread.java:4745)
    at java.lang.reflect.Method.invokeNative(Native Method)
    at java.lang.reflect.Method.invoke(Method.java:511)
    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:786)
    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:553)
    at dalvik.system.NativeStart.main(Native Method) 
```

我的代码与示例完全相同：

```
import com.actionbarsherlock.view.*;
import com.actionbarsherlock.widget.SearchView;
......
@Override
    public boolean onCreateOptionsMenu(Menu menu) {
        getSupportMenuInflater().inflate(R.menu.main, menu);
        SearchManager searchManager = (SearchManager) getSystemService(Context.SEARCH_SERVICE);
        SearchView searchView = (SearchView)menu.findItem(R.id.action_search).getActionView();
        searchView.setSearchableInfo(searchManager.getSearchableInfo(getComponentName()));
        searchView.setIconifiedByDefault(true);
        searchView.setSubmitButtonEnabled(true);
        return true;
    } 
```

没找到关于这个的描述，所以问你：这是什么？
顺便说一句，如果我使用`import android.widget.SearchView;`而不是`import com.actionbarsherlock.widget.SearchView;`应用程序编译并使用大于 11 的 API，但我需要在版本 10 上使用它。

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2012-11-07T10:31:12.720

我向大家道歉，但这是我的错误。
请注意您在菜单 xml 资源中引用的类。就我而言，它是：

```
<item android:id="@+id/action_search"
    android:title="@string/action_search"
    android:icon="@drawable/action_search_light"
    android:showAsAction="always|collapseActionView"
    android:actionViewClass="android.widget.SearchView"/> 
```

这导致了演员错误。**将actionViewClass**更改为**com.actionbarsherlock.widget.SearchView**并得到了预期的结果！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-08T10:17:37.623

改变你`option_menu.xml`的

```
<menu xmlns:android="http://schemas.android.com/apk/res/android">
    <item android:id="@+id/search"
          android:title="@string/menu_search"
          android:icon="@drawable/ic_menu_search"
          android:showAsAction="collapseActionView|ifRoom"
          android:actionViewClass="com.actionbarsherlock.widget.SearchView" />
</menu> 
```

# android - Android 4.x WebView 上的奇怪资产编码（android + phonegap 案例）

> ID：13267388
> 
> 赞同：1
> 
> 时间：2012-11-07T10:04:03.043
> 
> 标签：android, cordova, android-webview

我正在我的项目中使用 android + phonegap + jquerymobile 捆绑包，我偶然发现了不同 Android 版本的 WebView 中资产编码的问题。我已将错误发布到 Apache Cordova（又名 Phonegap）错误跟踪器[https://issues.apache.org/jira/browse/CB-811](https://issues.apache.org/jira/browse/CB-811)（有错误描述和示例）。他们回答说一定是android bug。我已经在 android 4.0 上发布了这个 bug，并等待 4.1 版修复它，但现在客户报告说 4.1 也坏了。请帮我找到解决方法，让我的应用程序同时在 2.x 和 4.x 版本上运行（可能有一些设置必须应用于 WebView）。先感谢您。

# javascript - 如何调用 datepicker 的控制器动作 ononchange 事件？

> ID：13267391
> 
> 赞同：0
> 
> 时间：2012-11-07T10:04:09.860
> 
> 标签：javascript, jquery, ajax, grails, datepicker

嗨，我有自定义日期选择器，我想计算一年的 onchange 事件。

下面的代码不适用于 onchange。我也尝试过 onchange 并像这样调用 javasript 函数，`onchange='toggleTextAreaForTypeOfDischarge(name);'`但结果搞砸了。就像它在年度下拉人口中调用'toggleTextAreaForTypeOfDischarge() 一样。所以如果有100年，它会调用它100次，它不会在实际选择年份时调用它。

```
<g:icmDatePicker name="enteredIntoServiceDate" precision="day" default="none" value="${activeReserveDutyServiceInstance?.enteredIntoServiceDate}" noSelection="['': 'Select...']"   years="${dateRange }" yearSortOrder="desc"onchange="${remoteFunction(action:'getCityAndState', controller:'postcode',params:'\'zipcode=\' + this.value, onSuccess:'getCityAndState(data,\'i11\',\'i12\')')}"/> 
```

我能够使活动像这样进行：

```
<script type="text/javascript">
$(document).ready(function(){
    $("select[id ^= enteredIntoServiceDate_year], select[id ^= enteredIntoServiceDate_month], select[id ^= enteredIntoServiceDate_day]").change(function (){
       checkPeriodOfwarAccdgToDate()
    });

 });

function checkPeriodOfwarAccdgToDate()
{
    alert("test")

}
</script> 
```

但我的问题是我需要从那里调用控制器和操作，以便我可以在后面的代码中进行计算，所以我将它插入到 checkPeriodOfwarAccdgToDate 函数中但不起作用。

```
$.ajax({
        alert("test")
           url: 'Postcode/GetCityAndState',
           type: 'POST',
           data: form,
        dataType: "text",
           success: function(obj){
                    alert(obj);
           }    
        }); 
```

任何人都可以指出我如何在此日期选择器的 onchange 事件中调用控制器中的动作。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T11:19:58.477

我认为最简单的方法是使用在 on change 事件中执行的 remoteLink 函数。

在这里你可以看看remoteLink：

[remoteLink Grails 文档](http://grails.org/doc/latest/ref/Tags/remoteLink.html)

在那里，您可以找到一种在 jsp 上使用它的简单方法。

```
my link = <%= remoteLink(action: 'show', id: 1,
              update: 'success', onFailure: 'showError();')
              { "this is the link body" } %> 
```

希望它对您有所帮助或提示您如何继续前进。

祝你好运！

# php - PHPExcel 将值附加到下一个可用列中的数据

> ID：13267395
> 
> 赞同：0
> 
> 时间：2012-11-07T10:04:13.027
> 
> 标签：php, phpexcel

我将如何将数据附加到已经导入数据的工作表中下一个单元格的行尾。

```
$reader = PHPExcel_IOFactory::createReader( 'CSV' )->setDelimiter( ',' )->setEnclosure( '"' )->setLineEnding( "\r\n" )->setSheetIndex( 0 );
$reader->setSheetIndex( $sheet_index );
$reader->loadIntoExisting( $input_dir . $file , $excel );
$excel->getActiveSheet()->setTitle( $title_parts );

return $excel; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T21:59:37.813

您可以使用 $excel->getActiveSheet()->getHighestRow() 和 $excel->getActiveSheet()->getHighestColumn() 方法识别加载的工作表中的最高行/列值，然后调整这些以获取您的单元格想在其中设置新数据

# javascript - 在javascript中的ajax响应后在新选项卡中打开

> ID：13267403
> 
> 赞同：3
> 
> 时间：2012-11-07T10:04:49.590
> 
> 标签：javascript, ajax, browser

在javascript中的ajax响应不起作用后在新选项卡中打开，

尝试使用 _newtab 和 _blank

但他们都没有工作，

我说，

有什么办法可以得到答案吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-07T10:09:10.493

在 JavaScript 中，您**无法**打开新选项卡。您只能打开新窗口。它取决于用户的浏览器设置如何打开新窗口（无论是在新选项卡中，在后台的新选项卡中，还是在新窗口中）。

JavaScript*不*知道，甚至*无法*知道您的浏览器是否支持选项卡。而且它无权访问浏览器外部的任何东西（除非我想有一个扩展的杠杆作用）。

提醒一下，*有些*浏览器没有标签，有些甚至没有窗口。标签只是浏览器功能，绝不是任何语言规范的一部分。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-06-25T05:44:36.033

使用这个->`window.open(YourUrlInsertHere, '_blank');`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T10:11:35.140

使用 window.open() 方法。有关更多详细信息，[请查看此](https://developer.mozilla.org/en-US/docs/DOM/window.open)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-08-01T12:15:14.077

上面给出的答案很有帮助，但在某种程度上，它们不是完整的工作解决方案，我来这里是为了找到相同的解决方案，并想添加它的工作示例。

```
var win = window.open('_link is here_', 'name');
if (win) {
    //Browser has allowed it to be opened
    win.focus();
} else {
    //Browser has blocked it
    alert('Please allow popups for this website');
} 
```

' *name* ' 是窗口的名称。支持以下名称

*   _blank - URL 被加载到**新选项卡**中。*这是默认设置。*
*   _parent - URL 被加载到父框架中
*   _self - URL 替换当前页面
*   _top - URL 替换任何可能加载的框架集

根据浏览器的实现，这将起作用。您无法做任何事情来使其在窗口而不是选项卡中打开。

[也可以在这里](http://www.tutsplanet.com/open-url-new-tab-using-javascript-196/)找到它的示例

# javascript - 使用 kendoui 和 jquery 双击禁用 kendo numerictextbox 小部件

> ID：13267409
> 
> 赞同：4
> 
> 时间：2012-11-07T10:05:26.223
> 
> 标签：javascript, jquery, kendo-ui, kendonumerictextbox

我有这个html。双击我想禁用/启用下拉菜单：

```
<tr>
   <td><label id="labelId" >My Label</label></td>
   <td><input type="text" id="myInput" data-bind="kendoDropDownList: { data: source, value: myValue, enable: true }" /></td>
</tr> 
```

我能够使用此处的解决方案使用 kendo Api[操作子元素的属性来做到这一点：](https://stackoverflow.com/questions/13255277/manipulate-a-property-of-a-child-element)

```
$('tr').dblclick(function() {
  var $kd = $(this).find('input').data("kendoDropDownList");
  $kd.enable( $kd.element.is(':disabled') );
}); 
```

我有一个 kendoui 数字小部件。似乎 kendoui 框架正在添加一些额外的 html 元素，最终的 html 看起来像这样：

```
<tr>
       <td><label id="labelId" >My Label</label></td>
       <td><input class="k-formatted-value k-input" style="display: inline-block;" type="text" readOnly="readonly"/>
           <input name="Afk" class="k-input" id="Afk" style="display: none;" type="text" data-bind="kendoNumericTextBox: { value: Afk, min:1, max:10000, step:1, format: 'd'}" data-role="numerictextbox" required=""/>
        <td>
    </tr> 
```

我试过这个：

```
$('tr').dblclick(function () {
        var $ntb = $(this).find('input').data("kendoNumericTextBox");

        $ntb.enable($ntb.element.is(':disabled'));
    }); 
```

但我认为这不起作用，因为有两个输入。我的问题是如何在双击时启用/禁用数字小部件，类似于禁用 kendodropdown 的方式？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-07T10:43:52.073

您可以过滤`data-role`属性，以便您可以选择所需的`input`，如下所示：

```
$('tr').dblclick(function () {
    var $ntb = $(this).find('input[data-role="numerictextbox"]').data("kendoNumericTextBox");

    $ntb.enable($ntb.element.is(':disabled'));
}); 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2014-12-01T05:54:59.513

```
 var numerictextbox = $("#numerictextbox").data("kendoNumericTextBox");

 numerictextbox.enable();

 numerictextbox.enable(false); 
```

[http://demos.telerik.com/kendo-ui/numerictextbox/api](http://demos.telerik.com/kendo-ui/numerictextbox/api)[在此处输入链接描述](http://demos.telerik.com/kendo-ui/numerictextbox/api)

# c++ - 共享库中的外国库

> ID：13267411
> 
> 赞同：2
> 
> 时间：2012-11-07T10:05:39.230
> 
> 标签：c++, g++, shared-libraries, shared

我编写了一个基于其他几个库的 c++ 共享库。现在，当使用该库时，我得到了很多关于“外国”库功能的未定义引用。如果我将“外部”库明确添加到 g++ 命令，编译和链接工作正常。有没有办法解决这个问题，以便图书馆用户不必手动链接“外国”图书馆？

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T14:14:36.287

如果您不希望共享库的用户必须声明库的所有链接时依赖项，则可以在构建共享库本身时通知链接器这些依赖项。

在 Makefile 中，它看起来像这样：

```
mylib.so:
    g++ -o mylib.so $OBJS -llib1 -llib2 -llib3 
```

然后用户`mylib.so`不需要指定`lib1`,`lib2`或`lib3`，但他们仍然需要可用（在正确的版本中）才能使程序能够运行。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T10:13:53.163

您应该从已发布（导出）的接口中排除所有外部数据类型和函数。这意味着，对于 GCC，您可以使用`-fvisibility=hidden`隐藏所有实现细节，因此，仅导出具有[**属性**((dllexport)](http://gcc.gnu.org/onlinedocs/gcc/Function-Attributes.html)的部分。Pimpl idiom (aka [Opaque pointer](http://en.wikipedia.org/wiki/Opaque_pointer) ) 可帮助您从已发布的标头中删除依赖项。下面的快速示例：

```
#include<memory>    

#if EXPORT_DLL
   #define DLL_PREFIX __attribute__ ((dllexport))
#else
   #define DLL_PREFIX __attribute__ ((dllimport))
#endif 

class XImpl;

class DLL_PREFIX X {
//...
private:
   std::unique_ptr<XImpl> impl_;
} 
```

`XImpl`在另一个标头/源中定义和实现您的，仅此而已。没有来自其他库的链接依赖，只有你的。但是运行时依赖仍然存在！

# javascript - 如何删除 kineticjs 中的图像过滤器？

> ID：13267412
> 
> 赞同：0
> 
> 时间：2012-11-07T10:05:40.230
> 
> 标签：javascript, kineticjs

我可以像[这里](http://www.html5canvastutorials.com/kineticjs/html5-canvas-kineticjs-image-tutorial/)一样向图像添加过滤器：

```
// apply grayscale filter to second image
filteredYoda.applyFilter({
    filter: Kinetic.Filters.Grayscale,
    callback: function() {
        layer.draw();
    }
}); 
```

，但我怎样才能删除它并获得初始图像？

**更新：** 解决问题的代码：

```
 imageCanvas.initailImage = imageCanvas.getImage();
    imageCanvas.disconnect = function () {
        imageCanvas.applyFilter({
            filter: Kinetic.Filters.Grayscale,
            callback: function() {
                //imageCanvas.deviceName += " - Disconnected.";
                stage.get('#deviceLayer')[0].draw();
            }
        });
    };
    imageCanvas.connect = function () {
        if (imageCanvas.hasOwnProperty('initailImage')) {
            imageCanvas.setImage(imageCanvas.initailImage);
            stage.get('#deviceLayer')[0].draw();
        }
    }; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T19:27:02.550

目前似乎没有任何方法可以做到这一点。我在当前版本的源代码中四处寻找，但找不到任何会删除过滤器的函数调用。

过滤器本身实际上是对原始图像数据应用一些数学运算的函数，因此一种方法可能是定义您自己的过滤器来应用逆方程。但是，在不增加额外复杂性的情况下，可能无法计算原始值。

因此，如果您不想尝试（谁会责怪您..），您也可以从同一来源制作一个新图像并将其单独存储，以显示为过滤后的图像。这有点令人厌烦，不幸的是，克隆方法现在也不能正常工作（您将获得对同一变量的引用），但这可能是最简单的方法。

最后，当然，您可能更愿意等待实现更多过滤器支持。不过，我无法告诉你什么时候会发生这种情况。

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2014-02-03T11:56:11.090

轻松使用以下

```
YOURIMAGEORSHAPE.clearFilter(); 
stage.draw(); // or layer.draw(); depending on your setup 
```

# iphone - 图像处理 openCV

> ID：13267413
> 
> 赞同：-4
> 
> 时间：2012-11-07T10:05:42.143
> 
> 标签：iphone, ios, opencv

> **可能重复：**
> [使用 openCV 的 OCR](https://stackoverflow.com/questions/13248680/ocr-using-opencv)

我想将灰色图像转换为黑白（具有良好的对比度）。我正在使用openCV。我从过去 3 天开始一​​直在苦苦挣扎，但我的输出图像不清楚，如下所示。

谢谢

原始图像： ![在此处输入图像描述](../Images/0f57e67a751618022c514b383bc93ee4.png)

输出图像：

![在此处输入图像描述](../Images/eafb747c3468b488809292204a3116de.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T12:03:12.580

试试这个，它将帮助您获得正确的图像

```
UIImage *image=[UIImage imageNamed:@"EUqAd.jpg"];
        UIImageView *imageView=[[UIImageView alloc]initWithFrame:CGRectMake(20, 20, 280, 150)];
        imageView.image=image;
        [self.view addSubview:imageView];

    CGRect rect = CGRectMake(0, 0, image.size.width, image.size.height);
    UIGraphicsBeginImageContext(rect.size);
    CGContextRef context = UIGraphicsGetCurrentContext();
    CGContextClipToMask(context, rect, image.CGImage);
    CGContextSetFillColorWithColor(context, [[UIColor whiteColor] CGColor]);
    CGContextFillRect(context, rect);
    UIImage *img = UIGraphicsGetImageFromCurrentImageContext();
    UIGraphicsEndImageContext();

    UIImage *flippedImage = [UIImage imageWithCGImage:img.CGImage
                                                scale:1.0 orientation: UIImageOrientationDownMirrored];

    UIImageView *imageView1=[[UIImageView alloc]initWithFrame:CGRectMake(20, 200, 280, 150)];
    imageView1.image=flippedImage;
    [self.view addSubview:imageView1]; 
```

# java - 重复导入：Employee -> Employee org.hibernate.InvalidMappingException：无法从资源 Employee.hbm.xml 解析映射文档

> ID：13267419
> 
> 赞同：2
> 
> 时间：2012-11-07T10:05:58.487
> 
> 标签：java

我是新来的休眠当我试图执行下面的代码时，我遇到了异常：

org.hibernate.InvalidMappingException：无法从资源 Employee.hbm.xml 解析映射文档

这是我的代码：

配置：

```
 <hibernate-configuration> 
    <session-factory> 
    <property name="hibernate.dialect"> 
    org.hibernate.dialect.MySQLDialect 
    </property> 
    <property name="hibernate.connection.driver_class"> 
    com.mysql.jdbc.Driver 
    </property> 

    <property name="hibernate.connection.url"> 
    jdbc:mysql://localhost/hibernatetest 
    </property> 
    <property name="hibernate.connection.username"> 
    root 
    </property> 
    <property name="hibernate.connection.password"> 
    root 
    </property> 

    <!-- List of XML mapping files --> 
    <mapping resource="Employee.hbm.xml"/> 

    </session-factory> 
    </hibernate-configuration> 
```

资源：

```
 package com.practice.HBtest; 

public class Employee {

    private int id;
    private String firstName;
    private String lastName;
    private Integer salary;

    public Employee() {}

    public Employee(String fname, String lname, int salary) {
        this.firstName = fname;
        this.lastName = lname;
        this.salary = salary;
    }

    public int getId() {
        return id;
    }

    public void setId(int id) {
        this.id = id;
    }

    public String getFirstName() {
        return firstName;
    }

    public void setFirstName(String first_name) {
        this.firstName = first_name;
    }

    public String getLastName() {
        return lastName;
    }

    public void setLastName(String last_name) {
        this.lastName = last_name;
    }

    public int getSalary() {
        return salary;
    }

    public void setSalary(int salary) {
        this.salary = salary;
    }
} 
```

映射：

```
<hibernate-mapping> 
<class name="Employee" table="EMPLOYEE"> 
<id name="id" type="int" column="id"> 
<generator class="native"/> 
</id> 

<property name="firstname" column="first_name" type="String"/> 
<property name="lastname" column="last_name" type="String"/> 
<property name="salary" column="salary" type="int"/>    
</class> 
</hibernate-mapping> 
```

来源摘录：

```
import org.hibernate.HibernateException;
import org.hibernate.SessionFactory;
import org.hibernate.Session;
import org.hibernate.Transaction;
import org.hibernate.cfg.Configuration;
import org.hibernate.service.ServiceRegistry;

public class EmployeeRecordManager {

    private static SessionFactory sessionFactory;
    private static ServiceRegistry serviceRegistry;
    private Session session;

    public static void main(String[] args) {

        EmployeeRecordManager erm = new EmployeeRecordManager();

        try {
            Configuration cfg = new Configuration().addResource("Employee.hbm.xml");
            SessionFactory sessionFactory = cfg.configure().buildSessionFactory(serviceRegistry);

        } catch (Exception e) {
            System.out.println(e);
        }
        Integer empID1 = erm.addEmployee("Amruta", "Ali", 1000);
        Integer empID2 = erm.addEmployee("Ruchi", "Das", 5000);
        Integer empID3 = erm.addEmployee("Mitul", "Paul", 10000);

        System.out.println(erm);

    }

    public Integer addEmployee(String fname, String lname, int salary) {
        Session session = sessionFactory.openSession();
        Transaction tx = null;
        Integer empID = null;
        try {
            tx = session.beginTransaction();
            Employee employee = new Employee(fname, lname, salary);
            empID = (Integer) session.save(employee);
            tx.commit();
        } catch (HibernateException e) {
            if (tx != null)
                tx.rollback();
            e.printStackTrace();
        } finally {
            session.close();
        }
        return empID;
    }

}

   Nov 7, 2012 5:36:15 PM org.hibernate.annotations.common.Version <clinit>
INFO: HCANN000001: Hibernate Commons Annotations {4.0.1.Final}
Nov 7, 2012 5:36:15 PM org.hibernate.Version logVersion
INFO: HHH000412: Hibernate Core {4.1.8.Final}
Nov 7, 2012 5:36:15 PM org.hibernate.cfg.Environment <clinit>
INFO: HHH000206: hibernate.properties not found
Nov 7, 2012 5:36:15 PM org.hibernate.cfg.Environment buildBytecodeProvider
INFO: HHH000021: Bytecode provider name : javassist
Nov 7, 2012 5:36:15 PM org.hibernate.cfg.Configuration addResource
INFO: HHH000221: Reading mappings from resource: Employee.hbm.xml
Nov 7, 2012 5:36:15 PM org.hibernate.cfg.Configuration configure
INFO: HHH000043: Configuring from resource: /hibernate.cfg.xml
Nov 7, 2012 5:36:15 PM org.hibernate.cfg.Configuration getConfigurationInputStream
INFO: HHH000040: Configuration resource: /hibernate.cfg.xml
Nov 7, 2012 5:36:15 PM org.hibernate.cfg.Configuration addResource
INFO: HHH000221: Reading mappings from resource: Employee.hbm.xml
Nov 7, 2012 5:36:15 PM org.hibernate.cfg.Configuration doConfigure
INFO: HHH000041: Configured SessionFactory: null
Nov 7, 2012 5:36:15 PM org.hibernate.cfg.Configuration$MappingsImpl addImport
INFO: HHH000071: Duplicate import: Employee -> Employee
org.hibernate.InvalidMappingException: Could not parse mapping document from resource Employee.hbm.xml
    at org.hibernate.cfg.Configuration$MetadataSourceQueue.processHbmXml(Configuration.java:3417)
    at org.hibernate.cfg.Configuration$MetadataSourceQueue.processHbmXmlQueue(Configuration.java:3406)
    at org.hibernate.cfg.Configuration$MetadataSourceQueue.processMetadata(Configuration.java:3394)
    at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1341)
    at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1737)
    at com.practice.HBtest.EmployeeRecordManager.main(EmployeeRecordManager.java:24)
Caused by: org.hibernate.DuplicateMappingException: Duplicate class/entity mapping Employee
    at org.hibernate.cfg.Configuration$MappingsImpl.addClass(Configuration.java:2582)
    at org.hibernate.cfg.HbmBinder.bindRoot(HbmBinder.java:174)
    at org.hibernate.cfg.Configuration$MetadataSourceQueue.processHbmXml(Configuration.java:3414)
    ... 5 more
Exception in thread "main" java.lang.NullPointerException
    at com.practice.HBtest.EmployeeRecordManager.addEmployee(EmployeeRecordManager.java:39)
    at com.practice.HBtest.EmployeeRecordManager.main(EmployeeRecordManager.java:30)
org.hibernate.InvalidMappingException: Could not parse mapping document from resource Employee.hbm.xml
After Adding the code mentioned by you was getting below Exception:

  Nov 7, 2012 6:48:24 PM org.hibernate.annotations.common.Version <clinit>
INFO: HCANN000001: Hibernate Commons Annotations {4.0.1.Final}
Nov 7, 2012 6:48:24 PM org.hibernate.Version logVersion
INFO: HHH000412: Hibernate Core {4.1.8.Final}
Nov 7, 2012 6:48:24 PM org.hibernate.cfg.Environment <clinit>
INFO: HHH000206: hibernate.properties not found
Nov 7, 2012 6:48:24 PM org.hibernate.cfg.Environment buildBytecodeProvider
INFO: HHH000021: Bytecode provider name : javassist
Nov 7, 2012 6:48:24 PM org.hibernate.cfg.Configuration configure
INFO: HHH000043: Configuring from resource: hibernate.cfg.xml
Nov 7, 2012 6:48:24 PM org.hibernate.cfg.Configuration getConfigurationInputStream
INFO: HHH000040: Configuration resource: hibernate.cfg.xml
Nov 7, 2012 6:48:24 PM org.hibernate.cfg.Configuration addResource
INFO: HHH000221: Reading mappings from resource: Employee.hbm.xml
Nov 7, 2012 6:48:24 PM org.hibernate.cfg.Configuration doConfigure
INFO: HHH000041: Configured SessionFactory: null
Nov 7, 2012 6:48:24 PM org.hibernate.cfg.Configuration configure
INFO: HHH000043: Configuring from resource: /hibernate.cfg.xml
Nov 7, 2012 6:48:24 PM org.hibernate.cfg.Configuration getConfigurationInputStream
INFO: HHH000040: Configuration resource: /hibernate.cfg.xml
Nov 7, 2012 6:48:24 PM org.hibernate.cfg.Configuration addResource
INFO: HHH000221: Reading mappings from resource: Employee.hbm.xml
Nov 7, 2012 6:48:24 PM org.hibernate.cfg.Configuration doConfigure
INFO: HHH000041: Configured SessionFactory: null
Nov 7, 2012 6:48:24 PM org.hibernate.cfg.Configuration$MappingsImpl addImport
INFO: HHH000071: Duplicate import: Employee -> Employee
org.hibernate.InvalidMappingException: Could not parse mapping document from resource Employee.hbm.xml
    at org.hibernate.cfg.Configuration$MetadataSourceQueue.processHbmXml(Configuration.java:3417)
    at org.hibernate.cfg.Configuration$MetadataSourceQueue.processHbmXmlQueue(Configuration.java:3406)
    at org.hibernate.cfg.Configuration$MetadataSourceQueue.processMetadata(Configuration.java:3394)
    at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1341)
    at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1737)
    at com.practice.HBtest.EmployeeRecordManager.main(EmployeeRecordManager.java:24)
Caused by: org.hibernate.DuplicateMappingException: Duplicate class/entity mapping Employee
    at org.hibernate.cfg.Configuration$MappingsImpl.addClass(Configuration.java:2582)
    at org.hibernate.cfg.HbmBinder.bindRoot(HbmBinder.java:174)
    at org.hibernate.cfg.Configuration$MetadataSourceQueue.processHbmXml(Configuration.java:3414)
    ... 5 more
Exception in thread "main" java.lang.NullPointerException
    at com.practice.HBtest.EmployeeRecordManager.addEmployee(EmployeeRecordManager.java:39)
    at com.practice.HBtest.EmployeeRecordManager.main(EmployeeRecordManager.java:30)
org.hibernate.InvalidMappingException: Could not parse mapping document from resource Employee.hbm.xml 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-07T10:33:53.427

您的 hbm.xml 属性名称之间存在大小写差异：

```
<property name="firstname" column="first_name" type="String"/> 
<property name="lastname" column="last_name" type="String"/> 
<property name="salary" column="salary" type="int"/> 
```

以及您班级中的实际成员字段：

```
private String first**N**ame; 
private String last**N**ame; 
private Integer salary; 
```

更重要的是，您班级中的 getter 和 setter 也有驼峰式，而 hibernate 将寻找 `getFirstname()`, `setFirstname()`, ...

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T10:35:59.470

使用[JPA 注释](http://docs.oracle.com/javaee/5/tutorial/doc/bnbpz.html)而不是混乱的 XML

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-08T10:24:16.713

我能够解决这个问题。1\. 添加了 mysql 连接器 jar 2.为此添加了正确的端口 3.使用了以下配置：

```
Configuration configuration = new Configuration();
            configuration.configure();
            serviceRegistry = new ServiceRegistryBuilder().applySettings(configuration.getProperties()).buildServiceRegistry();        
            sessionFactory = configuration.buildSessionFactory(serviceRegistry); 
```

感谢所有曾经做出过贡献的人

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-12-05T19:19:14.893

我经历过这个问题；找到以下解决方案

*   清理您的服务器构建目录，即清理 eclipse 项目并确保相同（重复）

***.hbm***文件不应该在那里。

*   如果您的 POJO 在项目之外；然后将其放入打包并在***.hbm***文件中定义包

*   您必须在 POJO wrt hbm 文件中拥有所有可用的字段及其 getter 和 setter。

*   确保字段区分大小写，如上面“Filip”所述。

*   检查 jar 文件是否可用

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-07T11:37:37.587

你能粘贴你的整个堆栈跟踪吗？在没有完整的堆栈跟踪的情况下调试它有点困难，因为在加载休眠配置的时候有很多事情可能会出错。

这可能与您定义配置和建立连接的方式有关。我通常做的是：

*   从主休眠配置文件加载配置配置 = new Configuration().configure("hibernate.cfg.xml");

*   从您加载的配置构建会话工厂 sessionFactory = configuration.buildSessionFactory();

没有理由显式添加 hbm.xml 资源（因为您已经在主配置文件中定义了该资源，也没有理由在构建会话工厂时使用服务注册表参数......

此外，您的 id 映射可能需要将 DB 列放在单独的标签中，例如：

```
<id name="id" type="int">
            <column name="id" scale="0" />
            <generator class="native" />
</id> 
```

# html-to-pdf - HTML 到 PDF 转换器问题 - Outsystems

> ID：13267422
> 
> 赞同：0
> 
> 时间：2012-11-07T10:06:15.880
> 
> 标签：html-to-pdf, outsystems

我在我的 Outsystems 应用程序中使用 HTML 到 PDF 转换器，但是当我打开下载的 PDF 时，它的大小为零字节，我也无法打开 PDF。它抛出“此扩展没有注册的应用程序”。

有什么提示吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T16:08:40.377

在这里查看该组件的官方讨论主题

[http://www.outsystems.com/NetworkForums/ViewTopic.aspx?TopicId=7393&Topic=[[]Html-to-PDF-Converter]-讨论](http://www.outsystems.com/NetworkForums/ViewTopic.aspx?TopicId=7393&Topic=%5B%5B%5DHtml-to-PDF-Converter%5D-Discussion)

在（相当冗长的）主题进行到一半时，有几个人报告了同样的问题。这可能是由于从具有运行时内容（例如 Flash）的页面到创建临时文件的写入访问限制的许多问题。

米格尔

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-05-14T02:42:38.093

您很可能缺少一些 dll。请记住上传您可以从这里安装的 zip 文件中的所有 dll：[http ://wkhtmltopdf.org/downloads.html](http://wkhtmltopdf.org/downloads.html)

# .net - .Net用VS 2012远程调试Win2003网站

> ID：13267423
> 
> 赞同：6
> 
> 时间：2012-11-07T10:06:18.327
> 
> 标签：.net, remote-debugging

我正在尝试在 Windows 2003 上安装 VS2012 远程调试器 X86 版本，以便从仅安装了 VS2012 的计算机上调试 Web 应用程序。我正在获取此程序消息所需的较新 Windows 版本。
VS2012 远程调试器是否仍然支持 Windows 2003？
是否有另一种方法可以使用 VS2012 调试应用程序？我尝试将 VS2010 远程调试器与 VS2012 连接，但没有成功。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-11-30T11:23:51.570

VS2012 远程调试器不支持 Windows 2003 [http://www.microsoft.com/visualstudio/eng/products/compatibility](http://www.microsoft.com/visualstudio/eng/products/compatibility)。正如您已经注意到的，VS2012 无法连接到 VS2010 调试器。所以恐怕用VS2012远程调试Win2003服务器是不可能的。

# atomic - 涉及 ipsets 的原子 Iptables 更改

> ID：13267424
> 
> 赞同：3
> 
> 时间：2012-11-07T10:06:19.233
> 
> 标签：atomic, iptables

在一个项目中，我碰巧需要以编程方式调整**iptables**规则。经过一些研究（涉及[这个](https://stackoverflow.com/questions/109553/how-can-i-programmatically-manage-iptables-rules-on-the-fly)和[那个](http://www.semicomplete.com/blog/geekery/atomic-iptables-changes-and-not-dropping-packets.html)），我得出结论，生成一个*iptables-save 兼容的输出并使用**iptables-restore*导入它是合适的。到目前为止还好。

但是我非常想使用**ipsets**，因为它们极大地简化了结果链。所以在更新时，我需要**自动刷新所有 iptables 和 ipset 数据并将一组新条目放入**. 我怎样才能做到这一点？

我能想到的唯一解决方案是首先创建新的 ipsets（在它们尚未使用时不是原子地），然后用对旧 ipsets 的引用原子地刷新 iptables，然后用对新 ipsets 的引用导入新链。（在一次原子滑动中）。之后，我可以非原子地删除旧的 ipset，因为它们不再被引用和使用。

但是，这种提议的解决方案似乎相当复杂且开销很大。

有谁知道，如何以更好的方式做到这一点？

# c# - 如何使用 c# 从活动目录获取 SID-History 值

> ID：13267425
> 
> 赞同：0
> 
> 时间：2012-11-07T10:06:31.007
> 
> 标签：c#, active-directory, sid

我有一个问题一直在努力解决。我正在尝试从 AD 搜索结果中获取 sidhistory 属性。有没有人可以提供一些启示，或者为我指出如何获得 sidhistory 财产价值的正确方向？

这是我所做的一个示例....我遍历属性，但是当我调试代码时没有 sidhistory 属性。

```
using (DirectoryEntry directoryEntryUser = new DirectoryEntry(searchResult.Path))
{
    foreach (string propertyName in directoryEntryUser.Properties.PropertyNames)
    {
            PropertyValueCollection propertyValues = 
            directoryEntryUser.Properties[propertyName];
            // And the rest of the code goes here
            // to get the values.
            // Sid-History or any variation never displays here 
            // as a property name
            // however objectsid does display
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-11T10:12:13.873

并非所有属性都默认加载，应该使用`PropertiesToLoad`DirectoryEntry 的属性，见[msdn](http://msdn.microsoft.com/en-us/library/system.directoryservices.directorysearcher.propertiestoload.aspx)

# android - android.os.Build 的哪些属性是固定的？

> ID：13267429
> 
> 赞同：4
> 
> 时间：2012-11-07T10:06:45.937
> 
> 标签：android, build, uniqueidentifier

我需要类的固定属性列表`android.os.Build`。我从[这里](https://stackoverflow.com/questions/3103196/android-os-build-data-examples-please)获得了列表，我将那些我知道已修复的列表加粗。通过修复，我的意思是固件更新，重置工厂，......

1.  android.os.Build.VERSION.RELEASE //当前开发代号，如果这是发布版本，则为字符串“REL”。

2.  **android.os.Build.BOARD** //底层板的名称，如“goldfish”。

3.  android.os.Build.BOOTLOADER // 系统引导加载程序版本号。

4.  **android.os.Build.BRAND** //软件定制的品牌（例如运营商），如果有的话。

5.  **android.os.Build.CPU_ABI** //native code的指令集名称（CPU类型+ABI约定）。

6.  **android.os.Build.CPU_ABI2** //原生代码的第二个指令集（CPU类型+ABI约定）的名称。

7.  **android.os.Build.DEVICE** // 工业设计的名称。

8.  **android.os.Build.DISPLAY** //用于向用户显示的构建 ID 字符串

9.  android.os.Build.FINGERPRINT //唯一标识此构建的字符串。

10.  **android.os.Build.HARDWARE** //硬件的名称（来自内核命令行或/proc）。

11.  android.os.Build.HOST

12.  android.os.Build.ID //可以是变更列表编号，也可以是“M4-rc20”之类的标签。

13.  **android.os.Build.MANUFACTURER** //The manufacturer of the product/hardware.

14.  **android.os.Build.MODEL** //The end-user-visible name for the end product.

15.  **android.os.Build.PRODUCT** //The name of the overall product.

16.  android.os.Build.TAGS //Comma-separated tags describing the build, like "unsigned,debug".

17.  android.os.Build.TYPE //The type of build, like "user" or "eng".

18.  android.os.Build.USER

Please help me complete the list

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-11-14T12:07:46.623

If you look at [the source code to `Build`](https://android.googlesource.com/platform/frameworks/base/+/refs/heads/master/core/java/android/os/Build.java), you will see that all of these values -- including those you have in bold -- come from system properties files. Hence, any of these values can be modified by ROM modders or the original device manufacturer as they see fit.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-15T10:56:13.740

I'm not going to address the woes with consistencies of `Build` as Mark has illustrated why there isn't a guaranteed answer. Instead I want to respond to what your purpose and intent is.

If I understand correctly, you are trying to uniquely identify a single device. I point you firstly to [this answer](https://stackoverflow.com/a/2853253/154306), from which you can simply conclude that a generic solution is not possible. Either resetting factory defaults or switching SIM cards (*if* the device has one) will change any sort of unique ID and fool your app into thinking it's a different user.

You need to rethink what you're trying to accomplish. Why do you need to uniquely identify a *device*? If you're trying to identify a user, then this mindset doesn't cope for multiple devices either. This is now especially the case with Jellybean 4.2, where a device may support multiple users. See also [this insightful blog post on the Android Developers Blog](http://android-developers.blogspot.nl/2011/03/identifying-app-installations.html).

Can you have the user attach his Google account? Or account for your own service? If you can identify a user, it is then trivial to identify individual devices through `UUID.randomUUID()`.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-18T10:07:19.557

If I understand correctly (regarding your follow-up comment) you want to identify a device without integrating some kind of registration or login mechanism.

Instead of implementing yout own ID computation algorithm I would suggest using an OpenUDID implementation for android (see [https://github.com/vieux/OpenUDID](https://github.com/vieux/OpenUDID)).

# php - 如何从 codeIgniter 调用外部 api？

> ID：13267430
> 
> 赞同：1
> 
> 时间：2012-11-07T10:06:45.783
> 
> 标签：php, codeigniter

嗨，我现在在开发我的应用程序时面临一个大问题。实际上，我们之前的一个应用程序类文件中已经开发了一个功能。现在我们想在我们的新应用程序中使用该功能。我们如何使用 codeIgniter 在我们的新控制器中调用该函数。

注意：我们的旧应用程序在核心 PHP 中。

旧文件report.class.php....这里有一个函数名`get_report()` 新控制器ro_manager.php.......这里有一个函数`order_details()`...

我想在函数`get_report()`中调用函数`order_details()`......我需要任何帮助......

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-07T10:15:27.790

Codeigniter 只是一个框架。您仍然可以毫无问题地使用本机 php（路径可能需要稍作修改）。

只需将其作为库并通过加载它`$this->load->library('libraryName');`

否则，您可以以天真的方式包含它。在控制器中创建一个实例，并像使用任何其他 OOP 项目一样使用它。

[创建 codeigniter 库](http://codeigniter.com/user_guide/general/creating_libraries.html)该文档包含您需要的所有过程（带有示例）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T10:12:17.213

据我所知，您想要创建一个包含这个旧函数的库，并将其加载到您的 CodeIgniter 控制器中；或者如果仅在该控制器中使用该函数，则只需将该函数作为私有方法添加到控制器中。

# jquery - 如何根据悬停的部分附加文本

> ID：13267433
> 
> 赞同：0
> 
> 时间：2012-11-07T10:07:00.393
> 
> 标签：jquery, jquery-selectors

使用以下动态生成的 HTML：

```
<div class="widget widget_1">
    <div class="widget_header widget_header_1"></div>
    <div class="widget_sub_header widget_sub_header_1"></div>
    <div class="widget_content widget_content_1"></div>
    <div class="widget_footer widget_footer_1"></div>
<div>

<div class="widget widget_1">
    <div class="widget_header widget_header_1"></div>
    <div class="widget_sub_header widget_sub_header_1"></div>
    <div class="widget_content widget_content_1"></div>
    <div class="widget_footer widget_footer_1"></div>
<div>

<div class="widget widget_6">
    <div class="widget_header widget_header_6"></div>
    <div class="widget_sub_header widget_sub_header_6"></div>
    <div class="widget_content widget_content_6"></div>
    <div class="widget_footer widget_footer_6"></div>
<div> 
```

我有以下有效的脚本：

```
$("body").on({
    mouseenter: function() {
        console.log( "enter" );
    },
    mouseleave: function() {
        console.log( "leave" );
    }
}, ".widget_content"); 
```

我的问题是，如何在`.widget_content`不影响其他文本的情况下替换悬停的文本`.widget_content`？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T10:09:15.887

就如此容易

```
$(this).text('updated text'); 
```

或者

```
$(this).html('updated text'); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T10:10:18.243

您应该更好地尝试学习 jquery，而不是每五分钟问一个新的/相同的问题。但是，这里有一个片段：

```
$("body").on({
    mouseenter: function() {
        $(this).text("some new text");
    },
    mouseleave: function() {
        console.log( "leave" );
    }
}, ".widget_content"); 
```

# ember.js - 如何使用 DS.Store.registerAdapter

> ID：13267434
> 
> 赞同：2
> 
> 时间：2012-11-07T10:07:02.407
> 
> 标签：ember.js, ember-data

我尝试使用 ember-data 的“每种类型的适配器”功能。不确定我是否做错了什么，或者它是否是 ember-data 中的错误。基本上我认为它会像这样工作：

```
Person = DS.Model.extend({
  name: DS.attr('string')
});
var personAdapter = DS.Adapter.create();
DS.Store.registerAdapter(Person, personAdapter ); 
```

商店总是使用默认适配器而不是注册的“每种类型的适配器”我写了一个测试用例来说明我的意思：

```
var get = Ember.get, set = Ember.set;
var Person, store, adapter, personAdapter;

module("DS.Store and DS.Adapter 'adapter per type' integration test", {
  setup: function() {
    Person = DS.Model.extend({
      name: DS.attr('string')
  });

  adapter = DS.Adapter.create();
  personAdapter = DS.Adapter.create();

  DS.Store.registerAdapter(Person, personAdapter);
    store = DS.Store.create({ adapter: adapter });
  },

  teardown: function() {
    adapter.destroy();
    store.destroy();
  }
});

test("test function on the per type adapter", function() {

  adapter.find = function(store, type, id) {
    ok(false, "should call find on the registered 'per type adapter' not on the default one");
  };

  personAdapter.find = function(store, type, id) {
    store.load(Person, {
      'id': 1,
      'name': "My Name"
    });
  };

  var person = store.find(Person, 1);
  equal(person.get('name'), "My Name");
}); 
```

在调试时，我注意到“DS.Mappable._reifyMapping”混合显式检查 DS.Store 并在“this”是 DS.Store 时停止。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-05T14:33:54.763

这应该有效。

```
var get = Ember.get, set = Ember.set;
var Person, StoreClass, store, adapter, personAdapter;

module("DS.Store and DS.Adapter 'adapter per type' integration test", {
  setup: function() {
    Person = DS.Model.extend({
      name: DS.attr('string')
    });

    adapter = DS.Adapter.create();
    personAdapter = DS.Adapter.create();

    StoreClass = DS.Store;
    StoreClass.registerAdapter(Person, personAdapter);
    store = StoreClass.create({ adapter: adapter });
  },

  teardown: function() {
    adapter.destroy();
    store.destroy();
  }
});

... 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-05-29T18:25:00.480

这里之前的答案不再有效（从 Ember Data 1.0.beta.1 开始）。

根据[changelog](https://github.com/emberjs/data/blob/81f8e7c43454584b746dba8d1440904e27eb4980/TRANSITION.md#per-type-adapters)，您现在使用 ModelNameAdapter 语法。例如，

```
App.Person = DS.Model.extend({
    ...
});

App.CustomAdapter = DS.Adapter.create({
    url: 'your/custom/url'
});

App.PersonAdapter = App.CustomAdapter; 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-03-08T16:28:42.583

有一个错误报告：[Per-type Adapter not respected in case`commit`](https://github.com/emberjs/data/issues/616)

编辑：删除不适当的评论。

# android - 安卓软键盘

> ID：13267443
> 
> 赞同：0
> 
> 时间：2012-11-07T10:07:39.043
> 
> 标签：android

Android软键盘在导航到其他文本框时不会自动从**数字模式切换到****字母模式**，为什么？

 *** * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T10:14:21.593

```
android:inputType="select ur appropriate mode" 
```

对于您的特定文本框

示例，如下图所示

```
 <EditText 
        android:id="@+id/editText1"
        android:inputType="text"=========returns text keyboard
        android:layout_width="wrap_content"
        android:layout_height="wrap_content" />

<EditText 
        android:id="@+id/editText1"
        android:inputType="number"=======returns numeric keyboard
        android:layout_width="wrap_content"
        android:layout_height="wrap_content" /> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T10:33:11.657

您必须使用该`inputType`属性来指示您想要什么类型的键盘。

例如，假设您有 2 个编辑框：

```
//alphabet keyboard is shown when user focus is on this box

<EditText 
        android:id="@+id/editText1"
        android:inputType="text"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content" />

//numeric keyboard is shown when user focus is on this box   

<EditText 
        android:id="@+id/editText2"
        android:inputType="number"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content" /> 
```**

# sql - wordpress get_results($sql, ARRAY_A) 查询评论有重复评论

> ID：13267446
> 
> 赞同：0
> 
> 时间：2012-11-07T10:07:49.283
> 
> 标签：sql, wordpress

用于`get_results($sql, ARRAY_A)`查询 wp_comments 时，结果中有注释。

sql如下

```
SELECT comment_ID,comment_parent,comment_author,comment_author_url,comment_author_email,comment_content,comment_date,comment_type,ck_rating_up,ck_rating_down 
FROM $wpdb->comments 
LEFT JOIN $comment_rating_table 
ON ($wpdb->comments.comment_ID = $comment_rating_table.ck_comment_id) 
WHERE comment_post_ID = $post_id AND comment_approved = 1 
order by comment_id ASC 
```

如何避免重复评论？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-03-19T02:01:08.650

被问到的问题是，如何获得不包含重复项的结果。由于没有提到哪个字段，我假设它是文本类型的主要评论字段，这意味着您不能在其上使用 DISTINCT。

然而，由于这个字段包含评论而不是小说的文本，那么评论字段根本不应该是文本类型的。因此，需要将字段从文本类型转换为 varchar 类型，并使用 (max) 作为字段大小。

varchar(max) 字段可以保存 64k 的数据，根据使用的字母表，大约是 10,000-20,000 个单词。这应该足够容纳一篇 40 页的文章或一条评论。

至于 SQL：

```
 SELECT comment_ID,comment_parent,comment_author,comment_author_url,comment_author_email,comment_content,comment_date,comment_type,ck_rating_up,ck_rating_down 
    FROM $wpdb->comments 
    LEFT JOIN $comment_rating_table 
    ON ($wpdb->comments.comment_ID = $comment_rating_table.ck_comment_id) 
    WHERE comment_post_ID = $post_id
    AND comment_approved = 1
    AND comment_ID IN (SELECT DISTINCT( comment_content ) FROM $wpdb->comments 
    LEFT JOIN $comment_rating_table 
    ON ($wpdb->comments.comment_ID = $comment_rating_table.ck_comment_id) 
    WHERE comment_post_ID = $post_id AND comment_approved = 1)
    order by comment_id ASC 
```

更快的选项是使用 GROUP BY comment_content 代替 DISTINCT，然后选择 MIN 或 MAX

```
 SELECT comment_ID,comment_parent,comment_author,comment_author_url,comment_author_email,comment_content,comment_date,comment_type,ck_rating_up,ck_rating_down 
    FROM $wpdb->comments 
    LEFT JOIN $comment_rating_table(
    SELECT MAX(comment_id) AS id FROM comment GROUP BY comment_content
   maxid ON ($wpdb->comments.comment_ID = $comment_rating_table.ck_comment_id)  WHERE comment_post_ID = $post_id AND comment_approved = 1) order by comment_id ASC 
```

# http - 用于测试的 Cookie 隔离

> ID：13267449
> 
> 赞同：0
> 
> 时间：2012-11-07T10:07:54.333
> 
> 标签：http, testing, selenium, load-testing, phantomjs

我想要一个网页的多个实例一次进行测试。每次使用不同的用户，因此使用不同的 cookie。

为了节省时间，我想并行运行这些测试。问题是浏览器实例共享 cookie。因此，两个用户不能同时在不同窗口的同一浏览器上的同一台计算机上登录。

我正在寻找一种方法来同时运行具有不同 cookie 的多个页面。我对任何解决方案持开放态度：PhantomJS、Selenium 等......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T10:12:03.523

登录后，您可以尝试使用selenium RC 的**selenium.deleteAllVisibleCookies()**方法删除当前会话的 cookie 。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T10:13:29.753

我确信 Firefox 的 selenium 实例不共享 cookie。
你可以选择硒。
发生的情况是，当调用 selenium 会话时，它会在 TEMP 目录（对于 Windows）中创建浏览器的临时配置文件并对其执行所有操作。
**您可以按如下方式**
创建一个 firefox 配置文件，并将其配置为永远不会记住历史记录并使用该配置文件来调用 browser 。
对于其他浏览器，保留默认设置，因为它们永远不会记住历史记录

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-07-28T12:28:40.517

您可能知道，cookie 绑定到域。

如果您可以让每个页面或选项卡使用稍微不同的域（如别名），那么这些 cookie 可以共存。

这种域别名可以使用代理服务器来完成。

我过去使用 Privoxy 得到了结果。

最近，我尝试使用我在这里写过的 mitmproxy。

[https://gist.github.com/sharedvices/6098357](https://gist.github.com/sharedvices/6098357)

# c++ - InterBase ToGo 试用许可证不起作用

> ID：13267451
> 
> 赞同：0
> 
> 时间：2012-11-07T10:08:01.837
> 
> 标签：c++, c++builder, firemonkey, interbase

（Interbase ToGo 是 InterBase sql 数据库的嵌入式版本。）

我正在通过从 Windows 7 应用程序访问 InterBase ToGo 进行简单的评估。但是，当我运行我的应用程序时，我会弹出一个提示“产品 INTERBASE 未获得许可。”。关闭弹出窗口会终止我的应用程序。

我仔细检查了使用 Sysinternal 的 Process Monitor 工具打开的文件，据我所知，我从 Embarcadero（InterBase 背后的公司）获得的许可证文件是从正确的路径读取的。

我的 IB ToGo 90 天试用许可证还剩 80 多天，所以这应该不是问题。

最近有没有人在使用试用许可证时让 InterBase ToGo 工作？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T16:02:10.273

毕竟这行得通。问题可能是在 InterBase ToGo 数据库上一次可能只有一个连接处于活动状态。在我尝试从正在运行的应用程序中使用它的同时，我可能在 Rad Studio 中打开了数据库。

在本例中，我使用 Rad Studio XE3 创建了一个简单的应用程序。我使用 VCL 和 dbExpress 来创建应用程序。步骤是：

1.  **使用IBConnect**工具创建数据库文件。这可确保文本采用 UTF-8 编码（非英文文本）。确保 char/nchar 列具有 charset utf8 以获得良好的度量。
2.  在 XE3 中创建项目
3.  将组件添加`TSQLConnection`到`TSQLDataSet`VCL 表单中。在其中设置引用。
4.  确保连接上的“服务器字符集”是 utf8。
5.  `TStringGrid`在表单中添加一个
6.  创建从网格到数据集的实时绑定。
7.  向数据集添加一条 SQL 语句，例如`select * from customers`
8.  确保调用 DataSet 的`Open()`函数。

网格现在应该填充（示例）数据！

# c# - 有没有支持 WinRT 的免费 XMPP 库？

> ID：13267456
> 
> 赞同：1
> 
> 时间：2012-11-07T10:08:28.590
> 
> 标签：c#, windows-8, xmpp

谁能告诉我支持 WinRT 的 XMPP 库，我尝试过 Jabber-Net、agsXMPP，这些都不起作用。. .

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-08-20T18:34:32.933

我没有尝试过，但是有一个在 lgpl v3 下分发的开源 xmpp 库，用于 Windows 8 聊天应用程序。

这里是库：[https](https://github.com/PaulFreund/xmpp) ://github.com/PaulFreund/xmpp ，这里是应用程序（我认为你可以将其用作参考）：[https ://github.com/PaulFreund/Chat/](https://github.com/PaulFreund/Chat/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-07T10:53:54.233

WinRT 中没有可使用的免费 XMPP 库。唯一可用的库是 Matrix dll。

# arrays - 使用 char 数组将空终止字符数组写入对象类

> ID：13267460
> 
> 赞同：2
> 
> 时间：2012-11-07T10:08:47.417
> 
> 标签：arrays, string, heap-memory, stack-memory

首先我想说我是新手`C++`，这是一个家庭作业。另外，我不确定我在标题中使用了正确的定义，如果我错了，请纠正我。

我必须创建一个字符串类来存储以空字符结尾的字符数组的内容。如果输入的长度大于 32，则将其存储在堆中，否则将其存储在堆栈中。

现在我正忙于构造函数：

```
 #include "SString.h"   
 #include <iostream>

using namespace std;

SString::SString(const char* input)
{
    // Determine length of input
    int length = 0;
    while (input[length] != '\0')
    {
        length++; 
    }
    // Check for zero length
    if (length == 0)
    {
        st_string[1] = ' ';
    }
    // Based on length, make heap string or use stack string
    if(length > 32) 
    {
        int i = 0;
        p_string = new char[length];
        while (i != length) //write string with input
        {
            p_string[i] = input[i];
            i++;
        }
    }
    else 
    {
        int i = 0;
        while(i != length) //write string with input
        {
            st_string[i] = input[i];
            i++;
        }
    }
    cout << "saved string:" << endl;
    cout << p_string << endl;
} 
```

现在我通过在 main 中使用这样的字符串调用 SimpleString 来测试它：

```
 SString("test"); // or something 
```

它可以工作，将字符串放在`st_string`或`p_string`但在这两种情况下，存储的字符串在末尾都有更多（奇怪的未定义）字符。所以在“测试”的情况下，我得到 test#54 或其他东西。

我猜它使保存的 char 数组大于输入的 char 数组，但我不明白为什么。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T10:16:00.897

您的`while (i != length)`循环不会将 final 复制`\0`到新字符数组中。您应该将它们更改为

```
while (i <= length) //write string with input
{
    appropriate_string[i] = input[i];
    i++;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T10:16:16.800

我发现您的代码存在一些问题。首先，究竟是什么意思：

```
// Check for zero length
if (length == 0)
{
    st_string[1] = ' ';
} 
```

? 如果其余代码完全健壮，则自然会处理空字符串的情况。您在这里所做的只是使其在原始字符串中有空格时无法可靠地使用您的类。

至于为什么您会遇到您要询问的特定错误 - 想想当您逐个字符复制时您在做什么。您的原始字符串是这样的：

`t e s t \0`

并且`length`是 4。这意味着你的循环更远会将 4 个字符复制到本地数组中。你看到这里的问题了吗？

> 我猜它使保存的字符数组大于输入的字符数组，但我不明白为什么。

恰恰相反，事实上。看，我遗漏的部分是你在内存中的字符串*之后的部分。*原文是：

`t e s t \0 # # # #`

其中`#`'s 基本上是随机字节。正在复制字符串，使其变为：

`t e s t # # # #`

因为你没有复制\0。将字符串读回的循环将继续进行，直到它到达一个空字节 - 但你无法知道它会在哪里，因为你自己没有把它放在那里。如果它碰巧被丢弃在内存中，它看起来像这样：

`t e s t \54 \0 # # #`

那么你只会得到一个垃圾字符，但它可能会更多。所以实际上，在某种程度上，您保存*的*字符串比您预期的要长，但不是正常意义上的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T10:16:38.010

在你的while循环之后，你一个一个地复制字符，就在这个while循环之后，你需要将字符串结尾字符添加到你的变量中

```
st_string[i] = '\0'; 
```

# mongodb - 向 MongoDB 文档添加新字段

> ID：13267465
> 
> 赞同：1
> 
> 时间：2012-11-07T10:09:06.687
> 
> 标签：mongodb, pascal

我坚持向现有文档添加新字段。

以下是我的程序 AddNewField 用于测试目的。

在代码之后你可以看到我的收藏有两个文档：第一个是更新前，第二个是更新后。

第一个（更新之前）是包含所有字段的原始文档。最后一个（更新后）只有“_id”字段和“new_field”

最后但并非最不重要的是，我注意到虽然第一个文档有“_id”：ObjectId（“509a2d81f10a00000000000a”）最后一个文档有“_id”：“509a2d81f10a00000000000a”

我正在尝试使用特殊的更新运算符 $set。

我做错了什么？

```
procedure AddNewField(const aGfs: TGridFS; const  aGfsName: string);
var
  command: IBson;
  bb: IBsonBuffer;
  query: IBson;
  gf: IGridfile;
  OID: string;
begin
  gf := aGfs.find(aGfsName, False);

  OID := gf.getID().AsString;
  query := BSON(['_id', OID]);

  bb := NewBsonBuffer;
  bb.startObject(PAnsiChar('$set'));
  bb.AppendStr(PAnsiChar('new_field'), PAnsiChar('The Boss wins!'));
  bb.finishObject;
  command := bb.finish;

  FMongo.update('fsdb.fs.files', query, command, updateUpsert);
end; 
```

* * *

在调用 FMongo.Update 之后，我的收藏现在有两个文档！

```
/* Before Update */
{
  "_id" : ObjectId("509a2d81f10a00000000000a"),
  "filename" : "Test Document.pdf",
  "length" : NumberLong(7855753),
  "chunkSize" : 262144,
  "uploadDate" : ISODate("2012-11-07T09:44:33Z"),
  "md5" : "e803de3a59bf7098bb419e005162e950",
  "flags" : 0
}

/* After Update */
{
  "_id" : "509a2d81f10a00000000000a",
  "new_field" : "The Boss wins!"
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T12:18:08.170

问题是 OID 是一个字符串。当您使用 upsert = true 进行更新时，不存在 _id = "509a2d81f10a00000000000a"（字符串）的文档，因此使用您提供的 _id 创建一个新文档。以这种方式使用之前，您需要将 OID 转换为 ObjectID。

# c# - 在 Android 的 Mono 中运行长时间操作时无法显示等待消息

> ID：13267476
> 
> 赞同：0
> 
> 时间：2012-11-07T10:09:50.117
> 
> 标签：c#, android, mono

在运行长时间操作时，我试图通过 Toast 显示等待消息。我正在使用 BackgroundWorker。此代码位于 ListView_ItemClick 事件处理程序中：

```
var bgWait = new BackgroundWorker();
bgWait.DoWork += bgWait_DoWork;
bgWait.RunWorkerAsync();
bgWait.RunWorkerCompleted += bgWait_Completed; 
```

bgWait_DoWork 事件处理程序中的代码如下：

```
private void bgWait_DoWork(object sender, DoWorkEventArgs e)
{
var toastWait = Toast.MakeText(this, "Please wait", ToastLength.Long);
toastWait.SetGravity(GravityFlags.Top & GravityFlags.Center, 0, 0);
toastWait.Show();
TimeConsumingOperation();
toastWait.Cancel();
} 
```

当我在调试模式下运行时，似乎只到达了 bgWait_DoWork 的第一行 - "var toastWait = Toast.MakeText(this, "Please wait", ToastLength.Long);" - 然后它跳转到 bgWait_Completed 事件处理程序。

知道为什么会这样吗？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T11:35:02.990

您正在从辅助线程调用与 UI 相关的 API（bgWait_DoWork 在辅助线程上执行）。

您必须改为执行以下操作：

```
private void bgWait_DoWork(object sender, DoWorkEventArgs e)
{
    Toast toastWait = null;
    RunOnUIThread (() => 
    {
        toastWait = Toast.MakeText(this, "Please wait", ToastLength.Long);
        toastWait.SetGravity(GravityFlags.Top & GravityFlags.Center, 0, 0);
        toastWait.Show();
    });
    TimeConsumingOperation();
    RunOnUIThread (() =>
    {
        toastWait.Cancel(); 
    });
} 
```

}

# java - 静态和公共定位

> ID：13267480
> 
> 赞同：2
> 
> 时间：2012-11-07T10:10:00.090
> 
> 标签：java, readability, code-readability

我正在使用 Apache log4j (http://logging.apache.org/log4j/2.x/)，我意识到在他们的实现中他们总是这样声明他们的函数：

```
 static
  public
  Logger getLogger(Class clazz) {
    return LogManager.getLogger(clazz.getName());
  } 
```

代替

```
 static public Logger getLogger(Class clazz) {
    return LogManager.getLogger(clazz.getName());
  } 
```

使用这种风格有什么好的理由吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T10:37:32.363

在[常见问题解答](http://logging.apache.org/log4j/1.2/faq.html#a4.2)中它说：

> Log4j 采用了一种相当保守的方法**，遵循 JavaTM**编程语言的代码约定

但是，如果您查看[Java Coding Conventions](http://www.oracle.com/technetwork/java/javase/documentation/codeconventions-137946.html#186)中的示例，您会发现所有修饰符都在函数之前的一行中：

```
public void doSomethingElse(Object someParam); 
```

如果我不得不猜测，我会说它`diff`在提交补丁时更容易被发现，也可能避免排长队。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T10:43:06.470

不同的人不同的编码风格......在大多数情况下，选择一种编写代码的方式是个人的选择。

我将亲自将签名写在一行中，以便每个人都更容易理解，并且大多数情况下不会让其他阅读我的代码的人感到困惑。:)

# apache-flex - 在 flex 4.6 中添加背景图片

> ID：13267481
> 
> 赞同：1
> 
> 时间：2012-11-07T10:10:00.540
> 
> 标签：apache-flex

做一个 Flex 4.6 移动应用程序我正在尝试添加一个资产 .png 文件，以在所有不同的视图和方向上显示为应用程序的背景。有没有人想出办法做到这一点？

任何帮助，将不胜感激 ：）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-09T15:03:33.883

我一直在这个洞里，我知道出路。

您需要为您的应用程序创建一个皮肤类。不必太复杂，这就是我的文件 (appSkin.mxml) 的样子。

```
<?xml version="1.0" encoding="utf-8"?><s:Skin xmlns:fx="http://ns.adobe.com/mxml/2009" 
    xmlns:s="library://ns.adobe.com/flex/spark">
<fx:Metadata>
    [HostComponent("spark.components.View")]
</fx:Metadata>

<!-- states -->
<s:states>
    <s:State name="disabled" />
    <s:State name="normal" />
</s:states>

<s:BitmapImage  source="@Embed('assets/bg.png')" width="100%" height="100%" />

<s:Group id="contentGroup" width="100%" height="100%" minWidth="0" minHeight="0" />

<!-- SkinParts
name=contentGroup, type=spark.components.Group, required=false
--> 
```

然后，您需要在应用程序的开始标记中 将该文件声明为应用程序的*skinClass ……</p>*

```
<s:Application xmlns:fx="http://ns.adobe.com/mxml/2009" 
           xmlns:s="library://ns.adobe.com/flex/spark" applicationDPI="320"
           creationComplete="creationCompleteHandler()" xmlns:views="views.*" skinClass="skins.appSkin"> 
```

然后你必须做最后一步。您的每个 View 组件都带有一个不透明的背景层，因此您需要在每个组件中显式地将*backgroundAlpha*值设置为 0。

```
<s:View xmlns:fx="http://ns.adobe.com/mxml/2009" 
    xmlns:s="library://ns.adobe.com/flex/spark" title="Start" backgroundAlpha="0"> 
```

这应该可以完成您的任务，即跨多个视图为您的应用程序维护一个通用背景图像。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-11-07T14:45:27.110

尝试这样的事情：

```
<s:View>
 <fx:Script>
    [Embed(source="myImage.gif")]
    public var myImage :Class;
  </fx:Script>
  <s:Image source="myImage" width="100%" height="100%"/>
</s:View> 
```

[关于在 Flex 中嵌入图像的信息](http://livedocs.adobe.com/flex/3/html/help.html?content=embed_4.html)

但是，我并不期待完美的结果。PNG 是预渲染的位图。很可能它不会在所有视图和方向[和分辨率]上看起来都正确，因为 PNG 的元素可能会倾斜、拉伸或压缩，并且会动态调整大小；例如从纵向切换到横向时。

# java - 仅从 Cloudwatch api 获取 value 字段

> ID：13267484
> 
> 赞同：0
> 
> 时间：2012-11-07T10:10:17.787
> 
> 标签：java, amazon-web-services, amazon-cloudwatch

我有一些从 cloudwatch api 重试的数据。具体来说，我用过[`listMetrics`](http://docs.amazonwebservices.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/cloudwatch/AmazonCloudWatchClient.html#listMetrics%28com.amazonaws.services.cloudwatch.model.ListMetricsRequest%29). 我从这个电话中得到的数据是：

```
{Metrics: [{Namespace: Testing, MetricName: hello123, Dimensions: [{Name: name, Value: 1425, }], }, {Namespace: Metric from grails, MetricName: hello123, Dimensions: [{Name: name, Value: 1068, }], }, 
```

正如我所料，这是正确的数据。我需要一种只返回`value`字段的方法。不是其他的东西。在java中有没有办法做到这一点？

### 编辑：

我用于创建指标的代码是：

```
MetricDatum metricDatum = new MetricDatum().withMetricName("hello123").withValue(80.0)
Dimension tableDimension = new Dimension()
tableDimension.withName("hello123")
tableDimension.withValue("somvalues")
Collection<Dimension> values = new ArrayList<Dimension>();
values << tableDimension
metricDatum.withDimensions(values)
cloudWatch.putMetricData(new PutMetricDataRequest().withNamespace("Metric from grails").withMetricData(metricDatum)) 
```

为了列出维度值，我使用：

```
DimensionFilter tableDimension2 = new DimensionFilter() 
tableDimension2.withName("hello123")
Collection<DimensionFilter> values2 = new ArrayList<DimensionFilter>();
values2 << tableDimension2
query = new ListMetricsRequest().withNamespace("Testing").withDimensions(values2)
def result = amazonWebService.cloudWatch.listMetrics(query) 
```

我在哪里犯错误？

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-10T21:32:49.493

CloudWatch 中的 ListMetrics API 调用仅返回指标定义。您在 ListMetrics 调用的响应中看到的值不是数据点值，而是维度（名称，值）对，它是指标定义的一部分，以及指标名称和命名空间。

为了获取您提交的数据点值，请使用**GetMetricStatistics** API 调用。您不能为一组指标调用它。它仅适用于单个指标并返回请求时间间隔的数据点值。将其视为获取数据点以构建单个图表的调用。

您的整体逻辑可能是这样的：1) 调用 ListMetrics 2) 对于 ListMetrics 中返回的每个结果，调用 GetMetricStatistics。

# facebook-opengraph - Facebook 时间线聚合仅显示

> ID：13267490
> 
> 赞同：1
> 
> 时间：2012-11-07T10:10:34.703
> 
> 标签：facebook-opengraph, aggregation, facebook-timeline

我已经设置了这个对象：

追踪

我有两个动作：

提名
投票

我有 2 个聚合：

提名曲目
投票曲目

我在我的时间线上发布了几张选票和提名，但汇总只显示选票。我看过几个帖子（[这个](https://stackoverflow.com/questions/9878430/how-to-display-an-aggregation-of-an-object-that-is-connected-to-another-object) [和这个](https://stackoverflow.com/questions/12520224/getting-only-1-aggregation-on-timeline-and-not-a-report)）有同样的问题，但没有一个得到有效的答案。当我查看 facebook 文档时，它显示了一个包含多个列表的示例聚合，但它对我不起作用！

有人可以帮忙吗？

# android - 如何实现我的 android 应用程序在运行应用程序时使用更少的电池？

> ID：13267493
> 
> 赞同：1
> 
> 时间：2012-11-07T10:10:36.527
> 
> 标签：android

我正在实现一个 android 应用程序，我需要在 android 设备上使用（运行）我的应用程序时减少电池使用量。我不知道如何限制电池使用量。如果有人对此有任何想法，请帮助我。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T10:16:05.427

[http://developer.android.com/training/monitoring-device-state/index.html](http://developer.android.com/training/monitoring-device-state/index.html)

访问上面的链接，它将对您有所帮助....

# javascript - 如果 Div 或其子项包含特定的字符串/子字符串？

> ID：13267495
> 
> 赞同：3
> 
> 时间：2012-11-07T10:10:39.127
> 
> 标签：javascript, jquery, string, search

在 JQuery/JavaScript 中，如何确定 Div 在其子元素之一中是否包含特定字符串/子字符串？我已经研究了两者`contains`，`indexOf`但找不到任何关于我的特定情况的示例，如果找到该字符串的唯一字符串/子字符串，我需要执行不同的操作。

**伪代码：**

```
if (div contains (itself or child nodes) "this string/part of this string")
then do something
else 
then do something else 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-07T10:13:09.393

您可以使用div 的[**text()**](http://api.jquery.com/text/)来获取当前 div 及其子项的所有文本，

```
if('#divId').text().indexOf("this string/part of this string") != -1)
{

}
else
{

} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-07T10:12:50.003

这个怎么样：

```
$('#yourDiv:contains("search text")').length > 0 
```

或者，您可以这样做：

```
$('#yourDiv').text().indexOf("search text") !== -1 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-07T10:32:13.770

contains 选择器和 indexOf 函数都区分大小写，因此如果重要，请尝试：

```
var re = new RegExp( "regex", "i");

if( re.test( $("#div").text() ) ) // returns boolean 
```

# vim - 插入会自动删除的空格

> ID：13267496
> 
> 赞同：2
> 
> 时间：2012-11-07T10:10:48.837
> 
> 标签：vim, indentation

我使用以下代码`cc`在该行不为空时保留现有缩进，并在该行为空时使用计算的缩进（使用`indentexpr`）。

```
function SmartCC()
  if getline('.') !~# '\S'
    return 'cc'
  else
    let spaces = repeat(' ', indent('.'))
    return '0d$i' . spaces
  endif
endfunction
nnoremap <expr> cc SmartCC() 
```

我唯一遇到的问题是，与内置 不同的是，它会`cc`插入“真实”空格而不是“暂定”空格，如果在该行上没有键入任何内容，则会自动删除这些空格。

有没有办法插入这样的暂定空格？

或者也许我想要实现的目标已经可以通过设置一些秘密选项来实现？

为了清楚起见，删除*所有*尾随空格的插件不是解决方案。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T17:45:49.490

尝试以下技巧：

```
function SmartCC_IndentExpr(indent, savedindentexpr)
    let &l:indentexpr=a:savedindentexpr
    return a:indent
endfunction
function SmartCC()
    if getline('.')=~#'\S'
        let &l:indentexpr='SmartCC_IndentExpr('.indent('.').', '.string(&l:indentexpr).')'
    endif
    return 'cc'
endfunction
nnoremap <expr> cc SmartCC() 
```

. 这个想法是`&l:indentexpr`只为评估期设置`cc`。众所周知，在这种情况下只检查一次缩进，并且在这种情况下`cc`之前没有任何东西触发检查，那么在第二次检查缩进之前，它本身可以用于恢复，因为另一个原因。`cc``&l:indentexpr``&l:indentexpr`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T10:21:23.050

`cc`已经足够聪明，可以保留当前行的缩进。你有`autoindent`吗？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-08T00:17:54.053

我不能说按需空间剥离，但我有这个可以在保存时删除尾随空格，也许这对你来说就足够了吗？

```
autocmd BufWritePre *.{c,cpp,h}  %s/\s\+$//e 
```

# vb.net - 更新时DatagridView崩溃App导致滚动条出现

> ID：13267509
> 
> 赞同：1
> 
> 时间：2012-11-07T10:11:49.473
> 
> 标签：vb.net, multithreading, datagridview

我的 vb.net 4.0 项目是内部交易平台。

**一个名为MsgPad**的单独表单包含一个名为**MsgPadDG**的 Datagridview 。

**Form-load** sub 做了两件事：格式化datagridview 并定义一个用于刷新gridview 的计时器。

第二个 Sub，**UpdateMyMsg** ，通过**NewMessage**事件从线程化的**UIUpdaterEngine接收更新，并更新****MyMessages**对象（基本上是一个数据表）。

 ****第三个子**组件 UpdateMdgPadDGW**使用调用方法更新/刷新数据网格视图（可能没有必要，因为计时器是在 UI 线程中定义的）。

最后 Datagridview 属性：行定义为**不可编辑**， **AutoSizeRowsMo​​de = Displayedcells**和**ScrollBars = Both**。

我的问题是当更新过程添加超出datagridview限制的行时，整个App崩溃，导致出现滚动条。我尝试不使用计时器（直接在 UpdateMyMsg Sub 中调用数据源更新），使用计时器，但问题始终存在。奇怪的事情：**Try-Catch**块没有捕获任何东西。

提前感谢您的重播。

爱德华多

代码来了：

```
Public Class MsgPad
Private WithEvents _MyUIUpdaterEngine As MyUIUpdaterEngine = MyUIUpdaterEngine.Instance
Private MyMessages As New Messages
Private LastUpdate As DateTime = TimeValue("08:00:00")
Private ObjLock As New Object
Private NewMessages As Boolean = False
Dim UpdateDGWTimer As New System.Timers.Timer

 Private Sub MsgPad_Load(sender As System.Object, e As System.EventArgs) Handles MyBase.Load
    Try
        '--
        MsgPadDG.DataSource = MyMessages.DTable
        '--
        With MsgPadDG
            '--
            .Columns("Msg_ID").Visible = False
            .Columns("I_CommandID").Visible = False
            .Columns("B_ID").Visible = False
            .Columns("F_ID").Visible = False
            .Columns("T_TV").Visible = False
            .Columns("T_Sign").Visible = False
            .Columns("T_Mde").Visible = False
            .Columns("T_QU").Visible = False
            .Columns("T_QI").Visible = False
            .Columns("T_QF").Visible = False
            .Columns("T_PI").Visible = False
            .Columns("T_PF").Visible = False
            '--
            .Columns("Msg_RecDate").HeaderText = "Date"
            .Columns("Msg_RecDate").Width = 50
            .Columns("Msg_RecDate").DefaultCellStyle.Format = "HH:mm:ss"
            .Columns("I_Symbol").HeaderText = "Symbol"
            .Columns("I_Symbol").Width = 80
            .Columns("I_Des").HeaderText = "Des"
            .Columns("I_Des").Width = 180
            .Columns("Msg_Text").HeaderText = "Message"
            .Columns("Msg_Text").Width = 250
            '--

        End With

        '--Crea timer per l'Update del DAtagridView
        AddHandler UpdateDGWTimer.Elapsed, AddressOf UpdateMsgPadDGW
        UpdateDGWTimer.Interval = 3500
        UpdateDGWTimer.Enabled = True
 .....
 .....
 End Sub

 Private Sub UpdateMyMsg(ByVal CRec As OrderRecord, ByVal Msg As String) Handles _MyUIUpdaterEngine.NewMessage

    Try
        SyncLock ObjLock
            '--Aggiorna la tabella MyMessages
            MyMessages.Add(CRec, Msg)
            NewMessages = True
            '--Parla messaggio
            Dim synth As New SpeechSynthesizer
            Dim TalkMsg As String = Msg
            If CRec.I_Des <> Nothing Then TalkMsg += " su: " + CRec.I_Des
            synth.SpeakAsync(TalkMsg)
        End SyncLock
 .....
 .....
 End Sub

 Private Sub UpdateMsgPadDGW(source As Object, e As ElapsedEventArgs)

    '--Aggiorna MesssagePad
    Try
        SyncLock ObjLock
            If NewMessages Then
                MsgPadDG.ControlInvoke(Sub(l)
                                           MsgPadDG.DataSource = MyMessages.DTable
                                           MsgPadDG.Refresh()
                                           MsgPadDG.ClearSelection()
                                       End Sub)
                NewMessages = False
            End If
        End SyncLock
 .....
 .....
 End Sub 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T14:03:03.753

```
 '--Aggiorna la tabella MyMessages
        MyMessages.Add(CRec, Msg)
        NewMessages = True 
```

这是一个致命的错误，DGV 绑定到 MyMessages。因此，在工作线程中调用 Add() 会导致控件从错误的线程更新。您通常会从错误的线程访问控件获得 IllegalOperationException，但不幸的是，这不适用于绑定数据。

您需要以不同的方式执行此操作，让工作人员将消息添加到列表中。然后在调用的代码中使用这些新消息更新 MyMessages。

另请注意，您的计时器**不是**您在问题中假设的安全计时器。只有 System.Windows.Forms.Timer 是安全的，其 Tick 事件处理程序将在 UI 线程上运行。然后你也不需要再调用了。****

# asp.net - CSS 3 动画效果在 IE 中不起作用

> ID：13267512
> 
> 赞同：2
> 
> 时间：2012-11-07T10:12:15.917
> 
> 标签：asp.net, internet-explorer, css, effects

我正在尝试将来自 [Liffect - Effect for Lists](http://ademilter.com/lab/liffect/)的漂亮动画效果列表包含到我的 ASP.NET 应用程序中。

```
<form id="form1" runat="server">
    <div>
        <ul effects="pageTop">
            <li>
                <img src="Images/1.jpeg" alt="Car" /></li>
            <li>
                <img src="Images/2.jpeg" alt="Car" /></li>
            <li>
                <img src="Images/3.jpeg" alt="Car" /></li>
        </ul>
    </div>
    <script type="text/javascript">            
        $(document).ready(function () {
            $("ul[effects] li").each(function (i) {
                $(this).attr("style", "-webkit-animation-delay:" + i * 300 + "ms;"
                        + "-moz-animation-delay:" + i * 300 + "ms;"
                        + "-o-animation-delay:" + i * 300 + "ms;"
                        + "animation-delay:" + i * 300 + "ms;");
                if (i == $("ul[effects] li").size() - 1) {
                    $("ul[effects]").addClass("play")
                }
            });
        });
    </script>
</form> 
```

在这里你可以找到[JS Fiddler](http://jsfiddle.net/furqansafdar/ukD6X/9/)。

挣扎了几个小时后，我刚刚注意到这是在工作，`Firefox 16.x`但不是在`IE 9`. 这似乎是某种`CSS 3`问题，但不确定到底哪里错了。请帮助使其完全跨浏览器兼容（`IE`，，`Firefox`等`Chrome`）

我也很感激让我知道一些用于跨浏览器兼容`CSS 3`hack 的好资源`HTML 5`。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T10:19:41.013

最好看看这个关于 jQuery Fallbacks 的 CSS3 动画：http: [//msdn.microsoft.com/en-us/magazine/hh304380.aspx](http://msdn.microsoft.com/en-us/magazine/hh304380.aspx)

还有[http://modernizr.com/](http://modernizr.com/)用于“跨浏览器兼容的 CSS 3 hacks for HTML 5”

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T10:15:11.460

您使用的任何 CSS 都是 CSS3 IE7 和 IE8 将不支持 css3 属性。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T10:16:34.977

在 IE8 及更低版本中，您将无法获得对 CSS3 的任何支持。检查[这个不错的参考](http://caniuse.com/)，看看你想要使用的内容是否在主要浏览器中可用。

编辑您的上次更新：IE9 不支持动画

# infragistics - Infragistics Ultragrid 设计模式不断添加 RowScrollRegions

> ID：13267513
> 
> 赞同：0
> 
> 时间：2012-11-07T10:12:15.980
> 
> 标签：infragistics, ultrawingrid

我有一个多波段超网格，每个波段都有一个 ultragridrowedittemplate。

在设计视图中，超网格显示了几条水平线 - 每条都可以向下拖动以显示超网格带的视图。经过大量搜索后，我发现它们是行滚动区域，并且我在表单初始化过程中添加了一些代码以删除这些行滚动区域。

起初这很好，但是随着时间的推移，ultragrid 已经为其自身添加了越来越多的行滚动区域 - 现在加载应用程序时，运行代码需要越来越多的时间才能删除所有这些区域。

设计模式中是否有阻止添加这些行滚动区域的设置？我没有注意到添加它们时的模式。如果有人可以解释/帮助，将不胜感激！

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T14:41:16.707

在设计模式中，将分隔线拖到网格顶部以将其移除。要创建它们，应该在滚动条上方有一个手柄，您可以抓住并向下拖动。如果要防止在设计时或运行时创建它们，请将 DisplayLayout.MaxRowScrollRegions 设置为 1。

请注意，如果您不想要行或列滚动区域，您可能还希望将 DisplayLayout.MaxColScrollRegions 设置为 1。要删除 ColScrollRegions，请将分隔线拖到网格左侧以将其删除。如果您想将它们添加回来，滚动条的左侧有一个句柄。

# eclipse - 使用activemq和eclipse创建JMS消息并使用ANT自动化？

> ID：13267514
> 
> 赞同：-4
> 
> 时间：2012-11-07T10:12:15.070
> 
> 标签：eclipse, jms, activemq

我是 Java 编程的新手，但在我的课程中必须做 JMS 工作。但我不知道该怎么做。任何人都可以通过发送使用activemq和eclipse创建发布者/订阅者模型的非常清晰的分步过程来帮助我吗？如何集成这两者，我还必须使用 ant 使其自动化，但我不知道该怎么做。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T10:22:50.913

您可以通过简单的谷歌“ActiveMQ 入门”获得它们所以总是先尝试谷歌然后在这里询问。
无论如何，ActiveMQ 是一种消息传递服务。这些[1](http://techdiary.bitourea.com/2008/06/activemq-510-tutorial.html) , [2](http://www.javablogging.com/simple-guide-to-java-message-service-jms-using-activemq/) , [3](http://java-diaries.blogspot.com/2011/03/get-started-with-spring-jms-using.html)是非常清晰的教程。通过使用它们，您可以构建一个简单的消息服务，无论是使用队列还是主题。
但我强烈建议您按照[ActiveMQ 指南](http://activemq.apache.org/cms/index.html)寻求帮助。
现在您还想设置 eclipse 和 ant（因为我无法理解为什么需要 ant）然后[按照这个分步教程](http://www.vogella.com/articles/ApacheAnt/article.html)进行操作。
[这可能是所有教程中更好的教程现在您可以](http://thecrumb.com/thecrumb/2008/10/14/configuring-eclipse-to-use-command-line-ant/)[在此处](http://activemq.apache.org/getting-started.html)
找到使用 eclipse 逐步配置 activemq

# javascript - 当我将 div 元素添加到页面时，它会松开焦点滚动到顶部

> ID：13267517
> 
> 赞同：0
> 
> 时间：2012-11-07T10:12:20.420
> 
> 标签：javascript, jquery, html

当单击包含表单元素的 div 时，我有一个链接添加到页面。问题是当列表变得更长时。当我在页面末尾添加一个元素时，页面焦点回到顶部，使用户滚动回页面末尾。我该如何预防？我尝试使用`$(this).focus();`但没有用。

```
$("a[id^=link_add_section_]").live('click',function() { // create a section

                var sectionId = $(this).attr('id');
                var sectionIdSplit = sectionId.split('_');
                addSection(sectionIdSplit[3],'groupby');
                $(this).focus();
                alert(1);
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T10:17:50.730

为你的锚添加一个 id

```
<a href="#something" id="myAnchor">Something</a> 
```

绑定点击事件并防止默认

```
$("#myAnchor").click(function(event){
  event.preventDefault();
  return false;
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T10:23:29.927

尝试将窗口滚动到该 div 的位置：

```
 window.scrollTo(0,$("#MY_DIV").offset().top); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T10:18:57.690

如果您将“new_div_1”作为新添加的 div 的 id 并将焦点移动到新添加的 div，您可以这样做

```
$("body").animate({ scrollTop: $('#new_div_1').offset().top }, 1000); 
```

# syntax-highlighting - 在 Qtcreator 中为 #ifdef 中的代码启用语法高亮

> ID：13267528
> 
> 赞同：4
> 
> 时间：2012-11-07T10:13:28.810
> 
> 标签：syntax-highlighting, qt-creator

我一直在尝试启用语法突出显示并查看嵌入在#ifdedfine 块中的代码的调用层次结构，但我无法找到它的选项。谁能指点我该怎么做？它适用于其他代码/文件，它只是#ifdef 块中的代码（例如#ifdef CPP_UNIT ....#endif）。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-04T19:20:33.537

如果代码处于活动状态，`#ifdef`则块中的代码是语法高亮的（例如，如果`#ifdef Q_OS_WIN`在包含的标题`Q_OS_WIN`中定义了 a 和某处，则代码将突出显示。否则，它将显示为灰色。）

作为测试，请尝试暂时替换`#ifdef ...`为`#if 1`. 如果后者有效，那么您知道`...`该文件或任何包含的文件未定义。

# svn - 恢复报告忽略文件后的 svn 状态

> ID：13267529
> 
> 赞同：1
> 
> 时间：2012-11-07T10:13:29.173
> 
> 标签：svn, working-copy

我使用 shell 脚本更改了很多源代码文件，并使用命令恢复了更改`svn revert -R .`。每个更改都已正确撤消，但现在我想知道为什么`svn status`报告忽略了文件：

```
$> svn status
!    .
!    src
!    src/lib
!    src/lib/common
!    src/lib/common/parser
!    src/lib/common/parser/xml 
```

这是整个输出！我有更多的文件夹，但我不能告诉你为什么只有那些出现在这里。上面的文件夹都没有添加到 svn:ignore 属性！

有人知道发生了什么吗？

提前致谢 ...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T11:00:19.993

`svn help status`记录“！” 作为：

```
 '!' item is missing (removed by non-svn command) or incomplete 
```

这解释了发生了什么：一些文件被添加到颠覆中，然后被删除。“忽略”设置仅适用于从未添加的文件（或“未版本化文件”）。

“不完整”状态是此状态的另一个可能原因。在这种情况下，先前的更新操作被取消（或失败）。

在这两种情况下，您都可以通过简单地运行“svn update”（再次）来解决这个问题。

# opencv - 如何使用 OpenCv 设置 BGR24 格式？

> ID：13267535
> 
> 赞同：1
> 
> 时间：2012-11-07T10:13:45.853
> 
> 标签：opencv, v4l2, bgr

我有一个 V4L2 相机，可以抓取 JPEG 格式或 YUV422 或 BGR24 的帧。我想通过 OpenCV 将相机设置为 BGR24@640x480。为此，我做了以下设置：

```
capture = cvCreateCameraCapture(0);
cvSetCaptureProperty( capture, CV_CAP_PROP_FRAME_WIDTH, 640 );
cvSetCaptureProperty( capture, CV_CAP_PROP_FRAME_HEIGHT, 480 );
cvSetCaptureProperty( capture, CV_CAP_PROP_FOURCC, CV_FOURCC('B', 'G', 'R', '3')); 
```

但是opencv给了我以下错误信息：

```
HIGHGUI ERROR: V4L: Property <unknown property string>(6) not supported by device 
```

因此，openCV 设置了 JPEG@640x480 格式而不是 BGR24。我该如何解决？

注意：BGR24 格式已使用以下 gstreamer 管道进行了测试，并且可以正常工作：

```
gst-launch-0.10 v4l2src num-buffers=10 device=/dev/video0 ! 'video/x-raw-rgb,width=640,height=480,bpp=24,depth=24,red_mask=255,green_mask=65280,blue_mask=16711680,endianness=4321' ! filesink location=/tmp/output10.rgb24 
```

亲切的问候

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T10:36:30.307

我会检查您是否访问了正确的相机

如果您有多个不同 N in 的摄像机，`cvCreateCameraCapture(N)`则应在它们之间循环。

除此之外，我会检查网络摄像头本身是否符合 UVC 规范。V4L 可能无法查询凸轮的参数。

仅仅因为Camera支持某种格式的采集，如果它不严格遵守Usb Video Class，OpenCV不能保证能够检测到它可以采集该格式，据我所知，不能强迫。

# gcc - gmp, mpc + mpfr：不是符号链接

> ID：13267539
> 
> 赞同：1
> 
> 时间：2012-11-07T10:13:57.800
> 
> 标签：gcc, linker, gmp, mpfr, mpc

我构建了 gcc 4.6.1，当我运行`ldconfig`它时，它会返回以下结果：

```
ldconfig: /usr/local/mpc/lib/libmpc.so.2 is not a symbolic link

ldconfig: /usr/local/gmp/lib/libgmp.so.3 is not a symbolic link

ldconfig: /usr/local/mpfr/lib/libmpfr.so.1 is not a symbolic link 
```

这是我使用库构建 gcc 的方式：

```
tar jxf gmp-4.3.2.tar.bz2
cd gmp-4.3.2/
./configure --prefix=/usr/local/gmp
make
make install
cd ..

tar jxf mpfr-2.4.2.tar.bz2
cd mpfr-2.4.2/
./configure --prefix=/usr/local/mpfr --with-gmp=/usr/local/gmp
make
make install 
cd ..

tar xzf mpc-0.8.1.tar.gz
cd mpc-0.8.1
./configure --prefix=/usr/local/mpc --with-mpfr=/usr/local/mpfr --with-gmp=/usr/local/gmp
make
make install
cd ..

tar jxf gcc-4.6.1.tar.bz2
cd gcc-4.6.1
./configure --prefix=/usr/local/gcc --enable-threads=posix --disable-checking -disable-multilib --enable-languages=c,c++ --with-gmp=/usr/local/gmp --with-mpfr=/usr/local/mpfr/ --with-mpc=/usr/local/mpc/

export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/local/mpc/lib:/usr/local/gmp/lib:/usr/local/mpfr/lib/
make
make install

cp gcc.4.6.1.conf /etc/ld.so.conf.d/gcc.4.6.1.conf
ldconfig
mv /usr/bin/gcc  /usr/bin/gcc_old
mv /usr/bin/g++  /usr/bin/g++_old
ln -s -f /usr/local/gcc/bin/gcc  /usr/bin/gcc
ln -s -f /usr/local/gcc/bin/g++  /usr/bin/g++

cp /usr/local/gcc/lib64/libstdc++.so.6.0.16 /usr/lib64/.
mv /usr/lib64/libstdc++.so.6 /usr/lib64/libstdc++.so.6.bak
ln -s -f /usr/lib64/libstdc++.so.6.0.16 /usr/lib64/libstdc++.so.6 
```

请说我不需要重建 gcc！这个符号链接问题真的会影响程序吗？或者它不会有任何区别，它会时不时地弹出，例如当我也是`yum install`某些事情的时候。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-14T10:43:04.283

我通过使用命令安装 gmp、mpc 和 mpfr 解决了这个问题，该`./contrib/download_prerequisites`命令会在安装过程中下载所需的文件并设置符号链接。

我的整个构建是：

```
tar -xzvf gcc-4.6.2.tar.gz
cd gcc-4.6.2
./contrib/download_prerequisites
cd ..
mkdir objdir
cd objdir
$PWD/../gcc-4.6.2/configure --prefix=/opt/gcc-4.6.2 
make
make install

ldconfig
mv /usr/bin/gcc  /usr/bin/gcc_old
mv /usr/bin/g++  /usr/bin/g++_old
ln -s -f /usr/local/gcc/bin/gcc  /usr/bin/gcc
ln -s -f /usr/local/gcc/bin/g++  /usr/bin/g++

cp /usr/local/gcc/lib64/libstdc++.so.6.0.16 /usr/lib64/.
mv /usr/lib64/libstdc++.so.6 /usr/lib64/libstdc++.so.6.bak
ln -s -f /usr/lib64/libstdc++.so.6.0.16 /usr/lib64/libstdc++.so.6
export CC=gcc
export CXX=g++ 
```

我不知道如何将 CC 和 CXX 变量完全链接到新的 gcc 和 g++，但它有效！

# ios - 从通讯录中获取电话号码

> ID：13267545
> 
> 赞同：0
> 
> 时间：2012-11-07T10:14:06.647
> 
> 标签：ios, abaddressbook

我正在使用以下代码获取地址簿中所有联系人的手机号码（即第一个电话号码）。我想将所有这些数字存储到`NSArray`

```
self.dataSource = [[NSMutableArray alloc]init]; // dataSouce is delared in .h file
ABAddressBookRef addressBook = ABAddressBookCreate();
NSMutableArray *allPeople = (__bridge NSMutableArray *)ABAddressBookCopyArrayOfAllPeople(addressBook);
int nPeople = ABAddressBookGetPersonCount(addressBook);

for(int i=0; i < nPeople; i++ ){
    ABRecordRef person = (__bridge ABRecordRef)([allPeople objectAtIndex:i]);
    NSString *name = @"";

    if(ABRecordCopyValue(person, kABPersonFirstNameProperty) != NULL)
        name = [[NSString stringWithFormat:@"%@", ABRecordCopyValue(person, kABPersonFirstNameProperty)] stringByTrimmingCharactersInSet:[NSCharacterSet whitespaceCharacterSet]];
    [_dataSource addObject: name];

    ABMultiValueRef phoneNumberProperty = ABRecordCopyValue(person, kABPersonPhoneProperty);
    _phoneNumbers = (__bridge NSArray*)ABMultiValueCopyValueAtIndex(phoneNumberProperty, 0);
    CFRelease(phoneNumberProperty);
    NSLog(@"Phone numbers = %@", _phoneNumbers);
} 
```

但是当我使用`NSLog(@"Phone numbers = %@", _phoneNumbers);`输出时

```
2012-11-07 15:31:06.116 contacts[4938:12b03] Phone numbers = 1 (800) 111-1111
2012-11-07 15:31:06.117 contacts[4938:12b03] Phone numbers = (222) 355-5668
2012-11-07 15:31:06.118 contacts[4938:12b03] Phone numbers = (910) 192-0192 
```

我想要`NSArray`像这样的输出

```
Phone numbers = ( 
"1 (800) 111-1111",
"(222) 355-5668",
"(910) 192-0192" 
) 
```

我怎样才能做到这一点 ？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T11:00:52.167

你可以像这样简单地做到这一点

```
 self.dataSource = [[NSMutableArray alloc]init]; // dataSouce is delared in .h file
    ABAddressBookRef addressBook = ABAddressBookCreate();
    NSMutableArray *allPeople = (__bridge NSMutableArray *)ABAddressBookCopyArrayOfAllPeople(addressBook);
    int nPeople = ABAddressBookGetPersonCount(addressBook);

    NSMutableArray *arrContacts = [[NSMutableArray alloc] init];

    for(int i=0; i < nPeople; i++ ){
        ABRecordRef person = (__bridge ABRecordRef)([allPeople objectAtIndex:i]);
        NSString *name = @"";

        if(ABRecordCopyValue(person, kABPersonFirstNameProperty) != NULL)
            name = [[NSString stringWithFormat:@"%@", ABRecordCopyValue(person, kABPersonFirstNameProperty)] stringByTrimmingCharactersInSet:[NSCharacterSet whitespaceCharacterSet]];
        [_dataSource addObject: name];

        ABMultiValueRef phoneNumberProperty = ABRecordCopyValue(person, kABPersonPhoneProperty);
        _phoneNumbers = (__bridge NSArray*)ABMultiValueCopyValueAtIndex(phoneNumberProperty, 0);
        CFRelease(phoneNumberProperty);
        NSLog(@"Phone numbers = %@", _phoneNumbers);
        [arrContacts addObject:_phoneNumbers];
    }
    NSLog(@"Phone numbers : %@",arrContacts); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-11T21:33:40.197

我通过 Google 找到了这个，并以这个地址簿代码为例，但发现了一个错误，我会为其他来到这里的人更正。

使用`ABMultiValueCopyValueAtIndex`时返回一个类型`CFTypeRef`。该函数仅获取该索引处的电话号码（在本例中为索引 0），在电话号码的情况下`CFStringRef`，不应将其转换为`NSArray*`.

`ABMultiValueCopyArrayOfAllValues`将是获取存储在联系人中的所有电话号码数组的正确调用。这可以存储到一个数组中并像萨拉法拉兹在他的回答中所做的那样记录下来。

```
NSArray *_phoneNumbers = (__bridge NSArray*)ABMultiValueCopyArrayOfAllValues(phoneNumberProperty); 
```

如果您只想获得第一个电话号码，您可以这样做：

```
CFStringRef phoneNumberRef = ABMultiValueCopyValueAtIndex(phoneNumberProperty, 0);
NSString *phoneString = (__bridge NSString*)phoneNumberRef; 
```

# ssis - 如何使用 SSIS 将存储在多个文件夹中的文件中的数据加载到数据库中？

> ID：13267546
> 
> 赞同：4
> 
> 时间：2012-11-07T10:14:10.923
> 
> 标签：ssis

我有很多文件存储在单独的文件夹中，我想将它们提取并插入到 SQL Server 数据库中的单个表中。文件夹设置如下所示：

```
Folder 1  
 |--> SubFolder 1.1  
 |     |--> File 1  
 |     |--> File 2  
 |--> SubFolder 1.2  
 |     |--> File 1  
 |     |--> File 2
 |--> SubFolder 1.3  
       |--> File 1  
       |--> File 2 
```

大约有 100 个子文件夹，它们都有两个我需要提取的**.txt文件。**

我需要将数据加载到结构如下所示的表中

```
Column1         Column2     Column3     Column4     Column5     Column6  
-------------   ---------   ---------   ---------   ---------   ---------
SubFolderName   File1Col1   File1Col2   File1Col3   File1Col4   File2Col1 
```

有人知道我如何使用 SSIS 做到这一点吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-07T15:26:52.113

您应该使用 中可用`Traverse subfolders`选项下的`Foreach File Enumerator`选项`Foreach Loop container`。*Foreach 循环容器*可用于*控制流*任务。

以下是一些说明 Foreach 文件循环枚举的示例：

[**如何 - 任务和转换：Foreach 文件循环**](http://www.varigence.com/blog/how-to-tasks-and-transformations-foreach-file-loop.html)

[**SSIS 包容器 - 第 5 部分：Foreach 循环容器**](http://www.bidn.com/blogs/DonnyJohns/ssas/1692/ssis-package-containers-part-5-foreach-loop-containers)

我希望这有帮助。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-08T12:18:55.913

您可以尝试以下步骤：

1.  您可以使用`Foreach File Enumerator`和`Traverse subfolders` 选项来遍历文件，请记住，您应该使用并将文件`Fully qualified`路径保存到名为 的用户变量`IncomingFile`中。
2.  您可以创建名为`SubFolderName`和的变量`FileName`。
3.  将 IncomingFile 变量作为只读变量传递，将 subfolderName 和 FileName 作为 ReadWriteVariable 传递。您可以使用脚本组件来获取子文件夹名称。

    ```
    var incomingFile = Dts.Variables["IncomingFile"].Value.ToString();

    FileInfo fileInfo = new FileInfo(fileFullPath);

    string subFolderPath = fileInfo.Directory.Name;
    string fileName = fileInfo.Name;

    Dts.Variables["SubFolderName"].Value = subFolderPath;
    Dts.Variables["FileName"].Value = fileName; 
    ```

4.  拖动连接到 ScriptComponet 的两个数据流。您应该按如下方式编写优先约束[对于两个评估操作都应该是“表达式”]。

    ```
     For DataFlow 1 -> `@FileName=="Text 1"`
        For DataFlow 2 -> `@FileName=="Text 2"` 
    ```

5.  在您的数据流 1 中，使用派生列并使用 SubFolderName 变量映射到示例中的“Column1”。其他列将从您的 txt 文件映射，而不是“Column6”。

6.  在您的数据流 2 中，使用子文件夹名将数据暂存到 SQL 服务器中。

7.  编写存储过程，通过比较子文件夹名称来更新您的第 6 列表。

8.  用于`SQL Execute task`运行存储过程。

您的包裹将如下所示。

![在此处输入图像描述](../Images/509c1797e0656f65bc634b91fbe409bd.png)

希望这可以帮助！

# windows - 删除目录中与某些文件扩展名不匹配的文件

> ID：13267548
> 
> 赞同：1
> 
> 时间：2012-11-07T10:14:14.147
> 
> 标签：windows, batch-file, cmd

我正在尝试编写一个简单的批处理文件，该文件删除目录中的所有文件及其包含与某些文件扩展名**不匹配的子文件夹。**

逻辑是这样的：

```
GOTO directory
delete !(.avi, .mkv, .mp4) 
```

认为这很简单，但我已经尝试了多次，但没有运气！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T10:23:35.667

```
@echo off
for /r C:\test %%a in (*) do (
if not %%~xa==.avi (
    if not %%~xa==.mkv (
        if not %%~xa==.mp4 (    
            del /f /q "%%a"
        )
    )
)
) 
```

`if`只需对您不想删除的扩展名重复's。

这个答案适用于一些扩展，但如果你还有更多，你会[在这里](https://stackoverflow.com/questions/9424380/delete-excluding-some-extensions)找到更好的答案。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T13:13:31.147

[这个问题与Delete *.*](https://stackoverflow.com/q/9424380/1012053)几乎相同，但不包括一些扩展名，除了您也想从子目录中删除。前两个答案的以下任何一种改编都应该起作用。

以下两项均假设您的批处理脚本不在要删除的文件夹层次结构中。

```
@echo off
for /f %%F in ('dir /s /b /a-d "yourDirPath\*"^| findstr /vile ".avi, .mkv, .mp4"') do del "%%F" 
```

.

```
@echo off
setlocal EnableDelayedExpansion
set "exclude=.avi.mkv.mp4."
for /r "yourDirPath" %%F in (*) do if /I "%exclude%" == "!exclude:%%~xF.=!" del "%%F" 
```

如果您的脚本在层次结构中，那么额外的 IF 语句将解决问题。

```
@echo off
for /f %%F in ('dir /s /b /a-d "yourDirPath\*"^| findstr /vile ".avi, .mkv, .mp4"') do if "%%~fF" neq "%~f0" del "%%F" 
```

.

```
@echo off
setlocal EnableDelayedExpansion
set "exclude=.avi.mkv.mp4."
for /r "yourDirPath" %%F in (*) do if /I "%exclude%" == "!exclude:%%~xF.=!" if "%%~fF" neq "%~f0" del "%%F" 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T10:49:08.397

与此问题类似：[如何删除与通配符不匹配的文件？](https://stackoverflow.com/questions/4972733/how-do-i-delete-files-that-do-not-match-a-wildcard)

```
FOR /R [directory] %%F IN (*.*) DO IF NOT "%%~xF" == ".[extension]" DEL /F /S "%%F" 
```

# jquery - 如何为以编程方式创建的按钮添加 onclick 功能

> ID：13267552
> 
> 赞同：1
> 
> 时间：2012-11-07T10:14:23.783
> 
> 标签：jquery, html

我有一个表格，其中我在单击按钮时使用 javascript 添加行。这是我的代码：

```
$("#addToDisplay").click(function (event) {
    $("#tblProducts").removeClass("hide");
    var counter = 1;
    event.preventDefault();
    counter++;
    var newRow = "<tr><td>" + $("#txtProducts").val() + "</td><td>" + ("#txtQty").val()  "</td><td><input type='button' value='Remove' id='btnRemove' /></td></tr>";
    $("#tblProducts").append(newRow);
}); 
```

我的问题是因为我为每行添加了删除按钮，因此将其包含在变量 newRow 中，我如何为其添加一个 onClick 事件，以便如果我单击删除按钮，相应的行将被删除？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-07T10:18:58.973

首先在您的动态按钮上放置一个公共类

如果您想要那里的 id，喜欢`<input type='button' value='Remove' class='remove' />`并为您的输入按钮提供一个唯一的 id。您可以使用您在代码中使用的计数器变量来制作唯一的 id。

```
$("#addToDisplay").click(function (event) {
    $("#tblProducts").removeClass("hide");
    var counter = 1;
    event.preventDefault();
    counter++;
    var newRow = "<tr><td>" + $("#txtProducts").val() + "</td><td>" + $("#txtQty").val() + "</td><td><input type='button' value='Remove' id='btnRemove"+counter+"' class='remove' /></td></tr>";
    $("#tblProducts").append(newRow);
}); 
```

并添加以下代码，它将删除删除按钮的父行。

```
 $("#tblProducts").on('click', '.remove', function(){
       $(this).closest('tr').remove();
 }) 
```

或者，如果您正在生成动态 id，则可以将其更改为使用 id，例如

```
$("#tblProducts").on('click', '[id^=btnRemove]', function(){
     $(this).closest('tr').remove(); 
}); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-07T10:23:50.330

有两个选项，您可以单击表格或单个按钮（行）。如果您有大量的行，并且因此有大量按钮，那么注册对表的点击以减少系统中的侦听器可能是有意义的。

如果您想以编程方式在任何新创建的项目上注册事件，您可以执行以下操作：

```
var $myItem = $('<input type="button"/>');
$myItem.on('click', function(e) {}); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-07T10:15:36.723

用于[`.on()`](http://api.jquery.com/on/)为单击附加事件处理程序。

```
$("#dynamicButton").on("click", function(e) { }); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-07T10:19:38.593

```
$(document).on("click", "#dynamicButton", function(e) { }); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-07T10:20:25.610

如果您为每一行提供一个包含计数器变量的 ID，以便每个 ID 都基于当时的计数，那么您可以通过单击的行的 ID 轻松删除。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-11-07T10:22:46.530

我使用以下代码进行添加：

```
var tbl= document.getElementById('tgtbl'); var tblrow = tbl.insertRow(tbl.rows.length);
var cell1 = tblrow.insertCell(0); cell1.innerText = tname; cell1.textContent = tname;
var cell2 = tblrow.insertCell(1); cell2.innerText = tvalue; cell2.textContent = tvalue;
var cell3 = tblrow.insertCell(2); cell3.innerHTML = '<a href="#" onclick="removerow(' + (tbl.rows.length - 1) + ')">Remove</a>'; 
```

和删除（tdata 是隐藏字段）：

```
 var tbl = document.getElementById('tgtbl');
var tname = tbl.rows.item(rowindex).childNodes.item(0).innerText;
var idx = tdata.value.indexOf(tname.toLowerCase());
if (idx != -1) { tbl.deleteRow(rowindex);
  var tgd = tdata.value; tdata.value = tgd.substring(0, idx); tgd = tgd.substring(idx);
  if (tgd.indexOf(';') != -1) { tdata.value = tdata.value + tgd.substring(tgd.indexOf(';') + 1); }
for (i = 1; i < tbl.rows.length; i++) {
    tbl.rows.item(i).childNodes.item(2).innerHTML = '<a href="#" onclick="removerow(' + i + ')">Remove</a>'; }
} 
```

我知道我没有使用过 jquery，但“删除”代码会给出一个想法

* * *

## 回答 #7

> 赞同：-1
> 
> 时间：2012-11-07T10:22:43.517

```
 $('#btnRemove').live ('click', function () {
       $(this).closest('tr').remove();
 }); 
```

# python - 尝试在 Python 中使用 cursor.executemany(string, tuple) 时引发 SQLite 操作错误

> ID：13267553
> 
> 赞同：1
> 
> 时间：2012-11-07T10:14:33.220
> 
> 标签：python, sqlite, tuples

这个方法应该更新一个表，但我在最后一行得到一个操作 sql 错误：

```
def update_lookup(table, lookup_table, anon_table, fieldname, anon_field_prefix):

    c.execute('SELECT DISTINCT ' + fieldname + ' FROM ' + table)
    result = c.fetchall() #gives a list of tuples

    #get a list of random integers in range, as many as there are unique mssi's
    rnds = random.sample(xrange(10000,80000),len(result))

    #for every name insert the value in the vesselname lookup
    lst = []
    lst_rev = []
    for i,row in enumerate(result):
        field_value_anon = anon_field_prefix + str(rnds[i]) #create a random mssi number
        field_value = row[0]
        lst_rev.append((anon_table, fieldname , field_value_anon, fieldname, field_value)) #needed later on
        lst.append((field_value, field_value_anon))

    c.executemany('INSERT INTO '+ lookup_table +' VALUES (null, ?, ?)', lst)

    #update the anon table col:

    c.executemany('UPDATE ? SET ?=? WHERE ?=?', lst_rev) //error is trhown 
```

堆栈跟踪：

```
Traceback (most recent call last):
  File "C:\Users\jgoddijn\workspace\DataAnonDMVV\src\Main.py", line 119, in <module>
    update_lookup('AIS', 'MMSI_lookup', 'AIS_anoniem', 'dad_vesselname', 'AIS_schip')
  File "C:\Users\jgoddijn\workspace\DataAnonDMVV\src\Main.py", line 35, in update_lookup
    c.executemany('UPDATE ? SET ?=? WHERE ?=?', lst_rev)
sqlite3.OperationalError: near "?": syntax error 
```

我在插入元组时做错了，但我不知道是什么！

非常感谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T10:34:56.823

您不能将 SQL 参数用于表名或列名，只能用于列和结果值。

您必须使用传统的 python 字符串格式来插入更新表的名称。

# php - facebook graph api search 不返回所有签到

> ID：13267558
> 
> 赞同：1
> 
> 时间：2012-11-07T10:14:48.623
> 
> 标签：php, facebook, facebook-graph-api

有些人的签到不能通过graph api的'checkins'看到，也不能通过search?q=checkins

这些人的签到只会在他们的 /fbid/feed 中以“状态”类型发布，但如果我想像在“搜索”功能中那样让他们与所有朋友一起签到，我不能。

我拥有访问密钥的所有权限..

其他人遇到过这个问题吗？谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T11:33:32.417

通常，与“某些人”相关的错误，看似随机，与个人隐私设置有关。在查询用户是否喜欢我的页面时，我遇到了一个这样的问题：它适用于所有喜欢公开但我需要 user_likes 的人。

希望能帮助到你。

# extract - 无法使用 WinZip 提取 ISO 文件

> ID：13267563
> 
> 赞同：1
> 
> 时间：2012-11-07T10:15:06.470
> 
> 标签：extract, iso, winzip

下载的 ISO 文件，当我尝试使用*WinZip 16.0 Pro(9686)- 32 位*解压时，我遇到了这个问题。

我使用的操作系统是*Win XP - Professional - Version 2002- Service Pack 3* with 4GB RAM

```
WinZip Encountered problems during this operation with file
G:\Setup\PROJECT\Lenel - OnGuard 2012\OnGuard2012\Supplimental Material Disc\Supp_Mat_Rev13\. Please choose one of the following actions. 
```

我按下查看输出

这是我收到的信息

```
Error: The system cannot find the path specified.
Cannot create G:\Setup\PROJECT\Lenel - OnGuard 2012\OnGuard2012\Supplimental Material Disc\Supp_Mat_Rev13\Credential Center Device Drivers\Card Scanning Solutions\SigniShell\SDK samples\vb.Net\SigniShell Sample\SigniShell Sample\obj\Release\SigniShell_Sample.FormCustom.resources
Severe Error:  File creation failed. 
```

请指导我克服这个问题

# javascript - jquery每秒调用ajax直到调用完成/返回true

> ID：13267565
> 
> 赞同：0
> 
> 时间：2012-11-07T10:15:09.543
> 
> 标签：javascript, jquery, javascript-events

我需要能够每秒调用一个函数“getProgress”。此函数执行 ajax 请求并更新进度条。当从 ajax 返回的调用为“true”时，我需要能够停止对该函数的调用。

html:

```
<td class="checkbox">
<input type="checkbox" value="6" class="checkbox download" id="chk-6">
<div class="hide" id="prgbar-6"><span class="progresslabel"></span></div>
</td> 
```

我的功能：

```
function getProgress(operationId) { // receives operationId
    $.post("@Url.Action("Status","Packages")", { operationId: operationId }, function (data) {
        if (data) {
            for (var key in data) {
                if ($("#prgbar-" + key + "").size() != 0) {
                    var objPrg = $("#prgbar-" + key + "");
                    var objchk = $("#chk-" + key + "");
                    if (data[key]) {
                        objPrg.find("span").text("downloading...").css("color:#000000");
                        objchk.hide();
                        objPrg.removeClass("hide").show().progressbar({
                            value: 0
                        });
                        var value = Math.floor(parseInt(data[key]) * 100);
                        objPrg.progressbar("option", "value", value);
                        objPrg.find("span").text(value + "%");
                    } else {

                    }
                }
            }
        }
    });
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T10:28:32.530

```
var interval = setInterval(function(){getProgress(operationId,interval)},1000); 
```

在你的 $.POST 完成回调函数中，清除这个间隔：{我在这里使用完成，但如果你只想为成功的请求做，使用 .success()}

```
$.post("@Url.Action("Status","Packages")", { operationId: operationId }, function (data) {
        if (data) {
            for (var key in data) {
                if ($("#prgbar-" + key + "").size() != 0) {
                    var objPrg = $("#prgbar-" + key + "");
                    var objchk = $("#chk-" + key + "");
                    if (data[key]) {
                        objPrg.find("span").text("downloading...").css("color:#000000");
                        objchk.hide();
                        objPrg.removeClass("hide").show().progressbar({
                            value: 0
                        });
                        var value = Math.floor(parseInt(data[key]) * 100);
                        objPrg.progressbar("option", "value", value);
                        objPrg.find("span").text(value + "%");
                    } else {

                    }
                }
            }
        }
    }).complete(function() { clearInterval(interval); }); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T10:36:48.707

我喜欢这种方法。它不需要清除间隔。它只是自行运行并在必要时设置超时。

```
var operationId = ...;
var processFunction = function () {
        $.post("@Url.Action("Status","Packages")", { operationId: operationId }, function (data) {
            if (data !== true) {
                // your normal function stuff
                setTimeout(processFunction, 1000);
            }
        });
    };

setTimeout(processFunction, 1000); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T10:27:31.897

**方法#1：**

您可以在名为 requestRunning 的函数之外创建一个变量，并在调用 getProgress 时检查 requestRunning 是否为真。

```
// Pseudo-code
var requestRunning = false;
if requestRunning === true  => continue with getProgress
if requestRunning === false => stop firing getProgress 
```

**方法#2：**

使用 setInterval 并在请求成功时清除间隔。

```
var progressHandle = setInterval(function(){getProgress(id)}, 1000);

$.ajax({
  success: function() {
    clearInterval(progressHandle);
  }
}); 
```

我可能更喜欢第一个选项，尽管通过随后的 AJAX 调用检查进度并不是很好。

# css - 文本阴影不在渐变剪辑背景后面

> ID：13267566
> 
> 赞同：0
> 
> 时间：2012-11-07T10:15:10.093
> 
> 标签：css, webkit

我正在尝试让徽标使用带有剪辑的渐变填充，然后在其后面放置一个文本阴影。然而阴影似乎总是放在上面？

显然我可以在 SVG 等中做到这一点，但出于其他原因，我想用 CSS 做到这一点。

我创建了一个小提琴“http://jsfiddle.net/Mgz6H/

请帮忙。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T12:35:33.987

我使用 z-index 作为深度，并为阴影创建了绝对 div 元素。[请在此处](http://jsfiddle.net/Mgz6H/2)检查更新的代码

**CSS**

```
.logo-shadow {
    position:absolute;
    top:0;
    left:0;
    text-shadow:3px 3px 3px black;
    color:transparent;
    z-index:0;
} 
```

**HTML**

```
<div id="logo-container">
    <div class="logo">
        <span>Light</span>
        <span id="swap">Meter</span>
        <span id="me">.com</span>
    </div>
    <div class="logo-shadow">
        <span>Light</span>
        <span id="swap">Meter</span>
        <span id="me">.com</span>
    </div>
</div>​ 
```

# tfs - 以编程方式将文件添加到单元测试的 VS 项目

> ID：13267568
> 
> 赞同：4
> 
> 时间：2012-11-07T10:15:11.623
> 
> 标签：tfs, project, solution

我正在使用 NUnit 以编程方式为 UnitTests 创建类文件。我已经可以将它们添加到 TFS 源代码控制中。我现在需要的是，我想以编程方式将它们添加到项目中。

我找到了几种方法，但都没有工作......我不想手动编辑 XMl 文件。

你有一些代码片段吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-01T09:39:07.327

天真的解决方案是手动编辑 XML 文件。但是，您不必这样做。

您可以使用[Microsoft.Build.Evaluation.Project](http://msdn.microsoft.com/en-us/library/microsoft.build.evaluation.project.aspx)对象模型来操作 Visual Studio 项目文件。有关 the和命名空间之间差异的更多信息，请参阅[此答案](https://stackoverflow.com/a/6727499/11210)。`Microsoft.Build.Evaluation``Microsoft.Build.Construction`

下面的示例打开`YourProject.csproj`并添加一个称为项目类型的新文件`YourFile.cs`，`Compile`然后将项目文件保存回磁盘。

```
using Microsoft.Build.Evaluation;

namespace ConsoleApplication1
{
    class Program
    {
        static void Main(string[] args)
        {
            var project = new Project(@"YourProject.csproj");
            project.AddItem("Compile", "YourFile.cs");
            project.Save();
        }
    }
} 
```

# c# - 为什么不能直接在“this”上调用扩展方法是有原因的吗？

> ID：13267572
> 
> 赞同：4
> 
> 时间：2012-11-07T10:15:21.030
> 
> 标签：c#, syntax, extension-methods

> **可能重复：**
> [为什么不能直接调用扩展方法？](https://stackoverflow.com/questions/3906170/why-can-you-not-invoke-extension-methods-directly)

让我们假设以下代码：

```
 public static class MyExtensions
{
    public static void SayHello(this Foo self)
    {}
}

public class Foo
{
    this.SayHello(); //this works
    SayHello(); //this does not compile
} 
```

我只是对此背后的推理感兴趣，为什么不能在隐式上调用扩展方法`this`？

`this.SayHello()`并且`SayHello`在应用于实例方法时意味着同样的事情。那么为什么在调用扩展方法时使用不同的行为呢？

# c# - 更新 Monotouch.Dialog RootElement

> ID：13267573
> 
> 赞同：0
> 
> 时间：2012-11-07T10:15:22.543
> 
> 标签：c#, ios, xamarin.ios, monotouch.dialog

我一直在关注 monotouch.dialog 任务示例应用程序 (http://docs.xamarin.com/ios/Guides/User_Interface/MonoTouch.Dialog/Elements_API_Walkthrough) 中的代码。

我似乎无法解决的问题是，当用户单击 + 按钮时，表格中会添加一个新行。用户触摸它并导航到另一个屏幕，他们可以在其中输入信息。现在，当他们导航回根视图时，我希望更新 rootElements 列表，以便使用输入的名称而不是默认名称“连接”

我将如何根据输入的内容更新每个 RootElements 的文本？

我希望一切都有意义！

-- 下面的代码。

```
public override bool FinishedLaunching (UIApplication app, NSDictionary options)
{
    window = new UIWindow (UIScreen.MainScreen.Bounds);

    RootElement _rootElement = new RootElement ("To Do List"){ new Section()};

    DialogViewController _rootVC = new DialogViewController (_rootElement);

    // This adds an 'add' button to the root view controller, and handles by delegate,the push to a screen where you can add a new vCenter connection profile.
    UIBarButtonItem _addButton = new UIBarButtonItem (UIBarButtonSystemItem.Add);
    _rootVC.NavigationItem.RightBarButtonItem = _addButton;

    _addButton.Clicked += (sender, e) =>  {
        var connectionProfile = new connectionProfile{};
        // See, on the line below, I add a default RootElement with the text New Connection.

        var connectionProfileElements = new RootElement ("New Connection") {
            new Section () {
                // When they enter the name on the next line of code, I want to use this to update the New Connection text on the root screen.
                new EntryElement ("Name", "Enter Connection Name", connectionProfile._connectionName),
                new EntryElement ("VC Address", "Enter VC Address", connectionProfile._address),
                new EntryElement ("VC Port", "Enter VC Port", connectionProfile._port),
                new EntryElement ("Username", "Enter Username", connectionProfile._userID),
                new EntryElement ("Password", "Enter Password", connectionProfile._password,true)}      
            };
            _rootElement [0].Add (connectionProfileElements);
        };

        UINavigationController _nav = new UINavigationController (_rootVC);
        window.RootViewController = _nav;
        window.MakeKeyAndVisible ();

        return true;
    }
} 
```

和 ：

```
public class connectionProfile
{
public connectionProfile ()
    {
    }

    public string _connectionName { get; set; }
    public string _address { get; set; }
    public string _port { get; set; }
    public string _userID {get; set; }
    public string _password { get; set; }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T13:47:31.923

你试过`this.ReloadData();`这样吗？

```
public NameOfYourDialogViewController() : base (UITableViewStyle.Grouped, null)
{
    Root = new RootElement ("test") {
        new Section ("First Section"){
            new StringElement ("Hello", () => {
                new UIAlertView ("Hola", "Thanks for tapping!", null, "Continue").Show (); 
            }),
            new EntryElement ("Name", "Enter your name", String.Empty)
        },
        new Section ("Second Section"){
        },
    };
    }
}
public override void ViewDidLoad ()
{
    base.ViewDidLoad ();
    // Do your stuff
}

public override void ViewWillAppear (bool animated)
{
    base.ViewWillAppear (animated);
    this.ReloadData();
} 
```

您可以在[此处](https://stackoverflow.com/questions/4514783/monotouch-reloaddata)找到有关该主题的其他主题。

## ****编辑****

**你忘了说它位于你的 AppDelegate 中，它不是为你正在做的事情而设计的。**

 **首先，创建一个 DialogViewController：**Project > Add new file > MonoTouch > DialogViewController**。而在我之前提到的不同方法中，放置了 ReloadData() 方法。这些方法（ViewDidLoad、WillAppear 等）是 UIView 的重写方法。AppDelegate 的存在是为了在你启动之前获取数据，为你的应用存储静态数据，等等。这是完全不同的用法。

对于你的 AppDelegate，你应该有这个，例如：

```
public override bool FinishedLaunching (UIApplication app, NSDictionary options)
{
    _window = new UIWindow (UIScreen.MainScreen.Bounds);
    _controller = new NameOfYourDialogViewController();

    _navigationController = new UINavigationController (_controller);

    UIImageView splash = new UIImageView(_window.Bounds);
    splash.Image = UIImage.FromFile("Default.png");

    _window.AddSubview(splash);
    _window.AddSubview(_navigationController.View);
    _window.BringSubviewToFront(splash);

    _window.MakeKeyAndVisible ();

    // This is used to create a fadding effect in your splashscreen
    UIView.Animate(1,
            delegate { splash.Alpha = 0f; },
            delegate {
                _window.RootViewController = _navigationController;
                splash.RemoveFromSuperview();
            });
    return true;
} 
```**

# ruby-on-rails - 在 Apache2 上运行 Rails

> ID：13267582
> 
> 赞同：0
> 
> 时间：2012-11-07T10:16:06.583
> 
> 标签：ruby-on-rails, deployment, apache2, passenger

我有一个 linode 服务器，并且正在使用 webrick 运行一个用于开发目的的网站，现在我想将它投入生产并使用我已经安装并启动并运行经典 It Work 的 Apache2！预期的页面。

现在我想在这个 VPS 上运行多个站点我正在使用当前配置，该配置适用于纯 HTML，但不会运行 Web 应用程序，除非我在另一个端口（rails s -p3500 等）上运行它们，因为端口 80 已经被占用由阿帕奇。

```
<VirtualHost *:80>
  ServerName datumpoint.bizmodev.com
  # ServerAlias *.example.com
  DocumentRoot /var/www.bizmodev.com
  <Directory "/var/www.bizmodev.com">
    Options FollowSymLinks
    AllowOverride None
    Order allow,deny
    Allow from all
  </Directory>
</VirtualHost>

<VirtualHost *:80>
  ServerName homehounduk.co.uk
  ServerAlias *.homehounduk.co.uk
  DocumentRoot /var/www.homehounduk.co.uk
  <Directory "/var/www.homehounduk.co.uk">
    Options FollowSymLinks
    AllowOverride None
    Order allow,deny
    Allow from all
  </Directory>
</VirtualHost> 
```

我需要使用乘客或其他东西来让它工作吗？我尝试将虚拟主机更改为不同的端口和东西，但最终得到了 403。

任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T10:42:03.883

这一行：

```
<VirtualHost *:80> 
```

你告诉你的 apache 它会监听 80 端口上的任何东西

如果您更改为这样的内容：

```
<VirtualHost www.myawesomeurl.com:80> 
```

在这种情况下，您是在告诉 apache，作为来自该地址 ( `www.myawesomeurl.com`) 端口 80 的请求的所有内容都将使用该选项。

我想你想要这样的东西：

```
# Basically your home, like: www.myhome.com
<VirtualHost *:80>
  ServerName datumpoint.bizmodev.com
  # ServerAlias *.example.com
  DocumentRoot /var/www.bizmodev.com
  <Directory "/var/www.bizmodev.com">
    Options FollowSymLinks
    AllowOverride None
    Order allow,deny
    Allow from all
  </Directory>
</VirtualHost>

# Your custom site
<VirtualHost www.something.com:80>
  ServerName homehounduk.co.uk
  ServerAlias *.homehounduk.co.uk
  DocumentRoot /var/www.homehounduk.co.uk
  <Directory "/var/www.homehounduk.co.uk">
    Options FollowSymLinks
    AllowOverride None
    Order allow,deny
    Allow from all
  </Directory>
</VirtualHost> 
```

并且不要忘记将其指向`www.something.com`与`www.myhome.com`

将此与乘客相结合，您将拥有一台**服务器**，运行许多 Rails 应用程序和许多 php 实例或 html 页面或任何您想要的东西。

# jquery - jQuery 中“表”的“div”限制

> ID：13267588
> 
> 赞同：0
> 
> 时间：2012-11-07T10:16:29.483
> 
> 标签：jquery, html-table, restriction

我有一个关于“jQuery 中表格的 div 限制”的问题。

我有一张桌子：

```
<div id="slctble">
   <table border="1" cellspacing="2" id="sample">
    <tr class="toprow">
        <td> </td>
        <td>John</td>
        <td>Jane</td>
        <td>Total</td>
    </tr>
    <tr>
        <td class="leftcol">January</td>
        <td class="data">123</td>
        <td class="data">234</td>
        <td class="data">357</td>
    </tr>
    <tr>
        <td class="leftcol">February</td>
        <td class="data">135</td>
        <td class="data">246</td>
        <td class="data">381</td>
    </tr>
    <tr>
        <td class="leftcol">March</td>
        <td class="data">257</td>
        <td class="data">368</td>
        <td class="data">625</td>
    </tr>
    <tr>
        <td class="leftcol">Total</td>
        <td class="data">515</td>
        <td class="data">848</td>
        <td class="data">1363</td>
    </tr>
   </table>
 </div> 
```

我有 jQuery 代码：

```
<script type='text/javascript'>
$(window).load(function(){
$("#slctble td.leftcol").selectable({
    filter:'td',
    stop: function() {        
        $(".ui-selected input", this).each(function() {
            this.checked= !this.checked

            });
    }
});
});

</script> 
```

我想在jQuery中用**“table”限制我的****“div”**，但是***“slctble”***和***“td”***之间的这个*“空格”*在jQuery中不起作用。

 *****你能给点建议吗？

一个例子是：[http ://www.simroll.de/newhtml.html](http://www.simroll.de/newhtml.html)

* * *

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T10:27:32.427

您必须将“可选择”绑定到容器 - #sample 在您的情况下。

```
$("#sample").selectable({
 filter:'tr' 
}); 
```*****

# magento - 如何在magento中将产品名称属性设置为唯一

> ID：13267593
> 
> 赞同：3
> 
> 时间：2012-11-07T10:16:59.047
> 
> 标签：magento, attributes

我正在使用在下拉列表中显示产品名称列表的搜索框。

当用户选择其中一个产品名称并单击搜索时，页面将被重定向到与该名称关联的产品。

这里的问题是：如果产品包含多个相似的名称，我们将无法将用户重定向到正确的产品。这就是我想添加一个独特的产品名称的乳清。

我无法将其设置为`unique`在管理员`Manage attribute`选项卡中。

我试图通过数据库通过将表中的值从 0 更改为 1 来更改它`eav_attribute`，但这没有任何意义。

那么，如何`unique`向`product name`?

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-07T11:20:43.223

```
UPDATE 'eav_attribute' SET is_unique = 1 WHERE `entity_type_id` = 4 and  `attribute_code` like 'name' 
```

它是最好的方式。

# node.js - 如何避免需要将事件发射延迟到事件循环的下一个滴答声？

> ID：13267594
> 
> 赞同：3
> 
> 时间：2012-11-07T10:17:01.713
> 
> 标签：node.js, events, event-handling, race-condition, event-loop

我正在使用全局事件发射器编写 Node.js 应用程序。换句话说，我的应用程序完全围绕事件构建。我发现这种架构对我来说非常有效，除了我将在此处描述的一个侧面案例。

请注意，我认为回答这个问题不需要 Node.js 知识。因此，我会尽量保持抽象。

想象以下情况：

*   全局事件发射器（称为`mediator`）允许各个模块侦听应用程序范围的事件。
*   创建一个 HTTP 服务器，接受传入的请求。
*   对于每个传入的请求，都会创建一个事件发射器来处理特定于该请求的事件

传入请求的示例（纯粹是为了说明这个问题）：

```
mediator.on('http.request', request, response, emitter) {

    //deal with the new request here, e.g.:
    response.send("Hello World.");

}); 
```

到目前为止，一切都很好。现在可以通过识别请求的 URL 并发出适当的事件来扩展此应用程序：

```
mediator.on('http.request', request, response, emitter) {

    //identify the requested URL
    if (request.url === '/') {
        emitter.emit('root');
    }
    else {
        emitter.emit('404');
    }

}); 
```

在此之后可以编写一个处理根请求的模块。

```
mediator.on('http.request', function(request, response, emitter) {

    //when root is requested
    emitter.once('root', function() {

        response.send('Welcome to the frontpage.');

    });

}); 
```

看起来不错，对吧？实际上，它**可能是损坏**的代码。原因是该行`emitter.emit('root')`可能在该行之前执行`emitter.once('root', ...)`。结果是监听器永远不会被执行。

`root`可以通过将事件的发射延迟到事件循环的末尾来处理这种特定情况：

```
mediator.on('http.request', request, response, emitter) {

    //identify the requested URL
    if (request.url === '/') {
        process.nextTick(function() {
            emitter.emit('root');
        });
    }
    else {
        process.nextTick(function() {
            emitter.emit('404');
        });
    }

}); 
```

这样做的原因是因为发射现在延迟到当前事件循环完成，因此所有侦听器都已注册。

但是，这种方法存在很多问题：

1.  这种基于事件的架构的优点之一是发射模块不需要知道谁在监听他们的事件。因此，没有必要决定是否需要延迟事件发射，因为人们不知道要监听什么事件以及它是否需要延迟。
2.  它显着地使代码混乱和复杂化（比较两个示例）
3.  它可能会降低性能

因此，我的问题是：如何避免将事件发射延迟到事件循环的下一个滴答声，例如在所描述的情况下？

**更新 19-01-2013**

一个说明此行为为何有用的示例：允许并行处理 http 请求。

```
mediator.on('http.request', function(req, res) {

    req.onceall('json.parsed', 'validated', 'methodoverridden', 'authenticated', function() {
        //the request has now been validated, parsed as JSON, the kind of HTTP method has been overridden when requested to and it has been authenticated
   });

}); 
```

如果每个事件`json.parsed`都会发出原始请求，那么上述情况是不可能的，因为每个事件都与另一个请求相关，并且您无法侦听针对特定请求并行执行的操作组合。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-17T04:21:09.373

同时拥有一个`mediator`which 监听事件和一个`emitter`which 也监听和触发事件似乎过于复杂。我确信有正当理由，但我的建议是简化。我们在我们的 nodejs 服务中使用了一个 global`eventBus`来做类似的事情。对于这种情况，我会发出一个新事件。

```
bus.on('http:request', function(req, res) {
  if (req.url === '/')
    bus.emit('ns:root', req, res);
  else
    bus.emit('404');
});

// note the use of namespace here to target specific subsystem
bus.once('ns:root', function(req, res) {
  res.send('Welcome to the frontpage.');
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-15T20:00:47.747

听起来您开始遇到观察者模式的一些缺点（如许多描述此模式的书籍/文章中所述）。我的解决方案并不理想——假设存在一个理想的解决方案——但是：

如果您可以做一个简化的假设，即每个发射器仅发出 1 次事件（即`emitter.emit('root');`，对于任何实例仅调用一次`emitter`），那么也许您可以编写类似于 jQuery`$.ready()`事件的东西。

在这种情况下，订阅`emitter.once('root', function() { ... })`将检查是否`'root'`已经发出，如果是，则无论如何都会调用处理程序。如果`'root'`尚未发出，它将遵循正常的现有功能。

这就是我得到的。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-16T14:33:52.990

我认为这种架构有问题，因为您正在执行需要确定的操作顺序的顺序工作 (I/O)，但仍计划在自然允许不确定的执行顺序的组件上构建应用程序。

你可以做什么

在 mediator.on 函数中包含上下文选择器，例如以这种方式

```
mediator.on('http.request > root', function( .. ) { } ) 
```

或将其定义为子中介

```
var submediator = mediator.yield('http.request > root');
submediator.on(function( ... ) {
     emitter.once('root', ... )
}); 
```

仅当从 http.request 处理程序发出 root 时，这才会触发回调。

另一种更棘手的方法是进行后台排序，但是对于您当前的一个调解器将它们全部管理接口是不可行的。实现代码，这样每个 .emit 调用实际上并不发送事件，而是将产生的事件放入列表中。每个 .once 将消费事件记录放在同一个列表中。当所有 mediator.on 回调都已执行时，遍历列表，按依赖顺序对其进行排序（例如，如果列表首先消耗 'root' 然后产生 'root' 交换它们）。然后按顺序执行消费处理程序。如果您用完了事件，请停止执行。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-07T15:14:08.930

哦，这似乎是一个非常破碎的架构，原因如下：

1.  你如何传递`request`和`response`？看起来您已经获得了对它们的全局引用。
2.  如果我回答你的问题，你会将你的服务器变成一个纯粹的同步函数，你会失去异步 node.js 的力量。（请求将有效地排队，并且只有在最后一个请求 100% 完成后才能开始执行。）

要解决这个问题：

1.  `request`将&作为参数传递`response`给调用。`emit()`现在您不再需要强制所有内容同步运行，因为当下一个组件处理事件时，它将引用正确的请求和响应对象。
2.  了解其他不需要全局调解器的常见解决方案。看看多年前 Connect 基于 Internet 的模式：http: [//howtonode.org/connect-it](http://howtonode.org/connect-it) <- 描述中间件/洋葱路由

# r - 具有空值的变量

> ID：13267595
> 
> 赞同：1
> 
> 时间：2012-11-07T10:17:04.303
> 
> 标签：r, variables

我想知道**R**如何处理变量的空值。我的意思是：我有一个具有两个值的变量：1（发生行为）0（未发生行为）。但是在我的表中，同样的数据丢失了，因为我看不到行为，所以有一些空缺。如果我使用这个变量，我可以毫无问题地使用它，或者在工作之前，我必须取出空数据并只保留已知变量？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T10:39:32.003

这实际上取决于您想对数据做什么。在 R 中，您通常会使用`NA`缺失数据。一些函数可以处理这个问题，例如：

```
mean(c(1, NA))
# [1] NA
mean(c(1, NA), na.rm = TRUE)
# [1] 1 
```

但在其他情况下，您可能需要在执行分析之前消除缺失值，例如使用`subset`函数。

# php - 一种有效的存储方式数据库中的选项？我正在制作一个有数千个 输入的网站。他们的 可以由管理员随时更改。我实际上将每个选择输入的选项存储在单独的表上，关联一个 Id 和一个值，但这很重而且不是很好，因为我有 ~= 100 个表，我需要 ~= 100 个查询来在一页上显示所有输入。有没有更好的存储解决方案？当前表格示例：表格：selectanimaltype ID NAME 1

> ID：13267597
> 
> 赞同：0
> 
> 时间：2012-11-07T10:17:09.797
> 
> 标签：php, html, mysql

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-11-07T10:18:50.973

为什么要为每个新选择制作表格？添加第三个字段`select_name`并通过该字段选择选项。

# javascript - 在 vb.net 中获取确认值

> ID：13267598
> 
> 赞同：2
> 
> 时间：2012-11-07T10:17:22.733
> 
> 标签：javascript, asp.net, vb.net

我在中继器中有一个隐藏的 asp 按钮。在后面的 VB.NET 代码中，我使用 Rerpeater_ItemCommand 来获取中继器中的单击事件。检查用户是否已经在录制项目。如果是并且他想开始一个新的，应该会出现一个确认框，询问“你确定吗？” 如何从确认中访问点击值？

```
<asp:Repeater ID="Repeater1" runat="server" OnItemCommand="Repeater1_ItemCommand">
        <ItemTemplate>

        <div class="tile user_view user_<%# Eval("employeeName") %>">
        <div class="tilesheight"></div>
        <div class="element">

        <asp:Button ID="Button1" CssClass="hiddenbutton" runat="server" /> 

            Index: 
            <asp:Label ID="Label1" runat="server"
                Text='<%# Eval("index") %>' /><br />
            <hr class="hr" />

            customer:
            <asp:Label ID="CustomerLabel" runat="server" 
                Text='<%# Eval("customer") %>' /><br />
            <hr class ="hr" />
            order:
            <asp:Label ID="OrderNoLabel" runat="server" 
                Text='<%# Eval("orderNo") %>' /><br />
            <asp:Label ID="DescriptionLabel" runat="server" 
                Text='<%# Eval("description") %>' /><br />
            <hr class="hr" />

        </div>
        </div>
        </ItemTemplate>
        </asp:Repeater> 
```

后面的代码：

```
If empRecs.Contains(projects.Item(index.Text).employeeID) Then

            'Catch index of recording order
            i = empRecs.IndexOf(projects.Item(index.Text).employeeID)

                Page.ClientScript.RegisterStartupScript(Me.GetType, "confirm", "confirm('Order " & empRecs(i + 2) & " already recording. Would you like to start a new one?')",True)

                'If users clicks ok insertData()

        End If 
```

其他解决方案正在使用 Click Event 和隐藏字段。但问题是，我不希望每次单击按钮时都会出现确认框。仅当 empRecs 包含员工时。

感谢您的帮助

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T10:23:18.947

你可以尝试把以下

```
Proteted Sub Repeater1_ItemDataBound(ByVal sender As Object, ByVal e As System.Web.UI.WebControls.RepeaterItemEventArgs) Handles Repeater1.ItemDataBound
 If e.Item.ItemType = ListItemType.Item Or e.Item.ItemType = ListItemType.AlternatingItem Then
    ''not sure where you get the empRecs and projects from 
    ''but you can get the data item bound to this iteration of the repeater thus
    ''if you need it for the empRecs/projects bit
    Dim data = DirectCast(e.Item.DataItem, TypeOfBoundData)
    ''grab the button like this
    dim but as Button = e.Item.FindControl("Button1") ''cant remember if that will work, if not try the next line
    ''dim but = DirectCast(e.Item.Findcontrol("Button1"), Button)
    ''then do your bit
    If empRecs.Contains(projects.Item(index.Text).employeeID) Then
        AddHandler but.Click, AddressOf Button1_Click
        but.OnClientClick = "return confirm('Order " & empRecs(i + 2) & " already recording. Would you like to start a new one?')"
    End If
  End If
End Sub

Protected Sub Button1_Click(ByVal sender As Object, ByVal e As System.EventArgs)
   insertData()
End Sub 
```

hth

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T19:10:21.590

不确定我的问题是否正确，但我知道您希望能够知道何时选择了确认对话框中的“是”选项。您可以通过直接在标记而不是代码隐藏中添加以下内容来做到这一点：

```
<asp:Button ID="Button1" CssClass="hiddenbutton" runat="server" OnClientClick="javascript:if(!confirm('Your confirm text here')) {return false;} /> 
```

无论该按钮触发什么事件，在用户确认对话框之前都不会触发。

# django - 如何在 django 模板视图中控制缓存

> ID：13267605
> 
> 赞同：2
> 
> 时间：2012-11-07T10:18:37.387
> 
> 标签：django, django-templates, django-views

我有一个加载统计页面的方法。

在这里，我需要控制视图中“@csrf_protect”的缓存。

我的代码片段看起来像 -

```
def statistics(request, id):
    test = Test.objects.get(id=id)
    result = statistics.objects.get(test=test, user=request.user)

    context ={ 'test' : test, 'result' : result, 'review' : True  }
    return render_to_response('statistics.html', context, context_instance = RequestContext(request)) 
```

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T10:21:34.243

你可以使用@cache_page 是一个方法装饰器。

```
@cache_page(60 * 15)
def statistics(request, id):
    test = Test.objects.get(id=id)
    result = statistics.objects.get(test=test, user=request.user)

    context ={ 'test' : test, 'result' : result, 'review' : True  }
    return render_to_response('statistics.html', context, context_instance = RequestContext(request)) 
```

# delphi - 连接到 SQL Server 数据库时，Delphi XE3 中的 DBX 错误

> ID：13267606
> 
> 赞同：1
> 
> 时间：2012-11-07T10:18:48.527
> 
> 标签：delphi, dbx, delphi-xe3

当我尝试使用 DBX 连接到 MS SQL Server 数据库时，会弹出一个错误，提示驱动程序未正确安装或丢失。我尝试使用 ADO 驱动程序，它就像魅力一样，但问题是我需要 DBX 驱动程序才能工作，因为我想修改一个使用 DBX 技术开发的应用程序。

我重装了Delphi XE3，也请朋友测试了一下，还是一样。有人对如何解决它有任何想法吗？

确切的信息是这样的：

> Borland.Data.TDBXError：DBX 错误：驱动程序无法正确初始化。客户端库可能丢失、未正确安装、版本错误，或者系统路径中可能缺少驱动程序。

我必须提到，我在 MSSQL Server 2012 的本地实例和远程 MSSQL Server 2008 实例上进行了尝试。我的操作系统 win8 x64；

最好的祝福，

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-07T11:13:26.680

这很可能是由系统上安装的 SQL Native Client 版本错误引起的。DBX 仅适用于 V10，而您可能已经安装了 V11。尝试安装V10版本的客户端。

# objective-c - 从存储在单例中的数组中删除对象

> ID：13267609
> 
> 赞同：1
> 
> 时间：2012-11-07T10:18:55.633
> 
> 标签：objective-c, macos, algorithm, nsarray

我和一个单身人士一起工作来存储一些数据，她是实现

```
 static ApplicationData *sharedData = nil;
 @implementation ApplicationData
 @synthesize list;

 + (id)sharedData
 {
  static dispatch_once_t dis;
  dispatch_once(&dis, ^{
     if (sharedData == nil) sharedData = [[self alloc] init];
 });
 return sharedData;
 }

  - (id)init
   {
   if (self = [super init])
   {
     list = [[NSMutableArray alloc]init];
   }
    return self;
   } 
```

如果列表中的对象少于 3 (2<)，则应用程序崩溃并显示“索引 0 超出空数组的范围”

```
 // NSMutableArray *anArray = [[NSMutableArray alloc]initWithObjects:@"", nil];
 while ([[[ApplicationData sharedData]list] lastObject] != nil)
{
    File *file = [[[ApplicationData sharedData]list] lastObject];

    BOOL isDir;
    if (![[NSFileManager defaultManager] fileExistsAtPath:file.filePath isDirectory:&isDir])
        {
            NSMutableDictionary *tmpDic = [NSMutableDictionary dictionaryWithObjects:[NSArray arrayWithObjects:file.fileName,file.filePath,logEnteryErrorfileNotFoundDisplayName,[formatter stringFromDate:[NSDate date]], nil] forKeys:[NSArray arrayWithObjects:logShredFileName,logShredFilePath,logShredStatue,logShredDate, nil]];

            [logArray addObject:tmpDic];

            errorOccured = YES;
            [[[ApplicationData sharedData]list] removeLastObject];
            continue;
        }
   ... other code

  } 
```

如果我使用完美工作的 anArray。问题是什么 ？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T10:45:48.700

这很奇怪，你可能已经做了其他事情来实现这一点。你为什么不使用`- (void)removeAllObjects`？

也许您在 while 循环的最后一行删除对象，即：

```
while ([[[ApplicationData sharedData]list] count] != 0)
{
    // remove object from list
    // ...
    [[[ApplicationData sharedData]list] removeLastObject];
} 
```

请注意，只要保证只执行一次，您就不需要签`if (sharedData == nil)`入。`sharedData`（除非你在静态变量之外做一些事情，但我相信这不是应该做的）

# fabric - 如何在与织物的屏幕会话中执行任务？

> ID：13267611
> 
> 赞同：0
> 
> 时间：2012-11-07T10:18:56.883
> 
> 标签：fabric

在结构中，以分离状态（例如在`screen`会话中）运行长时间运行的命令的最简单方法是什么，以便我可以断开连接并继续运行？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-01T23:07:05.203

[如此处](https://stackoverflow.com/questions/9393374/how-to-use-fabric-use-with-dtach-screen-is-there-some-example)所述，

它应该可以使用

`sun("screen yourcommand")`

# c# - C# (.NET) 的 strtotime

> ID：13267618
> 
> 赞同：1
> 
> 时间：2012-11-07T10:19:12.277
> 
> 标签：c#, .net, date, strtotime

您是否知道 C#(.NET) 中的 strtotime 等效项，即使对于英语以外的其他语言（即 1 月 25 日的斯洛伐克语版本是 1 月 25 日）。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-07T10:22:40.623

c# 中没有直接的等价物。将`Date.Parse()`字符串转换为`Datetime`对象。这与`CultureInfo`类结合应该达到预期的效果。

请参阅答案：[.NET 中的 strtotime 等效项](https://stackoverflow.com/questions/5420988/strtotime-equivalent-in-net)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T10:22:02.223

您已经[`DateTime.Parse`](http://msdn.microsoft.com/en-us/library/system.datetime.parse.aspx)将字符串解析为 DateTime。

# asp.net-mvc-4 - Razor 条件属性不起作用

> ID：13267619
> 
> 赞同：5
> 
> 时间：2012-11-07T10:19:25.820
> 
> 标签：asp.net-mvc-4, razor-2

在标签中，我想有条件地输出样式属性，例如：`<li style="@styleVar" >...</li>` 当 styleVar 为 null 时，它不应该由 razor 编写（只是 Razor 2 中假定的标准功能），但由于某些奇怪的原因，它输出为`<li style="">...</li>`，而我期望`<li>...</li>`.

这是片面的看法。在正常视图中它正在工作。那么这是部分视图中的错误吗？

有人有同样的经历吗？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-07-25T01:03:19.740

这似乎不适用于部分视图和自定义 html 属性，例如 data-test="@test"。这没有省略，而是仍然放在 data-test="" 中。所以 MVC 团队必须尽快解决这个问题。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-01-19T15:49:20.403

如果`styleVar`等于`null`（不是`string.Empty`）mvc4 将自动执行此操作。

**条件属性渲染**

如果您有一个可能为空的属性，过去您需要进行空检查以避免写出空属性，如下所示：

```
<div @{if (myClass != null) { <text>class="@myClass"</text> } }>Content</div> 
```

现在 Razor 能够自动处理这个问题，所以你可以写出属性。如果为 null，则不写入该属性：

```
<div class="@myClass">Content</div> 
```

所以如果@myClass 为空，输出就是这样：

```
<div>Content</div> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-07T10:27:58.823

在您的代码中看不到任何错误：您“硬编码”标记并且仅改变样式值。为了实现你想要做的事情，你需要类似于这样的代码：

```
@if(!string.IsNullOrEmpty(styleVar))
{
  <li style="@styleVar" >...</li>
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-03-06T10:16:45.167

另一个可能的原因是 HTML 标记中的 Razor 注释。

```
// This renders <div>Hello world</div>
<div class="@null">Hello world</div>

// Renders <div  class="">Hello world</div>
<div @**@ class="@null">Hello world</div> 
```

当我出于测试目的注释掉一个属性时遇到了这个问题，突然间我的条件属性被破坏了。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2017-11-08T20:39:25.557

我刚刚遇到一种情况，属性名称和等号之间的空格破坏了布尔条件渲染：

所以

`<input type="checkbox" name="fieldname" id ="fieldname" checked="@Model.MyBool" />`

用 渲染`checked="True"`，而

`<input type="checkbox" name="fieldname" id="fieldname" checked="@Model.MyBool" />`

正确渲染`checked="checked"`

条件渲染看起来相当脆弱。

这并不完全是对 OP 问题细节的回答，但对于正在寻求“Razor 条件属性不起作用”帮助的人来说，这绝对是一种可能性

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2012-11-07T10:44:23.790

当`styleVar == null`您将`<li style="">...`（至少使用 mvc3）获得部分和正常视图时。

我猜你必须使用条件运算符：

```
<li @(styleVar == null ? "" : "style=\"" + styleVar + "\"")>...</li> 
```

# java - 带有动态单选按钮矩阵的 JSF 2.0 Primefaces 动态表

> ID：13267620
> 
> 赞同：0
> 
> 时间：2012-11-07T10:19:27.627
> 
> 标签：java, select, jsf-2, primefaces, facelets

我有 ap:datatable 遍历问卷一部分中的问题列表。每个问题可以有多个答案。一个部分中的所有问题都有相同数量的潜在答案。因此，我希望能够根据可能的答案数量创建动态列数，并将每列中的 selectOneRadio 按钮呈现为同一 radioGroup 的一部分，以便只能选择一个。

但是，当尝试对单选按钮使用自定义布局时，我可以在同一行上选择多个按钮，因此它们不会作为一个组。有谁知道达到预期结果的最佳方法？

```
<ui:composition>

        <p:dataTable value="#{questions}" var="question"
            styleClass="pro_category_table">

            <f:facet name="header">
                <h:outputText value="#{msg[category.categoryType.label]}"></h:outputText>
            </f:facet>
            <p:column headerText="#{msg['long_pro_question_intro1']}">
                <h:outputText value="#{msg[question.questionTextKey]}" />
            </p:column>
            <p:column>

            </p:column>
            <p:columns value="#{category.answerChoicesForSection}" var="categoryHeader" columnIndex="i">
            <f:facet name="header">
            #{categoryHeader}
            </f:facet>
            <p:panel>
            <p:selectOneRadio id="customRadio" value="#{question.selectedAnswers.answers[0]}" layout="custom" 
                    styleClass="pro_select_one_of_many">
                    <p:ajax update="@(.pro_navigation_button_panel)"/>
                    <f:selectItems var="answer" value="#{question.validAnswers}"
                        itemDescription="#{msg[answer.labelKey]}"
                        itemValue="#{answer.value}" itemLabel=""></f:selectItems>
                </p:selectOneRadio>
            <p:radioButton for="customRadio" itemIndex="#{i}"></p:radioButton>
            </p:panel>

            </p:columns>

        </p:dataTable>

    </ui:composition> 
```

# javascript - 点击事件中的jQuery函数

> ID：13267626
> 
> 赞同：0
> 
> 时间：2012-11-07T10:20:04.740
> 
> 标签：javascript, jquery

以下工作正常：

```
 classes_tab.click(function(evt){
        evt.preventDefault();
        h_c.filter(':visible').fadeOut(fast, function(){
            disactive.removeClass('active');
            classes_tab.addClass('active');
            classes.fadeIn(fast);
        });
    });

    contacts_tab.click(function(evt){
        evt.preventDefault(evt);
        h_cl.filter(':visible').fadeOut(fast, function(){
            disactive.removeClass('active');
            contacts_tab.addClass('active');
            contacts.fadeIn(fast);
        });
    });

    home_tab.click(function(evt){
        evt.preventDefault();
        c_cl.filter(':visible').fadeOut(fast, function(){
            disactive.removeClass('active');
            home_tab.addClass('active');
            home.fadeIn(fast);
        });
    }); 
```

有没有办法在这个点击事件之前编写一个函数，而不是每次点击事件中发生的事情都重复？

说我有类似的东西：

```
function tabs(x, y){
    x.fadeOut(fast);
            y.fadesIn(fast);
        } 
```

比在每个点击事件中我只是通过更改参数来调用这个函数

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T10:27:16.933

是的..你可以这样做..这是一个例子......

单击功能（本示例的 home_tab）..

```
...click(function(event){
     evt.preventDefault();
    functionName('c_cl','home_tab','home');
}); 
```

功能

```
function functionName(x,y,z)
{
        var x = $(#x)|| var y = $(#y)|| var z=$(#z) //add your selector here(this is just and examplr) 
        x.filter(':visible').fadeOut(fast, function(){
        disactive.removeClass('active');
        y.addClass('active');
        z.fadeIn(fast);
    });  
} 
```

同样，您可以使用参数为另外两个调用 click 函数..

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T10:25:58.330

**创建一个新函数**

```
function myFunc(evt, active_tab, container){
        evt.preventDefault(evt);
        h_cl.filter(':visible').fadeOut(fast, function(){
            disactive.removeClass('active');
            active_tab.addClass('active');
            container.fadeIn(fast);
        });
} 
```

**将新函数绑定到元素的点击事件**

```
home_tab.click(function(evt){
      myFunc(evt,home_tab, home);
    });
});

classes_tab.click(function(evt){
      myFunc(evt,classes_tab, classes);
    });
});

contacts_tab.click(function(evt){
      myFunc(evt,contacts_tab, contacts);
    });
}); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-07T10:34:33.757

您可以将数据传递给您的处理程序：

```
function tabsHandler(evt){
    evt.preventDefault();
    evt.data.x.fadeOut(fast);
    evt.data.y.fadesIn(fast);
}
$('.home_tab').on('click', {x : $foo, y : $bar}, tabsHandler);
// where $foo and $bar are references to jQuery objects 
```

或者你可以这样做：

```
function tabsHandler(x, y){
    x.fadeOut(fast);
    y.fadesIn(fast);
}
$('.home_tab').on('click', function(evt){
    evt.preventDefault();
    tabsHandler($foo, $bar);
}); 
```

或者您可以先存储对其他对象的引用`data`，然后在处理程序中使用它们。尝试这样的事情：

```
// Your class names are my assumption
var $home_tab = $('.home_tab');
var $classes_tab = $('.classes_tab');
// I'm also assuming c_cl, h_c, disactive and home are existing jQuery objects
$home_tab.data({
    'cl' : c_cl,
    'disactive' : disactive,
    'objectToFadeIn': home
});

$classes_tab.data({
    'cl' : h_c,
    'disactive' : disactive,
    'objectToFadeIn': classes
});

function tabsHandler(evt){
    evt.preventDefault();
    var $tab = $(this);
    $tab.data('cl').filter(':visible').fadeOut(fast, function(){
        $tab.data('disactive').removeClass('active');
        $tab.addClass('active');
        $tab.data('objectToFadeIn').fadeIn(fast);
    });
}

$home_tab.click(tabsHandler);
$classes_tab.click(tabsHandler); 
```

或者最后一点：

```
$(document).on('click', '.home_tab, .classes_tab', tabsHandler); 
```

# java - Netbeans java 应用程序 - 在 derby 数据库上执行查询

> ID：13267627
> 
> 赞同：0
> 
> 时间：2012-11-07T10:20:08.340
> 
> 标签：java, sql, netbeans, derby

我正在 Netbeans 7.2.1 上构建一个带有嵌入式数据库的 Java 应用程序。现在，我可以通过以下代码与 derby 数据库建立连接：

```
Connection con = DriverManager.getConnection(
                     "jdbc:derby:database;create=true",
                     uName,
                     uPass); 
```

但是，我无法对数据库的表执行查询。经过一番研究，我尝试执行以下代码，但没有成功：

```
Statement stmt = con.createStatement();

ResultSet rs;
rs = stmt.executeQuery("SELECT descricao FROM fichas");

while (rs.next()) {
    String s = rs.getString("descricao"); 
    System.out.println(s);
} 
```

我这里有两个问题。首先，根据我所做的搜索，我应该使用上面示例中的 Statement stmt，但 netbeans 给了我一个错误。为了能够执行跟随他的方法“stmt.executeQuery()”，我必须将语句定义为：

```
java.sql.Statement stmt = con.createStatement(); 
```

如果我不这样使用它，我就无法选择“executeQuery”方法。其次，即使使用它，查询也不会被执行。我在控制台上收到错误：

> java.sql.SQLSyntaxErrorException：架构“ADMIN_DATABASE”不存在

任何提示我如何解决这个问题？谢谢！

新更新：

我正在运行一些测试，这里有一些新的结论。如果不是通过 netbeans 的服务面板创建表，我运行代码：

```
stmt.execute("create table test_table (name varchar(128))"); 
```

有用。该表已创建，如果我再试一次，它会给出该表已经存在的预期错误。但是，我查看了服务面板，在应用程序嵌入的 derby 数据库中，这个“测试表”与其他“测试表”并没有在一起。

除此之外，如果我在该表上执行选择，它不会给出模式错误，但在我在服务面板上手动创建的其他表中，它会继续给出错误。

那么，谁能解释一下有什么区别？`test_table`我创建的去哪里了？这种创建模式与在 derby 上创建表的模式有什么区别？为什么我会收到一个架构错误而不是其他架构错误？

对不起这么多问题，但现在我很困惑。谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T12:55:07.693

netbeans 服务面板中的数据库在不同的 JVM 中运行，并且是 Derby 的网络实例。当您使用您使用的 url 连接到数据库时`jdbc:derby:database;create=true`，您最终会在 JVM 中创建一个嵌入式数据库，该数据库将为空。

要连接到服务面板中的数据库，请使用正确的连接 URL，例如`jdbc:derby://localhost:1527/DATABASE_NAME`（更多信息[在这里](http://netbeans.org/kb/docs/ide/java-db.html).

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-07-05T11:41:44.813

由于在我有 50 个代表之前它不会让我发表评论，因为原因，我将在这里发布我的回复，以及底部附近的一些实际示例代码，这些代码应该有助于为您指明正确的方向。

1.  如果你想测试你创建表的能力，这是一个很好的做法，你可以事先打一个 DROP TABLE TABLE_NAME 语句，只是在你再次尝试创建它之前删除它。当尝试使用已经存在的 TABLE_NAME 创建表时，它不会替换它，您的语句只会失败。

2.  除了指定数据库的名称之外，您可能还必须引用您的模式，尽管这不是确定的。

3.  我建议使用 java 方法来分隔您的 SELECT、INSERT INTO、UPDATE、CREATE TABLE 等语句。不确定您是否已经这样做了，但是，嘿，只是想提供帮助。

4.  最后，这是我在去年夏天参加的大学课程中用于类似项目的语法。希望您可以从中获得实现目标所需的适​​当语法。我也使用 Derby 数据库在 Netbeans 中完成了这一切。（见下文）

    ```
    //Variables for database connection below 
    final String rolodexDriver = "org.apache.derby.jdbc.ClientDriver";
        final String rolodexURL = "jdbc:derby://localhost:1527/rolodexDatabase";
        final String dbName = "rolodexDatabase"; //db is short for database
        final String tableName = "Rolodex_Table";
        final String user = "Joey";
        final String password = "dbpassword";  //db is again short for database 
    ```

    下面是我用于通过方法建立与数据库的连接的代码。

    ```
    // Below is the method invoked to establish a connection to the database
    public void accessDatabase() throws ClassNotFoundException{
    try {

        Class.forName(rolodexDriver).newInstance();
        connection = DriverManager.getConnection(rolodexURL, user, password);
        statement = connection.createStatement();
    } catch (InstantiationException | IllegalAccessException | SQLException ex) {
        Logger.getLogger(rolodexBean.class.getName()).log(Level.SEVERE, null, ex);
    }

    } // end of accessDatabase method 
    ```

    下面是我用于 SELECT 语句的代码，请务必注意此处的语法。

    ```
     String sql = "SELECT \"Person_name\", \"Person_phone_number\" FROM \"Rolodex_Table\""; 
    ```

    下面是我用来更新记录的代码。同样，请务必注意语法。您最好将表名、列名等放在 \ 中，因为它将它们与编译器头脑中的操作（即 SELECT、UPDATE 等）和修饰符（即 WHERE、LIKE 等）分开.

    ```
    String editSQL = ("UPDATE \"Rolodex_Table\" SET \"Person_name\"='" + nameEntry + 
    "', \"Person_phone_number\"='" + phoneNumberEntry 
    + "' WHERE \"Person_name\"='" + editNameEntry + "'" ); 
    ```

    （顺便说一句，以防万一你不知道，你可以像这样多行字符串以便于阅读，只要确保你只使用一个分号等。你也可以在字符串中使用你的 java 变量，如果你遵循我上面使用的语法。注意 phoneNumberEntry 和 editNameEntry 都是 java 变量。）

我希望这一切都对您有所帮助，如果您有任何问题，请告诉我。一定要让我知道它是如何工作的，因为我也想知道，以供我自己将来参考。（您会看到，从事个人业余项目。）祝您好运。

# xml - 用于检查多个节点的 XPath 查询，每个节点都有所需的值

> ID：13267628
> 
> 赞同：1
> 
> 时间：2012-11-07T10:20:08.743
> 
> 标签：xml, xpath

我的示例 XML 如下：

```
<FileList>
  <File>
    <Name>20120427_1.pdf</Name>
    <Size>654441</Size>
    <Property>
      <Name>Country</Name>
      <Value>United States</Value>
    </Property>
   </File>
   <File>
    <Name>Name2</Name>
    <Size>2147483647</Size>
    <Property>
      <Name>Name4</Name>
      <Value>Value4</Value>
    </Property>
    <Property>
      <Name>Name5</Name>
      <Value>Value5</Value>
    </Property>
    <Property>
      <Name>Name6</Name>
      <Value>Value6</Value>
    </Property>
  </File>
  <File>
    <Name>Name3</Name>
    <Size>2147483647</Size>
    <Property>
      <Name>Name7</Name>
      <Value>Value7</Value>
    </Property>
    <Property>
      <Name>Name8</Name>
      <Value>Value8</Value>
    </Property>
    <Property>
      <Name>Country</Name>
      <Value>UK</Value>
    </Property>
  </File>
</FileList> 
```

要求是每个文件节点在 Propery/Name 元素中都有一个 Country 值。到目前为止，我已经创建了一个 XPath 查询：

```
/FileList/File/Property/Name/text()='Country' 
```

当答案应该为假时，这会传递为真，因为查询正在查看所有节点。如何更改它以便它检查每个“文件”节点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T13:49:48.457

**使用**：

```
not(/*/File[not(Property/Name = 'Country')]) 
```

**基于 XSLT 的验证：**

**这种转变**：

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
 <xsl:output omit-xml-declaration="yes" indent="yes"/>
 <xsl:strip-space elements="*"/>

 <xsl:template match="node()|@*">
     <xsl:copy-of select=
     "not(/*/File[not(Property/Name = 'Country')])"/>
 </xsl:template>
</xsl:stylesheet> 
```

**应用于提供的 XML 文档时**：

```
<FileList>
  <File>
    <Name>20120427_1.pdf</Name>
    <Size>654441</Size>
    <Property>
      <Name>Country</Name>
      <Value>United States</Value>
    </Property>
   </File>
   <File>
    <Name>Name2</Name>
    <Size>2147483647</Size>
    <Property>
      <Name>Name4</Name>
      <Value>Value4</Value>
    </Property>
    <Property>
      <Name>Name5</Name>
      <Value>Value5</Value>
    </Property>
    <Property>
      <Name>Name6</Name>
      <Value>Value6</Value>
    </Property>
  </File>
  <File>
    <Name>Name3</Name>
    <Size>2147483647</Size>
    <Property>
      <Name>Name7</Name>
      <Value>Value7</Value>
    </Property>
    <Property>
      <Name>Name8</Name>
      <Value>Value8</Value>
    </Property>
    <Property>
      <Name>Country</Name>
      <Value>UK</Value>
    </Property>
  </File>
</FileList> 
```

**计算 XPath 表达式并产生所需的正确结果：**

```
false 
```

**说明**：

使用**[双重否定法](http://en.wikipedia.org/wiki/Double_negation)**。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T12:04:55.153

要获取没有国家/地区的文件，请使用

```
/FileList/File[not(Property[Name='Country'])] 
```

要仅获取其名称，您可以使用

```
/FileList/File[not(Property[Name='Country'])]/Name/text() 
```

# web-services - 如何在 Pentaho 中从 web 服务创建图表

> ID：13267629
> 
> 赞同：0
> 
> 时间：2012-11-07T10:20:14.430
> 
> 标签：web-services, charts, pentaho, kettle

我们需要使用 pentaho 创建不同的图表，如饼图、折线图等。我们从基于 SOAP 的 Web 服务调用中获取这些图表的数据。什么是最好的方法。？我们可以在 Pentaho 中使用 PDI(kettle) 组件从 web 服务获取数据，然后使用 pentaho 设计器从 PDI 数据源创建图表吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T14:59:42.057

每个图表都是图表引擎生成的图片。Pentaho 有几个图表引擎（Birt Reports、Jasper Reports）。您应该使用 Pentaho BI，它在 http 正常 GET 请求下将按请求发回资源。就像普通的网页浏览一样，当页面被渲染时，图片可以作为内部 url 访问。图表的参数可以作为 HTTP GET/PUT 参数传递。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T14:02:06.367

您想如何使用图表？电子邮件？网络？移动的？PDF？

您是否需要存储来自soap 调用的数据，例如建立历史记录，或者只是显示来自soap 调用的那个时间点的图表？

如果是前者，则必须使用 PDI 获取数据然后存储。

如果是后者，那么您可以直接在 CDE 中执行此操作，并构建一个仪表板来显示图表。CDE / CTools 中的图表是 Pentaho 堆栈中最好的。如果你还没有听说过 CDE/Ctools，那就去看看吧——它是任何 Pentaho 安装的重要插件，现在它的一部分默认包含在 Pentaho 中。

# asp.net - 在同一项目中添加对服务的引用

> ID：13267630
> 
> 赞同：0
> 
> 时间：2012-11-07T10:20:17.140
> 
> 标签：asp.net, .net, wcf, web-services

我想知道是否可以在同一个项目（Web 应用程序）中添加对 Web 服务的引用，即我在定义服务的同一个项目中添加引用。

这样做的原因是因为

*   托管服务变得更容易（托管 Web 应用程序时自动托管）。
*   调用服务是动态完成的，即在运行时（从数据库）获取服务 url，并调用该特定服务上的方法。（这是一个托管在许多域上的 Web 应用程序。每个应用程序都知道其他应用程序的服务 url（存储在 db 中的 url）。因为我有对服务的引用，所以我可以在运行时通过`Url`更新代理并调用它。）

另外，我不确定这是否是解决方法。我看到很多人建议使用 WCF 而不是 Web 服务，但我不知道如何使用 WCF 完成同样的事情。

[在 SO - Add Service Reference to WCF Service within Same Project](https://stackoverflow.com/questions/2135954/add-service-reference-to-wcf-service-within-same-project)上已经有一个关于此的问题，但我认为这对我的情况无效。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T10:37:04.907

如果该服务已经在您的项目中，您可以直接使用它而无需 Web 服务代理。

毕竟，Web 服务用于将您的应用程序功能暴露给外部世界，而不是暴露给系统的其他部分。

# google-chrome-extension - Chrome 扩展清单版本 2 API 调用错误

> ID：13267637
> 
> 赞同：1
> 
> 时间：2012-11-07T10:20:28.717
> 
> 标签：google-chrome-extension, manifest, content-security-policy, stackexchange-api

当我尝试连接到 StackOverflow API 以获取数据时出现以下错误：拒绝加载脚本

> [http://api.stackoverflow.com/1.1/questions/unanswered?pagesize=24&tagged=java%20sql&jsonp=jQuery1506144814109429717_1352283176238&_=1352283176259](http://api.stackoverflow.com/1.1/questions/unanswered?pagesize=24&tagged=java%20sql&jsonp=jQuery1506144814109429717_1352283176238&_=1352283176259)

因为它违反了以下内容安全策略指令：`"script-src 'self' 'unsafe-eval'"`.

这是我的清单文件：

```
{
  "manifest_version": 2,
  "background" : { "page": "background.html"},
  "browser_action": {
    "default_icon": "images/16.png",
    "default_popup": "popup.html",
    "default_title": "Test"
  },
  "content_security_policy": "script-src 'self' 'unsafe-eval'; connect-src 'self' http://stackoverflow.com/ http://api.stackoverflow.com/; object-src 'self'",
  "content_scripts": [ {
    "all_frames": true,
    "js": [ "javascripts/settings.js" ],
    "matches": [ "http://*/*", "https://*/*", "ftp://*/*" ],
    "run_at": "document_start"
  } ],
  "description": "test api.",
  "icons": {
    "128": "images/128.png",
    "16": "images/16.png",
    "48": "images/48.png"
  },
  "options_page": "options.html",
  "minimum_chrome_version": "9",
  "name": "Test Test",
  "permissions": [
    "tabs",
    "contextMenus",
    "storage",
    "webRequest",
    "*://*.stackoverflow.com/*",
    "*://stackoverflow.com/*"
  ],
  "version": "1.1"
} 
```

我没有任何内联脚本。

知道我在这里缺少什么吗？

# android - 必须使用哪个布局

> ID：13267639
> 
> 赞同：0
> 
> 时间：2012-11-07T10:20:34.787
> 
> 标签：android, android-layout, android-edittext, textview

我是 android 应用程序开发的新手。我正在开发一个 android 应用程序，其设计类似于以下。我必须使用哪种布局。如果我使用线性布局，我无法将“产品数量”Textview 和 Editbox 放在一条直线上.请帮我解决这个问题。![在此处输入图像描述](../Images/16505b6f657c18c6bca1f8d20a4e67cc.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-07T10:38:33.817

你也可以使用线性布局来做到这一点试试下面的代码

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:tools="http://schemas.android.com/tools"
android:layout_width="fill_parent"
android:layout_height="fill_parent" 
android:orientation="vertical">

<LinearLayout 
    android:layout_width="wrap_content"
android:layout_height="wrap_content" 
android:orientation="horizontal">
<TextView
    android:id="@+id/textView1"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:text="Product Amount"
    android:textAppearance="?android:attr/textAppearanceLarge" />

<EditText
    android:id="@+id/editText1"
    android:layout_width="140dp"
    android:layout_marginLeft="10dp"
    android:layout_height="wrap_content"
    >

    <requestFocus />
</EditText>
</LinearLayout>

<LinearLayout 
    android:layout_width="wrap_content"
android:layout_height="wrap_content" 
android:orientation="horizontal">

     <TextView
    android:id="@+id/textView2"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:text="TextView" />

     <EditText
    android:id="@+id/editText2"
    android:layout_width="80dp"
    android:layout_marginLeft="5dp"
    android:layout_height="wrap_content"
    />
     <TextView
    android:id="@+id/textView3"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:text="%"
    android:textAppearance="?android:attr/textAppearanceLarge" />

       <TextView
    android:id="@+id/textView4"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_marginLeft="10dp"
    android:text="TextView" />

     <EditText
    android:id="@+id/editText3"
    android:layout_marginLeft="5dp"
    android:layout_width="80dp"
    android:layout_height="wrap_content"

    />

 </LinearLayout>

<LinearLayout 
    android:layout_width="wrap_content"
android:layout_height="wrap_content" 
android:orientation="horizontal">

     <TextView
    android:id="@+id/textView5"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:text="TextView" />

     <EditText
    android:id="@+id/editText4"
    android:layout_width="80dp"
    android:layout_marginLeft="5dp"
    android:layout_height="wrap_content"
    />
     <TextView
    android:id="@+id/textView6"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:text="%"
    android:textAppearance="?android:attr/textAppearanceLarge" />

       <TextView
    android:id="@+id/textView7"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_marginLeft="10dp"
    android:text="TextView" />

     <EditText
    android:id="@+id/editText6"
    android:layout_marginLeft="5dp"
    android:layout_width="80dp"
    android:layout_height="wrap_content"

    />

 </LinearLayout> 
```

见下文它给我这样的输出

![图片](../Images/21cbc2e2b78b7c5a736fcf3629c407ef.png)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T10:23:57.160

您将不得不使用多个布局。您的 xml 将是这样的。

线性布局主（垂直）线性布局1（水平） - 用于第一行。布局 1 结束线性布局 2（水平） - 用于第二行。布局 2 结束线性布局 3（水平） - 第三行。布局 3 结束文本销售 Amt 布局主要结束

编辑：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical" >

    <LinearLayout
        android:id="@+id/l1"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="horizontal" >

        <TextView
            android:id="@+id/name"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginLeft="2dip"
            android:layout_marginRight="3dip"
            android:layout_weight="1"
            android:padding="3dip"
            android:text="Name" />

        <EditText
            android:id="@+id/nameedt"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginLeft="2dip"
            android:layout_marginRight="3dip"
            android:layout_weight="1"
            android:inputType="textNoSuggestions"
            android:padding="3dip" />
    </LinearLayout>

    <LinearLayout
        android:id="@+id/l2"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="horizontal" >

        <TextView
            android:id="@+id/pwd"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginLeft="2dip"
            android:layout_marginRight="3dip"
            android:padding="3dip"
            android:layout_weight="1"
            android:text="Password" />

        <EditText
            android:id="@+id/pwdedt"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginLeft="2dip"
            android:layout_marginRight="3dip"
            android:inputType="textNoSuggestions"
            android:layout_weight="1"
            android:padding="3dip" />
    </LinearLayout>
<TextView
            android:id="@+id/pwdhint"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginLeft="2dip"
            android:layout_marginRight="3dip"
            android:padding="3dip"
            android:layout_weight="1"
            android:text="PasswordHint : HINT" 
            android:layout_gravity="center"/>
</LinearLayout> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T10:22:44.890

您应该使用 TableLayout，第一行有四列，使用 col span 将一列扩展为两列，添加 View，其中不存在 Cell。

# android - 如何从广播接收器的 onreceive 方法发起电话呼叫

> ID：13267640
> 
> 赞同：1
> 
> 时间：2012-11-07T10:20:40.590
> 
> 标签：android

当我尝试启动此意图时，有时它会起作用，有时通话会自动结束。我无法找出问题。记住我在 onReceive() 中执行所有这些操作。

```
Intent callIntent = new Intent(Intent.ACTION_CALL, Uri.parse("tel:+number"));
     callIntent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
     con.startActivity(callIntent); 
```

# delphi - 访问 Ubuntu One API 会导致“401 UNAUTHORIZED”或“400 BAD REQUEST”

> ID：13267642
> 
> 赞同：5
> 
> 时间：2012-11-07T10:20:50.773
> 
> 标签：delphi, oauth, indy10

我正在使用带有 Indy 10 的 Delphi XE2 来访问 Ubuntu One API。到现在为止还挺好。[如所述](https://one.ubuntu.com/developer/account_admin/auth/otherplatforms)，我能够从云端获取 OAuth 令牌。现在我想开始使用 API（[如前所述](https://one.ubuntu.com/developer/account_admin/auth/index)）：

```
function TUbuntuOneApi.DoRequest(const URL: String): String;
var
  RequestParams: TStringList;
  HeaderIndex: Integer;
const
  OAuthAuthorisationHeader = 'OAuth realm="", oauth_version="%s", oauth_nonce="%s", oauth_timestamp="%s", oauth_consumer_key="%s", oauth_token="%s", oauth_signature_method="%s", oauth_signature="%s"';

begin
  RequestParams := SignOAuthRequestParams(URL, fOAuthAppToken, fOAuthAccessToken);

{  OAuth realm="", oauth_version="1.0",
  oauth_nonce="$nonce", oauth_timestamp="$timestamp",
  oauth_consumer_key="$consumer_key", oauth_token="$token",
  oauth_signature_method="PLAINTEXT",
  oauth_signature="$consumer_secret%26$token_secret"
  }

  HeaderIndex := IdHTTP.Request.CustomHeaders.IndexOfName('Authorization');
  if HeaderIndex >= 0 then
  begin
    IdHTTP.Request.CustomHeaders.Delete(HeaderIndex);
  end;

  // Solving: http://stackoverflow.com/questions/7323036/twitter-could-not-authenticate-with-oauth-401-error
  IdHTTP.Request.CustomHeaders.FoldLines := false;

  IdHTTP.Request.CustomHeaders.AddValue('Authorization', Format(OAuthAuthorisationHeader, [
      TIdURI.URLDecode(RequestParams.Values['oauth_version']),
      TIdURI.URLDecode(RequestParams.Values['oauth_nonce']),
      TIdURI.URLDecode(RequestParams.Values['oauth_timestamp']),
      TIdURI.URLDecode(RequestParams.Values['oauth_consumer_key']),
      TIdURI.URLDecode(RequestParams.Values['oauth_token']),
      TIdURI.URLDecode(RequestParams.Values['oauth_signature_method']),
      TIdURI.URLDecode(RequestParams.Values['oauth_signature'])
    ]));

  // Execute
  Result := IdHTTP.Get(URL);
  RequestParams.Free;
end;

function TUbuntuOneApi.Test: String;
begin
  //Result := DoRequest('https://one.ubuntu.com/api/file_storage/v1');
  Result := DoRequest('https://one.ubuntu.com/api/account/');
end; 
```

调用[https://one.ubuntu.com/api/file_storage/v1](https://one.ubuntu.com/api/file_storage/v1)会导致“401 UNAUTHORIZED”。调用[https://one.ubuntu.com/api/account/](https://one.ubuntu.com/api/account/)会导致“400 BAD REQUEST”。OAuth 库来自[SourceForge](http://oauthdelphi.svn.sourceforge.net/viewvc/oauthdelphi/)并与 Dropbox 一起使用（如果 OAuth-Params 在查询字符串中，Dropbox 接受它们）。令牌是正确且有效的。我究竟做错了什么？

顺便提一句：

```
function SignOAuthRequestParams(const URL: String; OAuthAppToken, OAuthAccessToken: TOAuthToken): TStringList;
var
  Consumer: TOAuthConsumer;
  ARequest: TOAuthRequest;
  Response: String;
  HMAC: TOAuthSignatureMethod;
begin
  HMAC := TOAuthSignatureMethod_PLAINTEXT.Create;
  // Consumer erzeugen
  Consumer := TOAuthConsumer.Create(OAuthAppToken.Key, OAuthAppToken.Secret);

  // Request erzeugen
  ARequest := TOAuthRequest.Create(URL);
  ARequest := ARequest.FromConsumerAndToken(Consumer, OAuthAccessToken, URL);
  ARequest.Sign_Request(HMAC, Consumer, OAuthAccessToken);

  Result := TStringList.Create;
  Result.AddStrings(ARequest.Parameters);

  ARequest.Free;
  Consumer.Free;
  HMAC.Free;
end; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-10T14:19:38.207

> 此时，新创建的令牌可用于在 Ubuntu SSO 服务上向其他方法进行身份验证，但尚不能与 Ubuntu One API 一起使用。我们需要告诉 Ubuntu One 从 SSO 服务中复制新创建的令牌。这是通过向`GET` 以下 URL 发出请求来完成的，并使用新的 OAuth 令牌进行签名。来自[Ubuntu One：授权页面](https://one.ubuntu.com/developer/account_admin/auth/otherplatforms)。

惭愧，我忘了这样做。

# c++ - #pragma 优化的代码的可移植性如何？

> ID：13267648
> 
> 赞同：5
> 
> 时间：2012-11-07T10:21:13.660
> 
> 标签：c++, c, compiler-construction, portability, pragma

使用的代码的可移植性如何[`#pragma optimize`](http://msdn.microsoft.com/en-us/library/chh3fb0k.aspx)？大多数编译器是否支持它，对此的支持有多完整`#pragma`？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-11-07T10:29:08.303

`#pragma`是编译器添加*非认可和不可移植*语言扩展的*认可和可移植方式*^*。

 *基本上，您永远无法确定，并且至少有一个主要的 C++ 编译器 (g++) 不支持此编译指示。

* * *

^* :

来自 C++ 标准（N3242）：

> ## 16.6 Pragma 指令*[cpp.pragma]*
> 
> 形式的预处理指令
> 
> `# pragma` *pp-tokens[选择]换行符*
> 
> 导致实现以实现定义的方式运行。该行为可能会导致翻译失败或导致翻译器或生成的程序以不合格的方式运行。任何未被实现识别的编译指示都会被忽略。

来自 C 标准（委员会草案 — 2011 年 4 月 12 日）：

> ## 6.10.6 Pragma 指令
> 
> ### 语义
> 
> 形式的预处理指令
> 
> `# pragma` *pp-tokens[选择]换行符*
> 
> 其中预处理标记`STDC`没有立即跟随`pragma`在指令中（在任何宏替换之前）^(174）)导致实现以实现定义的方式运行。该行为可能会导致翻译失败或导致翻译器或生成的程序以不合格的方式运行。任何 `pragma`不被实现识别的内容都将被忽略。

这是一个例子：

```
int main () {
    #pragma omp parallel for
    for (int i=0; i<16; ++i) {}
} 
```

C 和 C++ OpenMP API 的很大一部分是作为`#pragma`s 实现的。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-11-07T10:28:01.337

依赖编译器标志通常不是一个好主意，因为每个编译器都有自己的行为。

不应使用此标志，因为它是您注入代码的编译级别规范。

通常和理论上，如果不使用此标志，编译器应忽略此标志。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-11-07T10:43:51.183

关键字是可移植的`#pragma`，因为它应该始终编译，尽管在编译器上。但是，编译指示是特定于编译器的，因此在更改编译器时可能会抱怨一些警告。一些编译指示被广泛使用，例如来自 OpenMP 的编译指示。为了使代码尽可能地具有可移植性，您可以使用`#ifdef`/包围您的编译指示，`#endif`这取决于您使用的编译器。例如：

```
#ifdef __ICC
   #pragma optimize
#endif 
```

编译器通常定义一些宏，例如`__ICC`使代码知道正在使用哪个编译器。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-07T10:31:12.587

`#pragma`不便携，句号。有一个版本的 gcc 曾经在遇到它时开始游戏

我们在工作中使用的编译器中，有两个肯定不支持`#pragma optimise`，其他的我也无法回答。

即使他们这样做了，由于用于优化的命令行开关不同，编译指示的选项也可能不同。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-11-07T10:32:35.180

**的任何使用`#pragma`都是特定于编译器的。**

[例如](http://en.wikipedia.org/wiki/C_preprocessor#Compiler-specific_preprocessor_features)：GNU、英特尔和 IBM：

```
#warning "Do not use ABC, which is deprecated. Use XYZ instead." 
```

微软：

```
#pragma message("Do not use ABC, which is deprecated. Use XYZ instead.") 
```

关于您关于 的具体问题， [gcc](http://gcc.gnu.org/onlinedocs/gcc/Function-Specific-Option-Pragmas.html)和[microsoft](http://msdn.microsoft.com/en-us/library/chh3fb0k.aspx)`#pragma optimize`都支持，但这并不意味着将来会支持。*

# javascript - DataGrid 在标题下方显示奇怪的复选框

> ID：13267649
> 
> 赞同：0
> 
> 时间：2012-11-07T10:21:17.897
> 
> 标签：javascript, dojo, dojox.grid.datagrid

我在显示`datagrid`使用 dojo 时遇到问题。使用 a 提供的数据填充网格`ItemFileReadStore`可以正常工作。但结果如下所示：

![Datagrid 显示两个复选框，我不知道为什么](../Images/b74ee2c654a05d3b3c98aaf2ccc3e414.png)

Grid-Headings 下面的两个`checkboxes`不应该在那里。我已经尝试过 DataGrid 的属性`rowSelector`，但我显然没有成功。

我已经以`DataGrid`编程方式创建了。这是源代码：

```
 var oStore = new dojo.data.ItemFileReadStore({
       data:{
          identifier: 'catID',
             items: [
                {catID: '3', duration: '1,5'},
                {catID: '4', duration: '2,0'},
                {catID: '9', duration: '1,0'},
                {catID: '7', duration: '2,0'}
             ]  
          }
       });

       var oGrid = new dojox.grid.DataGrid({
          store: oStore,
          query:{ catID:'*'},
          autoHeight: 5,
          structure:[
             {name: 'KatalogID', field: 'catID', width: 'auto'},
             {name: 'Dauer', field: 'duration', width: 'auto'}
          ]
       }, dojo.create('div', {'id':'oGrid'}));
       oGrid.startup(); 
```

有谁知道，这些复选框来自哪里以及如何删除它们？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T09:30:09.220

我找到了一个可能的解决方法，但这并不能解决问题：包括以下 css 代码会隐藏`div`包含不受欢迎的复选框的 -container。

```
 <style type="text/css">

       .dojoxGridView > .dijitCheckBox{
          display: none; 
       }

    </style> 
```

不幸的是，这涉及到 -declaration 中的-option`checkBoxes`生成的那些。因此，如果您不需要 rowSeletion 功能（至少通过复选框），则可以使用。`rowSelector``DataGrid`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T17:15:11.423

我多次遇到这个问题，通过包含 Grid.css 和主题 css 将其删除。这可以通过玩css来删除。

# templates - ModX getResources 模板不接收电视

> ID：13267651
> 
> 赞同：0
> 
> 时间：2012-11-07T10:21:26.000
> 
> 标签：templates, modx, modx-revolution, television, getresource

我有以下 getResources 行：

```
[[!getResources? &parents=`5` &tpl=`projlink` ]] 
```

然后在我用作模板（projlink）的块中，我有：

```
<div class="projname">[[+pagetitle]]</div>
<div class="projinfo">[[+tv.projinfo]]</div> 
```

现在页面标题显示正常，但不是电视。

自然地，我检查了检索到的资源确实有带有`projinfo`电视的模板，这一切都很好。我只是不知道发生了什么——这一切对我来说似乎都是正确的。任何人都可以帮助我吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-07T10:23:29.523

使用[`includeTVs`](http://rtfm.modx.com/display/ADDON/getResources)旗帜。

```
[[!getResources? &parents=`5` &tpl=`projlink` &includeTVs=`1` ]] 
```

# c++ - Errors thrown in C++ basic program

> ID：13267655
> 
> 赞同：3
> 
> 时间：2012-11-07T10:21:52.293
> 
> 标签：c++, syntax-error, raspberry-pi, geany

I'm a bit of a newbie to C++, but I have some programming experience. I made a basic program, following a guide I found on t'internet. It compiled with g++ easily, but when I ran it it threw these errors:

> ./FP.cpp: line 1: //: Is a directory ./FP.cpp: line 3: using: command not found ./FP.cpp: line 5: syntax error near unexpected token `(' ./FP.cpp: line 5:`int main ()'

I'm using Geany on a Raspberry Pi (but using a command line to run the program as the Geany interpreter doesn't work). Here's the program:

```
 // First program in c++
    #include <iostream>
    using namespace std;

    int main()
    {
    cout << "Hello World!";
    return 0;
    } 
```

Any ideas?

Cheers!

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-07T10:24:06.510

It looks like you're trying to execute the source file, i.e. run it as a shell script.

To *compile* your program you would do something like this:

```
$ g++ -Wall FP.cpp -o FP 
```

This produces an *executable* named `FP`. So you should now see both the original program, `FP.cpp`, and the executable, `FP`, in your current directory.

To *run* the executable (compiled program):

```
$ ./FP 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-07T10:24:59.990

Calling ./FP.cpp tries to execute the source code, which is not what you want. You need to compile it via g++, and then run the executable (usually ./FP)

# c# - 在 C# 的 ListBox 中添加 ListBoxItem？

> ID：13267657
> 
> 赞同：21
> 
> 时间：2012-11-07T10:22:02.473
> 
> 标签：c#, wpf, string, listbox, listboxitem

我知道：

```
String test = "test";
ListBox.Items.Add(test); 
```

或者

```
String test = "test";
int index = 1;
ListBox.Items.Insert(index, String); 
```

在ListBox中添加String，但我想插入ListBoxItem，怎么做？以前我知道

```
var contentToString = (String)ListBoxItem.Content; 
```

只是将 ListBoxItem 转换为 String，但我无法将 String 转换为 ListBoxItem

* * *

## 回答 #1

> 赞同：37
> 
> 时间：2012-11-07T10:35:18.570

试试这个：

```
ListBoxItem itm = new ListBoxItem();
itm.Content = "some text";

listbox.Items.Add(itm); 
```

列表框是列表框的名称。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T10:29:55.857

你可以这样做

```
ListBox1.Items.Insert(0,new ListItem("ITEM 1", "Value")) 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-07T10:43:50.077

您的对象将始终位于 ListBoxItem 中，如果您不显式添加它，ListBox 将为您生成一个。要获取您使用的 ListBoxItem：

```
var listboxitem = (ListBoxItem)listbox.ItemContainerGenerator.ContainerFromItem(myItem); 
```

# git - 每周更新 svn 存储库，使用来自 git 存储库的更改并丢失历史记录

> ID：13267659
> 
> 赞同：2
> 
> 时间：2012-11-07T10:22:09.003
> 
> 标签：git, svn, shell, cron, commit

我有一个 git 存储库，它是我的开发存储库。我需要每周将所有更改上传到 svn 存储库 - 但我不想公开我的 git-commit-history。换句话说：我明确地**想失去**历史。给定一周内 git 存储库中的所有更改都需要压缩到一个 svn 提交。

一周的例子：

吉特：

```
commit 1 "fixed y"
commit 2 "added feature x"
commit 3 "foo"
commit 4 "fixed n" 
```

SVN：

```
commit 1 "changes from this week" 
```

理想情况下，它应该由通过 cron 作业自动启动的小型 shell 或 python 脚本来完成。

我有以下变量：

```
LOCAL_PATH=/tmp/git-svn-bridge/
GIT_DIR=git_repo
SVN_DIR=svn_repo

GIT_REPO_URL=git://git@my_git_server
GIT_REPO_NAME=my_git_repo
GIT_REPO_BRANCH=master

SVN_REPO_URL=svn://my_svn_server
SVN_USER=FIXME
SVN_PASS=FIXME 
```

有任何想法吗？

谢谢阅读！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T19:46:00.023

这是一般的想法 - 用于`git archive`导出然后`rsync -a --delete`更新 svn 工作副本。类似于以下内容：

```
#!/bin/bash -xue

gitdir='/path/to/git/repo-clone/'  
gitbranch='master'

svncodir='/path/to/svn/svn-checkout' 
svnrepo='file:///tmp/svnrepo'  # no trailing slash

# if svn checkout doesn't exit
[[ ! -d $svncodir ]] && svn co $svnrepo $svncodir

# if svn checkout is pointing to a different repo
if svn info $svncodir | grep -qF "URL: $svnrepo"; then
  rm -rf $svncodir
  svn co $svnrepo $svncodir
fi

tmpdest=$(mktemp -d)
git --git-dir $gitdir/.git archive $gitbranch | tar -x -C $tmpdest

cd $svncodir
svn update

# sync our temporary dir with the current svn checkout
rsync -av --delete --force --exclude '.svn' $tmpdest/ .
rm -rf $tmpdest/

# svn add new or modified files
svn add . --force --no-ignore

# remove missing ones (whitespace safe, unless you have
# files with 5 spaces in them)
svn status | awk -F' {5,}' '/!/ {print $2}' | xargs -I'{}' svn rm '{}'

svn status 
svn commit -m "changes from this week" 
```

# knockout.js - 为每个 ko 数据绑定放置下拉列表

> ID：13267662
> 
> 赞同：0
> 
> 时间：2012-11-07T10:22:23.470
> 
> 标签：knockout.js

```
Shall I get any sample to place the Dropdown List in for each of ko databind.something like give below

<div data-bind="foreach:valuelist>
<select data-bind ="options :valuelist value =selecteditem></select>
</div> 
```

有这样的样品吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-22T14:49:14.183

我在 jsFiddle 中创建了一些示例**[单击此处查看示例](http://jsfiddle.net/pkysylevych/LqY6J/)**。

所以一般来说，你应该做以下事情：

1\. 例如创建一些带有名称值的 observableArray：

```
self.values = ko.observableArray([ "Item 1", "Item 2", "Item 3", "Item 4"]); 
```

2.像这样添加你的html：

```
<div data-bind="template: { name: 'myTemplate', foreach: values}">
</div>

<script id="myTemplate" type="text/html">
  <select data-bind="options: $root.values, optionsCaption: 'Choose..'"></select>
</script> 
```

希望它会帮助你。

# javascript - 如果找不到查询字符串，请修改 javascript 函数

> ID：13267663
> 
> 赞同：1
> 
> 时间：2012-11-07T10:22:25.383
> 
> 标签：javascript, query-string

我想通过 javascript 获取查询字符串值。我正在使用这个功能。

```
var qs = (function (a) {
if (a == "") return {};
var b = {};
for (var i = 0; i < a.length; ++i) {
    var p = a[i].split('=');
    if (p.length != 2) continue;
    b[p[0]] = decodeURIComponent(p[1].replace(/\+/g, " "));

}
return b;
})(window.location.search.substr(1).split('&')); 
```

它运作良好。但是如果 url 中没有查询字符串值，则 if 是错误的。我想修改它，就好像它找到查询值返回它一样。

如果没有查询字符串值，则返回单词“Natural”

你能帮我吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T10:27:43.443

在顶部你可以写：

```
if (a == "") return "Natural"; 
```

但这真的很奇怪你想要这样做。

# web-services - 我正在开发一个集成应用程序，它将使用 WSDL 集成一个 SOAP API。谁能指导我相关的设计模式等？

> ID：13267664
> 
> 赞同：1
> 
> 时间：2012-11-07T10:22:28.527
> 
> 标签：web-services, design-patterns, salesforce, apex-code

com 开发人员，正在开发将外部系统与 Salesforce.com 链接的集成应用程序。外部系统通过 SOAP API 公开其服务并提供我已导入的 WSDL，并在命名空间下创建类。我需要帮助来开发应用程序的整体架构。

系统的架构应该是什么？我应该为不同的实体开发模型和服务类，以便从外部应用程序获取数据并将响应转换为我自己的模型类吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-01T22:55:26.760

像对待典型数据层（DBMS、Web 服务等）一样对待外部系统。这意味着以业务层不知道数据来自何处的方式封装数据获取逻辑。存储库[模式](http://msdn.microsoft.com/en-us/library/ff649690.aspx)是执行此操作的一种技术。

一旦你抽象出你的数据层，你就会以任何你认为合适的方式处理*数据*到*实体的转换。*您可以使用[AutoMapper](https://github.com/AutoMapper/AutoMapper)之类的工具来执行此操作，或者编写您自己的自定义翻译层，将*数据*翻译成您的应用程序使用的对象。

# asp.net - 如何在 ASP.NET 4 中更改菜单项的呈现

> ID：13267666
> 
> 赞同：0
> 
> 时间：2012-11-07T10:22:31.193
> 
> 标签：asp.net, menu, adapter, menuitem

我不想将菜单项的图像呈现为锚中的 <img> 标记，而是向锚标记添加一个类，该类将图像添加为背景图像。

目前，我正在使用搜索图像 url 的 javascript 进行一些后处理。如果找到，它们将被删除并替换为 CSS 类。

有没有办法通过覆盖 Menu 或实现 MenuAdapter 来执行此操作？
我看过 MenuAdapter 类，但看起来我必须重新实现所有渲染功能才能改变这个小部分。

[注意：我这样做的原因是因为我想在文本之后显示图像；我很难使用默认渲染来做到这一点。]

**ETA：**在下面回答。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-08T08:13:48.003

`Render`我发现最简单的方法是覆盖`Menu`.

使用此菜单，您可以在菜单项的 ToolTip 属性中放置工具提示和 css 类，用分号分隔：
`item.ToolTip = "this is the tip; class1 class2";`

**注意：**这是一个简单的菜单，可以按照我的意愿执行。它忽略 ImageUrl 和 SeparatorImageUrl。

```
public class CSSItemMenu : Menu
    {

        protected override void Render(HtmlTextWriter writer)
        {
            this.PerformDataBinding();

            writer.Write(string.Format("<div id=\"{0}\" class=\"{1}\">", base.ClientID, base.CssClass));
            writer.WriteLine();
            writer.WriteLine("<ul class=\"level1\">");

            foreach (MenuItem item in Items)
            {
                WriteItem(writer, item, 1);
            }

            writer.WriteLine("</ul>");
            writer.WriteLine("</div>");
        }

        private static void WriteItem(HtmlTextWriter writer, MenuItem item, int level)
        {
            writer.WriteLine("<li>");

            string title = "";
            var userClass = "";
            if (!string.IsNullOrEmpty(item.ToolTip))
            {
                var data = item.ToolTip.Split(';');
                title = string.Format(" title=\"{0}\"", data[0].Trim());
                if (data.Length > 1)
                {
                    userClass = " " + data[1].Trim();
                }
            }
            var cssClass = string.Format("class = \"popout level{0}{1}\"", level, userClass);

            writer.WriteLine(string.Format("<a {0} href=\"{1}\"{2}>{3}</a>", cssClass, item.NavigateUrl, title, item.Text));

            if (item.ChildItems.Count > 0)
            {
                writer.WriteLine(string.Format("<ul class=\"level{0}\">", level + 1));
                foreach (MenuItem child in item.ChildItems)
                {
                    WriteItem(writer, child, level + 1);
                }
                writer.WriteLine("</ul>");
            }

            writer.WriteLine("</li>");
        }

    } 
```

# c++ - FILE_NOTIFY_INFORMATION 不支持 Utf-8 文件名

> ID：13267667
> 
> 赞同：0
> 
> 时间：2012-11-07T10:22:31.553
> 
> 标签：c++, qt, winapi, unicode, filenames

我正在尝试查看文件夹更改并通知添加的文件名，所以这是我的代码

```
bool FileWatcher::NotifyChange()
{
    // Read the asynchronous result of the previous call to ReadDirectory
    DWORD dwNumberbytes;
    GetOverlappedResult(hDir, &overl, &dwNumberbytes, FALSE);

    // Browse the list of FILE_NOTIFY_INFORMATION entries

    FILE_NOTIFY_INFORMATION *pFileNotify = (FILE_NOTIFY_INFORMATION *)buffer[curBuffer];
    // Switch the 2 buffers
    curBuffer = (curBuffer + 1) % (sizeof(buffer)/(sizeof(buffer[0])));
    SecureZeroMemory(buffer[curBuffer], sizeof(buffer[curBuffer]));
    // start a new asynchronous call to ReadDirectory in the alternate buffer
    ReadDirectoryChangesW(
         hDir, /* handle to directory */
         &buffer[curBuffer], /* read results buffer */
         sizeof(buffer[curBuffer]), /* length of buffer */
         FALSE, /* monitoring option */
         FILE_NOTIFY_CHANGE_FILE_NAME  ,
         //FILE_NOTIFY_CHANGE_LAST_WRITE, /* filter conditions */
         NULL, /* bytes returned */
         &overl, /* overlapped buffer */
         NULL); /* completion routine */    

    for (;;) {
         (pFileNotify->Action == FILE_ACTION_ADDED)
        {
                qDebug()<<"in NotifyChange if ";
                char szAction[42];
                char szFilename[MAX_PATH] ;
                memset(szFilename,'\0',sizeof( szFilename));
                strcpy(szAction,"added");
                wcstombs( szFilename, pFileNotify->FileName, MAX_PATH);
                qDebug()<<"pFileNotify->FileName : "<<QString::fromWCharArray(pFileNotify->FileName)<<"\nszFilename : "<<QString(szFilename);                       

        }

        // step to the next entry if there is one
        if (!pFileNotify->NextEntryOffset)
            return false;
        pFileNotify = (FILE_NOTIFY_INFORMATION *)((PBYTE)pFileNotify + pFileNotify->NextEntryOffset);
    }
    pFileNotify=NULL;
    return true;
} 
```

除非添加了带有阿拉伯名称的文件，否则它工作正常，所以我得到了

```
pFileNotify->FileName :  "???  ???????.txt" 
szFilename :  "" 
```

如何支持 UTF-8 编码文件名？？？请有任何想法。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-07T12:30:54.677

除了`FILE_NOTIFY_INFORMATION::FileName`没有被空终止之外，它没有任何问题。

> **FileName：** 一个可变长度字段，包含相对于目录句柄的文件名。文件名采用 Unicode 字符格式，并且**不是以 null 结尾的**。如果文件同时存在短名称和长名称，则该函数将返回这些名称之一，但未指定哪个名称。
> 
> **FileNameLength：**记录的文件名部分的大小，以字节为单位。请注意，此值不包括终止空字符。

您必须使用`FILE_NOTIFY_INFORMATION::FileNameLength / sizeof(WCHAR)`来获取 FileName 指向的 wchars 中字符串的长度。所以在你的情况下，正确的方法是：

```
size_t cchFileNameLength = pFileNotify->FileNameLength / sizeof(WCHAR);
QString::fromWCharArray( pFileNotify->FileName, cchFileNameLength ); 
```

如果您需要使用期望字符串以空值结尾的函数（如 wcstombs），您必须自己分配一个大小为 的临时缓冲区并以`FILE_NOTIFY_INFORMATION::FileNameLength + sizeof(WCHAR)`空值结尾。

* * *

至于空的 szFilename 和问号，这只是将包含不可转换字符的 UTF16 (NTFS) 文件名转换为 ANSI 的结果。如果无法进行转换，wcstombs 会返回错误，并且 QDebug 会将任何不可转换的字符转换为`?`.

> 如果 wcstombs 遇到无法转换为多字节字符的宽字符，则返回 –1 强制转换为 size_t 类型并将 errno 设置为 EILSEQ。

因此，如果您需要支持 unicode 文件名，请不要将它们转换为 ANSI，并使用支持 unicode 的函数专门处理它们。

# iphone - 如何根据特定参数对对象数组进行排序

> ID：13267668
> 
> 赞同：0
> 
> 时间：2012-11-07T10:22:31.157
> 
> 标签：iphone, objective-c

我有一个具有不同属性的类，例如地名，位置距离，用户名，。我将这个类对象存储在一个数组中。我想根据距离对这个对象数组进行排序。我该怎么做。请用一些代码提出建议。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T10:27:05.617

```
NSSortDescriptor *sortDescriptor = [[NSSortDescriptor alloc] initWithKey:@"placeDistance" ascending:TRUE];
[your array sortUsingDescriptors:[NSArray arrayWithObject:sortDescriptor]] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T10:29:04.517

```
NSArray* array...
NSArray* sorted_array = [array sortedArrayUsingComparator:^NSComparisonResult(id obj1, id obj2) {
    YourClass* a = (YourClass*)obj1;
    YourClass* b = (YourClass*)obj2;
    /*
    return NSComparisonResult based on a property comparison here,
    for example, return [a.distance compare:b.distance] if distance is an NSNumber
    */
}]; 
```

很像[忽略标点符号的排序（Objective-C）](https://stackoverflow.com/questions/13058389/sort-ignoring-punctuation-objective-c/13249229)

# c# - fluentvalidation 不显示错误或更新 Modelstate

> ID：13267676
> 
> 赞同：1
> 
> 时间：2012-11-07T10:23:00.523
> 
> 标签：c#, asp.net-mvc-4, fluentvalidation

这是我使用最新的流利验证库设置的代码。

```
public class ReleaseViewModelValidator : AbstractValidator<ReleaseViewModel> 
{ 
   public ReleaseViewModelValidator() {
     RuleFor(r => r.Name).NotEmpty().Length(1, 30).WithMessage("Name must not be longer than 30 chars."); 
  } 
}

[FluentValidation.Attributes.Validator(typeof(ReleaseViewModel))]
 public class ReleaseViewModel { public int ReleaseId { get; set; }

[Remote("ReleaseExists", "Release", ErrorMessage = "This name already exists.")]
public string Name { get; set; } 
public DateTime CreatedAt { get; set; } } 
```

**全球.ASAX：**

```
 FluentValidationModelValidatorProvider.Configure(); 
```

**看法：**

```
 model ILMD.Web.Models.ReleaseViewModel @* Remote Validation*@ <script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>
 @using (Html.BeginForm("Create", "Release")) 
 {
 <p class="editor-label">@Html.LabelFor(model => model.Name)</p> 
 <p class="editor-field">@Html.EditorFor(model => model.Name)</p> 
 <p class="editor-field">@Html.ValidationMessageFor(model => model.Name)</p> 
 } 
```

* * *

我所有的单元测试都`ReleaseViewModelValidator`显示绿灯。美好的。

但不太酷的是，输入一些实时数据，如 31 个字符或不输入任何内容，我看不到任何客户端错误消息。

我还需要在我的局部视图中包含一些东西吗？`ModelState`也不正确，它总是正确的 。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T18:04:57.903

试试这个

```
[FluentValidation.Attributes.Validator(typeof(ReleaseViewModelValidator))] 
```

因为在 FluentValidation 属性验证器中，您指定了实际的验证器 ( `ReleaseViewModelValidator`) 而不是`ReleaseViewModel`

# java - java.lang.AbstractMethodError

> ID：13267678
> 
> 赞同：1
> 
> 时间：2012-11-07T10:23:10.997
> 
> 标签：java, web-services, jersey

在我的电脑中的 Web 服务程序中出现错误，但相同的代码在其他电脑上运行良好。有什么解决办法吗？

```
SEVERE: Servlet.service() for servlet [ServletAdaptor] in context with path [/REST] threw exception [Servlet execution threw an exception] with root cause
java.lang.AbstractMethodError
    at com.sun.jersey.core.spi.factory.MessageBodyFactory._getMessageBodyWriter(MessageBodyFactory.java:395)
    at com.sun.jersey.core.spi.factory.MessageBodyFactory._getMessageBodyWriter(MessageBodyFactory.java:382)
    at com.sun.jersey.core.spi.factory.MessageBodyFactory.getMessageBodyWriter(MessageBodyFactory.java:363)
    at com.sun.jersey.spi.container.ContainerResponse.write(ContainerResponse.java:266)
    at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1448)
    at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1360)
    at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1350)
    at com.sun.jersey.spi.container.servlet.WebComponent.service(WebComponent.java:416)
    at com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:538)
    at com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:716)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:225)
    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)
    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:168)
    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:98)
    at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:927)
    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)
    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1001)
    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:585)
    at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:310)
    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
    at java.lang.Thread.run(Unknown Source) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T10:38:22.210

我不确定你真的搜索了多少。

此错误背后的 Java 文档状态的具体原因。

[http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/AbstractMethodError.html](http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/AbstractMethodError.html)

我认为您的 jar 不匹配...您在本地编译的 jar 和在不同的其他位置运行应用程序时使用的 jar。这是大多数此类问题的基本问题。您可以验证 jar 的版本...

我看了几个选项，但人们谈论不同版本的罐子......请更好地看看你的罐子......它可能会有所帮助......

# javascript - Django JavaScript 翻译空目录（i18n/jsi18n）

> ID：13267679
> 
> 赞同：8
> 
> 时间：2012-11-07T10:23:12.113
> 
> 标签：javascript, django

在我的 jsi18n JavaScript 中，我总是得到一个空目录。我已经尝试了 StackOverflow 上的所有解决方案，包括[国际化 JavaScript 代码时的空目录](https://stackoverflow.com/questions/3347698/django-translation-catalog-is-empty)，但目录仍然是空的。

我的设置是这样的：

```
project_dir
- locale
  - nl (contains LC_MESSAGES with django.po and djangojs.po)
- app1
- app2
- main_app
  - settings.py
  - urls.py
  - wsgi.py 
```

在 settings.py 我有

```
# Where to find locale
LOCALE_PATHS = (
    os.path.join(SITE_ROOT, 'locale'),
) 
```

SITE_ROOT 是我的项目目录的绝对路径，所以这转化为

在 urls.py 我有

```
# i18n
js_info_dict = {
    'domain': 'djangojs',
    'packages': ('wrnpro', ),
} 
```

和

```
 (r'^jsi18n/$', 'django.views.i18n.javascript_catalog', js_info_dict), 
```

作为我的网址的一部分。

如果我运行应用程序并打电话，`http://localhost:8000/jsi18n/`我会得到

```
/* gettext library */
var catalog = new Array();
function pluralidx(count) { return (count == 1) ? 0 : 1; }
… 
```

到目前为止，我已经尝试了各种设置等。我可以找到，但目录仍然是空的。

运行时`make messages`，`compile messages`我的 JavaScript 获取文本字符串被找到并翻译。django.po 和 .mo 文件位于 locale 目录中。

任何人？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2016-08-12T18:28:25.933

这最终为我工作：

```
js_info_dict = {
   'domain': 'django',
   'packages': None,
}

urlpatterns = [
    url(r'^jsi18n/$', javascript_catalog, js_info_dict, name='javascript-catalog'),
    # ...
] 
```

# 还是行不通？故障排除提示：

我不知道为什么这特别有效，但我可以告诉你我是如何发现如何让它工作的。如果您使用相同的故障排除技术，也许您也会找到方法。我使用了 Python 调试器，如下所示：

```
def javascript_catalog_pdb(*args, **kwargs):
    import pdb
    pdb.set_trace()
    return javascript_catalog(*args, **kwargs)

url_patterns = [
    url(r'^jsi18n/$', javascript_catalog_pdb, js_info_dict, name='javascript-catalog'),
    ...
] 
```

然后使用 PDB，我进入了`javascript_catalog`，直到我到达线路：

```
catalog, plural = get_javascript_catalog(locale, domain, packages) 
```

然后我在调试器中尝试了不同的值`domain`和`packages`，直到我发现我需要的值。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-12-21T18:58:46.287

我遇到了同样的问题，当我将我的语言环境目录从我的项目文件夹移动到我的应用程序文件夹时它起作用了，所以似乎 makemessages 需要在应用程序级别运行。我认为您`LOCALE_PATHS`的设置文件中不需要。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-07T10:52:57.960

对于您当前用户的语言，您是否有任何已完成的翻译，或者您是否只有存根？该目录将仅包含实际已翻译的字符串的值。

即，如果你的英文 po 文件中有这个：

```
#: static/js/events.js:159
msgid "Open side panel"
msgstr "" 
```

目录中不会出现任何内容（如果您使用英文访问它）。但如果你有这个：

```
#: static/js/events.js:159
msgid "Open side panel"
msgstr "Open side panel" 
```

然后会有。

# sharepoint - System.UnauthorizedAccessException 与 SPWebpartmanager

> ID：13267680
> 
> 赞同：3
> 
> 时间：2012-11-07T10:23:13.017
> 
> 标签：sharepoint, sharepoint-2010, access-denied

我们正在运行 SharePoint 2010 场。我已从用户组中删除了对站点集合“提供者”的所有访问权限。“提供者”是用户登录的默认站点集合。我们有一个继承自“UnsecuredLayoutsPageBase”的自定义访问被拒绝页面，并且有一个包含 spwebpartmanager 的母版页。

```
<WebPartPages:SPWebPartManager ID="m" runat="Server" /> 
```

现在，当组中无权访问“Provider”的用户登录时，sharepoint 将重定向到 AccessDeniedPage。但是 SPWebPartManager （使用 .net 反射器检查）抛出 System.UnauthorizedAccessException：尝试执行未经授权的操作，因为登录的用户没有权限。

有没有办法以提升的权限运行 spwebpartmanager？除了 SPSecurity.RunWithElevatedPrivileges 块，我找不到任何东西，但它适用于用户代码。如何使 OTB 代码以提升的权限运行？任何帮助深表感谢。谢谢。

这是堆栈跟踪。

```
System.UnauthorizedAccessException: Attempted to perform an unauthorized operation.
   at Microsoft.SharePoint.Utilities.SPUtility.HandleAccessDenied(HttpContext context)
   at Microsoft.SharePoint.Utilities.SPUtility.HandleAccessDenied(Exception ex)
   at Microsoft.SharePoint.Library.SPRequest.OpenWeb(String bstrUrl, String& pbstrServerRelativeUrl, String& pbstrTitle, String& pbstrDescription, String& pbstrTitleResourceId, String& pbstrDescriptionResourceId, Guid& pguidID, String& pbstrRequestAccessEmail, UInt32& pwebVersion, Guid& pguidScopeId, UInt32& pnAuthorID, UInt32& pnLanguage, UInt32& pnLocale, UInt16& pnTimeZone, Boolean& bTime24, Int16& pnCollation, UInt32& pnCollationLCID, Int16& pnCalendarType, Int16& pnAdjustHijriDays, Int16& pnAltCalendarType, Boolean& pbShowWeeks, Int16& pnFirstWeekOfYear, UInt32& pnFirstDayOfWeek, Int16& pnWorkDays, Int16& pnWorkDayStartHour, Int16& pnWorkDayEndHour, Int16& pnMeetingCount, Int32& plFlags, Boolean& bConnectedToPortal, String& pbstrPortalUrl, String& pbstrPortalName, Int32& plWebTemplateId, Int16& pnProvisionConfig, String& pbstrDefaultTheme, String& pbstrDefaultThemeCSSUrl, String& pbstrThemedCssFolderUrl, String& pbstrAlternateCSSUrl, String& pbstrCustomizedCssFileList, String& pbstrCustomJSUrl, String& pbstrAlternateHeaderUrl, String& pbstrMasterUrl, String& pbstrCustomMasterUrl, String& pbstrSiteLogoUrl, String& pbstrSiteLogoDescription, Object& pvarUser, Boolean& pvarIsAuditor, UInt64& ppermMask, Boolean& bUserIsSiteAdmin, Boolean& bHasUniquePerm, Guid& pguidUserInfoListID, Guid& pguidUniqueNavParent, Int32& plSiteFlags, DateTime& pdtLastContentChange, DateTime& pdtLastSecurityChange, String& pbstrWelcomePage, Boolean& pbOverwriteMUICultures, Boolean& pbMUIEnabled, String& pbstrAlternateMUICultures, Int32& puiVersion, Int16& pnClientTag)
   at Microsoft.SharePoint.SPWeb.InitWeb()
   at Microsoft.SharePoint.SPWeb.get_WebTemplate()
   at Microsoft.SharePoint.SPWeb.get_WebTemplateConfiguration()
   at Microsoft.SharePoint.WebControls.ScriptLink.InitJs_Register(Page page)
   at Microsoft.SharePoint.WebControls.ScriptLink.RegisterForControl(Control ctrl, Page page, String name, Boolean localizable, Boolean defer, Boolean loadAfterUI, String language)
   at Microsoft.SharePoint.WebControls.ScriptLink.Register(Page page, String name, Boolean localizable, Boolean defer, Boolean loadAfterUI, String language, String uiVersion)
   at Microsoft.SharePoint.WebControls.ScriptLink.RegisterOnDemand(Page page, String strKey, String strFile, Boolean localizable)
   at Microsoft.SharePoint.WebControls.ScriptLink.OnLoad(EventArgs e)
   at System.Web.UI.Control.LoadRecursive()
   at System.Web.UI.Control.LoadRecursive()
   at System.Web.UI.Control.LoadRecursive()
   at System.Web.UI.Control.LoadRecursive()
   at System.Web.UI.Control.LoadRecursive()
   at System.Web.UI.Page.ProcessRequestMain(Boolean includeStagesBeforeAsyncPoint, Boolean includeStagesAfterAsyncPoint) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T16:15:59.933

我建议创建一个没有 Web 部件管理器的不同母版页。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-26T21:12:40.107

我们在用户未登录时运行的基于表单的登录页面遇到了类似的问题。

为了解决这个问题，我们不得不将 @Page 指令从：

```
DynamicMasterPageFile="~masterurl/default.master" 
```

至

```
MasterPageFile="~/_layouts/simple.master" 
```

确定原因是一个相当大的挑战。必须`PrcessRequest()`用一个`try/catch`块覆盖，然后查看`InnerException`以获取导致问题的线索，因为`/_login/OurLoginPage.aspx`它隐藏在 403 错误下，并且仅在堆栈跟踪的深处，我们发现了您在上面谈到的问题。

# php - 如何在 php 中的谷歌分析中显示搜索概述

> ID：13267688
> 
> 赞同：4
> 
> 时间：2012-11-07T10:23:24.200
> 
> 标签：php, google-analytics

如何在 php 的谷歌分析中显示搜索概述？

显示谷歌分析页面

**访问 7​​6**

我正在使用这个功能**ga:organicSearches**链接在这里[developers.google.com/analytics/devguides/reporting/core](https://developers.google.com/analytics/devguides/reporting/core/dimsmets#cats=visitor,session,trafficsources,adwords,goalconversions,platform,geonetwork,system,socialactivities,pagetracking,internalsearch,sitespeed,apptracking,eventtracking,ecommerce,socialinteractions,usertimings,exceptions,customvars,time)

我想在我的新分析网站中显示此数据，但此功能显示**74 次访问**

我可以知道我错在哪里。

到目前为止，这是我的代码：-

```
$ga1 = new gapi($ga_email,$ga_password);

/* We are using the 'source' dimension and the 'visits' metrics */
$dimensions = array('source');
$metrics    = array('visits','organicSearches');

/* We will sort the result be desending order of visits, 
    and hence the '-' sign before the 'visits' string */

$ga1->requestReportData($ga_profile_id,
                       $dimensions,
                       $metrics,
                       '-visits', // Sort by 'visits' in descending order
                       $filter, // Filter the data
                       '2012-10-05', // Start Date
                       '2012-11-04', // End Date
                       1,  // Start Index
                       500 // Max results
                       );

$gaResults = $ga1->getResults();

$i=1;

foreach($gaResults as $result)
{
    printf("%-4d %-40s %5d\n",
           $i++,
           $result->getSource(),
           $result->getVisits());
}

echo "\n-----------------------------------------\n";
echo "Total Results : {$ga1->getTotalResults()}";    

echo "getOrganicSearches:".$ga1->getOrganicSearches().'<br />'; 
```

有没有其他功能可以显示这些数据？？？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-27T09:47:44.867

这是我用来获取自然搜索结果的参数（来自搜索引擎的非付费访问）

```
 $params = array(
        'dimensions' => 'ga:source,ga:keyword',
        'sort' => '-ga:visits,ga:source',
        'filters' = 'ga:medium==organic'
    ); 
```

请注意“过滤器”行。它的值设置为**'ga:medium==organic'**。

这将为您返回自然流量的访问，您可以再次拨打付费电话以复制 Google Analytics（分析）网络应用程序中的搜索概览页面。

# java - 在返回托管实体的服务器端调用业务方法时客户端出错

> ID：13267692
> 
> 赞同：0
> 
> 时间：2012-11-07T10:23:36.183
> 
> 标签：java, jpa, glassfish, ejb, eclipselink

我的客户端应用程序是使用 Netbeans RCP 的独立 Java 应用程序。客户端应用程序连接到安装在 Glassfish 服务器上的远程 EJB。

在服务器端，我有一个业务方法（我为测试而做的），它应该采用一个实体的实例（这个实体还没有被持久化或管理），持久化它（使用`persit`的`EntityManager`）。

下面是这个方法的样子：

```
@Override
public TestLinkEntity test(TestLinkEntity c) {
    em.persist(c);
    return c;
} 
```

像这样从客户端调用：

```
TestLinkEntity c = remote.test(new TestLinkEntity()); 
```

这是`TestLinkEntity`声明：

```
@Entity
public class TestLinkEntity implements AltEntity, Serializable {

    private Set<TestAppEntity> links = new HashSet<TestAppEntity>();

    @Id
    @GeneratedValue(strategy = GenerationType.AUTO)
    private Long id;

    @Override
    public Long getId() {
        return id;
    }

    public void setId(Long id) {
        this.id = id;
    }

    @OneToMany(mappedBy="links")
    public Set<TestAppEntity> getLinks() {
        return links;
    }

} 
```

现在`TestAppEntity`用于*一对多*关系。

```
@Entity
public class TestAppEntity implements Serializable, AltEntity {

    @Id
    @GeneratedValue(strategy = GenerationType.AUTO)
    private Long id;
    private String test;

    public TestAppEntity() {
    }

    @Override
    public Long getId() {
        return id;
    }

    public void setId(Long id) {
        this.id = id;
    }

    public String getTest() {
        return test;
    }

    public void setTest(String test) {
        this.test = test;
    }
} 
```

我面临的问题是，当我尝试从客户端调用业务方法时（如上所示），我在客户端并且**仅在客户端出现了一个***巨大*且非常难以理解的异常。Glassfish 日志中没有记录异常，实体 ( ) 和潜在链接 ( ) 存储在数据库中。**`TestLinkEntity``TestAppEntity`**

 **[我在这里](http://pastebin.com/r8mj1uB7)粘贴了异常。

以下是我注意到的几件事。

*   仅当我尝试返回托管实体时才会发生异常。例如，如果我替换`em.persist()`by`em.merge`并且不返回由 merge 返回的新实体，则永远不会引发异常。例如做类似的事情：

    ```
    @Override
    public TestLinkEntity test(TestLinkEntity c) {
        em.merge(c);
        return c;
    } 
    ```

*   *仅当返回的实体包含一对多*关系时才会发生异常。例如，类似以下代码片段的内容不会引发异常：

    ```
    @Override
    public TestAppEntity test(TestAppEntity c) {
        em.persist(c);
        return c;
    } 
    ```

    *TestAppEntity 不包含任何关系。*

我确定的事情：

*   `TestAppEntity`并且`TestLinkEntity`在客户端和服务器端都是相同的。

* * *

**编辑：**

由于@James 的回答，我现在想知道`javax.persistence`eclispelink.jar 和 javaee.jar 中的包有什么区别。我应该包括两者吗？

包含两者都会引起麻烦（可能是由于两个 jar 中的包名相同）。

```
error: in class file javax/persistence/NamedQuery.class(javax/persistence:NamedQuery.class): unknown enum constant     javax.persistence.LockModeType.NONE
Note: Attempting to workaround javac bug #6512707
warning: No processor claimed any of these annotations: [javax.ejb.Remote]
error: in class file j javax/persistence/NamedQuery.class(javax/persistence:NamedQuery.class): unknown enum constant javax.persistence.LockModeType.NONE 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T14:31:06.220

这似乎是您正在使用的 CORBA 序列化中的一些错误。

我的猜测是您的客户端上没有 eclipseLink.jar，但您需要它。由于从数据库中读取的对象将包含特殊的 LAZY 集合实例。**

# c# - SDL Tridion C# 代码片段在上下文中找不到引擎、包或日志字段

> ID：13267701
> 
> 赞同：4
> 
> 时间：2012-11-07T10:24:15.603
> 
> 标签：c#, tridion

我对 Tridion 开发很陌生，我遇到了第一个“基本”问题。我已经在 TBB 中编写了一个简单的 C# 代码片段（使用内容管理器文本编辑器），并且我尝试使用引擎、包和日志字段（因为我知道它们由 Tridion 提供）但我收到一条错误消息“该名称在上下文中不存在”。这是代码：

```
<%@ Page Language="C#" ContentType="text/html" ResponseEncoding="utf-8" %>
<div>
        <!-- TemplateBeginRepeat name="Component.Fields.crociera" -->
              <!-- TemplateBeginIf cond="prezzo<250" -->
                     Go to @@location@@<br/>
              <!-- TemplateEndIf -->
        <!-- TemplateEndRepeat -->
</div>
<%
String ts = DateTime.Now.ToString("d MMM yyyy");
Response.Write("<br/>"+ts);
engine.getSession();
%> 
```

当我保存 TBB 并发布页面时，我收到此错误：

```
Compilation Error

Description: An error occurred during the compilation of a resource required to service this request. Please review the following specific error details and modify your source code appropriately. 

Compiler Error Message: CS0103: The name 'engine' does not exist in the current context

Source Error:

Line 31: Response.Write("<br/>"+ts);
Line 32: engine.getSession();
Line 33: %>                         
Line 34:                  </div>

Source File: c:\inetpub\wwwroot\stage\pj\ricerca\ricerca.aspx    Line: 32 
```

可能我错过了什么或做错了什么，有人认识到这个问题吗？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-11-07T11:25:20.833

The `Engine` object you use is part of Tridion's TOM.NET API, which is only available to your code while the item is being published.

Once the ASPX page reaches the front-end server, the TOM.NET API is not available anymore. Part of the reason for this is that the Tridion Content Manager is simply not reachable from your web server anymore.

Instead of programming against the Tridion Content Manager through its TOM.NET API, you need to program against Tridion Content Delivery through its API. You can find the documentation for common cases in the [Live Docs](http://sdllivecontent.sdl.com/LiveContent/content/en-US/SDL_Tridion_2011_SPONE/concept_C72D061178C64B88A93134DE051A082C) (log in required).

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-07T11:00:00.373

[您可以在如何在 C# TBB（C# 代码片段）中添加用户定义的方法中](https://stackoverflow.com/questions/10477483/how-to-add-user-defined-methods-in-c-sharp-tbbc-code-fragment)找到有关如何正确创建 C# 片段的信息？

# imagemagick - 尝试在 FreeBSD 上安装 ImageMagick 时出错

> ID：13267702
> 
> 赞同：0
> 
> 时间：2012-11-07T10:24:17.553
> 
> 标签：imagemagick, installation, freebsd, ports

如果很快我在尝试从 FreeBSD 上的端口安装 ImageMagic 时遇到错误。任何解决方案如何解决它？

```
%make install clean
===>  ImageMagick-nox11-6.5.8.10_1 is marked as broken: hdri support broken, disable in options.
*** Error code 1

Stop in /usr/ports/graphics/ImageMagick. 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-08T09:14:27.320

当然，运行`make config`并取消选择`HDRI`选项。

# linux - linux shell脚本压缩所有文件

> ID：13267703
> 
> 赞同：1
> 
> 时间：2012-11-07T10:24:21.187
> 
> 标签：linux, shell, command

这是我的应用程序的示例路径

```
/var/www/html/folder1/folder2/folder3/ 
```

我需要获取“folder3”的所有 90 天旧文件，并使用 shell 脚本将它们保存为名为“folder2”的 zip 文件。我尝试在 shell 脚本中编写一些代码：-

```
filaname = awk -F/ '{print $(NF-1)}' <<< "/var/www/html/folder1/folder2/folder3/"

#above command retuns folder2

zip filaname find /var/www/html/folder1/folder2/folder3/* -ctime -90 
```

我试图将**find**命令的输出发送到**zip**命令，但它不起作用。

有人可以建议我如何实现这一目标。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T10:30:12.277

```
$ zip files.zip `find /var/www/html/folder1/folder2/folder3/ -type f -mtime +90` 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T10:34:47.173

或者试试这个：

```
find /var/www/html/folder1/folder2/folder3/ -type f -mtime +90 -exec zip filename.zip {} \; 
```

# actionscript - 是否有用于创建 *.ico 文件的 actionscript3 库

> ID：13267705
> 
> 赞同：1
> 
> 时间：2012-11-07T10:24:24.420
> 
> 标签：actionscript, png, converter, ico

现在，我需要在我的 actionscript 项目中创建一个 .ico 文件。但我找不到一个库。

这是用于读取 ico 文件并获取位图数据的[ICODecoder (actionscript lib)。](http://www.libspark.org/svn/as3/ICODecoder/src/com/voidelement/images/ico/)

但我真正需要的是将 jpg/png 转换为 .ico 文件。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-12-06T04:13:22.753

我从未见过创建 ico 文件的库；但是，没有什么能阻止您创建后端服务，当 ActionScript 调用联系该服务时，它会为您创建 .ico 文件，将其存储在服务器上，并且您的 ActionScript 在准备好时获取它。

# xcode - 在另一个 ViewController 中导入数组

> ID：13267706
> 
> 赞同：0
> 
> 时间：2012-11-07T10:24:25.370
> 
> 标签：xcode, arrays

> **可能重复：**
> [如何将数组从一个视图控制器传递到另一个？](https://stackoverflow.com/questions/6678097/how-to-pass-an-array-from-one-view-controller-to-another)

我在 firstViewController 中有一些数组，我想在第二个视图控制器中使用它。因为我是 XCode 的新手，所以我不知道该怎么做。我尝试在第二个视图控制器的 viewDidLoad 方法中创建 firstViewController 的对象。然后我尝试了

在 firstViewController 我创建了 5 个数组，它们都包含我 NSLogged 的​​数据。现在在 SecondViewController.h

```
import FirstViewController.h
@property(nonatomic, retain )NSMutablearray *array; 
```

SecondViewController.m @synthesize 数组

```
-(void) viewDidLoad
 FirstViewController *importArray = [FirstViewController alloc]init];
 importArray.arrayOfFirstViewController = array;
 NSLog(@"%@", array) 
```

但我总是得到空结果。

# c# - axAcroPDF 的高亮控件被禁用

> ID：13267708
> 
> 赞同：2
> 
> 时间：2012-11-07T10:24:35.417
> 
> 标签：c#, pdf, axacropdf

我尝试使用 axAcroPDF COM 在我的表单上显示 PDF 文件，选择文本并突出显示它们。PDF 页面可以正确呈现。而且我注意到表单右侧有一些按钮，但它们都是灰色的，所以我无法单击这些按钮来突出显示所选内容。

我测试过，用 Adob​​e Reader 加载同一个 PDF 文件，我可以正常使用所有功能。我也尝试使用 setCurrentHighLight() 但不起作用。

请帮我解决这个问题，非常感谢。

# google-app-engine - Google 应用引擎 - 本地开发服务器时区

> ID：13267709
> 
> 赞同：4
> 
> 时间：2012-11-07T10:24:37.710
> 
> 标签：google-app-engine

我从 GAE 文档中了解到，生产服务器时区始终是 UTC。在本地开发时，服务器时区设置为 CET。有没有办法强制本地开发服务器也运行在 UTC 上？

开发服务器在 Mac OS 上运行。

谢谢，

雨果

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-07T13:42:46.983

刚刚找到了答案。为了设置服务器时区，只需进入 Eclipse，“运行配置”，然后“VM 参数”并添加以下“-Duser.timezone=UTC”。

在这种情况下，这会将服务器时区设置为您想要的值 (UTC)。这真的很方便，因为 Google App Engine 生产将始终运行 UTC，而开发服务器（至少在我的情况下）使用本地时区运行。最终结果是我在开发和产品之间有不同的行为。

雨果

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-07T11:22:58.137

好吧，您可以在将日期值保存到数据存储区以转换为您的特定时区时使用它。

```
 DateFormat utcFormat = new SimpleDateFormat(patternString);
    utcFormat.setTimeZone(TimeZone.getTimeZone("UTC"));
    DateFormat indianFormat = new SimpleDateFormat(patternString);
    utcFormat.setTimeZone(TimeZone.getTimeZone("Asia/Kolkata"));
    Date timestamp = utcFormat.parse(inputString);
    String output = indianFormat.format(timestamp); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-12-01T19:05:46.943

GAE devServer 默认使用本地时区。

我使用此代码将其强制为 UTC：

```
boolean isDevEnvironment = SystemProperty.environment.value() == SystemProperty.Environment.Value.Development;

    if (isDevEnvironment) {
        TimeZone.setDefault(DateTimeZone.UTC.toTimeZone());
        DateTimeZone.setDefault(DateTimeZone.UTC);
    } 
```

您需要在服务器启动和初始化期间运行一次。

# tomcat - Tomcat：使用重定向放置 crossdomain.xml

> ID：13267710
> 
> 赞同：1
> 
> 时间：2012-11-07T10:24:38.943
> 
> 标签：tomcat, redirect, crossdomain.xml

我们有一个在 tomcat 上作为 webapp 运行的网站。如果我们将 crossdomain.xml 放在 ROOT webapp 文件夹中，它就无法访问，因为域会将每个请求重定向到 /webappxyz 文件夹。

有没有办法将 /crossdomain.xml 请求从重定向到 /webappxyz 文件夹除外？

# android - Android：为什么我会收到这些 AsyncTask 错误？

> ID：13267711
> 
> 赞同：5
> 
> 时间：2012-11-07T10:24:40.177
> 
> 标签：android, android-asynctask, thread-sleep

我有一个 asyncTaskProc 从数据库中读取一些信息并将其写入用户界面...

该代码在 Android 4.0 上完美运行，但在 2.3 上无法运行......这是代码

新的异步任务

`公共类 IceCastPoll 扩展 TimerTask {

```
 public IceCastPoll() {

    }

    @TargetApi(9)
    public void run() {

        new AsyncTaskProc().execute();   
    }

}` 
```

ASYNCTASK 实现

```
@TargetApi(9)
class AsyncTaskProc extends AsyncTask<Void, String, Void> {
    List<Stream> streams=null;

    @Override
    protected void onPostExecute(Void result) {

        textSong =(TextView) findViewById(R.id.textViewCurrentSong);
        textArtist =(TextView) findViewById(R.id.textViewCurrentArtist);
        textTit=(TextView) findViewById(R.id.textViewTit);
        textArt=(TextView) findViewById(R.id.TextViewArt);
        copertina=(ImageView) findViewById(R.id.imageViewCopertina);
        new DownloadImageTask((ImageView) findViewById(R.id.imageViewCopertina)).execute("http://service.uniradiocesena.it/OnAir.jpg");

        try {
            for (Stream stream: streams) {

                try
                {   
                    //Thread.sleep(5000);
                    //textSong.setText((stream.getCurrentSong()));
                    textArt.setText("Artista:");
                    textTit.setText("Titolo:");
                    StringTokenizer tokens = new StringTokenizer(stream.getCurrentSong(), "-");
                    String first = tokens.nextToken();
                    String second = tokens.nextToken();
                    textSong.setText(first);
                    textArtist.setText(second);

                } catch (Exception e) { 
                    //Thread.sleep(5000);
                    textSong.setText((stream.getCurrentSong()));
                    textArt.setText("Rotazione:");
                    textTit.setText("");
                    textArtist.setText("");
                }
            }
        } catch (Exception e) {

            //Toast.makeText(getApplicationContext(),e.toString(), Toast.LENGTH_SHORT).show();

        }

    }

    @Override
    protected Void doInBackground(Void... unused) {

        Scraper scraper = new IceCastScraper();

        StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();
        StrictMode.setThreadPolicy(policy);

        try {
            streams = scraper.scrape(new URI("http://r35798.ovh.net:8000/"));

        } catch (ScrapeException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
            //Toast.makeText(getApplicationContext(),e.toString(), Toast.LENGTH_LONG).show();
        } catch (URISyntaxException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
            //Toast.makeText(getApplicationContext(),e.toString(), Toast.LENGTH_LONG).show();
        }

        return (null);
    }

}` 
```

LOGCAT 错误

```
11-07 11:09:49.729: W/dalvikvm(18983): Exception Ljava/lang/RuntimeException; thrown while initializing Landroid/os/AsyncTask;
11-07 11:09:49.729: W/dalvikvm(18983): threadid=9: thread exiting with uncaught exception (group=0x40018560)
11-07 11:09:49.739: E/AndroidRuntime(18983): FATAL EXCEPTION: Timer-0
11-07 11:09:49.739: E/AndroidRuntime(18983): java.lang.ExceptionInInitializerError
11-07 11:09:49.739: E/AndroidRuntime(18983):    at com.example.appuniradiocesena.SwipeyTabsSampleActivity$IceCastPoll.run(SwipeyTabsSampleActivity.java:233)
11-07 11:09:49.739: E/AndroidRuntime(18983):    at     java.util.Timer$TimerImpl.run(Timer.java:284)
11-07 11:09:49.739: E/AndroidRuntime(18983): Caused by: java.lang.RuntimeException: Can't create handler inside thread that has not called Looper.prepare()
11-07 11:09:49.739: E/AndroidRuntime(18983):    at android.os.Handler.<init>(Handler.java:121)
11-07 11:09:49.739: E/AndroidRuntime(18983):    at android.os.AsyncTask$InternalHandler.<init>(AsyncTask.java:421)
11-07 11:09:49.739: E/AndroidRuntime(18983):    at android.os.AsyncTask$InternalHandler.<init>(AsyncTask.java:421)
11-07 11:09:49.739: E/AndroidRuntime(18983):    at android.os.AsyncTask.<clinit>(AsyncTask.java:152)
11-07 11:09:49.739: E/AndroidRuntime(18983):    ... 2 more 
```

任何建议都会非常感谢！

并为英语错误感到抱歉：D

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-11-07T10:38:04.087

您应该使用在主线程上创建的[Handler](http://developer.android.com/reference/android/os/Handler.html)启动 AsyncTask 。所以用这个替换你`run()`在 IceCastPoll 中的方法：

```
private Handler handler = new Handler(Looper.getMainLooper());

@Override
public void run() {
   handler.post(new Runnable() {
      public void run() {
          new AsyncTaskProc().execute();
      }
   });
 } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T10:28:39.767

```
 new AsyncTaskProc().execute(); 
```

不要将此代码放在线程中。

因为它已经是一个Handler。

简单在任何你需要的地方执行代码，比如 new AsyncTaskProc().execute(); 够了我的朋友

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T10:32:11.947

您的代码中的一个快速建议：您为什么`findViewById()`每次都这样做，因为您试图以特定的时间间隔执行 AsyncTask，所以每次都这样做是不可行的。

相反，在`onCreate()`方法中找到所有这些视图。

# codeigniter - GAS ORM 与属性的多对多关系

> ID：13267712
> 
> 赞同：0
> 
> 时间：2012-11-07T10:24:45.573
> 
> 标签：codeigniter, orm

我正在使用 CodeIgniter，并且开始使用 gas orm。

我的一个使用**复合键的****mn-relationship-tables**还具有一些**额外的关系属性**。

 ****例如：表团队、表员工和将它们绑定在一起的 mn 表 + 添加属性角色

**是否可以使用 GAS ORM 获取属性？**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T08:24:01.593

是的，有可能。

只需在您要链接的两个表之一中创建一个新关系，该关系将数据透视表本身称为 has_many 关系。（但不要在模型文件中做链接的东西，例如：

```
ORM::has_many('\\Model\\User\\Role') 
```

代替

```
ORM::has_many('\\Model\\User\\Role => \\Model\\Role') 
```

有关完全相同的问题，请参阅[http://ellislab.com/forums/viewreply/1050559/ 。](http://ellislab.com/forums/viewreply/1050559/)****

# objective-c - 避免在 Lion 之前的 OS 版本中添加 NSWindowWillEnterFullScreenNotification（在 Leopard 或 Snow Leopard 上）

> ID：13267714
> 
> 赞同：1
> 
> 时间：2012-11-07T10:24:47.670
> 
> 标签：objective-c, macos, nsnotificationcenter

如何避免在 10.7 之前的操作系统版本中添加 NSWindowWillEnterFullScreenNotification 因为它仅在操作系统 10.7 或更高版本中可用，我想在 10.7 以上版本中使用此通知，但如果我在之前的操作系统版本上运行它，我的应用程序会崩溃。我检查了崩溃日志，它说找不到符号 NSWindowWillEnterFullScreenNotification

现在我正在使用这个检查操作系统版本

```
 if (floor(NSAppKitVersionNumber) <= NSAppKitVersionNumber10_5) {
    /* On a 10.5.x or earlier system */
}
else if (floor(NSAppKitVersionNumber) <= NSAppKitVersionNumber10_6) {
    /* On a 10.6 - 10.6.x system */
}  else  {
[[NSNotificationCenter defaultCenter] addObserver:self
                                             selector:@selector(willEnterFull:)
                                                 name:NSWindowWillEnterFullScreenNotification
                                               object:nil];

    [[NSNotificationCenter defaultCenter] addObserver:self
                                             selector:@selector(didExitFull:)
                                                 name:NSWindowDidExitFullScreenNotification
                                               object:nil];
    } 
```

但是应用程序一启动就在以前的版本中崩溃了。

这是崩溃日志，尽管由于 NDA 我在日志中将应用程序名称更改为 XYZ

```
Process:         XYZ [53319]
Path:            /Applications/XYZ.app/Contents/MacOS/XYZ
Identifier:      com.XYZ.XYZ
Version:         2.0.5 (2.0.5)
Code Type:       X86 (Native)
Parent Process:  launchd [224]

Date/Time:       2012-10-28 07:44:11.717 -0500
OS Version:      Mac OS X 10.6.8 (10K549)
Report Version:  6

Exception Type:  EXC_BREAKPOINT (SIGTRAP)
Exception Codes: 0x0000000000000002, 0x0000000000000000
Crashed Thread:  0

Dyld Error Message:
  Symbol not found: _NSWindowDidExitFullScreenNotification
  Referenced from: /Applications/XYZ.app/Contents/MacOS/XYZ
  Expected in: /System/Library/Frameworks/AppKit.framework/Versions/C/AppKit
 in /Applications/XYZ.app/Contents/MacOS/XYZ 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T12:48:33.047

这就是我*认为*会发生的事情。崩溃已经发生在链接器中，因为它期望`NSWindowDidExitFullScreenNotification`存在，但它不会在旧版本的 os x 中。

我没有这方面的经验。解决方案似乎有点老套。

看看这个问题，有人有一个几乎完全相同的问题：
[How to build a back-compatible OS X app, when a new API is present?](https://stackoverflow.com/questions/1406645/building-a-backwards-compatible-os-x-app-when-a-new-api-is-present)

# java - 是否可以将输出缓冲到 Log4j Mail Appender？

> ID：13267715
> 
> 赞同：2
> 
> 时间：2012-11-07T10:24:51.690
> 
> 标签：java, email, logging, log4j

在许多将 log4j 与邮件附加程序结合使用的服务应用程序中......

```
log4j.rootLogger=ERROR, MAIL
log4j.appender.MAIL=org.apache.log4j.net.SMTPAppender
log4j.appender.MAIL.BufferSize=1
log4j.appender.MAIL.SMTPHost=smtp.example.com
log4j.appender.MAIL.From=noreply@example.com
log4j.appender.MAIL.To=developer@example.com
log4j.appender.MAIL.Subject=Exception
log4j.appender.MAIL.layout=org.apache.log4j.PatternLayout
log4j.appender.MAIL.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss,SSS} %5r %-5p [%t] %c{2} - %m%n 
```

.. 同一类型的多个异常发生并且可能持续到问题解决的可能性非常高。

有没有一种缓冲输出的方法，以便只在给定的时间间隔内发送邮件？

一个不错的解决方案是将异常按其发生的类型和类分组，但只需附加到本地日志并按时间间隔发送滚动日志就足够了。这个想法是不要从压力大的系统接收成百上千的错误报告，而是及时接收重要信息，然后不要为后续操作而烦恼。

有没有不实施的解决方案`TriggeringEventEvaluator`？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-03-06T15:17:02.550

你可以试试这个：[https ://github.com/reaktor/log4j-email-throttle](https://github.com/reaktor/log4j-email-throttle)

简单，但适用于缓冲。

# android - 更改 ViewPager 的顺序并更新视图

> ID：13267716
> 
> 赞同：1
> 
> 时间：2012-11-07T10:24:54.747
> 
> 标签：android, android-viewpager, viewpagerindicator

我有一个有 10 多个视图的 ViewPager。我希望偶尔更改页面的顺序，即

第 1 页 | 第 2 页 | 第 3 页

至

第 3 页 | 第 1 页 | 第2页

对于我使用[ViewPagerIndicator](http://viewpagerindicator.com/)的选项卡，我可以通过更改适配器的顺序并调用来更新它们的顺序：

```
mViewPagerIndicator.notifyDataSetChanged(); 
```

但是，我无法更新的是 ViewPager 的内容，例如，如果我更新 ViewPager 适配器（到我希望页面所在的新顺序）并调用：

```
mViewPager.getAdapter().notifyDataSetChanged() 
```

这没有效果。标签指示栏更新正常，但页面内容仍显示旧顺序。

有没有办法改变 ViewPager 适配器中的页面顺序并让 ViewPager 重新加载它的所有视图？

* * *

我的 ViewPager 适配器扩展`FragmentStatePagerAdapter`，我的重写方法如下：

```
@Override
public Fragment getItem(int position) {
    return MyCustomFragment.newInstance();
}
@Override
public void destroyItem(ViewGroup container, int position, Object object) {
    //super.destroyItem(container, position, object);  // Commented out to ensure views are not destroyed
} 
```

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T23:34:04.747

这很棘手，`FragmentStatePagerAdapter`因为您必须自己实现逻辑，但是`FragmentPagerAdapter`已经为此目的提供了功能要容易得多。

调用`.notifyDataSetChanged()`调用`getItemPosition(Object object)`适配器的 - 方法。这是您应该向 ViewPager 提供在参数中传递的 Fragment 放置位置的信息，方法`object`是返回您希望放置 Fragment 的页码。

有关如何执行此操作的示例，[请在此处查看我的答案](https://stackoverflow.com/questions/12321617/android-viewpager-move-any-page-to-end-programatically/14822077#14822077)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-07-29T23:26:25.620

如果性能不是非常重要，那么强制`FragmentStatePagerAdapter`或`FragmentPagerAdapter`重绘（无效）其所有视图/片段真的很容易：只需像往常一样覆盖`getItemPosition`和调用。`notifyDataSetChanged()`

```
@Override
public int getItemPosition(Object object) {
    return POSITION_NONE; //In source code, POSITION_NONE = -2 FYI
} 
```

有关更多信息，请查看我的帖子：[如何以降序而不是升序使用 orderByKey() #Askfirebase](https://stackoverflow.com/questions/38627149/how-to-use-orderbykey-in-descending-order-instead-of-ascending-askfirebase/38668756#38668756)

# jquery - 根据自定义属性的内容选择表格行

> ID：13267718
> 
> 赞同：0
> 
> 时间：2012-11-07T10:24:56.070
> 
> 标签：jquery

所以我有一个多行的表。每行内容的第一个 TD 有一个自定义属性标签，称为 lineup。前任：

```
<td lineup="['463', '442', '200', '97', '238', '548', '166', '184', '353', '26', '573']">Some stuff</td> 
```

这实际上是我通过 Jinja2 传入 html 的一个列表。我认为这是存储这些数据的最佳解决方案。也许我错了，我刚刚开始编码。

现在我要做的是在阵容包含特定 ID 时选择行。

现在我正在这样做：

```
$("#xtable tbody td[lineup*='"+ID+"'']").parent() 
```

哪个很好用，除非 ID 为 63，它还会选择 id 为 463 的行。我理解它为什么这样做，因为它基本上是在搜索字符串，他不知道 463 实际上不是 63。

所以我的问题：

*   有没有更好的方法将数据存储在 html/js 中？
*   例如，使用正则表达式（我不知道如何使用）可以让它只找到 63 而不是 463？

**编辑：**

这是我的 Jquery 函数：

```
$('#update li').hover(function(){
        playerId = $(this).find('span').attr("pid");
        $("#xtable tbody td[lineup*='"+playerId+"'']").parent().css("background-color","#d9edf7")
        },
        function(){
            $("#xtable tbody td[lineup*='"+playerId+"'']").parent().css("background-color","")
}); 
```

获取playedId的li元素示例

```
<li class="pushmsg" style=""><p><span rel="tooltip" class="player-name" pid="14" data-original-title="total point: 3">Arshavin</span> just got an assist</p></li> 
```

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T11:13:19.303

最好的办法是在您过滤的字符串中包含撇号。您应该在它前面加上一个反斜杠，因为您希望它被视为一个字符串。

```
$("#xtable tbody td[lineup*='\'"+ID+"\'']").parent() 
```

我会建议您尽可能不要使用自定义属性，但如果您确实需要它们，请使用 data-* 属性。更多信息[在这里](http://www.w3.org/TR/2010/WD-html5-20101019/elements.html#custom-data-attribute)和[这里](http://html5doctor.com/html5-custom-data-attributes/)。使用数据阵容，您的代码将如下所示：

```
$("#xtable tbody td[data-lineup*='\'"+ID+"\'']").parent() 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T11:06:12.937

```
$('#xtable tbody td[lineup*="\''+ID+'\'"]').parent() 
```

在要匹配的属性子字符串中包含您的 ID 周围的单引号，但已转义。

另外：你因尴尬而获奖。

小提琴示例：http: [//jsfiddle.net/GHmjr/](http://jsfiddle.net/GHmjr/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-07T10:27:10.793

删除星号`*`

```
 $("#xtable tbody td[lineup='"+ID.toString()+"'']").parent() 
```

# c# - LINQ 查询 - 仅从子集合中获取订单和最大日期

> ID：13267721
> 
> 赞同：0
> 
> 时间：2012-11-07T10:25:03.667
> 
> 标签：c#, linq, entity-framework

我正在尝试从父子 (1-*) 实体集合模型中获取一个在标签中显示 2 个值的列表。

我有 3 个实体：

1.  [**客户**]：客户ID，姓名，地址，...
2.  [**订单**]：OrderId、OrderDate、EmployeeId、Total、...
3.  [ **OrderStatus** ]：OrderStatusId、StatusLevel、StatusDate、...

一个**客户**可以有很多**订单**，而一个订单可以有**很多订单**状态，即 [**客户**] 1--* [**订单**] 1-- * [**订单状态**]

给定一个 CustomerId，我想获取该订单的所有订单（仅 OrderId）和最新的（MAX？）OrderStatus.StatusDate。

我已经尝试了几次尝试，但似乎可以得到我想要的结果。

```
private IQueryable<Customer> GetOrderData(string customerId)
{
     var ordersWithLatestStatusDate = Context.Customers

     // Note: I am not sure if I should add the .Expand() extension methods here for the other two entity collections since I want these queries to be as performant as possible and since I am projecting below (only need to display 2 fields for each record in the IQueryable<T>, but thinking I should now after some contemplation.

     .Where(x => x.CustomerId == SelectedCustomer.CustomerId)
     .Select(x => new Custom 
     {
         CustomerId = x.CustomerId,
         ...
         // I would like to project my Child and GrandChild Collections, i.e. Orders and OrderStatuses here but don't know how to do that. I learned that by projecting, one does not need to "Include/Expand" these extension methods.  
     });
     return ordersWithLatestStatusDate ;
} 
```

---- 更新 1 ----

在 User: [lazyberezovsky](https://stackoverflow.com/users/470005/lazyberezovsky)的出色解决方案之后，我尝试了以下方法：

```
var query = Context.Customers
            .Where(c => c.CustomerId == SelectedCustomer.CustomerId)
            .Select(o => new Customer 
            { 
                Name = c.Name, 
                LatestOrderDate = o.OrderStatus.Max(s => s.StatusDate) 
            }); 
```

在我最初发布的仓促中，我没有正确粘贴所有内容，因为它主要来自内存并且当时没有确切的代码供参考。我的方法是一个强类型的 IQueryabled，我需要它返回一个类型为 T 的项目的集合，因为我必须通过一个严格的 API 中的约束，该 API 有一个 IQueryable 查询作为其参数之一。我知道我可以使用扩展方法 .Expand() 和/或 .Select() 添加其他实体/属性。人们会注意到我上面最新的更新查询在 .Select() 中添加了一个“新客户”，它曾经是匿名的。我很肯定这就是为什么查询失败的原因 b/c 由于 LatestOrderDate 不是客户在服务器级别的属性，它不能变成有效的 Uri。供参考，在看到下面的第一个答案后，我使用简单的 { get; 将该属性添加到我的客户端 Customer 类中。放; }。因此，鉴于此，我能否以某种方式仍然拥有一个 Customer 集合，只从 2 个不同的实体中带回这 2 个字段？下面的解决方案看起来如此有前途和巧妙！

---- 结束更新 1 ----

仅供参考，我使用的技术是 OData (WCF)、Silverlight、C#。

任何提示/链接将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T11:31:09.270

这将为您提供`{ OrderId, LatestDate }`对象列表

```
var query = Context.Customers
                   .Where(c => c.CustomerId == SelectedCustomer.CustomerId)
                   .SelectMany(c => c.Orders)
                   .Select(o => new { 
                              OrderId = o.OrderId, 
                              LatestDate = o.Statuses.Max(s => s.StatusDate) });

               . 
```

*UPDATE*构造内存中的对象

```
var query = Context.Customers
                   .Where(c => c.CustomerId == SelectedCustomer.CustomerId)
                   .SelectMany(c => c.Orders)
                   .AsEnumerable() // goes in-memory
                   .Select(o => new { 
                              OrderId = o.OrderId, 
                              LatestDate = o.Statuses.Max(s => s.StatusDate) }); 
```

分组也可以在这里有所帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-08T09:34:20.413

如果我没看错，您需要一个 Customer 实体，然后是从其 Orders 属性计算的单个值。目前 OData 不支持此功能。OData 不支持查询中的计算值。所以投影中没有表达式，没有聚合等等。

不幸的是，即使有两个查询，这目前也是不可能的，因为 OData 不支持任何表达 MAX 功能的方式。

如果您可以控制服务，则可以编写服务器端功能/服务操作来执行此类查询。

# asp.net - 提交无效

> ID：13267722
> 
> 赞同：0
> 
> 时间：2012-11-07T10:25:13.590
> 
> 标签：asp.net

我在我的 ASP.NET 应用程序中使用动态控件。所以问题是——当我单独使用这些控件时——它们运行良好。但是当我将这两个控件放在同一页面上时 - 只有最后一个提交事件被触发。谁能帮我确定问题出在哪里以及如何解决？

这是我的 aspx 布局：

```
<%@ Control Language="C#" AutoEventWireup="True" CodeBehind="MYPAGE.ascx.cs" Inherits="MYNAMESPACE" %>
<%@ Register Assembly="MYANOTHERNAMESPACE" Namespace="MYNAMESPACE" TagPrefix="DAControl" %>

...
 <div>
     <DAControl:ChooseImageDialog runat="server" id="ChooseImageDialog" />
     <DAControl:ChooseVideoDialog runat="server" id="ChooseVideoDialog" />
 </div> 
```

这是我的第一个控件：

```
 [ToolboxData("<{0}:ChooseImageDialog runat=server></{0}:ChooseImageDialog>")]
    public class ChooseImageDialog : WebControl
    {
        /* This is only part of my code, which should enough for explaining the issue*/

        private Button applyPreview = new Button();
        private Button cancelPreview = new Button();

        protected override void OnLoad(EventArgs e)
        {
            applyPreview.Click += new EventHandler(applyPreview_Click);

            base.OnLoad(e);
        }

        void applyPreview_Click(object sender, EventArgs e)
        {
            // I want to reach this block
        }
    }
} 
```

这是我的第二个控制：

```
[ToolboxData("<{0}:ChooseVideoDialog runat=server></{0}:ChooseVideoDialog>")]
    public class ChooseVideoDialog : WebControl
    {
        /* This is only part of my code, which should enough for explaining the issue*/
        private Button applyVideoPreview = new Button();
        private Button cancelPreview = new Button();

        protected override void OnLoad(EventArgs e)
        {    
            applyVideoPreview.Click += new EventHandler(ApplyPreviewVideo_Click);

            base.OnLoad(e);
        }

        void ApplyPreviewVideo_Click(object sender, EventArgs e)
        {
            // I want to reach this block
        }

    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T10:51:15.233

事件必须在 Init 事件中连接起来。生命周期的任何后期都为时已晚。

# c# - NUnit - 每次测试后的常见断言

> ID：13267723
> 
> 赞同：0
> 
> 时间：2012-11-07T10:25:18.310
> 
> 标签：c#, unit-testing, nunit

我正在用数据库（没有模拟）编写服务测试。

我有一个新要求，即在我们的测试服中的每次测试后执行通用数据库“健康”检查*。

问题是：我可以在哪里进行这种测试/检查？

起初我想到了 TearDown，但 AFAIK 应该（设计）执行清理而不是断言。放在那里可以吗？

我现在没有在拆卸时做任何事情（这可能不会改变）——数据库在 SetUp 上被清理，每个测试都负责为自己准备环境。

*- 数据库设计是从另一家公司继承的，不幸的是它非常糟糕 - 我们发现数据不一致，这就是为什么我们需要执行“健康检查”来识别它们发生的地方

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T12:20:07.773

从 NUnit[文档](http://www.nunit.org/index.php?p=teardown&r=2.2.10)：

> [TearDown] 属性在 TestFixture 内部使用，以提供一组通用函数，这些函数在每个测试方法运行后执行。

没有关于清理或断言的内容。就在调用时间 - 在每次测试运行之后。所以是的，在运行测试后在这里执行健康检查是完全可以的。

# iphone - 如何获取 iPhone 上安装的应用程序的信息

> ID：13267724
> 
> 赞同：0
> 
> 时间：2012-11-07T10:25:25.837
> 
> 标签：iphone, ios

如何以编程方式获取有关 iPhone 上安装的应用程序的信息？（例如，应用名称和应用标识符。）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-05-09T08:06:33.890

不，您不能这样做，因为沙盒环境以及紫罗兰苹果的规则。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T10:38:22.880

如果您问是否可以从您自己的应用程序中查看设备上安装了哪些其他应用程序，答案是，您不能（如果设备未越狱）。

或者，这并不完全正确。你*可以*做两件事：

1) 获取设备上正在运行的进程列表。您必须自己尝试将进程名称与应用程序名称匹配。

2) 检查是否有应用程序注册了已知的 URL 方案（带`UIApplicationDelegate canOpenURL`）。您必须先知道 URL，然后再尝试。您可以使用第三方的 URL 集合（例如[http://handleopenurl.com ）。](http://handleopenurl.com)

我的经验是，当人们问这个问题时，他们想要的是一种查看设备上所有已安装应用程序的简单方法，而不是这两个有限的选项——而这对于未越狱的 iOS 设备来说是不可能的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T17:58:46.840

您可以运行以下命令，确保过滤掉 install 或 deinstall 以及任何以`gsc.something`使用 sed、awk 或 grep 开头的内容。

```
dpkg --get-selections 
```

这将在名为 installed-software 的列表中输出 iPhone 上已安装的列表

```
dpkg --get-selections > installed-software 
```

# matlab - 从matlab中的文本文件中读取函数

> ID：13267727
> 
> 赞同：2
> 
> 时间：2012-11-07T10:25:32.107
> 
> 标签：matlab, file-io, input

我将从 matlab 中的 Unicode 文本文件中读取一些函数，并用我自己的变量计算答案。首先我`fopen`用来读取文本文件，然后我应该怎么做才能将该文本文件的每一行转换为一个函数？例如`func.txt`包含：

> ```
> (x^2)-3y
> sin(x+z)+(y^6) 
> ```

我需要写一个`m.file`这样的读取`func.txt`和处理：

```
function func1[x,y] =  (x^2)-3y
function func2[x,y,z] =  sin(x+z)+(y^6) 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-07T10:36:13.380

**序言：**如果您的最终目标是在 matlab 中使用这些函数（即评估它们的某些值`x,y,...`），我宁愿建议以下对我来说看起来更健壮的方法。

原则上，事实上，您*不需要*操作文件`funct.txt`来评估其中定义的函数。

* * *

**第一个问题：**文件的每一行都`funct.txt`必须定义一个[内联函数](http://www.mathworks.it/it/help/matlab/ref/inline.html)。

假设文件的第一个函数（即第一行）`funct.txt`已经被复制成一个字符串`str`，

```
 str = '(x^2)-3y', 
```

您可以使用以下命令从中获取函数`inline`：

```
 f1 = inline(str,'x','y'); 
```

这给了你（matlab输出）

```
 f1 =
 Inline function:
 f1(x,y) = (x^2)-3y. 
```

现在，您可以将`f1`其称为 as `f1(x,y)`，用于任何值`x,y`。

**第二个问题：**您必须解析文件`funct.txt`以获取`str`包含函数定义的字符串。这更容易，您可能需要考虑 function [`fgets`](http://www.mathworks.it/it/help/matlab/ref/fgets.html)。

**第三个问题：**中的函数`funct.txt`可能取决于 2,3 个（或更多？）自变量。据我所知，没有简单的方法可以解析字符串来发现它。因此，您可能希望将每个内联函数定义为取决于所有自变量，即

```
 f1 = inline('(x^2)-3y','x','y','z'); 
```

顺便说一句，该变量`z`不会发挥积极作用。尽管如此，您需要在调用时指定第三个*虚拟*参数`f1`。

# eclipse - 通过 tomcat 运行 Web 应用程序

> ID：13267731
> 
> 赞同：0
> 
> 时间：2012-11-07T10:25:50.827
> 
> 标签：eclipse, tomcat, logging

我正在尝试通过tomcat服务器（v7.0.32）运行我的Web应用程序。该项目是在eclipse-Juno下开发的。当我在浏览器中键入“http://localhost:8080/MyNewApp1”时，它显示 **HTTP 状态 404 - /MyNewApp1/ 类型状态报告消息 /MyNewApp1/ 描述 请求的资源不可用。Apache Tomcat/7.0.32** 当我尝试使用 less **catalina.out**通过命令行查看日志时，我得到如下跟踪：

```
INFO: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: /usr/lib
/jvm/java-1.6.0-openjdk-1.6.0.0/jre/lib/i386/server:/usr/lib/jvm/java-1.6.0-openjdk-1.6.0.0/jre/lib/i386:/usr/lib/jvm/java-1.6.0-openjdk-1.6.0.0/jre/../lib/i
386:/usr/java/packages/lib/i386:/lib:/usr/lib
Nov 7, 2012 3:40:00 PM org.apache.coyote.AbstractProtocol init
INFO: Initializing ProtocolHandler ["http-bio-8080"]
Nov 7, 2012 3:40:00 PM org.apache.coyote.AbstractProtocol init
INFO: Initializing ProtocolHandler ["ajp-bio-8009"]
Nov 7, 2012 3:40:00 PM org.apache.catalina.startup.Catalina load
INFO: Initialization processed in 851 ms
Nov 7, 2012 3:40:00 PM org.apache.catalina.core.StandardService startInternal
INFO: Starting service Catalina
Nov 7, 2012 3:40:00 PM org.apache.catalina.core.StandardEngine startInternal
INFO: Starting Servlet Engine: Apache Tomcat/7.0.32
Nov 7, 2012 3:40:00 PM org.apache.catalina.startup.HostConfig deployDescriptor
INFO: Deploying configuration descriptor /home/kruthi/apache-tomcat-7.0.32/conf/Catalina/localhost/MyNewApp1.xml
Nov 7, 2012 3:40:01 PM org.apache.catalina.startup.HostConfig deployDirectory
INFO: Deploying web application directory /home/kruthi/apache-tomcat-7.0.32/webapps/docs
Nov 7, 2012 3:40:01 PM org.apache.catalina.startup.HostConfig deployDirectory
INFO: Deploying web application directory /home/kruthi/apache-tomcat-7.0.32/webapps/ROOT
Nov 7, 2012 3:40:01 PM org.apache.catalina.startup.HostConfig deployDirectory
INFO: Deploying web application directory /home/kruthi/apache-tomcat-7.0.32/webapps/examples
Nov 7, 2012 3:40:01 PM org.apache.catalina.startup.HostConfig deployDirectory
INFO: Deploying web application directory /home/kruthi/apache-tomcat-7.0.32/webapps/host-manager
Nov 7, 2012 3:40:01 PM org.apache.catalina.startup.HostConfig deployDirectory
INFO: Deploying web application directory /home/kruthi/apache-tomcat-7.0.32/webapps/manager
Nov 7, 2012 3:40:01 PM org.apache.coyote.AbstractProtocol start
INFO: Starting ProtocolHandler ["http-bio-8080"]
Nov 7, 2012 3:40:01 PM org.apache.coyote.AbstractProtocol start
INFO: Starting ProtocolHandler ["ajp-bio-8009"]
Nov 7, 2012 3:40:01 PM org.apache.catalina.startup.Catalina start
INFO: Server startup in 1254 ms 
```

我哪里出错了？我检查了我的 web.xml 文件，确保它是一个 Web 项目，我能够将它导出为 WAR 文件，而且对我来说一切似乎都很好......但我仍然收到这个错误并且无法前进。请帮助。

提前致谢

# c++ - 什么是复制赋值运算符？

> ID：13267734
> 
> 赞同：1
> 
> 时间：2012-11-07T10:25:55.693
> 
> 标签：c++, standards

目前我正在阅读**C++ 11 标准**，其中（第 12 章）提到了一些特殊的成员函数***？复制？*赋值运算符**。

我已经**遇到过 operator=**，它**只是赋值运算符**

我的第一个猜测是它被用在这样的语句中：

```
Class_name instance_name1 = instance_name2; 
```

当同时创建和初始化一个对象时，我检查了我的假设并通过复制构造函数（这是预期的）完成了这一点。

那么，使用什么复制赋值运算符，如何声明它以及你能给我一些它的用法示例。提前致谢！

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-07T10:30:12.690

它在标准 12.8/17 中定义：

> 用户声明的*复制*赋值运算符`X::operator=`是类的非静态非模板成员函数，只有`X`一个类型为`X`、`X&`、或的参数。`const X&``volatile X&``const volatile X&`

例如：

```
struct X {
    int a;
    // an assignment operator which is not a copy assignment operator
    X &operator=(int rhs) { a = rhs; return *this; }
    // a copy assignment operator
    X &operator=(const X &rhs) { a = rhs.a; return *this; }
    // another copy assignment operator
    volatile X &operator=(const volatile X &rhs) volatile { 
        a = rhs.a; 
        return *this; 
    }
}; 
```

分配给对象时使用分配运算符。您可能认为这并没有说太多，但是您的示例代码`Class_name instance_name1 = instance_name2;` *没有*分配给一个对象，它初始化了一个。不同之处在于语言的语法：在这两种情况下，`=`符号都在称为*初始化子句*的东西之前，但`Class_name instance_name1 = instance_name2;`它是一个定义，而`instance_name1 = instance_name2;`在其自身`instance_name1`定义之后是一个包含*赋值表达式的**表达式语句*。赋值表达式使用赋值运算符，定义使用构造函数。

 *如果重载决议的通常规则选择一个赋值运算符是一个复制赋值运算符，那么这就是使用复制赋值运算符的时候：

```
X x;
x = 4; // uses non-copy assignment operator
X y;
y = x; // uses copy assignment operator 
```

复制和非复制赋值运算符之间存在区别的原因是，如果您声明复制赋值运算符，则会抑制默认的复制赋值运算符。如果您声明任何非复制赋值运算符，它们不会抑制默认的复制赋值。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T10:27:11.290

他们大部分时间都是一样的。迂腐地，标准说：

### 13.5.3 赋值[over.ass]

> 2) 任何赋值运算符，甚至是复制和移动赋值运算符，都可以是虚拟的。

[（史蒂夫回答中的正确参考）](https://stackoverflow.com/a/13267811/673730)

这使我们相信赋值运算符可以存在而无需复制或移动。

给出的例子是：

```
struct B {
   virtual int operator= (int);
   virtual B& operator= (const B&);
}; 
```

这让我相信第一个是简单的赋值运算符，而第二个是复制赋值运算符。这也保留了复制构造函数使用的命名法。

所以，我会说**复制赋值运算符**是一个**赋值运算符**，它将相同类型的引用（或对象）作为参数。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T10:40:05.797

赋值运算符是`=`，你可以像这样重载它：

```
struct T
{
   T& operator=(const int&);
}; 
```

在这种情况下，我已经采取了`int`，这是非常不寻常的，可能是不可取的。通常你写一个*复制赋值操作符*，这意味着它需要一个对 a 的引用`T`：

```
struct T
{
   T& operator=(const T&);
}; 
```*

# mysql - 我想使用 MySQL 获得一年的销售额

> ID：13267739
> 
> 赞同：0
> 
> 时间：2012-11-07T10:26:11.683
> 
> 标签：mysql, sql

我想获得给定年份的以下结果

```
month | sales
jan     0.00
feb     4.00
mar     0.00
apr     45.00
.
.
.
.
dec    0.00 
```

我拥有的表是“销售”，它有 salse_value、sales_date 作为列。

问题是如何在 MYSQL 中使用 case when 语句获得上述结果

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T11:38:40.877

您需要生成所有月份名称并将其与您的表名称连接起来，这样没有记录的月份的总销售额将为零

```
SELECT  a.MonthName, COALESCE(SUM(b.sales_value), 0) totalSales
FROM    
        (
            SELECT 'Jan' AS monthName, 1 monthOrder
            UNION
            SELECT 'Feb' AS monthName, 2 monthOrder
            UNION
            SELECT 'Mar' AS monthName, 3 monthOrder
            UNION
            SELECT 'Apr' AS monthName, 4 monthOrder
            UNION
            SELECT 'May' AS monthName, 5 monthOrder
            UNION
            SELECT 'Jun' AS monthName, 6 monthOrder
            UNION
            SELECT 'Jul' AS monthName, 7 monthOrder
            UNION
            SELECT 'Aug' AS monthName, 8 monthOrder
            UNION
            SELECT 'Sep' AS monthName, 9 monthOrder
            UNION
            SELECT 'Oct' AS monthName, 10 monthOrder
            UNION
            SELECT 'Nov' AS monthName, 11 monthOrder
            UNION
            SELECT 'Dec' AS monthName, 12 monthOrder
        )   a LEFT JOIN sales b
                ON a.monthName = b.monthName
GROUP BY a.monthName
ORDER BY a.MonthOrder ASC 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T10:30:42.370

```
SELECT MONTHNAME(date_column), SUM(sales) sales
FROM TableName
GROUP BY MONTHNAME(date_column); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T11:18:24.167

如果您想获得月份的缩写名称，您可以尝试

```
SELECT DATE_FORMAT(sales_date, '%b') AS month, SUM(sales_value)
FROM sales
GROUP BY month; 
```

如果没有特定月份的记录，结果将不包含该月份的任何行。

# javascript - 一起运行多个 javascript 对象方法

> ID：13267744
> 
> 赞同：2
> 
> 时间：2012-11-07T10:26:33.370
> 
> 标签：javascript, object, methods

我正在尝试为我的 ajax 聊天系统编写一个小助手类，我正在努力添加我可能需要的基本功能。

```
var strings = {
        filterWords: ["fool", "dumb", "arse"],
        removeSpecialChars: function (str) {
            return str.replace(/[^\w\s]/gi, '');
        },
        killSpace: function (str) {
            return str.replace(/\s/g, '');
        },
        reduceSpace: function (str) {
            return str.replace(/\s+/g, ' ');
        },
        allowLetsAndNums: function (str) {
            return str.replace(/[^A-Za-z0-9]/g, ' ');
        },
        allowLets: function (str) {
            return str.replace(/[^A-Za-z]/g, ' ');
        },
        allowNums: function (str) {
            return str.replace(/[^0-9]/g, ' ');
        },
        wordFilter: function (str) {
            var rgx = new RegExp(this.filterWords.join("|"), "gi");
            return str.replace(rgx, "****");
        }
    } 
```

我发现我可能需要一起运行多种方法我在问最好的做法是什么而不导致以下结果？

```
alert(strings.wordFilter(strings.reduceSpace(strings.allowLets("efgwge @£235%^@£ fool you a dumb arse432345$%^")))); 
```

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-07T10:39:22.287

你可以使它成为一个流畅的界面，允许这样的代码：

```
var x = new Validation("efgwge @£235%^@£ fool you a dumb arse432345$%^");
alert(x.allowLets().reduceSpace().wordFilter().result());
// alerts "efgwge **** you a **** ****" 
```

您的主要代码需要是：

```
var Validation = function(str) {
    this.str = str;
    filterWords = ["fool", "dumb", "arse"]
    this.removeSpecialChars = function () {
        this.str = this.str.replace(/[^\w\s]/gi, '');
        return this;
    };    
    this.killSpace = function () {
        this.str = this.str.replace(/\s/g, '');
        return this;
    };
    this.reduceSpace = function () {
        this.str = this.str.replace(/\s+/g, ' ');
        return this;
    };
    this.allowLetsAndNums = function () {
        this.str = this.str.replace(/[^A-Za-z0-9]/g, ' ');
        return this;
    };
    this.allowLets = function () {
        this.str = this.str.replace(/[^A-Za-z]/g, ' ');
        return this;
    };
    this.allowNums = function () {
        this.str = this.str.replace(/[^0-9]/g, ' ');
        return this;
    };
    this.wordFilter = function () {
        var rgx = new RegExp(filterWords.join("|"), "gi");
        this.str = this.str.replace(rgx, "****");
        return this;
    };
    this.result = function(){
        return this.str;
    };
} 
```

现场示例：http: [//jsfiddle.net/fb7en/](http://jsfiddle.net/fb7en/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T10:34:53.407

您可以扩展 String 原型：

```
String.prototype.removeSpecialChars = function () {
return this.replace(/[^\w\s]/gi, '');
}
String.prototype.killSpace = function () {
return this.replace(/\s/g, '');
}

var foo = "This is my§$% String";
​document.write​(foo.removeSpecialChars​().killSpace());​ 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-07T10:39:57.337

您可以将函数添加到 String.prototype 中，这样您就可以像这样调用函数：

```
String.prototype.killSpace = function() {
  return this.replace(/\s/g, '');
}
String.prototype.reduceSpace = function () {
  return this.replace(/\s+/g, ' ');
}

"foo   bar".reduceSpace().killSpace(); // => returns foobar 
```

唯一的缺点是您不能使用 for..in 循环遍历字符串，因为它会将方法列为成员，并且目前没有跨浏览器的方式使其不可迭代（IE 不支持它）。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-07T10:46:00.347

您可能会考虑为您的对象使用可链接的 API：

```
var StringFilter = {
    _string: '',
    string: function (string) {
        this._string = string || '';
        return this;
    },
    filterWords: ["fool", "dumb", "arse"],
    removeSpecialChars: function () {
        this._string = this._string.replace(/[^\w\s]/gi, '');
        return this;
    },
    killSpace: function () {
        this._string = this._string.replace(/\s/g, '');
        return this;
    },
    reduceSpace: function () {
        this._string = this._string.replace(/\s+/g, ' ');
        return this;
    },
    allowLetsAndNums: function () {
        this._string = this._string.replace(/[^A-Za-z0-9]/g, ' ');
        return this;
    },
    allowLets: function () {
        this._string = this._string.replace(/[^A-Za-z]/g, ' ');
        return this;
    },
    allowNums: function () {
        this._string = this._string.replace(/[^0-9]/g, ' ');
        return this;
    },
    wordFilter: function () {
        var rgx = new RegExp(this.filterWords.join("|"), "gi");
        this._string = this._string.replace(rgx, "****");
        return this;
    },
    select: function () {
        return this._string;
    }
};

StringFilter
    .string("efgwge @£235%^@£ fool you a dumb arse432345$%^")
    .allowLets()
    .reduceSpace()
    .wordFilter()
    .select(); 
```

# android - 尝试从我的 Android 4 智能手机 ping 设备

> ID：13267745
> 
> 赞同：0
> 
> 时间：2012-11-07T10:26:36.050
> 
> 标签：android, wifi, ping, router

我正在尝试 ping 连接到我的 WiFi 路由器的设备，它是 KNXnet/IP 路由器。我使用 Android 应用程序“Ping”发送数据包。

一些设置：

我的WiFi路由器（TP-LINK 3420）的IP地址：169.254.96.1，子网：255.255.255.0

设置KNX IP路由器：IP：169.254.96.33，子网：255.255.255.255，网关：169.254.96.1

我的智能手机有本地 IP 169.254.96.103

如果我尝试 ping WiFi 路由器，它可以工作，如果我尝试连接到 KNX 路由器，我不会收到任何答案。

WiFi 路由器的防火墙已停用，并且未使用 MAC 或 IP 过滤。

可能是什么问题呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T10:55:09.333

您的 DHCP 没有为您分配有效的 IP 地址。169.254.xxx.xxx 是一个虚拟地址，这意味着您没有真实的地址（http://packetlife.net/blog/2008/sep/24/169-254-0-0-addresses-explained/） . 要么解决 DHCP 的任何问题，要么分配静态 IP 地址。

# c# - HTML.TextBoxFor 禁用不传递值

> ID：13267747
> 
> 赞同：7
> 
> 时间：2012-11-07T10:26:41.733
> 
> 标签：c#, asp.net-mvc-4

在我看来，我有以下几点：

```
@Html.TextBoxFor(model => model.PersonnelId, new { disabled = "disabled" }) 
```

在我的控制器中，我有这个：

```
if (ModelState.IsValid)
{
    PersonnelFacade.SavePerson(person);
    return RedirectToAction("Index");
} 
```

现在，当我检查 person.PersonnelId 时，它是空的。当我删除 {disabled = "disabled" } 它工作正常但我可以更改 PersonnelId 这不是我想要做的。

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-01-03T10:38:08.507

尝试 2 个值

1.  PersonnelIdForDisplay
2.  人员编号

那么在你看来

1.  @Html.TextBoxFor(model => model.PersonnelIdForDisplay, new { disabled = "disabled" })
2.  @Html.HiddenFor(p => p.PersonnelId)

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-11-07T10:31:52.383

尝试改为只读。

```
@Html.TextBoxFor(model => model.PersonnelId, new { readonly= "readonly" }) 
```

# java - 如何清除eclipse的堆内存

> ID：13267748
> 
> 赞同：9
> 
> 时间：2012-11-07T10:26:44.463
> 
> 标签：java, android, eclipse

我的 Eclipse 显示堆内存已满错误，它会自动重新启动。请提出一种清理 Eclipse 堆内存的方法。我正在使用靛蓝日食

我已经清理了项目，但没有帮助

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2012-11-07T10:30:13.963

在`Eclipse.ini`中，您可以配置堆设置。

这个[博客](http://blog.xam.dk/?p=58)对它有更多的了解。

通过 UI，您可以尝试以下方式：

*   `Show heap status`在窗口 -> 首选项 -> 常规下启用。（默认关闭）。
*   只需选中此框即可在右下角显示堆大小指示器。此指示器显示最大 JVM 堆大小以及正在使用的堆大小。
*   该指标的另一个有用特性是垃圾收集堆的能力。

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2012-11-07T10:29:37.283

检查`Preferences > General > Show heap status`。然后单击 GUI 底部的垃圾桶图标。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-11-07T11:22:31.960

我假设您真正的问题是 Eclipse 本身内存不足。如果是这种情况，那么“清除”堆实际上并没有帮助。

有几种方法可以帮助解决问题：

*   您可以通过关闭项目、删除不必要的插件等来减少 Eclipse 的内存使用。但是，这往往会降低 Eclipse 的实用性。

*   您可以更改“eclipse.ini”文件中的 JVM -Xmx 和 -Xms 设置，为 Eclipse 提供更大的堆。但这仅在您有足够的 RAM 并且您处于操作系统和硬件¹施加的地址空间限制之下时才有效。

*   如果以上都不能解决问题，则需要一台内存更大的机器。

^(1 - 32 位操作系统和硬件会将您限制在大约 2Gb 的可用堆空间......尽管限制会因各种因素而有所不同。这与操作系统管理进程虚拟地址空间的方式有关。但是您需要在 Eclipse 中开发一个相当大的系统才能真正引起关注。)

* * *

请注意，“显示堆状态”并单击垃圾桶图标不会解决问题。运行 Eclipse 的 JVM 在使用`OutOfMemoryError`. （不过，此功能并非完全没用。强制垃圾收集可以使 Eclipse 稍微响应一下……一旦 GC 完成。）

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-07T10:37:52.527

您需要在类的 vm 参数中设置`xms`和`xmx`参数。`RunConfigurations`使用`Run`-> `Run Configurations`->`Arguments tab`

如果您的应用程序很大并且创建了很多对象，您可以使用 JVM 选项`-Xms`和`-Xmx`. Xms 表示堆的起始大小，而 -Xmx 表示 Java 中堆的最大大小。

# android - 如果孩子没有，ViewGroup 只会拦截触摸事件

> ID：13267750
> 
> 赞同：0
> 
> 时间：2012-11-07T10:26:48.100
> 
> 标签：android, events, event-handling, touch, intercept

我有一个`viewgroup`我想手动滚动的，但我只想进入跟踪/滚动模式，如果最初的向下按下没有被其中一个孩子使用。有没有一种简单的方法可以检查其中一个孩子是否想要触摸事件？

的自然流动`onInterceptTouchEvent`似乎是相反的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T10:52:40.300

如果您不希望子视图使用该事件，只需在其 onTouch 上返回 false。那应该将事件传播给父级。

# ruby - Ruby 文本中的站点地图生成器

> ID：13267751
> 
> 赞同：3
> 
> 时间：2012-11-07T10:26:48.393
> 
> 标签：ruby, gem, sitemap

我有一些站点，例如`http://example.com`
我想生成一个站点地图作为 URI 列表，例如：

*   `http://example.com/main`
*   `http://example.com/tags`
*   `http://example.com/tags/foo`
*   `http://example.com/tags/bar`

我找到了一个很好的应用程序：[iGooMap](http://www.pointworks.de/software/igoomap/index.php)
iGooMap 可以将所需的 URI 列表生成为文本文件（不是 XML 文件）。
这是我要实现的目标的视觉表示：

![这是我想要的](../Images/fbe834cb364b9b075b400ea02ed01d2a.png)

我想在 Ruby（*不是*Rails）中生成这种类型的站点地图。
我找到[了 SiteMapGenerator](https://github.com/kjvarga/sitemap_generator)，但它只生成一个 .XML 文件，但是如上所述我需要一个文本文件。

Ruby 有没有为给定站点创建链接列表的解决方案？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-07T12:11:19.967

你想要的不是 Ruby 中的*站点地图生成器*，而是 Ruby 中的*网络蜘蛛*。我推荐[海葵](http://anemone.rubyforge.org/)

```
require 'anemone'

links = []

Anemone.crawl("http://www.foo.com/") do |anemone|
  anemone.on_every_page do |page|
      links << page.url
  end
end

File.open('./link_list.txt', 'wb'){|f| f.write links.join("\n") } 
```

这会产生一个名为的文件`link_list.txt`，其内容如下：

```
http://www.foo.com/
http://www.foo.com/digimedia_privacy_policy.html 
```

还有[Wombat](https://github.com/felipecsl/wombat)、[Spidr](http://spidr.rubyforge.org/)、[Pioneer](https://github.com/fl00r/pioneer)等等。

* * *

**编辑：**正如@ChrisCummings 所建议的，使用 a`Set`而不是a 可能是一个更好的主意，`Array`以防止重复。我还建议按字母顺序对链接进行排序，这将使输出文件更易于人类阅读：

```
require 'anemone'
require 'set'

links = Set.new                                    # Set will prevent duplicates

Anemone.crawl("http://www.foo.com/") do |anemone|
  anemone.on_every_page do |page|
    links << page.url.to_s                         # to_s needed in order to sort
  end
end

File.open('./link_list.txt', 'wb') do |f|
  f.write links.sort.join("\n")                    # call to sort added
end 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-11-07T11:12:25.530

您可以使用自定义适配器进行扩展`sitemap_generator`，例如：

```
require 'sitemap_generator'
require 'nokogiri'

module SitemapGenerator
  class TextFileAdapter
    def write(location, raw_data)
      # Ensure that the directory exists
      dir = location.directory
      if !File.exists?(dir)
        FileUtils.mkdir_p(dir)
      elsif !File.directory?(dir)
        raise SitemapError.new("#{dir} should be a directory!")
      end

      doc = Nokogiri::XML( raw_data )
      txt = doc.css('url loc').map(&:text).join("\n")

      open(location.path, 'wb') do |f|
        f.write(txt)
      end
    end
  end
end

SitemapGenerator::Sitemap.default_host = 'http://example.com'
SitemapGenerator::Sitemap.create(
  :adapter => SitemapGenerator::TextFileAdapter.new,
  :sitemaps_namer => SitemapGenerator::SitemapNamer.new(:sitemap, :extension => '.txt')
) do
  add '/home', :changefreq => 'daily', :priority => 0.9
  add '/contact_us', :changefreq => 'weekly'
end
SitemapGenerator::Sitemap.ping_search_engines 
```

这会产生一个文件`public/sitemap1.txt`：

```
http://example.com
http://example.com/home
http://example.com/contact_us 
```

# android - 在同一台机器上运行的两个 Eclipse = ADB 竞争条件

> ID：13267752
> 
> 赞同：0
> 
> 时间：2012-11-07T10:26:48.483
> 
> 标签：android, eclipse, google-app-engine, adb, adt

我没有找到关于这个烦人问题的信息，而且这对我来说似乎很常见，所以也许我遗漏了一些明显的东西。

我正在开发一个客户端服务器应用程序：一侧是 AppEngine，另一侧是 Android。如果两个工作区都在同一个 Eclipse 上，我发现调试和开发会令人困惑（相同的 Java 透视图..）。所以我有两个单独的 Eclipse 安装，每个安装一个。

两个 Eclipse*都需要*完整的 Google 堆栈，包括 ADT。
问题是 adb 处于竞争状态，并且 AppEngine Eclipse 经常获胜，并且附加的设备或模拟器只出现在错误的 Eclipse 上。在关闭 Eclipse 并重新启动 adb 之前，我无法调试。

1.  有没有办法在 AppEngine Eclipse 中关闭 adb？
2.  有没有*更好*的方法来开发和调试客户端服务器，两者都是谷歌堆栈？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-12T11:44:34.427

我想我找到了解决方法：

在要禁用 DDMS 的 Eclipse 实例中，选择：

```
Windows > Preferences > DDMS 
```

并将“Base local debugger port”更改为一些未使用的端口号（例如22222）。

有一条关于无法连接到 DDMS 的错误消息，但在将其关闭后，它会停止与其他 Eclipse 竞争。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T10:33:09.290

在命令提示符下键入

```
cd c:\path to this folders \android-sdk-windows\tools\

adb kill-server 
```

它会杀死服务器

```
adb start-server 
```

它将启动服务器

我的朋友......希望它会帮助你

# iphone - Iphone 应用程序的 OCR

> ID：13267757
> 
> 赞同：2
> 
> 时间：2012-11-07T10:27:05.563
> 
> 标签：iphone, objective-c, opencv, ocr

我是初学者。我想实现应用程序名片阅读器（OCR），我对 OpenCV 知之甚少。我想知道我从哪里开始？任何链接或示例都非常感谢。

我已经尝试过这个[https://github.com/nolanbrown/Tesseract-iPhone-Demo/tree/master/OCRDemo](https://github.com/nolanbrown/Tesseract-iPhone-Demo/tree/master/OCRDemo)但在这个源代码中准确性不好。

所以我个人决定通过使用openCV来提高图像的质量，就像我将原始图像更改为灰色图像然后在黑白中一样，但是OCR的输出仍然不好。我必须提高图像中字符的质量，以便我的 OCR 阅读器轻松读取字符以获得最佳准确性。

我经常尝试达到最佳准确性，但仍然没有得到任何东西:(

谢谢大家

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T10:36:30.337

您可以在这里找到您的问题的答案：

[https://stackoverflow.com/questions/9062755/ocroptical-character-recoginition-libraries-for-iphone](https://stackoverflow.com/questions/9062755/ocroptical-character-recoginition-libraries-for-iphone)

如果您在与他们合作时需要任何帮助，请告诉我们，我们可以为您提供帮助。

祝你好运！！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T10:52:46.833

好吧，OCR 是模糊主题。有很多方法——比如 tesseract / open CV 等。但基本上可以归结为：

*   获取图像
*   找到投资回报率
*   预处理
*   二值化
*   定位字形
*   认出他们
*   用额外的知识提高质量

AFAIR tesseract 和 openCF 尝试分析字符形状和轮廓，最适合处理大量文本，因此它们可以应用字典来增强识别。我通过不变矩和聚类分析得到了很好的结果——它足够快，可以离线使用，并且为定义的字体提供了良好的识别结果（我在定义的字体样本上得到了 99.96%）

不幸的是，这个库是用 java 编写的，不能直接在 iOS 上使用（但在 android 上）：

[http://sourceforge.net/projects/javaocr/](http://sourceforge.net/projects/javaocr/)

但是你可以选择移植一些技术——比如自适应二值化（sauvola 算法）不变矩提取和聚类匹配

# coffeescript - 模式字符串格式化

> ID：13267760
> 
> 赞同：1
> 
> 时间：2012-11-07T10:27:11.707
> 
> 标签：coffeescript

可以像这样格式化字符串：

```
text = 'text'
formatted = "Text: #{text}" 
```

下面的呢？

```
pattern = "Text: #{text}"
text = 'text'
formatted = ??? 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-07T10:33:08.753

coffeescript 中的模式格式化是 coffeescript->javascript 编译器的一部分。

所以，

```
pattern = "Text: #{text}" 
```

立即编译成

```
pattern = "Text: " + text; 
```

这就是为什么

```
pattern = "Text: #{text}"
text = 'text' 
```

将抛出错误“未定义文本”。

但是您可以将其包装在这样的函数中：

```
pattern = (text) -> "Text: #{text}"
text = 'text'
formatted = pattern text 
```

或像这样：

```
pattern = ({text1, text2, text3}) -> "Text: #{text1}, #{text2} and #{text3}"
text1 = 'text'
text2 = 'awesome text'
text3 = 'another text'
formatted = pattern {text1, text2, text3} 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-11-07T10:35:50.870

不，字符串插值语法不是这样工作的。不过，这可能是实现完全相同的事情的更好方法：

```
pattern = 'Text: #{text}'
text = 'text'
formatted = pattern.replace /#{text}/, text 
```

# java - I/O 错误：SSO 失败：未加载本机 SSPI 库

> ID：13267764
> 
> 赞同：36
> 
> 时间：2012-11-07T10:27:26.837
> 
> 标签：java, sql-server, jdbc, ioerror

我正在尝试运行以下代码：

```
import java.sql.DriverManager;

public class Connect {
    public static void main(String[] args){
        try{
            String databaseDriver = "net.sourceforge.jtds.jdbc.Driver";
            Class.forName(databaseDriver);
        }
        catch (Exception e) {
            e.printStackTrace();
        }

        try{
            String url = "jdbc:jtds:sqlserver://BHX:1433/Forecast;instance=SQLEPXRESS";
            java.sql.Connection con = DriverManager.getConnection(url);
            System.out.println("Connection");
        }
        catch (Exception e){
            e.printStackTrace();
        }
    }
} 
```

我的 SQL 服务器在机器 BHX 上的端口 1433 上运行。

我收到的错误消息如下：

```
java.sql.SQLException: I/O Error: SSO Failed: Native SSPI library not loaded. Check the     java.library.path system property.
    at net.sourceforge.jtds.jdbc.TdsCore.login(TdsCore.java:615)
    at net.sourceforge.jtds.jdbc.ConnectionJDBC2.<init>(ConnectionJDBC2.java:352)
    at net.sourceforge.jtds.jdbc.ConnectionJDBC3.<init>(ConnectionJDBC3.java:50)
    at net.sourceforge.jtds.jdbc.Driver.connect(Driver.java:185)
    at java.sql.DriverManager.getConnection(Unknown Source)
    at java.sql.DriverManager.getConnection(Unknown Source)
    at Connect.main(Connect.java:14)
Caused by: java.io.IOException: SSO Failed: Native SSPI library not loaded. Check the java.library.path system property.
    at net.sourceforge.jtds.jdbc.TdsCore.sendMSLoginPkt(TdsCore.java:1893)
    at net.sourceforge.jtds.jdbc.TdsCore.login(TdsCore.java:588)
    ... 6 more 
```

我已经阅读了为什么通常会发生这种情况，并在[这里](https://stackoverflow.com/questions/4219968/java-sql-sqlexception-i-o-error-sso-failed-native-sspi-library)找到了一个类似的问题，但这似乎不起作用。运行代码时，我包含以下参数来定位 SSO 文件：

```
-Djava.library.path=/Tester/jdbc/x64/SSO 
```

这是我文件的结构

```
**Tester**
   *src*
     default package
         Connect.java
   *JRE System Library*
   *jdbc*
     conf
     html
     IA64
     x64
       SSO
        ntlmauth.dll
     x86 
```

你能看出什么不对吗？

* * *

## 回答 #1

> 赞同：73
> 
> 时间：2013-05-07T22:17:22.843

似乎与此问题相同：[jtds-driver-not-working-for-sql-sever-2008r2-and-denali-native-sspi-library-not](https://stackoverflow.com/questions/6356612/jtds-driver-not-working-for-sql-sever-2008r2-and-denali-native-sspi-library-not)

您应该将相应的 ntlmauth.dll 文件从[JTDS 下载包](http://sourceforge.net/projects/jtds/files/jtds/1.3.0/jtds-1.3.0-dist.zip/download)中拖放到您的 JRE bin 文件夹中。

如果您在 64 位 Windows 机器上运行：

*   这个 32 位 DLL：

    > 下载 >>> jtds-1.3.0-dist.zip >>> x86 >>> SSO >>> ntlmauth.dll

*   位于此 32 位 JRE 位置：

    > C:\Program 文件 (x86)\Java\jre7\bin

*   这个 64 位 DLL：

    > 下载 >>> jtds-1.3.0-dist.zip >>> x64 >>> SSO >>> ntlmauth.dll

*   进入这个 64 位 JRE 位置：

    > C:\Program Files\Java\jre7\bin

如果您在 32 位 Windows 机器上运行：

*   这个 32 位 DLL：

    > 下载 >>> jtds-1.3.0-dist.zip >>> x86 >>> SSO >>> ntlmauth.dll

*   位于此 32 位 JRE 位置：

    > C:\Program Files\Java\jre7\bin

如果这不起作用，请尝试在 main 方法的顶部添加此行： `System.out.println(java.lang.System.getProperty('java.library.path'));`

它应该输出您的程序正在使用的实际 JRE 路径。确保相应的 ntlmauth.dll 在该 JRE 的 bin 文件夹中。

注意：使用此方法时，请勿设置连接的域、用户或密码属性。

注意：如果您的 Java 客户端程序在非 Windows 机器上运行，那么使用 ntlmauth.dll 方法会很不走运。这是来自 JTDS 下载包中包含的文档的引用：下载 >>> jtds-1.3.0-dist.zip >>> README.SSO

> 从 0.9.2 版开始，jTDS 能够使用当前用户的 Windows 凭据，客户端程序在其帐户下运行以登录到 SQL Server（Windows 单点登录）。
> 
> 使用 Windows 单点登录 (SSO) 客户端无需提供凭据即可连接到 Microsoft SQL Server。它将动态读取当前用户的凭据并连接到数据库。前提是 Windows 帐户在数据库中有足够的权限。这是使用本机（仅限 Windows）库 ntlmauth.dll 完成的。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2014-10-27T23:55:45.650

我有一个类似的问题，我试图将`ntlmauth.dll`文件放在我认为 sql-developer 会去寻找它的多个目录中。我终于通过将`ntlmauth.dll`文件放在`\jdk\jre\bin`sql-developer 应用程序目录本身的文件夹中（即`sql-developer\jdk\jre\bin`）来让它工作。为什么 sql-developer 会在这个文件夹中而不是系统文件夹中查找 ntlmauth.dll，这超出了我的理解水平。无论如何，它奏效了。

以下是我刚刚回答的类似问题的链接。

[Oracle SQL Developer 与 Microsoft SQL Server 的连接](https://stackoverflow.com/questions/23797585/oracle-sql-developer-connection-to-microsoft-sql-server/26598722#26598722)

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2016-10-03T08:13:11.397

即使在 JRE/bin 中成功放置 ntmauth.dll 文件后，我也会遇到同样的错误。

然后我尝试放入`ntmauth.dll`目录`C:\Windows\System32`。通过这样做，问题得到了解决。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2015-02-05T20:35:04.253

好工作。

但是，在部署 JAR 文件时有一个小问题！

我建议创建一个文件夹（例如，`lib`）并将所有本机库复制到其中。最后添加一个 Java 执行参数：

```
java -jar your_jar.jar -Djava.library.path=./lib 
```

这是从*[JTDS 驱动程序不适用于 SQL Server 2008R2 和 Denali Native SSPI 库未加载](https://stackoverflow.com/questions/6356612/jtds-driver-not-working-for-sql-sever-2008r2-and-denali-native-sspi-library-not)*的启发。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2016-03-09T23:52:29.857

未能通过身份验证参数会导致相同的错误，因此除了其他答案之外，您还可以在连接字符串中传递用户名和密码，例如

```
jdbc:jtds:sqlserver://localhost:1433/dbname;user=username;password=s3cr3t 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2015-11-18T13:41:47.500

我通过将`ntlmauth.dll`文件放在`\jdk\jre\bin`. 我使用[Tomcat](http://en.wikipedia.org/wiki/Apache_Tomcat)作为我的应用程序服务器。

但是，我注意到这一次仅适用于一个部署的 Web 应用程序。如果我对多个 Web 应用程序有相同的设置，那么除了一个之外都失败了。这是一种相当奇怪的行为。知道这里发生了什么吗？

# jsf-2 - JSF 注销和过期页面

> ID：13267769
> 
> 赞同：1
> 
> 时间：2012-11-07T10:27:50.207
> 
> 标签：jsf-2

我在我的 JSF 应用程序中使用了以下注销算法，它作为用户能够注销并且会话终止。

但是，我的问题是即使用户被重定向到登录页面，但是当他/她按下浏览器后退按钮时，他仍然能够看到以前的数据。

```
@ManagedBean
@RequestScoped
public class LogoutBean {
  public String logout() {
    String result="/faces/pages/public/login.xhtml?faces-redirect=true";

    FacesContext context = FacesContext.getCurrentInstance();
    HttpServletRequest request = (HttpServletRequest)context.getExternalContext().getRequest();

    try {
      request.logout();
    } catch (ServletException e) {
        log.info("Error during logout!");
    }
    return result;
  }
} 
```

有没有办法使用上述逻辑以浏览器显示页面已过期的方式进行配置。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-07T10:41:31.370

对于不希望后退按钮再次显示的页面，您应该禁用浏览器缓存。为此，您可以创建一个 servlet 过滤器，在这些页面的响应标头中设置所需参数：

```
@WebFilter(servletNames={"Faces Servlet"})
public class NoCacheFilter implements Filter {

    @Override
    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {
        HttpServletRequest req = (HttpServletRequest) request;
        HttpServletResponse res = (HttpServletResponse) response;

        if (!req.getRequestURI().startsWith(req.getContextPath() + ResourceHandler.RESOURCE_IDENTIFIER)) { // Skip JSF resources (CSS/JS/Images/etc)
            res.setHeader("Cache-Control", "no-cache, no-store, must-revalidate"); // HTTP 1.1.
            res.setHeader("Pragma", "no-cache"); // HTTP 1.0.
            res.setDateHeader("Expires", 0); // Proxies.
        }

        chain.doFilter(request, response);
    }

    @Override
    public void init(FilterConfig filterConfig) throws ServletException {
    }

    @Override
    public void destroy() {
    }
} 
```

这样，当用户按下浏览器的返回按钮时，将再次从服务器请求页面。

# javascript - 带有原型的自定义事件

> ID：13267770
> 
> 赞同：0
> 
> 时间：2012-11-07T10:27:51.570
> 
> 标签：javascript, prototype

> **可能重复：**
> [在 JavaScript 类中使用“this”的 setTimeout()</a>](https://stackoverflow.com/questions/5911211/settimeout-inside-javascript-class-using-this)
> 
> [](https://stackoverflow.com/questions/5911211/settimeout-inside-javascript-class-using-this)

[](https://stackoverflow.com/questions/5911211/settimeout-inside-javascript-class-using-this)

[我发现这篇关于如何使用原型在 javascript 中实现自定义事件的有趣文章：](https://stackoverflow.com/questions/5911211/settimeout-inside-javascript-class-using-this)[http ://www.nczonline.net/blog/2010/03/09/custom-events-in-javascript/](http://www.nczonline.net/blog/2010/03/09/custom-events-in-javascript/)

但我对如何实现这一点有点困惑，我有一个简单的应用程序，它的间隔每秒触发一个函数。

```
function App() {
    window.test = 'test';

    this.loginTimer = setInterval(this.checkLogin, 1000);

    EventTarget.call(this);
}
App.prototype = new EventTarget();
App.prototype.constructor = App;

App.prototype.checkLogin = function() {
    this.fire('test');
} 
```

但这给我一个错误：

> 未捕获的类型错误：对象 [object Window] 没有方法“fire”

我使用了与文章中描述的相同的方法，有什么我遗漏的吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T11:19:38.827

```
var app;
function createApp() {
    if (app) return app; // singleton - always the same instance
    app = new EventTarget(); // basically being the EventTarget object
    // and extending it with additional properties (as following)
    // you also could make the EventTarget a property of a plain app object
    app.checkLogin = function() {
        this.fire('test'); // this === app if invoked as a method
    }
    app.loginTimer = setInterval(function() {
        app.checkLogin(); // call the method *on* the app
    }, 1000);
    return app;
}

var player;
function createPlayer() {
    if (player) return player; // again, singleton pattern
    player = {};
    player.play = function() {
        console.log('event tester');
    };
    // get the app singleton (or create it if not existing)
    // and add the listener to it
    createApp().addListener('test', function() {
        player.play(); // call the method
    });
}

// usage:
createApp();
createPlayer();
// starts logging "event tester" 
```

# r - 如何以简单的方式处理 R 和 sqlite 之间的不同数据类型？

> ID：13267771
> 
> 赞同：0
> 
> 时间：2012-11-07T10:27:53.477
> 
> 标签：r, sqlite

数据是一个data.frame，有一个`tdate` 类型是字符的列，现在我想将数据写入sqlite，

```
require(RSQLite)
dbWriteTable(con2, name="quote",value=data,row.names=FALSE,append=TRUE) 
```

还有一个问题，tdata是sqlite中的日期类型，我将数据写入sqlite数据库后，我会将`tdata`表引用中的字段更改为数据类型，有没有简单的方法可以做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T20:37:37.740

```
dbWriteTable(con2, name="quote",
   value=transform(data, date=format(date, "%Y-%m-%d")),
   row.names=FALSE,append=TRUE) 
```

如果您的数据是字符串而不是日期，则`format`不需要该命令，请注意 SQLite 没有日期格式：日期以 YYYY-MM-DD 格式存储为字符串。

# php - 在 Typo3 中取消隐藏记录时调用类内的函数

> ID：13267778
> 
> 赞同：0
> 
> 时间：2012-11-07T10:28:08.480
> 
> 标签：php, typo3, typoscript

如果后端用户取消隐藏记录以在类中调用 php 函数，是否有可能在 Typo3 中以某种方式？

在我的案例中：FE 用户正在创建隐藏的记录。如果后端用户检查此记录并取消隐藏以在前端显示它，我需要通过类->函数将数据发送到我客户的 CRM

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T10:51:11.283

是的，这是可能的，但你需要写一个扩展（可能你现在正在写一些）

您需要使用一些 TCE 钩子，即。

```
processDatamap_preProcessFieldArray(array &$incomingFieldArray, $table, $id, t3lib_TCEmain &$reference) 
```

或者

```
processDatamap_afterDatabaseOperations($status, $table, $id, $fieldArray, &$reference) 
```

这是[一些](http://www.abcnet.ch/blog/blog-details/article/writing-typo3-backend-hooks-into-your-own-extensions.html)关于钩子用法的文章。如果您安装了 TemplaVoila，您还可以检查它们是如何实现挂钩的 -`/typo3conf/ext/templavoila/class.tx_templavoila_tcemain.php`并且`/typo3conf/ext/templavoila/ext_localconf.php`

# c++ - 在 Base 类中实现函数的最有效方法

> ID：13267780
> 
> 赞同：2
> 
> 时间：2012-11-07T10:28:16.463
> 
> 标签：c++, windows, inheritance, callback

我有一个基类 Base 和两个派生类 DerivedA、DerivedB

```
class Base
{
};

class DerivedA: public Base 
{
   CallbackTypeA callA; // call back function pointer of type CallbackTypeA.
};

class DerivedB : public Base 
{
   CallbackTypeB callB; // call back function pointer of type CallbackTypeB.
}; 
```

谁能告诉我在 Base 类中实现函数的最有效方法是根据哪个对象调用它来检查 callA 或 callB 的特定条件？由于当前的一些限制，我不想使用虚函数

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T10:56:12.870

我可以想到两种可行的方法，但我仍然建议尽可能使用虚拟功能。

A.
在基类中有一个指向函数的指针，并在派生类的构造函数中设置它指向正确的函数。然后基类可以调用它。但这基本上是在做虚函数机制所做的事情。

B.
在基类中有一个 Enum，每个派生类都有一个值，每个派生类都会将此 Enum 设置为它自己的值。在基类中，您可以检查此值并转换为正确的类并调用正确的函数。但这是非常非常糟糕的做法，因为基类需要了解派生类。

同样，我不知道是什么问题让您不想使用虚拟功能。但我认为你应该重新考虑...

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T10:47:53.183

使用虚函数和/或（取决于代码的实际结构）`typeid`。在大多数情况下，虚拟函数可能是整体上最好的解决方案：代码易读性、不易出错等。

# asp.net - 根据子域或 url 更改网站内容

> ID：13267781
> 
> 赞同：0
> 
> 时间：2012-11-07T10:28:19.180
> 
> 标签：asp.net, url, web, subdomain

我正在开发一个 asp.net Web 应用程序，我需要在其中管理不同的区域和子区域，每个区域和子区域都有自己的母版页设计，并且将有自己的内容显示在网站上。应用程序部署在单个位置，但不同的域和子域指向相同的部署位置。我必须根据访问的 URL 更改显示的内容及其设计。还有一个主要区域，将显示所有内容。

使用 SQL Server 在 ASP.NET 中实现此功能的最佳方法是什么。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T10:47:28.430

你有几个问题需要在这里解决。首先，您需要知道用户使用哪个主机头来访问该站点。

您可以通过以下方式在任何页面上获取此信息：-

```
HttpContext.Request.Url.Host 
```

第二个问题是根据您找到的主机名有条件地显示内容。您的问题涉及每个子域都有自己的母版页。

您可能应该看看这篇文章，它解释了如何以编程方式选择母版页。

[http://msdn.microsoft.com/en-us/library/c8y19k6h%28v=vs.100%29.aspx](http://msdn.microsoft.com/en-us/library/c8y19k6h%28v=vs.100%29.aspx)

有了这两个元素，您的流程就变成了：-

*   检测主机名
*   根据派生的主机名提供正确的母版页

# c# - clickonce 应用程序的本地安装位置

> ID：13267784
> 
> 赞同：3
> 
> 时间：2012-11-07T10:28:24.957
> 
> 标签：c#, clickonce

我需要知道 clickonce 应用程序的安装位置。有没有办法通过 C# 找到这个？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-07T10:45:36.317

作为参考，物理文件最终位于此目录中：Win XP 中的 C:\Documents and Settings\userprofile\Local Settings\Apps 和 Windows 7 中的 C:\Users\\AppData\Local\Apps。

您还可以在[这个问题](https://stackoverflow.com/questions/2359026/how-to-get-folder-path-for-clickonce-application)中阅读更多相关信息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T10:32:27.063

尝试[`Assembly.GetExecutingAssembly()`](http://msdn.microsoft.com/en-us/library/system.reflection.assembly.getexecutingassembly.aspx)然后检查[`Location`](http://msdn.microsoft.com/en-us/library/system.reflection.assembly.location.aspx)结果的属性。这将返回当前正在执行的程序集的路径。

# java - 如何获取java数组中元素的详细信息？

> ID：13267785
> 
> 赞同：0
> 
> 时间：2012-11-07T10:28:25.820
> 
> 标签：java, arrays

我已经声明了一个数组，如果我想给出一些细节，比如元素的名称、值，我应该输入什么？

```
import java.awt.*;

public class createNode {
private int id;
private String name;
private String value;

ClientDetail[] clDetails= new ClientDetail[1]

c1Details.id = client1;
c1Details.name = client1;

} 
```

我把它做成一个函数，以便我可以在必要时调用它。而里面虽然数组里面只有1个元素，但元素会有名称，id，值。

怎么做 ？对不起，我是编程菜鸟。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-07T10:31:31.027

这不是数组声明`int client = new int[1];`。数组应该用特定类型声明，例如`ClientDetail[] clDetails= new ClientDetail[10];`，这里`ClientDetail`是自定义类型。ClientDetail 类型定义在哪里 -

```
public class ClientDetail{
   private int id;
   private String name;
   private int value;
   <setter and getter method>
} 
```

您可以创建客户详细信息，例如 -

```
public ClientDetail[] createClientArray(){      
  Scanner in = new Scanner(System.in);
  System.out.print("Enter Number of Client -");
  int number= in.nextInt();
  ClientDetail[] clDetails= new ClientDetail[number];  
  for(int i=0;i<number;i++){
    ClientDetail cl = new ClientDetail();
    System.out.print("Enter Name -");
    cl.setName(in.next());
    System.out.print("Enter ID -");
    cl.setId(in.nextInt());
    System.out.print("Enter Value -");
    cl.setId(in.nextInt());
    clDetails[i] = cl;
  }
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-07T10:41:05.843

一个数组不会包含多个字段。数组是对象（或原语）的集合。似乎您想要一个包含字段名称、id 和值的对象数组。

**首先创建你的对象**

```
public class Element(){

  private String name;
  private String id;
  private String value;

  public Element(String name, String id, String value){
    this.name = name;
    this.id = id;
    this.value = value;
  }

  public String getName(){
    return this.name;
  }

  public String getId(){
    return this.id;
  }

  public String getValue(){
    return this.value;
  };

} 
```

**创建对象后，您可以创建该对象的数组。

```
Element[] elements = {new Element("first", "1", "Value1"), new Element("second", "2", "Value2") }; 
```

**创建数组后，您可以使用对象数组**

```
for(Element element:elements){
   System.out.println(element.getName());
   System.out.println(element.getId());
   System.out.println(element.getValue());
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-07T10:36:22.703

创建一个对象类，该类的每个实例都具有所需的 getter 和 setter 属性。将它们放入对象类类型的数组中。对于我的以下代码，它将是`DummyClass[] array = new DummyClass[desiredLength];`

```
public class DummyClass{

    private String attribute1;
    private int attribute2;

    public DummyClass(String attribute1, int attribute2){
        this.attribute1 = attribute1;
        this.attribute2 = attribute2;
    }

    public int getAttribute1(){
        return attribute1;
    }

    public int getAttribute2(){
        return attribute2;
    }

    public void setAttribute1(String attribute1){
        this.attribute1 = attribute1;
    }

    public void setAttribute1(int attribute2){
        this.attribute2 = attribute2;
    }

} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-07T10:45:49.203

我将这样做的方式是创建一个类客户端

```
public class Client {

  //declare some private variables
  private String name;
  private int id;
  private String value;

  // create getters and setters for the parameters
  public void setName(String name) {
    this.name = name;
  }
  public String getName() {
    return this.name;
  }
  public void setId(int id) {
    this.id = id;
  }
  public int getId() {
    return this.id;
  }
  public void setValue(String value) {
    this.value = value;
  }
  public String getValue() {
    return this.value;
  }

} 
```

然后使用这个类来存储信息

```
 :
    :
public void createClientArray()
{
  // Create an ArrayList of Client
  ArrayList<Client> clients = new ArrayList<Client>();

  // Instantiate Client class to store the information
  Client clientObject = new Client();
  clientObject.setName("Client Name");
  clientObject.setId(1);
  clientObject.setValue("Any Value");

  // Add to the ArrayList
  clients.add(clientObject);

  // Store another client's information
  Client clientObject2 = new Client();
  clientObject2.setName("Client Name 2");
  clientObject2.setId(2);
  clientObject2.setValue("Any Value 2");
      :
      :

}
    :
    : 
```

[您可以在使用 ArrayList 的迭代器](https://stackoverflow.com/questions/6700717/how-to-iterate-through-an-array-list)完成此代码时检查ArrayIndexOutOfBoundsException。

# wcf - 使用 GoogleAnalyticsTracker 跟踪 WCF REST

> ID：13267791
> 
> 赞同：0
> 
> 时间：2012-11-07T10:28:43.093
> 
> 标签：wcf, rest, google-analytics

我在[http://myapp.cloudapp.net/Service1.svc](http://myapp.cloudapp.net/Service1.svc)有一个安静的 WCF，它返回 json 数据。wcf 现在在 Azure 中。我想使用 googleAnalyticsTracker 跟踪 WCf 的使用情况。通过向它发送 http 请求来使用我的 WCf 的所有客户端，我希望它们被 googleAnalytics 跟踪。

我在 googleAnalytics 创建了一个帐户，并提供与上述相同的 URL 以供跟踪服务。

浏览 http.../Service1.svc 时调用 Service1.svc 中唯一的操作 GetData()，GetData() 中的 Trakcer 代码如下：

```
Tracker tracker = new Tracker("UA-xxxxx-x", "http://myapp.cloudapp.net/");

        //var request = svcSecurityContext;
        tracker.SetCustomVariable(1, "Time", DateTime.Now.ToShortDateString());
        tracker.SetCustomVariable(2, "UserName", "myname");

        tracker.SetCustomVariable(3, "Service accessed",     OperationContext.Current.RequestContext.RequestMessage.Headers.To.ToString());

        tracker.TrackPageView("My API - Create", "api/create"); 
```

该服务返回数据，然后我转到 googleAnalytics 的 mydashboard，我看不到访问量正在增加。我需要帮助来确定我是否正确使用了 googleanalytictracker。

是否可以像 iam 那样使用带有 wcf 的 googleanalytics 或者它只能用于网页？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T16:32:37.103

你看过谷歌分析跟踪器吗？ [https://github.com/maartenba/GoogleAnalyticsTracker](https://github.com/maartenba/GoogleAnalyticsTracker)

该代码适用于 ASP.NET Web API，但也可用于 WCF。对于 WCF，我将使用此代码创建一个行为。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-08T08:50:53.947

它可以工作，但 GoogleAnalytics 不显示统计信息，因为获取更新的统计信息需要一些时间。对我来说大约需要 1 个小时。此链接显示您如何简单地显示今天的统计数据：

[实时统计数据与谷歌分析](http://www.thetechfaq.com/2008/03/12/real-time-stats-with-google-analytics/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-22T13:24:46.753

它运行良好，但我在 Google Analytics 中看不到我的自定义变量！

```
 using (Tracker tracker = new Tracker("UA-xxxxx-x", "http://myapp.cloudapp.net/"))
        {                
            tracker.SetCustomVariable(1, "User id", uid);
            tracker.SetCustomVariable(2, "Test", "ok");
            tracker.SetCustomVariable(3, "Test2", "fgd");
            tracker.SetCustomVariable(4, "Test3", "PPP");
            tracker.SetCustomVariable(5, "Test4", "dfsPPP");

            tracker.TrackPageView("PortecarteService", "ws/GetListFolder");
        } 
```

谢谢

# c# - 在测试方法中使用什么模拟参数或实例参数？

> ID：13267799
> 
> 赞同：2
> 
> 时间：2012-11-07T10:29:15.897
> 
> 标签：c#, unit-testing, mocking, moq, stub

在测试方法中传递对象参数的最佳做法是什么？在这种情况下使用什么？（模拟，存根或创建对象实例并填充它）

例如：

```
[Test]
public void LoadContentsFor_ValidUser_ReturnsEmptyList()
{
    var user = new User {Id = 1, FirstName = "Test"};
    var contents = this.contentPresentationService.LoadContentsFor(user);
    Assert.IsTrue(contents.Count == 0);
} 
```

或使用模拟：

```
[Test]
public void LoadContentsFor_ValidUser_ReturnsEmptyList()
{
    var user = new Mock<User>();
    user.Setup(x => x.Id).Returns(1);
    user.Setup(x => x.FirstName).Returns("Test");
    var contents = this.contentPresentationService.LoadContentsFor(user.Object);
    Assert.IsTrue(contents.Count == 0);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T12:05:01.467

如果是这个简单的对象，我建议要么*手动创建它，*要么使用一些构建工具，如**[AutoFixture](https://github.com/AutoFixture/AutoFixture)**或**[NBuilder](http://nbuilder.org/)**（这两个库都旨在处理您所询问的确切问题）：

```
// AutoFixture example
var fixture = new Fixture();
var user = fixture
    .Build<User>()
    .With(u => u.Id, 1)
    .With(u => u.FirstName, "John")
    .CreateAnynomous(); 
```

最重要的是，AutoFixture 提供了更多有用的功能，例如

*   自动生成属性数据
*   跳过不需要的属性
*   用 automocks 替换某些属性（看看[AutoMoq](http://blog.ploeh.dk/2010/08/19/AutoFixtureAsAnAutomockingContainer.aspx)）

模拟框架不提供的功能，因为它们服务于不同的角色。当然，如果您仍然继续使用模拟，则**不会发生任何事情，但鉴于上述不同的目的，您的代码读者可能会***感到困惑*。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T12:19:33.867

对于您的情况，我将创建一个具体的用户对象，就像您的第一个示例一样。您不需要模拟它，因为它存在于被测代码的边界内。

任何存在于被测试代码边界之外并实现数据访问、服务、会话管理等的对象都应该有一个接口，这样它们就不会紧密耦合。拥有这些接口可以让您轻松模拟这些区域，因此不会发生真实世界的数据操作。

# ios - 使用 bonjour 进行安全连接

> ID：13267802
> 
> 赞同：0
> 
> 时间：2012-11-07T10:29:30.633
> 
> 标签：ios, macos, ssl, certificate, bonjour

我即将开发一个应该能够将我的 mac (osx) 连接到我的 iPhone (ios) 的应用程序，并且我正在考虑通过 wifi 使用 bonjour。该应用程序将用于访问我手机上的密钥，因此安全性至关重要。

我想知道 bonjour 是否可以使用任何安全加密，如 SSL，或者是否默认实施任何其他安全性以便“足够安全”？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T10:32:03.483

Bonjour 仅用于发现，您可以发布 SSL 服务或任何您想要的网络服务。
无论如何，您都不使用 bonjour 传输数据。

# mongodb - 无法使用 MongoTor 获得连接

> ID：13267805
> 
> 赞同：0
> 
> 时间：2012-11-07T10:29:39.147
> 
> 标签：mongodb, asynchronous, tornado

我试图更改我的代码以使用[MongoTor使其异步](https://github.com/marcelnicolay/mongotor)

这是我的简单代码：

```
class BaseHandler(tornado.web.RequestHandler):
    @property 
    def db(self):
        if not hasattr(self,"_db"):
            _db = Database.connect('localhost:27017', 'essog')
            return _db
    @property
    def fs(self):
        if not hasattr(BaseHandler,"_fs"):
            _fs = gridfs.GridFS(self.db)
            return _fs

class LoginHandler(BaseHandler):
    @tornado.web.asynchronous
    @tornado.gen.engine
    def post(self):
        email = self.get_argument("email")
        password = self.get_argument("pass1")
        try:
            search = yield tornado.gen.Task(self.db.users.find, {"prs.mail":email})
            .... 
```

我收到了这个错误：

```
Traceback (most recent call last):
File "C:\Python27\lib\site-packages\tornado-2.4.post1-py2.7.egg\tornado\web.py", line 1043, in _stack_context_handle_exception
raise_exc_info((type, value, traceback))
File "C:\Python27\lib\site-packages\tornado-2.4.post1-py2.7.egg\tornado\web.py", line 1162, in wrapper
return method(self, *args, **kwargs)
File "C:\Python27\lib\site-packages\tornado-2.4.post1-py2.7.egg\tornado\gen.py", line 122, in wrapper
runner.run()
File "C:\Python27\lib\site-packages\tornado-2.4.post1-py2.7.egg\tornado\gen.py", line 365, in run
yielded = self.gen.send(next)
File "G:\Mon projet\essog\handlers.py", line 92, in post
search = yield tornado.gen.Task(self.db.users.find, {"prs.mail":email})
File "G:\Mon projet\essog\handlers.py", line 62, in db
_db = Database.connect('localhost:27017', 'essog')
File "build\bdist.win-amd64\egg\mongotor\database.py", line 131, in connect
database.init(addresses, dbname, read_preference, **kwargs)
File "build\bdist.win-amd64\egg\mongotor\database.py", line 62, in init
ioloop_is_running = IOLoop.instance().running()
 AttributeError: 'SelectIOLoop' object has no attribute 'running'
 ERROR:tornado.access:500 POST /login (::1) 3.00ms 
```

这是另一个问题，在这种情况下我该怎么做`distinct`？

这是在**阻塞模式下**起作用的：

```
search = self.db.users.find({"prs.mail":email}).distinct("prs.mail")[0] 
```

更新：

似乎没有运行 Tornado 时会发生此错误！仅在控制台中使用模块时引发相同的错误。

> test = Database.connect("localhost:27017", "essog") ---------------------------------- ----------------------------------------- AttributeError Traceback（最近一次调用最后一次）在() ----> 1 test = Database.connect("localhost:27017", "essog")
> 
> C:\Python27\lib\site-packages\mongotor-0.0.10-py2.7.egg\mongotor\database.pyc in connect(cls,addresses,dbname,read_preference,**kwargs) 131 132 database = Database() --> 133 database.init(addresses, dbname, read_preference, **kwargs) 134 135 返回数据库
> 
> C:\Python27\lib\site-packages\mongotor-0.0.10-py2.7.egg\mongotor\database.pyc in init(self,addresses,dbname,read_preference,**kwargs) 60 self._nodes.append(节点) 61 ---> 62 ioloop_is_running = IOLoop.instance().running() 63 self._config_nodes(callback=partial(self._on_config_node, ioloop_is_running)) 64
> 
> AttributeError：“SelectIOLoop”对象没有“正在运行”的属性

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-11T11:57:54.897

我得到了答案：

1.  现在，Tornado 2.4post1 已经删除了 running()，所以要使用实际的 MongoTor，请使用 tornado 2.4

编辑：tornado 和 mongotor 现在使用最新版本效果更好。

1.  [使用不同的](https://github.com/marcelnicolay/mongotor/issues/20)：

    ```
    distinc_uuids = yield gen.Task(db.collection_test.find({"param":'shouldbeparam1'}).distinct, 'uuid') 
    ```

# android - CakePHP URL 的 Android HTTP 请求

> ID：13267806
> 
> 赞同：0
> 
> 时间：2012-11-07T10:29:55.213
> 
> 标签：android, httpwebrequest, http-post, urlencode, http-get

我有一个用 cakephp 创建的网站。我想将我的应用程序中形成的一些值传递给这个网站。当我在浏览器中输入完全相同的 URL 时，它可以工作。

URL 类似于：www.something.com/function/add/value

所以我很困惑这是 GET 还是 POST 方法？我该怎么做？

问题是我不能更改这个 URL 或放一​​些 POST 或 GET PHP 脚本来获取值。所以我基本上只需要使用这些参数调用 URL。

这是我的代码：

```
HttpClient httpclient = new DefaultHttpClient();
HttpPost httppost = null;
try {
        httppost = new HttpPost("www.something.com/function/add/" + URLEncoder.encode(txtMessage.getText().toString(), "UTF-8"));
} catch (UnsupportedEncodingException e1) {
        e1.printStackTrace();
}

try {
        ResponseHandler<String> responseHandler = new BasicResponseHandler();
        httpclient.execute(httppost, responseHandler);
} catch (ClientProtocolException e) {
} catch (IOException e) {
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T11:22:22.597

创建`List<NameValuePair>`并将您的值放在这里（例如“somevalue”）。用你的价值创造`DefaultHttpClient()`一套。`nameValuePairs`

```
List<NameValuePair> nameValuePairs = new ArrayList<NameValuePair>();
nameValuePairs.add(new BasicNameValuePair("tag", "TEST_TAG"));
nameValuePairs.add(new BasicNameValuePair("valueKey", "somevalue"));
HttpClient httpclient = new DefaultHttpClient();
HttpPost httppost = new HttpPost("www.something.com/function/add/utils.php");
httppost.setEntity(new UrlEncodedFormEntity(nameValuePairs, HTTP.UTF_8));
HttpResponse response = httpclient.execute(httppost);
HttpEntity entity = response.getEntity();
InputStream is = entity.getContent();
BufferedReader reader = new BufferedReader(new InputStreamReader(is, "iso-8859-1"), 8);
StringBuilder sb = new StringBuilder();
String line = "";
while ((line = reader.readLine()) != null) {
    sb.append(line + "n");
}
is.close();
Log.i("response", sb.toString()); 
```

在服务器端`/function/add/utils.php`获得你的价值

```
if (isset($_POST['tag']) && $_POST['tag'] != '') {
     $tag = $_POST['tag']; //=TEST_TAG
     $value = $_POST['valueKey']; //=somevalue
}
//and return some info 
$response = array("tag" => $tag, "success" => 0, "error" => 0);
$response["success"] = 1;
echo json_encode($response); 
```

这`$response`在您的 java 代码中作为`HttpEntity entity = response.getEntity()`. 它可能会帮助你。

# python - 使用 python 访问 Refprop：SETPATHdll 错误

> ID：13267808
> 
> 赞同：3
> 
> 时间：2012-11-07T10:29:57.563
> 
> 标签：python, dll

我尝试通过 python 访问 NIST refprop 数据库。为此，我从[http://www.boulder.nist.gov/div838/theory/refprop/Frequently_asked_questions.htm下载了 refprop python 模块](http://www.boulder.nist.gov/div838/theory/refprop/Frequently_asked_questions.htm)

尝试导入模块时，我收到以下错误：

```
>>> import REFPROP
Traceback (most recent call last):
File "<stdin>", line 1, in <module>
File "C:\Python33\lib\REFPROP.py", line 6525, in <module>
   setpath()
File "C:\Python33\lib\REFPROP.py", line 381, in setpath
   _setpath(path)
File "C:\Python33\lib\REFPROP.py", line 421, in _setpath
   _rp.SETPATHdll(ctypes.byref(_hpth), ctypes.c_long(255))
File "C:\Python33\lib\ctypes\__init__.py", line 366, in __getattr__
   func = self.__getitem__(name)
File "C:\Python33\lib\ctypes\__init__.py", line 371, in __getitem__
   func = self._FuncPtr((name_or_ordinal, self))
AttributeError: function 'SETPATHdll' not found 
>>> 
```

我发现这个 SETPATHdll 函数不包含在 refprop.dll 文件中。尽管如此，模块是为这个文件编写的。有人可以帮忙吗？谢谢你 。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-10-17T17:20:21.397

将 CoolProp 与 REFPROP 包装器一起使用：

安装： [https ://pypi.python.org/pypi/CoolProp/4.2.5](https://pypi.python.org/pypi/CoolProp/4.2.5)

示例： [http ://coolprop.sourceforge.net/FluidInformation.html#refprop-fluids-and-mixtures](http://coolprop.sourceforge.net/FluidInformation.html#refprop-fluids-and-mixtures)

# javascript - Backbone JS - 视图应该保存集合的约定吗？还是型号？

> ID：13267814
> 
> 赞同：1
> 
> 时间：2012-11-07T10:30:36.433
> 
> 标签：javascript, backbone.js, marionette

[View](http://backbonejs.org/#View)应该持有我的[Collection](http://backbonejs.org/#Collection)（模型），还是[Model](http://backbonejs.org/#Model)应该持有？

标准方法是什么？这是一个笼统的问题，我没有具体的应用示例，但答案可能是取决于具体情况吗？

到目前为止，我们的少量工作是模型持有集合。只是阅读有关 Marionette 及其 View 的信息，[文档](https://github.com/marionettejs/backbone.marionette/blob/master/docs/marionette.view.md#viewmodelevents-and-viewcollectionevents)似乎表明 Marionette 假设 View 具有 Collection。

想法？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-07T11:26:46.493

除非集合是该模型的属性或涉及与该模型的关系，否则模型不应包含集合。我假设在您的问题中，当您说集合时，您实际上是指您还谈论的模型的集合。

我推荐的方法是定义一个呈现单个模型的视图，然后定义一个封闭视图，该视图存储集合并为该集合中的每个模型呈现单个视图。

**编辑**：为清楚起见，当我说封闭时，我的意思是在 DOM 级别，但不在您的定义范围内。

这意味着在您需要时可以轻松地一次性渲染整个集合，但您也可以在集合中添加或修改单个模型，并且只需要渲染该模型的单个视图。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T10:49:16.587

如果合适的话，视图将包含模型的集合对我来说是有意义的。例如，一个 histogramView 可能包含一个数据点的集合，它有自己的模型数据点。然后 histogramView 可以访问该集合并一次性渲染其中的所有内容。

当然，如果视图只需要拥有一个模型，那也是可以接受的。对于用户配置文件视图，您可能希望该视图拥有一个 userInformationModel。

# php - 表示分钟的 PHP 数组

> ID：13267823
> 
> 赞同：1
> 
> 时间：2012-11-07T10:31:16.033
> 
> 标签：php

我想创建一个数组来表示分钟：

```
 array {01,02,03,04,...,60} 
```

我怎样才能自动做到这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-07T10:32:20.510

您可以使用 PHP 函数`range`来创建数组：

```
$min = range(1,60); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-07T10:32:29.767

用这个：

```
$minutes = range(1, 60); 
```

打印时：

```
foreach( $minutes as $minute ) {
      echo ( $minute < 10 ? "0{$minute}" : $minute ) . "\n";
} 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-11-07T10:36:23.393

获取[`range`](http://php.net/range)，将其映射到[`sprintf`](http://php.net/sprintf)您的字符串格式（[演示](http://codepad.org/32RTs1gF)）：

```
$minutes = array_map('sprintf', array_fill(0, 60, '%02d'), range(1, 60)); 
```

结果就是您所要求的：数字 1 到 60 的字符串数组，左侧补零。

```
["01", "02", "03", ... , "60"] 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-07T10:34:15.933

这是一种方法

```
$my_array = array();
for($i=1;$i<=60;$i++)
{
     $my_array[] = str_pad($i, 2, '0', STR_PAD_LEFT); 
} 
```

# objective-c - 为什么即使应用程序在前台也会显示本地通知？

> ID：13267826
> 
> 赞同：0
> 
> 时间：2012-11-07T10:31:49.390
> 
> 标签：objective-c, ios, notifications, uilocalnotification

我正在处理游戏的通知方面，iOS 处理本地通知的方式有问题。

在代表的文件中，`application:didReceiveLocalNotification`它说明了以下内容：

`If the application is running in the foreground, there is no alert, badging, or sound; instead, the application:didReceiveLocalNotification: method is called if the delegate implements it.`

但是，当应该弹出本地通知并且我的应用程序在前台运行时，它将首先触发该委托（它是空的），然后无论如何都会显示警报。

我想知道当应用程序在前台运行时专门处理本地通知的方法。这甚至可能吗？

为什么我需要这个的简短示例：当玩家开始建造时，会创建一个本地通知以在建筑完成时提醒他（最多 6 小时）。但是，如果用户在游戏中应该弹出此通知，我不想显示它，因为他已经可以看到建筑物已完成。

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-07T10:41:36.020

```
application:didReceiveLocalNotification: 
```

您需要处理是否要将通知显示为警报、徽章或声音。因此，当您的应用程序在后台时，弹出警报/徽章/声音将通知用户有关消息（在您的情况下，建筑物已完成）。但是您可以选择在委托方法中忽略它。

编辑：一旦方法被触发并且您的应用程序处于活动状态，您可以丢弃通知

```
[[UIApplication sharedApplication] cancelLocalNotification:myNotification]; 
```

**您认为它会在前台弹出的假设是错误的。**

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T10:38:29.217

如果您调用`cancelAllLocalNotifications:`它，即使通知已经触发，它也会关闭当前显示的警报。

# objective-c - 收到响应时，当 Class 请求的一些 WebService 不在内存中时会发生什么？

> ID：13267829
> 
> 赞同：2
> 
> 时间：2012-11-07T10:32:00.910
> 
> 标签：objective-c

收到响应时，当 Class 请求的一些 WebService/Streaming 不在内存中时会发生什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T10:34:24.583

您将得到一个异常，如果您希望调用该方法，则必须保持该类的分配。

# web-services - 在 SharePoint 工作流之后将 Infopath 表单数据发布到 SAP Web 服务

> ID：13267831
> 
> 赞同：1
> 
> 时间：2012-11-07T10:32:08.567
> 
> 标签：web-services, sharepoint, sap, infopath

我创建了一个 Infopath 2010 表单，一旦用户提交表单，它就会发布到 Sharepoint 文档库。然后它经过一个批准过程，批准者可以确认或拒绝。

我的问题是：一旦表单被接受，我们如何将表单数据发送到网络服务中。我已经在 SAP 中创建了服务，我想使用该服务并发送表单数据。该服务将根据在 SAP 中完成的发布返回错误或成功消息，我也想将此消息通知用户..

谢谢 ！！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T11:48:14.500

SharePoint 中设置的现成活动是有限的。要调用 Web 服务，您需要构建自定义活动或使用其他人已经构建的活动：

[http://ilovesharepoint.codeplex.com/wikipage?title=Call%20a%20Web%20Service%20Action](http://ilovesharepoint.codeplex.com/wikipage?title=Call%20a%20Web%20Service%20Action)

另外：[http ://spdactivities.codeplex.com/](http://spdactivities.codeplex.com/)

# c# - Pechkin HTML to PDF，包含指向无扩展名 PNG 的链接

> ID：13267838
> 
> 赞同：4
> 
> 时间：2012-11-07T10:32:32.280
> 
> 标签：c#, asp.net, wkhtmltopdf, html-to-pdf, pechkin

我正在尝试使用 Pechkin Synchronized (WkHtmlToPDF) 将 HTML 字符串转换为 PDF。除了一个（交易破坏）部分之外，一切都完美无缺。

作为 HTML 字符串的一部分，我有一个 Image 标记，它通过 SSL 引用动态生成的 PNG 文件（代码见下文）。它只是在输出 pdf 中显示为一个空白框。

我检查了文档并打开了我能想到的每个选项，并且看到了对 WkHtmlToPDF 能够支持 PNG 格式并从 SSL 源中提取数据的引用。

```
byte[] pdf = new Pechkin.Synchronized.SynchronizedPechkin(
new Pechkin.GlobalConfig()).Convert(
    new Pechkin.ObjectConfig()
   .SetLoadImages(true)
   .SetPrintBackground(true)
   .SetScreenMediaType(true)
   .SetCreateExternalLinks(true), html);

using (FileStream file = System.IO.File.Create(@"C:\TEMP\Output.pdf"))
{
    file.Write(pdf, 0, pdf.Length);
} 
```

引用“缺失”图像的相关 HTML

```
<img width="385" src="https://www.somehost.com/path/endpoint?type=somedata&amp;height=140&amp;width=2&amp;data=000000000000000000"> 
```

还尝试将 &'s 转换为 &'s 以查看是否有帮助，但遗憾的是它没有：

```
<img width="385" src="https://www.somehost.com/path/endpoint?type=somedata&height=140&width=2&data=000000000000000000"> 
```

当我直接通过浏览器点击链接并检查提琴手报告内容长度 1136，内容类型为 image/png 并且标题还提到 WebSphere 和 Servlets。

在库所有者的进一步测试和帮助之后，似乎 SSL 不是问题，它缺乏扩展。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-07-14T19:04:39.097

您可以对图像进行 Base64 编码并内联：

```
<img src="data:image/jpeg;base64,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" /> 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2014-11-18T11:41:40.123

My problems with images having HTTPS urls not being displayed in PDF were solved by replacing Pechkin with this fork:

[https://github.com/tuespetre/TuesPechkin](https://github.com/tuespetre/TuesPechkin)

Replacing is quite straightforward, as well as the usage:

```
 using TuesPechkin;
        ...            

        string html = "<img src=\"https://www.google.com/images/srpr/logo11w.png\" alt=\"Google logo\" />";
        IPechkin converter = Factory.Create();
        byte[] bytes = converter.Convert(html); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-09-13T13:42:28.340

我也遇到了这个问题（HTTPS 下的图像不会在 PDF 中呈现）。解决方案是**在 Web 服务器上下载并安装 OpenSSL**。

在这里您可以找到适用于 Windows 的 OpenSSL 发行版：[http ://www.openssl.org/related/binaries.html](http://www.openssl.org/related/binaries.html)

所以，我安装了这个，它工作：[http ://slproweb.com/download/Win32OpenSSL_Light-1_0_1e.exe](http://slproweb.com/download/Win32OpenSSL_Light-1_0_1e.exe)

Because I had several problems with Pechkin, I wrote a post on my blog, here is the link if anyone interested: [http://codeutil.wordpress.com/2013/09/16/convert-html-to-pdf](http://codeutil.wordpress.com/2013/09/16/convert-html-to-pdf)

# java - 逗号上的字符串拆分排除双引号中的逗号并拆分相邻的逗号

> ID：13267840
> 
> 赞同：2
> 
> 时间：2012-11-07T10:32:36.010
> 
> 标签：java, regex, string-split

我想根据逗号分割一个字符串，不包括双引号中的一个，如果有任何相邻的逗号，它们也应该算作单独的标记

我可以在逗号上进行字符串拆分，不包括使用正则表达式的双引号`[^,\"']+|\"([^\"]*)\"`

但如果有相邻的逗号，则无法正确标记。字符串示例

```
one,two,three,four,"five1,five2", six ,seven,"eight1,eight2","nine",,eleven 
```

输出应该是

```
one
two
three
four
five1,five2
six
seven
eight1,eight2
nine

eleven 
```

请帮忙

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-07T10:38:13.910

如果您的所有报价都匹配，则您要拆分的每个逗号后面都会跟着偶数个`"`. 所以你可以使用前瞻并将这个东西塞进`myString.split(pattern, -1)`：

```
,(?=(?:(?:[^\"]*\"){2})*[^\"]*$) 
```

`"`仅当所讨论的逗号和字符串末尾之间存在偶数个时才会匹配。

请注意，`-1`参数 for`split`很重要，否则将省略尾随的空字符串。

旁注：我不知道 Java 正则表达式引擎的优化程度如何，因此如果失败，这种前瞻可能会非常低效，因为它不必要地回溯。如果您遇到性能问题，请尝试使量词具有所有格：

```
,(?=(?:(?:[^\"]*+\"){2})*+[^\"]*+$) 
```

这将阻止引擎回溯。

# c - 独立于汇编器操作系统的原子比较和交换

> ID：13267845
> 
> 赞同：3
> 
> 时间：2012-11-07T10:32:55.603
> 
> 标签：c, linux, windows, assembly, atomic

我正在编写与操作系统无关的无锁队列，队列工作正常（使用默认的 windows\linux atomic CAS），但我想让队列在不改变 linux 和 windows 的情况下工作。所以我想我应该在汇编程序中编写自己的 CAS，还是有其他方法可以实现它？

到目前为止，我有这个代码：

```
global _CAS

_CAS:

    mov eax, [esp+4]    
    mov edx, [esp+8]    
    mov ecx, [esp+12]   

    ;XCHG eax, edx  <- this function works fine
     CMPXCHG  ecx, eax, ebx 

    ret 
```

我知道我`lock`之前仍然需要添加`CMPXCHG`它，它应该适用于结构，但现在我更感兴趣的是让它工作。

我使用 nasm-2.10.05 使用此命令进行编译，但`nasm.exe -f elf -o cas.o cas.asm` 出现此错误`testas\cas.asm:14: error: invalid combination of opcode and operands`

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-11-07T11:04:31.953

使用 C11 或更高版本，您应该使用如今`<stdatomic.h>`已获得广泛支持的 .

```
#include <stdatomic.h> 
```

请参阅[atomic_compare_exchange](https://en.cppreference.com/w/c/atomic/atomic_compare_exchange)。我不会在这里尝试总结确切的语义。

如果没有 C11，您可以在两个平台上使用内在函数，无需组装：

```
#ifdef _MSC_VER
# include <intrin.h>
# define CAS(ptr, oldval, newval) \
    _InterlockedCompareExchange(ptr, newval, oldval)
#elif __GNUC__
# if __GNUC__ < 4 || (__GNUC__ == 4 && __GNUC_MINOR__ < 1)
#  error "requires GCC 4.1 or greater"
# endif
# define CAS(ptr, oldval, newval) \
    __sync_val_compare_and_swap(ptr, oldval, newval)
#else
# error "CAS not supported on this platform"
#endif 
```

这两个都支持以下接口：

```
/* If the current value of *ptr is oldval, then write newval
   into *ptr.  Returns the initial value of *ptr.  */
long CAS(long *ptr, long oldval, long newval); 
```

请参阅[MSDN 文档](http://msdn.microsoft.com/en-us/library/ttk2z1ws(v=vs.100).aspx)、[GCC 文档](http://gcc.gnu.org/onlinedocs/gcc-4.4.7/gcc/Atomic-Builtins.html#Atomic-Builtins)。这也应该适用于 Clang，无需修改，因为 Clang 宣传`__GNUC__`与其预定义宏的兼容性。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-11-07T10:41:42.080

根据[http://web.itu.edu.tr/kesgin/mul06/intel/instr/cmpxchg.html](http://web.itu.edu.tr/kesgin/mul06/intel/instr/cmpxchg.html)，`cmpxchg`需要两个，而不是三个参数。

也许，[http](http://git.kernel.org/?p=linux/kernel/git/torvalds/linux.git;a=blob;f=arch/x86/include/asm/cmpxchg.h) ://git.kernel.org/?p=linux/kernel/git/torvalds/linux.git;a=blob;f=arch/x86/include/asm/cmpxchg.h也很有趣。

# php - 如何使用 PHP GD 库向图像添加文本

> ID：13267846
> 
> 赞同：19
> 
> 时间：2012-11-07T10:32:58.840
> 
> 标签：php, html, image, gd

我在 image_creator 中有图像创建代码。

```
<?php
header("Content-Type: image/jpeg");
$im = ImageCreateFromGif("photo.gif"); 
$black = ImageColorAllocate($im, 255, 255, 255);
$start_x = 10;
$start_y = 20;
Imagettftext($im, 12, 0, $start_x, $start_y, $black, 'verdana.ttf', "text to write");
Imagejpeg($im, '', 100);
ImageDestroy($im);
?> 
```

图像输出文件为 image.php，代码如下

```
<html>
<head>
</head>
<body>
    <img src="http://localhost/image_creator.php"/> 
</body>

</html> 
```

当我运行 image.php 时，我只是得到一个空白页。为什么会这样？

* * *

## 回答 #1

> 赞同：55
> 
> 时间：2012-11-07T11:04:02.970

使用它向图像添加文本（从[PHP for Kids](http://www.phpforkids.com/php/php-gd-library-adding-text-writing.php)复制）

```
<?php
//Set the Content Type
header('Content-type: image/jpeg');

// Create Image From Existing File
$jpg_image = imagecreatefromjpeg('sunset.jpg');

// Allocate A Color For The Text
$white = imagecolorallocate($jpg_image, 255, 255, 255);

// Set Path to Font File
$font_path = 'font.TTF';

// Set Text to Be Printed On Image
$text = "This is a sunset!";

// Print Text On Image
imagettftext($jpg_image, 25, 0, 75, 300, $white, $font_path, $text);

// Send Image to Browser
imagejpeg($jpg_image);

// Clear Memory
imagedestroy($jpg_image);
?> 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-12-11T11:45:08.090

这里的问题是， `$black = ImageColorAllocate($im, 255, 255, 255);`//<== 这不是黑色，它的白色//对于黑色应该是这样的，

```
$black = ImageColorAllocate($im, 0, 0, 0); 
```

# excel - VBA在单元格更改时运行宏，但如果通过宏则不运行

> ID：13267850
> 
> 赞同：4
> 
> 时间：2012-11-07T10:33:08.923
> 
> 标签：excel, vba

好的，我不确定这是否容易实现，但我会尝试。

如果单元格发生更改，我使用此子程序执行一些宏：

```
Private Sub Worksheet_Calculate()
Dim target As Range
Set target = Range("b4")
If Not Intersect(target, Range("b4")) Is Nothing Then
Call init
End If
End Sub 
```

这工作正常，但我有一点问题。

单元格`B4`，如上面的单元格更改子中所引用，其值由命名范围确定，该命名范围是动态的，并且包含另一个工作表上的值列表。我使用数据验证工具制作`B4`一个包含命名范围内容的下拉列表。

我有另一个宏，其目的是更新此列表。它的作用是清除当前列表，查询数据库并将一堆值输出到范围内。问题在于，当这个宏运行时，它会导致 的值发生`B4`变化（因为`B4`引用了范围内的值）。这反过来导致我的“单元格更改”宏运行抛出错误。

有没有办法在我更新它引用的列表时阻止“单元格更改”宏运行？

希望这个问题有意义。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-11-07T10:46:30.277

`Worksheet_Calculate`您可以使用`Application.EnableEvents`如下方式禁用事件。请注意，这将禁用可能在两者之间发生的任何事件`WorkSheet`或事件`WorkBook``Application.EnableEvents = False``Application.EnableEvents = True`

因此，如果您的其他子程序像这样运行-该`Worksheet_Calculate`事件将不会触发

```
Sub Other_Sub()
Application.EnableEvents = False
[b4].Value = "10"
'other stuff
Application.EnableEvents = True
End Sub 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T10:48:51.430

Never mind, I have worked out a simple solution: Just put a conditional statement in saying to not execute "init" if B4 contains an error or is blank.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-04-09T12:55:55.177

and be aware of (exit sub) or (exit function)... Don't forget to use Application.EnableEvents = True before (exit sub) or (exit function) commands (if exists)

# silverlight-4.0 - 如何在 silverlight 4.0 中使用 DataTable

> ID：13267854
> 
> 赞同：1
> 
> 时间：2012-11-07T10:33:34.173
> 
> 标签：silverlight-4.0, datatable, telerik-grid

Silverlight 4.0 支持 System.Data.DataTable 吗？我看到了这个链接：[silverlight中的数据表](https://stackoverflow.com/questions/1809363/system-data-datatable-in-silverlight-4)

我需要从 datagridview 获取数据。使用该数据我必须准备一个 radbarchart。

相反，如果使用数据表，我们可以使用列表或任何东西。

任何人都可以告诉我如何从 datagridview 获取数据。

# sql - MS SQL 格式计算列

> ID：13267855
> 
> 赞同：1
> 
> 时间：2012-11-07T10:33:45.017
> 
> 标签：sql, sql-server, calculated-columns

我有一个计算列，它是这样计算的：

```
(dateadd(month,[amorted_months],[real_date_start])) 
```

以上内容保留在列的公式属性中。例如，此公式显示

'2013-02-28 10:22:15.583'

现在我想格式化列并只显示日期，而不是时间。当我像这样使用 FORMAT 函数时：

```
(FORMAT(dateadd(month,[amorted_months],[real_date_start]), 'YYYY-MM-DD')) 
```

它说验证公式时出错。我不擅长 SQL 语法，我想这真的很愚蠢。谢谢您的帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T10:35:11.537

[`CONVERT`](http://msdn.microsoft.com/en-us/library/ms187928.aspx)像这样使用：

```
CONVERT(VARCHAR(10),
        dateadd(month,[amorted_months],[real_date_start]),
        121) 
```

# android - android将我的活动保持在前端

> ID：13267857
> 
> 赞同：0
> 
> 时间：2012-11-07T10:33:53.863
> 
> 标签：android, android-layout, android-intent

我正在从一个弹出活动中打开一个弹出窗口，比如说（活动 A）我必须开始另一个活动，比如说（活动 B）。场景是我想在其他活动（活动 B）之前打开弹出窗口（活动 A），但在我的实现中，我被限制从我的弹出活动（活动 A）开始活动（活动 B）但弹出（活动 A ）应该是最重要的（活动B）如果有人有一些好的解决方案，请建议我。希望我能让你明白一些。

# android - 进行下一个活动时活动会破坏吗？

> ID：13267858
> 
> 赞同：0
> 
> 时间：2012-11-07T10:33:53.610
> 
> 标签：android, android-lifecycle

我有 2 个活动 A 和 B。当从 A 到 B 时，A 会破坏吗？如果是，是否所有变量（静态或非静态）都清除了？

或者如果不销毁？活动是否会进入某个堆栈？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-07T10:36:24.510

它没有被破坏，它将被移动到堆栈中.. 检查 [http://developer.android.com/training/basics/activity-lifecycle/index.html](http://developer.android.com/training/basics/activity-lifecycle/index.html)

![在此处输入图像描述](../Images/c7cdea878579e7a5a64e768cc240be6f.png)
**正如西蒙在下面所说**：
当您的活动进入堆栈时，变量不会被破坏。但是，一旦某个活动不是活动活动，Android 可能会在不进一步回调您的代码的情况下销毁它。这就是 onPause() 和 onResume() 的用途。您应该保存和恢复在这些方法中维持活动状态所需的任何内容。

对于静态变量（如果进程被终止，则所有静态变量都将重新初始化为其默认值）。检查[公共静态变量和Android活动生命周期管理](https://stackoverflow.com/questions/12189476/public-static-variables-and-android-activity-life-cycle-management)

# ruby-on-rails - Rails 3.2 + Postgres：即使验证失败，也可以保存 has_and_belongs_to_many

> ID：13267860
> 
> 赞同：0
> 
> 时间：2012-11-07T10:33:58.153
> 
> 标签：ruby-on-rails, ruby-on-rails-3, activerecord, ruby-on-rails-3.2, has-and-belongs-to-many

我有一个公司模型：

```
class Company < ActiveRecord::Base
    has_and_belongs_to_many :jobs
    validates :name, presence: true
end 
```

和一个工作模型：

```
class Job < ActiveRecord::Base
    has_and_belongs_to_many :companies
    validates :name, presence: true
end 
```

除了 collection.create 方法外，一切正常。根据[Rails 文档](http://guides.rubyonrails.org/association_basics.html#has_and_belongs_to_many-association-reference)：

> collection.create 方法返回关联类型的新对象。该对象将从传递的属性中实例化，将创建通过连接表的链接，并且一旦它通过关联模型上指定的所有验证，关联对象将被保存。

这对我来说似乎不能正常工作：即使子对象无效（并且验证有效，因为无效模型没有被保存），仍然会创建关联。我创建了这个单元测试来解释我是如何尝试这样做的：

```
test "add invalid job to company" do
  company = FactoryGirl.create(:company_with_job)

  # I also tried:
  # company.jobs << FactoryGirl.build(:job, name: "")
  company.jobs.create({name: ""})
  company.save
  assert_equal 1, company.jobs.size
end 
```

大小改为“2”，如果我检查 company.jobs，我会得到：

```
[#<Job id: 1, name: "My Job 1", created_at: "2012-11-07 10:26:10", updated_at: "2012-11-07 10:26:10">, 
#<Job id: nil, name: "", created_at: nil, updated_at: nil>] 
```

我确定我错过了一些愚蠢的东西，但我一直在努力解决这个问题，似乎无法理解我做错了什么。

谢谢，
克

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T10:46:22.247

`company.jobs`实际上包含两个作业，但一个是持久的，而无效的不是。

你可以测试：

*   `company.jobs.select(&:persisted?).size`

*   `company.reload.jobs.size`

# javascript - 为 UWA.Data.getJson 创建多参数回调函数

> ID：13267861
> 
> 赞同：0
> 
> 时间：2012-11-07T10:34:00.240
> 
> 标签：javascript, widget

我正在使用[NetVibes UWA 小部件框架](http://dev.netvibes.com/doc/uwa/documentation/using_ajax)。

我正在尝试将多个参数传递给我的回调函数，现在看起来像这样：

```
UWA.Data.getJson(List.URL + '?cmd=getCoursesFromSubjects&faculty=' + subject, List.tickCheckboxes); 
```

理想情况下，我想做这样的事情：

```
var checked = ('#input').attr("checked");
UWA.Data.getJson(List.URL + '?cmd=getCoursesFromSubjects&faculty=' + subject, List.tickCheckboxes(data,checked)); 
```

但这不起作用。我查看了其他答案并尝试了“关闭”技术，但后来我`data`的`null`.

这是 UWA 格式的限制还是我只是做错了闭包？

提前致谢，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T11:03:00.957

啊，搞定了。做错了我的关闭。

```
UWA.Data.getJson(List.URL + '?cmd=getSubjectsFromFaculties&faculty=' + faculty, (function(thischecked) {
                  return function(data) {
                     List.tickCheckboxes(data, thischecked);
                  };
               }(checked))
            ); 
```

# sql - 我可以在哪里检查 SSMS 中 SQL Server 2008 中的用户定义表类型？以及如何在其中插入新列？

> ID：13267862
> 
> 赞同：6
> 
> 时间：2012-11-07T10:34:05.983
> 
> 标签：sql, sql-server, sql-server-2008, ssms

我需要在当前列表中添加更多列`user-define table type in SQL Server 2008`

但是我没有在`Tables`.

我到底需要检查哪里以及如何修改现有的设计`user-define table type in SQL Server 2008`

我正在使用`SQL SERVER 2008`和`SSMS`

我可以在哪里找到那张桌子`SSMS`，

这样我就可以去修改表类型了。

谢谢

对于上一个问题的答案

请任何人帮助 sql`alter type table`语法`add column`？如何插入任何新列...因为 ALTER 不起作用.. 它已禁用

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-07T12:54:01.887

> 用户定义的类型在创建后无法修改，因为更改可能会使表或索引中的数据失效。要修改类型，您必须删除该类型然后重新创建它，或者使用 WITH UNCHECKED DATA 子句发出 ALTER ASSEMBLY 语句。有关详细信息，请参阅 [ALTER ASSEMBLY (Transact-SQL)。](http://msdn.microsoft.com/en-us/library/ms186711%28v=sql.105%29.aspx)
> 
> 使用用户定义表类型时的注意事项
> 
> 1.不允许使用默认值。
> 
> 2.主键必须是持久列。
> 
> 3.非持久化计算列不能做检查约束
> 
> 4.不允许使用非聚集索引。
> 
> 5.不能更改。您必须删除并重新创建它。

# java - Spring WS - 在 STS 中一步一步（来自 WSDL）

> ID：13267863
> 
> 赞同：11
> 
> 时间：2012-11-07T10:34:08.947
> 
> 标签：java, web-services, spring, spring-ws

我正在尝试在 Spring Tool Suite (STS) 中创建一个新的 Spring webservice 项目。我检查了这个链接
[http://static.springsource.org/spring-ws/site/reference/html/tutorial.html](http://static.springsource.org/spring-ws/site/reference/html/tutorial.html)
但这并没有很清楚地说明这些步骤。

谁能分享一些有用资源的链接，这些资源逐步展示了如何创建 Spring WS 项目？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-12-29T22:44:10.550

也许这些链接会有所帮助：

[循序渐进 Spring-WS](http://springtips.blogspot.com/2007/07/step-by-step-spring-ws.html)
[Spring Web Services](http://www.javabeat.net/2010/06/introduction-to-spring-web-services/)
[简单 Spring Web Services](http://www.springbyexample.org/examples/simple-spring-web-services.html)
[基础 Spring Web Service 教程从契约到安全](http://jeromebulanadi.wordpress.com/2010/02/25/basic-spring-web-service-tutorial-from-contract-to-security)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-18T14:01:19.267

我发现这篇关于如何使用 Spring 创建简单的 Web 服务的小文章。这符合 Spring 教程。也许这会有所帮助。

[http://codereq.com/spring-web-service-part-1/](http://codereq.com/spring-web-service-part-1/)

谢谢，光辉。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-06-13T23:41:13.230

试试这个。您可以在屏幕截图中看到 IDE 具有著名的 Spring 徽标：[http ://briansjavablog.blogspot.com/2013/01/spring-web-services-tutorial.html](http://briansjavablog.blogspot.com/2013/01/spring-web-services-tutorial.html)

# java - 需要帮助将 TAB 写入 toString 方法

> ID：13267864
> 
> 赞同：1
> 
> 时间：2012-11-07T10:34:14.913
> 
> 标签：java, arrays, eclipse, tostring, jgrasp

```
import java.util.Arrays;
public class example
{

    private int numbers[]; //instance variable
    private String result;

    public example()
    {
        numbers = new int[10];
        Arrays.fill(numbers, 42);
    } 

    public example(int[] array)
    {
        numbers = Arrays.copyOf(array, array.length);
    }

    //get and set methods
     public void setNumbers (int numbers) 
    {
        //setMethod
        this.numbers = new int[numbers];
    }

     public int [] getNumbers()//get method
     {
        return numbers;
     }

    public  String toString()
    {
        String result = new String();
        int i;
        for (i = 0; i < numbers; i++)
            result = result + list[i] + "\n";

    }
} 
```

嘿伙计们，所以我的`toString()`方法有问题。我的`toString()`方法应该返回一个`String`包含我的实例数组的元素，中间有制表符的元素。所以这就是我所拥有的

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-07T10:35:56.680

java中的`TAB`字符表示为：`\t`

所以你需要做的就是在你的代码中替换这个字符：

```
for (i = 0; i < numbers.length; i++)
        result = result + list[i] + "\t"; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T10:39:35.557

制表符可以用字符串表示`"\t"`。这称为*转义序列*，[此处](http://docs.oracle.com/javase/tutorial/java/data/characters.html)记录了一个已定义的集合。

笔记。使用[StringBuilder](http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/StringBuilder.html)来有效地构造您的字符串，然后调用`toString()`它来让您的最终字符串返回是一种很好的做法。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T10:38:55.497

对于`TAB`字符使用`\t`，您的代码存在许多编译错误。

首先我注意到你没有从`toString`方法中返回任何东西，所以它不会编译。您必须返回 a`String`因为方法的返回类型`toString`是`String`

在你的`for`循环中，你正在使用`numbers`（这是你的代码中的一个数组）和`<`运算符，所以它是不正确的，你应该使用`numbers.length`

你应该这样写：

```
public  String toString()
{
        String result = new String();
        for (int i = 0; i < numbers.length; i++)
            result += list[i] + "\t";
        return result; //return the string that you have made.

} 
```

# mysql - 优化没有索引的表的删除查询？

> ID：13267870
> 
> 赞同：1
> 
> 时间：2012-11-07T10:34:26.670
> 
> 标签：mysql, sql, database, relational-database

假设我们有以下表格： r(a, b, c) 其中 a 是某个整数，表格有 50 行 s(d, e, f, a) sa 是 ta 上的外键 每个元组是 400 字节并且 s 是一个多重集，因为这是一个 SQL 数据库。s 拥有大约 100 万个元组。添加表时，数据库服务器会自动在表中的主键列上创建一个索引，例如 t 在 a 上有一个索引。但是，Oracle 不会在作为外键的列上创建索引。所以 s 没有索引。我们想从 t 中删除 15 行。所以这就是我们所做的： 1) 我们从 s 中删除在 t 中具有相同 a 值的行。这需要 10 分钟。2）然后我们运行语句 DELETE FROM t WHERE a IN（我们试图删除的值，确切地说是 15 个）这大约需要 6 个小时。

所以我的猜测是第二步需要很长时间，因为对于 t 中的每个元组，我们将 a 的值与查询列表中的每个值进行比较。那么我们如何优化这个查询以获得相同的结果但更快！？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T10:53:12.983

如果您使用联接对于 CRUD 操作将比使用 IN 或子查询更快

例如：

```
DELETE FROM t 
INNER JOIN S ON t.a = S.a 
```

希望这可以帮助

# java - 独立的 JPanel

> ID：13267882
> 
> 赞同：2
> 
> 时间：2012-11-07T10:35:13.430
> 
> 标签：java, swing, jframe, jpanel, splash-screen

如何创建一个看起来像 JPanel/JLabel 的 JFrame？

我需要一个启动屏幕，当我的程序在显示主窗口之前进行一些计算时会显示它（我知道 Java 中有一个启动屏幕选项，但我需要在加载类之后显示，而不是在加载期间显示）。

我怎样才能创造它？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-07T10:36:58.813

像这样创建一个未装饰的`JFrame`：

```
JFrame frame = new JFrame();
frame.setUndecorated(true); 
```

但是，我建议你使用它，`java.awt.SplashScreen`因为它是一段已经在很多情况下使用和测试过的代码，所以它肯定比你能写的更稳定。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-11-07T10:56:43.523

您不需要 JFrame。这是一个使用 JWindow 的示例。

单击 按钮显示 Spash 屏幕，并通过单击 spash 屏幕将其隐藏。

![闪屏](../Images/5fde6c0287c62659730cf489afa7390f.png)

```
import java.awt.*;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.awt.event.MouseAdapter;
import java.awt.event.MouseEvent;
import java.util.Properties;

import javax.swing.*;

public class Splashing {

    public static void main(String[] args) {
        SwingUtilities.invokeLater(new Runnable() {
            @Override
            public void run() {
                JFrame frame = new JFrame("Splashing");
                JButton splash = new JButton("Splash");
                JPanel orangePanel = new JPanel();
                orangePanel.setBackground(Color.orange);
                frame.getContentPane().add(orangePanel, BorderLayout.CENTER);
                frame.getContentPane().add(splash, BorderLayout.SOUTH);
                splash.addActionListener(new ActionListener() {
                    @Override
                    public void actionPerformed(ActionEvent e) {
                        Splash s = new Splash();
                        s.setVisible(true);
                    }
                });
                frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);
                frame.setMinimumSize(new Dimension(800, 450));
                frame.setLocationRelativeTo(null); // Center
                frame.pack();
                frame.setVisible(true);
            }
        });
    }

    static class Splash extends JWindow {

        private final Properties sysProps = System.getProperties();

        public Splash() {
            super();
            this.setAlwaysOnTop(true);
            initListeners();
            initGUI();
            this.setVisible(false);
        }

        void initListeners() {
            this.addMouseListener(new MouseAdapter() {
                public void mouseClicked(MouseEvent e) {
                    Splash.this.setVisible(false);
                    Splash.this.dispose();
                }
            });
        }

        void initGUI() {
            final Dimension preferredSize = new Dimension(480, 360);
            setPreferredSize(preferredSize);
            setMinimumSize(preferredSize);
            setMaximumSize(preferredSize);

            Dimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();
            this.setLocation((screenSize.width - 480) >> 1, (screenSize.height - 360) >> 1);
            this.pack();
            repaint();
        }

        public void paint(Graphics g) {
            Graphics2D g2 = (Graphics2D) g;
            g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);
            g2.setRenderingHint(RenderingHints.KEY_TEXT_ANTIALIASING, RenderingHints.VALUE_TEXT_ANTIALIAS_ON);
            // TODO Add an appropriate image here
            //g2.drawImage(someImage, 0, 0, this);
            drawAboutText2(g2);
        }

        void drawAboutText2(Graphics2D g2) {
            g2.setFont(new Font("Verdana", Font.PLAIN, 10));
            g2.setColor(new Color(128, 130, 132));
            g2.drawString("All rights reserved", 20, 310);
            g2.drawString("Author: To be decided", 20, 325);
            g2.drawString("http://www.mywebsite.com", 20, 340);

            g2.drawString(getBuild(), 260, 295);
            g2.drawString(getJDK(), 260, 310);
            g2.drawString(getVendor(), 260, 325);
            g2.setColor(new Color(241, 101, 56)); // orange

            g2.drawString(getLicensee(), 260, 340);
        }

        private String getBuild() {
            return "Build# 427 on 15\. June 2006";
        }

        private String getJDK() {
            return "JDK: " + sysProps.getProperty("java.version");
        }

        private String getVendor() {
            return "Vendor: " + sysProps.getProperty("java.vendor");
        }

        private String getLicensee() {
            return "Licensee: " + "John Doe";
        }
    }
} 
```

# javascript - 使用 Greasemonkey 在 Div 下添加新链接

> ID：13267887
> 
> 赞同：1
> 
> 时间：2012-11-07T10:35:29.863
> 
> 标签：javascript, greasemonkey, userscripts

我想添加一个类似于这些的新链接：

```
<a href="/profile/viewallthread/2323">More Threads by Username</a> 
```

添加 ：

```
<div class="author vcard" itemscope="" itemtype="http://schema.org/Person" itemprop="author">
  <div class="user-details open" itemprop="name">
     <a href="/profile/2323" class="nickname url tools"> Username </a>
       <div class="user-info">
         <a href="/profile/2323">View Public Profile</a> 
         <a href="/profile/beafriend/2323">Add Friend</a> 
         <a href="/pm/compose/2323">Send a private message</a> 
         <a href="/profile/viewallposts/2323">More Posts by Username</a>\

         //add link here

      </div>
  </div>
</div> 
```

userscript.js（参考：[更新页面以使用 Greasemonkey 添加新链接](https://stackoverflow.com/questions/6314157/update-page-to-add-new-link-using-greasemonkey)）

```
// ==UserScript==
// @name       My Fancy New Userscript
// @namespace  http://use.i.E.your.homepage/
// @version    0.1
// @description  enter something useful
// @include *.domain.com/*
// @copyright  2012+, You
// ==/UserScript==

var adduserinfo  = $("div.author vcard div.user-info > a");

adduserinfo.each (function () {
    var jThis       = $(this);
    var UserID     = jThis.attr ('href').replace (/\D+(\d+)$/, '$1');
    jThis.parent ().append ('<a href="/profile/viewallthreads/' + UserID + ' ">More Threads by ' + Username +'</a>');

} ); 
```

但不工作..任何解决方案？谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T10:47:18.347

[多个](https://stackoverflow.com/questions/6280119/jquery-hasclass-for-multiple-classes)类的 jQuery 选择器是`.class1.class2`

即尝试

```
var adduserinfo = $("div.author.vcard  div.user-info > a"); 
```

jsFiddle[在这里](http://jsfiddle.net/va7W5/)

但是，我不太确定您为什么要`foreach`覆盖所有现有`a`元素？

# java - javax.naming.NoInitialContextException 使用 JNDI

> ID：13267891
> 
> 赞同：1
> 
> 时间：2012-11-07T10:35:45.853
> 
> 标签：java, jndi

我正在尝试使用 JNDI 连接 mysql。但它显示了一个例外

`javax.naming.NoInitialContextException: Need to specify class name in environment or system property, or as an applet parameter, or in an application resource file:`

查看我的代码：

```
 VendorDataSource vds = new VendorDataSource();
    vds.setServerName("localhost");
    vds.setDatabaseName("jnditest");
    vds.setDescription("The data source for inventory and personnel");

    try {
            ctx = new InitialContext();
        ctx.bind("jdbc/myds", vds);

    } catch (NamingException e1) {

        e1.printStackTrace();
    }

    try {
        ctx = new InitialContext();
        DataSource ds = (DataSource)ctx.lookup("jdbc/myds");
        Connection conn = ds.getConnection("root", "password");

    } catch (NamingException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    } catch (SQLException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    } 
```

和错误信息：

```
javax.naming.NoInitialContextException: Need to specify class name in environment or system property, or as an applet parameter, or in an application resource file:  java.naming.factory.initial
    at javax.naming.spi.NamingManager.getInitialContext(Unknown Source)
    at javax.naming.InitialContext.getDefaultInitCtx(Unknown Source)
    at javax.naming.InitialContext.getURLOrDefaultInitCtx(Unknown Source)
    at javax.naming.InitialContext.bind(Unknown Source)
    at samplemariadb.DataSourceConnectivity.main(DataSourceConnectivity.java:33) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T10:49:31.040

通常您需要指定从何处获取 InitialContext（以及您将使用的 jndi 树的位置）

你可以通过两种方式做到这一点：

```
Hashtable env = new Hashtable();
env.put(Context.INITIAL_CONTEXT_FACTORY, 
    "<initialContextFactory>");
env.put(Context.PROVIDER_URL, "<url>");
env.put(Context.SECURITY_PRINCIPAL, "<user>");
env.put(Context.SECURITY_CREDENTIALS, "<password>");
ctx = new InitialContext(env); 
```

或创建一个 jndi.properties 并将其放在您的类路径中：

```
java.naming.factory.initial=<initialContextFactory>
java.naming.provider.url=<url>
java.naming.security.principal=<user>
java.naming.security.credentials=<password> 
```

在您的情况下，它抱怨是因为缺少 INITIAL_CONTEXT_FACTORY （这取决于您使用的 Java EE 服务器）。

希望能帮助到你

# magento - Magento 在搜索产品目录搜索时出错

> ID：13267892
> 
> 赞同：0
> 
> 时间：2012-11-07T10:35:48.113
> 
> 标签：magento, search

我是一名 magento 开发人员，遇到了一个问题。
当我在主页上名为“ `Search entire store`”的搜索框中键入任何产品时，问题出在目录搜索中。它给了我“ `There has been an error processing your request`”，并出现以下错误

```
a:5:{i:0;s:94:"Invalid method Mage_Catalog_Block_Layer_Filter_Category::shouldDisplayProductCount(Array
(
)
)";i:1;s:4501:"#0 /home/furqan/projects/nashuatech-new/development/code/app/design/frontend/default/a015/template/catalog/layer/filter.phtml(42): Varien_Object->__call('shouldDisplayPr...', Array)
#1 /home/furqan/projects/nashuatech-new/development/code/app/design/frontend/default/a015/template/catalog/layer/filter.phtml(42): Mage_Catalog_Block_Layer_Filter_Category->shouldDisplayProductCount()
#2 /home/furqan/projects/nashuatech-new/development/code/app/code/core/Mage/Core/Block/Template.php(241): include('/home/furqan/pr...')
#3 /home/furqan/projects/nashuatech-new/development/code/app/code/core/Mage/Core/Block/Template.php(272): Mage_Core_Block_Template->fetchView('frontend/defaul...')
#4 /home/furqan/projects/nashuatech-new/development/code/app/code/core/Mage/Core/Block/Template.php(286): Mage_Core_Block_Template->renderView()
#5 /home/furqan/projects/nashuatech-new/development/code/app/code/core/Mage/Catalog/Block/Layer/Filter/Abstract.php(136): Mage_Core_Block_Template->_toHtml()
#6 /home/furqan/projects/nashuatech-new/development/code/app/design/frontend/default/a015/template/catalog/layer/view.phtml(51): Mage_Catalog_Block_Layer_Filter_Abstract->getHtml()
#7 /home/furqan/projects/nashuatech-new/development/code/app/code/core/Mage/Core/Block/Template.php(241): include('/home/furqan/pr...')
#8 /home/furqan/projects/nashuatech-new/development/code/app/code/core/Mage/Core/Block/Template.php(272): Mage_Core_Block_Template->fetchView('frontend/defaul...')
#9 /home/furqan/projects/nashuatech-new/development/code/app/code/core/Mage/Core/Block/Template.php(286): Mage_Core_Block_Template->renderView()
#10 /home/furqan/projects/nashuatech-new/development/code/app/code/core/Mage/Core/Block/Abstract.php(863): Mage_Core_Block_Template->_toHtml()
#11 /home/furqan/projects/nashuatech-new/development/code/app/code/core/Mage/Core/Block/Text/List.php(43): Mage_Core_Block_Abstract->toHtml()
#12 /home/furqan/projects/nashuatech-new/development/code/app/code/core/Mage/Core/Block/Abstract.php(863): Mage_Core_Block_Text_List->_toHtml()
#13 /home/furqan/projects/nashuatech-new/development/code/app/code/core/Mage/Core/Block/Abstract.php(582): Mage_Core_Block_Abstract->toHtml()
#14 /home/furqan/projects/nashuatech-new/development/code/app/code/core/Mage/Core/Block/Abstract.php(526): Mage_Core_Block_Abstract->_getChildHtml('left', true)
#15 /home/furqan/projects/nashuatech-new/development/code/app/design/frontend/default/a015/template/page/3columns.phtml(26): Mage_Core_Block_Abstract->getChildHtml('left')
#16 /home/furqan/projects/nashuatech-new/development/code/app/code/core/Mage/Core/Block/Template.php(241): include('/home/furqan/pr...')
#17 /home/furqan/projects/nashuatech-new/development/code/app/code/core/Mage/Core/Block/Template.php(272): Mage_Core_Block_Template->fetchView('frontend/defaul...')
#18 /home/furqan/projects/nashuatech-new/development/code/app/code/core/Mage/Core/Block/Template.php(286): Mage_Core_Block_Template->renderView()
#19 /home/furqan/projects/nashuatech-new/development/code/app/code/core/Mage/Core/Block/Abstract.php(863): Mage_Core_Block_Template->_toHtml()
#20 /home/furqan/projects/nashuatech-new/development/code/app/code/core/Mage/Core/Model/Layout.php(529): Mage_Core_Block_Abstract->toHtml()
#21 /home/furqan/projects/nashuatech-new/development/code/app/code/core/Mage/Core/Controller/Varien/Action.php(391): Mage_Core_Model_Layout->getOutput()
#22 /home/furqan/projects/nashuatech-new/development/code/app/code/core/Mage/CatalogSearch/controllers/ResultController.php(80): Mage_Core_Controller_Varien_Action->renderLayout()
#23 /home/furqan/projects/nashuatech-new/development/code/app/code/core/Mage/Core/Controller/Varien/Action.php(420): Mage_CatalogSearch_ResultController->indexAction()
#24 /home/furqan/projects/nashuatech-new/development/code/app/code/core/Mage/Core/Controller/Varien/Router/Standard.php(250): Mage_Core_Controller_Varien_Action->dispatch('index')
#25 /home/furqan/projects/nashuatech-new/development/code/app/code/core/Mage/Core/Controller/Varien/Front.php(176): Mage_Core_Controller_Varien_Router_Standard->match(Object(Mage_Core_Controller_Request_Http))
#26 /home/furqan/projects/nashuatech-new/development/code/app/code/core/Mage/Core/Model/App.php(349): Mage_Core_Controller_Varien_Front->dispatch()
#27 /home/furqan/projects/nashuatech-new/development/code/app/Mage.php(640): Mage_Core_Model_App->run(Array)
#28 /home/furqan/projects/nashuatech-new/development/code/index.php(80): Mage::run('', 'store')
#29 {main}";s:3:"url";s:32:"/index.php/catalogsearch/result/";s:11:"script_name";s:10:"/index.php";s:4:"skin";s:7:"default";} 
```

任何帮助将不胜感激 问候， Furqan Ahmed

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T10:41:13.327

我的猜测是，您正在使用带有函数的主题来计算搜索结果，而该方法未定义，因此出现错误““Invalid method Mage_Catalog_Block_Layer_Filter_Category:: **shouldDisplayProductCount** ”

尝试默认主题，看看它是否有效。

# asp.net - 将重点放在回发上

> ID：13267900
> 
> 赞同：1
> 
> 时间：2012-11-07T10:36:16.937
> 
> 标签：asp.net

我的网站上有一个网络表单中的预订表格。

3 个选项启用了自动回发。问题是当一个被触发时，页面从顶部重新加载。

如何从执行回发的选项重新加载？

我确定有一个简单的解决方案？

敬茶

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-07T10:39:40.860

设置[`MaintainScrollPositionOnPostback`](http://msdn.microsoft.com/en-us/library/system.web.ui.page.maintainscrollpositiononpostback.aspx)为`true`。

1.  您可以以编程方式设置它

    ```
    Page.MaintainScrollPositionOnPostBack = true; 
    ```

2.  在页面声明中

    ```
    <%@ Page MaintainScrollPositionOnPostback="true" %> 
    ```

3.  或者在 web.configs`<system.web>`部分。

    ```
    <pages maintainScrollPositionOnPostBack="true" /> 
    ```

另一种选择是使用异步回发，例如 ASP.NET Ajax Control Toolkit。然后只有某些区域用 javascript 重新加载，而不是整个页面。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T10:40:50.803

您可以使用会话变量来做到这一点。

在回发控件触发的事件中，执行类似的操作

```
session('Focused_Control') = sender; 
```

那么当你想在回发后将焦点返回到控件时

```
Option myOption = session('Focused_Control');
myOption.Focus(); 
```

# android - 在 Android 中使用 Lazy Loader 时 GalleryView 中的图像质量损失

> ID：13267907
> 
> 赞同：2
> 
> 时间：2012-11-07T10:36:26.147
> 
> 标签：android, lazy-loading, image-gallery, android-gallery, image-quality

我在我的 android 应用程序中使用 Gallery View。所有图像都来自 url，所以我使用 LazyLoader 在 GalleryView 中进行图像加载。画廊完全填充。但它失去了图像质量..我想在没有图像质量损失的情况下填充画廊..请帮助我..

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-07T10:52:30.487

如果你在谈论 Fedor 的延迟加载，解决方案就在这里：

```
//Find the correct scale value. It should be the power of 2.
final int REQUIRED_SIZE=70;
int width_tmp=o.outWidth, height_tmp=o.outHeight;
int scale=1;
while(true){
    if(width_tmp/2<REQUIRED_SIZE || height_tmp/2<REQUIRED_SIZE)
        break;
    width_tmp/=2;
    height_tmp/=2;
    scale*=2;
} 
```

这是从第 96 行到第 106 行：[https](https://github.com/thest1/LazyList/blob/master/src/com/fedorvlasov/lazylist/ImageLoader.java) ://github.com/thest1/LazyList/blob/master/src/com/fedorvlasov/lazylist/ImageLoader.java 。我正在链接它，以便您可以从源代码中检查代码并与您的代码进行比较。

您需要在此处更改此位：`final int REQUIRED_SIZE=`**70**。请注意，此数字需要 2 的**幂**。使用默认值**70**，您将获得小图像，当用于需要显示更大图片的应用程序时，它们看起来会失真。玩弄它，直到您对结果感到满意为止。

这应该为您解决问题。

# c++ - Boost智能指针和std智能指针有什么区别？

> ID：13267908
> 
> 赞同：15
> 
> 时间：2012-11-07T10:36:26.897
> 
> 标签：c++, pointers, boost, std

所以，我想使用智能指针而不是原始指针，并且几乎所有关于 SO 的主题都提到了 Boost 库。但是 std 有 和 之类的`std::auto_ptr`东西`std::shared_ptr`。为什么要升压？有什么不同？

这不是关于实现差异的问题，而是关于使用 Boost 指针的原因。我想，给定的答案，包括回答日期和上下文，是相当有用的。它有助于理解如何将 Boost 指针添加到 std。

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2012-11-07T10:39:07.490

基本上Boost`shared_ptr`首先做到了。您可能会注意到 C++11 中的许多新容器类很久以前就在 Boost 中。我希望这种模式在 C++ 标准的下一个修订版中也能继续下去。Boost 支持不支持 C++11 的旧 C++ 编译器，这是一个很大的好处。

顺便说一句，`std::auto_ptr`在 C++11 中已弃用，它引入了`std::shared_ptr`，`std::unique_ptr`相反，它们都更有用。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-11-07T10:48:49.487

查看以下 stackoverflow 问题：

1.  [标准 <memory> 文件中 boost::shared_ptr 和 std::shared_ptr 之间的区别](https://stackoverflow.com/questions/4902313/difference-between-boostshared-ptr-and-stdshared-ptr-from-the-standard-memo)
2.  [不同风格的 shared_ptr 之间的差异](https://stackoverflow.com/questions/1086798/differences-between-different-flavours-of-shared-ptr)

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-11-07T10:40:19.863

嗯，`std::shared_ptr`并且`boost:shared_ptr`都是引用计数指针。相反 std::auto_ptr 的工作方式非常不同。`std::shared_ptr`和之间的差异`boost:shared_ptr`非常小，而且主要是历史上的。在 C++11 之前，没有`std::shared_ptr`而且只有`boost:shared_ptr`. 在设计 C++11 时，他们将`boost:shared_ptr`其作为模型。

您提到的所有智能指针的共同点是它们都有自己的机制来确保正确完成点的生命周期管理。`auto_ptr`这样如果你有多个实例，`auto_ptr`那么只有其中一个包含指向真实对象的指针。`auto_ptr`每当您从另一个创建一个时`auto_ptr`，新的将指向该对象而旧的指向`NULL`。另一方面，`shared_ptr`可以有多个`shared_ptr`实例共享同一个对象，只有当最后一个实例超出范围时，才会删除该对象。

在 C++11 中，有一个与 类似的指针类型`std::auto_ptr`，即`std::unique_ptr`，但有一些重要的区别，另请参见 [std::auto_ptr 到 std::unique_ptr](https://stackoverflow.com/questions/3451099/stdauto-ptr-to-stdunique-ptr)。

参考：

*   [http://www.cplusplus.com/reference/std/memory/auto_ptr/](http://www.cplusplus.com/reference/std/memory/auto_ptr/)
*   [http://en.cppreference.com/w/cpp/memory/shared_ptr](http://en.cppreference.com/w/cpp/memory/shared_ptr)
*   [http://www.boost.org/doc/libs/1_52_0/libs/smart_ptr/shared_ptr.htm](http://www.boost.org/doc/libs/1_52_0/libs/smart_ptr/shared_ptr.htm)
*   [http://en.cppreference.com/w/cpp/memory/unique_ptr](http://en.cppreference.com/w/cpp/memory/unique_ptr)

# java - 在 MS SQL 服务器上恢复 .bak

> ID：13267909
> 
> 赞同：0
> 
> 时间：2012-11-07T10:36:29.253
> 
> 标签：java, sql-server-2008

我们有可以从命令行执行的恢复命令。我想从 Java 类恢复备份。我该怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T10:46:28.497

您可以从 Java 代码运行系统命令。

最好的方法是[使用`ProcessBuilder`类](http://docs.oracle.com/javase/7/docs/api/java/lang/ProcessBuilder.html)。

# c++ - 来自内置类型的python转换器

> ID：13267912
> 
> 赞同：2
> 
> 时间：2012-11-07T10:36:32.520
> 
> 标签：c++, python, boost-python

内置类型（例如 from `PyLong_Type`to ）的 python 转换器的 boost python 寄存器在哪里`double`？

我想定义一个转换器，它可以`numpy.float128`从 python 中获取一个并返回一个`long double`用于 C++ 中的函数。我已经反其道而行之，即 to_python 转换器。为此我进行了调整`builtin_converters.hpp`，但我没有发现 boost python 是如何进行 from python 转换的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-13T15:48:32.243

from python 转换实际上是在`builtin_converters.cpp`而不是在库的标题部分中完成的。我复制了这个文件并删除了除转换器之外的所有内容`long double`，然后我可以对其进行修改。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-02-20T22:29:15.617

我将添加到这个答案中，尽管问题略有不同：

*如何将 Python 类型对象（`PyTypeObject`例如`PyLong_Type`、`PyBool_Type`、`PyUnicode_Type`等）转换为`boost::python::object`？*

似乎这工作正常：

```
namespace bp = boost::python;

bp::object float_Type = bp::borrowed(
                            bp::downcast<PyTypeObject>(&PyFloat_Type)))); 
```

结果是您可以通过 Boost Python 对象向 Python 公开实际类型对象。

# c# - mvc3 Razor foreach 循环问题

> ID：13267914
> 
> 赞同：0
> 
> 时间：2012-11-07T10:36:42.130
> 
> 标签：c#, asp.net-mvc-3, razor

嗨，我有以下代码，但循环中的 if 语句导致语句失败，请问有什么想法吗？

```
@{ var count = 1; }
@foreach (var siteIcon in Model.SiteIconsList)
{
    <div class="span2">
        <a onclick="updateIcon(@siteIcon.ImageId)" href='#'>
            <img class="iconImage" src="data:Image;base64,@(Html.Raw(Convert.ToBase64String(siteIcon.ImageData)))" alt="" />
        </a>
    </div>
    if(count==5){
        </div>
         <div class="row-fluid">
         count=1;
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T11:20:02.210

似乎是关闭 divs 混淆剃须刀。为了阻止这种情况，我通过将新的打开和关闭 div 包装在一个阻止它们被解析的 htmlstring 中来使其工作，并且我还对计数器进行了更正。

```
 <div class="row-fluid">
                @{
                    var count = 1;
                    foreach (var siteIcon in Model.SiteIconsList)
                    {
                        <div class="span2">
                                <a onclick="  updateIcon(@siteIcon.ImageId)" href='#'>
                                    <img class="iconImage" src="data:Image;base64,@(Html.Raw(Convert.ToBase64String(siteIcon.ImageData)))" alt="" />
                                </a>
                            </div>
                        if (count == 5)
                        {
                            @(new HtmlString("</div><div class=\"row-fluid\">"))
                            count = 0;
                        }
                        count = count + 1;
                    }
                }
     </div> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T10:41:28.640

您的 div 格式不正确，它们之前关闭并稍后打开，请检查此

```
</div>
<div class="row-fluid"> 
```

相反，您可以这样做

```
if(count==5){

<div class="row-fluid"> </div>
count=1;

} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T10:41:40.717

尝试这个：

```
 @foreach (var siteIcon in Model.SiteIconsList)
            {
                <div class="span2">
                    <a onclick="updateIcon(@siteIcon.ImageId)" href='#'>
                        <img class="iconImage" src="data:Image;base64,@(Html.Raw(Convert.ToBase64String(siteIcon.ImageData)))" alt="" />
                    </a>
                </div>
                if(count==5){

                     <div class="row-fluid">
                     </div>
                    count=1;
                }
            } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-07T10:42:11.930

首先，您不会在循环结束时增加计数，因此永远不会满足条件。

最好将 Foreach 更改为 For，如下所示：

```
for(int i=0; i<Model.SiteIconsList.Count;i++) 
```

```
 if(i==5){
                    <text></div>
                     <div class="row-fluid"></text>
                     count=1;
                }
            } 
```

当它失败时你会得到什么信息？您可能需要使用 重新进入 html 呈现模式

# php - 复制 Ajax 请求函数，调用 php 函数，菜鸟的东西

> ID：13267917
> 
> 赞同：0
> 
> 时间：2012-11-07T10:36:51.043
> 
> 标签：php, javascript, jquery, ajax, wordpress

我找到了一个 JS-Jquery 文件，几乎可以满足我的需要。如果您单击复选框，它会调用一个 php 函数。现在我想添加另一个复选框来调用另一个 php 函数。

所以我试图复制该功能。并更改值，但这不起作用。

我相信您会在 1-2 秒内看到错误，因此感谢您在[JS-Fiddle](http://jsfiddle.net/JszZ9/3/)中的简短查看！

这部分我想复制，也可以在 JS-Fiddle 中查看我的尝试

```
$('input[name="ive-read-this"]').change(function (evt) {
    alert("markiere als gelesen.");

    // We can retrieve the ID of this post from the <article>'s ID. 
    // This will be required
    // so that we can mark that the user has read this particular post and 
    // we can hide it.
    var sArticleId, iPostId;

    // Get the article ID and split it - the second index is always 
    // the post ID in twentyeleven
    sArticleId = $("article").attr('id');
    iPostId = parseInt(sArticleId.split('-')[1]);

    // Initial the request to mark this this particular post as read
    $.post(ajaxurl, {        
        action:  'mark_as_read',
        post_id: iPostId      
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-12T08:34:57.117

我只是忘了添加这个：

add_action（'wp_ajax_mark_as_unread'，数组（&$this，'mark_as_unread'））；

所以解决了！问候

# oracle - 春季安全登录不适用于oracle

> ID：13267920
> 
> 赞同：0
> 
> 时间：2012-11-07T10:37:02.440
> 
> 标签：oracle, spring, hibernate, spring-mvc, spring-security

我正在使用 jdbc-user-service 进行春季安全登录。它在 Mysql 上工作，但不在 oracle 上。我正在使用 oracle 11 XE。

我在标签中提到的查询是正确的，因为当我在 oracle 控制台上运行这些查询时，它们会返回预期的行。

数据源是：

```
<bean id="dataSource"
    class="org.springframework.jdbc.datasource.DriverManagerDataSource">
    <property name="driverClassName" value="${jdbc.driver}" />
    <property name="url" value="${datasource.url}" />
    <property name="username" value="${jdbc.user}" />
    <property name="password" value="${jdbc.password}" />
</bean> 
```

在 sessionFactory bean hibernate dialect for oracle 中给出。

```
<prop key="hibernate.dialect">org.hibernate.dialect.Oracle10gDialect</prop> 
```

相同的代码适用于 mysql 而不适用于 oracle。应用程序控件被重定向到我在 spring 安全文件中设置的登录页面。这意味着它正在正确获取用户名和密码。

```
<form-login login-page="/landing" default-target-url="/home"
        authentication-failure-url="/landing?msg=cw" /> 
```

spring security xml 中的身份验证提供程序代码是：

```
<authentication-manager>
    <authentication-provider>
    <jdbc-user-service data-source-ref="dataSource"
            users-by-username-query=" 
    select USERNAME as username, PASSWORD as password,'true' as enabled from 
    users where USERNAME=?"

            authorities-by-username-query=" select u.USERNAME 
    as username, r.ROLE as authority from users u, roles r, user_roles 
    ur where u.USER_ID = ur.USER_ID and ur.ROLE_ID = r.id and u.USER_ID = (SELECT 
    USER_ID from users where USERNAME = ?)" />

    </authentication-provider>
</authentication-manager> 
```

为了在 Spring Security 中使用 oracle，是否需要进行任何配置？

更新：我设置了 spring 安全调试，这是我尝试登录后打印的内容。

```
INFO : Spring Security Debugger - 

************************************************************

Request received for '/j_spring_security_check':

org.apache.catalina.connector.RequestFacade@7262b6

servletPath:/j_spring_security_check
pathInfo:null

  Security filter chain: [
  ConcurrentSessionFilter
  SecurityContextPersistenceFilter
  LogoutFilter
  UsernamePasswordAuthenticationFilter
  BasicAuthenticationFilter
  RequestCacheAwareFilter
  SecurityContextHolderAwareRequestFilter
  AnonymousAuthenticationFilter
  SessionManagementFilter
  ExceptionTranslationFilter
  FilterSecurityInterceptor
]

************************************************************

INFO : Spring Security Debugger - 

************************************************************

Request received for '/landing?msg=cw':

org.apache.catalina.connector.RequestFacade@bf1a4a

servletPath:/landing
pathInfo:null

Security filter chain: [
ConcurrentSessionFilter
SecurityContextPersistenceFilter
LogoutFilter
UsernamePasswordAuthenticationFilter
BasicAuthenticationFilter
RequestCacheAwareFilter
SecurityContextHolderAwareRequestFilter
AnonymousAuthenticationFilter
SessionManagementFilter
ExceptionTranslationFilter
FilterSecurityInterceptor
]

************************************************************ 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-09-10T04:11:01.373

我遇到了同样的问题，经过数小时的研究，我找到了解决方案。Spring Security 的用户详细信息需要一个布尔值启用，而 Oracle 上的“真”不起作用。我修复它替换这个：

```
users-by-username-query=" 
select USERNAME as username, PASSWORD as password,'true' as enabled from 
users where USERNAME=?" 
```

对此：

```
users-by-username-query=" 
select USERNAME as username, PASSWORD as password,1 as enabled from 
users where USERNAME=?" 
```

有用！。[我在这里](https://groups.google.com/forum/#!topic/spring-user-group-peru/BkN7cLggHhU)找到了解决方案。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T10:44:57.557

确保您的类路径中有 ojdbc6.jar 或 ojdbc14.jar（待定的 Oracle 版本）。

# python - python - 为什么不能将元组中的字符串作为字段名插入SQLlite3中的表更新命令中的字段名？

> ID：13267922
> 
> 赞同：0
> 
> 时间：2012-11-07T10:37:04.563
> 
> 标签：python, sqlite, tuples

当我尝试使用元组中的字符串值作为我的 executemany() 命令中的列名时，如下所示：

```
tup = ('field', 'value',)

cursor.executemany('UPDATE table SET ?=?', tup) 
```

我得到一个 SQlite.operationalerror：

```
 c.executemany('''UPDATE table SET ?=?''', tup)
sqlite3.OperationalError: near "?": syntax error 
```

什么时候不能在'='之前和之后才插入元组值？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-07T10:39:08.063

因为 SQL 参数表示一个文字值，需要引用以保护它不被解释为 SQL 表或列名或文字。

换句话说，您的`field`价值将被引用：

```
UPDATE table SET "field"="value" 
```

代替

```
UPDATE table SET field="value" 
```

您必须自己清理值`field`以确保*它只*包含一个字段名称，然后自己插入它：

```
'UPDATE table SET %s=?' % ('field',) 
```

消毒是一个难题；您也许应该使用像[SQLAlchemy](http://www.sqlalchemy.org/)这样的框架来以理智的方式为您生成 SQL。

# android - android中的Web视图未在文档导航中使用

> ID：13267923
> 
> 赞同：0
> 
> 时间：2012-11-07T10:37:16.720
> 
> 标签：android, html, webview

所以我在 android 中构建一个简单的应用程序，其中包含一个包含大量数据的 webview，这就是我在带有链接的页面导航中实现的原因。我正在使用类似的东西：

```
 <a name="top">Web start</a></br>
  <a href="#title1" class="a1">title1</a></br>
  <a href="#title2" class="a1">titel2</a>
  Title 1 <a href="#top">Go to top</a>
  a lot of text
  Title 2 <a href="#top">Go to top</a> 
```

当我单击顶部的链接时它工作正常，它会将我带到 title1 或 title2，如果我然后单击转到顶部它可以工作，但是如果我向下滚动到 title1 或 title2 并推到顶部它不起作用，当我尝试在浏览器中加载 html 它工作正常。有任何想法吗？

所以要清楚，如果我滚动它只是不起作用，如果我使用链接我可以回到顶部。

# python - 使用 python 使用 hadoop 处理 xml 文件

> ID：13267925
> 
> 赞同：0
> 
> 时间：2012-11-07T10:37:24.080
> 
> 标签：python, xml, hadoop

我正在使用 python 和 hadoop 来处理 xml 文件，我有以下格式的 xml 文件

**临时.xml**

```
<report>
<report-name name="ALL_TIME_KEYWORDS_PERFORMANCE_REPORT"/>
<date-range date="All Time"/>
  <table>
    <columns>
       <column name="campaignID" display="Campaign ID"/>
       <column name="adGroupID" display="Ad group ID"/>
       <column name="keywordID" display="Keyword ID"/>
       <column name="keyword" display="Keyword"/>
    </columns>
    <row campaignID="79057390" adGroupID="3451305670" keywordID="3000000" keyword="Content"/>
    <row campaignID="79057390" adGroupID="3451305670" keywordID="3000000" keyword="Content"/>
    <row campaignID="79057390" adGroupID="3451305670" keywordID="3000000" keyword="Content"/>
    <row campaignID="79057390" adGroupID="3451305670" keywordID="3000000" keyword="Content"/>
  </table>
</report> 
```

现在我要做的就是处理上面的 xml 文件，然后将数据保存到 MSSQL 数据库中。

**mapper.py**代码

```
import sys
import cStringIO
import xml.etree.ElementTree as xml

if __name__ == '__main__':
    buff = None
    intext = False
    for line in sys.stdin:
        line = line.strip()
        if line.find("<row>") != -1:
            intext = True
            buff = cStringIO.StringIO()
            buff.write(line)
        elif line.find("</>") != -1:
            intext = False
            buff.write(line)
            val = buff.getvalue()
            buff.close()
            buff = None
            print val 
```

在这里，我要做的就是从中获取数据并打印它们`row tags`的值，`campaignID,adgroupID,keywordID,keyword`然后将它们作为输入`reducer.py`（包括将数据保存在数据库中的代码）。

我看过一些例子，但标签就像`<tag> </tag>`，但就我而言，我只有`<row/>`

但是我上面的代码不起作用/不打印任何东西，任何人都可以更正我的代码并添加必要的python代码来从行标签中获取值/数据（我对hadoop非常非常陌生），这样可以扩展下次的代码。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T11:06:55.937

您是否考虑过使用 xpath？它是一种迷你语言，可用于绕过 xml 树。它可以在 python 中轻松使用。

[http://docs.python.org/2/library/xml.etree.elementtree.html](http://docs.python.org/2/library/xml.etree.elementtree.html)可能对你有用

您可能还想查看[在 ElementTree 中使用 XPath 的需要帮助](https://stackoverflow.com/questions/1319385/need-help-using-xpath-in-elementtree)

这是我的做法（这是有效的 Python 代码。我在 Python3.2 中对其进行了测试。适用于您的示例 xml）：

```
import xml.etree.ElementTree as xml #you had this line in your code. I am not using any tool you  do not have access to in your script

def get_row_attributes(the_xml_as_a_string):
    """
    this function takes xml as a string. 
    It can work with xml that looks like your included example xml.
    This function returns a list of dictionaries. Each dictionary is made up of the attributes of each row. So the result looks like:
     [
          {attribute_name:value_for_first_row,attribute_name:value_for_first_row...},
          {attribute_name:value_for_second_row,attribute_name:value_for_second_row...},
          etc
     ]
    """
    tree = xml.fromstring(the_xml_as_a_string)
    rows = tree.findall('table/row')  # 'table/row' is xpath. it means get all the rows in all the tables
    return [row.attrib for row in rows] 
```

要使用此函数，请读取 std in 并构建一个字符串。称呼`get_row_attributes(the_xml_as_a_string)`

生成的字典包含您请求的信息（行的属性）。

所以现在我们有

1.  从标准输入读取内容
2.  获取所有行的所有信息

全部使用完全正常的python

最后要做的是将其写入您的其他进程。如果您需要这部分的帮助，请提供有关数据应该采用什么格式以及应该去哪里的信息

# jsf - JSF - 提交时触发方法

> ID：13267933
> 
> 赞同：1
> 
> 时间：2012-11-07T10:38:10.837
> 
> 标签：jsf, omnifaces

我在我的新 JSF 2.1 应用程序中使用复合、标记或自定义组件。

我仍然经常忽略继续使用这项技术的正确（或至少推荐）方法。

我希望我的组件在用户单击“保存”按钮时执行一些操作。实际上，保存按钮是 Primefaces 命令按钮。

所以，我正在使用按钮代码，例如：

```
<p:commandButton id="example" type="submit" value="Confirmer les modifications" process="targetComponent" update="<compoents to update list>">
    <f:param name="save" value="true>
</p:commandButton> 
```

对于“保存”按钮和我的组件，我使用 preRenderComponent 来触发 handleSubmit 支持 bean 方法：

```
<f:event type="preRenderComponent" listener="#{myBeautifulBean.handleSubmit}"/> 
```

handleSumit 看起来像：

```
public void handleSubmit() {
    FacesContext context = FacesContext.getCurrentInstance();
    String saveMandats = JSFUtils.getRequestParameter("save");
    if(context.isPostback() && !context.isValidationFailed() && (saveMandats != null) && !saveMandats.isEmpty())
        confirmeModifsSelection();
} 
```

这***行得通***。

阅读stackoverflow并尝试遵循@BalusC的建议，我正在使用omnifaces（1.2）并尝试使用postInvokeAction事件，原因在[OmniFaces`InvokeActionEventListener`展示](http://showcase.omnifaces.org/eventlisteners/InvokeActionEventListener)中进行了解释。

所以，我将我的事件标签更改为：

```
<f:event type="postInvokeAction" listener="#{myBeautifulBean.handleSubmit}"/> 
```

...并且 myBeautifulBean.handleSubmit 永远不会被调用。

当然，我将omnifaces 作为依赖项，而其他组件（验证器等）则可以正常工作。InvokeActionListener 已正确初始化（或者在我看来是这样）。

postInvokeAction 是否应该在特定时间注册？我注意到在omnifaces 示例中，{pre|post}InvokeAction 事件总是在 f:metadata 标记中声明为子项。

我发现了很多在 f:metadata 之外声明 preRenderView 事件的示例，例如：[http ://www.mkyong.com/jsf2/jsf-2-prerenderviewevent-example/](http://www.mkyong.com/jsf2/jsf-2-prerenderviewevent-example/)

顺便说一句，如果我这样做是完全错误的，我会很高兴学习你的智慧。但我想避免：

*   由 ap:commandButton 动作处理程序触发支持 bean 方法的链调用；
*   将每个此类动作处理程序声明为 commandButton 的 af:actionListener 子项。

我正在寻找一种更面向事件的方式。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T11:03:35.933

[`InvokeActionEventListener`如展示柜](http://showcase.omnifaces.org/eventlisteners/InvokeActionEventListener)中所述和所示，此事件仅适用于`UIViewRoot`、`UIForm`和。所以如果你想要一个通用的钩子（在视图上），那么你需要把它放在. 这需要通过将其放置在.`UIInput``UICommand``UIViewRoot``<f:metadata>`

并且不需要特定的父组件，您实际上可以将它放置在视图中的任何位置，它总是注册到最近的父 UI 组件`preRenderComponent`。这对/`preRenderView`没有多大意义，因为并非*每种*组件都参与调用操作。例如，将它放在 a 中就不会是非常自我记录的。`preInvokeAction``postInvokeAction`*`<h:panelGroup>`*

# qt - QMediaRecorder::supportedAudioCodecs() 识别音频/作品？

> ID：13267934
> 
> 赞同：3
> 
> 时间：2012-11-07T10:38:11.783
> 
> 标签：qt, codec

我正在尝试使[QMediaRecorder::supportedAudioCodecs()](http://qt-project.org/doc/qt-5.0/qmediarecorder.html#supportedAudioCodecs)包含[Opus Codec](http://www.opus-codec.org/)。

我正在使用 Linux x86；带有 QtMobility 的 QtVersion 4.7.3。

我已经安装了所有的 libOpus、Opustool 和 Opusfile。

但与 vorbis 和 Speechx 等其他编解码器不同，QMediaRecorder 安装后不会列出 Opus。

这是因为 QtMultimediaKit 不支持 Opus 吗？或者无论如何可以解决这个问题？我目前的任务是尝试在 Qt 上录制到 Opus Codec。

# c# - 正则表达式 c# html 蜘蛛

> ID：13267937
> 
> 赞同：0
> 
> 时间：2012-11-07T10:38:15.593
> 
> 标签：c#, html, regex

我试图让我的控制台应用程序在 html 网页中返回所有这些值： `<img border="0" alt="img.jpg" title="img.jpg" src="/_layouts/images/icjpg.gif" />`

不过我只对`title="img.jpg"`. 我已经看到可以使用正则表达式来过滤这些，但是我看不到我如何过滤掉其余的，只保留`title="img.jpg"`或中的值`title="THIS"`

任何帮助，将不胜感激。

我看过这个[正则表达式的备忘单](http://www.mikesdotnetting.com/Article/46/CSharp-Regular-Expressions-Cheat-Sheet)

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-07T10:42:24.513

更好的解决方案是使用 HtmlAgilityPack 来解析 HTML。

[http://htmlagilitypack.codeplex.com/](http://htmlagilitypack.codeplex.com/)

示例 [仅带有边框 =“0”的 img 标签]

```
HtmlDocument doc = new HtmlDocument();
doc.LoadHtml(your html string);

List<String> titles = (from x in doc.DocumentNode.Descendants()
                       where x.Name == "img"
                       && x.Attributes["title"] != null
                       && x.Attributes["border"] != null
                       && x.Attributes["border"].Value == "0"
                       select x.Attributes["title"].Value).ToList<String>(); 
```

此 LINQ 代码返回所有 img 标记的标题。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-07T10:43:54.290

尝试使用codeplex*中的*[HtmlAglityPack](http://htmlagilitypack.codeplex.com)。或者你可以试试这个正则表达式

 *```
<img[^>]*(?<title>title=\"[^\"]+\")[^>]*> 
```

以及使用 LINQ 的示例代码：

```
var result = from Match match 
             in Regex.Matches(strInput, "<img[^<]*(?<title>title=\"[^\"]+\")[^<]*>")
             select match.Groups["title"].Value; 
```*

# c# - WebRequest 不包含 Create 的定义

> ID：13267941
> 
> 赞同：0
> 
> 时间：2012-11-07T10:38:24.543
> 
> 标签：c#

我昨天运行了一个控制台应用程序来发送和接收 Web 请求和 Web 响应，它工作正常。今天我在我的表单应用程序上测试相同的方法，我得到错误 WebRequest 不包含 Create 的定义。我所有的进口都是一样的。这有点奇怪，我不知道我做错了什么。这是我的控制台应用程序的代码：

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using HtmlAgilityPack;
using System.Net;
using System.IO;

namespace WebrequestCsharp
{
    class Program
    {
        static void Main(string[] args)
        {
            StreamWriter sw;
            sw = File.AppendText("c:\\Temp\\webresponse.txt");
            //Create a Web-Request to an URL
            HttpWebRequest HWR_Request = (HttpWebRequest)WebRequest.Create("http://www.hitta.se/ericsson/företag_och_personer");

            //Send Web-Request and receive a Web-Response
            HttpWebResponse HWR_Response = (HttpWebResponse)HWR_Request.GetResponse();

            //Translate data from the Web-Response to a string
            Stream S_DataStream = HWR_Response.GetResponseStream();
            StreamReader SR_DataStream = new StreamReader(S_DataStream, Encoding.UTF8);
            string s_ResponseString = SR_DataStream.ReadToEnd();
            S_DataStream.Close();
            sw.WriteLine(s_ResponseString);
            sw.Flush();
            sw.Close();

            HtmlDocument doc = new HtmlDocument();
            doc.Load("c:\\Temp\\webresponse.txt");
            Console.ReadKey();
        }

    }
} 
```

这是我的表单应用程序，不能接受我的创建：

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using HtmlAgilityPack;
using System.Net;
using System.IO;

namespace PhoneFind
{
    class WebRequest
    {
        private String url { get; set; }
        private String searchEngine { get; set; }
        HttpWebRequest HWR_Request = (HttpWebRequest)WebRequest.Create("http://www.hitta.se/ericsson/företag_och_personer");
        public WebRequest(String url, String searchEngine)
        {
            this.url = url;
            this.searchEngine = searchEngine;
        }

        // sends a request to the search engine 
        public String sendRequest(String url, String searchEngine)
        {
            switch (searchEngine){
                case "hitta":
                    //Create a Web-Request to a URL

                    //Send Web-Request and receive a Web-Response
                    HttpWebResponse HWR_Response = (HttpWebResponse)HWR_Request.GetResponse();

                    //Translate data from the Web-Response to a string
                    Stream S_DataStream = HWR_Response.GetResponseStream();
                    StreamReader SR_DataStream = new StreamReader(S_DataStream, Encoding.UTF8);
                    string s_ResponseString = SR_DataStream.ReadToEnd();
                    S_DataStream.Close();
                    break;
            }
            return "";

        }

    }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-07T17:53:58.093

在您的表单应用程序中，您的类名为`WebRequest`，因此编译器正在该类中寻找`Create`方法，而不是`System.Net.WebRequest`该类。为了解决这个问题，完全限定`WebRequest`System.Net 中的：

```
HttpWebRequest HWR_Request = (HttpWebRequest)System.Net.WebRequest.Create("http://www.hitta.se/ericsson/företag_och_personer"); 
```

感谢 Amiram 澄清这不是我最初认为的模棱两可的名称冲突。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-07-09T15:14:15.340

出现此问题是因为您的目标`.net framework`小于`4.5`，要解决此问题只需将 更改为`target framework`，`4.5`然后`project properties application tab`重新构建项目。

# iphone - iPhone 应用程序中的数据加密

> ID：13267945
> 
> 赞同：0
> 
> 时间：2012-11-07T10:38:34.887
> 
> 标签：iphone, ios

我正在开发一个需要 Triple DES Encrytpion 的 iOS 应用程序。在网上浏览时，我遇到了这个声明

> 如果您将自己的加密代码放入您的应用程序，您需要获得它的出口许可证，然后您的应用程序才能获得 Apple 的批准。如果您使用 Apple 提供的加密例程，则没有必要这样做。

我想知道三重DES加密的集成是否需要出口许可证？如果是，那么程序是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T10:51:14.733

这实际上与苹果无关，这与美国法律有关。如果您使用的是系统库 ( `CommonCryptor`)，一切正常。如果您要添加自己的加密框架，则需要出口许可证。

# sql-server - 非聚集索引被忽略

> ID：13267947
> 
> 赞同：0
> 
> 时间：2012-11-07T10:38:46.533
> 
> 标签：sql-server, azure-sql-database

我有`archived_events`以下索引的表。

```
 CREATE NONCLUSTERED INDEX [IX_archived_events_5] ON [dbo].[archived_events]
    (
        [account_id] ASC
    )WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON)
    GO

ALTER TABLE [dbo].[archived_events] ADD  CONSTRAINT [PK_archived_events] PRIMARY KEY CLUSTERED 
(
    [event_type] DESC,
    [id] DESC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, IGNORE_DUP_KEY = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON)
GO 
```

问题是，当我执行以下查询时，我在执行计划中看到它对 [PK_archived_events] 进行聚集索引扫描

```
SELECT *                                  
FROM   archived_events ae WITH(nolock) 
WHERE     ( 30 = ae.[account_id] ) 
```

非聚集索引被忽略的原因是什么？

*另请注意，这是 SQL Azure，不确定是否重要。*

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T13:50:19.163

该表具有干扰索引的 nvarchar(max) 列。我已将它们转换为 nvarchar(n) 并且索引现在可以使用。

# python - Linux 服务器列出可以登录的用户

> ID：13267948
> 
> 赞同：1
> 
> 时间：2012-11-07T10:38:46.543
> 
> 标签：python, linux, bash

我想要一个单行 shell 命令或一个简短的 Bash/Python 脚本，它将列出 Linux 服务器上可以登录到该机器的所有用户。因此，像 www-data 和 mail 这样的用户当然会被排除在外，但`root`会成为列表的一部分。

例如，此代码有效。我[在这里找到了](https://gist.github.com/1989361)。但我正在寻找更简单的清洁剂。

```
awk -F: '$2 != "*" && $2 !~ /^!/ { print $1, " can log in" }' /etc/shadow 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-07T10:55:04.773

您可以使用这个 oneliner 列出在 /etc/shadow 中设置了密码的所有用户，每行一个：

```
getent shadow | egrep '^[^:]*:[*!]:' -v | cut -f1 -d: 
```

这仅适用于本地用户，不适用于使用 LDAP 数据库或其他方法时。

如果您使用的是 LDAP，并且想要列出目录中的所有用户，您可以尝试：

```
getent passwd | cut -f1 -d: 
```

虽然，这将列出所有用户，包括“非用户”帐户，例如`www-data`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T10:51:55.200

*[我在Find Linux users that can log in with password 中](https://gist.github.com/1989361)*找到了 Bash 脚本。

**重击版本：**

```
awk -F: '$2 != "*" && $2 !~ /^!/ { print $1, " can log in" }' /etc/shadow 
```

**蟒蛇版本：**

```
users = [i.split(':') for i in open('/etc/shadow').readlines()]
print '\n'.join([i[0] for i in users if i[1] not in ('!', '*')]) 
```

# sql - 使用合并语句插入目标后使用标识更新源表中的字段

> ID：13267949
> 
> 赞同：1
> 
> 时间：2012-11-07T10:38:54.620
> 
> 标签：sql, sql-server, sql-server-2008

我有一个表项目，它应该在表 LanguageText 中有相应的记录。LanguageText 的 ID（身份）注册在我的 Items 表的 Items.LanguageTextId 字段中。

我想要完成的是在 Items.LanguageTextId 中为 null 的所有记录的 LanguageText 和 Items 之间的合并，并在 LanguageText 中插入这些 Item 记录的项目名称/文本，并使用新插入的 LanguageText 记录中的 ID 值更新 LanguageTextId (SCOPE_IDENTITY( )?)

插入工作正常：

```
MERGE [dbo].[LanguageText] AS target
USING (SELECT [Items].* from [dbo].Items ) AS source 
ON (TARGET.Id = SOURCE.LanguageTextId) 
WHEN NOT MATCHED By Target THEN 
    INSERT   
       ([Text])
 VALUES
       (source.[ItemName]); 
```

结尾

但我不知道如何更新我的 items.Languagetextid，我可以做些什么： OUTPUT $action, INSERTED.ID 吗？或者有没有更好的方法来完成这个？

提前致谢，

麦克风

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-07T18:14:34.083

您可以通过合并..输出到表变量然后更新来做到这一点。

[SQL小提琴](http://sqlfiddle.com/#!3/6c36a/3)

**MS SQL Server 2008 架构设置**：

```
create table Items
(
  ItemsId int identity primary key,
  ItemName nvarchar(50) not null,
  ItemsLanguageTextId int null
);

create table ItemsLanguageText
(
  ItemsLanguageTextId int identity primary key,
  Text nvarchar(50) not null
);

insert into Items values('Name 1', null);
insert into Items values('Name 2', null);
insert into Items values('Name 3', null); 
```

**查询 1**：

```
declare @T table
(
  ItemsId int,
  ItemsLanguageTextId int
);

merge ItemsLanguageText as T
using (
        select ItemsId, ItemName
        from Items
        where ItemsLanguageTextId is null
      ) as S
on 0 = 1
when not matched then
  insert (Text) values (S.ItemName)
output S.ItemsId, inserted.ItemsLanguageTextId
  into @T;

update Items
set ItemsLanguageTextId = T.ItemsLanguageTextId
from @T as T
where T.ItemsId = Items.ItemsId; 
```

**[结果](http://sqlfiddle.com/#!3/6c36a/3/0)**：

**查询 2**：

```
select * from Items; 
```

**[结果](http://sqlfiddle.com/#!3/6c36a/3/1)**：

```
| ITEMSID | ITEMNAME | ITEMSLANGUAGETEXTID |
--------------------------------------------
|       1 |   Name 1 |                  13 |
|       2 |   Name 2 |                  14 |
|       3 |   Name 3 |                  15 | 
```

**查询 3**：

```
select * from ItemsLanguageText; 
```

**[结果](http://sqlfiddle.com/#!3/6c36a/3/2)**：

```
| ITEMSLANGUAGETEXTID |   TEXT |
--------------------------------
|                  13 | Name 1 |
|                  14 | Name 2 |
|                  15 | Name 3 | 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-07T11:57:06.030

我认为您正在寻找的是添加 WHEN MATCHED。

例如

```
WHEN MATCHED THEN UPDATE SET.... etc etc
WHEN NOT MATCHED THEN INSERT ... etc etc 
```

您可以查看此 MERGE 交易文档以获取有关如何正确使用 MERGE 的详细信息。 [http://technet.microsoft.com/en-us/library/bb510625.aspx](http://technet.microsoft.com/en-us/library/bb510625.aspx)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T13:49:24.887

当涉及到 SQL 时，我仍然是一个菜鸟......我猜它不能通过合并来完成，所以我尝试了一个带有游标的存储过程，该游标循环遍历记录并执行我想要它做的事情：

```
CREATE PROCEDURE [dbo].[PM_CreateItemsLanguageTexts]
AS
DECLARE @ITEMNAME NVARCHAR(50);
DECLARE @ITEMID BIGINT;

BEGIN
-- SET NOCOUNT ON added to prevent extra result sets from
-- interfering with SELECT statements.
SET NOCOUNT ON;

--Declare Cursor so we can iterate each record
Declare c Cursor For Select Id, ItemName From dbo.Items WHERE NameId is null 
Open c 
--Fetch First
Fetch next From c into @ITEMID, @ITEMNAME

--As long as we are 'on a roll' go with the flow..
While @@Fetch_Status=0 
Begin

   PRINT @ITEMNAME;
   PRINT @ITEMID;

   --FIRST INSERT A NEW TEXT RECORD IN ItemsLauguageText
   INSERT dbo.ItemsLauguageText(Text) VALUES (@ITEMNAME);    

   --UPDATE THE ITEMS RECORD NAMEID FIELD WITH THE LATEST IDENTITY / ID VALUE
    UPDATE dbo.Items SET NameID = CAST(SCOPE_IDENTITY() AS bigint)  WHERE dbo.Items.Id = @ITEMID; 

Fetch next From c into @ITEMID,@ITEMNAME
End
End

CLOSE C;
DEALLOCATE C; 
```

# xml - XSL-FO 外部图形未显示

> ID：13267951
> 
> 赞同：3
> 
> 时间：2012-11-07T10:39:00.287
> 
> 标签：xml, xslt, xsl-fo

我在让外部图形显示在我的 PDF 中时遇到了一些问题。我尝试过使用各种路径，`url()`但似乎没有任何效果。我还缺少其他东西吗？

```
<fo:table-cell>
    <fo:block>
        <fo:external-graphic src="url(ss/naam.png)"></fo:external-graphic>
    </fo:block>
</fo:table-cell> 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-10-07T11:21:38.113

我正在使用 Apache FOP 1.1 版本。

首先你应该告诉 apache FOP 基本路径在哪里。您应该照原样复制代码。

```
 fopFactory = FopFactory.newInstance();
    // for image base URL : images from Resource path of project
    String serverPath = request.getSession().getServletContext().getRealPath("/");
    fopFactory.setBaseURL(serverPath);
    // for fonts base URL :  .ttf from Resource path of project
    fopFactory.getFontManager().setFontBaseURL(serverPath); 
```

在您的 XSL 模板文件中

```
<fo:table-cell>
    <fo:block>
        <fo:external-graphic src="url(resources/naam.png)"></fo:external-graphic>
    </fo:block>
</fo:table-cell> 
```

**这里 naam.png 将在 resources/ 目录中**

我在项目的资源总监中添加了所有图像和所需的字体字体文件。它对我来说很好。谢谢

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2019-01-09T08:58:53.667

为绝对路径添加一个`<fo:external-graphic>`对我有用的唯一方法是将 url 写为`url(file:/C:/myPath/image.jpg)`. [来源](https://www.oxygenxml.com/forum/topic17516.html#p49546)。

```
<fo:external-graphic src="url(file:/C:/myPath/image.jpg)"/> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-11T15:55:54.057

```
<fo:external-graphic src="ss/naam.png"/> 
```

这种方式对我有用。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2022-02-24T21:33:24.133

如果您使用的是变量，这可能会有所帮助：

```
</fo:table-cell>
                                    <fo:table-cell number-columns-spanned="5"
                                        border="0.1pt solid gray"  
                                        padding="5pt">
                                         <fo:block>
                                            <fo:external-graphic 
                                            display-align="center"
                                            content-width="338px"
                                            content-height="290px"
                                            src="url(file:/{$screenshot-path})">
                                            </fo:external-graphic>
                                        </fo:block>
                                    </fo:table-cell> 
```

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2013-01-15T09:23:43.367

例如，它在我的 Apache FOP 的 xls-fo 模板中运行。

```
<fo:external-graphic src='url("src/main/resources/ima/logo.depo.gif")' /> 
```

# html - 建立在线期刊

> ID：13267960
> 
> 赞同：0
> 
> 时间：2012-11-07T10:39:28.827
> 
> 标签：html, web, journal, web-platforms

我需要建立一个在线期刊管理系统，人们可以在其中创建自己的 [个人/公共] 期刊（就像 wordpress 有博客一样）。由于它是期刊，用户应该能够指定编辑、审稿人等。

我知道开放期刊系统，但它不允许任何人发布他们的期刊。另外，我只有一周的时间。

哪个平台最适合这种事情？我在考虑 PHP，但我喜欢任何其他可以加快这个过程的平台。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T07:37:00.013

开放期刊系统不允许任何人创办自己的期刊是什么意思？该软件可以免费下载 ( [http://pkp.sfu.ca/ojs_download](http://pkp.sfu.ca/ojs_download) ) 并像 Wordpress 一样在 LAMP 服务器上运行。OJS 具有内置的所有必要的期刊管理要求（编辑/审稿人角色、发布供公众使用的文档），并且可以通过多种方式进行扩展。

# build - 配置 Jenkins 以连接到 BitBucket

> ID：13267964
> 
> 赞同：1
> 
> 时间：2012-11-07T10:39:46.667
> 
> 标签：build, jenkins, bitbucket

我正在尝试在我的 Mac Mini 上配置 Jenkins，以便从我的 BitBucket 存储库中提取我的 iPhone 应用程序的代码。在“Xcode 插件”配置区域中，我尝试添加项目的 git 地址，但一直失败。经过研究，看起来我必须使用 ssh 部署密钥来连接 Bitbucket 和 Jenkins。到目前为止我做了什么：

```
ssh-keygen -t rsa 

pbcopy <  /Users/jenkins/.ssh/id_rsa.pub 
```

我将此 SSH 密钥添加到我的 BitBucket 配置文件中。

不幸的是，它仍然不起作用。

有人能详细解释一下整个过程吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-08T11:20:45.423

好吧，也许我在这里找到了解决方案：http: [//colonelpanic.net/2011/06/jenkins-on-mac-os-x-git-w-ssh-public-key/](http://colonelpanic.net/2011/06/jenkins-on-mac-os-x-git-w-ssh-public-key/)

请记住使用以下命令重新生成密钥：

```
ssh-keygen -t rsa 
```

复制它：

```
pbcopy <  /Users/Shared/Jenkins/Home//.ssh/id_rsa.pub 
```

将其上传到 BitBucket 并运行：

```
ssh git@bitbucket.org 
```

为了在已知主机中添加bitbucket

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T17:01:52.743

我认为问题出在 git 的许可上。在错误日志中，失败的命令是

> /usr/local/git/bin/git clone --progress -o origin git@bitbucket.org:myname/myproject.git/Users/Shared/Jenkins/Home/jobs/MyProjectAdHocBuild/workspace

如果我尝试在控制台中运行它，我会得到：

> 致命：无法创建工作树目录'/Users/Shared/Jenkins/Home/jobs/MyProjectAdHocBuild/workspace'。：权限被拒绝

所以如果我在 SUDO 模式下运行它就可以了。

如何授予 Jenkings 在管理员模式下运行 git 的权限？

# ruby-on-rails - 如何将用户包含在结果集中？

> ID：13267972
> 
> 赞同：0
> 
> 时间：2012-11-07T10:40:04.270
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, pusher

```
comments = Song.find(65).comments.select('comments.*, users.*').includes(:user).limit(20) 
```

我如何将用户包含在结果集中？

我正在使用[PusherApp](http://pusher.com/)并尝试执行以下操作：

```
 Pusher["foo"].trigger("bar", { 
      :comments => comments
    }) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T11:41:15.793

如果您想使用自定义字段快速生成 json，则最好阅读[本教程](http://brainspec.com/blog/2012/09/28/lightning-json-in-rails/)。

它基本上使用这样的方法：

```
def self.lightning
  connection.select_all(select([:latitude, :longitude, :timestamp, :virtual_odometer]).arel).each do |attrs|
    attrs.each_key do |attr|
      attrs[attr] = type_cast_attribute(attr, attrs)
    end
  end
end 
```

这将返回一个哈希数组。

然后用`render json: Oj.dump(@statuses.lightning, mode: :compat)`，和[oj gem](https://github.com/ohler55/oj)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T11:14:58.960

用 joins(:user) 替换 includes(:user) ，您将能够选择用户字段

```
comments = Song.find(65).comments.select('comments.*, users.*').joins(:user).limit(20) 
```

# android-fragments - 其他活动中的 OTTO 和 Fragments

> ID：13267975
> 
> 赞同：7
> 
> 时间：2012-11-07T10:40:16.663
> 
> 标签：android-fragments, android-activity, otto

我昨天开始使用 OTTO by Square，到目前为止我有一个好的开始。

当您的 Fragment 已经托管在 FragmentActivity 中并且您只需要在该 FragmentActivity 托管的 Fragment 之间进行通信时，Otto 开箱即用的效果很好。

当已经托管时，您的 #onResume() Methode 会被调用，并且 Fragment 可以在 Eventbus 上注册自己：

```
@Override
public void onResume()
{
    super.onResume();
    BusProvider.getInstance().register(this);
} 
```

我的问题：

嵌入在**额外**Activity 中的 Fragment 应该通过 Eventbus 接收事件，如下所示：

```
public AnotherFragmentHostedInSomeActivity extends Fragment
{
         .....

    @Subscribe
    public void onSomethingHappend(final Event event)
    {

          final SomeObject deliveredObject = event.getSomeObject(); 
```

**但是，当您想在那里调用另一个**托管类似以下代码的片段的活动时，看起来事情仍然很复杂：

```
public class SomeFragmentSendingDataToAnotherFragment extends Fragment
{
            ...
    private void sendData()
    {
            final Intent intent = new Intent(applicationContext, SomeActivity.class);
            applicationContext.startActivity(intent);                                 
            BusProvider.getInstance().post(new Event(someObject)); 
```

正如您可能已经看到的那样，这段代码很狡猾。由于生命周期，启动 Activity 然后将数据发送到该 Activity 托管的 Fragment 无法正常工作。因此，活动被创建，片段也被创建。有时会调用 onResume Methode，以便 Fragment 可以使用 @Subscribe 注册自己。但这一切都发生**在**事件已经通过 EventBus 发布之后。因此，感兴趣的片段永远不会被 EventBus 调用。

任何人都知道如何以聪明的方式做到这一点？

那里有一些额外的信息：昨天我和 OTTO 玩得很开心。只有当我需要将数据发送到另一个活动时，问题才会出现在我的项目中，在我的情况下，这种情况总是发生在应用程序在智能手机上运行时，而不是平板电脑上。在我通过 Intent 和 Parcelable 发送所有数据之前。Otto 会减少编写 Parcleable Objects 的需要，所以我想这样做。

感谢您的回答

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-11-08T17:03:24.493

当第二个 Activity 开始时，你原来的 Activity 已经消失了。正如其他人所指出的，如果您想将数据从 Activity 传递到 Activity，使用 Intents 可能是最好的途径。

如果你真的想要一个事件总线，你需要一个即使在第一个活动消失后仍然保持活动状态的对象。在 Android 中，这与应用程序上下文相关，或者如果使用 Dagger 或 Guice，则为 @Singleton。

这个单例是使用 Otto 的 @Produce 注释的地方。当第二个 Activity 订阅总线时，它将接收来自该 @Produce 方法的任何数据。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-12-04T11:40:52.663

您可以查看 Otto github [issue](https://github.com/square/otto/issues/27)上发布的 Jake Wharton 的答案。您可以使用@Producer。

> 当您发出 HTTP 请求并将响应缓存在某处（例如，员工列表）时。大多数人会启动一个请求，并在某个回调收到响应时让他们的活动直接执行。当回调发生在 onPause 之后和 onResume 之前，就会出现问题，就像设备旋转时一样。相反，您可以做的是，当 HTTP 调用在总线上返回时发布一个事件，以便任何收听的人接收它并将其发送到缓存。然后，如果任何新订阅者对响应感兴趣，您可以让生产者与缓存对话以生成 HTTP 调用的结果。这样，当您暂停活动（并取消注册）并返回调用时，一旦您恢复（并重新注册）您的生产者将被调用并通知活动。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T13:45:11.333

您是否尝试过使用 @Produce 注释？当第二个 Activity 中的 Fragment 在总线上注册自身时，任何具有相应 @Produce 方法的 @Subscribe 方法都将运行。

# javascript - 等待 iframe 内容包含

> ID：13267978
> 
> 赞同：0
> 
> 时间：2012-11-07T10:40:36.007
> 
> 标签：javascript, iframe

我有一个功能可以在单击按钮时刷新 iframe 内容。

```
 function changeContent(){
      iframe.newContent(); 
      // wait until content contains string "hey"
      return true; 
  } 
```

我想使用while循环，我怎样才能让函数在字符串上等待直到返回true？这就是我现在访问 iframe 的方式：

```
var MyIFrame = document.getElementById("myframe");
var MyIFrameDoc = (MyIFrame.contentWindow || MyIFrame.contentDocument);
if (MyIFrameDoc.document) MyIFrameDoc = MyIFrameDoc.document; 
```

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-07T10:44:20.973

试试这个：

```
iframe.onload = function () {
}; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T10:44:56.737

最好使用`onload`事件。JS：

```
function load()
{
   alert("Frame is loaded");
} 
```

HTML：

```
<iframe src="frame_a.htm" onload="load()"> 
```

此外，不建议像上面那样直接在 HTML 中绑定事件处理程序（仅用于说明）。最好使用类似`iframe.onload`或 [`addEventlistener`/`attachEvent`](http://www.quirksmode.org/js/events_advanced.html)

While 循环将冻结您的网页，因为 JS 始终在一个线程中执行

# c# - HTTPWebResponse 使用 application/x-www-form-urlencoded

> ID：13267979
> 
> 赞同：1
> 
> 时间：2012-11-07T10:40:35.730
> 
> 标签：c#, httpwebresponse

所以我使用 application/x-www-form-urlencoded 作为我的内容类型发送了一个 HTTPWebRequest。我认为这意味着响应将以类似的类型返回？（编辑：现在被告知情况并非如此）

我的问题是这个。如何访问响应中返回的不同键/值对。到目前为止，我的代码看起来像这样。我当然可以读取字符串，但肯定有更好的方法来访问数据，而不是将字符串撕开。

```
 HttpWebResponse response = SendPOSTRequest("https://site/page?Service=foo", content.ToString(), "", "", true);

    string responseCode = response.StatusCode.ToString();
    string responseStatusDescription = response.StatusDescription;

    StreamReader sr = new StreamReader(response.GetResponseStream());

    string result = sr.ReadToEnd(); 
```

我尝试使用 XML/linq 将元素读入 XDocument，但当然它不会以 XML 形式返回。

假设我有 3 或 4 条不同的信息，我怎么能读出它们？

编辑：我刚刚检查过，数据以文本/纯文本形式返回。如何轻松处理？

编辑：通过流读取器检索到的响应字符串是：

```
VPSProtocol=2.23
Status=OK
StatusDetail=Server transaction registered successfully.
VPSTxId={FDC93F3D-FC64-400D-875F-0B7E855AD81F}
SecurityKey=*****
NextURL=https://foo.com/PaymentPage.asp?TransactionID={875F-0B7E855AD81F} 
```

编辑：似乎这段代码让我在那儿走得更远。我能够将响应分解为一个列表并逐行处理它。虽然它仍然不是一个完美的解决方案。

```
 StreamReader sr = new StreamReader(response.GetResponseStream());

            List<string> str = new List<string>;

            while (sr.Peek() >= 0)
            {
                str.Add(sr.ReadLine().ToString());
            } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T11:15:13.560

这有点快和脏，但你可以把它解析成这样的字典；

```
var parsed = result.Split(new string[] { "\r\n", "\n" }, StringSplitOptions.None)
    .Select(x =>
    { 
        int split = x.IndexOf('=');
        return new
        {
            Key = x.Substring(0, split),
            Value = x.Substring(split + 1, x.Length - (split + 1))
        };
    }).ToDictionary(k => k.Key, v => v.Value); 
```

不确定这有多强大，但它应该是一个好的开始。

**编辑：**更新以处理值中的“=”字符。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T11:43:25.240

所以我的案例有点专业，我总是知道如果响应不包含某些单词（例如 INVALID 或 MALFORMED）我将要处理什么。我从文本/纯文本响应中获取其他数据的肮脏修复是这样实现的：

```
string responseCode = response.StatusCode.ToString();

string responseStatusDescription = response.StatusDescription;

StreamReader sr = new StreamReader(response.GetResponseStream());

string result = sr.ReadToEnd();

string[] parsed = result.Split(new string[] { "\r\n", "\n" }, StringSplitOptions.RemoveEmptyEntries);

List<string> str = parsed.ToList();
Dictionary<string, string> dictionary = new Dictionary<string, string>();

foreach (string s in str)

{

string[] ss = s.Split('=');

    if (ss.Count() == 2)
    {
        dictionary.Add(ss[0], ss[1]);
    }
    else
    {
        string value = "";

        for (int i = 0; i < ss.Count(); i++)
        {
            switch (i)
            {
                case 0:
                {
                    break;
                }
                case 1:
                {
                    value += ss[i];
                    break;
                }
                default:
                {

                    value += "=" + ss[i];

                    break;
                }
            }
        }

    dictionary.Add(ss[0], value);
    }
} 
```

引入 switch 语句是因为如果将 url 与一系列查询字符串一起传回，那么重构它们很重要。上面的代码工作正常。

# c# - XBAP 应用程序内的 WebBrowser 控件：允许 cookie

> ID：13267989
> 
> 赞同：2
> 
> 时间：2012-11-07T10:41:14.560
> 
> 标签：c#, internet-explorer, webbrowser-control, session-cookies, xbap

我在 XBAP 应用程序中有一个 WebBrowser 控件（System.Windows.Forms.WebBrowser + WindowsFormsHost）。问题是当我“Navigate()”到需要 cookie 的网站并输入凭据时，WebBrowser 没有在 GET (HTTP) 方法的“Cookie”属性中设置“会话”编号参数，登录失败。我怀疑 WebBrowser 不接受 cookie（或会话 cookie？）。我尝试以这种方式使用 IInternetSecurityManager：

```
 public static bool TryAllowCookies(Uri uri)
    {
        IInternetSecurityManager securityManager = (IInternetSecurityManager)new InternetSecurityManager();
        int policy = 0;
        Guid context = Guid.Empty;

        int hr = securityManager.ProcessUrlAction(uri.ToString(),
                                     URLACTION_COOKIES_SESSION | URLACTION_COOKIES_ENABLED | URLACTION_COOKIES |
                     URLACTION_COOKIES_SESSION_THIRD_PARTY | URLACTION_COOKIES_THIRD_PARTY,
                     ref policy,
                     Marshal.SizeOf(policy),
                     ref context,
                     Marshal.SizeOf(context),
                     PUAF_DEFAULT, 0);

                     return (hr == 0) && policy == URLPOLICY_ALLOW;
    } 
```

ProcessUrlAction 总是返回 True，但不起作用。

我没有找到如何将 IInternetSecurityManager 与 WebBrowser 控件一起使用的完整示例。而在 Windows 窗体应用程序中，相同的控件可以完美运行。

HTTP 嗅探：

来自 XBAP 应用程序的网络浏览器（不起作用）：

```
GET /cgi-bin/xxx.xxx HTTP/1.1
Accept: image/gif, image/x-xbitmap, image/jpeg, image/pjpeg, application/x-shockwave-flash, application/vnd.ms-xpsdocument, application/x-ms-application, application/x-ms-xbap, application/xaml+xml, application/msword, application/vnd.ms-powerpoint, application/vnd.ms-excel, */*
Referer: http://xxx.xxx.xxx.xxx/cgi-bin/yyy.yyy
Accept-Language: it
Accept-Encoding: gzip, deflate
User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; .NET CLR 2.0.50727; .NET CLR 3.0.04506.648; .NET CLR 3.5.21022; .NET CLR 3.0.4506.2152; .NET CLR 3.5.30729; .NET4.0E; .NET4.0C; InfoPath.2)
Host: xxx.xxx.xxx.xxx
Connection: Keep-Alive
Cookie: language=it; user=smith 
```

来自 WINDOWS 表单应用程序 (WORKS) 的网络浏览器

```
GET /cgi-bin/xxx.xxx HTTP/1.1
Accept: image/gif, image/x-xbitmap, image/jpeg, image/pjpeg, application/x-shockwave-flash, application/vnd.ms-xpsdocument, application/x-ms-application, application/x-ms-xbap, application/xaml+xml, application/msword, application/vnd.ms-powerpoint, application/vnd.ms-excel, */*
Referer: http://xxx.xxx.xxx.xxx/cgi-bin/yyy.yyy
Accept-Language: it
Accept-Encoding: gzip, deflate
User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; .NET CLR 2.0.50727; .NET CLR 3.0.04506.648; .NET CLR 3.5.21022; .NET CLR 3.0.4506.2152; .NET CLR 3.5.30729; .NET4.0E; .NET4.0C; InfoPath.2)
Host: xxx.xxx.xxx.xxx
Connection: Keep-Alive
Cookie: language=en; user=smith; session=2a9cffb0babea74e3432fc9805470faa; current_page= 
```

谢谢你，里卡多

# java - 反射 API 中的代理有什么用？

> ID：13267990
> 
> 赞同：1
> 
> 时间：2012-11-07T10:41:20.033
> 
> 标签：java, reflection, proxy

我正在学习反射的概念，并且正在阅读“Java Reflection In action”一书。我刚刚从“代理”一章开始，它说“一个代理，它支持另一个对象的接口，它的目标，因此代理可以代替目标用于所有实际目的”。

我可以举一个现实生活中简单的例子来理解这个代理的概念吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T10:57:42.297

经典示例是 RMI 代理，其中对本地代理对象进行的方法调用会导致对驻留在另一台机器上的另一个 JVM 中的代理对象的方法调用。

代理允许调用者将远程对象视为本地对象......在大多数方面。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T11:00:11.620

好吧，代理只是一种*机制*，你可以做不同的事情，很多框架以各种方式使用它们。

然而，这里是可以使用代理的“经典”领域：

*   *访问控制*：拦截调用并执行一些控制检查
*   *安全*性：您可以在引用跨模块流动时包装/展开引用以执行检查并限制某些操作
*   *持久性*：只有代理可用，数据从另一个存储介质按需加载
*   *延迟加载*：代理仅在需要时加载或计算信息
*   *异步*：代理是稍后可用的结果的句柄（所谓的透明未来）
*   *远程处理*：代理提供了将对象本地化的假象，并处理远程通信
*   *合同*：确保在调用之前和之后满足前置条件和后置条件
*   *AOP*：面向方面的编程依赖于拦截方法调用的能力。这样做的一种技术是使用代理。

*注意：这些区域有一些重叠。*

在论文“[关于 ECMAScript 反射 API 的设计](http://www.techrepublic.com/whitepapers/on-the-design-of-the-ecmascript-reflection-api/4039313)”中，作者区分了两种主要的代理：

> *通用包装器*。将其他对象包装在同一地址空间中的代理。示例用途包括访问控制包装器（例如可撤销的引用）、高阶合同 [Findler 和 Felleisen 2002]、分析、污点跟踪等。
> 
> *虚拟对象*。模拟其他对象的代理，而模拟的对象不必存在于同一地址空间中。示例包括远程对象代理（模拟其他地址空间中的对象）、持久对象（模拟存储在数据库中的对象）、透明期货（模拟尚未计算的对象）、延迟实例化的对象、测试模型等。

我认为它或多或少涵盖了我之前描述的领域。但没有清单是完整的。代理没有固定的案例——它是一种通用的机制或原则。

# json - Dhtmlx ad TreeView Grid - 如何转换这个 json 对象

> ID：13267991
> 
> 赞同：-1
> 
> 时间：2012-11-07T10:41:20.990
> 
> 标签：json, dhtmlx

我有一个如下所示的 json 对象。它的嵌套对象，第一级是日期，第二级是小时，第三级是国家。我想要一棵可以钻入日期->小时->国家/地区的树。如何转换下面的以便可以使用treegrid控件？

```
{u'2012-10-31': {'0': {u'SG': {'data': ['5020', '0', '0', '0', '0']}},
                 '1': {u'SG': {'data': ['5256', '0', '0', '0', '0']}},
                 '10': {u'SG': {'data': ['7836', '0', '0', '0', '0']}},
                 '11': {u'SG': {'data': ['7440', '0', '0', '0', '0']}},
                 '12': {u'SG': {'data': ['7949', '0', '0', '0', '0']}},
                 '13': {u'SG': {'data': ['8781', '0', '0', '0', '0']}},
                 '14': {u'SG': {'data': ['10739', '0', '0', '0', '0']}},
                 '15': {u'SG': {'data': ['13083', '0', '0', '0', '0']}},
                 '16': {u'SG': {'data': ['15182', '0', '0', '0', '0']}},
                 '17': {u'SG': {'data': ['16339', '0', '0', '0', '0']}},
                 '18': {u'SG': {'data': ['16169', '0', '0', '0', '0']}},
                 '19': {u'SG': {'data': ['12565', '0', '0', '0', '0']}},
                 '2': {u'SG': {'data': ['5748', '0', '0', '0', '0']}},
                 '20': {u'SG': {'data': ['9801', '0', '0', '0', '0']}},
                 '21': {u'SG': {'data': ['9266', '0', '0', '0', '0']}},
                 '22': {u'SG': {'data': ['10526', '0', '0', '0', '0']}},
                 '23': {u'SG': {'data': ['9570', '0', '0', '0', '0']}},
                 '3': {u'SG': {'data': ['6755', '0', '0', '0', '0']}},
                 '4': {u'SG': {'data': ['7099', '0', '0', '0', '0']}},
                 '5': {u'SG': {'data': ['7013', '0', '0', '0', '0']}},
                 '6': {u'SG': {'data': ['7498', '0', '0', '0', '0']}},
                 '7': {u'SG': {'data': ['6705', '0', '0', '0', '0']}},
                 '8': {u'SG': {'data': ['7770', '0', '0', '0', '0']}},
                 '9': {u'SG': {'data': ['7976', '0', '0', '0', '0']}}}} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-16T12:51:14.530

请使用以下示例更改 JSON 的格式。

```
{"rows":[{"id":date,"data":[{"value":"1212","image":"folder.gif"},"12",2012,15000,"=sum","","",214,0,0,0,""],
                    "rows":[{"id":hour,"data":[{"value":"121","image":"folder.gif"},"12",2012,5000,"=sum","","",215,0,0,0,""],
                        "rows":[{"id":country,"data":[{"value":"1212"},null,2012,2000,"=c3","","",215,0,0,0,""]}]}]}]} 
```