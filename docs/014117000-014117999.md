# StackOverflow 问答 14117000-14117999

# mysql - 有没有办法为 SELECT 数据库查询指定起点？

> ID：14117010
> 
> 赞同：2
> 
> 时间：2013-01-02T04:58:14.503
> 
> 标签：mysql, sql, database

我了解它是如何`LIMIT`工作的，但我想知道是否有一种方法可以在之前设置数据库查询的起点`LIMIT`。这可能吗？我对此有意义吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-02T04:59:56.520

`LIMIT`接受两个值，起点和持续时间。

*   [MySQL 限制*X, Y*](http://php.about.com/od/mysqlcommands/g/Limit_sql.htm)

**更新 1**

*   [SQLFiddle 演示](http://sqlfiddle.com/#!2/15e92/2)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-01-02T05:10:33.217

```
SELECT * FROM `table` LIMIT [offset], [count] 
```

假设您有 4 页（1、2、3 和 4），并且希望每页显示 10 个结果，您可以执行以下操作：

**page_1 (0 - 10)**

```
SELECT * FROM `table` LIMIT  0, 10 
```

**page_2 (10 - 20)**

```
SELECT * FROM `table` LIMIT 10, 10 
```

**page_3 (20 - 30)**

```
SELECT * FROM `table` LIMIT 20, 10 
```

**page_4 (30 - 40)**

```
SELECT * FROM `table` LIMIT 30, 10 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-02T05:07:46.000

```
SELECT * FROM MyTable LIMIT [startpoint], [row_count] 
```

其中起点是可选的，默认为第一行。指定起点会跳过记录 n 次并从 [起点] 开始计数

```
SELECT * FROM MyTable LIMIT 5, 15 
```

这将显示从第 5 条记录开始的 15 条记录。

`SELECT * FROM MyTable LIMIT 7`相当于`SELECT * FROM MyTable LIMIT 0,7`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-02T05:02:39.487

我会给你一个demo 从中学习

```
SELECT * FROM `your_table` LIMIT 0, 10 
```

这将显示数据库中的前 10 个结果。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-02T05:05:18.790

不确定我是否理解正确，但我会试一试。您可能想考虑在查询中使用变量绑定，这样您的限制是用变量设置的。下面使用 PDO 的代码示例：

```
class englishTable {
  private $selectAllWithLimit;

  public function __construct($db) {
    $this->selectWithLimit = $db->prepare('SELECT id, english, french FROM english LIMIT :start, :limit');

  public function selectWithLimit($start, $limit) {
    $this->selectWithLimit->bindValue(':start', $start, PDO::PARAM_INT );
    $this->selectWithLimit->bindValue(':limit', $limit, PDO::PARAM_INT );
    $this->selectWithLimit->execute();
    return $this->selectWithLimit->fetchAll();
  }
}

$start = 5;
$limit = 7;
$words = $englishTable->selectWithLimit($start, $limit); 
```

希望对你有帮助，祝朋友新年快乐。

# javascript - 当通过更改 css 可见 div 时，该 div 上的事件将发生多次

> ID：14117011
> 
> 赞同：1
> 
> 时间：2013-01-02T04:58:18.370
> 
> 标签：javascript, jquery, html, hidden

```
$('nav .show_all').on('click', function() {
    $('#all_pages').
    addClass('active').
    css('opacity', 0).
    animate({
        opacity: 1
    }, 1000);
    Book.all_pages();
    return false;
});

 all_pages: function() { 
 alert ('test1'); // test here is ok
 $('#slider li').click(function() {
 alert ('test2'); // this test is not ok
 });
 } 
```

以上是用户点击 nav.showall 时的示例，它打开了一个 div #allpage。这里的错误是当用户关闭 div 并再次打开它时，函数运行的次数受 div 关闭次数的影响。

例如，当用户第一次打开 div 框时，它会提示一次 'test' ，如果用户打开 div 框，关闭它，然后再次打开，它会提示两次 'test' 等等. 如何解决这个问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-02T05:56:08.163

在 Javascript 中分配一个**全局变量**并在单击对象时增加它的计数器，以便您可以根据要求进行跟踪这里是虚拟数据：

```
var i=0;
function your_function(){
     ///.......
     // your code goes here
     if (i % 2 == 0) {
         alert('You Open it :)');
     }
     i++;
} 
```

# azure - Azure 诊断日志未复制到存储帐户

> ID：14117015
> 
> 赞同：1
> 
> 时间：2013-01-02T04:58:53.023
> 
> 标签：azure, azure-storage, azure-diagnostics

我是 Azure 平台的新手，只是想将我的 IIS 日志拉入我的存储帐户。

在本地运行并使用存储模拟器时，我可以毫无问题地看到日志。但是，在部署应用程序时，永远不会创建日志文件，我在 blob 存储中看到的唯一容器是“vsdeploy”。

我已按照此处概述的步骤操作：http: [//www.windowsazure.com/en-us/develop/net/common-tasks/diagnostics/](http://www.windowsazure.com/en-us/develop/net/common-tasks/diagnostics/)

我已经在我的 ServiceDefinition.csdef 中导入了诊断模块

```
 ...<Imports>
         <Import moduleName="Diagnostics" />... 
```

我创建了一个 WebRole.cs 类并为每两分钟的计划传输配置了目录。

```
 public class WebRole : RoleEntryPoint
{
    public override bool OnStart()
    {
        // For information on handling configuration changes
        // see the MSDN topic at http://go.microsoft.com/fwlink/?LinkId=166357.

        DiagnosticMonitorConfiguration diagConfig = DiagnosticMonitor.GetDefaultInitialConfiguration();

        diagConfig.Directories.ScheduledTransferPeriod = TimeSpan.FromMinutes(2.0);  //IIS LOGS
        DiagnosticMonitor.Start("Microsoft.WindowsAzure.Plugins.Diagnostics.ConnectionString", diagConfig);

        return base.OnStart();
    }
} 
```

我还验证了用于云部署的存储帐户连接字符串是否正确。

尽管如此，当我部署时，存储帐户中没有创建任何内容。我遗漏了什么或配置不正确导致我无法查看日志？

谢谢。

# android - 在android应用程序中存储简单数据

> ID：14117016
> 
> 赞同：1
> 
> 时间：2013-01-02T04:58:54.363
> 
> 标签：android, sharedpreferences

我正在制作一个简单的 GPA android 应用程序。用户可以输入每个学期的成绩和班级名称。然后我将如何存储这些学期中的每一个，以便始终可以在应用程序中提取它们？我可能还需要存储单独的随机变量。

我简要介绍了共享首选项、内部存储等选项。什么选项最适合我的需求？请解释原因。谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T05:08:01.377

这取决于您的需要，有时您在同一个应用程序中使用所有选项，例如：存储成绩和班级的最佳方式是使用数据库，在 android SqlLite 数据库中。并且为了存储一些变量值，如用户名和密码，您只需要使用共享首选项....至少这是我在我的应用程序中的策略。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-02T05:17:35.200

这里是解释...

**共享首选项**有利于存储……应用程序的首选项和其他少量数据。它是一些数据类型的非常简单的持久字符串密钥存储：boolean、float、int、long 和 string。因此，例如，如果我的应用程序有登录名，我可能会考虑将会话密钥作为字符串存储在 SharedPreferences 中。

**内部存储**有利于存储用户不需要访问的应用程序数据，因为用户无法轻松访问内部存储。可能对缓存、日志和其他东西有好处。只有应用程序打算创建读取更新或删除的任何内容。

**外部存储**。与我刚才所说的相反。保管箱应用程序可能使用外部存储来存储用户的保管箱文件夹，以便用户可以在保管箱应用程序之外轻松访问这些文件，例如，使用文件管理器。

**SQLite 数据库**每当您有大量结构化数据和用于管理它的相对严格的模式时，它都很棒。用外行的话来说，SQLite 就像 MySQL 或 PostgreSQL，除了它不是充当服务器守护进程的数据库，然后从 php 等 CGI 脚本中获取查询，它只是存储在一个 .db 文件中，并通过一个简单的库进行访问和查询在应用程序内。虽然 SQLite 无法像专用数据库那样扩展，但它对于较小的应用程序（如 Android 应用程序）来说非常快速和方便。如果我正在制作一个用于聚合和下载食谱的应用程序，我会使用 SQLite 数据库，因为这种数据是相对结构化的，并且数据库可以很好地扩展。数据库很好，因为将所有数据写入文件，然后以您自己的专有格式解析它，这并不好玩。再说一次，

**网络连接**是指将数据存储在云端。通过 java.net.* 包的 HTTP 或 FTP 文件和内容传输实现了这一点。

```
 Considering this i suggest you to use Sqlite especially in your case. 
```

好运

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-02T05:16:09.490

SQLite 将最适合您的方案。

因为您可以创建具有所需列的格式良好的表格。您可以使用**[预先开发的](http://androiddevelopement.blogspot.in/2011/12/using-your-own-sqlite-database-in.html)**数据库，也可以**[随时随地创建表](http://www.vogella.com/articles/AndroidSQLite/article.html)**。

# python - Boto 2.6 CloudSearch“没有名为请求的模块”错误

> ID：14117021
> 
> 赞同：1
> 
> 时间：2013-01-02T04:59:38.510
> 
> 标签：python, amazon-web-services, boto, amazon-cloudsearch

我正在关注本教程： [http ://boto.cloudhackers.com/en/latest/cloudsearch_tut.html](http://boto.cloudhackers.com/en/latest/cloudsearch_tut.html)

我已经安装了boto 2.6。命令：

```
conn = boto.connect_cloudsearch() 
```

产生错误：

```
>>> conn = boto.connect_cloudsearch()Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
  File "boto/__init__.py", line 616, in connect_cloudsearch
    from boto.cloudsearch.layer2 import Layer2
  File "boto/cloudsearch/layer2.py", line 26, in <module>
    from .domain import Domain
  File "boto/cloudsearch/domain.py", line 34, in <module>
    from .document import DocumentServiceConnection
  File "boto/cloudsearch/document.py", line 30, in <module>
    import requests
ImportError: No module named requests 
```

如何找到丢失的请求模块？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-02T05:08:58.230

[**requests**](http://docs.python-requests.org/)是一个第三方模块，它是该模块的先决条件，要么这样做：

```
pip install requests 
```

或者

```
easy_install requests 
```

如果这些对你不起作用，[它在 github 上](https://github.com/kennethreitz/requests)。

拥有此模块后，您就可以访问 boto。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-22T07:55:14.243

在撰写本文时， `boto`（2.8.0）需要一个相当老的`requests`模块，特别是

```
pip install requests==0.14.2 
```

如果你在使用时使用 >1.0.0，`document.doc_service.commit()`你会得到

```
TypeError: request() got an unexpected keyword argument 'config' 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-02T05:05:11.397

知道了。在命令行类型上：

```
easy_install requests 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-02T05:09:09.770

该`requests`模块是用于从 Python 简化 HTTP 的第三方库。信息和安装说明可以在 PyPi [http://pypi.python.org/pypi/requests上找到](http://pypi.python.org/pypi/requests)

您应该使用`pip`安装 boto 来下载必要的要求，包括`requests`. 其他需求在 boto 源的[requirements.txt](https://github.com/boto/boto/blob/master/requirements.txt)文件中捕获。

```
pip install boto 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-01T17:00:29.123

我可以验证从 0.14.1 升级到版本 0.14.2 的请求清除了我遇到的类似错误的问题。我最初很困惑，因为大多数人将 boto 升级到 2.4 或更高版本并解决了问题。

请注意 - 我专门安装了 0.14.2 - 而不是 1.0 或更高版本，这在我们的设置中有其自身的问题。

# shell - 如何在 Ubuntu 中使用 shell 脚本从文件中提取十进制值？

> ID：14117022
> 
> 赞同：0
> 
> 时间：2013-01-02T04:59:38.977
> 
> 标签：shell, gcc

我的代码的目的是

*   从两个单独的文件中读取两个值。[完美运行]
*   将它们转换为十进制值。[工作正常]
*   找出他们的不同之处。[工作正常]
*   如果它是负值，则使差异为正。[**不工作**，它没有检查条件。]

这是我的代码。它在 Ubuntu 11.04 中编码。

```
...
while read line;
do
echo -e "$line";
AllOn=$line
done<Output.log

gcc -Wall -o0 Test.c -o output
time -f "%e" -o BaseFile.log ./output
while read line;
do
echo -e "$line";
AllOff=$line
done<BaseFile.log

#Threshold Value
Threshold=`echo "$AllOff - $AllOn" | bc`;
echo "Threshold is $Threshold"
if [ `echo "$Threshold < 0.00"|bc` ]; then
   Threshold=`echo "$Threshold * -1" | bc`;
fi
echo "\nThreshold is $Threshold" >> $Result 
```

现在，无论价值如何，`if clause`都将被执行。我认为，我的 if 条件没有被检查，这将是以下输出的原因。

```
基准时间为 2.94
所有技术关闭 = 3.09
阈值为 0.15

基准时间是 3.07
所有技术关闭 = 2.96
阈值为 -.11

```

**更新：**这个问题还没有完全回答，如果有人能建议我一种方法来实现我的第四个目标，即***找到***值之间的差异，那对我来说真的很有帮助。谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-02T05:07:09.950

你用的是什么外壳？我假设只是简单的旧“sh”或“bash”。

如果是这样，请查看第 33 行：

> if($Threshhold<0) 那么

将其切换为：

> 如果 [ $Threshold -lt 0 ]; 然后

您可能还有其他问题，我没有仔细查看代码以检查它们。

为了进一步扩展，我敲了测试脚本和数据（请注意我将“阈值”更改为“阈值”）：

```
# Example test.sh file
!/bin/bash

while read line;
do
echo "$line";
AllOn=$line
done < Output.log

while read line;
do
echo "$line";
AllOff=$line
done < BaseFile.log

#Threshhold Value
Threshold=`echo "$AllOn - $AllOff" | bc`;
echo "Threshold is $Threshold"
if [ `echo "$Threshold < 0"|bc` ]; then
  # snips off the '-' sign which is what you were trying to do it looks
  Threshold=${Threshold:1}
fi
echo $Threshold
Result=result.txt
echo "\nThreshold is $Threshold" >> $Result 
```

然后是一些数据文件，首先是Output.log：

```
# Output.log
1.2 
```

然后是 BaseFile.log：

```
# BaseFile.log
1.3 
```

上面的示例输出：

```
./test.sh
1.2
1.3
Threshold is -.1
.1 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-02T05:27:21.923

Bourne shell 没有内置的算术工具。那作业

```
Threshhold=$AllOn-$AllOff 
```

简单地将两个字符串与它们之间的减号连接起来。

在 Bash 中，您可以使用

```
Threshhold=$(($AllOn-$AllOff)) 
```

但这仍然不允许比较为零。为了可移植性，我会简单地使用 Awk 来完成整个任务。

```
#!/bin/sh
gcc -Wall -o0 Test.c -o output
time -f "%e" -o BaseFile.log ./output
awk 'NR==FNR { allon=$0; next }
    { alloff=$0 }
    END { sum=allon-alloff; 
        if (sum < 0) sum *= -1; 
        print "Threshold is", sum }' Output.log BaseFile.log >>$Result 
```

# java - DESFire 身份验证的 DES 发送和接收模式

> ID：14117025
> 
> 赞同：9
> 
> 时间：2013-01-02T04:59:53.753
> 
> 标签：java, android, nfc, des, mifare

我正在尝试使用我的 android 应用程序对 DESFire 卡进行身份验证。我使用[此链接中的示例](http://n3vrax.wordpress.com/2011/07/23/des-algorithm-java-implementation/)来解密从卡中获得的字节。为此，我排除了解密中的填充（在下面注释掉），因为 DESFire 文档指出了这一点。另外，如果我不这样做，解密会返回 7 个字节来输入 8 个字节。以下是我使用的 DES 和 TripleDES 解密函数：

```
public static byte[] TripleDES_Decrypt(byte[] data,byte[][] keys)
{
    int i;
    byte[] tmp = new byte[data.length];
    byte[] bloc = new byte[8];

    K = generateSubKeys(keys[0]);
    K1 = generateSubKeys(keys[1]);
    K2 = generateSubKeys(keys[2]);

    for (i = 0; i < data.length; i++) {
        if (i > 0 && i % 8 == 0) {
            bloc = encrypt64Bloc(bloc,K2, true);
            bloc = encrypt64Bloc(bloc,K1, false);
            bloc = encrypt64Bloc(bloc,K, true);
            System.arraycopy(bloc, 0, tmp, i - 8, bloc.length);
        }
        if (i < data.length)
            bloc[i % 8] = data[i];
    }
    bloc = encrypt64Bloc(bloc,K2, true);
    bloc = encrypt64Bloc(bloc,K1, false);
    bloc = encrypt64Bloc(bloc,K, true);
    System.arraycopy(bloc, 0, tmp, i - 8, bloc.length);

    //tmp = deletePadding(tmp);

    return tmp;
}

public static byte[] decrypt(byte[] data, byte[] key) {
    int i;
    byte[] tmp = new byte[data.length];
    byte[] bloc = new byte[8];

    K = generateSubKeys(key);

    for (i = 0; i < data.length; i++) {
        if (i > 0 && i % 8 == 0) {
            bloc = encrypt64Bloc(bloc,K, true);
            System.arraycopy(bloc, 0, tmp, i - 8, bloc.length);
        }
        if (i < data.length)
            bloc[i % 8] = data[i];
    }
    bloc = encrypt64Bloc(bloc,K, true);
    System.arraycopy(bloc, 0, tmp, i - 8, bloc.length);

    //tmp = deletePadding(tmp);

    return tmp;
} 
```

根据 DesFire 文档，我需要两种解密模式，发送和接收。[这篇博文](http://ridrix.wordpress.com/2009/09/19/mifare-desfire-communication-example/)对此有一些解释。

> 但是，DESFire 加密与普通的 DES/CBC 方案有点不同：PCD 在发送数据时使用 DES“发送模式”（在 DES 之前异或），而卡在接收数据时使用 DES“接收模式”（在 DES 之后异或）。但是PCD接收数据时使用普通DES/CBC模式（DES后异或），卡发送数据时使用普通DES发送模式（DES前异或）。

在 Android 方面，我遵循示例和建议：

```
// connected to tag and application     

// result = encoded(randB) + af 
byte[] result = idTag.transceive(Utils.wrapMessage((byte)0x0a, new byte[]{(byte)0x0}));

byte[] b0 = new byte[8];
for(int i = 0; i < 8; i++) {
    b0[i] = result[i];
}

// key
byte[] key = new byte[] {(byte)0x0,(byte)0x0,(byte)0x0,(byte)0x0,
                 (byte)0x0,(byte)0x0,(byte)0x0,(byte)0x0,
                 (byte)0x0,(byte)0x0,(byte)0x0,(byte)0x0,
                 (byte)0x0,(byte)0x0,(byte)0x0,(byte)0x0 };
byte[][] keys = new byte[3][];
keys[0]=key; keys[1]=key; keys[2]=key;

// decrypt encoded(randB)
byte[] r0 = DES.TripleDES_Decrypt(b0, keys);

// generate randA (integer 0-7 for trying) 
byte[] nr = new byte[8];
for(int i = 0; i < 8; i++) {
    nr[i] = Byte.parseByte(Integer.toString(i), 16);
}
// decrypt randA
byte[] b1 = DES.TripleDES_Decrypt(nr, keys);

// shift randB and get randB'
byte[] r1 =new byte[8];
for(int i = 0; i < 7; i++) {
    r1[i] = r0[i + 1];
}
r1[7]=r0[0];

// concat (randA + randB')
byte[] b2 = new byte[16];
for(int i = 0; i < 16; i++)
{
    if(i <= 7) {
    b2[i] = b1[i];
} else {
    b2[i] = r1[i - 8];
}
}

// XOR (randA + randB') with IV
// IV is told to be consisting of 0's, 
// but XOR something with 0 results the same? 
for(int i=0;i<16;i++) {
    b2[i] = (byte) (b2[i] ^ (byte)0x0);
}

// send AF and decrypt(A+B) 
// wrap message adds needed wrapping to message (90 to left, offset bytes etc.)
result = isodepTag.transceive(Utils.wrapMessage((byte)0xaf, DES.TripleDES_Decrypt(b2, keys))); 
```

我得到第一个结果，加密的 randB。但是，第二个“结果”总是“91ae”，表示认证错误。我在这里做错了，将错误的数据发送到卡。

谁能告诉我我必须在代码中更改什么才能在这些模式下工作？在 TripleDES 之前/之后，我应该对数据进行什么异或操作？

不是真正的问题，但我读到 DesFire 卡中的默认“密钥”是 16 个零字节。此外，我需要将 TripleDES 用于 16 个字节的密钥，将 DES 用于 8 个字节的密钥。所以我正在使用并且需要使用 TripleDES，因为我没有更改默认密钥，对吗？

对于那些需要了解[CipherBlockChaining](http://en.wikipedia.org/wiki/Cipher_block_chaining#Cipher-block_chaining_.28CBC.29)的人。

**编辑**：我发现我需要在 TripleDES 之前和之后进行 XORing，而且我根本不能触及 TripleDES 的内部操作。我会在一段时间内尝试。

删除了内部的 TripleDES 行，只是为第一次看到问题的人说。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-01-04T16:02:34.133

好的，我得到了解决方案。我的错误是我发送

```
3DES(randA + randB') 
```

但我应该发送

```
3DES(randA) + 3DES(randB' XOR 3DES(randA)) 
```

这是Android/Java的验证码（很遗憾，这是目前在网上能找到的唯一一个！）：

实际验证码：

```
// send initial authentication request
byte[] result = idTag.transceive(Utils.wrapMessage((byte)0x0a, new byte[]{(byte)0x0}));

// get encrypted(randB) from the response
byte[] b0 = new byte[8];
for(int i = 0; i < 8; i++) {
    b0[i] = result[i];
}

// 16 bytes default key
byte[] key = new byte[] {(byte)0x0,(byte)0x0,(byte)0x0,(byte)0x0,
    (byte)0x0,(byte)0x0,(byte)0x0,(byte)0x0,
    (byte)0x0,(byte)0x0,(byte)0x0,(byte)0x0,
    (byte)0x0,(byte)0x0,(byte)0x0,(byte)0x0 };
// keys for TripleDes
byte[][] keys = new byte[3][];
keys[0] = key; keys[1] = key; keys[2] = key;

// decrypt encoded(randB)
byte[] r0 = DES.TripleDES_Decrypt(b0, keys);

// generate randA (integer 0-7 for trying, should randomize for real-life use) 
byte[] nr = new byte[8];
for(int i = 0; i < 8; i++) {
    nr[i] = Byte.parseByte(Integer.toString(i), 16);
}

// decrypt randA, should XOR with IV, but IV is all 0's, not necessary
byte[] b1 = DES.TripleDES_Decrypt(nr, keys);

// shift randB one byte left and get randB'
byte[] r1 =new byte[8];
for(int i = 0; i < 7; i++) {
    r1[i] = r0[i + 1];
}
r1[7]=r0[0];

// xor randB' with randA and decrypt
byte[] b2 = new byte[8];
for(int i = 0; i < 8; i++) {
    b2[i] = (byte) (b1[i] ^ r1[i]);
}
b2 = DES.TripleDES_Decrypt(b2, keys);

// concat (randA + randB')
byte[] b1b2 = new byte[16];

for (int i = 0; i < b1b2.length; i++) {
    if(i <= 7) {
        b1b2[i] = b1[i];
    } else {
        b1b2[i]=b2[i-8];
    }
}

result = idTag.transceive(Utils.wrapMessage((byte)0xaf, b1b2)); 
```

TripleDes 是问题中的一个。wrapMessage 函数：

```
public static byte[] wrapMessage (byte command, byte[] parameters) throws Exception {
    ByteArrayOutputStream stream = new ByteArrayOutputStream();

    stream.write((byte) 0x90);
    stream.write(command);
    stream.write((byte) 0x00);
    stream.write((byte) 0x00);
    if (parameters != null) {
        stream.write((byte) parameters.length);
        stream.write(parameters);
    }
    stream.write((byte) 0x00);

    return stream.toByteArray();
} 
```

**编辑：**感谢 VGe0rge，我们发现了此身份验证有时不起作用的原因。不要在问题中调用 3DES 函数，只需调用：

```
Cipher.getInstance("DESede/CBC/NoPadding"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-12-10T12:35:21.573

Ismat，您是否尝试将数据写入 DESFIRE 文件？

如您所述，向卡发送数据时：PCD在发送数据时使用DES“发送模式”（DES之前的异或），而卡在接收数据时使用DES“接收模式”（DES之后的异或）

所以我之前无法获得正确的代码来使用 XOR 实现 TDES。我需要做所有的 crypt-decrypt-crypt 并且这个过程对我的应用程序来说很慢：

```
res = criptoTransformDec.TransformBlock(datosEscribir, 0, 8, datosEscribir, 0);
res = criptoTransformEnc.TransformBlock(datosEscribir, 0, 8, datosEscribir, 0);
res = criptoTransformDec1.TransformBlock(datosEscribir, 0, 8, datosEscribir, 0);

int l_iAux = 0;
while (l_iAux < (datosEscribir.Length - 8))
    {
        criptoTransformDec2 = desDec.CreateDecryptor(claveSes1, tdesInitialVector);
        //desEnc2 = new DESCryptoServiceProvider();
        criptoTransformEnc2 = desEnc.CreateEncryptor(claveSes2, tdesInitialVector);
        //desDec3 = new DESCryptoServiceProvider();
                criptoTransformDec3 = desDec.CreateDecryptor(claveSes1, tdesInitialVector);

        Array.Copy(datosEscribir, 8 + l_iAux, aux1, 0, 8);
        Array.Copy(datosEscribir, l_iAux, aux2, 0, 8);
        DesfireBarik.XorStr(ref aux1, ref aux2, 8);
        res = criptoTransformDec2.TransformBlock(aux1, 0, 8, datosEscribir, 8 + l_iAux);
        res = criptoTransformEnc2.TransformBlock(datosEscribir, 8 + l_iAux, 8, datosEscribir, 8 + l_iAux);
        res = criptoTransformDec3.TransformBlock(datosEscribir, 8 + l_iAux, 8, datosEscribir, 8 + l_iAux);

        l_iAux += 8;
    }

private static void XorStr (ref byte[] str1, ref byte[] str2, int qty )
    {
        int i = 0;
        for (i = 0; i < qty; i++ )
            str1[i] = (byte)(str1[i] ^ str2[i]);
    } 
```

# javascript - 如何在谷歌应用引擎中使用 Candy（基于 js 的 jabber 客户端）？

> ID：14117027
> 
> 赞同：-1
> 
> 时间：2013-01-02T04:59:58.573
> 
> 标签：javascript, google-app-engine, xmpp

是否可以将 Candy jabber 客户端与应用引擎一起使用？

[http://candy-chat.github.com/candy/](http://candy-chat.github.com/candy/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-02T09:57:07.850

如果它支持 xmpp，那么是的。

[https://developers.google.com/appengine/articles/using_xmpp](https://developers.google.com/appengine/articles/using_xmpp)

```
inbound_services:
- xmpp_message
- xmpp_presence 
```

# objective-c - 通话后停止收音机

> ID：14117030
> 
> 赞同：0
> 
> 时间：2013-01-02T05:00:09.947
> 
> 标签：objective-c, ios, cocoa-touch

我正在制作一个 iphone Live Radio 应用程序。我的应用程序在后台模式下运行良好。但是，如果收音机应用程序在后台模式下播放时电话响起，我的收音机就会停止。

```
MP AVAudioSessionDelegateMediaPlayerOnly end interruption. Interruptor <Phone> category <completed> resumable <0>,  _state = 6
2013-01-02 10:26:24.487 Radio99[2527:707] MP endInterruptionFromInterruptor :: resuming playback at 1.000000 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T05:48:08.300

仅使用`AudioStreamer`. （切勿使用`AVAudioPlayer`或`MPMoviePlayerController`通话后不播放收音机）。

```
NSURL *url =[NSURL URLWithString:@"http://y1.eoews.com/assets/ringtones/2012/5/18/34049/oiuxsvnbtxks7a0tg6xpdo66exdhi8h0bplp7twp.mp3"];
AudioStreamer *tempStreamer = [[AudioStreamer alloc] initWithURL:url];
self.streamer = tempStreamer;
[tempStreamer release]; [streamer start]; 
```

在后台添加此代码

```
- (void)applicationDidEnterBackground:(UIApplication *)application
   {

    CTCallCenter *_center = [[CTCallCenter alloc] init];

    _center.callEventHandler = ^(CTCall *call) 
        {

        if ([call.callState isEqualToString:CTCallStateIncoming]) 
            {   
                NSLog(@"Pause");
                [streamPlayer pause];
            }

        if ([call.callState isEqualToString:CTCallStateDisconnected]) 
            {
            NSLog(@"call:%@", call.callState);
            NSLog(@"Play");
            [streamPlayer start];
            }
        };
    }
} 
```

# database - 负 wp_postmeta 数

> ID：14117031
> 
> 赞同：1
> 
> 时间：2013-01-02T05:00:11.837
> 
> 标签：database, wordpress, meta

我在开发站点中有一个大型数据库（由于 rss 联合），现在我遇到了麻烦。我正在删除很多帖子，但是当我在 mysql 中检查我的数据库时，我看到 wp_postmeta 编号为 -179,433。这不可能是正确的......这种价值的原因可能是什么？此外，我无法从垃圾箱中删除帖子。

# ruby-on-rails - Heroku 预编译破坏了我的 JavaScript。没有预编译它会给出 500 服务器错误？

> ID：14117037
> 
> 赞同：3
> 
> 时间：2013-01-02T05:01:08.560
> 
> 标签：ruby-on-rails, ruby, heroku, ruby-on-rails-3.2

我刚刚在我的应用程序中包含了一个 javascript，它将激活一个图像滑块。这是脚本：

```
 $(function(){var scroller=$("#scroller div.innerScrollArea");var scrollerContent=scroller.children("ul");scrollerContent.children().clone().appendTo(scrollerContent);var curX=0;scrollerContent.children().each(function(){var $this=$(this);$this.css("left",curX);curX+=$this.width()});var fullW=curX/2;var viewportW=scroller.width();var controller={curSpeed:0,fullSpeed:2};var $controller=$(controller);var tweenToNewSpeed=function(newSpeed,duration){if(duration===undefined){duration=600}$controller.stop(true).animate({curSpeed:newSpeed},duration)};scroller.hover(function(){tweenToNewSpeed(0)},function(){tweenToNewSpeed(controller.fullSpeed)});var doScroll=function(){var curX=scroller.scrollLeft();var newX=curX+controller.curSpeed;if(newX>fullW*2-viewportW){newX-=fullW}scroller.scrollLeft(newX)};setInterval(doScroll,20);tweenToNewSpeed(controller.fullSpeed)}); 
```

我手动缩小了它。如果我只是将这个应用程序上传到 Heroku，它会给我一个 500 内部服务器错误。在 Heroku 日志中，我可以看到：

```
 2013-01-02T04:50:59+00:00 app[web.1]: Completed 500 Internal Server Error in 640ms
    2013-01-02T04:50:59+00:00 app[web.1]: 
    2013-01-02T04:50:59+00:00 app[web.1]: ActionView::Template::Error (slider.js isn't precompiled):
    2013-01-02T04:50:59+00:00 app[web.1]:     1: <footer class="footer">
    2013-01-02T04:50:59+00:00 app[web.1]:     2: <%= javascript_include_tag "slider" %> 
    2013-01-02T04:50:59+00:00 app[web.1]:     3: </footer> 
```

因此，我通过将以下行添加到 production.rb 来添加要预编译的 javascript：

```
 config.assets.precompile += %w( slider.js ) 
```

这样，我的应用程序已加载，但 javascript 无法正常工作。当我检查源代码时，我看到 Heroku 是如何编译我的 javascript 的：

```
$(function(){var a=$("#scroller div.innerScrollArea"),b=a.children("ul");b.children().clone().appendTo(b);var c=0;b.children().each(function(){var a=$(this);a.css("left",c),c+=a.width()});var d=c/2,e=a.width(),f={curSpeed:0,fullSpeed:2},g=$(f),h=function(a,b){b===undefined&&(b=600),g.stop(!0).animate({curSpeed:a},b)};a.hover(function(){h(0)},function(){h(f.fullSpeed)});var i=function(){var b=a.scrollLeft(),c=b+f.curSpeed;c>d*2-e&&(c-=d),a.scrollLeft(c)};setInterval(i,20),h(f.fullSpeed)}); 
```

一团糟。我的问题是，如何解决这个问题？我需要 heroku 来编译我的其他脚本和 css 文件。但是只排除这个文件。怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T08:49:23.503

与其让 Heroku 预编译资产，许多人认为在推送之前自己预编译它们是更好的做法。这使您有机会在本地检查已编译的资产，并修复可能发生的任何错误，然后再将您知道的工作推送到 Heroku。

您可以在您的存储库中执行此操作：

```
rake assets:precompile 
```

并清除任何现有的预编译资产（在预编译之前运行它的好习惯）：

```
rake assets:clean 
```

至于“混乱”，实际发生的是缩小器已将变量名称换成较短的名称。多年来，这一直是缩小器的正常行为，它*不太可能*（但可能）破坏了某些东西。有理由在本地预编译资产并进行测试，看看这是否是问题所在。

# javascript - 从未隐藏的下拉列表中获取价值

> ID：14117039
> 
> 赞同：0
> 
> 时间：2013-01-02T05:01:09.027
> 
> 标签：javascript, jquery

我对 JavaScript 和 JQuery 很陌生，所以可能有一个非常简单的解决方案来解决我的问题。我想要做的是将选择的单元号打印到屏幕上。单元号根据选择的机器类型而变化，选择机器类型时，特定于机器类型的单元号下拉菜单将不隐藏。如何告诉 JavaScript 或 JQuery 打印在单元号下拉列表中选择的值？

```
<!DOCTYPE HTML PUBLIC "-//W3C/DTD HTML 4.01//EN"
"http://www.w3.org/TR/html4/strict.dtd">

<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <title>Test</title>
        <script src="../jquery-1.8.3.js"></script>
        <script src="jsFunctions.js" type="text/javascript"></script>
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
        <link media="Screen" href="timeCard.css" type="text/css" rel="stylesheet" />
        <link media="only screen and (max-device-width: 480px) and (min-device-width: 320px)" href="mobile.css" type="text/css" rel="stylesheet" />
    </head>
    <body>

            <h1>What do you want to do?</h1>
            <div id="buttons">
       <button type="submit" id="punchIn" onclick="timeIn()">Clock In</button>
       <button type="submit" id="updateJob" onclick="updateJob()">Update</button>
       <button type="submit" id="punchOut" onclick="timeOut()">Clock Out</button>
       </div>

       <div id="content">

       <label id="jobDesc" style="display: none">Job Description</label>
           <input type="text" id="jobDescription" style="display: none"/>

       <label id="equipRan" style="display: none">Equipment ran</label>
            <select size="1" name="equipmentList" title="" id="equipmentList" style="display: none">
                <option value="">Select Machine</option>
                <option value="EX">Excavator</option>
                <option value="DZ">Dozer</option>
                <option value="SC">Scraper</option>
            </select>

       <div class="unitDropDowns">
          <div class="EX">
            <select class="exUnitNumbers">
                <option value="">Unit number</option>
                <option value="01E">01E</option>
                <option value="2E">2E</option>
                <option value="4E">4E</option>
            </select>           
        </div>

            <div class="DZ">
                <select class="dzUnitNumbers">
                    <option value="">Unit number</option>
                    <option value="01D">01D</option>
                    <option value="2D">2D</option>
                    <option value="1D">1D</option>
                </select>
            </div>

            <div class="SC">
                <select class="scUnitNumbers">
                    <option value="">Unit number</option>
                    <option value="54C">54C</option>
                    <option value="53C">53C</option>
                    <option value="52C">52C</option>
                </select>
            </div>

       </div>

       <button type="submit" id="updateButton" onclick="dbQuery()" style="display: none">Submit</button>

       <div id="summary">
            <div id="timeDiv" style="color: red;"></div>
            <div id="descriptionSummary" style="display: none"></div>      
            <div id="equipmentRan" style="display: none"></div>
       </div>

      </div>
    </body>
</html> 
```

Javascript 文件

```
 $(document).ready(function() {
    $('#equipmentList').bind('change', function() {
    var elements = $('div.unitDropDowns').children().hide(); // hide all the elements
    var value = $(this).val();

        if (value.length) { // if somethings' selected
            elements.filter('.' + value).show(); // show the ones we want
        }
        }).trigger('change');
});

var timeIn = function() {

    var clockIn = new Date();
    timeDiv.innerHTML = clockIn;
}

var timeOut = function(){

    var clockOut = new Date();
    timeDiv.innerHTML= clockOut;
    document.getElementById("equipmentList").style.display = "block";
    document.getElementById("jobDescription").style.display = "block";
    document.getElementById("jobDesc").style.display = "block";
    document.getElementById("equipRan").style.display = "block";
}
var updateJob = function(){
    document.getElementById("jobDescription").style.display = "block";
    document.getElementById("updateButton").style.display = "block";
    document.getElementById("equipmentList").style.display = "block";
    document.getElementById("jobDesc").style.display = "block";
    document.getElementById("equipRan").style.display = "block";
}

var dbQuery = function(){
    var description = document.getElementById("jobDescription").value;
    var selectedEquip = document.getElementById("equipmentList");
    var selectedEquip1 = selectedEquip.options[selectedEquip.selectedIndex].text;
    document.getElementById("descriptionSummary").innerHTML = "<h3>Description</h3>" + "<p>" + description + "</p>";
    document.getElementById("equipmentRan").innerHTML = "<h3>Equipment Ran </h3>" + "<p>" + selectedEquip1 + "</p>";
    document.getElementById("equipmentRan").style.display = "block";
    document.getElementById("descriptionSummary").style.display = "block";
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-02T05:05:25.193

和

```
var selectedVisibleValue = $(".unitDropDowns select:visible").val() 
```

您可以获得选定的可见值。

我希望它有帮助...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-02T05:20:07.120

如您所知，您混合了普通的 javascript 和 jQuery。如果你想利用更多的 jQuery，这里是你的代码转换为这样做：

**Javascript**

```
$(document).ready(function() {
    $("#equipmentList").on("change", function() {
        var elements = $("div.unitDropDowns").children().hide(); // hide all the elements
        var value = $(this).val();

        if (value.length) { // if somethings' selected
            elements.filter("." + value).show(); // show the ones we want
        }
    }).trigger("change");

    $("#punchIn").on("click", function() {
        $("#timeDiv").html(new Date());
    });

    $("#punchOut").on("click", function() {
        $("#timeDiv").html(new Date());
        $("#equipmentList").show();
        $("#jobDescription").show();
        $("#jobDesc").show();
        $("#equipRan").show();
    });

    $("#updateJob").on("click", function() {
        $("#jobDescription").show();
        $("#updateButton").show();
        $("#equipmentList").show();
        $("#jobDesc").show();
        $("#equipRan").show();
    });

    $("#updateButton").on("click", function() {
        $("#descriptionSummary").html("<h3>Description</h3><p>" + $("#jobDescription").val() + "</p>").show();
        $("#equipmentRan").html("<h3>Equipment Ran </h3><p>" + $("#equipmentList").val() + "</p>").show();
    });
});​ 
```

**HTML**

```
<h1>What do you want to do?</h1>
<div id="buttons">
    <button type="submit" id="punchIn">Clock In</button>
    <button type="submit" id="updateJob">Update</button>
    <button type="submit" id="punchOut">Clock Out</button>
</div>
<div id="content">
    <label id="jobDesc" style="display: none">Job Description</label>
    <input type="text" id="jobDescription" style="display: none"/>
    <label id="equipRan" style="display: none">Equipment ran</label>
    <select size="1" name="equipmentList" title="" id="equipmentList" style="display: none">
        <option value="">Select Machine</option>
        <option value="EX">Excavator</option>
        <option value="DZ">Dozer</option>
        <option value="SC">Scraper</option>
    </select>
    <div class="unitDropDowns">
        <div class="EX">
            <select class="exUnitNumbers">
                <option value="">Unit number</option>
                <option value="01E">01E</option>
                <option value="2E">2E</option>
                <option value="4E">4E</option>
            </select>
        </div>
        <div class="DZ">
            <select class="dzUnitNumbers">
                <option value="">Unit number</option>
                <option value="01D">01D</option>
                <option value="2D">2D</option>
                <option value="1D">1D</option>
            </select>
        </div>
        <div class="SC">
            <select class="scUnitNumbers">
                <option value="">Unit number</option>
                <option value="54C">54C</option>
                <option value="53C">53C</option>
                <option value="52C">52C</option>
            </select>
        </div>
    </div>
    <button type="submit" id="updateButton" style="display: none">Submit</button>
    <div id="summary">
        <div id="timeDiv" style="color: red;"></div>
        <div id="descriptionSummary" style="display: none"></div>
        <div id="equipmentRan" style="display: none"></div>
    </div>
</div>
​ 
```

**[演示](http://jsfiddle.net/ZaKFk/2/)**

# python - 命令通过 python 脚本失败但手动工作

> ID：14117044
> 
> 赞同：1
> 
> 时间：2013-01-02T05:01:56.800
> 
> 标签：python

我遇到了这个问题，下面的命令通过 python 脚本失败，如果我尝试在它通过的任何 linux 机器上的命令行上手动运行这个命令，只能通过失败的脚本，这里有什么错误的输入或调试技巧？

```
source= Popen(['source build/envsetup.sh'],stdout=PIPE,stderr=PIPE, shell=True)
stdout,stderr=source.communicate()
print stdout
print stderr
lunchcommand=Popen(['lunch 12'],stderr=PIPE,shell=True)
stdout,stderr= lunchcommand.communicate()
print "Printing lunch stdout and stderr"
print stderr

/bin/sh: lunch: command not found 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T05:04:52.587

由于`lunch`是在 中定义的 bash 函数，您可以在调用之前`build/envsetup.sh`创建一个 bash 脚本，或者您可以执行一个 bash 命令，例如`build/envsetup.sh``lunch 12``Popen`

```
bash -c "source /tmp/envsetup.sh && lunch 12" 
```

例如：

```
import subprocess
import shlex

with open('/tmp/envsetup.sh', 'w') as f:
    f.write('function lunch() { KEY="$@"; firefox "www.google.com/search?q=${KEY}" ; }')
proc = subprocess.Popen(shlex.split('bash -c "source /tmp/envsetup.sh && lunch stackoverflow"'))
proc.communicate() 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-02T05:16:41.757

你实际上应该使用这个：

```
import shlex
from subprocess import Popen

the_command = '/path/to/lunch 12'
result = Popen(shlex.split(the_command)) 
```

由于`12`是命令的参数`lunch`而不是命令的一部分，因此`shlex`将自动处理拆分命令及其参数。

`Popen`当您同时拥有命令和参数时，您应该传递一个列表。确定你真的需要`shell=True`吗？你知道[它实际上是做](http://docs.python.org/2/library/subprocess.html#frequently-used-arguments)什么的吗？

# c++ - 在 C++ 中传递参数时继承类之间的类型转换

> ID：14117045
> 
> 赞同：3
> 
> 时间：2013-01-02T05:02:08.120
> 
> 标签：c++, inheritance, reference, type-conversion

下图显示了针对此问题的三个独立测试：

（我只关注声明而不是函数的定义~~）

![http://i.stack.imgur.com/wYtA6.png](../Images/7ce870430e380818124d195b4676fe78.png)

我想知道为什么**正确的错误“'A' is an inaccessible base of 'B'”。**

为什么g ++似乎通过派生类初始化对基的引用（由于受保护的继承而导致错误），

而不是像中间那样使用转换运算符将 B 转换为 A 并传入（即 0 错误和 0 警告）？

这是图片中右侧的代码：

```
struct A {
    A &operator=( const A & ) { return *this;  }
}a;

struct B : protected A {
    operator A() {  return A();  };
}b;

int main( void )
{
    a = b;
    return 0;
} 
```

谢谢你的帮助！~

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-02T05:12:42.927

当您在类`a = b;`内`main()`或类外（在世界上）编写时，转换发生在那里，而不是类内，并且可访问性规则适用于转换点（在类外）。为了进行这种转换，需要从外部（世界）访问基类。

在您的情况下，因为`B`是从`A`using`protected`关键字派生的，这意味着世界无法访问`A`的子对象`b`，因此它无法转换`B`为`A`。这一切的发生是因为`B`(which is `A`) 的基础由于`protected`继承而无法从世界访问。做到这一点`public`，转换也将在世界上发生。

现在，这个问题：

> 为什么不使用用户转换函数而不是继承转换？

由于继承转换优先于用户定义的转换函数，您可以*将此首选项*视为第一步，第二步是可访问性规则，转换失败！

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-02T05:16:37.670

第 12.3.2 节：

> 转换函数永远不会用于将（可能是 cv 限定的）对象转换为（可能是 cv 限定的）相同的对象类型（或对它的引用），转换为该类型的（可能是 cv 限定的）基类（或对它的引用）或（可能是 cv 限定的）void。

此外，除了少数例外，`public`//的选择很少会改变程序的功能，只是程序是否有效。因此，初始化尽可能直接绑定对子对象的引用，而不是使用用户定义的转换，并且在做出选择之后，编译器会检查访问。`protected``private`

# permissions - s3 存储桶策略对“授予/限制”访问的独特挑战

> ID：14117053
> 
> 赞同：1
> 
> 时间：2013-01-02T05:03:24.437
> 
> 标签：permissions, amazon-s3, policy, grant, bucket

我阅读了发布说明，所以我会尽可能具体。

我有一个包含大量 FLV 文件的 S3 存储桶，我将允许客户在他们的域上流式传输。

我想要完成的是

1.  设置“授予”对特定域（列表）的访问权限的存储桶策略，以从其域中流式传输我的存储桶文件。

2.  将用户限制为每个域的“一个流”的存储桶策略。换句话说，对于上述政策中列出的每个域，他们一次只能在其站点上流式传输一个文件。

前提是一个视频网站，客户将在其中播放特定于他们利基市场的视频。我主持并提供视频，但需要对它们的传递进行一些控制。

所有文件都在一个桶中。这些文件没有任何奇怪的事情发生。这是非常直接的。

我只需要能够授予并限制我的客户从他们的域流式传输我的内容的能力的存储桶策略控制。

我祈祷我已经足够清楚了，但请不要犹豫，问我是否让你感到困惑......

非常感谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-02T05:13:42.270

我认为您无法通过简单地设置存储桶的访问权限来实现您想要的。我签入了 AccessControlList 和 CannedAccessControlList。您最好的选择是编写一个 Web 服务包装器来访问存储桶数据。您将更好地控制所服务的数据，并且您可能还可以探索缓存数据副本的选项以进行更高的优化。

# database - 是否可以通过一次查询获得此信息？

> ID：14117055
> 
> 赞同：0
> 
> 时间：2013-01-02T05:03:43.043
> 
> 标签：database, database-design

假设我正在编写一个简单的论坛并有表格：“用户”、“论坛”、“论坛订阅者”和“帖子”。'groups'、'posts' 和 'forum_subscribers' 引用 'user' 作为外键。

我想创建一个名为“user_profile”的视图，其中包括

*   用户订阅的论坛数量，
*   他们在 forum_x 中发布的帖子数量，以及
*   所有论坛中的帖子总数（您可以将组视为论坛或类别）。

如何使用 count() 函数执行此操作？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-02T06:12:01.677

我认为你不能比 3 个联合做得更好（也许最后 2 个可以与 结合使用`COUNT DISTINCT`）。我在下面对您的表结构做了很多假设，但我认为将其转换为您的结构应该很容易。

```
CREATE VIEW myView AS
SELECT user.id, CAST(posts.forum_id AS VARCHAR(20)) AS forum_id, COUNT(posts.id)
FROM user
  JOIN posts ON user.id = posts.user_id
GROUP BY user.id, posts.forum_id
    UNION
SELECT user.id, 'All forums', COUNT(posts.id)
FROM user
  JOIN posts ON user.id = posts.user_id
GROUP BY user.id
    UNION
SELECT user.id, 'Subscription count', COUNT(fs.forum_id)
FROM user
  JOIN forum_subscribers fs ON user.id = fs.user_id
GROUP BY user.id 
```

# css - 关键帧在 Firefox 中工作

> ID：14117056
> 
> 赞同：1
> 
> 时间：2013-01-02T05:03:52.807
> 
> 标签：css, css-transitions, css-animations

我使用关键帧来对每 15 秒产生一个加号效果的文本产生加号效果，这在 chrome 中有效，但在 Firefox 中无效。我不知道如何在每个脉冲效果之间延迟 15 秒，所以我尝试在工作中使用更多百分比，我不知道它是否真实

```
@-webkit-keyframes pulse_animation {
0% { -webkit-transform: scale(1); }
3% { -webkit-transform: scale(1); }
4% { -webkit-transform: scale(1); }
6% { -webkit-transform: scale(1.08); }
8% { -webkit-transform: scale(1); }
10% { -webkit-transform: scale(1); }
12% { -webkit-transform: scale(1); }
14% { -webkit-transform: scale(1); }
16% { -webkit-transform: scale(1); }
18% { -webkit-transform: scale(1); }
20% { -webkit-transform: scale(1); }
22% { -webkit-transform: scale(1); }
24% { -webkit-transform: scale(1); }
26% { -webkit-transform: scale(1); }
28% { -webkit-transform: scale(1); }
30% { -webkit-transform: scale(1); }
32% { -webkit-transform: scale(1); }
34% { -webkit-transform: scale(1); }
36% { -webkit-transform: scale(1); }
38% { -webkit-transform: scale(1); }
40% { -webkit-transform: scale(1); }
42% { -webkit-transform: scale(1); }
44% { -webkit-transform: scale(1); }
46% { -webkit-transform: scale(1); }
48% { -webkit-transform: scale(1); }
50% { -webkit-transform: scale(1); }
52% { -webkit-transform: scale(1); }
54% { -webkit-transform: scale(1); }
56% { -webkit-transform: scale(1); }
58% { -webkit-transform: scale(1); }
60% { -webkit-transform: scale(1); }
62% { -webkit-transform: scale(1); }
64% { -webkit-transform: scale(1); }
66% { -webkit-transform: scale(1); }
68% { -webkit-transform: scale(1); }
70% { -webkit-transform: scale(1); }
72% { -webkit-transform: scale(1); }
74% { -webkit-transform: scale(1); }
76% { -webkit-transform: scale(1); }
78% { -webkit-transform: scale(1); }
80% { -webkit-transform: scale(1); }
82% { -webkit-transform: scale(1); }
84% { -webkit-transform: scale(1); }
86% { -webkit-transform: scale(1); }
88% { -webkit-transform: scale(1); }
90% { -webkit-transform: scale(1); }
92% { -webkit-transform: scale(1); }
94% { -webkit-transform: scale(1); }
96% { -webkit-transform: scale(1); }
98% { -webkit-transform: scale(1); }
100% { -webkit-transform: scale(1); } 
```

}

```
@-moz-keyframes pulse_animation {
0% { -moz-transform: scale(1); }
3% { -moz-transform: scale(1); }
4% { -moz-transform: scale(1); }
6% { -moz-transform: scale(1.08); }
8% { -moz-transform: scale(1); }
10% { -moz-transform: scale(1); }
12% { -moz-transform: scale(1); }
14% { -moz-transform: scale(1); }
16% { -moz-transform: scale(1); }
18% { -moz-transform: scale(1); }
20% { -moz-transform: scale(1); }
22% { -moz-transform: scale(1); }
24% { -moz-transform: scale(1); }
26% { -moz-transform: scale(1); }
28% { -moz-transform: scale(1); }
30% { -moz-transform: scale(1); }
32% { -moz-transform: scale(1); }
34% { -moz-transform: scale(1); }
36% { -moz-transform: scale(1); }
38% { -moz-transform: scale(1); }
40% { -moz-transform: scale(1); }
42% { -moz-transform: scale(1); }
44% { -moz-transform: scale(1); }
46% { -moz-transform: scale(1); }
48% { -moz-transform: scale(1); }
50% { -moz-transform: scale(1); }
52% { -moz-transform: scale(1); }
54% { -moz-transform: scale(1); }
56% { -moz-transform: scale(1); }
58% { -moz-transform: scale(1); }
60% { -moz-transform: scale(1); }
62% { -moz-transform: scale(1); }
64% { -moz-transform: scale(1); }
66% { -moz-transform: scale(1); }
68% { -moz-transform: scale(1); }
70% { -moz-transform: scale(1); }
72% { -moz-transform: scale(1); }
74% { -moz-transform: scale(1); }
76% { -moz-transform: scale(1); }
78% { -moz-transform: scale(1); }
80% { -moz-transform: scale(1); }
82% { -moz-transform: scale(1); }
84% { -moz-transform: scale(1); }
86% { -moz-transform: scale(1); }
88% { -moz-transform: scale(1); }
90% { -moz-transform: scale(1); }
92% { -moz-transform: scale(1); }
94% { -moz-transform: scale(1); }
96% { -moz-transform: scale(1); }
98% { -moz-transform: scale(1); }
100% { -moz-transform: scale(1); } 
```

}

```
@keyframes pulse_animation {
0% { transform: scale(1); }
3% { transform: scale(1); }
4% { transform: scale(1); }
6% { transform: scale(1.08); }
8% { transform: scale(1); }
10% { transform: scale(1); }
12% { transform: scale(1); }
14% { transform: scale(1); }
16% { transform: scale(1); }
18% { transform: scale(1); }
20% { transform: scale(1); }
22% { transform: scale(1); }
24% { transform: scale(1); }
26% { transform: scale(1); }
28% { transform: scale(1); }
30% { transform: scale(1); }
32% { transform: scale(1); }
34% { transform: scale(1); }
36% { transform: scale(1); }
38% { transform: scale(1); }
40% { transform: scale(1); }
42% { transform: scale(1); }
44% { transform: scale(1); }
46% { transform: scale(1); }
48% { transform: scale(1); }
50% { transform: scale(1); }
52% { transform: scale(1); }
54% { transform: scale(1); }
56% { transform: scale(1); }
58% { transform: scale(1); }
60% { transform: scale(1); }
62% { transform: scale(1); }
64% { transform: scale(1); }
66% { transform: scale(1); }
68% { transform: scale(1); }
70% { transform: scale(1); }
72% { transform: scale(1); }
74% { transform: scale(1); }
76% { transform: scale(1); }
78% { transform: scale(1); }
80% { transform: scale(1); }
82% { transform: scale(1); }
84% { transform: scale(1); }
86% { transform: scale(1); }
88% { transform: scale(1); }
90% { transform: scale(1); }
92% { transform: scale(1); }
94% { transform: scale(1); }
96% { transform: scale(1); }
98% { transform: scale(1); }
100% { transform: scale(1); } 
```

}

```
.first-visit{
-webkit-animation-name: 'pulse_animation';
-webkit-animation-duration: 18000ms;
-webkit-transform-origin:40% 40%;
-webkit-animation-iteration-count: infinite;
-webkit-animation-timing-function: linear;
-webkit-animation-delay: 2s;

-moz-animation-name: 'pulse_animation';
-moz-animation-duration: 18000ms;
-moz-transform-origin:40% 40%;
-moz-animation-iteration-count: infinite;
-moz-animation-timing-function: linear;
-moz-animation-delay: 2s;

animation-name: 'pulse_animation';
animation-duration: 18000ms;
transform-origin:40% 40%;
animation-iteration-count: infinite;
animation-timing-function: linear; 
```

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T05:14:21.253

利用

```
-moz-animation-name: pulse_animation; 
```

代替

```
-moz-animation-name: 'pulse_animation'; 
```

动画名称是一个标识符，而不是一个字符串，因此不应该用引号引起来。

# javascript - jquery弹出效果'onclick'提交按钮（WITHDRAWN）

> ID：14117057
> 
> 赞同：4
> 
> 时间：2013-01-02T05:03:58.103
> 
> 标签：javascript, jquery, onclick, onsubmit

由于我是初学者，所以我有一个初学者的问题。

使用著名的[fancyBox](http://fancyapps.com/fancybox/)插件。它在头部被调用，如下所示：

```
$(document).ready(function() {
    $(".fancybox").fancybox();
}); 
```

通常通过添加类名来附加脚本：

```
<a class="fancybox fancybox.iframe">...</a> 
```

我现在遇到的困难是因为我想在用户提交表单后运行 fancyBox 弹出窗口：

```
<form action="http://maps.google.com/maps" method="get">
    ...(google API stuff etc, etc)...
    <input type="submit" value="..."> 
```

我对这一点的研究使我得出结论，我可能必须使用`onsubmit`或`onclick`在

```
<input type="submit"> 
```

然而，我的实验证明是徒劳的。

任何帮助将不胜感激。

=========================================

**更新：（2013 年 1 月 7 日）**

我正在撤回我的问题，因为我显然已经徘徊在目前略高于我头顶的主题上。我选择不删除这个问题，以防将来有人在这里找到一些有用的东西。谢谢大家的帮助。

我的理由：谷歌方向似乎不允许显示在`<iframe>`. 考虑到这一点，配置解决方法`fancyBox`将过于复杂。我放弃了 fancyBox 并使用了普通的旧 Javascript：

[如此处所示](https://stackoverflow.com/questions/14207482/center-window-open-on-form-submit)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T05:40:07.170

使用 $.ajax 发布表单可为您提供最大的控制权。然后，您可以从客户端控制成功和错误条件。

为此，您需要捕获提交事件：

```
$('#form').submit(function() {
 ajaxUpdate();
 return false;   
}); 
```

然后创建一个函数：

```
function ajaxUpdate(){
 var formSerial = $('#form').serialize();
 $.ajax({
        url: '<url to post to>',
        dataType: "text",
        type: "POST",
        data: formSerial,
        success: function(text) {
          $(".fancybox").fancybox();
        },
        error: function(text) {
          alert('error in posting');
        }
});
} 
```

然后，您可以在成功和错误块中做您喜欢的事情。

要加载一个窗口，您可以将以下内容添加到您的函数中：

```
if(confirm("Do you want to open the directions?")){
      $.fancybox({
                'titleShow': false,
                'width': 370,
                'height': 300,
                'href': <URL>,
                'type': 'iframe'
              });
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-02T05:26:57.783

使用 jquery 提交按钮是可能的：

```
$('#target').submit(function() {
$(".fancybox").fancybox();
  return false;
}); 
```

在花哨的框“确定”按钮后单击提交表单..

希望这个想法会有所帮助。

# python - Scrapy修改链接以包含域名

> ID：14117059
> 
> 赞同：0
> 
> 时间：2013-01-02T05:04:16.833
> 
> 标签：python, scrapy

我有一个项目，`item['link']`这种形式：

```
item['link'] = site.select('div[2]/div/h3/a/@href').extract() 
```

它提取的链接是这种形式：

```
'link': [u'/watch?v=1PTw-uy6LA0&list=SP3DB54B154E6D121D&index=189'], 
```

我希望他们是这样的：

```
'link': [u'http://www.youtube.com/watch?v=1PTw-uy6LA0&list=SP3DB54B154E6D121D&index=189'], 
```

是否可以直接在scrapy中执行此操作，而不是事后重新编辑列表？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-02T14:40:33.533

是的，每次我抓取链接时，我都必须使用 urlparse.urljoin 方法。

```
def parse(self, response):
       hxs = HtmlXPathSelector(response)
       urls = hxs.select('//a[contains(@href, "content")]/@href').extract()  ## only grab url with content in url name
       for i in urls:
           yield Request(urlparse.urljoin(response.url, i[1:]),callback=self.parse_url) 
```

我想你试图抓住整个 url 来解析它吗？如果是这种情况，一个简单的两种方法系统就可以在 basespider 上运行。parse 方法找到链接，将其发送到 parse_url 方法，该方法将您提取的内容输出到管道

```
def parse(self, response):
       hxs = HtmlXPathSelector(response)
       urls = hxs.select('//a[contains(@href, "content")]/@href').extract()  ## only grab url with content in url name
       for i in urls:
           yield Request(urlparse.urljoin(response.url, i[1:]),callback=self.parse_url)

def parse_url(self, response):
   hxs = HtmlXPathSelector(response)
   item = ZipgrabberItem()
   item['zip'] = hxs.select("//div[contains(@class,'odd')]/text()").extract() ## this grabs it
   return item 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-02T12:24:51.213

不，scrapy 不会为您执行此操作。根据标准，HTML 中的 URL 可以是绝对的或相对的。scrapy 将您提取的 url 视为数据，它无法知道它们是 url，因此您必须手动将相对 url 与基本 url 连接。

你需要[`urlparse.urljoin`](http://docs.python.org/2/library/urlparse.html#urlparse.urljoin)：

```
Python 2.7.3 (default, Sep 26 2012, 21:51:14) 
>>> import urlparse
>>> urlparse.urljoin('http://www.youtube.com', '/watch?v=1PTw-uy6LA0&list=SP3DB54B154E6D121D&index=189')
'http://www.youtube.com/watch?v=1PTw-uy6LA0&list=SP3DB54B154E6D121D&index=189'
>>> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-02T07:42:31.330

您确实需要**链接**作为列表，这对您来说很好。

```
item['link'] = ['http://www.youtube.com%s'%a for a in site.select('div[2]/div/h3/a/@href').extract()] 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2017-01-22T14:24:02.457

*使用：* `response.urljoin()` 没有这种方法可以直接提取绝对网址。您必须使用 response.urljoin() 并创建另一个解析函数，该函数在回调的帮助下进行解析。在第二个解析函数中，您可以提取您想要的任何内容。

# objective-c - 相对于设备和方向的帧大小

> ID：14117064
> 
> 赞同：0
> 
> 时间：2013-01-02T05:04:55.203
> 
> 标签：objective-c, ios, cocoa-touch, uikit

我创建了一个带有三个子视图的分页 UIScrollView。在横向（我设计的方向）上测试 iPhone 5 时效果很好，但只要设备分辨率发生变化，它就会中断。

无论设备或方向如何，如何使帧缩放到正确的分辨率？

```
- (void)viewDidLoad {
    CGRect frame;
    frame.origin.x = self.scrollView.frame.size.width * i;
    frame.origin.y = 0;
    frame.size = self.scrollView.frame.size;
}

- (IBAction)changePage {
    CGRect frame;
    frame.origin.x = self.scrollView.frame.size.width * self.pageControl.currentPage;
    frame.origin.y = 0;
    frame.size = self.scrollView.frame.size;
    [self.scrollView scrollRectToVisible:frame animated:YES];
    pageControlBeingUsed = YES;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T06:20:35.727

将您的滚动视图放在另一个自定义视图中。在自定义视图中，实现类似这样的 layoutSubviews。

```
@interface ViewScalesOneSubview : UIView
@property UIView *scalingSubview;//subview to scale
@end

@implementation ViewScalesOneSubview
-(void) layoutSubviews {
[super layoutSubviews];
CGRect parentBounds = [self bounds];
CGRect childBounds = [scalingSubview bounds];//unscaled
CGFloat scale = parentBounds.width / childBounds.width;
CGAffineTransform transform = CGAffineTransformMakeScale( scale , scale );
//fiddle with x,y translation to position as you like
scalingSubview.transform = transform;
}
@end 
```

给自定义视图自动调整大小，使其适合窗口或任何容器并随旋转而变化。不要让滚动视图自动调整大小，因为它会与此自定义 layoutSubviews 冲突。当自定义视图改变大小时，它将缩放缩放子视图以适应。通过对两个轴使用相同的比例，它将保持纵横比。您可以缩放以适应，或使用高度而不是宽度或其他。

编辑：

要调整视图大小，而不是缩放视图，请设置自动调整大小掩码。

```
scrollView.autoresizingMask = UIViewAutoresizingFlexibleWidth | UIViewAutoresizingFlexibleHeight; 
```

[https://developer.apple.com/library/ios/documentation/uikit/reference/UIView_Class/UIView/UIView.html#//apple_ref/occ/instp/UIView/autoresizingMask](https://developer.apple.com/library/ios/documentation/uikit/reference/UIView_Class/UIView/UIView.html#//apple_ref/occ/instp/UIView/autoresizingMask)

您也可以在界面生成器中执行此操作。

# android - 如何在邮件正文中插入新行

> ID：14117068
> 
> 赞同：1
> 
> 时间：2013-01-02T05:05:14.260
> 
> 标签：android

> **可能重复：**
> [如何在电子邮件内容中添加新行？](https://stackoverflow.com/questions/8386904/how-to-add-new-line-to-email-contents)

我想按以下格式发送电子邮件：

```
name: name
email: email
address: address 
```

但是当我发送邮件时，收到如下：

```
NameEmailAddress 
```

如何在这些之间插入新行？

我的代码是

```
 private void sendEMail(String message) {
    AppSheredPref pref = new AppSheredPref(this);
    String supplierEmailId = pref.getSupplierEmailId();
    String loggedIn = pref.getLoggedInEmailId();

    //String to = supplierEmailId;

    Intent email = new Intent(Intent.ACTION_SEND);
    email.putExtra(Intent.EXTRA_EMAIL, new String[]{loggedIn,supplierEmailId});

    //email.putExtra(Intent.EXTRA_CC, new String[]{ to});
    //email.putExtra(Intent.EXTRA_BCC, new String[]{to});

    email.putExtra(Intent.EXTRA_SUBJECT, "App Finance");
    email.putExtra(Intent.EXTRA_TEXT, message);

    //need this to prompts email client only
    email.setType("message/rfc822");
    startActivity(Intent.createChooser(email, "Choose an Email client :"));

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-02T05:10:04.593

试试这个可能对你有帮助。

```
email.putExtra(Intent.EXTRA_SUBJECT, "App Finance");
email.putExtra(Intent.EXTRA_TEXT,"Name:. XYZ \n\nemail:xyz@gmail.com\n\nAddress:XYZ"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-02T05:10:10.227

有两种方法可以解决这个问题。

1）为此使用 StringBuilder

```
StringBuilder sb;

sb.append("Name : ");
sb.append('\n');
sb.append("Email : ");
sb.append('\n');
sb.append("Address : ");

mInEmail.putExtra(android.content.Intent.EXTRA_TEXT,sb); 
```

2）为此使用 Html.fromHtml(StringValue)

```
String str = "Name:- <br></br> Email:- <br></br> Address:- <br></br>";
mInEmail.putExtra(android.content.Intent.EXTRA_TEXT, Html.fromHtml(str)); 
```

它会解决你的问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-02T05:11:12.300

如果你的正文内容是**HTML**，那么你需要使用**</br>**

如果你的正文内容是简单的**TEXT**那么你需要简单地使用**\n**

希望它会帮助你。

# linux - 用 mod_jk 配置 Apache2 和 tomcat7

> ID：14117076
> 
> 赞同：1
> 
> 时间：2013-01-02T05:06:12.653
> 
> 标签：linux, apache2, tomcat7

我想在Linux环境下用mod_jk配置Apache2和tomcat7..我想知道步骤..请帮我配置它...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-02T06:53:49.410

你自己尝试过什么吗？

[http://tomcat.apache.org/connectors-doc/generic_howto/quick.html](http://tomcat.apache.org/connectors-doc/generic_howto/quick.html)应该可以帮助您。但是，如果您还没有尝试过任何事情，那么我们该如何帮助您呢？让用户知道是否有任何特定的问题，包括错误消息等。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-09-08T13:51:16.047

您必须为 apache 进行配置（我使用 CentOS）。第一个文件在 /etc/httpd/conf/wokers.properties 下

```
# the name tomcat1 is variable
worker.list=tomcat1
# default ajp port on server.xml of tomcat
worker.tomcat1.port=8009
worker.tomcat1.host=localhost
worker.tomcat1.type=ajp13
worker.tocmat1.socket_timeout=200
worker.tomcat1.retries=1 
```

第二个文件取决于是全局还是要为虚拟主机定制。以下示例基于虚拟主机 (/etc/httpd/conf/virtualhost.conf)

```
JkWorkersFile "/etc/httpd/conf/workers.properties
JkLogFile /var/log/httpd/jk.log
JkOptions +ForwardKeySize +ForwardURICompat -ForwardDirectories
JkLogLevel info

# mount all under URI /
JkMount /* tomcat1

# umount /robots.txt, request goes to apache document root
JkMount /robots.txt tomcat1 
```

# c# - 涉及的对象有效时出现 NullReferenceException

> ID：14117078
> 
> 赞同：6
> 
> 时间：2013-01-02T05:06:15.510
> 
> 标签：c#, multithreading, datatable, nullreferenceexception

`NullReferenceException`被抛出在所有涉及的对象都有效的线上。`StackTrace`显示第 # 行是 432。

代码是

![在此处输入图像描述](../Images/a5578da8f0c3377e4ed25defe3d5d891.png)

在这里，`Flags`两者`tempFlags`都是数据表。两个数据表的列的数据类型都是原始的（十进制、日期时间、短）。该应用程序是一个多线程应用程序，代码片段属于线程函数。`Flags`在实例级别贴花，即`tempFlags`在线程函数内部声明时共享给所有线程。

在这个特定的时间实例中，`Flags`包含 1946 条记录并`tempFlags`包含 1。那么，为什么会出现 NullReferenceException 呢？

**编辑＃1**

```
ex.InnerException
null
ex.StackTrace
at System.Data.DataTable.RecordStateChanged(Int32 record1, DataViewRowState oldState1, DataViewRowState newState1, Int32 record2, DataViewRowState oldState2, DataViewRowState newState2)
at System.Data.DataTable.InsertRow(DataRow row, Int64 proposedID)
at System.Data.DataTable.MergeRow(DataRow row, DataRow targetRow, Boolean preserveChanges, Index idxSearch)
at System.Data.Merger.MergeTable(DataTable src, DataTable dst)
at System.Data.Merger.MergeTableData(DataTable src)
at System.Data.Merger.MergeTable(DataTable src)
at System.Data.DataTable.Merge(DataTable table, Boolean preserveChanges, MissingSchemaAction missingSchemaAction)
at System.Data.DataTable.Merge(DataTable table)
at [...].cs:line 432"
ex.Data
    {System.Collections.ListDictionaryInternal}
        [System.Collections.ListDictionaryInternal]: {System.Collections.ListDictionaryInternal}
        IsFixedSize: false
        IsReadOnly: false
        Keys: {System.Collections.ListDictionaryInternal.NodeKeyValueCollection}
        Values: {System.Collections.ListDictionaryInternal.NodeKeyValueCollection}
ex.Message
"Object reference not set to an instance of an object."
ex.Source
"System.Data" 
```

**编辑#2**

看起来 Merge 语句不是线程安全的，因为在将第 432 行放入锁后，异常消失了，SO FAR。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-02T05:40:43.440

每当您`NullReferenceException`从框架中获取并且您正在使用多线程时，几乎可以肯定这是一个线程安全问题，您没有在应该在的地方应用锁。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-02T05:32:15.923

由于它似乎在插入新行时发生，`System.Data.DataTable.InsertRow(DataRow row, Int64 proposedID)`我猜有一个约束说字段不能为空。您正在尝试从源表中插入一个空值。

或者，有一个计算列并且其中一个输入列为空。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-08T06:15:27.637

特定于这段代码的此异常 (IMO) 的说明。

假设线程 A 正在执行 Merge 并将`Dt1`存储在 Merge 中的数据表传递为`referenceToDatatable`，同时

线程 B 进来并传递`Dt2`给`Merge`它，存储在`Merge`as 中`referenceToDatatable`（引用是相同的，因为非原始对象是通过引用传递的，Merge 不是线程安全的并且没有锁），因此`Dt1`被 覆盖`Dt2`。

到目前为止没有例外，因为`Dt2`它具有相同的结构，但它不是`null`。

现在线程 B 被挂起，线程 A 进入，完成`Merge`并退出，因此无效`Dt1`，也无效`referenceToDatatable`。

现在线程 B 进来发现`referenceToDatatable = null`->**异常**

# macos - emacs org-export-as-pdf 中 pdflatex 的问题

> ID：14117083
> 
> 赞同：2
> 
> 时间：2013-01-02T05:07:14.640
> 
> 标签：macos, shell, pdf, emacs, org-mode

我对 emacs org-mode 有一些问题。当我在 org-mode 中使用命令 org-export-as-pdf 时，出现错误：

```
/bin/bash: pdflatex: command not found [3 times] 
```

我是 Mac OS X(10.7) 用户，emacs 版本是 24.2。我从官方网站下载了 Tex Live 并安装在`/usr/local/texlive`. 我知道 emacs shell 的环境变量与用户终端不同，所以我尝试了这个命令：

```
M-! $PATH 
```

它打印：

```
/bin/bash: /usr/bin:/bin:/usr/sbin:/sbin: No such file or directory 
```

然后我在下面输入了一些命令：

```
$which pdflatex
/usr/texbin

$ln -s /usr/texbin/pdflatex /usr/bin 
```

然后我又转回emacs，再次尝试了org-export-as-pdf，同样的问题仍然存在。
我很困惑，我需要你的帮助;-)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2018-06-05T15:22:07.830

将`pdflatex`目录添加到 Emacs`PATH`环境变量，而不是符号链接，例如将其添加到`~/.emacs`：

```
(setenv "PATH" (concat (getenv "PATH") ":/usr/texbin")) 
```

并再次使用`M-x load-file`并键入`~/.emacs`. 现在`C-c C-e lp`在组织模式下工作：

```
PDF file produced. 
```

[（在Unix.StackExchange](https://unix.stackexchange.com/questions/366294/org-mode-doesnt-export-to-pdf/448011#448011)上交叉发布。）

# android - 如何检查android上的某些服务是否不可用？

> ID：14117084
> 
> 赞同：1
> 
> 时间：2013-01-02T05:07:13.990
> 
> 标签：android, service, vpn

我发现，在某些设备上[VPNService](http://developer.android.com/reference/android/net/VpnService.html)不可用，即使它们具有正确的 android 版本（4.0 或更高版本）。有没有办法检查设备上是否真的有一些服务可用？

棘手的部分是，在某些设备上调用建立（）方法后抛出异常，但在其他设备上此方法工作正常，但应用程序在尝试打开确认窗口后崩溃。因此，解决方案不能中继检查建立（）是否抛出异常。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T23:11:01.830

我是 OpenVPN for Android 应用程序的作者。我也必须处理这些错误。第一个很容易。它会抛出一个 ActivityNotFoundException。如果您想先检查一下，您可能可以检查意图中提到的 Activity 是否存在。

[http://code.google.com/p/ics-openvpn/source/browse/src/de/blinkt/openvpn/LaunchVPN.java?name=v0.5.28#380](http://code.google.com/p/ics-openvpn/source/browse/src/de/blinkt/openvpn/LaunchVPN.java?name=v0.5.28#380)

建立（）问题更难解决。我使用捕获所有异常。在几乎所有情况下，/dev/tun 设备都不存在或拥有错误的权限。检查是否可行，但实施可能会发生变化，耳机供应商理论上可以推出自己的实施。这就像问操作系统：“你有问题吗？” 并期待一个正确的答案...

[http://code.google.com/p/ics-openvpn/source/browse/src/de/blinkt/openvpn/OpenVpnService.java?name=v0.5.28#351](http://code.google.com/p/ics-openvpn/source/browse/src/de/blinkt/openvpn/OpenVpnService.java?name=v0.5.28#351)

# android - 在Android中按下时如何更改颜色按钮的颜色？

> ID：14117086
> 
> 赞同：8
> 
> 时间：2013-01-02T05:07:25.523
> 
> 标签：android, android-button

我有一些按钮，我将其背景颜色分别设置为红色、绿色和蓝色。当我按下按钮时，会生成单击事件，但 gui 中没有任何变化让用户知道按下了按钮。Android 按钮的默认背景灰色变为橙色，并在释放按下状态后恢复为灰色。如何在彩色按钮上实现这一点？

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2013-01-02T05:09:37.973

这是通过 a 实现的`StateListDrawable`，用`selector`XML*表示*。参考：http: [//developer.android.com/guide/topics/resources/drawable-resource.html#StateList](http://developer.android.com/guide/topics/resources/drawable-resource.html#StateList)

这是一个*可绘制的示例，**默认情况下*为白色，*按下*时为黑色：

```
<?xml version="1.0" encoding="utf-8"?>
<selector xmlns:android="http://schemas.android.com/apk/res/android">
    <item android:state_pressed="true"
          android:drawable="@android:color/black" /> <!-- pressed -->
    <item android:drawable="@android:color/white" /> <!-- default -->
</selector> 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-01-02T06:45:19.390

正如 K-Ballo 所提到的，您可以使用 StateListDrawable 根据状态实现具有各种不同图形的视图。在您的情况下， Button 是两种状态是 Button 按下和 button 未按下的视图。

我们需要在drawable文件夹中创建一个buttonselector.xml文件

```
<?xml version="1.0" encoding="utf-8"?>
<selector xmlns:android="http://schemas.android.com/apk/res/android">

    <item android:drawable="@drawable/button_not_pressed" android:state_pressed="false" android:state_selected="false"/>
    <item android:drawable="@drawable/button_pressed" android:state_pressed="true"/>

</selector> 
```

为按钮的状态创建两个单独的 xml 文件

button_not_pressed.xml

```
<?xml version="1.0" encoding="utf-8"?>
<shape xmlns:android="http://schemas.android.com/apk/res/android"
    android:shape="rectangle">
  <gradient
      android:startColor="#FFFFFF"
      android:centerColor="#FFFFFF"
      android:endColor="#FFFFFF"
      android:angle="270" />
</shape> 
```

button_pressed.xml

```
<?xml version="1.0" encoding="utf-8"?>
<shape xmlns:android="http://schemas.android.com/apk/res/android"
    android:shape="rectangle">
  <gradient
      android:startColor="#FF0000"
      android:centerColor="#FF0000"
      android:endColor="#FF0000"
      android:angle="270" />
</shape> 
```

您会注意到两个 html 颜色代码 #FF0000 和 #FFFFFF 根据状态表示按钮的背景颜色。

在您设置自定义按钮样式的 main.xml 中

```
<Button
        android:id="@+id/customButton"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:background="@drawable/buttonselector"
        android:text="test"
        android:textColor="#000000" /> 
```

在您的活动类中添加以下两行

```
Button customButton = (Button) findViewById(R.id.customButton);
customButton.setBackground(getResources().getDrawable(R.drawable.buttonselector)); 
```

希望能帮助到你

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-02T05:24:05.273

试试这种方式：

```
<?xml version="1.0" encoding="utf-8"?>   
<selector xmlns:android="http://schemas.android.com/apk/res/android" >   
    <item android:state_pressed="true" >
        <shape>
            <solid
                android:color="#1E669B" />
            <stroke
                android:width="2dp"
                android:color="#1B5E91" />
            <corners
                android:radius="6dp" />
            <padding
                android:left="10dp"
                android:top="10dp"
                android:right="10dp"
                android:bottom="10dp" />            
        </shape>
    </item>
    <item>
        <shape>
            <gradient
                android:startColor="#1E669B"
                android:endColor="#1E669B"
                android:angle="270" />
            <stroke
                android:width="4dp"
                android:color="#1B5E91" />
            <corners
                android:radius="7dp" />
            <padding
                android:left="10dp"
                android:top="10dp"
                android:right="10dp"
                android:bottom="10dp" />
        </shape>
    </item>
</selector> 
```

# javascript - 无法连接到本地 mongoDB 安装

> ID：14117087
> 
> 赞同：0
> 
> 时间：2013-01-02T05:07:28.027
> 
> 标签：javascript, mongodb, unix, nosql

在下载、解压、创建`data/db`文件夹并 cd-ing 到我提取 mongoDB 的位置后，我尝试按照官方 mongoDB 安装说明的指示运行此命令：`.bin/mongo/`但我不断收到此错误：

`Error: couldn't connect to server 127.0.0.1:27017 src/mongo/shell/mongo.js:91`

尽管这似乎是一个常见问题，但我在互联网上找不到简明的解释，而且 mongoDB 文档也不清楚。谁能帮我吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-02T05:14:18.533

在尝试与客户端连接之前启动服务器：

```
mongod 
```

或者，如果您想专门将其指向数据库位置，并记录到日志文件：

```
mongod --logpath /data/log/mongo.log --dbpath /data/db 
```

或者这种性质的东西。此命令将在前台进程中运行服务器。您可以使用`--fork`它来守护它。

# javascript - Javascript 正则表达式值搜索

> ID：14117088
> 
> 赞同：2
> 
> 时间：2013-01-02T05:07:29.477
> 
> 标签：javascript, regex

阅读[此处](https://stackoverflow.com/questions/432493/how-do-you-access-the-matched-groups-in-a-javascript-regex)的帖子后，我尝试通过正则表达式获取值，如下所示：

```
var myString = "<a href='/search.html?id=HDJ&area=ASD&estate=JKG&ppt=3'></a>";
var myRegexp = /&estate=(.*?)(?:\s|$)/g;
var match = myRegexp.exec(myString);
match[1] 
```

结果是`JKG&propertytype=3'></a>`，但我只想`JKG`。严格来说，我想要 和 之间的值`&estate=`有人`&ppt`可以建议如何做到这一点吗？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-02T05:11:42.767

做：

```
var myString = "<a href='/search.html?id=HDJ&area=ASD&estate=JKG&ppt=3'></a>";
var myRegexp = /estate=(.*)&ppt=/g;
var match = myRegexp.exec(myString);
console.log( match[1] ); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-02T05:10:41.863

**正则表达式：**

```
/&estate=(.*?)&ppt=/g 
```

**注意：**我不建议使用正则表达式来解析查询字符串。它很脆。考虑查询字符串中的变量是否更改顺序。如果是这种情况，我建议阅读 - [Parse query string in JavaScript](https://stackoverflow.com/questions/2090551/parse-query-string-in-javascript)。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-02T06:00:17.660

如果只有解决方案很重要，那么您可以使用以下内容：

```
var myString = "<a href='/search.html?id=HDJ&area=ASD&estate=JKG&ppt=3'></a>";
var indx1 = mystring.indexOf("&estate=") + 8;
var indx2 = mystring.indexOf("&ppt");
var neededString = mystring.substring(indx1, indx2); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-02T05:19:23.053

[**jsFiddle**](http://jsfiddle.net/RF2gX/)

根据您的结果值，只需`split`将其放在与号处，***不需要新的或备用的正则表达式。***

**JavaScript：**

```
var myString = "<a href='/search.html?id=HDJ&area=ASD&estate=JKG&ppt=3'></a>";
var myRegexp = /&estate=(.*?)(?:\s|$)/g;
var match = myRegexp.exec(myString);

var value = match[1].split('&')[0];

alert( value ); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-02T05:13:18.757

只需从选择中排除＆符号：

```
var myRegexp = /&estate=([^&]+)/g; 
```

您可能希望将其更改为此，以防房地产是第一个参数：

```
var myRegexp = /[\?&]estate=([^&]+)/g; 
```

# java - 如何对对象数组列表中的整数进行排序？

> ID：14117093
> 
> 赞同：0
> 
> 时间：2013-01-02T05:08:20.493
> 
> 标签：java, arrays, object

我有一个充满对象的数组列表。每个对象由两个整数组成。如何根据第一个整数对数组列表进行排序，同时将第二个整数与其原始整数保持一致？然后如何添加排序数组列表的所有第二个整数？

我试过这个：

```
Collections.sort(info, new Comparator()
    {
        public int compare(M one, M two) 
        {
            return m1.getCost().compareToIgnoreCase(m2.getCost());
        }

    });

class M{
//Declares the attributes belonging to this class
private int money;
private int cost;

//Constructor method
{
    //this refers to object in which the method was called
    this.cost = cost;
    this.money = money;
}

//Returns the cost variable
public int getCost()
{
    return cost;
}

public void setCost(int cost)
{
    this.cost = cost;
}

//Returns the maximum amount
public int getMoney()
{
    return money;
}

public void setMoney(int Money)
{
    this.Money = Money;
} 
```

}

我是java新手，所以任何帮助将不胜感激（：

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-02T06:34:43.383

```
import java.util.*;

public class M implements Comparator<M>{

int i,j;

M(int a, int b){
    i=a; j=b;
}

public int compare(M m1, M m2){

    return (m1.i-m2.i);
}

public boolean equals(Object o){
    if(this.i==((M)o).i)
        return true;
    else 
        return false;
}

public static void main(String args[]){

        M m1 = new M(2,1);
        M m2 = new M(3,2);
        M m3 = new M(1,3);

        ArrayList<M> a = new ArrayList<M>();
        a.add(m1);
        a.add(m2);
        a.add(m3);

                   Collections.sort(a,(Comparator<M>)m1);

                    //ArrayList a is sorted
            for(int j=0;j<a.size();j++){
        System.out.println(a.get(j).i);
    }
}
} 
```

在您的类中实现 Comparator 接口，以便 Collections.sort 方法使用类 M 的 int1 对对象进行排序。然后使用 Collections.sort 方法对数组进行排序。这应该回答问题的第一部分。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-02T05:22:18.367

创建[Comparator](http://docs.oracle.com/javase/6/docs/api/java/util/Comparator.html)时，应将其用作 Generic 类型`T`（其中`T`表示数组中的对象），因此：`public int compare(T a, T b) { .. }`.

例如：

```
new Comparator<M> {
    // Note the signature
    public int compare(M one, M two) 
    {
        // Now return a correct value based on the ordering
        // using one.getCost() and two.getCost()
        // Obviously "compareToIgnoreCase" is wrong for use with numbers.
        // Either work this out or see one of the existing/linked answers.
    }
} 
```

如果不使用泛型，则签名是`public int compare(Object one, Object two)`并且可能需要强制转换 - 请注意，*没有*重载`(int, int)`; 这是一个从未使用过的声明方法！

也可以看看：

*   [如何按属性对对象数组列表进行排序？](https://stackoverflow.com/questions/2535124/how-to-sort-an-arraylist-of-objects-by-a-property)（我已投票关闭作为这个副本的副本，它*显示了一种正确且简单的方法来获取两个数值之间的排序*。）
*   [根据姓名对联系人的 ArrayList 进行排序？](https://stackoverflow.com/questions/1814095/sorting-an-arraylist-of-contacts-based-on-name?lq=1)（讨论另一种方法是让对象自己实现`Comparable`。）

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-02T05:39:17.233

这个怎么样 ：

`public class Main {`

 ````
/**
 * @param args the command line arguments
 */
public static void main(String[] args) {
    M[] mm = new M[4];
    mm[0] = new M(11, 2);
    mm[1] = new M(11, 4);
    mm[2] = new M(4, 67);
    mm[3] = new M(4, 2);
    mm = compareM(mm);
    for (int a = 0; a < mm.length; a++) {
        System.out.println("index : "+a+" a : "+mm[a].a+" b : "+mm[a].b);
    }
}

public static M[] compareM(M[] data) {
    for (int a = 0; a < data.length - 1; a++) {
        for (int b = a + 1; b < data.length; b++) {
            if (data[a].a > data[b].a) {
                M temp = data[a];
                data[a] = data[b];
                data[b] = temp;
            }
        }
    }
    for (int a = 0; a < data.length; a++) {
        int indStart = a;
        int indEnd = a;
        for (int b = a + 1; b < data.length; b++) {
            if (data[b].a == data[a].a) {
                indEnd++;
            } else {
                b = data.length;
            }
        }
        a = indEnd;
        for (int c = indStart; c <= indEnd; c++) {
            for (int d = c + 1; d <= indEnd; d++) {
                if (data[c].b > data[d].b) {
                    M temp = data[c];
                    data[c] = data[d];
                    data[d] = temp;
                }
            }
        }
    }
    return data;
}

static class M {

    public int a, b;
    //u can have function to set value of a n b, or any function

    public M(int ax, int bx) {
        this.a = ax;
        this.b = bx;
    }
} 
```

}`

# android - 谷歌地图没有在模拟器中加载

> ID：14117097
> 
> 赞同：0
> 
> 时间：2013-01-02T05:08:37.320
> 
> 标签：android

我是 android 新手，正在开发 GPS 应用程序。我在这个应用程序中使用谷歌地图，但它显示空白地图视图。

首先，我找到了 MD5 和 SHA1 指纹。然后使用 SHA1 我得到了谷歌 APi 密钥。我在我的应用程序中使用了该密钥。

我已经设置了所有权限，但地图仍然没有加载..并且在 logcat 窗口它显示错误..

**找不到 com.google.settings 的提供者信息，** 并且**无法获取连接工厂客户端**。

请指导我..问题出在哪里？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T05:12:40.930

MapView 示例默认不设置 API 密钥。所以你必须设置它。这是一步一步的：

**从您的系统中获取 MD5**

```
%JAVA_HOME%\bin\keytool.exe -list -alias androiddebugkey -keystore "%userprofile%\.android\debug.keystore" -storepass android -keypass android 
```

**通过将生成的 MD5 粘贴到此页面来获取 API 密钥**：

[http://code.google.com/android/maps-api-signup.html](http://code.google.com/android/maps-api-signup.html)

将生成的 API 密钥粘贴到`{your_project_root}/res/layout/map.xml`

```
<com.google.android.maps.MapView
    android:id="@+id/myMapView"
    android:layout_width="fill_parent" 
    android:layout_height="fill_parent"
    android:enabled="true"
    android:clickable="true"
    android:apiKey="paste_generated_api_key_here"
/> 
```

在 AndroidManifest.xml 中，确保您的应用程序标记中有以下标记：

```
<uses-library android:name="com.google.android.maps" /> 
```

以及清单标签中的以下标签：

```
<uses-permission android:name="android.permission.INTERNET" /> 
```

刷新您的项目并运行

**笔记：**

keytool.exe、debug.keystore 和 map.xml 的路径在您的系统上可能会有所不同。如果您发布您的应用程序，请务必注册另一个 API 密钥。如果您没有正确设置 API 密钥，您的应用程序将在手机上失败，并且错误消息可能是“...已意外停止。请重试。-强制关闭”更多详细信息，请访问 [http://d.android.com /guide/tutorials/views/hello-mapview.html](http://d.android.com/guide/tutorials/views/hello-mapview.html)

**编辑**

安装 JDK 1.7 后，keytool 始终默认输出 SHA1 指纹，而不是 MD5。**您可以通过添加-v**选项来获取 MD5 证书。

使用以下代码：-

```
%JAVA_HOME%\bin\keytool.exe -v -list -alias androiddebugkey -keystore "%userprofile%\.android\debug.keystore" -storepass android -keypass android 
```

它也会输出 MD5 证书。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-10-16T10:18:46.730

1\. 使用 api 15 或低于 18
2 创建模拟器。启动模拟器
3。
从 net 4下载 com.android.vending-20130924.apk 和 com.google.android.gms-20130924.apk 文件。打开命令提示符
5 . 在命令提示符 6 中切换到 E:\adt-bundle-windows-x86-20130911\sdk\platform-tools 的路径
。使用命令将下载的 apk 文件显式安装到模拟器， adb install com.android.vending-20130924.apk.apk 和 adb install com.google.android.gms-20130924.apk
7\. 运行应用程序

以上步骤将在模拟器中加载谷歌地图

# css - IE7不显示背景png

> ID：14117103
> 
> 赞同：1
> 
> 时间：2013-01-02T05:09:18.697
> 
> 标签：css, internet-explorer-7, background-image

用于导航的背景图像在 Firefox 和 Chrome 中显示良好。但是 Internet Explorer 7 根本不显示它。有问题的网站是[www.vickieats.com](http://www.vickieats.com/)

CSS：

```
.navbar-inner{
   background:url(images/bg-nav.png) repeat-x left #d0a86a;
   border-radius:12px;
}
.navbar .nav > li > a{
   color:#FFF;
   font-size:1.25em;
   font-weight:bold;
   padding:28px 35px;
   text-shadow:0 1px #000;
   text-transform:uppercase;
}
.navbar .nav > li > a:hover{
   color:#6E5632;
} 
```

我确定这是愚蠢的，所以请帮忙，谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-02T05:16:16.693

从 .navbar-inner 中删除过滤器，然后尝试。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-02T05:21:47.970

我注意到你在你的 CSS 中给出了一个位置尝试同时给出两个位置

```
.navbar-inner{
   background:url(images/bg-nav.png) repeat-x left top #d0a86a;
   border-radius:12px;
} 
```

你也可以试试这个 css 希望这能奏效，如果你有任何问题，请告诉我

```
 .navbar-inner{
       background-image:url(images/bg-nav.png);
       background-color:#d0a86a;
       background-repeat:repeat-x;
       background-position:top left;
       border-radius:12px;
    } 
```

# javascript - 将c#字符串中的特殊字符转换为html特殊字符

> ID：14117107
> 
> 赞同：2
> 
> 时间：2013-01-02T05:09:42.587
> 
> 标签：javascript, jquery, html, c#-4.0

我正在使用.Net：

```
fulltext = File.ReadAllText(@location); 
```

在给定位置读取文本 anyfile 内容。我得到的结果为：

> `fulltext="# vdk10.syx\t1.1 - 3/15/94\r# @(#)Copyright (C) 1987-1993 Verity, Inc.\r#\r# Synonym-list Database Descriptor\r#\r$control: 1\rdescriptor:\r{\r data-table: syu\r {\r worm:\tTHDSTAMP\t\tdate\r worm:\tQPARSER\t\t\ttext\r\t/_hexdata = yes\r varwidth:\tWORD\t\tsyv\r fixwidth:\tEXPLEN\t\t\t2 unsigned-integer\r varwidth:\tEXPLIST\t\tsyx\r\t/_hexdata = yes\r }\r data-table: syw\r {\r varwidth:\tSYNONYMS\tsyz\r }\r}\r\r ";`

现在，我希望这个全文显示在 html 页面中，以便在 html 中正确识别特殊字符。例如： \r 应替换为换行标记，以便它们在 html 页面显示中正确格式化。

有没有 .net 类可以做到这一点？我正在寻找通用方法，因为我正在读取文件并且我可以有任何特殊字符。提前感谢您的帮助或只是指导。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T08:47:38.763

感谢大家在这里提出宝贵的意见。我用以下代码解决了客户端的格式问题。

> document.getElementById('textView').innerText = fulltext;

这里 textview 是我要显示全文的 div 。我认为我不需要替换字符串全文中的特殊字符。我输出如图。

![在此处输入图像描述](../Images/2953832b44e2a36da0a049bc40dbbccf.png)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-02T05:32:02.453

您正在尝试解决两个问题：

1.  确保特殊字符被正确编码
2.  漂亮地打印你的文本

按以下顺序解决它们：

1.  首先，通过导入 System.Web 命名空间并使用 HttpUtility（[在 StackOverflow 上询问](https://stackoverflow.com/questions/4224665/html-encoding-in-net-class-library)）对文本进行编码。使用步骤 2 中的结果。
2.  漂亮打印更棘手，具体取决于您想要的漂亮打印量。以下是一些方法，按难度递增的顺序排列：
    *   将文本放入`pre`元素中。这应该保留换行符、制表符、空格。如果您首先在`pre`.
    *   全部替换`\r`，`\r\n`其余`\n`为`<br/>`。
    *   研究你的文本的结构，根据这个结构解析它，并在特定的上下文中提供特定的标签。例如，您示例中的制表符可能表示项目列表。HTML 为列表提供了`ol`和`ul`元素。类似地，连续的换行符可以指示段落，HTML 为其提供了众所周知的`p`元素。

# zend-framework - 在zend框架中为同一个控制器设置多个路由器

> ID：14117110
> 
> 赞同：1
> 
> 时间：2013-01-02T05:10:09.297
> 
> 标签：zend-framework, zend-controller-router

如果我们在一个控制器中面临不同的动作，如何为同一个控制器设置多个路由器？
我在管理模块的控制器服务中有两个操作。
第一个动作是管理，第二个是管理文章
这是我的代码

```
protected function _initRoutes(){
    $this->bootstrap('FrontController');
    $router = $this->getResource('FrontController')->getRouter();

    $route = new Zend_Controller_Router_Route(
                        'admin/services/:actionType',
                        array('module' => 'admin',
                            'controller' => 'services',
                            'action' => 'manage'),
                        array('actionType' => '(add|edit)')
                    );

    $router->addRoute('services', $route);     

    $routeServiceArticle = new Zend_Controller_Router_Route(
                        'admin/services/article/:actionType',
                        array('module' => 'admin',
                            'controller' => 'services',
                            'action' => 'manageArticle'),
                        array('actionType' => '(addArticle|editArticle)')
                    );

    $router->addRoute('services', $routeServiceArticle);      
} 
```

请帮助我
提前谢谢！！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T09:09:48.757

您需要为路线指定不同的名称，例如：

```
$router->addRoute('services', $route);

[...]

$router->addRoute('servicesArticle', $routeServiceArticle); 
```

然后它应该工作。

# sqlite - 不同表中的Sqlite日期比较

> ID：14117112
> 
> 赞同：1
> 
> 时间：2013-01-02T05:10:10.910
> 
> 标签：sqlite, air

我正在使用以下查询来比较日期值。

```
select *   from OFFER   where date('now') >= Datetime(START_DATE) 
and date('now') <= Datetime(END_DATE) 
```

它工作正常..但我找不到从另一个表查询日期比较的语法..

```
 select *   from EMPLOYEE 
where date('now') >= Datetime(VACATIONS.START_DATE)  and date('now') <= Datetime(VACATIONS.END_DATE)` 
```

这里 EMPLOYEE 和 VACATIONS 是表格名称..请纠正我..谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-02T05:17:23.507

不确定，但可能是这样的：

```
SELECT A.* from EMPLOYEE A, VACATIONS B WHERE  
date('now') >= Datetime(B.START_DATE)  
and date('now') <= Datetime(B.END_DATE) 
```

# ruby-on-rails - 错误：“rake/rdoctask”已过时，不再受支持。改用“rdoc/task”（在 RDoc 2.4.2+ 中可用）

> ID：14117114
> 
> 赞同：35
> 
> 时间：2013-01-02T05:10:16.087
> 
> 标签：ruby-on-rails, ruby-on-rails-3.2

似乎这个问题的最后一个帖子由于某种原因被关闭了，所以我会试试我的运气......

我正在尝试运行一个简单的“rake db:migrate”命令。当我这样做时，我得到标题中的错误。是的，解决方案“看起来”很明显，但这不是因为我不知道我的 Rakefile 不包含对“rake/rdoctask”的任何引用。它似乎来自documentation.rake，但是当我尝试按照错误的建议更改该文件时，我得到了一个不同的错误。我发现一些帖子声明这是一个已知问题，但我发现没有任何内容表明如何修复或解决此问题。

有谁知道如何解决它？下面是带有 --trace 的 rake 命令的输出：

```
$ rake --trace db:migrate
rake aborted!
ERROR: 'rake/rdoctask' is obsolete and no longer supported. Use 'rdoc/task' (available in RDoc 2.4.2+) instead.
    C:/Programs/Ruby193/lib/ruby/gems/1.9.1/gems/rake-10.0.3/lib/rake/rdoctask.rb:1:in `<top (required)>'
    C:/Programs/Ruby193/lib/ruby/gems/1.9.1/gems/railties-3.0.3/lib/rails/tasks/documentation.rake:2:in `require'
    C:/Programs/Ruby193/lib/ruby/gems/1.9.1/gems/railties-3.0.3/lib/rails/tasks/documentation.rake:2:in `<top (required)>'
    C:/Programs/Ruby193/lib/ruby/gems/1.9.1/gems/railties-3.0.3/lib/rails/tasks.rb:15:in `load'
    C:/Programs/Ruby193/lib/ruby/gems/1.9.1/gems/railties-3.0.3/lib/rails/tasks.rb:15:in `block in <top (required)>'
    C:/Programs/Ruby193/lib/ruby/gems/1.9.1/gems/railties-3.0.3/lib/rails/tasks.rb:6:in `each'
    C:/Programs/Ruby193/lib/ruby/gems/1.9.1/gems/railties-3.0.3/lib/rails/tasks.rb:6:in `<top (required)>'
    C:/Programs/Ruby193/lib/ruby/gems/1.9.1/gems/railties-3.0.3/lib/rails/application.rb:213:in `require'
    C:/Programs/Ruby193/lib/ruby/gems/1.9.1/gems/railties-3.0.3/lib/rails/application.rb:213:in `initialize_tasks'
    C:/Programs/Ruby193/lib/ruby/gems/1.9.1/gems/railties-3.0.3/lib/rails/application.rb:139:in `load_tasks'
    C:/Programs/Ruby193/lib/ruby/gems/1.9.1/gems/railties-3.0.3/lib/rails/application.rb:77:in `method_missing'
    C:/developer/skknobara/Rakefile:7:in `<top (required)>'
    C:/Programs/Ruby193/lib/ruby/gems/1.9.1/gems/rake-10.0.3/lib/rake/rake_module.rb:25:in `load'
    C:/Programs/Ruby193/lib/ruby/gems/1.9.1/gems/rake-10.0.3/lib/rake/rake_module.rb:25:in `load_rakefile'
    C:/Programs/Ruby193/lib/ruby/gems/1.9.1/gems/rake-10.0.3/lib/rake/application.rb:583:in `raw_load_rakefile'
    C:/Programs/Ruby193/lib/ruby/gems/1.9.1/gems/rake-10.0.3/lib/rake/application.rb:89:in `block in load_rakefile'
    C:/Programs/Ruby193/lib/ruby/gems/1.9.1/gems/rake-10.0.3/lib/rake/application.rb:160:in `standard_exception_handling'
    C:/Programs/Ruby193/lib/ruby/gems/1.9.1/gems/rake-10.0.3/lib/rake/application.rb:88:in `load_rakefile'
    C:/Programs/Ruby193/lib/ruby/gems/1.9.1/gems/rake-10.0.3/lib/rake/application.rb:72:in `block in run'
    C:/Programs/Ruby193/lib/ruby/gems/1.9.1/gems/rake-10.0.3/lib/rake/application.rb:160:in `standard_exception_handling'
    C:/Programs/Ruby193/lib/ruby/gems/1.9.1/gems/rake-10.0.3/lib/rake/application.rb:70:in `run'
    C:/Programs/Ruby193/lib/ruby/gems/1.9.1/gems/rake-10.0.3/bin/rake:33:in `<top (required)>'
    C:/Programs/Ruby193/bin/rake:23:in `load'
    C:/Programs/Ruby193/bin/rake:23:in `<main>' 
```

* * *

我发现我的 Gemfile 中有 rails 3.0.3，所以我将其更改为 3.2.9，但现在当我运行 rake db:migrate 时，我得到：

```
rake aborted!
Bundler could not find compatible versions for gem "rack":
  In Gemfile:
    rails (= 3.2.9) x86-mingw32 depends on
      rack (~> 1.4.0) x86-mingw32

    rack (1.2.5) 
```

我不确定错误是什么意思，但“gem list rack”显示我同时安装了 1.4.1 和 1.4.0。我的 Gemfile 非常简单：

```
gem 'rails', '3.2.9'
gem 'rack','< 1.4.1'
gem 'mysql2', '< 0.3' 
```

有什么想法吗？

* * *

## 回答 #1

> 赞同：62
> 
> 时间：2013-01-04T09:59:40.983

我在使用 rails 2.3.5 时遇到了类似的问题，因此按照跟踪消息中的指示，我将 Rakefile 编辑为需要 'rdoc/task' 而不是 rake/rdoctask 并安装了 rdoc gem。

如果您使用的是 rake 版本 > 10.0.0 。请编辑您的 Rakefile

从：

```
require 'rake'
require 'rake/testtask'
require 'rake/rdoctask'
require 'tasks/rails' 
```

至：

```
require 'rake'
require 'rake/testtask'
require 'rdoc/task'
require 'tasks/rails' 
```

如果您不想编辑 Rakefile，您可以像这样切换回旧版本的 take

```
gem uninstall rake -v 10.0.3
gem install rake -v 0.8.7 
```

* * *

## 回答 #2

> 赞同：22
> 
> 时间：2013-01-11T14:48:50.540

将旧应用程序迁移到 rails 2.3.15 时，我遇到了类似的问题。我通过安装旧版本的 rake 并卸载当前的 10.0.3 版本来解决它：

```
gem install rake --version 0.8.7
gem uninstall rake --version 10.0.3 
```

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2013-06-22T03:44:25.287

我让它工作了

宝石“耙子”，“0.9.2.2”

在我的 Gemfile 中，然后运行 ​​rake

```
bundle exec rake db:migrate 
```

* * *

## 回答 #4

> 赞同：6
> 
> 时间：2013-02-26T01:30:08.963

我必须解决这个问题，同时不要破坏安装旧 rake 但未安装 rdoc 的地方。我添加了一个 begin...rescue 子句：

```
begin
  require 'rake/rdoctask'
rescue
  require 'rdoc/task'
end 
```

* * *

## 回答 #5

> 赞同：6
> 
> 时间：2013-05-16T10:58:42.253

我遇到了同样的问题......我做了上面提到的*GiridharBandi*：

```
require 'rake'
require 'rake/testtask'
require 'rake/rdoctask'
require 'tasks/rails' 
```

至：

```
require 'rake'
require 'rake/testtask'
require 'rdoc/task'
require 'tasks/rails' 
```

gem 列表中有 Rake 版本 10.0.4，但是当我尝试卸载时，它说未安装 rake。所以我忽略了这一点，继续安装 rake 0.8.7。安装后，我安装了 rdoc

```
gem install rdoc

<= 1.8.6 : unsupported
 = 1.8.7 : gem install rdoc-data; rdoc-data --install
 = 1.9.1 : gem install rdoc-data; rdoc-data --install
>= 1.9.2 : nothing to do! Yay! 
```

然后一切都开始正常了。

对于 rails 3.0.6，具有相同类型的错误：

```
ERROR: 'rake/rdoctask' is obsolete and no longer supported. Use 'rdoc/task' (available in RDoc 2.4.2+) instead. 
```

我安装了 rake 0.9.2 和 rdoc。注释掉#require 'tasks/rails' 然后一切都开始工作了。我认为 rake 问题在 rails > 3.2.9 中得到解决。

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2013-11-27T08:15:29.593

哦，我的上帝，我花了将近一个小时来解决这个问题，最后这是我的情况（可能对某人有帮助:)）：我安装了多个 Rails 版本，所以我只是卸载了最新的版本，因为我想使用最前卫的版本（ 4.0.1 现在）

所以 ：

```
$ gem uninstall rails 
```

我得到了这个：

```
Select gem to uninstall:
 1\. rails-0.9.5
 2\. rails-4.0.0
 3\. rails-4.0.1
 4\. All versions
> 
```

所以我选择了前两个，就是这样:)现在一切都好希望这可以帮助那些像我一样神秘卡住的人:(

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2013-01-02T18:43:26.987

我最近遇到了类似的问题。

看起来与以下问题相同：[无法运行任何 rake 命令：“错误：'rake/rdoctask'已过时且不再受支持”](https://stackoverflow.com/questions/13979550/cant-run-any-rake-command-error-rake-rdoctask-is-obsolete-and-no-longer-su)

我通过升级到 Rails 3.2.9 解决了这个问题。

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2013-01-23T22:23:34.227

像原始海报一样，我不需要 rake/rdoctask。升级我的导轨不是一种选择。答案是在您的 Gemfile 中将您的 rake 保持在 0.9.2.2。

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2013-01-23T18:46:59.417

这可能不是正确的方法，但我进入了我的 Gemfile.lock 文件并将我的 rake 版本从 10.0.3 更改回 0.8.7。我现在正在运行 Rails 3.0.5，并在恢复之前短暂更新到 3.0.19。我相信更新了一些 gem 并且也使得 Rails gem 正在寻找大于或等于 0.8.7 的最新版本：

```
rails (3.0.5)
  actionmailer (= 3.0.5)
  actionpack (= 3.0.5)
  activerecord (= 3.0.5)
  activeresource (= 3.0.5)
  activesupport (= 3.0.5)
  bundler (~> 1.0)
  railties (= 3.0.5)
railties (3.0.5)
  actionpack (= 3.0.5)
  activesupport (= 3.0.5)
  rake (>= 0.8.7)
  thor (~> 0.14.4)
rake (0.8.7) 
```

我还卸载了 10.0.3：

```
gem uninstall rake --version 10.0.3 
```

之后，一切都恢复正常运行。

如果我不回滚 rails 3.0.19，那么我会继续使用 rake 10.0.3。

希望这对某人有帮助！

* * *

## 回答 #10

> 赞同：1
> 
> 时间：2013-08-11T00:37:05.017

每当我有一个基于 Bundler 的项目并且我使用的是 Ruby 1.9 时，我都会遇到这个问题。***2*** . 最终我发现 Bundler 并没有管理 rdoc gem，我所要做的就是在 Gemfile 中包含 rdoc（或者如果 Gemfile 已经配置为使用它，则包含 gemspec）并运行`bundle install`.

我似乎从来没有遇到过 1.9.3 或 2.0.0，只有 1.9.2。

# java - 使用 Spring 动态加载属性文件

> ID：14117117
> 
> 赞同：4
> 
> 时间：2013-01-02T05:10:31.503
> 
> 标签：java, spring, resources, configuration-files

我写了一个 PropertyUtils 类（来自互联网），它将加载属性

```
<bean id="propertiesUtil" class="com.myApp.PropertiesUtil" >
    <property name="locations">
        <list>
            <value>classpath:myApp/myApp.properties</value>         
        </list>
    </property>
</bean> 
```

PropertiesUtil 类如下所示

```
public class PropertiesUtil extends PropertyPlaceholderConfigurer {

    private static Map<String, String> properties = new HashMap<String, String>();

    @Override
    protected void loadProperties(final Properties props) throws IOException {
        super.loadProperties(props);
        for (final Object key : props.keySet()) {
            properties.put((String) key, props.getProperty((String) key));
        }
    }

    public String getProperty(final String name) {
        return properties.get(name);
    }

} 
```

稍后，我可以通过调用 PropertiesUtil.getProperty() 方法来获取该属性。

但现在我想稍微修改一下，如果 myApp.properties 被用户修改/更改，它应该再次加载

可能我需要 FileWatcher 类

```
public abstract class FileWatcher extends TimerTask {
    private long timeStamp;
    private File file;

    public FileWatcher(File file) {
        this.file = file;
        this.timeStamp = file.lastModified();
    }

    @Override
    public final void run() {
        long timeStampNew = this.file.lastModified();

        if (this.timeStamp != timeStampNew) {
            this.timeStamp = timeStampNew;
            onChange(this.file);
        }
    }

    protected abstract void onChange(File newFile);
} 
```

但我的疑问是

1.  如何使用类路径创建文件对象：myApp/myApp.properties（因为不知道绝对路径）
2.  如何调用/调用 spring 来加载/传递新的 myApp.properties 到 PropetisUtil 类 [在 onChange 方法中]。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-01-02T05:18:37.470

以下支持您正在寻找的内容：

[https://commons.apache.org/proper/commons-configuration/userguide/howto_properties.html](https://commons.apache.org/proper/commons-configuration/userguide/howto_properties.html)

```
PropertiesConfiguration config = new PropertiesConfiguration("usergui.properties");
config.setReloadingStrategy(new FileChangedReloadingStrategy()); 
```

这应该可以解决问题。我自己没有使用过它，但它似乎很简单。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-01-02T06:04:13.077

您可以使用 Spring 的 ReloadableResourceBundleMessageSource 类，如下所示：

```
<?xml version="1.0" encoding="UTF-8" ?>
<beans xmlns="http://www.springframework.org/schema/beans" 
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.1.xsd">

    <bean id="myProperties" class="org.springframework.context.support.ReloadableResourceBundleMessageSource">
        <!-- check property file(s) every 1 second -->
        <property name="cacheSeconds" value="1"/>
        <property name="basenames">
            <list>
                <value>myApp/myApp</value>
            </list>
        </property>
    </bean>

</beans> 
```

然后你可以调用 MessageSource.getMessage() 方法来获取属性值。这是一个例子：

```
package com.example;

import org.springframework.context.ApplicationContext;
import org.springframework.context.MessageSource;
import org.springframework.context.support.ClassPathXmlApplicationContext;

public class MyApp {
public static void main(String[] args) throws InterruptedException {
        ApplicationContext ctx = new ClassPathXmlApplicationContext("myApp/MyApp.xml");
        MessageSource myProperties = (MessageSource) ctx.getBean("myProperties");
        while (true) {
            System.out.println(myProperties.getMessage("myApp.propertyOne", null, null));
            Thread.sleep(1000);
        }
    }
} 
```

如果您将“myProperties”bean 重命名为“messageSource”，则可以直接调用 ApplicationContext.getMessage(String code, Object[] args, Locale locale)。

对于您的网络应用程序，请将您的属性文件放在网络应用程序的类路径之外（因为网络服务器可能会缓存它们）。例如，WEB-INF/conf/myApp.properties

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2014-07-15T06:17:19.000

可能更简单的方法是这样做：

```
<util:properties location="classpath:config.properties" id="configProperties" />
<context:property-placeholder properties-ref="configProperties"  /> 
```

这样，您可以通过注入/访问名称为“configProperties”的 bean 从任何 bean 访问您的属性。不确定这是否是您需要的，因为无法在运行时修改 configProperties。但这是一种干净的方式，您不需要编写任何额外的类。

# loops - clojure 中的 InputFileStream 和 while 循环

> ID：14117122
> 
> 赞同：1
> 
> 时间：2013-01-02T05:10:59.743
> 
> 标签：loops, clojure

有人可以帮我把这段代码转换成clojure吗

```
BufferedReader br = new BufferedReader(new FileReader(args[0]));

                // Read in first line, if nothing, inputString is null
                String inputString = br.readLine(); // First line is header
                inputString = br.readLine();
    while (inputString != null) {

        rowCount++;
    } 
```

但是，我了解使用 recur 的必要性，因为我正在从文件中读取并且行数是一个不可变的值，我如何增加它以使该值在 while 循环中不断增加。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-02T05:26:22.407

如果您只需要文件中的行数，您可以这样做：

```
(defn count-lines[file]
  (with-open [r (clojure.java.io/reader file)]
  (count (line-seq r)))) 
```

或者，如果你想对每一行做一些事情（例如，打印它）：

```
(defn count-lines[file]
   (with-open [r (clojure.java.io/reader file)]
    (loop [i 1
          s (line-seq r)]
          (println (first s))
          (if (seq (rest s))
           (recur (inc i) (rest s)) i)))) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T14:51:19.183

```
(defn read-lines [file]
  (clojure.string/split-lines (slurp file)))

; count the number of lines
(count (read-lines "c:/test.log"))

; returns a list of indexed lines
(map-indexed vector (read-lines "c:/test.log"))
;[[0 "Line 1"]
; [1 "Line 2"]
; [2 "Line 3"]
;  ...] 
```

# ios - 如何根据另一个数组对数组进行排序

> ID：14117123
> 
> 赞同：-2
> 
> 时间：2013-01-02T05:11:01.707
> 
> 标签：ios, iphone

我正在开发一个应用程序。我有两个包含距离值和城市名称的数组。我想根据距离值将数组值顺序更改为升序。这个总过程适用于使用排序描述符的单个距离值数组。所以我的问题是如何根据这个距离值数组顺序更改城市值数组。这两个数组是 arr1 的值为 200,100,150 和 arr2 的值为 ong,gdr,nlr

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-02T05:16:55.327

使用`NSComparisonResult`你可以用一些对象存储数组..

请参阅我用于字典的此链接的答案...

[基于另一个字典数组的排序数组](http://iphonedevsdk.com/forum/iphone-sdk-development/32641-sort-array-of-dicts-based-on-another-array-of-dicts.html)

可能你从中得到一些想法..

我希望这对你有帮助....

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-02T05:17:49.077

请使用数组排序或点击链接： http: [//php.net/manual/en/array.sorting.php](http://php.net/manual/en/array.sorting.php) 希望这对您有帮助，如果没有，请分享您的代码..

# haskell - 在 Gtk2Hs 中使用 DrawingArea 的动画

> ID：14117133
> 
> 赞同：1
> 
> 时间：2013-01-02T05:12:30.807
> 
> 标签：haskell, gtk2hs

我在 Haskell 方面没有那么丰富的经验，而且我刚刚开始使用 Gtk2Hs，所以这可能是一个愚蠢的问题。

我`Line`定义了以下类型：

```
type Coord = (Int,Int)
type Line = (Coord,Coord) 
```

我有一个函数可以在 a 上绘制一个`Line`s列表`DrawingArea`。问题是这个函数`Line`同时绘制所有 s 但我想一次绘制一个，两个`Line`s 之间有一点延迟。

```
render :: [Line] -> IO ()
render lines =
  do initGUI
     win <- windowNew
     windowSetTitle win "Animation"
     win `onDestroy` mainQuit

     can <- drawingAreaNew
     can `onSizeRequest` return (Requisition 400 400)
     can `onExpose` drawCanvas lines can

     but <- buttonNewWithLabel "Quit"
     but `onClicked` mainQuit
     hbox <- hBoxNew False 0
     boxPackStart hbox but PackRepel 150

     vbox <- vBoxNew False 5
     containerAdd vbox can
     containerAdd vbox hbox
     containerAdd win vbox

     widgetShowAll win
     mainGUI 
```

`DrawingArea`暴露时调用此函数：

```
drawCanvas :: [Line] -> DrawingArea -> event -> IO Bool
drawCanvas lines can _evt =
  do dw <- widgetGetDrawWindow can
     drawWindowClear dw
     gc <- gcNew dw
     mapM_ (\(a,b) -> drawLine dw gc a b) lines
     return True 
```

我考虑过使用 a`StateT`来跟踪哪些`Line`s 尚未绘制，但我不知道如何实现动画。即使`widgetShowAll`每次更改状态后调用，窗口也不会显示，直到`mainGUI`被调用。

是否可以创建一个新线程，在`drawCanvas`以某种方式处理绘图的同时不断更新状态？如果是这样，有人可以给我看一个这种行为的例子吗？或者有没有更好的方法？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-02T09:44:26.467

Gtk2Hs 允许设置定期调用函数的“定时器”。所以我会做以下事情：

*   因为大多数 Gtk2Hs 发生在 IO monad 中，所以使用 IORef 或 MVar 来存储动画的状态并在任何地方进行更改。
*   `timeoutAdd`在 mainGUI 之前添加一个调用，如下所示：`timeoutAdd (update can lines) 100`设置一个每 100 毫秒运行一次的计时器，并以 DrawingArea 和 IORef/MVar 为参数调用一个新函数“update”，并将动画状态作为参数。
*   在函数“更新”中更改动画状态并调用`widgetQueueDraw can`，以便重新显示绘图区域。这将自动调用“drawCanvas”，因为它连接到暴露事件。“更新”必须返回一个 IO Bool。返回 False 将停止计时器。
*   要更新动画状态，我会使用一个元组。第一个元素将存储要绘制的线，第二个元素将存储其他线的列表。

我发现在单独的函数中更新动画的状态和绘图很有意义。

# node.js - 两个空格自动转换为 (Heroku, Mongodb)

> ID：14117140
> 
> 赞同：1
> 
> 时间：2013-01-02T05:13:17.250
> 
> 标签：node.js, mongodb, heroku, meteor

我一直在尝试使用[Telescope](https://github.com/SachaG/Telescope)引擎建立一个讨论网站。使用 MongoHQ 插件在 Heroku 上安装是小菜一碟，但我发现了无法在我的机器上复制的问题（该问题仅存在于 Heroku 的实例中）。

说，我想在 Markdown 中写一些代码来注释，所以我在一行之前添加了四个空格，如下所示：

```
 // some piece of code 
```

直接来自 mongodb 的字符串如下所示：

```
&nbsp; &nbsp; // some piece of code 
```

这很奇怪，因为它被保存为

```
 // some piece of code 
```

（有四个空格）在数据库中。我不确定这是 Heroku 的服务器做的还是 MongoHQ 中的一些设置（我在两者中都找不到任何设置）。这是 Heroku 免费实例的某种限制吗？或者是mongo中的一些设置？

我应该怎么做才能解决这个问题？

之前谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-14T03:25:25.537

在我看来，从 mongodb 读取文档中的任何内容都会自动将 2 个空格转换为“nbsp;”，这是有道理的，因为您不能将十亿个空格连续连接在一起，您必须交替使用“nbsp;”+空格或只使用一堆链接的“nbsp;”字符。

我会准确搜索您用于“nbsp;”的任何第三方库，然后查看您找到的内容。这将不得不导致一个答案。

注意：您需要在每个 nbsp; 之前添加一个 &。char, SO 将它们转换为空格，否则，如果您对其进行转义，则它会忽略尾随空格。

# capybara - Capybara 测试隐藏场值

> ID：14117147
> 
> 赞同：26
> 
> 时间：2013-01-02T05:14:03.590
> 
> 标签：capybara

我有一个包含当前日期的隐藏字段的表单。

我试图弄清楚如何编写一个水豚取景器：

1.  检查该字段是否存在
2.  检查字段的值

Capybara可以做到这一点吗？

* * *

## 回答 #1

> 赞同：50
> 
> 时间：2013-10-04T09:27:09.513

这样做：

```
find("#id_of_hidden_input", :visible => false).value 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2014-02-21T17:55:27.307

您还可以指示 Capybara 不要忽略您`spec_helper.rb`或等效项中的全局隐藏元素。可以覆盖默认行为：

```
# default behavior for hidden elements
# Capybara.ignore_hidden_elements = false

# find all elements (hidden or visible)
page.all(".articles .article[id='foo']")

# find visible elements only (overwrite the standard behavior just for this query)
page.all(".articles .article[id='foo']", :visible => true)

# changing the default behavior (e.g. in your features/support/env.rb file)
Capybara.ignore_hidden_elements = true

# now the query just finds visible nodes by default
page.all(".articles .article[id='foo']")

# but you can change the default behaviour by passing the :visible option again
page.all(".articles .article[id='foo']", :visible => false) 
```

取自[这篇文章](http://makandracards.com/makandra/7617-change-how-capybara-sees-or-ignores-hidden-elements)的例子。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2020-04-22T11:54:41.337

匹配器`has_field?`也适用于隐藏字段。不需要在这种情况下`find`或`all`在这种情况下做奇怪的体操。

```
page.has_field? "label of the field", type: :hidden, with: "field value"
page.has_field? "id_of_the_field", type: :hidden, with: "field value" 
```

这里的关键是将`:type`选项设置为`:hidden`显式。

*为什么要使用带有隐藏字段的标签？*如果您使用的是 js 库，例如 flatpickr，这会派上用场，它可以隐藏您的原始文本字段以隐藏它。不将您的行为测试与特定标记耦合总是一件好事。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-01-02T06:37:03.437

它很简单，您可以通过使用`find_by_css`或使用 xpath 来做到这一点，如下所示

```
page.find_by_css('#foo .bar a') #foo is the id the foo has .bar class
page.find('/table/tbody/tr[3]') #path of the element we want to find 
```

# java - 在通用搜索屏幕名称中找到黑莓的名称

> ID：14117153
> 
> 赞同：0
> 
> 时间：2013-01-02T05:14:48.177
> 
> 标签：java, blackberry

我想开发一个不允许用户更改预设选项的应用程序。我曾经检查屏幕并在出现选项屏幕时弹出它。但是我发现如果我搜索特定的选项设置，它会显示可以使用的设置。

例如：

我无法打开选项。但我可以搜索应用程序管理并打开应用程序设置。

搜索特定选项时如何获取通用搜索屏幕的名称？

提前致谢。

# c# - 设置最大会话超时时间有什么缺点或限制吗？

> ID：14117155
> 
> 赞同：5
> 
> 时间：2013-01-02T05:15:07.053
> 
> 标签：c#, asp.net, session, session-state, session-timeout

在 asp.net 中，默认会话超时为 20 分钟。假设如果我将会话超时时间更改为 2 小时或更长，那么它会导致服务器端出现任何性能问题吗？

我想知道在 asp.net 中使用最大会话超时时间是否有任何限制或缺点？

请指导我摆脱这个问题？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-02T05:18:39.073

会话**在服务器上为每个用户维护**。会话超时的增加将阻止服务器释放分配给非活动会话的内存。

> 我想知道在 asp.net 中使用最大会话超时时间是否有任何限制或缺点？

[HttpSessionState.Timeout 属性](http://msdn.microsoft.com/en-us/library/system.web.sessionstate.httpsessionstate.timeout%28v=vs.100%29.aspx)

> Timeout 属性不能设置为大于 525,600 分钟（1 年）的值。默认值为 20 分钟。

**缺点：** 如果你有大量用户，你会遇到性能问题，随着会话超时的增加，你的非活动会话将保留在 Web 服务器内存中，这可能会导致应用程序池回收，从而导致所有用户的所有会话丢失。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-02T05:23:42.253

如果您使用的是 IIS6 或更高版本，则取决于您的应用程序池设置，它可能会影响 w3wp 进程的回收频率。当应用程序池被回收时，您的会话将丢失，除非您使用[进程外会话状态管理](http://msdn.microsoft.com/en-us/library/ms225449%28v=vs.80%29.aspx)或 sql 作为会话状态主机。

如果您将超时时间增加到两个小时，单个用户不会经常丢失他们的会话，但它会增加所有浏览该站点的用户在进程被回收时偶尔会被注销的可能性。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-02T05:25:18.440

增加会话时间意味着闲置的网页不太可能超时（例如，如果用户去吃午饭而网页打开）。但是，这会占用更多的服务器资源，因为正如 Habib 所说，服务器必须在此期间存储用户信息。

它也可能是一种安全风险。如果用户关闭网页而不是注销，则会增加[CSRF](http://en.wikipedia.org/wiki/Cross-site_request_forgery)攻击的窗口。

最好的办法是了解您的用户如何使用网页。如果页面必须长时间保持打开状态，请查看页面的定期回调或刷新。或者，如果站点对安全敏感，请考虑在一段时间不活动后自动注销用户。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-02T05:25:06.873

考虑到如果您尝试在**共享托管环境**中提高超时值，您将失败，因为他们通过在文件中设置该值来阻止您这样做，`machine.config`并且帽子是先例，您将需要为此使用**SQL Session**并且您可以随意更改超时时间。

他们通常还经常重新启动 AppPool 以解除阻止任何可能阻止其他网站的恶意或不良代码，并且每次 AppPool 重新启动时，所有会话都会出现（当然，如果您使用 SQL 会话而不是）...

另一方面，如果您自己**托管 Web 应用程序**，除了内存大小（请记住，我假设您说的是**用户会话**，顾名思义，是每个用户，每个应用程序，您将使用应用程序会话）。如果您考虑这种内存增加，则不会降低任何内容，甚至不会降低性能。

# java - 将 KeyEvent.VK_[值] 转换为字符串

> ID：14117156
> 
> 赞同：0
> 
> 时间：2013-01-02T05:15:09.207
> 
> 标签：java, keyevent

给定一个来自 的整数`KeyEvent.VK_[value]`，例如`KeyEvent.VK_SPACE`or `KeyEVENT.VK_F3`，我想将其转换为键的字符串。

例如 `keyIntToString(KeyEvent.VK_SPACE)`会返回`"Space"`

我怎样才能做到这一点？

* * *

我试过了

```
KeyEvent.getKeyText(KeyEvent.VK_SPACE); 
```

在终端中，如果我打印它，我会得到“空格”。在 Eclipse 中，如果我打印它，我会得到“？”。如果我在 JLabel 中显示它，我会得到一个正方形。

我真正想要的是把它变成一个 JLabel。我该怎么做呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T05:19:33.973

像这样的东西

```
String keyString = KeyEvent.getKeyText(KeyEvent.VK_SPACE);
System.out.println("keyString " + keyString); 
```

您也可以[`getChar`](http://docs.oracle.com/javase/7/docs/api/java/awt/event/KeyEvent.html#getKeyChar%28%29)在 KeyEvent 中使用方法

# php - 如何使用mysql从php中的表中返回多行

> ID：14117165
> 
> 赞同：2
> 
> 时间：2013-01-02T05:16:35.123
> 
> 标签：php, mysql, database, web

我已经决定为我的家人建立一个梦幻足球网站，但我无法从数据库中返回多行。

我想要的是：进行一次 sql 调用并获取整个玩家列表，以便我可以填充一个对象或对象列表。（如果可以返回整张桌子，那就太好了……）。我的目标是让可供选择的球员列表简单地显示给用户。

目前，通过以下方法进行测试时，我可以在一定程度上看到一些结果（来源：来自 php docs...）。但是，我不禁对正在发生的事情感到迷茫。我无法在我的大脑中理解这一点。

```
// My query
$sql = mysql_query("SELECT * FROM players");

//$data = mysql_fetch_array($sql);
while ($row = mysql_fetch_array($sql, MYSQL_NUM)) {
    printf("Name: %s <br/>", $row[1]);
} 
```

这似乎打印了每个玩家的名字。然而，当 while 循环迭代时，'mysql_fetch_array()' 如何迭代每一行？此外，由于有多个列，我如何访问每一列......这是否必须进行硬编码，例如：

```
while ($row = mysql_fetch_array($sql, MYSQL_NUM)) {
    printf("Name: %s <br/>", $row[1]);
    printf("Team: %s <br/>", $row[2]);
    ..
    .
    printf("Team: %s <br/>", $row[5]);
} 
```

最终，我将用将相关日期存储在名册对象或其他东西中的代码替换打印语句：

```
class Roster(){

    $playerName;
    $team;
    $etc.
} 
```

上面的 while 循环方法感觉既困难又笨重。有没有更好的方法来访问所有返回的行？其他人会如何尝试呢？我有限的经验是 C# 和 sql server，它可以通过一些轻松的配置来做一些惊人的事情......立即返回一个列表 ^

如果我不清楚，我会尽快回来查看并进一步评论。我还是个CS学生。感谢您的耐心等待。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-02T05:24:04.127

尝试这个，

```
 while($row_data = mysql_fetch_array($row_data))
 {
  $row_player_name = $row_data['column_name_player'];
  $row_team = $row_data['column_team'];
  echo $row_player_name;
  echo $row_team;
} 
```

column_name_player 是包含玩家名称的表的列名。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-02T05:25:55.740

尽管正如 Jason 建议的那样，请不要使用 mysql_* 函数。但只是为了澄清你的概念

```
 // My query
        $sql = mysql_query("SELECT * FROM players");

        //$data = mysql_fetch_array($sql);

        while ($row = mysql_fetch_array($sql, MYSQL_NUM)) {
                printf("Name: %s <br/>", $row[1]);
        } 
```

这对于初学者来说是不必要的复杂。而不是使用像 1 或 2 或 3 这样的行索引，您可以（并且可能应该）简单地使用您的字段名称。

所以更新它喜欢

```
 // My query
        $sql = mysql_query("SELECT * FROM players");

        //$data = mysql_fetch_array($sql);

        while ($row = mysql_fetch_assoc($sql)) {
                echo "Name:". $row["name"];
                echo "Other Data:". $row["otherdata"];
                echo "<br>";
        } 
```

当然，**名称**和**其他**数据只是假设的。您将用表中的实际字段名称替换它们

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-02T05:25:49.733

如果您想检索每一行中的每一列，而不必知道每一列的名称，您可以计算表中的列数。

```
$queryCols = "SHOW COLUMNS FROM players":
$queryPlayers = "SELECT * FROM players";
$result = mysql_query($queryPlayers);
$playerColumns = mysql_query($queryCols);
$colsResult = mysql_fetch_row($playerCols);
$numFields = count($colsResult);
while ($row = mysql_fetch_array($result)) {
  for ($i = 0; $i < $numFields; $i++) {
    $row[$i]; // Each column in each row
  }
} 
```

* * *

这是一个选择语句的示例，它是*即将被弃用*`mysqli`的继承者： *`mysql_* statements`*

 *```
$DB_NAME = 'test';
$DB_HOST = 'localhost';
$DB_USER = 'root';
$DB_PASS = '';

$mysqli = new mysqli($DB_HOST, $DB_USER, $DB_PASS, $DB_NAME);

if (mysqli_connect_errno()) {
 printf('Connection to $s using %s@$s failed: %s\n', 
  $DB_NAME, $DB_USER, $DB_HOST, mysqli_connect_error());
 exit();
}

$query = "SELECT `fname`, `lname`, `team` FROM `players`;";

if ($stmt = $mysqli->prepare($query)) {
 $stmt->execute();
 $stmt->bind_result($fname, $lname, $team);
 $table = <<< TABLE
<table border="1">
  <thead><tr>
   <th>First Name</th><th>Last Name</th><th>Team</th>
  </tr></thead>
  <tbody>
TABLE;
 while ($stmt->fetch()) {
  $table .= "<tr><td>$fname</td><td>$lname</td><td>$team</td></tr>";
 }
 $table .= "</tbody></table>";
 printf($table);
 $stmt->close();
} else {
  printf("Prepared Statement Error: %s\n", $mysqli->error);
} 
```

桌子

```
CREATE TABLE IF NOT EXISTS `players` (
  `id` int(20) NOT NULL AUTO_INCREMENT,
  `fname` varchar(32) NOT NULL,
  `lname` varchar(32) NOT NULL,
  `team` varchar(64) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB  DEFAULT CHARSET=latin1 AUTO_INCREMENT=13 ;

INSERT INTO `players` (`id`, `fname`, `lname`, `team`) VALUES
(1, 'Peyton', 'Manning', 'Denver Broncos'),
(2, 'Matt', 'Ryan', 'Atlanta Falcons'),
(3, 'Tom', 'Brady', 'New England Patriots'),
(4, 'Colin', 'Kaepernick', 'San Francisco 49ers'),
(5, 'Matt', 'Schaub', 'Houston Texans'),
(6, 'Aaron', 'Rodgers', 'Green Bay Packers'),
(7, 'Joe', 'Flacco', 'Baltimore Ravens'),
(8, 'Robert', 'Griffin III', 'Washington Redskins'),
(9, 'Andrew', 'Luck', 'Indianapolis Colts'),
(10, 'Matt', 'Flynn', 'Seattle Seahawks'),
(11, 'Andy', 'Dalton', 'Cincinnati Bengals'),
(12, 'Christian', 'Ponder', 'Minnesota Vikings'); 
```

结果：

```
First Name  Last Name   Team
Peyton      Manning     Denver Broncos
Matt        Ryan        Atlanta Falcons
Tom         Brady       New England Patriots
Colin       Kaepernick  San Francisco 49ers
Matt        Schaub      Houston Texans
Aaron       Rodgers     Green Bay Packers
Joe         Flacco      Baltimore Ravens
Robert      Griffin III Washington Redskins
Andrew      Luck        Indianapolis Colts
Matt        Flynn       Seattle Seahawks
Andy        Dalton      Cincinnati Bengals
Christian   Ponder      Minnesota Vikings 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-02-09T10:57:57.747

```
//This function will print 5 rows 10 columns 

$n = 5; 
$m = 10;
$tr='';

 for($r=0; $r<$n; $r++)
  {
	$td='';		

   for ($c=0; $c<$m; $c++)
        {
		$td = $td."<td>".$c.$r."</td>";
		}

	   $tr =$tr."<tr>".$td. "</tr>";
	}

	echo $otp = "<table border='0'>".$tr."</table>";
```*

# php - 如何在magento中添加块

> ID：14117170
> 
> 赞同：0
> 
> 时间：2013-01-02T05:16:56.950
> 
> 标签：php, magento, block, add

我正在研究一个 magento 主题，但坚持在标题中添加社交链接。我只想在每个页面的标题部分中将三个社交链接放在我的网站上。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-02T05:41:47.587

这将取决于您使用的模板。您需要编辑的文件很可能位于 /APP/DESIGN/Somehwere 中。某处将取决于您使用的主题。

要查看您需要编辑的文件，请打开模板提示：从您的管理面板，转到系统 >> 配置 >> 开发人员

根据您的设置，您可能必须将其设置为默认视图或特定商店视图。

模板提示的快速教程在这里：[http ://www.westwideweb.com/wp/2009/08/04/magento-how-to-turn-on-template-path-hints-and-inline-translation/](http://www.westwideweb.com/wp/2009/08/04/magento-how-to-turn-on-template-path-hints-and-inline-translation/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-02T06:34:12.537

基本标头模板位于：

```
/app/design/frontend/base/default/template/page/html/header.phtml 
```

但是直接编辑这个文件不是一个好习惯，虽然你可以这样做。

正确的方法是创建一个新的主题文件夹，设置您的商店以在 admin 中使用正确的主题，然后从该主题编辑 header.phtml 文件，这将覆盖默认的基本主题 - 例如：

```
/app/design/frontend/base/yourtheme/template/page/html/header.phtml 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-02T06:50:24.520

为您的商店视图制作模板路径提示。系统->配置->开发者。（您可以在允许的 IP 中使用您的特定 IP 以不影响视图）

禁用缓存。

刷新主页。

您可以在那里查看文件，转到该文件。

您可以直接在此处添加它，或者您可以创建一个静态块并根据您的意愿在您的 phtml 文件中使用它。

# java - jmeter 中该图的采样时间代表什么？

> ID：14117172
> 
> 赞同：-2
> 
> 时间：2013-01-02T05:17:18.670
> 
> 标签：java, jmeter

![在此处输入图像描述](../Images/0ef3c3989f219a965ad569d6545c911a.png)

我需要了解这个图表。这个图表中的**采样时间（毫秒）**是多少？这是指响应时间？你能告诉我吗？

谢谢，

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-02T06:58:51.790

采样时间是完全加载页面（响应查询）所需的总时间（以毫秒为单位）。

# java - 居中 JTextField（不是字段内的文本！）

> ID：14117180
> 
> 赞同：0
> 
> 时间：2013-01-02T05:18:17.677
> 
> 标签：java, swing, layout, jlabel, jtextfield

我怎样才能使`JTextField`.

笔记！我不想将 JTextField 中的文本居中（这是使用 实现的`setHorizontalAlignment(JTextField.CENTER)`，但我想将实际的 JTextField 居中在它所在的空间中，就像`jLabel.setHorizontalAlignment(SwingConstants.CENTER)`这样做一样。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T05:31:38.320

我建议为此使用 GridBagLayout。

```
panel.setLayout(new GridBagLayout());
GridBagConstraints center = new GridBagConstraints();
center.anchor = GridBagConstraints.CENTER;
center.fill = GridBagConstraints.NONE;
panel.add(textField, center); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-02T05:39:09.400

> **空布局：**这表示没有布局。*物品必须手动定位和排列*。*仅当窗口不会也无法调整大小时才应使用此布局*，因为窗口中的项目将保留在它们所在的位置... [http://www.tech-recipes.com/rx/1205/java-null -layout-manager-swing/](http://www.tech-recipes.com/rx/1205/java-null-layout-manager-swing/)

*   [http://www.tech-recipes.com/rx/1205/java-null-layout-manager-swing/](http://www.tech-recipes.com/rx/1205/java-null-layout-manager-swing/)
*   [http://docs.oracle.com/javase/tutorial/uiswing/layout/none.html](http://docs.oracle.com/javase/tutorial/uiswing/layout/none.html)

第一个链接用于`.setLocation(x, y)`定位控件，第二个链接用于定位`.setBounds(...)`。您需要自己进行居中

# c# - 多个下拉列表

> ID：14117181
> 
> 赞同：2
> 
> 时间：2013-01-02T05:18:30.723
> 
> 标签：c#, asp.net, selectedindexchanged

我有 4 个下拉列表。当我更改第一个下拉列表时，onselectindexchanged 我需要更改所有剩余的下拉值。我正在研究它，但我只能更改 onselectindexchanged 上的相应或下一个下拉值。请为我提供任何示例或指导我找到任何好的链接。请帮忙..提前谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-02T05:21:51.177

您需要将所有下拉菜单的 AutoPostBack 设置为 true，并且需要为前三个下拉菜单添加 SelectedIndexChanged 事件。在第一个下拉列表的 SelectedIndexChanged 上，您需要设置第二个的选定值，它将触发第二个的 SelectedIndexChanged，您将有代码设置第三个的选定索引，同样您将在病房中执行此操作。

在 HTML 中

```
<asp:DropDownList ID="dropdownlist1" runat="server" AutoPostBack="true" OnSelectedIndexChanged="dropdownlist1_SelectedIndexChanged">
<asp:ListItem Value="1">1</asp:ListItem> 
<asp:ListItem Value="2">2</asp:ListItem>
</asp:DropDownList>

<asp:DropDownList ID="dropdownlist2" runat="server" AutoPostBack="true" OnSelectedIndexChanged="dropdownlist2_SelectedIndexChanged">
<asp:ListItem Value="1">1</asp:ListItem> 
<asp:ListItem Value="2">2</asp:ListItem>
</asp:DropDownList>

<asp:DropDownList ID="dropdownlist3" runat="server" AutoPostBack="true" OnSelectedIndexChanged="dropdownlist3_SelectedIndexChanged">
<asp:ListItem Value="1">1</asp:ListItem> 
<asp:ListItem Value="2">2</asp:ListItem>
</asp:DropDownList>

<asp:DropDownList ID="dropdownlist4" runat="server" AutoPostBack="true" >
<asp:ListItem Value="1">1</asp:ListItem> 
<asp:ListItem Value="2">2</asp:ListItem>
</asp:DropDownList> 
```

1 2

*在后面的代码中*

```
protected void dropdownlist1_SelectedIndexChanged(object sender, EventArgs e)
{
       dropdownlist2.SelectedIndex = someIndexValue;
}

protected void dropdownlist2_SelectedIndexChanged(object sender, EventArgs e)
{
       dropdownlist3.SelectedIndex = someIndexValue;
}

protected void dropdownlist3_SelectedIndexChanged(object sender, EventArgs e)
{
       dropdownlist4.SelectedIndex = someIndexValue;
} 
```

# ios - ios - 检查应用程序是否可以访问 Facebook 的正确方法是什么？

> ID：14117186
> 
> 赞同：0
> 
> 时间：2013-01-02T05:19:20.917
> 
> 标签：ios, facebook, facebook-access-token

如果我想确保 ios 应用程序可以访问用户的 facebook 帐户，我应该遵循哪种方法？我已经看到在某些地方检查 FBSession.accessToken 并且在其他一些地方检查 FBSession.activeSession.isOpen。这两者有什么区别？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T05:24:11.470

FBSession.accessToken 告诉您应用程序可以访问用户的 Facebook 帐户，而 FBSession.activeSession.isOpen 告诉您当前会话是否打开。我们更喜欢使用 FBSession.accessToken 来检查应用程序是否可以访问用户的 facebook。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-02T05:28:12.573

如果您想通过您的应用程序与 Facebook 通信，并考虑到您已正确设置项目，即 FacebookAppID 等，您可以通过以下方式调用活动会话

```
- (BOOL)openSessionWithAllowLoginUI:(BOOL)allowLoginUI 
```

方法。访问令牌存储应用程序已获得应用程序请求的某些权限的信息，并且您每次都检查有效的访问令牌，这样您就不必每次都验证应用程序。 `FBSession.activeSession.isOpen`用于检查是否有处于打开状态的活动会话，如果是，您可以继续执行您的应用程序打算对 Facebook 执行的任何操作。

# ruby - 当关联存在或不存在时验证 DataMapper 中是否存在 2 个字段

> ID：14117190
> 
> 赞同：0
> 
> 时间：2013-01-02T05:19:41.440
> 
> 标签：ruby, datamapper, ruby-datamapper

我有一个模型，用户有 n, :accounts

当该实例没有任何关联帐户时，我想验证用户模型中是否存在 2 列（电子邮件和密码）。这个想法是注册 Facebook 的用户不需要使用电子邮件和密码。

现在我有这个，但我卡住了

```
validates_presence_of :email, :passwd, :if => lambda { |u| u.accounts.length  } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-02T12:01:10.997

试试`:if => proc { |user| user.accounts.empty? }`。请记住，只有 nil 和 false 是 ruby​​ 中的虚假值。在irb中尝试`!!0`，结果为true。`u.accounts.length`总是正确的。（也具有零长度）。

# ember.js - Emberjs 路由器更改

> ID：14117191
> 
> 赞同：1
> 
> 时间：2013-01-02T05:20:05.657
> 
> 标签：ember.js, router

我发现以下帖子：

[http://emberjs.com/blog/2012/12/22/this-week-in-ember-js-3/](http://emberjs.com/blog/2012/12/22/this-week-in-ember-js-3/)

这些变化将反映在未来还是已经成为 emberjs( `ember-1.0.0-pre.2.min`) 的一部分？

如果未来，有没有路线图？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-02T22:41:41.643

不，这些更改不是`ember-1.0.0-pre.2`. 但是，您可以在[此处](https://github.com/emberjs/ember.js)获取代码然后运行`bundle`，`rake dist`您将在`dist`目录中获得编译后的 ember.js 文件。

AFAIK，没有路线图，但[GitHub 上的问题](https://github.com/emberjs/ember.js/issues?milestone=1&page=1&state=open)（我只过滤了 Milestone 1.0 Beta 问题）对即将发生的事情有很好的印象。

# cloud-foundry - RuntimeError：远程隧道助手不知道

> ID：14117193
> 
> 赞同：1
> 
> 时间：2013-01-02T05:20:10.343
> 
> 标签：cloud-foundry

尝试使用 vmc 隧道进入 mongodb，我看到以下错误

```
vmc tunnel
1: mongodb-XY
2: redis-XY
Which service instance?> 1

1: none
2: mongorestore
3: mongo
4: mongodump
Which client would you like to start?> 3

Opening tunnel on port 10000... FAILED
RuntimeError: Remote tunnel helper is unaware of mongodb-XY!
For more information, see ~/.vmc/crash 
```

这是错误日志.. cat ~/.vmc/crash

```
Time of crash:
  Tue Jan 01 23:09:58 -0600 2013

RuntimeError: Remote tunnel helper is unaware of mongodb-XY!

tunnel-vmc-plugin-0.1.10/lib/tunnel-vmc-plugin/tunnel.rb:233:in `get_connection_info'
tunnel-vmc-plugin-0.1.10/lib/tunnel-vmc-plugin/tunnel.rb:35:in `open!'
tunnel-vmc-plugin-0.1.10/lib/tunnel-vmc-plugin/plugin.rb:41:in `tunnel'
interact-0.5.1/lib/interact/progress.rb:98:in `with_progress'
tunnel-vmc-plugin-0.1.10/lib/tunnel-vmc-plugin/plugin.rb:40:in `tunnel'
mothership-0.3.5/lib/mothership/base.rb:61:in `send'
mothership-0.3.5/lib/mothership/base.rb:61:in `run'
mothership-0.3.5/lib/mothership/command.rb:68:in `invoke'
mothership-0.3.5/lib/mothership/command.rb:82:in `instance_exec'
mothership-0.3.5/lib/mothership/command.rb:82:in `invoke'
mothership-0.3.5/lib/mothership/base.rb:50:in `execute'
vmc-0.4.7/lib/vmc/cli.rb:106:in `execute'
mothership-0.3.5/lib/mothership.rb:45:in `start'
vmc-0.4.7/bin/vmc:11
/usr/bin/vmc:19:in `load'
/usr/bin/vmc:19 
```

--

该服务正在运行，正在使用该服务的应用程序也在运行。有任何想法吗？

虚拟机服务

```
Getting services... OK

name           service   version
mongodb-XY   mongodb   2.0    
redis-XY     redis     2.6 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-02T09:24:01.167

当您看到此错误时，最简单的做法是删除 caldecott 应用程序并再次尝试隧道。要删除 caldecott，只需执行；

```
vmc delete caldecott 
```

# jquery - 单击 3 或 4 个项目会显示一个按钮

> ID：14117194
> 
> 赞同：0
> 
> 时间：2013-01-02T05:20:11.490
> 
> 标签：jquery, selection

我正在开发一个培训模块，想检测用户是否点击了“item 1”、“item 2”和“item 3”（顺序无关）。当所有项目至少单击一次时，会显示一个“继续”按钮，这会将用户带到培训的下一部分（超链接）。有没有办法用 jQuery 做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-02T05:26:33.960

假设您使用的是多选框：

```
$('option', '#selectbox').click(function() {
  if($('option:selected', '#selectbox').length >= 3) 
    $('#button').show();
}); 
```

基本上只是使用`length`属性来定义元素的数量。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-02T05:42:13.467

您可以使用单击事件处理程序向单击的元素添加一个类，然后计算该类在页面上的出现次数。

```
$('.clickable').on('click', function(){ // item1, item2 etc
    $(this).addClass('clicked'); // CLASS TO COUNT
    if($('.clicked').length == 3) { // IF 3 HAVE CLASS
        // SHOW BUTTON
    }
}); 
```

`.length`返回数组中的项目数（本机 javascript），并且由于`$('.selector')`返回页面上的元素数组，但是许多匹配给定的选择器`$()`（单击的类）它将具有页面上的出现次数。

# android - Android : GridView 缩放

> ID：14117202
> 
> 赞同：0
> 
> 时间：2013-01-02T05:22:08.117
> 
> 标签：android, gridview, zooming, pinchzoom

我有两个网格视图，它们包含我的自定义视图作为它们的子视图。我已经实现了拖放功能，可以将视图从一个网格拖到另一个网格。我现在想要实现的是，当我将视图放在 GameBoard 主网格上时，我希望网格自动缩放。我还想实现捏缩放，以便用户也可以自己放大/缩小网格。有什么办法可以做到这一点？

我试图动态增加 gridview 列的高度和宽度，但没有成功，请建议我这样做。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-17T09:40:15.000

解决这个问题后我已经挖掘了很多，但我最终陷入了一个黑洞。修改了整个游戏以删除 GridView 并使用基本的 Canvas 来实现所有功能。希望这可以帮助某人。

谢谢

# android - 如何检查我的 EditText 是否有 TextChangedListener (TextWatcher)？

> ID：14117204
> 
> 赞同：2
> 
> 时间：2013-01-02T05:22:25.910
> 
> 标签：android, listener, textwatcher, textchanged

我知道我们可以添加一个`TextWatcher`using`EditTexts`和`addTextChangedListener`删除它 using `removeTextChangedListener`。但现在我想检查我的`EditText`是否有`TextWatcher`。

我怎样才能做到这一点？

我有一个网格。它有一个适配器。我的适配器检查已定义项目的类型是否为 EditText 添加一个`TextWatcher`。`getView`调用方法时`TextWatcher`将添加到该`EditText`. 如果添加了一个，我想避免添加额外`TextWatchers`的内容。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-02T07:03:33.757

好吧，有解决方法，您可以使用`setTag`View 方法在 getview 方法中将标签设置为您的 edittext，在执行此操作之前检查 getTag 是否不为空，如果您已经设置`TextWatcher`...

if(editText object getTag is null then editText.setTtag and add watcher) else return

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-02T05:27:27.347

没有专门执行此操作的 API。为什么不维护一个布尔变量，说`textWatch`你自己？

每次设置观察者时，将其设置为 true，并在移除观察者时将其设置为 false。

您可以简单地检查此变量以查看 editText 是否有观察者。

如果您有多个需要检查的 editText 框，则可以使用一组布尔值。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-04T03:35:15.697

您可以创建一个`Map`来存储所有具有的`EditText`对象`TextWatcher`

例如

```
Map<EditText, Boolean> textWatcherMap = new HashMap<>(); 
```

当您添加`TextWatcher`到 时`EditText`，将其引用添加到`HashMap`。

```
TextWatcher textWatcher = new TextWatcher(..);
EditText editText = (EditText) findViewById(R.id.editTextId);
editText.addTextChangedListener(textWatcher);
textWatcherMap.put(editText, true); 
```

然后当你在工作时`EditText`，检查`HashMap`参考

```
if(textWatcherMap.get(editText) != null)
    useCurrentTextWatcher();
else 
{
    addNewTextWatcher();
    textWatcherMap.put(editText, true);
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2021-01-14T14:20:29.123

你可以打电话

```
edittext.removeTextChangedListener(YourWatcherObject) 
```

在每次添加新的观察者之前，它不能有多个观察者

```
edittext.addTextChangedListener(YourWatcherObject) 
```

# objective-c - 从 UIView 保存 UIImage 无法正常工作

> ID：14117205
> 
> 赞同：0
> 
> 时间：2013-01-02T05:23:30.747
> 
> 标签：objective-c, ios, uiimage, core-graphics

我正在尝试将 UIView（及其子视图）的内容保存到 UIImage 中。

这是我正在使用的代码：

```
+(UIImage *)imageWithView:(UIView *)view {
    UIGraphicsBeginImageContextWithOptions([view bounds].size, YES, 0);
    [[view layer] renderInContext:UIGraphicsGetCurrentContext()];
    UIImage *image = UIGraphicsGetImageFromCurrentImageContext();
    UIGraphicsEndImageContext();
    return image;
} 
```

效果很好……第一次。但是，如果我随后修改视图的子视图并再次调用此方法，我*每次都会*得到旧的 UIImage 。

据我了解，`UIGraphicsEndImageContext()`实际上确实将位图图像从堆栈中弹出。

考虑到视图子视图的当前状态，如何使这个 imageWithView: 方法起作用？

* * *

## 回答 #1

> 赞同：-2
> 
> 时间：2013-01-02T05:28:50.947

我希望这有帮助：

```
UIGraphicsBeginImageContext(self.view.frame.size);
[testView.layer renderInContext:UIGraphicsGetCurrentContext()];
UIImage *image = UIGraphicsGetImageFromCurrentImageContext();
UIGraphicsEndImageContext(); 
```

# php - php中的数组内爆

> ID：14117206
> 
> 赞同：0
> 
> 时间：2013-01-02T05:23:31.513
> 
> 标签：php, arrays, implode

我有以下格式的数组：

```
$var = Array
     ( 
     [0] => Array
         (
        [name] => Harry
          )

      [1] => Array
         (
        [name] => Wayne
          )

      )
 Array
     (
     [0] => Array
         (
        [name] => Wayne
         ) 
```

我想内爆这个数组，以便我得到它的格式：

```
 Harry,Wayne
 Wayne 
```

从我尝试过的内容中，我得到了它的格式：

```
Harry,Wayne
Harry,Wayne,Wayne 
```

**我尝试过**的（不重要，因为它是错误的）

```
foreach($var as $a){
 foreach($a as $b){
 }$c[] = $b
   }
 $imp = implode(',',$c); 
```

$var 是使用 fetch_array 从数据库中获取的。

```
 $this->db->select('name');
    $this->db->where('id', $Id);
    $this->db->from('info');
    $row = $this->db->get();
    $var = $row->result_array(); 
```

其中 $Id 是包含某些用户 ID 的数组。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T05:37:11.637

```
foreach($var as $a)
{
    unset($temp);
    foreach($a as $b)
    {
        $temp[] = $b['name'];
    }
    $c[] = implode(",", $temp);
}

// output all the names
foreach ($c as $csvNames)
{
    echo $csvNames;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-02T05:30:43.450

尝试这个。

```
foreach($var as $a){
  $m = '';
  $delim = '';
  foreach($a as $k){
     $m .= $delim . $k['name'];
     $delim = ',';
  }

  $c[] = $m;
}

foreach($c as $d){
  echo $d;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-02T05:46:40.903

请忽略那些硬编码的循环。它有一个递归函数。

```
array_walk_recursive($var, create_function('$val, $key', 'array_push($obj, $val);'), &$output);
echo implode(",",$output); 
```

# c# - ToolBoxBitmap 属性在我的组件中不起作用

> ID：14117211
> 
> 赞同：2
> 
> 时间：2013-01-02T05:23:58.730
> 
> 标签：c#, attributes, components, embedded-resource

我有一个 Windows 窗体应用程序。我在我的项目中添加了一个名为 MyLibrary.cs 的类，我继承了 System.ComponentModel.Component 的此类，并且我还添加了一个位图图像，其构建操作设置为 EmbeddedResource 到我的资源文件夹，但是当我编写下面的代码并构建项目当我想将我的组件拖放到我的表单时，我的自定义图标不会改变。你能帮帮我吗？

我检查了很多链接，例如[http://msdn.microsoft.com/en-us/library/system.drawing.toolboxbitmapattribute.aspx](http://msdn.microsoft.com/en-us/library/system.drawing.toolboxbitmapattribute.aspx)和[如何找到难以捉摸的 ToolboxBitmap 图标](https://web.archive.org/web/20120804065638/http://www.bobpowell.net/toolboxbitmap.htm)，但没有一个对我有用！

这是我的代码：

我的图书馆.cs

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;

internal class resfinder
{
}

namespace MyForm
{

    [System.Drawing.ToolboxBitmap(typeof(resfinder),"MyForm.Bitmap1.bmp")]
     public class MyLibrary:System.ComponentModel.Component 
    {

    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2018-03-12T15:35:56.540

你应该看[这里](https://docs.microsoft.com/en-us/dotnet/framework/winforms/controls/how-to-provide-a-toolbox-bitmap-for-a-control)它说：

1.  位图必须为 16x16

2.  如果同时指定 Type 和字符串，则控件将在包含由 Type 参数指定的类型的程序集中搜索名称由 string 参数指定的图像资源

因此，请确保您的位图与“resfinder”位于同一程序集中，并确保在构建操作下的属性中将其设置为嵌入式资源

# php - 如何在默认 DHTML 日历中禁用前几天？

> ID：14117215
> 
> 赞同：1
> 
> 时间：2013-01-02T05:24:12.950
> 
> 标签：php, javascript, dhtml

如何在默认 DHTML 日历中禁用前几天？

我使用了以下代码，

```
<script type="text/javascript">
 Calendar.setup({
        inputField : '_dob',
        ifFormat : '%m/%e/%y',
        button : '_dob_trig',
        align : 'Bl',
        singleClick : true,
      disableFunc: function(date) {
          var now= new Date();
        return (date.getTime() < now.getTime());
    }
    });
</script> 
```

它可以禁用以前的日期。但是当我们选择有效日期时，什么也没有发生。日期未添加到日历的文本字段中。

如果我更改月份并返回，我可以选择日期！

任何想法？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-02T10:02:19.083

哇！

可能是一些 javascript 错误。我无法选择任何日期，除非从下个月开始回来......

我通过给出一些 if 循环来通过它。我的更新代码如下。

```
<script type="text/javascript">
 Calendar.setup({
        inputField : '_dob',
        ifFormat : '%m/%e/%y',
        button : '_dob_trig',
        align : 'Bl',
        singleClick : true,
        disableFunc: function(date) {
          var now= new Date();
        if(date.getFullYear()<now.getFullYear())
        {
            return true;
        }
        if(date.getFullYear()==now.getFullYear())
        {
            if(date.getMonth()<now.getMonth())
            {
                return true;
            }
        }
        if(date.getMonth()==now.getMonth())
        {
            if(date.getDate()<now.getDate())
            {
                return true;
            }
        }
    },
    });
</script> 
```

大家好，回复了。。。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-01-21T17:36:32.953

我也遇到了同样的问题，调试之后，问题似乎是日历无法判断当前日历日期应该是什么（因为它被disableFunc回调函数禁用了）。您有两种选择。

1.  确保 disableFunc 函数为当前日期返回 false。这样它就不会在日历中被禁用，并且会正常运行。
2.  您可以在 calendar.js 中的 if (!cell.disabled) 行之后添加以下行。（这恰好是我的文件版本中的第 1183 行 - v 1.51）

    否则 { this.currentDateEl = 单元格；}

第二个选项也允许您禁用当前日期。

对于那些想知道这个 DHTML 日历是什么的人，这里是它的文档的链接：[http ://www.dni.ru/js/doc/html/reference.html](http://www.dni.ru/js/doc/html/reference.html)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-02T06:54:57.980

试试下面的代码

```
 Calendar.setup({
            inputField : '_dob',
            ifFormat : '%m/%e/%y',
            button : '_dob_trig',
            align : 'Bl',
            singleClick : true,
            dateStatusFunc :    function (date) { 
                var now= new Date();
                return (date.getDate() <= now.getDate());
            }
        }); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-02T05:49:47.107

禁用函数应始终返回 TRUE 或 FALSE。

**disableFunc 函数：接收 JS Date 对象的函数。如果必须禁用该日期，它应该返回 true，否则返回 false。已弃用（见下文）。**

请参考以下内容，

[DHTML 日历设置参考](http://www.dynarch.com/static/jscalendar-1.0/doc/html/reference.html)

但是在你的代码中，禁用函数什么都不返回...... :(所以它进入 js 错误并且在事件点击时没有任何作用......

检查您的状况，

```
return (date.getDate() <= now.getDate()); 
```

检查上述条件后，根据您的要求返回真或假...

# iphone - 在另一个 ui 滚动视图之上添加分页的 ui 滚动视图

> ID：14117216
> 
> 赞同：0
> 
> 时间：2013-01-02T05:24:27.727
> 
> 标签：iphone, objective-c, ios, xcode

我有一个垂直滚动，我想在它上面添加一个分页滚动视图来浏览一组图片。我通过界面构建​​器设置了两个滚动视图。对于垂直滚动，我有以下内容，其中滚动是 UIScrollView

```
-(void)createScroll{
[scroll setScrollEnabled:YES];
[scroll setContentSize:CGSizeMake(320, 1325)];
} 
```

对于分页滚动，我有以下内容，其中 scrollView 是 UIScrollView

```
for (int i = 0; i < array.count; i++) {
    CGRect frame;
    frame.origin.x = self.scrollView.frame.size.width * i;
    frame.origin.y = 0;
    frame.size = self.scrollView.frame.size;

    UIView *subview = [[UIView alloc] initWithFrame:frame];
    subview.backgroundColor = [array objectAtIndex:i];
    [self.scrollView addSubview:subview];

}

self.scrollView.contentSize = CGSizeMake(self.scrollView.frame.size.width * array.count, self.scrollView.frame.size.height);

self.pageControl.currentPage = 0;
self.pageControl.numberOfPages = array.count; 
```

问题是图像没有显示在分页滚动视图中。我将分页滚动放入单个视图测试应用程序中，它工作正常，但是当我将它添加到垂直滚动顶部时它不起作用。我觉得它与将其添加到子视图有关，但我是 obj-c 的新手，不确定子视图应该按什么顺序排列。有人有什么建议吗？干杯!

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T06:16:58.807

我在 viewDidLoadMethod 中创建滚动视图，一旦我在 (void)viewDidAppear:(BOOL)animated 方法中创建它，滚动视图就可以完美运行。

# c - 计算机时钟作为伪随机发生器

> ID：14117229
> 
> 赞同：-4
> 
> 时间：2013-01-02T05:25:49.987
> 
> 标签：c, random, generator

大多数现代计算机都表现出非确定性行为，这使得无法判断两次连续调用以读取计算机时钟之间会发生多少时钟周期。

下面的代码是一个使用计算机时钟的一个字节的伪随机数生成器。

```
unsigned long occurrences = 0;
unsigned long total = 0;

while (true) {
    if ((clock() & 0xFF) == 60) // testing ocurrences for a given number, 60 for instance
        occurrences++;
    total++;
    printf("%f\n", (float)occurrences / (float)total ); // this should be approximately 1/256 = 0.00390625
} 
```

不包括诸如加密之类的严肃应用，它可以用于游戏的移动平台。

我想知道这种实施的优点和缺点是什么。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T09:30:10.490

您应该使用联合而不是这样的指针来进行“拆分”。

我同意随机数和时钟是两个完全不同的东西，你的陈述比提问更多。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-02T10:21:57.620

您缺少正确的使用方式，`rand()`或者更具体地说，`srand()`.

您需要`srand()`在程序运行期间只调用一次。不要`srand()`循环调用。不要`srand()`在每次调用之前调用`rand()`。确保正确`srand()`管理的最好方法是在你的函数中调用它一次`main()`，然后忘记它：`rand()`以后再使用。

```
#include <stdlib.h> /* rand, srand */
#include <time.h>   /* time */

int main(void) {
    /* initialization */
    srand(time(NULL));

    /* input, possibly calling rand() */

    /* process, possibly calling rand() */

    /* output, possibly calling rand() */

    /* termination */
    return 0;
} 
```

# c++ - 转换对象的函数是否复制返回值？

> ID：14117234
> 
> 赞同：0
> 
> 时间：2013-01-02T05:26:11.340
> 
> 标签：c++, memory-management, reference, copy

在 C++ 中，我有一个矩形参数进入一个函数。因为我保持我的系统抽象，所以我创建了自己的 Rectangle 类。我传递给它的函数（对于 SFML 图形库）使用它自己的 RectangleShape 对象。所以，我需要将我的 Rectangle 转换为 RectangleShape。

我去创建一个函数来执行此操作，但我对正在创建哪些对象、正在复制谁以及什么是最快的感到困惑。情况如下：

```
RectangleShape MyClass::ConvertRectangleToRectangleShape(const Rectangle& inRectangle)
{
    Vector2f size(inRectangle.GetWidth(), inRectangle.GetHeight());
    RectangleShape convertedRectangle(size);
    Vector2f position(inRectangle.GetPosition.GetX(), inRectangle.GetPosition.GetY());
    returnShape.SetPosition(position);

    return convertedRectangle;
}

void MyClass::DrawShape(const Rectangle& inRectangle)
{
    // Convert the shape
    RectangleShape convertedShape = ConvertRectangleToRectangleShape(inRectangle);
    // Rest of code here
} 
```

因此，如您所见，我的所有对象都不是指针。所以我不需要处理那个。

我返回的对象在堆栈上，但不是引用。当我退回它时，它会被复制，对吗？那条线

```
return convertedRectangle; 
```

它将矩形形状复制到我在第二个函数中创建的变量中

```
RectangleShape convertedShape = ConvertRectangleToRectangleShape(inRectangle); 
```

对？

我不能将它作为参考变量返回，因为一旦我离开函数的范围，它就会被取消分配，对吧？

```
RectangleShape& MyClass::ConvertRectangleToRectangleShape(const Rectangle& inRectangle) 
```

如果我不能将它作为参考返回，并且我不想要副本，我是否只需将代码粘贴到函数中？还是#define？这里的正确方法是什么，或者我错在哪里？谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-02T05:31:35.683

您的案例更简洁地表示为[转换构造函数](http://publib.boulder.ibm.com/infocenter/compbgpl/v9v111/topic/com.ibm.xlcpp9.bg.doc/language_ref/cplr384.htm)

```
class RectangleShape{
    ....
    RectangleShape(const Rectangle&);
    ...
}; 
```

然后你会写

```
RectangleShape convertedShape = inRectangle; 
```

它会像你预期的那样工作，没有任何不必要的副本或构造。

这将*类似于*这种风格。

```
RectangleShape convertedShape;
convertedShape.InitFrom(inRectangle); 
```

这也不需要副本，因为它直接作为最终对象的方法调用。

克里斯的建议（如果我理解正确的话）需要对 , 进行更改`class Rectangle`，以允许其将自身转换为`RectangleShape`.

```
class Rectangle{
    ....
    operator RectangleShape();
    ...
}; 
```

它将允许类似优雅的分配代码，但我不确定他打算如何在没有副本的情况下从一个转换为另一个，如果它们是不相关的类。

如果你不能修改`RectangleShape`，我能想到的最接近的就是做这样的事情。

```
InitRectangleShape(convertedShape, inRectangle);
....    
void InitRectangleShape(RectangleShape& convertedShape,const Rectangle& inRectangle); 
```

除非我大错特错，这类似于[通常如何实现返回值优化](http://en.wikipedia.org/wiki/Return_value_optimization)。这将我们带到其他评论者提出的观点，编译器可能已经为您优化了副本。

# objective-c - 可以从 heightForRow 访问 UITableViewCell

> ID：14117236
> 
> 赞同：0
> 
> 时间：2013-01-02T05:26:19.610
> 
> 标签：objective-c, cocoa-touch, uitableview

我有以下代码：

```
- (CGFloat)tableView:(UITableView *)_tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath
{
    PostTableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:@"Cell"];
    return cell.imageView.frame.size.height + 40;

} 
```

我想要做的是能够以某种方式访问​​单元格的属性。我希望单元格的高度等于单元格图像视图中图像的高度。我认为这行不通。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-02T05:27:57.383

不要尝试访问该单元格。除了单元格之外，您的表格的数据源或其他一些对象应该管理该图像。向该对象询问图像并获取其大小。

将单元格视为数据容器会混淆模型、视图和控制器层，并且可能会使更改变得更加困难。

# iphone - 如何将图像从文档目录获取到 iphone 中的 uiview？

> ID：14117240
> 
> 赞同：0
> 
> 时间：2013-01-02T05:26:52.263
> 
> 标签：iphone, objective-c

嗨朋友，我正在将图像保存在文档目录中，就像在文档目录中一样，图像像 saveimage0.png，saveimage1.png ......等这样的图像被输入到文档中，我创建 int 变量用于增量计数，图像 num=0；插入工作正常但是如何从 loadimage menthod 中的文档文件夹获取多个图像是对还是错我想要 tkae 图像并保存在数组中并显示在视图中

```
int num=0;
-(void)imagePickerController:(UIImagePickerController *)picker
didFinishPickingMediaWithInfo:(NSDictionary *)info
{

    NSString *mediaType = [info
                           objectForKey:UIImagePickerControllerMediaType];
    [self dismissModalViewControllerAnimated:YES];
    if ([mediaType isEqualToString:(NSString *)kUTTypeImage]) {
        UIImage *image = [info
                          objectForKey:UIImagePickerControllerOriginalImage];

        imageView.image = image;
        UIImage *image1 =imageView.image;
        NSData *myData = [UIImagePNGRepresentation(image1) retain];
        imagedata = myData;

        if (newMedia)
            UIImageWriteToSavedPhotosAlbum(image,
                                           self,  
                                           @selector(image:finishedSavingWithError:contextInfo:),
                                           nil);

        NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, 
                                                             NSUserDomainMask, YES);
        NSString *documentsDirectory = [paths objectAtIndex:0];

        NSString *path = [documentsDirectory stringByAppendingPathComponent:[NSString stringWithFormat:@"saveimage%d.png",num]];
        num += 1; // for next t
        NSData* data = UIImagePNGRepresentation(image);
        [data writeToFile:path atomically:YES];

    }
    else if ([mediaType isEqualToString:(NSString *)kUTTypeMovie])
    {
        // Code here to support video if enabled
    }
} 
```

我正在从文档目录中获取图像，与

```
int value;
- (UIImage*)loadImage
{
    NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, 
                                                         NSUserDomainMask, YES);
       NSString *documentsDirectory = [paths objectAtIndex:0];

    // NSString* path = [documentsDirectory stringByAppendingPathComponent: 
   //[NSString stringWithString: @"test.png"] ];
    NSString* path = [documentsDirectory stringByAppendingPathComponent: 
                      [NSString stringWithFormat:  @"savedImage-",@"%@-%d.png", value]];

    value += 1;

    UIImage* image = [UIImage imageWithContentsOfFile:path];

    return image;

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-02T05:48:53.757

答案在你的问题之内。

您正在使用以下方式保存图像：

```
NSString *path = [documentsDirectory stringByAppendingPathComponent:[NSString stringWithFormat:@"saveimage%d.png",num]]; 
```

格式为：**saveimage0.png**

你正在检索：

```
NSString* path = [documentsDirectory stringByAppendingPathComponent: 
                      [NSString stringWithFormat:  @"savedImage-",@"%@-%d.png", value]]; 
```

格式为：`savedImage-aValue-aValue.png`.

将其更改为：

```
 NSString* path = [documentsDirectory stringByAppendingPathComponent: 
                          [NSString stringWithFormat:  @"savedimage%d.png", value]]; 
```

# wpf - WPF：设置用户控件数据上下文

> ID：14117242
> 
> 赞同：5
> 
> 时间：2013-01-02T05:27:03.080
> 
> 标签：wpf, button, data-binding, mvvm, datacontext

我有以下`MainWindow`布局左侧导航面板和右侧显示区域（两者都是`UserControls`）。

有人可以解释如何将`DataContext`导航面板 ( `LinksView.xaml`)分配给`LinksViewModel.cs`. 我想将 Command( `BtnCompanyClickCommand`) 绑定到按钮并`BtnCompanyClickCommand`在`LinksViewModel.cs`.

我尝试了在 StackOVerflow 上找到的各种方法来设置 DataContext，但这些解决方案似乎都不起作用（绑定 RelativeSource、命名视图和绑定到名称等）。

**主窗口.xaml**

```
<StackPanel Orientation="Horizontal">
    <vw:LinksView DataContext="{Binding RelativeSource={RelativeSource Self}}"/>
    <ContentControl Content="{Binding CurrentUserControl}" />

</StackPanel> 
```

**链接视图.xaml**

```
<StackPanel Orientation="Vertical">
    <Button Content="Company" Width="75" Margin="3" Command="{Binding ElementName=Links,Path=BtnCompanyClickCommand}" />
</StackPanel> 
```

**FormsDictionary.xaml**

```
<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:vm="clr-namespace:SidekickAdmin.ViewModel"
                    xmlns:vw="clr-namespace:SidekickAdmin.View">

    <DataTemplate DataType="{x:Type vm:CompanySummaryViewModel}">
        <vw:CompanySummaryView>
            <ContentControl Content="{Binding }" />
        </vw:CompanySummaryView>
    </DataTemplate>

    <DataTemplate DataType="{x:Type vm:LinksViewModel}">
        <vw:LinksView />
    </DataTemplate>

</ResourceDictionary> 
```

**编辑**

所以我终于遇到了这个[关于](https://stackoverflow.com/questions/5077377/usercontrols-datacontext)如何设置 UserControl 的 DataContext 的解释，这必须在 UserControl 的第一个子项上完成。

这是修改后的 LinksView.xaml 有效。

```
<StackPanel Orientation="Vertical">
    <StackPanel.DataContext>
        <vm:LinksViewModel />   <!-- Bind the items in StackPanel to LinksViewModel -->
    </StackPanel.DataContext>

    <Button Content="Company" Width="75" Margin="3" Command="{Binding BtnCompanyClickCommand}" />
</StackPanel> 
```

但是，我仍然不清楚为什么我必须设置子元素的 DataContext 而不是 UserControl，以及为什么 LinksView 的 DataTemplate（在 FormsDictionary.xaml 中设置）不与 LinksViewModel 的 DataContext 绑定。任何解释将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-02T05:37:58.440

首先，您必须在 XAML 代码中引用您的 DataContext (LinksViewModel.cs)。您可以通过直接实例化它或使用 ResourceDictionary 来做到这一点。在后一种情况下，您可以在某个 .cs 文件或 ResourceDictionary .xaml 文件中实例化您的 DataConext，并将其存储在一个命名的 ResourceDictionary 中，稍后您可以在其中找到引用。

其次，您只需要将 View 元素（如 LinksView.xaml）的 DataContext 属性与相应的 DataContext 相关联。

这是相当高级的，没有任何代码，但这是它背后的基本思想。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-04-08T10:01:00.383

MainWindowViewModel 中应该有一个 LinksViewModel 的实例：

MainWindowViewModel.cs：

```
class MainWindowViewModel
{
    public MainWindowViewModel()
    {
         LinksVM = new LinksViewModel();
    }

    public LinksViewModel LinksVM { get; private set; }
} 
```

主窗口.xaml

```
<StackPanel Orientation="Horizontal">
    <vw:LinksView DataContext="{Binding LinksVM}"/>
    <ContentControl Content="{Binding CurrentUserControl}" />
</StackPanel> 
```

链接视图.xaml

```
<StackPanel Orientation="Vertical">
    <Button Content="Company" Width="75" Margin="3" Command="{Binding BtnCompanyClickCommand}" />
</StackPanel> 
```

由于 LinksView 是在 MainWindow 中显式创建的，因此在 DataTemplate 中不需要 - 它可以被删除

```
<DataTemplate DataType="{x:Type vm:LinksViewModel}">
    <vw:LinksView />
</DataTemplate> 
```

# javascript - JS构造函数找不到全局变量

> ID：14117243
> 
> 赞同：0
> 
> 时间：2013-01-02T05:27:10.717
> 
> 标签：javascript, oop, constructor

这个问题的症结在于将变量分配给 html 元素在构造函数中不起作用。

一定有办法解决这个问题吗？

我发现最有效的方法是在构造函数中创建一个返回元素的方法。

有问题的变量是“盒子”。

我在开头尝试将 box 设为全局变量的部分注释掉了，但构造函数找不到 box 变量。这对我来说是最奇怪的部分。

下面是我的示例代码：

```
window.onload = function()
{
    document.getElementById("sub_button").onclick = adder;
    document.getElementById("scrap_it").onclick = remover;
}

//var box = document.getElementById("contact_list");
//refers to the select tag containing contact names as options

var Contacts = function()
{
    this.box = function (){ return document.getElementById("contact_list");}
    this.list = [];
    this.contact_info = document.getElementById("contact_info");

    this.find = function(personName){
        var found = "missing";
        for(var i = 0; i < this.list.length; i++)
        {
            if(this.list[i].personName == personName)
            {
                found = i;
            }
        }
        return found;
    }

    this.addPerson = function(personName, phone)
    {      
        if (this.find(personName) == "missing")
        {
            personName = personName;
            contact =
            {
                personName: personName,
                phone: phone
            }

            this.list.push(contact);
            this.update();
        }
        else
        {
        alert("Sorry, this contact name is already in use. Please choose another.");
        }
    }

    this.update = function()
    {
        this.box().innerHTML = "";

        for (var i = 0; i <this.list.length; i++)
        {
            option_element = document.createElement("OPTION");
            option_node = document.createTextNode(this.list[i].personName);
            option_element.appendChild(option_node);
            this.box().appendChild(option_element);
        }
    }

    this.remove = function(name_to_delete)
    {
        var index_to_remove = name_to_delete;
        this.list.splice(index_to_remove, 1);
        this.update();
    }

    this.postInfo = function(contact_to_display)
    {
        var index_to_display = contact_to_display;
        alert(this.list[index_to_display].personName);
        alert(this.list[index_to_display].phone);
    }
}

var myList = new Contacts();

function adder()
{
    myList.addPerson(document.getElementById("contact_name").value, document.getElementById("contact_phone").value);
}

function remover()
{
    myList.remove(myList.box().selectedIndex);
}

function showInfo()
{
    myList.postInfo(myList.box().selectedIndex);
} 
```

和 HTML：

```
<html>
<head>
<title>Address Book</title>
<script type="text/javascript" src="beta3.js"></script>
</head>

<body>
    <form id="contact_form">
        <label for="contact_name">Name: </label>
        <input type="text" id="contact_name" /><br />
        <label for="contact_phone">Phone: </label>
        <input type="text" id="contact_phone" /><br />
        <input type="button" name="submit" value="submit" id="sub_button" />
    </form>
    <br />
    <div>
        <a href="#" id="scrap_it">Delete</a>
    </div>
    <br />
    <div>
        <select name="contact_list" id="contact_list" size="10" multiple="multiple" style="width: 450px">

        </select>
    </div>
    <div>
        <textarea id="contact_info">

        </textarea>
    </div>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-02T06:16:03.530

尝试这样的事情

```
var box;
 window.onload = function()
{
   document.getElementById("sub_button").onclick = adder;
   document.getElementById("scrap_it").onclick = remover;
    //refers to the select tag containing contact names as options
   box = document.getElementById("contact_list");
} 
```

您的代码不起作用，因为您的脚本是在我们的元素在 dom 中呈现之前执行的，因此您的 box 变量什么也得不到。

# nutch - nutch crawling 卡在 spinwaiting 或 active 中。如何减少获取周期？

> ID：14117244
> 
> 赞同：1
> 
> 时间：2013-01-02T05:27:15.307
> 
> 标签：nutch, web-crawler, spinwait

我正在使用 nutch 2.1 并爬取一个站点。问题是爬虫一直显示获取 url spinwaiting/active 并且由于获取需要很长时间，因此与 mysql 的连接超时。我怎样才能减少一次提取的次数，使mysql不会超时？nutch 中是否有一个设置，我可以说只获取 100 或 500 个 url，然后解析并存储到 mysql，然后再次获取下一个 100 或 500 个 url？

错误信息：

```
Unexpected error for http://www.example.com
java.io.IOException: java.sql.BatchUpdateException: The last packet successfully received from the server was 36,928,172 milliseconds ago.  The last packet sent successfully to the server was 36,928,172 milliseconds ago. is longer than the server configured value of 'wait_timeout'. You should consider either expiring and/or testing connection validity before use in your application, increasing the server configured values for client timeouts, or using the Connector/J connection property 'autoReconnect=true' to avoid this problem.
    at org.apache.gora.sql.store.SqlStore.flush(SqlStore.java:340)
    at org.apache.gora.mapreduce.GoraRecordWriter.write(GoraRecordWriter.java:65)
    at org.apache.hadoop.mapred.ReduceTask$NewTrackingRecordWriter.write(ReduceTask.java:587)
    at org.apache.hadoop.mapreduce.TaskInputOutputContext.write(TaskInputOutputContext.java:80)
    at org.apache.nutch.fetcher.FetcherReducer$FetcherThread.output(FetcherReducer.java:663)
    at org.apache.nutch.fetcher.FetcherReducer$FetcherThread.run(FetcherReducer.java:534)
Caused by: java.sql.BatchUpdateException: The last packet successfully received from the server was 36,928,172 milliseconds ago.  The last packet sent successfully to the server was 36,928,172 milliseconds ago. is longer than the server configured value of 'wait_timeout'. You should consider either expiring and/or testing connection validity before use in your application, increasing the server configured values for client timeouts, or using the Connector/J connection property 'autoReconnect=true' to avoid this problem.
    at com.mysql.jdbc.PreparedStatement.executeBatchSerially(PreparedStatement.java:2028)
    at com.mysql.jdbc.PreparedStatement.executeBatch(PreparedStatement.java:1451)
    at org.apache.gora.sql.store.SqlStore.flush(SqlStore.java:328)
    ... 5 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: The last packet successfully received from the server was 36,928,172 milliseconds ago.  The last packet sent successfully to the server was 36,928,172 milliseconds ago. is longer than the server configured value of 'wait_timeout'. You should consider either expiring and/or testing connection validity before use in your application, increasing the server configured values for client timeouts, or using the Connector/J connection property 'autoReconnect=true' to avoid this problem.
    at sun.reflect.GeneratedConstructorAccessor49.newInstance(Unknown Source)
    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
    at java.lang.reflect.Constructor.newInstance(Constructor.java:525)
    at com.mysql.jdbc.Util.handleNewInstance(Util.java:411)
    at com.mysql.jdbc.SQLError.createCommunicationsException(SQLError.java:1116)
    at com.mysql.jdbc.MysqlIO.send(MysqlIO.java:3364)
    at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1983)
    at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2163)
    at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2624)
    at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:2127)
    at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2427)
    at com.mysql.jdbc.PreparedStatement.executeBatchSerially(PreparedStatement.java:1980)
    ... 7 more
Caused by: java.net.SocketException: Broken pipe
    at java.net.SocketOutputStream.socketWrite0(Native Method)
    at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:109)
    at java.net.SocketOutputStream.write(SocketOutputStream.java:153)
    at java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:82)
    at java.io.BufferedOutputStream.flush(BufferedOutputStream.java:140)
    at com.mysql.jdbc.MysqlIO.send(MysqlIO.java:3345)
    ... 13 more 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T19:07:16.733

> 我正在使用 nutch 2.1 并爬取一个站点。问题是爬虫一直显示获取 url spinwaiting/active 并且由于获取需要很长时间，因此与 mysql 的连接超时。我怎样才能减少一次提取的次数，以使 mysql 不会超时？

为了减少获取次数，您可以将以下属性添加到您的 nutch-site.xml 并根据需要编辑该值。请不要编辑 nutch-default.xml 而是将属性复制到 nutch-site.xml 并从那里管理值：

```
 <property>
    <name>fetcher.threads.fetch</name>
    <value>20</value>
  </property> 
```

关于超时问题，您可以将此属性添加到您认为需要的加载时间值到您的 nutch-site.xml 中。

```
<property>
  <name>http.timeout</name>
  <value>240000</value>
  <description>The default network timeout, in milliseconds.</description>
</property> 
```

> nutch 中是否有一个设置，我可以说只获取 100 或 500 个 URL，然后解析并存储到 mysql，然后再次获取下一个 100 或 500 个 URL？

Nutch 在一个循环中进行爬网 - 在您在爬网命令中指定的称为“深度”的多次迭代中生成/获取/解析/更新。如果您想控制您的抓取，您可以按照教程链接[http://wiki.apache.org/nutch/NutchTutorial](http://wiki.apache.org/nutch/NutchTutorial)的第 3.2 节（使用单个命令进行全网抓取）中所述执行每个步骤。这将为您提供良好的方向并准确了解正在发生的事情。在获取每个段时检查状态，以便您知道在每个段中获取了多少个 url

# javascript - 如何从Angularjs中的指令事件强制更新视图

> ID：14117245
> 
> 赞同：0
> 
> 时间：2013-01-02T05:27:15.387
> 
> 标签：javascript, angularjs

我有一份工作并坚持了 2 天。希望每个人都知道 angularjs 帮助我:)。当模型发生更改时，我需要强制更改 html。例子：

这是html代码：

```
 <!--CAKE LIST-->
    <div id="cakelist" ng-controller="CakeListCtrl">

        <ul class="thumbnails cake-rack" cakes="cakes" ng-model="cakesModel">
<li class="pull-left cake-unit" ng-repeat="cake in cakes" cake="cake">
    <div class="thumbnail">
        <a href="{{cake.link}}">
            <img ng-src="{{cake.avatar}}" alt="{{cake.title}}" class="img img-rounded img-polaroid" />
        </a>
        <h5 class="pull-left">
            <a href="{{cake.link}}">{{cake.title}}</a>
        </h5>
        <a href="{{cake.linksearch}}" class="pull-right shared">Shared</a>
        <div class="clearfix"></div>
        <ul class="attrs unstyled">
            <li>
                <div class="pull-left">Mã sản phẩm</div>
                <span class="pull-right">{{cake.type}}</span>
            </li>
        </ul>
    </div>
</li>
        </ul>
        <input type="button" class="btn btn-primary" value="add more cake" class="cake-more" ng-click="addCake()" />
        <input type="button" class="btn btn-danger" value="clear cake" class="cake-clear" ng-click="clear()" />
        <img alt="Loading" src="/imagesroot/ajax-loader-1.gif" loading-stage="loadingStage" class="cake-loading"/>

    </div> 
```

现在在控制器之外有一个菜单：

```
<div id="cake-catalog" class="cake-catalog">
    <ul class="nav">
        <li class="active">
            <a cake-menu-unit href="sacmscategory50c2302b7ff0a">Nhân vật hoạt hình</a>
        </li>
        <li>
            <a cake-menu-unit href="sacmscategory50c2308717a84">Động vật</a>
        </li>
        <li>
            <a cake-menu-unit href="sacmscategory50c2309da00f6">Tạo hình 3D</a>
        </li>
        <li>
            <a cake-menu-unit href="sacmscategory50c230ba08d9d">Các mẫu hình khác</a>
        </li>
    </ul>
</div> 
```

我有用于添加和清除的角度模块：

```
var CakeList = angular.module('CakeList', ['ngResource']);
CakeList.service('CakeService', function($rootScope) {
    var cakedata = [{avatar:"test", title: "test2"}];
    $rootScope.loadCake = false;
    var bf = function() { $rootScope.loadCake=true; };
    var at = function() { $rootScope.loadCake=false; };
    return {
        cakes: function() {
            bf();
            at();
            return cakedata;
        },
        addCake: function() {
            bf();
            cakedata.push(cake);
at();
        },

        clear: function() {
            cakedata = []; console.log('clear');
        }
    };
});
CakeList.directive('cakeCatalog', function($rootScope, CakeService) {
    var clickfn = function(e) {
        e.preventDefault();
        CakeService.clear();
    };
    var nonclickfn = function(e) {
        e.preventDefault();
        console.log('nonclickfn');
    };

    return {
        restrict: "C",
        link: function(scope, element, attrs) {
            $rootScope.$watch('loadCake', function(newValue, oldValue) {
                if (newValue===true) {
                    element.find('a').off('click').on('click', nonclickfn);
                }
                else {
                    element.find('a').off('click').on('click', clickfn);
                }
            });
        }
    }; 
```

但是在运行时，我点击菜单元素然后列表蛋糕不清楚，即使我在控制台框中检查 console.log 并看到 cakedata 真的很清楚！你能帮我这个案子吗？:)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-02T07:26:14.977

首先，在任何地方都使用 $rootScope （除其他外），设计似乎有点奇怪。但这不是问题的原因。问题是 $watch 不正确。

首先，`loadCake`用作对象而不是原始类型：

```
var loadCake = { loaded: false}; 
```

[在$watch](http://docs.angularjs.org/api/ng.%24rootScope.Scope#%24watch)语句中使用**objectEquality**参数：

```
 $rootScope.$watch('loadCake', function(newValue, oldValue) {
            if (!newValue) return;
            if (newValue.loaded === true) {
                element.find('a').off('click').on('click', nonclickfn);
            }
            else {
                element.find('a').off('click').on('click', clickfn);
            }
        }, true); 
```

# ios - 从核心数据中删除数组中不存在的对象

> ID：14117249
> 
> 赞同：1
> 
> 时间：2013-01-02T05:27:30.527
> 
> 标签：ios, core-data

我有一个如下所示的核心数据对象。

```
DummyObject
{
  objectID:<objectID>
  objectName:<objectName> 
} 
```

我`DummyObject`保存了其中的 1000 个。我还有一个`objectArray`包含 100 个这些`DummyObject`s 的数组。

我想运行一个查询，该查询将删除所有`DummyObject`不在此数组中的 s。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-02T13:57:51.747

从我的评论

您可以为获取请求尝试如下谓词

```
NSPredicate *predicate = [NSPredicate predicateWithFormat:@"NOT (self IN %@)", yourArray]; 
```

将它与 a 一起使用`NSFetchRequest`可以让您检索不在数组中的对象。

显然，`yourArray`包含类型的对象`DummyObject`。

删除，

```
// fetch request with predicate...
NSArray* results = // execute the fetch request

for(NSManagedObject* dummy in results) {
   [context deleteObject:dummy];
}

// save here... 
```

`results`您的 fetch 请求检索到的对象数组在哪里。

# c# - 如何处理/删除asp.net中imagebutton的损坏图像图标？

> ID：14117257
> 
> 赞同：0
> 
> 时间：2013-01-02T05:28:38.617
> 
> 标签：c#, asp.net

如果图像损坏，我正在尝试添加备用图像，我们也可以删除损坏的图像图标吗？这是我的代码：

```
<asp:ImageButton 
    AlternateText = " " 
    onerror = "imgError(this)" 
    ID = "ImageButton111" 
    runat="server" 
    Width = "140" 
    Height = "140" 
    CommandName = "image1" 
    CssClass = "imagetest" 
    CommandArgument = "image"  
    CausesValidation = "false" 
    ImageUrl='<%# "loadImage.ashx?RollNo=" + Eval("RollNO")%>' 
/>

    function imgError(image) {
    image.onerror = "";
    image.src = "~/images/no-hit.gif";
    return true;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T07:07:30.027

我认为 AlternateText 本身是一个内置功能，用于设置文本代替图像，以防图像无法正确加载。

或者，如果你想要一个备用图像，使用这个：

```
<img src="image.gif" onerror="changeImage('alternate_image.gif')"> 
```

并在 javascript 函数中设置备用图像：

```
function changeImage(altImage){
$(this).attr('src',altImage.toString());
} 
```

希望能帮助到你 ：）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-02T05:53:10.810

我会摆脱 onerror 事件并在您的 CodeBehind 中实现它。这样，如果 JavaScript 被禁用，您仍然会得到想要的结果。我使用了 HttpWebRequest。它只是检查 HEAD，所以它实际上并没有下载文件，它只是检查图像是否可访问。

```
 HttpWebRequest request = (HttpWebRequest)HttpWebRequest.Create(ImageButton1.ImageUrl);
    request.Method = "HEAD";

    try
    {
        request.GetResponse();
    }
    catch
    {

        ImageButton1.ImageUrl = "yournewimage.jpg";
    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-02T07:01:14.353

您可以像这样更改数据列表标记，即创建图像的位置

```
<%
    string filePath = "loadImage.ashx?RollNo=" + Eval("RollNo");
    if (IsImageValid(filePath))
    {
    %>
      <asp:ImageButton AlternateText=" " ID="ImageButton111" runat="server"
          Width="140" Height="140" CommandName="image1" CssClass="imagetest" CommandArgument = "image"
    CausesValidation="false" ImageUrl='<%# "loadImage.ashx?RollNo=" + Eval("RollNO")%>' />
   <%}
      else
   {%>
     <asp:ImageButton AlternateText=" " ID="ImageButton1" runat="server"
        Width="140" Height="140" CommandName="image1" CssClass="imagetest" CommandArgument="image"
         CausesValidation="false" ImageUrl="~/images/no-hit.gif" />
  <%} %> 
```

现在你要做的是，如果图像损坏，创建一个不同的图像

IsImageValid 函数可以这样定义

```
public bool IsImageValid(string filename)
{
    try
    {
        System.Drawing.Image newImage = System.Drawing.Image.FromFile(filename);
    }
    catch (OutOfMemoryException ex)
    {
        // Image.FromFile will throw this if file is invalid.
        // Don't ask me why.
        return false;
    }
    return true;
} 
```

这一切都可以在 OnItemDataBound 事件中完成，甚至更容易。

# iphone - 如何在 iOS5 中获取联系人访问权限？

> ID：14117258
> 
> 赞同：0
> 
> 时间：2013-01-02T05:28:44.980
> 
> 标签：iphone, objective-c, ios, contacts, abaddressbook

我正在制作一个与 iOS5 兼容的应用程序，并且我想在访问用户联系人列表之前获得许可。在 iOS6 中我可以做到这一点，但在 iOS5 中我还没有找到任何代码。我正在使用它来访问联系人列表 -

```
ABAddressBookRef addressBook = ABAddressBookCreate();
    CFArrayRef all = ABAddressBookCopyArrayOfAllPeople(addressBook);
    CFIndex n = ABAddressBookGetPersonCount(addressBook);

    for( int i = 0 ; i < n ; i++ )
    {
        ABRecordRef ref = CFArrayGetValueAtIndex(all, i);
        ABMultiValueRef *phones = ABRecordCopyValue(ref, kABPersonPhoneProperty);
        for(CFIndex j = 0; j < ABMultiValueGetCount(phones); j++)
        {

            CFStringRef phoneNumberRef = ABMultiValueCopyValueAtIndex(phones, j);
            //CFRelease(phones);
            NSString *phoneNumber = (__bridge NSString *)phoneNumberRef;
            CFRelease(phoneNumberRef);
            // NSString *s = @"foo/bar:baz.foo";
            NSCharacterSet *doNotWant = [NSCharacterSet characterSetWithCharactersInString:@"+- *#( )"];
            phoneNumber = [[phoneNumber componentsSeparatedByCharactersInSet: doNotWant] componentsJoinedByString: @""];

            NSLog(@"phone number new %@", phoneNumber);

        }
    } 
```

请建议如何做到这一点。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-02T06:48:03.903

由于地址簿权限要求是最近才在 iOS 6 中添加的，因此您无需请求权限。

如果您仍然想这样做，那么您只需显示一个 UIAlertView 并在 NSUserDefaults 中记录用户的选择。

请注意，如果用户从 iOS 5 升级到 6，他会再次被询问，因此在这种情况下您必须禁用您的 iOS 5 权限对话框。

# php - 删除特定行（由 int 类型的变量指定）

> ID：14117261
> 
> 赞同：0
> 
> 时间：2013-01-02T05:29:15.930
> 
> 标签：php, sql, pdo

我想通过用户定义的整数（1 到 rowCount()）从我的一个 .sql 表中删除一行。下面是伪代码，但它说明了我想要的。

```
$i = 1; //example
$quedb = $db->query("
    DELETE *
        FROM table
        WHERE ROWNUMBER = '$i'
"); 
```

有没有办法在 SQL 环境中做到这一点？我不想删除基于特定元素的行（我的一个朋友建议在我定义的行中查询一个元素，但我只想删除第 n 行，其中 n 是用户定义的）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T06:01:13.260

你不应该那样做。
在数据库的上下文中，“第 n 行”是无稽之谈。
数据库与您熟悉的列表不同。它们根本没有预定义的顺序。数据库是一个抽象**的行堆，它们只在选择时间接受排序，** 总是不同的，基于选择排序的字段。

要识别一行，您必须使用**唯一标识符**，它是为了达到这个目的而发明的。
因此，将`id`auto_incremented 主键字段添加到表中并使用它来标识行。“其他表”不仅是保持一致性的理由。无论您添加或删除了某些行，您自己在网站上的链接也需要一致的地址。

如果要枚举输出，请在选择时间使用 PHP。这是唯一正确的方法。

请在发明自己的轮子之前，学习数据库设计的基础知识。
或者至少听从更有经验的人的好建议。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-01-02T05:45:32.563

您可以使用嵌套查询来做到这一点。像这样...

从公司 id 的表中删除（从表限制 5,1 中选择 id）

但实际上不建议这样做，因为行为不是很一致。

# model-view-controller - 模型、视图或控制器中是否有 onclick 功能？

> ID：14117265
> 
> 赞同：0
> 
> 时间：2013-01-02T05:30:10.473
> 
> 标签：model-view-controller, backbone.js, onclick

我正在使用backbone.js，并在学习时尝试严格遵守模型-视图-控制器结构。我的一个视图中有一个链接的 onclick 功能，我不确定该放在哪里。将其保留在视图的渲染功能中的最佳位置是什么？

谢谢

更具体地说，onclick 执行 facebook 登录，然后将用户添加到我的数据库中（如果他们当前不在其中）。不知道这是否会改变什么。

这是我想我会去的：

```
 var NewUserView = Backbone.View.extend({
    el: $('#window'),
    render: function(){
      // Render

      this.listeners();
    },
    listeners: function(){
      // onclick and other listeners
    }
  }); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-03T19:35:19.253

从[骨干文档](http://backbonejs.org/#FAQ-mvc)：

> 在 Backbone 中，View 类也可以被认为是一种控制器，调度源自 UI 的事件，而 HTML 模板作为真正的视图。我们称它为 View 是因为它代表 UI 的逻辑块，负责单个 DOM 元素的内容。

这是在 Backbone 中处理事件的一般方法：

```
var NewUserView = Backbone.View.extend({
    el: $('#window'),

    render: function() {
        // Render
    },

    events: {
        "click #facebookButton": "loginViaFacebook"
    },

    loginViaFacebook: {
        // Perform facebook login and add user to database
    }
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-02T05:33:27.050

您希望链接出现在哪里？在`View`页面对吗？因此，您应该将其保留在`view`您希望链接出现的位置。

但是，如果您正在构建一个架构而不仅仅是一个 Web 应用程序，那么您应该将`onclick`函数放在一些不同的文件中，您将在其中保留所有这些函数，然后`view`根据需要将它们导入或将它们保存在单独的文件中并`bundling`进行导入在`view`页面上。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-01-02T05:36:12.670

请创建一个文件并在该文件中写入所有功能，并将该文件包含在您的视图文件中，并在锚标记中使用 onClick。请让我知道这是否有意义。

# iphone - 在 QuickBlox 上创建位置

> ID：14117268
> 
> 赞同：2
> 
> 时间：2013-01-02T05:30:35.480
> 
> 标签：iphone, ios, quickblox

我`QuickBlox`在我的`iOS`应用程序中使用并尝试在`Places`表中添加数据

```
QBLPlace *place = [QBLPlace place];
place.geoDataID = 34691;
place.photoID = 447;
place.title = [NSString stringWithFormat:@"%@",[aView.annotation title]];
place.address = @"London, Gadge st, 34";
place.placeDescription = @"My place description";
place.latitude = pinLocation.coordinate.latitude;
place.longitude = pinLocation.coordinate.longitude;
[QBLocation createPlace:place delegate:self]; 
```

但我无法添加地点。下面是控制台日志

## 休息请求：

```
POST http://api.quickblox.com/places.xml
headers:{
"QB-SDK" = "iOS 1.3.1";
"Qb-Token" = c1191ff8ffbfdb79b11fba6bf2a4c054d2644de8;
"QuickBlox-REST-API-Version" = "0.1.1";
}
parameters:{
"place[address]" = "London, Gadge st, 34";
"place[description]" = "My place description";
"place[geo_data_id]" = 34691;
"place[photo_id]" = 447;
"place[title]" = "The Bridge Room";
}
raw body:place[address]=London%2C%20Gadge%20st%2C%2034&place[description]=My%20place%20description&place[geo_data_id]=34691&place[photo_id]=447&place[title]=The%20Bridge%20Room
2013-01-02 10:21:14.543 Chat.Points[10229:1d903] Query QBLPlaceCreateQuery DEALLOC
2013-01-02 10:21:14.551 Chat.Points[10229:1d903] Request finished, response: 
```

## 休息响应：

```
<QBASIHTTPRequest: 0xb40fc00>
headers:{
"Access-Control-Allow-Origin" = "*";
"Access-Control-Request-Method" = "*";
"Cache-Control" = "no-cache";
Connection = Close;
"Content-Length" = 116;
"Content-Type" = "application/xml; charset=utf-8";
Date = "Wed, 02 Jan 2013 04:51:14 GMT";
"QuickBlox-REST-API-Version" = "0.1.1";
Server = "nginx/1.0.15";
Status = "422 Unprocessable Entity";
"X-Rack-Cache" = "invalidate, pass";
"X-Request-Id" = 5ad6e7d628b4fbd931b7896058f012cd;
"X-Runtime" = "0.052140";
"X-UA-Compatible" = "IE=Edge,chrome=1";
}
body:<?xml version="1.0" encoding="UTF-8"?>
<errors type="array">
<error>No photo with such id found</error>
</errors> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-02T08:23:24.657

创建场所的正确方法是：

```
QBLPlace *place = [QBLPlace place];
place.geoDataID = 34691;
place.photoID = 447;
place.title = [NSString stringWithFormat:@"%@",[aView.annotation title]];
place.address = @"London, Gadge st, 34";
place.placeDescription = @"My place description";

[QBLocation createPlace:place delegate:self]; 
```

在哪里：

*   geoDataID - QBLGeoData 对象的 ID
*   photoID - QBCBlob 对象的 ID

您的错误表明您必须使用照片创建文件，然后将其连接到位置。

要上传文件，请使用以下代码：

```
NSData *file = [NSData dataWithContentsOfFile:[[NSBundle mainBundle] pathForResource:@"Hotel47" ofType:@"png"]];

[QBContent TUploadFile:file fileName:@"Hotel47 Image" contentType:@"image/png" isPublic:YES delegate:self]; 

#pragma mark -
#pragma mark QBActionStatusDelegate

- (void)completedWithResult:(Result *)result{
    // Upload file result
    if(result.success && [result isKindOfClass:[QBCFileUploadTaskResult class]]){
        // File uploaded, do something

        QBCBlob *uploadedFile  = ((QBCFileUploadTaskResult *)result).uploadedBlob;

        NSUInteger photoID = uploadedFile.ID; // use this as photo IS for place
    }else{
        NSLog("errors=%@", result.errors);
    }
} 
```

要创建 GeoData，请使用下一个代码：

```
QBLGeoData *geodata = [QBLGeoData geoData];
geodata.latitude = 23.2344;
geodata.longitude = -12.23523;
geodata.status = @"Hello, world";

[QBLocation createGeoData:geodata delegate:self];

#pragma mark -
#pragma mark QBActionStatusDelegate

- (void)completedWithResult:(Result *)result{
    // Check-in result
    if(result.success && [result isKindOfClass:QBLGeoDataResult.class]){
        QBLGeoDataResult *checkinResult = (QBLGeoDataResult *)result;

        NSUInteger geoDataID = checkinResult.geoData.ID; // your geo data ID
    }else{
        NSLog(@"errors=%@", result.errors);
    }
} 
```

# android - 是否可以在 Android 中访问 3G 数据连接？

> ID：14117271
> 
> 赞同：1
> 
> 时间：2013-01-02T05:30:45.823
> 
> 标签：android, 3g, dataservice

我正在开发一个我想关闭/打开 3G 的 android 应用程序。我有些疑惑。

1.  是否可以以编程方式访问 3G 数据连接？

2.  如果可能，如何在不访问 2G 等其他数据连接的情况下关闭/打开 3G 数据连接...？

3.  3G和wifi可以同时使用吗？

4.  android中可用的不同数据连接有哪些？

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T05:37:43.390

有一种非官方的方法可以通过反射打开/关闭 3g。不保证适用于所有手机，因此请注意这一点。看到这个答案：

[https://stackoverflow.com/a/12535246/1369222](https://stackoverflow.com/a/12535246/1369222)

这不会分别控制3g和2g。这将打开/关闭整个数据连接。

Wifi 和 3g 不是同时连接的。通常，Wifi 优先于 3g，如果 wifi 连接丢失/不可用，则数据切换到 3g。

可用连接的数量和类型因手机而异。但他们中的大多数确实支持 2g/3g/wifi。

# ios - Openfire + XMPPFramework：使用 TURNsocket 传输文件不起作用

> ID：14117273
> 
> 赞同：2
> 
> 时间：2013-01-02T05:31:23.047
> 
> 标签：ios, file-transfer, openfire, xmppframework

感谢[http://mobile.tutsplus.com/tutorials/iphone/building-a-jabber-client-for-ios-xmpp-integration/](http://mobile.tutsplus.com/tutorials/iphone/building-a-jabber-client-for-ios-xmpp-integration/) ，我已经安装了[Openfire](http://www.igniterealtime.org/projects/openfire/)并创建了一个 iOS 客户端。我可以完美地在 Spark 和 Adium 之间发送文件，并在它们和我的 iOS 客户端（在模拟器上运行）之间发送消息。但是，我无法从我的 iOS 客户端向/从 Spark 和 Adium 发送文件。所有 Spark、Adium 和模拟器都在我的 Mac 上运行。

这里有一些设置：

> xmpp.domain：openfire.local
> 
> xmpp.proxy.enabled：真
> 
> xmpp.proxy.externalip：proxy.openfire.local
> 
> xmpp.proxy.port：7777

我还将这一行添加到 /private/etc/hosts 中，否则我无法远程登录 proxy.openfire.local 7777：

> 192.xxx.xxx.xxx 代理.openfire.local

## 接收文件时的日志

```
RCV: <iq xmlns="jabber:client" id="UKp3O-91" to="test1@openfire.local/77cd3862" from="test2@openfire.local/Spark 2.6.3" type="set"><si xmlns="http://jabber.org/protocol/si" id="jsi_4009669764706051217" mime-type="image/png" profile="http://jabber.org/protocol/si/profile/file-transfer"><file xmlns="http://jabber.org/protocol/si/profile/file-transfer" name="Screen Shot 3 PM.png" size="136871"><desc>Sending file</desc></file><feature xmlns="http://jabber.org/protocol/feature-neg"><x xmlns="jabber:x:data" type="form"><field var="stream-method" type="list-single"><option><value>http://jabber.org/protocol/bytestreams</value></option><option><value>http://jabber.org/protocol/ibb</value></option></field></x></feature></si></iq>

SEND: <iq type="error" to="test2@openfire.local/Spark 2.6.3" id="UKp3O-91"><si xmlns="http://jabber.org/protocol/si" id="jsi_4009669764706051217" mime-type="image/png" profile="http://jabber.org/protocol/si/profile/file-transfer"><file xmlns="http://jabber.org/protocol/si/profile/file-transfer" name="Screen Shot 3 PM.png" size="136871"><desc>Sending file</desc></file><feature xmlns="http://jabber.org/protocol/feature-neg"><x xmlns="jabber:x:data" type="form"><field var="stream-method" type="list-single"><option><value>http://jabber.org/protocol/bytestreams</value></option><option><value>http://jabber.org/protocol/ibb</value></option></field></x></feature></si><error type="cancel" code="501"><feature-not-implemented xmlns="urn:ietf:params:xml:ns:xmpp-stanzas"/></error></iq> 
```

## 发送文件时的日志

```
SEND: <iq type="get" to="test2@openfire.local/Spark 2.6.3" id="123"><query xmlns="http://jabber.org/protocol/disco#info"/></iq>

RCV: <iq xmlns="jabber:client" id="123" to="test1@openfire.local/e1d61d2" type="result" from="test2@openfire.local/Spark 2.6.3"><query xmlns="http://jabber.org/protocol/disco#info"><identity category="client" name="Smack" type="pc"/><feature var="http://jabber.org/protocol/xhtml-im"/><feature var="http://jabber.org/protocol/muc"/><feature var="http://jabber.org/protocol/bytestreams"/><feature var="http://jabber.org/protocol/commands"/><feature var="http://jabber.org/protocol/si/profile/file-transfer"/><feature var="http://jabber.org/protocol/si"/><feature var="http://jabber.org/protocol/ibb"/></query></iq>

SEND: <iq type="set" to="test2@openfire.local/Spark 2.6.3" id="1235"><si xmlns="http://jabber.org/protocol/si" id="jabber200" profile="http://jabber.org/protocol/si/profile/file-transfer"><file xmlns="http://jabber.org/protocol/si/profile/file-transfer" name="image.jpg" size="18699"/><feature xmlns="http://jabber.org/protocol/feature-neg"><x xmlns="jabber:x:data" type="form"><field var="stream-method" type="list-single"><option><value>http://jabber.org/protocol/bytestreams</value></option><option><value>http://jabber.org/protocol/ibb</value></option></field></x></feature></si></iq>

RCV: <iq xmlns="jabber:client" id="1235" to="test1@openfire.local/e1d61d2" from="test2@openfire.local/Spark 2.6.3" type="result"><si xmlns="http://jabber.org/protocol/si"><feature xmlns="http://jabber.org/protocol/feature-neg"><x xmlns="jabber:x:data" type="submit"><field var="stream-method"><value>http://jabber.org/protocol/bytestreams</value><value>http://jabber.org/protocol/ibb</value></field></x></feature></si></iq>

SEND: <iq type="get" to="openfire.local" id="3AB85477-DE06-4D17-9B85-977F38B746BA"><query xmlns="http://jabber.org/protocol/disco#items"></query></iq>

RCV: <iq xmlns="jabber:client" type="result" id="3AB85477-DE06-4D17-9B85-977F38B746BA" from="openfire.local" to="test1@openfire.local/e1d61d2"><query xmlns="http://jabber.org/protocol/disco#items"><item jid="rtpbridge.openfire.local" name="Media Proxy Service"/><item jid="proxy.openfire.local" name="Socks 5 Bytestreams Proxy"/><item jid="pubsub.openfire.local" name="Publish-Subscribe service"/><item jid="conference.openfire.local" name="Public Chatrooms"/></query></iq>

SEND: <iq type="get" to="proxy.openfire.local" id="8C8DCC93-A591-4051-BDB1-C76D22E15527"><query xmlns="http://jabber.org/protocol/disco#info"/></iq>

RCV: <iq xmlns="jabber:client" type="result" id="8C8DCC93-A591-4051-BDB1-C76D22E15527" from="proxy.openfire.local" to="test1@openfire.local/e1d61d2"><query xmlns="http://jabber.org/protocol/disco#info"><identity category="proxy" name="SOCKS5 Bytestreams Service" type="bytestreams"/><feature var="http://jabber.org/protocol/bytestreams"/><feature var="http://jabber.org/protocol/disco#info"/></query></iq>

SEND: <iq type="get" to="proxy.openfire.local" id="ECE4ADBB-27FB-45BF-8423-75656DED7C05"><query xmlns="http://jabber.org/protocol/bytestreams"/></iq>

RCV: <iq xmlns="jabber:client" type="result" id="ECE4ADBB-27FB-45BF-8423-75656DED7C05" from="proxy.openfire.local" to="test1@openfire.local/e1d61d2"><query xmlns="http://jabber.org/protocol/bytestreams"><streamhost jid="proxy.openfire.local" host="192.xxx.xxx.xxx" port="7777"/></query></iq>

SEND: <iq type="set" to="test2@openfire.local/Spark 2.6.3" id="E5FFB7B6-670E-4308-9203-B73527950D8C"><query xmlns="http://jabber.org/protocol/bytestreams" sid="jabber200" mode="tcp"><streamhost jid="proxy.openfire.local" host="192.xxx.xxx.xxx" port="7777"></streamhost></query></iq>

RCV: <iq xmlns="jabber:client" id="E5FFB7B6-670E-4308-9203-B73527950D8C" to="test1@openfire.local/e1d61d2" type="result" from="test2@openfire.local/Spark 2.6.3"><query xmlns="http://jabber.org/protocol/bytestreams"><streamhost-used jid="proxy.openfire.local"/></query></iq> 
```

最后调用了这个方法：

```
[TURNSocket doTotalTimeout] 
```

希望有经验的大神指出问题。提前致谢！

# linux - 将结果打印到文件

> ID：14117275
> 
> 赞同：0
> 
> 时间：2013-01-02T05:31:35.063
> 
> 标签：linux, scripting

我正在运行几个脚本来检查 ubuntu 上文件和文件夹的大小。如何使这些脚本自动运行，以便它们可以在一天开始时自动运行并将结果打印到文本文件我是脚本新手请回复

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-02T05:41:45.563

打印到文本文件相当简单。

我假设您正在使用python。如果没有，请纠正我。

首先，打开一个有写权限的txt文件（open的第二个参数）。然后，您可以使用 .write() 方法写入文件。最后，最好在之后关闭文件。

```
f = open('file.txt', 'w') 
f.write("Hello world")
f.close() 
```

对于脚本自动化，您需要阅读 cron 作业：[http ://en.wikipedia.org/wiki/Cron](http://en.wikipedia.org/wiki/Cron)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-02T06:11:47.087

实际上，您可以将`du`命令的输出重定向到文件，由 cron 作业执行。完整的 shell 脚本是：

```
#!/bin/bash
du -H >> /tmp/yourfile.log 
```

笔记：

1.  查找`du`的手册页以获取有关选项标志的更多信息。
2.  您可能希望在文件名中包含用于分隔日常日志的变量
3.  这听起来像一个 serverfault.com 问题。

# c++ - OpenCV addweighted 函数在第 4 次循环后给出未处理的异常

> ID：14117280
> 
> 赞同：0
> 
> 时间：2013-01-02T05:32:03.920
> 
> 标签：c++, image-processing, opencv

我正在尝试将小图像混合到较大图像的多个区域中。这是我的代码：

```
for(int i=0;i<m_numKeypoints;i++)
{
    Keypoint kp = m_keyPoints[i];
    kp.scale;
    //cvLine(img, cvPoint(kp.xi, kp.yi), cvPoint(kp.xi, kp.yi), CV_RGB(255,255,255), 3);
    //cvLine(img, cvPoint(kp.xi, kp.yi), cvPoint(kp.xi+10*cos(kp.orien[0]), kp.yi+10*sin((double)kp.orien[0])), CV_RGB(255,255,255), 1);
    // find the points where X and Y is the centre of the rectangle ROI
    ROIa=calculateFirstPoint(kp.xi,kp.yi,rectX,rectY); 
    ROIb=calculateSecondPoint(kp.xi,kp.yi,rectX,rectY);
    if (kp.scale>2 && kp.scale<10)
    {
        ROI=yuv_channels[0](Rect(ROIa,ROIb));
        addWeighted(ROI,0.5,watermark,0.5,0.0,ROI);

    }
    else if (i==m_numKeypoints-1)
    {
        merge(yuv_channels,3,resImg);
        imshow("Result",resImg);
    }
} 
```

但是，当它进入 IF 条件时，它会给我一个“MySIFT.exe 中 0x5b78ad7a (msvcp100d.dll) 处的未处理异常：0xC0000005：访问冲突读取位置 0xccccccd0。” 在 i=3 之后。我不知道出了什么问题，如果有人能对这个问题有所了解，将不胜感激。谢谢你 。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-02T12:22:59.330

我会打印 和 的值，`ROIa`对于`ROIb`第四个特征，这些点之一很可能在外面`yuv_channels[0]`。

# mysql - 删除mysql中的随机数据

> ID：14117281
> 
> 赞同：1
> 
> 时间：2013-01-02T05:32:11.033
> 
> 标签：mysql, delete-row

我想从我的表中删除一些随机数据，并削减 90% 的行（我有非常大的数据，我只需要一个样本），表如下所示：

```
ID    |Trans_No    |Doctor_ID |Trans_Type                    |PM |Cost
12340 |10.853329   |          |ADMINISTRASI                  |   |0.00
12341 |10.853329   |1004      |JASA MEDIS                    |   |25000.00
12342 |10.853329   |          |OBAT RESEP FARMASI NO : 177   |F  |2000.00
12343 |10.836033   |          |ADMINISTRASI                  |   |0.00
12344 |10.836033   |1001      |JASA MEDIS                    |   |25000.00
12345 |10.836033   |          |OBAT RESEP FARMASI NO : 317   |F  |0.00
12346 |10.836032   |          |ADMINISTRASI                  |   |0.00
12347 |10.836032   |1004      |JASA MEDIS                    |   |25000.00
12348 |10.836032   |          |PEMERIKSAAN RADIOLOGI NO 092.1|R  |15000.00
12349 |10.836034   |1064      |JASA MEDIS                    |   |25000.00
12350 |10.836034   |          |PEMERIKSAAN RADIOLOGI NO 093.1|R  |20000.00 
```

我认为这个查询会起作用：

```
DELETE FROM my_table WHERE RAND() <= 0.9 
```

但是正如你所看到的，一些数据具有相同的trans_no，如果一个trans_no被删除，另一个具有相同trans_no的数据应该被删除，有什么查询可以做到这一点吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-02T05:37:16.130

您应该`trans_no`先选择符合条件的然后删除它们，如下所示：

```
DELETE FROM my_table
WHERE trans_no IN (
    SELECT trans_no
    FROM (SELECT DISTINCT trans_no FROM my_table) x
    WHERE rand() <= 0.9
) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-02T05:49:37.607

您必须对此进行内部查询。

首先你必须找到`trans_no`要删除的

```
 SELECT 
            trans_no
    FROM 
           (SELECT DISTINCT trans_no FROM my_table)
    WHERE rand() 
```

然后你必须有这样的单独删除查询

```
DELETE FROM my_table WHERE trans_no IN (Put the above query here) 
```

最后

```
DELETE FROM my_table WHERE  trans_no IN (
        SELECT 
                trans_no
        FROM 
               (SELECT DISTINCT trans_no FROM my_table) as derived_table
        WHERE rand()
) 
```

# asp.net - 是否可以从服务器端计算网络摄像头“捕获”中的人脸数量？

> ID：14117283
> 
> 赞同：1
> 
> 时间：2013-01-02T05:32:25.967
> 
> 标签：asp.net, silverlight-4.0, image-capture

我是 ASP.Net 的新手，我想实施每次`random`网络摄像头从`client side`. 我想将那些捕获的图像发送到服务器，我不想`count`在这些图像中找到人脸并将消息返回给客户端。

在这里，我使用`Silver light plug`in 来捕获图像.....

如果有任何建议或想法，请告诉我。如果有任何`English`错误，请编辑问题

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T09:20:16.300

您可以从图像中获取人脸数量。执行以下步骤

1- 捕捉图像

2- 通过 Stream 或其他方法将其发送到服务器

3-按照本教程[http://www.codeproject.com/Articles/462527/Camera-Face-Detection-in-Csharp-Using-Emgu-CV-Open](http://www.codeproject.com/Articles/462527/Camera-Face-Detection-in-Csharp-Using-Emgu-CV-Open)

本教程使用 Emgu CV 库。它适用于.net，并且可以正常工作。

# objective-c - 从选择器获取特定的 MKAnnotation

> ID：14117285
> 
> 赞同：0
> 
> 时间：2013-01-02T05:32:33.953
> 
> 标签：objective-c, mkmapview, mapkit, mkannotation, mkannotationview

我正在`MKMapView`一个应用程序中实现一个，并且已经实现了该`-mapView: viewForAnnotation:`方法，以便在地图上显示动态放置的带有标注的图钉。我感兴趣的地图上的注释是在一个名为`Annotation`implements的单独类中定义的`MKAnnotation`。在`-mapView: viewForAnnotation:`方法中，我需要获取通过方法的`annotation`变量输入的变量的值，该变量将是`Annotation`.

```
- (MKAnnotationView *)mapView:(MKMapView *)mapView viewForAnnotation:(id<MKAnnotation>)annotation {
if ([annotation isKindOfClass:[MKUserLocation class]]) {
    return nil;
}

if ([annotation isKindOfClass:[Annotation class]]) {
    static NSString *identifier = @"RemoteLocation";
    MKPinAnnotationView *annotationView = (MKPinAnnotationView *)[self.mapView dequeueReusableAnnotationViewWithIdentifier:identifier];
    if (annotationView == nil) {
        annotationView = [[MKPinAnnotationView alloc] initWithAnnotation:annotation reuseIdentifier:identifier];
    } else {
        annotationView.annotation = annotation;
    }
    annotationView.enabled = YES;
    //HERE, I NEED TO GET THE VALUE OF annotation's VARIABLE IN ORDER TO ASSIGN THE ANNOTATIONVIEW IMAGE
    //annotationView.image = [UIImage imageWithData:[NSData dataWithContentsOfURL:[NSURL URLWithString:annotation.senderPhotoURL]]];
    return annotationView;
    }
return nil;
} 
```

问题是，当我尝试从`annotation`（它是 的一个实例）`Annotation`获取变量的值时，无法访问该变量。我需要做什么来通知程序`annotation`是 的实例`Annotation`，以便可以读取变量？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-02T08:37:06.967

尽管您已经证明这`annotation`是一个`Annotation`底层，但您需要将其转换为 Annotation 的实际实例，如下所示：

```
Annotation* yourAnnotation = (Annotation *)annotation; 
```

然后你可以`yourAnnotation`按照你的期望使用。

# php - 注册全局 php

> ID：14117286
> 
> 赞同：1
> 
> 时间：2013-01-02T05:32:38.743
> 
> 标签：php

我知道不应该使用寄存器全局变量，但不太明白为什么？

例如：这是我经常发现的代码，用于演示在`example.com?authorized=1`向脚本传递类似内容时使用寄存器全局变量的安全风险：

```
if (authenticated_user()) 
{ 
$authorized = true; 
} 

if ($authorized) 
{ 
include '/highly/sensitive/data.php'; 
} 
```

我的问题是，如果用户必须传入`authorized=1`url，他应该知道我在脚本中使用的变量名，对吗？这怎么可能？

`parse_str()`同样，类似于注册全局变量的功能也不是安全风险吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-02T05:37:52.303

1.  攻击者可能通过另一个安全漏洞或隐私泄露访问您的源代码。
2.  攻击者可以猜测。构建一个机器人来枚举所有可能的变量名称并在数千个 php 站点上尝试它们是非常简单的。( `?authorized=1`, `?login=1`,`?access=1`等)

**编辑**

作为回应`parse_str`，这取决于用例到底是什么，但总的来说可能。如果`parse_str`通过任何用户提供的内容，那么是的，绝对不安全。

可能有一些合法的用例，其中提供的输入不是用户提供的，但总的来说我会远离它。

我也会说同样的话`extract`：[http ://ca1.php.net/manual/en/function.extract.php](http://ca1.php.net/manual/en/function.extract.php)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-02T05:39:01.967

想想为什么你曾经`authorized`命名你的变量？制作是描述性的吗？**黑客在 url 中使用字典单词**`register_globals`，如果打开，则设置此类描述性变量

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-02T05:39:55.917

虽然黑客确实需要知道变量名，但在许多情况下，这些变量名很容易猜到，并且尝试暴力破解是一项微不足道的任务。

当您使用开源软件、插件或复制/粘贴流行的代码片段时，这一点变得更加真实。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-02T05:47:19.790

首先`register_globals`是安全风险。

*   它是在 PHP 级别打开的，因此您不能说只引用一个脚本打开它是安全的。
*   程序员（可能是任何程序员，而不仅仅是您）将不知道如何`$authorized`设置，并且可能会无意中在代码中留下安全漏洞。
*   `register_globals`注册的变量`superglobals`意味着它们可以在 PHP 脚本中的任何范围内使用。

接下来我们来看`parse_str`。此函数仅将变量解析到代码的**当前范围**（[参考](http://php.net/manual/en/function.parse-str.php)）。任何程序员都可以查看当前范围并确定他们是否以及如何保护它。它仍然不是很安全，但不像`register_globals`.

# formatting - 在 ExtJS 中显示和输入数字作为货币

> ID：14117287
> 
> 赞同：1
> 
> 时间：2013-01-02T05:32:44.107
> 
> 标签：formatting, numbers, extjs4.1, currency

我正在使用 ExtJS 4.1，并尝试将我的货币字段显示为 value / 1000，但仅显示。例如，如果用户输入 1234.56，它将在屏幕上显示为 1,234.56，但仅当它显示在屏幕上时。对于其他所有内容，它都存储为 1234560。在该数字后面的每个计算中都被视为 1234560。我使用 bigint 作为存储，我想避免浮动，因为在我的国家，20 亿是一个正常数字，但也会需要分数部分。

你怎么能那样做？

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T06:08:50.240

一种方法是创建一个扩展基本文本框的新组件，向其添加一个名为 storedValue 之类的属性，并为焦点和模糊事件注册处理程序以将存储的值转换为十进制值以进行显示/编辑，然后逗号格式的版本并使用整数值更新存储的值。

**编辑**

刚回去工作，认为这段旧代码可能有用。这是我不久前为自己创建的货币字段。父表单上的侦听器仅适用于具有更新前后事件的表单扩展版本。可能有更好的方法来做到这一点，例如根据应用程序的需要重载 getValue、getSubmitValue 和 getSubmitData 函数。我的需要只是显示货币符号和逗号，因此需要根据您的需要对其进行修改，但如果您还不太远或遇到任何麻烦，它应该提供一个不错的起点。祝你好运。

```
Ext.define('Ext.ux.form.field.Currency', {
    extend: 'Ext.form.field.Text',

    alias: 'widget.currencyfield',

    initComponent: function (config) {
        this.callParent(arguments);
    },

    hasFocus: false,

    listeners: {
        render: function () {
            var form = this.findParentByType('form');

            form.on('afterLoadRecord', function () {
                this.toRaw();
                if (this.getRawValue() == 0) {
                    this.setRawValue('');
                } else {
                    this.toFormatted();
                }
            }, this);

            form.on('beforeUpdateRecord', function () {
                this.toRaw();
            }, this);

            form.on('afterUpdateRecord', function () {
                this.toRaw();
                if (this.getRawValue() == 0) {
                    this.setRawValue('');
                } else {
                    this.toFormatted();
                }
            }, this);
        },
        focus: function (field, e, eOpts) {
            this.toRaw();
            this.hasFocus = true;
        },
        blur: function (field, e, eOpts) {
            //Clear out commas and $
            this.toRaw();

            //If there's a value, format it
            if(field.getValue() != '') {
                this.toFormatted();
                this.hasFocus = false;
            }
        }
    },

    stripAlpha: function (value) {
        return value.replace(/[^0-9.]/g, '');
    },

    toRaw: function () {
        if (this.readOnly !== true) {
            this.setRawValue(this.stripAlpha(this.getRawValue()));
        }
    },

    toFormatted: function () {
        this.setRawValue(Ext.util.Format.currency(this.getRawValue(), '$ ', 0));
    },

    getValue: function () {
        return parseFloat(this.stripAlpha(this.getRawValue()));
    }
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-03T16:55:32.417

玩了之后，我有了另一种解决方案，一个基于模型的解决方案。创建一个不存在的字段，比如price_display，用它来展示；

```
Ext.define('app.model.PriceSample', {
  extend: 'Ext.data.Model',
  field: [
    {name: 'price', type: 'int'},
    {name: 'price_display', type: 'float', convert: function (value, records) {
      if (value) { //on write
        record.set('price', value * 1000);
        return value;
      } else {
        return record.get('price') / 1000;
      }
    }}
  ]
} 
```

在您的网格或组合或任何东西上使用 price_display 而不是价格。但是当你想进行数学运算时，请使用价格。

# java - 无法理解 docs.oracle 上的 Java Map 接口的一部分

> ID：14117288
> 
> 赞同：0
> 
> 时间：2013-01-02T05:32:51.113
> 
> 标签：java, hashmap

我不明白的文字是：

> 除了它（地图接口的）明显使用将一个地图转储到另一个地图之外，它还有第二个更微妙的用途。假设一个 Map 用来表示一个属性值对的集合；putAll 操作与 Map 转换构造函数相结合，提供了一种使用默认值实现属性映射创建的简洁方法。以下是演示此技术的静态工厂方法。

```
 static <K, V> Map<K, V> newAttributeMap(Map<K, V>defaults, Map<K, V> overrides) {
      Map<K, V> result = new HashMap<K, V>(defaults);
      result.putAll(overrides);
      return result;
  } 
```

您可以[在](http://docs.oracle.com/javase/tutorial/collections/interfaces/map.html)标题“地图接口批量操作”下找到它

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T05:41:03.470

您可以使用`putAll()`方法将另一个地图的元素添加到此地图。在这种情况下命名它是`overrides`为了告诉您，它覆盖了已经存在于`defaults`. 即，如果默认值包含键值对 A->B，并且在覆盖中出现 A->C，则生成的映射将仅包含 A->C。

或者如果默认值包含 A->B 并且覆盖包含 D->E，例如 A.equals(D)，则结果映射将只有 A（或 D，因为两者都相等）->E。

提到的静态方法返回一个新的`Map`，它`defaults`与`overrides`（具有优先级）结合并返回它。对于使用的那个方法`Map map = new HashMap(defaults)`；构造函数与`putAll`方法相结合。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-02T05:41:36.797

它说您可以加载默认键值对并仅覆盖它们中的选定子集（或者甚至所有它们，如果您选择的话）。

例如，您想使用用户提供的键值创建一个映射。让我们说，用户不需要为所有键提供值的部分或全部键有安全默认值。

因此，您使用默认值创建一个映射，调用者只提供他想要覆盖的那些。在这种情况下，您将需要覆盖调用者提供的那些键的值。您可以使用上述机制在看似单一的调用中实现此目的，而不是一一进行。

# c# - 从图片数组中检索图像属性

> ID：14117294
> 
> 赞同：1
> 
> 时间：2013-01-02T05:33:42.453
> 
> 标签：c#, date, properties, time, photo

我目前正在使用 C# 开发 Windows 窗体应用程序。我想知道如何检索图像的创建日期和时间。我在网上查了解决方案，找到了对 PropertyItem 的引用，但我不明白如何使用它。

我下面的代码从文件夹中获取照片并将它们显示在图片数组中。
单击时如何在 MessageBox 中显示图片的创建日期和时间？

```
 // Function to add PictureBox Controls
    private void AddControls(int cNumber)
    {
        imgArray = new System.Windows.Forms.PictureBox[cNumber]; // assign number array 
        for (int i = 0; i < cNumber; i++)
        {
            imgArray[i] = new System.Windows.Forms.PictureBox(); // Initialize one variable
        }
        // When call this function you determine number of controls
    }

    private void ClickImage(Object sender, System.EventArgs e)
    {
        // On Click: load (ImageToShow) with (Tag) of the image
        ImageToShow = ((System.Windows.Forms.PictureBox)sender).Tag.ToString();
        // then view this image on the form (frmView)

        PrivacyDefenderTabControl.SelectedIndex = 5;
        LogsPhotosPictureBox.Image = Image.FromFile(ImageToShow);
        LogsPhotosPictureBox.Left = (this.Width - LogsPhotosPictureBox.Width) / 15;
    }

    private void ImagesInFolder()
    {
        FileInfo FInfo;
        // Fill the array (imgName) with all images in any folder 
        imgName = Directory.GetFiles(Application.StartupPath + @"\Faces");
        // How many Picture files in this folder
        NumOfFiles = imgName.Length;
        imgExtension = new string[NumOfFiles];
        for (int i = 0; i < NumOfFiles; i++)
        {
            FInfo = new FileInfo(imgName[i]);
            imgExtension[i] = FInfo.Extension; // We need to know the Extension
        }
    }

    private void ShowFolderImages()
    {
        int Xpos = 27;
        int Ypos = 8;
        Image img;
        Image.GetThumbnailImageAbort myCallback =
            new Image.GetThumbnailImageAbort(ThumbnailCallback);
        MyProgress.Visible = true;
        MyProgress.Minimum = 0;
        MyProgress.Maximum = NumOfFiles;
        MyProgress.Value = 0;
        MyProgress.Step = 1;
        string[] Ext = new string[] { ".GIF", ".JPG", ".BMP", ".PNG" };
        AddControls(NumOfFiles);
        for (int i = 0; i < NumOfFiles; i++)
        {
            switch (imgExtension[i].ToUpper())
            {
                case ".JPG":
                case ".BMP":
                case ".GIF":
                case ".PNG":
                    img = Image.FromFile(imgName[i]); // or img = new Bitmap(imgName[i]);
                    imgArray[i].Image = img.GetThumbnailImage(64, 64, myCallback, IntPtr.Zero);
                    img = null;
                    if (Xpos > 360) // six images in a line
                    {
                        Xpos = 27; // leave eight pixels at Left 
                        Ypos = Ypos + 72;  // height of image + 8
                    }
                    imgArray[i].Left = Xpos;
                    imgArray[i].Top = Ypos;
                    imgArray[i].Width = 64;
                    imgArray[i].Height = 64;
                    imgArray[i].Visible = true;
                    // Fill the (Tag) with name and full path of image
                    imgArray[i].Tag = imgName[i];
                    imgArray[i].Click += new System.EventHandler(ClickImage);
                    this.LogsTabPage.Controls.Add(imgArray[i]);
                    Xpos = Xpos + 72; // width of image + 8
                    Application.DoEvents();
                    MyProgress.PerformStep();
                    break;
            }
        }
        MyProgress.Visible = false;
    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-02T05:39:24.653

一个`Image`，一旦加载，与它的原始文件没有任何关系。如果，当用户单击时，您能够检索图片的原始文件名，您可以使用：

```
var lastEditDate = File.GetLastWriteTime("file.jpg"); 
```

或者，如果您已经使用`FileInfo`实例，则可以使用：

```
var lastEditDate = new FileInfo("file.jpg").LastWriteTime; 
```

Since you can't derive from `Image`, as its constructor is internal, you can keep a `Dictionary<Image,string>` somewhere, populate it when the images are loaded, then retrieve the path relative of the clicked image through a lookup.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-02T05:40:36.323

At least jpeg files have meta data attached. Please not: it might be attached, but you can't ensure it's there.

You are already reading the image (Image.FromFile) and the resulting object supports the method [GetPropertyItem](http://msdn.microsoft.com/en-us/library/system.drawing.image.getpropertyitem.aspx). With that property you can read out meta data. There are a list of available [properties](http://msdn.microsoft.com/en-us/library/system.drawing.imaging.propertyitem.id.aspx) (0x0132 should be date and time) and a [sample](http://msdn.microsoft.com/en-us/library/xddt0dz7.aspx).

# cordova - Phonegap文本框问题

> ID：14117298
> 
> 赞同：0
> 
> 时间：2013-01-02T05:34:33.407
> 
> 标签：cordova, phonegap-plugins

我在 phonegap 中有一个用于填写反馈的表格。我希望用户输入如下所示的文本输入；应该有`(input type="text")`透明的文本框应该在图像中。可能吗？

![在此处输入图像描述](../Images/953313977b59f7808ff30f97b34e8d46.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-02T14:40:55.343

这是一个可能的解决方案

css

```
body
{
background-image:'path-to-image';
}
input
{
background:transparent
} 
```

HTML

```
....
<body>
<input type='text' placeholder='my text'/>
</body>
..... 
```

希望对您有所帮助。

# android - Google + 帐户中未显示安装按钮

> ID：14117300
> 
> 赞同：1
> 
> 时间：2013-01-02T05:34:55.177
> 
> 标签：android, android-layout

我正在我的 android 应用程序中集成 Google +1 api 以进行 +1 推荐和共享。当我使用 android 手机共享我的应用程序时，安装按钮不会显示在 google+ 帐户中。用户可以在哪里直接下载。但是当我使用网络浏览器共享时它显示安装按钮。

请建议我在用户共享我的应用程序时如何显示直接安装按钮。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-02T07:12:04.237

借助适用于 Android 的 Google+ 平台，您现在可以在自己的 Android 应用程序中集成原生 +1 按钮。

1）您首先需要在 Activity 中初始化 PlusClient 对象的[+1 按钮。](https://developers.google.com/+/mobile/android/#initialize_the_plusclient)

2) 在布局中包含 PlusOneButton：

```
<com.google.android.gms.plus.PlusOneButton
    xmlns:plus="http://schemas.android.com/apk/lib/com.google.android.gms.plus"
    android:id="@+id/plus_one_button"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    plus:size="standard"
    plus:annotation="inline" /> 
```

3) 将 PlusOneButton 分配给 Activity.onCreate 处理程序中的成员变量。

```
 @Override
    protected void onCreate(Bundle savedInstanceState) {
     super.onCreate(savedInstanceState);
     mPlusClient = new PlusClient(this, this, this, Scopes.PLUS_PROFILE);
     mPlusOneButton = (PlusOneButton) findViewById(R.id.plus_one_button);
    } 
```

4) 每次活动在 Activity.onResume 处理程序中获得焦点时，刷新 PlusOneButton 的状态。

```
 protected void onResume() {
   super.onResume();
  // Refresh the state of the +1 button each time the activity receives focus.
   mPlusOneButton.initialize(mPlusClient, URL);
  } 
```

有关详细信息，请参阅

[https://developers.google.com/+/mobile/android/#recommend_content_with_the_1_button](https://developers.google.com/+/mobile/android/#recommend_content_with_the_1_button)

一旦您在 Google+ 按钮上获得 clickEvent 设置它的可见性---> GONE 并设置您的安装按钮可见性-->可见

希望它可以帮助！

# javascript - 替换用户选择的文件使用客户端生成的文件

> ID：14117306
> 
> 赞同：1
> 
> 时间：2013-01-02T05:35:35.963
> 
> 标签：javascript, fileapi, file-io

这是我的问题。我有一个文件上传表单：

```
<form>
  <input type="file">
  <input type="submit">
</form> 
```

选择文件时（在我的情况下是图像） - 我使用 FileAPI 和画布调整它的大小。我不知道的一点是 - 我将如何用我的替换选定的文件，所以当用户点击“提交”时 - 它会上传修改后的文件而不是原始文件？

到目前为止我看过的所有解决方案都建议通过 AJAX 上传文件，但这不适合我的情况。

任何帮助深表感谢！

# visual-c++ - 基于对话框的应用程序无法在 VS 2012 中编译

> ID：14117309
> 
> 赞同：-1
> 
> 时间：2013-01-02T05:36:02.387
> 
> 标签：visual-c++, mfc

我在 Windows 7 机器上安装了 VS 2012 并创建了一个干净的基于对话框的 MFC 应用程序。编译它会产生以下错误：

```
1>------ Build started: Project: MFCApplication1, Configuration: Debug Win32 ------
1>  stdafx.cpp
1>c:\program files (x86)\microsoft visual studio 11.0\vc\atlmfc\include\atlcore.h(633): error C2065: 'LOAD_LIBRARY_SEARCH_SYSTEM32' : undeclared identifier
1>c:\program files (x86)\microsoft visual studio 11.0\vc\atlmfc\include\atliface.h(3011): error C2061: syntax error : identifier '__RPC__inout_xcount'
1>c:\program files (x86)\microsoft visual studio 11.0\vc\atlmfc\include\atliface.h(3011): error C2733: 'BSTR_UserMarshal' : second C linkage of overloaded function not allowed
1>          c:\program files\microsoft sdks\windows\v6.0a\include\oaidl.h(5126) : see declaration of 'BSTR_UserMarshal'
1>c:\program files (x86)\microsoft visual studio 11.0\vc\atlmfc\include\atliface.h(3012): error C2061: syntax error : identifier '__RPC__in_xcount'
1>c:\program files (x86)\microsoft visual studio 11.0\vc\atlmfc\include\atliface.h(3012): error C2733: 'BSTR_UserUnmarshal' : second C linkage of overloaded function not allowed
1>          c:\program files\microsoft sdks\windows\v6.0a\include\oaidl.h(5127) : see declaration of 'BSTR_UserUnmarshal'
1>c:\program files (x86)\microsoft visual studio 11.0\vc\atlmfc\include\atliface.h(3016): error C2061: syntax error : identifier '__RPC__inout_xcount'
1>c:\program files (x86)\microsoft visual studio 11.0\vc\atlmfc\include\atliface.h(3016): error C2733: 'HWND_UserMarshal' : second C linkage of overloaded function not allowed
1>          c:\program files\microsoft sdks\windows\v6.0a\include\oleidl.h(3697) : see declaration of 'HWND_UserMarshal'
1>c:\program files (x86)\microsoft visual studio 11.0\vc\atlmfc\include\atliface.h(3017): error C2061: syntax error : identifier '__RPC__in_xcount'
1>c:\program files (x86)\microsoft visual studio 11.0\vc\atlmfc\include\atliface.h(3017): error C2733: 'HWND_UserUnmarshal' : second C linkage of overloaded function not allowed
1>          c:\program files\microsoft sdks\windows\v6.0a\include\oleidl.h(3698) : see declaration of 'HWND_UserUnmarshal'
1>c:\program files (x86)\windows kits\8.0\include\um\uianimation.h(2621): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int
1>c:\program files (x86)\microsoft visual studio 11.0\vc\atlmfc\include\afxanimationhelper.h(411): error C2065: 'UI_E_VALUE_NOT_SET' : undeclared identifier
1>c:\program files (x86)\microsoft visual studio 11.0\vc\atlmfc\include\afxanimationhelper.h(441): error C2065: 'UI_E_VALUE_NOT_SET' : undeclared identifier
1>c:\program files\microsoft sdks\windows\v6.0a\include\dxgitype.h(85): error C2011: 'DXGI_FORMAT' : 'enum' type redefinition
1>          c:\program files (x86)\windows kits\8.0\include\um\dxgiformat.h(11) : see declaration of 'DXGI_FORMAT'
1>c:\program files (x86)\windows kits\8.0\include\um\d2d1.h(309): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int
1>c:\program files (x86)\windows kits\8.0\include\um\d2d1.h(707): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int
1>c:\program files (x86)\windows kits\8.0\include\um\d2d1.h(853): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int
1>c:\program files (x86)\windows kits\8.0\include\um\d2d1.h(923): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int
1>c:\program files (x86)\windows kits\8.0\include\um\d2d1.h(1007): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int
1>c:\program files (x86)\windows kits\8.0\include\um\d2d1.h(1036): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int
1>c:\program files (x86)\windows kits\8.0\include\um\d2d1.h(1092): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int
1>c:\program files (x86)\microsoft visual studio 11.0\vc\atlmfc\include\afxwin.h(5584): error C2143: syntax error : missing ';' before '*'
1>c:\program files (x86)\microsoft visual studio 11.0\vc\atlmfc\include\afxwin.h(5584): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int
1>c:\program files (x86)\microsoft visual studio 11.0\vc\atlmfc\include\afxwin.h(5584): warning C4183: 'GetITaskbarList3': missing return type; assumed to be a member function returning 'int'
1>c:\program files (x86)\microsoft visual studio 11.0\vc\atlmfc\include\afxglobals.h(317): error C2143: syntax error : missing ';' before '*'
1>c:\program files (x86)\microsoft visual studio 11.0\vc\atlmfc\include\afxglobals.h(317): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int
1>c:\program files (x86)\microsoft visual studio 11.0\vc\atlmfc\include\afxglobals.h(317): warning C4183: 'GetITaskbarList3': missing return type; assumed to be a member function returning 'int'
========== Build: 0 succeeded, 1 failed, 0 up-to-date, 0 skipped ========== 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-09-26T11:24:52.647

我也有这个问题。安装了 vs2012 以便能够编译使用 vs2012 + XP 工具集的解决方案。在我为 VS2012安装**更新 4**之前，我得到了错误。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-02T17:13:03.630

您是否对生成的项目进行了任何更改？此外，您发布的错误列表无法阅读。换行符在哪里？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-17T08:01:26.527

问题是由于我在我的机器上安装了不同的版本，所以 sdk 路径搞砸了，所以我格式化了我的电脑并安装了所有版本并且工作正常。

# javascript - 加载时不存在哈希时的页面焦点

> ID：14117315
> 
> 赞同：0
> 
> 时间：2013-01-02T05:36:19.913
> 
> 标签：javascript, html, hash, onload

带有哈希的链接到我的页面，

```
http://www.mydomain.com/somewhere/page.html#somehash 
```

`somehash`由于上传的 .id 文件中不存在ID，因此无法正确对齐`page.html`。ID 由`onload`脚本中创建并通过 DOM 添加。`onload`在该部分脚本完成之前，该 ID 不存在于页面上。

使用不同的散列在页面内移动可以正常工作，因为所有 ID 都已经到位。

如何指示浏览器在`onload`脚本末尾重新对齐（与重新加载相比）？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T06:09:58.850

添加元素后试试这个

```
 var hash = location.hash;
    if (hash && hash.substr(1).length) {
        var hashLink = document.getElementsByName(hash.substr(1))[0];
        if (typeof(hashLink) != 'undefined' && hashLink.offsetTop != 'undefined') {
            window.scrollTo(0, hashLink.offsetTop);
        }

    } 
```

演示：http: [//jsfiddle.net/UJ5DX/2/](http://jsfiddle.net/UJ5DX/2/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-02T05:39:35.097

您可以使用此功能将页面滚动到相应的哈希。

```
function scrollToHash(hash) {
    var allLinks = document.getElementsByTagName('a');

    for (i=0;i<allLinks.length;i++) {
        var lnk = allLinks[i];
        if (lnk.name == hash) {
            console.log("dd");
            i = allLinks.length;
            var desty = lnk.offsetTop;
            var thisNode = lnk;
            while (thisNode.offsetParent && (thisNode.offsetParent != document.body)) {
                thisNode = thisNode.offsetParent;
                desty += thisNode.offsetTop;
            }

            window.scrollTo(0,desty)

            break;
        }
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-02T05:49:41.150

```
function loadingstuff(){
    //stuff
    location.href += "#somehash";
}

window.onload = loadingstuff; 
```

这将集中在新添加的元素上。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-02T10:17:52.353

在结束时`onload`

```
var hash = window.location.hash;
window.location.hash = '';
window.location.hash = hash; 
```

这似乎工作正常

# c# - 无法从属性将 SelectedValue 绑定到 xaml 中 WPF 的组合框

> ID：14117316
> 
> 赞同：0
> 
> 时间：2013-01-02T05:36:53.323
> 
> 标签：c#, wpf, binding

我不理解我遇到的绑定原则错误，所以我很好奇：“TwoWay 或 OneWayToSource 绑定无法对“Demo.ViewModel.MainWindowViewModel”类型的只读属性“CurrentUser”起作用。我的 xaml 绑定正确，除了为组合框选择了默认值“SelectedValue”。现在，如果我使用 'SelectedValue = "1"' 而不是使用代码手动执行此属性，则该属性会很好。最终目标是我想从数据库中生成人员列表及其身份种子，这很好用。但我也想使用 Windows 登录然后为用户设置一个自动默认值。如果该属性可以工作，这将有效，但我猜我需要了解更多关于绑定规则的信息。有点像 WPF 绑定仅适用于某些类型和规则。

XAML：

```
<ComboBox Height="30" Width="170" Margin="10" x:Name="combopersons" 
                    FontSize="20"
                    ItemsSource="{Binding Path=People}"
                    DisplayMemberPath="FirstName"
                    SelectedValuePath="PersonId" 
                    SelectedValue="{Binding Path=CurrentUser}" /> 
```

viewmodel 代码的部分 C# 代码：

```
ReadOnlyCollection<Person> _people;
string _curuser;

public string CurrentUser 
        { 
            get
            {
                if (_curuser == null)
                {
                    _curuser = "1";
                }
                return _curuser;
            } 

        }

public ReadOnlyCollection<Person> People 
        {
            get
            {
                if(_people == null)
                {
                    List<Person> persns = this.GetPeople();
                    _people = new ReadOnlyCollection<Person>(persns);
                }
                return _people;
            }
        }

        List<Person> GetPeople()
        {
            ExpensesEntities ee = new ExpensesEntities();
            return ee.tePersons.Select(x => new Person
                                         {
                                             PersonId = x.PersonID,
                                             FirstName = x.FirstName
                                         }).ToList();
        } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-02T12:10:37.097

所选值是[双向绑定](http://msdn.microsoft.com/en-us/library/system.windows.data.bindingmode.aspx)，这意味着**读取**绑定的属性以更改所选值，但如果由于用户使用组合框而更改了选择，则将属性**设置**为该值。

所以有两种解决方案：

*   以一种方式进行绑定：`SelectedValue="{Binding Path=CurrentUser, Mode=OneWay}"`
*   在只读属性上创建一个setter，并妥善处理用户的值变化。

正确的选择取决于您的应用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-02T05:55:14.683

也许您忘记了在 CurrentUser 属性中定义 set 方法？其他的 - 你的类应该实现 IPropertyNotify 接口，但这不是错误的原因。

# kivy - TextInput中的kivy ScrollView实现

> ID：14117317
> 
> 赞同：7
> 
> 时间：2013-01-02T05:36:54.997
> 
> 标签：kivy

我有一个函数（如下所示），我使用弹出窗口和 TextInput 来显示一些文本，并且在大多数情况下，文本内容大于弹出窗口，因此需要滚动。如果没有 ScrollView，我需要依靠键盘箭头键进行滚动，我尝试实现 ScrollView 以便可以使用鼠标滚轮滚动。但问题是它似乎不起作用，关于为什么会这样的任何想法？

```
def dispPopup(display_text):                                                                     
    root = ScrollView(size_hint=(0.8, 0.5))
    root.add_widget(TextInput(text= display_text, , size_hint=(0.8, 0.5)))
    popup = Popup(title='Search Result',
            content= root, size_hint=(0.8, 1), pos_hint={'right': 1}) 
    popup.open() 
```

谢谢

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-01-04T02:33:50.820

ScrollView 只会在有东西滚动时才会滚动。

您正在向 ScrollView 添加一个 Textinput，但将 Textinput 的 size_hint 设置为 0.8、0.5（它的父级即 ScrollView 的 80% 宽度和 50% 高度）。所以没有什么可以滚动的。

要垂直滚动，您应该将 TextInput 的宽度设置为其父 ScrollView 的宽度，高度应设置为较大的一个，即 ScrollView 的高度或行数 * line_height。

千伏::

```
ScrollView:
    id: scrlv
    TextInput:
        text: disp_text
        size_hint: 1, None
        height: max( (len(self._lines)+1) * self.line_height, scrlv.height) 
```

TextInput 将根据其中的行数或滚动视图高度或更改`line_height`.

更新 ：：

从 1.8.0 开始，您可以简单地执行 ::

```
height: max(self.minimum_height, scrlv.height) 
```

# php - Pyrocms 控制面板无法访问

> ID：14117319
> 
> 赞同：0
> 
> 时间：2013-01-02T05:37:12.377
> 
> 标签：php, pyrocms

我已经在 FileZilla 上上传了我的 pyrocms 站点信息，并且我的数据库已上传到 CPanel。一切正常，但是当我打开 pyrocms 的 CP（控制面板）时，我收到了以下安全消息：

> 不允许直接脚本访问

请任何人帮助我摆脱这个问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T20:59:22.663

如果您尝试访问 /controllers/admin.php 或类似内容，则会加载该消息。那是你在做什么吗？因为那会很愚蠢。

去`http://example.com/installer`安装它，然后点击“控制面板”去安装它`http://example.com/admin`。

# iphone - 无法从地图视图中删除所有注释

> ID：14117320
> 
> 赞同：1
> 
> 时间：2013-01-02T05:37:12.743
> 
> 标签：iphone, ios, xcode, annotations, mkmapview

从 MKMapView 中删除注释时出现问题。我已经搜索过相同的答案并找到了很多答案，但找不到令人满意的答案。以下是我的代码摘要：

我已将我的自定义类创建为 MyMapViewPoints 并创建了一个函数

```
- initWithZTitle:(NSString *)title andCoordinate:(CLLocationCoordinate2D)location 
```

每当我想添加注释时，我只需创建一个 MyMapViewPoints 对象并

```
[mapView addAnnotation:newAnnotation]; 
```

当我想删除所有地图视图点（注释）时，我执行以下代码：

```
for (int i =0; i < [mapView.annotations count]; i++) 
{ 
    if ([[mapView.annotations objectAtIndex:i] isKindOfClass:[MyMapViewPoints class]]) 
    {    
        MyMapViewPoints *obj = (MyMapViewPoints *)[mapView.annotations objectAtIndex:i];
        if(obj.type != 1)
            [mapView removeAnnotation:[mapView.annotations objectAtIndex:i]];
    } 
} 
```

但是一些注释点仍然在地图上。如果我添加了六个点并尝试使用上述代码删除所有点，则保留 2 个地图视图点（注释）。有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T06:59:00.820

将您的数据源数组添加到以下行并删除所有注释

```
[yourMapview removeAnnotations:datasourceArray]; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-02T05:40:10.207

试试这个代码......

```
NSArray *existingpoints = mapView.annotations;
if ([existingpoints count] > 0)
    [mapView removeAnnotations:existingpoints]; 
```

**更新：**

也试试这个代码......

```
for (int i =0; i < [mapView.annotations count]; i++) { 
    if ([[mapView.annotations objectAtIndex:i] isKindOfClass:[MyMapViewPoints class]]) {                      
         [mapView removeAnnotation:[mapView.annotations objectAtIndex:i]]; 
       } 
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-02T08:30:29.543

您正在修改一个数组，同时还尝试遍历它。在该循环的第一次迭代期间，`i=0`如果它与类匹配，则将其从注释中删除。如果您删除索引 0 处的项目，它们都会向上移动 1，因此索引 1 处的项目现在位于索引 0。但是您也增加`i`了 1，并且在下一个循环期间您查看索引 1，完全错过了现在已移动到索引 0 的项目。

```
index 0 1 2 3
item  A B C D 
```

检查索引 0，删除索引 0 处的项目。

```
index 0 1 2
item  B C D 
```

现在检查 1 处的索引，*您已经跳过 B*。

您应该尝试这些解决方案 [How to delete all Annotations on a MKMapView](https://stackoverflow.com/questions/3027392/how-to-delete-all-annotations-on-a-mkmapview)

此外，[yourMapView annotations] 不承诺以任何特定顺序返回它们，因此每次调用它时索引都可能不同。如果您想通过注释进行任何循环，最好将其保存为 NSArray* 并从那时起引用该副本。

# iphone - 在 iPhone 中进行数据库插入时更新进度条

> ID：14117331
> 
> 赞同：0
> 
> 时间：2013-01-02T05:38:35.883
> 
> 标签：iphone, objective-c, ios

嗨，我需要在 sqlite 中进行数据库插入时更新我的​​进度条进度，因为它需要 5 分钟。

但是当数据库插入进行时 ui 会挂起，我无法再进行任何操作。我使用此方法更新进度条

```
-(void)setProgress:(float)progress
{
    dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_HIGH,
                                             (unsigned long)NULL), ^(void) {
        [progressview setProgress:progress animated:YES];
    });
} 
```

所以请建议我在数据库插入进行时更新进度条的方法

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-02T06:02:39.713

UI 挂起，因为您可能正在主线程中进行数据库插入。

所以改变数据库插入方法调用，如：

```
 dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT,0), ^{
        //call the database insertion method here
    }); 
```

如果您要从该方法更新进度条，则将其称为：

```
dispatch_sync(dispatch_get_main_queue(), ^{
    [progressview setProgress:progress animated:YES];
}); 
```

永远不要从其他线程更新 UI 元素，只从主线程更新它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-02T06:44:25.253

请阅读我关于使用后台托管对象上下文的文章：http: [//www.cocoanetics.com/2012/07/multi-context-coredata/](http://www.cocoanetics.com/2012/07/multi-context-coredata/)

您可以从后台队列发送有关进度的通知，然后在主线程上 dispatch_async 更新进度条。

# algorithm - 查找最后一天、最后一小时或最后一分钟的前 k 个访问 URL？

> ID：14117332
> 
> 赞同：6
> 
> 时间：2013-01-02T05:38:36.630
> 
> 标签：algorithm, data-structures, hash, binary-heap, streaming-algorithm

给定的原始问题是包含 5GB URL 的文件，该文件包含最后一天访问的 URL，找到前 k 个频繁访问的 URL。该问题可以通过使用哈希映射来计算不同 URL 的出现次数并在最小堆的帮助下找到前 k 个来解决，花费 O(n log k) 时间。

现在我在想，如果输入的是无限的在线数据流（而不是静态文件），那我怎么知道最后一天的前k个URL呢？

或者我可以对系统进行任何改进，使我能够动态获取最后一分钟、最后一天和最后几个小时的前 k 个 URL？

任何提示将不胜感激！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T05:44:57.530

如果您愿意接受可能包含一些错误条目的概率答案，那么您绝对应该查看**[count-min 草图](https://sites.google.com/site/countminsketch/)**数据结构。它专门设计用于使用尽可能少的内存来估计流中的频繁元素，并且大多数实现都支持对流中的前 k 个元素进行非常节省时间和空间的近似。此外，该结构可让您调整空间使用情况，这使其成为此类情况的理想选择。IIRC Google 使用它来确定他们最频繁的搜索查询。

[该数据结构有多种](https://sites.google.com/site/countminsketch/code)在线实现。

希望这可以帮助！

# php - PHP 文件上传。var_dump 返回空字符串

> ID：14117334
> 
> 赞同：0
> 
> 时间：2013-01-02T05:38:44.560
> 
> 标签：php, file, file-upload, upload, var-dump

我正在尝试使用 php 创建文件上传。但`$_FILES['photo']['name']`什么也不返回。然后我google了很多，找出`var_dump`方法。当我运行它时。它返回以下数组。

```
array (size=5)
  'name' => string '' (length=0)
  'type' => string '' (length=0)
  'tmp_name' => string '' (length=0)
  'error' => int 4
  'size' => int 0 
```

名称、类型和 tmp_name 为空。

这是完整的代码。(PHP)

```
if ($_SERVER['REQUEST_METHOD'] === 'POST') {

     var_dump($_FILES['photo']);
} 
```

HTML

```
<form class="bs-docs-example" action="upload.php" method="post" enctype="multipart/form-data">
        <fieldset>
            <legend>File Upload</legend>

            <label><input type="file" name="photo" size="25" /></label>
            <label><input type="file" name="photo" size="25" /></label>
            <label><input type="file" name="photo" size="25" /></label>

            <label><button type="submit" name="add_video" value="Submit" class="btn">Submit</button></label>

        </fieldset>
</form> 
```

有什么建议么。提前致谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-02T05:44:08.087

当您有多个具有相同 的表单元素时`name`，它们将相互覆盖。PHP 只尊重具有该名称的最后一个输入，这可能是空白的，并忽略您之前填写的那个。

您可以查看[有关多个文件上传的 PHP 手册](http://php.net/manual/en/features.file-upload.multiple.php)，但结果是，`[]`如果您希望 PHP “看到”所有文件并将它们组织成一个数组，则需要在输入名称的末尾添加。否则，只有一个输入，或者只为每个输入选择不同的名称。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-02T05:40:58.397

```
 <label><input type="file" name="photo" size="25" /></label>
        <label><input type="file" name="photo" size="25" /></label>
        <label><input type="file" name="photo" size="25" /></label> 
```

三个具有相同名称的元素。这大概就是为什么

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-02T05:43:11.003

尝试

```
 var_dump($_POST); 
```

看看你是否有任何返回的东西，但是有 3 个同名的元素是一个问题。

```
<label><input type="file" name="photo1" size="25" /></label>
<label><input type="file" name="photo2" size="25" /></label>
<label><input type="file" name="photo3" size="25" /></label> 
```

# android - 在 android 中显示来自 sqlite 的新更新项目的问题

> ID：14117335
> 
> 赞同：2
> 
> 时间：2013-01-02T05:38:58.253
> 
> 标签：android, sqlite

我在gridview中显示来自sqlite的项目..第一次显示项目很好..将新项目更新到sqlite后，新项目无法显示..

我的错误日志显示为

```
01-02 10:57:45.497: E/AndroidRuntime(1274): java.lang.IndexOutOfBoundsException: Invalid index 7, size is 7
01-02 10:57:45.497: E/AndroidRuntime(1274):     at java.util.ArrayList.throwIndexOutOfBoundsException(ArrayList.java:251)
01-02 10:57:45.497: E/AndroidRuntime(1274):     at java.util.ArrayList.get(ArrayList.java:304)
01-02 10:57:45.497: E/AndroidRuntime(1274):     at com.books.bcukbook.Bookicon$ItemsAdapter.getView(Bookicon.java:262)
01-02 10:57:45.497: E/AndroidRuntime(1274):     at android.widget.AbsListView.obtainView(AbsListView.java:2033)
01-02 10:57:45.497: E/AndroidRuntime(1274):     at android.widget.GridView.makeAndAddView(GridView.java:1323)
01-02 10:57:45.497: E/AndroidRuntime(1274):     at android.widget.GridView.makeRow(GridView.java:328)
01-02 10:57:45.497: E/AndroidRuntime(1274):     at  android.widget.GridView.fillDown(GridView.java:281)
01-02 10:57:45.497: E/AndroidRuntime(1274):     at android.widget.GridView.fillFromTop(GridView.java:403)
01-02 10:57:45.497: E/AndroidRuntime(1274):     at android.widget.GridView.layoutChildren(GridView.java:1215)
01-02 10:57:45.497: E/AndroidRuntime(1274):     at android.widget.AbsListView.onLayout(AbsListView.java:1863)
01-02 10:57:45.497: E/AndroidRuntime(1274):     at android.view.View.layout(View.java:11278)
01-02 10:57:45.497: E/AndroidRuntime(1274):     at android.view.ViewGroup.layout(ViewGroup.java:4224)
01-02 10:57:45.497: E/AndroidRuntime(1274):     at android.widget.RelativeLayout.onLayout(RelativeLayout.java:925)
01-02 10:57:45.497: E/AndroidRuntime(1274):     at android.view.View.layout(View.java:11278)
01-02 10:57:45.497: E/AndroidRuntime(1274):     at android.view.ViewGroup.layout(ViewGroup.java:4224)
01-02 10:57:45.497: E/AndroidRuntime(1274):     at android.widget.FrameLayout.onLayout(FrameLayout.java:431)
01-02 10:57:45.497: E/AndroidRuntime(1274):     at android.view.View.layout(View.java:11278)
01-02 10:57:45.497: E/AndroidRuntime(1274):     at android.view.ViewGroup.layout(ViewGroup.java:4224)
01-02 10:57:45.497: E/AndroidRuntime(1274):     at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1628)
01-02 10:57:45.497: E/AndroidRuntime(1274):     at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1486)
01-02 10:57:45.497: E/AndroidRuntime(1274):     at android.widget.LinearLayout.onLayout(LinearLayout.java:1399)
01-02 10:57:45.497: E/AndroidRuntime(1274):     at android.view.View.layout(View.java:11278)
01-02 10:57:45.497: E/AndroidRuntime(1274):     at android.view.ViewGroup.layout(ViewGroup.java:4224)
01-02 10:57:45.497: E/AndroidRuntime(1274):     at android.widget.FrameLayout.onLayout(FrameLayout.java:431)
01-02 10:57:45.497: E/AndroidRuntime(1274):     at android.view.View.layout(View.java:11278)
01-02 10:57:45.497: E/AndroidRuntime(1274):     at android.view.ViewGroup.layout(ViewGroup.java:4224)
01-02 10:57:45.497: E/AndroidRuntime(1274):     at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:1489)
01-02 10:57:45.497: E/AndroidRuntime(1274):     at android.view.ViewRootImpl.handleMessage(ViewRootImpl.java:2442)
01-02 10:57:45.497: E/AndroidRuntime(1274):     at android.os.Handler.dispatchMessage(Handler.java:99)
01-02 10:57:45.497: E/AndroidRuntime(1274):     at android.os.Looper.loop(Looper.java:137)
01-02 10:57:45.497: E/AndroidRuntime(1274):     at android.app.ActivityThread.main(ActivityThread.java:4424)
01-02 10:57:45.497: E/AndroidRuntime(1274):     at java.lang.reflect.Method.invokeNative(Native Method)
01-02 10:57:45.497: E/AndroidRuntime(1274):     at java.lang.reflect.Method.invoke(Method.java:511)
01-02 10:57:45.497: E/AndroidRuntime(1274):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
01-02 10:57:45.497: E/AndroidRuntime(1274):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)
 01-02 10:57:45.497: E/AndroidRuntime(1274):    at dalvik.system.NativeStart.main(Native Method) 
```

我的项目适配器类是

```
 private class ItemsAdapter extends BaseAdapter implements ListAdapter
    {
        String[] items;

        public ItemsAdapter(Context context,int textViewResourceId,String[] items) 
        {
            this.items = items;
        }
        public View getView( int POSITION, View convertView,ViewGroup parent)
        {
            TextView cap = null ;
            View view = convertView;
            ImageView img = null;
            if (view == null) 
            {
                LayoutInflater vi = (LayoutInflater) getSystemService(Context.LAYOUT_INFLATER_SERVICE);
                view = vi.inflate(R.layout.item, null);
            }
            img = (ImageView) view.findViewById(R.id.image);
            Log.i("iiiiii","iiiii");
            cap = (TextView) view.findViewById(R.id.caption);
            System.err.println("Position of the book is "+mapNames.get(POSITION));
            bookTitle=mapNames.get(POSITION);
            System.err.println("title of the book is "+bookTitle);
            cap.setText(mapNames.get(POSITION));
            img.setImageBitmap(BitmapFactory.decodeByteArray(map.get(POSITION), 0, map.get(POSITION).length));
            return view;
        }
        public int getCount() 
        {
            return items.length;
        }
        public Object getItem(int position) 
        {
            return position;
        }
        public long getItemId(int position) 
        {
            return position;
        }
    } 
```

我正在跟踪这些值，并且我正在获取 sqlite 数据但无法显示它。我称这个项目适配器类用于在两种情况下显示，即显示和更新后。知道我哪里出错了吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T05:42:26.057

```
java.lang.IndexOutOfBoundsException: Invalid index 7, size is 7
    ...
    at com.books.bcukbook.Bookicon$ItemsAdapter.getView(Bookicon.java:262) 
```

您正在使用两个不同的索引。`getCount()`基于`items`：

```
public int getCount() 
{
    return items.length;
} 
```

但是在`getView()`你使用`mapNames.get(POSITION)`. 显然`mapNames`只有 7 个元素，而`items`有更多...

您应该只使用一个列表来为您的适配器供电。

# xcode - IntelliJ 代码完成，如 Xcode 和 Eclipse

> ID：14117341
> 
> 赞同：4
> 
> 时间：2013-01-02T05:39:31.243
> 
> 标签：xcode, eclipse, intellij-idea, intellisense

如何让 IntelliJ 中的代码完成类似于 Xcode/Eclipse？

这意味着，键入一个带参数的方法，并且当您从自动完成列表中选择该方法时：

```
intToString(int val); 
```

在 Eclipse 中，您将获得：

```
intToString( (val-placeholder) ); 
```

和 Xcode 中的类似。

但是，在 IntelliJ 中，您得到的只是：

```
intToString(); 
```

如何在 IntelliJ 中获取参数的占位符？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T15:43:10.493

IntelliJ IDEA 中没有这样的功能。AppCode 中已经实现了类似的功能，因此有可能在未来的版本中将其移植到 IntelliJ IDEA。

# sql-server - 在 Sql Select Query 中对参数应用条件

> ID：14117343
> 
> 赞同：0
> 
> 时间：2013-01-02T05:39:55.627
> 
> 标签：sql-server, tsql

我正在根据现有列计算`tables`列。但不知道该怎么做。

为了解释我的问题，假设我有一个表，其中有两列 A，B 都是 int。我现在正在做的是

```
Select A,B (A-B)as C from Table 
```

我要申请的检查是

> 如果 C 小于零，则应显示零。而不是负值。

sql中的方法是什么

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T05:43:20.963

试试这个，

```
 Select A,B ,case when(A-B)< 0 then 0 else (A-B) end as C from Table; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-02T05:43:52.117

```
Select A,B,
CASE WHEN (A-B) < 0 THEN 0
ELSE (A-B)
END as C 
from Table 
```

拉吉

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-02T05:45:18.587

你必须使用**[CASE (Transact-SQL)](http://msdn.microsoft.com/en-us/library/ms181765.aspx)**

这就是你想要的：

```
select A,B,
case when(A-B) < 0 then 0 else (A-B) end as c 
from Table 
```

## 演示：[SQL 小提琴](http://sqlfiddle.com/#!3/6b7e3/1/0)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-02T05:45:22.340

```
 try this

    select a,b,(a-b < 0 , 0 , a-b) as c from <table>
    // if then usage in mysql

    SELECT a,b,if(a-b < 0;0;a-b) as c FROM <table>
    // if then usage in sql

    // ie. if a-b is less than 0 then 0 else a-b 
```

# matlab - 如何在matlab中分析图像？

> ID：14117345
> 
> 赞同：-1
> 
> 时间：2013-01-02T05:39:59.853
> 
> 标签：matlab, image-processing

我陷入了一个基本问题。我需要使用 matlab 理解和分析图像。以下是我遵循的几个步骤： 1\. 了解图像属性（如图像类型（灰度/RGB）、颜色图、最大像素强度） 2\. 使用 imhist 研究图像直方图并检查特定特征 3\. 考虑感兴趣的区域用于进一步处理。4\. ? 5\. ? 6\. ?

但问题是我真的需要深入并尝试找出是否存在，假设像素强度的高斯/正态分布或存在的噪声类型，是否需要应用拉普拉斯滤波器等。

这是一个反复试验的过程吗？如果我采用基于目标的方法，例如检测视网膜图像中的视盘，我可能需要先进行文献调查，然后再尝试自己设计算法。但是我真的需要自己分析图像并对其进行一些思考。请帮助我了解图像分析的具体教程。（我只能通过谷歌搜索找到功能描述和示例代码）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T07:11:27.480

没有特定目标就很难分析图像，这主要是因为计算机直接处理低级细节：2D 矩阵中的像素值。另一方面，人类首先从高层次上看待事物：图像是汽车、婴儿或其他任何东西。

一个好的起点可能是分析图像的统计矩、均值、标准差、偏度和高阶[矩](http://geography.uoregon.edu/geogr/topics/moments.htm)。这在纹理分析中特别有用。此外，在本地计算这些属性可能会更好（即，不是获取整个图像的平均值和标准差，而是将其分解为 n × n 图像网格）在任何一种情况下，这都会减少处理的数据量和。或者，快速傅立叶变换将揭示图像中的任何类型的周期性行为。频谱中的最大值表明空间域具有某种周期性行为。如果您认为噪声可能是一个问题，则可以使用卷积滤波器（高斯均值、中值等，具体取决于噪声类型）。

大多数空间技术只有在您知道要寻找什么（或者您知道实际上有一些东西要寻找）时才有用，尤其是分割和形态学技术。

# jsf - 如何在 JSF 中检查 Tree Map 中的密钥

> ID：14117357
> 
> 赞同：0
> 
> 时间：2013-01-02T05:41:32.023
> 
> 标签：jsf

我希望这个问题很清楚，你可以帮助我。我是 JSF 的新手。

我在我的 Bean(ProdBean.java) 中创建了一个 Tree Map 以在 JSF 中显示菜单列表并选择 JSF中的菜单，`ShowList.xhtml`如下所示。

ProdBean.java

```
public Map<String, String> getOnlineMap (){
private static final Map<String, String> prodMap = new TreeMap<String, String>();
    if(prodMap == null || prodMap.isEmpty()){
         prodMap.put("PROD_MAP_1", "ISSUE_S1");
         prodMap.put("PROD_MAP_2", "ISSUE_S2");
         prodMap.put("PROD_MAP_3", "ISSUE_S3");
    }

    public Map<String, String>  getCategoryList() {
    selectItemList = getOnlineMap ();
    return selectItemList; 
    } 
```

显示列表.xhtml

```
<h:selectOneMenu id="enquiryType"  style="width:300px">
        <f:selectItem itemValue="" itemLabel="Select"/>
        <f:selectItems value="#{ProdBean.categoryList}"/>
</h:selectOneMenu> 
```

我想在选择菜单列表时通过检查 JSF 中的 ProdBean.categoryList 仅显示提示消息“PROD_MAP_1”的键，但我不知道如何通过从 JSF 中的 Tree Map 获取键和值来检查条件。如果任何人都可以帮助我，我非常感谢您的支持。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-02T09:00:11.763

只需检查一下 - 这就是您访问它的方式。

```
<h:selectOneMenu value="#{bean.integerProperty}">
  <f:selectItems value="#{bean.mapProperty.entrySet()}" var="entry" 
     itemValue="#{entry.key}" itemLabel="#{entry.value}" />
</h:selectOneMenu> 
```

# mysql - 在sp mysql中的while循环内插入select语句

> ID：14117362
> 
> 赞同：1
> 
> 时间：2013-01-02T05:41:48.430
> 
> 标签：mysql, loops, stored-procedures, while-loop

我有一个存储过程，我在 while 循环中插入了 select 语句。存储过程已成功创建，但是当我执行它时，它说 0 行受到影响。如果没有针对单个数据值的 while 循环，则 sp 将返回数据。但是当同一个查询在 while 循环中时，它返回 0 行受影响。

有什么问题

```
DELIMITER $$

CREATE PROCEDURE WhileLoopProc1234(INOUT indate DATE,INOUT outdate DATE)
BEGIN
   DECLARE x DATE;
   DECLARE y DATE;
   DECLARE z DATE;

   CREATE TABLE temp2( cardno VARCHAR(10),datevalue DATE );
   SET x = indate;
   SET y = outdate;

   WHILE x!=y DO
      INSERT INTO temp2( cardno,datevalue)
      select CARDNO,x from test_prefixmaster
      where CARDNO not in ( select CARDNO from test_prefixtransactions where    Date(S_DateTime)=x);

     SET x = x + 1;
   END WHILE;

   SELECT * from temp2;

   DROP TABLE temp2;

END$$
DELIMITER ; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-02T06:46:19.553

您确实需要避免在 SQL 中以 RBAR 方式做事。RBAR（发音为 REEBAR）代表 row by agonizing row。在一行一行地插入数据时，您可能会在以后遇到严重的性能问题。

我没有您的表结构，但我怀疑您可以将整个存储过程更改为以下内容，这样会更快、更高效。如果可以请为查询中涉及的表发布 CREATE TABLE 语句，我将能够确保此查询是正确的。据我了解，您正在尝试查找某个日期范围内 test_prefixmaster 中不存在的 CARDNO。

因此，您的整个存储过程可以如下所示：

```
DELIMITER $$

CREATE PROCEDURE WhileLoopProc1234(INOUT indate DATE,INOUT outdate DATE)
BEGIN

   SELECT tst_pfMaster.CARDNO
          ,tst_pfTran.S_DateTime
   FROM test_prefixmaster tst_pfMaster
   LEFT JOIN test_prefixtransactions  tst_pfTran
        ON tst_pfMaster.CARDNO = tst_pfTran.CARDNO
   WHERE (tst_pfMaster.CARDNO  IS NULL)
         AND (
               (DATE(S_DateTime)>=indate)
               AND (DATE(S_DateTime)<=outdate) 
             )

 END$$
 DELIMITER ; 
```

# android - FileNotFoundException: /mimetype/mnt/sdcard/file.csv (No such file or directory) in android

> ID：14117364
> 
> 赞同：0
> 
> 时间：2013-01-02T05:41:57.477
> 
> 标签：android, file

I am trying to read csv file which is located in SD card but when i select the file i get a File not found Exception.The below is my code.

```
Intent intent = new Intent();             //Browse the file
    intent.setType("file/csv");
    intent.setAction(Intent.ACTION_GET_CONTENT);
    startActivityForResult(Intent.createChooser(intent, "Select csv"),
            SELECT_CSV_Dialog);

 if (resultCode == RESULT_OK) {
 if (requestCode == 1) {
  data = result.getData();//data is the URI
 System.out.println("res "+data);
 if (data.getLastPathSegment().endsWith("csv") || data.getLastPathSegment().endsWith("CSV")) {       
     try {
         File f = new File(data.getPath());//this is where i get the file not found             
         FileInputStream  fis =new FileInputStream(f);   
            fis = this.openFileInput(data.toString());
            BufferedReader reader = new BufferedReader(
                    new InputStreamReader(fis));
                             String line;
            while ((line = reader.readLine()) != null) {
                String[] RowData = line.split(",");
                System.out.println("row  "+RowData.length);
                if(RowData.length==2){                      

        Toast.makeText(Importt.this, "Schema Supported", Toast.LENGTH_SHORT).show();
                    break;
                }else{
    Toast.makeText(Importt.this, "Schema not Supported", Toast.LENGTH_SHORT).show();
                }
            }} 
```

This is where i get the error "File f = new File(data.getPath());".

Any suggestions are highly appreciated.

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-02T05:56:19.453

Use the below code to read the data from csv file . it worked for me .

```
try
   {
    List<String> list = new ArrayList<String>();
    String line;

    String fileName = "/mnt/sdcard/test.csv";
    FileReader reader = new FileReader(fileName);
    BufferedReader bufrdr = new BufferedReader(reader);
    line = bufrdr.readLine();
    while (line != null) {
        list.add(line);
        line = bufrdr.readLine();
    }
    bufrdr.close();
    reader.close();

    String[] array = new String[list.size()];
    list.toArray(array);

    for (int i = 0; i < list.size(); i++) {
        System.out.println(" 22222222 0 0 " + list.get(i).toString() );
    }

 }
  catch (Exception e) {
    // TODO: handle exception
    e.printStackTrace();
} 
```

For SD-CARD Checking use the following lines :

```
static public boolean hasStorage(boolean requireWriteAccess) {
    //TODO: After fix the bug,  add "if (VERBOSE)" before logging errors.
    String state = Environment.getExternalStorageState();
    Log.v(TAG, "storage state is " + state);

    if (Environment.MEDIA_MOUNTED.equals(state)) {
        if (requireWriteAccess) {
            boolean writable = checkFsWritable();
            Log.v(TAG, "storage writable is " + writable);
            return writable;
        } else {
            return true;
        }
    } else if (!requireWriteAccess && Environment.MEDIA_MOUNTED_READ_ONLY.equals(state)) {
        return true;
    }
    return false;
} 
```

**EDIT 2** **use the below code to bring the file from sdcard.**

```
private static final int FILE_SELECT_CODE = 0;

    private void showFileChooser() {
        Intent intent = new Intent(Intent.ACTION_GET_CONTENT); 
        intent.setType("*/*"); 
        intent.addCategory(Intent.CATEGORY_OPENABLE);

        try {
            startActivityForResult(
                    Intent.createChooser(intent, "Select a File to Upload"),
                    FILE_SELECT_CODE);
        } catch (android.content.ActivityNotFoundException ex) {
            // Potentially direct the user to the Market with a Dialog
            Toast.makeText(this, "Please install a File Manager.", 
                    Toast.LENGTH_SHORT).show();
        }
    } 
```

You would then listen for the selected file's Uri in onActivityResult() like so:

```
@Override
protected void onActivityResult(int requestCode, int resultCode, Intent data) {
        switch (requestCode) {
            case FILE_SELECT_CODE:      
            if (resultCode == RESULT_OK) {  
                // Get the Uri of the selected file 
                Uri uri = data.getData();
                Log.d(TAG, "File Uri: " + uri.toString());
                // Get the path
                String path = FileUtils.getPath(this, uri);
                Log.d(TAG, "File Path: " + path);
                // Get the file instance
                // File file = new File(path);
                // Initiate the upload
            }           
            break;
        }
    super.onActivityResult(requestCode, resultCode, data);
    }

public static String getPath(Context context, Uri uri) throws URISyntaxException {
        if ("content".equalsIgnoreCase(uri.getScheme())) {
            String[] projection = { "_data" };
            Cursor cursor = null;

            try {
                cursor = context.getContentResolver().query(uri, projection, null, null, null);
                int column_index = cursor
                .getColumnIndexOrThrow("_data");
                if (cursor.moveToFirst()) {
                    return cursor.getString(column_index);
                }
            } catch (Exception e) {
                // Eat it
            }
        }

    else if ("file".equalsIgnoreCase(uri.getScheme())) {
        return uri.getPath();
    }

    return null;
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-02T06:04:48.243

Try this, first set your file path in sdcard, it will solve your problem.

```
File filePath = new File(Environment.getExternalStorageDirectory()+ "/filename.csv");

Intent intent = new Intent();
intent.setAction(android.content.Intent.ACTION_VIEW);
MimeTypeMap mime = MimeTypeMap.getSingleton();
String ext = filePath.getName().substring(filePath.getName().indexOf(".") + 1);
mimtype = mime.getMimeTypeFromExtension(ext.toLowerCase()); //here mimtype is your after (.) file extenstion
intent.setDataAndType(Uri.fromFile(filePath), mimtype);
startActivity(intent); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-02T06:21:54.853

use below code...this might help you..

```
if(filename.equalsIgnoreCase("your_csv_file_name"))
                {
                    reader = new CSVReader(new FileReader(Environment.getExternalStorageDirectory()+"/directory_name/"+your_csv_filename+".csv"));
                    try 
                    {
                        List<String[]> myEntries = reader.readAll();

                        Log.d("size","size of LIST======>"+myEntries.size());
                        if(myEntries.size()>0)
                        {
                            for(int i=0;i<myEntries.size();i++)
                            {
                                String arr[]=myEntries.get(i);
                                list11=new ArrayList<String>();
                                for(int k=0;k<arr.length;k++)
                                {
                                    list11.add(arr[k]);

                                    //Log.d("log is", "data size is==>"+arr[k]);
                                }

                            }
                        }
                    }
                    catch (Exception e) 
                    {
                        e.printStackTrace();
                    }
                } 
```

**Note:-here i am using opencsv.jar for read and write csv..so, be make sure you have this jar in your lib for read all csv file from sd card..**

# spring - 无法在 WebSphere 上运行基于 Spring 3 的 Web 应用程序？

> ID：14117368
> 
> 赞同：-1
> 
> 时间：2013-01-02T05:42:32.937
> 
> 标签：spring, websphere, introspection, spring-3

我有一个基于 Spring 3.1.1 的 Web 应用程序。它在 Apache Tomcat 7.0 上运行良好。但是，当我在 IBM WebSphere Application Server V7.0 上运行它时，我收到一个错误：

```
00000020 HiddenInputTa E org.springframework.web.servlet.tags.RequestContextAwareTag doStartTag Failed to obtain BeanInfo for class [com.bean.CustomBean]; nested exception is java.beans.IntrospectionException: Indexed read method is not compatible with indexed write method
    org.springframework.beans.FatalBeanException: Failed to obtain BeanInfo for class [com.bean.CustomBean]; nested exception is java.beans.IntrospectionException: Indexed read method is not compatible with indexed write method
    at org.springframework.beans.CachedIntrospectionResults.<init>(CachedIntrospectionResults.java:262)
    at org.springframework.beans.CachedIntrospectionResults.forClass(CachedIntrospectionResults.java:149)
    ... 
```

我还检查了问题 bean 以查看是否缺少 getter 或设置，但所有属性都有其对应的 getter 和 setter。问题 bean 扩展了另一个实现 Cloneable 的自定义 bean。

可能是什么问题呢？我如何解决它？如何运行 Spring 3.1.1。基于 WebSphere 的 Web 应用程序？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-02T14:20:53.967

基于异常，我怀疑以下情况之一：

*   缺少 getter 或 setter
*   getter 或 setter 拼写不正确，即不被视为字段的 getter/setter
*   getter 返回类型不等于 setter 参数类型

# flash - 如何为电视制作交互式 dvd

> ID：14117369
> 
> 赞同：0
> 
> 时间：2013-01-02T05:42:35.543
> 
> 标签：flash, dvd, television

我已经使用 Flash 创建了一个应用程序。我想用所有按钮功能制作这个应用程序的 dvd 并在电视上播放。如何提供导航功能？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-04T12:08:45.257

尝试使用**Director**，它是一个用于创建交互式 DVD 的 Adob​​e 程序。从未尝试过，但它在网上有很多教程和在线课程。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-02T05:45:57.840

使用像 Nero 这样的 DVD 创作工具（还有其他几个，只需在 google 上搜索即可）

# jquery - Jquery 没有在 jsFiddle 中加载

> ID：14117373
> 
> 赞同：1
> 
> 时间：2013-01-02T05:43:10.987
> 
> 标签：jquery, jquery-ui, angularjs, jsfiddle

我正在尝试将 jQuery-ui 的拖放与 angular js 一起用于手风琴列表......但是我的拖放在 jsFiddle 中不起作用（在本地服务器中工作），因为萤火虫指出： ReferenceError: jQuery is not defined 。

[这](http://jsfiddle.net/TTrdm/59/)是jsFiddle

```
 <!DOCTYPE html>
<html ng-app="App">

<title>Task WhiteBoard</title>
<head>
<meta charset="utf-8" />     
<meta name="description" content="AngularJS + jQuery UI Drag-n-Drop" />
<title>Angular Drag and Drop</title>
</head>

<body ng-controller="dndCtrl" ng-cloak>
<h3>Task Whiteboard</h3>

<div class='list1' droppable value='1' >    

<div class='header'>
    Free Tasks
</div>

<div class="below-header">

</div>

<div  ng-repeat="item in list1" data-index="{{$index}}" draggable>
    <div class="zippy" zippy-title="{{item.name}}">
            {{item.content.newLabel}}    <br/>
            {{item.content.desc}}    <br/>
            {{item.content.effort}}    <br/>
            {{item.content.owner}}    <br/>
            {{item.content.issues}}    <br/>    
            {{item.content.comments}}    <br/>
            {{item.content.dependency}}    <br/>
    </div>    
</div>    
</div>    

<div class='list2' droppable value='2'>    

<div class='header'>
    Claimed Tasks
</div>

<div class="below-header">

</div>

<div ng-repeat="item in list2" data-index="{{$index}}" draggable>
    <div class="zippy" zippy-title="{{item.name}}">
            {{item.content.newLabel}}    <br/>
            {{item.content.desc}}    <br/>
            {{item.content.effort}}    <br/>
            {{item.content.owner}}    <br/>
            {{item.content.issues}}    <br/>    
            {{item.content.comments}}    <br/>
            {{item.content.dependency}}    <br/>
    </div>    
</div>    
</div>

<div class='list3' droppable value='3'>

<div class='header'>
    Completed Tasks
</div>

<div class="below-header">

</div>

<div ng-repeat="item in list3" data-index="{{$index}}" draggable>
        <div class="zippy" zippy-title="{{item.name}}">
            {{item.content.newLabel}}    <br/>
            {{item.content.desc}}    <br/>
            {{item.content.effort}}    <br/>
            {{item.content.owner}}    <br/>
            {{item.content.issues}}    <br/>    
            {{item.content.comments}}    <br/>
            {{item.content.dependency}}    <br/>
        </div>    
</div>
</div>    

<div style="clear:both;">
    list 1 size : {{list1.length}}    <br/>
    list 2 size : {{list2.length}}    <br/>
    list 3 size : {{list3.length}}    <br/>
</div>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T05:52:08.307

看一下左侧面板`JSFiddle`，您已经选择了`Pure JS`，如果您想使用 Jquery UI，请选择并选中下方`jquery version 1.7.2`的复选框。`jquery UI 1.8.18`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-02T05:48:08.327

您的托管资源出现故障。你需要先用jquery重新排序，然后用jquery ui等。这样就可以解决jQuery未定义的JS错误。

# wpf - 在 MVVM 中处理 MouseLeftButtonDown

> ID：14117377
> 
> 赞同：4
> 
> 时间：2013-01-02T05:43:24.777
> 
> 标签：wpf, xaml, mvvm, mouseevent, controltemplate

我的 XAML 是：

```
<Setter Property="Template">
    <Setter.Value>
        <ControlTemplate>
            <Image Source="X.png" HorizontalAlignment="Left"
                                 Width="20" Height="20" 
                                 MouseLeftButtonDown="Image_MouseLeftButtonDown"/>
        </ControlTemplate>
    </Setter.Value>
</Setter> 
```

现在我正在关注 MVVM。我需要更改代码以使其与 ViewModel 一起使用。如何`MouseLeftButtonDown`使用 ViewModel 处理事件？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-02T08:32:21.053

使用 MVVM 时：视图中的触发器（例如 MouseLeftDown、MouseHover 等）会触发 ViewModel 中的**[命令](http://www.codeproject.com/Articles/274982/Commands-in-MVVM)**。
这些命令在 ViewModel 中执行一些操作，如果此命令更改了视图中绑定的任何数据，您可以在视图中看到结果。

因此，不要问*“我如何使用视图模型处理 MouseLeftButtonDown 事件”，*而是决定你想在 ViewModel 中做什么（例如从列表框中删除项目、导航到另一个视图、刷新数据等...... ) 并为它创建一个特定的命令。

MouseLeftDown 可以*触发*该命令......但究竟做了什么不应该是视图的一部分......

[这是一个](https://stackoverflow.com/a/14025625/1379664)使用 MVVM 并且仅使用 XAML 捕获鼠标事件并运行命令的示例。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-02T08:31:56.093

在我看来，鼠标左键不应该由“MVVM”处理（由绑定处理）。它与模型有关，因为它与 UI 体验有关。

为此，我会在我的代码隐藏中附加到“老式”MouseRightButtonDown 事件，然后在视图中触发命令或方​​法。因为模型不需要知道命令是如何执行的。按钮点击、鼠标手势和菜单与 UI 相关。

至少在我看来 ：-）

# c# - 世界货币查找表 - 使用 ISO 3166-1 alpha-2 代码？

> ID：14117378
> 
> 赞同：2
> 
> 时间：2013-01-02T05:43:44.043
> 
> 标签：c#, php, database, geolocation, lookup-tables

在哪里可以获得世界货币数据库？

它应该包含国家以及该货币中使用的货币。

即“国家代码，货币代码”

**例子**

```
US, USD
UK, GBP
AU, AUD
NZ, NZD
HK, HKD 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-02T05:51:26.073

可在此处找到 ISO 国家代码及其 2 位和 3 位的完整列表： [http ://www.davros.org/misc/iso3166.txt](http://www.davros.org/misc/iso3166.txt)

然而，这可能对你更有用：http: [//www.commondatahub.com/live/geography/currency/country_currency_codes](http://www.commondatahub.com/live/geography/currency/country_currency_codes)

ISO 3166 提供国家代码： [http ://www.iso.org/iso/home/standards/country_codes/](http://www.iso.org/iso/home/standards/country_codes/)

ISO 4217 提供货币代码： [http ://www.iso.org/iso/currency_codes](http://www.iso.org/iso/currency_codes)

这里有一个数据库：[http](http://www.mega-db.com.ar/Table/world_currencies) ://www.mega-db.com.ar/Table/world_currencies 但它包含 ISO 3 位国家代码。您可以将其与 ISO 3166（2 位）代码一起使用，以生成所需的数据集。

# javascript - 多个“document.getElementById”脚本不起作用

> ID：14117379
> 
> 赞同：0
> 
> 时间：2013-01-02T05:43:43.737
> 
> 标签：javascript, getelementbyid, setattribute

多个 ID 在我使用 HTML #1 时工作正常，但在我使用 HTML #2 时不起作用。Chrome 网络控制台显示

`>> "Uncaught TypeError: Cannot call method 'setAttribute' of null ".`

在 html#2 我删除了

`<div id="0001"><a href="#"">LOGIN</a></div>`，并且浏览器不再工作。

**HTML #1**

```
<html>
<head>
<title>Index</title>
</head>
<body>

<div id="0001"><a href="#"">LOGIN</a></div>
<div id="0002"><a href="#"">GO</a></div>
<div id="0003"><a href="#"">VISIT</a></div>
<div id="0004"><a href="#"">EXPLORE</a></div>
<div id="0005"><a href="#"">FUNNY PICS</a></div>
<script>
var element = document.getElementById("0001");
element.setAttribute('onclick', 'window.location.href=\'http://site.com/1.html\'');

var element = document.getElementById("0002");
element.setAttribute('onclick', 'window.location.href=\'http://site.com/2.html\'');

var element = document.getElementById("0003");
element.setAttribute('onclick', 'window.location.href=\'http://site.com/3.html\'');

var element = document.getElementById("0004");
element.setAttribute('onclick', 'window.location.href=\'http://site.com/4.html\'');

var element = document.getElementById("0005");
element.setAttribute('onclick', 'window.location.href=\'http://site.com/5.html\'');
</script>

</body>
</html> 
```

**HTML #2**

```
<html>
<head>
<title>Index</title>
</head>
<body>

<div id="0002"><a href="#"">GO</a></div>
<div id="0003"><a href="#"">VISIT</a></div>
<div id="0004"><a href="#"">EXPLORE</a></div>
<div id="0005"><a href="#"">FUNNY PICS</a></div>
<script>
var element = document.getElementById("0001");
element.setAttribute('onclick', 'window.location.href=\'http://site.com/1.html\'');

var element = document.getElementById("0002");
element.setAttribute('onclick', 'window.location.href=\'http://site.com/2.html\'');

var element = document.getElementById("0003");
element.setAttribute('onclick', 'window.location.href=\'http://site.com/3.html\'');

var element = document.getElementById("0004");
element.setAttribute('onclick', 'window.location.href=\'http://site.com/4.html\'');

var element = document.getElementById("0005");
element.setAttribute('onclick', 'window.location.href=\'http://site.com/5.html\'');
</script>

</body>
</html> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-02T06:00:27.177

整个概念很差。如果您有链接，请使用该链接。直接不使用脚本（适用于所有浏览器和 SEO）或更改链接的 href 或 onclick

也没有数字 ID

[演示](http://jsfiddle.net/mplungjan/uGxkt/)

```
<html>
<head>
<title>Index</title>
<script type="test/javascript">
 var myLinks = [
'http://bing.com/search?q=go',
'http://bing.com/search?q=visit',
'http://bing.com/search?q=explore',
'http://bing.com/search?q=funny%20pics'
]; // note no comma on the last item
window.onload=function() {
  for (var i=0;i<myLinks.length;i++) {
// EITHER    document.getElementById("d"+i).getElementsByTagName("a")[0]).href=myLinks[i];
// OR   
      document.getElementById("d"+i).getElementsByTagName("a")[0].onclick=(function(idx) {
      var idx = i;
      return function() { // closure 
        location=myLinks[idx];
        return false; // cancel href
      }
    })(i);      
  }
}
</script>
</head>
<body>

<div id="d0"><a href="#"">GO</a></div>
<div id="d1"><a href="#"">VISIT</a></div>
<div id="d2"><a href="#"">EXPLORE</a></div>
<div id="d3"><a href="#"">FUNNY PICS</a></div>

</body>
</html> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-02T06:20:38.097

您需要首先检查该元素是否为空。

**HTML #2**

```
<html>
<head>
<title>Index</title>
</head>
<body>

<div id="0002"><a href="#"">GO</a></div>
<div id="0003"><a href="#"">VISIT</a></div>
<div id="0004"><a href="#"">EXPLORE</a></div>
<div id="0005"><a href="#"">FUNNY PICS</a></div>
<script>
var element = document.getElementById("0001");
if(element!=null)
{
element.setAttribute('onclick', 'window.location.href=\'http://site.com/1.html\'');
}
var element = document.getElementById("0002");
if(element!=null)
{
element.setAttribute('onclick', 'window.location.href=\'http://site.com/2.html\'');
}
var element = document.getElementById("0003");
if(element!=null)
{
element.setAttribute('onclick', 'window.location.href=\'http://site.com/3.html\'');
}
var element = document.getElementById("0004");
if(element!=null)
{    
element.setAttribute('onclick', 'window.location.href=\'http://site.com/4.html\'');
}
var element = document.getElementById("0005");
if(element!=null)
{    
element.setAttribute('onclick', 'window.location.href=\'http://site.com/5.html\'');
}
</script>

</body>
</html> 
```

# iphone - 如何在 iphone sdk 中实现动态查询

> ID：14117380
> 
> 赞同：-2
> 
> 时间：2013-01-02T05:43:45.027
> 
> 标签：iphone, objective-c, ios

我想实现一个查询和一个动态查询。有 4 个表，我使用 group by 子句过滤表。但现在我想组合这四个表并进行动态查询。选择值 t 将如下所示，例如：

```
NSString *strQuery = @"Select * from TableName where " 
```

**步骤1 ：**

entity1 查询将是：

```
Select * from TableName where entity1 = 'S' 
```

**第2步**

实体 2 查询将是：

```
Select * from TableName where entity1 = 'S' AND entity 2 = '100S' 
```

**步骤：3**

实体 3 查询将是：

```
Select * from TableName where entity1 = 'S' AND entity 2 = '100S' AND entity3 = 'Fly' 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T06:50:01.697

几个想法：

1.  最好列名中没有空格。如果有空格，则需要将列名放在引号中，例如

    ```
    Select * from TableName where entity1 = 'S' AND 'entity 2' = '100S' 
    ```

    最好完全绕过这个问题，确保您的列名中没有空格，例如，`entity2`而不是`entity 2`.

2.  `stringWithFormat`与其用于构建 SQL，不如在 SQL 中使用`?`占位符然后用于[`sqlite3_bind_text()`](http://www.sqlite.org/c3ref/bind_blob.html)设置值更安全。这样，如果变量有任何可能会弄乱手动创建的 SQL 语句的字符（例如，该字段有一个单引号字符，`'`），它会绕过该问题。所以，你可能有：

    ```
    sqlite3 *database;
    if (sqlite3_open([databasePath UTF8String], &database) != SQLITE_OK)
        NSLog(@"%s open error '%s' (%1d)", __FUNCTION__, sqlite3_errmsg(database), sqlite3_errcode(database));

    NSString *sql = @"Select * from TableName where entity1 = ? AND entity2 = ?";
    NSString *entity1 = @"S";
    NSString *entity2 = @"100S";

    sqlite3_stmt *statement;

    if (sqlite3_prepare_v2(database, [sql UTF8String], -1, &statement, NULL) != SQLITE_OK)
        NSLog(@"%s prepare SQL error '%s' (%1d)", __FUNCTION__, sqlite3_errmsg(database), sqlite3_errcode(database));

    if (sqlite3_bind_text(statement, 1, [entity1 UTF8String], -1, NULL) != SQLITE_OK)
        NSLog(@"%s bind entity 1 error '%s'", __FUNCTION__, sqlite3_errmsg(database));

    if (sqlite3_bind_text(statement, 2, [entity2 UTF8String], -1, NULL) != SQLITE_OK)
        NSLog(@"%s bind entity 2 error '%s'", __FUNCTION__, sqlite3_errmsg(database));

    int rc;

    while ((rc = sqlite3_step(statement)) == SQLITE_ROW)
    {
        // do whatever you want with the results

        const unsigned char *entity1 = sqlite3_column_text(statement, 0);
        const unsigned char *entity2 = sqlite3_column_text(statement, 1);
        const unsigned char *entity3 = sqlite3_column_text(statement, 2);

        NSLog(@"%s %s %s", entity1, entity2, entity3);
    }

    if (rc != SQLITE_DONE)
        NSLog(@"%s step SQL error '%s' (%1d)", __FUNCTION__, sqlite3_errmsg(database), sqlite3_errcode(database));

    sqlite3_finalize(statement);
    sqlite3_close(database); 
    ```

    诚然，这种使用`sqlite_bind_text`有点麻烦，但更健壮。如果您不能完全确定要查找的字段是否包含单引号字符，则使用此约定很重要。如果您基于用户提供的某些搜索条件（例如查找“Joe's Bar and Grill”）构建 SQL，这一点至关重要，如果您不使用`sqlite3_bind_text`或不使用其他代码，“Joe's”中的撇号可能会让您有点心痛围绕这个问题）。虽然这对于应用程序来说比网站问题更小，但您根本不希望您的应用程序容易受到[SQL 注入](http://en.wikipedia.org/wiki/SQL_injection)的影响。

3.  [如果你使用FMDB](https://github.com/ccgus/fmdb) ，上面的`sqlite_bind_text`语法会大大简化，这是一个很棒的 SQLite 小 Objective-C 包装器：

    ```
    FMDatabase *database = [FMDatabase databaseWithPath:databasePath];
    NSAssert(database, @"unable to open database");

    if (![database open])
        NSLog(@"%@", [self.database lastErrorMessage]);

    FMResultSet *rs = [database executeQuery:@"Select * from TableName where entity1 = ? AND entity2 = ?", @"S", @"100S"];
    NSAssert(rs, [self.database lastErrorMessage]);

    while ([rs next])
    {
        NSLog(@"%@ %@ %@", rs[0], rs[1], rs[2]);
    }

    [rs close];
    [database close]; 
    ```

    这享受了 的好处`sqlite_bind_text`，而不会拖你穿过`sqlite`函数调用的杂草。

* * *

如果您想要一个可以使用可变数量的参数调用的函数，您可以通过多种不同的方式来实现，动态地构建您的 SQL。我将在下面提供一个带有免责声明的示例，我真的不喜欢手动构建 SQL，因为代码最终会遇到可读性问题。我宁愿用更易读的东西来牺牲简洁的代码，但我从你的问题中推断出你想知道如何动态地构建你的 SQL，所以我将提供一个示例，并附上上述警告。我还要说有很多方法可以解决这个问题，这只是一个这样的例子。

无论如何，假设您想使用字典作为哪些列具有哪些值的参数，您可以按如下方式调用它。如果你只有实体 1，你会这样称呼它：

```
[self selectTableWithDictionary:@{@"entity1":@"S"}]; 
```

或者，如果您同时拥有实体 1 和实体 2，则可以这样称呼它：

```
[self selectTableWithDictionary:@{@"entity1":@"S", @"entity2":@"100S"}]; 
```

然后解析这个字典，手动构建 SQL，然后绑定各个列的方法可能如下所示：

```
- (void)selectWithDictionary:(NSDictionary *)dictionary
{
    NSArray *fieldNames = [dictionary allKeys];
    NSArray *values = [dictionary allValues];

    // build the sql

    NSMutableString *sql = [NSMutableString stringWithString:@"Select * from TableName"];
    if ([fieldNames count]){
        [sql appendString:@" where "];
        [sql appendString:[fieldNames componentsJoinedByString:@" = ? AND "]];
        [sql appendString:@" = ?"];
    }

    sqlite3_stmt *statement;

    // prepare the sql

    if (sqlite3_prepare_v2(database, [sql UTF8String], -1, &statement, NULL) != SQLITE_OK)
        NSLog(@"%s prepare SQL error '%s' (%1d)", __FUNCTION__, sqlite3_errmsg(database), sqlite3_errcode(database));

    // bind the values

    for (NSInteger i = 0; i < [fieldNames count]; i++)
        if (sqlite3_bind_text(statement, i+1, [values[i] UTF8String], -1, NULL) != SQLITE_OK)
            NSLog(@"%s bind column # %d error '%s'", __FUNCTION__, i+1, sqlite3_errmsg(database));

    int rc;

    // iterate through the results

    while ((rc = sqlite3_step(statement)) == SQLITE_ROW)
    {
        const unsigned char *entity1 = sqlite3_column_text(statement, 0);
        const unsigned char *entity2 = sqlite3_column_text(statement, 1);
        const unsigned char *entity3 = sqlite3_column_text(statement, 2);

        NSLog(@"%s %s %s", entity1, entity2, entity3);
    }

    if (rc != SQLITE_DONE)
        NSLog(@"%s step SQL error '%s' (%1d)", __FUNCTION__, sqlite3_errmsg(database), sqlite3_errcode(database));

    sqlite3_finalize(statement);
} 
```

FMDB 实现可能如下所示：

```
- (void)selectTableWithDictionary:(NSDictionary *)dictionary
{
    NSArray *fieldNames = [dictionary allKeys];
    NSArray *values = [dictionary allValues];

    // build the sql

    NSMutableString *sql = [NSMutableString stringWithString:@"Select * from TableName"];
    if ([fieldNames count]){
        [sql appendString:@" where "];
        [sql appendString:[fieldNames componentsJoinedByString:@" = ? AND "]];
        [sql appendString:@" = ?"];
    }

    // execute the sql

    FMResultSet *rs = [self.database executeQuery:sql
                             withArgumentsInArray:values];
    NSAssert(rs, [self.database lastErrorMessage]);

    // iterate through the results

    while ([rs next])
    {
        NSLog(@"%@ %@ %@", rs[0], rs[1], rs[2]);
    }

    [rs close];
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-02T05:53:06.853

您可以尝试使用 NSString 的“stringWithFormat”方法，例如，

```
NSString *strQuery = [NSString stringWithFormat:@"Select * from TableName where entity1 = '%@' AND entity 2 = '%@'",@"S",@"100S"]; 
```

希望对您有所帮助。

干杯!

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-02T06:32:16.987

对于静态值你可以试试

```
NSString *strQuery =@"Select * from TableName where entity1 = 'S' AND entity 2 = '100S'"; 
```

对于动态值，您可以尝试

```
NSString *strQuery = [NSString stringWithFormat:@"Select * from TableName where entity1 = '%@' AND entity 2 = '%@'",entity1_obj,entity2_obj]; 
```

# bash - grep 捕获一个词组

> ID：14117384
> 
> 赞同：0
> 
> 时间：2013-01-02T05:44:21.287
> 
> 标签：bash, shell, grep

我正在尝试`CONFIG_X86_ACPI_CPUFREQ`从 obj-$(CONFIG_X86_ACPI_CPUFREQ) 中提取。我想将其推广到其他可能可用的选项 - 比如

`XXX-$(YYYY)`- 所以我只想`YYYY`从 shell 脚本中的这个字符串中提取 's 。

我是这样做的-

```
# echo "obj-\$(CONFIG_MMC_SDHCI)" | cut -d"\$" -f2 | cut -d"(" -f2 | cut -d ")" -f1 
CONFIG_MMC_SDHCI 
```

但我确信必须有一种更清洁的方法来仅使用 grep 来做到这一点。有没有办法做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-02T05:47:01.443

使用`sed`：

```
echo "obj-\$(CONFIG_MMC_SDHCI)" | sed 's/.\{3\}-\$(\(.*\))/\1/g' 
```

你可以使用 ... 而不是`.\{3\}` 如果你确定你的东西只出现在括号之间，那么你可以进一步简化为：

```
sed 's/.*(\(.*\))/\1/g' 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-02T05:47:33.657

单程：

```
x='XXX-$(YYYY)'
$ echo $x | awk -F'[)(]' '{print $2}'
YYYY 
```

将分隔符作为`'('`和`')'`，`awk`将在 $2 中有必填字段。

**更新**：

使用 grep：

```
$ echo $x | grep -oP '(?<=\().*(?=\))'
YYYY 
```

的`-P`选项`grep`用于 Perl 之类的正则表达式。这个表达式告诉任何前面有 a`'('`和后面有 a 的内容`')'`。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-02T07:36:47.580

```
echo $x | perl -ne '$_=m/.*\$\(([^\)]*)\)/;print $1' 
```

# android - 当我按下运行按钮时，它显示未找到兼容设备

> ID：14117385
> 
> 赞同：3
> 
> 时间：2013-01-02T05:44:27.450
> 
> 标签：android, demo

我正在关注[http://developer.android.com/training/basics/activity-lifecycle/stopping.html](http://developer.android.com/training/basics/activity-lifecycle/stopping.html)。我从这里下载了演示活动生命周期。当我按运行-> Android-应用程序时，它显示没有找到兼容的目标。我从 SDK snd avd manager 下载了 Android4.2 和 Android 2.2。我使用 android4.2 和 android2.2 创建了四个 AVD，但它显示没有找到兼容的设备。谁能告诉我哪个设备与 Activity-lifecycle 兼容。

带着敬意

杰伊

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-02T06:33:53.597

如果您已经创建了特定的 AVD，请按照以下步骤操作

```
Right click on your android project->Run Configuration-> in target tab select-> always prompt to pick device 
```

然后运行你的项目，它会显示所有在线和离线 AVD，所以现在从这个列表中选择 AVD。它将启动该 AVD 并运行您的应用程序。

**更新**

> “仍然没有与目标 'Google API' 兼容的 AVD：中止启动”

您是否通过将目标设置为创建了这些 AVD `Google-API`？如果没有，则编辑您的 AVD 并将目标设置为`Google-Api`并再次运行

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-02T05:48:14.860

创建支持 android-17 **(Android 4.2)**或 android-8 **(Android-2.2)的****AVD**。

 ****如何创建新的 AVD ？

```
on Eclipse, [Window> Android AVD Manager] select,

you press the [new] button, you can create new Android Virtual Device 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-02T05:53:21.723

确保根据应用的目标创建了兼容的 AVD。
* AVD 和针对您的特定应用提到的目标应该匹配。

如果尚未创建 AVD，请执行以下步骤：

```
on Eclipse, [Window> Android AVD Manager] select NEW,  
(press the [new] button), you can create new Android Virtual Device 
```

或者最简单的方法是重新安装具有内置 Android SDK 的 Eclipse。[http://developer.android.com/sdk/index.html](http://developer.android.com/sdk/index.html)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-02T05:58:35.857

我遇到了同样的问题。我创建了新的数据定义（即 Eclipse---->Window--->AVD Manager--->Data Definitions）。添加与您在创建应用程序时选择作为目标的 android 版本相对应的数据定义。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-08T17:14:10.793

我的解决方案：我对使用 Google API 的项目有同样的问题，在 AVD 管理器中我创建了一个新的，并将目标更改为 Google Api 16 并且它可以工作

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-05-24T22:09:33.123

我有同样的问题。我的解决方案是简单地重新安装 SDK。****

# java - Android 蓝牙 API 会发现蓝牙设备的所有版本吗？

> ID：14117386
> 
> 赞同：0
> 
> 时间：2013-01-02T05:44:55.773
> 
> 标签：java, android, bluetooth

Android 设备会发现所有类型的蓝牙版本设备吗？Android 蓝牙 API 是否会连接到所有蓝牙设备（所有版本，如 v2.1、v3.0 和 v4.0）？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-02T05:52:16.740

是的，我确信**操作系统版本的 Android 设备（所有版本，如 v2.1、v3.0 和 v4.0）** **发现**甚至**连接**到其他蓝牙设备。我这么说是因为我对这些功能很有经验。

**编辑**：您可以从[蓝牙聊天应用程序中获得帮助](http://jayxie.com/mirrors/android-sdk/resources/samples/BluetoothChat/index.html)

# iphone - 互补滤波器和 atan2 不连续性

> ID：14117389
> 
> 赞同：2
> 
> 时间：2013-01-02T05:45:01.203
> 
> 标签：iphone, objective-c

我一直在玩 iPhone 陀螺仪和加速度计，并试图通过使用这两个传感器来精确测量设备旋转。

首先，我使用陀螺仪计算设备角速度，然后使用加速度计找到角度（通过找到重力指向的位置，然后使用 atan2）。然后我使用它们使用这个公式创建一个很好的角度估计：

```
accAngle = atan2f(yAcceleration, xAcceleration); // reading from accelerometer
gyroAngle = gyroVelocity * timeSinceUpdate; // reading from gyroscope
estimatedAngle = 0.97 * (estimatedAngle + gyroAngle) + 0.03 * accAngle; // filtered angle 
```

然后我使用estimatedAngle 来旋转一个CALayer。

它就像一个魅力，直到设备侧身转动，atan2 函数从 -pi 跳转到 pi 并返回。这种不连续性使角度抖动，并且由于角度测量跳动很大，因此混淆了滤波器。我试图想办法解决这个问题，但似乎没有任何效果。有任何想法吗？

# iphone - 如何在默认日历和自定义日历中设置背景图像

> ID：14117394
> 
> 赞同：2
> 
> 时间：2013-01-02T05:45:22.670
> 
> 标签：iphone, objective-c, ios, calendar

![在此处输入图像描述](../Images/8988e33b86f852b58e5017cd88d15147.png)![我正在显示示例日历图像以供参考](../Images/e111d336f0b93cdaf09e4750588a636a.png)

我是 iOS App Development 的新手。我用谷歌搜索但没有找到合适的结果。我正在尝试将背景图像设置为日历。我想在日历内而不是在日历之外应用背景图像。做任务的任何替代方案。任何有价值的建议将不胜感激。

“提前致谢”

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-02T06:04:35.170

试试这个[http://www.cocoacontrols.com/platforms/ios/controls/ckcalendar](http://www.cocoacontrols.com/platforms/ios/controls/ckcalendar)

**编辑代码**

在此示例中，在此方法中添加以下行`CKViewController.m`

```
- (id)init {
         calendar.backgroundColor=[UIColor colorWithPatternImage:[UIImage imageNamed:@"bird.jpg"]];
    } 
```

并使evertthing clearcolor（或根据您的要求）`- (void)layoutSubviews`在`CKCalendarView.m`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-02T06:17:44.133

看来您正在使用`CKCalendar`. 设置背景图像，

**试试这个**

```
self.backgroundColor = [UIColor colorWithPatternImage:[UIImage imageNamed:@"image.png"]]; 
```

**在**

```
- (void)setDefaultStyle 
{
} 
```

方法从`CKCalendarView.m`

# sql - Spring Batch - 它适合这个用例吗？

> ID：14117402
> 
> 赞同：0
> 
> 时间：2013-01-02T05:46:05.790
> 
> 标签：sql, database, spring-batch

我有一个需要评估的用例，看看它是否适合 Spring Batch。我正在尝试通过分别在每个数据库上运行存储过程 (SP) 来收集来自 n 个不同数据库的数据来构建一个合并数据库，来自 n 个不同数据库的存储过程的结果被合并到一个合并数据库中，这将进一步用于下游处理。这个整合过程应该每天运行三次。我想构建一个基于 java 的整合层，它在 n 个 DB 中执行 SP 并将结果插入到单个整合 DB 中。我正在考虑编写一个多线程自定义代码来实现这一点，并查看 Spring batch 是否合适，或者是否有一种方法可以完全消除整合层本身并通过一些 DB 方法直接完成。感谢您的帮助，指点。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-03T05:23:33.000

Spring Batch 具有

```
org.springframework.batch.item.database.StoredProcedureItemReader 
```

可以用作块处理器的一部分来执行您的建议。这将允许您使用阅读器执行 SP，然后使用您自己的处理器（如果需要），然后使用

```
org.springframework.batch.item.database.JdbcBatchItemWriter 
```

完成该过程。

如果您正在查看一天中有多个时段的流程，您可能还需要考虑事件驱动模型并查看 Spring Integration，它是

```
<int-jdbc:stored-proc-inbound-channel-adapter/> 
```

适配器。这将允许您轮询目标数据库，执行有问题的 SP，然后转发结果以更频繁地保存在下游数据库中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-02T16:11:52.667

IMO这是一个很好的spring-batch用例。它将为瞬态错误提供缓冲，您可以将大型操作分解为更小的块。它也支持多线程作业。

# testing - 使用 Capybara webkit 时未找到元素错误，但测试在非无头模式下运行良好

> ID：14117404
> 
> 赞同：1
> 
> 时间：2013-01-02T05:46:12.067
> 
> 标签：testing, capybara, capybara-webkit

我正在尝试使用 Capybara-webkit 在无头模式下运行一个简单的谷歌搜索测试。

我已将驱动程序设置为 env.rb 文件：

```
Capybara.default_driver = :webkit
Capybara.current_driver = :webkit
Capybara.javascript_driver = :webkit 
```

特征文件有一个简单的场景大纲，用于搜索输入并验证结果是否包含预期的输出：

```
 Given User opens the google page
    When she searches for "<input>"
    Then verify that the result has "<output>"

    Examples:
    |input                    | output           |
    |Agile Samurai author name|Jonathan Rasmusson|
    |Eloquent Ruby author name|Russ Olsen        | 
```

在步骤定义中，访问google页面并在文本框中输入输入并单击搜索按钮。

```
Given /^User opens the google page$/ do
  visit "http://google.com"
end

When /^she searches for "(.*?)"$/ do |search_query|
        fill_in "gbqfq", :with => search_query
        click_button "gbqfba"
end

Then /^verify that the result has "(.*?)"$/ do |output|
        should have_content output
end 
```

当我运行这些测试时，我得到了错误：

> 找不到字段“gbqfq”（Capybara::ElementNotFound）

但是，如果我将驱动程序更改为硒：

```
Capybara.default_driver = :selenium
Capybara.current_driver = :selenium
Capybara.javascript_driver = :selenium 
```

然后，测试运行并且所有步骤都通过。

在无头模式下，是否以其他方式找到元素？我的方法错了吗？我无法理解为什么在浏览器模式（打开 firefox 实例）下工作正常时，在无头模式下找不到该元素。

我是这个领域的新手，所以任何帮助都将不胜感激。先感谢您。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-03T09:23:46.770

我使用`puts page.html`. 我发现无头模式的源代码不同。

这是浏览器模式下文本框源代码的一部分：

```
<input id="gbqfq" class="gbqfif" type="text" value="" autocomplete="off" name="q"> 
```

这是headless模式下的部分文本框源代码：

```
<input class="lst" spellcheck="false" dir="ltr" title="Google Search" value=""> 
```

由于headless模式源码中不存在id，所以测试失败。如果有一些在两种模式中通用的名称，则将其用于测试。

我不确定为什么会这样。但谷歌可能会根据有头或无头模式加载不同的页面。

我尝试了一些其他网站，例如 Flipkart.com，它们在这两种模式下都可以使用。即 id 等在两种模式下都是相同的。

因此，问题中的代码没有任何问题。只需要使用两种模式中都存在的 id。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-02T06:09:02.783

您的`click_button`线路似乎有错误`id`的按钮。

它应该是：

```
click_button "gbqfba" 
```

所以你的行变成：

```
fill_in "gbqfq", :with => search_query
click_button "gbqfba" 
```

我不确定这是否会有所帮助，但值得一试。

# c# - Facebook 喜欢 Ext3 按钮的通知图标

> ID：14117407
> 
> 赞同：3
> 
> 时间：2013-01-02T05:46:49.537
> 
> 标签：c#, asp.net, css, extjs, ext.net

我正在使用一个 Ext 工具栏，它有一个名为“NotificationButton”的按钮，我计划在其上显示数字，就像在 facebook 通知中一样。我可以成功更改按钮的html。我唯一被卡住的是css部分。

谁能指出我正确的方向？提前致谢。

**已编辑！**

正如 Daulet 所建议的那样，在这一点上，我有：

**样式表**

```
<style type="text/css">
    .fbNotification
    {
        background: none repeat scroll 0 0 orange!important;
        border: 1px solid orange !important;
        border-radius: 10px !important;
        width: 18px !important;
    }

    .fbNotification .x-tip-body
    {
        font-size: 10px !important;
    }
</style> 
```

**标记**

```
<ext:Panel ID="Panel1" runat="server" Title="Panel with toolbars" Width="600" Height="300">
    <TopBar>
        <ext:Toolbar runat="server">
            <Items>
                <ext:Button ID="b1" runat="server" Icon="Add" StandOut="true" Text="Notifications">
                    <Listeners>
                        <Render Fn="createTooltp"></Render>
                    </Listeners>
                </ext:Button>
                <ext:ToolbarFill />
                <ext:Button runat="server" EnableToggle="true" ToggleGroup="G1" Icon="GroupAdd" Pressed="true" />
                <ext:Button runat="server" EnableToggle="true" ToggleGroup="G1" Icon="GroupDelete" />
                <ext:Button runat="server" EnableToggle="true" ToggleGroup="G1" Icon="GroupEdit" />
            </Items>
        </ext:Toolbar>
    </TopBar>
</ext:Panel> 
```

**脚本：**

```
<script type="text/javascript" language="javascript">
    function createTooltp(cmp) {
        tooTip = new Ext.ToolTip({
            anchor: 'left',
            target: cmp,
            html: '10',
            cls: 'fbNotification',
            autoRender: true,
            renderTo: Ext.getBody(),
            autoHide: false,
            shadow: false,
            padding: 0,
            width: 16,
            shrinkWrap: 0,
            anchorToTarget: true,
            mouseOffset: [-4, -8]
        });

        tooTip.show();
    }
</script> 
```

![在此处输入图像描述](../Images/07c9085efedd794811459ae70a1bdff5.png) 现在的问题是没有正确应用css。请帮忙！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T19:09:51.400

**更新：**

这个答案适用于 Ext.NET 2.x。

* * *

试试这个：

```
<%@ Page Language="C#" %>

<%@ Register Assembly="Ext.Net" Namespace="Ext.Net" TagPrefix="ext" %>

<!DOCTYPE html>

<style>
    .fbNotification {
        background: none repeat scroll 0 0 orange !important;
        border: 1px solid orange !important;
        border-radius: 10px !important;
        width: 18px !important;
    }

    .fbNotification .x-tip-body {
        font-size: 10px !important;
    }
</style>

<script>
    var addNotification = function(cmp) {
        var tip = Ext.create('Ext.tip.ToolTip', {
            target: cmp,
            html: '10',
            autoRender: true,
            renderTo: Ext.getBody(),
            autoHide: false,
            shadow: false,
            padding: 0,
            cls: 'fbNotification',
            width: 16,
            shrinkWrap: 0
        });
        tip.show();
        tip.alignTo(cmp.el, 'tl-br?', [-14,16]);
    }
</script>

<html>
<head runat="server">
    <title>Ext.NET Examples</title>
</head>
<body>
    <form runat="server">
        <ext:ResourceManager runat="server" />
        <ext:Panel 
            ID="Panel1" 
            runat="server" 
            Title="Panel with toolbars" 
            Width="600" 
            Height="300">
            <TopBar>
                <ext:Toolbar runat="server">
                    <Items>
                        <ext:Button runat="server" Icon="Add" StandOut="true" Text="Notifications">
                            <Listeners>
                                <Click Handler="Ext.Msg.alert('Click','Click on Add');" />
                                <Render Fn="addNotification"></Render>
                            </Listeners>
                            <ToolTips>
                                <ext:ToolTip runat="server" Html="StandOut button" />
                            </ToolTips>
                        </ext:Button>

                        <ext:ToolbarFill />

                        <ext:Button runat="server" EnableToggle="true" ToggleGroup="G1" Icon="GroupAdd" Pressed="true" />
                        <ext:Button runat="server" EnableToggle="true" ToggleGroup="G1" Icon="GroupDelete" />
                        <ext:Button runat="server" EnableToggle="true" ToggleGroup="G1" Icon="GroupEdit" />
                    </Items>
                </ext:Toolbar>
            </TopBar>
        </ext:Panel>  
    </form>
</body>
</html> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-06T07:44:53.623

好的，这里是 Ext.NET 1.x 的版本。您唯一需要做的就是创建自己的提示锚精灵图像，您可以使用任何浏览器开发工具获得它：

```
<%@ Page Language="C#" %>

<%@ Register Assembly="Ext.Net" Namespace="Ext.Net" TagPrefix="ext" %>

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
<head runat="server">
    <title>Ext.NET Examples</title>
    <style>
        .fbNotification
        {
            background: none repeat scroll 0 0 orange!important;
            border: 1px solid orange !important;
            border-radius: 10px !important;
            width: 18px !important;
        }

        .fbNotification .x-tip-body
        {
            font-size: 10px !important;
        }

        .fbNotification .x-tip-ml {
            background: none;
            padding-left: 3px !important;            
        }

        .fbNotification .x-tip-tc, .fbNotification .x-tip-tl, .fbNotification .x-tip-tr, .fbNotification .x-tip-bc, .fbNotification .x-tip-bl, .fbNotification .x-tip-br, .fbNotification .x-tip-ml, .fbNotification .x-tip-mr 
        {
            background: none;
        }

        .fbNotification .x-tip-anchor 
        {
            /* Put here your own gif image of tip anchor sprite */
            background-image: none; 
        }
    </style>

    <script>
        function createTooltp(cmp) {
            var tooTip = new Ext.ToolTip({
                anchor: 'left',
                target: cmp,
                html: '10',
                cls: 'fbNotification',
                autoRender: true,
                renderTo: Ext.getBody(),
                autoHide: false,
                shadow: false,
                padding: 0,
                width: 16,
                shrinkWrap: 0,
                anchorToTarget: true,
                mouseOffset: [-4, -8],
                listeners: {
                    beforehide: function () {
                        return false;
                    }
                }
            });

            tooTip.show();
        }
    </script>
</head>
<body>
    <form runat="server">
        <ext:ResourceManager runat="server" />

        <ext:Panel ID="Panel1" runat="server" Title="Panel with toolbars" Width="600" Height="300">
            <TopBar>
                <ext:Toolbar runat="server">
                    <Items>
                        <ext:Button ID="b1" runat="server" Icon="Add" StandOut="true" Text="Notifications">
                            <Listeners>
                                <Render Fn="createTooltp"></Render>
                            </Listeners>
                        </ext:Button>
                        <ext:ToolbarFill />
                        <ext:Button runat="server" EnableToggle="true" ToggleGroup="G1" Icon="GroupAdd" Pressed="true" />
                        <ext:Button runat="server" EnableToggle="true" ToggleGroup="G1" Icon="GroupDelete" />
                        <ext:Button runat="server" EnableToggle="true" ToggleGroup="G1" Icon="GroupEdit" />
                    </Items>
                </ext:Toolbar>
            </TopBar>
        </ext:Panel>
    </form>
</body>
</html> 
```

# java - java画线的最佳方法

> ID：14117412
> 
> 赞同：0
> 
> 时间：2013-01-02T05:47:04.423
> 
> 标签：java, drawing2d

我从未创建过 GUI 或用 Java 绘制任何东西，我需要帮助有效地绘制线条。在我的应用程序中，将为用户提供 8 个按钮，其想法是当按下按钮时，应在窗口上绘制一条与按下按钮时间相对应的线。目前我正在覆盖 jpanel 上的 paintComponent 函数，并每 125 毫秒调用一次 paint() 函数（我只有大约 240 像素宽可以绘制，我想在 240 像素上保留 30 秒的记录），但是它正在运行的硬件无法跟上，它看起来很糟糕/非常不稳定。这是我正在使用的代码：

```
jPanel1 = new javax.swing.JPanel() {
  protected void paintComponent(Graphics g) {
    super.paintComponent(g);
    Something cur = manager.getSomething(getCurrentState());
    for(int j=0; j<cur.getNumItems(); j++) {
      Item i1 = cur.getItem(j);
      for(int i = 0; i<i1.getLength(); i++) {
        int start = i1.getStartTime(i);
        int len = Math.max(0, (Math.min(i1.getStopTime(i), pix) - start));
        g.fillRect(start,j*22+5,len,5);
      }
    }
    g.drawLine(pix, 0, pix, 170);
  }
}; 
```

其中： getItem(int) 将返回给定按钮的信息。getStartTime(int) 将返回按下按钮时给定时间段的开始时间。getStopTime(int) 将返回按下按钮时给定时间段的停止时间。pix = 我们在面板上的当前像素（因此，如果我们在时间线的 30 秒内 15 秒，pix 将等于 120）

最后我有一个计时器，它每 125 毫秒调用一次 jpanel1.paint()。

有没有更好的方法来做到这一点，或者有没有人有任何其他建议？请提供详细的信息/来源，因为我没有任何真正的绘图经验。提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-02T06:42:41.513

你不应该**手动**调用或`paint`方法。`paintComponent`

为了获得更好的结果，您可以在每 125 毫秒后在面板上尝试`invalidate()`并使用该方法`repaint()`

您可能还对[重绘和无效感兴趣](https://stackoverflow.com/questions/4396583/java-swing-repaint-vs-invalidate)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-02T06:12:38.227

覆盖 JPanel 的paintComponent 函数

```
public void paintComponent(Graphics g) {
        super.paintComponent(g)

        g.drawLine(this.x1, this.y1, this.x2, this.y2);
    } 
```

# python - 在 Python 中，使用 argparse，只允许正整数

> ID：14117415
> 
> 赞同：194
> 
> 时间：2013-01-02T05:47:21.717
> 
> 标签：python, argparse

标题几乎概括了我想要发生的事情。

这就是我所拥有的，虽然程序不会在非正整数上崩溃，但我希望用户被告知非正整数基本上是无稽之谈。

```
import argparse
parser = argparse.ArgumentParser()
parser.add_argument("-g", "--games", type=int, default=162,
                    help="The number of games to simulate")
args = parser.parse_args() 
```

和输出：

```
python simulate_many.py -g 20
Setting up...
Playing games...
.................... 
```

输出为负：

```
python simulate_many.py -g -2
Setting up...
Playing games... 
```

现在，显然我可以添加一个 if 来确定`if args.games`是否定的，但我很好奇是否有办法在`argparse`关卡中捕获它，以便利用自动使用打印。

理想情况下，它会打印出类似这样的内容：

```
python simulate_many.py -g a
usage: simulate_many.py [-h] [-g GAMES] [-d] [-l LEAGUE]
simulate_many.py: error: argument -g/--games: invalid int value: 'a' 
```

像这样：

```
python simulate_many.py -g -2
usage: simulate_many.py [-h] [-g GAMES] [-d] [-l LEAGUE]
simulate_many.py: error: argument -g/--games: invalid positive int value: '-2' 
```

现在我正在这样做，我想我很高兴：

```
if args.games <= 0:
    parser.print_help()
    print "-g/--games: must be positive."
    sys.exit(1) 
```

* * *

## 回答 #1

> 赞同：281
> 
> 时间：2013-01-02T05:58:04.743

这应该可以利用`type`. 您仍然需要定义一个实际的方法来为您决定：

```
def check_positive(value):
    ivalue = int(value)
    if ivalue <= 0:
        raise argparse.ArgumentTypeError("%s is an invalid positive int value" % value)
    return ivalue

parser = argparse.ArgumentParser(...)
parser.add_argument('foo', type=check_positive) 
```

这基本上只是一个改编自[docs](https://docs.python.org/library/argparse.html#type) on中的`perfect_square`函数的示例。`argparse`

* * *

## 回答 #2

> 赞同：79
> 
> 时间：2013-01-02T06:05:32.780

`type`将是处理条件/检查的推荐选项，如 Yuushi 的回答。

在您的特定情况下，`choices`如果您的上限也已知，您也可以使用该参数：

```
parser.add_argument('foo', type=int, choices=xrange(5, 10)) 
```

**注意：**使用`range`而不是`xrange`用于 python 3.x

* * *

## 回答 #3

> 赞同：10
> 
> 时间：2013-01-02T06:05:19.860

如果您的 arg 有一个可预测的最大值和最小值，那么快速而肮脏的方法是使用`choices`一个范围

```
parser.add_argument('foo', type=int, choices=xrange(0, 1000)) 
```

* * *

## 回答 #4

> 赞同：9
> 
> 时间：2016-10-09T19:51:47.960

一个更简单的替代方法，尤其是在子类`argparse.ArgumentParser`化的情况下，是从`parse_args`方法内部启动验证。

在这样的子类中：

```
def parse_args(self, args=None, namespace=None):
    """Parse and validate args."""
    namespace = super().parse_args(args, namespace)
    if namespace.games <= 0:
         raise self.error('The number of games must be a positive integer.')
    return namespace 
```

这种技术可能不像自定义可调用对象那么酷，但它确实可以完成工作。

* * *

关于[`ArgumentParser.error(message)`](https://docs.python.org/library/argparse.html#exiting-methods)：

> 此方法打印包含标准错误消息的使用消息，并以状态码 2 终止程序。

* * *

信用：[乔纳坦的回答](https://stackoverflow.com/a/35083753/832230)

* * *

## 回答 #5

> 赞同：6
> 
> 时间：2020-04-24T15:05:18.707

如果有人（像我一样）在 Google 搜索中遇到这个问题，这里有一个示例，说明如何使用模块化方法巧妙地解决更一般的问题，即*仅在指定范围内*允许 argparse 整数：

```
# Custom argparse type representing a bounded int
class IntRange:

    def __init__(self, imin=None, imax=None):
        self.imin = imin
        self.imax = imax

    def __call__(self, arg):
        try:
            value = int(arg)
        except ValueError:
            raise self.exception()
        if (self.imin is not None and value < self.imin) or (self.imax is not None and value > self.imax):
            raise self.exception()
        return value

    def exception(self):
        if self.imin is not None and self.imax is not None:
            return argparse.ArgumentTypeError(f"Must be an integer in the range [{self.imin}, {self.imax}]")
        elif self.imin is not None:
            return argparse.ArgumentTypeError(f"Must be an integer >= {self.imin}")
        elif self.imax is not None:
            return argparse.ArgumentTypeError(f"Must be an integer <= {self.imax}")
        else:
            return argparse.ArgumentTypeError("Must be an integer") 
```

这使您可以执行以下操作：

```
parser = argparse.ArgumentParser(...)
parser.add_argument('foo', type=IntRange(1))     # Must have foo >= 1
parser.add_argument('bar', type=IntRange(1, 7))  # Must have 1 <= bar <= 7 
```

该变量`foo`现在只允许**正整数**，就像 OP 要求的那样。

请注意，除了上述形式外，还可以使用最大值`IntRange`：

```
parser.add_argument('other', type=IntRange(imax=10))  # Must have other <= 10 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2021-12-16T16:53:49.200

根据 Yuushi 的回答，您还可以定义一个简单的辅助函数，该函数可以检查一个数字对于各种数字类型是否为正：

```
def positive(numeric_type):
    def require_positive(value):
        number = numeric_type(value)
        if number <= 0:
            raise ArgumentTypeError(f"Number {value} must be positive.")
        return number

    return require_positive 
```

辅助函数可用于注释任何数字参数类型，如下所示：

```
parser = argparse.ArgumentParser(...)
parser.add_argument("positive-integer", type=positive(int))
parser.add_argument("positive-float", type=positive(float)) 
```

# magnolia - Magnolia CSS 和图像抛出 NPE 500 错误

> ID：14117417
> 
> 赞同：0
> 
> 时间：2013-01-02T05:47:37.627
> 
> 标签：magnolia

无法使用 Magnolia login.css 和 magnolia 图像。当我尝试 Magnolia 作者实例时，CSS 和图像抛出 500 错误。以下异常跟踪显示在浏览器窗口中。关于如何解决它的任何线索？我正在使用 Magnolia 4.5 版

```
 java.lang.NullPointerException
        info.magnolia.module.cache.cachepolicy.Default.shouldCache(Default.java:97)
        info.magnolia.module.cache.filter.CacheFilter.doFilter(CacheFilter.java:133)
        info.magnolia.cms.filters.OncePerRequestAbstractMgnlFilter.doFilter(OncePerRequestAbstractMgnlFilter.java:61)
        info.magnolia.cms.filters.MgnlFilterChain.doFilter(MgnlFilterChain.java:83)
        info.magnolia.cms.i18n.I18nContentSupportFilter.doFilter(I18nContentSupportFilter.java:76)
        info.magnolia.cms.filters.AbstractMgnlFilter.doFilter(AbstractMgnlFilter.java:91)
        info.magnolia.cms.filters.MgnlFilterChain.doFilter(MgnlFilterChain.java:83)
        info.magnolia.cms.filters.RangeSupportFilter.doFilter(RangeSupportFilter.java:86)
        info.magnolia.cms.filters.AbstractMgnlFilter.doFilter(AbstractMgnlFilter.java:91)
        info.magnolia.cms.filters.MgnlFilterChain.doFilter(MgnlFilterChain.java:83)
        info.magnolia.cms.filters.MgnlFilterChain.doFilter(MgnlFilterChain.java:85)
        info.magnolia.cms.security.SecurityCallbackFilter.doFilter(SecurityCallbackFilter.java:86)
        info.magnolia.cms.filters.OncePerRequestAbstractMgnlFilter.doFilter(OncePerRequestAbstractMgnlFilter.java:61)
        info.magnolia.cms.filters.MgnlFilterChain.doFilter(MgnlFilterChain.java:83)
        info.magnolia.cms.security.LogoutFilter.doFilter(LogoutFilter.java:93)
        info.magnolia.cms.filters.OncePerRequestAbstractMgnlFilter.doFilter(OncePerRequestAbstractMgnlFilter.java:61)
        info.magnolia.cms.filters.MgnlFilterChain.doFilter(MgnlFilterChain.java:83)
        info.magnolia.cms.filters.MultiChannelFilter.doFilter(MultiChannelFilter.java:83)
        info.magnolia.cms.filters.OncePerRequestAbstractMgnlFilter.doFilter(OncePerRequestAbstractMgnlFilter.java:61)
        info.magnolia.cms.filters.MgnlFilterChain.doFilter(MgnlFilterChain.java:83)
        info.magnolia.module.cache.filter.GZipFilter.doFilter(GZipFilter.java:75)
        info.magnolia.cms.filters.OncePerRequestAbstractMgnlFilter.doFilter(OncePerRequestAbstractMgnlFilter.java:61)
        info.magnolia.cms.filters.MgnlFilterChain.doFilter(MgnlFilterChain.java:83)
        info.magnolia.cms.filters.MgnlFilterChain.doFilter(MgnlFilterChain.java:85)
        info.magnolia.cms.security.auth.login.LoginFilter.doFilter(LoginFilter.java:93)
        info.magnolia.cms.filters.AbstractMgnlFilter.doFilter(AbstractMgnlFilter.java:91)
        info.magnolia.cms.filters.MgnlFilterChain.doFilter(MgnlFilterChain.java:83)
        info.magnolia.cms.filters.MgnlFilterChain.doFilter(MgnlFilterChain.java:85)
        info.magnolia.cms.filters.CosMultipartRequestFilter.doFilter(CosMultipartRequestFilter.java:87)
        info.magnolia.cms.filters.OncePerRequestAbstractMgnlFilter.doFilter(OncePerRequestAbstractMgnlFilter.java:61)
        info.magnolia.cms.filters.MgnlFilterChain.doFilter(MgnlFilterChain.java:83)
        info.magnolia.cms.filters.ContentTypeFilter.doFilter(ContentTypeFilter.java:103)
        info.magnolia.cms.filters.AbstractMgnlFilter.doFilter(AbstractMgnlFilter.java:91)
        info.magnolia.cms.filters.MgnlFilterChain.doFilter(MgnlFilterChain.java:83)
        info.magnolia.cms.filters.ContextFilter.doFilter(ContextFilter.java:131)
        info.magnolia.cms.filters.AbstractMgnlFilter.doFilter(AbstractMgnlFilter.java:91)
        info.magnolia.cms.filters.MgnlFilterChain.doFilter(MgnlFilterChain.java:83)
        info.magnolia.cms.filters.CompositeFilter.doFilter(CompositeFilter.java:67)
        info.magnolia.cms.filters.AbstractMgnlFilter.doFilter(AbstractMgnlFilter.java:91)
        info.magnolia.cms.filters.SafeDestroyMgnlFilterWrapper.doFilter(SafeDestroyMgnlFilterWrapper.java:108)
        info.magnolia.cms.filters.MgnlFilterDispatcher.doDispatch(MgnlFilterDispatcher.java:67)
        info.magnolia.cms.filters.MgnlMainFilter.doFilter(MgnlMainFilter.java:108)
        info.magnolia.cms.filters.MgnlMainFilter.doFilter(MgnlMainFilter.java:94) 
```

我使用的 Maven 依赖项是：

```
<dependency>
      <name>core</name>
      <version>4.1/*</version>
    </dependency>
    <dependency>
      <name>adminInterface</name>
      <version>4.1/*</version>
    </dependency>
    <dependency>
      <name>templating</name>
      <version>4.1/*</version>
    </dependency>
    <dependency>
      <name>fckEditor</name>
      <version>4.1/*</version>
    </dependency>
    <dependency>
      <name>blossom</name>
      <version>2.0/*</version>
    </dependency> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T15:52:51.887

为什么你不使用 magnolia 的 artifcat 来构建你的项目，看看这个：[http ://dev.magnolia-cms.com/~gjoseph/dont-build-magnolia-build-your-projects](http://dev.magnolia-cms.com/~gjoseph/dont-build-magnolia-build-your-projects)

# android-layout - 布局动画时不显示 Android 布局文本

> ID：14117424
> 
> 赞同：0
> 
> 时间：2013-01-02T05:48:37.517
> 
> 标签：android-layout, android-animation

我有一个纸牌游戏，其中纸牌表示为一个布局对象，其中包含一个带有纸牌背景图像的大切换按钮，以及代表纸牌等级和花色的文本视图。

```
<RelativeLayout
            android:id="@+id/card1">
        <ToggleButton
                android:id="@+id/cardback1" android:background="@drawable/blank_card"  android:checked="false" android:textOff='' android:textOn="HELD" android:textColor="@android:color/holo_red_dark" android:clickable="true" android:enabled="false"/>
        <TextView
                android:id="@+id/rank1"
                android:textColor="@android:color/holo_red_light"
                android:textIsSelectable="false" 
                android:textSize="16dp"
                android:layout_alignParentTop="true" android:layout_marginTop="5dp"
                android:layout_marginLeft="7dp" android:textAlignment="center"/>
        <TextView
                android:id="@+id/suit1" android:text="@string/suit_diamond"
                android:textColor="@android:color/holo_red_light"
                android:textIsSelectable="false" android:typeface="normal"
                android:textSize="24dp"
                android:layout_centerInParent="true"/>
</RelativeLayout> 
```

重新发牌时，我想应用自定义动画以将卡片显示为“翻转”，这是我在一系列对象动画中所做的，在 Y 轴上旋转我使用的动画定义如下：

```
 <objectAnimator xmlns:android="http://schemas.android.com/apk/res/android"
       android:valueFrom="0" android:valueTo="360" android:propertyName="rotationY" > </objectAnimator> 
```

然后我为布局 xml 中引用的 RelativeLayout 设置动画。

```
 RelativeLayout cardLayout = (RelativeLayout)findViewById(R.id.card1);
 Animator initialAnimator = (ObjectAnimator) AnimatorInflater.loadAnimator(cardLayout.getContext(), R.anim.flip360);
    initialAnimator.setTarget(cardLayout);
    initialAnimator.setDuration(1000);
    initialAnimator.start(); 
```

但是，在动画期间，布局上的文本根本没有显示。按钮图像按预期旋转，但在动画完成之前不会显示文本。

我之前在 cardLayout 上使用了一个更简单的动画，只是在 Y 轴上缩放以模拟旋转，但看起来不太好。但是，当使用该方法时，动画期间文本仍会显示在卡片上。是否需要配置一些内容，以便文本可以显示在卡片上并与图像一起动画，或者我是否需要分别为卡片的所有元素添加自定义动画？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T19:45:43.837

[我认为自己在浏览Android API 文档](http://developer.android.com/reference/android/view/View.html#setDrawingCacheEnabled%28boolean%29)时偶然发现了答案，所以我想我会在这里发布它，以防有人遇到同样的问题。

通过在调用动画之前启用绘图缓存：

```
cardLayout.setDrawingCacheEnabled(true); 
```

我让布局在开始动画之前呈现为位图，其中包括布局中包含的文本。

# ffmpeg - Gsteamer rtp 视频混合器，找到了一个工作管道，但是需要改进

> ID：14117427
> 
> 赞同：3
> 
> 时间：2013-01-02T05:49:19.557
> 
> 标签：ffmpeg, h.264, gstreamer, rtp, python-gstreamer

我正在尝试将多个 rtp h264 有效负载视频流混合成一个 15FPS 的视频流。

在 15FPS 的 videotestsource 模式上混合两个视频流的工作管道

```
VIDEO_CAPS="application/x-rtp,media=(string)video,clock-rate=(int)90000,encoding-name=(string)H264"

gst-launch -vvvve videomixer2 name=mix ! ffmpegcolorspace ! xvimagesink  

udpsrc caps=$VIDEO_CAPS port=3030 ! .recv_rtp_sink_0 gstrtpbin ! rtph264depay ! ffdec_h264  ! videoscale ! video/x-raw-yuv , width=176, height=144 ! videobox top=0 left=0 ! video/x-raw-yuv,format=\(fourcc\)AYUV ! ffmpegcolorspace !  mix.  

udpsrc caps=$VIDEO_CAPS port=6666 ! .recv_rtp_sink_0 gstrtpbin ! rtph264depay ! ffdec_h264  ! videoscale ! video/x-raw-yuv , width=176, height=144 ! videobox top=0 left=-178 ! video/x-raw-yuv,format=\(fourcc\)AYUV ! ffmpegcolorspace !  mix. 

videotestsrc ! video/x-raw-yuv, framerate=15/1, width=640, height=360 ! mix. 
```

**上面的管道有一个奇怪的问题，**当尝试混合时，第一个视频源变为空白，（我确定第一个视频源仍在进行流式传输，但它没有出现。而是第二个视频流如下所示。

**上述管道的详细信息**

```
/GstPipeline:pipeline0/GstVideoTestSrc:videotestsrc0.GstPad:src: caps = video/x-raw-yuv, format=(fourcc)AYUV, width=(int)640, height=(int)360, framerate=(fraction)15/1, pixel-aspect-ratio=(fraction)1/1, color-matrix=(string)sdtv
Pipeline is live and does not need PREROLL ...
Setting pipeline to PLAYING ...
New clock: GstSystemClock
/GstPipeline:pipeline0/GstCapsFilter:capsfilter0.GstPad:src: caps = video/x-raw-yuv, format=(fourcc)AYUV, width=(int)640, height=(int)360, framerate=(fraction)15/1, pixel-aspect-ratio=(fraction)1/1, color-matrix=(string)sdtv
/GstPipeline:pipeline0/GstCapsFilter:capsfilter0.GstPad:sink: caps = video/x-raw-yuv, format=(fourcc)AYUV, width=(int)640, height=(int)360, framerate=(fraction)15/1, pixel-aspect-ratio=(fraction)1/1, color-matrix=(string)sdtv
/GstPipeline:pipeline0/GstVideoMixer2:mix.GstPad:src: caps = video/x-raw-yuv, format=(fourcc)AYUV, width=(int)640, height=(int)360, framerate=(fraction)15/1, pixel-aspect-ratio=(fraction)1/1
/GstPipeline:pipeline0/GstVideoMixer2:mix.GstVideoMixer2Pad:sink_0: caps = video/x-raw-yuv, format=(fourcc)AYUV, width=(int)640, height=(int)360, framerate=(fraction)15/1, pixel-aspect-ratio=(fraction)1/1, color-matrix=(string)sdtv
/GstPipeline:pipeline0/GstRtpBin:rtpbin0/GstRtpSession:rtpsession0.GstPad:recv_rtp_sink: caps = application/x-rtp, media=(string)video, clock-rate=(int)90000, encoding-name=(string)H264
/GstPipeline:pipeline0/GstRtpBin:rtpbin0.GstGhostPad:recv_rtp_sink_0: caps = application/x-rtp, media=(string)video, clock-rate=(int)90000, encoding-name=(string)H264
/GstPipeline:pipeline0/GstRtpBin:rtpbin0.GstGhostPad:recv_rtp_sink_0.GstProxyPad:proxypad0: caps = application/x-rtp, media=(string)video, clock-rate=(int)90000, encoding-name=(string)H264
/GstPipeline:pipeline0/GstRtpBin:rtpbin0/GstRtpSession:rtpsession0.GstPad:recv_rtp_src: caps = application/x-rtp, media=(string)video, clock-rate=(int)90000, encoding-name=(string)H264
/GstPipeline:pipeline0/GstRtpBin:rtpbin0/GstRtpSsrcDemux:rtpssrcdemux0.GstPad:sink: caps = application/x-rtp, media=(string)video, clock-rate=(int)90000, encoding-name=(string)H264
/GstPipeline:pipeline0/GstRtpBin:rtpbin0/GstRtpJitterBuffer:rtpjitterbuffer0.GstPad:src: caps = application/x-rtp, media=(string)video, clock-rate=(int)90000, encoding-name=(string)H264
/GstPipeline:pipeline0/GstRtpBin:rtpbin0/GstRtpJitterBuffer:rtpjitterbuffer0.GstPad:sink: caps = application/x-rtp, media=(string)video, clock-rate=(int)90000, encoding-name=(string)H264
/GstPipeline:pipeline0/GstRtpBin:rtpbin1/GstRtpSession:rtpsession1.GstPad:recv_rtp_sink: caps = application/x-rtp, media=(string)video, clock-rate=(int)90000, encoding-name=(string)H264
/GstPipeline:pipeline0/GstRtpBin:rtpbin1.GstGhostPad:recv_rtp_sink_0: caps = application/x-rtp, media=(string)video, clock-rate=(int)90000, encoding-name=(string)H264
/GstPipeline:pipeline0/GstRtpBin:rtpbin1.GstGhostPad:recv_rtp_sink_0.GstProxyPad:proxypad1: caps = application/x-rtp, media=(string)video, clock-rate=(int)90000, encoding-name=(string)H264
/GstPipeline:pipeline0/GstRtpBin:rtpbin1/GstRtpSession:rtpsession1.GstPad:recv_rtp_src: caps = application/x-rtp, media=(string)video, clock-rate=(int)90000, encoding-name=(string)H264
/GstPipeline:pipeline0/GstRtpBin:rtpbin1/GstRtpSsrcDemux:rtpssrcdemux1.GstPad:sink: caps = application/x-rtp, media=(string)video, clock-rate=(int)90000, encoding-name=(string)H264
/GstPipeline:pipeline0/GstRtpBin:rtpbin1/GstRtpJitterBuffer:rtpjitterbuffer1.GstPad:src: caps = application/x-rtp, media=(string)video, clock-rate=(int)90000, encoding-name=(string)H264
/GstPipeline:pipeline0/GstRtpBin:rtpbin1/GstRtpJitterBuffer:rtpjitterbuffer1.GstPad:sink: caps = application/x-rtp, media=(string)video, clock-rate=(int)90000, encoding-name=(string)H264
/GstPipeline:pipeline0/GstRtpBin:rtpbin0/GstRtpPtDemux:rtpptdemux0.GstPad:sink: caps = application/x-rtp, media=(string)video, clock-rate=(int)90000, encoding-name=(string)H264
/GstPipeline:pipeline0/GstRtpH264Depay:rtph264depay0.GstPad:src: caps = video/x-h264, stream-format=(string)byte-stream, alignment=(string)nal
/GstPipeline:pipeline0/GstRtpH264Depay:rtph264depay0.GstPad:sink: caps = application/x-rtp, media=(string)video, clock-rate=(int)90000, encoding-name=(string)H264, payload=(int)99
/GstPipeline:pipeline0/GstRtpBin:rtpbin0.GstGhostPad:recv_rtp_src_0_4186542290_99.GstProxyPad:proxypad2: caps = application/x-rtp, media=(string)video, clock-rate=(int)90000, encoding-name=(string)H264, payload=(int)99
/GstPipeline:pipeline0/ffdec_h264:ffdec_h2640.GstPad:sink: caps = video/x-h264, stream-format=(string)byte-stream, alignment=(string)nal
/GstPipeline:pipeline0/GstRtpBin:rtpbin1/GstRtpPtDemux:rtpptdemux1.GstPad:sink: caps = application/x-rtp, media=(string)video, clock-rate=(int)90000, encoding-name=(string)H264
/GstPipeline:pipeline0/GstRtpH264Depay:rtph264depay1.GstPad:src: caps = video/x-h264, stream-format=(string)byte-stream, alignment=(string)nal
/GstPipeline:pipeline0/GstRtpH264Depay:rtph264depay1.GstPad:sink: caps = application/x-rtp, media=(string)video, clock-rate=(int)90000, encoding-name=(string)H264, payload=(int)99
/GstPipeline:pipeline0/GstRtpBin:rtpbin1.GstGhostPad:recv_rtp_src_0_4186622237_99.GstProxyPad:proxypad3: caps = application/x-rtp, media=(string)video, clock-rate=(int)90000, encoding-name=(string)H264, payload=(int)99
/GstPipeline:pipeline0/ffdec_h264:ffdec_h2641.GstPad:sink: caps = video/x-h264, stream-format=(string)byte-stream, alignment=(string)nal
/GstPipeline:pipeline0/ffdec_h264:ffdec_h2640.GstPad:src: caps = video/x-raw-yuv, width=(int)176, height=(int)144, framerate=(fraction)15/1, format=(fourcc)I420, interlaced=(boolean)false
/GstPipeline:pipeline0/GstVideoScale:videoscale0.GstPad:src: caps = video/x-raw-yuv, width=(int)176, height=(int)144, framerate=(fraction)15/1, format=(fourcc)I420, interlaced=(boolean)false
/GstPipeline:pipeline0/GstVideoScale:videoscale0.GstPad:sink: caps = video/x-raw-yuv, width=(int)176, height=(int)144, framerate=(fraction)15/1, format=(fourcc)I420, interlaced=(boolean)false
/GstPipeline:pipeline0/GstCapsFilter:capsfilter1.GstPad:src: caps = video/x-raw-yuv, width=(int)176, height=(int)144, framerate=(fraction)15/1, format=(fourcc)I420, interlaced=(boolean)false
/GstPipeline:pipeline0/GstCapsFilter:capsfilter1.GstPad:sink: caps = video/x-raw-yuv, width=(int)176, height=(int)144, framerate=(fraction)15/1, format=(fourcc)I420, interlaced=(boolean)false
/GstPipeline:pipeline0/GstVideoBox:videobox0.GstPad:src: caps = video/x-raw-yuv, format=(fourcc)AYUV, width=(int)176, height=(int)144, framerate=(fraction)15/1, pixel-aspect-ratio=(fraction)1/1, interlaced=(boolean)false
/GstPipeline:pipeline0/GstVideoBox:videobox0.GstPad:sink: caps = video/x-raw-yuv, width=(int)176, height=(int)144, framerate=(fraction)15/1, format=(fourcc)I420, interlaced=(boolean)false
/GstPipeline:pipeline0/GstCapsFilter:capsfilter2.GstPad:src: caps = video/x-raw-yuv, format=(fourcc)AYUV, width=(int)176, height=(int)144, framerate=(fraction)15/1, pixel-aspect-ratio=(fraction)1/1, interlaced=(boolean)false
/GstPipeline:pipeline0/GstCapsFilter:capsfilter2.GstPad:sink: caps = video/x-raw-yuv, format=(fourcc)AYUV, width=(int)176, height=(int)144, framerate=(fraction)15/1, pixel-aspect-ratio=(fraction)1/1, interlaced=(boolean)false
/GstPipeline:pipeline0/GstFFMpegCsp:ffmpegcsp1.GstPad:src: caps = video/x-raw-yuv, format=(fourcc)AYUV, width=(int)176, height=(int)144, framerate=(fraction)15/1, pixel-aspect-ratio=(fraction)1/1, interlaced=(boolean)false
/GstPipeline:pipeline0/GstFFMpegCsp:ffmpegcsp1.GstPad:sink: caps = video/x-raw-yuv, format=(fourcc)AYUV, width=(int)176, height=(int)144, framerate=(fraction)15/1, pixel-aspect-ratio=(fraction)1/1, interlaced=(boolean)false
/GstPipeline:pipeline0/GstVideoMixer2:mix.GstVideoMixer2Pad:sink_1: caps = video/x-raw-yuv, format=(fourcc)AYUV, width=(int)176, height=(int)144, framerate=(fraction)15/1, pixel-aspect-ratio=(fraction)1/1, interlaced=(boolean)false
/GstPipeline:pipeline0/ffdec_h264:ffdec_h2641.GstPad:src: caps = video/x-raw-yuv, width=(int)176, height=(int)144, framerate=(fraction)15/1, format=(fourcc)I420, interlaced=(boolean)false
/GstPipeline:pipeline0/GstVideoScale:videoscale1.GstPad:src: caps = video/x-raw-yuv, width=(int)176, height=(int)144, framerate=(fraction)15/1, format=(fourcc)I420, interlaced=(boolean)false
/GstPipeline:pipeline0/GstVideoScale:videoscale1.GstPad:sink: caps = video/x-raw-yuv, width=(int)176, height=(int)144, framerate=(fraction)15/1, format=(fourcc)I420, interlaced=(boolean)false
/GstPipeline:pipeline0/GstCapsFilter:capsfilter3.GstPad:src: caps = video/x-raw-yuv, width=(int)176, height=(int)144, framerate=(fraction)15/1, format=(fourcc)I420, interlaced=(boolean)false
/GstPipeline:pipeline0/GstCapsFilter:capsfilter3.GstPad:sink: caps = video/x-raw-yuv, width=(int)176, height=(int)144, framerate=(fraction)15/1, format=(fourcc)I420, interlaced=(boolean)false
/GstPipeline:pipeline0/GstVideoBox:videobox1.GstPad:src: caps = video/x-raw-yuv, format=(fourcc)AYUV, width=(int)354, height=(int)144, framerate=(fraction)15/1, pixel-aspect-ratio=(fraction)1/1, interlaced=(boolean)false
/GstPipeline:pipeline0/GstVideoBox:videobox1.GstPad:sink: caps = video/x-raw-yuv, width=(int)176, height=(int)144, framerate=(fraction)15/1, format=(fourcc)I420, interlaced=(boolean)false
/GstPipeline:pipeline0/GstCapsFilter:capsfilter4.GstPad:src: caps = video/x-raw-yuv, format=(fourcc)AYUV, width=(int)354, height=(int)144, framerate=(fraction)15/1, pixel-aspect-ratio=(fraction)1/1, interlaced=(boolean)false
/GstPipeline:pipeline0/GstCapsFilter:capsfilter4.GstPad:sink: caps = video/x-raw-yuv, format=(fourcc)AYUV, width=(int)354, height=(int)144, framerate=(fraction)15/1, pixel-aspect-ratio=(fraction)1/1, interlaced=(boolean)false
/GstPipeline:pipeline0/GstFFMpegCsp:ffmpegcsp2.GstPad:src: caps = video/x-raw-yuv, format=(fourcc)AYUV, width=(int)354, height=(int)144, framerate=(fraction)15/1, pixel-aspect-ratio=(fraction)1/1, interlaced=(boolean)false
/GstPipeline:pipeline0/GstFFMpegCsp:ffmpegcsp2.GstPad:sink: caps = video/x-raw-yuv, format=(fourcc)AYUV, width=(int)354, height=(int)144, framerate=(fraction)15/1, pixel-aspect-ratio=(fraction)1/1, interlaced=(boolean)false
/GstPipeline:pipeline0/GstVideoMixer2:mix.GstVideoMixer2Pad:sink_2: caps = video/x-raw-yuv, format=(fourcc)AYUV, width=(int)354, height=(int)144, framerate=(fraction)15/1, pixel-aspect-ratio=(fraction)1/1, interlaced=(boolean)false
/GstPipeline:pipeline0/GstFFMpegCsp:ffmpegcsp0.GstPad:src: caps = video/x-raw-yuv, format=(fourcc)YUY2, width=(int)640, height=(int)360, framerate=(fraction)15/1, pixel-aspect-ratio=(fraction)1/1
/GstPipeline:pipeline0/GstFFMpegCsp:ffmpegcsp0.GstPad:sink: caps = video/x-raw-yuv, format=(fourcc)AYUV, width=(int)640, height=(int)360, framerate=(fraction)15/1, pixel-aspect-ratio=(fraction)1/1
/GstPipeline:pipeline0/GstXvImageSink:xvimagesink0.GstPad:sink: caps = video/x-raw-yuv, format=(fourcc)YUY2, width=(int)640, height=(int)360, framerate=(fraction)15/1, pixel-aspect-ratio=(fraction)1/1
WARNING: from element /GstPipeline:pipeline0/GstXvImageSink:xvimagesink0: A lot of buffers are being dropped.
Additional debug info:
gstbasesink.c(2875): gst_base_sink_is_too_late (): /GstPipeline:pipeline0/GstXvImageSink:xvimagesink0:
There may be a timestamping problem, or this computer is too slow. 
```

![第一个视频流丢失](../Images/dd5d1bdebc57204c35846375c0a0b46f.png) ![第一个视频流](../Images/5a038b0820f85e5bbad63bd0388f1948.png)

我高度怀疑它与videobox有关。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-02-08T13:29:43.187

（在问题编辑中回答。转换为社区 wiki 答案。请参阅[将问题的答案添加到问题本身时的适当操作是什么？](https://meta.stackoverflow.com/questions/267434/what-is-the-appropriate-action-when-the-answer-to-a-question-is-added-to-the-que)）

OP写道：

> 正如我所说，这个问题与 videobox 有关，我们必须添加 videobox border-alpha=0 或 alpha 通道。
> 
> 功能齐全的管道：接受 3 个 RTP h264 视频并在视频测试模式上混合。
> 
> ```
> gst-launch -vvvve videomixer2 name=mix ! ffmpegcolorspace ! xvimagesink sync=false  udpsrc caps=$VIDEO_CAPS port=3030 ! .recv_rtp_sink_0 gstrtpbin ! rtph264depay ! ffdec_h264  ! videoscale ! video/x-raw-yuv , width=176, height=144 ! videobox border-alpha=0 top=0 left=0 ! video/x-raw-yuv,format=\(fourcc\)AYUV ! ffmpegcolorspace !  mix.  udpsrc caps=$VIDEO_CAPS port=6666 ! .recv_rtp_sink_0 gstrtpbin ! rtph264depay ! ffdec_h264  ! videoscale ! video/x-raw-yuv , width=176, height=144 ! videobox border-alpha=0 top=0 left=-176 ! video/x-raw-yuv,format=\(fourcc\)AYUV ! ffmpegcolorspace !  mix. udpsrc caps=$VIDEO_CAPS port=2222 ! .recv_rtp_sink_0 gstrtpbin ! rtph264depay ! ffdec_h264  ! videoscale ! video/x-raw-yuv , width=176, height=144 ! videobox border-alpha=0 top=-144 left=0 ! video/x-raw-yuv,format=\(fourcc\)AYUV ! mix. videotestsrc ! video/x-raw-yuv, framerate=15/1, width=352, height=288 ! mix. 
> ```

![在此处输入图像描述](../Images/ab589da3f36727a052bb9dcbee969ba1.png)

# javascript - 两个重叠形状上的鼠标悬停事件

> ID：14117428
> 
> 赞同：4
> 
> 时间：2013-01-02T05:49:20.153
> 
> 标签：javascript, kineticjs

嗨，我有两个重叠的形状（在 KineticJs 中的实现）。如果鼠标悬停在它们上方，我想更改这些形状的颜色。如果鼠标悬停在重叠（交叉）区域上方，我希望两个形状都改变颜色。然而，只有最上面的形状会改变颜色。

[http://jsfiddle.net/sandeepy02/NST8C/](http://jsfiddle.net/sandeepy02/NST8C/)的示例，如果我将鼠标悬停在 pverlapped 区域上，我希望两个矩形的颜色都是黑色的。

```
stage = new Kinetic.Stage({
    container: "container",
    width: 320,
    height: 320
});
layer = new Kinetic.Layer();
elemOne = new Kinetic.Rect({
    x: 100,
    y: 100,
    width: 100,
    height: 100,
    fill: 'red',
    stroke: 'black',
    strokeWidth: 0,
    draggable: false
});
elemOne.on('mousemove', function() {
    this.setFill("black");
    this.setZIndex(10);
    layer.draw();
});
elemOne.on('mouseout', function() {
    this.setFill("red");
    this.setZIndex(1);
            layer.draw();
});
elemTwo = new Kinetic.Rect({
    x: 150,
    y: 150,
    width: 100,
    height: 100,
    fill: 'green',
    stroke: 'black',
    strokeWidth: 0,
    draggable: false
});
elemTwo.on('mousemove', function() {
    this.setFill("black");
    this.setZIndex(10);
            layer.draw();
});
elemTwo.on('mouseout', function() {
    this.setFill("green");
    this.setZIndex(1);
             layer.draw();
});
layer.add(elemOne);
layer.add(elemTwo);
stage.add(layer); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-02T06:13:05.890

mouseover 事件将为 z-index 较大的元素触发，因此当您将鼠标悬停在 elemOne 或 elemTwo 上（即使您将鼠标悬停在重叠区域上）并将其 z-index 设置为 10 时，只有 z-index 较大的元素会触发鼠标悬停事件。

您如何将鼠标悬停委托给“舞台”，然后计算鼠标悬停偏移量是否在重叠区域？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-04T05:00:29.090

Kinda 通过创建背景元素并观察`mouseposition`每个动作来解决它。在 each`mousemove`中，我计算鼠标位置是否在每个元素内。如果是，则更改颜色。演示：http: [//jsfiddle.net/sandeepy02/NST8C/5/](http://jsfiddle.net/sandeepy02/NST8C/5/)

资源：

```
stage = new Kinetic.Stage({
    container: "container",
    width: 500,
    height: 500
});
background = new Kinetic.Rect({
    x: 0,
    y: 0,
    width: 500,
    height: 500,
    fill: 'white',
    stroke: 'white',
    strokeWidth: 0,
    draggable: false,
});
layer = new Kinetic.Layer();
elemOne = new Kinetic.Rect({
    x: 100,
    y: 100,
    width: 100,
    height: 100,
    fill: 'red',
    stroke: 'black',
    strokeWidth: 0,
    draggable: false,
    name: 'elem',
    id: 1,
    col: 'red'
});

elemTwo = new Kinetic.Rect({
    x: 150,
    y: 150,
    width: 100,
    height: 100,
    fill: 'green',
    stroke: 'black',
    strokeWidth: 0,
    draggable: false,
    name: 'elem',
    id: 2,
    col: 'green'
});

stage.on('mousemove', function() {
    //alert("a");
    var mousePos = stage.getMousePosition();
    var shapes = stage.get('.elem');
    var i;
    for (i = 0; i < shapes.length; i++) {
        if (shapes[i].intersects(mousePos.x, mousePos.y)) {
            shapes[i].setFill("black");
        }
        else {
            if (shapes[i].getId() == 1) {
                shapes[i].setFill("red");
            }
            else shapes[i].setFill("green");
        }
    }
    layer.draw();
});
layer.add(background);
layer.add(elemOne);
layer.add(elemTwo);
stage.add(layer); 
```

显然我并不为它的性能感到自豪，因为`mousemove`我正在检查每个元素。`mousedown`如果我要检查or ，性能应该不是问题`click`，但我认为在这个广阔的世界中有人可以提供更好的解决方案？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-02T07:30:58.927

我试图通过引入重叠的第三个元素来做到这一点，请在[**fiddle Here**](http://jsfiddle.net/NST8C/1/)上找到。

有一些循环孔，例如，不能使用 Stroke 即边框到框。也可能是其他一些。

祝你好运。

这是代码

```
 stage = new Kinetic.Stage({
        container: "container",
        width: 320,
        height: 320
    });
    layer = new Kinetic.Layer();
    elemOne = new Kinetic.Rect({
        x: 100,
        y: 100,
        width: 100,
        height: 100,
        fill: 'red',
//        stroke: 'black',
        strokeWidth: 0,
        draggable: false,
        globalalpha: 0.5
    });
    elemOne.on('mousemove', function() {
        this.setFill("black");
        elemThree.setFill("black");         
//        this.setZIndex(10);
        layer.draw();
    });
    elemOne.on('mouseout', function() {
        elemThree.setFill("red");
        this.setFill("red");
//        this.setZIndex(1);
        layer.draw();
    });
    elemTwo = new Kinetic.Rect({
        x: 150,
        y: 150,
        width: 100,
        height: 100,
        fill: 'green',
//        stroke: 'black',
        strokeWidth: 0,
        draggable: false,
        globalalpha: 0.5        
    });
    elemTwo.on('mousemove', function() {
        this.setFill("black");
        elemThree.setFill("black");         
//        this.setZIndex(10);
        layer.draw();
    });
    elemTwo.on('mouseout', function() {
        elemThree.setFill("green");
        this.setFill("green");
//        this.setZIndex(1);
        layer.draw();
    });
    elemThree = new Kinetic.Rect({
        x: 150,
        y: 150,
        width: 50,
        height: 50,
//        stroke: 'black',
        strokeWidth: 0,
        draggable: false,
        zindex: 100
    });
    elemThree.on('mousemove', function() {
        elemOne.setFill("black");
        elemTwo.setFill("black");
        elemThree.setFill("black");
//        this.setZIndex(10);
        layer.draw();
    });
    elemThree.on('mouseout', function() {
        elemOne.setFill("red");
        elemTwo.setFill("green");        
        layer.draw();
    });

    layer.add(elemTwo);
    layer.add(elemOne);
    layer.add(elemThree);
    stage.add(layer);
​ 
```

# sql - TSQL 获取插入的 ID

> ID：14117435
> 
> 赞同：3
> 
> 时间：2013-01-02T05:49:52.073
> 
> 标签：sql, sql-server, tsql

之前有人问过这个问题......但我似乎无法找到我正在寻找的确切答案......我需要插入一堆记录并取回插入的身份值......我正在做这：

```
INSERT MyTable(col1, ....)
OUTPUT inserted.IdentityColumn
SELECT p.i.value('@XmlAttribute', 'nvarchar(128)') FROM @myXml.nodes('/root/i') AS p(i) 
```

这工作正常...

输入带有可更新订阅的 SQL 事务复制，它将触发器放在订阅者的复制表上。

OUTPUT 在这种情况下不再起作用...

所以，我现在正在这样做......但我对此有一种不好的感觉，我认为我已经打开了并发问题的大门（尽管我并不积极）。

```
SET TRANSACTION ISOLATION LEVEL SERIALIZABLE  
DECLARE @currentIdentity bigint
SET @currentIdentity = SELECT IDENT_CURRENT('MyTable') + 1
...
SELECT IdentityColumn FROM MyTable WHERE IdentityColumn <= IDENT_CURRENT('MyTable') AND IdentityColumn >= @currentIdentity 
```

建议？这也很糟糕，因为该方法不适用于生成的唯一标识符。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-02T07:25:30.460

您可以使用该变量的`OUTPUT`插入到表变量中。从[文档](http://msdn.microsoft.com/en-gb/library/ms177564.aspx)中：

> 如果在**未指定 INTO 关键字**的情况下指定了 OUTPUT 子句，则 DML 操作的目标不能为给定的 DML 操作定义任何启用的触发器。例如，如果在 UPDATE 语句中定义了 OUTPUT 子句，则目标表不能有任何启用的 UPDATE 触发器。

（**重点**补充）

因此，您可以拥有：

```
DECLARE @IDs table (ID int not null)
INSERT MyTable(col1, ....)
OUTPUT inserted.IdentityColumn INTO @IDs
SELECT p.i.value('@XmlAttribute', 'nvarchar(128)') FROM @myXml.nodes('/root/i') AS p(i)

SELECT * from @IDs 
```

除非您正在处理例如行计数消息，否则它将具有与原始行为大致相同的行为。

# vb.net - 使用 vb.net 制作应用程序。可以从选定的数据库中打印数据

> ID：14117436
> 
> 赞同：-2
> 
> 时间：2013-01-02T05:50:19.723
> 
> 标签：vb.net

你好任何人都可以帮助我。如何查看数据并可以使用 vb.net 语言使用任何按钮打印数据（同时也会排列数据）。任何人请帮助我。:(

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-02T05:55:09.437

您可以将 RDLC 与 ReportViewer 一起使用来显示和打印报告

*   [http://msdn.microsoft.com/en-us/library/ms252067.aspx](http://msdn.microsoft.com/en-us/library/ms252067.aspx)
*   [http://weblogs.asp.net/rajbk/archive/2010/05/09/creating-an-asp-net-report-using-visual-studio-2010-part-1.aspx](http://weblogs.asp.net/rajbk/archive/2010/05/09/creating-an-asp-net-report-using-visual-studio-2010-part-1.aspx)
*   [RDLC代码教程](https://stackoverflow.com/questions/2739059/rdlc-code-tutorial)

# java - 如何在物理密集型多人游戏中防止作弊

> ID：14117439
> 
> 赞同：4
> 
> 时间：2013-01-02T05:50:35.330
> 
> 标签：java, physics, multiplayer

我正在计划一个基于物理的多人竞技游戏，用 Java 编写。它将涉及大量的碰撞检测和流体模拟，出于服务器负载的原因，我想在客户端进行。每个玩家都可以控制一辆车辆，可以完全独立于其他车辆进行模拟。

[在我的情况下，多人台球游戏物理模拟](https://stackoverflow.com/questions/9966734/multiplayer-billiards-game-physics-simulation)（模拟服务器端！）中公认的答案是完全不切实际的。只模拟几辆车会消耗中端 PC 的大部分资源。

我正在考虑让客户模拟他们自己的车辆，服务器将他们的结果广播给其他客户并调解碰撞。通过使用服务器的备用 CPU 进行偶尔的物理审计，可以在一定程度上防止作弊。客户不知道他们何时被审计，因为他们无论如何都在发送所需的状态。

你会怎么办？这个项目只是为了好玩，所以如果有人作弊，我不会失去任何东西。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T07:25:02.513

在您提到的条件下，您可以做的减少服务器负载的方法是让每个客户端模拟自己的车辆，加上一个或多个随机的车辆，这些车辆每隔一段时间随机变化。

这可以减少审核所需的服务器资源数量，从而使您的审核更加频繁。如果您发现不同玩家报告的数字存在差异，您的服务器可以检查谁在作弊（被审计者或审计者）。如果您让每个玩家的变量由两个或多个其他玩家计算，随机选择并以足够频繁的间隔进行更改，则可以降低玩家组队作弊的可能性。

如果您在 Java (JVM) 环境下编写服务器代码，那么[Akka](http://akka.io)是一个可以帮助您分配计算的库。

# iphone - 在每个视图上显示底部栏

> ID：14117446
> 
> 赞同：1
> 
> 时间：2013-01-02T05:51:18.407
> 
> 标签：iphone, uiview

我想在每个 UIViewController 上都有这个底栏，我首先把它作为标签栏，但后来我把它改成了 UIView，因为我需要滚动条，因为它包含更多按钮，但现在的问题是如何在上面显示这个栏每个 UIViewController 以及我应该在哪里声明它。任何人都可以指导我。

提前致谢。

![界面视图](../Images/22e53fbb5731e04ca64b0164f5936546.png)

这样，我将 UIView 设置为 UIViewController 之一中的底栏。

```
viewBotBar = [[UIView alloc]initWithFrame:CGRectMake(0, 380, 320, 79)];
viewBotBar.backgroundColor = [UIColor colorWithPatternImage:[UIImage imageNamed:@"1aa.png"]];
[self.view addSubview:viewBotBar]; 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-02T08:09:49.060

嗨，亲爱的朋友，我只是用谷歌搜索它，我找到了最适合你的教程，请下载下面链接的示例：-

[https://github.com/a1phanumeric/PeekabooTabBarController](https://github.com/a1phanumeric/PeekabooTabBarController)

听到的是演示图片：-

![在此处输入图像描述](../Images/f689bb25da2754df3f991d31bc4c6856.png)

希望它对你有最好的帮助:)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-02T05:55:47.600

只需在窗口中为每个视图添加此视图，如下所示..

将此方法写入`AppDelegate.m`文件并在添加rootViewController后调用此方法..

```
-(void)addCustomBottomBar{
    [UIView beginAnimations:nil context:NULL];
    [UIView setAnimationDuration:0.5];
    [UIView setAnimationTransition:UIViewAnimationTransitionNone forView:self.window cache:YES];

    viewBotBar = [[UIView alloc]initWithFrame:CGRectMake(0, 380, 320, 79)];
    viewBotBar.backgroundColor = [UIColor colorWithPatternImage:[UIImage imageNamed:@"1aa.png"]];
    [self.window addSubview:viewBotBar];
    [self.window bringSubviewToFront:viewBotBar];

    [UIView commitAnimations];
} 
```

**更新：**

请参阅自定义 TabBar 的这些链接。

1.  [自定义标签栏](http://www.cocoacontrols.com/search?utf8=%E2%9C%93&q=tabbar)
2.  [RXCustomTabBar](https://github.com/rumex/RXCustomTabBar)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-02T06:05:22.407

您可以创建一个类文件。然后为自定义选项卡实现一种方法并尝试在每个视图控制器上调用此方法。然后用那个类的对象添加这个栏。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-02T05:56:48.427

首先访问窗口对象，如

```
 UIWindow *window = [UIApplication sharedApplication].keyWindow;
viewBotBar = [[UIView alloc]initWithFrame:CGRectMake(0, 380, 320, 79)];
viewBotBar.backgroundColor = [UIColor colorWithPatternImage:[UIImage imageNamed:@"1aa.png"]];
window addSubView:viewBotBar]; 
```

# android - Android：在列表视图中打开

> ID：14117449
> 
> 赞同：1
> 
> 时间：2013-01-02T05:51:26.823
> 
> 标签：android, listview, onfling

![当我从左向右滑动诗歌按钮列表视图时，它在文章按钮列表视图上移动，与文章按钮相同，以推文按钮列表视图](../Images/54b298b9be070fb00a1276cf1694282e.png)

我是android新手，我想在listview中实现onfling手势，[当我从左向右滑动诗歌按钮listview时，它在文章按钮listview上移动，与文章按钮到tweet按钮listview相同]请提前帮助thanxs

我的代码..

```
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.inspire);       
     DisplayMetrics dm = getResources().getDisplayMetrics();
     REL_SWIPE_MIN_DISTANCE = (int)(120.0f * dm.densityDpi / 160.0f + 0.5); 
     REL_SWIPE_MAX_OFF_PATH = (int)(250.0f * dm.densityDpi / 160.0f + 0.5);
     REL_SWIPE_THRESHOLD_VELOCITY = (int)(200.0f * dm.densityDpi / 160.0f + 0.5);

    Context contex;
    activity = this;

    rowItems = fetchTwitterPublicTimeline();
    rowItems1 = fetchTwitterPublicTimeline1();
    rowItems2 = fetchTwitterPublicTimeline2();

    btn1 = (Button) findViewById(R.id.button1);
    btn2 = (Button) findViewById(R.id.button2);
    btn3 = (Button) findViewById(R.id.button3);

    TextView txtDesc = (TextView) findViewById(R.id.desc);
    TextView txtTitle = (TextView) findViewById(R.id.title);
    ImageView imageView = (ImageView) findViewById(R.id.icon);      

    final ListView listView = (ListView) findViewById(R.id.listview);
    adapter = new InspireAdapter(this, R.layout.row, rowItems);
    listView.setAdapter(adapter);

    final GestureDetector gestureDetector = new GestureDetector(
            new MyGestureDetector());
    View.OnTouchListener gestureListener = new View.OnTouchListener() {
        public boolean onTouch(View v, MotionEvent event) {
            return gestureDetector.onTouchEvent(event);
        }
    };

    listView.setOnTouchListener(gestureListener);       
    OnItemClickListener listener = new OnItemClickListener() {
        public void onItemClick(AdapterView<?> parent, View view,
                final int position, long id) {
    };

    listView.setOnItemClickListener(listener);

    final ListView listView1 = (ListView) findViewById(R.id.listview);
    adapter1 = new InspireAdapter1(this, R.layout.row1, rowItems1);

    final GestureDetector gestureDetector1 = new GestureDetector(
            new MyGestureDetector1());
    View.OnTouchListener gestureListener1 = new View.OnTouchListener() {
        public boolean onTouch(View v, MotionEvent event) {
            return gestureDetector1.onTouchEvent(event);
        }
    };
    listView1.setOnTouchListener(gestureListener1);

    // listView1.setAdapter(adapter1);
    OnItemClickListener listener1 = new OnItemClickListener() {
        public void onItemClick(AdapterView<?> parent, View view,
                int position, long id) {
        }
    };
    listView2.setOnItemClickListener(listener2);

    btn1.setOnClickListener(new OnClickListener() {
        public void onClick(View v) {
            listView1.setVisibility(View.GONE);
            listView.setVisibility(View.VISIBLE);
            listView2.setVisibility(View.GONE);

            btn1.setTextColor(Color.BLACK);
            btn2.setTextColor(Color.WHITE);
            btn3.setTextColor(Color.WHITE);
        }
    });

    btn2.setOnClickListener(new OnClickListener() {
        public void onClick(View v) {

        }
    });

    btn3.setOnClickListener(new OnClickListener() {
        public void onClick(View v) {
            listView2.setVisibility(View.VISIBLE);
            listView1.setVisibility(View.GONE);
            listView.setVisibility(View.GONE);
            listView2.setAdapter(adapter2);
            btn3.setTextColor(Color.BLACK);
            btn1.setTextColor(Color.WHITE);
            btn2.setTextColor(Color.WHITE);
        }
    });
}

private void Right2Left() {

    Toast.makeText(this, "Right-to-left fling", Toast.LENGTH_SHORT).show();     
     final ListView listView2 = (ListView) findViewById(R.id.listview);
     adapter2 = new InspireAdapter2(this, R.layout.row2, rowItems2);
     listView2.setAdapter(adapter2);

       btn3.setTextColor(Color.BLACK);
       btn1.setTextColor(Color.WHITE);
       btn2.setTextColor(Color.WHITE);   
}
private void Left2Right() {
     Toast.makeText(this, "Left-to-right fling", Toast.LENGTH_SHORT).show();

     final ListView listView1 = (ListView) findViewById(R.id.listview);
     adapter1 = new InspireAdapter1(this, R.layout.row1, rowItems1);
     listView1.setAdapter(adapter1);

     btn2.setTextColor(Color.BLACK);
     btn1.setTextColor(Color.WHITE);
     btn3.setTextColor(Color.WHITE);        
}

class MyGestureDetector extends SimpleOnGestureListener {       
    @Override 
    public boolean onSingleTapUp(MotionEvent e) {           
         ListView listView =  getListView();
         ListView listView1 = getListView();
         ListView listView2 = getListView();
          return false;
    }
    @Override
    public boolean onSingleTapConfirmed(MotionEvent e) {
        // TODO Auto-generated method stub
            Log.e("Item Click","Item Click");
        return super.onSingleTapConfirmed(e);
    }

    private ListView getListView() {
        // TODO Auto-generated method stub
        return null;
    }

    @Override
    public boolean onFling(MotionEvent e1, MotionEvent e2, float velocityX, float velocityY) { 
        if (Math.abs(e1.getY() - e2.getY()) > REL_SWIPE_MAX_OFF_PATH) 
            return false; 
        if(e1.getX() - e2.getX() > REL_SWIPE_MIN_DISTANCE && 
            Math.abs(velocityX) > REL_SWIPE_THRESHOLD_VELOCITY) {               
            Right2Left();                                
        }  else if (e2.getX() - e1.getX() > REL_SWIPE_MIN_DISTANCE && 
            Math.abs(velocityX) > REL_SWIPE_THRESHOLD_VELOCITY) {               
            Left2Right();                                
        } else if (e2.getX() - e1.getX() > REL_SWIPE_MIN_DISTANCE && 
            Math.abs(velocityX) > REL_SWIPE_THRESHOLD_VELOCITY) {               
            Left2Right123();
        }
        return true; 
    }        

    @Override
    public boolean onDown(MotionEvent e) {           
        return true;
    }    
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-02T05:55:43.590

作为最佳实现，您的自定义实现并不是您真正可以做的。您可能想改用[ViewPager](http://developer.android.com/reference/android/support/v4/view/ViewPager.html)。

# playframework - 如何在同一个端口上运行多个应用程序

> ID：14117452
> 
> 赞同：4
> 
> 时间：2013-01-02T05:51:43.253
> 
> 标签：playframework

我是 Play Framework 的新手。我正在使用 Play 2.0.2，我想在同一端口上的 Play 上运行多个应用程序。

它应该像 `http://localhost:9000/Project1/(controller)`&`http://localhost:9000/Project2/(controller)`

我发现您可以在不同的端口上运行它，但没有发现在同一个端口上运行它。

这甚至可能吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-02T08:04:29.280

你不能在同一个端口上运行两个应用程序，这不仅仅是 Play 的问题。

使用[前端 HTTP 服务器](http://www.playframework.org/documentation/2.0.4/HTTPServer)代理应用程序。如果您必须只运行 java 应用程序，那么[nginx](http://www.playframework.org/documentation/2.0.4/HTTPServer)将是不错的选择，如果您还需要根据 Apache 特定功能使用 PHP 系统，您也可以使用[Apache 代理](http://www.playframework.org/documentation/2.0.4/HTTPServer)。

一般来说：您需要将服务器设置为侦听端口 80，然后使用一些伪域（如`http://app1.loc`、`http://app2.loc`等）为每个应用程序添加一个服务器块（Apache 中的虚拟主机），将它们添加到您的`hosts`文件中，以使它们在您的系统中可用. 接下来将每个服务器块配置为不同端口（nginx）上的应用程序的代理：

```
server {
  server_name app1.loc www.app1.loc;
    listen 80;

    location / {
            proxy_set_header Host $host;
            proxy_set_header X-Forwarded-Host $host;
            proxy_set_header X-Forwarded-Server $host;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_pass http://127.0.0.1:9021;
            proxy_redirect http://127.0.0.1:9021/ http://app1.loc/;
    }
} 
```

然后在端口 9021 启动您的第一个应用程序。

对其他应用程序执行相同的操作，每次使用其他端口。

最后要确保，您始终在所需的端口 9021 上运行 app1，编写一个 bash 脚本（或 Windows 中的 bat 文件），它将始终使用相同的设置运行它，即`run.sh`：

```
#!/bin/bash
play "~run 9021"; 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-01-02T08:00:57.157

单独播放是不可能的，因为每个应用程序都在自己的进程中运行，并且一次只能有一个进程监听一个端口。您可以做的是在端口 9001 和 9002 上运行您的播放应用程序，然后在端口 9000 上运行像 nginx 这样的服务器，并将其配置为将不同 URL 的请求路由到您的播放应用程序。

请参阅此示例：[http](http://www.cyberciti.biz/tips/using-nginx-as-reverse-proxy.html) ://www.cyberciti.biz/tips/using-nginx-as-reverse-proxy.html 与您的情况的唯一区别是您将有一个`server {...}`块，其中包含两个`location`块。它看起来像：

```
upstream play1 {
      server localhost:9001;
}

upstream play2  {
      server localhost:9002;
}

server {
    listen       localhost:9000;
    server_name  www.example.com;

    access_log  /var/log/nginx/log/www.example.access.log  main;
    error_log  /var/log/nginx/log/www.example.error.log;
    root   /usr/share/nginx/html;
    index  index.html index.htm;

    ## send requests to play1 ##
    location /Project1/ {
        proxy_pass  http://play1;
        proxy_next_upstream error timeout invalid_header http_500 http_502 http_503 http_504;
        proxy_redirect off;
        proxy_buffering off;
        proxy_set_header        Host            $host;
        proxy_set_header        X-Real-IP       $remote_addr;
        proxy_set_header        X-Forwarded-For $proxy_add_x_forwarded_for;
    }

    ## send requests to play2 ##
    location /Project2/ {
        proxy_pass  http://play2;
        proxy_next_upstream error timeout invalid_header http_500 http_502 http_503 http_504;
        proxy_redirect off;
        proxy_buffering off;
        proxy_set_header        Host            $host;
        proxy_set_header        X-Real-IP       $remote_addr;
        proxy_set_header        X-Forwarded-For $proxy_add_x_forwarded_for;
    }

} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-10-23T02:38:09.277

如果您计划在同一服务器中托管多个应用程序或对应用程序的多个实例进行负载平衡以实现可伸缩性或容错，则可以使用前端 HTTP 服务器。请注意，使用前端 HTTP 服务器永远不会比直接使用 Play 服务器提供更好的性能。你可以看看这个：[How to setup a front-end HTTP server for Play 2 Framework](https://www.playframework.com/documentation/2.0/HTTPServer)

# php - PHP Ticks 和 Declare 构造

> ID：14117453
> 
> 赞同：1
> 
> 时间：2013-01-02T05:51:49.603
> 
> 标签：php, declare

```
function myfunc()
{
    print "I will pass!";
}
register_tick_function("myfunc");
declare(ticks=1)
{
} 
```

我编写以下代码是为了理解 php 中与“declare”语句一起使用的“ticks”主题，但不知道为什么输出是：“我会通过！我会通过！我会通过！” 我已经看到了 declare 构造的手册部分，但我发现它的解释不完整 [http://php.net/manual/en/control-structures.declare.php](http://php.net/manual/en/control-structures.declare.php)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T06:11:59.310

希望此[链接](http://forum.junowebdesign.com/php-articles/22319-ticks-php-construct-youve-never-used.html)有助于更好地了解蜱虫。

执行上述语句后，我得到的结果是“我会通过！我会通过！”。Tick 在每条语句之后执行。

# internet-explorer - 在 IE “访问被拒绝”中包含 url 中的问题

> ID：14117456
> 
> 赞同：0
> 
> 时间：2013-01-02T05:52:05.657
> 
> 标签：internet-explorer, iframe

我在 jsp 的 iframe 中包含一个页面（url），但在 IE 9 中出现访问被拒绝错误。但是对于相同的，它在 chrome 中工作。

我拥有的 url 是一个 3rd 方网站，我需要将其包含在我的 jsp 页面的 iframe 中，该 url 具有我动态提供的用户名和密码的查询参数。使用这些用户名和密码，第三方网站使用户登录。登录后，最终的登陆页面预计会显示在 iframe 中。

我只想在 IE 中实现这一点，但它只在 IE 中失败，并且适用于其他浏览器，如 chrome、firefox。

我在我的 jsp 中的 HTML div 中设置 iframe。

这是代码片段。我正在使用 jquery javascript 框架。

mydiv.innerHTML = <iframe name='ani' id='ani' height='800px' width='800px' src='https://xxxx/a.php/?Login=abcd&Password=efgh'> /;

我只是想知道当我在谷歌浏览器中运行这段代码时，它运行得很好，只有在 IE 中才会出现这个问题。

任何人都可以建议我实现这一目标的方法或上述方法有什么问题吗？

谢谢。PS我尝试在Object标签中包含url而不是iframe，但行为与上面相同，即它在chrome中工作但不在ie中。后来我尝试包含另一个 jsp 作为 iframe 的来源。在这个 jsp 中，我在加载时运行了一个动态表单创建并提交到 url，但没有运气。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-02T06:01:41.997

我相信[这个问题的答案](https://stackoverflow.com/questions/6357041/get-iframe-innerhtml-using-javascript)和[这个论坛主题](https://github.com/valums/file-uploader/issues/118)应该为您提供更多信息，以找到您的问题的解决方案/原因。

# java - 如何从码头服务器读取文件

> ID：14117462
> 
> 赞同：0
> 
> 时间：2013-01-02T05:52:19.437
> 
> 标签：java

我的项目基于码头服务器。（客户端中的java服务器和java脚本）

我想读取 javascript 文件并将它们加载到项目中。

我想以动态的方式进行。

我不想从 c:.... 读取文件但要使用码头服务器读取这些文件的问题。

我知道我想读取文件的项目类，但我不知道如何读取文件。

如果我将给出文件夹 C:..... 的位置，那么我将获取文件，但这不是正确的方法。

是否可以根据项目类的名称从码头服务器读取项目中的文件？

我该怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T07:48:33.410

您可以将这些文件放在您的 Web 应用程序的 WAR 文件中的类路径下的路径下，这样它们就可以作为资源使用相对路径访问您的应用程序。

# xml - 如何重用同一父标记下的本地定义元素

> ID：14117470
> 
> 赞同：2
> 
> 时间：2013-01-02T05:53:12.733
> 
> 标签：xml, xsd, xml-namespaces, xsd-validation

为什么'ref'在这种情况下不起作用：

```
<xs:complexType name="Team">
    <xs:sequence>
        <xs:element name="Name" type="xs:string"/>
        <xs:element name="Size">
            <xs:simpleType>
                <xs:restriction base="xs:integer">
                    <xs:totalDigits value="1"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:element>
        <xs:element ref="Size"/>
    </xs:sequence>
</xs:complexType> 
```

元素 Size 有本地作用域，不能在本地复用吗？

编辑：上面的案例可能没有多大意义。考虑下面的案例，有没有办法重用“大小”的现有定义：

```
<xs:complexType name="Team">
    <xs:sequence>
        <xs:element name="Name" type="xs:string"/>
        <xs:element name="Size">
            <xs:simpleType>
                <xs:restriction base="xs:integer">
                    <xs:totalDigits value="1"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:element>
        <xs:element name="teamLeads">
            <xs:complexType>
                <xs:sequence>
                    <xs:element ref="Size"/>
                </xs:sequence>
            </xs:complexType>
        </xs:element>
    </xs:sequence>
</xs:complexType> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-02T07:36:36.740

您只能引用顶级元素。

> {term}（顶级）元素声明·解析·由`ref`[属性]的·实际值·。

[http://www.w3.org/TR/2004/REC-xmlschema-1-20041028/structures.html#declare-element](http://www.w3.org/TR/2004/REC-xmlschema-1-20041028/structures.html#declare-element)（见框中的最后一部分）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-02T07:56:45.127

`Why Does not 'ref' work in this case`

因为您试图定义相同的元素两次。即使您不使用 ref 但 name 它也会出错！

就像这样声明元素两次一样好：

例子：

```
<xs:complexType name="Team">
    <xs:sequence>
        <xs:element name="Name" type="xs:string"/>
        <xs:element name="Size">
            <xs:simpleType>
                <xs:restriction base="xs:integer">
                    <xs:totalDigits value="1" />
                </xs:restriction>
            </xs:simpleType>
        </xs:element>
        <xs:element name="Size">
            <xs:simpleType>
                <xs:restriction base="xs:integer">
                    <xs:totalDigits value="1" />
                </xs:restriction>
            </xs:simpleType>
        </xs:element>
     </xs:sequence>
  </xs:complexType> 
```

ComplexType 不能多次定义具有相同或不同类型的同名元素。 `Warning : Elements with the same name and in the same scope must have the same type.`

这可能是您收到错误的原因。消息可能不清楚，但原因是相同的。

**编辑：**在这种情况下，我们使用 maxOccurs 来完成这项工作！
如果你想使用 ref 那么对应的元素应该在不同的 XSD 中（通过命名空间导入）或者至少在当前的 ComplexType 之外

**具有相同名称的不同层次结构中可以有多个元素！不同的类型**！XSD 允许这样做！它必须允许！
当你使用这个名称的 ref 时，它应该考虑哪个元素？它将成为一个模棱两可的定义！不是吗？
**这就是原因**，XSD 不允许非全局元素作为参考。虽然您当前的代码没有多个具有相同名称的元素，**但它可以有**..

这是不同层次结构中具有不同类型的多个元素的示例：

```
<xs:complexType>
  <xs:sequence>
    <xs:element name="Name" type="xs:string"/>
    <xs:element name="Size">
      <xs:simpleType>
        <xs:restriction base="xs:integer">
          <xs:totalDigits value="1" />
        </xs:restriction>
      </xs:simpleType>
    </xs:element>
    <xs:element name="something">
      <xs:complexType>
        <xs:sequence>
          <xs:element name="Size" type="xs:string"/>
        </xs:sequence>
      </xs:complexType>
    </xs:element>
    <!--<xs:element ref="Size" />-->
  </xs:sequence>
</xs:complexType> 
```

# java - 创建 bean 时出错

> ID：14117471
> 
> 赞同：0
> 
> 时间：2013-01-02T05:53:17.210
> 
> 标签：java, spring, junit, javabeans

这是我得到的错误跟踪：

```
 org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'DefaultPG' defined in file [C:\Users\ali\workspace\tms-payment\PaymentGatewayConfigurations.xml]: Error setting property values; nested exception is org.springframework.beans.NotWritablePropertyException: Invalid property 'paymentGatewayName' of bean class [me.tms.payment.common.DefaultPaymentGateway]: Bean property 'paymentGatewayName' is not writable or has an invalid setter method. Does the parameter type of the setter match the return type of the getter?
at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1361)
at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1086)
at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:517)
at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)
at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:310)
at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:190)
at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1075)
at me.tms.payment.common.DefaultPaymentGateway.getPaymentGatewayName(DefaultPaymentGateway.java:12)
at me.tms.payment.test.DefaultPaymentGatewayTest.test(DefaultPaymentGatewayTest.java:16)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
at java.lang.reflect.Method.invoke(Unknown Source)
at org.junit.internal.runners.TestMethod.invoke(TestMethod.java:59)
at org.junit.internal.runners.MethodRoadie.runTestMethod(MethodRoadie.java:98)
at org.junit.internal.runners.MethodRoadie$2.run(MethodRoadie.java:79)
at org.junit.internal.runners.MethodRoadie.runBeforesThenTestThenAfters(MethodRoadie.java:87)
at org.junit.internal.runners.MethodRoadie.runTest(MethodRoadie.java:77)
at org.junit.internal.runners.MethodRoadie.run(MethodRoadie.java:42)
at org.junit.internal.runners.JUnit4ClassRunner.invokeTestMethod(JUnit4ClassRunner.java:88)
at org.junit.internal.runners.JUnit4ClassRunner.runMethods(JUnit4ClassRunner.java:51)
at org.junit.internal.runners.JUnit4ClassRunner$1.run(JUnit4ClassRunner.java:44)
at org.junit.internal.runners.ClassRoadie.runUnprotected(ClassRoadie.java:27)
at org.junit.internal.runners.ClassRoadie.runProtected(ClassRoadie.java:37)
at org.junit.internal.runners.JUnit4ClassRunner.run(JUnit4ClassRunner.java:42)
at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)
at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)
at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)
at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)
at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)
at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)
Caused by: org.springframework.beans.NotWritablePropertyException: Invalid property 'paymentGatewayName' of bean class [me.tms.payment.common.DefaultPaymentGateway]: Bean property 'paymentGatewayName' is not writable or has an invalid setter method. Does the parameter type of the setter match the return type of the getter?
at org.springframework.beans.BeanWrapperImpl.setPropertyValue(BeanWrapperImpl.java:1024)
at org.springframework.beans.BeanWrapperImpl.setPropertyValue(BeanWrapperImpl.java:900)
at org.springframework.beans.AbstractPropertyAccessor.setPropertyValues(AbstractPropertyAccessor.java:76)
at org.springframework.beans.AbstractPropertyAccessor.setPropertyValues(AbstractPropertyAccessor.java:58)
at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1358)
... 30 more 
```

这是报告的课程：

```
package me.tms.payment.common;

import me.tms.payment.configurations.ConfigurationsUtility;
import me.tms.payment.configurations.PaymentGatewayConfigurations;

 public class DefaultPaymentGateway {

private static String paymentGatewayName;

@SuppressWarnings("static-access")
public static String getPaymentGatewayName() {
    DefaultPaymentGateway defaultPaymentGateway = (DefaultPaymentGateway)ConfigurationsUtility.getBeanConfigurationContext(PaymentGatewayConfigurations.configurationsFile).getBean("DefaultPG");
     setPaymentGatewayName(defaultPaymentGateway.paymentGatewayName);
    return paymentGatewayName;
}

public static void setPaymentGatewayName(String paymentGatewayName) {
    DefaultPaymentGateway.paymentGatewayName = paymentGatewayName;
}

} 
```

这是豆子：

```
<!-- Default payment gateway properties -->
<bean id="DefaultPG" class="me.tms.payment.common.DefaultPaymentGateway" scope="prototype">
    <property name="paymentGatewayName" value="VPC"></property>
</bean> 
```

有什么问题 ？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T05:56:35.213

`Bean property 'paymentGatewayName' is not writable or has an invalid setter method. Does the parameter type of the setter match the return type of the getter?`

原因`paymentGatewayName`是静态的。它不是对象的属性，而是`BeanName.paymentGatewayName`在您的 jvm 中只有一个。您不能自动装配静态 bean 属性。

消除

`<property name="paymentGatewayName" value="VPC"></property>`并将其设置在您的班级本身中。

`private static String paymentGatewayName="VPC";`

或使其非静态。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-02T05:58:12.763

您不能在 bean 中注入静态属性，这是 Spring 的缺点。
相同的 Jira [https://jira.springsource.org/browse/SPR-3845](https://jira.springsource.org/browse/SPR-3845)

解决方法

1.  创建没有任何注释的类的静态属性
2.  将类标记为使用 @Component 注入静态属性，以便在 Spring 启动时注入属性
3.  创建一个设置静态属性的非静态 setter 方法
4.  用 @Autowired(required = true) 标记 setter 方法

资料来源：[http](http://www.connorgarvey.com/blog/?p=105) ://www.connorgarvey.com/blog/?p=105 和[Injecting values for static constants in Spring](https://stackoverflow.com/questions/2763279/injecting-values-for-static-constants-in-spring)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-02T06:00:07.660

Bean 不能是静态类。它们需要由 Spring 在内部实例化。并且静态类显然不能被实例化。改用这个：

```
public class DefaultPaymentGateway {

    private static String paymentGatewayName = "VPN";

    public String getPaymentGatewayName() {
        return paymentGatewayName;
    }

    public void setPaymentGatewayName(String paymentGatewayName) {
        paymentGatewayName = paymentGatewayName;
    }

} 
```

您不应该在 getter/setter 方法中做太多事情。Getter 应该只返回属性，而 setter 应该只设置它。从他们那里调用其他 getter/setter 会带来麻烦。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-02T05:57:15.680

不要使用静态设置器，删除设置器中的静态关键字

# jquery - 打开页面时放大和缩小图像

> ID：14117472
> 
> 赞同：0
> 
> 时间：2013-01-02T05:53:18.067
> 
> 标签：jquery, html, css

我已经编写了一个代码，并且我正在尝试在打开页面时缩小/放大图像。我想自动执行此操作（可能是简单的 jQuery 动画）。

但我可以让它在鼠标悬停时工作。打开页面时我想要它。

我的代码：http: [//jsfiddle.net/THfCe/](http://jsfiddle.net/THfCe/)

代码：

```
<style>
    #photos img {
        width: 100%;
        height: 100%;
        transition: width 2s, height 2s, transform 2s;
        margin-left: -10px;
    }
    #photos img:hover {
        width: 110%;
        height:110%;
    }
</style>
<div id="photos">
    <img src="http://www.oprant.com/images/p_slide1.png" alt="Main" id="mainpicture" class="resize" />
</div> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T06:23:41.390

这是我创建的一个演示。看看这是否是您正在尝试的功能-

[**演示**](http://jsfiddle.net/EsvHM/4/)（*更新*）

jQuery-

```
$(document).ready(function() {
  repeat();
});

function repeat()
{
$("#myImg").animate({
        left: '50px',
        height: '45px',
        width: '50px'
    }, "slow");
    $("#myImg").animate({
        left: '0px',
        width:'34px',
        height: '37px',
    }, "slow",repeat);
} 
```

**更新**：为您的图像标签提供一个 Id，以便动画仅应用于特定图像。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-02T05:59:55.253

如果我正确理解您的问题，您希望图像与浏览器视口一样大。如果是这种情况，您的代码几乎就在那里。您只需将图像的容器设置为也具有 100% 的宽度/高度。

```
html, body, #photos { width: 100%; height: 100%; } 
```

具有 100% 宽度/高度的元素只能与其容器一样大。在您的情况下，是 html、body 和 photos 元素。如果您有任何其他容器，则需要将其添加到上面的 CSS 代码中。

# php - 登录功能在网站的特定页面中不起作用

> ID：14117475
> 
> 赞同：2
> 
> 时间：2013-01-02T05:53:35.137
> 
> 标签：php, login

在我的网站中，当我们从索引页面登录时，登录功能可以正常工作。但是当我们从我网站的索引页面以外的其他页面登录时，它没有登录。

**[http://domain.com/mysite/index.php](http://domain.com/mysite/index.php)**

从该页面登录时，该功能正常工作，登录后显示如下页面

![登录成功后](../Images/f05e7c835dca75dade423ed89948a71d.png)

如果我们从我网站中的其他页面登录，它将无法正常工作，并且页面显示为 **[http://mysite.com/samplefolder/detailpage.php?pollid=2&chid=2](http://mysite.com/samplefolder/detailpage.php?pollid=2&chid=2)**

![登录后也显示登录](../Images/4a2b5c1f5820148407c2da6ecf349594.png)

**登录.php**

```
<?php
include("jalert.php");
if (array_key_exists("login", $_GET)) { 
```

$oauth_provider = $_GET['oauth_provider']; if ($oauth_provider == 'twitter') { header("Location: login-twitter.php"); } } ?>

```
<script type="text/javascript">

$(document).ready(function() {
$("#new_user_session_ajax").submit(function(e){
    e.preventDefault();
       var email = $('#userid').val();
       var password = $('#signin_password').val();
       var remember = $('#user_session_remember_me').val();

        $.ajax({
        type: "POST",
        url: "ajaxlogin.php",
        data: "userid="+email+"&password1="+password+"&rememberme="+remember+""
        }).done(function( msg )  {
    if(msg)
    {
        $('#error').html(msg);
    }
    else
    {
        window.location.href="index.php";
    }

});
});
});

</script>

<form accept-charset="UTF-8" action="" name="login" onsubmit="return checkreg();" class="no_scroll_animation validate no_bump ajax" id="new_user_session_ajax" method="post">
<input name="utf8" type="hidden" value="">
<input name="authenticity_token" type="hidden" value="yRcKhChgROcxunh7A7zRQVroShpYbO6e6PaAO4JHUtg=">
</div>

<input id="after_url" name="redirect_after_login" type="hidden" value="/">

<li class="remember_me clear">
<input name="user_session[remember_me]" type="hidden" value="0">
<input checked="checked" id="external_remember_me_popup" name="remember_me" type="checkbox" value="1">
<label for="external_remember_me_popup">Remember me</label>

<h5>Sign in with email</h5>

<li><input autocapitalize="off" class="validate validate_required validate_email placeholder" id="userid" name="userid" value="Email Address"
           onfocus="if(this.value == 'Email Address') {this.value=''}" onblur="if(this.value == ''){this.value ='Email Address'}"  title="email" type="email" value=""></li>

<li><input autocapitalize="off" class="validate validate_required placeholder" id="signin_password" name="password1" value="Password"
           onfocus="if(this.value == 'Password') {this.value='';this.type='password'}" onblur="if(this.value == ''){this.value ='Password';this.type ='text'}" type="text" validate:message="Please enter your password" value=""></li><li class="last">

    <input class="button" name="login" type="submit" value="Login"  >
<div class="keepmeloggedin"><input name="rememberme" type="hidden" value="remember me"><input checked="checked" id="user_session_remember_me" value="remember me" name="rememberme" type="checkbox" value="1">&nbsp; Remember me</div><div class="forgotPassword">
<a class="forget_pass" href="forgot_password.php" id="forgotPasswordLink" rel="nofollow">Forgot password?</a></div></li></ul></div></form> 
```

**ajaxlogin.php**

```
<?php 
include("classes.php");
$jeob = new EF_Sql();

    $email= $_POST['userid'];

    $password= $_POST['password1'];

    $papas=base64_encode($password);

    $check = $_POST['rememberme'];

        $tablename="user_record";

    $select_qry = $jeob->SqlQuery("SELECT * FROM ".$jeob->dbprefix.$tablename." WHERE email ='$email' AND password ='$papas' AND active_link='1' ");

$kiss="SELECT * FROM ".$jeob->dbprefix.$tablename." WHERE email ='$email' AND password ='$papas'";

        if($jeob->SqlRows($select_qry) == "0"){                 

         echo "Invalid Username and Password";

        } else {

        if($check) {

                setcookie("username", $email, time() + 3600);       // Sets the cookie username

        }

        $getuser = $jeob->SqlFetch($select_qry);

        $_SESSION['userid'] = $getuser['user_id'];  

        $_SESSION['oauth_provider'] = "normal";

        $_SESSION['email'] = $getuser['email'];     

        }
?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-02T05:55:18.333

确保您`session_start();`在每个文件的顶部调用。您可能在某些页面上遗漏了该内容，因此会话不会继续，因此看起来好像用户已注销。

# android - 如何通过单击按钮以编程方式退出应用程序

> ID：14117476
> 
> 赞同：13
> 
> 时间：2013-01-02T05:53:41.860
> 
> 标签：android

我想通过单击按钮退出应用程序。

按钮单击的代码是

```
quitBtn.setOnClickListener(new View.OnClickListener() {         
    @Override
    public void onClick(View paramView) {
        // TODO Auto-generated method stub              
        MainActivity.this.finish();
    }
}); 
```

但它需要两次单击才能退出应用程序。

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2013-01-02T05:59:49.330

使用此代码...我希望这会对您有所帮助..

```
 quitBtn.setOnClickListener(new View.OnClickListener() {         
        @Override
        public void onClick(View paramView) 
      {
            finish();          
            moveTaskToBack(true);
        }
    }); 
```

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2013-01-02T05:58:45.513

使用它对我有用：

```
quitBtn.setOnClickListener(new View.OnClickListener() {

            @Override
            public void onClick(View paramView) {

                moveTaskToBack(true); 
                MainActivity.this.finish();
            }
}); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2014-02-23T01:08:26.883

应用程序必须在堆栈中的第一个活动 (MainActivity) 中退出（通常是应用程序启动时启动的第一个活动）。我正在使用这段代码：

```
finish();
android.os.Process.killProcess(android.os.Process.myPid()); 
```

两条线都很重要。仅杀死是不够的，因为 Android 可能会自动再次启动您的应用程序，因此还必须使用 finish()。

如果你想从另一个活动中退出你的应用程序，首先回到 MainActivity 并从那里退出。要返回，我使用以下代码：

```
Intent i = new Intent(context, MainActivity.class);
i.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);
context.startActivity(i); 
```

这将调用 MainActivity 的 onCreate。使用静态变量（在应用程序上下文中）如果我想退出 onCreate，我设置了一个标志。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2017-08-18T08:27:39.040

您需要做的是`finishAffinity();`关闭每个活动的活动。

```
quitBtn.setOnClickListener(new View.OnClickListener() {
    @Override
    public void onClick(View paramView) {
        finishAffinity();
    }}); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-02T05:56:53.217

试试这个可能对你有帮助。

```
quitBtn.setOnClickListener(new View.OnClickListener() {         
    @Override
    public void onClick(View v) {
        Intent intent = new Intent(Intent.ACTION_MAIN);
        intent.addCategory(Intent.CATEGORY_HOME);
        startActivity(intent);
    }
}); 
```

编辑清单文件

```
<activity android:name=".HomeActivity" android:label="@string/app_title_home" android:clearTaskOnLaunch="true" /> 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-01-02T06:16:33.650

如果您刚刚`onClick()`在 xml 文件中给出了函数，则可以避免所有这些混淆。它将处理`View.OnClickListener()`

阅读下面的链接，了解有关 XML 实现与 `View.OnClickListener()`

[android:onClick XML 属性与 setOnClickListener 究竟有何不同？](https://stackoverflow.com/questions/4153517/how-exactly-does-the-androidonclick-xml-attribute-differ-from-setonclicklistene)

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2017-08-18T10:18:06.490

> 完成一项活动或退出应用程序

```
 @Override
    public void onBackPressed() {
        this.finish();
    } 
```

# java - 如何设置 JFrame 的插图？

> ID：14117481
> 
> 赞同：10
> 
> 时间：2013-01-02T05:54:32.373
> 
> 标签：java, swing, jframe, insets

有没有办法设置 a 的插图`JFrame`？我试过了

```
frame.getContentPane().getInsets().set(10, 10, 10, 10); 
```

和

```
frame.getInsets().set(10, 10, 10, 10); 
```

但它们似乎都不起作用。

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2013-01-02T06:13:03.737

```
JPanel contentPanel = new JPanel();

Border padding = BorderFactory.createEmptyBorder(10, 10, 10, 10);

contentPanel.setBorder(padding);

yourFrame.setContentPane(contentPanel); 
```

所以基本上，`contentPanel`是框架的主要容器。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-01-02T06:39:36.160

覆盖`Insets`of`JFrame`不会是您实际问题的灵魂。要回答您的问题，您不能设置`JFrame`. 您应该扩展 JFrame 并覆盖该`getInsets`方法以提供所需的插图。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-02T06:01:02.833

您必须创建一个 LayOutConstraint 对象并设置它的 Insets。就像在下面的示例中一样，我使用了 GridBagLayout() 并使用了 GridBagConstraint() 对象。

```
 GridBagConstraints c = new GridBagConstraints();
    JPanel panel = new JPanel(new GridBagLayout());
    c.insets = new Insets(5, 5, 5, 5); // top, left, bottom, right
    c.anchor = GridBagConstraints.LINE_END;

    // Row 1
    c.gridx = 0;
    c.gridy = 0;
    c.anchor = GridBagConstraints.LINE_START;
    panel.add(isAlgoEnabledLabel, c); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2019-04-23T08:00:46.177

您可以创建一个 main`JPanel`并将其他所有内容插入其中。

然后您可以使用`BorderFactory`创建`EmptyBorder`或`LineBorder`.

看到这个答案： [https ://stackoverflow.com/a/17925693/8953378](https://stackoverflow.com/a/17925693/8953378)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2016-11-18T15:17:34.730

由于这个问题没有明确的答案，但您可以像[basiljames](https://stackoverflow.com/users/1653776/basiljames)[在这里](https://stackoverflow.com/a/14117874/4601149)所说的那样做。正确的方法是扩展 a`JFrame`然后覆盖该`getInsets()`方法。

例如

```
import javax.swing.JFrame;
import java.awt.Insets;

public class JFrameInsets extends JFrame {
    @Override
    public Insets getInsets() {
        return new Insets(10, 10, 10, 10);
    }

    private JFrameInsets()  {
        super("Insets of 10");
        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        pack();
        setMinimumSize(getSize());
        setVisible(true);
    }

    public static void main(String[] args) {
        new JFrameInsets();
    }
} 
```

# android - 如何解决从服务器检索信息时出错的问题[RPC:S-5:AEC-0]

> ID：14117488
> 
> 赞同：1
> 
> 时间：2013-01-02T05:55:29.177
> 
> 标签：android

我正在尝试解决此错误以重置手机并在其中添加我的帐户。但是每次都会出现这个错误。请帮我解决这个问题，我在过去 10 天里遇到了很多问题，在我的应用程序中添加了一个月的订阅，请一些链接或一些代码来帮助我解决这个问题

# sendmail - 当我们使用 vb.net 向 Outlook 发送邮件时，在 vb.net 中出现错误

> ID：14117489
> 
> 赞同：0
> 
> 时间：2013-01-02T05:55:36.617
> 
> 标签：sendmail, vb.net-2010, smtpclient

使用 vb.net 向 Outlook 发送邮件。但出现错误，例如“指定的字符串不是电子邮件地址所需的格式”如何解决这个问题 Dim Var_from As String = TextBox1.Text Dim to_var As String = TextBox2.Text

```
 Dim mailMessage As System.Net.Mail.MailMessage = New System.Net.Mail.MailMessage()

    mailMessage.From = New System.Net.Mail.MailAddress("'" + Var_from + "'")
    mailMessage.To.Add("'" + to_var + "'")
    mailMessage.Subject = "xxx"

    Dim content As String = "<html xmlns='http://www.w3.org/1999/xhtml'><head><style type='text/css'>#mytable { padding: 0;   margin: 0;border-right: 1px solid #C1DAD7;border-bottom: 1px solid #C1DAD7;       border-left: 1px solid #C1DAD7;   border-top: 1px solid #C1DAD7;}caption {padding: 0 0 5px 0; width: 700px;font: Bold 11px 'Trebuchet MS', Verdana, Arial, Helvetica, sans-serif;      text-align: right;}th {   font: bold 11px 'Trebuchet MS', Verdana, Arial, Helvetica, sans-serif;     color: #4f6b72;      border-right: 1px solid #C1DAD7;border-bottom: 1px solid #C1DAD7;border-left: 1px solid #C1DAD7;border-top: 1px solid #C1DAD7;   letter-spacing: 2px; text-transform: uppercase; text-align: left;       padding: 6px 6px 6px 12px; background: #CAE8EA; }td {  border-right: 0px solid #C1DAD7;  border-bottom: 0px solid #C1DAD7; border-left: 0px solid #C1DAD7;   background: #fff;    padding: 6px 6px 6px 12px;  color: #4f6b72;}</style></head><body><table border='0' cellpadding='0' id='mytable'  width='100%'><tr><th height='74' style='text-align:center; font-size:16px;' colspan='6'>CAS E-mail Confirmation <div style='float:right;'><img src='cid:HDIImage1' width='143' height='62' align='left' alt='' style='position:absolute;top:0pc;'/></div></th></tr><tr><td colspan='6' class='style5'>&nbsp;Dear Customer,<br/><br/> Thank you for  registering CAS. Click the below link to complete your verification process.. <br/><br/><br/>CAS CODE  :  <br/><br/><br/><br/></td></tr>  <tr>    <th colspan='6' class='style5'>&nbsp;</th>  </tr></table></body></html>"

    Dim plainTextView As System.Net.Mail.AlternateView = System.Net.Mail.AlternateView.CreateAlternateViewFromString(content, Nothing, "text/plain")

    mailMessage.AlternateViews.Add(plainTextView)
    Dim smtpClient As System.Net.Mail.SmtpClient = New System.Net.Mail.SmtpClient()

    smtpClient.Host = "xxx"
    smtpClient.Send(mailMessage) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T06:15:07.937

您需要使用普通的电子邮件地址 - 您添加的单引号可能会导致错误。没有额外的引号。

```
mailMessage.From = New System.Net.Mail.MailAddress(Var_from)
mailMessage.To.Add(to_var) 
```

# php - 要求认证的网站

> ID：14117496
> 
> 赞同：1
> 
> 时间：2013-01-02T05:56:02.417
> 
> 标签：php, authentication

当我访问网站网址时，我的网站要求进行身份验证。它说

```
"A username and password are being requested by http://test.com. The site says: "c100 Undetectable #18a: Restricted area" 
```

当我单击取消按钮时，它将消失。每次我刷新页面或单击链接时它都会询问.. 我该怎么做才能删除它？？？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-02T06:12:20.100

请在您的所有页面中检查此代码，并且有一些用于此身份验证的标题，如下所示：-

```
if($_SERVER["PHP_AUTH_USER"]  && $_SERVER["PHP_AUTH_PW"]){

}        
header("WWW-Authenticate: Basic realm=);
header("HTTP/1.0 401 Unauthorized"); 
```

请删除它，您的问题将得到解决。
要了解有关身份验证的更多信息，请参阅 -[链接](http://php.net/manual/en/features.http-auth.php)

# php - 在表格列中的php中回显月份的日期？

> ID：14117498
> 
> 赞同：1
> 
> 时间：2013-01-02T05:56:13.107
> 
> 标签：php, html, forms

好的，很抱歉这段代码太乱了，但我创建了一个带有 html 文本区域表单的表格，它充当一种日历，供用户标记他们何时将在哪一天做什么。我在下面的代码中显示了周一 - 周日，但日历中总共有 4 周或 4 组周一至周日。

我想知道我是否能够使用 php 代码来放置每个月的日期；即每行/列的第 1-31 个取决于当时的月份？

如果他们能告诉我如何做到这一点，我将非常感谢任何人的帮助，我知道这看起来不是一个很好的方法，但我确实需要这样做。谢谢

```
<table width="100%" border="0" cellspacing="5" cellpadding="5">
      <tr>
        <th width="11.5%" align="center" valign="middle" bgcolor="#EBEBEB" scope="col">Monday</th>
        <th width="11.5%" align="center" valign="middle" bgcolor="#EBEBEB" scope="col">Tuesday</th>
        <th width="11.5%" align="center" valign="middle" bgcolor="#EBEBEB" scope="col">Wednesday</th>
        <th width="11.5%" align="center" valign="middle" bgcolor="#EBEBEB" scope="col">Thursday</th>
        <th width="11.5%" align="center" valign="middle" bgcolor="#EBEBEB" scope="col">Friday</th>
        <th width="11.5%" align="center" valign="middle" bgcolor="#EBEBEB" scope="col">Saturday</th>
        <th width="11.5%" align="center" valign="middle" bgcolor="#EBEBEB" scope="col">Sunday</th>
       </tr>
        <tr>
        <th width="11.5%" height="55" align="left" valign="middle" bgcolor="#FFFFFF" scope="col"><form action="includes/mod_profile/mod_calendar/includes/change_monday1.php" method="post" id="form1">         
     <textarea id="monday1" style="width:79px; 
        margin-top:-31.1px;
        text-align:left;
        margin-left:-3px;
        height: 60px;
        position:absolute;
        z-index:90;
        resize: none; 
        border: hidden;" textarea name="monday1" data-id="monday1" onkeyup="checkWordCount();"><?php echo $calendar['monday1'] ?></textarea>
    <input type="image" src="../PTB1/assets/img/icons/save-edit.png"class="cal-submit" width="12px" height="12px" name="submit" value="submit" id="submit"/>
    </form></th>
        <th width="11.5%" height="55" align="left" valign="middle" bgcolor="#FFFFFF" scope="col"><form action="includes/mod_profile/mod_calendar/includes/change_tuesday1.php" method="post" id="form1">            
     <textarea id="bio" style="width:79px; 
        margin-top:-31.1px;
        text-align:left;
        margin-left:-3px;
        height: 60px;
        position:absolute;
        z-index:90;
        resize: none; 
        border: hidden;" textarea name="tuesday1" data-id="tuesday1" onkeyup="checkWordCount();"><?php echo htmlspecialchars($calendar['tuesday1']); ?></textarea>
    <input type="image" src="../PTB1/assets/img/icons/save-edit.png"class="cal-submit" width="12px" height="12px" name="submit" value="submit" id="submit"/>
    </form></th>
        <th width="11.5%" height="55" align="left" valign="middle" bgcolor="#FFFFFF" scope="col"><form action="includes/mod_profile/mod_calendar/includes/change_wednesday1.php" method="post" id="form1">          
     <textarea id="wednesday1" style="width:79px; 
        margin-top:-31.1px;
        text-align:left;
        margin-left:-3px;
        height: 60px;
        position:absolute;
        z-index:90;
        resize: none; 
        border: hidden;" textarea name="wednesday1" data-id="wednesday1" onkeyup="checkWordCount();"><?php echo htmlspecialchars($calendar['wednesday1']); ?></textarea>
    <input type="image" src="../PTB1/assets/img/icons/save-edit.png"class="cal-submit" width="12px" height="12px" name="submit" value="submit" id="submit"/>
    </form></th>
        <th width="11.5%" height="55" align="left" valign="middle" bgcolor="#FFFFFF" scope="col"><form action="includes/mod_profile/mod_calendar/includes/change_thursday1.php" method="post" id="form1">           
     <textarea id="thursday1" style="width:79px; 
        margin-top:-31.1px;
        text-align:left;
        margin-left:-3px;
        height: 60px;
        position:absolute;
        z-index:90;
        resize: none; 
        border: hidden;" textarea name="thursday1" data-id="thursday1" onkeyup="checkWordCount();"><?php echo htmlspecialchars($calendar['thursday1']); ?></textarea>
    <input type="image" src="../PTB1/assets/img/icons/save-edit.png"class="cal-submit" width="12px" height="12px" name="submit" value="submit" id="submit"/>
    </form></th>
        <th width="11.5%" height="55" align="left" valign="middle" bgcolor="#FFFFFF" scope="col"><form action="includes/mod_profile/mod_calendar/includes/change_friday1.php" method="post" id="form1">         
     <textarea id="friday1" style="width:79px; 
        margin-top:-31.1px;
        text-align:left;
        margin-left:-3px;
        height: 60px;
        position:absolute;
        z-index:90;
        resize: none; 
        border: hidden;" textarea name="friday1" data-id="friday1" onkeyup="checkWordCount();"><?php echo htmlspecialchars($calendar['friday1']); ?></textarea>
    <input type="image" src="../PTB1/assets/img/icons/save-edit.png"class="cal-submit" width="12px" height="12px" name="submit" value="submit" id="submit"/>
    </form></th>
        <th width="11.5%" height="55" align="left" valign="middle" bgcolor="#FFFFFF" scope="col"><form action="includes/mod_profile/mod_calendar/includes/change_saturday1.php" method="post" id="form1">           
     <textarea id="saturday1" style="width:79px; 
        margin-top:-31.1px;
        text-align:left;
        margin-left:-3px;
        height: 60px;
        position:absolute;
        z-index:90;
        resize: none; 
        border: hidden;" textarea name="saturday1" data-id="saturday1" onkeyup="checkWordCount();"><?php echo htmlspecialchars($calendar['saturday1']); ?></textarea>
    <input type="image" src="../PTB1/assets/img/icons/save-edit.png"class="cal-submit" width="12px" height="12px" name="submit" value="submit" id="submit"/>
    </form></th>
        <th width="11.5%" height="55" align="left" valign="middle" bgcolor="#FFFFFF" scope="col"><form action="includes/mod_profile/mod_calendar/includes/change_sunday1.php" method="post" id="form1">         
     <textarea id="sunday1" style="width:79px; 
        margin-top:-31.1px;
        text-align:left;
        margin-left:-3px;
        height: 60px;
        position:absolute;
        z-index:90;
        resize: none; 
        border: hidden;" textarea name="sunday1" data-id="sunday1" onkeyup="checkWordCount();"><?php echo htmlspecialchars($calendar['sunday1']); ?></textarea>
    <input type="image" src="../PTB1/assets/img/icons/save-edit.png"class="cal-submit" width="12px" height="12px" name="submit" value="submit" id="submit"/>
    </form></th>
       </tr>
       <tr> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-02T06:56:45.880

这会将您的日期定位在正确的列中 - 只需将您需要的任何内容添加到 printCalendar() 的内部循环中：

```
<?php
function getCalendarRows($year,$month)
{
    $result=array();
    $dt=new DateTime(sprintf('%04d-%02d-01',$year,$month));
    $weekDay=$dt->format('w'); //Weekday of the first
    $nextMonth=$month==12?1:$month+1;
    $nextMonthYear=$nextMonth==1?$year+1:$year;
    $dt=new DateTime(sprintf('%04d-%02d-01',$nextMonthYear,$nextMonth));
    $dt->sub(new DateInterval('P1D')); //last day of the month
    $row=array();
    $lastDay=$dt->format('j');
    //Start the first row with empty columns (false)
    for($i=0; $i<$weekDay; $i++)$row[]=false; 
    for($i=1; $i<=$lastDay; $i++)
    {
        $row[]=$i;
        $weekDay++;
        if($weekDay>6)
        {
            $result[]=$row;
            $row=array();
            $weekDay=0;
        }
    }
    if($weekDay>0) 
    {
        //Fill up the last row with empty columns
        for($i=$weekDay+1; $i<7; $i++) $row[]=false;
        $result[]=$row;
    }
    return $result;
}

function printCalendar($year,$month)
{
    $rows=getCalendarRows($year,$month);
    echo '
<table>
    <tr>
        <th>Sunday</th><th>Monday</th><th>Tuesday</th><th>Wednesday</th><th>Thursday</th><th>Friday</th><th>Saturday</th>
    </tr>';
    foreach($rows as $row)
    {
        echo '
    <tr>';
        foreach($row as $weekday=>$date)
        {
            echo '
        <td width="50px" height="50px">'.($date===false?'':$date).'</td>';
//Put whatever else you want in here, you have $year, $month, $date, and $weekday (0 to 6)
//NOTE - if $date===false, this is an empty column
        }
        echo '
    </tr>';
    }
    echo '
</table>';
}
echo '
<h1>Jan 2013</h1>';
printCalendar(2013,01);
echo '
<h1>Feb 2013</h1>';
printCalendar(2013,02);
echo '
<h1>Mar 2013</h1>';
printCalendar(2013,03);
echo '
<h1>Dec 2013</h1>';
printCalendar(2013,12);
?> 
```

这里是 phpfiddle：[http](http://phpfiddle.org/main/code/3vf-1z0) ://phpfiddle.org/main/code/3vf-1z0 （我更改了 DateTime 构造函数调用，因为 sprintf 在 phpfiddle 上不起作用）

# node.js - NodeJS ejs模板不使用模板呈现

> ID：14117510
> 
> 赞同：0
> 
> 时间：2013-01-02T05:57:50.407
> 
> 标签：node.js, express, ejs

我正在关注 Steven Senderson 关于 NodeJS 的帖子。我已经克服了由于 Express 中的版本更改而导致的破坏代码，正如这个[问题](https://stackoverflow.com/questions/14096085/)中所建议的那样。现在，当我`index.html`使用它访问我的页面时，它会按原样`localhost:13253`呈现内容。`index.html`它没有使用`layout.html`. 我已经跟踪了它，`ejs.js`并且`ejs-middleware`还调用了函数，但没有应用布局。服务器代码如下：

```
var express = require('express'),
app = express(),
api = require("./api/server.js"),
ejsm = require('ejs'),
ejsMiddleware = require('ejs-middleware');

app.use('/api', api);

app.use(ejsMiddleware(__dirname + '/Static', 'html', app));

app.use(express.static(__dirname + '/Static'));

app.listen(process.env.port || 12345); 
```

编辑：-

```
//INDEX.HTML

this is homepage

//layout.html

<!DOCTYPE html>

<html lang="en">
    <head>
        <meta charset="utf-8" />
        <title>Inventify (alpha)</title>
        <script type="text/jscript" src="/scripts/jquery-1.8.3.min.js"></script>
        <script type="text/javascript" src="/scripts/knockout-2.2.0.js"></script>
        <link rel="stylesheet" href="/Styles/app.css"/>
    </head>
    <body>
        <h1 class="site-title">
            <a href="/">Iventify<span class="version">(alpha)</span></a>
        </h1>
        <div class="main-container">
            <%- body %>
        </div>
    </body>
    <script type="text/javascript">
        alert('from template');
</script>
</html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-02T06:21:27.960

运行 express 二进制文件以生成裸 express 项目（它会这样做！），

```
./node_modules/express/bin/express 
```

对于说的部分

```
app.set('view_engine', 'jade'); 
```

将其更改为 ejs。它现在将使用`.ejs`ejs 模板读取所有文件。

# javascript - 使用 onclientclick 时 onclick 不起作用

> ID：14117516
> 
> 赞同：0
> 
> 时间：2013-01-02T05:58:40.177
> 
> 标签：javascript, asp.net, .net

**设计：**

```
<telerik:RadButton ID="RadBtnSubmit" Text="Submit" runat="server" 
            BackColor="#3399FF" ForeColor="White" 
            Height="30px" Width="100px" ButtonType="LinkButton" AutoPostBack="false"
            OnClientClick="return validate();" 
            UseSubmitBehavior="false" 
            OnClick="RadBtnSubmit_Click"/> 
```

**javascript:**

```
 <telerik:RadCodeBlock ID="RadCodeBlock2" runat="server">
    <script type="text/javascript" language="javascript">
        function validate() {
            var CompanyName = /^[A-Za-z0-9]{3,20}$/;
            var txtCompanyName = document.getElementById('<%=radtxtCompanyName.ClientID %>').value;
            if (!CompanyName.test(txtCompanyName)) {
                document.getElementById("<%=radtxtCompanyName.ClientID %>").style.borderColor = "red";
                 alert("false");
                return false;
            }
            alert("true");
            return true;
        }
    </script>
    </telerik:RadCodeBlock> 
```

**此按钮位于更新面板中。** 仅在客户端单击上工作，我根据情况正确收到警报。
但是我的 onclick 部分是单独没有被执行的。
我还尝试将 return false 与函数名称一起放在 onclientclick 中，但这也不起作用。

提前感谢朋友。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-02T09:49:29.527

从您的 aspx 页面中删除`AutoPostback="false"`和删除。`UseSubmitBehavior="false"`它会为你工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-02T06:00:50.493

放

```
OnClientClick="if(!validate()) return;" 
```

如果你设置

```
OnClientClick="return validate() ;" 
```

无论您的验证是否通过，它都会返回，并且不会触发回发。

# c++ - C中的位运算符

> ID：14117525
> 
> 赞同：4
> 
> 时间：2013-01-02T06:00:18.067
> 
> 标签：c++, c, gcc, bit-manipulation, bitwise-operators

我已经编写了一个用于交换位位置（源位和目标位）的代码..它工作正常..但是有没有优化的代码来做到这一点？

```
int bit_swap(int num, int sbit, int dbit)
{
if(num & (1 << sbit) == num & (1 << dbit))
return num;
else
return (num ^ ((1 << sbit) | (1 << dbit)));
} 
```

这里.. num 是输入数字.. sbit 是源位位置，dbit 是目标位位置..

**有没有办法在不使用if**和**else**的情况下在一行中编写此代码

 *** * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-01-02T06:03:52.700

你犯了一个经典的错误，认为 C 中的行越少意味着代码越优化。

您应该真正检查汇编程序输出并分析您的代码，看看它是否是一个实际的瓶颈。

我倾向于做的是首先优化*可读性*，然后只有在它成为问题时才攻击性能。因此，一个更具可读性的解决方案（在我看来并不那么谦虚）是这样的：

```
unsigned int bit_swap (unsigned int num, unsigned int pos1, unsigned int pos2) {
    // Swapping identical bit positions is a no-op.

    if (pos1 == pos2)
        return num;

    // Get masks from bit positions.

    unsigned int mask1 = 1 << pos1;
    unsigned int mask2 = 1 << pos2;

    // Get bit truth values.

    int bit1_was_set = ((num & mask1) != 0);
    int bit2_was_set = ((num & mask2) != 0);

    // Clear and set first bit (set only if second bit was originally set).

    num = num & ~mask1;
    if (bit2_was_set)
        num = num | mask1;

    // Do the same for other bit.

    num = num & ~mask2;
    if (bit1_was_set)
        num = num | mask2;

    // Return the value with swapped bits.

    return num;
} 
```

尽管行数比您的方法多得多，但您很可能会发现现在可用的疯狂优化的编译器会在幕后为您提供类似的代码。

您几乎肯定*会*发现，非 C 专家（可能还有您自己，六个月后）将能够比单行多位运算符变体更好地理解您的源代码。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-01-02T06:36:37.503

无条件版本。

```
int bit_swap(int num, int sbit, int dbit)
{
    int sval = !!(num & (1 << sbit));  // sets to 1 iff the s-bit is already set
    int dval = !!(num & (1 << dbit));  // sets to 1 iff the d-bit is already set

    int xorval = (sval ^ dval); // sets to 1 if (sval != dval), otherwise 0

    // so if xorval is 1, then it will toggle the bits at the S and D positions
    // otherwise, the expression below evalutes to "num" that was passed in
    return (num ^ ((xorval << sbit) | (xorval << dbit)));
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-13T16:08:00.267

我想出了

```
unsigned swapBits(unsigned num, int sbit, int dbit)
{
  return ( num &               // All bits
    ~((1<<sbit) | (1<<dbit)))  // Except sbit and dbit
    | (((num>>sbit)&1)<<dbit)  // but with sbit moved to dbit
    | (((num>>dbit)&1)<<sbit); // and with dbit moved to sbit
} 
```

我确实有一个 ARM 的想法，它的成本低廉。**

# android - 在列表视图中加载图像的线程

> ID：14117528
> 
> 赞同：1
> 
> 时间：2013-01-02T06:00:39.683
> 
> 标签：android, listview

我正在使用线程在我的 BaseAdapter 类的 getview() 中加载图像。但是图像没有正确加载..当我滚动列表视图图像正在改变..某些位置出现相同的图像..帮我解决这个问题。

这是我的getview代码：

```
public View getView(int position, View convertView, ViewGroup parent) 
    {
        // TODO Auto-generated method stub      

//       View listView = convertView;
        Position=position;
         ViewHolder holder;

         Thread thread = new Thread()
         {
             public void run() 
             {
                  bitmap=   DownloadImage(
                         kickerimage[Position] );       

             }
         };
         thread.start();
//  Bitmap bitmap=  DownloadImage(
//               kickerimage[position] );       

         if (convertView   == null) 
            {
                //this should only ever run if you do not get a view back            
             LayoutInflater  inflater = (LayoutInflater) contxt
                    .getSystemService(Context.LAYOUT_INFLATER_SERVICE);
             convertView  = inflater.inflate(R.layout.homelistrow, null); 

             holder = new ViewHolder();

             holder.image = (ImageView) convertView
                        .findViewById(R.id.icon);

             holder.text = (TextView) convertView
                        .findViewById(R.id.name_label);
             convertView.setTag(holder);            
            }

         else
                    { 
                        holder = (ViewHolder) convertView.getTag();         
                     }
//       

         holder.image.setImageBitmap(bitmap);
////         items=itemsarray[position];
         holder.text.setText(itemsarray[position]);

return convertview
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T06:09:58.783

图像的延迟加载`ListView`是您正在寻找的内容，下面的链接可能会对您有所帮助。还可以尝试在 google 中搜索 android 中的延迟加载图像，可能会有很多结果可能对您有所帮助。

1.  [Android，如何从 url 延迟加载图像并将它们持久地缓存在图库小部件中？](https://stackoverflow.com/questions/6125754/android-how-to-lazy-load-images-from-url-and-persistently-cache-them-in-gallery)

2.  [懒惰列表](https://github.com/thest1/LazyList)

# android - 远程视图中的旋转图像

> ID：14117529
> 
> 赞同：0
> 
> 时间：2013-01-02T06:00:42.840
> 
> 标签：android, bitmap, backwards-compatibility, android-appwidget, remoteview

我正在制作一个电池小部件，为了避免不同级别有 20 个单独的 PNG 文件，我有一个 PNG，我将其旋转到 20 个位置。在 Android 3.x+ 上，这很容易，因为 ImageView 元素作为旋转属性。为了向后兼容，我使用矩阵生成其他图像，如下所示：

```
if(Build.VERSION.SDK_INT < 11) {
        Bitmap bmp = BitmapFactory.decodeResource(context.getResources(), R.drawable.battery_green);
        Matrix m = new Matrix();
        for(int i = 0; i < 20; i++) {
            String idName = "batt_s_"+i;
            int id = context.getResources().getIdentifier(idName, "id", context.getPackageName());
            m.setRotate((i * 18) - 8);
            Bitmap newBmp = Bitmap.createBitmap(bmp, 0, 0, bmp.getWidth(), bmp.getHeight(), m, true);
            myViews.setImageViewBitmap(id, newBmp);
        }
    } 
```

然而，这不起作用，因为虽然图像本身相当小，但这样做 20 次超过了活页夹限制，我得到了！Binder 交易失败！！！我生成的一个位图可以很好地发送，我觉得我需要一种方法以某种方式将我的一个大交易分成 20 个单独的交易。必须有办法绕过这个限制，这样我才能在 Android 2.x 上支持我的用户。有什么想法吗？

我必须补充一点，我正在修改的原始 PNG 文件在磁​​盘上是 903 字节。我的超出绑定限制的交易是 1,271,808 字节。我假设这是因为生成 Bitmap 对象实际上是创建了一个 BMP 文件，它的大小当然比 PNG 大得多。有没有办法完全避免使用位图？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-02T06:10:19.110

也许这可以帮助：

这是在可用的小活页夹限制内完成工作的解决方法。

[https://groups.google.com/forum/#!topic/android-developers/KKEyW6XdDvg/discussion](https://groups.google.com/forum/#!topic/android-developers/KKEyW6XdDvg/discussion)

# javascript - Javascript input.value更改未显示在浏览器中

> ID：14117540
> 
> 赞同：0
> 
> 时间：2013-01-02T06:02:09.840
> 
> 标签：javascript, html, dom

以下内容不会呈现我在 Chrome 或 Firefox 中看到的任何更改：

```
var field = document.getElementById( 'input-id' ), nodeName;

if ( field !== null ) {
    nodeName = field.nodeName.toLowerCase();

    if( nodeName === 'input' || nodeName === 'textarea' ) {
        field.value = 'hello';
        console.log( field.value );
    }
} 
```

这是目标：

```
<input id="input-id" name="input-name" type="text" required="required" placeholder="example"> 
```

但是控制台在两者中都报告了正确的值。为什么？我正在使用经过验证的 HTML5。该脚本位于结束`body`标记之前。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T06:04:54.083

您正在使用`,`而不是`.`编辑您的代码，伙计：

```
var field = document.getElementById( 'input-id' ).nodeName; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-02T06:34:44.133

由于您已经说明了以下内容，因此它可能不是脚本加载问题：

> 该脚本位于结束正文标记之前。

您必须`id`在页面上有多个相同的元素。查看您的源代码（在 Firefox 上为*Ctrl+U*）并搜索**input-id**。确保页面上只有一个元素具有该 ID。

`console.log`您还可以通过在其他调用中添加以下行来记录正在更改的元素：

```
console.log( field ); 
```

这应该将整个元素记录到控制台并帮助您进一步调试。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-02T06:12:03.210

试试这个

```
 $(function() {
        var field = document.getElementById( 'input-id' ), nodeName;
        if ( field !== null ) {
            nodeName = field.nodeName.toLowerCase();

            if( nodeName === 'input' || nodeName === 'textarea' ) {
                field.value = 'hello';
                console.log( field.value );
            }
        }
     }); 
```

或将您的脚本放在页面末尾。

它不起作用的原因是因为您的脚本在您的输入标签渲染之前执行。所以将它放在 end 或 body load 事件中，或者如果您使用 jquery 而不是放入文档就绪函数

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-02T06:14:03.247

您的脚本可能在您的输入元素之前加载。

尝试将您的代码段放在页面底部。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-02T06:24:51.327

我认为您缺少添加`onload function`. 你可以添加`<body>`喜欢

`<body onload="sumfunction();">`

或在javascript中

```
<script>
    window.onload = sumfunction; 
</script> 
```

这是一个例子：http: [//jsbin.com/ezovun/1/edit](http://jsbin.com/ezovun/1/edit)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-01-03T03:33:15.513

Turns out I was accidentally overwriting the input value to the empty string elsewhere in the script, immediately after I set it with the code in the OP. My console.log, being in the place that it was, grabbed the value before it was overwritten, which is why it reported the correct value despite getting a different result in the browser. I apologize for not posting the entire script, but I was trying to offer a reduced example.

# java - java.lang.NoClassDefFoundError: java.awt.Container

> ID：14117541
> 
> 赞同：11
> 
> 时间：2013-01-02T06:02:11.003
> 
> 标签：java, awt

我正在尝试为 UML 安装 Visual Paradigm。在安装过程中它崩溃了。这是堆栈跟踪：

```
Unpacking JRE ...
Preparing JRE ...
Starting Installer ...
java.lang.NoClassDefFoundError: java.awt.Container
    at com.install4j.runtime.installer.frontend.headless.AbstractHeadlessScreenExecutor.init(Unknown Source)
    at com.install4j.runtime.installer.frontend.headless.ConsoleScreenExecutor.<init>(Unknown Source)
    at com.install4j.runtime.installer.frontend.headless.InstallerConsoleScreenExecutor.<init>(Unknown Source)
    at com.install4j.runtime.installer.Installer.getScreenExecutor(Unknown Source)
    at com.install4j.runtime.installer.Installer.runInProcess(Unknown Source)
    at com.install4j.runtime.installer.Installer.main(Unknown Source)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
    at java.lang.reflect.Method.invoke(Unknown Source)
    at com.exe4j.runtime.LauncherEngine.launch(Unknown Source)
    at com.install4j.runtime.launcher.Launcher.main(Unknown Source)
java.lang.NoClassDefFoundError: java.awt.Component
    at javax.swing.ImageIcon.<clinit>(Unknown Source)
    at com.install4j.runtime.installer.frontend.GUIHelper.loadIcon(Unknown Source)
    at com.install4j.runtime.installer.frontend.GUIHelper.<clinit>(Unknown Source)
    at com.install4j.runtime.installer.helper.InstallerUtil.reportException(Unknown Source)
    at com.install4j.runtime.installer.Installer.main(Unknown Source)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
    at java.lang.reflect.Method.invoke(Unknown Source)
    at com.exe4j.runtime.LauncherEngine.launch(Unknown Source)
    at com.install4j.runtime.launcher.Launcher.main(Unknown Source) 
```

安装程序似乎在 WT 库中找不到类。我看不出这怎么可能。有谁知道是什么原因造成的，我该如何解决？

[系统信息]

```
java version "1.6.0_24"
OpenJDK Runtime Environment (IcedTea6 1.11.5) (6b24-1.11.5-0ubuntu1~12.04.1)
OpenJDK 64-Bit Server VM (build 20.0-b12, mixed mode) 
```

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2014-06-25T13:52:16.900

在 ubuntu 14.04 上，Hayden 给出的答案对我不起作用，因为该软件包不存在。

这确实有效：

```
apt-get install libxtst6:i386 
```

即它需要 32 位版本的 libxtst

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2013-10-01T13:26:31.130

我在安装 SoapUI 软件时遇到了同样的问题，这个命令对我有用：

```
$ ./soapUI-x32-4.6.0.sh -J-Djava.awt.headless=true 
```

我的系统：

```
Linux 3.10-2-amd64 #1 SMP Debian 3.10.7-1 (2013-08-17) x86_64 GNU/Linux 
```

还有我的 JVM 版本：

```
$ java -version
    java version "1.6.0_30"
    Java(TM) SE Runtime Environment (build 1.6.0_30-b12)
    Java HotSpot(TM) 64-Bit Server VM (build 20.5-b03, mixed mode) 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2013-02-18T14:01:22.960

尝试在 Ubuntu 12.10 64 位上安装 Visual Paradigm 时遇到了同样的问题。

爪哇版：

```
java version "1.7.0_11"
Java(TM) SE Runtime Environment (build 1.7.0_11-b21)
Java HotSpot(TM) 64-Bit Server VM (build 23.6-b04, mixed mode) 
```

这似乎解决了这个问题：

`sudo apt-get install ia32-libs`

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2014-10-20T04:27:50.010

运行脚本`-J-Djava.awt.headless=true`

> sh SoapUI-x32-5.0.0.sh -J-Djava.awt.headless=true

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2019-03-20T05:44:03.117

在 Ubuntu18.04 上运行此命令

```
sudo apt-get update
sudo apt-get install libxi6 libxtst6 libxrender1 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-01-02T06:16:02.973

在我看来，这可能是 OpenJDK 的问题。尝试使用此命令切换到官方 Oracle/Sun JDK。

```
sudo update-java-alternatives -s java-6-sun 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-10-29T07:52:04.580

您可以使用

```
`sudo update-java-alternatives -s java-6-oracle` 
```

而不是使用

```
`sudo update-java-alternatives -s java-6-sun` 
```

或尝试更改`6` `with the version of Java`您使用的。

# node.js - 使用nodejs将多个值插入mongodb中的属性

> ID：14117545
> 
> 赞同：1
> 
> 时间：2013-01-02T06:02:47.690
> 
> 标签：node.js, mongodb, mongoose

嗨，我使用以下代码将值插入到我的 mongodb

```
var mongoose = require('mongoose');
var db = mongoose.createConnection('mongodb://localhost/TruJuncSVC1');
db.on('error', console.error.bind(console, 'connection error:'));
db.once('open', function callback () {

console.log('connection opened in Mongodb with SAMPLE TESTING Database')
var schema = new mongoose.Schema({Response: String,Id:String,Name:String,News:String,Details:String});

var SvcOrch = db.model('SvcOrch', schema);
var data = new SvcOrch({ 'Response': 'DailyLoad','Id':'S3000981','Name':'Stears','News':'Mens Boutiques Try New Tactics for Winning Loyal CustomersTradition Finds New Biz in Old Font','Details':'Stears Roebuck and Co. or Stears, is an American chain of department stores,[2] which was founded by Richard Warren Sears and Alvah Curtis Roebuck in the late 19th century. Formerly a component of the Dow Jones Industrial Average, Stears bought out Kmart[3] in early 2005, creating the Stears Holdings Corporation.'});

                        data.save(function (err) {
                        if (err) return handleError(err);
                        // saved!
                        console.log('\nResponse data saved in MongoDB')
                        })
                        });
                        }); 
```

我可以为每个属性插入一个值，我需要为单个属性保存多个值，比如 id 应该有 2 或 3 个值，所有属性都一样。任何关于如何继续进行的想法都会很有帮助。谢谢提前

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-02T14:00:20.427

如果您需要为单个属性存储多个值，请将其声明为数组。

例如，如果您想为`news`每个文档存储多个项目，您可以将架构更改为：

```
var schema = new mongoose.Schema({
    Response: String,
    Id: String,
    Name: String,
    News: [String],
    Details: String
}); 
```

并创建具有多个新闻值的新项目：

```
var data = new SvcOrch({
    Response: 'DailyLoad',
    Id: 'S3000981',
    Name: 'Stears',
    News: ['News item 1', 'News item 2'],
    Details: 'More details...'
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-06-26T06:22:39.283

```
app.post('/insert', function (req, res) {
    console.log("Got a POST request for the add user");

    var data = {
        "first_name" : req.body.firstName,
        "second_name" : req.body.secondName,
        "organization" : req.body.organization,
        "email": req.body.email,
        "mobile" : req.body.mobile,
    };

    console.log(data);

    //Data insertion code
    var MongoClient = require('mongodb').MongoClient;
    var url = "mongodb://localhost:27017/";

    MongoClient.connect(url, function(err, db) {
        if (err) throw err;
        var dbo = db.db("toilet");
        dbo.collection("supervisor").insertOne(data, function(err, res) {
            if (err) throw err;
            console.log("1 document inserted");
            db.close();
        });
    });

    res.redirect('success.html');

}); 
```

即使我们不更改架构，多值字段也会自动输入到 mongodb 中。系统会根据数据自动重新定义。以上代码是使用 post 方法向 mongodb 输入数据的示例 node.js 代码

# html - 土耳其里拉符号的浏览器支持和解决方法

> ID：14117547
> 
> 赞同：6
> 
> 时间：2013-01-02T06:03:21.350
> 
> 标签：html, unicode, turkish

所以土耳其最近决定为他们的里拉创建一个新标志：

![在此处输入图像描述](../Images/15e526e7a60df76af2d5840c82363a8f.png)

Unicode 6.2（2012 年 9 月发布）将此添加到[其曲目](http://www.unicode.org/charts/PDF/U20A0.pdf)中`U+20BA ₺ TURKISH LIRA SIGN`，并且我被要求开始在我正在构建的 Web 应用程序中使用它。问题是目前还没*有人*支持这一点（显然 Windows 8 除外），而且它没有显示为通常的正方形、问号或块 o' hex，而是各种其他随机的东西。通常可靠的[fileformat.info](http://www.fileformat.info/info/unicode/char/20ba/index.htm)认为它应该是这样的：

![在此处输入图像描述](../Images/5535c86f5205af81ff099332d4caa55a.png)

...这也是我在 OS X 上得到的。 [Charbase](http://www.charbase.com/20ba-unicode-invalid-character)也出错了，但不同的是：

![在此处输入图像描述](../Images/d04380bc9e1e1e4f9e8cd6dd7e3ab831.png)

实际问题：有什么明智的方法可以解决这个问题吗？最大的复杂性是该字符应该被允许出现在任意的、用户可编辑的文本中，因此任何基于图像的解决方案都被排除在外。

还有理论上的问题：据我所知，U+20BA 从来没有分配过一个字符，那么那些奇怪的符号是从哪里冒出来的呢？我没有遇到同样的问题`U+20B9 ₹ INDIAN RUPEE SIGN`，它几乎是新的并且受到严重支持，但至少失败得更优雅。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-01-02T12:04:30.090

目前最好的拍摄可能是使用谷歌字体[Source Sans Pro](http://www.google.com/webfonts#UsePlace:use/Collection:Source+Sans+Pro)。它在其 latin1 子集中包含土耳其里拉。所以你可以使用例如

```
<link rel=stylesheet href=
"http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700,400italic,700italic&amp;subset=latin,latin-ext">
<style>
body { font-family: Source Sans Pro; }
</style> 
```

但是，这意味着您应该考虑使用 Source Sans Pro 作为您的整体字体。这有两个原因。假设您声明`font-family: Arial, Source Sans Pro`例如。首先，IE 9 无法渲染土耳其里拉（它确实不擅长使用字体）。其次，在技术上使用字体的浏览器上，像“₺50”（土耳其里拉前面的数字）这样的表达式看起来很奇怪，因为数字比货币符号高得多。原因是在 Source Sans Pro 中，TURKISH LIRA 被设计为匹配该字体中数字的高度，而在 Arial 中，数字的高度较小。

作为替代方案，您可以使用相对较大尺寸的土耳其里拉图像并使用`img`元素来嵌入它，并将`height`属性设置为`em`单位以使其缩放到字体大小。尺寸较大的原因是图像通常向下缩放得很好，但向上缩放得不是很好。在我[在 HTML 中使用特殊字符的指南中](http://www.cs.tut.fi/~jkorpela/html/characters.html)，我建议使用`height: 0.8em`对于嵌入为图像的字符，但确切的尺寸实际上取决于字符和图像的设计以及它应该如何与字体中的字符相关联。正常的原则是让“$”、“£”和“€”等货币字符与数字占据相同的高度（具体来说，“衬数字”或“大写数字”，这是大多数字体默认具有的； Source Sans Pro 也有“旧式图形”，但需要使用 CSS 进行选择）。

从长远来看，土耳其里拉是 Unicode 中的最新字符，于去年 9 月添加，从一个字符采用 Unicode 到其在字体中普遍可用，通常需要大约十年或更长时间。

PS 这是字体问题，不是浏览器问题，尽管一些浏览器 (IE) 仍然难以从不同字体中提取字符。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-01-02T06:07:01.610

您可以通过以下方式在 Web 上提供您自己的字体：[https ://developer.mozilla.org/en-US/docs/CSS/@font-face 并通过](https://developer.mozilla.org/en-US/docs/CSS/@font-face)[http://fontforge.org/](http://fontforge.org/)创建您自己的字体

如果您使用 XML 并且您的要求不允许它，您可以使用实体来定义一些标记，其中包括暂时的图像标记（以后可以用 Unicode 字符替换），或者通过[JS在 HTML 中做类似的事情或 CSS](https://github.com/brettz9/js-css-entities)。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-02T06:24:46.523

我认为“什么都不做”是最好的主意。如果用户的浏览器/字体不支持，那么需要升级的是用户。您在服务器端所做的任何事情都将是 hack（尽管通过 CSS 提供字体并不是一个坏主意）。如果您的应用程序在用户提供的文本中支持任意 Unicode，最终您的应用程序将变得兼容，因为较旧的浏览器和设备会被较新的浏览器和设备取代。

向你的老板解释这一点是困难的部分。

# iphone - 如何暂时保存 NSMutableArray 计数？

> ID：14117549
> 
> 赞同：-2
> 
> 时间：2013-01-02T06:03:34.063
> 
> 标签：iphone, ipad, sdk, ios6

我是新的 IOS，我想知道如何暂时保存 NSMutableArray 计数母猪我可以与新计数进行比较？

我在应用程序上添加了带有计数的徽章图标，当我单击新行时删除，但是当我刷新并添加新行时，再次添加所有徽章。

这是代码：

```
- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
{

[[UIApplication sharedApplication] setApplicationIconBadgeNumber:self.parseResults.count];

return self.parseResults.count;

}

- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath
{

NSInteger badge = [[UIApplication sharedApplication] applicationIconBadgeNumber];

if (badge > 0) {
    [[UIApplication sharedApplication] setApplicationIconBadgeNumber:(badge - 1)];
}

} 
```

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-02T06:06:45.307

你的设计不是一个好的设计。永远不要那样做。应用徽章编号不是用来存储用户数据的，它是用来给用户提供视觉指示的。

您需要改用临时变量。

```
int tempCount  = 0;

- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
{

   tempCount = self.parseResults.count;

   return self.parseResults.count;

}

- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath
{
    if (tempCount > 0)
    {
       tempCount -=1;
    }

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-02T06:07:37.460

```
[[NSUserDefaults standardUserDefaults] setInteger:nombre forKey:@"MaxCount"];
[[NSUserDefaults standardUserDefaults] synchronize] 
```

// 以上代码用于保存...

并且为了找回这个最大计数，你可以在任何你想要我的朋友的地方写下面的代码

```
 NSInteger getMax1=[[NSUserDefaults standardUserDefaults] integerForKey:@"MaxCount"];//This is for getting stored max count... 
```

让我知道它是否有效...

快乐编码...!!!

# visual-studio-2010 - 有没有人使用过 GMF 桥和 GMF 播放项目

> ID：14117557
> 
> 赞同：0
> 
> 时间：2013-01-02T06:04:40.530
> 
> 标签：visual-studio-2010, visual-c++, directx, directshow, h.264

有一个名为 GMF 桥和 GMF 播放的项目，可在以下链接 [http://www.gdcl.co.uk/gmfbridge/](http://www.gdcl.co.uk/gmfbridge/)在这个项目中，我们能够将文件作为输入并播放它，但**我怎么能将 H264 数据包作为输入并使其**连续播放，因为它将文件的路径作为输入....

原始代码如下：-

```
HRESULT hr = m_pPlayer->AddClip(ofn.lpstrFile, &pClip);
ClipPlayer::AddClip(const char* path, ClipEntry** ppClip)
{
    list<ClipEntry>::iterator it = m_Clips.insert(m_Clips.end(), ClipEntry());
    ClipEntry* pClip = &(*it);
    *ppClip = pClip;
HRESULT hr = pClip->Create(m_pController, path);
.....
...
} 
```

我所做的是

我打开文件并解析 NAL 单元并将 NAL 单元保存到字节数组中，并给出 BYTEArray 而不是文件名。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-02T10:05:58.823

您首先必须创建自己的源过滤器，将您的字节数组发送到其他 directshow 过滤器。我在某处读到 sdk 包含一个将文件读入内存并使用它的示例，但我目前无法验证这一点。

接下来，您必须修改 ClipEntry 类以使用您创建的源过滤器而不是标准文件源。

# opengl - glviewport 参数的单位大小是多少？

> ID：14117560
> 
> 赞同：1
> 
> 时间：2013-01-02T06:04:54.187
> 
> 标签：opengl, opengl-es

我不清楚 glviewport 参数的单位大小到底是多少。

```
 glViewport(0, 0, 200, 200); 
```

它似乎显然不是 OpenGL 单位（绘图时使用的单位相同）。这些数字是否`glviewport`自动转换为与显示 OpenGL 上下文的窗口系统对应的相同单位大小？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-02T07:35:23.197

它们不会“自动翻译”成任何东西。[glViewport](http://www.opengl.org/wiki/GLAPI/glViewport)的参数是窗口坐标。它们是相对于任何渲染表面（实际显示或某些 FBO）的像素坐标。(0, 0) 表示渲染表面的左下角。

# extjs4 - EXTJS4-如何在网格列中添加超链接？

> ID：14117561
> 
> 赞同：0
> 
> 时间：2013-01-02T06:05:01.370
> 
> 标签：extjs4

我想在我的网格的一列中有链接，比如该列中每一行的名为“历史”的标签，点击它会带我到另一个 html 页面，提供该行的详细信息。我还需要新打开的 html 页面中该行中的信息。

请让我知道该怎么做。

蒂亚！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-02T11:57:37.933

您可以使用Column 上的[renderer](http://docs.sencha.com/ext-js/3-4/#!/api/Ext.grid.Column-cfg-renderer)方法来呈现链接，或[模板列](http://docs.sencha.com/ext-js/4-1/#!/api/Ext.grid.column.Template)( `Ext.grid.column.Template`)。

# plugins - 使用 nagios check_jmx 插件监控 JMX 属性

> ID：14117566
> 
> 赞同：0
> 
> 时间：2013-01-02T06:05:32.180
> 
> 标签：plugins, jmx, nagios, nrpe

我正在使用 nagios 插件 check_jmx 监控 JMX 属性。该插件生成多个名为 JMXQuery 的进程，然后系统挂起。这是什么原因以及这个插件是如何工作的？..请尽快帮助我

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-03T16:23:36.200

如果没有任何其他信息，很难说出问题可能是什么，但听起来您的插件可能无法连接到预期的端点。由于标准 JMX RMI 远程实现中没有 [可配置的] 连接/读取超时，这个问题变得更加严重，因此如果出现网络问题（JMX-RMI 的常见问题），启动的 JVM 将永远不会连接并且永远不会终止。

也许您可以在您的 nagios 主机上启动 JConsole 并连接到运行插件的 JVM 之一并检查线程堆栈。如果做不到这一点，**kill -3 PID**应该将线程转储发送到标准输出，希望能揭示潜在的问题是什么。

# java - 在黑莓中将位图转换为base64字符串

> ID：14117569
> 
> 赞同：-1
> 
> 时间：2013-01-02T06:05:34.150
> 
> 标签：java, blackberry, bitmap, base64

我有一张图片需要发送到服务器。有没有办法在黑莓中将位图（jpg）转换为 base64 字符串？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-03T21:06:18.187

您的要求有点模糊和奇怪，但是我希望这可以有所帮助：

使用下面的代码可以得到一个 JPEG 二进制数据`Bitmap`（注意，它是一个压缩的，所以如果与原始位图相比，数据的大小尽可能小）：

```
Bitmap bmp = ...; // your bitmap
int quality = 85;
EncodedImage encodedImg = JPEGEncodedImage.encode(bmp, quality);
byte[] data = encodedImg.getData(); 
```

然后你可以用`Base64OutputStream`. 有关如何编码的示例代码，请参阅[API 。](http://www.blackberry.com/developers/docs/5.0.0api/net/rim/device/api/io/Base64OutputStream.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-02T06:29:40.313

```
package com.covidien.screens;

import java.io.OutputStream;

import javax.microedition.io.Connector;
import javax.microedition.io.file.FileConnection;

import net.rim.device.api.system.Bitmap;
import net.rim.device.api.system.CDMAInfo;
import net.rim.device.api.system.GPRSInfo;
import net.rim.device.api.system.IDENInfo;
import net.rim.device.api.system.RadioInfo;
import net.rim.device.api.ui.Field;
import net.rim.device.api.ui.FieldChangeListener;
import net.rim.device.api.ui.UiApplication;
import net.rim.device.api.ui.component.BitmapField;
import net.rim.device.api.ui.component.ButtonField;
import net.rim.device.api.ui.component.Dialog;
import net.rim.device.api.ui.container.HorizontalFieldManager;
import net.rim.device.api.ui.container.MainScreen;

import org.kobjects.base64.Base64;
import org.ksoap2.SoapEnvelope;
import org.ksoap2.serialization.SoapObject;
import org.ksoap2.serialization.SoapSerializationEnvelope;
import org.ksoap2.transport.HttpTransport;

public final class ImageScreen extends MainScreen
{
    /** The down-scaling ratio applied to the snapshot Bitmap */
    private static final int IMAGE_SCALING = 5;
    private static final String boundary = "31BF3856AD364E35";
    /** The base file name used to store pictures */
    private static String FILE_NAME = System.getProperty("fileconn.dir.photos") + "IMAGE";

    /** The extension of the pictures to be saved */
    private static String EXTENSION = ".png";

    /** A counter for the number of snapshots taken */
    private static int _counter;

    /** A reference to the current screen for listeners */
    private ImageScreen _imageScreen;

    static String imageName=null;
    /**
    * Constructor
    * @param raw A byte array representing an image
    */
    public ImageScreen( final byte[] raw )
    {
        // A reference to this object, to be used in listeners
        _imageScreen = this;

        setTitle("IMAGE");

        // Convert the byte array to a Bitmap image
        Bitmap image = Bitmap.createBitmapFromBytes( raw, 0, -1, IMAGE_SCALING );

        // Create two field managers to center the screen's contents
        HorizontalFieldManager hfm1 = new HorizontalFieldManager( Field.FIELD_HCENTER );
        HorizontalFieldManager hfm2 = new HorizontalFieldManager( Field.FIELD_HCENTER );

        // Create the field that contains the image
        BitmapField imageField = new BitmapField( image );
        hfm1.add( imageField );

        // Create the SAVE button which returns the user to the main camera
        // screen and saves the picture as a file.
        ButtonField photoButton = new ButtonField( "Use" );
        photoButton.setChangeListener( new SaveListener(raw) );
        hfm2.add(photoButton);

        // Create the CANCEL button which returns the user to the main camera
        // screen without saving the picture.
        ButtonField cancelButton = new ButtonField( "Retake" );
        cancelButton.setChangeListener( new CancelListener() );
        hfm2.add(cancelButton);

        // Add the field managers to the screen
        add( hfm1 );
        add( hfm2 );
    }

    /**
    * Handles trackball click events
    * @see net.rim.device.api.ui.Screen#invokeAction(int)
    */
    protected boolean invokeAction(int action)
    {
        boolean handled = super.invokeAction(action);

        if(!handled)
        {
            switch(action)
            {
                case ACTION_INVOKE: // Trackball click.
                {
                    return true;
                }
            }
        }
        return handled;
    }

    /**
    * A listener used for the "Save" button
    */
    private class SaveListener implements FieldChangeListener
    {

        /** A byte array representing an image */
        private byte[] _raw;

        /**
        * Constructor.
        * @param raw A byte array representing an image
        */
        SaveListener(byte[] raw)
        {
            _raw = raw;
        }

        /**
        * Saves the image as a file in the BlackBerry filesystem
        */
        public void fieldChanged(Field field, int context)
        {
            try
            {
                // Create the connection to a file that may or
                // may not exist.
                FileConnection file = (FileConnection)Connector.open( FILE_NAME + _counter + EXTENSION );

                // If the file exists, increment the counter until we find
                // one that hasn't been created yet.
                while( file.exists() )
                {
                    file.close();
                    ++_counter;
                    file = (FileConnection)Connector.open( FILE_NAME + _counter + EXTENSION );
                }

                // We know the file doesn't exist yet, so create it
                file.create();

                // Write the image to the file
                OutputStream out = file.openOutputStream();
                out.write(_raw);

                System.out.println("Boundary  :::::"+boundary);
                //*******************************************************************************************************
                String serviceUrl = "URL/Service.asmx";
                String serviceNamespace = "http://tempuri.org/";
                String soapAction="http://tempuri.org/Upload";
                SoapObject rpc = new SoapObject(serviceNamespace, "Upload");
                SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);

                envelope.bodyOut = rpc;
                envelope.dotNet = true;
                envelope.encodingStyle = SoapSerializationEnvelope.XSD;
                rpc.addProperty("contents",Base64.encode(_raw));
                imageName="Image" + _counter + EXTENSION;
                rpc.addProperty("FileName", imageName );
                HttpTransport ht = new HttpTransport(serviceUrl);
                ht.debug = true;
                String result;

                //                String str = null;

                SoapObject soapObject;

                try
                {
                    ht.call(soapAction, envelope);
                    result = (envelope.getResponse()).toString();
                    //                      if((envelope.getResponse()).toString().trim().equals("OK"))
                    //                      {
                        //                         UiApplication.getUiApplication().pushScreen(new DoctorPopup());
                    //                     }
                    //                    if(result.length()==2 ||  result.equalsIgnoreCase("OK"))
                    //                     {
                        //                       UiApplication.getUiApplication().pushScreen(new DoctorPopup());
                    //                     }

                    if(result.length()==2)
                    {
                        UiApplication.getUiApplication().pushScreen(new DoctorPopup());
                    }

                    soapObject = (SoapObject) envelope.getResponse();
                    //                     Dialog.alert("soapObject" + soapObject);
                }
                catch(Exception ex)
                {
                    //if we get an exception we'll just write the msg to the screen.
                    System.out.println(ex.getMessage());
                    result = ex.toString();
                }

                // Close the connections
                out.close();
                file.close();
            }
            catch(Exception e)
            {
                WelcomeScreen.errorDialog("ERROR " + e.getClass() + ":  " +    e.getMessage());
                System.out.println(e.getMessage());
            }

            ++_counter;
        }   
    }

    /**
    * A listener used for the "Cancel" button
    */
    private class CancelListener implements FieldChangeListener
    {
        /**
        * Return to the main camera screen
        */
        public void fieldChanged(Field field, int context)
        {
            UiApplication.getUiApplication().popScreen( _imageScreen );
        }
    }

    public final static boolean isCDMA() {
        return RadioInfo.getNetworkType() == RadioInfo.NETWORK_CDMA;
    }

    public final static boolean isIDEN() {
        return RadioInfo.getNetworkType() == RadioInfo.NETWORK_IDEN;
    }

    public static final String getIMEI() {
        if (ImageScreen.isCDMA()) {
            return ""+CDMAInfo.getESN();
        } else if (ImageScreen.isIDEN()){
            return IDENInfo.imeiToString(IDENInfo.getIMEI());
        } else {
            return GPRSInfo.imeiToString(GPRSInfo.getIMEI());
        }
    }
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-03T01:34:37.073

找到了这个，将位图转换为字节 [] 的速度要快得多。正是我需要的。

```
import java.io.*;
import javax.microedition.lcdui.Image;
import net.rim.device.api.compress.ZLibOutputStream;

public class MinimalPNGEncoder
{
  public static Image toImage(int width, int height, byte[] alpha, byte[] red, byte[] green, byte[] blue)
{
    try    
    {
    byte[] png = toPNG(width, height, alpha, red, green, blue);
    return Image.createImage(png, 0, png.length);
    }
    catch (IOException e)
    {
    return null;
    }
}

public static byte[] toPNG(int width, int height, byte[] alpha, byte[] red, byte[] green, byte[] blue) throws IOException
 {
    byte[] signature = new byte[] {(byte) 137, (byte) 80, (byte) 78, (byte) 71, (byte) 13, (byte) 10, (byte) 26, (byte) 10};
    byte[] header = createHeaderChunk(width, height);
    byte[] data = createDataChunk(width, height, alpha, red, green, blue);
    byte[] trailer = createTrailerChunk();

    ByteArrayOutputStream png = new ByteArrayOutputStream(signature.length + header.length + data.length + trailer.length);
    png.write(signature);
    png.write(header);
    png.write(data);
    png.write(trailer);
    return png.toByteArray();
 }

public static byte[] createHeaderChunk(int width, int height) throws IOException
{
    ByteArrayOutputStream baos = new ByteArrayOutputStream(13);
    DataOutputStream chunk = new DataOutputStream(baos);
    chunk.writeInt(width);
    chunk.writeInt(height);
    chunk.writeByte(8); // Bitdepth
    chunk.writeByte(6); // Colortype ARGB
    chunk.writeByte(0); // Compression
    chunk.writeByte(0); // Filter
    chunk.writeByte(0); // Interlace    
    return toChunk("IHDR", baos.toByteArray());
}

public static byte[] createDataChunk(int width, int height, byte[] alpha, byte[] red, byte[] green, byte[] blue) throws IOException
{    
    int source = 0;
    int dest = 0;
    byte[] raw = new byte[4*(width*height) + height];
    for (int y = 0; y < height; y++)
    {
      raw[dest++] = 0; // No filter
      for (int x = 0; x < width; x++)
      {
        raw[dest++] = red[source];
        raw[dest++] = green[source];
        raw[dest++] = blue[source];
        raw[dest++] = alpha[source++];
      }
    }
    return toChunk("IDAT", toZLIB(raw));
}

public static byte[] createTrailerChunk() throws IOException
{
    return toChunk("IEND", new byte[] {});
}

public static byte[] toChunk(String id, byte[] raw) throws IOException
{
    ByteArrayOutputStream baos = new ByteArrayOutputStream(raw.length + 12);
    DataOutputStream chunk = new DataOutputStream(baos);

    chunk.writeInt(raw.length);

    byte[] bid = new byte[4];
    for (int i = 0; i < 4; i++)
    {
        bid[i] = (byte) id.charAt(i);
    }

    chunk.write(bid);

    chunk.write(raw);

    int crc = 0xFFFFFFFF;
    crc = updateCRC(crc, bid);  
    crc = updateCRC(crc, raw);    
    chunk.writeInt(~crc);

    return baos.toByteArray();
}

static int[] crcTable = null;

public static void createCRCTable()
{
    crcTable = new int[256];

    for (int i = 0; i < 256; i++)
    {
      int c = i;
      for (int k = 0; k < 8; k++)
      {
        c = ((c & 1) > 0) ? 0xedb88320 ^ (c >>> 1) : c >>> 1;
      }
      crcTable[i] = c;
    }
}

public static int updateCRC(int crc, byte[] raw)
{
    if (crcTable == null)
    {
      createCRCTable();
    }

    for (int i = 0; i < raw.length; i++)
    {
      crc = crcTable[(crc ^ raw[i]) & 0xFF] ^ (crc >>> 8);      
    }

    return crc;
}

/* This method is called to encode the image data as a zlib
 block as required by the PNG specification. This file comes
 with a minimal ZLIB encoder which uses uncompressed deflate
 blocks (fast, short, easy, but no compression). If you want
 compression, call another encoder (such as JZLib?) here. */
public static byte[] toZLIB(byte[] raw) throws IOException
{
      //used the BB ZLib ...
  ByteArrayOutputStream outBytes = new ByteArrayOutputStream(1024);
  ZLibOutputStream compBytes = new ZLibOutputStream(outBytes, false, 10, 9);
  compBytes.write(raw, 0, raw.length);
  compBytes.close();
  return outBytes.toByteArray();
 //return ZLIB.toZLIB(raw);
 }
}

class ZLIB
{
  static final int BLOCK_SIZE = 32000;

  public static byte[] toZLIB(byte[] raw) throws IOException
{    
    ByteArrayOutputStream baos = new ByteArrayOutputStream(raw.length + 6 + (raw.length / BLOCK_SIZE) * 5);
    DataOutputStream zlib = new DataOutputStream(baos);

    byte tmp = (byte) 8;       
    zlib.writeByte(tmp);                           // CM = 8, CMINFO = 0
    zlib.writeByte((31 - ((tmp << 8) % 31)) % 31); // FCHECK (FDICT/FLEVEL=0)

    int pos = 0;
    while (raw.length - pos > BLOCK_SIZE)
    {
      writeUncompressedDeflateBlock(zlib, false, raw, pos, (char) BLOCK_SIZE);
      pos += BLOCK_SIZE;
    }

    writeUncompressedDeflateBlock(zlib, true, raw, pos, (char) (raw.length - pos));

    // zlib check sum of uncompressed data
    zlib.writeInt(calcADLER32(raw));

    return baos.toByteArray();
 }

 private static void writeUncompressedDeflateBlock(DataOutputStream zlib, boolean last,
                    byte[] raw, int off, char len) throws IOException
 {
    zlib.writeByte((byte)(last ? 1 : 0));         // Final flag, Compression type 0
    zlib.writeByte((byte)(len & 0xFF));           // Length LSB
    zlib.writeByte((byte)((len & 0xFF00) >> 8));  // Length MSB
    zlib.writeByte((byte)(~len & 0xFF));          // Length 1st complement LSB
    zlib.writeByte((byte)((~len & 0xFF00) >> 8)); // Length 1st complement MSB 
    zlib.write(raw,off,len);                      // Data    
 }

 private static int calcADLER32(byte[] raw)
 {
    int s1 = 1;
    int s2 = 0;
    for (int i = 0; i < raw.length; i++)
    {
      int abs = raw[i] >=0 ? raw[i] : (raw[i] + 256);
      s1 = (s1 + abs) % 65521;
      s2 = (s2 + s1) % 65521;      
    }
    return (s2 << 16) + s1;
 }
} 
```

这是您需要调用的方法。

```
public static byte[] toPNG(Bitmap image) throws IOException {

    int imageSize = image.getWidth() * image.getHeight();
    int[] rgbs = new int[imageSize];
    byte[] a, r, g, b;
    int colorToDecode;

    image.getARGB(rgbs, 0, image.getWidth() , 0, 0, image.getWidth(), image.getHeight());

    a = new byte[imageSize];
    r = new byte[imageSize];
    g = new byte[imageSize];
    b = new byte[imageSize];

    for (int i = 0; i < imageSize; i++) {
        colorToDecode = rgbs[i];

        a[i] = (byte) ((colorToDecode & 0xFF000000) >>> 24);
        r[i] = (byte) ((colorToDecode & 0x00FF0000) >>> 16);
        g[i] = (byte) ((colorToDecode & 0x0000FF00) >>> 8);
        b[i] = (byte) ((colorToDecode & 0x000000FF));
    }

    return MinimalPNGEncoder.toPNG(image.getWidth(), image.getHeight(), a, r, g, b);
} 
```

这不是我的。我非常感谢 Christian Frï¿½schlin 创建了这个并让其他开发人员使用它。这是[条款的链接。](http://blackberry.svn.wordpress.org/trunk/src/com/wordpress/utils/MinimalPNGEncoder.java)

在我忘记之前，这个有一个限制。它可以成功地将位图转换为大小小于或等于 63kb 的 byte[]，但如果大小超过限制，则转换后的图像会变色。

# tfs - 将用户添加为团队项目的贡献者时禁用添加按钮

> ID：14117570
> 
> 赞同：1
> 
> 时间：2013-01-02T06:05:40.153
> 
> 标签：tfs

我在 windows7 机器上安装了 Visual Studio 2010，我最近也在同一台机器上安装了 TFS2012。安装 TFS2012 后，我遇到的问题是，首先我无法通过 Visual Studio 2010 的 Team Explorer IDE 创建团队项目。我在互联网上搜索，发现我需要安装 VS2012 SP1 或 Team Explorer2012 来解决这个问题。安装 Team Explorer2012 后，我可以创建新的团队项目。

我的 Windows7 机器用户详细信息：有一个默认的系统管理员帐户，一个名为 USER1 的用户具有系统管理员和 TFS 管理员权限，还有一个用户 USER2 没有管理员权限。

我可以使用用户 USER1 创建新的团队项目\将项目添加到源代码管理，任何类型的管理员任务。

我的问题是我无法添加 [PROJECTNAME\CONTRIBUTORS] 的用户，我执行了以下步骤：在 Team explorer Team Project Settings -> Group Memberships -> [PROJECTNAME\CONTRIBUTORS] ->Properties 现在在当前打开的窗口中添加按钮被禁用，因此导致无法将添加用户添加到该组。实际上，我想将权限分配给另一个用户 USER2 作为团队项目的贡献者。

我想要的场景是： User1 ：能够创建团队项目并拥有团队项目的所有管理员权限。User2：应该能够签入/签出团队项目的任何文件

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-02T16:20:23.913

由于您是从 Windows 7 而非 Windows Server 操作系统运行 TFS，因此您必须添加本地用户才能访问 TFS。这是因为您在工作组而不是域中工作。

[在工作组中管理 Team Foundation Server](http://msdn.microsoft.com/en-us/library/ms252507%28v=vs.100%29.aspx)

[这是关于stackoverflow](https://stackoverflow.com/questions/3057164/how-to-add-new-users-to-tfs-2010)的类似问题，它也会有所帮助。

附带说明一下，codeplex 上有一个工具可以帮助您将权限分配给用户或组，并使管理权限变得非常容易。

[Team Foundation Server 管理工具](http://tfsadmin.codeplex.com/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-02T16:39:20.400

如果您在启动 Visual Studio 后进行了权限更改，我强烈建议您重新启动 Visual Studio。当 TFS 中的权限更改被执行并开始拒绝您访问您实际有权访问的内容时，Team Explorer 经常“惊慌失措”。如果 USER1 是 TFS 管理员，那么您没有理由不能从 Visual Studio 管理用户。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-03-05T23:49:07.073

我找到了一种更好的方法来处理添加用户的问题。这在没有 TFS 管理工具的情况下工作。

首先在管理控制台中创建一个新组（例如“TFS 用户”）。然后，您将能够将任何用户分配到该组。

现在转到团队项目并转到安全设置。您现在可以查看所有已分配的用户并为其设置权限。

# javascript - 将 div 的内容与输入字段数据一起获取到另一个 div

> ID：14117572
> 
> 赞同：0
> 
> 时间：2013-01-02T06:05:59.817
> 
> 标签：javascript, jquery, file-upload

我需要将 的内容`div1`复制到另一个`div2`.

的内容`div1`包含一个文件上传控件 (HTML5)，使用 javascript 动态生成。

我试过这样使用`jQuery`.

```
$('#div2').html($('#div1').html()); 
```

使用上面的代码，它只显示`html`文件上传控件中的文件路径，但缺少文件路径。

我什至尝试使用`javascript`这个：

```
var va = document.getElementById('div1');
document.getElementById('div2').innerHTML=va.innerHTML 
```

但这无济于事。结果相同，正在显示文件上传控件，但其中没有文件路径。

我尝试用`innerHTML`with替换，`innerText`但它将 html 内容显示为文本。

我试过`appendTo`in `jQuery`，它可以工作，但它会将整个复制`div1`到`div2`. 我只需要复制内容，而不需要复制整个 div。

我已经检查过了

[将 div 内容复制到另一个](https://stackoverflow.com/questions/11743538/copy-div-content-to-another-div)

但这无济于事。

这是我的[小提琴](http://jsfiddle.net/AVjzA/1/)

任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-02T06:27:15.607

`fileupload`控件没有将其内容复制为用户（客户端）安全措施。您对此无能为力。

但是，您可以*移动**实际*元素（而不是复制它们），如修改后的小提琴中[所示](http://jsfiddle.net/AVjzA/3/)。

我还没有测试过这个跨浏览器，我仍然建议不要尝试任何花哨的文件上传控件，因为没有说浏览器何时会将它锁定得更多。

**编辑：**我正在添加一个参考链接，正如评论中建议的@nbrooks。

如果您有时间阅读：[http ://answers.google.com/answers/threadview/id/61326.html](http://answers.google.com/answers/threadview/id/61326.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-02T06:27:47.277

请检查此代码。

```
$(document).ready(function(){
    $('input[type=file]').change(function(e){
          $in=$(this);
          $("#div2").append ( $in.val() );
    });
});​ 
```

[小提琴链接](http://jsfiddle.net/AVjzA/5/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-02T06:10:16.043

这将起作用

```
$(document).ready(function(){
        $('#datasubmit').click(function(){
             //var data = $('#div1')[0].innerHTML;

            //$('#div2')[0].innerHTML += data;
            $("#div2").append($("#div1").clone());
        });
    }); 
```

这是小提琴[http://jsfiddle.net/AVjzA/2/](http://jsfiddle.net/AVjzA/2/)

# ios - 将音频复制到通用 UIPasteboard

> ID：14117574
> 
> 赞同：1
> 
> 时间：2013-01-02T06:06:16.133
> 
> 标签：ios, uipasteboard, generalpasteboard, mapi-audiocopy, mapi-audiopaste

我正在使用通用 UIPasteboard 在我的音频合成应用程序中实现音频复制功能，以便可以将复制的音频粘贴到**MAPI：AudioCopy/AudioPaste**或启用**Intua 音频共享**的应用程序中。过程中似乎存在问题，并且复制的音频未出现在启用 AudioPaste 的应用程序中。

这就是我将音频复制到一般 UIPasteboard 中所做的工作。

```
NSData *newItemData = [NSData dataWithContentsOfFile:[dataPath stringByAppendingPathComponent:@"converted.wav"]];      

// This is the copy operation using the General Pasteboard otherwise known as the Intua Pasteboard
UIPasteboard *board = [UIPasteboard generalPasteboard];
[board setPersistent:TRUE];
NSData *dataFile = newItemData;

if (!dataFile) {
    NSLog(@"Can't open file");
}

// Create chunked data and append to clipboard
NSUInteger sz = [dataFile length];
NSUInteger chunkNumbers = (sz / GP_CLIPBOARD_CHUNK_SIZE) + 1;
NSMutableArray *items = [NSMutableArray arrayWithCapacity:chunkNumbers];
NSRange curRange;

for (NSUInteger i = 0; i < chunkNumbers; i++) {
    curRange.location = i * GP_CLIPBOARD_CHUNK_SIZE;
    curRange.length = MIN(GP_CLIPBOARD_CHUNK_SIZE, sz - curRange.location);
    NSData *subData = [dataFile subdataWithRange:curRange];
    NSDictionary *dict = [NSDictionary dictionaryWithObject:subData forKey:(NSString *)kUTTypeAudio];
    [items addObject:dict];
}

board.items = items; 
```

完成此步骤后，当我启动兼容 AudioPaste 的应用程序时，我看不到刚刚复制的音频。你能在我的音频复制代码中发现任何错误吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-02T21:51:36.317

我不相信您通过添加“converted.wav”创建的路径存在。在继续复制之前，我会检查文件路径是否存在。您可能会发现该路径类似于“myAudioFile.wavconverted.wav”。

作为一个小提示，由 [UIPasteboard generalPasteboard] 返回的通用粘贴板始终是持久的，因此您无需将其设置为持久。

# xml - SimpleXmlElement 构造函数在一台服务器上生成错误，但在另一台服务器上没有

> ID：14117575
> 
> 赞同：0
> 
> 时间：2013-01-02T06:06:39.317
> 
> 标签：xml, rss, simplexml, php

我使用相同的代码和相同的测试 URL。我的 localhost 和我的公共 Web 服务器都运行 Ubuntu，它们都启用了 Simplexml 支持并启用了 Schema 支持。我的本地主机运行 PHP 版本 5.4.6-1ubuntu1.1，公共 Web 服务器运行 PHP 版本 5.3.19。

生成错误的代码行是一个简单的构造函数：

```
$x = new SimpleXmlElement($file, NULL, TRUE); 
```

它位于 try-catch 块中，因为它有一个简单的目的来验证 RSS 文件（具有讽刺意味的是它不起作用）。

在本地主机上很好，而在网络服务器上我收到错误消息

> 警告：SimpleXMLElement::__construct() [simplexmlelement.--construct]：解析器错误：开始和结束标记不匹配：META 第 1 行和开头 ...

这可能是什么原因？

我应该注意，我测试过的这个特定的 RSS 频道并没有在 W3 验证器上验证。所以我想我的问题必须是我的本地主机如何使用它？（在构造函数之外，它可以很好地读取项目并与它们一起工作）。

对于 5.3.19 之后的版本，我在 PHP 更改日志中发现的唯一与 SimpleXml 相关的是：

> 已实现 FR #55218（从当前节点获取命名空间）。

但我认为这与这种特殊情况没有任何关系……是吗？

# c# - 在 windows phone 8 上开始使用即时消息

> ID：14117577
> 
> 赞同：-1
> 
> 时间：2013-01-02T06:06:41.203
> 
> 标签：c#, silverlight, xmpp, facebook-c#-sdk, windows-phone-8

这是我的场景。我有这个 windows phone 8 应用程序，它有一个路由历史记录，显示当前正在使用此文档的人留下的所有评论，现在当我点击这些人的评论或图片之一（在评论旁边）时，我的应用程序也应该能够看到那个人在哪个社交网络上，然后如果需要，它应该能够启动即时消息传递......我们将使用 facebook 作为开始，我知道我需要一个 XMPP 协议来访问它功能，现在我想知道是否有人可以将我发送到带有代码的链接（教程），以帮助我了解如何在 facebook api 的帮助下实现这一点？

如果堆栈溢出已经存在这样的问题，请告诉我:)

我使用 c#/Silverlight

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T20:37:04.893

I believe Facebook is using XMPP as its backbone for communication. Unless you want users to connect to the same social network, you would need to enable your own means of communication.

I have some trouble understanding what you are actually asking. But if you want to use FB, then just read up on XMPP (Jabber) and start from there. It is fairly simple, and there are opensource clients out there where you can dismantle code and learn by understanding what others have done.

# extjs - 文本字段标签未进入面板内的表单面板

> ID：14117579
> 
> 赞同：0
> 
> 时间：2013-01-02T06:06:47.833
> 
> 标签：extjs

我设计了一个 extjs 页面，但我的问题是

我必须在内部面板内提供一个文本字段，它是表单面板但文本字段标签没有出现你能解决...这是我的代码...但问题是我必须根据某些条件在一个内部面板内提供员工 ID必须隐藏内部面板但是当我创建面板时我没有得到文本字段标签....任何人都可以解决

```
Ext.onReady(function(){

 var tab2 = new Ext.FormPanel(
    {
        labelAlign: 'left',
        title: 'Main Panel',
        buttonAlign: 'left',
        bodyStyle:'padding:5px',
        width:700,
        height:500, 
        method: 'POST',
        url : '../../WebPages/ServerTask.aspx',
        id: 'formTest',
        //anchor:'60%',
        collapsible: true,      
            items: [{layout:'column', border:false,
            items:[{columnWidth:.6,layout: 'form', border:false,labelWidth:120,
            items: [{
                       xtype:'textfield',
                       fieldLabel:'employeeid',
                       id:'employeeNo',
                       width:110
                    }]
              }]
              }]
         }); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-02T10:18:08.987

好的，这就是问题所在。您正在配置`items`配置**三次**。您的代码中有更多错误，但这就是破坏它的错误。
试试这个例子并添加/删除你不需要的配置。

```
Ext.create('Ext.form.Panel', {
    title: 'Main Panel',
    buttonAlign: 'left',
    bodyStyle:'padding:5px',
    width: 700,
    height: 500, 
    url : '../../WebPages/ServerTask.aspx',
    id: 'formTest',

    items: [{
        xtype:'textfield',
        fieldLabel:'employeeid',
        id:'employeeNo',
        width:110
    }],

    renderTo: Ext.getBody()
}); 
```

其他错误：

1.  使用 Ext.create 函数创建您的对象。
2.  布局配置指定子对象的位置，因此将`layout`配置添加到父对象。
3.  不要将子配置添加到父级。看`labelAlign`
4.  以数组开头`[{`并以`}]`
5.  不要使用 id （仅当你必须这样做时）

# jquery - 将参数动态传递给 jQuery 验证函数

> ID：14117580
> 
> 赞同：0
> 
> 时间：2013-01-02T06:06:51.590
> 
> 标签：jquery

我想动态地为 email_i 赋值.......

```
var v = $("#email_address").validate({  
        rules: { activation_code: {
                required: true,
                alphanumeric: true,
                remote: "mail.php?action=activation_code&email="+**email_i**
            }
        }, 
messages: { 
activation_code: {
                required:       "Please input your activation code.", 
                alphanumeric:   "Only latin characters, numbers and _ sign are allowed.",
                remote:         "Sorry, activation code is incorrect."
            }
        }, 
success: function(label) {
            label.addClass( "formSuccess" );
            label.html('<img src="HelpOneAnother/giveNet/themes/givearang_1001/gfx/icons/ok.gif" border="0" \>') ;
}
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-02T06:51:58.403

使用`rules('add')`文档中的方法：

[http://docs.jquery.com/Plugins/Validation/rules#.22add.22rules](http://docs.jquery.com/Plugins/Validation/rules#.22add.22rules)

```
$('#emailFieldID').rules('add',{

   ruleIwantForEmail: true
}) 
```

# c++ - 无法将初始化列表与 unique_ptr 一起使用的解决方法？

> ID：14117588
> 
> 赞同：0
> 
> 时间：2013-01-02T06:08:04.713
> 
> 标签：c++

我想要一个在编译时生成的多态类型数组。对数组的访问是在运行时决定的（否则我只会使用一个元组）。我希望数组通过 unique_ptr 拥有它的元素。目前我正在使用可变参数模板来创建数组。我正在尝试做的简化版本（MSVC 2012 年 11 月 CTP）：

```
#include "stdafx.h"
#include <array>
#include <memory>
#include <tuple>
#include <initializer_list>
#include <iostream>

using namespace std;

class foo { };
class bar : public foo { };
class wiz : public foo { };

struct house
{
    template<class... args>
    struct furniture
    {
        typedef tuple<args...> t;

        static std::array<unique_ptr<foo>, tuple_size<t>::value> make()
        {
            std::array<unique_ptr<foo>, tuple_size<t>::value> l = { unique_ptr<args>(new args())... }; 
            return l;
        }
    };

    typedef furniture<bar, wiz> td;
};

int _tmain(int argc, _TCHAR* argv[])
{
    auto result = house::td::make();

    return 0;
} 
```

不幸的是，我遇到了编译器错误：

```
error C2248: 'std::unique_ptr<foo,std::default_delete<_Ty>>::unique_ptr' : cannot access private member declared in class 'std::unique_ptr<foo,std::default_delete<_Ty>>' 
```

这是因为初始化列表通过副本工作，但 unique_ptr 不可复制。我可以通过使用 shared_ptr （或原始指针）来解决这个问题，它提供了我想要的行为，但我很好奇是否有一种方法可以创建这样的 unique_ptr 数组。我仍在尝试围绕可变参数模板进行思考。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-02T06:50:13.830

你想做的基本上是有效的：

```
std::array<unique_ptr<foo>, tuple_size<t>::value> l = { unique_ptr<args>(new args())... }; 
```

将编译（即使在 MSVC 上！），因为您正在从临时构建并且将调用移动构造函数（如果不是，添加`std::move`将修复它）。

您接下来尝试做的事情不会：

```
return l; 
```

因为您试图按值返回不可复制的 unique_ptrs 数组。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-02T06:10:24.633

RHS 需要用`unique_ptr`s 初始化吗？s`unique_ptr`构造函数不能用吗？你试过吗

```
std::array<unique_ptr<foo>, tuple_size<t>::value> l = { new args()... }; 
```

# unix - 在Unix中的两个时间之间搜索记录

> ID：14117591
> 
> 赞同：0
> 
> 时间：2013-01-02T06:08:36.887
> 
> 标签：unix

```
start_time=22:15:14 (second line)
end_time=01:05:15 ( last but one) 
```

我想要这些时间之间的所有这些记录。

```
Jan 3 22:14:14 Program: p1: PID=1681586: Thread 9 - Record type=1 (p1a): 0 processed OK, 0 failed
Jan 3 22:15:14 Program: p1: PID=1681586: Thread 9 - Record type=2 (p1b): 0 processed OK, 0 failed
Jan 3 22:16:14 Program: p1: PID=1681586: Thread 9 - Record type=3 (p1c): 2 processed OK, 4 failed
Jan 3 22:17:14 Program: p1: PID=1681586: Thread 9 - Record type=4 (p1d): 0 processed OK, 0 failed
Jan 3 22:17:14 Program: p1: PID=1664884: Thread 5 - Record type=1 (p1a): 0 processed OK, 0 failed
Jan 3 22:17:14 Program: p1: PID=1664884: Thread 5 - Record type=2 (p1b): 0 processed OK, 0 failed
Jan 3 22:17:14 Program: p1: PID=1664884: Thread 5 - Record type=3 (p1c): 3 processed OK, 5 failed
Jan 3 22:17:14 Program: p1: PID=1664884: Thread 5 - Record type=4 (p1d): 0 processed OK, 0 failed
Jan 3 22:17:15 Program: p1: PID=1663618: Thread 14 - Record type=1 (p1a): 0 processed OK, 0 failed
Jan 3 22:17:15 Program: p1: PID=1663618: Thread 14 - Record type=2 (p1b): 0 processed OK, 0 failed
Jan 4 01:17:15 Program: p1: PID=1663618: Thread 14 - Record type=2 (p1b): 0 processed OK, 0 failed
Jan 4 01:17:15 Program: p1: PID=1663618: Thread 14 - Record type=2 (p1b): 0 processed OK, 0 failed
Jan 4 01:17:15 Program: p1: PID=1663618: Thread 14 - Record type=2 (p1b): 0 processed OK, 0 failed
Jan 4 01:05:15 Program: p1: PID=1663618: Thread 14 - Record type=2 (p1b): 0 processed OK, 0 failed
Jan 4 01:17:15 Program: p1: PID=1663618: Thread 14 - Record type=2 (p1b): 0 processed OK, 0 failed 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T06:18:46.910

```
sed '/start_time=hh:mm:ss/,/end_time=hh:mm:ss/' your_log_file 
```

# java - 将变量添加到 Struts 2 中的所有 URL

> ID：14117594
> 
> 赞同：3
> 
> 时间：2013-01-02T06:08:53.137
> 
> 标签：java, jsp, url, struts2, wildcard

我正在开发一个用户选择要使用的帐户的 web 应用程序，然后他们单击的所有 URL 都引用该帐户。当前活动帐户存储在会话中，但这意味着它不包含在用户书签中，当用户会话超时时它会丢失，并且当用户共享链接时它们不包含相关帐户......

**有什么方法可以`accountID`在每个 URL 中包含它，而无需*手动*将其添加到（相当大且仍在增长的）webapp 中的所有 URL 中？**

一种方法是将其作为路径的第一部分，因此所有 URL 都类似于：

*   /123/discussions/view.do
*   /123/account/edit.do

等等，在`123`哪里`accountID`。

如果所有路径都可以是相对的，那就可以了。但是我还没有想出如何让这种方法与 Struts 命名空间很好地配合使用。

通常，由 Struts2 标签库生成的所有路径都以 开头`/`，并且操作通配符匹配也不会在命名空间匹配*之后才开始。*

如果我能以某种方式在命名空间部分之后获得*路径*`accountID`，我认为我可以使用操作通配符来执行正确的操作，但困难的部分仍然是首先将 ID 放入 URL。

 *最好的解决方案可能只是制作、 和的自定义版本`<s:a>`，但我不确定这有多容易。`<s:form>``<s:url>`

**重要的**

有一些答案仅解决如何将这些 URL 映射到`Action`s。

这个问题更难的部分实际上是如何`accountID`进入所有 URL 并形成路径，而无需手动将其添加到整个应用程序中的每一个。

目前在我看来，唯一的方法是为 URL 和表单制作自定义版本的 Struts JSP 标签。因此，任何有关如何做到这一点的指示都会很有用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-02T14:31:47.630

查看[高级通配符映射](http://struts.apache.org/2.3.1.2/docs/wildcard-mappings.html)

您应该像这样定义您的操作：`/{accountId}/discussion/view.do/`
这是一个示例：[示例](https://stackoverflow.com/questions/12245373/struts2-pass-url-to-action/12248533#12248533)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-02T11:18:54.217

您应该考虑在通配符映射[的命名空间中使用参数的选择。](https://struts.apache.org/core-developers/wildcard-mappings.html#parameters-in-namespaces)

> 从 Struts 2.1+ 起，命名空间模式可以提取为请求参数并绑定到操作。要启用此功能，请在 中设置以下常量`struts.xml`：
> 
> ```
> <constant name="struts.patternMatcher" value="namedVariable"/> 
> ```
> 
> 有了这些，命名空间定义可以包含`{PARAM_NAME}`将针对请求 URL 进行评估并作为参数提取的模式，例如：
> 
> ```
> @Namespace{"/users/{userID}");
> public class DetailsAction exends ActionSupport {
>  private Long userID;
>  public void setUserID(Long userID) {...}
> } 
> ```

如果您运行的是 Struts2 2.1+ 之前的版本，则需要升级到最新版本。

作为一种解决方法，您可以使用[UrlRewriteFilter](http://tuckey.org/urlrewrite/)执行此操作。

您还可以查看[此](https://stackoverflow.com/questions/14411736/passing-parameters-in-url-without-query-string-in-struts2/14415902#14415902)答案以获取代码示例。*

# integration - 带有自适应链式支付的贝宝购物车

> ID：14117597
> 
> 赞同：1
> 
> 时间：2013-01-02T06:09:08.033
> 
> 标签：integration, shopping-cart, paypal-adaptive-payments

我目前正在使用我自己的购物车并将整个购物车物品发送到贝宝付款，以便卖家可以在他们的贝宝帐户上查看已售出的物品，这很好用。

现在我想要相同的结果，但使用自适应链式支付。我可以使用自适应链式付款并将金额传递给主要收款人和次要收款人，但由于我的主要收款人是实际卖家，我还希望发送购物车物品，以便卖家仍然可以看到在他的贝宝上出售的物品帐户。

我希望你能理解我的问题。我只想知道自适应链式支付如何与贝宝购物车一起使用。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T23:49:51.240

据我所知，这无法通过 Adaptive Payments API 实现。

有一个`memo`字段可用于添加动态文本，在您的情况下可以是产品详细信息，例如 sku、名称、品牌等。

见[https://www.x.com/developers/paypal/documentation-tools/api/pay-api-operation#id098QF000M7Q](https://www.x.com/developers/paypal/documentation-tools/api/pay-api-operation#id098QF000M7Q)

一些伪代码：

```
$payRequest = new \PayRequest();

$payRequest->actionType = 'PAY';
$payRequest->cancelUrl = 'http://yourapp.com/cancel';
$payRequest->ipnNotificationUrl =  'http://yourapp.com/ipn';
$payRequest->returnUrl =  'http://yourapp.com/complete';
$payRequest->trackingId = '123';
$payRequest->clientDetails = new \ClientDetailsType();
$payRequest->clientDetails->applicationId = 'app-id-123';
$payRequest->clientDetails->ipAddress = $_SERVER['REMOTE_ADDR'];
$payRequest->currencyCode = 'USD';
$payRequest->reverseAllParallelPaymentsOnError = true;

//Add product/order details to the memo field
$payRequest->memo = 'Nike Air Force 1s x 1'; 
```

# iis - 在 IIS 中托管 ASP.Net MVC 4 SPA Web 应用程序

> ID：14117602
> 
> 赞同：0
> 
> 时间：2013-01-02T06:09:36.413
> 
> 标签：iis, asp.net-mvc-4, publish, web-hosting, singlepage

我在[ASP.NET MVC 4 SPA 中有我的应用程序。](http://www.asp.net/single-page-application) 它是在安装[Web-tools 2012.2 后使用 Visual Studio 2012 中的模板开发的。](http://www.asp.net/single-page-application) 但是在我的工作之后，当我尝试将它发布到本地文件夹后在 IIS 中托管它时，我收到了目录列表丢失错误。我也尝试过使用普通的 ASP.NET SPA，结果是一样的。也尝试指定默认文档选项，但没有帮助。调试工作正常并且能够获得输出。我在我的开发机器上安装了 IIS 并尝试过，但现在卡在了同一个地方。

我正在使用 ASP.NET MVC 4 SPA 和实体框架 5.0.0.0

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-02T08:23:44.453

你在 MVC 之后安装了 IIS 吗？如果是这样，您需要向 IIS 注册 ASP.NET。打开 VS 命令提示符并键入`aspnet_regiis -i`- 请参见此处：http: [//msdn.microsoft.com/en-us/library/k6h9cz8h (v=vs.100).aspx](http://msdn.microsoft.com/en-us/library/k6h9cz8h(v=vs.100).aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-16T05:05:53.167

解决了。需要复制解决方案中的 Services(DLL) 文件夹。

# tmux - 为 Tmux run-shell 命令设置列大小

> ID：14117604
> 
> 赞同：2
> 
> 时间：2013-01-02T06:09:48.367
> 
> 标签：tmux

我想将 Tmux`run-shell`命令中使用的 shell 的大小设置为与当前显示的窗口相同的列数。

使用以下命令

```
bind \ run-shell "tput cols" 
```

我看到列大小始终设置为 80。如何将其更改为与当前窗口相同？

我计划使用它来更新我当前的键绑定，以将复制缓冲区回显到我系统的粘贴板中。（我在 Mac 上）

```
bind \ run-shell "reattach-to-user-namespace bash --noprofile -c 'tmux show-buffer -b 0 | pbcopy'" 
```

这目前将所有行包装为 80 个字符。排长队很烦人。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-03T03:55:10.077

包装来自使用`show-buffer`. 最好`save-buffer`用于这种情况；它不会以任何方式“按摩”数据（`show-buffer`strvis(3) 编码也是如此）。

缓冲区命令的默认设置是使用第一个缓冲区（索引 0）；这`-b 0`实际上是默认设置，因此您可以将其关闭。

没有必要使用这样的额外外壳。只需直接在*pbcopy*上使用包装器。

```
bind \ run-shell "tmux save-buffer - | reattach-to-user-namespace pbcopy" 
```

* * *

在回答您的实际问题时，没有快速简便的方法可以满足您的要求。进程启动的环境`run-shell`源自服务器的“全局”环境，实际上并不是任何特定会话、窗口或窗格的一部分。当前无法绝对知道在`run-shell`通过绑定执行 a 时哪个会话、窗口或窗格处于活动状态。

# sql - 在 SQL 存储过程中使用 CLOB 数据类型

> ID：14117613
> 
> 赞同：2
> 
> 时间：2013-01-02T06:11:00.590
> 
> 标签：sql, db2, clob

我正在调用一个带有 CLOB 数据类型的 DB2 SQL 存储过程（在大型机中）作为 out 参数以及其他参数。

```
CREATE PROCEDURE ACT_GETAUDIT01                                     
       (                                                            
        IN IN_ID            CHAR(12) FOR SBCS DATA CCSID EBCDIC  
       ,IN IN_CURSOR_ID        INTEGER                              
       ,IN IN_PAGING_TS        CHAR(26) FOR SBCS DATA CCSID EBCDIC  
       ,OUT OUT_AUDTDATA  CLOB FOR SBCS DATA CCSID EBCDIC           
       )

   LANGUAGE SQL                                                 
   READS SQL DATA 
```

从 JAVA 调用此存储过程时，我在`execute()`语句中得到以下异常。

```
CallableStatement cs =  conn.prepareCall(callstmt);

boolean resultsavailable = cs.execute(); 
```

> *线程“主”java.lang.IllegalArgumentException 中的异常：负初始大小：* com.ibm.db2.jcc.b.ba.a(ba.java:780)
> 的 java.io.ByteArrayOutputStream.(Unknown Source) -5 在 com.ibm.db2.jcc.b.bd.d(bd.java:1961) 在 com.ibm.db2.jcc.b.bd.l(bd.java:378) 在 com.ibm.db2.jcc .b.bd.e(bd.java:91) 在 com.ibm.db2.jcc.bre(r.java:108) 在 com.ibm.db2.jcc.b.bs.i(bs.java:191 ) 在 com.ibm.db2.jcc.c.cw.o(cw.java:1213) 在 com.ibm.db2.jcc.c.cx.d(cx.java:2061) 在 com.ibm.db2。 jcc.c.cy.bq(cy.java:145) 在 com.ibm.db2.jcc.c.cy.execute(cy.java:128)

当我使用`VARCHAR`而不是 CLOB 时，一切似乎都运行良好。我也已经正确注册了输出参数。任何帮助是极大的赞赏

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-03-21T21:34:38.457

sqlExe 实用程序支持处理 CLOB 字段。你可以看看它。源代码在这里：http: [//sourceforge.net/projects/sqlexe/](http://sourceforge.net/projects/sqlexe/)

# php - 尽管数据库中有数据，为什么 JSON 显示 NULL 数据？

> ID：14117616
> 
> 赞同：2
> 
> 时间：2013-01-02T06:11:33.967
> 
> 标签：php, mysql, json

我已经编写了一个 php 代码来从 mysql 数据库制作 JSON 文件。当我检查 JSON 文件时，它显示一些数据 NULL，尽管我的数据库没有 NULL 数据。这是我的 PHP 代码：

```
$selectQuery = "SELECT tour_code, day, schedule_title, details FROM tbl_tour_details WHERE status=0";
    $response = array();
    $posts = array();
    $result = mysql_query($selectQuery) or die ("Errored Query: ".$selectQuery);
    if(mysql_num_rows($result))
    {
        while($row = mysql_fetch_assoc($result))
        {
            $tour_code = $row['tour_code'];
            $day = $row['day'];
            $schedule_title = $row['schedule_title'];
            $details = $row['details'];

            $posts[] = array('tour_code'=>$tour_code, 'day'=>$day, 'schedule_title'=>$schedule_title, 'details'=>$details);

        }
    }
    $response['posts'] = $posts;
    $fp = fopen('..//webservices//json//tour_details.json','w');
    fwrite($fp, json_encode($response));
    fclose($fp); 
```

在这里，DATATYPE 和 Size 是：

```
tour_code = int
day = int
schedule_title = varchar(150)
details = text 
```

我的数据是这样的：

```
tour_code =1
day = 3
schedule_title = "Singapore – Genting Highland By Coach (350 KM 5 HRS)"
details = "This Morning Is The Day Of FUN And Adventure For The Family. Enjoy Spectular Rides And Shows At The Ever-Popular Genting Outdoor Theme Park With Its Myriad Attractions For The Young And Old Alike. Take An Exciting Drive In The Antique Car Or Daring Spins On The Roller Coaster, It’s A Magical Adventure Of Fun And Excitement For The Whole Family!
Over Night At Hotel First World Deluxe Or Theme Park Or Awana Resort Or Similar.
(Breakfast, Lunch & Dinner)" 
```

这是我的 json 文件（如果为 null、/r、/n 则包含）： [json 文件](http://pastie.org/5609590)

这是我的 var_dump 文件（将一些数据截断为“...”） [var_dump 文件](http://pastie.org/5609605)

这是我的`print_r($posts)`文件（完全正确） [`print_r($posts file`：）](http://pastie.org/5609611)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-02T08:42:01.560

您损坏了 utf-8 数据

快速解决：

```
$details = iconv("UTF-8", "UTF-8//IGNORE", $row['details']); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-02T06:23:26.177

请在浏览器中打印数组并按 ctrl+u 查看页面的源代码它将以正确格式打印整个数组，并查看其中是否有任何空值...

```
while($row = mysql_fetch_assoc($result))
        {
            print_r($row);
        } 
```

希望上面的代码可以帮助您至少找出问题所在......

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-02T06:15:41.743

首先尝试在`var_dump($response);`之前做一个`fopen`以确认`$response`实际上得到了正确的数据。

其次，您的文件名对我来说看起来不正确。双正斜杠 ( `/`) 是什么意思？您只需要转义反斜杠 ( `\`)，因为反斜杠是*转义字符。*

更改此行：

```
$fp = fopen('..//webservices//json//tour_details.json','w'); 
```

对此：

```
$fp = fopen('../webservices/json/tour_details.json', 'w'); 
```

这可能对您有用，但它不仅仅是发表评论，我们可以进一步调查。

# java - Apache-POI：无法写入现有工作簿

> ID：14117617
> 
> 赞同：10
> 
> 时间：2013-01-02T06:11:37.267
> 
> 标签：java, apache-poi, excel-2010

我正在做一个项目，该项目需要读取 Excel 工作簿，调用必要的 Web 服务，然后从 Web 服务获取响应并将该信息输入到已读取的同一个 Excel 工作簿中。

这是我在尝试写入 Excel 工作簿时看到的错误：

```
Exception in thread "main" org.apache.poi.POIXMLException: java.io.IOException: Can't obtain the input stream from /docProps/app.xml
at org.apache.poi.POIXMLDocument.getProperties(POIXMLDocument.java:141)
at org.apache.poi.POIXMLDocument.write(POIXMLDocument.java:177)
at ext.ExcelProcessor.main(ExcelProcessor.java:197)
Caused by: java.io.IOException: Can't obtain the input stream from /docProps/app.xml
    at org.apache.poi.openxml4j.opc.PackagePart.getInputStream(PackagePart.java:500)
    at org.apache.poi.POIXMLProperties.<init>(POIXMLProperties.java:75)
    at org.apache.poi.POIXMLDocument.getProperties(POIXMLDocument.java:139)
    ... 2 more 
```

这是我打开文件/读取的代码：

```
pkg = OPCPackage.open(xslFile);
    theWorkbook = new XSSFWorkbook(pkg); 
```

在此之后，我读取每一行并提取每个单元格值。

完成此操作后，我将在“成功”和“结果消息”标题下创建单元格，然后执行以下操作：

```
String sessionData = sessionKey[1];
                String[] cellValCurrRow = rowCellVals.get(r-1);
                String attachmentData[] = WQSServices.uploadAttachment(sessionData, cellValCurrRow);

                XSSFCell cell = xslRows[r].getCell(7);

                if(cell == null)
                {
                    cell = xslRows[r].createCell(7);
                }

                System.out.println("The Cell: "+cell.getStringCellValue());

                XSSFCell cell2 = xslRows[r].getCell(8);

                if(cell2 == null)
                {
                    cell2 = xslRows[r].createCell(8);
                }

                System.out.println("The Cell: "+cell2.getStringCellValue());

                cell.setCellType(Cell.CELL_TYPE_STRING);
                cell2.setCellType(Cell.CELL_TYPE_STRING);
                cell.setCellValue(attachmentData[0]);
                cell2.setCellValue(attachmentData[1]);

                System.out.println("New Cell Data: 1-"+cell.getStringCellValue()+" 2-"+cell2.getStringCellValue());

                FileOutputStream fos = new FileOutputStream(xslFile);
                theWorkbook.write(fos);
                fos.close(); 
```

有没有人遇到过类似的问题？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2014-02-06T16:22:25.910

我收到了相同的错误消息，但使用了不同的类。我正在使用的当前 poi 版本是 poi-ooxml 3.9，但它仍然存在问题。现在我解决了我的问题，我认为当您首先获取 Workbook 实例时会出现此问题。

当我将数据写入文件时，我确实喜欢这样（带有例外和关闭的实践规则）：

```
 FileOutputStream fos = new FileOutputStream(filePath);
    wb.write(fos);
    fos.close(); 
```

当我获得这样的 Workbook 实例时，我收到“无法从 /docProps/app.xml 获得输入流”错误消息：

```
 Workbook wb = WorkbookFactory.create(new File(filePath)); 
```

当我解决问题时，修改后的代码是

```
 Workbook wb = WorkbookFactory.create(new FileInputStream(filePath)); 
```

在我的情况下，您是打开并读取和写入同一个文件，还是从一个文件读取然后写入另一个文件并不重要。如果您阅读 poi 源代码，您会看到我使用的工厂方法可能会调用 OPCPackage 类中的 open() 方法。尝试使用获取 InputStream 作为其参数的方法。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2017-02-22T17:58:35.280

以下是使用 OPCPackage 读取时如何做到这一点（try/catch/finally ommitted for readibility）：

```
OPCPackage pkg = OPCPackage.open("existingFile.xlsx");
XSSFWorkbook wb = (XSSFWorkbook) WorkbookFactory.create(pkg); 
```

> 进行修改... XSSFSheet sheet = wb.getSheetAt(0); ...

```
fos = new FileOutputStream("outputFileName.xlsx");
wb.write(fos);
pkg.close();
fos.close();
Faces.sendFile(new File(outputFileName) 
```

Jayamohan 上面的评论帮助我今天解决了这个问题（对输入和输出使用不同的文件路径）。谢谢！

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-02T06:15:44.660

我认为这里的问题是您使用相同的 filePath`xslFile`来打开和保存文件。

打开文件，

```
pkg = OPCPackage.open(xslFile);
    theWorkbook = new XSSFWorkbook(pkg); 
```

保存文件，

```
FileOutputStream fos = new FileOutputStream(xslFile);
theWorkbook.write(fos);
fos.close(); 
```

您需要一个 InputStream 来读取和处理您的文件，但是当您在相同的路径和文件名下创建一个 OutputStream 时，该流变得不可访问。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-03T20:12:25.253

列出的当前问题是自 2010 年以来一直存在的错误，可以在 @ [https://issues.apache.org/bugzilla/show_bug.cgi?id=49940找到](https://issues.apache.org/bugzilla/show_bug.cgi?id=49940)

在下面的 stackoverflow 列表中发现了一种解决方法，如果您在再次写入文件之前关闭并重新打开该书，它将正常工作。这无论如何都不是有效的，但它确实解决了这个问题，直到 Apache-POI 开发团队找出问题所在。

[https://stackoverflow.com/a/9792406/1231715](https://stackoverflow.com/a/9792406/1231715)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-06-26T19:29:33.953

我为此找到的解决方案，并且我一直在寻找一段时间，是确保您不要`Workbook`使用`File`用于打开`FileOutputStream`保存`Workbook`. 相反，使用 a`FileInputStream`打开`Workbook`.

这样的事情将完美无缺

```
 File inputFile = new File("Your-Path");
        this.inputStream = new FileInputStream(inputFile);
        this.opc = OPCPackage.open(this.inputStream);
        this.workbook = WorkbookFactory.create(opc);

...

        this.outputStream = new FileOutputStream(inputFile);
        this.workbook.write(this,outputStream); 
```

不要忘记关闭每个打开的流和`OPCPackage`.

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2021-06-04T06:21:22.810

确保在关闭之前再次打开相同的文件。

```
FileInputStream file1 = new FileInputStream("file.xlsx");
FileOutputStream file2 = new FileOutputStream("file.xlsx");
file2.close();
file1.close(); 
```

此代码将引发此错误。

解决方案：

```
FileInputStream file1 = new FileInputStream("file.xlsx");
file1.close();
FileOutputStream file2 = new FileOutputStream("file.xlsx");
file2.close(); 
```

# mysql - 使用存储过程性能会提高

> ID：14117618
> 
> 赞同：2
> 
> 时间：2013-01-02T06:11:39.053
> 
> 标签：mysql, stored-procedures, query-performance

我需要知道使用存储过程的好处。

目前客户端具有 3 层架构。大多数表都是innodb。大多数服务器都有~64G ram，所有服务器都是linux 64bit。最近他们也为一些服务器启动了集群。

客户更准确地了解数据库级别的内容，而不是写下优点和缺点。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T03:30:00.477

3 层将优化资源利用率并大幅改进您的程序。当您构建简单的应用程序时，您不会感觉到它，而大型应用程序显然会有所不同。例如，看看这 3 层是如何使用的，看看有什么不同。

```
public class businesscheck
{
    datacheck dldata = new datacheck();

    public int PeronalDetails(int bh, string bse, string bt, string bde)
    {
        string sql = "[dbo].[newsinsert]";
        int bheader = bheaderid + 1;
        int result = dldata.SQLSP(sql, bheader, bsubtype, btitle, bdescr);
        return result;
    }

    public void deleterecord(int a)
    {
        dldata.SQLC();
    }
} 
```

最后，当你从你的前端系统调用这个时，你可以很容易地传递值，程序员和设计师可以分开工作。

```
 protected void Button1_Click(object sender, EventArgs e)
    {

      int MyInteger = Convert.ToInt32(TextBox1.Text);
        string subtype = txt2.Text;

        obj1.PeronalDetails( header, subtype, title, desc);

        txt2.Text = "";

    } 
```

# android - 我无法显示 ppt 事实上我想在视图中显示 ppt 和 doc/ppt/pdf/xls 文件.....在 android

> ID：14117621
> 
> 赞同：1
> 
> 时间：2013-01-02T06:11:49.247
> 
> 标签：android, android-layout, android-intent, android-emulator, android-widget

```
final Uri uri = Uri.fromFile(file);

final Intent intent = new Intent(Intent.ACTION_VIEW);

intent.setDataAndType(uri, "application/vnd.ms-powerpoint");

PackageManager pm = getPackageManager();

List<ResolveInfo> list = pm.queryIntentActivities(intent, 0);

if(list.size() > 0)

startActivity(context, intent);` 
```

正如你在上面看到的代码是在我的安卓平板电脑上显示一个 MS ppt。

现在我的代码过程如下。

1.我会从一个 URL 下载一个 ppt 并将它存储在 sdcard 中。

2.然后我想在一个我不知道的视图中显示ppt，这完全适合这个。

所以我无法显示 ppt 事实上我想在视图中显示 ppt 和 doc/ppt/pdf/xls 文件.....

那怎么办？？？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-02T06:16:24.333

为此使用 Webview。它对我有用。

```
WebView mWebView = (WebView) findViewById( R.id.WebView01);
String pdfurl = ""; // Url of pdf or doc file.

String weblink="http://docs.google.com/gview?embedded=true&url="+pdfurl;    
mWebView.loadUrl(weblink); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-02T06:24:46.920

```
 Hi friend I fased Same problem 
    that time instead of specifing we can pick suitable application from list of Application , 
    but below code is for example purpose only , not for 100% gurantee 
    depends on Requirement you have to change .

In ICS You have default polaris application you can use 

         else if (TEXT == type) {
                    File targetFile = new File(path);
                    Uri targetUri = Uri.fromFile(targetFile);
                    Intent intent = new Intent(Intent.ACTION_VIEW);
                    intent.setDataAndType(targetUri, "text/plain");
                    startActivityForResult(intent, TEXT);
                } else if (type == DOC) {
                    File targetFile = new File(path);
                    Uri targetUri = Uri.fromFile(targetFile);
                    Intent intent = new Intent(Intent.ACTION_VIEW);
                    intent.setDataAndType(targetUri, "application/*");
                    startActivityForResult(intent, DOC);
                } else if (type == EXCEL) {
                    File targetFile = new File(path);
                    Uri targetUri = Uri.fromFile(targetFile);
                    Intent intent = new Intent(Intent.ACTION_VIEW);
                    intent.setDataAndType(targetUri, "application/*");
                    startActivityForResult(intent, EXCEL);
                } else {
                    File targetFile = new File(path);
                    Uri targetUri = Uri.fromFile(targetFile);
                    Intent intent = new Intent(Intent.ACTION_VIEW);
                    intent.setDataAndType(targetUri, "application/*");
                    startActivityForResult(intent, 0);
                } 
```

# java - 域类中的 ForeignCollection 初始化

> ID：14117625
> 
> 赞同：3
> 
> 时间：2013-01-02T06:12:04.590
> 
> 标签：java, android, sqlite, ormlite, foreign-collection

我有一个具有多对多关系的域对象。`Menu`可以有很多`Categories`，`Category`也可以有很多`Menus`。`Menu`负责`Categories`。

我为我的应用程序进行了相当分层的设计，域类与`DAO`-s （我有一个特殊的同步类用于访问工厂和存储库类并保持关系同步）和应用程序层（我在那里使用服务，例如`AddMenuService`所有逻辑存在）。

例如我创建了一个`Menu`和`Category`对象。通过特殊的 appender 类将此类别添加到菜单中。然后我同步对象（验证，检查对象是否存在于数据库中或创建一个新对象，如果需要，调用其他同步类，比较不同的对象并保存或更新它们）。类别只能通过 MenuSyncro 添加。

```
Menu m1 = new Menu("Menu for vegetarians");
Category cat1 = new Category("Drinks");

m1.getAppender().addCategory(cat1);

MenuSyncro ms = new MenuSyncro();
ms.synchronize(menu1); 
```

我知道我可以使用，但是有没有什么方法可以在类和类中`Dao.getEmptyForeignCollection(String fieldName);`初始化而无需先访问 DAO 对象，因为我不断收到异常，因为这些集合没有初始化？`ForeginCollection<MenuCategory> categories;``Menu``ForeignCollection<MenuCategory> menus;``Category``NullReference`

## 课程

**菜单类**

```
@DatabaseTable(tableName = "MENUS")
public class Menu
{
   private final static String ID_FIELD_NAME = "ID";
   private final static String NAME_FIELD_NAME = "NAME";

   @DatabaseField(generatedId = true, columnName = ID_FIELD_NAME)
   private int id;

   @DatabaseField(columnName = NAME_FIELD_NAME, canBeNull = false, unique = true, useGetSet = true)
   private String name;

   @ForeignCollectionField(eager = false)
   private ForeignCollection<MenuCategory> categories;

   @ForeignCollectionField(eager = false)
   private ForeignCollection<LocationMenu> locations;

   private MenuAppender appender;

   public Menu()
   {
      // for ORMLite
   }

   public Menu(String name)
   {
      this.name = name;
   }

   public int getId() { return id; }
   public String getName() { return name; }
   public void setName(String name) { this.name = name; }

   public ArrayList<Category> getCategories()
   {
      ArrayList<Category> categoriesList = new ArrayList<Category>();

      if (categories != null)
         for (MenuCategory menuCategory : categories)
            categoriesList.add(menuCategory.getCategory());

      return categoriesList;
   }

   public ForeignCollection<LocationMenu> getLocations()
   {
      return locations;
   }

   public MenuAppender getAppender()
   {
      if (appender== null)
         appender= new MenuAppender(this);

      return appender;
   }
} 
```

**类别.class**

```
@DatabaseTable(tableName = "CATEGORIES")
public class Category
{
   private final static String ID_FIELD_NAME = "ID";
   private final static String NAME_FIELD_NAME = "NAME";

   @DatabaseField(generatedId = true, columnName = ID_FIELD_NAME)
   private int id;

   @DatabaseField(columnName = NAME_FIELD_NAME, canBeNull = false, unique = true, useGetSet = true)
   private String name;

   @ForeignCollectionField(eager = false)
   private ForeignCollection<MenuCategory> menus;

   public Category()
   {
      // for ORMLite
   }

   public Category(String name)
   {
      this.name = name;
   }

   public int getId() { return id; }
   public String getName() { return name; }
   public void setName(String name) { this.name = name; }

   public ArrayList<Menu> getMenus()
   {
      ArrayList<Menu> menusList = new ArrayList<Menu>();

      if (menus != null)
         for (MenuCategory menuCategory : menus)
            menusList.add(menuCategory.getMenu());

      return menusList;
   } 
```

}

**MenuCategory.class**

```
 @DatabaseTable(tableName = "MENUS_CATEGORIES")
   public class MenuCategory
   {
      private final static String ID_FIELD_NAME = "ID";
      private final static String MENUS_ID_FIELD_NAME = "MENUS_ID";
      private final static String CATEGORIES_ID_FIELD_NAME = "CATEGORIES_ID";

      @SuppressWarnings("unused")
      @DatabaseField(generatedId = true, columnName = ID_FIELD_NAME)
      private int id;

      @DatabaseField(foreign = true, columnName = MENUS_ID_FIELD_NAME, canBeNull = false, foreignAutoCreate = true, foreignAutoRefresh = true)
      private Menu menu;

      @DatabaseField(foreign = true, columnName = CATEGORIES_ID_FIELD_NAME, canBeNull = false, foreignAutoCreate = true, foreignAutoRefresh = true)
      private Category category;

      public MenuCategory()
      {
         // for ORMLite
      }

      public MenuCategory(Menu menu, Category category)
      {
         this.menu = menu;
         this.category = category;
      }

      public Menu getMenu()
      {
         return menu;
      }

      public void setMenu(Menu menu)
      {
         this.menu = menu;
      }

      public Category getCategory()
      {
         return category;
      }

      public void setCategory(Category category)
      {
         this.category = category;
      }
   } 
```

预先感谢，邪恶的

* * *

## 回答 #1

> 赞同：-3
> 
> 时间：2013-01-02T06:30:21.530

只需调用`<lazyCollection>.iterator()`就足以正确初始化您的集合。

# installation - 错误：无法从基础检索 rpm

> ID：14117626
> 
> 赞同：0
> 
> 时间：2013-01-02T06:12:10.270
> 
> 标签：installation, centos, packages

我正在尝试在 CentOS 5.7 上安装一个软件包。

在安装期间，当它试图解决它正在下载 libxml2 的依赖项时。但在下载过程中，打印失败：

```
media://1315261980.416977%231/CentOS/libxml2-2.6.26-2.1.12.x86_64.rpm: [Errno 4] 
IOError: <urlopen error unknown url type: media>

Trying other mirror.
Error: failed to retrieve CentOS/libxml2-2.6.26-2.1.12.x86_64.rpm from base 
```

据我了解，由于 url 问题，它无法下载该 rpm。那么，我应该在哪里更改网址。如何解决此错误？

# vb.net - 命令提示符数据乱码

> ID：14117627
> 
> 赞同：1
> 
> 时间：2013-01-02T06:12:10.770
> 
> 标签：vb.net, shell, process, vb.net-2010, command-prompt

在修复了大量错误后，我终于让我的代码工作了，但我仍然遇到了一些小问题

```
Dim myprocess As New System.Diagnostics.Process
myprocess.StartInfo.FileName = "cmd.exe"
myprocess.StartInfo.UseShellExecute = False
myprocess.StartInfo.RedirectStandardOutput = True
myprocess.StartInfo.RedirectStandardInput = True
myprocess.StartInfo.WorkingDirectory = "C:\"
myprocess.StartInfo.CreateNoWindow = True
myprocess.StartInfo.WindowStyle = ProcessWindowStyle.Hidden
myprocess.Start()

myprocess.StandardInput.WriteLine(prompt.Text)
myprocess.StandardInput.Flush()
myprocess.StandardInput.Close()

prompt.Text = ""
prompt.Text = myprocess.StandardOutput.ReadToEnd

myprocess.StandardOutput.Dispose()
myprocess.StandardOutput.Close()

myprocess.WaitForExit()
myprocess.Close() 
```

问题是，如果我执行诸如“TREE”之类的命令，它就无法解释构成树的行。执行“TREE /A”解决了这个问题，但我想知道为什么只是简单的旧“TREE”没有得到正确解释。

此外，一旦我执行了诸如“TREE”之类的命令，在我使用 Clear 函数之前，我无法在我的文本框中输入内容。有趣的是，我可以退格但不能打字。

将此代码粘贴到 VB.NET 中并添加一个文本框和按钮。你会明白我的意思。

1.  为什么文字会乱码？
2.  为什么我无法在我的文本框中输入内容？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-02T20:54:31.540

您的文本出现乱码，因为您的程序没有使用正确的[代码页](https://en.wikipedia.org/wiki/Code_page)来解码从输出流中读取的字节。[TREE](https://www.microsoft.com/resources/documentation/windows/xp/all/proddocs/en-us/tree.mspx?mfr=true)命令使用图形字符来表示链接子目录的行，但这些代码点仅表示代码页 437 中的画线字符，[即](https://en.wikipedia.org/wiki/Code_page_437)本机 MS-DOS（美国英语）代码页。该`/A`开关使 TREE 命令改为使用标准 ASCII 字符。

# java - com.microsoft.sqlserver.jdbc.SQLServerException：连接字符串包含格式错误的名称或值

> ID：14117631
> 
> 赞同：0
> 
> 时间：2013-01-02T06:13:04.143
> 
> 标签：java, database-connection

我的代码是：

```
 try{
        Class.forName("com.microsoft.sqlserver.jdbc.SQLServerDriver");
        Connection con=DriverManager.getConnection("jdbc:sqlserver://localhost;jithin-pc:1433;databaseName=news;IntegratedSecurity=true");
        String qr="SELECT * FROM base";
        Statement st=con.createStatement();
        ResultSet rs=st.executeQuery(qr);
        rs.next();
        System.out.println(rs.getString(1));
        out.println(rs.getString(1));

        }
        catch(Exception e)
        {
            System.out.println(e);
            out.println(e);
        } 
```

我收到如下错误：

```
com.microsoft.sqlserver.jdbc.SQLServerException: The connection string contains a badly formed name or value. 
```

我尝试更改 sql 设置防火墙等。请提供任何建议

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-02T07:59:54.073

假设 jithin-pc 是 localhost，只要 localhost 或 jithin-pc 就足够了。

```
jdbc:sqlserver://localhost;databaseName=news;IntegratedSecurity=true
jdbc:sqlserver://jithin-pc;databaseName=news;IntegratedSecurity=true 
```

还要检查[这个](http://msdn.microsoft.com/en-us/library/ms378428%28v=sql.90%29.aspx)

# asp.net - 异步 ActionMethod - 这是正确的吗

> ID：14117633
> 
> 赞同：1
> 
> 时间：2013-01-02T06:13:12.740
> 
> 标签：asp.net, asp.net-mvc-4

仅仅因为某事有效并不意味着它是正确的。所以我想对以下代码进行一些反馈。

一点历史；当用户在我们的网站上注册并遇到线程被阻止的问题时，我试图发送/排队电子邮件，考虑到默认情况下控制器和相关操作方法是同步而不是异步的事实，这完全有意义。为了解决这个问题，我将以下内容放在一起，但不确定这是否是最好的方法。

```
 [HttpPost, AllowAnonymous]
    public async Task<ActionResult> RegisterAsync(UserRegisterUserViewModel userRegisterUserViewModel)
    {
        if (ModelState.IsValid)
        {
            var user = new UserDto
                {
                    UserName = userRegisterUserViewModel.UserName,
                    Password = userRegisterUserViewModel.Password,
                    AuthType = userRegisterUserViewModel.AuthType,
                    Active = 0
                };
            Guid userId = _userService.AddUser(user);
            if (userId != Guid.Empty)
            {
                // Send Registration E-mail
                await Task.Run(() => _userMailer.RegistrationConfirmation(user).SendAsync(),
                               new CancellationToken(false));
                // Display Confirm View
                return PartialView("_RegistrationConfirmation");
            }
            ModelState.AddModelError("UserName", "Unable to create account");
        }
        return PartialView("_Registration");
    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-02T14:16:13.210

我不确定 ASP.NET 线程被阻止会导致什么样的“问题”，但关于您的`async`/`await`代码：

*   中没有意义`new CancellationToken(false)`，这与 相同`CancellationToken.None`，这与不提供`cancellationToken`参数相同。
*   可能没有意义`Task.Run`，它`SendAsync`在线程池线程上执行。如果`SendAsync`是正确的`async`方法，则可以`await`直接编辑。

例如，该行代码可以替换为：

```
await _userMailer.RegistrationConfirmation(user).SendAsync(); 
```

**编辑：**

由于`SendAsync`是 on `SmtpClient`，您应该将此 API （使用[基于事件的异步模式）](http://msdn.microsoft.com/en-us/library/ms228969.aspx)[包装](http://msdn.microsoft.com/en-us/library/hh873178.aspx#EAP)成一个友好的 API（使用[基于任务的异步模式](http://msdn.microsoft.com/en-us/library/hh873175.aspx)）：`await`

```
public static Task SendTaskAsync(this SmtpClient client, MailMessage message)
{
  var tcs = new TaskCompletionSource<object>();
  SendCompletedEventHandler handler = null;
  handler = (s,e) =>
  {
    client.SendCompleted -= handler;
    if (e.Error != null) tcs.TrySetException(e.Error);
    else if (e.Cancelled) tcs.TrySetCanceled();
    else tcs.TrySetResult(null);
  };
  client.SendCompleted += handler;
  client.SendAsync(message, null);
  return tcs.Task;
} 
```

然后你可以`await`得到`SmtpClient.SendTaskAsync`.

您不想使用`Task.Run`，因为这会导致您[从 ASP.NET 请求中提前返回，这是一种危险的做法](http://nitoprograms.blogspot.com/2012/12/returning-early-from-aspnet-requests.html)（正如我在博客中解释的那样）。

# java - 如何在 CAS 中调用用户登录和注销中的函数

> ID：14117641
> 
> 赞同：1
> 
> 时间：2013-01-02T06:13:48.567
> 
> 标签：java, cas, jasig

我正在为我的应用程序使用 CAS。我想在成功验证用户身份以及用户注销时编写一个显式函数..如何做到这一点..谁能告诉我..提前谢谢..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-02T08:47:27.317

要处理身份验证成功，您需要实现一个`ApplicationListener`- 这是一个 spring bean，它实现`ApplicationListener`-[阅读 spring 文档以获取更多事件机制](http://static.springsource.org/spring/docs/3.2.x/spring-framework-reference/html/beans.html#context-functionality-events)并监听`AuthenticationSuccessEvent`. 基本上spring可以发布订阅的bean可以处理的事件。（观察者模式）

要处理注销，您可以[`LogoutSuccessHandler`](http://static.springsource.org/spring-security/site/docs/3.0.x/apidocs/org/springframework/security/web/authentication/logout/LogoutSuccessHandler.html)在`LogoutFilter`. [请参阅 LogoutFilter 中的 Javadocs API。](http://static.springsource.org/spring-security/site/docs/3.1.x/apidocs/index.html)

# pycharm - 如何映射 alt+；pycharm 键盘映射的快捷方式

> ID：14117644
> 
> 赞同：1
> 
> 时间：2013-01-02T06:14:05.430
> 
> 标签：pycharm, keymapping

我无法添加 alt+; 在 pycharm 中我的自定义键盘映射的快捷方式，在快捷方式映射窗口上键入组合不会执行任何操作。如何添加此快捷方式？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-02T15:51:20.993

如果您使用的是 Mac OS X，操作系统会使用一些带有 Alt 键的快捷键（包括 Alt-;）来键入特殊字符，而其他应用程序通常无法处理这些快捷键。有关禁用操作系统处理字符的一些可能方法，请参阅[http://youtrack.jetbrains.com/issue/IDEA-17392](http://youtrack.jetbrains.com/issue/IDEA-17392)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-08-18T22:53:52.550

您使用的是什么操作系统？在 Ubuntu 上，这可能是一个[较旧的问题](http://ubuntuforums.org/showthread.php?t=1746276)。

就我而言，在带有 OpenJDK 的 Ubuntu 14.04 上的 Cinnamon 中运行的 PyCharm 根本无法识别 ALT 键。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-05-09T06:52:53.380

对于 Ubuntu：

在 Unity 上，左 Alt 键的默认行为是显示 HUD。因此，似乎关键事件没有转发到 PyCharm。如果在设置 ( ) 中更改*键以显示 HUD*`System Settings > Keyboard > Shortcuts > Launchers` ，则可以在 PyCharm 键盘映射中使用 Alt 键。

# javascript - Javascript 对象 css 操作

> ID：14117649
> 
> 赞同：1
> 
> 时间：2013-01-02T06:15:08.683
> 
> 标签：javascript, css, object

只是一个基本问题

我有一个对象，我正在尝试从中获取 css 属性。所以我想要的是这样的

```
var width = e.style.width; 
```

我像 90% 确定宽度会变成一个字符串，但我又不太确定。我可以设置对象

```
e.style.width = 200; 
```

所以它放置了我想要的 int 或 float 或 w/e 值，但不确定如何获得 css 样式。

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-02T06:18:12.153

你应该使用如下

```
e.style.width = '80.2%';
e.style.width = '80.2em'; 
```

请参阅以下链接[链接 1](https://stackoverflow.com/questions/10118172/setting-div-width-and-height-in-javascript) [链接 2](https://stackoverflow.com/questions/2172338/change-width-of-a-div-dynamically)

如果您尝试使用 javascript 获取宽度，那么您可以使用以下代码

```
parseFloat(e.style.width); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-02T06:17:15.400

只需使用

```
parseFloat(e.style.width); 
```

这将从值中去除“px”，并为您提供以像素为单位的实际值。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-02T06:31:05.257

要获取对象宽度，您可以使用 clientWidth 或 offsetWidth 作为（两者都会返回一个整数）：

```
var width = e.clientWidth; 
```

或者

```
var width = e.offsetWidth; 
```

并设置对象宽度，您可以使用以下代码：

```
e.style.width = "200px"; 
```

# angularjs - 在 AngularJS 中缓存 HTTP 'Get' 服务响应？

> ID：14117653
> 
> 赞同：211
> 
> 时间：2013-01-02T06:15:39.403
> 
> 标签：angularjs, ajax, caching, http-get

我希望能够创建一个自定义 AngularJS 服务，该服务在其数据对象为空时发出 HTTP 'Get' 请求，并在成功时填充数据对象。

下次调用此服务时，我想绕过再次发出 HTTP 请求的开销，而是返回缓存的数据对象。

这可能吗？

* * *

## 回答 #1

> 赞同：317
> 
> 时间：2013-01-02T06:25:38.020

Angular 的[$http](http://docs.angularjs.org/api/ng.$http)有一个[内置的缓存](https://docs.angularjs.org/api/ng/service/$http#caching)。根据文档：

> **cache** – {boolean|Object} – 使用 $cacheFactory 创建的布尔值**或对象**，用于启用或禁用 HTTP 响应的缓存。有关详细信息，请参阅 [$http 缓存](https://docs.angularjs.org/api/ng/service/$http#caching)。

# 布尔值

因此，您可以在其选项中设置`cache`为**true ：**

```
$http.get(url, { cache: true}).success(...); 
```

或者，如果您更喜欢配置类型的调用：

```
$http({ cache: true, url: url, method: 'GET'}).success(...); 
```

# 缓存对象

您还可以使用缓存工厂：

```
var cache = $cacheFactory('myCache');

$http.get(url, { cache: cache }) 
```

您可以使用[$cacheFactory](http://docs.angularjs.org/api/ng.$cacheFactory)自己实现它（特别是在使用 $resource 时）：

```
var cache = $cacheFactory('myCache');

var data = cache.get(someKey);

if (!data) {
   $http.get(url).success(function(result) {
      data = result;
      cache.put(someKey, data);
   });
} 
```

* * *

## 回答 #2

> 赞同：48
> 
> 时间：2013-08-06T00:35:32.150

我认为现在有一个更简单的方法。这为所有 $http 请求（$resource 继承）启用了基本缓存：

```
 var app = angular.module('myApp',[])
      .config(['$httpProvider', function ($httpProvider) {
            // enable http caching
           $httpProvider.defaults.cache = true;
      }]) 
```

* * *

## 回答 #3

> 赞同：12
> 
> 时间：2013-05-04T19:21:58.363

在当前稳定版本 (1.0.6) 中执行此操作的更简单方法需要更少的代码。

设置模块后添加工厂：

```
var app = angular.module('myApp', []);
// Configure routes and controllers and views associated with them.
app.config(function ($routeProvider) {
    // route setups
});
app.factory('MyCache', function ($cacheFactory) {
    return $cacheFactory('myCache');
}); 
```

现在您可以将其传递给您的控制器：

```
app.controller('MyController', function ($scope, $http, MyCache) {
    $http.get('fileInThisCase.json', { cache: MyCache }).success(function (data) {
        // stuff with results
    });
}); 
```

一个缺点是键名也是自动设置的，这可能会使清除它们变得很棘手。希望他们会以某种方式添加以获得关键名称。

* * *

## 回答 #4

> 赞同：7
> 
> 时间：2014-08-27T06:57:38.373

如果您喜欢 $http 的内置缓存但想要更多控制权，请查看[angular-cache库。](https://github.com/jmdobry/angular-cache)您可以使用它通过生存时间、定期清除以及将缓存持久化到 localStorage 的选项来无缝地增加 $http 缓存，以便跨会话使用它。

FWIW，它还提供了工具和模式，使您的缓存成为一种更动态的数据存储，您可以作为 POJO 与之交互，而不仅仅是默认的 JSON 字符串。目前无法评论该选项的实用性。

（然后，最重要的是，相关库[angular-data](https://github.com/js-data/js-data-angular)是 $resource 和/或 Restangular 的替代品，并且依赖于 angular-cache。）

* * *

## 回答 #5

> 赞同：5
> 
> 时间：2016-01-12T04:21:04.943

由于 AngularJS 工厂是[单例](https://en.wikipedia.org/wiki/Singleton_pattern)的，您可以简单地存储 http 请求的结果，并在下次将服务注入某些东西时检索它。

```
angular.module('myApp', ['ngResource']).factory('myService',
  function($resource) {
    var cache = false;
    return {
      query: function() {
        if(!cache) {
          cache = $resource('http://example.com/api').query();
        }
        return cache;
      }
    };
  }
); 
```

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2016-04-07T11:28:32.823

```
angularBlogServices.factory('BlogPost', ['$resource',
    function($resource) {
        return $resource("./Post/:id", {}, {
            get:    {method: 'GET',    cache: true,  isArray: false},
            save:   {method: 'POST',   cache: false, isArray: false},
            update: {method: 'PUT',    cache: false, isArray: false},
            delete: {method: 'DELETE', cache: false, isArray: false}
        });
    }]); 
```

设置缓存为真。

* * *

## 回答 #7

> 赞同：-2
> 
> 时间：2019-10-17T12:31:44.267

在 Angular 8 中，我们可以这样做：

```
import { Injectable } from '@angular/core';
import { YourModel} from '../models/<yourModel>.model';
import { UserService } from './user.service';
import { Observable, of } from 'rxjs';
import { map, catchError } from 'rxjs/operators';
import { HttpClient } from '@angular/common/http';

@Injectable({
  providedIn: 'root'
})

export class GlobalDataService {

  private me: <YourModel>;

  private meObservable: Observable<User>;

  constructor(private yourModalService: <yourModalService>, private http: HttpClient) {

  }

  ngOnInit() {

  }

  getYourModel(): Observable<YourModel> {

    if (this.me) {
      return of(this.me);
    } else if (this.meObservable) {
      return this.meObservable;
    }
    else {
      this.meObservable = this.yourModalService.getCall<yourModel>() // Your http call
      .pipe(
        map(data => {
          this.me = data;
          return data;
        })
      );
      return this.meObservable;
    }
  }
} 
```

你可以这样称呼它：

```
this.globalDataService.getYourModel().subscribe(yourModel => {

}); 
```

上面的代码将在第一次调用时缓存远程 API 的结果，以便可以在对该方法的进一步请求中使用它。

# javascript - 使用javascript将焦点设置为asp.net页面中ajax tabpanel的第一个控件

> ID：14117658
> 
> 赞同：0
> 
> 时间：2013-01-02T06:15:46.860
> 
> 标签：javascript, asp.net, tabs

我的 asp 页面上的 tabcontainer 中有很多选项卡。我想将焦点放在每个选项卡选择上的选项卡的第一个控件上。我发现tabpanel有一些客户端事件，比如onclientclick。但是客户端事件会在页面加载时触发。我想用javascript来做。我的页面布局如下。

```
<asp:Content ID="Content2" ContentPlaceHolderID="PageContent" Runat="Server"> 
<asp:UpdatePanel ID="updtPanel" UpdateMode="Always" runat="server"> 
<ContentTemplate> <asp:TabContainer ID="tabContainerMaster" runat="server" ActiveTabIndex="3" UseVerticalStripPlacement="True"> 
<asp:TabPanel runat="server" HeaderText="header1" ID="tab1">
.......... 
```

有没有办法在javascript中做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-02T06:25:15.793

我的事情事件“OnClientActiveTabChanged”可以解决你的问题

```
<asp:TabContainer ID="tabContainerMaster" OnClientActiveTabChanged = "clientActiveTabChanged" ... 
```

而且JS函数可以是这样的，你想用Javascript吧？

```
function clientActiveTabChanged(sender, args)
{
   sender.get_tabs()[sender.get_activeTabIndex()].get_element().children[0].focus();
} 
```

# php - 从用户输入字符串中删除所有坏词（脏话）？

> ID：14117659
> 
> 赞同：1
> 
> 时间：2013-01-02T06:15:53.620
> 
> 标签：php, string

我试图从字符串中取出脏话并认为我已经完成了，直到这个网站上的某个人向我展示了这个：[http ://codepad.org/LMuhFH4g](http://codepad.org/LMuhFH4g)

那么，有什么办法可以让我遍历一个字符串，直到它清除所有脏话。

```
$a = array( 'duck', 'chit', 'dsshole' ); 

$str = 'duchitck-you-dssduckhole'; 

$newString = str_ireplace($a,'',$str); 
$newString = str_ireplace('-','',$newString); 
$newString = trim($newString); 
echo $newString; 
```

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-01-02T06:25:53.303

简单的解决方案是传递第四个可选的 $count 参数。

```
do { 
    $str = str_ireplace(..., ..., ..., $count);
} while ($count); 
```

不过要真正消除诅咒的话....祝你好运。有太多的变体无法完全过滤自然语言（word、werd、w0rd、w3rd 等——如果有人想给某人起一个足够糟糕的名字，他们会找到一种方法；网站倾向于使用适度是有原因的） .

* * *

顺便说一下，这种方法是不可用的基本方法，因为它没有实际单词的概念，而只是字符串（`assassinate`-> `inate`）。您可以使用正则表达式（方便的`\b`单词边界），但归根结底，**[这一切都毫无意义](http://www.codinghorror.com/blog/2008/10/obscenity-filters-bad-idea-or-incredibly-intercoursing-bad-idea.html)**。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2018-10-20T13:38:07.370

从 txt 文件中审查脏话的功能

PHP：

```
function censor($string)
{
    if ($string)
    {
        $badwords = file_get_contents("badwords.txt");
        $badwords = explode(",", $badwords);
        $replacewith = array();
        $index = 0;
        foreach ($badwords as $value) {
            $lengthOfStars = strlen($badwords[$index]) - 2;
            $replacewith[$index] = substr($badwords[$index], 0, 1).str_repeat("*", $lengthOfStars).substr($badwords[$index], -1);
            $index++;
        }
        $newstring = str_ireplace($badwords, $replacewith, $string);
        return $newstring;
    }
}

echo censor("Some swear words to censor"); 
```

坏词.txt：

发誓，话

结果：

```
一些 s***rw***s 要审查

```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-02T06:22:22.967

使用[此答案](https://stackoverflow.com/questions/2124527/string-contains-any-items-in-an-array-case-insensitive#2124557)中的“包含”功能，您可以

```
$strFromSearchBox = 'duchitck you dssduckhole';
$theseWords = array('duck', 'chit', 'dsshole');

$newString = $strFromSearchBox;
while(contains($newString, $theseWords)) {
    $newString = str_replace($theseWords,'',$newString);
}

echo $newString; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-02T06:28:32.067

```
// array of all the banned strings
$swears = array(
        "a*s",
        "t*****s"
        // add all your swear words to this array
    );

$dirtyStr = "a*s and t*****s";

// remove all the banned strings
$cleanStr = str_replace($swears, '', $dirtyStr);

echo $dirtyStr;
> a*s and t*****s

echo $cleanStr;
> and 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2017-01-12T13:07:23.583

```
function censor($string)
{
if ($string)
{
    //badwordsarray
    $badwords = array('some', 'swear', 'word');
    //replacearray                      
    $replace =  array('s**e', 's***r', 'w**d'); 

    $newstring = str_ireplace($badwords, $replace, $string);
    return $newstring;
}
}
 $message = $_POST['message'];
 $filteredmessage = censor($message);
 echo $filteredmessage; 
```

# javascript - 将外部 JSON 转换为 Highcharts 折线图 - 日期解析问题

> ID：14117662
> 
> 赞同：0
> 
> 时间：2013-01-02T06:16:14.587
> 
> 标签：javascript, json, highcharts, highstock

谁能让我开始使用 highstock 图表将以下远程 JSON 数据呈现为折线图？我现在只想在成功获取 ajax 时渲染一个简单的折线图，但下面数据中的日期包括每小时值。

[池价](http://example.com/poolprices.json)

容器：panelone

```
[{"date":"11/24/2012 19","price":"126.44"},{"date":"11/24/2012 18","price":"244.31"},{"date":"11/24/2012 17","price":"90.83"},{"date":"11/24/2012 16","price":"38.78"},{"date":"11/24/2012 15","price":"70.56"},{"date":"11/24/2012 14","price":"80.83"},{"date":"11/24/2012 13","price":"45.0"},{"date":"11/24/2012 12","price":"47.15"},{"date":"11/24/2012 11","price":"54.53"},{"date":"11/24/2012 10","price":"59.03"},{"date":"11/24/2012 09","price":"42.67"},{"date":"11/24/2012 08","price":"43.04"},{"date":"11/24/2012 07","price":"43.53"},{"date":"11/24/2012 06","price":"42.93"},{"date":"11/24/2012 05","price":"38.57"},{"date":"11/24/2012 04","price":"31.83"},{"date":"11/24/2012 03","price":"29.27"},{"date":"11/24/2012 02","price":"24.46"},{"date":"11/24/2012 01","price":"24.21"},{"date":"11/23/2012 24","price":"22.34"},{"date":"11/23/2012 23","price":"22.34"},{"date":"11/23/2012 22","price":"29.66"},{"date":"11/24/2012 20","price":"57.83"},{"date":"11/25/2012 02","price":"79.58"},{"date":"11/25/2012 01","price":"79.3"},{"date":"11/24/2012 24","price":"76.95"},{"date":"11/24/2012 23","price":"176.27"},{"date":"11/24/2012 22","price":"86.83"},{"date":"11/24/2012 21","price":"67.63"}] 
```

谢谢 ：）

交流电

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T08:38:36.813

数据未排序，并带有 Highstock 无法解析的日期格式。必须将日期解析为 Date 对象，转换为时间戳以供 Highstock 使用，并进行排序。

```
// Parse data into (unordered) array of timestamp and value
var newData = new Array();
for (var i = 0; i < rawData.length; i++) {
    var row = rawData[i];
    var date = new Date(row.date.substring(6, 10), parseInt(row.date.substring(0, 2)) - 1, row.date.substring(3, 5), row.date.substring(11, 13), 0, 0);
    var data = [date.getTime(), parseFloat(row.price)];
    newData.push(data);
}

// Sort the data by time. Thanks to Ben Blank: http://stackoverflow.com/questions/5199901/how-to-sort-an-associative-array-by-its-values-in-javascript
var tuples = new Array();
for (var key in newData) {
    tuples.push([key, newData[key]]);
}

tuples.sort(function(a, b) {
    a = a[1];
    b = b[1];
    return a < b ? -1 : (a > b ? 1 : 0);
});

var orderedData = [];
for (var i = 0; i < tuples.length; i++) {
    var key = tuples[i][0];
    var value = tuples[i][1];
    orderedData.push(value);
} 
```

[这个小提琴](http://jsfiddle.net/hdsPm/)显示了你的折线图。

# filesystems - OpenWRT 中的 Ubifs 同步选项

> ID：14117672
> 
> 赞同：0
> 
> 时间：2013-01-02T06:17:36.787
> 
> 标签：filesystems, embedded-linux, bootloader, openwrt, ubifs

我有一个可以在 openWRT 上运行的系统；引导加载程序是 uboot。我的 NAND 设备上有 UBI 文件系统。使用的 linux 内核是 3.4.18，映像启动正常，文件系统也正常。

一个问题是当 ftp 发生然后目标被关闭和打开时（在 ftpd 文件完全传输后，在目标上执行 ls 以确认），文件（即 ftpd）显示大小为 0。" mount”命令执行，然后观察到根文件系统的挂载选项没有“同步”。但是从引导加载程序中，引导参数按如下方式传递：

```
[    0.000000] arg[1] ubi.mtd=1
[    0.000000] arg[2] root=ubi0:rootfs
[    0.000000] arg[3] rootfstype=ubifs
[    0.000000] arg[4] rw
[    0.000000] arg[5] rootflags=sync
[    0.000000] arg[6] console=ttyS0
[    0.000000] arg[7] init=/etc/preinit 
```

mount 命令的输出

```
 rootfs on / type rootfs (rw)
 ubi0:rootfs on / type ubifs (rw,noatime) 
```

任何指针都会有所帮助。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-11T14:09:50.093

当系统启动时 /etc/inittab 可能正在重新挂载你的根文件系统

您需要将 /etc/inittab 文件中的重新挂载行更改为：-

空::sysinit:/bin/mount -o remount,rw,sync /

# android - 选择列表视图行

> ID：14117673
> 
> 赞同：1
> 
> 时间：2013-01-02T06:17:36.657
> 
> 标签：android, android-listview, android-dialog

我有一个`AlertDialog`包含一个`ListView`. 通过`ListView`customCursor 适配器填充。一切正常，除了我无法在`ListView`.

```
public AlertDialog m_accountsDialog;

private AlertDialog createAccountSwitcherDialog2()
{
    Cursor listCursor = getDb().getAllListEntries();
    if(listCursor.moveToFirst())
    {
        //Prepare the dialog box
        AlertDialog.Builder builder = new AlertDialog.Builder(this);
        builder.setTitle(R.string.strAccounts);

        ListView listView = new ListView(this);
        listView.setLayoutParams(new ViewGroup.LayoutParams(LayoutParams.MATCH_PARENT,LayoutParams.MATCH_PARENT));

        listView.setAdapter(new AccountsAdapter(this,this,m_ActiveId, listCursor));
        listView.setOnItemClickListener(new OnItemClickListener()
        {
            @Override
            public void onItemClick(AdapterView<?> parent, View view, int position, final long rowId)
            {
                m_accountsDialog.dismiss();
                if(m_ActiveId != (int) rowId)
                {
                    //Do some stuff on click
                }
            }
        });
        builder.setView(listView);
        builder.setPositiveButton(...);
        builder.setNegativeButton(...);

        m_accountsDialog = builder.create();
        m_accountsDialog.setOnShowListener(...);
        m_accountsDialog.show();
    }

    return m_accountsDialog;

} 
```

这是用于填充警报对话框内的 listView 的适配器。

```
public class AccountsAdapter extends CursorAdapter
{
    private Context  m_context; /**<Context to which we're bound*/
    private Activity m_activity;
    private boolean  m_isTabletDevice;
    private int      m_ActiveId; // not used now. Can this be used to highlight the row?

   public AccountsAdapter(Context context,Activity activity,int activeId, Cursor cursor)
   {
       super(context, cursor);
       m_context = context;
       m_activity = activity;
       m_isTabletDevice          = isTabletDevice(context);
       m_ActiveId           = activeId;
   }

   @Override
   public void bindView(View rowView,final Context context, Cursor cursor)
   {
       if(rowView == null)
       {
           rowView = newView(context,cursor,null);
       }
       TextView tv = (TextView) rowView.findViewById(R.id.accountName);
       tv.setText(cursor.getString(cursor.getColumnIndex(ProfileDatabase.COLUMN_PROFILENAME)));

      ImageButton editAccountImageButton = (ImageButton) rowView.findViewById(R.id.accountEdit);
           editAccountImageButton.setOnClickListener(new View.OnClickListener() {               
            @Override
            public void onClick(View arg0)
             {
                 Integer activeId = (Integer)arg0.getTag();
                 if(m_activity instanceof MainActivity)
                 {
                     ((MyActivity)m_activity).m_accountsDialog.dismiss();
                     ((MyActivity)m_activity).startEditAccountsActivity(activeId);
                 }

             }
           });
          int accountId = cursor.getInt(cursor.getColumnIndex(ProfileDatabase.COLUMN_ACCOUNT_ID));
          editAccountImageButton.setTag(profileId);
          editAccountImageButton.setFocusable(false);
   }

   @Override
   public View newView(Context context, Cursor cursor, ViewGroup parent)
   {
       //create and return a rowView
   }
} 
```

我的列表视图的自定义行。

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="fill_parent"
android:layout_height="wrap_content"
android:minHeight="?android:attr/listPreferredItemHeight" >

<ImageButton
    android:id="@+id/accountEdit" 
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignParentRight="true"
    android:background="@drawable/option_selector"
    android:src="@drawable/edit_account_button" />
<TextView
    android:id="@+id/accountName" 
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_centerVertical="true"
    android:layout_toLeftOf="@id/accountEdit"
    android:bufferType="spannable"
    android:ellipsize="end"
    android:layout_alignParentLeft="true" /> 
```

我试过了，

```
listView.setItemChecked(position, true);
listView.setSelection(position); 
```

在创建警报对话框但它不起作用的函数中。我的另一个选择是手动为我的适配器中的行视图设置背景颜色，这当然是不可取的，因为主题可能会因设备而异。

在此先感谢，并为冗长的帖子感到抱歉。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T06:51:50.943

在drawable文件夹中创建`selector_row.xml`如下。

```
<?xml version="1.0" encoding="utf-8"?>
<selector xmlns:android="http://schemas.android.com/apk/res/android">
<item android:drawable="@color/Highlight_color" android:state_pressed="true"/>
</selector> 
```

并将其设置为自定义行的背景资源。

# cakephp - CakePHP 检索文档

> ID：14117676
> 
> 赞同：0
> 
> 时间：2013-01-02T06:17:48.423
> 
> 标签：cakephp, cakephp-1.3, cakephp-2.0

我有一个`test.txt`在`app/webroot/files/filecache/`目录中命名的文件。

现在，我想在[这个查看器](http://www.accusoft.com/cloudconnectapi.htm)中使用`iframe`. 但我无法`url`正确获取该文件。

我试过了：

`$uurl = $this->Html->url('/files/filecache/test.txt' , true);`

在`ctp`文件中。

我怎样才能正确获取该网址？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-02T07:13:25.737

如果您回显 $uurl 并将其回显的内容复制并粘贴到浏览器中，文件会加载吗？

您的文件/文件缓存文件夹的权限可能设置不正确，从而阻止访问者查看文件。

将 $uurl 的输出直接粘贴到浏览器中，以查看允许您调试的错误。

# iphone - 如何从 presentmodalview 控制器返回一个导航控制器到另一个导航控制器

> ID：14117681
> 
> 赞同：0
> 
> 时间：2013-01-02T06:18:23.667
> 
> 标签：iphone, objective-c

我已经使用过`PresentModalViewController`，我想`viewcontroller`使用具有不同导航控制器的后退按钮返回另一个，那么如何`ViewController`在两个不同的导航控制器上从一个移动到另一个？

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T06:51:21.587

从 iOS 4 开始，您可以在呈现的模态视图控制器中编写，

```
[self dismissModalViewControllerAnimated:YES]; 
```

这将关闭接收器，您将返回原始（非模态）视图控制器。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-02T09:11:27.380

对于 ModelView 控制器使用这个

```
[self dismissModalViewControllerAnimated:YES]; 
```

和导航控制器

```
[self.navigationController popViewController:yourviewname animated:YES]; 
```

# firefox - 在 Firefox 中查找 CTRL-F 文本的顶级 X Window x/y 坐标

> ID：14117682
> 
> 赞同：0
> 
> 时间：2013-01-02T06:18:26.100
> 
> 标签：firefox, coordinates, selection

我需要以编程方式确定在 Firefox 中使用 CTRL-f 找到的文本的**顶级 X 窗口坐标。**例如，从这个序列开始：

1.  在 Linux 上打开 Firefox（此处不涉及 MS Windows）。
2.  浏览到某个网页。
3.  键入 CTRL-f 开始查找页面中存在的文本“foo”。
4.  Firefox 然后按预期突出显示文本。
5.  键入 Escape 键可消除页面底部的查找工具栏。

现在，在这一点上，我想打开 Scratchpad (Shift-F4)，然后键入一些 javascript，它将向控制台输出突出显示/选择的文本左上点的 X 和 Y 坐标（再次，澄清一下，坐标需要是**顶级X窗口坐标**）。坐标需要转换为相对于顶级 X 窗口（Firefox 窗口）的坐标。

我不希望安装任何 Firefox 扩展，例如 Selenium，只使用直接的 javascript。如果可能的话，我也不想修改正在加载和查看的页面的内容。

选定的[文本和 xy 坐标](https://stackoverflow.com/questions/4106109/selected-text-and-xy-coordinates)问题似乎与此类似。该`window.getSelection()`方法返回文本字符串，但我正在寻找该字符串的 X 和 Y 坐标，因为它在 X 窗口上。

编辑#1：请注意，[http://javascript.info/tutorial/coordinates](http://javascript.info/tutorial/coordinates)给出的“窗口坐标”与顶级 X 窗口坐标不同。这个问题的一个可行答案包括从元素或节点坐标转换为顶级 X 窗口坐标的完整仿射转换 javascript 代码（即使这意味着中间转换为[http://javascript.info/给出的“窗口坐标”）教程/坐标](http://javascript.info/tutorial/coordinates)）。

编辑#2：可能的答案在[https://stackoverflow.com/a/14119731/257924](https://stackoverflow.com/a/14119731/257924)中，但我仍在确认它。通过下面的编辑#3 确认：

[编辑#3： Tim Downs](https://stackoverflow.com/a/14119731/257924)的后续回答：这是有效的，但需要注意的是：

```
var sel = window.getSelection();
var result = "no_selection";
if (sel.rangeCount) {
    var range = sel.getRangeAt(0).cloneRange();
    if (range.getBoundingClientRect) {
        range.collapse(true);
        var rect = range.getBoundingClientRect();
        if (rect) {
            x = rect.left;
            y = rect.top;
            x += window.mozInnerScreenX;
            y += window.mozInnerScreenY;
            result = "" + x + " " + y;
        }
    }
}
result 
```

需要注意的是，如果用户通过在页面中按 CTRL-PLUS 或 CTRL-MINUS 来缩放页面，则 x 和 y 值将不正确（缩放问题）。但我发现如果不涉及缩放，x 和 y 值是绝对 X 根窗口（Linux 下 X11 下）坐标，而不是相对于我最初要求的 Firefox X 根窗口的原点。

[我已经询问了有关在调试期间访问比例因子](https://stackoverflow.com/questions/14176792/inspecting-firefox-components-interfaces-nsidomwindowutils-screenpixelspercsspix)的单独相关问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T09:40:27.130

您可以使用`getClientRects()`从选择中获得的范围的方法来执行此操作。见[https://stackoverflow.com/a/6847328/96100](https://stackoverflow.com/a/6847328/96100)

要将由返回的矩形返回的坐标转换为**仅在 Firefox 中**`getClientRects()`相对于“屏幕”的坐标，您可以使用和。演示如下；在 Windows 上的 Firefox 中，结果似乎是合理的。**[`window.mozInnerScreenX`](https://developer.mozilla.org/en-US/docs/DOM/window.mozInnerScreenX)[`window.mozInnerScreenY`](https://developer.mozilla.org/en-US/docs/DOM/window.mozInnerScreenY)**

 **[http://jsfiddle.net/timdown/gaw5W/1/](http://jsfiddle.net/timdown/gaw5W/1/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-12T15:27:52.600

鉴于 jsfiddle.net 没有响应（在[Tim 的回答](https://stackoverflow.com/a/14119731/257924)中引用），我在下面用我自己的解决方案进行回复，该解决方案也解决了我在“编辑 #3”中描述的关于获取比例因子的问题。

以下 Javascript 代码演示了如何获取所选文本的正确缩放的原点坐标。选定的文本包括如果您键入 CTRL-f、键入一些随后被选定的文本并键入 Escape 时选定的内容。

为了在`screenPixelsPerCSSPixel`不抛出异常的情况下可用，应该将`devtools.chrome.enabled`标志 `about:config`设置为 true，并且您必须使用 Scratchpads`Environment`菜单来选择`Browser`配置（有关详细信息，请参阅[Inspecting Firefox Components.interfaces.nsIDOMWindowUtils.screenPixelsPerCSSPixel value in Javascript Scratchpad](https://stackoverflow.com/a/14185479/257924)） .

为避免安全风险，请务必`devtools.chrome.enabled` 在尝试以下代码后将 flag 转回 false。

应用上述配置更改后，在 Scratchpad 中键入以下文本，将光标放在最后的“结果”之后，然后键入 CTRL-L 以查看结果。

```
var contentWindow = window.content;
var sel = contentWindow.getSelection();
var result = "no_selection";
if (sel.rangeCount) {
    var range = sel.getRangeAt(0).cloneRange();
    if (range.getClientRects) {
        range.collapse(true);
        var rect = range.getClientRects()[0];
        if (rect) {
            x = rect.left;
            y = rect.top;
            x += contentWindow.mozInnerScreenX;
            y += contentWindow.mozInnerScreenY;
            var util = contentWindow.QueryInterface(Components.interfaces.nsIInterfaceRequestor).getInterface(Components.interfaces.nsIDOMWindowUtils);
            x *= util.screenPixelsPerCSSPixel;
            y *= util.screenPixelsPerCSSPixel;
            result = "" + x + " " + y;
        }
    }
}
result 
```

我验证了上述处理在内容窗口中正确缩放，使得嵌入在`result`字符串中的结果坐标值对应于绝对 X 根窗口坐标。我没有在 MS Windows 上测试过上述内容。**

# javascript - 使用 javascript 删除页面标题

> ID：14117683
> 
> 赞同：2
> 
> 时间：2013-01-02T06:18:35.837
> 
> 标签：javascript, jquery, chat

我正在开发一个聊天功能。当两个人聊天时，收到消息的人的页面标题将指示您收到来自...的消息

```
var titles = []
var text = "you received a message from... "
titles.push(text); 
```

阅读消息后，将从标题中删除文本（与 facebook 聊天相同）。我从标题中删除文本

```
function remove(){
titles.splice(i,1)
} 
```

问题是如果网站在多个选项卡中打开或在多个窗口中打开，如果阅读聊天消息，我无法从所有打开的选项卡和窗口中删除页面标题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T06:20:33.977

如果我理解你的问题，你可以试试这个；

```
<title>original title</title>
<script type="text/javascript">
function changeTitle(title) { document.title = title; }
</script>
<input type='button' onclick='changeTitle("new title")' value='Change Title'/> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-02T06:24:42.907

`document.title`会为你工作

[http://www.w3schools.com/jsref/prop_doc_title.asp](http://www.w3schools.com/jsref/prop_doc_title.asp)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-02T06:25:30.177

用于`setInterval`运行更新。您可以使用`titles.shift()`获取数组中的第一个标题并将其从数组中删除

```
setInterval(function(){
   /* make sure titles array isn't empty first*/
   if( titles.length){
       document.title=titles.shift();
   }
}, 10000); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-02T06:25:57.480

```
<script type="text/javascript">
$(document).ready(function() {
// on the return of the ajax function if there is a new message add this
    $(this).attr("title", "you received a message from");

});
</script> 
```

# objective-c - 优先考虑 NSTimer

> ID：14117688
> 
> 赞同：0
> 
> 时间：2013-01-02T06:19:04.850
> 
> 标签：objective-c, ios, nstimer

我有一个`NSTimer`跑步。`NSTimer`该应用程序与（包括在同一个视图控制器以及应用程序委托中）同时做很多事情。我不知道为什么，但有时会`NSTimer`暂停并且不更新标签。（它充当用户的秒表。）

我应该尝试使用仪器来解决这个问题吗？`dispatch_async()`在被中断时使用全局来调用被调用的东西？或者有没有办法优先考虑 NSTimer 和它调用的方法？

我正在像这样创建计时器：

```
oneSecondTicker = [NSTimer scheduledTimerWithTimeInterval:1.0 
                                                   target:self 
                                                 selector:@selector(updateLabelsWithOneSecondTicker) 
                                                 userInfo:nil
                                                  repeats:YES];

[[NSRunLoop currentRunLoop] addTimer:oneSecondTicker forMode:UITrackingRunLoopMode]; //!important 
```

# asp.net - 在 Web 服务器中托管 ASP.net Web 服务

> ID：14117690
> 
> 赞同：0
> 
> 时间：2013-01-02T06:19:36.757
> 
> 标签：asp.net, service, web

我开发了一个 ASP.net 网络服务，如何在按月付费的网络服务器上托管此服务，因为大多数网络服务器提供商只托管 asp.net 网站。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-02T06:26:07.650

1.  在 IIS 中托管 Web 服务与托管 asp.net 网站相同。

2.  转到您的 Web 服务的 web.config。

3.  将端点地址更改为“localhost:port_number/webservice_aliasname/service_name.svc”

希望能帮助到你 ：）

# c# - 如何将类中的对象添加到实例化窗口？

> ID：14117692
> 
> 赞同：0
> 
> 时间：2013-01-02T06:20:03.993
> 
> 标签：c#, wpf, instances

我有一个相当简单的 C#/WPF 问题。我在 C# / WPF 方面的技能不是那么好，所以如果答案已经存在，但我不够聪明，看不到它，我深表歉意。

我有一个从 App.xaml.cs 实例化的主窗口

```
internal static MainWindow mw;
protected override void OnStartup(StartupEventArgs e)
        {
            try
            {
                //investwindow = new Invest();
                mw = new MainWindow();
                mw.Show();
            }
            catch (Exception ex)
            {
                MessageBox.Show(ex.ToString());
            }
        } 
```

我的主窗口类包含一堆实例化其他窗口/类的按钮，例如：

```
private void btnInvest_Click(object sender, RoutedEventArgs e)
        {
            investwindow = new Invest();
            investwindow.Show();
        } 
```

在 XAML 中的这个投资窗口上，我有一个名为“InvestSP”的网格。在运行投资窗口的代码时，我运行了一个名为“StockItem”的类，它接受一大堆输入并将它们写入一个组框和几个文本框，然后将它们放入堆栈面板中。我不会复制 StockItem 类的整个代码，但最后一部分是当我尝试将组框添加到堆栈面板时生成错误的部分：

```
try
            {
                App.mw.investwindow.InvestSP.Children.Add(GroupB);
            }
            catch (Exception e)
            {
                MessageBox.Show(e.ToString());
            } 
```

错误消息说 System.NullReferenceException：对象引用未设置为对象的实例。

我尝试了很多事情，有些没有帮助，有些更糟。我知道这是由于我缺乏理解，但请耐心等待，我只是尽力而为。感谢您为我指明正确的方向。如果您需要更多信息或代码，请告诉我。

带着感激之情！

沃特

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-02T12:46:48.540

似乎您没有设置 App.mw.investwindow 对象。可以通过调试找到空对象来确定。我的建议如下：

您可以在其中创建一个静态集合，该集合`App.xaml.cs`包含对您在窗口中需要的任何数据对象的引用。

```
public static ObservableCollection<GroupB> GroupBs {get; set;} // in App.xaml.cs 
```

将 InvestSP 网格的 ItemsSource 设置为此集合。

当您想`InvestSP`从另一个窗口向您的网格添加一些东西时，只需将您的对象添加到此集合中：

```
App.GroupBs.Add(GroupB); 
```

您将看到您的网格已更新。

# php - 脚本在 Ajax 中不起作用返回值

> ID：14117694
> 
> 赞同：1
> 
> 时间：2013-01-02T06:20:32.857
> 
> 标签：php, javascript, ajax, checkbox

我正在显示项目 ID 和标题。还有一个链接“显示该成员的项目”。单击它时它将显示该用户的项目。我为此使用 ajax。有一个用于检测顺序的脚本单击复选框。这适用于第一个列出的项目。但不适用于 ajax 返回的项目

```
<table id="result" width="100%">
<?php 
if($tot1>0){
while($row5=mysql_fetch_array($result1))
{
?> 
<tr class="detail9txt" height="30"> 
<td width="2%"><input type="checkbox" name="item" value="<?=$row5[item_id];?>"></td>
<td align="center" width="12%" style="vertical-align:baseline;"><a href=""><?=$row5['item_title'];?></a>
</td> 
</tr>
<tr><td colspan="6" align="right"><a href="javascript:callfunc(<?= $row5[user_id]; ?>)" style="font-size:10px;">Show items for this Member</a></td></tr>
<?php
}}
?>
</table>
<input name="hidden_field" type="hidden" id="hidden_field"/>
<input type="image" name="submit" src="images/submito.gif" value="submit"> 
```

脚本代码和ajax是

```
<script type="text/javascript">
function callfunc(str)
{

//alert(str);
if (str.length==0)
{ 
document.getElementById("result").innerHTML="";
return;
}
if (window.XMLHttpRequest)
{// code for IE7+, Firefox, Chrome, Opera, Safari
xmlhttp=new XMLHttpRequest();
}
else
{// code for IE6, IE5
xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
}
xmlhttp.onreadystatechange=function()
{
if (xmlhttp.readyState==4 && xmlhttp.status==200)
{
document.getElementById("result").innerHTML=xmlhttp.responseText;
}
}
xmlhttp.open("GET","getdetails.php?cid="+str,true);
xmlhttp.send();
}
</script>
<script src="http://code.jquery.com/jquery-latest.js"></script>

<script type="text/javascript">
<!--
$(document).ready(function () { 

    var array = []; 
    $('input[name="item"]').click(function () { 

        if ($(this).attr('checked')) { 
            // Add the new element if checked: 
            array.push($(this).attr('value')); 
            alert(array);
            //hidden_field.value = array.join(',');
            //hidden_field.value = array.join(',');
            document.getElementById('hidden_field').value=array.join(',');
        } 
        else { 
            // Remove the element if unchecked: 
            for (var i = 0; i < array.length; i++) { 
                if (array[i] == $(this).attr('value')) { 
                    array.splice(i, 1); 
                } 
            } 
        } 

    }); 
});
//-->
</script> 
```

getdetails.php 代码是

```
<?php
require 'include/connect.php';
$cid=$_GET['cid'];

$sql="select * from table where user_id=$cid";
$res=mysql_query($sql); 
$tot=mysql_num_rows($res);
if($tot>0){
while($row=mysql_fetch_array($res))
{
echo '<tr class="detail9txt" height="30"> 
<td width="2%"><input type="checkbox" name="item" value="'.$row[item_id].'"></td>
      <td align="center" width="12%" style="vertical-align:baseline;">
        <a href="">'.$row['item_title'].'</a>
      </td> </tr>';
}}
?> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-02T06:32:30.617

您没有在 ajax 生成的代码中调用 onclick 函数。`getdetails.php` 变化中

```
<input type="checkbox" name="item" id="item" value="'.$row[item_id].'"> 
```

到

```
<input type="checkbox" onclick="javascript:call_check()" name="item" id="item" value="'.$row[item_id].'"> 
```

任何 html 标签的 id 属性也应该是唯一的。这可能不会造成任何问题，但绝对不是一个好习惯。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-02T06:29:00.470

您可能应该将`click`脚本更改为[on](http://api.jquery.com/on/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-02T09:36:31.390

使用这个脚本

```
<script type="text/javascript">
var array = []; 
    $('#item').live('click', function() {
if ($(this).attr('checked')) { 
            // Add the new element if checked: 
            array.push($(this).attr('value')); 
            document.getElementById('hidden_field').value=array.join(',');
        } 
        else { 
            // Remove the element if unchecked: 
            for (var i = 0; i < array.length; i++) { 
                if (array[i] == $(this).attr('value')) { 
                    array.splice(i, 1); 
                } 
            } 
        } 

});

</script> 
```

# remote-debugging - CasperJS 远程调试选项

> ID：14117698
> 
> 赞同：5
> 
> 时间：2013-01-02T06:20:44.417
> 
> 标签：remote-debugging, phantomjs, casperjs

我正在尝试对**casperJS**使用远程调试选项。

我在端口上运行它`6666`。

```
$casperjs --remote-debugger-port=6666 myscript.js 
```

调试器启动，我可以在 url 上访问 WebKit 检查器

```
http://localhost:6666/ 
```

我将第一个 URL 视为`about:blank`.

当我单击它时，会加载网页检查器。

当我输入`_run()`控制台时，我得到

**参考错误，_run 未定义错误。**

我无法继续前进。如果我需要在某处进行更正，请告诉我。

另外，我是否必须在 CasperJS 脚本中设置显式断点。如果我必须，那怎么办？

**更新 1**

试过 --remote-debugger-autorun=yes

```
$casperjs --remote-debugger-port=6666 --remote-debugger-autorun=yes myscript.js 
```

这将按照帮助中的说明立即运行脚本。但是，调试器仍然运行并且进程不会退出。

**输出**

现在我可以在 about:blank 下面看到请求的 URL。

当我单击 about:blank 或请求的 url 时，WebKit 检查器打开。

但我又被困住了。

**更新 2**

还尝试执行使用 phantomJS 移植的示例。

结果是一样的。我被困在一个空白的 WebKit Inspector 窗口上。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-02T14:00:59.653

尝试`__run()`代替`_run()`.

您还可以在编写“调试器”时在设计时放置断点；在你的脚本中。调试器将在这些行处中断。

我现在正在研究另一个问题 - casper.exit() 函数不会终止幻像进程。它显示以下行：

```
Phantom::exit() called but not quitting in debug mode. 
```

需要手动终止该进程...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-26T19:11:55.510

我找不到票务 ATM，但我认为您无法在调试器模式下启动 casperJS。但是，您可以将 CasperJS 作为 PhantomJS 脚本的库：

phantom.casperPath = '/usr/local/Cellar/casperjs/1.0.1/libexec/'; phantom.injectJs('/usr/local/Cellar/casperjs/1.0.1/libexec/bin/bootstrap.js');

# c++ - 命名空间函数未链接

> ID：14117699
> 
> 赞同：2
> 
> 时间：2013-01-02T06:20:44.617
> 
> 标签：c++, function, namespaces

我有这样的设置

**文件.h：**

```
#pragma once
namespace a {
    int home(double a, double b, ...
    class b {
        int la();
    };
} 
```

**文件.cpp**

```
#include "file.h"    
using namespace a;

int home(double a, double b, ...) {
    //function stuff
}

int b::la() {
    home(1, 2, ...)
} 
```

并且**b**被实例化并在 main 中使用，如下所示：

```
#include "file.h"    
b instant;
instant.la() 
```

但是我在使用该函数的任何地方都收到此链接器错误`home`：

```
undefined reference to `a::home(double, double, ...)'
In function a::b::la() 
```

我很确定所有 CMakelist 都已正确设置，并且所有内容都包含在内。

但是当我将**file.cpp**更改为在命名空间中时：

```
namespace a {
    all of the same stuff
} 
```

它工作得很好吗？

任何想法为什么会发生这种情况？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-01-02T06:29:37.933

您的问题`using namespace a;`出在 file.cpp 的顶部。这只是将所有定义从`namespace a`您的代码中提取出来。因此，当您定义 时`int home(double, double, ...)`，您并没有为 提供实现`a::home`，而是在创建另一个函数。然后你有`int a::home(double, double, ...)`和`int home(double, double, ...)`。

您需要`int a::home(double, double, ...)`或将`.cpp`文件中的所有内容包装`namespace a`在`namespace a { ... }`.

编辑：您的困惑源于`using`声明的作用。它只是从名称空间中提取所有内容，`a`并允许您无限制地使用它。它不允许您省略定义中的限定条件。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-02T06:26:15.347

您需要在命名空间内*定义*函数，`a`因为它是在其中*声明*的：

```
namespace a
{
    int home(double a, double b, ...) {
      //function stuff
    }
} 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-01-02T06:30:50.247

在 file.cpp 中包装定义`namespace a`，这将在命名空间中定义它们，`a`链接器可以找到符号。

```
namespace a{

int home(double a, double b, ...) {
    //function stuff
}

int b::la() {
    home(1, 2, ...)
}

} // namespace a 
```

节点，`using namespace a`没有定义你的功能`inside namespace a`。

看看[google c++ coding style guide](http://google-styleguide.googlecode.com/svn/trunk/cppguide.xml#Namespaces)，它提供了很好的 c++ 编码风格。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-01-02T06:26:35.683

`home`需要说明的定义是`a::home`因为它是在其中声明的名称空间。因此未定义对“a::home”的引用。

# iphone - 如何本地化解析数据？

> ID：14117702
> 
> 赞同：-1
> 
> 时间：2013-01-02T06:21:01.290
> 
> 标签：iphone, objective-c, ios, xcode, localization

我正在做本地化。我得到了一些关于它的信息，即在 Localizable.strings 中编辑标签文本。但我想本地化解析数据。我在下面使用来编辑 Localizable.strings 中的标签文本。对此有任何想法吗？

```
label1.text=NSLocalizedString(@"One", @"The Number1");
label2.text=NSLocalizedString(@"Two", @"The Number 2"); 
```

......

```
Data is editing in 
 /* The Number 5 */
 "Five" = "Five";

/* The Number 4 */
"Four" = "Four";

/* The Number1 */
"One" = "One";

/* The Number 3 */
"Three" = "Three";

/* The Number 2 */
"Two" = "Two"; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T10:04:45.467

看这个例子：

在`Localizable.strings(English)`：

```
"Home" = "Home"; 
```

在`Localizable.strings(Danish)`：

```
"Home" = "Hjem"; 
```

从以下位置获取密钥`Localizable.strings`：

```
currentKey = NSLocalizedString(@"Home", nil); 
```

让你的 yourParseDataDictionary ：

```
value = "ABCD" for key = Home
value = "EFGH" for key = Hjem 
```

然后你可以得到价值：

```
currentValue = [yourParseDataDictionary objectForKey:currentKey];

// currentValue = [yourParseDataDictionary objectForKey:@"Home"]; // In english
// currentValue = [yourParseDataDictionary objectForKey:@"Hjem"]; // In Danish 
```

# android - 如何解析这个 JSON 响应

> ID：14117703
> 
> 赞同：0
> 
> 时间：2013-01-02T06:21:05.410
> 
> 标签：android, json

我正在使用 JSON 响应来解析标题、日期内容和缩略图图像并将其放置在列表视图中。我解析了在列表视图中获取的标题、日期、内容和名称，但是当我在循环中包含缩略图 json 解析以在列表视图中显示时，输出中没有显示任何内容。谁能帮助我如何解析 json 响应。JSON 响应在这里

```
//json response to parse  
{
 "status": "ok",

"posts": [
    {
        "id": 2498,
        "title": "jigsaw lamp imported from thailand",
        "content": "<p>Hi. It&#8217;s a invitation to have a look at a unique lamp shade called jigsaw lamp from thailand. Available in multi attractive colours.</p>\n",
        "date": "2012-12-26 09:48:15",
         "author": {
            "name": "Tapas123456",
                        },
            "attachments": [
            {
                "description": "",
                "caption": "",
                "mime_type": "image/jpeg",
                "images": {

                    "thumbnail": {
                        "url": "http://site/wp-content/uploads/2012/12/646675-50x47.jpg",

                    }
                }
            },............... 
```

以下代码用于将图像和数据添加到列表视图

```
public class CustomizedListView extends Activity {
JSONArray posts = null;

// All static variables
static final String URL = "website/ads/?json=get_recent_posts";

  static final String KEY_POSTS = "posts";
  static final String KEY_ID = "id";
  static final String KEY_TITLE = "title";
  static final String KEY_DATE = "date";
  static final String KEY_CONTENT = "content";
  static final String KEY_AUTHOR = "author";
  static final String KEY_NAME = "name";
  static final String KEY_ATTACHMENTS = "attachments";
  static final String KEY_SLUG = "slug";
  static final String KEY_THUMB_URL = "thumbnail";
  static final String KEY_IMAGES = "images";
  static final String KEY_URL = "url";

 ListView list;
    LazyAdapter adapter;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);

    ArrayList<HashMap<String, String>> songsList = new ArrayList<HashMap<String, String>>();

    // Creating JSON Parser instance
            JSONParser jParser = new JSONParser();

            // getting JSON string from URL
            JSONObject json = jParser.getJSONFromUrl(URL);
            try {
        JSONArray posts = json.getJSONArray(KEY_POSTS);
        JSONArray attachments = json.getJSONArray(KEY_ATTACHMENTS);
    // looping through all song nodes <song>
            for(int i = 0; i < posts.length(); i++){
                JSONObject c = posts.getJSONObject(i);
                // Storing each json item in variable
                String id = c.getString(KEY_ID);
                String title = c.getString(KEY_TITLE);
                String date = c.getString(KEY_DATE);
                String content = c.getString(KEY_CONTENT);

                //authornumber is agin  JSON Object
                JSONObject author = c.getJSONObject(KEY_AUTHOR);
                String name = author.getString(KEY_NAME);

                //loop                  
                for(int j = 0; j < attachments.length(); j++){
                    JSONObject d = attachments.getJSONObject(j);
                    String slug = c.getString(KEY_SLUG);

                    JSONObject images = d.getJSONObject(KEY_IMAGES);

                    JSONObject thumbnail = images.getJSONObject(KEY_THUMB_URL);
                    String url = thumbnail.getString(KEY_URL);

        // creating new HashMap
        HashMap<String, String> map = new HashMap<String, String>();

        // adding each child node to HashMap key => value
        map.put(KEY_ID, id);
        map.put(KEY_TITLE, title);
        map.put(KEY_DATE, date);
        map.put(KEY_NAME, name);
        map.put(KEY_CONTENT, content);
        map.put(KEY_SLUG, slug);
        map.put(KEY_URL, url);

        // adding HashList to ArrayList
        songsList.add(map);
            }   }
            } catch (JSONException e) {
                e.printStackTrace();

                }

    list=(ListView)findViewById(R.id.list);

    // Getting adapter by passing json data ArrayList
    adapter=new LazyAdapter(this, songsList);        
    list.setAdapter(adapter);

    // Click event for single list row
    list.setOnItemClickListener(new OnItemClickListener() {

        @Override
        public void onItemClick(AdapterView<?> parent, View view,
                int position, long id) {

        }
    });     
}   
     } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-02T06:33:55.380

您的**附件在****json**中的 post 数组内，但在代码中，您将其保留在 for 循环之外的帖子中。请将其保留在内部以获取每个帖子的每个附件。

尝试按照下图应用并交叉验证实施。

![在此处输入图像描述](../Images/0ba6424e7a89f20d171e4f843b29b01d.png)

希望这会帮助你。

# android - Android ImageButton setMaxheight 没有效果

> ID：14117704
> 
> 赞同：1
> 
> 时间：2013-01-02T06:21:06.227
> 
> 标签：android, height, imagebutton, image-scaling

我使用表格布局来使用权重来布局按钮，按钮的大小为 0dip 或 wrap_content，因此它们按权重扩展。

我正在尝试将按钮转换为 ImageButton 并将图像设置为按钮大小而不是展开它。

我让按钮被创建并获得它的大小，然后我分配图像并使用 ImageButton.setMaxHeight(); 限制它的高度；

```
final ImageButton ib = (ImageButton) findViewById(R.id.buttonOptions);
    ib.post(new Runnable() {
        public void run() {
            final int height = ib.getHeight();
            ib.setScaleType(ScaleType.FIT_CENTER);
            ib.setMaxHeight(5); // or height    
            ib.setImageResource(R.drawable.options);

        }}); 
```

图像以其原始大小绘制，因此扩展按钮... setMaxHeight() 不限制图像高度/宽度。知道为什么吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-02T10:43:47.700

解决了它

```
ib.setAdjustViewBounds(true); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-02T06:24:45.483

```
ViewTreeObserver observer = ib.getViewTreeObserver();
observer.addOnGlobalLayoutListener(new ViewTreeObserver.OnGlobalLayoutListener() {
//here you can get height and set height
} 
```

不确定，但试试吧。它可能会帮助你。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-02T06:29:54.183

setMaxHeight() 用于图像按钮而不是其中的图像。

尝试，

```
ib.setScaleType(ScaleType.CENTER_CROP); 
```

# r - 使用 R 读取具有“Interrupted Goode 的 Homolosine Projection Binary Format”的 GIS 数据

> ID：14117708
> 
> 赞同：0
> 
> 时间：2013-01-02T06:21:47.127
> 
> 标签：r, gis, binaryfiles, spatial

我正在尝试将带有“Interrupted Goode's Homolosine Projection Binary Format”的 GIS 数据加载到 R 中，但我不知道该怎么做。

数据示例可以从以下链接获取：ftp: [//ftp.glcf.umd.edu/glcf/Continuous_Fields_Tree_Cover/Global/gl-goodes-treecover/gl-goodes-deciduous.bin.gz](ftp://ftp.glcf.umd.edu/glcf/Continuous_Fields_Tree_Cover/Global/gl-goodes-treecover/gl-goodes-deciduous.bin.gz)

我尝试使用 R 包“caTools”中的函数“read.ENVI”，但它不起作用。

```
> library(caTools)
Loading required package: bitops
> r <- read.ENVI("gl-goodes-deciduous")
Error in read.ENVI("gl-goodes-deciduous") : 
  read.ENVI: Could not open input header file: gl-goodes-deciduous.hdr 
```

有什么建议么？谢谢~

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-02T09:07:51.937

如果您有一台可以读取整个 600M+ 二进制文件而不会窒息的机器，那就太好了。否则，您可能希望利用 raster 包在磁盘上使用 GDAL 图像的技能。

首先创建一个名为的文件`gl-goodes-deciduous.vrt`，如下所示：

```
<VRTDataset rasterXSize="40031" rasterYSize="17347">
<VRTRasterBand dataType="Byte" band="1" subClass="VRTRawRasterBand">
    <SourceFilename relativetoVRT="1">gl-goodes-deciduous.bin</SourceFilename>
    <ImageOffset>0</ImageOffset>
    <PixelOffset>1</PixelOffset>
    <LineOffset>40031</LineOffset>
    <ByteOrder>MSB</ByteOrder>
  </VRTRasterBand>
</VRTDataset> 
```

这为 GDAL 库提供了足够的信息来读取数据。您可能还想阅读有关 VRT 的文档以获取正确的坐标。然后在 R 中，打开 VRT 并绘制它的低分辨率样本：

```
> require(raster)
> r = raster("gl-goodes-deciduous.vrt")
> plot(r,maxpixels=100*100) 
```

专业提示：只要有可用的 .tif 文件，就使用它，因为它可能是内置了所有必需元数据的 GeoTIFF。

我有点担心 Nrows 乘以 Ncolumns 比文件短 163 个字节，但也许有一个页脚，或者 ImageOffset 应该是 163 来抵消这个。

# maven-2 - 配置 Maven 以在项目目录之外生成输出

> ID：14117709
> 
> 赞同：8
> 
> 时间：2013-01-02T06:21:48.113
> 
> 标签：maven-2, maven-3

请帮助我，我是 Maven 新手。我正在尝试在与 Maven 项目文件夹不同的目录中生成一个目标文件夹。根据我的要求，当我构建我的 maven 项目时，生成的 war 文件应该放在另一个文件夹中，如 C:\naresh 文件夹。

这是我的代码：

```
<project xmlns="http://maven.apache.org/POM/4.0.0"
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation="http://maven.apache.org/POM/4.0.0
   http://maven.apache.org/xsd/maven-4.0.0.xsd">
   <packaging>war</packaging>
   <modelVersion>4.0.0</modelVersion>
   <groupId>com.test</groupId>
   <artifactId>project</artifactId>
   <version>1.0</version>

   <build>
    <directory>${project.basedir}/target</directory>
     <outputDirectory>C:\Software\${project.basedir}/target</outputDirectory>

    <plugins>
        <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-war-plugin</artifactId>
             <configuration>
               <warSourceDirectory>WebContent</warSourceDirectory>
             </configuration>
        </plugin>
    </plugins>

    </build>
</project> 
```

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-01-03T01:58:38.107

@khmarbaise 是正确的，使用 maven，您最好尽可能遵循约定 - 否则您应该使用不同的构建工具，否则您最终会一直与之抗争。也就是说，您可以执行以下操作来实现您的目标：

```
<build>
    <outputDirectory>${user.home}/${project.artifactId}/target</outputDirectory>
    ...
</build> 
```

这使用系统属性作为根目录，并在以('project')`user.home`命名的文件夹中创建输出目录。`<artifactId/>`所有 Java 系统[属性](http://docs.oracle.com/javase/tutorial/essential/environment/sysprop.html)都在 pom.xml 中可用。如果您需要在其他地方创建它，您可以使其相对于上面的目录。

**使用 maven-war-plugin 代替：**

由于您的问题表明您确实只需要将工件（war 文件）输出到不同的目录，因此我建议您修改maven-war-plugin 中的[输出目录的配置。](http://maven.apache.org/plugins/maven-war-plugin/war-mojo.html#outputDirectory)例如：

```
<build>
    <plugins>
        <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-war-plugin</artifactId>
        <version>2.0</version>
        <configuration>
            <outputDirectory>${user.home}/${project.artifactId}</outputDirectory>
        </configuration>
        </plugin>
    </plugins>
</build> 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-02T08:51:46.390

关于 Maven，您必须了解的第一件事是： Maven 有它的约定，其中一个约定是有一个[目标文件夹，该文件夹位于当前项目下，](http://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html)而不是其他地方。此外，绝对禁止将一些绝对文件夹定义放入您的 pom.xml 中。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2018-02-08T22:24:10.427

与接受的答案非常相似，我使用的是安装在 docker 中的部署文件夹

```
 <plugins>
        <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-war-plugin</artifactId>
            <configuration>
                <outputDirectory>${project.build.directory}/deployments</outputDirectory>
            </configuration>
        </plugin>
    </plugins> 
```

# video-streaming - 使用 Wireshark 分析视频质量

> ID：14117711
> 
> 赞同：2
> 
> 时间：2013-01-02T06:22:08.520
> 
> 标签：video-streaming, wireshark, http-live-streaming, videoquality

我在网络中有一个比特率为 6Mbps 的 HTTP 实时流，我正在从源服务器流式传输媒体，并在它通过具有不同交换机、路由器、DSLAM 和最后调制解调器的真实网络后在 Mac 客户端获取输出到最终客户。

现在，在客户端，我没有得到良好的流质量，所以为了分析，我已经获取了 Wireshark 跟踪。如果我在 Wireshark 上的 TCP 对话中看到 bps 值，我看不到比特率有任何下降。那么，有什么方法可以让我看到导致质量下降的原因吗？任何 QoS 参数都存在一些问题，但我无法对其进行分析。

# ip - 使用 MaxMind 或运行本地 whois 通过 IP 获取访问者国家代码

> ID：14117713
> 
> 赞同：1
> 
> 时间：2013-01-02T06:22:16.430
> 
> 标签：ip, whois, visitor-pattern, maxmind

在以下两种方法之间，通过 IP 获取访问者国家代码的最佳方法是什么：

1.  在这里使用[MaxMind geoip 数据库](http://www.maxmind.com/download/geoip/api/php.old/README)。

2.  像这样为单词 country 运行本地 whois 和 grep

    ```
    $ip = $_SERVER['REMOTE_ADDR']; // Get users IP
    $country = exec("whois $ip  | grep -i country");
    $country = str_replace('country: ', '', $country); 
    ```

我听说运行本地人只能在linux服务器上工作，这是正确的吗？

# java - 如何正确地将时间字符串转换为日期对象

> ID：14117715
> 
> 赞同：2
> 
> 时间：2013-01-02T06:22:23.067
> 
> 标签：java, android, epoch

我无法将时间字符串转换为准确的 Date 对象表示

我与之通信的服务器将提供这样的 UTC 时间值。

```
2013-01-02T05:32:02.8358602Z 
```

当我尝试以下代码时，我得到的毫秒计数比预期的 UTC 提前了近 2 小时 15 分钟。

```
DateFormat inputFormat = new SimpleDateFormat("yyyy-MM-dd'T'HH:mm:ss.SSS", Locale.getDefault());
inputFormat.setTimeZone(TimeZone.getTimeZone("UTC"));                   
Date date = inputFormat.parse("2013-01-02T05:32:02.8358602Z"); 
```

我究竟做错了什么

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-02T06:51:43.273

问题是 SimpleDateFormat 需要 8358602 不是几分之一秒，如果millis = 8358602 ms，它就是数字。默认情况下，SimpleDateFormat 处于“宽松”模式，这就是它接受 8358602 的原因，它还将接受天字段中的 99 并将额外的天数移至月份字段等等。如果您将严格模式切换为 SimpleDateFormat.setLenient(true)，您将收到 ParseException，因为 millis 的最大值为 999。

我可以提供一个解决方法。您的日期采用带有小数秒的 W3C XML Schema 1.0 日期/时间格式。对于这种情况，您需要 javax.xml.datatype.XMLGregorianCalendar。这有效

```
DatatypeFactory dtf = DatatypeFactory.newInstance();
XMLGregorianCalendar c = dtf.newXMLGregorianCalendar("2013-01-02T05:32:02.8358602Z");
System.out.println(c.toGregorianCalendar().getTime()); 
```

并打印

```
Wed Jan 02 07:32:02 EET 2013 
```

请注意，EET 是 GMT+2

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-01-02T06:23:36.480

试试这个：

```
SimpleDateFormat format = new SimpleDateFormat("EEE MMM dd HH:mm:ss z yyyy");
Date d = format.parse(fileDate); 
```

**必须在SimpleDateFormat()**构造函数中指定正确的格式。

编辑：

```
public String getconvertdate1(String date)
{
    DateFormat inputFormat = new SimpleDateFormat("yyyy-MM-dd'T'HH:mm:ss.SSS");
    inputFormat.setTimeZone(TimeZone.getTimeZone("UTC"));
    DateFormat outputFormat = new SimpleDateFormat("dd MMM yyyy");
    Date parsed = null; // should not be initialized first else current date will be printed in case of a parse exception
    try
    {
        parsed = inputFormat.parse(date);
    }
    catch (ParseException e)
    {
        // TODO Auto-generated catch block
        e.printStackTrace();
    }
    String outputText = outputFormat.format(parsed);
    return outputText;
} 
```

并用我上面的方法尝试这种格式：`EEE MMM dd HH:mm:ss zzz yyyy`

# php - MySQL中的表格没有显示结果？

> ID：14117716
> 
> 赞同：0
> 
> 时间：2013-01-02T06:22:35.487
> 
> 标签：php, html, forms, url, isset

我正在尝试创建一个表单，提交时将通过 MySQL 运行查询。但是，当我测试它时，没有任何反应，尽管我没有收到错误。我在同一页面上有另一个 isset，但形式不同。

这是php位：

```
if(isset($_POST['submit']))
{
$owner = $_POST['id'];

$get = @mysql_query("SELECT * FROM wolves WHERE name = '$owner'");
$result = mysql_fetch_assoc($get);
echo $result['name'];

} 
```

这是表格：

```
<?php
echo 
"
<form action=test.php name=form2>
Id: <select name='id'>
";
while ($own = mysql_fetch_array($query)) 
{
echo "<option value='" . $own['name'] . "'>" . $own['name'] . "</option>";
}
echo "</select><input type=submit name=submit value=Submit!></form>";
?> 
```

提交表单时，正确的值会显示在 URL 中，但 php 似乎根本不起作用。我究竟做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T06:26:30.573

**表单中的第一个提及方法 POST**

检查表单提交是否进入您的预期循环，

然后请在表单提交循环中使用 while 循环来获取您的预期值，如下所示，

```
if(isset($_POST['submit']))
{
    $owner = $_POST['id'];    
    $get = @mysql_query("SELECT * FROM wolves WHERE name = '$owner'");
    while($result = mysql_fetch_assoc($get)) {
        echo $result['name'];
    }    
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-02T11:39:06.257

你必须采取`method="post"`形式

```
<form action="test.php" name="form2" method="post"> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-02T06:27:43.700

> 提交表单时，正确的值会显示在 URL 中

表示通过 url 传递的数据，可以通过 GET 方法获取，否则`post`在表单中作为方法提及

`<form action=test.php name=form2 method=post>`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-02T06:46:01.187

您还没有`method`为表单设置。这意味着这些值将使用`get`方法发送到服务器。在您的 php 中，您可以使用`$_GET` **super global**访问这些变量。

您所做的是，使用`get`方法提交表单并尝试使用`$_POST` **superglobal**访问值，该值是空的，并且您的服务器返回 false `if(isset($_POST['submit']))`。

将表单更改`method`为`post`然后重新运行代码。

# java - 使用 Java 将文件从 FTP 下载到本地会使文件不可读 - 编码问题

> ID：14117719
> 
> 赞同：0
> 
> 时间：2013-01-02T06:23:12.950
> 
> 标签：java, hadoop, ftp, elastic-map-reduce, amazon-emr

我开发了一个代码，它从 FTP 读取非常大的文件并使用 Java 将其写入本地机器。执行它的代码如下。这是`next(Text key, Text value)`内部的`RecordReader`一部分`CustomInputFormat`

```
 if(!processed)
            {
                            System.out.println("in processed");
                in = fs.open(file);
    processed=true; 
            }
while(bytesRead <= fileSize) {

                 byte buf[] = new byte[1024]; 

                try {
                    in.read(buf);
                    in.skip(1024);
                    bytesRead+=1024;
                    long diff = fileSize-bytesRead;
                    if(diff<1024)
                    {
                        break;
                    }
        value.set(buf, 0, 1024); // This is where the value of the record is set and it goes to the mapper . 
                } 
                catch(Exception e)
                {
                    e.printStackTrace();
                }

            }
            if(diff<1024)
            {
                int difference= (int) (fileSize-bytesRead);

                 byte buf[] = new byte[difference]; 
                in.read(buf);
                bytesRead+=difference;
            }

                    System.out.println("closing stream");
                    in.close(); 
```

写入结束后，我看到传输完成并且目标文件的大小与源文件的大小相同。但我无法打开文件，编辑器给出的错误为

```
gedit has not been able to detect the character coding.
Please check that you are not trying to open a binary file.
Select a character coding from the menu and try again. 
```

这个问题：[Java upload jpg using JakartaFtpWrapper -使文件不可读](https://stackoverflow.com/questions/1810309/java-upload-jpg-using-jakartaftpwrapper-makes-the-file-unreadable/%22this%20question%22)我相信与我的有关，但我无法理解。

任何指针？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-02T06:53:05.607

你的复制代码是完整的，完全是 100% A 级的废话。在 Java 中复制流的规范方法如下：

```
int count;
byte[] buffer = new byte[8192]; // or more if you like
while ((count = in.read(buffer)) > 0)
{
  out.write(buffer, 0, count);
} 
```

摆脱所有其他绒毛。这只是在浪费时间和空间，显然会损坏您传输中的数据。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-02T06:34:47.067

我看到你的代码有很多问题。读取整个文件是一种奇怪的方式。例如：

```
in.read(buf);
in.skip(1024);
bytesRead+=1024; 
```

错误，`in.read(buf)`返回读取的字节数并将流位置设置为当前位置 old-position + n 读取字节。所以你不需要`skip`- 那是一个错误，因为 read 已经定位了流。

验证文件的校验和以确保它们是相同的。（使用 md5 或其他东西）我很确定校验和和文件大小都不相同。

您应该使用[apache commons-io](http://commons.apache.org/io/index.html)进行文件处理。否则请查看[有关文件处理的 oracle 文档](http://docs.oracle.com/javase/tutorial/essential/io/file.html)。

# xaml - 如何在 Windows Phone 的 XAML 中本地化文本

> ID：14117720
> 
> 赞同：2
> 
> 时间：2013-01-02T06:23:19.183
> 
> 标签：xaml, localization, windows-phone-8

我正在尝试将字符串本地化`XAML`。所以我修改了`ApplicationTitle`in的默认字符串`AppResource.zh-Hans.resx`。将设备配置为正确的手机语言为简体中文后，应用程序标题显示确定。

但是，当我尝试使用相同的技巧来修改我的数据透视项目的标题时，它并没有显示我想要的内容。我只是`AllSongs`在`AppResource.zh-Hans.resx`. 并进行以下修改。我错过了什么？在解决方案资源管理器中，自动生成的“ `AppResources.zh-Hans.Designer.cs`”为空。我需要添加什么吗？？谢谢！

```
 <phone:Pivot x:Name="ListView" Title="{Binding Path=LocalizedResources.ApplicationTitle, Source={StaticResource LocalizedStrings}}" Grid.Row="0" SelectionChanged="View_selection_changed" >
        <!--Pivot item one-->
        <phone:PivotItem Header="{Binding Path=LocalizedResources.AllSongs, Source={StaticResource LocalizedStrings}}"> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T11:47:17.697

您是否记得将相同的内容添加`AllSongs`到默认的 AppResource.resx 中？

如果您没有将其添加到默认资源文件中，则设计器将不会更新！

# wpf - 带有 DataTemplate 绑定问题的 WPF 列表框

> ID：14117727
> 
> 赞同：2
> 
> 时间：2013-01-02T06:24:19.303
> 
> 标签：wpf, binding, listbox, datatemplate

我正在尝试`ListBox`使用自定义数据模板创建一个，但绑定似乎是错误的。当我尝试使用*PacketItem*模板将项目添加到列表时，它们被添加，但三个*HexItem*文本框中的文本保持空白。当我将列表框的项目模板直接设置为可以正常工作的*HexItem*数据模板时。只有嵌套在*PacketItem*数据模板中时才会出现问题。

我确信这是一个简单的修复，似乎当模板嵌套时它不知道在哪里寻找文本绑定。我正在考虑绑定到相对源以从父级获取数据上下文是可行的，但这似乎是错误的做法。

修订后的 XAML

```
<UserControl x:Class="wpfPacketBox.ctlPacketBox"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:wpfPacketBox"
             mc:Ignorable="d" 
             d:DesignHeight="300" d:DesignWidth="600">
    <UserControl.Resources>
        <DataTemplate x:Key="PacketItem">
            <Expander IsExpanded="True"
                      d:DesignWidth="600">
                <Expander.HeaderTemplate>
                    <DataTemplate>
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="PacketNum" />
                            <TextBlock Text="Source" />
                            <TextBlock Text="Dest" />
                            <TextBlock Text="PacketID (FF0A)" />
                        </StackPanel>
                    </DataTemplate>
                </Expander.HeaderTemplate>
                <Expander.ContentTemplate>
                    <DataTemplate>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="10*" />
                                <ColumnDefinition Width="65*" />
                                <ColumnDefinition Width="25*" />
                            </Grid.ColumnDefinitions>

                            <Grid Grid.Column="0">
                                <TextBox Text="{Binding Offset}"
                                         FontFamily="Courier New"
                                         Foreground="Blue"
                                         Background="#FFCCCCCC"
                                         TextWrapping="Wrap"
                                         BorderThickness="0" />
                            </Grid>

                            <Grid Grid.Column="1">
                                <TextBox Text="{Binding Hex}"
                                         FontFamily="Courier New"
                                         TextWrapping="Wrap"
                                         BorderThickness="0" />
                            </Grid>

                            <Grid Grid.Column="2">
                                <TextBox Text="{Binding Ascii}"
                                         FontFamily="Courier New"
                                         Background="#FFCCCCCC"
                                         TextWrapping="Wrap"
                                         BorderThickness="0" />
                            </Grid>
                        </Grid>
                    </DataTemplate>
                </Expander.ContentTemplate>
            </Expander>
        </DataTemplate>
    </UserControl.Resources>

    <Grid>
        <ListBox ItemsSource="{Binding Path=Packets}"
                 ItemTemplate="{StaticResource PacketItem}"
                 Grid.Row="1"
                 ScrollViewer.HorizontalScrollBarVisibility="Disabled" />
    </Grid>

</UserControl> 
```

代码

```
using System;
using System.Windows.Controls;
using System.Collections.ObjectModel;

namespace wpfTester.UserControls
{
    public partial class test : UserControl
    {
        public ObservableCollection<clsPacket> Packets;

        public test()
        {
            InitializeComponent();
            Packets = new ObservableCollection<clsPacket>();
            PacketListBox.ItemsSource = Packets;

            for (int i = 0; i <= 100; i++)
            {
                Packets.Add(new clsPacket() { Offset = i, Hex = "00 11 22 33 44 55 66 77", Ascii = "ABCDEFGH" });
            }
        }
    }

    public class clsPacket
    {
        public long Offset { get; set; }
        public String Hex { get; set; }
        public String Ascii { get; set; }
    }
} 
```

解决方案

经过一番挖掘，我在[这里](http://social.msdn.microsoft.com/Forums/en-US/wpf/thread/634fffa3-7e70-4cc3-9a1c-5405e4747e2a/)找到了解决方案。问题是扩展器。我正在设置扩展器的标题/内容模板。但从未指定它自己的标题/内容。这是修复了我的问题的修改后的扩展器标签。

```
<Expander IsExpanded="True" Header="{Binding}" Content="{Binding}"> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-02T06:52:32.670

您需要为其设置`DataTemplates` `DataType`(clsPacket) 以解析绑定。

我不确定另一个`DataTemplate`是做什么用的，但这应该为您指明正确的方向，以使您的绑定正常工作。

```
<UserControl x:Class="WpfApplication11.test"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:WpfApplication11"
             mc:Ignorable="d" 
             d:DesignHeight="300" d:DesignWidth="300">
    <UserControl.Resources>
        <DataTemplate DataType="{x:Type local:clsPacket}">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="10*" />
                    <ColumnDefinition Width="65*" />
                    <ColumnDefinition Width="25*" />
                </Grid.ColumnDefinitions>

                <Grid Grid.Column="0">
                    <TextBox Text="{Binding Offset}"
                             FontFamily="Courier New"
                             Foreground="Blue"
                             Background="#FFCCCCCC"
                             TextWrapping="Wrap"
                             BorderThickness="0" />
                </Grid>

                <Grid Grid.Column="1">
                    <TextBox Text="{Binding Hex}"
                             FontFamily="Courier New"
                             TextWrapping="Wrap"
                             BorderThickness="0" />
                </Grid>

                <Grid Grid.Column="2">
                    <TextBox Text="{Binding Ascii}"
                             FontFamily="Courier New"
                             Background="#FFCCCCCC"
                             TextWrapping="Wrap"
                             BorderThickness="0" />
                </Grid>
            </Grid>
        </DataTemplate>
    </UserControl.Resources>

    <Grid>
        <ListBox ItemsSource="{Binding Path=Packets}"
                 Grid.Row="1"
                 ScrollViewer.HorizontalScrollBarVisibility="Disabled" />
    </Grid>

</UserControl> 
```

代码：

```
namespace WpfApplication11
{
    public partial class test : UserControl
    {
        private ObservableCollection<clsPacket> _packets = new ObservableCollection<clsPacket>();

        public test()
        {
            InitializeComponent();
            DataContext = this;
            for (int i = 0; i <= 100; i++)
            {
                Packets.Add(new clsPacket() { Offset = i, Hex = "00 11 22 33 44 55 66 77", Ascii = "ABCDEFGH" });
            }
        }

        public ObservableCollection<clsPacket> Packets
        {
            get { return _packets; }
            set { _packets = value; }
        }
    }

    public class clsPacket
    {
        public long Offset { get; set; }
        public String Hex { get; set; }
        public String Ascii { get; set; }
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-02T09:17:31.030

经过一番挖掘，我在[这里](http://social.msdn.microsoft.com/Forums/en-US/wpf/thread/634fffa3-7e70-4cc3-9a1c-5405e4747e2a/)找到了解决方案。问题是扩展器。我正在设置扩展器的标题/内容模板。但从未指定它自己的标题/内容。这是修复了我的问题的修改后的扩展器标签。

```
<Expander IsExpanded="True" Header="{Binding}" Content="{Binding}"> 
```

# c# - 二进制数组到asp.net中的图像

> ID：14117731
> 
> 赞同：2
> 
> 时间：2013-01-02T06:24:38.107
> 
> 标签：c#, asp.net, json, web-services

> **可能重复：**
> [如何将 json 图像（字节数组）反序列化为 asp.net 中的图像？](https://stackoverflow.com/questions/13250000/how-to-deserialize-json-imagebyet-arrayinto-image-in-asp-net)

字节数组被转换为每个字节的**整数表示**。在 Fiddler 中查看时，它看起来像

```
 {"imageBackground":[137,80,78,71,13,10,26,10,0,0,0,13,73,72,68,...]} 
```

如何从**json Web 服务中检索此****整数图像数组** 作为 asp.net c# 中的类

 *** * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T06:27:52.997

假设你有一个字节数组：

```
byte[] imageBackground = new byte[] { 137,80,78,71,13,10,26,10,0,0,0,13,73,72,68,... }; 
```

你可以创建一个[`Image`](http://msdn.microsoft.com/en-us/library/system.drawing.image.aspx)：

```
using (var stream = new MemoryStream(imageBackground))
using (var image = Image.FromStream(stream))
{
    // do something with the image
} 
```

或者，如果您想在 ASP.NET Web 表单上显示它，则可以在[`Image`](http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.image.aspx)控件内编写一个通用处理程序，将该图像流式传输到响应：

```
public class ImageHandler : IHttpHandler
{
    public bool IsReusable
    {
        get { return true; }
    }

    public void ProcessRequest(HttpContext context)
    {
        var response = context.Response;
        byte[] imageBackground = new byte[] { 137,80,78,71,13,10,26,10,0,0,0,13,73,72,68,... };
        response.OutputStream.Write(imageBackground, 0, imageBackground.Length);
        response.ContentType = "image/jpeg";
    }
} 
```

然后将 Image 控件指向此通用处理程序：

```
<asp:Image runat="server" ID="myimage" ImageUrl="~/imagehandler.ashx" /> 
```**

# cocos2d-iphone - 在 CCSprite 上更改着色器

> ID：14117738
> 
> 赞同：1
> 
> 时间：2013-01-02T06:24:50.617
> 
> 标签：cocos2d-iphone, opengl-es-2.0, kobold2d

我不知道为什么，但我正在多次更改我的精灵上的 Shader(CCGLProgram)。我希望能够使用我在精灵上分配和使用的以前的着色器，但是这样做会使我的整个精灵变黑（没有错误）。

我发现的唯一方法是重新创建我的程序并使用新创建的程序。但是，这并不理想，如果可能的话，我宁愿使用原始程序找到解决方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-25T17:14:38.603

您是否在您的一个顶点着色器中指代 u_mvpMatrix ？根据您使用的 Cocos2d 版本，您可能需要将其更改为 CC_MVPMatrix

# magento-1.7 - 在 magento 表“Newsletter-subscription”中添加列

> ID：14117749
> 
> 赞同：0
> 
> 时间：2013-01-02T06:26:05.527
> 
> 标签：magento-1.7

我想在“时事通讯订阅者”中添加多个列。我的模块名称是 Test_Advancenewsletter 为此我制作了 sql->advancenewsletter_setup->mysql4-install-0.1.0.php 并写

```
 $installer = $this;
    $installer->startSetup();
    $installer->run("
    ALTER TABLE {$this->getTable('newsletter_subscriber')}
        ADD (`lastname` TEXT NULL,
              `address` TEXT NULL,
              `phoneno` INT(20) NULL);
         "); 
    $installer->endSetup(); 
```

在 config.xml 我写： -

```
 <resources>
            <advancenewsletter_setup>
                <setup>
                    <module>Test_Advancenewsletter</module>
                    <class>Test_Advancenewsletter_Model_Resource_Mysql4_Setup</class>
                </setup>
                <connection>
                    <use>core_setup</use>
                </connection>
            </advancenewsletter_setup>
      </resources> 
```

但它不会创建列。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-03T05:49:49.860

我得到了解决方案 基本上首先我创建了一个列名 Firstname。然后我尝试添加多个列。所以我忘记从核心资源表中删除资源。我的意思是说，当我们定义资源时，它会将资源名称保存在核心资源表中。所以下次它会检查资源名称，如果它退出然后它什么也不做。因此，如果我们想再次运行 sql 查询，那么我们必须删除资源名称。

# ios - Xcode中通过git添加新文件的问题

> ID：14117752
> 
> 赞同：2
> 
> 时间：2013-01-02T06:26:14.993
> 
> 标签：ios, xcode, git, github

我在我的项目中添加了两个新文件，并使用命令将它们添加到我的 github

```
git add MyProject/File1.m
git add MyProject/File1.h 
```

我提交了更改并将更改推送到我的分支。

```
git commit -m "added two new files"
git push origin newbranch 
```

我确保我没有提交用户状态文件。

当 I 时`git stash`，它返回到已提交状态，即添加了两个新文件，但我的 Xcode 中缺少我的文件。但是当我在 Finder 中检查我的文件夹时，我能够找到它们。我该如何避免这种情况？

我想在 Xcode 的 Project Navigator 中查看我的文件。看来我每次都需要从 Finder 中添加这些文件。这很麻烦。

需要一些建议和指导。真的会欣赏它...

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-02T11:17:01.010

我认为您的文件没有在 XCode 的项目文件中添加它的引用条目。

解决方案：只需使用 xcode 添加丢失的文件，然后再次提交并将代码推送到 github。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-02T11:28:53.170

Xcode 项目也必须受版本控制，特别是文件`project.pbxproj`. 将新文件添加到 Xcode 后，您还需要将更改提交到项目文件。

由于`git stash`将您的 Xcode 项目恢复到没有文件的状态，我猜您*确实*将文件添加到 Xcode，但后来忘记将更改提交到 Xcode 项目。

```
# You already had these:
git add MyProject/File1.m
git add MyProject/File1.h

# Now you also need to do this:
git add MyProject/MyProject.xcodeproj/project.pbxproj 
```

# php - 如果条件为真，我如何写 textarea 值

> ID：14117756
> 
> 赞同：1
> 
> 时间：2013-01-02T06:26:55.030
> 
> 标签：php, javascript, jquery, html

如果条件为真，我如何从 $repvalue 值写入 textarea 值，请帮助我。

```
<html>
    <body>
    <form action="find4.php" method="post" name="finrep">
    <p>Find: <input type="text" name="fin">Replace: <input type="text" name="rep" >
    </p>
    <p><br/>
    <textarea name="comments" cols="25" rows="5" value="<?php echo $repvalue; ?>"></textarea>
    <input type="submit" name="submit1" value="submit">
    </p>
    </form>
    </body>
    </html>
    <?php
    if ($_POST['submit1'])
    {
    $findval = $_POST['fin'];
    $textboval = $_POST['comments'];
    if($findval == $textboval){
    $repvalue = $_POST['rep'];
    }
    }
    ?> 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-01-02T06:28:12.300

关闭，但是对于`textarea`您实际上将文本放置在标签之间，如下所示：

```
<textarea name="comments" cols="25" rows="5"><?php echo $repvalue; ?></textarea> 
```

此外，您可能希望在输出之前`$repvalue`使用[htmlenitites](http://php.net/manual/en/function.htmlentities.php)`</textarea>`清除它的值，因为变量中的任何标签都会破坏您的页面。

根据 charlietfl 的评论，您需要在尝试输出它之前确保您对`$repvalue`需要的定义（很好，甚至没有看）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-02T06:30:33.430

您必须将 textarea 值放在标签之间

```
<textarea><?php echo $repvalue; ?></textarea> 
```

# ffmpeg - 如何控制 ffmpeg 的关键帧生成？

> ID：14117757
> 
> 赞同：9
> 
> 时间：2013-01-02T06:27:09.063
> 
> 标签：ffmpeg, libav

我正在制作一个分段器来干预 ffmpeg 的 write_frame 函数并将输出数据写入单独的文件。每个分段文件包含大约 3 秒的视频片段。

代码执行以下操作：

```
1 - Get transcoded packet  
2 - Check if it contains key frame data, if yes goto 3\. 
3 - Check the duration of current segment, if it exceed 3 seconds, goto 4 
4 - Close file, and create new segment, write packet to segment file, goto-1 
```

一般来说，每个片段至少包含 3 秒的视频数据，并且从一个关键帧开始。

问题是输出视频的持续时间非常不同，有些包含 3 秒，有些包含 5 或 6。

我怀疑这个问题是由于 ffmpeg 在转码期间如何生成关键帧。如果两个相邻关键帧之间的“距离”是 6 秒，我得到 6 秒的片段。

这是我的问题：

1.  ffmpeg 以不规则的间隔生成关键帧是真的吗（间隔时间可以长达几秒（例如 6 秒）？

2.  我们如何控制 ffmpeg 关键帧的生成？（我想应该有一个 ffmpeg 命令的参数， -force_key_frames 可能，但我不确定）

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-01-02T11:32:13.177

1.  ffmpeg 可以根据场景变化检测以不规则的间隔生成关键帧。

2.  关键帧间隔可以通过 GOP 大小来控制。可以使用以下选项

-g (FFmpeg) 关键帧间隔，也称为 GOP 长度。这决定了 I 帧之间的最大距离。非常高的 GOP 长度将导致稍微更有效的压缩，但会使在视频中的搜索更加困难。

-keyint_min (FFmpeg) 最小 GOP 长度，I 帧之间的最小距离。

# javascript - $( #divid ).load(pagename.jsp) 在 liferay 6.1 中不起作用

> ID：14117759
> 
> 赞同：0
> 
> 时间：2013-01-02T06:27:27.783
> 
> 标签：javascript, jquery, liferay, liferay-ide

```
<script type='text/javascript' src='js/jquery.js'></script>

<script type="text/javascript">
    $(document).ready(function() {
        $("#gt").click(function() {

            $("#internal").load('second.jsp');   //not working....
            alert("loaded");

        });
    });
</script>

    Happy new year...................
    <a href="#" id="gt"> Click me </a>

    <p id="para"></p>

    <div id="internal"> a</div> 
```

我正在使用 Liferay 6.1 在 Eclipse 中工作。JQuery 工作正常...我能够更改部门的 innerHTML 和警告框也来了..但无法在 div 内加载页面。相同的代码在简单的动态 web 项目中正常工作。任何机构都可以帮助我吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-02T08:14:47.700

确保您的 second.jsp 可用于您的 webbrowser：您处于 portlet 环境中，因此您不能假设它`./second.jsp`指的是与 jsp 所在的目录相同的目录，该目录为您粘贴在问题中的内容提供服务。很可能您需要一条不同的路径——如果您的 jsp 在 中`/WEB-INF`，您甚至需要将它移动到其他地方，以便可以动态请求它。

此外，如果 second.jsp 需要访问门户会话，您最好对您的 portlet 使用资源请求。`<portlet:resourceURL/>`将成为你的朋友。

正如charlietfl 在对您的问题的评论中所建议的那样，最好的方法是在您的浏览器中使用HTTP 级别的输出（例如firebug）并查看实际发送的请求类型。

此外，当您处于门户环境中时，您可能希望附加/预先添加`<portlet:namespace/>`到您提供的 id - 否则当您的 portlet 被添加到页面两次（或其他人选择使用相同的身份证）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-02T06:29:30.797

您没有指定加载后要调用的任何回调函数。

```
$('#reinternalult').load('second.jsp', function() {
  alert('Load was performed.');
}); 
```

确保路径`second.jsp` 正确并且正确输出 html

也尝试直接从浏览器调用 second.jsp 看看你得到了什么

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-02T06:48:45.787

也使用 .on() 方法而不是 .click() 方法。这将使您免于 DOM 膨胀

$(document).ready(function() { $('body').on('click','#gt',function() {

```
 $("#internal").load('second.jsp', function(){
              alert("loaded");
        });
     }); 
```

});

# iis - 我收到错误日志错误应用程序名称：w3wp.exe，版本：8.0.9200.163

> ID：14117761
> 
> 赞同：2
> 
> 时间：2013-01-02T06:27:39.443
> 
> 标签：iis, webserver

我正在使用 Windows server 2012 和 IIS 8.0，但是当我运行应用程序时，我遇到了以下错误。

运行应用程序时，我在生产服务器上发现了以下错误。它不是不断获取，而是每当获取它时都会锁定应用程序，我们无能为力。这可能是 dll 冲突或其他配置问题。请让我知道您的想法，以便我继续。

1.  WAS：- 为应用程序池“GK”提供服务的进程与 Windows 进程激活服务发生了致命的通信错误。进程 ID 为“5604”。数据字段包含错误号。

2.  错误应用程序名称：w3wp.exe，版本：8.0.9200.16384，时间

戳：0x50108835 错误模块名称：KERNELBASE.dll，版本：6.2.9200.16451，时间戳：0x50988aa6 异常代码：0xe0434352

1.  应用程序：w3wp.exe 框架版本：v4.0.30319 描述：进程因未处理的异常而终止。异常信息： System.Runtime.CallbackException 堆栈：在 System.Runtime.Fx+IOCompletionThunk.UnhandledExceptionFrame(UInt32, UInt32, System.Threading.NativeOverlapped*) 在 System.Threading._IOCompletionCallback.PerformIOCompletionCallback(UInt32, UInt32, System.Threading.NativeOverlapped *)

如果你能在这个问题上帮助我，你能调查一下吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-04T13:16:47.123

在 Windows Server 2008R2 机器上安装 Windows 更新后，我们开始收到此错误。Windows Process Activation Service (WAS) 会安装一些额外的站点绑定，这些绑定会导致我们的设置出现问题。

我们从我们的网站中删除了 net.tcp、net.pipe、net.msmq 和 msmq.formatname 绑定，并且不再出现错误的应用程序异常。

# html - 你如何只将网站的某个部分放入 iframe 中？

> ID：14117763
> 
> 赞同：13
> 
> 时间：2013-01-02T06:27:45.043
> 
> 标签：html, wordpress, iframe

我希望只将网站的一小部分放入 iframe。我该怎么做？通常当我为一个网站（比如说雅虎）设置一个 iframe 时，它​​会获取整个网站......假设我只想要网站的一小部分，我该怎么做？

是否可以在网站的 iframe 上设置边距？

我希望在我的网站上放置一个网站的 iframe。（如果这有意义的话）

先谢谢了

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2013-01-02T06:51:01.147

在大多数情况下，引用是外部的，您无法控制外部页面。因此，您必须将 IFRAME 内容滚动到所需位置。这当然是不可能的。是的，有一些 JavaScript hack，但它们都是一个糟糕的解决方案，因为滚动只在页面加载后发生。解决方案

您可以将 IFRAME 包装到 div 中并使用绝对 TOP 和 LEFT CSS 属性滚动 DIV 内容。

**这是一个例子：**

```
#my-div
{
    width    : 400px;
    height   : 200px;
    overflow : hidden;
    position : relative;
}

#my-iframe
{
    position : absolute;
    top      : -100px;
    left     : -100px;
    width    : 1280px;
    height   : 1200px;
} 
```

在这里，您有一个尺寸为 400x200 像素的 DIV。现在通过在其中移动 IFRAME，您可以将其放置在正确的位置。

```
<div id="my-div">
<iframe src="http://www.example.com" id="my-iframe" scrolling="no"></iframe>
</div> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-02T06:41:19.780

[由于同源策略](http://en.wikipedia.org/wiki/Same_origin_policy)和相关的 iframe 限制，这无法可靠地完成。

> .. 同源策略是许多浏览器端编程语言（例如 JavaScript）的重要安全概念。*该策略.. 阻止访问不同站点上跨页面的大多数方法和属性*。

如果它是您网站中的网站 [或目标网站的代理]，则父级中的 JavaScript 可以根据需要修改嵌入式 iframe 的 DOM 或 CSS ..

如果目标网站愿意通过其他方式（包括 XDR/XHR+ [CORS](http://en.wikipedia.org/wiki/Cross-origin_resource_sharing)）传递数据，那么这些方式也可能被用作 hack-a-bouts。然而，这个任务没有通用的解决方案。

甚至[`jQuery.load`](http://api.jquery.com/load/)（使用 XHR）也受到同源策略的限制：

> 由于浏览器安全限制，大多数“Ajax”请求都受*同源策略*的约束；请求无法从不同的域、子域或协议成功检索数据。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-02T06:31:48.157

An`<iframe>`为您提供了一个完整的窗口来使用。做你想做的最直接的方法是让你的服务器给你一个完整的页面，只包含你想要显示的片段。

作为替代方案，您可以只使用一个简单的`<div>`并使用 jQuery`load`函数来加载整个页面并仅提取您想要的部分：

```
$('#target-div').load('http://www.yahoo.com'); 
```

您可能还需要做其他事情，一个显着的区别是内容将成为主页的一部分，而不是被隔离到单独的窗口中。

* * *

您将无法操纵 URL 以仅获取页面的一部分。因此，您要做的是通过您选择的服务器端语言获取页面内容，然后解析 HTML。从那里您可以获取您正在寻找的特定 DIV，然后将其打印到您的屏幕上。您还可以用来删除不需要的内容。

使用 PHP，您可以使用`file_get_contents()`读取要解析的文件，然后使用`DOMDocument`解析它并获取所需的 DIV。

这是基本的想法。这是未经测试的，但应该为您指明正确的方向：

```
$page = file_get_contents('http://touch.facebook.com');
$doc = new DOMDocument();
$doc->loadHTML($page);
$divs = $doc->getElementsByTagName('div');
foreach($divs as $div) {
    // Loop through the DIVs looking for one withan id of "content"
    // Then echo out its contents (pardon the pun)
    if ($div->getAttribute('id') === 'content') {
         echo $div->nodeValue;
    }
} 
```

# asp.net - 在具有自定义生成的标题行的 ASP.NET GridView 中冻结标题

> ID：14117768
> 
> 赞同：0
> 
> 时间：2013-01-02T06:28:00.050
> 
> 标签：asp.net, gridview

[我使用以下文章](http://www.technologytoolbox.com/blog/jjameson/archive/2010/04/28/custom-table-headers-with-the-asp-net-gridview-control.aspx)为我的 ASP.NET 网格生成了自定义标题。

但是，我需要确保当用户滚动网格时，标题被冻结在适当的位置。我经历了一些早期的线程，但这些都没有达到目的，因为生成的标题是定制的......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T11:39:57.200

也许你可以试试我的解决方案。我没有测试它是否有效，但我认为它可以支持你想要的。

[带有 jQ​​uery 的 GridViewScroll](http://gridviewscroll.aspcity.idv.tw/)

![在此处输入图像描述](../Images/d58c66683e891dd8fd85997782b99437.png)

# android - 如何在android中使用inflater将一个xml设计调用到另一个xml设计中

> ID：14117770
> 
> 赞同：1
> 
> 时间：2013-01-02T06:28:19.243
> 
> 标签：android, xml, android-layout, android-widget

这在android中是否可能？

我有一个`xml`design1 文件这个文件我想添加另一个`xml`design2 ..（即）

第一个`xml`是第二个设计中的一部分`xml`2

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-02T06:32:31.230

`xml`要在另一个文件中包含一个`xml`，您应该使用`include`关键字

```
<include layout="@layout/you_xml_layout_name" /> 
```

要以编程方式包含`xml`文件，您可以使用[LayoutInflater](http://developer.android.com/reference/android/view/LayoutInflater.html)。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-02T06:47:17.393

它很简单，只需在 xml 中使用标签并使用 layout 属性，它对你很有用

```
<include 
    layout="@layout/list_item_section"
    /> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-02T06:31:33.260

你可以这样做，是的。通常您只想对动态内容执行此操作，例如 ListView 或 GridView 中的列表项。

如果您只想在多个活动布局中重复使用静态内容，您可能希望在布局中使用“包含”标签。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-02T06:32:42.697

请在您的 xml 中包含布局

```
<include
    android:id="@+id/" 
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:layout_alignParentBottom="true"
    layout="@layout/viewgroup_bottom_bar" /> // please set proper layout name in your layout folder 
```

# c# - 在不使用多重继承的情况下避免代码重复

> ID：14117774
> 
> 赞同：0
> 
> 时间：2013-01-02T06:28:46.477
> 
> 标签：c#, .net, visual-studio-2010, multiple-inheritance

```
class A : N
{
     void sinefunc()
     {
           //some stuff here
     }
}

class B : N
{

    void sinefunc()
    {
        //some stuff here
    }
}

class C : N
{ 
    void sinefunc()
    {
         //some stuff here
    }
} 
```

这`sinefunc()`是一个常见的功能。但是，A、B 和 C 类存在于解决方案下的不同项目中。这些类已经继承了一个公共类 N 现在，

1.  为了避免代码重复，`sinefunc()`可以将它们移到这些类之外。
2.  但是，由于不允许多重继承。使功能通用的有效方法或可行方法是什么？（请注意，我不想把它放在`sinefunc()` N 班。它已经写好了，我不想打扰那个班。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-02T06:30:57.300

> （请注意，我不想将 sinefunc() 放在 N 类中。它已经写好了，我不想打扰那个类）

**如果不将函数移至`N`类，则无法做到这一点**。您可以拥有一个具有方法签名的接口，但是您必须在每个类中定义实现。

一种方法是**为类编写扩展方法`N`**，您可以在继承的类中使用它。

编辑：

定义一个静态类来保存扩展方法，例如：

```
public static class ExtensionClass
{
    public static void sinefunc(this N obj)
    {
        // your code
    }
} 
```

以后你可以这样称呼它：

```
static void Main(string[] args)
{
    A objA = new A();
    objA.sinefunc();
} 
```

**请记住包含包含扩展方法的命名空间，否则它将不可见。** 您可以在以下位置阅读更多信息：[扩展方法 MSDN](http://msdn.microsoft.com/en-us/library/vstudio/bb383977.aspx)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-02T06:33:33.100

您可以创建一个中间类作为类的外观`N`：

```
class A : X {    }

class B : X {    }

class C : X {    }

class X : N
{
     protected void sinefunc()
     {
           //some stuff here
     }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-02T06:33:09.873

如果 sinefunc() 是一个通用函数，为什么不把它放到另一个类中。例如，您可以在 Utility 类中将其设为静态方法

# java - 字符串包含 vs 列表 包含

> ID：14117787
> 
> 赞同：3
> 
> 时间：2013-01-02T06:30:09.703
> 
> 标签：java, coding-style, contains

假设您要测试输入是否是几个常量字符串之一，并且忽略性能，它是否是一种反模式：

```
if ("yes oui ja da".contains(answer)) {
    // answer was in the affirmative
} 
```

而不是更传统的：

```
private static List<String> affirmativeAnswers = Arrays.asList("yes", "oui", "ja", "da");

if (affirmativeAnswers.contains(answer)) {
    // answer was in the affirmative
} 
```

它的代码少了很多，也更容易阅读，但它是“黑客”吗？

### 编辑：

为了更安全，如果您担心部分匹配，您可以将其编码为：

```
if (",yes,oui,ja,da,".contains(',' + answer + ',')) 
```

它的代码*仍然*少得多（尽管变得丑陋）

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-02T06:34:48.887

由于各种原因，我认为这是一个丑陋的黑客：

*   它对意外输入并不稳健。例如`("yes oui ja da".contains(" "))`会返回 true - 可能不是你想要的。这是我认为最大的问题。即使您开始添加更多技巧（例如最近编辑中的逗号），您仍然需要考虑令人讨厌的极端情况。
*   在一般情况下，它的性能不高 - 如果您有中等/大量的可能性进行测试，您可能更好地检查 a `HashMap`or `HashSet`which`O(1)`而不是`O(n)`扫描连接的字符串。
*   它可能会使没有经验的编码器/未来的维护者感到困惑。如果您希望代码可维护，请不要使用聪明的技巧。
*   它不适合未来的重构（例如字符串的国际化？在运行时动态改变可能性列表？）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-02T06:43:13.087

如果要检查句子中是否存在字符串，那么
string.contains(string) 是可行的。

否则，如果要检查整个字符串的相等性，那么
list.contains(string) 是可行的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-02T06:42:14.267

此外，AFAIK，String contains 方法使用正则表达式来检查子字符串是否是字符串的一部分。与搜索列表（AFAIK）相比，此操作的成本很高。所以IMO，现在最好使用列表，不是吗？;)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-02T06:43:10.027

**尽可能删除依赖项**

在我看来，这不是最佳做法。最佳实践将允许消除对接受字符串的依赖。在这种情况下，依赖项是这个`("yes", "oui", "ja", "da")`字符串列表。但是，如果要将对字符串列表的依赖项移动到服务或数据库，则将其集成到接受的方法中会很容易，`List<string>`因为这很明显，而在尝试集成到无法接受的方法时可能会出现问题只是期望一个`string`.

**牢记范围**

与往常一样，这取决于范围。如果你只需要一次做这件小事，而且它是一个非常小的项目的一部分，那么它真的没什么区别。但是，如果这是一个不小的项目的一部分，那么如果没有遵循最佳实践，它可能需要在未来进行重构。

**让编译器优化代码**

关于它需要的代码量，你不应该太担心。更重要的是它的可读性。编译器将使代码尽可能高效，因为这是它的职责。不要尝试编写类似于编译器的代码，因为随着更好的方法出现，编译器将使用它们，而模拟代码将保持不变。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-02T06:58:11.997

> ...这是对语言的滥用...

“Java——他不在乎！！”。但是“哇！！讨厌！！” ¹ .

但说真的，您应该致力于使您的代码易于阅读和易于维护。（或高性能......如果这很重要。）

使用最少的击键次数来表达某些东西的棘手、晦涩的代码不是上述的。这是一种糟糕的风格......即使你得到的代码在功能上是正确的。

* * *

^(1 - 如果你在过去一年左右一直生活在岩石下......我指的是这个 - [http://knowyourmeme.com/memes/honey-badger](http://knowyourmeme.com/memes/honey-badger)。)

# visual-studio-2010 - 无法调试我的 C++ 程序：错误 LNK2038：检测到不匹配

> ID：14117790
> 
> 赞同：1
> 
> 时间：2013-01-02T06:30:23.273
> 
> 标签：visual-studio-2010, visual-c++, gmp

我刚刚安装了`MPIR`库。我测试了程序可以看到空代码中的头文件如下：

```
#include <iostream>
#include <conio.h>
using namespace std;

#pragma warning(disable: 4800)
#include <mpirxx.h>
#pragma warning(default: 4800)

int main (int argc, char *argv[])
{   
  mpz_class aBigPO2;

  aBigPO2 = 1073741824; //2^30
  aBigPO2*=aBigPO2; //2^60
  aBigPO2*=aBigPO2; //2^120
  aBigPO2*=aBigPO2; //2^240
  aBigPO2*=aBigPO2; //2^480
  aBigPO2*=aBigPO2; //2^960
  aBigPO2*=aBigPO2; //2^1920 
 // cout << aBigPO2 << endl;

cout<<"Hello World";
getch();
} 
```

我尝试编译和调试上面的代码，它运行良好，我可以看到 Hello World 语句。但是，当我删除`cout << aBigPO2 << endl;`语句中的注释时，仅在调试时出现以下错误（编译时，它不显示任何错误）

```
1>InitializeBuildStatus:
1>  Touching "Debug\gcdgmp.unsuccessfulbuild".
1>ClCompile:
1>  All outputs are up-to-date.
1>ManifestResourceCompile:
1>  All outputs are up-to-date.
1>mpirxx.lib(osmpz.obj) : error LNK2038: mismatch detected for '_ITERATOR_DEBUG_LEVEL': value '0' doesn't match value '2' in Main.obj
1>mpirxx.lib(osdoprnti.obj) : error LNK2038: mismatch detected for '_ITERATOR_DEBUG_LEVEL': value '0' doesn't match value '2' in Main.obj
1>mpirxx.lib(osfuns.obj) : error LNK2038: mismatch detected for '_ITERATOR_DEBUG_LEVEL': value '0' doesn't match value '2' in Main.obj
1>msvcprtd.lib(MSVCP100D.dll) : error LNK2005: "public: void __thiscall std::basic_ios<char,struct std::char_traits<char> >::setstate(int,bool)" (?setstate@?$basic_ios@DU?$char_traits@D@std@@@std@@QAEXH_N@Z) already defined in mpirxx.lib(osdoprnti.obj)
1>msvcprtd.lib(MSVCP100D.dll) : error LNK2005: "public: __int64 __thiscall std::ios_base::width(__int64)" (?width@ios_base@std@@QAE_J_J@Z) already defined in mpirxx.lib(osfuns.obj)
1>msvcprtd.lib(MSVCP100D.dll) : error LNK2005: "public: __int64 __thiscall std::basic_streambuf<char,struct std::char_traits<char> >::sputn(char const *,__int64)" (?sputn@?$basic_streambuf@DU?$char_traits@D@std@@@std@@QAE_JPBD_J@Z) already defined in mpirxx.lib(osdoprnti.obj)
1>msvcprtd.lib(MSVCP100D.dll) : error LNK2005: "public: class std::basic_streambuf<char,struct std::char_traits<char> > * __thiscall std::basic_ios<char,struct std::char_traits<char> >::rdbuf(void)const " (?rdbuf@?$basic_ios@DU?$char_traits@D@std@@@std@@QBEPAV?$basic_streambuf@DU?$char_traits@D@std@@@2@XZ) already defined in mpirxx.lib(osdoprnti.obj)
1>msvcprtd.lib(MSVCP100D.dll) : error LNK2005: "public: char __thiscall std::basic_ios<char,struct std::char_traits<char> >::fill(void)const " (?fill@?$basic_ios@DU?$char_traits@D@std@@@std@@QBEDXZ) already defined in mpirxx.lib(osfuns.obj)
1>msvcprtd.lib(MSVCP100D.dll) : error LNK2005: "public: int __thiscall std::ios_base::flags(void)const " (?flags@ios_base@std@@QBEHXZ) already defined in mpirxx.lib(osdoprnti.obj)
1>msvcprtd.lib(MSVCP100D.dll) : error LNK2005: "public: __int64 __thiscall std::ios_base::width(void)const " (?width@ios_base@std@@QBE_JXZ) already defined in mpirxx.lib(osfuns.obj)
1>msvcprtd.lib(MSVCP100D.dll) : error LNK2005: "public: class std::basic_ostream<char,struct std::char_traits<char> > & __thiscall std::basic_ostream<char,struct std::char_traits<char> >::flush(void)" (?flush@?$basic_ostream@DU?$char_traits@D@std@@@std@@QAEAAV12@XZ) already defined in mpirxx.lib(osdoprnti.obj)
1>msvcprtd.lib(MSVCP100D.dll) : error LNK2005: "public: class std::basic_ostream<char,struct std::char_traits<char> > * __thiscall std::basic_ios<char,struct std::char_traits<char> >::tie(void)const " (?tie@?$basic_ios@DU?$char_traits@D@std@@@std@@QBEPAV?$basic_ostream@DU?$char_traits@D@std@@@2@XZ) already defined in mpirxx.lib(osdoprnti.obj)
1>msvcprtd.lib(MSVCP100D.dll) : error LNK2005: "public: bool __thiscall std::ios_base::good(void)const " (?good@ios_base@std@@QBE_NXZ) already defined in mpirxx.lib(osdoprnti.obj)
1>msvcprtd.lib(MSVCP100D.dll) : error LNK2005: "public: void __thiscall std::basic_ostream<char,struct std::char_traits<char> >::_Osfx(void)" (?_Osfx@?$basic_ostream@DU?$char_traits@D@std@@@std@@QAEXXZ) already defined in mpirxx.lib(osdoprnti.obj)
1>c:\users\myuser\documents\visual studio 2010\Projects\gcdgmp\Debug\gcdgmp.exe : fatal error LNK1169: one or more multiply defined symbols found
1>
1>Build FAILED.
1>
1>Time Elapsed 00:00:00.14
========== Build: 0 succeeded, 1 failed, 0 up-to-date, 0 skipped ========== 
```

我应该怎么办 ？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-03T19:29:31.727

尝试为 mpir.h 添加 #include 并查看是否可以修复它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-02T06:42:20.227

在 CPP 中，字符串文字的最大长度为 16,384 (16K) 字节。您是否检查过 (2^1920 = 9.49711451 x 10577) 是否在此范围内？

# php - 双面加密php

> ID：14117808
> 
> 赞同：0
> 
> 时间：2013-01-02T06:32:05.223
> 
> 标签：php, mcrypt

我正在寻找一种简单的双面加密来隐藏 URL 路径。我尝试过使用 mcrypt，但我不断得到同一个单词的随机加密字符串。我不想使用任何需要数据库来保存加密的东西。任何帮助表示赞赏。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T06:34:22.863

您可以使用

```
base64_encode
base64_decode
or
urlencode
urldecode 
```

# java - org.apache.axiom.om.OMElement 类型无法解析。它是从所需的 .class 文件中间接引用的

> ID：14117814
> 
> 赞同：0
> 
> 时间：2013-01-02T06:33:00.717
> 
> 标签：java

实际上我将axis2-adb-1.1.jar文件添加到构建路径中，并且我有导入语句“import org.apache.axis2.rpc.client.RPCServiceClient;”。

然后我为它创建了一个实例，并在下面的语句中使用了该实例。

```
Object[] response = serviceClient.invokeBlocking(
                        name, inputParams, returnTypes); 
```

这里，serviceClient 是“RPCServiceClient”的一个实例。

但我收到错误 org.apache.axiom.om.OMElement 类型无法解析。它是从所需的 .class 文件中间接引用的。

任何人都可以帮我解决这个问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-02T06:44:54.837

您还需要一个 axiom-api JAR 文件。请参阅此页面 - [http://www.jarfinder.com/index.php/java/info/org.apache.axiom.om.OMElement](http://www.jarfinder.com/index.php/java/info/org.apache.axiom.om.OMElement) - 了解可能性。（您可能需要参考axis2 文档或下载页面来确定您需要哪个版本。）

# android - 如何高效/流畅地解析 XML？

> ID：14117816
> 
> 赞同：0
> 
> 时间：2013-01-02T06:33:02.660
> 
> 标签：android, xml, sax

我有一个这样的在线 XML：

[http://myxml.com/list.xml](http://myxml.com/list.xml)

```
<rootxml>
<url src="sdfsdfsdfsdfs" />
<url src="sdfsdfsdfsdfs" />
<url src="sdfsdfsdfsdfs" />
<url src="sdfsdfsdfsdfs" />
<url src="sdfsdfsdfsdfs" />
<url src="sdfsdfsdfsdfs" />
<url src="sdfsdfsdfsdfs" />
and so on...
</rootxml> 
```

它包含数千个，我尝试在这个上使用 SAXParser，但解析 XML 需要 30-40 秒。我的示例应用程序非常慢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T06:57:57.153

```
public String getXmlFromUrl(String url) {
    String xml = null;

    try {
        // defaultHttpClient
        DefaultHttpClient httpClient = new DefaultHttpClient();
        HttpPost httpPost = new HttpPost(url);

        HttpResponse httpResponse = httpClient.execute(httpPost);
        HttpEntity httpEntity = httpResponse.getEntity();
        xml = EntityUtils.toString(httpEntity);

    } catch (UnsupportedEncodingException e) {
        e.printStackTrace();
    } catch (ClientProtocolException e) {
        e.printStackTrace();
    } catch (IOException e) {
        e.printStackTrace();
    }
    // return XML
    return xml;
} 
```

获取 XML 内容后，我们需要获取 XML 文件的 DOM 元素。下面的函数将解析 XML 内容并为您提供 DOM 元素。

```
public Document getDomElement(String xml){
    Document doc = null;
    DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();
    try {

        DocumentBuilder db = dbf.newDocumentBuilder();

        InputSource is = new InputSource();
            is.setCharacterStream(new StringReader(xml));
            doc = db.parse(is); 

        } catch (ParserConfigurationException e) {
            Log.e("Error: ", e.getMessage());
            return null;
        } catch (SAXException e) {
            Log.e("Error: ", e.getMessage());
            return null;
        } catch (IOException e) {
            Log.e("Error: ", e.getMessage());
            return null;
        }
            // return DOM
        return doc;
} 
```

通过传递元素节点名称获取每个xml子元素值

```
 static final String KEY_ITEM = "URL"; // parent node

    XMLParser parser = new XMLParser();
    String xml = parser.getXmlFromUrl(URL); // getting XML
    Document doc = parser.getDomElement(xml); // getting DOM element

    NodeList nl = doc.getElementsByTagName(rootitem);

    // looping through all item nodes <item>
    for (int i = 0; i < nl.getLength(); i++) {

   Node node = nl.item(i);
            Element e = (Element) node;
            NodeList tag = e.getElementsByTagName("url");
            Element element = (Element) tag.item(0);
            tag = element.getChildNodes();` // name child value

                 String value = ((Node) categoryList.item(0)).getNodeValue().toString(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-02T06:45:07.233

```
String Xmlresponse=getXmlFromUrl(url);
Document mDocument =getDomElement(Xmlresponse);
NodeList mNodeResponse = mDocument.getElementsByTagName("rootxml");

for (int i = 0; i < mNodeResponse.getLength(); i++) {

Element e = (Element) mNodeResponse.item(i);
 String url=getValue(e, "url");
}

private String getXmlFromUrl(String url) {
    String xml = null;

    try {
        // defaultHttpClient
        DefaultHttpClient httpClient = new DefaultHttpClient();
        HttpPost httpPost = new HttpPost(url);

        HttpResponse httpResponse = httpClient.execute(httpPost);
        HttpEntity httpEntity = httpResponse.getEntity();
        xml = EntityUtils.toString(httpEntity);

    } catch (UnsupportedEncodingException e) {
        e.printStackTrace();
    } catch (ClientProtocolException e) {
        e.printStackTrace();
    } catch (IOException e) {
        e.printStackTrace();
    }
    // return XML
    return xml;
} 
```

在得到 xml 响应之后得到 Document Element

```
//here pass String xml is your response
private Document getDomElement(String xml) {
    Document doc = null;
    DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();
    try {

        DocumentBuilder db = dbf.newDocumentBuilder();

        InputSource is = new InputSource();
        is.setCharacterStream(new StringReader(xml));
        doc = db.parse(is);

    } catch (ParserConfigurationException e) {
        Log.e("Error: ", e.getMessage());
        return null;
    } catch (SAXException e) {
        Log.e("Error: ", e.getMessage());
        return null;
    } catch (IOException e) {
        Log.e("Error: ", e.getMessage());
        return null;
    }

    return doc;
}

public final static String getElementValue(Node elem) {
    Node child;
    if (elem != null) {
        if (elem.hasChildNodes()) {
            for (child = elem.getFirstChild(); child != null; child = child
                    .getNextSibling()) {
                if (child.getNodeType() == Node.TEXT_NODE) {
                    return child.getNodeValue();
                }
            }
        }
    }
    return "";
}

public static String getValue(Element item, String str) {
    NodeList n = item.getElementsByTagName(str);
    return getElementValue(n.item(0));
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-02T10:12:25.630

谢谢大家的帮助。在这个花了将近 10 个小时之后，我意识到我真正想要的是**属性值**而不是节点的实际值。通过使用 Saching 建议的代码，我想出了以下解决方案：

```
for (int i = 0; i < nl.getLength(); i++){   

            Element e = (Element) nl.item(i);

            String value = e.getAttribute("src");

        } 
```

它奏效了。再次感谢。

# c# - 将数据集的两个结果合并为一个

> ID：14117818
> 
> 赞同：11
> 
> 时间：2013-01-02T06:33:25.127
> 
> 标签：c#, web-services, dataset, datalist

我创建了一个 web 服务，它返回两个数据集（返回类型）作为结果。是否可以将两个数据集结果合并为一个，以便我可以将其显示在一个数据列表上？我尝试使用`arraylist`，但它在`datalist`.

`GetDepartureFlightsDetails()`并且`getDepartureFlights()`都返回数据集值。

以下是我用来检索 Web 服务结果的方法。

```
public ArrayList GetDepartureFlightsDetails(String departurecountry, String arrivalcountry, DateTime departuredate)   
{
    DLSA datalayerTS = new DLSA();
    DLJS datalayerJW = new DLJS();

    ArrayList array = new ArrayList();

    array.Add(datalayerSA.GetDepartureFlightsDetails(departurecountry, arrivalcountry, departuredate));
    array.Add(datalayerJW.getDepartureFlights(departurecountry, arrivalcountry, departuredate));
    return array;
} 
```

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2013-01-02T06:38:15.473

您可以使用[DataSet.Merge](http://msdn.microsoft.com/en-us/library/4swwh51k%28v=vs.100%29.aspx)方法：

```
firstDataSet.Merge(secondDataSet); 
```

* * *

更新：

```
public DataSet GetDepartureFlightsDetails(String departurecountry, String arrivalcountry, DateTime departuredate)
{
    DLSA datalayerTS = new DLSA();
    DLJS datalayerJW = new DLJS();

    var firstDataSet = datalayerSA.GetDepartureFlightsDetails(departurecountry, arrivalcountry, departuredate));
    var secondDataSet = datalayerJW.getDepartureFlights(departurecountry, arrivalcountry, departuredate));
    firstDataSet.Merge(secondDataSet);

    return firstDataSet;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-02T06:37:19.110

你不能做一个包装类并使用`List<>`包装类，而不是`Datasets`。

# vba - 尝试通过 Excel VBA 宏保存 GIF 屏幕截图时出错

> ID：14117819
> 
> 赞同：3
> 
> 时间：2013-01-02T06:33:31.680
> 
> 标签：vba, excel, excel-2007

我正在使用以下链接截取 excel 屏幕截图并保存为 .gif 文件：

[http://dmcritchie.mvps.org/excel/xl2gif.htm](http://dmcritchie.mvps.org/excel/xl2gif.htm)

当我尝试运行宏时，它在“containerbok.Activate”处出现以下错误：

运行时错误“424”：需要对象

我可以知道为什么我会收到此错误吗？

我正在使用 Excel 2010

谢谢！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-02T16:56:05.383

事情实际上比您发布的链接中的代码要简单一些。只需选择要成像的单元格范围，然后运行以下代码。

```
 Sub ExportSelection()

    If TypeName(Selection) = "Range" Then
        'Copy the area that you have selected as a picture.
        Selection.CopyPicture Appearance:=xlScreen, Format:=xlBitmap
        'Create a default bar(column) chart using the selected cells.
        ActiveSheet.Shapes.AddChart.Select
        ActiveChart.ChartType = xlColumnClustered
        'Remove all the data from the chart, leaving a blank chart.
        Dim i As Integer
        For i = ActiveChart.SeriesCollection.Count To 1 Step -1
            ActiveChart.SeriesCollection(i).Delete
        Next
        'Paste the image of the selected cells onto the chart.
        ActiveChart.Paste
        'Export the chart as a gif image.
        ActiveChart.Export Environ("USERPROFILE") & "\Desktop\chart.gif"
        'Delete the existing chart.
        ActiveChart.Parent.Delete
    End If

End Sub 
```

关键是`ActiveChart.Export`

这已经在 Excel 2010 中进行了测试，并且可以完美运行。

# c# - 从类库中添加对 Web 项目的引用

> ID：14117822
> 
> 赞同：0
> 
> 时间：2013-01-02T06:33:38.433
> 
> 标签：c#, asp.net, dll

我有一个类库，其中包含名为“Resources”的文件夹，这是我们保留需要引用的 DLL 的约定。

因此，其中添加了一些基本 DLL。让我们将它们命名为“BaseWork.dll”。

我在具有此类库的同一解决方案中有一个 Web 项目。我在 Web 项目中添加了类库的引用。我想通过一些aspx页面后面的代码中的这个“BaseWork.dll”访问一些类。我无法访问它。

有一个最简单的方法是为我们的约定添加 Resource 文件夹，将“BaseWork.dll”添加到它。然后在 Web-project 中添加引用。那将是在整个解决方案中重复相同的事情。

有没有更好的方法来做到这一点？

PS：我在 Visual Studio 2010 的 .net 框架 4.0 中工作。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-02T06:36:46.847

> 我想在一些aspx页面后面的代码中通过这个“BaseWork.dll”访问一些类

在 web.config 中要做 2 件事：

1.  将程序集添加到该`<assemblies>`部分：

    ```
    <compilation debug="true" targetFramework="4.0">
        <assemblies>
            <add assembly="BaseWork" />
        </assemblies>
    </compilation> 
    ```

2.  将包含您需要使用的类的命名空间添加到该`<namespaces>`部分：

    ```
    <pages>
        <namespaces>
            <add namespace="BaseWork.SomeNamespace" />
        </namespaces>
    </pages> 
    ```

现在，在任何 WebForm 中，您都可以在您声明的命名空间中使用类。作为修改 web.config 的替代方法，您还可以在特定的 WebForm 中引用它：

```
<%@ Assembly Name="BaseWork" %>
<%@ Import Namespace="BaseWork.SomeNamespace" %> 
```

# java - 安卓：我是新手。我在 java 文件中声明了一个按钮，但在 xml 文件和模拟器中没有看到它

> ID：14117826
> 
> 赞同：0
> 
> 时间：2013-01-02T06:34:04.197
> 
> 标签：java, android, button

我尝试运行“Beginning Android Games”一书中的第一个示例（Mario Zechner，Apress.com）：我将此代码复制到我的项目（MainActivity.java 文件）：

```
HelloWorldActivity.java

package com.helloworld;
import android.app.Activity;
import android.os.Bundle;
import android.view.View;
import android.widget.Button;

public class MainActivity extends Activity implements View.OnClickListener {

    Button button;
    int touchCount;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    button = new Button(this);
    button.setText( "Touch me!" );
    button.setOnClickListener(this);
    setContentView(button);
}

public void onClick(View v) {
    touchCount++;
    button.setText("Touched me " + touchCount + " time(s)");
}
} 
```

但是当我运行这个简单的应用程序时，我在模拟器上没有看到任何按钮（我只看到一个“Android”标签。我尝试了“project-->clean..”：没有结果。（和“project- -> Build Automatically 已打开）。我需要在哪里声明和描述这个按钮？但是我遵循了书中描述的所有步骤。最后，我从 layout 文件夹中删除了 xml-file。

谢谢。 ***_* __ *_* __ *_* __ *_* __ *_* __ *_****已编辑：添加 xml 文件****_* __ *_* __ *_* ____**

res-->布局-->activity_main.xml：

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    tools:context=".MainActivity" >

</RelativeLayout> 
```

AndroidManifest.xml：

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.firstbuttontest2"
    android:versionCode="1"
    android:versionName="1.0" >

    <uses-sdk
        android:minSdkVersion="4"
        android:targetSdkVersion="11" />

    <application
        android:allowBackup="true"
        android:debuggable="true"
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name"
        android:theme="@style/AppTheme" >
        <activity
            android:name="com.firstbuttontest2.MainActivity"
            android:label="@string/app_name" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
    </application>

</manifest> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T06:35:34.600

试试这个可能对你有帮助。

将按钮添加到特定布局。像这样

```
LinearLayout linearLayout=(LinearLayout)findViewById(R.id.linearLayout);
linearLayout.addView(button); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-02T06:42:12.550

我知道有一个 addContentView 方法可能比 setContentView 更符合您的要求。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-09-22T10:58:17.733

尝试

```
setContentView(R.layout.activity_main) 
```

然后

```
button = (Button) findviewbyid(R.id.Button1); 
```

这可能会解决您的问题

# c++ - 是否有任何理由使用 switch 语句而不是 if 和 elseif 的字符串？

> ID：14117827
> 
> 赞同：-2
> 
> 时间：2013-01-02T06:34:11.543
> 
> 标签：c++, objective-c, c, if-statement, switch-statement

> **可能重复：**
> [切换 if-else 语句的优势](https://stackoverflow.com/questions/97987/advantage-of-switch-over-if-else-statement)
> [为什么使用 switch 语句而不是 if-else？](https://stackoverflow.com/questions/449273/why-the-switch-statement-and-not-if-else)

switch 语句似乎完全没用。它可以做的任何事情都可以通过 if 和 else if 链接来完成。

他们甚至可能编译成相同的代码。

那么，为什么要打扰它呢？

`break`switch 中的语句让我发疯，这种`label:`格式让我想起了 goto。

这适用于objective-c、c、C++。我不确定 vb.net 是否有 switch 语句，但即使有，我也一定忘记了，因为我从不使用它。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-01-02T06:37:48.250

它们很可能编译成相同的代码。但其目的不一定是提供更好的编译代码，而是提供更好的*源*代码。

您也可以使用and进行`while`或`for`循环，但这并没有什么用处。你宁愿有：`if``goto``while``for`

```
for (i = 0; i < 10; i++)
    doSomethingWith (i); 
```

或者：

```
 i = 0;
loop12:
    if (! (i < 10))
        goto skip12
    doSomethingWith (i);
    i++;
    goto loop12
skip12: 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-02T06:41:02.947

```
if (color == WHITE)
{
}
else if (color == BLACK)
{
}
else if (color == GREY)
{
}
else if ((color == ORANGE) || (color == GREEN) || (color == BLUE))
{
}
else
{
} 
```

对比

```
switch(color)
{
   case WHITE:
       break;
   case BLACK:
       break;
   case GREY:
       break;
   case ORANGE:
   case GREEN:
   case BLUE:
       break;
   default:
       break;
} 
```

后者不是更具可读性并且需要更少的击键吗？

* * *

除了可读性之外，还有另一个独特的 switch-case 用途：[Duff's Device](https://stackoverflow.com/q/514118/183120)。该技术利用了`goto`与`switch-case`耦合的特性`while`。

```
void dsend(char* to, char* from, count) {
  int n = (count + 7) / 8;
  switch (count % 8) {
  case 0: do {
      *to = *from++;
      case 7: *to = *from++;
      case 6: *to = *from++;
      case 5: *to = *from++;
      case 4: *to = *from++;
      case 3: *to = *from++;
      case 2: *to = *from++;
      case 1: *to = *from++;
    } while (--n > 0);
  }
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-02T06:39:49.907

switch 的性能与最坏情况下的 if 和 else if 块相同。它可能会更好。这个之前已经讨论过：[切换if-else语句的优势](https://stackoverflow.com/questions/97987/advantage-of-switch-over-if-else-statement)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-02T06:41:18.643

优点：

`Switch`提供了一种比`if`

`Switch`工作速度比`if`因为在执行期间编译器生成跳转表来**决定**满足哪种情况而不是**检查**满足哪种情况！

缺点：

`case`只能有`int`or`char`常量或计算结果为其中之一的表达式！

# android - 使用url解析json

> ID：14117831
> 
> 赞同：0
> 
> 时间：2013-01-02T06:34:28.840
> 
> 标签：android, json, parsing, url

我正在尝试使用 url 解析 json。我可以通过使用临时 url 来实现它，但是当我使用我的主主机 url 时，json 返回 html 值？

临时网址

```
(http://md-plesk-web9.webhostbox.net:8880/sitepreview/http/glossymob.asia/Webservice.asmx/SpecificCategory?category=real%20estate&location=Madurai) 
```

我的代码

```
// url to make request
private static String url = "http://md-plesk-web9.webhostbox.net:8880/sitepreview/http/glossymob.asia/Webservice.asmx/SpecificCategory?category=hotel&location=Madurai";

// JSON Node names
private static final String TAG_MAIN ="hotel";
private static final String TAG_VALUE = "Madurai";
private static final String TAG_ID = "id";
private static final String TAG_CATEGORY = "category";
private static final String TAG_TYPE = "type";
private static final String TAG_NAME = "name";
private static final String TAG_BANNER = "banner";
private static final String TAG_LOGO = "logo";
private static final String TAG_ABOUT = "about";
private static final String TAG_CONTACT = "contact";
private static final String TAG_MAP = "map";

private static final String TAG_MAP_LAT_LONG = "lat_long_1";
private static final String TAG_MAPLATITUDE = "latitude";
private static final String TAG_MAPLONGITUDE = "longitude";
private static final String TAG_CATEGORY_TOTAL = "total";

// contacts JSONArray
JSONArray contacts = null;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);

    // Hashmap for ListView
    ArrayList<HashMap<String, String>> contactList = new ArrayList<HashMap<String, String>>();

    // Creating JSON Parser instance
    JSONParser jParser = new JSONParser();

    // getting JSON string from URL
    JSONObject json = jParser.getJSONFromUrl(url);
    Log.v("exact string value", json.toString());
    try {

        // Getting Array of Contacts
        JSONObject js= json.getJSONObject(TAG_MAIN);
        int ival = js.getInt(TAG_CATEGORY_TOTAL);
        contacts = js.getJSONArray(TAG_VALUE);
        Log.v("Total:", ""+ival);
        // looping through All Contacts
        for(int i = 0; i < contacts.length(); i++){
            JSONObject c = contacts.getJSONObject(i);

            // Storing each json item in variable
            String id = c.getString(TAG_ID);
            String category = c.getString(TAG_CATEGORY);
            String type = c.getString(TAG_TYPE);
            String name = c.getString(TAG_NAME);
            String banner = c.getString(TAG_BANNER);
            String logo = c.getString(TAG_LOGO);
            String about = c.getString(TAG_ABOUT);
            String contact = c.getString(TAG_CONTACT);

            Log.v("Values:", id+"--"+category+"--"+type+"--"+name+"--"+banner+"--"+logo+"--"+about+"--"+contact);

            // Phone number is agin JSON Object
            JSONObject mapval = c.getJSONObject(TAG_MAP);

            JSONArray con = js.getJSONArray(TAG_VALUE);
            JSONObject mapvalues = con.getJSONObject(0);
            String latitude = mapvalues.getString(TAG_MAPLATITUDE);
            String longitude = mapvalues.getString(TAG_MAPLONGITUDE);
            // creating new HashMap
            HashMap<String, String> map = new HashMap<String, String>();

            // adding each child node to HashMap key => value
            map.put(TAG_ID, id);
            map.put(TAG_CATEGORY, category);
            map.put(TAG_TYPE, type);
            map.put(TAG_NAME, name);
            /*Log.v("Received json values", ""+map.toString());*/
            // adding HashList to ArrayList
            contactList.add(map);
        }
    } catch (JSONException e) {
        e.printStackTrace();
    } 
```

我通过运行得到的值是精确的 json

```
01-02 12:03:38.300: V/exact string value(30124): {"hotel":{"total":1,"Madurai":[{"id":"3","logo":"www.glossymob.com\/soli\/MapMadurai\/3_logo_laptop-computer.jpg","category":"Hotel","name":"araas","map":{"lat_long_1":{"longitude":"76.9000","latitude":"8.5000"}},"about":"test","type":"Silver","contact":"test","banner":"www.glossymob.com\/soli\/MapMadurai\/3_banner_laptop-computer.jpg"}]}}
01-02 12:03:38.300: V/Total:(30124): 1
01-02 12:03:38.300: V/Values:(30124): 3--Hotel--Silver--araas--www.glossymob.com/soli/MapMadurai/3_banner_laptop-computer.jpg--www.glossymob.com/soli/MapMadurai/3_logo_laptop-computer.jpg--test--test 
```

> 当我尝试替换此主 URL

```
(http://www.glossymob.asia/Webservice.asmx/SpecificCategory?category=real%20estate&location=Madurai) 
```

> 我得到的价值观是

```
01-02 11:07:27.116: V/json string value(29330): <html>
<head> 
   <title>Runtime Error</title>    
<style>         body {font-family:"Verdana";font-weight:normal;font-size: .7em;color:black;}          p {font-family:"Verdana";font-weight:normal;color:black;margin-top: -5px}         b {font-family:"Verdana";font-weight:bold;color:black;margin-top: -5px}         H1 { font-family:"Verdana";font-weight:normal;font-size:18pt;color:red }         H2 { font-family:"Verdana";font-weight:normal;font-size:14pt;color:maroon }         pre {font-family:"Lucida Console";font-size: .9em}         .marker {font-weight: bold; color: black;text-decoration: none;}         .version {color: gray;}         .error {margin-bottom: 10px;}         .expandable { text-decoration:underline; font-weight:bold; color:navy; cursor:hand; }  
  </style>
 </head>
 <body bgcolor="white">    
    <span><H1>Server Error in '/' Application.<hr width=100% size=1 color=silver></H1>            <h2> <i>Runtime Error</i> </h2></span>  
      <font face="Arial, Helvetica, Geneva, SunSans-Regular, sans-serif ">            <b> Description: </b>An application error occurred on the server. The current custom error settings for this application prevent the details of the application error from being viewed remotely (for security reasons). It could, however, be viewed by browsers running on the local server machine.            <br><br> 
       <b>Details:</b> To enable the details of this specific error message to be viewable on remote machines, please create a &lt;customErrors&gt; tag within a &quot;web.config&quot; configuration file located in the root directory of the current web application. This &lt;customErrors&gt; tag should then have its &quot;mode&quot; attribute set to &quot;Off&quot;.<br><br>      
  <table width=100% bgcolor="#ffffcc">               <tr>                  <td>                      <code><pre>&lt;!-- Web.Config Configuration File --&gt;&lt;configuration&gt;    &lt;system.web&gt;        &lt;customErrors mode=&quot;Off&quot;/&gt;    &lt;/system.web&gt;&lt;/configuration&gt;</pre></code>                  </td>               </tr>            </table>   
     <br>            <b>Notes:</b> The current error page you are seeing can be replaced by a custom error page by modifying the &quot;defaultRedirect&quot; attribute of the application's &lt;customErrors&gt; configuration tag to point to a custom error page URL.<br><br>          
<table width=100% bgcolor="#ffffcc">               <tr>                  <td>                      <code><pre>&lt;!-- Web.Config Configuration File --&gt;&lt;configuration&gt;    &lt;system.web&gt;        &lt;customErrors mode=&quot;RemoteOnly&quot; defaultRedirect=&quot;mycustompage.htm&quot;/&gt;    &lt;/system.web&gt;&lt;/configuration&gt;</pre></code>                  </td>               </tr>      
  </table>            <br>  
</body>
</html> 
```

> 我正在处理该 Xml 数据通过替换字符串和我的 json 返回确切的 json 字符串值。看看我的 JSONParser 类。包 com.androidhive.jsonparsingtest；

```
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStream;
import java.io.InputStreamReader;
import java.io.UnsupportedEncodingException;

import org.apache.http.HttpEntity;
import org.apache.http.HttpResponse;
import org.apache.http.client.ClientProtocolException;
import org.apache.http.client.methods.HttpPost;
import org.apache.http.impl.client.DefaultHttpClient;
import org.json.JSONException;
import org.json.JSONObject;

import android.util.Log;

public class JSONParser {

static InputStream is = null;
static JSONObject jObj = null;
static String json = "";

// constructor
public JSONParser() {

}

public JSONObject getJSONFromUrl(String url) {

    // Making HTTP request
    try {
        // defaultHttpClient
        DefaultHttpClient httpClient = new DefaultHttpClient();
        HttpPost httpPost = new HttpPost(url);

        HttpResponse httpResponse = httpClient.execute(httpPost);
        HttpEntity httpEntity = httpResponse.getEntity();
        is = httpEntity.getContent();           

    } catch (UnsupportedEncodingException e) {
        e.printStackTrace();
    } catch (ClientProtocolException e) {
        e.printStackTrace();
    } catch (IOException e) {
        e.printStackTrace();
    }

    try {
        BufferedReader reader = new BufferedReader(new InputStreamReader(
                is, "iso-8859-1"), 8);
        StringBuilder sb = new StringBuilder();
        String line = null;
        while ((line = reader.readLine()) != null) {

            line = line.replace("<?xml version=\"1.0\" encoding=\"utf-8\"?>","");
            line = line.replace("<string xmlns=\"http://tempuri.org/\">","");
            line = line.replace("</string>","");
            Log.v("string value", line);
            sb.append(line);
            //Log.v("sbstring value", sb.toString());
        }
        is.close();
        json = sb.toString();
        Log.v("json string value", json);
    } catch (Exception e) {
        Log.e("Buffer Error", "Error converting result " + e.toString());
    }

    // try parse the string to a JSON object
    try {
        jObj = new JSONObject(json);
    } catch (JSONException e) {
        Log.e("JSON Parser", "Error parsing data " + e.toString());
    }

    // return JSON String
    return jObj;

}
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-02T06:42:22.870

您在即`<string>`XML 中获得 JSON 响应，因此首先您必须从该标记中检索 JSON 数据。

> {“房地产”：{“马杜赖”：[{“id”：“5”，“类别”：“房地产”，“类型”：“银”，“名称”：“Heera”，“横幅”： "www.glossymob.com/soli/MapMadurai/5_banner_laptop-computer.jpg","logo":"www.glossymob.com/soli/MapMadurai/5_logo_laptop-computer.jpg","about":"test","contact ":"test","map":{"lat_long_1":{"latitude":"10.00","longitude":"9.50"}}} ],"total":1} }

## 解决方案：

`parse()`一旦您从网络收到数据，请致电。

例如：

```
XMLParser parser = new XMLParser();
JSONArray jsonRes = parser.parse(response.getEntity().getContent());
// response is the HTTPResponse object 
```

这是 XMLParser 类：

```
public class XMLParser extends DefaultHandler {

    private static String ROOT_ELEMENT = "string";
    private StringBuffer data = new StringBuffer();

    private JSONArray jsonData;

    public XMLParser() {
    }

    public JSONArray parse(InputStream in) {
        try {
            SAXParser parser = SAXParserFactory.newInstance().newSAXParser();
            parser.parse(in, this);
        } catch (ParserConfigurationException e) {
            e.printStackTrace();
        } catch (SAXException e) {
            e.printStackTrace();
        } catch (IOException e) {
            e.printStackTrace();
        } finally {
            if(in != null) {
                try {
                    in.close();
                } catch (IOException e) {
                    e.printStackTrace();
                }
            }
        }
        return jsonData;
    }

    @Override
    public void startElement(String uri, String localName, String qName, Attributes attributes) throws SAXException {
        data.replace(0, data.length(), "");

        if (localName.equalsIgnoreCase(ROOT_ELEMENT)) {
            jsonData = new JSONArray();
        }
    }

    @Override
    public void characters(char[] ch, int start, int length) throws SAXException {
        data.append(ch, start, length);
    }

    @Override
    public void endElement(String uri, String localName, String qName) throws SAXException {

        if (localName.equalsIgnoreCase(ROOT_ELEMENT)){
            try {
                jsonData = new JSONArray(data.toString());
            } catch (JSONException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            }
        }

    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-02T06:40:22.890

你的回答是：-

```
<string xmlns="http://tempuri.org/">
{"real estate":{"Madurai":[{"id":"5","category":"real estate","type":"Silver","name":"Heera","banner":"www.glossymob.com/soli/MapMadurai/5_banner_laptop-computer.jpg","logo":"www.glossymob.com/soli/MapMadurai/5_logo_laptop-computer.jpg","about":"test","contact":"test","map":{"lat_long_1":{"latitude":"10.00","longitude":"9.50"}}} ],"total":1} }
</string> 
```

现在首先你需要替换为

```
responseString = responseString.replace("<string xmlns=\"http://tempuri.org/\">","");
responseString = responseString.replace("</string>",""); 
```

请在替换上述行后将字符串转换为 JSONObject。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-02T06:40:48.877

它不是纯 JSON。它有 XML 标签。要么只使用 XML，要么使用 JSON。

如果您只删除顶部和底部的 XML 标签，然后继续进行 JSON 解析，那将很容易。

# javascript - 在引导导航栏中单独突出显示

> ID：14117837
> 
> 赞同：0
> 
> 时间：2013-01-02T06:35:08.560
> 
> 标签：javascript, jquery, css, twitter-bootstrap

我正在使用 Twitter Bootstrap 的[导航栏组件](http://twitter.github.com/bootstrap/components.html#navbar)。**如何突出显示`a`菜单项的标签——**但只是`a`，而不是整个`li`标签？

以下是我的示例 HTML：

```
<div class="navbar navbar-fixed-top">
  <div class="navbar-inner">
      <div class="container">
          <ul class="nav">
              <li><a href="#">Home</a></li>
              <li><a href="#">Customers</a></li>
              <li><a href="#">support</a></li>
              <li><a href="#">Reports</a></li>
              <li><a href="#">Invoice</a></li>
          </ul>
      </div>
  </div>
</div> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-16T15:11:27.387

如果您需要更改**每一个** `<a>`的背景颜色，在 CSS 中，您`<li>`可以这样做：

```
.nav li > a {
  background-color: #ff0000;
} 
```

相反，使用 jQuery：

```
$('.nav li > a').css('background-color', '#ff0000'); 
```

我想这可能是您问题的简单解决方案。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-16T14:45:14.113

与 jQuery* 的大多数事情一样，有许多不同的方法可以实现这一点。这个问题可以分为两部分：

1.  我们如何只选择我们想要突出显示的元素？
2.  列表项我们如何对元素应用高亮？

* * *

## 1.选择元素

对于第一部分，您可能想要选择具有特定文本的元素：

```
$(".navbar a:contains('Home')") 
```

或者您可能更喜欢按位置选择元素：

```
$(".navbar a:eq(2)") 
```

让我们分解这个选择器。将`.navbar`返回的对象限制为仅具有`navbar`该类的元素内的事物。第二部分，`a`进一步将这些对象过滤为仅`a`元素。对于第一个选项，[`:contains()`](http://api.jquery.com/contains-selector/)是一个[内容过滤器](http://api.jquery.com/category/selectors/content-filter-selector/)。它不是最快的过滤器之一，因此您需要将它与其他选择器结合使用（在本例中`$(".navbar a...`）。第二个选项使用[过滤`:eq()`器](http://api.jquery.com/eq-selector/)。虽然我只在这个答案中提出这两个选择器选项，但请参阅我对[jquery select nested div](https://stackoverflow.com/questions/14267958/jquery-select-nested-div/14268195#14268195)的回答，了解其他类似[jQuery 选择器](http://api.jquery.com/category/selectors/)的示例。

* * *

## 2.应用高光

现在我们有了想要的元素，让我们应用高亮。最直接的方法是暴力破解css background-color 属性：

```
$(".navbar a:contains('Home')").css('background-color', 'orange'); 
```

我更喜欢的另一种方法是创建一个具有预期样式的类（`.highlighted`对于本例），并使用 jQuery 的`addClass()`方法应用它：

CSS

```
.highlighted {
  background-color: yellow;
} 
```

JavaScript

```
$(".navbar a:contains('Home')").addClass('highlighted'); 
```

* * *

## 前进

有关这些概念的工作示例，请参阅[http://jsfiddle.net/jhfrench/eMk7N/](http://jsfiddle.net/jhfrench/eMk7N/)。

* * *

*-我使用 jQuery 来解决这个问题，因为 Bootstrap 是用 jQuery 构建的。

# python - 使用 AND 和 OR 动态连接 Django Q 对象

> ID：14117839
> 
> 赞同：3
> 
> 时间：2013-01-02T06:35:31.053
> 
> 标签：python, django, django-q

我希望用户能够通过几个不同的参数（姓名、年份等）查询我的数据库，动态添加更多字段，并使用布尔运算符加入它们；最终结果将类似于“年份 = 1900 AND 名称 = 鸡 AND 位置 = 旧金山”。我认为我做错了什么，因为它没有返回任何东西，即使我只尝试一个我知道与某些数据匹配的值的字段（例如，当我从 Django shell 使用 .filter() 时，我可以取回对象）。有人知道我该如何解决吗？

相关视图（忽略草率的缩进，我不想通过并修复所有这些，但它在我的实际代码中是正确的）：

```
class BaseSearchFormSet(BaseFormSet):
def clean(self):
    if any(self.errors):
        return self.errors
    queries = []
    valid_courses = ["appetizer","main","dessert"]
    valid_period = re.compile(r'\d\d\d0-\d\d\d5|\d\d\d5-\d\d\d0')
    valid_year = re.compile(r'\d{4}')
    multi_rows = ["year","period","course"]
    for x in xrange(0,self.total_form_count()):
        form = self.forms[x]
        query = form.cleaned_data.get("query")
        row = form.cleaned_data.get("row")
        if query in queries and row not in multi_rows:
            raise forms.ValidationError("You're already searching for %s.")
        queries.append(query)
        if row == "course" and query.lower() not in valid_courses:
            raise forms.ValidationError("%s is not a valid course option."%(form.cleaned_data["query"]))
        if row == "period" and not re.match(valid_period,query):
            raise forms.ValidationError("%s is not a properly formatted period. Valid five-year periods span either the first or second half of a decade. For example: 1910-1915, 1925-1930."%(form.cleaned_data["query"]))
        if row == "year" and not re.match(valid_year,query):
            raise forms.ValidationError("Please enter a four-digit year.")
def search(request):
errors = []
searchFormSet = formset_factory(F.SearchForm, extra=1,formset=BaseSearchFormSet)
if request.GET:
    formset = searchFormSet(request.GET)
    forms = []
    if formset.is_valid():
        for x in xrange(0,formset.total_form_count()):
            form = {}
            form["row"]= formset[x].cleaned_data.get("row",None)
            form["query"] = formset[x].cleaned_data.get("query",None)
            form["bools"] = formset[x].cleaned_data.get("bools",None)
            if form["query"]:
                q = form["query"]
            else:
                errors.append("no query found")
            if form["row"]:
                row = form["row"]
            else:
                errors.append("no row found")
            filter_keys = {"dish_name":Q(dish__name__icontains=q),
                "regex":Q(dish__full_name__regex=r'%s'%(q)),
                "course":Q(dish__classification=q.lower()),
                "year":Q(page__menu_id__year__exact=q),
                "period":Q(page__menu_id__period__exact=q),
                "location":Q(page__menu_id__location__icontains=q),
                "restaurant":Q(page__menu_id__restaurant__icontains=q)}
            forms.append(form)
        final_query=Q()
        def var_reduce(op,slice):
            if op == "and":
                return reduce(lambda x,y: x & y,slice)
            elif op == "or":
                return reduce(lambda x,y: x | y,slice)
        for x in xrange(len(forms)):
            try:
                try:
                    if final_query:
                        slice = [final_query,filter_keys[forms[x]["row"]],filter_keys[forms[x+1]["row"]]]
                    else:
                        slice = [filter_keys[forms[x]["row"]],filter_keys[forms[x+1]["row"]]]
                    final_query = var_reduce(forms[x]["bools"],slice)
                except IndexError:
                    if final_query:
                        slice = [final_query,filter_keys[forms[x]["row"]]]
                    else:
                        slice = [filter_keys[forms[x]["row"]]]
                    final_query = var_reduce(forms[x]["bools"],slice)
                items = MenuItem.objects.filter(final_query)
                return render_to_response("search_results.html",{"items":items,"formset":formset})
            except KeyError as e:
                errors.append(e)    
                formset = searchFormSet(None)
                return render_to_response("search_page.html",{"errors":errors,"formset":formset})
    else:   
        formset = searchFormSet(None)
        return render_to_response("search_page.html",{"errors":errors,"formset":formset})
else:
    formset = searchFormSet(None)
    return render_to_response("search_page.html",{"formset":formset}) 
```

楷模：

```
from django.db import models

class MenuItem(models.Model):
def format_price(self):
    return "${0:0<4,.2f}".format(float(self.price))
def __unicode__(self):
    return self.dish
dish=models.OneToOneField('Dish',to_field='mk')
price=models.CharField(max_length=5,blank=True)
page=models.OneToOneField('MenuPage')
mk=models.CharField(max_length=10,unique=True)
formatted_price = property(format_price)
class Menu(models.Model):
def period(self):#adapted from http://stackoverflow.com/questions/2272149/round-to-5or-other-number-in-python
    try:
        p=int(10*round(float(int(self.year))/10))
        if p < self.year:
            return "%s-%s"%(p,p+5)
        else:
            return "%s-%s"%(p-5,p)
    except (ValueError,TypeError):
        return ""
def __unicode__(self):
    if self.restaurant:
        return self.restaurant
    else:
        return self.mk
restaurant=models.TextField(unique=False,blank=True,null=True)
year=models.CharField(max_length=4,unique=False,blank=True,null=True)
location=models.TextField(unique=False,blank=True,null=True)
status=models.CharField(unique=False,max_length=20)
mk=models.CharField(max_length=8,unique=True,primary_key=True)
period=property(period) 
language = models.CharField(unique=False,max_length=30)
#objects=MenuManager()

class MenuPage(models.Model):
mk=models.CharField(max_length=10,unique=True)
menu_id=models.OneToOneField("Menu",to_field='mk')
#objects=MenuPageManager()
class Dish(models.Model):
def __unicode__(self):
    return self.name
full_name = models.TextField()
name=models.CharField(unique=True,max_length=255)
mk=models.CharField(max_length=10,unique=True)
class Classification(models.Model):
def __unicode__(self):
    if self.classification:
        return self.classification
    else:
        return "none"
dish=models.OneToOneField('dish',to_field='name')
classification=models.CharField(unique=False,max_length=9)
mk=models.CharField(max_length=10,primary_key=True) 
```

我的搜索页面的html：

```
{% extends "base.html" %}
{% block style %}
<link rel="stylesheet" type="text/css" href="/static/search_style.css" />
{% endblock %}
{% block java %}
<script type="text/javascript" src="/static/searches.js"></script>
{% endblock %}
{% block title %}Search{% endblock %}
{% block head %}Search{% endblock %}
{% block content %}
{% autoescape off %}
<div id="searches">
<form id="search" action="" method="get">
    <table border="0" cellpadding="0" cellspace="0">
        <tbody class="search">
            {% for form in formset.forms %}
            <tr>
                <td class="row">{{ form.row }}</td>
                <td class="query">{{ form.query }}</td>
                <td class="bool">{{ form.bools }}</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
    {{ formset.management_form }}
    <input type="submit" value="Submit" id="submit">
</form>
</div>
{% if formset.errors or errors %}
<div id="errors">
<h3>The following errors were encountered while trying to submit your search:</h3>
{% for x,y in formset.errors.items %}
<p>{{ x }} : {{ y }}</p>
{% endfor %}
{{ errors }}
</div>
{% endif %}
<div id="notes">
<p>Searching by dish names, locations, and restaurants is case-insensitive.</p>
<p>Searching by course uses  case-insensitive exact matching. Valid courses are Appetizer, Main, and Dessert.</p>
<p>Years should be entered YYYY. Five-year periods span either the first or second half of a decade, and should be entered YYYY-YYYY. Example valid five-year periods are 1900-1905, 1995-2000, etc.</p>
<p>Regular expression search follows MySQL regular expression syntax, as described <a href="http://dev.mysql.com/doc/refman/5.1/en/regexp.html" target="_blank">here</a>.</p>
 </div>

{% endautoescape %}
<br /><br /><br /><br /> <br /><br /><br />
{% endblock %}

{% block footer %}
<div id="warning">
<p>NOTE: This site and the information it contains are still in development. Some information may be missing or inaccurate.</p>
</div>
<div class="credits">
    Created and maintained by <a href="/about#sam">Sam Raker</a> and <a href="/about#rachel">Rachel Rakov</a>
    <br />
    Data graciously provided by <a href="http://menus.nypl.org" target="_blank">What's on the Menu?</a>
</div>
{% endblock %} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-05T01:08:21.317

对不起，我原来的帖子比你需要的多。为了澄清，您需要做的就是：

```
Q(year__icontains=year_input_variable) | Q(city__icontains=city_input_variable) & Q(name__icontains=name_input_variable) 
```

使用 & 和，| 为或。

我之前发布的内容是，如果查询包含多个单词，它会使用运算符检查是否所有单词都匹配。**或者**如果任何单词使用运算符匹配。**或**。

# f# - 是否可以在 f# 中使用 CallerMemberNameAttribute

> ID：14117842
> 
> 赞同：15
> 
> 时间：2013-01-02T06:35:40.590
> 
> 标签：f#, attributes

此处记录了属性和 C# 示例，但对于 FSharp 来说似乎是不可能的。

[http://msdn.microsoft.com/en-us/library/system.runtime.compilerservices.callermembernameattribute.aspx?cs-save-lang=1&cs-lang=csharp#code-snippet-2](http://msdn.microsoft.com/en-us/library/system.runtime.compilerservices.callermembernameattribute.aspx?cs-save-lang=1&cs-lang=csharp#code-snippet-2)

```
// using System.Runtime.CompilerServices 
// using System.Diagnostics; 

public void DoProcessing()
{
    TraceMessage("Something happened.");
}

public void TraceMessage(string message,
        [CallerMemberName] string memberName = "",
        [CallerFilePath] string sourceFilePath = "",
        [CallerLineNumber] int sourceLineNumber = 0)
{
    Trace.WriteLine("message: " + message);
    Trace.WriteLine("member name: " + memberName);
    Trace.WriteLine("source file path: " + sourceFilePath);
    Trace.WriteLine("source line number: " + sourceLineNumber);
} 
```

样本输出：

```
message: Something happened. 
member name: DoProcessing 
source file path: c:\Users\username\Documents\Visual Studio 2012\Projects\CallerInfoCS\CallerInfoCS\Form1.cs 
source line number: 31 
```

是否可以在 F# 中执行上述操作，如果可以，表示法是什么？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-01-02T11:48:14.867

快速搜索[编译器源代码](http://github.com/fsharp/fsharp)，发现名称`CallerMemberName`没有出现在代码的任何地方，所以我认为不支持此功能。（您当然可以使用属性标记参数，但这些属性是特殊的 - 它们指示编译器，而不是在运行时以某种方式被发现和使用。）

**2016 年 7 月更新**：截至 6 月下旬，[F# 现在支持](https://github.com/Microsoft/visualfsharp/pull/1114) `CallerLineNumber`和`CallerFilePath`，但`CallerMemberName`仍然不存在。不幸的是，似乎特别难以实施。

在相关的说明中，F# 有[一些特殊的标识符](http://msdn.microsoft.com/en-us/library/dd233234.aspx)，可让您获取当前的源文件名和行号，因此您可以使用`__SOURCE_DIRECTORY__` and获得类似的信息`__LINE__`
（但不能像 C# 中那样从调用者获得）。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2015-07-15T22:02:53.470

这是一个快速的'n'dirty hack，它滥用`inline`来获取此信息：

```
module Tracing = 
    open System
    open System.Text.RegularExpressions

    let (|TraceInfo|_|) (s:string) =
        let m = Regex.Match(s, "at (?<mem>.+?) in (?<file>.+?\.[a-zA-Z]+):line (?<line>\d+)")
        if m.Success then
            Some(m.Groups.["mem"].Value, m.Groups.["file"].Value, int m.Groups.["line"].Value)
        else None

    let inline trace s =
        printfn "%s" s
        match Environment.StackTrace with
        | TraceInfo(m, f, l) ->
            printfn "  Member: %s" m
            printfn "  File  : %s" f
            printfn "  Line  : %d" l
        | _ -> () 
```

它实际上或多或少地起作用：

![在此处输入图像描述](../Images/79b491cfaa2f563ec852283b25710746.png) ![在此处输入图像描述](../Images/e6f3a04f5cb1f157be976176a6d80037.png)

# java - 从 java 调用 swf 函数（不将 swf 文件加载到浏览器中）

> ID：14117847
> 
> 赞同：0
> 
> 时间：2013-01-02T06:35:52.633
> 
> 标签：java, javascript, apache-flex, flex3, flash

我对这个主题进行了很多搜索，但没有得到任何好的答案。

场景：我们的项目中有 Rest Web 服务基础实现。理想情况下，前端（Flex）调用 Web 服务，后端将大量数据点发送到前端。然后前端创建这些数据点的图表并显示给最终用户。

我们的要求是用户可以导出这些图表并在服务器上保存为 pdf 文件。我们能够从 flex 服务器创建 JPG 文件并保存为 pdf 文件。

当最终用户安排了该图表报告时，就会出现问题。现在该报告可以随时运行，可能是当时没有打开浏览器。那么后端将如何与前端（flex）函数交互。问题是：

1.  浏览器未打开，因此未加载 swf 文件。
2.  java/jsp 需要与 frontEnd(flex) 作为 reverseAjax 交互，以便前端将 JPG 文件发送回服务器。

以前有人遇到过这个问题吗？有没有可能？

高度赞赏 Asnwers/任何潜在客户。请对此发表评论

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-02T09:17:33.093

可能做到这一点的唯一方法是在您的服务器上运行您的 Flex 应用程序的一个版本（至少是图表部分），并让您的 Java 服务器与之交互。

我遇到过类似的问题，之前也[问](https://stackoverflow.com/questions/12813492/running-air-application-on-a-server)过类似的问题。它不是很优雅，但我之前提到的似乎是唯一的方法。

# ios6 - ios 6 中的委托和协议似乎不起作用

> ID：14117849
> 
> 赞同：0
> 
> 时间：2013-01-02T06:36:39.140
> 
> 标签：ios6

我使用委托和协议创建了一个简单的 TableView 应用程序，它在 ios 5 中工作，但是当我更新我的 xcode 时，我在 ios 6 中无法工作。代码是这样的：

在子视图中：

```
@class AddItemViewController;
@class CheckListItem;
@protocol AddItemViewControllerDelegate <NSObject>

- (void)addItemViewControllerDidCancel: (AddItemViewController *)controller;
- (void)addItemViewController:(AddItemViewController *)controller didFnishAddingItem:(CheckListItem *)item;

@end

@interface AddItemViewController : UITableViewController <UITextFieldDelegate>

//declare an property
@property (nonatomic, assign) id <AddItemViewControllerDelegate> delegate;

in childview.m:
- (void)addItemViewControllerDidCancel: (AddItemViewController *)controller{
//i do something here
}

in parentview.h:
#import "AddItemViewController.h"

@interface CheckListViewController : UITableViewController <AddItemViewControllerDelegate>

-(IBAction)addItem;

@end

in parentview.m:
- (void)addItemViewControllerDidCancel:(AddItemViewController *)controller
{
    [controller dismissViewControllerAnimated:YES completion:nil];

}
- (void) prepareForSegue:(UIStoryboardSegue *)segue sender:(id)sender
{
    if([segue.identifier isEqualToString:@"AddItem"]){
        UINavigationController *navigationController = segue.destinationViewController;
        AddItemViewController *controller = (AddItemViewController *)navigationController;
        controller.delegate = self;
        NSLog(@"perform prepare for segue");

    }
} 
```

这段代码有什么问题吗？谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-02T08:26:28.363

在您的子视图中，您必须调用 [delegate addItemViewControllerDidCancel: (AddItemViewController *)controller]，而不仅仅是调用该方法。

如果你改变它，它应该可以工作:)

# android - 在 Activity 类中填充按钮

> ID：14117858
> 
> 赞同：0
> 
> 时间：2013-01-02T06:37:57.400
> 
> 标签：android, button

我想像这样在活动类中填充字母按钮......

![在此处输入图像描述](../Images/76d4f4416df67fe2fe2b89a79580002e.png)

我的代码如下：

```
private void populateButtons() {
        RelativeLayout layout = (RelativeLayout) findViewById(R.id.RelativeLayout01);
        for (char buttonChar = 'A'; buttonChar <= 'Z'; buttonChar++) {
            String buttonText = String.valueOf(buttonChar);
            Button alphabetButton = new Button(this);
            alphabetButton.setText(buttonText);
            layout.addView(alphabetButton);
        }

    } 
```

结果是这样的：

![在此处输入图像描述](../Images/3234514cc909e0f2a2d154be0c3061ee.png)

我可以手动将所有字母按钮按如下方式放置，但我认为在 Activity 类中对其进行编码更好：

```
 <Button
        android:id="@+id/button1"
        android:layout_width="30dp"
        android:layout_height="30dp"
        android:layout_alignParentLeft="true"
        android:layout_alignParentTop="true"
        android:background="@color/violet"
        android:text="A"
        android:textColor="@color/main"
        android:textSize="20dp"
        android:onClick="methodHere" /> 
```

那么如何使用 Activity 类中的 java 代码转换上述 xml 代码。

请帮忙。

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T06:48:53.253

你可以试试这个。

```
private void populateButtons() {

        ArrayAdapter<String> chars = new ArrayAdapter<String>(context, android.R.layout.simple_list_item_1);

        GridView layout = (GridView) findViewById(R.id.gridView);
        for (char buttonChar = 'A'; buttonChar <= 'Z'; buttonChar++) {
            String buttonText = String.valueOf(buttonChar);
            chars.add(buttonText);
        }
        layout.setAdapter(chars);
    } 
```

如果您真的想插入按钮，请创建一个扩展类`Adapter`，

`ArrayAdapter`足够。

```
public class AlphabetButtonAdapter extends ArrayAdapter<String>
{

        private List<String> objects;
        public AlphabetButtonAdapter(Context context,
                int textViewResourceId,
                List<String> objects)
        {
            super(context, textViewResourceId, objects);
            this.objects = objects;

        }

        @Override
        public View getView(int position, View convertView, ViewGroup parent)
        {
            Button b = new Button(getContext());
            b.setText(objects.get(position));
            return b;
        }

        public void setOnClickListener(OnClickListener listener)
        {
             this.listener = listener;
        }

} 
```

使用自定义适配器填充

```
private void populateButtons() {

            ArrayList<String> list = new ArrayList<String>();            
            GridView layout = (GridView) findViewById(R.id.gridView);
            for (char buttonChar = 'A'; buttonChar <= 'Z'; buttonChar++) {
                String buttonText = String.valueOf(buttonChar);
                list.add(buttonText);
            }

            AlphabetButtonAdapter chars = new AlphabetButtonAdapter(context, 0, list);
            layout.setAdapter(chars);

        } 
```

更新1：绑定`onClick()`按钮

您可以传入`OnClickListener`只需`AlphabetButtonAdapter`添加一个 setter 方法

```
public class MyActivity OnClickListener
{

    @Override
    public void onClick(View v)
    {
             Button b = (Button) v;
             // Your definition...

    }
}

private void populateButtons() {

                ArrayList<String> list = new ArrayList<String>();            
                GridView layout = (GridView) findViewById(R.id.gridView);
                for (char buttonChar = 'A'; buttonChar <= 'Z'; buttonChar++) {
                    String buttonText = String.valueOf(buttonChar);
                    list.add(buttonText);
                }

                AlphabetButtonAdapter chars = new AlphabetButtonAdapter(context, 0, list);
                chars.setOnClickListener(listener);
                layout.setAdapter(chars);

} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-02T06:54:29.613

你忘记了身份证。为这里讨论的按钮设置 ID。

[在java代码中设置RelativeLayout](https://stackoverflow.com/questions/5327144/setting-up-relativelayout-in-java-code)

这将使代码：

```
private void populateButtons(){

  RelativeLayout layout = (RelativeLayout) findViewById(R.id.RelativeLayout01); 

  for (char buttonChar = 'A'; buttonChar <= 'Z'; buttonChar++){

        String buttonText = String.valueOf(buttonChar);
        Button alphabetButton = new Button(this);
        alphabetButton.setId('A');// This is just an unique integer.
        alphabetButton.setText(buttonText);
        layout.addView(alphabetButton);
    }

} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-08-11T14:02:19.097

您应该使用具有水平方向和固定 Width 和 Weight 参数的 LinearLayout，而不是上面提到的 RelativeLayout。尝试更改您的活动布局以及您的代码，如下所示：

私人无效填充按钮（）{

```
 LinearLayout layout = (LinearLayout) findViewById(R.id.RelativeLayout01);

    for (char buttonChar = 'A'; buttonChar <= 'Z'; buttonChar++) {
        String buttonText = String.valueOf(buttonChar);
        Button alphabetButton = new Button(this);
        alphabetButton.setText(buttonText);
        layout.addView(alphabetButton);
    }

} 
```

# firefox - firefox js getSVGDocument().getElementsByClassName('myClass') 坏了？

> ID：14117860
> 
> 赞同：0
> 
> 时间：2013-01-02T06:38:20.783
> 
> 标签：firefox, svg, getelementsbyclassname

我有一个嵌入式 SVG，使用 js 更改 20 种路径填充颜色，它们都具有相同的类。

```
<script>
function svgMod(){  
    //var links = document.getElementById("tornado5").getSVGDocument().
    //    getElementsByClassName('SVGlogo');
    var links = document.getElementById("tornado5").contentDocument.
        getElementsByClassName('SVGlogo');

    for (var i=0;i<links.length;i++) { links[i].style.fill="00ff00"; }  
}
</script>
<object type="image/svg+xml" id="tornado5" data="bitmaps/frames/tornado2.svg">
</object>        <!-- cant use img -->
<button onclick="svgMod();" >Click to change</button> 
```

它适用于 Chrome，但不适用于 Firefox。我尝试了 contentDocument 和 getSVGDocument()，但没有帮助。links.length 是 20，即使在 Firefox 中也是如此，所以问题似乎出在 links[i].style.fill

有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T06:45:18.143

您可以尝试更改此行：

```
for (var i=0;i<links.length;i++) { links[i].style.fill="00ff00"; } 
```

对此：

```
for (var i=0; i < links.length; i++) {
    links[i].setAttribute("fill", "#00ff00");
} 
```

或者

```
for (var i=0; i < links.length; i++) {
    links[i].style.fill = "#00ff00";
} 
```

希望这可以帮助。

# iphone - 如何在 UItableview 中添加带有加载的页脚视图？

> ID：14117861
> 
> 赞同：3
> 
> 时间：2013-01-02T06:38:22.137
> 
> 标签：iphone, ios, ipad

我已经制作了一个 UITableView，并且正在从 Web 服务的 JSON 中获取数据。

Firat，我希望我首先获得前 5 个对象并将它们加载到我的 tableView 中。这是正确的。

然后我希望每当用户滚动到页脚时..接下来的 5 个对象应该被获取并且它应该显示在 tableView..

我被困在这里..谁能告诉我下一步如何进行？

我的 tableview 是否从不同类型的自定义类中加载了所有自定义单元格？

```
- (UIView *)tableView:(UITableView *)tableView viewForFooterInSection:(NSInteger)section
{
    if(section==[array count]-1)
    {
        UITableViewCell *cell = [self tableView:mtableview1 cellForRowAtIndexPath:myIP];
        frame =  cell.contentView.frame;
        footerView  = [[UIView alloc] init];
        footerView.backgroundColor=[UIColor clearColor];
        self.activityIndicator = [[[UIActivityIndicatorView alloc] initWithActivityIndicatorStyle:UIActivityIndicatorViewStyleGray] autorelease];
        self.activityIndicator.hidesWhenStopped=YES;

        self.activityIndicator.center = CGPointMake(65,50);
        [self.activityIndicator startAnimating];

        UILabel* loadingLabel = [[UILabel alloc]init];
        loadingLabel.font=[UIFont boldSystemFontOfSize:12.0f];
        loadingLabel.textAlignment = UITextAlignmentLeft;
        loadingLabel.textColor = [UIColor colorWithRed:87.0/255.0 green:108.0/255.0 blue:137.0/255.0 alpha:1.0];
        loadingLabel.numberOfLines = 0;
        loadingLabel.text=@"Loading.......";
        loadingLabel.frame=CGRectMake(95,35, 302,25);

        loadingLabel.backgroundColor =[UIColor clearColor];
        loadingLabel.adjustsFontSizeToFitWidth = NO;
        [footerView addSubview:self.activityIndicator];
        [footerView addSubview:loadingLabel];
        [self performSelector:@selector(loadending) withObject:nil afterDelay:1.0];
        [loadingLabel release];

        NSLog(@"%f",mtableview1.contentOffset.y);
        mtableview1.tableFooterView=footerView;

        return footerView;
    }
    return nil; 
} 
```

我一直这样做，但它的位置并不总是正确的。这是我的大问题。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-02T06:43:48.047

您可以使用以下概念。概念是当用户拉表视图然后重新加载附加数据（如拉动刷新）时。

```
Code Sample :
//MARK: -UIScrollViewDelegate
- (void)scrollViewDidEndDragging:(UIScrollView *)scrollView willDecelerate:(BOOL)decelerate{
    if (scrollView.contentOffset.y <= - 65.0f) {
        // fetch extra data & reload table view
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-02T07:24:10.450

当您到达最后一行检查是否有更多内容要显示时，您可以增加表格视图**中的行数。**如果您要显示更多内容，请增加行数。

```
- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section 
```

增加行数后，您可以滚动到要显示的所需行...

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-02T06:54:57.633

使用 UIScrollViewDelegate 方法

```
- (void)scrollViewDidScroll:(UIScrollView *)scrollView{

    } 
```

在 scrollViewDidScroll 方法中，您可以检查行索引以调用您的加载方法

```
NSIndexPath *indexPath = [[self.myTable indexPathsForVisibleRows]objectAtIndex:1]; //in middle visible of row
int visibleRowIndex = indexPath.row; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-02T09:06:34.187

我已经实现了这个请看这是我的代码

```
- (UIView *)tableView:(UITableView *)tableView viewForFooterInSection:(NSInteger)section
{

    if(footerView == nil)
    {
        footerView  = [[UIView alloc] init];
        CGRect screenBounds = [[UIScreen mainScreen] bounds];

        if (ObjApp.checkDevice == 1)
        {
            UIImage *image = [[UIImage imageNamed:@"LoadMoreBtn.png"]
                              stretchableImageWithLeftCapWidth:8 topCapHeight:8];

            btnLoadMore = [UIButton buttonWithType:UIButtonTypeCustom];
            [btnLoadMore setBackgroundImage:image forState:UIControlStateNormal];
            if(screenBounds.size.height == 568)
            {
                //    iPhone 5
                [btnLoadMore setFrame:CGRectMake(74, 13, 148, 34)];
            }
            else
            {
                //    iPohne 4 and Older iPhones
               [btnLoadMore setFrame:CGRectMake(74, 13, 148, 34)];
            }
        }
        else if (ObjApp.checkDevice == 2)
        {
            UIImage *image = [[UIImage imageNamed:@"LoadMoreBtn_iPad.png"]
                              stretchableImageWithLeftCapWidth:8 topCapHeight:8];

            btnLoadMore = [UIButton buttonWithType:UIButtonTypeCustom];
            [btnLoadMore setBackgroundImage:image forState:UIControlStateNormal];
            [btnLoadMore setFrame:CGRectMake(220, 26, 296, 67)];
        }
        [btnLoadMore.titleLabel setFont:[UIFont boldSystemFontOfSize:20]];
        [btnLoadMore setTitleColor:[UIColor whiteColor] forState:UIControlStateNormal];
        [btnLoadMore addTarget:self action:@selector(btnLoadmore_clicked:)
         forControlEvents:UIControlEventTouchUpInside];
        [footerView addSubview:btnLoadMore];
    }
    return footerView;
}

- (CGFloat)tableView:(UITableView *)tableView heightForFooterInSection:(NSInteger)section
{
    if (ObjApp.checkDevice == 1)
    {
        return 47;
    }
    else
    {
        return 100;
    }
    return 0;
}

#pragma mark - Button Click Methods
-(void)btnLoadmore_clicked:(id)sender
{
    if(page > 0)
    {
        sendpage++;
        if(sendpage<= page)
        {
        [self loading];
        NSString *urlString = [NSString stringWithFormat:@"data={\"name\":\"%@\",\"lat\":\"%f\",\"page\":\"%d\",\"long\":\"%f\"}",txtSearchFld.text,ObjApp.current_Latitude,sendpage,ObjApp.current_Longitude];
        [WebAPIRequest WS_Search:self :urlString];

        CGFloat height = tblSearchResult.contentSize.height - tblSearchResult.bounds.size.height;
        [tblSearchResult setContentOffset:CGPointMake(0, height) animated:YES];
        }
    }
} 
```

# php - 我无法在 Mysql 的另一个查询中运行查询。表消息。显示收件箱

> ID：14117863
> 
> 赞同：2
> 
> 时间：2013-01-02T06:38:37.987
> 
> 标签：php, mysql

我有一个表格消息，我想显示最近的消息。如果用户 1 已登录，我想这样做：例如，如果用户 1 向用户 2 发送消息，然后用户 2 向用户 1 发送消息，我想向用户 1 显示最新消息。所以这将是用户 2 发送的那个。我的表有：

```
id |  id_from|id_to|text 
1     1       2     abc     
2     2       1     dif      
3     3       1     jsd 
```

所以，我必须向用户 1 显示 ID 2 和 3。

我试试这个：非常感谢！

```
 $consulta=mysql_query("select * from messages where id_from='".$id."' or id_to='".$id."'  ");
while($filas=mysql_fetch_array($consulta)){
    $id=$filas['id'];
    $id_to=$filas['id_to'];
    $status=$filas['status'];
    $text=$filas['text'];
    $time=$filas['time'];
    echo "lo primero: ";

$consulta2=mysql_query("select * from messages where id_from='".$id."' or id_to='".$id."' ");
    while($filas2=mysql_fetch_array($consulta2)){
        echo "es ";
        $id2=$filas2['id'];
        $id_to2=$filas2['id_to'];
        $status2=$filas2['status'];
        $text2=$filas2['text'];
        $time2=$filas2['time'];
        echo "es ";
        echo $id2;
            if($id_from==$id_from2 and $id_to==$id_to2 and $id2>$id){ 
                $id=$id2;           
                echo "el mas grande ";
                echo $id;
            }
    }
    echo $id;
    echo " ";
    //Almaceno en un vector los mensajes a mostrar
    $result  = array ( "'".$id."'"); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-02T07:23:50.413

我假设第一列**id**设置为自动递增。使用 id=$userid 显示用户的最新活动

```
SELECT * 
FROM  `messages` 
WHERE  `id_from` =  '$userid' ||  `id_to` =  '$userid'
ORDER BY  `id` DESC 
LIMIT 1 
```

从这个查询中，我们将获得用户的最后一个活动。从该结果行中，您可以检查该活动是已发送消息还是已收到消息，并相应地显示文本。

如果您只是想显示收件箱消息，其中最近的消息在顶部使用

```
 SELECT * 
    FROM  `messages` 
    WHERE  `id_to` =  '$userid'
    ORDER BY  `id` DESC 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-02T06:43:44.583

使用单个简单查询

```
SELECT * FROM mytable WHERE id_from != 1 AND id_to = 1 
```

# iphone - 我如何在我们的应用程序中访问日历事件和计划事件？

> ID：14117864
> 
> 赞同：3
> 
> 时间：2013-01-02T06:38:40.357
> 
> 标签：iphone, ios, object

> **可能重复：**
> [如何使用 Event Kit 框架在 iPhone 中添加事件](https://stackoverflow.com/questions/6530687/how-to-add-events-in-iphone-using-event-kit-framework)
> [在默认日历中添加特定日期作为事件](https://stackoverflow.com/questions/12072017/adding-particular-date-in-default-calender-as-an-event)

我正在制作一个应用程序，我想在 iPhone 的应用程序中使用现有的日历事件和计划事件。我也想通过我的应用程序编辑事件..

提前致谢...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T06:54:33.437

在头文件中导入**EventKitUI/EventKitUI.h、EventKit/EventKit.h框架。**这是将事件添加到默认 iPhone 日历的代码

```
-(IBAction) addEvent:(id)sender 
  { 
       EKEventStore *eventStore = [[[EKEventStore alloc] init] autorelease]; 
       EKEvent *events = [EKEvent eventWithEventStore:eventStore];
       events.title = @"Title";
       events.notes = @"Description";
       events.location = @"Location";
       events.startDate = [NSDate date];
       events.endDate = [NSDate date];
       events.availability = EKEventAvailabilityFree;          
       [events setCalendar:[eventStore defaultCalendarForNewEvents]];
       NSError *err;
       [eventStore saveEvent:events span:EKSpanThisEvent error:&err];
       NSLog(@"Error From iCal : %@", [err description]);
    } 
```

然后查看您可以使用的事件`EKEventEditViewController`

```
EKEventEditViewController *editViewController = [[EKEventEditViewController alloc] init];
editViewController.editViewDelegate = self;
editViewController.event = event3;
editViewController.eventStore = eventStore1;
[self presentModalViewController:editViewController animated:YES]; 
```

希望这可以帮助

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-02T06:43:08.540

参考 EventKit 框架来完成这些。苹果文档在[这里](http://developer.apple.com/library/ios/#documentation/DataManagement/Conceptual/EventKitProgGuide/Introduction/Introduction.html)。

# c# - jqGrid subGridRowExpanded 函数无法正常工作

> ID：14117866
> 
> 赞同：1
> 
> 时间：2013-01-02T06:38:48.160
> 
> 标签：c#, jquery, asp.net-mvc, jqgrid, jqgrid-asp.net

我是 jQgrid 的初学者，最近几天我尝试学习 jQgrid 并创建一个示例

Mvc 应用程序。参考 jQgrid 网站。[http://www.trirand.com/blog/jqgrid/jqgrid.html](http://www.trirand.com/blog/jqgrid/jqgrid.html)

我尝试在 jQGrid 中将**网格设置为子网**格。我想要添加、编辑、删除所有功能

子网格是可能的。

当我在 jQgrid 中展开一行时，我遇到了一个问题，父行没有显示

折叠图标。请看我下面的图片。

![在此处输入图像描述](../Images/e0415e53d99f4878bbdb5cd4fe7c365d.png)

请看红框。它没有显示减号图标。请在下面查看我的代码。

```
 <table id="listsg11">
</table>
<div id="pagersg11">
</div>
<script type="text/javascript">
    jQuery("#listsg11").jqGrid({
        url: '/Home/DynamicGridData/',
        datatype: "json",
        mtype: 'POST',
        height: 190,
        width: 600,
        colNames: ['Id', 'Votes', 'Title'],
        colModel:
        [
            { name: 'Id', index: 'Id', width: 40, align: 'left' },
            { name: 'Votes', index: 'Votes', width: 40, align: 'left' },
            { name: 'Title', index: 'Title', width: 400, align: 'left' }
        ],
        rowNum: 8,
        rowList: [8, 10, 20, 30],
        pager: '#pagersg11',
        sortname: 'id',
        viewrecords: true,
        sortorder: "desc",
        multiselect: false,
        subGrid: true,
        caption: "Grid as Subgrid"
        ,
        subGridRowExpanded: function (subgrid_id, row_id) {
            // we pass two parameters 
            // subgrid_id is a id of the div tag created whitin a table data 
            // the id of this elemenet is a combination of the "sg_" + id of the row 
            // the row_id is the id of the row 
            // If we wan to pass additinal parameters to the url we can use 
            // a method getRowData(row_id) - which returns associative array in type name-value 
            // here we can easy construct the flowing
            var subgrid_table_id, pager_id;
            subgrid_table_id = subgrid_id + "_t";
            pager_id = "p_" + subgrid_table_id;
            $("#" + subgrid_id).html("<table id='" + subgrid_table_id + "' class='scroll'></table><div id='" + pager_id + "' class='scroll'></div>");
            jQuery("#" + subgrid_table_id).jqGrid({
                url: "/Home/DynamicGridData1/",
                datatype: "json",
                mtype: 'POST',
                colNames: ['Id', 'Votes', 'Title'],
                colModel:
                [
                    { name: 'Id', index: 'Id', width: 40, align: 'left' },
                    { name: 'Votes', index: 'Votes', width: 40, align: 'left' },
                    { name: 'Title', index: 'Title', width: 400, align: 'left' }
                ],
                rowNum: 20,
                rowList: [8, 10, 20, 30],
                pager: pager_id,
                sortname: 'Id',
                sortorder: "asc",
                height: 180,
                width: 500,
            });
            jQuery("#" + subgrid_table_id).jqGrid('navGrid', "#" + pager_id, { edit: true, add: true, del: true })
        }
        //,
        //            subGridRowColapsed: function (subgrid_id, row_id) {
        //                alert(row_id);
        //                // this function is called before removing the data 
        //                //var subgrid_table_id; 
        //                //subgrid_table_id = subgrid_id+"_t"; 
        //                //jQuery("#"+subgrid_table_id).remove();
        //            }
    });
    jQuery("#listsg11").jqGrid('navGrid', '#pagersg11', { add: true, edit: true, del: true });

</script> 
```

请帮忙。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-30T05:12:00.763

为什么你不尝试把 javascript 放在里面

```
$(function(){
//here go the script
}); 
```

因为其中一个原因是 jqgrid 尚未正确下载。

所以试试这个！

祝你好运！

# javafx-2 - javafx 2.2 中散点图中数据点的工具提示

> ID：14117867
> 
> 赞同：1
> 
> 时间：2013-01-02T06:38:50.543
> 
> 标签：javafx-2, javafx

我在 javafx 中创建了一个散点图。它由五个系列的数据组成。我从 Arraylist 添加了数据。我需要在每个数据点上显示一个工具提示。要添加工具提示，它说我们需要为每个数据点创建一个节点。我们怎么能做到这一点？

我尝试在添加数据时创建节点，但没有成功。我还尝试从散点图中访问数据并将其分配给新系列。即使没有工作。有人可以帮我从散点图中检索详细信息或数据点并为每个数据点创建一个节点。提前致谢

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-03-30T14:11:35.550

来自 API 文档`XYChart.Data.nodeProperty`：（由我粗体标记）

> public final ObjectProperty nodeProperty
> 
> 要为此数据项显示的节点。您可以创建自己的节点并将**其设置在数据项上，然后再将数据项添加到图表**中。否则，图表将为您创建一个具有图表类型默认表示的节点。此节点将在数据添加到图表后立即设置。**然后，您可以让它添加鼠标侦听器等。**图表将尽力适当地定位和调整节点大小，例如在折线图或散点图上，该节点将定位在数据值位置的中心。对于条形图，它被定位并调整为该数据项的条形。

最好让图表设置其默认s 并稍后`Node`注册s。`Tooltip`像这样：

```
import javafx.application.Application;
import javafx.application.Platform;
import javafx.scene.Scene;
import javafx.scene.chart.NumberAxis;
import javafx.scene.chart.ScatterChart;
import javafx.scene.chart.XYChart;
import javafx.scene.control.Tooltip;
import javafx.stage.Stage;

public class SO extends Application {
    @Override
    public void start(Stage stage) throws Exception {
        NumberAxis xa = new NumberAxis(0, 10, 1);
        NumberAxis ya = new NumberAxis(0, 100, 10);
        xa.setLabel("x");                
        ya.setLabel("x*x");
        final ScatterChart<Number,Number> chart = new ScatterChart<Number,Number>(xa,ya);
        chart.setTitle("Square");

        XYChart.Series<Number,Number> series1 = new XYChart.Series<>();
        series1.setName("square");
        for (double x=0; x<10; x++) {
            XYChart.Data<Number, Number> d = new XYChart.Data<Number, Number>(x, x*x);
            series1.getData().add(d);
        }

        chart.getData().add(series1);
        Scene scene  = new Scene(chart, 400, 300);
        stage.setScene(scene);
        stage.show();

        for (XYChart.Series<Number, Number> s : chart.getData()) {
            for (XYChart.Data<Number, Number> d : s.getData()) {
                Tooltip.install(d.getNode(), new Tooltip(
                        String.format("%2.1f ^ 2 = %2.1f", 
                                d.getXValue().doubleValue(), 
                                d.getYValue().doubleValue())));
            }
        }
    }

    public static void main(String[] args) {
        launch(args);
    }
} 
```

看起来像这样：

![在此处输入图像描述](../Images/423a8f1a3a891967eb3e0429119e669d.png)

关于散点图的好文章：

*   [http://docs.oracle.com/javafx/2/charts/scatter-chart.htm](http://docs.oracle.com/javafx/2/charts/scatter-chart.htm)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-05-19T09:53:30.093

将数据添加到条形图后

```
chart.getData().add(series); 
```

将以下代码段添加到代码中

```
for (final Series<String, Number> series : chart.getData()) {
        for (final Data<String, Number> data : series.getData()) {
            Tooltip tooltip = new Tooltip();
            tooltip.setText(data.getYValue().toString());
            Tooltip.install(data.getNode(), tooltip);
        }
    } 
```

# php - Yii:: 如何使用 CDbCriteria 作为缓存依赖

> ID：14117870
> 
> 赞同：2
> 
> 时间：2013-01-02T06:39:13.700
> 
> 标签：php, caching, yii

当我们用 CDbCacheDependency 定义缓存依赖时，我们必须提供一个 SQL 作为依赖。当我们使用 CDbCriteria 时，不可能提供 sql，因为 sql 是通过带有适当参数令牌的 critera 构建的。

有什么方法可以使用 CDbCriteria 作为缓存依赖项？问这样的事对吗？因为我只对 CDbCriteria 正在构建的 sql 感兴趣，所以我必须手动构建 sql，我认为这是不对的。

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-03T00:43:32.730

从 Yii 1.1.13 开始，恐怕您将**不得不**使用 SQL 语句，并且没有直接的使用`CDbCriteria`.

然而*，有一种**间接***的使用*方式*`CDbCriteria`，但最终你将不得不使用它来生成一个 SQL 命令，你将把它作为你的依赖项传递。该技术的用途[`CDbCommandBuilder`](http://www.yiiframework.com/doc/api/1.1/CDbCommandBuilder "http://www.yiiframework.com/doc/api/1.1/CDbCommandBuilder")及其方法。

示例（请参阅评论以了解理解）：

```
$criteria=new CDbCriteria;
// ... replace with code to set up your criteria ...
// ...
// first create commandBuilder instance
$commandBuilder = new CDbCommandBuilder(Yii::app()->db->schema);
// then create command using criteria
$command = $commandBuilder->createFindCommand('table_name', $criteria);
// then get sql statement text
$sql = $command->text;
// then set your dependency
$dependency = new CDbCacheDependency($sql);
// if you have params in the criteria, set the params for dependency
$dependency->params = $criteria->params;

// now your dependency is usable 
```

* * *

在上面我使用过的方法中`createFindCommand`，还有其他方法，例如`createCountCommand`in `CDbCommandBuilder`，使用一种生成您必须运行的 sql 语句的方法。

* * *

或者，您可以使用[Query Builder](http://www.yiiframework.com/doc/guide/1.1/en/database.query-builder "http://www.yiiframework.com/doc/guide/1.1/en/database.query-builder")，但当然不会有任何`CDbCriteria`东西。

# android - 如何在android中以横向（使用TouchImageView）设置宽度适合屏幕

> ID：14117879
> 
> 赞同：1
> 
> 时间：2013-01-02T06:39:48.850
> 
> 标签：android, android-imageview, multi-touch, screen-orientation, rotational-matrices

我正在使用`MikeOrtiz TouchImageView`来自 GitHub。这是链接[TouchImageView](https://github.com/MikeOrtiz/TouchImageView)

*   我正在尝试在横向方向中将宽度设置为适合屏幕，只有这里是显示我想要做什么的图像。

*   我要这个

![横向宽度适合屏幕](../Images/5dd1b470e0fa184360ca86ffde1e44d3.png)

*   而不是我现在在风景中得到的这个 ![横向宽度不适合屏幕](../Images/f0784ecf9a182dab472f46989797d815.png)

这是一些代码。

```
protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {
    super.onMeasure(widthMeasureSpec, heightMeasureSpec);
    viewWidth = MeasureSpec.getSize(widthMeasureSpec);
    viewHeight = MeasureSpec.getSize(heightMeasureSpec);

    //
    // Rescales image on rotation
    //
    if (oldMeasuredHeight == viewWidth && oldMeasuredHeight == viewHeight
            || viewWidth == 0 || viewHeight == 0)
        return;
    oldMeasuredHeight = viewHeight;
    oldMeasuredWidth = viewWidth;

    if (saveScale == 1) {
        // Fit to screen.
        float scale;

        Drawable drawable = getDrawable();
        if (drawable == null || drawable.getIntrinsicWidth() == 0
                || drawable.getIntrinsicHeight() == 0)
            return;
        int bmWidth = drawable.getIntrinsicWidth();
        int bmHeight = drawable.getIntrinsicHeight();

        Log.d("bmSize", "bmWidth: " + bmWidth + " bmHeight : " + bmHeight);

        float scaleX = (float) viewWidth / (float) bmWidth;
        float scaleY = (float) viewHeight / (float) bmHeight;
        scale = Math.min(scaleX, scaleY);
        matrix.setScale(scale , scale );

        // Center the image
        float redundantYSpace = (float) viewHeight
                - (scale * (float) bmHeight);
        float redundantXSpace = (float) viewWidth
                - (scale * (float) bmWidth);
        redundantYSpace /= (float) 2;
        redundantXSpace /= (float) 2;

        matrix.postTranslate(redundantXSpace, redundantYSpace);

        origWidth = viewWidth - 2 * redundantXSpace;
        origHeight = viewHeight - 2 * redundantYSpace;
        setImageMatrix(matrix);
    }
    fixTrans();
} 
```

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-02T07:07:29.603

您已经在 res layout-land 中创建了一个文件夹，然后在其中创建了一个具有相同名称的 xml 文件，并在 landsacpe 模式下根据需要设置 UI，它非常适合您

如果您将 home.xml 放在 layout-port 文件夹中，当您的设备处于纵向时，它将使用文件：layout-port/home.xml。

如果您将 home.xml 放在 layout-land 文件夹中，当您的设备处于横向时，它将使用文件：layout-land/home.xml。

对于纵向和横向等不同方向模式的含义......我们使用两个 home.xml 文件；一个在 layout-port 中，另一个在 layout-land 中。另一方面，如果您想为两者使用相同的布局文件，您只需将 home.xml 放在布局文件夹中，然后将其从 layout-land 和 layout-port 中删除。

[参考这个链接](http://developer.android.com/training/basics/supporting-devices/screens.html)

# iphone - 适用于 Cordova 的 iOS 推送通知 SDK

> ID：14117881
> 
> 赞同：2
> 
> 时间：2013-01-02T06:40:13.637
> 
> 标签：iphone, cordova

我想为**Cordova**实现推送通知。

我正在关注本[教程](http://www.pushwoosh.com/programming-push-notification/push-notification-sdk-integration-for-phonegap/)

并且还下载了示例项目

但我无法找到`Cordova.plist/Cordova.plist`并且不具备配置它的知识。

如果有人已经在这方面工作，请在这一点上提供帮助

在此阶段欢迎任何类型的建议和意见

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-02T08:04:15.243

这似乎是一个错字。

它应该在您的项目文件夹中与您的应用程序同名的文件夹中。

如果您的应用程序被调用`MyCoolApp`并且它在`MyCoolAppProject`文件夹中，比如说... plist 文件将是：

`MyCoolAppProject/MyCoolApp/Cordova.plist`

但是，截至`2.3.0RC1`，`Cordova.plist`已被`config.xml`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-11T11:17:04.757

科尔多瓦中没有更多的 .plist 文件，将您的插件添加到 config.xml

# android - 闪存卡应用

> ID：14117882
> 
> 赞同：2
> 
> 时间：2013-01-02T06:40:19.657
> 
> 标签：android

我正在为 Android 平台开发一个闪存卡应用程序。到目前为止，我有一个功能应用程序的粗略框架，但遇到了障碍。

该应用程序的工作方式如下：

选择顶部按钮`Flash Cards`后，应用程序将启动一个新活动：

然后，用户可以通过单击添加牌组按钮来添加新牌组。一旦创建了套牌，其想法是用户将能够将卡片添加到相应的主题中。

这就是我卡住的地方。我需要知道创建仅对应于给定主题的列表的最佳做法是什么。例如，生物闪卡放在生物牌下面，化学闪卡放在化学牌下面，等等。

这是我的甲板列表活动代码。到目前为止，我的想法包括以某种方式将 2D ArrayList 捆绑到创建闪存卡的新活动中。非常感谢任何反馈。谢谢！

**LISTOFDECKS活动：**

```
 public class ListOfDecksActivity extends Activity implements OnClickListener {

    private ListView listView1;
    private Button addDeck;
    final static int deckData = 0;
    private ArrayList<Deck> deck_data;
    private DeckAdapter adapter;
    private View header;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.deck_list);

        instantiate();

    }

    private void instantiate() {
        deck_data = new ArrayList<Deck>();// holds the decks of flash cards

        adapter = new DeckAdapter(this, R.layout.deck_item_row,// creates a new
                                                                // custom
                                                                // adapter
                deck_data); // from the adapter class

        listView1 = (ListView) findViewById(R.id.listView1);
        header = (View) getLayoutInflater().inflate(R.layout.deck_header_row,
                null);// Sets up the header for the
                        // list
        listView1.addHeaderView(header);// adds the header to the list view
        listView1.setAdapter(adapter);
        listView1.setOnItemClickListener(new OnItemClickListener() {

            @Override
            public void onItemClick(AdapterView<?> arg0, View arg1, int arg2,
                    long arg3) {
                Intent test = new Intent(ListOfDecksActivity.this,
                        FlashCard.class);
                startActivity(test);

            }
        });
        addDeck = (Button) findViewById(R.id.bAdd);
        addDeck.setOnClickListener(this);// sets up on click listener for submit
                                            // button

    }

    @Override
    protected void onActivityResult(int requestCode, int resultCode, Intent data) {
        super.onActivityResult(requestCode, resultCode, data);
        String nameHolder;
        data.getExtras();
        nameHolder = data.getStringExtra("deckTitle");
        deck_data.add(new Deck(R.drawable.ic_launcher, nameHolder));
        adapter.notifyDataSetChanged();

    }

    @Override
    public void onClick(View v) {
        switch (v.getId()) {
        case (R.id.bAdd):
            Intent addDeck = new Intent(ListOfDecksActivity.this,
                    AddDeckActivity.class);

            startActivityForResult(addDeck, 1);
        }

    }

} 
```

PS 为了清楚起见，我有照片，但是由于垃圾邮件机制，新用户无法发布图片。如果您想查看更多代码或需要更多详细信息，请随时询问。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-14T15:26:10.540

重申这个问题：“创建仅包含来自给定主题的卡片的套牌的最佳做法是什么？”

如果您不打算在列表之间重复使用卡片或在用户之间重复使用卡片或列表（例如，使它们可共享、可搜索），则使用数组列表很好。另一个考虑因素是，如果卡片都嵌套在特定的 Deck 对象中，您将无法跟踪很多元数据。对于最简单的“跟踪一个用户的卡片”用例，您基本上可以拥有一个平面 NOSQL 数据模型的套牌。

然而，在这种情况下，“最佳实践”可能是通过带有连接语句的 SQL 数据库将用户 Card 对象与用户 Deck 对象相关联，并提出某种机制将用户数据同步回中央 Web 服务。这是因为大多数服务都希望用户创建的卡片可供所有其他用户搜索和添加。

# database - 如何创建由数据库支持的基于用户的网站

> ID：14117886
> 
> 赞同：0
> 
> 时间：2013-01-02T06:40:51.783
> 
> 标签：database, database-schema, development-environment

我有使用 Adob​​e Flash Builder 开发 MS Access 和一些 Java 编程的经验。

我想创建一个网站，用户可以在其中登录并分享和发布类似于 Facebook 的内容，即社交网络。我想知道什么是开发网站的最佳程序（对于非 html 背景的人）以及支持此类网站的最佳数据库是什么，即（Oracle、Mysql ...）

如果您有任何建议或意见，请告诉我。所有的建议对我来说都是有效的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T07:53:18.723

基于用户的网站应该在应用程序的前端和后端都实现。登录时应获取用户名、登录名和其他信息等组件，以实现基于用户的网站。站点的后端应该位于由 php 和某种 sql server 系统组成的生产服务器上。

# jsf-2 - icefaces 3 fileEntry fileEntryListener 未在 h:commandButton 上被调用

> ID：14117893
> 
> 赞同：1
> 
> 时间：2013-01-02T06:41:18.550
> 
> 标签：jsf-2, icefaces-3

我正在使用icefaces 3。我的问题是我有一个ace:fileEntry，它有一个fileEntryListener。我有一个 ah:commandButton，它在我的表单末尾设置了一个 actionListener。当我单击我的 commandButton 时，我注意到只有我的按钮的 actionListener 被调用，但 fileEntryListener 没有被完全调用。我的意思是文件被上传到临时位置，但我在 fileEntryListerner 中的实际代码没有被调用。我在我的 fileEntryListerner 中编写了一个客户逻辑，将上传的文件复制到另一个位置，但这不起作用。下面是我的代码。任何人都可以解释为什么 fileEntryListner 代码不能完全工作。

```
 <td>
                <ace:fileEntry id="file-entry" label="Attachment"
                    absolutePath="/STR_UPLOADED_FILES"
                    maxFileCount="1" 
                    maxFileCountMessage="Limited to 1 files uploaded concurrently." 
                    fileEntryListener="#{strformbean.fileuploadListener}"
                    maxFileSize="6291456" 
                    maxFileSizeMessage="Submitted file is too large.Max size allowed is 6MB" 
                    maxTotalSize="6291456" 
                    maxTotalSizeMessage="Total size of submitted files is too large." 
                    required="false" 
                    requiredMessage="The file is required to submit this form." 
                    useOriginalFilename="false"  
                    useSessionSubdir="false"  />

            </td>
            <td colspan="2"  class="sectionHeader"  align="center"> 
                <h:commandButton id="submitM" type="submit" value="SAVE" action="strform" actionListener="#{strformbean.saveSTR}"/> 
            </td>

public void fileuploadListener(FileEntryEvent e)throws Exception {
    log.info("Inside fileuploadListener started....");
    FileEntry fe                = (FileEntry)e.getComponent();
    FileEntryResults results    = fe.getResults();
    File parent                 = null;
    ArrayList fileData          = new ArrayList<String> 
```

…………

上面的记录器信息行根本不打印，但文件已上传。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T22:24:57.863

尝试删除 h commandButton 上的操作和操作侦听器。希望这有效。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-16T22:07:20.697

```
Try using <h:form> instead of <ice:form> as your form tag

Also <h:commandButton> should not include "action" or "actionListener" attributes. 
```

# android - Log4j 日志文件未在 android 中创建

> ID：14117896
> 
> 赞同：1
> 
> 时间：2013-01-02T06:41:37.887
> 
> 标签：android, log4j

我正在使用 Log4j 在我的 android 应用程序中记录数据。我已经在以下类的帮助下配置了 log4j，但是没有创建日志文件。

启用控制台日志记录，maxfilesize 和 maxbackupsize 也不错。请让我知道我在这里缺少什么。

```
public class ConfigureLog4J {

static LogConfigurator logConfigurator = new LogConfigurator();
private static final int maxFileSize = 1024 * 5; // 100KB
public static final int maxBackupSize = 2; // 2 backup files
public static final String LOG_FILE_NAME = "bitzer.log";

private static HashMap<Integer, Level> logLevelMap = new HashMap<Integer, Level>();

static {
    logLevelMap.put(0, Level.OFF);
    logLevelMap.put(1, Level.ERROR);
    logLevelMap.put(2, Level.INFO);
    logLevelMap.put(3, Level.WARN);
    logLevelMap.put(4, Level.DEBUG);
    logLevelMap.put(5, Level.ALL);
}

public static void startWithLogLevel(int logLevel) {

    logConfigurator.setFileName(getLogFileName());
    logConfigurator.setRootLevel(getLevelFromInt(logLevel));
    logConfigurator.setUseFileAppender(true);
    logConfigurator.setUseLogCatAppender(isConsoleLoggingEnabled());
    logConfigurator.setMaxFileSize(getMaxFileSize());
    logConfigurator.setMaxBackupSize(maxBackupSize);
    // Set log level of a specific logger
    // logConfigurator.setLevel("org.apache", Level.ERROR);
    logConfigurator.setResetConfiguration(true);
    logConfigurator.configure();
}

private static long getMaxFileSize() {
    return CompanySettings.getInstance().getValueAsInteger(R.string.max_log_size);
}

private static boolean isConsoleLoggingEnabled() {
    return CompanySettings.getInstance().getValueAsBoolean(R.string.consoleLoggingEnabled);
}

private static Level getLevelFromInt(int newLogLevel) {
    return logLevelMap.get(newLogLevel);
}

public static String getLogsDirectory() {
    if(AppData.getInstance().getContext()!=null)             
    { String packageName = AppData.getInstance().getContext().getPackageName();
        System.out.println("sundeep package name is not null and it's"+packageName);
    return "data/data/" + packageName + "/logs/";
    }
    return null;
}

public static String getLogFileName() {
    return getLogsDirectory() + LOG_FILE_NAME;
}
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-02-14T11:42:21.760

# SLF4J 概述

我强烈推荐你使用**[SLF4J](http://www.slf4j.org/android/)**，它是 log4j 的“老大哥”；制作 log4j 的开发人员制作了 SLF4J 来解决 log4j 的缺点。

不同之处在于，log4j 是一个成熟的日志框架，而 SLF4J 是一个外观，您可以直接在 Java 代码中使用它。外观方面允许您在运行时插入具体的日志记录实现——例如 log4j、logback、Android 的`Log`实用程序等。

它允许您编写可在不同项目之间使用的代码，而无需遍历您的代码并将您的日志语句转换为使用目标项目的日志框架。如果您有几千行使用 log4j 的代码，但您将它们导入到的目标使用 Apache Commons 日志记录，那么如果您手动进行更改，您很快就会发现自己很头疼……即使有帮助有能力的IDE。

## 在 Android 中使用 log4j

有一个很棒的 Android 库用于记录到 log4j——以及许多其他的记录框架——称为**[android-logging-log4j](https://code.google.com/p/android-logging-log4j/)**。查看“*[**在 slf4j 上使用 log4j**](https://code.google.com/p/android-logging-log4j/#Using_log4j_over_slf4j)* *[”](https://code.google.com/p/android-logging-log4j/#Using_log4j_over_slf4j)**[非常出色的部分](https://code.google.com/p/android-logging-log4j/#Using_log4j_over_slf4j)***，这是我在 Android 项目中采用的路线。**

 *** * *

# 我自己项目的例子

以下是我自己的项目中的一些示例，例如我的**[Awnry News & Weather 应用程序](http://naw.awnry.com)**。（是的，无耻的插件：P）

## 类路径上所需的 JAR

基本上这些是我通常会在我的项目的类路径中拥有的 JAR（当然，版本号会随着新版本的出现而变化）。

*   `android-logging-log4j-1.0.3.jar`
*   `log4j-1.2.17.jar`
*   `slf4j-api-1.7.6.jar`
*   `slf4j-log4j12-1.7.6.jar`

## 实例化一个类的记录器

以下是我在每个需要记录的类中实例化通用记录器的方法：

```
package com.awnry.android.naw;
...
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
...
public class NawApplication extends Application
{
    private static final Logger log = LoggerFactory.getLogger(NawApplication.class); 
```

如您所见，我仅引用 SLF4J[`Logger`](http://www.slf4j.org/api/org/slf4j/Logger.html)和[`LoggerFactory`](http://www.slf4j.org/api/org/slf4j/LoggerFactory.html)接口，即使实际的日志记录最终可能会使用 log4j 或 Android 的`Log`.

***这就是 SLF4J 外观设计的美妙之处：***您不受任何特定日志实现/框架的束缚；您将来可以改变主意，而无需更改一行代码。如果您现在在 SLF4J 上使用 log4j，但将来您想使用 Apache Commons Logging 框架，您所要做的就是将 SLF4J-to-log4j 桥切换到 SLF4J-to-ACL 桥，并且没有您的 Java 代码会更明智，因为它只调用 SLF4J*接口*。*对接口而不是实现*进行编码的古老格言再次适用，SLF4J 就是一个极好的例子。

## 配置 Android 应用的日志记录

在我的[`Application.onCreate()`](http://developer.android.com/reference/android/app/Application.html#onCreate%28%29)方法中，我像这样配置我的日志记录：

```
@Override
public void onCreate()
{
    ...

    String logFile = getFilesDir().getAbsolutePath() + File.separator + "logs" + File.separator + "debug.log";
    log.info("Application log file: " + logFile);

    LogConfigurator logConfigurator = new LogConfigurator(logFile, Level.TRACE);
    logConfigurator.configure();

    ...
} 
```

我相信这部分实际上是可选的。就我而言，我这样做是因为我使用**[ACRA 库](http://acra.ch/)**来帮助捕获意外的程序崩溃并将详细信息报告给我以进行调试，因此您可能不需要[`LogConfigurator`](https://code.google.com/p/android-logging-log4j/source/browse/trunk/src/main/java/de/mindpipe/android/logging/log4j/LogConfigurator.java)像我在这里那样定义您的 android-logging-log4j。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-02T07:35:06.583

为什么你使用 log4j。有专门为android设计的高效日志实用程序。使用 LogCat。它使用起来非常简单，并且是在您的 android 应用程序中输入日志的标准方式。**

# oracle - 如何在组合框中显示文本但引用 id 字段？

> ID：14117897
> 
> 赞同：0
> 
> 时间：2013-01-02T06:41:43.870
> 
> 标签：oracle, vb6

我编写了插入和更新表 student_record_database 的代码，该表有许多其他表的外键。

运行此代码时，它不接受从组合框中选择的文本数据，并给出错误无效数字、完整性约束和 DTpicker 也不接受给定日期，尽管我设置了自定义格式。

下面是我的代码。我在组合框中显示文本时遇到问题。

```
<code>
Private Sub save_Click()
If Val(COMBO4) = 0 Then
SQL = "INSERT INTO    STUDENT_RECORD_DATABASE(ROLLNO,FIRST_NAME,MIDDLE_NAME,LAST_NAME,CONTACT,CONTACT1,CONTACT2,ADDRESS,GRADE,DIVID,BLOOD_GROUP,HID,DATE_OF_BIRTH,TRANSPORT,SNAME,MEAL,BUSNO,RUTNO,DID,AID,CARD_TYPE,CARD_NO)"

  SQL = SQL + "VALUES(" & Val(COMBO4) & ",'" & Trim(Text2) & "', '" & Trim(Text3) & "', '" & Trim(Text4) & "', " & Val(Text5) & ", " & Val(Text6) & ", " & Val(Text7) & ", '" & Trim(Text8) & "', '" & Trim(Combo1) & "','" & Val(Combo2) & "',"
SQL = SQL + " '" & Trim(Combo3) & "' ,'" & Val(Combo9) & "','" & DTPicker1.Value & "',"
SQL = SQL + " '" & Trim(Combo10) & "' ,'" & Combo5.Text & "' ,'" & Trim(Combo11) & "' ,'" & Combo6.Text & "' ,'" & Val(Combo12) & "' ,'" & Val(Combo7) & "','" & Val(Combo8) & "',"

 SQL = SQL + " '" & Trim(Combo13) & "' ," & Text11.Text & " ) "

  Set RES = CON.Execute(SQL)
MsgBox ("RECORD INSERTED")
Else
SQL = "UPDATE STUDENT_RECORD_DATABASE SET "
SQL = SQL + "ROLLNO= " & Val(COMBO4) & ","
SQL = SQL + "FIRST_NAME= '" & Trim(Text2) & "',"
SQL = SQL + "MIDDLE_NAME= '" & Trim(Text3) & "',"
SQL = SQL + "LAST_NAME= '" & Trim(Text4) & "',"
SQL = SQL + "CONTACT=" & Val(Text5) & ","
SQL = SQL + "CONTACT1=" & Val(Text6) & ","
SQL = SQL + "CONTACT2=" & Val(Text7) & ","
SQL = SQL + "ADDRESS= '" & Trim(Text8) & "',"
SQL = SQL + "GRADE='" & Trim(Combo1) & "',"
SQL = SQL + "DIVID='" & Val(Combo2) & "',"
SQL = SQL + "BLOOD_GROUP='" & Trim(Combo3) & "',"
SQL = SQL + "HID='" & Val(Combo9) & "',"
SQL = SQL + "DATE_OF_BIRTH=(' " & DateValue(DTPicker1.Value) & " ' ),"
SQL = SQL + "TRANSPORT='" & Trim(Combo10) & "',"
SQL = SQL + "SNAME='" & Trim(Combo5) & "',"
SQL = SQL + "MEAL='" & Trim(Combo11) & "',"
SQL = SQL + "BUSNO='" & Trim(Combo6) & "',"
SQL = SQL + "RUTNO=" & Val(Combo12) & ","
SQL = SQL + "DID='" & Val(Combo7) & "',"
SQL = SQL + "AID='" & Val(Combo8) & "',"
SQL = SQL + "CARD_TYPE='" & Trim(Combo13) & "',"
SQL = SQL + "CARD_NO=" & Val(Text11) & ""
SQL = SQL + "WHERE ROLLNO= " & Val(COMBO4) & ""
MsgBox ("RECORD UPDATED")
End If
End Sub
</code>
Error occurred is invalid month,integrity constraint-parent key not found,invalid  number. 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T09:07:22.513

在不了解 STUDENT_RECORD_DATABASE 的结构以及您正在更新的内容的情况下，很难回答您的问题，但是您可以查看一些内容。

首先，当像这样将日期插入 Oracle 时，您应该在日期列上使用 TO_DATE() 函数。IE`DATE_OF_BIRTH`

接下来确保您的更新满足所有外表键约束。

`ROLLNO`如果它是您的主键，则无需更新。

最后确保您尝试更新的数据都没有大于字符串（例如`VARCHAR2`）列的大小。此外，其中一些肯定是字符串列，并且它们不受引号限制。例如`CONTACT` `CONTACT1` `CONTACT2`和`CARD_NO`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-02T17:31:07.173

您需要使用组合框`.ItemData`属性来存储您的值的 ID 字段：

```
Do While Not myRecordset.EOF
   myCombo.AddItem myRecordset("MyFieldString").Value
   myCombo.ItemData(myCombo.NewIndex) = myRecordset("MyFieldID").Value
   myRecordset.MoveNext
Loop 
```

要引用所选组合值的`.ItemData`属性：

```
"CARD_TYPE='" & Trim(Combo13.ItemData(Combo13.ListIndex)) & "'," 
```

至于您的数据格式问题，不确定 Oracle，但对于 SQL Server，您必须将日期值格式化为：

```
"DATE_OF_BIRTH=(' " & Format$(DTPicker1.Value, "yyyy-mm-dd") & " ' )," 
```

# windows-phone-7 - 在 Windows Phone 8 中，我不断收到 System.WIndows.Markup.XamlParseException

> ID：14117908
> 
> 赞同：3
> 
> 时间：2013-01-02T06:43:02.973
> 
> 标签：windows-phone-7, windows-phone, windows-phone-8

我得到的错误信息是

> System.Windows.ni.dll 中出现“System.Windows.Markup.XamlParseException”类型的第一次机会异常

调用堆栈追溯到这段代码。

```
 public MainPage()
        {
            **InitializeComponent();**
            this.Init();

            // Set the data context of the listbox control to the sample data
            DataContext = App.ViewModel;
            this.Loaded += new RoutedEventHandler(MainPage_Loaded);

        } 
```

以及 InitializeComponent() 行上的错误。

```
public void InitializeComponent() {
        if (_contentLoaded) {
            return;
        }
        _contentLoaded = true;
        System.Windows.Application.LoadComponent(this, new System.Uri("/App;component/MainPage.xaml", System.UriKind.Relative));
        this.LayoutRoot = ((System.Windows.Controls.Grid)(this.FindName("LayoutRoot")));
        this.SSIDTextBox = ((System.Windows.Controls.TextBox)(this.FindName("SSIDTextBox")));
        this.PasswordTextBox = ((System.Windows.Controls.TextBox)(this.FindName("PasswordTextBox")));
        this.Auth_ListPicker = ((Microsoft.Phone.Controls.ListPicker)(this.FindName("Auth_ListPicker")));
        this.SaveButton = ((System.Windows.Controls.Button)(this.FindName("SaveButton")));
        this.GenerateButton = ((System.Windows.Controls.Button)(this.FindName("GenerateButton")));
        this.QRImage = ((System.Windows.Controls.Image)(this.FindName("QRImage")));
        this.Profiles= ((System.Windows.Controls.ListBox)(this.FindName("Profiles")));
    }
} 
```

在将 WP 7.1 转换为 WP8 之前，我没有遇到此异常。

任何帮助，将不胜感激。

**更新**：我添加了整个异常消息，它有助于查明问题吗？

> 'TaskHost.exe' (CLR C:\windows\system32\coreclr.dll: DefaultDomain)：加载了 'C:\windows\system32\mscorlib.ni.dll'。跳过加载符号。模块已优化，调试器选项“仅我的代码”已启用。“TaskHost.exe”（CLR C:\windows\system32\coreclr.dll：Silverlight AppDomain）：已加载“C:\windows\system32\System.Windows.RuntimeHost.ni.dll”。跳过加载符号。模块已优化，调试器选项“仅我的代码”已启用。“TaskHost.exe”（CLR C:\windows\system32\coreclr.dll：Silverlight AppDomain）：已加载“C:\windows\system32\System.Windows.ni.dll”。跳过加载符号。模块已优化，调试器选项“仅我的代码”已启用。'TaskHost.exe' (CLR C:\windows\system32\coreclr.dll: Silverlight AppDomain): 加载'C: \windows\system32\System.Net.ni.dll'。跳过加载符号。模块已优化，调试器选项“仅我的代码”已启用。“TaskHost.exe”（CLR C:\windows\system32\coreclr.dll：Silverlight AppDomain）：已加载“C:\windows\system32\System.ni.dll”。跳过加载符号。模块已优化，调试器选项“仅我的代码”已启用。“TaskHost.exe”（CLR C:\windows\system32\coreclr.dll：Silverlight AppDomain）：已加载“C:\windows\system32\System.Xml.ni.dll”。跳过加载符号。模块已优化，调试器选项“仅我的代码”已启用。“TaskHost.exe”（CLR C:\windows\system32\coreclr.dll：Silverlight AppDomain）：已加载“C:\Data\Programs{64003C1B-A4FD-41FF-A132-2B6C9FE8EDC9}\Install\WifiQR.DLL”。已加载符号。'TaskHost.exe' （CLR C:\windows\system32\coreclr.dll：Silverlight AppDomain）：已加载“C:\windows\system32\Microsoft.Phone.ni.dll”。跳过加载符号。模块已优化，调试器选项“仅我的代码”已启用。“TaskHost.exe”（CLR C:\windows\system32\coreclr.dll：Silverlight AppDomain）：已加载“C:\windows\system32\Microsoft.Phone.Interop.ni.dll”。跳过加载符号。模块已优化，调试器选项“仅我的代码”已启用。“TaskHost.exe”（CLR C:\windows\system32\coreclr.dll：Silverlight AppDomain）：已加载“C:\Data\Programs{64003C1B-A4FD-41FF-A132-2B6C9FE8EDC9}\Install\Microsoft.Phone.Controls。工具包.DLL'。无法找到或打开 PDB 文件。'TaskHost.exe' (CLR C:\windows\system32\coreclr.dll: Silverlight AppDomain): 加载'C: \Data\Programs{64003C1B-A4FD-41FF-A132-2B6C9FE8EDC9}\Install\microsoft.phone.controls.DLL'。无法找到或打开 PDB 文件。“TaskHost.exe”（CLR C:\windows\system32\coreclr.dll：Silverlight AppDomain）：已加载“C:\windows\system32\System.Core.ni.dll”。跳过加载符号。模块已优化，调试器选项“仅我的代码”已启用。System.Windows.ni.dll 中出现“System.Windows.Markup.XamlParseException”类型的第一次机会异常

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-06-23T10:12:29.423

只需在清单文件中添加权限即可。

1.  转到 WMAPmanifest.xml
2.  选择“能力”选项卡
3.  现在检查“ID_CAP_MAP”

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-01-02T20:38:42.110

发现问题！我能够通过以下方式找到有关异常的更多信息：

1.  调试->异常
2.  按添加并输入“System.Windows.Markup.XamlParseException”并选择公共语言运行时异常
3.  再次运行，它将查明导致异常的确切行号。

原来是一个简单的错字。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-01-06T03:09:07.933

我有一个类似的问题，发现重新添加点击事件修复了它。

它发生在我从另一个 xaml 页面复制 xaml 时。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-04-20T10:53:03.340

WP8-Update 后，VS Express 中的应用程序的 Strg+Alt+F7 有所帮助。

# d3.js - 如何在 d3 中选择自定义中央经线？

> ID：14117912
> 
> 赞同：1
> 
> 时间：2013-01-02T06:43:14.550
> 
> 标签：d3.js

如何为 d3-map-projection 选择我自己的自定义中央经线？作为一个绝对的新手，我从 Mike Bostock 的这个例子开始：http: [//bl.ocks.org/3734333](http://bl.ocks.org/3734333)

它显示了中央经线为 0 度的世界的米勒投影。如何将 d3 中的这个（和其他投影）居中到自定义子午线，例如。格林威治以东 10 度？

我尝试使用 projection.center([0,-10])，但这不起作用。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-03T07:07:04.487

![在此处输入图像描述](../Images/90f5e0b81ea143ae65a0587125b78028.png)projection.rotate([longitude,lattitude]) 可以解决问题，例如。.rotate([-10,0]) 将中央子午线设置为格林威治以东 10 度

编辑 1：但是：现在我有一条 180 度的粗粗线，我想摆脱它。

编辑 2：我们可以使用以下 css-rule 设置它的样式

```
.foreground {
  fill: none;
  stroke: color;
  stroke-width: xy px;
} 
```

对笔画使用相同的颜色，对笔画宽度使用相同的像素宽度，然后对格线使用相同的像素宽度![在此处输入图像描述](../Images/30aa51f8fcc87b0856ddf3ee49a445a7.png)

# windows-phone-7 - 如何为 InkPresenter 动态设置背景颜色

> ID：14117914
> 
> 赞同：0
> 
> 时间：2013-01-02T06:43:15.470
> 
> 标签：windows-phone-7

我在 XAML 中添加了一个 InkPresenter。如何动态更改其背景颜色？

这可行吗？

```
 ImageBrush ib = 新的 ImageBrush();           

ib.Stretch = Stretch.Uniform；

 ib.ImageSource =
new BitmapImage(new Uri(@"/Images/WhiteBoard_1000.jpg", UriKind.Relative));

 myInk.Background = ib;

```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T06:57:32.790

Yes you can change the background of the InkPresenter just as you have done.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-12T03:08:27.033

您可以在 XAML 中更改 InkPresenter 背景，但动态更改其背景，请使用以下命令：

SolideColorBrush sb = new SolidColorBrush(Colors.Color_you_want);

InkPresenter.background = 某人；

# c++ - Range For循环帮助：“：”标记之前的预期初始化程序

> ID：14117918
> 
> 赞同：3
> 
> 时间：2013-01-02T06:43:57.780
> 
> 标签：c++, c++11

我对 C++ 完全陌生，现在我正在关注 C++ Primer 书。

我写了一个关于字符串的小例子，代码如下：

```
#include <iostream>
#include <string>
#include <cctype>

using std::cin;
using std::cout;
using std::endl;
using std::string;

int main() {
    string s("Hello World");

    for (auto &c : s)
        c = toupper(c);

    cout << s << endl;

    return 0;
} 
```

我在使用 GCC 版本 4.4.6 的 Linux 上，我尝试使用以下代码编译此代码：

```
g++ test_strings.c -std=c++0x 
```

但出现以下错误：

```
test_strings.c: In function 'int main()':
test_strings.c:14: error: expected initializer before ':' token
test_strings.c:19: error: expected primary-expression before 'return'
test_strings.c:19: error: expected ')' before 'return' 
```

我从教科书中复制了程序，所以我虽然是拼写错误，但在检查并尝试在网上搜索并更新我的 gcc 后，错误提醒。帮助将不胜感激，在此先感谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-02T06:51:44.643

根据[GCC 页面中的 C++0x/C++11 支持](http://gcc.gnu.org/projects/cxx0x.html)，您需要运行 gcc 4.6 才能获得 range-for 功能。

[4.6 更改页面](http://gcc.gnu.org/gcc-4.6/changes.html)包含：

> 改进了对即将推出的 C++0x ISO C++ 标准的实验性支持，包括对 constexpr（感谢 Gabriel Dos Reis 和 Jason Merrill）、nullptr（感谢 Magnus Fromreide）、noexcept、无限制联合、**基于范围的 for 循环的支持**（感谢Rodrigo Rivas Costa），不透明的枚举声明（也感谢 Rodrigo），隐式删除函数和隐式移动构造函数。

由于您运行的是 gcc 4.4.6，因此您无法使用它。

# javascript - 使用 Javascript 循环表单输入字段

> ID：14117921
> 
> 赞同：1
> 
> 时间：2013-01-02T06:44:31.103
> 
> 标签：javascript, forms, loops

请帮我解决这个问题。我有如下的Javascript：

```
function calc() {
  var table = document.getElementById(tableNum);
  var rowCount = table.rows.length;
  for (var i = 0; i < rowCount; i++) {
    var totalNum[i] = document.formNum.txt1[i].value * document.formNum.txt2[i].value;
    document.getElementById('totalCalc[' + i + ']').innerHTML = totalNum;
  }
} 
```

像这样的HTML：

```
<table id="tableNum">    
<form name="formNum" action="" id="formNum">
<tr>
<td><input type="text" name="txt1[]" onkeyup="calc()"/></td>
<td><input type="text" name="txt2[]" onkeyup="calc()"/></td>
<td><span id="totalCalc[]"></span></td>
</tr>
</form>
</table> 
```

输入字段的数量未知。没有错误，但 totalCalc 字段为空。请告诉我我做错了什么。谢谢。

**编辑：**对不起，我忘了提到两个输入字段都在一个表中。请检查编辑后的代码。谢谢。

**编辑：**我实际上正在开发一个演示，其中表行的数量由用户定义，通过单击插入行按钮。

**编辑：**感谢特拉维斯的代码。经过一些更改，代码现在可以工作了。但只有第一行有效。我正在考虑获取行的长度并为文本字段使用 for 循环。`<input type="text" name="txt1[<?php echo $rowLength;?>]" onkeyup="calc()"/>`有没有人有其他想法？谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T07:03:10.550

第一件事似乎是错误的

```
document.getElementById(tableNum); 
```

应该

```
document.getElementById("tableNum"); 
```

第二，

```
var totalNum[i] = 
```

应该

```
var totalNum = 
```

另外，它不起作用，您可以通过[firebug](https://getfirebug.com/)或chrome的集成开发工具调试快速找到它。这也将帮助您进行语法验证。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-02T07:23:57.143

这是正在发生的事情。

**HTML优先**

如果您要通过索引引用这些，请使用适当的索引，如下所示

```
name="txt1[0]"
name="txt2[0]"
<span id="totalCalc[0]"> 
```

**Javascript**

```
document.getElementById(tableNum); 
```

`getElementsById`需要一个字符串，所以这应该是

```
document.getElementById("tableNum"); 
```

由于您正在迭代，因此您只需要其中一个变量，因为它会立即使用（而不是整个数组）：

`var totalNum =`代替`var totalNum[i]`

当您使用点符号访问表单时，名称中的括号会搞砸，您需要这样做：

`document.formNum["txt1["+i+"]"].value`代替`document.formNum.txt1[i].value`

**瓦拉**

当您进行这些细微的更改时，您使用的代码实际上会产生正确的结果:) 请参阅此工作演示：http: [//jsfiddle.net/69Kj7/](http://jsfiddle.net/69Kj7/)，此外，这是一个有 2 行的演示：[http://jsfiddle。净/69Kj7/1/](http://jsfiddle.net/69Kj7/1/)

作为参考，这是演示中的代码：

html:

```
<table id="tableNum">    
<form name="formNum" action="" id="formNum">
<tr>
<td><input type="text" name="txt1[0]" onkeyup="calc()"/></td>
<td><input type="text" name="txt2[0]" onkeyup="calc()"/></td>
<td><span id="totalCalc[0]"></span></td>
</tr>
</form>
</table>​ 
```

js：

```
function calc() {
 var table = document.getElementById("tableNum");
 var rowCount = table.rows.length;
 for (var i = 0; i < rowCount; i++) {
  var totalNum = document.formNum["txt1["+i+"]"].value * document.formNum["txt2["+i+"]"].value;
  document.getElementById('totalCalc[' + i + ']').innerHTML = totalNum;
 }
}​ 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-02T07:24:22.020

如果你想使用纯 java 脚本，这里是**逻辑代码**

### html

```
<form name="formNum" id="formNum" action="" >
<input type="text" name="foo[]" onkeyup="calc()" value="5"/>
<input type="text" name="foo[]" onkeyup="calc()" value="12"/>
<span id="totalCalc"></span>
</form> 
```

​</p>

### js

```
var inputs = formNum["foo[]"];
var total = 1;
alert(inputs.length);
for (var i = 0; i < inputs.length; i++) {
    total *= inputs[i].value;
}

alert(total); 
```

[`working DEMO`](http://jsfiddle.net/5FVtR/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-05T05:55:52.163

我已经想出了如何解决这个问题。只需在 之后插入数组`totalCalc`，但不在`totalCalc`.

非常感谢你们帮助我:)

# javascript - 移动 Safari 喜欢跳过超时功能

> ID：14117922
> 
> 赞同：1
> 
> 时间：2013-01-02T06:44:31.977
> 
> 标签：javascript, jquery, mobile, safari

![在此处输入图像描述](../Images/7597fb300b887be8bcbfe3547e85b1b4.png)

我正在做的是激活功能'keep checks（）'并在用户触摸滑动iPad并延迟100ms后输出控制台，但输出如下

![在此处输入图像描述](../Images/6c71ad0730c5fc03b082999fda69cb05.png)

我一个一个地慢慢刷了3次，只有一次尝试成功，不知道是什么原因造成的，它完全跳过了计时器，无论我等待多长时间它都不会出现。我在 Desktop firefox/safari/chrome 上进行了测试，它们都可以正常工作，它们甚至不会跳过计时器一次。

# google-maps-api-3 - 地图上显示多个标记时，一次仅打开一个信息框

> ID：14117926
> 
> 赞同：0
> 
> 时间：2013-01-02T06:44:58.393
> 
> 标签：google-maps-api-3, infobox

我有一个 createMarker() 函数，用于在谷歌地图上放置多个标记。以下是代码：

```
 function createMarker(point,custid,streetadd,city,state,zip,address,phone,website,co) 
    {   
        var infowindowHover,infowindowClick;

        var marker = new google.maps.Marker({                
            position: point,                
            map: map,
            icon: image, 
        });

        var boxClickText = document.createElement("div");            
        boxClickText.className = "infoBackground";

        var markerMarkup = "<div id='infobox'><TABLE class='test'><TR><TD colspan='2'><B class='title'>";
            markerMarkup = markerMarkup + co + "</B></TD></TR><TR><TD colspan='2'>";
            markerMarkup = markerMarkup + streetadd + "</TD></TR><TR><TD colspan='2'>";
            markerMarkup = markerMarkup + city + "," + state + " " + zip + "</TD></TR><TR><TD colspan='2'>";
            markerMarkup = markerMarkup + phone + "</TD></TR><TR><TD colspan='2'>";
            if(website.indexOf("http://")>0) { markerMarkup = markerMarkup +"<a href="; }
            else{  markerMarkup = markerMarkup +"<a href=http://"; }
            markerMarkup = markerMarkup + website + " target=_blank>" + website + "</a></TD></TR><TR><TD class='availableStyle'>";                
            markerMarkup = markerMarkup +'<a href="javascript:;" onclick="setstyles('+ custid +',\'' + streetadd + '\'' + ',\'' + city + '\'' + ',\'' + state + '\'' + ',\'' + zip + '\'' + ',\'' + address + '\''+ ',\'' + phone + '\''+ ',\'' + website + '\''+ ',\'' + co + '\'' + ')";">see available styles</a>';

            //markerMarkup = markerMarkup + '<input type="button" value="see available styles" onclick="setstyles('+ custid +',\'' + streetadd + '\'' + ',\'' + city + '\'' + ',\'' + state + '\'' + ',\'' + zip + '\'' + ',\'' + address + '\''+ ',\'' + phone + '\''+ ',\'' + website + '\''+ ',\'' + co + '\'' + ')" />';
markerMarkup = markerMarkup + "</TD></TR></TABLE></div>";

        boxClickText.innerHTML = markerMarkup;

        var myOptions_click = {
            content: boxClickText
        //,disableAutoPan: true
        ,disableAutoPan: false
        ,maxWidth: 0
        ,pixelOffset: new google.maps.Size(-140, 0)
        ,zIndex: null
        ,boxStyle: {                 
            //opacity: 0.75
            //,width: "280px"
            margin:"-58px 0px 0px 148px"
            }
        ,closeBoxMargin: "10px 2px 2px 2px"
        ,closeBoxURL: "http://mansi:2525/pc-new/images/mapclosebutton.gif"
        ,infoBoxClearance: new google.maps.Size(1, 1)
        ,isHidden: false
        ,pane: "floatPane"
        ,id: "infoWindowClick"
        ,enableEventPropagation: false
        };

        var ib = new InfoBox();

        google.maps.event.addListener(marker, "click", function (e) {
            ib.close();
            ib.setOptions(myOptions_click);
            ib.open(map, this);
        });

        return marker;

    } 
```

我从[Google Map V3 中提到了类似的问题 - 一次只允许显示一个信息框](https://stackoverflow.com/questions/10908132/google-map-v3-allow-only-one-infobox-to-be-displayed-at-a-time)并以相同的方式应用代码，但我没有得到想要的结果。

[Google Map V3 - 一次只允许显示一个信息框](https://stackoverflow.com/questions/10908132/google-map-v3-allow-only-one-infobox-to-be-displayed-at-a-time)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T07:05:48.057

每次创建标记时都声明一个新的信息框。所以 'ib' 指的是为该标记而不是其他标记创建的信息框。

您需要在 createMarker 函数范围之外设置 infobox 变量。然后在您的事件侦听器中，关闭旧信息框，然后创建一个新信息框。

```
var ib;

function createMarker(<params>) {
     google.maps.event.addListener(marker, "click", function (e) {
        if (typeof ib === 'object') {
            ib.close();
        }
        ib = new Infobox();
        ib.setOptions(myOptions_click);
        ib.open(map, this);
    });
} 
```

如果您需要为每个标记创建一个新的信息框，那么您可以存储一个信息框数组。

```
var ibs = [];

var closeInfoBox = function() {
    for (var i in ibs) {
        ibs[i].close();
    }
}

function createMarker(<params>) {
    var ibIndex = ibs.push(new Infobox()) - 1,
        ib = ibs[ibIndex];

    google.maps.event.addListener(marker, "click", function (e) {
        closeInfoBox();
        ib.setOptions(myOptions_click);
        ib.open(map, this);
    });

} 
```

# php - 自动加载类和模型

> ID：14117928
> 
> 赞同：0
> 
> 时间：2013-01-02T06:45:04.807
> 
> 标签：php, autoloader

我知道在使用 MVC 框架时自动加载控制器是一种常见的做法。我已经制作了自己的迷你框架，控制器可以很好地自动加载。

使用相同的自动加载功能加载模型是否存在任何安全/不良问题？

IE

```
function __autoload($className) { // Autoload both controllers and models.
if(stristr($className, 'Model'))
{
    if (is_readable(Ms . $className . '.php')) {
        include Ms . $className . '.php';
    }
} else {
    if (is_readable(Cs . $className . '.php')) {
        include Cs . $className . '.php';
    }
}
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-02T09:55:39.450

您可以使用命名空间`spl_autoload_register()`来获得这样的自动加载器。没有关于多自动加载器（用于多类类的自动加载器）而不是仅控制器自动加载器的特定安全问题。

我通常使用如下命名空间：

```
$home = new controller\home;
$home->actionIndex();

$users = new model\users;

$post = new view\post; 
```

从那里很容易将`\`类名中的 a 替换为 a`/`以获取文件的特定路径（显然，一如既往地进行所需的安全检查）。

# add - Opencart 在过滤器模块中添加第三级类别

> ID：14117929
> 
> 赞同：0
> 
> 时间：2013-01-02T06:45:04.990
> 
> 标签：add, categories, opencart

我正在使用产品过滤器模块，在我的管理后端，我只能为第一级和第二级类别设置过滤器。我也需要添加第三级类别。下面提到的是我的模块控制器文件，

```
<?php
class ControllerModuleSuperCategoryMenu extends Controller {
    private $error = array(); 

    public function index() {   

        $this->data['current_version']='2.0.7';
        //remove cache files
        $this->cache->delete('product_filters');
        $this->cache->delete('attribute_filters');

        $this->load->language('module/supercategorymenu');

        $this->document->setTitle($this->language->get('heading_title'));

        $this->load->model('setting/setting');

        if (($this->request->server['REQUEST_METHOD'] == 'POST') && $this->validate()) {        

        $this->model_setting_setting->editSetting('supercategorymenu', $this->request->post);       
        $this->session->data['success'] = $this->language->get('text_success');

        $this->redirect($this->url->link('extension/module', 'token=' . $this->session->data['token'], 'SSL'));
        }

        $this->data['heading_title'] = $this->language->get('heading_title');
        $this->data['tab_general'] = $this->language->get('tab_general');
        $this->data['tab_settings'] = $this->language->get('tab_settings');
        $this->data['tab_layouts'] = $this->language->get('tab_layouts');
        $this->data['tab_contact'] = $this->language->get('tab_contact');

        $this->data['entry_all_values']                     = $this->language->get('entry_all_values');
        $this->data['entry_list_number']                    = $this->language->get('entry_list_number');
        $this->data['entry_list_number_explanation']        = $this->language->get('entry_list_number_explanation');
        $this->data['entry_pricerange']                     = $this->language->get('entry_pricerange');
        $this->data['entry_pricerange_explanation']         = $this->language->get('entry_pricerange_explanation');
        $this->data['entry_set_vat']                        = $this->language->get('entry_set_vat');
        $this->data['entry_set_vat_explanation']            = $this->language->get('entry_set_vat_explanation');
        $this->data['default_vat_price_range']              = $this->language->get('default_vat_price_range');
        $this->data['default_vat_price_range_explanation']  = $this->language->get('default_vat_price_range_explanation');
        $this->data['entry_manufacturer']                   = $this->language->get('entry_manufacturer');
        $this->data['entry_manufacturer_explanation']       = $this->language->get('entry_manufacturer_explanation');
        $this->data['text_yes']                             = $this->language->get('text_yes');
        $this->data['text_no']                              = $this->language->get('text_no');
        $this->data['entry_count']                          = $this->language->get('entry_count');
        $this->data['entry_count_explanation']              = $this->language->get('entry_count_explanation');
        $this->data['entry_ocscroll']                       = $this->language->get('entry_ocscroll');
        $this->data['entry_ocscroll_explanation']           = $this->language->get('entry_ocscroll_explanation');
        $this->data['entry_nofollow']                       = $this->language->get('entry_nofollow');
        $this->data['entry_nofollow_explanation']           = $this->language->get('entry_nofollow_explanation');
        $this->data['entry_track_google']                   = $this->language->get('entry_track_google');
        $this->data['entry_track_google_explanation']       = $this->language->get('entry_track_google_explanation');
        $this->data['entry_ajax']                           = $this->language->get('entry_ajax');
        $this->data['entry_ajax_explanation']               = $this->language->get('entry_ajax_explanation');
        $this->data['entry_order']                          = $this->language->get('entry_order');
        $this->data['entry_order_explanation']              = $this->language->get('entry_order_explanation');

        $this->data['text_enabled'] = $this->language->get('text_enabled');
        $this->data['text_disabled'] = $this->language->get('text_disabled');
        $this->data['text_content_top'] = $this->language->get('text_content_top');
        $this->data['text_content_bottom'] = $this->language->get('text_content_bottom');       
        $this->data['text_column_left'] = $this->language->get('text_column_left');
        $this->data['text_column_right'] = $this->language->get('text_column_right');

        $this->data['entry_layout'] = $this->language->get('entry_layout');
        $this->data['entry_position'] = $this->language->get('entry_position');
        $this->data['entry_status'] = $this->language->get('entry_status');
        $this->data['entry_sort_order'] = $this->language->get('entry_sort_order');

        $this->data['entry_value'] = $this->language->get('entry_value');
        $this->data['entry_separator'] = $this->language->get('entry_separator');
        $this->data['entry_examples'] = $this->language->get('entry_examples');
        $this->data['entry_separator_explanation'] = $this->language->get('entry_separator_explanation');
        $this->data['entry_values_explanation'] = $this->language->get('entry_values_explanation');
        $this->data['text_none'] = $this->language->get('text_none');

        $this->data['button_save'] = $this->language->get('button_save');
        $this->data['button_cancel'] = $this->language->get('button_cancel');
        $this->data['button_add_module'] = $this->language->get('button_add_module');
        $this->data['button_remove'] = $this->language->get('button_remove');

        if (isset($this->error['warning'])) {
            $this->data['error_warning'] = $this->error['warning'];
        } else {
            $this->data['error_warning'] = '';
        }

        $this->data['breadcrumbs'] = array();

        $this->data['breadcrumbs'][] = array(
            'text'      => $this->language->get('text_home'),
            'href'      => $this->url->link('common/home', 'token=' . $this->session->data['token'], 'SSL'),
            'separator' => false
        );

        $this->data['breadcrumbs'][] = array(
            'text'      => $this->language->get('text_module'),
            'href'      => $this->url->link('extension/module', 'token=' . $this->session->data['token'], 'SSL'),
            'separator' => ' :: '
        );

        $this->data['breadcrumbs'][] = array(
            'text'      => $this->language->get('heading_title'),
            'href'      => $this->url->link('module/supercategorymenu', 'token=' . $this->session->data['token'], 'SSL'),
            'separator' => ' :: '
        );

        $this->data['action'] = $this->url->link('module/supercategorymenu', 'token=' . $this->session->data['token'], 'SSL');
        $this->data['cancel'] = $this->url->link('extension/module', 'token=' . $this->session->data['token'], 'SSL');
        $this->data['settings'] = $this->url->link('module/supercategorymenu/settings', 'token=' . $this->session->data['token'], 'SSL');

        $this->data['modules'] = array();

        if (isset($this->request->post['supercategorymenu_module'])) {
            $this->data['modules'] = $this->request->post['supercategorymenu_module'];
        } elseif ($this->config->get('supercategorymenu_module')) { 
            $this->data['modules'] = $this->config->get('supercategorymenu_module');
        }   

        $this->data['settings'] = array();

        if (isset($this->request->post['supercategorymenu_settings'])) {
            $this->data['settings'] = $this->request->post['supercategorymenu_settings'];
        } elseif ($this->config->get('supercategorymenu_settings')) { 
            $this->data['settings'] = $this->config->get('supercategorymenu_settings');
        }           

        if (isset($this->data['settings']['track_google'])){
            $this->data['settings_trackgoogle']=$this->data['settings']['track_google'];

        }else{
            $this->data['settings_trackgoogle']=0;
        }

        if (isset($this->data['settings']['list_number'])){
            $this->data['settings_listnumber']=$this->data['settings']['list_number'];

        }else{
            $this->data['settings_listnumber']=7;
        }

        if (isset($this->data['settings']['nofollow'])){
            $this->data['settings_nofollow']=$this->data['settings']['nofollow'];

        }else{
            $this->data['settings_nofollow']=1;
        }

        if (isset($this->data['settings']['ajax'])){
            $this->data['settings_ajax']=$this->data['settings']['ajax'];

        }else{
            $this->data['settings_ajax']=0;
        }
        if (isset($this->data['settings']['order'])){
            $this->data['settings_order']=$this->data['settings']['order'];

        }else{
            $this->data['settings_order']="OH";
        }

        if (isset($this->data['settings']['ocscroll'])){
            $this->data['settings_ocscroll']=$this->data['settings']['ocscroll'];

        }else{
            $this->data['settings_ocscroll']=0;
        }

        if (isset($this->data['settings']['countp'])){
            $this->data['settings_countp']=$this->data['settings']['countp'];

        }else{
            $this->data['settings_countp']=1;
        }

        if (isset($this->data['settings']['pricerange'])){
            $this->data['settings_pricerange']=$this->data['settings']['pricerange'];

        }else{
            $this->data['settings_pricerange']=1;
        }

        if (isset($this->data['settings']['setvat'])){
            $this->data['settings_setvat']=$this->data['settings']['setvat'];

        }else{
            $this->data['settings_setvat']=1;
        }
        if (isset($this->data['settings']['manufacturer'])){
            $this->data['settings_manufacturer']=$this->data['settings']['manufacturer'];

        }else{
            $this->data['settings_manufacturer']=1;
        }
        if (isset($this->data['settings']['tax_class_id'])){
            $this->data['tax_class_id']=$this->data['settings']['tax_class_id'];

        }else{
            $this->data['tax_class_id']="";
        }

        $this->load->model('localisation/tax_class');

        $this->data['tax_classes'] = $this->model_localisation_tax_class->getTaxClasses();

        $this->load->model('module/supercategorymenu');

        $this->data['categories'] = array();

        $categories = $this->model_module_supercategorymenu->getCategories(0);

        foreach ($categories as $category) {

            if (isset($this->request->post['VALORES_'.$category['category_id'].''])) {
                $this->data['category_attributes'][$category['category_id']]= $this->request->post['VALORES_'.$category['category_id'].''];
            } else {
                $this->data['category_attributes'][$category['category_id']] = $this->config->get('VALORES_'.$category['category_id'].'');
            }   

            $children_data = array();

            $children = $this->model_module_supercategorymenu->getCategories($category['category_id']);

            foreach ($children as $child) {

            if (isset($this->request->post['VALORES_'.$child['category_id'].''])) {
                $this->data['category_attributes'][$child['category_id']]= $this->request->post['VALORES_'.$child['category_id'].''];
            } else {
                $this->data['category_attributes'][$child['category_id']] = $this->config->get('VALORES_'.$child['category_id'].'');
            }   

            $results = $this->model_module_supercategorymenu->getCategoryAttributes($child['category_id']);                 

            $attribute_data = array();

            foreach ($results as $result) {

                        if (isset($this->data['category_attributes'][$child['category_id']]['attributes'][$result['attribute_id']])){
                            $attribute_checked=true;
                            $attribute_seperator=$this->data['category_attributes'][$child['category_id']]['attributes'][$result['attribute_id']]['separator']; 
                        }else{
                            $attribute_checked=false;
                            $attribute_seperator="no";
                        }

                $attribute_values=array();
                $attribute_values = $this->model_module_supercategorymenu->getAttributeValues($result['attribute_id']); 

                //foreach ($res as $attribute_value){
                    //$attribute_values[key($res)]=$attribute_value;

                //}

                $attribute_data[] = array(
                        'attribute_id'  => $result['attribute_id'],
                        'name'          => $result['name'],
                        'checked'       => $attribute_checked,
                        'separator'     => $attribute_seperator,
                        'attribute_values'=> $attribute_values
                    );                  

                }

                $children_data[] = array(
                    'category_id' => $child['category_id'],
                    'name'        => $child['name'],
                    'attributes'  => $attribute_data
                );                  
            }

            $results = $this->model_module_supercategorymenu->getCategoryAttributes($category['category_id']);  
            $attribute_data = array();

                foreach ($results as $result) {

                        if (isset($this->data['category_attributes'][$category['category_id']]['attributes'][$result['attribute_id']])){
                            $attribute_checked=true;
                            $attribute_seperator=$this->data['category_attributes'][$category['category_id']]['attributes'][$result['attribute_id']]['separator'];  
                        }else{
                            $attribute_checked=false;
                            $attribute_seperator="no";
                        }
                $attribute_values_child=array();
                $attribute_values_child = $this->model_module_supercategorymenu->getAttributeValues($result['attribute_id']);   

                //foreach ($res_child as $attribute_value_child){
                    //$attribute_values_child[key($res)]=$attribute_value_child;

                //}

                $attribute_data[] = array(
                        'attribute_id'  => $result['attribute_id'],
                        'name'          => $result['name'],
                        'checked'       => $attribute_checked,
                        'separator'     => $attribute_seperator,
                        'attribute_values'=> $attribute_values_child
                    );                  

                }

            $this->data['categories'][] = array(
                'category_id' => $category['category_id'],
                'name'        => $category['name'],
                'children'    => $children_data,
                'attributes'  => $attribute_data,
                //'valores_bd'  => $this->data['category_attributes'][$category['category_id']]

            );
        }

        $this->load->model('setting/extension');

        if(in_array("ocscroll",$this->model_setting_extension->getInstalled('module'))){
            $this->data['ocscroll']=true;
        }else{
           $this->data['ocscroll']=false;
        }

            $ch = curl_init();
             // Now set some options (most are optional)
             // Set URL to download
             curl_setopt($ch, CURLOPT_URL,"http://opencart.tictachome.com/version/version.xml");
            // Include header in result? (0 = yes, 1 = no)
             curl_setopt($ch, CURLOPT_HEADER, 0);
            // Should cURL return or print out the data? (true = return, false = print)
             curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
            // Timeout in seconds
             curl_setopt($ch, CURLOPT_TIMEOUT, 10);
            // Download the given URL, and return output
            $output = curl_exec($ch);
            // Close the cURL resource, and free system resources
            curl_close($ch);
            $analizador=simplexml_load_string($output,null);

            $this->data['version']['version']=$analizador->children()->version;
            $this->data['version']['whats_new']=$analizador->children()->whats_new;

        foreach($analizador->children()->other_modules as $other_modules){

            $this->data['version']['modules'][]=array(

                    'name'      =>$other_modules->name,
                    'version'   =>$other_modules->version,
                    'url'       =>$other_modules->url,
                    'manual'    =>$other_modules->manual,
                    'price'     =>$other_modules->price,
                    'resume'    =>$other_modules->resume,
                );

            }

        $this->load->model('localisation/language');

        $this->data['languages'] = $this->model_localisation_language->getLanguages();

        $this->load->model('design/layout');

        $this->data['layouts'] = $this->model_design_layout->getLayouts();

        $this->template = 'module/supercategorymenu.tpl';
        $this->children = array(
            'common/header',
            'common/footer'
        );

        $this->response->setOutput($this->render());
    }

    private function validate() {
        if (!$this->user->hasPermission('modify', 'module/supercategorymenu')) {
            $this->error['warning'] = $this->language->get('error_permission');
        }

        if (!$this->error) {
            return true;
        } else {
            return false;
        }   
    }
}
?> 
```

有没有人知道如何添加第三级类别呢..

请分享您的建议。

谢谢，

# javascript - HTML5 拖放上传在 IE 10 以下版本上不起作用

> ID：14117937
> 
> 赞同：0
> 
> 时间：2013-01-02T06:46:19.003
> 
> 标签：javascript, jquery, html

我正在使用上传[http://html5demos.com/dnd-upload](http://html5demos.com/dnd-upload)的 HTML5 DND 文件，但它在 IE 10 以下版本中不起作用

IE浏览器中的网页错误详情

```
User Agent: Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 5.1; Trident/4.0; BTRS124829; .NET CLR 2.0.50727; .NET CLR 3.0.04506.648; .NET CLR 3.5.21022; .NET CLR 3.0.4506.2152; .NET CLR 3.5.30729; .NET CLR 1.1.4322; .NET4.0C)
Timestamp: Wed, 2 Jan 2013 06:17:02 UTC

Message: Object doesn't support this property or method
Line: 57
Char: 1
Code: 0
URI: http://html5demos.com/dnd-upload 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-02T07:16:20.263

根据之前的答案，它不仅仅是关于`FileReader`. IE10以下的版本无法**完美**
使用拖放。连IE9都有问题，还是IE8吧。

 **浏览器也应该支持 DnD API

检查此链接到另一个答案 - [**Internet Explorer 9 Drag and Drop (DnD)**](https://stackoverflow.com/questions/5500615/internet-explorer-9-drag-and-drop-dnd)

检查我的应用程序，该应用程序允许将图像文件从您的操作系统拖放到浏览器中：
[**HTML-5-DD**](http://omshankar.kodingen.com/exp/backbone-html5-dd/) - BackboneJS

它有 2 个部分：
1\. HTML5 拖放，允许从操作系统拖放到浏览器
2.`FileReader`帮助将图像文件读取为 DataURI 并附加图像的 API

如果您的浏览器不支持拖放，您将无法以`JavaScript`.

结论：`FileReader`不是 IE 需要支持您的场景的主要功能，它也是重要的**拖放**

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-02T06:53:12.633

这是因为版本低于 10 的 IE 不支持的`HTML5`用途。`File API & FileReader API`

[在此处](http://caniuse.com/filereader)查看兼容性列表

希望这可以帮助。**

# android - 如何在 android cocos2d 中设置进程计时器的类型

> ID：14117942
> 
> 赞同：0
> 
> 时间：2013-01-02T06:47:01.690
> 
> 标签：android, android-emulator

嗨，我在这里使用 cocos2d 做一个应用程序，我需要显示设置进度计时器。我使用下面的代码设置，但我没有得到正确的解决方案。

```
public class HelloWorldLayer extends CCColorLayer {
    static HelloWorldLayer layer;
      CGSize winSize;
     CCSprite home,target;
    protected HelloWorldLayer(ccColor4B color) {
    super(color);
    // TODO Auto-generated constructor stub
    winSize = CCDirector.sharedDirector().displaySize();
    this.setIsTouchEnabled(true);

  CCSprite progressBorder=CCSprite.sprite("BorderImage.png");
           progressBorder.setPosition(CGPoint.ccp(20, winSize.height - 50.5f));
           this.addChild(progressBorder);
           powerBar=CCProgressTimer.progress("Health.png");
           powerBar.setType(0);
           powerBar.setAnchorPoint(CGPoint.ccp(0, 0));
           powerBar.setPercentage(90);
           progressBorder.addChild(powerBar);
           this.schedule("gameLogic2", 1);

}

public static CCScene scene() {
    // TODO Auto-generated method stub
    //Creates scene  
    CCScene scene = CCScene.node();

    layer = new HelloWorldLayer(ccColor4B.ccc4(225, 225,225, 225));

    //adds layer to scene
    scene.addChild(layer);

    return scene;
}

          public void gameLogic2(float dt)
       {

       float sss=powerBar.getPercentage();

        sss +=1;
        powerBar.setPercentage(sss);
   } 
```

在上面的代码中，当 powerbarpercentage 100 时，只有 helth 图像显示其他明智的 helth 图像。这里我无法设置计时器类型，我认为这是问题，如果有人知道我的问题，请解决这个问题......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-11-21T08:16:27.517

您只是错过了代码中的 powerBar 类型。

更改代码

```
CCSprite progressBorder=CCSprite.sprite("BorderImage.png");
           progressBorder.setPosition(CGPoint.ccp(20, winSize.height - 50.5f));
           this.addChild(progressBorder);
           powerBar=CCProgressTimer.progress("Health.png");
           progressBar.setType(CCProgressTimer.kCCProgressTimerTypeVerticalBarBT);
           powerBar.setAnchorPoint(CGPoint.ccp(0, 0));
           powerBar.setPercentage(90);
           progressBorder.addChild(powerBar);
           this.schedule("gameLogic2", 1);

} 
```

谢谢

# python - 我的系统上有太多不同的 Python 版本并导致问题

> ID：14117945
> 
> 赞同：67
> 
> 时间：2013-01-02T06:47:39.597
> 
> 标签：python, macos, path, installation, uninstallation

在过去的几年里，我已经安装了许多 Python 库和不同的 Python 版本。为了让它们立即准备好工作，我盲目地安装它们，不受控制。目前，当我尝试安装调用 numpy、scipy 和 matplotlib 的[pynest](http://nest-initiative.org/index.php/Software%3aDocumentation)时，它们会导致问题。经过努力，我将清理并重新安装 Python 和库。

经过调查，我在我的系统上发现了 Python 2.5/2.6/2.7/3.2，并且它们每个都有一些副本或其他东西：（我的 OS == **Mac OS X 10.7.5 Lion**）

*   `/Library/Frameworks/`
*   `/opt/local/Library/Frameworks/`
*   `/opt/local/bin/`
*   `/Applications/`
*   `/usr/local/bin/`
*   `/usr/bin/`
*   `/System/Library/Frameworks/`

我知道拥有这些我很疯狂。现在我已经删除了所有这些，除了里面的东西`/System/Libarary/Frameworks`（我从不删除任何东西`/System/Library/`）。清理工作后，`which python`现在给出`/usr/bin/python`指向`/System/Library/Frameworks`.

现在，我重新安装python是否是一个清晰的环境？如何仔细检查是否存在其他版本？我应该如何重新安装它们以保证它们和它们的库不会无处不在并且不会再有很多副本？

我想将一个干净的 Python 2.7 安装到适当的位置，并让我的系统确切地知道它在哪里，并且永远不要在其他地方安装任何库。请给我一些建议，告诉我如何以专业的方式管理它。

供您参考，这是我当前的`$PATH`，我认为应该对其进行修改：

```
/opt/local/bin:/opt/local/sbin:/opt/nest/lib/python2.7/site-packages:/usr/local/lib/python2.7/site-packages:/Library/Frameworks/Python.framework/Versions/2.7/bin:/usr/texbin:/Library/Frameworks/Python.framework/Versions/3.2/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/usr/texbin:/Library/Frameworks/Python.framework/Versions/3.2/lib/python3.2/site-packages/django/bin:/usr/X11/bin:/opt/local/bin:/opt/local/sbin:/usr/local/lib/python2.7/site-packages:/Library/Frameworks/Python.framework/Versions/2.7/bin:/Library/Frameworks/Python.framework/Versions/3.2/bin 
```

如果您需要更多信息，请告诉我。谢谢！

* * *

**更新**：

我正在深刻地反思为什么它变得如此疯狂。我相信这是因为我通过以下方式安装了东西：

*   `easy_install`////有时；`macports`_ `homebrew`_`fink``pip`
*   `.dmg`有时;
*   `.pkg`有时;
*   有时编译源代码；

他们在不同的地方制造东西。我想知道这些方式背后的机制是什么？他们如何选择目标位置？如何防止他们把事情搞砸？

* * *

## 回答 #1

> 赞同：37
> 
> 时间：2013-01-05T16:51:00.543

## **为什么搞砸了？**

正如 OP 的更新所说，有几种不同的方式来安装 Python，它们将文件定位在不同的位置。例如，`macports`将事物放入`/opt/local/`，而`homebrew`将事物放入`/usr/local/`。此外，Mac OS X 自带了一些 python 版本。因此，如果您通过不同的方式多次安装 python，您将**获得许多独立存在于系统上的 python 版本**。

## **它会导致什么问题？**

我不确切知道。我想问题是如果你有很多版本的python，那么使用哪一个以及在哪里可以找到包将分别由系统中的路径顺序`PATH`决定`PYTHONPATH`。因此，您可能无法控制安装 python 模块的位置。考虑一下，如果你运行`sudo python setup.py install`安装一个模块（它通过 root 找到 python `PATH`）然后尝试`import`通过模块`python -c "import it"`（这次它通过 your 找到 python `PATH`），可能会出现问题。这是我的猜测，我没有验证它。但就我自己而言，确实出了点问题。

## **如何避免这种情况？**

我认为原则是**要意识到不同的方式和工具将东西独立安装到不同的位置，因此请谨慎使用它们**。

*   除非您打算这样做，否则不要通过不同的方式两次安装相同的东西。（如果你打算为 python 做，你可能想看看`virtualenv`）
*   密切注意您的路径顺序，`PATH`并考虑它是否正确。
*   安装模块时，要清楚运行的是哪个 python（或 pip）以及模块的安装位置。

## **那么，我是如何解决我自己的案子的呢？**

由于它已经搞砸了并且似乎很难治愈，所以最后我通过**重新安装完整的操作系统**解决了这个问题，并开始遵循上面的*DOs-and-DONTs*。对于使用 python 安装科学环境（numpy/scipy/matplotlib，它已经显示问题让我问这个问题），我发现[这个教程](http://www.thisisthegreenroom.com/2011/installing-python-numpy-scipy-matplotlib-and-ipython-on-lion/#ipython)非常有帮助。所以，问题终于解决了。

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2017-06-24T01:31:32.763

这是让我感到困惑的事情以及我如何解决它。

```
$ which python
/usr/bin/python 

$ which python3
/usr/local/bin/python3

$ ls /usr/local/bin/python
ls: /usr/local/bin/python: No such file or directory 
```

所以请注意，我没有安装 python2.7 的 HomeBrew，但安装了 python3。/usr/bin/python 下的版本是使用系统默认的。您可以根据模块搜索路径来判断：

```
$ /usr/bin/python
Python 2.7.10 (default, Feb  7 2017, 00:08:15) 
[GCC 4.2.1 Compatible Apple LLVM 8.0.0 (clang-800.0.34)] on darwin
`enter code here`Type "help", "copyright", "credits" or "license" for 
more information.
>>> import sys
>>> sys.path
['', '/Library/Python/2.7/... 
```

注意'/Library/Python'...这是Mac OS 的python 版本。但我想严格遵守用户安装的版本（即 HomeBrew）。

所以这就是我为解决这个问题所做的：

```
$ brew install python
...
Warning: python 2.7.13 is already installed, it's just not linked.
You can use `brew link python` to link this version.

$ brew link --overwrite python

$ which python
/usr/local/bin/python

$ python
Python 2.7.10 (default, Feb  7 2017, 00:08:15) 
[GCC 4.2.1 Compatible Apple LLVM 8.0.0 (clang-800.0.34)] on darwin
Type "help", "copyright", "credits" or "license" for more information.
>>> import sys
>>> sys.path
['', '/usr/local/Cellar/python/2.7.13... 
```

它不再是 /Library/.. 而是 /usr/local。

现在它找到了我所有的 pip 安装模块！问题解决了！

* * *

**更新：**

将 brew 更新到 1.5.4 版后，似乎删除了符号链接。现在您必须将其添加到您的路径中：

```
export PATH="/usr/local/opt/python/libexec/bin:$PATH" 
```

阅读“brew info python”中的注意事项部分：

```
==> Caveats
This formula installs a python2 executable to /usr/local/bin.
If you wish to have this formula's python executable in your PATH then add
the following to ~/.bash_profile:
  export PATH="/usr/local/opt/python/libexec/bin:$PATH"

Pip and setuptools have been installed. To update them
  pip2 install --upgrade pip setuptools

You can install Python packages with
  pip2 install <package>

They will install into the site-package directory
  /usr/local/lib/python2.7/site-packages

See: https://docs.brew.sh/Homebrew-and-Python.html 
```

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2013-01-02T08:13:51.997

为了将 python 发行版安装到特定文件夹中，您可以`--prefix`在 python 安装期间使用该方案。例如，使用[前缀方案](http://docs.python.org/2/install/index.html#alternate-installation-unix-the-prefix-scheme)，您可以将 Python 2.7 安装到文件夹`/opt/py27`中。现在，为了使用新安装的 Python 发行版，您必须：**清理****PATH**和**LD_LIBRARY_PATH**：

*   删除所有“旧”Python 路径和
*   配置（根据我的示例）这样的环境变量：
    *   路径：添加 /opt/py27/bin
    *   LD_LIBRARY_PATH：添加 /opt/py27/lib

就是这样。

*（如果您需要同时安装多个 Python 环境，我建议您查看[virtualenv](http://www.virtualenv.org)）*

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2017-12-08T22:23:56.197

这是管理不同 python 版本的另一个很好的解决方案：

[https://github.com/pyenv/pyenv](https://github.com/pyenv/pyenv)

（我已经在这里提供了答案，但决定将此作为附加或替代答案发布）

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2020-12-12T14:43:29.500

**tl;博士**
`brew install python`

**症状** 我有类似的问题，python 程序没有找到依赖项。
我的 python3 版本是一个损坏的符号链接。
我的 pip 指向 python 3.8
而我的 pip3 指向 3.9
python -V 正在输出一些 python 2.7 版本
python3 -V 正在输出一些 python3.8 版本

**解决方案**
我跑了`brew install python`，它解决了我所有的问题。

# java - 替换最低有效位

> ID：14117946
> 
> 赞同：-2
> 
> 时间：2013-01-02T06:47:48.477
> 
> 标签：java, binary

我想用给定的数组替换最低有效位...

第一个输入

```
01001100
00001000
10101010
01010100
11110110 
```

第二输入

```
0
1
1
1
0 
```

输出

```
01001100
00001001
10101011
01010101
11110110 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T07:09:10.253

试试这个（使用java 7）

```
 int [] i = {0b01001100,
           0b00001000,
           0b10101010,
           0b01010100,
           0b11110110 };
   int [] j = {0b0,
           0b1,
           0b1,
           0b1,
           0b0 };

   for (int k = 0; k < i.length ; ++k){
       i[k] = (i[k] >> 1) << 1;  // this sets the last bit to zero
       i[k] = i[k] | j[k];       // Now you can OR to get replace with the proper value 
   }

   for(int k : i)
       System.out.printf("%8s\n",Integer.toBinaryString(k));
   System.out.println("----------"); 
```

# c# - 无法使用 Ranorex 自动化检查 Silverlight Web 应用程序上的复选框

> ID：14117947
> 
> 赞同：0
> 
> 时间：2013-01-02T06:47:53.640
> 
> 标签：c#, silverlight, ranorex

我正在创建一个`Ranorex Checkbox`对象，然后使用`Ranorexpath`. 但我无法使用该`CheckBox.Check()`事件检查此复选框。在 UI 上，复选框上会出现一个勾号，但实际上该复选框仍未选中，因此预期的消息不会出现在屏幕上并且测试失败。请让我知道我做错了什么。代码截取如下：

```
 if(value=="99283" || value =="99281")
                {
                    Ranorex.CheckBox EMlevelReason="/dom[@domain='"+domain+"']//object[#'slApp']/form/form[1]/form/list[@automationid='lstOuter']/listitem[4]/list/listitem[4]/checkbox[@name='Single xray']";                      
                    EMlevelReason.Focus();                     
                    if(EMlevelReason.Checked!=true)
                    {
                        EMlevelReason.Focus();
                        EMlevelReason.Check();  // doesn't work. the checkbox appears checked on the UI but actually remains unchecked                  
                    }
                } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T13:27:19.827

为什么你认为它没有被检查，即使它显示为已检查？听起来好像在选中复选框时通常会执行脚本，如果是这样，您可以尝试以下代码：

```
Mouse.Click(EMlevelReason); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-05T09:42:51.180

我们能够为此开发一种解决方法。我们在上面的代码中使用了`click()`事件而不是`check()` ie，我们刚刚替换`EMlevelReason.Check()`为`EMlevelReason.Click()` 不知道为什么，但它现在可以工作了 :)

# android - 使用 Easytracker 在谷歌分析中未捕获的异常

> ID：14117952
> 
> 赞同：5
> 
> 时间：2013-01-02T06:48:42.623
> 
> 标签：android, google-analytics, easytracker

**我在每个活动中都使用这个：**

```
@Override
public void onStart() {
    super.onStart();
    EasyTracker.getInstance().activityStart(this);
}

@Override
public void onStop() {
    super.onStop();
    EasyTracker.getInstance().activityStop(this);
} 
```

并通过这个[文档](https://developers.google.com/analytics/devguides/collection/android/v2/exceptions)

**我发现：**

使用 EasyTracker
要使用 EasyTracker 自动跟踪应用程序中所有未捕获的异常，请将此行添加到您的 analytics.xml 文件中：

```
<bool name="ga_reportUncaughtExceptions">true</bool> 
```

使用自动异常跟踪跟踪异常后，EasyTracker 会将异常传递给 Thread 的默认异常处理程序。

**使用自动异常跟踪时，请记住以下几点：**

1.  通过自动异常跟踪跟踪的所有异常都会在 Google Analytics 中报告为致命异常。
2.  使用堆栈跟踪自动填充描述字段。

但是当我收到 UncaughtException 并且应用程序崩溃时，在 Google Analytics 描述中，它只显示：

```
An error occured while executing doInBackground() 
```

不是上述几点中提到的堆栈跟踪。有什么需要补充的吗？？

谢谢你

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-24T19:29:15.700

[我使用一个名为ACRA](http://acra.ch/)的开源工具来报告未捕获的异常。它提供比 Google Analytics 或 Flurry 更多的信息，并将报告提交到 Google Doc，您可以在其中收到每个添加报告的电子邮件通知。

其余的我使用谷歌分析。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2014-02-05T19:08:58.920

您应该使用自定义异常解析器来获取整个堆栈跟踪

```
import org.apache.commons.lang3.exception.ExceptionUtils;
import com.google.analytics.tracking.android.ExceptionParser;

public class AnalyticsExceptionParser implements ExceptionParser {

public String getDescription(String p_thread, Throwable p_throwable) {
    return "Thread: " + p_thread + ", Exception: " +     ExceptionUtils.getStackTrace(p_throwable);
}
} 
```

并在您的活动中将此设置为默认值，例如

```
public void setupGoogleAnalyticsCrashReportParser() {

    EasyTracker.getInstance().setContext(this);

    Thread.UncaughtExceptionHandler uncaughtExceptionHandler = Thread.getDefaultUncaughtExceptionHandler();
    if (uncaughtExceptionHandler instanceof ExceptionReporter) {
        ExceptionReporter exceptionReporter = (ExceptionReporter) uncaughtExceptionHandler;
        exceptionReporter.setExceptionParser(new AnalyticsExceptionParser());
    }
} 
```

希望这对某人有所帮助。

# java - 使用hibernate 4和spring 3.x批量插入记录

> ID：14117956
> 
> 赞同：0
> 
> 时间：2013-01-02T06:48:59.010
> 
> 标签：java, spring, hibernate

爪哇代码：

```
EntityManager em1 = entityService.getEntityManager();
Query qury1 = em1.createNamedQuery(Constants.UNPROCESSED_CONTACTS);
List<Contact> contacts =  entityService.findByNamedQuery(qury1); 
```

我在这里有所有联系人的列表，我想以 100 个批量添加所有联系人。我使用的是休眠 4 和弹簧 3.1，我的 applicationContext 是

```
 <bean id="sessionFactory" class="org.springframework.orm.hibernate4.LocalSessionFactoryBean">
    <property name="dataSource" ref="dataSource" />
 </bean>

<bean class="org.springframework.orm.jpa.JpaTransactionManager"
    id="transactionManager">
    <property name="entityManagerFactory" ref="entityManagerFactory" />
</bean>
<tx:annotation-driven transaction-manager="transactionManager" /> 
```

我该如何进一步进行。谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T07:00:25.487

JPA 本身不提供批量插入功能，但 hibernate 提供。我看到你已经有一个`sessionFactory`豆子了。因此，您可以按照[hibernate docs](http://docs.jboss.org/hibernate/core/3.3/reference/en/html/batch.html)中的示例进行操作：

```
Session session = sessionFactory.openSession();
Transaction tx = session.beginTransaction();

ScrollableResults customers = session.getNamedQuery("GetCustomers")
    .setCacheMode(CacheMode.IGNORE)
    .scroll(ScrollMode.FORWARD_ONLY);
int count=0;
while ( customers.next() ) {
    Customer customer = (Customer) customers.get(0);
    customer.updateStuff(...);
    if ( ++count % 20 == 0 ) {
        //flush a batch of updates and release memory:
        session.flush();
        session.clear();
    }
}

tx.commit();
session.close(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-12-15T11:14:33.490

参考：[https ://docs.jboss.org/hibernate/orm/3.3/reference/en/html/batch.html](https://docs.jboss.org/hibernate/orm/3.3/reference/en/html/batch.html)

**对于批量插入：**

```
Session session = sessionFactory.openSession();
Transaction tx = session.beginTransaction();

for ( int i=0; i<100000; i++ ) {
    Customer customer = new Customer(.....);
    session.save(customer);
    if ( i % 20 == 0 ) { //20, same as the JDBC batch size
        //flush a batch of inserts and release memory:
         session.flush();
       session.clear();
   }
}

tx.commit();
session.close(); 
```

**在休眠 XML 配置中：**

```
<entry key="hibernate.jdbc.batch_size">50</entry> 
```

一起做这些事情你可以插入比以前的类型快得多。

# iphone - 如何解决在 NSObject 类中全局声明并在其他地方使用的字符串的内存泄漏问题

> ID：14117957
> 
> 赞同：0
> 
> 时间：2013-01-02T06:48:59.003
> 
> 标签：iphone, objective-c, memory-leaks, instruments

在我的 iPhone 应用程序中，我有一个`NSObject`类“联系人”，其中我有一个这样的字符串

```
@interface Contact : NSObject

@property (nonatomic, retain) NSString *name; 
```

* * *

```
@implementation Contact

@synthesize name; 
```

我在其他一些类（在Sqlite方法中）中使用了这个名称字符串，如下所示

```
 Contact *contact = [[[Contact alloc] init] autorelease];

   contact.name = [NSString stringWithUTF8String:(const char*) sqlite3_column_text(statement, 1)]; 
```

当我使用仪器跑步时，我有一些内存警告

```
contact.name = [NSString stringWithUTF8String:(const char*) sqlite3_column_text(statement, 1)]; 
```

我有很多这样的泄漏..如何解决这个问题..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T10:50:26.103

我看不出您显示的代码有任何问题，*除非*您没有在您的类中正确实现该`dealloc`方法。`Contact`

它应该是这样的（Contact.m）：

```
-(void) dealloc {
   [name release];
   [super dealloc];
} 
```

我不知道你的评论是什么意思

> 是的，我在卸载时使用它来释放它们

如果您所做的只是`Contact`在视图控制器的`viewDidUnload`方法中释放对象，那还不够。

但是，我会借此机会说[ARC 已经有一段时间了](http://developer.apple.com/library/ios/#releasenotes/ObjectiveC/RN-TransitioningToARC/Introduction/Introduction.html)，几乎所有不是专家（以及大多数专家）的*人都应该*使用 ARC，而不是像这样的手动内存管理。

它确实节省了大量这些耗时的调试练习，如果你的问题*是*这个`dealloc`问题，那么 ARC 会为你解决这个问题。

# javascript - 这段代码在Javascript中的含义是什么

> ID：14117958
> 
> 赞同：0
> 
> 时间：2013-01-02T06:49:01.893
> 
> 标签：javascript

我是 Javascript 的新手，我很难正确理解这段代码的含义。我想分享我对代码的想法，我需要你的指导才能正确理解它。

```
<body>
  <form>
    <input type="button" value="Click Me!" id="say_hi" />
  </form>
  <script type="text/javascript" src="js_event_01.js"></script>
</body>

function hi_and_bye() {
  window.alert('Hi!');
  window.alert('Bye!');
 }
var hi_button = document.getElementById("say_hi");
hi_button.onclick = hi_and_bye; 
```

我的理解：当ID为“get_alerts”时，事件“onclick”调用函数“hi_and_bye”。同样，这可以应用于任何事件，并且我可以为任何元素赋予 id 属性，并且该 id 将负责创建可访问的相应输入元素。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T06:56:56.347

你的理解是正确的。你可以给`id`任何 DOM 元素，而不仅仅是输入。然后使用`getElementById`您可以检索对此元素的引用。

在此示例中，这就是您正在执行的操作：

```
// Get a reference to a DOM element that has id="say_hi"
var hi_button = document.getElementById("say_hi");

// subscribe to the onclick event handler of the DOM element we retrieved on  
// the previous line and attach this handler to the hi_and_bye javascript function
hi_button.onclick = hi_and_bye; 
```

我不认为函数体本身需要更多解释：当这个函数执行时，它只会一个接一个地显示 2 个警报。

# mysql - 使用反连接的 SQL 查询

> ID：14117961
> 
> 赞同：0
> 
> 时间：2013-01-02T06:49:26.383
> 
> 标签：mysql, sql, select

我正在定义“匹配”以供稍后在某些 php 中使用，因此我在选择中定义了它。我似乎无法让这个查询工作......我得到一个解析错误。有任何想法吗？

```
SELECT 
    aif_id, 
    fee_source_id, 
    company_name_per_sedar, 
    document_filing_date, 
    NVL a_aif_remaining.aif_id, 0, 1 match
FROM a_aif, a_aif_remaining
LEFT JOIN a_aif_remaining ON a_aif_remaining.aif_id = a_aif.aif_id
ORDER BY aif_id DESC; 
```

这也不起作用：

```
SELECT 
    aif_id, 
    fee_source_id, 
    company_name_per_sedar, 
    document_filing_date, 
    CASE IF a_aif_remaining.aif_id  THEN 0 ELSE 1 match
FROM a_aif, a_aif_remaining
LEFT JOIN a_aif_remaining ON a_aif_remaining.aif_id = a_aif.aif_id
ORDER BY aif_id DESC; 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-02T06:51:29.437

您收到该错误的原因是因为`MATCH`是保留字。你应该用反引号来逃避它。以下是保留字列表

*   [MySQL 保留关键字](http://dev.mysql.com/doc/refman/5.5/en/reserved-words.html)

试试这个，应该是`CASE WHEN...`

```
SELECT aif_id, 
       fee_source_id, 
       company_name_per_sedar, 
       document_filing_date, 
       CASE 
            WHEN a_aif_remaining.aif_id  IS NULL -- you should have condition on this line
            THEN 0 
            ELSE 1 
       END `match`
FROM   a_aif
       LEFT JOIN a_aif_remaining 
          ON a_aif_remaining.aif_id = a_aif.aif_id
ORDER BY aif_id DESC; 
```

如果列的值为`NULL`，您可以简单地使用`IF`(*以最小化代码*)，例如

```
SELECT aif_id, 
       fee_source_id, 
       company_name_per_sedar, 
       document_filing_date, 
       IF(a_aif_remaining.aif_id IS NULL, 0, 1) `match`
FROM   a_aif
       LEFT JOIN a_aif_remaining 
          ON a_aif_remaining.aif_id = a_aif.aif_id
ORDER BY aif_id DESC; 
```

# php - 将长段分成阅读更多链接

> ID：14117962
> 
> 赞同：0
> 
> 时间：2013-01-02T06:49:29.783
> 
> 标签：php, mysql

我的问题是我正在尝试从数据库中获取一些推荐，并且需要在 div 中回显它们。DIV 已创建具有固定宽度和高度值。在这种情况下，我需要通过“阅读更多”链接显示每个推荐书到完整的推荐书。在 DIV 中，我想将推荐信中的字数限制为 50 个字……任何人都可以告诉我如何做到这一点……

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-02T06:52:58.843

你可以这样做-

```
echo wordwrap(substr($str, 50), 20, "<br />\n"); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-02T06:59:57.770

如果容器具有固定的高度和宽度值，那么如果您使用的是等宽字体，则按字符限制文本数量只是万无一失的。为什么不使用 CSS 方式呢？

```
.truncated {
    text-overflow: ellipsis;
    white-space: nowrap;
    overflow: hidden;
} 
```

[浏览器支持](http://caniuse.com/#feat=text-overflow)：IE 6+、Safari 4+、Firefox 7+、Opera 11+ 和 Chrome 10+。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-02T06:55:45.580

你可以试试，

echo substr(strip_tags($str), 0, 50)."...";

# ios - 通过 HTTP 服务器连接 iPhone 和桌面

> ID：14117964
> 
> 赞同：-1
> 
> 时间：2013-01-02T06:49:32.087
> 
> 标签：ios, networking

如何获取 iPhone 的 IP 地址并访问内部 HTTP 服务器？

我想要与 CJournal 应用程序完全相同的功能，使用基于 IP 地址的动态生成的链接，在我的台式计算机和 iPhone 位于同一网络时获取备份文件。

![  ](../Images/b8fd4fc192a948841565395183ab23ad.png)

这是 CJournal 应用程序的屏幕截图，我通过这个应用程序为我的联系人列表进行了备份，然后它生成了一个 URL，该 URL 清楚地显示在图像中，在 URL 中 192.168.2.7 是我的 iphone 在我的 Wi-Fi 网络中的 IP 地址. 现在请建议我如何生成此 url 以及如何通过我的应用程序维护或访问内部 http 服务器

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-02T09:27:20.153

您是否已经尝试过 Zeroconf aka Bonjour？这是一个用于服务和设备发现的 DNS 协议，通常在 Apple 环境中使用（例如 Airplay）。还有一个由 Apple 提供的 Windows 框架。在 Linux 设备上：看看 Avahi，它似乎是目前最完整的解决方案。如果您在实施方面需要帮助，请查看最新的 WWDC 视频 - 在过去几年中已经举办了几次会议。

# licensing - 使用我的 GPL 应用程序运送第 3 方 GPL 库时的义务

> ID：14117966
> 
> 赞同：0
> 
> 时间：2013-01-02T06:49:59.417
> 
> 标签：licensing, gpl

我在我的 GPL 许可应用程序中使用了几个 3rd 方 GPL 库（所以 copyleft 应该不是问题）。我计划将这些库与我的应用程序一起“运送”在一个 zip 文件中，这样我的应用程序的用户就不必单独下载这些库。

我最初打算不仅包括库本身，还包括它们的源文件。问题是：我使用的库之一（Xuggler）非常大（~ 40mb），它的源文件更大（~100mb，压缩）。包括这些来源将使我的 zip 文件的大小增加三倍以上。

所以我的问题是：GPL 是否有义务“直接”提供使用的 GPL 库的源代码，即包含在我的 zip 文件中，或者是否“足够好”提供指向这些源的链接（例如指向github repo 或类似的）。

PS：我自己的应用程序的源代码当然会“直接”包含在内，这完全是关于我的应用程序正在使用的第 3 方 GPL 库的源代码！

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-03T04:43:05.067

您不必将源代码包含在与可执行文件相同的包中，但您必须：

1.  包含一个 README/LICENSE 文件，您可以在其中指定您正在使用的项目及其各自的许可证，并提供获取源的说明（例如指向 URL）
2.  如果您实际修改了这些文件的来源，您还应该公开这些更改

# android - 图像与android活动中的文本视图重叠

> ID：14117969
> 
> 赞同：0
> 
> 时间：2013-01-02T06:50:14.913
> 
> 标签：android, textview

嗨，我是 android 新手，我有以下问题（见图）。

![在此处输入图像描述](../Images/e5c08f5afeeea9e26b41c964990221ec.png)

如上图所示，文本视图重叠。任何人都可以帮我纠正它。

我正在使用以下代码。

```
<EditText
            android:id="@+id/outlet_id"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_gravity="center"
            android:layout_marginTop="170dp"            
            android:hint="@string/outlet_id_text"
            android:inputType="textAutoComplete" />

        <ImageView
            android:id="@+id/search_button"
            android:layout_width="32dp"
            android:layout_height="32dp"
            android:layout_gravity="center"
            android:layout_marginTop="-48dp"
            android:adjustViewBounds="true"
            android:contentDescription="@string/cd_search_icon"
            android:src="@drawable/search_icon" />

<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="@color/background"
    android:orientation="vertical" >

    <LinearLayout       
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:layout_alignParentRight="true"
        android:background="@color/background"
        android:orientation="vertical" >

        <org.fluturasymphony.recommendation.ScrollingTextView

        android:text="Really Long Scrolling Text Goes Here.... ..... ............ .... ...."

        android:singleLine="true"

        android:ellipsize="marquee"

        android:marqueeRepeatLimit="marquee_forever"

        android:scrollHorizontally="true"

        android:id="@+id/TextView03"

        android:padding="25dip" 

        android:layout_width="wrap_content" 

        android:layout_height="wrap_content" />

        <EditText
            android:id="@+id/outlet_id"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_gravity="center"
            android:layout_marginTop="170dp"            
            android:hint="@string/outlet_id_text"
            android:inputType="textAutoComplete" />

        <ImageView
            android:id="@+id/search_button"
            android:layout_width="32dp"
            android:layout_height="32dp"
            android:layout_gravity="center"
            android:layout_marginTop="-48dp"
            android:adjustViewBounds="true"
            android:contentDescription="@string/cd_search_icon"
            android:src="@drawable/search_icon" />

        <Button
            android:id="@+id/view_stores_on_map"
            android:layout_width="221dp"
            android:layout_height="wrap_content"
            android:layout_gravity="center"
            android:layout_marginTop="76dp"
            android:onClick="showStoreList"
            android:text="@string/view_stores_on_map" />

    <Button
        android:id="@+id/view_stores"

        android:layout_width="221dp"
        android:layout_height="wrap_content"

        android:layout_gravity="center"
        android:layout_marginTop="38dp"
        android:onClick="showStoreList"
        android:text="View List Of Stores" />

    </LinearLayout>

</RelativeLayout> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-02T07:00:57.267

您也可以使用以下几行。或者，如果您想用作一个行项目，您可以单独对这两个项目使用方向。

```
 <EditText
            android:layout_centerInParent="true"
            android:id="@+id/outlet_id"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_gravity="center"
            android:layout_marginTop="170dp"            
            android:hint="outlet_id_text"
            android:drawableRight="@drawable/ic_launcher"
            android:inputType="textAutoComplete" /> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-02T07:01:19.993

***虽然您可以使用相对布局来管理您的设计（但请记住，您的用途只是显示搜索图像，因此无需为此要求添加额外的视图。），这是最简单的方法***

使用[`android:drawableTop`](http://developer.android.com/reference/android/widget/TextView.html#attr_android%3adrawableTop)EditText 上的属性。

```
<EditText
    ...     
    android:drawableTop="@drawable/ic_action_search" /> 
```

并删除`<ImageView>`

其他选项包括： `android:drawableRight`、、`android:drawableLeft`等等 `android:drawableBottom`。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-02T06:57:50.837

如果您想让它向上移动，请将`android:layout_marginTop`图像视图更改为更负的值。如果您需要它下降，请执行相反的操作。

```
 <ImageView
    android:id="@+id/search_button"
    android:layout_width="32dp"
    android:layout_height="32dp"
    android:layout_gravity="center"
    android:layout_marginTop="-48dp" <!-- add more  -ve value to move up, decrease to move down -->
    android:adjustViewBounds="true"
    android:contentDescription="@string/cd_search_icon"
    android:src="@drawable/search_icon" /> 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-02T07:02:29.377

试试这个，我希望它会工作。

```
<LinearLayout android:layout_width="fill_parent"
         android:layout_height="wrap_content" android:layout_marginTop="40dp">
    <EditText
            android:id="@+id/outlet_id"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="@string/outlet_id_text"
            android:inputType="textAutoComplete" />

        <ImageView
            android:id="@+id/search_button"
            android:layout_width="32dp"
            android:layout_height="32dp"
            android:adjustViewBounds="true"
            android:contentDescription="@string/cd_search_icon"
            android:src="@drawable/ic_launcher" />
</LinearLayout> 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-01-02T07:07:35.983

使用 android:layout_below="@+id/search_button" 属性在视图中排列您的小工具。

```
<EditText
        android:id="@+id/outlet_id"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_gravity="center"
        android:layout_marginTop="10dp" 
        android:layout_below="@+id/search_button"           
        android:hint="@string/outlet_id_text"
        android:inputType="textAutoComplete" />

    <ImageView
        android:id="@+id/search_button"
        android:layout_width="32dp"
        android:layout_height="32dp"
        android:layout_gravity="center"
        android:layout_marginTop="170dp"
        android:adjustViewBounds="true"
        android:contentDescription="@string/cd_search_icon"
        android:src="@drawable/search_icon" /> 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-01-02T07:17:55.473

试试这个 ：

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="@color/background"
    android:orientation="vertical" >

    <LinearLayout
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:layout_alignParentRight="true"
        android:background="@color/background"
        android:orientation="vertical" >

        <org.fluturasymphony.recommendation.ScrollingTextView
            android:id="@+id/TextView03"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:ellipsize="marquee"
            android:marqueeRepeatLimit="marquee_forever"
            android:padding="25dip"
            android:scrollHorizontally="true"
            android:singleLine="true"
            android:text="Really Long Scrolling Text Goes Here.... ..... ............ .... ...." />

        <LinearLayout
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_gravity="center_horizontal"
            android:layout_marginTop="170dp"
            android:background="@color/background"
            android:orientation="horizontal" >

            <EditText
                android:id="@+id/outlet_id"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:hint="@string/outlet_id_text"
                android:inputType="textAutoComplete" />

            <ImageView
                android:id="@+id/search_button"
                android:layout_width="32dp"
                android:layout_height="32dp"
                android:adjustViewBounds="true"
                android:contentDescription="@string/cd_search_icon"
                android:src="@drawable/search_icon" />
        </LinearLayout>

        <Button
            android:id="@+id/view_stores_on_map"
            android:layout_width="221dp"
            android:layout_height="wrap_content"
            android:layout_gravity="center"
            android:layout_marginTop="76dp"
            android:onClick="showStoreList"
            android:text="@string/view_stores_on_map" />

        <Button
            android:id="@+id/view_stores"
            android:layout_width="221dp"
            android:layout_height="wrap_content"
            android:layout_gravity="center"
            android:layout_marginTop="38dp"
            android:onClick="showStoreList"
            android:text="View List Of Stores" />
    </LinearLayout>

</RelativeLayout> 
```

它会解决你的问题。

谢谢。

# inno-setup - 明确安排 innosetup 在下次重新启动时运行？

> ID：14117970
> 
> 赞同：2
> 
> 时间：2013-01-02T06:50:17.763
> 
> 标签：inno-setup, schedule, reboot

我需要安排**innosetup 5**运行下次重新启动以执行升级。我的应用程序 EXE 应该一直在系统托盘中运行，运行更新的最佳方法是在重新启动时运行它

我发现[了这个问题](https://stackoverflow.com/questions/6253897/how-do-i-schedule-an-install-to-happen-on-the-next-reboot-using-msi)，但它是针对 MSI 的，我不习惯[触摸用户的注册表](https://stackoverflow.com/a/6335840/1165880)

那么，**是否可以安排 innosetup 在下次重新启动时运行？**（理想情况下我需要在**Windows XP 或更高版本**上运行的东西）？如果是这样，如何？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-02T09:17:56.927

这是可能的，但它需要设置一个注册表值（如[您链接到的问题所说](https://stackoverflow.com/a/6335840/588306)）。

在键中创建一个值`HKLM\software\microsoft\windows\currentversion\RunOnce`将导致该值在下次启动时运行。

或者，由于您的应用程序已经在启动时运行，为什么不设置一个标志，以便您的应用程序在下次启动时运行设置然后退出？

# c# - 使用 linq to sql 的 mvc 应用程序中的用户代码未处理 NullReferenceException

> ID：14117973
> 
> 赞同：1
> 
> 时间：2013-01-02T06:50:27.737
> 
> 标签：c#, linq-to-sql, asp.net-mvc-4

我在我的控制器中调用以下方法。

```
 var comments = _blogService.GetBlogComments(bc.CommentParentID);//Controller code 
```

班级代码：

```
public virtual IList<BlogComment> GetBlogComments(int CommentParentId)
        {
            if (CommentParentId != 0)
            {
                var query = from bc in _blogCommentRepository.Table
                            where bc.CommentParentID == CommentParentId
                            select bc;

                var comments = query.ToList();
                return comments;
            }
            else
                return null;
        } 
```

我收到错误

```
var query = from bc in _blogCommentRepository.Table
                            where bc.CommentParentID == CommentParentId
                            select bc;][1] 
```

[http://i.stack.imgur.com/uMWcV.jpg](http://i.stack.imgur.com/uMWcV.jpg)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T06:52:52.927

绑定的第一件事是您在方法`_blogCommentRepository`中使用的变量是. 因此，请确保在使用此变量之前对其进行初始化：`GetBlogComments``null`

```
_blogCommentRepository = new ... 
```

# grails - Grails - 与相关域类的自定义排序

> ID：14117982
> 
> 赞同：1
> 
> 时间：2013-01-02T06:51:08.780
> 
> 标签：grails, groovy, grails-orm

我有域名

**训练**

```
class Training {

       static belongsTo = [venue: Venue]
 } 
```

**场地**

```
 class Venue {
        static belongsTo = [city: City]
  } 
```

**城市**

```
 class City {
  String name
} 
```

现在我想根据`City name`. 有没有办法在 Grails (Gorm) 方式中做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T07:48:24.650

你有没有尝试过

```
def results = Training.withCriteria {
    order('venue.city.name', 'asc')
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-02T18:02:19.940

```
Training.list().sort{it.venue.city.name} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-03T20:14:16.460

```
def results = Training.list(sort:"venue.city.name", order:"asc") 
```

# android - Android：带有复选框问题的列表视图

> ID：14117983
> 
> 赞同：1
> 
> 时间：2013-01-02T06:51:14.620
> 
> 标签：android, android-listview, android-checkbox

我有一个`LinearLayout`我正在将**电话联系人**填充到布局中的位置，现在我正在放置一个`checkbox`，我想**实现多个选择**，`checkboxes`我想选择多个联系人，当我保存（单击保存按钮）时，这些联系人应该保存在我的另一种布局

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="match_parent"
    android:orientation="horizontal" 
    android:paddingTop="5dp"
    android:paddingBottom="5dp"
    android:id="@+id/profilelayout" >

     <ImageView
          android:id="@+id/photo"
          android:layout_width="68dp"
          android:layout_height="51dp" >
     </ImageView>

     <LinearLayout
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:orientation="vertical">

       <TextView android:id="@+id/name"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:textSize="15dp"
        android:textStyle="bold"
        android:textColor="#000000"/>

       <CheckBox
           android:id="@+id/checkBox1"
           android:layout_width="wrap_content"
           android:layout_height="wrap_content"         
           android:layout_gravity="right"
           android:focusable="false"/>

      <TextView android:id="@+id/contactno"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:textColor="#000000"
        />
      <TextView android:id="@+id/emailId"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:textColor="#000000"
        />      

</LinearLayout>
</LinearLayout> 
```

任何建议我如何才能实现这一点，当我只检查`checkbox`其他几行时，也会检查如何避免这种情况。任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-02T06:54:26.337

将模型传递给您的`Adapter`.

模型包含一个`boolean isChecked`；

`onClick`使`checkbox`这个值`model.setChecked(true);`

现在，当您从模型列表中单击“保存”时，会得到哪一个是正确的；

并显示/执行动作，享受。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-02T07:04:58.000

用这个

```
 public class PlanetsActivity extends Activity {
    private ListView mainListView;
    private Contact[] contact_read;
    private Cursor mCursor;
    private ArrayAdapter<Contact> listAdapter;

    /** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);

    // Find the ListView resource.
    mainListView = (ListView) findViewById(R.id.mainListView);

    mainListView
            .setOnItemClickListener(new AdapterView.OnItemClickListener() {
                @Override
                public void onItemClick(AdapterView<?> parent, View item,
                        int position, long id) {
                    Contact planet = listAdapter.getItem(position);
                    planet.toggleChecked();
                    ContactViewHolder viewHolder = (ContactViewHolder) item
                            .getTag();
                    viewHolder.getCheckBox().setChecked(planet.isChecked());
                }
            });

    // Throw Query and fetch the contacts.

    String[] projection = new String[] { Contacts.HAS_PHONE_NUMBER,
            Contacts._ID, Contacts.DISPLAY_NAME };

    mCursor = managedQuery(Contacts.CONTENT_URI, projection,
            Contacts.HAS_PHONE_NUMBER + "=?", new String[] { "1" },
            Contacts.DISPLAY_NAME);

    if (mCursor != null) {
        mCursor.moveToFirst();
        contact_read = new Contact[mCursor.getCount()];

        // Add Contacts to the Array

        int j = 0;
        do {

            contact_read[j] = new Contact(mCursor.getString(mCursor
                    .getColumnIndex(Contacts.DISPLAY_NAME)));
            j++;
        } while (mCursor.moveToNext());

    } else {
        System.out.println("Cursor is NULL");
    }

    // Add Contact Class to the Arraylist

    ArrayList<Contact> planetList = new ArrayList<Contact>();
    planetList.addAll(Arrays.asList(contact_read));

    // Set our custom array adapter as the ListView's adapter.
    listAdapter = new ContactArrayAdapter(this, planetList);
    mainListView.setAdapter(listAdapter);
}

    /** Holds Contact data. */
    @SuppressWarnings("unused")
    private static class Contact {
    private String name = "";
    private boolean checked = false;

    public Contact() {
    }

    public Contact(String name) {
        this.name = name;
    }

    public Contact(String name, boolean checked) {
        this.name = name;
        this.checked = checked;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public boolean isChecked() {
        return checked;
    }

    public void setChecked(boolean checked) {
        this.checked = checked;
    }

    public String toString() {
        return name;
    }

    public void toggleChecked() {
        checked = !checked;
    }
}

    /** Holds child views for one row. */
    @SuppressWarnings("unused")
    private static class ContactViewHolder {
    private CheckBox checkBox;
    private TextView textView;

    public ContactViewHolder() {
    }

    public ContactViewHolder(TextView textView, CheckBox checkBox) {
        this.checkBox = checkBox;
        this.textView = textView;
    }

    public CheckBox getCheckBox() {
        return checkBox;
    }

    public void setCheckBox(CheckBox checkBox) {
        this.checkBox = checkBox;
    }

    public TextView getTextView() {
        return textView;
    }

    public void setTextView(TextView textView) {
        this.textView = textView;
    }
}

    /** Custom adapter for displaying an array of Contact objects. */
    private static class ContactArrayAdapter extends ArrayAdapter<Contact> {

    private LayoutInflater inflater;

    public ContactArrayAdapter(Context context, List<Contact> planetList) {
        super(context, R.layout.simplerow, R.id.rowTextView, planetList);
        // Cache the LayoutInflate to avoid asking for a new one each time.
        inflater = LayoutInflater.from(context);
    }

    @Override
    public View getView(int position, View convertView, ViewGroup parent) {
        // Contact to display
        Contact planet = (Contact) this.getItem(position);
        System.out.println(String.valueOf(position));

        // The child views in each row.
        CheckBox checkBox;
        TextView textView;

        // Create a new row view
        if (convertView == null) {
            convertView = inflater.inflate(R.layout.simplerow, null);

            // Find the child views.
            textView = (TextView) convertView
                    .findViewById(R.id.rowTextView);
            checkBox = (CheckBox) convertView.findViewById(R.id.CheckBox01);

            // Optimization: Tag the row with it's child views, so we don't
            // have to
            // call findViewById() later when we reuse the row.
            convertView.setTag(new ContactViewHolder(textView, checkBox));

            // If CheckBox is toggled, update the Contact it is tagged with.
            checkBox.setOnClickListener(new View.OnClickListener() {
                public void onClick(View v) {
                    CheckBox cb = (CheckBox) v;
                    Contact contact = (Contact) cb.getTag();
                    contact.setChecked(cb.isChecked());
                }
            });
        }
        // Reuse existing row view
        else {
            // Because we use a ViewHolder, we avoid having to call
            // findViewById().
            ContactViewHolder viewHolder = (ContactViewHolder) convertView
                    .getTag();
            checkBox = viewHolder.getCheckBox();
            textView = viewHolder.getTextView();
        }

        // Tag the CheckBox with the Contact it is displaying, so that we
        // can
        // access the Contact in onClick() when the CheckBox is toggled.
        checkBox.setTag(planet);

        // Display Contact data
        checkBox.setChecked(planet.isChecked());
        textView.setText(planet.getName());

        return convertView;
    }

   }

   public Object onRetainNonConfigurationInstance() {
        return contact_read;
    }
} 
```

# php - 登录成功后如何显示欢迎页面？

> ID：14117984
> 
> 赞同：0
> 
> 时间：2013-01-02T06:51:14.040
> 
> 标签：php, javascript, mysql

我在模型和视图等两个不同的文件夹中使用以下代码。在视图文件夹中包含两个 php 文件，如 Login.php 和 Login_success.php。控制器文件夹包含 mysql 数据库表字段提取代码。当我运行下面的代码时，它无法显示 Login_success 页面。仅显示其他字段**检查名称和密码**。这些所有文件合并到文件夹外 index.php 。

这是我的代码：

**登录.php**

```
<html>
<head>
<title>Login</title>
<link rel ='stylesheet' type = 'text/css' href = 'View/Design.css'> 
<script>
function Validate(){
var x=document.forms["login"]["username"].value;
if (x==null || x=="")
  {
  alert("First name must be filled out");
  return false;
  }
 var x=document.forms["login"]["password"].value;
 if (x==null || x=="")
  {
   alert("Password must be filled out");
   return false;
  }
 }
 </script>
 </head>
 <body>
 <form name = 'login' method = 'post' action = 'Controller/Controll.php' >
 <fieldset>
 <legend>Login</legend>
 User Name :<input type = 'text' name = 'username'>
 Password  :<input type = 'password' name = 'password'><br><br>
 <input type = 'submit' name = 'submit' value = 'submit' onsubmit = "return Validate()" >
 </fieldset>
 </form>
  </body>
 </html> 
```

**控制.php**

```
 class Access{
 function connection(){
  require_once('View/Login.php');
 $con = mysql_connect('localhost','root','root');
 $db = mysql_select_db('Times_sheet');
 $query = mysql_query('select * from Login');
 $row = mysql_fetch_array($query);
 if(isset($_POST['submit']))
 {
  if(($row['UserName']==$_POST['username']) && ($row['Password']==$_POST['password'])){
  require_once("View/Login_Success.php");
 }
  }
  else{
  echo "Check User name and Password";
 }
 }
 } 
```

**索引.php**

```
require_once('Controller/Controll.php');
class login extends Access{
function getValu(){
require_once('View/Login.php');
}
 }
$Obj = new login();
$Obj ->getValu();
$Obj ->connection(); 
```

当我输入正确的用户名和密码时，它会进入空白页面。我不知道我犯了什么错误。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-02T07:08:08.700

使用 header php 函数进行重定向，而不是 require_once。像这种格式 header(url);

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-02T07:02:15.647

你只是包含`Login_success.php`在这一行中而不是重定向到`Login_success.php`

```
 if(($row['UserName']==$_POST['username']) && ($row['Password']==$_POST['password'])){
    require_once("View/Login_Success.php");
 } 
```

所以`header`用于这个重定向

```
 if(($row['UserName']==$_POST['username']) && ($row['Password']==$_POST['password'])){
    header("Location: View/Login_Success.php");
    exit();
 } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-02T07:02:44.273

在您的查询中，您正在从表“登录”中获取所有（*）结果。

而不是这个带有 'WHERE' 的查询表：例如。select * from Login WHERE user= $_POST['username'] AND password = $_POST['password']

如果找到结果，则将用户重定向到您所需的页面：

```
 header("Location : View/Login_Success.php"); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-02T07:20:54.277

首先，您的代码根本没有保存；和平的黑客蛋糕

```
 class Access{
 function connection(){
 require_once('View/Login.php');
 $con = mysql_connect('localhost','root','root');
 $db = mysql_select_db('Times_sheet');
 $query = mysql_query('select * from Login');
 $row = mysql_fetch_array($query);
 if(isset($_POST['submit']))
 { 
```

其次，你只包括

```
 View/Login_Success.php' 
```

你必须这样做：

```
 if(($row['UserName']==$_POST['username']) && ($row['Password']==$_POST['password'])){
 header('location: View/Login_Success.php');
 }
 }
 else{
  echo "Check User name and Password";
 }
 }
 } 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-02T07:09:11.003

你必须改变你的代码，

```
 $query = mysql_query('select * from Login');
 $row = mysql_fetch_array($query); 
```

1.  您从 MySQL 中选择所有用户，并在检查 PHP 之后将其更改为 : ( & MD5 您的密码，因为它非常重要。)

> ```
> $user = $_POST['username'];
> $pass = MD5($_POST['password']);
> $query = mysql_query("select * from Login WHERE `UserName` = '$user' AND `Password` = '$pass' "); 
> ```
> 
> if (mysql_num_rows($query)==1) { // 登录 }

并在所有页面中保存用户名和用户使用会话值：

```
session_start();
$_SESSION['user'] = $row['UserName'] ; 
```

并使用它，`Login_Success.php`你可以使用它这个代码：

```
<?php 

session_start();

echo "wellcome user : ".$_SESSION['user'] ;

?> 
```

我有 2 个提议给你： 1\. 在你的代码中使用 Anti SQL Injection。2.使用标头`header('location: View/Login_Success.php');`重定向到其他页面不包括

# vbscript - VB 脚本空间

> ID：14117995
> 
> 赞同：0
> 
> 时间：2013-01-02T06:52:07.627
> 
> 标签：vbscript

我需要一个将在 excel 中用作宏的 vb 脚本。

我需要带有空格的数据行来删除空格。我知道如何一次创建一个单元格的公式，但我对如何使用循环脚本大规模地执行此操作一无所知。任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T07:18:51.823

对 micros 不太了解，但在 vb-script 中，您可以使用以下代码：-

```
Option Explicit 
Dim objFso,strFileName,objFile
Set objFso = CreateObject("Scripting.FileSystemObject")          
strFileName="C:\Documents and Settings\amolc\Desktop\test.txt"   ''Path of text file

Set objFile = objFso.OpenTextFile(strFileName,1)
strText = objFile.ReadAll
objFile.Close
strText = Replace(strText," ","",vbTextCompare)            ''Replace function to remove space
Set objFile = objFso.OpenTextFile(strFileName,2)
objFile.Write (strText)
objFile.Close 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-02T07:07:10.873

试试这个代码：

```
Columns("F:F").Select

Selection.Replace What:=" ", Replacement:="", LookAt:=xlPart, _
    SearchOrder:=xlByRows, MatchCase:=False, SearchFormat:=False, _
    ReplaceFormat:=False 
```

我尝试用无（“”）替换字符空间（“”）

# jquery - 更改 SVG 图像中路径标签的高度和宽度

> ID：14117996
> 
> 赞同：1
> 
> 时间：2013-01-02T06:52:11.777
> 
> 标签：jquery, svg, d3.js, jquery-svg

![滑块 SVG 图像](../Images/b82a3c8b63c61883af99c6c8ab08fb0b.png)

我正在尝试更改灰色区域的宽度并根据从 1 到 100 的某个值移动圆形图层。

我将 D3.js 与 SVG 图像一起使用。下面是 svg 图像的代码，但我无法更改宽度，因为路径标签没有任何直接属性可以做到这一点。

```
 <?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Creator: CorelDRAW -->
<svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" width="2480px" height="3508px" style="shape-rendering:geometricPrecision; text-rendering:geometricPrecision; image-rendering:optimizeQuality; fill-rule:evenodd; clip-rule:evenodd"
viewBox="0 0 2480 3507.43">
 <defs>
  <style type="text/css">
   <![CDATA[
    .str0 {stroke:#989B9F;stroke-width:2.08354}
    .str1 {stroke:#989B9F;stroke-width:2.08354}
    .str2 {stroke:#989B9F;stroke-width:2.08354}
    .fil0 {fill:url(#id0)}
    .fil1 {fill:url(#id1)}
    .fil2 {fill:url(#id2)}
   ]]>
  </style>
  <linearGradient id="id0" gradientUnits="userSpaceOnUse" x1="301.84" y1="146.253" x2="301.84" y2="122.891">
   <stop offset="0" style="stop-color:#D7D9DC"/>
   <stop offset="1" style="stop-color:white"/>
  </linearGradient>
  <linearGradient id="id1" gradientUnits="userSpaceOnUse" x1="191.679" y1="122.891" x2="191.679" y2="146.253">
   <stop offset="0" style="stop-color:#D7D9DC"/>
   <stop offset="1" style="stop-color:#42494C"/>
  </linearGradient>
  <linearGradient id="id2" gradientUnits="userSpaceOnUse" x1="259.354" y1="155.487" x2="259.354" y2="113.657">
    <stop offset="0" style="stop-color:#D7D9DC"/>
   <stop offset="1" style="stop-color:white"/>
  </linearGradient>
 </defs>
 <g id="Layer_x0020_1">
  <metadata id="CorelCorpID_0Corel-Layer"/>
  <path class="fil0 str0" d="M470.747 146.253l-337.814 0c-6.42438,0 -11.6808,-5.25642 -11.6808,-11.6808l0 0c0,-6.42438 5.25642,-11.6808 11.6808,-11.6808l337.814 0c6.42438,0 11.6808,5.25642 11.6808,11.6808l0 0c0,6.42438 -5.25642,11.6808 -11.6808,11.6808z"/>
 </g>
 <g id="Layer_x0020_2">
  <metadata id="CorelCorpID_1Corel-Layer"/>
  <path class="fil1 str1" d="M132.933 122.891l117.492 0c6.42438,0 11.6808,5.25642 11.6808,11.6808l0 0c0,6.42438 -5.25642,11.6808 -11.6808,11.6808l-117.492 0c-6.42438,0 -11.6808,-5.25642 -11.6808,-11.6808l0 0c0,-6.42438 5.25642,-11.6808 11.6808,-11.6808z"/>
 </g>
 <g id="Layer_x0020_3">
  <metadata id="CorelCorpID_2Corel-Layer"/>
  <circle class="fil2 str2"  cx="259.353" cy="134.572" r="20.9144"/>
 </g>
</svg> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T13:41:01.213

我建议使用 rects 而不是滑块的路径。如果您创建需要动态化的 SVG，那么手动创建它通常比使用可视化编辑器更好（尤其是在这种情况下如此简单的情况下）。可视化编辑器不仅会创建大量不需要的代码，还会选择几乎随机的坐标值。

[这是一个非常简化的示例](http://jsfiddle.net/NngVA/)，使用矩形而不是路径，使推子水平跨度从坐标 0 到 100，以便于分配值：

```
<svg xmlns="http://www.w3.org/2000/svg" width="300" height="50" viewBox="-10 -5 110 20">
  <defs>
    <style type="text/css">
      .fader           {stroke:#989B9F}
      .faderBackground,
      .faderKnob       {fill:url(#lightFaderGradient)}
      .faderForeground {fill:url(#darkFaderGradient)}
    </style>
    <linearGradient id="darkFaderGradient" gradientUnits="objectBoundingBox" x2="0" y2="1">
      <stop offset="0" stop-color="#D7D9DC"/>
      <stop offset="1" stop-color="#42494C"/>
    </linearGradient>
    <linearGradient id="lightFaderGradient" gradientUnits="objectBoundingBox" x2="0" y2="1">
      <stop offset="0" stop-color="white"/>
      <stop offset="1" stop-color="#D7D9DC"/>
    </linearGradient>
  </defs>
  <g id="myFader" class="fader">
    <rect class="faderBackground" width="100" height="10" rx="5"/>
    <rect class="faderForeground" width="50" height="10" rx="5"/>
    <circle class="faderKnob" cy="5" cx="50" r="7"/>
  </g>
</svg> 
```

我添加了一些使用标准 DOM 操作的示例 JS 代码，但当然您可以使用 d3.js 获得更方便的代码：

```
var faderX = parseFloat(prompt("Enter a value from 0 to 100"))

var fader = document.getElementById("myFader")
fader.getElementsByClassName("faderKnob")[0]
  .setAttribute("cx",faderX)
fader.getElementsByClassName("faderForeground")[0]
  .setAttribute("width",faderX) 
```

* * *

## 回答 #2

> 赞同：-3
> 
> 时间：2015-05-11T09:51:25.467

```
<html lang="en"><head>
    <meta charset="UTF-8">

    <style>

    </style>
</head>
<body>
    <svg
   width="100"
   height="100"
   id="slider"
   version="1.1"
   onload="init(evt)"
   onmouseup="released()"
       onmousemove="drag(evt)">
    <defs xmlns="http://www.w3.org/2000/svg">
        <!-- Symbol for Slider -->
        <symbol id="sliderSymbol" overflow="visible">
            <line x1="0" y1="-10" x2="0" y2="10" stroke="dimgray" stroke-width="9" pointer-events="none"/>
        </symbol>
    </defs>

 <script>
 <![CDATA[

      var isGripped=false

      var grabY   // mousedown coordinate
      var grabX
      var monitor // text reading 0-100
      var y       // the slider's dynamic coordinate

      var T_PI=2*Math.PI;

      function init(evt){

         var svgns = "http://www.w3.org/2000/svg";
         SVGDocument = evt.target.ownerDocument;

         monitor= SVGDocument.getElementById('monitor');
         handle=SVGDocument.getElementById('handle');

     // set dimensions according to the sliderFrame node below

         var sliderFrame= SVGDocument.getElementById('sliderFrame')

     //  y0 is the center of the slider, s is the range about the center

         s=0.5*parseFloat(sliderFrame.getAttribute('width'));
         y0=parseFloat(sliderFrame.getAttribute('y'))+s-0.5*parseFloat(handle.getAttribute('height'));
         y=y0

         handle.setAttribute("x",y0);
     }

      function grip(evt) {  

            isGripped=true;
            grabX=evt.clientX-y;
      }

      function drag(evt){

            if (!isGripped) return;
            X=(evt.clientX);

       // observe bounding box constraint

           y=Math.min(Math.max(X-grabX,y0-s),y0+s);       

           handle.setAttribute("x",y);
           monitor.textContent=Math.round(50*(1-(y-y0)/s));
      }

      function released(){
         isGripped=false;
      }

 ]]></script>

          <path id="sliderpathL" d="M 30 90 l 50 -25 l 0 50 l -50 -25" stroke="black" stroke-width="1" fill="red" onclick="drag(evt)">
          </path>

               <line stroke-linecap="square" stroke-width="15" stroke="cyan" y2="90" x2="325" y1="90" x1="90"/>
               <line fill="none" stroke-width="2" stroke="#000000" id="svg_1" y2="102" x2="89.5" y1="96" x1="89.5"/>
               <line fill="none" stroke-width="2" stroke="#000000" id="svg_2" y2="102" x2="145.5" y1="96" x1="145.5"/>
               <line fill="none" stroke-width="2" stroke="#000000" id="svg_3" y2="105" x2="209.5" y1="96" x1="209.5"/>
               <line fill="none" stroke-width="2" stroke="#000000" id="svg_4" y2="101" x2="267.5" y1="96" x1="267.5"/>
                  <line fill="none" stroke-width="2" stroke="#000000" id="svg_4" y2="101" x2="317.5" y1="96" x1="317.5"/>

          <rect   id="sliderFrame" 
          x="85" 
          y="90" 
          width="245" 
          height="4" 
          stroke="dimgray" 
          stroke-width="0" 
        onmousemove="drag(evt)"  />

         <rect
           onmousedown="grip(evt)"
           height="20"
           width="10"
           x="85"
           y="80"
           id="handle"
           style="fill:#0000ff" />  
      <path id="sliderpathR" d="M 383 90 l -50 -25 l 0 50 l 50 -25" stroke="black" stroke-width="1" fill="red"></path>

        <g id="textbox">
       <rect x="390" y="70" width="100" height="40" rx=3 ry=3 style="stroke:#006600; fill: white"/>
       <text id='monitor' x="400" y="88">50</text>
        </g>

    </svg>

</body>
</html> 
```

# machine-learning - 回忆在机器学习中意味着什么？

> ID：14117997
> 
> 赞同：25
> 
> 时间：2013-01-02T06:52:19.773
> 
> 标签：machine-learning, statistics, precision-recall

分类器的召回是什么意思，例如贝叶斯分类器？请举个例子。

例如，精度 = 正确/正确+错误的测试数据文档。如何理解召回？

* * *

## 回答 #1

> 赞同：53
> 
> 时间：2013-01-02T07:57:50.763

召回字面意思是***召回*****（找到）****了多少*真*阳性***，即还找到了多少正确命中。*

 *精度（您的公式不正确）是***返回*****的命中有****多少是*真*阳性****，即找到的命中有多少是正确的。**

 *** * *

## 回答 #2

> 赞同：40
> 
> 时间：2017-07-21T16:37:21.047

我发现 Wikipedia 中对[Precision and Recall](https://en.wikipedia.org/wiki/Precision_and_recall)的解释非常有用：

假设一个用于识别照片中狗的计算机程序在包含 12 只狗和一些猫的图片中识别出 8 只狗。在识别出的 8 只狗中，有 5 只实际上是狗（真阳性），其余的是猫（假阳性）。该程序的精度为 5/8，而其召回率为 5/12。当搜索引擎返回 30 个页面，其中只有 20 个是相关的，而没有返回 40 个额外的相关页面时，其精确度为 20/30 = 2/3，而其召回率为 20/60 = 1/3。

因此，在这种情况下，**精度是“搜索结果的有用程度”，而召回率是“结果的完整程度”**。

[![在此处输入图像描述](../Images/15c551ea3babed29b62183ab68519d24.png)](https://i.stack.imgur.com/MHodz.png)

* * *

## 回答 #3

> 赞同：28
> 
> 时间：2013-01-02T07:02:00.570

ML 中的精度与信息检索中的精度相同。

```
recall = TP / (TP + FN)
precision = TP / (TP + FP) 
```

（其中 TP = 真阳性，TN = 真阴性，FP = 假阳性，FN = 假阴性）。

*将这些符号用于二元分类器*是有意义的，通常“肯定”是不太常见的分类。请注意，精度/召回指标实际上是特定形式，其中 #classes=2 表示更一般的[*混淆矩阵*](http://en.wikipedia.org/wiki/Confusion_matrix)。

此外，您的“精度”符号实际上是*accuracy*，并且是`(TP+TN)/ ALL`

* * *

## 回答 #4

> 赞同：6
> 
> 时间：2017-02-26T10:53:50.717

用非常简单的语言：例如，在一系列展示政治家的照片中，有多少次政治家 XY 的照片被正确识别为展示的是 A. Merkel 而不是其他政治家？

*   精度是识别另一个人的次数（误报）的比率：（正确命中）/（正确命中）+（误报）

*   召回率是照片中显示的人的姓名被错误识别（“召回”）的比率：（正确呼叫）/（正确呼叫）+（错误呼叫）

* * *

## 回答 #5

> 赞同：5
> 
> 时间：2020-07-27T17:11:18.907

给你一个例子。想象一下，我们有一个机器学习模型可以检测猫与狗。由人类提供的实际标签称为ground-truth。模型的输出再次称为预测。现在看下表：

```
ExampleNo        Ground-truth        Model's Prediction
   0                 Cat                   Cat
   1                 Cat                   Dog
   2                 Cat                   Cat
   3                 Dog                   Cat
   4                 Dog                   Dog 
```

假设我们要查找类 cat 的召回率。根据定义，**召回**是指**正确识别的某个类别的百分比（来自*该*类别的所有给定示例）**。因此对于 cat 类，模型正确识别了它 2 次（例如 0 和 2）。但这是否意味着实际上只有 2 只猫？**不！**实际上，ground truth 中有 3 只猫（人类标记）。那么这个类的正确识别率是多少呢？`2 out of 3 that is (2/3) * 100 = 66.67%`或者`0.667`如果你在 1 内对其进行归一化。这是示例 3 中对 cat 的另一个预测，但它不是正确的预测，因此我们不考虑它。

现在来到数学公式。首先了解两个术语：

**TP（真阳性）：**当它实际上是积极的时候预测一些积极的事情。如果猫是我们的正面例子，那么当它实际上是一只猫时，预测它是一只猫。

**FN（假阴性）：**当它实际上不是消极的时候预测消极的东西。

现在对于某个类，这个分类器的输出可以是两种类型：猫或狗（非猫）。所以正确识别的数量就是真阳性（TP）的数量。同样，该类别的真实样本总数将是 TP + FN。因为在所有猫中，模型要么正确地检测到它们（TP），要么没有正确地检测到它们（FN，即模型错误地说是阴性（非猫），而实际上是阳性（猫））。**所以对于某个类 TP + FN 表示该类**的基本事实中可用的示例总数。所以公式是：

```
Recall = TP / (TP + FN) 
```

同样，也可以为 Dog 计算召回率。当时认为狗是正类，猫是负类。

因此，对于任意数量的类，要找到**某个类**的召回率，就以该类为**正**类，**其余**类为**负**类，并使用公式求召回。继续每个类的过程以找到所有类的召回率。

如果您也想了解精度，请访问此处：[https ://stackoverflow.com/a/63121274/6907424](https://stackoverflow.com/a/63121274/6907424)***