# StackOverflow 问答 15060000-15060999

# c# - 如何在asp.net中隐藏或删除线系列图表中的零值

> ID：15060001
> 
> 赞同：0
> 
> 时间：2013-02-25T04:16:00.420
> 
> 标签：c#, asp.net, .net

我正在使用 Radchart，我想删除显示为零的线系列。是否有任何可能的方法来隐藏或删除显示为零的值。请提供任何解决方案或代码。现在我的图表看起来像这样。![在此处输入图像描述](../Images/eef42547a09a5912cbb01b26e1cf8ad6.png)

我需要显示这样的图像。![在此处输入图像描述](../Images/4972da82a3d7c04b72a821708368a440.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T04:21:05.733

我认为您的问题在stackoverflow上重复出现。
我认为您需要访问此[堆栈溢出链接](https://stackoverflow.com/questions/14599897/how-to-hide-or-remove-zero-values-in-line-series-radchart)

# javascript - 表单输入数的变量最大值

> ID：15060004
> 
> 赞同：0
> 
> 时间：2013-02-25T04:16:21.467
> 
> 标签：javascript, html

我有 3 个`<inputs type="number">`。让我们称它们为 a、b 和 c。默认情况下，a、b 和 c 都是 12。

我有一个输出，我们称之为 d，它显示 a+b+c 的总数。d 永远不应超过 36。如何设置 a、b 和 c 的“最大值”以使总和等于 36。

一些例子：

```
a=12, b=12, c=12, d=36 
```

这就是它的开始。要使 a 等于 13，用户必须将 b 或 c 减 1，然后将 a 加 1。

```
a=24, b=00, c=12, d=36 
```

此场景显示用户将 b 减少 12，然后将 a 增加 12。

```
a=00, b=36, c=00, d=36 
```

这个节目他们使用将 a 和 c 减少 12，然后将 b 增加 24。

```
a=12, b=12, c=00, d=24 
```

用户将 b 减少了 12。用户有可能将 12 添加到他们选择的 a、b 或 c 中。

我可以使用 html 和/或 javascript 来实现这个目标。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T05:17:15.853

```
 I am giving you logic.arrange it according to yourself.

    function sol(){
    var a=0,b=0,c=0,n=36;
    a=Math.floor(Math.random()*n);
    if(a==n){
   b=0;
   c=0;
   exit;
   }
   b=Math.floor(Math.random()*n);

  if((a+b)>n){
    sol();
    }
  else if((a+b)==n)
    {
    c=0;
    }
  else
    c=n-(a+b);
    }; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T04:53:20.170

首先，您应该将 a、b 和 c 的最大值设置为 36。

然后，您需要使用该`onchange`事件来确保在更改它们时一个会影响另一个。

例如：

如果 a = 20，b=10，c=6，则 d=36

如果增加 c，使其变为 7，则 a 应变为 19.5，b 应变为 9.5

**HTML**

```
<input type="number" id="a" max="36" value="12" onchange="Stabilized(this)" class="numbers">
<input type="number" id="b" max="36" value="12" onchange="Stabilized(this)" class="numbers">
<input type="number" id="c" max="36" value="12" onchange="Stabilized(this)" class="numbers">
<input type="number" id="d" max="36" value="36"> 
```

**JavaScript**

```
function Stabilized(e)
{
    var thisNumber = e.value;
    var totalSum=0;
    var i;
    var remainingSum = 36 - parseFloat(thisNumber);
    var numbersList = document.getElementsByClassName("numbers");
    var currentRemainingSum=0;
    var average;
    var y=0;
    var flag1=0;
    var counter=0;
    for (i=0;i<numbersList.length;i++)
    {
        totalSum +=parseFloat(numbersList[i].value);
        if(numbersList[i]!=e)
        {
            y++
            currentRemainingSum = parseFloat(currentRemainingSum) + (parseFloat(numbersList[i].value));
        }
    }
    if((parseFloat(currentRemainingSum))>(parseFloat(remainingSum)))
        {
            average = ((currentRemainingSum-remainingSum)/y);
            while(parseFloat(currentRemainingSum)>parseFloat(remainingSum)){
            for (i=0;i<numbersList.length;i++)
            {
                if(numbersList[i]!=e)
                {
                        if((parseFloat(numbersList[i].value))>=average){
                        numbersList[i].value = (parseFloat(numbersList[i].value) - parseFloat(average));
                        remainingSum=parseFloat(remainingSum)+parseFloat(average);
                        }
                        else
                        {
                            remainingSum=(parseFloat(remainingSum)+(parseFloat(numbersList[i].value)));
                            numbersList[i].value = 0;   
                        }

                }

                if((parseFloat(currentRemainingSum)<=parseFloat(remainingSum))){
                    break;
                    }
            }
        }
    }
    else if((parseFloat(currentRemainingSum))<(parseFloat(remainingSum)))
    {
        average = ((remainingSum-currentRemainingSum)/y)

        for (i=0;i<numbersList.length;i++)
        {

            if(numbersList[i]!=e)
            {
                counter++;
                if(numbersList[i].value==36)
                {
                     flag1++;
                }
                else
                {
                    numbersList[i].value = (parseFloat(numbersList[i].value) + average);
                    remainingSum = remainingSum - average;
                    flag1--;
                }

            }
            if((parseFloat(remainingSum))<=0 || (flag1==counter && numbersList.length==(i+1))){
                break;}
        }

    }
} 
```

[**演示**](http://jsfiddle.net/VxqVV/)

# asp.net-mvc - 使用 [HttpPost, ValidateInput(false)] 的 MVC 副作用

> ID：15060005
> 
> 赞同：7
> 
> 时间：2013-02-25T04:16:26.340
> 
> 标签：asp.net-mvc

我的强类型视图中有一个 TextArea 定义为

```
@Html.TextAreaFor(x => x.Text) 
```

我的控制器 Action 最初看起来与此类似：

```
[HttpPost]
public ViewResult Index(MyViewModel vm)
{
    using (var db = new MyEntities())
    {
        Post p = new Post();
        p.Text = vm.Text;
        db.Posts.AddObject(p);
        db.SaveChanges();
    }
    return View();
} 
```

这工作得很好。用户在 TextArea 中输入的文本被传递到控制器并通过实体框架保存到 SQL Server 中的 Post 表中。该字段的数据类型是 varchar(1000)。（还有使用带有 [StringLength(1000)] 验证的 MetadataType 对 Text 字段进行模型验证。）

我注意到如果我尝试复制一些 HTML 源并将其粘贴到 TextArea 并提交，我会收到以下错误：

*“从客户端检测到潜在危险的 Request.Form 值”*

这个错误让我想到了[这个问题](https://stackoverflow.com/questions/81991/a-potentially-dangerous-request-form-value-was-detected-from-the-client)，从中得到的收获是我可以简单地添加

```
[HttpPost, ValidateInput(false)] 
```

到我的 Action 来停止这种类型的验证。这非常有效，但令我惊讶的是，无论我尝试将什么放入 TextArea，我都不会造成任何问题。如果我粘贴充满引号字符的 javascript、html 或 T-SQL 语句，它仍然可以正常工作。我看到我输入到 TextArea 的确切字符出现在 SQL 表中，如果我将文本显示回视图，我在源代码中看到每个字符都转换为 HTML 对应字符，屏幕上的显示看起来就像当我输入它时它确实如此。我没有进行任何类型的文本转换来完成此操作。默认情况下，一切似乎都按照我的意愿工作。当然我很高兴，但是当我读到禁用验证时，通常会伴随着一个警告，你应该了解这样做的后果，我想我不会。所以我想知道，后果是什么？是否有人可能会在我的 TextArea 中输入任何内容，由于禁用输入验证而导致事情变得混乱？

如果相关，我的特定设置是 MVC4、.NET 4.0、Entity Framework 4.4、SQL Server 2012 Express。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-25T04:22:36.933

如果您使用剃须刀，您输出的任何文本都将自动编码，这些文本将在浏览器中显示为文本，但不会被解释为 javascript 等。

如果您要关闭验证，则必须非常小心，以确保在显示所有用户输入时都对其进行编码，以免由于用户输入的某些内容而无意中在页面上运行了一些 javascript（请查看 XSS 中的一些示例） .

您可以通过向数据库中的各种 varchar 字段添加某种 javascript alert('hello') 调用来快速测试（尽管不是详尽的搜索），并查看它是否在您访问页面时被调用。

此外，即使您没有显示用户数据，它也可能会根据您如何访问数据而产生影响。

即使您使用实体框架之类的东西，您也不会受到 sql 注入的保护，例如，如果您使用存储过程并且没有对输入进行验证检查。请参阅 Troy Hunt关于此的[文章](http://www.troyhunt.com/2012/12/stored-procedures-and-orms-wont-save.html)

# c# - 将数据存储在具有枚举类型的类类型中的 LINQ 查询

> ID：15060009
> 
> 赞同：1
> 
> 时间：2013-02-25T04:17:00.320
> 
> 标签：c#, linq-to-entities

我有一个像这样的 Employee 类：

```
public class Employee    
{  
    public Int32 employeeId;    
    public String employeeFName;    
    public String employeeSName;    
    public Gender empGender;    
    public string empContactNo;    
    public DateTime empDOB;    
    public string empAddress;    
    public Int16 accessLevel;    
    private string pass;    

    public String Pass
    {
        get { return this.pass; }
        set { this.pass = value; }
    }

    public static Gender ConvertToGender(string gen)
    {
        if (gen == "Male")
            return Gender.Male;
        else
            return Gender.Female;
    }
} 
```

其中“性别”是枚举类型：

```
public enum Gender { Male, Female } 
```

我正在使用以下 LINQ 查询：

```
var query = from emp in hmsdatabase.TblEmployees  
               where emp.EmpId == employeeid  
               select new Employee()  
               {  
                    employeeId = emp.EmpId,  
                    employeeFName = emp.EmpFirstName,  
                    employeeSName = emp.EmpSurName,  
                    empGender = Employee.ConvertToGender(emp.EmpGender),  
                    empContactNo = emp.EmpContactNo,  
                    empDOB = DateTime.Parse(emp.EmpDOB.ToString()),  
                    empAddress = emp.EmpAddress,  
                    accessLevel = Int16.Parse(emp.EmpAccessRight.ToString())  
               }; 
```

虽然编译期间没有错误，但在运行时我收到以下错误：

System.NotSupportedException：LINQ to Entities 无法识别方法“HMSTest.Gender ConvertToGender(System.String)”方法，并且此方法无法转换为存储表达式。

我已经研究过这个错误，我知道它不起作用，因为 LINQ 无法将用户定义的函数 'Employee.ConvertToGender(string)' 转换为等效的 SQL 查询，它也很有意义。那么有什么简单的解决方法吗？？我的意思是这种功能（使用转换函数）在应用程序中非常普遍，微软的人一定想到了这一点。我想知道我在这里完全想念的东西。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T05:53:29.947

Linq to entity 不支持查询中的枚举，因此您可以采用几种方法。

您可以将值作为字符串存储在`Employee`类中，然后转换为 linq to objects 并像这样设置枚举值：

```
var objEmpl = (from emp in hmsdatabase.TblEmployees  
           where emp.EmpId == employeeid  
           select new Employee()  
           {  
                employeeId = emp.EmpId,  
                employeeFName = emp.EmpFirstName,  
                employeeSName = emp.EmpSurName,  
                empGenderString = emp.EmpGender,  
                empContactNo = emp.EmpContactNo,  
                empDOB = DateTime.Parse(emp.EmpDOB.ToString()),  
                empAddress = emp.EmpAddress,  
                accessLevel = Int16.Parse(emp.EmpAccessRight.ToString())  
           } ).FirstOrDefault();
    objEmpl.empGender = Employee.ConvertToGender(objEmpl.empGenderString); 
```

如果您想进一步简化，我建议将 get on 修改为`empGender`这样的内容以避免第二次调用：

```
public class Employee    
{  
  public Int32 employeeId;    
  public String employeeFName;    
  public String employeeSName;         
  public string empGenderString;
  public string empContactNo;    
  public DateTime empDOB;    
  public string empAddress;    
  public Int16 accessLevel;    
  private string pass;    

public Gender empGender
{
    get { return this.empGenderString == "Male" ?
                 Gender.Male:
                 Gender.Female;
        }

public String Pass
{
    get { return this.pass; }
    set { this.pass = value; }
} 
```

}

# ruby-on-rails - NameError: 未初始化的常量 Gem::SourceIndex

> ID：15060011
> 
> 赞同：22
> 
> 时间：2013-02-25T04:17:19.277
> 
> 标签：ruby-on-rails, gem, bundler

访问主页时（成功运行后`bundle install`），未修改任何内容的新 Rails 应用程序会出现此错误。

以下是版本号：

`ruby: 1.9.3p392 (2013-02-22 revision 39386) [x86_64-darwin12.2.1]`

`rails: 3.2.12`

`rvm: 1.18.14`

`gem: 2.0.0`

`bundler: 1.3.0.pre.8`

调用`which ruby`return `/Users/J/.rvm/rubies/ruby-1.9.3-p392/bin/ruby`，这看起来很可疑，对吧？

* * *

## 回答 #1

> 赞同：30
> 
> 时间：2013-04-10T22:25:03.270

您需要更新 Bundler：`gem update bundler`

RubyGems 2.0 版[似乎是引发](http://blog.rubygems.org/2013/02/24/2.0.0-released.html)错误的原因：

> RubyGems 2.0 包括几个新功能和许多重大更改。其中一些更改将导致现有软件崩溃。. . . 如果您使用的是 bundler，请务必安装 1.3.0.prerelease 版本或更高版本。旧版本的 bundler 不适用于 RubyGems 2.0。

这是[问题的详细信息](https://github.com/rubygems/rubygems/issues/536)。

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2013-03-30T21:30:17.890

跑：

```
gem update --system 1.8.24 
```

听起来最新的东西有问题。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-15T14:36:19.743

您是否尝试过更新您的 RubyGems？

```
gem update --system 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-05-10T02:55:40.723

```
gem update bundle && gem update --system 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-05-24T00:04:38.910

对我来说，以上都是 + 在我的 nginx 配置上使用新的。

# ios - 如何创建一些相册 Facebook SDK iOS？

> ID：15060014
> 
> 赞同：0
> 
> 时间：2013-02-25T04:17:28.903
> 
> 标签：ios, facebook, facebook-graph-api

我将一些照片发布到 Facebook，例如：

```
for (int idx = 0 ; idx < 5; idx++){
[FBRequestConnection startWithGraphPath: @"me/photos"
parameters: params
HTTPMethod: @"POST"
completionHandler: ^(FBRequestConnection *connection,
id result,
NSError *error) {
[self requestCompleted:connection withResult:result andError:error];
}];
} 
```

并将这张照片在默认相册中发布到 Facebook（appName 照片）。如何在当前迭代中创建新相册？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T09:30:39.660

我解决了我的问题，我需要这个字符串：

```
NSMutableDictionary *paramsToCreateAlbum = [NSMutableDictionary dictionaryWithObjectsAndKeys:
        @"album ", @"name",
        @"description", @"message", nil];

[FBRequestConnection startWithGraphPath: @"me/albums"
                             parameters: paramsToCreateAlbum
                             HTTPMethod: @"POST"
                      completionHandler: ^(FBRequestConnection *connection,
                              id result,
                              NSError *error) {

                          if (!error) {
                              //publish content to albumID
                              [self publishContentToAlbum:[result objectForKey:@"id"]];
                          }
                          else {
                              NSLog(@"error: %@", error);
                          }
                      }]; 
```

# ruby-on-rails - 由于 Angular 资源，使用 Angularjs-rails 提交表单会引发错误

> ID：15060017
> 
> 赞同：0
> 
> 时间：2013-02-25T04:17:50.427
> 
> 标签：ruby-on-rails, coffeescript, angularjs, angular-resource

当页面加载时，资源会抛出 404，因为 $resource 正在读取 nil for :city_id。我从 angularjs 开始，所以任何澄清都值得赞赏。

表单条目无法保留，因为此 $resource 还用于 PUT 模型中的条目。

```
app = angular.module("CityAngular", ["ngResource"])
app.factory "Seal", ["$resource", ($resource) ->
    $resource("/cities/:city_id/seals/:id", {city_id: "@city_id", id: "@id"}, {update: {method: "PUT"}})
]

@SealCtrl = ["$scope", "Seal", ($scope, Seal) ->
    $scope.seals = Seal.query()

    $scope.addSeal = ->
        seal = Seal.save($scope.newSeal)
        $scope.seals.push(seal)
        $scope.newSeal = {}
] 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T12:38:29.753

当您提到 rails 时，我建议您查看[angularjs-rails-resource](https://github.com/tpodom/angularjs-rails-resource)。它使使用资源变得更加容易。当您将海豹嵌套在 city 下方时，您始终必须提供 city_id。

```
app = angular.module("CityAngular", [])
app.factory "Seal", ["railsResourceFactory", ($resource) ->
  $resource url: "/cities/{{city_id}}/seals/{{id}}", name: 'seal'
]

app.controller 'SealCtrl', ["$scope", "Seal", ($scope, Seal) ->
  $scope.city_id = 1

  $scope.seals = Seal.query(city_id: $scope.city_id)

  $scope.addSeal = ->
    $scope.newSeal.city_id = $scope.city_id
    seal = new Seal($scope.newSeal).create()
    $scope.seals.push(seal)
    $scope.newSeal = {}
] 
```

# mysql - 桌面应用程序 gui 设计 - 最佳工具

> ID：15060018
> 
> 赞同：2
> 
> 时间：2013-02-25T04:17:53.103
> 
> 标签：mysql, windows, user-interface, powerpoint

我正在做一个项目——一个办公室信息管理系统，数据库是一个 MySQL 数据库，现在我必须构建前端 GUI。我已经用 PP 绘制了一个屏幕示例的模型（我的系统中总共有 15 个），

我的问题是如何构建 GUI？哪种工具/语言简单易学？我想过C++，但我没有经验......

必须从数据库中检索信息、读取、写入、查询等。很乐意阅读您的想法

![Powerpoint初始模型][1]

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-25T04:54:05.277

您应该想到的实现是您知道的编程语言中的实现。您可以用多种语言对此进行编程：

*   视觉基础。如果您已经知道，这可能是最快的。启动 IDE 并为您的数据库应用程序组合一个表单项目。
*   爪哇。许多人都知道 Java，您可以在几天内学会它，并且您可能会在多个项目中使用它。您在 Eclipse 或 Netbeans 中使用用于 DB 连接的 DB 驱动程序构建的 Swing 或 AWT 项目将起作用。
*   Python 也是一种流行的选择。您可以使用库[tkinter](http://wiki.python.org/moin/TkInter)来制作快速 GUI。
*   C/C++ 也可以。但是，如果您还不了解 C/C++，您可能想要构建具有更高抽象的 GUI。
*   一个带有 CSS/JScript 的 Web 应用程序，使用一些 Javascript 框架来执行 DB i/o。但从你的问题来看，你肯定想要一个桌面应用程序。
*   使用这个项目来学习一门新语言。您可能不知道 Lua、Haskell、Clojure、Scala、Kotlin、Fantom、Erlang 或其他一些您不知道如何连接到 MySQL 的工具，那么使用新语言这样做是一个很好的做法。

以上任何一项都可以工作，如果我面对这个项目，我会使用上述工具。

# r - 如何构造“引用表达式”以在 reshape2 的 dcast 中使用？

> ID：15060021
> 
> 赞同：1
> 
> 时间：2013-02-25T04:18:07.867
> 
> 标签：r, reshape2

reshape2 的文档提供了有关 dcast 的子集属性的以下详细信息：

> ```
> subset quoted expression used to subset data prior to 
>      reshaping, e.g. subset = .(variable=="length"). 
> ```

但是，尝试使用此语法会导致以下错误：

```
Error in cast(data, formula, fun.aggregate, ..., subset = subset, fill = fill,  : 
  could not find function "." 
```

如何构造一个“引用表达式”以在 dcast 子集中使用？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-25T04:18:07.867

`.`实际上是`plyr`包提供的一个功能。

using `library(reshape2)`or`require(reshape2)`导致`plyr`通过命名空间加载而不附加。为了使`.(expr)`语法起作用，`plyr`必须显式附加。

# matlab - 基本 Matlab FOR 函数

> ID：15060024
> 
> 赞同：0
> 
> 时间：2013-02-25T04:18:16.823
> 
> 标签：matlab

我正在尝试执行这个 matlab 图表。到目前为止，这是我的代码，它似乎不起作用。

基本上，如果 X 大于 10，那么它会转到 X = X - index 的部分，并且 index 等于起始值。每次循环执行时，将X的值与索引的值相加，通过X=X+索引部分将X和索引往回跑，直到索引高于结束值。

如果 X<=10，那么它去 X = X + index，并且 index 等于起始值。每次循环执行时，将索引添加到X以更新X，将索引添加到增量以更新索引，并且通过X = X + index部分将X和索引运行回来，直到索引高于最终值。

这有意义吗？

```
if (X > 10);
   index = start_value;
   for X = [X:index + increment :end_value];
      Y= X - index;
      index = index + increment;
      fprintf('%i, %i\n', Y, index)
   end
elseif (X <= 10)
   index = start_value;
   for X = [X: index + increment :end_value];
      Y = X + index;
      index = index + increment;
      fprintf('%i, %i\n', Y, index)
   end
end 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T16:33:17.570

不确定您要做什么，但是让`X`依赖于的东西循环`X`只会使事情变得不那么清楚（并且可能不会像您期望的那样工作）。

请注意，`for`循环的正常语法是：

```
for t = startpoint:increment:endpoint
  % do stuff 
  % You can read here from t, startpoint,increment,endpoint but not update them
end 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T04:45:40.717

您的描述和代码完全矛盾……请仔细检查这两个 for 循环。我将列出差异：

1.  如果 X 大于 10，则它转到以下部分`X = X - index`：以下代码行不表示：

`for X = [X:index + increment :end_value]; %3rd line of your code`

1.  每次执行循环时，都会从增量中减去索引：以下代码行并不表示：

`index = index + increment; %5th line of your code`

1.  X 和索引通过`X = X + index section`, 直到索引高于结束值：不清楚你想说什么

2.  如果`X<=10`，那么它转到`X = X + index`：代码的第 10 行并不表示

请更正这些错误。

# asp.net-mvc - MVC4：在某些控制器上禁用移动视图

> ID：15060025
> 
> 赞同：5
> 
> 时间：2013-02-25T04:18:17.860
> 
> 标签：asp.net-mvc, asp.net-mvc-4

我的所有视图都有 .cshtml 和 .Mobile.cshtml。有没有办法在某些控制器上禁用 .Mobile.cshtml？对于这样的控制器，我总是想使用普通视图而不是移动视图。

谢谢！！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-25T10:29:59.720

抱歉听起来很愚蠢。但是，如果您总是想使用普通视图，只需从项目中删除移动视图即可。

**编辑**

要强制浏览器在移动设备上加载桌面视图，您需要使用 BrowserHelper [SetOverriddenBrowser](http://msdn.microsoft.com/en-us/library/system.web.webpages.browserhelpers.setoverriddenbrowser%28v=vs.111%29.aspx)

在您的操作方法中，您可以执行以下操作

```
HttpContext.SetOverriddenBrowser(BrowserOverride.Desktop); 
```

试试这个链接以获得更多帮助[http://blog.mirajavora.com/overriding-browser-capabilities-in-asp.net](http://blog.mirajavora.com/overriding-browser-capabilities-in-asp.net)

# c++ - 删除变量时出现奇怪的错误

> ID：15060033
> 
> 赞同：1
> 
> 时间：2013-02-25T04:19:18.307
> 
> 标签：c++

所以我得到了 A 类和 B 类，其中 A 类是 B 类的基类。但是当我做这样的事情时：

```
int main()
{
   B der(222);
   A* test;
   test = &der;
   delete test;
} 
```

我收到一个错误：

```
debug assertion failed!

program:.......
line 52 

Expression:_BLOCK_TYPE_IS_VALID(pHead0>nBlockUse) 
```

任何想法？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-25T04:21:50.877

您不能调用`delete`未手动为其分配内存的变量。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-25T04:26:16.280

在您的代码`der`中不是动态分配的对象。即，它不是使用分配的`new`。所以你不应该`delete`在那个对象上使用。`der`一旦超出范围，对象将被自动销毁。如果你想使用`delete`，那么你应该使用创建对象`new`

```
A * test = new B(222);
delete test; 
```

# c# - 使用 C# 登录网站

> ID：15060034
> 
> 赞同：0
> 
> 时间：2013-02-25T04:19:19.750
> 
> 标签：c#, asp.net, html, login, web-scraping

在每个人都因为这个问题已经得到回答而感到不安之前。我在网上搜索了如何做到这一点，并尝试了多种方法。[通过 C# 登录网站](https://stackoverflow.com/questions/930807/c-sharp-login-to-website-via-program)以及[如何以编程方式登录网站以进行屏幕显示？](https://stackoverflow.com/questions/975426/how-to-programmatically-log-in-to-a-website-to-screenscape)这两个都很有帮助，但我无法弄清楚为什么我无法通过登录页面。这是我的代码：

```
string url = "https://www.advocare.com/login.aspx";
string url2 = "https://url.after.login";
HttpWebRequest wReq = WebRequest.Create(url) as HttpWebRequest;
wReq.KeepAlive = true;
wReq.Method = "POST";
wReq.AllowAutoRedirect = false;
wReq.ContentType = "application/x-www-form-urlencoded";
string postData = "ctl00$cphContent$txtUserName=Username&ctl00$cphContent$txtPassword=Password";
byte[] dataBytes = UTF8Encoding.UTF8.GetBytes(postData);
wReq.ContentLength = dataBytes.Length;
using (Stream postStream = wReq.GetRequestStream())
{
   postStream.Write(dataBytes, 0, dataBytes.Length);
}
HttpWebResponse wResp = wReq.GetResponse() as HttpWebResponse;
string pageSource;
wReq = WebRequest.Create(url2) as HttpWebRequest;
wReq.CookieContainer = new CookieContainer();
wReq.CookieContainer.Add(wResp.Cookies);
HttpWebResponse wResp2 = wReq.GetResponse() as HttpWebResponse;
using (StreamReader sr = new StreamReader(wResp2.GetResponseStream()))
{
    pageSource = sr.ReadToEnd();
} 
```

每次我查看 pageSource 时，它​​都是 login.aspx 页面的 HTML。我一定在这里遗漏了一些东西。也许它没有吃饼干，我不知道。除了为什么这不起作用之外，我还有一个问题是在字符串 postData = "" 中。这些假设是 html 标记的名称或 id 部分吗？非常感谢对此的任何帮助，因为我很难过，必须找到不同的方法。我想继续使用`WebRequest`and`WebResponse`而不是使用`WebBrowser`. 如果我不能，哦，好吧。再次感谢任何帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T04:35:51.637

除了登录，您还想做什么？如果它喜欢以编程方式对网站进行 QA，我建议使用 selenium 并以此为基础创建 ac# 应用程序。如果你想要我可以发布一个链接到一个基于硒的项目的基础项目。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T05:06:07.940

不一定要查看页面源，而是查看实际的 HTTP POST。安装 HTTP 代理，例如[Fiddler](http://www.fiddler2.com)，然后重新访问您尝试模拟的页面。完成 HTTP POST 请求，并检查代理中产生的结果。从那里您将能够看到正在传递的实际参数、cookie、标头等，然后您可以尝试在您的代码中复制这些。当只是查看 HTML 源代码但监控网络流量非常简单时，通常很容易错过一些东西。

# forms - 自定义组件使表单无效 | AngularJS

> ID：15060035
> 
> 赞同：2
> 
> 时间：2013-02-25T04:19:27.220
> 
> 标签：forms, angularjs, angularjs-directive

我已经搜索了我的方式，但无法弄清楚这一点。我制作了一个指令`manyToOneSelect`（自定义组件），它从服务器加载项目，将它们显示给用户并让用户选择一个。这很好用，但我不知道如果用户没有选择任何项目，如何防止表单被提交，即如何使表单无效。

以下几乎是指令：

```
angular.module('myApp.directives').
    directive('manyToOneSelect', function(entityService) {
        return {
            restrict:'E',
            templateUrl:'partials/control/n21select.html',
            scope:{
                entityName:'@',
                entityField:'@',
                bindVariable:'='
            },
            compile:function (tElement, tAttrs, transclude) {
                return function (scope, element, attrs) {
                    var inner = element.children("#n21select");
                    scope.entities = [];
                    scope.$watch('entityName', function ($new, $old) {
                        entityService.getList(scope.entityName, function (data) {
                            scope.entities = data;
                        }, []);
                    }, true);
                    scope.lookup = function(uuid) {
                        for(var i in scope.entities) {
                            if(scope.entities[i].uuid == uuid) {
                                return scope.entities[i];
                            }}}}}}}); 
```

这是相应的部分`partials/control/n21select.html`：

```
<select ng-hide="disable" ng-options="entity.uuid as entity[entityField] for entity in entities" ng-model="bindVariable" required></select>
<span ng-show="disable">{{lookup(bindVariable)[entityField]}}</span> 
```

这是我使用指令的方式：

```
<form ng-href="#/" ng-submit="save()">
<many-to-one-select entity-name="customer" entity-field="name"
    bind-variable="entity.customerUuid"></many-to-one-select>
... 
```

我的问题似乎缺乏策略，而不是“没有完全让它发挥作用”，因此您在我上面发布的代码中看不到任何尝试。让这成为一个相当开放的问题：如何做到这一点？:) 非常感谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T04:48:08.177

有几种方法可以做到这一点。

考虑到您已经如何构建指令，一种方法是为表单本身添加一个范围属性。就像是：

```
scope: {
   form: '='
} 
```

然后你会像这样传递你的表单元素：

```
<form name="myForm" ng-submit="whatever()">
   <my-directive-name form="myForm"></my-directive-name>
</form> 
```

在您希望使表单无效的情况下，您只需对其调用 $setValidity ：

```
link: function(scope, elem, attr) {
  if(somethingIsWrong) scope.form.$setValidity('reason', false);
} 
```

**这是一种方法，如果您可以重新设计指令，这是一种*更好的方法：***

另一种可能是首选的方法是让您的指令需要 ngModel。然后，您将对验证进行更精细的控制，因为 ngModel 的控制器将被传入，您可以使用它来使表单和表单上的单个字段无效：

```
 app.directive('bettererWay', function() {
      return {
         require: 'ngModel',
         restrict: 'E',
         link: function(scope, elem, attr, ngModel) {
             if(somethingIsBad()) ngModel.$setValidity('somethingIsBad', false);
         }
      };
   }); 
```

简而言之，这就是你的做法。希望这能让你朝着正确的方向开始。

* * *

**编辑：无论有效性如何，提交的奇怪问题（在评论中）**

这显然是 Angular 试图遵守 HTML 规范引起的问题。

从他们的代码中的评论[大约。第 214 行](https://github.com/angular/angular.js/blob/master/src/ng/directive/form.js)：

```
* To prevent double execution of the handler, use only one of ngSubmit or ngClick directives. This
 * is because of the following form submission rules coming from the html spec:
 *
 * - If a form has only one input field then hitting enter in this field triggers form submit
 * (`ngSubmit`)
 * - if a form has has 2+ input fields and no buttons or input[type=submit] then hitting enter
 * doesn't trigger submit
 * - if a form has one or more input fields and one or more buttons or input[type=submit] then
 * hitting enter in any of the input fields will trigger the click handler on the *first* button or
 * input[type=submit] (`ngClick`) *and* a submit handler on the enclosing form (`ngSubmit`) 
```

因此，鉴于上述情况，将指令绑定到页面上隐藏类型的输入元素而不是它自己的元素可能是一个好主意。如果表单上有多个元素，则无效性会阻止提交就好了。

# r - 如何放置 x 轴值

> ID：15060036
> 
> 赞同：0
> 
> 时间：2013-02-25T04:19:28.103
> 
> 标签：r

我想将 x 轴值作为 2002 到 2011 年到相应的箱线图，每个分别显示从 2002 年到 2011 年的数据。一定有什么诀窍！

代码：

```
d = read.table("C:/sample.txt", sep="\t", header=TRUE)
attach(d)
summary(d)
boxplot(2002, 2003,2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 
        data=d, boxcol="blue", medcol="red", whiskcol="blue", 
        staplecol="blue", ylim = c(0, 1), lty=1, las=1, ylab = "NDVI", 
        outline = FALSE, boxfill = FALSE) 
```

样本数据

```
2002    2003    2004    2005    2006    2007    2008    2009    2010    2011
0.8392  0.8337  0.8145  0.8306  0.8545  0.7876  0.8491  0.8568  0.8459  0.8778
0.8251  0.7509  0.7301  0.7829  0.8103  0.7368  0.7122  0.685   0.7623  0.8159
0.8584  0.8217  0.8105  0.8295  0.8382  0.769   0.8265  0.8287  0.8344  0.8204
0.8651  0.8211  0.8346  0.8624  0.8629  0.7926  0.8543  0.8648  0.8456  0.8656
0.7991  0.7653  0.7512  0.8106  0.8354  0.7013  0.752   0.8256  0.8235  0.7579
0.8572  0.8186  0.8009  0.6988  0.719   0.7645  0.8142  0.8164  0.7529  0.7214
0.8483  0.8159  0.833   0.8401  0.8426  0.7777  0.8608  0.8243  0.8426  0.8602 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-25T04:51:55.580

你的电话`boxplot`是错误的。

见下文。

```
> df <- read.table(textConnection('2002    2003    2004    2005    2006    2007    2008    2009    2010    2011
+ 0.8392  0.8337  0.8145  0.8306  0.8545  0.7876  0.8491  0.8568  0.8459  0.8778
+ 0.8251  0.7509  0.7301  0.7829  0.8103  0.7368  0.7122  0.685   0.7623  0.8159
+ 0.8584  0.8217  0.8105  0.8295  0.8382  0.769   0.8265  0.8287  0.8344  0.8204
+ 0.8651  0.8211  0.8346  0.8624  0.8629  0.7926  0.8543  0.8648  0.8456  0.8656
+ 0.7991  0.7653  0.7512  0.8106  0.8354  0.7013  0.752   0.8256  0.8235  0.7579
+ 0.8572  0.8186  0.8009  0.6988  0.719   0.7645  0.8142  0.8164  0.7529  0.7214
+ 0.8483  0.8159  0.833   0.8401  0.8426  0.7777  0.8608  0.8243  0.8426  0.8602'), header=TRUE)
> boxplot(df, names=2002:2011) 
```

![在此处输入图像描述](../Images/8f9866fcfe07f9d21fa9f712898af60c.png)

如果您`boxplot`使用示例中指定的其他参数进行调用，则会得到以下信息。

```
> boxplot(df, names=2002:2011, boxcol="blue",
          medcol="red", whiskcol="blue", staplecol="blue",
          ylim = c(0, 1), lty=1, las=1, ylab = "NDVI", 
          outline = FALSE, boxfill = FALSE) 
```

![在此处输入图像描述](../Images/d73d3da85520384960ecdface50f38ff.png)

# php - 在数据库中加载图像增量计数器

> ID：15060037
> 
> 赞同：0
> 
> 时间：2013-02-25T04:19:35.327
> 
> 标签：php, mysql

我在一个网站上发现我可以创建一个可以通过电子邮件发送的图像..打开电子邮件时，会向我发送一条通知..我想知道如何在 PHP 和MySQL .. 我有一个表，其中包含这些 ID 的 ID 和计数器值 .. 我希望，当调用图像时，适当的 ID 计数器增加 1。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-25T04:29:20.653

您在电子邮件正文中放置一个图像标签，如下所示：

```
<img src='http://www.abc.com/track.php?id=XX&a=22' width='1' height='1' /> 
```

这个 track.php 应该呈现空白图像，并且您可以有逻辑来跟踪 track.php 中打开的电子邮件。即，您可以根据 GET 参数将条目插入数据库。

# c - 字节交换/反转字符数组

> ID：15060041
> 
> 赞同：1
> 
> 时间：2013-02-25T04:20:14.730
> 
> 标签：c, arrays, char, reverse

我正在寻找一种方法来反转字符数组中的字节。在将它们放置在正确的位置之前，我还需要反转正在交换的字节的各个位。例如，假设我有一个 char arr[1000]，其 arr[0] = 00100011 和 arr[999] = 11010110，我想交换 arr[0] 和 arr[999] 并反转每个位中的位。所以输出将是 arr[999]= 11000100（arr[0] 的反转位）和 arr[0] = 01101011（arr[999] 的反转位）。

我有一些代码可以在字节内进行位反转：

```
static  char reverseByte(char val)
{
    char result = 0;

    int counter = 8;
    while (counter-- < 0)
    {
        result <<= 1;
        result |= (char)(val & 1);
        val = (char)(val >> 1);
    }

    return result;
} 
```

但这意味着运行一个外部循环来进行字节交换，然后为内部的每个字节运行上述小循环，即在上述情况下为 1000。这是正确的方法吗？有没有更好的方法来实现这一目标？任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T04:43:32.693

这个怎么样？：

```
#include <stdio.h>
#include <limits.h>

#if CHAR_BIT != 8
#error char is expected to be 8 bits
#endif

unsigned char RevByte(unsigned char b)
{
  static const unsigned char t[16] =
  {
    0x0, 0x8, 0x4, 0xC, 0x2, 0xA, 0x6, 0xE,
    0x1, 0x9, 0x5, 0xD, 0x3, 0xB, 0x7, 0xF
  };
  return t[b >> 4] | (t[b & 0xF] << 4);
}

void RevBytes(unsigned char* b, size_t c)
{
  size_t i;
  for (i = 0; i < c / 2; i++)
  {
    unsigned char t = b[i];
    b[i] = RevByte(b[c - 1 - i]);
    b[c - 1 - i] = RevByte(t);
  }
  if (c & 1)
    b[c / 2] = RevByte(b[c / 2]);
}

int main(void)
{
  int i;
  unsigned char buf[16] = 
  {
    0x0, 0x8, 0x4, 0xC, 0x2, 0xA, 0x6, 0xE,
    0x1, 0x9, 0x5, 0xD, 0x3, 0xB, 0x7, 0xF
  };

  RevBytes(buf, 16);

  for (i = 0; i < 16; i++)
    printf("0x%02X ", buf[i]);
  puts("");

  return 0;
} 
```

输出（[ideone](http://ideone.com/LhrJS7)）：

```
0xF0 0xE0 0xD0 0xC0 0xB0 0xA0 0x90 0x80 0x70 0x60 0x50 0x40 0x30 0x20 0x10 0x00 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T04:32:59.657

反转集合的元素是一个古老的技巧 - 你交换 first 和 last，然后 first+1 和 last-1，然后......直到 first+i 等于或者比 last-j 更远。

所有你需要添加的是

-在交换它们之前翻转两个条目的位

- 如果中间还剩下一个元素，请当场翻转它的位

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-25T04:44:17.820

为此-假设您的位反转方法是正确的-如果您可以节省额外`char`的存储空间，则可以简单地遍历字节。考虑以下方法：

```
static void swapReverseBytes(char* arr, size_t len)
{
  int i = 0;
  char tmp = 0;
  if(arr == NULL || len < 1)
    return;
  if(len == 1) {
    arr[0] = reverseByte(arr[0]);
    return;
  }
  for(i = 0 ; i < (len / 2) ; ++i) {
    tmp = arr[len - i - 1];
    arr[len - i - 1] = reverseByte(arr[i]);
    arr[i] = reverseByte(tmp);
  }
} 
```

这是一个粗略的草图（我认为应该编译），假设我没有错误，这应该可以工作。如前所述，使用 a 反转位可能是最快的`LUT`，但字节交换方法将相对相似，因为您需要实际移动每个字节，除非您保留有关数组遍历顺序的某些状态。如果是这种情况，很可能简单地使用某种状态（即标志）来确定是应该正常遍历数组（`1...n`）还是以相反的顺序（`n...1`）遍历数组。无论如何，交换在 Big-O 中是“免费的”，但实际上*可能*（不一定）显示出性能影响。所以如果你的优化真的是速度和额外的`int`在太空中并不算多，这种状态对你来说可能是值得的。请注意，此技巧仅在这是内部的情况下才有效。如果这个方法对用户是公开的并且他或她不知道这个标志，那么这实际上不会翻转任何东西。使用它的另一个选项是，如果您可以使用`C++`，您可以创建一个为用户封装此功能的类。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-25T04:47:41.123

为此-假设您的位反转方法是正确的-如果您可以节省额外`char`的存储空间，则可以简单地遍历字节。考虑以下方法：

```
static void swapReverseBytes(char* arr, size_t len)
{
  int i = 0;
  char tmp = 0;
  if(arr == NULL || len < 1)
    return;
  if(len == 1) {
    arr[0] = reverseByte(arr[0]);
    return;
  }
  for(i = 0 ; i < (len / 2) ; ++i) {
    tmp = arr[len - i - 1];
    arr[len - i - 1] = reverseByte(arr[i]);
    arr[i] = reverseByte(tmp);
  }
} 
```

这是一个粗略的草图（我认为应该编译），假设我没有错误，这应该可以工作。如前所述，使用 a 反转位可能是最快的`LUT`，但字节交换将相对相似，因为您需要实际移动每个字节，除非您保留有关数组遍历顺序的某些状态。如果是这种情况，很可能简单地使用某种状态（即标志）来确定是应该正常遍历数组（`1...n`）还是以相反的顺序（`n...1`）遍历数组。无论如何，交换在 Big-O 中是“免费的”，但实际上*可能*（不一定）显示性能影响（因为不会有“实际的”字节顺序交换）。请注意，如果用户期望一个已排序的数组，这将不起作用 - 此技巧仅在这是内部的情况下有效（或者您有某种封装，例如在`C++`类中）。

# r - 如何在 R 中创建具有特定 MA（或 q）项的 ARIMA 模型

> ID：15060045
> 
> 赞同：3
> 
> 时间：2013-02-25T04:20:44.840
> 
> 标签：r, time, time-series

我无法确定使用 arima{stats} 创建具有特定 MA 术语的 ARMA 模型的特定方法，这些 MA 术语不仅仅由最大数量指定。

我的意思是，我需要指定一个 AR(1)MA(1,4) 模型，该模型应该导致截距、AR1 项、MA1 项和 MA4 项……但这与AR(1)MA(4) 模型，其中包含 MA1、MA2、MA3 和 MA(4) 的项。

我可以使用 tseries 包中的 arma 函数来做到这一点。

```
> ar1ma14.model<-arma(ppi.d, lag=list(ar=1, ma=c(1,4)))
Warning message:
In arma(ppi.d, lag = list(ar = 1, ma = c(1, 4))) : order is ignored 
```

> 摘要（ar1ma14.model）

```
Call:
arma(x = ppi.d, lag = list(ar = 1, ma = c(1, 4)))

Model:
ARMA(1,4)

Residuals:
   Min         1Q     Median         3Q        Max 
-0.0401487 -0.0056047  0.0004295  0.0045259  0.0379418 

Coefficient(s):
           Estimate  Std. Error  t value Pr(>|t|)    
ar1        0.765279    0.080376    9.521  < 2e-16 ***
ma1       -0.355297    0.102216   -3.476 0.000509 ***
ma4        0.297776    0.098485    3.024 0.002498 ** 
intercept  0.001855    0.001026    1.808 0.070603 . 
```

所以它与 arma 一起工作，但是 arma 函数没有与 arima 相同的预测能力。

我已经尝试了在 arima(p,d,q) 中将列表作为 q 插入的所有可能性，但我找不到其他人做过的任何例子。

有人有想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-25T14:58:00.383

我想到了。

这就是季节性参数的用途，我怀疑，但无法使其正常工作。

本质上，AR(1)MA(1,4) 模型是一个 AR(1)MA(1) 模型，具有 t-4 周期的季节性移动平均值（这是有道理的，因为这是季度数据）。

所以使用 arima 的方法是：

```
ar1ma14.model<-arima(ppi.d, order=c(1,0,1), seasonal=list(order=c(0,0,1), period=4))

Call:
arima(x = ppi.d, order = c(1, 0, 1), seasonal = list(order = c(0, 0, 1), period = 4))

Coefficients:
         ar1      ma1    sma1  intercept
      0.8077  -0.3877  0.2297     0.0076
s.e.  0.0855   0.1295  0.0891     0.0032 
```

同样，我需要测试一个 AR(2)MA(|4|) 模型，该模型仅包含 MA4 项，不包含 MA1、MA2 或 MA3。所以这将是一个带有季节性 MA4 的 AR(2) 模型......

```
ar2ma4.model<-arima(ppi.d, order=c(2,0,0), seasonal=list(order=c(0,0,1), period=4))

Call:
arima(x = ppi.d, order = c(2, 0, 0), seasonal = list(order = c(0, 0, 1), period = 4))

Coefficients:
         ar1     ar2    sma1  intercept
      0.4570  0.1611  0.2574     0.0078
s.e.  0.0769  0.0790  0.0841     0.0027

sigma^2 estimated as 0.0001147:  log likelihood = 523.37,  aic = -1036.75 
```

# android - 网格视图图像不占用整个活动

> ID：15060055
> 
> 赞同：0
> 
> 时间：2013-02-25T04:21:50.297
> 
> 标签：android, android-gridview

我尝试使用像 Image1 这样的网格视图来制作带有 4 个图像的主菜单活动。但是图片并没有占据整个Activity的空间。Image2 显示了我的网格视图。如何在不滚动的情况下对齐 4 个图像并像 Image1 一样适合所有屏幕？

![Image1-我试着做这样](../Images/542538af6cca8f4247dff5d1a094c31a.png)

![Image2-我的网格视图-如何像 image1 一样适合屏幕](../Images/3023a2398be246e0cfd5e46fb4dd4e7a.png)

**活动主菜单.xml**

```
<GridView xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:id="@+id/gridview"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:numColumns="2"
    tools:context=".MainMenuActivity"
     /> 
```

**MainMenuActivity.java**

```
public class MainMenuActivity extends Activity {
    @Override
    protected void onCreate(Bundle savedInstanceState) {
            super.onCreate(savedInstanceState);
            setContentView(R.layout.activity_main_menu);
            GridView gridView = (GridView) findViewById(R.id.gridview);
            gridView.setAdapter(new ImageAdapter(this));
    }
} 
```

**ImageAdapter.java**

```
public View getView(int position, View convertView, ViewGroup parent) {

        ImageView imageView ;

        if(convertView==null)
        {
            imageView = new ImageView(mcontext);

            WindowManager wm = (WindowManager) mcontext.getSystemService(Context.WINDOW_SERVICE);

            Display display = wm.getDefaultDisplay();
            DisplayMetrics outMetrics = new DisplayMetrics ();
            display.getMetrics(outMetrics);

            float density  = mcontext.getResources().getDisplayMetrics().density;
            float dpHeight = outMetrics.heightPixels / density;
            float dpWidth  = outMetrics.widthPixels / density;

            int width=(int) (dpWidth/2);
            int height=(int) (dpHeight/2);

            imageView.setLayoutParams(new GridView.LayoutParams(parent.getWidth()/2,parent.getHeight()/2));
            imageView.setScaleType(ImageView.ScaleType.CENTER_CROP);

            //imageView.setLayoutParams(new GridView.LayoutParams(width,height));
            //imageView.setLayoutParams(new GridView.LayoutParams(imageView.getWidth(),imageView.getHeight()));
            //imageView.setBackgroundColor(000000);
            //imageView.setLayoutParams(new GridView.LayoutParams(400,200));
            //imageView.setLayoutParams(new GridView.LayoutParams());
            //imageView.setPadding(40,40,40,40);
        }
        else
        {
            imageView=(ImageView)convertView;
        }

        imageView.setImageResource(mThumbIds[position]);
        return imageView;
    }

    // references to our images
    private Integer[] mThumbIds = {
            R.drawable.mainmenu1, R.drawable.mainmenu2,
            R.drawable.mainmenu3, R.drawable.mainmenu4
    }; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T04:32:33.510

您需要指定一个单独的布局来表示您的网格视图中的每个项目。如果您尝试模拟您的 image1，很可能您必须创建一个单独的布局，其中将 RelativeLayout 作为父级，将 ImageView 和 TextView 作为子级。设置图像视图的高度和宽度以匹配父级（带有一些填充），并将 TextView 放置在图像顶部。

您还必须修改您的适配器以扩展此自定义视图并将您的数据源绑定到它（图像和文本）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-25T06:38:43.743

在您的代码中执行此操作：

```
 float density  = mcontext.getResources().getDisplayMetrics().density;
                float dpHeight = outMetrics.heightPixels / density;
                float dpWidth  = outMetrics.widthPixels / density;

                int width=(int) (dpWidth);
                int height=(int) (dpHeight);

                imageView.setLayoutParams(new GridView.LayoutParams(width,height));
                imageView.setBackgroundColor(000000);
                imageView.setScaleType(ImageView.ScaleType.CENTER_CROP); 
```

它将删除所有间距黑白图像。您可以禁用 gridview 上的滚动。

[链接在这里](https://stackoverflow.com/questions/4852867/how-to-disable-gridview-scrolling-in-android)

[链接这里2](https://stackoverflow.com/questions/6273335/remove-scroll-bar-track-from-scrollview-in-android)

# php - 我的 PHP 变量一直在回显相同的信息 - 而不是要抓取的 URL 中的新数据

> ID：15060060
> 
> 赞同：0
> 
> 时间：2013-02-25T04:22:29.737
> 
> 标签：php, jquery, variables, get

我遇到了一个问题，我成功地以**mywebsite.com/contact/?product=VAR1**的形式将 URL 变量从一个页面设置到另一个页面，并且它将在第二页上用我的**简单的代码。**

 **第一次使用很好，但之后的任何事情都不是。变量没有被清除/重新读取/重置有问题。URL 栏甚至在 URL 栏中读取良好 **mywebsite.com/contact/?product=VAR2**以便第一部分工作。

但是一旦存储了 VAR1，代码就不想获取 VAR2 部分。一旦加载一次，它就会不断重新显示 VAR1。

```
<?php echo htmlentities($_GET['product']); ?> 
```

如果它有所作为，我将成功地在 jQuery 值更改器中显示**?product=**信息：

```
$(".input-text").val('<?php echo htmlentities($_GET['product']); ?>'); 
```

我已经尝试过自己的解决方案，例如放入**unset($product);** 在最后一个**？>**之前，但无济于事。

我对 PHP/jQuery 的了解有限，并且想使用这种设置/抓取变量的方式，因为它很简单。我在 jQuery 中使用它，因为它可以使用传递的这个变量重写确切的表单输入框值，并成功地将它发送到我的 CMS 的联系表单中。

**------------------------ 更新：添加代码 ---------- --**

（我只是在逻辑上显示我能想到的所有代码）

#1：在 URL 中设置变量。第一个 echo getURL 显示 url，我添加我的 ?product= 然后它获取项目名称。这一切都很好。

```
<a href="<?php echo Mage::getURL('webforms/index/index/id/2') ?>?product=<?php echo $_product->getName(); ?>"> 
```

#2：我的表单是在我的 CMS 中设置的。它有一个特殊的类，所以我可以在我的 jQuery 中准确地选择它。我无权访问所有这些，它是由 CMS 生成的。目的很明显是通过这个变量让选定的产品被记住，并在联系表中服务。

```
<div class="field webforms-fields-enquiryfield">
<label for="field_20">
Product in Enquiry
</label>
<div class="input-box">
<input type="text" name="field[20]" id="field[20]" class="input-text" style="" value="">                        
</div>
</div> 
```

#3：现在我的显示区域和&变量都设置好了，我们使用jQuery将变量插入到输入文本表单的实际值中。我这样做是因为在我的 CMS 中我无法简单地添加它。我必须使用 jQuery 来替换文本（无论如何都是空框）。

```
$(".webforms-fields-enquiryfield .input-text").val('<?php echo htmlentities($_GET['product']); ?>'); 
```

希望这更有意义。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T00:30:22.137

我已经找到了答案，问题是 CMS Magento 喜欢缓存某些块 - 这就是为什么我可以先查看它，然后我的 CMS 会存储变量但不会删除它。无论我尝试禁用缓存的修复方法是什么，都不行。

相反，我最终使用了以下代码，使用 # 变量和一些任何人都可以理解的简单 JavaScript。毫无疑问，我将在未来的项目中使用它！非常容易的变量传递...

```
if(window.location.hash) {

var hash_value = window.location.hash.replace('#', '');

  $("my-css-input-field-or-whatever-you-want").val(hash_value);

} 
```

我想现在可以以多种方式使用 hash_value，这在我的 Magento 设置中运行良好，它不会被缓存/存储。而是获取 URL 位置和哈希值。

（并且使用的 PHP 简化了任何人都可以在 CMS 中替换/重用）

```
<a href="[GetBaseURLfromCMS]#[MyDynamicVariableHere] "> 
```**

# iphone - 我应该在 ubuntu 上为 iphone-dev 构建 llvm 吗？

> ID：15060071
> 
> 赞同：1
> 
> 时间：2013-02-25T04:23:40.987
> 
> 标签：iphone, ubuntu, llvm

我尝试遵循本指南：

[http://code.google.com/p/iphone-dev/wiki/Building](http://code.google.com/p/iphone-dev/wiki/Building)

它希望我从源代码构建**LLVM**，但我已经使用**apt-get在****Ubuntu**中安装了一个，为什么他们要我从源代码编译？我可以使用**Ubuntu**社区提供的那个吗？如果不是，它们将如何共存？我应该先卸载 apt-installed **llvm**吗？

 ******* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-25T04:35:49.327

您正在查看的指南已经过时了几年，并且很可能**无法**正常工作。（事实上​​，有大量令人沮丧的评论表明它至少自 2011 年以来就没有工作过，因为 Mac OS X 10.4u SDK 不再可供下载。）

iOS 开发唯一受支持的平台是 Mac OS X。如果您想做 iOS 开发，我强烈建议您使用该平台，因为基本上您在网上找到的所有教程都会假设您正在使用该平台。

话虽如此，**如果**说明正确，您仍然需要与 Ubuntu 提供的版本分开构建 LLVM，因为 iOS 设备使用 ARM CPU，并且发行版的 LLVM 只会为您的系统编译二进制文件（可能是 x86 或x86-64）。******

# iphone - UISegmentController 和 UIViews

> ID：15060073
> 
> 赞同：4
> 
> 时间：2013-02-25T04:23:52.153
> 
> 标签：iphone, ios, objective-c, uisegmentedcontrol

我想知道如何正确操作两个视图`UISegmentController`。

现在我有两个`UIViews`和`UISegmentController`过程**changeView**：

```
- (void)changeView:(NSInteger)index {
switch (index) {
    case 0:
        self.recipeInfoView.alpha = 1;
        self.recipeInfoView2.alpha = 0;
        break;
    case 1:
        self.recipeInfoView.alpha = 0;
        self.recipeInfoView2.alpha = 1;
        break;

    default:
        break;
} 
```

这段代码可以工作，但是每个视图都有相同的位置和大小，使用它非常不舒服。我正在使用故事板。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-25T04:30:18.997

首先编写以下代码以创建`UISegmentedControl`并赋予您的`UIView`.

```
- (void)viewDidLoad
{
    [super viewDidLoad];

   //Make hide of your UIView 
       self.recipeInfoView.hide = YES;
       self.recipeInfoView2.hide = YES;

  //Give color of your UIView
       self.recipeInfoView.backgroundColor = [UIColor redColor];
       self.recipeInfoView.backgroundColor = [UIColor blackColor];

  //Create UISegmentedControl Controller 
    NSArray *itemArray = [NSArray arrayWithObjects: @"FirstView", @"SecondView", nil];
    self.segmentedControl= [[UISegmentedControl alloc] initWithItems:itemArray];
    self.segmentedControl.frame = CGRectMake(35, 100, 250, 33);
    self.segmentedControl.segmentedControlStyle = UISegmentedControlStyleBar;
    self.segmentedControl.momentary=NO;
    self.segmentedControl.tintColor=[UIColor darkGrayColor];

    [self.segmentedControl addTarget:self action:@selector(segmentAction:) forControlEvents:UIControlEventValueChanged];

    [self.view addSubview:self.segmentedControl];

} 
```

//segmentAction 方法

```
- (IBAction)segmentAction:(id)sender
{
    if([sender selectedSegmentIndex] == 0)
    {
       if(self.recipeInfoView.isHidden == YES)
          self.recipeInfoView.Hidden == NO;
      else
          self.recipeInfoView.Hidden == NO;

      if(self.recipeInfoView2.isHidden == YES)
           self.recipeInfoView2.Hidden == YES;
      else
           self.recipeInfoView2.Hidden == YES;

   }
   else if([sender selectedSegmentIndex] == 1)
   {
       if(self.recipeInfoView2.isHidden == YES)
           self.recipeInfoView2.Hidden == NO;
       else
           self.recipeInfoView2.Hidden == NO;

       if(self.recipeInfoView.isHidden == YES)
            self.recipeInfoView.Hidden == YES;
       else
           self.recipeInfoView.Hidden == YES; 

    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-25T06:10:49.410

设置视图属性 hidden = YES 或 NO 而不是为视图设置 alpha

# java - Facebook Android SDK 3.0，发布提要对话框有灰色背景

> ID：15060075
> 
> 赞同：3
> 
> 时间：2013-02-25T04:23:54.417
> 
> 标签：java, android, facebook, facebook-android-sdk

我正在按照[http://developers.facebook.com/docs/howtos/androidsdk/3.0/feed-dialog/](http://developers.facebook.com/docs/howtos/androidsdk/3.0/feed-dialog/)上的教程在 Android 中实现提要发布对话框。当我的对话框显示时，底部大约一半的对话框显示灰色背景。似乎对话框的内容只占屏幕的一半，然后用灰色覆盖了我的视图。有没有人遇到过这个问题？

# html - 使用带线条的 globalCompositeOperation？

> ID：15060076
> 
> 赞同：0
> 
> 时间：2013-02-25T04:24:10.270
> 
> 标签：html, html5-canvas, globalcompositeoperation

我正在尝试使用 HTML 5 的 canvas 元素制作时钟。

我想要做的是每秒划一条线，然后擦除前一条线。

我想用绘制另一条线来擦除前一条线，`globalCompositeOperation='xor';`但它不起作用！

这是代码：

```
 <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
    <html xmlns="http://www.w3.org/1999/xhtml">
    <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Clock</title>
    </head>

    <body onload="spin()">
    <canvas id="myCanvas" width="578" height="400"></canvas>
    <script>
    var firstTime = 0;
    var prevX=null;
    var prevY=null;

    function spin() {
        //get the canvas element
        var canvas = document.getElementById('myCanvas');
        var context = canvas.getContext('2d');

        //get the right angle for the clock hand
        var date = new Date;
        var seconds = date.getSeconds();
        var a = seconds*6;
        var angleRadian = a*Math.PI/180;
        var angle = 1/2*Math.PI - angleRadian;

        if(a > 360)
            a = 0; 
        //Erase the previous line, if it has been drawn.
        if(prevX!=null)
            erasePrevLine(angle, canvas, context);
        //draw line
        drawLine(angle, 100, canvas, context);
        //repeat for the next second
        setTimeout(spin, 500);
    }
    function drawLine(angle, radius, canvas, context)   {
        var centerX = canvas.width/2;
        var centerY = canvas.height/2;

        var xTarget = centerX + Math.cos(angle)*radius;
        var yTarget = centerY - Math.sin(angle)*radius;

        //save this state to be erased
        prevX = xTarget;
        prevY = yTarget;

        //draw
        context.beginPath();
        context.moveTo(centerX,centerY);
        context.lineTo(xTarget, yTarget);
        context.stroke();
    }
    function erasePrevLine(angle, canvas, context)  {
        context.globalCompositeOperation = 'xor';
        var centerX = canvas.width/2;
        var centerY = canvas.height/2;
        prevAngle = angle + (Math.PI/180*6);
        var xTarget = prevX;
        var yTarget = prevY;

        //draw on the previous line
        context.beginPath();
        context.moveTo(centerX,centerY);
        context.lineTo(xTarget, yTarget );
        context.stroke();
    }
    </script>
    </body>
    </html> 
```

这是现场示例： http: [//jsfiddle.net/pyerT/1/](http://jsfiddle.net/pyerT/1/) 有人知道答案吗？它适用于形状和文本..

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-25T06:56:08.993

globalCompositeOperation (xor) 不能像“时钟指针”一样在**旋转线上工作……原因如下：**

假设你画一条垂直线。然后在第一条的右侧绘制第二条垂直线。假设第二条垂直线与第一条线**重叠**一半。

Canvas.globalCompositeOperation=”xor” 导致重叠区域被移除，因此第二行移除了第一行的**一半**以及自身的一半。

这是代码和小提琴：http: [//jsfiddle.net/m1erickson/e24KU/](http://jsfiddle.net/m1erickson/e24KU/)

```
 function drawLine(){
        ctx.globalCompositeOperation="xor";
        ctx.strokeStyle="red";
        ctx.lineWidth=10;
        ctx.beginPath();
        ctx.moveTo(posX,10);
        ctx.lineTo(posX,100);
        ctx.stroke();
        posX+=5;
    } 
```

这是围绕中心点扫过的“时钟指针”的小提琴：http: [//jsfiddle.net/m1erickson/hW2EY/](http://jsfiddle.net/m1erickson/hW2EY/)

但是，如果我们尝试在旋转线上使用“xor”，则这些线**会以一定角度**重叠，因此 xor 是不完整的。

这是一个小提琴，显示旋转时“xor”行无效：http: [//jsfiddle.net/m1erickson/f7hHx/](http://jsfiddle.net/m1erickson/f7hHx/)

**[已编辑：OP 提供了新代码，允许扩展答案]**

我查看了您的新代码，并建议进行一些更改和优化。

正如我在原始答案中所说，您*无法*有效地擦除以一定角度绘制的线。这是由于浏览器自动执行的抗锯齿功能 - 无法关闭画布的抗锯齿功能。

这是更改后结果的小提琴：http: [//jsfiddle.net/m1erickson/9QD65/](http://jsfiddle.net/m1erickson/9QD65/)

变化：

**信不信由你：**通常在每个动画循环期间完全擦除和完全重绘画布！Canvas 确实足够快来处理这些重绘——尤其是现在 Canvas 是 GPU 加速的。如果您*绝对*需要优化您的性能，您*可以*定义画布上必须擦除/重绘的“脏”区域，并将其他区域保留为先前绘制的。在实践中，一旦您需要这种类型的性能，您的画布就会非常复杂，以至于完全清除/重绘比尝试定义脏区更有效。

优化：

将 canvas,context,centerX,centerY 移出动画循环，因为这些值可以计算一次并重复使用。

这是我建议的代码供您查看：

```
 <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
    <html xmlns="http://www.w3.org/1999/xhtml">
    <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Clock</title>
    </head>

    <body onload="spin()">
    <canvas id="myCanvas" width="578" height="400"></canvas>
    <script>
    var firstTime = 0;
    var canvas = document.getElementById('myCanvas');
    var context = canvas.getContext('2d');
    var centerX=canvas.width/2;
    var centerY=canvas.height/2;
    var canvasWidth=canvas.width;
    var canvasHeight=canvas.height;

    function spin() {
        //get the right angle for the clock hand
        var date = new Date;
        var seconds = date.getSeconds();
        var a = seconds*6;
        var angleRadian = a*Math.PI/180;
        var angle = 1/2*Math.PI - angleRadian;

        if(a > 360)
            a = 0; 
        //draw line
        drawLine(angle, 100, canvas, context, "black",1);
        //repeat for the next second
        setTimeout(spin, 500);
    }

    function drawLine(angle, radius, canvas, context)   {
        var xTarget = centerX + Math.cos(angle)*radius;
        var yTarget = centerY - Math.sin(angle)*radius;

        //clear the canvas
        context.clearRect(0,0,canvasWidth,canvasHeight);

        //draw
        context.save();
        context.beginPath();
        context.moveTo(centerX,centerY);
        context.lineTo(xTarget, yTarget);
        context.stroke();
        context.restore()
    }

    </script>
    </body>
    </html> 
```

# java - 如何使用 Camel 组件 File2 中的包含参数按扩展名过滤文件

> ID：15060077
> 
> 赞同：12
> 
> 时间：2013-02-25T04:24:17.403
> 
> 标签：java, file, apache-camel

我需要最简单的扩展过滤器：fe 文件 20120523.173227.CustomerMaster05092012.QWERTY.xml 路由：

```
<from uri="file://{{fdr.folder.working.url}}&amp;include=*.xml"/> 
```

不起作用：

在索引 0 附近悬空元字符“*”

```
WARN - file://root_folder/working/) [FileConsumer] Consumer Consumer[file://root_folder/working/?delay=1000&delete=true&idempotent=false&include=*.xml&initialDelay=1000&readLock=changed] failed polling endpoint: Endpoint[file://root_folder/working/?delay=1000&delete=true&idempotent=false&include=*.xml&initialDelay=1000&readLock=changed]. Will try again at next poll. Caused by: [java.util.regex.PatternSyntaxException - Dangling meta character '*' near index 0
*.xml
^]
java.util.regex.PatternSyntaxException: Dangling meta character '*' near index 0
*.xml
^
    at java.util.regex.Pattern.error(Pattern.java:1713)
    at java.util.regex.Pattern.sequence(Pattern.java:1878)
    at java.util.regex.Pattern.expr(Pattern.java:1752)
    at java.util.regex.Pattern.compile(Pattern.java:1460)
    at java.util.regex.Pattern.<init>(Pattern.java:1133)
    at java.util.regex.Pattern.compile(Pattern.java:823)
    at java.util.regex.Pattern.matches(Pattern.java:928)
    at java.lang.String.matches(String.java:2090)
    at org.apache.camel.component.file.GenericFileConsumer.isMatched(GenericFileConsumer.java:458)
    at org.apache.camel.component.file.GenericFileConsumer.isValidFile(GenericFileConsumer.java:395)
    at org.apache.camel.component.file.FileConsumer.pollDirectory(FileConsumer.java:94)
    at org.apache.camel.component.file.GenericFileConsumer.poll(GenericFileConsumer.java:107)
    at org.apache.camel.impl.ScheduledPollConsumer.doRun(ScheduledPollConsumer.java:142)
    at org.apache.camel.impl.ScheduledPollConsumer.run(ScheduledPollConsumer.java:92)
    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
    at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
    at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
    at java.lang.Thread.run(Thread.java:662) 
```

好吧，也许我的坏。我把整个文件包括在内：

```
<from uri="file://{{fdr.folder.working.url}}&amp;include=20120523.173227.CustomerMaster05092012.QWERTY.xml"/> 
```

整个文件没问题。让我们尝试将 * 放在文件名的中间

```
<from uri="file://{{fdr.folder.working.url}}&amp;include=20120523.*.xml"/> 
```

又没关系。让我们在文件名中只输入一位数字

```
<from uri="file://{{fdr.folder.working.url}}&amp;include=2*.xml"/> 
```

noup，camel 没有找到我尝试转义星号的此类文件，但它没有帮助。

```
<from uri="file://{{fdr.folder.working.url}}&amp;include=\*.xml"/>
and
<from uri="file://{{fdr.folder.working.url}}&amp;include=\\*.xml"/> 
```

文件只是被忽略了。所以问题1：如何使用星号？

和问题 2：如何使用多个文件扩展名，例如 include= *.xml；*。压缩

谢谢

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2013-02-25T04:26:49.523

该死的，好的想法随之而来，使用蛮力我发现了正确的价值包括：

```
.*.xml|.*.zip 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2015-01-20T02:49:19.560

```
(?i).*.xml|.*.zip 
```

如果您想要不区分大小写的文件扩展名匹配。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2018-01-25T12:28:32.053

您必须正确转义字符串中的反斜杠并使用字符串结尾符号“$”：`include=.*\\.xml$`

# wpf - wpf 标签文本绑定不起作用，我哪里出错了

> ID：15060079
> 
> 赞同：1
> 
> 时间：2013-02-25T04:24:25.333
> 
> 标签：wpf, vb.net, data-binding

我是 WPF 的新手，并尝试使用类似的方法从类中更新 WPF 表单中的标签文本。onchange 事件被触发，但未显示在表单上

这是我的课

```
Public Class ExtractDetails
Inherits UserControl
Implements INotifyPropertyChanged

Private _prdFrstName as string
Public Event PropertyChanged As PropertyChangedEventHandler Implements INotifyPropertyChanged.PropertyChanged

Public Property PrdFrstName() As String
    Get
        Return _prdFrstName
    End Get
    Set(ByVal value As String)
        If _prdFrstName <> value Then
            _prdFrstName = value
            Me.OnPropertyChanged("PrdFrstName")
        End If
    End Set
End Property

Public Sub suMainStrt()
    PrdFrstName = strComurl     ''contyains teh URL to nagigate to
    webBrwFrst = New WebBrowser
    webBrwFrst.Navigate(New Uri(strComurl))
    Call extract(webBrwFrst, strComurl)
end sub 
```

结束课

当我从 excel 文件中获取值并为每个 URL 循环时，URL 不断变化。我想显示当前工作的 URL

这是我的 XAML

```
<Window x:Class="Window1"
xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
Title="Avenet Prduct Description Extractor" Height="396.627" Width="588.123" Background="AliceBlue" Icon="LGIcon.ico">
<Grid Height="341.077" Width="567.721" Background="AliceBlue">

<StackPanel Margin="170.225,226.418,3.143,0" Name="StackPanel1" Height="97.994" VerticalAlignment="Top">
        <Label Height="30.906" Name="lblCrntSt1" Content="{Binding Path=PrdFrstName, UpdateSourceTrigger=PropertyChanged}" Width="161" BorderThickness="2" BorderBrush="AliceBlue" Background="Red" Foreground="White" FontSize="13"></Label>

    </StackPanel>
    </Grid> 
```

这是我的窗户课。

```
 Class Window1
 Dim clsIniti As New ExtractDetails
 Public Sub New()
    ' This call is required by the Windows Form Designer.
    InitializeComponent()
    'clsIniti = New ExtractDetails
    Me.DataContext = clsIniti
 End Sub    
 end class 
```

在不更新文本标签的情况下，整个功能运行良好。但我想展示一些东西。我哪里错了

我通过删除新创建项目的几个部分来尝试数据绑定。它在那里工作。所以这段代码有问题？？？:`(

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T10:23:25.180

我看到两个可能的原因，这对你不起作用。

A. 您的 OnPropertyChanged 方法看起来如何？

```
' Correct implementation:
Private Sub OnPropertyChanged(propertyName As String)
    RaiseEvent PropertyChanged(Me, New PropertyChangedEventArgs(propertyName))
End Sub 
```

B. 确保您调用 suMainStrt 的 ExtractDetails 实例与您的 DataContext 实例相同。通过直接从 Window1 的构造函数调用 suMainStrt 进行测试：

```
Class Window1
    Dim clsIniti As New ExtractDetails
    Public Sub New()
        ' This call is required by the Windows Form Designer.
        InitializeComponent()
        'clsIniti = New ExtractDetails
        Me.DataContext = clsIniti

        ' test (if this works, your problem is B.)
        clsIniti.suMainStrt()
    End Sub    
End Class 
```

附带说明：除非您有充分的理由这样做，否则我建议您创建一个包含要绑定的属性的专用视图模型（类，而不是用户控件）。

# css - 全宽和对齐的导航栏

> ID：15060084
> 
> 赞同：0
> 
> 时间：2013-02-25T04:24:58.890
> 
> 标签：css, twitter-bootstrap, navbar

我是 css 和 javasript 的新手，我使用默认的 twitter bootsrap navbar 下拉菜单，我希望我的导航栏内容占据导航栏整个空间的整个宽度，我使用[http://twitter.github.com/bootstrap上的示例/examples/justified-nav.html](http://twitter.github.com/bootstrap/examples/justified-nav.html) 但不起作用

这是我的html代码

```
<div class="row-fluid">
    <div class="span12">
        <div class="navbar">
            <div class="navbar-inner">
                <div class="container">
                    <ul class="nav">
                        <li><a href="#">About</a></li>
                        <li class="divider-vertical"></li>
                        <li class="span3"><a href="#">Portfolio</a></li>
                        <li class="divider-vertical"></li>
                        <li><a href="#">Contact</a></li>
                        <li class="divider-vertical"></li>
                    </ul>
                    <ul class="nav">
                        <li class="dropdown">
                            <a href="#"
                                class="dropdown-toggle"
                                data-toggle="dropdown">
                                Services
                                <b class="caret"></b>
                            </a>
                            <ul class="dropdown-menu">
                                <li><a href="#">Web Design</a></li>
                                <li><a href="#">Web development</a></li>
                                <li><a href="#">Wordpress Theme development</a></li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div> 
```

请帮忙

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T04:34:12.247

**[演示](http://jsfiddle.net/jKejc/2/)**

修改后的 CSS：

```
 body {
    padding-top: 20px;
    padding-bottom: 60px;
  }

  /* Custom container */
  .container {
    margin: 0 auto;
    max-width: 1000px;
  }
  .container > hr {
    margin: 60px 0;
  }

  /* Main marketing message and sign up button */
  .jumbotron {
    margin: 80px 0;
    text-align: center;
  }
  .jumbotron h1 {
    font-size: 100px;
    line-height: 1;
  }
  .jumbotron .lead {
    font-size: 24px;
    line-height: 1.25;
  }
  .jumbotron .btn {
    font-size: 21px;
    padding: 14px 24px;
  }

  /* Supporting marketing content */
  .marketing {
    margin: 60px 0;
  }
  .marketing p + h4 {
    margin-top: 28px;
  }

  /* Customize the navbar links to be fill the entire space of the .navbar */
  .navbar .navbar-inner {
    padding: 0;
  }
  .navbar .nav {
    margin: 0;
    display: table;
    width: 100%;
  }
  .navbar .nav li {
    display: table-cell;
    width: 1%;
    float: none;
  }
  .navbar .nav li a {
    font-weight: bold;
    text-align: center;
    border-left: 1px solid rgba(255,255,255,.75);
    border-right: 1px solid rgba(0,0,0,.1);
  }
  .navbar .nav li:first-child a {
    border-left: 0;
    border-radius: 3px 0 0 3px;
  }
  .navbar .nav li:last-child a {
    border-right: 0;
    border-radius: 0 3px 3px 0;
  } 
```

# javascript - 在 Google Chrome 的开发者工具上更改 JavaScript 文件

> ID：15060085
> 
> 赞同：8
> 
> 时间：2013-02-25T04:25:01.633
> 
> 标签：javascript, google-chrome

我知道如何在 Google Chrome 的控制台上使用 JavaScript。

但是是否可以在 Google Chrome 的开发人员工具中编辑 JavaScript 文件并立即看到更改？如果是这样，怎么做？

我已尝试更改代码，但它对页面没有影响。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-02-26T19:19:39.580

您可以编辑页面的javascript。您必须在旧版本的 chrome 中双击或在最新版本中您需要在 js 文件中单击。之后，您需要在 Mac 上按 Ctrl+S 或 Cmd+S。然后 DevTools 会将更改后的代码发送到 V8。

如果您在调试会话中并且在函数中保持暂停，您可以对其进行编辑，并且在 Ctrl+S v8 之后会将执行点从编辑的函数中移出，以便您可以再次传递它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-25T04:36:38.797

您可以重新定义全局函数或更改范围内变量的值，但我不知道 Chrome 开发工具中有任何方式可以在运行时编辑您的代码。我编辑，然后点击刷新。

您可以在 Sources 选项卡中实时编辑 CSS。

# java - 如何更改 Tomcat 7.X 中的会话持久性？

> ID：15060086
> 
> 赞同：0
> 
> 时间：2013-02-25T04:25:02.807
> 
> 标签：java, session, tomcat7

我正在使用 Tomcat 7.0，并且找到了有关如何将会话节省更改为数据库的参考。但我不知道如何更改 `org.apache.catalina.session.StandardSession.ACTIVITY_CHECK`为 true

我引用的链接是[http://www.intelligrape.com/blog/2010/07/21/tomcat-6-session-persistence-through-jdbcstore/](http://www.intelligrape.com/blog/2010/07/21/tomcat-6-session-persistence-through-jdbcstore/)

我正在使用 localhost Tomcat 7.X 下载为 zip、MySQL 5.5、STS 3.1（包括 Eclipse）

有没有搞清楚？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-25T05:12:45.317

这是一个系统属性（[http://tomcat.apache.org/tomcat-7.0-doc/config/systemprops.html](http://tomcat.apache.org/tomcat-7.0-doc/config/systemprops.html)）所以要设置这些你必须指定 -D 选项。在你的情况下“-Dorg.apache.catalina.session.StandardSession.ACTIVITY_CHECK=true”。

但是哪里？好吧，系统属性是在 Java 进程启动时赋予它的。对于 Tomcat，您可以使用名为 $JAVA_OPTS 的环境变量，该变量在启动时提供给 Java 进程。所以

导出 JAVA_OPTS="$JAVA_OPTS -Dorg.apache.catalina.session.StandardSession.ACTIVITY_CHECK=true"

然后运行Tomcat。为此，请确保运行 catalina.sh 的用户始终设置此环境变量。

# c++ - 如何覆盖当前文件？

> ID：15060087
> 
> 赞同：0
> 
> 时间：2013-02-25T04:25:18.843
> 
> 标签：c++, file-io, fstream

对于以下代码：

```
fstream file("file.txt", ios::in):

//some code
//"file" changes here

file.close();
file.clear();
file.open("file.txt", ios::out | ios::trunc); 
```

如何更改最后三行以使当前文件不关闭，而是“重新打开”所有内容都被清除？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-25T04:45:35.760

如果我正确理解了这个问题，您想清除文件的所有内容而不关闭它（即通过设置 EOF 位置将文件大小设置为 0）。据我所知，您提出的解决方案是最吸引人的。

您的另一个选择是使用特定于操作系统的函数来设置文件的结尾，例如 Windows 上的 SetEndOfFile() 或 POSIX 上的 truncate()。

如果您只想从文件的开头开始编写，Simon 的解决方案很有效。在不设置文件结尾的情况下使用它可能会让您陷入垃圾数据超过您写入的最后一个位置的情况。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-25T04:35:39.637

可以*回退*文件：把*put指针*放回文件的开头，这样下次写东西的时候，会覆盖文件的内容。为此，您可以[`seekp`](http://www.cplusplus.com/reference/ostream/ostream/seekp/)像这样使用：

```
fstream file("file.txt", ios::in | ios::out); // Note that you now need
                                              // to open the file for writing
//some code
//"something" changes here

file.seekp(0); // file is now rewinded 
```

请注意，它不会删除任何内容。只有当你覆盖它时，所以要小心。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-25T04:43:33.293

我猜你试图避免传递“file.txt”参数并试图实现类似的东西

```
void rewrite( std::ofstream & f )
{
   f.close();
   f.clear();
   f.open(...); // Reopen the file, but we dont know its filename!
} 
```

但是`ofstream`没有提供底层流的文件名，也没有提供清除现有数据的方法，所以你有点不走运。（它确实提供`seekp`了 ，这将使您将写光标定位回文件的开头，但这不会截断现有内容......）

我要么只是将文件名传递给需要它的函数

```
void rewrite( std::ostream & f, const std::string & filename )
{
   f.close();
   f.clear();
   f.open( filename.c_str(), ios::out );
} 
```

或者将文件流和文件名打包成一个类。

```
class ReopenableStream
{
   public:
     std::string filename;
     std::ofstream f;

     void reopen()
     {
       f.close();
       f.clear();
       f.open( filename.c_str(), ios::out );
     }

     ...
}; 
```

如果你感觉过于热心，你可以让`ReopenableStream`实际上表现得像一个流，这样你就可以编写`reopenable_stream<<foo;`而不是`reopenable_stream.f<<foo`IMO，这看起来有点过头了。

# .net - WCF REST 以 JSON 和 XML 形式返回单一方法

> ID：15060089
> 
> 赞同：9
> 
> 时间：2013-02-25T04:25:53.150
> 
> 标签：.net, wcf

我正在使用以下 WCF 休息服务代码来获取 JSON 格式

```
[OperationContract]   

[WebGet(UriTemplate = "/GetOrderList?request={request}", BodyStyle = WebMessageBodyStyle.Wrapped, RequestFormat = WebMessageFormat.Json, ResponseFormat = WebMessageFormat.Json)]
IEnumerable<Order> GetOrderList(Request request); 
```

我希望这个方法也返回 XML 类型。我需要另一种方法吗？我想在不复制 XML 代码的情况下以相同的方法进行操作。我正在使用 WCF 3.5。我无法更改我的版本。

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2013-12-23T19:22:14.207

我遇到了同样的问题。我们通过创建两个端点来提供解决方案，一个用于 XML，另一个用于 JSON。

确保从服务接口中删除所有属性。不要指定 RequestFormat 或 ResponseFormat 来控制 XML 或 JSON。让它由端点控制。

服务 Web.Config 更改。

```
<endpoint address="XML" binding="webHttpBinding" bindingConfiguration="webHttpBindingXML" contract="xxxxxx.Ixxxxxxx" behaviorConfiguration="RestXMLEndpointBehavior"/>
<endpoint address="JSON" binding="webHttpBinding" bindingConfiguration="webHttpBindingJSON" contract="xxxxxxxx.Ixxxxxxxxx" behaviorConfiguration="RestJSONEndpointBehavior"/>
  <endpointBehaviors>

    <behavior name="RestJSONEndpointBehavior">
      <webHttp helpEnabled="true" defaultOutgoingResponseFormat="Json"/>
    </behavior>
    <behavior name="RestXMLEndpointBehavior">
      <webHttp helpEnabled="true" defaultOutgoingResponseFormat="Xml"/>
    </behavior>

  </endpointBehaviors>        
<webHttpBinding>
<binding name="webHttpBindingXML"/>
<binding name="webHttpBindingJSON"/>
</webHttpBinding> 
```

希望这可以帮助。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-02-25T05:24:59.117

您甚至不需要在这里指定返回类型，我们在端点行为中为 WebGet提供了一个名为**automaticFormatSelectionEnabled的属性，如下所示。**当您从客户端发出休息呼叫请求时，您可以将类型指定为 **WebClient.Headers["Content-type"] = "application/json";** 或**WebClient.Headers["Content-type"] = "application/xml";** ，服务将检测类型并返回您想要的正确格式..

```
 <endpointBehaviors>
        <behavior name="RestServiceEndPointBehavior">
          <webHttp automaticFormatSelectionEnabled="true"   />
        </behavior>
  </endpointBehaviors> 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-02-25T06:23:19.250

如果您使用的是 .NET 4.0 或 4.5，那么它会很简单 - 使用 Vibin Kesavan 建议的自动格式选择，或者`WebOperationContext.Current.OutgoingResponse.Format`根据您的某些逻辑在操作中将其设置为 JSON 或 XML。

对于 3.5，您需要完成大部分工作。[这篇文章](http://damianblog.com/2008/10/31/wcf-rest-dynamic-response/)有一个正是这种情况的实现。您需要创建一个自定义调度消息格式化程序实现，它（可能）包装两种格式化程序，一种用于 JSON，另一种用于 XML。并且在序列化响应时，根据您的逻辑决定使用哪个格式化程序。

# java - Getter 和 Setter 在 Android 中返回 null

> ID：15060096
> 
> 赞同：1
> 
> 时间：2013-02-25T04:26:38.607
> 
> 标签：java, android

所以我一直在做一个从服务器接收数据的项目，例如 sessionKey。我创建了这样的getter和setter方法：

```
public class sEngine
{
private static String sessionKey;

public static String getSessionKey() {
        return sessionKey;
    }

    public static void setSessionKey(
            String sessionKey) {
        sEngine.sessionKey = sessionKey;
    }
} 
```

然后我有活动 A。在这个活动 A 中，我将一个值插入到 setter 方法中。

```
public class A extends Activity
{
@Override
    protected void onCreate(Bundle savedInstanceState) {

sEngine.setSessionKey("Hello world")
}
} 
```

我也有活动B。在这个活动B中，我调用getter方法

```
public class B extends Activity
{
    @Override
        protected void onCreate(Bundle savedInstanceState) {

            String sessionKey = sEngine.getSessionKey();
    }
} 
```

我突然想到，Android 有时会擦除所有数据以释放一些内存，例如当我让程序空闲时间过长时，或者我使用了 Advanced Task Killer。问题是如果发生这种情况，尽管我已经在活动 A 中设置了值，但当我调用 getter 方法时，我将在活动 B 中得到 null。有什么方法可以让我维护通过 setter 方法存储的值（除了使用SharedPreference），所以尽管 Android 擦除了内存/数据，但该值仍然存在？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-25T04:42:08.803

> 有什么方法可以让我维护通过 setter 方法存储的值（除了使用 SharedPreference 之外），因此尽管 Android 擦除了内存/数据，但该值仍然存在？

不知道为什么你不想使用`SharedPreferences`，尽管它是你要求的完美候选人。当像这样简单的东西可以存储它时：

```
SharedPreferences sharedPrefs = getApplicationContext().getSharedPreferences(SOME_KEY, Context.MODE_PRIVATE);
Editor editor = sharedPrefs.edit();
editor.putString("session_key", sessionKey ); 
```

这将确保您的*会话密钥*始终保持存储以便于检索。除非用户清除您的应用数据。

您唯一的替代方法`SharedPreferences`是将*sessionkey*保存到`Database`我认为，考虑到它将执行的任务，绝对没有必要。

您还可以考虑将*sessionkey**写入**文本文件*，然后*读取*它以检索数据。

 ***这两种选择`SharedPreferences`都真正不适合您需要的目的。我真的会敦促您重新考虑使用`SharedPreferences`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T04:47:41.510

改变

```
sEngine.sessionKey = sessionKey; 
```

在你的代码中

```
this.sessionKey = sessionKey; 
```

**或者**干脆

```
sessionKey = sessionKey; 
```

使用`sEngine.`让人相信你的课程是静态的。它不是！

**或者**如果您想`sEngine.`在代码中的任何地方使用它，您需要将此类声明为`static`。在这种情况下，您只需将类声明设为静态：

```
public static class sEngine { 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-25T04:33:26.390

试试这个，在 A Activity 中声明你是非活动类。然后设置您的会话值。

```
sEngine mengine = new sEngine();
mengine.setSessionKey("Hello world"); 
```

并在 B 活动中获得会话价值。

```
sEngine mengine = new sEngine();
String str = mengine.getSessionKey(); 
```***

# java - 我的代码有什么问题？无法解释的语法错误

> ID：15060104
> 
> 赞同：1
> 
> 时间：2013-02-25T04:27:31.160
> 
> 标签：java

我不断收到关于`double h= (19*a + b – d – g + 15)%30;`删除 d - g 的语法错误？

```
 import javax.swing.JOptionPane;
 public class mathpowers {
 public static void main(String[] args) {
 String yearString =
 JOptionPane.showInputDialog("Enter a year");

 double y = Double.parseDouble(yearString);

 double a=y%19;
 double b=y/100;
 double c=y%100;
 double g = Math.round((8*b + 13)/25);
 double h= (19*a + b – d – g + 15)%30;
 double j= c/4;
 double k = c%4;
 int m = (a + 11*h)/319;
 double r = (2*e + 2*j-k-h+m+32)%7;
 double n=(h-m +r+90)/25;
 double p=(h – m + r + n + 19)%32; 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-25T04:36:26.133

当我在编辑器中复制相同的减号时，您使用的减号采用不同的编码，显示为

```
 double h= (19*a + b ? d ? g + 15)%30; 
```

这导致了您的问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-25T04:45:54.907

d 未定义

添加以下行（将 d 设置为应有的值）

双 d=0;

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-25T04:57:18.310

**d 未定义**

```
double h= (19*a + b – d – g + 15)%30; 
```

**e 未定义**

```
double r = (2*e + 2*j-k-h+m+32)%7; 
```

**为什么将变量命名为 a,b,c ...**

**变量名在您的代码中太糟糕了**

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-25T06:43:12.667

进行如下更改 - 需要强制转换未定义的变量 'd' 和 'e' 和 'm'

```
String yearString = JOptionPane.showInputDialog("Enter a year");

double y = Double.parseDouble(yearString);

double a = y % 19;
double b = y / 100;
double c = y % 100;
double g = Math.round((8 * b + 13) / 25);
double d = 0;
double h = (19 * a + b - d - g + 15) % 30;
double j = c / 4;
double k = c % 4;
int m = (int) ((a + 11 * h) / 319);
int e = 0;
double r = (2 * e + 2 * j - k - h + m + 32) % 7;
double n = (h - m + r + 90) / 25;
double p = (h - m + r + n + 19) % 32;
System.out.println(p); 
```

# c++ - 文件最后一行为空白 C++ 时的停止条件

> ID：15060106
> 
> 赞同：0
> 
> 时间：2013-02-25T04:27:53.953
> 
> 标签：c++, file, blank-line

我正在研究一个 FileReader 函数，该函数根据行执行特定功能。

但是由于某种原因，我要读取的文件的最后一行总是空白，这会弄乱我的程序。

有没有办法让程序在那个时候停止？

尝试运行它时，我得到以下输出

> 启动程序：在抛出 'std::out_of_range' 实例后调用终止 what(): basic_string::substr - - 1 1 Abort

我知道这是因为那个空白行，因为我告诉程序在每一行上获取特定元素，而这些元素在该行上为空。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T05:32:35.743

据我了解，你有这样的事情：

```
std::ifstream file("file.txt");
std::string line;
while(getline(file,line)) {
  //read the line
} 
```

我还收集（如果我错了，请纠正我）在您的文件末尾，您有两个换行符，如下所示：

```
line1\nline2\n\n 
```

如果是这种情况，while 循环体肯定会在最后的一个空行上执行。要解决这个问题，只需忽略空行：

```
while(getline(file,line)) {
  if (line == "") continue;
  //read the line
} 
```

如果这不起作用，那是因为我误解了您的问题，在这种情况下，请提供更多详细信息。

# asp.net - 从 OAuthWebSecurity.RegisterMicrosoftClient 请求电子邮件

> ID：15060108
> 
> 赞同：4
> 
> 时间：2013-02-25T04:27:55.673
> 
> 标签：asp.net, asp.net-mvc, oauth

我正在尝试将 oauth 身份验证从 MVC 4 项目集成到 Microsoft（实时服务）。AuthConfig.cs 中的以下行已取消注释：

```
OAuthWebSecurity.RegisterMicrosoftClient(
            clientId: "XXX",
            clientSecret: "XXX"); 
```

而且，该应用程序已在[https://manage.dev.live.com上设置](https://manage.dev.live.com)

后来，当调用 OAuthWebSecurity.VerifyAuthentication 时，我返回了成功状态，但电子邮件字段不在返回的数据中。

如何请求从 Microsoft 帐户再次发出的 VerifyAuthentication 调用返回电子邮件？

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-08-27T13:57:33.357

首先，您应该实现一个实现“IAuthenticationClient”接口的“MicrosoftScopedClient”类，它应该实现两种接口方法：

public class MicrosoftScopedClient : IAuthenticationClient { //在 Web.Config 文件中定义以下三个键并在代码中使用，它将保持代码的一致性。私有字符串clientId；私有字符串clientSecret；私有字符串范围；

```
private const string baseUrl = "https://login.live.com/oauth20_authorize.srf";
private const string tokenUrl = "https://login.live.com/oauth20_token.srf";

public void RequestAuthentication(HttpContextBase context, Uri returnUrl)
{
    //Getting values of clientId, clientSecret and scope from Web.Config file

    clientId=System.Configuration.ConfigurationManager.AppSettings["msClientId"].ToString();
    clientSecret=System.Configuration.ConfigurationManager.AppSettings["msClientSecret"].ToString();
    scope=System.Configuration.ConfigurationManager.AppSettings["msScope"].ToString();

    string url = baseUrl + "?client_id=" + clientId + "&redirect_uri=" + HttpUtility.UrlEncode(returnUrl.ToString()) + "&scope=" + HttpUtility.UrlEncode(scope) + "&response_type=code";

    //this will authenticate the user and register(only if user visited first time).
    context.Response.Redirect(url);     
}

public AuthenticationResult VerifyAuthentication(HttpContextBase context)
{
    string code = context.Request.QueryString["code"];

    string rawUrl = context.Request.Url.ToString();

    //removing code portion
    rawUrl = Regex.Replace(rawUrl, "&code=[^&]*", "");

    IDictionary<string, string> userData = GetUserData(code, rawUrl);

    if (userData == null)
        return new AuthenticationResult(false, ProviderName, null, null, null);

    string id = userData["id"];
    string username = userData["email"];    // here you'll get email id of user
    userData.Remove("id");
    userData.Remove("email");

    AuthenticationResult result = new AuthenticationResult(true, ProviderName, id, username, userData);
    return result;
} 
```

}

////// 最后，您需要在 AuthConfig.cs 中注册所有内容，并通过我们的应用程序与 Microsoft 进行交互。OAuthWebSecurity.RegisterClient(new MicrosoftScopedClient(System.Configuration.ConfigurationManager.AppSettings["msClientId"].ToString(), System.Configuration.ConfigurationManager.AppSettings["msClientSecret"].ToString(), "wl.basic wl.emails") , "微软", null);

# php - Sql 错误 - 不正确的整数值

> ID：15060116
> 
> 赞同：1
> 
> 时间：2013-02-25T04:28:59.223
> 
> 标签：php, mysql

提交表单时出现以下错误：

```
Can't added a new post. Incorrect integer value: '' for column 'aid' at row 1 
```

**php代码：**

```
$insert = mysql_query("INSERT INTO brt_articles VALUES( '', '$post_title', '$des', 
'$date', '$org_date')");    

    if($insert)
    {
        echo "<font color=green>Successfully added a new article.</font>";
        header("Refresh:3; url=allbrtarticle.php");
    }
    else
    {
        echo "<font color=red>Can't added a new post</font>" . 
              mysql_error();
    } 
```

在我的本地主机中没关系。但是在服务器中为什么它给我一个错误信息？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-25T04:48:44.153

可能该数据库的设置与您的本地设置不同。[STRICT_TRANS_TABLES](http://dev.mysql.com/doc/refman/5.0/en/server-sql-mode.html#sqlmode_strict_trans_tables)模式可能已打开。尝试`SELECT @@GLOBAL.sql_mode;`和`SELECT @@SESSION.sql_mode;`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T04:30:28.500

`aid`是一个整数列，并且您正尝试将其插入`''`其中。`''`不是数字，所以插入失败。

也许有一个服务器设置可以自动转换不正确的类型，但你不应该依赖它（正如你刚刚发现的那样）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-25T04:32:53.167

这会导致错误**帮助**(INT) - 包含在您的表列（第一列）中。

如果它的自动增量删除''。

```
$insert = mysql_query("INSERT INTO brt_articles VALUES('$post_title', '$des', 
'$date', '$org_date')"); 
```

问候

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-25T04:35:02.407

尝试

```
"INSERT INTO brt_articles VALUES('".$post_title."', '".$des."', '".$date."', '".$org_date."')" 
```

首先删除`''`它不是必需的，因为 MySQL 会自动添加它，如果它`primary key`和`auto_increment`.

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-25T04:36:46.030

该`aid`字段不接受`''`值作为输入。

最安全的方法是在发送查询时指定列名。

```
INSERT INTO brt_articles (title_field, description_field, date_field, org_date, fieldname) VALUES('$post_title', '$des', '$date', '$org_date'); 
```

如果`aid`是主键，只需在查询中省略该字段

```
INSERT INTO brt_articles VALUES('$post_title', '$des', '$date', '$org_date') 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-02-25T04:42:33.633

您的本地数据库将该列的值设置为自动递增或具有默认值。

在服务器 db 上，表定义不一样。

查看和比较表定义，然后使它们保持一致。

# java - 会话线程安全吗？SMPP 逻辑库

> ID：15060118
> 
> 赞同：0
> 
> 时间：2013-02-25T04:29:04.233
> 
> 标签：java, smpp

我想问..目前我正在使用 SMPP Logica 库..用于开发 SMSC 客户端...我正在使用 session.submit 向 smsc 服务器发送消息，发送消息几乎每秒 50 条消息，我想使用线程进行多次发送，因为我需要服务器的每个响应来获取传递报告......问题是...... session.submit 是线程安全的吗？我应该在使用线程发送消息之前先同步会话吗？我用来发送消息的代码是

```
 {
        response = session.submit(sm);
                  SUBMIT_SM_RESP(response,mt);
    ........

    }
         private void SUBMIT_SM_RESP(SubmitSMResp pdu,MTData mtd) {

              log.info("CommandID From PDU "+pdu.getCommandId());
              //SubmitSMResp submitSMResp = new SubmitSMResp();
              if (pdu.getCommandId() == Data.SUBMIT_SM_RESP ){
                //  submitSMResp.setData(pdu.getData());
                  switch (pdu.getCommandStatus())
                  {
                  case 0:
                    log.info("Berhasil kirim MT; SeqNo=" + pdu.getSequenceNumber() + ";" + pdu.debugString());
                    break;
                  case 1031:
                    log.info("Error. Service not found; SeqNo=" + pdu.getSequenceNumber() + ";" +pdu.debugString());
                    break;
                  case 1032:
                    log.info("Error. Invalid TX Id; SeqNo=" + pdu.getSequenceNumber() + ";" +pdu.debugString());
                    break;

 case 1033:
                log.info("Error. Push limit exceeded; SeqNo=" + pdu.getSequenceNumber() + ";" + pdu.debugString());
                break;
              case 4107:
                log.info("Error. Content Whitelisted (Testingmode); SeqNo=" + pdu.getSequenceNumber() + ";" +pdu.debugString());
                break;
              case 1280:
                  log.info("Insuficient Balance(Charging); SeqNo=" + pdu.getSequenceNumber() + ";" +pdu.debugString());
                break;
              }

              log.debug("MT rec status: CommandID=SUBMIT_SM_RESP; SeqNo=" + pdu.getSequenceNumber() + "; CommandSts=" + pdu.getCommandStatus() + pdu.debugString());
              //MTData mt = (MTData)DataInstance.getInstance().getHmSeqMT().get(Integer.valueOf(pdu.getSequenceNumber()));
              MTData mt =mtd;
              String tid = null;
              if (mt == null) {
                  log.info("MT null");
             //   if (DataInstance.getInstance().getHmSeqTrxID().containsKey(Integer.valueOf(pdu.getSequenceNumber()))) {
    //              tid = (String)DataInstance.getInstance().getHmSeqTrxID().get(Integer.valueOf(pdu.getSequenceNumber()));
    //              mt = DataInstance.getInstance().getDbPrs().getMTTrxID(tid);
    //              log.info("MT rec status: CommandID=SUBMIT_SM_RESP; SeqNo=" + pdu.getSequenceNumber() + "; CommandSts=" + pdu.getCommandStatus() + "; trxid=" + tid + "; " + pdu.debugString());
            //      if (mt == null) {
                    log.info("MT rec status: CommandID=SUBMIT_SM_RESP; SeqNo=" + pdu.getSequenceNumber() + "; CommandSts=" + pdu.getCommandStatus() + "; trxid=" + tid + " n/a; " + pdu.debugString());
                    mt = DataInstance.getInstance().getDbPrs().getMTSeqNo(String.valueOf(pdu.getSequenceNumber()));

            //     }
              //  }
              }
              else {
                  tid = mt.getTransid();
                  }
            //  log.info(mt.getClass());
             log.info("Transaction ID >>> "+mt.getTransid());
              if (mt != null) {
                DataInstance.getInstance().getDbPrs().deleteMT(mt, 
                  String.valueOf(pdu.getCommandStatus()), DataInstance.getInstance().getTransX().operator);
                DataInstance.getInstance().getHmSeqMT().remove(Integer.valueOf(pdu.getSequenceNumber()));
              } else {
                log.info("MT Null,,,Can't Send DR");
                log.info("MT n/a: SeqNo=" + pdu.getSequenceNumber() + "; CommandSts=" + pdu.getCommandStatus() + pdu.debugString());
              }
          }
          else
          {
              log.info("Nilai Enquiry Link "+Data.ENQUIRE_LINK_RESP);
          }
        } 
```

问候

丹兹

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T18:28:01.617

在同步模式下，它始终是线程安全的（就像您现在正在尝试的那样）。异步模式是一个完全不同的故事。

# php - Jquery live('change', function() 不会触发下拉菜单

> ID：15060123
> 
> 赞同：0
> 
> 时间：2013-02-25T04:29:36.790
> 
> 标签：php, jquery, mysql, cascadingdropdown

任何人都可以看到这段代码有什么问题吗？它连接到一个回显 Json 数据的 php 函数。我正在运行 Jquery 1.9.1。我相信问题出在 Jquery 脚本的末尾，但我找不到任何解决方案......

```
var formObject = {
   run : function(obj) {
        if (obj.val() === '') {
       obj.nextAll('.update').html('<option value="">----</option>').attr('disabled', true);
   } else {
       var id = obj.attr('id');
       var v = obj.val();
       jQuery.getJSON('func/blankett_func.php', { id : id, value : v }, function(data) {
            if (!data.error) {
                obj.next('.update').html(data.list).removeAttr('disabled');
            } else {
                obj.nextAll('.update').html('<option value="">----</option>').attr('disabled', true);
            }
        });
    }
}
  };
$(function() {

    $('.update').live('change', function() {
        formObject.run($(this));
    });

}); 
```

php函数：

```
$id = $_GET['id'];
$value = $_GET['value'];

try {

    $objDb = new PDO('mysql:host=localhost;dbname=blankett', 'root', 'root');
    $objDb->exec('SET CHARACTER SET utf8');

    $sql = "SELECT * 
            FROM `region`
            WHERE `master_id` = ?";
    $statement = $objDb->prepare($sql);
    $statement->execute(array($value));
    $list = $statement->fetchAll(PDO::FETCH_ASSOC);

    if (!empty($list)) {

        $out = array('<option value="">Select one</option>');

        foreach($list as $row) {
            $out[] = '<option value="'.$row['id'].'">'.$row['region'].'</option>';
        }

        echo json_encode(array('error' => false, 'list' => implode('', $out)));

    } else {
        echo json_encode(array('error' => true));
    }

} catch(PDOException $e) {
    echo json_encode(array('error' => true));
}

    } else {
echo json_encode(array('error' => true));
  } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T23:56:38.670

原代码的问题出在 .live 的 javascript 中，应该改成 .on

它没有触发的原因是 jQuery 改变了 API。 [http://api.jquery.com/on/](http://api.jquery.com/on/)

新的 jQuery 脚本：

```
var formObject = {
run : function(obj) {
    if (obj.val() === '') {
        obj.nextAll('.update').html('<option value="">----</option>').attr('disabled', true);
    } else {
        var id = obj.attr('id');
        var v = obj.val();
        jQuery.getJSON('func/blankett_func.php', { id : id, value : v }, function(data) {
            if (!data.error) {
                obj.next('.update').html(data.list).removeAttr('disabled');
            } else {
                obj.nextAll('.update').html('<option value="">----</option>').attr('disabled', true);
            }
        });
    }
}
};
$(function() {

$('.update').on('change', function() {
    formObject.run($(this));
});

}); 
```

# mercurial - SSH 无法记住密码

> ID：15060125
> 
> 赞同：1
> 
> 时间：2013-02-25T04:29:54.810
> 
> 标签：mercurial, phpstorm, openssh

我正在使用 PHPStorm，并且每隔几分钟就会在我正在处理的项目中弹出一个“OpenSSH”对话框。它似乎正在尝试从远程 Mercurial 存储库中获取状态。如何配置 OpenSSH 以记住我的密码？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-25T05:48:31.830

OpenSSH 会勇敢地拒绝保存密码。您需要设置公钥，运行密钥代理，然后添加该密钥。这是一个方法：http: [//paulkeck.com/ssh/](http://paulkeck.com/ssh/)

# java - 使用 gson 反序列化 JSON 对象数组时遇到问题

> ID：15060127
> 
> 赞同：0
> 
> 时间：2013-02-25T04:30:17.163
> 
> 标签：java, android, json, wordpress, gson

我正在编写一个 android 阅读器应用程序，该应用程序使用 wordpress REST API 从 wordpress.com 站点提取内容，该应用程序返回 JSON 对象，我将这些对象反序列化为应用程序中定义的 Article 对象。以下代码获取单个帖子的数据，可以正常工作：

```
 private class getOne extends AsyncTask <Void, Void, JSONObject> {
    private static final String url = "https://public-api.wordpress.com/rest/v1/sites/drewmore4.wordpress.com/posts/slug:good-one";
    @Override
    protected JSONObject doInBackground(Void... params) {
        HttpClient httpclient = new DefaultHttpClient();
        HttpGet httpget = new HttpGet(url);
        httpget.addHeader("accept", "application/json");

        HttpResponse response;
        JSONObject object = new JSONObject();
        String resprint = new String();

        try {
            response = httpclient.execute(httpget);
            // Get the response entity
            HttpEntity entity = response.getEntity();

            if (entity != null) {
                // get entity contents and convert it to string
                InputStream instream = entity.getContent();
                String result= convertStreamToString(instream);
                resprint = result;
                // construct a JSON object with result
                object=new JSONObject(result);
                // Closing the input stream will trigger connection release
                instream.close();
            }
        } 
        catch (ClientProtocolException e) {System.out.println("CPE"); e.printStackTrace();} 
        catch (IOException e) {System.out.println("IOE"); e.printStackTrace();} 
        catch (JSONException e) { System.out.println("JSONe"); e.printStackTrace();}

        return object;
    }
    @Override
    protected void onPostExecute (JSONObject object){
        System.out.println("POSTStexxx");
        Gson gson = new Gson();

        Article a = gson.fromJson(object.toString(), Article.class);
        System.out.println("XXCONTENT: " + a.content);

        System.out.println(a.ID);
        System.out.println(a.title);
        System.out.println(a.author.name);
    //  System.out.println(a.attachments.URL);

        WebView wv = (WebView)findViewById(R.id.mainview);

        wv.loadDataWithBaseURL(url, a.content, "text/html", "UTF-8", null);
        wv.getSettings().setLayoutAlgorithm(LayoutAlgorithm.SINGLE_COLUMN);

    }

} 
```

println 语句显示预期结果，确认对象已正确反序列化。以下代码应该从网站上的所有帖子中获取数据，但无法正常工作：

```
private class getAll extends AsyncTask <Void, Void, JSONObject> {
    private static final String url = "https://public-api.wordpress.com/rest/v1/sites/drewmore4.wordpress.com/posts/";
    @Override
    protected JSONObject doInBackground(Void... params) {

         //set up client and prepare request object to accept a json object
        HttpClient httpclient = new DefaultHttpClient();
        HttpGet httpget = new HttpGet(url);
        httpget.addHeader("accept", "application/json");
        JSONObject returned = new JSONObject();
        HttpResponse response;

        String resprint = new String();

        try {
            response = httpclient.execute(httpget);
            // Get the response entity
            HttpEntity entity = response.getEntity();

            if (entity != null) {
                // get entity contents and convert it to string
                InputStream instream = entity.getContent();
                String result= convertStreamToString(instream);
                resprint = result;
                // construct a JSON object with result
                returned =new JSONObject(result);
                // Closing the input stream will trigger connection release
                instream.close();
            }
        } 
        catch (ClientProtocolException e) {System.out.println("CPE"); e.printStackTrace();} 
        catch (IOException e) {System.out.println("IOE"); e.printStackTrace();} 
        catch (JSONException e) { System.out.println("JSONe"); e.printStackTrace();}

       // stories = object;
        return returned;
    }

    @Override
    protected void onPostExecute (JSONObject returned){
        System.out.println("POSTStexxx");
        Gson gson = new Gson();

        PostsHandler ph = gson.fromJson(returned.toString(), PostsHandler.class);

        System.out.println("WAKAWAKA: " +  ph.posts.length);

    //  System.out.println("ARRAYLENGTH" + ja.length());
        ArrayList<Article> arts = new ArrayList<Article>();

        for (JSONObject o : ph.posts) {
            Article a = gson.fromJson(o.toString(), Article.class);
            System.out.println("TITLE: " + a.title);
                            System.out.println("TITLE: " + a.author);
            arts.add(a);
        }
        System.out.println("ARTICLEARRAY: " + arts.size());
        stories = arts;
        populateUI();

    } 
```

此处返回的 JSON 对象包含一个 JSONArray 对象，该对象与单个帖子的查询返回的对象相同。程序运行，这里的 println 语句之一显示 arraylist 的大小是正确的（即与预期的帖子数匹配），但每个对象的字段（标题、作者等）为空。我猜我没有正确处理数组，但我不知道我错在哪里。这是 Article 类，它映射每个 post 对象：

```
public class Article implements Serializable {

//  private static final long serialVersionUID = 1L;
    int ID;
    public String title;
    public String excerpt;
    public Author author;
    public String date;     
    public String URL;

    @SerializedName("featured_image")
    public String image;        
    public String content;
    //public String[] attachments;

    public Attachment attachments;
    public int comment_count;
    public int like_count;

}   

class Author {
long id;
String name;
String URL;
} 
```

还有 PostsHandler 类，对所有帖子的查询的响应都映射到该类（我怀疑我的问题出在哪里）：

```
public class PostsHandler {
    int number;
JSONObject[] posts;

} 
```

所有未使用 @SerializedName 注释标记的字段都与 JSONObjects 中使用的字段相同。

我正在使用的 JSONObjects 可以在以下位置看到：

[查询所有帖子](https://public-api.wordpress.com/rest/v1/sites/drewmore4.wordpress.com/posts/?pretty=true)

[查询一个帖子](https://public-api.wordpress.com/rest/v1/sites/drewmore4.wordpress.com/posts/slug%3agood-one?pretty=true)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T04:50:41.030

GSON 在序列化/反序列化信息时支持“强”和“弱”类型的概念。强类型表示具有良好定义接口的实际 Java bean 对象。弱类型表示数据（键/值）对的映射。目前您正在尝试混合和匹配两种模型，但这是行不通的。您要求 GSON 将您的数据反序列化为“强”类型 ( `PostsHandler`)。但是在该类中，您正在存储 GSON 的“弱”类型（`JSONObjects`）的实例。您应该选择（并坚持）一种处理模型。假设我们将使用强类型来反序列化数据。

这就是我将如何实现`PostsHandler`：

```
public PostsHandler implements Serializable {
    @SerializedName("found")
    private int number;

    @SerializedName("posts")
    private List<Article> articles

    // Constructors, getters, setters
} 
```

和`onPostExecute`：

```
@Override
protected void onPostExecute (JSONObject returned) {
    Gson gson = new Gson();
    PostsHandler ph = gson.fromJson(returned.toString(), PostsHandler.class);

    System.out.println("Article array length: " + ph.getArticles().size());
    stories = arts;
    populateUI();
} 
```

# javascript - 一种形式，有 2 个动作

> ID：15060133
> 
> 赞同：0
> 
> 时间：2013-02-25T04:30:41.857
> 
> 标签：javascript, html, forms, button

我正在尝试创建一个 HTML 表单，该表单使用提交按钮，将已输入的数据通过电子邮件发送给我（已涵盖该部分），但还将数据发送到另一个外部页面（可以处理此请求）。

我可以通过以下方式让它工作：

```
<form name="contactform" method="post" action="http://somesite.com/page.php"> 
```

但是，我还需要它同时提交到本地页面（form.php）。

我已经尝试了 javascript，通过为提交按钮执行此操作：

```
 <input type="submit" value="Submit" onclick="return doSubmit();"> 
```

在源代码中使用此代码：

```
function doSubmit()
{
    document.contactform.action = "form.php";
    document.contactform.submit(); 
    document.contactform.action = "http://somewebsite.com/page.php";
    document.contactform.submit(); 
    return true;
} 
```

但是当我这样做时，信息不会发送到我的电子邮件，而是刷新页面而不是在 form.php 上显示结果。

关于如何以简单的方式完成这项工作的任何想法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T04:33:40.883

您不能同时提交多个操作，因为浏览器在设计上一次只能加载每个窗口的一个请求。一些解决方案包括：

1.  只需使用与表单输入处理相同的服务器脚本进行电子邮件处理
2.  通过 ajax 将表单数据发送到电子邮件脚本，然后在完成后正常提交表单，例如

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T04:34:21.793

显然你不能提交两个表格。您可以尝试以下两种方法中的任何一种：

*   使其中一个成为ajax请求，并将其设置为在提交之前执行。
*   直接从服务器端的第一个执行第二个 php 文件。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-25T04:35:42.153

我建议在您的 php 脚本中添加/更改一个函数。然后你可以对发布的数据做任何你喜欢的事情。

# python - 如何使用迭代重写此 Python 代码？

> ID：15060134
> 
> 赞同：0
> 
> 时间：2013-02-25T04:30:48.380
> 
> 标签：python, recursion, iteration

下面显示的代码有效。我认为使用递归在 Python 中无效。如何将其转换为 for 循环版本？

```
def fun(x1, y1, x2, y2, n, r=[]):
    if n<1 :
        return
    r.append( [[x1,y1],[x2,y2]])
    x3=(x1+x2)/2.0
    y3=(y1+y2)/2.0
    fun(x1,y1,x3,y3, n-1)
    fun(x3,y3,x2,y2,n-1)

    x4=(x2+y2-y3-x3)*0.7+x3;
    y4 = (y2 - x2 + x3 - y3)*0.7 + y3;
    fun(x3, y3, x4, y4, n - 1);

    x3 = (3* x1 + x2)/4;
    y3 = (3* y1 + y2)/4;
    x2 = (3*x2 + x1)/4;
    y2 = (3*y2 + y1)/4;
    x4 = (x2*1.7 - y2 + 2*x3 - x3*1.7 + y3)/2;
    y4 = (x2 + y2*1.7 - x3 + 2*y3 - 1.7*y3)/2;
    fun(x3, y3, x4, y4, n - 1);
    return r

print fun(200, 400, 200, 0, 9).__len__() 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-25T04:38:06.200

您可能需要考虑使用[memoize 之](http://wiki.python.org/moin/PythonDecoratorLibrary#Memoize)类的东西来通过使用更多内存来加速递归函数。本质上，它将任何调用的结果存储在缓存中。

添加以下代码

```
import collections
import functools

class memoized(object):
   '''Decorator. Caches a function's return value each time it is called.
   If called later with the same arguments, the cached value is returned
   (not reevaluated).
   '''
   def __init__(self, func):
      self.func = func
      self.cache = {}
   def __call__(self, *args):
      if not isinstance(args, collections.Hashable):
         # uncacheable. a list, for instance.
         # better to not cache than blow up.
         return self.func(*args)
      if args in self.cache:
         return self.cache[args]
      else:
         value = self.func(*args)
         self.cache[args] = value
         return value
   def __repr__(self):
      '''Return the function's docstring.'''
      return self.func.__doc__
   def __get__(self, obj, objtype):
      '''Support instance methods.'''
      return functools.partial(self.__call__, obj) 
```

然后像这样装饰你的功能

```
@memoized
def fun(x1, y1, x2, y2, n, r=[]):
    ... 
```

还要小心你的[可选参数](https://stackoverflow.com/questions/1132941/least-astonishment-in-python-the-mutable-default-argument)。由 所创建的列表`r = []`实际上将在所有带有 r 的 f 调用中共享。最好做这样的事情，这样每次都会创建一个新列表。

```
def fun(x1, y1, x2, y2, n, r=None):
    r = [] if r is None else r 
```

一种更 Pythonic 的获取长度的方法是这样的

```
print len(fun(200, 400, 200, 0, 9)) 
```

# xcode - 让 Actionsheet 按钮打开另一个 ViewController？

> ID：15060141
> 
> 赞同：1
> 
> 时间：2013-02-25T04:31:39.673
> 
> 标签：xcode, ios6

有人给了我这个代码，对吗？如果是这样，我该如何使用它？我是菜鸟，所以你能用更简单的术语为我解释一下吗？多谢你们 ：）

```
- (IBAction)OpenActionSheetButton:(id)sender {

UIActionSheet *actionsheet = [[UIActionSheet alloc]initWithTitle:@"There is no going back,
 are you sure???" delegate:self cancelButtonTitle:@"Cancel"
 destructiveButtonTitle:@"Continue" otherButtonTitles:nil, nil];
[actionsheet showInView:self.view];}

-(void)actionSheet:(UIActionSheet *)actionSheet clickedButtonAtIndex:
(NSInteger)buttonIndex
{
if(buttonIndex == 0)
{
UIViewController *controller =  [self.storyboard 
instantiateViewControllerWithIdentifier:@"storyboardViewIdentifier"];
    //storyboardViewIdentifier is the ViewController identifier you specify in the
storyboard

    //PUSH
    [self.navigationController pushViewController:controller animated:YES];
    //Modal
    [self presentViewController:controller animated:YES completion:Nil];
} 
```

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T06:33:56.870

我不确定情节提要的情况，但是对于 XIB 的情况，我需要将 UINavigationController 对象设置为 rootviewcontroller，以便我可以从一个视图控制器推送到另一个，我认为在情节提要中它可能是相同的，如果是这样，请参阅这些答案，[第一个](https://stackoverflow.com/a/11980440/1603234)和[第二个](https://stackoverflow.com/q/8539824/1603234)将导航控制器设置为故事板环境中的 rootviewcontroller。

# matlab - MATLAB combnk 函数的奇怪行为

> ID：15060143
> 
> 赞同：1
> 
> 时间：2013-02-25T04:31:47.350
> 
> 标签：matlab, combinations

我正在尝试在给定的数字范围内生成 2 个元素的所有组合。我正在使用“combnk”功能，如下所示。

> > 组合(1:4,2)

答案=

```
 3     4
 2     4
 2     3
 1     4
 1     3
 1     2 
```

> > 组合(1:6,2)

答案=

```
 1     2
 1     3
 1     4
 1     5
 1     6
 2     3
 2     4
 2     5
 2     6
 3     4
 3     5
 3     6
 4     5
 4     6
 5     6 
```

返回的组合顺序似乎发生了变化。我需要提前知道顺序，我的程序才能正常工作。

**是否有任何解决方案可以确保我以一致的顺序获得组合？另外，为什么 MATLAB 会出现这种奇怪的行为？**

到目前为止，我能想到的唯一解决方案是首先检查结果矩阵的第一个条目，然后使用“flipud”函数将其翻转过来。

**更新：通过一些实验，我注意到只有当数字集的长度小于 6 时才会出现相反的顺序。这就是 combnk(1:6,2) 产生“正确”顺序的原因。其中 combnk(1:5,2) 向后产生结果。这还是个大问题。**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-25T05:00:12.777

您可以尝试`nchoosek`代替`combnk`. 我没有matlab统计工具箱（只有八度），所以我不知道是否`nchoosek`有任何明显的缺点。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-25T04:53:01.997

这将解决订购问题：

```
a=combnk(1:4,2);
[~,idx]=sortrows(a);
aNew=a(idx,:); 
```

我不知道为什么 MATLAB 会显示这种行为。

# c++ - 为什么需要类型转换 (UINT)(void*)(DWORD)？

> ID：15060145
> 
> 赞同：5
> 
> 时间：2013-02-25T04:31:56.163
> 
> 标签：c++, c, mfc, casting

这是 MFC 的 CMap 类中的默认 HashKey 函数。

```
AFX_INLINE UINT AFXAPI HashKey(ARG_KEY key)
{
　　// default identity hash - works for most primitive values
　　return ((UINT)(void*)(DWORD)key) >> 4;
} 
```

我的问题是为什么需要类型转换**(DWORD)**和**(void*)**？我猜（DWORD）可能与16位机器的兼容性事务有一些关系。但我对**void***感到困惑。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-25T13:28:21.297

```
template<class ARG_KEY>
AFX_INLINE UINT AFXAPI HashKey(ARG_KEY key)
{
    // default identity hash - works for most primitive values
    return (DWORD)(((DWORD_PTR)key)>>4);
} 
```

这就是该功能今天的样子。您的版本来自一个非常旧的 MFC 版本，它足够旧，仍然支持 16 位程序。MFC 于 1992 年首次发布，当时是 Windows 版本 3。MFC 版本 1.0 到 2.5 支持 16 位目标。该函数的当前版本适用于 32 位和 64 位代码。

In 16-bit code, one option to select was the *memory model*. You could pick cheap 16-bit *near* pointers or expensive 32-bit *far* pointers. So the extra void* cast trims the value to the memory model size.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-25T04:47:36.363

强制转换为`DWORD`将大小减小到`DWORD`.

强制转换`void*`会将大小减小为指针。

从这些转换中无法推断出更多的东西，在现实环境中它是矫枉过正的，但期望优化编译器不会通过这些转换做任何不必要的工作是公平的。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-25T07:16:11.817

这里需要转换为`DWORD`(Double Word) 来告诉 CPU 他需要移动哪些字节，在这种情况下他只移动`DWORD`位。`(void*)`转换是使您只需移动 4 次的数字到一个指针（转换为通用地址大小）。

**void* 的大小在 OS（32b 系统或 64b 系统）之间可能不同，因为您必须执行此转换。**

最后的转换`(UINT)`是将指针转换为无符号整数以将内存地址作为数字。

# ios - Xcode Autolayout - 未选中时视图旋转

> ID：15060147
> 
> 赞同：1
> 
> 时间：2013-02-25T04:32:09.720
> 
> 标签：ios, objective-c, xcode, autolayout

我使用启用自动布局在 Xcode 4.5 中创建了一个应用程序。由于它与 iOS 5 不兼容（在测试之前不知道），我从情节提要中取消选中自动布局。现在在模拟器中测试时，视图的内容都是顺时针旋转的。

该应用程序最初是横向的（在 Xcode 中看起来不错）。模拟器将以横向启动，但视图内的所有内容在取消选中自动布局后看起来都已旋转。

例子：![在此处输入图像描述](../Images/61604b1f48af53e462e606ec34435a89.png)

我尝试了一个新的视图控制器，它仍然像上面那样显示。初始方向已设置为横向。有什么解决办法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-25T04:38:01.640

对于修复方向问题，请执行此操作。

在 .pch 文件中定义这些宏

```
#define IOS_OLDER_THAN_6        ( [ [ [ UIDevice currentDevice ] systemVersion ] floatValue ] <  6.0 )
#define IOS_NEWER_OR_EQUAL_TO_6 ( [ [ [ UIDevice currentDevice ] systemVersion ] floatValue ] >= 6.0 ) 
```

并将此方法写入您的 viewContrller.m

```
#ifdef IOS_OLDER_THAN_6
- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)toInterfaceOrientation
{
    return (toInterfaceOrientation == UIInterfaceOrientationLandscapeLeft) || 
    (toInterfaceOrientation == UIInterfaceOrientationLandscapeRight);
}
#endif

#ifdef IOS_NEWER_OR_EQUAL_TO_6
-(BOOL)shouldAutorotate
{
    return YES;
}
- (NSUInteger)supportedInterfaceOrientations
{
    return (UIInterfaceOrientationMaskLandscapeLeft | UIInterfaceOrientationMaskLandscapeRight);
}
#endif 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T04:47:03.867

还有一件事，当涉及 a 时，将and`UINavigationController`子类化。 `UINavigationController``overriding supportedInterfaceOrientations`

```
 #import "UINavigationController+Orientation.h"

 @implementation UINavigationController (Orientation)

-(NSUInteger)supportedInterfaceOrientations
{
   return [self.topViewController supportedInterfaceOrientations];
}

-(BOOL)shouldAutorotate
 {
    return YES;
 }

@end 
```

现在，iOS 容器（例如 UINavigationController）不会咨询它们的子容器来确定它们是否应该自动旋转。
**如何子类**
1\. 添加一个新文件（cocoa touch 下的Objective c- category）
2\. `Category`: Orientation `Category On`: UINavigationController
3\. 将以上代码添加到`UINavigationController+Orientation.m`

# c++ - 在文本冒险中实现实时？

> ID：15060148
> 
> 赞同：0
> 
> 时间：2013-02-25T04:32:20.797
> 
> 标签：c++, multithreading, time, game-engine, adventure

我正在制作基于文本的 RPG，我真的很想模仿时间。
我可以在玩家每次输入内容之间留出一些时间，但如果可能的话，我希望它比这更好。我想知道多线程是否是一个很好的方法来做到这一点。

我在想可能只是在后台有第二个非常简单的线程，它只有一个循环，每 1000 毫秒循环一次。每通过一次循环，世界时间将增加 1 秒，玩家将恢复一点生命值和法力值。

这是多线程可以做的事情，还是有一些我不知道的东西会使这不起作用？（如果它不能帮助我完成这个项目，我宁愿不要花很多时间努力学习它。）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-25T04:51:28.347

是的，多线程当然可以做到这一点，但要担心线程通常比替代方案更复杂（这将是主线程轮询各种更新事件作为其主循环的一部分，无论如何应该至少每 100 毫秒左右运行一次）。

在您的情况下，如果时钟线程遵循非常严格的规则，您可能会“没问题”。

1.  时钟线程是唯一允许设置/修改时间变量的线程。
2.  main/ui 线程只允许读取时间。
3.  您仍然必须使用系统时间函数，因为不能信任线程睡眠函数的准确性（根据系统活动，线程的更新循环可能要等到您请求它运行几毫秒后才会运行）。

如果你这样实现它，那么你甚至不需要熟悉互斥锁就可以让线程安全运行，而且你的时间是准确的。

但！这里有一些值得深思的地方：如果您想在一天中的特定时间绑定游戏内触发器怎么办？例如，将发布给用户的消息*“太阳已经落山”*或类似的消息。无论如何，所需的代码都需要在主线程上运行（除非您想实现跨线程消息通信队列！），并且可能看起来很像基本的周期性检查和更新时钟代码. 因此，此时您最好还是保留一个简单的统一线程模型。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T06:04:07.603

我通常使用一个名为 Simulation 的类来推进时间。我在 C++ 中没有它，但我已经在 J​​ava 中完成了线程，它可以向前推进时间并根据计划（或计划时间的随机事件）激活事件。您可以将其转换为 C++ 或用于查看面向对象的实现如何。

```
package adventure;

public class Simulation extends Thread {

    private PriorityQueue prioQueue;

    Simulation() {
        prioQueue = new PriorityQueue();
        start();
    }

    public void wakeMeAfter(Wakeable SleepingObject, double time) {
        prioQueue.enqueue(SleepingObject, System.currentTimeMillis() + time);
    }

    public void run() {
        while (true) {
            try {
                sleep(5); 

                if (prioQueue.getFirstTime() <= System.currentTimeMillis()) {
                    ((Wakeable) prioQueue.getFirst()).wakeup();
                    prioQueue.dequeue();
                }

            } catch (InterruptedException e) {

            }

        }
    }

} 
```

要使用它，您只需实例化它并添加您的对象：

```
 `      Simulation sim = new Simulation();

        // Load images to be used as appearance-parameter for persons
        Image studAppearance = loadPicture("Person.gif");

        // --- Add new persons here ---
        new WalkingPerson(sim, this, "Peter", studAppearance); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-25T06:08:43.133

我将假设您的程序当前大部分时间都在等待用户输入 - 这会不规则地阻塞您的主线程并且会在相对较长的时间内阻塞，从而阻止您进行短时间相关的更新。并且您想避免复杂的解决方案（线程）。

如果你想在主线程中[访问时间，没有单独的线程访问它是比较容易](http://www.cplusplus.com/reference/ctime/localtime/)的（看例子）。

如果您在等待用户输入时不需要在后台执行任何操作，您就不能编写一个函数来根据等待时经过的时间计算新值吗？您可以在`LastSystemTimeObserved`每次需要使用某个时间相关变量时更新一些变量 - 调用一些函数，该函数根据自上次调用以来经过的时间计算变量的更改值，而不是每秒重新计算值.

如果您确实创建了一个单独的线程，请确保[正确保护](http://en.cppreference.com/w/cpp/thread/mutex)两个线程都访问的任何变量。

# php - Wordpress 高级自定义字段插件未正确输出

> ID：15060150
> 
> 赞同：0
> 
> 时间：2013-02-25T04:32:26.537
> 
> 标签：php, wordpress, advanced-custom-fields

我有两行类似的代码，第一行可以正常工作，但第二行不行。

这个工作正常，并在`<li></li>`

```
$output .= '<li>' . the_title() . '</li>'; 
```

这个返回一个**空`<li></li>`**并在页面顶部显示结果

```
$output .= '<li>' . the_field('price') . '</li>'; 
```

the_field('price') 是我使用“高级自定义字段”插件创建的自定义 wordpress 字段。这是关于如何输出数据的插件文档[http://www.advancedcustomfields.com/resources/field-types/select/](http://www.advancedcustomfields.com/resources/field-types/select/)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-25T04:48:08.620

在您的情况下，使用[get_field()](http://www.advancedcustomfields.com/docs/functions/get_field/)而不是[the_field()](http://www.advancedcustomfields.com/docs/functions/the_field/)可能更好。

这是区别：

*   `get_field()`会给你价值。
*   `the_field()`将直接打印结果但返回 NULL。

# asp.net - 为什么IIS7中还存在aspnet_isapi.dll？

> ID：15060161
> 
> 赞同：2
> 
> 时间：2013-02-25T04:33:18.043
> 
> 标签：asp.net, iis-7

据我所知，asp.net 已与 IIS 集成。

也就是说，无论传入的请求是什么，asp.net 运行时总是托管在 IIS7 中。IE。`.aspx`请求或其他静态文件请求，例如`.html`或`.jpg`。

我们知道，在 IIS6 中，`aspnet_isapi.dll`会加载创建 asp.net 运行时，并且只有在 , 等请求到达时才运行`.aspx`asp.net `.ashx`。

现在 asp.net 已经在“集成模式”下与 IIS7 集成，有什么用`aspnet_isapi.dll`？iis7中还能看到aspnet_isapi.dll是不是兼容性问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-01-06T17:16:17.467

简而言之，它仅适用于经典模式。

在经典管道模式下，ASP.NET 作为 ISAPI 扩展插入 IIS 请求处理管道 - 与在 IIS 6 中的方式完全相同。事实上，如果您打开 %WINDIR%\system32\inetsrv\config\applicationHost。配置文件并找到其中的部分，您可以看到如何配置 IIS 以将 ASP.NET 特定请求映射到 aspnet_isapi.dll：

```
<handlers accessPolicy="Read, Script">
  ...
  <add name="PageHandlerFactory-ISAPI-2.0" 
       path="*.aspx" verb="GET,HEAD,POST,DEBUG" 
       modules="IsapiModule" 
       scriptProcessor="%windir%\Microsoft.NET\Framework\v2.0.50727\aspnet_isapi.dll" 
       preCondition="classicMode,runtimeVersionv2.0,bitness32" responseBufferLimit="0" />
  ...
</handlers> 
```

注意处理程序映射的 preCondition 属性。除其他外，此属性设置为 classicMode，这确保此处理程序映射仅在应用程序池配置为以经典模式运行时生效。

# jsp - Tomcat 7 的 JSP 解析问题

> ID：15060166
> 
> 赞同：0
> 
> 时间：2013-02-25T04:33:48.827
> 
> 标签：jsp, tomcat, web-applications

我创建了一个项目。这个项目在 tomcat 6 上运行良好。但是当我用 tomcat 7 运行我的项目时，我遇到了问题：当我启动 tomcat 服务器时，它启动时没有任何错误或异常。但是当我尝试在网络浏览器中运行我的项目时，它会按原样显示整个 jsp 页面，这意味着浏览器中的整个 jsp 代码，但仍然无法通过我可以找出问题来得到任何错误或异常。

我正在使用`apache-tomcat-7.0.29`和`jstl.jar`图书馆。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T06:09:51.003

我认为这是我的问题，检查你的 web.xml 在 tomcat/conf 中，如果包含这个 cdoe ：

```
<!-- The mapping for the JSP servlet -->
    <servlet-mapping>
        <servlet-name>jsp</servlet-name>
        <url-pattern>*.jsp</url-pattern>
    </servlet-mapping>

    <servlet-mapping>
        <servlet-name>jsp</servlet-name>
        <url-pattern>*.jspx</url-pattern>
    </servlet-mapping> 
```

# php - 使用 forumrunner api 在论坛上与某人进行私人对话？

> ID：15060174
> 
> 赞同：0
> 
> 时间：2013-02-25T04:34:41.713
> 
> 标签：php, json, api, forum

我在尝试使用外部论坛运行器 api 向论坛上的用户发送消息时遇到了麻烦。

我已经能够使用此代码成功登录：

```
function login($username, $password){
    $postdata = "cmd=login&username=".$username."&password=".$password;

    $opts = array('http' =>
        array(
            'method'  => 'POST',
            'header'  => 'Content-type: application/x-www-form-urlencoded',
            'content' => $postdata
        )
    );

    $context  = stream_context_create($opts);

    $result = file_get_contents('http://forums.<<<website>>>.org/forumrunner/request.php', false, $context);
    $resultantArray = json_decode($result, true);

    if($resultantArray['success'] == true){
        $this->loginresult=$resultantArray;
        return true;
    } else {
        $this->loginresult=false;
        return false;
    }
} 
```

结果：

```
array(5) { ["success"]=> bool(true) ["data"]=> array(6) { ["username"]=> string(8) "<<<Username>>>" ["authenticated"]=> bool(true) ["v"]=> string(5) "1.1.1" ["p"]=> string(5) "xen10" ["requires_authentication"]=> bool(false) ["reg"]=> bool(true) } ["ads"]=> int(0) ["pm_notices"]=> int(0) ["sub_notices"]=> int(0) } string(4395) " 
```

这样就可以了，并发送回登录成功消息，但是启动新对话的代码不起作用（验证失败）：

```
function sendPM($recipients, $title, $message) {
    $postdata = "cmd=start_conversation&recipients=".$recipients."&title=".$title."&message=".$message."&d=1";

    $opts = array('http' =>
        array(
            'method'  => 'POST',
            'header'  => 'Content-type: application/x-www-form-urlencoded',
            'content' => $postdata
        )
    );

    $context  = stream_context_create($opts);

    $result = file_get_contents('http://forums.<<<website>>>.org/forumrunner/request.php', false, $context);
    $resultantArray = json_decode($result, true);
    if($resultantArray['success'] == true){
        $this->pmresult=$resultantArray;
        return true;
    } else {
        $this->pmresult=$result;
        return false;
    }

} 
```

和错误（重要部分）：

```
{"success":false,"message":"You do not have permission to view this page or perform this action."} 
```

我相信我需要传递某种安全令牌，但我不知道从哪里得到它。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T05:02:43.450

您将 PHP 用作 Web 客户端（如 Firefox 或 Chrome），但它不是浏览器。默认情况下它不支持 cookie。

假设您现在正在使用浏览器。通常在您登录网站后，该网站会向您传递某种令牌（例如会话 ID、用户名）。令牌将存储在您浏览器的 cookie 中。每次您在网站上做某事时，您的浏览器都会将该令牌提供给该网站。这就是网站每次（登录后）都会知道您的登录信息的方式。

现在，您的程序必须做同样的事情，但 PHP 不会自动为您做这件事。您需要：

1.  编写您自己的代码以在您的请求/响应标头中读取、存储和写入 cookie。

2.  搜索网络并找到相关库，如果有的话。

我建议你阅读一些相关的讨论，例如：

[https://forums.digitalpoint.com/threads/how-to-make-a-php-robot-that-c​​an-log-in.2410778/](https://forums.digitalpoint.com/threads/how-to-make-a-php-robot-that-can-log-in.2410778/)

# php - 在php中获取所有工作日

> ID：15060178
> 
> 赞同：-2
> 
> 时间：2013-02-25T04:35:01.090
> 
> 标签：php, date

我正在考虑如何`date`在给定时间之间获取所有工作日`date`

示例：我有一个`date`给定的`2013-01-01`和`2013-20-01`

它必须返回工作日的所有日期，例如`2013-01-01`

这怎么能用php来完成谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T04:43:29.920

查看[DatePeriod](http://www.php.net/dateperiod)类，这可从 PHP 5.3 获得。

这是网站上的一个例子

```
$begin = new DateTime( '2012-08-01' );
$end = new DateTime( '2012-08-31' );
$end = $end->modify( '+1 day' );

$interval = new DateInterval('P1D');
$daterange = new DatePeriod($begin, $interval ,$end);

foreach($daterange as $date){

       // You can manipulate the date here
    echo $date->format("Ymd") . "<br>";
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T04:44:01.213

您可以使用多种可用的格式选项从时间戳中获取工作日：

```
echo date("D",strtotime("2013-01-01")); 
```

星期二

# networking - 丢失 UDP 数据包的可能性有多大？

> ID：15060180
> 
> 赞同：22
> 
> 时间：2013-02-25T04:35:15.547
> 
> 标签：networking, udp, packet-loss

好的，所以我正在为我的网络课程编程，我必须使用 UDP 在 Java 中实现一个项目。我们正在实现一个 HTTP 服务器和客户端以及一个以指定概率破坏数据包的“gremlin”函数。HTTP 服务器必须在应用层将一个大文件分成多个段，然后通过 UDP 发送给客户端。客户端必须在应用层重新组装接收到的段。然而，我想知道的是，如果 UDP 根据定义是不可靠的，为什么我必须在这里模拟不可靠性？

我的第一个想法是，也许这仅仅是因为我的导师在我们的案例中计算，客户端和服务器都将在同一台机器上运行，并且即使通过 UDP，文件也会从一个进程传输到另一个进程 100% 可靠，因为它位于同一台计算机上的两个进程之间。

这使我首先质疑如果服务器和客户端被保证是同一物理机器上的两个进程，UDP 是否真的会丢失数据包、损坏数据包或无序传递数据包，保证严格路由仅在本地主机上，这样它就不会通过网络出去。

我还想知道，一般来说，对于给定的数据包，UDP 在用于促进​​两个地理位置相当的主机之间通过开放互联网进行通信时丢弃/损坏/或乱序传递数据包的大致概率是多少彼此相距很远（比如说类似于美国普通宽带用户与 Google 的 CDN 之一之间的路由）？我主要只是想大致了解通过 UDP 通信时所经历的情况，它是否会丢弃/损坏/错误排序大约 25% 的数据包，或者更像是大约 0.001% 的数据包数据包？

非常感谢任何可以为我解答这些问题的人。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-05-25T11:09:05.023

数据包丢失的发生有多种原因。这主要是由个别链路上的错误和网络拥塞引起的。

当链路正常工作时，由于链路错误导致的丢包率非常低。低于 0.01% 并不罕见。

由于拥塞导致的数据包丢失显然取决于链路的繁忙程度。如果整个路径上有备用容量，则此数字将为 0%。但是随着网络变得繁忙，这个数字会增加。当流量控制正确时，这个数字不会很高。几个丢失的数据包通常就足够了，以至于有人会降低其传输速度，以防止数据包因拥塞而丢失。

如果丢包率达到 1%，那就是有问题。这可能是您的拥塞控制算法如何响应数据包丢失的错误。如果它一直以相同的速率发送数据包，当网络拥塞并丢失数据包时，可以将数据包丢失推得更高，如果软件行为不端，可能会丢失 99% 的数据包。但这取决于所涉及的链接类型。千兆以太网使用背压来控制流量，因此如果从源到目的地的路径是单个千兆以太网段，则发送应用程序可能会简单地变慢并且永远不会看到实际的数据包丢失。

为了在丢包的情况下测试软件的行为，我建议进行两种不同的模拟。

1.  在每个数据包上以 10% 的概率丢弃它并以 90% 的概率传输它
2.  每秒最多传输 100 个数据包或每秒最多 100KB，如果应用程序发送更多数据包，则丢弃其余数据包。

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2013-02-25T06:13:29.860

> 如果 UDP 根据定义是不可靠的，为什么我必须在这里模拟不可靠性？

拥有一个受控机制来模拟最坏的情况以及您的客户端和服务器如何响应它们是非常有用的。讲师可能会希望您展示该系统的稳健性。

您还在这里谈论有效负载有效性，而不仅仅是丢包。

> 这让我质疑如果服务器和客户端是同一台机器上的两个进程并且它不必通过实际网络出去，UDP、丢失数据包、损坏数据包还是乱序传递。

环回适配器显然不太可能，但这并非不可能。

[我在这里](http://www.gamedev.net/topic/622874-udp-packet-loss-client-and-server-on-same-computer/)和[这里](http://compgroups.net/comp.unix.solaris/packet-loss-on-loopback-interface/297742)找到了一些关于该主题的论坛帖子。

> 我还想知道实际上丢失数据包、损坏数据包或让它们在现实中乱序交付的可能性通常是通过互联网在两个地理位置相距遥远的主机之间进行的。

这个问题可能需要缩小一点。应用级别（数据包大小和频率）以及沿路径的路由器和交换机的限制/流量有几个因素。

我在这方面找不到任何确切的数字，但它似乎相当低……比如低于 5%。

您可能对[Internet 流量报告](http://www.internettrafficreport.com/)以及此类页面[感兴趣](http://www.nessoft.com/kb/42)。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2021-06-28T07:59:31.190

我通过 wifi 向一些 nanoleaf 面板发送垃圾邮件 udp 数据包，我的数据包丢失率大约为 1/7000。

我认为这取决于很多因素。

# python - youtube 的 Python urllib 基本脚本

> ID：15060186
> 
> 赞同：1
> 
> 时间：2013-02-25T04:35:48.123
> 
> 标签：python, youtube, urllib

我正在尝试从 Youtube 下载视频，并尝试了以下方法：

```
url = "http://www.youtube.com/watch?v=f4l3pBovB_c"
urllib.urlretrieve(url,"test.mp4") 
```

它创建文件 test.mp4，但出现以下错误：

> Windows 媒体播放器无法播放该文件。播放器可能不支持文件类型或可能不支持用于压缩文件的编解码器。

我想尝试自己了解如何实现这一点，我已经看到了 youtube-dl.py 之类的模块，但再次希望代码以最简单的形式工作，这样我就可以在构建脚本时理解它。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-08-25T10:46:17.017

Youtube 视频未存储在`youtube.com`域中，因此您尝试下载的视频不存在该 URL。下载 youtube 视频是一个复杂的过程，但您可以使用[youtube-dl](https://github.com/rg3/youtube-dl)。

# mysql - 使用触发器更新后跟踪表行中的更改并将更改的列名和值写入另一个表

> ID：15060193
> 
> 赞同：1
> 
> 时间：2013-02-25T04:36:30.557
> 
> 标签：mysql

我正在为表中的记录更改编写触发器，同时更新我的​​触发器是

```
CREATE TRIGGER vehicle_mst_log 
AFTER UPDATE ON vehicle_mst
FOR EACH ROW BEGIN  
    IF (OLD.COLUMN1 != NEW.COLUMN1) THEN
        INSERT INTO ABN_OLDLOGTABLE (
            TABLENAME,
            COLUMNNAME,
            OLDVALUE,
            NEWVALUEW,
            TIME,
            USER)
        VALUES (
            "TABLE",
            "COLUMN1",
            COLUMN1OLDVALUE,
            COLUMN1NEWVALUE,
            NOW(),
            USER);
    END IF;
    IF (OLD.COLUMN2 != NEW.COLUMN2) THEN
        INSERT INTO ABN_OLDLOGTABLE (
            TABLENAME,
            COLUMNNAME,
            OLDVALUE,
            NEWVALUEW,
            TIME,
            USER)
        VALUES (
            "TABLE",
            "COLUMN2",
            COLUMN2OLDVALUE,
            COLUMN2NEWVALUE,
            NOW(),
            USER);
    END IF;
END; 
```

但我在表中有大约 40 列任何其他简单的方法可以在循环中写入列名并检查值更改

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-25T04:50:33.353

您可能需要编写一个小型实用程序，该实用程序将从 MySQL 读取给定表的模式并创建检查所有列的触发器。他们需要在表结构更改后重新运行此实用程序。如果您在编写此类实用程序时需要帮助，请告诉我。

这是生成触发器的脚本：

```
#!/bin/sh

db="$1";
shift

echo "DELIMITER ;;"
for table in "$@"
do
  sql="show columns from $table"
  columns=`mysql -B -N -e "$sql" "$db" | cut -f 1`
  echo "CREATE TRIGGER ${table}_log"
  echo "AFTER UPDATE ON $table"
  echo "FOR EACH ROW BEGIN"
  for column in $columns
  do
    echo "  IF (OLD.$column != NEW.$column) THEN"
    echo "    INSERT INTO ABN_OLDLOGTABLE (TABLENAME, COLUMNNAME, OLDVALUE, NEWVALUEW, TIME, USER)"
    echo "    VALUES (\"$table\", \"$column\", OLD.$column, NEW.$column, NOW(), USER());"
    echo "  END IF;"
  done
  echo "END;;"
done 
```

将其另存为`trigger.sh`，在其上设置可执行位 ( `chmod a+x trigger.sh`)，然后像这样运行：

```
trigger.sh dbname table1 table2 ... 
```

它将在 STDIN 上打印触发器代码。

# python-2.7 - IPython（或 Numpy）Malloc 错误

> ID：15060197
> 
> 赞同：4
> 
> 时间：2013-02-25T04:36:56.690
> 
> 标签：python-2.7, numpy, ipython, ipython-notebook

我有 Mac OS X 10.6.8 和 Python 2.7

我最近更新了一些 Python 包，包括 NumPy、SciPy 和 IPython。这样做之后，我发现如果我尝试打开 IPython HTML Notebook，我会收到错误消息：

```
malloc: *** error for object 0x1029b7580: pointer being freed was not allocated
*** set a breakpoint in malloc_error_break to debug 
```

从我所做的研究来看，这似乎是一个 C++ 问题，因此与 IPython 本身无关。我已经建议 NumPy 可能是罪魁祸首。我应该补充一点，新版本的 SciPy 未能正确安装，这可能是相关的，也可能不是相关的。

有没有其他人遇到同样的问题？

# jquery - 如果 url 的结尾等于，则显示和隐藏？

> ID：15060202
> 
> 赞同：0
> 
> 时间：2013-02-25T04:37:49.200
> 
> 标签：jquery

如果 URL 的结尾等于 = #trending，我需要隐藏并显示一个 DIV

我有一个功能可以完成大部分工作，我只是不确定如何获取当前页面的 url 的末尾。

```
function hideLgFooter() {
    var url = document.location.toString();
    var checkUrl = ;

    if (checkUrl == '#trending'){
        $('.footer-lg').show();
        $('.footer-sm').hide();
    }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-25T04:40:48.683

您可以使用`window.location.hash`：

```
if (window.location.hash == '#trending') {
    ... 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T04:42:42.417

你能做的就是使用`split`.

```
function hideLgFooter() {
    var url = document.location.toString().split('#');
    var checkUrl = ;

    if (url[1] == 'trending')
    {
        $('.footer-lg').show();
        $('.footer-sm').hide();
    }
} 
```

试试上面的，看看它是否有效。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-25T04:42:54.090

```
var _url = location.href;
var _reg = /(#trending)$/;
_reg.test(_url); 
```

所以

```
 if (_reg.test(_url)){
      $('.footer-lg').show();
      $('.footer-sm').hide();
    } 
```

# python - 在python中解析文本数字和逗号的字符串

> ID：15060206
> 
> 赞同：0
> 
> 时间：2013-02-25T04:38:06.550
> 
> 标签：python, list, parsing

嘿家伙想知道是否有人可以提供一些快速的帮助。我需要知道如何解析有关某些国家/地区的一些信息并将它们放入列表中。列表部分显然很简单，但字符串的设置给我带来了麻烦。这是一个示例：

```
Algeria \t919,590\t34,178,188\n 
```

好吧，如果我做 readlineS 那就是它在 Eclipse 输出中的样子，但如果我做 readlineE 它看起来像这样：

```
Albania     11,100  3,639,453 
```

这些只是差异国家的两个示例，我的目标是使其类似于：

```
[Albania, 11,100 , 3,639,453] 
```

或者也许只是

```
[Albania, 11100 , 3639453] 
```

什么都容易！谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T04:42:57.963

使用该`csv`模块解析您的 CSV 文件：

```
import csv

with open('filename.csv', 'r') as handle:
    reader = csv.reader(handle, delimiter='\t')

    for name, number1, number2 in reader:
        print name, number1, number2 
```

要解析数字，您可以去掉逗号：

```
>>> int('123,456,789'.replace(',', ''))
123456789 
```

# haskell - Haskell/lambda 演算类型示例

> ID：15060210
> 
> 赞同：1
> 
> 时间：2013-02-25T04:38:25.583
> 
> 标签：haskell, lambda-calculus

假设 Haskell 或 lambda 演算呈现以下函数类型：

A -> B -> C

(A -> B) -> C

这两者有何不同？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-25T04:56:19.897

第一个是函数 from `A`to a（函数 from `B`to `C`）。第二个是从 (functions from `A`to `B`) to的函数`C`。第一个“接受两个论点”，第二个“接受一个论点”。第一个是普通函数，第二个是“高阶函数”。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T04:42:46.307

以下是您的类型的两个示例函数，可帮助您了解它们的不同之处：

```
valatzero :: Num a => (a -> t) -> t
valatzero f = f 0

plus :: Num a => a -> a -> a
plus x y = x + y 
```

# asp.net - 如何将参数传递给 Reportviewer？

> ID：15060213
> 
> 赞同：0
> 
> 时间：2013-02-25T04:38:32.587
> 
> 标签：asp.net, reportviewer

我正在尝试为 TOP（根据用户提供 10,100,200 ..）产品创建报告。我成功了 90%。现在，我发现很难将这些数字显示给报告标题。所以，我的报告标题是 Top Products，现在我想让这个动态，说 Top 100 Products，Top 200 Products。

我正在使用 VS 2008。

为此，我在 ReportViewer 中创建了参数。我在 Page_Load 事件中尝试了这段代码；

```
 protected void Page_Load(object sender, EventArgs e)
{
    ReportDataSource rds = new ReportDataSource("SP_GetProductsbySales_DataSet");
    //ReportViewer1.ServerReport.ReportPath = "Report1.rdlc";
    ReportViewer1.LocalReport.ReportPath = "Report1.rdlc";
    ReportParameter[] param = new ReportParameter[1];
    param[0] = new ReportParameter("top", "100");

    ReportViewer1.ServerReport.SetParameters(param);
    ReportViewer1.ServerReport.Refresh();
} 
```

但收到错误消息：`The source of the report definition has not been specified.`

我怎样才能完成这个？我尝试用谷歌搜索并观看了一些视频，但我仍然没有任何想法。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T04:53:37.557

请设置数据源

```
 ReportViewer1.LocalReport.DataSources.Clear();

       ReportViewer1.LocalReport.DataSources.Add(rds); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T05:00:24.010

您可以在报表中设置表达式以显示值。

表达式如下：

```
="Top " & Parameters!top.Value & " Products" 
```

# c# - Web Api + HttpClient：异步模块或处理程序已完成，而异步操作仍处于挂起状态

> ID：15060214
> 
> 赞同：50
> 
> 时间：2013-02-25T04:38:37.657
> 
> 标签：c#, asp.net, asp.net-web-api, dotnet-httpclient

我正在编写一个使用 ASP.NET Web API 代理一些 HTTP 请求的应用程序，并且我正在努力确定间歇性错误的来源。这似乎是一种竞争条件......但我并不完全确定。

在我详细介绍之前，这里是应用程序的一般通信流程：

*   **客户端向****代理 1**发出 HTTP 请求。
*   **代理 1**将 HTTP 请求的内容中继到代理 2
*   **代理 2**将 HTTP 请求的内容中继到目标 Web 应用程序
*   **目标 Web 应用程序**响应 HTTP 请求并将响应流式传输（分块传输）到代理 2
*   **代理 2**将响应返回给**代理 1**，代理 1 又响应原始调用**Client**。

代理应用程序是使用 .NET 4.5 在 ASP.NET Web API RTM 中编写的。执行中继的代码如下所示：

```
//Controller entry point.
public HttpResponseMessage Post()
{
    using (var client = new HttpClient())
    {
        var request = BuildRelayHttpRequest(this.Request);

        //HttpCompletionOption.ResponseHeadersRead - so that I can start streaming the response as soon
        //As it begins to filter in.
        var relayResult = client.SendAsync(request, HttpCompletionOption.ResponseHeadersRead).Result;

        var returnMessage = BuildResponse(relayResult);
        return returnMessage;
    }
}

private static HttpRequestMessage BuildRelayHttpRequest(HttpRequestMessage incomingRequest)
{
    var requestUri = BuildRequestUri();
    var relayRequest = new HttpRequestMessage(incomingRequest.Method, requestUri);
    if (incomingRequest.Method != HttpMethod.Get && incomingRequest.Content != null)
    {
       relayRequest.Content = incomingRequest.Content;
    }

    //Copies all safe HTTP headers (mainly content) to the relay request
    CopyHeaders(relayRequest, incomingRequest);
    return relayRequest;
}

private static HttpRequestMessage BuildResponse(HttpResponseMessage responseMessage)
{
    var returnMessage = Request.CreateResponse(responseMessage.StatusCode);
    returnMessage.ReasonPhrase = responseMessage.ReasonPhrase;
    returnMessage.Content = CopyContentStream(responseMessage);

    //Copies all safe HTTP headers (mainly content) to the response
    CopyHeaders(returnMessage, responseMessage);
}

private static PushStreamContent CopyContentStream(HttpResponseMessage sourceContent)
{
    var content = new PushStreamContent(async (stream, context, transport) =>
            await sourceContent.Content.ReadAsStreamAsync()
                            .ContinueWith(t1 => t1.Result.CopyToAsync(stream)
                                .ContinueWith(t2 => stream.Dispose())));
    return content;
} 
```

间歇性发生的错误是：

> 异步模块或处理程序已完成，而异步操作仍处于挂起状态。

此错误通常发生在对代理应用程序的前几个请求中，之后该错误不再出现。

抛出时，Visual Studio 永远不会捕获异常。但是可以在 Global.asax Application_Error 事件中捕获错误。不幸的是，异常没有堆栈跟踪。

代理应用程序托管在 Azure Web 角色中。

任何帮助确定罪魁祸首将不胜感激。

* * *

## 回答 #1

> 赞同：68
> 
> 时间：2013-02-25T15:15:30.750

您的问题是一个微妙的问题：`async`您传递给的 lambda`PushStreamContent`被解释为一个`async void`（因为[`PushStreamContent`构造函数](http://msdn.microsoft.com/en-us/library/system.net.http.pushstreamcontent%28v=vs.108%29.aspx)只将`Action`s 作为参数）。因此，您的模块/处理程序完成与该`async void`lambda 完成之间存在竞争条件。

`PostStreamContent`检测到流关闭并将其视为其结束`Task`（完成模块/处理程序），因此您只需要确保`async void`在流关闭后没有仍然可以运行的方法。`async Task`方法没问题，所以这应该解决它：

```
private static PushStreamContent CopyContentStream(HttpResponseMessage sourceContent)
{
  Func<Stream, Task> copyStreamAsync = async stream =>
  {
    using (stream)
    using (var sourceStream = await sourceContent.Content.ReadAsStreamAsync())
    {
      await sourceStream.CopyToAsync(stream);
    }
  };
  var content = new PushStreamContent(stream => { var _ = copyStreamAsync(stream); });
  return content;
} 
```

如果您希望您的代理更好地扩展，我还建议您摆脱所有`Result`调用：

```
//Controller entry point.
public async Task<HttpResponseMessage> PostAsync()
{
  using (var client = new HttpClient())
  {
    var request = BuildRelayHttpRequest(this.Request);

    //HttpCompletionOption.ResponseHeadersRead - so that I can start streaming the response as soon
    //As it begins to filter in.
    var relayResult = await client.SendAsync(request, HttpCompletionOption.ResponseHeadersRead);

    var returnMessage = BuildResponse(relayResult);
    return returnMessage;
  }
} 
```

您以前的代码会为每个请求阻塞一个线程（直到收到标头）；通过`async`一直使用到控制器级别，您将不会在此期间阻塞线程。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2017-07-26T21:41:52.830

我想为遇到同样错误的其他人补充一些智慧，但您的所有代码似乎都很好。从发生这种情况的调用树中查找传递给函数的任何 lambda 表达式。

我在对 MVC 5.x 控制器操作的 JavaScript JSON 调用中收到此错误。我在堆栈上下所做的一切都是使用定义`async Task`和调用的`await`。

但是，使用 Visual Studio 的“设置下一条语句”功能，我系统地跳过了几行以确定是哪一个导致了它。我一直深入研究本地方法，直到调用外部 NuGet 包。被调用的方法将 an`Action`作为参数，并且为此 Action 传入的 lambda 表达式前面带有`async`关键字。正如 Stephen Cleary 在上面的回答中指出的那样，这被视为`async void`MVC 不喜欢的 。幸运的是，包具有相同方法的 *Async 版本。切换到使用这些，以及对同一个包的一些下游调用解决了这个问题。

我意识到这不是解决问题的新方法，但是在尝试解决问题的搜索中，我几次跳过了这个线程，因为我认为我没有任何`async void`或`async <Action>`电话，我想帮助其他人避免这种情况.

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-02-28T05:48:05.087

一个稍微简单的模型是，您实际上可以直接使用 HttpContents 并在中继内部传递它们。我刚刚上传了一个示例，说明了如何以相对简单的方式异步依赖请求和响应，并且不缓冲内容：

[http://aspnet.codeplex.com/SourceControl/changeset/view/7ce67a547fd0#Samples/WebApi/RelaySample/ReadMe.txt](http://aspnet.codeplex.com/SourceControl/changeset/view/7ce67a547fd0#Samples/WebApi/RelaySample/ReadMe.txt)

重用相同的 HttpClient 实例也是有益的，因为这允许您在适当的情况下重用连接。

# php - foreach 多维数组显示值

> ID：15060217
> 
> 赞同：0
> 
> 时间：2013-02-25T04:38:59.540
> 
> 标签：php, mysql

在 BPM 应用程序中，我试图遍历关联数组的关联数组，并使用 foreach 循环仅返回值 (APP_UID)。但是，我只能显示最后生成的值，而不是所有值。

这是我的代码：

```
$currentUser = @@USER_LOGGED;
//Copy Notes to Subprocess
$caseId = @@APPLICATION; //Case UID
$subcases = executeQuery("SELECT APP_UID FROM SUB_APPLICATION WHERE APP_PARENT='$caseId'");
if (is_array($subcases) and count($subcases) > 0) { 
  foreach($subcases as $subcase)
  $subCaseId = $subcase["APP_UID"] . ", ";

//Update the Sent By status
executeQuery("UPDATE APP_CACHE_VIEW SET PREVIOUS_USR_UID = '$currentUser' WHERE APP_UID IN ('$subCaseId')");
} 
```

executeQuery 函数应该生成如下所示的 SQL 语句，但事实并非如此。例子：

```
UPDATE APP_CACHE_VIEW SET PREVIOUS_USR_UID = '54454572356235' WHERE APP_UID IN      
('336545547', '436545534', '736545125') 
```

关于我做错了什么的任何想法？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-25T04:42:40.183

试试这个。

```
 $currentUser = @@USER_LOGGED;
    //Copy Notes to Subprocess
    $caseId = @@APPLICATION; //Case UID
    $subcases = executeQuery("SELECT APP_UID FROM SUB_APPLICATION WHERE APP_PARENT='$caseId'");
    if (is_array($subcases) and count($subcases) > 0) { 
      $subCaseId = '';
      foreach($subcases as $subcase)
      $subCaseId .= $subcase["APP_UID"] . ", ";

    //Update the Sent By status
    executeQuery("UPDATE APP_CACHE_VIEW SET PREVIOUS_USR_UID = '$currentUser' WHERE APP_UID IN ('$subCaseId')");
    } 
```

也不要忘记通过`$subCaseId = '';`在代码中执行“重新初始化字符串”。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-25T04:42:13.923

我认为您在这里缺少连接：

在循环顶部初始化变量，如下所示：

```
$subCaseId = ''; 
```

并使用连接运算符`.=`如下：

```
$subCaseId .= $subcase["APP_UID"] . ", "; 
```

理想情况下，您还应该从变量中删除最后一个命令和空格`$subCaseId`

您还需要删除此变量周围的单引号以进行 IN 查询。

请参阅以下完整解决方案：

```
$currentUser = @@USER_LOGGED;
//Copy Notes to Subprocess
$caseId = @@APPLICATION; //Case UID
$subcases = executeQuery("SELECT APP_UID FROM SUB_APPLICATION WHERE APP_PARENT='$caseId'");
if (is_array($subcases) and count($subcases) > 0) { 
    $subCaseId = '';
      foreach($subcases as $subcase)
          $subCaseId = $subcase["APP_UID"] . ", ";
    //To remove last comma and space
    $subCaseId = substr($subCaseId,0,-2);

//Update the Sent By status
executeQuery("UPDATE APP_CACHE_VIEW SET PREVIOUS_USR_UID = '$currentUser' WHERE APP_UID IN ($subCaseId)");
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-25T04:41:10.690

改变

```
 foreach($subcases as $subcase)
  $subCaseId = $subcase["APP_UID"] . ", "; 
```

到 ：

```
 $subCaseId = '';
  foreach($subcases as $subcase)
  $subCaseId .= $subcase["APP_UID"] . ", "; 
```

注意串联`.=`

# html - 如何在不更改样式的情况下向我的导航添加引导响应功能

> ID：15060218
> 
> 赞同：0
> 
> 时间：2013-02-25T04:39:02.817
> 
> 标签：html, css, twitter-bootstrap, navigation, responsive-design

我正在开发导航，我想向它添加引导响应功能，但不改变我原来的样式，如颜色、高度等。如果有人能帮助我，我将不胜感激。

下面是导航标记。

```
 <header id="pageHeader">
        <div class="container">
            <div id="logo">
            </div>
            <div id="navMain">
                <ul id="navContainer">
                    <li><a class="selected" href="index.html">HOME</a></li>
                    <li><a href="about.html">ABOUT</a></li>
                    <li><a href="services.html">SERVICES</a></li>
                    <li><a href="portfolio.html">PORTFOLIO</a></li>
                    <li><a href="contact.html">CONTACT</a></li>
                </ul>
            </div>
        </div>
    </header> 
```

这是我使用的样式。

```
#pageHeader{
  background-color: rgb(250,210,0);
  width: 100%;
}
/* 3.2\. Logo Styling */
#logoTop{
  float:left;
}
/* 3.3\. Main Navigation Styling */ 
#navMain{
  float: right;
  position: relative;
  margin: 84px 10px 21px 10px;
}
ul#navContainer{
  display: block;
  position: inherit;
}
#navMain ul li{
  float: left;
  display: block;
  margin: 0px auto;
  font-weight: bold;
  list-style-image: none;
}
#navMain ul li a{
  color: rgb(99,99,99);
  font-size: 18px;
  padding: 10px 3px 10px 12px;
  font-family: "nexa_500", Tahoma, Geneva, sans-serif;
  font-size: 16px;
  text-transform: uppercase;
  text-decoration: none;
  -webkit-transition: color ease 0.7s;
  -moz-transition: color ease 0.7s;
  -o-transition: color ease 0.7s;
  transition: color ease 0.7s;
}
#navMain li a:hover,
#navMain li a:active {
  text-decoration: none;
  color: rgb(33,33,33);
  -webkit-transition: color ease 0.7s;
  -moz-transition: color ease 0.7s;
  -o-transition: color ease 0.7s;
  transition: color ease 0.7s;
}
#navMain ul li a.selected{
  color: rgb(33,33,33);
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T04:58:48.277

您编写如下查询：

```
/* Portrait tablet to landscape and desktop */
@media (min-width: 768px) and (max-width: 979px) {

   position:fixed;
   margin-top:10px;

    }
/* Landscape phone to portrait tablet */
@media (max-width: 767px) { 
   write query here as well

          }

/* Landscape phones and down */
@media (max-width: 480px) { 
    write query  here as well
      } 
```

# android - 如何在Android中将音频原始转换为flac

> ID：15060221
> 
> 赞同：4
> 
> 时间：2013-02-25T04:39:49.303
> 
> 标签：android, audio, audio-recording, flac

我用 audoiRecord 类录制音频。现在我想将音频原始文件转换为 *flac 格式。我接下来将 *raw 文件转换为 wav：

```
private void copyWaveFile(String inFilename,String outFilename){
    FileInputStream in = null;
    FileOutputStream out = null;
    long totalAudioLen = 0;
    long totalDataLen = totalAudioLen + 36;
    long longSampleRate = sampleRate;
    int channels = 2;
    long byteRate = RECORDER_BPP * sampleRate * channels/8;
    byte[] data_pcm = new byte[mAudioBufferSize];
    try {
        in = new FileInputStream(inFilename);
        out = new FileOutputStream(outFilename);
        totalAudioLen = in.getChannel().size();
        totalDataLen = totalAudioLen + 36;
        Log.i(TAG,"File size: " + totalDataLen);
        WriteWaveFileHeader(out, totalAudioLen, totalDataLen,
        longSampleRate, channels, byteRate);
        while(in.read(data_pcm) != -1){
            out.write(data_pcm);
        }
        in.close();
        out.close();
    } catch (FileNotFoundException e) {
        e.printStackTrace();
    } catch (IOException e) {
        e.printStackTrace();
    }
} 
```

这段代码负责文件头

```
private void WriteWaveFileHeader(
                 FileOutputStream out, long totalAudioLen,
                 long totalDataLen, long longSampleRate, int channels,
                 long byteRate) throws IOException {

     byte[] header = new byte[44];

     header[0] = 'R';  // RIFF/WAVE header
     header[1] = 'I';
     header[2] = 'F';
     header[3] = 'F';
     header[4] = (byte) (totalDataLen & 0xff);
     header[5] = (byte) ((totalDataLen >> 8) & 0xff);
     header[6] = (byte) ((totalDataLen >> 16) & 0xff);
     header[7] = (byte) ((totalDataLen >> 24) & 0xff);
     header[8] = 'W';
     header[9] = 'A';
     header[10] = 'V';
     header[11] = 'E';
     header[12] = 'f';  // 'fmt ' chunk
     header[13] = 'm';
     header[14] = 't';
     header[15] = ' ';
     header[16] = 16;  // 4 bytes: size of 'fmt ' chunk
     header[17] = 0;
     header[18] = 0;
     header[19] = 0;
     header[20] = 1;  // format = 1
     header[21] = 0;
     header[22] = (byte) channels;
     header[23] = 0;
     header[24] = (byte) (longSampleRate & 0xff);
     header[25] = (byte) ((longSampleRate >> 8) & 0xff);
     header[26] = (byte) ((longSampleRate >> 16) & 0xff);
     header[27] = (byte) ((longSampleRate >> 24) & 0xff);
     header[28] = (byte) (byteRate & 0xff);
     header[29] = (byte) ((byteRate >> 8) & 0xff);
     header[30] = (byte) ((byteRate >> 16) & 0xff);
     header[31] = (byte) ((byteRate >> 24) & 0xff);
     header[32] = (byte) (2 * 16 / 8);  // block align
     header[33] = 0;
     header[34] = RECORDER_BPP;  // bits per sample
     header[35] = 0;
     header[36] = 'd';
     header[37] = 'a';
     header[38] = 't';
     header[39] = 'a';
     header[40] = (byte) (totalAudioLen & 0xff);
     header[41] = (byte) ((totalAudioLen >> 8) & 0xff);
     header[42] = (byte) ((totalAudioLen >> 16) & 0xff);
     header[43] = (byte) ((totalAudioLen >> 24) & 0xff);

     out.write(header, 0, 44);
} 
```

我不明白 *flac 文件的参数应该是什么

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-25T05:04:58.030

您需要一个编码器来将 pcm 数据转换为 flac 格式。您不能只更改标题并期望内容像 flac 一样工作。

Android（至少在 4.1 之前）不包括 FLAC 编码器，尽管从 3.1 开始支持解码器（来源：http: [//developer.android.com/guide/appendix/media-formats.html](http://developer.android.com/guide/appendix/media-formats.html)）。

~~我没有直接经验，但见过人们使用 ffmpeg 作为 flac 编码器。这个包含原生 libFLAC/libFLAC++ 编码器的项目[audioboo-android看起来很有趣。](https://github.com/Audioboo/audioboo-android)~~

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2020-04-11T21:05:12.270

因此，从 Android 4.1 开始，您可以这样做：

初始化：

```
MediaCodecList mcl = new MediaCodecList(MediaCodecList.REGULAR_CODECS);

MediaFormat format = new MediaFormat();
format.setString(MediaFormat.KEY_MIME, "audio/flac");
format.setInteger(MediaFormat.KEY_BIT_RATE, 64000);
format.setInteger(MediaFormat.KEY_SAMPLE_RATE, SAMPLE_RATE);
format.setInteger(MediaFormat.KEY_CHANNEL_COUNT, NUM_CHANNELS);

String codecname = mcl.findEncoderForFormat(format);
Log.w(TAG, "Codec: "+codecname);

MediaCodec codec = null;
try
{
    codec = MediaCodec.createByCodecName(codecname);
} catch (IOException e)
{
    e.printStackTrace();
}

codec.configure(format, null, null, MediaCodec.CONFIGURE_FLAG_ENCODE);
MediaFormat outputFormat = codec.getOutputFormat(); // option B

long usec = 1000000000L * FRAME_SIZE/SAMPLE_RATE;
MediaCodec.BufferInfo bufinfo = new MediaCodec.BufferInfo();
bufinfo.set(0, FRAME_SIZE * NUM_CHANNELS * 2, usec, 0);

codec.start();

byte[] inBuf = new byte[FRAME_SIZE * NUM_CHANNELS * 2];
byte[] encBuf = new byte[10240]; 
```

在记录器循环中：

```
int encoded = 0;
int inputBufferId = codec.dequeueInputBuffer(1000);
if (inputBufferId >= 0) {
    ByteBuffer inputBuffer = codec.getInputBuffer(inputBufferId);
    // fill inputBuffer with valid data
    inputBuffer.put(inBuf, 0, inBuf.length);
    codec.queueInputBuffer(inputBufferId, 0, inBuf.length, usec, 0);
}

int outputBufferId = codec.dequeueOutputBuffer(bufinfo, 1000);
if (outputBufferId >= 0) {
    ByteBuffer outputBuffer = codec.getOutputBuffer(outputBufferId);
    MediaFormat bufferFormat = codec.getOutputFormat(outputBufferId); // option A
    // bufferFormat is identical to outputFormat
    // outputBuffer is ready to be processed or rendered.

    outputBuffer.rewind();
    encoded = outputBuffer.remaining();
    outputBuffer.get(encBuf, 0, encoded);

    codec.releaseOutputBuffer(outputBufferId, false);
} else if (outputBufferId == MediaCodec.INFO_OUTPUT_FORMAT_CHANGED) {
    // Subsequent data will conform to new format.
    // Can ignore if using getOutputFormat(outputBufferId)
    outputFormat = codec.getOutputFormat(); // option B
}

if (encoded > 0)
{
    // Process data in encBuf
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-09-11T21:34:01.623

这是一个纯 java FLAC 编码器：http: [//javaflacencoder.sourceforge.net](http://javaflacencoder.sourceforge.net)

一些类使用 javax api，但可以安全地删除它们而不影响主编码器类。

这是一些示例代码。`record`对象是类型`AudioRecord`

```
try {
                    // Path to write files to
                    String path = Environment.getExternalStoragePublicDirectory("/test").getAbsolutePath();

                    String fileName = name+".flac";
                    String externalStorage = path;
                    File file = new File(externalStorage + File.separator + fileName);

                    // if file doesnt exists, then create it
                    if (!file.exists()) {
                        file.createNewFile();
                    }
                    short sData[] = new short[BufferElements2Rec];

                    FileOutputStream os = null;
                    try {
                        os = new FileOutputStream(file);
                    } catch (FileNotFoundException e) {
                        e.printStackTrace();
                    }

                    FLACEncoder flacEncoder = new FLACEncoder();
                    StreamConfiguration streamConfiguration = new StreamConfiguration(1,StreamConfiguration.MIN_BLOCK_SIZE,StreamConfiguration.MAX_BLOCK_SIZE,44100,16);

                    FLACFileOutputStream flacOut = new FLACFileOutputStream(os);
                    flacEncoder.setStreamConfiguration(streamConfiguration);
                    flacEncoder.setOutputStream(flacOut);
                    flacEncoder.openFLACStream();

                    record.startRecording();

                    int totalSamples = 0;

                    while (isRecording) {
                        record.read(sData, 0, BufferElements2Rec);
                        totalSamples+=BufferElements2Rec;

                        flacEncoder.addSamples(short2int(sData),BufferElements2Rec);

                        flacEncoder.encodeSamples(BufferElements2Rec, false);
                    }

                    int available = flacEncoder.samplesAvailableToEncode();
                    while(flacEncoder.encodeSamples(available,true) < available) {
                        available = flacEncoder.samplesAvailableToEncode();
                    }
                    try {
                        flacOut.close();
                    } catch (IOException e) {
                        e.printStackTrace();
                    }

                    record.stop();
                } catch(IOException ex) {
                    ex.printStackTrace();

                }

                record.release();
                record = null;
} 
```

用于将短数据转换为 int 数据：

```
private int[] short2int(short[] sData) {
    int length = sData.length;
    int[] iData = new int[length];
    for(int i=0;i<length;i++) {
        iData[i] = sData[i];
    }
    return iData;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2020-09-04T06:09:35.930

基于[https://github.com/nieldeokar/WhatsappAudioRecorder/blob/master/app/src/main/java/com/nieldeokar/whatsappaudiorecorder/recorder/AudioRecordThread.java](https://github.com/nieldeokar/WhatsappAudioRecorder/blob/master/app/src/main/java/com/nieldeokar/whatsappaudiorecorder/recorder/AudioRecordThread.java)

我在工作语音识别时将录音保存在 .m4a 文件中的解决方案：

```
import android.media.AudioFormat;
import android.media.AudioRecord;
import android.media.MediaCodec;
import android.media.MediaCodecInfo;
import android.media.MediaFormat;
import android.media.MediaRecorder;
import android.os.Handler;
import android.os.Looper;

import java.io.File;
import java.io.FileNotFoundException;
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.OutputStream;
import java.nio.ByteBuffer;
import java.util.Collection;
import java.util.HashSet;

import timber.log.Timber;

public class SpeechRecognizer {

private static final int CHANNELS = 1;
private static final int BIT_RATE = 32000;
private static final int SAMPLE_RATE = 44100;
private static final int SAMPLE_RATE_INDEX = 4;

protected static final String TAG = SpeechRecognizer.class.getSimpleName();

public int bufferSize;

public final Collection<RecognitionListener> listeners = new HashSet();

public final Handler mainHandler = new Handler(Looper.getMainLooper());

public final Recognizer recognizer;
private Thread recognizerThread;

public final AudioRecord recorder;

private SoundAmplitudeCallback soundAmplitudeCallback;

private File recordFile = null;

private boolean isRecordingToFileEnabled = false;
private boolean isRecordingToFilePrepared = false;
private boolean isContinueRecordingToFile = false;

public interface SoundAmplitudeCallback {
    void onAmplitude(int amplitude);
}

public void setSoundAmplitudeCallback(SoundAmplitudeCallback callback) {
    soundAmplitudeCallback = callback;
}

public SpeechRecognizer(Mabcd model) throws IOException {
    this.recognizer = new Recognizer(model, SAMPLE_RATE);
    this.bufferSize = AudioRecord.getMinBufferSize(SAMPLE_RATE,  AudioFormat.CHANNEL_IN_MONO, AudioFormat.ENCODING_PCM_16BIT);
    this.recorder = createAudioRecorder(this.bufferSize);

    if (this.recorder.getState() == 0) {
        this.recorder.release();
        throw new IOException("Failed to initialize recorder. Microphone might  be already in use.");
    }
}

public void addListener(RecognitionListener listener) {
    synchronized (this.listeners) {
        this.listeners.add(listener);
    }
}

public void removeListener(RecognitionListener listener) {
    synchronized (this.listeners) {
        this.listeners.remove(listener);
    }
}

public boolean startListening() {
    if (this.recognizerThread != null) {
        return false;
    }
    this.recognizerThread = new RecognizerThread(this);
    this.recognizerThread.start();

    return true;
}

public boolean startListening(int timeout) {
    if (this.recognizerThread != null) {
        return false;
    }
    this.recognizerThread = new RecognizerThread(timeout);
    this.recognizerThread.start();
    return true;
}

private boolean stopRecognizerThread() {
    if (this.recognizerThread == null) {
        return false;
    }
    try {
        this.recognizerThread.interrupt();
        this.recognizerThread.join();
    } catch (InterruptedException e) {
        Thread.currentThread().interrupt();
    }
    this.recognizerThread = null;
    return true;
}

public void startRecordToFile(File fileRecord) {
    this.recordFile = fileRecord;
    isRecordingToFileEnabled = true;
}

public void resumeRecordToFile(File fileRecord) {
    this.recordFile = fileRecord;
    isContinueRecordingToFile = true;
    isRecordingToFileEnabled = true;
    isRecordingToFilePrepared = false;
}

public void stopRecordToFile() {
    isRecordingToFileEnabled = false;
    isRecordingToFilePrepared = false;
    isContinueRecordingToFile = false;
}

public boolean stop() {
    boolean result = stopRecognizerThread();
    if (result) {
        this.mainHandler.post(new ResultEvent(this.recognizer.Rabcd(), true));
    }
    return result;
}

public boolean cancel() {
    boolean result = stopRecognizerThread();
    this.recognizer.Rabcd();
    return result;
}

public void shutdown() {
    this.recorder.release();
}

private final class RecognizerThread extends Thread {
    private static final int NO_TIMEOUT = -1;
    private int remainingSamples;
    private int timeoutSamples;
    VoiceRecorder voiceRecorder = null;

    public RecognizerThread(int timeout) {
        if (timeout != NO_TIMEOUT) {
            this.timeoutSamples = (SpeechRecognizer.SAMPLE_RATE * timeout) / 1000;
        } else {
            this.timeoutSamples = NO_TIMEOUT;
        }
        this.remainingSamples = this.timeoutSamples;
    }

    public RecognizerThread(SpeechRecognizer speechRecognizer) {
        this(NO_TIMEOUT);
    }

    public void run() {
        voiceRecorder = new VoiceRecorder();

        SpeechRecognizer.this.recorder.startRecording();
        if (SpeechRecognizer.this.recorder.getRecordingState() == AudioRecord.RECORDSTATE_STOPPED) {
            SpeechRecognizer.this.recorder.stop();
            SpeechRecognizer.this.mainHandler.post(new OnErrorEvent(new IOException("Failed to start recording. Microphone might be already in use.")));

            return;
        }

        byte[] buffer = new byte[SpeechRecognizer.this.bufferSize];

        while (!interrupted() && (this.timeoutSamples == NO_TIMEOUT || this.remainingSamples > 0)) {
            int nread = SpeechRecognizer.this.recorder.read(buffer, 0, buffer.length);

            if (soundAmplitudeCallback != null) {
                int max = 0;
                for (short s : buffer) {
                    if (Math.abs(s) > max) {
                        max = Math.abs(s);
                    }
                }
                soundAmplitudeCallback.onAmplitude(max);
            }

            if (nread < 0) {
                throw new RuntimeException("error reading audio buffer");
            }

            voiceRecorder.recording(nread, buffer);

            if (SpeechRecognizer.this.recognizer.Aabcd(buffer, nread)) {
                SpeechRecognizer.this.mainHandler.post(new ResultEvent(SpeechRecognizer.this.recognizer.Rabcd(), true));
            } else {
                SpeechRecognizer.this.mainHandler.post(new ResultEvent(SpeechRecognizer.this.recognizer.Pabcd(), false));
            }

            if (this.timeoutSamples != NO_TIMEOUT) {
                this.remainingSamples -= nread;
            }
        }

        voiceRecorder.shutdown();
        SpeechRecognizer.this.recorder.stop();

        SpeechRecognizer.this.mainHandler.removeCallbacksAndMessages((Object) null);
        if (this.timeoutSamples != NO_TIMEOUT && this.remainingSamples <= 0) {
            SpeechRecognizer.this.mainHandler.post(new TimeoutEvent());
        }
    }
}

/*
* Voice Recorder to file
* */
private class VoiceRecorder{
    MediaCodec.BufferInfo bufferInfo = new MediaCodec.BufferInfo();
    FileOutputStream fileOutputStream = null;
    MediaCodec mediaCodec = null;

    void recording(int nread, byte[] buffer){
        /*step 1 prepare file*/
        if (isRecordingToFileEnabled && !isRecordingToFilePrepared) {
            //if we continue recording not create new file
            if (recordFile == null) {
                throw new IllegalArgumentException("Record file is null");
            }

            try {
                fileOutputStream = new FileOutputStream(recordFile, isContinueRecordingToFile);
            } catch (FileNotFoundException e) {
                throw new RuntimeException(e);
            }

            if (mediaCodec == null){
                try {
                    mediaCodec = createMediaCodec(bufferSize);
                    mediaCodec.start();
                    Timber.d("mediaCodec.start()");
                } catch (IOException e) {
                    e.printStackTrace();
                }
            }
            isRecordingToFilePrepared = true;
        }
        /*prepare file*/

        /*step 2 recording*/
        if (isRecordingToFileEnabled && isRecordingToFilePrepared) {
            try {
                if (fileOutputStream != null){
                    boolean success = handleCodecInput(nread, buffer, mediaCodec, Thread.currentThread().isAlive());
                    if (success)
                        handleCodecOutput(mediaCodec, bufferInfo, fileOutputStream);
                }
            } catch (IOException e) {
                throw new RuntimeException(e);
            }
        }
        /*recording*/

        /*step 3 finish recording and save to file*/
        if (!isRecordingToFileEnabled && fileOutputStream != null) {
            try {
                VoiceRecorder.this.shutdown();

                fileOutputStream.flush();
                fileOutputStream.close();
                fileOutputStream = null;

                Timber.d("Finishing file");
            } catch (IOException e) {
                throw new RuntimeException(e);
            }
        }
        /*finish recording and save to file*/
    }

    void shutdown(){
        if (mediaCodec != null){
            mediaCodec.stop();
            mediaCodec.release();
            mediaCodec = null;
        }
    }
}

private abstract class RecognitionEvent implements Runnable {

    public abstract void execute(RecognitionListener recognitionListener);

    private RecognitionEvent() {
    }

    public void run() {
        for (RecognitionListener listener : (RecognitionListener[]) SpeechRecognizer.this.listeners.toArray(new RecognitionListener[0])) {
            execute(listener);
        }
    }
}

private class ResultEvent extends RecognitionEvent {
    private final boolean finalResult;
    protected final String hypothesis;

    ResultEvent(String hypothesis2, boolean finalResult2) {
        super();
        this.hypothesis = hypothesis2;
        this.finalResult = finalResult2;
    }

    public void execute(RecognitionListener listener) {
        if (this.finalResult) {
            listener.onResult(this.hypothesis);
        } else {
            listener.onPartialResult(this.hypothesis);
        }
    }
}

private class OnErrorEvent extends RecognitionEvent {
    private final Exception exception;

    OnErrorEvent(Exception exception2) {
        super();
        this.exception = exception2;
    }

    public void execute(RecognitionListener listener) {
        listener.onError(this.exception);
    }
}

private class TimeoutEvent extends RecognitionEvent {
    private TimeoutEvent() {
        super();
    }

    public void execute(RecognitionListener listener) {
        listener.onTimeout();
    }
}

private AudioRecord createAudioRecorder(int bufferSize) {
    AudioRecord recorder = new AudioRecord(MediaRecorder.AudioSource.VOICE_RECOGNITION, SAMPLE_RATE, AudioFormat.CHANNEL_IN_MONO, AudioFormat.ENCODING_PCM_16BIT, bufferSize * 10);

    if (android.media.audiofx.NoiseSuppressor.isAvailable()) {
        android.media.audiofx.NoiseSuppressor noiseSuppressor = android.media.audiofx.NoiseSuppressor
                .create(recorder.getAudioSessionId());
        if (noiseSuppressor != null) {
            noiseSuppressor.setEnabled(true);
        }
    }

    if (android.media.audiofx.AutomaticGainControl.isAvailable()) {
        android.media.audiofx.AutomaticGainControl automaticGainControl = android.media.audiofx.AutomaticGainControl
                .create(recorder.getAudioSessionId());
        if (automaticGainControl != null) {
            automaticGainControl.setEnabled(true);
        }
    }

    return recorder;
}

private MediaCodec createMediaCodec(int bufferSize) throws IOException {
    MediaCodec mediaCodec = MediaCodec.createEncoderByType("audio/mp4a-latm");
    MediaFormat mediaFormat = new MediaFormat();

    mediaFormat.setString(MediaFormat.KEY_MIME, "audio/mp4a-latm");
    mediaFormat.setInteger(MediaFormat.KEY_SAMPLE_RATE, SAMPLE_RATE);
    mediaFormat.setInteger(MediaFormat.KEY_CHANNEL_COUNT, CHANNELS);
    mediaFormat.setInteger(MediaFormat.KEY_MAX_INPUT_SIZE, bufferSize);
    mediaFormat.setInteger(MediaFormat.KEY_BIT_RATE, BIT_RATE);
    mediaFormat.setInteger(MediaFormat.KEY_AAC_PROFILE, MediaCodecInfo.CodecProfileLevel.AACObjectLC);

    try {
        mediaCodec.configure(mediaFormat, null, null, MediaCodec.CONFIGURE_FLAG_ENCODE);
    } catch (Exception e) {
        Timber.tag(TAG).w(e);
        mediaCodec.release();
        throw new IOException(e);
    }

    return mediaCodec;
}

private boolean handleCodecInput(int length,
                                 byte[] buffer,
                                 MediaCodec mediaCodec,
                                 boolean running) {

    if (length == AudioRecord.ERROR_BAD_VALUE ||
            length == AudioRecord.ERROR_INVALID_OPERATION ||
            length != bufferSize) {

        if (length != bufferSize) {
            Timber.tag(TAG).d( "length != BufferSize calling onRecordFailed");
//                if (onRecorderFailedListener != null) {
//                    Log.d(TAG, "length != BufferSize calling onRecordFailed");
//                    onRecorderFailedListener.onRecorderFailed();
//                }
            return false;
        }
    }

    int codecInputBufferIndex = mediaCodec.dequeueInputBuffer(10 * 1000);

    if (codecInputBufferIndex >= 0) {
        ByteBuffer codecBuffer = mediaCodec.getInputBuffer(codecInputBufferIndex);
        codecBuffer.clear();
        codecBuffer.put(buffer);
        mediaCodec.queueInputBuffer(codecInputBufferIndex, 0, length, 0, running ? 0 : MediaCodec.BUFFER_FLAG_END_OF_STREAM);
    }

    return true;
}

private void handleCodecOutput(MediaCodec mediaCodec,
                               MediaCodec.BufferInfo bufferInfo,
                               OutputStream outputStream) throws IOException {
    int codecOutputBufferIndex = mediaCodec.dequeueOutputBuffer(bufferInfo, 0);

    while (codecOutputBufferIndex != MediaCodec.INFO_TRY_AGAIN_LATER) {
        if (codecOutputBufferIndex >= 0) {
            ByteBuffer encoderOutputBuffer = mediaCodec.getOutputBuffer(codecOutputBufferIndex);

            encoderOutputBuffer.position(bufferInfo.offset);
            encoderOutputBuffer.limit(bufferInfo.offset + bufferInfo.size);

            if ((bufferInfo.flags & MediaCodec.BUFFER_FLAG_CODEC_CONFIG) != MediaCodec.BUFFER_FLAG_CODEC_CONFIG) {
                byte[] header = createAdtsHeader(bufferInfo.size - bufferInfo.offset);

                outputStream.write(header);

                byte[] data = new byte[encoderOutputBuffer.remaining()];
                encoderOutputBuffer.get(data);
                outputStream.write(data);
            }

            encoderOutputBuffer.clear();

            mediaCodec.releaseOutputBuffer(codecOutputBufferIndex, false);
        }

        codecOutputBufferIndex = mediaCodec.dequeueOutputBuffer(bufferInfo, 0);
    }
}

private byte[] createAdtsHeader(int length) {
    int frameLength = length + 7;
    byte[] adtsHeader = new byte[7];

    adtsHeader[0] = (byte) 0xFF; // Sync Word
    adtsHeader[1] = (byte) 0xF1; // MPEG-4, Layer (0), No CRC
    adtsHeader[2] = (byte) ((MediaCodecInfo.CodecProfileLevel.AACObjectLC - 1) << 6);
    adtsHeader[2] |= (((byte) SAMPLE_RATE_INDEX) << 2);
    adtsHeader[2] |= (((byte) CHANNELS) >> 2);
    adtsHeader[3] = (byte) (((CHANNELS & 3) << 6) | ((frameLength >> 11) & 0x03));
    adtsHeader[4] = (byte) ((frameLength >> 3) & 0xFF);
    adtsHeader[5] = (byte) (((frameLength & 0x07) << 5) | 0x1f);
    adtsHeader[6] = (byte) 0xFC;

    return adtsHeader;
}
} 
```

[java](/questions/tagged/java "显示标记为“java”的问题") [android](/questions/tagged/android "显示标记为“android”的问题") [语音](/questions/tagged/speech "显示标记为“演讲”的问题") [识别](/questions/tagged/recognition "显示标记为“认可”的问题") [录音](/questions/tagged/recording "显示标记为“录音”的问题") [文件](/questions/tagged/file "显示标记为“文件”的问题") [pcm](/questions/tagged/pcm "显示标记为“pcm”的问题") [m4a](/questions/tagged/m4a "显示标记为“m4a”的问题")

# iphone - 如何将混合移动应用程序制作为 ipad/iphone 应用程序？

> ID：15060225
> 
> 赞同：0
> 
> 时间：2013-02-25T04:40:47.633
> 
> 标签：iphone, ipad, appstore-approval, hybrid

我有一个使用 html5 和 jQueryMobile 创建的混合移动应用程序。我需要将其作为 ipad/iphone 应用程序。请注意，我没有在 mac 或 Xcode 中开发应用程序。所以我需要知道将其作为 iphone/ipad 应用程序应该遵循的步骤。

我不应该在苹果商店分发它。我们应该只将应用程序提供给我们的客户。

所以这是我的问题。

1）我需要遵循哪些步骤才能将其作为 ios 应用程序并将其提供给我的客户？[我的是一个混合移动应用程序不是原生移动应用程序]

2）a）我需要一台带有Xcode的mac机器吗？[因为混合移动应用程序不需要，但是我在设备中部署/测试它时是否需要mac机器时担心] b）或者ios开发人员程序对我来说就足够了吗？因为我认为我可以通过 phoneGap 构建获得 .ipa 文件，而无需使用 mac 机器。

3）为了给客户，而不是在苹果商店分发，我需要iOS Developer Enterprise Program吗？[从下面的链接我觉得如此]

```
 https://developer.apple.com/programs/which-program/ 
```

4）如果我在 App Store 中分发它，苹果是否有任何标准来接受该应用程序？请帮我正确回答。我以后不能告诉我的客户任何借口。所以我宁愿从有这方面经验的人那里得到答案。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T05:00:04.493

1）如果我是你，我会得到 XCode，启动一个 iPhone/iPad 应用程序，并用 UIWebView 编写某种包装器（如果你不愿意在 Objective C 中完全重写，这可能会或可能不会有更清晰的结果并且可能会或可能不会更容易；这取决于您要移植的内容）。

2) 要执行我上面提到的操作，需要一台带有 XCode 的 Mac。但是，也有可以编译 iPhone 应用程序的第三方程序，例如 Unity、Flash 和 PhoneGap。我一直在使用 XCode，所以我不能给你太多建议。

3) 是的，您需要为开发者计划付费。您可以免费使用 XCode 附带的 iPhone 模拟器编写代码和测试，但要将其放在任何设备上，您需要付费。

4) 简短版本是只要它有效、合适、合法、有用且对用户友好，Apple 就会接受。通常他们只会在问题严重时才会拒绝。如果您想了解更多信息，可以阅读[完整版](https://developer.apple.com/appstore/resources/approval/guidelines.html)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-12-13T12:53:32.200

1) 对于分发，您需要使用 Xcode 或其他平台构建的 iphone 和 ipad 的 ipa。

2) a) 如果不是为了构建 ipa，您将需要 mac 和 Xcode 进行测试、调试。如果您的应用程序使用带有 XCode 和 mac 的 js 会有很大帮助。b) 当您想在设备上安装和测试您的应用程序（安装您已经创建的 ipa）时，开发人员程序很有用。

3）您将需要 iOS 开发人员计划。但它的客户端需要企业程序在程序中注册其用户设备并分发应用程序。仅当您将应用程序分发给特定用户时，您才需要企业程序。

4) 在应用商店上架之前，您需要将应用提交给 Apple 以供批准。以下是一些帮助的链接 - [https://developer.apple.com/library/ios/documentation/IDEs/Conceptual/AppDistributionGuide/SubmittingYourApp/SubmittingYourApp.html](https://developer.apple.com/library/ios/documentation/IDEs/Conceptual/AppDistributionGuide/SubmittingYourApp/SubmittingYourApp.html)

希望这可以帮助。

# ruby - 使用 rackup 文件自定义配置应用程序实例

> ID：15060230
> 
> 赞同：2
> 
> 时间：2013-02-25T04:41:21.197
> 
> 标签：ruby, sinatra, rack

**tl;dr**我怎样才能让一个 Sinatra 应用程序通过自定义在不同的服务器上以非常不同的方式启动`config.ru`？

## 背景

我有一个使用 Sinatra 编写的 Web 应用程序，它在不同的服务器上运行。目前，这些服务器的代码库是分叉的，因为它们的工作方式（离散）部分存在一些重大差异。例如：

*   一台服务器通过 Intranet LDAP 服务器对用户进行身份验证，而另一台服务器使用更简单的本地数据库表查找。
*   一台服务器使用外部 cron 作业定期更新一些统计信息，而另一台（基于 Windows 的）服务器使用内部休眠线程。
*   一台服务器将某些元数据存储在本地表中，而另一台服务器通过屏幕抓取 (!) 从外部 Wiki 提取元数据。

…等等。

我想让这些代码库完全共享（单个 Git 存储库）。我设想每台服务器都会有一个稍微不同的配置文件，这会导致应用程序以不同的方式启动。

### 废弃的解决方案

我*可以*根据环境变量更改应用程序的行为。由于行为的变化并不多，我宁愿不隐藏环境变量中的设置。

我*可以*创建自己的“server-settings.rb”文件，该文件对每台机器都是唯一的，在我`app.rb`的 . 然而，这似乎是在重新发明轮子。我已经**为**`config.ru`每个服务器命名了一个文件。我不应该用这个吗？

## 当前代码

我`config.ru`目前的应用程序很简单：

```
require ::File.join( ::File.dirname(__FILE__), 'app' )
run MyApp.new 
```

`app.rb`它需要的本质上是：

```
require 'sinatra'
require_relative 'helpers/login' # customized for LDAP lookup on this server

class MyApp < Sinatra::Application
  use Rack::Session::Cookie, key:'foo.bar', path:'/', secret:'ohnoes'
  set :protection, except: [:path_traversal, :session_hijacking]
  configure :production do
    # run various code that depends on server settings, e.g.
    Snapshotter.start # there is no cron on this machine, so we do it ourselves
  end
  configure :development do
    # run various code that depends on server settings
  end
end 
```

## 问题

我想不`config.ru`辜负它的名字，让它看起来像这样：

```
require ::File.join( ::File.dirname(__FILE__), 'app' )
run MyApp.new( auth: :ldap, snapshot:false, metadata: :remote_wiki, … ) 
```

如何根据通过提供的设置修改我的应用程序以更改其配置行为`config.ru`？或者这是对 的滥用`config.ru`，试图将其用于完全错误的事情？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-25T09:25:07.583

当我开始阅读这个问题时，我脑海中出现的第一个答案是“环境变量”，但你马上就忽略了 :)

我将混合使用您的一个*罐头*和所需的结果代码，因为这是我构建事物的方式……</p>

因为我希望能够更轻松地测试我的应用程序，所以我将大部分 Ruby 从 config.ru 中取出并放入一个单独的`config.rb`文件中，并将 config.ru 保留为引导文件。所以我的标准骨架是：

### 配置.ru

```
# encoding: UTF-8

require 'rubygems'
require 'bundler'
Bundler.setup

root = File.expand_path File.dirname(__FILE__)
require File.join( root , "./app/config.rb" )

# everything was moved into a separate module/file to make it easier to set up tests

map "/" do
  run APP_NAME.app
end 
```

### 应用程序/config.rb

```
# encoding: utf-8
require_relative File.expand_path(File.join File.dirname(__FILE__), "../lib/ext/warn.rb")

require_relative "./init.rb"  # config
require_relative "./main.rb"  # routes and helpers
require 'encrypted_cookie'

# standard cookie settings
COOKIE_SETTINGS = {
  :key => 'usr',
  :path => "/",
  :expire_after => 86400, # In seconds, 1 day
  :secret => ENV["LLAVE"],
  :httponly => true
}

module APP_NAME # overall name of the app

  require 'rack/ssl' # force SSL
  require 'rack/csrf'

  if ENV["RACK_ENV"] == "development"
    require 'pry'
    require 'pry-nav'
  end

  # from http://devcenter.heroku.com/articles/ruby#logging
  $stdout.sync = true

  ONE_MONTH = 60 * 60 * 24 * 30

  def self.app
    Rack::Builder.app do

      cookie_settings = COOKIE_SETTINGS
      # more security if in production
      cookie_settings.merge!( :secure => true ) if ENV["RACK_ENV"] == "production"

      # AES encryption of cookies
      use Rack::Session::EncryptedCookie, cookie_settings

      if ENV["RACK_ENV"] == "production"
        use Rack::SSL, :hsts => {:expires => ONE_MONTH}
      end

      # to stop XSS
      use Rack::Csrf, :raise => true unless ENV["RACK_ENV"] == "test"

      run App # the main Sinatra app
    end
  end # self.app

end # APP_NAME 
```

我这样做的最初原因是让在规范中运行应用程序变得容易：

```
shared_context "All routes" do
  include Rack::Test::Methods
  let(:app){ APP_NAME.app }
end 
```

但对我来说，将此代码与应用程序代码的其余部分一起保存是有意义的，可以这么说，因为我可以将东西捆绑在一起，运行其他应用程序等。我已经使用它[有条件地将不同的示例加载到规范](https://github.com/yb66/Sinatra-Partial/blob/master/spec/examples_spec.rb)中项目（它有助于减少重复工作并检查示例是否真的有效），所以我不明白为什么你不能使用它来有条件地加载配置。

这样，您可以选择在 config.ru 中使用条件来确定要使用的 config.rb 文件，或者在 config.rb 中使用 env var 来确定`self.app`要使用的定义，或者传入选项哈希到 self.app…</p>

通过您的设置，我将`APP_NAME`模块重命名为`MyApp`，并将 Sinatra 类重命名为`App`（因为我经常会有一个运行前端和 API 的网站，因此 Sinatra 类由它们的功能（应用程序、API 等）命名) 并包装在以该站点命名的模块中) 并最终得到：

### 配置.ru

```
map "/" do
  run MyApp.app( auth: :ldap, snapshot:false, metadata: :remote_wiki )
end 
```

### 配置文件

```
def self.app( opts={} )
  opts = DEFAULT_OPTIONS.merge opts
  # …
  run App
end 
```

看看其他人如何解决这个问题会很有趣。

# javascript - 捕捉提交在 Firefox 中有效，但在 Chrome 中无效

> ID：15060231
> 
> 赞同：0
> 
> 时间：2013-02-25T04:41:22.887
> 
> 标签：javascript, jquery, forms, google-chrome, firefox

我正在使用它来捕获提交按钮按下，验证所有内容，然后停止它或让它通过，这在 Firefox 中有效，但在 Chrome 中无效，Chrome 让表单通过空。我还有一个可以在 Chrome 但在 Firefox 中使用的重置功能。我是 js 和 jquery 的新手，可以使用一些帮助来解决这个问题，因为在一个浏览器中而不是在另一个浏览器中工作的东西让我很困惑 :)

（很抱歉我的测试警报仍然在那里）

这是代码：

```
$("form").submit(function(e){
if (e.originalEvent.explicitOriginalTarget.id=="btn") {

if (bizNameValid==false || bizWebValid==false || bizStreetValid==false || bizCityValid==false || bizStateValid==false || bizZipValid==false || bizPhoneValid==false || firstValid==false || lastValid==false || custStreetValid==false || custCityValid==false || custStateValid==false || custZipValid==false || custPhoneValid==false || custEmailValid==false || monValid==false || yearValid==false || typeValid==false || ccValid==false) {
alert("bizNameValid:" + bizNameValid+"\n bizWebValid:"+bizWebValid+"\n bizStreetValid"+bizStreetValid +"\n bizCityValid: "+bizCityValid+ "\n bizStateValid:"+bizStateValid+"\n bizZipValid: "+bizZipValid+"\n bizPhoneValid:"+bizPhoneValid+"\n firstValid:"+firstValid+"\n lastValid:"+lastValid+"\n custStreetValid:"+custStreetValid+"\ncustCityValid"+custCityValid+"\n custStateValid"+custStateValid+"\n custZipValid:"+custZipValid+"\n custPhoneValid"+custPhoneValid+"\n custEmailValid:"+custEmailValid+"\n monValid:"+monValid+"\n yearValid:"+yearValid +"\n ccValid:"+ccValid+" \nccType:"+typeValid);
e.preventDefault();
return false;

}
else if(total==0) {
$("#svc_desc").append("</br><label id='first_error' style='font-size:16pt;'>You must select a service to continue</label>");
alert("You must select a service to continue");
e.preventDefault();
return false;
}
else {
return true;
}
}
}); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-25T04:52:46.230

# ruby-on-rails - 使用#each_index 防止索引越界

> ID：15060235
> 
> 赞同：0
> 
> 时间：2013-02-25T04:41:47.027
> 
> 标签：ruby-on-rails, ruby, arrays

如果我要做这样的事情

```
array.each_index do |i|
  if array[i] > array[i + i]
    #something
  end
end 
```

如何更改它以防止索引超出范围？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-25T04:47:53.020

```
array.each_cons(2) do |current, nekst|
  if current > nekst
    #something
  end
end 
```

或者如果您需要索引，则：

```
array.each_cons(2).with_index do |(current, nekst), i|
  if current > nekst
    #something with i
  end
end 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T04:46:07.613

```
array.each_index do |i|
  if array[i + 1] and array[i] > array[i + i]
    #something
  end
end 
```

# grails - Grails GORM 自引用一对多在 Groovy 控制台中抛出 LazyInitializationException

> ID：15060237
> 
> 赞同：1
> 
> 时间：2013-02-25T04:41:58.690
> 
> 标签：grails, groovy, grails-orm

我假设问题涉及在 Grails 实例中创建 Groovy 控制台；正常的域对象查询工作正常，但尝试一对一地查询自引用会导致问题。

我有一个域类，如下所示：

```
package demo

class Foo {
    String name
    static hasMany = [substitutes: Foo]
    static constraints = {
    }
} 
```

期间`bootstrap`，我创建了一个控制台来检查域对象：

```
import demo.Foo
import org.springframework.web.context.support.WebApplicationContextUtils
import org.codehaus.groovy.grails.commons.GrailsApplication
import grails.util.GrailsUtil
import groovy.ui.Console

class BootStrap {

    def init = { servletContext ->
        def one = new Foo([name: 'one'])
        def two = new Foo([name: 'two'])
        [one,two].each { it.save(failOnError: true, flush: true)}
        one.addToSubstitutes(two)
        one.save(failOnError: true, flush: true)

        def appCtx = WebApplicationContextUtils.getRequiredWebApplicationContext(servletContext)
        def grailsApp = appCtx.getBean(GrailsApplication.APPLICATION_ID);
        Binding b = new Binding();
        b.setVariable("ctx", appCtx);
        def console = new Console(grailsApp.classLoader, b);
        console.run()

        Foo.list().each{println it.name} 
        Foo.list().each{println it.substitutes} 
        println '--------------------------'
    }
    def destroy = {
    }
} 
```

这将在控制台中打印以下内容：

```
one
two
[demo.Foo : 2]
null
-------------------------- 
```

在控制台中，我尝试重复这两个查询，这会引发异常：

```
groovy> import demo.Foo 
groovy> demo.Foo.list().each{println it.name} 
groovy> demo.Foo.list().each{println it.substitutes} 

one
two
Exception thrown

org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: demo.Foo.substitutes, no session or session was closed
    at org.hibernate.collection.AbstractPersistentCollection.throwLazyInitializationException(AbstractPersistentCollection.java:383)
    at org.hibernate.collection.AbstractPersistentCollection.throwLazyInitializationExceptionIfNotConnected(AbstractPersistentCollection.java:375)
    at org.hibernate.collection.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:368)
    at org.hibernate.collection.AbstractPersistentCollection.read(AbstractPersistentCollection.java:111)
    at org.hibernate.collection.PersistentSet.iterator(PersistentSet.java:186)
    at org.springsource.loaded.ri.ReflectiveInterceptor.jlrMethodInvoke(ReflectiveInterceptor.java:1243)
    at ConsoleScript2$_run_closure2.doCall(ConsoleScript2:3)
    at org.springsource.loaded.ri.ReflectiveInterceptor.jlrMethodInvoke(ReflectiveInterceptor.java:1243)
    at ConsoleScript2.run(ConsoleScript2:3)
    at org.springsource.loaded.ri.ReflectiveInterceptor.jlrMethodInvoke(ReflectiveInterceptor.java:1243) 
```

# objective-c - 从此 URL 中提取某些元素的最简单方法是什么

> ID：15060238
> 
> 赞同：-2
> 
> 时间：2013-02-25T04:41:59.283
> 
> 标签：objective-c, cocoa, url

这是网址

```
assets-library://asset/asset.JPG?id=CF2AF034-9CF7-4472-9185-5EEFA1614A07&ext=JPG 
```

我想得到：

```
CF2AF034-9CF7-4472-9185-5EEFA1614A07 
```

我该怎么做？NSURL 中是否有可以实现此目的的方法？

这就是我所做的：

```
-(NSString *) fgetTokenWithPre:(NSString *) pre andPost:(NSString*) post startSearch:(NSUInteger) start
{
NSRange rangeToSearch;
rangeToSearch.location = start;
rangeToSearch.length =self.length-rangeToSearch.location;

NSRange preRange = [self rangeOfString:self options:NSCaseInsensitiveSearch range:rangeToSearch]; 
```

结果

```
(lldb) po self
$6 = 0x1e54f130 id=00000000-0000-0000-0000-0000000005E9&ext=JPG
(lldb) po pre
$7 = 0x0021d8a0 id=
(lldb) p preRange
(NSRange) $8 = location=0, length=47 
```

但这没有意义。很明显 self 是 47 长度，我正在寻找只有 3 长度的 pre 。那么 preRange 怎么会是 [0,47] 呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T05:07:20.673

```
NSUrl *asseturl = [NSURL URLWithString:@"assets-library://asset/asset.JPG?id=CF2AF034-9CF7-4472-9185-5EEFA1614A07&ext=JPG"];

ALAssetsLibraryAssetForURLResultBlock resultblock = ^(ALAsset *myasset)
{
    ALAssetRepresentation *rep = [myasset defaultRepresentation];
    CGImageRef iref = [rep fullResolutionImage];
    if (iref) {
        largeimage = [UIImage imageWithCGImage:iref];
        [largeimage retain];
    }
};

//
ALAssetsLibraryAccessFailureBlock failureblock  = ^(NSError *myerror)
{
    NSLog(@"booya, cant get image - %@",[myerror localizedDescription]);
};

if(mediaurl && [mediaurl length] && ![[mediaurl pathExtension] isEqualToString:AUDIO_EXTENSION])
{
    [largeimage release];
    NSURL *asseturl = [NSURL URLWithString:mediaurl];
    ALAssetsLibrary* assetslibrary = [[[ALAssetsLibrary alloc] init] autorelease];
    [assetslibrary assetForURL:asseturl 
                   resultBlock:resultblock
                  failureBlock:failureblock];
} 
```

}

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T04:56:56.430

下面的代码块可能会做你所追求的

```
__block NSString *queryID;
[[[url query] componentsSeparatedByString:@"&"] enumerateObjectsUsingBlock:^(NSString *queryString, NSUInteger idx, BOOL *stop) {
  NSArray *query = [queryString componentsSeparatedByString:@"="];
  if ([query[0] isEqualToString:@"id"]) {
    queryID = query[1];
    *stop = YES;
  }
}];

NSLog(@"ID value = %@", queryID); 
```

但是，它不是很安全。它对格式正确的 URL 做出假设，并且`query`数组中将有（至少）2 个值。

# sql - 将数据从一个表复制到另一个表，身份列除外

> ID：15060241
> 
> 赞同：0
> 
> 时间：2013-02-25T04:42:13.277
> 
> 标签：sql, sql-server-2008-r2, identity-column

有没有办法将所有列值从一个表复制到除`Identity`列之外的另一个表，而不提及所有其余列名？

我有一张有 63 列的表。我创建了一个临时表 -

```
SELECT * INTO #TmpWide FROM WideTable WHERE 1 = 0 
```

现在我想将一些数据从 WideTable 复制到#TmpWide。我需要除`Identity`Id 列之外的 WideTable 的所有列，因为我希望复制的数据在#TmpWide 中从 1 开始具有自己的顺序 Id。是否可以不提及 (63-1) 列名？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T04:48:27.337

您可以在创建表后尝试删除该列：

```
SELECT * INTO #TmpWide FROM WideTable WHERE 1=0
ALTER TABLE #TmpWide DROP COLUMN [Id] 
```

这确实感觉有点丑陋或hack-y，但它应该可以解决问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-25T04:53:43.983

没有办法做到这一点，但在这种情况下使用 * 也是一个坏主意。如果 WideTable 发生更改，您将被迫更改 SELECT * 从中选择的存储过程。我写了数百个这样的存储过程，它所做的只是创造了我今天仍在处理的噩梦。祝你好运。

# jquery - 如何更新// 这里我想将#training_field 选项的值更新为 data[i] 并将文本更新为 data[i] } }, "json"); }); mySQL_UpdateTrainingField.php 是一个返回文本数组的脚本。我怎样才能做到这一点？我试过： $('#training_field option').attr("value",fieldvalue); $('#training_field 选项').text(fieldvalue)

> ID：15060245
> 
> 赞同：2
> 
> 时间：2013-02-25T04:42:40.143
> 
> 标签：jquery

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T04:48:51.900

在你的 for 循环中，是这样的：

```
$("<option />").attr("value", yourvalue).text(yourvalue).appendTo("#training_field"); 
```

yourvalue 等于你想要填充的*东西。*

# python - 我的堆工作太慢

> ID：15060252
> 
> 赞同：0
> 
> 时间：2013-02-25T04:43:23.387
> 
> 标签：python, runtime, heap

所以这是我的最小堆代码。这是我作业的一部分：

```
def heapify(i):
    global end,a
    l=2*i+1        
    if l>end:
        return None
    r=2*i+2
    minarg=i        
    if a[i]>a[l]:
        minarg=l
    if r<=end:
        if a[minarg]>a[r]: minarg=r
    if a[i]==a[minarg]:
        return None
    else:
        a[i],a[minarg]=a[minarg], a[i]
        heapify(minarg)

def buildHeap(start):
    global end,a
    if start*2+1>end:
        return None
    buildHeap(start*2+1)
    buildHeap(start*2+2)
    heapify(start) 
```

它应该可以工作，但是对于大型测试用例，我超出了时间限制。难道我做错了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T12:43:43.857

Python 中的函数调用**需要时间**，递归**需要空间**。

为了**节省**递归的时间，通常将其转换为循环。这通常需要使用专门的日期“内存管理”来处理**安全空间**。您已经使用数组/列表（使用... ehem ... 全局变量）做到了这一点。

如果这是你的功课，那就继续吧——可行，但不重要。

# image-processing - 傅里叶变换帮助和均值滤波器

> ID：15060253
> 
> 赞同：2
> 
> 时间：2013-02-25T04:43:26.067
> 
> 标签：image-processing, filtering, fft

在图像处理中，如果 f(m,n) 表示图像，那么带有卷积掩码 h(m,n) 的 MEAN 滤波将由`g(m,n)=f(m,n) * h(m,n).`Now 表示，这就是混淆之处。

有一个问题要求存在一个滤波器，其 (x,y) 处的输出定义为 (x,y) 的四个直接邻居的平均值，但未使用 (x,y) 处的像素。问题是：过滤器的种类/性质是什么？这个过滤器的 MTF 应该是多少？

3x3 均值滤波器的掩码/内核是`h(m,n) = 1/9 [1 1 1;1 1 1; 1 1 1]`和输出`g(m,n) = 1/9 x [f(m-1,n-1)+f(m-1,n)+f(m-1,n+1)+f(m,n-1) + f(m,n) +f(m,n+1) + f(m+!,n-1) +f(m+1,n) +f(m+1,n+1) ]`。`x,y`正在考虑中心像素！

1.  那么，构建任何类型的均值滤波器的正确方法是什么？对于 3x3 均值滤波器和 4 个连接滤波器，h(m,n)（内核）是什么？
2.  h(m,n) 的傅里叶变换是什么？
3.  如何确定傅立叶变换 H(u,v) 是高通滤波器还是低通滤波器？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-25T06:36:57.130

没有单一的“平均过滤器” - 它只是一类过滤器，您可以在其中取多个点的平均值。您可以有一个均值滤波器，它取 4 个相邻点的平均值：

```
 0 1 0
  1 0 1
  0 1 0 
```

或 3x3 均值滤波器：

```
 1 1 1
  1 1 1
  1 1 1 
```

或 5x5 均值滤波器：

```
1 1 1 1 1
1 1 1 1 1
1 1 1 1 1
1 1 1 1 1
1 1 1 1 1 
```

或您喜欢的任何内核几何形状。

通常，虽然均值滤波器是（不是很好）低通滤波器。均值滤波器的优点是计算复杂度低（没有系数相乘），但除非您的性能要求非常高，否则应该考虑使用更好的低通滤波器。

一旦您知道要使用的确切内核几何形状，任何给定均值滤波器的傅立叶变换都相当容易计算，并且留给读者作为练习。

# ruby-on-rails - 未知属性错误轨道

> ID：15060254
> 
> 赞同：1
> 
> 时间：2013-02-25T04:43:27.647
> 
> 标签：ruby-on-rails

我有一个经过身份验证的登录和一个联系人模块......这个想法是，用户有多个联系人......联系人类有名称和号码作为它的属性......但是当我尝试创建一个联系人时，它会抛出一个错误说明`"unknown attribute: user_id"`......我哪里出错了？我尝试添加`user_id`联系人模型...但仍然收到错误...帮助将不胜感激..

联系方式：

```
class Contact < ActiveRecord::Base
  belongs_to :user
  attr_accessible :name, :number, :user_id
end 
```

联系人控制器：

```
class ContactsController < ApplicationController

  def new

  end

  def show
    @contacts=current_user.contacts
    @contacts.save
  end

  def index
    @contact=current_user.email_id
  end

  def create
 #  @contact=contacts.new
    @contact= current_user.contacts.build( :name=> params[:name] , :number=>params[:number] )
    @contact.save
    redirect_to contacts_show_path
  end

end 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T05:21:26.817

您需要添加`has_many :contacts`到您的用户模型以及将“user_id”列添加到您的联系人迁移文件中。

```
class User < ActiveRecord::Base
  has_many :contacts
end 
```

# asp.net - Msbuild：如何创建虚拟目录

> ID：15060261
> 
> 赞同：1
> 
> 时间：2013-02-25T04:43:42.480
> 
> 标签：asp.net, msbuild

我是 MSBuild 的新手。我需要在 IIS 中创建一个虚拟目录，但我不知道如何不尝试一些教程，但它们太模糊了，所以请指导我，我的当前代码如下所示

```
<?xml version="1.0" encoding="utf-8" ?>
<Project ToolsVersion="4.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003" >
  <PropertyGroup>
    <Resource >D:\test_2\Tony_Mail\Tony_Mail\Tony_Mail.csproj</Resource>
    <OutputDir>D:\test_2\Tony_Mail\Tony_Mail\Build</OutputDir>
    <clean>D:\test_2\Tony_Mail\Tony_Mail\Build\bin\*.pdb</clean>

  </PropertyGroup>
  <Target Name="Build">
    <MSBuild Projects="D:\test_2\Tony_Mail\Tony_Mail\Tony_Mail.csproj"></MSBuild>
    <CallTarget Targets="Publish"></CallTarget>
  </Target>
  <Target Name="Publish">
    <MSBuild Projects="$(Resource)" Targets="ResolveReferences;_CopyWebApplication" Properties="WebProjectOutputDir=S(OutputDir);OutDir=$(MSBuildProjectsDirectory)\Bin\"></MSBuild>
    <CallTarget Targets="Clean"></CallTarget>
  </Target>

  <Target Name="Clean">
    <Delete Files="$(clean)" />
  </Target>

</Project> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-25T12:15:18.020

使用以下代码

```
<WebDirectoryCreate VirtualDirectoryName="MyVirDir"
     VirtualDirectoryPhysicalPath="C:\Inetpub\MyWebDir" /> 
```

并在创建之前添加删除代码，否则使用以下代码会导致错误

```
<WebDirectoryDelete VirtualDirectoryName="MyVirDir" /> 
```

所以完整的代码块将是这样的

```
<Target Name="VirtualDirectory">
    <WebDirectoryDelete VirtualDirectoryName="MyVirDir" />
    <WebDirectoryCreate VirtualDirectoryName="MyVirDir"
        VirtualDirectoryPhysicalPath="C:\Inetpub\MyWebDir" />
</Target> 
```

# ruby-on-rails - 如何在rails中正确使用单选按钮？

> ID：15060268
> 
> 赞同：46
> 
> 时间：2013-02-25T04:44:24.120
> 
> 标签：ruby-on-rails, radio-button, boolean

我正在尝试创建一些单选按钮，但我不知道该怎么做。在[这个](https://stackoverflow.com/questions/746387/labels-for-radio-buttons-in-rails-form)问题之后，我的设置工作几乎正确，但我是新手，不知道为什么我不能完全弄清楚。所以我正在做的是放置一个标签来对布尔值进行分组，然后有标记为是和否的单选按钮。如果用户单击是的标签，它应该选择单选按钮是（现在他们只能单击按钮本身）。这是我的代码如下：

```
 <div class="field">
    <%= f.label :autolyse %><br />
    <%= f.label :autolyse, "Yes", :value => "Yes"  %>
    <%= f.radio_button :autolyse, true%>
    <%= f.label :autolyse, "No", :value => "No" %>
    <%= f.radio_button :autolyse, false, :checked => true %>
  </div> 
```

第一个标签用于组，它将组标记为“Autolyse”。然后我想要一个“是”的标签，如果选择它将设置为真，然后显然下一个是假的。如何正确设置此设置？

* * *

## 回答 #1

> 赞同：85
> 
> 时间：2013-02-25T05:13:02.513

见[标签（object_name，方法，content_or_options = nil，options = nil，&block）](http://rdoc.info/gems/actionpack/3.2.11/ActionView/Helpers/FormHelper#label-instance_method)

```
 <div class="field">
    <%= f.label :autolyse %><br />
    <%= f.label :autolyse, "Yes", :value => "true"  %>
    <%= f.radio_button :autolyse, true %>
    <%= f.label :autolyse, "No", :value => "false" %>
    <%= f.radio_button :autolyse, false, :checked => true %>
  </div> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2018-05-24T19:02:07.187

如果您想继续选择用户选择的选项，您应该验证参数，如下所示：

```
<div class="field">
  <%= f.label :autolyse %><br />
  <%= f.label :autolyse, "Yes", :value => "true"  %>
  <%= f.radio_button :autolyse, true, !!params[:autolyse] %>
  <%= f.label :autolyse, "No", :value => "false" %>
  <%= f.radio_button :autolyse, false, !!params[:autolyse] %>
</div> 
```

如果要从对象属性中执行此操作，只需替换对象属性的 params 变量：

```
<div class="field">
  <%= f.label :autolyse %><br />
  <%= f.label :autolyse, "Yes", :value => "true"  %>
  <%= f.radio_button :autolyse, true, !!@object.autolyse %>
  <%= f.label :autolyse, "No", :value => "false" %>
  <%= f.radio_button :autolyse, false, !!@object.autolyse %>
</div> 
```

# symfony - 邮件内容不换行

> ID：15060273
> 
> 赞同：0
> 
> 时间：2013-02-25T04:44:59.953
> 
> 标签：symfony, phpmailer

我在 Symfony 2 中使用 PHP 邮件程序发送邮件。

```
 $mail = new PHPMailer;
    $mail->IsSMTP();
    $mail->Host = MAIL_HOST;
    $mail->SMTPDebug  = MAIL_SMTP_DEBUG;
    $mail->Port       = MAIL_PORT;
    $this->setFrom($mail, $params);
    $this->setFromName($mail, $params);
    $this->setAddress($mail, $params);
    $this->setCc($mail, $params);
    $this->setBcc($mail, $params);
    $this->setWordWrap($mail, $params);
    $this->setIsHtml($mail, $params); // = false
    $this->setSubject($mail, $params);
    $this->setBody($mail, $params);
    $this->setAltBody($mail, $params);
    $mail->ContentType = 'text/plain'; 
    $mail->CharSet = 'UTF-8';
    $r = $mail->Send(); 
```

使用 file_get_content() 获取邮件内容

```
$body = file_get_contents($params["mailPath"] . "/registMailContent.html.php"); 
```

纯文本的内容很简洁，但电子邮件的内容只有一行。如何解决？

# ruby-on-rails-3 - 引擎场推送/加载数据库

> ID：15060277
> 
> 赞同：0
> 
> 时间：2013-02-25T04:45:09.983
> 
> 标签：ruby-on-rails-3, github, engineyard

我正在考虑将我的 Rails 应用程序部署到 Engine Yard。我有一个包含该站点所有数据的 MySql 数据库。当我部署到引擎场云时，我能否以某种方式将此数据库“推送”到服务器？

像这样的东西（？）： [https ://blog.heroku.com/archives/2009/3/18/push_and_pull_databases_to_and_from_heroku/](https://blog.heroku.com/archives/2009/3/18/push_and_pull_databases_to_and_from_heroku/)

或者我可以以某种方式将 mysql 数据库放在 git repo 中，以便将其推送到服务器？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T05:13:48.637

请参阅： https: [//support.cloud.engineyard.com/entries/20996676-Restore-or-load-a-database](https://support.cloud.engineyard.com/entries/20996676-Restore-or-load-a-database)

使用 scp 将数据库 ssh 复制到服务器。

# android - listView.getSelectedItemPosition() 返回 index-1

> ID：15060279
> 
> 赞同：6
> 
> 时间：2013-02-25T04:45:14.587
> 
> 标签：android

我有我的自定义列表视图，并且在每一行的末尾我有 ImageView 从列表中删除该行但是当我单击此图像时，我得到“Arryindesoutofboundexception：长度 = 681 indez = -1”

帮我

```
private OnClickListener imageviewClickListener = new OnClickListener() {
  @Override
  public void onClick(View v) 
  {
      int index;
        index=listView.getSelectedItemPosition();//itemsListView is the listview
        dataAdapter.remove(topicsList.get(index));
        topicsList.clear();
        dataAdapter.notifyDataSetChanged();

  }
}; 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-25T04:55:43.717

您的项目未被选中，因为图像拦截了触摸事件，因此所选位置为-1。为了完成这项工作，您需要告诉 OnClickListener 它属于哪个项目：

```
private static class MyClickListener implements OnClickListener {
    private final int mIndex;

    private MyClickListener (int index) {
        mIndex = index;
    }

    @Override
    public void onClick(View v) {
        dataAdapter.remove(topicsList.get(mIndex));
        topicsList.clear();
        dataAdapter.notifyDataSetChanged();
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-25T04:52:21.757

您正在尝试从 a 获取所选项目的位置`ListView`，即使没有选择项目。从 的文档中[`getSelectedItemPosition()`](http://developer.android.com/reference/android/widget/AdapterView.html#getSelectedItemPosition%28%29)，您可以看到，如果未选择任何项目，则返回[`INVALID_POSITION`](http://developer.android.com/reference/android/widget/AdapterView.html#INVALID_POSITION)，即`-1`。

# c - %.1f 和 %.01f 有什么不同吗？

> ID：15060286
> 
> 赞同：3
> 
> 时间：2013-02-25T04:46:16.027
> 
> 标签：c, floating-point, format

当我用这段代码编译一个程序时：

```
int main()
{
  float a;

  scanf("%f", &a);

  printf("%.1f\n", a); //Here

  return 0;
} 
```

与其他没有区别：

```
int main()
{
  float a;

  scanf("%f", &a);

  printf("%.01f\n", a); //Here

  return 0;
} 
```

谁能告诉我为什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-25T05:28:13.380

句点后面的数字是指定浮点值小数点后位数的精度。前导零没有任何意义。

句点前的数字是指定最小字段宽度的数字。前导零会将填充字符从空格更改为 0。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-25T04:53:13.943

小数点后的数字指定精度 - 将写入的最小位数。.1 和 .01 都表示至少输入 1 个数字，如果少于 1 个数字，则用零填充结果。Plain`%f`相当于`%.6f`, 即小数点后 6 位。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2018-12-29T14:12:28.277

第一个程序的输出将是例如。对于两个打印命令，a=100 将是 100.000000（默认情况下，双精度为 6）仅 100.0。其中第二个程序将具有值：100.000000（默认为双精度）100.0

# android - GStreamer android教程不起作用

> ID：15060288
> 
> 赞同：3
> 
> 时间：2013-02-25T04:46:21.753
> 
> 标签：android, media-player, media, gstreamer

我在android上配置了gstreamer。gstreamer sdk 工具包中的 gst-sdk 文件夹中有内置教程。但不知何故无法建造它们。教程 1 效果很好。但是当我构建其他四个教程时，日食会被挂起。有人对此有任何想法吗？基本上我想使用 gstreamer 在 eclipse 中生成一个媒体播放器。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-05T04:50:46.210

您可以尝试以下方法：

1.  首先，在JNI文件夹中Android.mk的开头和结尾添加“ifdef BUILD_PROJECT”和“endif”。
2.  接下来，将选项附加到构建命令：“ndk-build BUILD_PROJECT=1”（[Properties] -> [C/C++ Build] -> [Build command]）

我猜这个问题是在与 CDT 相关的线程或进程的同步中......也许。至少，在上述设置（其他设置为默认）之后，我可以毫无问题地构建教程 2-5。

祝你好运 ！

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-02-28T00:23:57.407

你在虚拟机中使用eclipse吗？当我在 oracle virtualbox 中使用 eclipse 时，我遇到了类似的问题。一旦我杀死了eclipse进程，下次打开它时它仍然挂起。我删除了 Preference -> Builders -> Scanner Configuration Builder。它有助于解决问题。当我打开任何获得本机支持的项目时，eclipse 仍然会挂起。我只是删除 jni（例如更改名称）。然后打开eclipse，等它完成初始化。然后将jni目录移回，刷新项目。这个对我有用。对不起，我不知道这是什么原因。但它确实发生在虚拟机内部而不是真实机器上。

# jquery - 一个简单的 jQuery 表单验证脚本

> ID：15060292
> 
> 赞同：115
> 
> 时间：2013-02-25T04:46:43.070
> 
> 标签：jquery, validation

我使用 jQuery 制作了一个简单的验证表单。它工作正常。问题是我对我的代码不满意。是否有另一种方法可以用相同的输出结果编写我的代码？

```
$(document).ready(function(){

$('.submit').click(function(){
    validateForm();   
});

function validateForm(){

    var nameReg = /^[A-Za-z]+$/;
    var numberReg =  /^[0-9]+$/;
    var emailReg = /^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/;

    var names = $('#nameInput').val();
    var company = $('#companyInput').val();
    var email = $('#emailInput').val();
    var telephone = $('#telInput').val();
    var message = $('#messageInput').val();

    var inputVal = new Array(names, company, email, telephone, message);

    var inputMessage = new Array("name", "company", "email address", "telephone number", "message");

     $('.error').hide();

        if(inputVal[0] == ""){
            $('#nameLabel').after('<span class="error"> Please enter your ' + inputMessage[0] + '</span>');
        } 
        else if(!nameReg.test(names)){
            $('#nameLabel').after('<span class="error"> Letters only</span>');
        }

        if(inputVal[1] == ""){
            $('#companyLabel').after('<span class="error"> Please enter your ' + inputMessage[1] + '</span>');
        }

        if(inputVal[2] == ""){
            $('#emailLabel').after('<span class="error"> Please enter your ' + inputMessage[2] + '</span>');
        } 
        else if(!emailReg.test(email)){
            $('#emailLabel').after('<span class="error"> Please enter a valid email address</span>');
        }

        if(inputVal[3] == ""){
            $('#telephoneLabel').after('<span class="error"> Please enter your ' + inputMessage[3] + '</span>');
        } 
        else if(!numberReg.test(telephone)){
            $('#telephoneLabel').after('<span class="error"> Numbers only</span>');
        }

        if(inputVal[4] == ""){
            $('#messageLabel').after('<span class="error"> Please enter your ' + inputMessage[4] + '</span>');
        }       
}   

}); 
```

* * *

## 回答 #1

> 赞同：318
> 
> 时间：2013-02-25T16:55:55.470

您可以简单地使用[jQuery Validate 插件](http://jqueryvalidation.org/)，如下所示。

**jQuery** :

```
$(document).ready(function () {

    $('#myform').validate({ // initialize the plugin
        rules: {
            field1: {
                required: true,
                email: true
            },
            field2: {
                required: true,
                minlength: 5
            }
        }
    });

}); 
```

**HTML**：

```
<form id="myform">
    <input type="text" name="field1" />
    <input type="text" name="field2" />
    <input type="submit" />
</form> 
```

**演示：http: [//jsfiddle.net/xs5vrrso/](http://jsfiddle.net/xs5vrrso/)**

**选项：http:** [//jqueryvalidation.org/validate](http://jqueryvalidation.org/validate)

**方法：http:** [//jqueryvalidation.org/category/plugin/](http://jqueryvalidation.org/category/plugin/)

**标准规则**：http: [//jqueryvalidation.org/category/methods/](http://jqueryvalidation.org/category/methods/)

**[`additional-methods.js`文件](http://ajax.aspnetcdn.com/ajax/jquery.validate/1.11.1/additional-methods.js)可用的**可选规则**：**

 **```
maxWords
minWords
rangeWords
letterswithbasicpunc
alphanumeric
lettersonly
nowhitespace
ziprange
zipcodeUS
integer
vinUS
dateITA
dateNL
time
time12h
phoneUS
phoneUK
mobileUK
phonesUK
postcodeUK
strippedminlength
email2 (optional TLD)
url2 (optional TLD)
creditcardtypes
ipv4
ipv6
pattern
require_from_group
skip_or_fill_minimum
accept
extension 
```

* * *

## 回答 #2

> 赞同：19
> 
> 时间：2013-02-25T04:53:22.643

您可以为此使用 jquery 验证器，但您需要为此添加 jquery.validate.js 和 jquery.form.js 文件。在包含验证器文件之后定义你的验证是这样的。

```
<script type="text/javascript">
$(document).ready(function(){
    $("#formID").validate({
    rules :{
        "data[User][name]" : {
            required : true
        }
    },
    messages :{
        "data[User][name]" : {
            required : 'Enter username'
        }
    }
    });
});
</script> 
```

您可以看到`required : true` 同样的还有更多属性，例如您可以`email : true` 为数字定义的电子邮件 `number : true`**

# c++ - 指向类的空指针

> ID：15060293
> 
> 赞同：0
> 
> 时间：2013-02-25T04:46:50.727
> 
> 标签：c++, class, pointers, null

我试图验证数组中的指针，所以我没有导致任何内存错误，

这个方法：

```
for(int i=0;i<array_size;i++) {
     if (array[i]!=NULL)
          array[i]->stuff();
     }
} 
```

过去曾工作过。

现在，我必须做同样的事情，除了根据对象变量按顺序执行所有操作。

我的新方法是：

```
Direct2Entity* nextset[MAX_ENTS]; // ents[MAX_ENTS] is also a Direct2Entity* array
for(int i=0;i<MAX_ENTS;i++) {
    nextset[i]=NULL; // note that ents[] is also flushed before this
}
int nextsetid=0;
int maxn;
bool stillnull;
while(true) { // infinite sorting loop
    maxn=-1;
    stillnull=true;
    for(int i=0;i<next_put;i++) {
        if (ents[i]!=NULL) {
            stillnull=false;
            if (ents[i]->depth<0) { // make sure no infinite loops occur with negative depth
                ents[i]->depth=0;
            }
            if (ents[i]->depth>maxn) {
                nextset[nextsetid++]=ents[i];
                ents[i]=NULL; // make NULL to further loop
            }
        }
    }
    if (stillnull) break;
}
for(int i=0;i<next_put;i++) {
    if (nextset[i]!=NULL) {
        ents[i]=nextset[i]; // copy nextset[] to ents[]
    }
}
for(int i=0;i<next_put;i++) {
    if (ents[i]!=NULL) {
        if (ents[i]->getroom()==current_room) {
            ents[i]->draw(this); // ents[i] is still NULL... ?
        }
    }
} 
```

在最后一个 for 循环中，ents[i] 被显式检查以确保它不会取消引用 NULL 指针。然而 C++ 却越过了它并调用了该函数。在各种随机位置都有各种运行时错误，但我几乎可以肯定这是来自这里的未定义行为。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T04:54:55.813

我没有看到确定 next_put 值的逻辑。它是否可能只是超过了 ents[] 的长度？如果是这样，即使您已正确初始化 ents[]，当您的循环离开数组的末尾时，该内存也不会被初始化（至少正如您所期望的那样）并且您的 if (ents[i]!=NULL ) 将被通过（然后你的程序应该崩溃）。

# xcode4.5 - 我想通过启用“生成测试覆盖率文件”和“仪器程序流程”在命令行中构建 Xcode

> ID：15060295
> 
> 赞同：1
> 
> 时间：2013-02-25T04:47:05.443
> 
> 标签：xcode4.5

我想通过启用“生成测试覆盖率文件”和“仪器程序流程”在命令行中构建 Xcode 因为我想从詹金斯做代码覆盖率我想设置“生成测试覆盖率文件”和“仪器程序流程”要启用的 XCode。我知道在哪里设置 GUI 选项，但我想从终端运行，因为从 jenkins 它将通过命令行构建

xcodebuild -workspace ../x.xcodeproj/project.xcworkspce -scheme y 那么我应该在上面的命令中给出什么来启用“生成测试覆盖率文件”和“仪器程序流程”

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-08-05T20:57:26.057

使用以下内容将 .xcconfig 文件添加到您的项目中

```
GCC_INSTRUMENT_PROGRAM_FLOW_ARCS = YES
GCC_GENERATE_TEST_COVERAGE_FILES = YES 
```

并使用 -xcconfig 标志运行 xcodebuild 并将其路径传递给您的配置文件

# java - springMvc 和休眠持久化

> ID：15060300
> 
> 赞同：0
> 
> 时间：2013-02-25T04:47:40.500
> 
> 标签：java, hibernate, jpa

当我尝试单击保存以在数据库中插入数据时，保存按钮出现错误。我不知道缺少哪个库....我仍然包含了所有的 spring 和 hibernate 持久性库。任何人都可以请帮助我....

```
HTTP Status 500 - 

The server encountered an internal error () that prevented it from fulfilling this request.

exception:

org.springframework.web.util.NestedServletException: Handler processing failed; nested     exception is java.lang.NoSuchMethodError:     javax.persistence.Persistence.getPersistenceUtil()Ljavax/persistence/PersistenceUtil;
org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:839)
org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:719)
org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:644)
org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:560)
javax.servlet.http.HttpServlet.service(HttpServlet.java:637)
javax.servlet.http.HttpServlet.service(HttpServlet.java:717)

root cause 

java.lang.NoSuchMethodError: javax.persistence.Persistence.getPersistenceUtil()Ljavax/persistence/PersistenceUtil;
org.hibernate.validator.engine.resolver.JPATraversableResolver.isReachable(JPATraversableResolver.java:62)
org.hibernate.validator.engine.resolver.DefaultTraversableResolver.isReachable(DefaultTraversableResolver.java:94)
org.hibernate.validator.engine.resolver.SingleThreadCachedTraversableResolver.isReachable(SingleThreadCachedTraversableResolver.java:47)
org.hibernate.validator.engine.ValidatorImpl.isValidationRequired(ValidatorImpl.java:757)
org.hibernate.validator.engine.ValidatorImpl.validateConstraint(ValidatorImpl.java:324)
org.hibernate.validator.engine.ValidatorImpl.validateConstraintsForRedefinedDefaultGroup(ValidatorImpl.java:273)
org.hibernate.validator.engine.ValidatorImpl.validateConstraintsForCurrentGroup(ValidatorImpl.java:256)
org.hibernate.validator.engine.ValidatorImpl.validateInContext(ValidatorImpl.java:210)
org.hibernate.validator.engine.ValidatorImpl.validate(ValidatorImpl.java:119)
org.springframework.validation.beanvalidation.SpringValidatorAdapter.validate(SpringValidatorAdapter.java:86)
org.springframework.validation.DataBinder.validate(DataBinder.java:692)
org.springframework.web.bind.annotation.support.HandlerMethodInvoker.doBind(HandlerMethodInvoker.java:807)
org.springframework.web.bind.annotation.support.HandlerMethodInvoker.resolveHandlerArguments(HandlerMethodInvoker.java:359)
org.springframework.web.bind.annotation.support.HandlerMethodInvoker.invokeHandlerMethod(HandlerMethodInvoker.java:171)
org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter.invokeHandlerMethod(AnnotationMethodHandlerAdapter.java:426)
org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter.handle(AnnotationMethodHandlerAdapter.java:414)
org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:790)
org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:719)
org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:644)
org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:560)
javax.servlet.http.HttpServlet.service(HttpServlet.java:637)
javax.servlet.http.HttpServlet.service(HttpServlet.java:717)

note The full stack trace of the root cause is available in the Apache Tomcat/6.0.20 logs.

Apache Tomcat/6.0.20 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T04:50:28.993

那不是缺少的图书馆。是版本不匹配。您的 JPA api 版本似乎与您的 Hibernate 版本不兼容。

[Java EE 5](http://docs.oracle.com/javaee/5/api/javax/persistence/Persistence.html)和[Java EE 6](http://docs.oracle.com/javaee/6/api/javax/persistence/Persistence.html)`javax.persistence.Persistence`之间的快速比较清楚地表明该方法是在 6 中添加的。如果您坚持使用 Java EE 5 服务器/库，那么您将不得不使用适当版本的 Hibernate 或其他Hibernate jar 正在寻找该方法。它似乎是从休眠验证器中出来的。`getPersistenceUtil()`

# c - 文字常量和普通变量之间的区别？

> ID：15060305
> 
> 赞同：1
> 
> 时间：2013-02-25T04:47:54.330
> 
> 标签：c

我正在学习 C 编程，我的书说，与变量不同，常量在程序执行期间不能更改。并且它们是两种类型的常量 Literal 和 Symbolic。我认为我非常了解 Symbolic。但是字面常量让我感到困惑。它给我的例子是

```
int count = 20; 
```

我写了这个简单的程序，我可以改变 Literal Constant 的值。

```
/* Demonstrates variables and constants */
#include <stdio.h>

/* Trying to figure out if literal constants are any different from variables */
int testing = 22;

int main( void )
{
    /* Print testing before changing the value */
    printf("\nYour int testing has a value of %d", testing);

    /* Try to change the value of testing */
    testing = 212345;

    /* Print testing after changing the value */
    printf("\nYour int testing has a value of %d", testing);

    return 0;
} 
```

它输出了这个：

```
 Your int testing has a value of 22
  Your int testing has a value of 212345
  RUN SUCCESSFUL (total time: 32ms) 
```

有人可以解释这是怎么发生的，我是不是说错了？或者普通变量和文字常量之间有什么区别？

-谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-25T04:49:27.270

字面常量是`20`. 您可以更改 的值`count`，但不能将 的值更改为`20`，例如`19`。

（作为一些琐事，有一些版本的 FORTRAN 你可以做到这一点，所以谈论它并不是毫无意义的）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T04:51:29.637

在这种情况下，文字是数字`22`（后来是数字`212345`）。您将此文字分配给变量`testing`。这个变量是可以改变的。

当涉及到字符串和字符串文字时，这有点棘手。如果您有一个指向字符串文字的指针，则可以更改实际指针以指向其他字符串，但您可以更改原始指针指向的内容。

例如：

```
const char *string_pointer = "Foobar"; 
```

使用上述定义，您**不能**执行 eg `string_pointer[0] = 'L';`，因为这是尝试修改指针指向的*文字字符串。*

* * *

根据上下文，*符号常量*可以是声明为的“变量”`const`或预处理器宏。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-25T04:56:17.040

C 中的文字常量本身就是任何数字，例如你的`20`. 你不能通过做，比如说，来改变它`20 = 50;`。那是非法的。

还有一些常量变量，例如`const int blah = 42;`。你不能通过`blah`做类似的事情来改变这一点`blah = 100;`。

但是，如果您有一个正常的非常量变量，例如`int foo = 123;`，您可以更改它，例如`foo = 456;`。

# php - php heredoc 出错

> ID：15060306
> 
> 赞同：1
> 
> 时间：2013-02-25T04:48:01.073
> 
> 标签：php, heredoc

我对 php heredoc 有疑问。我正在尝试做这样的事情。

```
$heredoc = <<<_HERE
This is the way
I try to use the
heredoc, but apparently
something is going wrong
_HERE; 
```

显然我应该得到这个：

```
This is the way
I try to use the
heredoc, but apparently
something is going wrong 
```

但我明白了：

这是我尝试使用heredoc的方式，但显然出了点问题

它没有格式化，主要思想是获取格式化文本。

有人能帮助我吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-25T04:51:05.267

使用前置标签：

```
$heredoc = <<<_HERE
<pre>
This is the way
I try to use the
heredoc, but apparently
something is going wrong
</pre>
_HERE; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T04:52:28.557

尝试

```
<?php
    $heredoc = <<<_HERE
This is the way
I try to use the
heredoc, but apparently
something is going wrong
_HERE;

    echo "<pre>";
    echo $heredoc;
    echo "</pre>";
?> 
```

# mysql - 查找唯一的元组和列排列

> ID：15060307
> 
> 赞同：1
> 
> 时间：2013-02-25T04:48:03.437
> 
> 标签：mysql, sql, permutation

我有一张表，`numbers`其中包含各种`nums`范围`[0-9]`

```
 --------
 | nums |
 --------
 |  0   |
 |  1   |
 | .... |
 |  9   |
 -------- 
```

我想多次取这张表的笛卡尔积（实际上，准确地说是8次）：

`SELECT * FROM numbers A, numbers B, numbers C, numbers D, ...`

这样`A.nums`和`B.nums, ...`是唯一的组合，并且它们不等于另一个数字的相同值。

这是我希望看到的一些示例输出：

```
(0, 1, 2, 3)
(3, 2, 1, 0)
(2, 1, 3, 0)
(0, 2, 1, 3)
(0, 9, 8, 7)
(1, 2, 3, 4)
(1, 3, 5, 9)
(1, 9, 8, 7) 
```

...但没有像元组这样的`(0, 0, 1, 2), (1, 1, 2, 2), etc.` 元组也不应该重复，例如`(1, 2, 3, 4) and (1, 2, 3, 4)` 元组中的每个值都必须与元组中的另一个值**不同**。

我确信有一种更有效的方法可以做到这一点，但我已经采取`A.nums != B.nums, ...`了每一种可能性。似乎比较有效；为 8 路笛卡尔积提供约 300 毫秒的运行时间，但我想知道是否有更简单、更优雅的解决方案具有类似的运行时间。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-25T04:56:57.240

```
CREATE TABLE nums (x INT);

INSERT INTO nums (x) VALUES (0), (1), (2), (3), (4); 

SELECT a.x, b.x, c.x, d.x 
FROM nums AS a 
JOIN nums AS b ON b.x NOT IN (a.x) 
JOIN nums AS c ON c.x NOT IN (a.x, b.x) 
JOIN nums AS d ON d.x NOT IN (a.x, b.x, c.x); 
```

# javascript - 单击向 bean 发送参数的链接后刷新页面的某些部分

> ID：15060308
> 
> 赞同：2
> 
> 时间：2013-02-25T04:48:07.950
> 
> 标签：javascript, ajax, jsf

我正在开发一个网络搜索引擎，它都是在 C/Java 编程中设置的，现在剩下的是网站，我在这方面还是个新手。所以，我有结果页面，结果显示在一个div里面，这个div显示一个列表的内容，像这样。

```
<div id="results">
  <ui:repeat value="searchBean.shownResults" var="node">
    node.website
    node.resume
    node.link
    etc...
  </ui:repeat>
</div> 
```

然后我有一个 div 来显示页面滚轮，它非常类似于你在谷歌搜索并向下滚动页面时会找到的那个。我做了一个 bean 来控制应该显示什么数字，所以如果用户点击 10，例如，显示的页面将是“5 6 7 8 9 10 11 12 13 14”，而不是“1 2 3 4 5 6 7 8” 9 10"。

我不知道该怎么做是当用户单击页面链接（一个数字）时，将此数字发送给我 bean，这样我就可以计算页面窗口，然后只刷新显示结果的 div（和滚轮，很明显），并且所选页面必须是不可选择的。

另外，我想在 url 上显示页面，像这样`www.searchengine.com/?pg=<page#>`。

- 基于 Luiggi Mendoza 的回答...

```
 <h:form>
        <table>
            <tr>
                <ui:repeat id="foo" value="#{footer.list}" var="no">
                    <td>
                        <h:commandLink value="#{no}" action="#{footer.navigate(no)}">
                            <f:ajax  render="@form foo"/>
                        </h:commandLink>
                    </td>
                </ui:repeat>
            </tr>
        </table>
    </h:form> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-25T08:31:58.027

我已经对此进行了快速测试（很抱歉没有以谷歌方式实现滚轮，也许你会；））。我在代码中使用纯 JSF。

JSF 页面：

```
<div>
    <h:panelGrid id="pnlCurrentData">
        <ui:repeat value="#{pageRollerBean.lstCurrentData}" var="data">
            #{data}
        </ui:repeat>
    </h:panelGrid>
</div>
<h:form id="frmPages">
    <h:panelGrid id="pnlPages">
        <ui:repeat value="#{pageRollerBean.lstPages}" var="i" >
            <div style="display: inline-block; margin-left: 5px; margin-right: 5px">
                <!-- some styling just to see the selected/unselected page -->
                <!-- you can send the page number in the action -->
                <h:commandLink value="#{i}"
                    action="#{pageRollerBean.loadData(i)}"
                    style="#{i eq pageRollerBean.currentPage ? 'color:#FF0000' : 'color:#0000FF'}">
                    <!-- using ajax to update the results and the pages list -->
                    <f:ajax render=":frmPages:pnlPages :pnlCurrentData" />
                </h:commandLink>
            </div>
        </ui:repeat>
    </h:panelGrid>
</h:form> 
```

托管 Bean 代码：

```
@ManagedBean
@ViewScoped
public class PageRollerBean {

    //Just to have some data to show for the test
    //for your case, this data should come when the user searches data
    private static List<String> lstData;

    static {
        lstData = new ArrayList<String>();
        for(Integer i = 1; i <= 100; i++) {
            lstData.add(i.toString());
        }
    }

    private List<String> lstCurrentData;
    private static final int totalPages = 10;
    private List<Integer> lstPages;
    private int currentPage;

    public PageRollerBean() {
    }

    @PostConstruct
    public void init() {
        lstPages = new ArrayList<Integer>();
        for(Integer i = 1; i <= totalPages; i++) {
            lstPages.add(i);
        }
        loadData(1);
    }

    //getters and setters...

    public void loadData(int page) {
        //this code explains by itself what it does...
        this.currentPage = page;
        lstCurrentData = lstData.subList((page-1)*10, (page-1)*10 + 10);
    }
} 
```

# email - 使用 Open SSL 发送 SMIME 电子邮件，电子邮件正文未显示

> ID：15060315
> 
> 赞同：0
> 
> 时间：2013-02-25T04:48:56.930
> 
> 标签：email, openssl, multipart, smime

使用 OpenSSL 创建 s/mime 电子邮件并发送时，接收电子邮件会附加 smime 内容并验证签名，但通过电子邮件客户端（如 Mac Mail 和 ThunderBird）看不到电子邮件正文。所有网络邮件（例如：Gmail）都能正确读取电子邮件正文。

有没有人经历过这个？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T09:17:54.973

将请求检查邮件正文是否有任何解析错误。大多数网络邮件程序都有先进的 mime 解析技术，这些技术通常基于实时数据。但是像outlook、mac这样的客户端都严格按照rfc标准进行邮件解析。

我见过在 rediffmail 中正常打开但在 yahoo 上没有打开的邮件，还有在 Web 界面上打开但在 Outlook 上打开的邮件，它们只是废话。雷鸟也类似，但雷鸟可用的扩展很少。如果您安装它们，则邮件开始正确呈现。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-01-10T01:46:14.550

您必须使用 NO_DETACHED 签署 MIME。像这样：

```
int flags = PKCS7_STREAM;
p7 = PKCS7_sign(scert, skey, NULL, in, flags); 
```

NO_DETACHED 意味着 OpenSSL 将签名并将所有 MIME 和 signedData 打包到一个 .p7m 文件中，这意味着普通客户端只能在电子邮件中找到一个 .p7m 文件。只需使用 DETACHED 标志，OpenSSL 将通过它在前一个 MIME 结构的末尾添加一个 .p7s 文件作为签名数据，而不是将它们全部打包。

第一的：

```
flags |= PKCS7_DETACHED; 
```

并签字。

```
p7 = PKCS7_sign(scert, skey, NULL, in, flags); 
```

示例： [https ://github.com/openssl/openssl/blob/6f0ac0e2f27d9240516edb9a23b7863e7ad02898/demos/smime/smsign.c](https://github.com/openssl/openssl/blob/6f0ac0e2f27d9240516edb9a23b7863e7ad02898/demos/smime/smsign.c)

# javascript - setCustomValidity 不是 IE 中 [object HTMLInputElement] 的方法

> ID：15060316
> 
> 赞同：0
> 
> 时间：2013-02-25T04:49:08.853
> 
> 标签：javascript, html, validation

我正在使用[http://afarkas.github.com/webshim/demos/index.html](http://afarkas.github.com/webshim/demos/index.html) Webshims Lib 进行表单验证

它在 Firefox、chrome、safari 上运行良好。

在 IE 中它抛出错误

```
 setCustomValidity is not a method of [object HTMLInputElement]. 
```

这是我第一次使用 webshims Lib，完全不知道这个错误。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-02-25T08:06:30.397

终于想通了。

一些插件文件丢失。

# java - 如何在 Camel File2 组件中使用幂等属性

> ID：15060322
> 
> 赞同：1
> 
> 时间：2013-02-25T04:49:50.657
> 
> 标签：java, file, apache-camel

文档[http://camel.apache.org/file2.html](http://camel.apache.org/file2.html)说明了 1000 个实体的限制。因此，如果我启用此属性，如果我的缓存获得 1000 个实体会发生什么？如何避免限制在 1000 个实体中？更新还如何将骆驼副本复制到另一个文件夹？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-25T17:46:23.237

您可以使用 idempotentRepository 并引用自定义存储库，您可以在其中将 1000 多个整体存储在基于内存的存储库中。或者使用基于文件，或者基于 JDBC 等。或者自己编写。有关详细信息，请参阅文件页面。

还有幂等消费者 eip 页面，其中讨论了更多存储库：http: [//camel.apache.org/idempotent-consumer.html](http://camel.apache.org/idempotent-consumer.html)

# ios - 如何解决此代码中的泄漏（启用 ARC）？

> ID：15060323
> 
> 赞同：1
> 
> 时间：2013-02-25T04:49:51.273
> 
> 标签：ios, objective-c, memory-leaks, ios6, avaudioplayer

这是我看到内存泄漏的代码（启用了 ARC）。

请帮我解决这个问题。

```
- (void) setMusic
{      
     /*
     Initialise and set the music for the game.
     */

 NSURL *url = [NSURL fileURLWithPath:[[NSBundle mainBundle] pathForResource:@"actionMusic" ofType:@"caf"]];
NSError *error = nil;
_audioPlayer = [[AVAudioPlayer alloc] initWithContentsOfURL:url error:&error];
if (!error)
{
    _audioPlayer.delegate = self;
    if(_musicFlag)
    {
        [_audioPlayer play];
    }
    [_audioPlayer setNumberOfLoops:INT32_MAX];
}

error = nil;
url =nil;

url = [NSURL fileURLWithPath:[[NSBundle mainBundle] pathForResource:@"pew" ofType:@"wav"]];
_moveMusic = [[AVAudioPlayer alloc] initWithContentsOfURL:url error:&error];

if (!error)
{
    _audioPlayer.delegate = self;
}

error = nil;
url =nil;

url = [NSURL fileURLWithPath:[[NSBundle mainBundle] pathForResource:@"Won" ofType:@"wav"]];
_winningMusic = [[AVAudioPlayer alloc] initWithContentsOfURL:url error:&error];

if (!error)
{
    _winningMusic.delegate = self;
    [_winningMusic setNumberOfLoops:1];
}

} 
```

[![这是泄漏的详细信息](../Images/afc1d5ee4ea175931b536435571e1a83.png)](https://i.stack.imgur.com/6HVuT.png) ![在此处输入图像描述](../Images/c4b2134b71f270cd8071ee4b744b4f13.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T11:21:46.090

我找到了泄漏的答案。

此泄漏是由于`AVAudioPlayer`Apple 尚未修复的基础类造成的。

因此使用`AVAudioPlayer`基础类会导致泄漏。

[检查此链接以获取更多详细信息](https://stackoverflow.com/questions/12498015/leak-from-nsurl-and-avaudioplayer-using-arc)

# javascript - 从javascript中的文本中提取

> ID：15060324
> 
> 赞同：0
> 
> 时间：2013-02-25T04:49:58.807
> 
> 标签：javascript, html, titanium-mobile

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-25T05:00:51.610

您可以使用正则表达式，例如：

```
var str = "test sdf <a href='www.google.com'>test</a> sdfsdf";
var anchor = str.match(/<a[^>]*>([^<]+)<\/a>/);
console.log( anchor[0] ); //returns <a href='www.google.com'>test</a> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-25T05:01:31.717

我不确定您要提取的确切内容，但[正则表达式](https://developer.mozilla.org/en-US/docs/JavaScript/Guide/Regular_Expressions)可能是您要查找的内容：

```
/\<a.*?\>/.exec('Hello <a href="foo.html">World</a>!') 
```

输出：

```
["<a href="foo.html">"] 
```

# c++ - 如何修改已编译 DLL 中的函数

> ID：15060326
> 
> 赞同：9
> 
> 时间：2013-02-25T04:50:10.140
> 
> 标签：c++, windows, dll, reverse-engineering, disassembly

我想知道是否可以在已编译的 DLL 中“编辑”代码。

IE 想象有一个`sum(a,b)`内部 调用的函数`Math.dll`将两个数字相加`a``b`

假设我丢失了 DLL 的源代码。所以我唯一拥有的是二进制 DLL 文件。有没有办法我可以打开该二进制文件，找到我的函数所在的位置并将`sum(a,b)`例程替换为例如另一个返回`a`和`b`（而不是总和）乘法的例程？

总之，是否可以编辑二进制代码文件？

也许使用像ollydbg这样的逆向工程工具？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-02-25T21:11:00.987

是的，这绝对是可能的（只要 DLL 没有经过加密签名），但它具有挑战性。您可以使用简单的 Hex 编辑器来完成，但根据 DLL 的大小，您可能需要更新很多部分。不要试图读取原始二进制文件，而是通过反汇编程序运行它。

在编译后的二进制文件中，您将看到一堆深奥的字节。所有通常以汇编语言编写为指令（如“call”、“jmp”等）的操作码都将被转换为与机器架构相关的字节等价物。如果您使用反汇编程序，反汇编程序会将这些二进制值替换为汇编指令，以便更容易理解正在发生的事情。

在编译后的二进制文件中，您还将看到很多对硬编码位置的引用。例如，不是看到“call add()”，而是“call 0xFFFFF”。这里的值通常是对位于文件中特定偏移处的指令的引用。通常这是属于被调用函数的第一条指令。其他时候是堆栈设置/清理代码。这因编译器而异。

只要您替换的指令与原始指令的大小完全相同，您的偏移量仍然是正确的，您不需要更新文件的其余部分。但是，如果您更改要替换的指令的大小，则需要手动更新对位置的所有引用（顺便说一句，这真的很乏味）。

提示：如果您添加的指令*小于*您替换的指令，您可以用 NOP 填充其余指令，以防止位置下车。

希望对您有所帮助，并祝黑客愉快:-)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-25T07:51:44.447

[Detours](http://research.microsoft.com/apps/pubs/default.aspx?id=68568)，一个用于在 x86 机器上检测任意 Win32 函数的库。Detours 通过重写目标函数图像来截取 Win32 函数。Detours 包还包含用于将任意 DLL 和数据段（称为有效负载）附加到任何 Win32 二进制文件的实用程序。 [下载](http://research.microsoft.com/en-us/downloads/d36340fb-4d3c-4ddd-bf5b-1db25d03713d/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-25T21:18:30.453

当然，您可以根据自己的喜好对 DLL 进行十六进制编辑并做各种花哨的事情。但问题是，如果您的意图是替换最初的功能，为什么还要麻烦？

*用新*函数创建一个新的DLL ，并将*调用*旧DLL中的函数的代码更改为调用新DLL中的函数。

或者您是否也丢失了应用程序的源代码？;)

# css - 铬 css 级联

> ID：15060328
> 
> 赞同：1
> 
> 时间：2013-02-25T04:50:12.333
> 
> 标签：css, google-chrome, overriding

我有一个元素在我的 css 中为属性颜色设置了两次样式。更具体的选择器给出颜色：红色，另一种颜色：黑色。在实际显示的结果中显示黑色。

当我检查元素并查看计算样式时，我看到黑色的线被划掉了，红色没有被划掉。然而，在那里，结果颜色显示为黑色，尽管相应的线被删除。

当我使用 !important 时，它看起来仍然完全一样。有人知道为什么会这样吗？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-02-25T07:19:44.233

CSS 是级联样式表，因此它应用元素的最后一个代码。

```
 <p>TEST</p>
 p{color:red;!important}
 p{color:blue;} 
```

因此 p 元素的颜色将为蓝色。这是css的正常行为。

但是 CSS 优先考虑不同的选择器。

你的问题的现场原型：http: [//jsfiddle.net/2YMD3/2/](http://jsfiddle.net/2YMD3/2/)

[您可以在此处](http://www.w3.org/wiki/CSS/Training/Priority_level_of_selector)检查 css 优先级

# c++ - uintmax_t 用于向量索引

> ID：15060329
> 
> 赞同：0
> 
> 时间：2013-02-25T04:50:20.347
> 
> 标签：c++, vector, indexing, bit-fields

我基本上正在处理一个位标志搜索掩码，并且我正在使用向量。这些索引需要达到机器上的最大整数（在 stdint.h 中定义）

基本上问题是

```
searchMask[ UINTMAX_MAX] = false; // or any value > unsigned int 
```

导致以下警告

```
warning: C4244: 'argument' : conversion from 'uintmax_t' to 'unsigned int', 
possible loss of data 
```

我考虑过只使用类似 an 的东西`unsigned char* = "1110010..."`并以这种方式翻转位，但处理 C 字符串总是很痛苦，我怀疑访问 char 数组索引会遇到同样大小的问题？

我可以让`vector`go的索引`uintmax_t`，或者我应该去 C 字符串路由，还是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-25T05:02:40.103

几乎所有的 STL 容器都将`size_t`用作它们的大小类型。因此，根据您的系统，`size_t`可能定义为`unsigned int`，在您的情况下可能是 32 位整数。这可以解释为什么编译器会抱怨。

`UINTMAX_MAX`被定义为`UINT64_MAX`，因此它不适合 32 位整数。尝试使用`UINT32_MAX`宏，或者独立于平台并使用`std::numeric_limits<size_t>::max()`.

另外，尝试使用[`std::bitset<N>`](http://www.cplusplus.com/reference/bitset/bitset/).

# coldfusion - 在coldfusion中使用cfkeditor出错

> ID：15060334
> 
> 赞同：2
> 
> 时间：2013-02-25T04:50:53.107
> 
> 标签：coldfusion

我在coldfusion中使用下面的cfkeditor。但它会引发错误。

```
<cfmodule
template="/fckeditor/fckeditor.cfm"
basePath="/fckeditor/"
instanceName="WebPage"
value=''
width="650"
height="360"> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-25T05:02:46.793

您的问题可能是您不需要领先`/`

```
<cfmodule
template="fckeditor/fckeditor.cfm"
basePath="fckeditor/"
instanceName="WebPage"
value=''
width="650"
height="360"> 
```

# jquery - css3 过渡而不是 .animate()

> ID：15060335
> 
> 赞同：0
> 
> 时间：2013-02-25T04:50:53.517
> 
> 标签：jquery, css, css-transitions

有没有办法在 jQuery 中使用 css3 转换来代替 .animate() ？

所以代替这段代码

```
jQuery('#pageHolder').stop().animate({
            left: 950

}, 400, function() {
            calcNav(pageSize);
            calcPage(pageSize);
}); 
```

我可以以及如何使用 css 转换来做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T05:01:26.320

尝试

```
#pageHolder{
    -webkit-transition:left 0.4s;
    -moz-transition:left 0.4s;
    -o-transition:left 0.4s;
    transition:left 0.4s;
} 
```

将处理程序附加到过渡结束事件

```
jQuery('#pageHolder').on('webkitTransitionEnd transitionend msTransitionEnd oTransitionEnd', 
    function(){
        calcNav(pageSize);
        calcPage(pageSize);
    }
); 
```

更改css属性以触发事件

```
jQuery('#pageHolder').css({left: 950}); 
```

# c++ - 如何使用 main() 而不是 init() 在 c++ wxidgets 中弹出一个对话框

> ID：15060337
> 
> 赞同：1
> 
> 时间：2013-02-25T04:51:03.563
> 
> 标签：c++, wxwidgets, dialog

我正在使用 c++ 的 wxwidgets 从显示日志中弹出一个对话框，其中包含用于初始化的 init()。我想知道 init() 是弹出对话框所必需的，或者只能在 c++ 中使用 main() 来完成。请指导我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T14:57:47.823

您可以在此处找到有关如何从自定义主例程初始化 wx 应用程序的冗长讨论：[wxApp without Macros](https://stackoverflow.com/questions/208373/wxwidgets-how-to-initialize-wxapp-without-using-macros-and-without-entering-the)

根据我的经验，我可以告诉你，`wxMessageDialog::ShowModal`在实现中显示模态对话框（例如）是可以的`wxApp::OnInit`。

这只是一个问题，但是，使用上面[链接](https://stackoverflow.com/questions/208373/wxwidgets-how-to-initialize-wxapp-without-using-macros-and-without-entering-the)中提供的信息，您应该能够在调用后显示模态对话框：

```
 wxApp::SetInstance( new MyWxApp() );
   wxEntryStart( argc, argv ); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T06:26:12.897

你说的是对话框吗：
[wxMessageDialog](http://docs.wxwidgets.org/trunk/classwx_message_dialog.html)

或启动画面： [wxSplashScreen](http://docs.wxwidgets.org/2.8/wx_wxsplashscreen.html)

你总是可以使用底层的 OS API 来绘制你自己的窗口；虽然这可能需要很多设置。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-25T13:52:24.063

很难理解你的问题。

我猜你是在问关于在哪里调用你想要创建的控件的构造函数和其他方法。最好通过查看 wxWidgets 发行版附带的示例应用程序来回答这个问题。

您不应从程序的 main() 函数中调用任何内容。您应该从 wxAPP 方法 Init() 调用顶级框架的构造函数。其余的可能应该从顶级窗口构造函数及其方法中调用。一般很难回答这些问题。请查看示例代码以了解事情是如何完成的。

# c - 动态字符串列表的内存分配

> ID：15060340
> 
> 赞同：1
> 
> 时间：2013-02-25T04:51:16.030
> 
> 标签：c

我正在用 C 语言编写一个程序，该程序应该从文件中获取多个文本字符串并将它们放入动态列表中。

出于某种原因（可能是内存分配），每次尝试将超过 15 个字符串放入结构中时都会出现此错误：

```
*** glibc detected *** ./driver: realloc(): invalid next size: 0x000000000241e250 *** 
```

代码如下：

**dlist.h**

```
struct dlist
{
    int size;
    int maxSize;
    char item[1][1024];
};

#define INITSIZE 6
#define INCRSIZE 9
#define DLISTSIZE(n) ((size_t)(sizeof(struct dlist) + (n*1024)))

struct dlist *initDlist(int num);
int insDlist(char data[], struct dlist **p);
void printDlist(struct dlist *p);
void debugDlist(struct dlist *p);
int stringCmp(const void *a, const void *b); 
```

**dlist.c**

```
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include "dlist.h"

struct dlist *initDlist(int num)
{
    struct dlist *p;

    p = malloc( DLISTSIZE(num) );

    if(p == NULL)
        return(NULL);

    p->size = 0;
    p->maxSize = num;
    return(p);
}

int insDlist(char data[], struct dlist **p)
{
    struct dlist *q;

    //printf("  DEBUG: Checking remaining memory.\n");

    if ((*p)->size == (*p)->maxSize)
    {
        //printf("  DEBUG: Out of memory, reallocating now...\n");
        q = realloc(*p, DLISTSIZE((*p)->maxSize + INCRSIZE));
        if(q == NULL)
            return(-1);

        q->maxSize += INCRSIZE;
        *p = q;
    }

    //printf("  DEBUG: Space available.\n");
    int i;
    (*p)->size++;

    //adding data to the list
    for(i = 0; i < 1024; i++)
        (*p)->item[(*p)->size][i] = data[i];

    return(0);
}

void printDlist(struct dlist *p)
{
    int i;
    for(i = 0; i <= p->size; i++)
        printf("%s", p->item[i]);
}

void debugDlist(struct dlist *p)
{
    int i;

    fprintf(stderr, "\nDynamic List Debug Data\n\n");
    fprintf(stderr, "   size      = %d\n", p->size);
    fprintf(stderr, "   maxSize   = %d\n", p->maxSize);

    for(i = 0; i <= p->maxSize; i++)
        fprintf(stderr, "     %s\n", p->item[i]);
}

int stringCmp(const void* a, const void* b)
{
    const char *ia = (const char *)a;
    const char *ib = (const char *)b;
    return strncmp(ia, ib, 1023);
} 
```

**驱动程序.c**

```
#include <stdio.h>
#include <stdlib.h>
#include <unistd.h>
#include "dlist.h"

int main(int argc, char *argv[])
{

    printf("\n");

    FILE *fp;
    char text[1024];

    //check the command line
    if(argc != 2)
    {
        fprintf(stderr, "Usage: %s <filename>\n", argv[0]);
        return(-1);
    }

    //open file given on command line
    fp = fopen(argv[1], "r");
    if(fp == NULL)
    {
        perror(argv[1]);
        return(-1);
    }

    //initialize the dynamic list
    struct dlist *p;
    p = initDlist(INITSIZE);
    if(p == NULL)
    {
        perror("Unable to malloc dlist");
        return(-1);
    }

    //read each line then store it in the dynamic list
    while(fgets(text, 1024, fp) != NULL)
    {
        //printf("DEBUG: Preparing to insert data.\n");
        if( insDlist(text,&p) == -1)
        {
            perror("Unable to realloc dlist");
            return(-1);
        }

        //printf("DEBUG: Data inserted successfully.\n\n");
    }

    //debugDlist(p);
    printDlist(p);

    //printf("\nNow sorting...\n\n");
    //qsort(&(p->item), p->size, 1, stringCmp);

    //debugDlist(p);
    //printDlist(p);

    return(0);
} 
```

任何帮助表示赞赏，在此先感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T05:32:01.760

问题几乎肯定是您在复制数据之前增加了列表的大小：

```
(*p)->size++;

//adding data to the list
for(i = 0; i < 1024; i++)
    (*p)->item[(*p)->size][i] = data[i]; 
```

您应该重新排序这些语句：

```
//adding data to the list
for(i = 0; i < 1024; i++)
    (*p)->item[(*p)->size][i] = data[i];

(*p)->size++; 
```

此外，如果您被允许，以下是等效的：

```
// adding data to the list
memcpy( (*p)->item[(*p)->size],
        data,
        1024 );
(*p)->size++; 
```

详细地说，指数是从零开始的。例如，当您分配 6 个数组时，您复制到索引 [1]、[2]、[3]、[4]、[5] 和 [6]。

您*想*复制到索引 [0]、[1]、... [5]。

此外，仅在分配某些特定数字后才看到错误的原因与堆分配器有关。

# c++ - 递归地以英文形式一次打印一个整数

> ID：15060350
> 
> 赞同：0
> 
> 时间：2013-02-25T04:53:06.257
> 
> 标签：c++, recursion

我被分配了一项任务，我们必须使用递归方法以英文形式逐位打印出一个整数。EG 534 打印出“五三四”。

这就是我所拥有的：

```
int englishInt(int num) {
    if(num < 10) {
        switch(num) {
            case 0: cout << "zero ";
            case 1: cout << "one ";
            case 2: cout << "two ";
            case 3: cout << "three ";
            case 4: cout << "four ";
            case 5: cout << "five ";
            case 6: cout << "six ";
            case 7: cout << "seven ";
            case 8: cout << "eight ";
            case 9: cout << "nine ";
        }
    } else
        return englishInt(num / 10);
} 
```

出于某种原因，它正在打印英文中的最低位到最高位......这不应该一直返回直到它到达第一个数字然后打印出来，然后在堆栈展开时打印出每个数字？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-25T04:59:54.820

举个例子，比如 537。

```
englishInt(537) -- prints nothing, calls
    englishInt(53) -- prints nothing, calls
        englishInt(5) -- prints "five six seven eight nine" 
```

原因是：

1.  您的案件中没有任何`break`陈述。
2.  如果`num >= 10`.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-25T04:59:48.147

发生这种情况是因为您的方法在递归调用中没有做任何事情。您应该在每次调用中进行打印，但仅当`num`不为零时才向下递归。

算法（伪代码）应如下所示：

```
englishInt(int num) {
    if (num != 0) {
        englishInt(num/10)
    }
    cout << english letter for (num % 10)
} 
```

您需要一个特殊情况`num == 0`，以便调用`englishInt(0)`会产生一些输出。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-25T05:07:57.477

首先，我看到修复代码的最小变化。

1.  `break`在交换机的每个输出后添加一个。
2.  *在输出之前*递归，并且总是在之后输出。

所以，

```
void englishInt(int num)
{
    if (num >=10)
        englishInt(num/10);

    switch(num % 10)
    {
        case 0: cout << "zero "; break;
        case 1: cout << "one "; break;
        case 2: cout << "two "; break;
        case 3: cout << "three "; break;
        case 4: cout << "four "; break;
        case 5: cout << "five "; break;
        case 6: cout << "six "; break;
        case 7: cout << "seven "; break;
        case 8: cout << "eight "; break;
        case 9: cout << "nine "; break;
    }
} 
```

* * *

**放弃开关**

我没有关注你为什么首先有一个 switch 语句。如果您查看您的开关，您总是在评估`0..9`. 那么为什么不使用该数字作为十个字符串数组的简单索引：

```
#include <iostream>
using namespace std;

void print_num(unsigned int num)
{
    static const char *strs[] =
    {
        "zero", "one", "two", "three", "four",
        "five", "six", "seven", "eight", "nine"
    };

    if (num >= 10)
        print_num(num/10);
    cout << strs[num % 10] << ' ';
}

int main(int argc, char *argv[])
{
    print_num(100); cout << endl;
    print_num(12345);  cout << endl;
    print_num(3);  cout << endl;
    print_num(1024*1024*1024); cout << endl;
    return 0;
} 
```

**输出**

```
one zero zero 
one two three four five 
three 
one zero seven three seven four one eight two four 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-25T05:13:11.843

您的代码有几个问题。

首先，您的 switch 语句被破坏了：您忘记`break`在每个 case 之后放置一个语句，因此在递归结束时，您的程序将打印出最高有效数字，然后遍历更大的数字直到 9。

修复它如下：

```
 switch(num) {
        case 0: cout << "zero "; break;
        case 1: cout << "one "; break;
        case 2: cout << "two "; break; 
        case 3: cout << "three "; break;
        case 4: cout << "four "; break;
        case 5: cout << "five "; break; 
        case 6: cout << "six "; break;
        case 7: cout << "seven "; break; 
        case 8: cout << "eight "; break;
        case 9: cout << "nine "; break;
    } 
```

其次，您的程序将仅输出最高有效数字。您不会为中间步骤打印任何内容。这不是你的代码的问题，而是你的算法的问题，所以你必须自己解决这个问题。

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2013-02-25T05:00:44.907

一个疯狂的方法

```
int main()
{
   int n;
   char s[32];
   char word[10][10]{"zero", "one", "two", "three", "four", "five", "six", "seven", "eight", "nine"};

   cout << "enter a number" << endl;
   cin >> n;

   sprintf(s,"%d", n );

   for( int i = 0; s[i] != '\0'; i++)
   {
       cout << word[s[i]-'0'];
   }

   return 0;
} 
```

# json - WSO2 数据服务 JSON 问题

> ID：15060362
> 
> 赞同：2
> 
> 时间：2013-02-25T04:54:31.760
> 
> 标签：json, wso2, wso2dss

我希望你能帮助我让 JSON REST WSO2 数据服务工作。我使用 v 3.0.1 和示例数据服务。我怀疑我做错了......我创建了一个绑定到 productsSQL 查询的资源“产品”。XML REST 请求可以完美运行，但 JSON 不行：

1.  > curl --request GET [http://myserver.com:9763/services/samples/RDBMSSample.HTTPEndpoint/products](http://myserver.com:9763/services/samples/RDBMSSample.HTTPEndpoint/products) -H Content-Type:"application/json"

返回

```
> "Fault":{"faultcode":"","faultstring":"No JSON message received
> through HTTP GET or POST","detail":""}} 
```

2.  从源代码看起来它期望在请求 url 中有一些请求主体（这很奇怪），所以下一个查询是

    > curl --request GET [http://myserver.com:9763/services/samples/RDBMSSample.HTTPEndpoint/products?q=emptyquery](http://myserver.com:9763/services/samples/RDBMSSample.HTTPEndpoint/products?q=emptyquery) -H Content-Type:"application/json"

这个挂起并在几分钟后在服务器上出现以下异常：

```
> Feb 24, 2013 8:08:13 PM
> org.apache.tomcat.util.net.NioEndpoint$SocketProcessor run SEVERE:
> java.lang.ThreadDeath     at java.lang.Thread.stop(Thread.java:776)   at
> org.wso2.carbon.tomcat.ext.valves.CarbonStuckThreadDetectionValve.handleStuckThread(CarbonStuckThreadDetectionValve.java:121)
>   at
> org.wso2.carbon.tomcat.ext.valves.CarbonStuckThreadDetectionValve.backgroundProcess(CarbonStuckThreadDetectionValve.java:175)
>   at
> org.apache.catalina.core.ContainerBase.backgroundProcess(ContainerBase.java:1387)
>   at
> org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1566)
>   at
> org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1576)
>   at
> org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.run(ContainerBase.java:1555)
>   at java.lang.Thread.run(Thread.java:680) 
```

3.  但是，以下查询有效：

    > curl --data '{"employeesbynumber":{"employeenumber":{"$":"1002"}}}' [http://myserver.com:9763/services/samples/RDBMSSample/](http://myserver.com:9763/services/samples/RDBMSSample/) --header 内容类型： "application/json" --header SOAPAction:"urn:employeesByNumber"

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T02:38:22.287

所以在调试 WSO2 DSS 和 Axis2 代码几个小时后，有一个修复：

**原因**：WSO2 仍然在 Axis 1.6.1 上运行，它在 JSONOMBuilder 和 JSONDataSource 中有一些严重的错误（似乎已在 1.6.2 中修复）。具体来说，它要求所有 GET 请求都具有输入参数，并且还包含在根元素 + 一些其他问题中。事实上，在内部，AXIS2 将 JSON 有效负载映射到 SOAP 主体，因此需要有根元素。

**解决方案**更多解决方法：对于 GET 请求，传递请求正文，其参数包含在根元素中（当然还有 url 编码）。即使您没有参数 - 无论如何都要传递它们。因此，以下查询有效：

```
curl --request GET http://192.168.1.10:9763/services/samples/RDBMSSample.HTTPEndpoint/employees?q=%7B%22request%22%3A%7B%22employeeNumber%22%3A%221%22%7D%7D%20 -H Content-Type:"application/json" 
```

而这个用于不带参数的查询，但无论如何传递一个虚拟的：

```
curl --request GET http://192.168.1.10:9763/ervices/samples/RDBMSSample.HTTPEndpoint/products?q=%7B%22request%22%3A%7B%22employeeNumber%22%3A%221%22%7D%7D%20 -H Content-Type:"application/json" 
```

希望 WSO2 小伙伴们能尽快更新到最新的 Axis2...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T08:31:08.867

我认为你从 curl 调用 REST cal 的方式是错误的，如果你想玩 curl，你可以使用参考 [1]。正确的信息是

```
curl -i -H "Accept: application/json" http://myserver.com:9763/services/samples/RDBMSSample.HTTPEndpoint/products 
```

否则有一个很好的 Google chrome 插件“高级 REST 客户端”，您可以简单地使用它来调用 REST 服务。

[1]。[http://blogs.plexibus.com/2009/01/15/rest-esting-with-curl/](http://blogs.plexibus.com/2009/01/15/rest-esting-with-curl/)

# c++ - 重载运算符“+”以在 C++ 中添加两个数组

> ID：15060372
> 
> 赞同：1
> 
> 时间：2013-02-25T04:56:13.090
> 
> 标签：c++, arrays, operator-overloading, add

我想通过简单地编写添加两个数组：

```
int a[4] = {1,2,3,4};
int b[4] = {2,1,3,1};
int sum[4] = a + b; 
```

我写了这个函数，但我得到了一个错误

```
int* operator+(const uint32& other) const{
    uint32 sum[n];
    for(int i=0; i<n; i++){
        sum[i] = (*this[i]) + other[i];
    }
    return sum;
} 
```

你能帮我解决这个问题吗？提前致谢。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-02-25T05:14:22.877

让我们逐个检查您的代码，并查看问题：

> ```
> int* operator+(const uint32& other) const{ 
> ```

1.  你不能为内置类型重载运算符，所以这从一开始就注定了
2.  即使你可以这样做（你不能），它也需要两个参数，因为它是非成员二进制函数。

> ```
>  uint32 sum[n]; 
> ```

3.  您不能在 C++ 中创建可变长度数组（假设`n`不是编译时常量）（注意：G++ 有一些扩展允许这样做，但它是非标准 C++）

> ```
>  for(int i=0; i<n; i++){
>         sum[i] = (*this[i]) + other[i]; 
> ```

4.  这段代码中没有`this`开始的指针（它不是成员函数）......
5.  `const uint32& other`不是数组/指向数组的指针*。*它是对单个`uint32`. 这意味着`other`在这段代码中*不是*一个数组/指向数组的指针，所以你不能做`other[i]`（这就像试图做`int x = 3; x[4] = 13;`，这没有意义）。

> ```
>  }
>     return sum; 
> ```

6.  您正在返回一个指向本地分配数组的指针，这意味着这将导致未定义的行为，因为`sum`当此函数返回时，与之关联的内存将被销毁。

> ```
> } 
> ```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-25T05:58:33.377

这可能是错误的，但它似乎工作（C++ 11）：

```
#include <iostream>
#include <array>

using namespace std;

template <class T>
T operator+(const T& a1, const T& a2)
{
  T a;
  for (typename T::size_type i = 0; i < a1.size(); i++)
    a[i] = a1[i] + a2[i];
  return a;
}

int main()
{
  array<int,5> a1 = { 1, 2, 3, 4, 5 };
  array<int,5> a2 = { 2, 3, 4, 5, 6 };
  array<int,5> a3 = a1 + a2;

  for (int i = 0; i < 5; i++)
    cout << a1[i] << '+' << a2[i] << '=' << a3[i] << ' ';

  cout << endl;
  return 0;
} 
```

输出（[ideone](http://ideone.com/MOraoP)）：

```
1+2=3 2+3=5 3+4=7 4+5=9 5+6=11 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-25T05:09:22.140

我认为问题在于您缺少一种传递数组长度的方法。您可能需要做一些更复杂的事情。就像是：

```
class AddingVector : public std::vector<int>
{
    public:
    typedef AddingVector type;
    type operator+(const AddingVector& rhs, const AddingVector& lhs)
    {
       /* validate that they're the same size, decide how you want to handle that*/
       AddingVector retVal;
       AddingVector::const_iterator rIter = rhs.begin();
       AddingVector::const_iterator lIter = lhs.begin();
       while (rIter != rhs.end() && lIter != lhs.end()) {
         retVal.push_back(*rIter + *lIter);
         ++rIter;
         ++lIter;
       }
       return retVal;
     }
} 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-02-25T05:13:54.297

你不能这样做。非成员二元运算符必须采用两个参数（您只提供了一个），因此您可以尝试以下操作：

```
int* operator+(const uint32& a, const uint32& b) 
```

但这也不可能奏效，因为您想添加数组，而不是单个`uint32`变量。所以你会认为这样做会：

```
int* operator+(const uint32[] a, const uint32[] b) 
```

或者：

```
int* operator+(const uint32[4] a, const uint32[4] b) 
```

但是不行。这是非法的，因为您不能将指针类型作为运算符重载中的两个参数。此外，至少有一个参数必须是类类型或`enum`. 所以你想要做的事情至少在两个不同的层面上已经是不可能的了。

做你想做的事是不可能的。一种正确的方法是为可以添加到另一个数组的数组编写自己的类。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-02-25T05:14:06.727

首先是您的代码被正确编译，您在声明数组时直接使用了“n”，将“n”声明为常量。此外，您在函数中获取了一个局部变量并返回它，嗯，这会返回一个垃圾形式堆栈，我可以建议您分配一些内存并使用它，但是需要再次释放它...

嘿，你能做的是，

取一个包装类“数组”

```
class array
{
   int *ipArr;
   DWORD size;
}; 
```

然后在构造函数中你可以传递你想要的数组的大小

```
array(DWORD dwSize);
{
  // then malloc memory of size dwSize;
} 
```

这个类有一个重载的运算符'+'，就会有上面添加两个int数组的实现，注意这里你还需要重载'='赋值运算符，这样我们的数组类就可以直接..现在您可以在析构函数中释放关联的内存

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-02-25T05:14:27.763

您不能为自己定义的类型以外的类型重载运算符。也就是说，如果您创建一个类 X，您可以为 X 重载运算符，但不能为数组或指向基本类型的指针重载运算符。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-02-25T05:20:20.163

你有几个问题。第一个是你没有传入两个数组，然后你没有指定 n 是什么，最后一个是你试图传递一个指向局部变量的指针。看起来您正在尝试创建一个类的成员运算符。

所以基本上你正在尝试将未指定长度数组的内容添加到相同长度的未初始化数组并返回堆栈内存。

因此，如果您传入指向数组的指针以及数组的长度和输出数组，那么它将起作用，但您将没有语法

```
sum = a + b; 
```

它会像

```
addArray(&a, &b, &sum, 4); 
```

要获得您想要的语法，您可以创建一个包装数组的类。但这是一项复杂得多的任务。

# c# - 将值从另一个类传递到表单中的文本框？

> ID：15060381
> 
> 赞同：0
> 
> 时间：2013-02-25T04:56:56.900
> 
> 标签：c#, winforms, events, event-handling

我有一个班级和一个表格。该类旨在在引发事件时执行一些处理并将值返回到表单以仅显示。我在将值传递回表单时遇到问题。例如，我在课堂上有这段代码`print`：

```
 public class PrintClass : Form1
{

    public void printEventHandler(object sender, EventArgs e)
    {

        string text = "Process Completed";
        append_Tbox(text);

    }

} 
```

以及 form1 中显示文本的方法：

```
 public void append_Tbox(string s)
    {

        TboxPrint.AppendText(s);
    } 
```

但是，什么都没有显示。我相信有什么问题，但我无法弄清楚。将值从类传递到表单的最快方法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T06:50:11.753

首先，您的处理类不应该扩展`Form1`. 这给您一种错觉，即您可以访问现有表单的方法，但它并没有按照您的想法进行操作。当你这样做时，你正在创建一个全新的表单，只是没有显示它。该表单具有自己的所有实例字段集，因此您无需访问主表单的控件。即使这会起作用（并且不会），它也不是一个设计良好的解决方案。

这样做的正确方法实际上要容易得多。你只需要让你的其他类从它的方法返回一个值：

```
public class PrintClass
{
    public string DoWork()
    {
        Thread.Sleep(2000);//placeholder for real work.
        return "Process Completed";
    }
} 
```

现在您的主窗体可以调用该方法并将返回值附加到文本框。

一旦你这样做，你将有一个完全独立的问题。如果您在 UI 线程中进行工作，您将在工作发生时阻塞该 UI 线程，从而阻止重新绘制表单或处理任何其他事件。您需要在后台线程中完成工作，然后编组回 UI 线程以使用结果更新 UI。有很多方法可以做到这一点，但如果你有 C# 5.0，那么使用`await`是迄今为止最简单的：

```
public class Form1 : Form
{
    private void SomeEventHandler(object sender, EventArgs args)
    {
        string result = await Task.Run(()=>new PrintClass().DoWork());
        TboxPrint.AppendText(result);
    }
} 
```

如果您需要一个 C# 4.0 解决方案，您可以使用`ContinueWith`，这或多或少是上面将被翻译成的内容，但它的语法并不那么干净。

```
public class Form1 : Form
{
    private void SomeEventHandler(object sender, EventArgs args)
    {
        Task.Factory.StartNew(()=>new PrintClass().DoWork())
            .ContinueWith(t => TboxPrint.AppendText(t.Result)
                , CancellationToken.None
                , TaskContinuationOptions.None
                , TaskScheduler.FromCurrentSynchronizationContext());
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T06:39:18.080

我在主窗体中创建了委托

```
 public delegate void LoginDelegate(string s);

 public partial class AirLineReservationMDI : Form
    {
        LoginDelegate loginAirLineDelegate;

    }

loginAirLineDelegate = new LoginDelegate(DisableToolStripMenuItems);

 public void DisableToolStripMenuItems(string s)
        {
           this.viewToolStripMenuItem.Visible = true;
            this.bookingToolStripMenuItem.Visible = true;
            this.existingUserToolStripMenuItem.Visible = false;
            this.newUserToolStripMenuItem.Visible = false;
            this.toolStripStatusUserID.Text = "USerID :- "+s;             
           this.LoginUserId = s;
        } 
```

在另一个类中，（我已将 delagete 对象传递给此类）我解雇了代表

```
 logDelegate(textBoxUserName.Text); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-27T04:01:16.523

我使用`Action<T>`委托来解决问题。这是代码，它工作正常。

```
 class PrintClass 
{
    public Action<string> DisplayDelegate;

    public void printEventHandler(object sender, EventArgs e)
    {
        string text = "Event Handled, and text value is passed";

        var copy = DisplayDelegate;

        if (copy != null)
        {
           copy(text);
        }
    }

} 
```

在“Form1.cs”中：

```
 private void Form1_Load(object sender, EventArgs e)
    {
        PrintClass p = new PrintClass();
        BtnPrint.Click += p.printEventHandler;

        //subscrite the displayevent method to action delegate
        p.DisplayDelegate += DisplayEvent;

    }

    public void DisplayEvent(string s)
    {

        Invoke(new Action(() => TboxPrint.AppendText(s)));
    } 
```

因此文本“事件已处理，并且文本值已传递”显示在文本框中。

我不确定这是否是有效的方法。多谢你们。

# perl - bash 中的一个内衬（使用 perl 或 awk）来更改多个文件的扩展名？

> ID：15060384
> 
> 赞同：1
> 
> 时间：2013-02-25T04:57:22.560
> 
> 标签：perl, bash, shell, unix, awk

在 bash shell 中重命名一堆文件的最简单方法是什么？`*.ext`要将当前目录中的每个文件重命名为`*.otherext`? 我对使用 perl 或 awk 的解决方案持开放态度，不必是纯 bash。有任何想法吗？

明确地说，这意味着：

```
mv a.ext a.otherext
mv b.ext b.otherext
...
etc. for all *.ext 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-02-25T05:04:28.487

有几种方法可以做到这一点。有一个`rename`用 Perl 编写的程序：

```
rename 's/\.ext\z/.otherext/' *.ext 
```

但是还有另一个（不兼容的）`rename`程序，你必须这样做：

```
rename .ext .otherext *.ext 
```

还有一个程序叫做`mmv`：

```
mmv '*.ext' '#1.otherext' 
```

使用普通 bash：

```
for i in *.ext; do mv -- "$i" "${i%.ext}.otherext"; done 
```

使用普通 perl：

```
perl -we 'for my $old (glob "*.ext") { (my $new = $old) =~ s/\.ext\z/.otherext/; rename $old, $new or warn "$old -> $new: $!\n"; }' 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-25T05:24:01.667

既然您询问了 Python 版本的外观，我想我会为后代添加它。

```
#!/usr/bin/python

from glob import glob
from os import rename

for f in glob("*.ext"):
  rename(f, f[:-3] + "otherext") 
```

单行版本（不那么好看）：

```
python -c "import glob,os;[os.rename(f, f[:-3] + \"otherext\") for f in glob.glob(\"*.ext\")]" 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-08-16T11:45:40.523

一条蟒蛇单线：

```
python -c "import shutil, glob; [shutil.move(i,i.replace('.txt','.ext')) for i in glob.glob('*.txt')]" 
```

利用 ' 和 " 而不是转义字符和替换功能

# php - 如何在php中调用mysql存储过程？

> ID：15060387
> 
> 赞同：0
> 
> 时间：2013-02-25T04:57:40.030
> 
> 标签：php, stored-procedures

我已经在 mysql 中创建了存储过程，现在我想在 php 脚本中使用它们。

对于通过 php 使用存储过程，我正在使用以下代码：

```
 $query = "call authenticateUser('$username')";
 $result = mysql_query($query) or die(mysql_error()); 
```

但这表明命令错误不同步。

请有人告诉我如何在 php 中调用存储过程。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T05:05:59.533

```
$username = mysql_real_escape_string($username);

$query = "CALL authenticateUser('" . $username . "')";
$result = mysql_query($query) or die(mysql_error()); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T06:03:12.097

您可以使用这样的语句：

$query = "调用 authenticateUser($username)";

使用双引号就不需要分隔。

# mysql - 如何从 mysql 中的 longtext 类型读取特定的标签数据？

> ID：15060389
> 
> 赞同：0
> 
> 时间：2013-02-25T04:57:53.060
> 
> 标签：mysql, longtext

我是数据库新手，所以请告诉我如何从我的 sql 中的 longtext（clob 数据类型）读取数据。

长文本字段名称是 Rest_Server ，要读取的值标签就是从中读取的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-08-06T09:18:36.800

从表中选择 substr(clob_column,INSTR(clob_column,''),lengthOfTag)

# php - 在 ubuntu 中配置 selenium 以在 codeception 中测试 php

> ID：15060390
> 
> 赞同：0
> 
> 时间：2013-02-25T04:57:55.103
> 
> 标签：php, selenium, selenium-webdriver, selenium-rc, user-acceptance-testing

我想使用 codeception 在 php 代码中测试一些拖放场景，因为我需要在 codeception 中配置 selenium 模块。

我正在尝试使用 codeception 通过 selenium 测试我的 php 代码（web guy）。但我无法做到这一点。

我已经安装了 Selenium RC 服务器我正在使用 ubuntu 操作系统，即使这个链接是 http://127.0.0.1:4444/ 打开但我`acceptance.yml` 在运行测试时按照文档中的说明进行了更改我收到以下错误

> [Codeception\Exception\ModuleConfig]
> Codeception\Util\Mink 模块未配置！
> 此驱动程序无法访问提供的 URL。无法连接！

请指导我进行必要的更改以配置我的 selenium 模块。

请指导我如何配置 selenium 模块。我的操作系统是 ubuntu

参考站点在这里： [Selenium](http://www.codeception.com/docs/modules/Selenium)

[验收测试](http://www.codeception.com/docs/04-AcceptanceTests)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T06:12:00.570

答案可以是多行的。:^)

启动硒。

```
#!/bin/bash
DIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd )"

mkdir $DIR/../log
java -jar $DIR/selenium-server-standalone-2.29.0.jar 1>$DIR/../log/selenium-server-standalone.log 2>&1 & 
```

验收套件.yml

```
class_name: WebGuy
modules:
    enabled:
        - Selenium
        - WebHelper
    config:
        Selenium:
            url: 'http://url.local/'
            browser: firefox 
```

PS不要忘记生成WebGuy( `php codecept.phar build`)

# iphone - 在 iOS 中管理布局

> ID：15060391
> 
> 赞同：3
> 
> 时间：2013-02-25T04:57:58.147
> 
> 标签：iphone, ios, objective-c, layout

我是`iOS`开发新手，我对 JAVA Swing 和 Windows 应用程序有扎实的背景。我想学习如何进行布局`iOS`？我想`iOS`没有像 Java Swing 那样的**“布局管理器”**。开发的唯一方法`UI`是为每个控制器指定大小和位置？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-25T05:38:03.183

[首先阅读本官方文档。](http://developer.apple.com/library/safari/#documentation/UserExperience/Conceptual/MobileHIG/UIElementGuidelines/UIElementGuidelines.html#//apple_ref/doc/uid/TP40006556-CH13-SW1)

它也可能对您有所帮助。

![在此处输入图像描述](../Images/50d643f5876920009bd38a8a55de1c64.png)

这里**自动调整**蒙版及其**描述**

1)`UIViewAutoresizingNone`
视图不会自动调整大小。（这是默认值。）

2)`UIViewAutoresizingFlexibleHeight` 当父视图的高度发生变化时，视图的高度也会发生变化。如果不包括此常量，则视图的高度不会改变。

3)`UIViewAutoresizingFlexibleWidth`
当父视图的宽度改变时，视图的宽度也会改变。如果不包含此常量，则视图的宽度不会改变。

4）`UIViewAutoresizingFlexibleLeftMargin`
视图左边缘和父视图左边缘之间的距离根据需要增长或缩小。如果不包括此常量，则视图的左边缘与父视图的左边缘保持固定距离。

5）`UIViewAutoresizingFlexibleRightMargin`
视图的右边缘和父视图的右边缘之间的距离根据需要增长或缩小。如果不包括此常量，则视图的右边缘与父视图的右边缘保持固定距离。

6）`UIViewAutoresizingFlexibleBottomMargin`
视图的底边和父视图的底边之间的距离根据需要增长或缩小。如果不包括此常量，则视图的底边与父视图的底边保持固定距离。

7)`UIViewAutoresizingFlexibleTopMargin`
视图的上边缘和父视图的上边缘之间的距离根据需要增长或缩小。如果不包括此常量，则视图的顶部边缘与父视图的顶部边缘保持固定距离。

有关更多信息，请阅读此[文档。](http://developer.apple.com/library/ios/#documentation/WindowsViews/Conceptual/ViewPG_iPhoneOS/CreatingViews/CreatingViews.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-25T05:09:52.337

是的，你是对的，iOS SDK 中没有像布局管理器这样的东西。

但是在 Xcode 中管理布局并不难。

随着故事板和尺寸检查器的使用，它变得更加容易。
和 iOS 6 自动布局使不同尺寸的视图更容易。

我找到了类似布局管理器的东西，但我不知道它到底是什么以及如何使用。

你可以看看：[RKLayout](https://github.com/rkovacevic/RKLayout)

# matlab - BPSK调制中的信道估计

> ID：15060393
> 
> 赞同：0
> 
> 时间：2013-02-25T04:58:16.650
> 
> 标签：matlab, communication, telecommunication

请参阅下面我估计通道响应的代码。我应该如何将信道估计和脉冲整形集成到我的代码中？

```
%SNR (Eb/No) values in decibels  
SNR=[0:2:14]'; %column vector  
%SNR in linear scale  
snr=10.^(SNR/10);  

%-------------------------------------------------

%I create initial zero vectors for BER
BER=zeros(length(SNR),1)
%-----------------------------------------------

%some initial values
%totally Nmax symbols
Nmax=1000; %maximum number of iterations
Nerr=100; %minimum number of errors

for k=1:length(SNR), %I do MC trials for each SNR
for l=1:Nmax, %MC loop

%-------------------------------------------------

%DATA
%I create data as vectors of length Ns symbols
Ns=100;
data=2*round(rand(Ns,1))-1;
%data is random and generated again and again for each MC trial
%--------------------------------------------------

%totally Ns * Nmax symbols, if 100*1000 = 100 000
%results rather reliable down to 1e-4
%-------------------------------------------------

%plot data
if l==1 & k==1, %I plot to see things only once, at the first round
plot(data),title('data'),axis([0 Ns -1.1 1.1]),pause,
end
%-------------------------------------------------

%MODULATION
%BPSK signal
bpsk=data;

%-------------------------------------------------

%noise gereration for BPSK
n=1/sqrt(2)*(randn(Ns,1)+j*randn(Ns,1));
%Since complex noise is generated by two real noise sequences the
%total variance is 2 x variance of one sequence(now 1). If we multiply
%by 1/sqrt(2) the total variance of noise becomes1.
%This is two sided noise spectral density No in BER equations.

%we check this
if l==1 & k==1,
var_n=norm(n)^2, pause
end
%This should be Ns since I sum Ns variables.
%Since n is a realization of a random process,
%the result is not exact.
%Average of repeated trials gives more exact result.
%---------------------------------------------------

%AWGN BPSK
Bpsk=sqrt(snr(k))*data+n; %snr is Eb/N0 in BER equations
if l==1 & k==1,
plot([real(Bpsk) data])
legend('real part of signal','data'),
title('BPSK signal in noise'),pause
end
%--------------------------------------------

%DEMODULATION

%BPSK
r1=real(Bpsk); %demodulated signal, soft decision
%different demodulated symbols
if l==1 & k==1,
plot([r1])
title('demodulated symbols'),pause
end

%hard decisions, converts soft demodulated symbolsto sequence of +-1
%AWGN
d1=find(r1>=0);d2=find(r1<0);
r1(d1)=1;r1(d2)=-1;

%plot example
if l==1 & k==1,
plot([r1])
axis([0 Ns -1.1 1.1]),
title('demodulated symbols after hard decisions')
pause
end
%--------------------------------------------------

%BER analysis
%errors in the current MC run
Ber=length(find((data-r1)~=0)); %number of errors in AWGN
if k==1 & l==1,
errors=[Ber],pause
end
%---------------------------------------------------

%we add errors to previous error counts, initially zero
%index k is for SNRs
BER(k)=BER(k)+Ber; %AWGN
%-------------------------------------------------

%I stop MC trials if minimum number of errors is obtained in all systems
if BER(k)>Nerr ,
break %terminates the innermost loop
end

end %end MC
%------------------------------------------------

%I calculate BER by dividing number of successful trials by their total number
BER(k)=BER(k)/Ns/l;

end %ends SNR loop
%--------------------------------------------------

%all simulated BER and corresponding SNR in a matrix
BER=[SNR BER ]
%------------------------------------------------

%logarithmic plot (y-axis)
semilogy(SNR,[BER ])
xlabel('SNR [dB]')
ylabel('BER')
axis([0 SNR(length(SNR)) 1e-6 .5])
grid on 
```

# c - C: 无法解决为什么这个结构的两个成员没有正确递增的问题？

> ID：15060395
> 
> 赞同：1
> 
> 时间：2013-02-25T04:58:17.690
> 
> 标签：c, struct, member

```
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#define RECORDS 2
int main() {
    typedef struct {
        char firstName[30];
        char lastName[30];
        char street[35];
        char city[20];
        char state[3];
        int  zip;
        char phone[15];

        int  accountId;
    } Customer ;
    Customer customerArray[RECORDS];    

    typedef int records;
    records i = 0;  

    printf("================================================================\n");
    for(i = 0; i < RECORDS; ++i)
    {   

        printf("Enter data for customer %d\n", i + 1);
        printf("Enter firstname, last name, phone\n");
        scanf("%s %s %s", customerArray[i].firstName, customerArray[i].lastName, customerArray[i].phone);
        scanf("%*c");   

        printf("Enter Address (Street City State ZIP\n");
        scanf("%s %s %s %d", customerArray[i].street, customerArray[i].city, customerArray[i].state, &customerArray[i].zip);
        scanf("%*c");   

    }   

    for(i = 0; i < RECORDS; ++i) {
        char input[3]= {'\0'};
        printf("please enter state:\n");
        scanf("%s",input);  

        int strcmp(const char *s1, const char *s2);
        int strncmp(const char *s1, const char *s2, size_t n);
        char *custstate = customerArray[i].state;
        char *statelookup = input;

        if (strcmp(custstate, statelookup) == 0) {
        printf("\nData for customer number:%s", customerArray[i].accountId);
        printf("\nAccount:%s", customerArray[i].accountId);
        printf("\n Name:%s %s",customerArray[i].firstName, customerArray[i].lastName);
        printf("\nAddress:%s %s %s %d",customerArray[i].street, customerArray[i].city, customerArray[i].state, customerArray[i].zip);
        printf("\nPhone:%s",customerArray[i].phone);    

        }
        else
            printf("Could not find a match");

    }
    return 0;   

} 
```

无法弄清楚为什么该结构的一个成员没有正确递增。帐户 ID 产生不准确的输出。而且客户编号也没有正确生产。例如 1、2 等。

所述成员的输出看起来像这样......

客户编号数据：1606416396 账户：1606416396

它应该是什么样子

客户 1 帐户 1 的数据

不知道我做错了什么。仍在学习 C. 完全菜鸟。任何帮助将不胜感激！

我在想我必须终止成员。但不确定这是不是真的，甚至是如何。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-25T05:01:55.553

您永远不会初始化该字段`accountId`。在 C 中，它不会因为使用未初始化的字段而出错，而是使用随机值（因为 RAM 将具有来自最后存在的任何内存的随机值）。因此，巨大的无意义价值被解释为是其他程序的遗留物。要解决此问题，您必须在访问之前将其设置为某些内容。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T08:24:06.660

您在程序中使用的所有变量主要位于两个区域

1.  堆栈段
2.  数据段

默认情况下，所有自动程序变量和结构变量都存储在堆栈中，因此与所有堆栈变量一样，它们不会被编译器初始化，因此将包含一个不可预测的值，通常称为垃圾值。所以它是在声明期间显式初始化变量总是更好。

主要驻留在数据段中的变量主要是全局变量和静态变量。这些变量在声明期间自动初始化为 0 ，因此您不会找到任何垃圾值。

例子

```
static int i =0; 
```

是相同的

```
static int i; 
```

看看这个页面，了解更多信息

[http://www.geeksforgeeks.org/memory-layout-of-c-program/](http://www.geeksforgeeks.org/memory-layout-of-c-program/)

# ruby - 如何使用 Ruby 将 CSV 数据导入到类参数中？

> ID：15060402
> 
> 赞同：-1
> 
> 时间：2013-02-25T04:59:35.790
> 
> 标签：ruby, csv

我正在尝试在 Ruby 中使用 CSV 库并将 .csv 文件的值存储到对象参数中。例如，我希望能够解析 .csv 文件，它看起来像这个示例之一：

福特，1996，蓝色，雪佛兰，2000，绿色

并让程序将值分配给具有三个参数的“汽车”对象：品牌、年份和颜色，稍后可以像这样访问：

```
car1.make = "Ford"
car1.year = 1996"
car1.color = "Blue"
car2.make = "Chevy"
car2.year = "2000"
car2.color = "Green" 
```

等等任何数量的汽车。

在这个网站上环顾四周后，我发现了一些如何执行此操作的示例，但仅用于输出到另一个文件或字符串。谁能以尽可能简单的方式解释如何做到这一点？我对这种语言很陌生，很容易迷路。谢谢！
（对不起，我在编辑之前没有那么清楚）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T05:30:16.213

```
require "csv"

class Car
  attr_reader :make, :year, :color
  def initialize *args; @make, @year, @color = args end
end

array_of_cars =
CSV.read(path_to_csv_file)
.each_slice(3)
.map{|args| Car.new(*args.map(&:to_s))}

array_of_cars[0].make # => "Ford"
array_of_cars[0].year # => "1996"
array_of_cars[0].color # => "Blue"
array_of_cars[1].make # => "Chevy"
array_of_cars[1].year # => "2000"
array_of_cars[1].color # => "Green" 
```

或者，如果您可以忍受：

```
array_of_cars[0].make # => "Ford"
array_of_cars[0].year # => 1996
array_of_cars[0].color # => "Blue"
array_of_cars[1].make # => "Chevy"
array_of_cars[1].year # => 2000
array_of_cars[1].color # => "Green" 
```

然后

```
array_of_cars =
CSV.read(path_to_csv_file)
.each_slice(3).map{|args| Car.new(*args)} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T05:53:08.913

```
str = "Ford, 1996, Blue, Chevy, 2000, Green"
keys = [:make, :year, :color]

str.split(',').each_slice(3).map { |m|
  Hash[keys.zip m.map(&:strip)]  
} 

# ⇒ [
# ⇒   [0] {
# ⇒     :color => "Blue",
# ⇒      :make => "Ford",
# ⇒      :year => "1996"
# ⇒   },
# ⇒   [1] {
# ⇒     :color => "Green",
# ⇒      :make => "Chevy",
# ⇒      :year => "2000"
# ⇒   }
# ⇒ ] 
```

让我们看一下代码。使用分隔符`str.split(',')`分割字符串，将我们在上一次迭代中得到的数组由三个元素分割成片段。然后我们迭代这些，展开键和值（按 3 分组）到一个哈希实例（剥离值，因为在用逗号分割字符串后还有空格）。`,``each_slice(3)`

如果您想通过`cars[0].make`而不是访问元素`cars[0][:make]`，则需要小猴子补丁：

```
class Hash
  def method_missing(m, *args)
    if self.has_key?(m)
      return self[m]
    else
      super
    end  
  end  
end 
```

# javascript - 使用 jQuery 增加元素名称

> ID：15060406
> 
> 赞同：0
> 
> 时间：2013-02-25T05:00:03.183
> 
> 标签：javascript, jquery, html, onclick

如果单击按钮，我有这个 jQuery 脚本负责添加新教程（通过添加新表格行）。然后将在带有选择下拉列表和文本框的表格上添加一个新行，供用户输入其信息：

```
 $('#btnAdd').click(function() {
    var num     = $('.clonedInput').length;        
    var newNum  = new Number(num + 1);

    var newElem = $('#input' + num).clone().attr('id', 'input' + newNum);        

    newElem.children(':first').attr('id', 'name' + newNum).attr('name', 'name' + newNum);
    $('#input' + num).after(newElem);        
    $('#btnDel').attr('disabled','');

}); 
```

这是 HTML 标记：

```
<table class="widefat">
<thead>
<tr>    
<th style="width: 2.5%;"></th>
<th style="width: 2.5%;"></th>                          

<th style="width: 50%;">Subject</th>                            
<th>Delay in days</th>
<th style="width: 15%;">Send e-mail</th>
  </tr>

  </thead>  

  <tbody id="sortableinputs" class="ui-sortable">               
  <tr class="clonedInput" id="input1">

<td width="2.5%">Drag this</td>                        

    <td width="2.5%">Delete this row</td>                                 

<td width="50%">                    

                <select style="width:100%;" name="group_tutorial_posts1">
            <option value="551">This is a tutorial title</option>       
            <option value="552">This is another tutorial title</option>         

        </select>

</td>

<td><input type="text" name="name1">Period</td>
    <td><input type="button" value="Send email" class="button-secondary"></td>
    </tr>
  </tbody>                  

</table> 
```

我的问题是如何修改我的 jQuery 脚本，以使增量也与我的选择名称和文本框名称匹配。

例如，如果我单击按钮，则 tr id 将输入 2（这没有问题，jQuery 脚本对此工作正常）

```
<tr class="clonedInput" id="input2"> 
```

但我也希望（这是我的问题）选择名称和文本名称也增加，所以它会变成：

```
<select style="width:100%;" name="group_tutorial_posts2"> 
```

和：

```
<input type="text" name="name2"> 
```

如果添加另一个：

```
<select style="width:100%;" name="group_tutorial_posts3">
<input type="text" name="name3"> 
```

对于递增的 tr ：

```
<tr class="clonedInput" id="input3"> 
```

我在这里添加了一个非常简化的 JS fidde 演示：http: [//jsfiddle.net/codex_meridian/dP5xZ/2/](http://jsfiddle.net/codex_meridian/dP5xZ/2/)

感谢您的任何帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T05:27:40.760

鉴于您已经拥有的代码，大致如下：

此代码将进入您添加新 tr 的位置。有点冗长，我敢肯定有更短更雄辩的方式。但是您只需对后续输入字段进行相同操作即可。

```
 var _tr =  $('#sortableinputs tr:last');
        _tr.attr('name','group_tutorial_posts' + _tr.index());
        _tr.find(':first > select').attr('name',_tr.attr('name')); 
```

# jsp - jsp不显示图像

> ID：15060410
> 
> 赞同：1
> 
> 时间：2013-02-25T05:00:16.693
> 
> 标签：jsp, struts2, image

我正在尝试在 jsp 中显示图像，我正在使用以下代码，但它不显示图像，它只显示一个图像图标，表示链接已损坏。

当我将文件放在 images 文件夹中时，它可以工作，但是在 logos 文件夹中时找不到该文件。

图片在这个地址 Web pages \ images \ logos \ Tulips.jpg

我的代码如下

```
 <%@taglib uri="/struts-tags" prefix="s"%>
   ....

   <img src="<s:url value="/images/logos/Tulips.jpg"/>"/>

   ..... 
```

人们建议我使用以下内容，我添加了以下代码和依赖项，但它在 taglib 行上显示以下错误。

```
 Unable to read TLD "META-INF/c.tld" from JAR file javaee-web-api.6.0.jar : org.apache.jasper.JasperException :PWC6169: Failed to load or instantiate TagLibraryValidator class:
org.apache.taglibs.standard.tlv.jstlCoreTLV 
```

jsp

```
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
<img src="<c:url value="/images/logos/Tulips.jpg"/>"/> 
```

绒球

```
 <dependency>
                <groupId>org.apache.taglibs</groupId>
                <artifactId>taglibs-parent</artifactId>
                <version>3</version>
                <type>pom</type>
            </dependency>
          <dependency>
            <groupId>javax</groupId>
            <artifactId>javaee-web-api</artifactId>
            <version>6.0</version>
            <type>jar</type>
          </dependency> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-25T05:28:56.853

```
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
<img src="<c:url value="/images/logos/Tulips.jpg"/>"/> 
```

**更新**
还请查看以下链接：
[使用 JSF 2.1 和 JSP 2.0 时出错：无法从 JAR 文件](https://stackoverflow.com/questions/12015433/error-using-jsf-2-1-with-jsp-2-0-unable-to-read-tld-from-jar-file)
[中读取 TLD 无法读取 TLD “META-INF/c.tld”](https://stackoverflow.com/questions/3452403/unable-to-read-tld-meta-inf-c-tld)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T05:04:06.557

你也可以试试这样的东西吗？

```
 <%@ taglib uri="http://struts.apache.org/tags-html" prefix="html"%>
    <img src="<html:rewrite page='/images/logos/Tulips.jpg/'>"/> 
```

# python - IndexError：python中的列表索引超出范围

> ID：15060415
> 
> 赞同：0
> 
> 时间：2013-02-25T05:00:25.573
> 
> 标签：python

这是我编写的一些代码：

```
class MyClass:
    listt=[]
    def __init__(self):
        ""  

instancelist = [ MyClass() for i in range(29)]
for i in range(0,29):
    instancelist[i].listt[i].append("ajay")
print instancelist 
```

我收到此错误：

```
File "/home/aj/workspace/PythonTutorials/basics/builtFun.py", line 16, in <module>
    instancelist[i].listt[i].append("ajaajayy")
IndexError: list index out of range 
```

我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T05:02:50.287

```
class MyClass:
    listt=[]
    def __init__(self):
        ""  

instancelist = [ MyClass() for i in range(29)]
for i in range(0,29):
    instancelist[i].listt.append("ajay")
print instancelist 
```

固定的。

# java - 上下文混淆 - Spring 两次实例化单例 bean

> ID：15060418
> 
> 赞同：8
> 
> 时间：2013-02-25T05:00:38.257
> 
> 标签：java, spring, servlets, spring-mvc

我正在以编程方式进行 Spring 配置。我没有得到我期望的注入结果，所以我查看了日志，出于某种原因，Spring 两次生成了我的单例 bean。

我在 Tomcat 启动日志中得到了这个

```
INFO: Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@74b1128c: defining beans <LIST OF BEANS>

...little further

INFO: Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@61de76d0: defining beans <SAME LIST OF BEANS> 
```

这是正常行为吗？

这是我的应用程序上下文

```
@Configuration
@EnableTransactionManagement
@ComponentScan(basePackages = {"com.application.shiro",
                   "com.business.dao.impl", 
                   "com.business.services"})
public class AppRootContext {    
    /* Beans */
} 
```

这是我的 Servlet 上下文

```
@Configuration
@EnableWebMvc
@ComponentScan(basePackages = {"com.application.controllers"})
public class AppServletContext extends WebMvcConfigurerAdapter {
    /* Beans */
} 
```

我的 Servlet Initializer 类称为 BidAppInitializer

```
@Override
public void onStartup(ServletContext container) throws ServletException {
    AnnotationConfigWebApplicationContext rootContext = new AnnotationConfigWebApplicationContext();
    rootContext.register(AppRootContext.class);

    container.addListener(new ContextLoaderListener(rootContext));

    AnnotationConfigWebApplicationContext servletContext = new AnnotationConfigWebApplicationContext();
    servletContext.register(AppServletContext.class);

    ServletRegistration.Dynamic appServlet = container.addServlet("bidapp", new DispatcherServlet(servletContext));
    appServlet.setLoadOnStartup(1);
    appServlet.addMapping("/");
} 
```

这是我完整的 Tomcat 启动日志：

```
Feb 26, 2013 11:32:21 PM org.apache.catalina.core.AprLifecycleListener init
INFO: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: C:\Program Files\Java\jre7\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Program Files\MATLAB\R2010b\runtime\win64;C:\Program Files\MATLAB\R2010b\bin;C:\Users\Soto\Desktop\android-sdk-windows\tools;C:\Program Files (x86)\Common Files\Teleca Shared;C:\Program Files\TortoiseSVN\bin;C:\Program Files (x86)\QuickTime\QTSystem\;C:\Program Files\TortoiseHg\;C:\MinGW\bin;C:\Program Files\nodejs\; C:\PostgreSQL\9.2\bin\;C:\Program Files\MySQL\MySQL Server 5.5\bin;C:\MySQL\MySQL Server 5.5\bin;C:\Ruby193\bin;C:\Program Files (x86)\SSH Communications Security\SSH Secure Shell;C:\Users\Soto\Desktop\android-sdk-windows\tools;C:\MinGW\bin;C:\Users\Soto\AppData\Roaming\npm\;C:\apache-maven-3.0.4\bin;C:\Program Files\Java\jdk1.7.0_02\bin;C:\PostgreSQL\9.2\bin;.
Feb 26, 2013 11:32:21 PM org.apache.tomcat.util.digester.SetPropertiesRule begin
WARNING: [SetPropertiesRule]{Server/Service/Engine/Host/Context} Setting property 'source' to 'org.eclipse.jst.j2ee.server:BidApp' did not find a matching property.
Feb 26, 2013 11:32:21 PM org.apache.coyote.AbstractProtocol init
INFO: Initializing ProtocolHandler ["http-bio-8080"]
Feb 26, 2013 11:32:21 PM org.apache.coyote.AbstractProtocol init
INFO: Initializing ProtocolHandler ["ajp-bio-8009"]
Feb 26, 2013 11:32:21 PM org.apache.catalina.startup.Catalina load
INFO: Initialization processed in 824 ms
Feb 26, 2013 11:32:21 PM org.apache.catalina.core.StandardService startInternal
INFO: Starting service Catalina
Feb 26, 2013 11:32:21 PM org.apache.catalina.core.StandardEngine startInternal
INFO: Starting Servlet Engine: Apache Tomcat/7.0.22
Feb 26, 2013 11:32:29 PM org.apache.catalina.core.ApplicationContext log
INFO: Spring WebApplicationInitializers detected on classpath: [com.bidapp.bootstrap.BidAppInitializer@60515c64]
Feb 26, 2013 11:32:32 PM org.apache.catalina.core.ApplicationContext log
INFO: Initializing Spring root WebApplicationContext
Feb 26, 2013 11:32:32 PM org.springframework.web.context.ContextLoader initWebApplicationContext
INFO: Root WebApplicationContext: initialization started
Feb 26, 2013 11:32:32 PM org.springframework.context.support.AbstractApplicationContext prepareRefresh
INFO: Refreshing Root WebApplicationContext: startup date [Tue Feb 26 23:32:32 EST 2013]; root of context hierarchy
Feb 26, 2013 11:32:33 PM org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider registerDefaultFilters
INFO: JSR-330 'javax.inject.Named' annotation found and supported for component scanning
Feb 26, 2013 11:32:33 PM org.springframework.web.context.support.AnnotationConfigWebApplicationContext loadBeanDefinitions
INFO: Registering annotated classes: [class com.bidapp.bootstrap.AppRootContext]
Feb 26, 2013 11:32:33 PM org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider registerDefaultFilters
INFO: JSR-330 'javax.inject.Named' annotation found and supported for component scanning
Feb 26, 2013 11:32:36 PM org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor <init>
INFO: JSR-330 'javax.inject.Inject' annotation found and supported for autowiring

SDASD <--- Logged by my Root Context class constructor

Feb 26, 2013 11:33:49 PM org.springframework.context.support.AbstractApplicationContext$BeanPostProcessorChecker postProcessAfterInitialization
INFO: Bean 'appRootContext' of type [class com.bidapp.bootstrap.AppRootContext$$EnhancerByCGLIB$$84ad5432] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
Feb 26, 2013 11:33:52 PM org.springframework.context.support.AbstractApplicationContext$BeanPostProcessorChecker postProcessAfterInitialization
INFO: Bean 'proxyAsyncConfiguration' of type [class org.springframework.scheduling.annotation.ProxyAsyncConfiguration$$EnhancerByCGLIB$$f08c92c2] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
Feb 26, 2013 11:33:54 PM org.springframework.beans.factory.support.DefaultListableBeanFactory preInstantiateSingletons
INFO: Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@6393d737: defining beans [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,appRootContext,org.springframework.context.annotation.ConfigurationClassPostProcessor$ImportAwareBeanPostProcessor#0,accountActivationDaoHibernateImpl,accountDao,auctionDaoHibernateImpl,categoryDao,accountService,emailService,org.springframework.aop.config.internalAutoProxyCreator,proxyTransactionManagementConfiguration,org.springframework.transaction.config.internalTransactionAdvisor,transactionAttributeSource,transactionInterceptor,proxyAsyncConfiguration,org.springframework.context.annotation.internalAsyncAnnotationProcessor,securityManager,credentialsMatcher,sessionFactory,transactionManager,hibernateRealm,lifecycleBeanPostProcessor,webTemplateResolver,emailTemplateResolver,templateEngine,shiroFilter,taskExecutor,dataSource,mailSender,viewResolver]; root of factory hierarchy
Feb 26, 2013 11:33:56 PM com.mchange.v2.log.MLog <clinit>
INFO: MLog clients using java 1.4+ standard logging.
Feb 26, 2013 11:33:56 PM com.mchange.v2.c3p0.C3P0Registry banner
INFO: Initializing c3p0-0.9.1 [built 16-January-2007 14:46:42; debug? true; trace: 10]
Feb 26, 2013 11:34:45 PM com.mchange.v2.c3p0.impl.AbstractPoolBackedDataSource getPoolManager
INFO: Initializing c3p0 pool... com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 10, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hge15x8t76zmwq1uj2ed9|6cfb984, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> com.mysql.jdbc.Driver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge15x8t76zmwq1uj2ed9|6cfb984, idleConnectionTestPeriod -> 0, initialPoolSize -> 3, jdbcUrl -> jdbc:mysql://localhost:3306/bidapp, lastAcquisitionFailureDefaultUser -> null, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 1800, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 20, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 5, numHelperThreads -> 3, numThreadsAwaitingCheckoutDefaultUser -> 0, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false ]
Feb 26, 2013 11:35:33 PM org.springframework.orm.hibernate4.HibernateTransactionManager afterPropertiesSet
INFO: Using DataSource [com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 10, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hge15x8t76zmwq1uj2ed9|6cfb984, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> com.mysql.jdbc.Driver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge15x8t76zmwq1uj2ed9|6cfb984, idleConnectionTestPeriod -> 0, initialPoolSize -> 3, jdbcUrl -> jdbc:mysql://localhost:3306/bidapp, lastAcquisitionFailureDefaultUser -> null, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 1800, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 20, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 5, numHelperThreads -> 3, numThreadsAwaitingCheckoutDefaultUser -> 0, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false ]] of Hibernate SessionFactory for HibernateTransactionManager
Feb 26, 2013 11:35:36 PM org.springframework.web.context.ContextLoader initWebApplicationContext
INFO: Root WebApplicationContext: initialization completed in 183726 ms
Feb 26, 2013 11:35:36 PM org.apache.catalina.core.ApplicationContext log
INFO: Initializing Spring FrameworkServlet 'bidapp'
Feb 26, 2013 11:35:36 PM org.springframework.web.servlet.FrameworkServlet initServletBean
INFO: FrameworkServlet 'bidapp': initialization started
Feb 26, 2013 11:35:36 PM org.springframework.context.support.AbstractApplicationContext prepareRefresh
INFO: Refreshing WebApplicationContext for namespace 'bidapp-servlet': startup date [Tue Feb 26 23:35:36 EST 2013]; parent: Root WebApplicationContext
Feb 26, 2013 11:35:36 PM org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider registerDefaultFilters
INFO: JSR-330 'javax.inject.Named' annotation found and supported for component scanning
Feb 26, 2013 11:35:36 PM org.springframework.web.context.support.AnnotationConfigWebApplicationContext loadBeanDefinitions
INFO: Registering annotated classes: [class com.bidapp.bootstrap.AppServletContext]
Feb 26, 2013 11:35:37 PM org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider registerDefaultFilters
INFO: JSR-330 'javax.inject.Named' annotation found and supported for component scanning
Feb 26, 2013 11:35:40 PM org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor <init>
INFO: JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
Feb 26, 2013 11:35:42 PM org.springframework.beans.factory.support.DefaultListableBeanFactory preInstantiateSingletons
INFO: Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@2c8ff601: defining beans [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,appServletContext,org.springframework.context.annotation.ConfigurationClassPostProcessor$ImportAwareBeanPostProcessor#0,accountController,auctionController,indexPagesController,delegatingWebMvcConfiguration,requestMappingHandlerMapping,viewControllerHandlerMapping,beanNameHandlerMapping,resourceHandlerMapping,defaultServletHandlerMapping,requestMappingHandlerAdapter,mvcConversionService,mvcValidator,httpRequestHandlerAdapter,simpleControllerHandlerAdapter,handlerExceptionResolver]; parent: org.springframework.beans.factory.support.DefaultListableBeanFactory@6393d737
Feb 26, 2013 11:35:52 PM org.springframework.web.servlet.handler.AbstractHandlerMethodMapping registerHandlerMethod
...Controller handler method mappings 
```

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-02-27T05:29:18.350

Singleton 保证 Spring 容器内的单个实例。这意味着您可以拥有与`singleton`容器一样多的实例（即使它们使用相同的 JVM 类加载器）。请参阅[单例范围和](http://static.springsource.org/spring/docs/3.2.1.RELEASE/spring-framework-reference/html/beans.html#beans-factory-scopes-singleton)[单例设计模式与单例 Bean](https://stackoverflow.com/questions/2637864/singleton-design-pattern-vs-singleton-beans-in-spring-container)的答案

在您的情况下，您正在实例化两个上下文 - rootContext 和 servletContext ，它们是来自日志语句。

如果您想拥有每个单例的单个实例 - 您可以合并这两个上下文。

* * *

说明这种行为的小型 java 类（对奇怪的代码格式表示歉意 - 想让它更简洁）：

```
package singleton;

import java.util.UUID;

import org.springframework.context.annotation.AnnotationConfigApplicationContext;
import org.springframework.context.annotation.ComponentScan;
import org.springframework.context.annotation.Configuration;
import org.springframework.stereotype.Component;

public class AppMain {

    public static void main(String[] args) {
        final AnnotationConfigApplicationContext rootContext = new AnnotationConfigApplicationContext();
        rootContext.register(AppRootContext.class);
        rootContext.refresh();

        final AnnotationConfigApplicationContext servletContext = new AnnotationConfigApplicationContext();
        servletContext.register(AppServletContext.class);
        servletContext.refresh();

        final Singleton one = (Singleton) rootContext.getBean("singleton");
        final Singleton andAnotherOne = (Singleton) servletContext.getBean("singleton");

        System.out.println("Singletons are " + (one.ID.equals(andAnotherOne.ID) ? "equal" : "different"));
    }
}

@Component
class Singleton {public String ID = UUID.randomUUID().toString();}

@Configuration
@ComponentScan(basePackages = { "singleton" })
class AppRootContext {}

@Configuration
@ComponentScan(basePackages = { "singleton" })
class AppServletContext {} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-11-24T16:07:26.557

有两种类型的上下文，一种是根上下文，另一种是 Web 应用程序上下文。

如果在扩展 AbstractAnnotationConfigDispatcherServletInitializer 类的 WebAppInitalizer 中，请确保

您覆盖以下方法并确保在两个方法中不重复类定义。

@Override protected Class[] getServletConfigClasses() { return new Class[] { MvcConfig.class}; }

```
@Override
protected Class<?>[] getRootConfigClasses() {
    return new Class[] {RooTContextAppConfig.class };
} 
```

# android - ActionbarSherlock 动态文本叠加

> ID：15060423
> 
> 赞同：0
> 
> 时间：2013-02-25T05:00:56.890
> 
> 标签：android, overlay, android-actionbar, actionbarsherlock, android-theme

我正在开发一个全屏显示照片的应用程序。每张照片都有一个标题/描述，当点击照片时将显示为透明覆盖，例如蒙娜丽莎绘画照片，当点击它时，将显示其历史事实的覆盖（从底部向上滚动），再次点击以隐藏。

最好的方法是什么？我正在使用 Actionbar Split-action 底部菜单，但是否有更好/更少的过度杀伤方式，因为它不是“动作”，并且底部栏的高度会根据标题的大小动态变化吗？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T07:08:05.113

我最终使用基于 Ahmad Al-Kayyali 的第三条评论的 TextView 与 ImageView 方法合并。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T18:30:40.597

为什么不使用这个技巧来实现你的目标[Android 布局技巧#3：通过合并进行优化](http://android-developers.blogspot.com/2009/03/android-layout-tricks-3-optimize-by.html)

```
<merge xmlns:android="http://schemas.android.com/apk/res/android">

<ImageView  
    ... />

<TextView
 ... /> 
```

# android - Android中的标题边框？

> ID：15060425
> 
> 赞同：3
> 
> 时间：2013-02-25T05:01:23.870
> 
> 标签：android, border, shapes

我们可以`shape`用来创建一个简单的边框，例如我在[这里](http://zaman91.wordpress.com/2010/12/30/android-how-to-create-rounded-border-or-background/)看到了这段代码：

```
<?xml version="1.0" encoding="utf-8"?>
<layer-list xmlns:android="http://schemas.android.com/apk/res/android">
    <item>
        <shape android:shape="rectangle">
            <corners android:radius="5dip" />
            <solid android:color="@color/black" />
            <stroke android:width="2dip" android:color="@color/white" />
        </shape>
    </item>
</layer-list> 
```

但我需要一个标题如下图的边框：

![在此处输入图像描述](../Images/53feee70e46715c9e23fb4e9708989ce.png)

我怎么能这样做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T07:35:37.500

现在我在这里找到了一个可以帮助我的好代码。我[在这里](https://stackoverflow.com/questions/14636799/how-to-create-a-titled-border-in-android)添加代码：

```
<?xml version="1.0" encoding="utf-8"?>
<FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="fill_parent"
android:layout_height="fill_parent" 
android:color="#000000">
<View
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:background="@drawable/rectangle"
    android:layout_margin="20dp"
    />
<RelativeLayout
    android:layout_width="fill_parent"
    android:layout_height="fill_parent">
    <TextView 
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_centerHorizontal="true"
        android:background="#000000"
        android:layout_marginTop="10dp"
        android:text="TITLE!"
        android:textColor="#ffffff"/>
</RelativeLayout> 
```

@drawable/rectangle 位于一个可绘制的 rectangle.xml 文件中，如下所示：

```
<?xml version="1.0" encoding="utf-8"?>
<shape xmlns:android="http://schemas.android.com/apk/res/android" 
    android:shape="rectangle">
<solid android:color="@android:color/transparent"/>
<stroke  android:width="2dip" android:color="#ffffff"/>  
</shape> 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-02-25T05:35:57.220

尝试以下代码并在应用程序的`res/drawable`文件夹中创建 xml 文件并粘贴以下代码：

> ```
>  <?xml version="1.0" encoding="utf-8"?>
>   <shape xmlns:android="http://schemas.android.com/apk/res/android"
>     android:shape="rectangle" >
> <corners android:radius="3dp" />
> <solid android:color="#00000000" />
> <stroke
>     android:width="2dp"
>     android:color="#1B455F" />
>   <padding android:left="5dp"
>     android:top="5dp"
>     android:right="5dp"
>     android:bottom="5dp"/>
> </shape> 
> ```

您可以根据自己的方便通过更改描边颜色来更改边框颜色。

使用上面的 xml 如下： 这里我尝试在 TextView 上设置边框。

> ```
> <TextView
>     android:id="@+id/textView1"
>     android:layout_width="wrap_content"
>     android:layout_height="wrap_content"
>     android:background="@drawable/border"
>     android:text="@string/hello_world" /> 
> ```

我希望它会帮助你。

谢谢。

# jquery - 如何从 jquery 中的 json 中提取嵌套对象

> ID：15060427
> 
> 赞同：0
> 
> 时间：2013-02-25T05:01:30.320
> 
> 标签：jquery, html

我有这个 jquery 代码提取从 url 获取 josn 并放入 html 表

```
$(document).ready(function() {

    $.getJSON('/api/students/2/?format=json', function(data) {
        var items = [];

        $.each(data, function(key, val) {
        items.push('<tr><td>' +key+'</td><td>' + val + '</td></tr>');
        });

        $(items.join('')).appendTo('table');

    });

}); 
```

这可以很好地加载第一级对象，但我有许多嵌套级别。我有json里面的所有数据。目前它显示`object[]`，但我想显示它的子元素，如下所示

像

`studnets`有`semester`然后`subjects`，然后`assignments`

我想将它们嵌套在自己的表中的主表中，如下所示

```
<table>
<tr><td>student name  </td></tr>
          <tr><td>semesters  
             <table>
                   <tr><td> subjects 
                                <table><tr><td> Assigments 
```

这样我就可以在一页中获得整个数据的详细视图。

这看起来像越野车，但我无法找到更好的方式来表示学生数据

编辑

示例 json 数据

```
{
    "id": 2,
    "name": "John",
    "terms": [
        {
            "id": 26,
            "name":"summer"
            "date": "2013-02-18",
            "subjects_set": [
                {
                    "id": 10,
                    "name": "math",
                    "gb_type": [ ],
                    "assignment_set": [
                        {
                            "id": 2,
                            "name": "assignment_level_1",
                            "documents": [ ]
                        }
                    ] 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T05:42:11.383

由于`html`您尝试实现的输出/结构有点复杂，我将把 html 字符串附加/连接部分留给您。至于访问`json`值，请参阅下面的代码：

```
$.getJSON('/api/students/2/?format=json', function (data) {
    var items = [];    
    //To get student name
    var studentName = data.name;    
    var semester, subject, assignment;
    $.each(data.terms, function () {
        semester = this;
        //to get semester name and date
        var semesterName = semester.name,
            semesterDate = semester.date;
        $.each(semester.subjects_set, function(){
            subject = this;
            //to get subject name
            var subjectName = subject.name;                
            $.each(subject.assignment_set, function(){
                assignment = this;
                //to get assignment name
                var assignmentName = assignment.name;     
            });
        });        
    });
    //$(items.join('')).appendTo('table');
}); 
```

您需要在该`$.each`部分中编写 html 字符串连接代码。但是，如果您在字符串连接方面遇到困难，只需向我显示所需的`html`输出，我也可以提供帮助。

# iphone - 如何在按钮操作上退出 iPhone 应用程序？

> ID：15060430
> 
> 赞同：-3
> 
> 时间：2013-02-25T05:01:31.670
> 
> 标签：iphone, ios, objective-c, ios6

当我点击退出按钮时，我希望我的应用程序退出。我用过`exit(0)`，但苹果拒绝了我的申请。有哪些替代解决方案？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-25T05:04:23.253

`From apple doc...`

> # [**不要以编程方式退出**](http://developer.apple.com/library/ios/#documentation/userexperience/conceptual/mobilehig/UEBestPractices/UEBestPractices.html)
> 
> * * *
> 
> 永远不要以编程方式退出 iOS 应用程序，因为人们倾向于将其解释为崩溃。但是，如果外部环境阻止您的应用程序按预期运行，您需要告诉您的用户这种情况并解释他们可以做些什么。根据应用程序故障的严重程度，您有两种选择。
> 
> **显示一个有吸引力的屏幕，描述问题并提出更正建议**。屏幕会提供反馈，让用户确信您的应用没有任何问题。它让用户可以控制，让他们决定是否要采取纠正措施并继续使用您的应用程序，或者按下主页按钮并打开另一个应用程序
> 
> **如果只有部分应用功能不可用，请在人们使用该功能时显示屏幕或提醒**。仅当人们尝试访问不起作用的功能时才显示警报。`

[如何以编程方式退出我的 iOS 应用程序？](http://developer.apple.com/library/ios/#qa/qa1561/_index.html)

# php - 在页面循环内嵌套 Wordpress 后循环

> ID：15060432
> 
> 赞同：0
> 
> 时间：2013-02-25T05:01:54.907
> 
> 标签：php, wordpress

制作单页 Wordpress 主题。使用此循环调用所有页面并将它们显示为部分（html5 标记）：

```
<?php
$args = array(
    'post_type' => array( 'page' ),
    'post_status' => array( 'publish' ),
    'orderby' => 'menu_order',
    'order' => 'asc'
);
query_posts( $args );

if (have_posts()) : while (have_posts()) : the_post();?>
    <section id="<?php echo $post->post_name; ?>" class="<?php echo $post->post_name; ?>">
        <div class="inner clearfix">
            <?php the_content(__('(more...)')); ?>
        </div>
    </section> 
<?php endwhile; else: ?>
    <p>Sorry, no pages matched your criteria.</p>
<?php endif; ?> 
```

这会基于页面创建一个不错的小部分循环。我唯一担心的是：这些“页面”/部分之一应该显示一些博客文章。寻找一种在循环中创建循环的方法——可以与页面一起重新排序。

所以我想我的问题是：

*   这段代码可能是什么样子？
*   将这段代码放在 wordpress 页面编辑器中的文本编辑器中是完全错误的吗？这似乎是错误的，但我想不出其他方法。

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2020-07-29T04:02:48.893

WordPress has this functionality built-in. See [documentation](https://codex.wordpress.org/The_Loop#Nested_Loops).

# button - 更改颜色剑道 ui 按钮

> ID：15060436
> 
> 赞同：3
> 
> 时间：2013-02-25T05:02:21.990
> 
> 标签：button, kendo-ui, telerik

我需要更改 Kendo ui 产品中按钮的颜色。请指教。谢谢

这是我的代码：

```
<form method="post" action='@Url.Action("Index")' style="width:45%">
    <div>
        @(Html.Kendo().Upload()
                    .HtmlAttributes(new { @Style = "align:center; font-size:12px" })     
                    .Name("FileUpload")
                    .Multiple(false)
                    .Events(ev => ev.Success("onSuccess"))
        )
        <input type="submit" id="btnSubmit" value="Import" style="height:33px; font-size:14px" class="k-button" />
    </div>
</form> 
```

我试图改变 k-button 类，但没有任何改变。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-25T13:56:53.337

您正在使用 Kendo UI Web 框架，并且其中没有定义按钮小部件。按钮小部件仅适用于 kendo UI Mobile 框架。k-button 类将不起作用，因为 Kendo 忽略了该元素。因此，您需要像往常一样使用 CSS 或内联样式设置按钮样式。`<input type="submit" style="background:red">`

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2014-02-23T02:44:49.597

这是一个自定义 CSS 类的[JSFiddle](http://jsfiddle.net/zacharydl/4QezZ/)来完成此操作。您基本上必须处理渐变和将其删除的悬停。我有通过附加`.k-state-disabled`类来禁用按钮的情况。如果您不需要禁用按钮的功能，请删除第三个样式块。

```
.primary {
    background-color: #64a1d5;
    background-image: linear-gradient(to bottom, #64a1d5, #428bca);
    color: #fff;
    border-color: #428bca;
    min-width: 70px;
}

    .primary:hover {
        background-color: #428bca;
        color: #fff;
        border-color: #428bca;
    }

    .primary.k-state-disabled, .primary.k-state-disabled:hover {
        background-color: #8dc5e1;
        color: #fff;
    } 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-07-10T19:46:14.260

Web Kendo UI 框架不公开按钮小部件，但您可以通过定义带有类 k-button 的链接来使用它：

```
<a id="btnSubmit" class="k-button" value="Import" /> 
```

现在您可以使用 ak 按钮选择器以任何方式设置样式：

```
a.k-button {
   height: 33px;
   font-size: 14px;
   margin: 5px;
   text-decoration: none;
   background-color: #2c2c2c;
} 
```

# javascript - 强制从数据列表或等效项（文本输入）中选择

> ID：15060438
> 
> 赞同：1
> 
> 时间：2013-02-25T05:02:33.873
> 
> 标签：javascript, jquery, html, twitter-bootstrap

以下代码用于订购项目，它允许用户自由输入，但它包含从我的数据库填充的数据列表，因此如果他们开始输入其中一个项目，它将弹出。我想强制文本输入只接受来自数据库的项目。我怎样才能做到这一点？

```
<input id="prevName" type="text" list="menuItems">
    <datalist id="menuItems">
        {% for item in menuItems %}
        <option>{{item.name}}</option>
        {% endfor %}
    </datalist>
</input> 
```

自动完成或其他更适合？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T06:25:54.483

您应该使用[Chosen](http://harvesthq.github.com/chosen/)而不是它，因为即使是 bootstrap 的 typehead 插件也不能满足您的需求。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T05:08:10.583

`Autocomplete`总是更适合于此，因为您始终可以针对用户输入的无效条目进行验证，并且您还可以强制文本输入接受数据库将提供给用户的内容。

# python - Flask-Security 中的重置密码功能不起作用

> ID：15060440
> 
> 赞同：1
> 
> 时间：2013-02-25T05:02:41.393
> 
> 标签：python, flask, flask-sqlalchemy, flask-security

我正在尝试在 Flask-Security 模块中使用默认的忘记密码功能，而无需自定义。在忘记密码视图中，我输入我的电子邮件地址，单击恢复密码并成功收到重置密码电子邮件。当我单击电子邮件中的链接时，我会按预期转到“重置密码”视图。当我尝试输入新密码并提交时，我得到了这个堆栈跟踪：

```
Traceback (most recent call last):
  File "/opt/virtualenvs/project/local/lib/python2.7/site-packages/flask/app.py", line 1701, in __call__
    return self.wsgi_app(environ, start_response)
  File "/opt/virtualenvs/project/local/lib/python2.7/site-packages/flask/app.py", line 1689, in wsgi_app
    response = self.make_response(self.handle_exception(e))
  File "/opt/virtualenvs/project/local/lib/python2.7/site-packages/flask/app.py", line 1687, in wsgi_app
    response = self.full_dispatch_request()
  File "/opt/virtualenvs/project/local/lib/python2.7/site-packages/flask/app.py", line 1360, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/opt/virtualenvs/project/local/lib/python2.7/site-packages/flask/app.py", line 1358, in full_dispatch_request
    rv = self.dispatch_request()
  File "/opt/virtualenvs/project/local/lib/python2.7/site-packages/flask/app.py", line 1344, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/opt/virtualenvs/project/local/lib/python2.7/site-packages/flask_security/decorators.py", line 171, in wrapper
    return f(*args, **kwargs)
  File "/opt/virtualenvs/project/local/lib/python2.7/site-packages/flask_security/views.py", line 264, in reset_password
    update_password(user, form.password.data)
  File "/opt/virtualenvs/project/local/lib/python2.7/site-packages/flask_security/recoverable.py", line 78, in update_password
    _datastore.put(user)
  File "/opt/virtualenvs/project/local/lib/python2.7/site-packages/flask_security/datastore.py", line 31, in put
    self.db.session.add(model)
  File "/opt/virtualenvs/project/local/lib/python2.7/site-packages/sqlalchemy/orm/scoping.py", line 149, in do
    return getattr(self.registry(), name)(*args, **kwargs)
  File "/opt/virtualenvs/project/local/lib/python2.7/site-packages/sqlalchemy/orm/session.py", line 1371, in add
    self._save_or_update_state(state)
  File "/opt/virtualenvs/project/local/lib/python2.7/site-packages/sqlalchemy/orm/session.py", line 1383, in _save_or_update_state
    self._save_or_update_impl(state)
  File "/opt/virtualenvs/project/local/lib/python2.7/site-packages/sqlalchemy/orm/session.py", line 1639, in _save_or_update_impl
    self._update_impl(state)
  File "/opt/virtualenvs/project/local/lib/python2.7/site-packages/sqlalchemy/orm/session.py", line 1633, in _update_impl
    self._attach(state)
  File "/opt/virtualenvs/project/local/lib/python2.7/site-packages/sqlalchemy/orm/session.py", line 1721, in _attach
    state.session_id, self.hash_key))
sqlalchemy.exc.InvalidRequestError: Object '<User at 0xa362a4c>' is already attached to session '33' (this is '34') 
```

有人能帮忙吗？

我正在使用：Flask==0.9，Flask-SQLAlchemy==0.16，Flask-Security==1.5.4

# javascript - Java 脚本不执行

> ID：15060446
> 
> 赞同：0
> 
> 时间：2013-02-25T05:02:59.480
> 
> 标签：javascript, html

在获取请求发送密码匹配之前，我有以下 html 表单使用 js 完成，但 js 无法正常工作

```
<html>
<title>Login System</title>
<head>
<script type="text/javascript">
function match()
{
var s1=document.getElementById('t4').value;
var s2=document.getElementById('t5').value;
if (s1 == s2)
{
alert('yep');
}
else
{
alert('Passwords Does not Match');
}
}
</script>
</head>
<style type="text/css">
div.ex {
width:220px;
padding:10px;
border:5px solid gray;
margin:10px;
}
</style>

<body>
<div class="ex">
<strong>User Login</strong>
<form name=f1 method=get action="http://localhost:8080/login">
User &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<input type=text name=t1><br>
Password <input type=password name=t2><br>
<input type=submit name=sub value="Login">
</form>
</div>
<div class="ex">
<strong>User Registration</strong>
<form name=f2 method=get action="http://localhost:8080/login">
User Name &nbsp&nbsp&nbsp&nbsp&nbsp<input type=text name=t3><br>
Password <input type=password name=t4><br>
Password <input type=password name=t5><br>
<input type=submit name=sub value="reg" onclick='match();'>
</form>
</div>

</body>
</html> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-25T05:05:35.967

`getElementById`查找`id`属性，而不是`name`您在上面使用的属性。

改变：

```
Password <input type=password name=t4><br> 
```

至

```
Password <input type=password name=t4 id='t4'><br> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-25T05:08:43.743

这是因为你刚刚给出了 then`name`属性

```
Password <input type=password name=t4><br>
Password <input type=password name=t5><br> 
```

做了

```
Password <input type=password name=t4 id=t4><br>
Password <input type=password name=t5 id=t5><br> 
```

`name`同时给出和是一个好习惯`id`。帮助你，它不会失败:)
js 将采用`id`（作为您的代码）并且`request`对象将采用`name`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-25T05:18:57.133

尝试这个：

```
<html>
<title>Login System</title>
<head>
<script type="text/javascript">
function match()
{
    var s1=document.getElementById('t4').value;
    var s2=document.getElementById('t5').value;

    if(s1!="" && s2!="")
    {
        if (!(s1 == s2))
        {
            alert('Passwords does not Match');
            return false;
        }
    }
    else
    {
        alert("Please enter password");
        return false;
    }
}
</script>
</head>
<style type="text/css">
div.ex {
    width:220px;
    padding:10px;
    border:5px solid gray;
    margin:10px;
}
</style>

<body>
    <div class="ex">
        <strong>User Login</strong>
        <form name=f1 method=get action="http://localhost:8080/login">
            User &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<input type=text name=t1><br>
            Password <input type=password name=t2 /><br />
            <input type=submit name=sub value="Login" />
        </form>
    </div>
    <div class="ex">
        <strong>User Registration</strong>
        <form name=f2 method=get action="http://localhost:8080/login" onsubmit="return match();">
        User Name &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type=text name='t3' id='t3'><br>
        Password <input type=password name='t4' id='t4' /><br />
        Password <input type=password name='t5' id='t5' /><br />
        <input type=submit name=sub value="reg" />
</form>
</div>

</body>
</html> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-25T05:27:14.510

您也可以通过不 chanidn 文本框仅更改以下代码来尝试此操作

```
var s1=document.getElementByName('t4');
var s2=document.getElementByName('t5'); 
```

这也将帮助您获得这些值。

# c# - 将 DB 值映射到 Enum

> ID：15060447
> 
> 赞同：1
> 
> 时间：2013-02-25T05:03:01.740
> 
> 标签：c#, asp.net-mvc-4, enums

`Enum`我从 db 表创建了一个新类，该类`Role`具有`RoleId`和`RoleType`.

```
public enum UserType
{
    Student = 1,
    Teacher = 4
    Admin = 5 
} 
```

这里 1,4,5 是来自 db 的 RoleId(Primary Key)。我所做的是手动查找每个角色的 db 主键值并将其映射到`enum`.

这里的缺点是每次我需要`enum`在 db`RoleId`更改时更新类。

是否有任何其他标准做法将数据库值映射为`enum`集合？

任何建议都会有所帮助

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-25T06:13:36.643

最近，我一直面临同样的问题。一种可能的解决方案是使用 T4 模板（代码生成）。您可以实现一些自定义逻辑来选择表和描述/值列。像这样的东西

```
 //Start write enum file:        
    #>
    namespace <#=enumNameSpace#>
    {
        public enum <#=enumName#>Enum
        {
        <#
          command.CommandText = string.Format("SELECT * FROM {0}",TABLE_NAME_GOES_HERE);
          var columnReader = command.ExecuteReader();
          while (columnReader.Read())
          {#>   
               <#=columnReader[DESCRIPTION_COLUMN_NAME].ToString()#> = <#=columnReader[VALUE_COLUMN_NAME].ToString()#>,
          <#    
          }#>
        }
    }
    <# 
```

您可以在这篇精彩的[文章中阅读更多内容](http://www.codeproject.com/Articles/417283/Creating-Enums-from-Database-Lookup-Tables)

# java - 从字节数组创建文件对象时指定文件名（不创建物理文件）

> ID：15060448
> 
> 赞同：1
> 
> 时间：2013-02-25T05:03:10.200
> 
> 标签：java, file-io, jakarta-mail

[我遇到了与此](https://stackoverflow.com/questions/578305/create-a-java-file-object-or-equivalent-using-a-byte-array-in-memory-without/15023104#15023104)完全相同的问题， 并且通过发布的解决方案，我能够解决我的问题。但是现在的问题是，当收到附件时，它没有名称。在我的方法中，我要求提供文件的接收者的电子邮件 ID、主题、内容、文件名和字节 []。我传递的文件格式没有问题，但问题在于名称。收件人将“noname”作为文件名。我们如何指定我们选择的文件名。我作为参数传递的文件名没有得到反映。请建议。

我正在使用的代码是

```
File file = new File("D:/my docs/Jetty.pdf");
int len1 = (int)(file.length());
FileInputStream fis1 = null;
try {
    fis1 = new FileInputStream(file);
} catch (FileNotFoundException e) {
    e.printStackTrace();
}
byte buf1[] = new byte[len1];
try {
    fis1.read(buf1);
    EmailServiceClient.sendEmailWithAttachment("xyz@gmail.com", "abc@gmail.com", "Hi", "PFA", "Jetty.pdf", buf1);

    System.out.println("SENT");
} catch (IOException e) {
    // TODO Auto-generated catch block
    e.printStackTrace();
} 
```

我的电子邮件服务实现在这里

```
public void sendEmailWithAttachment(String emailIdTo, String emailIdFrom, String subject, String content,
    final String fileName, byte[] file) {
MimeMessage message = mailSender.createMimeMessage();
try {
    MimeMessageHelper helper = new MimeMessageHelper(message, true);
    helper.setTo(emailIdTo);
    helper.setFrom(emailIdFrom);
    helper.setSubject(subject);
    helper.setText(content, true);
    helper.addInline("attachment", new ByteArrayResource(file) {
        @Override
        public String getFilename() {
            return fileName;
        }
    });
    mailSender.send(message);
} catch (MessagingException e) {
    throw new MailParseException(e);
}} 
```

请有人帮助解决这个问题

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T05:06:30.130

从 Spring 文档中，我可以说内联元素除了 contentId 之外没有特殊名称。也许您想使用 addAttachment 方法添加附件？然后你可以为你的文件命名。

[http://static.springsource.org/spring/docs/2.0.x/api/org/springframework/mail/javamail/MimeMessageHelper.html](http://static.springsource.org/spring/docs/2.0.x/api/org/springframework/mail/javamail/MimeMessageHelper.html)

# paypal - 使用 Wireshark 查看 Paypal 请求

> ID：15060449
> 
> 赞同：0
> 
> 时间：2013-02-25T05:03:19.733
> 
> 标签：paypal, wireshark

这可能吗，我尝试通过 HTTP 和 SSL 进行过滤，但没有运气。在 SSL 中有很多请求。

我也尝试过 HTTPS，但甚至不是协议。

我正在通过 Ruby Gem 发出请求，这有关系吗？

也许在另一点调试请求更好。你会建议我什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-25T09:07:05.730

你是对的，“HTTPS”不是协议。相反，它是在 SSL 协议之上传输的 HTTP 协议。

为了查看 SSL 上传输的内容，您需要提供足够的信息以允许 Wireshark（或您正在使用的*任何*数据包嗅探器，如果它甚至*支持*剖析 SSL）解密 SSL；SSL 存在的原因之一是难以用数据包分析器读取它！

有关如何让 Wireshark 尝试解密 SSL 流量的更多信息，请参阅[SSL 的 Wireshark Wiki 页面。](http://wiki.wireshark.org/SSL)

> 也许在另一点调试请求更好。

如果您从浏览器发出 Paypal 请求，您的浏览器可能有一个插件，可以在 HTTP 流量通过 SSL 加密*之前捕获它。*我认为[FiddlerCap](http://www.fiddlercap.com/FiddlerCap/)是 Internet Explorer 的一个插件。[可能还有其他一些工具可以做到这一点](https://www.google.com/search?client=safari&rls=en&q=web%20browser%20traffic%20capture%20plugin&ie=UTF-8&oe=UTF-8)。

# java - 使用 JavaMail 读取邮件

> ID：15060450
> 
> 赞同：0
> 
> 时间：2013-02-25T05:03:20.437
> 
> 标签：java, jakarta-mail

尝试使用 JavaMail 阅读邮件时出现此错误。请让我知道如何解决此错误。我已将*activation.jar*和*mail.jar*添加到eclipse 中。

```
DEBUG POP3: server doesn't support TOP, disabling it
javax.mail.AuthenticationFailedException: Command is not valid in this state.
at com.sun.mail.pop3.POP3Store.protocolConnect(POP3Store.java:174)
at javax.mail.Service.connect(Service.java:291)
at javax.mail.Service.connect(Service.java:172)
at library.VerifyEmail.main(VerifyEmail.java:40) 
```

下面是我正在尝试的代码：

```
package library;

import java.io.IOException;
import java.util.Properties;
import javax.mail.Folder;
import javax.mail.Message;
import javax.mail.MessagingException;
import javax.mail.NoSuchProviderException;
import javax.mail.Session;
import com.sun.mail.pop3.POP3Store;

import java.util.*;
import javax.mail.*;
import javax.mail.internet.*;
import javax.mail.search.SubjectTerm;
import javax.activation.*;
import java.io.*;
public class VerifyEmail {
public static void main(String[] args) throws Exception {
     // SUBSTITUTE YOUR ISP's POP3 SERVER HERE!!!
    String host = "myhost";
    // SUBSTITUTE YOUR USERNAME AND PASSWORD TO ACCESS E-MAIL HERE!!!
    String user = "myuser";
    String password = "mypass";

 // Get a session.  Use a blank Properties object.
    Session session = Session.getInstance(new Properties());
    try {
        // Get a Store object
        Store store = session.getStore("pop3");
        store.connect(host, user, password);

        // Get "INBOX"
        Folder fldr = store.getFolder("INBOX");
        fldr.open(Folder.READ_WRITE);
        int count = fldr.getMessageCount();
        System.out.println(count  + " total messages");

        // Message numebers start at 1
        for(int i = 1; i <= count; i++) {
            // Get  a message by its sequence number
            Message m = fldr.getMessage(i);
         // Get some headers
            Date date = m.getSentDate();
            Address [] from = m.getFrom();
            String subj = m.getSubject();
            String mimeType = m.getContentType();
            System.out.println(date + "\t" + from[0] + "\t" +
                                subj + "\t" + mimeType);
        }

    }catch (MessagingException  ioex) {
        ioex.printStackTrace();
    }
}
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2015-08-05T07:48:48.293

当您收到**javax.mail.AuthenticationException**时，这意味着您的应用程序无法对邮件服务器进行身份验证。

一个可能的原因可能是客户端密钥库中缺少邮件服务器的 SSL 证书。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T07:13:41.290

According to [microsoft](http://social.technet.microsoft.com/Forums/en-US/exchange2010/thread/fa3a54e9-de9e-4e94-8b5f-eb96631f56fb/): *For exchange 2010, by default, the server would need the client use ssl for pop3.* Without ssl the server responds with "*ERR command is not valid in this state.*"

Here's how to use javamail with ssl - [Javamail and Gmail Pop3 SSL](https://stackoverflow.com/questions/10352718/javamail-and-gmail-pop3-ssl)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-08-14T10:16:32.477

**DEBUG POP3：服务器不支持 TOP，禁用它** 可以通过将 java 邮件 jar 版本更新为 1.4.4 来禁用此消息

# reddit - Reddit API by_id 请求问题

> ID：15060452
> 
> 赞同：-1
> 
> 时间：2013-02-25T05:03:43.477
> 
> 标签：reddit

我正在尝试将一批链接 ID 发送到 reddit api。我的一些身份证没有在回复中回来。此外，结果中的某些帖子不在原始请求中。我的请求有问题吗？

[https://snap.apigee.com/W5wmLi](https://snap.apigee.com/W5wmLi)

如果您专门查找此 ID `t3_195m70`，则它在请求中，但不在响应中。请求中有 25 个 id，响应中有 25 个。

我很困惑。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T19:33:29.660

> 请求中有 25 个 id，响应中有 25 个。

请求中有 44 个 id。reddit 默认将您的请求限制为 25 个项目。`?limit=100`如果您添加到 URL 的末尾，则该限制最多可以扩展到 100 个。如果您需要处理超过 100 个项目，则需要发出多个请求。

> 此外，结果中的某些帖子不在原始请求中

情况似乎并非如此。

# php - PHP：首先对文件夹进行排序，然后对文件进行排序

> ID：15060453
> 
> 赞同：8
> 
> 时间：2013-02-25T05:03:54.103
> 
> 标签：php, sorting, directory

```
$dir = '/master/files';
$files = scandir($dir);
foreach($files as $file){
   if(($file != '.') && ($file != '..')){
      if(is_dir($dir.'/'.$file)){
         echo '<li class="folder">'.$file.'</li>';
      }else{
         echo '<li class="file">'.$file.'</li>';
      }
   }
} 
```

从上面的脚本，我得到结果：

```
images (folder)
index.html    
javascript (folder)
style.css 
```

如何先对文件夹排序，再对文件排序？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-25T05:07:37.523

试试这个 ：

```
$dir = '/master/files';
$directories = array();
$files_list  = array();
$files = scandir($dir);
foreach($files as $file){
   if(($file != '.') && ($file != '..')){
      if(is_dir($dir.'/'.$file)){
         $directories[]  = $file;

      }else{
         $files_list[]    = $file;

      }
   }
}

foreach($directories as $directory){
   echo '<li class="folder">'.$directory.'</li>';
}
foreach($files_list as $file_list){
   echo '<li class="file">'.$file_list.'</li>';
} 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-25T05:07:23.310

你不需要做 2 个循环，你可以用这段代码来完成这项工作：

```
<?php

function scandirSorted($path) {

    $sortedData = array();
    foreach(scandir($path) as $file) {

        // Skip the . and .. folder
        if($file == '.' || $file == '..')
            continue;            

        if(is_file($path . $file)) {
            // Add entry at the end of the array
            array_push($sortedData, '<li class="folder">' . $file . '</li>');
        } else {
            // Add entry at the begin of the array
            array_unshift($sortedData, '<li class="file">' . $file . '</li>');
        }
    }
    return $sortedData;
}

?> 
```

此函数将返回您的路径条目列表，首先是文件夹，然后是文件。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-02-25T05:08:20.960

尽可能少地修改你的代码：

```
$folder_list = "";
$file_list = "";
$dir = '/master/files';
$files = scandir($dir);
foreach($files as $file){
   if(($file != '.') && ($file != '..')){
      if(is_dir($dir.'/'.$file)){
         $folder_list .= '<li class="folder">'.$file.'</li>';
      }else{
         $file_list .= '<li class="file">'.$file.'</li>';
      }
   }
}

print $folder_list;
print $file_list; 
```

这只循环遍历所有内容一次，而不需要多次遍历。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2014-01-12T10:26:05.200

我有一个 N 深度递归目录扫描的解决方案：

```
function scanRecursively($dir = "/") {
    $scan = array_diff(scandir($dir), array('.', '..'));
    $tree = array();
    $queue = array();
    foreach ( $scan as $item ) 
        if ( is_file($item) ) $queue[] = $item;
        else $tree[] = scanRecursively($dir . '/' . $item);
    return array_merge($tree, $queue);
} 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-02-25T05:09:03.060

将输出存储在 2 个数组中，然后遍历数组以正确的顺序输出它们。

```
$dir = '/master/files';

$contents = scandir($dir);

// create blank arrays to store folders and files
$folders = $files = array();

foreach ($contents as $file) {

    if (($file != '.') && ($file != '..')) {

        if (is_dir($dir.'/'.$file)) {

            // add to folders array
            $folders[] = $file;

        } else {

            // add to files array
            $files[] = $file;

        }
    }
}

// output folders
foreach ($folders as $folder) {

    echo '<li class="folder">' . $folder . '</li>';

}

// output files
foreach ($files as $file) {

    echo '<li class="file">' . $file . '</li>';

} 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2017-05-29T16:03:57.017

作为 CodeIgniter 的爱好者，我实际上已经修改了核心**directory_helper**，使其除了设置深度和选择是否应包含隐藏文件之外，还包括使某些文件免于扫描的能力。

> 所有功劳归于 CI 的原作者。我只是用豁免数组添加到它并在排序中构建。

它使用 ksort 对文件夹进行排序，因为文件夹名称被设置为键，而 natsort 对每个文件夹中的文件进行排序。

您可能需要做的唯一一件事就是为您的环境定义 DIRECTORY_SEPARATOR 是什么，但我认为您不需要修改太多其他内容。

```
function directory_map($source_dir, $directory_depth = 0, $hidden = FALSE, $exempt = array())
{
    if ($fp = @opendir($source_dir))
    {
        $folddata   = array();
        $filedata   = array();
        $new_depth  = $directory_depth - 1;
        $source_dir = rtrim($source_dir, DIRECTORY_SEPARATOR).DIRECTORY_SEPARATOR;

        while (FALSE !== ($file = readdir($fp)))
        {
            // Remove '.', '..', and hidden files [optional]
            if ($file === '.' OR $file === '..' OR ($hidden === FALSE && $file[0] === '.'))
            {
                continue;
            }

            is_dir($source_dir.$file) && $file .= DIRECTORY_SEPARATOR;

            if (($directory_depth < 1 OR $new_depth > 0) && is_dir($source_dir.$file))
            {
                $folddata[$file] = directory_map($source_dir.$file, $new_depth, $hidden, $exempt);

            }
            elseif(empty($exempt) || !empty($exempt) && !in_array($file, $exempt))
            {
                $filedata[] = $file;
            }
        }

        !empty($folddata) ? ksort($folddata) : false;
        !empty($filedata) ? natsort($filedata) : false;

        closedir($fp);
        return array_merge($folddata, $filedata);
    }

    return FALSE;
} 
```

使用示例是：

```
$filelist = directory_map('full_server_path'); 
```

如上所述，它将文件夹名称设置为子数组的键，因此您可以期待以下内容：

```
Array(
[documents/] => Array(
    [0] => 'document_a.pdf',
    [1] => 'document_b.pdf'    
    ),
[images/] => Array(
    [tn/] = Array(
        [0] => 'picture_a.jpg',
        [1] => 'picture_b.jpg'
        ),
    [0] => 'picture_a.jpg',
    [1] => 'picture_b.jpg'        
    ),
[0] => 'file_a.jpg',
[1] => 'file_b.jpg'
); 
```

请记住，豁免将应用于所有文件夹。如果您想跳过 index.html 文件或您不想包含的目录中使用的其他文件，这很方便。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-02-25T05:10:20.863

尝试

```
<?php
    $path = $_SERVER['DOCUMENT_ROOT'];
    chdir ($path);

    $dir = array_diff (scandir ('.'), array ('.', '..', '.DS_Store', 'Thumbs.db'));

    usort ($dir, create_function ('$a,$b', '
        return  is_dir ($a)
        ? (is_dir ($b) ? strnatcasecmp ($a, $b) : -1)
        : (is_dir ($b) ? 1 : (
            strcasecmp (pathinfo ($a, PATHINFO_EXTENSION), pathinfo ($b, PATHINFO_EXTENSION)) == 0
            ? strnatcasecmp ($a, $b)
            : strcasecmp (pathinfo ($a, PATHINFO_EXTENSION), pathinfo ($b, PATHINFO_EXTENSION))
        ))
    ;
'));

    header ('content-type: text/plain');
    print_r ($dir);
?> 
```

# ruby-on-rails - 登录后如何为用户设置时区

> ID：15060456
> 
> 赞同：1
> 
> 时间：2013-02-25T05:04:08.673
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, devise

我在**带有 psql 的 rails-3.2 上使用 ruby​​。**

我的问题是：当登录用户创建或更新任何内容时，日期时间显示是服务器而不是他的本地时区。我的用户遍布全世界。所以我不能设置特定的时区。

**在 application.rb 文件中，我的时区是默认的。**

**对于登录，我正在使用设计 gem。**

```
I can find the names of the ActiveSupport time zones by doing:

ActiveSupport::TimeZone.all 
```

**我想要的是，一旦用户登录我的网站，我就可以找到他的时区。**

经过一番谷歌搜索后，我通过 javascript 找到了时区

```
var timezone=String(new Date());
var zone = timezone.substring(timezone.indexOf('G'),timezone.indexOf('G')+8).trim(); 
```

它给了我 GMT+0530

现在打开 rails 控制台并写入：

```
ActiveSupport::TimeZone.all

[(GMT-11:00) American Samoa, (GMT-11:00) International Date Line West, (GMT-11:00) Midway Island, (GMT-10:00) Hawaii, (GMT-09:00) Alaska, (GMT-08:00) Pacific Time (US & Canada), (GMT-08:00) Tijuana, (GMT-07:00) Arizona, (GMT-07:00) Chihuahua, (GMT-07:00) Mazatlan, (GMT-07:00) Mountain Time (US & Canada), (GMT-06:00) Central America, (GMT-06:00) Central Time (US & Canada), (GMT-06:00) Guadalajara, (GMT-06:00) Mexico City, (GMT-06:00) Monterrey, (GMT-06:00) Saskatchewan, (GMT-05:00) Bogota, (GMT-05:00) Eastern Time (US & Canada), (GMT-05:00) Indiana (East), (GMT-05:00) Lima, (GMT-05:00) Quito, (GMT-04:30) Caracas, (GMT-04:00) Atlantic Time (Canada), (GMT-04:00) Georgetown, (GMT-04:00) La Paz, (GMT-04:00) Santiago, (GMT-03:30) Newfoundland, (GMT-03:00) Brasilia, (GMT-03:00) Buenos Aires, (GMT-03:00) Greenland, (GMT-02:00) Mid-Atlantic, (GMT-01:00) Azores, (GMT-01:00) Cape Verde Is., (GMT+00:00) Casablanca, (GMT+00:00) Dublin, (GMT+00:00) Edinburgh, (GMT+00:00) Lisbon, (GMT+00:00) London, (GMT+00:00) Monrovia, (GMT+00:00) UTC, (GMT+01:00) Amsterdam, (GMT+01:00) Belgrade, (GMT+01:00) Berlin, (GMT+01:00) Bern, (GMT+01:00) Bratislava, (GMT+01:00) Brussels, (GMT+01:00) Budapest, (GMT+01:00) Copenhagen, (GMT+01:00) Ljubljana, (GMT+01:00) Madrid, (GMT+01:00) Paris, (GMT+01:00) Prague, (GMT+01:00) Rome, (GMT+01:00) Sarajevo, (GMT+01:00) Skopje, (GMT+01:00) Stockholm, (GMT+01:00) Vienna, (GMT+01:00) Warsaw, (GMT+01:00) West Central Africa, (GMT+01:00) Zagreb, (GMT+02:00) Athens, (GMT+02:00) Bucharest, (GMT+02:00) Cairo, (GMT+02:00) Harare, (GMT+02:00) Helsinki, (GMT+02:00) Istanbul, (GMT+02:00) Jerusalem, (GMT+02:00) Kyiv, (GMT+02:00) Pretoria, (GMT+02:00) Riga, (GMT+02:00) Sofia, (GMT+02:00) Tallinn, (GMT+02:00) Vilnius, (GMT+03:00) Baghdad, (GMT+03:00) Kuwait, (GMT+03:00) Minsk, (GMT+03:00) Nairobi, (GMT+03:00) Riyadh, (GMT+03:30) Tehran, (GMT+04:00) Abu Dhabi, (GMT+04:00) Baku, (GMT+04:00) Moscow, (GMT+04:00) Muscat, (GMT+04:00) St. Petersburg, (GMT+04:00) Tbilisi, (GMT+04:00) Volgograd, (GMT+04:00) Yerevan, (GMT+04:30) Kabul, (GMT+05:00) Islamabad, (GMT+05:00) Karachi, (GMT+05:00) Tashkent, (GMT+05:30) Chennai, (GMT+05:30) Kolkata, (GMT+05:30) Mumbai, (GMT+05:30) New Delhi, (GMT+05:30) Sri Jayawardenepura, (GMT+05:45) Kathmandu, (GMT+06:00) Almaty, (GMT+06:00) Astana, (GMT+06:00) Dhaka, (GMT+06:00) Ekaterinburg, (GMT+06:30) Rangoon, (GMT+07:00) Bangkok, (GMT+07:00) Hanoi, (GMT+07:00) Jakarta, (GMT+07:00) Novosibirsk, (GMT+08:00) Beijing, (GMT+08:00) Chongqing, (GMT+08:00) Hong Kong, (GMT+08:00) Krasnoyarsk, (GMT+08:00) Kuala Lumpur, (GMT+08:00) Perth, (GMT+08:00) Singapore, (GMT+08:00) Taipei, (GMT+08:00) Ulaan Bataar, (GMT+08:00) Urumqi, (GMT+09:00) Irkutsk, (GMT+09:00) Osaka, (GMT+09:00) Sapporo, (GMT+09:00) Seoul, (GMT+09:00) Tokyo, (GMT+09:30) Adelaide, (GMT+09:30) Darwin, (GMT+10:00) Brisbane, (GMT+10:00) Canberra, (GMT+10:00) Guam, (GMT+10:00) Hobart, (GMT+10:00) Melbourne, (GMT+10:00) Port Moresby, (GMT+10:00) Sydney, (GMT+10:00) Yakutsk, (GMT+11:00) New Caledonia, (GMT+11:00) Vladivostok, (GMT+12:00) Auckland, (GMT+12:00) Fiji, (GMT+12:00) Kamchatka, (GMT+12:00) Magadan, (GMT+12:00) Marshall Is., (GMT+12:00) Solomon Is., (GMT+12:00) Wellington, (GMT+13:00) Nuku'alofa, (GMT+13:00) Samoa, (GMT+14:00) Tokelau Is.] 
```

如果我设置

```
Time.zone = -11 
Time.zone 
(GMT-11:00) American Samoa 
```

我该如何设置

**时区 = 0530**

```
It gives me error ArgumentError: Invalid Timezone: 344 
```

# lua - 如何防止我的可调用 Lua 表将自身作为参数传递给 __call？

> ID：15060459
> 
> 赞同：2
> 
> 时间：2013-02-25T05:04:29.527
> 
> 标签：lua, callable, metatable

假设我有以下代码：

```
local t = {};
setmetatable(t, {__call=print});
t(3, 5, 7) 
```

而不是打印：

```
3    5    7 
```

它打印：

```
table: 0x9357020    3   5   7 
```

表的 id 是 的`t`。

我怎样才能让它表现得好像我`print`直接打电话一样？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-25T05:10:24.883

你不能；由 always 指定的函数`__call`会传递被调用的项目。

但是，您可以做的是创建一个包装函数，该函数仅丢弃第一个参数，并仅使用第一个参数之后的参数调用您最初想要调用的函数，并将该包装函数设置为`__call`值。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-25T12:28:21.157

你不能，但你可以使用这个代码：

```
本地 t = {};
setmetatable(t, {__call=function(t,...)print(...)});
t(3, 5, 7)

```

打印 3 ,5, 7 `

# python - fileinput.py 删除目标文件

> ID：15060466
> 
> 赞同：2
> 
> 时间：2013-02-25T05:05:31.840
> 
> 标签：python, unix, file-io

我在使用`fileinput`python 模块时遇到了一些奇怪的行为。如果我尝试更改的文件没有用户读取权限，它将被删除。

```
import fileinput

try:
    for line in fileinput.input('TEST', inplace=1):
        line = line.strip()
        if '/' in line:
            print "PATH: " + line
        else:
            print line
except Exception as e:
    print e 
```

如果我运行这个文件，我会得到：

```
$ ls -l
--wxrwxrwx 1 myusername agqt3 0 Feb 25 11:02 TEST
$ python test.py
[Errno 13] Permission denied: 'TEST.bak'
$ ls -l
total 0 
```

文件被删除。不包括用户的所有其他权限位组合都会发生同样的事情`r`。我已经在`bash`,`csh`和中复制了这个`ksh`。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T05:25:18.697

您似乎正在使用`inplace=1`，所以是的，该文件预计将被覆盖。完成此操作后，将创建一个`.bak`文件，并覆盖初始文件名。

但是，您*没有*读取初始文件的权限（*但可以写入*），因此创建备份时它是空的（或失败），并且原始文件被覆盖。

从*就地*文档： [http ://docs.python.org/2/library/fileinput.html#fileinput.FileInput](http://docs.python.org/2/library/fileinput.html#fileinput.FileInput)

> **可选的就地过滤**：如果关键字参数inplace *=1*被传递给 fileinput.input() 或 FileInput 构造函数，则文件被移动到备份文件并且标准输出被定向到输入文件（如果与备份文件同名的文件已存在，它将被静默替换）。这使得编写一个过滤器来重写其输入文件成为可能。如果给定了备份参数（通常为backup='.'），它指定备份文件的扩展名，并且备份文件保持不变；默认情况下，扩展名为“.bak”，并在输出文件关闭时被删除。读取标准输入时禁用就地过滤。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T05:22:55.590

看起来像一个错误`fileinput`。[建议你在Python Bug Tracker](http://bugs.python.org)上打开一个关于它的问题

# ajax - 何时使用 AJAX 并避免刷新/重新加载页面问题

> ID：15060469
> 
> 赞同：0
> 
> 时间：2013-02-25T05:06:01.170
> 
> 标签：ajax, refresh, reload

我很享受学习 AJAX 的经历，但我正在挑选一些关于何时实际使用它的评论不一的文章。

我的问题是——如果有人刷新页面，你会怎么做？我丢失了所有已处理和返回的 ajax 信息，并放置在 div 和 span 占位符中。

您如何保持该状态或ajax调用或全部重置？？？也许我不应该在登录页面上执行 ajax，或者有没有办法在不设置大量 cookie 的情况下保留设置？

我有代码，但它非常适合放在窗口中，我认为最好问问是否有这样的方法来保留所有的 ajax 工作，或者是否必须通过重新加载来清除它？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-25T05:14:31.297

您可以查看使用`location.hash`或`html5 pushstate`在刷新之间保留数据。

HTML5 推送状态会更改浏览器位置栏中的 URL，而无需重新加载全新的页面。这使得您可以为每个阶段或状态提供它自己的永久链接，但旧浏览器不支持它。

*   [http://badassjs.com/post/840846392/location-hash-is-dead-long-live-html5-pushstate](http://badassjs.com/post/840846392/location-hash-is-dead-long-live-html5-pushstate)
*   [https://github.com/browserstate/History.js/](https://github.com/browserstate/History.js/)

Location.hash 做同样的事情，但会改变 URL 的哈希值，例如`http://server.com/location#hash`，然后您可以使用各种库来读取此哈希值并更改页面。这具有与旧浏览器兼容的优点。

[http://benalman.com/code/projects/jquery-hashchange/docs/files/jquery-ba-hashchange-js.html](http://benalman.com/code/projects/jquery-hashchange/docs/files/jquery-ba-hashchange-js.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-25T05:10:10.950

我见过的大多数 AJAX 应用程序除了重置整个应用程序状态外，不处理页面刷新。尝试使用 Yahoo 或大多数网站。

后退和前进点击也会造成严重破坏（尽管 HTML5 确实允许捕获这些事件）。 `localStorage`并且`sessionStorage`可能也很有用。

通常，AJAX 应用程序会尝试通过弹出消息警告用户来阻止该操作（例如：Dave 你确定要这样做吗？）

要从刷新中恢复，您可能希望将应用程序状态保存在服务器上（如果有的话），并且只在 cookie 中保存指向会话 ID 的指针。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-25T05:12:56.553

在正常重新加载时。很明显，您在页面中获得的任何数据都将被清除。如果你真的想要存储一些东西而不是在`success function`ajax 调用中制作一个 cookie，那就太疯狂了。

您还需要决定在哪里使用 ajax。因为 ajax 的主要目的是保持在同一页面上获取数据但不进行刷新。因为刷新旧数据就会消失。

我希望你得到你的答案。

# c# - 在c#中将日期插入数据库

> ID：15060472
> 
> 赞同：1
> 
> 时间：2013-02-25T05:06:15.563
> 
> 标签：c#, .net, sql-server-2008

我发现了很多关于这件事的问题，我尝试了一切，但还没有成功。

我需要将日期传递给我的 SQL Server 数据库。我的代码如下：

```
public bool CreatePatient()
{
    IDbConnection connection = database.CreateOpenConnection();
    IDbTransaction transaction = database.BeginTransaction(connection);

    try
    {
        GenerateRegNo();

        SQL_STATEMENT = "INSERT INTO TblPatientRegistration(RegistrationNo, HospitalID, NIC, AdmitDate, BHTNo, WardNo) 
                         VALUES(@RegNo, @HospiatlNo, @NIC, @Admitdate, @BHTNo, @WardNo)";

        IDbCommand com = database.CreateCommandTransaction(SQL_STATEMENT, connection, transaction);

        com.Parameters.Add(database.CreateParameter("@RegNo", PatientRegistration.RegistrationNo));
        com.Parameters.Add(database.CreateParameter("@HospiatlNo", PatientRegistration.HospitalID));
        com.Parameters.Add(database.CreateParameter("@NIC", PatientRegistration.NIC));

        com.Parameters.Add(database.CreateParameter("@Admitdate", PatientRegistration.AdmitDate));
        com.Parameters.Add(database.CreateParameter("@BHTNo", PatientRegistration.BHTNo));
        com.Parameters.Add(database.CreateParameter("@WardNo", PatientRegistration.WardNo));

        if (com.ExecuteNonQuery() > 0)
        {
            string updStatement = "Update TblControl set RegNo=RegNo+1";
            IDbCommand com2 = database.CreateCommandTransaction(updStatement, connection, transaction);
            com2.ExecuteNonQuery();
            transaction.Commit();
        return true;
        }
        else
        {
            transaction.Rollback();
            return false;
        }
     }
     catch (Exception)
     {
        transaction.Rollback();
        return false;
     }
} 
```

**我试过的：**

如上所述[链接](https://stackoverflow.com/a/468096/1395178)

```
 com.Parameters.Add(database.CreateParameter("@Admitdate", PatientRegistration.AdmitDate.ToString("dd/MM/yyyy"))); 
```

和[这个链接](https://stackoverflow.com/a/7176687/1395178)

```
com.Parameters.Add(database.CreateParameter("@Admitdate", "'"+PatientRegistration.AdmitDate+"'")); 
```

然后我尝试使用[此链接](https://stackoverflow.com/a/9223572/1395178)

```
 String UrDate = PatientRegistration.AdmitDate.ToString("dd/MM/yyyy");
 System.Globalization.DateTimeFormatInfo dateInfo = new System.Globalization.DateTimeFormatInfo();
 dateInfo.ShortDatePattern = "dd/MM/yyyy";
 DateTime validDate = Convert.ToDateTime(UrDate, dateInfo);

 com.Parameters.Add(database.CreateParameter("@Admitdate", validDate)); 
```

这些方法抛出此异常：

> *操作数类型冲突：int 与日期不兼容*

我收到`PatientRegistration.AdmitDate`的价值是：`{2/25/2013 12:00:00 AM}`

我尝试了所有这些方法，但无法保存它。请帮我解决这里的问题。

谢谢...

**编辑 ：**

我的数据库架构：

```
CREATE TABLE [dbo].[TblPatientRegistration](
    [RegistrationNo] [char](10) NOT NULL,
    [HospitalID] [char](10) NOT NULL,
    [NIC] [char](10) NOT NULL,
    [AdmitDate] [date] NOT NULL,
    [BHTNo] [varchar](10) NOT NULL,
    [WardNo] [varchar](10) NOT NULL,
    [ReleaseDate] [date] NOT NULL,
 CONSTRAINT [PK_TblPatientRegistration_1] PRIMARY KEY CLUSTERED 
(
    [RegistrationNo] ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
) ON [PRIMARY]

GO 
```

**这个问题在这里可能已经有了答案（近距离投票）：** ->我尝试了那里建议的答案（请参阅选项2），但它似乎不适用于我的问题

**答：** 经过多次调查，我发现这个问题是由于我在数据库中的错误造成的。

我没有将值传递给 ReleaseDate 字段，它`default value`在数据库中设置。该默认值是与日期不兼容的值。所以这就是这个问题的原因。正如 Ashok kumar 所提到的，我如何能够传递我的价值

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-25T05:46:14.637

我只在@Admitdate 行修改了您的代码。

```
public bool CreatePatient()
{
    IDbConnection connection = database.CreateOpenConnection();
    IDbTransaction transaction = database.BeginTransaction(connection);

    try
    {
    GenerateRegNo();

    SQL_STATEMENT = "INSERT INTO TblPatientRegistration(RegistrationNo, HospitalID, NIC, AdmitDate, BHTNo, WardNo) 
                     VALUES(@RegNo, @HospiatlNo, @NIC, @Admitdate, @BHTNo, @WardNo)";

    IDbCommand com = database.CreateCommandTransaction(SQL_STATEMENT, connection, transaction);

    com.Parameters.Add(database.CreateParameter("@RegNo", PatientRegistration.RegistrationNo));
    com.Parameters.Add(database.CreateParameter("@HospiatlNo", PatientRegistration.HospitalID));
    com.Parameters.Add(database.CreateParameter("@NIC", PatientRegistration.NIC));

        String admitDate = txtAdmitDate.Text;
        DateTime parsedAdmitDate;
        if (DateTime.TryParseExact(admitDate, "d/M/y", CultureInfo.InvariantCulture, DateTimeStyles.None, out parsedAdmitDate))
            PatientRegistration.AdmitDate = parsedAdmitDate;

    //com.Parameters.Add(database.CreateParameter("@Admitdate", PatientRegistration.AdmitDate));
    com.Parameters.Add(database.CreateParameter("@BHTNo", PatientRegistration.BHTNo));
    com.Parameters.Add(database.CreateParameter("@WardNo", PatientRegistration.WardNo));

    if (com.ExecuteNonQuery() > 0)
    {
        string updStatement = "Update TblControl set RegNo=RegNo+1";
        IDbCommand com2 = database.CreateCommandTransaction(updStatement, connection, transaction);
        com2.ExecuteNonQuery();
        transaction.Commit();
    return true;
    }
    else
    {
        transaction.Rollback();
        return false;
    }
 }
 catch (Exception)
 {
    transaction.Rollback();
    return false;
 }
} 
```

如果您需要更多帮助，请告诉我。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-25T05:55:53.960

`command.Parameters.AddWithValue("@yourDateTimeVariable", dateTimeObject);`？？？

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-25T05:12:18.367

你的数据库表列的数据类型是`Date`，你可以试试`DateTime`还是一个`datetime2`。

并且不要将 Date 变量括在引号中：

```
com.Parameters.Add(database.CreateParameter("@Admitdate",PatientRegistration.AdmitDate)) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-11-26T15:03:47.343

```
cmd.Parameters.AddWithValue("@DATE", DateTime.Now); 
```

# ruby-on-rails - Rails 中的多个 where 条件

> ID：15060479
> 
> 赞同：23
> 
> 时间：2013-02-25T05:07:19.923
> 
> 标签：ruby-on-rails, ruby, activerecord, rails-activerecord

我正在我的 Rails 应用程序中实现用户搜索功能。但是，我不希望管理员出现在搜索结果中。

我正在尝试这个：

```
User.where(:admin => [nil, false], ["name LIKE ?", "%#{params[:query]}%"]) 
```

但我得到这个错误：

```
syntax error, unexpected ')', expecting tASSOC 
```

那么如何正确列出`where`括号内的子句呢？

* * *

## 回答 #1

> 赞同：48
> 
> 时间：2013-02-25T05:09:37.683

尝试这个

```
User.where(["name LIKE ?", "%#{params[:query]}%"]).where(:admin => [nil, false]) 
```

# c++ - getline() 分隔符问题

> ID：15060480
> 
> 赞同：2
> 
> 时间：2013-02-25T05:07:20.110
> 
> 标签：c++, string, file, delimiter, getline

我正在尝试通读文件并在每一行上获取特定的字符串。我需要的字符串的结尾用分号标记。我这样做没有问题，但我注意到带有分隔符的 getline() 会自动将新行附加到我的字符串。

```
 filename.open(FileName);
 while(filename)
  {
    getline(filename, name[counter], ';');

    filename >> amount[counter] >> unit[counter] >> calories[counter];
    counter++;

  } 
```

因此，当我要打印出名称数组时，会有 1 个额外的换行符，我自己没有放在那里，就好像一路上有一个额外的 '\n' 被拾取一样。有没有人有办法解决吗？下面是我正在读取的文件格式的一个示例。

戴夫·琼斯；24 高大
的吉利安·琼斯；34短等...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T05:15:59.573

更好的方法是将文件逐行读取到缓冲区中，然后用';'分割字符串：

```
while(true) {
    std::string line;
    std::getline( in, line );
    if( !in ) break;
    std::istringstream iline( line );
    while(true) {
        std::string str;
        std::getline( iline, str, ';' );
        if( !iline ) break;
        // you get string by string in str here
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-25T05:17:44.433

运行后

```
filename >> amount[counter] >> unit[counter] >> calories[counter]; 
```

换行符仍在缓冲区中。当您只使用“>>”时，这通常不是问题；它只是忽略换行符。但是当你混合 getline 和 ">>" 时，你需要忽略 ">>" 留下的换行符。尝试这样的事情：

```
filename >> amount[counter] >> unit[counter] >> calories[counter];
// Ignore first character or everything up to the next newline,
// whichever comes first
filename.ignore(1, '\n'); 
```

这有点多余，但很容易阅读。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-25T21:59:33.700

吞下空格的更简单方法：

```
filename >> amount[counter] >> unit[counter] >> calories[counter] >> std::ws; 
```

# sonarqube - 带有 Sonar 的 C 单元测试框架

> ID：15060485
> 
> 赞同：0
> 
> 时间：2013-02-25T05:07:39.193
> 
> 标签：sonarqube

CppUnit 是目前唯一可用于 Sonar 的 C/C++ 单元测试框架吗？

添加额外的 C/C++ 单元测试框架会涉及什么？（例如 CppUnit 插件有多少行代码，可重用程度如何等）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T07:28:00.180

我认为您最好在 Sonar 的邮件列表中发送您的查询：http: [//www.sonarsource.org/support/support/](http://www.sonarsource.org/support/support/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-27T16:09:05.287

查看单元测试页面：[http ://docs.codehaus.org/display/SONAR/Unit+Test+Support](http://docs.codehaus.org/display/SONAR/Unit+Test+Support)

从该页面：

> C++ 插件使用 sonar.cxx.xunit.reportPath 解析 xunit 兼容格式。要使用其他格式，首先需要使用属性 sonar.cxx.xunit.xsltURL 进行转换
> 
> 为方便起见，提供以下 xsl
> 
> *   boosttest-1.x-to-junit-1.0.xsl 用于转换 Boost-reports
> *   cpptestunit-1.x-to-junit-1.0.xsl 用于转换
> *   CppTestUnit-reports cppunit-1.x-to-junit-1.0.xsl 用于转换 CppUnit-reports

所以应该支持支持 xUnit 格式的包，比如 Google 测试框架。否则，如果它们输出 xml，它们应该可以通过更改 xslt 来支持。

# javascript - 如何使我的垂直下拉菜单具有轻松效果？

> ID：15060487
> 
> 赞同：-1
> 
> 时间：2013-02-25T05:07:47.913
> 
> 标签：javascript, html, css, easing

JSFiddle # [http://jsfiddle.net/UqyAq/](http://jsfiddle.net/UqyAq/)

html -

```
<nav>
    <ul>
        <li>Button 1</li>
        <li>Button 2
            <ul>
                <li>Sub-Button 1</li>
                <li>Sub-Button 2</li>
                <li>Sub-Button 3</li>
            </ul>
        </li>
        <li>Button 3</li>
        <li>Button 4</li>
        <li>Button 5</li>
    </ul>
</nav> 
```

CSS -

```
* {
    margin: 0;
    padding: 0;
}

nav {
    height: 100%; width: 18%;
    position: absolute;
}
nav ul {
    list-style-type: none;
    font-family: 'Universal Accreditation', Serif;
    font-size: 18pt;
    letter-spacing: 1px;
    font-variant: small-caps;
    color: black;
}

nav ul ul {
    display: none;
}

nav ul li {
    display: block;
}

nav ul li:hover ul {
    display: block;
} 
```

基本上，您正在查看一个简单的无序列表下拉菜单。我试图弄清楚我需要使用什么来对第二层的下拉产生缓和效果。将鼠标悬停在“按钮 2”上会调出子菜单。

注意它是如何单跳运动的。我将如何减慢它？也许看起来子菜单从“按钮 2”下方滑出？

我应该使用javascript还是css？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T06:37:51.830

使用此代码..

HTML：

```
<ul id="menu">
<li><a href="#">Link 1</a>
   <ul class="submenu">
     <li><a href="#">Sub Link 1.1</a>
       <ul class="submenu">
          <li><a href="#"> Sub Link 1.1.1</a></li>
          <li><a href="#"> Sub Link 1.1.2</a></li> 
       </ul>
     </li>
     <li><a href="#">Sub Link 1.2</a></li>
     <li><a href="#">Sub Link 1.3</a></li>
   </ul>
 </li>
 <li><a href="#">Link 2</a>
    <ul class="submenu">
     <li><a href="#">Sub Link 2.1</a>
       <ul class="submenu">
          <li><a href="#"> Sub Link 2.1.1</a></li>
          <li><a href="#"> Sub Link 2.1.2</a></li> 
       </ul>
     </li>
     <li><a href="#">Sub Link 2.2</a></li>
   </ul>
 </li>
 </ul> 
```

CSS：.submenu { 显示：无；} #menu li ul{ margin-left:15px; }

查询：

```
$(document).ready(function () {
$('#menu > li').hover(function () { $(this).find("ul:first").show(); },
                      function () { $(this).find("ul:first").hide(); }
);
$('#menu li li').hover(function () {
    $('ul:first', this).each(function () {
        var p = $(this).parent();
        $(this).css('top', p.position().top)
               .css('left', p.position().left + p.width())
               .show();
    });},
    function () { $('ul:first', this).hide(); }
);
}); 
```

# jquery - 使用jquery将数据放入表中

> ID：15060488
> 
> 赞同：0
> 
> 时间：2013-02-25T05:07:51.640
> 
> 标签：jquery, web-scraping, html-table

从另一个网站抓取数据后，我无法重新创建表的结构。我正在使用此小提琴中的示例：http: [//jsfiddle.net/skelly/m4QCt/](http://jsfiddle.net/skelly/m4QCt/)

我试图重新创建的一个例子在这里：http: [//jsfiddle.net/curly33/v5h6G/](http://jsfiddle.net/curly33/v5h6G/)

```
 $.each($foop.find('table.data tr'), function(idx, item) {

                mytext = $(item).children().remove().text();
                $('<td>'+mytext+'</td>').appendTo($('#divs tr'));

        }); 
```

名册表是我正在尝试重新创建的完美示例。我只是想不出一种方法将数据分成单独的表格行上的单个 td 单元格，而不是将每行中的所有抓取数据聚集到 td 单元格中。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-25T05:26:13.520

为什么不直接遍历报废的**tr**的单元格？它会是这样的：

```
$.each($foop.find('table.data tr'), function(idx, item) {
    var tr = $("<tr><td>a</td></tr>");
    $.each($(item).children(), function(index, cell) {
        tr.append('<td>' + $(cell).html() + '</td>');    
    });
    tr.appendTo($('#divs'));               
}); 
```

见[http://jsfiddle.net/v5h6G/1/](http://jsfiddle.net/v5h6G/1/)

# python - 结合两个 if 语句

> ID：15060490
> 
> 赞同：0
> 
> 时间：2013-02-25T05:07:53.667
> 
> 标签：python

我正在尝试结合以下 if 语句

```
 if "%s\n" % baseAU in out:
        print "Match"
        count = 1

    if internaldep in pendinggerrits:
        print "match"
        count = 1 
```

我尝试了以下方法，但有没有更简单的方法

```
 if  "%s\n" % baseAU in out and internaldep in pendinggerrits:
        print "match" 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-25T05:08:37.363

不，没有一种“更简单的方法”可以在`if`语句中放置两个条件；您已经拥有的方式非常简洁。

（但是请注意，合并后的版本与原始版本的功能不同。您应该使用`or`而不是`and`那样。）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-25T05:12:39.187

您的第二个陈述不等于前两个。请注意，如果满足这 2 个 if 块中的任何一个，则会打印“match”。

但是在您的简洁版本中，您使用的是`and`运算符，`match`只有当它们都为真时才会打印。

如果您打算使用 2 个独立块执行您所做的操作，则需要使用`OR`：

```
 if  "%s\n" % baseAU in out or internaldep in pendinggerrits:
        print "match" 
```

是的，这是组合这些块的最干净和最简单的方法。

# ipad - 如何在 ipad 应用程序中将 UITabBar 控制器转换为 ViewController

> ID：15060493
> 
> 赞同：0
> 
> 时间：2013-02-25T05:08:01.123
> 
> 标签：ipad, view, uitabbarcontroller

我有 ipad 应用程序，我希望在 viewController 中添加一个标签栏控制器，并在该标签栏控制器中添加其他带有导航控制器的视图，我在一些教程之后添加了但它加载了我的视图控制器，我在其上添加标签栏控制器或标签栏控制器视图.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T12:47:17.947

试试这个代码，它可以帮助你： [https ://github.com/alexth/TBSV](https://github.com/alexth/TBSV)

# c# - C# WPF DataTable 绑定到 GridView（更准确地说是 Telerik 的 RadGridView）

> ID：15060498
> 
> 赞同：1
> 
> 时间：2013-02-25T05:08:18.603
> 
> 标签：c#, wpf, gridview, datatable, telerik

我有一个小问题。我有一个定期更改的 MySQL 表模式（即列及其类型）。由于这个要求，我将我的 ORM 编程为以 DataTable 的形式而不是固定的可序列化类型来存储它。

我现在有兴趣在窗口中显示此表。准确地说，它将绑定到一个 GridView 对象（Telerik 库中的 RadGridView 类型。我使用以下代码绑定了表格：

```
DataTable dt = GetMyTable();
radGridView.ItemsSource = dt.DefaultView; 
```

这工作正常。但是，如果我要使用以下代码更新此表，则该过程非常缓慢：

```
dt.BeginLoadData();
for (object[] new_row in new_rows) {
    dt.Rows.Add(new_row);
}
dt.EndLoadData();
dt.AcceptChanges(); 
```

我知道 DataTable 在更新时会转储大量事件，但它们应该被 BeginLoadData() 调用关闭 - 至少在理论上是这样。

我还尝试使用名为 BindingSource 的适配器，其中记录了[本页中记录的步骤](http://www.codeproject.com/Tips/55730/Achieve-performance-while-updating-a-datatable-bou)

这确实加快了速度，但仍然不够高效。

我的目标是使用我的 DataTable 进行批量加载，每当从线程向其中添加一批新行时，GridView 也会更新以显示新行。显然，我想尽可能高效地做到这一点。

有什么输入吗？

谢谢。

# android - 自定义 ListFragment 获取 NullPointer 异常

> ID：15060501
> 
> 赞同：0
> 
> 时间：2013-02-25T05:08:32.127
> 
> 标签：android

我正在尝试使用自定义列表视图来实现列表片段。在实施时，我的 logcat 出现以下错误。我正在尝试像这样在我的片段 onCreateView() 中获取 Listview

```
ArrayListFragment list = new ArrayListFragment();
            getActivity().getSupportFragmentManager().beginTransaction().add(android.R.id.content,list).commit(); 
```

我不明白它有什么问题。

我的自定义 listfragment 类是：-

```
 public static class ArrayListFragment extends ListFragment implements OnClickListener{

        PairWithSensorFragment mPairWithSensorFragment = new PairWithSensorFragment();
        String[] arrayValues = {"Android", "BlackBerry", "iPhone", "Windows", "linuxPhone"};

         @Override
          public void onActivityCreated(Bundle savedInstanceState) {
            super.onActivityCreated(savedInstanceState);

            ArrayAdapter<String> adapter = new ArrayAdapter<String>(getActivity(),
                    R.layout.pairwithsensor_listrow, android.R.id.text1, arrayValues);
            setListAdapter(adapter);

           /* ArrayAdapter<String> adapter = new ArrayAdapter<String>(getActivity(),
                    android.R.layout.simple_list_item_1, arrayValues);
                setListAdapter(adapter);*/

          }

          @Override
          public void onListItemClick(ListView l, View v, int position, long id) {
            // Do something with the data
              Toast.makeText( getActivity().getBaseContext()  ,  arrayValues[position]+" "+"Clicked " , Toast.LENGTH_SHORT).show();

          }
} 
```

pairwithsensor_listrow.xml:-

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
         android:orientation="vertical"
         android:layout_width="match_parent"
         android:layout_height="match_parent"
         android:id="@+id/linear_layout">

    <TextView
        android:id="@+id/tv_pairwithsensor_sensorid"
        android:layout_width="200dp"
        android:layout_height="wrap_content" 
        android:layout_margin="5dp"
        android:layout_alignParentLeft="true">
    </TextView>

    <EditText
        android:id="@+id/edt_pairwithsensor_sensorName"
        android:layout_width="200dp"
        android:layout_height="wrap_content" 
        android:layout_margin="5dp" 
        android:layout_toRightOf="@id/tv_pairwithsensor_sensorid"
        android:hint="@string/please_enter_value">
    </EditText>

    <Button
        android:id="@+id/btn_pairwithsensor_pair"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_margin="5dp" 
        android:layout_alignParentRight="true"
        android:text="@string/PairwithSensor_pairButton"/>

</RelativeLayout> 
```

**日志猫**

```
 02-25 10:22:22.870: E/AndroidRuntime(10247): FATAL EXCEPTION: main
    02-25 10:22:22.870: E/AndroidRuntime(10247): java.lang.NullPointerException
    02-25 10:22:22.870: E/AndroidRuntime(10247):    at android.widget.ArrayAdapter.createViewFromResource(ArrayAdapter.java:392)
    02-25 10:22:22.870: E/AndroidRuntime(10247):    at android.widget.ArrayAdapter.getView(ArrayAdapter.java:362)
    02-25 10:22:22.870: E/AndroidRuntime(10247):    at android.widget.AbsListView.obtainView(AbsListView.java:2033)
    02-25 10:22:22.870: E/AndroidRuntime(10247):    at android.widget.ListView.makeAndAddView(ListView.java:1772)
    02-25 10:22:22.870: E/AndroidRuntime(10247):    at android.widget.ListView.fillDown(ListView.java:672)
    02-25 10:22:22.870: E/AndroidRuntime(10247):    at android.widget.ListView.fillFromTop(ListView.java:732)
    02-25 10:22:22.870: E/AndroidRuntime(10247):    at android.widget.ListView.layoutChildren(ListView.java:1625)
    02-25 10:22:22.870: E/AndroidRuntime(10247):    at android.widget.AbsListView.onLayout(AbsListView.java:1863)
    02-25 10:22:22.870: E/AndroidRuntime(10247):    at android.view.View.layout(View.java:11282)
    02-25 10:22:22.870: E/AndroidRuntime(10247):    at android.view.ViewGroup.layout(ViewGroup.java:4224)
    02-25 10:22:22.870: E/AndroidRuntime(10247):    at android.widget.FrameLayout.onLayout(FrameLayout.java:431)
    02-25 10:22:22.870: E/AndroidRuntime(10247):    at android.view.View.layout(View.java:11282)
    02-25 10:22:22.870: E/AndroidRuntime(10247):    at android.view.ViewGroup.layout(ViewGroup.java:4224)
    02-25 10:22:22.870: E/AndroidRuntime(10247):    at android.widget.FrameLayout.onLayout(FrameLayout.java:431)
    02-25 10:22:22.870: E/AndroidRuntime(10247):    at android.view.View.layout(View.java:11282)
    02-25 10:22:22.870: E/AndroidRuntime(10247):    at android.view.ViewGroup.layout(ViewGroup.java:4224)
    02-25 10:22:22.870: E/AndroidRuntime(10247):    at android.widget.FrameLayout.onLayout(FrameLayout.java:431)
    02-25 10:22:22.870: E/AndroidRuntime(10247):    at android.view.View.layout(View.java:11282)
    02-25 10:22:22.870: E/AndroidRuntime(10247):    at android.view.ViewGroup.layout(ViewGroup.java:4224)
    02-25 10:22:22.870: E/AndroidRuntime(10247):    at android.widget.FrameLayout.onLayout(FrameLayout.java:431)
    02-25 10:22:22.870: E/AndroidRuntime(10247):    at android.view.View.layout(View.java:11282)
    02-25 10:22:22.870: E/AndroidRuntime(10247):    at android.view.ViewGroup.layout(ViewGroup.java:4224)
    02-25 10:22:22.870: E/AndroidRuntime(10247):    at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1628)
    02-25 10:22:22.870: E/AndroidRuntime(10247):    at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1486)
    02-25 10:22:22.870: E/AndroidRuntime(10247):    at android.widget.LinearLayout.onLayout(LinearLayout.java:1399)
    02-25 10:22:22.870: E/AndroidRuntime(10247):    at android.view.View.layout(View.java:11282)
    02-25 10:22:22.870: E/AndroidRuntime(10247):    at android.view.ViewGroup.layout(ViewGroup.java:4224)
    02-25 10:22:22.870: E/AndroidRuntime(10247):    at android.widget.FrameLayout.onLayout(FrameLayout.java:431)
    02-25 10:22:22.870: E/AndroidRuntime(10247):    at android.view.View.layout(View.java:11282)
    02-25 10:22:22.870: E/AndroidRuntime(10247):    at android.view.ViewGroup.layout(ViewGroup.java:4224)
    02-25 10:22:22.870: E/AndroidRuntime(10247):    at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:1514)
    02-25 10:22:22.870: E/AndroidRuntime(10247):    at android.view.ViewRootImpl.handleMessage(ViewRootImpl.java:2467)
    02-25 10:22:22.870: E/AndroidRuntime(10247):    at android.os.Handler.dispatchMessage(Handler.java:99)
    02-25 10:22:22.870: E/AndroidRuntime(10247):    at android.os.Looper.loop(Looper.java:137)
    02-25 10:22:22.870: E/AndroidRuntime(10247):    at android.app.ActivityThread.main(ActivityThread.java:4424)
    02-25 10:22:22.870: E/AndroidRuntime(10247):    at java.lang.reflect.Method.invokeNative(Native Method)
    02-25 10:22:22.870: E/AndroidRuntime(10247):    at java.lang.reflect.Method.invoke(Method.java:511)
    02-25 10:22:22.870: E/AndroidRuntime(10247):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
    02-25 10:22:22.870: E/AndroidRuntime(10247):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)
    02-25 10:22:22.870: E/AndroidRuntime(10247):    at dalvik.system.NativeStart.main(Native Method) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T06:37:03.177

看看这个：[ArrayAdapter(Context context, int layoutId, int textViewResourceId, T[] objects)](http://developer.android.com/reference/android/widget/ArrayAdapter.html#ArrayAdapter%28android.content.Context,%20int,%20int,%20T%5B%5D%29)

`textViewResourceId`应该是布局中 TextView 的资源 ID，即`R.id.tv_pairwithsensor_sensorid`在您的情况下。并且您指定`android.R.id.text1`了（可能来自使用标准布局的示例）。异常只是告诉您找不到具有您指定的 id 的 TextView。

# actionscript-3 - 任何可以帮助我使用 ActionScript 3.0 的人吗？

> ID：15060507
> 
> 赞同：-1
> 
> 时间：2013-02-25T05:08:44.667
> 
> 标签：actionscript-3

我需要创建一个函数，允许用户通过 Flash 中的文本字段输入名称。输入后，应根据已知的十个名称列表检查名称。如果名称字符串为空，则应提示用户输入名称。如果该名称有效，则应打印一条消息，表明已找到匹配项，并提示用户查看他们是否希望输入另一个名称。如果这两个条件都不存在，则应打印一条消息，指示找不到该名称，因此该名称无效，并且应提示用户输入另一个名称

到目前为止，我有这个：

```
package {

    import flash.display.MovieClip;
    import flash.text.TextField;

    public class Assignment1 extends MovieClip
    {
        public function Assignment1()
        {
            var names: Array = new Array("David", "Daniel", "Stephanie", "Maria", "Francisco", "Fatima", "Jessica", "Ethan", "Luerdes", "Joaquim");

            var UserName: TextField = new TextField();
            addChild(UserName);

            UserName.text = "David";

            if (UserName in names)
            {
                var found: TextField = new TextField();
                addChild(found);
                found.text = "Match Found";
            }
        }
    }
} 
```

请问这个问题我需要帮助吗

谢谢先进

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T05:37:46.287

你假设它`in`做了一些它没有做的事情。`in`在循环中使用，而不是确定是否在数组中找到值。

您可以使用[`indexOf()`](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/Array.html#indexOf%28%29)来确定是否在数组中找到值：

```
var inArray:Boolean = names.indexOf( UserName.text ) >= 0;

if(inArray)
{
    // Show your success message here.
    //
} 
```

# c# - 自动 Outlook 365 凭证

> ID：15060513
> 
> 赞同：1
> 
> 时间：2013-02-25T05:09:25.723
> 
> 标签：c#, .net, outlook, office365

对此真的感到很沮丧。我的公司将 Outlook 365 用于其 Exchange 服务。我正在尝试通过交换自动从客户端发送异常电子邮件。然而，关于该主题的所有文献似乎都表明我必须以某种方式提供带有纯文本用户名/密码的 NetworkCredential。我希望使用登录的用户帐户进行连接。

从基础架构的角度来看，我了解 Office 365 正在通过 ADFS 对用户进行身份验证，这就是沼泽标准协商不起作用的原因。这也是我需要纯文本密码的原因。然而，在我看来，Kerberos 风格的身份验证应该没有理由不起作用。

总而言之，是否有一些编程方式可以通过 Outlook 365 发送电子邮件，而无需将特权信息编码到应用程序的源或配置中？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-02T06:05:25.287

通常，如果您可以在不提供用户名\密码的情况下使用 Internet Explorer 登录 Office 365 Live，那么您应该能够使用`CredentialCache.DefaultCredentials`.

# java - 反序列化包含多个项目的 JSON 对象

> ID：15060514
> 
> 赞同：8
> 
> 时间：2013-02-25T05:09:34.963
> 
> 标签：java, android, json, gson

我正在尝试反序列化（使用 gson）一个如下所示的 JSON 对象：

```
 "attachments": {
            "40": {
                "ID": 40,
                "URL": "http:\/\/drewmore4.files.wordpress.com\/2013\/02\/wreckit.jpg",
                "guid": "http:\/\/drewmore4.files.wordpress.com\/2013\/02\/wreckit.jpg",
                "mime_type": "image\/jpeg",
                "width": 287,
                "height": 400
            },
            "3": {
                "ID": 3,
                "URL": "http:\/\/drewmore4.files.wordpress.com\/2013\/02\/frankenweenie2bposter.jpg",
                "guid": "http:\/\/drewmore4.files.wordpress.com\/2013\/02\/frankenweenie2bposter.jpg",
                "mime_type": "image\/jpeg",
                "width": 273,
                "height": 400
            }
    }, 
```

我该如何处理？我什至不知道该怎么称呼它——这里有多个“项目”，但它不是一个数组。当我尝试将其反序列化为数组时，程序因“预期的 Begin_Array 但发现 Begin_Object”异常而崩溃。当我尝试将其反序列化为 Strong 对象时（请参见下面的类），程序运行但所有字段都返回 null。

这是我尝试将其映射到的类：

```
class Attachment {
int ID;
String URL;
} 
```

完整的 JSON 文件可以在 [这里看到：](https://public-api.wordpress.com/rest/v1/sites/drewmore4.wordpress.com/posts/?pretty=1)

编辑：已解决。

@Perception 的解决方案基本上奏效了。由于这个“元素”（仍然想知道这个多条目/非数组 json 元素是什么）嵌入到一个更大的包含数组的 json 对象中，这一事实变得复杂。同样，这个 JSON 不是我的设计——它来自 Wordpress REST API，并且（正如@Perception 所暗示的那样），我认为我遇到的问题说明了它的设计缺陷——即附件元素应该是一个数组，而不是单个对象。尽管如此，

尽管如此，如果其他人需要使用此 API 对给定站点上所有帖子的查询结果进行反序列化，并且还需要访问每个帖子上的附件，您可以这样做：

```
 private class getAll extends AsyncTask <Void, Void, JSONObject> {
    private static final String url = "https://public-api.wordpress.com/rest/v1/sites/drewmore4.wordpress.com/posts/";
    @Override
    protected JSONObject doInBackground(Void... params) {

        HttpClient httpclient = new DefaultHttpClient();
        HttpGet httpget = new HttpGet(url);
        httpget.addHeader("accept", "application/json");
        JSONObject returned = new JSONObject();
        HttpResponse response;

        try {
            response = httpclient.execute(httpget);
            HttpEntity entity = response.getEntity();

            if (entity != null) {
                InputStream instream = entity.getContent();
                String result= convertStreamToString(instream);

                returned =new JSONObject(result);                   
                instream.close();
            }
        } 
        catch (ClientProtocolException | IOException | JSONException e) { e.printStackTrace();} 

        return returned;
    }

        @Override
    protected void onPostExecute (JSONObject returned){
        Gson gson = new Gson();

//posts is the element within the JSONObject that is an array of post objects
        try {
        JSONArray posts = returned.getJSONArray("posts");

        for (int curr = 0; curr < posts.length(); curr++){
            String s = posts.get(curr).toString();

            Article a = gson.fromJson(s, Article.class);

            JSONObject attachments = new JSONObject(s).getJSONObject("attachments");
            final Iterator<String> keys = attachments.keys();
               while(keys.hasNext()) {
                    final String key = keys.next();
                    a.attached.add(gson.fromJson(attachments.getJSONObject(key).toString(), Attachment.class));
                }   
               stories.add(a);
        }

            } catch (JSONException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            } 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-25T05:31:49.430

这是一个可能***应该***被序列化为数组但没有被序列化的数据示例。解析它的一种解决方案是`JSONObject`直接使用 a。

```
String json = ...;
final Gson gson = new Gson();

final List<Attachment> attachements = new ArrayList<Attachment>(64);
final JSONObject jsonObj = new JSONObject(json).getJSONObject("attachments");
final Iterator<String> keys = jsonObj.keys();
while(keys.hasNext()) {
    final String key = keys.next();
    attachements.add(gson.fromJson(jsonObj.getJSONObject(key).toString(), Attachment.class);
}

// Do something with attachements 
```

* * *

数据***也***可以被视为一个地图，从 id 到附件。它可以这样反序列化：

```
final String jsonObj = new JSONObject(json).getJSONObject("attachments");
final Gson gson = new Gson();
final Map<String, Attachment> data = gson.fromJson(jsonObj.toString(),
        new TypeToken<Map<String, Attachment>>() {
        }.getType());
final List<Attachment> attachments = new ArrayList<Attachment>(data.values()); 
```

这实际上是

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-25T05:29:10.840

首先从这个 JSONObject. 创建 JSONArray，然后

```
for(int i = 0; i < contacts.length(); i++){
            JSONObject c = contacts.getJSONObject(i); 
```

通过使用此循环获取字符串值并放入您想要的地图或对象并将其添加到 ArrayList

```
HashMap<String, String> map = new HashMap<String, String>();

            // adding each child node to HashMap key => value
            map.put(TAG_ID, id); 
```

和

```
contactList.add(map); 
```

那么您可以使用该值。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-25T09:55:18.223

> 我该如何处理？我什至不知道该怎么称呼它——这里有多个“项目”，但它不是一个数组。

看起来 JSON 中的集合非常适合`java.util.map`. 因此，我可能会将 JSON“附件”反序列化为`Map<String, Atachment>`. 然后，该映射很容易迭代，或者将 Attachment 值的集合转换为不同类型的集合，例如 a`List<Attachment>`或 an `Attachment[]`。

注意：[Gson 用户指南](https://sites.google.com/site/gson/gson-user-guide)包含反序列化为通用集合的示例。

# android - 向收件人发送短信

> ID：15060517
> 
> 赞同：3
> 
> 时间：2013-02-25T05:09:49.737
> 
> 标签：android

我正在编写一个应用程序，我试图在其中*向收件人发送短信*，但是每当我点击发送时，都会收到消息：-**短信失败，请稍后再试！**

请看下面的屏幕截图，就像你看到的那样，*我正在尝试向 Rahul 发送消息*......

清单.xml：

```
 <uses-permission android:name="android.permission.SEND_SMS" /> 
```

请检查以下代码：

```
 private TextView name;
private ListView list;
private Database db;
private Contact contact;
Button buttonSend;
EditText textSMS;

private Map<String, AuthenticatorDescription> map = new LinkedHashMap<String, AuthenticatorDescription>();

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.editor);

    // bind GUI components
    this.name = (TextView) findViewById(R.id.editor_name);
    this.list = (ListView) findViewById(R.id.editor_list);

    // check if contact id is valid
    this.db = new Database(getContentResolver());
    int contactId = getIntent().getIntExtra(CONTACT_ID, NO_CONTACT_ID);
    this.contact = this.db.getContact(contactId);
    if (this.contact == null) {
        finish();
    }
    this.name.setText(this.contact.getName());

    // pre-load information about all account types
    AuthenticatorDescription[] authTypes = AccountManager.get(this).getAuthenticatorTypes();
    for (AuthenticatorDescription authDesc : authTypes) {
        this.map.put(authDesc.type, authDesc);
    }

    // bind list events
    this.list.setOnItemClickListener(this);
    this.list.setOnCreateContextMenuListener(this);

    // create the GUI
    updateView();

    saveGreeting = (ImageButton) findViewById(R.id.greeting);
    saveGreeting.setOnClickListener(new OnClickListener() {
        public void onClick(View v) {
            customGreeting(v);
        }
    });
    buttonSend = (Button) findViewById(R.id.buttonSend);
    textSMS = (EditText) findViewById(R.id.editTextSMS);
    buttonSend.setOnClickListener(new OnClickListener() {

        @Override
        public void onClick(View v) {

          String recepient = name.getText().toString();
          String sms = textSMS.getText().toString();

          try {
            SmsManager smsManager = SmsManager.getDefault();
            smsManager.sendTextMessage(recepient, null, sms, null, null);
            Toast.makeText(getApplicationContext(), "SMS Sent!",
                        Toast.LENGTH_LONG).show();
          } catch (Exception e) {
            Toast.makeText(getApplicationContext(),
                "SMS faild, please try again later!",
                Toast.LENGTH_LONG).show();
            e.printStackTrace();
          }

        }
    });
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-25T05:14:26.360

Android API 示例有一个很好的例子，你为什么不试一试

它位于：

```
 ...\sdk\samples\android-17\ApiDemos\src\com\example\android\apis\os\SmsMessagingDemo.java 
```

从示例粘贴：

```
 SmsManager sms = SmsManager.getDefault();

       List<String> messages = sms.divideMessage(contentTextEdit.getText().toString());

       String recipient = recipientTextEdit.getText().toString();
       for (String message : messages) {
             sms.sendTextMessage(recipient, null, message, PendingIntent.getBroadcast(
                            SmsMessagingDemo.this, 0, new Intent(ACTION_SMS_SENT), 0), null);
        } 
```

为 SMS 发送和传递的意图注册广播接收器

```
registerReceiver(new BroadcastReceiver() {
            @Override
            public void onReceive(Context context, Intent intent) {
                String message = null;
                boolean error = true;
                switch (getResultCode()) {
                case Activity.RESULT_OK:
                    message = "Message sent!";
                    error = false;
                    break;
                case SmsManager.RESULT_ERROR_GENERIC_FAILURE:
                    message = "Error.";
                    break;
                case SmsManager.RESULT_ERROR_NO_SERVICE:
                    message = "Error: No service.";
                    break;
                case SmsManager.RESULT_ERROR_NULL_PDU:
                    message = "Error: Null PDU.";
                    break;
                case SmsManager.RESULT_ERROR_RADIO_OFF:
                    message = "Error: Radio off.";
                    break;
                }
.... 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-25T05:43:11.000

> 注册 BroadcastReceiver 进行发送和交付，如下所示

void sendSMS(String phoneNumber, String message) {
/* PendingIntent pi = PendingIntent.getActivity(this, 0, new Intent(this, test.class), 0);
SmsManager sms = SmsManager.getDefault(); sms.sendTextMessage(phoneNumber, null, message, pi, null);
*/

```
 String SENT = "SMS_SENT";
        String DELIVERED = "SMS_DELIVERED";

        PendingIntent sentPI = PendingIntent.getBroadcast(this, 0,
            new Intent(SENT), 0);

        PendingIntent deliveredPI = PendingIntent.getBroadcast(this, 0,new Intent(DELIVERED), 0);

        //---when the SMS has been sent---
       first =  new BroadcastReceiver(){
            @Override
            public void onReceive(Context arg0, Intent arg1) {
                boolean status = false;
                switch (getResultCode())
                {
                    case Activity.RESULT_OK:
                        status = true;
                       /* Toast.makeText(getBaseContext(), "SMS sent", 
                                Toast.LENGTH_SHORT).show();*/
                        break;
                    case SmsManager.RESULT_ERROR_GENERIC_FAILURE:
                        /*Toast.makeText(getBaseContext(), "Generic failure", 
                                Toast.LENGTH_SHORT).show();*/
                        break;
                    case SmsManager.RESULT_ERROR_NO_SERVICE:
                        /*Toast.makeText(getBaseContext(), "No service", 
                                Toast.LENGTH_SHORT).show();*/
                        break;
                    case SmsManager.RESULT_ERROR_NULL_PDU:
                        /*Toast.makeText(getBaseContext(), "Null PDU", 
                                Toast.LENGTH_SHORT).show();*/
                        break;
                    case SmsManager.RESULT_ERROR_RADIO_OFF:
                     /*   Toast.makeText(getBaseContext(), "Radio off", 
                                Toast.LENGTH_SHORT).show();*/
                        break;
                }
                if(!status)
                {
                    Toast.makeText(getBaseContext(), "SMS Send Failed", 
                            Toast.LENGTH_SHORT).show();
                    unregisterReceiver(this);
                }
            }
        };
        registerReceiver(first,new IntentFilter(SENT));

        //---when the SMS has been delivered---
        second =new BroadcastReceiver(){
            @Override
            public void onReceive(Context arg0, Intent arg1) {
                switch (getResultCode())
                {
                    case Activity.RESULT_OK:
                        smsReply(true);
                        /*Toast.makeText(getBaseContext(), "SMS delivered", 
                                Toast.LENGTH_SHORT).show();*/
                        break;
                    case Activity.RESULT_CANCELED:
                        smsReply(false);
                       /* Toast.makeText(getBaseContext(), "SMS not delivered", 
                                Toast.LENGTH_SHORT).show();*/
                        break;                      
                }
                unregisterReceiver(this);
            }
        };
        registerReceiver(second, new IntentFilter(DELIVERED));        

        SmsManager sms = SmsManager.getDefault();
        sms.sendTextMessage(phoneNumber, null, message, sentPI, deliveredPI);               
    } 
```

注册 BroadcastReceiver 后不要忘记在 onStop() 方法中取消注册 BroadcastReceiver。

```
if(first!=null) 
```

`unregisterReceiver(first); if(second!=null) unregisterReceiver(second);`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-25T05:14:31.243

阿米特

告诉我在哪里检查这个在模拟器中短信不发送

这仅在实际设备中发送

请查看下面提到的链接

它工作正常

1) [http://mobiforge.com/developing/story/sms-messaging-android](http://mobiforge.com/developing/story/sms-messaging-android)

2) [http://katharnavas.wordpress.com/2009/10/07/how-to-send-sms-from-android-programatically/](http://katharnavas.wordpress.com/2009/10/07/how-to-send-sms-from-android-programatically/)

3) [http://saga-androidapplication.blogspot.in/2011/06/how-to-send-and-receive-message-using.html](http://saga-androidapplication.blogspot.in/2011/06/how-to-send-and-receive-message-using.html)

4) [http://www.java-samples.com/showtutorial.php?tutorialid=1540](http://www.java-samples.com/showtutorial.php?tutorialid=1540)

5) [http://codeoncloud.blogspot.in/2012/06/send-sms-from-android-application.html](http://codeoncloud.blogspot.in/2012/06/send-sms-from-android-application.html)

让我告诉您是否仍然面临任何问题

# haskell - 哈斯克尔计算器

> ID：15060523
> 
> 赞同：1
> 
> 时间：2013-02-25T05:10:20.303
> 
> 标签：haskell

这是我的新主要内容，`error: parse error on input '->'` 我评论了错误所在。会不会是某个地方的缩进错误？

```
main :: IO()
main = do
  expression <- evaluate_input
  putStrLn $ show $ compute expression

evaluate_input :: IO ()
evaluate_input = do
  args <- getArgs
  case args of
    a:s -> return a
    -> do putStrLn "Enter Expression or 'end' to exit calculator"
           hFlush stdout
           getLine
           unless (expression -> "end") $ showExpr expression --error here
  where
    showExpr expression = do putStrLn $ evaluateExpr expression
                        evaluate_input
evaluateExpr :: String -> String
evaluateExpr = show 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-25T05:28:15.047

您的代码几乎没有问题

*   `until`没有正确使用。当我不得不一次又一次地重复相同的动作时，我发现递归更好。您可以编写 monadic 版本`until`并使用它。
*   最好`getArgs`在 main 内使用一次。你不需要每次都重复。

更正的版本在这里。我还没有实现所有的功能，所以你仍然需要做解析和评估表达式的艰苦工作。

```
import Control.Monad (unless)

main :: IO ()
main = evaluate

evaluate :: IO ()
evaluate = do
  putStrLn "Enter Expression"
  expr <- getLine
  unless (expr == "end") $ showExpr expr
 where
   showExpr expr = do putStrLn $ evaluateExpr expr
                      evaluate

evaluateExpr :: String -> String
evaluateExpr = show 
```

# c# - 如何获取列中值的数量？

> ID：15060529
> 
> 赞同：0
> 
> 时间：2013-02-25T05:11:20.117
> 
> 标签：c#, sql

我有一张桌子叫`tbl_company`. 它有字段

```
id  comp_name     followers
 1    abc         15,23,88,99
 2    bbc         1,10,66 
```

在关注者字段中，我正在保存关注该公司的员工的员工 ID。这工作正常。在代码后面，每个公司页面，我想显示有多少粉丝

`abc company`我想显示的页面中的示例

没有关注的人是 `4`

`bbc company`我想显示的页面中的示例

没有关注的人是 `3`

像这样我想显示。我怎么能得到这个计数.....

谢谢

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-25T05:16:54.310

数据库字段中的逗号分隔列表很笨拙，通常是一个非常糟糕的主意。主要原因是它完全否定了首先使用关系数据库的原因（例如索引、外键和连接）。

您应该规范化您的数据库，以便您拥有：

```
tbl_company
--------------
id comp_name
1个ABC
2 英国广播公司

```

```
company_followers
----------------------
company_id follower_id
1 15
1 23
1 88
1 99
2 1
2 10
2 66

```

然后您可以简单地执行以下 SQL：

```
SELECT COUNT(1)
FROM company_followers
WHERE company_id = @company_id 
```

* * *

如果你完全被这个模式所困扰，你应该首先向编写它的人抱怨，如果可能的话<g>，那么最简单的解决方案是返回整个该死的字符串并计算 C# 中的逗号（当然还要加 1）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-25T05:13:50.290

这是`TSQL`版本，

```
SELECT  ID, 
        Comp_name, 
        CASE WHEN LEN(followers) > 0
             THEN (LEN(followers) - LEN(REPLACE(followers, ',', '')) + 1)
             ELSE 0
        END as FollowerCount 
FROM    tableName 
```

*   [SQLFiddle 演示](http://www.sqlfiddle.com/#!3/536a9/3)

在`MySQL`

```
SELECT  ID, 
        Comp_name, 
        CASE WHEN CHAR_LENGTH(followers) > 0
             THEN (CHAR_LENGTH(followers) - CHAR_LENGTH(REPLACE(followers, ',', '')) + 1)
             ELSE 0
        END as FollowerCount 
FROM    tableName 
```

*   [SQLFiddle 演示](http://www.sqlfiddle.com/#!2/0d50b/1)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-25T05:22:25.190

这不是一个好的数据库设计。使用这种表结构，您必须三思而后行。这可以进一步规范化。如果您一开始没有正确执行此操作，则可能会在以后导致问题并且不可扩展。因此，如果您可以更改表结构会更好。

具有新表结构的数据将如下所示。

公司表：

```
id     comp_name
1      abc
2      bbc 
```

company_follower 表：

```
company_id     follower
1              15
1              23
1              88
1              99
2              1
2              10
2              66 
```

那么您对结果的查询是，

```
SELECT COUNT(company_id)
  FROM company_follower
  WHERE company_id = @company_id; 
```

# python - python collections.defaultdict，列表长度为 2

> ID：15060530
> 
> 赞同：5
> 
> 时间：2013-02-25T05:11:50.043
> 
> 标签：python, defaultdict

我有一种情况，一个键将有两个值，这些值将在程序期间更新。更具体地，从一个空字典 d = {} 开始，我想做这样的事情： `d[a][0] += 1`或者`d[a][1] += 1`其中*a*是一个浮点类型，在程序运行时也可以找到它。我可以做一些事情`d = defaultdict(list([0,0]))`（这会产生错误）吗？我希望字典中的默认值是两个元素的列表。我该怎么做呢？

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2013-02-25T05:14:42.460

只需阅读[文档](http://docs.python.org/2/library/collections.html#collections.defaultdict)：

> 如果`default_factory`不是 None，则不带参数调用它以为给定键提供默认值，该值插入到键的字典中，并返回。

也就是说，defaultdict 的参数不是默认值，它是一个被调用以产生默认值的函数。所以就这样做：

```
defaultdict(lambda: [0,0]) 
```

（无需`list([0,0])`显式使用。 `[0,0]`已经是一个列表。）

# javascript - 使用 javascript 读取属性文件

> ID：15060532
> 
> 赞同：1
> 
> 时间：2013-02-25T05:12:02.493
> 
> 标签：javascript, properties

*   我的本地机器上有一个带有这个值的 db.properties 文件。
*   aaa = 主机、端口、用户名、密码
*   我有一个带有按钮的 jsp 页面。单击按钮时，我需要使用 javascript 读取属性文件值（aaa = 主机、端口、用户名、密码）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2017-01-21T05:05:31.800

如果您使用的是简单的 javascript，请从[此处](https://github.com/suhaibkhan/messageResource.js)包含 MessageResource.js，这将解决问题。

如果您使用任何脚本框架，它将包含读取 .properties 文件的内置功能。例如，SAPUI5 包含执行此操作的 oBundle 功能。

# azure - Team Foundation Service 自动构建和测试数据库错误

> ID：15060536
> 
> 赞同：1
> 
> 时间：2013-02-25T05:12:31.527
> 
> 标签：azure, azure-devops

我正在尝试在 Team Foundation Service 上设置自动构建和测试，但我无法让测试连接到我的 Azure 数据库，因此我的测试一直失败。

构建进行得很好，但是导致站点连接到我的数据库的任何测试都失败了。我在 Azure 上设置了我的数据库并将其与我的 Azure 站点相关联。我为数据库配置了允许的 IP 地址以包括我的本地计算机，并将其设置为允许 Azure 服务连接。该站点在我的机器上本地运行，并且在发布到我的 Azure 网站时也可以运行，并且可以从两个地方连接到 Azure 数据库。

我正在使用 Team Foundation Service ( [https://tfs.visualstudio.com/](https://tfs.visualstudio.com/) ) 进行源代码控制，并在 Team Foundation Service 中设置了自动构建，并从这些构建持续部署到 Azure。该工作的所有其他方面都很好，源代码控制，在签入时开始构建，构建部署到我的 Azure 站点，但我的测试都没有通过。

*错误信息：*

在代码优先 EF 的项目中：

> 测试方法 MySite.Tests.Controllers.HomeControllerTest.Index 抛出异常：System.Data.SqlClient.SqlException：数据库“master”中的 CREATE DATABASE 权限被拒绝。

在具有数据库优先 EF 的项目中：

> 测试方法 tfstest4.Tests.Controllers.HomeControllerTest.Index 抛出异常：System.InvalidOperationException：在应用程序配置文件中找不到名为“TestDbContext”的连接字符串。

（请注意，连接字符串确实存在，并且它在本地和部署到 Azure 后都可以正常工作）

非常感谢有关在需要访问数据库的 Team Foundation Service 上运行单元测试的任何建议。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T12:16:23.883

如果您正在运行自动化*单元测试*，我的建议是删除对数据库的任何依赖项，因为您没有理由测试实体框架。我个人会做的是将我的数据库层隐藏在某种形式的存储库接口后面，并在运行我的测试时提供一些模拟实现，使用某种形式的依赖注入策略或工厂模式。

如果您还在运行自动化*集成测试*，则涉及数据库可能更有意义。测试项目的配置中可能不存在您的连接字符串。我不确定你如何告诉 EF 使用哪个连接字符串，但我建议避免直接依赖于设置条目。

如果您使用 EF Code First，您可以将连接字符串作为参数提供给 DbContext 类的基本构造函数。例如，您可以将连接字符串放入静态属性中，并在实例化数据库上下文时获取它

```
public static class MyConnectionStringProvider
{
    public static string ConnectionString{ get; set; }
}

public class MyDbContext : DbContext
{
    public MyDbContext() 
       : base(MyConnectionStringProvider.ConnectionString)
    { }
} 
```

现在，在您的应用程序启动和测试设置例程中的某个时刻，您可以设置连接字符串。这允许您控制要使用的连接字符串。

例如，如果您正在运行一个 azure 网站，您通常会在 Application_Start 方法中从角色配置而不是 app.config 文件中获取连接字符串。

```
MyConnectionStringProvider.ConnectionString = 
     RoleEnvironment.GetConfigurationSettingValue("MyConnectionString") 
```

在你的测试课上，你可以做一些完全不同的事情

```
MyConnectionStringProvider.ConnectionString = "[connectionstring to my test database]" 
```

最后，可能需要整理一些防火墙怪癖，因为您可能需要在 SQL Azure 服务器防火墙中为运行测试的计算机添加一个例外。如果有必要，我会就此联系 MS Support。

# php - php 测试是否有人 Facebook 喜欢我没有 appId 的网址

> ID：15060539
> 
> 赞同：0
> 
> 时间：2013-02-25T05:12:42.977
> 
> 标签：php, facebook, facebook-like, xfbml

这不是[如何使用 Facebook 的 API 检查用户是否喜欢我的 Facebook 页面或 URL 的](https://stackoverflow.com/questions/5093398/how-to-check-if-a-user-likes-my-facebook-page-or-url-using-facebooks-api)重复，它是关于在 Facebook 上使用和 appId 来喜欢粉丝页面...这是关于在没有 appId 的情况下喜欢 url。

我看到 3 个测试来查看是否有人喜欢（或粉丝）我的 Facebook APP，但我如何测试是否有人喜欢我的网址（不一定是现在，可能是一周前）？在 php.ini 中从我的 url 进行测试。我认为如果它已经完成，Like 按钮会变灰，也许这是一种方式，但那将是 js，而不是 php。如果这是唯一的方法，我会选择 js。

```
<p data-href="http://www.brain-games-for-fun.com" data-send="false"
 data-layout="button_count" 
data-width="50" data-show-faces="false" data-colorscheme="dark"></p>

(core facebook js function() clipped) 

<?php

require 'face_sdk/face/src/facebook.php';

$facebook = new Facebook(array(
  'appId' => 'www.brain-games-for-fun.com',
  'secret' => '',
));

$user = $facebook->getUser();
$page = 'www.brain-games-for-fun.com';

if ($user) {
   try { 
  $likeID = $facebook->api(array( 'method' => 'fql.query', 'query' =>
      'SELECT target_id FROM connection WHERE source_id =' . $user . 
              'AND target_id =' .$page ));
  if ( empty($likeID) ) {
      // user has NOT Liked the page
      echo "Like my page!";
  } else {
      // user HAS Liked the page
      echo "Thank you for liking my page";
  }
  } catch (FacebookApiException $e) { error_log($e); }
} else {
    echo 'click to sign in so I can see if you Liked me in the past<br/>';
} 
```

以上不起作用。我没有 APP_ID、APP_SECRET 等的 url！因此，即使我通过点击 Like 按钮登录 Facebook，上面的 if ($user) 块也不会运行。（虽然它确实使按钮变灰）。我是否应该制作一个 Facebook 网络应用程序（沙盒外），以便有人可以喜欢我的网址？

# asp.net-mvc - 如何持久化使用 EF 4.x POCO Entity Generator for C# 生成的 poco 类

> ID：15060542
> 
> 赞同：1
> 
> 时间：2013-02-25T05:12:51.343
> 
> 标签：asp.net-mvc, asp.net-mvc-3, entity-framework, data-annotations, poco

我`EF 4.x POCO Entity Generator`用于`C#`从数据库生成类。我在某些类上放了一些数据注释，并且工作正常。

但是当我在数据库中进行任何更改并更新实体模型时，它会删除 poco 类（数据注释）中的所有更改，因为`"EF 4.x POCO Entity Generator for C#"`持久性无知。

但我想保留我的更改。我该怎么办？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T05:24:37.883

很常见的问题。你想要的是好友课程。

[http://hartzer.wordpress.com/2010/01/26/mvc-buddy-class/](http://hartzer.wordpress.com/2010/01/26/mvc-buddy-class/)

由于 POCO 是部分类，您可以使用元数据注释为每个 POCO 创建“伙伴类”（在 EDMX 广告重新生成的代码之外持续存在）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-25T05:44:34.890

您的解决方案是使用实体框架电动工具从数据库生成代码。

应该首先*对您的代码*进行额外的数据库更改，并使用实体框架的数据库迁移功能生成您的 SQL 脚本，以使用 Visual Studio 的“包管理器控制台”中的 update-database 命令应用于数据库。在我的 DEV215 Entity Framewok for Real Web Applications Channel 9 视频的末尾有类似的过程

[http://channel9.msdn.com/Events/TechEd/NorthAmerica/2012/DEV215](http://channel9.msdn.com/Events/TechEd/NorthAmerica/2012/DEV215)

# html - 我想不通为什么有这么多空位？

> ID：15060543
> 
> 赞同：0
> 
> 时间：2013-02-25T05:12:51.083
> 
> 标签：html, css

[我不知道如何删除此页面](http://www.uteznvanz.com.au/index.html)底部的所有额外空间。我是网页设计的初学者，它可能表明，我只知道 HTML 和 CSS，然后只知道一点，但如果我出错了，任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T05:17:26.217

您在“p”标签中有位置：相对的图像；需要适当更新它们目前在底部不可见，但在页面底部占用空间。它们是右上角的按钮图像。

示例：adidaroadwork.png

您需要检查您的设计和 css 以解决此问题。

# hadoop - 在 windows xp 上安装 hadoop

> ID：15060545
> 
> 赞同：-1
> 
> 时间：2013-02-25T05:12:57.063
> 
> 标签：hadoop

我在尝试在 windows32 位上安装 hadoop 时遇到问题我按照雅虎教程安装 hadoop [http://developer.yahoo.com/hadoop/tutorial/](http://developer.yahoo.com/hadoop/tutorial/) 并成功下载了 VMplayer 和 Hadoop 虚拟机映像，但我是无法配置eclipse插件

使用 jar 我可以在 eclipse 中编写基本的 map-reduce 程序，现在在编写了如何在 hadoop 上执行它们之后，就像使用 hadoop vMimage 一样，我找不到 bin 目录

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T13:13:27.760

Hortonworks 通过 windows powershell 脚本修改 shell 脚本包装器发布了 windows 版本的 hadoop。你可以直接在你的windows机器上安装hadoop。

使用以下链接下载 windows 版本：

```
http://s3.amazonaws.com/public-repo-1.hortonworks.com/HDP-Win/1.1/Beta/HDP-WIN-1.1.0_BETA-hadoop.zip 
```

# javascript - 错误查找、HTML 和 Javascript

> ID：15060547
> 
> 赞同：0
> 
> 时间：2013-02-25T05:13:07.673
> 
> 标签：javascript, html, debugging

我很难在我为一个班级设计的看似简单的 HTML/Javascript 页面中找到错误。我花了几个小时查看此页面的代码（以及其他 3 个让我发疯的代码）。我想知道是否有一些语法被我漏掉了？在此页面中，我们将编写一个脚本来破译客户是否超过了他们的信用额度。在此页面和其他 3 个页面中，onclick 事件似乎不起作用。这是完整的代码：

```
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
<title>Homework 3 Part 3</title>
<style type="text/css">
tr.visiting {background-color: #000000; }

h1.header {color: #333333;} 
.creditbox { 

    background-color: #ffcc66;
    width: 60%;
    border:solid 5px #666666;
    margin-left:auto;
margin-right:auto;

}

table {
    text-align: right;
}
td.visiting {background-color: #000000; }
input {text-align: right;}
</style>
<script type="text/javascript">
/* <![CDATA[ */

function creditCalc() 
{
    var account, credLim, begBalance, totalCharged, credit, balance, endBalance;

    account = parseInt(document.creditLimitForm.accountNum.value);
    credLim = parseInt(document.creditLimitForm.creditLimit.value);
    begBalance = parseInt(document.creditLimitForm.beginningBalance.value);
    totalCharged = parseInt(document.creditLimitForm.amtCharged.value);
    credit = parseInt(document.creditLimitForm.creditsApplied.value);   

    balance = begBalance + totalCharged;
    endBalance = balance - credit;

    documemt.creditLimitForm.creditDisplay.value("Account Number:  " + account + "\nCredit Limit:  " + credLim + "\nBeginning Balance: " + begBalance + "\nTotal Charged this month:  " + totalCharged + "\nTotal credits this month:  " + credit + "\nCredit Available:  " + endBalance);

document.getElementById("creditAvailable").innerHTML = endBalance;

}

/*]]>*/
</script>

</head>

<body bgcolor = "#ffffff" alink = "#FFFFCC" link = "#FFFFCC" vlink = "#FFFFCC">
<table id="border" width="70%" align ="center" cellpadding="0">
        <tr>
        <td align="center">
            <img src="hw3Banner.jpg" alt="Homework Banner" align="middle" />
        </td>
        </tr>
    </table>
    <br />
    <table border="1" width="500" align ="center" bgcolor="#666666" cellpadding="2.5">
     <tr><td align = "center"><font face ="baskerville" color="#FFFFCC" /><a href="homework3.html">HW 3 Main</a></td>
     <td align = "center"><font face ="baskerville" color="#FFFFCC" /><a href="homework3pt1.html">Part 1</a></td>
     <td align = "center"><font face ="baskerville" color="#FFFFCC" /><a href="homework3pt2.html">Part 2</td>
     <td class="visiting" align = "center"><font face ="baskerville" color="#FFFFCC" /><a href="homework3pt3.html">Part 3</a></td>
    <td align = "center"><font face ="baskerville" color="#FFFFCC" /><a href="homework3pt4.html">Part 4</a></td>
    <td align = "center"><font face ="baskerville" color="#FFFFCC" /><a href="homework3pt5.html">Part 5</a></td>
    <td align = "center"><font face ="baskerville" color="#FFFFCC" /><a href="homework3pt6.html">Part 6</a></td></tr></table>

<br />
<div class="creditbox" align="center" >
<form name="creditLimitForm" action="">
<br />
<h1 class="header">Customer Credit Limit Check</h1>
<br />

<table class="creditLimitForm">
<tr>
<td>Customer Account Number:</td>
<td><input type="text" id="accountNum" name="accountNum" size="15" /></td>
</tr>
<tr>
<td>1st of Month Balance: </td>
<td>$<input type="text" id="beginningBalance" name="beginningBalance" size="15" /></td></tr>
<tr>
<td>Total charged by customer this month: </td>
<td>$<input type="text" id="amtCharged" name="amtCharged" size="15" /></td>
</tr>
<tr>
<td>Total credits applied to account </td>
<td>$<input type="text" id="creditsApplied" name="creditsApplied" size="15" /></td>
</tr>
<tr>
<td>Allowed Credit Limit</td>
<td>$<input type="text" id= "creditLimit" name="creditLimit" size="15" /></td>
</tr>
</table>

<br />
<textarea rows="7" cols="50" name="creditDisplay"></textarea>
<br /><br />
<input type="button" onclick="creditCalc();" value="Check Credit" />&nbsp;&nbsp;&nbsp;&nbsp;

<input type="reset" value="Reset Form" />

<p>Credit Available: </p>
<p id="creditAvailable"></p>

</form>
<br />
<br />
</div>
</body>
</html> 
```

任何可以来救援的优秀调试器？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T05:19:31.287

使用 Firebug for Firefox 或 Chrome 的内置调试工具（或其他浏览器的类似工具），它会让您的生活更轻松...

至于你的具体问题，`onclick`确实应该是调用函数，所以错误一定在`creditCalc`函数的某个地方。如果您仍然遇到问题，请至少转到浏览器中的错误控制台并在此处发布输出；如果没有任何错误消息，则很难猜测问题可能是什么。

编辑：错误控制台中也可能没有任何错误，这对回答您的问题的人来说也是有用的信息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T05:29:29.360

在 chrome 上很容易找到 javascript 中的错误。
您只需在 chrome 中加载或重新加载页面之前单击鼠标右键。并选择

```
inspect element 
```

比在底部工具栏上。查找`Console`单击它，您将能够在文件中看到任何 javascript 错误。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-25T05:36:06.170

好的，这里试试这段代码：

```
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
<title>Homework 3 Part 3</title>
<style type="text/css">
tr.visiting {background-color: #000000; }

h1.header {color: #333333;} 
.creditbox { 

    background-color: #ffcc66;
    width: 60%;
    border:solid 5px #666666;
    margin-left:auto;
margin-right:auto;

}

table {
    text-align: right;
}
td.visiting {background-color: #000000; }
input {text-align: right;}
</style>
<script type="text/javascript">
/* <![CDATA[ */

function creditCalc() 
{
var account, credLim, begBalance, totalCharged, credit, balance, endBalance;

    account = parseInt(document.creditLimitForm.accountNum.value);
    credLim = parseInt(document.creditLimitForm.creditLimit.value);
    begBalance = parseInt(document.creditLimitForm.beginningBalance.value);
    totalCharged = parseInt(document.creditLimitForm.amtCharged.value);
    credit = parseInt(document.creditLimitForm.creditsApplied.value);   

    balance = begBalance + totalCharged;
    endBalance = balance - credit;
/*
    documemt.creditLimitForm.creditDisplay.value("Account Number:  " + account + "\nCredit Limit:  " + credLim + "\nBeginning Balance: " + begBalance + "\nTotal Charged this month:  " + totalCharged + "\nTotal credits this month:  " + credit + "\nCredit Available:  " + endBalance);*/

document.getElementById("creditAvailable").innerHTML = "Account Number:  " + account + "\nCredit Limit:  " + credLim + "\nBeginning Balance: " + begBalance + "\nTotal Charged this month:  " + totalCharged + "\nTotal credits this month:  " + credit + "\nCredit Available:  " + endBalance;

}

/*]]>*/
</script>

</head>

<body bgcolor = "#ffffff" alink = "#FFFFCC" link = "#FFFFCC" vlink = "#FFFFCC">
<table id="border" width="70%" align ="center" cellpadding="0">
        <tr>
        <td align="center">
            <img src="hw3Banner.jpg" alt="Homework Banner" align="middle" />
        </td>
        </tr>
    </table>
    <br />
    <table border="1" width="500" align ="center" bgcolor="#666666" cellpadding="2.5">
     <tr><td align = "center"><font face ="baskerville" color="#FFFFCC" /><a href="homework3.html">HW 3 Main</a></td>
     <td align = "center"><font face ="baskerville" color="#FFFFCC" /><a href="homework3pt1.html">Part 1</a></td>
     <td align = "center"><font face ="baskerville" color="#FFFFCC" /><a href="homework3pt2.html">Part 2</td>
     <td class="visiting" align = "center"><font face ="baskerville" color="#FFFFCC" /><a href="homework3pt3.html">Part 3</a></td>
    <td align = "center"><font face ="baskerville" color="#FFFFCC" /><a href="homework3pt4.html">Part 4</a></td>
    <td align = "center"><font face ="baskerville" color="#FFFFCC" /><a href="homework3pt5.html">Part 5</a></td>
    <td align = "center"><font face ="baskerville" color="#FFFFCC" /><a href="homework3pt6.html">Part 6</a></td></tr></table>

<br />
<div class="creditbox" align="center" >
<form name="creditLimitForm" action="">
<br />
<h1 class="header">Customer Credit Limit Check</h1>
<br />

<table class="creditLimitForm" id="creditLimitForm">
<tr>
<td>Customer Account Number:</td>
<td><input type="text" id="accountNum" name="accountNum" size="15" /></td>
</tr>
<tr>
<td>1st of Month Balance: </td>
<td>$<input type="text" id="beginningBalance" name="beginningBalance" size="15" /></td></tr>
<tr>
<td>Total charged by customer this month: </td>
<td>$<input type="text" id="amtCharged" name="amtCharged" size="15" /></td>
</tr>
<tr>
<td>Total credits applied to account </td>
<td>$<input type="text" id="creditsApplied" name="creditsApplied" size="15" /></td>
</tr>
<tr>
<td>Allowed Credit Limit</td>
<td>$<input type="text" id= "creditLimit" name="creditLimit" size="15" /></td>
</tr>
</table>

<br />
<textarea rows="7" cols="50" name="creditDisplay"></textarea>
<br /><br />
<input type="button" onclick="creditCalc();" value="Check Credit" />&nbsp;&nbsp;&nbsp;&nbsp;

<input type="reset" value="Reset Form" />

<p>Credit Available: </p>
<p id="creditAvailable"></p>

</form>
<br />
<br />
</div>
</body>
</html> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-25T05:36:28.170

```
 the problem with your this line otherwise its working fine.just try with alert instead.

     documemt.creditLimitForm.creditDisplay.value("Account Number:  " + account + "\nCredit    Limit:  " + credLim + "\nBeginning Balance: " + begBalance + "\nTotal Charged this month:  " + totalCharged + "\nTotal credits this month:  " + credit + "\nCredit Available:  " + endBalance); 
```

这是造成问题。

documemt.creditLimitForm.creditDisplay.value

尝试警报并检查。

# python - 如何使用选项运行 python 脚本

> ID：15060550
> 
> 赞同：4
> 
> 时间：2013-02-25T05:13:14.183
> 
> 标签：python, arguments, options, sys

我正在寻找一种有效的方法来编写可以使用连字符-单字母-空格-参数约定调用的python脚本（例如`python script.py -f /filename -t type -n 27`，其中`f`、、`t`和`n`是与选项类型相对应的单个字母，以及`/filename`、`type`和`27`是它们的值）。我知道该`sys`库及其`sys.argv`功能是在调用之后获取以空格分隔的字符串的一种方式（请参阅[带有参数的调用程序](https://stackoverflow.com/questions/3316961/call-program-with-arguments/3317004#3317004)），但是当它们遵循上述约定时，是否有一种复杂的方法来处理这些字符串？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-25T05:23:35.707

您需要 python 标准库中的[`argparse`模块](http://docs.python.org/2/library/argparse.html#module-argparse)。

argparse 模块包含一个`ArgumentParser`类，您可以使用它来解析由`sys.argv`

使用示例：

```
import argparse
import sys

parser = argparse.ArgumentParser(description="Does some awesome things.")
parser.add_argument('message', type=str, help="pass a message into the script")

if __name__ == '__main__':
    args = parser.parse_args(sys.argv[1:])
    print args.message 
```

有关更多详细信息，例如如何合并可选、默认和多个参数，[请参阅文档](http://docs.python.org/2/library/argparse.html#module-argparse)。

# ruby-on-rails - 遍历 get_connections("me","friends")...这效率低吗？

> ID：15060553
> 
> 赞同：0
> 
> 时间：2013-02-25T05:13:33.333
> 
> 标签：ruby-on-rails

在我的用户模型中，我有一个`friends`方法可以返回所有用户的 facebook 好友的哈希值。在我看来，我遍历整个列表以按字母顺序对该列表进行分页。我不知道我的服务器是否运行得很慢，或者这是否效率极低。我怎样才能使这个过程更快？`friends`创建一个模型会更好吗？如果我的方法效率低下，请告诉我，原因，以及我如何能够使其更快。谢谢！

在我的 Home.html.erb 视图中`<%letter ='a'%>`，当用户选择不同的字母并且页面刷新时，我有哪些变化。

```
<% current_user.friends.each do |user| %>
    <% if user['name'].downcase.start_with? letter %>
       do something
<% end %> 
```

用户模型

```
def facebook
    @facebook ||= Koala::Facebook::API.new(token)
    block_given? ? yield(@facebook) : @facebook
rescue Koala::Facebook::APIError => e
    logger.info e.to_s
    nil
end

def friends
    facebook {|fb| fb.get_connections("me","friends")}.sort{|a,b| a['name']<=>b['name']}
end 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T06:11:11.770

肯定会减慢每个请求的一件事是，您在请求中间进行了外部 API 调用。第二要注意的是，您可能会带回大量数据，很容易达到数百甚至数千。

处理这个问题的更合适的方法是创建一个朋友模型，其中每个朋友都与用户有归属关系。在后台处理器（即延迟作业、resque、sidekiq）中，遍历您的用户并以您的服务器可以容忍的某个时间间隔更新他们的朋友。这将导致用户的朋友何时出现的延迟。您必须判断可以容忍多少延迟时间，这在很大程度上取决于您的用户数量和硬件预算。

这实际上是一种缓存机制，您可能需要考虑数据会更改、朋友可能会被删除等事实。您可以删除所有朋友并在每次刷新时重新创建整个列表。在事务中这样做将使删除在提交之前不会显示。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T07:31:31.727

您正在为每个请求进行外部 API 调用。另外，用户可能有很多朋友，比如 500、1000。

我在我的 fb 应用程序中处理后台作业（延迟作业）中的数据。您可以使用 resque 或 sidekiq 或其他一些背景来处理用户数据。

我建议您制作 Friend 模型并将其与 users 模型关联。然后，如果您有一些 n+1 查询问题，您可以使用`includes`，而不是使用`sort`use`order`它会更快`sort`。此外，它不会使用`each`use`find_each`来处理块中的数据，您可以用谷歌搜索 each 和 find_each 之间的差异。希望它会有所帮助

# c - 我在c中写了一个substr函数，但在main函数中无法获取返回值

> ID：15060556
> 
> 赞同：1
> 
> 时间：2013-02-25T05:13:49.147
> 
> 标签：c

我在c中写了一个substr函数，我可以在substr函数内部获取返回值，但在main函数中无法获取返回值。以下是所有代码：

```
#include <stdio.h>
#include <string.h>

char* substr(char *source, int start, int length)
{
    char result[10];
    char *r = result;
    strncpy(result, source+start, length);
    printf("substr: %s\n", r);
    return r;
}

int main()
{
    printf("main: %s\n", substr("HELLO", 1, 2));
} 
```

输出是：

```
substr: EL
main: 
```

我对c不熟悉，任何人都有解决这个问题的想法，在此先感谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-25T05:15:27.833

`result`仅在调用您的`substr`. 你指的`main`是糟糕的记忆。

你可以通过以下方式修复它：

*   使 substr 中的结果为静态。
*   动态分配结果（记得释放）
*   使结果全局化

正如 cthulhu ("Ph'nglui mglw'nafh Cthulhu R'lyeh wgah'nagl fhtagn" ) 指出的那样：即使您应用了我的修复方法之一：您的字符串也不是 nul 终止的。

此外，由于您有一个固定大小的结果缓冲区，您可能会通过要求一个长度超过 10 的子字符串来引起问题 - 请检查您的参数，或者不使用固定大小的缓冲区。

我还没有测试过这个，所以很可能有一个“偏离”的问题或两个潜伏在角落里......

```
/* 
 * Caller must free the results if they are non null 
 */
char* substr(char *source, int start, int length)
{
    /* If the input is NULL, return NULL */
    if (source == NULL) return NULL;

    int len = strlen(source);

    /* If the requested start is off the end of the string, return NULL */
    if (start > len) return NULL;

    /* If the requested length is 0 or less, return NULL */ 
    if (length <= 0) return 0;

    char *r = (char*)malloc(length + 1); /* allow space for null terminator */
    if (r != NULL) {
        int i = 0;
        while(source[start] != '\0' && i < length) {
            r[i++] = source[start++];
        }
        r[i] = '\0';
        printf("substr: %s\n", r);
    }
    return r;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T05:42:17.037

如果您希望向调用者返回一个值，那么您应该将存储字符串的位置传递给函数。像 strcpy 这样的标准库函数可以做到这一点。这是一个非常简单的例子。它假设 dest 已经声明并且足够大来存储它。

```
char * substr(char * dest, char * src, int start, int length)
{
    //  Move substring into passed destination pointer
    strncpy(dest, src + start, length);

    //  Append null to the end to terminate string
    dest[length] = 0;

    //  Return string pointer that can be used in printf and other places
    return dest;
}

int main(int argc, char const *argv[])
{
    char * test = "This is a test.";
    char * dest = malloc(10);
    printf("%s", substr(dest, test, 5, 2));
    free(dest);
    return 0;
} 
```

输出： `is`

编辑：对于所有返回函数内部 malloc 值的人，如果他们只是在 print 语句中使用它，您如何期望人们释放内存？他们没有收到指向空闲的指针，内存只会挂在那里。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-25T05:45:37.053

下面的代码在堆上分配内存。完成后只是`free`你的记忆。正如其他人指出的那样，strlcpy 总是以 NUL 终止其字符串。

```
#include <string.h>

char *
substr(char *s, int start, int len)
{
    char *ss;

    if(strlen(s) < start + len)
        return NULL;
    if((ss = malloc(len + 1)) == NULL)
        return NULL;
    strlcpy(ss, s + start, len);
    return ss;
}

int
main(void)
{
    char *s = substr("Hello World!", 6, 5);
    printf("%s\n", s);
    free(s);
    return 0;
} 
```

应该打印`World`。

要`strlcpy`在 Debian Linux 中使用，请使用：

```
gcc -lcext -o prog prog.c 
```

如果您的操作系统不提供`strlcpy`，只需将其包含在您的源代码中即可。它是根据 BSD 许可证获得许可的，这意味着可以免费使用、销售等，只要您包含许可证本身。

strlcpy 的实现可以在[OpenBSD 的 CVS Web](http://www.openbsd.org/cgi-bin/cvsweb/src/lib/libc/string/strlcpy.c?rev=1.11)上找到。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-02-25T05:41:23.600

**C中的动态和静态变量**

变量声明可以在所有函数之外或在函数内部 所有函数外部的声明都是全局的并且在固定的内存位置静态声明将函数外部的变量声明为“文件全局”（不能被其他源文件中的代码引用） 声明在块语句内{}（函数体或嵌套在函数体内的块语句）：动态分配，除非声明为静态当程序执行进入块时分配内存当执行退出块时释放内存如果函数调用自身（直接或间接地），它得到一组新的动态变量（称为堆栈帧）这与对函数的任何其他调用没有区别

您有问题，该变量`result[]`是已在函数内部分配的变量-其生命周期延伸到函数的整个运行（在堆栈中分配！）因为您需要创建`result` **动态变量**

**修复代码：**

```
#include <stdio.h>
#include <string.h>

char* substr(char *source, int start, int length)
{
    char* result;
    char *r;
    result=(char*)malloc(sizeof(char)*10);
    r = result;
    strncpy(result, source+start, length);
    printf("substr: %s\n", r);
    return r;
}

int main()
{
    char* r=substr("HELLO", 1, 2);
    printf("main: %s\n",r );
    free(r)//Don't forget to free it!
} 
```

**或者你可以`result[]`像这样制作全局变量：**

```
#include <stdio.h>
#include <string.h>
char result[10];//<======Global
char* substr(char *source, int start, int length)
{
    char *r=result;
    r = result;
    strncpy(result, source+start, length);
    printf("substr: %s\n", r);
    return r;
}

int main()
{
    printf("main: %s\n",substr("HELLO", 1, 2));
} 
```

# apache-flex - 如何在一个系列中显示多种颜色？

> ID：15060571
> 
> 赞同：0
> 
> 时间：2013-02-25T05:14:49.400
> 
> 标签：apache-flex, colors, lineseries

我想根据某些条件在线条系列中显示不同的颜色。根据我的观察，我们可以在 columneries 上使用 fillFunction 来获得不同颜色的图表项目，但它对lineseries 没有任何影响。有什么方法可以得到多色线系列？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T13:21:11.427

它可以帮助你吗？

[具有可变彩色线条的 flex 折线图](https://stackoverflow.com/questions/14528652/flex-line-chart-with-variable-colored-line)

这种方法有点奇怪，但对我有用。

# java - 为方法或构造函数的参数使用引用数据类型

> ID：15060579
> 
> 赞同：-1
> 
> 时间：2013-02-25T05:16:08.710
> 
> 标签：java

我是 Java 新手，需要帮助理解**为方法或构造函数的参数传递引用数据类型的方法**

Oracle 的 J2SE 教程说：

> 在此示例中，该方法创建了一个新的 Polygon 对象并从 Point 对象数组对其进行初始化（假设 Point 是一个表示 x、y 坐标的类）：

```
public Polygon polygonFrom(Point[] corners) {  
    // method body goes here
} 
```

但这并不能帮助我理解这个概念。非常感谢详细的解释。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-25T05:23:02.517

在代码中，多边形将是这样的：

```
Point[] points = new Point[]{new Point(1,1), new Point(2,2)};
Polygon p = polygonFrom(points); 
```

除了括号内的角阵列。

这基本上为`polygonFrom`函数提供了`points`数组并随心所欲地使用它。但是，无论该`polygonFrom`方法做什么，实际上都不会改变原始`points`数组，而是会创建自己的数组供其操作。

例如，假设我有这样的代码：

```
String s = "Cheeseburger";
sayString(s); 
```

和一个方法：

```
public void sayString(String par1)
{
    par1 = par1 + "1";
    System.out.println(par1);
} 
```

此输出：`Cheeseburger1`，但字符串`s`仍然只有`Cheeseburger`。

如果您需要任何进一步的说明，请询问。

编辑：Paul Bellora 指出在某些情况下该`polygonFrom`方法可以更改`points`数组，我将在此处尝试解释。但是，如果这没有任何意义，那么您现在不应该担心它（所有这些都需要考虑）。

该`polygonFrom`方法可以在其自己的方法中以及在整个类中更改任何变量。因此，如果`points`数组是在方法之外（即方法之外）初始化的`main`，则`polygonFrom`方法可以更改`points`数组，但前提是`polygonFrom`方法内部的代码要求直接更改该变量。我希望这是有道理的。

例如，在课堂上：

```
Point[] points;

public MethodAccess()//constructor
{
    points = new Point[]{new Point(1,1), new Point(2,2)};
    Polygon p = polygonFrom(points);
}

public Polygon polygonFrom(Point[] corners){

    //doing stuff with corners variable here

    points = corners; //this will change the points variable that was passed

} 
```

构造函数将发送`polygonFrom`变量`points`，但`polygonFrom`获取变量并创建它的新实例。该`polygonFrom`方法现在更改其新创建`corners`的变量，该变量具有与最初相同的值`points`。但是，如果该方法`polygonFrom`明确表示要更改`points`变量，那么从技术上讲，它将更改构造函数发送给它的变量。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T05:23:52.473

很简单，检查下面的代码 -

```
public void a() {
    List<String> list = new ArrayList<String>();
    b(list);
}

public void b(List<String> list) {
    list.add("something");
} 
```

方法 a() 创建一个列表并将其引用传递给方法 b() 以便 b() 可以修改列表的内容。所以在这种情况下，列表是相同的，只是它的引用被传递了。此处未制作该列表的副本。

希望这可以帮助。

# javascript - 使用javascript读取txt文件

> ID：15060581
> 
> 赞同：0
> 
> 时间：2013-02-25T05:16:33.927
> 
> 标签：javascript, google-chrome, firefox, readfile

我需要从浏览器读取文件，但我不能使用 ajax .. 必须在本地读取..

[这与使用 javascript 读取文件](https://stackoverflow.com/questions/1404991/reading-a-file-using-javascript)不是重复的

我怎样才能做到这一点？

ps：我也不能使用像 V8 这样的引擎[http://code.google.com/p/v8/](http://code.google.com/p/v8/)我需要用当前的 JavaScript 原生 API 读取它！.. 有什么办法吗？

ps2：它必须只能用 chrome 或 firefox 运行！IE和其他无关紧要

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-25T05:20:02.213

这是示例：**[DEMO](http://jsfiddle.net/dQxj9/)**

```
 function readMultipleFiles(evt) {
    //Retrieve all the files from the FileList object
    var files = evt.target.files;

    if (files) {
        for (var i = 0, f; f = files[i]; i++) {
            var r = new FileReader();
            r.onload = (function (f) {
                return function (e) {
                    var contents = e.target.result;
                    alert(contents);
                };
            })(f);
            r.readAsText(f);
        }
    } else {
        alert("Failed to load files");
    }
}
document.getElementById('fileinput').addEventListener('change', readMultipleFiles, false); 
```

# c++ - glm::unProject 将鼠标位置转换为 3 个坐标

> ID：15060583
> 
> 赞同：1
> 
> 时间：2013-02-25T05:16:45.810
> 
> 标签：c++, opengl, glm-math

我正在为我的矩阵数学使用 OpenGL 3.2 + GLM。下面是我的代码：

```
GLint viewport[4];
GLfloat winZ;

glGetIntegerv(GL_VIEWPORT,viewport);
glBindFramebuffer(GL_FRAMEBUFFER,fbo);
glReadPixels(x,y,1,1,GL_DEPTH_COMPONENT,GL_FLOAT,&winZ);
glBindFramebuffer(GL_FRAMEBUFFER,0);

glm::vec3 screen=glm::vec3(x,viewport[3]-y,winZ);
glm::mat4 view=glm::lookAt(glm::vec3(camera.x,camera.y,camera.z),glm::vec3(0,0,0),glm::vec3(0,1,0));
glm::mat4 projection=glm::perspective(90.0f,(float)viewport[2]/(float)viewport[3],10.0f,500.0f);

glm::vec3 pos=glm::unProject(screen,view,projection,glm::vec4(0,0,viewport[2],viewport[3]));

return {pos.x,pos.y,pos.z}; 
```

`winZ`是正确的。当我点击模型时，它是 1.0 (zfar)，当我点击模型时，它看起来与我预期的相似。但是，返回的值`pos.z`不是我所期望的。当鼠标在背景上时：如果它朝向中心，则`pos.z`变小，当它在屏幕边缘时`pos.z`是 zfar。谁能解释一下？

我遇到的实际问题是，`pos.x`并`pos.y`没有返回我期望的以太。我的模型是 4.88 单位宽，但`unProject`说它大约是 20 单位宽？（如果我添加悬停在左侧和右侧的值）。

哦，屏幕中心是 0,0，正如预期的那样。

* * *

编辑：我还应该注意，返回`pos.z`取决于鼠标从屏幕中心的位置。当它位于模型顶部时，它确实会变为更高的数字。如果光标的 Y 位置在屏幕中心上方，`pos.z`则为正。如果 Y-pos 低于，`pos.z`则为负。看起来真的很奇怪。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T08:31:16.073

愚蠢的问题。unProject 应该采用 2d 视图矩阵而不是 3d 视图矩阵。问题解决了。

# java - Primitive array 和 Array of Reference 有什么区别。

> ID：15060584
> 
> 赞同：0
> 
> 时间：2013-02-25T05:16:49.790
> 
> 标签：java, arrays

我在 net 中阅读并找到了引用数组存储引用。从某种意义上说，数组将存储变量的内存地址我猜如果我没记错的话。如果是这种情况，为什么我在循环遍历字符串数组时看不到内存地址，如下所示。

```
 String[] arrNames = new String[3];
  arrNames[0]       = "John";
  arrNames[1]       = "Mac";
  arrNames[2]       = "Alex"; 
```

现在根据定义，arrNames 数组将在 arrNames[0]、arrNames[1]、arrNames[2] 处存储引用。这意味着内存地址将指向名称，即约翰、马克斯和亚历克斯。

如果它是原始数组，它会直接存储如下值。

```
 int[] Num = new int[3];
 Num[0]    = 1;
 Num[1]    = 2;
 Num[2]    = 3; 
```

Num[0] 将直接保存数字 1 而不是指向数字的地址。

如果我误解了，请纠正我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T05:22:57.103

在java中没有原始数组。即使我们在数组中有原始值，数组本身也被视为数组对象。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T08:51:12.397

原始数组和参考数组是完全相似的对象。

此外，默认值也适用于原始数组：

```
int[] myPrimitiveArray = new int[1];

assertTrue(myPrimitiveArray[0], 0)     //passed since 0 by default in each cell 
```

如同：

```
Integer[] myReferenceArray = new Integer[1];

assertTrue(myPrimitiveArray[0], 0)     //passed since 0 by default in each cell 
```

# c# - 控制某些用户的访问

> ID：15060590
> 
> 赞同：0
> 
> 时间：2013-02-25T05:17:18.557
> 
> 标签：c#, asp.net

我的网站主要分为三个部分。一种用于管理员，主要用于更新数据库的维护页面。一种供普通用户使用登录帐户浏览页面。一种供匿名浏览和查看我们的产品。如何限制用户/匿名访问我的管理页面以及如何限制匿名购买？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T05:17:18.557

首先，您需要设置 3 个文件夹（Admin、Users、Anonymous），然后将您希望这些人可以访问的 Web 表单放入该文件夹中。之后，您需要在 asp.net 配置（Website->Asp.net 配置）中设置您的用户、角色和访问规则。现在，您应该看到网站管理工具，进入安全性。您可以在其中设置您的用户、角色和访问权限。它将允许您将用户限制为某些 Web 表单。

# liferay-6 - Liferay：一旦用户输入有效凭据，如何显示配置页面

> ID：15060592
> 
> 赞同：0
> 
> 时间：2013-02-25T05:17:23.503
> 
> 标签：liferay-6

我正在使用 Liferay 6.1 版本。

用户进入`http:localhost`后，我将显示名为“/ravi”的网页，其中包含我的自定义门户，如图所示

我已经在 portal-ext.properties 下配置了以下属性，如图所示

```
auth.forward.by.last.path=true
default.landing.page.path=/web/guest/ravi 
```

请查看用户输入 http:localhost 时显示的我的自定义 Portlet 的屏幕截图

![在此处输入图像描述](../Images/1bc3ee6ec510b88127ba918a8d083454.png)

现在我的要求是，如果他输入有效的 crendentails ，我需要显示另一个页面（“/web/guest/test”）。

在我的 processAction 类中，我正在这样做

```
public class ValidateUser extends MVCPortlet {
    public void processAction(ActionRequest request, ActionResponse response) {

        String userName = (String) request.getParameter("userName");
                String password = (String) request.getParameter("password");
        try {
//  Contatcs DB and validates the credentials here 
// Please let me know how can i show the Configured Page if his credentials are valid ??
        } 
               catch (Exception e) {
        }

    }

} 
```

**编辑部分**

非常感谢您对默认 login.events.post 的回答。

我是 Liferay 的新手，所以我可能在这里做错了，所以如果我做错了什么，请帮助我。

我按照以下步骤操作：

1.  创建了一个名为“MyLogon”的新 Portlet，并在其 view.jsp 中创建了一个带有两个文本字段（登录和密码）和一个提交按钮的表单。单击该提交按钮时，我实际上是在调用我的 processAction 方法并进行数据库调用以验证来自 mysql db 的用户。

2.然后我在 /web/guest/ravi 中创建了一个页面，并将这个“MyLogon”Portlet 添加到这个新页面 /web/guest/ravi

3.  然后在下面的属性下配置这个`portal-ext.properties`

    auth.forward.by.last.path=true default.landing.page.path=/web/guest/ravi

这就是我所做的。

并且在进入时`http:localhost:8080`，它显示了taht页面。

如果我做错了什么，请告诉我

**编辑第二部分**

我已经理解了你回答的一部分，我有这些问题。能否请你帮忙

我需要根据我的 DataBase 中存在的数据来验证用户，所以为此我需要执行以下操作。

1.  我需要创建一个 Hook 来覆盖这个属性

    login.events.pre=com.LoginAction

    公共类 LoginAction 扩展 Action {

    ```
    public void run(HttpServletRequest req, HttpServletResponse res) { 
    ```

    // 这里我需要调用数据库来验证用户凭据，然后将他重定向到我想要的页面？？

    ```
    } 
    ```

    }

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T06:51:40.893

您需要创建一个[Hook](http://www.liferay.com/documentation/liferay-portal/6.1/development/-/ai/creating-a-ho-4)并覆盖默认[login.events.post](http://www.liferay.com/documentation/liferay-portal/6.1/development/-/ai/performing-a-custom-acti-4)

下面的代码供您参考，

```
public class LandingPageAction extends Action {
    public LandingPageAction()
        {

        }
 public void run(HttpServletRequest request, HttpServletResponse response) throws ActionException
  {
      try
      {
          doRun(request, response);
      }
      catch(Exception e)
      {
          throw new ActionException(e);
      }
  }

protected void doRun(HttpServletRequest request, HttpServletResponse response) throws Exception
  {
String homeRedirect="/web/guest/test";
LastPath lastPath = new LastPath(StringPool.BLANK, homeRedirect); 
session.setAttribute("LAST_PATH", lastPath);
  }
} 
```

这里有几件事我不明白。您正在访问 localhost:8080，但屏幕截图显示您已经登录（有一个 SignOut 链接并且用户 Ravi Kiran 已经登录），但仍然显示了一个登录页面。

`default.landing.page.path`当您是*登录*用户时出现。你打的是 localhost:8080 还是 localhost/web/guest/Ravi ？您尚未登录，因此不应重定向到 /web/guest/Ravi。

您可以在 Liferay 中重用默认的身份验证代码。不知道您为什么要从请求参数中获取用户凭据并让数据库自己调用。

**根据问题中的更新进行编辑**

`1.`Liferay 的默认登录页面（您刚下载并点击 localhost:8080 时看到的登录页面来自此路径 `..\default\deploy\ROOT.war\html\portlet\login`。此路径中有一个`login.jsp`您可以编辑并赋予您自己的外观和感觉的页面。您可以在以下条目中找到这个`login.jsp`页面 `<portlet:param name="struts_action" value="/login/login" />`

这在 ../deploy/ROOT.war/WEB-INF/struts-config.xml 中有相应的条目

```
<action path="/login/login" type="com.liferay.portlet.login.action.LoginAction">
    <forward name="portlet.login.login" path="portlet.login.login" />
</action> 
```

您可以打开源代码并查看`com.liferay.portlet.login.action.LoginAction`方法。`passwords.encryption.algorithm=`这将根据您和文件中的`passwords.digest.encoding=` 配置执行基本身份验证`portal-ext.properties`。`LoginAction`将执行基本身份验证并根据`default.landing.page.path=` 如果您希望（某些）用户重定向到（某些）其他路径（有条件地）中提到的路径重定向所有用户，您可以通过编写 Hook 来使用我上面提到的代码。

`2.`一旦通过身份验证，您就可以登录并创建一个页面（在您的情况下是“ravi”）。您可以将您的自定义 Portlet 添加到此页面。您不应该编写一个自定义 portlet，一旦*您已经登录，它将进行身份验证*

# objective-c - Objective-C 比较来自 NSArray 的字符串对象和字符串是否相等

> ID：15060599
> 
> 赞同：0
> 
> 时间：2013-02-25T05:18:21.407
> 
> 标签：objective-c, xcode

如何正确比较从 NSArray 检索的字符串与文字字符串？到目前为止，我已经在一个方法中用三个空格“”填充了一个 NSArray，现在我试图用字符串“C10”替换 NSArray 中的 10 个随机索引，但我不想替换那里的内容除非它仍然是“”。

在这里，我创建了大小为 100 的数组，并用 3 个空格填充每个点。

```
-(void) initBoard{
    _board = [board initWithCapacity: 100];
    for(int i =0; i < 100; i++){
        [_board addObject:@"   "];
    }
} 
```

这是我在相等比较时遇到问题的方法。

```
-(void)makeChutes: (int) numOfChutes {
    //Make argument number of Chutes randomly across the board.
    for(int i = 0; i < numOfChutes || i>(-100);){
        int random = arc4random_uniform(101);
        if ([[_board objectAtIndex:random] isEqual:@"   "]) {
            NSString *fString = [NSString stringWithFormat:@"C%d", 10];
            [_board replaceObjectAtIndex:random withObject:fString];
            i++;//Only increments i if 3 blank spaces were at random index..
        }
        else{//Used to attempt to stop my accidental infinite loop.
            i--;
            NSLog(@"I, loop, ran %i times.", i);//Attempt failed:-(
        }
    }
} 
```

我知道上面的代码是一团糟。为了停止循环，我每次不满足 for 条件时都将 i 递减，然后使用 || 在我的 for 循环中添加一个 OR 条件，以尝试在 100 个循环后停止它。出于某种原因 || 即使 i 在 -100 以南，条件也不会阻止它循环。

我的第一个问题是如何正确地将存储在索引“随机”的数组中的字符串与 3 个空格的文字字符串进行比较？我也尝试了该方法`isEqualToString`，但效果相同。

其次也是不太重要的，因为我现在不需要它，我如何正确编写双条件 for 循环？我的 for 循环语法没有从 Xcode 收到任何错误或警告，它可以编译并运行，所以我真的不明白为什么它会忽略我的第二个条件并且即使在`i`is时也会继续迭代`< -100`。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T05:25:25.327

使用此方法进行字符串比较

```
 [[_board objectAtIndex:random] isEqualToString:@"  "] 
```

修改了你的代码。我想这就是你要找的

```
-(void)makeChutes: (int) numOfChutes
{
    for(int i = 0; i < numOfChutes ;i++){
        int random = arc4random_uniform(101);
        if ([[_board objectAtIndex:random] isEqualToString:@"  "])
        {
            [_board replaceObjectAtIndex:random withObject:@"C10"];
            i++;
        }
    }
} 
```

编辑：您在评论中所说的解决方案

```
-(void)makeChutes: (int) numOfChutes
{
    int i=0;
    NSPredicate *predicate = [NSPredicate predicateWithFormat:@"SELF contains[cd] '  '"];
    NSArray *filteredArray = [_board filteredArrayUsingPredicate:predicate];
    int arrayCount=[filteredArray count];

    do {
        int random = arc4random_uniform(101);
        if ([[_board objectAtIndex:random] isEqualToString:@"  "])
        {
            [_board replaceObjectAtIndex:random withObject:@"C10"];
            i++;
            if (arrayCount == i) {
                i=numOfChutes;
            }
        }

    } while (i<numOfChutes);
 } 
```

**从[文档](https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/Foundation/Classes/NSString_Class/Reference/NSString.html)**编辑****

 **> isEqualToString：返回一个布尔值，指示给定字符串是否等于使用基于文字的 Unicode 比较的接收者。
> 
> *   (BOOL)isEqualToString:(NSString *)aString 参数 aString 要与接收者进行比较的字符串。如果 aString 与接收者等效（如果它们具有相同的 id 或者在文字比较中它们是 NSOrderedSame），则返回值 YES，否则为 NO。
> 
> 讨论 比较使用字符串的规范表示，对于特定字符串，它是字符串的长度加上构成字符串的 Unicode 字符。当此方法比较两个字符串时，如果各个 Unicode 相同，则无论后备存储如何，这些字符串都是相等的。“字面量”应用于字符串比较时，表示不应用各种 Unicode 分解规则，单独比较 Unicode 字符。因此，例如，表示为组合字符序列“O”和变音符号的“Ö”不会与表示为一个 Unicode 字符的“Ö”比较。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T06:24:58.107

要知道它的存在与否以及它的索引，只需使用`ContainsObject`属性`NSArray`

```
[array containsObject:@"text"];
int indexOfObject = [array indexOfObject:@"text"]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T17:22:57.407

我的“initBoard”方法坏了，导致“makeChutes”方法不能按预期工作。这是正确的initBoard：

```
-(void) initBoard{
    _board = [[NSMutableArray alloc] initWithCapacity:100];
    for(int i =0; i < 100; i++){
        [_board addObject:@"   "];
    }
} 
```

以及更正后的 makeChutes：

```
-(void)makeChutes: (int) numOfChutes{
    //Make argument number of Chutes randomly across the board.
    for(int i = 0; i < numOfChutes;){
        int random = arc4random_uniform(100);//+1 of max index
        if ([[_board objectAtIndex:random] isEqualTo:@"   "]){
            NSString *fString = [NSString stringWithFormat:@"C%d", 10];
            [_board replaceObjectAtIndex:random withObject:fString];
            i++;//Only increments i if 3 blank spaces were at random index.
        }
    }
} 
```**

# c++ - 在 C++ 中存储和检索数组中的指针

> ID：15060601
> 
> 赞同：0
> 
> 时间：2013-02-25T05:18:47.600
> 
> 标签：c++, pointers, memory, pool

我有一个大型 char 数组，它用作内存池，并希望在数组的第一个位置存储一个指针，该指针指向池中的下一个打开位置，所以每次向池分配一些东西时，指针将指向刚刚分配的字节之后的字节。我唯一的问题是我不太确定如何将指针存储在数组中，然后能够在其他函数中修改它，因为指针存在的唯一位置是数组 [0] 位置。谁能指出我正确的方向？

char 数组声明如下：

```
char pool[size]; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T05:23:37.513

您真正想要的是该数组的索引，它告诉您在哪里插入。

你可以声明一个结构：

```
struct pool
{
    char poolData[size];
    int insertIndex;
}; 
```

这样您就始终拥有要一起插入的池内存和索引。或者，只需有一个单独的变量并将它们一起传递给需要使用它的任何人。

```
char pool[size];
int insertIndex; 
```

没有必要“劫持”数组的第一个元素并以不同于数组的其余部分的方式使用它；只需声明另一个变量来跟踪池的状态。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T05:27:38.477

我认为您需要一个索引来记住池中下一个空点在哪里（最初为零）。

```
char pool[size];
int index = 0; 
```

然后每次插入新元素时，只需递增它：

```
if(index < size) {
  pool[index] = 123;
  index++;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-25T05:38:19.343

如果您不能遵循其他答案的建议，因为您绝对必须使用池来存储其中的所有信息，那么将整数信息存储在 char-array 中的最安全方法是使用`memcpy`（我使用的是 C++11句法）：

```
#include <cstring>
#include <iostream>

int main()
{
  using size_type = std::size_t;
  static constexpr size_type size = 1000;
  char pool[size];

  /* Store 12 as integer information at the beginning
     of the pool: */    
  size_type next_free = 12;
  std::memcpy(pool,&next_free,sizeof(size_type));

  /* Retrieve it: */
  size_type retrieved = 0;
  std::memcpy(&retrieved,pool,sizeof(size_type));

  /* This will output 12: */    
  std::cout << retrieved << std::endl;

  return 0;
} 
```

当然，这意味着`sizeof(size_type)`池的第一个条目不能用于存储任何实际字符。您实际可以使用的最低条目是`pool[sizeof(size_type)]`.

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-25T05:57:30.773

```
char **pPoolEnd = (char **) pool; 
```

初始化你想要的指针。

```
*pPoolEnd = pool + sizeof(char **); 
```

使其指向自己的终点（例如，当池中没有其他内容时）。

但是，您为什么要这样做？它令人困惑，容易出错并且可能是不必要的。其他人则指出了更好的选择。假设我一开始就有这样一个池，我可能会选择其中一个，或者简单地使用一个单独的指针，`char *poolEnd`以及`pool`.

此外，将您的实现细节暴露给用户是不好的风格（“池结束指针位于池 [0]”），更糟糕的是期望他们处理它们（“请在您想要分配时更新池 [0]从游泳池”）。思考`malloc`和`free`；向您的用户公开简单的功能接口。

# sql - Sql Server：包含不属于聚合函数或 Group by 子句的列

> ID：15060604
> 
> 赞同：2
> 
> 时间：2013-02-25T05:19:13.543
> 
> 标签：sql, sql-server, select, group-by

我有一个包含以下列的 StudentGrades 表：

```
 StudentID | CourseID | Grade 
```

我需要为每门课程找到最优秀的学生（以及课程 ID 和您为该课程获得的成绩。例如，如果学校总共教授三门课程，则查询应返回：

```
1111  3  93
2334  4  90
4343  6  100 
```

这是我到目前为止所拥有的。以下查询

```
select CourseID, MAX(Grade) Grade 
from StudentGrades group by CourseID; 
```

产生：

```
3   83
4   90
6   100 
```

包含 studentID 列的最佳方法是什么？我知道我可以将上述结果保存在临时表中，并加入原始 StudentGrades 表，其中 CourseID 和 Score 匹配以获取正确的列。是否有其他方法或更好的方法来包含 StudentID？

希望这是有道理的。

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-25T05:21:14.290

`SQL Server`具有窗口功能的功能。

```
WITH gradeList
AS
(
    SELECT  StudentID,
            CourseID, 
            Grade,
            DENSE_RANK() OVER (PARTITION BY CourseID
                                ORDER BY Grade DESC) RN
    FROM    tableName
)
SELECT  StudentID,
        CourseID, 
        Grade
FROM    gradeList
WHERE   rn = 1 
```

*   [SQLFiddle 演示](http://www.sqlfiddle.com/#!3/9ff93/1)
*   [SQLFiddle 演示](http://www.sqlfiddle.com/#!3/d59d1/1)
*   [SQLFiddle Demo（*重复学生与最高分相同*）](http://www.sqlfiddle.com/#!3/2d869/1)

# jquery - 如何从拖放排序中调用控制器方法

> ID：15060608
> 
> 赞同：0
> 
> 时间：2013-02-25T05:19:33.210
> 
> 标签：jquery, asp.net-mvc, jquery-ui-sortable

我正在使用 jquery sortable 允许我在自己的有序列表和其他有序列表中拖放 li 元素。它工作得很好。我现在想知道如何跟踪这个并将这个信息传递给我的控制器的方法？

html:

```
<ul id="grpId">
        @foreach (var item in Model.GeneratedGroups)
        {                  
            <li id="draggable">Group @Html.DisplayName(item.GroupNumber.ToString())<br />
                <ol class="connectedSortable" >
                    @foreach (var student in item.GroupMembers)
                    {
                        <li draggable="true" ><span>@String.Format("{0} {1}", student.FirstName, student.LastName)</span></li>
                    }
                </ol>

            </li>

        }
    </ul>

<script type="text/javascript">
   $("#draggable ol").sortable({ connectWith: ".connectedSortable" });
   $("#draggable ol").disableSelection();
</script> 
```

我现在如何调用 @Url.Action 或以某种方式实现 ajax？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T06:10:17.900

```
$("#draggable ol").sortable({
    receive: function(event, ui) {
        //Your ajax call here
    }
}); 
```

# trigger.io - 签名无效，包含不允许的权利

> ID：15060610
> 
> 赞同：2
> 
> 时间：2013-02-25T05:19:50.597
> 
> 标签：trigger.io

这是特定于 Trigger.io 的。

尝试通过 Application Loader 上传我的应用程序时，我收到错误消息：“应用程序未通过协同签名验证。签名无效，包含不允许的权利，或者未使用 iPhone 分发证书签名。”

我很确定，我使用的是正确的证书（即分发证书，而不是开发证书）。实际上，我 100% 确定我使用的是正确的证书。

这让我的签名无效或包含不允许的权利。

有人在尝试上传通过 Trigger.io 创建的 IPA 时遇到过这种情况吗？

我的机器上有最新的 Xcode 和 Xcode 命令行工具。在 Windows 和 Mac OS 上创建构建时出现此错误。

任何帮助，将不胜感激。

注意：虽然我喜欢 Trigger.io，但我准备放弃它，因为我在尝试上传我的应用程序时遇到了麻烦。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T03:33:15.260

我认为这里的根本原因是我使用了不正确版本的 XCode（和应用程序加载器），这让我使用配置文件、应用程序 ID 和证书进行垃圾处理。

通过 iOS Provisioning Portal，我确保分发配置文件处于活动状态，我使用的是非通配符 App ID，并且分发证书处于活动状态。一旦我打扫了房子，重新创建了所有东西，它终于奏效了。

我确实认为我只看到了这个问题，因为我使用了错误版本的 XCode 和 Application Loader。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-09-01T07:32:36.313

我在使用 iPhone 开发人员代码签名身份而不是使用 iPhone 分发时意外存档时遇到了这个问题。

即正如消息所说，我没有使用分发证书。

# sql - SQL - 只有在其他字段不同时才更改 Date_Updated 字段？

> ID：15060611
> 
> 赞同：0
> 
> 时间：2013-02-25T05:19:51.713
> 
> 标签：sql, sql-server, tsql, sql-update

SPROC 的查询部分示例：

```
Update MyTable
SET
  ProductName=@ProductName
 ,ProductPrice=@ProductPrice
 ,Date_Updated=GETDATE()
WHERE ProductID=@ProductID 
```

我想在 Date_Updated 字段上使用 GETDATE() 仅当 ProductName 或 ProductPrice 在调用更新之前已从其原始值更改时。

请帮忙 ：）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T05:25:21.053

使用`CASE`条件来测试新值是否等于列的先前值。

```
Update  MyTable
SET     ProductName  = @ProductName,
        ProductPrice = @ProductPrice,
        Date_Updated =  CASE WHEN (ProductName <> @ProductName) OR 
                                  (ProductPrice <> @ProductPrice) 
                             THEN GETDATE() 
                             ELSE Date_Updated 
                        END
WHERE ProductID = @ProductID 
```

# java - Java框架只显示空白

> ID：15060613
> 
> 赞同：-4
> 
> 时间：2013-02-25T05:19:54.760
> 
> 标签：java, swing, applet, jframe, awt

我已经成功编译并运行了以下代码，但是小程序窗口除了空白之外什么都没有显示，可能是什么问题？

**我不想在这里创建一个小程序我想创建一个 Jframe 程序**

```
import java.awt.*;
import java.awt.event.*;
import javax.swing.*;

//<applet code="calc.class" width=400 height=200></applet>
public class calc extends JFrame implements ActionListener {
    JFrame f1;
    JPanel p1 = new JPanel();
    JLabel l1, l2, l3, l4, l5, l6, l7, l8, l9, l10, l11, l12, l13, l14, l15,
            l16, l17, l18, l19, l20, l21, l22, l23, l24;
    JButton b1, b2, b3, b4, b5, b6, b7, b8, b9, b10, b11, b12, b13, b14, b15,
            b16;
    JTextField t1, t2, t3, t4, t5, t6, t7, t8, t9, t10, t11;

    public void init() {
        f1 = new JFrame("Administrator");
        p1.setLayout(new GridLayout(3, 2));
        p1.add(l1);
        p1.add(t1);
        p1.add(l2);
        p1.add(b1);
        p1.add(b2);
        f1.add(p1);
        f1.setSize(300, 300);
        f1.setVisible(true);

    }

    public void actionPerformed(ActionEvent AE) {

    }

    public void main(String[] args) {
        calc s = new calc();
        s.init();
    }
} 
```

在 CMD 窗口中，我得到以下异常

```
java.lang.ClassCastException: calc cannot be cast to java.applet.Applet
        at sun.applet.AppletPanel.createApplet(AppletPanel.java:795)
        at sun.applet.AppletPanel.runLoader(AppletPanel.java:724)
        at sun.applet.AppletPanel.run(AppletPanel.java:378)
        at java.lang.Thread.run(Thread.java:722) 
```

编辑

根据您的评论，我添加了一个主类并将文件名更改为cool.java，但它仍然无法正常工作

```
import java.awt.*;
import java.awt.event.*;
import javax.swing.*;
//<applet code="calc.class" width=400 height=200></applet>
public class calc extends JFrame implements ActionListener
{
JFrame f1;
JPanel p1=new JPanel();
JLabel l1,l2,l3,l4,l5,l6,l7,l8,l9,l10,l11,l12,l13,l14,l15,l16,l17,l18,l19,l20,l21,l22,l23,l24;
    JButton b1,b2,b3,b4,b5,b6,b7,b8,b9,b10,b11,b12,b13,b14,b15,b16;
    JTextField t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11;
public void init()
{
f1=new JFrame("Administrator");
p1.setLayout(new GridLayout(3,2));
        p1.add(l1);p1.add(t1);p1.add(l2);
        p1.add(b1);p1.add(b2);
        f1.add(p1);
        f1.setSize(300,300);
        f1.setVisible(true);

}
 public void actionPerformed(ActionEvent AE)
 {

 }

}
public class cool
{
 public static void main(String[]args)
 {
 calc s=new calc();
 s.init();
 }
 } 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-25T05:22:45.893

你有很多错误...

*   您似乎正试图从 HTML 代码运行此类，就好像它是一个小程序一样，并且由于它不是一个小程序，因此您遇到了错误。
*   您的课程扩展了 JFrame 并显示它，但是...
*   您将所有组件都放在*另一个*JFrame 中，并且没有将任何东西放入您实际上试图显示的 JFrame 中，即当前对象“ `this`”。

我建议：

*   丢弃上面的代码。对不起，但它完全没有价值，不值得尝试“拯救”。重来。
*   如果您需要显示小程序，请不要使用 JFrames。
*   而是创建一个扩展 JApplet 的类，并在它的`init()`方法中，用你的 GUI 组件的好东西填充它的 contentPane。
*   如果你想显示一个独立的类，那么可以，使用 JFrames。
*   如果是这样，那么不要让您的类扩展 JFrame，而只需使用 JFrame 对象并显示它。
*   将您的类代码用于创建 JPanel，然后将其显示在 JFrame 中。
*   阅读 Swing GUI 教程以了解有关如何创建 Swing GUI（包括小程序和独立的）的所有详细信息。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-25T05:23:55.560

几个即时评论：

*   您的类 'calc' 不是 java.applet.Applet 或 javax.swing.JApplet 的扩展，因此它不能立即用作小程序。
*   您从未在 init 中实例化要添加到布局中的任何对象

我认为您需要返回并重新阅读如何处理 Applets 和 Java。

**编辑**，因为 OP 已经回来并尝试编辑他们的问题以使其更具相关性，我将尝试充实更多内容。

我相信@MadProgrammer 提供的答案可能是最简洁的，并且提供了最详细的查看位置。

我要做的另一件事是提到 Java 不再使用 '.'。（当前目录）作为类路径的一部分，除非明确说明。

要运行此程序，您应该尝试使用以下命令启动：

```
java -cp . Calc 
```

最近不鼓励使用“默认”包中的类。考虑放入包装中。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-25T06:04:25.887

要添加到已经发布的所有优秀答案......

你没有初始化任何东西，所以你所有的组件`null`，这是基本的 Java/Swing。

```
import java.awt.*;
import java.awt.event.*;
import javax.swing.*;

public class Calc extends JFrame implements ActionListener {

//    JFrame f1; // Don't need this, as you are already extending from a JFrame!!
    JPanel p1 = new JPanel();
    JLabel l1, l2, l3, l4, l5, l6, l7, l8, l9, l10, l11, l12, l13, l14, l15, l16, l17, l18, l19, l20, l21, l22, l23, l24;
    JButton b1, b2, b3, b4, b5, b6, b7, b8, b9, b10, b11, b12, b13, b14, b15, b16;
    JTextField t1, t2, t3, t4, t5, t6, t7, t8, t9, t10, t11;

    public Calc() {
        super("Administrator");
        // You've not initalised anything, so it would normally throw a NullPointerException
        p1 = new JPanel(new GridLayout(3, 2));

        l1 = new JLabel("l1");
        t1 = new JTextField(2);
        l2 = new JLabel("l2");
        b1 = new JButton("B1");
        b2 = new JButton("B2");

        p1.add(l1);
        p1.add(t1);
        p1.add(l2);
        p1.add(b1);
        p1.add(b2);
        add(p1);
        // Use pack instead...
//        setSize(300, 300);
        pack();
        setVisible(true);

    }

    public void actionPerformed(ActionEvent AE) {
    }

    public static void main(String[] args) {
        Calc s = new Calc();
    }
} 
```

我会（认真地）回去阅读

*   [入门](http://docs.oracle.com/javase/tutorial/getStarted/index.html)
*   [学习 Java 语言](http://docs.oracle.com/javase/tutorial/java/index.html)
*   [使用 Swing 创建 GUI](http://docs.oracle.com/javase/tutorial/uiswing/index.html)

我还建议您阅读[Java 编程语言的代码约定](http://www.oracle.com/technetwork/java/codeconv-138413.html)（AKA 如何结交朋友和影响他人）

# c# - 确定新日期是否为默认的 new DateTime()

> ID：15060618
> 
> 赞同：4
> 
> 时间：2013-02-25T05:20:44.320
> 
> 标签：c#

这是我的问题：

```
DateTime previousDate = new DateTime();
DateTime currentDate = new DateTime();
foreach (ApproverVo approver in approvers)
{
    if (previousDate != null)
    {
        currentDate = (DateTime)approver.ApprovalDate;
        totalTimeSpan += (currentDate - previousDate).TotalDays;
        previousDate = currentDate;
    } else
        previousDate = (DateTime)approver.ApprovalDate;
} 
```

当前一个日期在开头声明时，它包含 DateTime() 的默认值。我想要做的是找出是否为 previousDate 分配了正确的日期。

请指教，谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-25T05:25:49.493

假设您的批准日期没有值 equals `DateTime.MinValue`：

```
DateTime previousDate = DateTime.MinValue;
DateTime currentDate = new DateTime();
foreach (ApproverVo approver in approvers)
{
    if (previousDate != DateTime.MinValue)
    {
        currentDate = (DateTime)approver.ApprovalDate;
        totalTimeSpan += (currentDate - previousDate).TotalDays;
        previousDate = currentDate;
    } else
        previousDate = (DateTime)approver.ApprovalDate;
} 
```

**更新**

根据@mdmullinax 的回答，上面的代码类似于：

```
DateTime previousDate = new DateTime();
DateTime currentDate = new DateTime();
foreach (ApproverVo approver in approvers)
{
    if (previousDate != new DateTime())
    {
        currentDate = (DateTime)approver.ApprovalDate;
        totalTimeSpan += (currentDate - previousDate).TotalDays;
        previousDate = currentDate;
    } else
        previousDate = (DateTime)approver.ApprovalDate;
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-25T05:26:44.067

检查是否`previousDate == DateTime.MinValue`因为

```
DateTime previousDate = new DateTime(); 
```

相当于

```
DateTime previousDate = DateTime.MinValue; 
```

来自 MSDN[日期时间结构](http://msdn.microsoft.com/en-us/library/03ybds8y.aspx?cs-save-lang=1&cs-lang=csharp#code-snippet-6)文档：

```
DateTime dat1 = new DateTime();
// The following method call displays 1/1/0001 12:00:00 AM.
Console.WriteLine(dat1.ToString(System.Globalization.CultureInfo.InvariantCulture));
// The following method call displays True.
Console.WriteLine(dat1.Equals(DateTime.MinValue)); 
```

# jquery - 我想在单击关闭按钮时关闭 jQuery 窗口

> ID：15060622
> 
> 赞同：1
> 
> 时间：2013-02-25T05:21:28.080
> 
> 标签：jquery, asp.net, c#-4.0

我的 jQuery 代码是这样的

```
 $("#close").click(function () {

    });
  $(document).keyup(function(e) {
      if (e.keyCode == 27) {  }   // esc
  }); 
```

我想关闭我的图像查看窗口并返回上一页，我该怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T06:27:37.843

**非常感谢您的回答，我通过在单击 dat close div 时提供 dat 上一页的链接来完成我的回答，因此它将返回到 dat 页面仍然浪费内存，因为父页面正在再次加载但它可以工作.... 谢谢**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T05:25:12.550

尝试这个。

```
$("#yourDivWithImage").hide(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-25T05:29:36.160

如果它在一个新窗口中，那么：http: [//jsfiddle.net/pBALx/](http://jsfiddle.net/pBALx/)

```
var w = window.open("urlToImagePage");

$("#close").click(function () {
    w.close();
});
$(document).keyup(function(e) {
    if (e.keyCode == 27){
        w.close();
    }
}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-25T05:30:57.180

我不确定我是否完全理解您想要做什么，但是，如果您想在退出键按下时关闭窗口/对话框并运行 #close.Click 函数中的内容，那么您可以像这样简单地触发您的事件：

```
$("#close").click(function () {

//some code to be executed

});

$(document).keyup(function(e) {

if (e.keyCode == 27) {  }   // esc
  $("#close").triggerHanlder("click");
}); 
```

但这在某种程度上是一种肮脏的方式......

# php - 接收post数据xml

> ID：15060624
> 
> 赞同：0
> 
> 时间：2013-02-25T05:21:50.027
> 
> 标签：php, xml, xml-parsing

您好我需要接收一个以base64 格式编码的xml 格式的发布数据。我将从支付网关收到此信息。现在我得到的就是这个。我的代码创建了一个 txt 文件，但它是空的。代码有什么问题吗？输出应该是文本文件中的 xml 信封。

```
$body = '';
$fh   = @fopen('php://input', 'r');
if ($fh)
{
  while (!feof($fh))
  {
    $s = fread($fh, 1024);
    echo $s;
    if (is_string($s))
    {
      $body .= $s;
    }
  }
  fclose($fh);
}

$body = base64_decode($body);

$ourFileName = "testFile.txt";
$ourFileHandle = fopen($ourFileName, 'w') or die("can't open file");
fclose($ourFileHandle);
$myFile = "testFile.txt";
$fh = fopen($myFile, 'w') or die("can't open file");

$stringData = $body;
fwrite($fh, $stringData);
fclose($fh); 
```

我尝试联系支付网关，他们告诉我他们收到此错误“远程服务器返回错误：(417) 预期失败。” 问题可能存在于我们或他们哪里？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T05:26:01.027

由于您的文件返回空白，我建议您从支付网关验证 fopen() 函数的规范。此外，如果您正确地从它们那里获取数据，那么我会检查 base64_decode() 函数。我见过这样的情况：实际有效负载数据顶部可能存在标头或其他数据，这些数据会破坏 base64_decode 并破坏您的一天。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T05:38:29.620

看起来您正在混合文件处理程序，您可以查看以下代码是否运行：

```
$body = $HTTP_RAW_POST_DATA;
$ourFileName = "testFile.txt";
$ourFileHandle = fopen($ourFileName, 'w') or die("can't open file");

$stringData = $body;
fwrite($ourFileHandle, $stringData);
fclose($ourFileHandle); 
```

我刚刚成功地测试了上面的代码。

我建议您做的是尝试以下操作：

*   尝试将一段静态数据放入 $body （例如：“$body = 'test';”） - 看看是否保存 - 如果没有，那么这就是你的问题。
*   删除文件（以删除任何权限问题）。
*   仔细检查支付网关发送到的 URL 是否正确。

# objective-c - 动态改变对象的超类

> ID：15060629
> 
> 赞同：8
> 
> 时间：2013-02-25T05:22:15.633
> 
> 标签：objective-c, runtime, superclass

是否可以在运行时更改对象的超类？如果是这样，怎么做？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-02-25T05:24:12.033

一个简短的问题，一个简短的回答：是的，isa swizzling

[是什么让 Objective C 动态化？，第 66 页](http://de.slideshare.net/mudphone/what-makes-objective-c-dynamic)

* * *

一个例子：

我有一个处理与 REST-API 的连接的类，它称为 APIClient。在测试中，我想连接到不同的服务器。

在测试目标中，我继承了 APIClient

```
#import "ApiClient.h"

@interface TestApiClient : ApiClient
//…
@end

@interface TestApiClient ()
@property (nonatomic, strong, readwrite) NSURL *baseURL;

@end

@implementation TestApiClient

- (NSMutableURLRequest *)requestWithMethod:(NSString *)method
                                      path:(NSString *)path
                                parameters:(NSDictionary *)parameters
{
    self.baseURL = [NSURL URLWithString:@"http://localhost:8000/"];
    return [super requestWithMethod:method path:path parameters:parameters];
}

@end 
```

在单元测试类中，我进行了混乱的#import

```
@implementation APIUnitTests

+(void)load
{
    client = [[ApiClient alloc ] init];
    object_setClass(client, [TestApiClient class]);
}

//…
@end 
```

这个 cas 是保存的，因为我首先创建了一个基类的子类，然后用子类替换了后者。由于子类也是基类，因此这是有效的继承。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-25T05:43:41.750

使用 ObjC 运行时绝对是可能的，但它会有点毛茸茸......这是苹果文档的链接：[Objective-C Runtime](http://developer.apple.com/library/mac/#documentation/Cocoa/Reference/ObjCRuntimeRef/Reference/reference.html)及其用法示例：[Objective-C Runtime Programming](http://developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/ObjCRuntimeGuide/Articles/ocrtPropertyIntrospection.html)。

# r - 将“应用”功能应用于“模块化”功能时出错

> ID：15060636
> 
> 赞同：3
> 
> 时间：2013-02-25T05:22:48.687
> 
> 标签：r, apply, modularity, igraph

今天我无法将`apply`函数应用于`modularity`函数，后者的函数位于“igraph”包中。以下是代码和结果"

```
> library(igraph)
> g = graph.full(2)
> modularity(g, 1:2)
[1] -0.5
> apply(FUN = modularity, MARGIN = 1, X = matrix(1:4, ncol = 2), graph = g, weights = NULL)
Error in UseMethod("modularity") : 
no applicable method for 'modularity' applied to an object of class "c('integer',     'numeric')" 
```

我能够以这种方式使用`apply`and`modularity`功能，昨天没有出现错误消息。但是今天 R 抛出了上面的错误信息。有没有人遇到过这个问题？请告诉我如何解决它。谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T05:29:28.397

**将图形**名称更改为**x**应该可以。在这里，我还重新排序了术语，但它是可选的。

```
apply(X = matrix(1:4, ncol = 2) , MARGIN = 1,FUN = modularity, x = g, weights = NULL)
1] -0.5 -0.5 
```

你会得到一个错误，因为模块化没有找到它的 x 参数，所以尝试将它应用到由 给出的列矩阵`apply`。

# actionscript-3 - AS3 安全沙盒违规

> ID：15060641
> 
> 赞同：0
> 
> 时间：2013-02-25T05:23:05.113
> 
> 标签：actionscript-3, security, sandbox

尝试从浏览器加载游戏时收到此错误消息：

```
*** Security Sandbox Violation ***
SecurityDomain 'https://playerio.s3.amazonaws.com/competitions/ega2012/swf/Nhm-JFy6dEyuemmaE59BSQ.swf?AWSAccessKeyId=1Q3ETXSFA8S2F2TSA9R2&Expires=1361787227&Signature=TBCVKQDGlxthLj2YhoumxTxUGOo%3D' tried to access incompatible context 'http://cdn.playerio.com/rts-tvkyczvzk5uwqv8z12rw/Game2build29.swf'
SecurityError: Error #2121: Security sandbox violation: LoaderInfo.content: https://playerio.s3.amazonaws.com/competitions/ega2012/swf/Nhm-JFy6dEyuemmaE59BSQ.swf?AWSAccessKeyId=1Q3ETXSFA8S2F2TSA9R2&Expires=1361787227&Signature=TBCVKQDGlxthLj2YhoumxTxUGOo%3D cannot access http://cdn.playerio.com/rts-tvkyczvzk5uwqv8z12rw/Game2build29.swf. This may be worked around by calling Security.allowDomain.
   at flash.display::LoaderInfo/get content()
   at Loader3_fla::MainTimeline/onCompleteHandler()[Loader3_fla.MainTimeline::frame1:86] 
```

它说您可以使用 Security.allowDomain() 解决此错误，但我不确定允许哪个域！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T05:39:31.327

您应该将 crossdomain.xml 放在您的项目文件夹中，您可以在其中允许您的应用程序从中获取数据的所有域或某些特定域。

```
<?xml version="1.0" ?>
<cross-domain-policy>
<allow-access-from domain="*" />
</cross-domain-policy> 
```

以上适用于所有域，如果您想允许某些特定域：

```
<allow-access-from domain="www.mysite.com" />
<allow-access-from domain="mysite.com" /> 
```

# intuit-partner-platform - 状态 API 在 apiexplorer 上显示服务器错误

> ID：15060642
> 
> 赞同：1
> 
> 时间：2013-02-25T05:23:25.190
> 
> 标签：intuit-partner-platform

> 状态 API 在检索 QuickBooks（适用于 Windows）实体的同步状态时引发错误：

-服务器错误。-404 - 找不到文件或目录。- 您要查找的资源可能已被删除、名称已更改或暂时不可用。

> 您可以查看： [http ://apiexplorer.developer.intuit.com/V2QBD#api](http://apiexplorer.developer.intuit.com/V2QBD#api)

```
 Consumer Key    : qyprdj6FkwCXWoq9Q8oRYlz33HXfN8
    Consumer Secret : WHElfjFy5ip8C7UGFQdSRnl9hCeDq4fivvyxTnX6
    Access Token    : qyprdY6MP5IbtWk6vXji7p7rjc5YsiWpqRWJxht2kuyNO9Wv
    Access Token Secret : u5qksOlffIN1UwEdo2OPqnkpe3xNFTFRHZMEIXNm

RealmId: 641280550 
```

SyncActivity API 也仅显示帐户的详细信息。

> 我想解决写回错误。

如何解决此问题并获取同步状态和同步活动？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T13:21:13.980

API Explorer 正在执行 GET 而不是 POST。我们会修复它。如果您将 Fiddler 用于 Status API，则不应看到此错误。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T19:22:41.457

API Explorer 已修复，您现在应该可以查询 SyncActivity 和 SyncStatus

# libc++ - clang++ 找不到文件

> ID：15060649
> 
> 赞同：2
> 
> 时间：2013-02-25T05:23:57.090
> 
> 标签：libc++, clang++

我正在尝试使用 clang 编译我的 c++ 项目（使用带有 boost 的 g++）。我已经使用 clang 工具链成功编译了 boost-libraries (1.53)。我正在使用 CMake 编译我的项目，编译失败并出现以下错误。

```
In file included from /home/dilawar/Works/hpc21/bliff/BlifParserAndPartitioner/src/expression_graph.h:21:
/usr/local/include/boost/graph/graph_traits.hpp:14:10: fatal error: 'iterator' file not found
#include <iterator>
         ^
1 error generated. 
```

我正在传递`-stdlib=libc++`给编译器。我不确定应该安装哪个软件包（ubuntu）来安装 libc++。我的机器上安装了 clang 和 llvm。

我必须下载和编译 libc++ 还是在安装 clang 时自动安装？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-25T06:08:06.217

当您传递 -stdlib=libc++ 时，当您不传递标志时，clang 驱动程序会在不同的目录 wrt 中查找头文件。您必须单独安装 libc++。libc++ 网页 ( [http://libcxx.llvm.org/](http://libcxx.llvm.org/) ) 有一些关于如何使用 CMake 安装 libc++ 的详细信息。

这个网页也可能有用： http: [//marshall.calepin.co/llvmclang-and-standard-libraries-on-mac-os-x.html](http://marshall.calepin.co/llvmclang-and-standard-libraries-on-mac-os-x.html)

# php - 多维数组.....嵌套下拉？

> ID：15060650
> 
> 赞同：-1
> 
> 时间：2013-02-25T05:23:58.143
> 
> 标签：php, multidimensional-array

```
 Array
(
[0] => Array
    (
        [id] => 1
        [parent] => 0
        [title] => Parent 1
        [children] => Array
            (
                [0] => Array
                    (
                        [id] => 2
                        [parent] => 1
                        [title] => Child 1
                        [children] => Array
                            (
                                [0] => Array
                                    (
                                        [id] => 3
                                        [parent] => 2
                                        [title] => child 2
                                        [children] => Array
                                            (
                                            )

                                    )

                            )

                    )

                [1] => Array
                    (
                        [id] => 9
                        [parent] => 1
                        [title] => parent of one
                        [children] => Array
                            (
                            )

                    )

                [2] => Array
                    (
                        [id] => 19
                        [parent] => 1
                        [title] => df
                        [children] => Array
                            (
                            )

                    )

            )

    )

[1] => Array
    (
        [id] => 4
        [parent] => 0
        [title] => parent 2
        [children] => Array
            (
                [0] => Array
                    (
                        [id] => 5
                        [parent] => 4
                        [title] => child 4
                        [children] => Array
                            (
                                [0] => Array
                                    (
                                        [id] => 6
                                        [parent] => 5
                                        [title] => child 5
                                        [children] => Array
                                            (
                                                [0] => Array
                                                    (
                                                        [id] => 7
                                                        [parent] => 6
                                                        [title] => child 7
                                                        [children] => Array
                                                            (
                                                            )

                                                    )

                                                [1] => Array
                                                    (
                                                        [id] => 8
                                                        [parent] => 6
                                                        [title] => child 8
                                                        [children] => Array
                                                            (
                                                                [0] => Array
                                                                    (
                                                                        [id] => 12
                                                                        [parent] => 8
                                                                        [title] => child 9
                                                                        [children] => Array
                                                                            (
                                                                            )

                                                                    )

                                                            )

                                                    )

                                            )

                                    )

                                [1] => Array
                                    (
                                        [id] => 17
                                        [parent] => 5
                                        [title] => child unknown
                                        [children] => Array
                                            (
                                                [0] => Array
                                                    (
                                                        [id] => 18
                                                        [parent] => 17
                                                        [title] => asdasd
                                                        [children] => Array
                                                            (
                                                            )

                                                    )

                                            )

                                    )

                            )

                    )

            )

    )

[2] => Array
    (
        [id] => 13
        [parent] => 0
        [title] => parent 3
        [children] => Array
            (
            )

    )

[3] => Array
    (
        [id] => 14
        [parent] => 0
        [title] => parent 4
        [children] => Array
            (
                [0] => Array
                    (
                        [id] => 21
                        [parent] => 14
                        [title] => sad
                        [children] => Array
                            (
                                [0] => Array
                                    (
                                        [id] => 22
                                        [parent] => 21
                                        [title] => sdfsaf
                                        [children] => Array
                                            (
                                                [0] => Array
                                                    (
                                                        [id] => 23
                                                        [parent] => 22
                                                        [title] => test
                                                        [children] => Array
                                                            (
                                                                [0] => Array
                                                                    (
                                                                        [id] => 24
                                                                        [parent] => 23
                                                                        [title] => tester
                                                                        [children] => Array
                                                                            (
                                                                                [0] => Array
                                                                                    (
                                                                                        [id] => 25
                                                                                        [parent] => 24
                                                                                        [title] => tested
                                                                                        [children] => Array
                                                                                            (
                                                                                                [0] => Array
                                                                                                    (
                                                                                                        [id] => 26
                                                                                                        [parent] => 25
                                                                                                        [title] => example
                                                                                                        [children] => Array
                                                                                                            (
                                                                                                                [0] => Array
                                                                                                                    (
                                                                                                                        [id] => 27
                                                                                                                        [parent] => 26
                                                                                                                        [title] => examples 
                                                                                                                        [children] => Array
                                                                                                                            (
                                                                                                                            )

                                                                                                                    )

                                                                                                            )

                                                                                                    )

                                                                                            )

                                                                                    )

                                                                            )

                                                                    )

                                                            )

                                                    )

                                            )

                                    )

                            )

                    )

            )

    )

[4] => Array
    (
        [id] => 15
        [parent] => 0
        [title] => parent 5
        [children] => Array
            (
            )

    )

[5] => Array
    (
        [id] => 16
        [parent] => 0
        [title] => parent 6
        [children] => Array
            (
            )

    )

[6] => Array
    (
        [id] => 20
        [parent] => 0
        [title] => aaa
        [children] => Array
            (
            )

    )

) 
```

关于如何从这个数组中制作嵌套下拉列表的任何建议？

我不知道从哪里开始......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T07:57:50.987

```
$HOST="localhost";
$DB="db_dir";
$USER="root";
$PASS="";

mysql_connect($HOST,$USER,$PASS);
mysql_select_db($DB);

function RecursiveCat($pid)
{
static $level=0;
static $strid="";
static $strname="";

$sql=mysql_query("select * from categories where cat_parent =".$pid." ");
//var_dump($sql);

while($row=mysql_fetch_assoc($sql))
{
    $id=$row['cat_id'];
    $level--;
    $pad="";

    for($p=1;$p<($level*-1);$p++) $pad.="&nbsp;&nbsp;&nbsp;> ";

    $strname.='<option value="'.$row['cat_id'].'">'.$pad.$row['cat_title'].'</option>';

    $rid=RecursiveCat($id);
    $strid[]=$row['cat_id'];
    $level++;
}

return $strname;
}

<?php echo '<select name="parent">'.'<option value="0">None</option>';
echo RecursiveCat(0);echo '</select>';?> 
```

# android - 如何在 listView 中添加带有进度条（微调器）的子视图？

> ID：15060659
> 
> 赞同：2
> 
> 时间：2013-02-25T05:24:56.997
> 
> 标签：android

我想在 listView 顶部显示一个带有进度条的视图。我想在 listView 中添加这个视图，而不是在 listView 项目中，而是在 listView 的顶层。我有一个扩展 listView 和 onSetAdapter 的子类，当 listView 刷新时，我想从该子类中显示此进度视图。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T05:34:47.677

您可以通过几种不同的方式解决此问题。在我看来，最好的方法是`RelativeLayout`与您的列表视图和重叠的进度条一起使用。每当您设置适配器时显示/隐藏进度条。为了获得更平滑和更好看的效果，您应该执行类似于开发人员网站上的[交叉淡入淡出两个视图示例的操作。](http://developer.android.com/training/animation/crossfade.html)

# python - 如何访问 Python 中的列表列表？

> ID：15060663
> 
> 赞同：1
> 
> 时间：2013-02-25T05:25:18.663
> 
> 标签：python

这是我写的一些代码：

```
class supClass:
    supList=[]
    def __init__(self):
        ""

class MyClass:
    listt=[]
    code=None
    def __init__(self):
        ""  

instancelist = [ MyClass() for i in range(4)]
for i in range(0,4):
    instancelist[i].listt.append(supClass())
    instancelist[i].listt.suplist.append(i)
    instancelist[i].code=12

for i in range(4):
    print instancelist[0].listt.suplist 
```

它产生以下错误：

```
 File "/home/aj/workspace/PythonTutorials/basics/builtFun.py", line 21, in <module>
    instancelist[i].listt.suplist.append(i)
AttributeError: 'list' object has no attribute 'suplist' 
```

我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-25T05:31:21.957

1.  `listt`是一个列表，因此，您需要在调用该项目的方法之前对其进行索引（即从列表中选择一个项目）。（例如`instancelist[0].listt[0].supList`）但是，我仍然不确定为什么您的列表中只有一项。

2.  资本化问题。你想要`supList.append()`，没有`suplist.append()`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-25T05:38:07.393

我很难理解您的代码试图实现的目标，但这可以解决您的语法错误：

```
for i in range(4):
    instancelist[i].listt.append(supClass())
    # listt is a list object. To access the last item, use [-1]. 
    # supList has a capital L.
    instancelist[i].listt[-1].supList.append(i)
    instancelist[i].code = 12

for i in range(4):
    # It looks like you want to print the supList for each supClass item in list:
    print [s.supList for s in instancelist[0].listt] 
```

# jquery - 为什么这个 jQuery CSS 操作不起作用？

> ID：15060667
> 
> 赞同：0
> 
> 时间：2013-02-25T05:25:47.150
> 
> 标签：jquery, css

```
$("#submit_button").css("input.submit_button:hover","url()"); 
```

我想要实现的是删除背景图片 url 并在悬停时保持其他所有内容完好无损。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T05:29:21.253

`input.submit_button:hover`选择器不是 CSS 规则。

```
$("#submit_button").hover(function(){
   $(this).css('background-image','');
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-25T05:31:13.870

尝试不同的方法

//css

```
 .includehover{
     background:url("yourfile");
    } 
```

并将这个类交给你的提交按钮

//jQuery

```
$(document).ready(function(){
  $("#submit_button").mouseover(function(){            
              $(this).addClass('includehover');           

   });

$("#submit_button").mouseout(function(){            
                  $(this).removeClass('includehover');           

       }); 
```

});

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-25T05:32:25.080

好吧，我建议您仅在 css 中执行此操作。有一个为按钮提供背景图像的 css，并且在悬停时不提供背景图像。

```
<input type = "submit" id = "sub" />

#sub {
background-image : url ('your url');
}

#sub:hover{
//No Background image attribute
} 
```

# c++ - boost::asio::buffer：获取缓冲区大小并防止缓冲区溢出？

> ID：15060671
> 
> 赞同：9
> 
> 时间：2013-02-25T05:26:01.633
> 
> 标签：c++, boost-asio, buffer-overflow

我有以下两个发送和接收数据包的功能。

```
void send(std::string protocol)
{
    char *request=new char[protocol.size()+1];
    request[protocol.size()] = 0;
    memcpy(request,protocol.c_str(),protocol.size());

    request_length = std::strlen(request);
    boost::asio::write(s, boost::asio::buffer(request, request_length));
}
void receive()
{
    char reply[max_length];
    size_t reply_length = boost::asio::read(s, boost::asio::buffer(reply, request_length));
    std::cout << "Reply is: ";
    std::cout.write(reply, reply_length);
    std::cout << "\n";
} 
```

问题与这部分有关，`boost::asio::buffer(reply, request_length)`其中请求长度是在发送数据包时最初设置的字符串的长度。如何在不知道的情况下检查缓冲区的大小`request_length`？另一个问题是如何防止缓冲区溢出？

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2013-02-25T14:51:17.400

要获取缓冲区的大小，[`boost::asio::buffer_size()`](http://www.boost.org/doc/libs/1_53_0/doc/html/boost_asio/reference/buffer_size.html)可以使用该函数。但是，在您的示例中，这很可能对您没有什么用处。

正如缓冲区[概述](http://www.boost.org/doc/libs/1_53_0/doc/html/boost_asio/overview/core/buffers.html)中所解释的，Boost.Asio 使用缓冲区类来表示缓冲区。这些类提供抽象并保护 Boost.Asio 操作免受缓冲区溢出。虽然结果`boost::asio::buffer()`被传递给操作，但元数据，例如缓冲区的大小或其基础类型，不会被传输。此外，这些缓冲区不拥有内存，因此应用程序有责任确保底层内存在缓冲区抽象的整个生命周期内保持有效。

该`boost::asio::buffer()`函数提供了一种方便的方法来创建缓冲区类，其中缓冲区的大小是从可能的类型推导出来的。当 Boost.Asio 能够推断出缓冲区长度时，Boost.Asio 操作在使用结果缓冲区类型时不会调用缓冲区溢出。但是，如果应用程序代码将缓冲区的大小指定为`boost::asio::buffer()`，则应用程序有责任确保该大小不大于底层内存。

读取数据时，需要缓冲区。如果 Boost.Asio 不传输大小，那么基本问题是如何知道要分配多少内存。这个问题有几个解决方案：

*   通过 查询套接字有多少可用数据[`socket::available()`](http://www.boost.org/doc/libs/1_53_0/doc/html/boost_asio/reference/basic_stream_socket/available/overload1.html)，然后相应地分配缓冲区。

    ```
    std::vector<char> data(socket_.available());
    boost::asio::read(socket_, boost::asio::buffer(data)); 
    ```

*   使用 Boost.Asio 可以在内存中增长的类，例如[`boost::asio::streambuf`](http://www.boost.org/doc/libs/1_53_0/doc/html/boost_asio/reference/streambuf.html). 一些操作，例如[`boost::asio::read()`](http://www.boost.org/doc/libs/1_53_0/doc/html/boost_asio/reference/read/overload6.html)接受`streambuf`对象作为它们的缓冲区，并将根据操作的需要分配内存。但应提供完成条件；否则，操作将继续，直到缓冲区已满。

    ```
    boost::asio::streambuf data;
    boost::asio::read(socket_, data,
                      boost::asio::transfer_at_least(socket_.available())); 
    ```

*   正如[Öö Tiib](https://stackoverflow.com/a/15060807/1053968)建议的那样，将长度作为通信协议的一部分。查看 Boost.Asio[示例](http://www.boost.org/doc/libs/1_53_0/doc/html/boost_asio/examples.html)以获取通信协议示例。专注于协议，不一定是 Boost.Asio [API](http://www.boost.org/doc/libs/1_53_0/doc/html/boost_asio/reference.html)。

    *   在固定大小的协议中，数据生产者和消费者都使用相同大小的消息。由于阅读器知道消息的大小，阅读器可以提前分配一个缓冲区。
    *   在可变长度协议中，消息通常分为两部分：标头和正文。标头通常是固定大小的，并且可以包含各种元信息，例如正文的长度。这允许阅读器将标头读入固定大小的缓冲区，提取正文长度，为正文分配缓冲区，然后读取正文。

        ```
        // Read fixed header.
        std::vector<char> data(fixed_header_size);
        boost::asio::read(socket_, boost::asio::buffer(data));

        protocol::header header(data);
        network_to_local(header); // Handle endianess.

        // Read body.
        data.resize(header.body_length());
        boost::asio::read(socket_, boost::asio::buffer(data));  

        protocol::body body(data);
        network_to_local(body); // Handle endianess. 
        ```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-02-25T05:39:13.060

通常，通信协议要么使用固定长度的消息，要么使用包含标明消息长度的标头的消息。

[Boost.Asio 在线文档](http://www.boost.org/doc/libs/1_53_0/doc/html/boost_asio.html)包含大量示例和教程，因此您或许应该从那里开始。维基百科是解释[数据传输](http://en.wikipedia.org/wiki/Data_transmission)术语的好来源，boost asio 文档没有这样做。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-25T05:39:03.367

我认为您的问题令人困惑，但这可能会有所帮助：

```
void receive() {
  enum { max_length = 1024 };
  char reply[max_length];
  size_t reply_length;
  std::cout << "Reply is: ";
  while ( (reply_length = ba::read(s, basio::buffer(reply, max_length))) > 0) {
    std::cout.write(reply, reply_length);
  }
  std::cout << "\n";
} 
```

# html - css 中 base64 图标的性能与多种用途的外部图像

> ID：15060674
> 
> 赞同：1
> 
> 时间：2013-02-25T05:26:23.500
> 
> 标签：html, css, base64, background-image, data-uri

我正在使用来自 famfamfam Silk 图标集的大约 30 张图像，并且发现[这些图像采用 base64 编码格式](http://mattclare.ca/blog/wp-content/silkcss.html)

这些图标存储在一个 .css 文件（大约 20kb）中，每行结果将包含 5 个相同的图标 - 仅通过 https 提供给现代浏览器。

我有兴趣知道我是否有 100 行，每行包括从单个外部 CSS 文件引用的 5 个相同图标，这会比单个图像文件或精灵更好吗？CSS 文件显然会被缓存，但是如果浏览器必须从 data-uri 一遍又一遍地渲染相同的背景图像，这比缓存的图像文件更好还是更差？

我也从[Wikipedia](http://en.wikipedia.org/wiki/Data_URI_scheme#Advantages)注意到这一点，但对其他人的意见和经验感兴趣。

> 从同一个文档中多次引用同一个资源（例如嵌入的小图像）会导致嵌入资源的多个副本。相比之下，一个外部资源可以被任意多次引用，但只能下载和解码一次。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-25T21:43:11.920

我不知道如何为此进行可测量的测试，但我创建了以下小提琴[http://jsfiddle.net/chrisdanek/36Uk3/](http://jsfiddle.net/chrisdanek/36Uk3/)

这是 1000 个`div`元素，背景设置为 famfamfam 图标之一

```
div { 
  float: left; 
  background: url('data:image/png;base64,...') no-repeat; 
  width: 16px; 
  height: 16px; 
} 
```

现在，如果您查看 Chrome 中的开发人员工具，您会注意到此图标仅加载一次，而不是作为单独资源加载 1000 次。在分析此示例和使用图标的 url 时，我也没有注意到内存负载的差异。

其他浏览器的这种行为可能会有所不同，但我的猜测是，只要您不在 CSS 中重复自己并重用相同的编码资源，您就不会看到基于编码本身的差异。您仍将受益于少一个 HTTP 请求。

# php - 当 md5 与使用 crypt() 的 salt 一起使用时，哈希的字符集是什么？

> ID：15060676
> 
> 赞同：1
> 
> 时间：2013-02-25T05:26:44.627
> 
> 标签：php

用盐给出的**字符集**是什么。`output``crypt() using md5`

通过哈希，我的意思是**"$1$ "8 个随机字符"$"**`22`之后的字符。所以我想知道**22 散列字符包含**什么类型的字符？

 ***** * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-08T19:24:05.037

我一直在寻找这个并且发现了一些涉及到这个的问题，但似乎没有人有明确的答案，当然除了代码之外没有人，这个python实现相同：

[http://pythonhosted.org/passlib/lib/passlib.hash.md5_crypt.html](http://pythonhosted.org/passlib/lib/passlib.hash.md5_crypt.html)

基于此，似乎盐和哈希本身都使用以下正则表达式字符集进行编码：[./0-9A-Za-z]

我希望这些输出相同，因为它们都试图与相同的影子密码实用程序兼容。****

# android - 安装错误：INSTALL_FAILED_MEDIA_UNAVAILABLE

> ID：15060680
> 
> 赞同：0
> 
> 时间：2013-02-25T05:26:55.813
> 
> 标签：android

我正在尝试在 htc 设备（Android 2.2.1 版本）中运行我的应用程序。但它将错误消息显示为`Installation error: INSTALL_FAILED_MEDIA_UNAVAILABLE`. 我的apk大小也是7mb。如何运行我的应用程序？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2014-08-04T08:30:39.460

对我来说，它工作正常，突然间这个错误开始出现。释放手机中的一些内存解决了我的问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-03-02T11:30:33.317

这可能是因为内存不足。对我来说，删除一些不必要的文件和应用程序时问题解决了。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-03-30T10:36:54.733

当安装位置指定且刚性时，可能会出现此问题。您可以在您的 android 清单中使用以下内容来指定您的测试应用程序的安装位置。

```
android:installLocation="preferExternal" 
```

将应用程序安装在您的外部存储器中。例如。SD 卡

```
android:installLocation="preferInternal" 
```

将应用程序安装在您的外部存储器中。例如。你手机的内存

```
android:installLocation="auto" 
```

在设备侦察适合的任何地方安装应用程序。使用它解决了我的问题。

祝你好运

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-09-18T03:48:54.510

您的手机是否通过 USB 连接。如果是这样，它无法安装您的 SD 卡。问题可能是标志 android:installLocation:"preferExternal" 的原因，因此应用程序安装在 SDCard 中。尝试使用 DDMS 或文件浏览器模式将 apk 文件复制到您的 sdcard，然后移除 USB 并通过设备文件浏览器应用程序安装文件。

# c# - 删除 GridView 上的行

> ID：15060681
> 
> 赞同：-1
> 
> 时间：2013-02-25T05:27:01.507
> 
> 标签：c#, asp.net, code-behind

一个网格表有 5 行，由数据库填充。
如果我们想删除 somerow 就可以了。

## 解决方案：

创建一个datatableTemp，在gridView上删除后，它也会删除一个表Temp。
之后，它将由 tableTemp 填充 GridView。

```
//========Get datatable from database.
dtTempGrdBlockForDeviceByRole = Cls_BLOCKS.getDataTable_WriteField();
grdBlockForDeviceByRole = Cls_BLOCKS.getDataTable_WriteField();            
for (int x = 0; x < grdBlockForDeviceByRole.Rows.Count; x++)
{
    CheckBox chk = grdBlockForDeviceByRole.Rows[x].FindControl("ckDelete") as CheckBox;
    string txtD = grdBlockForDeviceByRole.Rows[x].Cells[0].Text;                
    if (chk.Checked)
    {
        //If choice   
        //What should we do in here?         
    }                
}
grdBlockForDeviceByRole.DataSource = dtTempGrdBlockForDeviceByRole;
grdBlockForDeviceByRole.DataBind(); 
```

你能帮帮我吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T09:04:08.620

您可以使用如下代码。

```
dtTempGrdBlockForDeviceByRole = Cls_BLOCKS.getDataTable_WriteField();
grdBlockForDeviceByRole = Cls_BLOCKS.getDataTable_WriteField();            
for (int x = 0; x < grdBlockForDeviceByRole.Rows.Count; x++)
{
    CheckBox chk = grdBlockForDeviceByRole.Rows[x].FindControl("ckDelete") as CheckBox;
    string txtD = grdBlockForDeviceByRole.Rows[x].Cells[0].Text;                
    if (chk.Checked)
    {
        dtTempGrdBlockForDeviceByRole.Rows.RemoveAt(x);  
    }                
}
grdBlockForDeviceByRole.DataSource = dtTempGrdBlockForDeviceByRole;
grdBlockForDeviceByRole.DataBind(); 
```

谢谢

# html - IE 实现 last-child 的方式有什么不同？

> ID：15060690
> 
> 赞同：1
> 
> 时间：2013-02-25T05:27:56.887
> 
> 标签：html, css

我正在使用一个具有如下 CSS 代码的模板：

```
h2:last-child,
p:last-child,
ul:last-child,
ol:last-child,
dl:last-child,
hr:last-child {
    margin-bottom: 0;
}
/* IE class */
h2.last-child,
p.last-child,
ul.last-child,
ol.last-child,
dl.last-child,
hr.last-child {
    margin-bottom: 0;
} 
```

有人可以解释为什么作者对 IE 的做法不同吗？现代浏览器仍然需要它吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T05:34:07.747

这意味着存在/曾经有一个装饰器 JS 库/代码，用于添加该类`.last-child`及其`.first-child`适用于 IE8 及以下版本的内容。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T05:38:11.077

他们可能正在使用 jQuery 将类应用于最后一个子元素，因为旧的 IE 浏览器不支持 css3，因此`last-child`无法工作。

```
$("hr:last-child")
    $(this).addClass("last-child");
}); 
```

[Modernizr](http://modernizr.com/)是一个很棒的库，可以帮助有条件地处理不同浏览器的 js/css

# javascript - 我可以使用什么 unicode 字符来“标记”字符串？

> ID：15060692
> 
> 赞同：0
> 
> 时间：2013-02-25T05:28:05.140
> 
> 标签：javascript, html, json, string, unicode

我想表示一个具有多个文本属性的对象，每个属性都代表相同的文本值但使用不同的语言。万一用户修改了单个字段，其他字段应该修改，我正在考虑在其他字段的字符串开头添加单个Unicode字符，然后检查需要注意的字段，我只是必须检查 处的值`obj.text_prop[0]`。

我可以为此目的使用哪个 Unicode 字符？理想情况下，它是不可打印的，受 JS 和 JSON 支持。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T08:58:18.480

这种标记应该以其他方式在字符级别以外的协议级别完成。例如，考虑使每个语言版本都成为一个对象，而不仅仅是一个字符串；`needsAttention`除了包含字符串的属性之外，该对象还可以具有其他属性。

但如果您需要将此类信息嵌入到字符串中，则可以使用零宽度空间 U+200B。因此，这意味着换行机会，但这不应该在这里打扰。主要问题可能是旧版本的 IE 可能会将其显示为一个小矩形。

或者，您可以使用非字符代码点，例如 U+FFFF，如果您可以确保在不删除此代码点的情况下永远不会从程序的任何地方发送字符串。如 Ch 中所述。Unicode 标准、[特殊区域和格式字符](http://www.unicode.org/versions/latest/ch16.pdf)中的 16 个，非字符代码点保留供应用程序内部使用，绝不能在文本交换中使用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T05:50:06.807

我建议你不要在行首使用奇怪的字符。你可以实现这样的事情：

```
<script type="text/javascript">
    function LocalizationSet(){};

    LocalizationSet.prototype.localizationItems = [];
    LocalizationSet.prototype.itemsNeedAttention = [];

    LocalizationSet.prototype.setLocalization = function(langId, text)
    {
        this.localizationItems[langId] = text;
        this.itemsNeedAttention[langId] = true;
    }

    LocalizationSet.prototype.getLocalization = function(langId)
    {
        return this.localizationItems[langId];
    }

    LocalizationSet.prototype.needsAttention = function(langId)
    {
        if(this.itemsNeedAttention[langId] == null)
        {
            return false;
        }
        return this.itemsNeedAttention[langId];
    }

    LocalizationSet.prototype.unsetAttentionFlags = function()
    {
        for(var it in this.itemsNeedAttention)
        {
            this.itemsNeedAttention[it] = false;
        }
    }

    //Example
    var set = new LocalizationSet();
    set.setLocalization("en","Hello");
    set.setLocalization("de","Willkommen");

    alert(set.needsAttention("en"));
    alert(set.needsAttention("de"));

    set.unsetAttentionFlags();
    alert(set.needsAttention("en"));
    set.setLocalization("en","Hi");
    alert(set.needsAttention("en"));
    //Shows true,true,false,true
</script> 
```

# mongodb - 错误：在集合中找不到主服务器

> ID：15060698
> 
> 赞同：0
> 
> 时间：2013-02-25T05:28:23.253
> 
> 标签：mongodb, database-cluster, database

我有一个两节点集群...一个主节点和一个辅助节点。我随机保留这条消息

**错误：** `no primary server found in set`

有什么建议么 ？在副本集选项中，我将其设置为以下：

```
{"read":"secondary", "auto_reconnect":true, safe: true} 
```

我也在使用较新的驱动程序

```
"mongodb": "1.2.13"

"mongoskin": "0.5.0" 
```

是因为它只有两个节点吗？我应该增加节点数量来阻止这些随机读取失败吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T16:19:26.370

虽然不建议将 2 个节点用于生产环境，但您可以保留两个节点，然后添加第三个节点，即*仲裁*器( [http://docs.mongodb.org/manual/administration/replica-sets/#replica-set- arbiters](http://docs.mongodb.org/manual/administration/replica-sets/#replica-set-arbiters)）——这会给你奇数票（虽然仲裁器实际上没有存储任何数据，但它的唯一存在是投票并避免在选举中没有人拥有多数票的情况）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T09:38:55.507

您的副本集中将需要（至少）三个成员。您的副本集中应该始终有奇数个成员，因为如果您的主节点出现故障，其他成员将投票决定谁将成为新的主节点。

如果选民人数是偶数，那么您将永远处于平局，您将永远无法在新的初选中投票。

# dynamics-gp - Dynamics GP的定制

> ID：15060699
> 
> 赞同：-1
> 
> 时间：2013-02-25T05:28:33.860
> 
> 标签：dynamics-gp

我正在尝试使用 Visual Studio 自定义 Dynamics GP。我在我的系统上安装了 VS Tools SDK，但我无法在项目模板中找到动态 gp 图标。应该如何将 VS Tools SDK 与 VS 2010 集成。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2020-03-21T19:08:04.827

重新安装 SDK，并仔细阅读 Visual Studio 版本。在 GP 日期之后，您将不会在任何版本的 VS 上获得模板。换句话说，对于 GP 2016，您必须使用 VS 2015 或更早版本

[http://dynDeveloper.com/Article/FD27](http://dynDeveloper.com/Article/FD27)

# php - 使用php执行shell脚本

> ID：15060708
> 
> 赞同：3
> 
> 时间：2013-02-25T05:29:42.057
> 
> 标签：php, shell, shell-exec

我有一个`deploy.sh`包含以下内容的 shell 脚本：-

```
echo "0 Importing the code"
eval "git pull -u origin master"

echo "1 Backing up existing data in database.."
// -- other code follows here 
```

当我直接使用终端执行脚本时，我得到以下输出：-

```
0 导入代码

```

```
远程：计数对象：5，完成。
远程：压缩对象：100% (2/2)，完成。
远程：总计 3（增量 1），重用 0（增量 0）
拆包对象：100% (3/3)，完成。
来自 bitbucket.org:user/repo
 * 分支主 -> FETCH_HEAD
更新 db13xxx..6705xxx

```

```
1 备份数据库中的现有数据..

```

这是对的。但是，我编写了一个 PHP 脚本，我可以使用它通过 http 调用 deploy.sh 脚本。这个php页面的内容如下：-

```
$output = `./deploy.sh`;
echo '<pre>', $output, '</pre>'; 
```

当我通过浏览器调用这个 php 文件时，shell 脚本实际上被调用了，我得到了以下输出：-

```
0 导入代码
1 备份数据库中的现有数据..

```

问题是该`eval "git pull -u origin master"`命令没有被执行并且它的输出没有显示出来。知道问题是什么吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2014-08-19T09:23:54.053

这有效

```
<?php
$output = shell_exec('sh deploy.sh');
echo "$output";
?> 
```

在此之前确保该文件具有**chmod 777**权限。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-25T05:32:04.590

您应该尽量避免在 php.ini 中运行 shell 命令。

话虽如此，试试这个：

```
$output = shell_exec('./deploy.sh');
echo "<pre>".$output."</pre>"; 
```

根据：[http ://www.php.net/manual/en/function.shell-exec.php](http://www.php.net/manual/en/function.shell-exec.php)

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-11-16T13:22:28.027

您可以使用该`exec()`函数做的一件事是传递两个可选值以获得更多洞察力。

这是我用来从 Web 界面测试 shell 脚本的一些代码。

```
<?php
require_once(__DIR__.'/../libs/Render.php');
error_reporting(E_ALL);

//Initialize and Run Command, with a little trick to avoid certain issues
$target='cd ../../your/relative/path && ./CustomScript.sh';
$outbuf=exec($target,$stdoutbuf, $returnbuf);

//Structure
$htm=                           new renderable('html');
$html->children[]=  $head=      new renderable('head');
$html->children[]=  $body=      new renderable('body');
$body->children[]=  $out=       new renderable('div');
$body->children[]=  $stdout=    new renderable('div');
$body->children[]=  $returnout= new renderable('div');

//Value
$out->content=         'OUTPUT: '.$outbuf;
$stdout->content=      'STDOUT: '.var_export($stdoutbuf,true);
$returnout->content=   'RETURN: '.$returnbuf; //127 == Pathing problem

//Output
print_r($html->render());
?> 
```

File 正在使用我在其中使用的项目中的[可渲染类](https://github.com/stealthpaladin/Approach/blob/master/base/Render.php)，但是您可以将字符串输出放在您使用它的任何地方，或者`echo/print_r()`也可以。还要通过运行 phpinfo(); 确保你没有处于安全模式。很多人都有这个问题。

此外，没有理由避免在 PHP 中使用 shell 脚本。PHP 作为一种脚本语言，它在聚合许多 shell 脚本以允许更高级别的管理方面非常节俭。

PHP 不仅适用于“网站”。即便如此，将管理脚本暴露给 Web 界面本身还是非常有用的。有时这甚至是项目要求。

* * *

## 回答 #4

> 赞同：-2
> 
> 时间：2016-03-18T12:12:56.623

> 这是正确的代码

```
<?php 
  $cmd = 'ifconfig'; // pass command here
  echo "<pre>".shell_exec($cmd)."</pre>";
?> 
```

# java - Spring中的任务调度程序

> ID：15060710
> 
> 赞同：0
> 
> 时间：2013-02-25T05:29:53.527
> 
> 标签：java, spring, scheduling

我正在使用spring调度程序任务在固定间隔后调用类中的方法，如下所示

```
<task:scheduled-tasks scheduler="scheduler">
<task:scheduled ref="processScheduledJobs" method="init" fixed-delay=5000/> 
```

一旦调度器触发 init 方法。init 方法将使用线程池执行器来执行队列中的所有作业。

```
<bean id="processScheduledJobs" class="XXXX.VV.ProcessScheduledJobs">
 <property name="pool" ref="jobExecutorService"" />
</bean>

<bean id="scheduler" class="org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor">
  <property name="threadFactory">
      <bean class="XXX..VVV.NamingThreadFactory">
           <constructor-arg value="thread" />
      </bean>
  </property>
  <property name="corePoolSize" value="16" />
  <property name="maxPoolSize" value="64" />
  <property name="keepAliveSeconds" value="4" />
  <property name="queueCapacity" value="512" />
</bean> 
```

问题：执行 init 方法的初始线程是否等到 init 方法中的所有处理（由执行器服务通过产生新线程完成）完成？

调度程序任务的池大小属性是否仅用于触发任务而不用于执行或处理触发任务内部的逻辑。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T12:21:17.163

属于的线程`scheduler`会将所有作业提交到`jobExecutorService`. 其中多达 64 个将立即开始执行，其余的多达 512 个将在队列中结束。一旦所有内容都提交了 - 未执行 - init 方法将退出。这不应该花费超过几毫秒的时间。

如果`scheduler`不一样`jobExecutorService`- 我不能告诉这一点，因为你的部分 xml 丢失了 - 它的线程将不会用于执行作业逻辑。

# php - gettext中所有语言的复数形式列表？

> ID：15060715
> 
> 赞同：0
> 
> 时间：2013-02-25T05:30:14.950
> 
> 标签：php, gettext

我正在用 php 实现一个多语言站点，而我可以使用 ngettext 来根据语言获取正确的复数形式（有些不是那么简单）

我的问题是，虽然我知道语言可以手动放置几个，但我想包含所有欧盟语言的一些基本字符串（首先）。

我的问题是我找不到任何复数形式公式的列表来将它们放入数据库中以自动生成 pofiles（并在适当时合并）。

我会感谢有关在哪里可以找到该列表的任何提示。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-12-27T14:50:48.603

这是你追求的那种东西吗？

[http://docs.translatehouse.org/projects/localization-guide/en/latest/l10n/pluralforms.html](http://docs.translatehouse.org/projects/localization-guide/en/latest/l10n/pluralforms.html)

# php - mysqli准备正则表达式或其他方式

> ID：15060718
> 
> 赞同：0
> 
> 时间：2013-02-25T05:30:30.537
> 
> 标签：php, mysqli, innodb, sql-like

所以我需要通过查看一个字段来从 MySQL 表中选择数据，看看它是否有某个单词，并在动态生成的 where 子句中做很多其他事情。

在过去使用旧的 mysql 扩展时，我会这样做：

```
select [bunch of stuff] left join [bunch of stuff] where
`field` rlike "(?=.*word1)(?=.*word2)(?=.*word3)..."
and [more where..] order by [order stuff] 
```

现在当然我使用 mysqli 和一个准备好的语句......

```
select [bunch of stuff] left join [bunch of stuff] where
match(`field`) against(?,?,?...)
and [more where..] order by [order stuff] 
```

不幸的是，我得到了一个 InnoDB 表，这意味着我没有全文搜索，这将使我将一些类似的语句链接在一起，如下所示：

```
select [bunch of stuff] left join [bunch of stuff] where
`field` like concat("%",?,"%") or `field` like concat("%",?,"%") ...
and [more where..] order by [order stuff] 
```

但这意味着它打破了我在这里的“和”链，需要在每个“或”中重复[更多地方..]......这一定是错误的，我也一直在盯着这个现在很久了。

有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T05:54:00.750

您可以使用数组构建查询：

```
$sql="SELECT...WHERE ";
$cond=array();
$bind=array();
$subCond=array()
foreach($searchQuery as $txt) //assumed you have stored search query
{
    $subCond[]="`field` LIKE concat('%',?,'%')";
    $bind[]=$txt;
}
$cond[]="(".implode(" OR ",$subCond).")";
/*...continue to build conditions...*/
$sql.=implode(" AND ",$cond);
$sql.=" SORT BY ...";
$stmt=$mysqli->prepare($sql);
call_user_func_array(array($stmt,"bind_param"),array_merge(array(str_repeat("s",count($bind))),$cond));
$stmt->execute(); 
```

注意到上面的代码没有经过测试，可能会引发警告（可能是由于引用传递问题），但它给了你这个想法。

另请查看[此评论](http://www.php.net/manual/en/mysqli-stmt.bind-param.php#109256)以获取变量编号变量绑定解决方案。

# android - android webview中的Html复选框

> ID：15060726
> 
> 赞同：0
> 
> 时间：2013-02-25T05:31:09.740
> 
> 标签：android, html

我想知道：-

在我的项目中，我使用 html 内容并在 android webview 中显示它们。我正在使用eclipse ide。这是很小的代码。

```
"<form name =\"frm\">"+
                                                "<input type=\"checkbox\" name =\"First\" value =\"xyz\">xyz<br>"+
                                                "<input type=\"checkbox\" name =\"First\" value =\"abc\">abc<br>"+ 
                                               "</form>" 
```

我的问题是我怎样才能获得复选框状态。它被选中或未选中。

或者我如何在我的 java 代码中捕获状态。

更新：-

```
 public String html =  "<form name =\"frm\">"+
                                                    "<input type=\"checkbox\" name =\"First\" value =\"xyz\">as<br>"+
                                                    "<input type=\"checkbox\" name =\"Second\" value =\"zyx\">as<br>"+ 
                                                    "<input type =\"button\" onclick =\"callDoSomething()\"><br>"+
                                                    "</form>" +

                                                    "<script type=\"text/javascript\">"+
                                                    "function callDoSomething() {"+
                                                    " var theName = document.frm.First.value;"+
                                                    "alert('theName ')"+
                                                    "}"+
                                                    "</script>"; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T06:16:44.567

首先，您的两个复选框都命名为“First”，您可能应该将第二个复选框命名为“Second”。如果您想按值搜索复选框 - 只需添加一个简单的 js for 循环。

假设您想从您的 Android 代码中获取结果（而不是像单击按钮这样的 JS 事件），以下是您如何按名称为您的复选框获取 Java 布尔值：

```
// assuming your activity is MyActivity, target checkbox name
// is in the targetCheckboxName var and webView has the document
// loaded already
Object jsi = new Object() {
    @JavascriptInterface
    public String reportCheckboxState(String name, boolean isChecked) {
        new AlertDialog.Builder(MyActivity.this).setMessage(name + " is " +
                isChecked).create().show();
    }
};
webView.addJavascriptInterface(jsi, "injection");
webView.loadUrl(
    "javascript:injection.reportCheckboxState(frm." + targetCheckboxName +
    ".name, frm." + targetCheckboxName + ".checked);"
); 
```

但实际上，这是一个非常简单的技巧。从对该问题的评论来看，您可能应该阅读 JavaScript 和[WebView.addJavaScriptInterface()](http://developer.android.com/reference/android/webkit/WebView.html#addJavascriptInterface%28java.lang.Object,%20java.lang.String%29)

# apache2 - 在 ubuntu 12.04 中更改文档根目录

> ID：15060727
> 
> 赞同：0
> 
> 时间：2013-02-25T05:31:11.407
> 
> 标签：apache2, ubuntu-12.04

我已经尝试了所有可能的解决方案，将 ubuntu 上的文档根目录更改为我的新站点，但没有任何效果。我已将可用站点默认文件（文档根目录和目录根目录）中的设置更改为包含该网站的新目录，或者创建一个指向我的 Web 目录并通过命令切换站点的新可用站点 `a2ensite` 文件 `a2dissite` 。但它仍然进入相同的默认页面

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-14T15:56:31.053

我已经解决了：

1.  安装 webmin
2.  从 webmin 转到服务器-> Apache 网络服务器
3.  编辑默认的“虚拟主机”：
    *   处理所有连接
    *   添加您的文档根目录
    *   使用 httpd.conf 文件..

完成后，从 webmin 或命令行重新启动服务器：

```
sudo /etc/init.d/apache2 restart 
```

# c# - 返回添加的行

> ID：15060729
> 
> 赞同：0
> 
> 时间：2013-02-25T05:31:19.800
> 
> 标签：c#, winforms, datagridview

我有一个`DataGridView`显示来自`SQL table`. 它正在使用`sqldependency`以便在数据更改时发出警报，并`DataGridView`立即显示更新的数据。新行将定期添加到此表中，当发生这种情况时，我只想从第一个数据网格中获取那些新行并填充单独的`DataGridView`.

我已经`RowAdded event`对`sqldependency`.

有没有人有做类似事情的经验？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T06:14:34.757

让我们调用具有所有行*Grid A*的第一个 DataGridView和仅显示新行*Grid B*的 DataGridView 。不要通过观察网格 A 的变化来定义网格 B 的内容。相反，创建自己的“新行”定义。一种简单的方法是在每次更新期间复制网格 A 的内容（在我们的 SqlDependency 对象的 OnChange 事件中）。然后，在下一次更新时，您将能够将行选择到“新行”数据集中。

这是您的 SqlDependency 对象的 OnChange 处理程序的伪代码（这应该监视填充网格 A 的 SqlCommand）：

1.  *运行一个 SqlCommand，从 Grid A 数据源中选择行，该数据源带有一个 NOT IN 子句，该子句在名为LastUpdate*的第二个表中排除具有 ID 的行（参见步骤 2）。这将是网格 B 的数据源
2.  运行将 Grid A 数据源的所有行复制到 LastUpdate 表的 SqlCommand。最简单的方法可能是先删除 LastUpdate 的内容，然后运行以下形式的语句：`INSERT INTO LastUpdate(ID) SELECT ID FROM table_x`
3.  正常更新网格 A

我要强调的一点是，这种更新策略在数据查询和 UI 之间创建了有效的分离。换句话说，驱动网格 B 的数据不依赖于网格 A。如果你坚持这个原则，你应该会得到一个更易于维护的应用程序。

# function - 如何在 Sencha 模板中调用模型函数

> ID：15060735
> 
> 赞同：0
> 
> 时间：2013-02-25T05:32:13.740
> 
> 标签：function, templates, extjs

我有一个客户端模型定义为：

```
Ext.define('app.model.Client', {
    extend: 'Ext.data.Model',
    alias: 'model.clientmodel',
    fields: [
        {
            name: 'Firstname',
            type: 'string'
        },
        {
            name: 'Lastname',
            type: 'string'
        },
        {
            name: 'Title',
            type: 'string'
        }
    ],
    GetFullName: function(withTitle) {
        var fullName = [this.get('Firstname'), this.get('Lastname')].join(' ');

        if(withTitle){
            return [this.get('Title'), fullName].join(' '); 
        }

        return fullName;
    }
}); 
```

在网格中，我想要一个“全名”模板列 - 有没有办法调用我的模型中定义的 GetFullName 方法？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T05:38:55.243

您可以像下面的代码一样使用转换

```
Ext.define('app.model.Client', {
extend: 'Ext.data.Model',
alias: 'model.clientmodel',
fields: [
    {
        name: 'Firstname',
        type: 'string'
    },
    {
        name: 'Lastname',
        type: 'string'
    },
    {
        name: 'Title',
        type: 'string'
    },
    {
        name: 'FullName',
        type: 'string',
        convert: function(value,record) {
            var fullName = [record.get('Firstname'), record.get('Lastname')].join(' ');

            if(withTitle){
                return [record.get('Title'), fullName].join(' '); 
            }

           return fullName;
        }
    }

] 
```

});

现在您可以在网格 dataIndex 中使用 FullName 列。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-25T06:23:28.157

我想出的解决方案是使用模板函数来获取对客户端数据的引用并通过那里调用 GetFullName。

我希望能够把它变成一个可重用的类，但我不确定如何获得对网格的引用（因为它不会总是在 MyGrid 上）。

```
{
    xtype: 'templatecolumn',
    dataIndex: 'Lastname',
    text: 'Name',
    tpl: new Ext.XTemplate('{[this.getFullName(values.ID)]}',
    {
        getFullName: function (clientId) {
            var myGrid = Ext.getCmp('MyGrid'),
            myStore = myGrid.getStore(),
            client = myStore.getById(clientId);

            return client.GetFullName(true);
        }
    }
    )
} 
```

# java-bytecode-asm - 带有 HttpURLConnection 的 ASM 字节码

> ID：15060738
> 
> 赞同：0
> 
> 时间：2013-02-25T05:32:32.290
> 
> 标签：java-bytecode-asm, bytecode-manipulation

使用 ASM ByteCode 库，在创建 HttpUrlConnection ic 时添加请求标头 (UUID) 下面是我的代码 - 也得到输出 === > 这是 Http CONNECT 方法！。但不知道如何添加标题？

```
 package com.eg.agent;

    import org.objectweb.asm.MethodVisitor;
    import org.objectweb.asm.Opcodes;

    public class EgHttpMethodVisitorAdapter extends MethodVisitor {

        private String methodName;
        private String className;
        private String description;

        public EgHttpMethodVisitorAdapter(MethodVisitor mv , String  methodName , String description , String className) {
            super(Opcodes.ASM4, mv);
            this.methodName = methodName;
            this.className = className;
            this.description = description;
        }

        public void visitCode() {
            super.visitCode();
            System.out.println("\t [HTTP URL CONNECTION - Method Name]"+methodName +"  Class NAME: "+className  + "  DESC :"+description);
            boolean isConnect =  false;
            if(methodName.equals("connect") && description.equals("()V"))
                isConnect = true;
            if(isConnect) {
                mv.visitFieldInsn(Opcodes.GETSTATIC, "java/lang/System", "out", "Ljava/io/PrintStream;");
                mv.visitLdcInsn (" ====> This is Http CONNECT Method!");
                mv.visitMethodInsn(Opcodes.INVOKEVIRTUAL, "java/io/PrintStream","println", "(Ljava/lang/String;)V");
            }
        }

        public void visitMaxs(int maxStack, int maxLocals) {
            super.visitMaxs(maxStack + 4, maxLocals);
        }
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-27T09:36:30.387

我已经解决了..附加了 visitCode 方法。

```
 public void visitCode() {
        super.visitCode();
        boolean isConnect =  false;
        if(methodName.equals("connect") && description.equals("()V"))
            isConnect = true;

        if(isConnect) {
            // Dynamically add UUID .. 
            mv.visitMethodInsn(Opcodes.INVOKESTATIC, "java/util/UUID", "randomUUID", "()Ljava/util/UUID;");
            mv.visitVarInsn(Opcodes.ASTORE, 3); 
            mv.visitVarInsn(Opcodes.ALOAD, 0);  
            mv.visitLdcInsn("GUID");
            mv.visitVarInsn(Opcodes.ALOAD, 3); 
            mv.visitMethodInsn(Opcodes.INVOKEVIRTUAL, "java/util/UUID", "toString", "()Ljava/lang/String;");
            mv.visitMethodInsn(Opcodes.INVOKEVIRTUAL, "java/net/HttpURLConnection", "addRequestProperty", "(Ljava/lang/String;Ljava/lang/String;)V");
            mv.visitCode();
        }
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T03:30:15.903

您可能会发现[ASM 常见问题解答问题 11](http://asm.ow2.org/doc/faq.html#Q11)很有帮助。

# asp.net - 使用godaddy启动asp.net网站时的用户认证情况

> ID：15060740
> 
> 赞同：0
> 
> 时间：2013-02-25T05:32:39.713
> 
> 标签：asp.net, .net, visual-studio, authentication, web

我是 asp.net 和网络托管的新手。我在visual studio2010-3.5框架上建立了网站。为了验证用户身份，我进入了 asp.net 配置，在其中创建了 3 个用户和 3 个角色。每个用户都被分配了一个角色。.NET 框架创建了一个名为 ASPNETDB.mdf 的数据，其中包含用户和角色。用户身份验证在本地计算机上运行良好。我的网络托管服务提供商是 godaddy.com。现在，问题是在哪里上传 ASPNETDB.mdf 数据库（在 godaddy.com 中），以便用户身份验证开始工作，因为它在我的本地机器上工作。或者有没有其他方法来处理这种情况。任何建议将不胜感激。随时询问是否需要更多信息。谢谢

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-02-25T06:11:26.037

您可以在 go-daddy 本身上设置用户身份验证和权限。您进入网络托管和 FTP 管理器并选择权限并取消选中已读。通过禁用“读取”访问，该目录将在线受到密码保护。

这是 go-daddy 关于该主题的支持页面的链接。[http://support.godaddy.com/help/article/3977/password-protecting-web-directories-on-a-windows-hosting-account](http://support.godaddy.com/help/article/3977/password-protecting-web-directories-on-a-windows-hosting-account)

# java - 如何删除 Java 加密限制？

> ID：15060741
> 
> 赞同：0
> 
> 时间：2013-02-25T05:32:45.470
> 
> 标签：java, cryptography, jce

我正在为我的家庭作业做一些加密。该程序在编译时不会显示任何错误。但是，当我运行该程序时，我得到一个异常 - `java.security.NoSuchAlgorithmException`。我认为这是由于加密限制。我已经下载并导入了 Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files 6（但我不确定这些库是否真的进行了加密）。我找不到在某些使用加密（如`import com.sun.crypto.provider.SunJCE`）的示例程序中导入的 Sun JCE jar。

任何人都可以提供有关如何毫无例外地运行我的代码的任何指示吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T07:40:24.207

您必须下载[这些文件](http://www.oracle.com/technetwork/java/javase/downloads/jce-6-download-429243.html)并按照 jce\README.txt 中的安装说明进行操作

# php - 我可以在请求来自代理服务器的多个开发人员的远程服务器上使用 Xdebug 吗？

> ID：15060743
> 
> 赞同：0
> 
> 时间：2013-02-25T05:32:48.787
> 
> 标签：php, debugging, configuration, proxy, xdebug

这是我的情况：

*   我们公司有一个中央网络服务器*R*，用于测试我们的 PHP 应用程序。
*   我在本地机器*L*上开发，然后上传到*R* 进行测试。
*   我们的应用程序以这样一种方式运行，即运行在*L*上的客户端 向代理服务器*P*发出请求；*然后P*将请求转发给*R* 并处理响应。处理后的响应 在*L上从**P*发送回客户端。

 *本质上，我想知道是否有一种方法可以通知在*R*上运行的 Xdebug当请求来自*P时，应该使用**L*启动调试会话。

 *我不能在 Xdebug 的配置中对*L*的 IP 进行硬编码，因为可能有其他开发人员连接。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T03:22:57.370

使用[DBG PHP Debugger](http://php-debugger.com)并在你的 php 文件中有这样的语句。请注意，调试器的作者也有一个[IDE](http://nusphere.com/products/php_debugger.htm)。

此语句会将调试信息转发到运行调试客户端的 IP 地址。我们将其限制在与 URL 相同的 IP 上运行。

```
if($IP == '192.168.x.x')
{
    DebugBreak('192.168.x.x');
} 
```**

# php - PHP 获取 setDate() 的工作日

> ID：15060745
> 
> 赞同：0
> 
> 时间：2013-02-25T05:32:55.973
> 
> 标签：php, date, weekday

我正在尝试在 php 中创建日历。我需要得到该月第一天的工作日（周日、周一等）。到目前为止，我的代码是：

```
<?php
$current_month = date("n");
$current_year = date("Y");
$first_day_of_month = new DateTime();
$first_day_of_month -> setDate($current_year,$current_month,1);
?> 
```

我被困在如何获得设定日期的工作日（每月的第一天）。有什么建议么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T05:43:06.773

你可以使用`format`这个类的功能并给出你想要的格式。

这是应该工作的日期格式列表：

[日期格式](http://www.php.net/manual/fr/function.date.php)

例子：

```
$first_day_of_month->format('D'); 
```

注意：查看类定义以获取更多问题：

[约会时间](http://www.php.net/manual/fr/class.datetime.php)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-25T05:43:09.803

尝试，

```
 echo date("l", mktime(0,0,0,date("n"),1,date("Y"))); 
```

在你的情况下，

```
echo date("l", mktime(0,0,0,$current_month,1,$current_year)); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-25T05:44:32.867

这是给你的扩展代码

```
<?php
$current_month = date("n");
$current_year = date("Y");
$first_day_of_month = new DateTime();
$first_day_of_month -> setDate($current_year,$current_month,1);

$timestamp = strtotime($first_day_of_month);

$day = date('D', $timestamp);
var_dump($day);

?> 
```

这会给你那一天。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-25T05:46:31.350

$timestamp = strtotime($current_year-$current_month-1); $day = date('D', $timestamp);

回声$天；

我希望上面提到的代码对你有用。

帕万

# jquery - jquery.html() 是否有“就绪”或“完成”回调？

> ID：15060747
> 
> 赞同：6
> 
> 时间：2013-02-25T05:33:03.163
> 
> 标签：jquery, dom

我正在使用 DOM 插入来生成一些数据输入对话框。我发现在某些浏览器中，特别是移动浏览器和 IE-Mac，`.html()`调用后立即进行的操作不会触发，大概是因为修改后的 DOM 尚未准备好。例如：

```
$.ajax({
    type: "GET",
    url: url,
    dataType: 'html',
    success: function (data, textStatus, jqXHR) {
        $("#theDialog").html(data);

        // hide address
        $("#theDialog #BillingAddress").closest("li").hide();
        ... 
```

这在大多数情况下都有效，但某些浏览器*有时*无法隐藏指示的`<li>`. 调试也很有挑战性，因为进入控制台似乎允许浏览器完成 DOM 插入，因此在单步执行代码时`.hide()` *总是有效。*

我想我所追求的是方法的一个`$("#theDialog").on("ready")`或一个回调`.html()`。但那些似乎不存在。

我想过

1.  切换到`.load()`，但最终我将转换为 JSONP 并且我认为不`.load()`支持？
2.  将`.hide()`DOM 操作和其他 DOM 操作放在返回数据中的脚本标记中。

我怀疑#2 是推荐的方法，但想先在这里进行健全性检查。有没有人经历过这个？

非常感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T15:16:27.677

虽然我之前的回答有效，但并没有解决你所有的问题。我推荐类似的东西：

```
var myDiv=document.createElement( 'div' );
myDiv.innerHTML=data;
// now do all of your initializing, passing in myDiv like $( myDiv )
$("#theDialog").html(myDiv.innerHTML)
  .find( '#BillingAddress' )
  .closest("li")
  .hide(); 
```

希望这有效！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T05:39:41.447

代替：

```
$("#theDialog").html(data);
// hide address
$("#theDialog #BillingAddress").closest("li").hide(); 
```

你有没有尝试过：

```
$("#theDialog").html(data).find( '#BillingAddress' ).closest("li").hide(); 
```

我自己没有经历过，但希望这有效！

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2016-09-01T04:48:36.710

它没有回调函数，但您可以使用`.promise()`和`.done()`

```
$('#selector').html(someText).promise().done(function(){
        //callback code
    }); 
```

# mysql - 无法对所选数据进行分组

> ID：15060748
> 
> 赞同：0
> 
> 时间：2013-02-25T05:33:08.113
> 
> 标签：mysql, sql, database, select

我是数据库的学习者，我想我问的是非常基本的问题，请多多包涵。

我想从表中获取值列表。值列表将根据某些标准进行排序。

*示例：*我在***大学***表中有一个名为**courseOffered**的列，我在其中保存了一个字符串，例如：**java、c++、android 等**。

 ***我在***用户***表中有另外两列称为**primarySubject**和**secondarySubject 。**

 *我的第一个获取逻辑是，根据**primarySubject**，大学表的行值必须是列表中的第一优先级，然后根据**secondarySubject**，大学表的行值必须是列表中的第二优先级，最后将附加其余值，即与**primarySubject**或**secondarySubject**无关。

到目前为止我尝试了什么：

```
SELECT *
FROM test.college
WHERE Courses_Offered LIKE CONCAT('%',RTRIM((SELECT
                           Primary_Subject
                         FROM test.user
                         WHERE Email = 'r.veer7@gmail.com')),'%')
     OR Courses_Offered LIKE CONCAT('%',RTRIM((SELECT
                         Secondary_Subject
                           FROM test.user
                           WHERE Email = 'r.veer7@gmail.com')),'%')
     OR LOWER(Location)IN(SELECT
                LOWER(Location)
              FROM test.user
              WHERE Email = 'r.veer7@gmail.com') 
```

上面的查询获取所有数据，但不是我想要的，它作为行的获取保存在表中，现在我想要一种围绕上述查询中的每个获取的分组，我应该怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T06:41:36.460

像这样你可以使用 group by 和 order by

```
SELECT *
FROM test.college
WHERE Courses_Offered LIKE CONCAT('%',RTRIM((SELECT Primary_Subject FROM test.user WHERE Email = 'r.veer7@gmail.com')),'%')
     OR Courses_Offered LIKE CONCAT('%',RTRIM((SELECT Secondary_Subject FROM test.user WHERE Email = 'r.veer7@gmail.com')),'%')
     OR LOWER(Location)IN(SELECT LOWER(Location) FROM test.user WHERE Email = 'r.veer7@gmail.com')
GROUP by college.column_name
ORDER BY college.first_column_name ASC , college.second_column_name DESC 
```****

# mysql - GROUP_CONCAT 显示所有记录

> ID：15060750
> 
> 赞同：1
> 
> 时间：2013-02-25T05:33:21.687
> 
> 标签：mysql, sql, select

我想根据 messageid 对 image_id 和 small_pic_path 路径进行 group_concate。但是组连接显示所有 image_id 和第一个 messageid 的路径

如何解决这个问题

没有 group_concate 它可以正常工作

```
SELECT user_messages.messageid,user_messages.message,
user_messages.sentby,user_messages.visibility,

post_images.image_id,
post_images.small_pic_path

FROM user_messages
      INNER JOIN smsusers ON
        user_messages.SENTBY = smsusers.id
 INNER JOIN profile_pic ON
 user_messages.SENTBY = profile_pic.userid
left outer JOIN post_images ON
user_messages.messageid=post_images.messageid
WHERE user_messages.userid='1'; 
```

显示正确的输出[演示是](http://sqlfiddle.com/#!2/b9ce4/1)

我想根据 user_messages 的 messageid 对 post 图像的 group_concate image_id、small_pic_path 进行分组，其中无法正常工作

```
 SELECT user_messages.messageid,user_messages.message,
user_messages.sentby,user_messages.visibility,

GROUP_CONCAT( post_images.image_id SEPARATOR ';')
as Image_id,
GROUP_CONCAT( post_images.small_pic_path SEPARATOR ';')
as Image_path

FROM user_messages
      INNER JOIN smsusers ON
        user_messages.SENTBY = smsusers.id
 left outer JOIN post_images ON
user_messages.messageid=post_images.messageid
WHERE user_messages.userid='1'; 
```

[演示是](http://sqlfiddle.com/#!2/b9ce4/3)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T05:35:47.963

你缺少`GROUP BY`条款，

```
GROUP BY  user_messages.messageid,
          user_messages.message,
          user_messages.sentby,
          user_messages.visibility 
```

*   [SQLFiddle 演示](http://sqlfiddle.com/#!2/b9ce4/9)

# c# - 会话模式“ServerState”不能正确处理线程中的会话

> ID：15060751
> 
> 赞同：4
> 
> 时间：2013-02-25T05:33:44.370
> 
> 标签：c#, asp.net, session, stateserver, session-state-server

我已经实现了一些为线程内的会话状态添加值的工作。我希望这些值在线程之外可用（显然）。

当 Session State 模式为“InProc”时，添加到 Session 的信息在 Session 之外可用，没有任何问题。

但是，当会话状态模式为“StateServer”时，行为是不同的。基本上，在 Thread 中设置的值有时会持久化**，**有时**不会**持久化。这对我来说似乎是随机的。

这是重现问题的代码。

```
public partial class _Default : System.Web.UI.Page
{
    protected void Page_Load(object sender, EventArgs e)
    {
    }

    protected void store_Click(object sender, EventArgs e)
    {
        // Set the session values to default.
        Session["Test1"] = "No";
        Session["Test2"] = "No";

        // Set the Test1 session value in the thread.
        ThreadObject threadObject = new ThreadObject() { Username = Page.User.Identity.Name, SessionState = Session };
        worker = new Thread(new ParameterizedThreadStart(Work));
        worker.Start(threadObject);

        // Set the Test2 session value in this thread just to compare.
        Session["Test2"] = "Yes";
    }

    protected void print_Click(object sender, EventArgs e)
    {
        // Print out the Session values.
        label1.Text = string.Empty;
        label1.Text += "Inside Thread: " + Session["Test1"] + ",  \n";
        label1.Text += "Outside: " + Session["Test2"] + "\n";
    }

    private static Thread worker;

    public static void Work(object threadObject)
    {
        // Retrieve the Session object and set the Test2 value.
        ThreadObject threadObject1 = (ThreadObject)threadObject;
        HttpSessionState currentSession = threadObject1.SessionState;
        currentSession["Test1"] = "Yes";
    }
}

public class ThreadObject
{
    public string Username { get; set; }
    public HttpSessionState SessionState { get; set; }
} 
```

上面的代码适用于 SessionState mode="InProc"，但随机：

```
<sessionState mode="StateServer"
  stateConnectionString="tcpip=localhost:42424"
  cookieless="false"
  timeout="20"/> 
```

有任何想法吗？

编辑：因此根据下面的评论，线程需要在请求（主线程）完成之前完成，否则添加到会话中的任何内容都会丢失。这是因为在主线程结束时，会话被序列化并发送到数据存储（进程外，或 SQL Server）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T05:41:34.763

我认为这是一个时间问题 - 无法保证您的工作线程在您设置标签值时已经执行。创建和启动胎面需要一些 MS。到那时，您的主线程的其余部分可能已经完成。您可以通过放置调试输出并查看代码的执行顺序来对此进行测试。

如果您需要保证线程中的代码执行（这消除了对线程的需要） - 您可以使用 WaitOne() 线程方法让您的主线程等待工作线程返回。但是依赖于线程中设置的值在并行进程中可用是有风险的。

此外 - 恕我直言，我不会在 ASP.NET 应用程序中使用线程 - 我相信共识是​​它们有点危险。我已经看到应用程序池由于生成的线程中的错误代码而崩溃。

# php - AJAX 不显示图像但显示 PHP 数据库查询

> ID：15060753
> 
> 赞同：0
> 
> 时间：2013-02-25T05:33:45.743
> 
> 标签：php, ajax, image, html

任何人都可以帮忙吗？

**JQUERY的代码**（注意：这是点击然后加载到目标位置）

```
<script language="JavaScript" type="text/javascript">
            function getXmlHttpRequestObject() {
                if (window.XMLHttpRequest) {
                    return new XMLHttpRequest(); //Not IE
                } else if(window.ActiveXObject) {
                    return new ActiveXObject("Microsoft.XMLHTTP"); //IE
                    alert("Your browser doesn't support the XmlHttpRequest object.  Better upgrade to Firefox.");
                }
            }           
            var receiveReq = getXmlHttpRequestObject();     
            function catia() {
                if (receiveReq.readyState == 4 || receiveReq.readyState == 0) {
                    receiveReq.open("GET", 'products/product-display-catia.php', true);
                    receiveReq.onreadystatechange = handleCatia; 
                    receiveReq.send(null);
                }           
            }
            function handleCatia() {
                if (receiveReq.readyState == 4) {
                    document.getElementById('main').innerHTML = receiveReq.responseText;

                }
            }
            </script> 
```

这是 jquery 尝试显示的页面的 **代码 CODE**

```
<?php
 $result = mysql_query("SELECT * FROM products WHERE ID='6'");                
                            while($row = mysql_fetch_array($result))                    
                                {echo"
                                        <tr><td><img src='image/1361663812.png'></td></tr>

                                        <tr>
                                            <td colspan='2'><img src='image/".$row['Logo']."'></td>
                                        </tr>       

                                        <tr>                                            
                                            <td>Product: ".$row['Product']."   </td>
                                        </tr> 
```

这是页面的代码，其中 ajax 的导航是 **代码**

```
<div id='navi'>
        </br>
        </br>
            <ol>
                <li><details>
                    <summary>Products</summary>
                        <table align='center'>
                            <tr>
                                <td><a href='javascript:catia();'>Catia</a></td>
                            </tr>

                        </table>                    
                    </details></li>
            </ol>
     </div> 
```

这是ajax将显示页面 **代码的主体**

```
<div id='bod' align="center">

        <div id='main'>a
        </div>

    </div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T06:26:14.837

这还不是一个完整的答案，因为我真的没有足够的信息继续下去。

我假设您在使用这条线时遇到了问题：

```
<td colspan='2'><img src='image/".$row['Logo']."'></td> 
```

如果是这样，请进行以下修改并让我知道它打印出来的内容：

```
<td colspan='2'>##".$row['Logo']."##<img src='image/".$row['Logo']."'></td> 
```

请注意，我添加了`##".$row['Logo']."##`以便您可以查看`$row['Logo']`包含的内容。

# java - 如何从 Netbeans 运行 Selenium 测试

> ID：15060754
> 
> 赞同：0
> 
> 时间：2013-02-25T05:33:51.647
> 
> 标签：java, testing, netbeans, selenium

我在 Selenium IDE 中构建了一个测试用例。现在，我怎样才能最简单地实现从 Netbeans 运行的测试用例？

我的 Netbeans 版本是 7.2。Selenium 服务器在我的 Netbeans 服务中运行。这是我对 Google 搜索的简单测试用例。我试图导出为 Java/Junit 文件。Netbeans 显示缺少类路径。

```
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head profile="http://selenium-ide.openqa.org/profiles/test-case">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link rel="selenium.base" href="https://www.google.co.in/" />
<title>google_search</title>
</head>
<body>
<table cellpadding="1" cellspacing="1" border="1">
<thead>
<tr><td rowspan="1" colspan="3">google_search</td></tr>
</thead><tbody>
<tr>
    <td>open</td>
    <td>/</td>
    <td></td>
</tr>
<tr>
    <td>click</td>
    <td>id=gbqfq</td>
    <td></td>
</tr>
<tr>
    <td>type</td>
    <td>id=gbqfq</td>
    <td>selenium</td>
</tr>
</tbody></table>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T08:26:57.203

在 IDE 中打开一个新的 java 项目。

[在此处](http://code.google.com/p/selenium/downloads/list.)下载 Selenium 独立服务器

将 jar 文件放入 lib 并开始创建您的 Selenium 测试用例。

如果您想在 Chrome 上运行它，请在[此处](http://code.google.com/p/chromedriver/downloads/list)`chromedriver.exe`下载文件

要在 IE 上运行，请在[此处](http://code.google.com/p/selenium/wiki/InternetExplorerDriver)`IEDriverServer.exe`下载相应的位版本

**示例代码：**

```
 WebDriver driver  = new FirefoxDriver();
 driver.get("URL");
 //Do some actions
 driver.quit(); 
```

# c++ - Chilliad计算差异

> ID：15060756
> 
> 赞同：0
> 
> 时间：2013-02-25T05:34:05.790
> 
> 标签：c++, precision

我想知道是否有人可以快速帮助我解决这个问题。我刚刚完成了我的chiliad程序。它计算素数和平均素数。但是，当我查看我的答案和老师的答案时，我似乎在任何一个方向上都偏离了 0.5。

她有：

前 50 个千历的质数总数：5133 每个千历的平均数：102.66

我有：

前 50 个千纪的质数总数：5134 每个千纪的平均数：102

我有点确定这是因为我的答案没有正确四舍五入，但我尝试了 showpoint setprecison 但它没有用:(你们有什么建议吗？感谢任何帮助！谢谢！这是我的代码。

```
#include <iostream>
#include <cmath>
#include <iomanip>

const int CHILIADS = 50;

bool isPrime (long n);
long primeCount (long x, long y);

using namespace std;
int main()
{

    cout << setw(10) << left << "Start" << setw(10) << "End" << setw(24) << "Number of Primes" << endl;

    primeCount (0, 50000);

    return 0;
}

// Determines whether the number is prime
bool isPrime (long n)
{
    int a;

    if (n == 1)
    {
        return false;
    }

    for (a = 2; a <= (n / 2); a++)
    {
        if ((n % a) == 0)
        {
            return false;
        }

    }
    return true;
}

// Counts and organizes the prime numbers using the isPrime function
long primeCount (long x, long y)
{
    bool prime;
    int b;
    int c = 1000;
    int counter = 0;
    int totalSum = 0;

    for (b = x; b <= y; b++)
    {
        prime = isPrime (b);

        if (prime == true)
        {
            counter++;
        }
        if (b == c)
        {
            cout << setw(10) << left << (b - 999) << setw(10) << left << b << setw(12) << counter << endl;
            cout << fixed << showpoint << setprecision(2) << endl;  
            totalSum = totalSum + counter;
            counter = 0;
            c = c + 1000;
        }
    }

    cout << endl << "Total primes in the first 50 chiliads: " << totalSum << endl;
    cout << "Average number per chiliad: " << totalSum / CHILIADS << endl;

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T05:37:45.707

```
primeCount (0, 50000);

long primeCount (long x, long y)
{
...
    for (b = x; b <= y; b++) 
```

基本上，您将 0 视为质数。

# ios - 如何获取我的 Gmail 帐户的个人资料图片？

> ID：15060757
> 
> 赞同：2
> 
> 时间：2013-02-25T05:34:06.953
> 
> 标签：ios, gmail, google-api

如何访问我的 Gmail 帐户中的信息，例如照片、tokenId、名字、姓氏和 Gmail id？

我搜索了很多，但没有正确的答案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T05:54:26.460

这个 api [https://www.googleapis.com/plus/v1/people/me](https://www.googleapis.com/plus/v1/people/me)返回

```
{
 "gender": "male",
 "id": "234343028403284",
 "displayName": "xxx",
 "name": {
    "familyName": "foo",
    "givenName": "bar"
   },
 "url": "https://plus.google.com/34324234324324",
 "image": {
  "url": "https://lh3.googleusercontent.com/dlkfjdsfds/djfldsf"
   }
 ...
 } 
```

在您的应用程序可以访问用户的 Google 帐户中的数据之前，应用程序必须请求用户的授权。

有关 oauth 的信息，请参阅[https://developers.google.com/+/api/oauth](https://developers.google.com/+/api/oauth)。

尝试：[https](https://developers.google.com/oauthplayground/) ://developers.google.com/oauthplayground/将帮助您了解 oauth 流程：

*   第 1 步：选择 Google+，`Authorize apis`

*   第2步：`Exchange authorization code for tokens`

*   第 3 步：输入[https://www.googleapis.com/plus/v1/people/me](https://www.googleapis.com/plus/v1/people/me) `Send the request`

# apache - httperf 命令选项

> ID：15060762
> 
> 赞同：5
> 
> 时间：2013-02-25T05:34:47.630
> 
> 标签：apache, httperf

我需要为 apache 执行 3 种类型的性能测试。

1.  500 个请求/秒，持续 60 秒
2.  1000 个请求/秒，持续 60 秒
3.  1500 个请求/秒，持续 60 秒

我浏览了 httperf 手册，但我真的对各种选项感到困惑，例如 --rate 、 --num-call 、 --num-conn 、 --wsess

任何人都可以帮助我关注：

如何指定持续时间以及如何配置 --rate 、 --num-conn 和 --num-calls 以便测试将在指定的持续时间和指定的请求数/秒内执行？

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2013-03-13T13:16:54.160

我会做这样的事情：

### 500 个请求/秒，持续 60 秒

```
httperf --hog --server www.google.com --uri "/" --num-conn 30000 --num-call 1 \
      --timeout 5 --rate 500 --port 80 
```

### 1000 个请求/秒，持续 60 秒

```
httperf --hog --server www.google.com --uri "/" --num-conn 60000 --num-call 1 \
      --timeout 5 --rate 1000 --port 80 
```

### 1500 个请求/秒，持续 60 秒

```
httperf --hog --server www.google.com --uri "/" --num-conn 75000 --num-call 1 \
      --timeout 5 --rate 1500 --port 80 
```

**注意 1：**指定创建连接/会话的`--rate`固定速率。

**NOTE2:**指定`--num-conn`要创建的连接总数。因此，如果您正在创建**X** req/sec，您需要执行**X** * 60 秒，以指定时间长度。

最后一点是使用 httperf 最难弄清楚的事情。时间长度是速率和连接数的函数，您无需指定它。

所以对于你的例子：

```
 500 req/sec @ 60 sec duration =  500 * 60 = 30,000 connections
1000 req/sec @ 60 sec duration = 1000 * 60 = 60,000 connections
1500 req/sec @ 60 sec duration = 1500 * 60 = 90,000 connections 
```

有关 httperf 的更多详细信息，请参见手册页。

### 速度

```
--rate=X        Specifies the fixed rate at which connections or sessions are created.
                Connections are created by default, sessions if option --wsess  or  
                --wsesslog has been specified. In both cases a rate of 0 results 
                in connections or sessions being generated sequentially (a new 
                session/connection is initiated as soon as the previous one 
                completes). The default value for this option is 0. 
```

### num-conn

```
--num-conn=N    This  option is meaningful for request-oriented workloads only. It
                specifies the total number of connections to create. On each
                connection, calls are issued as specified by options --num-calls 
                and --burst-length. A test stops as soon as the N connections have
                either completed or failed. A connection is considered to have
                failed if any activity on the connection fails to make forward 
                progress for more than the time specified by the timeout options 
                --timeout and --think-time‐out. The default value for this option is 1. 
```

# mysql - SQL语句中如何使用or运算符？

> ID：15060764
> 
> 赞同：0
> 
> 时间：2013-02-25T05:34:50.633
> 
> 标签：mysql, sql, perl

我是 MySQL 新手。我怎样才能斜线和反斜线逃脱？我想在表格中查找路径。

```
Path
----------------------
e:\5118\07_Live/Tools\
e:\5118/07_Live\Tools/ 
```

如何使用一个查询选择这两行？我认为它看起来像

```
select * from table Path e:(\|/)5118(\|/)07_Live(\|/)Tools(\|/); 
```

我应该如何编写我的 SQL 语句？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T05:53:21.083

```
MySQL recognizes the following escape sequences.
\0  An ASCII NUL (0x00) character.
\'  A single quote (“'”) character.
\"  A double quote (“"”) character.
\b  A backspace character.
\n  A newline (linefeed) character.
\r  A carriage return character.
\t  A tab character.
\Z  ASCII 26 (Control-Z). See note following the table.
\\  A backslash (“\”) character.
\%  A “%” character. See note following the table.
\_  A “_” character. See note following the table. 
```

所以你需要把你的查询写成

```
select * 
from table 
WHERE Path like  'e:\\5118\\07_Live\\Tools\\' or 
Path like  'e:/5118/07_Live/Tools/'; 
```

使用正则表达式匹配正则表达式

```
select id, type, details from supportContacts
where type regexp 'e:[\\/]5118[\\/]07_Live[\\/Tools[\\/]'; 
```

检查这个[小提琴](http://www.sqlfiddle.com/#!2/332bb/1)

# mysql - 要从 mysql 数据库表中导出到 excel 表单中的数据

> ID：15060766
> 
> 赞同：0
> 
> 时间：2013-02-25T05:35:14.980
> 
> 标签：mysql, excel

有一个excel表格，里面有n个字段。我们需要从 mysql 数据库中提取数据到表单中。数据必须来自数据库的不同表。请告知实现此目的的方法。

提前致谢！克里希纳

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T06:49:08.153

Excel 和 esCalc 都可以从 mysql 访问数据。但是如果你不想写SQL语句，esCalc是一个不错的选择。因为 esCalc 可以访问不同表格中的数据并加入它们，而 Excel 不能。这是一个例子：[http ://www.raqsoft.com/calculate-through-multi-table-join.html](http://www.raqsoft.com/calculate-through-multi-table-join.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T05:42:53.533

Mysql 与 PHP 紧密相连。使用php：1.连接mysql 2.读取数据3.用逗号排列数据4.将数据写入文件。5\. 用扩展名.CSV 命名文件

CSV（逗号分隔值）可以通过 excel 读取，当然无需格式化。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-25T06:37:54.557

我是用 Zend 做的，请使用 mysql 功能来实现。它将提示下载并保存excel。它用于仅构造一列和相应的数据。您可以修改脚本以添加更多列和数据。

```
$query = "select domain from site"; 
$rows = $dbcon->query($query)->fetchAll();
$csv_output = "website\r\n"; //header 
foreach($rows as $row) { 
$csv_output .= $row['domain']."\r\n"; 
} 
header("Content-type: application/vnd.ms-excel");
header("Content-disposition: csv" . date("Y-m-d") . ".csv");
header('Content-disposition: filename='.$filename.'.csv');
print $csv_output; 
```

# android - 如何仅在首次启动时显示启动画面？

> ID：15060769
> 
> 赞同：0
> 
> 时间：2013-02-25T05:35:51.553
> 
> 标签：android, android-intent, splash-screen

我的应用程序中有一个启动活动，然后在 5 秒后加载主类。我正在考虑将其更改为仅在应用程序首次启动时才显示的地方。我正在考虑将一个文本文件写入文件系统，然后检查它是否存在。如果找到，则不要加载启动画面。有没有更好的方法来检查应用程序是否在首次启动？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-25T05:38:35.977

取而代之的是，您可以使用[SharedPreferences](http://developer.android.com/reference/android/content/SharedPreferences.html)，因为与文件系统相比，它易于实现、获取和获取值。

有关 SharedPreference 的示例，请参阅此问题：[Android-sharedpreference](https://stackoverflow.com/questions/3572780/android-sharedpreference)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-25T05:39:27.593

您可以使用 SharedPreference 来保存代表您的启动画面的简单字符串。

# java - 在 run 方法中没有循环的 Java 线程

> ID：15060770
> 
> 赞同：2
> 
> 时间：2013-02-25T05:35:53.713
> 
> 标签：java, multithreading

如果 Java 线程在其 run 方法中没有循环，是否可以安全地假设一旦 run 方法完成，线程将被销毁。让我们考虑以下代码，

```
Thread t = new Thread(){
   public void run(){
      System.out.print("Hello World!");
   }
};

t.start(); 
```

在上面的例子中，一旦 run 方法结束，如何将系统资源返回给系统？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-25T05:40:35.657

> 假设运行方法完成后线程将被销毁是否安全。

是的。

> 如何将系统资源返回给系统？

对象引用（即内存资源）将被垃圾收集。无需采取具体行动。

文件、数据库资源在`finally`使用完后可以在块中关闭。

```
finally {
 resource.close();
} 
```

您还可以在 Java 7 中使用新的[try 资源](http://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-25T06:03:14.733

与给定对象相关的所有系统资源都由垃圾收集器在它认为合适的时候释放。

虽然资源确实会归还，但重要的是不要指望它们立即归还，甚至在有限的时间内归还；永远不要依赖垃圾收集器在需要时做某事。C++ 中的作用域对象就是这样，但在 java 中却不是这样。

一些资源可以手动释放（通常是一种`obj.close()`方法），例如文件和套接字。

# z3 - 可以通过命名表达式实现软约束吗？

> ID：15060775
> 
> 赞同：0
> 
> 时间：2013-02-25T05:36:22.440
> 
> 标签：z3

我想知道是否可以使用命名表达式来实现软约束，而无需显式使用手动“跟踪”变量。

*   [在Z3 中](https://stackoverflow.com/questions/8439556/soft-hard-constraints-in-z3)的软/硬约束消息中，Leonardo 解释了如何使用辅助布尔值以*手动*方式实现软约束。
*   在以下消息中： [z3 行为根据 unsat core 的请求而改变](https://stackoverflow.com/questions/15009599/z3-behaviour-changing-on-request-for-unsat-core)，Leonardo 说命名表达式本质上被视为模型查找目的的含义。

使用上面第一条消息中描述的手动跟踪是相当麻烦的，因为它需要多次调用求解器（事实上`2^n`，在最坏的情况下可能需要调用才能在我们有`n`软约束时满足最大可能的软约束集）。是否有可能将这两个想法结合起来让 Z3 以更简单的方式实现软约束？基于这两条消息的想法，我天真地尝试了以下方法：

```
(set-option :produce-models true)
(set-option :produce-unsat-cores true)
(assert (! false :named absurd))
(check-sat) 
```

我希望 z3 会告诉我`sat`，因为参加模特`absurd`会`false`满足这个人为的例子；但它`unsat`反而产生了；这是合理的，但没有那么有用..

我将不胜感激您可能提供的任何见解；或者向我指出一些关于 z3 如何更详细地使用命名表达式的文档。（我浏览了手册，但没有在任何地方看到它们的详细解释。）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T20:25:49.037

命名表达式是 SMT-LIB 2.0 标准的一部分。在 Z3 中，它们只是使用辅助布尔常量的方法的“语法糖”。

在 SMT-LIB 2.0 标准中，命名表达式用于“跟踪”命令的断言，例如（参见[SMT-LIB 2.0 参考手册](http://smtlib.cs.uiowa.edu/papers/smt-lib-reference-v2.0-r12.09.09.pdf)`(get-unsat-core)`的第 5.1.5 节）。在您的示例中，如果我们在得到. [这](http://rise4fun.com/Z3/YwYF)是在线示例的链接。`(get-unsat-core)``(check-sat)``(absurd)`

关于软/硬约束，您似乎想要 MaxSAT。Z3 附带了一个示例，该示例使用 2 种不同的算法来使用 C API 和辅助布尔常量来实现 MaxSAT。最简单的只是使用以下基本思想。

*   对于每个软约束`C_i`，它断言`b_i implies C_i`where`b_i`是一个新的布尔变量。

*   为 false的赋值`b_i`本质上是忽略约束`C_i`。

*   使用表单的约束`AtMostK`来强制执行最多`K` `b_i`是错误的。然后，我们可以使用线性搜索来找到可以满足的最大软约束数。我们也可以使用二分搜索（在这种情况下，只`log N`需要调用`N`软约束的数量）。这种方法的变体用于许多伪布尔求解器。

该示例`examples\maxsat`还包含 Fu 和 Malik 建议的更智能的算法。该示例还显示了如何对约束进行编码`AtMostK`。

# css - 悬停在另一个div上时如何更改另一个div的背景颜色？

> ID：15060776
> 
> 赞同：0
> 
> 时间：2013-02-25T05:36:26.440
> 
> 标签：css, html, hover, background-image

所以，我正在制作一个关于“太阳能”的 HTML 作为学校项目。我在印度上七等舱。我希望当一个人悬停在这些带有 id 的 div 上时：#source、#source_wr 和 #arrow-right；#source 的 div 的背景颜色应该改变。

我成功地将鼠标悬停在#source 本身上，但没有悬停在其他两个上。这是我正在使用的代码：

```
<div id="arrow-right"></div>
<div id="source_wr">Source</div>
<a href="http://www.wikipedia.org/" target="_blank">
<div id="source">
</div>
</a> 
```

这是CSS：

```
#source_wr{
color: #56C8E3;
font-family: oswald, sans-serif;
font-size: 20px;
letter-spacing: 1px;
text-transform: uppercase;
font-weight: 200;
position:absolute;
top:210px;
right:300px;
}
#arrow-right{
width:0px;
height:0px;
border-bottom:25px solid transparent;
border-top:25px solid transparent;
border-left:25px solid #56C8E3;
position:absolute;
top:180px;
right:270px;
}
#source{
position:absolute;
top:0px;
right:0px;
height:240px;
width:264px;
background:url('wiki.png');
background-size:264px 240px;
}
#source:hover{
background:url('wikihover.png');
background-size:264px 240px;
}
#source_wr:hover + #source{
background:url('wikihover.png');
background-size:264px 240px;
} 
```

但这不起作用！请帮忙，如果我需要更具体，我会......请不要说没有Javascript就无法实现！是的，所有的 div 都直接在正文内（但在包含所有主页和更多 div 的 div 之后）

先感谢您。

这是整个 HTML 的链接... 下载同一文件夹中的所有内容，但不需要下载的 PSD 文件除外。[https://docs.google.com/folder/d/0BwFpYt0oAQbqT0xiUDNNRTVQOWs/edit?usp=sharing](https://docs.google.com/folder/d/0BwFpYt0oAQbqT0xiUDNNRTVQOWs/edit?usp=sharing)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T05:47:27.090

尝试使用[general-sibling-combinator](http://www.w3.org/TR/selectors/#general-sibling-combinators) `~`，它选择任何随后的兄弟姐妹，而[`+`](http://www.w3.org/TR/selectors/#general-sibling-combinator)on 选择下一个兄弟姐妹。

```
#source_wr:hover ~ a #source,#arrow-right:hover ~ a #source{
    background:url('wikihover.png');
    background-size:264px 240px;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T06:01:35.317

1.  你没有关闭你的`<a>`

2.  我建议你`<a>`改成`<span>`

```
$('.source').on('click', function () {
    var url = $(this).find('span').attr('src');
    window.location(url);
});
$('.source').on('hover', function () {
    $(this).css('background-color', '#999'); //new color
}, function {
    $(this).css('background-color', '#666'); //original color
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-25T07:22:59.690

您可以使用以下 css 简单地应用效果

```
#source_wr:hover #source{*the effect you want on source*}
#arrow-right:hover #source {*The effect you want on source*}
#source:hover {*effect*} 
```

# wordpress - TinyMCE 和 WordPress 媒体管理器 - 插入帖子不起作用

> ID：15060782
> 
> 赞同：1
> 
> 时间：2013-02-25T05:37:12.890
> 
> 标签：wordpress, jquery-ui, jquery, tinymce, wordpress-theming

为了便于讨论，我正在尝试将 WYSIWYG 编辑器 TinyMCE 添加到 WordPress 添加新评论字段。（实际上，我正在破解 P2，但我们不要分心。）

我从 textarea id="posttext" 开始。

点击触发添加编辑器： tinyMCE.init({mode : "exact", elements: "posttext"});

问题是，我也想使用 WP Add Media。Insert into Post 适用于 textarea。但是一旦我初始化编辑器 WP 就会忘记插入的位置。由于添加媒体与管理员帖子上的编辑一起工作，我认为这是可能的，但有些东西我没有恰到好处。

另外，Insert into Post 寻找什么 id= ？到目前为止，我认为它可以是 posttext 和 content。

在此先感谢您的帮助。

ps 虽然引起了您的注意，但是关于通过 Ajax 从 TinyMCE 编辑器提交更改，我需要了解什么特别的信息。P2 有一个普通的文本区域，我想要的是添加所见即所得。我说得有道理吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T07:19:42.963

为了提供信息，TinyMCE 使用 /wp-admin/admin-ajax.php 中的 Ajax 脚本来提交名为 send-attachment-to-editor 的操作。

这个函数在 /wp-includes/js/media-editor.min.js 里面

```
return wp.media.post("send-attachment-to-editor",{nonce:wp.media.view.settings.nonce.sendToEditor,attachment:d,html:e,post_id:wp.media.view.settings.post.id}) 
```

基本上，一旦选择了一个图像项目并在点击“插入发布”按钮后，它就会运行 Ajax 脚本并发送操作：发送附件到编辑器和所有 img 附件信息，包括随机数。

示例 Ajax 帖子：

```
nonce=70b38cc7e2&attachment%5Bid%5D=824&attachment%5Bpost_content%5D=Specialized+S+Works+custom+work+by+Decal+Spec&attachment%5Bpost_excerpt%5D=&attachment%5Burl%5D=http%3A%2F%2Fdecal-spec.com%2Fwp-content%2Fuploads%2F2013%2F02%2FS-Works-5256.jpg&attachment%5Balign%5D=none&attachment%5Bimage-size%5D=large&attachment%5Bimage_alt%5D=Specialized+S+Works+Project&html=%3Ca+href%3D%22http%3A%2F%2Fdecal-spec.com%2Fwp-content%2Fuploads%2F2013%2F02%2FS-Works-5256.jpg%22%3E%3Cimg+src+width%3D%22625%22+height%3D%22942%22+alt%3D%22Specialized+S+Works+Project%22+class%3D%22wp-image-824+alignnone+size-large%22+%2F%3E%3C%2Fa%3E&post_id=0&action=send-attachment-to-editor 
```

然后它会响应您请求的 img 并将其放入编辑器中：

```
{"success":true,"data":"<a href=\"http:\/\/decal-spec.com\/wp-content\/uploads\/2013\/02\/S-Works-5256.jpg\"><img src=\"http:\/\/decal-spec.com\/wp-content\/uploads\/2013\/02\/S-Works-5256-679x1024.jpg\" alt=\"Specialized S Works Project\" width=\"625\" height=\"942\" class=\"alignnone size-large wp-image-824\" \/><\/a>"} 
```

对于您的第二个问题，我相信默认情况下内容区域 ID 等于**#page_contents**您可以通过 JS/JQuery 自己手动添加内容。

有了这一切，我唯一关心的是你将如何显示添加媒体的内容和上传/图像管理的功能。我相信这个特定部分需要一些权限，并且会导致它控制当前已经在网站上的图片。我很想知道您将如何处理在评论部分中显示此信息和实际用法的任务。

我知道这个插件已经过时了，甚至可能不起作用，但它可能会帮助你[http://wordpress.org/extend/plugins/tinymcecomments/](http://wordpress.org/extend/plugins/tinymcecomments/)

# jquery - Show More/Less Div，回调功能

> ID：15060786
> 
> 赞同：0
> 
> 时间：2013-02-25T05:37:45.580
> 
> 标签：jquery, callback, hide, show, show-hide

很高兴认识大家。我对此很陌生，但有点野心勃勃。

在跳过一些角落后，我做了一个 show/Hide Div，虽然它有效，但它仍然很草率。延迟是故意存在的，因为我无法让回调工作。如果内容框中的文本数量过多，这可能会成为一个问题……更不用说，为未来的项目学习也没有什么坏处。

所以我分享这个，征求批评，因为它非常陈旧，并询问如何让回调首先工作。（当然，如果需要，可以随意使用代码。）

[这](http://jsfiddle.net/YEC5z/5/)是小提琴。

```
$("#open").click(function () {
    $(this).hide("fast");
    $("#content").delay(50).show("fold");
    $("#close-bottom,#close-top").delay(800).fadeIn(0);
});

$("#close-bottom,#close-top").click(function () {
    $("#close-bottom,#close-top").hide("fast");
    $("#content").hide("fold");
    $("#open").delay(300).fadeIn(0);
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T05:48:15.217

您可以像这样添加回调作为第二个参数`"fold"`：

```
$("#open").click(function () {
    $(this).hide("fast");
    $("#content").show("fold", function() {
        $("#close-bottom,#close-top").fadeIn(0);
    });
});

$("#close-bottom,#close-top").click(function () {
    $("#close-bottom,#close-top").hide("fast");
    $("#content").hide("fold", function() {
        $("#open").fadeIn(0);
    });
}); 
```

[jsfiddle 演示](http://jsfiddle.net/YEC5z/6/)

根据[.show](http://api.jquery.com/show/)或[.hide](http://api.jquery.com/hide/)文档，方法调用`.show( [duration ] [, easing ] [, complete ] )`是在 jQuery [1.4.3](http://api.jquery.com/category/version/1.4.3/)中添加的，并支持使用和调用`easing`（`complete callback function`这将保持默认`400`持续时间）

# java - 循环移动二进制字符串

> ID：15060798
> 
> 赞同：-2
> 
> 时间：2013-02-25T05:38:37.740
> 
> 标签：java

我需要将二进制字符串循环移动 3 位。我怎样才能在java中实现这个？

“<<”运算符到底是什么意思？提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T05:41:20.407

对于每个元素，您需要从两件事构建新值：

1) 值 << 3

2）它下面的值（或最小值的顶部的值）>> sizeof(value) - 3

如果您不知道二进制字符串有多大，我建议您将所有 2)s（“剩余部分”）存储在一个单独的集合中，然后在完成所有向上位移后将它们全部添加。否则逻辑会变得太复杂。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T05:56:22.030

这很简单。请记住，您不能对字符串执行旋转。相反，您可以在数字上做什么。尝试：

```
 byte i = 15;
    byte j = (byte)(i << 3) ;
    byte k = (byte)(i >> 3);

    System.out.println("Here is result i=" + i + "and j = " + j + "and k = " + k); 
```

这应该给你 i = 15, j = 120 和 k = 1; 这意味着它是非循环移位。

对于循环移位，您可以尝试：

```
 byte i = 15;
    byte j = (byte) ((i << 3) + (i >> 5));
    byte k = (byte) ((i >> 3) + (i << 5)); 
```

5 就像 8 -3 其中 8 是您的数据类型可以具有的位数。

# ravendb - 无法在 RavenDB 2.x 中创建新数据库

> ID：15060800
> 
> 赞同：5
> 
> 时间：2013-02-25T05:38:48.580
> 
> 标签：ravendb

Noob RavenDB 问题：刚刚关闭 Raven 2.x 并将其设置为在 IIS 中运行。只是试图通过 Studio 在 RavenDB 2.x 中创建一个新数据库。我的配置中有以下设置：

```
<add key="Raven/AnonymousAccess" value="All"/> 
```

我已将物理位置设置为允许所有人完全控制。当我尝试创建一个新数据库时，我得到以下信息：

无法获得此命令的授权。如果您应该有权访问此操作，请联系您的管理员并检查 Raven/AnonymousAccess 或 RavenDB 中的 Windows 身份验证设置

## 服务器错误：

## '/admin/databases/Test' 操作仅供管理员使用

有任何想法吗？谢谢！

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-25T08:16:16.693

将此值更改为：

```
 <add key="Raven/AnonymousAccess" value="Admin"/> 
```

# silverlight - 将 Parm 从 App.xaml 传递到 ViewModel - Silverlight MVVM

> ID：15060805
> 
> 赞同：0
> 
> 时间：2013-02-25T05:39:07.843
> 
> 标签：silverlight, mvvm

我有一个驻留在 App.xaml.cs 中的字符串 UserName，我需要将其带到 ViewModel 以填充控件。实现这一目标的最佳方法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T06:06:29.300

您最常使用控制资源来访问 ViewModel 实例。然后通过在 ViewModel 中定义的公共方法，您可以将参数传递给它。

```
((ViewModel1)this.Resources["ViewModel1"]).Test(p); 
```

Test 是 ViewModel 中接收参数的公共方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T10:05:18.757

您可以发送包含该值的消息（例如 MvvmLight Messenger 类），并且 ViewModel 将注册以接收它。

在 App.xaml.cs 中：

```
Messenger.Default.Send<string>(Username); 
```

在 ViewModel 的构造函数中：

```
Messenger.Default.Register<string>(this, m => 
    {
        this.Username = m; // or whatever you need to do with the value
    }); 
```

# java - Java getTimeZone() 对于不同类型的输入表现不同

> ID：15060808
> 
> 赞同：3
> 
> 时间：2013-02-25T05:39:26.177
> 
> 标签：java, date, timezone, dst

对于下面的代码，我得到不同的输出

```
TimeZone t = TimeZone.getTimeZone("GMT-8");  // Also tried UTC-8 and GMT-8:00
//TimeZone t = TimeZone.getTimeZone("America/Los_Angeles"); 
SimpleDateFormat sdf = new SimpleDateFormat("MM/dd/yyyy");
Date d = null;

Calendar c = Calendar.getInstance(t);
c.set(Calendar.MONTH, Calendar.AUGUST);
c.set(Calendar.DAY_OF_MONTH, 22);
c.set(Calendar.YEAR, 2013);
d = c.getTime();

String s = sdf.format(d);
System.out.println(s + "        " + t.inDaylightTime(d)); 
```

输出是：

```
08/22/2013      false 
```

现在*America/Los_Angeles*是 GMT-8 / UTC-8 或 PST。但是当我将参数从 GMT-8 更改为*America/Los_Angeles*时，

输出是：

```
08/22/2013      true 
```

自弃用以来，不能使用类似 PST 的缩写。CST 也可以表示*Central Standard time*和*China Standard Time*。

我的输入类似于 -8、-9 -14 等，我希望在其前面加上 GMT/UTC 以了解我是否可以在给定日期获得 DST 激活。

请在这方面指导我。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-25T05:51:07.250

结果是正确的，当您指定`GMT`偏移量时，无法知道这是哪个国家/城市，因此无法确定是否`Day Light Time`处于活动状态。

对于`inDaylightTime()`使用和偏移`false`指定的所有时区也是如此。`GMT`

`CST`在 Java 中`Central Standard Time`，你可以通过这行代码检查自己：

```
System.out.println(TimeZone.getTimeZone("CST").getDisplayName()); 
```

`China Standard Time`Java中的区域ID是`CTT`

**编辑**

考虑使用*[Joda 时间和日期 API](http://joda-time.sourceforge.net/)*获取更多最新`Timezone`信息

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-25T06:40:42.103

正如@iTech 所解释的，结果是正确的。只需添加，您可以查找可用的时区 id

```
import java.util.TimeZone;

public class TimeZones {
    public static void main(String[] args) {
        String[] timezones = TimeZone.getAvailableIDs();
        System.out.println(timezones.length);
        for (String t : timezones) {
            System.out.println(t);  
        }
    }
} 
```

这将打印出 600 个可用时区的长列表。

然后，您可以获得缩写的显示名称

```
System.out.println(TimeZone.getTimeZone("IST").getDisplayName()); 
```

# jquery - jQuery 使左调用右键单击上下文菜单

> ID：15060811
> 
> 赞同：1
> 
> 时间：2013-02-25T05:39:31.060
> 
> 标签：jquery, jquery-plugins, onclick, contextmenu

我正在使用我在这里找到的一些功能：[http ://www.trendskitchens.co.nz/jquery/contextmenu/](http://www.trendskitchens.co.nz/jquery/contextmenu/)

它让我开始制作一个不错的上下文菜单。我的目的是让这个上下文菜单在右键或左键单击时“弹出”。但我可能并不总是想绑定左键单击，所以我需要能够始终进行右键单击，并且当我想要时，使用一些代码也可以使左键单击工作。

首先，为了测试你需要 jQuery 来进行演示，我使用的是 1.8.2

这是插件的来源：

```
/*
 * ContextMenu - jQuery plugin for right-click context menus
 *
 * Author: Chris Domigan
 * Contributors: Dan G. Switzer, II
 * Parts of this plugin are inspired by Joern Zaefferer's Tooltip plugin
 *
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 *
 * Version: r2
 * Date: 16 July 2007
 *
 * For documentation visit http://www.trendskitchens.co.nz/jquery/contextmenu/
 *
 */

(function($) {

    var menu, shadow, trigger, content, hash, currentTarget;
  var defaults = {
    menuStyle: {
      listStyle: 'none',
      padding: '1px',
      margin: '0px',
      backgroundColor: '#fff',
      border: '1px solid #999',
      width: '100px'
    },
    itemStyle: {
      margin: '0px',
      color: '#000',
      display: 'block',
      cursor: 'default',
      padding: '3px',
      border: '1px solid #fff',
      backgroundColor: 'transparent'
    },
    itemHoverStyle: {
      border: '1px solid #0a246a',
      backgroundColor: '#b6bdd2'
    },
    eventPosX: 'pageX',
    eventPosY: 'pageY',
    shadow : true,
    onContextMenu: null,
    onShowMenu: null
    };

  $.fn.contextMenu = function(id, options) {
    if (!menu) {                                      // Create singleton menu
      menu = $('<div id="jqContextMenu"></div>')
               .hide()
               .css({position:'absolute', zIndex:'500'})
               .appendTo('body')
               .bind('click', function(e) {
                 e.stopPropagation();
               });
    }
    if (!shadow) {
      shadow = $('<div></div>')
                 .css({backgroundColor:'#000',position:'absolute',opacity:0.2,zIndex:499})
                 .appendTo('body')
                 .hide();
    }
    hash = hash || [];
    hash.push({
      id : id,
      menuStyle: $.extend({}, defaults.menuStyle, options.menuStyle || {}),
      itemStyle: $.extend({}, defaults.itemStyle, options.itemStyle || {}),
      itemHoverStyle: $.extend({}, defaults.itemHoverStyle, options.itemHoverStyle || {}),
      bindings: options.bindings || {},
      shadow: options.shadow || options.shadow === false ? options.shadow : defaults.shadow,
      onContextMenu: options.onContextMenu || defaults.onContextMenu,
      onShowMenu: options.onShowMenu || defaults.onShowMenu,
      eventPosX: options.eventPosX || defaults.eventPosX,
      eventPosY: options.eventPosY || defaults.eventPosY
    });

    var index = hash.length - 1;
    $(this).bind('contextmenu', function(e) {
      // Check if onContextMenu() defined
      var bShowContext = (!!hash[index].onContextMenu) ? hash[index].onContextMenu(e) : true;
      if (bShowContext) display(index, this, e, options);
      return false;
    });
    return this;
  };

  function display(index, trigger, e, options) {
    var cur = hash[index];
    content = $('#'+cur.id).find('ul:first').clone(true);
    content.css(cur.menuStyle).find('li').css(cur.itemStyle).hover(
      function() {
        $(this).css(cur.itemHoverStyle);
      },
      function(){
        $(this).css(cur.itemStyle);
      }
    ).find('img').css({verticalAlign:'middle',paddingRight:'2px'});

    // Send the content to the menu
    menu.html(content);

    // if there's an onShowMenu, run it now -- must run after content has been added
        // if you try to alter the content variable before the menu.html(), IE6 has issues
        // updating the content
    if (!!cur.onShowMenu) menu = cur.onShowMenu(e, menu);

    $.each(cur.bindings, function(id, func) {
      $('#'+id, menu).bind('click', function(e) {
        hide();
        func(trigger, currentTarget);
      });
    });

    menu.css({'left':e[cur.eventPosX],'top':e[cur.eventPosY]}).show();
    if (cur.shadow) shadow.css({width:menu.width(),height:menu.height(),left:e.pageX+2,top:e.pageY+2}).show();
    $(document).one('click', hide);
  }

  function hide() {
    menu.hide();
    shadow.hide();
  }

  // Apply defaults
  $.contextMenu = {
    defaults : function(userDefaults) {
      $.each(userDefaults, function(i, val) {
        if (typeof val == 'object' && defaults[i]) {
          $.extend(defaults[i], val);
        }
        else defaults[i] = val;
      });
    }
  };

})(jQuery);

$(function() {
  $('div.contextMenu').hide();
}); 
```

我的页面的来源：

```
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><!-- InstanceBegin template="/Templates/Workflow.dwt.php" codeOutsideHTMLIsLocked="false" -->
    <head>
        <script type="text/javascript" src="../jQuery/jquery-1.8.2.min.js"></script>
        <script type="text/javascript" src="../../Common/clientscript.js"></script>
        <script type="text/javascript" src="jquery.actions.js"></script>
        <script>
            $(document).ready(function() {
                /// Replace the intrinsic Context Menu with MINE
                $('span.infoholder').contextMenu('myMenu',{
                    onContextMenu: function(e)
                    {
                        iDataID = $(e.target).attr('id').replace("menu_","");
                        iGroupID = $(e.target).attr('name');

                    }
                });

                /// Get the Left Click to behave as the right click...
                $("span.infoholder").click(function(event) {
                    alert("I am in " + event.which);
                    // on right click
                    if (event.which == "1")
                    {
                        // prevent left click from being interpreted by the browser:
                        $("#"+$(event.target).attr("id")).trigger({
                            type: 'click',
                            which: 3
                        });
                    }
                });
            });
        </script>
    </head>
    <body>
    <div class="contextMenu" id="myMenu">
        <li>Test 1</li>
        <li>Test 2</li>
    </div>
    <span class="infoholder" id="menu_34675"     name="1"     style="border:solid 1px grey; padding: 2px 5px 2px 5px; background-color:#d9f7ff;">Actions </span><br/><br/>
    <span class="infoholder" id="menu_34735"     name="1"     style="border:solid 1px grey; padding: 2px 5px 2px 5px; background-color:#d9f7ff;">Actions </span><br/><br/>
    </body>
</html> 
```

这有一点遗漏，但这里的源代码为我们提供了一个很好的示例来开始解决这个问题。这又是“如何通过左键单击来调用此插件的自定义上下文菜单”

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T15:37:09.167

这是答案，将其绑定到插件Javascript中的点击

```
$(this).bind('click', function(e) {
    // Check if onContextMenu() defined
    var bShowContext = (!!hash[index].onContextMenu) ? hash[index].onContextMenu(e) : true;
    if (bShowContext) display(index, this, e, options);
    return false;
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-02-20T17:56:28.077

只需将 'contextmenu 添加到绑定到的项目中：

```
$(this).bind('click contextmenu', function(e) {
   // Check if onContextMenu() defined
   var bShowContext = (!!hash[index].onContextMenu) ? hash[index].onContextMenu(e) : true;
   if (bShowContext) display(index, this, e, options);
   return false;
});
return this; 
```

# c# - Visual Basic 启用具有无边框窗口的 Aero 动画

> ID：15060813
> 
> 赞同：1
> 
> 时间：2013-02-25T05:39:39.640
> 
> 标签：c#, windows, vb.net, aero

是否可以使用没有边框的窗口（系统镶边）启用航空动画（关闭和最小化）？我在 Windows 7 上使用 Visual Basic Express 2010

# php - 显示基于数组的复选框列表

> ID：15060816
> 
> 赞同：0
> 
> 时间：2013-02-25T05:40:25.770
> 
> 标签：php, mysql, arrays, checkbox, selected

我在下面显示了一个复选框列表。这将显示所有接触器并允许通过复选框选择它们。

```
<?php
 $query = "SELECT * FROM form_4 GROUP BY contractors ASC";
$result = mysql_query($query);
?>
<li><select multiple="multiple" size="10" name="contractors[]">
        <option value="None Yet" selected="selected">None Yet
</option>
<?php
while ($line = mysql_fetch_array($result, MYSQL_ASSOC)) {
?>
<option value="<?php echo $line['contractors'];?>"> <?php echo $line['contractors'];?> </option>
<?php
}
?>
            </select></li> 
```

我有一个数组保存在另一个地方，我想生成上面的列表，但下面数组中的项目已经选中/选中。

```
<?php
$options = unserialize('contractors');
$result = mysql_query("SELECT * FROM form_2 WHERE jobname = 'testjob' GROUP BY jobname ORDER BY biddate ASC LIMIT 0, 1");

while($row = mysql_fetch_array($result))
  {
    $contractors = unserialize($row['contractors']);
  foreach ($contractors as $contractor)
  echo "" . htmlspecialchars ($contractor).' - ';
?> 
```

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-25T06:00:58.627

试试这个 ：

```
<option value="<?php echo $line['contractors'];?>" <?php if(in_array($line['contractors'],$contractors)){?>checked="checked" <?php }?>> <?php echo $line['contractors'];?> </option> 
```

# php - 如果 .php extentin 存在于使用 php 脚本的文件夹中，则回显文本

> ID：15060818
> 
> 赞同：1
> 
> 时间：2013-02-25T05:40:48.303
> 
> 标签：php

我试图制作一个 php 脚本，如果文件夹中存在 .php 扩展名，它会显示检查邮件，如果不存在 .php 文件，则没有邮件，一个或另一个结果都不会显示。

```
<?php
$directory = "http://server1.bioprotege-inc.net/roleplay_realm_online/contact_us_files/";
if (glob($directory . "*.php") != true) {
echo 'Check Mail:';
}
else {
echo 'No mail Today';
}
?> 
```

我得到的但它不起作用它只显示相同的结果，如果文件夹中有一个 .php 文件或没有

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T06:06:14.843

glob() 函数返回带有扩展名的文件名数组，因此您无法检查它们的真假。

检查参考站点：[php 中的 glob 函数](http://www.w3schools.com/php/func_filesystem_glob.asp)

这就是为什么你应该使用以下代码来检查它：

```
<?php
$directory = "http://server1.bioprotege-inc.net/roleplay_realm_online/contact_us_files/";

// Open a known directory, and proceed to read its contents
if (is_dir($directory)) {
    $arr = array();
    if ($dh = opendir($directory)) {
        while (($file = readdir($dh)) !== false) {
            $arr[] = $file;
        }
        $name = implode($arr);
        if(strstr($name,".php")){
             echo "Check Mail:";
        } else {
              echo "No mail Today";
        }
        closedir($dh);
    }
}
?> 
```

这将对您有所帮助。但愿如此。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-25T06:06:45.087

了解风险，这是可以做到的

```
$dir="core/view/";

if(glob($dir . "*.php")!=null)
    echo " New Mail";
else
    echo "No Mail"; 
```

如果文件少于 100k，则可以使用 glob，否则可能会出现**Allowed memory size of XYZ bytes exhausted ...** " 错误。

在这种情况下，您可以更改 php.ini 中的设置，也可以使用

```
readdir() 
```

您可以以这种方式使用 readdir()

```
if ($handle = opendir('core/view')) {
    $flg=0;
    while (false !== ($entry = readdir($handle))) {
        if(strcasecmp(pathinfo($entry, PATHINFO_EXTENSION),"php")==0){
        $flg=1;
        break;
    }
}
echo $flg;
closedir($handle);
} 
```

# spring-webflow-2 - Spring webflow 重定向不适用于 Portlet

> ID：15060833
> 
> 赞同：0
> 
> 时间：2013-02-25T05:43:11.163
> 
> 标签：spring-webflow-2, spring-portlet-mvc

我必须实现 portlet 间的通信功能。功能如下：

1) 用户点击“createStep1.jsp”上的“另存为”链接。

2）调用下面提到的webflow `saveDraftStep1`，草稿保存在数据库中。

3) 用户被导航到另一个 portlet`myportlet`并在那里显示成功保存的消息。

不知何故，webflow 没有重定向到我在`externalRedirect`. 它保持在同一页面上。下面是代码：

```
<view-state id="createStep1">
   <transition on="saveDraftStep1" to="redirectView" >
         <evaluate expression="myAction.bindAndValidate" /> 
         <evaluate expression="myService.saveDraft(saveCriteria, externalContext.nativeRequest,externalContext.nativeResponse )" />
    </transition>
</view-state>
<end-state id="redirectView" view="externalRedirect:http://www.google.com" /> 
```

理想情况下，我想用我的 portlet url 替换 google url，例如：`localhost:8080/myportlet`.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T00:35:59.860

如果其中任何一个`evaluate`调用返回错误，则不会进行转换。也许这就是正在发生的事情？

# android - 相对布局带来很多麻烦

> ID：15060834
> 
> 赞同：1
> 
> 时间：2013-02-25T05:43:12.183
> 
> 标签：android, xml, android-relativelayout

这是代码：

```
<RelativeLayout 
        android:id="@+id/tc"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:background="@drawable/tc"
        android:layout_marginLeft="185dip"
        android:layout_marginTop="25dip"
        >

            <ImageView 
                android:id="@+id/tc_icon"
                android:background="@drawable/count_icon"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_alignBottom="@id/tc"
                android:layout_mar
            />
            <TextView 
                android:id="@+id/tc_icon_text"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_marginLeft="5dip"
                android:text="1"
                android:layout_gravity="bottom"
                android:textColor="#f7e906"
                android:textStyle="bold"
                />       
    </RelativeLayout> 
```

我以某种方式设法使图像和文本视图相互重叠（我想要）。现在，我希望它们被放置在其父 RelativeLayout 的左下角（带有 id 'tc'）......但是，它们就是不会移动。

如果我使用了 alignParentBottom.... 整个相对布局会延伸到整个屏幕并与其父级 relativeLayout 对齐。

请帮忙。谢谢！:)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T05:46:25.087

如果您想重叠图像和文本视图，只需[`android:drawableleft`](http://developer.android.com/reference/android/widget/TextView.html#attr_android%3adrawableLeft)在您想要的位置使用一个或任何位置。

例如：

`<TextView
android:id="@+id/tc_icon_text"
android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:layout_marginLeft="5dip"
android:text="1"
android:layout_gravity="bottom"
android:textColor="#f7e906"
android:textStyle="bold"
android:drawableleft="@drawable/yourimage.jpg"/>`

这将为您提供文本视图左侧的图像。一探究竟

# python - 将 rpy2 与 IPython 笔记本一起使用？

> ID：15060838
> 
> 赞同：5
> 
> 时间：2013-02-25T05:44:07.593
> 
> 标签：python, ggplot2, ipython, rpy2

是否可以将 rpy2（调用 ggplot2）与 IPython 笔记本一起使用，然后保存它们（并像其他笔记本一样在 NBViewer 上共享[http://nbviewer.ipython.org/](http://nbviewer.ipython.org/)）？让 rpy2 ggplots 出现在笔记本中和/或以交互方式出现有什么挑战吗？如果有人可以提供一个示例会话及其在 IPython 中使用 rpy2 在笔记本中制作 ggplot2 图形的输出，那将会很有帮助。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-11T16:04:26.560

这是在没有查看 rmagic 代码的情况下编写的。他们有更聪明的方法（我有 11 行代码）。

```
import uuid
from rpy2.robjects.packages import importr 
from IPython.core.display import Image

grdevices = importr('grDevices')
def ggplot_notebook(gg, width = 800, height = 600):
    fn = '{uuid}.png'.format(uuid = uuid.uuid4())
    grdevices.png(fn, width = width, height = height)
    gg.plot()
    grdevices.dev_off()
    return Image(filename=fn) 
```

尝试一下：

```
from rpy2.robjects.lib import ggplot2
from rpy2.robjects import Formula
datasets = importr('datasets')
mtcars = datasets.__rdata__.fetch('mtcars')['mtcars']
p = ggplot2.ggplot(mtcars) + \
    ggplot2.aes_string(x='mpg', y='cyl') + \
    ggplot2.geom_point() + \
    ggplot2.geom_smooth() + \
    ggplot2.facet_wrap(Formula('~ am'))

ggplot_notebook(p, height=300) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-25T13:10:45.790

使用 rpy2 的 rmagic 扩展是可能的。不过，您似乎需要`print()`该图来显示它。这是一个示例会话： http: [//nbviewer.ipython.org/5029692](http://nbviewer.ipython.org/5029692)

如果你更喜欢直接使用rpy2，那一定是可以的。查看 ggplot2 的[rpy2 文档](http://rpy.sourceforge.net/rpy2/doc-2.2/html/graphics.html#package-ggplot2)。要将其放入笔记本中，您可以绘制到 PNG/SVG 设备，然后从 Python 端读取它（这就是 rmagic 所做的）。

# android - 如何打开和编辑作为数据库的 dat 文件？

> ID：15060840
> 
> 赞同：1
> 
> 时间：2013-02-25T05:44:09.450
> 
> 标签：android, database

如果您知道 dat 的类型，我知道有许多不同的方法可以打开特定的 dat 文件。我想在这里打开和编辑作为数据库的 dat 文件。[http://code.google.com/p/android-traditional-chinese-ime/source/browse/#svn%2Ftrunk%2Fres%2Fraw](http://code.google.com/p/android-traditional-chinese-ime/source/browse/#svn%2Ftrunk%2Fres%2Fraw) 哪个软件可以打开这个？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T06:57:09.643

有无数种文件格式都使用`.dat`扩展名。

话虽如此，这些文件似乎是 Java 序列化对象，因此您应该能够使用`ObjectInputStream`.

# javascript - 隐藏Facebook上的评论框喜欢

> ID：15060841
> 
> 赞同：1
> 
> 时间：2013-02-25T05:44:11.163
> 
> 标签：javascript, facebook, facebook-like

我想要 facebook like 按钮，但不允许添加评论。

我一直在尝试通过以下方式：

[xfbml 赞按钮隐藏添加评论的可能性](https://stackoverflow.com/questions/6276256/xfbml-like-button-hide-the-possibility-to-add-a-comment-to-the-like)- 不起作用

还尝试在随机类/ID上使用以下内容

```
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript">
  $(function(){
    $(".classname").hide();
  }); 
```

并且还通过`document.getElementById("u_0_2").style.display="none";`

使用任何 html/iframe/xfbml 方法，需要什么确切的代码来停止显示评论框？

# php - 即使所有字段都有效，Jquery Validation 也阻止了我的联系表单加载确认页面

> ID：15060844
> 
> 赞同：0
> 
> 时间：2013-02-25T05:44:26.103
> 
> 标签：php, jquery, forms, validation, jquery-validate

我是 jquery 和 php 的新手，尝试在我正在处理的网站上的联系表单中添加 jquery 验证和 php 服务器端验证时遇到了困难。

我在页面中嵌入了 Jquery validate.js，**验证工作正常，但问题是表单正确填写且所有字段都有效时。提交按钮不会继续到我的下一页。**显示确认消息和表单中的一些数据以供澄清的页面。

我已经看到了许多关于使用 jquery 验证和 php 的教程和问题，以及将数据提交到电子邮件地址的期望结果，而无需刷新或转到另一个页面。但是还没有找到一种简单的方法可以在新加载的页面中进行这项工作。

在我添加客户端 jquery 验证之前，表单提交得很好。尽管按照 nextStep.php 页面的要求仍会向我的电子邮件地址发送一封电子邮件，但似乎验证正在阻止它继续进行，但该页面未显示。当 javascript 被禁用时，提交按钮起作用。

我喜欢 validate.js 使自定义规则和错误消息变得多么容易，因此如果可能的话，我更愿意使用这种方法而不是其他 javascript 编码方法。

下面是contactForm.php 和nextStep.php 的代码。任何帮助将非常感激。

**'contactFrom.php'**

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><head>

<meta name="google-site-verification" content="WJzOl7qm8SHqmzMTjrdQwqVgXRu-EUMnY3qYUdrcJhI" />
<meta name="keywords" content=" " />
<meta name=" " content=" " />
<meta http-equiv="content-type" content="text/html; charset=utf-8" />

<title>Custom Contact From</title>

<script type="text/javascript" src="http://code.jquery.com/jquery-1.4.2.min.js"></script>
<script type="text/javascript" src="http://ajax.microsoft.com/ajax/jquery.validate/1.7/jquery.validate.min.js"></script>

<script type="text/javascript">

 $(document).ready(function(){
 $('#contactForm').submit(function() {
 return $('#contactForm').valid();
 });
  $("#contactForm").validate({
         debug: false,
   rules: {
    firstName: "required",

    email: {
     required: true,
     email: true
    }
   },
   messages: {
    firstName: "Please enter your name.",
    email: "Please enter a valid email address.",
   },
   submitHandler: function(form) {
   }
  });
 });

</script>

<style type="text/css">

h1 {
    font-family: "Trebuchet MS", Arial, Helvetica, sans-serif;  
}

label, input[type=submit] {
    font-weight: bold;
    font-family: "Trebuchet MS", Arial, Helvetica, sans-serif;
}

 label.error {
    display: inline-block;
    color: #F60;
    clear: both;
    float: right;
    line-height: 16px;
    font-size: 13px;
    width: 380px;
    text-align: right;
    height: 20px;
    margin-top: 4px;
    font-weight: normal;
 }
.result {
    height: 300px;
    width: 300px;
}
#contactForm {
    margin: 20px;
    width:  360px;
    background-color: #F8F8F8;
    padding-top: 5px;
    padding-right: 20px;
    padding-bottom: 5px;
    padding-left: 20px;

    -webkit-box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
    -moz-box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
}
input[type=text], textarea {
    width: 350px;
    margin-bottom: 20px;
}

</style>

</head>

<div id="wrapper">      

<form class="contactForm" action="nextStep.php" method="post" name="contactForm" id="contactForm">

      <h1>Contact Form</h1>

<label for="firstName">First Name:</label>

<br>

<input name="firstName" type="text" value="" id="firstName" class="required"/>

<br><br>

<label for="surname">Surname:</label>

<br>

<input name="surname" type="text" value="" id="surname" class="required"/>

<br><br>

<label for="email">Email:</label>

<br>

<input name="email" type="text" value="" id="email" class="required email" />

<br><br>

<label for="phone">Telephone Number:</label>

<br>

<input name="phone" type="text" value="" id="phone" class="required" />

<br><br>

<label for="comments">Comments:</label>

<br>

<textarea name="comments" class="required" cols="40" rows="10" id="requirements"></textarea>
<br><br>

<input type="submit" value="Submit" />
</p>
</form>

</div> <!-- end of wrapper Div.-->

</body>

</html> 
```

**'nextStep.php'** - 这是在两组验证后需要加载的页面，目前仅在禁用 javascript 的情况下加载。我已经使用 formtoemail.com 的代码作为免费版本的表单到电子邮件联系表单。

```
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>

<head>

<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title>Contact Form - Complete (Next Step)</title>

<style type="text/css">

h1, p  {
    font-family: "Trebuchet MS", Arial, Helvetica, sans-serif;
}

#formComplete {
    width: 550px;
    margin: 20px;
    border: thin solid #999;
    padding-top: 10px;
    padding-right: 20px;
    padding-bottom: 10px;
    padding-left: 20px;
}

body {
    font-family: "Trebuchet MS", Arial, Helvetica, sans-serif;
}
</style>
</head>

<?php

/* Email address for form data to be sent to */

$my_email = "contact@email.co.uk";

/* Page to return to after the form has been completed and confirmation page displayed. */

$continue = "index.php";

$errors = array();

// Server-side validation:

// Remove $_COOKIE elements from $_REQUEST.

if(count($_COOKIE)){foreach(array_keys($_COOKIE) as $value){unset($_REQUEST[$value]);}}

// Check all fields for an email header.

function recursive_array_check_header($element_value)
{

global $set;

if(!is_array($element_value)){if(preg_match("/(%0A|%0D|\n+|\r+)(content-type:|to:|cc:|bcc:)/i",$element_value)){$set = 1;}}
else
{

foreach($element_value as $value){if($set){break;} recursive_array_check_header($value);}

}

}

recursive_array_check_header($_REQUEST);

if($set){$errors[] = "You cannot send an email header.";}

unset($set);

// Validate email field.

if(isset($_REQUEST['email']) && !empty($_REQUEST['email']))
{

if(preg_match("/(%0A|%0D|\n+|\r+|:)/i",$_REQUEST['email'])){$errors[] = "Email address may not contain a new line or a colon.";}

$_REQUEST['email'] = trim($_REQUEST['email']);

if(substr_count($_REQUEST['email'],"@") != 1 || stristr($_REQUEST['email']," ")){$errors[] = "Email address is invalid";}else{$exploded_email = explode("@",$_REQUEST['email']);if(empty($exploded_email[0]) || strlen($exploded_email[0]) > 64 || empty($exploded_email[1])){$errors[] = "Email address is invalid";}else{if(substr_count($exploded_email[1],".") == 0){$errors[] = "Email address is invalid";}else{$exploded_domain = explode(".",$exploded_email[1]);if(in_array("",$exploded_domain)){$errors[] = "Email address is invalid";}else{foreach($exploded_domain as $value){if(strlen($value) > 63 || !preg_match('/^[a-z0-9-]+$/i',$value)){$errors[] = "Email address is invalid"; break;}}}}}}

}

// Check referrer is from same site.

if(!(isset($_SERVER['HTTP_REFERER']) && !empty($_SERVER['HTTP_REFERER']) && stristr($_SERVER['HTTP_REFERER'],$_SERVER['HTTP_HOST']))){$errors[] = "You must enable referrer logging to use the form.";}

// Check for a blank form.

function recursive_array_check_blank($element_value)
{

global $set;

if(!is_array($element_value)){if(!empty($element_value)){$set = 1;}}
else
{

foreach($element_value as $value){if($set){break;} recursive_array_check_blank($value);}

}

}

recursive_array_check_blank($_REQUEST);

if(!$set){$errors[] = "You cannot send a blank form. " ;}

unset($set);

// Display any errors and exit if errors exist.

if(count($errors)){foreach($errors as $value){print "$value<br>";} exit;}

if(!defined("PHP_EOL")){define("PHP_EOL", strtoupper(substr(PHP_OS,0,3) == "WIN") ? "\r\n" : "\n");}

// Build message.

function build_message($request_input){if(!isset($message_output)){$message_output ="";}if(!is_array($request_input)){$message_output = $request_input;}else{foreach($request_input as $key => $value){if(!empty($value)){if(!is_numeric($key)){$message_output .= str_replace("_"," ",ucfirst($key)).": ".build_message($value).PHP_EOL.PHP_EOL;}else{$message_output .= build_message($value).", ";}}}}return rtrim($message_output,", ");}

$message = build_message($_REQUEST);

$message = $message . PHP_EOL.PHP_EOL."-- ".PHP_EOL."";

$message = stripslashes($message);

$subject = "FormToEmail Comments";

$headers = "From: " . $_REQUEST['email'];

mail($my_email,$subject,$message,$headers);

?>

<div id="wrapper">

<div id="formComplete">

      <h1>Thank you for your comments we will get back to you very soon<?php print stripslashes($_REQUEST['FirstName']); ?>.</b></h1>

          <br>

    <p><a href="<?php print $continue; ?>">Return to home page.</a></p>

</div><!-- end #formComplete -->

</div><!-- end #Wrapper -->

</body>
</html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T05:46:25.533

你有一个空的[submitHandler](http://docs.jquery.com/Plugins/Validation/validate#toptions)：

```
submitHandler: function(form) {

} 
```

把它拿出来。

# java - Mockito 参数捕获者和 only()

> ID：15060847
> 
> 赞同：1
> 
> 时间：2013-02-25T05:44:45.083
> 
> 标签：java, unit-testing, mocking, mockito

我发现，每当我使用 verify with only() 来检查调用是否只是一次 - ArgumentCaptor 无法捕获值（我的值为 null）。

例如：verify(delegate, only()).call(captor.capture());

原因是什么？或者它只是一个错误？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2018-07-25T11:15:19.940

不知道`only()`实际在做什么，但`Mockito.times(1)`在`only()`失败时有效。

我的猜测是，当您`Mockito.when`最初调用时，它被视为第一次调用`only()`，但不是`Mockito.times`

# python - 没有收到来自 Flask-Security 的信号

> ID：15060849
> 
> 赞同：1
> 
> 时间：2013-02-25T05:45:02.870
> 
> 标签：python, flask, flask-security

我想从 Flask-Security 接收 user_registered 信号，并且必须像这样设置：

```
from flask.ext.security.signals import user_registered

@user_registered.connect_via(app)
def user_registered_sighandler(sender, **extra):
    sender.logger.debug("logger-user_registered_sighandler:", extra)
    print "print-user_registered_sighandler:", extra 
```

但是当新用户注册时，我的信号处理程序没有被调用。我已经设置了一个类似于上面的 Flask（不是 Flask-Security）信号，它确实有效。有人能帮忙吗？

我正在使用：Flask==0.9，Flask-Security==1.5.4，blinker==1.2

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-08-30T04:19:24.133

这是Flask-Security v1.6.1 中[修复的错误](https://github.com/mattupstate/flask-security/commit/f1cca43d9cef9ea616c1a51e862f91ad49bb9fca)

# blackberry-10 - 协调 BAR 描述符 QNX IDE

> ID：15060850
> 
> 赞同：0
> 
> 时间：2013-02-25T05:45:28.737
> 
> 标签：blackberry-10, blackberry-cascades

大家好，我正在从 QNX IDE 中的 Github [https://github.com/blackberry/Cascades-Samples/tree/next/bucketlist](https://github.com/blackberry/Cascades-Samples/tree/next/bucketlist)导入示例项目“Bucket-list”，但无法成功导入。得到错误![协调 BAR 描述符](../Images/0a29f7001e5bf92f17c2d7fdfdb3ce4d.png)。请看一下 Screen-Shoot 并建议我，我必须做些什么来解决这个问题。

欢迎和赞赏所有建议

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T06:43:36.367

```
May be the issue is related to QNXIDE-Workspace setting , sometimes QNXIDE-Workspace setting changed ,Workspace setting reset is the most preferable solution in this way  
I Follow some simple steps to sort-out the issue :-
1\. Close QNX IDE
2\. Remove .metadata folder that exist in BB10 Worspace
3\. Restart QNX IDE & import the Sample project now it's compile & run fine 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-08-20T19:57:45.620

更新到最新的 SDK 后，这发生在我身上。应用程序之前正常工作。事件清理项目“死亡”试图编译 BAR。

您可以通过右键单击包，转到属性，然后选择 Actionscript Build Packaging > BlackBerry 来判断有什么问题

需要明确的是，上面关于 .metadata 文件夹的说明是正确的。

打开资源管理器，转到 C:\users\%username%\Adobe Flash Builder 4.7\

（或者无论用户文件夹用于您的 IDE）并将 .metadata 重命名为 old.metadata。

重启IDE

# linux - 查找和替换以下字符串的正确转义是什么？

> ID：15060852
> 
> 赞同：0
> 
> 时间：2013-02-25T05:45:37.933
> 
> 标签：linux, sed

我正在尝试使用以下说明

[http://www.brunolinux.com/02-The_Terminal/Find_and%20Replace_with_Sed.html](http://www.brunolinux.com/02-The_Terminal/Find_and%20Replace_with_Sed.html)

替换所有出现的

```
<BASE href="file://C:\Users\J\Documents\Personal\J\"> 
```

一无所有。我试过了

```
find . -type f -exec sed -i 's/<BASE href=\"file:\/\/C:\\Users\\J\\Documents\\Personal\\J\\">//g' {} \; 
```

但它不太可能工作，因为转义字符有问题。我做错了什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-25T05:50:38.317

更改替换分隔符有很大帮助：

```
 find . -type f -exec sed -i \
     's!<BASE href="file://C:\\Users\\J\\Documents\\Personal\\J\\">!!g' {} \; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T05:53:11.173

试试这个：

```
s/\<BASE href\="file:\/\/C:\\Users\\J\\Documents\\Personal\\J\\\"\>//g 
```

或尝试使用 perl 使用相同的命令，即，而不是`sed -i`使用`perl -pi`

# android - 高分辨率设备中的设计不正确

> ID：15060853
> 
> 赞同：1
> 
> 时间：2013-02-25T05:45:39.033
> 
> 标签：android

我的设计在 android 2.1 和 android 4.0 普通分辨率设备上都很好，但是当我在平板电脑上运行我的应用程序时，它的设计完全改变了，帮帮我

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:tools="http://schemas.android.com/tools"
android:layout_width="match_parent"
android:layout_height="match_parent"
android:orientation="vertical"
android:background="@drawable/bowlbackground" >

<LinearLayout
    android:id="@+id/hkk"
    android:layout_width="match_parent"
    android:layout_height="54dp"
    android:layout_marginLeft="18dp"
    android:layout_marginRight="10dp"
    android:layout_marginTop="05dp" >

</LinearLayout>
<LinearLayout
    android:id="@+id/hll"
    android:layout_width="match_parent"
    android:layout_height="54dp"
    android:layout_marginLeft="18dp"
    android:layout_marginRight="10dp"
    android:layout_marginTop="143dp" >

</LinearLayout>

<LinearLayout
    android:id="@+id/hll2"
    android:layout_width="match_parent"
    android:layout_height="54dp"
    android:layout_marginLeft="18dp"
    android:layout_marginRight="10dp"
    android:layout_marginTop="0dp" >

      </LinearLayout>

 </LinearLayout> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-25T05:51:16.227

1.  手机和平板电脑的设计是不同的。
2.  避免对视图使用固定的宽度和高度尺寸（除非它真的不可避免）。[看到这个](http://developer.android.com/training/multiscreen/screensizes.html)了解更多信息
3.  请参阅文档以[支持多个屏幕](http://developer.android.com/guide/practices/screens_support.html)。它有助于设计平板电脑。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-25T07:32:37.740

用这个

```
res/layout/my_layout.xml             // layout for normal screen size ("default")
res/layout-small/my_layout.xml       // layout for small screen size
res/layout-large/my_layout.xml       // layout for large screen size
res/layout-xlarge/my_layout.xml      // layout for extra large screen size
res/layout-xlarge-land/my_layout.xml // layout for extra large in landscape orientation

res/drawable-mdpi/my_icon.png        // bitmap for medium density
res/drawable-hdpi/my_icon.png        // bitmap for high density
res/drawable-xhdpi/my_icon.png       // bitmap for extra high density 
```

# tidesdk - Ti.Network.TCPSocket 没有返回任何东西

> ID：15060854
> 
> 赞同：0
> 
> 时间：2013-02-25T05:45:48.457
> 
> 标签：tidesdk

我正在尝试使用 Ti.Network.TCPSocket 登录到 IMAP 服务器。

这很难，因为我没有收到任何反馈来调试。例如：

```
var socket = Ti.Network.createTCPSocket("imap.gmail.com", 993);
socket.connect();
socket.write("LOGIN user pass\r\n");

//event handlers
socket.onWrite(function(data) {
      Ti.API.debug('Written to socket: '+data);
});

socket.onError(function(data) {
      Ti.API.debug(data);
}); 
```

我没有得到任何回报。甚至没有错误或某种代码或确认某事正在实际发生。

我在这里做错了吗？

我怎样才能让这些偶数处理程序工作或套接字返回某种消息。

任何帮助，将不胜感激。

**更新 - 完整代码**

```
Ti.API.debug('Start A socket Connection');
var socket = Ti.Network.createTCPSocket("imap.gmail.com", 993);

Ti.API.debug('Connect the socket');
socket.connect();

Ti.API.debug('Socket Connected');
var command = uniqueid()+" LOGIN USER PASS\r\n";
socket.write(command);

//this is where the debug stops. No echo.
Ti.API.debug('Command Run');

socket.onWrite(function(data) {
    Ti.API.debug('Written to socket: '+data);
});

socket.onError(function(data) {
    Ti.API.debug('Error: '+data);
});

socket.onReadComplete(function(data) {
    Ti.API.debug('Here: '+data);
});

function uniqueid() {
    var s = [];
    var hexDigits = "0123456789abcdef";
    for (var i = 0; i < 10; i++) {
        s[i] = hexDigits.substr(Math.floor(Math.random() * 0x10), 1);
    }
    s[14] = "4";
    s[19] = hexDigits.substr((s[19] & 0x3) | 0x8, 1);
    s[8] = s[13] = s[18] = s[23];

    var uuid = s.join("");
    return uuid;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T05:50:34.810

端口 993 用于基于 SSL 的 IMAP。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T23:59:18.160

*   onWrite 不存在 - 这是一个错误，可能是您的调试语句停止的原因。
*   在定义处理程序后尝试将您的 socket.connect() 移动到。
*   在尝试写入套接字之前使用间隔和 socket.isClosed() 。一旦你得到一个 socket.isClosed() == false，然后继续。一旦你有了套接字，你也可以在应用程序的 webinspector 控制台中使用它。

这不会解决您的所有问题，但可能会有所帮助。您可能想尝试使用像 wireshark 这样的实用程序来查看您在 socket.write 时发送的确切内容，并将其与您的电子邮件客户端发送的内容进行比较。

# wso2 - WSO2 BAM 小工具生成

> ID：15060857
> 
> 赞同：2
> 
> 时间：2013-02-25T05:46:03.347
> 
> 标签：wso2, wso2bam

我使用 WSO2 小工具生成工具创建了一个小工具。我成功地完成了一切，最后我可以看到我的条形图。我创建了我的小工具网址。

现在，当我将小工具添加到仪表板时，我只看到空白框，没有图表。

控制台显示以下错误：[2013-02-25 11:05:18,837] 错误 {org.wso2.carbon.dashboard.mgt.gadgetrepo.ui.Gad getRepoUiUtils} - 未知协议：本地

单击“添加小工具”按钮后，我立即收到此异常！

请帮我。我做错了什么。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T07:32:23.697

您的网址格式错误。它通常是以`http://localhost:9763`路径开头的东西。但是，当您复制粘贴时，似乎出现了问题。修复网址，它应该可以工作。

# matlab - 如何从matlab中的图像中剪切选定的部分？

> ID：15060860
> 
> 赞同：1
> 
> 时间：2013-02-25T05:46:17.273
> 
> 标签：matlab, face-detection, bounding-box

我们正在处理我们的主要项目中的一个问题，我们希望您能帮助我们解决这个问题。我们的项目是便携式人脸识别系统。我们需要从选定的边界切出一个面。

这是我们的代码：

```
img=imread('10.jpg'); 
for i = 1:size(img,1) 
    for j = 1:size(img,2) 
        R = img(i,j,1); 
        G = img(i,j,2); 
        B = img(i,j,3); 
        if(R > 92 && G > 40 && B > 20) 
             v = [R,G,B]; 
             if(abs(R-G) > 15 && R > G && R > B) 
                  final_image(i,j) = 1; 
             end 
        end 
    end 
end 
imshow(final_image) 
rgbInputImage=img; 
%Grayscale To Binary. 
binaryImage=im2bw(final_image,0.6); 
%Filling The Holes. 
binaryImage = imfill(binaryImage, 'holes'); 
binaryImage = bwareaopen(binaryImage,1890); 
figure,imshow(binaryImage); 
labeledImage = bwlabel(binaryImage, 8); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T05:52:13.963

您可以检查 MATLAB 内置函数[roipoly](http://www.mathworks.com/help/images/ref/roipoly.html)。它将获取`x-y`边界坐标并构建多边形蒙版。这个二进制掩码可以与您的图像相乘以提取人脸。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T16:40:33.600

您可以在 MATLAB 中使用 imcrop 函数。有关更多信息，请在命令窗口中键入帮助 imcrop。

# java - 在 Java 中加载 XML 文件

> ID：15060861
> 
> 赞同：-3
> 
> 时间：2013-02-25T05:46:16.927
> 
> 标签：java, xml, dom

我正在做一个项目，我将创建一个 XML 文件并向客户端程序提供一个小型 Java SDK，主要用于从中获取数据，以及一些最小的写入操作。

问题是 XML 文件最终可能会包含大量数据，因此我的 SDK 应该尽可能快 - 加载文档并从中提取信息。

关于如何开始的任何指示？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-25T05:53:14.673

这取决于您的要求，如果您对 XML 结构有所了解，则可以使用 Sax 解析器或 DOM 解析器。但是如果 XML 足够大并且结构未知，那么 Stax 总是最好的选择。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T05:49:35.800

SAX 解析器将是最好的选择。

# javascript - Jquery：获取每个图像src

> ID：15060862
> 
> 赞同：10
> 
> 时间：2013-02-25T05:46:19.567
> 
> 标签：javascript, jquery, jquery-selectors, each

我有一系列图像，每个图像都有“照片”类；

我想遍历这些并检索照片源，以供稍后在 if 语句中使用。我已经编写了以下代码来执行此操作，但没有成功：

```
$.each($(".photo"), function() {
  var imgsrc = $(this).attr("src").length;
  console.log(imgsrc);
}); 
```

我不确定我在哪里出错了。这对我来说似乎很有意义，但我在控制台中没有得到任何东西。

谁能指出我正确的方向？

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2013-02-25T05:50:20.713

如果您为所有 img 标签指定了相同的类名，那么试试这个，

```
 $(".photo").each(function() {  
   imgsrc = this.src;
   console.log(imgsrc);
  }); 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-25T05:48:34.387

```
$(document).ready(function(){
  $(".photo").each(function() {  
       imgsrc = this.src;
       console.log(imgsrc);
  });    
}); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-25T06:06:32.177

可能是你失踪了`doc ready handler`：

```
$(function(){
  $.each($(".photo"), function() {
    var imgsrc = $(this).attr("src").length;
    console.log(imgsrc); // logging length it should now print the length
  });
}); 
```

确保先加载此脚本，然后加载您的`$.each()`函数：

```
<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-25T05:52:19.767

您正在尝试在`lenght`这里脱离上下文读取对象/数组的 ：

```
var imgsrc = $(this).attr("src").length; 
```

改成

```
var imgsrc = $(this).attr("src"); 
```

**编辑**：为了检查属性是否存在

```
if (imgsrc == undefined) { /* do something */ } 
```

# javascript - 获取通过拖动形成的线的长度

> ID：15060866
> 
> 赞同：0
> 
> 时间：2013-02-25T05:46:37.010
> 
> 标签：javascript, html, kineticjs

我想计算阻力的长度。即通过在html画布上将光标从一个点拖动到另一个点创建的线的长度。如何在 kineticjs 中实现它？即在dragstart 到dragend。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T07:11:41.727

我不知道动力学，但使用 jquery 看起来像这样：

```
var telemetry = {
    $target: null,
    startPosition: {x:0,y:0},
    distance: 0,
    getMousePosition: function(event){
        var position = {
            x: event.pageX - this.$target.offset().left,
            y: event.pageY - this.$target.offset().top
        }
        return position;
    },
    getDistance: function(startPosition, endPosition){
        //find distance in each x and y directions
        var dx = endPosition.x - startPosition.x;
        var dy = endPosition.y - startPosition.y;

        // use pythagorean theorem
        return Math.sqrt((dx*dx) + (dy*dy));
    },
    onMouseDown: function(event){
        this.startPosition = this.getMousePosition(event);
    },
    onMouseUp: function(event){
        this.distance = this.getDistance(this.startPosition, this.getMousePosition(event));
    }
}

telemetry.$target = $('#myCanvas');

telemetry.$target.mousedown(function(event){
    telemetry.onMouseDown(event);
}).mouseup(function(event){
    telemetry.onMouseUp(event);
    alert('you dragged ' + telemetry.distance + 'px');
}); 
```

[http://jsfiddle.net/gunderson/HUdUH/](http://jsfiddle.net/gunderson/HUdUH/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T20:10:20.397

好吧，在 kineticjs 你会做这样的事情：

```
var point1;
var point2;
layer.on('dragstart', function(){
     point1 = stage.getUserPosition();
});
layer.on('dragend', function(){
     point2 = stage.getUserPosition();
     var xDist = point2.x - point1.x;
     var yDist = point2.y - point1.y;
     alert( Math.sqrt((xDist*xDist) + (yDist*yDist)) ); // this pops up a message of the length of the line, you could just do a return or assign a value to something
     //distance = Math.sqrt((xDist*xDist) + (yDist*yDist)); //alternative
}) 
```

# android - 使用纬度和经度信息创建 Google 位置 URL

> ID：15060867
> 
> 赞同：2
> 
> 时间：2013-02-25T05:46:38.737
> 
> 标签：android, location, linkify

![在此处输入图像描述](../Images/3b9715d9bb9325bc483e1772cd425fd9.png)![在此处输入图像描述](../Images/d5739be0d14e3f46a59d9d2035d864a7.png)

我有一个代码，我正在检索纬度和经度信息。我有兴趣在地图上显示该信息。我想为谷歌地图创建一个链接，其中包含检索到的“经度”和“纬度”信息。我[`Linkify`](http://developer.android.com/reference/android/text/util/Linkify.html)为此使用如下：

**** Java代码**：

```
 String text = "maps.google.com/?q=latitude,longitude";
 TextView label = (TextView)findViewById(R.id.textView);
 label.setText(text);
 Pattern pattern = Pattern.compile("maps.google.com");
 Linkify.addLinks(label, pattern, "http://"); 
```

但是这段代码不起作用。有人可以帮我写代码吗？我得到了类似的东西。我的经度和纬度没有与网址的其余部分相关联。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-25T05:56:21.193

您可以使用以下代码来显示地图

```
 String url = "geo:" +  sLatitude + "," + sLongitude +"?z=22&q="+sLatitude + "," + sLongitude;
    Intent intent = new Intent(android.content.Intent.ACTION_VIEW, Uri.parse(url));
    startActivity(intent); 
```

上面的代码使用安装在手机中的谷歌地图应用程序显示地图，它还使用缩放级别 22 标记位置。不需要**谷歌地图 api 密钥**

希望这会有所帮助...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-12-04T13:52:53.413

您还可以使用[`android:autoLink`](http://developer.android.com/reference/android/widget/TextView.html#attr_android%3aautoLink)属性`TextView`将字符串转换为链接。它控制是否自动找到诸如 url 和电子邮件地址之类的链接并将其转换为可点击的链接。

例如，您可以将它添加到您的布局 ( `.xml`) 文件中。

```
<TextView 
    android:id="@+id/google_map_url"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:autoLink="web" /> 
```

它会自动为您将文本转换为链接。希望它可以帮助你:)

# session - Glassfish 中 RESTful Web 服务的基于会话的身份验证

> ID：15060869
> 
> 赞同：1
> 
> 时间：2013-02-25T05:46:44.403
> 
> 标签：session, rest, glassfish, cluster-computing, restful-authentication

**问题**

我正在创建一个在 Glassfish 3.1.2.2 上运行的应用程序，并在身份验证昂贵的环境中公开一个 RESTful API。传递凭据并验证每个请求是不可行的——我需要一种基于会话的方法。

我正在考虑使用 BASIC auth 和内存会话复制（应用程序需要支持在集群中部署）。考虑到我只共享“登录”状态，内存复制似乎很昂贵——应用程序的所有其他组件都是无状态的。

我的问题是：**有更好的选择吗？**

例如，我可以将 Glassfish 配置为将会话状态持久保存到数据库，而不是使用内存复制吗？

我考虑过“会话作为资源”的方法，例如 POST 到 /session 以登录，删除 /session/{id} 以注销。这提供了更多的控制，但是对于服务消费者来说更难（与 BASIC auth 之类的东西相比）。

# ios - 如何在无需单击的情况下显示注释信息？

> ID：15060878
> 
> 赞同：0
> 
> 时间：2013-02-25T05:48:48.533
> 
> 标签：ios, map, annotations

```
for (MyAnnotation *a in dealerMapView.annotations) {
    // Your current position (if shown) is an annotation as well. Thus check for the right class!
    if ([a isKindOfClass:[MyAnnotation class]]) {
        // insert some smart if statement here, if you have multiple annotations!
        [[dealerMapView viewForAnnotation:a] setSelected:YES animated:YES];
    }
} 
```

我使用了上面的代码，但信息没有显示在 pin 上。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T06:08:28.657

```
[self.dealerMapView selectAnnotation:myAnnotation2 animated:YES]; 
```

我使用了这个语句，现在它显示了注释信息。

# ruby-on-rails - 设计：注册失败时重定向到“/signup”

> ID：15060881
> 
> 赞同：3
> 
> 时间：2013-02-25T05:49:17.547
> 
> 标签：ruby-on-rails, devise

在用户注册过程失败后，我想重定向到“/注册”页面。你怎么做呢？

每次注册失败时，它都会重定向到“/users”，这不是我想要的，我希望它重定向到注册页面。

TIA

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-11-06T04:07:30.947

您必须在初始化程序中编写自定义方法并调用它。

在这里看到这篇文章，希望它能把你带到你需要的地方！

[登录失败后设计重定向](https://stackoverflow.com/questions/5832631/devise-redirect-after-login-fail)

# c++ - 为什么我得到 deque 的 max_size() 小于 vector 的 max_size()？

> ID：15060884
> 
> 赞同：1
> 
> 时间：2013-02-25T05:49:53.997
> 
> 标签：c++, gcc, vector, stl, deque

在使用 STL 容器学习（和试验）时，我发现我的系统（gcc 版本 4.7.2，x86_64）上的向量 max_size = 4611686018427387903 和 deque max_size = 2305843009213693951。根据我的（有限）理解，双端队列通常在内部实​​现为向量列表（或向量的向量？）。如果是这种情况，那么为什么双端队列的 max_size 小于实际需要连续内存块的向量，而双端队列可能能够处理多个连续块？它与我的系统配置、当前状态或它必须的方式有什么关系吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T08:27:49.933

我在您的问题中遗漏了一个细节：您使用哪些类型测试了 max_sizes？Ideone 的 gcc 4.7.2（在 32 位上）说[两者都具有相同的 max_size](http://ideone.com/RWhdQV) - 如果给定相同的元素类型。对于 int 它`2^30-1`- 这意味着存储数据的最大大小是`(2^32 - 4)`字节，因为`sizeof(int) == 4`在那个系统上。

这是一个疯狂的猜测：你有比较`vector<T>::max_size`与`deque<U>::max_size`与`sizeof(T) == 4`和`sizeof(U) == 8`吗？这将解释近似因子 2。

尽管如此，您的实验表明， max_size 仅返回一个非常理论的数字，因为您肯定无法将`2^62-1`整数放入内存。-1 源于“前”4 个字节必须留空，否则`&vec[0] == NULL`. 除了存储在向量中的整数之外，您在该程序中不能有任何其他数据——包括向量本身！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T06:11:21.077

您可能已经注意到， 4611686018427387903 是`2^62 - 1`2305843009213693951 是`2^61 - 1`，这应该可以提示您这些数字的来源（提示：与您的系统配置无关）。

我不知道真正的原因，但我猜它非常学术，与向量或双端队列的实现方式无关。也许 GCC 的双端队列使用了额外的位来跟踪其他内容。熟悉 GCC 的人可能会在这里插话。`max_size`无论如何，语言标准没有说明应该是什么，所以它完全取决于库/编译器的实现者。

这些数字非常大，实际上你会在接近之前看到其他事情发生`max_size`。也许有些古怪的 STL 实现`max_size`非常小，但至少对于 GCC，您不需要担心它。

# php - 如何在 PHP 中创建一个 json 文件

> ID：15060887
> 
> 赞同：0
> 
> 时间：2013-02-25T05:50:04.520
> 
> 标签：php, json

我需要从头开始创建一个 JSON 文件，看起来像这样

```
{
 "results": {
  "course": "CC167",
  "books": {
   "book": [
    {
      "-id": "585457",
      "-title": "Beginning XNA 20 game programming : from novice to professional",
      "-isbn": "1590599241",
      "-borrowedcount": "16"
    },
    {
      "-id": "325421",
      "-title": "Red Hat Linux 6",
      "-isbn": "0201354373",
      "-borrowedcount": "17"
    },
    {
      "-id": "424317",
      "-title": "Beginner's guide to darkBASIC game programming",
      "-isbn": "1592000096",
      "-borrowedcount": "46"
    },
    {
      "-id": "437390",
      "-title": "Objects first with Java : a practical introduction using BlueJ",
      "-isbn": "0131249339",
      "-borrowedcount": "89"
    },
    {
      "-id": "511094",
      "-title": "Objects first with Java : a practical introduction using BlueJ",
      "-isbn": "2006044765",
      "-borrowedcount": "169"
    }
   ]
  }
 }
} 
```

这是我用来制作的 PHP，所以希望它不是一个大的飞跃，但我对如何从头开始在 PHP 中制作 JSON 对象一无所知，只有如何制作这样的东西，然后将其保存为JSON 自己

```
$y = 1;
    $json = "{";
    $json = $json . "\"results\": {";
    $json = $json . "\"course\": \"$cc\",";
    $json = $json . "\"books\": {";
    $json = $json . "\"book\": [";
    foreach ($my_array as $counter => $bc) {
        $json = $json . "{";
        $json = $json . "\"-id\": \"$id[$counter]\",";
        $json = $json . "\"-title\": \"$title[$counter]\",";
        $json = $json . "\"-isbn\": \"$isbn[$counter]\",";
        $json = $json . "\"-borrowedcount\": \"$borrowedcount[$counter]\"";
        $json = $json . "}";
        if ($x != $y) $json = $json .  ",";
        $json = $json . "";
        $y++;
    }
    $json = $json . "]";
    $json = $json . "}";
    $json = $json . "}";
    $json = $json . "}";
    echo $json; 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-25T06:08:53.973

[您可以使用json_encode](http://php.net/manual/en/function.json-encode.php)从 PHP 中的数组生成 json

例如，这将生成类似于您上面的 json 的内容（稍微减少）

```
$data = array(
  "results" => array(
    "course" => "CC167",
    "books" => array(
      "book" =>
      array(
        array(
          "-id" => "585457",
          "-title" => "Beginning XNA 20 game programming : from novice to professional",
          "-isbn" => "1590599241",
          "-borrowedcount" => "16"
        ),
        array(
          "-id" => "325421",
          "-title" => "Red Hat Linux 6",
          "-isbn" => "0201354373",
          "-borrowedcount" => "17"
        )
      )
    )
  )
);
echo json_encode($data); 
```

尝试通过手动字符串连接（如在您当前的代码中）生成 json 是个坏主意，因为它很难避免语法错误，并且您需要转义 json 的动态部分。json_encode 会自动为您转义。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T05:58:33.857

尝试这个：

```
$array       = array("test"=>"value");

$json_string = json_encode($array); 
```

参考： http: [//php.net/manual/en/function.json-encode.php](http://php.net/manual/en/function.json-encode.php)

# javascript - javascript中需要的逻辑

> ID：15060892
> 
> 赞同：-6
> 
> 时间：2013-02-25T05:50:14.157
> 
> 标签：javascript

我有一个可以正常工作的选择选项，但我想要的是如果选择了多个，那么必须添加 10 % 的折扣，如何做到这一点

并在 Java 脚本中选择值相乘

```
//javascript

function totprice(f,n,amt)
                {

                    var tot=0;
                    document.getElementById('lbl_tot'+n).value=amt*f;

                    for (var k=1; k<=document.getElementById('rowcnt').value; k++)
                    {

                            if(document.getElementById('lbl_tot'+k))
                            {
                                tot=parseInt(tot) + parseInt(document.getElementById('lbl_tot'+k).value);
                            }

                    }

                    document.getElementById('txttot').value=tot;

                    document.getElementById('txttotprice').value=tot;

                } 
```

HTML

```
<select name="amt" id="amt" onchange="return totprice(this.value,2,110);">
  <option value="0">0</option>
  <option value="1">1</option>
  <option value="2">2</option>
  <option value="3">3</option>
  <option value="4">4</option>
  <option value="5">5</option>
  <option value="6">6</option>
  <option value="7">7</option>
  <option value="8">8</option>
  <option value="9">9</option>
  <option value="10">10</option>
  <option value="11">11</option>
  <option value="12">12</option>
  <option value="13">13</option>
  <option value="14">14</option>
  <option value="15">15</option>
  <option value="16">16</option>
  <option value="17">17</option>
  <option value="18">18</option>
  </select> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T05:55:02.660

您的选择标签应该是

```
<select name="amt" id="amt" onchange="return totprice(this.value,2,110);" multiple> 
```

使其成为多选。现在，当用户选择多个选项（使用 Shift+单击）时，然后在您的 JavaScript 函数中获取这些值并进行处理（提供折扣/任何逻辑）

**更新**
您希望将用户选择的值乘以折扣金额 (110)
在您的 JS 中有这个

```
var x = parseInt(f)*parseInt(amt); 
```

`If f = 2 and amt = 110 then x = 220`. 你需要做`parseInt(value, radix)`的*默认基数是 10*

*示例*：

```
var optionSelected = document.getElementById('amt').value;  //optionSelected is nothing but this.value
if(optionSelected > 1)
{
 //Offer discount
 var x = parseInt(f)*parseInt(amt);  //where f and amt is passed through function call
}
else
{
 // Do nothing/ other logic
} 
```

希望这可以帮助！！

# java - 使用 maven 导入 mahout 时出错

> ID：15060897
> 
> 赞同：0
> 
> 时间：2013-02-25T05:50:53.733
> 
> 标签：java, eclipse, hadoop, mahout, pom.xml

我在 Eclipse 中收到以下消息

```
Project build error: Non-resolvable parent POM: Could not transfer 
artifact org.apache:apache:pom:9 from/to central 
(http://repo1.maven.org/maven2): connection timed out and 'parent.relativePath' 
points at wrong local POM 
```

我的 pom.xml 文件是..

```
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
  <modelVersion>4.0.0</modelVersion>
  <groupId>org.apache.mahout</groupId>
  <artifactId>mahout</artifactId>
  <version>0.5</version>

  <parent>
    <groupId>org.apache</groupId>
    <artifactId>apache</artifactId>
    <version>9</version>
  </parent>

  <packaging>pom</packaging>
  <name>Apache Mahout</name>
  <url>http://mahout.apache.org</url>
  <inceptionYear>2008</inceptionYear>

  <licenses>
    <license>
      <name>The Apache Software License, Version 2.0</name>
      <url>http://www.apache.org/licenses/LICENSE-2.0.txt</url>
      <distribution>repo</distribution>
    </license>
  </licenses>
  <organization>
    <name>The Apache Software Foundation</name>
    <url>http://www.apache.org/</url>
  </organization>
  <mailingLists>
    <mailingList>
      <name>User list</name>
      <subscribe>user-subscribe@mahout.apache.org</subscribe>
      <unsubscribe>user-unsubscribe@mahout.apache.org</unsubscribe>
      <post>user@mahout.apache.org</post>
      <archive>http://mail-archives.apache.org/mod_mbox/mahout-user/</archive>
      <otherArchives>
        <otherArchive>http://mahout.apache.org/mail/user/</otherArchive>
        <otherArchive>http://mahout.markmail.org/</otherArchive>
        <otherArchive>http://www.nabble.com/Mahout-User-List-f32042.html</otherArchive>
      </otherArchives>
    </mailingList>
    <mailingList>
      <name>Developers List</name>
      <subscribe>dev-subscribe@mahout.apache.org</subscribe>
      <unsubscribe>dev-unsubscribe@mahout.apache.org</unsubscribe>
      <post>mahout-dev@mahout.apache.org</post>
      <archive>http://mail-archives.apache.org/mod_mbox/mahout-dev/</archive>
      <otherArchives>
        <otherArchive>http://mahout.apache.org/mail/dev/</otherArchive>
        <otherArchive>http://mahout.markmail.org/</otherArchive>
        <otherArchive>http://www.nabble.com/Mahout-Developer-List-f32041.html</otherArchive>
      </otherArchives>
    </mailingList>
    <mailingList>
      <name>Commit notifications</name>
      <subscribe>commits-subscribe@mahout.apache.org</subscribe>
      <unsubscribe>commits-unsubscribe@mahout.apache.org</unsubscribe>
      <archive>http://mail-archives.apache.org/mod_mbox/mahout-commits/</archive>
      <otherArchives>
        <otherArchive>http://mahout.apache.org/mail/commits/</otherArchive>
      </otherArchives>
    </mailingList>
  </mailingLists>
  <properties>
    <skipTests>false</skipTests>
    <maven.clover.multiproject>true</maven.clover.multiproject>
    <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
  </properties>
  <issueManagement>
    <system>Jira</system>
    <url>https://issues.apache.org/jira/browse/MAHOUT</url>
  </issueManagement>

  <dependencyManagement>
    <dependencies>

      <!-- our modules -->

      <dependency>
        <artifactId>mahout-core</artifactId>
        <groupId>${project.groupId}</groupId>
        <version>${project.version}</version>
      </dependency>
      <dependency>
        <groupId>${project.groupId}</groupId>
        <version>${project.version}</version>
        <artifactId>mahout-core</artifactId>
        <type>test-jar</type>
        <scope>test</scope>
      </dependency>

      <dependency>
        <artifactId>mahout-math</artifactId>
        <groupId>${project.groupId}</groupId>
        <version>${project.version}</version>
      </dependency>
      <dependency>
        <groupId>${project.groupId}</groupId>
        <version>${project.version}</version>
        <artifactId>mahout-math</artifactId>
        <type>test-jar</type>
      </dependency>

      <dependency>
        <artifactId>mahout-utils</artifactId>
        <groupId>${project.groupId}</groupId>
        <version>${project.version}</version>
      </dependency>

      <dependency>
        <artifactId>mahout-buildtools</artifactId>
        <groupId>${project.groupId}</groupId>
        <version>${project.version}</version>
      </dependency>

      <!-- sibling projects -->
      <dependency>
        <groupId>org.apache.mahout</groupId>
        <artifactId>mahout-collections</artifactId>
        <version>1.0</version>
      </dependency>

      <!-- 3rd party  -->
      <dependency>
        <groupId>org.apache.lucene</groupId>
        <artifactId>lucene-analyzers</artifactId>
        <version>3.1.0</version>
      </dependency>
      <dependency>
        <groupId>org.apache.lucene</groupId>
        <artifactId>lucene-core</artifactId>
        <version>3.1.0</version>
      </dependency>
      <dependency>
        <groupId>org.apache.lucene</groupId>
        <artifactId>lucene-benchmark</artifactId>
        <version>3.1.0</version>
      </dependency>
      <dependency>
        <groupId>org.apache.solr</groupId>
        <artifactId>solr-commons-csv</artifactId>
        <version>3.1.0</version>
      </dependency>

      <dependency>
        <groupId>junit</groupId>
        <artifactId>junit</artifactId>
        <version>4.7</version>
        <scope>test</scope>
      </dependency>
      <dependency>
        <groupId>org.easymock</groupId>
        <artifactId>easymock</artifactId>
        <version>2.5.2</version>
        <scope>test</scope>
      </dependency>
      <dependency>
        <groupId>org.easymock</groupId>
        <artifactId>easymockclassextension</artifactId>
        <version>2.5.2</version>
        <scope>test</scope>
      </dependency>

      <dependency>
        <groupId>org.apache.hadoop</groupId>
        <artifactId>hadoop-core</artifactId>
        <version>0.20.2</version>
        <exclusions>
          <exclusion>
            <groupId>net.sf.kosmosfs</groupId>
            <artifactId>kfs</artifactId>
          </exclusion>
          <exclusion>
            <groupId>org.mortbay.jetty</groupId>
            <artifactId>jetty</artifactId>
          </exclusion>
          <exclusion>
            <groupId>org.mortbay.jetty</groupId>
            <artifactId>jetty-util</artifactId>
          </exclusion>
          <exclusion>
            <groupId>hsqldb</groupId>
            <artifactId>hsqldb</artifactId>
          </exclusion>
          <exclusion>
            <groupId>commons-el</groupId>
            <artifactId>commons-el</artifactId>
          </exclusion>
          <exclusion>
            <groupId>junit</groupId>
            <artifactId>junit</artifactId>
          </exclusion>
          <exclusion>
            <groupId>oro</groupId>
            <artifactId>oro</artifactId>
          </exclusion>
          <exclusion>
            <groupId>org.mortbay.jetty</groupId>
            <artifactId>jsp-2.1</artifactId>
          </exclusion>
          <exclusion>
            <groupId>org.mortbay.jetty</groupId>
            <artifactId>jsp-api-2.1</artifactId>
          </exclusion>
          <exclusion>
            <groupId>org.mortbay.jetty</groupId>
            <artifactId>servlet-api-2.5</artifactId>
          </exclusion>
          <exclusion>
            <groupId>commons-net</groupId>
            <artifactId>commons-net</artifactId>
          </exclusion>
          <exclusion>
            <groupId>tomcat</groupId>
            <artifactId>jasper-runtime</artifactId>
          </exclusion>
          <exclusion>
            <groupId>tomcat</groupId>
            <artifactId>jasper-compiler</artifactId>
          </exclusion>
          <exclusion>
            <groupId>xmlenc</groupId>
            <artifactId>xmlenc</artifactId>
          </exclusion>
          <exclusion>
            <groupId>net.java.dev.jets3t</groupId>
            <artifactId>jets3t</artifactId>
          </exclusion>
          <exclusion>
            <groupId>org.eclipse.jdt</groupId>
            <artifactId>core</artifactId>
          </exclusion>
        </exclusions>
      </dependency>

      <dependency>
        <groupId>commons-dbcp</groupId>
        <artifactId>commons-dbcp</artifactId>
        <version>1.2.2</version>
      </dependency>

      <dependency>
        <groupId>commons-pool</groupId>
        <artifactId>commons-pool</artifactId>
        <version>1.4</version>
      </dependency>

      <dependency>
        <groupId>org.slf4j</groupId>
        <artifactId>slf4j-api</artifactId>
        <version>1.6.0</version>
      </dependency>
      <dependency>
        <groupId>org.slf4j</groupId>
        <artifactId>slf4j-jcl</artifactId>
        <version>1.6.0</version>
      </dependency>

      <dependency>
        <groupId>commons-lang</groupId>
        <artifactId>commons-lang</artifactId>
        <version>2.4</version>
      </dependency>

      <dependency>
        <groupId>org.apache.commons</groupId>
        <artifactId>commons-math</artifactId>
        <version>2.1</version>
      </dependency>

      <dependency>
        <groupId>org.uncommons.maths</groupId>
        <artifactId>uncommons-maths</artifactId>
        <version>1.2</version>
      </dependency>

      <dependency>
        <groupId>commons-collections</groupId>
        <artifactId>commons-collections</artifactId>
        <version>3.2.1</version>
      </dependency>

      <dependency>
        <groupId>org.uncommons.watchmaker</groupId>
        <artifactId>watchmaker-framework</artifactId>
        <version>0.6.2</version>
      </dependency>
      <dependency>
        <groupId>org.uncommons.watchmaker</groupId>
        <artifactId>watchmaker-swing</artifactId>
        <version>0.6.2</version>
      </dependency>

      <dependency>
        <groupId>com.thoughtworks.xstream</groupId>
        <artifactId>xstream</artifactId>
        <version>1.3.1</version>
      </dependency>

      <dependency>
        <groupId>com.google.guava</groupId>
        <artifactId>guava</artifactId>
        <version>r03</version>
      </dependency>

      <dependency>
        <groupId>org.apache.mahout.commons</groupId>
        <artifactId>commons-cli</artifactId>
        <version>2.0-mahout</version>
      </dependency>

      <dependency>
        <groupId>axis</groupId>
        <artifactId>axis</artifactId>
        <version>1.4</version>
      </dependency>

      <dependency>
        <groupId>javax.servlet</groupId>
        <artifactId>servlet-api</artifactId>
        <version>2.4</version>
        <scope>provided</scope>
      </dependency>

      <dependency>
        <groupId>net.java.dev.jets3t</groupId>
        <artifactId>jets3t</artifactId>
        <version>0.7.1</version>
      </dependency>

    </dependencies>
  </dependencyManagement>
  <build>
    <defaultGoal>install</defaultGoal>
    <pluginManagement>
      <plugins>
        <plugin>
          <groupId>org.apache.maven.plugins</groupId>
          <artifactId>maven-source-plugin</artifactId>
          <version>2.1.2</version>
          <executions>
            <execution>
              <id>attach-sources</id>
              <phase>verify</phase>
              <goals>
                <goal>jar-no-fork</goal>
              </goals>
            </execution>
          </executions>
        </plugin>
        <plugin>
          <groupId>org.apache.maven.plugins</groupId>
          <artifactId>maven-javadoc-plugin</artifactId>
          <version>2.8</version>
        </plugin>
        <plugin>
          <groupId>org.apache.maven.plugins</groupId>
          <artifactId>maven-antrun-plugin</artifactId>
          <version>1.6</version>
        </plugin>
        <plugin>
          <groupId>org.apache.maven.plugins</groupId>
          <artifactId>maven-assembly-plugin</artifactId>
          <version>2.2</version>
        </plugin>
        <plugin>
          <groupId>org.apache.maven.plugins</groupId>
          <artifactId>maven-jar-plugin</artifactId>
          <version>2.3.1</version>
        </plugin>
        <plugin>
          <groupId>org.apache.maven.plugins</groupId>
          <artifactId>maven-install-plugin</artifactId>
          <version>2.3.1</version>
        </plugin>
        <plugin>
          <groupId>org.apache.maven.plugins</groupId>
          <artifactId>maven-resources-plugin</artifactId>
          <version>2.4.3</version>
        </plugin>
        <plugin>
          <groupId>org.apache.maven.plugins</groupId>
          <artifactId>maven-eclipse-plugin</artifactId>
          <version>2.8</version>
          <configuration>
            <outputDirectory>${eclipse.outputDirectory}</outputDirectory>
            <buildcommands>
              <java.lang.String>org.eclipse.jdt.core.javabuilder</java.lang.String>
              <java.lang.String>com.atlassw.tools.eclipse.checkstyle.CheckstyleBuilder</java.lang.String>
              <java.lang.String>net.sourceforge.pmd.eclipse.plugin.pmdBuilder</java.lang.String>
            </buildcommands>
            <projectnatures>
              <nature>org.eclipse.jdt.core.javanature</nature>
              <nature>com.atlassw.tools.eclipse.checkstyle.CheckstyleNature</nature>
              <nature>net.sourceforge.pmd.eclipse.plugin.pmdNature</nature>
            </projectnatures>
            <additionalConfig>
              <file>
                <name>.checkstyle</name>
                <location>/mahout-eclipse-checkstyle</location>
              </file>
              <file>
                <name>.pmd</name>
                <location>/mahout-eclipse-pmd</location>
              </file>
              <file>
                <name>.ruleset</name>
                <location>/mahout-pmd-ruleset.xml</location>
              </file>
            </additionalConfig>
          </configuration>
          <!-- the 'location' elements above refer to classpath -->
          <dependencies>
            <dependency>
              <groupId>org.apache.mahout</groupId>
              <artifactId>mahout-eclipse-support</artifactId>
              <version>${project.version}</version>
            </dependency>
          </dependencies>
        </plugin>
        <plugin>
          <groupId>org.apache.maven.plugins</groupId>
          <artifactId>maven-release-plugin</artifactId>
          <version>2.1</version>
          <configuration>
            <useReleaseProfile>true</useReleaseProfile>
            <releaseProfiles>release,mahout_release</releaseProfiles>
            <remoteTagging>true</remoteTagging>
            <goals>deploy</goals>
            <autoVersionSubmodules>true</autoVersionSubmodules>
            <allowTimestampedSnapshots>true</allowTimestampedSnapshots>
          </configuration>
        </plugin>
        <plugin>
          <groupId>org.apache.maven.plugins</groupId>
          <artifactId>maven-compiler-plugin</artifactId>
          <version>2.3.2</version>
          <configuration>
            <encoding>UTF-8</encoding>
            <source>1.6</source>
            <target>1.6</target>
            <optimize>true</optimize>
          </configuration>
        </plugin>
        <plugin>
          <groupId>org.apache.maven.plugins</groupId>
          <artifactId>maven-checkstyle-plugin</artifactId>
          <version>2.6</version>
          <dependencies>
            <dependency>
              <groupId>org.apache.mahout</groupId>
              <artifactId>mahout-buildtools</artifactId>
              <version>${project.version}</version>
            </dependency>
          </dependencies>
          <configuration>
            <encoding>UTF-8</encoding>
          </configuration>

        </plugin>
        <plugin>
          <groupId>org.apache.maven.plugins</groupId>
          <artifactId>maven-pmd-plugin</artifactId>
          <version>2.5</version>
          <dependencies>
            <dependency>
              <groupId>org.apache.mahout</groupId>
              <artifactId>mahout-buildtools</artifactId>
              <version>${project.version}</version>
            </dependency>
          </dependencies>
          <configuration>
            <rulesets>
              <!-- classpath -->
              <ruleset>../eclipse/src/main/resources/mahout-pmd-ruleset.xml</ruleset>
            </rulesets>
            <sourceEncoding>UTF-8</sourceEncoding>
            <targetJdk>1.5</targetJdk>
            <linkXRef>false</linkXRef>
            <includeTests>true</includeTests>
            <verbose>true</verbose>
          </configuration>

        </plugin>
        <plugin>
          <groupId>org.apache.maven.plugins</groupId>
          <artifactId>maven-surefire-plugin</artifactId>
          <version>2.8.1</version>
        </plugin>
        <plugin>
          <groupId>org.apache.maven.plugins</groupId>
          <artifactId>maven-remote-resources-plugin</artifactId>
          <version>1.1</version>
          <configuration>
        <skipTests>${skipTests}</skipTests>
            <appendedResourcesDirectory>./src/main/appended-resources</appendedResourcesDirectory>
            <resourceBundles>
              <resourceBundle>org.apache:apache-jar-resource-bundle:1.4</resourceBundle>
            </resourceBundles>
            <supplementalModels>
              <supplementalModel>supplemental-models.xml</supplementalModel>
            </supplementalModels>
          </configuration>
        </plugin>
      </plugins>
    </pluginManagement>
    <plugins>
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-surefire-plugin</artifactId>
        <configuration>
          <forkMode>once</forkMode>
          <argLine>-Xms256m -Xmx512m</argLine>
          <testFailureIgnore>false</testFailureIgnore>
          <redirectTestOutputToFile>true</redirectTestOutputToFile>
        </configuration>
      </plugin>
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-remote-resources-plugin</artifactId>
        <inherited>false</inherited>
        <configuration>
          <resourceBundles>
            <resourceBundle>org.apache:apache-jar-resource-bundle:1.4</resourceBundle>
          </resourceBundles>
          <supplementalModels>
            <supplementalModel>supplemental-models.xml</supplementalModel>
          </supplementalModels>
        </configuration>
      </plugin>
      <plugin>
        <groupId>com.atlassian.maven.plugins</groupId>
        <artifactId>maven-clover2-plugin</artifactId>
        <version>2.6.3</version>
      </plugin>
    </plugins>
  </build>
  <modules>
    <module>buildtools</module>
    <module>eclipse</module>
    <module>math</module>
    <module>core</module>
    <module>taste-web</module>
    <module>examples</module>
    <module>utils</module>
    <module>distribution</module>
  </modules>
  <profiles>
    <profile>
      <id>fastinstall</id>
      <properties>
    <skipTests>true</skipTests>
        <pmd.skip>true</pmd.skip>
        <checkstyle.skip>true</checkstyle.skip>
      </properties>
    </profile>
    <profile>
      <id>nochecks</id>
      <properties>
        <pmd.skip>true</pmd.skip>
        <checkstyle.skip>true</checkstyle.skip>
      </properties>
    </profile>
    <profile>
      <!-- most of this profile lives in other places, like distribution -->
      <id>release.prepare</id>
      <properties>
        <skipTests>true</skipTests>
        <pmd.skip>true</pmd.skip>
        <checkstyle.skip>true</checkstyle.skip>
      </properties>
    </profile>
    <profile>
      <id>release</id>
      <properties>
        <skipTests>true</skipTests>
        <pmd.skip>true</pmd.skip>
        <checkstyle.skip>true</checkstyle.skip>
      </properties>
      <build>
        <plugins>
          <plugin>
            <inherited>true</inherited>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-source-plugin</artifactId>
            <executions>
              <execution>
                <id>attach-sources</id>
                <goals>
                  <goal>jar</goal>
                </goals>
              </execution>
            </executions>
          </plugin>
          <plugin>
            <inherited>true</inherited>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-javadoc-plugin</artifactId>
            <executions>
              <execution>
                <id>attach-javadocs</id>
                <goals>
                  <goal>jar</goal>
                </goals>
              </execution>
            </executions>
          </plugin>
          <plugin>
            <inherited>true</inherited>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-gpg-plugin</artifactId>
            <version>1.1</version>
            <executions>
              <execution>
                <goals>
                  <goal>sign</goal>
                </goals>
              </execution>
            </executions>
          </plugin>
        </plugins>
      </build>
    </profile>
    <profile>
      <id>sourcecheck</id>
      <build>
        <plugins>
          <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-compiler-plugin</artifactId>
            <configuration>
              <showDeprecation>true</showDeprecation>
              <showWarnings>true</showWarnings>
              <compilerArgument>${compile.flags}</compilerArgument>
            </configuration>
          </plugin>
          <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-checkstyle-plugin</artifactId>
          </plugin>
          <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-pmd-plugin</artifactId>
          </plugin>
        </plugins>
      </build>
    </profile>
    <profile>
      <id>set.eclipse.output</id>
      <properties>
        <eclipse.outputDirectory>${basedir}/eclipse-classes</eclipse.outputDirectory>
      </properties>
    </profile>
    <profile>
      <id>setup.eclipse</id>
      <build>
        <defaultGoal>process-test-sources</defaultGoal>
        <plugins>
          <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-eclipse-plugin</artifactId>
            <version>2.8</version>
            <executions>
              <execution>
                <id>setup.eclipse.project</id>
                <phase>process-test-sources</phase>
                <goals>
                  <goal>eclipse</goal>
                </goals>
              </execution>
            </executions>
          </plugin>
        </plugins>
      </build>
    </profile>
  </profiles>
  <scm>
    <connection>scm:svn:https://svn.apache.org/repos/asf/mahout/tags/mahout-0.5</connection>
    <developerConnection>scm:svn:https://svn.apache.org/repos/asf/mahout/tags/mahout-0.5</developerConnection>
    <url>https://svn.apache.org/repos/asf/mahout/tags/mahout-0.5</url>
  </scm>
  <distributionManagement>
    <site>
      <id>Website</id>
      <url>scp://people.apache.org/home/isabel/public_html/mahout_site</url>
    </site>
  </distributionManagement>
  <reporting>
    <plugins>
      <!-- surefire runs unit tests -->
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-surefire-report-plugin</artifactId>
        <version>2.8.1</version>
      </plugin>
      <!-- checkstyle -->
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-checkstyle-plugin</artifactId>
        <version>2.6</version>
        <configuration>
          <configLocation>${project.build.directory}/../../eclipse/src/main/resources/mahout-checkstyle.xml</configLocation>
          <consoleOutput>true</consoleOutput>
        </configuration>
      </plugin>
      <!-- test coverage plugin -->
      <plugin>
        <groupId>com.atlassian.maven.plugins</groupId>
        <artifactId>maven-clover2-plugin</artifactId>
        <version>2.6.3</version>
        <configuration>
          <generateHistorical>true</generateHistorical>
          <licenseLocation>buildtools/clover.license</licenseLocation>
          <generatePdf>false</generatePdf>
          <generateXml>true</generateXml>
          <generateHtml>true</generateHtml>
        </configuration>
      </plugin>
      <!-- generate java doc -->
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-javadoc-plugin</artifactId>
        <version>2.7</version>
      </plugin>
      <!-- code duplication - copy and paste detection -->
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-pmd-plugin</artifactId>
        <version>2.5</version>
        <configuration>
          <rulesets>
            <ruleset>../eclipse/src/main/resources/mahout-pmd-ruleset.xml</ruleset>
          </rulesets>
          <sourceEncoding>UTF-8</sourceEncoding>
          <targetJdk>1.5</targetJdk>
          <linkXRef>false</linkXRef>
          <includeTests>true</includeTests>
          <verbose>true</verbose>
        </configuration>
      </plugin>
[rest of pom omitted] 
```

你能帮我解决这个问题吗..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-05-28T23:56:45.187

我在 Maven setting.xml 中设置代理后解决了这个问题

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-11T03:00:18.447

我认为问题不在于 pom.xml - 它看起来像标准的 Mahout 0.5 之一。您需要解释您要在 Eclipse 中执行的操作。一般来说，要在 Eclipse 中使用 Maven 项目，您需要安装[M2Eclipse 插件](http://eclipse.org/m2e/)。然后在 Eclipse 中选择

```
File->Import->Maven->Existing Maven Project 
```

并选择文件系统上的 Mahout 项目。

我检查了 Mahout 0.5

```
svn checkout http://svn.apache.org/repos/asf/mahout/tags/mahout-0.5/ 
```

然后像我上面描述的那样导入到 Eclipse 中。我确实遇到了一些错误，但与您不同，例如

```
maven-dependency-plugin (goals "copy-dependencies", "unpack") is not supported 
by m2e. pom.xml /mahout-examples line 54 Maven Project Build Lifecycle Mapping 
Problem 
```

这是一个[已知问题](https://stackoverflow.com/questions/8706017/maven-dependency-plugin-goals-copy-dependencies-unpack-is-not-supported-b)，可以通过`<pluginManagement>`在`<plugins>`. `<build>`但是，这不是您描述的问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-07-14T10:07:34.220

在 Eclipse 中尝试以下步骤：

*   右键项目->Maven->更新项目
*   选中复选框“强制更新快照/发布”
*   单击确定。

[![在此处输入图像描述](../Images/89c12fc02f0c65d6293584deb467b3eb.png)](https://i.stack.imgur.com/YxvDi.png)

# ios - iOS 中的接触点坐标未正确映射

> ID：15060902
> 
> 赞同：2
> 
> 时间：2013-02-25T05:51:21.490
> 
> 标签：ios, objective-c

我正在尝试创建一个允许用户在图像上移动框架的应用程序，以便我可以在选定区域上应用一些效果。

我需要允许用户精确地拖动和缩放图像上的蒙版框架。我需要准确地说，就像任何其他照片应用程序一样。

我的策略是在触摸移动事件上获取用户的接触点，并相应地缩放我的框架。那很直观。我编写了以下代码来处理触摸移动事件：

```
-(void)touchesMoved:(NSSet *)touches withEvent:(UIEvent *)event
{

    UITouch *touch = [touches anyObject];
    CGPoint touchPoint = [touch locationInView:[self view]];

    float currX = touchPoint.x;
    float currY = touchPoint.y;

    /*proceed with other operations on currX and currY, 
      which is coming out quite well*/

} 
```

但唯一的问题是，`currX`和`currY`变量的坐标并不完全在它们应该在的位置。存在视差错误，不断从设备转移到设备。我还认为在 iPad 的情况下 x 和 y 坐标会被交换。

你能帮我弄清楚如何获得确切的触摸坐标吗？

我的背景图像在一个视图 ( `imageBG`) 中，而蒙版框架在一个单独的视图 ( `maskBG`) 中。我试过了：

```
CGPoint touchPoint = [touch locationInView:[maskBG view]]; 
```

和

```
CGPoint touchPoint = [touch locationInView:[imageBG view]]; 
```

...但同样的问题仍然存在。我还注意到 iPad 上的触摸错误比 iPhone 或 iPod 上的更严重。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-10T11:05:52.223

image.center = [[[event allTouches] anyObject] locationInView:self.view];

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-04-01T12:47:07.740

你试过这些：

```
-(void)touchesMoved:(NSSet *)touches withEvent:(UIEvent *)event
{
UITouch *touch = [touches anyObject];
CGPoint touchPoint = [touch locationInView:selectedImageView];

float currX = (touchPoint.x)/selectedImageView.frame.size.width;
float currY = (touchPoint.y)/selectedImageView.frame.size.height;

/*proceed with other operations on currX and currY,
 which is coming out quite well*/
} 
```

或者你也可以使用 UIPanGestureRecognizer..

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-25T06:17:01.747

您好，您的问题是图像和 iPhone 屏幕的宽高比不一定相同。您的触摸点可能无法正确转换为您的实际图像。

```
- (UIImage*) getCroppedImage {
    CGRect rect = self.movingView.frame;
    CGPoint  a;
    a.x=rect.origin.x-self.imageView.frame.origin.x;
    a.y=rect.origin.y-self.imageView.frame.origin.y;

    a.x=a.x*(self.imageView.image.size.width/self.imageView.frame.size.width);
    a.y=a.y*(self.imageView.image.size.height/self.imageView.frame.size.height);

    rect.origin=a;
    rect.size.width=rect.size.width*(self.imageView.image.size.width/self.imageView.frame.size.width);
    rect.size.height=rect.size.height*(self.imageView.image.size.height/self.imageView.frame.size.height);

    UIGraphicsBeginImageContext(rect.size);
    CGContextRef context = UIGraphicsGetCurrentContext();

    // translated rectangle for drawing sub image 
    CGRect drawRect = CGRectMake(-rect.origin.x, -rect.origin.y, self.imageView.image.size.width, self.imageView.image.size.height);

    // clip to the bounds of the image context
    // not strictly necessary as it will get clipped anyway?
    CGContextClipToRect(context, CGRectMake(0, 0, rect.size.width, rect.size.height));

    // draw image
    [self.imageView.image drawInRect:drawRect];

    // grab image
    UIImage* croppedImage = UIGraphicsGetImageFromCurrentImageContext();

    UIGraphicsEndImageContext();

    return croppedImage;
} 
```

这就是我为裁剪移动视图所做的操作，这是我为裁剪传递的矩形，看看它是如何被翻译以正确反映在图像上的。确保用户看到图像的图像视图是 aspectfit 内容模式。

注意：-**我使图像视图的矩形适合 aspectFit 图像**

用这个来做

```
- (CGSize)makeSize:(CGSize)originalSize fitInSize:(CGSize)boxSize
{
    widthScale = 0;
    heightScale = 0;

    widthScale = boxSize.width/originalSize.width;
    heightScale = boxSize.height/originalSize.height;

    float scale = MIN(widthScale, heightScale);

    CGSize newSize = CGSizeMake(originalSize.width * scale, originalSize.height * scale);

    return newSize;
} 
```

# android - 将 TextView 合并到 ImageView 之上 xml文件安卓

> ID：15060903
> 
> 赞同：0
> 
> 时间：2013-02-25T05:51:22.420
> 
> 标签：android

在我的应用程序中，我希望文本显示在图像视图上方，填充为 2 dp。但是当我运行程序时，textview 会覆盖图像。如何使用 <merge> </merge> 使图像在 textview 下面显示 2dp？

```
<?xml version="1.0" encoding="utf-8"?>
<merge xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_gravity="center_vertical|center_horizontal">

    <ImageView

        android:id="@+id/item_image"
        android:layout_width="253dp"
        android:layout_height="240dp"
        android:layout_gravity="center"
        android:scaleType="fitXY"
        android:src="@drawable/one_louisrossi" />

    <TextView

        android:id="@+id/title"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_marginLeft="@dimen/fourty_eight"
        android:layout_weight="1.30"
        android:gravity="center_horizontal"
        android:text="xxxxxx"
        android:textColor="@color/white"
        android:textSize="@dimen/eighteen"
        android:textStyle="bold" />

</merge> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T05:57:29.463

这取决于您从中包含合并的父容器视图。

由于您实际上有一个预期的布局，我建议您实际上从合并标签切换到线性布局或相对布局。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T05:59:01.847

为了使图像出现在下方而不是出现在上方，我建议使用线性布局。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-25T06:01:57.687

如果您希望在 ImageView 上使用 TextView，请使用`FrameLayout`或`RelativeLayout`。

FrameLayout 和RelativeLayout 的区别首先是视图层不同，所以子视图之间不交互

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-25T07:25:47.450

```
<ImageView

    android:id="@+id/item_image"
    android:layout_width="253dp"
    android:layout_height="240dp"
    android:layout_gravity="center"
    android:scaleType="fitXY"
    android:src="@drawable/one_louisrossi"
    android:layout_below="@+id/title"
/>

<TextView

    android:id="@+id/title"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:layout_marginLeft="@dimen/fourty_eight"
    android:layout_weight="1.30"
    android:gravity="center_horizontal"
    android:text="xxxxxx"
    android:textColor="@color/white"
    android:textSize="@dimen/eighteen"
    android:textStyle="bold"
/> 
```

# asp.net-mvc - 将字符串数组参数传递给 MVC 控制器

> ID：15060905
> 
> 赞同：2
> 
> 时间：2013-02-25T05:51:56.697
> 
> 标签：asp.net-mvc, arrays, asp.net-mvc-3, parameters, controller

我有以下控制器来获取四个参数和一个获取字符串数组。

```
public Response Get(string a, double b, double c, string[] d)
{
   do something
} 
```

如您所见，第四个（d）参数是一个字符串数组。前 3 个参数获取值，但 d 显示为空。

我正在使用提琴手通过以下网址进行调试

```
04/api/Controller?a=Hello&b=-37.8031231&c=144.9836514&d=Italian&d=bars 
```

我做错了什么？是网址吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T05:54:45.890

在没有看到您的视图的情况下，我可以抽象出您将 2 个输入命名为 name='d' 而无需索引

例子：

您可以通过使用数组索引命名您的 id 输入来创建数组。

```
@using (Html.BeginForm())
{
    <input type="text" name="d[1]">
    <input type="text" name="d[2]">
} 
```

如果您索引输入，框架会将它们用作列表

**注意：** 你调出 URL。没有 Post 就不能传递数组或任何复杂对象。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-25T06:57:55.903

您可以从提琴手发布数组数据，您提供的 URL 是正确的。但请确保您在请求标头中具有正确的**内容类型。**

您不必创建视图来测试您的控制器操作方法。

**客户要求**

![在此处输入图像描述](../Images/cc49f2b2e4b1106a093a5cb8336129db.png)

**服务器响应**

![在此处输入图像描述](../Images/19122d1ac2faa8c8344f7b7f0ad9d9cb.png)

PS 以上提供的是控制器操作方法，我注意到您在发布答案后正在使用 api 控制器。为 api 控制器完成后，我将编辑答案。

**以上也适用于 APIController，如果您是从提琴手发帖**

# python - 如何简化我的 Python 程序？

> ID：15060910
> 
> 赞同：0
> 
> 时间：2013-02-25T05:53:06.570
> 
> 标签：python, loops

我正在尝试我在互联网上发现的这个复利问题：

A=P(1+r) n，其中 P 是投资金额，r 是年利率（小数点 5.0%=0.050），n 是投资年数。

3 个代表投资、费率和条款的列表

```
investment = [10000.00, 10000.00, 10000.00, 10000.00, 1.00]
rate = [5.0, 5.0, 10.0, 10.0, 50.00] 
term = [20, 40, 20, 40, 40] 
```

我像这样编写了我的程序，但我觉得与其像以前那样写出所有内容，我可以使用称为循环的东西，但我不确定如何正确使用 for 循环，因为每次我这样做时，我都搞砸了：

```
rateindecimal = [int(rate[0])/100.0, int(rate[1])/100.0, int(rate[2])/100.0), int(rate[3])/100.0, int(rate[4])/100.0] 
```

我将百分比转换为小数，但我怎样才能使用循环来运行比率列表并轻松转换呢？

然后我做了这个。我觉得它太重复了，再一次，我觉得我需要一个循环，但我不太擅长使用一个......

```
A1 = int(Investment[0]) * (1 + ratedecimal[0])**int(term[0])
A2 = int(Investment[1]) * (1 + ratedecimal[1])**int*term[1]) 
```

ETC...

```
print "$" + str(round(A1, 2))
print "$" + str(round(A2, 2)) 
```

等等。

如果这真的很长，我很抱歉。我只想知道如何循环遍历所有内容，这样我就不必如此重复。

谢谢！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-25T05:56:26.087

使用`zip()`将它们压缩在一起，然后`.format()`输出：

```
for investment, rate, term in zip(investments, rates, terms):
    A = investment * (1 - rate / 100) ** term

    print '${0:.02f}'.format(A) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T06:00:04.403

为什么不尝试以下基本方法，这是在 python 中循环的最简单方法之一：

```
A = list()
# The following will execute the body of the loop for all numbers from 0 to the number
# of items in investment - 1\. So in your case i = 0 to 4
for i in range(len(investment)):
   rateindecimal = int(rate[i])/100
   A.append(int(investment[i]) * (1 + ratedecimal)**int(term[i]))
   print "$", str(round(A,2)) 
```

我不确定舍入，因为我认为因为你经常使用 int() ，所以不会有浮点数来舍入......也许你应该尝试 float() 。

有关 python 中 for 循环的更多信息，请查看[此链接](http://docs.python.org/2/tutorial/controlflow.html)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-25T05:55:00.023

```
 Alist = [int(Investment[i]) * (1 + ratedecimal[i])*int(term[i]) for i in range(0,len(investment)] 
```

这将给出一个列表，其中包含您想要的 A1、A2、A3..etc

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-25T06:04:47.370

这里有一些循环可以满足我的需要。

```
investment = [10000.00, 10000.00, 10000.00, 10000.00, 1.00]
rate = [5.0, 5.0, 10.0, 10.0, 50.00] 
term = [20, 40, 20, 40, 40]

# this is how I would use a loop in your first problem
rateindecimal = list()
for i in range(0, len(rate)):
    rateindecimal.append(int(rate[i])/100.0)

# this is how i'd solve your second problem
a = list()
for i in range(0, len(investment)):
    a.append(int(investment[i]) * (1 + rateindecimal[i])**int(term[i]))

# then a loop for the printing
for result in a:
    # print "${0}".format(str(round(result, 2)))
    print '$%.3f' % round(result, 2) 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-25T07:32:08.707

对于像这样的基本问题，我认为最好保持代码简单。简单的代码易于阅读和理解，并且易于编写。

这是一个使用三个嵌套`for`循环的解决方案：

```
lst_investment_amt = [10000.00, 10000.00, 10000.00, 10000.00, 1.00]
lst_rate = [5.0, 5.0, 10.0, 10.0, 50.00]
lst_term = [20, 40, 20, 40, 40]

for amt in lst_investment_amt:
    for rate in lst_rate:
        for term in lst_term:
            r = 1.0 + (rate / 100.0)
            final = amt * r**term
            print("amt: $%6d\trate: %2.1f\tterm: %2d\tfinal: %15.2f" %
                (int(amt), rate, term, final))
    print('') # insert blank line to set off previous amount from next one 
```

请注意，因为我们有三个实际的嵌套循环，所以我能够添加一个`print('')`语句来打印一个空行，以将每个金额与每个下一个金额分开。

Python 有一些非常巧妙的特性：列表推导、生成器表达式、`zip()`. 但是对于这么简单的问题，我真的认为上面的代码是要走的路。

请注意我在这里如何使用`%`格式代码。当您执行这样的代码时，`%6.2f`意味着“打印一个浮点值，其中总值将为 6 个字符长，小数点后将有两位数”。小数点算作一个字符，所以这将是一个格式为 的`123.45`数字，小数点前三位，小数点后两位。如果数字太大（例如，`100000.55`），则允许超出 6 个字符的限制，但如果数字太小（例如，`1.0`），则会用空格填充。

还要注意我使用`\t`将制表符放在打印输出中，以分隔值并使事物垂直排列。

像这样带有嵌套循环的代码和带有格式代码的打印语句，可以在 C 语言、C++ 和各种其他语言以及 Python 中使用。

# php - “从多维数组中的特定键”获取值并放入数组

> ID：15060918
> 
> 赞同：-1
> 
> 时间：2013-02-25T05:53:32.410
> 
> 标签：php, arrays, multidimensional-array

我有一个由带有中继器的表单创建的大型数组，因此该数组可以无限大。我需要：

*   1\. 搜索数组
*   2.获取[field_18]的所有值
*   3\. 输出一个包含所有值的数组（'-5', '-1', ect ）

```
Array
(
[field_22] => Mid-Distance Free
[field_25] => Array
    (
        [0] => 1
    )

[field_23] => Its a freestyle workout
[field_6] => Array
    (
        [0] => Array
            (
                [field_7] => 1
                [field_8] => 0
                [field_9] => 0
                [field_10] => Array
                    (
                        [0] => Array
                            (
                                [field_11] => 6
                                [field_12] => 50
                                [field_13] => jumping jacks
                                [field_14] => 
                            )

                        [1] => Array
                            (
                                [field_11] => 2
                                [field_12] => 20
                                [field_13] => pushups
                                [field_14] => 
                            )

                        [acfcloneindex] => Array
                            (
                                [field_11] => 1
                                [field_12] => 1
                                [field_13] => pushups
                                [field_14] => 
                            )

                    )

            )

        [acfcloneindex] => Array
            (
                [field_7] => 1
                [field_8] => 0
                [field_9] => 0
                [field_10] => Array
                    (
                        [acfcloneindex] => Array
                            (
                                [field_11] => 1
                                [field_12] => 1
                                [field_13] => pushups
                                [field_14] => 
                            )

                    )

            )

    )

[field_17] => Array
    (
        [0] => Array
            (
                [field_7] => 1
                [field_8] => 0
                [field_9] => 0
                [field_10] => Array
                    (
                        [0] => Array
                            (
                                [field_11] => 5
                                [field_12] => 100
                                [field_13] => Freestyle
                                [field_14] => Descend 1-5
                                [field_18] => 5
                            )

                        [1] => Array
                            (
                                [field_11] => 10
                                [field_12] => 50
                                [field_13] => Drill
                                [field_14] => Choice
                                [field_18] => 5
                            )

                        [2] => Array
                            (
                                [field_11] => 1
                                [field_12] => 400
                                [field_13] => Freestyle
                                [field_14] => Negative Split
                                [field_18] => -20
                            )

                        [acfcloneindex] => Array
                            (
                                [field_11] => 1
                                [field_12] => 25
                                [field_13] => Butterfly
                                [field_14] => 
                                [field_18] => 
                            )

                    )

            )

        [acfcloneindex] => Array
            (
                [field_7] => 1
                [field_8] => 0
                [field_9] => 0
                [field_10] => Array
                    (
                        [acfcloneindex] => Array
                            (
                                [field_11] => 1
                                [field_12] => 25
                                [field_13] => Butterfly
                                [field_14] => 
                                [field_18] => 
                            )

                    )

            )

    )

[field_19] => Array
    (
        [0] => Array
            (
                [field_7] => 1
                [field_8] => 0
                [field_9] => 1
                [field_10] => Array
                    (
                        [0] => Array
                            (
                                [field_11] => 20
                                [field_12] => 100
                                [field_13] => Freestyle
                                [field_14] => Hold 500 race pace
                                [field_18] => -5
                            )

                        [1361771245813] => Array
                            (
                                [field_11] => 1
                                [field_12] => 75
                                [field_13] => Butterfly
                                [field_14] => 
                                [field_18] => 
                            )

                        [acfcloneindex] => Array
                            (
                                [field_11] => 1
                                [field_12] => 125
                                [field_13] => Butterfly
                                [field_14] => 
                                [field_18] => 
                            )

                    )

            )

        [acfcloneindex] => Array
            (
                [field_7] => 
                [field_8] => 0
                [field_9] => 0
                [field_10] => Array
                    (
                        [acfcloneindex] => Array
                            (
                                [field_11] => 1
                                [field_12] => 25
                                [field_13] => Butterfly
                                [field_14] => 
                                [field_18] => 
                            )

                    )

            )

    )

[field_21] => Array
    (
        [acfcloneindex] => Array
            (
                [field_7] => 
                [field_8] => 0
                [field_9] => 0
                [field_10] => Array
                    (
                        [acfcloneindex] => Array
                            (
                                [field_11] => 
                                [field_12] => 25
                                [field_13] => Butterfly
                                [field_14] => 
                                [field_18] => 
                            )

                    )

            )

    )

) 
```

我试图遍历所有的键，但不知道从那里去哪里。这是我使用的代码。

```
function array_keys_multi(array $array)
{
$keys = array();

foreach ($array as $key => $value) {
    $keys[] = $key;

    if (is_array($array[$key])) {
        $keys = array_merge($keys, array_keys_multi($array[$key]));
    }
}

return $keys;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T06:02:26.257

您可以使用[array_walk_recursive](http://php.net/manual/en/function.array-walk-recursive.php)

```
$array = array(/*some data*/);
$result = array();
$search_key = 'field_18';
array_walk_recursive($array, function($item, $key)use($search_key, &$result){
if ($search_key == $key)
  $result[]=$item;
});
$search_values = array('-5', '-1');
$result2 = array();
array_walk_recursive($array, function($item, $key)use($search_values, &$result2){
if (is_array($item) && array_intersect($item, $search_values))
  $result2[]=$item;
}); 
```

PS代码未经测试，只是一个想法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T06:13:54.820

试试这个 ：

```
function array_key_exists_r($needle, $haystack)
{
    //$result  = array();
    global $result;
    if(is_array($haystack)){
        foreach ($haystack as $key=>$v) {
            if (is_array($v)) {
                array_key_exists_r($needle, $v);
            }
            else{
                if($key == $needle){
                   $result[] = $v;
                }
            }
        }
    }

    return $result;
}

echo "<pre>";
print_r(array_key_exists_r("field_18", $your_array)); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-25T06:14:24.443

由于您声称使用 array_walk 的数组可能非常大，因此可能很危险。如果您使用的是 php 5.5，您可以构建一个简单的 foreach 循环并产生相应的值。这样，消费函数可以根据需要获取尽可能多的条目。

# ios - 滚动时如何保持 UICollectionViewCells 的背景颜色不变？

> ID：15060922
> 
> 赞同：1
> 
> 时间：2013-02-25T05:53:55.517
> 
> 标签：ios, objective-c, uicollectionview

我`UICollectionView`的单元格`contentview`在加载时具有白色背景色。`contentview`假设布尔值`(isSplitting)`设置为 ，用户可以通过选择单元格将单元格的背景颜色更改为青色`YES`。

![在此处输入图像描述](../Images/f3da6ca3b4921ed42560a8ba5751ec3c.png)

当我有更多单元格然后适合屏幕并且用户选择了单元格并因此将其内容视图的背景颜色更改为青色时，我的问题就出现了。

我有一些实例，青色的单元格被滚动到视野之外，而当滚动回来时是白色的。我还有一些实例，其中非青色的单元格被滚动到视图中并且是青色的。

我知道当加载到不同的`indexpath`.

我已经解决了在滚动到视图时未选择的单元格变成青色的问题。但是，我无法解决某些选定单元格在滚动进出视图时会失去青色的问题。

这是我目前的逻辑`cellForItemAtIndexPath`。

```
if (!isSplitting) {
        cell.contentView.backgroundColor = [UIColor whiteColor];
    }
    else{
        for (NSIndexPath *collectionIndexPath in [self.myCollectionView indexPathsForSelectedItems]) {
            if (indexPath == collectionIndexPath) {
                cell.contentView.backgroundColor = [UIColor cyanColor];
                break;
            }
            else{
                cell.contentView.backgroundColor = [UIColor whiteColor];
            }
        }
    } 
```

我知道确实选择了正确的单元格，因为使用上述相同 for 循环的另一个操作会产生所需的结果。如果我选择前几个项目（将它们变为青色），向右滚动并选择第 10 个项目，逻辑似乎崩溃了。当我向左滚动时，第一对仍然是青色，但在再次向右滚动时，第 10 个又回到了白色。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T06:22:02.277

使用 isEqual: 比较 indexPaths 而不是 ==

```
if ([indexPath isEqual:collectionIndexPath]) { 
```

# javascript - Facebook Javascript SDK 和 Graph API 的区别

> ID：15060923
> 
> 赞同：1
> 
> 时间：2013-02-25T05:53:58.183
> 
> 标签：javascript, facebook, facebook-graph-api

我是 facebook API 的新手。我基本上想知道javascript sdk和graph API之间的区别。调用这些 API 有什么限制吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T07:40:54.123

[https://developers.facebook.com/docs/](https://developers.facebook.com/docs/)是一个很好的开始。

[Javascript SDK](https://developers.facebook.com/docs/reference/javascript/)是 Facebook 提供的用于与 Facebook 交互的 SDK。

[Graph API](https://developers.facebook.com/docs/getting-started/graphapi/)是获取数据进出 Facebook 的主要方式，它可以与任何可用的 SDK 一起使用。

最好从 FB 可用的以下文档开始，并在那里闲逛以基本了解 FB 应用程序的工作原理。

在发布基本问题之前，请尝试谷歌搜索或在 stackoverflow 中搜索。

# javascript - 分别提取带有文本的锚标记

> ID：15060924
> 
> 赞同：0
> 
> 时间：2013-02-25T05:53:59.533
> 
> 标签：javascript, html

我在 JavaScript 中，我想分别从我的锚标记和锚文本中提取链接。即我有以下锚标签。

```
<a href="http://www.defconpaintball.com/hiring">Learn More</a> 
```

我想在单独的变量中获取“href”，在单独的变量中获取文本“了解更多”。我怎么能做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-25T05:58:59.220

试试这个

```
 anchor.getAttribute("href") 
```

或者

```
<a  href="relativeURL" >
var link = element.a.getAttribute('href') 
```

编辑：我已经更新了代码，尝试一下

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-25T05:58:50.930

给它一个id

```
<a id="myLink" href="http://www.defconpaintball.com/hiring">Learn More</a> 
```

这是一个[小提琴](http://jsfiddle.net/Ms7bc/1/)，你可以玩。

```
var anchor = document.getElementById("myLink");

alert(anchor.getAttribute("href")); // Extract link

alert(anchor.innerHTML); // Extract Text 
```

* * *

编辑：

不知道是什么阻止您解析整个内容。

这样的事情就足够了：

```
var anchors = document.getElementsByTagName("a");

for(var i in anchors) 
    if(anchors[i].innerHTML=="Learn More") 
        alert(anchors[i].getAttribute("href")); 
```

这是另一个[小提琴](http://jsfiddle.net/Ms7bc/2/)。

# php - 向 foreach 创建的数组添加键而不添加所有值

> ID：15060930
> 
> 赞同：0
> 
> 时间：2013-02-25T05:54:49.383
> 
> 标签：php, foreach

```
foreach($_POST['door_check'] as $door_check) 
{
    $_SESSION['front_door']['door'] = $door_check;
} 
```

我有一小段代码检查选中了多少个框，然后创建一个复选框值数组。

问题是，当我添加那个“门”键时，无论选中多少个复选框，数组都只会添加一个值。当我把它留空时，它会添加所有这些，如 [0]、[1]、[2] 等

为什么是这样？，

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-25T05:57:34.273

您的`foreach()`循环每次都会覆盖旧变量。例如，您需要将会话变量设为数组

```
foreach($_POST['door_check'] as $door_check) 
{
    $_SESSION['front_door']['door'][] = $door_check;
} 
```

*编辑*：当您保存以供以后使用时，不要忘记验证该数据。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-25T05:57:42.560

尝试这样的事情：

```
foreach($_POST['door_check'] as $door_check) {
    $_SESSION['front_door']['door'][] = $door_check;
} 
```

甚至可能：

```
$_SESSION['front_door']['door'] = $_POST['door_check']; 
```

# android - 在 ICS 中接收启动完整意图？

> ID：15060938
> 
> 赞同：-1
> 
> 时间：2013-02-25T05:55:38.010
> 
> 标签：android, android-4.0-ice-cream-sandwich, boot

我有一个在 ICS 中启动服务的广播接收器。我没有与代码相关的活动。我面临的问题是我无法在接收器中接收到 BOOT COMPLETED 广播。是否有解决方案？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T05:59:41.540

在较新版本的 Android 中，用户必须至少手动启动一次应用程序，然后才能运行任何后台内容，因此您将需要一个 Activity。

# spring - Hibernate onetomany和manytoone关系删除父表记录。？

> ID：15060939
> 
> 赞同：0
> 
> 时间：2013-02-25T05:55:39.487
> 
> 标签：spring, hibernate

我有两张桌子

**1\. 项目 2\. 参与者**

那些模型作为下..

```
@Entity
@Table(name="projects")
public class Projects implements java.io.Serializable {

        private static final long serialVersionUID = 1L;

        @Id
        @GeneratedValue(strategy = GenerationType.AUTO)
        @Column(name="project_id")
        @OneToMany(mappedBy="projects",cascade=CascadeType.ALL)
        private int project_id;

            .... set and get .....

}

@Entity
@Table(name="participants")
public class Team {

    @Id
    @GeneratedValue(strategy = GenerationType.AUTO)
    private int id;

    @ManyToOne
    @JoinColumn(name="project_id",insertable=true,updatable=true)
    private Projects projects;

    .... set and get .........   

} 
```

当我尝试删除项目（记录表单项目表）时，它会产生类似的错误

例外

```
org.springframework.web.util.NestedServletException: Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: Could not execute JDBC batch update; SQL [delete from projects where project_id=?]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: Could not execute JDBC batch update
    org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:656)
    org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:549)
    javax.servlet.http.HttpServlet.service(HttpServlet.java:621)
    javax.servlet.http.HttpServlet.service(HttpServlet.java:728)

root cause

org.springframework.dao.DataIntegrityViolationException: Could not execute JDBC batch update; SQL [delete from projects where project_id=?]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: Could not execute JDBC batch update
    org.springframework.orm.hibernate3.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:637)
    org.springframework.orm.hibernate3.HibernateTransactionManager.convertHibernateAccessException(HibernateTransactionManager.java:793)
    org.springframework.orm.hibernate3.HibernateTransactionManager.doCommit(HibernateTransactionManager.java:664)
    org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:754)
    org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:723)
    org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:393)
    org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:120)
    org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)
    org.springframework.aop.framework.Cglib2AopProxy$DynamicAdvisedInterceptor.intercept(Cglib2AopProxy.java:621)
    com.teamlab.projects.projectsdaos.ProjectsDAO$$EnhancerByCGLIB$$8f66f0b5.deleteProject(<generated>)
    com.teamlab.projects.projectscontrollers.ProjectsController.deleteProject(ProjectsController.java:272)
    sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
    sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    java.lang.reflect.Method.invoke(Method.java:616)
    org.springframework.web.bind.annotation.support.HandlerMethodInvoker.invokeHandlerMethod(HandlerMethodInvoker.java:176)
    org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter.invokeHandlerMethod(AnnotationMethodHandlerAdapter.java:426)
    org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter.handle(AnnotationMethodHandlerAdapter.java:414)
    org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:790)
    org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:719)
    org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:644)
    org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:549)
    javax.servlet.http.HttpServlet.service(HttpServlet.java:621)
    javax.servlet.http.HttpServlet.service(HttpServlet.java:728)

root cause

org.hibernate.exception.ConstraintViolationException: Could not execute JDBC batch update
    org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:94)
    org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:66)
    org.hibernate.jdbc.AbstractBatcher.executeBatch(AbstractBatcher.java:275)
    org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:266)
    org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:172)
    org.hibernate.event.def.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:321)
    org.hibernate.event.def.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:50)
    org.hibernate.impl.SessionImpl.flush(SessionImpl.java:1028)
    org.hibernate.impl.SessionImpl.managedFlush(SessionImpl.java:366)
    org.hibernate.transaction.JDBCTransaction.commit(JDBCTransaction.java:137)
    org.springframework.orm.hibernate3.HibernateTransactionManager.doCommit(HibernateTransactionManager.java:656)
    org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:754)
    org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:723)
    org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:393)
    org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:120)
    org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)
    org.springframework.aop.framework.Cglib2AopProxy$DynamicAdvisedInterceptor.intercept(Cglib2AopProxy.java:621)
    com.teamlab.projects.projectsdaos.ProjectsDAO$$EnhancerByCGLIB$$8f66f0b5.deleteProject(<generated>)
    com.teamlab.projects.projectscontrollers.ProjectsController.deleteProject(ProjectsController.java:272)
    sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
    sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    java.lang.reflect.Method.invoke(Method.java:616)
    org.springframework.web.bind.annotation.support.HandlerMethodInvoker.invokeHandlerMethod(HandlerMethodInvoker.java:176)
    org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter.invokeHandlerMethod(AnnotationMethodHandlerAdapter.java:426)
    org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter.handle(AnnotationMethodHandlerAdapter.java:414)
    org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:790)
    org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:719)
    org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:644)
    org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:549)
    javax.servlet.http.HttpServlet.service(HttpServlet.java:621)
    javax.servlet.http.HttpServlet.service(HttpServlet.java:728)

root cause

java.sql.BatchUpdateException: Cannot delete or update a parent row: a foreign key constraint fails (`db`.`participants`, CONSTRAINT `FK89FFF7A0E8575C5C` FOREIGN KEY (`project_id`) REFERENCES `projects` (`project_id`))
    com.mysql.jdbc.PreparedStatement.executeBatchSerially(PreparedStatement.java:2018)
    com.mysql.jdbc.PreparedStatement.executeBatch(PreparedStatement.java:1449)
    org.hibernate.jdbc.BatchingBatcher.doExecuteBatch(BatchingBatcher.java:70)
    org.hibernate.jdbc.AbstractBatcher.executeBatch(AbstractBatcher.java:268)
    org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:266)
    org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:172)
    org.hibernate.event.def.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:321)
    org.hibernate.event.def.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:50)
    org.hibernate.impl.SessionImpl.flush(SessionImpl.java:1028)
    org.hibernate.impl.SessionImpl.managedFlush(SessionImpl.java:366)
    org.hibernate.transaction.JDBCTransaction.commit(JDBCTransaction.java:137)
    org.springframework.orm.hibernate3.HibernateTransactionManager.doCommit(HibernateTransactionManager.java:656)
    org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:754)
    org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:723)
    org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:393)
    org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:120)
    org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)
    org.springframework.aop.framework.Cglib2AopProxy$DynamicAdvisedInterceptor.intercept(Cglib2AopProxy.java:621)
    com.teamlab.projects.projectsdaos.ProjectsDAO$$EnhancerByCGLIB$$8f66f0b5.deleteProject(<generated>)
    com.teamlab.projects.projectscontrollers.ProjectsController.deleteProject(ProjectsController.java:272)
    sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
    sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    java.lang.reflect.Method.invoke(Method.java:616)
    org.springframework.web.bind.annotation.support.HandlerMethodInvoker.invokeHandlerMethod(HandlerMethodInvoker.java:176)
    org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter.invokeHandlerMethod(AnnotationMethodHandlerAdapter.java:426)
    org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter.handle(AnnotationMethodHandlerAdapter.java:414)
    org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:790)
    org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:719)
    org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:644)
    org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:549)
    javax.servlet.http.HttpServlet.service(HttpServlet.java:621)
    javax.servlet.http.HttpServlet.service(HttpServlet.java:728) 
```

请帮我怎么解决？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T10:13:25.600

您在子记录中使用了 ParentId。所以你不能直接删除父记录（即项目表）而不删除其他表中的子记录（即参与者）。这里 project_Id 是子表的 forenKey。

# html - 试图通过 CSS 强制 DIV 具有水平滚动条

> ID：15060942
> 
> 赞同：8
> 
> 时间：2013-02-25T05:55:58.913
> 
> 标签：html, css, scrollbar

我正在尝试制作一个以缩略图为特色的 div，使其具有设定的宽度（330 像素）和设定的高度（100 像素），并使其内容水平排列，以便使用水平滚动条来查看内容。

请查看我网站右下角的缩略图行：http: [//stevenlloydarchitecture.co.nz/building.html](http://stevenlloydarchitecture.co.nz/building.html)

我想让它只显示四个缩略图，然后水平滚动以查看其他缩略图。

但是，当我尝试指定宽度时，缩略图会相互移动（如当前显示的那样）。我尝试制作一个父 Div（在我的示例中使用 id “slider”）来设置宽度和高度，并尝试了尽可能多的指定宽度、高度和溢出到 div 的组合，以期强制水平滚动但没有工作，我完全被难住了。提前感谢您的任何提示。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-02-25T06:02:26.290

您可以将以下样式添加到`#slider`div 以仅获取滚动图像的水平滚动条。之后，它只是调整大小和定位`div`. 该`white-space: nowrap`属性告诉图像不要换行到下一个“行”。

```
#slider {
    overflow-x: scroll;
    overflow-y: hidden;
    white-space: nowrap;
}

#thumbset {
    overflow: visible;
} 
```

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2013-02-25T06:07:00.617

您可以尝试以下 css ：

```
#slider  {
width: 330px;
overflow-x: scroll;
overflow-y: hidden;
}

#thumbset {
width: 550px;// whatever width you want
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-08-12T14:13:35.707

使用此代码：

```
<div style="width: 300px; height: 40px; border: 1px solid black; overflow: auto; white-space: nowrap; font-size: 14px">
  Here's a random text .............
</div> 
```

看看这段代码在这个小提琴中是如何工作的，这是一个简单的方法：[添加水平滚动条](http://jsfiddle.net/GCPDE/)

# r - R 文档，如何在数学模式、eqn 或 deqn 中设置粗体字符？

> ID：15060950
> 
> 赞同：5
> 
> 时间：2013-02-25T05:57:23.733
> 
> 标签：r, latex, rstudio

我想在 R 文档中将 (x_1, x_2, \dots, x_n) 设置为粗体。我写

`\deqn(\bold{x}_1, \bold{x}_2, \ldots, \bold{x}_n)`,

但是当 Rstudio 显示文档的 HTML 预览时，x 不是粗体，并且 \bold{x} 在 HTML 帮助页面中显示。其他乳胶数学大胆的生产者，如`\boldsymbol`，，也没有成功。`\mathbf``\boldmath`

那么，在数学模式中将字符设置为粗体的正确命令是什么？

谢谢，

PS当我申请`\mathbf`并且`\boldsymbol`pdf构造文档中的字符x变成粗体时，但是HTML帮助页面怎么样？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-26T21:27:19.767

注意：它是 \deqn{ .. } 但你使用了 '(...)'。

但是随后，**文档**（每个版本的 R 附带的“编写 R 扩展”手册，也可在 CRAN / [r-project.org](http://www.r-project.org "R 项目门户")上获得）解释说 \deqn 和 \eqn 都用于布局纯 LaTeX*并*可能给出（作为第二个参数）相应公式的文本版本。

因此，\bold 是不合适的：它是 Rd 语言而不是 LaTeX。您是否尝试过 \mathbf{} .. 因为那是（纯）LaTeX 方式？

HTML 在概念上介于 LaTeX 和简单文本（= (d)eqn 的两个参数）之间。在 R 内部（和外部），有更好的 HTML 渲染此类数学方程式的努力和实验。如果您想询问我们的计划（（我没有参与其中）），请询问 R-help 或 R-devel（邮件列表！）。

顺便说一句：我非常不同意 HW 的观点，即您不应该关心参考手册的 PDF 版本。具有数学头脑的作者和读者（有一些经验）非常感谢帮助页面/参考手册的 PDF 版本的漂亮（公式）。是的，在很大程度上，这是一个品味问题。我确实更喜欢精心编写和布局的参考资料，而不是那些仅因为“R CMD check”需要而编写的帮助页面；-)

# html - 如何使复选框和标签出现在同一行？

> ID：15060955
> 
> 赞同：1
> 
> 时间：2013-02-25T05:57:48.620
> 
> 标签：html, css

我有以下 HTML：

```
<li>
   <label for="RememberMe" class="checkbox remember-me">Remember me?</label>

   <input type="checkbox" value="true" name="RememberMe">
   <input type="hidden" value="false" name="RememberMe">
</li> 
```

用于此的 CSS 如下：

```
.form label, .form .label {
    display: block;
    margin-bottom: 0.5em;
    margin-top: 0.5em;
}

form input[type="radio"], form input[type="checkbox"] {
    margin-left: 0.5em;
    margin-top: 0.5em;
    padding: 0;
} 
```

我的问题是“记住我”字样出现在一行上，而复选框出现在其下方。

我怎样才能使复选框出现在“记住我”字样的左侧。我需要使用float：left还是使标签不显示为disply：block？

**更新：**

感谢所有的建议。我无法真正更改我的应用程序的主 CSS。我是否可以使用一些特定的 CSS 进行更改，例如：

```
label.remember-me {

}

input#RememberMe {

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-25T05:59:04.927

标签的显示属性应该是`inline-block`。[您可以在此处](http://www.quirksmode.org/css/display.html)阅读有关显示选项的更多信息。

```
.form label, .form .label {
    display: inline-block;
    margin-bottom: 0.5em;
    margin-top: 0.5em;
} 
```

演示：[小提琴](http://jsfiddle.net/arunpjohny/YxWAq/)

更新：

```
.form label.remember-me{
    display: inline-block;
} 
```

演示：[小提琴](http://jsfiddle.net/arunpjohny/YxWAq/2/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-25T05:59:41.047

你`Display:Block`在`label`css中使用的是问题所在。
删除它，它会工作。

左侧的复选框。

```
<li>   
<input type="checkbox" value="true" name="RememberMe"/>
<label for="RememberMe" class="checkbox remember-me">Remember me?</label>
<input type="hidden" value="false" name="RememberMe"/>
</li> 
```

看[小提琴](http://jsfiddle.net/VBG6B/2/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-25T06:03:59.897

```
.form label, .form .label {
    margin-bottom: 0.5em;
    margin-top: 0.5em;
}

form input[type="radio"], form input[type="checkbox"] {
    margin-left: 0.5em;
    margin-top: 0.5em;
    padding: 0;
}

<input type="checkbox" value="true" name="RememberMe">
<input type="hidden" value="false" name="RememberMe">
<label for="RememberMe" class="checkbox remember-me">Remember me?</label> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-25T06:04:36.433

应该是这样的：它将显示`checkbox`在左侧和`remember me?`右侧。

```
<form>
    <li>
       <input type="checkbox" value="true" name="RememberMe">
       <label for="RememberMe" class="checkbox remember-me">Remember me?</label>
       <input type="hidden" value="false" name="RememberMe">
    </li>
</form> 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-25T06:05:10.110

从表单标签中删除显示：块，并放入'float：left;' 在输入复选框上。

你是在使用 class .label 还是一个错误，

您可以通过以下方式进行更新：

```
 label .remember-me {
    margin-bottom: 0.5em;
    margin-top: 0.5em;
  }

 input[name=RememberMe] {
    margin-left: 0.5em;
   margin-top: 0.5em;
   padding: 0;
   float:left;
   clear:left;
 } 
```

您可能必须使用 !important 或父 #id 作为 DOM 中可用的附加选择器点。

# r - 将 r 包移动到没有互联网的新计算机

> ID：15060956
> 
> 赞同：14
> 
> 时间：2013-02-25T05:57:56.100
> 
> 标签：r, installation

通常我使用以下方式安装软件包：

```
install.packages("foo") 
```

和互联网上的回购。但是我现在有一台新机器，我想从我现有的安装中复制这些包，而不必再次从互联网上删除所有内容。（我有很多包裹和缓慢的互联网访问）

两台机器都是 Windows 并运行相同的 R 版本。(2.13.1)

有没有办法做到这一点？我能得到的最接近的是我知道我可以使用以下方法从本地 zip 文件安装：

```
install.packages("pathtozip", repos = NULL) 
```

但是 R 是否将所有 Zips 存储在某个地方？我在以下位置找到了一些：

```
C:\Documents and Settings\foouser\Local Settings\Temp\RtmpjNKkyp\downloaded_packages 
```

但不是所有的。

有小费吗？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-02-25T06:25:39.060

该函数`.libPaths`将为您提供机器上所有库的向量。在您的旧机器上运行它以找到所有这些。您可以简单地将所有这些文件复制到新机器上的库中（也可以`.libPaths`在其上运行以找出位置）。

或者，如果您想在您的计算机或可以更新的网络驱动器上设置一个真正的存储库（即基本上是一个 CRAN 镜像），您可以将二进制或源程序包放入一个文件夹并`tools::write_PACKAGES`在该文件夹上运行。您可以`install.packages`使用`contriburl`参数运行它们并将其指向您的存储库文件夹。

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2013-02-25T06:07:09.633

您安装的所有软件包都存储在名为 win-library\r-version 的文件夹中，例如 C:\Users\Ehsan\Documents\R\win-library\2.15 所以，复制里面的所有文件夹就足够了2.15 到新机器的同一个文件夹。因为你有相同版本的 R，你不需要通过 update.packages() 来更新它们。

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2019-01-09T21:36:23.630

在您的**原始**计算机上，运行

```
write.csv(unique(data.frame(installed.packages())[,1]),"packages.csv",row.names=F) 
```

**将此 .csv 保存到新**计算机的工作目录中，然后运行

```
install.packages(as.character(read.csv("packages.csv")[,1])) 
```

您可以检查您的工作目录正在使用什么`getwd()`。

# ssis - 使用变量为查找转换的where子句赋值

> ID：15060957
> 
> 赞同：1
> 
> 时间：2013-02-25T05:58:04.220
> 
> 标签：ssis

我有一个 DataFlow 任务，它在运行时获取一个变量。此变量更改其值三次，因此作业必须运行三次。我想在 DFT 中进行查找转换，以检查要插入的新值是否已存在于数据库中以获取当前变量的值。（我无法在数据库中创建任何唯一键约束。）如何制作LookUp 转换的 where 子句从变量中获取值？我不能使用执行 sql，因为它仅限于控制流任务。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T14:00:27.023

比使用查找更好的方法是使用 MERGE 语句：[http ://technet.microsoft.com/en-us/library/bb510625.aspx](http://technet.microsoft.com/en-us/library/bb510625.aspx)

如果您仍想使用查找，则必须禁用组件上的缓存（或将其设置为部分），然后在高级选项卡中检查“修改 SQL 指令”，键入查询并使用“使用变量”参数...”按钮。

# java - 如何通过单击Android中的按钮来快速输出必须完成的计算部分？

> ID：15060964
> 
> 赞同：0
> 
> 时间：2013-02-25T05:58:33.990
> 
> 标签：java, android, button, loading

我的问题是在单击按钮时，它会在此期间进入下一个活动，在下一个活动中加载值需要近 10-12 秒。请帮助我解决这个问题，建议将是可观的。

**这是代码：**

```
Button  mButton = (Button)findViewById(R.id.pay);
mButton.setOnClickListener(new View.OnClickListener()
{
public void onClick(View view)
  {
    Intent i=new Intent(MainActivity.this,second.class);
    i.putExtra("rate", rate);                      
    startActivity(i);
  }
}); 
```

所以在单击按钮期间，计算部分也在工作。帮我解决这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T06:13:22.347

不知道你想做什么......

在您的 onClick() 方法中，您正在开始新的活动，因此很明显它将转到新的活动。为什么不在 onClick 方法本身进行计算并更新显示的值？

# android - 在 ListView 中从顶部显示记录

> ID：15060966
> 
> 赞同：3
> 
> 时间：2013-02-25T05:58:45.523
> 
> 标签：android, android-listview

我正在编写一个应用程序，*我在其中获取未来 30 天内那些生日的 Facebook 好友列表*，并且我也能够获取该列表。

但我**面临着非常小的问题**

我看到如果我在列表中有超过 4 条记录，那么我会从顶部获取朋友列表，如果我在列表中有 1 或 2 条记录，那么我会在底部获得结果，如下面的屏幕截图所示：

请告诉我如何解决此问题，iw* *ant 将这些记录显示在顶部而不是底部...* *

活动fb_friends.xml：

```
 <?xml version="1.0" encoding="utf-8"?> 
```

```
<ListView
    android:id="@+id/friends_list"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:cacheColorHint="#00000000"
    android:divider="#b5b5b5"
    android:layout_above="@+id/greeting"
    android:dividerHeight="1dp" />

 <ImageButton
    android:id="@+id/greeting"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignParentBottom="true"
    android:layout_centerHorizontal="true"
    android:background="@drawable/greet"
    android:layout_marginTop="10dp" 
    android:layout_marginBottom="10dp" />

</RelativeLayout> 
```

listfb_friends.xml：

```
 <RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="match_parent"
android:layout_height="wrap_content"
android:layout_marginBottom="5dp"
android:layout_marginLeft="10dp"
android:layout_marginRight="10dp"
android:layout_marginTop="5dp"
android:background="@drawable/btn_background"
android:gravity="center"
android:orientation="horizontal"
android:padding="5dip" >

<RelativeLayout
    android:id="@+id/friend_item"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignParentLeft="true"
    android:layout_marginRight="5dip"
    android:background="@drawable/image_background"
    android:padding="3dip" >

    <ImageView
        android:id="@+id/picture"
        android:layout_width="50dip"
        android:layout_height="50dip"
        android:src="@drawable/img"/>
</RelativeLayout> 

<TextView
    android:id="@+id/name"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignTop="@+id/friend_item"
    android:layout_toRightOf="@+id/friend_item"
    android:textColor="#324e87"
    android:textSize="15dip"
    android:textStyle="bold"
    android:typeface="sans" />

<TextView
    android:id="@+id/dob"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:layout_below="@id/name"
    android:layout_marginTop="1dip"
    android:layout_toRightOf="@+id/friend_item"
    android:textColor="#343434"
    android:textSize="15dip"
    />

 </RelativeLayout> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-25T06:05:53.607

问题在于布局`@+id/friends_list`。您已将其`layout_height="wrap_content"`和 设置为`layout_above="@+id/greeting"`。这意味着它只会与包含的项目一样大，并且会出现在问候按钮的上方（您已将其锚定到容器的底部）。

最简单的解决方案是删除`layout_above`并替换为`android:layout_alignParentTop="true"`. 这会将列表锚定到容器的顶部，而不是仅仅在问候图像按钮上方。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-25T06:11:02.333

尝试`android:layout_alignParentTop="true"`在列表视图中添加谁的 id 是friends_list

# apache - htaccess 重写 - 现有文件上的 404

> ID：15060970
> 
> 赞同：1
> 
> 时间：2013-02-25T05:59:02.993
> 
> 标签：apache, .htaccess, rewrite

所以我在 htaccess 文件中有以下重写：

```
RewriteRule ^([^/.]+)/?$ index.php?page=$1 [L] 
```

每当我尝试访问时，`http://domain/index`我都会得到 404，但是当我尝试访问`http://domain/index.`甚至不存在的页面`http://domain/a`时，重写工作正常，并且 index.php`var_dump()`是适当的值。

index.php 中唯一的代码是`var_dump($_GET);`，所以我知道这不是 php 问题。

有人可以向我解释我的重写规则有什么问题，并解释如何解决它吗？

**编辑：** 我忘了我启用了错误日志记录。它一直保存到 error.log 的错误是：

```
[Sun Feb 24 21:01:18 2013] [error] [client 192.168.1.1] Negotiation: discovered file(s) matching request: /path/public_html/index (None could be negotiated). 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-25T06:28:30.853

由于错误，似乎 MultiViews 已启用。

您可以在文件顶部尝试此操作：

`Options +FollowSymlinks -MultiViews`

另外，我建议如下：

```
# Prevent loops
RewriteCond %{REQUEST_URI} !index\.php [NC]
RewriteRule ^([^/]+)/? index.php?page=$1 [L] 
```

MultiViews 提供 `Content Negotiation`, 最好[在这里描述](http://httpd.apache.org/docs/2.2/mod/mod_negotiation.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-04-28T16:46:56.013

`MultiViews`启用 ( `Options +MultiViews`) 时，模块[`Content Negotiation`](http://httpd.apache.org/docs/2.2/mod/mod_negotiation.html)会查找匹配的文件`index`，但`.php`文件不符合匹配条件，因此会失败并显示`None could be negotiated`. 您可以`.php`使用以下方法将处理程序添加为匹配项：

```
MultiviewsMatch Handlers Filters 
```

如[`MultiviewsMatch`](http://httpd.apache.org/docs/2.2/mod/mod_mime.html#multiviewsmatch).

# c#-3.0 - 使用C#读取Outlook分发列表下成员的用户名和电子邮件ID

> ID：15060972
> 
> 赞同：1
> 
> 时间：2013-02-25T05:59:05.860
> 
> 标签：c#-3.0, outlook-2003

我想从 Outlook 中获取特定分发列表下所有用户的用户名和电子邮件 ID。

我有下面的代码。

```
 DirectorySearcher search;
                DirectoryEntry entry;

                entry = new DirectoryEntry("LDAP://" + Domain);
                search = new DirectorySearcher(entry);
                search.Filter = "(&(objectClass=Distribution Lists) (CN=" + distList + "))";

                //search.Filter = "CN=" + distList;
                //search.Filter = "cn=" + distList + ",ou=Distribution Lists,dc=bosch,dc=com";
                //search.Filter = "cn=" + distList + ",ou=Distribution Lists";
                int i = search.Filter.Length;

                string str = "", str1 = "";
                foreach (SearchResult AdObj in search.FindAll())
                {

                    foreach (String objName in                  AdObj.GetDirectoryEntry().Properties["member"])
                    {
                        COnsole.writeline(objName);
}
} 
```

“FindAll”方法无法获取任何内容。

我的代码有什么问题吗？？

有人给我示例代码，它可以获取分发列表下所有用户的用户名和电子邮件 ID？

任何帮助表示赞赏。

先感谢您！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-11-28T06:31:08.657

试试这个链接。

[http://forums.asp.net/t/1224607.aspx?Displaying+Members+in+a+Distribution+List](http://forums.asp.net/t/1224607.aspx?Displaying+Members+in+a+Distribution+List)

它对我有用。它也应该对你有用。代码如下：

```
 DirectorySearcher search;
        DirectoryEntry entry;          

        entry = new DirectoryEntry(LDAPpath);//, Domainwithuser, password);
        search = new DirectorySearcher(entry);
        search.Filter = "CN=DistributionList1";
        int i = search.Filter.Length;

        string str = "", str1 = "";
        foreach (SearchResult AdObj in search.FindAll())
        {
            foreach (String objName in AdObj.GetDirectoryEntry().Properties["member"])
            {
                str += Convert.ToString(objName) + "&lt;Br>";
                int selIndex = objName.IndexOf("CN=") + 3;
                int selEnd = objName.IndexOf(",OU") - 3;
                str1 += objName.Substring(selIndex, selEnd).Replace("\\", "") + "&lt;BR>";

                DirectorySearcher dsSearch = new DirectorySearcher(entry);
                dsSearch.Filter = "CN=" + objName.Substring(selIndex, selEnd).Replace("\\", "");
                foreach (SearchResult rs in dsSearch.FindAll())
                {
                    str1 += "&lt;p align='right'><font face='calibri' color='#2266aa' size=2>" + Convert.ToString(rs.GetDirectoryEntry().Properties["mail"].Value) + "|" + Convert.ToString(rs.GetDirectoryEntry().Properties["displayName"].Value) + "|" + Convert.ToString(rs.GetDirectoryEntry().Properties["sAMAccountName"].Value) + "|" + Convert.ToString(rs.GetDirectoryEntry().Properties["department"].Value) + "|" + Convert.ToString(rs.GetDirectoryEntry().Properties["memberOf"].Value) + "&lt;/font></p>";
                }
            }
        }
        Response.Write("&lt;BR>" + str + "&lt;Br>" + str1 + "&lt;BR>");

        MessageBox.Show(rs.GetDirectoryEntry().Properties["sAMAccountName"].Value.ToString() + " : " + rs.GetDirectoryEntry().Properties["mail"].Value.ToString()); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-05-20T09:45:08.740

```
 entry = new DirectoryEntry("LDAP Path");//, Domainwithuser, password);
        search = new DirectorySearcher(entry);
        search.Filter = "CN=#nameofyourDL";
        int i = search.Filter.Length;

        string str = "", str1 = "",final="";
        foreach (SearchResult AdObj in search.FindAll())
        {

            foreach (String objName in AdObj.GetDirectoryEntry().Properties["member"])
            {
                str += Convert.ToString(objName) + "&lt;Br>";
                int selIndex = objName.IndexOf("CN=") + 3;
                int selEnd = objName.IndexOf(",OU") - 3;
                str1 += objName.Substring(selIndex, selEnd).Replace("\\", "");

                DirectorySearcher dsSearch = new DirectorySearcher(entry);
                dsSearch.Filter = "CN=" + objName.Substring(selIndex, selEnd).Replace("\\", "");
                foreach (SearchResult rs in dsSearch.FindAll())
                {
                    //str1 += "&lt;p align='right'><font face='calibri' color='#2266aa' size=2>" + Convert.ToString(rs.GetDirectoryEntry().Properties["mail"].Value) + "|" + Convert.ToString(rs.GetDirectoryEntry().Properties["displayName"].Value) + "|" + Convert.ToString(rs.GetDirectoryEntry().Properties["sAMAccountName"].Value) + "|" + Convert.ToString(rs.GetDirectoryEntry().Properties["department"].Value) + "|" + Convert.ToString(rs.GetDirectoryEntry().Properties["memberOf"].Value) + "&lt;/font></p>";
                    str1 = Convert.ToString(rs.GetDirectoryEntry().Properties["mail"].Value);
                    final += str1 + ",";
                }
                //final=str1+",";
            }

        }
        //("&lt;BR>" + str + "&lt;Br>" + str1 + "&lt;BR>");

        return final;
    }
    catch (Exception ex)
    {
        //Response.Write("--unable to fetch--<BR>" + ex.Message);
        throw ex;

    }
} 
```

这将为您提供用逗号分隔的电子邮件

# syntax-error - 电子邮件验证语法错误

> ID：15060973
> 
> 赞同：0
> 
> 时间：2013-02-25T05:59:14.443
> 
> 标签：syntax-error, email-validation

我试图在电子邮件验证期间允许电子邮件 ID 的所有可能字符，我是这样写的 -

```
^(\s)*[a-zA-Z_]{1}(a-zA-Z0-9.\-_`~!#$&amp;%^*()+,=:{}[\]|\\\&lt;>/?,.;'")*[@]{1}[a-zA-Z0-9]*[a-zA-Z0-9.\-+_]*[a-zA-Z0-9]{1}(\s)*$ 
```

但我收到一个语法错误，上面写着

![SyntaxError: missing ) 在参数列表之后](../Images/ef5057058f37e9b709de51cc08d35bc4.png) 它显示的位置在之后`;`

我在这里错过了什么吗？

这是包含模式的代码。这是在 struts 验证期间完成的

```
<field property="email" depends="required,mask">
<arg0 key="alert.user.email" />
<var>
    <var-name>mask</var-name>
    <var-value>^(\s)*[a-zA-Z_]{1}(a-zA-Z0-9.\-_`~!#$&amp;%^*()+,=:{}[\]|\\\&lt;>/?,.'";)*[@]{1}[a-zA-Z0-9]*[a-zA-Z0-9.\-+_]*[a-zA-Z0-9]{1}(\s)*$</var-value>
</var>
</field> 
```

# c# - 使用 ASIN 在亚马逊获取商品/产品价格

> ID：15060975
> 
> 赞同：6
> 
> 时间：2013-02-25T05:59:25.223
> 
> 标签：c#, amazon

有什么方法可以让我们使用 ASIN 和特定卖家在亚马逊获取特定产品（*或商品）的价格？*

我看过[亚马逊商城网络服务 (Amazon MWS)](https://developer.amazonservices.com/index.html)，但我认为它适用于想要开发应用程序来访问*其*产品的卖家。它不允许我创建帐户，因此我可以获得`MWS`密钥，因为它要求`Amazon Seller Account`并且我不需要卖方帐户，因为我只对产品的价格感兴趣并且我不是卖方。

我有一个[ASIN](http://en.wikipedia.org/wiki/Amazon_Standard_Identification_Number)列表，我需要获取特定卖家的价格（*特别是仅来自亚马逊*）。我已经知道如何创建 AWS 密钥。我接下来要做什么？我正在寻找一个函数或方法，它要求`ASIN`并返回特定卖家提供的价格。

这是我读过的文章：

*   [亚马逊商城 API](https://stackoverflow.com/questions/7737695/amazon-marketplace-api)
*   [亚马逊产品广告 api - 项目查找请求工作示例](https://stackoverflow.com/questions/6460936/amazon-product-advertising-api-item-lookup-request-working-example)
*   [如何从亚马逊获取 ASIN 和价格](https://stackoverflow.com/questions/7274798/how-to-get-asin-and-price-from-amazon)
*   [亚马逊产品广告 API：从 ASIN 获取产品详细信息 URL](https://stackoverflow.com/questions/7155439/amazon-product-advertising-api-get-product-detail-url-from-asin)
*   [是否有 API 可以查询类似亚马逊的网站（或亚马逊）并获取商品的市场价格？](https://stackoverflow.com/questions/6378004/is-there-an-api-that-querys-an-amazon-like-site-or-amazon-and-gets-the-market)

我对这些东西很陌生，这对我来说非常先进。希望有人能给我一个很好的指南，能够满足我的需求。谢谢你。

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-03-14T18:02:14.693

您对亚马逊 MWS 的看法是正确的：它是一种允许商家在亚马逊上销售商品的 API，因此除非您正在寻找的特定卖家实际上是您自己的公司，否则 MWS 将不是一个选项。

您正在寻找的现在是亚马逊产品广告 API 的一部分（名称可能有点误导）。此 API 允许您查询所有人都可以访问的信息。

您将需要使用以下参数调用[ItemLookup ：](http://docs.aws.amazon.com/AWSECommerceService/latest/DG/ItemLookup.html)

*   ItemId = 单个 ASIN
*   MerchantID = 您正在寻找的特定卖家的卖家 ID（如果您省略此参数，您将获得所有卖家的数据，或者只是“buybox/best price”卖家的数据，具体取决于您选择的 ResponseGroup）
*   ResponseGroup = "Offers"、"OfferListing" 或 "OfferFull"（同时使用这三个来选择最接近您正在寻找的那个）

您必须一次针对一个 ASIN 执行此操作（从技术上讲，您一次最多可以执行 10 个，但结果可能不是您所期望的）

# oracle-call-interface - OTL - 如何控制 SELECT 中的数值类型

> ID：15060976
> 
> 赞同：0
> 
> 时间：2013-02-25T05:59:28.967
> 
> 标签：oracle-call-interface, openvms, occi, otl

在 C++ / Oracle OTL 应用程序中，我有

```
 SELECT MYINT FROM MYTABLE 
```

这是 otl_stream selstream 的基础 在这一行中，我在一个不起眼的平台上得到一个转换异常（在其他平台上运行良好） selstream >> myint;
异常必须与OTL端的MYINT类型有关。

如何在 OTL 中控制它？我想我应该能够做类似的事情：

```
SELECT INT( MYINT) 
```

但 SQL 失败。

或类似的东西：

```
SELECT myint #:<int> FROM MYTABL 
```

（在其他平台上工作时尝试了不同的形式，仍然例外）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T08:11:36.373

```
SELECT MYINT :#1<int> 
```

为我解决了类似的问题

# python - 扭曲的 websockets 导入错误

> ID：15060984
> 
> 赞同：4
> 
> 时间：2013-02-25T06:00:21.533
> 
> 标签：python, websocket, twisted, importerror

我正在尝试使用以下示例使 WebSocket 在 Python 中与 Twisted 一起工作：http: [//twistedmatrix.com/trac/export/29073/branches/websocket-4173-2/doc/web/howto/websocket.xhtml](http://twistedmatrix.com/trac/export/29073/branches/websocket-4173-2/doc/web/howto/websocket.xhtml)。不幸的是，我遇到了 ImportError。我不确定在这里做什么。我已经使用几种方法（从源代码、从 pip 和从 Ubuntu 存储库）安装/卸载了 Twisted 几次，但仍然会弹出。

```
Traceback (most recent call last):
File "server.py", line 2, in <module>
from twisted.web.websocket import WebSocketHandler, WebSocketSite
ImportError: No module named websocket 
```

任何帮助表示赞赏！

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-25T10:35:54.543

`websocket-4173-2`您正在从分支链接到示例 HOWTO 。显然，该分支包含 WebSockets 代码。另一方面，Twisted trunk 或任何已发布的版本都没有。

阅读[http://twistedmatrix.com/trac/ticket/4173](http://twistedmatrix.com/trac/ticket/4173)以了解有关其进展情况的更多详细信息。要使用开发代码，您可以使用 svn 签出上述分支。

# asp.net - Gridview 超链接

> ID：15060987
> 
> 赞同：2
> 
> 时间：2013-02-25T06:00:43.443
> 
> 标签：asp.net, gridview

我的第一页：

## .aspx

```
<asp:GridView ID="GridView1" runat="server" BackColor="White" 
       BorderColor="#CCCCCC" BorderStyle="None" BorderWidth="1px" CellPadding="3" 
       CssClass="grdDataGrid" Height="102px" onrowdatabound="GridView1_RowDataBound"> 
   <RowStyle ForeColor="#000066" /> <FooterStyle BackColor="White" ForeColor="#000066" />
   <PagerStyle BackColor="White" ForeColor="#000066" HorizontalAlign="Left" />
   <SelectedRowStyle BackColor="#669999" Font-Bold="True" ForeColor="White" />
   <HeaderStyle BackColor="#006699" Font-Bold="True" ForeColor="White" /> 
</asp:GridView> 
```

## 后面的代码

```
protected void GridView1_RowDataBound(object sender, GridViewRowEventArgs e)
{
    if (e.Row.RowType == DataControlRowType.DataRow)
    {
        var firstCell = e.Row.Cells[0];
        firstCell.Controls.Clear();
        firstCell.Controls.Add(new HyperLink { NavigateUrl = "ser_job_status1.aspx?Complaint_No = " + firstCell.Text, Text = firstCell.Text, Target = "_blank" });
        Session["Complaint_No"] = firstCell.Text;
        //////Session["Complaint_No"] = GridView1.Rows[e.RowIndex].Cells[HyperLink(NavigateUrl)].Value.ToString();

      }
 }
GridView1.DataBind(); 
```

我的第二页：

```
protected void Page_Load(object sender, EventArgs e)
{     
   string strComplaintNo = Convert.ToString(Session["Complaint_No"]);
   TextBox51.Text = strComplaintNo;
} 
```

我的问题是因为我在将数据源绑定到我的 firstCell 之前使用了超链接。
文本值保存最后获取的数据。
因此，如果我单击该链接，我的 sessoin 将获得 firstCell 的值。
文本是最后一次获取的值..但我的要求是获取超链接值..
任何人都可以帮我解决这个问题我使用 C# 作为我背后的代码...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T06:17:30.683

根据行索引，在每行中为每个超链接提供一个 id，

```
HyperLink HLLink = GridView1.Rows[e.RowIndex].FindControl("HyperLink"+e.RowIndex) as  HyperLink;

Session["Complaint_No"]=HLLink.NavigateURL.ValueToString(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T06:16:31.810

这是解决方案。
当您通过查询字符串将值发送到下一页时。
您可以在那里设置值。

```
protected void Page_Load(object sender, EventArgs e)
{
    string strComplaintNo = Request.QueryString.Get("Complaint_No");
    Session["Complaint_No"]=strComplaintNo ;
    TextBox51.Text = strComplaintNo ;
} 
```

## 编辑 1

```
<asp:TemplateField HeaderText="Request No.">
   <ItemTemplate>
       <asp:HyperLink ID="EditHyperLink1" runat="server" 
            NavigateUrl='<%#"ser_job_status1.aspx?reqid=" + Eval("ReqId") %>'
            Text='<%# Eval("ReqId") %>' >
       <!--change the column name "ReqId"-->
       </asp:HyperLink>
   </ItemTemplate>
</asp:TemplateField> 
```

在您的**ser_job_status1.aspx**页面上

```
protected void Page_Load(object sender, EventArgs e)
{
    string strComplaintNo = Request.QueryString.Get("reqid");
    //call your method on the basis of strComplaintNo
   // Session["Complaint_No"]=strComplaintNo ;
    //TextBox51.Text = strComplaintNo ;
} 
```

# python - 使用 Pandas 读取 Movielens 1M 数据集 rating.dat 文件时遇到问题

> ID：15060989
> 
> 赞同：0
> 
> 时间：2013-02-25T06:00:53.873
> 
> 标签：python, pandas

业余爱好者 - python 新手

您好，我正在阅读 Wes McKinney 的 Python for Data Analysis 一书。我刚开始研究 MovieLens 1M 数据集，在我的一生中，我无法让我的代码为 ratings.dat 文件工作。它适用于 movies.dat 和 users.dat 文件，但我一直收到 ratings.dat 文件的错误。我已经从 github 和 movielens.org 下载了 ratings.dat 的副本，但我得到了同样的错误。我已经重命名了文件，但我仍然得到同样的错误。我搬到了一个不同的目录，但我仍然得到同样的错误。我猜我有一些配置问题？

* * *

```
Python 2.7.3 (default, Apr 10 2012, 23:31:26) [MSC v.1500 32 bit (Intel)]
Type "copyright", "credits" or "license" for more information.

IPython 0.13.1 -- An enhanced Interactive Python.
?         -> Introduction and overview of IPython's features.
%quickref -> Quick reference.
help      -> Python's own help system.
object?   -> Details about 'object', use 'object??' for extra details.
%guiref   -> A brief reference about the graphical user interface.

Welcome to pylab, a matplotlib-based Python environment [backend: TkAgg].
For more information, type 'help(pylab)'.

import pandas as pd

rnames = ['user_id','movie_id','rating','timestamp']

ratings = pd.read_table('e:\ratings.dat',sep='',header=None,names=rnames)

---------------------------------------------------------------------------
Exception                                 Traceback (most recent call last)
<ipython-input-1-5513dd9baafa> in <module>()
      3 rnames = ['user_id','movie_id','rating','timestamp']
      4 
----> 5 ratings = pd.read_table('e:\ratings.dat',sep='',header=None,names=rnames)
      6 

E:\Python27_new\lib\site-packages\pandas\io\parsers.pyc in parser_f(filepath_or_buffer, sep, dialect, compression, doublequote, escapechar, quotechar, quoting, skipinitialspace, lineterminator, header, index_col, names, prefix, skiprows, skipfooter, skip_footer, na_values, true_values, false_values, delimiter, converters, dtype, usecols, engine, delim_whitespace, as_recarray, na_filter, compact_ints, use_unsigned, low_memory, buffer_lines, warn_bad_lines, error_bad_lines, keep_default_na, thousands, comment, decimal, parse_dates, keep_date_col, dayfirst, date_parser, memory_map, nrows, iterator, chunksize, verbose, encoding, squeeze)
    397                     buffer_lines=buffer_lines)
    398 
--> 399         return _read(filepath_or_buffer, kwds)
    400 
    401     parser_f.__name__ = name

E:\Python27_new\lib\site-packages\pandas\io\parsers.pyc in _read(filepath_or_buffer, kwds)
    206 
    207     # Create the parser.
--> 208     parser = TextFileReader(filepath_or_buffer, **kwds)
    209 
    210     if nrows is not None:

E:\Python27_new\lib\site-packages\pandas\io\parsers.pyc in __init__(self, f, engine, **kwds)
    505             self.options['has_index_names'] = kwds['has_index_names']
    506 
--> 507         self._make_engine(self.engine)
    508 
    509     def _get_options_with_defaults(self, engine):

E:\Python27_new\lib\site-packages\pandas\io\parsers.pyc in _make_engine(self, engine)
    607     def _make_engine(self, engine='c'):
    608         if engine == 'c':
--> 609             self._engine = CParserWrapper(self.f, **self.options)
    610         else:
    611             if engine == 'python':

E:\Python27_new\lib\site-packages\pandas\io\parsers.pyc in __init__(self, src, **kwds)
    888         # #2442
    889         kwds['allow_leading_cols'] = self.index_col is not False
--> 890         self._reader = _parser.TextReader(src, **kwds)
    891 
    892         # XXX

E:\Python27_new\lib\site-packages\pandas\_parser.pyd in pandas._parser.TextReader.__cinit__ (pandas\src\parser.c:2771)()

E:\Python27_new\lib\site-packages\pandas\_parser.pyd in pandas._parser.TextReader._setup_parser_source (pandas\src\parser.c:4810)()

atings.dat does not exist 
```

* * *

错误的最后一行总是截断文件名的第一部分。如前所述，相同的代码适用于 movies.dat 和 users.dat。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-25T06:26:40.207

尝试将转义添加到您的源`e:\ratings.dat`路径`e:\\ratings.dat`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-25T10:42:05.260

您应该将路径字符串写为原始字符串（注意`r`前面的）：

```
ratings = pd.read_table(r'e:\ratings.dat', sep='', header=None, names=rnames) 
```

这不起作用的原因是因为`\r`具有特殊含义（回车），它不是文件路径的一部分，这意味着 python 找不到文件。原始字符串转义所有特殊字符。
您可以在以下内容中看到这一点：

```
In [1]: print ('\r')

In [2]: print (r'\r')
\r 
```

*`\`等效地，您可以按照@pravin 的建议（使用） “转义”每个字符`\\`。*

# java - 返回 ArrayIntList 的方法

> ID：15060995
> 
> 赞同：1
> 
> 时间：2013-02-25T06:01:03.490
> 
> 标签：java

我正在研究以下问题：

> 编写一个方法 runningTotal，它返回一个新的 ArrayIntList，其中包含原始列表的运行总计。换句话说，新列表中的第 i 个值应该存储原始列表中元素 0 到 i 的总和。

我被困在第二种方法（返回）的最后一部分。没有参数的方法。

```
public class ArrayIntList {

    private int[] elementData;
    private int size;

}

// when client calls : test = ArrayIntList.runningTotal(test);
// the folowing method works fine

public static ArrayIntList runningTotal(ArrayIntList other) {

    other.elementData[0] = other.elementData[0];
    for(int i = 1; i < other.size; i++){
        other.elementData[i] = other.elementData[i]+ other.elementData[i-1];
    }
    return other;
}
// when client calls: test = test.runningTotal();
public ArrayIntList runningTotal() {
    elementData[0] = elementData[0];
    for(int i = 1; i < size; i++){
        elementData[i] = elementData[i]+ elementData[i-1];
    }
    return ??;
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-25T06:04:42.150

我想你需要的是`return this;`

# asp.net - 当数据来自多个相关表时，在 ASP.NET DataGrid 中实现编辑

> ID：15060996
> 
> 赞同：2
> 
> 时间：2013-02-25T06:01:11.497
> 
> 标签：asp.net, datagrid, sqldatasource

今天在处理我客户的一个项目时，我遇到了一个我无法找出解决方案的问题。所以我把它扔给你们。

我正在使用数据绑定的 GridView 控件，SqlDataSource 的代码相同：

```
<asp:SqlDataSource ID="SqlDataSource_familyMembers" runat="server" 
     ConnectionString="<%$ ConnectionStrings:VBAT_dbConnectionString %>" 
     SelectCommand="
       select 
          a.memberid,a.fristName,a.lastname,a.gender,a.dob,
          b.relation as [Relation with Family Head],
      c.districtname,d.statename,e.countryname,a.mobno,f.occupation,a.ismaried 
      from 
         family_members_info as a
      left outer join
         master_relations as b
      on
         a.RelationWithFamilyHead=b.relationid
      join
         master_district as c
      on 
         a.cadistrict=c.districtid
      join
         master_state as d
      on 
        a.castate=d.stateid
     join
        master_country as e
     on 
        a.cacountry=e.countryid
     join
       master_occupation as f
     on
       a.occupation=f.occupationid
     where 
         familyid=@familyid" 
   UpdateCommand="
         update 
             family_members_info 
         set                    
            firstName=@firstname, lastname=@lastName, dob=@dob,
            relationwithfamilyhead=@relationwithfamilyhead,cadistrict=@cadistrict, 
            castate=@castate, cacountry=@cacountry,mobno=@mobno,occupation=@occupation 
         where 
            memberID=@memberID">
  <SelectParameters>                    
    <asp:ControlParameter ControlID="HiddenField1" Name="familyid"   PropertyName="Value" />
  </SelectParameters>
  <UpdateParameters>
      <asp:Parameter Name="firstname"  />
      <asp:Parameter Name="lastName" />
      <asp:Parameter Name="dob" />
      <asp:Parameter Name="relationwithfamilyhead" />
      <asp:Parameter Name="cadistrict" />
      <asp:Parameter Name="castate" />
      <asp:Parameter Name="cacountry" />
      <asp:Parameter Name="mobno" />
      <asp:Parameter Name="occupation" />
      <asp:Parameter Name="memberID" />
   </UpdateParameters>
</asp:SqlDataSource> 
```

正如您从 Select 查询中看到的那样，数据来自多个相关的表，除了用户想要编辑数据时，一切正常。

对于所有列，默认情况下，GridView 显示文本框，而它应该为作为外键的列显示 DropdownList。

如果有人可以指导我为此提供可能的解决方案，我将非常有帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T07:13:20.657

To achieve what you're looking for follow these *high level* steps:

1.  Template your grid view - Create `TemplateField` items for each column in your grid view, for both `ItemTemplate` and `EditItemTemplate`
2.  For id fields specify the control type for `EditItemTemplate` to be a `DropDownList`
3.  Create a `SqlDataSource` or any other data binding method of your choice and bind it to the `DropDownList` to retrieve the ids and value from the required table
4.  Set the `DataValueField` of the `DropDownList` to be the **id** and `DataTextField` to be the **display value**

Here's a working example of the points above - [Filtering Dropdownlist populated from sqldatasource](https://stackoverflow.com/questions/13303297/filtering-dropdownlist-populated-from-sqldatasource/13323595#13323595)

# android - 如何快速调试android？

> ID：15060998
> 
> 赞同：0
> 
> 时间：2013-02-25T06:01:30.223
> 
> 标签：android

当我修改一些代码时，我需要再次操作虚拟机。太费时间了。

谁知道快速调试代码的好方法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T06:53:17.273

首先调试到项目。不要关闭它并编辑您的代码然后运行或调试。您将看到在同一个打开的模拟器上进行调试并节省一点时间。其他方式：- 您可以使用您的 Android 手机进行快速调试。按照它[http://developer.android.com/tools/extras/oem-usb.html](http://developer.android.com/tools/extras/oem-usb.html)

此步骤适用于窗口 7。

```
1.Connect your Android-powered device to your computer's USB port.
2.Right-click on Computer from your desktop or Windows Explorer, and select Manage.
3.Select Devices in the left pane.
4.Locate and expand Other device in the right pane.
5.Right-click the device name (such as Nexus S) and select Update Driver Software. This will     launch the Hardware Update Wizard.
6.Select Browse my computer for driver software and click Next.
7.Click Browse and locate the USB driver folder. (The Google USB Driver is located in <sdk>\extras\google\usb_driver\.)
8.Click Next to install the driver. 
```

您的驱动程序将自动安装。

现在转到您的 android 设备的设置并检查 usb-debug 模式。它应该是启用的。

然后运行您的 android 项目，它会自动在您的设备上运行，或者让您选择 . 这是最快的调试方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T06:59:41.883

使用 Eclipse 中提供的调试工具并添加断点，您可以快速移动到任何您想要的位置...

# javascript - 如何从对象函数返回对象 - javascript？

> ID：15060999
> 
> 赞同：1
> 
> 时间：2013-02-25T06:01:34.230
> 
> 标签：javascript, object

我有一个像下面这样的对象

```
 function obj() {

     this.cellSize = 50;

     this.createBlock = function() { // creates a block object
        this.x = 0;
        this.y = 0 - (this.cellSize * 1.5);
        this.baseVelocity = 1;
        this.velocity = this.baseVelocity;
        return this;
    };

    this.activeBlock = this.createBlock(); // active block object

    this.nextBlock = this.createBlock(); // next block object
 } 
```

当我检查`obj.activeBlock`我没有得到应该返回的对象时`obj.createBlock`？

谢谢，

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-25T06:09:34.567

你可能想要这样的东西：

```
function obj() {
     var that = this;
     this.cellSize = 50;

     this.createBlock = function() { // creates a block object
        this.x = 0;
        this.y = 0 - (that.cellSize * 1.5);
        this.baseVelocity = 1;
        this.velocity = this.baseVelocity;
        return this;
    };

    this.activeBlock = new this.createBlock(); // active block object

    this.nextBlock = new this.createBlock(); // next block object
} 
```

`this`in`createBlock`函数应该与of`this`不同`obj()`。您还需要`new`为每个块创建一个新对象。如果`cellSize`应该是一个常量，您可以将代码重写为闭包：

```
function obj() {
     var cellSize = 50;

     this.createBlock = function() { // creates a block object
        this.x = 0;
        this.y = 0 - (cellSize * 1.5);
        this.baseVelocity = 1;
        this.velocity = this.baseVelocity;
        return this;
    };

    this.activeBlock = new this.createBlock(); // active block object

    this.nextBlock = new this.createBlock(); // next block object
} 
```