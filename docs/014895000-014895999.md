# StackOverflow 问答 14895000-14895999

# angularjs - 在AngularJS中链接MVC

> ID：14895008
> 
> 赞同：0
> 
> 时间：2013-02-15T12:45:08.363
> 
> 标签：angularjs, angularjs-directive

我在 AngularJS 中有一个基本应用程序。该模型包含许多项目和这些项目的相关标签。我想要实现的是过滤显示的项目的能力，以便只显示那些具有一个或多个活动标签的项目，但是我在弄清楚如何从视图中操作模型方面运气不佳。

JS 可在[http://jsfiddle.net/Qxbka/2](http://jsfiddle.net/Qxbka/2)获得。这包含到目前为止我设法达到的状态，但我有两个问题。首先，该指令尝试调用`toggleTag()`控制器中的方法：

```
template: "<button class='btn' ng-repeat='datum in data' ng-click='toggleTag(datum.id)'>{{datum.name}}</button>" 
```

但没有调用该方法。其次，我不确定如何更改输出部分`ng-repeat`，使其仅显示具有一个或多个活动标签的项目。

任何关于我做错了什么以及如何使它工作的指针都将不胜感激。

**更新** 我更新了指令中的方法直接传递数据项，即

```
template: "<button class='btn' ng-repeat='datum in data' ng-click='toggle(data, datum.id)'>{{datum.name}}</button>" 
```

并且还在`toggle()`指令中创建了一个方法。通过这样做，我可以进行操作`data`，它会反映在状态 HTML 中，但是如果这是否是正确的方法，我将不胜感激（我感觉不太正确）。

仍然坚持如何在更新标签值时重新评估输出。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-15T17:26:13.913

您可以在以下位置使用过滤器（[文档](http://docs.angularjs.org/api/ng.filter%3afilter)）`ng-repeat`：

```
<li ng-repeat="item in items | filter:tagfilter">...</li> 
```

过滤器表达式的参数可以是很多东西，包括作用域上的一个函数，它将为数组中的每个元素调用一次。如果返回 true，则元素会显示，如果返回 false，则不会。

你可以这样做的一种方法是在你的范围内设置一个`selectedTags`数组，你可以通过观察`tags`数组来填充它：

```
$scope.$watch('tags', function() {
    $scope.selectedTags = $scope.tags.reduce(function(selected, tag) {
        if (tag._active) selected.push(tag.name);
        return selected;
    }, []);
}, true); 
```

最后的额外`true`内容使角度通过相等与引用比较元素（这是我们想要的，因为我们需要它来观察`_active`每个标签上的属性。

接下来可以设置过滤功能：

```
$scope.tagfilter = function(item) {
    // If no tags are selected, show all the items.
    if ($scope.selectedTags.length === 0) return true;

    return intersects($scope.selectedTags, item.tags);
} 
```

使用返回两个数组的交集的快速而肮脏的辅助函数`intersects`：

```
function intersects(a, b) {
    var i = 0, len = a.length, inboth = [];

    for (i; i < len; i++) {
        if (b.indexOf(a[i]) !== -1) inboth.push(a[i]);
    }

    return inboth.length > 0;
} 
```

我[在这里叉了你的小提琴](http://jsfiddle.net/Et43z/)来展示这一点。

One small issue with the way you've gone about this is items have an array of tag "names" and not ids. So this example just works with arrays of tag names (I had to edit some of the initial data to make it consistent).

# android - 具有多个列表项布局的 Android 列表

> ID：14895011
> 
> 赞同：1
> 
> 时间：2013-02-15T12:45:14.690
> 
> 标签：android

基于一些教程，我尝试做一个简单的 android 应用程序，它显示一个带有字符串的列表。问题是当我尝试向列表项引入新布局时。

所以你会有：

listItem1 -> 布局1

列表项 2 -> 布局 2

列表项 3 -> 布局 1

ETC

当我尝试添加新布局时，我的项目在滚动时变得“乱码”。例如，它将显示 item1, item2, item3, item4... ，当向下滚动并返回时，我的列表将是： item40, item3, item20, item1 等

这是我的代码：

（activity_main.xml 文件有一个 LinearLayout > ListView）

```
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);

    items = new ArrayList<String>();
    for (int i = 0; i < 50; i++){
        items.add(i%2==0 ? "true" : "false");
    }

    ListView listView = (ListView) findViewById(R.id.ListViewId);
    listView.setAdapter(new ListItemAdapter(this, android.R.layout.simple_list_item_1, items));

} 
```

（list_item_1 和 list_item_2 是带有文本视图的布局）

```
public class ListItemAdapter extends ArrayAdapter<String> {
private ArrayList<String> items;
private LayoutInflater mInflater;

public ListItemAdapter(Context context, int textViewResourceId,
        ArrayList<String> items) {
    super(context, textViewResourceId, items);
    this.items = items;
    mInflater = (LayoutInflater)this.getContext()
            .getSystemService(Context.LAYOUT_INFLATER_SERVICE);
}

@Override
public View getView(int position, View convertView, ViewGroup parent) {
    int type = items.get(position).equals("true") ? 0 : 1;
    if (convertView == null) {
        switch(type){
        case 1:
            convertView = mInflater.inflate(R.layout.list_item_1, null);
            break;
        case 0:
            convertView = mInflater.inflate(R.layout.list_item_2, null);
            break;
        }

    }
    String item = items.get(position);
    if (item != null) {
        switch(type){
        case 1:
            TextView text = (TextView) convertView.findViewById(R.id.day);
            if (text != null) {
                text.setText(item);
            }           
            break;
        case 0:
            TextView day = (TextView) convertView.findViewById(R.id.text);

            if (day != null) {
                day.setText(item);
            }
            break;
        }

    }

    return convertView;
}
} 
```

如您所见，根据项目（真或假），我更改了布局。

任何输入将不胜感激！

顺便说一句，这是我正在尝试做的一个简化示例...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-15T12:51:01.053

请也覆盖`getViewTypeCount()`和`getItemViewType(int)`方法。它应该工作。也请通过此链接[Android ListView 每行具有不同的布局](https://stackoverflow.com/questions/4777272/android-listview-with-different-layout-for-each-row)。

# android - Draw a Bitmap on a Canvas replacing Black Pixels to Transparent

> ID：14895015
> 
> 赞同：1
> 
> 时间：2013-02-15T12:45:24.613
> 
> 标签：android

I need to draw a Bitmap on a canvas but I need to remove the black pixels to transparent. Is there an easy way to do this in Android? Bitmap.clearColor seems to behave differently.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-15T13:00:53.373

它将在触摸时起作用

```
 import android.app.Activity;
  import android.content.Context;
  import android.graphics.Bitmap;
  import android.graphics.Bitmap.Config;
  import android.graphics.BlurMaskFilter.Blur;
  import android.graphics.BitmapFactory;
  import android.graphics.BlurMaskFilter;
  import android.graphics.Canvas;
  import android.graphics.Color;
  import android.graphics.Paint;
  import android.graphics.PorterDuff.Mode;
  import android.graphics.PorterDuffXfermode;
  import android.os.Bundle;
  import android.view.MotionEvent;
  import android.view.View;

  public class StartActivity extends Activity {

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(new TouchView(this));

}

class TouchView extends View{
    Bitmap bgr;
    Bitmap overlayDefault;
    Bitmap overlay;
    Paint pTouch;
    int X = -100;
    int Y = -100;
    Canvas c2;

    public TouchView(Context context) {
        super(context);

        bgr = BitmapFactory.decodeResource(getResources(),R.drawable.bgr);
        overlayDefault = BitmapFactory.decodeResource(getResources(),R.drawable.over);
        overlay = BitmapFactory.decodeResource(getResources(),R.drawable.over).copy(Config.ARGB_8888, true);  
        c2 = new Canvas(overlay);

        pTouch = new Paint(Paint.ANTI_ALIAS_FLAG);         
        pTouch.setXfermode(new PorterDuffXfermode(Mode.SRC_OUT)); 
        pTouch.setColor(Color.TRANSPARENT);
        pTouch.setMaskFilter(new BlurMaskFilter(15, Blur.NORMAL));

    }

    @Override
    public boolean onTouchEvent(MotionEvent ev) {

        switch (ev.getAction()) {

            case MotionEvent.ACTION_DOWN: {

                X = (int) ev.getX();
                Y = (int) ev.getY();
                invalidate();

                break;
            }

            case MotionEvent.ACTION_MOVE: {

                    X = (int) ev.getX();
                    Y = (int) ev.getY();
                    invalidate();
                    break;

            }           

            case MotionEvent.ACTION_UP:

                break;

        }
        return true;
    }

    @Override
    public void onDraw(Canvas canvas){
        super.onDraw(canvas);

        //draw background
        canvas.drawBitmap(bgr, 0, 0, null);
        //copy the default overlay into temporary overlay and punch a hole in it                          
        c2.drawBitmap(overlayDefault, 0, 0, null); //exclude this line to show all as you draw
        c2.drawCircle(X, Y, 80, pTouch);
        //draw the overlay over the background  
        canvas.drawBitmap(overlay, 0, 0, null);

    }

} 
```

}`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-15T12:57:25.063

检查以确保您创建的覆盖位图实际上是透明的。使用配置 ARGB_8888 显式创建它。[http://developer.android.com/reference/android/graphics/Bitmap.Config.html](http://developer.android.com/reference/android/graphics/Bitmap.Config.html)

您可能希望将位图的创建移出 reDraw 方法，而只创建一次。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-15T13:01:54.130

检查这个[答案](https://stackoverflow.com/a/6488289/477997)。它不被接受，但应该可以工作。不要忘记打开硬件加速以查看您使用此位图的位置。

# javascript - event.preventDefault() 不适用于 angularjs 应用程序中的 routeChangeStart

> ID：14895016
> 
> 赞同：15
> 
> 时间：2013-02-15T12:45:25.290
> 
> 标签：javascript, routes, angularjs, angularjs-directive

希望任何 angularjs 大师都可以帮助我。这是我的 angularjs 代码

```
$scope.$on('$routeChangeStart', function(event, next, current) {
                if ($scope.myForm.$dirty) {
                    if(!confirm("Unsaved, do u want to continue?")) {
                        event.preventDefault();
                    }
                }
            }); 
```

当数据脏时，它会在浏览器后退按钮单击中发出警报，但在单击取消或确定时，它仍会完成路线更改。似乎`event.preventDefault()`无法正常工作。任何人都可以指出什么可能是错的

* * *

## 回答 #1

> 赞同：33
> 
> 时间：2013-03-19T14:50:23.460

我在找到这个时遇到了很多麻烦，但是您可以收听“$locationChangeStart”事件，而不是“$routeChangeStart”事件，您可以阻止默认事件：

```
$scope.$on("$locationChangeStart", function(event, next, current) {
    if (!confirm("You have unsaved changes, continue navigating to " + next + " ?")) {
        event.preventDefault();
    }
}); 
```

您也可以始终阻止默认，存储“下一个”，并显示一个干净的 JS 模式并异步决定。

$locationChangeStart 目前没有记录，但在这里引用：[https ://github.com/angular/angular.js/issues/2109](https://github.com/angular/angular.js/issues/2109)

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2015-02-05T18:01:22.750

在 Angular 1.3.7 [https://code.angularjs.org/1.3.7/docs/api/ngRoute/service/](https://code.angularjs.org/1.3.7/docs/api/ngRoute/service/) $route之后完全修复

**$routeChangeStart** 在路由更改之前广播。此时，路由服务开始解决发生路由更改所需的所有依赖项。通常这涉及获取视图模板以及在解析路由属性中定义的任何依赖项。一旦解决了所有依赖项，就会触发 $routeChangeSuccess。

**可以通过调用事件的 preventDefault 方法来防止路由更改（以及触发它的 $location 更改）。有关事件对象的更多详细信息，请参阅 $rootScope.Scope。**

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-02-15T13:25:52.247

根据 AngularJS[文档](http://docs.angularjs.org/api/ng.%24rootScope.Scope)（参见 $broadcast），您根本**无法**取消广播类型的事件（[$routeChangeStart](http://docs.angularjs.org/api/ng.%24route)属于该类型）：

> 事件生命周期从调用 $broadcast 的范围开始。在此范围内侦听名称事件的所有侦听器都会收到通知。之后，该事件传播到当前作用域的所有直接和间接作用域，并沿途调用所有已注册的侦听器。活动无法取消。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2015-01-16T18:21:32.290

此问题已在最新版本 ( >= 1.3.8 ) 中修复。

由于提供给 $routeChangeStart 的参数更详细（并且通常更有用），如果可能，请尝试更新您的角度版本...

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2018-02-05T10:12:22.417

如果您使用的是`$stateProvider`. 在这种情况下使用：

```
$scope.$on('$stateChangeStart', function( event){
  .....
  event.preventDefault();
});
```

# jsf - jsf 响应已经提交

> ID：14895018
> 
> 赞同：1
> 
> 时间：2013-02-15T12:45:27.660
> 
> 标签：jsf, redirect, httpresponse

如果用户已经选择了一种语言（我从 cookie 中知道），我正在使用 JSF 并尝试重定向页面。

所以我设置了一个监听器：

```
<f:event listener="#{languageSelectionController.checkSkipLanguageSelection}" type="preRenderView" /> 
```

检查 cookie 是否存在，如果存在则重定向到主页（不建议语言选择页面）

```
 if (languageBean.isValidCookieDetected()) {
        FacesContext.getCurrentInstance().getApplication().getNavigationHandler().handleNavigation(FacesContext.getCurrentInstance(), "languageSelection.xhtml", "toHome");
    } 
```

但我得到一个例外

```
java.lang.IllegalStateException: Response already committed
at weblogic.servlet.internal.ServletResponseImpl.objectIfCommitted(ServletResponseImpl.java:1602)
at weblogic.servlet.internal.ServletResponseImpl.sendRedirect(ServletResponseImpl.java:833)
at com.sun.faces.context.ExternalContextImpl.redirect(ExternalContextImpl.java:576)
at com.sun.faces.application.NavigationHandlerImpl.handleNavigation(NavigationHandlerImpl.java:182) 
```

我已阅读帖子[“响应已提交”到底是什么意思？那么如何处理异常呢？](https://stackoverflow.com/questions/14392361/jsf-response-already-committed-error)并尝试提高缓冲区大小，但它没有任何改变。

UDPATE：

我使用以下代码设置了一个过滤器：

```
 HttpServletRequest httpServletRequest = (HttpServletRequest) request;
    HttpServletResponse httpServletResponse = (HttpServletResponse) response;
    Cookie[] cookies = httpServletRequest.getCookies();
    for (Cookie c : cookies) {
        if (c.getName().equals("lang")) {
            httpServletResponse.sendRedirect("home.xhtml");
        }
    }
    chain.doFilter(request, response); 
```

但我仍然得到响应已经提交的异常......

谁能帮我 ？

谢谢

斯蒂芬妮

# xforms - 千叶与 Java 应用程序的集成

> ID：14895020
> 
> 赞同：0
> 
> 时间：2013-02-15T12:45:33.047
> 
> 标签：xforms, xforms-betterform

我是 X-Forms 和千叶的新手。

我正在考虑将 Chiba 集成到一个简单的 Java EE 应用程序中。

执行此操作的步骤是什么？

迄今为止取得的成就

1.  使用流或通过 JSP 和 Servlet 将 xform 提交给 Chiba。
2.  以 HTML、CSS、JS 和 AJAX 形式从 Chiba 获取输出表单。
3.  创建的 xhtml x-form 将由客户用于填写数据。
4.  在提交时，实例 xml 转到一个 servlet。
5.  然后 Servlet 保存此实例 xml（在 RDBMS 中假设为 CLOB）。

您能否提供任何示例应用程序来帮助我了解通过服务器端 xform 引擎处理 xForm 的流程？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-15T17:25:55.813

这不会回答您的核心问题，但是如果您还没有很多与 Chiba 相关的代码，那么您几乎肯定会更好地使用正在积极维护的 XForms 实现。Chiba 的主要开发人员现在正在研究 betterFORM（当然还有其他基于 Java 的 XForms 实现，如果您希望在 Java 中紧密集成，以及非基于 Java 的实现，如果您希望更松散耦合）。

# mysql - MySQL 查询在 Master-Child 表中搜索字符串并返回具有 Master-Child 关系的所有行

> ID：14895022
> 
> 赞同：0
> 
> 时间：2013-02-15T12:45:38.810
> 
> 标签：mysql

需要 MySQL 查询帮助。

请在下面找到架构：

```
Table1
PK_id    Table1_Title    Table1_Description
1        Test1           This is Test1
2        Test2           This is Test2

Table2
FK_id    Table2_Title    Table2_Description
1        Test2           This is Test2  
1        Test3           This is Test3 
```

这里“Table2”与主表“Table1”有子关系。我想在以上 2 个表格的标题和描述列中进行搜索。如果在主表“Table1”中找到搜索字符串，则应返回该行以及所有子行。同样，如果在子表行之一中找到搜索字符串，则应返回对应的主表行及其所有子行。为了澄清，请在下面找到结果：

结果：

```
Case 1:
If searching TEST2 Then

PK_id    Table1_Title    Table1_Description    FK_id    Table2_Title    Table2_Description
1        Test1           This is Test1         1        Test2           This is Test2
1        Test1           This is Test1         1        Test3           This is Test3
2        Test2           This is Test2         NULL     NULL            NULL

Case 2:
If searching TEST1 Then

PK_id    Table1_Title    Table1_Description    FK_id    Table2_Title    Table2_Description
1        Test1           This is Test1         1        Test2           This is Test2
1        Test1           This is Test1         1        Test3           This is Test3

Case 3:
If searching TEST3 Then

PK_id    Table1_Title    Table1_Description    FK_id    Table2_Title    Table2_Description
1        Test1           This is Test1         1        Test2           This is Test2
1        Test1           This is Test1         1        Test3           This is Test3 
```

是否可以通过单个查询或其他方式获得结果？

请帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-15T12:50:53.290

试试下面的 SQL：

**更新的 SQL**

```
SELECT *
FROM Table1 
LEFT JOIN Table2 ON  Table1.PK_id = Table2.Fk_id
WHERE CONCAT(Table1_Title, ' ', Table1_Description) LIKE 'test2%'
UNION
SELECT *
FROM Table1 INNER JOIN Table2 ON  Table1.PK_id = Table2.Fk_id
WHERE Table1.PK_Id IN 
(
    SELECT Table2.Fk_id
    FROM Table2 
    WHERE CONCAT(Table2_Title, ' ', Table2_Description) LIKE 'test2%'
) 
```

见**[SqlFiddle](http://sqlfiddle.com/#!2/67168/10)**

**另一个变体 SQL**

```
SELECT *
FROM Table1 
LEFT JOIN Table2 ON  Table1.PK_id = Table2.Fk_id
WHERE Table1_Title LIKE 'test3%'
OR Table1_Description LIKE 'test3%'
OR Table1.PK_Id IN 
(
    SELECT Table2.Fk_id
    FROM Table2 
    WHERE CONCAT(Table2_Title, ' ', Table2_Description) LIKE 'test3%'
) 
```

见**[SqlFiddle](http://sqlfiddle.com/#!2/67168/17)**

其中 Test2 是您需要搜索的字符串。

# php - 获得未定义的属性通知，即使它已定义

> ID：14895023
> 
> 赞同：0
> 
> 时间：2013-02-15T12:45:40.953
> 
> 标签：php, yii

我今天刚开始使用 YII，并且有一个现有的项目要处理。当我尝试运行该项目时，我收到以下通知 -

> 注意：未定义的属性：CWebApplication::$v_glob in ..\controllers\SiteController.php 第 10 行

当我检查`SiteController`课程时，我确实看到`v_glob`确实已定义。这就是课堂的样子——

```
class SiteController extends Controller
{ 
    public function init()
    {
          Yii::app()->v_glob;
          parent::init();
    } 

   /* other functions */
} 
```

由于这个通知，无论我试图调用它的成员函数，我都会遇到致命错误。我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-15T12:51:59.267

好吧，仔细看一下通知：

> 未定义的属性：**CWebApplication** ::$v_glob

该属性`v_glob`必须在 中定义`CWebApplication`，而不是在您的`SiteController`...

PS：以下行并不是很有用：

```
Yii::app()->v_glob; 
```

# highslide - 由于图像大小，标题在图像下方不可见

> ID：14895027
> 
> 赞同：0
> 
> 时间：2013-02-15T12:45:46.303
> 
> 标签：highslide

我目前正在尝试创建一个带有下方标题的图像幻灯片。但是，图像可能非常大，并且（尤其是在较小的屏幕或平板电脑上）有时它们会填满整个屏幕。这也意味着下面的标题会从页面上掉下来。

有没有办法自动修复图像大小，以便它总是为下面的标题留出足够的空间？

这是违规元素的 HTML，如果有帮助的话：

```
<a class="highslide" id="thumbnail1" href="/uploads/tx_extsluiter/m3d-server.png" onclick="return hs.expand(this, new captionId( 'galleryF' + 8, 'gallery8-1-caption') )" ><img src="typo3temp/pics/b21b5af80c.png" width="235" height="133" border="0" alt=""></a>
<div style="display: none" class="highslide-caption" id='gallery8-1-caption'><div><p class="bodytext">Hallo, dit is afbeelding 1</p></div></div>
<a class="iteminfo viewlarge" onclick="document.getElementById('thumbnail1').onclick()" >+</a>
<a class="iteminfo viewtooltip tooltip" title="&lt;p class=&quot;bodytext&quot;&gt;Hallo, dit is afbeelding 1&lt;/p&gt;">i</a> 
```

我已经将 div 直接移到了 A 之后。在高垂直低水平浏览器窗口中计算图像高度时，它现在似乎可以正常工作，但是当使用非常宽和低的窗口时，图像变得太高了。它将填满窗口的整个高度，不为标题留下空间。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-15T12:59:21.750

如果您将标题放入正确的 highslide-caption div 中，扩展器会自动为该标题留出足够的空间。我们可以链接到您的实时页面吗？

# iphone - Xib 尺寸 - 似乎认为它比实际更长

> ID：14895028
> 
> 赞同：0
> 
> 时间：2013-02-15T12:45:50.240
> 
> 标签：iphone, ios, xcode

这有点奇怪，但基本上我遇到了一个问题，即我的初始视图控制器的 xib 大小似乎比屏幕长。

因此，如果您将广告横幅设置在屏幕底部...如果我在模拟器中运行该应用程序，它不会在 iPhone 3GS/4/4S 设备上显示，但会在 iPhone 5 上显示。

我尝试更改 xib 大小设置，甚至创建了一个新的 xib 文件，但同样的问题正在发生，这让我相信它在某处被硬编码，但我想不出在哪里可以找到它。

基本上就像它认为屏幕底部比实际高出大约 30-50 像素......因此，为什么 iPhone5 显示正常，因为它具有更高的屏幕。

任何帮助，将不胜感激！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-15T12:53:45.237

它的状态栏的 bcoz。它保留 20px 的屏幕。您可以通过`Status bar is initially hidden`在 plist 中更改并在 IB 中将状态栏设置为 NONE 来删除此空间。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-15T13:06:05.330

iPhone 5 的屏幕更高。布局 xib 最灵活的方法是通过 AutoLayout。这是一个帮助您入门的教程：

[http://www.raywenderlich.com/20881/beginning-auto-layout-part-1-of-2](http://www.raywenderlich.com/20881/beginning-auto-layout-part-1-of-2) [http://www.raywenderlich.com/20897/beginning-auto-layout-part-2-of-2](http://www.raywenderlich.com/20897/beginning-auto-layout-part-2-of-2)

基本上，您希望将广告横幅限制在视图的底部。

# cuda - 多个进程并行启动 CUDA 内核

> ID：14895034
> 
> 赞同：18
> 
> 时间：2013-02-15T12:46:03.403
> 
> 标签：cuda, gpu

我知道具有 2.x 或更高计算能力的 NVIDIA gpus 可以同时执行多达 16 个内核。但是，我的应用程序产生了 7 个“进程”，这 7 个进程中的每一个都启动 CUDA 内核。

我的第一个问题是这些内核的预期行为是什么。它们是否也会同时执行，或者由于它们是由不同的进程启动的，它们会按顺序执行。

我很困惑，因为 CUDA C 编程指南说：

“来自一个 CUDA 上下文的内核不能与来自另一个 CUDA 上下文的内核同时执行。” 这让我想到了第二个问题，什么是 CUDA“上下文”？

谢谢！

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2013-02-15T14:34:36.823

CUDA 上下文是一个虚拟执行空间，其中包含主机线程或进程拥有的代码和数据。只有一个上下文可以在具有所有当前硬件的 GPU 上处于活动状态。

所以回答你的第一个问题，如果你有七个独立的线程或进程都试图建立一个上下文并同时在同一个 GPU 上运行，它们将被序列化，任何等待访问 GPU 的进程都将被阻塞，直到拥有运行上下文产生。据我所知，没有时间切片和调度启发式没有记录，并且（我怀疑）从操作系统到操作系统并不统一。

您最好启动一个持有 GPU 上下文的工作线程，并使用来自其他线程的消息将工作推送到 GPU 上。或者，在 CUDA 驱动程序 API 中有一个上下文迁移工具，但它只适用于来自同一进程的线程，并且迁移机制具有延迟和主机 CPU 开销。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-15T14:54:16.077

你真的需要有单独的线程和上下文吗？我相信最佳实践是每个 GPU 使用一个上下文，因为单个 GPU 上的多个上下文会带来足够的开销。

要同时执行多个内核，您应该在一个 CUDA 上下文中创建几个 CUDA 流，并将每个内核排队到自己的流中 - 如果有足够的资源，它们将同时执行。

如果您需要从几个 CPU 线程访问上下文 - 您可以使用 cuCtxPopCurrent()、cuCtxPushCurrent() 来传递它们，但在任何时候只有一个线程能够使用上下文。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-08-25T17:42:52.547

添加到@talonmies的答案

在较新的架构中，通过使用 MPS，多个进程可以同时启动多个内核。所以，现在这绝对是可能的，这在以前是不可能的。如需详细了解，请阅读本文。

[https://docs.nvidia.com/deploy/pdf/CUDA_Multi_Process_Service_Overview.pdf](https://docs.nvidia.com/deploy/pdf/CUDA_Multi_Process_Service_Overview.pdf)

此外，您还可以查看不同 GPU 支持的每种 cuda 计算能力类型允许的最大并发内核数。这是一个链接：

[https://en.wikipedia.org/wiki/CUDA#Version_features_and_specifications](https://en.wikipedia.org/wiki/CUDA#Version_features_and_specifications)

例如，具有 7.5 的 cuda 计算能力的 GPU 最多可以启动 128 个 Cuda 内核。

# php - 用 php mysql 填充选择框

> ID：14895035
> 
> 赞同：3
> 
> 时间：2013-02-15T12:46:04.583
> 
> 标签：php, mysql, forms, select

我很难在表单中填充选择框以显示“护士”表中现有的护士“名字”。谁能告诉我我做错了什么？提前致谢！

这是表格

```
 <form method="post" action="insert.php"> 
 <br>
 <tr><td align="left"><strong>Nurse Information</strong></td>
 </td>
 <tr> 
 <td>nurse_name</td>
       <td><select name="valuelist">
    <option value="valuelist" name="nurse_name" value='<?php echo $nurse_name; ?>'></option>

 </select></td>
 <tr> 
```

应填充nurse_forename 的QUERY：

```
<html><head><title>Connect to Database</title></head><body>
<font size="4">Query gets Forename of nurse</font>
<br><br><font size="4">Choose a name</font><br><br> 

<form action="insert.php" method="post">
<select name="valuelist">;
<?php
$value=$_POST ["valuelist"];
$con = mysql_connect("localhost","root","") or die('Could not connect: ' . mysql_error());
 mysql_select_db("a&e", $con) or die('Could not select database.');

$fetch_nurse_name = mysql_query("SELECT DISTINCT $nurse_name FROM nurse");
$result = mysqli_query($con, $query) or die("Invalid query");

while($throw_nurse_name = mysqli_fetch_array($fetch_nurse_name)) {
echo '<option   value=\"'.$nurse_name['nurse_name'].'">'.$throw_nurse_name['nurse_name'].'</option>';
}
echo "</select>";

mysqli_close($con);
 ?>
<input type="submit" value="Submit">
</form></body></html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-15T13:17:10.447

试试这个：

```
<html><head><title>Connect to Database</title></head><body>
 <font size="4">Query gets Forename of nurse</font>
 <br><br><font size="4">Choose a name</font><br><br> 

 <form action="insert.php" method="post">
<select name="valuelist">;
<?php
$value=$_POST ["valuelist"];
$con = mysql_connect("localhost","root","") or die('Could not connect:'.mysql_error());
mysql_select_db("a&e", $con) or die('Could not select database.');

$fetch_nurse_name = mysql_query("SELECT DISTINCT Forename FROM nurse");

while($throw_nurse_name = mysql_fetch_array($fetch_nurse_name)) {
echo '<option   value=\"'.$throw_nurse_name[0].'">'.$throw_nurse_name[0].'</option>';
}
echo "</select>";

?>
<input type="submit" value="Submit">
</form></body></html> 
```

不要同时使用 mysql 和 mysqli ......你应该使用 mysqli 或 PDO，但不能同时使用两者；） PS：已编辑；）

萨卢多斯。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-15T13:23:15.610

抱歉，如果这与其他答案重复，这是使用 mysql_ 语法的答案，尽管您当然应该为此使用 mysqli_ 或 PDO...

```
 <form action="insert.php" method="post">
 <select name="valuelist">;
 <?php

 //path to connection statements
 include('path/to/connection/stateme.nts'); 

 //fetch nurse name
 $query = "SELECT nurse_name FROM nurse;";

 $result = mysql_query($query) or die(mysql_error()); //note: use mysql_error() for development only

 //print results
 while($row = mysql_fetch_assoc($result)) {
 echo '<option   value=\"'.$row['nurse_name'].'">'.$row['nurse_name'].'</option>';
 }
 echo "</select>";

  ?>
 <input type="submit" value="Submit">
 </form> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-09-24T16:30:28.183

检查您使用的 MySQL 表和列名。有时，如果您没有在 MySQL 表中准确地写出这些名称，则它不起作用。认为，

```
$query = "SELECT nurse_name FROM nurse"; 
```

在上面的 SQL 中，如果 MySQL 表名是 'NURSE' 并且列名是 'NURSE_NAME' 则完全像这样写。

```
$query = "SELECT NURSE_NAME FROM NURSE"; 
```

因此，您有时会看到 MySQL 表、列名区分大小写。

# sql - 如何将数字字符串（'14, 72'）转换为sql查询中的数字

> ID：14895037
> 
> 赞同：0
> 
> 时间：2013-02-15T12:46:06.760
> 
> 标签：sql

```
 declare @lkaklf as varchar(Max)
 Select ss.Data from SplitString('14,72', ',') as ss

 Select @lkaklf = CONVERT(varchar, COALESCE( + @lkaklf + ',', '') + '''' + Data + '''') From
 (
    Select Data from SplitString('14,72', ',') 
 )de
 select @lkaklf
 print @lkaklf
 Select * from LPO Where CONVERT(varchar, LPO.LocalPurchaseOrderId) in (@lkaklf) 
```

@lkalf 值是在消息中打印但未进入选择查询...为什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-15T13:17:34.287

你不能做你想做的事。我建议您跳过查询的拆分部分，然后执行以下操作：

```
where ','+@lkaklf+',' like ','+cast(LPO.LocalPurchaseOrderId as varchar(255))+',%' 
```

也就是说，只使用字符串比较。

如果你*真的*想使用`SplitString()`，那么将结果放在一个临时表中：

```
insert into @t
    select data from splitstring('14,72', ',') 
```

然后使用子查询：

```
where cast(@lkalklf as varchar(255)) in (select data from @t) 
```

# c# - 排序列表 >

> ID：14895038
> 
> 赞同：4
> 
> 时间：2013-02-15T12:46:19.033
> 
> 标签：c#, .net

我正在这样做，`C#` `.net2.0` 我有一个包含两个字符串的列表，我想对其进行排序。清单就像`List<KeyValuePair<string,string>>`

我必须根据第一个对其进行排序`string`，即：

*   ACC
*   ABLA
*   南德
*   弗洛
*   IHNJ

我尝试使用`Sort()`，但它给了我异常：*“无效操作异常”，“无法比较数组中的两个元素”*。

无论如何，你能建议我这样做吗？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-15T12:51:57.293

当您被 .NET 2.0 困住时，您将不得不创建一个实现`IComparer<KeyValuePair<string, string>>`并将其实例传递给`Sort`方法的类：

```
public class KvpKeyComparer<TKey, TValue> : IComparer<KeyValuePair<TKey, TValue>>
    where TKey : IComparable
{
    public int Compare(KeyValuePair<TKey, TValue> x,
                       KeyValuePair<TKey, TValue> y)
    {
        if(x.Key == null)
        {
            if(y.Key == null)
                return 0;
            return -1;
        }

        if(y.Key == null)
            return 1;

        return x.Key.CompareTo(y.Key);
    }
}

list.Sort(new KvpKeyComparer<string, string>()); 
```

如果您要使用较新版本的 .NET 框架，则可以使用 LINQ：

```
list = list.OrderBy(x => x.Key).ToList(); 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-02-15T12:56:54.673

为什么不使用 SortedDictionary 呢？

这是关于它的 MSDN 文章：

[http://msdn.microsoft.com/en-us/library/f7fta44c(v=vs.80).aspx](http://msdn.microsoft.com/en-us/library/f7fta44c(v=vs.80).aspx)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-15T13:25:59.987

您可以只使用`Comparison<T>`通用委托。然后，您无需定义一个类来实现`IComparer<T>`，而只需要确保您定义您的方法以匹配委托签名。

```
private int CompareByKey(KeyValuePair<string, string>, KeyValuePair<string, string> y)
{
    if (x.Key == null & y.Key == null) return 0;
    if (x.Key == null) return -1;
    if (y.Key == null) return 1;

    return x.Key.CompareTo(y.Key);
}

list.Sort(CompareByKey); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2018-12-07T11:01:12.677

```
List<KeyValuePair<string, string>> pairs = new List<KeyValuePair<string, string>>();
pairs.Add(new KeyValuePair<string, string>("Vilnius", "Algirdas"));
pairs.Add(new KeyValuePair<string, string>("Trakai", "Kestutis"));

pairs.Sort(delegate (KeyValuePair<String, String> x, KeyValuePair<String, String> y) { return x.Key.CompareTo(y.Key); });
foreach (var pair in pairs)
     Console.WriteLine(pair);
Console.ReadKey(); 
```

# r - 为什么我的列名更改在 R 中不起作用？

> ID：14895040
> 
> 赞同：2
> 
> 时间：2013-02-15T12:46:29.007
> 
> 标签：r, rename

这是我正在编写的脚本的一部分，用于在使用`merge()`. 如果两个数据集都有同名的列，`merge()`则为您提供列`column.x`和`column.y`.
我编写了一个脚本来将这些数据放在一起并删除不需要的列（这将是`column.y`and `column.x_error`，我添加的一个列以在 case 发出警告`dat$column.x != dat$column.y)`。
我还想重命名`column.x`为`column`，以减少我的数据集中不需要的手动操作。我还没有设法重命名`column.x`为`column`，请参阅代码以获取更多信息。

`dat`是从做一个`dat = merge(data1,data2, by= "ID", all.x=TRUE)`

```
#obtain a list of double columns
dubbelkol = cbind()
sorted = sort(names(dat))
for(i in as.numeric(1:length(names(dat)))) {
  if(grepl(".x",sorted[i])){
    if (grepl(".y", sorted[i+1]) && (sub(".x","",sorted[i])==sub(".y","",sorted[i+1]))){
      dubbelkol = cbind(dubbelkol,sorted[i],sorted[i+1])
    } 
  }  
}

#Check data, fill in NA in column.x from column.y if poss
temp = cbind()
for (p in as.numeric(1:(length(dubbelkol)-1))){
  if(grepl(".x",dubbelkol[p])){
    dat[dubbelkol[p]][is.na(dat[dubbelkol[p]])] = dat[dubbelkol[p+1]][is.na(dat[dubbelkol[p]])]
    temp = (dat[dubbelkol[p]] != dat[dubbelkol[p+1]])
    colnames(temp) = (paste(dubbelkol[p],"_error", sep=""))
    dat[colnames(temp)] = temp
  }
}
#If every value in "column.x_error" is TRUE or NA, delete "column.y" and "column.x_error"
#Rename "column.x" to "column"
#from here until next comment everything works
droplist= c()
for (k in as.numeric(1:length(names(dat)))) {
  if (grepl(".x_error",colnames(dat[k]))) {
    if (all(dat[k]==FALSE, na.rm = TRUE)) {
      droplist = c(droplist,colnames(dat[k]), sub(".x_error",".y",colnames(dat[k])))
#the next line doesnt work, it's supposed to turn the .x column back to "" before the .y     en .y_error columns are dropped.
      colnames(dat[sub(".x_error",".x",colnames(dat[k]))])= paste(sub(".x_error","",colnames(dat[k])))
    }
  }
}
dat = dat[,!names(dat) %in% droplist] 
```

`paste(sub(".x_error","",colnames(dat[k])))`会给我`"BNR"`很好，但`colnames(...) = ...`不会更改`dat`.

知道出了什么问题吗？

```
data1
+----+-------+
| ID | BNR   | 
+----+-------+
|  1 | 123   | 
|  2 | 234   |
|  3 | NA    | 
|  4 | 456   | 
|  5 | 677   |
|  6 | NA    | 
+----+-------+

data2
+----+-------+
| ID | BNR   | 
+----+-------+
|  1 | 123   | 
|  2 | 234   |
|  3 | 345   | 
|  4 | 456   | 
|  5 | 677   |
|  6 | NA    | 
+----+-------+
dat
+----+-------+-------+-----------+
| ID | BNR.x | BNR.y |BNR.x_error|
+----+-------+-------+-----------+
|  1 | 123   | NA    |FALSE      |
|  2 | 234   | 234   |FALSE      |
|  3 | NA    | 345   |FALSE      |
|  4 | 456   | 456   |FALSE      |
|  5 | 677   | 677   |FALSE      |
|  6 | NA    | NA    |NA         |
+----+-------+-------+-----------+

desired output
+----+-------+
| ID | BNR   | 
+----+-------+
|  1 | 123   |
|  2 | 234   | 
|  3 | 345   | 
|  4 | 456   | 
|  5 | 677   | 
|  6 | NA    | 
+----+-------+ 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-15T12:58:14.750

我建议更换：

```
sub(".x_error",".x",colnames(dat[k]))] 
```

和：

```
sub("\\.x_error", "\\.x", colnames(dat[k]))] 
```

如果您想替换实际的`.`. 你必须逃脱`.`。`\\.`正则表达式中的 A`.`表示`any character`.

更好的是，因为您要替换`.`为什么`.`不直接说：

```
sub("x_error", "x", colnames(dat[k]))] 
```

（或）如果除了 之外别无其他`_error`，`x_error`只需：

```
sub("_error", "", colnames(dat[k]))] 
```

**编辑：**问题似乎是您的数据格式似乎在左侧和右侧加载了额外的列。您可以先选择所需的列，然后合并。

```
d1 <- read.table(textConnection("| ID | BNR   | 
|  1 | 123   | 
|  2 | 234   |
|  3 | NA    | 
|  4 | 456   | 
|  5 | 677   |
|  6 | NA    |"), sep = "|", header = TRUE, stringsAsFactors = FALSE)[,2:3]

d1$BNR <- as.numeric(d1$BNR)

d2 <- read.table(textConnection("|  1 | 123   | 
|  2 | 234   |
|  3 | 345   | 
|  4 | 456   | 
|  5 | 677   |
|  6 | NA    |"), header = FALSE, sep = "|", stringsAsFactors = FALSE)[,2:3]

names(d2) <- c("ID", "BNR")
d2$BNR <- as.numeric(d2$BNR)

# > d1
#   ID BNR
# 1  1 123
# 2  2 234
# 3  3  NA
# 4  4 456
# 5  5 677
# 6  6  NA

# > d2
#   ID BNR
# 1  1 123
# 2  2 234
# 3  3 345
# 4  4 456
# 5  5 677
# 6  6  NA

dat <- merge(d1, d2, by="ID", all=T)
> dat

#   ID BNR.x BNR.y
# 1  1   123   123
# 2  2   234   234
# 3  3    NA   345
# 4  4   456   456
# 5  5   677   677
# 6  6    NA    NA

# replace all NA values in x from y
dat$BNR.x <- ifelse(is.na(dat$BNR.x), dat$BNR.y, dat$BNR.x)

# now remove y
dat$BNR.y <- null 
```

# php - 是否可以将自动重定向 url 添加到幻灯片中？

> ID：14895041
> 
> 赞同：2
> 
> 时间：2013-02-15T12:46:31.297
> 
> 标签：php, html, wordpress, slider, slideshow

我有一个客户坚持在有人访问他的网站时使用带有背景音乐的启动页面。他还停留在闪光效果上，但仍然希望该网站能够在 iPhone、iPad 等苹果产品上运行。

他希望这个启动页面在 4 秒后自动将访问者发送到“主”页面。

所以！使用只有一张幻灯片的图层滑块，其中包含几张他认为很酷的图像，我设法让照片中的闪光消失并播放背景音乐，所以他对此很满意。

我将幻灯片设置为 20 秒，但我现在需要的是让这张幻灯片重定向到主页。

任何人都知道如何做到这一点？

PS它是一个wordpress托管的网站。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-15T13:12:32.257

您的插件是否提供了任何事件处理程序来表示滑块运行的结束？或者回调。如果是，您可以使用它找到滑块的末尾并将其重定向到您的主页。

既然是插件，那肯定有这样的handler。请检查您使用的插件不是免费的，我无法访问它的文档。（不能免费获得。）

# javascript - 将值设置为 getElementsByName 数组

> ID：14895044
> 
> 赞同：2
> 
> 时间：2013-02-15T12:46:46.417
> 
> 标签：javascript, dynamic, getelementsbyname

我有以下情况：

*   我必须使用动态表（添加/删除行） - 来自[http://viralpatel.net/blogs/dynamically-add-remove-rows-in-html-table-using-javascript/的代码](http://viralpatel.net/blogs/dynamically-add-remove-rows-in-html-table-using-javascript/)*   行包含带有名称的 html 输入框，没有 id*   我需要能够为这些框设置值

    我尝试了以下方法，但遇到了语法问题：

    <!-- html部分->这一行将被动态表代码复制-->

    ```
    <tr><td><input type=input name=mybox></td></tr>

    //js part - variant 1:
    document.getElementsByName("mybox").item(j).value = j;

    //js part - variant 2:
    document.getElementsByName("mybox")[j].setAttribute("value", j); 
    ```

    这些似乎都不起作用。你能建议一个正确的方法吗？

    谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-15T12:53:31.083

`getElementsByName`返回一个 HTMLElement 数组。

此行具有正确的语法，但我怀疑`j`，您尝试设置的值是返回数组的正确索引值。

```
document.getElementsByName("mybox")[j].setAttribute("value", j); 
```

第一次出现的`j`应该是返回数组的索引。如果它是给定名称找到的第一个元素，则为 0，如果是第二个，则为 1，依此类推。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-15T12:51:31.823

`document.getElementsByName("mybox")[j].value = j;`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-15T12:58:32.127

您的 html 代码似乎错误，请尝试使用双引号：

```
<tr><td><input type="input" name="mybox"></td></tr> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-15T13:00:04.687

我们不知道它的值是什么`j`以及它是如何设置的。

第一个变体应该可以工作。只需设置一个有意义的值。出于测试目的：`document.getElementsByName("mybox")[3].value = "Test";`

也使用引号作为属性`type="input"`和`name="mybox"`

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-15T13:34:48.680

试试这个 `$("#mybox").eq(j).val("your value");`

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-02-15T23:20:13.077

感谢您的反馈。

Michal 的解决方案是我得到的解决方案。

```
document.getElementsByName("mybox")[3].value = "Test"; 
```

==========================================

但是，我按照 Marcell Fülöp 的建议以非常基本的方式尝试了我的第二个变体，并看到了一些奇怪的行为：

```
//manual assignment of indexes
document.getElementsByName("mybox")[0].setAttribute("value",0);
document.getElementsByName("mybox")[1].setAttribute("value",1);
document.getElementsByName("mybox")[2].setAttribute("value",2); 
```

奇怪的结果是只有第一个盒子得到了它的价值。我很乐意理解为什么...

# javascript - 当元素为 Live 时调用函数

> ID：14895045
> 
> 赞同：1
> 
> 时间：2013-02-15T12:46:47.047
> 
> 标签：javascript, jquery

当元素处于活动状态时我如何调用函数，我认为我们只是通过活动引发事件来引发函数..

```
$('#a').live('click',function(){
  //some code
}); 
```

但是我需要在元素存在时调用一个函数，任何想法。

上下文是

> 最初我没有选择框，如果我有一个特定的选择框，那么我想调用一个将结果推送到其中的函数..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-15T12:53:19.520

您可以在委托事件中使用...

```
$(document).on("click",'#a',function(){
   alert(clicked);
}); 
```

但是，始终建议您使用 HTML 标记中最接近的静态元素，以便获得更好的性能.. 您可以在[此处](http://jq4you.blogspot.com/2013/02/jquery-direct-and-delegate-on-event.html)`$(document)`阅读有关委托事件的更多信息..

> 事件处理程序仅绑定到当前选定的元素；当您的代码调用 .on() 时，它们必须存在于页面上。为了确保元素存在并且可以被选择，请在文档就绪处理程序中为页面上 HTML 标记中的元素执行事件绑定

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-15T12:48:10.510

Live 在 jQuery 1.9 上已被弃用和删除。利用`.on()`

这可以在页面加载后单击任何带有 id #a 的元素

```
$(document).on('click','#a',function(){

//Code here

}); 
```

# c# - .net 中的 Webview Livescope SDK 视频录制

> ID：14895046
> 
> 赞同：1
> 
> 时间：2013-02-15T12:46:50.103
> 
> 标签：c#, sdk, webview, canon-sdk

如何录制佳能相机 VB-C60 的视频？这是网络摄像机，现在我正在使用 wvls_sdkstng.dll（Webview Livescope SDK）和 dll 版本是 2.1.3 来录制视频。

我的代码在 c#.net 中。我应该使用哪个功能来录制视频。？我尝试过使用 SaveAsAVI 功能，它给了我编解码器 60 错误。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-16T08:51:03.957

对视频使用选项**wvlssAviMpeg4**

```
conWVSL.SaveAsAvi(filepath, WvlsSDKSmplLib.WvlssAviSupport_t.wvlssAviMpeg4, 1, 10, 180); 
```

您可以根据需要更改参数参数。

# javascript - JQVMap - 如何在regionclick上显示数据值

> ID：14895048
> 
> 赞同：5
> 
> 时间：2013-02-15T12:46:55.207
> 
> 标签：javascript, jquery, jqvmap

```
var setMap = function (name) {
        var data = {
            map: 'world_en',
            backgroundColor: null,
            borderColor: '#333333',
            borderOpacity: 0.5,
            borderWidth: 1,
            color: '#c6c6c6',
            enableZoom: true,
            hoverColor: '#c9dfaf',
            hoverOpacity: null,
            values: sample_data,
            normalizeFunction: 'linear',
            scaleColors: ['#b6da93', '#909cae'],
            selectedColor: '#c9dfaf',
            selectedRegion: null,
            showTooltip: true,
            onLabelShow: function (event, label, code) {

            },
            onRegionOver: function (event, code) {
                if (code == 'ca') {
                    event.preventDefault();
                }
            },
            onRegionClick: function (element, code, region) {
                var message = 'You clicked "' + region + '" which has the code: ' + code.toUpperCase();
                alert(message);
            }
        };

        data.map = name + '_en';
        var map = jQuery('#vmap_' + name);
        map.width(map.parent().parent().width());
        map.show();
        map.vectorMap(data);
        map.hide();
    } 
```

任何人都知道如何在 onRegionClick 函数中使用点击区域的值？我使用这张地图来提供网站统计数据，并希望在点击“美国（美国）的 1000 次浏览”之类的内容时发出警报

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-10T23:44:04.313

正如我在评论中所说，我在提出问题后立即找到了解决方案，但对于那些有这个小问题的人，我也只是发布我的解决方案。您只需要将要显示的字符串附加到标签。

```
onLabelShow: function (event, label, code) {
    if(sample_data[code] > 0)
        label.append(': '+sample_data[code]+' Views'); 
} 
```

希望能帮助到你。

# shell - awk 而不是 sed 不起作用（缓慢、滞后和错误的输出）

> ID：14895051
> 
> 赞同：-1
> 
> 时间：2013-02-15T12:47:02.600
> 
> 标签：shell, sed, stream, awk, keyboard-events

为什么`awk`不适用于以下命令而不是`sed`：

```
su -c "stdbuf -i0 -o0 -e0 od --width=144 -x /dev/input/event3 | sed 's%^\([a-z0-9]\+ \)\{11\}%%;s%\(....\).*%\1%'" 
```

这会在每次按键时打印所按键的**USB HID ID 号**。

示例输出（`0028`是 for`Return`和`00e4`for `Right-Ctrl`）：

```
0028
0028
0028
0028
0028
00e4
00e4
00e4 
```

这是按两次时**没有** `sed`//过滤的两行输出`cut`。USB HID ID 编号在第 12 列：`awk``Return`

```
0000000 2d6f 511e 0000 0000 051b 0007 0000 0000 0004 0004 0028 0007 2d6f 511e 0000 0000 051d 0007 0000 0000 0001 001c 0000 0000 2d6f 511e 0000 0000 051e 0007 0000 0000 0000 0000 0000 0000 2d73 511e 0000 0000 a150 0007 0000 0000 0004 0004 0028 0007 2d73 511e 0000 0000 a153 0007 0000 0000 0001 001c 0001 0000 2d73 511e 0000 0000 a154 0007 0000 0000 0000 0000 0000 0000
0000220 2d73 511e 0000 0000 9b5a 0008 0000 0000 0004 0004 0028 0007 2d73 511e 0000 0000 9b5d 0008 0000 0000 0001 001c 0000 0000 2d73 511e 0000 0000 9b5e 0008 0000 0000 0000 0000 0000 0000 2d74 511e 0000 0000 4f90 0005 0000 0000 0004 0004 0028 0007 2d74 511e 0000 0000 4f93 0005 0000 0000 0001 001c 0001 0000 2d74 511e 0000 0000 4f94 0005 0000 0000 0000 0000 0000 0000 
```

我试过了

```
su -c "stdbuf -i0 -o0 -e0 od --width=144 -x /dev/input/event3 | cut -d' ' -f12" 
```

它也有效。但它只显示**在接下来的两次按键之后按下的键**。stdbuf 在这里没有帮助，尽管它应该将标准输入/输出/错误流缓冲调整为 0。

我的`mawk`命令如下所示：

```
su -c "stdbuf -i0 -o0 -e0 od --width=$((48*3)) -x /dev/input/event3 | mawk '{ print $12 }'" 
```

但它只向我展示了一些二重奏，然后是一些换行符，然后是二重奏。它似乎非常滞后/缓慢。当我按下一个键时，什么也没有发生。多次**按下不同的键**后，**我总是得到**一堆二和换行符。**不管**我按了哪个键！例子：

```
2
2
2
2
2
2
2
2
2
2

2
2 
```

我怎样才能解决这个问题？为什么会出现这种情况？

## 更新

当我使用它`gawk`而不是`mawk`它时不再滞后（无缓冲）。但是我仍然看不到正确的值应该是`0028`or`00e4`等​​等`Return`，`Right-Ctrl`作为示例键。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-15T19:17:30.397

带着所有的评论，我找到了解决方案。

@Olivier Dulac 让我想到有不同的`awk`实现，这解决了滞后问题（使用`gawk`而不是`mawk`）。我什至不需要`stdbuf`.

@Ed Morton 的想法给我带来了一个问题，因为他`"`在示例中使用了引号。我已经在我的声明中引用了整件事，因为它是使用`su`. 所以我不得不逃离他们。

我的整个陈述看起来像这样（注意 12 前面的转义美元符号）：

```
su -c "od --width=144 -x /dev/input/event3 | awk '{ print \$12 }'" 
```

现在它按预期工作。

# c++ - 固定动态大小的容器

> ID：14895052
> 
> 赞同：33
> 
> 时间：2013-02-15T12:47:03.563
> 
> 标签：c++, c++11, containers, sequence, std

是否有用于固定长度序列的标准容器，其中该长度是在运行时确定的。最好，我想将一个参数传递给每个序列元素的构造函数，并使用该参数来初始化一个 const 成员（或引用）。我还想在 O(1) 中的给定索引处获取序列元素。在我看来，我的所有要求都无法同时满足。

*   我知道[`std::array`](http://en.cppreference.com/w/cpp/container/array)有固定的长度，但这个长度必须在编译时知道。
*   [`std::vector`](http://en.cppreference.com/w/cpp/container/vector)具有动态大小，并允许使用[`emplace`](http://en.cppreference.com/w/cpp/container/vector/emplace). 尽管您可以[`reserve`](http://en.cppreference.com/w/cpp/container/vector/reserve)记忆以避免实际的重新分配，但该类型仍然必须是[可移动](http://en.cppreference.com/w/cpp/concept/MoveAssignable)的以理论上允许此类重新分配，例如防止 const 成员。
*   然后是[`std::list`](http://en.cppreference.com/w/cpp/container/list)and [`std::forward_list`](http://en.cppreference.com/w/cpp/container/forward_list)，它不需要可移动类型，但仍然可以调整大小，并且在随机访问模式下表现不佳。我也觉得这样的列表可能会有相当大的开销，因为每个列表节点可能会被单独分配。
*   奇怪的是，[`std::valarray`](http://en.cppreference.com/w/cpp/numeric/valarray)这是我迄今为止最好的选择，因为它有固定的长度并且不会自动调整大小。尽管有一个[`resize`](http://en.cppreference.com/w/cpp/numeric/valarray/resize)方法，但除非您实际调用该方法，否则您的类型不必是可移动的。这里的主要缺陷是缺少自定义构造函数参数，因此无法使用这种方法初始化 const 成员。

有没有我错过的替代方案？有没有办法调整一个标准容器以满足我的所有要求？

* * *

*编辑：*为了让您更准确地了解我正在尝试做的事情，请参阅此示例：

```
class A {
  void foo(unsigned n);
};

class B {
private:
  A* const a;
  const unsigned i;
public:
  B(A* aa) : a(aa), i(0) { }
  B(A* aa, unsigned ii) : a(aa), i(ii) { }
  B(const std::pair<A*, unsigned>& args) : B(args.first, args.second) { }
  B(const B&) = delete;
  B(B&&) = delete;
  B& operator=(const B&) = delete;
  B& operator=(B&&) = delete;
};

void A::foo(unsigned n) {
  // Solution using forward_list should be guaranteed to work
  std::forward_list<B> bs_list;
  for (unsigned i = n; i != 0; --i)
    bs_list.emplace_front(std::make_pair(this, i - 1));

  // Solution by Arne Mertz with single ctor argumen
  const std::vector<A*> ctor_args1(n, this);
  const std::vector<B> bs_vector(ctor_args1.begin(), ctor_args1.end());

  // Solution by Arne Mertz using intermediate creator objects
  std::vector<std::pair<A*, unsigned>> ctor_args2;
  ctor_args2.reserve(n);
  for (unsigned i = 0; i != n; ++i)
    ctor_args2.push_back(std::make_pair(this, i));
  const std::vector<B> bs_vector2(ctor_args2.begin(), ctor_args2.end());
} 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-02-15T13:15:19.410

理论上`vector`有你需要的属性。如您所述，如果元素不可复制和/或不可分配，则不支持*可能*对包含类型进行分配的操作，尤其是任何序列修改（empace_back、push_back、插入等）。因此，要创建不可复制元素的向量，您必须在向量构造期间构造每个元素。

正如史蒂夫杰索普在他的回答中指出的那样，如果您首先定义向量 const，您甚至无法调用此类修改操作 - 当然元素也保持不变。

如果我理解正确，您只有一系列构造函数参数，而不是真实的对象序列。如果它只有一个参数并且包含的​​类型具有相应的构造函数，那么事情应该很容易：

```
struct C
{
  const int i_;  
  C(int i) : i_(i) {}
};

int main()
{
  const std::vector<C> theVector { 1, 2, 3, 42 };
} 
```

如果构造函数是显式的，则必须先创建一个列表或显式构造初始化器列表中的对象：

```
int main()
{
  auto list = { 1, 2, 3, 4 };
  const std::vector<C> theVector (std::begin(list), std::end(list));
  const std::vector<C> anotherVector { C(1), C(44) };
} 
```

如果每个构造对象不止一个参数，请考虑一个中间创建者对象：

```
struct C
{
  const int i_;  
  C(int i, int y) : i_(i+y) {}
};

struct CCreator
{ 
  int i; int y; 
  explicit operator C() { return C(i,y); }
};

int main()
{
  const std::vector<CCreator> ctorArgs = { {1,2}, {3,42} };
  const std::vector<C> theVector { begin(ctorArgs), end(ctorArgs) };
} 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-02-15T13:38:55.430

我认为`const std::vector<T>`有你要求的属性。它的元素实际上并没有用*定义*`const`，但它提供了它们的 const 视图。你不能改变大小。您不能调用任何需要`T`可移动的成员函数，因此对于正常使用它们不会被实例化（如果您进行了`extern`类声明，它们将被实例化，因此您不能这样做）。

如果我错了，并且您确实因为`T`不可移动而遇到麻烦，请尝试使用 a`const std::deque<T>`代替。

困难在于构造 blighter——在 C++11 中，您可以使用初始化列表来执行此操作，或者在 C++03 中，您可以`const vector`从非常量向量或任何其他可以获得迭代器的东西中构造 a。这并不一定意味着`T`需要可复制，但确实需要一种可以构造它的类型（可能是您为此目的而发明的类型）。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-02-15T13:28:39.213

使用 . 添加间接级别`std::shared_ptr`。共享指针可以像往常一样被复制和分配，但不修改指向的对象。这样你就不应该有任何问题，如以下示例所示：

```
class a
{
public:
    a(int b) : b(b) { }

    // delete assignment operator
     a& operator=(a const&) = delete;

private:
    // const member
    const int b;
};

// main
std::vector<std::shared_ptr<a>> container;

container.reserve(10);
container.push_back(std::make_shared<a>(0));
container.push_back(std::make_shared<a>(1));
container.push_back(std::make_shared<a>(2));
container.push_back(std::make_shared<a>(3)); 
```

另一个优点是该函数`std::make_shared`允许您使用任意数量的参数创建对象。

* * *

**编辑：**

正如 MvG 所说，也可以使用`std::unique_ptr`. `boost::indirect_iterator`可以通过将元素复制到新向量中来删除使用间接：

```
void A::foo(unsigned n)
{
    std::vector<std::unique_ptr<B>> bs_vector;
    bs_vector.reserve(n);

    for (unsigned i = 0; i != n; ++i)
    {
        bs_vector.push_back(std::unique_ptr<B>(new B(this, i)));
    }

    typedef boost::indirect_iterator<std::vector<std::unique_ptr<B>>::iterator> it;

    // needs copy ctor for B
    const std::vector<B> bs_vector2(it(bs_vector.begin()), it(bs_vector.end()));

    // work with bs_vector2
} 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2021-04-06T02:49:37.003

我也遇到这个问题，我代码中的用例是提供一个线程安全的向量，元素个数是固定的，是原子序数。我在这里阅读了所有很棒的答案。我想我们也可以考虑我的解决方案：

只需继承并隐藏, ,`std::vector`等修饰符，即可得到一个固定大小的向量。我们只能使用 访问和修改元素。`push_back``emplace_back``erase``operator []`

```
template <typename T>
class FixedVector : protected std::vector<T> {
 public:
  using BaseType = std::vector<T>;
  FixedVector(size_t n) : BaseType(n) {}
  FixedVector(const T &val, size_t n) : BaseType(val, n) {}
  typename BaseType::reference operator[](size_t n) {
    return BaseType::operator[](n);
  }
}; 
```

# javascript - QML 中的 PathView 是否适用于插值？

> ID：14895053
> 
> 赞同：0
> 
> 时间：2013-02-15T12:47:04.590
> 
> 标签：javascript, qml

只是想知道 PathView 如何使用 PathLine 元素来形成自己？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-15T22:13:09.933

它基于 QPainterPath：[http ://doc.qt.digia.com/stable/qpainterpath.html](http://doc.qt.digia.com/stable/qpainterpath.html)

PathLine、PathQuad 等组合成一个 QPainterPath，它可以通过 QPainterPath::pointAtPercent() 在路径上的任何点给出位置。

实际实现缓存了一些点以加快查找速度。在 QtQuick 2.0 中，返回的点是两个最近缓存点的插值。

# drupal - 如何将 drupal 7.17 从 drupal 7.17 更新到 7.18

> ID：14895056
> 
> 赞同：-1
> 
> 时间：2013-02-15T12:47:15.300
> 
> 标签：drupal, drupal-7

它将如何升级到低版本到 7.18 版本。我收到了“此页面上的脚本可能正忙，或者它可能已停止响应。您现在可以停止脚本，也可以继续查看脚本是否会完成。脚本：modules/contrib/jquery_update/replace/jquery /1.5/jquery.min.js?v=1.5.2:16'

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T18:08:32.093

也许您应该在更新 drupal 时停用 jquery 更新模块？

这是我进行小升级的标准方法（7.17 -> 7.18）。

*   将站点置于维护模式。
*   用 ftp 备份所有文件。
*   备份数据库。
*   下载新的drupal版本并解压。
*   检查当前的 drupal 安装是否有我不想替换的东西（站点和配置文件）。
*   删除旧的核心文件/目录并使用 ftp 上传新的核心文件而不替换站点并仔细检查，因此我不会删除配置文件目录中的配置文件。
*   运行更新.php
*   更新 contrib 模块（一个一个）并运行 update.php，如果有问题我有机会找到问题。

# visual-c++ - 在 .txt 文件中覆盖

> ID：14895058
> 
> 赞同：0
> 
> 时间：2013-02-15T12:47:27.723
> 
> 标签：visual-c++

我正在用 Visual C++ 编写代码。我的目标是在 .txt 文件中写入一些双精度值。问题是我将它传递给 for cicle 并且每次都有文件覆盖，所以我只能看到最后一个值。（marker1、marker2、marker3 的值在每个循环中都会发生变化）。

```
ofstream myfile;
myfile.open("C:/Mattia_progetto/LineScannerRealTime/markers.txt");
myfile<<marker1[0]<<"\t"<<marker1[1]<<"\t"<<marker1[2]<<"\t"<<marker2[0]<<"\t"<<marker2[1]<<"\t"<<marker2[3]<<"\t"<<marker3[0]<<"\t"<<marker3[1]<<"\t"<<marker3[2];
myfile.close(); 
```

我该如何解决？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-15T12:52:26.967

`ios::app`作为模式标志传递`myfile.open()`给以将某些内容附加到文件而不是覆盖内容。

请参阅：[http ://en.cppreference.com/w/cpp/io/basic_ofstream/open](http://en.cppreference.com/w/cpp/io/basic_ofstream/open)

# java - java swing的Jtable中的一列值不能大于另一列值

> ID：14895063
> 
> 赞同：0
> 
> 时间：2013-02-15T12:47:46.903
> 
> 标签：java, swing

我有 4 列 JTable 使用默认表模型，我从 DB 中填充两列，用户必须在 jTable 中填写购买价格和销售价格，我想让销售价格不能大于 Mrp 请帮助我..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-15T12:52:45.937

在什么问题上？你能显示任何相关代码吗？我建议您编写自定义表模型的任何方式都可以扩展 DefaultTableModel ( [http://docs.oracle.com/javase/1.5.0/docs/api/javax/swing/table/DefaultTableModel.html](http://docs.oracle.com/javase/1.5.0/docs/api/javax/swing/table/DefaultTableModel.html) )，它更灵活。

# php - Wordpress 生成错误的 URL

> ID：14895067
> 
> 赞同：1
> 
> 时间：2013-02-15T12:48:09.160
> 
> 标签：php, wordpress

我是wordpress的新手。此时，我的博客 URL 是`blog.mysite.com`，过去是`www.mysite.com/blog`。

博客中的 URL 和链接都可以，因为我更改了 wp-config 文件中的基本 URL。但是，图像仍在使用旧路线。

这是我图片的网址：

```
blog.mysite.com/wp-content/themes/canvas/functions/thumb.php?src=http://mysite.com/blog/wp-content/uploads/2012/04/bname-268x300.jpg&w=150&h=150&zc=1&q=90 
```

正如你所看到的，它使用的是 TinThumb 插件，但它使用的 URL 是旧的。

谁能帮我解决它？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-15T12:55:24.683

Wordpress 的主要缺点是它在数据库中保存了完整的图像 url。因此，如果您迁移您的网站，您必须在您的 sql 文件中搜索和替换 url，并且需要再次转储它。

我建议您手动执行并按照[此处](http://codex.wordpress.org/Moving_WordPress)提到的步骤操作。

还有一个插件可用于执行相同的命名[Search 和 Replace](http://wordpress.org/extend/plugins/search-and-replace/)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-15T12:52:13.850

在 wp-config 中添加两行

```
define('WP_SITEURL', 'http://newsiteaddress.com/');
define('WP_HOME', 'http://newsiteaddress.com/'); 
```

请注意，某些使用文件系统的插件（例如 ssome 缓存）可能必须重新配置，或者可能需要重新配置缓存

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-15T12:54:28.290

您需要将数据库转储到文件并将所有字符串“mysite.com/blog”替换为“blog.mysite.com”，然后通过固定转储覆盖数据库。对不起，我的英语不好。

# java - 从解析的日期获取正确的长值（时区问题）

> ID：14895068
> 
> 赞同：5
> 
> 时间：2013-02-15T12:48:09.867
> 
> 标签：java, oracle-adf

我正在尝试从字符串中解析日期并获取长值。长值将稍后发送到 SQL 查询。

这是我的代码：

```
String dayDate = "28-02-2013";            
SimpleDateFormat sdf = new SimpleDateFormat("dd-MM-yyyy");
Date day = new Date();
try {
    day = sdf.parse(dayDate);
} catch (ParseException pe) {
    pe.printStackTrace();
}
System.out.println("day : "+day.toString()+ "  long : " + day.getTime()); 
```

给出以下输出：

```
day : Thu Feb 28 00:00:00 EET 2013  long : 1362002400000 
```

这是正确的，但不是我想要的，因为长值导致格林威治标准时间 2013 年 2 月 27 日星期三 22:00:00 ( [http://www.epochconverter.com/](http://www.epochconverter.com/) )（我在 GMT+2 时区）。我需要将正确的长值发送到 sql。

有没有办法在不使用外部库的情况下解决这个问题？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-15T12:58:33.703

SimpleDateFormat 是区域感知的，这意味着它解析的日期在您的时区中。格林威治标准时间 + 2 的 2 月 28 日午夜实际上是格林威治标准时间 2 月 27 日晚上 10 点，长值 1362002400000。我会添加这个来正确解析（不会打扰使用日历）：

```
sdf.setTimeZone(TimeZone.getTimeZone("GMT")) 
```

同样，当您打印此日期时，它使用 SimpleDateFormat，这就是您可以在输出中看到 EET 的原因。

将它传递给数据库是一个不同的故事，但一旦你做对了。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-15T13:03:12.437

您正在`Date`日期和时间的文本和内部 ( ) 表示之间进行转换，而没有明确说明时区。[那永远不会顺利](https://stackoverflow.com/a/6858453/545127)。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-15T12:56:46.837

用于[`DateFormat.setCalendar(Calendar cal)`](http://docs.oracle.com/javase/7/docs/api/java/text/DateFormat.html#setCalendar%28java.util.Calendar%29)设置以 GMT 作为其时区的日历，或[`DateFormat.setTimeZone(TimeZone zone)`](http://docs.oracle.com/javase/7/docs/api/java/text/DateFormat.html#setTimeZone%28java.util.TimeZone%29)与 GMT 时区一起使用。这将确保生成的日期将是 GMT 而不是 EET 中的 00:00:00。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-15T12:59:28.527

如果将时区说明符添加到字符串中，则可以强制 java 使用 GMT 进行转换：

```
String dayDate = "28-02-2013";            
SimpleDateFormat sdf = new SimpleDateFormat("dd-MM-yyyy z"); // z is a timezone specifier
Date day = new Date();
try {
    day = sdf.parse(dayDate + " GMT"); // Use GMT timezone.
} catch (ParseException pe) {
    pe.printStackTrace();
}
System.out.println("day : "+day.toString()+ "  long : " + day.getTime()); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-15T12:58:54.313

```
Calendar calendar = Calendar.getInstance();
    calendar.setTimeZone(TimeZone.getTimeZone("America/Los_Angeles"));
    Date date = calendar.getTime(); 
```

使用您的时区字符串：

[时区](http://www.timeanddate.com/library/abbreviations/timezones/)

# java - 当黑莓操作系统显示相机权限警报并且用户单击呼叫结束（红色）按钮时如何正确退出黑莓应用程序

> ID：14895074
> 
> 赞同：1
> 
> 时间：2013-02-15T12:48:20.720
> 
> 标签：java, blackberry, barcode, barcode-scanner

我们开发了一个应用程序，它在 OS 6 及更高版本上使用 Blackberry BarcodeScanner 类解码 QR 码。当调用条形码扫描仪屏幕时，操作系统会发出摄像头许可警报，并且应用程序会被遮挡，即它进入后台。在这一点上，如果用户单击红色呼叫结束按钮，应用程序将隐藏（它保持在后台并且不会终止）并且警报保持打开状态。在接受 ALLOW 或 DENY 并重新打开应用程序时，手机会挂起，需要通过从设备中取出电池来重新启动。

我想要做的是当用户在这种情况下单击红色呼叫结束按钮时，我可以完全终止应用程序。由于操作系统权限警报独立于应用程序，因此当用户调用应用程序时，它将具有该权限。

请告诉我如何从那时起终止应用程序，以帮助我。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-16T03:41:38.583

不确定应用程序为何挂起，但最好的解决方案是您应该在启动时使用[ApplicationPermissionManager](http://www.blackberry.com/developers/docs/7.0.0api/net/rim/device/api/applicationcontrol/ApplicationPermissionsManager.html)测试您需要的权限。如果您没有对应用程序功能至关重要的权限（相机对条形码扫描至关重要），那么您应该通过 API 请求权限，该 API 允许您提供需要权限的原因。这应该在您请求访问受控资源之前发生。如果用户未授予关键权限，您可以显示一条消息并干净地退出。

为了完整起见，如果资源对应用程序功能不重要，则应用程序应在首次启动时请求一次权限，如果未授予权限，则禁用需要该权限的功能。

在需要资源时使用默认权限请求会使大多数用户感到困惑，并且与更现代的系统（BB10、iOS、Android）中使用的权限授予方法不匹配，而在首次启动时询问您需要的所有权限提供了更好的用户体验，更容易在代码中处理。

# jquery - 将图像放置在浏览器的 100% 宽度和 100% 高度的 div 中

> ID：14895075
> 
> 赞同：1
> 
> 时间：2013-02-15T12:48:29.700
> 
> 标签：jquery, html, css, height, width

嗨，简单的问题真的但无法弄清楚。

我想用图像填充浏览器，这样无论用户在浏览器中使用什么尺寸，我的图像都会填充内容。

我还需要图像保持居中，这样如果用户让他的浏览器变小，图像将保持居中并首先失去边缘，希望他有意义。

这背后的原因，我打算在它的地方放一个插件，叫做图层滑块。

这是我的代码

```
<div id="div1">
<img src="images/gifts.jpg" height"100%" width"100%">
</div> 
```

编辑 1：抱歉忘了补充一点，我需要保持图像成比例，这样如果用户减小浏览器的宽度，图像将保持居中但会开始失去边缘，如果用户随后减小高度，则图像将缩小，以便浏览器的高度或宽度始终保持成比例。

编辑 2：这是我想要的链接，但我需要图像在 div 中。

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-15T12:50:52.723

将高度和宽度应用于分隔线本身。

```
#div1 { height:100%; width:100%; } 
```

如果高度不适用于分隔线，您需要将页面的 html 和正文更改为也具有 100% 的高度。清除填充和边距也是一个好主意。

```
html, body { height:100%; padding:0; margin:0; } 
```

[JSF](http://jsfiddle.net/LUNCJ/)中。

如果您还希望该分隔线出现在后面的其他内容之上，则需要将其 z-index 设置为大于后面的内容并定位分隔线：

```
body { position:relative; z-index:1; }
#div1 { position:fixed; z-index:1000; } 
```

编辑：

要保持图像成比例：

```
/* If the browser doesn't support media queries */
div#div1 img { height:100%; width:100%; }

/* If the screen is portrait */
@media screen and (orientation:portrait) { 
    div#div1 img { height:auto; width:100%; }
}

/* If the screen is landscape */
@media screen and (orientation:landscape) {
    div#div1 img { height:100%; width:auto; }
} 
```

更新[了 JSFiddle](http://jsfiddle.net/LUNCJ/2/)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-15T12:52:06.193

添加以下内容`CSS`

```
#div1 img {
    position : absolute;
    height:100%;
    width:100%
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-15T12:57:41.080

尝试这个：

如果要设置 div 或任何元素的**高度，则应将 body 和 html 的高度设置为 100%。**

```
body,html{
  height:100%;
}

#div1{
  height:100%
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-15T12:58:19.210

添加您的图像

```
 <img src="images/bg.jpg" id="bg" alt=""> 
```

添加这个CSS

```
#bg { position: fixed; top: 0; left: 0; }
.bgwidth { width: 100%; }
.bgheight { height: 100%; } 
```

使用这个 jquery

```
$(window).load(function() {    

    var theWindow        = $(window),
        $bg              = $("#bg"),
        aspectRatio      = $bg.width() / $bg.height();

    function resizeBg() {

        if ( (theWindow.width() / theWindow.height()) < aspectRatio ) {
            $bg
                .removeClass()
                .addClass('bgheight');
        } else {
            $bg
                .removeClass()
                .addClass('bgwidth');
        }

    }

    theWindow.resize(resizeBg).trigger("resize");

}); 
```

# asp.net - Database Table Data Types To Store Key/Value Cache

> ID：14895079
> 
> 赞同：1
> 
> 时间：2013-02-15T12:48:34.993
> 
> 标签：asp.net, sql-server, caching

I am working on a project that requires key/value caching function but the application will exist in a very limited environment that **does not support** any of the go-to industry standard memory caching methods such as **ASP.NET Cache, memcached, AppFabric**.

The only option we have in this restrictive environment is a MS SQL database. We have to create a simple key/value table to meet our key/value caching needs. We will most likely serialize the data as JSON but I am not sure what would be the best data type for the key. It will obviously need to be a unique key and need to be readable by the programmer getting and setting the cache. It also needs to be a fast look up since we will already be loosing performance not having access to an "in memory" cache solution.

I am use to having my primary key column be an int or bigint value. In this case should the primary key (the cache key) be a char or varchar data type as all queries will be:

```
SELECT value FROM CacheTable WHERE key = 'keyname' 
```

I also saw posts about using an md5 hash but other posts pointed out that hashing cannot be relied on to produce unique keys all the time. I'm basically after some advice on the data type and rather or not the 'key' column should be the primary key or if I should still create an int or bigint primary key (even though it probably will not be used).

The end result we are after is creating a caching class similar to .NET's native caching where we can create a static class that pulls from the database table such as:

```
CustomDatabaseCache.Set(string key, object value);
CustomDatabaseCache.Get(string key) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-15T14:42:52.120

I think in your scenario having a clustered primary key on your keyname column would work fine. However, it's worth experimenting with fill factors, because you want a fill factor that is low enough that you don't cause excessive page splits, but one that is high enough to keep the number of page reads low.

A clustered IDENTITY index works better in terms of eliminating page splits on the clustered index - and you could use a unique index on keyname which used an INCLUDE clause to include your values. However - in your case, I don't see the benefit in doing that because you'd have exactly the same page-split problem on your unique index, and the clustered index on keyname would be no more expensive to read because you wouldn't have any extra columns. Plus you would then have index update cost on two indexes for write.

Hope that helps.

# android - 如何通过从 sharedPreferences 中检索数据来选中 simple_list_item_multiple_choice 中的复选框？

> ID：14895081
> 
> 赞同：0
> 
> 时间：2013-02-15T12:48:37.977
> 
> 标签：android, checkbox, sharedpreferences

我对 android-development 很陌生，我正在尝试构建一个包含 8 个项目的 ListView，每个项目都有复选框。已经设置好了，但我不知道如何通过从 SharedPreferences 中检索 key.value-pairs 来设置一个/几个框。

我认为我很接近，但是缺少一两行代码:(

这是我在 onCreate 方法中的代码：

```
lv = (ListView) findViewById(R.id.lvMain);

getPreferences(MODE_PRIVATE).edit().putString("Spiel4", "yes").commit();

lv.setAdapter(new ArrayAdapter<String>(this,android.R.layout.simple_list_item_multiple_choice, lvItems));
lv.setChoiceMode(ListView.CHOICE_MODE_MULTIPLE);

    for (int i=1;i<9;i++) {
        tmpString = null;
        tmpString = getPreferences(MODE_PRIVATE).getString("Spiel"+i,"");

        if (tmpString.equals("yes")) {
            // -----> MISSING LINE HERE <-----
            Log.i(tag,"Spiel"+i+"-value is YES!");
        }

    } 
```

ps：我的第一篇文章，格式欺骗了我:(

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-15T12:56:52.193

您可以使用

```
lv.setItemChecked(i, true); 
```

在缺少的行上添加这一行:)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-15T13:01:32.423

您是否考虑过 PrefenceActivity 或 PreferenceFragement？看看：http: [//developer.android.com/guide/topics/ui/settings.html](http://developer.android.com/guide/topics/ui/settings.html)

另一种选择是编写自己的适配器，这也不难。看看： [http ://www.vogella.com/articles/AndroidListView/article.html#adapterown_custom](http://www.vogella.com/articles/AndroidListView/article.html#adapterown_custom)

# html - HTML 和 CSS3 菜单问题

> ID：14895082
> 
> 赞同：0
> 
> 时间：2013-02-15T12:48:38.127
> 
> 标签：html, css, menu, positioning

感谢您阅读我的问题。

关于 HTML 和 CSS，我还有很多东西要学，但我正在努力。然而，这给我带来了一个问题（我搜索了一下，但找不到一个好的答案）：

我想在页面顶部制作一个菜单作为标题。然而，在这个菜单的中间有一个图像，作为标志。未能正确地将它们彼此相邻，我在列表中使用它们

```
 <div class="wrap_header">
<ul>
    <li><a href="#">MENU ITEM 1</a></li>
    <li><a href="#">MENU ITEM 2</a></li>
    <li id="header logo"><img src="the image"></li> 
    <li><a href="#">MENU ITEM 3</a></li>
    <li><a href="#">MENU ITEM 4</a></li>
</ul>
</div><!--END wrap_header--> 
```

在这里我被卡住了： - 我希望“菜单项 1-4”几乎位于图像的中间（高度）。然而，图像必须保持原样（所以要在最中心，就在底部）。如果可能的话，如果需要也可以改变它的位置。- 我希望“菜单项 1-4”用 2px 高的彩色线下划线，不知道该怎么做。它必须看起来像这样：

```
empty space                   THE IMAGE
MENU ITEM 1    MENU ITEM 2    THE IMAGE    MENU ITEM 3    MENU ITEM 4
empty space                   THE IMAGE 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-15T12:57:14.420

我不确定我是否理解了这个问题。但我的回答是：

```
<div class="wrap_header">
<ul>
    <li><a href="#">MENU ITEM 1</a></li>
    <li><a href="#">MENU ITEM 2</a></li>
    <li id="header_logo"><img src="http://www.prskelet.com/images/logotip.jpg"/></li> 
    <li><a href="#">MENU ITEM 3</a></li>
    <li><a href="#">MENU ITEM 4</a></li>
</ul>
</div><!--END wrap_header--> 
```

并像这样设计它：

```
 ul li{
            margin-right:20px;
            line-height:200px;
            float:left;
    } 
    ul li img{
            height:200px;
            width:auto; 
   }
   ul li a {
            text-decoration:none;
            border-bottom:2px solid red;
   } 
```

您需要将行高等于图像高度，然后垂直对齐。要使用您选择的颜色为文本添加下划线，您需要添加`border-bottom`. 在这里你可以看到[jsFiddle](http://jsfiddle.net/yqyjK/2/)

# python - 通过 requests 模块发送 JSON 并使用 bottle.py 和 cherrypy 捕获它

> ID：14895084
> 
> 赞同：1
> 
> 时间：2013-02-15T12:48:54.410
> 
> 标签：python, json, cherrypy, bottle, python-requests

我有一个服务器，它需要能够接受 JSON，然后对其进行处理，然后将 JSON 发回。我服务器端的代码正在使用**bottle.py 和 cherrypy**。关注的路线如下：

```
@route ('/tagTweets', method='POST')
def tagTweets():

    response.content_type = 'application/json'

    # here I need to be able to parse JSON send along in this request. 
```

为了请求此页面并测试功能，我使用**requests**模块代码：

我必须发送的数据是推文列表。数据本身是从某个返回推文列表的服务器获取的。对于获取推文，我使用`requests.get`然后使用响应对象的 json 方法。这工作正常。现在我在对此进行了一些处理之后，我必须发送这个 json，就像我提取到另一台服务器一样。

```
url     = "http://localhost:8080/tagTweets"
data    = {'sender': 'Alice', 'receiver': 'Bob', 'message': 'We did it!'}
headers = {'Content-type': 'application/json', 'Accept': 'text/plain'}
r       = requests.post(url, data=json.dumps(data), headers=headers) 
```

我无法弄清楚如何获得对随请求发送的 json 的访问权限。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-15T12:54:09.893

对于`application/json`POST，只需访问[`request.json`](http://bottlepy.org/docs/dev/api.html#bottle.BaseRequest.json)：

```
@route ('/tagTweets', method='POST')
def tagTweets():
     response.content_type = 'application/json'
     sender = request.json['sender']
     receiver = request.json['receiver']
     message = request.json['message'] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-15T13:15:59.450

试试这个...

//樱桃

```
import json

@route ('/tagTweets', method='POST')
def tagTweets(UpdatedData=None):
    Data = json.loads(UpdatedData) 
```

//javascript

```
function SendJson()
{
    var JSONObject = { changes: [] };
    JSONObject.changes.push({"sender": "Alice", "receiver": "Bob" }
            );

    // code for IE7+, Firefox, Chrome, Opera, Safari
    if(window.XMLHttpRequest)
        xmlhttp=new XMLHttpRequest();
    else// code for IE6, IE5
        xmlhttp=new ActiveXObject('Microsoft.XMLHTTP');

    xmlhttp.onreadystatechange=function()
    {
        if (xmlhttp.readyState==4 && xmlhttp.status==200)
        {
            alert(xmlhttp.responseText);
        }
    }

    xmlhttp.open("POST","/tagTweets", true);
    xmlhttp.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
    xmlhttp.send(JSON.stringify(JSONObject));
} 
```

希望这可以帮助。

安德鲁

# c++ - 字符串输出不完整 - 奇怪的行为

> ID：14895085
> 
> 赞同：1
> 
> 时间：2013-02-15T12:49:00.073
> 
> 标签：c++, string, console-application, cout, wstring

奇怪的是，以下字符串在结尾之前停止：

```
#include <iostream>
#include <string>

using std::wcout;
using std::wstring;

int main()
{
    wstring test = L"Os elfos compõem uma raça atlética e esguia, da mesma altura dos humanos. Eles apresentam a mesma variedade de compleições dos humanos, mas costumam ser mais bronzeados ou morenos. A cor típica do cabelo de um elfo é marrom escuro, ruivo escuro, verde musgo ou dourado escuro. As orelhas dos elfos são longas e pontiagudas, seus olhos são azuis, violetas ou verdes vibrantes. Esse povo tem poucos pêlos no corpo, mas prefere manter uma aparência selvagem e embaraçada nos cabelos.\nOs elfos atingem a maturidade na mesma velocidade que os humanos, mas demonstram pouquíssimos efeitos do envelhecimento depois da idade adulta. O primeiro sinal da idade avançada de um elfo geralmente é uma mudança na cor dos cabelos — muitas vezes ficando grisalhos, mas quase sempre escurecendo ou assumindo cores mais castanhas. A maioria dos elfos vive bem até os 200 anos de idade e permanecem vigorosos até o fim.";
    wcout << test;
    return 0;
} 
```

输出：

```
Os elfos comp§em uma raþa atlÚtica e esguia, da mesma altura dos humanos. Eles apresentam a mesma variedade de compleiþ§es dos humanos, mas costumam ser mais bronzeados ou morenos. A cor tÝpica do cabelo de um elfo Ú marrom escuro, ruivo escuro, verde musgo ou dourado escuro. As orelhas dos elfos sÒo longas e pontiagudas, seus olhos sÒo azuis, violetas ou verdes vibrantes. Esse povo tem poucos pÛlos no corpo, mas prefere manter uma aparÛncia selvagem e embaraþada nos cabelos.
Os elfos atingem a maturidade na mesma velocidade que os humanos, mas demonstram pouquÝssimos efeitos do envelhecimento depois da idade adulta. O primeiro sinal da idade avanþada de um elfo geralmente Ú uma mudanþa na cor dos cabelos 
```

正确输出：

```
Os elfos comp§em uma raþa atlÚtica e esguia, da mesma altura dos humanos. Eles apresentam a mesma variedade de compleiþ§es dos humanos, mas costumam ser mais bronzeados ou morenos. A cor tÝpica do cabelo de um elfo Ú marrom escuro, ruivo escuro, verde musgo ou dourado escuro. As orelhas dos elfos sÒo longas e pontiagudas, seus olhos sÒo azuis, violetas ou verdes vibrantes. Esse povo tem poucos pÛlos no corpo, mas prefere manter uma aparÛncia selvagem e embaraþada nos cabelos.
Os elfos atingem a maturidade na mesma velocidade que os humanos, mas demonstram pouquÝssimos efeitos do envelhecimento depois da idade adulta. O primeiro sinal da idade avanþada de um elfo geralmente Ú uma mudanþa na cor dos cabelos — muitas vezes ficando grisalhos, mas quase sempre escurecendo ou assumindo cores mais castanhas. A maioria dos elfos vive bem até os 200 anos de idade e permanecem vigorosos até o fim. 
```

它总是停在同一部分“... cabelos”。怎么了？如果我将字符串分成更小的块，它会正常运行。是问题，字符串大小吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-15T21:25:35.830

我检查了它停止打印的字符周围的字符，看看它们在 unicode 中是什么。

你的连字符实际上是一个 unicode dash `0x2014`。

这会向流输出 null 并终止字符串。

当面对大量代码、数据、特性或更改时，最好戴上信号灯并将其切成小块。有时最好把它切成两半，然后再切成两半，然后再切成两半，直到可以处理为止。其他时候，只是去掉，然后一次添加一点。

# java - LabelField setBackground 透明背景

> ID：14895086
> 
> 赞同：0
> 
> 时间：2013-02-15T12:49:08.530
> 
> 标签：java, blackberry

我正在尝试将 LabelField 的背景设置为透明，并且我已经搜索了广泛的解决方案，但到目前为止我尝试过的任何事情似乎都没有奏效。基本上我的问题如下，我有一个带有 TableRowManager 的 ListField，我将标签添加到表行管理器中，然后在表行管理器的绘制行中绘制它们。但我正在实例化我的 LabelField，如下所示：

```
LabelField address = new LabelField(e.Address, DrawStyle.ELLIPSIS
                | FOCUSABLE) {

            public void paint(Graphics g) {
                g.setGlobalAlpha(255);
                g.setColor(Color.WHITE);
                g.clear();
                super.paint(g);
            }

            protected void paintBackground(Graphics g) {

                g.setGlobalAlpha(0);
                g.setBackgroundColor(Color.BLACK);
                g.clear();
                super.paint(g);

            }

            public int getPreferredWidth() {
                return Display.getWidth() - 100;
            }

            protected void layout(int maxWidth, int maxHeight) {
                super.layout(getPreferredWidth(), maxHeight);
                setExtent(getPreferredWidth(), getHeight());
            }

        };
        address.setBackground(BackgroundFactory
                .createSolidTransparentBackground(0, 0)); 
```

上面给了我一个带有黑色背景的 LabelField，这很好，直到我将焦点放在该行上，我不能将黑色用于 onFocus 覆盖，因为我需要让用户了解他当前关注的位置。

**编辑：**

我将上面的代码更改为：

```
LabelField name = new LabelField(e.Name,
                DrawStyle.ELLIPSIS | FOCUSABLE){

public void paint(Graphics g) {

    g.setColor(Color.WHITE);
    g.clear();
    super.paint(g);
}
}; 
```

因为他在回答中说 LabelField 和 EditField 具有默认的透明背景，所以你错了：

![ListField 截图](../Images/7a06cda0c796c6106def888cbe25fed9.png)

这是我的完整代码：

```
import java.util.Vector;
import net.rim.device.api.collection.List;
import net.rim.device.api.system.Bitmap;
import net.rim.device.api.system.Display;
import net.rim.device.api.ui.Color;
import net.rim.device.api.ui.DrawStyle;
import net.rim.device.api.ui.Field;
import net.rim.device.api.ui.Font;
import net.rim.device.api.ui.Graphics;
import net.rim.device.api.ui.Manager;
import net.rim.device.api.ui.XYRect;
import net.rim.device.api.ui.component.BitmapField;
import net.rim.device.api.ui.component.Dialog;
import net.rim.device.api.ui.component.LabelField;
import net.rim.device.api.ui.component.ListField;
import net.rim.device.api.ui.component.ListFieldCallback;
import net.rim.device.api.ui.decor.BackgroundFactory;

public class SpecialsListField extends ListField implements ListFieldCallback {

private Bitmap p1;
TableRowManager row;
Vector rows;

public SpecialsListField(List list) {
    /* Init & Declaration */
    setEmptyString("This ListField has No Data", DrawStyle.HCENTER);
    setCallback(this);
    setRowHeight(179);
    Font.getDefault();
    p1 = Bitmap.getBitmapResource("no-image.png");
    rows = new Vector();
    for (int x = 0; x < list.size(); ++x) {
        Special e = (Special) list.getAt(x);

        row = new TableRowManager();

        BitmapField myImageField = new BitmapField(p1);
        row.add(myImageField);

        LabelField name = new LabelField(e.Name, DrawStyle.ELLIPSIS
                | FOCUSABLE) {

            public void paint(Graphics g) {
                g.setGlobalAlpha(255);
                g.setColor(Color.WHITE);
                g.clear();
                super.paint(g);
            }

            protected void paintBackground(Graphics g) {

                g.setGlobalAlpha(0);
                g.setBackgroundColor(Color.BLACK);
                g.clear();
                super.paint(g);

            }
        };

        name.setBackground(BackgroundFactory
                .createSolidTransparentBackground(0, 0));

        row.add(name);

        LabelField date = null;

        if (e.DateFrom.compareTo(e.DateTo) == 0) {
            date = new LabelField(e.DateFrom, DrawStyle.ELLIPSIS
                    | FOCUSABLE) {

                public void paint(Graphics g) {
                    g.setGlobalAlpha(255);
                    g.setColor(Color.WHITE);
                    g.clear();
                    super.paint(g);
                }

                protected void paintBackground(Graphics g) {

                    g.setGlobalAlpha(0);
                    g.setBackgroundColor(Color.BLACK);
                    g.clear();
                    super.paint(g);

                }

            };
            date.setBackground(BackgroundFactory
                    .createSolidTransparentBackground(0, 0));
            row.add(date);
        } else {
            date = new LabelField(e.DateFrom + " - " + e.DateTo,
                    DrawStyle.ELLIPSIS | FOCUSABLE) {

                public void paint(Graphics g) {
                    g.setGlobalAlpha(255);
                    g.setColor(Color.WHITE);
                    g.clear();
                    super.paint(g);
                }

                protected void paintBackground(Graphics g) {

                    g.setGlobalAlpha(0);
                    g.setBackgroundColor(Color.BLACK);
                    g.clear();
                    super.paint(g);

                }

            };
            date.setBackground(BackgroundFactory
                    .createSolidTransparentBackground(0, 0));
            row.add(date);
        }

        LabelField time = null;

        if (e.TimeFrom.compareTo(e.TimeTo) == 0) {
            time = new LabelField(e.TimeFrom, DrawStyle.ELLIPSIS
                    | FOCUSABLE) {
                public void paint(Graphics g) {
                    g.setGlobalAlpha(255);
                    g.setColor(Color.WHITE);
                    g.clear();
                    super.paint(g);
                }

                protected void paintBackground(Graphics g) {

                    g.setGlobalAlpha(0);
                    g.setBackgroundColor(Color.BLACK);
                    g.clear();
                    super.paint(g);

                }

            };

            time.setBackground(BackgroundFactory
                    .createSolidTransparentBackground(0, 0));

            row.add(time);
        } else {
            time = new LabelField(e.TimeFrom + " - " + e.TimeTo,
                    DrawStyle.ELLIPSIS | FOCUSABLE) {

                public void paint(Graphics g) {
                    g.setGlobalAlpha(255);
                    g.setColor(Color.WHITE);
                    g.clear();
                    super.paint(g);
                }

                protected void paintBackground(Graphics g) {

                    g.setGlobalAlpha(0);
                    g.setBackgroundColor(Color.BLACK);
                    g.clear();
                    super.paint(g);
                }

            };
            time.setBackground(BackgroundFactory
                    .createSolidTransparentBackground(0, 0));
            row.add(time);
        }

        LabelField address = new LabelField(e.Address, DrawStyle.ELLIPSIS
                | FOCUSABLE) {

            public void paint(Graphics g) {
                g.setGlobalAlpha(255);
                g.setColor(Color.WHITE);
                g.clear();
                super.paint(g);
            }

            protected void paintBackground(Graphics g) {

                g.setGlobalAlpha(0);
                g.setBackgroundColor(Color.BLACK);
                g.clear();
                super.paint(g);

            }

            public int getPreferredWidth() {
                return Display.getWidth() - 100;
            }

            protected void layout(int maxWidth, int maxHeight) {
                super.layout(getPreferredWidth(), maxHeight);
                setExtent(getPreferredWidth(), getHeight());
            }

        };
        address.setBackground(BackgroundFactory
                .createSolidTransparentBackground(0, 0));
        row.add(address);

        rows.addElement(row);
    }
    setSize(rows.size());
}

public void drawListRow(ListField listField, Graphics graphics, int index,
        int y, int width) {
    // TODO Auto-generated method stub
    SpecialsListField list = (SpecialsListField) listField;
    TableRowManager rowManager = (TableRowManager) list.rows
            .elementAt(index);
    rowManager.drawRow(graphics, 0, y, width, 179);
}

protected void drawFocus(Graphics graphics, boolean on) {
    // get the focus rect area
    XYRect focusRect = new XYRect();
    getFocusRect(focusRect);

    boolean oldDrawStyleFocus = graphics
            .isDrawingStyleSet(Graphics.DRAWSTYLE_FOCUS);
    try {
        if (on) {
            // set the style so the fields in the row will update its color
            // accordingly
            graphics.setDrawingStyle(Graphics.DRAWSTYLE_FOCUS, true);
            int oldColour = graphics.getColor();
            try {
                graphics.setColor(Color.DARKGRAY); // set the color and draw
                                                    // the
                                                    // color
                graphics.fillRect(focusRect.x, focusRect.y,
                        focusRect.width, focusRect.height);
            } finally {
                graphics.setColor(oldColour);
            }
            // to draw the row again

            drawListRow(this, graphics, getSelectedIndex(), focusRect.y,
                    focusRect.width);

        }

    } finally {
        graphics.setDrawingStyle(Graphics.DRAWSTYLE_FOCUS,
                oldDrawStyleFocus);
    }
}

public Object get(ListField listField, int index) {
    // TODO Auto-generated method stub
    return rows.elementAt(index).toString();
}

public int getPreferredWidth(ListField listField) {
    // TODO Auto-generated method stub
    return Graphics.getScreenWidth();
}

public int getRowHeight() {
    // TODO Auto-generated method stub
    return 179;
}

public int getRowHeight(int arg0) {
    // TODO Auto-generated method stub
    return 179;
}

public int indexOfList(ListField listField, String prefix, int start) {
    // TODO Auto-generated method stub
    return -1;
}

protected boolean trackwheelClick(int status, int time) {
    int index = getSelectedIndex();
    Dialog.inform(Integer.toString(index));
    return true;
}

private class TableRowManager extends Manager {
    public TableRowManager() {
        super(0);
    }

    // Causes the fields within this row manager to be layed out then
    // painted.
    public void drawRow(Graphics g, int x, int y, int width, int height) {
        // Arrange the cell fields within this row manager.
        layout(width, height);
        // Place this row manager within its enclosing list.
        setPosition(x, y);
        // Apply a translating/clipping transformation to the graphics
        // context so that this row paints in the right area.
        g.pushRegion(getExtent());
        // Paint this manager's controlled fields.
        subpaint(g);
        /*
         * g.setColor(0xFF0000); g.drawLine(0, height - 1,
         * getPreferredWidth(), height - 1); g.drawLine(40, 0, 40,
         * getPreferredHeight());
         */
        // Restore the graphics context.
        g.popContext();
    }

    // Arrages this manager's controlled fields from left to right within
    // the enclosing table's columns.
    protected void sublayout(int width, int height) {
        // set the size and position of each field.
        int fontHeight = Font.getDefault().getHeight();
        int preferredWidth = getPreferredWidth();
        // start with the Bitmap Field of the priority icon
        Field field = getField(0);
        layoutChild(field, 75, 75);
        setPositionChild(field, 5, 5);
        // set the task name label field
        field = getField(1);
        layoutChild(field, preferredWidth, fontHeight + 2);
        setPositionChild(field, 85, 5);
        // set the list name label field
        field = getField(2);
        layoutChild(field, preferredWidth, fontHeight + 2);
        setPositionChild(field, 85, fontHeight + 6 + 5);
        // set the due time name label field
        field = getField(3);
        layoutChild(field, preferredWidth, fontHeight + 2);
        setPositionChild(field, 100, fontHeight + fontHeight + 8 + 5);

        field = getField(4);
        layoutChild(field, preferredWidth, fontHeight + 2);
        setPositionChild(field, 100, fontHeight + fontHeight + fontHeight
                + 10 + 5);

        setExtent(preferredWidth, getPreferredHeight());
    }

    // The preferred width of a row is defined by the list renderer.
    public int getPreferredWidth() {
        return Graphics.getScreenWidth();
    }

    // The preferred height of a row is the "row height" as defined in the
    // enclosing list.
    public int getPreferredHeight() {
        return 179;// getRowHeight();
    }

}

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-12T05:01:10.230

要解决聚焦的蓝色背景，您所要做的就是覆盖 drawFocus 并将其设为空
`protected void drawFocus(Graphics g, boolean on) { }`，这样就不会绘制任何内容，至少您希望该字段是焦点。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-16T11:18:47.393

我说labelfield从出生就有透明背景，可能不完全一样。当 labelfield 获得焦点时，有蓝色背景无法摆脱，即使使用此演示代码：

一个简单且自包含的 helloworld 示例。

```
final class HelloWorldScreen extends MainScreen{
EditField edt = null;

HelloWorldScreen() {
    // set background to black
    this.getMainManager().setBackground(BackgroundFactory.createSolidBackground(Color.BLACK));

    // use to alternate focus
    edt = new EditField("", "");
    add(edt);

    add(new LabelField("test label tranparent", DrawStyle.ELLIPSIS
            | FOCUSABLE) {

        public void paint(Graphics g) {}

        public void applyTheme(){}

        protected void paintBackground(Graphics g) { }
    });

} 
```

}

我覆盖了paint() applyTheme() 和paintBackground()，并且在那里什么都不做。但是，聚焦的标签字段仍然具有蓝色背景。

是的，另一个WTF的事情。

我可以建议您使用具有只读样式的编辑文件吗？

# node.js - 从节点 js 返回数据到 $.ajax

> ID：14895088
> 
> 赞同：0
> 
> 时间：2013-02-15T12:49:18.060
> 
> 标签：node.js

从我网络中的一台机器（客户端），我正在`$.ajax()`向我的`Nodejs`服务器发出请求，例如，

`//Client : index.html`

```
$.ajax({
    type:"post",
    url:'http://192.168.2.6:8080',
    data:JSON.stringify({"loginData":{"uanme":"maverick","upass":"asd"}}),
    success:function(data){console.log(data);alert(data);},
    error:function(){alert('Error aala');}
}); 
```

我的`Nodejs`服务器是

`//listener.js`

```
var server = require('http').createServer(function (request, response) {
    var body='';
    if(request.method=='POST'){
       request.on('data',function(data){
            body+=data;
       });
       request.on('end',function(){
           console.log(body);
       });
    }
}).listen(8080); 
```

这些`console.log()`s 工作得非常好。我得到与节点端发送的完全相同的数据，

现在我的问题是，`php`当我们发出`$.ajax()`请求时，我们`echo`在 php 文件中使用将数据发送回客户端，

`Nodejs (listener.js file)`如果我想将数据发送回客户端，我应该在服务器端做什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-15T12:51:51.133

```
var server = require('http').createServer(function (request, response) {
    var body='';
    if(request.method=='POST'){
       request.on('data',function(data){
            body+=data;
       });
       request.on('end',function(){
           console.log(body);
           //response.setHeader("Content-Type", ""); set the header to your content type
           response.write('foo'); // <-----
           response.end('Dear client, I have cake for you'); // <-----
       });
    }
}).listen(8080); 
```

进一步阅读[Node.js 文档](http://nodejs.org/api/http.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-15T13:46:01.690

自己解决了这个问题。

问题出在跨域 ajax 请求上。我不知道为什么会这样，即使我在电话中指定`url:localhost:8080`了`$.ajax`......

解决了我 `response.setHeader("Access-Control-Allow-Origin", "*");` 在响应标头中添加的问题。

和平

# netbeans - 如何在 Linaro 13.01 ubuntu tty1 中安装 Oracle JDK 7 和 Netbeans IDE？

> ID：14895089
> 
> 赞同：0
> 
> 时间：2013-02-15T12:49:19.010
> 
> 标签：netbeans, installation, java

我有一个 allwinner 的处理器 A13（cpu：cortex-A8 ARM v7），我的操作系统是 Linaro 13.01 Ubuntu tty1。

那么如何在上面安装 Oracle JDK7 和 Netbeans IDE？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-15T13:55:29.340

如果您使用的是 Ubuntu，有几种方法可以安装 NetBeans。一种方法是使用 Ubuntu 的“软件中心”，您可以使用它来搜索 NetBeans，它应该安装它，包括所有依赖项。

您也可以在 Ubuntu 中使用 Web 浏览器并前往 www.netbeans.org 并单击右上角的“下载”，您可以在其中选择您的操作系统并下载正确版本的 NetBeans。

下载后，您可以使用以下命令通过终端运行 NetBeans 安装程序：`sh ./<NetBeans file name here>`. 安装程序将启动。

**安装 Open JDK：**

但是，您可能需要先下载并安装 JDK；您也可以在终端中键入：`sudo apt-get install openjdk-7-jdk`。

**安装 Oracle JDK：** 取自此链接： http: [//www.wikihow.com/Install-Oracle-Java-JDK-on-Ubuntu-Linux](http://www.wikihow.com/Install-Oracle-Java-JDK-on-Ubuntu-Linux)

从系统中删除打开的 JDK：`sudo apt-get purge openjdk-\*`

为 oracle JDK 创建一个新目录：`sudo mkdir -p /usr/local/java`

[单击此处下载适用于 linux 的 Oracle Java JDK](http://www.oracle.com/technetwork/java/javase/downloads/index.html)

将 Oracle Java 二进制文件复制到 /usr/local/java 目录：`cd /home/userName/Downloads`, `sudo -s cp -r jfk-7u13-linux-x64.tar.gz /usr/local/java`, `cd /usr/local/java`.

提取文件：`sudo -s tar xvzf jdk-7u13-linux-x64.tar.gz`

编辑系统路径文件：`sudo nano /etc/profile`

滚动到文件底部并添加以下内容：

```
JAVA_HOME=/usr/local/java/jdk1.7.0_13
PATH=$PATH:$HOME/bin:$JAVA_HOME/bin
export JAVA_HOME
export PATH 
```

保存文件并退出 (Ctrl+X)，然后为 nano 输入“y”。

让 Ubuntu 知道 Oracle Java JDK 在哪里：

```
LOCN="/usr/local/jdk7"

sudo update-alternatives --install "/usr/bin/java" "java" "${LOCN}/bin/java" 1
sudo update-alternatives --install "/usr/bin/javac" "javac" "${LOCN}/bin/javac" 1
sudo update-alternatives --install "/usr/bin/javaws" "javaws" "${LOCN}/bin/javaws" 1 
```

确保 Ubuntu 知道将其用作默认 JDK：

```
sudo update-alternatives --set java ${LOCN}/bin/java
sudo update-alternatives --set javac ${LOCN}/bin/javac
sudo update-alternatives --set javaws ${LOCN}/bin/javaws 
```

重新加载系统路径：`/etc/profile`，或者只是重新启动。

如果您无法按照我的说明进行操作，请查看我在上面发布的链接。

如您所见，我建议改用 Open JDK；它更容易安装。

我希望这有帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-05-15T05:18:18.417

为 ARM 处理器安装 Oracle JDK，Hard Float OS Image 在这里。 [用于 ARM 处理器的 Oracle JDK](https://blogs.oracle.com/hinkmond/entry/quickie_guide_getting_hard_float)

并下载适用于 Linux 的[Netbeans IDE 7.0.1并安装它。](https://netbeans.org/downloads/7.0.1/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-09-14T12:26:29.857

不要破坏你的乐趣，但 A13 对于这项任务来说是一个非常薄弱的​​ SOC。

我什至不会尝试低于双 Cortex A15 和 2GB RAM（三星 XE303）的东西。

Oracle 现在发布了用于 ARM Linux 硬浮点的标准 JDK8，因此可以相当容易地将其安装在 Debian/Ubuntu 上：

*   从 Oracle 的网页获取 JDK8（目前为抢先体验）
*   将 tar.gz -d JDK8 ARM/LInux/hfloat 解压到 /usr/lib/jvm/jdk1.8.0
*   使用更新替代方案（第一个答案）
*   运行“java -version”检查结果

..瞧

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-12-16T19:23:44.980

我从[Digital Ocean Docs](https://www.digitalocean.com/community/tutorials/how-to-manually-install-oracle-java-on-a-debian-or-ubuntu-vps#downloading-oracle-java-jdk)学习了如何在无头 ubuntu 上手动安装 Oracle JDK。

通过一些谷歌搜索，我发现以下脚本很有用。

```
wget --header "Cookie: oraclelicense=accept-securebackup-cookie" http://download.oracle.com/otn-pub/java/jdk/7u79-b15/jdk-7u79-linux-x64.tar.gz 
```

# titanium - 使用 Titanium 进行 BlackBerry OS 10 开发

> ID：14895095
> 
> 赞同：0
> 
> 时间：2013-02-15T12:49:41.540
> 
> 标签：titanium, blackberry-webworks, blackberry-10, titanium-modules

我正在开发 BlackBerry OS 10。我正在尝试使用**Titanium** studio 开发应用程序。我已经添加了 BlackBerry 插件并下载并安装了 BB NDK，并按照链接中所示的相同步骤进行操作：[BlackBerry Development Using Titanium](http://preview.appcelerator.com/studio/bb/)。

设置没问题，但是当我尝试创建新项目时，错误显示为：**无法创建新项目。未定义 SDK 版本的可用平台：**

我猜我为 BB NDK 提供了错误的路径。但是我已经尝试了所有可能的方法。我仍然收到此错误。

请帮我解决这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T13:47:31.403

进入 Titanium Studio >> 首选项： ![在此处输入图像描述](../Images/f06ba7110cdce87e69bd2509ea779c29.png)

确保 url 指向您下载 BB NDK 的位置。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-04-28T18:00:39.690

这里的问题是 Titanium 正在寻找一个不存在的文件名。您可以使用符号链接修复它：

（在 /Application/Momentics.app 中）：

```
$ ln -s target_10_2_0_1155 install

$ ln -s bbndk-env_10_2_0_1155.sh bbndk-env.sh 
```

有关视频演练[，请参见此处。](http://blog.codexlabs.com/blog/2013/09/setting-up-blackberry-10-for-titanium-studio/)

# html - 如何实现一个看起来像表格并且有滚动条的列表（包括图片）

> ID：14895098
> 
> 赞同：-1
> 
> 时间：2013-02-15T12:49:57.950
> 
> 标签：html, css

我怎样才能实现一个看起来像这样的列表。如您所见，有 3 列均分，并且有一个垂直滚动条。

![列表](../Images/824c7871ca4405ea8eaea3217b9748b1.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-15T12:58:37.027

HTML

```
<ul>
<li>credit</li>
<li>card processing</li>
<li>credit report</li>
...
<li>etc</li>
</ul> 
```

CSS

```
ul{width:600px;height:100px; overflow-y:scroll;}
li{float:left;width:192px;border:1px solid black;}
li:nth-chilr(n+3){border-top:0xp;}
li:nth-child(3n+2){border-width:1px 0px 1px 0px;} 
```

[小提琴](http://jsfiddle.net/d72BN/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-15T12:54:38.057

我个人会给出`ul`一个固定的宽度和高度并给出它`overflow-y:auto;`（或`scroll`）。然后我会做`li`所有的`display: inline-block`和`width:32%`。我还将结束标记从`li`s 中删除，以便它们之间没有不需要的空格。

[jsFiddle](http://jsfiddle.net/AQrUt/)

# c# - Asp.net 动态数据修改列大小

> ID：14895099
> 
> 赞同：1
> 
> 时间：2013-02-15T12:50:13.807
> 
> 标签：c#, asp.net, asp.net-dynamic-data

我使用 ASP.NET 动态数据实体 Web 应用程序和 ADO.NET 实体数据模型创建了一个用于修改 sql 表的动态应用程序。

但是我怎样才能修改gridView的列宽呢？列很大，但数据将被剪切。

[表格列宽截图](http://www.image-hoster.de/preview.php?file=481f84dc41ca194c0f7fe7f20.png)

在 *.edmx 文件中，MaxLength 设置为 300。

```
 <Property Name="foreign_data" Type="nvarchar" Nullable="false" MaxLength="300" /> 
```

Lists.aspx 中的网格视图如下所示：

```
 <asp:GridView ID="GridView1" runat="server" DataSourceID="GridDataSource" EnablePersistedSelection="true"
            AllowPaging="True" AllowSorting="True" CssClass="DDGridView"
            RowStyle-CssClass="td" HeaderStyle-CssClass="th" CellPadding="6" 
            PageSize="15">
            <Columns>
                <asp:TemplateField>
                    <ItemTemplate>
                        <asp:DynamicHyperLink runat="server" Action="Edit" Text="Bearbeiten"
                        />&nbsp;<asp:LinkButton runat="server" CommandName="Delete" Text="Löschen"
                            OnClientClick='return confirm("Sind Sie sicher das Sie diesen Datensatz löschen möchten?");'
                        />&nbsp;<asp:DynamicHyperLink runat="server" Text="Details" />
                    </ItemTemplate>
                </asp:TemplateField>
            </Columns>

            <PagerStyle CssClass="DDFooter"/>        
            <PagerTemplate>
                <asp:GridViewPager runat="server" />
            </PagerTemplate>
            <EmptyDataTemplate>
                There are currently no items in this table.
            </EmptyDataTemplate>
        </asp:GridView> 
```

那么如何控制长度。顺便说一句，每个字段在 22 个字符后被剪切！我搜索了整个解决方案，但没有找到更多的 MaxLength 值。如果我在 gridView 中设置 MaxLength 值，它就不起作用。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-20T08:58:14.553

好的，我解决了。我已经修改了字段模板（text.ascx.cs）

```
private const int MAX_DISPLAYLENGTH_IN_LIST = 25; 
```

到更高的价值......

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-15T13:02:10.880

也许您输入了一些“maxlength”属性，因为您的两个值都是 22 个字符长。

像这样的东西？

```
<asp:TextBox ID="txtmyValue" MaxLength="10" runat="server" ..../> 
```

你有没有“BoundField”，所以也许你应该用“TemplateField”替换它们，这样你就可以控制发生了什么：

```
<asp:TemplateField HeaderText="my text value">
    <ItemTemplate>
        <asp:TextBox ID="txtmyValue" MaxLength="40" runat="server" Text='<%# DataBinder.Eval(Container.DataItem, "YOUR_BOUND_ITEM_NAME") %>'></asp:TextBox>
    </ItemTemplate>
</asp:TemplateField> 
```

# html - GET 方法自动删除尾随空格

> ID：14895109
> 
> 赞同：0
> 
> 时间：2013-02-15T12:50:54.377
> 
> 标签：html, get, whitespace

我使用 GET 方法向服务器发送文本，例如：'abc'，但 GET 方法总是删除最后的空白字符，因此服务器收到 'abc' 而不是 'abc'

我想问这是否是GET方法的属性？

有没有办法使用 GET 发送文本而不删除尾随空格。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-15T13:05:26.033

您需要对 URL 进行编码以将空格转换为等效的 %20。

PHP 有一个[`rawurlencode()`](http://www.php.net/manual/en/function.rawurlencode.php)函数可以解决这个问题。
[这](http://phpjs.org/functions/urlencode/)是在 JavaScript 中执行此操作的一种方法。

# c# - 函数返回类型值的区别

> ID：14895113
> 
> 赞同：-3
> 
> 时间：2013-02-15T12:51:09.707
> 
> 标签：c#, c#-5.0

我只是想知道有什么区别

`public Task somethod()`和`public int somethod()`

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-15T12:52:55.383

第一个方法返回一个`Task`类型对象。

第二种方法返回一个[int](http://msdn.microsoft.com/en-us/library/vstudio/5kzh1b5w.aspx)类型的值。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-15T12:52:40.460

这些函数返回不同的类型。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-15T12:59:58.443

有**很大很大**的不同。

.Task[通常](http://msdn.microsoft.com/en-us/library/dd321321.aspx)用于[异步](http://msdn.microsoft.com/en-us/library/vstudio/hh156513.aspx)

而`public int somethod()`in 唯一的回报[`int`](http://msdn.microsoft.com/en-us/library/vstudio/5kzh1b5w.aspx)

# dojo - dojox.mobile.Heading 固定底部不起作用

> ID：14895114
> 
> 赞同：1
> 
> 时间：2013-02-15T12:51:10.470
> 
> 标签：dojo

任何人都可以构建一个 jsfiddle，其中 dojox.mobile.Heading 以fixed="bottom" 定位吗？

如果我编写以下代码（来自[此处](http://dojotoolkit.org/reference-guide/1.7/dojox/mobile/ScrollableView.html)的示例），则底部标题不位于底部。

```
<div id="view1" data-dojo-type="dojox.mobile.ScrollableView">
  <h1 data-dojo-type="dojox.mobile.Heading" fixed="top">View Header Bar</h1>

  <h1 data-dojo-type="dojox.mobile.Heading" fixed="bottom">View Footer Bar</h1>
</div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T09:45:35.970

这个对我有用（[http://jsfiddle.net/G8QkC/53/](http://jsfiddle.net/G8QkC/53/)）：

```
<head>
    <script src="http://ajax.googleapis.com/ajax/libs/dojo/1.8.3/dojox/mobile/deviceTheme.js">

    </script>
    <script src="http://ajax.googleapis.com/ajax/libs/dojo/1.8.3/dojo/dojo.js"
    djConfig="parseOnLoad: true">

    </script>
    <script type="text/javascript">
        require(["dojox/mobile/ScrollableView",
            "dojox/mobile/Heading"], null);
    </script>
</head>

<body>
    <div id="view1" data-dojo-type="dojox.mobile.ScrollableView">
         <h1 data-dojo-type="dojox.mobile.Heading" fixed="top">View Header Bar</h1>

         <h1 data-dojo-type="dojox.mobile.Heading" fixed="bottom">View Footer Bar</h1>

    </div>
</body> 
```

# django - Django文档错误？

> ID：14895115
> 
> 赞同：1
> 
> 时间：2013-02-15T12:51:15.283
> 
> 标签：django

在官方 Django 文档中，关于从查询集中排除的部分（[https://docs.djangoproject.com/en/dev/ref/models/querysets/#exclude](https://docs.djangoproject.com/en/dev/ref/models/querysets/#exclude)），有几个查询的解释：

此示例排除所有 pub_date 晚于 2005-1-3 且标题为“Hello”的条目：

```
Entry.objects.exclude(pub_date__gt=datetime.date(2005, 1, 3), headline='Hello') 
```

在 SQL 术语中，计算结果为：

```
SELECT ...
WHERE NOT (pub_date > '2005-1-3' AND headline = 'Hello') 
```

此示例排除所有 pub_date 晚于 2005-1-3 或标题为“Hello”的条目：

```
Entry.objects.exclude(pub_date__gt=datetime.date(2005, 1, 3)).exclude(headline='Hello') 
```

在 SQL 术语中，计算结果为：

```
SELECT ...
WHERE NOT pub_date > '2005-1-3'
AND NOT headline = 'Hello' 
```

请注意，第二个示例更具限制性。

最后一个我不清楚。我看不出第一个和第二个之间有什么区别，谁能解释一下？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-15T12:56:04.450

第一个示例创建一个嵌套的子表达式，而第二个示例创建两个单独的表达式。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-15T13:17:48.340

如果您的意思是“注意第二个示例更具限制性。”部分，也许更数学的方法可以帮助您：

`NOT (pub_date > '2005-1-3' AND headline = 'Hello')`

可以翻译成：

`NOT pub_date > '2005-1-3' OR NOT headline = 'Hello'`

与之相比：

`NOT pub_date > '2005-1-3' AND NOT headline = 'Hello'`

限制较少，因为您希望 的任一部分为`OR`真，即 -`A OR B`限制小于`A AND B`.

回到文档，在第一种情况下，您排除了同时符合这两个限制的人。而在第二个中，您排除了符合第一个限制的人，并排除了符合第二个限制的人，也就是说 - 您排除了符合任何一个限制的人。

@OP 的评论：假设我们有四个项目 AA、AB、BB 和 CC。如果我们说：

```
Item.objects.filter(name_startswith='A', name_endswith='B') 
```

结果将是 {AB}。当然，如果我们说：

```
Item.objects.exclude(name_startswith='A', name_endswith='B') 
```

结果将是 {AA, BB, CC}，因为我们只想排除那些以 'A' 开头并以 'B' 结尾的人。下一个：

```
Item.objects.exclude(name_startswith='A') 
```

将导致 {BB, CC}。但是，当我们**链接**另一个排除时：

```
Item.objects.exclude(name_startswith='A').exclude(name_endswith='B') 
```

我们实际上是在说`THE_RESULT_OF_THE_FIRST_EXCLUDE.exclude(name_endswith='B')`。那是：

```
{BB, CC}.exclude(name_endswith='B') 
```

这将返回 {CC}。不同于`filter`, 其中

```
Item.objects.filter(<condition_1>).filter(<condition_2>) 
```

与以下结果相同：

```
Item.objects.filter(<condition_1>, <condition_2>) 
```

排除是**链式**的。它类似于布尔运算：

NOT(A AND B) = NOT A OR NOT B NOT(A OR B) = NOT A AND NOT B

# bamboo - 如何让 Bamboo 文物收集整个文件夹？

> ID：14895116
> 
> 赞同：13
> 
> 时间：2013-02-15T12:51:17.887
> 
> 标签：bamboo, artifacts

我有一个简单的计划和一份简单的工作。

任务：

1.  源代码签出
2.  微软构建
3.  运行测试
4.  生成测试报告

通过四个步骤，我的实用程序生成带有屏幕截图的测试报告。该报告包含图像的绝对链接。（例如：）`onclick="window.open('./Screenshots/66ef3a03-8b82-4b40-b49d-b0155e273738.png');return false;"`。

如果我在本地机器上打开报告，报告工作正常，但在 Bamboo 上我收到错误“找不到页面”，因为 Bamboo 没有收集“屏幕截图”文件夹。

如何设置工件定义以收集包含文件的文件夹？

PS我尝试设置`\*.*`复制模式，但Bamboo只收集文件（没有文件夹和子文件夹）

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-08-07T20:33:39.740

您只需提供文件夹位置，例如“build/”，然后，在复制模式中，您可以放置**​​ **/*.***这应该复制您想要的所有文件。

请注意：

*   该位置相对于构建目录。不要使用绝对路径来引用该位置。
*   位置不支持星号。对于此字段，提供文件所在的文件夹名称。

此外，您可以根据需要定义任意数量的工件定义。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-06T06:57:49.253

最好的方法是将所有工件压缩在一起。我创建了一个 bash 脚本来执行此操作

```
cd "toArtifactFolder"
zip -r Artifact . 
```

然后在竹项目设置中，您必须编辑工件并将位置更改为工件 zip 文件所在的位置然后在复制模式中输入 zip 文件，例如`Artifact.zip`

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2017-07-21T12:21:19.380

Bamboo 使用[“Ant 文件复制模式”](http://ant.apache.org/manual/dirtasks.html)。

*   递归匹配所有文件：`**/*`
    *   这确实包括几乎所有内容
    *   不幸的是，这不**包括**dot [-files](https://en.wikipedia.org/wiki/Dot-file)，至少在我对 linux 构建代理的测试中。`**/.*`除了第二个工件（模式）或创建档案之外，我找不到解决方法。
*   匹配任何子文件夹中的所有文件：`*/*`
    *   这不包括`foo/bar/test.xyz`
    *   `foo/test.xyz`这确实包括`bar/test.xyz`

您可以进行更高级的匹配；例如，您可以使用`build/**/*.jar`从构建目录中复制所有 jar。有关更多信息，请参阅[文档](http://ant.apache.org/manual/dirtasks.html)

# android - 使用 Git 和 Eclipse 为您的 Android 应用程序自动版本编号

> ID：14895123
> 
> 赞同：14
> 
> 时间：2013-02-15T12:51:46.707
> 
> 标签：android, git, versioning

我相信计算机是完成重复性任务的最佳工具。我当然不是，我要么忘记，要么（大部分）不以一致的方式做事——这不是我想要的。

我可能会做的一件事是在发布新版本的 Android 应用程序时忘记在清单中更新版本信息。过去，我使用过具有自动版本编号功能的已配置构建系统，并且我已经习惯了它（或者我可能变得懒惰了）。

我发现这篇[Stackoverflow 帖子](https://stackoverflow.com/questions/6758685/auto-increment-version-code-in-android-app)在提出解决方案时非常有用，但我花了一些时间来微调它，让它按照我想要的方式工作。早期的尝试有时会导致继续建设，这是一种痛苦。所以我想我会在这里发布我的解决方案，希望其他人会发现它有用。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-02-15T12:51:46.707

该解决方案是在 Linux 上开发的。我确信熟练的 Windows 和 Mac 开发人员可以使其适应他们的平台，但我不是这样的开发人员。Linux 是我的技能所在。

`git describe --dirty`Git 在命令中有一个很好的特性。它向下扫描提交日志并找到标记，然后从那里构建一个版本字符串。如果这是一个“生产构建”，其中最后一次提交已被标记并且所有文件都已被签入，那么这就是您的版本字符串。如果这是一个开发版本，那么最后一个标签会附加额外提交的数量和一个缩写的哈希码。该`--dirty`标志只是锦上添花：`dirty`如果有任何修改过的文件尚未提交，它会附加单词。这非常适合`android:versionName`清单文件中的属性。

对于`android:versionCode`a 数字是必需的。这需要为发布而不是开发构建计时，并且由于每个发布*都会*有一个带有版本字符串的标签，所以我只计算这些。`v<major>.<minor>[.<patch>]`我总是以where`<major>`和只是数字`<minor>`的形式标记我的版本。`<patch>`因此，计数以小写“v”开头后跟数字的标签就是这里真正需要的。

在使用模板清单文件后，我发现最好的方法是简单地使用项目库中的 AndroidManifest.xml 文件，使用流编辑器进行编辑`sed`并将结果存放在 bin/AndroidManifest.xml 中。

所以我开发了下面的脚本，将它放在与我的项目相同级别的脚本文件夹中（以便它们都可以共享相同的脚本），然后在 Eclipse 中配置一个自定义构建器。

有我称之为的脚本`version.sh`：

```
#/bin/bash

echo "Auto Version: `pwd`"

CODE=`git tag | grep -c ^v[0-9]`
NAME=`git describe --dirty | sed -e 's/^v//'`
COMMITS=`echo ${NAME} | sed -e 's/[0-9\.]*//'`

if [ "x${COMMITS}x" = "xx" ] ; then
    VERSION="${NAME}"
else
    BRANCH=" (`git branch | grep "^\*" | sed -e 's/^..//'`)"
    VERSION="${NAME}${BRANCH}"
fi

echo "   Code: ${CODE}"
echo "   Ver:  ${VERSION}"

cat AndroidManifest.xml | \
    sed -e "s/android:versionCode=\"[0-9][0-9]*\"/android:versionCode=\"${CODE}\"/" \
        -e "s/android:versionName=\".*\"/android:versionName=\"${VERSION}\"/" \
    > bin/AndroidManifest.xml

exit 0 
```

要在此处配置构建器，请执行以下步骤：

1）。右键单击项目库并选择“属性”，然后选择“构建器”。

2）。点击“新建”按钮并选择“程序”选项。

3）。将您的版本命名为“<project> Auto Version”。此字符串需要在所有项目中都是唯一的。

4）。配置“主要”选项卡，如下所示：

4a)。在“位置”部分使用“浏览文件系统”并导航并选择脚本文件。

4b)。在“工作目录”部分使用“浏览工作区”选择项目。

5）。在“刷新”选项卡中取消选中“完成后刷新资源”。

6）。不要在“环境”选项卡中设置任何变量。

7）。在“构建选项”选项卡中：

7a)。确保勾选“在手动构建期间”，并且

7b)。“在自动构建期间”也被勾选。

7c)。我现在没有选择其他所有内容。我什至没有为它分配控制台。鹰眼可能已经发现脚本确实输出了一些信息，但现在我已经让它工作了，我只想让这个东西安静地运行而不打扰我。

8）。好的构建设置，然后将您的构建器定位在“Android Pre-Compile”和“Java Builder”之间。

在知道它们已正确版本化的情况下，返回安全地开发您的应用程序，并查看您的应用程序的信息。那个版本号是不是很酷。:-)

史蒂夫

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2013-12-14T13:56:35.677

## 想法*（使用 ant 和 git 可执行文件）*

好的，这是一种新颖的方法：

*   计算`version.code`：

    `git rev-list master --first-parent --count`

    这遵循[版本控制指南](http://developer.android.com/tools/publishing/versioning.html)。因为它有效地从初始提交*（包括）*中找到提交数量，该提交数量总是从以前的版本增加。

*   用于计算`version.name`：

    `git describe --tags --dirty --abbrev=7`

## 执行：

`build.xml`通常会导入一个名为`custom_rules.xml`

所以将脚本的内容制作为：

```
<?xml version="1.0" encoding="UTF-8"?>
<project name="application-custom">

<macrodef name="git" taskname="@{taskname}">
    <attribute name="command" />
    <attribute name="dir" default="" />
    <attribute name="property" default="" />
    <attribute name="taskname" default="" />
    <attribute name="failonerror" default="on" />
    <element name="args" optional="true" />
    <sequential>
        <exec executable="git" dir="@{dir}" outputproperty="@{property}" 
            failifexecutionfails="@{failonerror}" failonerror="@{failonerror}">
            <arg value="@{command}" />
            <args/>
        </exec>
    </sequential>
</macrodef>

<target name="-pre-build">
    <git command="rev-list" property="versioning.code" taskname="versioning">
        <args>
            <arg value="master" />
            <arg value="--first-parent" />
            <arg value="--count" />
        </args>
    </git>
    <git command="describe" property="versioning.name" taskname="versioning">
        <args>
            <arg value="--tags" />
            <arg value="--dirty" />
            <arg value="--abbrev=7" />
        </args>
    </git>
    <echo level="info" taskname="versioning">${versioning.code}, ${versioning.name}</echo>
    <replaceregexp file="AndroidManifest.xml" match='android:versionCode=".*"' replace='android:versionCode="${versioning.code}"' />
    <replaceregexp file="AndroidManifest.xml" match='android:versionName=".*"' replace='android:versionName="${versioning.name}"' />
</target>

<target name="-post-build" >
    <replaceregexp file="AndroidManifest.xml" match='android:versionCode=".*"' replace='android:versionCode="0"' />
    <replaceregexp file="AndroidManifest.xml" match='android:versionName=".*"' replace='android:versionName="0"' />
</target> 
```

会做的。

简而言之，它只是将`android.versionCode`and替换为`android.versionName`存储在 git 中的当前版本代码和名称。

### 注意事项

*   初始版本代码和名称在构建完成时设置为 0。如果您需要它，请替换`-post-build`目标中的零，或者（尽管我非常怀疑您是否需要它）您可以使其可配置并将其放置在某个属性中（文件或嵌入；您的选择）
*   如果构建失败或中止，版本将保持原样。（虽然我非常怀疑它是否有任何问题，只需还原文件！）

享受。

### 参考文献

*   [将 Git 与 Ant 集成的最佳方式？](https://stackoverflow.com/questions/841009/best-way-to-integrate-git-with-ant)
*   [从Ant Tasks for Git](http://tlrobinson.net/blog/2008/11/ant-tasks-for-git/)即兴创作的 git 的 macrodef | [tlrobinson.net 博客](http://tlrobinson.net/blog/2008/11/ant-tasks-for-git/)

### 重要编辑

1.  防止`HEAD`用于计算内部版本号；在开发期间进行构建时会导致版本降级问题，然后在安装稳定版本时（或在进行 beta 到主要版本的转换时）。使用`master`（或用于生产构建的分支） ref 代替。

PS：与 AS 用户相关：[使用 Android Studio/Gradle 从 git describe 自动对 Android 项目进行版本控制](https://stackoverflow.com/q/17097263/1523910)

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2014-09-07T06:10:05.777

**使用 Android Studio (Gradle)：**

```
android {
    defaultConfig {
        ...
        // Fetch the version according to git latest tag and "how far are we from last tag"
        def longVersionName = "git -C ${rootDir} describe --tags --long".execute().text.trim()
        def (fullVersionTag, versionBuild, gitSha) = longVersionName.tokenize('-')
        def(versionMajor, versionMinor, versionPatch) = fullVersionTag.tokenize('.')

        // Set the version name
        versionName "$versionMajor.$versionMinor.$versionPatch($versionBuild)"

        // Turn the version name into a version code
        versionCode versionMajor.toInteger() * 100000 +
                versionMinor.toInteger() * 10000 +
                versionPatch.toInteger() * 1000 +
                versionBuild.toInteger()

        // Friendly print the version output to the Gradle console
        printf("\n--------" + "VERSION DATA--------" + "\n" + "- CODE: " + versionCode + "\n" + 
               "- NAME: " + versionName + "\n----------------------------\n")
        ...
    }
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-03T14:20:13.397

```
'  for windows
'   preBuildMy.cmd  include  repVer.vbs 

' repVer.vbs :

Dim objFileSystem, objOutputFile
Dim objInputFile
Dim sText,gitFile

FileName = "./bin/AndroidManifest.xml"
'  gitFile = ".\..\.git\refs\heads\master"
gitFile = ".\..\.git\refs\remotes\origin\master"

Set objFileSystem = CreateObject("Scripting.fileSystemObject")

set objInputFile= objFileSystem.OpenTextFile(FileName)
sText= objInputFile.ReadAll

set objOutputFile = objFileSystem.CreateTextFile(FileName , TRUE)

set objInputFile= objFileSystem.OpenTextFile(gitFile)
refText= objInputFile.ReadAll

sText = Replace(sText,"v1.0","v 1.0 " & Now & " ref=" & mid(refText,1,7))

objOutputFile.WriteLine(sText)

objOutputFile.Close

Set objFileSystem = Nothing
WScript.Quit(0) 
```

# php - Soap 响应错误（Yii Web 服务）

> ID：14895125
> 
> 赞同：0
> 
> 时间：2013-02-15T12:51:48.200
> 
> 标签：php, web-services, soap, yii

谁能帮我解决我的问题？我正在尝试从我的 Web 服务获取数据，有时服务器响应使用无效的 XML。我注意到这取决于数据大小。当响应达到一定大小时，它以`</SOAP-ENV:Envelop`而不是结束`</SOAP-ENV:Envelope>`。

这是我的示例代码：一个控制器中的客户端和服务器。方法“成功”工作正常，但类似的方法“失败”没有。甚至更多：对于 nginx 和 php-fpm “成功”方法也失败了（对于具有 php_mod “成功”方法的 apache 有效）。

```
<?php

class SoapController extends CController
{
    public function actions()
    {
        return array('wsdl' => array('class' => 'CWebServiceAction'));
    }

    private function getData($size)
    {
        return array_fill(0, $size, '18ad96e6-5526-11e0-9c19-00248c654095');
    }

    /**
     * @return array
     * @soap
     */
    public function success()
    {
        return $this->getData(104);
    }

    /**
     * @return array
     * @soap
     */
    public function fail()
    {
        return $this->getData(105);
    }

    public function actionTest()
    {
        $client = new SoapClient($this->createAbsoluteUrl('wsdl'), array('trace' => true));

        $methods = array('success', 'fail');

        foreach ($methods as $method) {

            try {
                $result = call_user_func(array($client, $method));
                $result = count($result);
            } catch (SoapFault $ex) {
                $result = $ex->getMessage();
            }

            echo $method . ' result: ' . $result . '<br>';
            echo $method . ' response: <br>' . htmlspecialchars($client->__getLastResponse()) . '<br><br>';
        }
    }
} 
```

**软件版本：**

*   Ubuntu 服务器 12.10
*   Yii 1.1.13
*   PHP 5.4.6
*   阿帕奇 2.2.22
*   Nginx 1.2.1

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T06:10:52.890

问题出在控制器文件中。它具有**带有 BOM**的 UTF-8 字符集。删除 BOM 后，它工作正常。

# hibernate - 当父级被删除时，而不是子级正在删除其更新

> ID：14895126
> 
> 赞同：0
> 
> 时间：2013-02-15T12:51:49.700
> 
> 标签：hibernate, hibernate-mapping, hibernate-onetomany

我的问题是，当我删除父级时，子级没有被删除，而是没有删除子级，子级正在更新。父表是`Employee`子表`EmployeeProject`，员工和项目之间存在一对多的关系一位员工有很多项目什么我已经完成了，请检查我在哪里弄错了这是控制台上显示的查询

```
Hibernate: update employee_project set employeeNumber=null where employeeNumber=?
Hibernate: delete from employee where EMPLOYEE_NUMBER=? 
```

这是删除的逻辑

```
 public boolean deleteEmployee(Employee employee) {
        Transaction transaction = null;
        boolean flag;
        try {
            transaction = session.beginTransaction();
            session.delete(employee);
            transaction.commit();
            flag = true;
        } catch (HibernateException exception) {
            if (transaction != null)
                transaction.rollback();
            flag = false;
        }
        return flag;
    } 
```

这是父表映射文件Employee.hbm.xml

```
<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE hibernate-mapping PUBLIC 
 "-//Hibernate/Hibernate Mapping DTD//EN"
 "http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">

<hibernate-mapping package="com.nousinfo.tutorial.model">
    <class name="Employee" table="employee">
        <meta attribute="class-description">
            This class contains the employee detail
        </meta>
        <id name="employeeNumber" type="int" column="EMPLOYEE_NUMBER">

        </id>
        <property name="firstName" type="string" column="FIRST_NAME"></property>
        <property name="lastName" type="string" column="LAST_NAME"></property>
        <set name="employeeProjects" cascade="all-delete-orphan" lazy="false"
            inverse="true">
            <key column="employeeNumber" />
            <one-to-many class="com.nousinfo.tutorial.model.EmployeeProject" />
        </set>
        <property name="address1" type="string" column="ADDRESS_1"></property>

    </class>

</hibernate-mapping> 
```

这是子表映射文件 project.hbm.xml

```
 <?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE hibernate-mapping PUBLIC 
 "-//Hibernate/Hibernate Mapping DTD//EN"
 "http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">

<hibernate-mapping package="com.nousinfo.tutorial.model">
    <class name="EmployeeProject" table="employee_project">
        <meta attribute="class-description">
            This class contains the employee detail
        </meta>
        <composite-id>
            <key-property name="employeeNumber" type="int"
                column="EMPLOYEE_NUMBER"></key-property>
            <key-property name="projectCode" type="string" column="PROJECT_CODE"></key-property>
        </composite-id>
        <property name="startDate" type="date" column="START_DATE"></property>
        <property name="endDate" type="date" column="END_DATE"></property>
        <property name="role" type="string" column="PROJECT_ROLE"></property>
        <many-to-one name="employee" class="com.nousinfo.tutorial.model.Employee" ></many-to-one>
    </class>
</hibernate-mapping> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-15T14:14:35.457

在employee.hbm.xml 中，去掉标志inverse="true" 并将级联修改为cascade="all"。在这里放 inverse="true" 意味着这个关系的所有者是 EmployeeProject 而不是 Employee 这不是我们想要的。

```
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN" "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<hibernate-mapping>
    <class name="com.nousinfo.tutorial.model.Employee" table="EMPLOYEE">
        <id type="int" name="employeeId" column="EMPLOYEE_ID"/>
        <set name="employeeProjects" cascade="all">
            <key column="EMPLOYEE_ID"/>
            <one-to-many class="com.nousinfo.tutorial.model.EmployeeProject"/>
        </set>
    </class>
</hibernate-mapping> 
```

我还修改了键列的名称以匹配 EmployeeProject 复合 ID 中的名称，否则您将拥有 2 个具有相同信息的列。在 project.hbm.xml 中，将多对一修改如下，以获得正确的双向映射：

```
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN" "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<hibernate-mapping>
    <class name="com.nousinfo.tutorial.model.EmployeeProject" table="EMPLOYEE_PROJECT">
        <composite-id>
            <key-property type="int" name="employeeId" column="EMPLOYEE_ID"/>
            <key-property type="string" name="projectCode" column="PROJECT_CODE"/>
        </composite-id>
        <many-to-one name="employee" column="EMPLOYEE_ID" insert="false" update="false"/>
    </class>
</hibernate-mapping> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-15T13:04:57.410

将您的级联从**all-delete-orphan**更改为**delete**

因为您所需要的就是当父级被删除时，所有相关的子级也应该被删除。这就是**cascade=delete**所做的。

**cascade=all-delete-orphan**也用于删除子实体，它当然适用于不同的场景。当关系被切断时它将删除子实体例如，如果从父实体的集合中删除子实体，然后在休眠会话关闭时将删除子实体。当子实体在没有父实体的情况下逻辑上不能存在时，这种级联类型很有用。

# ios - 将 CollectionViewController 作为 ChildViewController 添加到 UIView

> ID：14895130
> 
> 赞同：3
> 
> 时间：2013-02-15T12:51:54.037
> 
> 标签：ios, objective-c

我正在尝试创建一个包含三个具有不同视图控制器（`UICollectionViewController`和`pageviewcontroller`）`uiviewcontroller`的子视图的视图。我可以添加一个`uiviewcontroller`但其他两个控制器是不允许的。我收到这个错误......

> 不兼容的指针类型将“UICollectionView *__weak”发送到“UIViewController *”类型的参数

他们有什么方法可以将这些控制器添加到我的子视图中吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-15T14:46:01.503

我不知道你为什么要在视图中添加 ViewController，我从不需要它。我试着这样做，如果可以帮助你这是我的运行代码：

视图控制器.h

```
#import <UIKit/UIKit.h>

@interface ViewController : UIViewController

@property (nonatomic, retain) UICollectionViewController  *collectionViewController;
@property (nonatomic, retain) UIPageViewController        *pageViewController;
@property (nonatomic, retain) UIViewController            *simpleViewController;

@end 
```

视图控制器.m

```
#import "ViewController.h"

@interface ViewController ()

@end

@implementation ViewController

@synthesize collectionViewController;
@synthesize pageViewController;
@synthesize simpleViewController;

- (void)viewDidLoad
{
    [super viewDidLoad];

    UICollectionViewLayout *layout  = [[UICollectionViewLayout alloc] init];
    collectionViewController = [[UICollectionViewController alloc] initWithCollectionViewLayout:layout];
    pageViewController       = [[UIPageViewController alloc] init];
    simpleViewController     = [[UIViewController alloc] init];

    // Do your stuff with this controllers

    [self.view addSubview:collectionViewController.view];
    [self.view addSubview:pageViewController.view];
    [self.view addSubview:simpleViewController.view];

}

- (void)didReceiveMemoryWarning
{
    [super didReceiveMemoryWarning];
    // Dispose of any resources that can be recreated.
}

@end 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-15T14:57:41.357

您不会将视图控制器添加到视图中。您将视图添加到视图（作为子视图），并且很少将控制器添加到控制器（作为子控制器）。

将它们视为两个并行的层次结构：鉴于`ControllerA`控件 view `ViewA`，您希望创建`ControllerB`一个子控制器`ControllerA`，使其 view`ViewB`是`ViewA`.

请参阅[WWDC 2011 视频](https://developer.apple.com/videos/wwdc/2011/)：“实施 UIViewController 遏制”

# mysql - Mysql - 按 2 列的 SUM 按结果分组

> ID：14895135
> 
> 赞同：0
> 
> 时间：2013-02-15T12:52:01.357
> 
> 标签：mysql, group-by, sum

我有 3 张桌子：

```
user(id, name, id_school)
school(id, name)
result(id_user, stage1, stage2) 
```

现在我想获得学校排名 - 是 2 列的总和：所有用户的 stage1 和 stage2。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-15T13:12:41.183

似乎太简单了：

```
select s.name as school, sum(stage1)+sum(stage2) as rank
  from result r 
  join user u on u.id=r.id_user 
  join school s on s.id=u.id_school
 group by s.id 
```

我真的希望你有索引。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-15T13:07:40.253

我会做这样的事情：

```
SELECT school.name, SUM(result.result1 + result.result2) 
FROM school LEFT JOIN user ON (user.id_school = school.id) LEFT JOIN result ON (result.id_user = user.id) GROUP BY school.id 
```

希望它有帮助，祝你好运:)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-15T13:04:22.533

试试这个查询。这只是假设。请提供一些数据进行测试

```
SELECT 
    s.id,
    s.name AS SchoolName
    (r.S1 + r.S2) AS Rank
FROM school as s
LEFT JOIN user as u ON u.id_school = s.id
LEFT JOIN (SELECT id_user , SUM(stage1) as S1 , SUM(stage2) FROM result GROUP BY id_user) as r ON r.id_user = u.id
GROUP BY s.id
ORDER BY Rank DESC 
```

# html - 当值为空且颜色设置样式时，必填输入字段获取边框

> ID：14895141
> 
> 赞同：3
> 
> 时间：2013-02-15T12:52:15.627
> 
> 标签：html, css, input, border, required

你能给我解释一下吗？

在 Firefox 中运行：http: [//jsfiddle.net/eMa8y/24/](http://jsfiddle.net/eMa8y/24/)

HTML：

```
<html>

    <head>
        <script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
    </head>

    <body>
        <form>
            <input type="text" placeholder="input" required />
            <input type="text" placeholder="input" />
        </form>
    </body>

</html> 
```

CSS：

```
input {
    color:black;
}
[required] {
    color:red;
} 
```

脚本：

```
$(document).ready(function () {
    setTimeout(function () {
        $("input").val("");
    }, 3000);
}); 
```

等待三秒钟，输入会出现红色边框。为什么？这是Firefox的错误吗？

请注意，我使用的是 Firefox 18.0.2。

谢谢。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-15T12:58:08.307

HTML5 属性`required`显然被 firefox 解释为包含红色边框，这是关于删除它的答案

[Firefox 4 必需的输入表单红色边框/轮廓](https://stackoverflow.com/questions/3809146/firefox-4-required-input-form-red-border-outline)

所以就这样做：

```
[required] {
    color:red;
    box-shadow: none;
} 
```

固定的

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-15T12:57:42.450

这不是错误，这就是 Firefox 突出显示该输入需要一个值的方式。

`required`受 Firefox 支持：[https ://developer.mozilla.org/en-US/docs/HTML/Element/input#attr-required](https://developer.mozilla.org/en-US/docs/HTML/Element/input#attr-required)

更多解释：http: [//www.html5tutorial.info/html5-required.php](http://www.html5tutorial.info/html5-required.php)

因为您的脚本按在 DOM 中创建的顺序遍历所有输入，所以您所需的输入失去焦点，因为它后面有一个输入。因此调用 Firefox 验证，检查该输入是否有值。

内部 Firefox 风格：

```
:-moz-ui-invalid:not(output) {
    box-shadow: 0 0 1.5px 1px red;
} 
```

# python - 如何正确编码函数调用日志装饰器？

> ID：14895155
> 
> 赞同：1
> 
> 时间：2013-02-15T12:53:03.150
> 
> 标签：python

考虑这个例子：

调试.py：

```
import logging

class log_funcname:

    def __init__(self, the_logger):
        self.the_logger = the_logger

    def __call__(self, fn):
        def simply_call(*args, **kwargs):
            self.the_logger.critical(fn.func_name)
            return fn(*args, **kwargs)
        return simply_call

logger = logging.getLogger()

formatter = logging.Formatter("%(lineno)s")
ch = logging.StreamHandler()
ch.setFormatter(formatter)
logger.addHandler(ch)

@log_funcname(logger)
def hello():
  pass

hello() 
```

输出：

```
$ python debug.py
10 
```

我的意思是创建一个调用记录器的函数，将执行实际发生的行号和文件名传递给它。如果我希望示例应用输出 25 而不是 10，那我应该改变什么？

# path - Java 窗口命令

> ID：14895158
> 
> 赞同：1
> 
> 时间：2013-02-15T12:53:15.873
> 
> 标签：path, java

我正在尝试在 Windows 7 pc 上编译一些 java 代码，我已经安装了 java JDK，并且我正在尝试`javac`在 cmd 中使用该命令，但我得到输出说

`'javac' is not recognized as an internal or external command, operable program or batch file.`

我必须做什么才能在 cmd 中启用编译器，或者在 Windows 中可以做什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-15T13:07:31.810

**1）通过右键单击**图标计算机 转到属性 ，然后导航到**高级系统设置**。

2）点击**环境变量**。

3）点击新建，将**变量名**设置为**路径**，**变量路径**设置为java **jdk安装目录**的路径，可能是这样的 -

> **C:\Program Files\Java\jdk1.6.0_23\bin** ;

其中**C:** 是安装 JDK 的驱动器，**Program Files\java**是它所在的目录。

最后注意**分号（;）**。

4)点击确定

5）重新启动 cmd 并运行 javac ，它现在应该可以工作了。

在此处查找[**屏幕截图**](http://vietpad.sourceforge.net/javaonwindows.html)以获得更多帮助。

问候

安舒尔

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-15T12:56:20.680

您必须在 Windows 中为您的 JAVA_HOME 设置一个新的系统变量。
请参阅[此处](http://docs.oracle.com/javase/tutorial/essential/environment/paths.html)了解更多信息。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-15T12:56:25.533

在变量中添加`bin`文件夹的路径。有关设置变量的说明，请遵循本[教程](http://java.com/en/download/help/path.xml)。`JDK``PATH``PATH`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-15T13:00:05.580

您的 java 目录不在路径上。这里有一些有用的屏幕截图来展示如何设置它：http: [//vietpad.sourceforge.net/javaonwindows.html](http://vietpad.sourceforge.net/javaonwindows.html)

# algorithm - 将媒体文件标记为已收听的良好算法

> ID：14895165
> 
> 赞同：1
> 
> 时间：2013-02-15T12:53:32.370
> 
> 标签：algorithm, user-experience, behavior

我正在编写一个媒体播放器，并希望将媒体文件标记为已收听以便过滤它们。

但是，对于何时将歌曲/视频标记为已听/已观看，我缺乏一个好主意。电影往往会造成最大的问题。您可能不会在最后两分钟内观看演职员表，并且可能会跳过。

我想我可以跟踪播放的总秒数，但是如果由于某种原因上半场被观看两次，这会导致问题。跟踪电影的哪些部分已经播放似乎是一团糟。

我想出的最佳解决方案之一是，如果在文件的最后 10% 中用户播放超过 X 秒，则将电影/歌曲标记为已收听/已观看。那么我可以合理地假设他已经听了大部分内容和/或听/看他想要的东西。

但是，上述所有解决方案都不好，我真的很想输入

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-15T13:04:09.893

另一种方法呢？

**如果用户没有点击下一个/上一个/随机按钮或关闭超过一半的媒体，则该文件被收听/观看。**您可能需要跟踪观看的时间，并注意时间重叠*（观看前两分钟，然后再次观看前一分钟并不意味着用户观看了 3 分钟的文件）。*

在我看来，我会更多地使用跳过/关闭功能，而不是检查用户在最后 10% 中是否听 X 多于 Y。无论如何，您都可以移动到最后 10%，然后媒体将被标记为已查看。

但是，我的解决方案并不像应有的那样准确，也许没有。也许你应该看看[UX 网站](https://ux.stackexchange.com/)。

# java - 休眠连接表

> ID：14895166
> 
> 赞同：1
> 
> 时间：2013-02-15T12:53:34.153
> 
> 标签：java, hibernate, cascade, jointable

我正在使用 Hibernate 来管理我的 Java 应用程序中的持久性。我在 A 侧定义的实体 A 和 B 之间存在多对多关系（A 具有 B 的集合）。

当我从表 B 中删除一个对象时，我希望它也从实体 A 的集合中删除。但是，我不知道如何在 Hibernate 中定义 JoinTable 中的外键必须是“在删除级联时”。

如果有人可以帮助我，我将不胜感激。

编辑：代码示例：

```
 @Entity
    public class A {

      @ManyToMany
      @JoinTable(name = "aToB", joinColumns = { @JoinColumn(name = "aFk") }, inverseJoinColumns = { @JoinColumn(name = "bFk") })
      public Collection<B> getBs() { ... }

      public void setBs(Collection<B> bs) { ... }

    } 
```

当我查看我的数据库时，表 aToB 是通过以下命令创建的：

```
 CREATE TABLE aToB
    (
      afk integer NOT NULL,
      bfk integer NOT NULL,
      CONSTRAINT aToB_pkey PRIMARY KEY (afk , bfk ),
      CONSTRAINT fk156d338f71d2c983 FOREIGN KEY (afk)
          REFERENCES a (id) MATCH SIMPLE
          ON UPDATE NO ACTION ON DELETE NO ACTION,
      CONSTRAINT fk156d338fa35ac77c FOREIGN KEY (bfk)
          REFERENCES b (id) MATCH SIMPLE
          ON UPDATE NO ACTION ON DELETE NO ACTION
    ) 
```

我实际上是在 bfk 上为外键设置“ON DELETE CASCADE”。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-15T13:01:02.597

注解@Cascade(CascadeType.DELETE)

集合的 XML 映射文件 cascade="delete"

# ember.js - 在显示之前格式化属性

> ID：14895167
> 
> 赞同：1
> 
> 时间：2013-02-15T12:53:33.097
> 
> 标签：ember.js

您好 StackOverflow 专家，

我想知道是否可以使用 Ember.js 的计算属性来修改属性的值，然后再返回到请求它的任何对象。

想象一下这个简单的例子：我有一个带有邮件属性的用户对象当我设置属性时，我希望电子邮件地址从 first.last@example.com 更改为 first.last@anotherexample.com，然后返回它

当我请求该属性（通过 User.get ）时，我想取回修改后的属性。

我认为通过使用另一个“帮助”属性（如 formatted_mail）应该非常简单，我将在其中存储和检索格式化值，但我想知道是否可以在没有其他模型属性的情况下完成类似的事情。

到目前为止，我有这个 coffescript 代码，但是在读取属性时我总是得到“未定义”，即使我之前设置了它，所以我怀疑 Ember 没有在任何地方保存该值：

```
mail: ( ( key, value ) ->
    if arguments.length == 1
        return this.get 'mail'
    else
        return value.split( '@' )[0] + '@anotherexample.com'
).property 'mail' 
```

谢谢您的帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-15T13:43:56.697

您已接近解决方案。

由于计算属性总是在 Ember 中默认缓存（您可以使用 禁用此行为`.volatile()`），您不必指定当`arguments.length`为 1 时要执行的操作，除非您想指定默认值。

所以这里应该是这样的：

```
App.User = Ember.Object.extend({
  mail: function(key, value) {
    if (arguments.length === 2) {
      return value.split('@')[0] + "@tieto.com";
    }
    return null;
  }.property()
}); 
```

`return null`只需指定默认值。

当您设置该`mail`属性时，它会缓存返回的值并始终返回它而不重新计算该属性。

请注意，您可以这样做只是因为该`mail`属性不依赖于其他属性。如果您使用 声明它`.property('anotherProperty')`，则该`mail`属性将在任何时间`anoterProperty`更改时重新计算。因此，在上面的示例中，它将重置为`null`.

您可以[在这个 JSFiddle](http://jsfiddle.net/lcoq/vBH7L/)中尝试一下。

# c# - webmethod 在用户控件中不起作用

> ID：14895175
> 
> 赞同：-1
> 
> 时间：2013-02-15T12:54:03.860
> 
> 标签：c#, asp.net, c#-4.0

我正在使用下面的代码来调用 ac# 函数。但它在 aspx 页面中工作正常而不是在用户控制中。请帮我解决这个问题。

```
function add_plan() {
            try {
                alert('enter');
                PageMethods.add_plan_Items(onSucceeded, onFailed);
            }
            catch (ex) {
                alert(ex);
            }

        }

        function CallParametersPageMethod() {
            try {
                PageMethods.MyFirstParameterPageMethod("This is a Demo", onSucceeded, onFailed);
            }
            catch (ex) {
                alert(ex);
            }
        }
        function onSucceeded(result, userContext, methodName) {
            $get('div1').innerHTML = result;
        }

        function onFailed(error, userContext, methodName) {
            alert("An error occurred")
        } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-15T13:06:17.053

您必须将方法从控件的代码隐藏文件 ( `ascx.cs`) 移动到页面的文件隐藏代码 ( `.aspx.cs`)。或者在 Web 服务中移动该方法。

# ios - 如何在 UIScrollView 中禁用水平滚动？

> ID：14895177
> 
> 赞同：0
> 
> 时间：2013-02-15T12:54:06.273
> 
> 标签：ios, uiscrollview, scroll

我有`scrollView`280(w) x 350(h) 和`content view`840(w) x 405(h)。

我像这样在视图之间切换`segmented control`：

```
- (IBAction)segmentedClicked:(UISegmentedControl *)sender
{
    CGFloat x = sender.selectedSegmentIndex * self.personalDetailsScrollView.frame.size.width;
    CGPoint point = CGPointMake(x, 0);
    [self.personalDetailsScrollView setContentOffset:point animated:YES];
} 
```

我想禁用常规水平滚动，因此只有分段按钮会水平滚动视图。垂直滚动应保持活动状态。

尝试使用*-(void)scrollViewDidScroll*和此处提供的解决方案：（[如何在 iOS 中锁定 scrollView 的水平滚动](https://stackoverflow.com/questions/5271521/how-to-lock-the-horizontal-scrolling-of-a-scrollview-in-ios)）但由于某种原因它对我不起作用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-15T13:02:27.777

我还没有尝试过，但这是我要采取的方法：

在`UIScrollView`中，有一个性质：

`@property(nonatomic, readonly) UIPanGestureRecognizer *panGestureRecognizer`

所以我会制作自己的新`UIPanGestureRecognizer`扩展并覆盖：

```
- (CGPoint)translationInView:(UIView *)view
{
    CGPoint tmp = [super translationInView:view];
    return CGPointMake(0, tmp.y);
} 
```

将该手势识别器添加到`scrollview`，然后调用：

```
[scrollView.panGestureRecognizer requireGestureRecognizerToFail:youCustomOne]; 
```

它应该工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-15T13:07:00.580

尝试这个

```
- (IBAction)segmentedClicked:(UISegmentedControl *)sender
{
    if(sender.selectedSegmentIndex == 0)
    {
       CGPoint point = CGPointMake(0, 0);
    }
    else
    {
       CGPoint point = CGPointMake(self.personalDetailsScrollView.frame.size.width, 0);
     }
    [self.personalDetailsScrollView setContentOffset:point animated:YES];
    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-10-10T16:36:48.223

我知道这是一个迟到的答案，但我看到仍然没有接受的答案，所以我会试一试。

听起来您想要做的是使用 1 个控制器来有效地容纳 3 个单独的屏幕。您正在尝试根据用户在 a 中选择的内容在屏幕之间切换`UISegmentedControl`，并且您不希望用户能够通过水平滑动在视图之间平移。为什么不只有 3 个不同的视图控制器？我认为这是设置您正在尝试做的事情的更预期的方式，因此您会发现它更容易实现。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-08-27T08:42:04.017

Swift 3，设置`UIScrollViewDelegate`为你的类，然后使用下面的代码。

```
scrollView.isDirectionalLockEnabled = true

func scrollViewDidScroll(_ scrollView: UIScrollView) {
        if scrollView.contentOffset.x>0 {
            webView.scrollView.contentOffset.x = 0.0
        }
    } 
```

# foreign-keys - ADO.NET Entity Framework 一个表中的多个 FK

> ID：14895179
> 
> 赞同：0
> 
> 时间：2013-02-15T12:54:12.260
> 
> 标签：foreign-keys, ado.net-entity-data-model

我正在使用教程中的代码来尝试我在实际项目中需要的东西。我有一张桌子，里面`DataBase`有很多（16）`Foreign Keys`我必须重新创建整个`DataBase`使用`ADO.NET EF`，现在我对这种特殊情况几乎没有任何兴趣。这是我用于测试目的的代码：

```
public class Blog
    {
        public int BlogId { get; set; }
        public string Name { get; set; }
        public string Url { get; set; }

        public int UserId { get; set; }
        public virtual User User { get; set; }

        public virtual List<Post> Posts { get; set; }
    }

    public class Post
    {
        public int PostId { get; set; }
        public string Title { get; set; }
        public string Content { get; set; }

        //public int BlogId { get; set; }
        public virtual Blog Blog { get; set; }

        //public int BlogId1 { get; set; }
        public virtual Blog Blog1 { get; set; }

        //public int BlogId2 { get; set; }
        public virtual Blog Blog2 { get; set; }

        //public int BlogId3 { get; set; }
        public virtual Blog Blog3 { get; set; }

        //public int BlogId4 { get; set; }
        public virtual Blog Blog4 { get; set; }
    } 
```

我已经评论了这些`int`属性，因为我似乎不需要它们。执行此代码，我得到以下信息：

![在此处输入图像描述](../Images/3af26f0ced4eeae1790ff333282bc1bf.png)

所以目前有两件事让我担心 - 这是`Foreign Keys`在一张桌子上添加多个的方法吗？如果是这样 - 两行用红色下划线 - 为什么我有`Blog_BlogId`并且`Blog_BlogId1`在我得到预期之前`Blog1_.., Blog2_...`？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T06:39:19.313

好的，我在这里丢失了从那里获得解决方案的帖子，但在这种特殊情况下，它似乎是某种命名约定，我必须取消注释注释代码并更改名称而不使用数字或下划线。然后`OnModelCreating`根据需要多次添加此代码：

```
modelBuilder.Entity<Post>().HasRequired(c => c.Blog)
                                  .WithMany(m => m.Posts)
                                  .HasForeignKey(c => c.BlogId)
                                  .WillCascadeOnDelete();

            modelBuilder.Entity<Post>().HasRequired(c => c.Blogged)
                                          .WithMany()
                                          .HasForeignKey(c => c.BloggedId)
                                          .WillCascadeOnDelete(false); 
```

请注意，每次为外键添加新记录时，我都会更改属性名称和类实例名称。

# visual-studio-2012 - ReSharper - 如何恢复到 Visual Studio 代码模板

> ID：14895180
> 
> 赞同：5
> 
> 时间：2013-02-15T12:54:21.803
> 
> 标签：visual-studio-2012, resharper, code-snippets, code-templates

在 Visual Studio 中创建属性时，我使用代码片段`prop`并可以`TAB`在类型和名称之间和 Visual Studio 之间跳转 2.

ReSharper 已接管此功能，我想知道如何将其重置回 Visual Studio。我的问题是我不知道去哪里找。在 Visual Studio 2012 中，我可以看到 ReSharper 菜单，但选项太多，我不知道该去哪里找。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-12-16T00:31:52.923

在 Visual Studio 2015 的 ReSharper 9.2 中，我通过执行以下操作实现了这一点：

1.  进入`ReSharper -> Tools -> Templates Explorer...`菜单
2.  删除所有三个`Live Templates`,`Surround Templates`和`File Templates`选项卡中所有范围内的所有模板。为了加快速度，我可以通过按`Ctrl`+选择范围内的所有模板`A`，然后按`X`工具栏中的按钮将其删除。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-04-20T17:39:12.523

我在使用 Visual Studio 2013 和 ReSharper 9 时遇到了类似的情况。我只是转到菜单 ReSharper →*工具*→*模板资源管理器*，然后找到道具模板并将其删除。

您也可以取消选择可能有效的模板，但我没有尝试这种方法。

# security - 防止用户访问 Node.js 应用程序代码

> ID：14895184
> 
> 赞同：0
> 
> 时间：2013-02-15T12:54:32.163
> 
> 标签：security, node.js

假设用户可以访问 public_html 目录中的所有文件。这是否意味着他们可以访问其中的 node.js 应用程序代码？这无疑是一个巨大的安全风险。

处理这个的正常方法是什么？您是否会使用文件权限来限制文件，或者将节点目录放在 public_html 之外并以某种方式引用它？如果是这样，怎么做？

非常感谢您提供的任何答案！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-01-08T21:49:11.610

是的，您的服务器脚本应该在外面`public_html`。只有您希望向公众提供的文件才应放在`public_html`.

如果节点服务器脚本存储在包含脚本的文件夹中或之上，则它可以引用`"./public_html"`or`"../public_html"`文件夹，或者它甚至可以引用`"/path/to/public_html"`它是否存储在文件系统的其他位置。

# vb.net - 我想从任务管理器中杀死 exe

> ID：14895187
> 
> 赞同：0
> 
> 时间：2013-02-15T12:54:42.207
> 
> 标签：vb.net

我有一个exe，当这个exe被调用时，有些这个exe已经在任务管理器中打开了，我想杀死所有以前的exe而不是当前的exe，我正在使用VB.net

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-15T13:07:29.497

正如之前的评论者所指出的那样，您确实应该更加努力自己解决问题（并证明您已经尝试过）

话虽如此，这里有一些提示：

```
taskkill.exe /F /IM myprocess.exe /FI "PID ne 555" 
```

[Process.GetProcessesByName](http://msdn.microsoft.com/en-us/library/z3w4xdc9.aspx)

[Process.GetCurrentProcess](http://msdn.microsoft.com/en-us/library/system.diagnostics.process.getcurrentprocess.aspx)

[进程.杀死](http://msdn.microsoft.com/en-us/library/system.diagnostics.process.kill.aspx)

要非常小心地杀死进程。正如安东·科瓦连科已经指出的那样，您*真的*确定要这样做吗？最好简单地警告情况并向用户/管理员提供说明。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-16T02:05:21.117

设置您的程序以接收消息。当最新的实例启动时，它会向前一个实例发送一条消息，以使其自身正常关闭——当然，还要将代码放在适当的位置来执行此操作。

# c# - WP7 将数据保存在隔离存储中

> ID：14895193
> 
> 赞同：0
> 
> 时间：2013-02-15T12:55:09.380
> 
> 标签：c#, windows-phone-7

我将数据保存在隔离存储中，但是当我重新启动手机时，我无法从那里读取这些数据。隔离存储为空。为什么？

如果我不关闭手机一切正常

这是我的代码：

```
 using (Stream file = IsolatedStorageHelper.OpenFile(USER_ACCOUNT_FILE, fileMode.Create))
        {
            if (null != file)
            {
                try
                {
                    XDocument xml = new XDocument();
                    XElement root = new XElement("userAccount");

                    root.Add(new XAttribute("FirstName", this._firstName));
                    root.Add(new XAttribute("LastName", this._lastName));
                    root.Add(new XAttribute("ID", this._id));
                    root.Add(new XAttribute("Sex", this._sex));

                    xml.Add(root);

                    // save xml data
                    xml.Save(file);
                }
                catch
                {
                }
            }
        } 
```

在隔离存储中创建文件的功能

```
static public IsolatedStorageFileStream OpenFile(string aFilename, FileMode mode)
            {
                IsolatedStorageFileStream res = null;

                using (IsolatedStorageFile isoStore = IsolatedStorageFile.GetUserStoreForApplication())
                {

                    try
                    {
                        res = new IsolatedStorageFileStream(aFilename, mode, FileAccess.ReadWrite, isoStore);
                    }
                    catch (Exception exc)
                    {
                        if ((null != (exc as IsolatedStorageException)) &&
                            (FileMode.Open != mode) &&
                            (true == createPathOnIsolatedStorage(isoStore,aFilename)) )
                        {
                            try
                            {
                                res = new IsolatedStorageFileStream(aFilename, mode, isoStore);
                            }
                            catch
                            {
                            }
                        }
                    }
                }

                return res;
            } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-15T20:07:33.370

如果您正在谈论在模拟器上运行它，这是**正常行为**。默认情况下，模拟器不保留隔离存储。

物理设备将始终将数据保存在存储中，除非明确重置、卸载应用程序或用户通过应用程序提供的一种方式删除内容。

# javascript - 如何防止向 DOM 节点添加元素？

> ID：14895195
> 
> 赞同：0
> 
> 时间：2013-02-15T12:55:12.067
> 
> 标签：javascript

我有一个非常恶心的问题。“恶心”是因为我无法完全控制整个网页，因此必须破解我的成功之路。

## 情况

我有自己的脚本，它被加载到网页中，以及一个`div`显示页面导航的容器。我想向该容器添加一个链接，并且该容器应该只包含该单个链接。

## 问题

有一个第三方脚本，它也添加到该容器的链接。它在 AJAX 回调函数中执行此操作

## 我试过的

**1.文档完全加载后删除除我之外的所有链接**

这是不可能的，因为第三方脚本通过 AJAX 回调加载内容，因此当页面完全加载时，不需要的链接尚未呈现。

**2.重命名`div`容器**

添加到容器的链接后，我完全剥离了容器，删除了类名、ID 等。但第三方脚本仍然找到了该容器。

**3\. 将事件附加`DOMNodeInserted`到容器**

在我称之为浏览器的任何东西上都很好用。但在 IE 中失败。IE 是该页面用户使用的主要浏览器。

**我还能尝试什么？**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-15T12:59:31.210

如果第三方脚本使用 jQuery，那么您可以尝试[ajaxComplete()](http://api.jquery.com/ajaxComplete/)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-15T13:19:54.733

可以监听 DOMSubtreeModified 事件，恢复原来的 div 状态。

```
var originalChildren = $('#content').children();

var setOriginal = function(e) {
    $('#content').off('DOMSubtreeModified');
    $('#content').empty().append(originalChildren);
    $('#content').on('DOMSubtreeModified', setOriginal);
};

$('#content').on('DOMSubtreeModified', setOriginal); 
```

[测试一下](http://jsfiddle.net/rQtEq/)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-15T13:00:56.087

您可以覆盖/包装其他脚本用于添加元素的 DOM 方法，例如 appendChild()。像这样的东西（伪代码）

```
var originalAppend = document.appendChild;
document.appendChild = function () {
    if condition {
        originalAppend.apply(document, arguments);
    }
} 
```

# xna - 更改 Xna 中导入的模型的 UV

> ID：14895197
> 
> 赞同：0
> 
> 时间：2013-02-15T12:55:15.560
> 
> 标签：xna

是否可以在 Xna 中更改模型（.fbx）的 UV（纹理坐标）。而且我知道我可以将模型分解为网格并将网格分解为网格部分，所以我也可以将网格部分分解为顶点。请解释

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-15T13:57:52.647

简短的回答；有可能的。

更长; 你想做什么？

*   只是想稍微移动一下纹理：您可以通过编写一个着色器来完成此操作，该着色器具有您添加到现有 TexCoord 的 float2 类型的参数 UVOffset。

*   想要完全重做：我不确定这是你想要在 XNA 中做的事情。您可能需要考虑在 3d 建模软件中编辑模型。

*   无论如何我都想：模型有一个叫做网格的属性。每个 ModelMesh 都有一个属性 MeshParts。每个 MeshParts 都有一个 VertexBuffer。每个 VertexBuffer 都有一个 GetData 方法。

简而言之，您可以从 MeshPart 的 VertexBuffer 中获取顶点，根据需要修改它们，然后使用 VertexBuffer.SetData 方法应用您的更改。

如果您告诉我们您要达到的目标，我们也许可以提供更具体的帮助:)

编辑：
基于在此线程中找到的 hlsl 示例：http: [//xboxforums.create.msdn.com/forums/p/1407/72515.aspx](http://xboxforums.create.msdn.com/forums/p/1407/72515.aspx)

在'纹理纹理;'之后插入：

```
float2 UVMultiplier; 
```

替换'output.TexCoord = input.TexCoord;' 和：

```
output.TexCoord = input.TexCoord * UVMultiplier; 
```

# c# - Windows Phone 8 上的 GPS 跟踪性能问题

> ID：14895201
> 
> 赞同：1
> 
> 时间：2013-02-15T12:55:55.967
> 
> 标签：c#, gps, location, windows-phone

为一个遛狗的朋友制作了一个快速应用程序，他想知道他走了多远，速度以及高精度的东西。无论如何，我用计时器让应用程序只跟踪距离和位置。一切正常，但是在更新屏幕上的统计信息（每 8 秒执行一次）时，似乎存在性能问题，因为时间会暂停然后跳 2 秒，好像说更新部分需要一秒钟或2.

这是代码

```
List<GeoCoordinate> Locations;
Geolocator Locator = new Geolocator();
Locator.DesiredAccuracy = PositionAccuracy.High;
Locator.MovementThreshold = 1;
Locator.PositionChanged += Locator_PositionChanged;

DispatcherTimer _timer = new DispatcherTimer();
_timer.Interval = TimeSpan.FromSeconds(1);
_timer.Tick += Timer_Tick;
_timer.Start();
long _startTime = System.Enviroment.TickCount;

private void Locator_PositionChanged(Geolocator sender, PostionChangedEventArgs args)
{
    CurrentLocation = args.Position;

    if(GetPositionTime >= 8) // Checks to see if 8 seconds has passed
    {           
       Deployment.Current.Dispatcher.BeginInvoke(new Action(() =>
       {
            GeoCoordinate cord = new GeoCoordinate(CurrentLocation.Coordinate.Latitude,
                                    CurrentLocation.Coordinate.Longitude);
         if(Locations.Count > 0)
         {
            GeoCoordinate PreviousLocation = Locations.Last();

            // This part will update the stats on the screen as a textbox is bound to
            // DistanceMoved
            DistanceMoved = cord.GetDistanceTo(PreviousLocation);             
         }

         Locations.Add(cord);
       }));
    }
}

private void Timer_Tick(object sender, EventArgs e)
{
    GetPositionTime++;
    TimeSpan time = TimeSpan.FromMilliseconds(System.Enviroment.TickCount - _startTime);

    // Update the timer on the screen
    Duration = time.ToString(@"hh\:mm\:ss");
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-17T06:54:11.880

UI 控件需要在 UI 线程上更新 - 将 Dispatcher.BeginInvoke 包裹在 Duration 周围，它应该可以工作。

```
Deployment.Current.Dispatcher.BeginInvoke(new Action(() =>
{
        Duration = time.ToString(@"hh\:mm\:ss"); 
} 
```

# sql - 处理大量 XML 如何不锁定数据库并获得最佳性能？

> ID：14895207
> 
> 赞同：0
> 
> 时间：2013-02-15T12:56:06.297
> 
> 标签：sql, performance, sql-server-2008, indexing, database-locking

我有一个处理一些 XML 并将其规范化为多个表的数据库过程。我不是一个庞大的数据库人，对数据库锁了解不多，所以我主要是想知道我所做的任何事情是否完全错误。

首先，有一个`results`表，其中包含类似于以下内容的内容：

```
resultId,computerId(int)|rawData(xml)
-------------------------------------------
1|1|<installedSoftware><software name="Google Chrome" version="1.0" /><software name="Mozilla Firefox" version="3.0" /></installedSoftware>
2|2|<installedSoftware><software name="Internet Explorer" version="6" /><software name="Google Chrome" version="1.0" /></installedSoftware>

```

我的存储过程如下所示：

```
CREATE TABLE #ResultsToProcess
(
   int resultId
)

-- Only trying to process 1000 results at a time. If I try to do to many at once, I sometimes get timeouts. Instead I do small chunks.
SELECT
  TOP 1000
  resultId
FROM
  results

CREATE TABLE #TempSoftware
(
   computerId INT,
   softwareName NVARCHAR(MAX),
   softwareVersion NVARCHAR(MAX)
)

INSERT INTO #TempSoftware
SELECT DISTINCT
  computerId,
  T(N).value('(@name[1])', 'NVARCHAR(MAX)') AS softwareName,
  T(N).value('(@version[1])', 'NVARCHAR(MAX)') AS softwareVersion,
FROM
  results CROSS APPLY results.rawData.nodes('/installedSoftware[1]/software') AS T(N)
  INNER JOIN #ResultsToProcess ON results.resultId = #ResultsToProcess.resultId

-- May need to do some additional processing on the temporary data before actually using it.

-- To reduce duplicate data, we insert into a full list of software. There is an index based on softwareName and softwareVersion. The softwareTable has an auto increment int primary key.
INSERT INTO software(softwareName,softwareVersion)
SELECT DISTINCT softwareName, softwareVersion FROM #TempSoftware
WHERE NOT EXISTS(SELECT 1 FROM software WHERE software.softwareName = #TempSoftware.softwareName AND software.softwareVersion = #TempSoftware.softwareVersion)

-- Finally we will link any software to the computer. However in this case, the temp table does not have any indexes. Would it be worth-while to add some?
INSERT INTO computer_software(computerId,softwareId)
SELECT
  #TempSoftware.computerId,
  #software.softwareId
FROM #TempSoftware INNER JOIN ON software ON #TempSoftware.softwareName = software.softwareName AND #TempSoftware.softwareVersion = #software.softwareVersion 
```

因此，除此之外，该过程还将处理其他基于计算机的属性，所有这些属性都来自同一个`results.rawData`表/列。

我对这段代码的问题是：

1.  在此处理过程中，可能会不断地将其他条目添加到 results.rawData 表中。从 XML 节点中选择来创建我的临时表需要一些时间，我担心在这种情况下尝试插入表中的任何内容都可能被迫等待。通过使用`resultId`过程开始处的列，我尝试创建该过程将一次处理的数据范围。

2.  在此处理时间内，可以查询其他表（例如找出计算机上存在哪些软件）。由于我只对这些表进行了一次简短的批量插入，因此我假设那里应该没有问题。

3.  该`#TempSoftware`表没有索引，我对两`NVARCHAR(MAX)`列进行连接。是否值得在此表上创建索引？或者创建索引的开销会比连接更糟。

4.  我在这里做了什么愚蠢的事，我应该被打吗？

感谢您的任何建议。同样，我不是一个大数据库人。我假设直接在数据库中进行所有处理比将原始数据拉回 C#、进行处理并重新插入数据库要好。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-15T18:56:15.147

我的方法是添加一个附加（日期时间）列来标记您已插入到临时工作表中的数据。处理临时工作表，然后返回以检查新行。这应该是相当轻量级的。如果需要，它应该在自己的事务中。

通常没有索引 = 坏，相关索引 = 好。您应该始终拥有一个聚集索引，但是这可以紧密打包或填充，具体取决于数据的随机性。80% 是一个很好的起点。Whist 您将获得复制行的开销。SQL 是非常好的一个创建索引，所以插入，然后创建索引是最好的顺序。

如果您认为此类问题会反复出现，您可能需要查看 SSIS [http://en.wikipedia.org/wiki/SQL_Server_Integration_Services——](http://en.wikipedia.org/wiki/SQL_Server_Integration_Services)不要指望 MS 文档会像好的 google 一样有用，MS 不会在这方面改变自己的立场。SSIS 值得在某个时候掌握

# android - 我可以在启用任何配对设备的蓝牙时通知吗？

> ID：14895208
> 
> 赞同：1
> 
> 时间：2013-02-15T12:56:07.417
> 
> 标签：android, bluetooth

嗨，我正在使用与我的 android 应用程序连接的嵌入式蓝牙设备。

我的应用程序安装在 Android 手机中并且手机有一些配对的蓝牙设备，现在我希望如果启用任何配对的蓝牙设备（启动/打开）应用程序应该收到通知。

当然蓝牙将在手机中启用，并且蓝牙设备将在范围内。

请让我知道这怎么可能？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-15T13:54:30.437

如何使用[http://developer.android.com/reference/android/bluetooth/BluetoothAdapter.html#ACTION_CONNECTION_STATE_CHANGED](http://developer.android.com/reference/android/bluetooth/BluetoothAdapter.html#ACTION_CONNECTION_STATE_CHANGED)

要检查所有更改的状态，然后比较新状态是什么：

```
 STATE_DISCONNECTED, STATE_CONNECTING, STATE_CONNECTED etc. 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-15T18:23:53.240

没有什么可以自动检测到这一点，您必须让您的应用程序和配对设备都做一些工作才能检测到这一点。TYhere 可能有 2 个选项：

1.  您的应用程序可以执行一些定期设备发现（低频 - 否则会耗尽电池）来搜索附近的配对设备。启用/启动时配对的设备应使其可被发现。

2.  一个更好的方法是，一旦连接到与之配对的设备上，并且通常在大多数手机上默认打开蓝牙，它也会扫描传入连接，这样你的应用程序就可以准备好接受传入的连接。

# css - Twitter 引导列调整大小

> ID：14895210
> 
> 赞同：2
> 
> 时间：2013-02-15T12:56:09.240
> 
> 标签：css, twitter-bootstrap, responsive-design

我有一个包含两列的布局，在第一列中我有子列。所以像：

```
<div class="row">
  <div class="span8">
    <div class="row">
      <div class="span1"></div>
      <div class="span4"></div>
      <div class="span1"></div>
      <div class="span1"></div>
      <div class="span1"></div>
    </div>
  </div>
  <div class="span4">
  </div>
</div> 
```

当页面调整为更小时，我希望两个外列相互堆叠，而不是内列，因为它们总是需要在同一行上，即一旦页面大小调整到低于span8 然后它引入了一个水平滚动条。

这可能吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T10:38:53.590

```
<div class="row">
  <div class="span8 container-fluid">
    <div class="row-fluid">
      <div class="span1 offset2"></div>
      <div class="span4"></div>
      <div class="span1"></div>
      <div class="span1"></div>
      <div class="span1"></div>
    </div>
  </div>
  <div class="span4">
  </div>
</div> 
```

如果您在 span8 内部使用流体布局，则其中的内容应保持在同一行。

而且，我不知道你是否知道，但是一行总是 12 列，即使它在 span8 中。

我希望你知道我的意思。对不起，我的英语不好。

# wpf - WPF 绑定字符串格式

> ID：14895214
> 
> 赞同：0
> 
> 时间：2013-02-15T12:56:19.727
> 
> 标签：wpf, string-formatting

我正在尝试格式化绑定到整数的文本块。我想要的是为正数显示（+25），为负数显示（-25）。到目前为止，我已经能够使用以下 xaml 单独执行此操作：

```
 StringFormat={}({0})}  // shows binding in a bracket
  StringFormat=+#;-#;0   // shows the sign 
```

组合格式的 xaml 是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-15T13:06:17.100

`StringFormat="({0:+#;-#;0})"`确实为我工作。

# javascript - jshint 忽略使用 '!==' 与 '' 进行比较

> ID：14895217
> 
> 赞同：12
> 
> 时间：2013-02-15T12:56:24.850
> 
> 标签：javascript, jshint

如何配置 JSHint 以忽略此错误：`Use '!==' to compare with ''.`？

我希望这段代码通过：

```
/*jshint undef: false */
if (a == true) {

} 
```

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2013-02-15T13:27:28.003

解决办法是安装新版本的jshint：

`npm install -g https://github.com/jshint/jshint/archive/1.0.0-rc4.tar.gz`

然后使用这个配置：

```
{
    "-W041": false
} 
```

最后这个命令

`jshint --config jshint.json file.js`

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-02-15T13:02:25.057

只需使用：

```
if (a) {

} 
```

你*永远*不需要`== true`在`if`声明中使用。

# matlab - 从字符串中逐个字符读取到数组中

> ID：14895220
> 
> 赞同：0
> 
> 时间：2013-02-15T12:56:27.267
> 
> 标签：matlab

*MATLAB中将整数逐位读取*到数组中的常用方法是什么？

我正在尝试将一个四位整数*拆分*`1234`为一个数组`[1 2 3 4]`。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-15T13:19:59.673

对于单个整数，这是一种非常简单的方法

```
s = num2str(1234)
for t=length(s):-1:1
   result(t) = str2num(s(t));
end 
```

然而，最紧凑的方式是：

```
'1234'-'0' 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-15T13:17:46.850

或者试试这个

```
result = str2num(num2str(1234)')' 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-15T13:48:23.177

您可以使用[`arrayfun`](http://www.mathworks.com/help/matlab/ref/arrayfun.html)

```
arrayfun(@str2num, num2str(x)) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-04-16T14:13:24.903

这是一个使用递归函数的优雅高效的解决方案：

```
function d = int2dig(n)
   if n >= 10   
      d =  [int2dig(floor(n/10)),mod(n,10)];
   else
      d = n;
   end 
```

# objective-c - NSStringFromSize（[self intercellSpacing]）的不兼容类型？

> ID：14895228
> 
> 赞同：1
> 
> 时间：2013-02-15T12:56:58.887
> 
> 标签：objective-c, xcode, cocoa, imagekit

[我的IKImageBrowserView](https://developer.apple.com/library/mac/#documentation/graphicsimaging/Reference/IKImageBrowserView/IKImageBrowserView_Reference.html)子类中发生了一些非常奇怪的事情：

我正在尝试分别打印 intercellSpacing 和 cellSize 的大小。

```
CBDebug(@"intercellSpacing %@", NSStringFromSize([self intercellSpacing]));
CBDebug(@"cellSize %@", NSStringFromSize([self cellSize])); 
```

第二行绝对没问题，但第一行无法编译：

> 'NSStringFromSize' 的参数 1 的类型不兼容。

但是，这两个函数返回相同的类型：

```
- (NSSize)intercellSpacing
- (NSSize)cellSize 
```

xCode 中使用的 SDK 是 10.6。我究竟做错了什么 ？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-15T14:32:10.933

确保您的部署目标设置为 10.6。

将该设置设置为任何早期版本，您就不能使用 10.6 上尚不存在的任何东西，这是`-[IKImageBrowserView intercellSpacing]`引入的时间。

# jsf - Spring Web 流和 JSF 模板

> ID：14895230
> 
> 赞同：0
> 
> 时间：2013-02-15T12:57:00.847
> 
> 标签：jsf, spring-webflow

我想创建由“标题”和“内容”组成的页面。我创建 common.xhtml

```
<ui:insert name="header">
    <ui:include src="commonHeader.xhtml" />
</ui:insert>
<ui:insert name="content">
    <ui:include src="commonContent.xhtml" />
</ui:insert> 
```

然后我创建两个页面（create_user_page.xhtml 和 search_page.xhtml），它们必须具有相同的“标题”但不同的“内容”

```
 <ui:composition  template="common.xhtml">
      <ui:define name="content">
                    <h1>Content for creating...</h1>
                    <ui:include src="create.xhtml"/>
      </ui:define>
    </ui:composition> 
```

和

```
 <ui:composition template="common.xhtml">
      <ui:define name="content">
                    <h1>Content searching...</h1>
                    <ui:include src="search.xhtml"/>
      </ui:define>
    </ui:composition> 
```

在我的 web_flow.xml 我有

```
<view-state id="start_page" view="administrator/main_page.xhtml">
    <transition on="create_user" to="create_user_page" />
    <transition on="find_user" to="search_page" />
    <transition on="back" to="back" />
</view-state>

<view-state id="create_user_page" view="administrator/create_user_page.xhtml">
    <transition on="create_user" to="create_user_page" />
    <transition on="find_user" to="search_page" />
</view-state>

<view-state id="search_page" view="administrator/search_page.xhtml">
    <transition on="create_user" to="create_user_page" />
    <transition on="find_user" to="search_page" />
</view-state> 
```

在 main_page.xhtml 我有两个动作“create_user”和“find_user”（在“header”中），它们导致页面 create_user_page.xhtml 和 search_page.xhtml。它们具有相似的“标题”并且在“内容”上有所不同。所有这些都很好，但我有一些问题。

1）似乎每次我进入create_user_page.xhtml或search_page.xhtml时都会重新渲染“标题”，还是我错了？是否有可能“标题”将保留而不重新渲染，并且仅对“内容”进行更改。

2）在我的网络流xml中，我必须复制代码

```
<transition on="create_user" to="create_user_page" />
<transition on="find_user" to="search_page" /> 
```

对于“create_user_page”和“search_page”。是否有可能重写它，记住这些动作发生在“标题”中，这两个页面是相同的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T18:19:34.683

JSF 模板将始终重新呈现您的页眉/页脚。就我个人而言，我不认为这是一个问题，除非你在那里有一些真正需要性能的东西。您可以通过以下方式避免重新渲染：

1.  使用 HTML 框架[http://www.w3schools.com/tags/tag_frameset.asp](http://www.w3schools.com/tags/tag_frameset.asp)
2.  部分呈现 - 在您的 SWF 流中（请参阅[http://static.springsource.org/spring-webflow/docs/2.0.x/reference/htmlsingle/spring-webflow-reference.html#view-transitions](http://static.springsource.org/spring-webflow/docs/2.0.x/reference/htmlsingle/spring-webflow-reference.html#view-transitions)中的标记），或PrimeFaces 部分渲染之类的东西

如果您使用任何一种方法，您可能必须重新设计您的 XHTML 和流 - 实际上您的部分呈现将替换流定义。就像是：

```
 <h:commandLink value="go to search page" actionListener="#{myBean.goToSearchPage}" update="content"></h:commandLink>
 <h:commandLink value="go to another page" actionListener="#{myBean.goToAnotherPage}" update="content"></h:commandLink>

<h:panelGroup id="content">
 <h:panelGroup id="search-page" rendered="#{myBean.isThisSearchPage}">
   <!-- search page contents here -->
 </h:panelGroup>
 <h:panelGroup id="another-page" rendered="#{myBean.isThisAnotherPage}">
   <!-- another page contents here -->
 </h:panelGroup>
</h:panelGroup> 
```

上述方法的可维护性肯定要低得多，也不推荐。改用标准 SWF 并在视图更改时重新呈现页眉/页脚。您仍然可以在 SWF 视图中使用部分呈现来响应用户的输入，而无需重新呈现整个页面。

Regarding the second question: you can use global transitions and flow inheritance. See [How to import globaltransitions.xml in myflow.xml?](https://stackoverflow.com/questions/7366307/how-to-import-globaltransitions-xml-in-myflow-xml)

# javascript - 为什么我的 :nth-child(2) 选择器在我的 jQuery 中不起作用？

> ID：14895231
> 
> 赞同：0
> 
> 时间：2013-02-15T12:57:12.940
> 
> 标签：javascript, jquery, html, jquery-selectors

我有以下 jQuery：

```
 $(".score-window a:first-child").click(function() {
        $(".score-window").hide();
        $(".login-window").show();
    });

    $(".score-window a:nth-child(2)").click(function() {
        $(".score-window").hide();
        $(".register-window").show();
    }); 
```

它与以下 HTML 相关联：

```
 <div class="score-window">
            <i class="icon-remove" title="Close"></i>
            <p>In order to view your score, you have to <a href="#">log in</a>.</p><br>
            <p>Don't have an account yet? <a href="#">Register</a>! Totally free and you'll get the ability to save your scores.</p>
        </div> 
```

我在课堂上只有两个链接`score-window`，所以我不明白为什么这不起作用。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-15T13:01:19.107

您有两个链接，但每个链接都是其 parent 的唯一孩子`p`，因此它们只会匹配`a:first-child`。链接的父级不是`.score-window`，而是`p`。然而，元素的父级`p`（连同`i`and`br`元素）*是* `.score-window`.

您需要修改选择器以`:nth-child()`与`p`元素一起使用，然后选择`a`每个元素下的。有一个`i`which 是第一个孩子，而`br`你的两个`p`元素之间有一个看起来不需要的元素。您应该能够将其删除，然后执行以下操作：

```
$(".score-window p:nth-child(2) a").click(function() {
    $(".score-window").hide();
    $(".login-window").show();
});

$(".score-window p:nth-child(3) a").click(function() {
    $(".score-window").hide();
    $(".register-window").show();
}); 
```

如果`br`出于某种原因必须留在那里，请使用`p:nth-child(4)`或`p:last-child`代替您的第二个选择器。

如果您正在使用或可以升级到 jQuery 1.9，则可以`:nth-of-type()`改为将计数限制为您的`p`元素（即 first`p`和 second `p`），但旧版本的 jQuery 不支持它：

```
$(".score-window p:nth-of-type(1) a").click(function() {
    $(".score-window").hide();
    $(".login-window").show();
});

$(".score-window p:nth-of-type(2) a").click(function() {
    $(".score-window").hide();
    $(".register-window").show();
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-15T12:59:39.723

您没有`a`元素内`score-window`的元素（我的意思是 的直接子级`score-window`）。其实它在里面`p`。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-15T13:02:10.893

你需要的是

```
$(".score-window p:nth-child(2) a").click(function() {...}); 
```

因为`a`是`<p>`标签的孩子而不是`<div class="score-window">`....

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-15T13:21:51.403

使用 :eq 代替，`a`元素是 score-window 的子元素，而不是直接元素，因此您的空间语法是正确的。只是 :eq ，因为这些`a`元素*不是*其直接父母的第一个孩子（每个之前都有一个文本节点），但它们在您匹配的集合中是第一个。*匹配时*不需要指定`p`中间的元素。

```
$(".score-window a:eq(0)").click(function() {
    $(".score-window").hide();
    $(".login-window").show();
});

$(".score-window a:eq(1)").click(function() {
    $(".score-window").hide();
    $(".register-window").show();
}); 
```

# python - 为什么要运行 setup.py，我可以只嵌入代码吗？

> ID：14895234
> 
> 赞同：3
> 
> 时间：2013-02-15T12:57:21.803
> 
> 标签：python

我正在编写一个依赖于几个库（Paramiko 等）的 CLI python 应用程序。如果我下载它们的源并将它们放在我的主应用程序源下，我可以导入它们并且一切正常。为什么我需要运行他们的 setup.py 安装程序或处理 python 包管理器？

我知道在部署服务器端应用程序时，管理员可以运行 easy_install/pip 命令等来安装先决条件，但对于必须作为仅依赖于 python 的独立应用程序分发的 CLI 应用程序之类的脚本二进制，推荐的方法是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-15T13:03:29.117

几个原因：

*   并非所有包都是纯 python 包。`setup.py`在您的包中包含 C 扩展并自动化编译过程很容易。

*   自动化依赖管理；`pip`安装程序工具 ( , `easy_install`, )为您声明和安装依赖项`zc.buildout`。依赖关系也可以动态声明（尝试导入`json`，如果失败，声明依赖`simplejson`等）。

*   自定义资源安装设置。安装过程是高度可配置和动态的。依赖检测也是如此。例如，`cx_Oracle`必须跳过相当多的环节才能使安装变得简单，包括它需要支持的所有各种平台和 Oracle 库分发选项的怪癖。

为什么您仍想为 CLI 脚本执行此操作？这取决于 CLI 对您的重要性；你会在未来几年保持这种状态吗？然后我仍然会使用 a `setup.py`，因为它*记录*了依赖项是什么，包括最低版本需求。您可以添加测试 ( `python setup.py test`)，并轻松部署到新位置或升级依赖项。

# livecycle - 从 adobe livecycle 工作台调用 shell 脚本？

> ID：14895235
> 
> 赞同：1
> 
> 时间：2013-02-15T12:57:23.643
> 
> 标签：livecycle, workbench

无论如何可以从 Adob​​e livecycle 工作台调用 shell 脚本吗？

我尝试使用`executescript`服务并`exec(scriptname)`在`beanshell`.

如果有，请举个例子。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T13:40:23.680

是的，您可以为此使用 executeScript 活动。

```
import java.util.*;
import java.io.*;
Process proc = Runtime.getRuntime().exec("executablecommand");
int exitValue = proc.waitFor(); 
```

上面的脚本将等待命令完成。您还可以使用流程参考来获取输出和错误流。

这是一篇关于`Runtime.exec`. [http://www.javaworld.com/jw-12-2000/jw-1229-traps.html](http://www.javaworld.com/jw-12-2000/jw-1229-traps.html)

如果您希望能够更好地处理异常，您仍然可以使用`Runtime.exec`但创建一个自定义 java 组件来执行 shell 命令来包装该功能。您甚至可以构建一个脚本引擎组件来执行 groovy 脚本等。

# c# - 冻结部分代码以防止格式化

> ID：14895236
> 
> 赞同：7
> 
> 时间：2013-02-15T12:57:23.770
> 
> 标签：c#, vb.net, visual-studio

有没有办法在 Visual Studio 中锁定或冻结部分代码以防止格式化？

我想保护以下代码：

```
Method("This is a long text", 12 , true  );
Method("Hi",                  558, true  );
Method("Short text",          1  , false ); 
```

被格式化为：

```
Method("This is a long text", 12, true);
Method("Hi", 558, true);
Method("Short text", 1, false); 
```

但仍然能够格式化文档的其余部分。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-15T13:06:14.817

您可以完全关闭它 ( `Options->TextEditor->Basic->General`) 取消选中漂亮列表。并在`Options->Text Editor->C#->Formatting`关闭选项下。

但是，遗憾的是，没有任何内置选项可以*选择性地*阻止格式化部分代码。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-15T13:11:02.300

[ReSharper](http://www.jetbrains.com/resharper/)格式化样式是解决问题的关键。

# css - CSS 选择器性能问题

> ID：14895248
> 
> 赞同：0
> 
> 时间：2013-02-15T12:58:12.710
> 
> 标签：css

我注意到`transitions`如果我们长期在一个选择器中选择 DOM 树，就会出现滞后。

像：

```
#wrapper #content #box-container #boxer .box:hover .transition { 
    /* styles here */
} 
```

否则，如果我使用这样的选择器：

```
.box:hover .transition {
    /* styles here */
} 
```

它工作正常，不会滞后。这是真的还是我的文件设置问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-15T13:12:20.803

一个 ID 应该在一个页面上只存在一次，所以这就足够了：

```
#boxer .box:hover .transition { 
    /* styles here */
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-15T13:01:47.717

CSS3 效果，包括过渡、动画、文本阴影等，是基于浏览器的，如果 GPU 性能不是最佳，一些动画会留在 GPU 上，这将滞后于你的动画。如果浏览器不使用 GPU，他们会把它留在 CPU 上，这将是最糟糕的，所以如果它滞后，它可能是 GPU 或 CPU 而不是 DOM，显然，如果你有太多嵌套类规则它浏览器解析会很痛苦，也会影响性能，因此请避免 CSS 中的嵌套规则过多

与 Firefox 相比，Chrome 处理这些问题的能力更好

如果您希望我在我制作的一个[项目](http://www.quratek.com/projects/neonize/)中使用繁重的动画，请使用 firefox 和 chrome 打开它并查看差异，firefox 会耗尽您 CPU 的所有功能，而 chrome 会处理它很正常

# iphone - 无法理解 NSXMLParser

> ID：14895251
> 
> 赞同：0
> 
> 时间：2013-02-15T12:58:15.123
> 
> 标签：iphone, objective-c, xml, xcode

我无法理解 NSXMLParser。我尝试了一些外部 XML 解析器，但没有运气。我要做的是解析 GDATA Youtube API xml，它检索视频的 xml。这工作正常，我有 xml，但很难重复元素。我只需要一个可以检索元素的示例，例如 (media:thumbnail url="" )(/media:thumbnail)

如何从元素 media:thumbnail 中获取 url 值

我请求的网址是[https://gdata.youtube.com/feeds/api/videos?q=football+-soccer&orderby=published&start-index=11&max-results=10&v=2](https://gdata.youtube.com/feeds/api/videos?q=football+-soccer&orderby=published&start-index=11&max-results=10&v=2)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-15T13:06:25.527

这是您可以使用的方式`NSXMLParser`：

在您的 .h 文件中声明：

```
NSMutableData       *webPortFolio;
NSMutableString     *soapResultsPortFolio;
NSURLConnection     *conn;

//---xml parsing---

NSXMLParser         *xmlParserPortFolio;
BOOL                elementFoundPortFolio;
NSMutableURLRequest *req;

NSString            *theXMLPortFolio;
NSString            *strSoapMsg;
UIAlertView         *alertView; 
```

在您的 .m 文件中使用以下代码：

```
-(void)callURL
{

     //Your logic to call URL.

     conn = [[NSURLConnection alloc] initWithRequest:req delegate:self];
     if (conn)
     {
         webPortFolio = [[NSMutableData data] retain];
     }
} 
```

要处理响应，您可以使用以下功能：

```
-(void)connection:(NSURLConnection *)connection didReceiveResponse:(NSURLResponse *)response
{
    [webPortFolio setLength:0];     
}

-(void)connection:(NSURLConnection *)connection didReceiveData:(NSData *)data
{
    [webPortFolio appendData:data];
}

-(void) connection:(NSURLConnection *) connection didFailWithError:(NSError *) error
{

    NSLog(@"error...................%@",[error description]);
    [webPortFolio release];
    [connection release];
}

-(void) connectionDidFinishLoading:(NSURLConnection *) connection
{

    //Check the request and returns the response.

    NSLog(@"DONE. Received Bytes: %d", [webPortFolio length]);

    theXMLPortFolio = [[NSString alloc] 
                      initWithBytes: [webPortFolio mutableBytes] 
                      length:[webPortFolio length] 
                      encoding:NSUTF8StringEncoding];

    //---shows the XML---

    NSLog(@"shows the XML %@",theXMLPortFolio);
    [theXMLPortFolio release];    

    if(xmlParserPortFolio)
    {
        [xmlParserPortFolio release];
    }
    xmlParserPortFolio = [[NSXMLParser alloc] initWithData: webPortFolio];
    [xmlParserPortFolio setDelegate: self];
    [xmlParserPortFolio setShouldResolveExternalEntities:YES];
    [xmlParserPortFolio parse];
    [webPortFolio release];
    [connection release];
}

//---when the start of an element is found---
-(void)  parser:(NSXMLParser *) parser 
didStartElement:(NSString *) elementName 
   namespaceURI:(NSString *) namespaceURI 
  qualifiedName:(NSString *) qName
     attributes:(NSDictionary *) attributeDict
{

    if( [elementName isEqualToString:@"GetPortfolioListResult"])
    {
        if (!soapResultsPortFolio)
        {
            soapResultsPortFolio = [[NSMutableString alloc] init];
        }
        elementFoundPortFolio = TRUE;
        NSLog(@"Registration...%@",soapResultsPortFolio);
    }
    else if([elementName isEqualToString:@"your_tag_name"])
    {
        elementFoundPortFolio = TRUE;
    }
    else if([elementName isEqualToString:@"your_tag_name"])
    {
        elementFoundPortFolio = TRUE;
    }
    else if([elementName isEqualToString:@"your_tag_name"])
    {
        elementFoundPortFolio = TRUE;
    }

}

-(void)parser:(NSXMLParser *) parser foundCharacters:(NSString *)string
{
    if (elementFoundPortFolio)
    {
        [soapResultsPortFolio appendString: string];
    }      
}

- (void)parser:(NSXMLParser *)parser parseErrorOccurred:(NSError *)parseError
{
    NSLog(@"Parser error %@ ",[parseError description]);
}

//---when the end of element is found---
-(void)parser:(NSXMLParser *)parser 
didEndElement:(NSString *)elementName 
 namespaceURI:(NSString *)namespaceURI 
qualifiedName:(NSString *)qName
{
    if ([elementName isEqualToString:@"GetPortfolioListResult"])
    {          
        NSLog(@"display the soap results%@",soapResultsPortFolio);
    }
    else if([elementName isEqualToString:@"your_tag_name"])
    {          
        //Perform required action
    }
    else if([elementName isEqualToString:@"your_tag_name"])
    {
        //Perform required action
    }
    else if([elementName isEqualToString:@"your_tag_name"])
    {
        //Perform required action
    }

    [soapResultsPortFolio setString:@""];
    elementFoundPortFolio = FALSE;
} 
```

**编辑 ：**

```
if ([elementName isEqualToString:@"media:thumbnail"])
{
      //Save your URL in an Array
 } 
```

# javascript - 加载一个 使用从 xml 中获取的字符串数组

> ID：14895252
> 
> 赞同：0
> 
> 时间：2013-02-15T12:58:16.313
> 
> 标签：javascript, arrays, dynamic

我正在尝试在 HTML 中创建一个动态列表，我正在使用字符串数组作为列表的数据，这个数组没问题，里面有一些字符串，我验证了它。所以这是我的代码：

```
function add_li(list, text) { 
var list = document.getElementById(list); 
var li = document.createElement("li"); 
li.innerHTML = text; 
list.appendChild(li); 
}

function load_list(list, list_array) { 
for (var i = 0; i < list_array.length; i++) { 
    add_li (list, list_array[i]);
} 
} 
```

这是电话：

```
load_list(lista_bodegas, Bodegas); 
```

html在哪里：

```
<html>
<head>
    <link rel="stylesheet" type="text/css" href="../../css/main.css">
    <script type="text/javascript" src="../../js/main.js"></script>
    <script type="text/javascript" src="../../js/cordova-2.3.0.js"></script>
    <meta name="viewport" id="viewport" content="width=device-width, height=device-height, minimum-scale=1, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>
    </title>
</head>
<body onload= "cargarBodegas();">
    <ul id= "lista_bodegas">

    </ul>

</body>
</html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-15T13:45:05.210

尝试使用

```
load_list("lista_bodegas", Bodegas); 
```

代替

```
load_list(lista_bodegas, Bodegas); 
```

# python - 在 Python 中将元组永久转换为列表

> ID：14895256
> 
> 赞同：-8
> 
> 时间：2013-02-15T12:58:21.520
> 
> 标签：python, list, type-conversion, tuples

```
>>> t=(0,0,3)
>>> t
(0, 0, 3)
>>> list(t)
[0, 0, 3] 
```

看起来元组已转换为列表，但是当我打印元组时`t`：

```
>>> t
(0, 0, 3) 
```

我意识到什么都没发生。我是否遗漏了什么，或者这就是它在 Python 2.6.5 中的工作方式？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-15T13:00:14.263

应该是`t = list(t)`。list(t)*返回*一个列表

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-15T13:00:34.390

这很简单，只需分配回`t`：

```
t = list(t) 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-15T13:01:29.850

```
t = list(t) 
```

`list(t)`返回一个新列表，同时保留`t`为元组。

考虑一个你想要同时拥有元组和列表的案例。

```
t2 = list(t) 
```

t 仍然是一个元组，而 t2 现在是一个列表。

# umbraco - 在 umbraco 中发布节点时运行宏

> ID：14895259
> 
> 赞同：1
> 
> 时间：2013-02-15T12:58:33.657
> 
> 标签：umbraco

发布页面时，我需要运行我的一个宏。我有办法在 umbraco 中做到这一点

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-15T13:27:54.287

您可以参与一些活动。在您的情况下，您可能会使用该`Document_AfterPublish()`事件。

```
 static void Document_AfterPublish(Document sender,
 umbraco.cms.businesslogic.PublishEventArgs e)
            {
                // your code
            }

    // hook into the event
    Document.AfterPublish += 
                       new Document.PublishEventHandler(Document_AfterPublish); 
```

另请查看[此](http://our.umbraco.org/wiki/reference/api-cheatsheet/attaching-document-event-handlers)链接和[此](http://our.umbraco.org/wiki/reference/api-cheatsheet/using-applicationbase-to-register-events/event-examples)链接，这可能会有所帮助。

# c# - 不同数组声明的不同智能感知

> ID：14895267
> 
> 赞同：1
> 
> 时间：2013-02-15T12:59:08.743
> 
> 标签：c#, .net, arrays

我通过以下两种方式声明一个整数数组：

```
Array numbers = Array.CreateInstance(typeof(int), 10);
int[] numbers1 = new int[6]; 
```

我假设变量`numbers`和`numbers1`两者都是相似的。但是我为这两个得到的智能感知是不同的。我有更多的选择`numbers1`。

为什么会这样？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-15T13:34:15.370

不同之处在于`numbers1`实现`IEnumerable<int>`以及`IEnumerable`; `numbers`只实现`IEnumerable`。

（基本上，`numbers` 知道它是一个序列，但不知道它是什么*类型*的序列；`numbers1`知道它是 s 的*序列`int`。*）

由于我`using System.Linq`在程序的开头有一行，所以我得到了*很多*LINQ 扩展方法可以使用 on `numbers1`，但只有少数 on `numbers`。

*（LINQ 定义了查询数组和其他序列的方法。由于只有在知道序列中有什么类型的对象*时才能对序列进行*有趣*的查询，所以很多方法仅适用于序列，而不适用于普通序列。）*`IEnumerable<something>``IEnumerable`*

 *如果我取出`using System.Linq`，我会在他们两个上得到完全相同的选项。

可能是你*自己*定义了很多扩展方法`IEnumerable<int>`，但很可能是 LINQ。*

# jquery - Jquery 检查 asp:radiobuttonlist 如果选择

> ID：14895275
> 
> 赞同：0
> 
> 时间：2013-02-15T12:59:33.447
> 
> 标签：jquery, asp.net

我有 jquery 代码，但我有一个小问题。我正在做一个 Poll-Selecton 系统，一切正常。但是今天我决定放两行代码来检查用户是否选择了其中一个单选按钮。我正在使用 ASP:RadioButtonlist。

现在的问题是，当用户单击提交按钮而不选择单选按钮时，它会显示 ALERT() 框。那很完美。之后，用户选择一个单选按钮，然后单击提交按钮，但提交按钮不会被触发。我该如何解决这个问题。

```
<script type="text/javascript" language="javascript">

        $(document).ready(function () {
            $('#<%=btn_poll_submit.ClientID %>').click(function (e) {

                 // CHECKS IF RADIOBUTTON SELECTED
                 //********************************
                if ($('#<%=rbl_poll.ClientID %> input:checked').val() == undefined) {
                    alert("PLEASE MAKE SELECTION");
                }
                else{

                    $.ajax({
                        type: "POST",
                        url: "ViewPost.aspx/insert_post_poll_selections",
                        data: "{'ProfessionalId':'1','choice_id':'" + $('#<%=rbl_poll.ClientID %> input:checked').val() + "','PostId':'<%=Session["SessionPostId"].ToString() %>','UserId':'<%=Session["SessionUserId"].ToString() %>'}",
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        success: function (data) {
                            $('#<%=pnl_poll_result.ClientID %>').html(data.d);
                        }
                    });
                }

            });
        });
    </script> 
```

谢谢你

# xml - 将shell脚本的退出代码写入文件

> ID：14895278
> 
> 赞同：0
> 
> 时间：2013-02-15T12:59:52.580
> 
> 标签：xml, shell, exit-code

我有一个运行工具的 shell 脚本。

我想要的是，这个shell脚本的退出代码应该写在一个`.XML`文件中。

到目前为止我做了什么

```
# command1
# command2    
echo "<status>" > /home/buser/ABC/status.xml   // Writing into XML    
cp2foss -f ABC -q all /srv/foss/$archive_file2 --user foss --password foss; 
echo $? >>  /home/buser/ABC/status.xml   /// Wrting exit code into XML
echo "</status>" >> /home/buser/ABC/status.xml 
```

它工作得很好，但我认为它不是一个**好的 cosing 实践。**

如何在 XML 文件中编写退出代码而不会出现这种违规？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-15T13:04:56.323

怎么样

```
# command1
# command2    
cp2foss -f ABC -q......
echo "<status>$?</status>" > path/to/status.xml 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-15T13:02:35.213

上面的代码没有*违规*，但你可以这样写：

```
cp2foss -f ABC -q all /srv/foss/$archive_file2 --user foss --password foss
printf '<status>%d</status>\n' "$?" > /home/buser/ABC/status.xml 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-15T13:46:53.453

你可能更喜欢这样写，因为它更干净，更容易理解。

```
{ 
    echo "<status>" 
    cp2foss -f ABC -q all /srv/foss/$archive_file2 --user foss --password foss;
    echo $? 
    echo "</status>" 
} > /home/buser/ABC/status.xml   # Writing into XML 
```

# java - 正则表达式从 Jdbc url 中查找主机名

> ID：14895284
> 
> 赞同：2
> 
> 时间：2013-02-15T13:00:05.607
> 
> 标签：java, regex

我是正则表达式的新手。我想使用正则表达式从 postgreSQL jdbc URL 中检索主机名。

假设 postgreSQL url 将是`jdbc:postgresql://production:5432/dbname`. 我需要检索“生产”，即主机名。我想尝试使用正则表达式而不是 Java 拆分功能。我试过了

```
Pattern PortFinderPattern = Pattern.compile("[//](.*):*");
final Matcher match = PortFinderPattern.matcher(url);
if (match.find()) {
    System.out.println(match.group(1));
} 
```

但它匹配从主机名到结尾的所有字符串。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-15T13:07:06.367

没有分组的正则表达式：

```
"(?<=//)[^:]*" 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-15T13:02:47.553

```
Pattern PortFinderPattern = Pattern.compile(".*:\/\/([^:]+).*"); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-15T13:16:31.710

您的正则表达式中有一些错误：

`[//]`- 这只是一个字符，因为`[]`标记了一个字符类，所以它不会完全匹配`//`。为了匹配它，你需要这样写：`[/][/]`或`\/\/`.

`(.*)`- 这会将所有字符匹配到行尾。如果你想去到某个角色，你需要更具体。例如，您可以通过获取所有不是冒号的字符来访问冒号，如下所示：`([^:]*)`.

`:*`- 这使得冒号是可选的。我猜你忘了在冒号后面加一个点（每个字符），像这样：`:.*`。

所以这里是你的正则表达式更正：`\/\/([^:]*):.*`。

希望这可以帮助。

顺便提一句。如果生产后端口号是可选的（：5432），那么我建议使用以下正则表达式： `\/\/([^/]*)(?::\d+)?\/`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-15T13:05:31.107

```
[//]([\\w\\d\\-\\.]+)\: 
```

应该足以可靠地找到它。虽然这可能是一个更好的正则表达式：

[主机名正则表达式](https://stackoverflow.com/questions/1418423/the-hostname-regex)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2016-11-23T14:22:52.887

为了还捕获 Oracle 和 MySQL JDBC URL 变体及其怪癖（例如 Oracle 允许使用`@`代替`//`或什至`@//`），我使用此正则表达式来获取主机名：`[/@]+([^:/@]+)([:/]+|$)`然后主机名在第 1 组中。

代码例如

```
String jdbcURL = "jdbc:oracle:thin:@//hostname:1521/service.domain.local";
Pattern hostFinderPattern = Pattern.compile("[/@]+([^:/@]+)([:/]+|$)");
final Matcher match = hostFinderPattern.matcher(jdbcURL);
if (match.find()) {
  System.out.println(match.group(1));
} 
```

这适用于所有这些 URL（和其他变体）：

```
jdbc:oracle:thin:@//hostname:1521/service.domain.local
jdbc:oracle:thin:@hostname:1521/service.domain.local
jdbc:oracle:thin:@hostname/service.domain.local
jdbc:mysql://localhost:3306/sakila?profileSQL=true
jdbc:postgresql://production:5432/dbname
jdbc:postgresql://production/
jdbc:postgresql://production 
```

这假设

*   主机名在其之后`//`或其`@`组合（单个`/`也可以，但我认为 JDBC 不允许这样做）。

*   在主机名之后`:`或`/`字符串的结尾之后。

请注意，它们`+`是贪婪的，这对于中间的尤其重要。

# javascript - 如何在 JavaScript 中打印对象数组？

> ID：14895287
> 
> 赞同：74
> 
> 时间：2013-02-15T13:00:11.163
> 
> 标签：javascript, arrays, object

我在 JavaScript 中创建了一个对象数组。如何在浏览器窗口中打印对象数组，类似于`print_r`PHP 中的函数？

```
var lineChartData = [{
            date: new Date(2009, 10, 2),
            value: 5
        }, {
            date: new Date(2009, 10, 25),
            value: 30
        }, {
            date: new Date(2009, 10, 26),
            value: 72,
            customBullet: "images/redstar.png"
        }]; 
```

* * *

## 回答 #1

> 赞同：133
> 
> 时间：2013-02-15T13:01:03.717

只需[`stringify`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify)您的对象并将其分配给您选择的元素的[innerHTML](https://developer.mozilla.org/en-US/docs/Web/API/Element/innerHTML)。

```
yourContainer.innerHTML = JSON.stringify(lineChartData); 
```

如果你想要更漂亮的东西，做

```
yourContainer.innerHTML = JSON.stringify(lineChartData, null, 4); 
```

```
var lineChartData = [{
            date: new Date(2009, 10, 2),
            value: 5
        }, {
            date: new Date(2009, 10, 25),
            value: 30
        }, {
            date: new Date(2009, 10, 26),
            value: 72,
            customBullet: "images/redstar.png"
        }];

document.getElementById("whereToPrint").innerHTML = JSON.stringify(lineChartData, null, 4);
```

```
<pre id="whereToPrint"></pre>
```

但是，如果您只是为了调试而这样做，那么您最好[将控制台](https://developers.google.com/chrome-developer-tools/docs/console)与`console.log(lineChartData)`.

* * *

## 回答 #2

> 赞同：22
> 
> 时间：2016-05-19T08:00:28.360

你检查过了吗

```
console.table(yourArray); 
```

更多信息在这里：[https ://developer.mozilla.org/en-US/docs/Web/API/Console/table](https://developer.mozilla.org/en-US/docs/Web/API/Console/table)

* * *

## 回答 #3

> 赞同：14
> 
> 时间：2013-02-15T13:19:25.563

如果您使用的是 Chrome，您也可以使用

```
console.log( yourArray ); 
```

* * *

## 回答 #4

> 赞同：7
> 
> 时间：2013-02-15T13:01:59.940

**php.js**库中有一个很棒[`print_r`](http://phpjs.org/functions/print_r/)的 JavaScript 实现。

 **请注意，您还应该在代码中添加[`echo`](http://phpjs.org/functions/echo/)支持。

**演示：http:** [//jsbin.com/esexiw/1](http://jsbin.com/esexiw/1)

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2013-07-07T13:26:07.050

警告对象或数组内容的简单函数。
使用数组或字符串或它警告内容的对象调用此函数。

**功能**

```
function print_r(printthis, returnoutput) {
    var output = '';

    if($.isArray(printthis) || typeof(printthis) == 'object') {
        for(var i in printthis) {
            output += i + ' : ' + print_r(printthis[i], true) + '\n';
        }
    }else {
        output += printthis;
    }
    if(returnoutput && returnoutput == true) {
        return output;
    }else {
        alert(output);
    }
} 
```

**用法**

```
var data = [1, 2, 3, 4];
print_r(data); 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-02-15T13:06:28.023

```
document.getElementById('container').innerHTML = lineChartData[array_index] 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2014-03-25T03:29:02.623

我使用以下函数在 Firefox 控制台日志中显示读数：

```
////        make printable string for console readout, recursively
var make_printable_object = function(ar_use)
{
////        internal arguments
var in_tab = arguments[1];
var st_return = arguments[2];
////        default vales when applicable
if (!in_tab) in_tab = 0;
if (!st_return) st_return = "";
////        add depth
var st_tab = "";
for (var i=0; i < in_tab; i++) st_tab = st_tab+"-~-~-";

////        traverse given depth and build string
for (var key in ar_use)
{
    ////        gather return type
    var st_returnType = typeof ar_use[key];
    ////        get current depth display
    var st_returnPrime = st_tab+ "["+key+"] ->"+ar_use[key]+"< is {"+st_returnType+"}";
    ////        remove linefeeds to avoid printout confusion
    st_returnPrime = st_returnPrime.replace(/(\r\n|\n|\r)/gm,"");
    ////        add line feed
    st_return = st_return+st_returnPrime+"\n";
    ////         stop at a depth of 15
    if (in_tab>15) return st_return;
    ////        if current value is an object call this function
    if ( (typeof ar_use[key] == "object") & (ar_use[key] != "null") & (ar_use[key] != null) ) st_return = make_printable_object(ar_use[key], in_tab+1, st_return);

}

////        return complete output
return st_return;

}; 
```

**例子：**

```
console.log( make_printable_object( some_object ) ); 
```

**或者**，您可以替换：

```
st_return = st_return+st_returnPrime+"\n"; 
```

和

```
st_return = st_return+st_returnPrime+"<br/>"; 
```

在 html 页面中打印出来。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2016-03-10T14:43:33.710

您可以只使用以下语法，该对象将完全显示在控制台中：

```
console.log('object evt: %O', object); 
```

我用的是 Chrome 浏览器，不知道这是否适用于其他浏览器。

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2016-10-29T17:11:33.650

嗯...为什么不使用这样的东西？

```
function displayArrayObjects(arrayObjects) {
        var len = arrayObjects.length, text = "";

        for (var i = 0; i < len; i++) {
            var myObject = arrayObjects[i];

            for (var x in myObject) {
                text += ( x + ": " + myObject[x] + " ");
            }
            text += "<br/>";
        }

        document.getElementById("message").innerHTML = text;
    }

            var lineChartData = [{
                date: new Date(2009, 10, 2),
                value: 5
            }, {
                date: new Date(2009, 10, 25),
                value: 30
            }, {
                date: new Date(2009, 10, 26),
                value: 72,
                customBullet: "images/redstar.png"
            }];

            displayArrayObjects(lineChartData);
```

```
<h4 id="message"></h4>
```

**结果：**

```
date: Mon Nov 02 2009 00:00:00 GMT+0200 (FLE Standard Time) value: 5 
date: Wed Nov 25 2009 00:00:00 GMT+0200 (FLE Standard Time) value: 30 
date: Thu Nov 26 2009 00:00:00 GMT+0200 (FLE Standard Time) value: 72 customBullet: images/redstar.png 
```

[jsfiddle](https://jsfiddle.net/7a0Lmph9/)

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2017-05-14T09:28:56.523

你可以`console.log()`用来打印对象

```
console.log(my_object_array); 
```

如果您有大对象并且想要打印它的一些值，那么您可以使用此自定义函数在控制台中打印数组

```
this.print = function (data,bpoint=0) {
    var c = 0;
    for(var k=0; k<data.length; k++){
        c++;
        console.log(c+'  '+data[k]);
        if(k!=0 && bpoint === k)break;  
    }
} 
```

**用法**

```
print(array);   // to print entire obj array 
```

或者

```
print(array,50);  // 50 value to print only 
```

* * *

## 回答 #11

> 赞同：-1
> 
> 时间：2018-10-29T19:53:34.570

不确定子元素，但所有浏览器现在都应该支持这个：

```
for (val of lineChartData) {
  document.write(val);
} 
```

这可能会给你一些想法[For-each over a array in JavaScript?](https://stackoverflow.com/questions/9329446/for-each-over-an-array-in-javascript)**

# php - 我可以下载调整大小的图像吗？

> ID：14895290
> 
> 赞同：0
> 
> 时间：2013-02-15T13:00:14.797
> 
> 标签：php, image-processing, imagemagick, gd

我有一个 cron 进程，它收集有关电影的信息并将完成的信息呈现给用户。但是，API 提供的指向“电影海报”的链接有时会很大，并且会因内存问题而导致进程崩溃。

例如 - 这个文件[http://content8.flixster.com/movie/11/16/86/11168662_ori.jpg](http://content8.flixster.com/movie/11/16/86/11168662_ori.jpg)很大。我相信它大约是 17MB，并且图像本身的时钟为 8175px x 12075px。

我的最终用户将看到的最大尺寸约为 360 像素宽。所以下载这么大的图像有点荒谬。下一个尺寸是 180 x 266 - 我担心如果我放大它可能看起来不正确。

PHP 有没有办法让我下载调整大小的版本？我知道如果我下载文件，我可以对它做一百万件事。我正在尝试更改下载本身的大小。

如果没有 - 任何其他人都可以想到的解决方案？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-15T13:04:54.827

不幸的是，没有办法，也不可能有逻辑上的办法。但是，有一种解决方法。您可以借助一些在线实用程序来完成这项工作

例如[http://quickthumbnail.com](http://quickthumbnail.com)从给定的 url 生成缩略图

希望这对你有用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-15T13:03:27.057

这与 PHP 无关。一些远程服务提供了一个文件。你可以接受或离开它。如果他们不提供一些 API 来下载不同大小或不同版本的文件，您将无法获得它。

您所能做的就是将文件下载到您的服务器，在那里调整大小并将其提供给您的用户。

# module - ImportError: No module named texttable (igraph, py2exe,cx freeze/gui2exe)

> ID：14895292
> 
> 赞同：1
> 
> 时间：2013-02-15T13:00:22.533
> 
> 标签：module, py2exe, igraph, cx-freeze, gui2exe

我花了 2 天时间试图解决这个问题，但我一无所获。

我尝试从我的 python 脚本中获取可执行文件。

脚本运行没有问题。我使用 igraph 在其中构建图表，这是我最喜欢完成这项任务的选择。

编译我的脚本后，我得到了预期的结果（包含我的 exe 及其内容的 Dist 文件夹）

当我尝试运行 exe 时，我收到了这个烦人的错误消息：

```
 File "igraph\__init__.pyc", line 36, in <module>
 File "igraph\clustering.pyc", line 38, in <module>
 File "igraph\summary.pyc", line 36, in <module>
 File "igraph\vendor\__init__.pyc", line 33, in vendor_import
ImportError: No module named texttable 
```

我检查了许多与 ImportError 相关的线程。我进入了包含 texttable 的文件夹，它就在那里！它没有丢失！我已经尝试过改变路径但仍然没有成功。

在我的脚本的开头，我有：

```
import re
import os
import csv
import math
from igraph import *
import thread
import unicodedata
from time import sleep
import wx.grid as gridlib
import sys
import Tkinter
from Tkinter import * 
```

我已经尝试过`from igraph import Graph`，但它仍然会寻找那个 TEXTTABLE。

我尝试过使用 py2exe、cx freeze 以及它们的 GUI2exe 的不错的 Gui 界面。没运气。无论我尝试什么，都会出现同样的错误。

如果解决方案很明显，我很抱歉。我不是专业人士。任何帮助深表感谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-15T13:22:37.017

`igraph`正在动态导入`texttable`，因此冻结工具不知道他们需要将模块复制进去。

在 cx_Freeze 中，您可以添加`igraph.vendor`到“包”（[请参阅​​文档](http://cx_freeze.readthedocs.org/en/latest/distutils.html)）以强制它从该包中复制所有内容。py2exe 可能有类似的选项。

或者，如果您`import igraph.vendor.texttable`在代码中的某个位置放置，冻结工具会拾取并知道包含它。

# java - 如果我没有 dll 文件的文档，如何访问 DLL 文件的功能？

> ID：14895298
> 
> 赞同：0
> 
> 时间：2013-02-15T13:00:40.957
> 
> 标签：java, dll, java-native-interface, jna

我想在java代码中访问dll文件的函数。但问题是我没有 DLL 文件的文档。因此，通过 DLL 导出查看器，我可以获取函数名称，但无法获取函数参数，它是返回类型。那么最好的解决方案是什么？是否有任何解决方案或文档是强制性的？

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-15T14:56:03.967

我认为您尝试做的事情是不可行的，至少不容易（或合法地）看到这个类似问题的答案[是否有任何本机 DLL 导出函数查看器？](https://stackoverflow.com/questions/1548637/is-there-any-native-dll-export-functions-viewer)

# visual-studio-2010 - 在 Visual Studio 2010 上安装 OpenCV-2.3.0-win-superpack

> ID：14895299
> 
> 赞同：0
> 
> 时间：2013-02-15T13:00:46.943
> 
> 标签：visual-studio-2010, opencv, 64-bit

我正在尝试在 Visual Studio 2010 上安装 OpenCV-2.3.0-win-superpack 并在许多站点中搜索，但我不能。我的操作系统是 x64 我真的很困惑如何安装它。有谁知道请帮帮我谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-15T13:23:20.370

您可能想要安装可用的最新版本：[OpenCV 2.4.3 for Windows](http://sourceforge.net/projects/opencvlibrary/files/opencv-win/2.4.3/OpenCV-2.4.3.exe/download)，除非您有充分的理由坚持使用旧的 2.3.0。

然后查看我们的[指南以配置 Visual Studio 和 OpenCV](https://stackoverflow.com/a/7014918/176769)。请注意，该指南适用于 2.3.0 版本，因此如果您升级到 2.4.3，则必须注意文件名和路径，因为 OpenCV 会将版本附加到某些文件名。

# c++ - Qt Drag & Drop：添加对拖动文件到应用程序主窗口的支持

> ID：14895302
> 
> 赞同：28
> 
> 时间：2013-02-15T13:00:50.573
> 
> 标签：c++, qt, drag-and-drop

许多应用程序允许用户将一个或多个文件拖到应用程序的主窗口。

如何在我自己的 Qt 应用程序中添加对此功能的支持？

* * *

## 回答 #1

> 赞同：46
> 
> 时间：2013-02-15T13:05:17.570

重载`dragEnterEvent()`并`dropEvent()`在您的`MainWindow`类中，并`setAcceptDrops()`在构造函数中调用：

```
MainWindow::MainWindow(QWidget *parent)
{
    ..........
    setAcceptDrops(true);
}

void MainWindow::dragEnterEvent(QDragEnterEvent *e)
{
    if (e->mimeData()->hasUrls()) {
        e->acceptProposedAction();
    }
}

void MainWindow::dropEvent(QDropEvent *e)
{
    foreach (const QUrl &url, e->mimeData()->urls()) {
        QString fileName = url.toLocalFile();
        qDebug() << "Dropped file:" << fileName;
    }
} 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-02-15T13:09:52.590

首先，查看[Qt 参考文档：Drag and Drop](http://doc.qt.io/qt-5/dnd.html)了解基础知识，然后查看[Drag and Drop of files on QMainWindows](http://wiki.qt.io/Drag_and_Drop_of_files)了解技术内容。后者提供了一个完整的例子。

Qt 还有一堆[拖放示例](http://doc.qt.io/qt-5/examples-draganddrop.html)，您可能对[Drop Site](http://doc.qt.io/qt-5/qtwidgets-draganddrop-dropsite-example.html)感兴趣。

# android - Android 加载 Keymaster 错误

> ID：14895307
> 
> 赞同：1
> 
> 时间：2013-02-15T13:00:58.647
> 
> 标签：android, eclipse, android-logcat, android-sdk-tools

自从更新到最新的 Android SDK 工具 Rev 21.1 并将我的 Nexus 4 更新到 4.2.2 后，在 eclipse 中，只要我连接手机，我就会收到以下错误，在日志中不断重复。有人有什么想法吗？

> 02-15 12:47:18.400: E/QSEECOMAPI:(3218): 错误:: 无法打开文件 /vendor/firmware/keymaster/keymaster.mdt
> 
> 02-15 12:47:18.400: E/QSEECOMAPI:(3218): Error::Loading image failed with ret = -1
> 
> 02-15 12:47:18.400: E/QCOMKeyMaster(3218): 加载 keymaster 应用程序失败
> 
> 02-15 12:47:18.400: E/keystore(3218): 无法在密钥库中打开 keymaster 设备（不允许操作）
> 
> 02-15 12:47:18.400: E/keystore(3218): keystore keymaster 无法初始化；退出

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T08:40:58.503

这应该解决它！这修复了设置（安全和 VPN）中的强制关闭，但我发现这也解决了 Eclipse 中的 keymaster 问题。

您需要root才能使用此解决方案

1.  打开终端模拟器（如果需要，可以从 Play 商店免费获取）
2.  `su`来自 SuperSU 或 SuperUser 的键入和回答权限对话框
3.  完全按照此处所述输入`mount -o rw,remount /system`，包括空格 -> 后跟 enter
4.  输入`cd /vendor/firmware/keymaster`-> 然后输入
5.  输入`chmod 0644 *`-> 然后输入

取自[http://www.reddit.com/r/nexus4/comments/18mzix/setting_crashes_after_updating_to_android_422/](http://www.reddit.com/r/nexus4/comments/18mzix/setting_crashes_after_updating_to_android_422/)

# java - Spring 异常处理，不同 url 的不同视图

> ID：14895313
> 
> 赞同：0
> 
> 时间：2013-02-15T13:01:07.260
> 
> 标签：java, spring, spring-mvc, exception-handling

我有一个异常解析器，可以捕获异常并相应地返回视图。

```
<bean class="com.mycomp.project.util.MyExceptionResolver">
<property name="exceptionMappings">
    <props>
        <prop key="com.mycomp.project.domain.exception.PermissionException">permissionException</prop>
        <prop key="com.mycomp.project.controller.payment.PaymentException">paymentException</prop>
        <prop key="com.mycomp.project.domain.exception.CSRFException">csrfException</prop>
        <prop key="com.mycomp.project.domain.exception.KeyEncryptionKeyException">keyEncryptionKeyException</prop>
        <prop key="java.lang.Exception">exception</prop>
    </props>
</property>
<property name="defaultErrorView" value="exception" /> 
```

一切安好。

但是对于我的 Web 应用程序的两个部分，我有单独的视图和控制器，我需要为此处理异常并且需要显示与其他部分不同的视图。因此，如果发生异常，我只需要一个不同的视图：

*我的项目/管理员/*，

不同的观点：

*我的项目/用户/*。

任何想法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-15T15:10:03.837

您可以实现[HandlerExceptionResolver](http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/web/servlet/HandlerExceptionResolver.html)并且在您的`resolveException`方法上，您可以根据正在执行的处理程序在视图查找上添加前缀。

# video - 加载视频内容时显示 Quicktime 徽标

> ID：14895318
> 
> 赞同：2
> 
> 时间：2013-02-15T13:01:21.793
> 
> 标签：video, loading, quicktime, graphical-logo

我们目前正在使用 VIDEOJS 构建 HTML5 平台，并且在 ipad 上使用它时遇到了问题。

我们有几个视频按顺序加载，可以在选择图标时播放。该平台在台式机上完美运行，但在 ipad 上观看时，会出现带有 quicktime 徽标的黑色闪光灯，表示视频在播放之前正在加载。

是否有任何已知的解决方法，我们可以自定义或完全摆脱 quicktime 徽标吗？我们已经尝试实现以下代码以在视频完全加载之前将其推到一边，但由于某种原因它没有带回视频，只是带回了音频。

```
function bringbackvideo()
{
    $("video").css("-webkit-transform", "translateX(0)");
}

function hidevideo()
{
    $("video").css("-webkit-transform", "translateX(-2048px)");
} 
```

自上次 ios 更新以来，此解决方法似乎已过时 -

[http://blog.millermedeiros.com/html5-video-issues-on-the-ipad-and-how-to-solve-them/](http://blog.millermedeiros.com/html5-video-issues-on-the-ipad-and-how-to-solve-them/)

# iis - JBoss EAP6 和 IIS 7.5 - 无法使用在 JBoss 7.1.1 中工作的 isapi_redirect 1.2.37 获得连接

> ID：14895319
> 
> 赞同：0
> 
> 时间：2013-02-15T13:01:25.793
> 
> 标签：iis, jboss, ajp, isapi-redirect

我有一个关于 JBoss EAP 6 和 IIS 7.5 的问题。

我有一个配置了多个 JBoss EAP 6 实例的设置，例如 node-a node-b 等。

我有 isapi_redirect 在这些节点之间进行负载平衡。这在 JBoss 7.1.1 中成功运行。但是，当我尝试运行 EAP 6 时，我得到的只是以下错误：

* * *

**服务暂时不可用！** 由于维护停机或容量问题，服务器暂时无法满足您的请求。请稍后再试。

雅加达/ISAPI/isapi_redirector/1.2.37

* * *

这是我的独立 ha.xml 配置：

```
 ....
   <subsystem xmlns="urn:jboss:domain:modcluster:1.1">
        <mod-cluster-config advertise-socket="modcluster" connector="ajp">
            <dynamic-load-provider>
                <load-metric type="busyness"/>
            </dynamic-load-provider>
        </mod-cluster-config>
    </subsystem>
    ....
    <subsystem xmlns="urn:jboss:domain:web:1.2" default-virtual-server="default-host" native="false">
        <connector name="http" protocol="HTTP/1.1" scheme="http" socket-binding="http" redirect-port="8443"/>
        <connector name="https" protocol="HTTP/1.1" scheme="https" socket-binding="https" secure="true">
            <ssl name="my_cert" key-alias="my_cert-ssl" password="changeit" certificate-key-file="${jboss.server.config.dir}\certificate\my_cert.jks" protocol="TLS" ca-certificate-file="${jboss.server.config.dir}\certificate\my_cert.jks"/>
        </connector>
        <connector name="ajp" protocol="AJP/1.3" scheme="http" socket-binding="ajp"/>
        <virtual-server name="default-host" enable-welcome-root="true">
            <alias name="localhost"/>
            <alias name="example.com"/>
        </virtual-server>
    </subsystem>
    ....
<socket-binding-group name="standard-sockets" default-interface="public" port-offset="${jboss.socket.binding.port-offset:0}">
    <socket-binding name="management-native" interface="management" port="${jboss.management.native.port:9999}"/>
    <socket-binding name="management-http" interface="management" port="${jboss.management.http.port:9990}"/>
    <socket-binding name="management-https" interface="management" port="${jboss.management.https.port:9443}"/>
    <socket-binding name="ajp" port="8009"/>
    <socket-binding name="http" port="8080"/>
    <socket-binding name="https" port="8443"/>
    <socket-binding name="jgroups-diagnostics" port="0" multicast-address="224.0.75.75" multicast-port="7500"/>
    <socket-binding name="jgroups-mping" port="0" multicast-address="${jboss.default.multicast.address:230.0.0.4}" multicast-port="45700"/>
    <socket-binding name="jgroups-tcp" port="7600"/>
    <socket-binding name="jgroups-tcp-fd" port="57600"/>
    <socket-binding name="jgroups-udp" port="55200" multicast-address="${jboss.default.multicast.address:230.0.0.4}" multicast-port="45688"/>
    <socket-binding name="jgroups-udp-fd" port="54200"/>
    <socket-binding name="modcluster" port="0" multicast-address="224.0.1.105" multicast-port="23364"/>
    <socket-binding name="osgi-http" interface="management" port="8090"/>
    <socket-binding name="remoting" port="4447"/>
    <socket-binding name="txn-recovery-environment" port="4712"/>
    <socket-binding name="txn-status-manager" port="4713"/>
    <outbound-socket-binding name="mail-smtp">
        <remote-destination host="localhost" port="25"/>
    </outbound-socket-binding>
</socket-binding-group>
.... 
```

* * *

它确实在 Redhat 的网站上声明，在 isapi_redirect 1.2.30 之前测试 EAP 6，但我使用的是 isapi_redirect 1.2.37。这是问题吗？

我正在拔头发，所以任何帮助都会很棒。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-30T19:15:12.237

在接口标签中，您可能需要编辑公共接口标签，如下所示：

```
    <接口>
        <接口名称="公共">
            <inet-address value="${jboss.bind.address:0.0.0.0}"/>
        </接口>

```

...

inet-address 标签中的地址默认为 127.0.0.1，只有当您直接登录到服务器时才允许访问。将其更改为全零允许从任何 IP 地址（本地或远程）进行访问。

# sql - GROUP BY 子句错误

> ID：14895320
> 
> 赞同：2
> 
> 时间：2013-02-15T13:01:26.290
> 
> 标签：sql, sql-server

我想从`GROUP BY`条款中排除一个阻止我将术语汇总在一起的术语。奇怪的是，我在 case 语句中使用了导致这种情况的术语，而查询仍然希望我在 group by 子句中使用它，否则会产生错误。如何解决这个问题？

更具体地说：条款中案例中使用的 vr.krebel 也`SELECT`迫使我添加它`GROUP BY`。如何避免这种情况？

```
SELECT vr.ktonr,
       vr.foretagkod,
       '' AS persign,
       '' AS TYPE,
       NULL,
       1 AS antal,
       SUM(vr.debbel-vr.krebel),
       0,
       vr.kostbar,
       vr.koststallekod,
       vr.projcode,
       vr.redovisnar,
       vr.period,
       'Allocated vouchers' AS artbeskr,
       ko.ktobeskr AS kodescr,
       CASE
           WHEN ((vr.ktonr LIKE '9600'
                  OR vr.ktonr LIKE '3%')
                 AND (vr.krebel>0)) THEN 'Revenues'
           ELSE 'Costs'
       END
FROM vr
INNER JOIN ko ON ko.ktonr=vr.ktonr
AND ko.redovisnar=datepart(YEAR,vr.bokfdat)
AND ko.foretagkod=vr.foretagkod
WHERE vr.foretagkod = 300
  AND vr.intsource = 20
  AND vr.projcode = 50040
  AND (vr.bokfdat BETWEEN CAST('2012-12-01' AS DATETIME) AND CAST('2012-12-31' AS DATETIME))
GROUP BY vr.ktonr,
         vr.foretagkod,
         vr.kostbar,
         vr.koststallekod,
         vr.projcode,
         vr.redovisnar,
         vr.period,
         ko.ktobeskr,
         vr.krebel 
```

更具体地说：`SELECT`子句中 case 中使用的 vr.krebel 也迫使我添加它`GROUP BY`，如何避免这种情况？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-15T13:14:56.780

这里有不同的选择。但我认为对您的查询更好的查询是将您添加`CASE`到`GROUP BY`.

```
select  vr.ktonr, 
        vr.foretagkod,
        '' as persign, 
        '' as Type,
        NULL, 
        1 as antal, 
        SUM(vr.debbel-vr.krebel),
        0, 
        vr.kostbar, 
        vr.koststallekod, 
        vr.projcode,
        vr.redovisnar, 
        vr.period,  
        'Allocated vouchers' as artbeskr, 
        ko.ktobeskr as kodescr,
        case when ((vr.ktonr like '9600' or vr.ktonr like '3%')
                     AND (vr.krebel>0)) then 'Revenues' else 'Costs' end
from vr
inner join ko 
    on ko.ktonr=vr.ktonr 
    AND ko.redovisnar=datepart(year,vr.bokfdat) 
    AND ko.foretagkod=vr.foretagkod
where vr.foretagkod = 300 
AND vr.intsource = 20 
AND vr.projcode = 50040 
AND (vr.bokfdat between CAST('2012-12-01' AS DATETIME) 
                AND CAST('2012-12-31' AS DATETIME))
group by vr.ktonr, 
         vr.foretagkod, 
         vr.kostbar, 
         vr.koststallekod, 
         vr.projcode, 
         vr.redovisnar, 
         vr.period, 
         ko.ktobeskr, 
         case when ((vr.ktonr like '9600' or vr.ktonr like '3%')
                     AND (vr.krebel>0)) then 'Revenues' else 'Costs' end 
```

# xml - 加载文档时出现跨域错误

> ID：14895324
> 
> 赞同：0
> 
> 时间：2013-02-15T13:01:34.530
> 
> 标签：xml, jquery, cross-domain

我正在使用 1.8.2 jQuery 的 ajax 加载 rss 提要，这是来自另一台服务器的 xml 文档，我无法控制所述服务器。

```
$.ajax({
    type: 'GET',
    url: 'http://example.com/feed',
    contentType: "application/xml",
    dataType: 'xml',
    success: function(data){
        alert(data);
    }
}); 
```

调用函数后，我不断收到跨域错误。我错过了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-15T13:04:46.533

你没有错过任何东西。由于同源策略，您无法访问跨域数据：[http ://en.wikipedia.org/wiki/Same_origin_policy](http://en.wikipedia.org/wiki/Same_origin_policy)

您的选择是：

a) 使用与您的网站位于同一域的代理服务器为您发出请求。或者使用这样的东西：http: [//www.corsproxy.com/](http://www.corsproxy.com/)

b) 使为您要获取的提要提供服务的服务器包含 CORS 标头，这将使您能够从中获取数据：[http ://en.wikipedia.org/wiki/Cross-origin_resource_sharing](http://en.wikipedia.org/wiki/Cross-origin_resource_sharing)

# php - Â 出现在 HTML 电子邮件中

> ID：14895326
> 
> 赞同：3
> 
> 时间：2013-02-15T13:01:41.953
> 
> 标签：php, email, utf-8

我正在使用以下方式发送 PHP 电子邮件：

```
mail($email, $subject, $message, $header); 
```

我这样布局消息，其中包括一些价格如下的表格：

```
$message = <<<EOF

<td style=\"border-bottom: 1px solid black; padding-bottom:4px; padding-top:4px; padding-right: 10px; text-align:right;\">£</td>

EOF; 
```

在某些电子邮件客户端上，£ 显示为 Â£。

我知道这与字符格式有关。但是这种方式发送 PHP 邮件时如何设置 UTF-8 字符集呢？

TIA

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-15T13:02:44.693

使用 HTML 实体作为井号

```
&pound; 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-15T13:04:41.703

首先，您可以使用

```
&pound; 
```

而不是原始`£`字符。

要设置电子邮件的字符编码，请设置标题：

```
$from    = 'me@domain.com';
$to      = 'to@domain.com';
$subject = 'Subject';

$headers = "From: " . $from . "\r\n";
$headers .= "Reply-To: ". $from . "\r\n";
$headers .= "MIME-Version: 1.0\r\n";
$headers .= "Content-Type: text/html; charset=UTF-8\r\n";

$message = 'message';

mail($to, $subject, $message, $headers); 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-02-15T13:05:19.740

这是比 fin1te 更通用的解决方案：

```
$header = array(
    "From: {$email}",
    "MIME-Version: 1.0",
    "Content-Type: text/html;charset=utf-8"
);
$result = mail($email, $subject, $message, implode("\r\n", $header)); 
```

# javascript - jQuery 数据选择器日期

> ID：14895330
> 
> 赞同：0
> 
> 时间：2013-02-15T13:01:56.333
> 
> 标签：javascript, jquery, datapicker

您好，我对 jQuery 的数据选择器有疑问。以下代码忽略了mindate

```
$('#datefrom').datepicker({
    minDate: '26.04.2013',
    setDate: +0,
    dateFormat: 'dd.mm.yy',
    onSelect: function(dateStr) {
        var date = $(this).datepicker('getDate');
        if (date) {
              date.setDate(date.getDate() + 1);
        }
        $('#dateto').datepicker("setDate", date);
    }
});             
$('#dateto').datepicker({               
    minDate: '27.04.2013',
    setDate: +0,
    dateFormat: 'dd.mm.yy'
});
$("#datefrom").datepicker().change(function() {
    var date = $(this).datepicker('getDate');
    if (date) {
          date.setDate(date.getDate() + 1);
    }
    $('#dateto').datepicker("setDate", date);
});
$("#datefrom").datepicker('setDate', 'today');
$("#dateto").datepicker('setDate', +1); 
```

知道我能做什么吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T14:36:40.760

minDate 想要一个日期对象 [http://api.jqueryui.com/datepicker/#option-minDate](http://api.jqueryui.com/datepicker/#option-minDate)

```
$( ".selector" ).datepicker({ minDate: new Date(2007, 1 - 1, 1) }); 
```

这对我有用：http: [//jsfiddle.net/JVueL/](http://jsfiddle.net/JVueL/)

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2013-02-15T13:05:21.550

它必须是一个数字，例如 1、15、30。-1 - 昨天 0 - 今天，1 - 明天

# android - 安卓模拟器无法发送邮件

> ID：14895332
> 
> 赞同：0
> 
> 时间：2013-02-15T13:02:01.173
> 
> 标签：android, email, android-emulator, smtp

我想从我的 android 应用程序自动发送邮件，所以我在模拟器中配置了 gmail 帐户并使用了以下代码：

```
Intent emailIntentt = new Intent(android.content.Intent.ACTION_SEND); 
emailIntentt.setType("plain/text");  
String aEmailList[] = { "xxxx@gmail.com" };  
emailIntentt.putExtra(android.content.Intent.EXTRA_EMAIL, aEmailList); 
emailIntentt.putExtra(android.content.Intent.EXTRA_SUBJECT, "Feedback");   
emailIntentt.putExtra(android.content.Intent.EXTRA_TEXT, "hello");
startActivityForResult(emailIntentt, 1); 
```

但是，它说没有找到发送邮件的应用程序。

此外，在配置电子邮件时，我无法与模拟器中的邮件帐户同步。这会导致问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-15T13:46:02.077

首先，纯文本的 MIME 类型是`text/plain`，而不是`plain/text`。

其次，正如评论所指出的，您需要一个配置了电子邮件帐户的电子邮件应用程序才能通过`ACTION_SEND`.

# oracle - 从选择更新

> ID：14895338
> 
> 赞同：1
> 
> 时间：2013-02-15T13:02:24.127
> 
> 标签：oracle, select

我必须从选择中进行更新，我得到了这 2 个包含这些行的表

**T1**

```
customer_number | trx number     | amount_due_remaining
____________________________________________________
309514          |MM1218881/2011  | 0
309514          |MM1218882/2011  | 0
309514          |MM1218903/2011  | 0
309514          |MM1218905/2011  | 0 
```

**T2**

```
contract | numdoc         | import
___________________________________
309514 |MM1218881/2011  | 2000,77
309514 |MM1218882/2011  | 1000,45
309514 |MM1218903/2011  | 1000,23
309514 |MM1218905/2011  | 2500,12 
```

我必须将列 amount_due_remaining 的 T1 的值放入 T2 导入

我做这个查询

```
update dbestrconto T1
SET T1.IMPORTO = (
SELECT nvl(T2.AMOUNT_DUE_REMAINING,0)
FROM XXENE_V_CCML_TRANSACTIONS@XXENE T2
WHERE T2.customer_number=T1.contratto
AND T2.customer_number='3095614'
and T2.TRX_NUMBER=T1.NUMDOC
) 
```

但是错了，请帮帮我。

问候， 鲁道夫

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-15T13:11:55.017

您正在更新所有行 - 您需要在 UPDATE 中添加 where 子句。

我建议改用 MERGE。

```
merge into dbestrconto  t1 
using xxene_v_ccml_transactions@xxene t2
on  (t2.customer_number=t1.contratto
and t2.trx_number=t1.numdoc)
when matched then update set 
    t1.importo = nvl(t2.amount_due_remaining,0)
where  t2.customer_number='3095614'; 
```

问候。霸气。

# javascript - 无法使用 jquery UI 检测身体上的可放置事件

> ID：14895344
> 
> 赞同：0
> 
> 时间：2013-02-15T13:02:37.280
> 
> 标签：javascript, jquery, jquery-ui

我正在创建使用`jquery UI`. 但是，当我在`body`

这是我的演示代码。任何帮助将不胜感激。

[http://jsfiddle.net/ysptW/1/](http://jsfiddle.net/ysptW/1/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-15T13:30:47.303

改变

```
 $( "body" ).droppable({ 
```

到：

```
 $( "#droppable" ).droppable({ 
```

[这](http://jsfiddle.net/ysptW/1/)是jsFiddle

**更新**

你几乎拥有它，问题是你的身体没有高度，这是通过给它一个css边框来识别的。一旦设置了高度，`body{height:200px;}`它就起作用了。

新的[jsFiddle](http://jsfiddle.net/markps/ysptW/2/)回应评论：

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-15T13:37:15.897

更新您的代码

```
$("body").droppable 
```

到

```
$("#droppable").droppable... 
```

[您可以在http://jsfiddle.net/anubhavranjan/yEvsY/](http://jsfiddle.net/anubhavranjan/yEvsY/)检查相同

欲了解更多信息，请访问[http://jqueryui.com/droppable](http://jqueryui.com/droppable)

# java - Spring security 记住我 - 注销一台 PC 会忘记其他 PC 上的所有其他持久登录

> ID：14895347
> 
> 赞同：2
> 
> 时间：2013-02-15T13:02:44.060
> 
> 标签：java, spring, authentication, spring-security, remember-me

记住我的服务定义：

```
 <security:remember-me services-alias="rememberMeService" data-source-ref="dataSource" user-service-ref="userService"/> 
```

我的 persistent_login 表（通过休眠）看起来像这样：

```
@Column(nullable = false, unique = false, length = 128)
private String username;

@Id
@Column(nullable = false, unique = true, length = 128)
private String series;

@Column(nullable = false, unique = false, length = 128)
private String token;

@Column(nullable = false)
private Date last_used; 
```

在一台计算机上注销时，如何停止删除一个用户名的所有持久令牌？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-15T14:46:11.393

您必须[`logout`重写](https://github.com/SpringSource/spring-security/blob/master/web/src/main/java/org/springframework/security/web/authentication/rememberme/PersistentTokenBasedRememberMeServices.java#L151). [使用方法](https://github.com/SpringSource/spring-security/blob/master/web/src/main/java/org/springframework/security/web/authentication/rememberme/AbstractRememberMeServices.java#L187)`PersistentTokenBasedRememberMeServices`解码 cookie 。返回的数组的第一个元素是令牌系列，您可以使用它来删除该特定会话的信息。[`decodeCookie`](https://github.com/SpringSource/spring-security/blob/master/web/src/main/java/org/springframework/security/web/authentication/rememberme/AbstractRememberMeServices.java#L187)

# java - 如何打印数组

> ID：14895354
> 
> 赞同：0
> 
> 时间：2013-02-15T13:03:00.843
> 
> 标签：java, arrays

我是Java编程的新手。在以下情况下，我无法理解为什么我不能通过这一行打印数组：

```
System.out.print(arr()); 
```

我得到的不是所有结果：'[D@60e1e567'

我做错了什么？

```
public class test {

    public static void main(String[] args) {
        System.out.print(arr());
    }

    public static double[] arr() {
        double res;

        int count=0;
        double[] anArray = new double[100000000];

        int k=0;
        for (int j=2;j<101;j++){
            for(int i=2; i<101;i++) {
                res=Math.pow(j,i);
                anArray[k]=res;
                k++;
            }
        }

        return anArray;         
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-15T13:06:27.410

你不能直接打印数组。你需要这样的东西：

```
double[] array=arr();

for(double x: array)
   System.out.print(x+" "); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-15T13:04:54.007

你不能像这样打印数组

 ~~~~```
System.out.print(arr()); 
```~~ 

~~用这个：~~

 ~~```
System.out.print(Arrays.toString(arr())); 
```

为此，您还应该添加

```
import java.util.Arrays; 
```

在文件的开头

你的数组也很大。`100000000`双打可能不适合数组。您可能想要更改数据结构，或限制大小。否则你可能会得到一个`java.lang.OutOfMemoryError: Java heap space`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-15T13:06:09.207

你可以遍历数组来查看它的值，或者调用 Collections 方便的方法来大致做同样的事情：`Arrays.toString(arr())`

```
public static void main(String[] args) {
    double[] d = arr();
    for(double x : d) {
        System.out.println(x);
    }
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-15T13:05:25.240

```
System.out.println(Arrays.toString(arr())); 
```

返回指定数组内容的字符串表示形式。字符串表示由数组元素的列表组成，括在方括号 ("[]") 中。相邻元素由字符“,”（逗号后跟一个空格）分隔。通过 String.valueOf(double) 将元素转换为字符串。如果数组为空，则返回“空”。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-15T13:20:40.260

而不是打印整个数组，您应该在那里打印每个元素：

```
double[] resultAry =arr();
for(int i=0; i< resultAry.length; i++ ){
System.out.println(resultAry[i]);
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-02-15T13:05:41.047

你没有做错什么。默认情况下，数组没有实现好的 toString() 。打印人类可读输出的最佳方法是使用`Arrays.asList(arr())`.~~~~

# iphone - 更新 UITableView 中的标签

> ID：14895359
> 
> 赞同：0
> 
> 时间：2013-02-15T13:03:25.980
> 
> 标签：iphone, xcode, uitableview

```
-(UITableViewCell *) tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    static NSString *cellIdentifier = @"cell";

    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:cellIdentifier];

    if (cell == nil) {
        cell = [[UITableViewCell alloc]initWithStyle:UITableViewCellStyleDefault reuseIdentifier:cellIdentifier];
    }

//    NSLog(@"msgcnt123 %@\n",[messageCount objectAtIndex:indexPath.row]);

    NSArray *seperateArray = [[clist objectForKey:[[clist allKeys]objectAtIndex:indexPath.row]]componentsSeparatedByString:@"@"];

    cell.accessoryType = UITableViewCellAccessoryDisclosureIndicator;
//    NSLog(@"key %@\n",[[clist allKeys]objectAtIndex:indexPath.row]);

    cell.textLabel.text = [seperateArray objectAtIndex:0];
//    cell.textLabel.text = [contactlist objectAtIndex:indexPath.row];
    cell.selectionStyle = UITableViewCellSelectionStyleNone;

//    NSLog(@"sep %@\n",seperateArray);

    if (![[seperateArray objectAtIndex:1] isEqualToString:@"0"]) {
        NSLog(@"msgCount %@\n",[seperateArray objectAtIndex:1]);
        lblCnt = [[UILabel alloc]initWithFrame:CGRectMake(260, 13, 20, 20)];
        lblCnt.backgroundColor = [UIColor lightGrayColor];
        lblCnt.textColor = [UIColor blackColor];
        lblCnt.text = [seperateArray objectAtIndex:1];
        lblCnt.textAlignment = UITextAlignmentCenter;
        lblCnt.layer.masksToBounds = YES;
        lblCnt.layer.cornerRadius = 2.0f;
        [cell.contentView addSubview:lblCnt];
        lblCnt.tag = 1000;

    }
    else
    {
        /*NSLog(@"msgCount1 %@\n",[seperateArray objectAtIndex:1]);
        [lblCnt removeFromSuperview];
        lblCnt.hidden = YES;*/
        for (UIView *view in [cell.contentView subviews]) 
        {
            if (view.tag == 1000) 
            {
              [view removeFromSuperview];
            }
        }

    }

    return cell;
} 
```

我在 UITableView 中显示带有标签的联系人姓名。标签显示每个联系人收到的消息数。我的视图名称是 chatViewcontroller。如果我在该视图中，标签计数不会更新。例如：对于联系人姓名“John”标签计数为“2”。当约翰收到一条消息，标签计数应更新为“3”时。它没有发生。如果我从另一个视图移动它会更新。是否可以更新 tableView chatviewController 本身？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-15T13:22:38.663

确保您更新了数据源（`clist`），然后调用 `[tableview reloadData]`

# android - Android Intent 不携带一串字符串

> ID：14895363
> 
> 赞同：1
> 
> 时间：2013-02-15T13:03:36.393
> 
> 标签：android, android-intent, android-button

在下面的代码中，从第一个活动到第二个活动的意图只携带 1 个字符串，我需要它携带 2 个。我尝试使用 bundle 来实现这一点，但我认为我的问题出在这一行

```
extras.putString(EXTRA_MESSAGE, message); 
```

您可能会注意到的第二个问题是我需要使用在第一页上输入的字符串来为文本着色，但是我需要花更多时间研究这个问题，第一个问题更重要。

如果有人可以帮助我解决第一个问题，将不胜感激

我有下面的所有相关代码。

主要活动

```
package com.example.myfirstapp;

import android.app.Activity;
import android.content.Intent;
import android.os.Bundle;
import android.view.Menu;
import android.view.View;
import android.widget.EditText;

public class MainActivity extends Activity {
    public final static String EXTRA_MESSAGE = "com.example.myfirstapp.MESSAGE";
    public final static String EXTRA_MESSAGE_COLOR = "com.example.myfirstapp.MESSAGE2";

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
    }

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        // Inflate the menu; this adds items to the action bar if it is present.
        getMenuInflater().inflate(R.menu.activity_main, menu);
        return true;
    }    

/** Called when the user clicks the Send button */
public void sendMessage (View view)   {
    Intent i = new Intent(this, DisplayMessageActivity.class);
    EditText editText = (EditText) findViewById(R.id.edit_message);
    EditText editTextcolor = (EditText) findViewById(R.id.edit_message_color);
    String message = editText.getText().toString();
    String messagecolor = editTextcolor.getText().toString();
    i.putExtra(EXTRA_MESSAGE_COLOR, messagecolor);
    Bundle extras = new Bundle();
    extras.putString(EXTRA_MESSAGE, message);
    startActivity(i);
    // Do something in response to button

}

} 
```

第二次活动

```
 package com.example.myfirstapp;

import android.annotation.SuppressLint;
import android.app.Activity;
import android.os.Build;
import android.os.Bundle;
import android.support.v4.app.NavUtils;
import android.view.MenuItem;
import android.widget.TextView;

public class DisplayMessageActivity extends Activity {

    @SuppressLint("NewApi")
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        // Get the message from the intent

        Bundle bundle = getIntent().getExtras();
        String messagecolor = bundle.getString(MainActivity.EXTRA_MESSAGE_COLOR);
        String message = bundle.getString(MainActivity.EXTRA_MESSAGE);

        // Create the text view
        TextView textView = new TextView(this);
        textView.setTextColor(getResources().getColor(R.color.blue));
        textView.setTextSize(100);
        textView.setText(message);
        textView.setText(messagecolor);

        // Set the text view as the activity layout
        setContentView(textView);

        // Make sure we're running on Honeycomb or higher to use ActionBar API
        if (Build.VERSION.SDK_INT >=Build.VERSION_CODES.HONEYCOMB)   {
        // Show the Up button in the action bar.
        getActionBar().setDisplayHomeAsUpEnabled(true);
    }
    }

    @Override
    public boolean onOptionsItemSelected(MenuItem item) {
        switch (item.getItemId()) {
        case android.R.id.home:
            // This ID represents the Home or Up button. In the case of this
            // activity, the Up button is shown. Use NavUtils to allow users
            // to navigate up one level in the application structure. For
            // more details, see the Navigation pattern on Android Design:
            //
            // http://developer.android.com/design/patterns/navigation.html#up-vs-back
            //
            NavUtils.navigateUpFromSameTask(this);
            return true;
        }
        return super.onOptionsItemSelected(item);
    }

} 
```

XML 文件

```
 <LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    tools:context=".MainActivity"
    android:orientation="vertical" >
    <EditText 
            android:id="@+id/edit_message"
            android:layout_weight="0"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginLeft="95dp"
            android:layout_marginTop="50dp"
            android:textSize="20sp"
            android:hint="@string/edit_message" />

    <EditText 
            android:id="@+id/edit_message_color"
            android:layout_weight="0"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginLeft="95dp"
            android:layout_marginTop="50dp"
            android:textSize="20sp"
            android:hint="@string/edit_message_color" />

    <Button         
            android:layout_weight="0"
            android:layout_marginLeft="55dp"
            android:layout_marginTop="50dp"
            android:layout_width="250dp"
            android:layout_height="70dp"
            android:text="@string/button_send"
            android:textColor="@color/royal_blue"
            android:textStyle="bold"
            android:textSize="30sp"
            android:background="@color/pale_green"
            android:onClick="sendMessage"  />     

 </LinearLayout> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-15T13:13:44.597

在布局文件的按钮中添加 id 属性，并在主活动中的此按钮上实现 onClick 方法。

```
package com.example.myfirstapp;

import android.app.Activity;
import android.content.Intent;
import android.os.Bundle;
import android.view.Menu;
import android.view.View;
import android.widget.EditText;

public class MainActivity extends Activity {
    public final static String EXTRA_MESSAGE = "com.example.myfirstapp.MESSAGE";
    public final static String EXTRA_MESSAGE_COLOR = "com.example.myfirstapp.MESSAGE2";
    Button b;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        b = (Button)findVIewById(R.id.buttonSend);
        b.setOnClickListener(new OnClickListener()
        {
               public void onClick(View v)
                 {
                     sendMessage();
                  }
         )};
    }

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        // Inflate the menu; this adds items to the action bar if it is present.
        getMenuInflater().inflate(R.menu.activity_main, menu);
        return true;
    }    

/** Called when the user clicks the Send button */
public void sendMessage (View view)   {
    Intent i = new Intent(this, DisplayMessageActivity.class);
    EditText editText = (EditText) findViewById(R.id.edit_message);
    EditText editTextcolor = (EditText) findViewById(R.id.edit_message_color);
    String message = editText.getText().toString();
    String messagecolor = editTextcolor.getText().toString();
    i.putExtra(EXTRA_MESSAGE_COLOR, messagecolor);
    Bundle extras = new Bundle();
    extras.putString(EXTRA_MESSAGE, message);
    startActivity(i);
    // Do something in response to button

}

} 
```

你的布局代码：

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    tools:context=".MainActivity"
    android:orientation="vertical" >
    <EditText 
            android:id="@+id/edit_message"
            android:layout_weight="0"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginLeft="95dp"
            android:layout_marginTop="50dp"
            android:textSize="20sp"
            android:hint="@string/edit_message" />

    <EditText 
            android:id="@+id/edit_message_color"
            android:layout_weight="0"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginLeft="95dp"
            android:layout_marginTop="50dp"
            android:textSize="20sp"
            android:hint="@string/edit_message_color" />

    <Button         
            android:layout_weight="0"
            android:id="@+id/buttonSend"
            android:layout_marginLeft="55dp"
            android:layout_marginTop="50dp"
            android:layout_width="250dp"
            android:layout_height="70dp"
            android:text="@string/button_send"
            android:textColor="@color/royal_blue"
            android:textStyle="bold"
            android:textSize="30sp"
            android:background="@color/pale_green" />

 </LinearLayout> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-15T13:09:03.107

试试这个..

```
 public void sendMessage (View view)   {
            Intent i = new Intent(this, DisplayMessageActivity.class);
            EditText editText = (EditText) findViewById(R.id.edit_message);
            EditText editTextcolor = (EditText) findViewById(R.id.edit_message_color);
            String message = editText.getText().toString();
            String messagecolor = editTextcolor.getText().toString();

            i.putExtra(EXTRA_MESSAGE_COLOR, messagecolor);
i.putExtra(EXTRA_MESSAGE, message);
            startActivity(i);
            // Do something in response to button

        } 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-15T13:10:36.657

只需将您的 sendMessage 方法编辑为

```
public void sendMessage (View view)   
{
    Intent i = new Intent(this, DisplayMessageActivity.class);
    EditText editText = (EditText) findViewById(R.id.edit_message);
    EditText editTextcolor = (EditText) findViewById(R.id.edit_message_color);
    String message = editText.getText().toString();
    String messagecolor = editTextcolor.getText().toString();
    i.putExtra(EXTRA_MESSAGE_COLOR, messagecolor);
    startActivity(i);
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-15T13:13:43.797

只需将该`extras`Bundle 放入 Intent extra 中，然后在下一个活动中，您将得到正确的响应

```
 Bundle extras = new Bundle();
    extras.putString(EXTRA_MESSAGE, message);
    extras.putString(EXTRA_MESSAGE_COLOR, messagecolor );
    i.putExtras(extras);
    startActivity(i); 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-02-15T14:13:00.097

使用 getIntent().getExtras().getStringArray("key") 获取数组。

# php - str_replac() 动态数据

> ID：14895364
> 
> 赞同：0
> 
> 时间：2013-02-15T13:03:39.710
> 
> 标签：php

所以，我正忙于一个小程序，我想替换一些数据。但数据是动态的。

我有字符串`Warm Bodies (2013)`，我想摆脱（2013）只能`Warm Bodies`是一切，并且`(2013)`可以是一切，例如 `Warm Bodies (1999)`或`a random string (2011)`所以我要删除的数据总是介于（）之间。

我以为我可以做到这一点，`str_replace("(%?%), "", "Warm Bodies (2013)");`但我找不到一个好的解决方案。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-15T13:05:23.713

使用`preg_replace`参考： http: [//php.net/manual/en/function.preg-replace.php](http://php.net/manual/en/function.preg-replace.php)。这将用新字符串替换模式

```
preg_replace("/\(\d+\)/","",$str); 
```

如果不是数字：

```
preg_replace("/\(.*\)/","",$str); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-15T13:06:37.243

```
$string = "Warm Bodies (2013)";
$result = preg_replace('/\([^\)]+\)/', '', $string); 
```

或者，还要删除括号周围的空格：

```
$string = "Warm Bodies (2013)";
$result = preg_replace('/\s*\([^\)]+\)\s*/', '', $string); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-15T13:17:37.403

这应该很好地做到这一点：

```
$strings = array(
    'Warm Bodies (2013)',
    'Warm Bodies (1999)',
    'a random string (2011)',
);

$pattern = '/\s*\(\d+\)/';
foreach ($strings as $string) {
    $output = preg_replace($pattern, '', $string);
    var_dump($output);
} 
```

生成的输出如下：

```
string(11) "Warm Bodies"
string(11) "Warm Bodies"
string(15) "a random string" 
```

如果您有一个包含要替换值的数组，您也可以使用以下代码而不是循环：

```
$output = preg_replace($pattern, '', $strings);
var_dump($output); 
```

这将生成以下数组：

```
array(3) {
  [0]=> string(11) "Warm Bodies"
  [1]=> string(11) "Warm Bodies"
  [2]=> string(15) "a random string"
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-15T13:11:07.223

我猜您只想替换标题中的最后一组括号，在这种情况下，您不需要使用正则表达式，只需在最后一个左括号之后剪切字符串即可。

```
$title = "Warm Bodies (2013)";
$newTitle = substr($title, 0, strrpos($title, "(") - 1); 
```

# ios - 在 ios iphone 应用程序中处理信用卡

> ID：14895366
> 
> 赞同：4
> 
> 时间：2013-02-15T13:03:45.790
> 
> 标签：ios, paypal, credit-card, card.io

我正在构建一个应用程序来注册人们参加活动并向他们收取注册费。我已经建造了大部分，但我在实际充电时遇到了麻烦。我已阅读指南，不想使用苹果的应用内购买方式，因为他们收取高额费用，而且购买的商品不是数字的或用于应用内使用。

我已经看过paypal，我认为这对我来说应该很好，我已经开始玩他们的sdk和沙箱了。但是，我也希望能够从信用卡中收取费用。我发现 card.io 看起来效果很好，但它只是让我得到卡信息，它并没有给我一种实际处理交易的方法。另外，我知道有像 Square 这样的读卡器，但我想在我的应用程序中做所有事情，而不需要用户切换到处理服务。关于如何完成这项工作的任何想法？谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T23:25:20.660

如果您使用[Balanced](https://www.balancedpayments.com)或[Stripe](https://stripe.com)之类的服务，您可以直接从手机标记您的卡信息，这样您就不必通过服务器处理它，从而降低 PCI 的麻烦。这些服务仅用于标记卡和收费卡，如果您正在寻找一种获取卡信息的方法，例如扫描或刷卡，那么像 card.io 或 Square 这样的服务就是您想要的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-29T22:44:45.613

您可能会查看新发布的[PayPal iOS SDK](https://github.com/paypal/PayPal-iOS-SDK/)。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-22T20:56:33.383

如果您不想获得 PCI-DSS 认证的麻烦，您可以将 Braintree 与 card.io 结合使用。Braintree 提供了一个 ios sdk，因此它甚至不会访问您的服务器。（请参阅[https://www.braintreepayments.com/mobile-payment-processing。](https://www.braintreepayments.com/mobile-payment-processing.)） Card.io 只是让您扫描卡，但是当您获取卡信息时，您可以将其推送到 Braintree api。由于您销售的是“服务”，因此您无需使用 Apple 应用内服务。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-05-31T16:35:51.517

看起来您正在寻找 Square 解决方案，但在您自己的应用程序中。您可能想查看 CardFlight ( [https://getcardflight.com](https://getcardflight.com) )，因为它们提供硬件和 SDK，以便您可以在自己的应用程序中处理付款。它们与您的处理器一起使用，因此您仍然可以使用 Braintree 来处理付款。

完全披露：我目前正在研究这个。我们意识到提供软件和硬件是一个巨大的机会，这样人们就可以在自己的应用程序中接受实体卡支付。

# ios - 如何在Objective-C中为NSString实现类似于sscanf的方法？

> ID：14895368
> 
> 赞同：1
> 
> 时间：2013-02-15T13:03:54.507
> 
> 标签：ios, objective-c, xcode

我有`NSString data =@"name@some1.some2.com:12345";`

我想做和 in 一样的`sscanf`动作`C`

```
char val1[512];
char val2[512];
char val3[512];

val1[0]=val2[0]=val3[0]='\0';

sscanf(data,"%[^@]@%[^:]:%511s",val1,val2,val3); 
```

我得到`val1=name`, `val2=some1.com`, `val3=`12345`

`sprintf(new_val, "%s:%s",val1,val2);`以及如何实施

就在Objective-C中。我知道 Obj-C 处理基本的 C 形式，但我很感兴趣主要`NSString`用于防止转换`char`为`NSString`.

所以应该是：

```
NSString val1=nil;
NSString val2=nil;
NSString val3=nil;
   .... 
```

谢谢你。

# c# - 为什么选择泛型函数成员而不是非泛型成员？

> ID：14895374
> 
> 赞同：9
> 
> 时间：2013-02-15T13:04:19.893
> 
> 标签：c#, .net

```
public enum EnumTest
{
    EnumEntry
}

public class TestClass
{
    public string FunctionMember(string s, EnumTest t = EnumTest.EnumEntry)
    {
        return "Normal";
    }

    public string FunctionMember<T>(T t)
    {
        return "Generic";
    }
}

class Program
{
    static void Main(string[] args)
    {
        TestClass t = new TestClass();

        Console.WriteLine(t.FunctionMember("a"));
    }
} 
```

这将打印“通用”。删除`, EnumTest t = EnumTest.EnumEntry`使其打印“正常”。

然而标准似乎很明确，从*14.4.2.2 Better function member*开始应用的第一个鉴别器是：

*   如果 MP 和 MQ 之一是非泛型，而另一个是泛型​​，则非泛型更好。

我错过了什么或编译器错误吗？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-15T13:08:34.493

你错过了一些东西。这就是以下内容：

您使用一个参数调用该方法。只有一种方法具有一个参数，即泛型方法。所以这就是被选中的那个。

只有当它没有找到匹配的方法时，它才会查看带有可选参数的其他方法。

**参考：**

1.  [C# 4.0 规范](http://download.microsoft.com/download/7/e/6/7e6a548c-9c20-4c80-b3b8-860faf20887a/csharp%204.0%20specification.doc)，21.4 中的最后一段：

    > 作为一个决胜局规则，一个函数成员，所有显式给出的参数都比一个提供默认值代替显式参数的函数成员要好。

2.  [MSDN](http://msdn.microsoft.com/en-us/library/dd264739.aspx)，标题“重载分辨率”，最后一个要点：

    > 如果两个候选者被判断为同样好，则优先考虑没有可选参数的候选者，在调用中省略了这些参数。这是对具有较少参数的候选者的重载解决方案的普遍偏好的结果。

3.  [C# 语言规范](http://go.microsoft.com/fwlink/?LinkId=199552)，章节“7.5.3.2 更好的函数成员”：

    > 每个候选函数成员的参数列表按以下方式构造：
    > 
    > *   如果函数成员仅适用于扩展形式，则使用扩展形式。
    > *   从参数列表中删除没有对应参数的可选参数

    它继续这样：

    > 给定一个带有一组参数表达式 { E [1] , E [2] , ..., E [N] } 的参数列表 A 和两个具有参数类型 { P [1] , P [2] , ..., P [N] }的适用函数成员 MP 和 MQ和 { Q [1] , Q [2] , ..., Q [N] } [...]

    此时带有可选参数的方法已经出局了。`N`是 1，但该方法有两个参数。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-15T13:13:00.983

[文档](http://msdn.microsoft.com/en-us/library/dd264739.aspx)说：

> 如果两个候选者被判断为同样好，则优先考虑没有可选参数的候选者，在调用中省略了这些参数。这是对具有较少参数的候选者的重载解决方案的普遍偏好的结果。

换句话说，没有任何可选参数的方法将是首选。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-15T13:15:39.833

使用方法参数的默认值，重载分辨率得到了扩展。

从概念上讲，将运行 v4 之前的方法重载解析。如果找到匹配项，则将使用该匹配项。（从概念上讲，因为这不是描述它是如何工作的，而是描述你如何思考它）

在您的情况下，它恰好找到一个匹配项是您的通用方法

如果没有找到匹配项，它将查找具有部分匹配项的方法，并且可以使用默认值完成匹配项。在您的情况下，将在此运行中找到您的非泛型方法，但是由于已经找到匹配项，因此解决方案永远不会走到这一步。

删除第二个参数时，您最终会遇到通用和非通用匹配的情况。并且您引用的规则开始选择非通用。

总而言之，一个好的经验法则是选择最具体的可用方法。

匹配的非泛型方法比泛型更具体，因为类型不能改变。如果有两种方法可用，但一种采用 IFoo 的参数，另一种采用 Foo（实现 IFoo），则具有默认参数的方法不如参数计数与参数计数匹配（数字完全匹配）的方法具体将 Foo 对象作为参数传递时将选择后者，因为它是完全匹配的即。更详细

# streaming - Flowplayer 菜单插件问题

> ID：14895378
> 
> 赞同：1
> 
> 时间：2013-02-15T13:04:37.740
> 
> 标签：streaming, flowplayer, live-streaming

我正在尝试像在 youtube 中一样在 flowplayer 中实现比特率选择。一个选项应该是“自动”，其他选项应该是手动。我正在使用 smil 文件来加载我的视频。Flowplayer 文档[http://flash.flowplayer.org/plugins/flash/menu.html](http://flash.flowplayer.org/plugins/flash/menu.html)显示使用菜单插件。我无法使用该方法执行此操作，因为 url 路径是在运行时生成的。所以我使用 smil 来创建菜单并且它可以工作。我只是提到了 smil 文件名，菜单插件无缝地从 smil 加载比特率。我不确定这是如何工作的。

这是代码

```
clip: {
    url:"<?php echo getxml(); ?>",
    autoPlay: true,
    provider: 'rtmp',
    scaling:"fit",
    urlResolvers: [ 'smil', 'bwcheck','brselect' ],

    onStart: function() {

     }
},

plugins: {

    smil: {
        url: "flowplayer.smil/flowplayer.smil-3.2.8.swf"
    },

    bwcheck: {

        url: "flowplayer.bwcheck/flowplayer.bwcheck-3.2.11.swf",
        serverType: 'wowza',
        dynamic: true,
        dynamicBuffer:true,
        netConnectionUrl: 'rtmp://itl.bc-s.cdn.bitgravity.com/cdn',
        checkOnStart: true,
        rememberBitrate: true,
        onStreamSwitchBegin: function(newItem, currentItem) {
               $f().getPlugin('content').setHtml("Will switch to: " + newItem.streamName +" from " + currentItem.streamName);
        },
        onStreamSwitch: function(newItem) {
               $f().getPlugin('content').setHtml("Switched to: " + newItem.streamName);
        }
    },

    menu: {
        url: "http://releases.flowplayer.org/swf/flowplayer.menu-3.2.12.swf",
        items: [
           { label: " Auto",   enabled: true, index: 0,toggle:true , selected:true},

        ],
        onSelect: function(item) {

            if(item.index == 0){

                $f().getPlugin('bwcheck').enableDynamic(true);
                $f().getPlugin('content').setHtml("Auto Mode Slected : Best bit rate will be selected according to your bandwidth");
            }
            else{

                $f().getPlugin('bwcheck').enableDynamic(false);
                $f().getPlugin('content').setHtml("Manual bit rate selection activated");
            }
         }
    },

    brselect: {
        url: "http://releases.flowplayer.org/swf/flowplayer.bitrateselect-3.2.13.swf",
        menu: true,
    }, 
```

正如您从代码中看到的那样，我放置了一个这样的项目

```
{ label: " Auto",   enabled: true, index: 0,toggle:true , selected:true}, 
```

默认情况下选择自动模式，我必须给菜单项“自动”打勾。这也是使用参数“selected”实现的。但问题是文件开始以自动模式播放时播放的比特率也被选中，并且也得到了这样的刻度线。

[http://tinypic.com/r/2nkt9fl/6](http://tinypic.com/r/2nkt9fl/6)

我需要禁用它。正在发生切换并实现了功能，但用户得到了错误的想法。有一个名为“组”的属性，我想我必须将所有项目作为组的一部分。'group' 、 'selected' 和 'toggle' 属性的组合应该能够做到这一点，但我无法实现它。

# jsf - java.lang.IllegalStateException：找不到工厂：javax.faces.application.ApplicationFactory

> ID：14895389
> 
> 赞同：1
> 
> 时间：2013-02-15T13:05:06.143
> 
> 标签：jsf

我正在尝试创建一个基本的 JSF 2.0 + Facelet 应用程序，但收到此错误：

```
 java.lang.IllegalStateException: Application was not properly initialized at startup, could not find Factory: javax.faces.application.ApplicationFactory 
```

我正在使用以下 JAR：

*   jsf-impl-2.1.0
*   jsf-api-2.1.0
*   jstl-1.2
*   el-ri-1.2
*   Apache MyFaces 2.1.5

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-15T13:38:58.307

> *我正在使用以下 JAR*
> 
> *   jsf-impl-2.1.0
> *   jsf-api-2.1.0
> *   Apache MyFaces 2.1.5

您似乎在混合 Mojarra 和 MyFaces 实现。这个不对。使用其中之一，而不是两者。和JAR 来自 Mojarra `jsf-impl`。`jsf-api`删除它们，或 MyFaces 之一。混合它们会导致在寻找正确的实现工厂时发生冲突，正如异常消息试图告诉你的那样。

更远，

> *   el-ri-1.2

这应该是 Tomcat 已经提供的。你不应该提供你自己的。完全删除它。

总而言之，鉴于这个相当大的错误，我的印象是您在学习 JSF 时没有阅读正确的教程/资源。我建议验证这是否只是您自己的“愚蠢错误”，或者资源是否真的错误地这么说。在后一种情况下，考虑寻找另一个。

### 也可以看看：

*   [我们的 JSF wiki 页面](https://stackoverflow.com/tags/jsf/info)- 包含一个 Hello World 和指向理智教程的链接

# java - 是否有一个打开的对话框来选择 Jar 中的文件？

> ID：14895391
> 
> 赞同：0
> 
> 时间：2013-02-15T13:05:12.697
> 
> 标签：java, jar

我正在寻找一个能够浏览到 jar 文件内容的对话框（或者更好地允许我浏览文件系统然后进入 jar 文件）。

理想情况下，对话框应返回 jar 的类加载器和所选资源的 url。

任何人都可以指出一些示例代码来做到这一点吗？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-15T14:12:36.103

您需要实现您拥有的`FileSystemView`能够进入 ZIP/JAR 文件的实现，然后将此实现传递给`JFileChooser`构造函数。如果您需要更多详细信息，请随时提出更多问题。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-02-15T13:11:41.457

JAR 基本上是一个 zip 文件。您可以使用 Java 的标准 ZIP 库打开它。

```
import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.io.IOException;

import java.util.zip.ZipEntry;
import java.util.zip.ZipInputStream;

public class JarAccess
{
   public static void main(String[] args) throws IOException
   {
      if (args.length != 1)
      {
         System.err.println("usage: java JarAccess name_or_your_jar.jar");
         return;
      }
      try (ZipInputStream zis =
              new ZipInputStream(new FileInputStream(args[0])))
      {
         byte[] buffer = new byte[4096];
         ZipEntry ze;
         while ((ze = zis.getNextEntry()) != null)
         {
            System.out.println("Extracting: "+ze);
            try (FileOutputStream fos = new FileOutputStream(ze.getName()))
            {
               int numBytes;
               while ((numBytes = zis.read(buffer, 0, buffer.length)) != -1)
                  fos.write(buffer, 0, numBytes);
            }
            zis.closeEntry();
         }
      }
   }
} 
```

[来源](http://www.javaworld.com/community/node/8362)

（代码未经测试，但从逻辑上讲它应该可以工作）

# ios - NSNotificationCenter 不起作用

> ID：14895392
> 
> 赞同：0
> 
> 时间：2013-02-15T13:05:13.127
> 
> 标签：ios, objective-c, notifications

我做这样的通知：我在 mainView 中有代码：

```
- (void)viewDidLoad
{

CGRect view1Hrame;
view1Hrame.origin.x = 160;
view1Hrame.origin.y = 215;
view1Hrame.size = self.currenWeatherView.frame.size;

weatherViewController *view1 = [[weatherViewController alloc] initWithForecast:[[Forecast alloc] initWithForecastInCurrentLocation]];    

[[NSNotificationCenter defaultCenter] addObserver:view1 selector:@selector(forecastChanged) name:@"forecastChanged" object:nil];

view1.view.backgroundColor = [UIColor colorWithRed:0 green:255 blue:0 alpha:0.06];

[currenWeatherView addSubview: view1.view];
} 
```

在预测类中：

```
 [[NSNotificationCenter defaultCenter] postNotificationName:@"forecastChanged" object:nil]; 
```

在天气视图控制器中

```
 - (void)viewDidLoad
  {
   [super viewDidLoad];

   [[NSNotificationCenter defaultCenter] addObserver:self       selector:@selector(forecastChanged) name:@"forecastChanged" object:nil];

    // Do any additional setup after loading the view from its nib.
   } 
```

这没用。我做错了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-15T13:48:58.110

如果要调用通知，`weatherViewController`则需要定义此类的 viewDidLoad 方法。

确保您正在调用此 viewController 的 viewDidLoad。

# c# - 当鼠标悬停在图像上时显示带有链接按钮的 div

> ID：14895396
> 
> 赞同：0
> 
> 时间：2013-02-15T13:05:20.550
> 
> 标签：c#, javascript, jquery, html, css

我正在使用下面的代码在 div 中显示链接按钮，当它单击时应该转到该链接。这对我不起作用。我尝试了下面的代码。只需检查并告诉我哪里错了。当用户回答任何问题并且我们将鼠标悬停在我们获得他/她的个人资料的那个用户图像上并且还有一个链接可以查看他们的个人资料时，它在这个网站上运行良好。正是这个概念与我正在搜索的概念相同，所以请帮忙。

```
 <!DOCTYPE html>
          <html>
          <head>

              <title></title>
                  <style>
                    div.out { width:40%; height:120px; margin:0 15px;
                     background-color:#D6EDFC; float:left; }
                      div.in { width:60%; height:60%;
                 background-color:#FFCC00; margin:10px auto; }
                 p { line-height:1em; margin:0; padding:0; }

                    </style>
                             <script src="http://code.jquery.com/jquery-latest.js"></script>
                      </head>
               <body>
                 <form id="form1" runat="server">

                 <img src="Images/orderedList2.png" id="actionImage" />
                  <div class="out overout">
                  <span>move your mouse</span>
                  <div class="in">
               <p>The function bigImg() is triggered when the user moves the mouse pointer over the image.</p>
          <a href="www.google.com" id="A1" class="target">www.google.com</a>
                     </div>
                    </div>
               <div class="out enterleave">
                  <span>move your mouse</span>
                      <div class="in" >
                               <p>The function bigImg() is triggered when the user moves the                                                      mouse pointer over the image.</p>
                     <a href="www.google.com" id="url" class="target">www.google.com</a>
                    </div>
                    </div>
           <script type="text/javascript">

              $('#actionImage').mouseover(function (e) {
              $("div.enterleave").show();
              $('#actionImage').mouseout(function () {
              $("div.enterleave").hide();

            });
           });

          $("div.enterleave").mouseenter(function () {
          $(this).show();
          }).mouseleave(function () {
             $(this).hide();
             });

           </script>

                </form>
                </body>
                   </html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-15T13:12:31.933

我不确定您要使用的 JS，但您的代码中的一个基本错误是您的链接需要具有“http://”

```
<a href="http://www.google.com">Google</a> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-15T13:15:07.307

```
<a href="www.google.com" id="url" class="target">www.google.com</a> 
```

用。。。来代替

```
<a href="http://www.google.com" id="url" class="target">www.google.com</a> 
```

因为外部链接应该以 http 或 Https 开头

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-15T13:17:02.993

地址是错误的，你应该把请求的协议放到地址而不是简单的地址。因此，您需要更改标签中的 href 参数，如下所示：

```
<a href="http://www.google.com" id="A1" class="target">www.google.com</a>
<a href="http://www.google.com" id="url" class="target">www.google.com</a> 
```

要了解有关协议的更多信息，我建议以下

[http://computernetworkingnotes.com/network-technologies/protocol-tcp-ip-udp-ftp-tftp-smtp.html](http://computernetworkingnotes.com/network-technologies/protocol-tcp-ip-udp-ftp-tftp-smtp.html)

公共协议

端口号 - 服务
80 - HTTP
21 - FTP 110 - POP3
25 - SMTP
23 - Telnet

# ios - 如何从 iOS 中的另一个类访问标签上的按钮？

> ID：14895397
> 
> 赞同：2
> 
> 时间：2013-02-15T13:05:21.130
> 
> 标签：ios, class, button

我有一个按钮：

```
- (UIButton *)subwayABBtn
{
    if (!_subwayABBtn)
    {
        _subwayABBtn = [UIButton buttonWithType:UIButtonTypeCustom];

        _subwayABBtn.tag = ADRESS_SUBWAY_BTN_TAG;

        [_subwayABBtn setTitle:@"Метро" forState:UIControlStateNormal];
        [_subwayABBtn setTitleColor:[UIColor blackColor] forState:UIControlStateNormal];

        [self.contentView addSubview:_subwayABBtn];
    }

    return _subwayABBtn;
} 
```

如何使用另一个类的标签更改按钮的标题？我需要更改按钮的标题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-15T13:17:49.510

我没明白你说的另一个类的意思。如果它从您的视图中添加按钮，那么您可以使用下面的代码来获取 UIButton

```
UIButton *btn = (UIButton *)[self.contentView viewWithTag:ADRESS_SUBWAY_BTN_TAG];
[btn setTitle:@"New title" forState:UIControlStateNormal]; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-15T13:18:09.620

在 ios 中使用`delegates`和`@protocol`访问父视图控制器 [参考这个简单的例子](https://stackoverflow.com/questions/6168919/how-do-i-set-up-a-simple-delegate-to-communicate-between-two-view-controllers)

[链接1](http://iosdevelopertips.com/objective-c/the-basics-of-protocols-and-delegates.html)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-15T13:28:38.580

您需要在视图控制器中引用其他类，在其头文件中声明按钮并使用该方法`-viewWithTage:`

例子：

```
OtherClass *otherClass; // This should be set from previous class and a property in your current class 
UIButton *buttonFromOtherClass = [otherClass viewWithTag:BUTTON_TAG]; 
[buttonFromOtherClass setTitle:@"Метро" forState:UIControlStateNormal]; 
```

# oracle - 如何达到oracle对象属性？

> ID：14895402
> 
> 赞同：0
> 
> 时间：2013-02-15T13:05:29.267
> 
> 标签：oracle, object, plsql, attributes, user-defined-types

我有一个包含 oracle`COLOR_HISTOGRAM`列的表，它包含值。它是一个带有颜色列表和颜色频率列表的对象类型。如果我想将 SI_COLORS 插入到表中，如何获得这些属性？

我声明了两种可以包含这些值的类型

```
--CREATE OR REPLACE TYPE colorsList AS VARRAY(100) OF SI_Color;
--CREATE OR REPLACE TYPE colorFrequenciesList AS VARRAY(100) OF DOUBLE PRECISION;

ORDSYS.SI_COLORHISTOGRAM(
ORDSYS.COLORSLIST(
ORDSYS.SI_COLOR(195,157,133),
ORDSYS.SI_COLOR(226,223,215),
ORDSYS.SI_COLOR(191,154,131),
ORDSYS.SI_COLOR(139,94,61),
ORDSYS.SI_COLOR(221,40,43),
ORDSYS.SI_COLOR(85,47,30),
ORDSYS.SI_COLOR(237,45,51),
ORDSYS.SI_COLOR(190,60,47),
ORDSYS.SI_COLOR(66,53,49),
ORDSYS.SI_COLOR(145,66,63),
ORDSYS.SI_COLOR(192,115,111),
ORDSYS.SI_COLOR(64,50,46),
ORDSYS.SI_COLOR(178,151,123),
ORDSYS.SI_COLOR(178,153,129),
ORDSYS.SI_COLOR(170,140,114),
ORDSYS.SI_COLOR(174,150,124),
ORDSYS.SI_COLOR(146,118,106),
ORDSYS.SI_COLOR(189,168,145),
ORDSYS.SI_COLOR(190,171,148),
ORDSYS.SI_COLOR(144,71,57),
ORDSYS.SI_COLOR(86,45,26),
ORDSYS.SI_COLOR(193,109,80),
ORDSYS.SI_COLOR(145,138,136),
ORDSYS.SI_COLOR(130,121,120),
ORDSYS.SI_COLOR(115,80,72),
ORDSYS.SI_COLOR(186,50,37),
ORDSYS.SI_COLOR(193,171,149),
ORDSYS.SI_COLOR(0,0,0)),
ORDSYS.COLORFREQUENCIESLIST(99014.1,67706.4,38034.6,28478.2,5075.64,3302.56,2429.49,856.41,638.462,560.256,520.513,476.923,439.744,296.154,247.436,232.051,194.872,138.462,123.077,110.256,82.0513,75.641,62.8205,51.2821,46.1538,43.5897,32.0513,0)) 
```

任何想法都受到高度赞赏。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-15T13:43:10.110

您可以像这样引用 SI_COLOR 值：

```
SQL> create table foo(r integer, b integer, g integer);

Table created.

SQL> insert into foo
  2  select cl.redvalue, cl.bluevalue, cl.greenvalue
  3  from tbl t, table(t.color_histogram.SI_COLORSLIST) cl;

28 rows created.

SQL> select * from foo;

         R          B          G
---------- ---------- ----------
       195        133        157
       226        215        223
       191        131        154
       139         61         94
       221         43         40
...etc.. 
```

对于两个数组：

```
SQL> create table foo(r integer, b integer, g integer, freq number);

Table created.

SQL> insert into foo
  2  select cl.redvalue, cl.bluevalue, cl.greenvalue, fl.freq
  3    from (select t.rowid rid, cl.redvalue, cl.bluevalue, cl.greenvalue, rownum r
  4            from tbl t, table(t.color_histogram.SI_COLORSLIST) cl) cl
  5         inner join (select t.rowid rid, rownum r, fl.column_value freq
  6                       from tbl t, table(t.color_histogram.si_frequencieslist) fl) fl
  7                 on fl.rid = cl.rid
  8                and fl.r = cl.r;

28 rows created.

SQL> select * from foo;

         R          B          G       FREQ
---------- ---------- ---------- ----------
       195        133        157          1
       226        215        223          2
       191        131        154          3
       139         61         94          4
 ..etc.. 
```

（因为它们是可变数组，我们可以依赖排序，所以 rownum 是可以的）。

或 pl/sql：

```
SQL> begin
  2    for r_row in (select t.color_histogram
  3                    from tbl t)
  4    loop
  5      for idx in 1..r_row.color_histogram.si_colorslist.count
  6      loop
  7        insert into foo
  8                    (r, g, b, freq)
  9        values (r_row.color_histogram.si_colorslist(idx).redvalue,
 10                r_row.color_histogram.si_colorslist(idx).greenvalue,
 11                r_row.color_histogram.si_colorslist(idx).bluevalue,
 12                r_row.color_histogram.si_frequencieslist(idx));
 13      end loop;
 14    end loop;
 15  end;
 16  /

PL/SQL procedure successfully completed.

SQL> select * from foo;

         R          B          G       FREQ
---------- ---------- ---------- ----------
       195        133        157          1
       226        215        223          2
       191        131        154          3
       139         61         94          4
       221         43         40          5
        85         30         47          6
 etc.. 
```

# jquery - 在一个正则表达式中删除 2 个（多个）匹配类

> ID：14895409
> 
> 赞同：2
> 
> 时间：2013-02-15T13:05:39.873
> 
> 标签：jquery, regex, matching

我现在完成了，但我必须调用 2 次`.removeClass()`函数

如何合并它以在一个正则表达式调用中找到结果？

**HTML：**

```
<div class="one-abc two-cba three-bac"></div> 
```

**jQuery :**

```
$('div')
  .removeClass(function(i,c){var m=c.match(/one-[a-z]{0,5}/);return m?m[0]:m;})
  .removeClass(function(i,c){var m=c.match(/two-[a-z]{0,5}/);return m?m[0]:m;}); 
```

**演示：http:** [//jsbin.com/umoded/1/edit](http://jsbin.com/umoded/1/edit)

* * *

[查找包含多个类中的类名](https://stackoverflow.com/questions/13877393/find-contains-class-name-in-multiple-classes)

[使用正则表达式删除匹配的类](https://stackoverflow.com/questions/14580143/remove-matching-class-with-regex)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-15T13:11:05.253

将两个表达式合二为一，使用`g`并加入匹配项：

```
 var m = c.match(/(one-[a-z]{0,5}|two-[a-z]{0,5})/g);
  return m ? m.join(' ') : m; 
```

[http://jsfiddle.net/ExplosionPIlls/mnYpB/](http://jsfiddle.net/ExplosionPIlls/mnYpB/)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-15T13:13:05.990

来自 api.jquery.com：

> 一次可以从一组匹配的元素中删除多个类，用空格分隔，如下所示：
> $('p').removeClass('myClass yourClass')

-->

```
.removeClass(function(i,c){
    var m=c.match(/one-[a-z]{0,5}/);
    var n=c.match(/two-[a-z]{0,5}/);
    return m+" "+n;}); 
```

# regex - vbscript：用超链接替换活动文档中的文本

> ID：14895411
> 
> 赞同：0
> 
> 时间：2013-02-15T13:05:46.087
> 
> 标签：regex, vbscript, hyperlink

从一份新工作开始，我必须阅读我的前任留下的大量文件。它们是包含数百项专利信息的 MS Word 文件。我不想在在线表格中复制/粘贴每个专利号，而是想用可点击的超链接替换所有专利号。我想这应该用 vbscript 来完成（我不习惯使用 MS Office）。

我到目前为止：

```
<obsolete> 
```

这对我不起作用： 1\. 我（可能）需要添加一些东西来循环 ActiveDocument 2\. 替换函数可能需要一个字符串而不是参数的对象 - vbscript 中是否有 __toString() ？

谢谢！

更新：我有这个部分工作（正则表达式和查找匹配项） - 现在只要我能正确获得 hyperlink.add-method 的锚点......

```
Sub HyperlinkPatentNumbers()
'
' HyperlinkPatentNumbers Macro
'

Dim objRegExp, Matches, match, myRange

Set myRange = ActiveDocument.Content

Set objRegExp = CreateObject("VBScript.RegExp")
With objRegExp
    .Global = True
    .IgnoreCase = False
    .Pattern = "(WO|EP|US)([0-9]*)(A1|A2|B1|B2)"
End With

Set Matches = objRegExp.Execute(myRange)

If Matches.Count >= 1 Then
    For Each match In Matches
        ActiveDocument.Hyperlinks.Add Anchor:=objRegExp.match, Address:="http://worldwide.espacenet.com/publicationDetails/biblio?DB=EPODOC&adjacent=true&locale=en_EP&CC=$1&NR=$2&KC=$3"
    Next
End If

Set Matches = Nothing
Set objRegExp = Nothing

End Sub 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-15T14:47:33.437

这是 VBA 还是 VBScript？在 VBScript 中，您不能声明类似 的类型`Dim newText As hyperLink`，但每个变量都是一个变体，所以：仅此`Dim newText`而已。

`objRegEx.Replace`返回带有替换的字符串，并且需要传递两个参数：原始字符串和要替换模式的文本：

```
Set objRegEx = CreateObject("VBScript.RegExp")
objRegEx.Global = True
objRegEx.IgnoreCase = False
objRegEx.Pattern = "^(WO|EP|US)([0-9]*)(A1|A2|B1|B2)$"

' assuming plainText contains the text you want to create the hyperlink for
strName = objRegEx.Replace(plainText, "$1$2$3")
strAddress = objRegex.Replace(plainText, "http://worldwide.espacenet.com/publicationDetails/biblio?DB=EPODOC&adjacent=true&locale=en_EP&CC=$1&NR=$2&KC=$3" 
```

现在您可以使用`strName`和`strAddress`创建超链接。
专业提示：您可以使用`objRegEx.Test(plainText)`来查看正则表达式是否匹配任何内容，以便及早处理错误。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T12:38:59.307

问题解决了：

```
Sub addHyperlinkToNumbers()

Dim objRegExp As Object
Dim matchRange As Range
Dim Matches
Dim match

Set objRegExp = CreateObject("VBScript.RegExp")

With objRegExp
    .Global = True
    .IgnoreCase = False
    .Pattern = "(WO|EP|US|FR|DE|GB|NL)([0-9]+)(A1|A2|A3|A4|B1|B2|B3|B4)"
End With

Set Matches = objRegExp.Execute(ActiveDocument.Content)

For Each match In Matches
    'This doesn't work, because of the WYSIWYG-model of MS Word:
    'Set matchRange = ActiveDocument.Range(match.FirstIndex, match.FirstIndex + Len(match.Value))

    Set matchRange = ActiveDocument.Content
    With matchRange.Find
        .Text = match.Value
        .MatchWholeWord = True
        .MatchCase = True
        .Wrap = wdFindStop
        .Execute
    End With

    ActiveDocument.Hyperlinks.Add Anchor:=matchRange, _
        Address:="http://worldwide.espacenet.com/publicationDetails/biblio?DB=EPODOC&adjacent=true&locale=en_EP&CC=" _
        & match.Submatches(0) & "&NR=" & match.Submatches(1) & "&KC=" & match.Submatches(2)

Next

MsgBox "Hyperlink added to " & Matches.Count & " patent numbers"

Set objRegExp = Nothing
Set matchRange = Nothing
Set Matches = Nothing
Set match = Nothing

End Sub 
```

# haskell - 在无限序列生成期间删除元素

> ID：14895412
> 
> 赞同：4
> 
> 时间：2013-02-15T13:05:48.027
> 
> 标签：haskell, data-structures, f#

我找到了一个很棒的 haskell 解决方案（[源代码](http://bonsaicode.wordpress.com/2013/02/01/programming-praxis-hofstadters-sequence/)）来生成[Hofstadter 序列](http://en.wikipedia.org/wiki/Hofstadter_sequence)：

```
hofstadter = unfoldr (\(r:s:ss) -> Just (r, r+s:delete (r+s) ss)) [1..] 
```

现在，我也在尝试用 F# 编写这样的解决方案。不幸的是（我对 F# 不是很熟悉）到目前为止我还没有成功。

我的问题是，当我`sequence`在 F# 中使用 a 时，似乎无法删除元素（就像在 haskell 解决方案中所做的那样）。
其他数据结构，如`arrays`, `list`or`set`允许删除元素不会生成无限序列，而是仅对某些元素进行操作。

**所以我的问题是：**在 F# 中是否有可能生成一个无限序列，其中元素被删除？

到目前为止我尝试过的一些东西：

无限的数字序列：

```
let infinite =
    Seq.unfold( fun state -> Some( state, state + 1) ) 1 
```

Hofstadter 序列 - 不工作，因为没有`del`关键字并且有更多语法错误

```
let hofstadter =
    Seq.unfold( fun (r :: s :: ss) -> Some( r, r+s, del (r+s) ss)) infinite 
```

我考虑过使用`Seq.filter`，但也没有找到解决方案。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-15T14:29:40.173

我认为您需要的不仅仅是`delete`序列上的功能。您的示例需要对无限集合进行模式匹配，该序列不支持。

Haskell 列表的 F# 对应物是F# PowerPack 中的[LazyList](https://github.com/fsharp/powerpack/blob/master/src/FSharp.PowerPack/LazyList.fsi)。LazyList 也可能是无限的，它支持模式匹配，这有助于您`delete`轻松实现。

这是忠实的翻译：

```
open Microsoft.FSharp.Collections.LazyList

let delete x xs =  
    let rec loop x xs = seq {        
        match xs with
        | Nil -> yield! xs
        | Cons(x', xs') when x = x' -> yield! xs'
        | Cons(x', xs') ->
            yield x' 
            yield! loop x xs'
        }
    ofSeq (loop x xs)

let hofstadter =
    1I |> unfold (fun state -> Some(state, state + 1I))
       |> unfold (function | (Cons(r, Cons(s, ss))) -> 
                                 Some(r, cons (r+s) (delete (r+s) ss)) 
                           | _ -> None)
       |> toSeq 
```

这里有一些有趣的事情：

*   使用[序列表达式](http://msdn.microsoft.com/en-us/library/dd233209.aspx)来实现`delete`，保证函数是尾递归的。非尾递归版本应该很容易。
*   使用`BigInteger`；如果你不需要太多元素，使用`int`and[`Seq.initInfinite`](http://msdn.microsoft.com/en-us/library/ee370429.aspx)效率更高。
*   添加 case 返回`None`以确保详尽的模式匹配。
*   最后我转换`LazyList`为序列。它提供了与 .NET 集合更好的互操作性。

`delete`在序列上实现更丑陋。如果您好奇，请查看[Remove a single non-unique value from a sequence in F#](https://stackoverflow.com/questions/2705972/remove-a-single-non-unique-value-from-a-sequence-in-f)以供参考。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-15T16:10:23.070

pad 的解决方案很好，但可能由于实现的方式`LazyList`，堆栈在 3-4K 数字之间的某个地方溢出。出于好奇，我编写了一个围绕生成器函数 ( `unit -> 'a`) 构建的版本，它被反复调用以获取下一个元素（以解决 的笨拙问题`IEnumerable`）。我能够获得前 10K 个数字（除此之外还没有尝试过）。

```
let hofstadter() =

  let delete x f =
    let found = ref false
    let rec loop() =
      let y = f()
      if not !found && x = y
      then found := true; loop()
      else y
    loop

  let cons x f =
    let first = ref true
    fun () -> 
      if !first
      then first := false; x
      else f()

  let next =
    let i = ref 0
    fun () -> incr i; !i

  Seq.unfold (fun next -> 
    let r = next()
    let s = next()
    Some(r, (cons (r+s) (delete (r+s) next)))) next 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-02-15T15:28:36.133

实际上，您可以使用过滤器和遵循 haskell 解决方案的设计（但是，正如@pad 所说，您没有序列上的模式匹配；所以我使用了 lisp 样式的破坏）：

```
let infinite = Seq.initInfinite (fun i -> i+1)

let generator = fun ss -> let (r, st)  = (Seq.head ss, Seq.skip 1 ss)                               
                          let (s, stt) = (Seq.head st, Seq.skip 1 st)
                          let srps     = seq [ r + s ]
                          let filtered = Seq.filter (fun t -> (r + s) <> t) stt
                          Some (r, Seq.append srps filtered)

let hofstadter = Seq.unfold generator infinite                               

let t10 = Seq.take 10 hofstadter |> Seq.toList
// val t10 : int list = [1; 3; 7; 12; 18; 26; 35; 45; 56; 69] 
```

不过，我对效率没有任何要求！

# android - 使用 DialogPreference 单击确定按钮时重定向到网页

> ID：14895414
> 
> 赞同：1
> 
> 时间：2013-02-15T13:06:00.957
> 
> 标签：android

我在我的程序中使用 DialogPreference，现在我想在使用 DialogPreference**单击确定按钮时重定向到网页**。

*Preferences.xml:-*

```
 <com.chr.tatu.sample.friendslist.contacts.TimePickerPreferences
    android:defaultValue=""
    android:key="about"
    android:summary="Summary"
    android:title="Title"
    android:negativeButtonText="@null" /> 
```

*TimePickerPreferences.java:-*

```
 public class TimePickerPreferences extends DialogPreference
  {
public TimePickerPreferences(Context context, AttributeSet attrs) {
    super(context, attrs);

}

public TimePickerPreferences(Context context, AttributeSet attrs, int defStyle) {
    super(context, attrs, defStyle);

}
 } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-15T13:22:01.070

试试这个代码：

```
 @Override
  public void onClick(DialogInterface dialog,
                      int button) {
    if (button == Dialog.BUTTON_POSITIVE) 
    {Intent myWebLink = new Intent(android.content.Intent.ACTION_VIEW);
    myWebLink.setData(Uri.parse("http://www.google.com"));
    startActivity(myWebLink);
    }
} 
```

# c# - 从 MembershipProvider 获取未加密的密码

> ID：14895415
> 
> 赞同：-2
> 
> 时间：2013-02-15T13:06:02.997
> 
> 标签：c#, asp.net, telerik

我想获得未加密的用户密码。如何得到这个？

```
 public static string GetCurrentUserPassword(string userName)
 {
     MembershipProvider p = (MembershipProvider)Membership.Providers["Default"];
     MembershipUser obj = Membership.GetUser(userName);
    return obj.GetPassword();             
 }  

obj type : [Telerik.Sitefinity.Security.Model.User] = User "user1", Id={59d9813c-f88e-4790-9f19-3145ba8347d1}, Provider="Default"

password : "+HmReh/mzvIIuvYsM7+XdEoeQhI=" 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-15T13:13:28.090

为什么您*希望*能够获得未加密的密码？

您应该能够使用存储的密码的唯一想法是使用它来检查用户输入的密码的有效性。对于单向散列（和类似技术），涉及对刚刚输入的密码应用相同的转换（在适当的情况下使用相同的盐），并查看您是否最终得到相同的散列。

您*不*应该存储任何可逆的密码表示。这意味着如果攻击者获得了对您的数据库（和任何私钥）的访问权限，他们将可以直接访问您的用户密码——这基本上是不可接受的。（如果每个人为他们保护的每个资源都使用不同的密码，那还不错，但很多人不这样做。）

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-15T13:14:59.163

如果密码配置为散列且未加密，则无法执行此操作。如果您将成员资格提供程序配置为使用加密密码，那么[GetPassword](http://msdn.microsoft.com/en-us/library/system.web.security.membershipprovider.getpassword.aspx)应该可以解决问题。请参阅[密码格式](http://msdn.microsoft.com/en-us/library/system.web.security.membershipprovider.passwordformat.aspx)

话虽如此，我当然不能不同意斯基特先生的回答。如果可能的话，你真的应该使用单向散列密码。

要处理忘记密码的情况，请查看[ResetPassword](http://msdn.microsoft.com/en-us/library/system.web.security.membershipprovider.resetpassword.aspx)。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-02-15T13:21:02.100

的[文档`MembershipUser.GetPassword ()`](http://msdn.microsoft.com/en-us/library/kx96zecz.aspx)说明了一切：

> 如果 EnablePasswordRetrieval 为 false，则成员资格提供程序将返回异常。如果提供商支持 PasswordFormat 为 Hashed 的密码，**您将无法检索会员用户的密码，并且在用户忘记密码时应考虑使用 ResetPassword 方法。**

我想不出您想*读取*密码的任何其他方式。

# logback - Logback DBAppender，以编程方式配置抛出异常

> ID：14895426
> 
> 赞同：0
> 
> 时间：2013-02-15T13:06:19.333
> 
> 标签：logback

我正在尝试以编程方式配置 Logback 的 DBAppender，但不知道出了什么问题。它适用于下面给出的 logback.xml 配置

```
<appender name="DB" class="ch.qos.logback.classic.db.DBAppender">
    <connectionSource class="ch.qos.logback.core.db.DriverManagerConnectionSource">
        <driverClass>com.mysql.jdbc.Driver</driverClass>
        <jdbcUrl>jdbc:mysql://localhost:3306/mydatabase</jdbcUrl>
        <user>myuser</user>
        <password>mypwd</password>
    </connectionSource>
  </appender> 
```

现在，当我尝试在这样的代码中获取和配置 Logger 时

```
Logger logger = (Logger) LoggerFactory.getLogger("dbAppender");

        LoggerContext lc = (LoggerContext) LoggerFactory.getILoggerFactory();

        DriverManagerConnectionSource dmcs = new DriverManagerConnectionSource();
        dmcs.setDriverClass("com.mysql.jdbc.Driver");
        dmcs.setUrl("jdbc:mysql://localhost:3306/mydatabase");
        dmcs.setUser("myuser");
        dmcs.setPassword(mypwd);
        dmcs.setContext(lc);

        DBAppender dbapp =  (DBAppender) logger.getAppender("DB");
//it returns an appender with properties in logback.xml file
         if(dbapp != null) {
            dbapp.stop();
            dbapp.setConnectionSource(dmcs);
            dbapp.start();
         } 
```

它抛出异常

```
java.lang.IllegalStateException: DBAppender cannot function if the JDBC driver does not support getGeneratedKeys method *and* without a specific SQL dialect
    at ch.qos.logback.core.db.DBAppenderBase.start(DBAppenderBase.java:62)
    at ch.qos.logback.classic.db.DBAppender.start(DBAppender.java:96) 
```

没有办法设置方言或 setGeneratedKey，我需要什么才能使其工作。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-09-11T19:27:35.587

您还需要启动 DriverManagerConnectionSource。

添加行...

```
dmcs.start(); 
```

在启动 Appender 之前应该做的伎俩。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-05-13T10:19:46.947

*我收到此错误（如果 JDBC 驱动程序不支持 getGeneratedKeys 方法且*没有特定的 SQL 方言，则 DBAppender 无法运行）

原因是，我为 DriverManagerConnectionSource 设置了错误的连接 URL。不幸的是，logback 用错误的错误消息让我们感到困惑

# awk - grep 或 awk 将一行和以下内容与特定模式匹配

> ID：14895427
> 
> 赞同：0
> 
> 时间：2013-02-15T13:06:21.123
> 
> 标签：awk, grep

我已经开始使用 linux 机器，我正在尝试做一些简单的事情……但对我来说很难。我需要选择一些与第二个文件中报告的行相匹配的特定行。实际上，我有一个像这样制作的第一个文件：

```
>aba19  EN1 enl.or11    http://mar2043  annotation not avaliable
MASESEMGVVASJDHAGISFGVDDASDASDAFGDFGHWFACFQLIGIFLAYCLSRAITNN
QSDHKAJSDHKASJHKJAHKHKJSDGHYEIV
>clat38 EN2 enl.o   http://mar20s/Gene/Summary?5    annotation not avaliable
MNCEDCHILNAEAFKSKKDASDADICKSLKICGLVFGILALTLIVLFWGSKHFWPEVPKK
AYDMEHTFYSNGERGYCCASDSDDIYCSDRRGNRYCRRVCEPLLGYYPYPYCYQGGRVIC
RVIMPCDASDASDAOPWEIPQWFHNDJBVHAOISDOUIAODGNWWVARMLGRV
>coll9  EN4 ens4    http://mar2010.arch/Genary?g=E9 annotation not avaliable
MASKALDHLFKLJLÒFJASDJKLASDLAFJLFJFJLFJLAJFLKJFLAKFJFJLAFJLAL
ASDLASKDJASLKDJASLKJFALSKDJALKDJSKLDJLSDKJASLDKJSLDKSDLAKJKS
SILDUAISDALSDJALKDJASDLFATT 
>hihi9  EN9 ens44   http://mar2010.ariens/Geary?g=EN7   annotation not    avaliable
MGSLDLAÈPWOEMWBZMKSJDHAJKSDHAKSDHSDHSDHOASDAKSJDHKASJDHAAKHL
KTLSDKLHRFSDFHPHFGCJLJLJRKKFLDSFCGTVGEFAGGGDTHNNVCLSSVFVSEDG
HSDFSDWFKLGGMETVCSDFKVSQATPEFSSSDLFFDSRIQSIRDPASIPPEEMSPEFTT
LPECHGHARDAFSFGTLVESLLTILNEQVSADVLSSFQQTLHSTLLNPIPKCRPALCTLL
SDFLSDJFKLSDFLSKDFJM 
```

我有第二个文件，其中包含我需要从第一个文件中“提取”的模式列表。第二个文件如下所示：

```
>clat38
>coll9 
```

实际上，我希望有这样的输出：

```
>clat38 EN2 enl.o   http://mar20s/Gene/Summary?5    annotation not avaliable
MNCEDCHILNAEAFKSKKDASDADICKSLKICGLVFGILALTLIVLFWGSKHFWPEVPKK
AYDMEHTFYSNGERGYCCASDSDDIYCSDRRGNRYCRRVCEPLLGYYPYPYCYQGGRVIC
RVIMPCDASDASDAOPWEIPQWFHNDJBVHAOISDOUIAODGNWWVARMLGRV
>coll9  EN4 ens4    http://mar2010.arch/Genary?g=E9 annotation not avaliable
MASKALDHLFKLJLÒFJASDJKLASDLAFJLFJFJLFJLAJFLKJFLAKFJFJLAFJLAL
ASDLASKDJASLKDJASLKJFALSKDJALKDJSKLDJLSDKJASLDKJSLDKSDLAKJKS
SILDUAISDALSDJALKDJASDLFATT 
```

我试过`grep -f file_2 file_1 > output`但我只得到这个：

```
>clat38
>coll9 
```

我可以添加一些更具体到 grep 的内容吗？感谢您的任何建议！瞎扯

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-15T13:15:38.497

要在单行上搜索正则表达式，请使用 grep。从手册页和几个示例中了解它。

要将字符串替换为单行上的正则表达式，请使用 sed。从手册页和几个示例中了解它。

对于所有其他文本处理应用程序，请使用 awk。从 Arnold Robbins 所著的《Effective Awk Programming, Third Edition》一书中学习，[http://www.oreilly.com/catalog/awkprog3/](http://www.oreilly.com/catalog/awkprog3/)。

```
awk 'NR==FNR{a[$0];next} $1 in a{c=2} c&&c--' file2 file1 
```

如果您想在找到所需密钥时打印出超过 2 行，只需将 c 的值更改为 3 或 20 或其他值。

鉴于您在下面的评论和更新的示例输入，这应该可以满足您的要求：

```
awk 'NR==FNR{a[$0];next} /^>/{f=0} $1 in a{f=1} f' file2 file1 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-15T13:20:16.757

从 grep 联机帮助页：

```
-A NUM, --after-context=NUM
          Print NUM  lines  of  trailing  context  after  matching  lines.
          Places  a  line  containing  --  between  contiguous  groups  of
          matches. 
```

所以在这种情况下，只需添加 -A1 就可以了。

根据评论，更好的解决方案是：

`grep -xFA1 -f file_2 file_1 | grep -v "^\--"`

`-x`匹配整行

`-F`将模式视为字符串而不是正则表达式

我必须添加第二个 grep 语句来删除多余的 -- 行。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-15T13:14:46.517

awk 单线应该适合你：

```
awk 'NR==FNR{a[$0];next}{x=$0;getline;if(x in a)print x"\n"$0}' file2 file1

kent$  head file1 file2
==> file1 <==
>aba19
 ALKSDJASDKASDLKASDL
>clat38
 PDASODJADASLDKALSKDLACASDLKAJ
>coll9
 AOSODADALSDKALDKASLDSAK
>hihi9
 JHASDASDJOASDJAOSD

==> file2 <==
>clat38
>coll9

kent$  awk 'NR==FNR{a[$0];next}{x=$0;getline;if(x in a)print x"\n"$0}' file2 file1
>clat38
 PDASODJADASLDKALSKDLACASDLKAJ
>coll9
 AOSODADALSDKALDKASLDSAK 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-15T13:40:44.233

```
awk 'FNR==NR{a[$0];next}{for(i in a)if(i==$0){print;getline;print}}' second_file first_file 
```

测试如下：

```
> cat temp
>aba19
 ALKSDJASDKASDLKASDL
>clat38
 PDASODJADASLDKALSKDLACASDLKAJ
>coll9
 AOSODADALSDKALDKASLDSAK
>hihi9
 JHASDASDJOASDJAOSD

> cat temp2
>clat38
>coll9

> awk 'FNR==NR{a[$0];next}{for(i in a)if(i==$0){print;getline;print}}' temp2 temp
>clat38
 PDASODJADASLDKALSKDLACASDLKAJ
>coll9
 AOSODADALSDKALDKASLDSAK
> 
```

# c++ - 是新分配的 std::vector 元素 初始化为0？

> ID：14895428
> 
> 赞同：4
> 
> 时间：2013-02-15T13:06:24.357
> 
> 标签：c++, vector, stl

让我们说，我们使用`std::vector<int>`or `std::vector<long>`。随着向量大小的增长，新分配的元素会默认初始化为 0，还是程序员需要显式地将它们初始化为 0？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-02-15T13:09:59.970

新*元素*是值初始化的：

> `[C++11: 23.3.6.3/9]:` `void resize(size_type sz);`
> 
> **效果：**如果`sz <= size()`，等价于`erase(begin() + sz, end());`。如果, 将*值初始化*`size() < sz`的元素附加到序列中。`sz - size()`

 *对于两者`int`，`long`这意味着`0`：

> `[C++11: 8.5/7]:` **对类型的对象进行值初始化`T`意味着**：
> 
> *   if`T`是具有用户提供的构造函数 (12.1) 的（可能是 cv 限定的）类类型（第 9 条），则调用 for 的默认构造函数（如果没有可访问的默认构造函数`T`，则初始化格式错误）；`T`
> *   if`T`是没有用户提供的构造函数的（可能是 cv 限定的）非联合类类型，则该对象被零初始化，并且如果`T`' 的隐式声明的默认构造函数是非平凡的，则调用该构造函数。
> *   如果`T`是数组类型，则每个元素都是值初始化的；
> *   **否则，对象被零初始化。**
> 
> 一个被值初始化的对象被认为是被构造的，因此受制于适用于“构造的”对象、“构造函数已完成的对象”等的本国际标准的规定，即使没有为对象的构造函数调用构造函数。初始化。

**但是请注意，这*不是*在谈论向量末尾的“保留”空间。**此空间不包含任何有效元素，无论是零初始化还是其他。此答案和标准措辞仅讨论执行 a 时获得的元素，`resize`而没有为新元素指定显式值。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-02-15T13:09:57.417

根据 C++11 标准的第 23.3.6.3/9 段（约`std::vector::resize()`）：

> `void resize(size_type sz);`
> 
> 效果：如果 sz <= size()，等价于 erase(begin() + sz, end());。如果 size() < sz，则将 sz - size()**值初始化**的元素附加到序列中。

此外，根据标准第 8.5/7 段：

> 对T 类型的对象进行**值初始化**意味着：
> 
> — 如果 T 是具有用户提供的构造函数（12.1）的（可能是 cv 限定的）类类型（第 9 条），则调用 T 的默认构造函数（如果 T 没有可访问的默认构造函数，则初始化是非良构的);
> 
> — 如果 T 是没有用户提供的构造函数的（可能是 cv 限定的）非联合类类型，则该对象是零初始化的，如果 T 的隐式声明的默认构造函数是非平凡的，则调用该构造函数。
> 
> — 如果 T 是一个数组类型，那么每个元素都是值初始化的；
> 
> — **否则，对象是零初始化的**。

这意味着在`int`新创建的元素的情况下，值初始化为`0`.

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-02-15T13:10:07.707

是的，当`std::vector`改变大小时（也许通过做`std::vector::resize`），任何新元素都将被*初始化*。对于诸如`int`or之类的类型`long`，值初始化会导致零初始化，顾名思义，零初始化会将值设置为 0。*

# knockout.js - 淘汰赛如何通过绑定获取父对象

> ID：14895430
> 
> 赞同：0
> 
> 时间：2013-02-15T13:06:26.657
> 
> 标签：knockout.js, knockout-2.0

我的点击绑定没有调用 fullName 函数什么是正确的调用方式？

```
<div>
    <div data-bind="with: test.name" >
        <div>
        <span data-bind="text:firstName"></span>
        <span data-bind="text:firstName"></span>
        <br />
        <div>
        <span data-bind="click: $parent.fullName">FullName</span>
    </div>
</div>

modal = function(){
    var firstName = ko.observable('jhon'),
        lastName = ko.observable('deo'),
        test = {
            name : {
              firstName: firstName,
              lastName: lastName
           },
            fullName : function(){
                alert(name.firstName() + name.lastName());
            }
        };

    return {
        test: test
    }
}();

ko.applyBindings(modal); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-15T13:13:31.607

$parent 元属性指的是**绑定**层次结构中紧接在上面的绑定，而不是视图模型中的父对象。由于您的 with 在主绑定上下文中，因此 $parent 指的是根视图模型。

如果您需要访问*菜单*，您可以将其嵌套在另一个绑定中：

```
<div data-bind="with: test">
  <div data-bind="with: name">
  [...]
    <button data-bind="click: $parent.fullName">Click</button>
  </div>
</div> 
```

或从父绑定（在您的示例中为*模式*或根绑定）开始限定您的调用：

```
<button data-bind="click: $parent.test.fullName">Click</button> 
```

* * *

关于绑定上下文与模型层次结构的一些说明：

当您应用**with: test.name**绑定时，使用您的原始绑定，绑定上下文将如下所示：

```
<body> <!-- binding context: [modal] -->
  <div data-bind="with: test.name"> <!-- binding context: [modal|test.name] --> 
```

相反，当应用上面显示的嵌套绑定时，层次结构更改为：

```
<body> <!-- bc: [modal] -->
  <div data-bind="with: test"> <!-- bc: [modal|test] -->
    <div data-bind="with: name"> <!-- bc: [modal|test|name] --> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-15T13:23:32.427

您的点击事件应如下所示：

```
<span data-bind="click: $parent.test.fullName">FullName</span> 
```

我已经更新了你的[小提琴](http://jsfiddle.net/z7Fgv/16/)

# javascript - Jquery 和 Get 遍历 API

> ID：14895437
> 
> 赞同：1
> 
> 时间：2013-02-15T13:06:38.793
> 
> 标签：javascript, jquery, splice

有没有一种简单的方法来获取与 Jquery 的查询匹配的节点列表（包括给定节点）？

我想过使用 .find 方法如下：

```
var getNodes = function(dom, query){
    var nodes = $(dom).find(query || '*');
    nodes.splice(0,0,dom);
    return nodes;
} 
```

奥利维尔

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-15T13:08:59.763

如果你想在一个集合中搜索`dom`匹配查询的元素及其内容，那么你可以这样做

```
$(dom).find(query).add($(dom).filter(query)) 
```

或者

```
$(dom).find(query).addBack().filter(query); 
```

一个更简单的（但如果有很多孩子会更慢）

```
$(dom).find('*').addBack().filter(query); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-15T13:10:25.430

jQuery中任何内容的结果都是非 JavaScript 数组`$()`的实例。`jQuery`你可以做的是这样的：

```
var nodes = [ dom ];
var found = $(dom).find(query || '*');
$.each(found, function(item) { nodes.push(this); }); 
```

# asp.net - 创建类似于 Facebook 的帖子和评论

> ID：14895439
> 
> 赞同：1
> 
> 时间：2013-02-15T13:06:41.727
> 
> 标签：asp.net, html, sql

我需要在我的项目页面上发表自己的帖子和评论，类似于 Facebook。我使用 sql table、sqldatasource 和 repeater 成功创建了帖子。但我对评论有意见。

我创建了 sql 表 Comments，有一列带有 Post ID。这是我的代码：

```
 <asp:SqlDataSource ID="SqlDataSource3" runat="server" ConnectionString="<%$ ConnectionStrings:MotWebConnectionString %>" 
    SelectCommand="SELECT * FROM [Posts] 
                    JOIN [Users] ON [Users].[UserName] = [Posts].[UserName] 
                    JOIN [Comments] ON [Comments].[PostId] = [Posts].[PostId]
                    WHERE ([GroupId] = @GroupId) ">
        <SelectParameters>
            <asp:QueryStringParameter Name="GroupId" QueryStringField="id" Type="Int32" />
        </SelectParameters>
    </asp:SqlDataSource>

asp:Repeater ID="Repeater1" runat="server" DataSourceID="SqlDataSource3" >
        <ItemTemplate>
            <table style="width: 100%;">
                <tr>
                    <td width="10%">    
                        <asp:Image ID="Image2" runat="server" Width="64px" Height="64px" ImageUrl='<%# Eval("ProfilePicture")%>' />
                    </td>
                    <td align="left" width="90%" >
                        <asp:HyperLink ID="HyperLink1" runat="server" NavigateUrl='<%# Eval("UserName", "~/_/Profile.aspx?Username={0}")%>'><p><asp:Literal ID="Literal2" runat="server" Text='<%# Eval("Username")%>'></asp:Literal></p></asp:HyperLink>
                    </td>
                </tr>                    
            </table>
            <asp:Literal ID="Literal3" runat="server" Text='<%# Eval("Text")%>'></asp:Literal>
            <br />

                        <asp:Literal ID="Literal4" runat="server" Text='<%# Eval("CommentText")%>'></asp:Literal>

                   <asp:FormView ID="FormView2" runat="server" DataSourceID="SqlDataSource4" DefaultMode="Insert" >
                            <InsertItemTemplate>
                                <asp:TextBox ID="TextBox1" runat="server"></asp:TextBox>
                                &nbsp;
                                <asp:Button ID="Button1" runat="server" Text="Button" CommandName="Insert" />
                            </InsertItemTemplate>
                        </asp:FormView>
        </ItemTemplate>

        <SeparatorTemplate>
            <br />
            <br />
            <br />
        </SeparatorTemplate>
     </asp:Repeater> 
```

但它只显示帖子，其中至少有 1 条评论，如果评论多于 1 条，则帖子在页面上出现两次或更多次。

另一个问题是，我不知道如何在 Comments 表中插入正确的 Post ID。它可能是通过使用参数...

我的数据库架构（我不知道如何在 SQL Management Studio 中创建它，所以它在 VS 中）：http: [//img685.imageshack.us/img685/1416/vstiekd.jpg](http://img685.imageshack.us/img685/1416/vstiekd.jpg)

请任何人都可以帮我解决这个问题：

1.  如何查看帖子下的正确评论并查看没有任何评论的帖子
2.  如何使用正确的帖子 ID 插入评论

我会非常感谢任何帮助

# css - Firefox 转换不起作用。这是一个错误吗？

> ID：14895442
> 
> 赞同：0
> 
> 时间：2013-02-15T13:06:47.620
> 
> 标签：css, firefox, transitions

我有一个仅适用于 chrome 的简单图像交换过渡。编码：

```
<a class="twitter" href="index.php"></a>

.twitter {
    width:26px;
    height:26px;
    display:block;
    background:transparent url('../images/twitter.jpg') center top no-repeat;
    -webkit-transition: all 0.3s linear;
    -moz-transition: all 0.3s linear;
    -o-transition: all 0.3s linear;
    transition: all 0.3s linear;
    }

.twitter:hover {background-image: url('../images/twitter-hover.jpg');} 
```

演示：http: [//jsfiddle.net/gWKEQ/17/](http://jsfiddle.net/gWKEQ/17/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-15T13:49:09.667

这是因为只有 Chrome 真正支持动画CSS 属性 - 根据[规范](http://dev.w3.org/csswg/css3-background/#the-background-image)`background-image`实际上是不正确的，它被注释为：

> **背景图片**
> 
> 动画：没有

有关您可以制作动画的更多信息（以及在哪些浏览器等中），请查看[**此页面**](http://oli.jp/2010/css-animatable-properties/#background-image)。将来，其他浏览器有望允许对`background-image`属性进行动画处理（并且规范将会改变），因为这是程序员/设计师真正想要的。

# perl - 在perl中从对象中检索一个值

> ID：14895443
> 
> 赞同：-1
> 
> 时间：2013-02-15T13:06:52.163
> 
> 标签：perl, web, fastcgi, cpan, mod-perl

我正进入（状态

```
$VAR1 = bless( \*{'Fh::fh00001Screenshot.png'}, 'Fh' ); 
```

在一个变量中。但我需要从中检索`fh00001Screenshot.png`。我怎么才能得到它？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-15T13:38:40.990

该`Fh`包在模块内部[`CGI`](https://metacpan.org/module/CGI)用于处理用于构建多部分数据的临时文件。你不应该直接使用它。

仔细检查以确保在使用来自`CGI`代码的代码之前没有更好的方法`Fh::asString`

```
(my $name = $$VAR1) =~ s/^\*(\w+::fh\d{5})+//; 
print $name; 
```

**输出**

```
Screenshot.png 
```

**更新**

与其从代码中挑选一些内容，不如`CGI`从调用代码中访问这个包——它应该是一个真正的私有包。改用`$var->asString`，像这样

```
use strict;
use warnings;

use CGI;

my $var = do {
  no strict 'refs';
  my $var = bless( \*{'Fh::fh00001Screenshot.png'}, 'Fh' );
};

print $var->asString; 
```

# r - R中的列向量到矩阵

> ID：14895444
> 
> 赞同：9
> 
> 时间：2013-02-15T04:33:40.897
> 
> 标签：r, matrix, k-means

我有一组`V_1, V_2, ..., V_n`要转换为矩阵的向量。每个向量都成为矩阵中的一个列向量。每个向量的大小是相同的。有一个简单的功能可以做到这一点吗？在它的矩阵部分中`The R Book`似乎不存在此功能。

我目前正在做的是：

```
mat=matrix(c(V1, V2, ..., VN), nrow=length(V1)) 
```

1.  是否有某种矩阵附加函数可以将列附加到矩阵的末尾？

**编辑：**最终目标是`k-means`用这个矩阵进行聚类。我的向量的名称实际上不是`V_1, V_2, ..., V_n`. 向量的名称是对应于数据来源的文件名的子字符串（这是一个 1-1 映射）。最终，我将遍历特定目录中的所有文件，将数据提取到一个向量中，然后将每个列向量附加到一个矩阵中。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-15T04:57:38.307

一个可以为你工作的命令是： `sapply(ls(pattern="V[[:digit:]]"),get)` 其中的参数是一个正则表达式，它匹配你想要的向量（并且只有你想要的向量）。或者，假设向量是从某些文件名的子字符串中命名的，我假设您可以创建一个字符向量，其中每个向量名称作为一个元素。如果是这样，您可以用该向量替换 ls 命令。

**编辑**：按列附加的矩阵将是 cbind （列绑定）。例如：

```
V1 <- rnorm(20)
V2 <- rnorm(20)
V3 <- rnorm(20)
mat <- matrix(c(V1,V2),nrow=length(V1))
(mat.app <- cbind(mat,V3)) 
```

# ios - 将新的视图控制器添加到选项卡控制器

> ID：14895447
> 
> 赞同：0
> 
> 时间：2013-02-15T13:07:01.407
> 
> 标签：ios, cocoa-touch, uiviewcontroller, uinavigationcontroller, uitabbarcontroller

我有一个由 MainWindow.xib 创建的标签栏控制器。我有 4 个视图控制器。现在我想以编程方式添加第 5 项（因为直到编译时我才知道必须使用哪个类）

这是我的代码：

```
UIViewController * login = [[LoginUserViewController alloc] initWithNibName:@"LoginUserViewController" bundle:nil];

NSMutableArray * viewControllersArray = [NSMutableArray arrayWithArray:self.tabBarController.viewControllers];
[viewControllersArray addObject:login];
[self.tabBarController setViewControllers:viewControllersArray
                                 animated:YES]; 
```

但我明白了

```
[LoginUserViewController viewControllers]: unrecognized selector sent to instance 0x95791b0' 
```

当我到达此代码时

```
UINavigationController *navController = [tabBarController.viewControllers lastObject];
LoginViewController * log = [navController.viewControllers objectAtIndex:0]; 
```

我哪里错了？有任何想法吗？

非常感谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-15T13:21:51.847

您忘记了最后一个选项卡是 LoginUserViewController 而不是 UINavigationController 的实例。

将 LoginUserViewController 添加到标签栏控制器后，标签栏控制器数组中的最后一个视图控制器将是 LoginUserViewController 而不是 UINavigationController 的实例

```
UINavigationController *navController = [tabBarController.viewControllers lastObject]; 
```

因此，上面的行将在 navController 变量中返回 LoginUserViewController 的对象。

```
RecordsViewController *recordsViewController = [navController.viewControllers objectAtIndex:0]; 
```

因此，上面的行将导致崩溃，因为 LoginUserViewController 没有 viewControllers 属性。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-15T13:22:13.073

如果这是您的全部代码，那么您看起来不像是在实例化导航控制器。看着：

```
initWithRootViewController: 
```

在 UINavigator 类中。我会替换：

```
UINavigationController *navController = [tabBarController.viewControllers lastObject]; 
```

和：

```
UINavigationController *navController = [[UINavigationController alloc] initWithRootViewController: [tabBarController.viewControllers lastObject]]; 
```

编辑：还有一个想法：看起来您很幸运地使用了“tabBarController”属性，因为您可能已经合成了它，因为`@synthesize tabBarController=tabBarController;`
我强烈建议您使用最新版本的 XCode，它会自动为您执行 @synthesize。代码中最后一行应该是 self.tabBarController

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-15T13:21:40.833

尝试这个....

```
 - (void) setUpTabBar {
FirstViewController *firstViewController = [[FirstViewController alloc]init];
firstViewController.title = @"First View";
firstViewController.tabBarItem = [[UITabBarItem alloc]initWithTabBarSystemItem:UITabBarSystemItemSearch tag:0];
UINavigationController *firstNavController = [[UINavigationController alloc]initWithRootViewController:firstViewController];

SecondViewController *secondViewController = [[SecondViewController alloc]init];
secondViewController.title = @"Second View";
secondViewController.tabBarItem = [[UITabBarItem alloc]initWithTabBarSystemItem:UITabBarSystemItemFavorites tag:1];
UINavigationController *secondNavController = [[UINavigationController alloc]initWithRootViewController:secondViewController];

ThirdViewController *thirdViewController = [[ThirdViewController alloc]init];
thirdViewController.title = @"Third View";
thirdViewController.tabBarItem = [[UITabBarItem alloc]initWithTabBarSystemItem:UITabBarSystemItemRecents tag:2];
UINavigationController *thirdNavController = [[UINavigationController alloc]initWithRootViewController:thirdViewController];

ForthViewController *forthViewController = [[ForthViewController alloc]init];
forthViewController.title = @"Forth View";
forthViewController.tabBarItem = [[UITabBarItem alloc]initWithTabBarSystemItem:UITabBarSystemItemHistory tag:2];
UINavigationController *forthNavController = [[UINavigationController alloc]initWithRootViewController:forthViewController];

tabBarController = [[UITabBarController alloc] initWithNibName:nil bundle:nil];
tabBarController.viewControllers = [[NSArray alloc] initWithObjects:firstNavController, secondNavController, thirdNavController, forthNavController, nil];
tabBarController.delegate = self;             
[self sizeViewToAvailableWindow:[tabBarController view]];

[firstNavController release];
[firstViewController release];

[secondNavController release];
[secondViewController release];

[thirdNavController release];
[thirdViewController release];

[forthNavController release];
[forthViewController release];
} 
```

# .htaccess - Apache 服务器重写规则

> ID：14895451
> 
> 赞同：0
> 
> 时间：2013-02-15T13:07:17.117
> 
> 标签：.htaccess, mod-rewrite, apache2

我的网站有 3 条规则，这些规则在我的网站页面上运行没有任何问题，但索引除外。我的索引页面称为 ecorustic.php 但我希望它仅显示 ecorustic 而没有扩展名。现在如果我浏览这些页面我会得到 ecorustic/mountain/himalaya （它丢失了扩展名）但是当我返回主页时，它显示ecorustic.php 。请帮助

```
 # my .htacces file
    RewriteEngine on
    RewriteRule ^ecorustic/.php$  index.php #i made it so the server views it as index
    RewriteRule ^ecorustic/(.*)/(.*)$  ecorustic.php?categorie=$1&nume=$2 
    RewriteRule ^ecorustic/(.*)$  ecorustic.php?categorie=$1 [L] 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-15T13:11:22.193

在点后添加 * 符号。 `RewriteRule ^ecorustic/.*php$ index.php`

# web-services - 掌握 cpp 的axis2c api

> ID：14895453
> 
> 赞同：0
> 
> 时间：2013-02-15T13:07:28.317
> 
> 标签：web-services, apache, http, axis2c

我是 web 服务的新手，我正在尝试使用 apache axis2c 在 c/cpp 中开发一个 http-client。

我在任何地方都找不到axis2c api的任何好的示例代码。开始使用axis2c开发客户端的文档也不是那么清楚或直接。

知道我在哪里可以运行可以帮助我开始的示例代码。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T05:33:47.063

[This](https://code.google.com/p/staff/wiki/StaffDetails#What_is_it?) (ws-staff) could be helpful to you.

I am also trying to create web service using C++. This seems to be a good start.

# c# - 处理 Neo4jClient 查询结果中的多列

> ID：14895455
> 
> 赞同：4
> 
> 时间：2013-02-15T13:07:30.403
> 
> 标签：c#, cypher, neo4jclient

我有一个 Neo4j 数据库，为了简单起见，它包含用户节点和大学节点——用户可以通过 [:STUDENT_AT] 关系与大学相关联。

我想返回特定用户的用户详细信息和大学详细信息，在这种情况下通过“用户名”值进行查询。

查询本身工作正常，但是我无法找出正确的方法来获取 Neo4jClient 中的反序列化器，以便为我提供两个可以使用的对象。以下是我认为应该有效的方法，但是 - 唉 - 它没有。

```
graph.Cypher
    .Start("user", "node(*)")
    .Match("user-[:STUDENT_AT]->university")
    .Where<User>(user =>
        user.Username != null &&
        user.Username.ToLower() == username.ToLower())
    .Return((user, university) => new
    {
        User = user.As<User>(),
        University = university.As<University>()
    })
    .Results; 
```

已成功连接到 Neo4j`graph`的在哪里。`IGraphClient`

我收到的错误是...

> 查询响应包含列 User, University 然而 <>f__AnonymousType0`2[[XYZ.Entities.User, XYZ.Entities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[XYZ.Entities.University, XYZ.实体，版本=1.0.0.0，文化=中性，PublicKeyToken=null]] 不包含可公开设置的属性来接收此数据。

因此，总而言之，如果有人可以为我提供一种从密码查询中获取对象的方法，该查询使用 Neo4jClient 返回多个列，我将非常感激！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-15T21:19:40.220

我能够让它工作的唯一方法是实际声明一个类型，它是我需要的多个列的聚合。例如，您需要声明一个包含 User 属性和 University 属性的虚拟类型。在您的情况下，您可以尝试：

```
private class UserAndUniversity {
    public User User {get; set;}
    public University University {get; set;}
}

public object MyMethod()
{
    graph.Cypher
    .Start("user", "node(*)")
    .Match("user-[:STUDENT_AT]->university")
    .Where<User>(user =>
        user.Username != null &&
        user.Username.ToLower() == username.ToLower())
    .Return((user, university) => new UserAndUniversity
    {
        User = user.As<User>(),
        University = university.As<University>()
    })
    .Results;
} 
```

*请注意，虚拟聚合类型中的属性名称区分大小写；它们必须与您在密码`RETURN`子句中使用的名称精确匹配。*

这显然是愚蠢的，但这是唯一对我有用的东西；我尝试了从元组到`dynamic`关键字的所有内容。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-02T13:29:04.720

匿名类型从 1.0.0.514 开始工作。

升级，您的问题中显示的查询将按书面方式工作。

# facebook - FB.login() 在第一次调用时返回 null

> ID：14895456
> 
> 赞同：3
> 
> 时间：2013-02-15T13:07:31.157
> 
> 标签：facebook, facebook-javascript-sdk, facebook-login

我有这个js：

```
$(document).ready(function () {
  $('.login-link').click(function () {
    FB.login(function(response) {
      console.log(response);
      if (response.authResponse) {
        console.log('Welcome!  Fetching your information.... ');
        FB.api('/me', function(resp) {
          console.log('Good to see you, ' + resp.name + '.');
        });
      } else {
        console.log('User cancelled login or did not fully authorize.');
      }
    }, {scope: 'email'});

  });
}); 
```

这是必然的`<div class="login-link">FB modal login</div>`

问题是当我单击 FB.login 按钮并授权应用程序时，response.authResponse 为 null 并且 response.status 为 not_authorized。如果我再次单击它或刷新页面，它显示用户已授权该应用程序，但显然我第一次需要它。代码取自[Facebook](https://developers.facebook.com/docs/reference/javascript/FB.login/)，稍作修改。

任何想法如何解决这个问题？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-15T13:54:21.923

如果其他人也在努力解决这个问题，只是想展示一个解决方法。

```
$(document).ready(function () {
  $('.login-link').click(function () {
    FB.login(function(response) {
      FB.getLoginStatus(function (resp) {
        console.log(resp);
      }, true);
    }, {scope: 'email'});
  });
}); 
```

我保留我的问题，因为它并没有真正回答为什么 FB.login 不起作用的问题，但至少提供了一个临时解决方案。

# c# - 一组导入函数的 DllImport

> ID：14895464
> 
> 赞同：3
> 
> 时间：2013-02-15T13:07:55.210
> 
> 标签：c#

有没有办法为一组外部函数指定相同的 DllImport 属性，任何类似的`extern "C" { … }`？我不想为每个函数声明重复它:-)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-15T13:23:19.853

不。避免它的唯一方法是在 C++/CLI 中编写一个 ref 类包装器。这使您可以直接#include C 头文件。然后，您的 C# 项目可以简单地添加对 C++/CLI 生成的程序集的引用。这避免了很多事故，当您声明错误时，您现在会收到编译器错误消息，但如果您的唯一目标是减少代码行，则与 pinvoke 声明不完全竞争。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-15T13:08:59.893

不，该属性必须在每个功能上。

# android - 在浏览器android中滑动工具栏

> ID：14895469
> 
> 赞同：0
> 
> 时间：2013-02-15T13:08:07.113
> 
> 标签：android, toolbar, swipe

嘿，我正在开发适用于 android 的浏览器应用程序。

知道我不想制作像这些链接上的图片一样向上滑动时显示的工具栏

[刷卡前](https://www.dropbox.com/s/f4xg9f1h4wx6a96/Screenshot_2013-02-15-13-47-41.png)

[刷完之后](https://www.dropbox.com/s/6jcljkvk6czs1l6/Screenshot_2013-02-15-13-48-06%20%281%29.png)

我的问题是我如何让工具栏与滑动一起使用。

我在eclipse中编写代码

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-15T14:18:49.573

请参阅此示例项目。[android miscwidgets](http://code.google.com/p/android-misc-widgets/)我认为这就是你想要的。只需在 XML 中设置 panel:position="bottom" 就可以了。

# xml - 翻译文件以从 xml 中引入多行

> ID：14895473
> 
> 赞同：0
> 
> 时间：2013-02-15T13:08:33.230
> 
> 标签：xml, xslt

请有人能帮助我，我一生都无法弄清楚如何调整我的翻译文件，以便每个供应商和多个供应商在一个 xml 中引入要遵循的 xml。换句话说，我需要将文件带入我们的 ERP 系统，以便为 xml 中的每个供应商创建一个新的采购订单，但订单行相应地按供应商分组（例如，供应商 A 在 xml 和供应商中有多行B 有多个行。所有属于 A 的行必须在 A 的同一采购订单上，对于 B 也是如此）

这是xml的示例：

```
<rows>
<row>
<SUPPLIER>LIY0001</SUPPLIER>
<DESTWHS>A4</DESTWHS>
<RELEASE_DATE>2013-02-14</RELEASE_DATE>
<DUE_DATE>2013-05-13</DUE_DATE>
<ITEM>5021616</ITEM>
<QTY>528</QTY>
<LINE_ITEM_NO>1</LINE_ITEM_NO>
<CUST_PO_NO>LIY0001-2013-02-14</CUST_PO_NO>
<PURCHASEPRICE>5.25</PURCHASEPRICE>
</row>
<row>
<SUPPLIER>LIY0001</SUPPLIER>
<DESTWHS>A4</DESTWHS>
<RELEASE_DATE>2013-02-14</RELEASE_DATE>
<DUE_DATE>2013-05-13</DUE_DATE>
<ITEM>5021816</ITEM>
<QTY>222</QTY>
<LINE_ITEM_NO>2</LINE_ITEM_NO>
<CUST_PO_NO>LIY0001-2013-02-14</CUST_PO_NO>
<PURCHASEPRICE>5.90</PURCHASEPRICE>
</row>
<row>
<SUPPLIER>WOR0001</SUPPLIER>
<DESTWHS>A4</DESTWHS>
<RELEASE_DATE>2013-02-14</RELEASE_DATE>
<DUE_DATE>2013-05-13</DUE_DATE>
<ITEM>650616</ITEM>
<QTY>129</QTY>
<LINE_ITEM_NO>9</LINE_ITEM_NO>
<CUST_PO_NO>WOR0001-2013-02-14</CUST_PO_NO>
<PURCHASEPRICE>4.46</PURCHASEPRICE>
</row>
<row>
<row>
<SUPPLIER>WOR0001</SUPPLIER>
<DESTWHS>A4</DESTWHS>
<RELEASE_DATE>2013-02-14</RELEASE_DATE>
<DUE_DATE>2013-05-13</DUE_DATE>
<ITEM>650610</ITEM>
<QTY>129</QTY>
<LINE_ITEM_NO>3</LINE_ITEM_NO>
<CUST_PO_NO>WOR0001-2013-02-14</CUST_PO_NO>
<PURCHASEPRICE>3.5</PURCHASEPRICE>
</row>
<row>
</rows> 
```

这是我创建的翻译文件：

```
<?xml version="1.0" ?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">
<xsl:output method="xml" encoding="Windows-1252" omit-xml-declaration="yes" />
<xsl:template match="/">
<PostPurchaseOrders>
    <Orders>
      <OrderHeader> 
      <xsl:for-each select = "rows/row">
      <CustomerPoNumber><xsl:value-of select="CUST_PO_NO"/></CustomerPoNumber> 
      <Supplier><xsl:value-of select="SUPPLIER"/></Supplier>
          <OrderDate><xsl:value-of select="RELEASE_DATE"/></OrderDate>
          <DueDate><xsl:value-of select="DUE_DATE"/></DueDate>
         <Warehouse><xsl:value-of select="DESTWHS"/></Warehouse>
     </xsl:for-each>
     </OrderHeader> 
      <OrderDetails>
     <xsl:for-each select = "rows/row">
       <StockLine>
         <PurchaseOrderLine><xsl:value-of select="LINE_ITEM_NO"/></PurchaseOrderLine>
            <StockCode><xsl:value-of select="ITEM"/></StockCode>
            <Warehouse><xsl:value-of select="DESTWHS"/></Warehouse>
           <OrderQty><xsl:value-of select="QTY"/></OrderQty>
           <Price><xsl:value-of select="PURCHASEPRICE"/></Price>
          </StockLine>
         </xsl:for-each>
       </OrderDetails>       
       </Orders>
<PostPurchaseOrders>
</xsl:template>
</xsl:stylesheet> 
```

任何关于如何将我的翻译文件更改为循环或其他方式的帮助，以便将许多行纳入每个供应商的一个采购订单中，我们将不胜感激。

谢谢

更新

这是我需要为我们的 ERP 系统转换为 xml 的内容：

```
<PostPurchaseOrder>
<Orders>
    <OrderHeader>
        <Supplier>LIY0001</Supplier>
        <CustomerPoNumber>example po</CustomerPoNumber>
        <OrderDate>2013-02-03</OrderDate>
        <Warehouse>A1</Warehouse>
    </OrderHeader>
    <OrderDetails>
        <StockLine>
            <PurchaseOrderLine>1</PurchaseOrderLine>
            <StockCode>12022</StockCode>
            <OrderQty>10</OrderQty>
        </StockLine>
        <StockLine>
            <PurchaseOrderLine>2</PurchaseOrderLine>
            <StockCode>15014</StockCode>
            <OrderQty>15</OrderQty>
        </StockLine>
    </OrderDetails>
</Orders>
</PostPurchaseOrders> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-17T13:38:52.847

在没有看到您的预期输出的情况下，确切地知道您想要什么有点棘手，但看起来您确实想按供应商对订单进行分组。对项目进行分组是 XSLT 中的一个常见问题，在 XSLT1.0 中，您使用一种称为 Muenchian Grouping 的技术来执行此操作。

如果您按供应商对**行**元素进行分组，您可以从定义以下键开始：

```
<xsl:key name="suppliers" match="row" use="SUPPLIER"/> 
```

然后，为了获得不同的供应商，您使用给定的供应商选择组中首先出现的**行**元素作为键

```
<xsl:apply-templates 
   select="row[generate-id() = generate-id(key('suppliers',SUPPLIER)[1])]" 
   mode="header"/> 
```

注意这里使用**模式**，这是因为在最终的 XSLT 中会有两个模板匹配**行**元素，您需要一种方法来区分它们。

最后，对于每个“标题”**行**元素（即第一次出现给定供应商的**行**元素），您可以获得组成组的行，如下所示：

```
<xsl:apply-templates select="key('suppliers', SUPPLIER)"/> 
```

这是完整的 XSLT

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
   <xsl:output method="xml" indent="yes"/>

   <xsl:key name="suppliers" match="row" use="SUPPLIER"/>

   <xsl:template match="rows">
      <PostPurchaseOrders>
         <xsl:apply-templates select="row[generate-id() = generate-id(key('suppliers',SUPPLIER)[1])]" mode="header"/>
      </PostPurchaseOrders>
   </xsl:template>

   <xsl:template match="row" mode="header">
      <Orders>
         <OrderHeader>
            <CustomerPoNumber>
               <xsl:value-of select="CUST_PO_NO"/>
            </CustomerPoNumber>
            <Supplier>
               <xsl:value-of select="SUPPLIER"/>
            </Supplier>
            <OrderDate>
               <xsl:value-of select="RELEASE_DATE"/>
            </OrderDate>
            <DueDate>
               <xsl:value-of select="DUE_DATE"/>
            </DueDate>
            <Warehouse>
               <xsl:value-of select="DESTWHS"/>
            </Warehouse>
         </OrderHeader>
         <OrderDetails>
            <xsl:apply-templates select="key('suppliers', SUPPLIER)"/>
         </OrderDetails>
      </Orders>
   </xsl:template>

   <xsl:template match="row">
      <StockLine>
         <PurchaseOrderLine>
            <xsl:value-of select="LINE_ITEM_NO"/>
         </PurchaseOrderLine>
         <StockCode>
            <xsl:value-of select="ITEM"/>
         </StockCode>
         <Warehouse>
            <xsl:value-of select="DESTWHS"/>
         </Warehouse>
         <OrderQty>
            <xsl:value-of select="QTY"/>
         </OrderQty>
         <Price>
            <xsl:value-of select="PURCHASEPRICE"/>
         </Price>
      </StockLine>
   </xsl:template>
</xsl:stylesheet> 
```

当应用于 XSLT 时，输出如下：

```
<PostPurchaseOrders>
   <Orders>
      <OrderHeader>
         <CustomerPoNumber>LIY0001-2013-02-14</CustomerPoNumber>
         <Supplier>LIY0001</Supplier>
         <OrderDate>2013-02-14</OrderDate>
         <DueDate>2013-05-13</DueDate>
         <Warehouse>A4</Warehouse>
      </OrderHeader>
      <OrderDetails>
         <StockLine>
            <PurchaseOrderLine>1</PurchaseOrderLine>
            <StockCode>5021616</StockCode>
            <Warehouse>A4</Warehouse>
            <OrderQty>528</OrderQty>
            <Price>5.25</Price>
         </StockLine>
         <StockLine>
            <PurchaseOrderLine>2</PurchaseOrderLine>
            <StockCode>5021816</StockCode>
            <Warehouse>A4</Warehouse>
            <OrderQty>222</OrderQty>
            <Price>5.90</Price>
         </StockLine>
      </OrderDetails>
   </Orders>
   <Orders>
      <OrderHeader>
         <CustomerPoNumber>WOR0001-2013-02-14</CustomerPoNumber>
         <Supplier>WOR0001</Supplier>
         <OrderDate>2013-02-14</OrderDate>
         <DueDate>2013-05-13</DueDate>
         <Warehouse>A4</Warehouse>
      </OrderHeader>
      <OrderDetails>
         <StockLine>
            <PurchaseOrderLine>9</PurchaseOrderLine>
            <StockCode>650616</StockCode>
            <Warehouse>A4</Warehouse>
            <OrderQty>129</OrderQty>
            <Price>4.46</Price>
         </StockLine>
         <StockLine>
            <PurchaseOrderLine>3</PurchaseOrderLine>
            <StockCode>650610</StockCode>
            <Warehouse>A4</Warehouse>
            <OrderQty>129</OrderQty>
            <Price>3.5</Price>
         </StockLine>
      </OrderDetails>
   </Orders>
</PostPurchaseOrders> 
```

# android - Adb 设备在 OS X 10.8.2 上找不到 Android 设备

> ID：14895475
> 
> 赞同：3
> 
> 时间：2013-02-15T13:08:37.783
> 
> 标签：android, macos, adb

我在这里努力在手机上调试我的应用程序。

我是Mac世界的新手，我以前在Windows上开发没有问题，所以我想这不是我手机的问题......

说清楚，这是我现在的问题

```
* daemon not running. starting it now on port 5037 *
* daemon started successfully *
List of devices attached 
(empty) 
```

我尝试了以下方法：

*   在我的手机上启用 USB 调试
*   修改 adb_usb.ini 文件以包含供应商 ID
*   将连接方式设置为“USB海量存储”
*   adb kill-server / adb start-server / adb devices ...
*   重新启动计算机
*   重启手机
*   对着电脑大喊

似乎没有任何效果......还有什么，我没有安装 EasyTether 或类似的东西，所以它不应该干扰。我的手机是 ZTE Skate，我提到它是因为它不是那么有名，但正如我之前所说，我可以在 Windows 上使用它......

一个奇怪的事实是，在 Windows 上插入手机时，通知栏显示类似“调试单元已连接”，但是当我将它连接到 Mac 时，它并没有出现。当然，在这两种情况下，我都激活了“USB 调试”选项。

有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-16T11:45:17.220

哇，我想我找到了解决方法。看起来像一个尴尬的解决方案，但只要它有效......我尝试使用 wifi adb 应用程序，例如[https://play.google.com/store/apps/details?id=com.ttxapps.wifiadb&feature= search_result#?t=W251bGwsMSwxLDEsImNvbS50dHhhcHBzLndpZmlhZGIiXQ](https://play.google.com/store/apps/details?id=com.ttxapps.wifiadb&feature=search_result#?t=W251bGwsMSwxLDEsImNvbS50dHhhcHBzLndpZmlhZGIiXQ) .. 作为替代方案。问题是，这些应用程序需要有根设备。无论如何，唯一的应用程序启动（没有打开该功能）使我的设备意识到它是一个调试单元。然后，我只是连接了 USB 电缆，它照常工作。希望这对某人有帮助！当然，如果有人找到更清洁的解决方案，请发布！

# java - Java 正则表达式替换双引号和单引号

> ID：14895477
> 
> 赞同：2
> 
> 时间：2013-02-15T13:08:48.037
> 
> 标签：java, regex

我被喂了一个看起来像这样的字符串：

```
"lang":"fr","fizz":"1","buzz":"Thank you so much." 
```

真正的字符串很长，但遵循这种逗号分隔`"key":"value"`对的模式。我想去掉 s 周围的所有双引号`key`，我想`value`用单引号替换所有 s 周围的双引号，这样我的字符串将如下所示：

```
lang:'fr',fizz:'1',buzz:'Thank you so much.' 
```

我最好的尝试：

```
kvString = kvString.replaceAll("\"*\":", "*:");
kvString = kvString.replaceAll(":\"*\"", ":'*'");

System.out.println(kvString); 
```

当我运行它时，我`kvString`看起来像：

```
"lang*:'*'fr","fizz*:'*1","buzz*:'*Thank you so much." 
```

谁能发现我哪里出错了？提前致谢。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-15T13:10:50.220

```
String str = "\"lang\":\"fr\",\"fizz\":\"1\",\"buzz\":\"Thank you so much.\"";
System.out.println(str.replaceAll ("\"([^\"]*)\":\"([^\"]*)\"", "$1:'$2'")); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-15T13:24:23.567

您想要做的是使用正则表达式将逗号分隔的字符串分解为一组关键字值对。每个逗号分隔的字符串都具有“关键字”：“值”的格式，您要做的是将其转换为关键字：“值”。

为此，您必须让正则表达式记住关键字并记住值，然后在 replaceAll 的输出中将字符串的这些部分放回另一个字符串。

这个[stackoverflow，非 cpaturing](https://stackoverflow.com/questions/3512471/non-capturing-group)组提供了有关组的更多信息。而且这篇[文章还谈到了分组语法](http://www.regular-expressions.info/brackets.html)。

# java - 一个接一个地获取整数零到九的java

> ID：14895487
> 
> 赞同：0
> 
> 时间：2013-02-15T13:09:10.500
> 
> 标签：java, digits

您好，我想知道从 txt 文件中逐位扫描 int 数字的最佳和最简单的方法，我可以找到的数字是 0 到 9，例如：

```
24351235312531135 
```

每次我扫描这些输入时，我都想得到

```
2 
4
3
5
1
2 
```

编辑：

```
My input in txt file is something like this
 13241235135135135
 15635613513513531
 13513513513513513
 13251351351351353
 13245135135135315
 13513513513513531 
```

已知位数的 6 行 .... 我找到了此代码，但无法正常工作

```
import java.util.Scanner;

public class ScannerReadFile {

public static void main(String[] args) {

    // Location of file to read
    File file = new File("data.txt");

    try {

        Scanner scanner = new Scanner(file);

        while (scanner.hasNextLine()) {
            String line = scanner.nextLine();
            System.out.println(line);
        }
        scanner.close();
    } catch (FileNotFoundException e) {
        e.printStackTrace();
    }

} 
```

}

我无法找到我面临的确切查询

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-15T13:14:19.030

尝试这个：

```
public static void main(String[] args) {
    File file = new File("data.txt");
    try {

        Scanner scanner = new Scanner(file);

        while (scanner.hasNextLine()) {
            String line = scanner.nextLine();
            for (int i = 0; i < line.length(); i++) {
                System.out.println(line.charAt(i));
            }
        }
        scanner.close();
    } catch (FileNotFoundException e) {
        e.printStackTrace();
    }

} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-15T13:15:58.790

你需要一个 for 循环：

```
for(int i=0;i<line.length();i++)
System.out.println(Integer.parseInt(line.charAt(i))); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-15T13:14:52.580

查看此示例以了解如何在 Java 中打开和读取文件：http: [//alvinalexander.com/blog/post/java/how-open-read-file-java-string-array-list](http://alvinalexander.com/blog/post/java/how-open-read-file-java-string-array-list)

还要检查这个 SO 问题：[Java File - Open A File And Write To It](https://stackoverflow.com/questions/10667734/java-file-open-a-file-and-write-to-it)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-15T13:20:24.670

您可以遍历每一行的字符：

```
while (scanner.hasNextLine()) {
   String line = scanner.nextLine();
      for (char c: line.toCharArray()) {
        System.out.println(c);
      }
} 
```

# firebase - Firebase：如何推送交易？

> ID：14895489
> 
> 赞同：6
> 
> 时间：2013-02-15T13:09:32.090
> 
> 标签：firebase

假设我有以下结构：

```
{
  "-InSwU2yHOEHwhP_m4_n" : {
    ".priority" : 0.0,
    "name" : "abc"
  },
  "-InSw_P0j8A-0Njj0Uvf" : {
    ".priority" : 1.0,
    "name" : "def"
  }
} 
```

我想添加另一个以 guid 为键的类似项目，优先级等于当前呈现的项目数（在本例中为 2）。结果应如下所示：

```
{
  "-InSwU2yHOEHwhP_m4_n" : {
    ".priority" : 0.0,
    "name" : "abc"
  },
  "-InSw_P0j8A-0Njj0Uvf" : {
    ".priority" : 1.0,
    "name" : "def"
  },
  "-InSxV-RVkZ07_f3uDnJ" : {
    ".priority" : 2.0,
    "name" : "ghi"
  }
} 
```

请注意，由于多个客户端可能同时尝试添加此类项目，因此这必须是一个事务。

有任何想法吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-15T14:23:01.807

使用 时`push()`，会为每个项目分配一个唯一 ID。所以不需要交易（不会有冲突）。

如果您希望记录按优先级是唯一的（这看起来像您要完成的工作），我认为您应该简单地使用优先级作为 ID。

然后您可以使用事务来确保两个客户端不会同时推送：

```
FB.child(path).transaction(function(current_val) {
   if( current_val === null ) {
      /* set the value here */
   }
   /* do nothing; transaction fails because it was already written */
}, function(success) {
   /* transaction done */
}); 
```

但是，如果您将优先级用作唯一 ID，则可能需要重新考虑；这确实是 ID 的工作，而且做得很好；记录也按照插入的顺序进行维护，因此在大多数情况下不需要计数器。

# javascript - 如何使用ajax从列表框中发送选定的值

> ID：14895502
> 
> 赞同：0
> 
> 时间：2013-02-15T13:10:30.773
> 
> 标签：javascript, jquery, asp.net, asp.net-mvc, asp.net-mvc-3

我需要在 mvc 中使用 ajax 从列表框中发送多个选定的数据。我得到选定的数据。我不知道如何将数据 ajax 发送到控制器。我的代码如下：

```
var Students= [];

            var x = document.getElementById("ListBox");
            for (var i = 0; i < x.options.length; i++) {
                if (x.options[i].selected == true) {
                    Students.push(x.options[i].text)
                }
            }

 $.ajax({
                url: '',
                type: 'POST',
                data: { id:studenid, class: class,  Students: Students},
                dataType: 'json',
                success: function (data) {

                }
            }); // id:studenid, class:classs values are send it properly how to add the students? 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-15T13:18:39.800

//发送宽度参数名称

```
 $.ajax({
      type: "POST",
      url: "Default.aspx/GetDate",
      data: { paramName: Students},
      contentType: "application/json; charset=utf-8",
      dataType: "json",
      success: function(msg) {

      }
    });

  //Get value
    [WebMethod]
    public static string GetValue(string paramName)
      {

      } 
```

在通用处理程序中

```
//Send
 $.ajax({
          type: "POST",
          url:'/MyHandler.ashx?students=Students,
          contentType: "application/json; charset=utf-8",
          dataType: "json",
          success: function(msg) {

          }
        });

//Get

public void ProcessRequest(HttpContext context)
{
    string students= (string)context.Request["students"];
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-15T13:23:12.303

```
var Students= [];

            var x = document.getElementById("ListBox");
            for (var i = 0; i < x.options.length; i++) {
                if (x.options[i].selected == true) {
                    Students.push(x.options[i].text)
                }
            }
$.ajax({
   type: "POST",
   data: {StudentList:Students},
   url: "index.aspx",
   success: function(msg){
     alert(msg);
   }
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-15T13:13:59.633

您的`url:''`字段为空。您需要在那里添加一些 URL，您已经为其编写了准备接受数据的服务器端代码。

而且，当然，我猜您希望发送`data:{Student:Students}`而不是`data:{User:Users}`. 最好`data:{Student:Students}`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-16T20:15:48.007

请确认您传递给控制器​​的“学生”对象的数据类型。

尝试使用数组数据类型，

```
Public ActionResult SendData(string id, string class,Array  Students)
{

} 
```

如果它不起作用，则使用 demeter(,) 将 Javascript 数组转换为字符串数组并在下面使用

```
Public ActionResult SendData(string id, string class,string Students)
{

} 
```

这将对您有所帮助。谢谢。

# wpf - Timepicker Updatesourcetrigger=propertychanged 不改变值

> ID：14895507
> 
> 赞同：4
> 
> 时间：2013-02-15T13:10:46.117
> 
> 标签：wpf, data-binding, wpftoolkit

我在 Windows 窗体中托管 WPF 用户控件在 wpf 用户控件中，我正在使用来自 wpfToolkit.extended 的时间选择器

如果我使用向上键或向下键，或者只是在文本字段中输入时间，则源不会更新，尽管我使用的是 Updatesourcetrigger = propertychanged。

当我在下拉列表中选择一个时间时，一切都会按应有的方式进行。这是工具包的命名空间。

```
xmlns:xctk="clr-namespace:Xceed.Wpf.Toolkit;assembly=WPFToolkit.Extended" 
```

这是时间选择器的 xaml

```
 <xctk:TimePicker  Format="LongTime" TimeInterval="00:15:00.000" Value="{Binding Path=StartTime, UpdateSourceTrigger=PropertyChanged}" ></xctk:TimePicker> 
```

如果我在 WPFusercontrol 外部单击而不首先将焦点更改到 wpf usercontrol 中的另一个控件。绑定时间不更新。

知道如何解决这个问题吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-15T15:13:44.700

找到了解决这个问题的方法：我给 TimePicker 起了一个名字（在本例中为 'tpFrom'），然后我在 TimePicker 上使用了 TextBoxBase.TextChanged 事件。这是 Xaml 现在的样子：

```
<xctk:TimePicker Name="tpFrom"  Format="LongTime"  TextBoxBase.TextChanged="TimePicker_TextChanged"  TimeInterval="00:15:00.000" Value="{Binding Path=StartTime, UpdateSourceTrigger=PropertyChanged}"></xctk:TimePicker> 
```

在我们的事件处理程序后面的代码中，我们将重点放在我们的时间选择器上。

```
 private void TimePicker_TextChanged(object sender, TextChangedEventArgs e)
    {
        tpFrom.Focus();            
    } 
```

现在每次文本改变时，值也会改变，问题就解决了:-)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-15T13:33:38.943

~~TimePicker 是否有 Text 属性？如果是这样，请尝试绑定到那个。~~

我认为这种行为可能是为了防止您在键入时绑定到错误的日期时间。我猜想当焦点丢失时，它会尝试设置属性并进行错误检查。如果它在您键入时执行此操作，它将在您进行更改（例如删除字符）时不断更改值。

在您键入时，您是否正在尝试做一些特定的事情？

# c++ - 尝试并抓住，2 节课

> ID：14895508
> 
> 赞同：0
> 
> 时间：2013-02-15T13:10:46.000
> 
> 标签：c++

我有一个使用`try-catch`. 所以我想使用和另一个类来打印出不同类型的消息。我应该怎么办？

我使用命名空间`std`。我是新手，不熟悉 using namespace `std`。请指导我谢谢。

```
SparseException::SparseException ()
{ }

SparseException::SparseException (char *message)
{ }

void SparseException::printMessage () const
{ 
   // ... 
}

try
{
    //did some stuffs here.
}
catch (exception e)
{
    char *message = "Sparse Exception caught: Element not found, delete fail";
    SparseException s (message);
    s.printMessage();
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-15T13:12:47.577

派生您的异常类`std::exception`并覆盖`what()`. 删除您的功能`printMessage`并实施（覆盖）：

```
virtual const char* what() const throw(); 
```

在 C++11 中，此函数具有以下签名：

```
virtual const char* what() const noexcept; 
```

那么你的 catch 子句和异常原因的打印可以如下所示：

```
catch (const std::exception& e)
{
  std::cerr << "exception caught: " << e.what() << '\n';
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-11T19:52:37.283

或者如果你只想抛出你的异常，你可以简单地这样做：

```
SparseException::SparseException ()
{ }

SparseException::SparseException (char *message)
{ }

void SparseException::printMessage () const
{ 
   // ... 
}

try
{
    //did some stuffs here.
    //Possibly
    //throw SparseException();
    //or
    //throw SparseException("Some string");
    //Make sure you can throw only objects of SparseException type
}
catch (SparseException e)
{
    e.printMessage();
} 
```

如果执行了带有 throw 的行，则 try 块的结果将被终止并执行 catch 块，其中 e 是您抛出的对象。

# asp.net-mvc - 组合模型验证总结

> ID：14895509
> 
> 赞同：1
> 
> 时间：2013-02-15T13:10:48.967
> 
> 标签：asp.net-mvc, razor

这是我关于stackoverflow的第一个问题，所以如果我遗漏了什么，请善待。我有两种形式，每一种都链接到自己的操作（用于数据修改），并结合在一个视图中。目前，我正在使用部分模型和一个父模型，它由分配给表单的两个模型组成。

我的主视图看起来有点像这样：

```
@model ReportingUploadPortal.Models.ManageUserDataModel
@Html.Partial("_ChangePasswordPartial", Model.PasswordModel)
@Html.Partial("_ChangeEMailPartial",Model.EmailModel) 
```

我的父模型是这样的：

```
public class ManageUserDataModel
{
    public ChangeEmailModel EmailModel { get; set; }
    public LocalPasswordModel PasswordModel { get; set; }
} 
```

对于我的两个部分视图中的每一个（它们非常相似），我都会显示两次验证摘要信息。似乎验证信息与父模型相关，而不是与两个子模型中的每一个相关。

```
@using (Html.BeginForm("ChangeEmail", "Account")) {
@Html.AntiForgeryToken()
@Html.ValidationSummary()

<fieldset>
    <legend>Change your email</legend>
    <ol>
        <li>
            @Html.LabelFor(m => m.EMail)
            @Html.TextBoxFor(m => m.EMail)
        </li>
        <li>
            @Html.LabelFor(m => m.ConfirmEMail)
            @Html.TextBoxFor(m => m.ConfirmEMail)
        </li>
    </ol>
    <input type="submit" value="Change email" />
</fieldset> 
```

}

如何获得每个表单/模型的单独验证摘要？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-15T16:10:50.827

这`@Html.ValidationSummary()`只是一个总结。它实际上是模型上的错误列表。所以我相信每个模型都应该有自己的总结（对此不确定）。

我相信您会得到重复的摘要，因为您有这一行：`@Html.ValidationSummary()`在每个部分视图中的每个表单中。每次你有这一行时，它都会将整个摘要打印到页面上。您可以使用一些标志更改摘要的粒度，但也有使用整个摘要的替代方法，例如`@Html.ValidationMessage()`.

希望有帮助！

# c# - 编写 Switch 案例

> ID：14895516
> 
> 赞同：3
> 
> 时间：2013-02-15T13:11:13.210
> 
> 标签：c#, linq, switch-statement

任何人都可以建议我，有没有更好的方法来使用 Swich 案例或任何方式编写以下代码（谢谢大家在这里提出宝贵的建议我在 Linq 查询中使用它，我观察到它包含不同的产品名称的一些修改）

```
 from p in l_list
    where ((LicenceType == "Full" && SystemType == "Single") && p.ProductName != "Full DoubleProduct ")
       || ((LicenceType == "Full" && SystemType == "Multiple") && p.ProductName != "Full SingleProduct")
       || ((LicenceType == "Partial" && SystemType == "Single") && p.ProductName != "Locked DoubleProduct") 
       || ((LicenceType == "Partial" && SystemSize == "Multiple") && p.ProductName != "Locked SingleProduct")
       || ((LicenceType == "Locked" && SystemSize == "Single") && p.ProductName != "Locked DoubleProduct") 
       || ((LicenceType == "Locked" && SystemType == "Multiple") && p.ProductName != "Locked SingleProduct") 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-15T13:19:27.453

这种可怕的布尔条件描述了数据对象子集之间共享的一些共同质量。查明这种质量并给它一个描述性的名称。

然后，要么通过数据对象上的属性公开该数量的值，要么编写一个执行相同操作的扩展方法。最后，使用此访问器替换现有条件。

例如，如果质量的名称是“友好”，那么您可以这样做：

```
where model.IsFriendly // property 
```

或这个：

```
where model.IsFriendly() // extension method BusinessRules.IsFriendly(Model m) 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-15T13:21:29.897

看起来您可以通过“分解”许可证类型来简化表达式，并观察条件归结为更简单

```
(
(SystemType == "Single"   && p.ProductName != "DoubleProduct") ||
(SystemType == "Multiple" && p.ProductName != "SingleProduct")
) &&
(
LicenceType == "Full"  ||
LicenceType == "Partial" ||
LicenceType == "NotApplicable"
) 
```

如果没有`"Full"`, `"Partial"`, and以外的许可类型`"NotApplicable"`，则可以丢弃第二个子句作为最终条件

```
(SystemType == "Single"   && p.ProductName != "DoubleProduct") ||
(SystemType == "Multiple" && p.ProductName != "SingleProduct") 
```

**编辑：**一般来说，当你有复杂的多部分条件时，你能做的最好的就是提取常见的子表达式，并尝试减少条件的数量。根本问题是您试图用“线性”的代码表达具有多个维度的条件；这种“折叠”会导致代码难以阅读。

解决此问题的一种方法是在表格中“编码”您的条件，如下所示：

```
var conditions = new[] {
    new[] { "Full",          "Single",   "Full DoubleProduct"    }
,   new[] { "Full",          "Multiple", "Full SingleProduct"    }
,   new[] { "Partial",       "Single",   "Locked DoubleProduct"  }
,   new[] { "Partial",       "Multiple", "Locked SingleProduct"  }
,   new[] { "NotApplicable", "Single",    "Locked DoubleProduct" }
,   new[] { "NotApplicable", "Multiple", "Locked SingleProduct"  }
}; 
```

现在您可以在这样的条件下使用它：

```
Where (p => conditions.Any(cond =>
    cond[0] == p.LicenceType
 && cond[1] == p.SystemType
 && cond[2] != p.ProductName
)) 
```

这种方法的优点是条件是为程序的读者“列出”的，并且可以通过添加新行轻松扩展。`IQueryable`缺点是如果不将部分结果带入内存，您将无法再对源运行类似的查询。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-15T15:01:24.367

在 Linq 中，您可以调用外部函数。那么为什么不将“业务逻辑”移出查询呢？即你可以创建一个方法

```
bool IsLincensedForXXX(Product p) 
```

并在 LINQ 表达式中使用它：

```
from p in l_list where IsLincensedForXXX(p) 
```

我认为它更清洁，更易于维护和重复使用。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-15T13:20:25.923

您可以使用标志来指示对象或属性具有什么值。

```
[Flags]
enum MyEnum
{
    val1 = 0x01,
    val2 = 0x02,
    val3 = 0x04
} 
```

您可以使用按位运算符（&&、||）来检查值。见[这里](http://www.dotnetperls.com/enum-flags)。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-15T13:53:24.703

您可以将条件“编码”为数组（状态矩阵），然后使用 foreach/for 和标志。

`bash.d`已经使用位域给出了另一种可能的解决方案。如果你真的需要，你可以进一步**结合两者。**

我自己会避免使用重复的字符串（例如“Full”），而是将它们放在常量中以避免出错并提高可读性（有时）。

当操作数具有相同的优先级时，您也不需要使用括号，例如，`(a == b && c == d) && e == f`不需要括号。

最后但并非最不重要的一点是，您可以尝试反转逻辑，这可能会简化条件，例如`(a || b || c) = !(!a && !b && !c)`. 如果您正在处理可能条件的已知子集，这可能特别有用，然后您可以“优化”它。

# javafx - JavaFX ScrollPane - 如何使用一个滚动条滚动 2 个 ScrollPane？

> ID：14895517
> 
> 赞同：2
> 
> 时间：2013-02-15T13:11:14.173
> 
> 标签：javafx, scrollpane

我有左边和中间部分的 BorderPane，两者都是 ScrollPanes。如何使用一个滚动条（垂直）滚动它们。或者如何访问其中一个 ScrollBars ？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2016-02-29T10:02:45.663

@invariant 的答案对我不起作用。但是下面写的代码成功了。

```
ScrollPane sp1 = new ScrollPane();
ScrollPane sp2 = new ScrollPane();
sp1.hvalueProperty().bindBidirectional(sp2.hvalueProperty()); 
```

将两个组件相互绑定后，它们会一起水平滚动。它适用于垂直案例。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-15T15:51:28.750

您可以绑定 scrollpane1(sp1) vScrollBar 属性并将更改的值设置为其他滚动窗格 vScrollbar 属性。

示例代码：此代码在 Sp1 vScrollbar 位置更改时自动更改 SP2 vScrollbar 位置。

```
DoubleProperty vPosition = new SimpleDoubleProperty();
    vPosition.bind(sp1.vvalueProperty());
    vPosition.addListener(new ChangeListener() {
        @Override
        public void changed(ObservableValue arg0, Object arg1, Object arg2) {
             sp2.setVvalue((double) arg2);

        }
    }); 
```

**提示让一个滚动条滚动两个滚动窗格**：定义一个垂直滚动条，然后隐藏（可能将 opcaity 设置为零或其他什么..）两个滚动窗格的 vscrollbars。然后绑定到定义的滚动条更改，并将更改后的值设置为两个滚动窗格 vscrollbars，就像上面一样。

# google-ads-api - 广告组错误的 AdWords 倒计时脚本

> ID：14895520
> 
> 赞同：0
> 
> 时间：2013-02-15T13:11:32.600
> 
> 标签：google-ads-api

我正在尝试从[https://developers.google.com/adwords/scripts/docs/tutorials/countdown-sale实现倒计时脚本](https://developers.google.com/adwords/scripts/docs/tutorials/countdown-sale)

该脚本适用于单个广告组，但在尝试多个广告组时，我不断收到以下错误：

**TypeError：无法调用未定义的方法“setAdParam”。（第 9 行）**

我的完整脚本是：

```
// Date to use to find out how many days are remaining.
var END_DATE = new Date('February 24, 2013');
// Change this to the Ad Group you set up with text ads with AdParams.
var AD_GROUP_NAMES = ['AdGroup1', AdGroup2'];

function main() {
  var timeLeft = calculateTimeLeftUntil(END_DATE);
  var adGroups = getAdGroups(AD_GROUP_NAMES);

  while (adGroups.hasNext()) {
  var adGroup = adGroups.next();
  var keywords = adGroup.keywords().get();
    // We want to update {param1} to use our calculated days and {param2} for hours.
    keywords.setAdParam(1, timeLeft['days']); // HERE COMES THE ERROR
    keywords.setAdParam(2, timeLeft['hours']); 
  }
}

var DAY_IN_MILLISECONDS = 1000*60*60*24;

function calculateTimeLeftUntil(end) {
  var current = new Date();
  var timeLeft = {};
  var daysFloat = (end - current) / (DAY_IN_MILLISECONDS);
  timeLeft['days'] = Math.floor(daysFloat);
  timeLeft['hours'] = Math.floor(24 * (daysFloat - timeLeft['days']));
  return timeLeft;
}

function getAdGroups(names) {
  var predicateValues = "['" + names.join("','") + "']";
  Logger.log(predicateValues);
  return AdWordsApp.adGroups()
      .withCondition('Name IN ' + predicateValues)
      .withLimit(names.length)
      .get();
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-22T21:39:45.787

问题是您试图将广告参数设置为关键字迭代器，而不是单个关键字。

而不是这个

```
var keywords = adGroup.keywords().get();
// We want to update {param1} to use our calculated days and {param2} for hours.
keywords.setAdParam(1, timeLeft['days']); // HERE COMES THE ERROR 
```

尝试这个：

```
var keywords = adGroup.keywords().get();
while (keywords.hasNext()) {
  var keyword = keywords.next();
  // and now
  keyword.setAdParam(...);
} 
```

# c# - 从 XAML TextBox (Login_Page.xaml) 获取文本值并设置为 XAML TextBlock (Menu_Page.xaml)

> ID：14895522
> 
> 赞同：0
> 
> 时间：2013-02-15T13:11:42.963
> 
> 标签：c#, .net, xaml, microsoft-metro

我正在为 Windows 8 Modern UI 做一个在线游戏。我有 Login_Page XAML 文件，其中包含用于登录和密码的文本框。登录后来自 Login TextBox 的文本必须显示在另一个 XAML 文件 (Menu_Page.xaml) 中作为玩家的昵称，并且还会向服务器建议它是哪个玩家帐户来显示其他内容，例如：Experience、Level、Game_Rank。有人可以帮我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-15T15:25:21.780

如果您在每个客户端上只有一个播放器，您可以将用户类设置为静态类，然后从每个页面调用它。

例如

```
public static class Player
{
   public static string nickname{get; set;}
   //ect
} 
```

那么当你想使用它时。

```
Player.nickname = "myname"; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-15T15:30:58.987

您是否尝试过创建一个静态类来存储共享值，然后在需要时访问这些值。例如，您可以`SharedValues`使用 property创建一个静态类`UserName`。登录后，使用 设置用户名`SharedValues.UserName = "username"`。然后在 中`MenuPage`，只需获取用户名。即`this.textBlock.Text = Sharedvalues.UserName`。

共享值类：

```
public class SharedValues
{
    public static string UserName { get; set; }
} 
```

# java - 数组列表文本视图

> ID：14895523
> 
> 赞同：1
> 
> 时间：2013-02-15T13:11:49.647
> 
> 标签：java, android, arraylist, textview

我用 ArrayList 创建了一个 TextView，但输出没有显示任何文本，我做错了什么？xml 中定义了所有不同的视图，包括图像视图和多个文本视图，但我似乎无法让它显示任何文本。

文本项.java：

```
public class TextItem {
    private int imageId;
    private String description;
    private String description_real;
    private String openingtimes;
    private String openingtimes_real;
    private String prices;
    private String prices_real;

    public TextItem(int imageId, 
            String description, 
            String description_real, 
            String openingtimes, 
            String openingtimes_real, 
            String prices, 
            String prices_real) {
        this.imageId = imageId;
        this.description = description;
        this.description_real = description_real;
        this.openingtimes = openingtimes;
        this.openingtimes_real = openingtimes_real;
        this.prices = prices;
        this.prices_real= prices_real;

    }
    public int getImageId() {
        return imageId;
    }
    public void setImageId(int imageId) {
        this.imageId = imageId;
    }
    public String getdescription() {
        return description;
    }
    public void setDescription(String description) {
        this.description = description;
    }
    public String getdescription_real() {
        return description_real;
    }
    public void setdescription_real(String description_real) {
        this.description_real = description_real;
    }
    public String getopeningtimes(){
        return openingtimes;
    }
    public void setopeningtimes(String openingtimes) {
        this.openingtimes = openingtimes;
    }
    public String getopeningtimes_real(){
        return openingtimes_real;
    }
    public void setopeningtimes_real(String openingtimes_real) {
        this.openingtimes_real = openingtimes_real;
    }
    public String prices(){
        return prices;
    }
    public void setprices(String prices) {
        this.prices = prices;
    }
    public String getprices_real(){
        return prices_real;
    }
    public void setprices_real(String prices_real) {
        this.prices_real = prices_real;
    }
    @Override
    public String toString() {
        return description + "\n" + description_real + "/n" + "/n" +
                openingtimes + "\n" + openingtimes_real + "/n" + "/n" +
                prices + "\n" + prices_real + "/n" + "/n" ;
    }} 
```

空气.java：

```
public class Air extends Activity {

public static final String[] description = new String[] {"Lorem"};

public static final String[] description_real = new String[] {"Lorem"};

public static final String[] openingtimes = new String[] { "Lorem"};

public static final String[] openingtimes_real = new String[] {"Lorem"};

public static final String[] prices = new String[] { "Lorem"};

public static final String[] prices_real = new String[] {"Lorem"};

public static final Integer[] images = { 
        R.drawable.hotel };

    ImageView ImageView;
    TextView TextView;
    List<TextItem> TextItems;

    /** Called when the activity is first created. */
    @Override   
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.textview_item);

        TextItems = new ArrayList<TextItem>();
        for (int i = 0; i < description.length ; i++) {
            TextItem item = new TextItem(images[i], 
                    description[i], 
                    description_real[i], 
                    openingtimes[i], 
                    openingtimes_real[i],
                    prices[i],
                    prices_real[i]);
            TextItems.add(item);

    ImageView = (ImageView) findViewById(R.id.picture);
    TextView = (TextView) findViewById(R.id.description);
    TextView = (TextView) findViewById(R.id.description_real);
    TextView = (TextView) findViewById(R.id.openingtimes);
    TextView = (TextView) findViewById(R.id.openingtimes_real);
    TextView = (TextView) findViewById(R.id.prices);
    TextView = (TextView) findViewById(R.id.prices_real);

        }   
    }
} 
```

.xml：

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent" >
    <ImageView
        android:id="@+id/picture"
        android:layout_width="80dp"
        android:layout_height="80dp"
        android:contentDescription="@string/image"
        android:paddingLeft="10dp"
        android:paddingRight="10dp" />

    <TextView
        android:id="@+id/description"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_below="@+id/picture"
        android:paddingBottom="10dp"
        android:textColor="#000000"
        android:textSize="16sp"
        android:textStyle="bold" />

    <TextView
        android:id="@+id/description_real"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_below="@+id/description"
        android:paddingLeft="10dp"
        android:textColor="#666666"
        android:textSize="14sp" />

     <TextView
        android:id="@+id/openingtimes"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_below="@+id/description_real"
        android:paddingBottom="10dp"
        android:textColor="#000000"
        android:textSize="16sp"
        android:textStyle="bold" />

    <TextView
        android:id="@+id/openingtimes_real"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_below="@+id/openingtimes"
        android:paddingLeft="10dp"
        android:textColor="#666666"
        android:textSize="14sp" />
     <TextView
        android:id="@+id/prices"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_below="@+id/openingtimes_real"
        android:paddingBottom="10dp"
        android:textColor="#000000"
        android:textSize="16sp"
        android:textStyle="bold" />

    <TextView
        android:id="@+id/prices_real"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_below="@+id/prices"
        android:paddingLeft="10dp"
        android:textColor="#666666"
        android:textSize="14sp" />
</RelativeLayout> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-15T13:18:52.687

`textView.setText("SomeText")`不见了

你应该做这个

```
yourTextView.setText(textItem.getDescription) 
```

你也在一个循环中为同一个文本视图分配了许多值，这是错误的，你会`textItems`显示一个

### 代码

```
import java.util.ArrayList;
import java.util.List;

import android.app.Activity;
import android.os.Bundle;

public class StackActivity extends Activity {
    public static final String[] description = new String[] { "Lorem" };

    public static final String[] description_real = new String[] { "Lorem" };

    public static final String[] openingtimes = new String[] { "Lorem" };

    public static final String[] openingtimes_real = new String[] { "Lorem" };

    public static final String[] prices = new String[] { "Lorem" };

    public static final String[] prices_real = new String[] { "Lorem" };

    public static final Integer[] images = { R.drawable.ic_launcher };

    android.widget.ImageView ImageView;
    android.widget.TextView TextView;
    List<TextItem> TextItems;

    /** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);

        TextItems = new ArrayList<TextItem>();
        for (int i = 0; i < description.length; i++) {
            TextItem item = new TextItem(images[i], description[i],
                    description_real[i], openingtimes[i], openingtimes_real[i],
                    prices[i], prices_real[i]);
            TextItems.add(item);

            ImageView = (android.widget.ImageView) findViewById(R.id.picture);
            ImageView.setImageResource(TextItems.get(i).getImageId());
            TextView = (android.widget.TextView) findViewById(R.id.description);
            TextView.setText(TextItems.get(i).getdescription());
            TextView = (android.widget.TextView) findViewById(R.id.description_real);
            TextView.setText(TextItems.get(i).getdescription());
            TextView = (android.widget.TextView) findViewById(R.id.openingtimes);
            TextView.setText(TextItems.get(i).getopeningtimes());
            TextView = (android.widget.TextView) findViewById(R.id.openingtimes_real);
            TextView.setText(TextItems.get(i).getopeningtimes_real());
            TextView = (android.widget.TextView) findViewById(R.id.prices);
            TextView.setText(TextItems.get(i).prices());
            TextView = (android.widget.TextView) findViewById(R.id.prices_real);
            TextView.setText(TextItems.get(i).getprices_real());
            TextView.setText(TextItems.get(0).getdescription());
        }
    }
} 
```

![在此处输入图像描述](../Images/3c052d746f6844cd6e96d7f7a1fabb22.png)

# javascript - 如何从 JavaScript 中的 cityname/timezone 获取 timezoneid/date/time

> ID：14895526
> 
> 赞同：0
> 
> 时间：2013-02-15T13:12:01.753
> 
> 标签：javascript, date, time

我有一个时区列表（ubuntu 时区），我想要`timezoneid/date-time`使用 jQuery/JavaScript 的城市名称或国家名称组合。

请帮忙。

**Ubuntu时区列表：**

```
'Africa/Abidjan', 'Africa/Accra', 'Africa/Addis_Ababa', 'Africa/Algiers', 'Africa/Asmara', 'Africa/Bamako', 'Africa/Bangui', 'Africa/Banjul', 'Africa/Bissau', 'Africa/Blantyre', 'Africa/Brazzaville', 'Africa/Bujumbura', 'Africa/Cairo', 'Africa/Casablanca', 'Africa/Ceuta', 'Africa/Conakry', 'Africa/Dakar', 'Africa/Dar_es_Salaam', 'Africa/Djibouti', 'Africa/Douala', 'Africa/El_Aaiun', 'Africa/Freetown', 'Africa/Gaborone', 'Africa/Harare', 'Africa/Johannesburg', 'Africa/Juba', 'Africa/Kampala', 'Africa/Khartoum', 'Africa/Kigali', 'Africa/Kinshasa', 'Africa/Lagos', 'Africa/Libreville', 'Africa/Lome', 'Africa/Luanda', 'Africa/Lubumbashi', 'Africa/Lusaka', 'Africa/Malabo', 'Africa/Maputo', 'Africa/Maseru', 'Africa/Mbabane', 'Africa/Mogadishu', 'Africa/Monrovia', 'Africa/Nairobi', 'Africa/Ndjamena', 'Africa/Niamey', 'Africa/Nouakchott', 'Africa/Ouagadougou', 'Africa/Porto-Novo', 'Africa/Sao_Tome', 'Africa/Tripoli', 'Africa/Tunis', 'Africa/Windhoek', 'America/Adak', 'America/Anchorage', 'America/Anguilla', 'America/Antigua', 'America/Araguaina', 'America/Argentina/Buenos_Aires', 'America/Argentina/Catamarca', 'America/Argentina/Cordoba', 'America/Argentina/Jujuy', 'America/Argentina/La_Rioja', 'America/Argentina/Mendoza', 'America/Argentina/Rio_Gallegos', 'America/Argentina/Salta', 'America/Argentina/San_Juan', 'America/Argentina/San_Luis', 'America/Argentina/Tucuman', 'America/Argentina/Ushuaia', 'America/Aruba', 'America/Asuncion', 'America/Atikokan', 'America/Bahia', 'America/Bahia_Banderas', 'America/Barbados', 'America/Belem', 'America/Belize', 'America/Blanc-Sablon', 'America/Boa_Vista', 'America/Bogota', 'America/Boise', 'America/Cambridge_Bay', 'America/Campo_Grande', 'America/Cancun', 'America/Caracas', 'America/Cayenne', 'America/Cayman', 'America/Chicago', 'America/Chihuahua', 'America/Costa_Rica', 'America/Creston', 'America/Cuiaba', 'America/Curacao', 'America/Danmarkshavn', 'America/Dawson', 'America/Dawson_Creek', 'America/Denver', 'America/Detroit', 'America/Dominica', 'America/Edmonton', 'America/Eirunepe', 'America/El_Salvador', 'America/Fortaleza', 'America/Glace_Bay', 'America/Godthab', 'America/Goose_Bay', 'America/Grand_Turk', 'America/Grenada', 'America/Guadeloupe', 'America/Guatemala', 'America/Guayaquil', 'America/Guyana', 'America/Halifax', 'America/Havana', 'America/Hermosillo', 'America/Indiana/Indianapolis', 'America/Indiana/Knox', 'America/Indiana/Marengo', 'America/Indiana/Petersburg', 'America/Indiana/Tell_City', 'America/Indiana/Vevay', 'America/Indiana/Vincennes', 'America/Indiana/Winamac', 'America/Inuvik', 'America/Iqaluit', 'America/Jamaica', 'America/Juneau', 'America/Kentucky/Louisville', 'America/Kentucky/Monticello', 'America/Kralendijk', 'America/La_Paz', 'America/Lima', 'America/Los_Angeles', 'America/Lower_Princes', 'America/Maceio', 'America/Managua', 'America/Manaus', 'America/Marigot', 'America/Martinique', 'America/Matamoros', 'America/Mazatlan', 'America/Menominee', 'America/Merida', 'America/Metlakatla', 'America/Mexico_City', 'America/Miquelon', 'America/Moncton', 'America/Monterrey', 'America/Montevideo', 'America/Montreal', 'America/Montserrat', 'America/Nassau', 'America/New_York', 'America/Nipigon', 'America/Nome', 'America/Noronha', 'America/North_Dakota/Beulah', 'America/North_Dakota/Center', 'America/North_Dakota/New_Salem', 'America/Ojinaga', 'America/Panama', 'America/Pangnirtung', 'America/Paramaribo', 'America/Phoenix', 'America/Port-au-Prince', 'America/Port_of_Spain', 'America/Porto_Velho', 'America/Puerto_Rico', 'America/Rainy_River', 'America/Rankin_Inlet', 'America/Recife', 'America/Regina', 'America/Resolute', 'America/Rio_Branco', 'America/Santa_Isabel', 'America/Santarem', 'America/Santiago', 'America/Santo_Domingo', 'America/Sao_Paulo', 'America/Scoresbysund', 'America/Shiprock', 'America/Sitka', 'America/St_Barthelemy', 'America/St_Johns', 'America/St_Kitts', 'America/St_Lucia', 'America/St_Thomas', 'America/St_Vincent', 'America/Swift_Current', 'America/Tegucigalpa', 'America/Thule', 'America/Thunder_Bay', 'America/Tijuana', 'America/Toronto', 'America/Tortola', 'America/Vancouver', 'America/Whitehorse', 'America/Winnipeg', 'America/Yakutat', 'America/Yellowknife', 'Antarctica/Casey', 'Antarctica/Davis', 'Antarctica/DumontDUrville', 'Antarctica/Macquarie', 'Antarctica/Mawson', 'Antarctica/McMurdo', 'Antarctica/Palmer', 'Antarctica/Rothera', 'Antarctica/South_Pole', 'Antarctica/Syowa', 'Antarctica/Vostok', 'Arctic/Longyearbyen', 'Asia/Aden', 'Asia/Almaty', 'Asia/Amman', 'Asia/Anadyr', 'Asia/Aqtau', 'Asia/Aqtobe', 'Asia/Ashgabat', 'Asia/Baghdad', 'Asia/Bahrain', 'Asia/Baku', 'Asia/Bangkok', 'Asia/Beirut', 'Asia/Bishkek', 'Asia/Brunei', 'Asia/Choibalsan', 'Asia/Chongqing', 'Asia/Colombo', 'Asia/Damascus', 'Asia/Dhaka', 'Asia/Dili', 'Asia/Dubai', 'Asia/Dushanbe', 'Asia/Gaza', 'Asia/Harbin', 'Asia/Hebron', 'Asia/Ho_Chi_Minh', 'Asia/Hong_Kong', 'Asia/Hovd', 'Asia/Irkutsk', 'Asia/Jakarta', 'Asia/Jayapura', 'Asia/Jerusalem', 'Asia/Kabul', 'Asia/Kamchatka', 'Asia/Karachi', 'Asia/Kashgar', 'Asia/Kathmandu', 'Asia/Kolkata', 'Asia/Krasnoyarsk', 'Asia/Kuala_Lumpur', 'Asia/Kuching', 'Asia/Kuwait', 'Asia/Macau', 'Asia/Magadan', 'Asia/Makassar', 'Asia/Manila', 'Asia/Muscat', 'Asia/Nicosia', 'Asia/Novokuznetsk', 'Asia/Novosibirsk', 'Asia/Omsk', 'Asia/Oral', 'Asia/Phnom_Penh', 'Asia/Pontianak', 'Asia/Pyongyang', 'Asia/Qatar', 'Asia/Qyzylorda', 'Asia/Rangoon', 'Asia/Riyadh', 'Asia/Sakhalin', 'Asia/Samarkand', 'Asia/Seoul', 'Asia/Shanghai', 'Asia/Singapore', 'Asia/Taipei', 'Asia/Tashkent', 'Asia/Tbilisi', 'Asia/Tehran', 'Asia/Thimphu', 'Asia/Tokyo', 'Asia/Ulaanbaatar', 'Asia/Urumqi', 'Asia/Vientiane', 'Asia/Vladivostok', 'Asia/Yakutsk', 'Asia/Yekaterinburg', 'Asia/Yerevan', 'Atlantic/Azores', 'Atlantic/Bermuda', 'Atlantic/Canary', 'Atlantic/Cape_Verde', 'Atlantic/Faroe', 'Atlantic/Madeira', 'Atlantic/Reykjavik', 'Atlantic/South_Georgia', 'Atlantic/St_Helena', 'Atlantic/Stanley', 'Australia/Adelaide', 'Australia/Brisbane', 'Australia/Broken_Hill', 'Australia/Currie', 'Australia/Darwin', 'Australia/Eucla', 'Australia/Hobart', 'Australia/Lindeman', 'Australia/Lord_Howe', 'Australia/Melbourne', 'Australia/Perth', 'Australia/Sydney', 'Canada/Atlantic', 'Canada/Central', 'Canada/Eastern', 'Canada/Mountain', 'Canada/Newfoundland', 'Canada/Pacific', 'Europe/Amsterdam', 'Europe/Andorra', 'Europe/Athens', 'Europe/Belgrade', 'Europe/Berlin', 'Europe/Bratislava', 'Europe/Brussels', 'Europe/Bucharest', 'Europe/Budapest', 'Europe/Chisinau', 'Europe/Copenhagen', 'Europe/Dublin', 'Europe/Gibraltar', 'Europe/Guernsey', 'Europe/Helsinki', 'Europe/Isle_of_Man', 'Europe/Istanbul', 'Europe/Jersey', 'Europe/Kaliningrad', 'Europe/Kiev', 'Europe/Lisbon', 'Europe/Ljubljana', 'Europe/London', 'Europe/Luxembourg', 'Europe/Madrid', 'Europe/Malta', 'Europe/Mariehamn', 'Europe/Minsk', 'Europe/Monaco', 'Europe/Moscow', 'Europe/Oslo', 'Europe/Paris', 'Europe/Podgorica', 'Europe/Prague', 'Europe/Riga', 'Europe/Rome', 'Europe/Samara', 'Europe/San_Marino', 'Europe/Sarajevo', 'Europe/Simferopol', 'Europe/Skopje', 'Europe/Sofia', 'Europe/Stockholm', 'Europe/Tallinn', 'Europe/Tirane', 'Europe/Uzhgorod', 'Europe/Vaduz', 'Europe/Vatican', 'Europe/Vienna', 'Europe/Vilnius', 'Europe/Volgograd', 'Europe/Warsaw', 'Europe/Zagreb', 'Europe/Zaporozhye', 'Europe/Zurich', 'GMT', 'Indian/Antananarivo', 'Indian/Chagos', 'Indian/Christmas', 'Indian/Cocos', 'Indian/Comoro', 'Indian/Kerguelen', 'Indian/Mahe', 'Indian/Maldives', 'Indian/Mauritius', 'Indian/Mayotte', 'Indian/Reunion', 'Pacific/Apia', 'Pacific/Auckland', 'Pacific/Chatham', 'Pacific/Chuuk', 'Pacific/Easter', 'Pacific/Efate', 'Pacific/Enderbury', 'Pacific/Fakaofo', 'Pacific/Fiji', 'Pacific/Funafuti', 'Pacific/Galapagos', 'Pacific/Gambier', 'Pacific/Guadalcanal', 'Pacific/Guam', 'Pacific/Honolulu', 'Pacific/Johnston', 'Pacific/Kiritimati', 'Pacific/Kosrae', 'Pacific/Kwajalein', 'Pacific/Majuro', 'Pacific/Marquesas', 'Pacific/Midway', 'Pacific/Nauru', 'Pacific/Niue', 'Pacific/Norfolk', 'Pacific/Noumea', 'Pacific/Pago_Pago', 'Pacific/Palau', 'Pacific/Pitcairn', 'Pacific/Pohnpei', 'Pacific/Port_Moresby', 'Pacific/Rarotonga', 'Pacific/Saipan', 'Pacific/Tahiti', 'Pacific/Tarawa', 'Pacific/Tongatapu', 'Pacific/Wake', 'Pacific/Wallis', 'US/Alaska', 'US/Arizona', 'US/Central', 'US/Eastern', 'US/Hawaii', 'US/Mountain', 'US/Pacific', 'UTC' 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-17T07:17:19.490

得到了答案。

使用[http://pytz.sourceforge.net/](http://pytz.sourceforge.net/)我得到了 timezoneid/date-time。

# php - 在 public_html 或 httpdocs 之外访问

> ID：14895530
> 
> 赞同：2
> 
> 时间：2013-02-15T13:12:09.320
> 
> 标签：php

为了保护我的文件免受外部访问，我正在考虑将所有包含的文件放在 public_html 文件夹或 httpdocs 文件夹之外。

但是，[此评论](https://stackoverflow.com/questions/14670263/accessing-php-code-outside-public-html-folder#comment20505810_14670263)表示不应将任何内容保存在处理用户输入数据的公用文件夹之外。

对此最好和最理想的做法是什么？我的想法是让 .htaccess 点将所有内容路由到 index.php，并且 index.php 包括所有必需的文件，例如数据库连接和其他任何文件，还包括具有 HTML 和 PHP 的 .php 文件里面是页面的主体内容。

谁能告诉我这是否有什么问题，为什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-15T13:13:25.023

> 但是，此评论表示不应将任何内容保存在处理用户输入数据的公用文件夹之外。

该评论使用**直接**一词。包含间接处理数据。

> 我的想法是有一个 .htaccess

如果可能，最好在主配置文件中处理配置。`.htaccess`效率稍低（并且将配置分散在您的 webroot 中）。

> 将所有内容指向 index.php，index.php 包括所有必需的文件，例如数据库连接和其他任何文件，以及

[前端控制器模式](http://en.wikipedia.org/wiki/Front_Controller_pattern)是一种非常合理的方法。

> 包括 .php 文件，其中包含 HTML 和 PHP，用于页面的主体内容。

简单地包括它可能会开始造成一些混乱。我建议调查[MVC 模式](http://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller#Use_in_web_applications)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-15T13:14:12.697

您所指的评论说*直接*处理输入或输出的任何内容都不应位于文档根目录之外。

另一方面，将库代码放在根目录之外是非常好的。如果您将`index.php`其用作应用程序的单个入口点，那么除了该脚本之外，几乎唯一可以通过 Web 访问的东西就是您的资产（css、js、图像等）。

# actionscript-3 - 如何使用远程共享对象

> ID：14895533
> 
> 赞同：1
> 
> 时间：2013-02-15T13:12:20.977
> 
> 标签：actionscript-3, client-side, server-side, shared-objects

我正在尝试使用远程共享对象通过聊天应用程序的 sharedobject.send 方法在客户端和服务器之间发送数据消息。我真的很难理解这些文件。我尝试使用的代码根本不起作用。

有人可以向我展示相关的 API 调用吗？而且，仔细检查我的代码并告诉我我到底是不是错了？

谢谢你。

客户端

```
import flash.net.NetConnection;
import flash.events.NetStatusEvent;
import flash.events.SyncEvent;

var nc:NetConnection = new NetConnection();

nc.connect("rtmfp://fms/exampledomain");

nc.addEventListener(NetStatusEvent.NET_STATUS, netHandler);

function netHandler(event:NetStatusEvent):void {
    if (event.info.code == "NetConnection.Connect.Success") {
        trace("Your Connected");

        //Creating the sharedobject
        var my_so:SharedObject = SharedObject.getRemote("users", nc.uri, false);

        my_so.connect(nc);

        my_so.addEventListener(SyncEvent.SYNC, syncHandler);

        my_so.setProperty("users");

        my_so.setDirty("users");

        function syncHandler(event:SyncEvent):void {
            var changelist:Array = event.changeList;
        }

        my_so.send function sendMessage(str){ 
```

服务器端

```
application.onConnect(clientObj)() {
    application.acceptConnection(clientObj) {
        trace("connected up");
    }

    var my_so = SharedObject.getRemote("users", false);
    my_so.send("Hello user", "Its only a test");
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-22T03:37:48.597

编辑您的问题后，您的客户端示例中似乎缺少一些代码。

据我所知，您的示例不需要客户端代码即可工作。`send()`您可以直接从客户端调用该方法。但是要测试它是否有效，您需要连接两个客户端。

关于 your`NetConnection`或 your ，请确保在调用方法`SharedObject`之前添加事件侦听器。`connect()`

如果您想要实现的只是在客户端之间共享数据，那么您甚至不需要使用该`send()`方法，只需在共享对象上设置属性即可。但请注意以下事项：

```
my_so.setProperty("users"); 
```

实际上是删除密钥`users`，因为它与此相同：

```
my_so.setProperty("users", null); 
```

最后，您需要`setDirty()`在非常具体的情况下打电话，但不是在这种情况下。查看[此答案](https://stackoverflow.com/questions/14140864/sharedobject-send-method/15676823#15676823)以获取有关如何与 SharedObjects 共享数据的更详细示例

# java - 为什么我会收到 StringIndexOutOfBoundsException？

> ID：14895547
> 
> 赞同：-3
> 
> 时间：2013-02-15T13:12:53.290
> 
> 标签：java, string, java.util.scanner

我被困在这个项目中。有人可以帮我吗？我收到以下错误：

```
Exception in thread "main" java.lang.StringIndexOutOfBoundsException:
      String index out of range: 2
   at java.lang.String.substring(Unknown Source)
   at readFile.read(readFile.java:35)
   at readFile.main(readFile.java:90) 
```

我的代码：

```
import java.io.*;

import java.util.*;

//import java.lang.*;

public class readFile {

    private Scanner x;
    public String[][] a;
    public String temp;
    public int surahNumber;

    public void openFile()
    {
        try{
            x  = new Scanner(new File("C:\\en.ahmedali.txt"));
            a = new String[500][1000];
        }
        catch(Exception e){
            System.out.println("File Not Found");
        }

    }

    public void read()
    {

        int i = 1;
        int j = 1;
        String xy,tenToninetynie,three_digit,setsurahNumber1,setsurahNumber2,setsurahNumber3;

        while(x.hasNext())
        {
            a[i][j] = x.nextLine();
            temp = a[i][j];
            //System.out.println(temp);
            xy = temp.substring(1, 2);

            char[] charArray = xy.toCharArray();
            //System.out.println(xy);
            tenToninetynie = temp.substring(2, 3);
            char[] charArray1 = tenToninetynie.toCharArray();

            three_digit = temp.substring(3, 4);
            char[] charArray2 = three_digit.toCharArray();

            setsurahNumber1 = temp.substring(0, 1);
            setsurahNumber2 = temp.substring(0, 2);
            setsurahNumber3 = temp.substring(0, 3);

            if(charArray[0] == '|'){
                surahNumber = Integer.parseInt(setsurahNumber1);
                //System.out.println(surahNumber);
                if(surahNumber == i+1){
                    i++;
                    j = 0;
                }               
            }
            else if(charArray1[0] == '|'){
                surahNumber = Integer.parseInt(setsurahNumber2);
                //System.out.println(surahNumber);
                if(surahNumber == i+1){
                    i++;
                    j = 0;

                }
            }
            else if(charArray2[0] == '|'){
                surahNumber = Integer.parseInt(setsurahNumber3);
                //System.out.println(surahNumber);
                if(surahNumber == i+1){
                    //System.out.println("I See");
                    i++;
                    j = 0;              
                }
            }
            j++;
            //System.out.println(j);
            //break;

        }
    }
    void write()
    {
        System.out.println(a[75][1]);
    }

    public static void main(String args[])
    {
        readFile y = new readFile();
        y.openFile();
        y.read();
        y.write();
        //System.out.println(y.a[75][1]);
    }

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-15T13:36:07.117

en.ahmedali.txt 文件包含什么，可能它包含一些换行符，并且您正在尝试使用索引使用子字符串，而它不包含任何内容，因此您必须在调用 subString 之前先检查字符串的长度。

# c# - 检索 blob 文件名

> ID：14895548
> 
> 赞同：2
> 
> 时间：2013-02-15T13:12:57.237
> 
> 标签：c#, asp.net, azure, azure-blob-storage

所以我试图检索我在 blob 存储中的文件的详细信息。这个想法是客户要求将与他们特别相关的文档放置在他们的门户上。

这是一次迁移，当前文件以以下格式列在网格中：

文件名、文件大小、文件类型、下载链接。

我遇到的问题是检索 blob 属性。

这是我目前拥有的代码片段。

```
public void BindGridDocuments()
{
    var storageAccount = CloudStorageAccount.Parse(ConfigurationManager.ConnectionStrings["StorageConnection"].ConnectionString);
    var blobStorage = storageAccount.CreateCloudBlobClient();
    CloudBlobContainer container = blobStorage.GetContainerReference("documents");
    var documentCollection = container.ListBlobs();
    foreach (var document in documentCollection)
    {
        string filename = document.Uri.ToString();

    }
} 
```

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-02-15T13:26:52.400

试试这个代码。代码假定 blob 容器中的所有 blob 都是块 blob 类型。

# 存储客户端库 2.0：

```
 CloudStorageAccount storageAccount = CloudStorageAccount.DevelopmentStorageAccount;
        CloudBlobContainer blobContainer = storageAccount.CreateCloudBlobClient().GetContainerReference("images");
        var blobs = blobContainer.ListBlobs(null, true, BlobListingDetails.All).Cast<CloudBlockBlob>();
        foreach (var blockBlob in blobs)
        {
            Console.WriteLine("Name: " + blockBlob.Name);
            Console.WriteLine("Size: " + blockBlob.Properties.Length);
            Console.WriteLine("Content type: " + blockBlob.Properties.ContentType);
            Console.WriteLine("Download location: " + blockBlob.Uri);
            Console.WriteLine("=======================================");
        } 
```

# 存储客户端库 1.7：

```
 CloudStorageAccount storageAccount = CloudStorageAccount.DevelopmentStorageAccount;
        CloudBlobContainer blobContainer = storageAccount.CreateCloudBlobClient().GetContainerReference("images");
        var blobs = blobContainer.ListBlobs(new BlobRequestOptions()
            {
                BlobListingDetails = BlobListingDetails.All,
                UseFlatBlobListing = true,
            }).Cast<CloudBlockBlob>();
        foreach (var blockBlob in blobs)
        {
            Console.WriteLine("Name: " + blockBlob.Name);
            Console.WriteLine("Size: " + blockBlob.Properties.Length);
            Console.WriteLine("Content type: " + blockBlob.Properties.ContentType);
            Console.WriteLine("Download location: " + blockBlob.Uri);
            Console.WriteLine("=======================================");
        } 
```

# actionscript-3 - AS3 BitmapData threshold()：替换具有 alpha 的颜色？

> ID：14895553
> 
> 赞同：1
> 
> 时间：2013-02-15T13:13:19.577
> 
> 标签：actionscript-3, bitmapdata, threshold

嗨，我想用另一种颜色替换位图中的特定颜色。如果阈值颜色值没有 alpha，则 BitmapData.threshold() 函数可以正常工作。

```
var threshold:uint = 0xFF004d5e; //  this works, however if I use this  0x37004d5e, ie the same color with an alpha then it doesnt
var baseColour:uint = 0x3700c5e0;
var targetColour:uint = 0x37F38900;
var inputBitmapData:BitmapData = new BitmapData(200, 200, true, baseColour); 
inputBitmapData.fillRect(new Rectangle(10, 10, 180, 180), threshold); 
var input:Bitmap = new Bitmap(inputBitmapData); 
addChild(input); 

replaceColour(inputBitmapData,threshold,targetColour); 
function replaceColour(bitmapData:BitmapData,colorToReplace:uint, newColor:uint):void 
{ 
trace(" replaced:"+ bitmapData.threshold(bitmapData, new Rectangle(0, 0, bitmapData.width, bitmapData.height), new Point(), "==", colorToReplace, newColor, 0xFFFFFFFF)); 
} 
```

以上方法有效，除非您尝试更改具有 alpha 的颜色，否则它不会。即将*阈值*变量的值从**0xFF004d5e**更改为**0x37004d5e**，即更改具有 alpha 通道的颜色，然后它就不起作用了，但这就是我想要的！任何人都有任何想法，当阈值颜色具有 alpha 时，如何使 BitmapData.threshold() 函数工作？

# nhibernate - NHibernate 在更新时删除一对多关联中的 FK

> ID：14895558
> 
> 赞同：0
> 
> 时间：2013-02-15T13:13:31.613
> 
> 标签：nhibernate

首先，这是我的关系

```
<class name="ServiceStep">
<id name="Id">
  <generator class="guid.comb"/>
</id>
 <set name="AdditionalInfoRows" cascade="save-update" >
  <key column="ServiceStepId"/>
  <one-to-many class="AdditionalInfoRow"/>
</set> 
```

```
<class name="AdditionalInfoRow">
<id name="Id">
  <generator class="guid.comb"/>
</id>
<set name="AdditionalInfos" cascade="save-update" >
  <key column="AdditionInfoRowId"/>
  <one-to-many class="AdditionalInfo"/>
</set> 
```

现在，当我创建新的 ServiceStep 并将 AdditionalInfoRows 添加到其中时，一切正常并且正确持久。

问题在于更新。我加载 ServiceStep 并且 Set 正确加载了 AdditionalInfoRows。在我的应用程序中，我将新的 AdditionalInfoRows 添加到该集合中。然后我在 ServiceStep 上调用 SaveOrUpdate。新添加的 AdditionalInfoRows 已正确保留，但我的原始列表失去了连接。应该指向 ServiceStep 的 AdditionalInfoRows 中的 FK 被 NHibernate 设置为 NULL。

希望有人能指出我正确的方向。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-15T13:22:02.020

`AdditionalInfoRow`您可以尝试在映射中包含这样的内容：

```
<many-to-one name="ServiceStep" class="ServiceStep">
  <column name="ServiceStepId" not-null="true"/>
</many-to-one> 
```

看起来像，

```
<class name="AdditionalInfoRow">
    <id name="Id">
        <generator class="guid.comb"/>
    </id>
    <set name="AdditionalInfos" cascade="save-update" >
    <key column="AdditionInfoRowId"/>
        <one-to-many class="AdditionalInfo"/>
    </set>
    <many-to-one name="ServiceStep" class="ServiceStep">
        <column name="ServiceStepId" not-null="true"/>
    </many-to-one>
</class> 
```

# embedded-linux - 如何安装apt-get，raspbian

> ID：14895560
> 
> 赞同：1
> 
> 时间：2013-02-15T13:13:33.753
> 
> 标签：embedded-linux, raspbian, scratchbox

我正在scratchbox 中进行主机目标开发。并且 apt-get 没有安装在我的目标 raspbian 根文件系统中。

从这里用于 raspbian 的正确 apt-get 包是什么？
[http://www.apt-get.org/main/](http://www.apt-get.org/main/)

我应该对 apt-get 的 .deb 包使用 wget 命令吗？
[http://www.cyberciti.biz/tips/linux-wget-your-ultimate-command-line-downloader.html](http://www.cyberciti.biz/tips/linux-wget-your-ultimate-command-line-downloader.html)
[http://www.thegeekstuff.com/2009/09/the-ultimate-wget-download-guide -with-15-awesome-examples/#more-1885](http://www.thegeekstuff.com/2009/09/the-ultimate-wget-download-guide-with-15-awesome-examples/#more-1885)

dpkg 安装在我的目标的根文件系统中，我使用 whereis 命令检查了它

请提出建议，或者您能否提出一些安装 apt-get 本身的链接。我无法找到与之相关的东西。

任何答复将是可观的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-15T15:35:59.727

看起来也许[debian apt 包](http://wiki.debian.org/Apt)会让你到达那里。我以为 apt 只是 ubuntu 但[不是](http://www.apt-get.org/main/)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-02-26T16:31:47.233

安装 Putty.exe 并使用 putty 使用您的 raspbian 的 ip-adress 登录到您的 raspbian，您可以安装 apt-get！

安装以下内容：

```
sudo apt-get update;
sudo apt-get install gcc;
sudo apt-get install autoconf;
sudo apt-get install libtool;
sudo apt-get install pkg-config;
sudo apt-get install libselinux1-dev;
sudo apt-get install liblockdev1-dev;
sudo apt-get install gawk;
sudo apt-get install g++;
sudo apt-get install c++;
sudo apt-get install libgudev-1.0-dev;
sudo apt-get install libudev-dev;

mkdir -p $HOME/distr/libcec; 
wget -P $HOME/distr/libcec https://github.com/Pulse-Eight/libcec/archive/master.zip;
unzip $HOME/distr/libcec/master.zip -d $HOME/distr/libcec/;
cd $HOME/distr/libcec/libcec-master ./bootstrap;"
./configure --with-rpi-include-path=/opt/vc/include --with-rpi-lib-path=/opt/vc/lib --enable-rpi;
make;
sudo make install;
sudo apt-get install cec-utils;

sudo apt-get update
sudo apt-get dist-upgrade
sudo rpi-update
sudo reboot 
```

重新启动后，一切都是最新的，您再也没有问题了！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-15T15:52:35.400

Raspbian 常见问题解答在这里：[http ://www.raspbian.org/RaspbianFAQ](http://www.raspbian.org/RaspbianFAQ)

在其中，您可以获取 Rasbian 中包含的应用程序列表：

[http://archive.raspbian.org/raspbian/dists/wheezy/main/binary-armhf/Packages](http://archive.raspbian.org/raspbian/dists/wheezy/main/binary-armhf/Packages)

您可以在此处获取 Raspbian 软件包存档：

[http://archive.raspbian.org/raspbian/dists/wheezy/main/binary-armhf/Packages.gz](http://archive.raspbian.org/raspbian/dists/wheezy/main/binary-armhf/Packages.gz)

解压它，然后使用 dpkg 安装 apt-get。

# jquery - JQuery next() - 仅使用类获取下一个兄弟

> ID：14895564
> 
> 赞同：15
> 
> 时间：2013-02-15T13:13:46.800
> 
> 标签：jquery, class, next, siblings

我正在尝试创建类似网络手风琴的东西。

视觉示例：

```
[TITLE DIV 1]
[CONTENT DIV 1]
[TITLE DIV 2]
[CONTENT DIV 2]
[TITLE DIV 3]
[CONTENT DIV 3] 
```

我希望能够通过单击相应的“标题 Div”来切换（jquery 函数切换（））“内容 Div”。

我尝试了以下方法，但它不起作用。

[http://jsfiddle.net/Cs3YY/](http://jsfiddle.net/Cs3YY/)

HTML：

```
<div class="topSeparator"></div>
<div class="titleDiv">
    <h1>Title 1</h1>
</div>
<div class="bottomSeparator"></div>                 
<div class="contentDiv"><h2>Content 1</h2></div>

<div class="topSeparator"></div>
<div class="titleDiv">
    <h1>Title 2</h1>
</div>
<div class="bottomSeparator"></div>                 
<div class="contentDiv"><h2>Content 2</h2></div> 
```

查询：

```
$('.titleDiv').click(function() {       
        $(this).next('.contentDiv').toggle();
}); 
```

[http://jsfiddle.net/Cs3YY/](http://jsfiddle.net/Cs3YY/)

我会这样描述我的函数过程：

1.  当您单击具有名为“titleDiv”的类的元素时，请执行以下操作：

1.1。选择被点击的元素；

1.1.1。选择具有名为“contentDiv”的类的单击元素的下一个兄弟；

1.1.1.1。使函数 toggle() 作用于最后一个元素（使用名为“contentDiv”的类）；

看来我错了，或者我错过了一些东西。

.

*我包括 jquery 1.8.3（正确）。*

*这在使用 ID 而不是类时有效（我试图避免使用它们）。*

*我在 click 函数中放置了一个警报，它可以工作（问题就在里面）。*

* * *

## 回答 #1

> 赞同：38
> 
> 时间：2013-02-15T13:16:39.277

使用`.nextAll()`and`:first`获取下一个 contentDiv

```
 $(this).nextAll('.contentDiv:first').toggle(); 
```

在这里演示[http://jsfiddle.net/Cs3YY/1/](http://jsfiddle.net/Cs3YY/1/)

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-02-15T13:23:30.430

虽然，这是因为 next() 选择了底部分隔符。你可以使用这个技巧

```
$('.titleDiv').click(function() {       

    $(this).next().next().toggle();
}); 
```

[http://jsfiddle.net/Cs3YY/12/](http://jsfiddle.net/Cs3YY/12/)

# jsf - 表中的 JSF 链接未更新，排序未交换

> ID：14895569
> 
> 赞同：0
> 
> 时间：2013-02-15T13:14:14.373
> 
> 标签：jsf, javabeans, commandlink

我有一张桌子显示。当用户单击标题时，我希望表格自行重组，并根据所选标题进行排序。再次单击同一标题，交换排序顺序 在表格中，有几个命令链接。

现在，问题如下

1.  排序顺序的第一次更新发生，但再次单击标题不会交换顺序。
2.  刷新表时，链接的值已更改，但链接仍映射到先前存在的对象

* * *

代码：

桌子：

```
<h:form title="table">
<h:dataTable value="#{employee.employeeList}" var="a"
    styleClass="order-table" headerClass="order-table-header"
    rowClasses="order-table-odd-row,order-table-even-row"
    style="width:100%">
<h:column>
<f:facet name="header"><h:commandLink value="Number" action="#{employee.sortByNumber()}" /></f:facet>
<h:commandLink value="#{a.number}" action="#{employee.setEmp(a)}" />
</h:column>
...
...
...
</h:dataTable>
</h:form> 
```

员工豆：

```
public String filter = ""; //has getters and setters
public String order = ""; //has getters and setters
public static final String ORDER_ASCENDING = "asc";
public static final String ORDER_DESCENDING = "desc";
public static final String FILTER_NUMBER = "number";

public void sortByNumber(){
        if(filter.equals(FILTER_NUMBER)){
            swapOrder();
        }else{
            filter = FILTER_NUMBER;
            order = ORDER_ASCENDING;
        }
        refreshPage();
    }
public void swapOrder(){
        if(order.equals(ORDER_ASCENDING)){
            order = ORDER_DESCENDING;
        }else{
            order = ORDER_ASCENDING;
        }
    }
public void refreshPage(){
        FacesContext context = FacesContext.getCurrentInstance();
        String viewId = context.getViewRoot().getViewId();
        ViewHandler handler = context.getApplication().getViewHandler();
        UIViewRoot root = handler.createView(context, viewId);
        root.setViewId(viewId);
        context.setViewRoot(root);
    }

public String setEmp(Employee employee) {
        this.employee = employee;
        return "details"; //redirects to the details page where the employee set in  the previous line is used
    } 
```

# http - IIS 6.0 中 MVC 3 应用程序的仅 HTTPS 登录屏幕

> ID：14895572
> 
> 赞同：1
> 
> 时间：2013-02-15T13:14:19.390
> 
> 标签：http, iis, https

我在 IIS 6.0 中部署了我的 MVC 3 应用程序。我只需要为登录页面和http中的其他页面设置https。我检查了 IIS 中的 Require SSL 复选框，但此设置使我的所有页面都为 https。我是否需要在 IIS 中配置其他内容才能完成这项工作？

# jquery-mobile - jquery mobile datebox拦截日期选择点击

> ID：14895573
> 
> 赞同：0
> 
> 时间：2013-02-15T13:14:20.460
> 
> 标签：jquery-mobile, backbone.js, datebox

我在 http://dev.jtsage.com/jQM-DateBox2/demos/fullopt.html 使用 jquery mobile datebox 特别是我在[http://dev.jtsage.com/cdn/datebox/](http://dev.jtsage.com/jQM-DateBox2/demos/fullopt.html) 使用 calbox[选项1.1.0/jqm-datebox-1.1.0.mode.calbox.js](http://dev.jtsage.com/cdn/datebox/1.1.0/jqm-datebox-1.1.0.mode.calbox.js)

我需要拦截当您单击某一天时触发的单击事件，然后执行一些自定义操作（例如更改该日期的背景颜色）。这样做的最佳方法是什么？我尝试为元素 $('div.ui-datebox-griddate.ui-corner-all.ui-btn-up-d') 注册一个单击事件，但这似乎不起作用。

我正在使用backbonejs，并且coffeescript中类的相关部分看起来像（SimpleView扩展Backbone.View）：

```
class A extend SimpleView
  ....
  events: {    
    'click div.ui-datebox-griddate.ui-corner-all.ui-btn-up-d': "clicked"  
  }  

  clicked: (event) ->
    console.log 'clicked' 
```

上面的方法不起作用，而且这可能不是做我想做的最好的方法，因为它依赖于内部类名来创建点击事件。

提前致谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-16T04:48:19.543

Datebox 触发一个名为“datebox”的自定义事件（足够有创意）。单击一天时会触发该事件三次，但更重要的是，它会将第二个参数传递给包含有关单击日期的详细信息的事件。

试一试：

```
....
events: {
    'datebox' : 'clicked'
},

clicked: function(e, eventDetail) {
    // Of the three event triggers, "method" varies, so I checked for "set"
    if (eventDetail.method == "set") {
        var jsDateObj = eventDetail.date;
        console.log(jsDateObj);
    }
}
.... 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-15T14:19:38.050

我想我找到了一种方法来做到这一点。而不是在“day”元素上创建一个点击 - 在日历附加到的输入日期字段上创建一个。从那里您可以获取内容并将其用作过滤器以获取正确的日历日元素，此时您可以使用 css 样式做任何您想做的事情。相关代码片段如下...

```
class A extend SimpleView
  ....
   events: {    
     'change #mydate': "clicked"  
   }   
   clicked: (event) ->
     t = $(event.target)
     day = t.data('datebox').theDate.getDate()
     dayFilter= "div.ui-datebox-griddate.ui-corner-all:contains('#{day}')"
     $(dayFilter).filter( ->
       thisDay = parseInt($(@).text())
       if thisDay == day
         # do your css magic here
     ) 
```

# batch-file - .CMD 脚本在多个文件中查找和替换文本

> ID：14895575
> 
> 赞同：0
> 
> 时间：2013-02-15T13:14:28.370
> 
> 标签：batch-file, replace, find, cmd

在这里对新手编程有点麻烦。我对 .cmd 或 .bat 文件等几乎一无所知，但我明白 .cmd 是我目前正在进行的一个小项目的方法。基本上，我希望分发一个文件，该文件在执行时会更改与 .cmd 文件位于同一文件夹中的两个单独的 .ini 文件中的两个非常特定的行。

对于 NewGame.ini，我非常希望更改以下行：

FullHealthLimit = 1000

...到...

FullHealthLimit = 9999

对于 NewGameUI.ini，我希望更改以下行：

m_PosOffset=(X=25,Y=-99)

...到...

m_PosOffset=(X=-9999,Y=-9999)

就是这样。我只需要一个可执行文件来执行两项（希望是）非常基本的任务。原因是我和我的朋友真的很喜欢修改某些视频游戏，但希望更容易分发文件。

老实说：我在尝试实施其他主题的解决方案并使其适合我的情况时遇到了很多麻烦（主要是因为等号的存在导致悲伤）我开始怀疑它是否甚至可能的。我在我的智慧尽头，我告诉你！;)

如果有人可以为我提供必要的代码，准备好放入文本文件并保存为 .cmd 文件或其他文件，那么我将永远感激不尽。我只希望我和我的小圈子能够在我们卑微的社区中分发我们的小模组。

非常感谢您阅读并希望能了解我的困境！我真的很感激任何和所有的帮助。干杯!

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-15T19:25:02.140

这里有一些代码应该可以解决问题。不过我还没有测试过它，所以你必须试一试，看看它做了什么——如果有任何异常，然后再报告。只需将`Fix.bat`文件与两个 INI 文件放在同一个文件夹中，然后从`cmd`提示符（从文件所在的目录中）运行它。

## 修复.bat

```
@echo off

for /f "eol= delims=" %%i in (NewGame.ini) do (
  if "%%i"=="FullHealthLimit = 1000" (
    echo FullHealthLimit = 9999>> NewGame2.ini
  ) else (
    echo %%i>> NewGame2.ini
  )
)

echo [Unreal.Game_MaxAmmo]>>NewGame2.ini
echo p_zApplyOffset=true>>NewGame2.ini
echo p_zPosOffset=(X=-500,Y=-333)>>NewGame2.ini

:: Once you know it works, move the '::' from the next line to the first 'ren' line
::del NewGame.ini
ren NewGame.ini OldNewGame.ini
ren NewGame2.ini NewGame.ini

for /f "eol= delims=" %%i in (NewGameUI.ini) do (
  if "%%i"=="m_PosOffset=(X=25,Y=-99)" (
    echo m_PosOffset=^(X=-9999,Y=-9999^)>> NewGameUI2.ini
  ) else (
    echo %%i>> NewGameUI2.ini
  )
)

:: Once you know it works, move the '::' from the next line to the first 'ren' line
::del NewGameUI.ini
ren NewGameUI.ini OldNewGameUI.ini
ren NewGameUI2.ini NewGameUI.ini 
```

您可以看到它不会以任何方式更改您的原始文件，并且为了安全起见`.ini`，它会将它们重命名为。`OldNewGame.ini``OldNewGamUI.ini`

# java - 用java用正则表达式查找子字符串

> ID：14895576
> 
> 赞同：0
> 
> 时间：2013-02-15T13:14:44.143
> 
> 标签：java, regex

我需要在句子“Hello, call me XXX.”中找到一个子字符串。这句话可能真的很长，唯一能帮助我识别名字是什么的事实是 name 总是在 fromat 中`"call me"+space+name"+dot`。尽管如此，这句话也可能看起来像`hello, call me. call me xxx.`

```
Call me John. ⇒ John

Call me Call me John. ⇒ prohibited - confusing

Call me. Call me John. ⇒ John

Call me  Call me John. ⇒ John

Call me Peter .Call me John. ⇒ John

Call me Peter. Call me John. ⇒ prohibited - more then one name... 
```

名称可以是除 \r、\n、\0 和点之外的任何字符序列。

如果有人可以帮助我定义正则表达式，我将不胜感激。我试图弄清楚两个多小时，但没有任何成功......

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-15T13:17:12.740

正则表达式应该适合你：

```
"(?<=call me )[^.]*" 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-15T13:23:00.853

假设名称不能包含空格：

```
String string = "Call me Peter .Call me John.";
Matcher matcher = Pattern.compile ("Call me ([^\r\n\0\\. ]+)\\.").matcher (string);
if (matcher.find ())
{
    String name = matcher.group (1);
    if (matcher.find ()) throw new Exception ("Prohibited: too many matches!");
    System.out.println (name);
}
else throw new Exception ("Prohibited: no matches!"); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-15T13:19:43.243

像这样的东西： `.*Call\ me\ (.[\w]+).?`

在线检查它是否满足您的所有要求：[http ://www.rubular.com/](http://www.rubular.com/)

# qt - google-bigquery 如何使用 https 获取数据集列表？

> ID：14895588
> 
> 赞同：3
> 
> 时间：2013-02-15T13:15:18.763
> 
> 标签：qt, google-bigquery

我正在尝试使用 https get 从 bigquery 网络服务器获取数据集列表

遵循此处的文档： [https ://developers.google.com/bigquery/docs/reference/v2/datasets/list](https://developers.google.com/bigquery/docs/reference/v2/datasets/list)

我正在使用稍微修改过的代码：
[http ://code.google.com/p/qt-google-bigquery/source/browse/manager_bigquery.cpp](http://code.google.com/p/qt-google-bigquery/source/browse/manager_bigquery.cpp)

```
getDatasetsList(QString strProjectID)
{
QString url = QString("https://www.googleapis.com/bigquery/v2/projects/%1/datasets?key=%2").arg(str_ProjectID).arg(this->api_key);
//Also tried without ?key= part

QNetworkRequest request;
request.setUrl( QUrl(url) );    //this also urlencodes
request.setRawHeader("Content-Type", "application/json");
request.setRawHeader("Authorization", (QString("Bearer %1").arg(m_Access_Token)).toLatin1());

//here i post the request as a http get asynchronously
} 
```

我收到此错误消息：

```
Reply =  "{
 "error": {
  "errors": [
   {
    "domain": "global",
    "reason": "required",
    "message": "Required parameter is missing"
   }
  ],
  "code": 400,
  "message": "Required parameter is missing"
 }
} 
```

注意：
我设法运行查询并获得结果，所以我的访问令牌似乎是有效的，我在这里做错了什么？

解决了

啊，实际上问题在于我的编码，而不是请求，我将其发布为 http 帖子，而不是 get。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T00:22:25.963

请参阅上面原始海报的评论中的答案 - 但基本上确保您使用 GET 而不是 POST 方法进行 API 调用以列出数据集。其他 BigQuery API 方法使用 POST、PUT 或 PATCH。

[https://developers.google.com/bigquery/docs/reference/v2/datasets/list](https://developers.google.com/bigquery/docs/reference/v2/datasets/list)

# ruby - '+' 无法将 Fixnum 转换为字符串 (TypeError)

> ID：14895594
> 
> 赞同：16
> 
> 时间：2013-02-15T13:15:50.580
> 
> 标签：ruby

我遇到了一个“无法将 Fixnum 转换为 String (TypeError)”的错误，虽然它看起来很简单，但我不确定如何解决它。我认为我的逻辑是合理的——将输入的字符串变量转换为整数，然后执行基本操作——但显然我错过了一些关键信息。

```
puts 'What is your favourite number?'
favenum = gets.chomp
better = favenum.to_i + 1
puts 'Yeah '+favenum+' is nice enough but '+better+' is bigger and better by far! Think on.' 
```

已尝试寻找答案，但目前存在相同错误的示例远远超出了我的基本 ruby​​ 技能。

* * *

## 回答 #1

> 赞同：49
> 
> 时间：2013-02-15T13:18:51.053

当对象是方法中的操作数时，Ruby（与其他一些语言不同）不会将对象转换为字符串`String#+`。手动转换为字符串：

```
puts 'Yeah ' + favenum.to_s + ' is nice enough but ' + better.to_s + ' is bigger and better by far!' 
```

或使用字符串插值（注意双引号）：

```
puts "Yeah #{favenum} is nice enough but #{better} is bigger and better by far!" 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-02-15T13:19:43.723

尝试使用字符串插值，如下所示：

```
puts "Yeah #{favenum} is nice enough but #{better} is bigger and better by far! Think on." 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-09-17T08:26:08.377

根据您正在遵循的教程

```
puts 'Please enter your favourite number: '
number = gets.chomp
imp = number.to_i + 1
puts 'I\'d say '.to_s + imp.to_s + ' is a much better number.' 
```

在初学者水平上产生“正确”的结果。

# python - 在列表中的特定索引处插入元素并返回更新后的列表

> ID：14895599
> 
> 赞同：148
> 
> 时间：2013-02-15T13:16:03.100
> 
> 标签：python, python-2.7, list, insert

我有这个：

```
>>> a = [1, 2, 4]
>>> print a
[1, 2, 4]

>>> print a.insert(2, 3)
None

>>> print a
[1, 2, 3, 4]

>>> b = a.insert(3, 6)
>>> print b
None

>>> print a
[1, 2, 3, 6, 4] 
```

有没有办法我可以得到更新的列表作为结果，而不是更新原始列表？

* * *

## 回答 #1

> 赞同：120
> 
> 时间：2013-02-15T13:23:50.520

`l.insert(index, obj)`实际上并没有返回任何东西。它只是更新列表。

正如 ATO 所说，你可以做到`b = a[:index] + [obj] + a[index:]`。但是，另一种方法是：

```
a = [1, 2, 4]
b = a[:]
b.insert(2, 3) 
```

* * *

## 回答 #2

> 赞同：82
> 
> 时间：2018-01-07T17:42:50.827

## 最高效的方法

您还可以使用列表中的*切片索引*插入元素。例如：

```
>>> a = [1, 2, 4]
>>> insert_at = 2  # Index at which you want to insert item

>>> b = a[:]   # Created copy of list "a" as "b".
               # Skip this step if you are ok with modifying the original list

>>> b[insert_at:insert_at] = [3]  # Insert "3" within "b"
>>> b
[1, 2, 3, 4] 
```

为了**在给定的索引处插入多个元素**，您需要做的就是使用`list`要插入的多个元素中的一个。例如：

```
>>> a = [1, 2, 4]
>>> insert_at = 2   # Index starting from which multiple elements will be inserted

# List of elements that you want to insert together at "index_at" (above) position
>>> insert_elements = [3, 5, 6]

>>> a[insert_at:insert_at] = insert_elements
>>> a   # [3, 5, 6] are inserted together in `a` starting at index "2"
[1, 2, 3, 5, 6, 4] 
```

要了解更多关于*切片索引*的信息，可以参考：[理解切片表示法](https://stackoverflow.com/a/509295/2063361)。

**注意：**在 Python 3.x 中，*切片索引*和切片索引之间的性能差异*`list.index(...)`*显着降低，并且两者几乎相等。但是，在 Python 2.x 中，这种差异非常明显。我在这个答案后面分享了性能比较。

* * *

**使用列表理解的替代方案** *（但在性能方面非常慢）*：

作为替代方案，它也可以使用*列表推导*来实现[`enumerate`](https://docs.python.org/3.3/library/functions.html#enumerate)。*（但请不要这样做。这只是为了说明）*：

```
>>> a = [1, 2, 4]
>>> insert_at = 2

>>> b = [y for i, x in enumerate(a) for y in ((3, x) if i == insert_at else (x, ))]
>>> b
[1, 2, 3, 4] 
```

* * *

## 所有解决方案的性能比较

这[`timeit`](https://docs.python.org/3/library/timeit.html)是所有答案与 Python 3.9.1 和 Python 2.7.16 上的 1000 个元素列表的比较。答案按两个 Python 版本的性能顺序列出。

### 蟒蛇 3.9.1

1.  [](https://stackoverflow.com/a/48139870/2063361)*我使用切片插入[*的答案*](https://stackoverflow.com/a/48139870/2063361)*- 最快（每循环 2.25 微秒）**

     *```
    python3 -m timeit -s "a = list(range(1000))" "b = a[:]; b[500:500] = [3]"
    100000 loops, best of 5: 2.25 µsec per loop 
    ```* 
**   [*Rushy Panchal 的回答*](https://stackoverflow.com/a/14895767/2063361)最多票数使用`list.insert(...)`- Second *(2.33 µsec per loop)*

    ```
    python3 -m timeit -s "a = list(range(1000))" "b = a[:]; b.insert(500, 3)"
    100000 loops, best of 5: 2.33 µsec per loop 
    ```

    *   [*ATOzTOA 接受*](https://stackoverflow.com/a/14895600/2063361)的基于切片列表合并的答案 - 第三*（每个循环 5.01 微秒）*

    ```
    python3 -m timeit -s "a = list(range(1000))" "b = a[:500] + [3] + a[500:]"
    50000 loops, best of 5: 5.01 µsec per loop 
    ```

    *   [](https://stackoverflow.com/a/48139870/2063361)*我对*列表理解*[*的回答*](https://stackoverflow.com/a/48139870/2063361)和`enumerate`- 第四*（非常慢，每个循环 135 微秒）**

     *```
    python3 -m timeit -s "a = list(range(1000))" "[y for i, x in enumerate(a) for y in ((3, x) if i == 500 else (x, )) ]"
    2000 loops, best of 5: 135 µsec per loop 
    ```** 

 **### Python 2.7.16

1.  [](https://stackoverflow.com/a/48139870/2063361)*我使用切片插入[*的答案*](https://stackoverflow.com/a/48139870/2063361)*- 最快（每循环 2.09 微秒）**

     *```
    python -m timeit -s "a = list(range(1000))" "b = a[:]; b[500:500] = [3]"
    100000 loops, best of 3: 2.09 µsec per loop 
    ```* 
**   [*Rushy Panchal 的回答*](https://stackoverflow.com/a/14895767/2063361)最多票数使用`list.insert(...)`- Second *(2.36 µsec per loop)*

    ```
    python -m timeit -s "a = list(range(1000))" "b = a[:]; b.insert(500, 3)"
    100000 loops, best of 3: 2.36 µsec per loop 
    ```

    *   [*ATOzTOA 接受*](https://stackoverflow.com/a/14895600/2063361)的基于切片列表合并的答案 - 第三*（每个循环 4.44 微秒）*

    ```
    python -m timeit -s "a = list(range(1000))" "b = a[:500] + [3] + a[500:]"
    100000 loops, best of 3: 4.44 µsec per loop 
    ```

    *   [](https://stackoverflow.com/a/48139870/2063361)*我对*列表理解*[*的回答*](https://stackoverflow.com/a/48139870/2063361)和`enumerate`- 第四*（非常慢，每个循环 103 微秒）**

     *```
    python -m timeit -s "a = list(range(1000))" "[y for i, x in enumerate(a) for y in ((3, x) if i == 500 else (x, )) ]"
    10000 loops, best of 3: 103 µsec per loop 
    ```** 

 *** * *

## 回答 #3

> 赞同：45
> 
> 时间：2013-02-15T13:16:03.100

我得到的最短的：`b = a[:2] + [3] + a[2:]`

```
>>>
>>> a = [1, 2, 4]
>>> print a
[1, 2, 4]
>>> b = a[:2] + [3] + a[2:]
>>> print a
[1, 2, 4]
>>> print b
[1, 2, 3, 4] 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2020-07-29T14:40:11.687

最干净的方法是复制列表，然后将对象插入到副本中。在 Python 3 上，这可以通过以下方式完成`list.copy`：

```
new = old.copy()
new.insert(index, value) 
```

在 Python 2 上，可以通过以下方式复制列表`new = old[:]`（这也适用于 Python 3）。

在性能方面，与其他提议的方法没有区别：

```
$ python --version
Python 3.8.1
$ python -m timeit -s "a = list(range(1000))" "b = a.copy(); b.insert(500, 3)"
100000 loops, best of 5: 2.84 µsec per loop
$ python -m timeit -s "a = list(range(1000))" "b = a.copy(); b[500:500] = (3,)"
100000 loops, best of 5: 2.76 µsec per loop 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2021-10-03T14:18:15.613

这是添加单个项目的方法，特定索引连接列表中的单个项目与另一个列表

```
>>> expences = [2200, 2350, 2600, 2130, 2190]
>>> expences.append(1980)
>>> expences
[2200, 2350, 2600, 2130, 2190, 1980]

>>> expences.insert(1, 1200)

>>> expences
[2200, 1200, 2350, 2600, 2130, 2190, 1980]

>>> newElm = [2550, 2123, 2430]
>>> expences.extend(newElm)
>>> expences
[2200, 1200, 2350, 2600, 2130, 2190, 1980, 2550, 2123, 2430]
>>> 
```

* * *

## 回答 #6

> 赞同：-2
> 
> 时间：2018-01-09T06:40:46.427

使用[Python 列表 insert() 方法](https://www.tutorialspoint.com/python/list_insert.htm)。用法：

> ＃句法

> insert() 方法的语法 -</p>

> `list.insert(index, obj)`

> ＃参数

*   index - 这是需要插入对象 obj 的索引。
*   obj - 这是要插入给定列表的对象。

> #Return Value 此方法不返回任何值，但它在给定索引处插入给定元素。

例子：

```
a = [1,2,4,5]

a.insert(2,3)

print(a) 
```

退货`[1, 2, 3, 4, 5]`****

# xpath - xpath：从当前元素属性中的标识符中查找属性值

> ID：14895601
> 
> 赞同：0
> 
> 时间：2013-02-15T13:16:06.263
> 
> 标签：xpath

我有一个如下所示的 XML 结构：

```
<document>
<body>
<section>
<title>something</title>
<subtitle>Something again</subtitle>
<section>
<p xml:id="1234">Some text</p>
</section>
</section>
<section>
<title>something2</title>
<subtitle>Something again2</subtitle>
<section>
<p xml:id="12345678">Some text2</p>
<p getelement="1234"></p>
</section>
</section>
</body>
</document> 
```

我想搜索“getelement”中定义的属性值。我在这里从一个友好的灵魂那里得到了这段代码：

```
//section[section/p[@xml:id=@getelement]]/subtitle 
```

但它不起作用，我不能使用 current()，因为 Arbortext 不支持它。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-15T13:24:18.967

您正在比较同一元素的属性，但事实并非如此。你必须找到`getelement`：

```
//section[section/p[@xml:id=//@getelement]]/subtitle 
```

另请注意，`xml:id`属性不能以数字开头。

# c# - DataGridView XElement 通过文本框文本过滤

> ID：14895603
> 
> 赞同：1
> 
> 时间：2013-02-15T13:16:08.100
> 
> 标签：c#, wpf, xml, linq, datagridview

这是我的“项目”：

![项目](../Images/bb4cb3e0aee04523e8bb54fed3cf3b5f.png)

我想要做的是将外部 .xml 文件中的数据加载到 DataGrid 中：

```
XElement Persons = XElement.Load(@"d:\persons.xml");
dataGrid1.DataContext = Persons; 
```

它工作得很好，但这是一个我无法弄清楚的问题：在 DataGrid 的顶部，您可以看到 TextBox，所以我需要使用 textBox1.text 作为 DataGrid 的数据过滤器。假设如果用户输入字母“a”，在 DataGriw 中我们应该只看到 2 行，名称为 pAul 和行为国家 russiA，因为两行的数据中都包含字母“a”。如果您还可以帮助我包含和排除某些列的搜索能力，那就太好了。最后，如果用户点击他使用搜索按钮找到的行 - 来自销售的数据应放置在右侧的标签中。我也很高兴知道如何加载实际未显示在 DataGrid 中的所选行的数据。假设在 xml 文件中我们有关于薪水的数据，但是我们没有在 DataGrid 中显示它，当用户进行行选择时，我们需要将它加载到第 4 个标签。这是我的 XAML：

```
<Window x:Class="WpfApplication1.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    Title="MainWindow" Height="679" Width="1137">
<Grid Height="645" Name="grid1" Width="1119">
    <DataGrid Height="300" ItemsSource="{Binding Path=Elements[person]}" Margin="26,42,839,297" Name="dataGrid1" Width="250">
        <DataGrid.Columns>
            <DataGridTextColumn Binding="{Binding Path=Element[name].Value}" Header="Name" />
            <DataGridTextColumn Binding="{Binding Path=Element[country].Value}" Header="Country" />
            <DataGridTextColumn Binding="{Binding Path=Element[age].Value}" Header="Age" />
        </DataGrid.Columns>
    </DataGrid>
    <TextBox Height="24" HorizontalAlignment="Left" Margin="26,12,0,0" Name="textBox1" VerticalAlignment="Top" Width="250" />
    <Label Content="Name goes here on row select" Height="28" HorizontalAlignment="Left" Margin="307,28,0,0" Name="label1" VerticalAlignment="Top" Width="188" />
    <Label Content="Country goes here on row select" Height="28" HorizontalAlignment="Left" Margin="307,72,0,0" Name="label2" VerticalAlignment="Top" Width="188" />
    <Label Content="Age goes here on row select" Height="28" HorizontalAlignment="Left" Margin="307,120,0,0" Name="label3" VerticalAlignment="Top" Width="188" />
</Grid> 
```

请像绝对初学者一样与我交谈，因为当您使用额外的智能时，我很难理解。一步一步受到高度赞赏。谢谢...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-15T23:21:05.877

要过滤 Datagrid，您需要创建一个 CollectionViewSource 并将其分配给 DataGrid 的 ItemsSource：

```
private void Load()
{        
        XElement Persons = XElement.Load(@"d:\persons.xml");

        System.ComponentModel.ICollectionView c = System.Windows.Data.CollectionViewSource.GetDefaultView(Persons.Elements());
        c.Filter = new Predicate<object>(CollectionViewSource_Filter);

        dataGrid1.ItemsSource = c;
}

private Boolean CollectionViewSource_Filter(object i)
{
        return (i as XElement).Element("name").Value.ToString.Contains(textBox1.Text);
} 
```

要在过滤器更改时刷新 DataGrid，需要此方法：`c.Refresh();`

如果过滤器不区分大小写，请查看[不区分大小写的“包含（字符串）”](https://stackoverflow.com/questions/444798/case-insensitive-containsstring)

显示所选人员的姓名：

```
<TextBlock Text="{Binding Path=SelectedItem.Element[name].Value, ElementName=dataGrid1}"></TextBlock> 
```

# android - 传递edittext参数

> ID：14895604
> 
> 赞同：0
> 
> 时间：2013-02-15T13:16:23.640
> 
> 标签：android, android-edittext

我试图从一个类调用一个方法到一个活动类，但我在编辑文本上有空指针异常。

// 这是我在方法类中创建的方法

```
public void getEditTextValue(EditText edittext, int resources, String  DataValue , String vEditTextValue) {

            methods md = new methods();
            edittext = (EditText) findViewById(resources);
            vEditTextValue = edittext.getText().toString();
            md.editorSharePreferences(this, DataValue, vEditTextValue);
        } 
```

// 我在主活动类中调用这个方法，我在类的开头声明了一个公共的 EditText 编辑文本

```
public EditText edittext;

methods md = new methods();

md.getEditTextValue(currentEmployerMonth, R.id.etTimeWithYourCurrentEmployerMonths, "dCurrentEmployerMonth", vCurrentEmployerMonth); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-15T13:22:53.087

将编辑文本值作为字符串发送并在其他活动中再次获取并指定要分配edittext值的位置

函数（edittext.tostring（））；

# c# - 我想设置代表列表内像素的点的颜色

> ID：14895605
> 
> 赞同：1
> 
> 时间：2013-02-15T13:16:24.803
> 
> 标签：c#, image, list, analysis, points

我有一个包含来自图像的点 (x,y) 的列表（我将像素坐标以 x 和 y 的形式保存在列表中）我想要做的是设置这些像素的颜色。我创建了一个具有主要属性 x,y 的新类 PointPixel 我没有使用 c# 的默认 Point 类。

所以我的问题是我想直接访问列表内的点......所以我不使用位图实例来使用方法 SetPixel

一些代码示例将非常感谢提前

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-15T13:22:17.543

为什么不使用二维数组，数组的每个点对应每个像素的坐标？基本上，这就是位图。

另外，如果您只存储坐标，您将如何定义不存在的颜色？

```
Color[,] bitmap = new Color[xDimension, yDimension]();
bitmap[x, y] = new Color(r, g, b); 
```

这是你要找的吗？

# python - ^[!-//-~] 在正则表达式中

> ID：14895606
> 
> 赞同：-8
> 
> 时间：2013-02-15T13:16:26.077
> 
> 标签：python, regex

在 python 2.7 中，这个正则表达式匹配什么？

```
^[!-//-~] 
```

是否有一个很好的来源，因为[http://docs.python.org/2/library/re.html](http://docs.python.org/2/library/re.html)没有涵盖它。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-15T13:18:34.970

*   是“`^`字符串开头”锚点，表达式仅在开头匹配。

*   块是一个字符类，包含的`[...]`字符被视为一个集合。行首的其中一个足以构成匹配。

    类中的破折号构成一个范围，从`!`through to`/`和 from `/`through to `~`；第一个范围的结束与第二个范围的开始重叠，这样`[!-~]`就足够了。

    `!`和之间`~`是所有可打印的[ASCII 字符](http://en.wikipedia.org/wiki/ASCII)，除了空格字符。`/`斜线就在数字之前；看起来好像有人在重构之后忘记了合并这两个集合。

所以以下任何一行都将匹配：

```
!whatever
"don't care
~still doesn't matter what follows
/It's the first character that counts.
ABut almost anything printable in the ASCII range matches 
```

# jquery - jQuery绑定onclick到父div

> ID：14895607
> 
> 赞同：1
> 
> 时间：2013-02-15T13:16:29.283
> 
> 标签：jquery, jquery-selectors

我的另一个问题没有得到解决，所以我将尝试使用我所做的更改，它应该更容易理解和回答。

我正在尝试将 onclick 绑定到一个对话框，这是有效的。然而，onclick 还需要绑定到 jQuery 环绕对话框的父 div。

```
 open: function()
{
    $(this).bind('click', function(){
        $('#focusedPatient').val(thiskey);
    });
    $('div [aria-labelledby="ui-dialog-title-patient_22274"]').bind('click', function(){
        $('#focusedPatient').val(thiskey);
    });
} 
```

第二个绑定不起作用，我猜是因为我的语法。代码执行后看起来像

```
<div style="display: block; z-index: 1004; outline: 0px; height: auto;
width: auto; top: 141px; left: 50px;" class="ui-dialog ui-widget ui-widget-content
ui-corner-all ui-draggable" tabindex="-1" role="dialog"
aria-labelledby="ui-dialog-title-patient_22274">
  <div class="ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix">
    <span class="ui-dialog-title" id="ui-dialog-title-patient_22274">
      <img src="imgs/omButtons/omIcon.png" border="0"> 
       IS0001_LG, Austin Smith, Date Created: NULL, Date Updated: NULL, 
       Created By: Michael</span>
    <div class="ui-dialog-titlebar-buttonpane" style="position: absolute; top: 50%;
    right: 0.3em; margin-top: -10px; height: 18px;">
       <a href="#" class="ui-dialog-titlebar-close ui-corner-all" role="button"
       style="position: static; top: auto; right: auto; margin: 0px;">
         <span class="ui-icon ui-icon-closethick">close</span></a>
       <a class="ui-dialog-titlebar-maximize ui-corner-all" href="#" role="button" style="">
         <span class="ui-icon ui-icon-extlink">maximize</span></a>
       <a class="ui-dialog-titlebar-restore ui-corner-all" href="#" role="button" 
       style="display: none;"><span class="ui-icon ui-icon-newwin">restore</span></a>
       <a class="ui-dialog-titlebar-minimize ui-corner-all" href="#" role="button" style="">
          <span class="ui-icon ui-icon-minus">minimize</span></a>
     </div>
   </div>
   <div onclick="$('#focusedPatient').val('22274')" id="patient_22274" 
   style="display: block; width: auto; min-height: 113.375px; height: auto;" 
   class="ui-dialog-content ui-widget-content ui-dialog-normal" scrolltop="0" scrollleft="0"> 
```

第一个绑定到第三个 div 并且工作，我需要将 dom 树爬到容器 div，这是第二个 onclick 绑定。任何人都知道如何使那个工作？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-15T13:17:50.987

您在选择器中有一个空格。它应该是

```
$('div[aria-labelledby="ui-dialog-title-patient_22274"]') 
```

但是，如果它是父 div 你可以这样做

```
$(this).parent().bind('click', function() { ... }) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-15T13:19:42.007

使用`.parent()`功能：

```
 $(this).bind('click', function(){
        $('#focusedPatient').val(thiskey);
    });
   $(this).parent().bind('click', function(){
        $('#focusedPatient').val(thiskey);
    }); 
```

您的代码不起作用的原因是因为`div [id=xyz]`与`div[id=xyz]`. 第一个表示“`id=xyz`在 a 内的任何元素`div`”。第二个意思是“任何带有`id=xyz`”的 div。jQuery 中的空格意味着您正在谈论所有孩子（递归）。所以*应该*是`$('div[aria-labelledby="ui-dialog-title-patient_22274"]')`

# c# - 用具体类模拟第 3 方组件

> ID：14895609
> 
> 赞同：1
> 
> 时间：2013-02-15T13:16:35.910
> 
> 标签：c#, rhino-mocks

我正在设计组件，它指的是第三方设计的组件。在我的组件中，我正在创建从第三方公开的对象的实例。

现在我想通过模拟第 3 方组件对我编写的组件进行单元测试。但是第 3 方提供的组件是一个 cconcrete 类。

我应该如何为我编写的组件编写单元测试

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-15T13:19:25.540

您可以解决此问题的一种方法是拥有一个工厂，该工厂提供来自第 3 方的具体类并将其注入您的类。然后，您可以简单地将他们的组件的新组件包装在工厂中，但提供一个模拟工厂，该工厂返回您的模拟 3rd 方组件以供您的测试使用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-15T13:38:31.077

你可以选择VS2010的[Moles和](http://research.microsoft.com/en-us/projects/moles/)[VS2012](http://msdn.microsoft.com/en-us/library/hh549175%28v=vs.110%29.aspx)的 Fakes。这两个框架都使您能够编写具体对象的模拟/垫片。

您可以只创建第三方 dll 对象的模拟并更改方法行为。

# ios - 如何在cocos 2D中的某个时间段内查找视图是否被点击超过2次

> ID：14895613
> 
> 赞同：1
> 
> 时间：2013-02-15T13:16:43.913
> 
> 标签：ios, objective-c, cocos2d-iphone, touch

我正在用 cocos 2D 开发游戏。在我的游戏中，我需要点击我的视图一定次数。如果用户试图点击超出限制的视图，它应该显示一个警报。

请有人可以帮我找到视图上的点击次数。最重要的是水龙头的数量不是同时的。在 Total 游戏中，用户只能点击一定次数，之后他们不应点击视图。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-15T18:14:42.890

正如 LearnCocos 建议的那样，您可以简单地使用轻击手势识别器。点击和/或触摸触发需要可变数字。

```
UITapGestureRecognizer *tapLimitRecognizer = [[UITapGestureRecognizer alloc] initWithTarget:self action:@selector(tapLimitRecognizer:)];
[tapLimitRecognizer setNumberOfTapsRequired:6];

[self addGestureRecognizer:tapLimitRecognizer];
[tapLimitRecognizer release]; // if not using arc.

-(void)tapLimitRecognizer:(UITapGestureRecognizer *)tapLimitRecognizer
{
...add your alert view here
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-15T13:42:09.260

你可以用 NSTimeInterval 做到这一点。

```
 //decalre this in interface file
    NSTimeInterval      mLastTapTime; 
```

.

```
-(id)init
{
    if(self = [super init])
    {
         mLastTapTime = [NSDate timeIntervalSinceReferenceDate];
    }
    return self;
} 
```

//在触摸方法中

```
 NSTimeInterval currentTime = [NSDate timeIntervalSinceReferenceDate];
    NSTimeInterval diff = currentTime - mLastTapTime;

    if(diff < 0.3 )
    {
         //do whatever you want if user press with 0.3second
    }
    mLastTapTime = [NSDate timeIntervalSinceReferenceDate]; 
```

# sql-server - 用于 MDX 的智能感知？

> ID：14895614
> 
> 赞同：3
> 
> 时间：2013-02-15T13:16:45.733
> 
> 标签：sql-server, sql-server-2008, mdx, olap

我开始学习 MDX 和 OLAP 数据库，想知道是否有任何人都知道的 SSMS 扩展来帮助编写 MDX。由于我右手的一些神经损伤，它会磨损我最右边的两个手指以不断地敲打所有的支架。我正在学习一些可以识别度量组和维度名称并自动将它们包装在括号中的东西。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-15T16:46:31.520

不幸的是，SQL Server 2008 中没有对 MDX 的 Intellisense 支持，尽管很多人[都希望拥有它](http://connect.microsoft.com/SQLServer/feedback/details/497938/ssms-intellisense-for-mdx)，而且 Google 发现很少有第三方工具。[MDX Studio](http://www.sqlbi.com/tools/mdx-studio/)经常被非常积极地提及，尽管它不再维护，但它仍然可用。

根据 MSDN，SQL Server 2012 中有[用于 MDX 的 Intellisense 。](http://technet.microsoft.com/en-us/library/cc645993.aspx)

但是我对MDX知之甚少，所以希望有更多实践经验的人可能有一些想法。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2017-05-28T01:22:05.890

您可以尝试第三方工具 MDXHelper (www.mdx-helper.com)，它是一个高效地编写、分析、调整、调试 MDX 的 IDE，它具有以下 5 个主要功能：

1.代码自动完成 2.代码片段库 3.度量定义和重新分配公式集合 4.SQL 用于依赖的基本度量 5.MDX 配置文件集合并行

[MDX 助手](http://www.mdx-helper.com)

# android - Android HTML5 视频 - 单击播放时有效，但 video.play() 无效

> ID：14895616
> 
> 赞同：12
> 
> 时间：2013-02-15T13:16:55.293
> 
> 标签：android, html, html5-video

我了解 Android 上的 html5 视频无法自动播放。就目前而言，我的视频仅在用户单击播放按钮时才能在设备上运行。

```
<video width="640px" height="360px" src="media/video/Moments_of_Everyday_Life.mp4" controls id="video"></video>

<script type="text/javascript">
    $(function(){
        var video  = document.getElementById('video');
        video.play();
    });
</script> 
```

它可以在我的桌面上运行。

为什么这行不通？点击播放和使用有什么区别`.play()`？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-15T14:14:20.750

由于浏览器阻止调用 的相同原因，它不起作用`window.open()`，因为允许它允许 Web 开发人员颠覆用户偏好而不是自动播放媒体（或打开弹出窗口）。

点击播放和使用这种方法的区别正是你所说的：点击。这些类型的调用在点击事件中是允许的，但一般情况下是不允许的。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-15T14:45:32.947

我让它工作了！现在它可以播放带有“自动播放”功能的 HTML5 视频！该死的，这需要时间！好的，这就是我所做的：

```
<div id=content>
    <video width="1280px" height="720px" src="file:///android_asset/videos/Moments_of_Everyday_Life.mp4"></video>
</div> 
```

*注意：有些人说他们在添加海报和/或预加载时可以使用它。我得到了这个工作和没有。*

Javascript 自动播放视频：

```
<script type="text/javascript">
    $(function(){
        function callback () {
            document.querySelector('video').src = document.querySelector('video').src
            document.querySelector('video').play();
        }
        window.addEventListener("load", callback, false);

    });
</script> 
```

我希望这可以帮助任何人，我已经为此苦苦挣扎了一个星期！

只是要清楚：

致力于：

Android 4.0.4 三星 10.1 平板本机设备浏览器

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2016-12-10T11:57:36.540

经过数小时的搜索和测试“解决方案”，这对我有用！由[愤怒的冰箱](https://stackoverflow.com/questions/9075520/how-to-autoplay-html5-mp4-video-on-android)解决（非常感谢）。

```
<video id="video" class="video" autoplay muted > 
```

注意到**autoplay**和**muted**，它们都是必需的。

这允许视频在电脑和安卓手机上播放。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-11-21T04:08:15.957

或者您可以初始化您的 WebView 以轻松完成，如下所示：

```
webview.setWebViewClient(new WebViewClient() {
    // autoplay when finished loading via javascript injection
    public void onPageFinished(WebView view, String url) { mMessageContentView.loadUrl("javascript:(function() { document.getElementsByTagName('video')[0].play(); })()"); }
}); 
```

以上对我来说很好。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2014-01-16T19:46:25.927

我对 Android 4.0+ 上的 HTML5 视频有以下发现。

为了执行这些测试，我制作了一个沙盒应用程序，其中包含一个保存在 /assets 中的 HTML 页面。

*HTML：*

```
<!DOCTYPE html>

<html>
    <head>
        <title>HTML5 Video Test</title>
    </head>

    <body>

        <video preload="metadata"><source src="http://www.w3schools.com/html/movie.mp4" type="video/mp4"></video>

        <script> 
          var myvideo = document.getElementsByTagName('video')[0];

          myvideo.addEventListener('loadeddata', function() {
            console.log("** RECEIVED loadeddata **");
            myvideo.play();//this first play is needed for Android 4.1+
          }, false);

          myvideo.addEventListener('canplaythrough', function() {
            console.log("** RECEIVED canplaythrough **");
            myvideo.play();//this second play is needed for Android 4.0 only
          }, false);

        </script>

    </body>
</html> 
```

*JAVA：（“/assets/html5video.html”）*

```
private WebView mWebView;
private ProgressBar mProgressBar;

@SuppressLint("NewApi")
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.videotest);

    // progress bar
    mProgressBar = (ProgressBar) findViewById(R.id.videotest_progressbar);
    mProgressBar.setProgress(0);
    mProgressBar.setVisibility(View.VISIBLE);

    // webview
    mWebView = (WebView) findViewById(R.id.videotest_webview);
    mWebView.getSettings().setJavaScriptEnabled(true);

    if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.JELLY_BEAN_MR1)
    {
        //NOTE: this is required only for Android 4.2.2+
        mWebView.getSettings().setMediaPlaybackRequiresUserGesture(false);
    }

    mWebView.setWebChromeClient(new WebChromeClient() {
        public void onProgressChanged(WebView view, int progress) {
            Log.i(TAG, "Progress = "+progress);
            mProgressBar.setProgress(progress);
        }
    });
    mWebView.setWebViewClient(new WebViewClient() {
        public void onReceivedError(WebView view, int errorCode, String description, String failingUrl) {
            Toast.makeText(TestActivity.this, "Problem loading webpage", Toast.LENGTH_LONG).show();
            mProgressBar.setVisibility(View.GONE);
        }
        public void onPageFinished(WebView view, String url) {
            mProgressBar.setVisibility(View.GONE);
        }
    });
}

@Override
protected void onResume() {
    super.onResume();
    mWebView.loadUrl("file:///android_asset/html5video.html");
} 
```

**安卓 4.0.3 注意**

我一直遇到烦人的异常`java.lang.Throwable: EventHub.removeMessages(int what = 107) is not supported before the WebViewCore is set up.`幸运的是，它并没有影响视频播放。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2015-01-18T16:16:10.807

我在 kitkat 上发现 Firefox 将允许您以编程方式播放视频。

此外，如果您进入 chrome://flags 并启用“禁用媒体播放的手势要求”选项，Chrome 也会这样做。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2019-07-22T02:26:35.690

我在这里接受了一些建议，最值得注意的是来自@JenniferG，但是我仍然需要调整以获得良好的体验......这是要点

*   `audio`像@JenniferG 提到的那样加载标签
*   使用适当的方法来访问 DOM 元素，对于 React，使用[`refs`](https://reactjs.org/docs/refs-and-the-dom.html)
*   取消静音，并在播放前设置音量
*   `play()`方法返回一个承诺（[至少在 Chrome 中](https://developers.google.com/web/updates/2016/03/play-returns-promise)）；用于`catch`适当地处理错误
*   注意不要`play()`在声音正在播放时调用，那样会失败
*   用户必须与页面交互才能正常播放（请参阅下面的注释）

注意：如果你没有让用户点击某个按钮，你会得到这样的错误

> play() 失败，因为用户没有先与文档交互。

总而言之，这是一个示例 React 组件，它应该作为一个不错的起点（它是人为的，但应该说明可能性）

```
class AudioPlayer extends React.Component
{
    constructor(props) {
        super(props);
        this.audioRef = React.createRef();
        this.state = {
            interacted: false,
            firstSoundPlayed: false,
            secondSoundPlayed: false,
        };
    }

    playAudio = () => {
        const node = this.audioRef.current;
        node.muted = false;
        node.volume = 1.0;
        node
            .play()
            .catch((e) => {
                console.error('caught audio error: ', e.message);
            });
    }

    handleClick = () => {
        this.setState({
            interacted: true,
        });
        setTimeout(() => {
            this.playAudio();
            this.setState({
                firstSoundPlayed: true,
            });
            setTimeout(() => {
                this.playAudio();
                this.setState({
                    secondSoundPlayed: true,
                });
            }, 6000);
        }, 4000);
    }

    renderStartup = () => (
        <p>
            Please give me permission to play sounds...
            <button onClick={this.handleClick}>Grant permission</button>
        </p>
    )

    renderScreen = () => (
        <div>
            <p>I will play a sound as many times as I want now!</p>
            <p>A sound is about to play...</p>
        </div>
    )

    renderSecondSound = () => (
        <div>
            <p>Soon it will play again...</p>
        </div>
    )

    renderSummary = () => (
        <div>
            <p>Hope you found this demo useful...</p>
        </div>
    )

    render = () => {
        const {
            interacted,
            firstSoundPlayed,
            secondSoundPlayed,
        } = this.state;

        return (
        <div>
            <audio
                autoPlay
                muted
                src="https://freesound.org/data/previews/33/33245_65091-lq.mp3"
                ref={this.audioRef}
            />
            {interacted === false ? this.renderStartup() : null}
            {interacted === true && firstSoundPlayed === false ? this.renderScreen() : null}
            {interacted === false || firstSoundPlayed === false || secondSoundPlayed === true ? null : this.renderSecondSound()}
            {secondSoundPlayed === false ? null : this.renderSummary()}
        </div>);
    }
}

ReactDOM.render(
    <AudioPlayer />,
    document.getElementById('react')
);
```

```
<div id="react"></div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react/16.3.0/umd/react.production.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/16.3.0/umd/react-dom.production.min.js"></script>
```

# actionscript-3 - 动作脚本 3 计时器未停止

> ID：14895617
> 
> 赞同：0
> 
> 时间：2013-02-15T13:16:58.520
> 
> 标签：actionscript-3, timer

好的，所以我是一个非常业余的 AS3 程序员。我有一个计时器设置，45 秒后它应该移动到场景 6，但是如果它调用 hitTestObject，它应该在场景重新加载时停止并从 0 重新加载。编辑：我知道这段代码可能真的很糟糕，我也在学习如何修复这段代码的提示。这是我的代码：

```
 var myTimer:Timer = new Timer(1000, 1); // 1 second
myTimer.addEventListener(TimerEvent.TIMER, onEnterFrame);
myTimer.start(); 
```

{主功能}

```
function onEnterFrame(e:Event):void {

var startTime:int=getTimer();

var currentTime:int=getTimer();
trace(currentTime);

if (currentTime>45000){
gotoAndStop(1, "Scene 6");

}
} 
```

我的问题是，计时器在碰到测试对象时会继续运行，因此当场景 3 重新加载时，计时器会继续运行。因此，无论你死了多少次，你总共只需要玩 45 秒。应该是一旦你死了，当你重新加载场景 3 时，计时器会重新加载。关于我能做什么的任何想法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-15T13:26:59.447

希望这可以帮助：

```
var myTimer:Timer;

function resetTimer():void
{
    // check if timer already initialize
    if(myTimer != null)
    {
        // just reset
        myTimer.stop();
        myTimer.reset();
    }
    else
    {
        // initialize timer and set a 45 sec delay;
        myTimer = new Timer(45*1000,1);
        myTimer.addEventListener(TimerEvent.TIMER, handleTimerTick);
    }    

    myTimer.start();

}

function handleTimerTick(event:TimerEvent):void
{ 
    // stop and null timer;
    myTimer.stop();
    myTimer.removeEventListener(TimerEvent.TIMER, handleTimerTick);
    myTimer = null;

    // goto my 6th scene 
    gotoAndStop(1, "Scene 6");
}

// whenever a hit test is performed and a timer reset is needed just call
resetTimer(); 
```

# python - Python中的通配符匹配子字符串

> ID：14895631
> 
> 赞同：0
> 
> 时间：2013-02-15T13:17:27.627
> 
> 标签：python

我对 Python 完全陌生，不知道如何从字符串中获取与某些通配符条件匹配的子字符串。我正在尝试从以下字符串中获取时间戳：

```
sdc4-251504-7f5-f59c349f0e516894fc89d2686a0d57f5-1360922654.97671.data 
```

我只想从字符串中取出“ *1360922654.97671* ”部分。请帮忙。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-15T13:26:25.740

因为您提到了通配符，您可以使用`re`

```
In [77]: import re   
In [78]: s = "sdc4-251504-7f5-f59c349f0e516894fc89d2686a0d57f5-1360922654.97671.data"
In [79]: re.findall("\d+\.\d+", s)
Out[79]: ['1360922654.97671'] 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-02-15T13:18:50.360

如果点和破折号在您的字符串中具有其特定功能，则可以使用以下命令：

```
>>> s = "sdc4-251504-7f5-f59c349f0e516894fc89d2686a0d57f5-1360922654.97671.data"
>>> s.rsplit('.', 1)[0].split('-')[-1]
'1360922654.97671' 
```

一步步：

```
>>> s.rsplit('.', 1)
['sdc4-251504-7f5-f59c349f0e516894fc89d2686a0d57f5-1360922654.97671', 'data']

>>> s.rsplit('.', 1)[0]
'sdc4-251504-7f5-f59c349f0e516894fc89d2686a0d57f5-1360922654.97671'

>>> s.rsplit('.', 1)[0].split('-')
['sdc4', '251504', '7f5', 'f59c349f0e516894fc89d2686a0d57f5', '1360922654.97671']

>>> s.rsplit('.', 1)[0].split('-')[-1]
'1360922654.97671' 
```

这适用于以下形式的任何字符串：

```
anything-WHATYOUWANT.stringwithoutdots 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-15T13:21:05.637

```
>>> s = "sdc4-251504-7f5-f59c349f0e516894fc89d2686a0d57f5-1360922654.97671.data"
>>> s.split('-')[-1][:-5]
'1360922654.97671' 
```

字符稍少，仅适用于字符串的最后一部分`.data`或另一个 5 个字符的字符串。

# c# - 如何在 C# 中将 \ 符号添加到字符串的末尾

> ID：14895635
> 
> 赞同：10
> 
> 时间：2013-02-15T13:17:36.420
> 
> 标签：c#, string, escaping

请原谅我一个初学者的问题:)

```
string S="abc";
S+="\"; 
```

不会编译。

```
string S="abc";
S+="\\"; 
```

将使 S="abc\\"

我怎样才能使 S="abc\" ？

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-02-15T13:19:40.463

您的第二段代码*是*您想要的（或`@"\"`其他人建议的逐字字符串文字），它只添加一个反斜杠 - 将其打印到控制台，您会看到。

这两段代码：

```
S += "\\"; 
```

和

```
S += @"\"; 
```

完全*等价*。在这两种情况下，都会附加一个反斜杠¹。

我怀疑你对调试器视图感到困惑，它转义了反斜杠（和其他一些字符）。即使使用调试器，您也可以通过查看 来验证这一点`S.Length`，您会看到 4 而不是 5。

* * *

¹请注意，它不会更改现有字符串中的数据，但它将值设置`S`为引用一个*新*字符串，该字符串由原始字符串和末尾的反斜杠组成。.NET 中的字符串对象是不可变的 - 但这是另一个话题......

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-02-15T13:19:26.970

尝试这个：

```
String S = "abc";
S += @"\"; 
```

`@`= 逐字字符串文字

[http://msdn.microsoft.com/en-us/library/aa691090%28v=vs.71%29.aspx](http://msdn.microsoft.com/en-us/library/aa691090%28v=vs.71%29.aspx)

[http://msdn.microsoft.com/en-us/library/vstudio/362314fe.aspx](http://msdn.microsoft.com/en-us/library/vstudio/362314fe.aspx)

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-02-15T13:20:49.127

```
string S = "abs" + "\\"; 
```

应该而且确实会导致`abc\`.

您可能看到的是调试器/智能感知为您可视化字符串的方式。尝试将您的字符串打印到控制台或将其显示在文本框中。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-02-15T13:19:46.543

你已经有了解决方案。它在调试时出现的原因`abc\\`是因为 VS 会转义反斜杠，将 的值打印`S`到控制台窗口，你会看到`abc\`. 您可以`@`在字符串文字的开头添加一个，例如

```
string S="abc";
S+= @"\"; 
```

这将实现同样的目标。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2013-02-15T13:20:07.470

您可以使用 @ 字符转义反斜杠：

```
string S="abc";
S += @"\"; 
```

但这完全完成了您在第二个示例中编写的内容。对此的困惑源于 Visual Studio 调试器继续转义这些字符，即使您的源字符串仅包含一个反斜杠。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-02-15T13:22:25.860

你的第二个例子很好

```
string S="abc";
S+="\\"; 
```

Visual Studio 显示字符串已转义，这就是您在结果字符串中看到两个斜杠的原因。如果您不想像这样使用转义声明字符串

```
@"\" 
```

这不是编译，因为编译器在转义符号后需要一个字符

```
string S="abc";
S+="\"; 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-02-15T13:26:15.447

```
string S="abc";
S+="\\";
Console.WriteLine(S); // This is what you're missing ;) 
```

你会看到你的字符串完全没有错。

反斜杠 ( `\`) 是一个转义字符，它允许您获取通常无法在字符串中插入的特殊字符，例如`"\r\n"`，它代表一个`NewLine`字符，或者`"\""`基本上给您一个`"`字符。

为了获得`\`角色，您需要输入`"\\"`您正在做什么以及您想要什么。

使用逐字 ( `@`) 替换所有出现的`\`into `\\`, 所以`@"\" == "\\"`。这通常用于`\`需要大量文字的路径和正则表达式。说`@"C:\MyDirectory\MyFile"`起来总比说起来舒服`"C:\\MyDirectory\\MyFile"`。

* * *

## 回答 #8

> 赞同：-2
> 
> 时间：2013-02-15T13:23:27.887

尝试这个

```
 string s="abc";
 s = s+"\\"; 
```

# javascript - IE 不支持以动态形式上传文件？

> ID：14895637
> 
> 赞同：2
> 
> 时间：2013-02-15T13:17:42.700
> 
> 标签：javascript, forms, internet-explorer, file-upload, internet-explorer-8

如果我像这样在 HTML 中明确写出一个表单：

```
 <form action='upload_1-img.php' enctype='multipart/form-data' method='post'>
   <input type='file' id='image' name='image'><input type='submit'>
 </form> 
```

然后一切都在 IE 中按预期进行。但如果我执行以下操作，它在 Chrome 和 FF 中有效，但在 IE8 中无效：

```
<html>
<head>
<script>
$(document).ready(function(){

    imgform = document.createElement('form');
    imgform.id = 'imgform';
    imgform.method='post';
    imgform.enctype='multipart/form-data';
    imgform.action ='upload_1-img.php';
    $('body').append(imgform);
    $('#imgform').append("<input type='file' id='image' name='image' /><input type=submit>");
});
</script>
</head>
<body>
</body>
</html> 
```

在这种情况下，如果我使用`var_dump($_FILES)`in `upload_1-img.php`，它会返回一个空数组。当相同的表单在 HTML 中显式编码时，IE8 会正常上传文件。但是我需要在 javascript 中动态创建表单后上传文件才能工作。在 IE8 中进行这项工作的解决方法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-15T13:26:40.360

尝试做这样的事情：

```
var form=document.createElement("<form id='imgform' action='upload_1-img.php' enctype='multipart/form-data' method='post'>");
$('body').append(form);
$('#imgform').append("<input type='file' id='image' name='image' /><input type=submit>"); 
```

来源：http: [//verens.com/2005/07/06/ie-bugs-dynamically-creating-form-elements/](http://verens.com/2005/07/06/ie-bugs-dynamically-creating-form-elements/)

如果您检查文章的底部，则说明

> 上面的代码主要在 IE 中工作，除非你真的需要使用它的 multipart 方面（例如上传文件），它会出错。
> 
> 在这种情况下，IE 似乎坚持使用以下蹩脚的代码：
> 
> form=document.createElement('<form action="shoppingcart_xhr.php" method="POST" > enctype="multipart/form-data" target="shoppingcart_iframe">');

# ruby - Ruby 中的 [....] 是什么？

> ID：14895644
> 
> 赞同：10
> 
> 时间：2013-02-15T13:18:02.340
> 
> 标签：ruby, object

前几天晚上，我不小心在 Ruby 中做了同样的事情：

```
a = *1..5  # => [1, 2, 3, 4, 5]
a << a
a          # => [1, 2, 3, 4, 5, [...]]
a.last     # => [1, 2, 3, 4, 5, [...]] 
```

它是`[...]`什么，我能用它做什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-15T16:00:03.657

这只是 Array.inspect 显示递归数组的方式。a 的最后一个元素是 a 本身。如果在 5 之后显示 where，inspect 将进入无限循环：

```
[1, 2, 3, 4, 5, [1, 2, 3, 4, 5, [1, 2, 3, 4, 5, [1, 2, 3, 4, 5, [...]]]]] 
```

# excel - 在 Access 中嵌入生成的 Excel 图表

> ID：14895659
> 
> 赞同：3
> 
> 时间：2013-02-15T13:18:52.683
> 
> 标签：excel, vba, ms-access

MS Access 2010 的普通图表小部件的外观不是很吸引人。

是否有可能（以及如何？）在 Access 中嵌入相当有吸引力的 Excel 图表并用来自查询的数据（动态）填充它们？

PS：

因为我想根据用户输入更新图表，所以无法使用数据透视图。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-18T13:44:19.100

使用图表的一些注意事项

```
Sub OpenMyChart()
''You could do this part without code, but let use say you want VBA
sSQL = "SELECT Table1.AText AS ACategory, Table1.ANumber AS AData, " _
     & "Table1.ADate AS AFilter, Table1.ATime AS ASeries " _
     & "FROM Table1 WHERE Table1.ADate=#1/20/2012#"

''This is the query that my Chart form uses
CurrentDb.QueryDefs("Chart").SQL = sSQL

''You can use a Where statement for opening the form, too
DoCmd.OpenForm "Chart", acFormPivotChart, , "ACategory='Bob'"
End Sub 
```

使用类似设置和子表单的另外两种方法。

/1。使用链接子字段和主字段

链接主字段设置为列表框控件的名称，链接子字段设置为图表的相关字段：

```
Link Master Field: List1;List2
Link Child Field: AFilter;ACategory 
```

单击相关控件将重绘图表。

![图表](../Images/55670f2a388c32ef536663b493c6a347.png)

/2。使用查询并强制重绘：

```
Private Sub List1_Click()
sSQL = "SELECT Table1.AText AS ACategory, Table1.ANumber AS AData, " _
     & "Table1.ADate AS AFilter, Table1.ATime AS ASeries " _
     & "FROM Table1 WHERE Table1.ADate=#" _
     & Format(Me.List1, "yyyy/mm/dd") & "#"1/13/2013#"

''This is the query that my Chart form uses
CurrentDb.QueryDefs("Chart").SQL = sSQL

''Chart is the name of the subform control, and confusingly, 
''the name of the embedded form.
Me.Chart.SourceObject = "Chart"
End Sub 
```

# asp.net-mvc - 使用 SQL Server 在 Windows Azure 上运行的 MVC 是否没有活动超时延迟？

> ID：14895660
> 
> 赞同：0
> 
> 时间：2013-02-15T13:18:53.357
> 
> 标签：asp.net-mvc, asp.net-mvc-3, azure, azure-sql-database, azure-storage

我有一个没有用户的新应用程序。我知道当我第一次发布到 Azure 时，在编译代码时会出现延迟。但是，在使用该应用程序后，如果我尝试在大约 30 分钟内再次访问它，它最初似乎非常慢，而一旦我访问它，它就会变得更快。我的应用程序使用 MVC4 并连接到 SQL Server 进行登录身份验证。

是否有超时或延迟？服务是否会在使用一段时间后进入睡眠模式以被唤醒？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-15T21:05:35.003

默认情况下，IIS 会在 20 分钟不活动后关闭应用程序池，以节省服务器资源。 [http://technet.microsoft.com/en-us/library/cc771956(v=ws.10).aspx](http://technet.microsoft.com/en-us/library/cc771956(v=ws.10).aspx)

现在，为了让 Azure 上的事情变得更有趣，据我所知，您不能从应用程序的 web.config 文件配置此设置，而是通过 UI、命令行或 machine.config 文件配置。但有希望！

**这是假设您使用的是网络/工作人员角色，而不是他们推出的新网站**

您必须为您的 Web 角色创建一个启动任务，该任务将为您执行 IIS 配置。它是一个简单的批处理文件，您可以指示 Web 角色在启动时运行。 [这里有更多信息，](http://blog.smarx.com/posts/controlling-application-pool-idle-timeouts-in-windows-azure)但基本上 .cmd 文件看起来像这样：

```
REM *** This keeps this file from running on your local emulator. 
if "%EMULATED%"=="true" goto :EOF

REM *** Prevent the IIS app pools from shutting down due to being idle. 
%windir%\system32\inetsrv\appcmd set config -section:applicationPools -applicationPoolDefaults.processModel.idleTimeout:00:00:00

REM *** Prevent IIS app pool recycles from recycling on the default schedule of 1740 minutes (29 hours). 
%windir%\system32\inetsrv\appcmd set config -section:applicationPools -applicationPoolDefaults.recycling.periodicRestart.time:00:00:00 
```

在您的 serviceDefintion.csdef 文件中，添加以下架构元素（假设您将该文件放在 Web 应用程序的启动文件夹中并将其命名为 disableTimeout.cmd）：

```
<Startup>
  <Task commandLine="startup\disableTimeout.cmd" executionContext="elevated" />
</Startup> 
```

请记住，回收和空闲超时您的应用程序池可能有充分的理由，但如果您的站点流量较低，则可以调整它们以不那么频繁地发生。

# visual-studio-2012 - Blend 5 视觉状态管理器

> ID：14895661
> 
> 赞同：1
> 
> 时间：2013-02-15T13:18:54.043
> 
> 标签：visual-studio-2012, windows-store-apps, blend, expression-blend-5

这个问题与 VS2012 和 Blend 5 有关。

管理视觉状态管理器在 Blend 中是否可用的规则是什么？在使用 C#/XAML 开发 Windows 应用商店应用程序时，我总是能够在混合中访问视觉状态管理器。我正在尝试在 Javascript/HTML5 中做同样的事情，但视觉状态管理器不存在。

我实际上可以在 Blend 中并排打开 C# 和 Javascript 应用程序，并看到状态选项卡在 JS 中不可用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-15T13:36:33.577

使用 HTML 和 JavaScript 构建商店应用程序时，视觉状态的概念不可用。“状态”窗格仅在构建 XAML 应用程序（WPF、Silverlight 或 Windows Store XAML）时可用。同样，样式、HTML 属性和 CSS 属性窗格仅在处理 Windows 应用商店 HTML 应用程序时可用。

您可以使用 Blend 为不同的状态设置 CSS 类。您可以在“设备”窗格中设置当前视图方向。使用 css 媒体查询，您可以在 html 中使用的类似类上设置不同的属性。您可以像更改其他 CSS 属性一样执行此操作。

我希望这个屏幕截图能进一步解释它。在此示例中，我将绿色设置为填充状态，将红色设置为捕捉状态。媒体查询会导致一个被选中。

![在此处输入图像描述](../Images/cbd124f01526bce662c70e943e2be09e.png)

***更新：***

我决定写一个关于这个主题的[教程](http://www.timmykokke.com/2013/02/setting-view-states-in-html-windows-store-apps-using-blend/)，它会更详细一点。

# iphone - 动态禁用导航按钮和标签栏

> ID：14895663
> 
> 赞同：0
> 
> 时间：2013-02-15T13:19:04.560
> 
> 标签：iphone, ios, objective-c

我有一个带有导航栏、标签栏的应用程序，还有一个按钮，当我按下它时，它会做一些事情。好吧，我想禁用导航按钮（例如后退按钮）和标签栏按钮，以避免用户在按钮操作运行时按下其他按钮。任何的想法？提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-15T13:24:57.180

```
self.navigationItem.hidesBackButton = YES; 
```

# iframe - dijit.Dialog 中的 iFrame：Dojo V1.8 的行为与 Dojo V1.7 不同

> ID：14895664
> 
> 赞同：0
> 
> 时间：2013-02-15T13:19:04.683
> 
> 标签：iframe, dojo

我有一个 dijit.dialog，其中包含一个 iFrame。iFrame 加载了 dijit 小部件（inpitText、DateText、...）。在 Dojo V1.7 中一切正常。我尝试迁移到 Dojo V1.8：现在，当我尝试将焦点放在 iFrame 中的小部件上时，焦点会自动移动到对话框的第一项。

为什么行为从 V1.7 到 V1.8 不同。如何使用 V1.8 检索预期的行为（存在于 V1.7 中）？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-02T10:52:49.810

您可以在创建对话框时设置 autofocus=false。

# html5-canvas - JavaScript - 从函数内部调用函数

> ID：14895668
> 
> 赞同：1
> 
> 时间：2013-02-15T13:19:23.867
> 
> 标签：html5-canvas, javascript

我正在使用 JavaScript 制作基于 HTML5 画布的游戏。游戏只是一个简单的游戏，画布上显示了许多图像，以及许多描述框。用户需要将每个图像拖放到其对应的描述框中。

目前，我有显示图像和描述框的画布。这些会在页面加载后立即显示，但是，我想添加一个“开始按钮”，用户需要在显示图像和描述框等之前单击该按钮，然后他们开始玩游戏。

我的页面的代码目前如下所示：

```
 <!DOCTYPE HTML>
<html>
  <head>
    <style>
  body {
    margin: 0px;
    padding: 0px;
  }
  canvas{
    border: 1px solid #9C9898;
    background:#F5F5F5;
  }
</style>
<div id="container"></div>
<script src="kinetic.js"></script>
<script src="drawdescriptionboxes.js"></script>
<script src="drawLevelOneElements.js"></script>
<script src="startGameDrawGameElementsDrawStartButton.js"></script>
<script>
/*Add the game elements' global variables */
var currentLevel = 1;
var totalLevels = 3;
var currentScore = 0;
var currentScorePositionX = 950;
var currentScorePositionY = 10;

/*Add code to draw images to random locations here */
    //var imageX = Math.floor(Math.random()*950);
    //var imageY = Math.floor(Math.random()*450);

    var stage = new Kinetic.Stage({
      container: "container",
      width: 1000,
      height: 500
    });
    var imagesLayer = new Kinetic.Layer();
    var canvas = imagesLayer.getCanvas();
    var context = canvas.getContext("2d");
    console.log("Foo ");

/*Load the images from the HTML into the JavaScript */
function loadImages(sources, callback){
    var imagesDir = "";
    var images = {};
    var loadedImages = 0;
    var numImages = 0;

    //console.log("length " + sources.length);
    for (var src in sources){
        numImages++;
    }
    //console.log("Num Images " + numImages);

    var index=0;
    console.log("length " + sources.length);
    for (index=0;index < numImages ;index++){
        console.log(index);
        images[index] = new Image();
        images[index].src = sources[index];
        console.log("Adding " + sources[index]);
        callback(images[index]);
        console.log("sources array length = " + sources.length);
    }

    stage.add(imagesLayer); // should only be added once!!
}

/*Function to check whether the item being dragged is near its description box */
function isNearDescriptionBox(itemImage, descriptionBox){
    var ii = itemImage;
    var db = descriptionBox;
    if(ii.attrs.x > db.x - 20 && ii.attrs.x < db.x + 20 && ii.attrs.y > db.y - 20 && ii.attrs.y < db.y +20){
        return true;
    }else{
        return false;
    }
}

/* This function draws the game elements */
function drawGameElements(){
    /* Draw a line for the 'score bar'. */
    context.moveTo(0, 25);
    context.lineTo(1000, 25);
    context.stroke();

    /* Draw current level/ total levels on the left, and current score on the right. */
    context.font = "11pt Calibri"; /* Text font & size */
    context.strokeStyle = "black"; /* Font colour */
    context.strokeText(currentLevel + "/" + totalLevels, 10, 15);
    context.strokeText(currentScore, 750, 15);
}

function initStage(images){
    var stage = new Kinetic.Stage({
        container: "container",
        width: 1000,
        height: 500
    });
    var descriptionLayer = new Kinetic.Layer();
    //var imagesLayer = new Kinetic.Layer();
    var allImages = [];
    var currentScore = 0;

    var descriptionBoxes = {
        assetsDescriptionBox: {
            x: 70,
            y: 400
        },
        liabilitiesDescriptionBox: {
            x: 300,
            y: 400
        },
        incomeDescriptionBox: {
            x: 530,
            y: 400
        },
        expenditureDescriptionBox: {
            x: 760,
            y: 400
        },
    };

    /*Code to detect whether image has been dragged to correct description box */
    for (var key in sources){
        /*Anonymous function to induce scope */
        (function(){
            var privateKey = key;
            var imageSource = sources[key];

            /*Check if image has been dragged to the correct box, and add it to that box's
                array and remove from canvas if it has */
            canvasImage.on("dragend", function(){
                var descriptionBox = descriptionBoxes[privateKey];
                if(!canvasImage.inRightPlace && isNearDescriptionBox(itemImage, descriptionBox)){
                    context.remove(canvasImage);
                    /*Will need to add a line in here to add the image to the box's array */
                }
            })

        })();
    }

}

function drawImage(imageObj) {
    //var layer = new Kinetic.Layer();

    //var imageX = Math.floor(Math.random()*950);
    //var imageY = Math.floor(Math.random()*450);

    /*Got the code from generating random coordinates from:
        http://stackoverflow.com/questions/4959975/random-between-two-numbers-in-javascript*/
    function randomPosition(from, to){
        return Math.floor(Math.random()*(to-from+1)+from);
    }

    var canvasImage = new Kinetic.Image({
      image: imageObj,
      width: 50,
      height: 50,
      // puts the image in teh middle of the canvas
      x: randomPosition(0, 950),  //imageX,    //stage.getWidth() / 2 - 50 / 2,
      y: randomPosition(30, 350),  //imageY,    //stage.getHeight() / 2 - 50 / 2,
      draggable: true
    });

    // add cursor styling
    canvasImage.on('mouseover', function() {
      document.body.style.cursor = 'pointer';
    });
    canvasImage.on('mouseout', function() {
      document.body.style.cursor = 'default';
    });

    imagesLayer.add(canvasImage);
}

/*This code loads the images to the canvas when the browser window loads */
window.onload = function(){
    var sources = [];
        sources[0] = document.getElementById("building").src,
        sources[1] = document.getElementById("chair").src,
        sources[2] = document.getElementById("drink").src,
        sources[3] = document.getElementById("food").src,
        sources[4] = document.getElementById("fridge").src,
        sources[5] = document.getElementById("land").src,
        sources[6] = document.getElementById("money").src,
        sources[7] = document.getElementById("oven").src,
        sources[8] = document.getElementById("table").src,
        sources[9] = document.getElementById("van").src,

        sources[10] = document.getElementById("burger").src,
        sources[11] = document.getElementById("chips").src,
        sources[12] = document.getElementById("drink").src,
        sources[13] = document.getElementById("franchiseFee").src,
        sources[14] = document.getElementById("wages").src,

        sources[15] = document.getElementById("admin").src,
        sources[16] = document.getElementById("cleaners").src,
        sources[17] = document.getElementById("electricity").src,
        sources[18] = document.getElementById("insurance").src,
        sources[19] = document.getElementById("manager").src,
        sources[20] = document.getElementById("rates").src,
        sources[21] = document.getElementById("training").src,
        sources[22] = document.getElementById("water").src,

        sources[23] = document.getElementById("burger").src,
        sources[24] = document.getElementById("chips").src,
        sources[25] = document.getElementById("drink").src,

        sources[26] = document.getElementById("creditors").src,
        sources[27] = document.getElementById("electricity").src,
        sources[28] = document.getElementById("food").src,
        sources[29] = document.getElementById("hirePurchase").src,
        sources[30] = document.getElementById("loan").src,
        sources[31] = document.getElementById("overdraft").src,
        sources[32] = document.getElementById("payeTax").src,
        sources[33] = document.getElementById("tax").src;

    drawStartButton();
    loadImages(sources, drawImage);
    //drawGameElements();
    //drawDescriptionBoxes();

}; 
```

我在页面中还有一个隐藏部分，在`<body></body>`使用 JS 操作它们之前，我首先将所有要使用的图像加载到 HTML 中。

目前，当我在浏览器中查看页面时，`sources`数组中的所有图像都显示在画布上的随机位置，以及描述框、得分栏和开始按钮。

但是，我想要发生的是，当页面最初加载时，画布上只显示开始按钮，然后当用户单击它时，会显示其他所有内容。

据推测，要做到这一点，我想删除/注释除函数`drawStartButton()`末尾之外的所有函数的`windows.onload = function(){...}`调用，然后在`onmousedown`附加到开始按钮的事件中调用另一个函数？

但是，由于某种原因，当我在此函数末尾注释掉对的调用`loadImages(sources, drawImage);`，然后再次在浏览器中查看我的页面时，页面上不再显示画布。我本来希望画布仍然在那里，只是没有显示在上面的图像。有谁知道为什么没有发生这种情况，以及我该如何纠正？

我的`loadImages(sources, drawImage);`函数的代码是：

```
function loadImages(sources, callback){
    var imagesDir = "";
    var images = {};
    var loadedImages = 0;
    var numImages = 0;

    //console.log("length " + sources.length);
    for (var src in sources){
        numImages++;
    }
    //console.log("Num Images " + numImages);

    var index=0;
    console.log("length " + sources.length);
    for (index=0;index < numImages ;index++){
        console.log(index);
        images[index] = new Image();
        images[index].src = sources[index];
        console.log("Adding " + sources[index]);
        callback(images[index]);
        console.log("sources array length = " + sources.length);
    }

    stage.add(imagesLayer); // should only be added once!!
} 
```

我不明白为什么删除对这个函数的调用会阻止画布显示在页面上......有什么想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-15T13:24:28.663

函数的最后一行，

```
stage.add(imagesLayer); // should only be added once!! 
```

将图层添加到舞台。虽然舞台是一个容器（例如 div），但图层是实际的画布。

如果您不调用`loadImages()`，则该层永远不会添加到 DOM 中，因为该行永远不会运行。

# c# - 提及搜索用户的用户列表。（推特）

> ID：14895674
> 
> 赞同：1
> 
> 时间：2013-02-15T13:19:30.753
> 
> 标签：c#, twitter, windows-8, linq-to-twitter

当我想显示在我的应用程序中提到搜索用户的用户时，我遇到了问题。我会解释：

起初，当我启动程序时，我需要允许应用程序使用我的帐户来允许我进行一些搜索。之后，我可以在我的应用程序上搜索 twitter 用户并显示一些关于他的信息。

问题如下，当我想显示提到搜索用户的用户时，它失败了！它只显示：*提到我的用户（当我搜索自己时）*如果我最近提到他，我会出现在提到搜索用户列表的用户中，

因此，应用程序搜索提到的列表不是搜索用户而是登录用户！我不想要它。

我正在 c#/XAML 上开发应用程序，我正在使用 linqToTwitter。

有人能帮助我吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-16T16:54:42.933

用户提及的 Twitter API 仅代表经过身份验证的用户运行。因此，如果您想要提及某个用户，则需要获得该用户的权限才能代表他们进行操作。即，如果该用户通过您的应用程序通过 Twitter 进行了身份验证。然后，您将获得他们的 OAuth 令牌，代表他们进行身份验证并执行查询。

另一种不太可靠的方法是使用 Search API，将其 ScreenName 添加为 Query。您可以通过检查 Status.Entities.UserMentions 集合属性来验证搜索返回的状态是否是有效提及。

# django - Django：内联创建 M2M 关系

> ID：14895677
> 
> 赞同：0
> 
> 时间：2013-02-15T13:19:36.880
> 
> 标签：django, django-models, django-forms

我正在尝试为“链接”模型创建一个带有表单集的视图。问题是，在每种形式中，我希望用户不仅可以从已创建的 TargetLink 对象中进行选择，还可以内联编辑它们。

```
class ClientUrl(models.Model):
    client = models.ForeignKey(UpstreamClientModel, null=True)
    url = models.URLField(unique=True, null=False)
    active = models.BooleanField(default=True)

    def __unicode__(self):
        return self.url

    class Meta:
        verbose_name = 'url'
        ordering = ['url']

KEYWORD_TYPES = (
    ('PN', 'Pending'),
    ('MN', 'Money'),
    ('BR', 'Brand'),
    ('LT', 'Long Tail'),
)

class ClientKeyword(models.Model):
    client = models.ForeignKey(UpstreamClientModel, null=True)
    kw_type = models.CharField('keyword type', max_length=2, 
                choices=KEYWORD_TYPES, default='LT')
    keyword = models.CharField(max_length=150, unique=False)
    directions = models.CharField(max_length=200, blank=True, 
            help_text='e.g: 25 chars, use "affordable rental cars"')

    def __unicode__(self):
        return self.keyword

    class Meta:
        ordering = ['keyword', ]
        unique_together = ('client', 'keyword')

class TargetLink(models.Model):
    keyword = models.ForeignKey(ClientKeyword, related_name='target_links')
    url = models.ForeignKey(ClientUrl, related_name='target_links')

    def __unicode__(self):
        return '{0}:{1}'.format(self.keyword, self.url)

class Link(models.Model):
    client = models.ForeignKey(UpstreamClientModel, related_name='links')
    target = models.ForeignKey(Target, related_name='links')
    user = models.ForeignKey(User, blank=True, null=True, related_name='links')
    link_type = models.ForeignKey(LinkType, related_name='links')
    site = models.ForeignKey(Site, blank=True, null=True, 
                related_name='links')
    site_url = models.URLField(blank=True, 
            help_text='leave blank until url is live')
    month = models.DateField(blank=True, null=True)
    target_links = models.ManyToManyField(TargetLink, related_name='links') 
```

我怎么能做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-15T14:23:23.120

一种方法可能是在 TargetLinks 的表单集之外创建一个表单，并使用 Knockout.js 或其他客户端框架将 TargetLinks 的更新选项推送到表单集中的 target_links 字段。

# java - 使用数据源将文本添加到组合框

> ID：14895678
> 
> 赞同：5
> 
> 时间：2013-02-15T13:19:37.390
> 
> 标签：java, combobox, vaadin

我有一个装满容器数据源的 vaadin 组合框

```
setContainerDataSource(container); 
```

我现在想在结果列表的某处插入一个静态文本。

* * *

例如：

一个 Combobox 填充了 的容器，结果列表中弹出的第一个条目是某种标题：

人员：
Thomas S.
Lucas B.
Alex X.

我可以通过操作容器或组合框来实现吗？

我只是尝试设置容器源并通过 addItem() 将字符串/标签添加到 ComboBox，但这似乎不起作用。我对此有点陌生，所以我不知道如何继续。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-20T19:32:36.183

如果您将 ComboBox 用作即时并且不希望将“Person：”作为真人处理，则可以使用[`setNullSelectionItemId`](https://vaadin.com/api/com/vaadin/ui/AbstractSelect.html#setNullSelectionItemId%28java.lang.Object%29)将假人定义为真正的虚拟对象。但是，此解决方案有一个限制，即您只能添加一个虚拟对象。

这是我的示例，它在列表顶部添加“Person：”并将其作为空值处理。请注意，我使用的是 Vaadin 7。

```
import com.vaadin.data.Property;
import com.vaadin.data.Property.ValueChangeEvent;
import com.vaadin.data.util.BeanItemContainer;
import com.vaadin.server.VaadinRequest;
import com.vaadin.ui.AbstractSelect;
import com.vaadin.ui.ComboBox;
import com.vaadin.ui.Notification;
import com.vaadin.ui.UI;
import com.vaadin.ui.VerticalLayout;

/**
 * The Application's "main" class
 */
@SuppressWarnings("serial")
public class MyVaadinUI extends UI {

    @Override
    protected void init(VaadinRequest request) {
        final VerticalLayout layout = new VerticalLayout();
        layout.setMargin(true);
        setContent(layout);

        BeanItemContainer<Person> container = new BeanItemContainer<Person>(Person.class);
        Person nullPerson = new Person(0, "Person:");
        container.addBean(nullPerson);
        container.addBean(new Person(1, "Django"));
        container.addBean(new Person(2, "Schultz"));

        ComboBox combobox = new ComboBox();
        combobox.setImmediate(true);
        combobox.setNullSelectionItemId(nullPerson); // Define the null person as a dummy.
        combobox.setContainerDataSource(container);
        combobox.setItemCaptionMode(AbstractSelect.ItemCaptionMode.PROPERTY);
        combobox.setItemCaptionPropertyId("name");  // the person's name field will be shown on the UI
        combobox.addValueChangeListener(new Property.ValueChangeListener() {
            @Override
            public void valueChange(ValueChangeEvent event) {
                // Will display 'null selected' when nullPerson is selected.
                Notification.show(event.getProperty().getValue() + " selected");
            }
        });

        layout.addComponent(combobox);
    }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-16T11:35:25.320

如果您的代码与此类似：

```
BeanItemContainer<Person> container = new BeanItemContainer<Person>(Person.class);
container.addAll(myPersonList);
ComboBox combobox = new ComboBox();
combobox.setContainerDataSource(container);
combobox.setItemCaptionMode(Select.ITEM_CAPTION_MODE_PROPERTY);
combobox.setItemCaptionPropertyId("name");  // the person's name field will be shown on the UI

// imho if you want to add a static text (String) into a container
// which populated with Person objects then you have to make a fake Person object
Person staticText = new Person();
staticText.setName("My static text");
combobox.addItem(staticText);
// if you want to specify the index of the item, add them one by one in for cycle
// and insert the static text item in the appropritate place 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-15T14:05:10.117

您应该在容器中进行更改（例如：添加项目...）并在组合框上再次调用 setContainerDataSource(container) （以便将其传播到客户端）。

# powershell - 测试字符串的最佳方法是什么？

> ID：14895685
> 
> 赞同：2
> 
> 时间：2013-02-15T13:19:45.860
> 
> 标签：powershell, operators

我正在使用这个符号测试一些字符串

```
if ($someString -eq "someValue") { ... } 
```

但是我在网上阅读了一些使用`-like`运算符测试值的示例

```
if ($someString -like "someValue") { ... } 
```

结果似乎在所有情况下都是相同的（请注意，我说的是字符串）。是否有任何差异和/或最佳实践可遵循或没有差异？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-15T13:24:19.417

`-eq`是为了严格平等。

你可以使用`-like`通配符，但在你的情况下，它就像`-eq`

`-eq`编辑：如果你真的不需要，最好的做法是使用`-like`

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-02-15T13:23:04.047

`-eq`检查是否`$someString`与`$someValue`

什么时候

`-like`当与通配符一起使用时，它会检查 是否`$someString`包含 的某些子字符串`$someValue`，否则它的工作方式与`-eq`

`-contains`- 检查天气有一个子字符串`$someString`

实际上`-eq`是最常用的一种，`-like`与通配符一起使用可能会给您一些意想不到的误报，但是如果您不需要如此严格的检查可以减少所需条件的数量。

# c# - 将泛型约束为可为空的类型

> ID：14895694
> 
> 赞同：16
> 
> 时间：2013-02-15T13:20:12.637
> 
> 标签：c#, .net, generics

我正在寻找这样的示例用法：

```
Foo<string> stringFoo = new Foo<string>("The answer is");
Foo<int> intFoo = new Foo<int>(42);
// The Value of intFoo & stringFoo are strongly typed
stringFoo.Nullify();
intFoo.Nullify();
if (stringFoo == null && intFoo == null)
   MessageBox.Show("Both are null); 
```

给定这个类 Foo，我可以将 T 自动包装成一个可为空的：

```
public class Foo1<T>
   where T : struct
{
   private T? _value;

   public Foo(T? initValue)
   {
      _value = initValue;
   }

   public T? Value { get { return _value; } }

   public void Nullify { _value = null; }

} 
```

这适用于原语，但不适用于 String 或其他类。

下一个风味适用于字符串，但不适用于原语：

```
public class Foo2<T>
{
   private T _value;

   public Foo(T initValue)
   {
      _value = initValue;
   }

   public T Value { get { return _value; } }

   public void Nullify { _value = default(T); }

} 
```

我可以使用`Nullable<int>`Foo2 并且代码将像这样工作：

```
Foo2<int?> intFoo = new Foo<int?>(42); 
```

但这很容易出错，因为 Foo2 失败了。如果我可以将 T 限制为支持可空性的类型，那很好。

**那么毕竟，有没有办法将 T 限制为可为空的类型？**

一些附加说明：.NET 4.0、VS2010。我确实在这里找到了一个与此类似的问题，但没有成功的答案。

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2013-02-15T13:27:19.887

你可以申请这个没有任何限制，但你*可以*在执行时测试它：

```
if (default(T) != null)
{
    throw new SomeAppropriateException(typeof(T) + " is not a nullable type");
} 
```

您甚至可以将其放入静态构造函数中，这将确保每个构造类型只执行*一次*- 任何试图在`Foo<int>`任何地方使用的人都很难忽略`TypeInitializerException`. *这对于公共*API 来说并不是非常友好，但我认为这对于内部 API 来说是合理的。

编辑：有一种*可怕*的方法使创建实例变得更加困难`Foo<int>`......您可以使用[这篇博客文章中的可怕代码](http://codeblog.jonskeet.uk/2010/11/02/evil-code-overload-resolution-workaround)（使用重载解析规则以及默认参数和几个受约束的泛型类型）并标记重载旨在将不可为空的值类型视为已过时并出现错误。这样，`Foo<int>`仍然是一个有效的类型，但你很难创建它的实例。不过我不建议你这样做......

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2013-02-15T13:43:12.543

您也许可以制作`Foo<T>`internal 的构造函数，并要求只能通过工厂类创建新实例：

```
public class Foo<T>
{
    private T value;
    internal Foo(T value)
    {
        this.value = value;
    }

    public void Nullify()
    {
        this.value = default(T);
    }

    public T Value { get { return this.value; } }
}

public class Foo
{
    public static Foo<T> Create<T>(T value) where T : class
    {
        return new Foo<T>(value);
    }

    public static Foo<T?> Create<T>(T? value) where T : struct
    {
        return new Foo<T?>(value);
    }
} 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-02-15T14:14:15.503

我不像 Foo1 的语法那样喜欢它，但这里是 Foo3：

```
public class Foo3<T>
   where T : struct
{

   private T _value;
   private T _nullValue;

   public Foo3(T initValue)
       : this(initValue, default(T))
   {
   }

   public Foo3(T initValue, T nullValue)
   {
      _value = initValue;
      _nullValue = nullValue;
   }

   public T Value { get { return _value; } }

    public bool IsNull
    {
        get 
        {
           return object.Equals(_value, _nullValue);
        }
    }

    public void Nullify() { _value = _nullValue; }

} 
```

然后我的用法变成：

```
Foo3<string> stringFoo = new Foo<string>("The answer is");
Foo3<int> intFoo = new Foo<int>(42, int.MinValue);
stringFoo.Nullify();
intFoo.Nullify();
if (stringFoo.IsNull && intFoo.IsNull)
   MessageBox.Show("Both are null); 
```

这仍然容易出错，因为获取 Foo3（和 Foo2）的 Value 属性并不简单。Foo1 是最好的，因为自动包装的 Value 将支持 null。

我可能只需要 ValueTypeFoo 和 ObjectFoo 并处理两个版本。

# android - Android In App Billing 添加谷歌钱包不起作用

> ID：14895695
> 
> 赞同：1
> 
> 时间：2013-02-15T13:20:14.957
> 
> 标签：android, in-app-billing, android-pay

我们想在我们的应用中启用应用内计费。在我们的应用程序设置中，我们有两个选项： ![在此处输入图像描述](../Images/f8c15a049ce03bd5ebbc7a4c450cdead.png)

但是，当我们单击设置商家帐户时，它只是返回主页而没有错误消息。（我们已经有一个 Google Checkout 帐户）。有没有人经历过这种情况，有什么补救措施？

# html - 如何调整大小 适合里面的图像？

> ID：14895698
> 
> 赞同：0
> 
> 时间：2013-02-15T13:20:21.140
> 
> 标签：html, css, resize

我有这样一个div：

```
<div class="game_img_div">
<a href="./play.php?game=free-kick-fusion">
<img class="gamethumb" src= " ./images/thumbs/free-kick-fusion.jpg">
</img>
</a>
</div><!--game_img_div--> 
```

并且 .CSS 只包含

```
img.gamethumb
{
height:6em;
} 
```

所以图片根据它的纵横比调整大小，比如它有尺寸（6em，Yem）。我希望“.game_img_div”也有尺寸（6em，Yem）。

我该怎么做？谢谢 ！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-15T13:28:23.273

```
img.gamethumb {
    height:6em;
}
div.game_img_div {
    float:left;
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-15T13:28:56.667

更改容器 div 的显示类型：

```
.game_img_div {
    display: inline-block; /* `display: table` also works */
} 
```

[http://jsfiddle.net/S8GK4/](http://jsfiddle.net/S8GK4/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-15T13:26:40.110

这会成功的。

```
.game_img_div { float:left; }
img.gamethumb { float:left; } 
```

[http://jsfiddle.net/95ZUw/](http://jsfiddle.net/95ZUw/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-15T13:28:59.867

尝试CSS：

```
div.game_img_div {width:auto; display:block; position:relative}
img.gamethumb {height: 6em; max-width:100%;} 
```

和它没有的 img 标签`</ img>`

# node.js - Node.js 函数返回未定义

> ID：14895707
> 
> 赞同：1
> 
> 时间：2013-02-15T13:20:51.180
> 
> 标签：node.js

我可能对 Node.js 的异步性有一些问题。

### 休息.js

```
var Shred = require("shred");
var shred = new Shred();

module.exports = {
    Request: function (ressource,datacont) {
            var req = shred.get({
                    url: 'ip'+ressource,
                    headers: {
                Accept: 'application/json',

              },

              on: {
                // You can use response codes as events
                200: function(response) {
                  // Shred will automatically JSON-decode response bodies that have a
                  // JSON Content-Type
                  if (datacont === undefined){
                    return response.content.data;
                    //console.log(response.content.data);
                  }
                  else return response.content.data[datacont];
                },
                // Any other response means something's wrong
                response: function(response) {
                  return "Oh no!";
                }
              }
            });
    }
} 
```

### 其他.js

```
var rest = require('./rest.js');

console.log(rest.Request('/system')); 
```

问题在于，如果我从 other.js 调用请求，我总是会得到“未定义”。如果我在 rest.js 中取消注释 console.log，则 http 请求的正确响应将写入控制台。我认为问题在于该值是在请求的实际响应出现之前返回的。有谁知道如何解决这个问题？

最好的，dom

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-15T15:24:38.653

首先，剥离您拥有的代码很有用。

```
Request: function (ressource, datacont) {
  var req = shred.get({
    // ...
    on: {
      // ...
    }
  });
} 
```

你的`Request`函数从不返回任何东西，所以当你调用它和`console.log`结果时，它总是 print `undefined`。您的各种状态代码的请求处理程序调用`return`，但这些返回在各个处理程序函数内部，而不是在内部`Request`。

不过，您对 Node 的异步性质是正确的。你不可能`return`得到请求的结果，因为当你的函数返回时，请求仍在进行中。基本上，当您运行时`Request`，您正在启动请求，但它可以在将来的任何时间完成。在 JavaScript 中处理这种情况的方式是使用回调函数。

```
Request: function (ressource, datacont, callback) {
  var req = shred.get({
    // ...
    on: {
      200: function(response){
        callback(null, response);
      },
      response: function(response){
        callback(response, null);
      }
    }
  });
}

// Called like this:
var rest = require('./rest.js');
rest.Request('/system', undefined, function(err, data){
  console.log(err, data);
}) 
```

您将第三个参数传递给`Request`该参数，该参数是请求完成时要调用的函数。可能失败的回调的标准节点格式是`function(err, data){`在这种情况下成功传递`null`，因为没有错误，并且您将 传递`response`为数据。如果有任何状态码，那么您可以将其视为错误或任何您想要的。

# c++ - 有没有办法从 Xcode 调试器的调用堆栈中删除内联函数？

> ID：14895711
> 
> 赞同：0
> 
> 时间：2013-02-15T13:21:00.460
> 
> 标签：c++, xcode, lldb

我知道最新版本的 Xcode 显示内联函数并允许步入内联代码。我正在尝试调试大量使用 std::function 的代码，如果调用堆栈和步入操作都只是跳过 std::function 的所有实现细节，我真的更喜欢。新的 libc++ 用属性“always_inline”标记这些细节，以便它们总是内联（即使在调试版本中），这正是我想要的。事实上，由于我没有调试 std::function 实现，我只是不想看到这些函数......

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-16T04:56:33.653

你现在不能这样做。您可以更改 lldb 在回溯中报告堆栈帧的方式 - 请参阅[http://lldb.llvm.org/formats.html](http://lldb.llvm.org/formats.html) - 但我想不出任何方法来抑制（合成的）内联堆栈回溯中的帧。gdb 有一个设置来避免解析调试信息中的所有内联信息 - 没有步进，没有回溯 - 但尚未添加到 lldb。

实际上，您真的不想关闭内联代码支持步进。在不识别内联代码的情况下，“下一个”或“跳过”单步模式会因内联代码而严重中断。Xcode 4.6 在这方面做得很好——但剩下的情况是你“跨过”带有内联代码的源代码行，并且你从`.h`文件中看到实际的内联实现是因为编译器的调试信息不​​正确。正确获取此调试信息很棘手，虽然其中大部分是正确的，但有时您仍会在 Xcode 4.6 中使用内联方法。可能对于您正在使用的容器，您经常遇到这种情况 - 但这不是常见的情况。

lldb 确实为您提供了一种自定义输出的方法`bt`，请参阅[http://lldb.llvm.org/formats.html](http://lldb.llvm.org/formats.html)，但没有办法让它抑制内联堆栈帧。您可以很容易地在 python 中编写一个堆栈遍历器，它与真实的执行相同的操作`bt`但跳过内联帧 - 该`SBFrame::IsInlined()`方法使这变得简单。但这在您使用 Xcode 的情况下无济于事。

# php - 在 SimpleSAMLphp 模块中扩展本机库

> ID：14895712
> 
> 赞同：0
> 
> 时间：2013-02-15T13:21:01.410
> 
> 标签：php, saml

我已经使用 SimpleSAMLphp 有一段时间了。我无法弄清楚`lib/`从自定义模块扩展本机 SimpleSAMLphp 库（即在目录中找到的库）的预期方法。具体来说，我正在尝试扩展`lib/SimpleSAML/Auth/LDAP.php`.

我尝试了以下方法。我创建了一个模块 Foo `modules/Foo`。在其根目录中创建了一个`enable`文件。然后我创建了`modules/Foo/lib/Auth/Source/LDAP.php`. 这是文件的内容：

```
<?php
   class sspmod_Foo_Auth_Source_LDAP extends SimpleSAML_Auth_LDAP 
   {

     public function __construct($hostname, $enable_tls = TRUE, $debug = FALSE, $timeout = 0, $port = 389) 
     {
       die('test');
       parent::__construct($hostname, $enable_tls, $debug, $timeout, $port);
     }
   }
?> 
```

如果这个库正在工作，我希望看到一个白屏`die`作为唯一的输出。但我没有。

我已经检查了文档，但它根本不是很好。那么我该怎么做呢？那里有我想念的好方法吗？

提前致谢。

# php - 上传时保存文件位置

> ID：14895714
> 
> 赞同：-1
> 
> 时间：2013-02-15T13:21:02.917
> 
> 标签：php, post, upload

我在用 PHP 上传文件时遇到问题。我需要将文件的位置保存在数据库中，但它不起作用。另外，我想将文件重命名为时间戳+用户名。我将用户名存储在一个变量中。

最重要的是，如何将文件的位置发布到数据库？

## 编辑

现在，我正在将文件上传到服务器上的文件夹，但我不能将文件的位置保存为数据库上的字符串。我希望以后能够引用该文件，但不知道如何保存文件的位置以供以后使用。

```
$ext_img_2 = end(explode(".", $_FILES["img_2"]["name"]));
if ((($_FILES["img_2"]["type"] == "image/gif") || ($_FILES["img_2"]["type"] == "image/jpeg") || ($_FILES["img_2"]["type"] == "image/png") || ($_FILES["img_2"]["type"] == "image/pjpeg")) && ($_FILES["img_2"]["size"] < 6291456) && in_array($ext_img_2, $allowedExts))
{
    if ($_FILES["img_2"]["error"] > 0)
    {
        echo "Return Code: " . $_FILES["img_2"]["error"] . "<br>";
    }
    else
    {
        if (file_exists("AdImg2/" . $_FILES["img_2"]["name"]))
        {
            echo $_FILES["img_2"]["name"] . " already exists. " . "<br>";
        }
        else
        {
            move_uploaded_file($_FILES["img_2"]["tmp_name"], "AdImg2/" . $_FILES["img_2"]["name"]);
            mysql_query("INSERT INTO data (img_2) VALUES ('AdImg1/".$_FILES['img_1']['name']."')";
            echo "Stored in: " . "AdImg2/" . $_FILES["img_2"]["name"] . "<br>";
        }
    }
}
else
{
    echo "Invalid File" . "<br>";
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-15T13:33:30.987

我建议您为上传的文件使用唯一名称（具有类似 uniqid [http://php.net/manual/fr/function.uniqid.php](http://php.net/manual/fr/function.uniqid.php)的功能）并在需要时使用原始文件扩展名。例如 ：

```
$name = uniqid() . '.' . pathinfo($filename, PATHINFO_EXTENSION);
$name = time() . '.' . pathinfo($filename, PATHINFO_EXTENSION); // For timestamp 
```

然后，您执行巡回测试并执行以下操作：

```
$path = 'uploadedFilesDir/' . $name;
move_uploaded_file($_FILES["img_2"]["tmp_name"], $path);
mysql_query('INSERT INTO data(...) VALUES ("' . $path . '")'); 
```

就这么简单（注意目录权限，php可能无法写入目录）。

# active-directory - RID 主机角色 Active Directory

> ID：14895717
> 
> 赞同：0
> 
> 时间：2013-02-15T13:21:20.203
> 
> 标签：active-directory, windows-server-2003

在设置开发环境时，我们复制了一个 Active Directory DC。最初的设置是森林中的 3 个 AD 服务器，但我将所有主机角色都占用到了复制的机器上。运行 dcdiag 时，它会告诉我有关 RID 主机角色的信息：

```
开始测试：RidManager
   * 域的可用 RID 池为 15103 到 1073741823
   * SRVDS004.xxx.local 是 RID Master
   * DsBind 与 RID Master 成功
   * rIDAllocationPool 是 14603 到 15102
   * rIDPreviousAllocationPool 是 14603 到 15102
   * rIDNextRID: 15102
   *警告：下一个摆脱池未分配
   * 警告：当前池中可用的 RID 少于 0%
   ......................... SRVDS004 通过测试 RidManager

```

似乎 RID 下一个池是空的。我检查了 DNS 问题，但它们似乎还可以。我也删除了对其他 2 个 DC 的所有引用。

自从我们复制它以来它从未起作用，但我们现在才注意到它，因为我们的 SID 用完了，因为池中没有可用的 RID，并且 500 个批次是空的。

有没有办法检查那个主角色是否真的在运行，而不是这个输出说它正在运行，但似乎没有说明问题发生的原因。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-17T14:20:09.170

这些链接可能会对您有所帮助：

1.  [AD 内部：显示 RID 分配池](http://www.remkoweijnen.nl/blog/2011/06/27/ad-internals-display-rid-allocation-pools/)
2.  [AD 内部：重置 RID 分配池](http://www.peppercrew.nl/index.php/2011/07/ad-internals-reset-rid-allocation-pool/)

第一个链接是我写的一篇博客，它解释了 RID 机制在 Active Directory 中的工作原理。第二个链接是我写的另一个博客，它解释了如何重置 RID 分配池，并包含一个 PowerShell 脚本来重置 RID 分配池。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-10-09T10:09:19.063

RID 主机负责在域的 DC 之间分配 500 数百个 RID 的非重叠块。这样做是为了消除同时在不同 DC 上创建的不同对象之间的 RID 冲突。

# actionscript-3 - photoshop activeDocument

> ID：14895718
> 
> 赞同：3
> 
> 时间：2013-02-15T13:21:23.223
> 
> 标签：actionscript-3, apache-flex, flash-builder, photoshop, flash-javascript-api

我正在用 ActionScript 3 编写一个 Photoshop 插件。

我对 app.activeDocument 有一个非常令人困惑和令人沮丧的问题。我的代码与 Photoshop for Windows 完美配合，但在 Mac 上我得到“一般 Photoshop 错误。此功能在此版本的 Photoshop 中可能不可用。” 错误。

为了尝试找到问题的根源，我编写了一个类来获取文档引用并从测试面板中调用它。课堂通话效果很好。然后，我在我的主面板项目中包含了相同的类，它中断了。

这是我的课：-

```
package DocRefGetter
{
    import com.adobe.csawlib.photoshop.Photoshop;
    import com.adobe.photoshop.*;

    public class DocRefPhotoshop
    {

        public static function getDocRef():Document
        {
            var app:Application = Photoshop.app;

            var thisDoc:Document = app.activeDocument;
            //var thisDoc:Document = app.documents.index(0);  //Tried this method too

            return thisDoc;

        }
    }
} 
```

出于发帖的目的，我稍微简化了一些事情，即我删除了诸如“try, catch”语句之类的内容，但本质上这是在我的面板上下文中不起作用的代码。我还尝试了对 JSX 代码的等效调用，结果完全相同，在 Windows 上完美运行，在 Mac 上的测试面板中工作，在 Mac 上的主项目中不起作用。

正如我所说，在测试中，这非常有效。这是测试 mxml 代码： -

```
<?xml version="1.0" encoding="utf-8"?>
<mx:Application xmlns:mx="http://www.adobe.com/2006/mxml" layout="absolute" historyManagementEnabled="false">
    <mx:Script>
        <![CDATA[
            import DocRefGetter.DocRefPhotoshop;

            import com.adobe.photoshop.Document;

            [Bindable]
            private var hostName:String = HostObject.mainExtension;

            protected function button1_clickHandler(event:MouseEvent):void
            {
                var thisDocRef:Document = DocRefPhotoshop.getDocRef();
                testLabel.text = String(thisDocRef);
            }

        ]]>
    </mx:Script>
    <mx:VBox height="100%" width="100%" verticalAlign="middle" horizontalAlign="center">
        <mx:Button label="Run PS code" click="button1_clickHandler(event)" />
        <mx:Label id="testLabel" width="182" text="Label"/>
    </mx:VBox>
</mx:Application> 
```

我不能发布它不能工作的主要应用程序，因为它非常大而且非常复杂，所以我要问的是有没有人遇到过这种情况，在这种情况下，某些东西与这种类型的文档参考有冲突？一个多星期以来，我一直在努力解决这个问题。我尝试了许多不同的解决方案，但没有任何效果。Mac Photoshop 只是不想看到打开的文档。

欢迎提出任何建议，但我最希望有人以前遇到过这种确切的情况并有一个精确的解决方案。

非常感谢您不厌其烦地看看这个。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-19T16:21:39.390

> 所以我要问的是，有没有人遇到过这种情况，在某种程度上与这种类型的文档参考有冲突？

使用以下检查之一：

*   是 docref`null`吗？

*   文档是异步加载的吗？

*   文档是否足够大以保证超时？

**参考**

*   [脚本 Photoshop：使用文档模型](http://cssdk.s3-website-us-east-1.amazonaws.com/sdk/1.0/docs/WebHelp/app_notes/ps_doc_model.htm)

*   [Adobe Photoshop CS5 脚本指南 (pdf)](http://wwwimages.adobe.com/content/dam/Adobe/en/devnet/photoshop/pdfs/photoshop_cs5_scripting_guide.pdf)

*   [JavaScript 开发工具包 | 下载 Adob​​e ExtendScript Toolkit CC](http://www.adobe.com/products/extendscript-toolkit.html)

# android - 如果收到来电，Activity 会清除其所有数据？

> ID：14895723
> 
> 赞同：1
> 
> 时间：2013-02-15T13:21:49.187
> 
> 标签：android, phone-call

我开发了一个应用程序（有点像数学测验），用户在其中选择 4-5 个选项的答案，大约有 10 个问题。如果设备收到来电，则在回答问题时，活动会被清除，并且用户勾选的所有答案都会被清除。每次用户回答问题时，我都会更新表格。这项活动很复杂。

如何保存应用程序的状态并从同一点重新启动？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-15T13:24:35.127

[http://developer.android.com/training/basics/activity-lifecycle/pausing.html#Pause](http://developer.android.com/training/basics/activity-lifecycle/pausing.html#Pause)

您可以在暂停时保存实例状态并在恢复时恢复它

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-15T13:23:56.247

您需要使用**saveInstanceState**和**restoreInstanceState**来保存您的数据，请参阅此[答案](https://stackoverflow.com/a/4101501/1173391)，了解如何使用它。

# spring - 无法自动装配 ServletContext

> ID：14895728
> 
> 赞同：21
> 
> 时间：2013-02-15T13:21:56.503
> 
> 标签：spring

我是 Spring 的新手，我正在尝试将 ServletContext 的 @Autowire 注释与我的类属性一起使用：

```
@Controller
public class ServicesImpl implements Services{

    @Autowired
    ServletContext context; 
```

我在 dispatcher-servlet.xml 中为这个类定义了 bean：

```
<bean id="services" class="com.xxx.yyy.ServicesImpl" /> 
```

但是当我尝试运行 JUnit 测试时，会出现以下错误：

```
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No matching bean of type [javax.servlet.ServletContext] found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)} 
```

我认为 ServletContext 注入是使用 spring 自动进行的......我该如何解决这个问题？

谢谢！

编辑：我想使用 servletContext 来调用 getRealPath() 方法。有没有其他选择？

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2013-02-15T14:59:26.893

实现[ServletContextAware](http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/web/context/ServletContextAware.html)接口，Spring 将为您注入它

```
@Controller
public class ServicesImpl implements Services, ServletContextAware{

private ServletContext context;

public void setServletContext(ServletContext servletContext) {
     this.context = servletContext;
} 
```

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2013-02-15T13:45:11.070

您可能想看看可用于单元测试的[MockServletContext 。](http://static.springsource.org/spring/docs/3.2.1.RELEASE/javadoc-api/org/springframework/mock/web/MockServletContext.html)

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-02-15T13:39:52.363

`ServletContext`不是 Spring bean，因此除非您实现[`ServletContextAware`](http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/web/context/ServletContextAware.html).

如果一个人在模块或层中思考，那么 servlet 上下文不应该在 web 模块/层之外可用。我想您`ServicesImpl`是业务或服务层的一部分。

如果您提供更多背景信息，我们可能会提出更好的替代方案。

# android - 在 Fragment 中使用观察者

> ID：14895729
> 
> 赞同：4
> 
> 时间：2013-02-15T13:21:58.603
> 
> 标签：android, fragment, observer-pattern, observable

在片段中使用观察者时遇到问题，我已经实现了自己的 TextViewObserver，并且我不想将其插入片段中：

```
public class TextViewObserver extends TextView implements Observer {

public TextViewObserver(Context context, AttributeSet attrs, int defStyle) {
    super(context, attrs, defStyle);
}

public TextViewObserver(Context context, AttributeSet attrs) {
    super(context, attrs);
}

public TextViewObserver(Context context) {
    super(context);
}

@Override
public void update(java.util.Observable o, Object arg) {
    // TODO Auto-generated method stub
    this.setText(String.valueOf(arg));

} 
```

我的片段代码：

```
public class MyFragment extends Fragment {
private TextViewObserver mTextView;// = new TextView(this.getActivity());
private ApplicationContext mContext;
private DataObservable mDataObservable;

@Override
public View onCreateView(LayoutInflater inflater, ViewGroup container,
        Bundle savedInstanceState) {

    View view = inflater.inflate(R.layout.fragment_6, container, false);
    mTextView = (TextViewObserver) view.findViewById(R.id.sicthtxtview);
    return view;
}

@Override
public void onAttach(Activity activity) {
    super.onAttach(activity);
    mContext = (ApplicationContext) activity.getApplicationContext();
    mDataObservable = mContext.getObservable();

}

@Override
public void onStart() {
    super.onStart();
    mDataObservable.addObserver(mTextView);
} 
```

我的 DataObservable 在我的类 ApplicationContext（扩展应用程序）中：

```
public class ApplicationContext extends Application {

private DataObservable _mData;

@Override
public void onCreate() {
    super.onCreate();
    _mData = new DataObservable();
}

public DataObservable getObservable() {
    return _mData;
} 
```

当 DataObservable 发生变化时，必须通知 MyTextViewObserver，并在 Fragment 中的结果 setText 中。这是 LogCat 给出的错误：

```
android.view.ViewRootImpl$CalledFromWrongThreadException: Only the original thread that created a view hierarchy can touch its views. 
```

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-15T13:34:23.960

在 Android 中，您只能`View`从 UI 线程操作 s。您可以通过使用在 UI 线程上运行一些代码`View.post()`，如下所示：

```
@Override
public void update(java.util.Observable o, final Object arg) {
    this.post(new Runnable() {
        public void run() {
            this.setText(String.valueOf(arg));
        } 
    }
} 
```

[http://developer.android.com/reference/android/view/View.html#post(java.lang.Runnable)](http://developer.android.com/reference/android/view/View.html#post(java.lang.Runnable))

# qt - 在 QTreeView 中设置选中项的样式

> ID：14895734
> 
> 赞同：2
> 
> 时间：2013-02-15T13:22:08.633
> 
> 标签：qt, stylesheet, qtreeview

如何在 QTreeView 中设置选中项的样式。我有这个代码：

```
QTreeView::indicator:checked, QTableView::indicator:checked
{
    image: none;
}
QTreeView::item:checked, QTableView::item:checked
{
    color: rgb(120, 120, 120);
} 
```

指示器不显示图像，但是，选中的项目仍以常规文本颜色显示。

# git - 在 github 上 fork 一个目录

> ID：14895736
> 
> 赞同：7
> 
> 时间：2013-02-15T13:22:14.297
> 
> 标签：git, github, git-fork

我在 github 上有一个项目，这是一个大项目的分支。我为此创建了一个插件，但他们告诉我他们不会包含该插件，我必须单独发布它，所以现在我想 fork 已经分叉的项目，但不是所有内容，只是我制作该插件的目录。可能吗？

*编辑：* 显然在 github 上我不能 fork 我自己的存储库，所以我认为答案是否定的。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-15T13:37:46.197

您可以使用`git filter-branch`重写存储库的整个历史记录，只是为了保留（和移动）您的插件。这样做可以让您保留插件历史记录。然后在回答[https://stackoverflow.com/a/14895900/611560](https://stackoverflow.com/a/14895900/611560)`git submodule`中建议使用[https://stackoverflow.com/users/1967966/anh-nhan-nguyen](https://stackoverflow.com/users/1967966/anh-nhan-nguyen)

问候。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2017-02-01T07:27:55.740

### 只需`git filter-branch`完成这项工作。

克隆包含子文件夹的存储库。

```
git clone https://github.com/USERNAME/REPOSITORY-NAME 
```

要从存储库中的其余文件中过滤掉子文件夹，请运行 git filter-branch，提供以下信息：

*   `FOLDER-NAME`：项目中您要从中创建单独存储库的文件夹。

*   `BRANCH-NAME`：当前项目的默认分支，例如 master 或 gh-pages。

.

```
cd REPOSITORY-NAME
git filter-branch --prune-empty --subdirectory-filter FOLDER-NAME  BRANCH-NAME 
```

使用现有的远程名称和远程存储库 URL 为您的新存储库设置新的远程 URL 并推送

```
git remote set-url origin https://github.com/USERNAME/NEW-REPOSITORY-NAME.git
git push -u origin BRANCH-NAME 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-15T13:32:43.297

将包含插件的目录放在单独的 GitHub 存储库中。我假设它是`yourname/yourplugin`

fork 大项目（`yourname/bigproject`此处），并将插件存储库添加为子模块。

```
git clone git@github.com/yourname/bigproject .
git submodule add git@github.com:yourname/yourplugin path/to/the/plugin 
```

更新/拉取时，只需运行以下命令：

```
git pull --recurse-submodules
git submodule update 
```

我认为你第一次必须这样做`git submodule update --init`。可能是我的想象。

# java - TimeZone.getDefault() 如何工作？

> ID：14895739
> 
> 赞同：8
> 
> 时间：2013-02-15T13:22:23.127
> 
> 标签：java

> 我的服务器在美国，我正在通过网络浏览器访问印度的应用程序，在这种情况下`TimeZone.getDefault()`会返回什么？如果它返回基于印度的时区，它将返回什么？
> 
> 我已将控制面板设置更改为系统的不同区域设置和不同时区，即使它没有根据我的设置进行更改。
> 
> 我已经把代码写成了休闲...

```
def dateFormat = DateFormat.getDateTimeInstance(DateFormat.DEFAULT,DateFormat.DEFAULT,Locale.getDefault())
dateFormat.setTimeZone(TimeZone.getDefault()) 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-15T13:25:51.937

它将返回执行 JVM TimeZone.getDefault() 的时区。因此，如果应用程序在印度的服务器上运行，它将类似于“亚洲/加尔各答”。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-15T13:29:23.633

默认时区通常是为主机设置的，而不是用户或应用程序。在您的情况下，它将是您的应用程序正在运行的服务器的默认时区，很可能是美国时区。

尝试`date +%Z`在服务器上的 Unix 控制台中运行命令。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-15T13:25:07.153

这是“这段代码在哪里执行”的问题。如果您正在谈论正在由印度的浏览器访问的 Web 应用程序，那么您获得的日期类型将是在美国。好吧，除非您为用户会话设置正确的语言环境和时区。[在像Vaadin](https://vaadin.com/book/-/page/calendar.localization.html)这样的框架中，一旦您调用`setLocale()`应用程序，它也会设置时区，但在其他平台中，您可能必须显式使用具有特定时区的日期格式化程序。

# ruby-on-rails - 轨道载波安装条件

> ID：14895743
> 
> 赞同：4
> 
> 时间：2013-02-15T13:22:36.920
> 
> 标签：ruby-on-rails, ruby, carrierwave

一些验证功能后，我需要挂载图片上传器。

但是，如果我像往常一样在模型中调用安装上传器：

```
mount_uploader :content, ContentUploader 
```

carrierwave 首先下载内容，然后 Rails 开始验证模型。

具体来说，我根本不想加载大文件！我想检查 http 标头`Content-length`，`Content-type`然后，如果没问题，安装上传器。

也许是这样的：

```
if condition
  mount_uploader :content, ContentUploader
end 
```

我该怎么做？

PS Rails 版本 3.2.12

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2017-05-06T17:58:07.817

如果您只想避免加载大文件，这不是要走的路！也就是说，可以有条件 mount overriding `content=`。

由于 CarrierWave v1.1.0 仍然没有条件挂载。但要注意，`mount_uploader`首先在类中[包含一个模块](https://github.com/carrierwaveuploader/carrierwave/blob/v1.1.0/lib/carrierwave/mount.rb#L138)，然后[覆盖](https://github.com/carrierwaveuploader/carrierwave/blob/v1.1.0/lib/carrierwave/mount.rb#L363)原来`content=`的调用被包含模块中`content=` [定义的方法。](https://github.com/carrierwaveuploader/carrierwave/blob/v1.1.0/lib/carrierwave/mount.rb#L145)因此，解决方法是在您调用**后**`mount_uploader`重新定义访问器：

```
class YourModel < ActiveRecord::Base
    mount_uploader :content, ContentUploader

    def content=(arg)
        if condition
            super
        else
            # original behavior
            write_attribute(:content, arg)
        end
    end

    def content
        # some logic here
    end
end 
```

# c# - 将 RichTextBox FlowDocument 保存到图像

> ID：14895745
> 
> 赞同：2
> 
> 时间：2013-02-15T13:22:46.377
> 
> 标签：c#, wpf, image, printing, richtextbox

我正在制作一个程序，我希望将我的 RichTextBox 内容（文本+图像）保存为图像（jpg/png）。我尝试使用[此解决方案](http://social.msdn.microsoft.com/forums/en-US/wpf/thread/5978a7f1-7e7e-48f7-a0b4-aad6a6310c02) ，但我只得到黑色填充图像

```
SaveUIAsGraphicFile() 
```

我还尝试从我的 rtb 控件创建 FormattedText，打印效果很好，但无法在其中插入图像。也许有可能以某种方式打印 FlowDocument ？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-15T14:36:29.013

您可以使用类似以下方法从 FlowDocument 创建位图：

```
public BitmapSource FlowDocumentToBitmap(FlowDocument document, Size size)
{
    document = CloneDocument(document);

    var paginator = ((IDocumentPaginatorSource)document).DocumentPaginator;
    paginator.PageSize = size;

    var visual = new DrawingVisual();
    using (var drawingContext = visual.RenderOpen())
    {
        // draw white background
        drawingContext.DrawRectangle(Brushes.White, null, new Rect(size));
    }
    visual.Children.Add(paginator.GetPage(0).Visual);

    var bitmap = new RenderTargetBitmap((int)size.Width, (int)size.Height,
                                        96, 96, PixelFormats.Pbgra32);
    bitmap.Render(visual);
    return bitmap;
}

public FlowDocument CloneDocument(FlowDocument document)
{
    var copy = new FlowDocument();
    var sourceRange = new TextRange(document.ContentStart, document.ContentEnd);
    var targetRange = new TextRange(copy.ContentStart, copy.ContentEnd);

    using (var stream = new MemoryStream())
    {
        sourceRange.Save(stream, DataFormats.XamlPackage);
        targetRange.Load(stream, DataFormats.XamlPackage);
    }

    return copy;
} 
```

然后使用它如下所示将 RichTextBox 的文档保存到图像文件中。

```
var doc = richTextBox.Document;
var bm = FlowDocumentToBitmap(doc, new Size(richTextBox.ActualWidth, richTextBox.ActualHeight));
var encoder = new JpegBitmapEncoder();
encoder.Frames.Add(BitmapFrame.Create(bm));

using (var stream = new FileStream("doc.jpg", FileMode.Create))
{
    encoder.Save(stream);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-05-29T18:43:12.027

![默认列分页示例](../Images/9541e86fecb995b61e32bb3878829f58.png)

您可以花费 HOURS 来寻找宽度错误的原因，而实际上它试图在列中分页。将文档的列宽设置为输出位图的全宽。

```
 public Bitmap FlowDocumentToBitmap(FlowDocument document, Size size)
    {
        document = CloneDocument(document);
        document.ColumnWidth = size.Width;// <-  Add this line 
```

# r - rcpp 或 rdyncall

> ID：14895746
> 
> 赞同：7
> 
> 时间：2013-02-15T13:22:47.980
> 
> 标签：r, rcpp

我正在寻找某种参考资料，这些参考资料解释了与使用 rdyncall 相比，使用 Rcpp 的专业人士的观点。使用这两种方法的人能否从 R 包开发人员的角度解释基本区别，他们有兴趣为 C++ 代码提供 R 包装器。

谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-15T15:46:11.310

我认为我们在（简要）比较中提到了 rdyncall 与 intro vignette / JSS 论文中的其他方法。它是一个简洁的包，但旨在实现更低级别的连接。据我了解，它为您提供了具有最少模糊量的 C 级 API，例如 rgl 包。[在最近的 R Journal 问题](http://journal.r-project.org/archive/2012-1/RJournal_2012-1_Adler.pdf)中，有一篇关于 rdyncall 的非常好的和详细的论文。

除非我错过了什么，否则它在 C++ 方面对您没有任何帮助。而 Rcpp 用于`.Call()`来回传递完整的 R 对象，并设法为您自动映射各种 R 和 C++ 类型——可以添加您自己的映射器。

# facebook - 缓存共享链接 - 清除缓存的自动解决方案

> ID：14895759
> 
> 赞同：0
> 
> 时间：2013-02-15T13:23:29.757
> 
> 标签：facebook, caching

我有几个带有 facebook 元标签的网页。问题是，只有在我使用了对象的[Debugger](http://developers.facebook.com/tools/debug)之后，Facebook 才开始识别它们。如何强制 Facebook 自动解析我的所有元标签？

当我发布链接时，Facebook 应该升级到更新的链接。Facebook不做这个工作，它不应该做吗？

解决办法是什么？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-01T18:05:06.623

您是否尝试过使用该`curl`方法？

```
curl -v https://developers.facebook.com/tools/lint/?url=YOUR_URL_HERE&format=json
```

如果可行，您可以设置一个自动脚本/cron 作业来解决问题。

# javascript - 主干和下划线js为什么需要使用bindAll

> ID：14895766
> 
> 赞同：1
> 
> 时间：2013-02-15T13:23:46.760
> 
> 标签：javascript, backbone.js, underscore.js

我正在学习以下教程： [http ://arturadib.com/hello-backbonejs/docs/1.html](http://arturadib.com/hello-backbonejs/docs/1.html)

其中有这段代码：

```
(function($){
  var ListView = Backbone.View.extend({    
    el: $('body'), // attaches `this.el` to an existing element.
initialize(): Automatically called upon instantiation. Where you make all types of bindings, excluding UI events, such as clicks, etc.

    initialize: function(){
      _.bindAll(this, 'render'); // fixes loss of context for 'this' within methods

       this.render(); // not all views are self-rendering. This one is.
    },

    render: function(){
      $(this.el).append("<ul> <li>hello world</li> </ul>");
    }
  });
  var listView = new ListView();      
})(jQuery); 
```

在initialize方法中，为什么需要做bindAll。我对 bindAll 的理解是它允许在调用 render 时使用 this 的上下文。

由于我们调用 this.render() 不是上下文已经 this...为什么我们需要`bindAll`？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-15T13:29:38.057

在这段代码中，`bindAll`for 'render' 确实是多余的。但是`render`在其他上下文中调用时它很有用（特别是作为回调）。

# java - 如何使用在 actionlistener 中设置的变量

> ID：14895768
> 
> 赞同：0
> 
> 时间：2013-02-15T13:23:50.683
> 
> 标签：java, swing, actionlistener

我在理解如何使用 actionlistener 来更改变量的值时遇到问题。

在我的程序中，我需要存储用户通过选择一些单选按钮所做的选择。

我有一个带有卡片布局的主类，然后是几个类，每个类都是不同的面板。在其中一个面板中，我有一些单选按钮，其中一个 actionlistener 作为内部类。

当我尝试在主类中打印变量值时，它会在用户做出选择之前立即打印出来，因为我实例化面板类并从中获取变量我在用户更改之前获取变量.

我知道我不应该以 Java 的线性方式思考，但是如何确保在用户更改变量之后而不是之前获取变量？我将无法做到这一点，我会吗？我知道我的想法有一些缺陷，但我已经很久没有好好睡觉了，我就是无法理解这一点。

```
public class Screen3 extends JPanel{

JRadioButton addition = new JRadioButton("Addition");
JRadioButton subtraction = new JRadioButton("Subtraction");
JRadioButton multiplication = new JRadioButton("Multiplication");
JRadioButton division = new JRadioButton("Division");
JRadioButton all = new JRadioButton("All");

JRadioButton single = new JRadioButton("Single");
JRadioButton two = new JRadioButton("Double");
JRadioButton triple = new JRadioButton("Triple");
JRadioButton mix = new JRadioButton("Mix");

JRadioButton five = new JRadioButton("5");
JRadioButton ten = new JRadioButton("10");

private int type, digit, rounds;

public Screen3() {

JPanel firstButtonPanel = new JPanel();
    JPanel secondButtonPanel = new JPanel();
    ButtonGroup myFirstGroup = new ButtonGroup();
    ButtonGroup mySecondGroup = new ButtonGroup();

    myFirstGroup.add(addition);
    myFirstGroup.add(subtraction);
    myFirstGroup.add(multiplication);
    myFirstGroup.add(division);
    //myFirstGroup.add(all);

    mySecondGroup.add(single);
    mySecondGroup.add(two);
    mySecondGroup.add(triple);
    //mySecondGroup.add(mix);

    firstButtonPanel.setLayout(new FlowLayout());
    firstButtonPanel.add(addition);
    firstButtonPanel.add(subtraction);
    firstButtonPanel.add(multiplication);
    firstButtonPanel.add(division);
    //firstButtonPanel.add(all);

    secondButtonPanel.setLayout(new FlowLayout());
    secondButtonPanel.add(single);
    secondButtonPanel.add(two);
    secondButtonPanel.add(triple);
    //secondButtonPanel.add(mix);

    JPanel buttons = new JPanel();
    buttons.setLayout(new BorderLayout());
    buttons.add(selectionLabel, BorderLayout.NORTH);
    buttons.add(firstButtonPanel, BorderLayout.CENTER);
    buttons.add(secondButtonPanel, BorderLayout.SOUTH);

ButtonGroup myThirdGroup = new ButtonGroup();
    JPanel endButtons = new JPanel();

    myThirdGroup.add(five);
    myThirdGroup.add(ten);

    endButtons.add(five);
    endButtons.add(ten);

    endPanel.setLayout(new BorderLayout());
    endPanel.add(rounds, BorderLayout.NORTH);
    endPanel.add(endButtons, BorderLayout.CENTER);

    setLayout(new BorderLayout());
    add(buttons, BorderLayout.NORTH);

Selection sn = new Selection();

    addition.addActionListener(sn);
    subtraction.addActionListener(sn);
    multiplication.addActionListener(sn);
    division.addActionListener(sn);

    single.addActionListener(sn);
    two.addActionListener(sn);
    triple.addActionListener(sn);

    five.addActionListener(sn);
    ten.addActionListener(sn);
}

public int getType() {
    return type;
}

public int getDigit() {
    return digit;
}

public int getRounds() {
    return rounds;
}

public class Selection implements ActionListener {  
    public void actionPerformed(ActionEvent e) {
        if(addition.isSelected()) { 
            type = 1;
        }
        else if(subtraction.isSelected()) {
            type = 2;
        }
        else if(multiplication.isSelected())
            type = 3;
        else if(division.isSelected())
            type = 4;
        //else if(all.isSelected())
            //type = 5;

        if(single.isSelected()) {
            digit = 1;
            System.out.println("single");
        }
        else if(two.isSelected())
            digit = 2;
        else if(triple.isSelected())
            digit = 3;

        if(five.isSelected())
            rounds = 5;
        else if(ten.isSelected())
            rounds = 10;
    }
} 
```

}

这是主要课程：

```
public class Driver {

public JFrame frame = new JFrame("Math Game");

public JPanel screens = new JPanel(new CardLayout());

int digit = 1;
int rounds = 1;
int type = 1;

Driver() {

}

public void show() {

    JPanel buttonPanel = new JPanel();
    JButton next = new JButton("Next");
    JButton previous = new JButton("Previous");
    buttonPanel.add(previous);
    buttonPanel.add(next);

    Screen1 screen1 = new Screen1();  
    Screen2 screen2 = new Screen2();
    Screen3 screen3 = new Screen3();

    screens.add(screen1, "welcome");
    screens.add(screen2, "next");
    screens.add(screen3, "selection");

    frame.add(screens);
    frame.add(buttonPanel, BorderLayout.PAGE_END);
    frame.setSize(400, 500);
    frame.setLocationRelativeTo(null);
    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
    frame.setVisible(true);

    next.addActionListener(new ActionListener()
    {
        public void actionPerformed(ActionEvent ae)
        {
            CardLayout cl = (CardLayout)(screens.getLayout());
            cl.next(screens);
        }
    });

    previous.addActionListener(new ActionListener()
    {
        public void actionPerformed(ActionEvent ae)
        {
            CardLayout cl = (CardLayout)(screens.getLayout());
            cl.previous(screens);
        }
    });
}

public static void main(String args[]) {
    SwingUtilities.invokeLater(new Runnable() {
        public void run() {
            Driver dr = new Driver();
            dr.show();
        }
    });
} 
```

}

我只是尝试 System.out.println(screen3.getType()); 的测试打印 在 show() 或 main

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-15T13:35:56.990

使用具有[模态](http://docs.oracle.com/javase/tutorial/uiswing/misc/modality.html)`JOptionPane`的/ 。`JDialog`

阅读[如何制作对话框](http://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html)

例如*这里*只在`JDialog`关闭后打印：

```
public static void main(String[] args) {
    SwingUtilities.invokeLater(new Runnable() {
        @Override
        public void run() {
            JDialog jd = new JDialog();
            jd.setDefaultCloseOperation(JDialog.DISPOSE_ON_CLOSE);
            jd.setModal(true);
            jd.pack();
            jd.setVisible(true);

            System.out.println("Here");
        }
    });
} 
```

在此示例中*，此处*仅在`JOptionPane`关闭后打印：

```
public static void main(String[] args) {
    SwingUtilities.invokeLater(new Runnable() {
        @Override
        public void run() {
            JPanel panel=new JPanel();
            panel.add(new JLabel("Hello, world!"));

            JOptionPane.showMessageDialog(null, panel, "Panel Message",JOptionPane.PLAIN_MESSAGE);

            System.out.println("Here");
        }
    });
} 
```

> 我知道我不应该以 Java 的线性方式思考，但是如何确保在用户更改变量之后而不是之前获取变量？

使用模态`JDialog`/后`JOptionPane`，您只需使用公共*getter*来访问包含在类实例中的变量：

```
public class Test {
    public static void main(String[] args) {
       X x= new X();//will only return after dialog closed

       System.out.println(x.getY());
    }
}

class X {

    private int y=0;//will be assigned during dialog/joptionpanes life span

    public X() {
        SwingUtilities.invokeLater(new Runnable() {
            @Override
            public void run() {
               //creates and shows the modal dialog/optionpane which will allow modification of variable y through some input/controls
            }
       });
    }

    public int getY() {
        return y;
    }
} 
```

# c# - 在asp.net页面错误后面的代码上调用webbrowser控件？

> ID：14895771
> 
> 赞同：1
> 
> 时间：2013-02-15T13:24:10.497
> 
> 标签：c#, asp.net, .net, vb.net

如何在 asp.net 页面后面的代码中使用 webbrowser 控件。我收到此错误：

无法实例化 ActiveX 控件，因为当前线程不在单线程单元中。

谢谢您的帮助

```
Imports System.Windows.Forms
Imports System.Drawing
Imports System.Drawing.Imaging
Imports System.Web.UI.WebControls

Partial Class _Default

    Dim testcontrol As New WebBrowser() ' it breaks here

    Protected Sub Page_Load(sender As Object, e As EventArgs) Handles Me.Load

        testcontrol.Navigate("mysite")

    End Sub

End Class 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-15T14:28:52.187

为什么要在 ASP.NET 应用程序的幕后使用 WebBrowser？如果您需要与另一台服务器上的网页交互，通常人们会使用`HttpWebRequest`.

如果我错了，有人可以纠正我，但我相信网络应用程序，几乎按照定义，不能是单线程的。Web 应用程序是多用户的，可以做多件事并同时容纳多个用户。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T08:31:06.870

这是有效的：

```
/// <summary>
        /// Returns a thumbnail for the current member values
        /// </summary>
        /// <returns>Thumbnail bitmap</returns>
        protected Bitmap GetThumbnail()
        {
            try
            {
            // WebBrowser is an ActiveX control that must be run in a single-threaded
            // apartment so create a thread to create the control and generate the
            // thumbnail
            Thread thread = new Thread(new ThreadStart(GetThumbnailWorker));
            thread.SetApartmentState(ApartmentState.STA);
            thread.Start();
            thread.Join();
            return _bmp;
            }
            catch (Exception ex)
            {
                using (StreamWriter writer = new StreamWriter("log.txt", true))
                {
                    writer.WriteLine(string.Format("[{0}] {1}", DateTime.Now.ToString(), ex.ToString()));
                    writer.Flush();
                    writer.Close();
                }
                return null;
            }
        }

/// <summary>
        /// Creates a WebBrowser control to generate the thumbnail image
        /// Must be called from a single-threaded apartment
        /// </summary>
        protected void GetThumbnailWorker()
        {
            try
            {
                using (WebBrowser browser = new WebBrowser())
                {
                    browser.ClientSize = new Size(_width, _height);
                    //browser.ScrollBarsEnabled = false;
                    browser.ScriptErrorsSuppressed = true;
                    browser.Navigate(_url);
                    // Wait for control to load page
                    while (browser.ReadyState != WebBrowserReadyState.Complete)
                        Application.DoEvents();
                    // Render browser content to bitmap
                    _bmp = new Bitmap(_thumbWidth, _thumbHeight);
                    browser.DrawToBitmap(_bmp, new Rectangle(0, 0, _thumbWidth, _thumbHeight));
                }
            }
            catch (Exception ex)
            {
                using (StreamWriter writer = new StreamWriter("log.txt", true))
                {
                    writer.WriteLine(string.Format("[{0}] {1}", DateTime.Now.ToString(), ex.ToString()));
                    writer.Flush();
                    writer.Close();
                }
            }
        } 
```

# sql - 两个日期之间的平均差异，按第三个字段分组？

> ID：14895782
> 
> 赞同：10
> 
> 时间：2013-02-15T13:24:45.023
> 
> 标签：sql

所以说我们有3个领域，`username, start_date, end_date`

用户启动和停止多条记录，例如下面的 bob 已经启动和停止了两条记录。

```
bob   1/2/13 11:00  1/2/13 13:00
jack  1/2/13 15:00  1/2/13 18:00
bob   2/2/13 14:00  1/2/13 19:00 
```

我需要知道每个用户（即按用户分组，而不仅仅是每一行）的平均时间（即开始和结束之间的差异），以小时为单位。

我无法完全理解如何进行差异、平均和分组？有什么帮助吗？

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2013-02-15T13:27:10.510

您没有为差异指定所需的粒度。这在几天内完成：

```
select username, avg(end_date - start_date) as avg_days
from mytable
group by username 
```

如果您想要以秒为单位的差异，请使用[`datediff()`](http://www.sqlines.com/postgresql/how-to/datediff)：

```
select username, avg(datediff(ss, start_date, end_date)) as avg_seconds
... 
```

datediff 可以通过改变第一个参数（可以是 ss、mi、hh、dd、wk、mm 或 yy）来测量任何时间单位（最长为年）的差异。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-02-15T13:28:02.257

```
SELECT [username], AVG(TIMESTAMPDIFF(HOUR, start_date, end_date))
FROM [table]
GROUP BY [username] 
```

# iphone - 如何在uiscrollview上获取第一个和最后一个选择的uibutton标题？

> ID：14895783
> 
> 赞同：1
> 
> 时间：2013-02-15T13:24:52.053
> 
> 标签：iphone, ios, objective-c, uiscrollview, uibutton

我正在创建多个 `UIButtons (example- around 40 buttons) in`UIScrollview`，我想为选择的第一个和最后一个按钮获取一个字符串（从 - 到）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-15T13:49:02.523

您不需要任何`tags`大数组来保存所有标题并匹配以检索该标题。但是有一个简单的方法。

只需创建一个操作方法并将所有按钮连接到此方法。

然后当用户按下按钮时，动作方法将被调用。

在该方法中获取该按钮的标题并将其存储在`NSMutableArray`. 所以你现在在按下两个按钮后得到了两个标题。

```
- (IBAction)buttonPressed:(UIButton *)sender {
      [titleArray addObject:sender.titleLabel.text ];
} 
```

# c - 代码在 windows XP 上的 malloc() 崩溃

> ID：14895790
> 
> 赞同：0
> 
> 时间：2013-02-15T13:25:25.253
> 
> 标签：c, malloc

我的简化代码如下所示：

```
 char decrypted[64] = "P@ssw0rd                ";
 int realsize = 8;
  realloc(decrypted, realsize);

  char *dec2 = (char *) malloc(realsize+1); // Exe crashes at this point 
```

我猜它与**char *dec2 有关** ，但这只会因某种原因导致 Win XP 崩溃。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-15T13:26:24.703

您不能使用or或`realloc()`未分配的内容。`malloc()``calloc()``realloc()`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-15T13:28:20.793

`decrypted`是分配在堆栈上的数组。`realloc`只能用`malloc`或重新分配在堆上分配的内存`calloc`。

# sql - 如何在数据库表的列中实现“主”Id 值

> ID：14895794
> 
> 赞同：1
> 
> 时间：2013-02-15T13:25:33.147
> 
> 标签：sql, sql-server

假设我有 3 个如下表：

**Person**
PersonId INT [PK，唯一集群 idx，身份是]
PersonName VARCHAR(50) [非空]
ContactId INT [唯一非集群 idx，非空，FK 到联系人表的 ContactId 列]

**Company**
CompanyId INT [PK，唯一集群 idx，身份是]
CompanyName VARCHAR(100) [非空]
ContactId INT [唯一非集群 idx，非空，FK 到联系人表的 ContactId 列]

**Contact**
ContactId INT [PK，唯一集群 idx，身份是]
CreatedDate DATETIME [非空，默认值 getdate()]

我将在以下 3 个插入操作中显示所需的最终结果（从所有空表开始）...

我在 Person 中插入一行，并希望得到：

**人员表**-
PersonId 1
PersonName 'First Person'
ContactId 1

**联系人表**-
ContactId 1
CreatedDate getdate() 值

然后我在 Company 中插入一行，并希望得到：

**公司表**- CompanyId 1
CompanyName 'First Company'
ContactId 2

**联系人表**- ContactId 2
CreatedDate getdate() 值

我在 Person 中插入第二行，并希望得到：

**人员表**- PersonId 2
PersonName 'Second Person'
ContactId 3

**联系人表**- ContactId 3
CreatedDate getdate() 值

我希望以上说明我想要完成什么，即我想使用 Contact 表作为一种“唯一值生成器”类型的机制，可以这么说，以便任何时候我在 Person 或 Company 中插入一行（或我想将类似的 ContactId 列放入的任何其他表），任何/所有这些表中的每个 ContactId 值都是唯一的。

实现这一目标的最有效方法是什么？是否可以使用 Person 和 Company 表上的触发器来执行此操作，以便我只能从我的应用程序代码中执行一次插入操作（如果可以，触发器代码会是什么样子）？或者我是否总是必须从我的应用程序代码中执行多个 I/O 操作，其中我首先向 Contact 表插入一行，取回 scope_identity() 值，然后将该值用于插入到 Person 的 ContactId 值或公司？还是其他一些比其中任何一种更好的方法？

非常感谢任何见解！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-15T13:36:03.183

您需要为您的contactId 有一个[序列](http://documentation.basis.com/BASISHelp/WebHelp/b3odbc/sql_sequences.htm)，并根据触发器从contactId 的序列中插入值

# tcp - 通过套接字发送二进制文件数据

> ID：14895795
> 
> 赞同：0
> 
> 时间：2013-02-15T13:25:36.470
> 
> 标签：tcp, serversocket

我正在尝试使用 TCP 在 C 中编写一个套接字程序，它将二进制文件数据从服务器发送到客户端，但我不知道该怎么做。

换句话说，我需要将二进制文件从服务器下载到客户端。

有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-15T13:37:17.477

*对于套接字，*数据包内的数据没有区别。就网络及其结构而言，它被称为*有效负载，格式仅对发送/接收它的应用程序很重要。*因此，您的“通过套接字发送二进制数据”的问题转换为“如何通过套接字发送数据”，这在 SO 中得到了多次回答，并且互联网上有很多教程。你也没有提到你使用的是什么平台，所以从[这里](http://linux.die.net/man/7/socket)[开始](http://msdn.microsoft.com/en-us/library/windows/desktop/ms740673%28v=vs.85%29.aspx)Linux 和Windows 或者只是谷歌周围的*套接字编程*。

# android - Android - setOnCheckedChangeListener 出现 NullPointerException

> ID：14895797
> 
> 赞同：0
> 
> 时间：2013-02-15T13:25:38.580
> 
> 标签：android, checkbox, nullpointerexception, radio-button, oncheckedchanged

我正在尝试`AlertDialog`通过添加`RadioButton`和`CheckBox`询问用户信息来自定义一个。但是，应用程序在加载对话框时崩溃，并且`NullPointerException`在添加`setOnCheckedChangeListener`到单选按钮和复选框时会崩溃。有关更多详细信息，请查看下面的源代码和错误日志：

```
public class DashboardActivity extends Activity implements CheckBox.OnCheckedChangeListener {
    private UserFunctions userFunctions;
    private String preferences = "none";
    private String spending = "none";

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

     // Check login status in database
        Intent skip = getIntent();
        userFunctions = new UserFunctions(this);
        if(userFunctions.isUserLoggedIn(getApplicationContext()) || (skip!=null && skip.getBooleanExtra("IS_SKIPPED", false) == true)){
       // user already logged in or skip logging in, show dashboard
            setContentView(R.layout.dashboard);

            ActionBar actionBar = getActionBar();
            actionBar.hide();

            if (userFunctions.isUserLoggedIn(getApplicationContext()) && !userFunctions.isInfoEntered()){
// missing user's info about preferences and spending -> show dialog to ask for input
                AlertDialog.Builder alert = new AlertDialog.Builder(this);
                alert.setTitle("Additional information")
                .setMessage("Please provide more information for better recommendations:");

                View view = getLayoutInflater().inflate(R.layout.popup, null);
                alert.setView(view);
                RadioGroup radioGroup = (RadioGroup) findViewById(R.id.spendGroup);
                radioGroup.setOnCheckedChangeListener(new OnCheckedChangeListener(){
                    public void onCheckedChanged(RadioGroup group, int checkedId){
                        RadioButton button = (RadioButton) findViewById(checkedId);
                        spending = button.getText().toString();
                    }
                });
                CheckBox westernBox = (CheckBox) findViewById(R.id.WesternInput);
                westernBox.setOnCheckedChangeListener(this);
                CheckBox asianBox = (CheckBox) findViewById(R.id.AsianInput);
                asianBox.setOnCheckedChangeListener(this);
                CheckBox buffetBox = (CheckBox) findViewById(R.id.buffetInput);
                buffetBox.setOnCheckedChangeListener(this);
                CheckBox hotpotBox = (CheckBox) findViewById(R.id.hotpotInput);
                hotpotBox.setOnCheckedChangeListener(this);
                CheckBox ffoodBox = (CheckBox) findViewById(R.id.fastInput);
                ffoodBox.setOnCheckedChangeListener(this);
                CheckBox grillBox = (CheckBox) findViewById(R.id.grillInput);
                grillBox.setOnCheckedChangeListener(this);
                CheckBox sfoodBox = (CheckBox) findViewById(R.id.seafoodInput);
                sfoodBox.setOnCheckedChangeListener(this);
                CheckBox veganBox = (CheckBox) findViewById(R.id.veganInput);
                veganBox.setOnCheckedChangeListener(this);
                CheckBox iceBox = (CheckBox) findViewById(R.id.iceInput);
                iceBox.setOnCheckedChangeListener(this);
                CheckBox cakeBox = (CheckBox) findViewById(R.id.cakeInput);
                cakeBox.setOnCheckedChangeListener(this);
                CheckBox allBox = (CheckBox) findViewById(R.id.allInput);
                allBox.setOnCheckedChangeListener(this);

                alert.setNeutralButton("Save", new DialogInterface.OnClickListener() {
                   public void onClick(final DialogInterface dialog,final int which) {
                        DatabaseHandler db = new DatabaseHandler(DashboardActivity.this);
                        UserFunctions userFunction = new UserFunctions(DashboardActivity.this);
                        userFunction.updateUser(db.getUserDetails().get("email"), db.getUserDetails().get("name"), db.getUserDetails().get("password"), db.getUserDetails().get("bday"), db.getUserDetails().get("country"), preferences, spending);                                                    
                   }
                });
                alert.create().show();
            }

        }else{
            // user is not logged in show login screen
            Intent login = new Intent(getApplicationContext(), WelcomeActivity.class);
            login.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);
            startActivity(login);
            // Closing dashboard screen
            finish();
        }
    }

    @Override
    public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {
        if (isChecked==true){
            if (buttonView.getId()!=R.id.allInput){
                preferences += buttonView.getText().toString() + ", "; 
            }
            else{
                preferences += "Asian, Western, buffet, hot pot, grill, fastfood, seafood, vegan, ice-cream, cake";
            }
        }
        else if (!isChecked && preferences.indexOf(buttonView.getText().toString()) > 0){

        }
    } 
```

Logcat 中显示的错误：

> 02-15 13:07:04.182: E/AndroidRuntime(1795): 致命异常: main 02-15 13:07:04.182: E/AndroidRuntime(1795): java.lang.RuntimeException: 无法启动活动 ComponentInfo{com. hanu.hgourmet/com.hanu.hgourmet.DashboardActivity}: java.lang.NullPointerException 02-15 13:07:04.182: E/AndroidRuntime(1795): at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2180) 02 -15 13:07:04.182: E/AndroidRuntime(1795): 在 android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2230) 02-15 13:07:04.182: E/AndroidRuntime(1795): 在 android.app .ActivityThread.access$600(ActivityThread.java:141) 02-15 13:07:04.182: E/AndroidRuntime(1795): 在 android.app.ActivityThread$H.handleMessage(ActivityThread.java:1234) 02-15 13: 07:04.182：E/AndroidRuntime(1795)：在 android.os.Handler。dispatchMessage(Handler.java:99) 02-15 13:07:04.182: E/AndroidRuntime(1795): at android.os.Looper.loop(Looper.java:137) 02-15 13:07:04.182: E/ AndroidRuntime(1795): 在 android.app.ActivityThread.main(ActivityThread.java:5039) 02-15 13:07:04.182: E/AndroidRuntime(1795): 在 java.lang.reflect.Method.invokeNative(Native Method) 02-15 13:07:04.182: E/AndroidRuntime(1795): 在 java.lang.reflect.Method.invoke(Method.java:511) 02-15 13:07:04.182: E/AndroidRuntime(1795): 在com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:793) 02-15 13:07:04.182: E/AndroidRuntime(1795): at com.android.internal.os.ZygoteInit.main(ZygoteInit .java:560) 02-15 13:07:04.182: E/AndroidRuntime(1795): at dalvik.system.NativeStart.main(Native Method) 02-15 13:07:04.182: E/AndroidRuntime(1795): Caused经过：java.lang.NullPointerException 02-15 13:07:04.182: E/AndroidRuntime(1795): at com.hanu.hgourmet.DashboardActivity.onCreate(DashboardActivity.java:60) 02-15 13:07:04.182: E/AndroidRuntime (1795): 在 android.app.Activity.performCreate(Activity.java:5104) 02-15 13:07:04.182: E/AndroidRuntime(1795): 在 android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1080) 02-15 13:07:04.182: E/AndroidRuntime(1795): 在 android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2144) 02-15 13:07:04.182: E/AndroidRuntime(1795): ... 11 更多 02-15 13:11:23.641: E/AndroidRuntime(1865): FATAL EXCEPTION: main 02-15 13:11:23.641: E/AndroidRuntime(1865): java.lang.RuntimeException: Unable to start activity ComponentInfo{ com.hanu.hgourmet/com.hanu.hgourmet.DashboardActivity}：java.lang。NullPointerException 02-15 13:11:23.641: E/AndroidRuntime(1865): 在 android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2180) 02-15 13:11:23.641: E/AndroidRuntime(1865): 在 android .app.ActivityThread.handleLaunchActivity(ActivityThread.java:2230) 02-15 13:11:23.641: E/AndroidRuntime(1865): 在 android.app.ActivityThread.access$600(ActivityThread.java:141) 02-15 13: 11:23.641: E/AndroidRuntime(1865): 在 android.app.ActivityThread$H.handleMessage(ActivityThread.java:1234) 02-15 13:11:23.641: E/AndroidRuntime(1865): 在 android.os.Handler .dispatchMessage(Handler.java:99) 02-15 13:11:23.641: E/AndroidRuntime(1865): 在 android.os.Looper.loop(Looper.java:137) 02-15 13:11:23.641: E /AndroidRuntime(1865): 在 android.app.ActivityThread.main(ActivityThread.java:5039) 02-15 13:11:23.641:E/AndroidRuntime(1865): 在 java.lang.reflect.Method.invokeNative(Native Method) 02-15 13:11:23.641: E/AndroidRuntime(1865): 在 java.lang.reflect.Method.invoke(Method. java:511) 02-15 13:11:23.641: E/AndroidRuntime(1865): 在 com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:793) 02-15 13:11:23.641: E/AndroidRuntime(1865): 在 com.android.internal.os.ZygoteInit.main(ZygoteInit.java:560) 02-15 13:11:23.641: E/AndroidRuntime(1865): 在 dalvik.system.NativeStart.main （本机方法）02-15 13:11:23.641：E/AndroidRuntime(1865)：引起：java.lang.NullPointerException 02-15 13:11:23.641：E/AndroidRuntime(1865)：在 com.hanu.hgourmet .DashboardActivity.onCreate(DashboardActivity.java:60) 02-15 13:11:23.641: E/AndroidRuntime(1865): 在 android.app.Activity.performCreate(Activity.java:5104) 02-15 13:11:23.641: E/AndroidRuntime(1865): 在 android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1080) 02-15 13:11:23.641: E/AndroidRuntime(1865): 在android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2144) 02-15 13:11:23.641: E/AndroidRuntime(1865): ... 11 更多

请帮我在这里找到问题。谢谢你的帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-15T13:32:19.507

采用

```
RadioGroup radioGroup = (RadioGroup)view. findViewById(R.id.spendGroup); 
```

代替

```
RadioGroup radioGroup = (RadioGroup) findViewById(R.id.spendGroup); 
```

要从 AlertDialog 获取视图，您需要使用`view`或 AlertDialog 实例

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-15T13:33:30.703

请试试这个

```
RadioGroup radioGroup = (RadioGroup) view.findViewById(R.id.spendGroup); 
```

# mysql - 限制sql查询MYSQL中的结果

> ID：14895798
> 
> 赞同：-1
> 
> 时间：2013-02-15T13:25:45.220
> 
> 标签：mysql

我有一个包含以下字段的表：

```
 id
 name
 date_created
 department 
```

我想得到所有的记录排序`date_created`

但我只想要每个部门的 2 个结果。

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-15T13:37:00.363

像这样的东西应该可以工作——你需要得到你的行号，按部门分组：

```
SELECT Id, 
  Name, 
  Date_Created, 
  Department
FROM (
    SELECT @curRow:=CASE WHEN @prevRow = Department THEN @curRow+1 ELSE 1 END AS rn,
      Id, 
      Name, 
      Date_Created, 
      Department,
      @prevRow:=Department   clset
    FROM YourTable
      JOIN (SELECT @curRow:= 0) r
    ORDER BY Department, Date_Created DESC
  ) t
WHERE rn <= 2 
```

还有一些样品[Fiddle](http://sqlfiddle.com/#!2/abb90/1)。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-02-15T13:30:10.553

```
select * from tablename
group by department
order by date_created
limit 0, 2 
```

# java - 在java中用“\”字符替换字符串

> ID：14895799
> 
> 赞同：1
> 
> 时间：2013-02-15T13:25:48.097
> 
> 标签：java, regex

我正在匹配一个模式，它是句子“you are test”中的字符串“test”，并将其替换为“test\”。

```
StringBuffer sb = new StringBuffer();
Pattern pattern = Pattern.compile("test", Pattern.CASE_INSENSITIVE);
Matcher matcher = pattern.matcher("you are test");
while (matcher.find()) {
matcher.appendReplacement(sb, "test\"));
            }
matcher.appendTail(sb);
replacementString = sb.toString(); 
```

问题在于`matcher.appendReplacement(sb, "test\"));`“\”被视为特殊字符并且不执行替换的语句中。

请分享您对如何克服这种情况以及如何用字符串中的“\”替换的想法。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-15T13:28:15.940

要将 a 放入`\`java 中的字符串文字中，您必须将其转义为`\\`.

但这有点复杂。请参阅 javadoc：

> 请注意，`\`替换字符串中的反斜杠 ( ) 和美元符号 ($) 可能会导致结果与将其视为文字替换字符串时的结果不同。如上所述，美元符号可以被视为对捕获的子序列的引用，并且反斜杠用于转义替换字符串中的文字字符。

所以你必须双重转义：

```
matcher.appendReplacement(sb, "test\\\\")); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-15T13:39:10.157

当一行代码做同样的事情时，你为什么要使用所有这些代码行：

```
String s = input.replaceAll("test", "$0\\\\"); 
```

请注意使用`$0`来反向引用整个匹配项，并使用双双反斜杠来创建文字正则表达式反斜杠。

# iphone - 如果 iphone sqlite 中已存在记录，则阻止插入

> ID：14895817
> 
> 赞同：1
> 
> 时间：2013-02-15T13:26:50.667
> 
> 标签：iphone, objective-c, ios6, sqlite

如果它不存在，我想将一条记录插入到 iphone 中的 sqlite 表中。

我正在使用三个名为

*   `id(integer primary key Auto increment)`

*   `name(text)`

*   `address(text)`

如果表中存在名称，则不应插入任何行。

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-15T13:31:04.937

试试这个（[来源](http://www.sqlite.org/lang_insert.html)）：

```
INSERT OR IGNORE INTO TableName (Field) VALUES 'value' 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-15T13:50:21.537

使字段`name`a`UNIQUEKEY`和其余部分将由 sqlite 本身处理。

这是创建表查询：

> CREATE TABLE YourTableName (id integer NOT NULL PRIMARY KEY AUTOINCREMENT DEFAULT 0,name text UNIQUE, address text)

# android - 如何从 array.xml 中获取特定的字符串

> ID：14895822
> 
> 赞同：0
> 
> 时间：2013-02-15T13:26:55.070
> 
> 标签：android

我正在创建一个简单的测验应用程序，它可以使用 array.xml 的资源（没有外部解析器，没有适配器）

```
<string-array name="Question1">
        <item name="Question">This is Question1</item>
        <item name="Answer">option1</item>
        <item name="option1">option2</item>
        <item name="option2">option3</item>
        <item name="option3">option4</item>
</string-array> 
```

我得到了这段代码的所有元素

```
String[] quesArray = getResources().getStringArray(R.array.Question1); 
```

现在我想得到字符串“Answer”，以便进一步使用和操作它怎么可能？我试过了

```
int resId = context.getResources().getIdentifier("Answer", "string", getPackageName()); 
```

但它给出了错误

```
android.content.res.Resources$NotFoundException: String resource ID #0x0 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-15T13:48:11.013

尝试如下：

> ```
> <string-array name="Question1">
>     <item>This is Question1</item>
>     <item>option1</item>
>     <item>option2</item>
>     <item>option3</item>
>     <item>option4</item>
>  </string-array>
>  String[] quesArray = getResources().getStringArray(R.array.Question1);
>  int resId = context.getResources().getIdentifier("Answer", "string", getPackageName()); 
> ```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-15T13:40:13.553

```
<string name="question">This is Question1</string>
<string name="answer">Answer</string>

<string-array name="question1">
    <item>@string/question</item>
    <item>@string/answer</item>
</string-array> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-15T13:41:22.607

StringArray 不是 String 资源（这是您在 getIdentifier 中要求的）。

鉴于您的字符串数组中有一个带有问题、答案、选项的固定结构，执行您建议的最简单方法就是使用您采用的固定索引。那就是 - 给定一个这样的数组：

```
<string-array name="Question1">
    <item>This is Question1</item>
    <item>1</item>
    <item>option1</item>
    <item>option2</item>
    <item>option3</item>
</string-array> 
```

按如下方式访问您的答案（请注意，我将您的答案“字符串”替换为正确答案的索引）：

```
final int QUESTION = 0;
final int ANSWER = 1;
String question = quesArray[QUESTION];
String answer = quesArray[Integer.parseInt(quesArray[ANSWER]) + 1)]; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-15T13:32:47.267

字符串数组的格式正确，如下所示：

```
<string-array name="question1">
<item>option 1</item>
<item>option 2</item>
</string-array> 
```

我从未见过你使用它的方式。
[http://developer.android.com/guide/topics/resources/string-resource.html](http://developer.android.com/guide/topics/resources/string-resource.html)了解更多信息。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-15T13:34:59.760

尝试这个：

```
<?xml version="1.0" encoding="utf-8"?>  
<resources>  
<string-array name="testArray">  
    <item>first</item>  
    <item>second</item>  
    <item>third</item>  
    <item>fourth</item>  
    <item>fifth</item>  
 </string-array>
</resources> 
```

并尝试此链接，这将对您有所帮助：

[帮助从 arrays.xml 文件中获取字符串数组](https://stackoverflow.com/questions/2453989/help-in-getting-string-array-from-arrays-xml-file)

# python - 放一个彩条 matplotlib

> ID：14895824
> 
> 赞同：1
> 
> 时间：2013-02-15T13:27:04.220
> 
> 标签：python, matplotlib, wxpython

我将如何在 matplotlib 中的图表旁边放置一个颜色条。我的图表是一个有 155 行和列的矩阵，我希望我的颜色条与矩阵对齐。颜色栏中的数据可以是随机的。我只想在我的图表旁边排列一个颜色条

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-15T13:32:09.617

与`pyplot.colorbar`功能。有关函数的参数等，请参阅[http://matplotlib.org/api/pyplot_api.html?highlight=colorbar#matplotlib.pyplot.colorbar](http://matplotlib.org/api/pyplot_api.html?highlight=colorbar#matplotlib.pyplot.colorbar)上的文档。此外，如果您想要更多控制权，您可能需要查看以下示例： http: [//matplotlib.org/examples/api/colorbar_only.html](http://matplotlib.org/examples/api/colorbar_only.html)。

# actionscript-3 - 在计时器类中包含播放功能时未定义？闪存 AS3

> ID：14895828
> 
> 赞同：1
> 
> 时间：2013-02-15T13:27:26.387
> 
> 标签：actionscript-3, flash, timer, playback

我的 AS3 flash 脚本有问题。

我有一个包含 3 个电影剪辑项目的数组，我想在每个项目之间以 1 秒的计时器延迟播放每个项目。但是，当在“播放”实例周围放置一个计时器类时，它会返回一个未定义属性的错误。

```
//Randomise MC array
function randomSort(a:*, b:*):Number
{
    if (Math.random() < 0.5) return -1;
    else return 1;
}
var obstacleArray:Array = [obstacleCar,obstacleCar2,obstacleCar3];
obstacleArray.sort(randomSort);

trace(obstacleArray);
trace(obstacleArray.length);

//Delay initially 1 second upon entering frame
var timerPlay:Timer = new Timer(1000,1);
timerPlay.addEventListener(TimerEvent.TIMER, ontimerPlay);
timerPlay.start();
function ontimerPlay(evt:TimerEvent):void{

    //FOR EACH OBSTACLE, Run through array delaying each item by 1 second

    for(var i:Number=0; i<obstacleArray.length; i++){

        var timerDelay:Timer = new Timer(1000,1);
        timerDelay.addEventListener(TimerEvent.TIMER, ontimerDelay);
        timerDelay.start();
        function ontimerDelay(evt:TimerEvent):void{

        obstacleArray[i].play();
        trace(obstacleArray[i]);

        trace(i);
            }
        }
} 
```

如果你能帮助我，非常感谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-15T14:13:04.390

如果您看到 trace(i) 的输出，则输出应始终为 3。这是因为在调用 eventHandler 时，i 的值已经增加到 3。在索引 3 处，您没有任何障碍。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T21:41:35.870

欢迎来到封闭的世界！

显然，在 ActionScript 中，你必须做一些骇人听闻的事情才能让它正常工作；这个问题询问的情况几乎与您所处的情况相同-答案对我有用：

[as3中如何将变量绑定到函数](https://stackoverflow.com/questions/6283126/how-do-you-bind-a-variable-to-a-function-in-as3)

# excel - 在 Excel 图表上应用格式

> ID：14895830
> 
> 赞同：2
> 
> 时间：2013-02-15T13:27:41.193
> 
> 标签：excel, charts, formatting

是否有任何简单的方法可以将任何特定 Excel 图表的格式应用于其他 Excel 图表。不仅仅是大小，还有标题字体、边框、字体大小等。

不确定是否重要，但我使用的是 Excel 2013。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-15T13:32:28.270

我认为这应该对您有所帮助：[将图表格式应用于其他图表](http://peltiertech.com/WordPress/apply-chart-formatting-to-other-charts/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-15T14:04:09.620

您可以创建自定义图表类型（可以从普通的“图表类型”UI 访问。

[http://www.wiseowl.co.uk/blog/s191/how_to_create_custom_charts_in_microsoft_excel.htm](http://www.wiseowl.co.uk/blog/s191/how_to_create_custom_charts_in_microsoft_excel.htm)

这是一个非 VBA 解决方案；可能比代码模块更加用户友好和可分发。缺点是它们可能仍需要一些微调，但如果您主要关注字体大小、颜色等标准化，自定义图表将起到作用。

# php - 如果不通过标头位置重定向，您将如何在 PHP 中显示已发送的消息？

> ID：14895835
> 
> 赞同：0
> 
> 时间：2013-02-15T13:28:08.720
> 
> 标签：php, html, forms, jquery-mobile, echo

我正在使用 JQuery mobile，它在加载外部文件时遇到问题 - 始终显示“错误加载页面”消息。所以我不能在提交表单后使用 PHP 中的标题位置重定向到页面。

一旦按下提交按钮，您将如何在提交按钮下方显示已发送的消息？

这是 HTML：

```
<form method="post" id="update_beer" action="php/input_pint.php">
      <p><label for="name">Your name</label><input type="text" size="30" name="name" id="name" /></p>
      <p><label for="price">Price of a pint</label><input type="number" name="price" id="price" cols="5" /></p>
      <p><input type="submit" value="Update" name="commit" id="message_submit"/> or 
      <a class="close" href="/">Cancel</a></p>
</form> 
```

这是将所有输入发送到我的数据库的 PHP：

```
<?php
//input price_pint.php
$con = mysql_connect("hostname", "databasename", "password");
if (!$con) {
die("Could not connect." . mysql_error());
}
mysql_select_db("databasename", $con);

$sql="INSERT INTO price_pints (name, price)
VALUES
('$_POST[name]','$_POST[price]')";

if (!mysql_query($sql,$con))
{
die('Error: ' . mysql_error());
}

mysql_close($con);
?> 
```

我只是不知道如何将回声消息与我的表单相关联。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-15T13:33:57.563

您可以使用 ajax，还需要 sql 转义您的输入，否则像`Foster's` `Sam Smith's`ect 这样的饮料会破坏您的查询。

```
<script>
$("#update_beer").submit(function(e){
    $.ajax({
        type: "POST",
        url: "php/input_pint.php",
        data: $("#update_beer").serialize(),
        success: function(data){
            if(data=='true'){
                alert('Beer Added');
            }
        }
    });
    e.preventDefault();
});
</script> 
```

还有一种使用 PDO 连接和插入数据库的更好方法：

```
<?php
try {
    $db = new PDO("mysql:host=127.0.0.1;dbname=databasename", 'dbuser', 'dbpassword');
    $db->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
    $db->setAttribute(PDO::ATTR_EMULATE_PREPARES, false);
}catch (Exception $e){
    die('Cannot connect to mySQL server.');
}

if($_SERVER['REQUEST_METHOD']=='POST'){
    if(!empty($_POST['name']) && !empty($_POST['price'])){
        $sql = 'INSERT into price_pints (`name`,`price`) VALUES (:name,:price)';
        $query = $db->prepare($sql);
        $query->bindParam(':name', $_POST['name'], PDO::PARAM_STR);
        $query->bindParam(':price', $_POST['price'], PDO::PARAM_STR);
        $query->execute();
        die('true');
    }
}
die('false');
?> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-15T13:34:42.870

创建一个函数，将其插入数据库并返回一个标志，如果成功则返回 true，如果出现问题则返回 falseg.then 根据标志回显您的消息。

# shell - Vim 替换一行单词中的特定字符

> ID：14895836
> 
> 赞同：1
> 
> 时间：2013-02-15T13:28:13.713
> 
> 标签：shell, vim

我想在文件中替换`;`为`,`。

```
Query ; Query Time ; Lock Time ; Rows Examined

Closed User Count ; 19.530083 ; 0.000090 ; 64;49;246 
```

预期输出：

```
Query ; Query Time ; Lock Time ; Rows Examined

Closed User Count ; 19.530083 ; 0.000090 ; 64,49,246 
```

我使用 vim 替换来替换。但是，我不知道如何在这种情况下更换。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-15T13:38:10.410

简短的回答：

> :%s/(\d*);(\d*);(\d*)$/\1,\2,\3/gc

解释：

`%s/search/replace/gc`- 将找到所有搜索实例并将它们替换为替换。最后的 c 使得 vi 会提示您进行每次更改

`\(\d*\);\(\d*\);\(\d*\)`- 直到你击中分号为止的数字，三遍。转义的括号将捕获输出

`\1,\2,\3`- 转义数字为您提供我们在搜索字符串中捕获的数据

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-15T13:40:46.917

假设所有“;” 在数字之间：

```
:%s/\(\d\);\(\d\)/\1,\2/g 
```

或者，如果您正在寻找“;” 前面没有空格

```
:%s/ \@<!;/,/g 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-15T13:44:00.000

```
:%s#\([^ ]\);\([^ ]\)#\1,\2#g 
```

解释：

在`%`每一行中应用命令。

替换命令不关心您使用哪个分隔符。它使用 . 之后的第一个字符`s`。当使用（很多）反斜杠时，我使用 eg `#`。

它需要 ("not-a-space" ; "not-a-space") 并将其替换为 (that 1st "not-a-space" , 2nd "not-a-space")

`g`在行尾使其替换每行的所有出现（不仅仅是第一个）

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-15T13:45:28.970

比利答案的变体，匹配“一个或多个”数字而不是“0 或多个”：

```
:%s/\v(\d+);(\d+);(\d+)/\1,\2,\3 
```

另一个匹配“至少 2”位数字：

```
:%s/\v(\d{2,});(\d{2,});(\d{2,})/\1,\2,\3 
```

# mysql - 将多行合并为一

> ID：14895842
> 
> 赞同：1
> 
> 时间：2013-02-15T13:28:21.927
> 
> 标签：mysql, rows

我有以下查询，但这一个返回 3 行，我想要一行 ;-)

```
SELECT 
b_firstname ,value
FROM
cscart_user_profiles
RIGHT JOIN profile_fields_data ON profile_fields_data.object_id =    user_profiles.profile_id
WHERE 
user_profiles.b_title NOT LIKE ''
AND user_profiles.profile_id = '4252'
AND (
    profile_fields_data.field_id ='69' 
    OR 
    profile_fields_data.field_id ='73' 
    OR 
    profile_fields_data.field_id ='75'
) 
```

...但这将返回 3 行：

```
user1 value
user1 value
user1 value 
```

我想要 1 行：

用户 1 值 69 用户 73 值 75

我该如何解决这个问题？

在数据所在的 2 个表下方

```
 CREATE TABLE IF NOT EXISTS `cscart_user_profiles` (
  `profile_id` mediumint(8) unsigned NOT NULL AUTO_INCREMENT,
  `user_id` mediumint(8) unsigned NOT NULL DEFAULT '0',
  `profile_type` char(1) NOT NULL DEFAULT 'P',
  `b_title` varchar(32) NOT NULL DEFAULT '',
  `b_firstname` varchar(128) NOT NULL DEFAULT '',
  `b_lastname` varchar(128) NOT NULL DEFAULT '',
  `b_address` varchar(64) NOT NULL DEFAULT '',
  `b_address_2` varchar(64) NOT NULL DEFAULT '',
  `b_city` varchar(64) NOT NULL DEFAULT '',
  `b_county` varchar(32) NOT NULL DEFAULT '',
  `b_state` varchar(32) NOT NULL DEFAULT '',
   ......
  PRIMARY KEY (`profile_id`),
  KEY `uid_p` (`user_id`,`profile_type`),
  KEY `profile_type` (`profile_type`)
) ENGINE=MyISAM  DEFAULT CHARSET=utf8 AUTO_INCREMENT=0 ;

CREATE TABLE IF NOT EXISTS `cscart_profile_fields_data` (
  `object_id` mediumint(8) unsigned NOT NULL DEFAULT '0',
  `object_type` char(1) NOT NULL DEFAULT 'U',
  `field_id` mediumint(8) unsigned NOT NULL DEFAULT '0',
  `value` varchar(255) NOT NULL DEFAULT '0',
  PRIMARY KEY (`object_id`,`object_type`,`field_id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-15T13:34:48.890

您可以分别加入 profile_fields_data 表 3 次以在单行上获取 3 个单独的值。

```
SELECT  b_firstname, 
        pfd69.value as value69, 
        pfd73.value as value73, 
        pfd75.value as value75 

FROM    cscart_user_profiles AS up

        RIGHT JOIN cscart_profile_fields_data AS pfd69
        ON pfd69.object_id = up.profile_id      
        AND pfd69.field_id ='69'

        RIGHT JOIN cscart_profile_fields_data AS pfd73
        ON pfd73.object_id = up.profile_id      
        AND pfd73.field_id ='73'

        RIGHT JOIN cscart_profile_fields_data AS pfd75
        ON pfd75.object_id = up.profile_id      
        AND pfd75.field_id ='75'

WHERE   up.b_title NOT LIKE ''
        AND up.profile_id = '4252' 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-15T13:32:23.157

可以使用嵌套查询吗？

```
SELECT * FROM (
   SELECT User1, Value69 FROM table ) AS T1
INNER JOIN (
   SELECT User2, Value75 FROM table ) AS T2 ON T1.Somevalue = T2.Somevalue 
```

等等

但是如果没有看到你的模式，很难写一个有用的例子

# java - Java正则表达式删除任何东西的单引号

> ID：14895843
> 
> 赞同：2
> 
> 时间：2013-02-15T13:28:23.853
> 
> 标签：java, regex

我有一个巨大的字符串，看起来像：

```
widgets: '{some-really-huge-string-omitted-for-brevity}' 
```

我想删除单引号，以便得到：

```
widgets: {some-really-huge-string-omitted-for-brevity} 
```

实际上，`some-really-huge-string-omitted-for-brevity`是一个包含字母数字字符、标点符号的巨大字符串，基本上是所有东西。到目前为止我最好的尝试：

```
bigString = bigString.replaceAll("widgets: '\\{*\\}'", "widgets: \\{*\\}"); 
```

不会抛出任何异常/错误，但也不会改变任何事情！当我打印`bigString`时，它仍然和替换之前一样！有任何想法吗？提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-15T13:31:58.000

```
String str = "widgets: '{some-really-huge-string-omitted-for-brevity}'";
System.out.println (str.replaceAll ("'([^']*)'", "$1")); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-15T13:33:09.410

```
string= string.replace("'", ""); 
```

如果您想删除任何内容周围的所有单引号，请尝试上面的代码。

```
string= string.replace("'{", "{").replace("}'","}"); 
```

如果要在打开大括号“{”和关闭大括号“}”之前删除单引号。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-15T13:34:09.363

如果引号总是在那些地方。（即字符串的第 9 个和最后一个字符），然后只需使用子字符串来修剪和重新加入。扫描整个字符串会很慢而且毫无意义。

```
修剪后的字符串 = hugeString.substring(0, 9) + hugeString.substring(10, hugeString.length() - 1);

```

**更新**

看到您接受了这个答案，这可能是一个更有效的版本：

```
StringBuilder b = new StringBuilder(hugeString);
b.deleteCharAt(9);
b.deleteCharAt(b.length() - 1);
字符串修剪 = b.toString();

```

# javascript - 关闭窗口会破坏事件循环假设

> ID：14895844
> 
> 赞同：16
> 
> 时间：2013-02-15T13:28:24.680
> 
> 标签：javascript, internet-explorer, internet-explorer-9

我遇到了一个小烦恼，后来变成了一个大问题。

**问题 1：**在 Internet Explorer 中，当您关闭一个窗口（您通过打开的窗口`window.open`）`ownerDocument`时，它会随之消失。

这意味着任何对 DOM 的调用，例如`appendChild`or `createElement`，都会以`SCRIPT70: Permission Denied`or失败`SCRIPT1717: The interface is unknown`。

我查看了其他浏览器（例如 Chrome）的行为。在 Chrome`ownerDocument`中仍然引用`#document`但`ownerDocument.defaultView`最终会是`undefined`. 这对我来说很有意义。调用`appendChild`并将`createElement`通过。只要您不尝试`defaultView`直接引用，我认为一切都很好。

**问题 2：**在 Internet Explorer 中，当您单击生成窗口的关闭按钮时，它似乎不尊重事件循环。我将一个事件附加`unload`到生成的窗口，它*立即*触发，而不是在事件循环结束时对其进行排队。这对我来说*没有*意义。处理这个相当微不足道的问题变得非常不可能。

如果我们只是遇到*问题 1*，那么将有一个 - 仍然很痛苦但 - 直接的解决方案：检查是否`ownerDocument`存在，如果不存在则跳过。因为它`ownerDocument`在同步 JavaScript 代码的中间消失了。

**预期行为：**如果您引用了 DOM 节点，则它不应消失 - 垃圾收集理智。

**预期行为 2：** DOM 节点不应在同步代码中消失。（除非你当然删除它）。

**已知的解决方法：**将所有与 DOM 交互的代码移到窗口中，这样当窗口关闭时，JavaScript 运行时环境也会关闭。这不是一个简单的解决方案，可能需要对您的架构进行重大更改。

**糟糕的解决方案：**将任何与 DOM 交互的函数包装在一个函数中，如果它检测到元素的窗口已关闭，则会消耗错误。这是相当有侵略性的，对性能有很大的影响，而且 IE 已经很慢了。

有更好的解决方案吗？

我想要的至少是一种*忽略*`Error`由于用户关闭窗口而引发的任何s 的方法。*问题 1*和*问题 2*打破了您对 JavaScript 代码所做的基本假设：垃圾收集和事件循环。

* * *

**演示脚本**

```
<script type="text/javascript">
function go() {
    var popup = window.open('', 'open', 'width=500,height=300,scrollbars=yes,resizable=yes');
    popup.document.open();
    popup.document.write('<html><head></head><body></body></html>');
    popup.document.close();
    for (var i = 0; i < 10000; i += 1) {
        var node = popup.document.createTextNode(i + " ");
        popup.document.body.appendChild(node);
    }
}
</script>
<input type="button" onclick="go();" value="Open popup" /> 
```

（另存为 .html 文件）

指示：

*   在 Internet Explorer 9 中打开
*   点击“打开弹窗”
*   渲染时关闭窗口
*   观察“权限被拒绝”

这是一个 JSFiddle：http: [//jsfiddle.net/C9p2R/1/](http://jsfiddle.net/C9p2R/1/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T11:21:24.730

除非有人有更好的解决方案，否则我会选择*糟糕的解决方案*。这是我的代码：

```
function apply_window_close_fix(dom_element, wrapped_element) {
    var ignore_errors = false;
    dom_element.ownerDocument.defaultView.addEventListener("unload", function () {
        ignore_errors = true;
    });
    return map(wrapped_element, function (key, func) {
        return function () {
            try {
                return func.apply(this, arguments);
            } catch (e) {
                if (ignore_errors === false) {
                    throw e;
                }
            }
        };
    });
} 
```

`wrapped_element`是我为修改 DOM 返回的 API。我已经将所有函数包装在一个 try-catch 中，如果它看到窗口已关闭，它将忽略错误。我只对行为类似于 Internet Explorer 的浏览器调用此函数。

似乎只有很小的性能影响。当然，这取决于您调用此 API 的密集程度。

一个小缺点是当前重新抛出*一些*错误在某些浏览器中被破坏了。重新抛出 DOMException 会重置 Internet Explorer 和 Chrome（可能还有其他）中的堆栈。我还发现无法从 Internet Explorer 中的 DOMException 中获取文件名和行号。再一次，一个严重的疏忽最终只会浪费每个人的时间。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-23T11:46:42.040

好的，让我试着简化一下。为了获得窗口的响应能力并避免在孩子关闭时中断应用程序，必须结合几件事。

1.  父级不应直接修改子 DOM。功能应该在孩子本身。*但是，如果函数从父级触发并同步执行，仅此一项并不能解决任何问题。挂起的窗口和异常仍然存在。*
2.  父调用子函数的主函数必须使用`setTimeout`or `setInterval`来调度 DOM 修改函数，将执行委托给子函数并立即返回。*这一步使自动清理成为可能！*
3.  子进程中持久的 DOM 操作应使用`setTimeout`or拆分为更快的块`setInterval`，以便事件循环不会长时间锁定。*这给了两个窗口的响应能力*。

子 javascript 的最简单示例。从父级调用的函数是`LongLastingOperation`，它已被分成 4 个块：

```
<script>
    function wasteTime(message) {
        // TODO: waste time
    }
    function FirstPartOfLongOperation(){
        wasteTime('long... part 1');
        setTimeout(SecondPartOfLongOperation, 0);
    }
    function SecondPartOfLongOperation() {
        wasteTime('long... part 2');
        setTimeout(ThirdPartOfLongOperation, 0);
    }
    function ThirdPartOfLongOperation() {
        wasteTime('long... part 3');
        setTimeout(FourthPartOfLongOperation, 0);
    }
    function FourthPartOfLongOperation() {
        wasteTime('long... part 4');
        alert('Done!');
    }

    // Main entry, called from parent.
    // Ex: popup.LongLastingOperation({ data: ....})
    function LongLastingOperation(parametersPassedFromParentWindow) {
        // decompose long operation
        setTimeout(FirstPartOfLongOperation, 0);
    }
</script> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-23T02:18:27.290

在尝试了几件事（postMessage，Worker，...）之后总是遇到 IE9 问题，我找到了很好的解决方案。我使用 setInterval 函数制作了 Parallel.For 循环。捕获在这里：

> setInterval() 方法将继续调用该函数，直到调用 clearInterval() 或**关闭窗口**。

创建节点的逻辑在子窗口中，但它是从父窗口触发的。循环是分块执行的，因为使用了 setInterval，所以在任何时候关闭子窗口都不会产生错误。此外，浏览器不会挂起（运行时无论是父母还是孩子）。它看起来像这样：

![在此处输入图像描述](../Images/2aff11ca7605857f66b8ce2c300807e2.png)

我们有 3 个组件：parent-ie.html、child-ie.html 和小的 parallel.js 文件。一个怪癖是，所有浏览器都使用了 setInterval(function, -1)。正值是制动 IE，第二个省略的参数使 Opera 感到困惑，因此它只产生了第一个功能块。无论如何，代码在这里：

**父id.html**

```
<!DOCTYPE html>
<html>
<head>
    <title>Parent</title>
</head>
<body>
    <script type="text/javascript">
        'use strict';
        (function(){
            var popup;
            var pathname = 'child-ie.html';

            window.openPopup = function _open() {
                popup = window.open(pathname, 'open', 'width=500,height=300,scrollbars=yes,resizable=yes');
            }

            window.createElements = function _createElements() {
                if (popup == null || popup.closed == true) {
                    alert("Open new popup window first.");
                    return;
                }
                var numberOfElements = parseInt(document.getElementById('numberOfElements').value);
                popup.writeElements(numberOfElements);
            }
        })();
    </script>
    <button onclick="openPopup()">Open popup</button><br />
    <button onclick="createElements()">Create elements</button>
    <input id="numberOfElements" type="number" value="10000" />
</body>
</html> 
```

**child-ie.html**

```
<!doctype html>
<html>
<head>
    <title>Child window</title>
</head>
<body>
<script src="/Scripts/Parallel.js"></script>
<script>
    (function(){
        function _iterator(index) {
            var node = document.createTextNode(index + " ");
            document.body.appendChild(node);
        }

        window.writeElements = function (numberOfElements) {
            document.body.innerHTML = '';
            Parallel.For(0, numberOfElements, 100, _iterator);
        }
    })();
</script>
</body>
</html> 
```

**/Scripts/Parallel.js**

```
'use strict';
var Parallel;
(function (Parallel) {
    var Iterator = (function () {
        function Iterator(from, to, step, expression) {
            this._from = from;
            this._to = to;
            this._step = step;
            this._expression = expression;
        }
        Object.defineProperty(Iterator.prototype, "intervalHandle", {
            set: function (value) {
                this._intervalHandle = value;
            },
            enumerable: true,
            configurable: true
        });
        Iterator.prototype.next = function () {
            var max = this._to > this._step + this._from ? this._step + this._from : this._to;
            for(var i = this._from; i < max; i += 1) {
                this._expression(i);
            }
            if(max === this._to) {
                clearInterval(this._intervalHandle);
            } else {
                this._from = max;
            }
        };
        return Iterator;
    })();    
    function For(from, to, step, expression) {
        var _iterator = new Iterator(from, to, step, expression);
        _iterator.intervalHandle = setInterval(function () {
            _iterator.next();
        }, -1);
    }
    Parallel.For = For;
})(Parallel || (Parallel = {})); 
```

Javascript 是从 typescript 文件生成的（可能比 javascript 更清晰）：

```
'use strict';
module Parallel {
    class Iterator {
        private _from: number;
        private _to: number;
        private _step: number;
        private _expression: (index: number) => {};
        private _intervalHandle: number;

        public set intervalHandle(value: number) {
            this._intervalHandle = value;
        }

        constructor(from: number, to: number, step: number, expression: (index: number) => {}) {
            this._from = from;
            this._to = to;
            this._step = step;
            this._expression = expression;
        }

        next() {
            var max: number = this._to > this._step + this._from ? this._step + this._from : this._to;
            for (var i = this._from; i < max; i += 1) {
                this._expression(i);
            }
            if (max === this._to) {
                clearInterval(this._intervalHandle);
            }
            else {
                this._from = max;
            }
        }
    }
    export function For(from: number, to: number, step: number, expression: (index: number) => {}) {
        var _iterator = new Iterator(from, to, step, expression);
        _iterator.intervalHandle = setInterval(function () {
            _iterator.next();
        }, -1);
    }
} 
```

就这样。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-18T05:24:22.123

你可以修改你的“糟糕的解决方案”。您可以在事件被触发时重新定义它们，而不是包装与 DOM 交互的函数，以`unload`使它们不与 DOM 交互，例如`myOldFunction = function (){};`.

# java - 问题 和 JSF 中的 ajax

> ID：14895846
> 
> 赞同：5
> 
> 时间：2013-02-15T13:28:35.647
> 
> 标签：java, jsf, primefaces

我想在用户执行操作之前验证表单中的两个日期。所以我在 ap:calendar 中得到了 af:validator 与 ajax 一起工作，问题出在 f:attribute 上。我将开始日期作为参数传递，验证器没有收到此日期。但是，如果按下操作按钮，则日期参数在验证中。我正在使用这篇[文章](https://stackoverflow.com/questions/8745731/compare-two-fields-that-use-same-class)作为指南。我的 xhtml 是：

```
 <p:column >
                        <p:calendar  id="txtStartDate" binding="#{txtStartDate}"
                            pattern="dd/MM/yyyy"
                            value="#{myBean.bean.startDate}">                               
                        </p:calendar>
                    </p:column>
                    <p:column>
                        <p:calendar id="txtEndDate"
                            pattern="dd/MM/yyyy"
                            value="#{myBean.bean.endDate}">
                            <f:validator validatorId="validator.dateRangeValidator" />
                            <f:attribute name="fromDate" value="#{txtStartDate.value}" />                                
                            <p:ajax event="dateSelect" execute="@Form" update=":formHeader:messages" />
                        </p:calendar>
                    </p:column> 
```

和验证器：

```
@Override
public void validate(FacesContext context, UIComponent component, Object value) throws ValidatorException {
    if (value == null || component.getAttributes().get("fromDate") == null) return;

    Date endDate   = (Date) value; 
    Date startDate = (Date) component.getAttributes().get("fromDate");

    if (!endDate.after(startDate)) {
        FacesMessage message = new FacesMessage("End date before the start date.");
        message.setSeverity(FacesMessage.SEVERITY_ERROR);
        addMessageOnSession(FacesMessage.SEVERITY_ERROR, "Invalid dates");
        throw new ValidatorException(message);
    }
} 
```

感谢任何帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-15T14:26:12.380

我在这里看到了几个问题：

```
execute="@Form" 
```

以上是不正确的。如果您希望执行整个表单，则此处的正确值为`@form`.

更正此问题后，`txtStartDate`组件应更新其绑定值，并可将其设置为`txtEndDate`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T12:32:30.680

无论如何，对我来说一个快速的解决方案是在 ajax 标记中添加一个 listener=""，所以我正在 bean 上进行验证。我不知道这是否是最好的方法，但可以解决我的问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-07-08T06:57:08.407

如果您使用的是**Primefaces**，则发送参数会出现问题。他们不支持日期。

您的代码：

```
Date startDate = (Date) component.getAttributes().get("fromDate"); 
```

您必须将日期作为 UIInput 并解析。

```
final UIInput startDate = (UIInput) component.getAttributes().get("fromDate");
final String dateFromString = (String) String.valueOf(startDate.getValue());
final SimpleDateFormat parserSDF = new SimpleDateFormat("EEE MMM dd HH:mm:ss Z yyyy", Locale.ENGLISH);
final Date parsedDateTo = parseDate(parserSDF, dateFromString); 
```

要更新您的表格，请使用：

```
execute="@this" render="yourFormId" 
```

下一个提示：

您可以更改`f:ajax event="dateSelect"`为`f:ajax event="change"`手动更改日期输入。它也可以用作日期选择。

# pexpect - 如何使用 pexpect 在远程主机系统中登录超级用户（root）？

> ID：14895847
> 
> 赞同：0
> 
> 时间：2013-02-15T13:28:38.477
> 
> 标签：pexpect

如何使用 pexpect 在远程主机系统中登录超级用户（root）？

```
user = root user
password = 'pass'
child = pexpect.spawn('ssh %s@%s'%(user,host,)) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-07-09T17:47:23.463

您也可以像往常一样简单地在 ssh 上登录用户，然后像往常在终端中一样发送命令登录到 root。

```
#log into user account
child = pexpect.spawn('ssh clientuser@localhost')
child.expect('Password:')
child.sendline('password')
#then log into root account
child.sendline('su')
child.expect('Password:')
child.sendline('sudopassword1234') 
```

这只是更长和更多的代码，并且可能仅适用于我编写它的方式在 linux 上。但是如果直接 ssh 到 root 不起作用，您可以使用它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-16T05:05:53.473

我会得到答案

```
child = pexpext.spawn('ssh root@host') 
```

# database - 低质量数据的核对：视图与（表格+预定程序）

> ID：14895850
> 
> 赞同：0
> 
> 时间：2013-02-15T13:28:39.980
> 
> 标签：database, oracle, database-design, data-quality

**TL;DR：如何根据移动规则协调的不良移动数据构建一致、正确的视图？**

大家好 :) 我正在构建一个数据库，其中数据必须进行转换，在可能的情况下进行协调并大量丰富。

（顺便说一句，如果你知道一本关于这个一般主题的好书，请发帖！）

在我的特殊情况下，原始数据来自两个表。

以下是原始表上发生的情况：

*   未格式化的数据（待格式化：电话号码、电子邮件转小写等）
*   缺失数据：部分字段缺失，未来可能会被丰富
*   更新数据：部分行已更新
*   新数据：插入新行

对账部分使用的字段（ID、邮政地址等）可能是部分的、在表中缺失或在另一个表中找不到。使用了几个协调规则。都可以用SQL来表达。其中一些正在使用`GROUP BY`s （这会阻止视图可更新）。

约束是：

*   可以更新基础表。新数据最多必须在 72 小时后跟上。
*   新数据必须是可查询的形式（表或视图或物化视图），并具有可接受的性能。
*   新数据中的行必须随着时间的推移保持一致，以便人们可以对它们进行注释（以丰富它们，将它们标记为已发送到其他地方等）
*   必须手动丰富新数据中的某些行。
*   新数据中的行必须包含它们被协调的时间（以及更新时间，如果它们被更新）
*   可以更新对账方法。新数据最多必须在 72 小时后跟上。

我无法决定是使用视图还是使用使用存储过程更新的表。

视图可以很好地处理原始数据的变化和协调规则中的更新。但它不支持新行的注释。

使用存储过程更新的表可以很好地处理这个问题，但在更改协调规则或更新原始数据时需要进行一些复杂的处理。

我在想也许使用一个视图并在旁边有一个表，表的主键是新数据的一些稳定字段的哈希。

这些工具是：Oracle 10g（加上 Java，如果需要）

对不起，文字墙。

问题是：你会怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-15T13:41:46.810

将原始表中的所有数据插入 2 个或更多其他表中。新表根据关系理论进行了适当设计，这将允许对它们进行有效查询。

# ruby - 防止覆盖非托管文件的木偶机制

> ID：14895851
> 
> 赞同：1
> 
> 时间：2013-02-15T13:28:49.933
> 
> 标签：ruby, puppet

我正在编写一个小模块来管理多个存储库的提交挂钩。但是，一些存储库已经有一个提交后挂钩。我想要一种机制，让我能够：

*   如果不存在则创建一个文件
*   仅当文件包含字符串“由 Puppet 管理”时才管理文件

有这样的机制吗？

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-15T14:43:54.690

理想情况下，您会`file`为这两种情况创建资源定义（使用内容模板），以便 Puppet 成为记录源。强烈推荐这个。

话虽如此，如果您只想使用条件来管理某些文件的某些内容，您仍然可以使用`file`没有`content`选项的资源来确保所有文件都存在，然后使用`exec`其中一个`onlyif`或`unless`选项来管理您想要的情况替换任何内容。请参阅[执行选项](http://docs.puppetlabs.com/references/latest/type.html#exec)。不过，这又是一种反模式。

# jquery - 窗口调整大小时未调用 jQuery 插件

> ID：14895858
> 
> 赞同：0
> 
> 时间：2013-02-15T13:29:17.637
> 
> 标签：jquery, jquery-plugins, window-resize

在网页上，我有许多表都带有 class='gsresponsive'。

我有一个 jQuery 插件，我可以使用 gsresponsive 类指向多个表，并将它们包装在 2 个 div 中，如下所示。如果屏幕宽度 > 767px，则第二个 div 宽度将设置为 100%，否则宽度将设置为 1024px（除非被覆盖）。当页面加载时，将应用适当的宽度，但我希望在调整窗口大小时再次调用插件。但这并没有发生。

当屏幕在 767px 的任一侧时，为什么我的插件不会在窗口增大时重新运行并应用新宽度？

```
<div style="overflow:auto;">
    <div style="width:100%"> <!-- screen size dependant-->
        <table> ....</table>
    </div>
<div> 
```

我的插件是这样调用的......

```
$(document).ready(function() {
    $("table.gsresponsive").gstable();
}); 
```

我的插件看起来像这样......

```
(function($) {
$.fn.extend({
    gstable: function(options) {

        //Define default options.
        var defaults = {
            scrsplit : 767,         //Modify table when screen gets to this size.
            tblwidth : "1024px"     //Default table width when on a small screen (screen width < scrsplit).
        }

        var o = $.extend(defaults, options);
        var $obj = $(this);

        return this.each(function() {

            $obj.wrap("<div class=\"table-wrapper\" style=\"overflow:auto;\" />");
            if ($(window).width() < o.scrsplit){
                $obj.wrap("<div style=\"width:"+o.tblwidth+"\" />");
            } else {
                $obj.wrap("<div style=\"width:100%;\" />");
            }

            $(window).load(updateOvalTables);
            $(window).bind("resize", updateOvalTables);

        });

        var switched = false;
        var updateOvalTables = function() {
            alert('updating');
            if (($(window).width() < o.scrsplit) && !switched ){
                switched = true;
                splitOvalTable($obj);
                //return true;
            }   else if (switched && ($(window).width() > o.scrsplit)) {
                switched = false;
                unsplitOvalTable($obj);
            }
        };

        function splitOvalTable(elem) {
            elem.parent().css("width", o.tblwidth);   
        }

        function unsplitOvalTable(original) {
            elem.parent().css("width", "100%");   
        }

    }
});
})(jQuery); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-15T13:40:28.987

函数表达式，即变量`updateOvalTables`在`$.each`函数之后声明。它仍然被提升，但在`.each`循环`updateOvalTables`中是未定义的。您还在语句之后声明变量`return`，这有点晚了。

所以这：

```
$(document).on('click', foo);

var foo = function() { alert(); } 
```

`foo`不会像尚未定义的那样工作，但是这个：

```
var foo = function() { alert(); }

$(document).on('click', foo); 
```

有效，因为`foo`已定义！

所以将函数表达式移到`$.each`循环上方（或将其更改为函数声明）：

```
(function($) {
$.fn.extend({
    gstable: function(options) {

        //Define default options.
        var defaults = {
            scrsplit : 767,         //Modify table when screen gets to this size.
            tblwidth : "1024px"     //Default table width when on a small screen (screen width < scrsplit).
        }

        var o                = $.extend(defaults, options),
            $obj             = $(this),
            switched         = false;
            updateOvalTables = function() {
                alert('updating');
                if (($(window).width() < o.scrsplit) && !switched ){
                    switched = true;
                    splitOvalTable($obj);
                    //return true;
                }   else if (switched && ($(window).width() > o.scrsplit)) {
                    switched = false;
                    unsplitOvalTable($obj);
                }    
            };

        return this.each(function() {

            $obj.wrap("<div class=\"table-wrapper\" style=\"overflow:auto;\" />");
            if ($(window).width() < o.scrsplit){
                $obj.wrap("<div style=\"width:"+o.tblwidth+"\" />");
            } else {
                $obj.wrap("<div style=\"width:100%;\" />");
            }

            $(window).load(updateOvalTables);
            $(window).bind("resize", updateOvalTables);
        });

        function splitOvalTable(elem) {
            elem.parent().css("width", o.tblwidth);   
        }

        function unsplitOvalTable(original) {
            elem.parent().css("width", "100%");   
        }

    }
});
})(jQuery); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-15T13:48:31.867

您是否尝试过单独的调整大小功能？

```
 $(document).ready(function(){
    console.log("window inizialized");
    $("table.gsresponsive").gstable();
    $(window).resize(function(){
        console.log("resize event fired");
        $("table.gsresponsive").gstable().updateOvalTables();
    });
  }); 
```

# android - 检查我是否在我的 wifi 网络范围内

> ID：14895860
> 
> 赞同：1
> 
> 时间：2013-02-15T13:29:27.433
> 
> 标签：android

我想知道是否有任何方法可以识别手机范围内启用了哪个 wifi。我想做应用程序来运行 wifi 扫描仪，如果我在我的 wifi 网络范围内，我想烤面包。这是我如何实现此功能的任何不错的教程或示例吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-15T13:31:59.790

使用 Androids [WifiManager](http://developer.android.com/reference/android/net/wifi/WifiManager.html)和 getScanResults()，也许之前用 startScan() 进行扫描

# css - CSS菜单悬停在Android设备上不起作用

> ID：14895865
> 
> 赞同：2
> 
> 时间：2013-02-15T13:29:51.137
> 
> 标签：css, menu

我知道像 Android 平板电脑/手机这样的触摸设备不支持 CSS 悬停事件，因为你不能悬停在触摸设备上。因此，CSS 菜单不适用于触控设备。

虽然我注意到一些网站已经通过使第一次单击/点击悬停事件和第二次单击/点击打开菜单项中的链接来解决此问题。

我试图找出它是如何完成的，但我无法让它在[www.hetweeractueel.nl](http://www.hetweeractueel.nl)上工作。有没有人提示如何在 www.hetweeractueel.nl 上获得这种行为？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-14T02:46:01.687

我已经读过，按住链接然后轻扫将使您保持悬停行为（[http://androidforums.com/android-lounge/472609-android-browsers-mouse-over.html#post3723631](http://androidforums.com/android-lounge/472609-android-browsers-mouse-over.html#post3723631)）。

我已经看到它在模拟器上的一个案例中工作，但除此之外还没有测试过。

# events - 自定义事件绑定和自定义甚至触发器的主干最佳位置

> ID：14895867
> 
> 赞同：0
> 
> 时间：2013-02-15T13:29:56.887
> 
> 标签：events, backbone.js, triggers, bind

我在集合的 bbone 视图上的用户交互时触发了一个自定义事件，我希望它在另一个不相关的视图上发出更改信号。为此，我使用自定义事件。

```
//a global event object for my pub-sub model
var vent = Backbone.extend({}, Backbone.Event);

var C1 = Backbone.Collection.extend();
var V1 = Backbone.View.extend(
  events: {
    'click .appointment': 'clickCallback'
  },

  clickCallback: function(){
    vent.trigger('appointment:selected', apptProps);
  }
);

var c1Obj = new C1([{...}, {...}]);
var v1Obj = new V1({
  collection: c1Obj
}); 
```

因此，当用户单击集合视图 v1Obj 的 .appointment 元素时，这将宣布一个约会：选定事件。

现在我想要一个不同的视图 V2 来响应这个事件。绑定到“appointment:selected”事件的最佳位置在哪里？在视图 V2（CASE 1）的 initialize() 中还是在 V2 的集合/模型的 initialize() 中（CASE 2）或其他地方？我试图澄清什么是最佳做法，如果有的话。

情况1：

```
var V2 = Backbone.View.extend(
  initialize: function(){
    vent.on('appointment:selected', this.apptSelected, this);
  },
  appSelected: function(apptProps){
    ...
  }
); 
```

案例二：

```
var C2 = Backbone.Collection.extend(
  initialize: function(){
    vent.on('appointment:selected', this.apptSelected, this);
  },
  appSelected: function(apptProps){
    ...
  }
); 
```

据我了解，Bbone 在用户交互方面的理念是操纵数据而不是修改标记，其想法是数据变化级联到视图。如果是这样，原始问题的答案是 CASE 2？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-15T14:55:50.623

我认为最地道的事情是：

*   通过包含在集合中来表示“已选择”的状态
*   当用户单击`.appointment`时，view1 将约会模型添加到 selectedAppointments 集合中
*   view2 绑定到正常的集合生命周期事件（添加、删除、重置）`selectedAppointments`并相应地重新呈现自身
*   两个视图都在它们的选项参数中使用这个集合`initialize`

请注意，从 Backbone 0.9.9 开始，`Backbone`对象本身可以用作应用程序范围的事件总线，而不是您的`vent`对象。

# java - 使用 jcifs 连接到 Samba 4 时出现 SMB 异常“参数不正确”

> ID：14895868
> 
> 赞同：2
> 
> 时间：2013-02-15T13:29:56.977
> 
> 标签：java, samba, jcifs

我用jcifs连接samba驱动很长时间了。由于 samba 服务器已更新并现在使用 Samba 4，因此无法连接并显示错误消息`The parameter is incorrect`。网络目录仍然可以通过其他框通过 smb 访问。它看起来像是 jcifs 的问题和 Samba 4 协议的更改。有人知道可能是什么问题吗？

```
Stack Trace: jcifs.smb.SmbException: The parameter is incorrect.
    at jcifs.smb.SmbTransport.checkStatus(SmbTransport.java:545)
    at jcifs.smb.SmbTransport.send(SmbTransport.java:645)
    at jcifs.smb.SmbSession.send(SmbSession.java:244)
    at jcifs.smb.SmbTree.send(SmbTree.java:119)
    at jcifs.smb.SmbFile.send(SmbFile.java:770) 
```

我测试了 jcifs 版本 1.3.14 和 1.3.17

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2017-09-19T08:22:32.293

将超过 4gb 的大文件复制到以 FAT 作为文件系统的网络驱动器时出现此错误。Fat 仅支持最大 4GB 的文件。

# android - 使用json android在gridview中循环的问题

> ID：14895871
> 
> 赞同：0
> 
> 时间：2013-02-15T13:30:27.480
> 
> 标签：android, json, gridview

我正在开发应用程序以`json webservices`在`gridview`. 当我直接给出网址时，代码是成功的。

下面是我的代码：

```
 package com.example.sample;

 import java.io.IOException;
 import java.io.InputStream;
import java.lang.ref.SoftReference;
import java.net.MalformedURLException;
import java.net.URI;
import java.net.URL;
import java.net.URLConnection;
import java.util.ArrayList;
import java.util.Collections;
import java.util.HashMap;
import java.util.LinkedList;
import java.util.Map;
import java.util.WeakHashMap;
import java.util.concurrent.ExecutorService;
import java.util.concurrent.Executors;

import org.apache.http.HttpEntity;
import org.apache.http.HttpResponse;
import org.apache.http.client.HttpClient;
import org.apache.http.client.methods.HttpGet;
import org.apache.http.impl.client.DefaultHttpClient;
import org.apache.http.protocol.BasicHttpContext;
import org.apache.http.protocol.HttpContext;
import org.json.JSONArray;
import org.json.JSONObject;
import com.example.sample.R;

import android.net.Uri;
import android.os.AsyncTask;
import android.os.Bundle;
import android.os.Handler;
import android.os.Message;
import android.app.Activity;
import android.content.Context;
import android.content.Intent;
import android.graphics.Color;
import android.graphics.Typeface;
import android.graphics.drawable.Drawable;
import android.util.Log;
import android.view.Menu;
import android.view.View;
import android.view.ViewGroup;
import android.view.View.OnClickListener;
import android.widget.BaseAdapter;
import android.widget.Button;
import android.widget.GridView;
import android.widget.ImageView;
import android.widget.TableLayout;
import android.widget.TableRow;
import android.widget.TextView;

import android.app.Activity;
import android.os.Bundle;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.Button;
import android.widget.ListView;

public class MainActivity extends Activity {

    GridView list;
    LazyAdapter adapter;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        list=(GridView)findViewById(R.id.list);
        adapter=new LazyAdapter(this, mStrings);
        list.setAdapter(adapter);
        adapter.imageLoader.clearCache();
        adapter.notifyDataSetChanged();

    }

    private String[] mStrings={
            "http://www.1.png",
            "http://www.2.png",
            "http://www.3.png",
            "http://www.4.png",
            "http://www.5.png"

    };
} 
```

在这里，它在 gridview 中正确地向我显示了这五个图像。现在我的问题是**如何将 url 列表从我的 AsynchronousTask 直接发送到 gridview 中**。

下面是我的`AsynchronousTask code`。

```
private class LongRunningGetIO extends AsyncTask <Void, Void, ArrayList<String>> {

        protected String getASCIIContentFromEntity(HttpEntity entity) throws IllegalStateException, IOException {
           InputStream in = entity.getContent();
             StringBuffer out = new StringBuffer();
             int n = 1;
             while (n>0) {
                 byte[] b = new byte[4096];
                 n =  in.read(b);
                 if (n>0) out.append(new String(b, 0, n));
             }
             return out.toString();
        }

        @Override
        protected ArrayList<String> doInBackground(Void... params) {
             HttpClient httpClient = new DefaultHttpClient();
             HttpContext localContext = new BasicHttpContext();
         HttpGet httpGet = new HttpGet("myurl");
         String text = null;
         String result = null;
         ArrayList<String> imageurl=new ArrayList<String>();
         String name=null;
         String id;

         try {
               HttpResponse response = httpClient.execute(httpGet, localContext);
               HttpEntity entity = response.getEntity();
               text = getASCIIContentFromEntity(entity);

                   JSONArray ja = new JSONArray(text) ;
                   // ITERATE THROUGH AND RETRIEVE CLUB FIELDS
                                int n = ja.length();
                                for (int i = 0; i < n; i++) {
                                    // GET INDIVIDUAL JSON OBJECT FROM JSON ARRAY
                                 JSONObject jo = ja.getJSONObject(i);

                                 imageurl.add(jo.getString("ImageUrl"));
                                 name= jo.getString("ImageName");

                                  id= jo.getString("ImageId");

                                }
         } catch (Exception e) {
                      e.getLocalizedMessage();
                   }

         return imageurl;

        }       

    protected void onPostExecute(ArrayList<String> results){
            if(results!=null){
    for(int j=0;j<results.size();j++){

           String[] mStrings={results.get(j)};
    }
}

}

} 
```

我的 LazyAdapter 代码是：

```
 public class LazyAdapter extends BaseAdapter {

    private Activity activity;
    private String[] data;
    private static LayoutInflater inflater=null;
    public ImageLoader imageLoader;

    public LazyAdapter(Activity a, String[] d) {
        activity = a;
        data=d;
        inflater = (LayoutInflater)activity.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
        imageLoader=new ImageLoader(activity.getApplicationContext());
    }

    public int getCount() {
        return data.length;
    }

    public Object getItem(int position) {
        return position;
    }

    public long getItemId(int position) {
        return position;
    }

    public View getView(int position, View convertView, ViewGroup parent) {
        View vi=convertView;
        if(convertView==null)
            vi = inflater.inflate(R.layout.item, null);

        ImageView image=(ImageView)vi.findViewById(R.id.image);

        imageLoader.DisplayImage(data[position], image);
        return vi;
    }
} 
```

怎么寄`imageurl(Arraylist)`进去`mStrings(string array)`？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-15T14:04:42.793

将您的 AsyncTask 类更改为：

```
 private class LongRunningGetIO extends AsyncTask <String, Void, ArrayList<String>> {

.........

     @Override
        protected ArrayList<String> doInBackground(String... params) {

            // run a loop here for the length of params which will download images one after other.
..........
      }
} 
```

# cruisecontrol.net - 在 CruiseControl.Net 上显示 Gallio 报告

> ID：14895878
> 
> 赞同：0
> 
> 时间：2013-02-15T13:31:08.823
> 
> 标签：cruisecontrol.net, mbunit, gallio

我正在设置 CruiseControl.Net 构建服务器。我的项目编译并运行单元测试。

在我的 ccnet.config 我有这个：

```
<tasks>
    <msbuild>
        <executable>C:\WINDOWS\Microsoft.NET\Framework\v3.5\MSBuild.exe</executable>
        <workingDirectory>C:\CCNet\Working\Website</workingDirectory>
        <projectFile>Website.sln</projectFile>
        <buildArgs>/p:Configuration=Debug /v:quiet /t:rebuild</buildArgs>
        <timeout>120</timeout>
    </msbuild>

    <exec>
        <executable>C:\Program Files\Gallio\bin\Gallio.Echo.exe</executable>
        <buildArgs>/rnf:Utilities-test-report /rt:Xml-Inline /v:Quiet /rd:C:\CCNet\Working\Website_tests C:\CCNet\Working\Website\Utilities.UnitTests\bin\Debug\Utilities.UnitTests.dll</buildArgs>
    </exec>
    <exec>
        <executable>C:\Program Files\Gallio\bin\Gallio.Echo.exe</executable>
        <buildArgs>/rnf:XMLGenerator-test-report /rt:Xml-Inline /v:Quiet /rd:C:\CCNet\Working\Website_tests C:\CCNet\Working\Website\XMLGenerator.UnitTests\bin\Debug\XMLGenerator.UnitTests.dll</buildArgs>
    </exec>
</tasks>
<publishers>
  <xmllogger logDir="C:\CCNet\Working\Website_logs" />
  <artifactcleanup cleanUpMethod="KeepLastXBuilds" cleanUpValue="20" />
  <merge>
    <files>
        <file>C:\CCNet\Working\Website_tests\Utilities-test-report.xml</file>
        <file>C:\CCNet\Working\Website_tests\XMLGenerator-test-report.xml</file>
    </files>
  </merge>
</publishers> 
```

在我的dashboard.config中我有这个：

```
<buildPlugins>
  <buildReportBuildPlugin>
    <xslFileNames>
      <xslFile>xsl\header.xsl</xslFile>
      <xslFile>xsl\modifications.xsl</xslFile>
      <xslFile>xsl\compile-msbuild.xsl</xslFile>
      <xslFile>xsl\MBUnitDetails.xsl</xslFile>
      <xslFile>xsl\MBUnitSummary.xsl</xslFile>
    </xslFileNames>
  </buildReportBuildPlugin>
  <buildLogBuildPlugin disableHighlightingWhenLogExceedsKB="50"/>
  <xslReportBuildPlugin description="MSBuild Report" actionName="BuildReport" xslFileName="xsl\msbuild.xsl"></xslReportBuildPlugin>
  <xslReportBuildPlugin description="MBUnit Test Report" actionName="GallioTestReport" xslFileName="xsl\MBUnitDetails.xsl" />
  <xslReportBuildPlugin description="MBUnit Test Report (Condensed)" actionName="GallioTestReportCondensed" xslFileName="xsl\MBUnitSummary.xsl" />
  <gallioAttachmentBuildPlugin />
</buildPlugins> 
```

在仪表板中，当我单击“MBUnit 测试报告”时，我有一个空白屏幕。当我单击测试报告（压缩）时，我看到“未运行测试”。当我查看构建日志时，我看到测试已运行：

```
<message>2 run, 2 passed, 0 failed, 0 inconclusive, 0 skipped</message> 
```

XML 测试文件在 Website_tests 中生成。

为了在 CCNet 仪表板上显示测试报告，我错过了什么？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-15T20:15:07.833

`<xmllogger logDir="C:\CCNet\Working\Website_logs" />`您应该在配置文件中合并文件

# windows-phone-8 - WP8 中的 SyncML 协议-客户端停止响应

> ID：14895883
> 
> 赞同：0
> 
> 时间：2013-02-15T13:31:40.753
> 
> 标签：windows-phone-8, mdm, syncml

我正在尝试让我的 Windows Phone 8 MDM 系统正常工作。当前设备正确注册并发出初始 SyncML 请求。它还响应服务器初始响应中的查询，但我认为它不喜欢其中的某些内容。原因是它使用重试间隔与服务器建立额外的连接，然后不再连接。

当我手动启动连接时，它可以工作，但没有发生自动连接。奇怪的是，SyncML SessionID 计数器在内部以指定的时间间隔增加，但设备甚至没有尝试连接服务器。

这是我的 SyncML 协议

客户端启动：

```
 <SyncML xmlns="SYNCML:SYNCML1.2">
  <SyncHdr>
    <VerDTD>1.2</VerDTD>
    <VerProto>DM/1.2</VerProto>
    <SessionID>E</SessionID>
    <MsgID>1</MsgID>
    <Target>
      <LocURI>https://ssl.../enrollment/omadmservice.php</LocURI>
    </Target>
    <Source>
      <LocURI>IMEI:35...64</LocURI>
      <LocName>riho</LocName>
    </Source>
    <Cred>
      <Meta>
        <Format xmlns="syncml:metinf">b64</Format>
        <Type xmlns="syncml:metinf">syncml:auth-md5</Type>
      </Meta>
      <Data>SoFh6khg4awLYXn2PQOOwQ==</Data>
    </Cred>
  </SyncHdr>
  <SyncBody>
    <Alert>
      <CmdID>2</CmdID>
      <Data>1201</Data>
    </Alert>
    <Replace>
      <CmdID>3</CmdID>
      <Item>
        <Source>
          <LocURI>./DevInfo/DevId</LocURI>
        </Source>
        <Data>IMEI:35...64</Data>
      </Item>
       ...
    </Replace>
    <Final/>
  </SyncBody>
</SyncML> 
```

服务器响应：

```
<SyncML xmlns="SYNCML:SYNCML1.2">
    <SyncHdr>
        <VerDTD>1.2</VerDTD>
        <VerProto>DM/1.2</VerProto>
        <SessionID>E</SessionID>
        <MsgID>1</MsgID>
        <Target>
            <LocURI>IMEI:35...64</LocURI>
        </Target>
        <Source>
            <LocURI>https://ssl.../enrollment/omadmservice.php</LocURI>
            <LocName>MDMServer</LocName>
        </Source>
        <Cred>
          <Meta>
            <Format xmlns="syncml:metinf">b64</Format>
            <Type xmlns="syncml:metinf">syncml:auth-md5</Type>
          </Meta>
          <Data>ryJ+boSmdCoO8BzxXcYSxg==</Data>
       </Cred>
    </SyncHdr>
    <SyncBody>
      <Status>
        <CmdID>1</CmdID>
        <MsgRef>1</MsgRef>
        <CmdRef>0</CmdRef>
        <Cmd>SyncHdr</Cmd>
        <Data>212</Data> 
      </Status>
    <Status>
        <MsgRef>1</MsgRef>
        <CmdRef>2</CmdRef>
        <CmdID>2</CmdID>
        <Cmd>Alert</Cmd>
        <Data>200</Data>
    </Status>
    <Status>
        <CmdID>3</CmdID>
        <MsgRef>1</MsgRef>
        <CmdRef>3</CmdRef>
        <Cmd>Replace</Cmd>
        <Data>200</Data>
    </Status>
    <Get>
        <CmdID>4</CmdID>
        <Item>
            <Target>
                <LocURI>./Vendor/MSFT/Registry/HKLM/Software/Microsoft/DeviceEncryption/Enabled</LocURI>
            </Target>
        </Item>
    </Get>
    </SyncBody>
</SyncML> 
```

客户端发送它的响应：

```
<SyncML xmlns="SYNCML:SYNCML1.2">
  <SyncHdr>
    <VerDTD>1.2</VerDTD>
    <VerProto>DM/1.2</VerProto>
    <SessionID>E</SessionID>
    <MsgID>2</MsgID>
    <Target>
      <LocURI>https://ssl.../enrollment/omadmservice.php</LocURI>
    </Target>
    <Source>
      <LocURI>IMEI:35...64</LocURI>
    </Source>
  </SyncHdr>
  <SyncBody>
    <Status>
      <CmdID>1</CmdID>
      <MsgRef>1</MsgRef>
      <CmdRef>0</CmdRef>
      <Cmd>SyncHdr</Cmd>
      <Chal>
        <Meta>
          <Format xmlns="syncml:metinf">b64</Format>
          <Type xmlns="syncml:metinf">syncml:auth-md5</Type>
          <NextNonce xmlns="syncml:metinf">kjjz6FyCYuYm9VUsSaHfKmj98GGfh9yeLvv8hlMNZak=</NextNonce>
        </Meta>
      </Chal>
      <Data>212</Data>
    </Status>
    <Status>
      <CmdID>2</CmdID>
      <MsgRef>1</MsgRef>
      <CmdRef>4</CmdRef>
      <Cmd>Get</Cmd>
      <Data>200</Data>
    </Status>
    <Results>
      <CmdID>3</CmdID>
      <MsgRef>1</MsgRef>
      <CmdRef>4</CmdRef>
      <Item>
        <Source>
          <LocURI>./Vendor/MSFT/Registry/HKLM/Software/Microsoft/DeviceEncryption/Enabled</LocURI>
        </Source>
        <Meta>
          <Format xmlns="syncml:metinf">int</Format>
        </Meta>
        <Data>1</Data>
      </Item>
    </Results>
    <Final/>
  </SyncBody>
</SyncML> 
```

服务器存储数据并断开连接。

任何人都可以在我的实现中找到错误吗？客户对服务器还有什么期望？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T05:04:35.840

我发现问题不在于我的实现，而在于有缺陷的 Microsoft 文档。在他们的“WP8 Enterprise Management Protocol 1.2”中，他们修复了协议中的几个错别字和错误，现在连接按预期工作。

# javascript - 使用 FormData 将字符串作为文件上传附加

> ID：14895887
> 
> 赞同：6
> 
> 时间：2013-02-15T13:31:51.347
> 
> 标签：javascript, ajax, form-data

我想知道是否可以使用表单数据将字符串作为文件上传。我相信应该有一些`File`对象，可以有`value`，`filename`也可以`mime-type`设置。
伪代码：

```
var file = new File();
file.name = "file.txt";
file.mimeType = "text/plain";
file.value = "blah blah\nsecond line";
var data = new FormData();
data.append(file); 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2018-06-20T15:11:00.233

对我来说很好

```
const blob = new Blob(['blah blah\nsecond line'], {type : 'text/plain'})
formData.append('file', blob, 'file.txt') 
```

* * *

## 回答 #2

> 赞同：-4
> 
> 时间：2013-02-15T13:35:08.940

确实有一个名为`File`（在现代浏览器上）的对象，但出于安全问题，您不能创建它的新实例。因此，你所寻求的是不可能的。

# wpf - 如果光标在元素上，则禁用滚动

> ID：14895893
> 
> 赞同：0
> 
> 时间：2013-02-15T13:32:20.650
> 
> 标签：wpf, scroll

当光标位于 WPF 中的元素上时，我想禁用滚动。 ![在此处输入图像描述](../Images/36ea39f85b667ccaa5e0928369b9c797.png)

如果鼠标位于红色矩形上，则应禁用滚动。红色矩形位于滚动查看器上。

任何想法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-15T13:53:56.133

我让它与这段代码一起工作：

```
<Window.Resources>
    <converter:MouseOverToScrollBarVisibility x:Key="scrollVisibility" />
</Window.Resources>
<ScrollViewer VerticalScrollBarVisibility="{Binding IsMouseOver,
                ElementName=rec,
                Converter={StaticResource scrollVisibility}}">
    <Rectangle Height="50" Width="50" Fill="Red" x:Name="rec"/>
</ScrollViewer> 
```

然后定义这个转换器：

```
[ValueConversion(typeof(bool), typeof(ScrollBarVisibility))]
sealed class MouseOverToScrollBarVisibility : IValueConverter
{
    public object Convert(object value, Type targetType, object parameter, System.Globalization.CultureInfo culture)
    {
        return ((bool)value) ? ScrollBarVisibility.Hidden : ScrollBarVisibility.Visible;
    }

    public object ConvertBack(object value, Type targetType, object parameter, System.Globalization.CultureInfo culture)
    {
        throw new NotSupportedException();
    }
} 
```

# sphinx - 狮身人面像按属性搜索

> ID：14895895
> 
> 赞同：2
> 
> 时间：2013-02-15T13:32:20.890
> 
> 标签：sphinx

我可以只用没有查询词的属性搜索狮身人面像吗

配置：

```
sql_query = SELECT p.ID as price_id, p.info, p.sort_id, p.made_id, p.category_id, 'prices' as table_id  FROM price AS p
sql_query_info = SELECT * FROM price WHERE ID = $id
sql_attr_uint   = sort_id 
```

...

```
min_word_len = 0
min_infix_len = 0
min_prefix_len = 0
enable_star = 1
docinfo = extern 
```

代码：

```
$search->SetFilter('sort_id',[1,2]);
$search->Query("*","prices"); 
```

获得 0 个结果

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-15T13:40:31.287

```
$search->Query("","prices"); 
```

如果没有返回任何结果，则说明您遇到了其他一些逻辑错误。

* * *

切线，为什么你'enable_star'中缀/前缀设置为0？它不会有任何影响。

# codeigniter - Codeigniter - 从数据库中获取固定数量的记录，下一次相同的记录。之后的记录

> ID：14895899
> 
> 赞同：1
> 
> 时间：2013-02-15T13:32:38.350
> 
> 标签：codeigniter

我正在使用无限滚动。起初，我必须检索 5 条记录，然后再向下滚动，我必须检索接下来的 5 条记录。我正在使用的查询如下：

```
function profile1($uid) {
        $this->db->select('*');
        $this->db->from('posts');
        $this->db->where('user-id', $uid);
        $this->db->limit('5');
        $data = $this->db->get();
        return $data->result();
    } 
```

但它只给了我前 5 条记录。任何人都可以告诉我如何获得接下来的五条记录吗？同样的事情应该一直持续到最后一条记录被打印出来。提前致谢...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-15T13:37:49.750

您需要提供偏移量

获得 5 到 10

`$this->db->limit(5,5);`

获得 10 到 15

`$this->db->limit(5,10);`

有关详细信息，请参阅[Active Record Code Igniter 文档](http://ellislab.com/codeigniter/user-guide/database/active_record.html)`$this->db->limit();`的部分

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-15T14:10:11.900

我认为您应该`$start`在请求结果时传递另一个变量。所以你的功能就像

```
function profile1($uid,$start) {
        $this->db->select('*');
        $this->db->from('posts');
        $this->db->where('user-id', $uid);
        $this->db->limit(5,$start);
        $data = $this->db->get();
        return $data->result();
    } 
```

在您的客户端`$start`，每次您拨打电话并在下次通话中传递更新后的值时，请将此变量增加 5。

# forms - jstl fn：长度标签在jsp中的弹簧形式标签内不起作用

> ID：14895901
> 
> 赞同：2
> 
> 时间：2013-02-15T13:32:43.690
> 
> 标签：forms, jsp, spring-mvc, jstl

```
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%>
<%@ taglib prefix="form" uri="http://www.springframework.org/tags/form"%>
<%@ taglib prefix="fn" uri="http://java.sun.com/jsp/jstl/functions"%> 
```

在“表格：表格”内

```
<form:form class="form-container" name ="feedback_popup_form" id="feedback_popup_form"    action="savefeedback" method="post" modelAttribute="feedbackVO" commandName="feedbackVO">

<form:input type="hidden" path="strEmplRefrlSeq" value="${model.strEmplRefrlSeq}" />

<input type="hidden" id="mady" value = "${fn:length(model.strEmplRefrlSeq)}" /> 
```

在萤火虫我得到

```
<input id="strEmplRefrlSeq" type="hidden" value="2,10,11," name="strEmplRefrlSeq">
<input id="mady" type="hidden" value="0"> 
```

我的 fn:length 不适用于字符串输入。你能解释一下为什么会这样吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-17T11:07:15.417

表单支持对象放置在名称“feedbackVO”下，所以我猜你实际上需要

```
<input type="hidden" id="mady" value="${fn:length(feedbackVO.strEmplRefrlSeq)}" /> 
```

请注意，form:input 标签没有任何 value 属性，因此您的代码等效于：

```
<form:input type="hidden" path="strEmplRefrlSeq" /> 
```

它从路径生成 HTML 的输入值属性，获取命令对象中的值。

# php - 在 symfony 2 中搜索功能的最佳方式

> ID：14895904
> 
> 赞同：2
> 
> 时间：2013-02-15T13:33:07.780
> 
> 标签：php, symfony, search-engine

我的网站上有一个使用 elasticsearch 实现的搜索功能。现在我有一个关于设计的小问题。

我有一个`searchAction`带有查询字符串中的参数的路由`/search`。喜欢`/search?terms=...`。

我想让结果列表可过滤，但我对实现这一目标的正确设计有些怀疑。

列出过滤结果的最佳解决方案是什么？

如果我传递过滤器参数，我需要使用当前 url 指定一个表单操作，并像链接一样附加当前查询字符串，对吗？例子：

```
<form action="{{ current_pat }} ~ {{ query_string }}" method="post">
    <input type="checkbox" name="filter_one">.... 
```

在这种情况下，网址会喜欢：`/search?terms=...`并且`$post`我有过滤器。这是正确的解决方案，还是链接列表更好？例子：

```
<ul>
    <li><a href="{{current_path}} ~ {{ query_string }} ~ {{ this_filter }}">... 
    <li><a href="{{current_path}} ~ {{ query_string }} ~ {{ this_another_filter }}">
... 
```

在这种情况下，网址将类似于：`/search?terms=...&this_filter=...`

在带有 get 参数和 post 过滤器的表单情况下，我需要在搜索操作中同时采用这两种类型的参数。这个好吗？

相反，链接现在将在`$get`请求中包含所有参数，但我不喜欢在模板中使用查询字符串构建 url。

最好的方法是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2015-11-20T14:25:28.303

> 将 KNP 分页器包与搜索操作一起使用。在搜索表单上，对 Controller 中的 searchAction 进行发布操作，并在使用匹配条件对数据进行排序后，重新渲染页面。

```
public function searchAction(Request $request,array $arguments = array())
        {
            $em = $this->getDoctrine()->getManager();
            $paginator = $this->get('knp_paginator');
            $parameter = $request->get('board_search');
            $boardRepo = $this->getDoctrine()->getRepository('PNCMISDashboardBundle:ExaminationBoards')->loadBoardByName($parameter);
            $boards = $paginator->paginate($boardRepo, $this->get('request')->query->get('page', 1), 10);
            return $this->render('PNCMISDashboardBundle:ExaminationBoards/CRUD:index.html.twig', array(
                    'boards'=> $boards,
                )
            );
        }

public function loadBoardByName($name)
    {
        $q = $this
            ->createQueryBuilder('boards')
            ->where('upper(boards.name) LIKE upper(:search)')
            ->setParameter('search', '%'.$name.'%')
            ->getQuery()
        ;
        try {
            // The Query::getSingleResult() method throws an exception
            // if there is no record matching the criteria.
            $user = $q->getResult();
        } catch (NoResultException $e) {
            throw new UsernameNotFoundException(sprintf('Unable to find an board identified by "%s".', $name), null, 0, $e);
        }
        return $user;
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-15T15:32:19.530

我更喜欢在查询字符串中包含所有参数，这将允许用户为网址添加书签或通过电子邮件发送。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-16T00:50:19.203

这取决于。

1 如果您不需要索引（例如 SEO - google bot）过滤的结果页面，我认为您应该使用 AJAX 来实现这一点。

路由：

```
search_result:
    pattern: /search
    defaults:  { _controller: AcmeExampleBundle:Ajax:searchResult }
    requirements:
        _method:  POST 
```

JavaScript（伪代码）

```
filterResults() {
    var queryString = $('input#toSearch').val();
    var filters = new Object();
    filters['someKey'] = someVal;
    $.post('/search', {filters: filters, queryString: queryString}, function(data) {
        $('#resultList').html(data);
    });)
} 
```

当然，您不应该对 url '/search' 进行硬编码。

控制器：

```
// src/Acme/ExampleBundle/Controller/AjaxController.php
    // ...
    public function searchResultAction()
    {
        $filters = $this->getRequest()->get('filters', array());
        $searchObject = new searchObj(); 
        // or smt like $this->get('service_name'); if you use search object as service
        // you can also use entity manager
        $searchObject->setQueryString($this->getRequest()->get('queryString'));
        $searchObject->setFilters($filters);
        return $this->render('AcmeExampleBundle:Ajax:searchResult.html.twig', array(
            'records' => $searchObject->getResults()
        ));
    } 
```

当然你可以返回 json 响应，但在我看来，返回准备注入模板的一部分是最容易管理的

并查看：

```
{% for record in records %}
    <div class="record">{{ record.title }}</div>
{% endfor %} 
```

2 如果你想索引过滤的结果页面，你应该使用用户友好的 URL，而不是 AJAX 方法

路由：

```
search_result:
    pattern: /search/{queryString}/{make}/{model}
    defaults:  { _controller: AcmeExampleBundle:Ajax:searchResult }
    requirements:
        _method:  GET 
```

控制器：

```
// src/Acme/ExampleBundle/Controller/AjaxController.php
    // ...
    public function searchResultAction($queryString, $make, $model)
    {
        $filters = array('make' => $make, 'model' => $model);
        $searchObject = new searchObj(); 
        // or smt like $this->get('service_name'); if you use search object as service
        // you can also use entity manager
        $searchObject->setQueryString($queryString);
        $searchObject->setFilters($filters);
        return $this->render('AcmeExampleBundle:Ajax:searchResult.html.twig', array(
            'records' => $searchObject->getResults()
        ));
    } 
```

# javascript - 如何在javascript中访问具有空格的对象参数

> ID：14895908
> 
> 赞同：1
> 
> 时间：2013-02-15T13:33:14.257
> 
> 标签：javascript, jquery, json

假设如果一个对象有参数`var data={"f name":"vishal"}`，我想在 javascript 中访问参数“f name”。我知道对象的参数中不应该有空格，但如果它有空格，那么我该如何阅读它。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-15T13:35:05.923

像这样的东西：

```
data['f name'] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-15T13:35:17.147

使用方括号表示法：

```
data["f name"] 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-15T13:35:17.460

属性名称中的空格在 JavaScript 中是完全可以的。您通过

```
object["param name"] 
```

句法。此外，除控制字符外，任何 UTF8 字符在属性名称中都是有效的。

# php - 如何在 cakephp 的一个模型中定义 2 个 habtm 关联

> ID：14895909
> 
> 赞同：0
> 
> 时间：2013-02-15T13:33:15.450
> 
> 标签：php, cakephp, cakephp-2.1

我有一个具有 2 habtm 关联的模型。

我的模型是：“课程”、“教师”和“学生”。

课程 hasAndBelongsToMany Teacher 和 hasAndBelongsToMany Student。

当我这样编码时：

```
public $hasAndBelongsToMany = 'Student';
public $hasAndBelongsToMany = 'Teacher'; 
```

或者：

```
public $hasAndBelongsToMany = array(
    'Student' => array(
        'className' =>  'Student',
        'joinTable' =>  'courses_students',
        'foreignKey'=>  'course_id',
        'associationForeignKey' =>  'student_id'
    ),
    'Teacher' => array(
        'className' =>  'Teacher',
        'joinTable' =>  'courses_teachers',
        'foreignKey'=>  'course_id',
        'associationForeignKey' =>  'teacher_id'
    )
); 
```

我看到内部错误

我该如何编码？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-16T12:17:30.220

“无法重新声明课程”说明了一切：您可能遇到了复制粘贴错误。

您在 Teacher.php 中声明班级错误（应该是教师而不是课程）。

# sql - 获取行中日期值之前的最新日期

> ID：14895910
> 
> 赞同：4
> 
> 时间：2013-02-15T13:33:16.153
> 
> 标签：sql, sql-server, sql-server-2008

我正在使用 MSSQL 2008 R2。我正在尝试将最新数据日期更新为存储在另一列中的日期。我可以在子查询中使用 max(ProcedureDate) 整体提取最新的数据日期；但是，我需要存储在列中的日期之前的最新日期。

这是一个例子：

```
Current Table: Procedures       

ID Patient  ProcedureType   ProcedureDate
1  George   ExamA           1/1/2013
2  George   TreatmentA      1/3/2013
2  George   TreatmentB      1/5/2003
4  George   ExamB           2/1/2013
5  George   TreatmentA      2/5/2013

Desired Table:  ProceduresWithLastExam

ID Patient  ProcedureType   ProcedureDate   LastExamDate    DaysSinceLastExam    LastExamType
1  George   ExamA           1/1/2013        1/1/2013        0                    ExamA
2  George   TreatmentA      1/3/2013        1/1/2013        2                    ExamA
3  George   TreatmentB      1/5/2013        1/1/2013        4                    ExamA
4  George   ExamB           2/1/2013        2/1/2013        0                    ExamB
5  George   TreatmentA      2/5/2013        2/1/2013        4                    ExamB 
```

我曾尝试使用以下内容，但它只会拉回该患者的最新数据日期。

```
select p.*, a.LastExamDate, a.ProcedureType as LastExamType from Procedures p
left join (
   select exams.Patient, exams.ProcedureType, MAX(exams.ProcedureDate) as LastExamDate from Procedures exams
   where ProcedureType like 'Exam%'
   group by exams.Patient, exams.ProcedureType
)a
on p.Patient = a.Patient 
```

所有行的结果都是 2/1/13 作为 LastExamDate 和 ExamB 作为 LastExamType。

我尝试在左连接、where 子句和子查询中包含一些额外的日期参数，但没有成功。

请注意，我已经省略了 datediff 逻辑，直到我可以得到正确的返回日期。

在此先感谢您的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-15T13:40:02.753

您可以使用[OUTER APPLY](http://msdn.microsoft.com/en-us/library/ms175156%28v=sql.105%29.aspx)。它就像一个相关的子查询，但允许多列：

```
SELECT  p.ID, 
        p.Patient,
        p.ProcedureType,
        p.ProcedureDate,
        [LastExamDate] = exam.ProcedureDate, 
        [DaysSinceLastExam] = DATEDIFF(DAY, exam.ProcedureDate, p.ProcedureDate),
        [LastExamType] = exam.ProcedureType 
FROM    Procedures p
        OUTER APPLY
        (   SELECT  TOP 1 exams.ProcedureType, exams.ProcedureDate
            FROM    Procedures exams
            WHERE   Exams.ProcedureType LIKE '%Exam%'
            AND     Exams.Patient = p.Patient
            AND     Exams.ProcedureDate <= p.ProcedureDate
            ORDER BY Exams.ProcedureDate DESC
        ) exam; 
```

**[SQL Fiddle 示例](http://www.sqlfiddle.com/#!3/28f6f/1)**

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-15T13:41:23.853

这可以通过以下方式完成`OUTER APPLY`：

```
SELECT  A.*, 
        B.ProcedureDate LastExamDate, 
        DATEDIFF(DAY,B.ProcedureDate,A.ProcedureDate) DaysSinceLastExam,
        B.ProcedureType
FROM Procedures A
OUTER APPLY (   SELECT TOP 1 *
                FROM Procedures
                WHERE Patient = A.Patient 
                AND ProcedureDate <= A.ProcedureDate
                AND ProcedureType LIKE 'Exam%'
                ORDER BY ProcedureDate DESC) B 
```

这是一个[演示](http://sqlfiddle.com/#!3/4d40f/1)供您尝试。

# android - android模拟器可以播放RTSP流吗？

> ID：14895912
> 
> 赞同：3
> 
> 时间：2013-02-15T13:33:21.350
> 
> 标签：android, android-emulator, rtsp

我在 3 个不同的 Android 模拟器（包括一个 Intel 映像）上尝试了一些示例 RTSP 流，但没有成功。这些流确实可以在物理 Android 设备上运行。

Android 模拟器会播放 RTSP 流吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-12-15T14:32:27.487

我在许多不同的 Android 模拟器上尝试了一些示例 RTSP 流，但没有成功。所以，Android 模拟器无法播放 RTSP 流。

# java - RESTful webservice 生成的 XML

> ID：14895913
> 
> 赞同：0
> 
> 时间：2013-02-15T13:33:26.463
> 
> 标签：java, xml, rest

我有一个 RESTful Web 服务，已启动并正在运行，它会在客户端调用时生成 XML 输出。

所以我有一个类来表示数据，并且我用@XMLRootElemnt 进行了注释，因此它相应地将数据生成为 XML。我的问题是 - 当我用 @XMLRootElement 注释的类中有一个内部类时，表示 XML 的最佳方式是什么？如果问题不清楚，请原谅我，如果你问我更详细，我可以解释。但如果有人已经得到我的要求，请告知。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-15T13:47:59.063

我认为您想要解释您想要生成这样的 XML：

```
<programmer>
  <name>Marcelo Tataje</name>
  <pl>Java</pl>
  <id>1</id>
</programmer> 
```

你已经使用这样的东西来生产它：

```
@XmlRootElement
public class Programmer
{
  private String name;
  private String pl;
  private int id;

  public Programmer()
  {
  }
  //here your getters and setters
} 
```

您的 Web 服务如下所示：

```
@GET
@Produces(MediaType.APPLICATION_XML)
@Path("/getProgrammer")
public Programmer getProgrammer()
{
  Programmer p = new Programmer();
  p.setName("Marcelo Tataje");
  p.setPl("Java");
  p.setId(1);
  return p;
} 
```

Ant 然后你调用你的客户端等等......我认为这是最简单的方法，而且还不错，如果你想要最好的方法或更好的方法，那就是使用支持 Rest 和 XML 的 Spring3，你将拥有一个快速满足您要求的结构，是一个更快的框架。推荐，好吧，我正在回答你我对你的问题的理解。 [http://blog.springsource.com/2009/03/08/rest-in-spring-3-mvc/](http://blog.springsource.com/2009/03/08/rest-in-spring-3-mvc/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-26T03:51:29.190

搞定了。基本上需要使用@XmlElementWrapper 和@XmlElement 并且字段属性将是一个字符串列表。

# ruby-on-rails - #<# 的未定义方法 `error_messages_for' :0x

> ID：14895920
> 
> 赞同：-2
> 
> 时间：2013-02-15T13:33:44.487
> 
> 标签：ruby-on-rails, ruby

像这样的问题：

> #<#:0x3a4f700> 的未定义方法“error_messages_for”

我的英语很垃圾，谁能帮我解决这个问题？谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-15T14:00:54.057

`Error messages for`在 rails 3 中被删除。它被提取到一个插件中，不记得插件的确切名称，但它在 rails GitHub repo 中。自 1.0 以来，Rails 发生了巨大变化。

检查此[错误消息以进行替换](http://www.emersonlackey.com/article/rails3-error-messages-for-replacement)。

# php - 如何在codeigniter中选择带有图片的整个文件夹？

> ID：14895923
> 
> 赞同：1
> 
> 时间：2013-02-15T13:33:50.117
> 
> 标签：php, codeigniter

我有一个项目，我需要选择其中包含图片的整个文件夹，然后对文件夹内的所有图片进行转换。类似于 Photoshop 中用于大量图片调整的脚本之类的东西。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-15T13:38:03.777

检查 PHP 的[scandir()](http://www.php.net/manual/en/function.scandir.php)函数

遍历目录的结果并对每个项目进行图像处理。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-15T20:17:24.957

好吧，[CodeIgniters Manual](http://ellislab.com/codeigniter/user-guide/helpers/file_helper.html)确实有一些辅助函数，但我自己并没有使用它们。

就个人而言，我更喜欢使用PHP 提供的[DirectoryIterator 。](http://php.net/manual/en/class.directoryiterator.php)将其与[CodeIgniters Image Manipulation Class](http://ellislab.com/codeigniter/user-guide/libraries/image_lib.html)相结合，您可以对图像处理进行一些非常漂亮的处理：

```
$images = array("jpg", "png", "bmp"); // Just to make sure that we get image files

foreach(new DirectoryIterator("/path/to/images/") as $file)
{
    if( $file->isFile() && in_array($file->getExtension(), $images) )
    {
        $config['image_library'] = 'imagemagick';
        $config['library_path'] = 'usr/bin/local/';
        $config['source_image'] = $file->getPathname();
        $config['new_image'] = $file->getPathname(); //Overwriting the source image
        $config['maintain_ratio'] = TRUE;
        $config['width']     = 75;
        $config['height']   = 50;       
        $this->load->library('image_lib', $config); 
        $this->image_lib->resize();
    }       
} 
```

或者做一些你自己选择的图像处理。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-22T19:20:19.493

如果您使用的是 linux，则可以使用 ImageMagick 的 mogrify 命令批量编辑图像。

示例：mogrify -resize 150x150 *.jpg 结果：所有图像都调整为 150x150

还有一个 PHP 类处理 PEAR 中的 ImageMagick 功能。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-15T13:36:38.067

我认为没有可以执行多个图像处理的功能。但是您可以使用 glob() 选择文件，然后循环执行您的过程？

# ruby-on-rails - 在 Rails 中使用 json 进行 ajax 的惯用方式？

> ID：14895931
> 
> 赞同：0
> 
> 时间：2013-02-15T13:34:32.377
> 
> 标签：ruby-on-rails, ajax, ruby-on-rails-3, json, ujs

[Codeschool 的](http://www.codeschool.com)rails 课程给出了下面的代码来使用 json (format.json) 做 ajax。为什么代码与使用不显眼的 javascript (format.js) 进行 ajax 的方式如此不同？

具体来说，我注意到下面的代码完全避免了 UJS，并且没有`remote: true`在`form_for`. 这与`remote: true`在`form_for`.

为什么`remote: true`不建议使用带有 json 的 ajax？我原以为带有 json 的 ajax 会使用`remote: true`并有某种方式让客户端 javascript 将`success`函数注册到 UJS，以便服务器的响应被 UJS 解释为 json 数据并传递给`success`函数而不是 UJS 试图作为 javascript 执行是在不显眼的 javascript 方法中完成的。

有没有比下面更好的用json做ajax的方法？

```
/views/zombies/show.html.erb

<div id="custom_phase2">
  <%= form_for @zombie, url: custom_decomp_zombie_path(@zombie) do |f| %>
    <%= f.text_field :decomp %>
    <%= f.submit "Set" %>
  <% end %>
</div>

/app/assets/javascripts/zombies.js.coffee

$(document).ready ->
  $('div#custom_phase2 form').submit (event) ->
    event.preventDefault()

    url = $(this).attr('action')
    custom_decomp = $('div#custom_phase2 #zombie_decomp').val()

    $.ajax
      type: 'put'
      url: url
      data: { zombie: { decomp: custom_decomp } }
      dataType: 'json'
      success: (json) ->
        $('#decomp').text(json.decomp).effect('highlight')
        $('div#custom_phase2').fadeOut() if json.decomp == "Dead (again)" 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-15T16:58:35.287

您可以使用**remote_form_for**助手：

```
/views/zombies/show.html.erb

<div id="custom_phase2">
  <%= remote_form_for @zombie, url: custom_decomp_zombie_path(@zombie), :update => {:success => "form", :failure => "errors"} do |f| %>
    <%= f.text_field :decomp %>
    <%= f.submit "Set" %>
  <% end %>
</div> 
```

这里的“form”是成功时更新的元素的id，“errors”是出现错误时更新的元素的id。

参考：[这里](http://guides.rubyonrails.org/ajax_on_rails.html)和[这里](http://apidock.com/rails/ActionView/Helpers/PrototypeHelper/remote_form_for)

# cordova - 如何在黑莓的 phonegap 上配置 InAppBrowser

> ID：14895932
> 
> 赞同：0
> 
> 时间：2013-02-15T13:34:33.290
> 
> 标签：cordova, blackberry, phonegap-plugins, cordova-2.0.0

如何在黑莓的 phonegap 上配置 InAppBrowser。黑莓有没有其他可用的插件？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-07T16:30:39.317

如果您使用 BB10 并使用 WebWorks 进行开发，那么您不需要任何 phonegap 插件。BB10 和 WebWorks 有一个内置的子浏览器。你可以用`window.open`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-15T19:26:14.333

是的，您可以试用 ChildBrowser 插件：[https ://github.com/phonegap/phonegap-plugins/tree/master/BlackBerry/ChildBrowser](https://github.com/phonegap/phonegap-plugins/tree/master/BlackBerry/ChildBrowser)

# ios - 如何处理 UIPageViewController 与一页的文本和另一页的图像

> ID：14895934
> 
> 赞同：0
> 
> 时间：2013-02-15T13:34:43.470
> 
> 标签：ios, objective-c, ipad, uipageviewcontroller

我想在右侧显示一组来自 web 服务的图像，偶数页和另一个数组，其中没有来自左侧奇数页的 web 服务的文本。

我使用下面的示例来完成我的任务，但它使用的是一个视图。但我想处理两个视图控制器，在左侧显示视图控制器的文本，在右侧显示另一个视图控制器的图像，如下所示。我正在做 ipad 应用程序。

我使用了这个示例。我在下面附上了它的链接。

[http://www.ioslearner.com/implementing-uipageviewcontroller-programatically-without-storyboarding/](http://www.ioslearner.com/implementing-uipageviewcontroller-programatically-without-storyboarding/)

![这是我想使用 UIPageViewController 的示例图像](../Images/c500d95c6d75a503c843b9b8504b2e19.png)

任何样品或建议将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-15T13:59:54.367

它也可以通过使用 for 循环和内部使用在一个视图控制器中完成

```
if(i%2==0) {
    blah blah...
} else if (i%3==0) {
    blah blah...
} 
```

# javascript - 点击事件后重复的倒计时计时器

> ID：14895938
> 
> 赞同：0
> 
> 时间：2013-02-15T13:35:03.447
> 
> 标签：javascript, jquery

我有这个功能：

```
var secondsRemaining = 45;

function countdown(secondsRemaining) {
var  seconds = secondsRemaining;
if (secondsRemaining > 0) {
 $('.timer > div').html(seconds);
 secondsRemaining--;
} else {
 if (secondsRemaining == 0) {
  // Times up ....
 }
 }
setInterval(function() {
countdown(secondsRemaining);
}, 1000); 
} 
```

我正在 Document ready 函数中运行该函数：

```
 countdown(secondsRemaining); 
```

在我点击答案后我再次运行它。问题是我现在有 2 个倒数计时器同时运行，新的计时器从 45 秒开始，旧的计时器从原来的位置继续。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-15T13:46:00.737

利用`clearInterval()`

首先，存储第一个的区间id `setInterval()`：

```
var secondsRemaining = 45;

function countdown(secondsRemaining) {
var  seconds = secondsRemaining;
if (secondsRemaining > 0) {
 $('.timer > div').html(seconds);
 secondsRemaining--;
} else {
 if (secondsRemaining == 0) {
  // Times up ....
 }
 }
myinterval=setInterval(function() { //myint now contains the interval id
countdown(secondsRemaining);
}, 1000); 
} 
```

现在，当用户单击时，在设置新间隔之前，使用以下命令取消第一个`clearInterval()`：

```
button.onclick=function(){
  //do stuff
  clearInterval(myinterval)
  setInterval(function() {
    countdown(secondsRemaining);
   }, 1000); 
   // do stuff
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-15T13:50:04.503

抱歉，我不太明白您表达问题的方式似乎是说您有意启动两个时间事件，一个是在文档加载时，另一个是在您单击答案时，它们都输出到同一个元素。

如果问题是您希望它在两个不同的元素中输出，那么您可以传递可以使用的元素的参数：

```
countdown($('.pick-me'), secondsRemaining); 
```

如果你想使用相同的元素，那么你总是可以清除每次点击的时间间隔，然后设置新事件的时间间隔，刚刚得到更新并看到 Manishearths 的响应，所以不会详细介绍它，因为这可能是您正在寻找的答案。

# file-io - 文件听一次/下载的解决方案

> ID：14895939
> 
> 赞同：0
> 
> 时间：2013-02-15T13:35:05.807
> 
> 标签：file-io, paypal, download

我有energyshop.se，这是我为客户做的一个小型网上商店。她出售各种东西，但她对 .mp3 和光盘有沉思。客户可以选择购买：

*   然后将其发送到他们的家庭地址的光盘。
*   一位聆听冥想的一部分或一位聆听冥想的所有部分
*   有些项目也可以以其他价格下载。

所以问题是我该如何解决这个问题？我们在她的网站上使用 PayPal 进行付款，我知道在付款后，如果我愿意，我可以将用户重定向到“thankyouforthepurhase”页面。这使我认为一种选择是将用户带到他们可以下载/收听的页面，但我不知道如何将购物项目与要下载和/或收听一次的已播放文件“连接”以及如何限制这一点。我的意思是，如果页面是 energyshop.se/thanks 购买的人可以复制该地址并直接去那里。

以某种方式也有关于代码的想法。如果他们进行购买，他们会收到一个发送给他们的代码以供下载或收听，但是我如何生成此代码，该代码每次都必须是唯一的，并且每次有人输入密码时都要更改密码，因此有人也不会保存代码。

好吧，我有点想法，不知道该怎么做。我只是想结束这个项目，但我想我必须为她解决这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-15T13:47:53.330

我想解决方案取决于她认为需要多少控制（或安全）。如果您所需要的只是对用户已付费的合理信心，那么您可以对整个事情更加放松。

“谢谢”页面可以轻松地提供与 paypal 将返回的交易 ID 一致的内容 - 您可以使用它来控制显示的内容。如果您*不太*担心重播“一次听”项目，或者“下载”被下载了很多次，那么您可以避免一堆边缘情况（下载失败或一次听提要中途死亡）等），并简单地根据交易提供指向内容的链接。

如果它被滥用，那么您可以努力锁定内容，从一次性链接提供 mp3 流，跟踪数据库中的下载等，但这将花费更多（时间和服务器资源），所以如果可以，尝试简单第一的 ：）

# caching - 使用 Varnish 更改标头中的引用者

> ID：14895951
> 
> 赞同：1
> 
> 时间：2013-02-15T13:35:50.453
> 
> 标签：caching, centos, varnish, varnish-vcl

我认为这是使用 varnish 的一种可能性，您可以在其中更改其用户标头中的引用者，然后从缓存或服务器为他们提供内容。我想知道如何才能做到这一点。

我在centos 32位机器上用“req.http.referer”然后在varnish 2.1中“设置req.http.referer”尝试了这个，但是当我用命令“varnishtop -i TxHeader -”检查结果时它不起作用我推荐人”。

有人有比这更好的想法吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-18T14:07:58.543

至少在 Varnish 3.0 上，以下工作按预期工作。显然，如果响应是从缓存中提供的，并且您没有将 req.http.Referer 用于 hash()，那么如何更改引用标头并不重要。

```
# Modify Referer header
sub vcl_recv {
  if (req.http.Referer) {
     # Referer was set. Replace foo with bar
     set req.http.Referer = regsub(req.http.Referer,"foo","bar");
  } else {
     # Referer was not set. Set it to something anyway.
     set req.http.Referer = "http://referer.was.empty/";
  }
} 
```

另请注意，`varnishtop -i TxHeader -I Referer`区分大小写。如果您这样做，即使您的 HTTP 后端也能理解标头，`set req.http.referer`它也不会匹配（根据[RFC 2612 4.2](https://www.rfc-editor.org/rfc/rfc2616#section-4.2)消息标头不区分大小写）。`-I Referer``referer:`

# ntp - 在windows7中设置NTP服务器但动态ip

> ID：14895953
> 
> 赞同：-1
> 
> 时间：2013-02-15T13:35:58.287
> 
> 标签：ntp

我尝试在 windows7 中设置 NTP 服务器。在客户端像往常一样，我们需要设置服务器的 IP。

问题是我想服务器端每周总是有不同的 ip。

任何人都可以在这里扔我一根骨头吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T15:32:41.663

良好的 NTP 服务：[pool.ntp.org](http://pool.ntp.org)。选择 pool.ntp.org 作为 NTP 主机将自动选择性能良好的服务器。在同一地址 (pool.ntp.org) 阅读更多内容。这将阐明您的问题，因为该站点还会不时为您提供不同的 IP。

# postgresql - postgresql 触发器不起作用

> ID：14895958
> 
> 赞同：0
> 
> 时间：2013-02-15T13:36:11.440
> 
> 标签：postgresql, triggers

我在更新或删除时有一个表“demand_details”我想将每一行的值存储在另一个表“demand_details_log”中

我的功能如下

```
CREATE OR REPLACE FUNCTION water_blogb() RETURNS trigger AS
$BODY$ 
BEGIN 
    IF (TG_OP='UPDATE') THEN  
       INSERT INTO demand_details_log VALUES ('U',now(),OLD.*); 
       RETURN NEW; 
    END IF; 
    IF (TG_OP='DELETE') THEN  
       INSERT INTO demand_details_log VALUES ('D',now(),OLD.*); 
       RETURN OLD; 
    END IF;
END;
$BODY$ LANGUAGE plpgsql 
```

我的触发器如下

```
CREATE TRIGGER water_btrg_b
  AFTER UPDATE OR DELETE
  ON demand_details
  FOR EACH ROW
  EXECUTE PROCEDURE water_blogb(); 
```

我的问题是相同的触发器和函数在其他表上运行良好（通过更改表、触发器和函数名称）但不适用于需求表。我尝试在其他表触发器中都使用“RAISE NOTICE 'working...'”，但在需求表中它根本没有被触发。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T02:02:54.977

如您所见，触发器不会被继承。这导致在继承的表结构中管理触发器时遇到一些困难。您可能想阅读[http://ledgersmbdev.blogspot.com/2012/08/postgresql-or-modelling-part-3-table.html](http://ledgersmbdev.blogspot.com/2012/08/postgresql-or-modelling-part-3-table.html)和[http://ledgersmbdev.blogspot.com中涉及的一些问题/2012/08/or-modelling-32-setsubset-modelling.html](http://ledgersmbdev.blogspot.com/2012/08/or-modelling-32-setsubset-modelling.html)。

现在那些不直接解决表分区，这可能是您在这里尝试做的。我建议您构建一些额外的测试，您可以运行这些测试来检查并确保触发器已正确安装在所有子表上。我建议看一下[如何在 PostgreSQL 中以编程方式查找继承的表？](https://stackoverflow.com/questions/12139116/how-to-find-inherited-tables-programatically-in-postgresql)以及 pg_trigger 表，以便您可以构建不共享其父触发器的子表的报告。

# html - 删除 h1 标签中的内部空间

> ID：14895962
> 
> 赞同：2
> 
> 时间：2013-02-15T13:36:26.847
> 
> 标签：html, css, alignment, inline

嗨，我是 HTML 和 CSS 的初学者！我试图让徽标和标题正确对齐。他们两个应该在同一条线上。问题是我无法删除 h1 的内部空间，并且文本顶部总是有一个边距（如果我为 h1 着色 bg，我看到它在文本上方延伸得更远）。有没有办法解决这个问题还是我做错了？我希望它们的高度和水平位置完全相同（标题中“T”的顶部应该在 img 的顶部，底部相同）。

HTML：

```
<header>
    <img src="images/logo.gif" alt="logo">
    <h1>Title</h1>
</header> 
```

CSS：

```
header
{
    overflow:auto;
}

header img
{
    float:left;
    width:55px;
    height:55px;
    margin-right:20px;
}

header h1
{
    float:left;
    padding:0px;
    margin:0px;
    font-size:55px;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-15T15:26:47.733

您是否尝试将行高设置为固定值？

```
h1 { line-height: 55px;} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-15T13:46:52.800

我为您创建了一个 jsfiddle .. 让我知道这是否是您想要实现的目标 -

[JSFiddle 对齐 - H1 和 IMG](http://jsfiddle.net/shail/kvFHJ/2/show)

```
 header
 {
overflow:auto;
      }

header img
 {
float:left;
width:55px;
height:55px;
margin-right:20px;
margin-top:10px;/*add this */
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-15T13:45:42.053

尝试在标题 h1 中添加负边距顶部：

```
header h1 {
  float: left;
  padding: 0px;
  margin: 0px;
  font-size: 55px;
  **margin-top: -15px;**
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-15T13:49:31.010

负边距是一个选项，就像 ssbrewster 建议的那样，但如果你不想弄乱你的布局，你可以尝试`line-height`：

```
header h1 {
    float: left;
    padding: 0px;
    margin: 0px;
    font-size: 55px;
    line-height: 70%;
} 
```

# java - Ant javac 忽略缺少的导入

> ID：14895966
> 
> 赞同：0
> 
> 时间：2013-02-15T13:36:44.073
> 
> 标签：java, ant, javac

我正在尝试从 Eclipse 移植构建以使用“独立”ant，有很多链接的文件/文件夹以及一些循环引用（如果我通过 Eclipse 导出它正在工作）。

如果找不到 java 文件，我试图找到一种方法让 javac 忽略。

这甚至可以用蚂蚁吗？如果没有，我是否有可能使用其他构建工具获得有效构建？

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-15T13:38:52.073

> 如果找不到 java 文件，我试图找到一种方法让 javac 忽略。

不。相反，请确保提供所需的所有代码。

如果您开始使用它一无所知的类型，您希望编译器做什么？Java 并不是为了应对这种情况而设计的。

如果 Eclipse 可以无错误地构建代码，那么一切都*应该*可用 - 您应该追踪每个丢失的文件，而不是试图忽略它们。

# forms - 表格分析与建议

> ID：14895971
> 
> 赞同：0
> 
> 时间：2013-02-15T13:37:07.537
> 
> 标签：forms, validation

我在 uSell.com 上填写表格以运送旧手机，当我输入地址时，弹出一个对话框，告诉我输入的内容以及他们对更改内容的建议。我认为这很酷，并且想知道如何在我的表单中复制它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-15T13:49:42.103

看起来你在谈论某种自动完成器。这可以通过多种方式完成，具体取决于您使用的语言。你可以只使用 html、javascript 和 css 来制作一个简单的自动完成器。更复杂的自动完成器可以进行服务器端调用以搜索数据库等。

看看下面的链接，他们解释了一个非常简单的自动完成器。

[相关主题](https://stackoverflow.com/questions/4663710/how-do-i-implement-autocomplete-without-using-a-dropdownlist)

希望这有帮助，祝你好运 ：）

# asp.net-mvc-3 - 如何将部分站点渲染到另一个 div？

> ID：14895972
> 
> 赞同：1
> 
> 时间：2013-02-15T13:37:09.203
> 
> 标签：asp.net-mvc-3, razor

我想要在网站上有一个表的视图，当您单击表项时，我想用我刚刚单击的当前对象更新部分视图。我该如何做到这一点？

```
<table>
    @foreach (var a in annotations)
    {
        <tr>
            <td>
                <label onclick="change stuff to new Annotation">@a.Title</label>
            </td>
        </tr>
    }
</table>
<div id="stuff">@Html.RenderPartial("Go", "new annotation")"</div> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-15T13:44:16.160

您正在混合客户端和服务器端代码。当点击事件发生时，您已经在客户端并且服务器端代码已经运行并完成了。

您可以隐藏部分视图，`div`然后在单击事件中取消隐藏它。类似的东西，也许是：

```
<table>
@foreach (var a in annotations)
{
    <tr>
        <td>
            <label>@a.Title</label>
            <div style="display:none;">@Html.RenderPartial("Go", a)</div>
        </td>
    </tr>
}
</table>

<script type="text/javascript">
    $(function () {
        $('table tr td label').click(function () {
            $(this).closest('td').find('div').show();
        });
    });
</script> 
```

可能有一种更优雅的方法可以`div`在 jQuery 选择器中找到正确的选择器，您可以根据需要向 DOM 元素添加类和 id 以使其更清洁。如果您有很多这些表行，那么我还建议使用 jQuery`.on()`函数来绑定单击事件，因为它会执行得更好。像这样的东西：

```
<script type="text/javascript">
    $(function () {
        $('body').on('click', 'table tr td label', function () {
            $(this).closest('td').find('div').show();
        });
    });
</script> 
```

这会将单个单击事件绑定到 DOM 而不是很多，另外还有一个好处是动态添加的行在绑定发生后仍会处理该事件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-15T13:41:07.567

你把你的客户端和服务器端代码混合在这里。

```
@Html.RenderPartial("Go", a) 
```

是返回一些 HTML 的服务器端方法。

```
<label onclick= 
```

是客户端代码。因此，当您的客户获取数据时，它看起来像这样：

```
<label onclick="The text returned from html.render partial"> 
```

我认为您需要更多地阅读 MVC 以实现您想要的，因为您从根本上走错了路。

# heroku - heroku 中的 ssh 收到“上传 ssh 公钥失败”

> ID：14895975
> 
> 赞同：4
> 
> 时间：2013-02-15T13:37:18.533
> 
> 标签：heroku, heroku-toolbelt

当我第一次尝试连接到我的 heroku 应用程序时，我看到以下消息：

> “找到现有的公钥：c:/users/idan/.ssh/id_rsa.pub 上传 ssh 公钥 c:/users/idan/.ssh/id_rsa.pub ...失败！
> 应用程序错误”

尽管事实上当我打开路径时：`c:/users/idan/.ssh` 我在这个文件夹中找到了文件`id_rsa`，而且当我输入时`"heroku keys"` 我收到“ `no keys founds`”

我该如何解决？

谢谢伊丹

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-15T17:58:09.217

将您的密钥添加到 SSH：

```
ssh-add ~/.ssh/id_rsa 
```

然后将该密钥文件添加到 Heroku 的与您的帐户关联的 SSH 密钥列表中。

[https://dashboard.heroku.com/account](https://dashboard.heroku.com/account)

# java - 在android中创建一个带有视图切换器的编辑模式类

> ID：14895976
> 
> 赞同：0
> 
> 时间：2013-02-15T13:37:22.313
> 
> 标签：java, android, xml, viewswitcher

我正在尝试创建一个具有编辑模式的页面，我的意思是，您可以单击一个按钮，然后所有 textview 都将转换为 edittext。所以我用视图切换器为此创建了一个自定义视图：

自定义视图：

```
public class EditabeText extends ViewSwitcher{

private Context m_context;
private View m_view;
private TextView tv;
private EditText edit;
public EditabeText(Context context, AttributeSet attrs) {
    super(context, attrs);
    m_context = context;
    lauch();
}
public EditabeText(Context context) {
    super(context);
    m_context = context;
    lauch();
}
public void lauch(){
    inflate();
    bind();
}
public void inflate(){
    LayoutInflater inflater = (LayoutInflater)m_context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
    m_view = inflater.inflate(R.layout.editable_text_view, this);
}
public void bind(){
    tv = (TextView) m_view.findViewById(R.id.tv_editable_text);
    edit = (EditText) m_view.findViewById(R.id.edit_editable_text);
}
public void init(){

}
public void showEditText(){
    if(this.getCurrentView() == tv){
        this.showNext();
        Toast.makeText(m_context, "showing ... edit mode", Toast.LENGTH_SHORT).show();
    }else{
        Toast.makeText(m_context, "already in tv mode", Toast.LENGTH_SHORT).show();
    }
}
public void showTextView(){
    if(this.getCurrentView() == edit){
        this.showPrevious();
        Toast.makeText(m_context, "showing ... tv mode", Toast.LENGTH_SHORT).show();
    }else{
        Toast.makeText(m_context, "already in edit mode", Toast.LENGTH_SHORT).show();
    }
}

} 
```

这是 xml ：

```
<ViewSwitcher xmlns:android="http://schemas.android.com/apk/res/android"
android:id="@+id/switcher"
android:layout_width="match_parent"
android:layout_height="match_parent"
android:orientation="vertical" >

<TextView
    android:id="@+id/tv_editable_text"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:text="Text" />

<EditText
    android:id="@+id/edit_editable_text"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:hint="Enter text" />

</ViewSwitcher> 
```

这是我的主要活动：

```
public class Test2 extends Activity {
EditabeText edit_tv;
@Override
protected void onCreate(Bundle savedInstanceState) {
    // TODO Auto-generated method stub
    super.onCreate(savedInstanceState);
    LinearLayout ll_layout = new LinearLayout(getApplicationContext());
    //
    edit_tv = new EditabeText(getApplicationContext());
    //
    Button button = new Button(getApplicationContext());
    button.setText("change");
    button.setOnClickListener(listener);
    //
    ll_layout.addView(edit_tv);
    ll_layout.addView(button);
    //
    setContentView(ll_layout);
}
public OnClickListener listener = new OnClickListener() {

    @Override
    public void onClick(View v) {
        // TODO Auto-generated method stub
        Toast.makeText(getApplicationContext(), "click", Toast.LENGTH_SHORT).show();
        edit_tv.showEditText();
    }
};
} 
```

但它说“已经处于电视模式”，而 TextView 是视图切换器内的第一个视图。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-15T16:28:56.953

不要在布局文件中使用（`R.layout.editable_text_view`我猜是你发布的）另一个`ViewSwitcher`，因为这会让你有一个`ViewSwitcher`（*EditabeText*类），它有一个子视图，另一个`ViewSwitcher`有两个子视图（a`TextView`和 an `EditText`）。在这种情况下，显示`TextView`or`EditText`将始终失败，因为`this.getCurrentView() == tv`(or `== edit`) 会将包装器`ViewSwitcher`与`TextView`or匹配`EditText`。像这样改变你的布局：

```
<merge xmlns:android="http://schemas.android.com/apk/res/android">
<TextView
    android:id="@+id/tv_editable_text"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:text="Text" />

<EditText
    android:id="@+id/edit_editable_text"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:hint="Enter text" />
</merge> 
```

# android - Android 依赖项中的错误，同时集成 FB-SDK 3.0

> ID：14895979
> 
> 赞同：1
> 
> 时间：2013-02-15T13:37:36.947
> 
> 标签：android, facebook

我在集成 FB-SDK 时尝试了所有与错误相关的线程，但没有成功，欢迎任何答案。

我的 Java 编译器设置为 1.6。

将 Facebook SDK 集成到我的应用程序时出现此错误

![在此处输入图像描述](../Images/526063e07783f15aa7af9f13b326c0b5.png)

它在那个标记的地方给了我错误

```
path\facebook-android-sdk-3.0.2\facebook\bin(missing) 
```

单击“确定”添加此错误后，我收到此错误。

![在此处输入图像描述](../Images/023e4cfc64c1f8009a88fd8d102efa2b.png)

提前致谢 。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-15T14:48:27.467

在继续之前，我建议您获取最新的 Facebook SDK，因为您的 (3.0.2) 和 3.0 之间有[一些重要的变化。](https://developers.facebook.com/docs/tutorials/androidsdk/3.0/upgrading-from-3.0.2.b-to-3.0/)

这是我导入 Facebook SDK 的方法

1- 下载最新的SDK，解压到一个目录，即X。(~/X)

2- 打开 Eclipse，New Project -> Android Project From Existing Code，然后浏览并选择 ~/X/facebook-android-sdk-3.0 作为根目录

3-仅选择“facebook”项目并单击完成

4-右键单击facebook项目->属性。从 Java 编译器部分选择编译器合规级别为 1.6

5-创建新的android项目，并将其合规级别设置为1.6。同样在项目属性的 Android 部分，单击添加按钮，然后选择 facebook 项目（我们在第 3 步中导入的项目）

6-最后，项目->清理。对我来说，这一直都是一种魅力。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-10-21T08:51:41.393

您是否检查过您的 fb-sdk/bin 文件夹中是否有 facebook jar？如果它不存在，请先在您的**fb-sdk**文件夹中执行**清理和构建过程。**它将在您的 bin 文件夹中生成一个 facebook.jar 文件。在那之后，您可能已经在您的**主项目**文件夹上进行了另一次**清理和构建。**

# regex - .htaccess：重定向而不更改 url

> ID：14895980
> 
> 赞同：27
> 
> 时间：2013-02-15T13:37:39.537
> 
> 标签：regex, .htaccess

我希望将 URL 重定向到同一域上的不同页面，但浏览器不更改 URL。所以页面`www.mydomain.co.uk/tour/`应该指向`www.mydomain.co.uk/`但不改变。

我在 Stackoverflow 上查看了很多类似的问题，但所有解决方案似乎都为我改变了 URL。

**代码：**

```
RewriteEngine On
Options +FollowSymLinks
RewriteCond %{REQUEST_URI} ^/tour
RewriteRule ^(.*)$ http://www.mydomain.co.uk/ [L] 
```

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2013-02-15T13:41:05.810

因为您在重写规则中提供了完整的 URL，所以它会自动被视为重定向。用斜杠替换完整的 URL，它应该可以工作，即：

```
RewriteCond %{REQUEST_URI} ^/tour
RewriteRule ^(.*)$ / [P] 
```

您甚至可以将其缩短为：

```
RewriteEngine on
RewriteRule ^/?tour.* / [P] 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2017-04-22T20:50:59.567

1- 使用 [P] 而不是 [L]

2- 在第二行末尾使用 $s 来重定向一组 url，并在其末尾删除 / 。

代码将如下所示：

```
RewriteCond %{REQUEST_URI} ^/tour
RewriteRule ^(.*)$ /$1 [P] 
```

它处理的不仅仅是文件夹浏览的索引页面。

* * *

## 回答 #3

> 赞同：-6
> 
> 时间：2013-09-20T15:36:15.587

尝试将 [L] 更改为 [P]，我认为它会起作用。

# python - Python 2 如何将 values_list 操作返回的 unicode 列表更改为字符串列表

> ID：14895981
> 
> 赞同：7
> 
> 时间：2013-02-15T13:37:44.497
> 
> 标签：python, django, django-views, django-queryset

我执行了这个操作来检索一个查询集：

```
Name.objects.values_list('name', flat=True) 
```

它返回以下结果：

```
[u'accelerate', u'acute', u'bear', u'big'] 
```

结果都是 unicode (u')。如何将它们全部删除以获得结果：

```
['accelerate', 'acute', 'bear', 'big'] 
```

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-02-15T13:40:53.817

如果你想用 utf8 编码，你可以简单地做：

```
definitions_list = [definition.encode("utf8") for definition in definitions.objects.values_list('title', flat=True)] 
```

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2013-02-15T13:39:57.707

您可以调用`str`所有值（注意 map 有点懒惰，`list()`添加它可以立即将其转回可索引对象）：

```
thingy = list(map(str, [u'accelerate', u'acute', u'bear', u'big'])) 
```

或使用列表推导：

```
[str(item) for item in [u'accelerate', u'acute', u'bear', u'big']] 
```

最后，您为什么要`str`明确要求它们？添加到 django 模板（如`{{ value }}`）中，u 将消失。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2014-09-01T08:23:01.810

我认为捷径是使用`json.dumps()`

```
json.dumps(definitions.objects.values_list('title', flat=True)) 
```

所以你会得到像json格式的字符串结果

```
'["accelerate", "acute", "bear", "big" ...]' 
```

如果您想将其更改为 python 变量，只需`eval`用作函数，因此您的代码更像这样

```
json_format_string = json.dumps(definitions.objects.values_list('title', flat=True))

my_list = eval(json_format_string)  # ['accelerate', 'acute', 'bear', 'big' ...] 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2016-09-30T20:56:11.693

在 python 2.7 中使用不带列表的 map 也可以

```
list_of_python_strings = map(str, [u'accelerate']) 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-09-08T10:52:39.247

我用这个

```
my_list = list(map(str, [u'accelerate', u'acute', u'bear', u'big'...])) 
```

# java - Java + Selenium Web 驱动程序中的无效转义序列

> ID：14895986
> 
> 赞同：0
> 
> 时间：2013-02-15T13:37:57.357
> 
> 标签：java, string

我需要一个带有值的字符串

```
String s = "Patient first name must contain at least one letter(a-zA-Z).
May contain numbers, ,(comma), -(dash), '(apostrophe),
/(forward-slash), \(backslash), &(ampersand) or .(period)" 
```

但是当我在 Eclipse 中使用它时，它对我说 Invalid Escape Sequence。有人能帮我一下吗？

提前致谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-15T13:40:03.340

那么你有两个问题：

*   反斜杠需要在 Java 字符串文字中进行转义
*   Java 中不能有多行字符串文字

所以你可能想要这样的东西：

```
String s = "Patient first name must contain at least one letter(a-zA-Z)."
    + " May contain numbers, ,(comma), -(dash), '(apostrophe),"
    + " /(forward-slash), \\(backslash), &(ampersand) or .(period)"; 
```

...但也可能带有换行符。（不清楚。）

请参阅Java 语言规范的[第 3.10.5 和 3.10.6 节](http://docs.oracle.com/javase/specs/jls/se7/html/jls-3.html#jls-3.10.5)，以了解字符串文字中的有效内容。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-15T13:41:59.423

试试这个：

```
String s = "Patient first name must contain at least one letter(a-zA-Z).May contain numbers, ,(comma), -(dash), '(apostrophe),/(forward-slash), \\(backslash), &(ampersand) or .(period)";//no multiline. and escape backslash \ 
System.out.println(s); 
```

# iphone - 从服务器获取数据后如何获取文件路径以保存数据？

> ID：14895990
> 
> 赞同：0
> 
> 时间：2013-02-15T13:38:04.767
> 
> 标签：iphone, ios, objective-c, macos

```
NSMutableURLRequest *request = [[NSMutableURLRequest alloc] init];
[request setURL:[NSURL URLWithString:strFileUrl]]; //strFileURL is url of my video/image
NSURLConnection *conection = [[[NSURLConnection alloc] initWithRequest:request delegate:self startImmediately:NO] autorelease];
[conec start];
[request release]; 
```

使用上面的代码，我正在创建 URL 连接以从服务器下载数据。

```
strFilePath = [[NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES) objectAtIndex:0] stringByAppendingPathComponent:strFileName]; 
```

使用上面的代码我可以获取文件的路径来保存数据，但是在上面的代码中我不知道如何获取`strFileName`（最后在上面的代码中）或者请任何人帮助我如何将数据保存到我的文档目录之后从服务器获取数据。提前感谢大家。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-15T13:44:44.523

```
//Capturing server response

 NSData* result = [NSURLConnection sendSynchronousRequest:request  returningResponse:&response error:&error];

 NSString *documentsDirectory = [NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES) objectAtIndex:0];   
 NSString *fullPath = [documentsDirectory stringByAppendingPathComponent:[(NSURLResponse *)response suggestedFilename]]; 

 NSFileManager *fileManager = [NSFileManager defaultManager];
[fileManager createFileAtPath:fullPath contents:result attributes:nil]; 
```

# javascript - 如何更改此 JavaScript？

> ID：14895992
> 
> 赞同：0
> 
> 时间：2013-02-15T13:38:10.663
> 
> 标签：javascript, ajax, html, jquery

我想更改内容在我的网站上的显示方式：

```
var FNav = {
init: function() {
    $("a[href*=#]").click(function(e) {
    e.preventDefault();
        if($(this).attr("href").split("#")[1]) {
            FluidNav.goTo($(this).attr("href").split("#")[1]);
        }
    });
    this.goTo("home");
},
goTo: function(page) {
    var next_page = $("#"+page);
    var nav_item = $('nav ul li a[href=#'+page+']');
    $(".page").fadeOut(500);
    next_page.fadeIn(500); 
```

如何更改此 JavaScript，以便拥有适当的后退按钮功能？

**我尝试过的**（不成功）。这些是我尝试过的解决方案，但没有更改上面的 javascript。这就是为什么我认为它们似乎都不起作用。

*   使用此处描述的 History.js 方法： [https](https://github.com/browserstate/history.js/) ://github.com/browserstate/history.js/我填写了所有步骤并将脚本输入到标题中，但是当我单击时，只有 URL 栏中的 URL 会发生变化一条链接。当我单击“后退”按钮时，URL 会相应更改，但不会加载内容。当我在 URL 栏中输入 URL 时，我会被发送到主页。

*   此处描述的 Ajaxify 和 Gist 方法：[https](https://github.com/browserstate/ajaxify) ://github.com/browserstate/ajaxify实现与上述相同，问题也相同

*   此处描述的 Davis.js 方法： [https](https://github.com/olivernn/davis.js) ://github.com/olivernn/davis.js完成安装说明后没有任何效果。没变。

*   此处描述的 jQuery BBQ 插件方法：[http](http://benalman.com/projects/jquery-bbq-plugin/) : //benalman.com/projects/jquery-bbq-plugin/ 什么都没有，在加载网站标题中的 .js 文件时没有任何变化。

*   我读了这篇文章并理解了它： [http ://diveintohtml5.info/history.html](http://diveintohtml5.info/history.html)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-15T13:41:38.703

后退按钮不会神奇地起作用。您需要编写代码并监听事件变化！

在 history.js 中，[它显示在首页上](https://github.com/browserstate/history.js/)：

```
// Bind to StateChange Event
History.Adapter.bind(window,'statechange',function(){ // Note: We are using statechange instead of popstate
    var State = History.getState(); // Note: We are using History.getState() instead of event.state
    History.log(State.data, State.title, State.url);
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-24T12:41:02.260

我不确定你为什么不能让 Davis.js 为你工作？也许在 GitHub 页面上打开一个问题。

如果你想在 davis 中使用基于散列的路由，你需要包含[散列路由扩展](https://github.com/olivernn/davis.js/blob/master/lib/extensions/davis.hash.js)。然后，您只需在 davis 之后将其包含在您的页面中。

然后，以下设置应允许您处理路由

```
Davis.extend(Davis.hash)

Davis(function () {
    this.get('/:page', function (req) {
        FluidNav.goTo(req.params.page);
    })
}) 
```

假设您的页面中有以下链接

```
<a href="#/page_1">Page1</a>
<a href="#/page_2">Page2</a> 
```

Davis 会为您处理后退按钮，因此，如果您单击第 1 页的链接，然后单击第 2 页，单击后退按钮将再次导航到第 1 页。

如果你有任何问题，请在 GitHub 页面上打开一个问题，详细说明你有什么和什么不工作，我可以看看。

# android - 对于 Android Map api v2 描述引用不存在的库 google-play-services_lib\bin\google-play-services_lib.jar

> ID：14895997
> 
> 赞同：10
> 
> 时间：2013-02-15T13:38:32.410
> 
> 标签：android, google-api, android-mapview, android-maps, google-maps-android-api-2

我已将 google-play-services_lib 导入我的工作区并将 google 项目添加到 MYProject 中，它给出了 mr 错误：

> 描述资源路径位置类型容器“Android Dependencies”引用了不存在的库“D:\Android Workspace\google-play-services_lib\bin\google-play-services_lib.jar”HBuddy 构建路径构建路径问题
> 
> 描述 资源路径 位置 类型 在解决构建路径错误之前无法构建项目 HBuddy 未知 Java 问题

我已经在 Extras 中安装了 Google Play Service![在此处输入图像描述](../Images/728dbb1ed4675d9947563074d118300b.png)

![在此处输入图像描述](../Images/4bee3f2ebad97b6767629e82faf61b3d.png) ![在此处输入图像描述](../Images/2a73351b2b5980fcbc159ab0c6a5edb2.png)

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2013-05-06T12:06:01.987

我也遇到了这个问题。

我的解决方案是，

1.  首先清理项目**google-play-services_lib**
2.  然后清理我的项目，它依赖于播放服务库

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-12-28T10:23:51.700

嘿，我知道你的问题是什么。我认为您似乎没有构建您的 google-play-services 项目...尝试以下解决方案：

1.  将 google-play-services_lib “项目”导入您的工作区
2.  将新导入的项目添加到您的应用程序构建路径
3.  右键单击 google-play-services_lib 项目并选择“构建项目”
4.  稍等片刻或“清理”您的项目
5.  运行您的应用程序并 - 瞧 -

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-15T13:46:10.453

请取消选中“是库”，如下所示；

![在此处输入图像描述](../Images/6c473dfc73de6159b924177945efd875.png)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-18T19:55:15.437

您的 bin 文件夹不存在！您可能没有创建文件夹的权限。

如果您从现有代码创建项目，请确保选中“将项目复制到工作区”。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-06-02T06:02:40.510

我发现引用正在查看错误的文件夹。它通常会查找`<android-sdk>/extras/google/google_play_services/libproject/google-play-services_lib/bin/`jar 文件，该文件实际上是在`<android-sdk>/extras/google/google_play_services/libproject/google-play-services_lib/libs`文件夹中。我找不到更改引用链接的方法，所以我只是将 jar 文件和匹配的 jar 属性文件从`/libs`文件夹复制到`/bin`文件夹中。

我希望它有所帮助。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-11-15T04:15:47.647

我的解决方案是，

1.  首先清理项目 google-play-services_lib

2.  然后清理我的项目，它依赖于播放服务库

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2014-07-30T20:43:10.207

还有另一种方法可以解决此问题。将 google_play_services_lib 项目导入您的工作空间。android-sdk/extras/google/google_play_services/libproject/google-play-services_lib

然后在外部添加 google-play-services.jar 文件。右键单击 your_project -> 属性 -> java 构建路径 -> 库 -> 添加外部 JAR -> 从工作空间中选择 google-play-services.jar -> 清理 -> 构建

这个对我有用。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2013-07-02T12:00:20.720

当我更新我的 eclipse Android SDK 工具时，我遇到了同样的问题并得到了解决。
我使用的是版本 22，当我将 Android SDK 工具更新到 22.0.1 时，错误消失了，我可以构建我的项目。
我希望这可以帮助别人...

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2013-12-02T06:23:35.357

检查项目文件夹的只读属性。如果选中，请取消选中它，然后尝试。