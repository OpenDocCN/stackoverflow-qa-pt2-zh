# StackOverflow 问答 14050000-14050999

# asp.net - 我们可以在 asp.net 网站中使用谷歌驱动器功能吗？

> ID：14050002
> 
> 赞同：0
> 
> 时间：2012-12-27T05:52:16.080
> 
> 标签：asp.net, google-drive-api

我想在我的网站中使用 google drive 功能，例如用户可以在使用我的网站提供登录凭据后查看、下载和上传他们的 google drive 内容。

这个功能可以吗？如果我错了，请随时纠正我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-27T06:06:31.667

您可以在您的网站中嵌入谷歌驱动器功能。为此 google 提供了 google drive api。对于像 Joomla 这样的 CMS，可用于将其嵌入到您的网页中。这是一个链接，其中列出了将 Google drive api 插入您的网页的步骤：

[https://docs.google.com/presentation/d/1KBFyPhCbDVwT1PZG8mmjWIsB2nBMvOfoVr8_VOSIoGE/edit?pli=1#slide=id.gf0ec6a4_0_114](https://docs.google.com/presentation/d/1KBFyPhCbDVwT1PZG8mmjWIsB2nBMvOfoVr8_VOSIoGE/edit?pli=1#slide=id.gf0ec6a4_0_114)

谢谢

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-27T06:07:22.310

使用 Google Drive SDK for .NET，可以开发文件浏览器，它可以连接 Google Drive 以保存和检索更改。[阅读此处](https://developers.google.com/drive/quickstart-cs)的启动指南并尝试动手实践 DrEdit Web 应用程序[示例](https://developers.google.com/drive/examples/dotnet)，该示例清楚地展示了如何实现相同的功能。

# codeigniter - 如何在 twilio codeigniter 中使用回调 url

> ID：14050003
> 
> 赞同：0
> 
> 时间：2012-12-27T05:52:41.010
> 
> 标签：codeigniter, twilio

```
 $data = array(
                        'From' => $from, 
                        'To' => $to, 
                        'Url' => site_url('dashboard/call2')
            );
     // make call request to Twilio

     try{ 
          $twilio = new TwilioRestClient($account_sid, $account_token);
          $result = $twilio->request('2010-04-01/Accounts/'. $account_sid .'/Calls', 
                    'POST', 
                    $data
                    );
            pr($result);
         }
         catch (Exception $e){
                pr($e);
         }

     public function call2() {
         $this->load->view('response');
     } 
```

这里的响应是视图中的一个 xml 文件。response.xml 必须作为回调 url 调用。但它显示错误：

```
XML Parsing Error: XML or text declaration not at start of entity
Location: http://www.website.com/index.php/dashboard/call2
Line Number 1, Column 5:    <?xml version="1.0" encoding="UTF-8"?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-03T03:47:08.113

声明之前似乎有前导空格`<?xml`。这将导致文档无法解析。

检查您的 PHP 标记之外是否有空格，包括可能在结束`?>`标记之后。这将显示在 XML 输出中。

# java - 如何在 JPA 标准中做到这一点？

> ID：14050005
> 
> 赞同：0
> 
> 时间：2012-12-27T05:52:45.750
> 
> 标签：java, jpa-2.0, criteria-api

假设我有实体 Lecturer 和 Course 两个实体在 JPA 2.0 中具有多对多关系

像这样工作的非注释实体 LecturerCourse（具有多表选择列，未注释）和 JPQL 是完全可以的。

```
 final Query query = em.createQuery(
            "select new com.cs.entity.LectureCourse(l.id, l.name, l.surName, " +
                    "l.type, c.code, c.name) from lecturer l join l.courses c where l.id = :l_id"
    ); 
```

如何使用 JPA Criteria API 做同样的事情？

这里分别是 Lecturer 和 Courses 的代码

```
@Entity(name = "course")
public class Course implements Serializable {

    @Id
    @Column(name = "course_code", columnDefinition = "char(6)",
            unique = true, nullable = false)
    private String code;
    @Column(name = "course_name")
    private String name;
    @ManyToMany(mappedBy = "courseSet", cascade = CascadeType.ALL, fetch = FetchType.LAZY)
    private Set<Student> students;
    @ManyToOne(fetch = FetchType.EAGER, targetEntity = Lecturer.class)
    @JoinColumn(name = "lecture_id")
    private Lecturer lecturer;

    public Course() {
    }

    public String getCode() {
        return code;
    }

    public void setCode(String code) {
        this.code = code;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public Set<Student> getStudents() {
        return students;
    }

    public void setStudents(Set<Student> students) {
        this.students = students;
    }

    public Lecturer getLecturer() {
        return lecturer;
    }

    public void setLecturer(Lecturer lecturer) {
        this.lecturer = lecturer;
    }

    @Override
    public boolean equals(Object o) {
        if (this == o) return true;
        if (!(o instanceof Course)) return false;

        Course course = (Course) o;

        if (code != null ? !code.equals(course.code) : course.code != null) return false;
        if (name != null ? !name.equals(course.name) : course.name != null) return false;
        if (students != null ? !students.equals(course.students) : course.students != null) return false;

        return true;
    }

    @Override
    public int hashCode() {
        int result = code != null ? code.hashCode() : 0;
        result = 31 * result + (name != null ? name.hashCode() : 0);
        result = 31 * result + (students != null ? students.hashCode() : 0);
        return result;
    }
}

@Entity(name = "lecturer")
public class Lecturer {

    public static enum LectureType{
        FULL_TIME, PART_TIME
    }

    @Id
    @Column(name = "lecture_id", nullable = false,
            unique = true, columnDefinition = "char(8)")
    private String id;
    @Column(name = "lecture_name", length = 20, nullable = false)
    private String name;
    @Column(name = "lecture_sur_name", length = 20, nullable = false)
    private String surName;
    @Enumerated(EnumType.ORDINAL)
    @Column(name = "lecture_type", columnDefinition = "char(1)")
    private LectureType type;
    @OneToMany(cascade = CascadeType.ALL, mappedBy = "lecturer", fetch = FetchType.EAGER)
    private Set<Course> courses;

    public Lecturer() {
    }

    public String getId() {
        return id;
    }

    public void setId(String id) {
        this.id = id;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public String getSurName() {
        return surName;
    }

    public void setSurName(String surName) {
        this.surName = surName;
    }

    public LectureType getType() {
        return type;
    }

    public void setType(LectureType type) {
        this.type = type;
    }

    public Set<Course> getCourses() {
        return courses;
    }

    public void setCourses(Set<Course> courses) {
        this.courses = courses;
        for(final Course course : this.courses){
            course.setLecturer(this);
        }
    }

    @Override
    public boolean equals(Object o) {
        if (this == o) return true;
        if (!(o instanceof Lecturer)) return false;

        Lecturer lecturer = (Lecturer) o;

        if (id != null ? !id.equals(lecturer.id) : lecturer.id != null) return false;
        if (name != null ? !name.equals(lecturer.name) : lecturer.name != null) return false;
        if (surName != null ? !surName.equals(lecturer.surName) : lecturer.surName != null) return false;
        if (type != lecturer.type) return false;

        return true;
    }

    @Override
    public int hashCode() {
        int result = id != null ? id.hashCode() : 0;
        result = 31 * result + (name != null ? name.hashCode() : 0);
        result = 31 * result + (surName != null ? surName.hashCode() : 0);
        result = 31 * result + (type != null ? type.hashCode() : 0);
        return result;
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-27T06:26:29.933

What you're looking for is a form of [CriteriaQuery#multiselect](http://docs.oracle.com/javaee/6/api/javax/persistence/criteria/CriteriaQuery.html#multiselect%28javax.persistence.criteria.Selection...%29) ... I'm assuming you're [generating an appropriate static metamodel](http://docs.jboss.org/hibernate/jpamodelgen/1.0/reference/en-US/html_single/) (that's where the EntityClass_.field pieces come from) but working by hand I come up with something like:

```
CriteriaBuilder builder = em.getCriteriaBuilder();
CriteriaQuery<LectureCourse> criteria = builder.createQuery(LectureCourse.class);
Root<Lecturer> l = criteria.from(Lecturer.class);
Path<Course> c = l.join(Lecturer_.courses);
ParameterExpression<String> l_id = builder.parameter(String.class);
Predicate lecturerIdMatches = builder.equal(l.get(Lecturer_.id),l_id);
TypedQuery<LectureCourse> query = em.createQuery(criteria.multiselect(l.get(Lecturer_.id), l.get(Lecturer_.name), l.get(Lecturer_.surName), l.get(Lecturer_.type), c.get(Course_.code), c.get(Course_.name)).where(lecturerIdMatches));

query.setParameter(l_id,"queryvalue");
List<LectureCourse> results = query.getResultList(); 
```

# wcf - 为什么 WCF 服务正在获取旧的参数值

> ID：14050006
> 
> 赞同：0
> 
> 时间：2012-12-27T05:52:45.910
> 
> 标签：wcf, parameter-passing, operationcontract, uritemplate, webinvoke

我已经设置了两个项目。一是WCF服务项目，合同如下：

```
[OperationContract]
[WebInvoke(Method = "GET",
ResponseFormat = WebMessageFormat.Xml,
BodyStyle = WebMessageBodyStyle.Bare,
UriTemplate = "xml/{filterName}/{filterValue}")]
XmlElement XMLDataWithFilter(string filterName, string filterValue); 
```

其他项目使用此 WCF 服务。当我使用其他一些参数调用 WCF 服务时，参数值`filterName`和第一次调用发送的值保持不变。`filterValue`

为什么 WCF 服务会保留参数的值？

# android - 如何针对电池使用优化安卓应用

> ID：14050009
> 
> 赞同：1
> 
> 时间：2012-12-27T05:52:56.620
> 
> 标签：android, optimization, battery

我创建了一个应用程序，它每 3 分钟在后台运行一次，并在 sqlite 数据库上进行一些计算和更新数据。安装此应用程序后，我的应用程序消耗了更多电池。所以你能告诉我如何创建应用程序以优化电池寿命。

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-27T05:58:27.773

是的，当然有可能，您的应用程序正在耗尽电池电量，因为您一直在运行您的服务，但不是这样...................... ..................................................... ......................................... 最佳实践是使用创建 AlarmManager 上下文PendingIntent，现在每 3 分钟设置一次闹钟。创建一个广播接收器，每 3 分钟接收一次警报。现在....从该接收器启动您的服务对该服务进行计算并将其保存到数据库中。保存 clear() 所有意图数据后，数据库对象并关闭数据库连接。并在完成所有这些操作后调用 stopService() 立即停止您的服务。这使您的应用程序仅在每 3 分钟后启动服务（），并且在完成所有计算后停止服务。

# c# - 持续监控设备是否通过 IP 连接

> ID：14050010
> 
> 赞同：1
> 
> 时间：2012-12-27T05:52:57.777
> 
> 标签：c#, winforms, sockets, ip

我有一个通过 LAN 连接到计算机的电子设备。我有它的 SDK 与它通信。

在与设备通信之前，必须使用 SDK 中提供的代码连接和注册设备。没关系。

我的win应用程序在应用程序启动时连接并注册机器，但问题是如果电子设备关闭然后再打开，应用程序必须再次连接并注册设备。

所以问题是如何持续监控设备是否通过 IP 连接（例如通过 C# 代码对其进行 PING）。

因此，不断 PING 设备时的一个问题是我必须在单独的线程上运行它，这样它就不会影响我的实际应用程序。另一个好的解决方案是，如果我得到一些片段代码，当设备通过 IP 断开连接时会触发事件。

感谢帮助。问候，

**编辑 1：我用来使用 SDK 连接的一些代码**

```
bool connected;
connected = axCZKEM1.Connect_Net("192.168.1.201", "4370");

bool registered;
registered = axCZKEM1.RegEvent(1, 65535); 
```

**编辑 2：我正在尝试 sa_ddam213 的回答方法，但我从未遇到 ping 失败。此外，它使我的电脑运行缓慢。我犯了什么错误？**

```
while (true)
{
        Ping ping = new Ping();
        ping.PingCompleted += (sender, e) =>
        {
              if(e.Reply.Status != IPStatus.Success)
              {
                   connected=false;
                   registered=false;

                   while(connected && registered)
                   {
                       connected = axCZKEM1.Connect_Net("192.168.1.201", 4370);
                       registered = axCZKEM1.RegEvent(1, 65535);
                    }
               }
          };

          ping.Send("192.168.1.201", 3000);
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-27T06:07:00.173

你可以`Ping`使用 c#,

```
 PingReply reply = new Ping().Send("127.0.0.1");
 if (reply.Status == IPStatus.Success)
 {
    // yay
 } 
```

异步方法：

```
Ping ping = new Ping();
ping.PingCompleted += (sender, e) => 
{
    if (e.Reply.Status == IPStatus.Success)
    {
        // yay
    }
};
ping.SendAsync("127.0.0.1", 3000, null); 
```

# cordova - Blackberry、Blackberry webworks 的启动画面图像

> ID：14050011
> 
> 赞同：1
> 
> 时间：2012-12-27T05:52:59.120
> 
> 标签：cordova, splash-screen, blackberry-webworks

我正在黑莓中开发一个 phonegap 应用程序。我有一个启动应用程序时显示的启动画面，这很好。但是对于不同的尺寸，我怎样才能使启动画面适合设备。另外，如何在启动画面上添加加载指示器？我是一名网络开发人员，所以我不知道如何更改 java 文件。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-27T06:01:22.647

尝试使用`.getScreenSize()`获取屏幕大小的功能，然后在获取屏幕大小后，根据获得的坐标设置启动画面的图像大小，但功能。我希望这能解决你的问题。对函数做一些研究。

# java - JTable Oracle 时间戳列未显示

> ID：14050017
> 
> 赞同：1
> 
> 时间：2012-12-27T05:53:19.400
> 
> 标签：java, sql, jdbc, jtable, oracle11gr2

我创建了一个名为 Department_Table 的“Jtable”，现在使用 SQL 查询我试图将我的数据库表内容填充到我的 Jtable 中。

我已成功完成，但我的数据库表中的时间戳列未正确显示。你能帮我找出这个程序有什么问题吗？

代码：

```
public void  UpdateTable()
    {        
        try
        {
            Connection conn=Address.getOracleConnection();

            String sql="Select * from department";
            /*
             Using to_char my statement looks like this and it works

            String sql="Select department_id,name,to_char(created_on,'dd/MM/yyyy HH24:MI:SS') from department";   
            */

            PreparedStatement pst=conn.prepareStatement(sql);
            ResultSet res=pst.executeQuery();
            Department_Tabel.setModel(DbUtils.resultSetToTableModel(res));
        }
        catch(Exception e)
        {
             Notify.showMessageDialog(null,""+e+"","Error Generating Table",Notify.ERROR_MESSAGE);
        }
    } 
```

输出：

```
departmentid    name                         createdon

1            name1           oracle.sql.TIMESTAMP@19eda2c

2            name2              oracle.sql.TIMESTAMP@59a34 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-27T07:29:06.483

此链接应该可以帮助您理解映射并进行格式化以正确显示内容。

[http://docs.oracle.com/javase/1.5.0/docs/guide/jdbc/getstart/mapping.html](http://docs.oracle.com/javase/1.5.0/docs/guide/jdbc/getstart/mapping.html)

# android - 两次调用 ffmpeg.c 导致应用崩溃的问题？

> ID：14050020
> 
> 赞同：7
> 
> 时间：2012-12-27T05:53:30.247
> 
> 标签：android, c, android-ndk, ffmpeg

我正在尝试调用 ffmpeg.c 根据此代码['video-](https://github.com/uday-rayala/video-trimmer) trimmer' 修剪视频。因此，当我第一次单击 trin 尝试运行活动（加载并使用本机库）时，它可以工作并且我可以修剪视频，但是当我尝试再次运行它时它会崩溃（并且它仅适用于应用程序重新启动）。

所以我花了三天时间寻找这个问题的解决方案，大多数答案都说 ffmpeg.c 中的静态变量存在问题，并创建一个加载和卸载类的库来解决问题（[answer1](https://stackoverflow.com/a/12149094/302707)，[answer2](https://stackoverflow.com/questions/10649119/calling-native-method-twice-of-third-party-library-in-an-activity-causes-the-and)）。因此，我尝试将基于答案的解决方案和[此](https://github.com/jhotovy/android-ffmpeg/tree/master/Project/jni/ffmpeg_invoke)github 存储库应用于 video-trimmer 项目，但我所有的尝试都失败了。

有没有人知道解决问题的[“视频修剪器”](https://github.com/uday-rayala/video-trimmer)项目的一个分支？[或者任何人都可以提供有关如何在“视频修剪器”](https://github.com/uday-rayala/video-trimmer)项目中实施解决方案的逐步答案（因为我试图遵循网络上的所有解决方案并将它们应用于该项目但没有运气）。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-16T15:33:11.590

问题似乎出在初始化值上（一些变量被声明为全局静态变量，大概是为了便于访问，但违反了 OOP 原则并导致我们遇到像您所面临的问题），但是，我有几种方法可以解决这个问题可以想到：

*   编写一个快速函数来手动将静态变量设置回正确的初始值（快速而肮脏但有效）。不应该被允许触发的方法列表如下：
    *   `avcodec_register_all(), avdevice_register_all(), av_register_all()`
    *   `avcodec_find_encoder(), avcodec_find_decoder(), av_find_stream_info()`
    *   `avcodec_open(), avcodec_close()`
        *   例如，这些可以包装在一个布尔控制的方法中，这样如果它们以前运行过，它们就不能再次运行。
*   另一种控制事物的方法是手动强制在后续运行中重新初始化的变量值（通过使用类或结构来控制 ffmpeg 全局变量），例如在运行当前导致代码失败的方法时，第一步可能是手动将变量设置回其默认设置，以便它们正确运行，因为我怀疑您在迭代之间保留了数据，这就是导致问题的原因。
*   您可以使用互斥锁来确保上述方法在与线程一起使用时表现得更负责任。

**附录：**

*   如果您要多次调用 main()也（在 C 级别）`libffmpeginvoke`优先使用`libffmpeg`
*   在调用加载 ffmpeg 库时强行调用垃圾收集（是的，这是另一个“丑陋”修复），然后它会清理一切，允许您调用另一个实例

如果您需要更深入的内容，请告诉我：我可以尝试制作一个测试框架来复制您的问题并查看我得到的结果，尽管这需要访问我的家用 PC，因为我在工作时没有 Android SDK。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-04T11:48:01.277

帮助我们帮助您，请提供您实现的代码或其中的一部分。崩溃日志也会有所帮助。

提示：初始化 ffmpeg 对象/线程。然后使用回调接口。一旦 VideoTrimmer 结束，请进行回调。在该回调中调用 ffmpeg 对象/线程的销毁/终止。

可能这个[链接](http://shuklaxyz.blogspot.in/2012/05/callback-example-in-java_29.html)可以帮助你。

我最近使用了来自 github 的“android-ffmpeg-java”项目，这是一个工作库，我可以保证。您只需要实现一个可以完成工作的包装器（测试应用程序）。
检查此链接的来源：[android-ffmpeg-java](https://github.com/guardianproject/android-ffmpeg-java)
检查此链接，例如： [android-ffmpeg-cmdline](https://github.com/JayH5/android-ffmpeg-cmdline)。看看你能不能解决这个问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-16T18:35:49.553

虽然有些粗糙，但潜在的解决方法可能是利用/链接到来自服务的 ffmpeg（无论如何你最好这样做），该服务在清单中声明为在其自己的进程中运行，而不是在客户端活动中运行。然后让该进程自行终止 - 如果需要，调用本机 exit() - 当任务完全完成时。Android 不会特别喜欢这种情况——这不是一个好习惯——但你可以让它工作。

重新设计库以使其能够将自身重置为新状态（甚至使其完全与上下文相关）会更好，但对于庞大的遗留代码库可能会被证明是一个大型项目。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-16T17:18:08.540

我不确定这是否会有所帮助，但 C 文件通常有一个可以使用的标题

ifndef

请参阅以下内容： [http ://www.cprogramming.com/reference/preprocessor/ifndef.html](http://www.cprogramming.com/reference/preprocessor/ifndef.html)

使用该语法对相关 .h 文件中的声明进行沙化处理，以确保多次导入不会导致导入代码崩溃。

祝你好运！

编辑：好的，看起来这意味着将 ffmpeg 重新编译为 .so 文件。您应该尝试验证它在代码库中是否具有上述机制，并尝试确认它没有以某种方式被加载两次。

# java - 启动播放！2.0 指向特定的Java安装

> ID：14050023
> 
> 赞同：1
> 
> 时间：2012-12-27T05:54:06.873
> 
> 标签：java, playframework, playframework-2.0

我的机器上有 2 个单独的 Java 安装。我有 5.0 来支持我开发的旧企业应用程序，并且我为其他事情安装了最新的 JVM。我需要在我的机器上保留旧版本，但我现在正在尝试使用 Play！2.0 用于我自己的一些项目。

当我尝试从 Play 运行它时！目录我收到一个“UnsupportedClassVersionError”，因为正在获取 5.0 版本。将播放指向我的 7.0 jdk 安装的最佳方法是什么？重要的是 JDK5 保持默认。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-27T06:45:37.193

您运行的 play 可执行文件是一个启动脚本，它使用路径上的 Java 版本启动 sbt。您可以在启动时更改路径，如下所示：

```
PATH="/my/jdk7/path:$PATH" play 
```

这假设您正在使用某种 unix shell。如果不是，您可以修改启动脚本本身。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-12-27T12:33:01.060

如果您的意思是在生产环境中`play start`，您可以在编译应用程序后运行`play dist`：

```
java -jar yourappname.jar 
```

从而指定要使用的java版本；

# c# - 使用 Open Xml SDK 和 LINQ 在 Excel 中插入文本

> ID：14050026
> 
> 赞同：0
> 
> 时间：2012-12-27T05:54:16.077
> 
> 标签：c#, linq-to-sql, openxml, export-to-excel

我一直在努力，但我的 excel 表没有按照我的预期填充。如果内容具有字符串数据类型，那么工作表将显示“0”代替它，无论我如何努力使用转换。如果有人可以帮助我，我将在下面粘贴我的代码：

```
 public static void WriteExcelDocument(string FilePath)
    {
        try
        {
            using (SpreadsheetDocument spreadSheet = SpreadsheetDocument.Open(FilePath, true))
            {
                WorkbookPart workbookPart = spreadSheet.WorkbookPart;
                IEnumerable<Sheet> Sheets = spreadSheet.WorkbookPart.Workbook.GetFirstChild<Sheets>().Elements<Sheet>().Where(s => s.Name == "data");
                if (Sheets.Count() == 0)
                {
                    // The specified worksheet does not exist. 
                    return;
                }
                string relationshipId = Sheets.First().Id.Value;
                WorksheetPart worksheetPart = (WorksheetPart)spreadSheet.WorkbookPart.GetPartById(relationshipId);
                SheetData sheetData = worksheetPart.Worksheet.GetFirstChild<SheetData>();
                int index = 2;
                SpectrumNewEntities context = new SpectrumNewEntities();
                var q = from result in context.Appraisers
                        select result;
                foreach (var g in q)
                {
                    string Name = g.AppraiserName!=null?g.AppraiserName:String.Empty;
                    string city = g.City != null ? g.City : String.Empty;
                    string Address = g.Address != null ? g.Address : "NA";
                    int AppId = g.AppraiserAppraiserCompanyId != null ? (int)g.AppraiserAppraiserCompanyId : 0;
                    string email = g.Email != null ? g.Email : String.Empty;
                    Row contentRow = CreateContentRow(index, Name, city, Address, AppId,email);
                    index++;
                    sheetData.AppendChild(contentRow);
                }
                // Save the worksheet.
                worksheetPart.Worksheet.Save();
            }
        }
        catch (Exception)
        {

            throw;
        }
    }

    private static Row CreateContentRow(int index, string Name, string city, string Address, int AppId, string email)
    {
        try
        {
            //Create new row
            Row r = new Row();
            r.RowIndex = (UInt32)index;

            //First cell is a text cell, so create it and append it
            Cell firstCell = CreateTextCell(headerColumns[0], Name, index);
            r.AppendChild(firstCell);//

            //create cells that contain data
            for (int i = 1; i < headerColumns.Length; i++)
            {
                Cell c = new Cell();
                c.CellReference = headerColumns[i] + index;
                CellValue v = new CellValue();
                if (i == 1)
                {
                    v.Text = city.ToString();
                }
                if (i == 2)
                {
                    v.Text = Address.ToString();
                }
                if (i == 3)
                {
                    v.Text =AppId.ToString();
                }
                if (i == 4)
                {
                    v.Text = email.ToString();
                }
                c.AppendChild(v);
                r.AppendChild(c);

            }
            return r;
        }
        catch (Exception)
        {

            throw;
        }
    }
    private static Cell CreateTextCell(string header, string Name,int index)
    {
        try
        {
            //Create a new inline string cell
            Cell c = new Cell();
            c.DataType = CellValues.InlineString;
            c.CellReference = header + index;

            //Add text to text cell
            InlineString inlineString = new InlineString();
            Text t = new Text();
            t.Text = Name;
            inlineString.AppendChild(t);
            c.AppendChild(inlineString);
            return c;
        }
        catch (Exception)
        {

            throw;
        }
    } 
```

我不明白为什么显示是这样的？ ![在此处输入图像描述](../Images/93be87dbd73c9f8947d3e5db97bf1239.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-27T09:10:53.930

使用`CreateTextCell`方法将所有文本单元格添加到行中；`Name`就像您为该领域所做的那样。

# c# - 如何在asp.net的服务器端上传图片

> ID：14050027
> 
> 赞同：0
> 
> 时间：2012-12-27T05:54:18.213
> 
> 标签：c#, asp.net, file-upload, image-uploading

我有一个将照片保存到图像文件夹的网络项目（我使用 FileUpload）它在客户端工作但是当我将我的网站上传到我的主机上时它不再工作了，这是我的代码

```
FileUpload1.SaveAs(Server.MapPath("~/Image/") + FileUpload1.FileName.ToString()); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-27T06:00:07.423

它可能是您的写入权限问题`Image folder`，进入您的服务器 C-Panel 并为所需的文件夹提供必要的权限。

有关权限的更多信息，请参阅此[http://technet.microsoft.com/en-us/library/bb727008.aspx](http://technet.microsoft.com/en-us/library/bb727008.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-27T06:02:56.393

在不知道异常的情况下，最可能的问题是

1.  权限 - 正如其他人所说。您需要查找应用程序池的用户名并授予该用户对您的`image`子文件夹的适当权限
2.  子文件夹是否`image`存在？
3.  文件大小超出服务器限制。有关这方面的更多信息，请参阅这篇文章：

[关于 IIS 中最大文件上传大小的建议](https://stackoverflow.com/questions/1127216/recommendations-on-max-file-upload-size-in-iis)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-27T06:04:35.957

请检查您是否应该在 Image 文件夹上授予写入权限。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-12-27T06:15:19.897

检查下面的代码：

```
FileUpload1.SaveAs(Server.MapPath(@"Image/") + FileUpload1.FileName.ToString()); 
```

我认为这会奏效。请告诉我。

# c++ - 为序列号写入流`operator>>`？

> ID：14050029
> 
> 赞同：2
> 
> 时间：2012-12-27T05:54:26.707
> 
> 标签：c++, c++11

我有以下形式的序列号类：

```
class SerialNumber { ... } 
```

我想`operator>>`为它写：

```
istream& operator>>(istream& i, SerialNumber& s)
{
    ???

    return i;
} 
```

序列号的长度始终为 19 个字符，并以十六进制数字开头。

如果我应该`istream.read`19 个字符，我很困惑。它可能包括前缀空格。?

或者我是否应该阅读 a`i >> std::string`然后检查它是否有 19 个字符长。当您阅读 a`std::string`时，它会跳过空格（是否有标准的方法来实现？）此外，如果我阅读 a`std::string`它可能有一个有效的 19 个字符的序列号前缀，我可能会“过度阅读”输入。?

**更新：**

```
inline istream& operator>>(istream& is, SerialNumber& id)
{
    ostringstream os;

    is >> ws;

    for (int i = 0; i < 19; i++)
    {
        char c;
        is >> c;
        os << c;
    }

    id = DecodeId(os.str());

    return is;
} 
```

Dietmar Kühl 代码的部分净化版本：

```
istream& operator>> (istream& in, SerialNumber& sn)
{
    constexpr size_t n = 19;

    istream::sentry se(in);

    if (!se)
        return in;

    istreambuf_iterator<char> it(in.rdbuf()), end;

    if (it == end || !isxdigit(*it))
    {
        in.setstate(ios_base::failbit);
        return in;
    }

    string s(n,'?');
    for (size_t i = 0; it != end && i < n && !isspace(char(*it)), ++i)
            s[i] = *it++;

    sn = DecodeId(s);

    if (failed to decode)
        in.setstate(ios_base::failbit);

    return in;
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-27T06:19:48.447

标准格式的输入函数始终遵循相同的模式：

1.  他们从构造一个`std::sentry`对象开始，该对象根据`std::ios_base::skipws`格式化标志的设置处理前导空格的任何跳过。
2.  如果读取值以任何方式失败`std::ios_base::failbit`并被设置，则读取值不变。
3.  字符被消耗到第一个与格式不匹配的字符。

也就是说，输入函数看起来像这样：

```
std::istream& operator>> (std::istream& in, SerialNumber& s) {
    std::istream::sentry kerberos(in);
    if (kerberos) {
        std::istreambuf_iterator<char> it(in.rdbuf()), end;
        char buffer[20] = {};
        int  i(0);
        if (it != end && std::isxdigit(static_cast<unsigned char>(*it))) {
            for (; it != end && i != 19
                   && !std::isspace(static_cast<unsigned char>(*it)); ++i) {
                buffer[i] = *it++;
            }
        }
        if (i == 19) {
            SerialNumber(buffer).swap(s);
        }
        else {
            in.setstate(std::ios_base::failbit);
        }
    }
    return in;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-27T05:58:23.430

你应该一次做一步：

*   如果您想*始终*跳过空格，请先执行`i >> std::ws`. 流可能没有`skipws`设置标志。否则让用户决定是否跳过空白，并在读取空白时设置流错误位。

*   阅读第一个`char`，看看它是否是十六进制数字。如果不是，则设置流错误位。

*   读取剩下的 18 个字符，一旦发现不符合序列号格式的字符，就设置流错误位。

    您应该禁用`skipws`此功能，否则您将从由空格分隔的字符中获得有效结果。如果这样做，请确保`skipws`在退出函数时恢复标志（如果在流上启用了异常，则在设置错误位时可能会通过异常发生）。

# objective-c - 如何在 iOS 的 UItableview 中处理 100000 行

> ID：14050032
> 
> 赞同：1
> 
> 时间：2012-12-27T05:54:40.273
> 
> 标签：objective-c, ios, uitableview

哪个是最好的实施方式 -

1.  获取前 25 条记录并在用户单击更多时显示，然后再次从服务器获取。
2.  从服务器获取所有记录并存储在数据库中，从数据库中获取 25 条记录并显示在表中并重复。
3.  或任何其他建议。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-27T07:27:49.210

同时获取所有记录然后以分数显示是一种方法，但不是一个好方法，因为第一次加载从 Web 服务器获取它们时会花费大量时间。

在为 iOS 或任何其他移动平台制作应用程序时，您根本不能要求用户等待太久。

获取 100000 个项目也没有意义，因为没有人愿意通过所有这些项目。

如果记录是静态的，那么您应该考虑将它们添加到数据库中并与应用程序一起预加载。

如果记录不是静态的，例如，如果它是一个网站并且其中更新了更多记录，那么小部分获取和加载是正确的选择，当用户需要更多时，您可以获取和加载更多。

# google-search-appliance - GSA 搜索 - 查询语法

> ID：14050034
> 
> 赞同：0
> 
> 时间：2012-12-27T05:54:47.797
> 
> 标签：google-search-appliance

我正在尝试为 GSA 搜索创建查询：

该查询假设将所有结果排除在元标记内的某些文本，例如：

```
inmeta:Education -first and -second and -courses... 
```

但没有运气。有人知道正确的语法是什么吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-14T13:32:07.550

我之前使用过等于条件，查询看起来像这样 -

```
(inmeta:education=first OR inmeta:education=second) 
```

如果您的结果不能包含元标记`Education`不等于该值的所有页面，`first`则使用 -

```
inmeta:Education-first 
```

对于多个值，您可以使用 OR 条件 -

```
(inmeta:Education-first OR inmeta:Education-second) 
```

您可以在此处找到更多信息 - [https://developers.google.com/search-appliance/documentation/46/xml_reference#request_query_terms](https://developers.google.com/search-appliance/documentation/46/xml_reference#request_query_terms)

希望这对您有所帮助。

# java - httpAsyncClient 中的状态管理

> ID：14050042
> 
> 赞同：1
> 
> 时间：2012-12-27T05:55:12.603
> 
> 标签：java, spring, jsp, servlets, httpclient

我正在尝试在 httpAsyncClient 库中设置 cookie，但问题是我无法找到它的示例。这是我的代码。

```
 public JSONArray sendRequest(List<BasicNameValuePair> postPairs){

    HttpAsyncClient httpclient = null;
    try {
        httpclient = new DefaultHttpAsyncClient();
        httpclient.start();
        HttpPost post = new HttpPost("http://10.0.0.62:8080/IDocWS"+postPairs.get(0).getValue());

        BasicCookieStore cookie = new BasicCookieStore();
        HttpContext httpContext = new BasicHttpContext();
        httpContext.setAttribute(ClientContext.COOKIE_STORE,cookie);

        post.setEntity(new UrlEncodedFormEntity( postPairs, HTTP.UTF_8 ) );
        Future<HttpResponse> future = httpclient.execute(post, null);
        HttpResponse resp = future.get();
        HttpEntity entity = resp.getEntity();
        JSONArray jArray = CovnertToJson(entity);
        return jArray; 
```

这是我的 ConvertToJson 方法

```
public JSONArray CovnertToJson(HttpEntity entity){
       try{ 
            InputStream inputStream1= entity.getContent();
            BufferedReader reader1 = new BufferedReader(new InputStreamReader(inputStream1, "UTF-8"));
            StringBuilder sb = new StringBuilder();
            String line1;
            while ((line1 = reader1.readLine()) != null) {
                sb.append(line1);
            }
            JSONArray jArray = new JSONArray(sb.toString());
            return jArray;
       } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-27T08:19:34.733

首先从请求头中获取cookie：

```
 Future<HttpResponse> future = httpclient.execute(post, null);
            HttpResponse resp = future.get();
            header = resp.getHeaders("cookie");
            myCookies = header.toString(); 
```

获取 cookie 后将其放入 HTTPContext 并发送它，它应该可以工作。

```
 CookieStore cookieStore = new BasicCookieStore();
            Cookie cookie = new BasicClientCookie("cookie", myCookies);
            cookieStore.addCookie(cookie);
            httpContext = new BasicHttpContext();
            httpContext.setAttribute(ClientContext.COOKIE_STORE,cookieStore); 
```

# ruby-on-rails - 在部分中使用活动类重构导航栏

> ID：14050043
> 
> 赞同：1
> 
> 时间：2012-12-27T05:55:12.583
> 
> 标签：ruby-on-rails, ruby-on-rails-3, refactoring

这就是我所拥有的，我想将它包含在一个部分中，这样我就不会在 4 个地方复制它。问题是应该根据用户所在页面更改的活动类。我该怎么办？还是我最好只在 4 个模板中重复代码？

```
<div class="navbox">
  <ul class="nav">
    <a href="#" class="active"> Account</li></a>
    <a href="#"><li> Profile</li></a>
    <a href="#"><li> Photos</li></a>
    <a href="#"><li> Security</li></a>
  </ul>
</div> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-27T07:48:05.473

`active`渲染时传入一个本地：

```
render :partial => 'navbox', :locals => { :active => 'Account' } 
```

然后把它作为你的部分：

```
<div class="navbox">
  <ul class="nav">
    <a href="#"<% if active == 'Account' %> class="active"<% end %>> Account</li></a>
    <a href="#"<% if active == 'Profile' %> class="active"<% end %>><li> Profile</li></a>
    <a href="#"<% if active == 'Photos' %> class="active"<% end %>><li> Photos</li></a>
    <a href="#"<% if active == 'Security' %> class="active"<% end %>><li> Security</li></a>
  </ul>
</div> 
```

有多种清理方法（`link_to`、辅助方法等），这留作练习。如果您可以从请求 URL 中推断出某些内容是否“活跃”，那么您还可以潜在地避免需要传入本地数据。

如果您根本不想链接而不是向链接添加类，请查看& [`link_to_unless_current`](http://api.rubyonrails.org/classes/ActionView/Helpers/UrlHelper.html#method-i-link_to_unless_current)。[`link_to_unless`](http://api.rubyonrails.org/classes/ActionView/Helpers/UrlHelper.html#method-i-link_to_unless)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-27T07:43:23.590

寻找 active_link_to gem [https://github.com/twg/active_link_to](https://github.com/twg/active_link_to) 这是最简单的方法

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-12-27T07:54:20.153

你可以尝试这样的克里特助手：

```
{'Account' => account_path, 'Profile' => profile_path...etc}.each do |name, path|
  content_tag :li do
    link_to name, path, class: (current_page?(path) 'active' : 'regular')
  end
end 
```

也看看方法`link_to_unless_current` [http://apidock.com/rails/ActionView/Helpers/UrlHelper/link_to_unless_current](http://apidock.com/rails/ActionView/Helpers/UrlHelper/link_to_unless_current)

# objective-c - 在 Plist 中对字典数组进行排序

> ID：14050057
> 
> 赞同：0
> 
> 时间：2012-12-27T05:57:00.603
> 
> 标签：objective-c, nsarray, plist, nsdictionary

试图对字典数组进行排序。plist 文件中有两个数组，我正在尝试对其中一个进行排序，但遇到了很多麻烦。我可以将字典提取到 NSArray 中并对文件进行排序。

我只能通过提取字典来做到这一点，所以当我尝试将信息保存回 plist 时，我丢失了我的结构和其他字典数组。如何正确排序数组。我知道我正在提取数组，然后将其保存为自己的文件。我看到我做错了什么，但无法弄清楚正确的方法。

```
NSArray *array =  [dict valueForKey:@"Lighting"];
NSSortDescriptor* nameSortDescriptor = [[NSSortDescriptor alloc] initWithKey:@"Controller Zone" ascending:YES];
NSArray* sortedArray = [array sortedArrayUsingDescriptors:[NSArray arrayWithObject:nameSortDescriptor]];

NSString *pathToFileExportSorted = @"/Users/scott/Desktop/plistPreSEsorted.plist";
[sortedArray writeToFile:pathToFileExportSorted atomically: YES]; 
```

我已经尝试过这样的事情，但也无法让它工作

```
 [array sortUsingDescriptors:[NSArray arrayWithObject:[NSSortDescriptor sortDescriptorWithKey:@"Lighting.Controller Zone" ascending:YES]]]; 
```

我只想按“控制器区域”对阵列照明进行排序，并保持 plist 不变。

谢谢你的帮助。

原始数据：

![在此处输入图像描述](../Images/fb9f4e346075f212981951343b633703.png)

我目前正在导出的内容没有照明和阴影阵列。数组现在是 plist 中唯一的东西。

![在此处输入图像描述](../Images/b8a2c0dfeee26698ce840460f34ac402.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-27T16:04:28.537

*   需要将排序后的数组分配给`Lighting`键
*   ...并使用更改的`Lighting`键保存您的初始字典

    ```
    NSArray *array = [dict valueForKey:@"Lighting"];
    NSSortDescriptor *nameSortDescriptor = [[NSSortDescriptor alloc] initWithKey:@"Controller Zone" ascending:YES];
    NSArray *sortedArray = [array sortedArrayUsingDescriptors:[NSArray arrayWithObject:nameSortDescriptor]];

    NSMutableDictionary *dictToSave = [[dict mutableCopy] autorelease];
    [dictToSave setObject:sortedArray forKey:@"Lighting"];

    NSString *pathToFileExportSorted = @"/Users/scott/Desktop/plistPreSEsorted.plist";
    [dictToSave writeToFile:pathToFileExportSorted atomically:YES]; 
    ```

这应该像你描述的那样工作。

# c++ - 指针 - 重复的对象实例

> ID：14050058
> 
> 赞同：11
> 
> 时间：2012-12-27T05:57:04.990
> 
> 标签：c++, pointers

如果我有

```
Class *a1 = new Class();
Class *b1 = a1;

delete b1;
delete a1; //this will give a double free or corruption message; 
```

如果我删除指针b，它与删除指针a一样吗？由于两者都指向同一个 Class 实例。那么，如何将 a1 的实例复制到 b1，以便在删除 b1 时，不会删除 a1。

```
Class *a1 = new Class();
Class *b1 = a1;

//how do I duplicate the instance a1 is pointing
//so that when I delete b1, a1 still exists.

delete b1; 
delete a1; //this is still valid 
```

谢谢。

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-12-27T06:16:12.367

您使用指针和分配是否有原因？否则它很简单

```
Class a1;
...
Class b1 = a1; 
```

这里不需要删除。

如果你需要保持结构原样，你需要做

```
Class *a1 = new Class();
Class *b1 = new Class(*a1); 
```

或者

```
Class *a1 = new Class();
Class *b1 = new Class();
*b1 = *a1; 
```

这假设您有一个有效的复制构造函数（例如＃1）或赋值运算符（例如＃2）

ps：尝试使用`std::unique_ptr`而不是原始指针更安全。

# iphone - 在 iphone sdk 的数据库数组中添加值

> ID：14050060
> 
> 赞同：0
> 
> 时间：2012-12-27T05:57:11.103
> 
> 标签：iphone, objective-c, ios

我有一个数据库记录数组，它在表视图中添加值。现在我想在索引 0 的单元格中添加 @"All" 对象，这样当我选择这个值时，我可以从数据库中获取所有记录。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-27T06:41:53.810

在你的数据库方法`sqlite3_step`语句之前添加一个对象到返回数组。

```
sqlite3_prepare(//prepare statements)
{
  //add object here
  [returnArray addObject:yourExtraObject];
  while(sqlite3_step(sqlStatement);
 {
    //add other objects here
  }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-28T12:23:57.810

您可以在使用查询的地方使用以下代码对数据进行分组

```
NSDictionary *dicTemp = [[NSDictionary alloc]  initWithObjectsAndKeys:@"ALL",@"Course", nil];
    [arrtimesList addObject:dicTemp]; 
```

下面的代码3你可以在 didSelectRow 上编码

```
if([strName isEqualToString:@"ALL"])
{
    [self displayTimeList];
    [tblTimeslist  reloadData]
} 
```

# android - Android：以 % searchstring % 格式过滤 Listview 适配器

> ID：14050067
> 
> 赞同：0
> 
> 时间：2012-12-27T05:57:46.287
> 
> 标签：android, listview, android-listview

我在我的应用程序中使用了一个编辑文本和列表视图。我需要根据edittext中的文本显示列表。

```
@Override
        public void onTextChanged(CharSequence s, int start, int before, int count) {
            // TODO Auto-generated method stub
            adapter.getFilter().filter(s.toString());
        } 
```

例如，如果我将值键入为“an”，则表示它显示为

安道尔

安哥拉

安提瓜

但我需要这样

安道尔

安哥拉

安提瓜

孟加拉国

不丹

加拿大

提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-27T05:59:52.010

[这](http://rakhi577.wordpress.com/2012/06/26/buttons-on-list-view-with-easy-searching-in-android/)是您正在寻找的示例。检查这个

``Arrays`这是使用和`addTextChangedListener`for的简单逻辑`EditText`

在像这样更改代码块。

```
if (textlength {
   if ((String)listview_array[i].contains(et.getText().toString()))
   {
     array_sort.add(listview_array[i]);
   } 
```

我已经替换`equalsIgnorecase`为`contains`. 请在此处检查差异

# c++ - 如何更改 Directshow 过滤器属性 C++

> ID：14050074
> 
> 赞同：3
> 
> 时间：2012-12-27T05:58:23.353
> 
> 标签：c++, visual-c++, directshow

如何以编程方式更改过滤器属性？

我正在使用过滤器`AAC encoder`，我可以通过右键单击过滤器并输入值来手动更改它`bitrate`。`graphedit``bitrate`

是否可以通过代码做同样的事情？

请给我宝贵的建议，如果可能的话，请提供代码。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-27T10:19:26.363

You do this via private filter-specific interface. You need to refer to filter documentation or SDK to get details on this ([VSS Tech Support](http://vsofts.com/techsupport/index.html)). Sometimes you can obtain the necessary information from type library.

See:

*   [Controlling variables in filter remotely](http://social.msdn.microsoft.com/Forums/en/windowsdirectshowdevelopment/thread/071cece5-2ba3-4adc-a2e2-9a7cf8f9e817)
*   [with out property page, How can I input a value through codes?](http://social.msdn.microsoft.com/Forums/en/windowsdirectshowdevelopment/thread/42bd4d72-b7e8-43f6-bca3-636473e9f874)
*   [Define a Mechanism for Setting the Property](http://msdn.microsoft.com/en-us/library/windows/desktop/dd377627%28v=vs.85%29.aspx) on MSDN

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-01-13T20:40:31.020

与 Roman 的回答类似，过滤器的“特殊属性”通常有两种设置和/或保存的方式。

一种是显示其属性页面“对话框”（ISpecifyPropertyPages），然后允许用户更改内容并关闭它，然后获得其 IPersistStream 接口，并保存其“当前状态”，然后您可以稍后将其用于基本设置它的属性回到它们被保存到的位置（这就是graphedit的做法，参考：[http](http://microsoft.public.multimedia.directx.dshow.programming.narkive.com/ldOko8Js/ispecifypropertypages-saving-and-restoring-settings) ://microsoft.public.multimedia.directx.dshow.programming.narkive.com/ldOko8Js/ispecifypropertypages-saving-and-restoreing-settings ) 此外，您可以通过在图形对象本身上调用 IPersistStream 将“整个图形”序列化为文件。见[https://stackoverflow.com/a/11781370/32453](https://stackoverflow.com/a/11781370/32453)

另一种方法是知道“它到底是什么类型的特殊过滤器”并将其转换为您知道的一些特殊接口，来自第三方，这可能会暴露 getter 和 setter 等，例如来自的“avisynth”过滤器Windows SDK directshow 示例公开 ISynth[接口](https://social.msdn.microsoft.com/Forums/windowsdesktop/en-US/071cece5-2ba3-4adc-a2e2-9a7cf8f9e817/controlling-variables-in-filter-remotely?forum=windowsdirectshowdevelopment)

另请参阅[此处](https://groups.google.com/forum/#!msg/microsoft.public.win32.programmer.directx.video/ZiPqKEjDeFI/iPwRXRSHj6kJ)，其中列出了更多方法显然......[这里](https://groups.google.com/forum/#!topic/microsoft.public.win32.programmer.directx.video/_09eHg8M4oQ)也似乎相关。IPersist 本身也有多个继承自它的接口，请参见[此处](https://msdn.microsoft.com/en-us/library/windows/desktop/ms688695%28v=vs.85%29.aspx)的注释。到目前为止，根据我对 dshow 设备的经验，它们通常只实现 IPersist 和 IPersistStream（以及 IAMSpecificPropertyPages），尽管您也可以自己为其他常见接口（如 IAMVideoProcAmp）保存值，然后手动重新设置属性......

更新：不幸的是，尽管许多过滤器都实现了 IPersistStream，但似乎很少有人真正将它用于任何有用的事情......

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-27T06:45:42.880

您的 AAC 编码器将通过一些 IID 公开一些接口。确保您获得了该 IID 的接口，然后访问它的附加功能，如比特率、采样率等。

# c++ - 哪个是官方的 Qt SDK (C++)？

> ID：14050077
> 
> 赞同：5
> 
> 时间：2012-12-27T05:58:38.377
> 
> 标签：c++, qt, sdk, nokia

我找了几个网站下载 Qt SDK：

1.  [诺基亚网站](http://www.developer.nokia.com/info/sw.nokia.com/id/da8df288-e615-443d-be5c-00c8a72435f8/Qt_SDK.html)
2.  [Qt-Project.org](http://qt-project.org/downloads)
3.  [Digia.com](http://qt.digia.com/Try-Qt-Now/)

我猜不出哪一个是官方的 SDK。Nokia 的甚至超过 1GB，而 Qt-Project 的只有几​​百 MB。Digia 的最后一个需要购买。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-12-27T06:01:53.380

1.  诺基亚曾经拥有 Qt，所以这**是**获得它的官方地点。
2.  qt-project.org 是您可以找到开源许可版本和源代码的地方。
3.  商业部分卖给了Digia。如果您想要商业许可证，那将是您的位置。

现在基本上忽略诺基亚的东西，并根据您的需要选择合适的包，无论是库，还是包括 Qt Creator 和额外开发工具的完整 SDK。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-12-27T06:04:41.617

1.  Qt SDK 为 Symbian、MeeGo 和桌面应用程序提供了完整的工具集。它是适用于各种平台的捆绑包。诺基亚的旧版本。
2.  这是开源版本。每个平台在不同的包中。
3.  这是来自 Digia.com 的商业版本。

如果你使用的是开源，（2）是正式版。

# windows-phone-8 - 为默认应用程序全局启用 Windows Phone 的 FrameRate Counter

> ID：14050080
> 
> 赞同：0
> 
> 时间：2012-12-27T05:59:02.537
> 
> 标签：windows-phone-8

我需要比较不同制造商的手机之间的 FPS。我将使用默认电话应用程序，例如`Contacts.exe`浏览器和 SMS 应用程序。我从论坛中读到，有设置启用`FrameRateCounter`应用程序开发人员可以启用的小部件来测量他的应用程序的 FPS。

```
Application.Current.Host.Settings.EnableFrameRateCounter = true; 
```

但是由于我尝试用于性能测量的所有应用程序都是默认的（无源代码），我们可以全局启用此功能并检查我们全局启动的任何应用程序的 FPS 吗？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-27T06:57:34.827

无法在全球范围内激活此设置。要对不同的手机进行基准测试，您可能必须制作自己的多功能应用程序来测试您感兴趣的场景。请注意，MarketPlace 上已经有一些基准测试应用程序可用。

作为旁注，`Application.Current.Host.Settings.EnableFrameRateCounter`是 Silverlight 设置，`Contacts.exe`而是本机应用程序。因此，即使有一种方法可以全局激活设置，它也不适用于这个特定的应用程序。

# python - syslog.syslog 与 SysLogHandler

> ID：14050081
> 
> 赞同：21
> 
> 时间：2012-12-27T05:59:17.407
> 
> 标签：python, logging, syslog

我正在研究如何从我的 Python 应用程序中登录到 syslog，我发现有两种方法：

1.  使用[syslog.syslog()](http://docs.python.org/2/library/syslog.html)例程
2.  使用记录器模块[SysLogHandler](http://docs.python.org/2/library/logging.handlers.html#logging.handlers.SysLogHandler)

哪个是最好的选择，每个的优点/缺点等等，因为我真的不知道我应该使用哪个。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-12-27T06:17:10.083

`syslog.syslog()`只能用于向本地 syslogd 发送消息。`SysLogHandler`可以用作全面的、可配置的日志记录子系统的一部分，并且可以记录到远程机器。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-02-09T06:39:04.170

日志模块是一个更全面的解决方案，它可以潜在地处理您的所有日志消息，并且非常灵活。例如，您可以为您的记录器设置多个处理程序，并且每个处理程序都可以设置为在不同级别进行记录。您可以有一个 SysLogHandler 用于将错误发送到 syslog，一个 FileHandler 用于调试日志，以及一个 SMTPHandler 将真正关键的消息通过电子邮件发送给 ops。您还可以在模块中定义记录器的层次结构，每个记录器都有自己的级别，因此您可以启用/禁用来自特定模块的消息，例如：

```
import logging
logger = logging.getLogger('package.stable_module')
logger.setLevel(logging.WARNING) 
```

在另一个模块中：

```
import logging
logger = logging.getLogger('package.buggy_module')
logger.setLevel(logging.DEBUG) 
```

这两个模块中的日志消息将根据级别发送到“包”记录器，并最终发送到您定义的处理程序。您还可以将处理程序直接添加到模块记录器，等等。如果您已经了解了这么多并且仍然感兴趣，那么我建议您跳转到日志记录[教程](http://docs.python.org/2/howto/logging.html#logging-basic-tutorial)以获取更多详细信息。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-08-31T12:16:54.413

到目前为止，还有一个`logging.handlers.SysLogHander`尚未提及的缺点。那就是我无法设置`LOG_ODELAY`or`LOG_NOWAIT`或之类的选项`LOG_PID`。另一方面，`LOG_CONS`and`LOG_PERROR`可以通过添加更多处理程序来实现，并且`LOG_NDELAY`默认情况下已经设置，因为在实例化处理程序时连接打开。

# asp.net - 在 MVC 中使用 Ajax 时导出到 excel 不起作用

> ID：14050085
> 
> 赞同：1
> 
> 时间：2012-12-27T05:59:26.690
> 
> 标签：asp.net, ajax, jquery, asp.net-mvc-2, export-to-excel

嗨，我创建了将 Gridview 转换为 excel 文件的导出类。

见下面的代码：

下载FileActionResult 类：

```
public class DownloadFileActionResult : ActionResult
    {

        public GridView ExcelGridView { get; set; }
        public string fileName { get; set; }

        public DownloadFileActionResult(GridView gv, string pFileName)
        {

            ExcelGridView = gv;

            fileName = pFileName;

        }

        public override void ExecuteResult(ControllerContext context)
        {

            HttpContext curContext = HttpContext.Current;
            curContext.Response.ClearContent();
            curContext.Response.AddHeader("content-disposition", "attachment; filename=" + fileName + ".xls");
            curContext.Response.ContentType = "application/vnd.ms-excel";
            StringWriter sw = new StringWriter();
            HtmlTextWriter htw = new HtmlTextWriter(sw);
            ExcelGridView.RenderControl(htw);
            curContext.Response.Write(sw.ToString());
            curContext.Response.End();

        }

    } 
```

jQuery-ajax：

```
function Export(){

    var search = {};                                        
    search.Name = "MaterialShape";
    search.Description = "";
    search.Address ="";

    var url_ = generateURL("/Home/Download");                    //Call Save Controller  and pass details entities  

    $.ajax({
        type: "POST",
        url: url_,
        data: search,                                            //details will act as the Entities Model
        traditional: true,
        success: function(data) {

        },
        error: function(XMLHttpRequest, textStatus, errorThrown) {
                alert("error: " + XMLHttpRequest.responseText);
        },
        dataType: 'json'
    });

}; 
```

搜索参数属性：

```
public class SearchParams
    {
        public string Name{ get; set; }
        public string Description {get;set;}
        public string Address{get;set;}
        ...
     } 
```

然后我在我的控制器上实现它：

```
 //Export to excel
    public ActionResult Download(SearchParam param)
    {

       List<Lookup> lookupList = data.GetLookup(param);
      var grid = new System.Web.UI.WebControls.GridView();

       grid.DataSource = lookupList;
       grid.DataBind();

       return new DownloadFileActionResult(grid, "test");

    } 
```

当我手动输入控制器 url 时它正在工作（没有搜索参数值）

```
http://localhost:54928/Home/Download 
```

或使用 html.action 链接

```
<%= Html.ActionLink("Home", "/Download", "Home")%> 
```

但是当我使用ajax调用时它不起作用

```
<img src="<%=Url.Content("~/Images/export.png")%>" id="Img1" onclick="Export();" alt="Export" /> 
```

我真的需要使用。

我在这里遗漏了一些东西..有什么想法吗？

感谢问候

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-27T06:43:30.427

使用下载 excel 文件没有意义`$.ajax`- ajax 调用实际上是为了在您的 js 代码中获取基于文本的数据（html.xml，JSON），以便您可以使用它。浏览器知道如何处理（例如提示保存文件）二进制内容，如excel。

在这种情况下，您只需要一个简单的 POST/GET 请求即可启动 excel 文件下载（简单如`document.location = "/home/download?q=keyword";`）

# javascript - Firefox keydown 退格问题

> ID：14050086
> 
> 赞同：3
> 
> 时间：2012-12-27T05:59:35.600
> 
> 标签：javascript, jquery, events, firefox, keydown

我正在构建一个终端仿真并遇到在 Firefox 中捕获退格的问题。我可以在提示符下获取第一个退格并删除输入中的最后一个字符，但它不会持续存在并删除多个字符。

实际网址：[http ://term.qt.io/](http://term.qt.io/)

此处复制：http: [//jsfiddle.net/BgtsE/1/](http://jsfiddle.net/BgtsE/1/)

JavaScript 代码

```
function handleKeys(e){
    var evt = e || window.event;
    var key = evt.charCode || evt.keyCode;
    if(evt.type == "keydown")
    {
        curr_key = key;
        if(key == 8)
        {
            evt.preventDefault();
            if(0 < $('body').text().length)
                $('body').text($('body').text().slice(0,-1));
        }
    }
    else if(evt.type == "keypress")
    {
        if(97 <= key && key <= 122)
        {
            if(curr_key != key)
                $('body').append(String.fromCharCode(key));
        }
        else
            $('body').append(String.fromCharCode(key));
    }
}
$(function(){
    $('html').live({
        keydown:function(e){
            handleKeys(e);
        },
        keypress:function(e){
            handleKeys(e);
        }
    })
})​ 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-27T06:52:21.823

试试这个：http: [//jsfiddle.net/NBZG8/1/](http://jsfiddle.net/NBZG8/1/)

您需要在 keydown 和 keypress 中处理退格键以支持 Chrome 和 Firefox

```
function handleKeys(e){
    var evt = e || window.event;
    var key = evt.charCode || evt.keyCode;

    if (evt.type == "keydown") {
        curr_key = key;
        if(key == 8 && !$.browser.mozilla) {
            backspaceHandler(evt);
        }
    } else if (evt.type == "keypress") {
        if (key == 8) {
            backspaceHandler(evt);
        } else if (97 <= key && key <= 122) {
            if(curr_key != key) {
                $('body').append(String.fromCharCode(key));
            }
        } else {
            $('body').append(String.fromCharCode(key));
        }
    }
}

function backspaceHandler(evt) {
    evt.preventDefault();
    if(0 < $('body').text().length) {
        $('body').text($('body').text().slice(0,-1));
    }  
};

$(function(){
    $('html').live({
        keydown : handleKeys,
        keypress : handleKeys
    })
})​ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-27T06:55:11.447

在 Firefox Windows 17.0.1 中，任何由 $("selector").text() 返回的值都会在末尾添加一个新行字符。所以子字符串对我不起作用：

```
<html>
    <head>
        <title>test</title>
        <script src="jquery.js"></script>
        <script>
            $("document").ready(function(){
                console.log("body text seems to have a new line character");
                console.log(($('body').text()[5]=="\n"));
            });

            function handleKeys(e){
                var evt = e || window.event;
                var key = evt.charCode || evt.keyCode;
                if(evt.type == "keydown")
                {
                    curr_key = key;
                    if(key == 8)
                    {
                        evt.preventDefault();
                        if(0 < $('body').text().length)
                            // next line works, you might trim the \n if it's there at the end
                            //$('body').text($('body').text().slice(0,-2));
                            // this one didn't work for me
                             $('body').text($('body').text().substring(0,$('body').text().length-1)); 
                    }
                }
                else if(evt.type == "keypress")
                {
                    if(97 <= key && key <= 122)
                    {
                        if(curr_key != key)
                            $('body').append(String.fromCharCode(key));
                    }
                    else
                        $('body').append(String.fromCharCode(key));
                }
            }
            $(function(){
                $('html').live({
                    keydown:function(e){
                        handleKeys(e);
                    },
                    keypress:function(e){
                        handleKeys(e);
                    }
                })
            })
        </script>
    </head>
    <body>12345</body>
</html> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-02-05T20:15:40.837

```
$('#id').keypress(function(e) {

if(e.charCode > 0 || e.keyCode === 8){
 if(e.keyCode === 8){
   return true;
 }else if((e.charCode !== 0) && ((e.charCode  > 57 && e.charCode  < 65)){
   return false;
   }
 }else if((e.keyCode !== 0) && ((e.keyCode  > 57 && e.keyCode  < 65)){
  return false;
 }
}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-03-18T08:01:09.357

我在 Mozilla 上的按键也有同样的问题。多亏了这个主题，它解决了我的问题，所以如果有人尝试和我做同样的事情，我会发布我的代码。
在我的示例中，当用户键入两个数字时，我尝试使用自动空格，但它在 Firefox 中不起作用，所以这是我的代码：

```
$(function() {

    $('#field1, #field2').on('keypress',function(event) {
        event = event || window.event;
        var charCode = event.keyCode || event.which,
            lgstring = $(this).val().length,
            trimstring;
        if(charCode === 8) {
            event.returnValue = false;
            if(event.preventDefault)
                event.preventDefault();
            if(0 < $(this).val().length) {
                $(this).val($(this).val().slice(0,-1));
            }  
        }
        else if(((charCode > 31) && (charCode < 48 || charCode > 57)) || lgstring >= 14) {
            event.returnValue = false;
            if(event.preventDefault)
                event.preventDefault();
        }
        else {
            trimstring = $(this).val().replace(/ /g,"");
            if((lgstring !== 0) && (trimstring.length % 2) === 0 ) {
                $(this).val($(this).val() + ' ');
            }
        }
    });

}); 
```

我注意到 Mozilla 将退格键处理为 Chrome 没有的按键。

对不起我的英语我是法国人

# javascript - html页面中Javascript onload事件和纯脚本的区别

> ID：14050087
> 
> 赞同：0
> 
> 时间：2012-12-27T05:59:40.733
> 
> 标签：javascript, dom-events, onload

这两段代码有什么区别：

样品 1：

```
<script type="text/javascript">
     function myfunc () {
                alert('hi');
            }
         window.onload = myfunc;
</script> 
```

样本 2：

```
<script type="text/javascript">
     alert('hi');//no function used 
</script> 
```

两段代码都成功执行。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-27T06:03:35.670

这样`window.onload`做是为了在脚本运行之前加载所有 DOM 元素 - 也就是说，如果您的脚本修改或使用 DOM 元素，那么它应该附加到`window.onload`（或框架中的等效项）。如果它独立于 DOM，您可以使用其中任何一个。有关详细信息，请参阅[Mozilla 开发人员网络](https://developer.mozilla.org/en-US/docs/DOM/window.onload)页面。请注意，`window.onload`一旦解析器到达它，不运行的内联脚本就可以运行——它不会等待 DOM 的其余部分被加载。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-27T06:05:47.760

第一个在页面完成加载后执行，另一个在解析后立即执行如果您想查看差异，请复制两个代码片段（复制粘贴两次）并查看它们的行为

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-27T06:19:03.063

样品 1 和样品 2 做同样的事情。但是，示例 1 中的 window.onload 会在 HTML 内容（以及所有图像、样式表和远程脚本）完全加载时（而不是在所有 DOM 元素都加载时）执行该函数。

示例 2 与示例 1 相同，但会立即执行脚本。当您的页面需要一段时间才能完全加载时，您会看到差异。您的测试页面可能是基本的，因此它们似乎同时执行（实际上 window.onload 在示例 2 之后执行）。

window.onload 通常在页面加载后需要执行 Javascript 代码时使用。例如，如果您希望在浏览器中加载特定 DOM 元素后立即执行 Javascript，则可以使用示例 2 中的内联脚本。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-27T06:26:03.147

`onload`页面加载完毕后触发事件，包括图片、音频等。但直接写语句会瞬间执行。因此，onload 警报将在另一个警报之后触发。

检查此[演示](http://jsfiddle.net/Ua6Ga/)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-27T06:49:23.377

另一个重要的区别是，由于第二个脚本立即执行，您将无法访问该脚本之后的任何 DOM 元素。

例如，如果您在标签结尾之前有一个 DIV 元素，则不能使用 document.getElementById（或类似的 DOM 访问函数）来获取该特定 DIV。

但是使用第一个脚本，它只会在页面加载后执行，您可以访问 DOM 中的任何元素

# iphone - 如何让用户通知应用程序正在后台运行？

> ID：14050093
> 
> 赞同：1
> 
> 时间：2012-12-27T05:59:57.457
> 
> 标签：iphone, ios, ios5, ios4

几天以来，我一直在寻找可以让用户发布应用程序在后台运行的功能。我附上了一个！我正在寻找的图像。我试过谷歌搜索，但无法得到我需要的东西。当我点击闪烁的红色条时，它会将我带回应用程序。

提前致谢。

![图片](../Images/4f1ef0bf6e15b4a60b0d8bdfe4411fd1.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-27T06:08:15.180

当前的 iOS 不支持第三方开发人员需要的那种通知。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-27T06:10:36.373

如果你想要那种功能，那么通过实现 Apple Push Notification 服务

这您可以先向 Apple 推送通知服务发送消息。然后是苹果服务

根据需要自动为您的应用生成通知。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-27T06:21:53.677

您所描绘的红色横幅是由系统提供的，仅当您的应用程序使用背景音频录制（请参阅 参考资料`AVAudioSession`）时才会显示，并且不会让您有机会选择用户点击它时会发生什么。

除非您的应用程序适合[几个特定类](http://developer.apple.com/library/ios/documentation/iPhone/Conceptual/iPhoneOSProgrammingGuide/ManagingYourApplicationsFlow/ManagingYourApplicationsFlow.html#//apple_ref/doc/uid/TP40007072-CH4-SW20)之一，否则它实际上不会在后台“运行”。相反，它被“挂起”——仍在内存中，但没有 CPU 时间。因此，在您的应用程序之外发生的事情取决于系统，而不是您……显示将启动您的应用程序的横幅的唯一方法是使用推送通知服务或`UILocalNotification`，但这些横幅只是短暂显示，而您不要控制他们的持续时间。您似乎特别要求的内容无法使用公共 API。

# java - 从 IP 地址获取地理位置

> ID：14050097
> 
> 赞同：2
> 
> 时间：2012-12-27T06:00:28.030
> 
> 标签：java, android, google-maps

> **可能重复：**
> [在 Java 中获取地理位置的最佳方法](https://stackoverflow.com/questions/1415851/best-way-to-get-geo-location-in-java)

是否可以从java中的IP地址获取经度和纬度值？如果可能的话，请让我知道。实际上，我正在用 android 构建一个应用程序，它将根据用户的 ip 地址跟踪用户。为此，如果我有纬度和经度值，那么我可以使用 android 中的谷歌地图轻松获取用户的位置，但主要任务是从 IP 地址获取纬度和经度。我正在努力，如果有人有任何想法，请提前告诉我谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-27T06:19:22.013

有几个 web 服务，它为您提供来自 ip 地址的纬度和经度值。其中之一是`api.ipinfodb.com` 例如，您可以通过发送请求来获得纬度和经度，例如，

`http://api.ipinfodb.com/v3/ip-city/?key=<your_api_key>&ip=74.125.45.100&format=json`

这将返回 json 格式的数据。（您需要注册以获取您的 API 密钥）。

或者您可以从以下位置下载数据库，

[http://dev.maxmind.com/geoip/geolite](http://dev.maxmind.com/geoip/geolite)

[http://dev.maxmind.com/geoip/downloadable](http://dev.maxmind.com/geoip/downloadable)

您可以下载数据集，但您必须不断更新它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-27T06:22:03.647

[此 API](http://ipinfodb.com/ip_location_api.php)以 XML 格式返回 IP 地址的位置（国家、地区、城市、邮政编码、纬度、经度）和关联的时区。

尽管基于 IP 的位置检测确实有很多缺点。

[在android中获取wifi ip的位置](https://stackoverflow.com/questions/4453328/get-location-of-wifi-ip-in-android)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-27T06:06:40.973

我认为您可能会使用 IP 地址获得位置，但这不是实际位置，它只会为您提供网络服务提供商的区域。

# oracle - 侦听器启动期间未读取 Oracle 数据库 listner.ora 配置

> ID：14050101
> 
> 赞同：1
> 
> 时间：2012-12-27T06:00:50.730
> 
> 标签：oracle, oracle11g

我配置了以下两个oracle数据库的配置文件。

`/opt/oracle/11.2.0/network/admin/listener.ora`具有以下值

```
ADR_BASE_LISTENER = /opt/oracle

LISTENER_JIPDB =
  (DESCRIPTION_LIST =
          (DESCRIPTION =
                (ADDRESS = (PROTOCOL = TCP)(HOST = localhost.localdomain)(PORT = 1530))
          )
  )

SID_LIST_LSNR_JIPDB =
  (SID_LIST =
    (SID_DESC =
      (GLOBAL_DBNAME = DWJP02T)
      (ORACLE_HOME = /opt/oracle/11.2.0)
      (SID_NAME = DWJP02T)
    )
  ) 
```

我已将`/opt/oracle/11.2.0/network/admin/tnsnames.ora` 文件配置为具有以下值

```
LISTENER_JIPDB =
  (DESCRIPTION =
    (ADDRESS = (PROTOCOL = TCP)(HOST = localhost.localdomain )(PORT = 1530))
    (CONNECT_DATA =
      (SERVER = DEDICATED)
      (SERVICE_NAME = DWJP02T)
    )
  ) 
```

我的问题是当我尝试通过键入以下命令启动 oracle 列表器时，它正在 1521 端口中打开 DWJP02T SID 实例，我不知道它是如何获取此端口或从何处读取此端口的，我已配置到它读取 .ora 文件上的 1530。

这是我启动侦听器时得到的输出

```
[ora112@localhost ~]$ lsnrctl start

LSNRCTL for Linux: Version 11.2.0.3.0 - Production on 26-DEC-2012 22:48:16

Copyright (c) 1991, 2011, Oracle.  All rights reserved.

Starting /opt/oracle/11.2.0/bin/tnslsnr: please wait...

TNSLSNR for Linux: Version 11.2.0.3.0 - Production
System parameter file is /opt/oracle/11.2.0/network/admin/listener.ora
Log messages written to /opt/oracle/diag/tnslsnr/localhost/listener/alert/log.xml
Listening on: (DESCRIPTION=(ADDRESS=(PROTOCOL=tcp)(HOST=localhost.localdomain)(PORT=1521)))

Connecting to (ADDRESS=(PROTOCOL=tcp)(HOST=)(PORT=1521))
STATUS of the LISTENER
------------------------
Alias                     LISTENER
Version                   TNSLSNR for Linux: Version 11.2.0.3.0 - Production
Start Date                26-DEC-2012 22:48:16
Uptime                    0 days 0 hr. 0 min. 0 sec
Trace Level               off
Security                  ON: Local OS Authentication
SNMP                      OFF
Listener Parameter File   /opt/oracle/11.2.0/network/admin/listener.ora
Listener Log File         /opt/oracle/diag/tnslsnr/localhost/listener/alert/log.xml
Listening Endpoints Summary...
  (DESCRIPTION=(ADDRESS=(PROTOCOL=tcp)(HOST=localhost.localdomain)(PORT=1521)))
The listener supports no services
The command completed successfully 
```

请帮助我理解为什么它在不同于我配置它启动的端口上打开数据库。我重新启动了数据库和服务器以查看它是否会从 listner.ora 文件中读取值，但仍然没有运气。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-27T06:09:12.153

尝试以下步骤来提交请求：

*   使用以下命令停止 Oracle 侦听器：

    ```
    lsnrctl stop 
    ```

*   更改 Oracle listener.ora 文件中的端口号。例如，从默认端口 1522 到 1521。

*   更改 tnsnames.ora 文件中的端口号，如下例所示，其中`host_name`是您的主机名和`server_name`服务器名。

*   使用以下命令重新启动 Oracle 侦听器：

    ```
    lsnrctl start 
    ```

*   更改数据库正在侦听的端口：

    ```
    sqlplus / as sysdba        
    > alter system set LOCAL_LISTENER="(ADDRESS=(PROTOCOL=TCP)(HOST=localhost)(PORT=1522))";        
    > alter system register; 
    ```

# jquery - 检查是否可以通过 jQuery 访问选择器？

> ID：14050103
> 
> 赞同：0
> 
> 时间：2012-12-27T06:00:55.337
> 
> 标签：jquery, jquery-selectors

我正在查看 jQuery 的选择器手册，这里是： http: [//api.jquery.com/category/selectors/](http://api.jquery.com/category/selectors/)。它在一开始就表示支持 CSS 1-3 选择器，然后继续列出支持哪些选择器。

我一直无法查看是否`::selection`可以通过 jQuery 选择。如果不是，有没有办法`::selection`通过 jQuery 建立对定位的支持？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-27T06:30:11.390

不幸的是， `::selection`不能用于选择元素或选择的文本。

但是您可以使用普通的旧 JavaScript 从文档中获取选定的文本。

[您可以在此处查看](http://mark.koli.ch/2009/09/use-javascript-and-jquery-to-get-user-selected-text.html)Mark Kolich 的详细博客文章和工作[演示](http://mark.koli.ch/2009/09/05/get-selected-text-javascript.html)

这是该帖子的代码

```
if(!window.Kolich){
  Kolich = {};
}

Kolich.Selector = {};
Kolich.Selector.getSelected = function(){
  var t = '';
  if(window.getSelection){
    t = window.getSelection();
  }else if(document.getSelection){
    t = document.getSelection();
  }else if(document.selection){
    t = document.selection.createRange().text;
  }
  return t;
}

Kolich.Selector.mouseup = function(){
  var st = Kolich.Selector.getSelected();
  if(st!=''){
    alert("You selected:\n"+st);
  }
}

$(document).ready(function(){
  $(document).bind("mouseup", Kolich.Selector.mouseup);
}); 
```

# javascript - 创建广告小部件

> ID：14050105
> 
> 赞同：0
> 
> 时间：2012-12-27T06:01:17.530
> 
> 标签：javascript, jquery

我正在尝试创建一个广告小部件。这段代码应该可以被任何人重用。我想知道在这样的小部件中使用 jquery 是否可以，或者我应该用纯 javascript 编写整个东西？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-27T06:03:22.600

我建议不要使用 jQuery。它的下载量很大（对于那些还没有从 CDN 缓存的人），而且速度很慢。对于您的小部件中包含的内容，无论如何您都不太可能需要 jQuery 使用的大部分内容。

话虽如此，如果您的小部件中的某些元素需要 jQuery，那么请继续使用它。请注意从 CDN 加载它，以便在可用时从缓存加载。另外请记住，jQuery 可能会让您超出 IAB 下载大小指南。

# c# - 在覆盖基本方法时，为什么默认参数不能正常工作？

> ID：14050108
> 
> 赞同：4
> 
> 时间：2012-12-27T06:01:43.737
> 
> 标签：c#, arguments

> **可能重复：**
> [覆盖方法上的 C# 可选参数](https://stackoverflow.com/questions/8909811/c-sharp-optional-parameters-on-overridden-methods)

```
using System;
namespace Apple
{
    class A
    { 
        public virtual void Func(int a=4){
            Console.WriteLine(" A Class: "+a);
        }
    }
    class B : A
    {
        public override void Func(int a = 12)
        {
            Console.WriteLine(" B Class: "+ a);
        }
    }

    public class Program
    {
        static void Main(string[] args)
        {
            A ob = new B();
            ob.Func();
            Console.ReadLine();
        }
    }
}
// Output: B Class: 4 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-27T06:14:38.503

默认参数在编译时填充，代码`ob`通过基类引用一个变量。正如预期的那样，虚拟方法覆盖在运行时工作。*您可以通过使用方法重载*来达到预期的效果：

```
class A 
{
   public void Func(int value) 
   {

   }

   public virtual void Func() 
   {
        Func(4);
   }
}

class B: A
{
   public override void Func() 
   {
        Func(12);
   }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-27T06:15:33.297

编译器根据对象的类型放置默认参数值，***并在编译时完成。***
因此编译后的代码如下所示：

```
using System;
namespace Apple
{
    public class Program
    {
        private static void Main(string[] args)
        {
            A ob = new B();
            ob.Func(4);
            Console.ReadLine();
        }
    }
} 
```

您可以通过执行以下操作获得所需的结果：

```
public class Program
    {
        static void Main(string[] args)
        {
            A ob = new B();
            ((B)ob).Func();
            Console.ReadLine();
        }
    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-27T06:15:30.350

默认参数值为静态绑定。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-27T06:09:54.943

因为您创建了 A 类的实例，它引用了 B 类的地址。

```
A ob = new B(); 
```

由于实例属于A类，所以你调用的方法指向A类中的方法。你可以通过调试来检查这一点，然后执行代码。

相反，如果您创建 B 类的实例，即

```
B ob = new B(); 
```

它将调用 B 类的 Fun() 方法，并将输出显示为“B 类：12”

# ios - Sqlite_3 距离函数

> ID：14050111
> 
> 赞同：1
> 
> 时间：2012-12-27T06:01:54.877
> 
> 标签：ios, sqlite, location

您好正在开发一个将当前位置坐标存储到数据库中的应用程序，当一个人第二次到达相同（100 米内）位置时，我需要显示警报。为此，我使用堆栈中提供的 sqlite 距离-打开sqlite数据库后溢出。然后我正在使用

```
SELECT * from table ORDER BY distance 
```

我用这个代码......

```
if (sqlite3_open([dbPath UTF8String], &dataBase) == SQLITE_OK) {

    sqlite3_create_function(dataBase, "distance", 4, SQLITE_UTF8, NULL, &distanceFunc, NULL, NULL);
   NSString *sqlQuery=[NSString stringWithFormat:@"SELECT * FROM %@ ORDER BY distance(uacl_latitude,uacl_lognitude,%f,%f)",NSLocalizedString(@"TABLE_USER_LOCATION", nil),[self.currentLatitude doubleValue],[self.currentLongitude doubleValue]];

    NSLog(@"%@",sqlQuery);
    sqlite3_stmt *selectstmt = NULL;

    if(sqlite3_prepare_v2(dataBase,[sqlQuery cStringUsingEncoding:NSASCIIStringEncoding],-1,&selectstmt,NULL)==SQLITE_OK) {

        while(sqlite3_step(selectstmt) == SQLITE_ROW) {

            self.latitude =sqlite3_column_double(selectstmt, 4);
            self.longitude = sqlite3_column_double(selectstmt, 5);                NSDictionary *dict=[NSDictionary dictionaryWithObjectsAndKeys:[NSString stringWithFormat:@"%f",self.latitude],@"LATI",[NSString stringWithFormat:@"%f",self.longitude],@"LONGI",nil];
            [array addObject:dict];
        }
    }
} else {
    //Even though the open call failed, close the database connection to release all the memory.

    sqlite3_close(dataBase);
} 
```

有了这个距离函数没有调用，并且prepareV2语句也没有执行，如果我将“ `ORDERBY distance Query`”替换为`SELECT * from Table PrepareV2`正在执行。
任何帮助请......

# wcf - 为什么基于声明的身份验证而不是基于角色的身份验证

> ID：14050116
> 
> 赞同：13
> 
> 时间：2012-12-27T06:02:27.903
> 
> 标签：wcf, claims-based-identity, simplemembership, role-based

我是基于声明的身份验证的新手。我已经阅读了几篇文章，无法弄清楚基于声明的身份验证的确切用途。以下是我对基于声明的身份验证的一些疑问。

1.  我想知道基于声明的身份验证与基于角色的身份验证有什么区别和优势。
2.  我们可以使用基于声明的身份验证而不是 ADFS 连接到 Sql Server 2008 R2 吗？如果，那怎么办？
3.  在 WCF 中使用基于声明的身份验证的优势？

谁能给我一些解释，以便我可以理解基于声明的身份验证并与我的应用程序一起使用？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-12-27T11:35:47.657

此外 - 声明与身份验证无关。

没有基于声明或基于角色的身份验证之类的东西。它是关于以您的应用程序可以使用的方式对身份进行建模。

角色也是声明（具有固定的真/假值） - 声明只是为您提供键/值对的更多表现力。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-12-27T06:59:39.067

最终，使用声明的主要好处包括：

1.  为您的服务提供一致的编程模型 - 您不需要知道如何实现特定的安全机制，一个站点可能使用用户名和密码身份验证/授权，另一个站点可能使用 Active Directory。您的服务并不关心任何一种方式，因为您所做的只是在所有情况下处理索赔。

2.  您无需担心安全实施。这是由第三方完成的。

3.  您可以自定义声明以适合您的域，并将它们视为授权逻辑的扩展 - 标准安全属性通常只为您提供角色等基本信息。你当然可以扩展它，但是你做更多的工作并且通常很难实现（例如，扩展 AD 通常不是技术挑战而是策略约束 - 管理员不愿意修改 AD 架构以适应特定的应用程序）。

4.  可互操作 - 因为声明 [格式] 基于标准，因此随着安全性的底层技术被抽象化，它们在不同语言和领域的服务之间变得更加可互操作。

如果您正在创建新的 .NET 4.5 WCF 服务，您已经可以开始使用声明，因为命名空间与早期的安全实现向后兼容，因此即使您现在确实决定声明不适合您，您也可以更好地升级之后。

索赔的内容比我在这里可以写的要多得多，我相信还有其他人有额外的理由考虑索赔可能是一件好事。

希望这可以帮助。

# sql - 如何在 sql server 2008 中选择此 xml

> ID：14050118
> 
> 赞同：0
> 
> 时间：2012-12-27T06:02:29.797
> 
> 标签：sql, sql-server, xml

我需要选择 xml 中的所有 guid 节点。但下面的代码只选择其中的第一个。怎么做？

```
DECLARE @doc XML

SET @doc = 
    '<ArrayOfGuid xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema">
      <guid>96eecbe2-d645-465d-8232-c7f21e3c6bf8</guid>
      <guid>38985702-0c0b-4e9c-bccb-af84ba4dd7ff</guid>
      <guid>67852205-092e-4db8-b31e-6f5d457db294</guid>
      <guid>92cf9106-445f-4b01-8259-613596b8a2a7</guid>
    </ArrayOfGuid>'

DECLARE @docHandle INT

EXEC sp_xml_preparedocument @docHandle OUTPUT,
     @doc

SELECT [guid]
FROM   OPENXML(@docHandle, '/ArrayOfGuid', 2)
       WITH
       ([guid] UNIQUEIDENTIFIER) 
```

结果只有一行：96EECBE2-D645-465D-8232-C7F21E3C6BF8

我需要所有 4 行。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-27T06:14:51.937

可能有更好的方法来做到这一点，但这里是其中之一：

```
SELECT text as guid
FROM   OPENXML(@docHandle, '//ArrayOfGuid/guid/text()', 2) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-27T08:50:09.360

您还可以使用 SQL Server 2005 及更高版本中的本机 XQuery 功能来使用此方法：

```
SELECT
    Guids.value('(.)[1]', 'uniqueidentifier')
FROM 
    @doc.nodes('/ArrayOfGuid/guid') AS XTbl(Guids) 
```

我总是更喜欢这种方法而不是旧`OPENQUERY`方法

# c# - 管理火车的铁路轨道集合

> ID：14050125
> 
> 赞同：0
> 
> 时间：2012-12-27T06:03:17.340
> 
> 标签：c#, collections, project-management, modeling

假设我有名为 1 到 6 的轨道对象，并且正在通过的火车对象抛出它们。每条铁路可以有一列火车。

我有两条火车轨道（是一系列轨道），轨道可以包括相同的轨道。

> 例如：
> 
> 轨道 1：轨道 1 - 轨道 2 - 轨道 3 - 轨道 4
> 
> 轨道2：轨道4 - 轨道3 - 轨道5 - 轨道6

我正在考虑为每条轨道收集，现在的问题是我怎么知道火车应该继续行驶到哪条轨道。如果火车现在在 Rail3（例如），它怎么知道它应该继续 Rail4 还是 Rail5。我有一个 RailManagerClass，轨道应该存储在那个类中。存储 ang 管理曲目的最佳方式是什么？链接列表会解决问题吗？

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-27T06:11:19.123

这看起来像是一个家庭作业 :) 无论如何，如果您使用的是 c#，那么链表将解决您的问题。在您的 raulmanager 类中创建两个列表，将轨道添加到其中，然后遍历这些列表以查看火车接下来应该去哪里。

# memory - 与netbeans java中的内存不足有关

> ID：14050126
> 
> 赞同：0
> 
> 时间：2012-12-27T06:03:19.097
> 
> 标签：memory, netbeans

我正在使用 Netbeans Ide 并做与自然语言处理相关的项目。当我运行我的项目时，它显示错误“内存不足”。我的训练数据（输入文件）大小为 34 MB。我在 netbeans.conf 中增加了堆大小和项目-> 属性-> 运行 VM 参数到 1024M。但它显示相同的错误。我的 RAM 大小是 1GB。我尝试通过设置不同的 vm 参数大小，如 1024m、768m 等......但没有奏效。在我的项目中使用了JNI代码。从java程序调用C函数。请提出如何解决这个问题的建议......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-27T07:34:51.560

Netbeans 带有一个分析器，可以帮助您发现应用程序中的内存泄漏。这是一篇关于如何使用它的文章。 [http://netbeans.org/kb/articles/nb-profiler-uncoveringleaks_pt1.html](http://netbeans.org/kb/articles/nb-profiler-uncoveringleaks_pt1.html)

# ios - UIWebView 新增 Url 加载动画效果

> ID：14050129
> 
> 赞同：1
> 
> 时间：2012-12-27T06:03:30.773
> 
> 标签：ios, animation, uiwebview

我们可以在加载效果时在 webview 中加载带有动画的新 url 吗？即我想给我的webview一个动画，当它加载一个新的url或在webview中打开的网站上点击的任何链接时。当用户点击链接/加载新的 url 时，我想在我的 webview 上使用后退按钮给 pushviewController 类型的动画（屏幕从右到左移动）以返回（webView 视图从左到右移动）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-27T06:12:22.100

是的。

您可以在 - (void)webViewDidStartLoad:(UIWebView *)webView 中堆叠视图并使用 - (void)webViewDidFinishLoad:(UIWebView *)webView 关闭它

例如，

WebViewController.h

```
@interface WebViewController : UIViewController<UIWebViewDelegate> {
 IBOutlet UIWebView *webView;
} 
```

WebViewController.m

```
- (void)viewDidLoad {
    [super viewDidLoad];
    webView.delegate = self;
}

- (void)webViewDidStartLoad:(UIWebView *)webView {
   [self.navigationController pushViewController:someViewController animated:YES];
}

- (void)webViewDidFinishLoad:(UIWebView *)webView {
 [self.navigationController popViewControllerAnimated:YES];
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-27T06:17:54.470

当一个新的 URL 加载到 UIWebView 中时，它是

```
-(BOOL)webView:(UIWebView *)webView shouldStartLoadWithRequest:(NSURLRequest *)request  navigationType:(UIWebViewNavigationType)navigationType {

     //Code for animating view .
     //Code for back button.
    } 
```

委托方法将被调用。
所以在这个委托方法中做你需要的东西。

# java - 如何在java中获取当前目录？

> ID：14050131
> 
> 赞同：4
> 
> 时间：2012-12-27T06:03:35.457
> 
> 标签：java, linux, jakarta-ee, struts2, directory

我正在尝试从 java 获取我的项目的当前目录。我正在使用以下代码行来获取路径详细信息。

类型 1：

```
File directory = new File (".");
try {
    System.out.println ("Current directory's canonical path: " 
            + directory.getCanonicalPath()); 
    System.out.println ("Current directory's absolute  path: " 
                + directory.getAbsolutePath());
}catch(Exception e) {
    System.out.println("Exceptione is ="+e.getMessage());
} 
```

类型 2：

```
String currentDir = System.getProperty("user.dir");
System.out.println("Current dir using System:" +currentDir); 
```

从主类执行上述代码时，我正在获取项目目录。当我从服务器端执行时，得到“使用 System:D:\Apache Tomcat 6.0.16\bin 的当前目录”。但我的项目位于`D:\Apache Tomcat 6.0.16\wepapps\SampleStructs`.

请给我任何建议并帮助我解决这个问题。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-12-27T11:56:25.453

首先，问题的主要原因是当前工作目录与可执行文件位置之间的差异。您应该知道 Linux 中的当前工作目录不是可执行文件所在的目录，而是启动程序的当前目录。

例如，假设您有一个`current`打印当前目录的程序，它位于`/home/user/scripts/`.

如果你这样做：

```
cd /home/user/scripts
./current 
```

它会打印出来：`/home/user/scripts/` 但是，如果你这样做：

```
cd /home/user/
scripts/current 
```

输出将是：`/home/user/`

至于可能的解决方案，我发现其中一些有用的是：

*   请参阅相对于类路径的项目资源，`ClassLoader.getResourceAsStream()`有关详细信息，请参阅
*   参考相对于用户主目录的配置资源，如属性文件等。
*   将所有其他位置，例如媒体目录路径和类似于上述配置文件的位置。
*   如果所有其他选项都不可用或实际使用`getClass().getProtectionDomain().getCodeSource().getLocation().getPath()`。在此处查看有关此方法的更多信息和一些可能的问题：[如何获取正在运行的 JAR 文件的路径？](https://stackoverflow.com/questions/320542/how-to-get-the-path-of-a-running-jar-file)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-12-27T06:09:02.390

这是因为当您从主类执行时，一切都很好，但是此代码在服务器上运行，它会查看当前目录，并且当前目录结构是 Apache 'bin' 从您启动服务器的位置（run.bat）。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-12-27T06:52:34.263

你可以使用这个代码

```
String absolutePath = getClass().getProtectionDomain().getCodeSource().getLocation().getPath();
        absolutePath = absolutePath.substring(0, absolutePath.lastIndexOf("/")); 
```

这段代码以前对我有用！它将返回 windows 或 linux 中文件夹的完整路径。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-27T07:19:21.977

我们在这里谈论的是不同的背景。1\. 以独立模式运行应用程序。2\. 在服务器端的容器中运行应用程序。在 #1 中，应用程序从调用它的目录运行。

但是＃2情况，应用程序是相对于容器运行的，因此您会看到服务器目录的位置。这也屏蔽了应用程序代码。

# android - 在 Iistview 中获取相机图像

> ID：14050132
> 
> 赞同：0
> 
> 时间：2012-12-27T06:03:37.557
> 
> 标签：android, android-intent, camera

我有自定义`Listview`。里面有一个`Button`和`ImageView`。

在按钮上单击相机将打开。（相机意图被触发）。

我想要捕获的图像（您也称为位图）`ImageView`，它也是一个 ListItem。

这意味着当我捕获图像并按下相机的完成按钮时，我的 imageview 必须设置该图像。

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-27T06:12:17.877

按照以下步骤，

1.  从您的活动开始活动以获取相机意图的结果。
2.  在捕捉到`onActivityResult`你的活动的图片控制回调之后。
3.  处理图像的路径。
4.  通过在列表视图项目位置设置属性来设置图像的路径。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-27T06:56:50.287

```
 private static int FILE_SELECT_CODE_1 = 0;
    function intentCamera(){
         Intent i = new Intent(
                        android.provider.MediaStore.ACTION_IMAGE_CAPTURE);
         startActivityForResult(i, FILE_SELECT_CODE_1);

  }

private String getLastImagePath() {
        final String[] imageColumns = { MediaStore.Images.Media._ID,
                MediaStore.Images.Media.DATA };
        final String imageOrderBy = MediaStore.Images.Media._ID + " DESC";
        Cursor imageCursor = managedQuery(
                MediaStore.Images.Media.EXTERNAL_CONTENT_URI, imageColumns,
                null, null, imageOrderBy);
        if (imageCursor.moveToFirst()) {
            //int id = imageCursor.getInt(imageCursor.getColumnIndex(MediaStore.Images.Media._ID));
            String fullPath = imageCursor.getString(imageCursor
                    .getColumnIndex(MediaStore.Images.Media.DATA));
            // Log.d(TAG, "getLastImageId::id " + id);
            // Log.d(TAG, "getLastImageId::path " + fullPath);
            imageCursor.close();
            return fullPath;
        } else {
            return "";
        }
    }

@Override
protected void onActivityResult(int requestCode, int resultCode, Intent data) {
    if (requestCode == FILE_SELECT_CODE_1 && resultCode == RESULT_OK){
         String lastImagePath = getLastImagePath();
         File fileImage = new File(lastImagePath);
         Uri u = Uri.fromFile(fileImage);
         //now you can set the image example:
         ImageView img = new ImageView(this);
         img.setImageURI(u);

    }
} 
```

# wpf - 从 ListView 添加\删除但不反映在 UI 中

> ID：14050141
> 
> 赞同：1
> 
> 时间：2012-12-27T06:04:45.247
> 
> 标签：wpf, listview, binding

我有两个`List<ColumnClass>`。一个用于左侧列表视图，另一个用于右侧列表视图。这些列表视图在一个弹出框中。我正在修改两个 Listview 的列表，并再次将其分配给 Listview 的 ItemsSource。但这不会立即反映在 UI 中。当我关闭弹出窗口并再次打开时，它会反映更改。我错过了什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-27T06:24:45.577

您应该替换`List<T>`，`ObservableCollection<T>`ObservableCollections 将在删除 Item 时更新您的 ListView ，如果您只是修改属性，请`ColumnClass`确保您的`ColumnClass`实现`INotifyPropertyChanged`这将允许 UI 在属性更改时更新。

例子：

代码：

```
public partial class MainWindow : Window
{
    public MainWindow()
    {
        InitializeComponent();
        MyColumns.Add(new ColumnClass { Name = "Column1" });
        MyColumns.Add(new ColumnClass { Name = "Column2" });
        MyColumns.Add(new ColumnClass { Name = "Column3" });
    }

    private ObservableCollection<ColumnClass> _myColumns = new ObservableCollection<ColumnClass>();
    public ObservableCollection<ColumnClass> MyColumns
    {
        get { return _myColumns; }
        set { _myColumns = value; }
    }
} 
```

xml:

```
<Window x:Class="WpfApplication8.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="WpfApplication8" Height="368" Width="486" Name="UI" >
    <Grid>
        <ListView ItemsSource="{Binding ElementName=UI, Path=MyColumns}" DisplayMemberPath="Name" />
    </Grid>
</Window> 
```

模型：

```
public class ColumnClass : INotifyPropertyChanged
{
    private string _name;
    public string Name
    {
        get { return _name; }
        set { _name = value; NotifyPropertyChanged("Name"); }
    }

    public event PropertyChangedEventHandler PropertyChanged;
    /// <summary>
    /// Notifies the property changed.
    /// </summary>
    /// <param name="property">The info.</param>
    public void NotifyPropertyChanged(string property)
    {
        if (PropertyChanged != null)
        {
            PropertyChanged(this, new PropertyChangedEventArgs(property));
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-27T06:28:54.693

您应该更改[`List<T>`](http://msdn.microsoft.com/en-us/library/6sh2ey19.aspx)为[`ObservableCollection<T>`](http://msdn.microsoft.com/en-us/library/ms668604.aspx)或[`BindingList<T>`](http://msdn.microsoft.com/en-us/library/ms132679.aspx)。

原因，List 没有实现`INotifyPropertyChanged`。

# ios - 使用 Dropbox 备份/恢复 Core 数据的 sqlite 文件

> ID：14050144
> 
> 赞同：4
> 
> 时间：2012-12-27T06:05:00.067
> 
> 标签：ios, sqlite, core-data, backup, dropbox

我想在 sql 支持的 Core Data 应用程序中实现备份和恢复功能。我可以通过 Dropbox 成功备份和恢复 .sqlite 文件，但我对这种方法有一个疑问。

如果将来我的数据模型发生了变化，有两种可能的情况会发生。

1.  用户在新版本中备份并在我的应用程序的旧版本中恢复它。据我了解，这将导致一些架构错误。
2.  用户在旧版本中备份并在新版本中恢复。我认为这个可以正常工作，因为它应该像正常情况一样迁移。

如果这个假设是正确的，我应该怎么做来处理第一种情况可能出现的问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-27T14:36:55.593

1.  当我进行备份时，我将其创建为包含 plist 文件的 zip 文件，其中存储了备份版本。当我进行还原时，我会检查该版本，如果备份比当前版本更新，我会拒绝还原。在较旧的应用程序版本中恢复备份没有意义。
2.  只要您有必要的模型，它就会正常工作。

# android - 如何在带有 XML 文本的按钮内缩放可绘制对象

> ID：14050147
> 
> 赞同：1
> 
> 时间：2012-12-27T06:05:22.907
> 
> 标签：android, android-layout

我设置了一些按钮，左边有图标，右边有文字。一切都随着屏幕尺寸（手机平板电脑）而缩放，但问题是按钮只是文本。我希望按钮是整行，以便具有焦点的按钮正确亮起（我使用遥控器）。

此代码有效，但按钮只是文本

```
 <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content" 
        android:onClick="onSetTargets">

    <ImageView
            android:id="@+id/imageView1"
            android:layout_width="@dimen/menu"
            android:layout_height="@dimen/menu"
            android:layout_marginTop="@dimen/padding_small"
            android:src="@raw/target" 
            android:onClick="onSetTargets"/>

    <Button
        android:id="@+id/set_Targets"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:background="@drawable/buttonselector"
        android:ellipsize="none"
        android:gravity="left"
        android:onClick="onSetTargets"
        android:singleLine="true"
        android:text=" Targets "
        android:textColor="@android:color/white"
        android:textSize="@dimen/menu" />

    </LinearLayout> 
```

这只是线性布局中的一个部分，然后一行中有几个按钮。

以下是我想要工作的内容，但我不知道如何缩放可绘制对象。我知道有一个 scaleDrawable 命令，但我找不到任何关于如何使其在 XML 中工作的帖子，除了人们抱怨它不起作用并获得在 java 中处理它的解决方案。

```
 <Button
        android:id="@+id/set_start_time"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:background="@drawable/buttonselector"
        android:gravity="left"
        android:onClick="onStartTime"
        android:text=" Timer"
        android:textColor="@android:color/white"
        android:textSize="@dimen/menu" 
        android:drawableLeft="@raw/hourglass"/> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T06:24:04.830

这就是我想出的有效方法。整个页面是线性布局，按钮在页面上垂直排列。每个按钮都是由图像和一些文本组成的垂直线性布局。垂直布局的所有元素都是可单击的，因此单击图像或文本会执行相同的操作。这是单个按钮的示例。@dimen/menu 的尺寸是针对手机和平板电脑尺寸定义的，并且图像将缩放以匹配规范。

```
 <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content" 
        android:onClick="onSetTargets">

    <ImageView
            android:id="@+id/imageView1"
            android:layout_width="@dimen/menu"
            android:layout_height="@dimen/menu"
            android:layout_marginTop="@dimen/padding_small"
            android:src="@raw/target" 
            android:onClick="onSetTargets"/>

    <Button
        android:id="@+id/set_Targets"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:background="@drawable/buttonselector"
        android:ellipsize="none"
        android:gravity="left"
        android:onClick="onSetTargets"
        android:singleLine="true"
        android:text=" Targets "
        android:textColor="@android:color/white"
        android:textSize="@dimen/menu" />

    </LinearLayout> 
```

# jquery - 选择下拉列表另一个下拉列表不可见 kendo ui mobile

> ID：14050148
> 
> 赞同：0
> 
> 时间：2012-12-27T06:05:31.760
> 
> 标签：jquery, kendo-ui

我有两个下拉列表，一个是类别，另一个是产品。当我选择类别下拉列表时，根据该类别，产品必须绑定到产品下拉列表，从 Web 服务数据进入产品下拉列表，但在选择之前不可见作为一个普通页面（没有选择）产品下拉列表是可见的。

在这里我提供我的代码

```
 $.ajax({
        type: "POST",
        contentType: "application/json; charset=utf-8",
        url: "WebService.asmx/ToFillCategoryDropDown",
        dataType: "json",
        success: function (data) {
            var dataSource = [];
            for (i = 0; i < data.d.length; i++) {
                dataSource.push({ "CategoryName": data.d[i].CategoryName })
            };
            $("#ddlCategory").kendoDropDownList({
                dataTextField: "CategoryName",
                dataValueField:"CategoryName",
                dataSource: dataSource,
                change: ChangeWeek
            });
        },
        failure: function (msg) {
            alert(msg);
        }
    });

   $("#ddlProduct").kendoDropDownList();

    function ChangeWeek(e) {
        var ddlddlProduct = $("#ddlProduct");     //appending values..
        //debugger
        var ddlCat = $("#ddlCategory").data("kendoDropDownList");       //passin fiscalmonth value
        var dataItem = ddlCat.text();
        $.ajax({
            type: "POST",
            contentType: "application/json; charset=utf-8",
            url: "WebService.asmx/ToFillProductDropDown", //controllerName/MethodName
            data: "{'CategoryName':'" + dataItem + "'}",
            dataType: "json",
            async: false,
            success: function (data) {
                ddlReportWeek.empty();
                var dataSource = [];
                for (i = 0; i < data.d.length; i++) {
                    dataSource.push({ "ProductName": data.d[i].ProductName })
                };
                $("#ddlProduct").kendoDropDownList({
                    dataTextField: "ProductName",
                    dataSource: dataSource,
                    isVisible: true
                });
            },
            failure: function (msg) {
                alert(msg);
            }
        });
    }
    var app = new kendo.mobile.Application(); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T22:24:32.150

在这种情况下，使用[Kendo UI Mobile Form Elements](http://demos.kendoui.com/mobile/forms/index.html)*可能会*更好。这将使您的界面感觉像一个与标准网页表单不同的移动表单。这样做需要您使用标准选择框，这些选择框在 Kendo UI 移动应用程序中具有增强的行为，因为它与 MVVM 模式有关。您可以绑定它们的源、值、事件以及文本和值字段。

这是一个使用带有 2 个选择列表的 Kendo UI Mobile 表单的示例。类别选择取决于产品选择中选择的值。

[http://jsbin.com/eyibap/1/edit](http://jsbin.com/eyibap/1/edit)

# javascript - throw new Error("语法错误，无法识别的表达式：" msg);

> ID：14050150
> 
> 赞同：1
> 
> 时间：2012-12-27T06:05:52.320
> 
> 标签：javascript, jquery, ruby-on-rails, ruby-on-rails-3

请帮我找出问题

> 错误：语法错误，无法识别的表达式：#save_property_#{result.id} throw new Error("语法错误，无法识别的表达式：" msg );

主页.js：

```
$(".save_prop").click(function(){
    $('#save_property_#{result.id}').slideToggle();
    return false;
}); 
```

视图.html.erb

```
<div id="save_property_<%= result.id %>" style="background : #ececef; width :500px; height:100px; display:none;">
<% if (user_signed_in? || current_twitter_user || current_fb_user) %>
    property saved
<% else %>
    <%= link_to "Sign in  /", user_session_path %>
    <%= link_to "Sign Up", new_user_registration_path %>
    to save the property
<% end %>
</div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-27T06:10:06.070

代替

```
$('#save_property_#{result.id}').slideToggle(); 
```

和

```
$('#save_property_<%=result.id%>').slideToggle(); 
```

并将您的文件名从 home.js 更改为 home.js.erb

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-27T07:33:56.110

密钥在您的文件名中 -`home.js` 它不是 erb 或任何其他 rails 模板文件。它是一个独立的 JavaScript 文件，它不知道 rails 语法或任何后端对象。它在客户端编译，服务器“按原样”将其提供给浏览器

您必须将该脚本放在`erb`文件中才能像这样工作。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-03-05T03:59:27.753

```
 $('#save_property_result.id').slideToggle(); 
```

这帮助我解决了问题

# java - 如何从单独的类中的方法调用我的整数

> ID：14050155
> 
> 赞同：-3
> 
> 时间：2012-12-27T06:06:16.960
> 
> 标签：java, eclipse

我正在尝试从另一个类中的方法将一些整数调用到一个类中

```
public class Variables
{
    public void vary()
    {
        int DSpr
    }
}

public class BattleCalc
{
    public static void main(String[] args)
    {
        Variables v = new Variables();
        v.vary();
        Scanner spr = new Scanner(System.in);
        DSpr = Integer.parseInt(spr.nextLine()); //This line here
    }
} 
```

到目前为止，这是我的代码，但是在 DSpr = Integer.parseInt... eclipse 上给我一个错误“DSpr 无法解析”。为什么它不从 Variables 调用 DSpr ？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-27T06:12:28.467

试试这个：为了访问另一个类的变量，它必须被声明为类变量。

在你的类变量中：

```
 public class Variables{
           int DSpr;

           public void vary(){
               //do assignment here or operation, if you want to create a method
               DSpr = 0;
           }
       } 
```

然后在你的主课上调用它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-27T06:12:34.907

`int DSpr`在`vary()`方法中本地声明，因此不能在该方法之外访问。即使在它的封闭类中`Variables`

要访问另一个类中的变量，应将其定义为实例字段。（或类变量/静态变量）

```
public class Variables
{
    public int DSpr;
    // OR
    // public static int DSpr;
    public void vary()
    {

    }
} 
```

现在，在`BattleCalc`课堂上您可以访问如下：

```
Variables v = new Variables();
v.DSpr = Integer.parseInt(spr.nextLine());
// OR
// Variables.DSpr = Integer.parseInt(spr.nextLine()); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-27T06:12:38.963

“从另一个类中的方法将一些整数调用到一个类中”对我来说毫无意义。方法中的变量仅对该方法是本地的

我想你想做的是这样的

```
public class Variables
{
...
   public int DSpr;
}
...
v.DSpr = Integer.parseInt(spr.nextLine()); 
```

即使 DSpr 成为 Variables 类的公共成员*变量*。

**建议**您改为将其设为`private`变量，并为类外的用户编写 setter-getter 方法以使用它。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-27T06:12:53.690

在这里，您的`DSpr`变量范围仅限于此方法：

```
public void vary()
{
    int DSpr
} 
```

所以它不能在其他任何地方访问。

如果您在其他地方使用，则需要重新声明：

```
int DSpr = Integer.parseInt(spr.nextLine()); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-27T06:14:06.370

您想从另一个类中为 DSpr 分配一个值。您应该将 DSpr 声明为 Variable 类中的成员变量，并通过在该类中调用 setter 来分配它。

您的代码将是这样的。

```
 public class Variables
{
 private int DSpr;
 public void setDSPR(int DSpr)
 {
    this.DSpr=DSpr;
 } 
```

}

```
public class BattleCalc
{
public static void main(String[] args)
{
    Variables v = new Variables();
    Scanner spr = new Scanner(System.in);
    try {
        v.setDSPT(Integer.parseInt(spr.nextLine())); //This line here 
    } catch(NumberFormatException ex) {
        System.out.print("Invalid Input.!")
    }
}
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-12-27T06:15:47.007

试试这个..

```
import java.io.*;
import java.util.*;

class Variables
{
    public void vary()
    {
        int DSpr; 
    }
}

public class BattleCalc
{
    public static void main(String[] args)
    {
        Variables v = new Variables();
        v.vary();
        Scanner spr = new Scanner(System.in);
        int DSpr = Integer.parseInt(spr.nextLine()); //This line here
    }
} 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-12-28T03:46:38.660

是的，您应该在上面的代码中遇到错误，这是我的解决方案，我假设您想更改变量（）中的变量值。但我不确定它的用法，因为您没有使用 BattleCalc 中的更改值。所以获取并设置整数变量，您可以使用 getter 和 sertter，但在这里我将对您的代码进行最少的修改以使其易于理解（所以我在这里不使用 getter 和 setter，尽管它是理想的做法）

```
public class Variables {
    public int DSpr;

    public void vary() {
        // Change the value of DSpr
        DSpr = 10;
    }
 }

 public class BattleCalc {

    public static void main(String[] args) {
            Variables v = new Variables();
            v.vary();
            Scanner spr = new Scanner(System.in);
            v.DSpr = Integer.parseInt(spr.nextLine()); //This line here
    }
} 
```

# ruby-on-rails-3 - 如何在formtastic页面中为knockoutjs绑定一个字段

> ID：14050157
> 
> 赞同：2
> 
> 时间：2012-12-27T06:06:24.817
> 
> 标签：ruby-on-rails-3, knockout.js, formtastic

我试图在我的 formtastic 页面中实现 knockoutjs。如何将数据绑定到脚手架 edformtastic erb 页面。

这就是我尝试的方式。但是没有用

```
 <%= f.input :name, :data=>{:bind=>'value: name'} %> 
```

我的 javascript

```
this.name = ko.observable("Bert"); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-02T10:04:12.407

我不知道 knockoutjs 是如何工作的，但是对于 formtastic 部分，你应该这样做：

```
<%= f.input :name, :input_html => {"data-bind" => "value: name" } %> 
```

我不是那个投反对票的人。;-)（我会投赞成票）。

# jquery - 使用鼠标 jquery 重新排序列表元素

> ID：14050163
> 
> 赞同：1
> 
> 时间：2012-12-27T06:06:44.807
> 
> 标签：jquery, drag, reorderlist

我有浮动列表元素，我想用鼠标拖动它们并将它们移动以重新排序。结构如下：

```
<ul>
    <li>item1</li>
    <li>item2</li>
    <li>item3</li>
    <li>item4</li>
</ul> 
```

最好的方法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-27T06:31:02.757

您需要将 jquery ui 库与核心之一一起添加。

请查看[此演示](http://jsfiddle.net/SwPmm/)

您可以拖放列表元素。

```
 $( "ul" ).sortable(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-27T06:11:32.367

为此目的使用jquery UI！

[http://jqueryui.com/sortable/](http://jqueryui.com/sortable/)

```
$(function() {
    $( "ul" ).sortable();
    $( "ul" ).disableSelection();
}); 
```

# android - 带有滚动视图的快速操作

> ID：14050167
> 
> 赞同：1
> 
> 时间：2012-12-27T06:07:00.720
> 
> 标签：android, basic4android

我正在使用 Basic4Android 作为我的编程语言，我正在尝试使用[AHQuickAction 库](http://www.basic4ppc.com/forum/additional-libraries-classes-official-updates/14563-ahquickaction-library-nice-looking-popup-menus-13.html)来显示弹出菜单。(v1.01)

当您点击标签使其显示弹出菜单时，我正在尝试制作它。

我正在使用以下代码（显示弹出菜单）

```
Sub lblTest_Click
    Dim lbl As Label
    lbl = Sender
    ac1.show(Sender)
End Sub 
```

但是，它总是在我录制的项目下显示弹出窗口。

如下图所示，我点击了列表中的最后一项（测试 19），弹出窗口显示在我点击的项目的顶部，看起来就像我在测试 17 上录制的一样。

有没有办法显示我录制的正确项目？

![http://www.basic4ppc.com/forum/attachments/basic4android-updates-questions/15123d1356308413-ahquickaction-not-working-my-scrollview-wrong_item_selected.png](../Images/92e9e9bd76035cb513c19f177e4f6024.png)

我已将代码作为 zip 附加，因此您可以了解我的意思，并且您也许可以告诉我我缺少什么。-[我的示例代码](http://www.basic4ppc.com/forum/attachments/basic4android-updates-questions/15124d1356308813-ahquickaction-not-working-my-scrollview-quickaction_with_scrollview.zip)

在示例代码中，在您的设备上运行应用程序，然后点击应用程序左侧的标签。您会发现它始终显示在您点击的项目下方，如果您点击的项目上方有空间，它永远不会显示在那里。

希望有人可以帮助我。

# c# - 如何裁剪和保存图像的可见部分？

> ID：14050169
> 
> 赞同：1
> 
> 时间：2012-12-27T06:07:57.283
> 
> 标签：c#

目前，我在面板内使用图片框来显示图像。我已经实现了通过鼠标光标移动图像的逻辑。

我的问题是，如果图像的大小大于面板（图片框的`SizeMode=AutoSize`），我想裁剪并保存面板上可见的图像部分。我不知道该怎么做。我是初学者，对此我没有任何经验。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-27T07:12:28.517

您可以使用此代码裁剪图像..

```
private static Image cropImage(Image img, Rectangle cropArea)
{
   Bitmap bmpImage = new Bitmap(img);
   Bitmap bmpCrop = bmpImage.Clone(cropArea,bmpImage.PixelFormat);
   return (Image)(bmpCrop);
} 
```

另请参阅这些教程..
[http://www.switchonthecode.com/tutorials/csharp-tutorial-image-editing-saving-cropping-and-resizing](http://www.switchonthecode.com/tutorials/csharp-tutorial-image-editing-saving-cropping-and-resizing)
[http://jasonjano.wordpress.com/2010/02/13/image -调整大小和裁剪-c/](http://jasonjano.wordpress.com/2010/02/13/image-resizing-and-cropping-in-c/)

# sql - 这是使用包含中的所有列创建索引的不良做法吗？

> ID：14050178
> 
> 赞同：2
> 
> 时间：2012-12-27T06:08:45.007
> 
> 标签：sql, sql-server, sql-server-2008, tsql, indexing

我有一个表，我正在为 where 子句搜索中经常使用的字段创建非聚集索引。我正在使用包含子句创建索引并将所有字段放入其中。

前任：

```
Create NonClustered Index IX_DocumentDate on Documents
(
    DocumentDate     
)
Include(
    JurisdictionID,
    JudgementTypeID,
    IDate,
    EfileDate,
    UserID,
    RecordingDateTime,
    ApprovedBy,
    ACEfileBankAccountID,
    LastStatusChangedDateTime,
    ACEfileCreditCardID,
    EfiledByUserID,
    ITypeID,
    IGroupID,
    InstrumentID,
    OldInstrumentID,
    [CreatedByJurisdictionID],
    CreatedByAccountID,
    [DocumentStatusID]      
      ,[Remarks]
      ,[InternalNotes]
      ,[ParentDocumentID]
      ,[FilingNumber]
      ,[StampData]      
      ,[Receipt]
      ,[ReceiptNo]
      ,[IsReEfiled]      
      ,[ImportedFromInstrumentID]
) 
```

而不是仅仅创建索引。这些字段都用在`Select`. 只是想知道我做错了吗？当我这样做时，我会获得巨大的绩效奖金。如果这没问题，那么为什么 Microsoft 不将其用作默认选项并将表的所有字段都包含在 中`include`？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-27T06:16:14.730

是的。一般来说，在 SQL 中，拥有一种模式总是不好的——很多取决于使用情况，而且会有所不同。

在上述情况下，这可能是也可能不是明智的、需要的或有益的。不要忘记您付出了代价——磁盘大小（=IO​​ 和更多 RAM 使用）以及更新和插入速度（较慢）。

通常，应谨慎使用 INCLUDE。从没有开始，然后在有问题的地方使用它，它会有所帮助。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-12-27T06:27:40.417

You are storing your entire table twice, once in the index, once in the main table. This is generally regarded as a waste of space. It also reduces the efficiency of the index; there is more data to read than there would be if you restrained yourself to no included columns, or only a few included columns. It might well be sensible to include the primary document ID column in the index (though it is not clear which column is the primary document ID), but the majority of the columns you included are clearly superfluous to the index.

So, the reason it isn't the default behaviour is because it is not as efficient as an index without included columns. So, don't include any columns in the index until you have a need to do so, and can measure that it improves the performance.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-27T10:38:04.657

您可以为一列尝试聚集索引，可能使用主键然后检查性能。您可以将聚集索引的性能与所有列的索引进行比较。最佳实践表明您应该根据要求拥有最少的索引。

# c - 函数'str[n]casecmp'的隐式声明[-Werror=implicit-function-declaration]

> ID：14050183
> 
> 赞同：6
> 
> 时间：2012-12-27T06:09:02.397
> 
> 标签：c, gcc, c99

我正在使用 C99 编译一个 C 库。我将 string.h 包含到我的翻译单元中（并且我可以导航到我的 netbeans IDE 中的 str?casecmp 函数的定义。

源代码如下所示：

```
#include <string.h>

int foo(char* c1, char* c2) {
   return strcasecmp(c1, c2);
}

int foobar(char* c1, char* c2, int n) {
   return strncasecmp(c1, c2, n);
} 
```

但是，当我尝试编译时，我得到了标题中显示的错误。

我正在使用 gcc 版本 4.6.3 (Ubuntu/Linaro 4.6.3-1ubuntu5)。

这就是我的 gcc 命令的样子：

```
gcc    -c -g -Werror -DE4C_THREADSAFE -DLINUX_BUILD -I../include -I../genutils -std=c99 -fPIC  -MMD -MP -MF build/Debug/GNU-Linux-x86/btypes.o.d -o build/Debug/GNU-Linux-x86/btypes.o btypes.c 
```

这是什么原因造成的，我该如何解决？

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-12-27T06:10:50.760

这些函数是在 中声明的`strings.h`，而不是在`string.h`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-27T10:16:22.737

包括标题 strings.h 而不是 string.h..

# asp.net-mvc-3 - 处理多个和单个文件上传

> ID：14050184
> 
> 赞同：-2
> 
> 时间：2012-12-27T06:09:02.167
> 
> 标签：asp.net-mvc-3, file-upload, uploadify, httppostedfilebase

我正在`uploadify`为我的 MVC3 项目使用文件上传插件。

我正在尝试使用上传文件到控制器。

如何同时使用多文件上传和单文件上传？

我知道`IEnumerable<HttpPostedFileBase> files`用于多个文件和`HttpPostedFileBase files`单个文件上传。如何结合这些。

在我的项目中，用户可以选择多个文件或只选择一个文件将其上传到控制器。

所以，如果我`IEnumerable<HttpPostedFileBase> files`在我的控制器操作中使用，我无法获取单个文件（文件为空），如果我使用`HttpPostedFileBase files`它不显示任何内容，文件在这里始终为空。

如何使用单个文件上传，我可以上传多个文件，但不能上传单个文件。

如何得到这份工作？

这是我的代码：

**HTML**

```
 <body>
    @using (Html.BeginForm("Index", "Home", FormMethod.Post, new { enctype = "multipart/form-data" }))
            {
              <div id="fileupload" style="display:none">
                <div style="clear: none;">
                    File to Upload:
                    <input type="file" name="file_upload" id="file_upload" style="padding-left: 50px;"/><hr />
                </div>
                <p style="text-align: right;">
                    <input type="submit" id="selectimage" value="Ok" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only"/>
                    <input type="submit" id="cancelimage" value="Cancel" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" onclick="cancelupload();" />
                </p>
            </div>
            <input type="button" id="btnImg" />
            <div id="filecontent">
              Added Images:
             </div>
            }
    </body>
    <script>
$(function(){
    $('#file_upload').uploadify({
            'checkExisting': 'Content/uploadify/check-exists.php',
            'swf': '/Content/uploadify/uploadify.swf',
            'uploader': '/Home/Index',
            'auto': false,
            'buttonText': 'Browse',
            'fileTypeExts': '*.jpg;*.jpeg;*.png;*.gif;*.zip',
            'removeCompleted': false,
            'onSelect': function (file) {
                $("#selectimage").click(function () {
                    $("#file_upload-queue").appendTo("#filecontent");
                });
            }
        });
});
</script> 
```

**控制器动作**

```
public ActionResult Index(IEnumerable<HttpPostedFileBase> fileData)
        {
            foreach (var file in fileData)
                {
                    if (file.ContentLength > 0)
                    {
                        string currpath = Server.MapPath("~/Images/");

                        currpath = Path.Combine(Server.MapPath("~/Images/Admin"), file.FileName);

                        file.SaveAs(currpath);
                    }

                }
            return View();
        } 
```

我应该在控制器操作中进行哪些更改以使单文件上传和多文件上传正常工作？

**更新**

既不工作`IEnumerable<HttpPostedFileBase> fileData`也不`HttpPostedFileBase fileData`工作

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-27T06:51:53.860

对于要上传的每个文件，控制器操作将被多次调用。但是您似乎隐藏了上传表单（您将其放在 div 中`display:none`）。此外，您从不使用 Uploadify 来实际上传文件。您已经设置并且永远不会使用该方法`auto: false`触发文件上传。`upload`所以我猜你以某种方式提交表单并期望在服务器端得到一些东西，但这不会像这样发生。

所以，让我们清理并简化事情：

```
<div>
    <input type="file" name="file_upload" id="file_upload" />
</div>

<hr />

<div id="filecontent">
    Added Images:
</div>

<input type="button" id="upload" value="Upload selected files to the server" />

<script type="text/javascript" src="@Url.Content("~/Content/Uploadify/jquery.uploadify-3.1.min.js")"></script>
<script type="text/javascript">
    $('#file_upload').uploadify({
        'swf': '@Url.Content("~/Content/uploadify/uploadify.swf")',
        'uploader': '@Url.Action("index", "home")',
        'auto': false,
        'multu': true,
        'buttonText': 'Browse',
        'fileTypeExts': '*.jpg;*.jpeg;*.png;*.gif;*.zip',
        'removeCompleted': false,
        'onSelect': function (file) {
            $("#selectimage").click(function () {
                $("#file_upload-queue").appendTo("#filecontent");
            });
        }
    });

    $('#upload').click(function () {
        $('#file_upload').uploadify('upload', '*');
        return false;
    });
</script> 
```

你的控制器动作现在可以变成：

```
[HttpPost]
public ActionResult Index(HttpPostedFileBase fileData)
{
    if (fileData != null && file.ContentLength > 0)
    {
        var currpath = Path.Combine(
            Server.MapPath("~/Images/Admin"), 
            fileData.FileName
        );
        fileData.SaveAs(currpath);
    }
    return Json(new { success = true });
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-27T06:37:47.833

试用插件：根据：客户端浏览器与 html5 + flash + silverligth 一起使用。 [http://des.deletesoft.com:8080/?go=2](http://des.delestesoft.com:8080/?go=2)

# android - 在android中访问sqlite数据库时出现异常

> ID：14050185
> 
> 赞同：0
> 
> 时间：2012-12-27T06:09:04.993
> 
> 标签：android, sqlite, exception

我正在尝试在我的应用程序中访问 sqlite 数据库并收到此异常：

```
12-27 11:32:12.760: E/Exception:(746): java.lang.IllegalStateException: attempt to acquire a reference on a close SQLiteClosable Exception occured in ContactListOfNumbersForWhichRuleIsAlreadySpecified() of DatabaseHandlerRule.java 
```

我正在使用这段代码：

```
public ArrayList<String> ContactListOfNumbersForWhichRuleIsAlreadySpecified(DatabaseHandlerRule Activity) 
    {
        ContactRule contact = null;
        Cursor cursor =  null;
        SQLiteDatabase db =  null;
        ArrayList<String> contactList =  null;
        try
        {
            contactList = new ArrayList<String>();

            //      SQLiteActivity1.ReadingAllContactsRule(SplashActivity.s_dbRule);

            String selectQuery = "SELECT  * FROM " + TABLE_CONTACTS + " WHERE "+KEY_NAME+" !='"
            +"abcde#$%&*()@#$%"+"'"+" AND "+KEY_PH_NO+"!='"+"abcde#$%&*()@#$%"+"'"+" AND "+KEY_DATE+" ='"+"0"+"'";

            db = this.getReadableDatabase();

            if (!db.isOpen()) {
                db = SQLiteDatabase.openDatabase(
                        "/data/data/com.velosys.smsManager/databases/rulesManager",
                        null, SQLiteDatabase.OPEN_READWRITE);
            }

            cursor = db.rawQuery(selectQuery, null);

            // looping through all rows and adding to list
            if (cursor.moveToFirst()) {
                do {
                    contact = new ContactRule();
                    contact.setID(Integer.parseInt(cursor.getString(0)));
                    contact.setName(cursor.getString(1));
                    contact.setPhoneNumber(cursor.getString(2));
                    contact.setFolderName(cursor.getString(3));
                    contact.setParentFolderAddress(cursor.getString(4));
                    contact.setTime(cursor.getLong(5));
                    contact.setDate(cursor.getLong(6));
                    // Adding contact to list
                    contactList.add(contact.getName());
                } while (cursor.moveToNext());
            }
            else if(!cursor.moveToFirst())
            {
                Log.e("Message: ","Rule is not specified for even a single number in database");
                return contactList;             
            }
        }
        catch(Exception e)
        {
            Log.e("Exception: ",e+" Exception occured in ContactListOfNumbersForWhichRuleIsAlreadySpecified() of DatabaseHandlerRule.java");
        }
        finally
        {   
            if(cursor != null && !cursor.isClosed())
                cursor.close(); 
            if(db != null && db.isOpen())
                db.close();
        }
        return contactList;
    } 
```

我已经搜索了此异常背后的原因，但对我的情况没有任何暗示：

1.  我不是想写，而是读数据库。因此这里没有关于并发的问题。
2.  我正在使用数据库助手类的实例`db = this.getReadableDatabase();`
3.  每次打开数据库时，我都会正确关闭数据库。

请帮助我。在此先感谢。

编辑：

很奇怪。在删除 finally 并放置没有 finally 块的代码后，一切正常。谁能告诉我这背后的原因？

```
 //finally
            {   
                if(cursor != null && !cursor.isClosed())
                    cursor.close(); 
                if(db != null && db.isOpen())
                    db.close();
            } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-27T06:17:43.037

请删除 finally 块。因为你有关闭的数据库和游标所以这个错误来了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-27T06:41:25.563

很奇怪。在删除 finally 并放置没有 finally 块的代码后，一切正常。谁能告诉我这背后的原因？

```
 //finally
            {   
                if(cursor != null && !cursor.isClosed())
                    cursor.close(); 
                if(db != null && db.isOpen())
                    db.close();
            } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-27T06:19:10.713

在声明中`db = this.getReadableDatabase();`，我不确定您使用的是什么上下文。所以声明一个全局上下文，`Context context = this;`然后将该语句称为`db = context.getReadableDatabase();`

# windows - SetTimer 生成一个随机 IDEvent

> ID：14050189
> 
> 赞同：2
> 
> 时间：2012-12-27T06:09:28.547
> 
> 标签：windows, delphi, api, timer

当我尝试使用 Windows SetTimer 函数时，它会为计时器生成一个 IDEvent，即使**我已经指定了一个！**

这个：

```
SetTimer(0,999,10000,@timerproc); 
```

在：

```
procedure timerproc(hwnd: HWND; uMsg: UINT; idEvent: UINT_PTR;dwTime: DWORD); stdcall;
begin
KillTimer(0, idEvent);
showmessage(inttostr(idevent));
end; 
```

返回：

**随机数！**

是否可以自己管理计时器而不是 Windows 为我选择？

非常感谢！

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-12-27T07:15:43.047

如果要在单个例程中处理多个计时器事件，则通过特定窗口而不是特定例程处理它：

```
type
  TForm1 = class(TForm)
    procedure FormCreate(Sender: TObject);
  private
    FTimerWindow: HWND;
    procedure TimerProc(var Msg: TMessage);
  end;

...

procedure TForm1.FormCreate(Sender: TObject);
begin
  FTimerWindow := Classes.AllocateHWnd(TimerProc);
  SetTimer(FTimerWindow, 999, 10000, nil);
end;

procedure TForm1.FormDestroy(Sender: TObject);
begin
  Classes.DeallocateHWnd(FTimerWindow);
end;

procedure TForm1.TimerProc(var Msg: TMessage);
begin
  if Msg.Msg = WM_TIMER then
    with TWMTimer(Msg) do
      case TimerID of
        999:
          //
      else:
        //
      end;
end; 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-12-27T06:47:08.537

SetTimer 的工作方式会有所不同，具体取决于您是否将窗口句柄传递给它。

```
Timer_Indentifier := SetTimer(0, MyIdentifier, Time, @myproc); 
```

在上述实例中，Timer_Identifier 不等于 MyIdentifier。

```
Timer_Indentifier := SetTimer(handle, MyIdentifier, Time, @myproc); 
```

在第二个示例中，Timer_Identifier = MyIdentifier。

这是因为在第二个示例中，您的 windows 循环将需要使用“MyIdentifier”来找出哪个计时器正在向它发送“WM_Timer”消息。

使用没有窗口句柄的特定 Timer 函数是不同的。简短的回答是，在您的场景中，使用 Windows 为您提供的值。

[http://msdn.microsoft.com/en-us/library/windows/desktop/ms644906%28v=vs.85%29.aspx](http://msdn.microsoft.com/en-us/library/windows/desktop/ms644906%28v=vs.85%29.aspx)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-27T07:11:28.310

多媒体定时器解决了我的问题！

我可以将任何我想要的东西传递给他们`dwUser`:)

```
MMRESULT timeSetEvent(
  UINT uDelay,
  UINT uResolution,
  LPTIMECALLBACK lpTimeProc,
  DWORD_PTR dwUser,
  UINT fuEvent
); 
```

来自 MSDN：dwUser -> 用户提供的回调数据。

*   他们有一个`TIME_ONESHOT`选项，这正是我使用计时器的目的！

# multithreading - Powershell 同时唤醒多个媒体驱动器

> ID：14050190
> 
> 赞同：4
> 
> 时间：2012-12-27T06:09:35.647
> 
> 标签：multithreading, powershell, media, raid, drives

我有一台带有很多媒体驱动器的服务器 ~43TB。一个 areca 1882ix-16 设置为在 30 分钟不活动后将驱​​动器降速，因为大多数日子甚至不使用单个驱动器。这可以很好地防止不必要的电力和热量。在这种情况下，驱动器仍会显示在 Windows 资源管理器中，但是当您单击访问它们时，文件夹列表需要大约 10 秒才能显示出来，因为它必须等待驱动器启动。

对于管理工作，我需要启动所有驱动器以便能够在它们之间进行搜索。在 Windows 资源管理器中单击每个驱动器，然后等待它启动后再单击下一个驱动器是非常乏味的。显然，多个资源管理器窗口使其速度更快，但仍然很乏味。我认为powershell脚本可以减轻痛苦。

所以我从以下开始：

```
$mediaDrives = @('E:', 'F:', 'G:', 'H:', 'I:', 'J:', 'K:', 'L:',
    'M:','N:', 'O:', 'P:', 'Q:', 'R:', 'S:')
get-childitem $mediaDrives  | foreach-object -process { $_.Name } 
```

这只是要求阵列中的每个驱动器都列出其根文件夹名称。这可以唤醒驱动器，但它又是一个线性函数。该脚本在打印前为每个驱动器暂停。寻找有关如何同时唤醒每个驱动器的解决方案。有没有办法多线程或其他？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-27T17:39:18.107

这是一个可以执行您想要的操作的脚本，但它必须使用 MTA 线程模式在 powershell 下运行（这是 powershell.exe 2.0 的默认设置，但 powershell.exe 3.0 必须使用 -MTA 开关启动。）

```
#require -version 2.0

# if running in ISE or in STA console, abort
if (($host.runspace.apartmentstate -eq "STA") -or $psise) {
    write-warning "This script must be run under powershell -MTA"
    exit
}

$mediaDrives = @('E:', 'F:', 'G:', 'H:', 'I:', 'J:', 'K:', 'L:',
    'M:','N:', 'O:', 'P:', 'Q:', 'R:', 'S:')

# create a pool of 8 runspaces   
$pool = [runspacefactory]::CreateRunspacePool(1, 8)
$pool.Open()

$jobs = @()
$ps = @()
$wait = @()     

$count = $mediaDrives.Length

for ($i = 0; $i -lt $count; $i++) {

    # create a "powershell pipeline runner"
    $ps += [powershell]::create()  

    # assign our pool of 8 runspaces to use
    $ps[$i].runspacepool = $pool   

    # add wake drive command
    [void]$ps[$i].AddScript(
        "dir $($mediaDrives[$i]) > `$null")

    # start script asynchronously    
    $jobs += $ps[$i].BeginInvoke();         

    # store wait handles for WaitForAll call
    $wait += $jobs[$i].AsyncWaitHandle
}

# wait 5 minutes for all jobs to finish (configurable)
$success = [System.Threading.WaitHandle]::WaitAll($wait,
    (new-timespan -Minutes 5))     
write-host "All completed? $success"

# end async call   
for ($i = 0; $i -lt $count; $i++) {     
    write-host "Completing async pipeline job $i"    

    try {       
        # complete async job           
        $ps[$i].EndInvoke($jobs[$i])     
    } catch {   
        # oops-ee!          
        write-warning "error: $_"      
    }   

    # dump info about completed pipelines       
    $info = $ps[$i].InvocationStateInfo

    write-host "State: $($info.state) ; Reason: $($info.reason)"  
} 
```

因此，例如，另存为`warmup.ps1`并运行如下：`powershell -mta c:\scripts\warmup.ps1`

要了解更多关于运行空间池和上述一般技术的信息，请查看我关于运行空间池的博客文章：

[http://nivot.org/blog/post/2009/01/22/CTP3TheRunspaceFactoryAndPowerShellAccelerators](http://nivot.org/blog/post/2009/01/22/CTP3TheRunspaceFactoryAndPowerShellAccelerators)

我几乎任意选择了 8 作为并行度因素——用更低或更高的数字来试验自己。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-27T10:02:16.150

Spin up a separate powershell instance for each drive or use workflows in PowerShell 3.0. Anyhow, you can pass drives directly to the Path parameter and skip Foreach-Object all togeteher:

```
Get-ChildItem $mediaDrives 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-01T22:01:29.493

您是否考虑过使用[Start-Job](http://technet.microsoft.com/en-us/library/hh849698.aspx) cmdlet 来解决这个问题：

```
$mediaDrives = @('E:', 'F:', 'G:', 'H:', 'I:', 'J:', 'K:')
$mediaDrives | ForEach-Object {
  Start-Job -ArgumentList $_ -ScriptBlock {param($drive)
    Get-ChildItem $drive
  }
} 
```

唯一聪明的部分是您需要在 Start-Job cmdlet 上使用 -ArgumentList 参数来为每次迭代传递正确的值。这将创建一个与脚本执行并行运行的后台任务。如果你很好奇

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-31T11:38:23.630

如果您不想等待，那就不要等待：[在后台](http://msdn.microsoft.com/en-us/library/windows/desktop/dd878288%28v=vs.85%29.aspx)启动那些叫醒电话。

在`bash`一个会写

```
foreach drive ($mediadrives) {tickle_and_wake $drive &} 
```

（注意与号，意思是：*在后台启动命令，不要等待它完成*）

在 PowerShell 中，这将转化为类似

```
foreach ($drive in $mediadrives)  {
   Start-Job {param($d) tickle_and_wake $d} -Arg $drive 
} 
```

如果您想确认所有后台作业都已完成，请在`wait`Powershell中使用`bash``Wait-Job`

# c#-4.0 - 在 foreach 循环中使用标签控件在单个标签中显示多个值

> ID：14050194
> 
> 赞同：3
> 
> 时间：2012-12-27T06:10:07.100
> 
> 标签：c#-4.0, foreach, label

```
//program.cs
foreach (Mutant mutant in mutants)
{
    label12.Text=mutant.displayInfo();
}

//Mutant.cs 
public abstract int dangerQuotient();
public String displayInfo()
{
    return(codename + " " + dangerQuotient().ToString());
}

//physicalMutant.cs 
public override int dangerQuotient()
{
    return level * IQ * strength;
}

//elementMutant.cs
public override int dangerQuotient()
{
    return level * region;

} 
```

Mutant 是我的基类，我有两个派生类physicalMutant 和elementMutant。最后，我在 label12 中单独获得 elementMutant 类的输出。如何在同一标签中也获得physicalMutant 的输出。通过在 foreach 循环中使用消息框控件，我可以从两个派生类中的 displayQuotient() 中获取值，但是通过使用标签，我只能显示最后一次迭代值。如何克服这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-27T06:59:00.763

我真的不确定您想要什么，但是如果要将您的所有 Mutants dangerQuotient 添加到您的标签中，您将需要将您的 foreach 语句更改为类似的内容。您当前在 foreach 循环的每次迭代中都替换标签的内容。

```
label12.Text = ""; // or just delete the text in the designer
foreach(Mutant mutant in mutants)
{
    label12.Text += mutant.displayInfo() + "\n"; //  This will create a seperate line for each displayInfo
   // label12.Text += mutant.displayInfo();  //This will add them on the same line
} 
```

# angularjs - AngularJS指令范围内的'@'和'='有什么区别？

> ID：14050195
> 
> 赞同：1096
> 
> 时间：2012-12-27T06:10:29.370
> 
> 标签：angularjs, angularjs-directive, angularjs-scope, isolated-scope

我已经仔细阅读了有关该主题的**AngularJS**文档，然后摆弄了一个指令。这是[小提琴](http://jsfiddle.net/iweinfuld/7g3QM/3/)。

以下是一些相关的片段：

*   从**HTML**：

    ```
    <pane bi-title="title" title="{{title}}">{{text}}</pane> 
    ```

*   从窗格指令：

    ```
    scope: { biTitle: '=', title: '@', bar: '=' }, 
    ```

有几件事我没有得到：

*   为什么我必须使用`"{{title}}"`with`'@'`和`"title"`with `'='`？
*   我也可以直接访问父范围，而不用属性装饰我的元素吗？
*   文档说*“通常希望通过表达式将数据从隔离范围传递到父范围”*，但这似乎也适用于双向绑定。为什么表达路线会更好？

我发现了另一个显示表达式解决方案的小提琴：http: [//jsfiddle.net/maxisam/QrCXh/](http://jsfiddle.net/maxisam/QrCXh/)

* * *

## 回答 #1

> 赞同：1167
> 
> 时间：2012-12-28T01:15:27.413

> 为什么我必须使用带有' **@** '的“{{title}}”和带有' **=** '的“title”？

**@**将本地/指令范围属性绑定到**DOM 属性的评估值**。如果使用`title=title1`or `title="title1"`，则 DOM 属性 "title" 的值就是字符串`title1`。如果使用`title="{{title}}"`，则 DOM 属性 "title" 的值是 的内插值`{{title}}`，因此字符串将是当前设置的父范围属性 "title" 的任何值。**由于属性值始终是字符串，因此在使用@**时，您将始终在指令范围内得到此属性的字符串值。

**=**将本地/指令范围属性绑定到**父范围属性**。因此，使用**=**时，您可以使用父模型/范围属性名称作为 DOM 属性的值。您不能将`{{}}`s 与**=**一起使用。

使用@，您可以执行以下操作`title="{{title}} and then some"`——{{title}} 被插值，然后将字符串“and them some”与它连接起来。最终连接的字符串是本地/指令范围属性得到的。（你不能用**=**做到这一点，只有**@**。）

使用**@**，`attr.$observe('title', function(value) { ... })`如果您需要在 link(ing) 函数中使用该值，则需要使用。例如，`if(scope.title == "...")`不会像您期望的那样工作。请注意，这意味着您只能[*异步*](https://github.com/angular/angular.js/wiki/Understanding-Directives)访问此属性。如果您只使用模板中的值，则不需要使用 $observe()。例如，`template: '<div>{{title}}</div>'`。

使用**=**，您不需要使用 $observe。

> 我也可以直接访问父范围，而不用属性装饰我的元素吗？

是的，但前提是您不使用隔离范围。从您的指令中删除此行

`scope: { ... }`

然后您的指令将不会创建新范围。它将使用父范围。然后，您可以直接访问所有父范围属性。

> 文档说“通常希望通过表达式将数据从隔离范围传递到父范围”，但这似乎也适用于双向绑定。为什么表达路线会更好？

是的，双向绑定允许本地/指令范围和父范围共享数据。“表达式绑定”允许指令调用由 DOM 属性定义的表达式（或函数）——您还可以将数据作为参数传递给表达式或函数。因此，如果您不需要与父级共享数据——您只想调用在父级范围内定义的函数——您可以使用**&**语法。

也可以看看

*   [Lukas 的独立作用域博文](http://onehungrymind.com/angularjs-sticky-notes-pt-2-isolated-scope/)（涵盖 @、=、&）
*   [dnc253对](https://stackoverflow.com/questions/13032621/need-some-examples-of-binding-attributes-in-custom-angularjs-tags/13033249#13033249)@和=的解释
*   我关于作用域[的类似博客的回答——](https://stackoverflow.com/questions/14049480/what-are-the-nuances-of-scope-prototypal-prototypical-inheritance-in-angularjs/14049482#14049482)**指令**部分（位于底部，就在摘要部分之前）有一张隔离作用域及其父作用域的图片——指令作用域使用 @ 表示一个属性，使用 = 表示另一个
*   [angularJS中& vs @和=有什么区别](https://stackoverflow.com/questions/14908133/what-is-the-difference-between-vs-and-in-angularjs)

* * *

## 回答 #2

> 赞同：550
> 
> 时间：2015-02-03T23:30:29.020

这里有很多很好的答案，但我想就事实证明对我有用的 , 和 binding`@`之间`=`的差异提供我的观点。`&`

所有三个绑定都是通过元素的属性将数据从父范围传递到指令的隔离范围的方法：

> 1.  **@binding**用于传递字符串。这些字符串支持`{{}}`内插值的表达式。例如： 。插值表达式根据指令的父范围进行评估。
>     
>     
> 2.  **=** binding 用于双向模型绑定。父作用域中的模型链接到指令的隔离作用域中的模型。对一个模型的更改会影响另一个模型，反之亦然。
>     
>     
> 3.  **&**绑定用于将方法传递到指令的范围内，以便可以在指令中调用它。该方法预先绑定到指令的父范围，并支持参数。例如，如果该方法在父作用域中是 hello(name)，那么为了从指令内部执行该方法，您必须调用 $scope.hello({name:'world'})

我发现通过更简短的描述引用范围绑定更容易记住这些差异：

*   `@` *属性字符串绑定*
*   `=` *双向模型绑定*
*   `&` *回调方法绑定*

这些符号还可以更清楚地说明作用域变量在指令实现中所代表的内容：

*   `@` *细绳*
*   `=` *模型*
*   `&` *方法*

为了有用（无论如何对我来说）：

1.  =
2.  @
3.  &

* * *

## 回答 #3

> 赞同：67
> 
> 时间：2012-12-27T06:20:30.460

这`=`意味着双向绑定，因此对父范围的变量的引用。这意味着，当您更改指令中的变量时，它也会在父范围内更改。

`@`意味着变量将被复制（克隆）到指令中。

据我所知，`<pane bi-title="{{title}}" title="{{title}}">{{text}}</pane>`也应该工作。`bi-title`将接收父范围变量值，该值可以在指令中更改。

如果您需要更改父范围内的多个变量，您可以从指令内在父范围上执行一个函数（或通过服务传递数据）。

* * *

## 回答 #4

> 赞同：39
> 
> 时间：2014-11-21T23:19:34.233

如果您想通过一个实际示例了解更多这是如何工作的。[http://jsfiddle.net/juanmendez/k6chmnch/](http://jsfiddle.net/juanmendez/k6chmnch/)

```
var app = angular.module('app', []);
app.controller("myController", function ($scope) {
    $scope.title = "binding";
});
app.directive("jmFind", function () {
    return {
        replace: true,
        restrict: 'C',
        transclude: true,
        scope: {
            title1: "=",
            title2: "@"
        },
        template: "<div><p>{{title1}} {{title2}}</p></div>"
    };
}); 
```

* * *

## 回答 #5

> 赞同：39
> 
> 时间：2015-08-26T03:40:26.873

`@` **获取字符串**

*   这不会创建任何绑定。你只是得到你作为字符串传入的单词

`=` **2路绑定**

*   控制器所做的更改将反映在指令持有的引用中，反之亦然

`&`这有点不同，因为作用域获得了一个函数，该函数**返回传入的对象**。我假设这是使它工作所必需的。*小提琴应该清楚地说明这一点。*

*   **调用此 getter 函数后，生成的对象的行为如下：**
    *   如果传递了一个*函数*：则该函数在调用时在父（控制器）闭包中执行
    *   如果传入了*非函数*：只需获取没有绑定的对象的本地副本

[这个小提琴应该演示它们是如何工作](http://jsfiddle.net/93sufr7L/14/)的。特别注意`get...`名称中的作用域函数，希望能更好地理解我的意思`&`

* * *

## 回答 #6

> 赞同：38
> 
> 时间：2015-04-26T16:34:27.507

可以通过三种方式在指令中添加范围：

1.  **父范围**：这是默认范围继承。

指令和它的父（控制器/它所在的指令）范围是相同的。因此，对指令内部范围变量所做的任何更改也会反映在父控制器中。您不需要指定它，因为它是默认值。

2.  **子作用域**：如果您将指令的作用域变量指定为 true，则指令创建一个从父作用域继承的子作用域。

在这里，如果您更改指令内部的作用域变量，它不会反映在父作用域中，但是如果您更改作用域变量的属性，即反映在父作用域中，因为您实际上修改了父作用域的变量.

例子，

```
app.directive("myDirective", function(){

    return {
        restrict: "EA",
        scope: true,
        link: function(element, scope, attrs){
            scope.somvar = "new value"; //doesnot reflect in the parent scope
            scope.someObj.someProp = "new value"; //reflects as someObj is of parent, we modified that but did not override.
        }
    };
}); 
```

3.  **隔离范围**：当您要创建不从控制器范围继承的范围时使用。

当您创建插件时会发生这种情况，因为这会使指令通用，因为它可以放置在任何 HTML 中并且不受其父范围的影响。

现在，如果您不想与父范围进行任何交互，那么您可以将范围指定为空对象。喜欢，

```
scope: {} //this does not interact with the parent scope in any way 
```

大多数情况下并非如此，因为我们需要与父范围进行一些交互，所以我们希望一些值/更改能够通过。为此，我们使用：

```
1\. "@"   (  Text binding / one-way binding )
2\. "="   ( Direct model binding / two-way binding )
3\. "&"   ( Behaviour binding / Method binding  ) 
```

**@**表示来自控制器作用域的更改将反映在指令作用域中，但是如果您修改指令作用域中的值，则控制器作用域变量不会受到影响。

@ 总是期望映射的属性是一个表达式。这个非常重要; 因为要使“@”前缀起作用，我们需要将属性值包装在 {{}} 中。

**=**是双向的，因此如果您在指令范围内更改变量，控制器范围变量也会受到影响

**&**用于绑定控制器范围方法，以便如果需要我们可以从指令中调用它

这里的优点是变量的名称在控制器范围和指令范围内不必相同。

例如，指令范围有一个变量“dirVar”，它与控制器范围的变量“contVar”同步。这为指令提供了很大的功能和泛化性，因为一个控制器可以与变量 v1 同步，而另一个使用相同指令的控制器可以要求 dirVar 与变量 v2 同步。

下面是使用示例：

指令和控制器是：

```
 var app = angular.module("app", []);
 app.controller("MainCtrl", function( $scope ){
    $scope.name = "Harry";
    $scope.color = "#333333";
    $scope.reverseName = function(){
     $scope.name = $scope.name.split("").reverse().join("");
    };
    $scope.randomColor = function(){
        $scope.color = '#'+Math.floor(Math.random()*16777215).toString(16);
    };
});
app.directive("myDirective", function(){
    return {
        restrict: "EA",
        scope: {
            name: "@",
            color: "=",
            reverse: "&"
        },
        link: function(element, scope, attrs){
           //do something like
           $scope.reverse(); 
          //calling the controllers function
        }
    };
}); 
```

和 html（注意 @ 和 = 的区别）：

```
<div my-directive
  class="directive"
  name="{{name}}"
  reverse="reverseName()"
  color="color" >
</div> 
```

这是一个很好地描述它的博客的[链接。](http://www.undefinednull.com/2014/02/11/mastering-the-scope-of-a-directive-in-angularjs/)

* * *

## 回答 #7

> 赞同：20
> 
> 时间：2016-08-29T10:44:27.550

我们可以简单地使用：-

1.  **@** :- 用于单向数据绑定的字符串值。以一种方式数据绑定，您只能将范围值传递给指令

2.  **=** :- 用于两种方式数据绑定的对象值。以两种方式数据绑定，您可以更改指令中的范围值以及 html 中的值。

3.  **&** :- 用于方法和函数。

## 编辑

在我们的**Angular 1.5**及以上版本的**组件**定义中， 有四种不同类型的绑定：

 **1.  `=` **双向数据绑定**：-如果我们更改值，它会自动更新
2.  `<` **一种方式绑定**：- 当我们只想从父作用域读取参数而不更新它时。

3.  `@`这是**字符串参数**

4.  `&`这是用于**回调**，以防您的组件需要将某些内容输出到其父范围

* * *

## 回答 #8

> 赞同：14
> 
> 时间：2015-12-17T14:26:57.937

我创建了一个包含 Angular 代码的小 HTML 文件，展示了它们之间的差异：

```
<!DOCTYPE html>
<html>
  <head>
    <title>Angular</title>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js"></script>
  </head>
  <body ng-app="myApp">
    <div ng-controller="myCtrl as VM">
      <a my-dir
        attr1="VM.sayHi('Juan')" <!-- scope: "=" -->
        attr2="VM.sayHi('Juan')" <!-- scope: "@" -->
        attr3="VM.sayHi('Juan')" <!-- scope: "&" -->
      ></a>
    </div>
    <script>
    angular.module("myApp", [])
    .controller("myCtrl", [function(){
      var vm = this;
      vm.sayHi = function(name){
        return ("Hey there, " + name);
      }
    }])
    .directive("myDir", [function(){
      return {
        scope: {
          attr1: "=",
          attr2: "@",
          attr3: "&"
        },
        link: function(scope){
          console.log(scope.attr1);   // =, logs "Hey there, Juan"
          console.log(scope.attr2);   // @, logs "VM.sayHi('Juan')"
          console.log(scope.attr3);   // &, logs "function (a){return h(c,a)}"
          console.log(scope.attr3()); // &, logs "Hey there, Juan"
        }
      }
    }]);
    </script>
  </body>
</html> 
```

* * *

## 回答 #9

> 赞同：9
> 
> 时间：2019-02-13T14:08:17.957

这个问题已经被打死了，但无论如何我都会分享这个问题，以防其他人正在为 AngularJS 范围的可怕混乱而苦苦挣扎。这将涵盖`=`、`<`、`@`和`&`。`::`完整的文章可以在[这里](https://github.com/m-kostira/angularjs-notes/wiki/Scopes)找到。

* * *

`=`建立双向绑定。更改父项中的属性将导致子项发生更改，反之亦然。

* * *

`<`建立一个单向绑定，父母对孩子。更改父属性中的属性会导致子属性发生更改，但更改子属性不会影响父属性。

* * *

`@`将为子属性分配标签属性的字符串值。如果该属性包含一个[表达式](https://docs.angularjs.org/guide/expression)，则只要该表达式的计算结果为不同的字符串，子属性就会更新。例如：

```
<child-component description="The movie title is {{$ctrl.movie.title}}" /> 
```

```
bindings: {
    description: '@', 
} 
```

在这里，`description`子作用域中的属性将是表达式的当前值`"The movie title is {{$ctrl.movie.title}}"`，其中`movie`是父作用域中的一个对象。

* * *

`&`有点棘手，实际上似乎没有令人信服的理由来使用它。它允许您在父范围内评估表达式，用子范围中的变量替换参数。一个例子（[plunk](https://plnkr.co/edit/7wrbciuCAVumF6YUgeef?p=preview)）：

```
<child-component 
  foo = "myVar + $ctrl.parentVar + myOtherVar"
</child-component> 
```

```
angular.module('heroApp').component('childComponent', {
  template: "<div>{{  $ctrl.parentFoo({myVar:5, myOtherVar:'xyz'})  }}</div>",
  bindings: {
    parentFoo: '&foo'
  }
}); 
```

给定`parentVar=10`，表达式`parentFoo({myVar:5, myOtherVar:'xyz'})`将计算为`5 + 10 + 'xyz'`并且组件将呈现为：

```
<div>15xyz</div> 
```

你什么时候想使用这个复杂的功能？`&`人们经常使用它来将父作用域中的回调函数传递给子作用域。然而实际上，使用'<'来传递函数也可以达到同样的效果，这样更直接，并且避免了笨拙的花括号语法来传递参数（`{myVar:5, myOtherVar:'xyz'}`）。考虑：

回调使用`&`：

```
<child-component parent-foo="$ctrl.foo(bar)"/> 
```

```
angular.module('heroApp').component('childComponent', {
  template: '<button ng-click="$ctrl.parentFoo({bar:'xyz'})">Call foo in parent</button>',
  bindings: {
    parentFoo: '&'
  }
}); 
```

回调使用`<`：

```
<child-component parent-foo="$ctrl.foo"/> 
```

```
angular.module('heroApp').component('childComponent', {
  template: '<button ng-click="$ctrl.parentFoo('xyz')">Call foo in parent</button>',
  bindings: {
    parentFoo: '<'
  }
}); 
```

* * *

**请注意，对象（和数组）是通过引用传递给子作用域的，而不是复制的。**这意味着即使它是单向绑定，您也在父范围和子范围中使用相同的对象。

* * *

要查看不同的前缀，请打开此[plunk](https://plnkr.co/edit/w0nVkNRABvsWLnMbt17U?p=preview)。

一次性绑定（初始化）使用`::`

[[官方文档]](https://docs.angularjs.org/guide/expression#one-time-binding)
AngularJS 的更高版本引入了具有一次性绑定的选项，其中子范围属性仅更新一次。这通过消除查看父属性的需要来提高性能。语法与上面不同；要声明一次性绑定，请在**组件标记**`::`中的表达式前面添加：

 **```
<child-component 
  tagline = "::$ctrl.tagline">
</child-component> 
```

这会将 的值传播`tagline`到子范围，而无需建立单向或双向绑定。**注意**：如果`tagline`最初`undefined`是在父范围内，Angular 会一直观察到它发生变化，然后对子范围内的相应属性进行一次更新。

### 概括

下表显示了前缀如何根据属性是对象、数组、字符串等来工作。

![各种隔离范围绑定如何工作](../Images/f185b3cd1784350ac6558f1badd82f7c.png)

* * *

## 回答 #10

> 赞同：6
> 
> 时间：2016-05-10T23:03:06.397

**=**方式是**2-way binding**，它允许您在指令中进行实时**更改**。当有人从指令中更改该变量时，您将在指令中拥有更改后的数据，但**@way**不是**双向绑定**。它像**Text**一样工作。你绑定一次，你将只有它的价值。

为了更清楚地了解它，您可以使用这篇很棒的文章：

[AngularJS 指令范围“@”和“=”](http://www.w3docs.com/snippets/angularjs/angularjs-directive-isolated-scopes.html)

* * *

## 回答 #11

> 赞同：4
> 
> 时间：2016-02-05T13:12:00.427

**@local**范围属性用于访问在指令之外定义的字符串值。

**=**如果您需要在外部范围和指令的隔离范围之间创建双向绑定，您可以使用 = 字符。

**&**局部范围属性允许指令的使用者传入指令可以调用的函数。

请检查下面的链接，它可以通过示例让您清楚地理解。我发现它非常有用，所以想分享它。

[http://weblogs.asp.net/dwahlin/creating-custom-angularjs-directives-part-2-isolate-scope](http://weblogs.asp.net/dwahlin/creating-custom-angularjs-directives-part-2-isolate-scope)

* * *

## 回答 #12

> 赞同：3
> 
> 时间：2014-07-11T08:32:25.483

即使范围是本地的，例如您的示例，您也可以通过 property 访问父范围`$parent`。假设在下面的代码中，它`title`是在父作用域上定义的。然后您可以访问标题为`$parent.title`：

```
link : function(scope) { console.log(scope.$parent.title) },
template : "the parent has the title {{$parent.title}}" 
```

然而，在大多数情况下，使用属性可以更好地获得相同的效果。

我发现“&”符号的一个例子，它用于“通过表达式从隔离范围传递数据到父范围”，有用（并且不能使用双向数据绑定）在指令中用于在 ng-repeat 中呈现特殊的数据结构。

```
<render data = "record" deleteFunction = "dataList.splice($index,1)" ng-repeat = "record in dataList" > </render> 
```

渲染的一部分是一个删除按钮，在这里通过 & 从外部范围附加一个删除函数很有用。在渲染指令内部看起来像

```
scope : { data = "=", deleteFunction = "&"},
template : "... <button ng-click = "deleteFunction()"></button>" 
```

2-way databinding ie`data = "="`不能使用，因为删除函数会在每个`$digest`循环中运行，这是不好的，因为记录会立即被删除并且永远不会呈现。

* * *

## 回答 #13

> 赞同：3
> 
> 时间：2018-05-31T09:51:56.857

它们之间的主要区别只是

```
@ Attribute string binding
= Two-way model binding
& Callback method binding 
```

* * *

## 回答 #14

> 赞同：3
> 
> 时间：2015-12-20T06:15:56.773

我在小提琴中实现了所有可能的选项。

它处理所有选项：

```
scope:{
    name:'&'
},

scope:{
    name:'='
},

scope:{
    name:'@'
},

scope:{

},

scope:true, 
```

[https://jsfiddle.net/rishulmatta/v7xf2ujm](https://jsfiddle.net/rishulmatta/v7xf2ujm)

* * *

## 回答 #15

> 赞同：1
> 
> 时间：2016-10-20T16:13:48.577

`@`并`=`查看其他答案。

关于TL 的一个**问题****；DR；**从父级获取**表达式**（不仅像其他答案中的示例中的函数），并将其设置为指令中的函数，该函数调用表达式。并且此函数能够通过传递带有变量的对象 来**替换表达式的任何变量（甚至函数名）。****`&`**
 **`&`**

 ********解释**
`&`是一个表达式引用，这意味着如果你 `<myDirective expr="x==y"></myDirective>`
在指令中传递类似的东西，这`expr`将是一个调用表达式的函数，比如：
`function expr(){return x == y}`。
所以在指令的 html 中`<button ng-click="expr()"></button>`会调用表达式。在指令的 js 中也`$scope.expr()`只会调用表达式。
该表达式将使用父级的 $scope.x 和 $scope.y 调用。
您可以覆盖参数！
如果您通过调用设置它们，例如，`<button ng-click="expr({x:5})"></button>`
则表达式将使用您的参数`x`和父参数调用`y`。
您可以覆盖两者。
现在你知道了，为什么`<button ng-click="functionFromParent({x:5})"></button>`有效。
因为它只是调用 parent 的表达式（例如`<myDirective functionFromParent="function1(x)"></myDirective>`) 并用您指定的参数替换可能的值，在本例中为`x`.
它可能是：
`<myDirective functionFromParent="function1(x) + 5"></myDirective>`
或
`<myDirective functionFromParent="function1(x) + z"></myDirective>`
与孩子通话：
`<button ng-click="functionFromParent({x:5, z: 4})"></button>`。
甚至可以进行功能替换：
`<button ng-click="functionFromParent({function1: myfn, x:5, z: 4})"></button>`.

它只是一个表达式，不管它是一个函数，还是许多函数，或者只是比较。您可以替换此表达式的**任何**变量。

**示例：**
**指令模板与被调用代码：**
*父已定义 $scope.x、$scope.y：*
父模板：`<myDirective expr="x==y"></myDirective>`
`<button ng-click="expr()"></button>`调用`$scope.x==$scope.y`
`<button ng-click="expr({x: 5})"></button>`调用`5 == $scope.y`
`<button ng-click="expr({x:5, y:6})"></button>`调用`5 == 6`

*parent 定义了 $scope.function1, $scope.x, $scope.y:*
父模板：`<myDirective expr="function1(x) + y"></myDirective>`

`<button ng-click="expr()"></button>`调用`$scope.function1($scope.x) + $scope.y`
`<button ng-click="expr({x: 5})"></button>`调用`$scope.function1(5) + $scope.y`
`<button ng-click="expr({x:5, y:6})"></button>`调用`$scope.function1(5) + 6`
*指令具有 $scope.myFn 作为函数：*
`<button ng-click="expr({function1: myFn, x:5, y:6})"></button>`调用`$scope.myFn(5) + 6`

* * *

## 回答 #16

> 赞同：0
> 
> 时间：2017-06-28T07:42:41.807

> 为什么我必须用“{{title}}”和“@”和“title”和“=”？

当您使用 {{title}} 时，只有父范围值将传递给指令视图并进行评估。这仅限于一种方式，这意味着更改不会反映在父范围中。当您想将子指令中所做的更改也反映到父范围时，您可以使用“=”。这是两种方式。

> 我也可以直接访问父范围，而不用属性装饰我的元素吗？

当指令中包含范围属性（范围：{}）时，您将不再能够直接访问父范围。但仍然可以通过 scope.$parent 等方式访问它。如果从指令中删除范围，则可以直接访问它。

> 文档说“通常希望通过表达式将数据从隔离范围传递到父范围”，但这似乎也适用于双向绑定。为什么表达路线会更好？

这取决于上下文。如果你想用数据调用表达式或函数，你使用 & 如果你想共享数据，你可以使用双向方式使用 '='

您可以在以下链接中找到将数据传递给指令的多种方式之间的区别：

[**AngularJS – 隔离作用域 – @ vs = vs &**](http://www.codeforeach.com/angularjs/angularjs-isolated-scopes-vs-vs)

[http://www.codeforeach.com/angularjs/angularjs-isolated-scopes-vs-vs](http://www.codeforeach.com/angularjs/angularjs-isolated-scopes-vs-vs)

* * *

## 回答 #17

> 赞同：0
> 
> 时间：2018-06-18T06:36:16.983

@ 将本地/指令范围属性绑定到 DOM 属性的评估值。= 将本地/指令范围属性绑定到父范围属性。& 绑定用于将方法传递到指令的范围内，以便可以在指令中调用它。

@属性字符串绑定=双向模型绑定&回调方法绑定

* * *

## 回答 #18

> 赞同：0
> 
> 时间：2017-11-13T05:39:41.247

@属性字符串绑定（单向）=双向模型绑定&回调方法绑定**********

# c# - 在引发 onClick 事件之前，如何使用图像按钮在 ASP.NET 中验证表单？

> ID：14050201
> 
> 赞同：0
> 
> 时间：2012-12-27T06:11:11.127
> 
> 标签：c#, asp.net

这可能是一个愚蠢的问题，但我是这里的初学者..

我在 asp.net 中创建了一个表单，它的所有字段都在单击图像按钮时使用验证控件进行验证。它工作正常。之后我向按钮添加了一个事件。这是该按钮的代码。

```
<asp:ImageButton ID="Submit" runat="server" OnClick="submit_Clicked" ValidationGroup="AddSchoolValidationGroup" CausesValidation="true" ImageUrl="~/Styles/images/submit-btn.png" OnClientClick="submitClicked" /> 
```

该事件的目的是将表单中的所有值提交到数据库。我的问题是，在将 onClick 事件添加到按钮后，验证尚未发生。我希望这些 onClick 事件仅在表单被验证时引发成功。任何人都可以指导我..在此先感谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-27T06:48:57.293

确保您对所有验证控件使用相同的验证组。此外，您可以使用`OnClientClick`事件来调用验证。

```
<asp:ImageButton ID="Submit" runat="server" OnClick="submit_Clicked" ValidationGroup="AddSchoolValidationGroup" CausesValidation="true" ImageUrl="~/Styles/images/submit-btn.png"  OnClientClick="return Page_ClientValidate('AddSchoolValidationGroup');"  /> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-27T06:24:20.163

你可以使用javascript函数

```
 function validateForm() {
        if (document.getElementById('txtName').value == '') 
         { 
             ValidatorEnable(document.getElementById("rfvName"), true) // rfvName is id of validator
               return false; }
    } 
```

并在客户端单击图像按钮时调用该函数

```
 <asp:ImageButton ID="Submit" runat="server" OnClientClick="validateForm();" OnClick="submit_Clicked" ValidationGroup="AddSchoolValidationGroup" CausesValidation="true" ImageUrl="~/Styles/images/submit-btn.png" /> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-27T06:28:03.707

您需要在提交之前验证页面。请为按钮添加属性。

```
protected void Page_Load(object sender, EventArgs e)
{
   Submit.Attributes.Add("onclick", "javascript:if(Page_ClientValidate('AddSchoolValidationGroup')){return true;}else{return false;}");
} 
```

由于您在 onclient click 中有一个方法“submitClicked”，您可以在 Page_ClientValidate 中调用相同的方法并删除现有的“OnClientClick”属性。

```
protected void Page_Load(object sender, EventArgs e)
{
   Submit.Attributes.Add("onclick", "javascript:if(Page_ClientValidate('AddSchoolValidationGroup')){submitClicked(); return true;}else{return false;}");
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-27T06:16:47.263

替换`OnClientClick="submitClicked"`为**`OnClientClick="return submitClicked();"`**

```
function submitClicked()
{
    if (document.getElementById('txtname') != '') {
        return true;
    }
    else {
        alert('Please Enter Name');
        return false;
    }
} 
```

因此，在验证所有验证之前，不会调用服务器端事件。

# c++ - 没有在类“TestSub”中声明的“void TestSub::print()”成员函数

> ID：14050212
> 
> 赞同：1
> 
> 时间：2012-12-27T06:12:06.517
> 
> 标签：c++

父类

```
class Test {
public:
    Test(){};
    virtual ~Test(){};
    void print() {  cout<<1<<endl;};
}; 
```

子类 .h 定义

```
class TestSub: public Test {
public:
    TestSub();
    virtual ~TestSub();
 }; 
```

子类 .cpp 实现

```
#include "TestSub.h"

TestSub::TestSub() {

}

TestSub::~TestSub() {
}

void TestSub::print(){
    cout<<2<<endl;
}

int main(){
    TestSub *t=new TestSub();
    t->print();
} 
```

为什么：

..\src\TestSub.cpp:17:21：错误：没有在类“TestSub”中声明的“void TestSub::print()”成员函数

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-27T06:27:38.123

print() funciton is not declared in TestSub class.

```
class TestSub: public Test {
public:
    TestSub();
    void print();        // add declaration.
    virtual ~TestSub();
 }; 
```

I guess you also intended to make `Test::print` virtual?

```
class Test {
public:
    Test(){}
    virtual ~Test(){}
    virtual void print() {  std::cout << 1 << std::endl;} 
}; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-27T06:16:23.440

您有 2 个错误：

*   首先，您必须将您的功能声明`TestSub`为：`void print();`

*   其次，你必须为你的实现指定一个返回类型，C++ 不接受默认返回类型`C`，所以你必须将你的实现转换为`void TestSub::print() {...}`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-27T06:13:58.023

如果不指定返回类型，C 默认将 int 作为函数的返回类型。与类中声明的 void 返回类型不匹配。

# javascript - BlackBerry-10 Webworks Javascript 错误

> ID：14050213
> 
> 赞同：0
> 
> 时间：2012-12-27T06:12:06.227
> 
> 标签：javascript, html, blackberry-webworks, blackberry-10, ripple

我正在使用 webworks 框架为**blackberry 10 os开发一个应用程序。当我在****bb10 dev alpha 设备**中运行以下代码时，我得到一个控制台日志，显示找不到恢复变量。我的 html 文件包含一个 bbui 按钮和 onclick**函数调用恢复**。javascript代码发布在下面..

```
 var text="FN: Mohammed;Shinoys\n";
        var a=new Array();

        a=["N","FN","NICKNAME","TEL;CELL",
           "TEL;TYPE=CELL","TEL;HOME","TEL;TYPE=HOME",
            "EMAIL;HOME","EMAIL;TYPE=HOME","EMAIL;WORK",
            "EMAIL;TYPE=WORK","ADR;HOME","ADR;TYPE=HOME",
            "LABEL;HOME","LABEL;TYPE=HOME","ADR;WORK",
            "ADR;TYPE=WORK","LABEL;WORK","LABEL;TYPE=WORK","NOTE","ORG","TITLE"];

        function restore()
        {
         var contacts = blackberry.pim.contacts;
        var contactAddress = contacts.ContactAddress;
        var contactField = contacts.ContactField;
        var name = new Object();
        var ename;
        var bb= new Object();
        var tt= new Object();
        var textarray=new Array();
        var arr=new Array();
        var s=new Array();
        var str,check,string;
        var textarray2=new Array();
        var newcontact = new Object();
        console.log("entered function");
        newcontact=contacts.create({name:{givenName:"Hello",familyName:"World"}});
        console.log("NEWCONTACT: " + newcontact.ContactName.givenName);

        for(var k=0;k<a.length;k++)
        {
            str=a[k];
            check=text.match(RegExp("^"+str+":","i"));
            if(check===null)
            continue;
        //alert(check);
            console.log(str);
            string=text.replace(RegExp("^"+str+":","i"),"");
            console.log("string"+string);

            switch(k)
            {case 0 : 
                        arr=string.split(";");
                        console.log("name "+arr);
                        newcontact.ContactName.familyName=arr[0];
                        newcontact.ContactName.givenName=arr[1];
                        break;
             case 1 :   console.log("ASDADAD");
                        newcontact.ContactName.formatted=string;
                        console.log("FULL name "+arr);
                        ename=string;
                        break;
             case 2 : newcontact.ContactName.phoneticGivenName=string;
                        break;
             case 3 : 
                        case 4 : tt={type:contactField.MOBILE,value:string};
                        newcontact.phoneNumbers[newcontact.phoneNumbers.length]=tt;
                        break;
              case 5 :
              case 6 : tt={type:contactField.HOME,value:string};
                        newcontact.phoneNumbers[newcontact.phoneNumbers.length]=tt;
                        break;
              case 7 : 
              case 8 :  tt={type:contactField.HOME,value:string};
                        newcontact.emails[newcontact.emails.length]=tt;
                        break;
              case 9 : 
              case 10 : tt={type:contactField.WORK , value:string};
                        newcontact.emails[newcontact.emails.length]=tt;
                        break;
              case 11 : 
              case 12 : s=string.split(";");
                        bb={type:contactAddress.HOME,streetAddress:s[2],locality:s[3],region:s[4],postalCode:s[5],country:s[6]};
                        newcontact.addresses[newcontact.addresses.length]=bb;
                        break;
              case 13 : 
              case 14 : if(newcontact.addresses[0].type===contactAddress.HOME)
                        newcontact.addresses[0].formatted=string;
                        if(newcontact.addresses[1].type===contactAddress.HOME)
                        newcontact.addresses[1].formatted=string;
                        break;
              case 15 : 
              case 16 : s=string.split(";");
                        bb={type:contactAddress.HOME,streetAddress:s[2],locality:s[3],region:s[4],postalCode:s[5],country:s[6]};
                        newcontact.addresses[newcontact.addresses.length]=bb;
                        break;
              case 17 : 
              case 18 :if(newcontact.addresses[0].type===contactAddress.WORK)
                        newcontact.addresses[0].formatted=string;
                        if(newcontact.addresses[1].type===contactAddress.WORK)
                        newcontact.addresses[1].formatted=string;
                        break;
              case 19 :newcontact.note=string;
                        break;
              case 20 :newcontact.organizations[0]={name:string};
                        str=a[k+1];
                        check=text.match(RegExp("^"+str,"i"));
                        if(check!==null)
                        {string=text.replace("^"+str+":","");
                        newcontact.organizations[0]={title:string};
                        }
                        break;
            }

        } 
           newcontact.save(onSaveSuccess,onSaveError);
        }

        function onSaveSuccess(contact) {
           alert("Contact saved: " + contact.name.givenName);
        }
        function onSaveError(error) {
           alert("Contact : save failed: " + error.code);
        } 
```

任何帮助表示赞赏。问候 shinoys222

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-14T15:36:58.690

从问题描述来看，如果页面找不到恢复功能，则说明这段 JavaScript 代码没有正确加载。建议您检查以确保您从屏幕上正确引用了 JS 文件，如下所示：

```
<div data-bb-type="screen" data-bb-indicator="true">
    <script id="myJS" src="js/my.js"></script>

</div> 
```

# magento - 在 magento 中，通过 REST url 检索单个产品的详细信息

> ID：14050229
> 
> 赞同：1
> 
> 时间：2012-12-27T06:13:33.233
> 
> 标签：magento, magento-1.7, magento-1.4, magento-1.5, magento-1.6

由于我是 magento 新手，我已将 magento 示例数据下载到 mysql 数据库。在浏览器中，如果我给出这样的 REST URL：http: *//192.168.1.101* :8010/magento/api/rest /products 它会返回 XML 格式的产品列表。但我想要单个产品的详细信息。那我该怎么办？？

*http://192.168.1.101:8010/magento/api/rest/products*是我从 magento 网站获得的网址。但他们没有提供产品详细信息。

我需要为我的要求写任何代码吗？

对于*http://192.168.1.101:8010/magento/api/rest/customers*它显示访问被拒绝...我怎样才能解决这个问题..

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-27T07:31:31.440

请彻底了解magento的wiki，它可能会对您有所帮助。[这](http://www.magentocommerce.com/api/rest/introduction.html)是链接。

对于单个产品，您的 REST 请求将如下所示 `magentohost/api/rest/products/8` ，其中 8 是产品的 ID。

对于第二个问题，即“访问被拒绝”是由于权限，您已经为管理员或客户创建了消费者以获取该资源。请[在这里查看](https://stackoverflow.com/questions/13857981/error-while-using-rest-api-in-magento/13858760#13858760)

# php - PHP 函数 ssh2_connect 不起作用

> ID：14050231
> 
> 赞同：45
> 
> 时间：2012-12-27T06:13:35.843
> 
> 标签：php, ssh

以下是我的脚本：

```
 <?php
    $connection = ssh2_connect('XX.XX.XX.XX', 22);
    ssh2_auth_password($connection, 'root', '******');

    $stream = ssh2_exec($connection, 'useradd -d /home/users/test -m testftp');
    $stream = ssh2_exec($connection, 'passwd testftp');
    $stream = ssh2_exec($connection, 'password');
    $stream = ssh2_exec($connection, 'password');
    ?> 
```

它显示以下错误：

```
Fatal error: Call to undefined function ssh2_connect() in /home/chaosnz/public_html/fotosnap.net/test.php on line 2 
```

我该如何处理？

谢谢

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2012-12-27T06:41:04.330

我已经安装了 SSH2 PECL 扩展并且它工作正常感谢大家的帮助...

* * *

## 回答 #2

> 赞同：26
> 
> 时间：2013-01-02T21:01:57.660

老实说，我建议使用 phpseclib，一个[纯 PHP SSH2 实现](http://phpseclib.sourceforge.net/)。例子：

```
<?php
include('Net/SSH2.php');

$ssh = new Net_SSH2('www.domain.tld');
if (!$ssh->login('username', 'password')) {
    exit('Login Failed');
}

echo $ssh->exec('pwd');
echo $ssh->exec('ls -la');
?> 
```

它更便携，更易于使用并且功能也更多。

* * *

## 回答 #3

> 赞同：16
> 
> 时间：2018-04-09T13:27:05.287

我已经在 ubuntu 16.4 PHP 7.0.27-0+deb9u 和 nginx 上解决了这个问题

```
sudo apt install php-ssh2 
```

* * *

## 回答 #4

> 赞同：13
> 
> 时间：2015-05-06T13:41:55.990

您需要安装[ssh2 库](http://php.net/manual/en/ssh2.installation.php)

`sudo apt-get install libssh2-php && sudo /etc/init.d/apache2 restart`

这应该足以让你上路

* * *

## 回答 #5

> 赞同：8
> 
> 时间：2015-10-07T17:05:53.537

如果您在 OSX 上运行 bomebrew，我使用以下命令安装它：

```
brew install php56-ssh2 
```

这对我有用。我把它从[这里](https://stackoverflow.com/questions/14050231/php-function-ssh2-connect-is-not-working)拉了出来。还应该有使用 mac 端口的 Ubuntu 和 OSX。

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2013-10-31T13:37:32.643

我正在运行 CentOS 5.6 作为我的开发环境，以下对我有用。

```
su -
pecl install ssh2
echo "extension=ssh2.so" > /etc/php.d/ssh2.ini

/etc/init.d/httpd restart 
```

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2017-04-26T03:57:23.203

要扩展@neubert 的答案，如果您使用的是 Laravel 5 或类似版本，则可以像这样更简单地使用 phpseclib：

跑`composer require phpseclib/phpseclib ~2.0`

在您的控制器中添加

`use phpseclib\Net\SSH2;`

然后在控制器方法中使用它，例如：

```
 $host = config('ssh.host');
 $username = config('ssh.username');
 $password = config('ssh.password'); 
 $command = 'php version';

 $ssh = new SSH2($host);
    if (!$ssh->login($username, $password)) {
        $output ='Login Failed';
    }
    else{
        $output = $ssh->exec($command);
 } 
```

* * *

## 回答 #8

> 赞同：2
> 
> 时间：2021-10-06T14:39:13.753

今天`pecl install ssh2`需要旧版本的 php (<=6.0)。在这里[https://pecl.php.net/package/ssh2](https://pecl.php.net/package/ssh2)你可以看到支持 php7 和 php8 的 ssh2 的最新 beta 版本。所以你应该安装其中之一：

```
pecl install ssh2-1.3.1 
```

** 不要忘记`ssh2.so`在你的 php.ini 文件中启用这个扩展。*

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2020-11-30T09:03:44.567

**WHM面板**

菜单 > 服务器配置 > 终端：

```
yum install libssh2-devel -y 
```

菜单 > 软件 > 模块安装程序

1.  PHP PECL 管理点击
2.  ssh2 立即安装 点击

菜单 > 重启服务 > HTTP 服务器 (Apache)

您确定要重新启动此服务吗？

是的

**ssh2_connect() 工作！**

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2022-02-25T12:15:36.453

我知道有答案，但我只是在这里简化答案。

我有同样的问题，我在 ubuntu 20 中使用以下解决方案修复了它：

```
sudo apt-get install libssh2-1 php7.1-ssh2 -y 
```

您可以根据需要更改 php 版本，例如：`php7.4-ssh2`

参考：[https ://blog.programster.org/ubuntu-16-04-install-php-ssh2-extension](https://blog.programster.org/ubuntu-16-04-install-php-ssh2-extension)

# azure - 天蓝色的物理目录和重定向

> ID：14050234
> 
> 赞同：0
> 
> 时间：2012-12-27T06:13:54.597
> 
> 标签：azure

我的 .csdef 文件：

```
<?xml version="1.0" encoding="utf-8"?>
<ServiceDefinition name="SimpleAzure1.Azure" xmlns="http://schemas.microsoft.com/ServiceHosting/2008/10/ServiceDefinition" schemaVersion="2012-10.1.8">
  <WebRole name="SimpleAzure1" vmsize="Small">
    <Sites>
      <Site name="Web2" physicalDirectory="../../../SimpleAzure1/">

        <Bindings>
          <Binding name="Endpoint2" endpointName="Endpoint2" hostHeader="SimpleAzure1.cloudapp.net" />

        </Bindings>
      </Site>
    </Sites>
    <Endpoints>
      <InputEndpoint name="Endpoint2" protocol="http" port="80"></InputEndpoint>
    </Endpoints>
    <Imports>
      <Import moduleName="Diagnostics" />
    </Imports>
  </WebRole>
</ServiceDefinition> 
```

我的项目结构是：

![结构](../Images/3761088bc8f662070cc46cb9970eccff.png)

我定义`physicalDirectory="../../../SimpleAzure1/"`了，`.csdef` 但是当我创建一个包并在 azure physicalDirectory 中部署时， `default.aspx`页面没有加载。它从`asp.net wepappliaction`.当我`physicalDirectory`在`.csdef`文件中定义为什么`asp.net wepappliaction`页面加载时加载页面。我错过了一些东西。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-28T02:56:27.637

同意 knightpfhor - 如果您只有一个站点，请删除物理目录和主机头。

如果您在角色中使用多个站点，则部署从 SDK 1.7 更改为 1.8：

> physicalDirectory 属性路径相对于打包时目标服务定义文件所在的目录。在以前的版本中，此文件位于根项目目录中。在此版本中，默认情况下，此文件位于项目输出目录中。您可能需要更新相对路径以反映目标服务定义文件的新位置。

要查看文件的实际位置，请在实例中启用远程访问和 RDP。检查 IIS 中指定的物理目录，然后确认路径存在并引用已安装的网站，通常是 E:\sitesroot\0 或 F:\sitesroot\0

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-27T17:20:19.610

如果您的 Web 角色中只有一个站点，则无需指定物理目录或主机标头。我怀疑构建器采取了一些捷径。尝试从角色中删除站点并再次添加它，这次保留默认值。

# java - 初学者 Java 字符串

> ID：14050241
> 
> 赞同：-2
> 
> 时间：2012-12-27T06:14:35.853
> 
> 标签：java, string

> **可能重复：**
> [如何比较 Java 中的字符串？](https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java)

所以，我有一个关于测试运算符和字符串的问题。我正在尝试编写一个程序，该程序将接受“男孩”或“女孩”的用户输入。当用户输入“男孩”时，输出应该是“你是男孩”。当用户输入“女孩”时，输出应该是“你是女孩”。

但是，当我编译运行程序时，无论我输入什么，输出总是“你是个女孩”。

这是因为字符串没有像整数这样的实际值，因此不能使用测试运算符来比较它们吗？

另外，在java中有没有类似python中的assert函数的东西？

```
import java.util.Scanner;

class apples{
    public static void main(String args[]){
        System.out.println("Are you a boy or a girl?");
        Scanner lalala = new Scanner(System.in);
        String text = lalala.nextLine();

        if (text == "boy"){
            System.out.println("You are a boy.");
        }
        else{
            System.out.println("You are a girl.");
        }

    }
} 
```

非常感谢~

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-12-27T06:16:44.610

利用

```
text.equals("boy") 
```

代替

```
 if (text == "boy") 
```

原因是，在 Java 中， == 总是只比较两个引用（即对于非原始对象）——即它测试两个操作数是否引用同一个对象。

然而，equals 方法可以被覆盖——所以两个不同的对象仍然可以相等。

但更好的选择是使用*equalsIgnoreCase*，原因是用户可以输入 boy 或 BOY 或 Boy 或任何其他组合。*equalsIgnoreCase*方法只是忽略大小写并比较两个字符串。

```
text.equalsIgnoreCase("boy") 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-27T06:15:48.447

利用`text.equalsIgnoreCase("boy")`

如果您考虑大小写，它也会检查字符串的内容是否相同。

== 用于检查对象是否相等。

如果您不考虑大小写，则 text.equals("boy") 可以。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-12-27T06:22:15.360

边注。男孩以外的输入将使您打印女孩。再多放一个 if 条件。同样在进行比较之前，在更安全的一侧修剪字符串中的空格。

利用

```
 text.equals("boy") 
```

或者

```
 text.equalIgnoreCase("boy") 
```

如果它不区分大小写。

代替

```
if (text == "boy") 
```

你的代码将是这样的

```
 import java.util.Scanner;

class apples{
public static void main(String args[]){
    System.out.println("Are you a boy or a girl?");
    Scanner lalala = new Scanner(System.in);
    String text = lalala.nextLine();
    text = text.trim();
    if (text.equalIgnoreCase("Boy")){
        System.out.println("You are a boy.");
    }
    else if(text.equalIgnoreCase("Girl")){
        System.out.println("You are a girl.");
    } else {
        System.out.println("Invalid Gender");
    }
 }
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-12-27T06:16:25.627

请使用`equals`以下字符串的方法：`if (text.equals("boy")){`

`==`不适用于 java 中的字符串内容相等性检查

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-12-27T06:17:03.453

== 测试对象标识是否相同。当您有两个包含相同值的字符串对象时，此对象标识将不相等。使用 equals 函数来测试逻辑等价。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-12-27T06:28:29.760

你`if` `else`错了。仅`if`在此处使用。否则，

如果我输入`"some text"`，输出将是`"You are a girl"`

像这样

```
 if (text.equalsIgnoreCase("boy")) {
        System.out.println("You are a boy.");
    }
    else if (text.equalsIgnoreCase("girl")) {
        System.out.println("You are a girl.");
    } else {
        System.out.println("You are neither a boy nor a girl");
    } 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-12-27T06:29:39.837

最好使用 .equals 方法而不是 == boy

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2012-12-27T06:31:27.077

对于您关于断言的其他问题：Java 有一个断言函数。这是示例代码。

```
 assert(x <= 50):      "Not Accepted"; 
```

此代码检查整数 x 是否大于 50。您将在控制台看到输出。

# windows-8 - 我们可以在 windows phone 8 中使用 windows 8 商店应用程序吗？

> ID：14050243
> 
> 赞同：2
> 
> 时间：2012-12-27T06:14:48.347
> 
> 标签：windows-8, windows-phone-8

我已经使用 XAML 和 c# 开发了 windows 8 商店应用程序，所以我可以在 windows phone 8 中使用相同的应用程序吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-27T06:36:58.193

不，不是直接的。Windows 8 和 Windows Phone 8 共享一些底层 WinRT 层，但它们不可互换。有一些方法可以最大限度地重用您的资产 -[可移植类库](http://msdn.microsoft.com/en-us/library/vstudio/gg597391%28v=vs.100%29.aspx)是实现这一目标的主要机制 - 但在进程生命周期、存储选项、通知、XAML 标记等方面存在差异。当然，设备形式因素也不同，因此，即使您的所有代码都是 100% 可重用的，您也可能想要修改 UI。

[Windows Phone 和 Windows 8 一起构建](https://dev.windowsphone.com/en-us/featured/Windows-Phone-8-and-Windows-8-app-development)在 Windows Phone 开发中心是了解平台差异以及如何最好地利用当前代码投资的好地方。此外，请查看BUILD 2012中[的如何在 WP8 和 Windows 8 中利用您的代码。](http://channel9.msdn.com/Events/Build/2012/3-043)

# algorithm - 需要帮助通过动态规划制作团队阵容

> ID：14050246
> 
> 赞同：0
> 
> 时间：2012-12-27T06:14:57.747
> 
> 标签：algorithm, dynamic-programming

想象一下，你是一名足球队教练。球场上有11名球员和11个不同的位置。每个玩家都能够在指定位置以特定等级在所有 11 个不同位置上进行比赛。

作为球队的教练，你必须为球队（由所有 11 名球员组成）决定最强的阵容，以使整体评分（即评分总和）最大化。没有两名球员可以在同一个位置上比赛。

例如，考虑一个较小的 LINEUP 问题，其中只有 3 名玩家玩某个游戏。

```
3 2 1
4 1 5
6 7 3 
```

玩家 1 可以在排名 3 的位置 1、排名 2 的位置 2 和排名 1 的位置 3 上玩。类似地，对于所有玩家，第 i 列代表他们在第 i 位置的排名。最佳阵容是当球员 1 在位置 1、球员 2 在位置 3、球员 3 在位置 2 时，最高评分 = 15 (3 + 5 + 7)。

那么，如何通过动态规划来解决这个问题呢？我在论坛上读到有人通过 DP 解决了这个问题，但我无法弄清楚这个问题是如何拥有最优子结构的。所以请帮我弄清楚....

Plz还提到DP是否可以解决问题

并请适当地编辑标题...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-27T07:33:26.950

我相信你这里有一个分配问题，可以通过[匈牙利方法](http://en.wikipedia.org/wiki/Hungarian_algorithm)解决。

如果你真的想要一个 DP 解决方案，这里有一个想法。为什么没有`F[i,j]`, `i=0..11`, `j = 0..2^11-1`. `i`- 是您可以选择的球员数量`j`- 是一个位掩码，表示所覆盖的场地位置，是`F`您可以获得的最大“团队价值”。例如`i = 1`，只有那些`j`二进制表示最多包含一个设置位的值才是“有效的”。显然，你不能只用一名球员来转换多个位置。

```
// initialize the F[][] array with -infinity
F[0][0] = 0;

for(i = 1; i <= 11; ++1)
{
  for(j = 0; j < 2^11; ++j)
    for(k = 0; k < 11; ++k )
    if( (j & (1 << k)) == 0 ) // k-th position is not occupied?
      F[i][j | (1 << k)] = max( F[i][j | (1 << k)], F[i-1][j] + <value of payer i playing at position k> );
}

ANSWER = F[11][2^11-1] 
```

这显然可以优化：因为`F[i]`我们只对包含精确`i`设置位的位掩码感兴趣。

通过用位图表示可能的状态，将组合问题转化为 DP 问题的技术有一个名称，但我不记得了。解决这个问题的正确方法仍然是匈牙利方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-29T03:01:55.823

这是一个匹配问题。你可以使用KM算法来解决Alex提到的[wiki](http://en.wikipedia.org/wiki/KM_algorithm) 和匈牙利方法是KM的一个特例。对于 DP 方法，Ales 给出了正确的答案。由于玩家人数不多，这里可以使用位操作的方法

# iphone - 将自定义表情符号复制到剪贴板

> ID：14050248
> 
> 赞同：0
> 
> 时间：2012-12-27T06:15:00.927
> 
> 标签：iphone, ios, ios5, ios4

我想在应用商店中制作一个像表情符号图标这样的应用程序。为此，我需要放置可用于其他社交网络应用程序（如 skype、fb、what'sapp 等）的自定义表情符号图像。可以使用 IUPasteboard 复制图像。

我尝试了以下代码来复制图像

```
 [UIPasteboard generalPasteboard].image = imgView.image; 
```

并且此代码成功复制了图像，并且可以在 UIImage 中的同一应用程序中检索它

```
 UIImage *image = [UIPasteboard generalPasteboard].image; 
```

但我的问题是如何将它粘贴到用户键入消息的其他应用程序的 UITextField 中。

它适用于 IOS 6 和 IOS 5 吗？（我正在使用 Xcode 4.5.1）。

如果可以复制表情符号并且可以粘贴到文本字段中，请帮助我提供一些代码或提供一些链接。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-27T06:37:40.977

每个`emoji`都有`unicode`。现在用唯一表情符号的 unicode 指定每个图像

像这样粘贴检查：

```
 if([UIImagePNGRepresentation(pasteBoardImage) isEqualToData:UIImagePNGRepresentation(emojiImage)]) //as emoji image has unique unicode
  {
      //add emoji based upon image
      NSString *myString = txtField.text;
      //For example image you are going to paste has this unicode
      myString = [myString stringbyappendingstring:@"\ue415"];
      txtField.text = myString;
  } 
```

**编辑**：添加`custom image`是`not possible`在`UITextField`或其中之一`UITextView`。需要`third party control`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-02-24T07:33:57.367

点击图像后，您可以添加此代码以复制要粘贴的图像。

如果您在键盘中使用它，则必须先启用允许完全访问权限，然后再将其粘贴到文本字段中。

斯威夫特 3：

```
let pb = UIPasteboard.general
let data = UIImagePNGRepresentation(UIImage(named: imageName))
pb.setData(data!, forPasteboardType: kUTTypePNG as String) 
```

# asp.net - 从源代码、aspx、xaml 中提取可本地化的字符串到资源文件

> ID：14050249
> 
> 赞同：4
> 
> 时间：2012-12-27T06:15:01.680
> 
> 标签：asp.net, localization, resharper, globalization

作为国际化我们基于 asp.net、c#、silverlight、XBAP 的应用程序的一部分，我正在评估开始的方法。我不得不在[GNU gettext()(PO 文件)](http://www.gnu.org/software/gettext/manual/html_node/C_0023.html)和微软的基于资源(resx) 的方法之间做出选择。所以在这个时刻，我试图了解如果我必须采用 MS 方式，那么自动从 .cs 文件、aspx、ascx、xaml（silverlight）文件中提取可本地化字符串到资源文件（resx）的最佳方法是什么。

我有以下选择：

1.  [资源重构工具](http://resourcerefactoring.codeplex.com/)，但它会提取所有字符串（无论您是否必须翻译），例如页眉等。我们不能标记或排除特定字符串。或者我们将不得不手动选择每个字符串然后提取（右键单击并单击提取）。
2.  [Resharper 的本地化帮助](http://www.jetbrains.com/resharper/webhelp/Resources__Index.html)，这里我没有看到自动提取，但我必须手动逐个字符串提取。

我知道必须进行一些手动干预，但任何建议都有助于在 gettext()( [gnu gettext() c# 或相当](http://www.fairtutor.com/fairlylocal/)本地化或 MS 本地化方法之间选择正确的方向。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-12-27T07:34:53.273

两种方法各有优劣，大家一起讨论。

# 相当本地

( `GNU Gettext`)***首先***，需要进行初始调整：

1.  下载库和工具并在与您的项目相关的某个地方转储
2.  修改站点的基本页面对象（手动干预）
3.  向您的 Web 项目添加一个构建后步骤，该步骤将运行 xgettext 并更新您的 .po 文件

***其次***，字符串提取已`FairlyLocal`自行处理。 ***第三***，字符串的翻译可以在内部完成或外包，因为 PO 文件已广为人知`linguists`。***第四***，一些 UTF-8 字符（如果有）的渲染依赖于 webfonts {eot (`trident`), svg (`webkit`,`gecko`,`presto`)}。***第五***，需要维护语言环境（如`pa-IN` `languageCode-countryCode`）。***第六***，有几个[转换器](http://translate.sourceforge.net/wiki/toolkit/index)可用于 PO 文件。***第七***，默认逻辑将回退到默认语言环境（en-US）资源的值。***一个问题***，[默认情况下，构建脚本生成的 .po 文件不是 UTF8。如果您希望翻译的文本正确显示特殊字符，则需要在 POEdit（或类似的）中打开它们并在第一次编辑它们时明确更改编码](http://www.fairtutor.com/fairlylocal/fairlylocal-details)。

# 质谱本地化

***首先***，提取字符串非常容易使用`Resource Refactoring Tool`。***其次***，resgen.exe 命令行工具可用于使 .resx 文件`linguists`友好。

```
resgen /compile examplestrings.xx.resx,examplestrings.xx.txt 
```

***第三***，.NET 内的本地化（不特定于 ASP.NET Proper 或 ASP.NET MVC）实现了标准的回退机制。***四***、不依赖`GNU Gettext Utils`。***第五***，可以使用 CurrentUICulture 和 CurrentCulture`Strings`to`Dates`、本地化***第六***`Currency`*，这里也推荐使用webfonts。*

 *谢谢。*

# php - PHP日期和strtotime不相等

> ID：14050251
> 
> 赞同：1
> 
> 时间：2012-12-27T06:15:10.510
> 
> 标签：php, date, strtotime

我遇到了一个非常奇怪的问题，代码是：

```
$timeStr = '2012-12-27 10:01:00';
$test = date('Y-m-d H:m:s',strtotime($timeStr));
echo ("timeStr : $timeStr <br/> time: $test"); 
```

结果是：

```
timeStr : 2012-12-27 10:01:00 
time: 2012-12-27 10:12:00 
```

为什么他们不相等？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-27T06:16:10.167

更改`m`为`i`。`m`是几个月，`i`而是几分钟。它应该是

```
$test = date('Y-m-d H:i:s',strtotime($timeStr)); 
```

进一步参考[http://in2.php.net/manual/en/function.date.php](http://in2.php.net/manual/en/function.date.php)

# perl - perl "DateTime" 模块打印错误时间

> ID：14050254
> 
> 赞同：1
> 
> 时间：2012-12-27T06:15:24.090
> 
> 标签：perl

我正在使用[DateTime](http://search.cpan.org/~drolsky/DateTime-0.78/lib/DateTime.pm)模块。但是它提供了错误的时间。请考虑以下代码：

```
#!/usr/bin/perl -w
use strict;

use Time::localtime;
my $now = ctime();
print $now."\n";

print "------------------------------\n";

use DateTime;
my $dt = DateTime->now;
print $dt."\n"; 
```

它的输出是：

```
Wed Dec 26 22:11:52 2012
------------------------------
2012-12-27T06:11:52 
```

所以，如您所见，`DateTime`输出领先 8 小时，这是错误的。这是Linux`date`命令输出：

```
# date
Wed Dec 26 22:13:17 PST 2012 
```

因此，`date`命令输出与输出匹配`time::localtime`。

`DateTime`你能帮我理解我在使用模块时哪里出错了吗？

-谢谢。

**更新：**

来自 hte CPAN 文档：

```
DateTime->now( ... )

This class method is equivalent to calling from_epoch() with the value returned from Perl's time() function. Just as with the new() method, it accepts "time_zone" and "locale" parameters.

By default, the returned object will be in the UTC time zone. 
```

因此，返回的时间似乎是 UTC。但是，我在 PST 所在的时区。可能这就是为什么我看到不同的时间。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-12-27T06:29:00.983

我通过了区域信息，它现在可以正常工作：

```
#!/usr/bin/perl -w
use strict;

use Time::localtime;
my $now = ctime();
print $now."\n";

print "------------------------------\n";

use DateTime;
my $dt = DateTime->now ( time_zone => 'America/Los_Angeles' );
print $dt."\n"; 
```

输出：

```
Wed Dec 26 22:28:44 2012
------------------------------
2012-12-26T22:28:44 
```

对于东海岸

```
my $dateF = DateTime->now( time_zone => 'America/New_York' )->ymd; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2021-05-09T10:55:04.797

用户没有理由知道机器的时区，即使他们知道，硬编码也是个坏主意。答案是

```
my $dt = DateTime->now(time_zone => 'local') # current time, local timezone
my $dt = DateTime->from_epoch(epoch=>time(), time_zone=>'local') # from timestamp 
```

这会将其设置为机器的时区。

# windows - 如何在数据绑定对象中将 XAML HexNumbers 用于 Windows 应用商店应用程序图标（Segoe UI 符号）？

> ID：14050255
> 
> 赞同：2
> 
> 时间：2012-12-27T06:15:26.547
> 
> 标签：windows, xaml, microsoft-metro

我有一个基本的`DataTemplate`，我用它来绑定到公开几个属性的基本对象。这些项目显示在`ItemList`. 我试图确保绑定到的 TextBlock`Icon`显示类似于`&#xE0C8;`将存储在对象`Icon`属性中的符号。

```
<DataTemplate x:Key="Action180x180ItemTemplate">
    <Grid HorizontalAlignment="Left" Width="180" Height="180">
        <Border Background="OliveDrab">
            <TextBlock Text="{Binding Icon}" FontFamily="Segoe UI Symbol" FontSize="72" Padding="0,20,0,0" TextAlignment="Center" />
        </Border>
        <StackPanel VerticalAlignment="Bottom" Background="DarkOliveGreen">
            <TextBlock Text="{Binding Title}" Foreground="{StaticResource ListViewItemOverlayForegroundThemeBrush}" Style="{StaticResource TitleTextStyle}" Height="30" Margin="15,0,15,0"/>
        </StackPanel>
    </Grid>
</DataTemplate> 
```

问题是执行代码时，符号不显示，而是原始值显示。有没有人知道如何从绑定字段显示符号（最好不将`Icon`属性更改`String`为其他内容）？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-12-27T15:28:43.277

要直接在 XAML 中写入 unicode 字符，请使用以下格式： **&#x** *hexcode* **;**

要在字符串中存储 unicode 字符，请使用以下格式： **“\u** *hexcode* **”**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-27T11:56:51.853

您可以在 c# 字符串中使用 Unicode 字符转义序列来实现绑定。类似于以下内容：

```
DataContext = new { Icon = "\uE0C8", Title = "My Title" }; 
```

有关更多详细信息，请参阅[Unicode 字符转义序列](http://msdn.microsoft.com/en-us/library/aa664669%28v=vs.71%29.aspx)。

# android - 备份管理器何时将数据保存在 android 中？

> ID：14050264
> 
> 赞同：0
> 
> 时间：2012-12-27T06:16:11.457
> 
> 标签：android

我正在使用 Android`BackupManager`来备份一些数据。在 Android[文档](http://developer.android.com/guide/topics/data/backup.html#Basics) 中，它说调用该 `dataChanged()`方法，但将来会被调用，尽管它从未发生过。我只能使用 bgmr 工具，并且备份或恢复不会以编程方式发生。有什么原因吗？通常需要多长时间？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-27T08:31:02.283

It will generally backup things in batches, but you cannot control it from your app. You can see the queue with the provided command line tools, if your apps is queued for backup, you shouldn't need to do anything more.

It does work, so it might be a problem with your device or lack of connectivity. Does it work in another device?

# php - 我怎样才能纠正这个未定义的索引错误

> ID：14050270
> 
> 赞同：0
> 
> 时间：2012-12-27T06:16:32.783
> 
> 标签：php

我该如何解决这个错误？我知道大多数时候会出现这样的问题，我可以使用`isset function`但我尝试过的方法不起作用，我该如何纠正这个错误

```
Notice: Undefined index: real in C:\xampp\htdocs\mysite\captcha2\index.php on line 12 
```

我在第 12 行的代码如下

```
$real = $_session['real']; 
```

这是我的 php 代码

```
<?php
if(isset($_POST['submit'])){
session_start();
$_session[] = "";
$real = $_session['real'];
$guess = $_POST['captcha'];
$name = $_POST['name'];

if ($real == $guess){

echo "hi $name,you types the correct name";
} 
else {

    echo "Nooo";
}

} else {
?> 
```

提前致谢

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-12-27T06:17:58.790

我认为您想使用`$_SESSION`而不是`$_session`，它们不是一回事。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-27T06:18:12.933

```
if (isset($_SESSION['real'])) {
    $real = $_SESSION['real'];
} 
```

这将检查会话是否在分配值之前设置

# java - 是否可以使某段代码不起作用？

> ID：14050274
> 
> 赞同：-1
> 
> 时间：2012-12-27T06:16:57.367
> 
> 标签：java, jsp, jakarta-ee

我在我的 Jsp 页面上设置了响应刷新标头。像 ：

```
<% response.setIntHeader("Refresh",1) ; %> 
```

它使jsp每隔`1`一秒刷新一次。但我想，经过一段时间后，1秒后页面的刷新应该停止。整体上提神应该停止。那可能吗 ？我的意思是使某段代码不起作用。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-27T06:22:08.183

使一段代码或代码块非功能性和功能性的唯一方法是将它们包装在条件语句中。

在您的特定场景中，保留一个计数器以查看页面刷新了多少次，或者自初始刷新以来已经过去了多少时间（取决于您想要的方式）并将刷新逻辑包装在条件语句中以检查限制是不超过。

# algorithm - 理解大 O 的幂集

> ID：14050278
> 
> 赞同：0
> 
> 时间：2012-12-27T06:17:07.180
> 
> 标签：algorithm, big-o

我写了一个幂集算法，写成 P(a)。只是了解算法的时间复杂度（Big-O），如果我错了，请纠正我。

算法：

```
function powerSet(int[] a ){
ArrayList pw = new ArrayList();
pw.add(" ");
for (int i = 1; i <= a.length; i++) //O(n){
            ArrayList<String> tmp = new ArrayList<String>();

            for (String e : pw)//O(n) {
                if(e.equals(" "))
                    tmp.add(""+a[i-1]) //contanst time;
                else
                    tmp.add(e+a[i-1]) //constant time;
            }
            pw.addAll(tmp)//O(1);
        }
        return pw;
} 
```

这个时间复杂度是O(n)*O(n) = O(n^2)，还是像2^n这样的指数函数(c^n where c > 1)，因为我在枚举所有可能的子集.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-27T07:32:11.870

外循环运行的次数是`a.length`。内部循环运行的次数为`pw.length`，但随着函数的运行而增加。所以你不能说他们都是`O(n)`。此外，`pw.addAll(tmp)`不是恒定时间。

这里，渐近时间复杂度与调用的次数相同`tmp.add()`，等于`pw`:的最终大小`O(2^n)`。

# python - 如何在不导入的情况下检查 python 模块是否存在

> ID：14050281
> 
> 赞同：224
> 
> 时间：2012-12-27T06:17:22.190
> 
> 标签：python, python-import

我需要知道是否存在 python 模块，而不需要导入它。

导入可能不存在的东西（不是我想要的）：

```
try:
    import eggs
except ImportError:
    pass 
```

* * *

## 回答 #1

> 赞同：254
> 
> 时间：2012-12-27T06:17:22.190

## Python2

要检查导入是否可以在 python2 中找到某些内容，请使用`imp`

```
import imp
try:
    imp.find_module('eggs')
    found = True
except ImportError:
    found = False 
```

要查找虚线导入，您需要执行更多操作：

```
import imp
try:
    spam_info = imp.find_module('spam')
    spam = imp.load_module('spam', *spam_info)
    imp.find_module('eggs', spam.__path__) # __path__ is already a list
    found = True
except ImportError:
    found = False 
```

您也可以使用`pkgutil.find_loader`（或多或少与 python3 部分相同）

```
import pkgutil
eggs_loader = pkgutil.find_loader('eggs')
found = eggs_loader is not None 
```

## Python3

### Python3 ≤ 3.3

你应该使用`importlib`，我是如何做到这一点的：

```
import importlib
spam_loader = importlib.find_loader('spam')
found = spam_loader is not None 
```

我的期望是，如果你能为它找到一个加载器，那么它就存在。你也可以更聪明一点，比如过滤掉你会接受的加载器。例如：

```
import importlib
spam_loader = importlib.find_loader('spam')
# only accept it as valid if there is a source file for the module - no bytecode only.
found = issubclass(type(spam_loader), importlib.machinery.SourceFileLoader) 
```

### Python3≥3.4

在 Python3.4中， `importlib.find_loader` [python 文档](https://docs.python.org/3/library/importlib.html#importlib.find_loader)被弃用，取而代之的是`importlib.util.find_spec`. 推荐的方法是`importlib.util.find_spec`. 还有其他类似`importlib.machinery.FileFinder`的，如果您要加载特定文件，这很有用。弄清楚如何使用它们超出了这个范围。

```
import importlib
spam_spec = importlib.util.find_spec("spam")
found = spam_spec is not None 
```

这也适用于相对导入，但您必须提供起始包，因此您也可以这样做：

```
import importlib
spam_spec = importlib.util.find_spec("..spam", package="eggs.bar")
found = spam_spec is not None
spam_spec.name == "eggs.spam" 
```

虽然我确信这样做是有原因的——但我不确定它会是什么。

### 警告

当试图找到一个子模块时，它将导入父模块（对于上述*所有*方法）！

```
food/
  |- __init__.py
  |- eggs.py

## __init__.py
print("module food loaded")

## eggs.py
print("module eggs")

were you then to run
>>> import importlib
>>> spam_spec = importlib.find_spec("food.eggs")
module food loaded
ModuleSpec(name='food.eggs', loader=<_frozen_importlib.SourceFileLoader object at 0x10221df28>, origin='/home/user/food/eggs.py') 
```

*欢迎评论解决这个问题*

## 致谢

*   @rvighne 用于 importlib
*   @lucas-guido 用于 python3.3+ 贬低`find_loader`
*   @enpenax 用于 python2.7 中的 pkgutils.find_loader 行为

* * *

## 回答 #2

> 赞同：35
> 
> 时间：2017-12-28T11:46:48.290

# Python 3 >= 3.6：ModuleNotFoundError

已[`ModuleNotFoundError`](https://docs.python.org/3/library/exceptions.html#ModuleNotFoundError)在**python 3.6**中引入，可用于此目的

```
try:
    import eggs
except ModuleNotFoundError:
    # Error handling
    pass 
```

当找不到**模块或其父模块之一**时会引发错误。所以

```
try:
    import eggs.sub
except ModuleNotFoundError as err:
    # Error handling
    print(err) 
```

`No module named 'eggs'`如果`eggs`找不到模块，将打印一条消息；但会打印出类似`No module named 'eggs.sub'`如果`sub`找不到模块但可以找到`eggs`包的内容。

有关更多信息，请参阅[导入系统的文档](https://docs.python.org/3/reference/import.html)`ModuleNotFoundError`

* * *

## 回答 #3

> 赞同：13
> 
> 时间：2014-07-30T19:23:36.547

在使用 yarbelk 的回复后，我做了这个，因为不需要 import `ìmp`。

```
try:
    __import__('imp').find_module('eggs')
    # Make things with supposed existing module
except ImportError:
    pass 
```

`settings.py`例如在 Django 中很有用。

* * *

## 回答 #4

> 赞同：12
> 
> 时间：2015-11-10T06:48:28.583

# Python 2，不依赖 ImportError

在更新当前答案之前，这是**Python 2的方法**

```
import pkgutil
import importlib

if pkgutil.find_loader(mod) is not None:
    return importlib.import_module(mod)
return None 
```

### 为什么要另一个答案？

很多答案都使用了`ImportError`. 问题在于，我们不知道是什么引发了`ImportError`.

如果您导入*现有*模块并且您的模块中恰好有一个`ImportError`（例如第 1 行的错字），结果将是您的模块不存在。您需要进行大量的回溯才能确定您的模块存在并且`ImportError`被捕获并使事情无声无息地失败。

* * *

## 回答 #5

> 赞同：8
> 
> 时间：2015-04-14T03:17:10.063

go_as 作为一个班轮的回答

```
 python -c "help('modules');" | grep module 
```

* * *

## 回答 #6

> 赞同：7
> 
> 时间：2015-04-10T09:46:24.807

我在寻找一种方法来检查模块是否**从命令行**加载时遇到了这个问题， 并想分享我对那些追随我并寻找相同模块的想法：

**Linux/UNIX 脚本文件方法**：制作文件`module_help.py`：

```
#!/usr/bin/env python

help('modules') 
```

然后确保它是可执行的：`chmod u+x module_help.py`

并用`pipe`to调用它`grep`：

```
./module_help.py | grep module_name 
```

> 调用内置[帮助系统](https://docs.python.org/2/library/functions.html#help)。（此函数**用于交互式使用**。）如果没有给出参数，交互式帮助系统将在解释器控制台上启动。如果参数是一个**字符串，那么该字符串将作为****模块**、函数、类、方法、关键字或文档主题的名称进行查找，并在控制台上打印一个帮助页面。如果参数是任何其他类型的对象，则会生成有关该对象的帮助页面。

**交互方式**：在控制台加载`python`

```
>>> help('module_name') 
```

如果发现通过键入退出阅读`q`
要退出 python 交互式会话，请按`Ctrl`+`D`

**Windows 脚本文件方法**也与 Linux/UNIX 兼容，*并且总体上更好*：

```
#!/usr/bin/env python

import sys

help(sys.argv[1]) 
```

从如下命令调用它：

```
python module_help.py site 
```

会输出：

> 模块站点帮助：
> 
> `NAME` site - 将第三方包的模块搜索路径附加到 sys.path。
> 
> `FILE` /usr/lib/python2.7/site.py
> 
> `MODULE DOCS` [http://docs.python.org/library/site](http://docs.python.org/library/site)
> 
> `DESCRIPTION`
> ...
> :

你必须按`q`退出交互模式。

使用它未知的模块：

```
python module_help.py lkajshdflkahsodf 
```

会输出：

> 没有找到“lkajshdflkahsodf”的 Python 文档

并退出。

* * *

## 回答 #7

> 赞同：6
> 
> 时间：2019-10-17T16:59:03.097

我写了这个辅助函数：

```
def is_module_available(module_name):
    if sys.version_info < (3, 0):
        # python 2
        import importlib
        torch_loader = importlib.find_loader(module_name)
    elif sys.version_info <= (3, 3):
        # python 3.0 to 3.3
        import pkgutil
        torch_loader = pkgutil.find_loader(module_name)
    elif sys.version_info >= (3, 4):
        # python 3.4 and above
        import importlib
        torch_loader = importlib.util.find_spec(module_name)

    return torch_loader is not None 
```

* * *

## 回答 #8

> 赞同：5
> 
> 时间：2014-07-03T12:00:58.063

使用[pkgutil 中的函数之一](https://docs.python.org/2/library/pkgutil.html#pkgutil.iter_modules)，例如：

```
from pkgutil import iter_modules

def module_exists(module_name):
    return module_name in (name for loader, name, ispkg in iter_modules()) 
```

* * *

## 回答 #9

> 赞同：4
> 
> 时间：2017-02-02T14:17:47.857

您可以编写一个小脚本，尝试导入所有模块并告诉您哪些模块失败以及哪些模块正在工作：

```
import pip

if __name__ == '__main__':
    for package in pip.get_installed_distributions():
        pack_string = str(package).split(" ")[0]
        try:
            if __import__(pack_string.lower()):
                print(pack_string + " loaded successfully")
        except Exception as e:
            print(pack_string + " failed with error code: {}".format(e)) 
```

输出：

```
zope.interface loaded successfully
zope.deprecation loaded successfully
yarg loaded successfully
xlrd loaded successfully
WMI loaded successfully
Werkzeug loaded successfully
WebOb loaded successfully
virtualenv loaded successfully
... 
```

警告词这将尝试导入*所有内容*，因此您会看到类似的内容，`PyYAML failed with error code: No module named pyyaml`因为实际的导入名称只是 yaml。所以只要你知道你的进口，这应该为你解决问题。

* * *

## 回答 #10

> 赞同：3
> 
> 时间：2018-12-03T03:42:50.987

AskUbuntu 的一个更简单的 if 语句：[如何检查模块是否安装在 Python 中？](https://askubuntu.com/questions/588390/how-do-i-check-whether-a-module-is-installed-in-python-and-install-it-if-needed)

```
import sys
print('eggs' in sys.modules) 
```

* * *

## 回答 #11

> 赞同：1
> 
> 时间：2016-01-27T12:17:04.463

如果不导入其父包，就无法可靠地检查“dotted module”是否可导入。说到这里，对于“如何检查 Python 模块是否存在”这个问题有很多解决方案。

下面的解决方案解决了导入模块即使存在也会引发 ImportError 的问题。我们想将这种情况与不存在模块的情况区分开来。

**蟒蛇2**：

```
import importlib
import pkgutil
import sys

def find_module(full_module_name):
    """
    Returns module object if module `full_module_name` can be imported. 

    Returns None if module does not exist. 

    Exception is raised if (existing) module raises exception during its import.
    """
    module = sys.modules.get(full_module_name)
    if module is None:
        module_path_tail = full_module_name.split('.')
        module_path_head = []
        loader = True
        while module_path_tail and loader:
            module_path_head.append(module_path_tail.pop(0))
            module_name = ".".join(module_path_head)
            loader = bool(pkgutil.find_loader(module_name))
            if not loader:
                # Double check if module realy does not exist
                # (case: full_module_name == 'paste.deploy')
                try:
                    importlib.import_module(module_name)
                except ImportError:
                    pass
                else:
                    loader = True
        if loader:
            module = importlib.import_module(full_module_name)
    return module 
```

**蟒蛇 3**：

```
import importlib

def find_module(full_module_name):
    """
    Returns module object if module `full_module_name` can be imported. 

    Returns None if module does not exist. 

    Exception is raised if (existing) module raises exception during its import.
    """
    try:
        return importlib.import_module(full_module_name)
    except ImportError as exc:
        if not (full_module_name + '.').startswith(exc.name + '.'):
            raise 
```

* * *

## 回答 #12

> 赞同：1
> 
> 时间：2016-03-20T15:03:56.267

在 django.utils.module_loading.module_has_submodule

```
 import sys
import os
import imp

def module_has_submodule(package, module_name):
    """
    check module in package
    django.utils.module_loading.module_has_submodule
    """
    name = ".".join([package.__name__, module_name])
    try:
        # None indicates a cached miss; see mark_miss() in Python/import.c.
        return sys.modules[name] is not None
    except KeyError:
        pass
    try:
        package_path = package.__path__   # No __path__, then not a package.
    except AttributeError:
        # Since the remainder of this function assumes that we're dealing with
        # a package (module with a __path__), so if it's not, then bail here.
        return False
    for finder in sys.meta_path:
        if finder.find_module(name, package_path):
            return True
    for entry in package_path:
        try:
            # Try the cached finder.
            finder = sys.path_importer_cache[entry]
            if finder is None:
                # Implicit import machinery should be used.
                try:
                    file_, _, _ = imp.find_module(module_name, [entry])
                    if file_:
                        file_.close()
                    return True
                except ImportError:
                    continue
            # Else see if the finder knows of a loader.
            elif finder.find_module(name):
                return True
            else:
                continue
        except KeyError:
            # No cached finder, so try and make one.
            for hook in sys.path_hooks:
                try:
                    finder = hook(entry)
                    # XXX Could cache in sys.path_importer_cache
                    if finder.find_module(name):
                        return True
                    else:
                        # Once a finder is found, stop the search.
                        break
                except ImportError:
                    # Continue the search for a finder.
                    continue
            else:
                # No finder found.
                # Try the implicit import machinery if searching a directory.
                if os.path.isdir(entry):
                    try:
                        file_, _, _ = imp.find_module(module_name, [entry])
                        if file_:
                            file_.close()
                        return True
                    except ImportError:
                        pass
                # XXX Could insert None or NullImporter
    else:
        # Exhausted the search, so the module cannot be found.
        return False 
```

* * *

## 回答 #13

> 赞同：1
> 
> 时间：2021-08-19T19:09:10.090

如果您知道文件的位置并想检查相应的 python 代码文件是否具有该模块，您可以简单地通过[`astor`](https://pypi.org/project/astor/)python 中的包进行检查，这里是一个快速示例：

```
"""
check if module Function exists or not without importing a python package file
"""
import ast 
import astor 

tree = astor.parse_file('handler.py')    
method_to_check = 'handle'
for item in tree.body: 
    if isinstance(item, ast.FunctionDef): 
        if item.name == method_to_check: 
            print('method exists') 
            break 
```

* * *

## 回答 #14

> 赞同：0
> 
> 时间：2017-08-17T20:39:27.313

也可以`importlib`直接使用

```
import importlib

try:
    importlib.import_module(module_name)
except ImportError:
    # Handle error 
```

# objective-c - 如何知道目标c中对象的变化

> ID：14050283
> 
> 赞同：3
> 
> 时间：2012-12-27T06:17:30.270
> 
> 标签：objective-c, ios, oop

我对目标 c 框架有点陌生。我想检测对象的变化（其实例变量的值）。我有目标 c 给出的现成解决方案吗？任何 Api 或者我需要有自己的实现吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-27T06:31:59.183

是的，有一种叫做[Key Value Observing](http://developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/KeyValueObserving/KeyValueObserving.html)的东西。

但是您无法检测到 C 变量的变化。

但是，您可以观察到对象内部状态的变化。为此，您必须获取由`self.property`访问的属性，直接访问该属性就像`_property=something`绕过 KVO。

# java - 原始包装器比较

> ID：14050286
> 
> 赞同：1
> 
> 时间：2012-12-27T06:17:44.890
> 
> 标签：java, scjp

> **可能重复：**
> [在 Java 中使用 == 运算符比较包装器对象](https://stackoverflow.com/questions/10149959/using-operator-in-java-to-compare-wrapper-objects)

**java版本1.6.0_26**

**来自**SCJP 考试准备的书：

*为了节省内存，以下的两个实例[-128 和 127 中的短整数和整数，以及其他一些但无关紧要的问题] 包装对象（通过 boixng 创建），当它们的原始值是相同。*

**我做了什么：**

如果我们像这样比较两个从 -128 到 127 的整数：

```
1\. Integer i1 = 10;
2\. Integer i2 = 10;
3\. System.out.println(i1 == i2); // true 
```

但是为什么同样给我们“假”或者可能是不一样的东西：

```
4\. Integer i3 = new Integer(10);
5\. Integer i4 = new Integer(10);
6\. System.out.println(i3 == i4); // false 
```

我的问题：

1）我们是否在第一行代码中进行隐式装箱？

2) 为什么第 3 行和第 6 行代码给了我们不同的结果？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-12-27T06:30:14.193

我们是否在第一行代码中进行隐式装箱？

```
Yes 
```

2) 为什么第 3 行和第 6 行代码给了我们不同的结果？

`Integer.valueOf(int)`汇集从 -128 到 127 的所有值。

原因是经常使用小的 Integer 值，并且每次我们需要一个对象时为所有这些值创建一个新对象是没有意义的。因此，这些被创建为**“内部”对象**，并且对此类整数值的所有引用都将**指向相同的内存地址**。

来自 Integer.java 的代码片段：

```
public static Integer valueOf(int i) {
    if(i >= -128 && i <= IntegerCache.high)
        return IntegerCache.cache[i + 128];
    else
        return new Integer(i);
} 
```

相反，当您调用时`new Integer(10);`，它正在创建一个全新的对象，因此具有相同整数值的两个不同对象将指向不同的内存地址

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-12-27T06:29:16.920

> ```
> 1) Does on the 1st line of code we make implicit boxing? 
> ```

是的。它被称为[自动装箱](http://docs.oracle.com/javase/1.5.0/docs/guide/language/autoboxing.html)

> ```
> 2) Why the 3rd and 6th lines of code give us different results? 
> ```

== 实际上检查两个变量是否具有完全相同的值。请注意，原始变量包含您看到的内容，但引用变量包含它所拥有的对象的地址。

当 == 用于比较原始与包装器时，包装器将被解包并且比较将是原始到原始的，因此它将始终为真，因为它是原始比较而不是对象比较。所以这就是为什么

```
System.out.println(i1 == i2); 
```

会是真的。

但是在第 6 行。

```
System.out.println(i3 == i4); 
```

您正在比较两个对象，除非对象具有相同的引用，否则它不会是真的。如果你使用 .equals 方法，你可以得到真实的。尝试

```
System.out.println(i3.equals(i4)); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-27T06:27:26.733

In your first example, the compiler is using boxing to assign the variables. In this case, i1/i2 are constants (a bit like static final objects).

In the second example, you create two instances of an Integer, hence they are never the same.

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-27T06:29:30.140

第 6 行显示为 false，因为它正在比较查看引用是否指向同一个对象`i3`！`i4`在这种情况下，它不是。因此`false`.

如果同时涉及包装器和基元，则自动装箱和拆箱就会出现。这里`i3`和`i4`都是包装对象，因此它将被视为任何其他对象`POJO`

自动装箱仅在同时涉及包装器对象和原语时才会发生，

例如

```
int primitive = 10;
Integer wrapper = new Integer(10);
System.out.println(primitive == wrapper); //true 
```

`True`在上面的比较中打印`==`原始的值与包装器的状态进行比较。

# r - 子集中的 R 序列

> ID：14050290
> 
> 赞同：0
> 
> 时间：2012-12-27T06:18:00.150
> 
> 标签：r, plot, dataframe

我有一个看起来像这样的数据框：

```
in    out
3234  1
124   1
323   0
532   1 
```

现在我想制作一个`mean(subset(data, data$in < x)$out)`. 我试图生成一个这样的绘图序列：

```
x <- seq(0, 10000, by=1)
y <- mean(subset(data, data$in < x)$out) 
```

但是第二行给了我一个警告“更长的对象长度不是更短的对象长度的倍数”并`plot(x, y)`导致错误。同时，如果我输入一个数字而不是`x`它的工作原理。谁能指出这种方法有什么问题？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-27T06:34:13.530

您可以使用函数`sapply()`来计算 的每个元素的平均值`x`。但首先将列名更改为`in`to`ins`因为它给了我一个错误。

```
colnames(data)<-c("ins","out")
x <- seq(0, 10000, by=1)
y <- sapply(x,function(x) mean(subset(data, ins < x)$out))
plot(x,y) 
```

![在此处输入图像描述](../Images/c4215927147a30bbdd46f8a53d903817.png)

# java - 修改 CopyOnWriteArraySet 时出现 UnsupportedOperationException

> ID：14050291
> 
> 赞同：2
> 
> 时间：2012-12-27T06:18:07.217
> 
> 标签：java, collections, synchronization, set, copy-on-write

学习由 Maurice Naftalin、Philip Wadler 撰写的 Java Generics and Collection 书，我在 CopyOnWriteArraySet 部分停止，在学习时尝试练习以使其牢记在心，但是我遇到了一个问题，让我透露一下我的琐碎代码：

```
 CopyOnWriteArrayList<Character> modifiableSet = new CopyOnWriteArrayList<Character>(); 
   modifiableSet.add('a');modifiableSet.add('d');
    for(Character ch:modifiableSet){  
        if(ch.equals('d')){
        modifiableSet.remove(ch); // compiler neglects this, as expected,
                                              // since CopyOnWriteArraySet is synchronous
        }               
    }

   for(Iterator<Character> its = modifiableSet.iterator();its.hasNext();){ 
   Character firstElement = its.next();
   if(firstElement.equals('a'))its.remove();// compiler does not give a damn here              
    // since CopyOnWriteArrayList is synchronous java.lang.UnsupportedOperationException 
    // surprisingly,  wondering If CopyOnWriteArrayList is synchronous,
// why the compiler shouts here ?                         
 } 
```

到目前为止，我的大脑所理解的是，每当修改发生时，都会`CopyOnWriteArraySet`使用新的更改创建一个新的后备数组，问题是，`CopyOnWriteArraySet`通过`iterator()`是在后备数组还是前数组上进行，如果说前数组方便的话，它对我来说听起来很合理，`CopyOnWriteArraySet.remove()`适用于前阵列，`CopyOnWriteArraySet.iterator().remove()`适用于后阵列，对吗？

任何闪存都非常感谢，谢谢大家。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-27T06:40:34.653

CopyOnWriteArraySet API 说得很清楚

```
•Iterators do not support the mutative remove operation. 
```

这是因为 CopyOnWriteArraySet 的迭代器“依赖于构造迭代器时数组的不变快照”。

# python - 如何通过应用引擎上传sitemap.xml？

> ID：14050293
> 
> 赞同：1
> 
> 时间：2012-12-27T06:18:13.170
> 
> 标签：python, google-app-engine, sitemap

我正在使用谷歌应用引擎来托管我的网站。我试图上传 sitemap.xml，但是当我打开链接时，即 www.example.com/sitemap.xml 它显示`Oops! This link appears to be broken.`。我不知道这是什么原因。谁能告诉我我做错了什么？

这是我的 app.yaml 文件的内容

```
application: mywebsite
version: 1
runtime: python
api_version: 1

handlers:
- url: /(.*\.(gif|png|jpg|ico|js|css))
  static_files: \1
  upload: (.*\.(gif|png|jpg|ico|js|css))

- url: .*
  script: main.py

- url: /icon\.ico
  static_files: icon.ico
  upload: icon.ico

- url: /sitemap.xml    
  static_files: static/sitemap.xml
  upload: static/sitemap.xml

- url: /static
  static_dir: static 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-27T08:29:11.807

From [here](https://developers.google.com/appengine/docs/python/config/appconfig#Required_Elements), "Patterns are evaluated in the order they appear in the app.yaml, from top to bottom. The first mapping whose pattern matches the URL is the one used to handle the request.".

You should try moving the catch all handler (url: .*) to the end of the file.

# java - log4j 记录到 postgresql 不起作用

> ID：14050294
> 
> 赞同：1
> 
> 时间：2012-12-27T06:18:19.320
> 
> 标签：java, postgresql, log4j

这是数据库架构

```
create table log4j_messages 
( 
  message  varchar(2000), 
  class    varchar(255), 
  priority varchar(64), 
  log_date timestamp 
); 
```

以下是我的 log4j 属性

```
log4j.appender.jdbc=org.apache.log4j.jdbc.JDBCAppender 
log4j.appender.jdbc.driver=org.postgresql.Driver
log4j.appender.jdbc.URL=jdbc:postgresql://MYSERVER:5432/logs 
log4j.appender.jdbc.user=logs
log4j.appender.jdbc.password=MYPASS
log4j.appender.jdbc.sql=INSERT INTO log4j_messages (message, class, priority, log_date) values ('%m', '%c', '%p', to_timestamp('%d', 'YYYY-MM-DD HH24:MI:SS,MS')) 
```

没有数据被记录到数据库中。无论如何我可以找出问题所在吗？

编辑：

我尝试在属性文件的顶部添加 log4j.rootCategory=DEBUG，现在我收到以下警告。

log4j:WARN 找不到记录器 (myprogram.Main) 的附加程序。log4j:WARN 请正确初始化 log4j 系统。log4j:WARN 有关详细信息，请参阅[http://logging.apache.org/log4j/1.2/faq.html#noconfig](http://logging.apache.org/log4j/1.2/faq.html#noconfig)。

以下是写入文件时我的 log4j 属性文件的工作版本

```
log4j.rootCategory=DEBUG, R, O

# Stdout
log4j.appender.O=org.apache.log4j.ConsoleAppender

# File
log4j.appender.R=org.apache.log4j.RollingFileAppender
log4j.appender.R.File=log4j.log

# Control the maximum log file size
log4j.appender.R.MaxFileSize=500KB

# Archive log files (one backup file here)
log4j.appender.R.MaxBackupIndex=1

log4j.appender.R.layout=org.apache.log4j.PatternLayout
log4j.appender.O.layout=org.apache.log4j.PatternLayout

log4j.appender.R.layout.ConversionPattern=[%d{ISO8601}]%5p%6.6r[%t]%x - %C.%M(%F:%L) - %m%n
log4j.appender.O.layout.ConversionPattern=[%d{ISO8601}]%5p%6.6r[%t]%x - %C.%M(%F:%L) - %m%n 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-28T08:11:06.853

您应该将 rootCategory 设置为：

```
log4j.rootCategory=DEBUG, jbdc

log4j.appender.jdbc=org.apache.log4j.jdbc.JDBCAppender 
log4j.appender.jdbc.driver=org.postgresql.Driver
log4j.appender.jdbc.URL=jdbc:postgresql://MYSERVER:5432/logs 
log4j.appender.jdbc.user=logs
log4j.appender.jdbc.password=MYPASS
log4j.appender.jdbc.sql=INSERT INTO log4j_messages (message, class, priority, log_date) values ('%m', '%c', '%p', to_timestamp('%d', 'YYYY-MM-DD HH24:MI:SS,MS')) 
```

否则记录器将没有附加程序。

# ruby - Ruby 的 BEGIN 是做什么的？

> ID：14050296
> 
> 赞同：13
> 
> 时间：2012-12-27T06:19:00.937
> 
> 标签：ruby

`BEGIN`在 Ruby中是什么意思，它是怎么称呼的？例如，给定以下代码：

```
puts "This is sentence 1."

BEGIN {
  puts "This is sentence 2."
} 
```

为什么`puts "This is sentence 2."`先执行？

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2012-12-27T06:28:03.040

`BEGIN`并`END`设置在执行其他任何操作之前或在其他所有操作之后，就在解释器退出之前调用的块。

例如，运行这个：

```
END { puts 'END block' }

puts 'foobar'

BEGIN { puts 'BEGIN block' } 
```

输出：

```
开始块
富吧
结束块

```

`BEGIN`通常我们会为and块使用更多的逻辑顺序`END`，但这展示了它们的作用。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-12-27T06:27:26.937

来自[关键字的](http://ruby-doc.org/docs/keywords/1.9/Object.html#method-i-BEGIN)[Ruby 文档`BEGIN`](http://ruby-doc.org/docs/keywords/1.9/Object.html#method-i-BEGIN)：

> `BEGIN`：通过代码块指定在程序开始顺序执行之前无条件执行的代码。有时用于模拟对方法的前向引用。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-12-27T12:12:34.827

`BEGIN`和`END`块

每个 Ruby 源文件都可以声明要在文件加载（`BEGIN`块）和程序完成执行后（`END`块）运行的代码块。

```
BEGIN { 
   begin block code 
} 

END { 
   end block code 
} 
```

一个程序可能包括多个`BEGIN`和`END`块。`BEGIN`块按照遇到的顺序执行。`END`块以相反的顺序执行。

[您可以在“ Does begin ... end while denote a 'block'?](https://stackoverflow.com/questions/641743/does-begin-end-while-denote-a-block) ”中找到几乎相同的帖子。

阅读更多关于[教程点的块](http://www.tutorialspoint.com/ruby/ruby_blocks.htm)

# windows - 如何将函数地址转换为符号

> ID：14050304
> 
> 赞同：9
> 
> 时间：2012-12-27T06:19:31.037
> 
> 标签：windows, debugging, symbols, debug-symbols

假设我有一个这样的程序

```
// print-addresses.cpp
#include <stdio.h>

void foo() { }

void bar() { }

void moo() { }

int main(int argc, const char** argv) {
  printf("%p\n", foo);
  printf("%p\n", bar);
  printf("%p\n", moo);
  return 0;
} 
```

它打印一些数字，例如

```
013510F0
013510A0
01351109 
```

如何将这些数字转换回正确的符号？实际上，我希望能够做到这一点

```
print-addresses > address.txt
addresses-to-symbols < address.txt 
```

并让它打印

```
foo
bar
moo 
```

我知道这与[调试接口访问 SDK](http://msdn.microsoft.com/en-us/library/x93ctkx8%28v=vs.100%29.aspx)有关，但我并不完全清楚我是如何从地址转到符号的。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-01-04T07:52:31.440

这似乎正是您正在寻找的内容：[Retrieving Symbol Information by Address](http://msdn.microsoft.com/en-us/library/windows/desktop/ms680578%28v=vs.85%29.aspx)。这使用 DbgHelp.dll 并依赖于调用[SymFromAddr](http://msdn.microsoft.com/en-us/library/windows/desktop/ms681323%28v=vs.85%29.aspx)。您必须从正在运行的应用程序中执行此操作（我认为），或者通过读取小型转储文件。

您也可以使用 DIA，但调用顺序有点复杂。调用[IDiaDataSource::loadDataForExe](http://msdn.microsoft.com/en-us/library/12kk9t39%28v=vs.100%29.aspx)和[IDiaDataSource::openSession](http://msdn.microsoft.com/en-us/library/3tw26387%28v=vs.100%29.aspx)以获取[IDiaSession](http://msdn.microsoft.com/en-us/library/4sy4ebfw%28v=vs.100%29.aspx)，然后[调用 IDiaSession::getSymbolsByAddr](http://msdn.microsoft.com/en-us/library/sya9d56a%28v=vs.100%29.aspx)以获取[IDiaEnumSymbolsByAddr](http://msdn.microsoft.com/en-us/library/94x451ae%28v=vs.100%29.aspx)。然后，[IDiaEnumSymbolsByAddr::symbolByAddr](http://msdn.microsoft.com/en-us/library/7dhd2yk6%28v=vs.100%29.aspx)将让您按地址查找符号。还有一种方法（如最后一个链接的示例所示）枚举所有符号。

**编辑：**这个 DIA 示例应用程序可能是使用 DIA 的一个很好的起点：http: [//msdn.microsoft.com/en-us/library/hd8h6f46%28v=vs.71%29.aspx](http://msdn.microsoft.com/en-us/library/hd8h6f46%28v=vs.71%29.aspx)。特别检查使用`IDiaEnumSymbolsByAddr`.

您还可以解析[dumpbin](http://support.microsoft.com/kb/177429)的输出，可能使用 /SYMBOLS 或 /DISASM 选项。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-08T03:50:20.660

如果你在 linux 中，你可以试试 addr2line

```
addr2line addr -e execuablebin -f 
```

# javascript - 使用点击绑定的多个按钮，只有一个连接起来

> ID：14050309
> 
> 赞同：4
> 
> 时间：2012-12-27T06:20:01.473
> 
> 标签：javascript, knockout.js

在上下文中，`ko foreach: widgits`我正在构建带有几个按钮的列表项，这些按钮向用户公开选项。

```
<ul>
<!-- ko foreach: wigits -->
    <li>
        <span data-bind="text: $data.text"></span>
        <button id="fast" data-bind="click: function(){$root.spinWidget($data, '1000rpm')}"></button>
        <button id="medium" data-bind="click: function(){$root.spinWidget($data, '500rpm')}"></button>
        <button id="slow" data-bind="click: function(){$root.spinWidget($data, '200rpm')}"></button>
    </li>
<!-- /ko -->
</ul> 
```

当我单击第一个按钮时，我看到每次单击都会调用单击处理程序。当我单击或检查其他按钮时，我发现没有设置单击处理程序。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-31T04:47:55.993

问题最终是我在jquery下面包含了knockoutjs，一旦我把它移到上面，它就可以工作了。我知道为什么，但确实如此。

# cassandra - 关于 Cassandra 数据类型的问题

> ID：14050311
> 
> 赞同：1
> 
> 时间：2012-12-27T06:20:16.577
> 
> 标签：cassandra

我是 cassandra 的新手，想了解以下内容：

1.  如何为列设置默认值。
2.  如何定义 char 数据类型或至少定义 varchar 的大小，例如 mysql 中的 varchar(100)。
3.  如何指定列是否可以具有空值。
4.  如何实现自动增量功能。

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-28T06:59:15.867

> 列和列的默认值可以为空值，也可以不为空值

这两个特性在关系模型中是有意义的，其中正确的模式是必须的。但是 cassandra 最初是为无模式架构而构建的[这并不意味着您不能将它用于具有适当模式的数据模型]。尽管列族支持[`column_metadata`](http://www.datastax.com/docs/1.1/ddl/column_family#static-column-families)它只是一个宽松的约束。

> 在静态列族中，虽然行通常具有相同的列集，但它们不需要定义所有列

来自同一个文档

> 如何定义 char 数据类型或至少定义 varchar 的大小，例如 varchar(100)

Cassandra 默认有[`ascii & uft8`](http://www.datastax.com/docs/1.1/ddl/column_family#about-data-types-comparators-and-validators)类型

> 如何完成自动增量功能

要求与此相同，[因此发布](https://stackoverflow.com/questions/8154332/cassandra-unique-constraint-on-row-key)。直接回答是否定的。

# php - 保留选定的下拉值

> ID：14050314
> 
> 赞同：0
> 
> 时间：2012-12-27T06:20:49.060
> 
> 标签：php, html

我有这个下拉菜单，用户可以选择多个选项，如果表单出现错误，我如何在提交按钮后将选定的值保留在表单上

```
<select  onclick="document.getElementById('cand_qual4').style.display='none'; " name="oca[]" id="oca"  multiple="multiple">
<?php
      $odrop = array('B COM','M COM','BBA','MBA','LLB','LLM','CPA','CIMA','MS FINANCE','DISA','CISA','OTHER');

      foreach ($odrop as $odrop1)
      {
        echo '<option value="' . $odrop1 . '"' . (isset($_POST['oca']) && in_array($odrop1,$_POST['oca'])  ? ' selected' : '') . '>' . $odrop1 . '</option>';
      } 
 ?>         
</select> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-27T06:24:59.073

instead of

```
$_POST['oca'] == $odrop1 
```

condition as `$_POST['oca']` would be an array, try

```
in_array($odrop1,$_POST['oca']) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-27T06:25:30.823

TRY THIS-

```
echo '<option value="' . $odrop1 . '"' . (is_array($_POST['oca']) && in_array($odrop1,$_POST['oca'] ) ? ' selected' : '') . '>' . $odrop1 . '</option>'; 
```

# file-upload - Amazon S3 crossdomain.xml 始终显示 403 Forbidden

> ID：14050317
> 
> 赞同：5
> 
> 时间：2012-12-27T06:21:22.520
> 
> 标签：file-upload, amazon-s3, cross-domain, http-status-code-403, plupload

我正在使用 plupload 将文件直接上传到 Amazon S3。我将 crossdomain.xml 文件添加到 Amazon。当我尝试使用[plupload](https://github.com/moxiecode/plupload/blob/master/examples/jquery/s3.php)中给出的示例代码将文件上传到 S3 时，我得到了

> GET [http://xxxx.s3.amazonaws.com/crossdomain.xml](http://xxxx.s3.amazonaws.com/crossdomain.xml) 403（禁止）

我的 crossdomain.xml 是

```
 <?xml version="1.0"?>
 <!DOCTYPE cross-domain-policy SYSTEM "http://www.macromedia.com/xml/dtds/cross-domain-     policy.dtd">
 <cross-domain-policy>
 <allow-access-from domain="*" secure="false" />
 </cross-domain-policy> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-04-01T05:29:19.723

您是否在对象上设置了公共读取 acl 或在存储桶上设置了 getobject 权限？

[http://docs.aws.amazon.com/AmazonS3/latest/dev/ACLOverview.html](http://docs.aws.amazon.com/AmazonS3/latest/dev/ACLOverview.html)

# java - 如何在图像视图的拖放中处理拖放事件？

> ID：14050321
> 
> 赞同：2
> 
> 时间：2012-12-27T06:21:31.723
> 
> 标签：java, android, drag-and-drop

我需要在我的新项目中拖放。我提到了这篇[博文](http://www.javacodegeeks.com/2011/12/android-drag-and-drop-tutorial.html)。但是我在执行 Drop 时遇到了问题。我无法获得我持有的图像，也无法进入视野。我使用的 DragListner 如下所示。我不知道如何处理dropevent。

```
class MyDragListener implements OnDragListener {

    @Override
    public boolean onDrag(View view, DragEvent dragEvent) {
        int dragAction = dragEvent.getAction();
        View dragView = (View) dragEvent.getLocalState();
        if (dragAction == DragEvent.ACTION_DRAG_EXITED) {
            System.out.println("exit------------");
            containsDragable = false;
        } else if (dragAction == DragEvent.ACTION_DRAG_ENTERED) {
            System.out.println("enter------------");
            containsDragable = true;
        } else if (dragAction == DragEvent.ACTION_DRAG_ENDED) {
                System.out.println("end------------");
                dragView.setVisibility(View.VISIBLE);
        } else if (dragAction == DragEvent.ACTION_DROP && containsDragable) {
            dragView.setVisibility(View.VISIBLE);

        }
        return true;
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-27T07:01:58.867

也许一开始你可以打印出

```
DragEvent.ACTION_DROP 
```

代码，并将其与 dragAction 的值进行比较。如果值相同，则问题出在 containsDragable 函数上。

希望这可以帮助

# jquery - JQgrid 日期选择器问题？

> ID：14050325
> 
> 赞同：0
> 
> 时间：2012-12-27T06:21:45.220
> 
> 标签：jquery, jqgrid

在我使用内联单元格编辑的 JQgrid 中，当我在 generate 中从一个 dateCell 切换到另一个时`Uncaught Type error`。

错误如下：

```
Uncaught TypeError: Cannot read property 'dpDiv' of undefined jquery-ui-1.8.19.custom.min.js:65 
```

我认为出错的是 datepicker 字段中的 keydown 事件被触发，并且当它执行时发现它`dpDiv`为空。为了克服这个问题，我试图在`Tab`按下键时破坏 keydown 事件，但这里没有运气..

这就是我正在做的事情，它会产生这个错误：

```
 afterEditCell: function (id, name, val, iRow, iCol) {
            var cModel = $grid.jqGrid("getGridParam", "colModel");
            var currCol = cModel[iCol].name;

                var $row = $grid.find('.jqgrow#' + id);
                var $columns = $row.find('td');
                $td = $($columns[iCol]);

                if (isAnyDate(iCol)) {
                $td.find('input').addClass('textBoxStyle').datepicker().keyup(function (e) {
                        var code = e.which || e.keyCode;
                        if (code == 9)
                            $(this).datepicker('destroy');
                    });
                }

}); 
```

当鼠标单击用于单元格导航时，它工作正常！

帮助任何人？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-27T06:39:12.923

可能是它没有得到钥匙事件，试试这个：

而是使用`keyup`尝试使用`keypress`或`keydown`

```
if (isAnyDate(iCol)) {
    $td.find('input').addClass('textBoxStyle').datepicker().keydown(function (e) {
       var code = e.which || e.keyCode;
       if (code == 9)
          $(this).datepicker('destroy');
    });
 } 
```

或者这个：

```
if (isAnyDate(iCol)) {
     $td.find('input').addClass('textBoxStyle').datepicker();
     $(document).on('keydown', '.textBoxStyle', function(e) {
         var code = e.which || e.keyCode;
         if (code == 9)
            $(this).datepicker('destroy');
     });
 } 
```

在提琴手中尝试过：http: [//jsfiddle.net/VMuhK/1/](http://jsfiddle.net/VMuhK/1/)

试试这个，看看是否有帮助。

# java - 规则引擎 Drools 和 JESS（工作流引擎）

> ID：14050332
> 
> 赞同：1
> 
> 时间：2012-12-27T06:22:24.463
> 
> 标签：java, jakarta-ee, business-rules, rule-engine

我通过阅读大量文档了解了 2 个规则引擎 JESS（工作流引擎）和流口水，所以您能建议我哪个更好吗？

我的要求就像我正在检查源代码，如果缺少任何标准方法或方法，请获取日志或报告或任何类型的标志，那么哪一个对我有好处？

我从这里读到了这两个

[Java规则引擎的优缺点](https://stackoverflow.com/questions/2167358/pros-and-cons-of-java-rules-engines)

[http://www.jessrules.com/guidelines.shtml](http://www.jessrules.com/guidelines.shtml)

[http://blog.athico.com/2007/08/jboss-drools-vs-ilog-jrules.html](http://blog.athico.com/2007/08/jboss-drools-vs-ilog-jrules.html)

[流口水 vs JBPM ? 差异，优点和缺点](https://stackoverflow.com/questions/9736143/drools-vs-jbpm-differences-pros-and-cons)

但仍然很困惑，所以任何人都可以建议我一个正确的方向

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-27T06:37:13.457

```
which one will be good ? 
```

他们中的任何一个都很好。我也使用了 Drools，它已经足够好了。

```
My requirement is something like i am checking source code and if any standard method or approach is missing get a log or report or any kind of flag so which one will be good for me ? 
```

我认为你需要的是[maven-checkstyle-plugin](http://maven.apache.org/plugins/maven-checkstyle-plugin/)

# c++ - 使用 Levenberg Marquardt 算法的单应性计算

> ID：14050335
> 
> 赞同：2
> 
> 时间：2012-12-27T06:22:45.093
> 
> 标签：c++, image, statistics, computer-vision, homography

OpenCV 中的 findHomography() 函数查找两个平面之间的透视变换。使用 Levenberg-Marquardt 方法进一步细化计算出的单应矩阵（仅在稳健方法的情况下使用内点），以进一步减少重投影误差。任何人都可以提供任何指向 Levenberg Marquardt 算法的 C/C++ 代码链接，这是最小化误差函数所需的，因为它将帮助我理解算法背后的数学。（网络上到处都只上传了库或特定代码，但没有上传算法的详细代码）。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-27T06:28:54.777

我知道这不是 C/C++，但 Matlab 文件交换中的文件可能有可以帮助您的源代码：

[http://www.mathworks.com/matlabcentral/fileexchange/16063](http://www.mathworks.com/matlabcentral/fileexchange/16063)

如果您了解 C/C++，您可能对 Matlab 的理解不会有任何问题，特别是如果您正在查看源代码以加深理解。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2014-03-14T01:31:00.140

openCV 代码是开放的，因此请检查模块。[openCV](http://docs.opencv.org/trunk/opencv_cheatsheet.pdf)的备忘单有 Levenberg Marquardt 公式，请参阅第 1 页第 3 列。您可以使用 grep 搜索该备忘单公式或仅搜索方法的名称：

```
grep -rnw . -e "Levenberg" 
```

例如，您可以在 modules/legacy 文件夹中发现很多 levmar*.c 文件。使用 RANSAC 求解线性方程组后使用 LMA 的原因是因为前者的线性方程优化了错误的度量 - Homography 参数中的代数误差。更好的度量标准是点坐标的残差平方和。在这个指标中，解决方案是非线性的，必须迭代地找到。线性解用于初始化非线性算法并增加其收敛到全局最小值的机会。

然而，查看代码并不总是理解复杂概念的最简单方法。这是优化算法的“进化”系列，希望可以帮助您理解：

1.  优化总是可以作为成本或残差的最小化
2.  如果函数是凸的（碗形），它只有一个全局最小值，可以通过向下滑动找到。由于梯度向上，我们用减号表示：

    **param[t+1]=param[t]-k*cost'**，其中 t-iteration, k-step 和 ' 代表梯度或导数 wrt 参数

3.  到目前为止一切都很好，但在某些情况下（想象一个看起来像滑雪管的成本函数）沿着梯度移动会使你从山谷的一侧到另一侧的过冲和曲折，而只会慢慢下降（到全局最小值） . 解决方案 - 使用更好的函数逼近（泰勒展开到二阶导数）来达到这个

    **param[t+1]=param[t]-(k/cost'') *cost'**，其中 '' 是二阶导数

直观的快速函数意味着大的二阶导数，因此我们通过减少步长（将其除以一个大数）来减慢收敛速度，反之亦然。
4\. 对于通常表示残差平方和或一些距离的二次误差，我们可以提出二阶导数的近似值作为一阶导数的乘积（称为雅可比矩阵，表示为 J，通常是一个矩阵）；二阶导数或 Hessian = J ^T J，所以优化看起来像

**param[t+1]=param[t]-(J ^T J) ^(-1) *cost'** - 称为 Gauss-Newton

在这里，为了简单起见，我们删除了 k ；比较这个和以前的公式，我们差不多了！另请注意，在维基百科和其他网站中，您可能会看到他们使用残差 yi-f(x, param) 而不是 k，但您现在也可以忽略它。仅当您对最后一种配方感到满意时，才能走得更远。
5\. Levenberg 来了，他说 - 它很棒，但可能不稳定。我们对那些二阶导数做了太多假设，最好抛弃它们并使事情看起来像以前一样的一阶导数。为此，我们添加了一个倾倒因子，可以使优化看起来像

**param[t+1]=param[t]-(J ^T J + lambda*I) ^(-1) *cost'**，其中 I 是单位矩阵，lambda 是标量

请注意，当 lambda 很大时，您可以丢弃 J ^T J 并留下标准梯度下降。他们在收敛速度减慢时这样做，否则他们使用小的 lambda，这使得算法看起来更像 Gauss-Newton。注意 J = d_z/d_param, cost'=d_f/d_param and f=z ^T *z

Marquardt 来了，他说，很好，但我喜欢我们的梯度下降速度更快 - 对于小对角线（J ^T J），我想要更大的步长，因此最终的公式中我们除以小对角线元素，从而在梯度缓慢时收敛更快：

**param[t+1]=param[t]-(J ^T J + lambda*diagonal(J ^T J)) ^(-1) *cost'**

下面是一个使用速降滑雪类比的快速总结，其中我们展示了参数变化 param[t+1]-param[t] 的表达式：
1\. 梯度 J 指向上方，但您想滑雪向下，因此反对梯度 -kJ；
2\. 如果在“雪管”中的锯齿形以与二阶导数（H）相反的步长移动；希望你能更快地直线下降： -H ^(-1) J
3\. 用一阶导数的乘积近似二阶导数 -(J ^T J) ^(-1) J ；
4\. 如果它太多就转储它并返回一阶导数 -(J ^T J + lambda *I) ^(-1) J;
5.不想卡在平坦的斜坡上？将您的步长反向缩放到近似 Hessian 的对角线：-(J ^TJ + λ*诊断(J ^T J)) ^(-1) J

这是一个很大的谜，为什么所有这些工作，因为我的直觉在一段时间后放弃了。也许现在是从哲学角度看待这个问题并应用奥卡姆剃刀原则的好时机——我们假设越少越好，但如果假设太少，我们可能不会走得太远。我们所做的只是预测（假设）函数在本地查看它的全局行为（想象在一起 1 周后结婚）。使用 Hessian 就像在其众多参数方面有更多假设，而不是更保守的雅可比矩阵，它有几个参数（假设）。最后，我们可能希望在保守或冒险方面保持灵活，这就是 Levenberg-Marquardt 方法试图实现的目标。

# jquery - 我如何动态使用jQuery datepicker

> ID：14050336
> 
> 赞同：0
> 
> 时间：2012-12-27T06:22:44.063
> 
> 标签：jquery, codeigniter, datepicker, jquery-ui-datepicker

我需要显示动态日期选择器，我的代码如下

```
$(function() {
$('.datepicker').datepicker({
    showAnim: "clip",
    gotoCurrent: true,
    dateFormat: "dd-mm-yy"
});
$('#mdcn_name').click(function(){

            $('<tr class="field" id="row"><td><input type="text" id="expire_date" name="expire_date" class="datepicker" placeholder="dd-mm-yyyy"/></td></tr>').fadeIn('slow').appendTo('#dataTabl');

});

});

<table id="dataTabl">
        <tr>
            <th>Exp Date</th>

            </tr>
</table> 
```

当我单击添加行时，我需要动态创建/显示日期选择器。请帮我

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-27T06:27:57.543

那是因为您的日期选择器没有为动态附加的 div 初始化。

创建一个日期选择器函数

```
function displayDatepicker(){
 $('.datepicker').datepicker({
   showAnim: "clip",
   gotoCurrent: true,
   dateFormat: "dd-mm-yy"
 });
}

$(function() {
     displayDatepicker()  //initialize date picker whn doucment is ready

     $('#mdcn_name').click(function(){

        $('<tr class="field" id="row"><td><input type="text" id="expire_date" name="expire_date" class="datepicker" placeholder="dd-mm-yyyy"/></td></tr>').fadeIn('slow').appendTo('#dataTabl');

         displayDatepicker() //call it after the element is appended...now this finds the appended div with a class datepicker and initailze the datepicker...

      });
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-27T06:50:37.227

提供的所有解决方案都将重新初始化所有日期选择器，但您真的只想定位新的。以下将仅针对新的日期选择器字段

```
/* store datepicker options in object*/
var datePickerOpts = {
    showAnim: "clip",
    gotoCurrent: true,
    dateFormat: "dd-mm-yy"
}
$(function() {
    $('.datepicker').datepicker(datePickerOpts);
    $('#mdcn_name').click(function() {

        var $row = $('<tr class="field" id="row"><td><input type="text" id="expire_date" name="expire_date" class="datepicker" placeholder="dd-mm-yyyy"/></td></tr>')
        $('#dataTabl').append($row);
        /* look for datepicker in new row and initialize*/
        $row.fadeIn('slow').find('.datepicker').datepicker(datePickerOpts);

    });
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-27T06:31:04.130

是否可能是因为 datepicker 初始化只发生一次，并且很可能在触发 click 事件并且输入 class="datepicker" 存在于 DOM 之前？

在追加之后将您的匿名函数移动到 .click() 函数中。

```
$('#mdcn_name').click(function(){
    $('<tr class="field" id="row"><td><input type="text" id="expire_date" name="expire_date" class="datepicker" placeholder="dd-mm-yyyy"/></td></tr>').fadeIn('slow').appendTo('#dataTabl');
    $(".datapicker").datepicker({
    ....
    ...
    ...
    etc.... 
```

});

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-12-27T06:28:24.227

尝试将您的功能放在

`$(document).ready(function(){})`

这将处理您的 dom 就绪事件

请参阅此链接以获取详细说明

[http://davidwalsh.name/javascript-domready](http://davidwalsh.name/javascript-domready)

希望这可以帮助

# javascript - 如何检索写在画布上的文本作为字符串

> ID：14050343
> 
> 赞同：1
> 
> 时间：2012-12-27T06:23:09.197
> 
> 标签：javascript, html, html5-canvas

我已经使用 filltext() 在画布上写了文本。现在在另一个函数中，我想将该值作为字符串检索。如果有人可以帮助我，请。提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-27T06:52:59.547

当您将文本写入画布时，还要向包含文本本身的画布对象添加自定义属性。当您想检查它时，只需查询该属性。所以：

```
myCanvas.getContext("2d").filltext(theText,x,y,maxWidth);
myCanvas.addedText = theText; 
```

然后，

```
var textToCheck = myCanvas.addedText; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-27T06:54:27.997

[您可能会对这篇 w3c 文章感兴趣：](http://www.w3.org/wiki/Reading_text_in_canvas)

> 当作者使用 fillText 或 strokeText 在画布上呈现文本时，他们还必须将具有相同文本、样式和位置的 html 元素（div 或 span）添加到画布子域。应使用 setElementPath 方法设置文本的边界框（参见 [http://www.w3.org/wiki/Canvas_hit_testing](http://www.w3.org/wiki/Canvas_hit_testing)）
> 
> 这使用户代理能够使用 subdom 文本来提供可访问的体验，因为 subdom 文本充当位图中呈现文本的代理。

[这是一个为可访问性而构建的示例：](http://www.paciellogroup.com/blog/2010/09/html5-canvas-accessibility-in-internet-explorer-9/)

```
<canvas id="example" width="260" height="200" role="img">   <p>A <a href="http://en.wikipedia.org/wiki/Rectangle">rectangle</a> with a black border. In the background is a pink circle. Partially overlaying the circle is a green square and a purple triangle, both of which are semi-opaque, so the full circle can be seen underneath.</p>   </canvas> 
```

因此，您需要做的就是当用户输入文本时，将其存储在画布元素内的 div 中。

# json - URL field not working with flexigrid no response from URL

> ID：14050344
> 
> 赞同：0
> 
> 时间：2012-12-27T06:23:11.100
> 
> 标签：json, jquery, flexigrid

When I pass the URL I am getting a no response from the url otherwise if I specify the corresponding WCF service page which is included in my project it is working is it any cross domain issue what would be the possible issue

```
<form id="sform" runat="server">
     <table id="flex2" style="display:none"></table>  
     <script type="text/javascript">
      $(document).ready(function () {
            var user_id = 1;
            var data = { UserID: user_id };

        $("#flex2").flexigrid({

            useInlineEditor: true,
            //singleSelect: true,
            rowClick: function (row) {
                //var r=this.DataSource.rows[row.rowIndex];
                //var p=$(row).offset();
                //alert(r[this.DataSource.key]+"   "+r.Name+" offset:"+p.top+","+p.left);
                //this.grid.inlineEditor.edit(row);
            },

            url: 'http://192.168.10.91:5001/Service.svc/GetStates',
            method: 'POST',
            dataType: 'json',
            colModel: [
            { display: 'Hours', name: 'hours', width: 40, sortable: true, align: 'center' },
            { display: 'DOC', name: 'doc', width: 180, sortable: true, align: 'left' },
            ],
            searchitems: [
            { display: 'Type', name: 'cmetype' }
            ],
            onError: function (jqXHR, textStatus, errorThrown) {
                alert("flexigrid failed " + errorThrown  + jqXHR + textStatus);
            },
            sortname: "type",
            sortorder: "asc",
            usepager: true,
            title: 'States',
            useRp: true,
            rp: 15,
            showTableToggleBtn: true,
            width: 800,
            height: 200
        });
    });

    //This function adds paramaters to the post of flexigrid. You can add a verification as well by return to false if you don't want flexigrid to submit           
    function addFormData() {
        //passing a form object to serializeArray will get the valid data from all the objects, but, if the you pass a non-form object, you have to specify the input elements that the data will come from
        var dt = $('#sform').serializeArray();
        $("#flex2").flexOptions({ params: dt });
        return true;
    }

    $('#sform').submit(function () {
        $('#flex2').flexOptions({ newp: 1 }).flexReload();
        return false;
    });
</script>
</form> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-28T17:56:12.510

确保 svc 服务是可访问的并且它可以接受发布请求。如果一切正常，请检查响应是否为 JSON 且有效。

# iphone - 导航标题在 iphone SDK 中未正确显示

> ID：14050345
> 
> 赞同：0
> 
> 时间：2012-12-27T06:23:22.927
> 
> 标签：iphone, ios, xcode, uinavigationcontroller

![在此处输入图像描述](../Images/7b466a50c73d5884befb28499d42542e.png)

如您所见，导航标题位于两个按钮下方。

两个左/右按钮被添加到导航栏的子视图。 **如何设置导航标题宽度？虽然看起来...**

我的代码如下：

```
self.navigationItem.titleView.frame=CGRectMake(0, 0, 20, 40);
[[self navigationItem]setTitleView:bigLabel]; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-27T08:02:49.070

如果您`UILable`的时间太长，您可以设置`navigation bar Title like this way in`iphone`，但在 ipad 中您可以使用相同的逻辑：-

![在此处输入图像描述](../Images/d234f03adbaaf95f8f02261cb1a95014.png)

```
 - (void)viewDidLoad
 {
       [super viewDidLoad];
      // Do any additional setup after loading the view, typically from a nib.
       self.navigationItem.leftBarButtonItem = self.editButtonItem;

       UIBarButtonItem *addButton = [[[UIBarButtonItem alloc]   initWithBarButtonSystemItem:UIBarButtonSystemItemAdd target:self action:@selector(insertNewObject:)] autorelease];
       self.navigationItem.rightBarButtonItem = addButton;

       UILabel *label = [[UILabel alloc]initWithFrame:CGRectMake(0.0, 0.0, 320.0, 44.0)];
       [label setBackgroundColor:[UIColor clearColor]];
       [label setNumberOfLines:0];
       [label setTextColor:[UIColor whiteColor]];
       [label setTextAlignment:UITextAlignmentCenter];
       [label setFont:[UIFont systemFontOfSize:12]];
       NSString    *str =@"1234567890 1234567890 1234567890 1234567890 1234567890 123456";
       [label setText:str];
       self.navigationItem.titleView = label;

 } 
```

希望它可以帮助你.. :)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-27T06:26:29.823

使用带有一键一开关和一个标题的自定义 UIView。要么通过 Xib 制作，要么通过代码制作。并隐藏默认导航栏。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-27T07:06:10.660

尝试更改添加的子视图的 x 位置。做这样的事情：

```
Yoursubview.frame=CGRectMake(self.view.size.width-Yoursubview.frame.size.width,0,Yoursubview.frame.size.width,Yoursubview.frame.size.height); 
```

# android - 在 onclick 方法中创建数据库和表时如何使用插入查询

> ID：14050349
> 
> 赞同：0
> 
> 时间：2012-12-27T06:24:08.717
> 
> 标签：android, sqlite

我在按钮（保存）的 onclick 方法中创建数据库和表。单击保存按钮时，将创建数据库和表。我可以使用 5 个编辑文本进行输出。在这个程序中，用户不能输入数值。例如定时器控制。在计时器应用程序中，当用户按下开始按钮然后倒数计时器启动时，他按下停止按钮然后值停止并且当他按下保存按钮时该值存储在数据库中。所以我可以在保存按钮上创建数据库和表。请给我建议和代码，用于插入与用户在数据库中输入的值不同的输出值。我的代码如下：

代码：

* * *

```
btn.setOnClickListener(new OnClickListener() {

        @Override
        public void onClick(View v) {
            // TODO Auto-generated method stub
        Intent intent =new Intent(Timedetails.this,ListActivity.class); 
        Toast.makeText(getApplicationContext(), "Project has been added to List", 1).show();
        startActivity(intent);
            try{

                        SQLiteDatabase db;
                db = openOrCreateDatabase("timer", MODE_PRIVATE, null);
                db.execSQL("create table timerdetail("
                        + "project_id integer PRIMARY KEY autoincrement,"
                        + "name text,"
                        + "Timerpoint1 text,"
                        + "Timerpoint2 text,"
                        + "Timerpoint3 text,"
                        + "ServiceTime1 text,"
                        + "ServiceTime2 text);");
                Toast.makeText(getApplicationContext(), "Table is created", 1).show();

            }
            catch(Exception e){
                e.printStackTrace();
            }
        } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-27T09:33:46.810

插入代码：

```
ContentValues cvTimerDtl = new ContentValues();
cvTimerDtl.put("name", name);
cvTimerDtl.put("Timerpoint1", tPoint1);
cvTimerDtl.put("Timerpoint2", tPoint2);
cvTimerDtl.put("Timerpoint3", tPoint3);
cvTimerDtl.put("ServiceTime1", sTime1);
cvTimerDtl.put("ServiceTime2", sTime2);
db.insert("timerdetail",  null, cvTimerDtl); 
```

编辑：我认为它应该工作。但我仍然发布另一个代码：

```
String query = "INSERT INTO timerdetail (name, Timerpoint1, Timerpoint2, Timerpoint3, ServiceTime1, ServiceTime2) VALUES ('"
                + name + "', '" + tPoint1 + "', '" + tPoint2 + "', '" + tPoint3 + "', '" + sTime1 + "', '" + sTime2 + "');";

db.execSQL(query); 
```

编辑：

您的 onClick 代码首先启动意图，然后您尝试将数据插入数据库：更改如下：

```
@Override
            public void onClick(View v) {
                // TODO Auto-generated method stub

                try{
                    db = SQLiteDatabase.openDatabase("data/data/com.example.timerdemo2/timer", null, SQLiteDatabase.CREATE_IF_NECESSARY);

                    //db = openOrCreateDatabase("timer", MODE_PRIVATE, null);
                    db.execSQL("create table timerdetail("
                            + "project_id integer PRIMARY KEY autoincrement,"
                            + "name text,"
                            + "Timerpoint1 text,"
                            + "Timerpoint2 text,"
                            + "Timerpoint3 text,"
                            + "ServiceTime1 text,"
                            + "ServiceTime2 text);");

                    Toast.makeText(getApplicationContext(), "Table is created", 1).show();

            //      db.execSQL("insert into timerdetail(name,tmpoint1,tmpoint2,tmpoint3,servicetime1,servicetime2) values ();");
    /*              ContentValues cv = new ContentValues();
                    //cv.put("name", eta.getText().toString());
                    cv.put("timing_point1", eta.getText().toString());
                    cv.put("timing_point2", etb.getText().toString());
                    cv.put("timing_point3", etc.getText().toString());
                    int rowposition = (int) db.insert("timerdetail", null, cv);     */
                    addRecord();

                }
                catch(Exception e){
                    e.printStackTrace();
                }
            Intent intent =new Intent(Timedetails.this,ListActivity.class); 
            Toast.makeText(getApplicationContext(), "Project has been added to List", 1).show();
            startActivity(intent);
            } 
```

编辑：

改变

```
db.execSQL("create table timerdetail("
                            + "project_id integer PRIMARY KEY autoincrement,"
                            + "name text,"
                            + "Timerpoint1 text,"
                            + "Timerpoint2 text,"
                            + "Timerpoint3 text,"
                            + "ServiceTime1 text,"
                            + "ServiceTime2 text);"); 
```

到

```
db.execSQL("create table IF NOT EXISTS timerdetail("
                            + "project_id integer PRIMARY KEY autoincrement,"
                            + "name text,"
                            + "Timerpoint1 text,"
                            + "Timerpoint2 text,"
                            + "Timerpoint3 text,"
                            + "ServiceTime1 text,"
                            + "ServiceTime2 text);"); 
```

因此，如果该表已存在，则不会创建该表。

编辑：

如果您想放置 x 列，您的内容值将包含那么多键值对。因此，如果您也想在数据库中添加标题。将内容值更改为

```
ContentValues cvTimerDtl = new ContentValues();

cvTimerDtl.put("title", title);
cvTimerDtl.put("name", name);
cvTimerDtl.put("Timerpoint1", tPoint1);
cvTimerDtl.put("Timerpoint2", tPoint2);
cvTimerDtl.put("Timerpoint3", tPoint3);
cvTimerDtl.put("ServiceTime1", sTime1);
cvTimerDtl.put("ServiceTime2", sTime2);
db.insert("timerdetail",  null, cvTimerDtl); 
```

# maven - Intellij trying to treat pom.xml as jar file

> ID：14050351
> 
> 赞同：5
> 
> 时间：2012-12-27T06:24:24.380
> 
> 标签：maven, intellij-idea, pom.xml

While trying to run test (on a maven project) from Intellij , I am constantly getting below mentioned error

```
[my-module] Exception in parsing jar file for extract from jar: /path/to/pom.xml java.util.zip.ZipException: The JAR/ZIP file (/path/to/pom.xml) seems corrupted, error: error in opening zip file 
```

However all maven cycles run well when run from the command line.

Has anyone faced this issue before ?

I have already tried all these things

1.  Invalidated Intellij Idea
2.  Deleted my .m2 repo and recreated the project

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-12-27T19:05:23.580

好的，终于修复了。osgi facet 显然是负责任的。一旦删除 facet，问题就解决了。不知道确切原因，但已知 intellij osgi facet 不稳定。更多信息[在这里](http://www.baptiste-wicht.com/2010/03/4-reasons-not-using-osmorc-anymore/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-07-15T11:49:00.800

即使在 2020 年，这个 IntelliJ (Ultimate 2019.2) 插件也会尝试将 pom.xml 文件作为 jar 文件打开。禁用 OSGI 插件对我有帮助：

[![在此处输入图像描述](../Images/79851293d41e3a2a27577dc5cc3e958c.png)](https://i.stack.imgur.com/CnoWq.png)

[![在此处输入图像描述](../Images/246d5a5f7fefe9bc03e05d39ed9ab4c9.png)](https://i.stack.imgur.com/WZlH0.png)

# android - Camera screen orientation issue Samsung galaxy S3

> ID：14050355
> 
> 赞同：2
> 
> 时间：2012-12-27T06:24:46.310
> 
> 标签：android, android-camera, samsung-mobile

In my app i am trying to take a pic from camera and displaying it in the `imageview`.Everything works fine but when i took pic from samsung galaxy s3 , it changed the orientation and displays the camera activity and `onActivity` result it displayed the pic in the `imageView` but in a fraction of seconds it changed the orientation again removed the pic from `imageview`.Its very weird how can i resolve this issue?

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T13:28:43.980

这可能迟到了，但我认为您的 onCreate 方法是在方向更改后调用的，因此您设置的 ImageView 位图在方向更改后为空。

尝试通过覆盖 onSaveInstanceState() 来保存数据和变量。每次方向改变时都会调用此方法。保存在方向更改后要保留的变量和值。

希望我是对的，这会有所帮助！

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-12-27T06:27:55.830

尝试这个：

```
LinearLayout myLayout = new LinearLayout(this);
myLayout.setOrientation(LinearLayout.VERTICAL); 
```

# python - 如何制作像网站表单一样的独立应用程序？

> ID：14050356
> 
> 赞同：0
> 
> 时间：2012-12-27T06:24:47.933
> 
> 标签：python, django, user-interface, django-forms

我想创建一个类似于网站上的表单的小型应用程序，但仅适用于本地文件。我不确定从哪里开始（Django 或其他）或使用什么，但我想从 GUI 开始。

创建这样的程序的最佳方法是什么？我可以使用 Django 创建一个不会在浏览器中使用且没有服务器的表单吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-27T06:30:51.230

使用[Python Webkit](http://www.gnu.org/software/pythonwebkit/)，你甚至可以创建一个网站并通过它进行渲染。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-27T07:29:32.227

如果我了解您的要求，您想为表单创建 UI。另外，您不想使用浏览器。然后你有很多选择。`Django`是网络框架。你可以避免它。只需使用`WxPython`或`PyQt`（我建议使用此）`TkInter`等创建一个 UI。在谷歌上搜索教程。

# ruby-on-rails - 在 Aptana 3 (ubuntu) 中转到备用文件的快捷键

> ID：14050362
> 
> 赞同：4
> 
> 时间：2012-12-27T06:25:39.700
> 
> 标签：ruby-on-rails, ruby, ubuntu, aptana3

请告诉我在 Aptana3 中转到备用文件的快捷键。例如。我有一个控制器和一个名为 hello.Now 我想从控制器转移到 hello.rhtml 的操作。我试过 Shift + ctrl + Alt + Down。但它不起作用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-05T09:52:34.363

到目前为止，我们没有任何快捷键。但我们可以通过以下方式实现这一点

命令 --> Rails --> 转到 --> 转到备用文件

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-12-28T08:35:21.120

我假设您想在 Aptana 中切换打开的文件？我对吗？你可以轻松搞定，

```
Ctrl + Tab 
```

如果你想去下一个文件或

```
Ctrl + Shift + Tab 
```

如果你想切换到上一个文件。

您可以在 Preferences / General / Keys 下进行调整：上一个编辑器（Aptana）和下一个编辑器（Aptana）

# ios - [UIDevice currentDevice].identifierForVendor.UUIDString returns all zeros

> ID：14050364
> 
> 赞同：2
> 
> 时间：2012-12-27T06:25:45.690
> 
> 标签：ios, objective-c, uniqueidentifier, udid

I have iPhone 4 with iOS 6.0 .
This property

```
[UIDevice currentDevice].identifierForVendor.UUIDString 
```

always returning the all zeros ( 00000-----) .
Help me to fix this issue.
I have searched in the google.
I did the restart,deleted the app ... . But no use .

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-27T08:03:58.700

identifierForVendor 可能需要您在苹果的会员中心拥有一个注册的应用 ID，并且它是唯一的（不是通配符 ID）。因为这应该是从应用程序 ID 的某些部分生成 UUID。

您的应用 ID 是否设置为唯一的，例如：com.mycompany.myapp

在你的列表中？

# android - com.example package name not allowed in Google Play

> ID：14050365
> 
> 赞同：10
> 
> 时间：2012-12-27T06:25:46.530
> 
> 标签：android

I'm new to android application development. I'm creating simple android application. Export the android application and give the package name as `AndroidManifestfile` packagename as

```
 com.example.zingyminds.apk 
```

Now I got the apk file and upload to the google play at that time I got the below error message please anyone help me.

**The package name of your apk may not begin with any of the following values: `[com.android, com.google, android, com.example]`**

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-12-27T06:58:26.113

包通常使用以下约定命名：

```
[org/com].[company].[product].[component] 
```

按照惯例，包名不应包含大写字母。

Google Play 根据它们的包名识别所有应用程序，因此某些名称是为 android 的默认应用程序保留的，就像您在上一段中提到的那样，

```
[com.android, com.google, android, com.example] 
```

所以，这些包名是不鼓励的，你应该使用上面的约定来描述包名，像这样，

```
com.zingyminds.apk 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-12-27T06:26:56.983

Rename your package name **com.example.zingyminds.apk** to **com.zingyminds.apk**

Google Play doesn't care about the filename of your application. It cares about the package name defined in the manifest.

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-12-27T06:45:02.887

如果您观察正确，错误消息中的第四个值是“com.example”，这与您的包 com.example.zingyminds 的开头相同...将您的包重命名为消息中未列出的其他内容，它将解决你的问题。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-12-27T08:55:18.477

包通常使用以下约定命名：

```
[com.android, com.google, android, com.example] 
```

所以，这些包名是不鼓励的，你应该使用上面的约定来描述包名，像这样，

如果你想在你的包名中提到例子，试试这个

```
com.zingyminds.example.apk 
```

# php - Using PHP variable and use it in Jquery/Ajax page load request

> ID：14050375
> 
> 赞同：3
> 
> 时间：2012-12-27T06:26:41.557
> 
> 标签：php, jquery, ajax

Let's say I have set up a PHP variable like this:

```
$phpurl = $_GET["url"] 
```

where `url` value will be from `GET` variable query. The value of "url" will be some sort of html page link with some content like "`myContent.html`" I want to load.

How can I get this "url" value, which I have assigned to the variable "`$phpurl`" and use it in the Ajax/Jquery page load request?

```
$('.content').load('  ** need the value of "$phpurl" to be placed here ** '); 
```

Hope the question is clear. I am pretty new into programming. Thanks.

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-27T06:28:54.273

编辑：

```
$('.content').load('<?php echo json_encode($phpurl); ?>'); 
```

会做

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-12-27T06:37:13.143

您需要采取预防措施正确转义该值

```
<script type="text/javascript>
  var url = decodeURIComponent('<?php echo rawurlencode($phpurl) ?>');
</script> 
```

或者您可以尝试类似[https://github.com/allmarkedup/jQuery-URL-Parser](https://github.com/allmarkedup/jQuery-URL-Parser)

```
// requires no PHP at all!
var url = $.url(window.location).attr('url');
$('.content').load(url); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-12-27T06:37:02.813

作为一般规则，当您在两个领域之间移动变量时，您应该正确地转义变量，在本例中是从 PHP 到 JavaScript。

如果您无法完全控制变量内容，例如来自 , 等的内容，则尤其`$_GET`如此`$_POST`。

这是一个安全的选择，[`json_encode()`](http://www.php.net/json_encode)用于形成正确的 JavaScript 值：

```
$('.content').load(<?php echo json_encode($phpurl); ?>); 
```

# .htaccess - How to change domain.com to domain.com/folder using htaccess

> ID：14050378
> 
> 赞同：0
> 
> 时间：2012-12-27T06:26:50.427
> 
> 标签：.htaccess, mod-rewrite

I have this folder structure

```
webroot/
    www/
    srv/ 
```

When I visit [http://www.domain.com](http://www.domain.com), it points to the www/ folder using this codes:

```
RewriteCond %{HTTP:Host} ^(?:www\.)?domain\.com$
RewriteRule (.*) /www/$1 [NC,L,NS] 
```

It shows the contents of the www/ folder without the folder name on the address bar. It retains its name to:

```
http://www.domain.com 
```

What I want is to use the .htaccess mod_rewrite to change from:

```
http://sub.domain.com 
```

to

```
http://sub.domain.com/srv 
```

Where it shows the sub folder and it contents. Is it possible? I tried:

```
RewriteCond %{HTTP:Host} ^(?:sub\.domain\.com)?$
RewriteRule ^(.*)$ http://%{HTTP_HOST}/srv/$1 [R=301,L] 
```

but it returns a redirect loop error. How can I do this?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-27T07:19:44.707

您需要检查它是否已经指向`/srv`. 尝试：

```
RewriteCond %{HTTP:Host} ^(?:sub\.domain\.com)?$
RewriteCond %{REQUEST_URI} !^/srv/
RewriteRule ^(.*)$ http://%{HTTP_HOST}/srv/$1 [R=301,L] 
```

# android - 应用程序强制关闭错误

> ID：14050380
> 
> 赞同：-4
> 
> 时间：2012-12-27T06:26:57.733
> 
> 标签：android, logcat

当我尝试运行我的应用程序时，它显示强制关闭错误。

但是 logcat 什么也没显示。这意味着，它没有显示任何错误消息。

我能做些什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-27T06:34:56.793

由于设备与 eclipse 断开连接，Logcat 有时不会显示错误消息。

那时你可以做如下

*   重启日食

或其他明智的

*   打开`ddms`and in`devices`选项卡。将在此处列出软件包名称列表。单击您当前的工作包名称，然后您可以在 logcat 中看到消息。

# c - 有没有办法在目标 C 程序中获取执行语句的序列？

> ID：14050389
> 
> 赞同：1
> 
> 时间：2012-12-27T06:27:52.727
> 
> 标签：c, sequence, trace

我试图在执行程序**后**在用 C 编写的目标程序中获取执行语句的序列，但我找不到方法。我不需要在运行时获取执行语句的序列。有没有办法做到这一点？仅供参考，我知道 gcov 报告语句覆盖率，但据我所知，它不报告目标程序中执行语句的序列（我只想**在目标程序源代码中**获取执行语句的序列）。我正在使用 gcc 编译器在 Linux 中运行 C 程序 :)

为了您清楚地理解，请参见以下示例。

当我执行以下程序时，我想获得如下执行的语句序列。

```
1: int main()
2: {
3:    int a  = 10;
4:    printf("hello");
5:    if( a == 10){
6:       printf("a == 0");
7:    }else{
8:       printf("a != 0");}
9:    return 0;
10: } 
```

输出我想得到的是：**34569** （由于我要跟踪的目标程序在一行上只有一个语句，所以作为输出的**行号**序列对我来说就足够了）

几个小时前有人向其他人提出了这个问题（请参阅[问题](https://stackoverflow.com/questions/14048538/are-there-ways-getting-sequence-of-executed-statements-in-a-program-written-in-c)），但没有明确答案的一些读者将其关闭。如果它有众所周知的解决方案，请告诉我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-27T07:08:13.800

您可以使用**LINE**预处理器宏来获取行号，

只需`printf("%d", __LINE__);`在每行之后添加

# java - 读取响应中标头的值 X-XSS-protection 响应标头

> ID：14050392
> 
> 赞同：0
> 
> 时间：2012-12-27T06:28:01.527
> 
> 标签：java, httpresponse

我正在实施一个过滤器来设置

```
httpServletResponse.setHeader("X-XSS-Protection", "1; mode=block"); 
```

我已经写了过滤器。我想检查它是否工作完美。

我想从响应对象中读取标题。但我不知道该怎么做。

任何人都可以告诉如何做到这一点。

或者如果有更好的方法，请告诉我。

**编辑**

更新代码

```
public void doFilter(final ServletRequest req, final ServletResponse res, final FilterChain filterChain)
            throws IOException, ServletException 
            {   

        final HttpServletResponse response = (HttpServletResponse) res;
        final HttpServletRequest request = (HttpServletRequest) req;

        //set  X-XSS-protection in http header, other http headers can be added in same way
        String value = enable ? "1" : "0";  

        if(block) 
        {
            value += "; mode=block";
        }    

        PrintWriter out = response.getWriter();
        out.println("ready to set xss");
        response.setHeader("X-XSS-protection", value);
        out.println("<br/><br/>Xss has been set");          
        filterChain.doFilter(req, res);
        out.println("<br/><br/>XSS"+request.getHeader("X-XSS-protection"));     

        out.println("<br/><br/>job done");
    } 
```

我收到**“XSSnull”**

请帮助我如何纠正它。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-27T06:54:41.460

您可以像这样获取并阅读响应阅读器

```
request.getHeader("name of the header"); 
```

我猜你的情况是你的目标是这样的

```
request.getHeader("X-XSS-Protection"); 
```

**编辑**

为了更清楚地说明，您可以将 Request 和 Response 稍微类比一下。

*   请求 - 您要发送的内容。

*   响应 - 您收到的内容

有关请求和响应的更多信息，请参阅[本](http://courses.coreservlets.com/Course-Materials/csajsp2.html)指南，如果将包含您需要的有关请求和响应标头的所有信息。专门去`'Handling Http Response Headers'`

# python - sql alchemy 标量查询问题？

> ID：14050394
> 
> 赞同：1
> 
> 时间：2012-12-27T06:28:03.170
> 
> 标签：python, orm, sqlalchemy

这个查询有什么问题。

```
self.connection.execute(select([func.count(table.c.id)]).as_scalar()) 
```

这给了我这个回溯

```
StatementError: Not an executable clause (original cause: ArgumentError: 
     Not an executable clause) '(SELECT count(table.id) AS count_1 \nFROM agent)' 
```

或者如何使用**SqlAlchemy Core获取表中所有行的数量**

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-27T15:29:46.117

不确定为什么需要使用 .as_scalar() 方法。此方法旨在用于创建子查询对象。而子查询对象用于构建另一个查询，而不是直接执行。

从您的代码看来，您正在构建要执行的选择查询：

在这种情况下，以下代码就足够了：

```
self.connection.execute(select([func.count(table.c.id)])) 
```

以下代码正常工作：

```
r = engine.execute(select([func.count(table.c.id)]))
print r
for i in r:
    print i 
```

结果：

```
<sqlalchemy.engine.base.ResultProxy object at 0x032F4E30>
(1,) 
```

**PS：** 来自 sqlalchemy 文档： [查询对象：as_scalar](http://docs.sqlalchemy.org/en/rel_0_7/orm/query.html#sqlalchemy.orm.query.Query.as_scalar)

> as_scalar()
> 
> 返回此查询表示的完整 SELECT 语句，转换为标量子查询。

# types - 键入的参考单元格？

> ID：14050401
> 
> 赞同：1
> 
> 时间：2012-12-27T06:28:34.770
> 
> 标签：types, ocaml, union, dereference, ref

我是一个 ocaml 菜鸟。到目前为止，使用普通的旧 ref 到 int 或其他简单的内置类型对我来说在所有方面都符合预期。我在元组的上下文中使用了它们，其中引用是元组的成员。我可以更新 refs，取消引用它们等。

```
 # let e = 1, ref 1;;
 val e : int * int ref = (1, {contents = 1})
 # snd e := 2;;
 - : unit = ()
 # e;;
 - : int * int ref = (1, {contents = 2})
 # !(snd e);;
 - : int = 2 
```

但是，一旦我向其他聚合（甚至是内置的简单）类型声明了一个命名类型“ref”，事情就会变得很糟糕。我发现我不能像以前那样更改引用，因为它们没有被声明为“引用”类型。这 ！和 := 运算符失败。

并且语义似乎以奇怪的明显不一致的方式发生变化。下面只是一个例子。为什么在下面编写第一个代码块是合法的，但在顶部循环（下面进一步）做类似的事情似乎是非法的？第一个块被编译器接受，我们可以在其中匹配一个构造类型的 ref 并使用 ! 第 13 行和第 14 行的运算符。这都在循环队列的上下文中，并使用 #use 从顶部循环中的文件加载：

```
type 'a element = 'a * 'a pointer 
and 'a pointer = Pointer of 'a element ref;;
let next (_,n) = n;;
type 'a queue = 'a element option ref;;

let create () = None;;
(*passes compiler and behaves well*)
let enqueue queue x = 
  match !queue with
      None ->
    let rec elem = (x, Pointer (ref elem)) in 
    queue := Some elem;
    | Some (_, Pointer last_newest_next) -> (*Insert between newest and oldest*)
      let oldest = !last_newest_next in
      let elem = (x, Pointer (ref oldest)) in
      last_newest_next := elem;
      queue := Some elem;; 
```

在顶部循环中，类似的努力（以及对此的变体）失败了，如下所示，我还使用函数分解了一个元组，然后尝试调用相同的运算符：

```
let rec elem = (1, Pointer (ref elem));;
let last = !(next elem);;
Characters 12-22:
let last = !(next elem);;
          ^^^^^^^^^^
Error: This expression has type int pointer
   but an expression was expected of type 'a ref 
```

是的，我正在使用 -rectypes 但我想在不使用递归缩写类型的情况下尝试一次，从那以后我就一直坚持下去。请注意以下在顶部循环中的工作，但我不确定它是否等效以及我真正想要的：

```
let last = next elem;;
val last : int pointer = (* ...  *) 
```

如果第 14 行的第一个代码块被更改为不使用 ! 运营商，它打破了。重写（如下）导致入队函数通过编译器但行为不端：

```
 (*compiles but fails - que only ever holds one item*)
let enqueue queue x = 
  match !queue with
      None ->
    let rec elem = (x, Pointer (ref elem)) in 
    queue := Some elem;
    | Some (_, Pointer last_newest_next) ->
      let oldest = last_newest_next in
      let elem = (x, Pointer oldest) in
      last_newest_next := elem;
      queue := Some elem;; 
```

一定是没有！运算符（以及一些其他更改），倒数第二行实际上是使 elem 中的指针指向自身，而不是更新不同的指针（从匹配的分解元素内）以指向 elem 最初的预期。无论如何，我仍然不明白为什么在类型化 ref 的顶部循环元组分解和从 ml 文件中执行相同操作之间的语义似乎不一致……如果这甚至是所有这一切的原因。还是从模式匹配中分解与通过函数分解元组不同？！？

我使用了一个出列函数来测试上述函数的行为：

```
let dequeue queue = 
  match !queue with
      None -> raise Not_found
    | Some (_, Pointer oldest_ref) ->
      let oldest = !oldest_ref in
      let (x, Pointer next_ref) = oldest in
      let next = !next_ref in
      if next == oldest then
    queue := None
      else 
    oldest_ref := next;
      x;; 
```

我可以理解为什么我可能想避开函数式语言中的 ref 单元格，但我需要知道在必要时如何使用它们（不是双关语）。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-27T06:53:36.603

我很难在你写的东西中找到一个特定的问题。但是，OCaml 并非不一致或不合逻辑。这是“现代” FP 语言的优点之一——它们的类型系统基于可靠的数学。现在，我将专注于您展示的第一件不起作用的事情：

```
# let rec elem = (1, Pointer (ref elem));;
# let last = !(next elem);; ## TYPE ERROR HERE 
```

如果你只看是什么，似乎问题就很清楚了`next elem`。从 , 的定义`elem`可以`next elem`看出`Pointer (ref elem)`。这不是参考。它的构造函数是`Pointer`. 因此，将运算符应用于它是没有意义的`!`，这就是类型错误告诉你的。如果要`elem`退出`next elem`，则需要解构`Pointer`构造函数。

```
# let unpointer (Pointer x) = x;;
# let last = !(unpointer (next elem));;
# last == elem;;
- : bool = true
# 
```

**编辑：**对于它的价值，你的循环列表类型对我来说有点令人费解。[如果您真的需要循环列表，您可以查看 OCaml Batteries Included: BatDllist](https://github.com/ocaml-batteries-team/batteries-included/blob/master/src/batDllist.ml)中出现的双向链表实现。这是一个简单的低级实现，看起来很像你用 C 编写的。更好的是使用内置的 OCaml 列表！在多年的 OCaml 编码中，我从来没有觉得需要使用循环列表（只有一个数据点）。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-12-27T08:35:37.780

您似乎对编程语言的语义有极低层次的理解。在这种情况下，坚持低位思考似乎会让你误入歧途。OCaml 中引用的语义是一致的，您在这里观察到的所有奇怪现象都是由于您的错误，而不是语言语义。

如果这可以帮助您，这里有一种向低实现级别思考的人描述 OCaml 语义的方法。这不是我通常向初学者描述的方式，但如果你坚持从指针、聚合和指针的角度思考：

*   OCaml 中的值可以用整数表示且不可变，并按原样传递，或者是指向某个堆块的指针；可变性在这种情况下更容易推理，在一种按值/按引用区分的语言中，除非明确解构或重建，否则一切都是共享的

*   引用是定义为具有可变字段的记录的派生概念`type 'a ref = {mutable contents: 'a};`，这对应于一个简单的框，该框指向一个值并且可以更改它指向的值；它是多态的并且行为一致。特别是，您观察到的任何打字错误都是由于代码中的错误造成的，请仔细查看！

*   类型`type foo = Foo of t`不同于`t`; 您可以将 a`v : t`转换为`foo`with `Foo v`，并将 a`v : foo`转换为 a `t`with `(match v with (Foo x) -> x)`。

我认为你同时混合了太多的困难。放下`-rectypes`并让您的代码正常工作，然后您可以考虑将其添加回来，看看它是否可以减轻代码的负担。默认情况下不启用的原因是接受`-rectypes`了一些肯定是错误的代码（`let sum x = x (* + *) x`），只是在以后使用它时会导致一个神秘的错误消息。如果您对语言的其他方面感到不舒服，您不希望这种情况发生。

# java - 需要解析HL7消息

> ID：14050402
> 
> 赞同：6
> 
> 时间：2012-12-27T06:28:36.877
> 
> 标签：java, hl7, hapi

我需要解析 HL7 消息，首先，验证消息然后解析。

```
 XMLParser xmlParser = new DefaultXMLParser();

 //encode message in XML 
 String hl7MessageInXML = null;
 try {
        hl7MessageInXML = xmlParser.encode(message);
 } catch (HL7Exception e) {
    e.printStackTrace();
 } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-27T08:06:01.870

示例代码：

```
import ca.uhn.hl7v2.parser.*;
import ca.uhn.hl7v2.model.Message;
import ca.uhn.hl7v2.model.v24.message.ACK;

public class ParserDemo {

    public static void main(String args[]) {
        //for demo purposes, we just declare a literal message string 
        String ackMessageString 
            = "MSH|^~\\&|foo|foo||foo|200108151718||ACK^A01^ACK|1|D|2.4|\rMSA|AA\r";

        //instantiate a PipeParser, which handles the "traditional encoding" 
        PipeParser pipeParser = new PipeParser();

        try {
            //parse the message string into a Message object 
            Message message = pipeParser.parse(ackMessageString);

            //if it is an ACK message (as we know it is),  cast it to an 
            // ACK object so that it is easier to work with, and change a value            
            if (message instanceof ACK) {
                ACK ack = (ACK) message;
                ack.getMSH().getProcessingID().getProcessingMode().setValue("P");
            }

            //instantiate an XML parser 
            XMLParser xmlParser = new DefaultXMLParser();

            //encode message in XML 
            String ackMessageInXML = xmlParser.encode(message);

            //print XML-encoded message to standard out
            System.out.println(ackMessageInXML);
        } catch (Exception e) {
            e.printStackTrace();
        }       
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-07-22T20:35:19.967

尝试使用 HAPI Parser api ( [http://hl7api.sourceforge.net/](http://hl7api.sourceforge.net/) )。在这里您可以找到一些关于解析 HL7 消息的示例：

[http://ignaciosuay.com/how-to-use-hapi-terser-with-hl7/](http://ignaciosuay.com/how-to-use-hapi-terser-with-hl7/)

[http://ignaciosuay.com/how-to-set-repetitions-in-hl7-messages-using-hapi-terser/](http://ignaciosuay.com/how-to-set-repetitions-in-hl7-messages-using-hapi-terser/)

希望能帮助到你

# android - 代码在android中的设备上不起作用

> ID：14050418
> 
> 赞同：0
> 
> 时间：2012-12-27T06:30:04.897
> 
> 标签：android, android-gallery

我想将 sdcard 中 AutoistDiary 文件夹中存储的图像显示到图库中，该活动在我编写了该代码的模拟器中开始，但是当我在我的设备上执行相同的 apk 时，它会强制关闭，

这是我的代码，它在实际设备中通过强制关闭，在这种情况下该怎么办？

```
//get the gallery view---------------------------------------------------------------------        
         Gallery g = (Gallery) findViewById(R.id.gallery);  
            g.setAdapter(new ImageAdapter(this, SDCard()));           
            g.setOnItemClickListener(new OnItemClickListener() 
            {  
                public void onItemClick(AdapterView<?> parent,  View v, int position, long id) 
                {  

                    Log.i("position", Integer.toString(position));
                }  
            });  

    }
    private List<String> SDCard()  
    {  
        Log.i("inside", "SDCard() method");
     List<String> tFileList = new ArrayList<String>();  
     File dir = Environment.getExternalStorageDirectory();
//   File yourFile = new File(dir, "path/to/the/file/inside/the/sdcard.ext");
     //It have to be matched with the directory in SDCard  
     File f = new File( dir, "/AutoistDiary/");  
    //File f = new File(  "/sdcard/");
     File[] files=f.listFiles();  

     for(int i=0; i<files.length; i++)  
     {  
      File file = files[i];  
      /*It's assumed that all file in the path 
        are in supported type*/  
      tFileList.add(file.getPath());

      msg="getting autioistdiary file path" + i+tFileList;
      showToastMessage(msg);

     }  

     return tFileList;  
    } 

    public class ImageAdapter extends BaseAdapter 
    {  
        int mGalleryItemBackground;  
        private Context mContext;  
        private List<String> FileList;  

        public ImageAdapter(Context c, List<String> fList) 
        {  
            mContext = c;  
            FileList = fList;  
            TypedArray a = obtainStyledAttributes(R.styleable.Gallery1);  
            mGalleryItemBackground = a.getResourceId(  
            R.styleable.Gallery1_android_galleryItemBackground,0);  
            a.recycle();  
        }  

        public int getCount() {  
            return FileList.size();  
        }  

        public Object getItem(int position) {  
            return position;  
        }   

        public long getItemId(int position) {  
            return position;  
        }  

        public View getView(int position, View convertView,  
          ViewGroup parent) {  
            ImageView i = new ImageView(mContext);  

            Bitmap bm = BitmapFactory.decodeFile(FileList.get(position).toString());  
            i.setImageBitmap(bm);  

            i.setLayoutParams(new Gallery.LayoutParams(100,70));  
            i.setScaleType(ImageView.ScaleType.FIT_XY);  
            i.setBackgroundResource(mGalleryItemBackground);  

            Log.i("images ", "added to gallery from card");
            msg="added to gallery from card";
            showToastMessage(msg);
            return i;  
        }  
    }  
    public TypedArray obtainStyledAttributes(int theme) {  
        // TODO Auto-generated method stub  
        return null;  
    } 
```

这是我的 logcat 12-27 12:02:42.016: I/inside(1217): docsshow 12-27 12:02:42.056: D/szipinf(1217): Initializing inflate state 12-27 12:02:42.086: D /szipinf(1217): 初始化充气状态 12-27 12:02:42.216: I/inside(1217): SDCard() 方法 12-27 12:02:42.996: D/skia(1217): --- SkImageDecoder: :Factory 返回 null 12-27 12:02:43.017: I/images(1217): 从卡添加到图库 12-27 12:02:43.866: D/skia(1217): --- SkImageDecoder::Factory 返回 null 12-27 12:02:43.886：我/图像（1217）：

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-27T06:49:13.543

我浏览了您给定的代码，可能存在两个问题，一个是没有获取 SDCard 路径，并且返回 Bitmap null，或者图像要显示两个大。希望对你有帮助

```
if (requestCode == ACTIVITY_SELECT_IMAGE)
      {
       if (resultCode == Activity.RESULT_OK) 
        {
            Uri selectedImage = data.getData();
            galleryImatePath = getRealPathFromURI(selectedImage);

            Bitmap bitmapThumbnail = null;

            BitmapFactory.Options bfOptions =new BitmapFactory.Options();
            try 
            {

                bfOptions.inDither=false;                     //Disable Dithering mode
                bfOptions.inPurgeable=true;                   //Tell to gc that whether it needs free memory, the Bitmap can be cleared
                bfOptions.inInputShareable=true;              //Which kind of reference will be used to recover the Bitmap data after being clear, when it will be used in the future
                bfOptions.inSampleSize=5;
                bfOptions.inTempStorage=new byte[32 * 1024];
                //highImageReso.setVisibility(View.VISIBLE);
                imgbutCross.setVisibility(View.VISIBLE);
                imgbutPriview.setVisibility(View.VISIBLE);

                /**
                 * Algorithm for uploading picture with low resolution                  
                 */
                InputStream stream;
                try {
                    stream = getContentResolver().openInputStream(selectedImage);
                    myImage = BitmapFactory.decodeStream(stream, null , bfOptions);
                } catch (Exception e2) {
                    e2.printStackTrace();
                }
                ByteArrayOutputStream bos = new ByteArrayOutputStream();
                myImage.compress(Bitmap.CompressFormat.JPEG, 100, bos);
                bitmapdata = bos.toByteArray();

                /**
                 * Algorithm for selected image preview on Add Note Popup                   
                 */
                InputStream streamFromLocation = null;
                try {
                    streamFromLocation = getContentResolver().openInputStream(selectedImage);
                    bitmapThumbnail = decodeSampledBitmapFromResource(streamFromLocation, 120, 120, selectedImage);

                } catch (Exception e) {
                    e.printStackTrace();
                }
                imgbutPriview.setImageBitmap(bitmapThumbnail);
                isPhoto = true;

            } 
            catch (OutOfMemoryError e)
            {
                System.out.println("OutofMemoryException------------------"+e.toString());
                bfOptions.inDither=false;                     //Disable Dithering mode
                bfOptions.inPurgeable=true;                   //Tell to gc that whether it needs free memory, the Bitmap can be cleared
                bfOptions.inInputShareable=true;              //Which kind of reference will be used to recover the Bitmap data after being clear, when it will be used in the future
                bfOptions.inSampleSize=8;
                bfOptions.inTempStorage=new byte[32 * 1024];

                try {
                    InputStream stream;
                    try {
                        stream = getContentResolver().openInputStream(selectedImage);
                        myImage = BitmapFactory.decodeStream(stream, null , bfOptions);
                    } catch (Exception e2) {
                        // TODO Auto-generated catch block
                        e2.printStackTrace();
                    }
                } catch (OutOfMemoryError e1) {
                    // TODO Auto-generated catch block
                    e1.printStackTrace();
                }

                ByteArrayOutputStream bos = new ByteArrayOutputStream();
                myImage.compress(Bitmap.CompressFormat.JPEG, 100, bos);
                bitmapdata = bos.toByteArray();

                /**
                 * Algorithm for selected image preview on Add Note Popup                   
                 */
                InputStream streamFromLocation = null;
                try {
                    streamFromLocation = getContentResolver().openInputStream(selectedImage);
                    bitmapThumbnail = decodeSampledBitmapFromResource(streamFromLocation, 120, 120, selectedImage);

                } catch (Exception e2) {
                    e2.printStackTrace();
                }
                imgbutPriview.setImageBitmap(bitmapThumbnail);

                isPhoto = true;
            }
            catch(Exception e)
            {

            }
        } 
      } 
```

# c# - 查询文本框时出错

> ID：14050422
> 
> 赞同：2
> 
> 时间：2012-12-27T06:30:26.110
> 
> 标签：c#, mysql, sql, visual-studio

这应该是一个简单的解决方案，但 Visual Studio 2012 给我的错误是说 sqlCon 是一个字段，但用作类型和 Textbox1 的相同错误...也许我缺少程序集引用或正确的连接导入？我希望继续这条简单的路线。

```
 MySqlConnection sqlCon = new MySqlConnection("Server=***;Port=***;Database=***;Uid=***;Pwd=***;");
    MySqlCommand commandText = new MySqlCommand ("SELECT count(Dues) From Students");
        sqlCon.CommandText = "SELECT * count(Dues) FROM Students";
        sqlCon.Connection = sqlCon;
        TextBox1.Text = sqlCon.ExecuteScalar().ToString(); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-27T06:33:34.000

*   打开连接
*   使用`using`语句
*   使用`Try-catch`块

片段，

```
string connStr = "Server=***;Port=***;Database=***;Uid=***;Pwd=***;";
string query = "SELECT count(Dues) From Students";
using(MySqlConnection sqlCon = new MySqlConnection(connStr))
{
    using(MySqlCommand sqlComm = new MySqlCommand())
    {
        sqlComm.Connection = sqlCon;
        sqlComm.CommandText = query;

        try
        {
            sqlCon.Open();
            TextBox1.Text = sqlComm.ExecuteScalar().ToString();
        }
        catch(MySqlException ex)
        {
            MessageBox.Show(ex.ToString());
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-27T07:06:19.043

```
 MySqlConnection sqlCon = new MySqlConnection("Server=***;Port=***;Database=***;Uid=***;Pwd=***;");
MySqlCommand commandText = new MySqlCommand ("SELECT count(Dues) From Students");

//sqlCon is of type MySqlConnection which is derived from DbConnection
sqlCon.CommandText = "SELECT * count(Dues) FROM Students";

//sqlCon has no Connection property, and why are you even assigning sqlCon to that property
sqlCon.Connection = sqlCon;

//ofcourse this will fail
TextBox1.Text = sqlCon.ExecuteScalar().ToString(); 
```

我相信你想要实现的是：

```
MySqlConnection sqlCon = new MySqlConnection("Server=***;Port=***;Database=***;Uid=***;Pwd=***;");
MySqlCommand command = new MySqlCommand ("SELECT count(Dues) From Students");

try
{
  sqlCon.Open();
  command.Connection = sqlCon;
  TextBox1.Text = command.ExecuteScalar().ToString();
}
finally
{
  sqlCon.Close();
} 
```

# mysql - Mysql存储过程动态选择没有变量

> ID：14050423
> 
> 赞同：0
> 
> 时间：2012-12-27T06:30:30.680
> 
> 标签：mysql, stored-procedures, dynamic

当我没有使用 out 变量时，存储过程可以正常工作，但是当我使用 out 变量执行存储过程时，会出现以下错误：

> MySQL 说：#1327 - 未声明的变量：sp_result

代码：

```
CREATE DEFINER=`root`@`localhost` PROCEDURE `test3`(OUT `sp_result` INT(11), IN `sp_where_param` VARCHAR(100), IN `sp_where_value` VARCHAR(100), IN `sp_table_name` VARCHAR(100))
NO SQL
BEGIN
DECLARE tbl_id VARCHAR(100);

SET tbl_id = CONCAT(sp_table_name,'_id');

SET @temp1=CONCAT('SELECT count(',tbl_id,') INTO sp_result FROM ',sp_table_name,' WHERE ',sp_where_param,' = \'',sp_where_value,'\'');
PREPARE stmt1 FROM @temp1;
EXECUTE stmt1;

END 
```

也许没有输出变量也不起作用:(

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-27T07:43:37.617

尝试使用用户变量 -

```
CREATE DEFINER = 'root'@'localhost'
PROCEDURE test3 (OUT `sp_result` int(11), IN `sp_where_param` varchar(100), IN `sp_where_value` varchar(100), IN `sp_table_name` varchar(100))
NO SQL
BEGIN
  DECLARE tbl_id varchar(100);

  SET tbl_id = CONCAT(sp_table_name, '_id');

  SET @temp1 = CONCAT('SELECT COUNT(', tbl_id, ') INTO @sp_result FROM ', sp_table_name, ' WHERE ', sp_where_param, ' = \'', sp_where_value, '\'');

  PREPARE stmt1 FROM @temp1;
  EXECUTE stmt1;
  DEALLOCATE PREPARE stmt1;

  set sp_result = @sp_result;

END 
```

...并添加 DEALLOCATE PREPARE 语句。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-27T06:33:44.620

它应该是-

```
SET tbl_id = CONCAT(sp_table_name,'_id');
SET @temp1=CONCAT('SELECT count(',tbl_id,') INTO 
```

像这样

```
SET @tbl_id:= CONCAT(sp_table_name,'_id');
SET @temp1:=CONCAT('SELECT count(',tbl_id,') INTO 
```

# javascript - Js 临时停止 click() 的进度

> ID：14050424
> 
> 赞同：0
> 
> 时间：2012-12-27T06:30:44.567
> 
> 标签：javascript, jquery, button, click, progress

我正在寻找停止按钮单击进度的方法，直到确认完成。

请建议一种暂时停止进度的方法，直到“显示确认框”返回 true。现在我的函数将继续向前运行。

```
.click(function(){
    //Show Confirm Box <- will return true of false

    //Start Process if true;

}); 
```

非常感谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-27T06:37:36.107

调用`confirm()`是同步的。也就是说，在用户关闭该框之前，您的代码实际上是暂停的。

```
if (confirm('some message')) {
    // User confirmed, do something here
} 
```

现在，如果您不使用`confirm()`，而是使用您自己的自定义模式对话框或类似的东西，那么您将需要使用回调。

您不应阻止脚本执行，因为该页面将显示为对用户锁定。相反，将回调函数传递给显示对话框的函数，并在完成后让对话框调用该函数。

```
function showDialog (confirmCallback) {
    // Show dialog here
    if (result === 'yes') { // replace this, obviously
        confirmCallback();
    }
}

.click(function(){
    showDialog(function () {
        // start process
    });
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-27T06:40:21.193

click 事件的参数是一个函数处理程序，当 click 事件发生时将被执行。

因此，当确认对话框返回 false 值时，您始终可以从该函数返回。

代码将是这样的

```
jQuery(".button").click( function(){
   var ans = confirm("Do you want to proceed further ?");
   if(!ans) return;

   alert("Now you can code the rest "); 
```

});​</p>

我创建了一个小提琴，请在下面查看

[http://jsfiddle.net/shidhincr/Ubj7S/1/](http://jsfiddle.net/shidhincr/Ubj7S/1/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-27T06:36:02.423

你看到这个问题了吗？ [在自定义确认框中暂停执行](https://stackoverflow.com/questions/7555748/pausing-execution-in-custom-confirm-box)

只需根据用户从确认框输入的代码拆分代码并调用函数

# python - 如何更改 python 的标准输入缓冲区大小？

> ID：14050431
> 
> 赞同：1
> 
> 时间：2012-12-27T06:31:16.923
> 
> 标签：python, linux, stdin

我使用 python 的标准输入从其他进程接收消息

但想更改快速接收消息的标准输入缓冲区大小

我知道子进程可以在打开子进程时设置标准输入缓冲区

但我的流程之一是发送消息的 ac 流程

另一个是接收消息的python进程

如何更改 python 中的标准输入缓冲区大小？

我的主机是一台linux机器..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-10-16T12:20:06.573

从[一个类似问题的答案](https://stackoverflow.com/a/3670470/1287112)：

> 您可以使用 python 的 -u 标志从标准输入/标准输出中完全删除缓冲：
> 
> ```
> -u     : unbuffered binary stdout and stderr (also PYTHONUNBUFFERED=x)
>          see man page for details on internal buffering relating to '-u' 
> ```
> 
> 并且手册页澄清了：
> 
> ```
>  -u     Force stdin, stdout and stderr to  be  totally  unbuffered.   On
>          systems  where  it matters, also put stdin, stdout and stderr in
>          binary mode.  Note that there is internal  buffering  in  xread-
>          lines(),  readlines()  and  file-object  iterators ("for line in
>          sys.stdin") which is not influenced by  this  option.   To  work
>          around  this, you will want to use "sys.stdin.readline()" inside
>          a "while 1:" loop. 
> ```

除此之外，它没有（很好或广泛）支持。

# php - zend 通过重定向获取多个 url 参数

> ID：14050440
> 
> 赞同：0
> 
> 时间：2012-12-27T06:32:12.243
> 
> 标签：php, zend-framework

我如何获得一个 url 参数以及 zend php 框架的重定向 url？假设我在当前页面上有以下 URL

```
localhost/business/microsoft 
```

当用户单击该页面上的按钮时，它会将他们重定向到具有以下 url 的另一个页面

```
 localhost/comment/WavvLdfdP6g8aZTtbBQHTw?return_url=%2Fbusiness%2FWavvLdfdP6g8aZTtbBQHTw 
```

我如何编写引导程序 getRouter 以便它可以捕获上述 url 参数？目前的似乎做得不好

```
$router->addRoute('comment', new Zend_Controller_Router_Route_Regex(
            'business/comment/id=',
            array(
                'controller' => 'business',
                'action'     => 'comment'
            )
            , array(
                'id' => '\d+'
            )
        )); 
```

谢谢！！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-27T10:19:10.950

You'll want to write a [plugin](http://framework.zend.com/manual/1.12/en/zend.controller.plugins.html) that captures the request parameters either before (*preDispatch()*) or after dispatch (*postDispatch()*) depending on whether or not you might want to intercept and redirect the request.

```
//basic example of controller plugin
class MyPlugin extends Zend_Controller_Plugin_Abstract
{
    public function preDispatch(Zend_Controller_Request_Abstract $request)
    {
        return $this->getRequest->getParams();
    }
} 
```

Then [register your plugin](http://framework.zend.com/manual/1.12/en/zend.controller.plugins.html#zend.controller.plugins.using).

# cakephp-2.2 - CakePhp cakesession 不能与 cake php 调试工具包一起使用

> ID：14050444
> 
> 赞同：0
> 
> 时间：2012-12-27T06:32:39.810
> 
> 标签：cakephp-2.2

我在我的项目中实现了 cakephp debugkit 插件。在我的 appcontroller.php 文件中，我添加

```
 var $helpers = array('Html', 'Form', 'Paginator', 'Js', 'Session'); 
 public $components = array('DebugKit.Toolbar');

 and in before filter i implement 
function beforeFilter() {
    if ($this->Session->check('GlobalFields')==false) {
    $this->Session->write('GlobalFields.tbl_assets.template_information_global', '');
    $this->Session->write('GlobalFields.tbl_assets.hilitelibrary', '');
    $this->Session->write('GlobalFields.tbl_assets.hilitesortedby', '');
    $this->Session->write('GlobalFields.tbl_assets.sc_url_prefix', '');
    }
}
   but it showing error 
   Fatal error: Call to a member function check() on a non-object.
   and i check that debug($this->Session) returns null.

 if i remove public $components = array('DebugKit.Toolbar'); then its run correctly.
 but i want to implement that debugkit with session. 
```

请帮我解决这个问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-27T13:48:22.337

那么这里发生的是通过设置：

```
public $components = array('DebugKit.Toolbar'); 
```

您正在覆盖包含[SessionComponent](http://api22.cakephp.org/class/session-component)的默认值。您将[SessionHelper](http://api22.cakephp.org/class/session-helper)附加到`$helpers`变量中，但这两个类是不同的 - 第一个（组件）允许您与 Controller 中的会话数据进行交互，第二个（助手）用于您的视图中。

因此，您的问题的解决方案是设置：

```
public $components = array('Session','DebugKit.Toolbar'); 
```

此外，如果您在全球范围内使用任何其他组件，您也应该在其中添加它们。

# asp.net - 访问另一个 ASP 应用程序上的 Sharepoint 列表

> ID：14050445
> 
> 赞同：0
> 
> 时间：2012-12-27T06:32:41.280
> 
> 标签：asp.net, sharepoint-2010

是否可以将共享点列表访问到要部署在另一台服务器上的我的 asp 应用程序中？如果是，请分享您的想法。

我曾尝试使用 rss 阅读器（jquery 插件）和 xml 阅读器的 asp，但它不工作。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-13T07:21:27.437

我的解决方案是使用对列表具有管理权限的服务帐户访问 SharePoint 列表。

# uitableview - 如何在 iOS 6 和 xcode 4.5 中使用 .xib 或 nib 制作简单的表格视图？

> ID：14050446
> 
> 赞同：1
> 
> 时间：2012-12-27T06:32:43.053
> 
> 标签：uitableview, ios6

```
-(UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{

    static NSString *CellIdentifier = @"Cell";

    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier            forIndexPath:indexPath];

    if (cell == nil) {
        cell = [[UITableViewCell alloc]initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier];

    }

    NSString *currentNames = [nameKeys objectAtIndex:indexPath.row];
    [cell.textLabel setText:currentNames];

    return cell;
   } 
```

为什么我遇到错误（我使用`.XIB`而不是故事板 iOS 6 和 Xcode 4.5）。我确实已经连接`datasource`并从连接检查员 ot 文件所有者那里获得委托。

**错误 ：**

```
 Assertion failure in -[UITableView dequeueReusableCellWithIdentifier:forIndexPath:], /SourceCache/UIKit_Sim/UIKit-2372/UITableView.m:4460
    2012-12-27 11:35:45.146 TableViewWithXib[570:c07] *** Terminating app due to uncaught exception 'NSInternalInconsistencyException', reason: 'unable to dequeue a cell with identifier Cell - must register a nib or a class for the identifier or connect a prototype cell in a storyboard' 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-27T09:30:38.240

根据[文档](http://developer.apple.com/library/ios/#documentation/uikit/reference/UITableView_Class/Reference/Reference.html)，

```
You must register a class or nib file using the 
registerNib:forCellReuseIdentifier: or registerClass:forCellReuseIdentifier: 
method before calling, 
```

`UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier forIndexPath:indexPath];`

因此，如果您不使用 nib 文件执行此操作，则使用

```
UITableViewCell *cell = [tableView
dequeueReusableCellWithIdentifier:CellIdentifier]; 
```

IE; 没有`forIndexPath:indexPath`也可以。

# asp.net - 在创建网站会话、缓存或 cookie 时，哪个会提供更好的性能？

> ID：14050447
> 
> 赞同：0
> 
> 时间：2012-12-27T06:32:44.913
> 
> 标签：asp.net, session-cookies

我正在创建一个网站，为此我需要某种存储介质，以便我可以使用哪个存储介质，哪个可以为网站提供更好的性能。

1.  会议
2.  缓存
3.  曲奇饼

请提出您的建议。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-27T06:36:07.350

这一切都取决于场景及其用法。

基本上缓存用于提高性能，会话用于在多个页面之间共享数据。过度使用会话会降低性能。Cookies 存储在客户端，可用于在客户端浏览器上保存不太机密的数据。

所以你必须明智地使用它们来提供性能

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-27T06:55:58.403

总的来说，这取决于您的需要。session 是一种存储存储在会话对象中的变量的方法，以便用户可以访问服务器上托管的所有网页。存储在客户端计算机上的 Cookie 不太安全，除非变量不受限制。缓存可帮助您的浏览器运行得更快。因此，缓存用于构建高性能 Web 应用程序。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-27T06:57:45.717

1.  **会话**用于存储服务器上当前 Web 会话的**每个用户信息。**
2.  **Cookie**用于存储当前 Web 会话的**每个用户信息或客户端上的持久信息，因此****客户端可以控制**cookie 的内容。
3.  **缓存**在单个应用程序中的用户之间**共享。**其主要目的是**缓存数据存储中的数据**，不应用作主存储。它支持自动失效功能。
    如果您的应用程序被许多未经身份验证的用户使用，那么最好将数据存储在 cookie 中。如果需要身份验证，您可以手动将数据存储在 DB 中。

# php - 如何上传打开和读取大（20 mb）csv 文件？

> ID：14050448
> 
> 赞同：1
> 
> 时间：2012-12-27T06:32:49.387
> 
> 标签：php, jquery, mysql

我正在处理 csv 文件上传，我需要上传大型 csv 文件，然后需要使用字段映射插入数据库。我正在使用 Jquery 执行此操作，它没有显示任何错误，只是将 url 显示为红色到 firbug。我没有得到什么问题？这是我的脚本。

```
 <script src="js/jquery.form.js"></script> 
    <script src="js/create_input.js"></script>
    <script> 
        $(document).ready(function() { 
            $('#UploadForm').on('submit', function(e) { 
                e.preventDefault();
                var value= $("#valS").val();
                var host=$('#host').val(); 
                //alert(host);
                $(this).ajaxSubmit({
                    type: "POST",
                    url: host+"views/excel_file_import.php",
                    data: {value: value},
                    success: function(html){   
                    $('#Exceloutput').html(html);  
                    }
                });  
            });
        }); 

    $(document).ready(function() { 
    $("#updatefields").click(function(){ 
    var arrayOfValues = $(".bookDetails select").map(function (i, el) { return      $(el).val(); }).get();
    var fileName= $("#excelfile").val(); 
    var csvState= $("#state_csv").val(); 
    var host=$('#host').val(); 
    $.ajax({  
        type: "POST",  
        url: host+"views/update_fields.php",  
        data:{str:arrayOfValues, fileName:fileName, csvState:csvState}, 
        success: function(msg){  
            $('#fieldUpdate').html(msg);  
            }  
         });

    return false; 

    });
    }); 
    </script> 
    <?php
    $host=$_SERVER['HTTP_REFERER'];
    $url=substr($host,0,-9);
    ?>
   <input type="hidden" value="<?php echo $url; ?>" id="host">
   <h1 class="page-title">Upload Csv File</h1>
   <div class="container_12 clearfix leading">
   <div class="grid_12" id="edit-form">

    <form action="<?php echo $url; ?>views/excel_file_import.php" method="post"     enctype="multipart/form-data" id="UploadForm" class="form has-validation">

      <div class="clearfix">
               <label for="form-upload" class="form-label">Upload File<em>*</em></label>
               <div class="form-input">
                   <input type="file" size="50" class="text" id="excelfile" name="excelfile" required="required"/>
                   <input type="hidden" size="50" class="text" id="valS" name="valS"  value="1" required="required"/>
               </div>
    </div>

     <div class="form-action clearfix">
             <button class="button class-button" type="submit"   id="SubmitButton">Upload</button>
             <button class="button class-button" type="submit" id="updatefields" name="updatefields">UpdateExcel</button>
     </div>

    </form>
    <div id='fieldUpdate'>
    </div>
    <div id='Exceloutput'>
    </div>

    </div>
     </div> 
```

这是 excel_file_import.php 代码。

```
<?php
include("../common/connection.php");
if(isset($_POST))
{
    $database= "test2";
    $filename = 'test-'.$_FILES['excelfile']['name'];
    $value= $_POST['value'];
    $copy= move_uploaded_file($_FILES["excelfile"]["tmp_name"],"../files/".$filename);
    if($copy)
    { echo "Upload Success";?>

<?php
}

}
?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-01T06:46:42.100

要在服务器上上传大文件，请检查 php.ini 文件中的这些设置，如果您无权访问 php.ini，则可以更改它的 htaccess 文件。根据您的要求增加这些文件上传的值。

max_input_time 1000 max_execution_time 1000 post_max_size 1000M max_file_uploads 50 upload_max_filesize 1000M

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-27T06:48:44.390

您是否尝试过增加文件中的文件上传限制`php.ini`：

```
file_uploads = On
upload_max_filesize = 20M //needs to be in {x}M format 
```

在此处查看更多信息：

1.  [http://php.net/manual/en/faq.using.php#faq.using.shorthandbytes](http://php.net/manual/en/faq.using.php#faq.using.shorthandbytes)
2.  [http://davidwalsh.name/increase-php-file-upload-limit-using-php-ini](http://davidwalsh.name/increase-php-file-upload-limit-using-php-ini)
3.  [http://wiki.lunarpages.com/Increase_php.ini_Upload_Limit](http://wiki.lunarpages.com/Increase_php.ini_Upload_Limit)
4.  [http://www.radinks.com/upload/config.php](http://www.radinks.com/upload/config.php)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-27T06:49:24.687

我正在使用 jQuery 执行此操作。它没有显示任何错误。它只是将 url 显示为红色到 firbug

这两个文件是否都驻留在同一个域中？html 和 php 都可以吗？Firebug 显示红色 URL，因为通常不允许跨域 ajax 请求

# ruby-on-rails - Postgresql 和 rails 带有 act-as-taggable-on 错误

> ID：14050451
> 
> 赞同：0
> 
> 时间：2012-12-27T06:33:04.363
> 
> 标签：ruby-on-rails, postgresql, gem

我有这个语句来从数据库中选择与特定标签集匹配的给定数量的随机记录。我正在使用`act-as-taggable-on`gem 进行标记。

```
 questions=Question.select('questions.*,RANDOM()').tagged_with(tags,:any=>true).order("RANDOM()").limit(test.no_of_questions) 
```

我正在使用 postgresql，但出现以下错误。

```
PG::Error: ERROR:  syntax error at or near "DISTINCT"
LINE 1: SELECT  questions.*,RANDOM(), DISTINCT questions.* FROM "que...
                                      ^
: SELECT  questions.*,RANDOM(), DISTINCT questions.* FROM "questions" JOIN taggings quest_taggings_14e6dd0  ON quest_taggings_14e6dd0.taggable_id = "questions".id AND quest_taggings_14e6dd0.taggable_type = 'Question' WHERE (quest_taggings_14e6dd0.tag_id = 1) ORDER BY RANDOM() LIMIT 3 
```

我不确定该怎么做，因为我认为 Distinct 部分是由标记 gem 插入的。

提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-27T07:34:53.740

你可以按照这些思路来做

```
Question.tagged_with(tags,:any=>"true").order("RANDOM()").limit(limit_number) 
```

## 更新

如此处所示[http://archives.postgresql.org/pgsql-sql/2010-10/msg00004.php](http://archives.postgresql.org/pgsql-sql/2010-10/msg00004.php)

您需要将 DISTINCT 和 ORDER BY 放在单独的查询级别中。

显然，上述查询可以与其他数据库一起使用，但不能与 Postgresql 一起使用

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-27T10:25:21.303

没关系，我找到了解决方案。

我这样做了：

```
questions=Question.tagged_with(tags,:any=>true)
  questions=questions.select('questions.*,RANDOM()').order("RANDOM()").limit(test.no_of_questions) 
```

这样`questions.*`，在 select 语句中就没有包含两次。

# c++ - 如何在 Visual C++ 中将字节数组转换为十六进制字符串？

> ID：14050452
> 
> 赞同：18
> 
> 时间：2012-12-27T06:33:11.930
> 
> 标签：c++, string, visual-c++, hex

方法的声明如下：

```
//some.h
void TDES_Decryption(BYTE *Data, BYTE *Key, BYTE *InitalVector, int Length); 
```

我从以下代码调用此方法：

```
//some.c
extern "C" __declspec(dllexport) bool _cdecl OnDecryption(LPCTSTR stringKSN, LPCTSTR BDK){
    TDES_Decryption(m_Track1Buffer, m_cryptoKey, init_vector, len);
    return m_Track1Buffer;
} 
```

数据类型在哪里`m_Track1Buffer`现在`BYTE m_Track1Buffer[1000];` 我想对上述方法进行一些更改，即想要返回`String in hex`而不是`Byte`。我应该如何将其转换`m_Track1buffer`为`Hex string`

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2012-12-27T07:34:07.943

正如您提到的c ++，这是一个答案。Iomanip 用于将整数以十六进制形式存储到字符串流中。

```
#include <sstream>
#include <iomanip>

std::string hexStr(BYTE *data, int len)
{
     std::stringstream ss;
     ss << std::hex;

     for( int i(0) ; i < len; ++i )
         ss << std::setw(2) << std::setfill('0') << (int)data[i];

     return ss.str();
} 
```

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2012-12-27T06:44:59.417

此代码会将固定大小为 100 的字节数组转换为十六进制字符串：

```
BYTE array[100];
char hexstr[201];
int i;
for (i=0; i<ARRAY_SIZE(array); i++) {
    sprintf(hexstr+i*2, "%02x", array[i]);
}
hexstr[i*2] = 0; 
```

* * *

## 回答 #3

> 赞同：10
> 
> 时间：2015-05-19T11:29:20.533

这是一个更灵活的版本（使用大写字符？在字节之间插入空格？），可以与普通数组和各种标准容器一起使用：

```
#include <string>
#include <sstream>
#include <iomanip>

template<typename TInputIter>
std::string make_hex_string(TInputIter first, TInputIter last, bool use_uppercase = true, bool insert_spaces = false)
{
    std::ostringstream ss;
    ss << std::hex << std::setfill('0');
    if (use_uppercase)
        ss << std::uppercase;
    while (first != last)
    {
        ss << std::setw(2) << static_cast<int>(*first++);
        if (insert_spaces && first != last)
            ss << " ";
    }
    return ss.str();
} 
```

示例用法（纯数组）：

```
uint8_t byte_array[] = { 0xDE, 0xAD, 0xC0, 0xDE, 0x00, 0xFF };
auto from_array = make_hex_string(std::begin(byte_array), std::end(byte_array), true, true);
assert(from_array == "DE AD C0 DE 00 FF"); 
```

示例用法（`std::vector`）：

```
// fill with values from the array above
std::vector<uint8_t> byte_vector(std::begin(byte_array), std::end(byte_array));
auto from_vector = make_hex_string(byte_vector.begin(), byte_vector.end(), false);
assert(from_vector == "deadc0de00ff"); 
```

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2019-03-26T18:54:07.633

在循环中使用`stringstream`,`sprintf`和其他函数根本不是 C++。这对性能来说很糟糕，而且这类函数通常会被调用很多（除非你只是在日志中写一些东西）。

这是一种方法。不鼓励直接写入`std::string`'s 缓冲区，因为特定的 std::string 实现可能会有不同的行为，这将不起作用，但我们通过这种方式避免了整个缓冲区的一个副本：

```
#include <iostream>
#include <string>
#include <vector>

std::string bytes_to_hex_string(const std::vector<uint8_t> &input)
{
  static const char characters[] = "0123456789ABCDEF";

  // Zeroes out the buffer unnecessarily, can't be avoided for std::string.
  std::string ret(input.size() * 2, 0);

  // Hack... Against the rules but avoids copying the whole buffer.
  auto buf = const_cast<char *>(ret.data());

  for (const auto &oneInputByte : input)
  {
    *buf++ = characters[oneInputByte >> 4];
    *buf++ = characters[oneInputByte & 0x0F];
  }
  return ret;
}

int main()
{
  std::vector<uint8_t> bytes = { 34, 123, 252, 0, 11, 52 };
  std::cout << "Bytes to hex string: " << bytes_to_hex_string(bytes) << std::endl;
} 
```

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2016-10-19T09:35:46.603

如何使用这样的 boost 库（摘自[http://theboostcpplibraries.com/boost.algorithm](http://theboostcpplibraries.com/boost.algorithm)的片段）：

```
#include <boost/algorithm/hex.hpp>
#include <vector>
#include <string>
#include <iterator>
#include <iostream>

using namespace boost::algorithm;

int main()
{
  std::vector<char> v{'C', '+', '+'};
  hex(v, std::ostream_iterator<char>{std::cout, ""});
  std::cout << '\n';

  std::string s = "C++";
  std::cout << hex(s) << '\n';

  std::vector<char> w{'4', '3', '2', 'b', '2', 'b'};
  unhex(w, std::ostream_iterator<char>{std::cout, ""});
  std::cout << '\n';

  std::string t = "432b2b";
  std::cout << unhex(t) << '\n';
} 
```

# android - Tab控件中ICON和TEXT之间的空格 - Android

> ID：14050456
> 
> 赞同：0
> 
> 时间：2012-12-27T06:33:33.993
> 
> 标签：android, android-tabs

我正在为我的应用程序使用紧凑标签。

```
 TabHelper tabHelper = getTabHelper();

    CompatTab menuTab = tabHelper.newTab("menu");
    menuTab.setText(R.string.tab_section1);

    menuTab.setIcon(R.drawable.home_icon);
    menuTab.setTabListener(new InstantiatingTabListener(
            this, MenuFragment.class));
    tabHelper.addTab(menuTab); 
```

我确实有资源文件代码如下

```
 <string name="tab_section1">Home</string> 
```

菜单选项卡正确呈现，但 ICON 和 TEXT 之间没有空格。我怎样才能实现它？

![图标和文本](../Images/50b4b1c576bd22b45abd62c593f0f131.png)

图标和文本“地图”非常接近，没有空格

```
<?xml version="1.0" encoding="utf-8"?>
<selector xmlns:android="http://schemas.android.com/apk/res/android">
<item android:state_selected="true" 
 android:drawable="@drawable/home_selected" />
<item android:drawable="@drawable/home" />
</selector> 
```

我的 setText 方法

```
@Override
public CompatTab setText(int resId) {
    mText = mActivity.getResources().getText(resId);
    return this;
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-27T07:04:40.413

尝试这个， ：）

```
menuTab.setText("\t"+"Home"); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-27T06:47:23.293

减小 home_icon 图像的宽度。

# iphone - iPhone中的iCal类型文本更改图标

> ID：14050457
> 
> 赞同：1
> 
> 时间：2012-12-27T06:33:37.917
> 
> 标签：iphone, objective-c, ios, icalendar

我如何将文本更改为 iPhone 中的 iCal 图标。我想更改 iPhone 应用程序图标中的日期。我有一个倒计时应用程序。我想显示剩余天数，因为 iCal 显示日期。这在 Objective-c 中怎么可能？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-27T06:42:36.480

您可以更改`applicationIconBadgeNumber`. [UILocalNotification](http://developer.apple.com/library/ios/#documentation/iphone/Reference/UILocalNotification_Class/Reference/Reference.html)允许您发送本地通知，您可以使用它来定期更新您的应用程序。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-27T06:50:34.670

您可以在应用程序图标中显示日期值。

为此，您必须使用应用程序的“applicationIconBadgeNumber”属性。

确保它只接受整数值。意味着您不能在其中显示整个日期格式。您只能在应用程序图标中显示日期。

希望对您有所帮助。

干杯!

# c# - DataGridView 中的组合框

> ID：14050461
> 
> 赞同：1
> 
> 时间：2012-12-27T06:34:13.133
> 
> 标签：c#, winforms

如何在数据库运行时在 DataGridView 的组合框中显示文本？

例如，如果下次我想在组合框列中显示该文本时，我要从 DataGridView 的组合框中更新数据库中的文本。

```
sqlConnection = new SqlConnection(ConfigurationManager.ConnectionStrings["Con"].ToString());
selectQueryString = "SELECT Code,CompanyName,FinancialYearStart,FinancialYearEnd,UserName,RoleP FROM CompanyInformation";

sqlDataAdapter = new SqlDataAdapter(selectQueryString, sqlConnection);
sqlCommandBuilder = new SqlCommandBuilder(sqlDataAdapter);

dataTable = new DataTable();
sqlDataAdapter.Fill(dataTable);

bindingSource = new BindingSource();
bindingSource.DataSource = dataTable;

dataGridView3.DataSource = bindingSource;
dataGridView3.Controls.Clear();

DataGridViewComboBoxColumn comboboxColumn = new DataGridViewComboBoxColumn();
comboboxColumn.Items.AddRange("Protected", "UnProtected");
comboboxColumn.HeaderText = "RoleP";
dataGridView3.Columns.Add(comboboxColumn);

private void button10_Click(object sender, EventArgs e)
{
    SqlConnection con = new SqlConnection(ConfigurationManager.ConnectionStrings["Con"].ToString());
    con.Open();

    // if (dataGridView3.Columns.Count >= 4 && dataGridView3.Columns.Count < 10)
    // {
        int i = dataGridView3.Rows.Count;
        int r = 0;

        for (int s = 0; s < i; s++)
        {
            try
            {
                string Role = dataGridView3.Rows[s].Cells[0].Value.ToString();
                int Cod = Convert.ToInt32(dataGridView3.Rows[s].Cells[1].Value.ToString());
                if (Role != "")
                {
                    SqlCommand cmd = new SqlCommand("update CompanyInformation SET RoleP=@Role where Code=@Cod", con);
                    cmd.Parameters.AddWithValue("@Cod", Cod);
                    cmd.Parameters.AddWithValue("@Role", Role);

                    r = cmd.ExecuteNonQuery();
                }
            }
            catch
            {
            }

        }

        if (r >= 1)
        {
            MessageBox.Show("Update Successful");
            SuperUser obj = new SuperUser();
            this.Hide();
            this.ParentForm.Hide();               
        } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-27T06:44:13.207

你可以这样做：

```
DataGridViewComboBoxColumn comboboxColumn = new DataGridViewComboBoxColumn();
comboboxColumn.Items.AddRange("Protected", "UnProtected");
comboboxColumn.HeaderText = "RoleP";
dataGridView3.Columns.Add(comboboxColumn); 
```

在那之后检查

```
foreach (DataGridViewRow row in dataGridView3.Rows)
{
    (row.Cells[1] as DataGridViewComboBoxCell).Value = yourvalue;
} 
```

# windows - Windows 中的计时器

> ID：14050462
> 
> 赞同：5
> 
> 时间：2012-12-27T06:34:13.810
> 
> 标签：windows, delphi, timer

我遇到了SetTimer API[的问题。](https://stackoverflow.com/questions/14050189)

只是出于好奇，我在 Delphi 中的其他选择是什么？

*   有[多媒体定时器](http://msdn.microsoft.com/en-us/library/windows/desktop/dd798681%28v=vs.85%29.aspx)
*   `TTimer`但它只是 SetTimer / KillTimer 的包装

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-27T07:21:07.893

[codeproject.com/Articles/1236/Timers-Tutorial#QueueTimers](http://www.codeproject.com/Articles/1236/Timers-Tutorial#QueueTimers)都在这里描述。我对使用多媒体计时器有点犹豫，但它们在 Windows 8 下仍然表现良好。无论哪种方式，队列计时器或多媒体计时器都会提供更好的结果。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-12-27T07:17:11.367

当你需要按照一定的时间做工作时，你也应该问你是否需要在线程中做工作。*处理定时器事件和将工作从主线程卸载*到单独的线程之间存在很大差异，无论是在如何设置以及如何执行（考虑到越来越多的硬件具有多核处理器）。

最基本的方法是从 TThread 继承，但这并不是那么简单。（参见“新建项目”对话框中的“线程”或[文档](http://docwiki.embarcadero.com/Libraries/XE3/en/System.Classes.TThread)） Delphi 也有许多[线程平台](http://delphi.about.com/od/kbthread/tp/threading-libraries-for-Delphi.htm)。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-12-27T07:22:29.157

我已经[将队列计时器包装器编写为 Delphi 组件](http://sergworks.wordpress.com/2010/04/06/a-better-timer-for-a-delphi-programmer/) 该项目已停止，但您可以获取`TksTimer`代码或安装`ksTools`包。

# javascript - 在打开与网站的连接之前执行 chrome 扩展功能？

> ID：14050467
> 
> 赞同：2
> 
> 时间：2012-12-27T06:34:39.947
> 
> 标签：javascript, google-chrome, google-chrome-extension

这是我第一次接触任何类型的客户端 Web 编程语言，而且，我正在尝试制作我的第一个 chrome 插件。基本上我想要做的是编码一些重定向的东西： -

ABC.com/ID

到

A.ABC.com/ID

到目前为止，我已将其全部编码，但是，它的作用是加载 ABC.com/ID，等待它完成，然后注入我的内容脚本并重新加载 A.ABC.com/ID。这显然是对时间的巨大浪费。有什么办法可以告诉 chrome 在 DNS 查找之前加载这个脚本（因为那没用，因为它在一个新的子域上），或者在打开与站点的连接之前（因为这不是我们的页面寻找）？我知道内容脚本可能不是最好的主意，如果不是，那会是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-27T07:05:43.037

是的，您可以使用[**Web 请求 API**](https://developer.chrome.com/extensions/webRequest.html)来实现，而无需任何内容脚本。以下演示阻止所有[`Facebook`](https://www.facebook.com/)URL 并将它们重定向到[`Google`](http://www.google.co.in/)，类似地使用`ABC.com/ID`代替[`Facebook`](https://www.facebook.com/)和使用`A.ABC.com/ID`代替[`Google`](http://www.google.co.in/)此用例。

## 参考

*   [**网络请求**](https://developer.chrome.com/extensions/webRequest.html)
*   [**背景页面**](https://developer.chrome.com/extensions/background_pages.html)
*   **[清单文件](https://developer.chrome.com/extensions/manifest.html)**

### `manifest.json`

确保所有权限都可用并注册带有扩展名的后台页面。

```
{
  "name": "Hanlder for Navigation",
  "description": "http://stackoverflow.com/questions/14050467",
  "version": "1",
  "manifest_version": 2,
  "background": {
    "scripts": ["background.js"]
  },
  "permissions":["https://www.facebook.com/*","webRequest","webRequestBlocking"]
} 
```

### `background.js`

此代码阻止所有 URL 请求[`Facebook`](https://www.facebook.com/)并将它们重定向到[`Google`](https://www.facebook.com/).

```
// Register an event listener which 
//traces all requests before being fired
chrome.webRequest.onBeforeRequest.addListener(function (details) {
    return {
        redirectUrl: "http://www.google.co.in/" /*Redirection URL*/
    };
}, {
    urls: ["*://www.facebook.com/*"] /* List of URL's */
}, ["blocking"]); // Block intercepted requests until this handler has finished 
```

## `Output`

所有请求[`Facebook`](https://www.facebook.com/)都重定向到[`Google`](https://www.google.co.in/)。

# ios - 是否可以摆脱系统卷覆盖？

> ID：14050468
> 
> 赞同：1
> 
> 时间：2012-12-27T06:34:49.993
> 
> 标签：ios, volume

我在屏幕上有两个按钮，用于控制系统音量，每次按下它们时，系统音量指示灯都会亮起并遮住它们。有人知道是否有办法让它们消失吗？（如果你不知道，下面这些事情之一）

![在此处输入图像描述](../Images/ed93d64bb43ee376c3be8cbf3e87312c.png)

# javascript - LTE 与 WiFi 上的 XHTTPRequest CORS 错误

> ID：14050471
> 
> 赞同：0
> 
> 时间：2012-12-27T06:35:00.893
> 
> 标签：javascript, xmlhttprequest, cors

我的 Web 应用程序使用 XHTTPRequest 对象从单个方法进行多次 CORS 调用。通过 WiFi 一切正常。通过 LTE 网络，只有一些请求成功，其他请求显示 200 状态，但 60 秒后我看到无效响应。

只有在 LTE 上发出跨域请求时才会出现此问题。我可以在 Chrome 和 Safari 中重现该错误。

所有内容当前都托管在 Amazon S3 中，并且 CORS 配置已正确设置。

任何见解将不胜感激！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-27T06:42:51.223

此问题与您的代码无关。众所周知，移动网络不可靠。另外，对于 CORS，通常会有一个飞行前请求，这意味着两个请求都必须成功才能使请求生效。

您将需要通过正确处理这些错误来强化您的应用程序以防止连接故障。对于其他不可靠的网络，您也会发现同样的问题。

# search - Google YouTube Data API 版本 3，videoEmbeddable 错误

> ID：14050472
> 
> 赞同：0
> 
> 时间：2012-12-27T06:35:07.380
> 
> 标签：search, youtube-api, video-embedding

我正在此页面上试用 youtube Data API v3：[https ://developers.google.com/youtube/v3/docs/search/list](https://developers.google.com/youtube/v3/docs/search/list)

只要**videoEmbeddable**参数留空，每个请求都可以正常工作。一旦我将其设置为*true*或*any*，我就会收到错误的请求响应。

```
{
 "error": {
  "errors": [
   {
    "domain": "youtube.search",
    "reason": "invalidSearchFilter",
    "message": "Invalid combination of search filters and/or restrictions.",
    "locationType": "parameter",
    "location": ""
   }
  ],
  "code": 400,
  "message": "Invalid combination of search filters and/or restrictions."
 }
} 
```

我错过了什么吗？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-08-17T12:58:24.427

如果您设置 videoEmbeddable=true，您还必须设置 type=video，否则您将收到“搜索过滤器和/或限制的无效组合”错误。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-28T06:33:29.587

我认为这是您处理 v3 API 的实验性质的情况（技术上仍处于测试阶段）。如果您在页面前面查看，则不再列出 videoEmbeddable 参数（也没有列出诸如 videoSyndicated、publishBefore/publishedAfter 等参数），因此在实际 API 中不支持，即使 API explorer 还没有更新以匹配。希望 API 浏览器能很快恢复同步；在此之前，您可以按照 API 参考运行您自己的测试。

# sql - 尝试在 Excel 中使用 VBA 连接到数据库时出错

> ID：14050474
> 
> 赞同：2
> 
> 时间：2012-12-27T06:35:08.710
> 
> 标签：sql, excel, vba

我正在尝试在 excel 中使用 VBA 连接到数据库，但不知道出了什么问题。有什么建议么？

这是代码。我想获取查询结果，然后同时放入 Excel 工作表

```
Private Sub CommandButton1_Click()

Dim dd As String
Dim nn As String

OMCS_Connection.Show

If OMCS_Connection.CommandButton1 = False Then

dd = OMCS_Connection.TextBoxa.Value
nn = OMCS_Connection.TextBoxb.Value
End If

Dim order_number As String
order_number = TextBox1.Text
Dim sql_query As String

Set ad = CreateObject("ADODB.Connection")      'create and open ODBC connection
ad.ConnectionString = "ODBC;DRIVER=IBM DB2 ODBC DRIVER - DB2COPY1; DSN=ODRPTDB;UID = " & dd & " ; PWD = " & nn & ";"
'UID=me"
ad.Open

sql_query = "SELECT" & _
                "CMOT.MFGNO AS MANUFACTURING_NUMBER," & _
                "'BOX' AS ORDER_TYPE," & _
                "CMOT.IDCUS AS CUSTOMER_ID," & _
                "CMOT.WTCTN AS WT_CUSTOMER_ID," & _
                "CMOT.PLORN AS ORDER_NUMBER," & _
                "CMOT.IDMAC AS MACHINE_TYPE," & _
                "CMOT.IDSMN AS MODEL_NUMBER," & _
                "'    ' AS NEW_MACHINE_TYPE," & _
                "'    ' AS NEW_MODEL_NUMBER," & _
                "CMOT.BOXSH AS PSSD," & _
                "CMOT.ALDPF AS RSSD," & _
                "COGUS.ITPDC AS REGION" & _
                "FROM DB2COATG.COS1S0T0 CMOT" & _
                "INNER JOIN COGUS.WTCTN_CONVERSION COGUS" & _
                "ON(COGUS.WTCTN = CMOT.WTCTN AND COGUS.REGIO = CMOT.REGIO)" & _
                "WHERE CMOT.PLORN IN  (" & order_number & ");"

Set RS = ad.Execute(sql_query)        'execute query 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-29T02:11:09.377

在 ad.open 之前尝试插入以下行 `ad.CommandTimeout=0` 这应该可以防止查询在长时间运行时超时。如果这不起作用，这将有助于了解哪行代码引发了错误。你知道如何一步一步思考代码吗？

# javascript - 将 Javascript 注入 WebView 有时不起作用？

> ID：14050475
> 
> 赞同：2
> 
> 时间：2012-12-27T06:35:19.203
> 
> 标签：javascript, android, webview

我正在使用 a`WebView`播放一些 html5 动画，并且动画取决于一些`javascript`代码。我需要在网页加载之前注入`javascript`代码。`WebView`

```
class AnimWebView extends WebView{
    getSettings().setJavaScriptEnabled(true);

    loadAnimation(String animUrl){
        //get javascript code
        String js_code = getMyJsCode();
        //inject the javascript code to WebView   
        mWebView.loadUrl("javascript:" + js_code);
        //load animation
        mWebView.loadUrl(animUrl);
    }
}

AnimWebView animContainer = new AnimWebView(context);

// load first animation, the animation works fine.
animContainer.loadAnimation("file:///android_asset/animations/test1/index.html");

//after one minute load second animation(I omit the delay code.)
//it doesn't work because JS code can't be find.
animContainer.loadAnimation("file:///android_asset/animations/test2/index.html"); 
```

因为它第一秒有效，第二次失败，所以我想第一次之后我可能需要清晰的代码和缓存。

所以我尝试了`clearView()`，，，`stopLoading()`。`loadUrl("about:blank")`但它们都不起作用。

有什么建议吗？

# gwt - 目标 org.codehaus.mojo:gwt-maven-plugin:2.5.0:run 的参数“runTarget”丢失或无效

> ID：14050476
> 
> 赞同：2
> 
> 时间：2012-12-27T06:35:29.803
> 
> 标签：gwt, maven-2

我已经创建了 gwt maven 项目，现在我想编译并运行它。为了将我`gwt:compile`作为目标提供并运行`gwt:run`，但它给了我构建失败的异常：

> [INFO] [INFO] >>> gwt-maven-plugin:2.5.0:run (default-cli) @ engilev2_with_maven >>> [INFO]
> [INFO] --- maven-resources-plugin:2.5:resources (default -resources) @ engilev2_with_maven --- [debug] 执行 contextualize
> [INFO] 使用 'UTF-8' 编码复制过滤的资源。
> [INFO] 复制 3 个资源 [INFO]
> [INFO] --- maven-compiler-plugin:2.5.1:compile (default-compile) @engilev2_with_maven ---
> [INFO] 将 1 个源文件编译到 /root/18julyWorkspace/engilev2_with_maven /target/EngileNightly/WEB-INF/classes
> [INFO] <<< gwt-maven-plugin:2.5.0:run (default-cli) @ engilev2_with_maven <<< [INFO]
> [INFO] --- gwt-maven-插件：2.5.0：运行（默认-cli）@engilev2_with_maven ---
> [信息] --------------------------------------------- -------------------------
> [信息] 构建失败
> [信息] ----------------- -------------------------------------------------- -----
> [INFO] 总时间：4.128s [INFO] 完成时间：Thu Dec 27 12:01:34 IST 2012
> [INFO] Final Memory: 18M/131M
> [INFO] --------- -------------------------------------------------- -------------
> [警告] 请求的配置文件“默认”无法激活，因为它不存在。
> [错误] 无法在项目 engilev2_with_maven 上执行目标 org.codehaus.mojo:gwt-maven-plugin:2.5.0:run (default-cli)：目标 org.codehaus.mojo:gwt-maven
> 的参数“runTarget”插件：2.5.0：运行丢失或无效->
> [帮助 1] [错误]
> [错误] 要查看错误的完整堆栈跟踪，请使用 -e 开关重新运行 Maven。
> [错误] 使用 -X 开关重新运行 Maven
> 以启用完整的调试日志记录。

我不明白这里有什么问题

Pom.xml :::

```
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">

    <!-- POM file generated with GWT webAppCreator -->
    <modelVersion>4.0.0</modelVersion>
    <groupId>engilev2_with_maven</groupId>
    <artifactId>engilev2_with_maven</artifactId>
    <packaging>war</packaging>
    <version>0.0.1-SNAPSHOT</version>
    <name>GWT Maven Archetype</name>

    <properties>
        <!-- Convenience property to set the GWT version -->
        <gwtVersion>2.4.0</gwtVersion>
        <!-- GWT needs at least java 1.5 -->
        <webappDirectory>${project.build.directory}/${project.build.finalName}</webappDirectory>
        <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
    </properties>

    <dependencies>
        <dependency>
            <groupId>com.google.gwt</groupId>
            <artifactId>gwt-servlet</artifactId>
            <version>${gwtVersion}</version>
            <scope>runtime</scope>
        </dependency>
        <!-- <dependency> <groupId>com.google.gwt</groupId> <artifactId>gwt-user</artifactId> 
            <version>${gwtVersion}</version> <scope>provided</scope> </dependency> -->
        <dependency>
            <groupId>junit</groupId>
            <artifactId>junit</artifactId>
            <version>4.7</version>
            <scope>test</scope>
        </dependency>
        <dependency>
            <groupId>javax.validation</groupId>
            <artifactId>validation-api</artifactId>
            <version>1.0.0.GA</version>
            <scope>test</scope>
        </dependency>
        <dependency>
            <groupId>javax.validation</groupId>
            <artifactId>validation-api</artifactId>
            <version>1.0.0.GA</version>
            <classifier>sources</classifier>
            <scope>test</scope>
        </dependency>
        <!-- <dependency> <groupId>com.google.gwt</groupId> <artifactId>gwt-user</artifactId> 
            <version>${gwtVersion}</version> <scope>provided</scope> </dependency> -->
        <dependency>
            <groupId>org.slf4j</groupId>
            <artifactId>slf4j-simple</artifactId>
            <version>1.6.1</version>
        </dependency>
        <dependency>
            <groupId>appops_shared</groupId>
            <artifactId>appops_shared</artifactId>
            <version>1.0</version>
        </dependency>
        <dependency>
            <groupId>appops_client</groupId>
            <artifactId>appops_client</artifactId>
            <version>1.0</version>
        </dependency>
        <dependency>
            <groupId>appops_server</groupId>
            <artifactId>appops_server</artifactId>
            <version>1.0</version>
        </dependency>

        <dependency>
            <groupId>commons-codec</groupId>
            <artifactId>commons-codec</artifactId>
            <version>1.7</version>
        </dependency>
        <dependency>
            <groupId>commons-collections</groupId>
            <artifactId>commons-collections</artifactId>
            <version>3.2.1</version>
        </dependency>
        <dependency>
            <groupId>mysql</groupId>
            <artifactId>mysql-connector-java</artifactId>
            <version>5.1.21</version>
        </dependency>
        <dependency>
            <groupId>org.apache.lucene</groupId>
            <artifactId>lucene-core</artifactId>
            <version>3.4.0</version>
        </dependency>
        <dependency>
            <groupId>local.mvp4g</groupId>
            <artifactId>mvp4g</artifactId>
            <version>1.4.0</version>
        </dependency>
        <!-- <dependency> <groupId>org.hibernate</groupId> <artifactId>hibernate</artifactId> 
            <version>3.0</version> </dependency> -->
        <dependency>
            <groupId>org.hibernate</groupId>
            <artifactId>hibernate-annotations</artifactId>
            <version>3.5.6-Final</version>
        </dependency>
        <dependency>
            <groupId>aopalliance</groupId>
            <artifactId>aopalliance</artifactId>
            <version>1.0</version>
        </dependency>
        <dependency>
            <groupId>commons-fileupload</groupId>
            <artifactId>commons-fileupload</artifactId>
            <version>1.2</version>
        </dependency>
        <dependency>
            <groupId>com.google.gwt.inject</groupId>
            <artifactId>gin</artifactId>
            <version>2.0.0</version>
        </dependency>
        <dependency>
            <groupId>org.reflections</groupId>
            <artifactId>reflections</artifactId>
            <version>0.9.8</version>
        </dependency>
        <dependency>
            <groupId>com.googlecode.gwtupload</groupId>
            <artifactId>gwtupload</artifactId>
            <version>0.6.4</version>
        </dependency>

        <dependency>
            <groupId>javax.mail</groupId>
            <artifactId>mailapi</artifactId>
            <version>1.4.3</version>
        </dependency>
        <dependency>
            <groupId>org.hibernate</groupId>
            <artifactId>hibernate-core</artifactId>
            <version>3.6.0.Final</version>
        </dependency>
        <dependency>
            <groupId>javax.inject</groupId>
            <artifactId>javax.inject</artifactId>
            <version>1</version>
        </dependency>
        <dependency>
            <groupId>org.hibernate</groupId>
            <artifactId>hibernate-validator</artifactId>
            <version>4.1.0.Final</version>
        </dependency>
        <dependency>
            <groupId>org.hibernate</groupId>
            <artifactId>hibernate-commons-annotations</artifactId>
            <version>3.2.0.Final</version>
        </dependency>
        <!-- <dependency> <groupId>org.slf4j</groupId> <artifactId>slf4j-jdk14</artifactId> 
            <version>1.6.1</version> </dependency> -->
        <dependency>
            <groupId>org.slf4j</groupId>
            <artifactId>slf4j-api</artifactId>
            <version>1.6.1</version>
        </dependency>
        <dependency>
            <groupId>log4j</groupId>
            <artifactId>log4j</artifactId>
            <version>1.2.16</version>

        </dependency>
        <dependency>
            <groupId>org.slf4j</groupId>
            <artifactId>slf4j-log4j12</artifactId>
            <version>1.6.1</version>
        </dependency>
        <dependency>
            <groupId>com.googlecode.gwtphonegap</groupId>
            <artifactId>gwtphonegap</artifactId>
            <version>1.8.1.0</version>
        </dependency>
        <dependency>
            <groupId>org.atmosphere</groupId>
            <artifactId>atmosphere-gwt-server</artifactId>
            <version>1.0.1</version>
        </dependency>
        <dependency>
            <groupId>org.atmosphere</groupId>
            <artifactId>atmosphere-gwt-poll</artifactId>
            <version>1.0.1</version>
        </dependency>
        <dependency>
            <groupId>org.atmosphere</groupId>
            <artifactId>atmosphere-gwt-common</artifactId>
            <version>1.0.1</version>
        </dependency>
        <dependency>
            <groupId>org.atmosphere</groupId>
            <artifactId>atmosphere-compat-tomcat</artifactId>
            <version>1.0.1</version>
        </dependency>
        <dependency>
            <groupId>org.atmosphere</groupId>
            <artifactId>atmosphere-compat-tomcat7</artifactId>
            <version>1.0.1</version>
        </dependency>
        <dependency>
            <groupId>org.atmosphere</groupId>
            <artifactId>atmosphere-compat-jbossweb</artifactId>
            <version>1.0.1</version>
        </dependency>
        <dependency>
            <groupId>com.google.inject</groupId>
            <artifactId>guice</artifactId>
            <version>3.0</version>
        </dependency>
        <dependency>
            <groupId>com.google.inject.extensions</groupId>
            <artifactId>guice-assisted-inject</artifactId>
            <version>2.0</version>
        </dependency>
        <dependency>
            <groupId>com.google.inject.extensions</groupId>
            <artifactId>guice-servlet</artifactId>
            <version>3.0</version>
        </dependency>
        <dependency>
            <groupId>com.google.oauth-client</groupId>
            <artifactId>google-oauth-client</artifactId>
            <version>1.11.0-beta</version>
        </dependency>
        <dependency>
            <groupId>com.google.oauth-client</groupId>
            <artifactId>google-oauth-client-servlet</artifactId>
            <version>1.11.0-beta</version>
        </dependency>
        <dependency>
            <groupId>org.atmosphere</groupId>
            <artifactId>atmosphere-runtime</artifactId>
            <version>1.0.1</version>
        </dependency>
        <dependency>
            <groupId>org.atmosphere</groupId>
            <artifactId>atmosphere-gwt-client</artifactId>
            <version>1.0.1</version>
        </dependency>

        <dependency>
            <groupId>net.sf.ehcache</groupId>
            <artifactId>ehcache</artifactId>
            <version>1.5.0</version>
        </dependency>
        <dependency>
            <groupId>c3p0</groupId>
            <artifactId>c3p0</artifactId>
            <version>0.9.1.2</version>
        </dependency>

        <dependency>
            <groupId>gwt-oauth2</groupId>
            <artifactId>gwt-oauth2</artifactId>
            <version>0.2</version>
            <classifier>alpha</classifier>
        </dependency>
        <dependency>
            <groupId>com.google.code.gson</groupId>
            <artifactId>gson</artifactId>
            <version>2.1</version>
        </dependency>
        <dependency>
            <groupId>com.google.gwt</groupId>
            <artifactId>gwt-dev</artifactId>
            <version>${gwtVersion}</version>
            <type>jar</type>
            <scope>compile</scope>
        </dependency>
    </dependencies>

    <build>
        <finalName>EngileNightly</finalName>
        <outputDirectory>${webappDirectory}/WEB-INF/classes</outputDirectory>
        <plugins>
            <plugin>
                <groupId>org.eclipse.m2e</groupId>
                <artifactId>lifecycle-mapping</artifactId>
                <version>1.0.0</version>
                <configuration>
                    <lifecycleMappingMetadata>
                        <pluginExecutions>
                            <pluginExecution>
                                <pluginExecutionFilter>
                                    <groupId>org.codehaus.mojo</groupId>
                                    <artifactId>gwt-maven-plugin</artifactId>
                                    <!-- <versionRange>[2.5.0,)</versionRange> -->
                                    <version>${gwtVersion}</version>
                                    <goals>
                                        <goal>resources</goal>
                                        <goal>compile</goal>
                                        <goal>i18n</goal>
                                        <goal>generateAsync</goal>
                                    </goals>
                                    <configuration>
                                        <modules>
                                            <module>com.engile.Engile</module>
                                        </modules>
                                    </configuration>
                                </pluginExecutionFilter>
                                <action>
                                    <execute />
                                </action>
                            </pluginExecution>
                            <pluginExecution>
                                <pluginExecutionFilter>
                                    <groupId>org.apache.maven.plugins</groupId>
                                    <artifactId>maven-war-plugin</artifactId>
                                    <versionRange>[2.1.1,)</versionRange>
                                    <goals>
                                        <goal>exploded</goal>
                                    </goals>

                                </pluginExecutionFilter>
                                <action>
                                    <execute />
                                </action>
                            </pluginExecution>

                        </pluginExecutions>
                    </lifecycleMappingMetadata>
                </configuration>
            </plugin>
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-compiler-plugin</artifactId>
                <version>2.5.1</version>
                <configuration>
                    <source>1.5</source>
                    <target>1.5</target>
                </configuration>
            </plugin>
        </plugins>
    </build>

</project> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-27T10:49:30.493

您需要在`<runTarget>`标签下配置`<plugin>`标签`<artifactId>gwt-maven-plugin</artifactId>`

```
 <plugin>
                <groupId>org.codehaus.mojo</groupId>
                <artifactId>gwt-maven-plugin</artifactId>
                <version>2.4.0</version>
                <executions>
                    <execution>
                        <goals>
                            <goal>compile</goal>
                            <goal>test</goal>
                        </goals>
                    </execution>
                </executions>
                <!-- Plugin configuration. There are many available options, see gwt-maven-plugin 
                    documentation at codehaus.org -->
                <configuration>
                    <runTarget>index.html</runTarget>
                    <hostedWebapp>${webappDirectory}</hostedWebapp>
                </configuration>
            </plugin> 
```

检查 GWT 示例项目示例以了解如何设置 maven gwt 项目[http://code.google.com/p/google-web-toolkit/source/browse/trunk/samples/](http://code.google.com/p/google-web-toolkit/source/browse/trunk/samples/)

GWT 和 WorkingWithMaven - [http://code.google.com/p/google-web-toolkit/wiki/WorkingWithMaven](http://code.google.com/p/google-web-toolkit/wiki/WorkingWithMaven)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-07-10T07:45:34.953

您可以使用 Maven 属性来做到这一点： `mvn gwt:run -DrunTarget=Application.jsp`

# matrix - 如何在做这种映射的 Three.js 上设置投影矩阵？

> ID：14050477
> 
> 赞同：1
> 
> 时间：2012-12-27T06:35:46.467
> 
> 标签：matrix, 3d, three.js, projection-matrix

如何在 Three.js 上制作投影矩阵，从 3d 点映射到以下规则描述的屏幕坐标？

```
screen_x = x - z*0.5
screen_y = y - z*0.5
depth = z 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-27T07:01:21.767

投影矩阵表示以下方程：

```
xx xy xz xt    <- x' = (xx*x + xy*y + xz*z + xt) / (wx*x + wy*y + wz*z + 1)
yx yy yz yt       y' = (yx*x + yy*y + yz*z + yt) / (wx*x + wy*y + wz*z + 1)
zx zy zz zt       z' = (zx*x + zy*y + zz*z + zt) / (wx*x + wy*y + wz*z + 1)
wx wy wz  1 
```

从此所有其他元素都将为零，但是

```
screen_x = x-z*0.5 : xx=1,       xz=-0.5
screen_y = y-z*0.5 :       yy=1, xz=-0.5
depth  z'= z       :             zz=1      (and ww=1) 
```

**编辑**这不是一般的投影矩阵，但仅适用于这个特定问题。

一般[对称]投影矩阵的形式为

```
 a  0  0  d 
 0  b  0  e  
 0  0  c  f 
 0  0  1  0, 
```

由此得出 x 和 y 将除以 wx*z == z。

# php - 如何解析卷曲响应？

> ID：14050478
> 
> 赞同：0
> 
> 时间：2012-12-27T06:35:48.503
> 
> 标签：php, curl

我能够发送`GET`请求并在下一行接收响应。

```
 $curl_resp = curl_exec($curl); 
```

我使用以下来解析响应，但它不起作用，我已经手动设置了一些值，`$curl_resp`但仍然不确定如何分别访问每个标签的值`xml`。

```
$xml = simplexml_load_string($curl_resp); 
```

**注意：** 我收到了实际的 xml 但无法解析它，（*我需要在变量中分别获取每个标签的值*）

**代码：**

```
<?php

   $service_url = ' The Url goes here';
   $curl = curl_init($service_url);
   $curl_post_data = array(
        "PASSWORD" => 'pass',
        "USERNAME" => 'username'
        );
   curl_setopt($curl, CURLOPT_RETURNTRANSFER, true);
   curl_setopt($curl, CURLOPT_POST, true);
   curl_setopt($curl, CURLOPT_POSTFIELDS, $curl_post_data);
   $curl_resp = curl_exec($curl);
   curl_close($curl); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-27T06:46:12.597

您的变量`$curl_response`不同于`$curl_resp`（*您要解析的*）

您可以像访问任何其他数组一样访问每个标签的值。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-27T06:42:43.060

如果`CURLOPT_RETURNTRANSFER`未设置该选项，那么您`$curl_resp`将返回`true/false`。

如果已设置，您可能会返回`false`或形成不良`xml string`。如果您发布更多代码或实际的 curl 响应文本，我们可能会提供更多信息。

编辑：

阅读代码后，您似乎将响应文本分配给 $curl_response 而不是 $curl_resp

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-12-27T06:42:40.377

```
$ch = curl_init();
curl_setopt( $ch, CURLOPT_URL, "your url");    
curl_setopt($ch, CURLOPT_USERAGENT, 'Googlebot/2.1 (+http://www.google.com/bot.html)');
curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
$response = curl_exec($ch); 
```

# cpanel - 访问没有域的网站（Plesk 面板）

> ID：14050481
> 
> 赞同：3
> 
> 时间：2012-12-27T06:36:09.400
> 
> 标签：cpanel, plesk

在 Cpanel 中，我可以使用**http://IP/~username**访问没有域的网站。是否有任何类似的方法可以访问托管在 Windows 中并使用 Plesk 面板运行的无域网站。？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-07-10T06:19:35.380

大多数托管服务提供商根据服务器 IP 地址和自定义域名设置临时 url

[http://my.motherhost.com/knowledgebase/21/temporary-url-for-the-domain-in-plesk-control-panel.html](http://my.motherhost.com/knowledgebase/21/temporary-url-for-the-domain-in-plesk-control-panel.html)

任何后跟 /~cpanelusername/ 的域名或服务器名称都可用于查看该用户的站点。这将导致服务器上的任何域显示用户名的站点。这就是 cPanel 设置的工作原理；因此我们无法阻止此方法在您的域中显示其他人的网站。使用 Plesk 11 托管 [http://domainname.com.ipaddress.windowshostingdns.com/](http://domainname.com.ipaddress.windowshostingdns.com/)

（请务必将以上所有内容替换为实际值，并在 IP 八位字节之间使用破折号而不是点。）

IP 地址可以是 A 记录的 IP，也可以是控制面板的 IP，据此主动指向站点，因为 A 记录可以将域名指向不同的服务器。

从您的 Plesk 控制面板中查找临时 URL 的最佳方法是执行以下操作：

```
Click on the Web Sites and Domains tab.
Click on the Domain Name for the hosting settings.
In the hosting settings, look for the preview link. This will provide the proper temporary URL. 
```

使用 Plesk 10 托管

（请务必将“serverIP”、“cpanelusername”和“path_aka_document_root”替换为实际值。）使用 Plesk 11 托管

（请务必将以上所有内容替换为实际值，并在 IP 八位字节之间使用破折号而不是点。）使用 Plesk 10 托管

（请务必将“serverIP”和“otherdomain.com”替换为实际值。）使用 Plesk 8 和 9 进行托管

（将“ipaddress”替换为您的服务器的 IP 地址。）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-06-19T19:54:10.900

您可以配置假域名，在您的 PC 中重新配置 HOST 文件并访问该站点。

在 HOST 文件中输入服务器的假域名 + IP，按 F5 并使用该假域名您可以访问它。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-31T13:45:52.760

在 Plesk 中，您无法访问没有域的网站。但是您可以通过IP访问实时网站内容但需要在域中上传网站内容。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2020-08-17T15:03:17.403

是的，

您可以在没有域的情况下访问您的 plesk 面板。

你需要知道你的IP地址。

您可以使用带有端口的 ip 访问plek 面板。

http://ip:8443

问候，

斯坦利

# asp.net-mvc-4 - 用于 asp.net mvc 4 的 StarterSTS FederationMetadata Generator 配置

> ID：14050482
> 
> 赞同：1
> 
> 时间：2012-12-27T06:36:26.290
> 
> 标签：asp.net-mvc-4, web-config, single-sign-on, federation

我如何配置 StarterSTS 附带的动态联合元数据生成器 http 处理程序以与 ASP.NET MVC 4 一起工作，现在我在 IIS 7 上的 web.config 中得到了这个配置，但浏览器返回 404 not found

```
<!-- handler to dynamically generate WS-Federation metadata -->
<location path="FederationMetadata/2007-06">
    <system.webServer>
        <handlers>
            <add name="MetadataGenerator" path="FederationMetadata.xml" verb="GET" type="Thinktecture.IdentityServer.WSFedMetadataGenerator,Thinktecture" />
        </handlers>
    </system.webServer>
    <system.web>
        <httpHandlers>
            <add path="FederationMetadata.xml" verb="GET" type="Thinktecture.IdentityServer.WSFedMetadataGenerator,Thinktecture" />
        </httpHandlers>
    </system.web>
</location> 
```

404 未找到

`https://localhost/website/FederationMetadata/2007-06/`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-17T17:00:23.333

好的，这是它不起作用的事实。所以这就是我所做的，

*   创建了一个名为它的新 asp.net mvc 控制器`FederationMetadata`

*   复制代码以在 Index 操作方法中生成联邦元数据

*   始终指向`https://<pc:name>/stsvirtualdirectoryname/FederationMetadata/`获取联邦元数据 xml 文档

### 代码

```
 if (STS.Configuration.Endpoints.WSFedMex)
        {
            EnsureInitialized();
            var serializer = new MetadataSerializer();
            var sb = new StringBuilder(512);
            serializer.WriteMetadata(XmlWriter.Create(new StringWriter(sb),new XmlWriterSettings { OmitXmlDeclaration = true }), _entity);
            return new ContentResult(){Content = sb.ToString(),ContentEncoding = Encoding.UTF8,ContentType = "text/xml"};
        }
        else
        {
            throw new HttpException(404, "Not found");
        } 
```

# mysql - MySql soterd 过程 IF ELSE 和 while 循环

> ID：14050484
> 
> 赞同：0
> 
> 时间：2012-12-27T06:36:37.010
> 
> 标签：mysql, database, stored-procedures

我想在 MySQL 中创建一个存储过程，在其中循环记录并在某些条件为真时返回行。

例如：我有一个带有列的表`PRIMARY, TRANSTYPE, DATE, AMOUNT`。现在`PRIMARY`可以是 0 或 1，并且`TRANSTYPE`可以是 A、B、C。

现在我想做的是返回行 where
`PRIMARY="0" if TRANSTYPE = "A" and return row where PRIMARY="1" if TRANSTYPE = "B" or TRANSTYPE = "C"`

目前我正在使用 PHP 执行此操作，但我想使用 MySql 存储过程执行此操作。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-27T06:42:54.597

```
SELECT * FROM <table>
    WHERE
         (PRIMARY="0" AND TRANSTYPE = "A") OR 
         (PRIMARY="1" AND TRANSTYPE = "B") OR 
         (PRIMARY="1" AND TRANSTYPE = "C") 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-27T06:43:00.973

你可以做

```
 CREATE PROCEDURE PROC_NAME()
    BEGIN
       select * from table
       where (TRANSTYPE = 'A' and PRIMARY = '0') 
          or (TRANSTYPE in ('B','C') and PRIMARY = '1');
    END; 
```

# c# - 使用 word interop 两次打开同一个文件

> ID：14050485
> 
> 赞同：1
> 
> 时间：2012-12-27T06:36:44.237
> 
> 标签：c#, .net, ms-word

大家好，我正在使用互操作在 MS-Word 中打开几个文件。它工作正常。问题是当我尝试打开已经打开的文件时不起作用。任务管理器中出现正在使用的文件对话框能够只能通过在任务管理器中单击它来访问它。我怎样才能使它可见？或者你能建议任何其他方法吗？

![在此处输入图像描述](../Images/6b3c319ffb8d714e2d894db6dc8eeafc.png)

```
 Microsoft.Office.Interop.Word.Application WordApp = new Microsoft.Office.Interop.Word.Application();
    WordApp.DisplayAlerts = WdAlertLevel.wdAlertsAll;
    Microsoft.Office.Interop.Word.Document WordDoc = new Microsoft.Office.Interop.Word.Document();
    WordDoc = WordApp.Documents.Open(path, Type.Missing, Type.Missing, Type.Missing, Type.Missing, Type.Missing, Type.Missing, Type.Missing, Type.Missing, Type.Missing, Type.Missing, Type.Missing, Type.Missing, Type.Missing, Type.Missing,Type.Missing);
    WordApp.Visible = true;
    System.Runtime.InteropServices.Marshal.ReleaseComObject(WordApp); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-27T19:51:12.750

如果您需要仅使用只读功能第二次打开文件（例如，如果您将其用作模板），那么我看不出原因您不应该只复制它并每次都打开副本你需要它。

也许您可以添加其他信息，所以也许有人有更好的建议来找到解决方案！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-27T10:19:57.983

Make sure to use this when unloading the interop:

```
WordObject.Quit 
```

Releasing the interop object somehow does not allways work.

Check out additional info on .Quit [http://msdn.microsoft.com/fr-fr/library/microsoft.office.interop.word._application.quit(v=office.11).aspx](http://msdn.microsoft.com/fr-fr/library/microsoft.office.interop.word._application.quit(v=office.11).aspx)

You can make interop application to become visible using

```
WordObject.Visible = true 
```

You should also bare in mind, that You should NEVER use office interop objects on server-side processes for document processing, generation etc, because it just is not ment for doing so. Interop object are memory and cpu hungry, realy unstable and crash a lot!

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-27T09:38:46.233

您可以尝试将您的文件加载到另一个`AppDomain`中，您可以在不需要它后将其卸载

```
AppDomainSetup ads = new AppDomainSetup();
ads.PrivateBinPath = Path.GetDirectoryName("C:\\some.doc");
AppDomain ad2 = AppDomain.CreateDomain("AD2", null, ads);
ProxyDomain proxy = (ProxyDomain)ad2.CreateInstanceAndUnwrap(typeof(ProxyDomain).Assembly.FullName, typeof(ProxyDomain).FullName);
bool ok = proxy.DoMsWork("C:\\some.doc");
AppDomain.Unload(ad2);

    public class ProxyDomain : MarshalByRefObject
    {
        public bool DoMsWork(string assemblyPath)
        {
            //Load your file and do work here
        }
    } 
```

# asp-classic - 经典 ASP Windows 服务器 2008 IIS 7.5，64 位

> ID：14050501
> 
> 赞同：0
> 
> 时间：2012-12-27T06:38:25.293
> 
> 标签：asp-classic, iis-7.5, windows-server-2008-r2

我们有一个在 IIS 6、windows 2003、32 位上运行的经典 ASP 应用程序。我们需要将此迁移到 IIS 7.5、Windows server 2008、64 位服务器。执行此操作时，我们收到如下错误 -

> 用于 ODBC 驱动程序的 Microsoft OLE DB 提供程序错误“80040e14”
> 
> [Oracle][ODBC][Ora]ORA-00900：无效的 SQL 语句
> 
> /abcproj/getresult.asp，第 67 行

在 getresult.asp 的第 67 行，代码打开了一个带有搜索查询的连接（到 Oracle）。这是从我们的数据库中获取用户列表的查询。

我们已按照在 IIS 7.5 上安装 ASP 客户端的所有步骤进行操作。我们已经完成了在 IIS 7.5 上运行 ASP 客户端所需的所有配置。我们用谷歌搜索了很多东西来找到这个错误的原因并修复了这个错误，但没有成功。任何建议将不胜感激。

谢谢，

RJ

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-27T21:38:51.990

也许其他一些事情失败了，并且没有向 sql 传递所有正确的参数。我要做的第一件事是通过隔离实际正在运行的搜索查询然后尝试在 sql 服务器上手动运行它来确保 sql 语句有效。

# asp.net-mvc - 如何使用 MVC 创建模型

> ID：14050505
> 
> 赞同：0
> 
> 时间：2012-12-27T06:38:49.960
> 
> 标签：asp.net-mvc, model-view-controller

到目前为止，我已经了解 MVC 中的模型是构建数据结构，例如从数据库存储/访问数据。但后来我迷失了如何构建成功的结构。

在一个数据库中，有 5 个表。我是否应该首先创建一个包含所有表到 DbConText 的命名空间，然后将所有表构造到 Dbset 中？

是否有任何文章有助于链接构建的数据库，并演示如何操作的步骤？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-27T06:53:00.617

在 Mvc 中，创建模型非常简单。您只需按照以下步骤..

[http://nerddinnerbook.s3.amazonaws.com/Part3.htm](http://nerddinnerbook.s3.amazonaws.com/Part3.htm)

# c# - 在 C# 中使用 XElement 获取 XML 的元素节点值

> ID：14050507
> 
> 赞同：10
> 
> 时间：2012-12-27T06:38:56.887
> 
> 标签：c#, xml, xelement

我保存了以下 XML 文件：

```
<E:Events xmlns:E="Event-Details">
   <Date>12/27/2012</Date>
   <Time>‎11:12 PM</Time>
   <Message>Happy Birthday</Message>
</E:Events> 
```

我正在使用`XElement`加载上述 XML 文件。我想获得`Date, Time and Message`ie 12/27/2012, ‎11:12 PM 和`Happy Birthday`. 如何检索这些值。我对此进行了很多搜索，但找不到任何东西。

任何帮助表示赞赏...

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-12-27T08:28:05.773

您是否刚刚尝试从 XElement 节点获取元素？

> XElement.Element("<元素名称>");

将返回您需要的节点。

试试下面的代码：

```
string text = "<E:Events xmlns:E=\"Event-Details\"><Date>12/27/2012</Date><Time>‎11:12 PM</Time><Message>Happy Birthday</Message></E:Events>";
XElement myEle = XElement.Parse(text);
Console.WriteLine(myEle.Element("Date").Value);
Console.WriteLine(myEle.Element("Time").Value);
Console.WriteLine(myEle.Element("Message").Value); 
```

# html - 使用画布进行 HTML5 视频和图像集成？

> ID：14050508
> 
> 赞同：0
> 
> 时间：2012-12-27T06:39:10.330
> 
> 标签：html, html5-canvas, html5-video

我的视频播放正常，但现在我需要在右下角的视频标签上添加一个徽标（坐标（2,2,60,60）图标大小为 60*60），我想使用画布，但想出了这样的东西..

```
<html>
<head>
<title>testpage</title>
<script type="text/javascript">
window.addEventListener('load', function () {
var element = document.getElementById('myCanvas');
if (!element || !element.getContext) {
  return;
}

  var context = element.getContext('2d');
  if (!context || !context.drawImage) {
  return;
}

var google_img = new Image();
google_img.addEventListener('load', function () {
   context.drawImage(this, 2, 2, 60, 60);
},false);
google_img.src = "logo.png";

},false);
</script>
</head>
<body>
<div align="center" style="padding-top:25px;">
<video src="Simplevideo.mp4"  width="610" height="380" type="video/mp4" controls="controls"><p>Your browser does not support the video.</p></video> 
<canvas id="myCanvas" width="62" height="62">Your browser does not support HTML5 Canvas element.</canvas>
</div>
</body>
</html> 
```

任何帮助得到它..

提前致谢

夏尔·阿里·谢克

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-27T13:21:26.883

您可以像 loxxy 在评论中所说的那样简单地使用 div，但是如果您出于某种原因真的想使用画布，这里有一个带有您的代码的 jsfiddle（已修复）：

[http://jsfiddle.net/aS9VG/](http://jsfiddle.net/aS9VG/)

诀窍是将元素设置为绝对位置，以便它可以与另一个元素重叠：

```
style="position:absolute;right:150px;bottom:300px" 
```

# android - 我的 android 应用程序中需要服务吗？

> ID：14050510
> 
> 赞同：4
> 
> 时间：2012-12-27T06:39:25.737
> 
> 标签：android, android-service

在我的应用程序中，我有几个活动和一个带有线程的 Java 类。该线程不断地接收消息并将消息发送到 Web 服务器。该应用程序在测试中运行良好，但我担心它在实际手机中使用时可能不会。我担心我与服务器持续交互的后台线程可能会在应用程序处于后台时被 Android 杀死。

我真的需要让我的线程客户端类成为服务吗？我想在用户登录时启动它，并在用户从系统注销时停止它。

如果我需要这样做，请建议一些简单的教程。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-12-27T07:16:04.660

看到这些链接..

[http://www.vogella.com/articles/AndroidServices/article.html](http://www.vogella.com/articles/AndroidServices/article.html)

[示例：使用消息传递在 Activity 和 Service 之间进行通信](https://stackoverflow.com/questions/4300291/example-communication-between-activity-and-service-using-messaging)

[http://androidtrainningcenter.blogspot.in/2012/04/simple-example-of-service-in-android.html](http://androidtrainningcenter.blogspot.in/2012/04/simple-example-of-service-in-android.html)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-12-27T07:14:18.013

据我认为，您最好将 TimerTask 与 Timer 以及任何普通类或服务一起使用就足以满足您的目标。

# cocoa - 如何获得本月下一周第一天的 NSDate

> ID：14050511
> 
> 赞同：1
> 
> 时间：2012-12-27T06:39:32.663
> 
> 标签：cocoa, nsdate, nscalendar, nsdatecomponents

给定一个任意日期，我需要找到该月下一周第一天的日期。请注意，它并不像在当前日期上增加 7 天那么简单，因为该月的最后一周可能少于 7 天。这是我现在使用的代码：

```
 NSCalendar* calendar = [NSCalendar currentCalendar];
    NSDateComponents* components = [calendar components:NSWeekOfMonthCalendarUnit|NSYearCalendarUnit|NSMonthCalendarUnit|NSWeekCalendarUnit|NSDayCalendarUnit fromDate:currentDate];

    NSLog(@"week of month: %ld", [components weekOfMonth]);

    [components setWeekOfMonth:[components weekOfMonth] + 1];
    NSLog(@"new week of month: %ld", [components weekOfMonth]); //week of month is now 2

    [components setWeekday:1];
    NSDate *nextWeek = [calendar dateFromComponents:components]; 
```

例如，currentDate 设置为 2012-10-01。在此示例中，nextWeek 始终为 2012-10-01。似乎发送`setWeekOfMonth:`不会增加`NSDateComponents`对象中的其他日期组件。我是否配置了错误的日期组件，或者`setWeekOfMonth:`不应该那样工作？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-12-27T16:11:49.207

所以....让我们从 an`NSDate`和 an开始`NSCalendar`：

```
NSDate *date = ...;
NSCalendar *cal = [NSCalendar currentCalendar]; 
```

找出该日期是星期几：

```
NSInteger weekdayOfDate = [cal ordinalityOfUnit:NSWeekdayCalendarUnit inUnit:NSWeekCalendarUnit forDate:date];
NSInteger numberOfDaysToStartOfCurrentWeek = weekdayOfDate - 1; 
```

让我们将该日期移至下周：

```
NSDateComponents *oneWeek = [[NSDateComponents alloc] init];
[oneWeek setWeek:1]; // add one week
[oneWeek setDay:-numberOfDaysToStartOfCurrentWeek]; // ... and subtract a couple of days to get the first day of the week
NSDate *startOfNextWeek = [cal dateByAddingComponents:oneWeek toDate:date options:0]; 
```

此时，您的日期指向下周的第一天。现在我们应该验证它是否仍然在同一个月：

```
NSDateComponents *monthOfNextWeek = [cal components:NSMonthCalendarUnit fromDate:startOfNextWeek];
NSDateComponents *monthOfThisWeek = [cal components:NSMonthCalendarUnit fromDate:date];
if ([monthOfNextWeek month] != [monthOfThisWeek month]) {
  // the first day of the next week is not in the same month as the start date
} 
```

当我运行这个时，我知道下周的开始是 2012 年 12 月 30 日（星期日，因为我的日历周从星期日开始）。

但是，如果我希望一周的第一天从星期一开始，我可以在这段代码前面加上：

```
[cal setFirstWeekday:2]; // the first day of the week is the second day (ie, Monday, because Sunday = 1) 
```

如果我这样做，那么`startOfNextWeek`结果将在 2012 年 12 月 31 日。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-28T07:09:37.363

这将是一个有效的答案：

```
NSDateFormatter *dateFormatter=[NSDateFormatter new];
[dateFormatter setLocale:[[NSLocale alloc]initWithLocaleIdentifier:@"en_US_POSIX"]];
[dateFormatter setDateFormat:@"EEE"];

NSDate *date=[NSDate date];
NSString *dateString=[dateFormatter stringFromDate:date];

NSCalendar *calendar = [[NSCalendar alloc] initWithCalendarIdentifier: NSGregorianCalendar];
NSDateComponents *components = [NSDateComponents new];

[calendar setFirstWeekday:1];//1 for Mon

NSDate *newDate=date;

while (![dateString isEqualToString:@"Mon"]) {
    components.day = 1;
    newDate = [calendar dateByAddingComponents:components toDate:newDate options:0];
    dateString=[dateFormatter stringFromDate:newDate];
}
NSLog(@"Upcoming week Date=%@",newDate); 
```

# c# - 从队列中访问打印作业

> ID：14050517
> 
> 赞同：1
> 
> 时间：2012-12-27T06:40:06.910
> 
> 标签：c#, .net, printing, queue, postscript

以前我曾询问过将我的 c# windows 应用程序添加为虚拟打印机。我设法用 RedMon 和 Ghostscript 完成了它。现在，当我按下`Ctrl + P`控件时，控件将转移到我的应用程序，我需要将特定作业作为作业队列中我的应用程序的输入。似乎可以将后记转换为任何格式，那么我如何获得作业的后记文件。或者我的应用程序可以在 GhostScript 的帮助下将 .PS 文件转换为任何格式，我需要找到一份工作的后记。如何才能做到这一点？或者我在哪里可以找到特定打印作业的这些 PostScript 文件。

# xml - xsl:strip-space 没有删除回车符

> ID：14050522
> 
> 赞同：5
> 
> 时间：2012-12-27T06:40:42.927
> 
> 标签：xml, xslt

这是xml文件。“CategoryName”元素中的空格和回车是有意的。

```
<?xml version="1.0" encoding="utf-8"?>
<group>
    <item>
        <id>item 1</id>
        <CategoryName>

        </CategoryName>
    </item>
    <item>
        <id>item 2</id>
        <CategoryName></CategoryName>
    </item>
    <item>
        <id>item 3</id>
        <CategoryName>      </CategoryName>
    </item>

</group> 
```

以下是上述 XML 文件的 XSLT 文件。它应该做的是清除“CategoryName”元素中的所有空格。然后，它将测试“CategoryName”是否为空。

```
<?xml version="1.0" encoding="utf-8"?>
<!-- DWXMLSource="testempty.xml" -->

<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
  <xsl:output method="html" encoding="utf-8" doctype-public="-//W3C//DTD XHTML 1.0 Transitional//EN" doctype-system="http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"/>

  <xsl:strip-space elements="*" /> <!--HERE IS STRIP SPACE-->

  <xsl:template match="/">
    <html xmlns="http://www.w3.org/1999/xhtml">
    <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Untitled Document</title>
    </head>

    <body>
    <xsl:for-each select="/group/item">
      <xsl:if test="CategoryName = ''"> <!--HERE IS THE TEST-->
        <p>Empty</p>          <!--IT WILL OUTPUT 'EMPTY' IF THE ELEMENT IS EMPTY-->
      </xsl:if>
    </xsl:for-each>
    </body>
    </html>
  </xsl:template>
</xsl:stylesheet> 
```

问题是，`xsl:strip-space`没有做好它的工作。只有第 2 项的“CategoryName”通过了“空”测试。

怎么了？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-27T09:07:02.830

我不知道 Dreamweaver 使用的是什么 XSLT 引擎，但这看起来是错误的。

我认为可能有一些 XSLT 处理器仅在您向它们提供未解析的输入（词法 XML）时才应用 xsl:strip-space，而不是在向它们提供 DOM 时应用。规范中没有任何内容可以证明这种行为是合理的，但它使实现者的生活变得更加轻松。

然而，值得指出的是，这不是 xsl:strip-space 的使用方式。它旨在用于去除“可忽略”的空白，即用于仅元素内容中的缩进的空白。如果您使用的是 XSLT 2.0 模式感知转换，这将成为正式的规则：xsl:strip-space 不会影响具有简单内容的元素的内容。这是因为去除此类元素的空格可能会使该元素对架构无效。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-27T17:06:15.657

显然，DeamWeaver 的 XSLT 处理器有一个错误。

**这是获得所需结果的另一种方法：**

**替换**：

```
 <xsl:if test="CategoryName = ''"> 
```

**与**：

```
 <xsl:if test="not(normalize-space(CategoryName))"> 
```

# mysql - 与 MySQL 查询作斗争

> ID：14050524
> 
> 赞同：0
> 
> 时间：2012-12-27T06:40:48.767
> 
> 标签：mysql, select

我有几个 MySQL 查询要写，但实际上我什至不知道从哪里开始。我希望一些有用的灵魂能够帮助我。

所以，我有 2 张桌子。一个是仅包含 a`VENDORID`和 a的供应商/产品表`PRODUCTID`。每个产品都有一个供应商，每个供应商可能有一个或多个产品。

表 2 是订单表。它具有`ORDERID, PRODUCTID, DATEADDED`与订单相关的其他内容。

我要做的是按月创建供应商销售报告。

在第一个屏幕上（在 PHP 中），我想查询给定供应商的月份列表。我想显示从他们在系统中第一次订购的日期到现在的月份列表，最新的在前。像这样的东西：

```
 - December 2012
 - November 2012
 - October 2012 
```

（ETC）

假设他们的一个产品的第一个订单是在 2012 年 10 月。

然后，在下一页我想显示当月销售的产品列表，以及每个订单的价值总和。像这样的东西：

```
ORDERS / SALES FOR DECEMBER

 - Tea Cosy - $25.00 
 - Door Mat - $48.00
 - Hammock - $62.00 
```

（ETC）

但仅限于那个特定的月份。我可以弄清楚 PHP，但 MySQL 中的日期和内容是我的盲点。:( 非常感谢您对这两个查询提供的任何帮助。

圣诞节快乐 ：）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-27T06:52:47.183

好的，我可能不会给你完整的代码，但我会给你一个算法，这样你就可以开始在谷歌上查找你需要的东西

1）你必须知道如何使用`WHERE`SQL子句[http://www.w3schools.com/php/php_mysql_where.asp](http://www.w3schools.com/php/php_mysql_where.asp)

2) MySQL 中的日期处理非常简单，您可以参考这个[mySQL dateTime range Query Issue](https://stackoverflow.com/questions/9935690/mysql-datetime-range-query-issue)

3）添加每件商品的销售额可以测试您的算法技能，因为您可以查询您可以使用 PHP 添加它们，因为我希望您已经知道如何编写 PHP

祝你好运

# language-agnostic - 空间复杂度混淆

> ID：14050526
> 
> 赞同：1
> 
> 时间：2012-12-27T06:41:03.280
> 
> 标签：language-agnostic, complexity-theory, big-o, heapsort, space-complexity

一般来说，我对分析空间复杂性有点困惑。我不确定“算法占用的额外空间”的含义。什么算作 1 的空间？在这里的例子中

```
int findMin(int[] x) {
    int k = 0; int n = x.length;
    for (int i = 1; i < n; i++) {
        if (x[i] < x[k]) {
            k = i;
        }
    }
    return k;
} 
```

空间复杂度为 O(n)，我猜这是由于数组大小为 n。

但是对于像堆排序这样的东西，它需要 O(1)。就地堆排序是否也需要一个大小为 n 的数组（n 是输入的大小）？还是我们假设输入已经在数组中？为什么堆排序的空间复杂度为 O(1)？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-27T06:54:39.853

堆排序只需要恒定数量的**辅助**存储，因此`O(1)`. 要排序的输入所使用的空间当然是`O(n)`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-30T03:56:28.623

实际上，额外空间对应于算法使用的额外堆栈空间，即输入的其他空间，并且通常它在递归函数调用中需要堆栈，如果算法中存在递归，那么它肯定会使用堆栈来存储内容，直到它被终止条件解决。

堆栈的大小将为 O（递归树的高度）。

希望这有帮助！！

# facebook - 使用 Facebook 数据自动填写我的自定义表单

> ID：14050528
> 
> 赞同：1
> 
> 时间：2012-12-27T06:41:08.843
> 
> 标签：facebook, facebook-graph-api, facebook-javascript-sdk

我设计了一个接受输入值的表单。我希望人们单击“注册为 facebook”按钮，该按钮会接收他们的 facebook 详细信息，从而用适当的值填充我的自定义表单。我希望它像这样。[https://www.odesk.com/signup/create-account/id/Contractor_50dbed1edc1416.20352143](https://www.odesk.com/signup/create-account/id/Contractor_50dbed1edc1416.20352143)

请告诉我如何实现这一目标？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-27T06:48:42.013

[注册插件](https://developers.facebook.com/docs/plugins/registration/)是您正在寻找的。:)

**更新**

如果您想要自定义表单。您必须获得用户的许可并获取他的详细信息。您可以使用以下代码：

```
<div id="fb-root"></div> 
<script src="https://connect.facebook.net/en_US/all.js"></script> 
FB.init({appId: 'XXXXXXXXXXXXX',status : true,xfbml  : true, cookie: true ,oauth  : true});

function login(){
        FB.getLoginStatus(function(response) {
        // checks if user already authorized
                    if (response.status === 'connected') {
                            FB.api('me?fields=id,name,email', function(user) {
                                     if(user != null) {
                                                                username  = user.name;
                                                                uid = user.id;
                                                                email = user.email;
                                                            }
                                });

                    } else {
        // If user is not authorized call FB.login for pop up window for authorization  , scope defines list of persmission requested with user
                    FB.login(function(response) {
                            if (response.authResponse.accessToken) {    
                                            FB.api('me?fields=id,name,email', function(user) {
                                                    if(user != null) {
                                                                username  = user.name;
                                                                uid = user.id;
                                                                email = user.email;
                                                            }
                                                        }) 
                                                    } 
                                                }, {scope:'email'});
                    }

                });
    } 
```

按下按钮即可调用 login()。

# ssas - 处理多维数据集会受到其他多维数据集的影响吗？

> ID：14050530
> 
> 赞同：0
> 
> 时间：2012-12-27T06:41:15.047
> 
> 标签：ssas, cube

在我的 ssas 项目中，我创建了两个立方体（A 和 B）。多维数据集A中有1000条数据，B中有2000万条数据。当我处理多维数据集A时，有时处理不完整。在我的想法中，只有 1000 条数据永远不会导致 SSAS 崩溃，所以可能是立方体 B 造成的。

有谁知道处理立方体时立方体之间的关系？

谢谢，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-27T14:04:12.710

除了可能的公共维度之外，不同的立方体之间没有任何联系。

维度可以被多个多维数据集使用。如果多维数据集 A 与多维数据集 B 具有一个或多个相同的维度，则当多维数据集 A 及其维度已被重新处理时，多维数据集 B 可能会设置为未处理。

# android - Json解析器问题将所有actor值放入arraylist

> ID：14050532
> 
> 赞同：0
> 
> 时间：2012-12-27T06:41:23.063
> 
> 标签：android, json

使用 json jason 解析器，但我没有将多个标记值添加到数组列表中，我想将带有 Actor 的 $t 标记解析到数组列表中。例如

```
{
"media$group":{
"media$credit":[
{
"$t":"Murison Dunn",
"role":"Writer",
"scheme":"urn:ebu"
},
{
"$t":"Randolph Scott",
"role":"Actor",
"scheme":"urn:ebu"
},
{
"$t":"Forrest Tucker",
"role":"Actor",
"scheme":"urn:ebu"
},
{
"name":"Mala Powers",
"role":"Actor",
"scheme":"urn:ebu"
},
{
"$t":"J. Carrol Naish",
"role":"Actor",
"scheme":"urn:ebu"
},
{
"$t":"Edgar Buchanan",
"role":"Actor",
"scheme":"urn:ebu"
},
{
"name":"Myron Healey",
"role":"Actor",
"scheme":"urn:ebu"
},
{
"$t":"Howard Petrie",
"role":"Actor",
"scheme":"urn:ebu"
},
{
"name":"Ray Teal",
"role":"Actor",
"scheme":"urn:ebu"
},
{
"$t":"William Forrest",
"role":"Actor",
"scheme":"urn:ebu"
},
{
"$t":"Denver Pyle",
"role":"Actor",
"scheme":"urn:ebu"
},
{
"$t":"Trevor Bardette",
"role":"Actor",
"scheme":"urn:ebu"
},
{
"$t":"Kenneth Tobey",
"role":"Actor",
"scheme":"urn:ebu"
}
]
},

{
"media$group":{
"media$credit":[
{
"$t":"Murison",
"role":"Writer",
"scheme":"urn:ebu"
},
{
"$t":"Scott",
"role":"Actor",
"scheme":"urn:ebu"
},
{
"$t":"Tucker",
"role":"Actor",
"scheme":"urn:ebu"
}
{
"name":"Powers",
"role":"Actor",
"scheme":"urn:ebu"
}
]
},

{
"media$group":{
"media$credit":[
{
"$t":"Dunn",
"role":"Writer",
"scheme":"urn:ebu"
},
{
"$t":"J.Naish",
"role":"Actor",
"scheme":"urn:ebu"
},
{
"$t":"Buchanan",
"role":"Actor",
"scheme":"urn:ebu"
},
{
"$t":"Healey",
"role":"Actor",
"scheme":"urn:ebu"
},
{
"$t":"Petrie",
"role":"Actor",
"scheme":"urn:ebu"
}
]
}
} 
```

但是我的主要问题是我需要从 $t 标签中获取多个项目到数组列表中。我的代码是：

```
JSONObject jsonmediagrop=videoObject.getJSONObject("media$group");
 JSONArray itemsmediarole = jsonmediagrop.getJSONArray("media$credit");
            for(int l=0;l<itemsmediarole.length();l++){
                JSONObject Objectrole = itemsmediarole.getJSONObject(l);

                strrole=Objectrole.getString("Role");
                Log.v("Role", strrole);

                if(strrole.equals("Actor"))
                { 

                     stractor=Objectrole.getString("$t") + "," + stractor;
                     Log.v("stractor", stractor);
                     maprole.put("$t", stractor);
                     myrolelist.add(maprole);
                }

            } 
```

myrolelist - 这是数组列表。maprole-这是哈希图。任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-27T07:14:06.337

好的，在阅读了您在另一个答案中的评论后，我决定为您提供帮助。
我在解析我的问题时也遇到了很多问题。经过大量研究
在我的代码中，我试图获得`rstp url links`.
我希望你能看看它并解决你的问题。
这是我的工作代码

```
 try {
        JSONObject obj = new JSONObject(json);
        String entry = obj.getString("entry");
        JSONObject enObj = new JSONObject(entry);
        String group = enObj.getString("media$group");
        JSONObject grObj = new JSONObject(group);
        String content = grObj.getString("media$content");
        JSONArray array = grObj.getJSONArray("media$content");
        for(int j=0; j<array.length(); j++){
            JSONObject thumbs = array.getJSONObject(j);
            String url = thumbs.getString("url");
            urls[j] = url;
            Log.d(TAG, url);
            //data.setThumbUrl(thumbUrl);
        }

        Log.v(TAG, content);
    } catch (Exception e) {
        Log.e(TAG, e.toString());
    } 
```

对你来说，这可能会奏效：

```
 try {
        JSONObject obj = new JSONObject(json);
        String entry = obj.getString("entry");
        JSONObject enObj = new JSONObject(entry);
        String group = enObj.getString("media$group");
        JSONObject grObj = new JSONObject(group);
        JSONArray array = grObj.getJSONArray("media$credit");
        for(int j=0; j<array.length(); j++){
            JSONObject credits = array.getJSONObject(j);
            String role = credits.getString("role");
            Log.d(TAG, role);
        }

    } catch (Exception e) {
        Log.e(TAG, e.toString());
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-27T06:52:32.970

您的 JSON 无效。当我向下滚动您的 JSON 列表时，您已经定义了同名的数组。这就是为什么它采用多个关键“角色”值。

# google-apps-script - 如何搜索字符串并从谷歌应用脚 本中的电子邮件返回该字符串？

> ID：14050533
> 
> 赞同：0
> 
> 时间：2012-12-27T06:41:23.320
> 
> 标签：google-apps-script

我可以提取电子邮件的正文，但找不到搜索该正文的方法。findText 仅适用于文档，我还没有找到将电子邮件放入文档的方法。电子邮件中的搜索仅返回我已经拥有的整个电子邮件。我是以错误的方式看待这个还是我错过了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-27T06:46:46.413

假设您可以将电子邮件正文作为字符串获取，您可以尝试以下方法：

```
var doc = DocumentApp.getActiveDocument();

// Use editAsText to obtain a single text element containing
// all the characters in the document.
var text = doc.editAsText();

// Insert text at the beginning of the document.
text.insertText(0, 'Your Text To Insert.\n');

//Find search for your results
text.findText(searchPattern) 
```

我不熟悉 Google-Script，但我希望这可能会为您指明正确的方向。

[https://developers.google.com/apps-script/class_text](https://developers.google.com/apps-script/class_text)

# iphone - 在 sqlite 中检索图像

> ID：14050536
> 
> 赞同：0
> 
> 时间：2012-12-27T06:41:51.823
> 
> 标签：iphone, objective-c, sqlite

我在我的项目中使用 sqlite
以前我将图像保存在数据中，但现在我以字节为单位保存图像，如下面的代码

```
NSUInteger len = [entObject.photoImageData length];  
 Byte *byteData = (Byte*)malloc(len);  
 memcpy(byteData, [entObject.photoImageData bytes], len);  
insertString = [NSString stringWithFormat:@"INSERT INTO TBL_COUNTDOWN (DAIRYID,EVENTID,DESCRIPTION,EVENTIMAGE) VALUES (\"%@\",\"%d\",\"No Data\",\"%s\")",self.dairyId,self.eventId,byteData]; 
```

为了检索图像，我使用以下代码

```
NSData *dataForCachedImage = [[NSData alloc] initWithBytes:sqlite3_column_blob(statement, 3) length: sqlite3_column_bytes(statement, 3)];  
                    NSLog(@"dataForCachedImage/getAllEvents is %@",dataForCachedImage);  
                    UIImage *cachedImage = [UIImage imageWithData:dataForCachedImage];  
                    NSLog(@"cachedImage/getAllEvents is %@",cachedImage); 
```

对于 NSLog 中的 dataForCachedImage 我正在获取数据，但对于 cachedImage 我得到 null

我的代码没有什么问题。请帮我

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-27T07:24:26.863

您可以将图像保存到文档目录并将其路径存储到sqlite数据库保存图像代码如下

```
 #define DOCUMENTS_FOLDER [NSHomeDirectory() stringByAppendingPathComponent:@"Documents"]

 // Create a new dated file
 NSDate *now = [NSDate dateWithTimeIntervalSinceNow:0];
 NSString *caldate = [now description];

 NSString *filePath= [NSString stringWithFormat:@"%@/%@.jpg", DOCUMENTS_FOLDER,caldate];
 NSURL *url = [NSURL fileURLWithPath:filePath];

 UIImage *image = [UIImage imageNamed:@"name.jpg"];
 NSData *imageData = UIImagePNGRepresentation(image);

 [imageData writeToFile:filePath atomically:YES]; 
```

任何时候你想检索图像然后获取它然后使用以下方法获取图像

```
- (UIImage*)getImage
{
 NSString *imagePath = [DOCUMENTS_FOLDER stringByAppendingPathComponent:@"imagename.jpg"];
 UIImage *img = [UIImage imageWithContentsOfFile:imagePath];
 return img;
} 
```

删除文件

```
 NSFileManager *fileManager=[NSFileManager defaultManager];
  [fileManager removeItemAtPath:savedFilePath error:nil]; 
```

这可能会帮助你..

# linux-kernel - 多少Linux Kernel Source code for Pc env可以用于BSP

> ID：14050540
> 
> 赞同：0
> 
> 时间：2012-12-27T06:42:36.123
> 
> 标签：linux-kernel, embedded, embedded-linux

我只是在浏览 PC 环境的 Linux 内核源代码，想知道有多少 PC 环境的 Linux 内核源代码可用于为特定平台编写 BSP 代码，比如我想为 x86 底层架构编写 BSP 以支持 pci 总线和一些硬件寄存器。

linux 内核源代码在这种情况下会有帮助吗？

# android - 记住调用下一个方法的上一个方法

> ID：14050541
> 
> 赞同：0
> 
> 时间：2012-12-27T06:42:37.003
> 
> 标签：android

在android中，我必须实现以下目标：

如果输入的密码是正确的`funToEnterPassword();`。我怎么能知道我从哪个方法调用了这个方法，所以我可以继续使用`functionABC();`或`functionXYZ();`

```
public void fun1(){
 funToEnterPassword();
 funcABC();
}

public void fun1(){
 funToEnterPassword();
 functionXYZ();
}

public void funToEnterPassword(){
 //Enter password in popup
 //If password is correct how could I know here from which method I got called this method so I can continue with functionABC() or functionXYZ();
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-27T06:48:07.600

您可以使用 boolean 将方法类型声明为 boolean 或变量，并根据需要设置其值。简单的。:)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-27T06:57:16.277

尝试以下方法：

```
public void fun1(){
   boolean result = funToEnterPassword();
   if (result) 
      funcABC();
}

public void fun2(){
   boolean result = funToEnterPassword();
   if (result)
      functionXYZ();
}

public boolean funToEnterPassword(){

   pwdResult = false;
   //Enter password in popup
   //If correct pwd
   pwdResult = true;
   //If password is correct how could I know here from which method I got called this             method so I can continue with functionABC() or functionXYZ();

   return pwdResult;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-27T09:40:23.873

通常数组中的第三项应该保存当前的类和方法值！下面的代码可能会有一些用处！

```
StackTraceElement[] stackTraceElements = Thread.currentThread().getStackTrace();
    if(stackTraceElements != null && stackTraceElements.length > 0){
        if(stackTraceElements.length > 2){
            String methodName = stackTraceElements[2].getMethodName();
            String className = stackTraceElements[2].getClassName();
            Log.e(className, methodName);
            Toast.makeText(this, className + " " + methodName, Toast.LENGTH_LONG).show();
        }

    } 
```

# c# - 如何区分用户单击链接和执行自动重定向的页面？

> ID：14050548
> 
> 赞同：5
> 
> 时间：2012-12-27T06:43:07.107
> 
> 标签：c#, .net, winforms, redirect, webbrowser-control

在我的 WinForms 应用程序中有一个 C#[`WebBrowser`控件](http://msdn.microsoft.com/en-us/library/system.windows.forms.webbrowser.aspx)，并且知道[`Navigating`事件](http://msdn.microsoft.com/en-us/library/system.windows.forms.webbrowser.navigating.aspx)，我从来没有想出一个好的和优雅的解决方案来解决以下问题：

1.  如果用户主动导航到另一个 URL，我想**允许**它。
2.  如果页面“自行”重定向到另一个 URL，我想**取消**它。

对于**案例1**，我可以想到一些案例：

*   用户单击一个`a`标签并`href`评估该属性以加载另一个 URL。
*   用户单击带有`onclick`javascript 事件处理程序的元素，该事件处理程序调用`window.location`用于加载另一个 URL 的函数。

对于**案例 2**，我可以想象：

*   加载的页面包含一个`iframe`在 IFrame 中加载 URL 的标记。这会触发`Navigating`事件。
*   有一些 JavaScript 计时器在页面加载时启动，当它触发时，它用于`window.location`加载另一个 URL。
*   加载的页面包含一个[`meta refresh`标题标签](http://www.pageresource.com/html/metref.htm)，用于在几秒钟后加载另一个 URL。

**所以我的问题是：**

如何在`Navigating`事件（或任何其他机制）内部检测重定向是由用户显式触发还是由页面隐式触发？

**更多信息**

*   `WebBrowser`正在基于 Windows 的 CMS 后端应用程序中使用。
*   因此，我可以完全控制 WebBrowser 控件中加载的内容。
*   这意味着如果需要，我可以在发送到浏览器之前操作完整的 HTML 字符串。
*   如果它更适用，我也很想获得可以注入到正在加载的 HTML 中的纯 JavaScript 解决方案。

*（请注意，我相信这不是[此 SO 帖子](https://stackoverflow.com/questions/7651338/detect-if-webbrowser-redirects)的副本）*

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-27T08:00:36.937

我对此的看法是捕获用户对 Web 浏览器控件的点击。让它设置一个标志，表明用户点击了网络浏览器。如果标志为真，则允许重定向，如果不是，则不允许它。如果没有（或之后）进行重定向，请确保在 n 秒后重置标志。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-27T08:02:55.287

看来您正在尝试实现反广告/弹出/重定向模式。

从网络浏览器的角度来看..点击与 javascript或**302 重定向**响应`<a href="some.url">`没有什么不同。没有明确的信号，没有这样的方便方法。`window.location = "some.url";`

 **WebBrowser 控件只是 IE 组件的代理。您无法拦截浏览器的引擎，甚至无法禁用/启用 javascript，因为它是 Internet 安全选项的一部分。

您必须创建特殊的逻辑来防止所有可能的重定向情况。

例如。验证 HTML 字符串，然后在渲染之前使用 Regex.Replace 限制一些 javascript 模式、标题或 iframe。

```
var scriptEx = new Regex("<script (.*?)</script>");
var iframeEx = new Regex("<iframe (.*?)</iframe>"); 
```

或者拦截Navigating URL并取消不安全的url等。**

# google-app-engine - ios 6 中的 twitter 集成和 ios 6 应用程序中的 Google 集成

> ID：14050554
> 
> 赞同：1
> 
> 时间：2012-12-27T06:43:41.863
> 
> 标签：google-app-engine, twitter, ios6, integration

是否有任何教程可以将我的 iOS 6 应用程序与 Twitter 和 Google 集成。我进行了很多搜索，但找不到任何好的示例或代码。请任何人指导我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-05T11:29:35.830

在 iOS 5,6 中将此代码用于 twitter。

```
if ([SLComposeViewController isAvailableForServiceType:SLServiceTypeTwitter])
{
    SLComposeViewController *tweetSheet = [SLComposeViewController composeViewControllerForServiceType:SLServiceTypeTwitter];
    [tweetSheet setInitialText:@"Tweeting from my own app! :)"];
    [self presentViewController:tweetSheet animated:YES completion:nil];
}
else
{
    UIAlertView *alertView = [[UIAlertView alloc] initWithTitle:@"Sorry" message:@"You can't send a tweet right now, make sure your device has an internet connection and you have at least one Twitter account setup" delegate:nil cancelButtonTitle:@"OK" otherButtonTitles:nil];
    [alertView show];
} 
```

# webgl - Three.js投影矩阵不投影

> ID：14050555
> 
> 赞同：0
> 
> 时间：2012-12-27T06:43:48.930
> 
> 标签：webgl, three.js

我想手动更改投影矩阵和投影对象，但是当我这样做时，什么都没有投影。我的代码写在下面：

```
 container = document.createElement( 'div' );
    document.body.appendChild( container );
    scene = new THREE.Scene();
    scene.matrixAutoUpdate = false;

    camera = new THREE.PerspectiveCamera( 45, width/height, 1, 10000 );                   
    camera.position.z = 1000;

    sm = [0.00276099, 0.00450188, 0.0029867, 0, -0.0003996, 0.00351491, -0.00492164, 0, -0.0053816, 0.00203048, 0.00189776, 0 ,0, 0, 0, 1];
    for (var i=0;i<16;i++){
      camera.projectionMatrix.elements[i] = sm[i];
    }

    scene.add( camera );

    siz = 20;
    geometry = new THREE.CubeGeometry( siz, siz, siz );
    material = new THREE.MeshBasicMaterial( {  map: THREE.ImageUtils.loadTexture( "{{ STATIC_URL }}images/middle.jpg" ) });

    mesh = new THREE.Mesh( geometry, material);
    mesh.matrixAutoUpdate = false;
    scene.add( mesh );
    objects.push( mesh);

    mesh.updateMatrix();
    scene.updateMatrixWorld();

    projector = new THREE.Projector();

    renderer = new THREE.WebGLRenderer( { antialias: true } );
    renderer.sortObjects = false;
    renderer.setSize( width, height );

    renderer.shadowMapEnabled = true;
    renderer.shadowMapSoft = true;

    container.appendChild( renderer.domElement ); 
```

我究竟做错了什么？

提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-07T14:36:43.550

你的相机太远了，仅此而已。

```
camera.position.z = 100; 
```

另外，声明

```
var objects = []; 
```

您的代码正确地改变了相机投影矩阵。

# tsql - 内连接 4 列，具有不同的服务器 ..、不同的数据库 . 和不同的表

> ID：14050558
> 
> 赞同：0
> 
> 时间：2012-12-27T06:44:03.893
> 
> 标签：tsql, sql-server-2005, inner-join

我有 3 台服务器：

```
 ECPAYSERV2 
 POSSQLSERVER 
 ECPAYSERV1 
```

3个数据库

```
 ECPNWEB
 ECPNPOS
 ECPNDB 
```

和 3 张桌子

```
 account
 branch
 terminal 
```

我也完成了链接服务器：

```
 ECPAYSERV2.ECPNWEB.dbo.account
 POSSQLSERVER.ECPNPOS.dbo.branch
 ECPAYSERV1.ECPNDB.dbo.terminal 
```

应该看到的字段如下

```
 AccountID = ECPAYSERV2.ECPNWEB.dbo.account.(accntid)
 BranchID = ECPAYSERV2.ECPNWEB.dbo.branch.(branchid)
 TID = ECPAYSERV1.ECPNDB.dbo.terminal.(TID)
 Store # = POSSQLSERVER.ECPNPOS.dbo.branch.(Storeno)
 Store name = ECPAYSERV2.ECPNWEB.dbo.account.(accountholder)
 Branch name = ECPAYSERV2.ECPNWEB.dbo.brachn.(branchname) ,  POSSQLSERVER.ECPNPOS.dbo.branch.(branchname) , ECPAYSERV1.ECPNDB.dbo.terminal.(retail_store_code) 
```

**用括号括起来的数据是列。，**

为了更清楚这一切是表中的列..

表：帐户

```
 |Accntid|managedby|Accountholder|Description|AccountType|ContactPerson|ContactNumber|EmailAddress| 
```

表：分行

```
 |BranchID|BranchName|AccountID|StoreNo|Description|Status| 
```

表：终端

```
 |TerminalID|TID|retail_store_code|t_distributor_code| 
```

我想要的只是用正确的数据获取这个输出..

```
 |accntid|accountholder|tid|storeno|branchname|branchid| 
```

这是我尝试但没有得到正确的输出

```
 SELECT account.accntid,account.accountholder,terminal.tid,branch.storeno,branch.branchname,branch1.branchid
 FROM ECPAYSERV2.ECPNWEB.dbo.account as account 
 INNER JOIN POSSQLSERVER.ECPNPOS.dbo.branch as branch
  ON account.accntid=branch.branchid 
 INNER JOIN ECPAYSERV2.ECPNWEB.dbo.branch as branch1
  ON account.accntid=branch1.branchid
 INNER JOIN ECPAYSERV1.ECPNDB.dbo.terminal as terminal 
  ON account.accntid=terminal.tid 
```

请帮我解决这个问题谢谢:(

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-27T08:54:27.507

```
SELECT
    account.accntid, account.accountholder, terminal.tid, branch.storeno, branch.branchname, branch1.branchid
FROM 
    ECPAYSERV2.ECPNWEB.dbo.account as account 
    INNER JOIN POSSQLSERVER.ECPNPOS.dbo.branch as branch
        ON account.accntid=branch.AccountID 
    INNER JOIN ECPAYSERV2.ECPNWEB.dbo.branch as branch1
        ON account.accntid=branch1.AccountID
    INNER JOIN ECPAYSERV1.ECPNDB.dbo.terminal as terminal 
        ON account.accntid=terminal.??? 
```

这 ？？？不正确，但不清楚终端的哪一列是帐户的FK。

# visual-studio-2012 - Microsoft Visual Studio 更改默认主题

> ID：14050561
> 
> 赞同：53
> 
> 时间：2012-12-27T06:44:16.447
> 
> 标签：visual-studio-2012, ide, themes, microsoft-metro

我发现使用IDE中给出的**黑色主题进行编码真的很困难。**`visual studio 2012`无论如何我可以恢复旧的灰色主题，或者无论如何我可以让它看起来更白一点？

* * *

## 回答 #1

> 赞同：120
> 
> 时间：2012-12-27T06:49:28.130

工具 -> 选项 -> 环境 -> 常规 -> 颜色主题

或者你可以尝试使用[Visual Studio 2012 Color Theme Editor](https://marketplace.visualstudio.com/items?itemName=MatthewJohnsonMSFT.VisualStudio2012ColorThemeEditor)，它也有预建的主题。

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2016-09-23T06:21:08.667

**对于 Visual Studio 2015 及更高版本**

工具->选项->常规->颜色主题

更改主题并按 OK。

![Visual Studio 选项窗口](../Images/c4169c9e785dca56f6b4e733f1d50b80.png)

# sharepoint - 对 Savon 的 NTLM 支持

> ID：14050567
> 
> 赞同：4
> 
> 时间：2012-12-27T06:44:50.460
> 
> 标签：sharepoint, ntlm, savon

我正在使用 Savon 通过 Web 服务与 SharePoint 进行通信。如果 SharePoint Web 应用程序支持基本身份验证，则一切正常，但如果我将其更改为 NTLM，则会失败。它在线上失败

```
newclient.http.auth.ntlm(username, password) 
```

并且错误消息是`Install the httpi-ntlm gem for experimental NTLM support`。仅供参考，我已经安装了指定的 gem 并且正在使用它。

# c# - 如何设置自动创建的线程的 GenericPrincipal C#

> ID：14050570
> 
> 赞同：1
> 
> 时间：2012-12-27T06:44:59.587
> 
> 标签：c#, role-base-authorization, genericprincipal

我在应用程序中有代码

```
var principal = new GenericPrincipal(currentIdentity, roles);
        Thread.CurrentPrincipal = principal; 
```

但问题是当我的应用程序运行时，会自动创建一些线程，但原理与上述不同。如何设置？

# asp.net-mvc - 在 MVC 4 测试应用程序中刷新数据库的正确方法？

> ID：14050573
> 
> 赞同：0
> 
> 时间：2012-12-27T06:45:28.997
> 
> 标签：asp.net-mvc, asp.net-mvc-4

过去我删除了在其中`.mdf`找到的文件，`App_Data`但这给我带来了问题。那么完全刷新数据库的正确方法是什么？

# iphone - Cocos2d 动态 CCMenu

> ID：14050576
> 
> 赞同：0
> 
> 时间：2012-12-27T06:45:41.903
> 
> 标签：iphone, objective-c, cocos2d-iphone, ccmenuitem

我想在 cocos2d 中创建一个菜单，其中菜单项会在屏幕上漂移，消失，然后重新出现。我找不到任何显示 CCMenuItem 的动画或移动的东西。这可能吗？还是我会更好地使用 CCSprites 并创建功能以在触摸场景时切换场景？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-27T15:47:09.470

您可以使用 CCMenuItemSprite（CCMenuItem 的子类）来实现这一点。继续创建你的精灵（如果你愿意，可以对它们应用动作），然后使用这些精灵来创建 CCMenuItemSprite。但是，如果您想稍后更改操作，则需要抓住指向 CCSprite 的指针——这就是控制操作（而不是 CCMenuItemSprite）的东西。

# canvas - WP7 ScrollViewer 内容被剪裁

> ID：14050579
> 
> 赞同：2
> 
> 时间：2012-12-27T06:45:48.473
> 
> 标签：canvas, scrollviewer, clip

我添加`Canvas`并`ScrollViewer`设置画布剪辑如下。但是内容被剪辑了。我很困惑。请帮我。

```
public MainPage()
{
    InitializeComponent();

    for (int i = 0; i < 10; ++i)
    {
        Canvas canvas = new Canvas();
        canvas.Width = 456;
        canvas.Height = 456;
        RectangleGeometry clipRect = new RectangleGeometry();
        clipRect.Rect = new Rect(0, 0, 456, 456);
        clipRect.RadiusX = 8;                       
        clipRect.RadiusY = 8;                      
        canvas.Clip = clipRect;
        Image image = new Image();
        image.Width = 456;
        image.Height = 456;
        image.Stretch=Stretch.Fill;
        image.Source = new BitmapImage(new Uri("/ApplicationIcon.png", UriKind.Relative));
        canvas.Children.Add(image);
        scrollContent.Children.Add(canvas);
    }
} 
```

结果：滚动一段距离后，它会被剪掉。

# asp.net - 如何在视图状态中存储 Web 用户控件

> ID：14050584
> 
> 赞同：0
> 
> 时间：2012-12-27T06:46:48.947
> 
> 标签：asp.net, c#-4.0, ascx

我正在尝试在网页中注册用户控件，并在页面上卸载用户控件的视图状态保存在网页的隐藏字段中。

```
((HiddenField)(this.Page.FindControl("Hidden_LocationUC"))).Value = this.ViewState.ToString(); 
```

当再次加载页面时，用户控件从隐藏字段加载，但我无法将视图状态存储在隐藏字段中。

```
this.ViewState = ((HiddenField)(this.Page.FindControl("Hidden_LocationUC"))).Value; 
```

此代码导致错误。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-27T06:49:38.743

ViewState 是一种`collection`类型`StateBag`，您正在尝试`assign`使用`string`它，这会导致错误。您不应该更改页面的视图状态，而是需要在视图状态集合中添加和获取对象。

在 ViewState 中存储一个字符串。

```
ViewState["YourObjectName"] = "SomeValue"; 
```

从 ViewState 中检索值

```
string str = ViewState["YourObjectName"].ToString(); 
```

如果您对**自定义 ViewState 管理**感兴趣，可以使用[**IStateManager**](http://msdn.microsoft.com/en-us/library/system.web.ui.istatemanager.aspx)

# javascript - 使用 PyQt 和 javascript 调用“onclick”事件的问题

> ID：14050585
> 
> 赞同：1
> 
> 时间：2012-12-27T06:46:51.093
> 
> 标签：javascript, css, python-2.7, pyqt, screen-scraping

我正在尝试使用漂亮的汤从网站上抓取数据。默认情况下，此网页显示 18 个项目，单击 javascript 按钮“showAlldevices”后，所有 41 个项目都可见。Beautiful Soup 只为默认情况下可见的项目抓取数据，以获取我使用 PyQt 模块并使用 javascript 代码调用 click 事件的所有项目的数据。以下是参考代码：

```
import csv
import urllib2
import sys
import time
from bs4 import BeautifulSoup
from PyQt4.QtGui import *  
from PyQt4.QtCore import *  
from PyQt4.QtWebKit import *  

class Render(QWebPage):  
  def __init__(self, url):  
    self.app = QApplication(sys.argv)  
    QWebPage.__init__(self)  
    self.loadFinished.connect(self._loadFinished)  
    self.mainFrame().load(QUrl(url))  
    self.app.exec_()  

  def _loadFinished(self, result):  
    self.frame = self.mainFrame()  
    self.app.quit()  

url = 'http://www.att.com/shop/wireless/devices/smartphones.html'  
r = Render(url)
jsClick = """var evObj = document.createEvent('MouseEvents');
             evObj.initEvent('click', true, true );
             this.dispatchEvent(evObj);
             """

allSelector = "a#deviceShowAllLink" 
allButton   = r.frame.documentElement().findFirst(allSelector)
allButton.evaluateJavaScript(jsClick) 
html = allButton.webFrame().toHtml()

page = html
soup = BeautifulSoup(page)
soup.prettify()
with open('Smartphones_26decv2.0.csv', 'wb') as csvfile:
    spamwriter = csv.writer(csvfile, delimiter=',')
    spamwriter.writerow(["Date","Day of Week","Device Name","Price"])
    items = soup.findAll('a', {"class": "clickStreamSingleItem"},text=True)
    prices = soup.findAll('div', {"class": "listGrid-price"})
    for item, price in zip(items, prices):
        textcontent = u' '.join(price.stripped_strings)
        if textcontent:            
            spamwriter.writerow([time.strftime("%Y-%m-%d"),time.strftime("%A") ,unicode(item.string).encode('utf8').strip(),textcontent]) 
```

我正在使用这行代码将 html 喂给漂亮的汤`html = allButton.webFrame().toHtml()`此代码运行时没有任何错误**，但我仍然没有获得输出 csv 中所有 41 个项目的数据**

我还尝试使用这些代码行将 html 喂给漂亮的汤：

```
allButton   = r.frame.documentElement().findFirst(allSelector)
a = allButton.evaluateJavaScript(jsClick) 
html = a.webFrame.toHtml()

page = html
soup = BeautifulSoup(page) 
```

但是我遇到了这个错误：`html = a.webFrame.toHtml() AttributeError: 'QVariant' object has no attribute 'webFrame'`

如果我在这里问任何基本问题，请原谅我的无知，因为我是编程新手并帮助我解决这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-27T08:43:48.437

我认为您的 JavaScript 代码有问题。由于您正在创建一个`MouseEvent`对象，因此您应该使用一种`initMouseEvent`方法进行初始化。[你可以在这里](https://developer.mozilla.org/en-US/docs/DOM/element.dispatchEvent)找到一个例子。

**更新2**

但我认为您可以尝试的最简单的想法是使用元素的 JavaScript DOM 方法`onclick`，`a`而不是使用您自己的 JavaScript 代码。像这样的东西：

```
allButton.evaluateJavaScript("this.onclick()") 
```

应该管用。我想您必须在单击后重新加载页面，然后再将其传递给解析器。

**更新 3**

您可以通过`r.action(QWebPage.ReloadAndBypassCache)`或重新加载页面，`r.action(QWebpage.Reload)`但它似乎没有任何效果。我试图用 显示页面`QWebView`，单击链接，看看会发生什么。不幸的是，我遇到了很多分段错误错误，所以我发誓在 PyQt4/Qt4 的某个地方存在错误。由于被废弃的页面使用 jquery，我也尝试在加载 jquery 后显示它，`QWebPage`但再次没有运气（段错误不会消失）。我放弃了 :( 我希望 SO 的其他用户会帮助你。无论如何，我建议你向[PyQt4 邮件列表](http://www.riverbankcomputing.com/mailman/listinfo/pyqt)寻求帮助。他们为 PyQt 用户提供了极好的支持。

**更新**

更改代码时出现的错误是预期的：记住这`allButton`是一个`QWebElement`对象。并且该`QWebElement.evaluateJavaScript`方法返回一个`QVariant`对象（如[文档中所述](http://www.riverbankcomputing.com/static/Docs/PyQt4/html/qwebelement.html#evaluateJavaScript)）并且那种对象没有`webFrame`属性，因为您可以检查查看[此页面](http://www.riverbankcomputing.com/static/Docs/PyQt4/html/qvariant.html)。

# java - 尽管我指定了 3.1.0，但 Spring 版本自动更改为 3.0.5.RELEASE

> ID：14050598
> 
> 赞同：1
> 
> 时间：2012-12-27T06:48:27.060
> 
> 标签：java, spring, maven, noclassdeffounderror

这是我项目的 POM：

```
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
    <modelVersion>4.0.0</modelVersion>
    <groupId>learn.spring</groupId>
    <artifactId>someProject</artifactId>
    <packaging>war</packaging>
    <version>1.0</version>
    <name>someProject</name>
    <url>http://maven.apache.org</url>
    <repositories>
        <repository>
            <id>maven2-repository.java.net</id>
            <name>Java.net Repository for Maven</name>
            <url>http://download.java.net/maven/2/</url>
            <layout>default</layout>
        </repository>
    </repositories>

    <properties>
        <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
        <org.springframework.version>3.1.0.RELEASE</org.springframework.version>
        <org.slf4j.version>1.5.10</org.slf4j.version>
        <org.slf4j.version>1.5.10</org.slf4j.version>
    </properties>

    <dependencies>
        <dependency>
            <groupId>junit</groupId>
            <artifactId>junit</artifactId>
            <version>3.8.1</version>
            <scope>test</scope>
        </dependency>

        <dependency>
            <groupId>oro</groupId>
            <artifactId>oro</artifactId>
            <version>2.0.8</version>
        </dependency>

        <dependency>
            <groupId>commons-validator</groupId>
            <artifactId>commons-validator</artifactId>
            <version>1.3.1</version>
            <exclusions>
                <exclusion>
                    <groupId>commons-logging</groupId>
                    <artifactId>commons-logging</artifactId>
                </exclusion>
            </exclusions>

        </dependency>

        <!-- Jersey + Spring -->
        <dependency>
            <groupId>com.sun.jersey</groupId>
            <artifactId>jersey-server</artifactId>
            <version>1.8</version>
        </dependency>
        <dependency>
            <groupId>com.sun.jersey</groupId>
            <artifactId>jersey-json</artifactId>
            <version>1.8</version>
        </dependency>

        <dependency>
            <groupId>com.sun.jersey.contribs</groupId>
            <artifactId>jersey-spring</artifactId>
            <version>1.8</version>
            <exclusions>
                <exclusion>
                    <groupId>org.springframework</groupId>
                    <artifactId>spring</artifactId>
                </exclusion>
                <exclusion>
                    <groupId>org.springframework</groupId>
                    <artifactId>spring-core</artifactId>
                </exclusion>

                <exclusion>
                    <groupId>org.springframework</groupId>
                    <artifactId>spring-aop</artifactId>
                </exclusion>
                <exclusion>
                    <groupId>org.springframework</groupId>
                    <artifactId>spring-web</artifactId>
                </exclusion>
                <exclusion>
                    <groupId>org.springframework</groupId>
                    <artifactId>spring-beans</artifactId>
                </exclusion>
                <exclusion>
                    <groupId>org.springframework</groupId>
                    <artifactId>spring-context</artifactId>
                </exclusion>
            </exclusions>
        </dependency>

        <dependency>
            <groupId>javax.servlet</groupId>
            <artifactId>javax.servlet-api</artifactId>
            <version>3.0.1</version>
            <scope>provided</scope>
        </dependency>
        <dependency>
            <groupId>net.sf.jasperreports</groupId>
            <artifactId>jasperreports</artifactId>
            <version>4.7.0</version>
        </dependency>
        <dependency>
            <groupId>org.codehaus.groovy</groupId>
            <artifactId>groovy-all</artifactId>
            <version>1.7-beta-1</version>
        </dependency>

        <!-- Log4j Dependency -->
        <dependency>
            <groupId>org.slf4j</groupId>
            <artifactId>jcl-over-slf4j</artifactId>
            <version>1.5.8</version>
            <scope>runtime</scope>
        </dependency>
        <dependency>
            <groupId>org.slf4j</groupId>
            <artifactId>slf4j-api</artifactId>
            <version>1.5.8</version>
            <scope>runtime</scope>
        </dependency>
        <dependency>
            <groupId>org.slf4j</groupId>
            <artifactId>slf4j-log4j12</artifactId>
            <version>1.5.8</version>
            <scope>runtime</scope>
        </dependency>
        <dependency>
            <groupId>log4j</groupId>
            <artifactId>log4j</artifactId>
            <version>1.2.14</version>
        </dependency>
        <!-- Postgres dependency -->
        <dependency>
            <groupId>postgresql</groupId>
            <artifactId>postgresql</artifactId>
            <version>9.1-901.jdbc4</version>
        </dependency>

        <dependency>
            <groupId>org.springframework</groupId>
            <artifactId>spring-jdbc</artifactId>
            <version>${org.springframework.version}</version>
        </dependency>

        <dependency>
            <groupId>commons-dbcp</groupId>
            <artifactId>commons-dbcp</artifactId>
            <version>20030825.184428</version>
        </dependency>
        <dependency>
            <groupId>commons-pool</groupId>
            <artifactId>commons-pool</artifactId>
            <version>20030825.183949</version>
        </dependency>
        <dependency>
            <groupId>commons-collections</groupId>
            <artifactId>commons-collections</artifactId>
            <version>20040616</version>
        </dependency>

        <!-- JSTL dependency -->
        <dependency>
            <groupId>javax.servlet</groupId>
            <artifactId>jstl</artifactId>
            <version>1.2</version>
        </dependency>

        <!-- Spring Web Support -->
        <dependency>
            <groupId>org.springframework</groupId>
            <artifactId>spring-web</artifactId>
            <version>${org.springframework.version}</version>
            <exclusions>
                <exclusion>
                    <groupId>commons-logging</groupId>
                    <artifactId>commons-logging</artifactId>
                </exclusion>

            </exclusions>
        </dependency>

        <dependency>
            <groupId>org.springframework</groupId>
            <artifactId>spring-aop</artifactId>
            <version>${org.springframework.version}</version>
        </dependency>
    </dependencies>
    <build>
        <finalName>someProject</finalName>
        <plugins>
            <plugin>
                <groupId>org.apache.tomcat.maven</groupId>
                <artifactId>tomcat7-maven-plugin</artifactId>
                <version>2.0-SNAPSHOT</version>
            </plugin>
        </plugins>
    </build>

</project> 
```

我已指定要在构建路径中使用 Spring 版本 3.1.0，但它会自动转换为 Spring 3.0.5.RELEASE。我猜是因为`Spring + Jersey`依赖。当我尝试启动服务器时，`mvn tomcat:run`出现以下异常：

```
java.lang.NoClassDefFoundError: org/springframework/core/env/EnvironmentCapable
        at java.lang.ClassLoader.defineClass1(Native Method)
        at java.lang.ClassLoader.defineClassCond(ClassLoader.java:631)
        at java.lang.ClassLoader.defineClass(ClassLoader.java:615)
        at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:141)
        at java.net.URLClassLoader.defineClass(URLClassLoader.java:283)
        at java.net.URLClassLoader.access$000(URLClassLoader.java:58)
        at java.net.URLClassLoader$1.run(URLClassLoader.java:197)
        at java.security.AccessController.doPrivileged(Native Method)
        at java.net.URLClassLoader.findClass(URLClassLoader.java:190)
        at org.apache.catalina.loader.WebappClassLoader.findClass(WebappClassLoader.java:1141)
        at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1612)
        at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1491)
        at java.lang.ClassLoader.defineClass1(Native Method)
        at java.lang.ClassLoader.defineClassCond(ClassLoader.java:631)
        at java.lang.ClassLoader.defineClass(ClassLoader.java:615)
        at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:141)
        at java.net.URLClassLoader.defineClass(URLClassLoader.java:283)
        at java.net.URLClassLoader.access$000(URLClassLoader.java:58)
        at java.net.URLClassLoader$1.run(URLClassLoader.java:197)
        at java.security.AccessController.doPrivileged(Native Method)
        at java.net.URLClassLoader.findClass(URLClassLoader.java:190)
        at org.apache.catalina.loader.WebappClassLoader.findClass(WebappClassLoader.java:1141)
        at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1612)
        at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1491)
        at java.lang.Class.getDeclaredConstructors0(Native Method)
        at java.lang.Class.privateGetDeclaredConstructors(Class.java:2389)
        at java.lang.Class.getConstructor0(Class.java:2699)
        at java.lang.Class.newInstance0(Class.java:326)
        at java.lang.Class.newInstance(Class.java:308)
        at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4079)
        at org.apache.catalina.core.StandardContext.start(StandardContext.java:4630)
        at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1045)
        at org.apache.catalina.core.StandardHost.start(StandardHost.java:785)
        at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1045)
        at org.apache.catalina.core.StandardEngine.start(StandardEngine.java:445)
        at org.apache.catalina.startup.Embedded.start(Embedded.java:825)
        at org.codehaus.mojo.tomcat.AbstractRunMojo.startContainer(AbstractRunMojo.java:558)
        at org.codehaus.mojo.tomcat.AbstractRunMojo.execute(AbstractRunMojo.java:255)
        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:101)
        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:209)
        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)
        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)
        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:84)
        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:59)
        at org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuild(LifecycleStarter.java:183)
        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:161)
        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:320)
        at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:156)
        at org.apache.maven.cli.MavenCli.execute(MavenCli.java:537)
        at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:196)
        at org.apache.maven.cli.MavenCli.main(MavenCli.java:141)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:597)
        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:290)
        at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:230)
        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:409)
        at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:352)
Caused by: java.lang.ClassNotFoundException: org.springframework.core.env.EnvironmentCapable
        at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1645)
        at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1491) 
```

EnvironmentCapable.class 文件存在于`spring-core-3.1.0.RELEASE.jar`. 我手动将 jar 添加到我的构建路径中，但仍然得到相同的异常。我正在使用 Eclipse 靛蓝。请指教。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-27T07:14:57.243

如果你检查`pom.xml`里面`jersey-spring-1.8.jar`，你会看到这个，

```
 <properties>
        <spring20-release-version>2.0.5</spring20-release-version>
        <spring25-release-version>[2.5.2,3)</spring25-release-version>
    </properties> 
```

这意味着，jersey-spring-1.8 强制您仅使用最多 3 的 spring 版本。我认为这是问题所在。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-27T07:17:56.013

是从哪里来`<version>${org.springframework.version}</version>`的？它没有在您的 POM 文件中定义为属性，所以我猜这个属性来自依赖项之一并接管您的`3.1.RELEASE`（提示：查看 jersey-spring 依赖项）不要使用属性来定义版本！使用 Maven 的 < [DependencyManagement](http://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html) > 部分来控制隐式和显式版本！我建议您使用依赖范围`provided`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-27T10:51:07.773

问题在于 POM 中的 LDAP 依赖项。它将 3.0.5 版本集成到构建路径中。随着`mvn dependency:tree`它变得明显。

```
 learn.spring:someProject:war:1.0
 +- junit:junit:jar:3.8.1:test (scope not updated to compile)
 +- oro:oro:jar:2.0.8:compile
 +- commons-validator:commons-validator:jar:1.3.1:compile
 |  +- commons-beanutils:commons-beanutils:jar:1.7.0:compile
 |  \- commons-digester:commons-digester:jar:1.6:compile
 +- org.springframework.ldap:spring-ldap-core:jar:1.3.1.RELEASE:compile
 |  +- commons-logging:commons-logging:jar:1.0.4:compile
 |  +- commons-lang:commons-lang:jar:2.5:compile
 |  +- org.springframework:spring-core:jar:3.0.5.RELEASE:compile
 |  +- org.springframework:spring-beans:jar:3.0.5.RELEASE:compile
 |  \- org.springframework:spring-tx:jar:3.0.5.RELEASE:compile
 +- com.sun.jersey:jersey-server:jar:1.8:compile
 |  +- asm:asm:jar:3.1:compile
 |  \- com.sun.jersey:jersey-core:jar:1.8:compile
 +- com.sun.jersey:jersey-json:jar:1.8:compile
 |  +- org.codehaus.jettison:jettison:jar:1.1:compile
 |  |  \- stax:stax-api:jar:1.0.1:compile
 |  +- com.sun.xml.bind:jaxb-impl:jar:2.2.3-1:compile
 |  |  \- javax.xml.bind:jaxb-api:jar:2.2.2:compile
 |  |     +- javax.xml.stream:stax-api:jar:1.0-2:compile
 |  |     \- javax.activation:activation:jar:1.1:compile
 |  +- org.codehaus.jackson:jackson-core-asl:jar:1.7.1:compile
 |  +- org.codehaus.jackson:jackson-mapper-asl:jar:1.7.1:compile
 |  +- org.codehaus.jackson:jackson-jaxrs:jar:1.7.1:compile
 |  \- org.codehaus.jackson:jackson-xc:jar:1.7.1:compile
 +- com.sun.jersey.contribs:jersey-spring:jar:1.8:compile
 +- javax.servlet:javax.servlet-api:jar:3.0.1:provided
 +- net.sf.jasperreports:jasperreports:jar:4.7.0:compile
 |  +- com.lowagie:itext:jar:2.1.7:compile
 |  |  +- bouncycastle:bcmail-jdk14:jar:138:compile
 |  |  +- bouncycastle:bcprov-jdk14:jar:138:compile
 |  |  \- org.bouncycastle:bctsp-jdk14:jar:1.38:compile
 |  |     +- org.bouncycastle:bcprov-jdk14:jar:1.38:compile
 |  |     \- org.bouncycastle:bcmail-jdk14:jar:1.38:compile
 |  +- jfree:jcommon:jar:1.0.15:compile
 |  +- jfree:jfreechart:jar:1.0.12:compile
 |  +- xml-apis:xml-apis:jar:1.3.02:compile
 |  +- eclipse:jdtcore:jar:3.1.0:compile
 |  +- org.codehaus.castor:castor:jar:1.2:compile
 |  \- org.apache.poi:poi-ooxml:jar:3.7:compile
 |     +- org.apache.poi:poi:jar:3.7:compile
 |     +- org.apache.poi:poi-ooxml-schemas:jar:3.7:compile
 |     |  +- org.apache.xmlbeans:xmlbeans:jar:2.3.0:compile
 |     |  \- org.apache.geronimo.specs:geronimo-stax-api_1.0_spec:jar:1.0:compile
 |     \- dom4j:dom4j:jar:1.6.1:compile
 +- org.codehaus.groovy:groovy-all:jar:1.7-beta-1:compile
 |  +- org.apache.ant:ant:jar:1.7.1:compile
 |  |  \- org.apache.ant:ant-launcher:jar:1.7.1:compile
 |  \- jline:jline:jar:0.9.94:compile
 +- org.slf4j:jcl-over-slf4j:jar:1.5.8:runtime
 +- org.slf4j:slf4j-api:jar:1.5.8:runtime
 +- org.slf4j:slf4j-log4j12:jar:1.5.8:runtime
 +- log4j:log4j:jar:1.2.14:compile
 +- postgresql:postgresql:jar:9.1-901.jdbc4:compile
 +- org.springframework:spring-jdbc:jar:3.1.0.RELEASE:compile
 +- commons-dbcp:commons-dbcp:jar:20030825.184428:compile
 +- commons-pool:commons-pool:jar:20030825.183949:compile
 +- commons-collections:commons-collections:jar:20040616:compile
 +- javax.servlet:jstl:jar:1.2:compile
 +- org.springframework:spring-web:jar:3.1.0.RELEASE:compile
 |  +- aopalliance:aopalliance:jar:1.0:compile
 |  \- org.springframework:spring-context:jar:3.1.0.RELEASE:compile
 |     \- org.springframework:spring-expression:jar:3.1.0.RELEASE:compile
 \- org.springframework:spring-aop:jar:3.1.0.RELEASE:compile
    \- org.springframework:spring-asm:jar:3.1.0.RELEASE:compile 
```

正如**aviad**建议的那样，添加`provided`到 LDAP 依赖项效果很好。我添加`exclusions`了相当繁琐的依赖项。:)

```
<dependency>
            <groupId>org.springframework.ldap</groupId>
            <artifactId>spring-ldap-core</artifactId>
            <version>1.3.1.RELEASE</version>
            <exclusions>
                <exclusion>
                    <groupId>org.springframework</groupId>
                    <artifactId>spring</artifactId>
                </exclusion>
                <exclusion>
                    <groupId>org.springframework</groupId>
                    <artifactId>spring-core</artifactId>
                </exclusion>

                <exclusion>
                    <groupId>org.springframework</groupId>
                    <artifactId>spring-aop</artifactId>
                </exclusion>
                <exclusion>
                    <groupId>org.springframework</groupId>
                    <artifactId>spring-web</artifactId>
                </exclusion>
                <exclusion>
                    <groupId>org.springframework</groupId>
                    <artifactId>spring-beans</artifactId>
                </exclusion>
                <exclusion>
                    <groupId>org.springframework</groupId>
                    <artifactId>spring-context</artifactId>
                </exclusion>
                <exclusion>
                    <groupId>org.springframework</groupId>
                    <artifactId>spring-tx</artifactId>
                </exclusion>
            </exclusions>
        </dependency> 
```

# php - 我的代码正在做相反的事情

> ID：14050601
> 
> 赞同：0
> 
> 时间：2012-12-27T06:48:48.963
> 
> 标签：php

我的代码与我想做的相反，当我在验证码上输入值或字母以及用户名/名称时，我试图创建一个简单的验证码，如果验证码字母正确，我希望它打印`hi $name,you types the correct captcha`，如果输入的数据是错误的，我只是想让它打印`nooo`。我的问题是，当我输入正确的字母或数据时，它的打印 noo 并且当我将其留空而不输入任何数据时，它的打印`hi $name,you types the correct captcha`

这是我的简单代码

```
<?php
session_start();
?>
<html>
<head>
<title> captcha test</title>
</head>
<body>
<?php
if(isset($_POST['submit'])){

if (isset($_SESSION['real'])) {
    $real = $_SESSION['real'];
}
$guess = $_POST['captcha'];
$name = $_POST['name'];
$real = "";
if ($real == $guess){

echo "hi $name,you types the correct name";
} 
else {

    echo "Nooo";
}

} else {
?>
<form action= 'index.php' method='post'>
your name:<input type = 'text' name='name' />
<br />
<img src= 'image.php'>  <input type='text' name='captcha' />
<br/>

<input type= 'submit' name='submit' value='go' />
</form>
<?php } ?>
</body>
</html> 
```

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-12-27T06:49:49.910

`$real`在您之前为变量分配了实际值之后，您正在为变量分配一个空白值。

`$real = "";`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-27T06:51:36.977

您在条件检查`$real=""`之前进行`if`

# android - 显式调用 onOptionsItemSelected

> ID：14050603
> 
> 赞同：0
> 
> 时间：2012-12-27T06:48:54.237
> 
> 标签：android, android-menu

我有一个保存菜单项。这有一个`onOptionsItemSelected(MenuItem item)`功能。当我单击“保存”菜单时会触发它。但是，当用户尝试导航到另一个活动而不保存时，我想显式调用此函数。那么基本上我怎么`onOptionsItemSelected(MenuItem item)`能从另一个函数中调用它呢？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-27T06:56:33.720

将您在此方法中编写的所有代码执行一件事以保存只需复制并粘贴到您创建的方法中，例如

```
onOptionsItemSelected(MenuItem item){

    switch(item.getItemId()){
    case R.id.save:
       saveMe();
    break;
    }
}

private void saveMe(){
    // write your save code here
} 
```

现在您可以在用户导航到另一个活动时调用此方法

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-27T06:55:05.970

`showSaveMenu()`如果用户尚未保存，则有一个名为并在其中显示保存菜单的函数。从活动的每个可能的退出点调用此函数，即`onBackPressed()`从您开始另一个活动的任何地方以及从`onOptionsItemselected()`....

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-11-09T04:54:08.497

只需调用 invalidateOptionsMenu()。

# java - Java - 定义和访问注释？

> ID：14050609
> 
> 赞同：7
> 
> 时间：2012-12-27T06:49:13.560
> 
> 标签：java, annotations

我有一个名为 Client 的抽象类。如何访问在子类的调用方法上声明的注释？处理这个问题的最佳方法是什么？

```
public abstract class Client {

   protected void synchronize() {

      // How can I get the Annotation defined on inheriting class?   
      StackTraceElement[] stackTraceElements = Thread.currentThread().getStackTrace();
      StackTraceElement lastStackElement =       stackTraceElements[stackTraceElements.length-1] ;
      Method m = this.getClass().getMethod(lastStackElement.getMethodName(),       String.class, int.class);
      m.getAnnotation(Cache.class);

      // synchronize data from server
   }

} 
```

.

```
public class OrderClient extends Client {

   @Cache(minute = 5)
   public void synchronizrWithCustomerId(String customerId) {

      // So some stuff setup body and header

      super.synchronize();
   }

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-27T07:14:03.597

根据您的示例，此代码运行良好：

```
public class TestS1 {

    public abstract class Client {

        protected void synchronize() throws NoSuchMethodException {
            // How can I get the Annotation defined on inheriting class?
            StackTraceElement[] stackTraceElements = Thread.currentThread().getStackTrace();
            StackTraceElement lastStackElement = stackTraceElements[2]; 
```

// 注意这里：`stackTraceElements[`**2**`]`

```
 Method m = this.getClass().getMethod(lastStackElement.getMethodName(), String.class);
            Cache annotation = m.getAnnotation(Cache.class);
            System.out.println("Cache.minute = " + annotation.minute());
            // synchronize data from server
        }
    } 
```

你还需要用`@Retention(RetentionPolicy.RUNTIME)`

```
 @Retention(RetentionPolicy.RUNTIME)
    @interface Cache {
        int minute();
    }

    public class OrderClient extends Client {
        @Cache(minute = 5)
        public void synchronizrWithCustomerId(String customerId) throws NoSuchMethodException {
            // So some stuff setup body and header
            super.synchronize();
        }
    }

    public void doTest() throws NoSuchMethodException {
        OrderClient oc = new OrderClient();
        oc.synchronizrWithCustomerId("blabla");
    }

    public static void main(String[] args) throws NoSuchMethodException {
        TestS1 t = new TestS1();
        t.doTest();
    }

} 
```

**输出是**：`Cache.minute = 5`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-27T07:35:40.933

Andremoniy 的回答是绝对正确的。我唯一改变的是我在堆栈跟踪中查找的方式。

```
 Cache cache = null;

    try {
        StackTraceElement[] stackTraceElements = Thread.currentThread().getStackTrace();

        for (StackTraceElement element : stackTraceElements) {
            if (this.getClass().getName().equals(element.getClassName())) {
                Method method = this.getClass().getMethod(element.getMethodName(), String.class);
                cache = method.getAnnotation(Cache.class);
                break;
            }
        }
    } catch (NoSuchMethodException e) {
        e.printStackTrace();
    } 
```

# c++ - 音频关闭时线程很慢

> ID：14050616
> 
> 赞同：6
> 
> 时间：2012-12-27T06:49:59.540
> 
> 标签：c++, audio, mfc

我有2个项目。一种是由没有 MFC 风格的 C++ Builder 构建的。另一个是 VC++ MFC 11。

当我创建一个线程并创建一个循环时——假设这个循环向进度条位置添加一个——从 1 到 100 `Sleep(10)`，当然它适用于 C++ Builder 和 C++ MFC。

现在，`Sleep(10)`等待 10 毫秒。好的。但问题仅在于我有打开的媒体播放器、Winamp 或其他任何能产生“声音”的东西。如果我关闭所有媒体播放器、winamp 和其他声音程序，我的线程会慢于 10 毫秒。

它需要像`50-100 ms / each`. 如果我打开任何音乐，它会按预期正常工作。

我不知道为什么会这样。我首先以为我在 MFC App 中犯了一个错误，但是为什么 C++ Builder 也变慢了？

是的，我确信这与声音有关，因为我什至重新格式化了我的窗口，禁用了所有内容。最后我发现了声音问题。

我的代码需要什么吗？

**更新**：

~~现在，我按照代码，发现我`Sleep(1)`在这样的地方使用了等待 1 毫秒。原因是，我从左向右移动一个对象。如果我取消这个睡眠，那么移动就不会出现，因为它非常快。所以，我应该使用`Sleep(1)`. 使用`Sleep(1)`，如果音频**打开**，则它可以工作。如果音频**关闭**，则速度非常慢。~~

 ~~```
for (int i = 0; i <= 500; i++) {
   theDialog->staticText->SetWindowsPosition(NULL, i, 20, 0, 0);
   Sleep(1);
} 
```~~ 

因此，非常感谢有关此的建议。我该怎么办？

我知道这是不正确的方法。我应该使用其他适当且有效的东西。但究竟是什么？哪个函数或类可以帮助我顺利地将静态文本从一个位置移动到另一个位置？

~~此外，更改线程**优先级**也无济于事。~~

**更新 2**：

更新 1 是另一个问题:)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-27T07:22:08.793

`Sleep(10)`等待*至少*10 毫秒。您必须编写代码来检查您实际等待了多长时间，如果超过 10 毫秒，请在代码中妥善处理。Windows 不是实时操作系统。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-12-27T08:19:48.570

睡眠 (10) 将（如我们所知）等待大约 10 毫秒。如果此时有更高优先级的线程需要运行，则线程唤醒可能会延迟。多媒体线程可能以实时或高优先级运行，因此当您播放声音时，您的线程唤醒会延迟。

请参阅 Microsoft Windows 编程应用程序（第 4 版）中的 Jeffrey Richters 评论，第 7 章中的睡眠部分：

> 系统使线程在大约指定的毫秒数内不可调度。没错——如果你告诉系统你想睡 100 毫秒，你会睡大约那么长的时间，但可能还要多几秒或几分钟。请记住，Windows 不是实时操作系统。您的线程可能会在正确的时间唤醒，但是否唤醒取决于系统中发生的其他事情。

同样根据 MSDN[多媒体类调度服务 (Windows)](http://msdn.microsoft.com/en-us/library/windows/desktop/ms684247%28v=vs.85%29.aspx)

MMCSS*确保对时间敏感的处理接收对 CPU 资源的优先访问。*

根据上述文档，您还可以通过注册表项控制保证低优先级任务的 CPU 资源百分比

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-19T15:42:27.040

The minimum resolution for `Sleep()` timing is set system wide with `timeBeginPeriod()` and `timeEndPeriod()`. For example passing `timeBeginPeriod(1)` sets the minimum resolution to 1 ms. It may be that the audio programs are setting the resolution to 1 ms, and restoring it to something greater than 10 ms when they are done. I had a problem with a program that used `Sleep(1)` that only worked fine when the XE2 IDE was running but would otherwise sleep for 12 ms. I solved the problem by directly setting `timeBeginPeriod(1)` at the beginning of my program.

See: [http://msdn.microsoft.com/en-us/library/windows/desktop/dd757624%28v=vs.85%29.aspx](http://msdn.microsoft.com/en-us/library/windows/desktop/dd757624%28v=vs.85%29.aspx)

# iphone - 如何使用 iPhone App 的电话间隙添加 TabbarController

> ID：14050619
> 
> 赞同：0
> 
> 时间：2012-12-27T06:50:13.247
> 
> 标签：iphone, cordova, tabbarcontroller

我正在使用电话间隙制作一个 iPhone 应用程序，因为我想使用 HTML 或使用本机组件添加一个标签栏控制器。任何人都可以向我建议如何做到这一点。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-27T11:28:44.653

如果您使用 phonegap/cordova 1.5+ 版本，您可以使用此插件创建本机标签栏：[https ://github.com/AndiDog/phonegap-ios-tabbar-plugin](https://github.com/AndiDog/phonegap-ios-tabbar-plugin)

其他 phonegap/cordova 插件可以在这里找到：[https ://github.com/phonegap/phonegap-plugins/tree/master/iOS](https://github.com/phonegap/phonegap-plugins/tree/master/iOS)

这是一个如何实现这个的教程：http: [//zsprawl.com/iOS/2012/03/using-the-native-tabbar-plugin-in-cordova/](http://zsprawl.com/iOS/2012/03/using-the-native-tabbar-plugin-in-cordova/)

这当然是最好的方法。另一种方法是使用 jQuery Mobile 并创建一个 HTML 标签栏。这是一种更难的方法，因为它需要时间来正确设置样式，即使那样它也不能完全充当原生标签栏。

# php - '/'后根据网址动态显示内容？

> ID：14050625
> 
> 赞同：0
> 
> 时间：2012-12-27T06:51:05.730
> 
> 标签：php, search, dynamic, asp-classic

我想知道这是否可以使用 PHP，或者如果不是 ASP，因为它相对相似，我可以快速掌握它。假设我有一个文本输入供用户搜索数据库；作为使用文本字段的替代方法，我希望用户能够访问“www.examplesite.com/SEARCHTERM”。这可能吗？我已经看到它完成了，但我不知道如何。谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-27T06:55:01.223

您可能需要根据您使用的服务器查看 url 重写。

[网址重写](http://en.wikipedia.org/wiki/URL_rewriting)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-27T06:53:51.553

是的，这很容易实现。例如，如果您有 apache 服务器，那么您可以启用 mod rewrite 并编写一条规则以将所有此类请求重定向到变量中的脚本，然后它将相应地处理

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-27T07:03:24.810

可以这样做：

1) 使用**$_GET**

```
www.examplesite.com/?SEARCH=SerachTermHere 
```

在页面中，您可以使用`$_GET['SEARCH']`

2) 使用[**URL 重写**](http://www.cyberdesignz.com/blog/website-design/url-rewriting-top-5-ways-of-php-url-rewriting/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-27T07:14:06.463

这是可能的，你有两个选择。

1.  在服务器配置中使用 URL 重写。

2.  使用 $_GET 全局。在您的实际页面地址之后的 URL 中的所有内容都可以通过 $_GET 获得。

这超出了您的问题，但可能被证明*非常*有用。尽管它是一个框架，但您可能希望查看[Symfony 2 路由](http://symfony.com/doc/current/book/routing.html)以了解如何实现它。特别是在“引擎盖下”部分。你甚至可以在[github](https://github.com/symfony)上探索他们的路由代码。在其中创建的应用程序具有您正在搜索的形式（基于 $_GET 数据显示的内容）**。**

# ruby-on-rails - PRAWN rails 3中未定义的方法大小

> ID：14050626
> 
> 赞同：0
> 
> 时间：2012-12-27T06:51:14.467
> 
> 标签：ruby-on-rails, prawn, prawnto

嗨，我在这行代码中遇到错误：

```
pdf.font.size = 13 
```

文件名是**“show.pdf.prawn”**

我正在尝试使用虾 gem 将页面生成为 pdf。

但是更改字体大小不起作用。

任何替代方案或解决方法？谢谢。

顺便说一句：我正在关注 railstips.org 的一个简单教程：[http: //railstips.org/blog/archives/2008/10/13/how-to-generate-pdfs-in-rails-with-prawn/](http://railstips.org/blog/archives/2008/10/13/how-to-generate-pdfs-in-rails-with-prawn/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-27T09:00:45.257

你的教程似乎有点老了。您应该查看本手册：[http](http://prawn.majesticseacreature.com/manual.pdf) ://prawn.majesticseaacreature.com/manual.pdf 和/或查看 railscasts 剧集：[http](http://railscasts.com/episodes/153-pdfs-with-prawn-revised) ://railscasts.com/episodes/153-pdfs-with-prawn-revised 。

您可以使用该`font_size`属性来定义文本的大小，如下所示：

`font_size(25) { text "Even bigger!" }`

你也可以这样做：

`text "Single line on 20 using the :size option.", :size => 20`

或者您可以使用块将不同的字体属性应用于您的文本：

```
 font("Courier", :size => 10) do
      text "Yeah, using Courier 10 courtesy of the font method."
    end 
```

# mysql - 如何锁定一个mysql数据库中的所有表？

> ID：14050627
> 
> 赞同：9
> 
> 时间：2012-12-27T06:51:17.947
> 
> 标签：mysql, database, database-administration

我编写了一个备份 shell 脚本来执行 mysqldump。

```
mysqldump -u$BACKUP_USER -p$BACKUP_PASS --flush-logs --lock-tables $DB_NAME > $SQL_FILE 
```

我的数据库的存储引擎是 MyISAM。所以我不能使用`--single-transaction`选项。mysqldump 进程中`--lock-tables`唯一锁定一张表。我的 MySQL 实例中有很多数据库，我不想使用`--lock-all-tables`，它会锁定我服务器中运行的所有数据库。那么，如何同时锁定一个 mysql 数据库中的所有表以便我可以转储它？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-09-11T22:28:54.030

到目前为止，这不是最漂亮的解决方案，但这有效。我有同样的需求，这是我的解决方案，稍作修改以匹配您的变量名。我假设您在 Linux 上运行 MySQL，因为这在很大程度上依赖于 shell BASH 语义。如果你在 Windows 上，这可能行不通。

```
# Mysql script to lock all tables in one DB
# (such as to get a consistent export dump of one database)

MYSQLCMD="mysql -u$BACKUP_USER -p$BACKUP_PASS -A"

function lock_db {
  [ -e "/tmp/mysql-db-lock-${1}" ] && rm "/tmp/mysql-db-lock-${1}"
  mkfifo "/tmp/mysql-db-lock-${1}"
  (
    (
      echo "SELECT CONCAT( 'LOCK TABLES '
             , GROUP_CONCAT(CONCAT('\`',table_name,'\`'),' WRITE')
             , ';'
             ) AS \"-- Statement to lock tables\"
      FROM information_schema.tables
      WHERE table_schema='${1}'
      ORDER BY table_name;
      " | $MYSQLCMD
      echo "\! cat '/tmp/mysql-db-lock-${1}' >/dev/null"
      echo 'UNLOCK TABLES;'
    ) | $MYSQLCMD -D"${1}"
    rm "/tmp/mysql-db-lock-${1}"
  ) &
}

function unlock_db {
  >"/tmp/mysql-db-lock-${1}"
}

# Lock one database, all tables
lock_db $DB_NAME

# Verify locks have been placed
echo "SHOW OPEN TABLES WHERE in_use != 0" | $MYSQLCMD

# Do whatever here that you needed the locked db for
mysqldump -u$BACKUP_USER -p$BACKUP_PASS $DB_NAME > $SQL_FILE

# Release locks
unlock_db $DB_NAME

# Verify locks released
echo "SHOW OPEN TABLES WHERE in_use != 0" | $MYSQLCMD 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2016-03-04T15:04:22.130

这就是我的做法。它应该适用于所有情况，因为它使用`FLUSH TABLES WITH READ LOCK`.

```
#!/bin/bash

DB=example
DUMP_FILE=export.sql

# Lock the database and sleep in background task
mysql -uroot -proot $DB -e "FLUSH TABLES WITH READ LOCK; DO SLEEP(3600);" &
sleep 3

# Export the database while it is locked
mysqldump -uroot -proot --opt $DB > $DUMP_FILE

# When finished, kill the previous background task to unlock
kill $! 2>/dev/null
wait $! 2>/dev/null

echo "Finished export, and unlocked !" 
```

shell`sleep`命令只是为了确保运行 mysql 锁定命令的后台任务在 mysqldump 启动之前执行。您可以将其减少到 1 秒，它应该仍然可以。将其增加到 30 秒并尝试在这 30 秒内从另一个客户端的任何表中插入一个值，您会看到它被锁定。

`mysqldump`使用此手动后台锁定而不是使用选项`--single-transaction`和有两个优点`--lock-tables`：

1.  如果您混合了 MyISAM/InnoDB 表，这将锁定所有内容。
2.  除了`mysqldump`在同一锁定期间，您还可以运行其他命令。例如，当在主节点上设置复制时，它很有用，因为您需要`SHOW MASTER STATUS;`在您创建的转储的确切状态下（在解锁数据库之前）获取二进制日志位置，以便能够创建复制从属节点。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-12-27T06:55:30.130

你应该看看这个选项。

`FLUSH TABLES WITH READ LOCK`

> 关闭所有打开的表并使用全局读锁锁定所有数据库的所有表。这是获取备份的一种非常方便的方法...

[http://dev.mysql.com/doc/refman/5.0/en/flush.html](http://dev.mysql.com/doc/refman/5.0/en/flush.html)

# jquery - 仅在 jQuery Mobile 中初始化新添加的元素？

> ID：14050629
> 
> 赞同：0
> 
> 时间：2012-12-27T06:51:25.943
> 
> 标签：jquery, jquery-mobile

我正在`data-role = "header" or "footer" or "content"`使用 jquery 在内部动态附加 DOM 元素。

我所看到的 jquery mobile 在初始化期间添加了一些额外的类。例如，如果我有

`<h1>`里面`<div data-role="header">`就会变成`<h1 class="ui-title">`.

`<h1>`但是当我在里面动态添加另一个时`<div data-role="header">`，就不会添加了`class="ui-title"`。

试过了，

```
$(element).trigger('create'), $(element).page() 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-27T08:03:15.120

这是我很快发现的对我有用的东西，

```
$(document).page('destroy').page() 
```

# javascript - 将多个字段组合到 1 个输入字段时的问题

> ID：14050631
> 
> 赞同：0
> 
> 时间：2012-12-27T06:51:33.827
> 
> 标签：javascript, jquery

我有一些代码可以组合几个字段并传递给用户个人资料页面上的 1 个输入字段 F。加载后，#Salary_para1 会先将值传递给字段 F，然后当用户在 #Salary_value 中输入值时，它也会将其值传递给字段 F。与复选框#Salary_para2 的条件相同。

用户保存个人资料页面后出现问题。假设 F 字段保存后的值为“MYR1000 + Allowance”。加载后，字段 F 仍显示 #Salary_para1 的值（样本中的“MYR”）而不是“MYR1000 + Allowance”。

1) 如何确保F栏在加载后显示“MYR1000 + Allowance”？2) 如果用户没有向#Salary_value 输入值，如何使它不传递#Salary_para1 (MYR) 的值？3) 如何确保加载后的字段 F 的值是“MYR”和“+ Allowance”，那么字段#Salary_para1 将显示“MYR”并且复选框#Salary_para2 将被选中？（回退）

[http://jsfiddle.net/e2ScF/69/](http://jsfiddle.net/e2ScF/69/)

代码：

```
<select id="Salary_para1">
  <option value="">Choose...</option>
  <option value="0" selected>MYR</option>
  <option value="1" >SGD</option>
</select>
<input id="Salary_value" type="text"/>
 + <input type="checkbox" id="Salary_para2" name="Salary_para2" value=" + Allowance"  />Allowance<br/>
<input type="text" id="targetTextField" name="targetTextField" size="31" tabindex="0" maxlength="99" value="MYR1000 + Allowance">

$(function() {
setTarget();
$("#Salary_para1,#Salary_para2").change(setTarget);
$("#Salary_value").keyup(setTarget);

function setTarget() {
    var tmp = $("option:selected", "#Salary_para1").text();
    tmp += $("#Salary_value").val();
    tmp += $("#Salary_para2:checked").val() || '';
    $('#targetTextField').val(tmp);
}
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-27T07:24:07.303

1) 仅当您将 F 字段保存在某处时才有可能.. 因为重新加载后无法获取 javascript var

2）检查状况`if empty or not`并在那里做你的事情

3）revertback是可能的..考虑到您将F字段var保存在某处...加载var ..将其拆分为arras并检查条件..

检查这个小提琴..

[http://jsfiddle.net/e2ScF/75/](http://jsfiddle.net/e2ScF/75/)

并摆弄其他例子..

[http://jsfiddle.net/e2ScF/74/](http://jsfiddle.net/e2ScF/74/)

# android - 防止用户复制 Android 应用内容

> ID：14050640
> 
> 赞同：3
> 
> 时间：2012-12-27T06:52:28.667
> 
> 标签：android

我有一个 android 应用程序可以帮助用户阅读一些书籍，它是 pdf 格式的。当用户从列表中选择一本书时，该书刚刚从服务器下载并且用户可以阅读它。

我想阻止用户从应用程序中复制 pdf。可能吗？

帮助是非常可观的

谢谢，

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-27T07:24:12.140

一旦您解密设备上的 pdf，就意味着设备所有者拥有解密 pdf 文件的代码。一个优秀且积极进取的黑客将始终能够找到该代码并破译书籍。对此没有解决方案。

尽管如此，盗版和反盗版是某种核武器竞赛，所以你最好让黑客的事情变得更加困难，例如使用几种自定义加密方案。您也可以考虑使用 KeyChain 来存储您的解密密钥：[http ://nelenkov.blogspot.fr/2012/05/storing-application-secrets-in-androids.html](http://nelenkov.blogspot.fr/2012/05/storing-application-secrets-in-androids.html)

但是，一个有时间的优秀黑客仍然会找到方法。此外，如果您正在寻找一些法律答案而不是技术答案，则您的许可证应明确防止人们对文件进行解密。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-27T07:23:46.557

简单的方法是您可以将其转换为字节数组，将其编码为 base 64，并将其作为字符串存储在共享首选项中。当用户打开它时，您可以解码并显示

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-12-27T07:23:38.070

从版权的情况来看，这将是非法的。您可以使用免费书籍或 pdf 文件来完成。

# javascript - 如果我在警报框中单击确定，所有文本框都会变空？

> ID：14050645
> 
> 赞同：-1
> 
> 时间：2012-12-27T06:52:52.917
> 
> 标签：javascript, html, forms

我收到错误，例如我有 4 个文本框名称、出生日期、年龄和邮件 ID。如果我输入了姓名、出生日期和年龄，但我没有输入邮件 ID。如果我单击提交，则警报框会出现在该邮件 ID 为空的情况下。如果我在该警报框中单击“确定”，则其余三个字段名称，dob，age 如果我单击“确定”也为空。

```
 <script>
 function validateForm(){
var x=document.forms["registration_form"]["user_name"].value
 if (x==null || x=="")
           {
                alert("Please Enter The Name");
return false;

}
else{ true}
var x=document.forms["registration_form"]["dob"].value
if (x==null || x=="")
           {
                alert("Please Enter Date Of Birth");
                return false;

}
  else{ true}
var x=document.forms["registration_form"]["age"].value
if (x==null || x=="")
           {
                alert("Please Enter Age");
return false;

}
else{ true}
var x=document.forms["registration_form"]["number"].value
if (x==null || x=="")
           {
                alert("Please Enter The Mobile Number");
return false;

}
else{ true}
    var x=document.forms["registration_form"]["mail"].value
var atpos=x.indexOf("@");
var dotpos=x.lastIndexOf(".");
     if (x==null || x=="" || atpos<1 || dotpos<atpos+2 || dotpos+2>=x.length)
             {
                  alert("Please Enter a Valid Mail-Id and Must fill it");
                  return false;

           }
           else{ true}
           var x=document.forms["registration_form"]["address"].value
   if (x==null || x=="")
           {
                  alert("Please Enter The address ");
                return false;

           }
else
{
return true;
}
}      
</script> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-27T06:57:26.777

`x==null`在您的条件检查中删除

```
 else
    {
    true 
    } 
```

这个块是不必要的；

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-27T07:26:41.110

我假设您是从表单的 onSubmit 方法调用此函数。如果是这样，请确保您也在使用 **return**。例如：

```
<form ... onSubmit="return validateForm()" />
...
</form> 
```

这将确保当您的验证函数返回 false 时不会提交表单。

# android - 在android中的方向？

> ID：14050647
> 
> 赞同：0
> 
> 时间：2012-12-27T06:52:55.873
> 
> 标签：android, android-layout, orientation

我是 Android 方向的新手。到目前为止，我只为`portrait`模式工作，现在我正在为两个方向工作。我在**清单文件**中使用此方法进行定位：---

```
 <activity android:name=".Activity_name"
      android:configChanges="orientation|keyboardHidden"> 
```

问题是 ：-

我有两个布局文件夹 - 一个是`layout`，另一个是`layout-land`两个方向。现在我运行我的应用程序，有时它在方向上都需要**布局 xml 文件** ，有时**布局 xml 文件和 layout-land xml 文件都可以工作。**

**如何解决这个问题？**

＆如果我使用此代码：-

```
@Override
  public void onConfigurationChanged(Configuration newConfig) {
    super.onConfigurationChanged(newConfig);
    if(newConfig.orientation == Configuration.ORIENTATION_LANDSCAPE){
        setContentView(R.layout.login_landscape);
    }
    else if (newConfig.orientation == Configuration.ORIENTATION_PORTRAIT) {
        setContentView(R.layout.login);         
    }
} 
```

然后方向问题得到解决，但 Activity 没有再次创建，所以我的代码只工作一次。我的按钮现在不工作了。2.我的第二个问题是，**对于Both XML File How to manage Code in Config Method** 我想知道Orientation的完整概念。答案将受到高度赞赏。

谢谢和热烈的问候， Deepanker Chaudhary

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-27T07:00:42.823

请确保以下几点：

> android:configChanges 列出活动将自行处理的配置更改。当运行时发生配置更改时，默认情况下会关闭并重新启动 Activity，但使用该属性声明配置会阻止 Activity 重新启动。相反，活动保持运行并调用其 onConfigurationChanged() 方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-27T07:01:32.687

布局与纵向布局相同，它是布局端口文件夹。您无需处理布局文件即可更改方向。您只需要保存有关方向更改的数据并在显示时恢复它。您可以对两个方向使用相同的文件名。您可以从[这里](http://www.devahead.com/blog/2012/01/preserving-the-state-of-an-android-webview-on-screen-orientation-change/)获得一些关于方向处理的帮助。[检查](http://developer.android.com/guide/topics/resources/runtime-changes.html)，也是[这个](http://jnastase.alner.net/archive/2010/10/27/handling-orientation-change-in-android.aspx)。

# visual-studio-2010 - 在 Visual Studio 2010 中找不到功能

> ID：14050653
> 
> 赞同：0
> 
> 时间：2012-12-27T06:53:18.977
> 
> 标签：visual-studio-2010, asp-classic

我正在开发一个经典的 asp 项目（支持）。所以我正在修复现有站点中的错误。例如，Visual Studio 无法找到 vb 函数

```
//aPerfInfo is a array value

OFunc.GetNameAndTitle(cstr(aPerfInfo(7,0)); 
```

在上面的代码中，我需要知道 GetNameAndTitle 写在哪里以及 OFunc 是什么或它驻留在哪里。（使用 vs2010 的查找栏很难找到函数）

我的问题是 vs2010 是否可以支持“转到定义功能”，或者是否有任何其他方式（如插件）来做到这一点。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-02T09:42:58.397

在您的 VS2010 查找对话框中......

输入您的搜索条件...就像**GetNameAndTitle**一样 ，然后在底部的 DROPDOWN 中确保其设置为 SEARCH ENTIRE SOLUTION...

![在此处输入图像描述](../Images/35fbe02921818bf5c03f70213133a8cc.png)

# meteor - 完成渲染列表上的流星

> ID：14050657
> 
> 赞同：1
> 
> 时间：2012-12-27T06:53:58.477
> 
> 标签：meteor

有没有办法在整个列表呈现时获得回调？

我试过了

```
Template.articles.rendered = function() {
  var lastChapter = Chapters.findOne({}, {
    sort: {
      createdTime: -1
    }
  })

  if (lastChapter._id != this.data._id)
    return

  doSomething()

}; 
```

但这是不可靠的，因为章节是逐一添加的，而不是一次性添加的，因此实际上会触发多次。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-27T12:01:53.563

`rendered`当模板的一部分被重新渲染时被调用，所以你应该在你的渲染方法内部检查你是否想现在做任何事情。“整个列表呈现”何时发生？您知道在您的代码中，例如通过检查列表是否达到预期长度。

# javascript - 简单的 jQuery 模态窗口在页面加载时不显示弹出窗口

> ID：14050659
> 
> 赞同：1
> 
> 时间：2012-12-27T06:54:15.970
> 
> 标签：javascript, jquery, html

我正在使用[本教程](http://www.queness.com/post/77/simple-jquery-modal-window-tutorial)中所示的 jQuery 模态窗口之一。

它适用于基本示例，但是当我进行更改以在页面加载时显示模态窗口时它不起作用，`<a href="#dialog" name="modal">Simple Modal Window</a>`如果单击它甚至会阻止链接显示弹出模式。

我有关于[jsFiddle的例子](http://jsfiddle.net/pJhvJ/)

我不确定我做错了什么。

我只是想要简单的模式窗口显示在页面加载事件中。

```
launchWindow('#dialog');  // does not work as shown in that tutorial 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-27T07:04:07.867

试试这个：http: **[//jsfiddle.net/HJUZm/](http://jsfiddle.net/HJUZm/)**

您可以单击`<a>`刚刚删除的那个。

```
$(document).ready(function() {
    var id = $(this).attr('href');

    //Get the screen height and width
    var maskHeight = $(document).height();
    var maskWidth = $(window).width();

    //Set height and width to mask to fill up the whole screen
    $('#mask').css({'width':maskWidth,'height':maskHeight});

    //transition effect    
    $('#mask').fadeIn(1000);   
    $('#mask').fadeTo("slow",0.8);

    //Get the window height and width
    var winH = $(window).height();
    var winW = $(window).width();

    //Set the popup window to center
    $(id).css('top',  winH/2-$(id).height()/2);
    $(id).css('left', winW/2-$(id).width()/2);

    //transition effect
    $(id).fadeIn(2000);

//if close button is clicked
$('.window .close').click(function (e) {
    //Cancel the link behavior
    e.preventDefault();
    $('#mask, .window').hide();
});    

//if mask is clicked
$('#mask').click(function () {
    $(this).hide();
    $('.window').hide();
});        

$(window).resize(function () {

    var box = $('#boxes .window');

    //Get the screen height and width
    var maskHeight = $(document).height();
    var maskWidth = $(window).width();

    //Set height and width to mask to fill up the whole screen
    $('#mask').css({'width':maskWidth,'height':maskHeight});

    //Get the window height and width
    var winH = $(window).height();
    var winW = $(window).width();

    //Set the popup window to center
    box.css('top',  winH/2 - box.height()/2);
    box.css('left', winW/2 - box.width()/2);

});    
}); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-27T07:14:39.177

在您的代码中，它缺少 function `launchWindow()`。这是功能：

```
function launchWindow(id) { 
        //Get the screen height and width
        var maskHeight = $(document).height();
        var maskWidth = $(window).width();

        //Set heigth and width to mask to fill up the whole screen
        $('#mask').css({'width':maskWidth,'height':maskHeight});

        //transition effect     
        $('#mask').fadeIn(1000);    
        $('#mask').fadeTo("slow",0.8);  

        //Get the window height and width
        var winH = $(window).height();
        var winW = $(window).width();

        //Set the popup window to center
        $(id).css('top',  winH/2-$(id).height());
        $(id).css('left', winW/2-$(id).width()/2);

        //transition effect
        $(id).fadeIn(2000); 
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-12-27T07:15:08.810

看看这个它在页面加载时有效，就像你描述的 [小提琴一样](http://jsfiddle.net/pJhvJ/2/)

```
Here simply I have removed     `$('a[name=modal]').click(function(e) {` }); 
```

并设置`var id = $('#link').attr('href');`了链接 id 是标签的 id

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-27T07:06:07.493

**launchWindow(..)**未在您的 javascript 中定义。

而是试试这个：
$('a[name=modal]').click();

# iphone - 如何在主详细信息应用程序中添加多个详细视图控制器

> ID：14050662
> 
> 赞同：0
> 
> 时间：2012-12-27T06:54:26.267
> 
> 标签：iphone, objective-c

如何创建以 MasterDetail 为设计模板的项目。

问题是不同的细节视图必须通过主视图的不同按钮单击来显示。我可以在不同通知的帮助下做到这一点吗？

我对 Objective C 和本机应用程序非常陌生。

非常感谢您提前提供的任何帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-27T07:16:20.177

一种解决方案是您的`detailViewController`is `UINavigationControlller`。添加`all controllers in UINavigationControlller`.

现在`popToViewController` `depending`在`MasterDetail's button clicks`.

例如在**_** `button``MasterDetail`

```
if(button.tag == 0)
{
    [self.navigationController popToViewController:[self.navigationController.viewControllers objectAtIndex:button.tag]];
} 
```

# java - 在 JTextPane 中编写印度地区语言，如古吉拉特语、旁遮普语等

> ID：14050668
> 
> 赞同：3
> 
> 时间：2012-12-27T06:54:42.423
> 
> 标签：java, swing, fonts, jtextpane

我可以在 中写印地语、乌尔都语`JTextPane`，但不能在文本窗格中写其他印度地区语言。我还下载了这些语言的字体，但它不起作用。

如何写印度***地区***语言，如古吉拉特语、旁遮普语等`JTextPane`？

**更新 ：**

根据要求的一段代码：

```
public class NewClass { 

    public static void main(String args[]) { 

        JFrame j = new JFrame("Hello!"); 
        j.setSize(200, 200); 
        JTextPane k = new JTextPane(); 
        k.setFont(new Font("Shree-Guj-0768W", Font.PLAIN, 17));
        j.add(k); j.setVisible(true); 

    }

} 
```

我在 jtextpane 中设置了 gujrati（一种语言）字体，现有内容出现在 gujrati 中，但是当我在 jtextpane 中书写时出现。我们可以在同一个 Jtextpane 中使用多种印度地区语言吗？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-12-27T07:04:20.170

首先是安装字体。

其次设置字体`JTextPane`- 例如，如果您想设置`Shivaji05`输入马拉地语的字体，`JTextPane`然后使用：

```
jTextPane1.setFont(new java.awt.Font("Shivaji05", Font.PLAIN, 11)); 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-12-27T07:00:28.100

您需要为 JTextPane 设置字体。

这是下面的链接，您可以如何设置字体并使用它

[http://www.javaprogrammingforums.com/java-swing-tutorials/39-how-change-jtextarea-font-font-size-color.html](http://www.javaprogrammingforums.com/java-swing-tutorials/39-how-change-jtextarea-font-font-size-color.html)

[http://javatechniques.com/blog/setting-jtextpane-font-and-color/](http://javatechniques.com/blog/setting-jtextpane-font-and-color/)

# go - 为什么我的频道会死锁？

> ID：14050673
> 
> 赞同：1
> 
> 时间：2012-12-27T06:55:07.000
> 
> 标签：go

我正在尝试编写一个简单的 Go 脚本来计算高达 8 的自然数之和：

```
package main
import "fmt" 

func sum(nums []int, c chan int) {
    var sum int = 0
    for _, v := range nums {
        sum += v    
    }
    c <- sum
}

func main() {
    allNums := []int{1, 2, 3, 4, 5, 6, 7, 8}
    c1 := make(chan int)
    c2 := make(chan int)
    sum(allNums[:len(allNums)/2], c1)
    sum(allNums[len(allNums)/2:], c2)
    a := <- c1
    b := <- c2
    fmt.Printf("%d + %d is %d :D", a, b, a + b)
} 
```

但是，运行此程序会产生以下输出。

```
throw: all goroutines are asleep - deadlock!

goroutine 1 [chan send]:
main.sum(0x44213af00, 0x800000004, 0x420fbaa0, 0x2f29f, 0x7aaa8, ...)
    main.go:9 +0x6e
main.main()
    main.go:16 +0xe6

goroutine 2 [syscall]:
created by runtime.main
    /usr/local/go/src/pkg/runtime/proc.c:221

exit status 2 
```

为什么我的代码会死锁？我很困惑，因为我使用 2 个单独的通道来计算小数。这两个渠道是如何依赖的？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-12-27T08:55:42.000

您的通道是无缓冲的，因此输入的`c <- sum`行将`sum()`阻塞，直到其他例程从另一端读取。

一种选择是将缓冲区添加到通道，因此您可以将值写入通道而不会阻塞：

```
c1 := make(chan int, 1)
c2 := make(chan int, 1) 
```

或者，如果您将`sum()`函数作为单独的 goroutine 运行，那么它可能会在您的`main()`函数继续到它从通道读取的点时阻塞。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-12-27T08:50:29.687

是的，你需要添加`go`喜欢

```
go sum(allNums[:len(allNums)/2], c1)

go sum(allNums[len(allNums)/2:], c2) 
```

或者

```
c1 := make(chan int,1)
c2 := make(chan int,1) 
```

添加频道缓存。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-12-27T06:57:25.373

我有一段时间没有使用 Go，所以可能不是这样，但据我记得你需要`go`启动另一个 goroutine，所以：

```
go sum(allNums[:len(allNums)/2], c1)
go sum(allNums[len(allNums)/2:], c2) 
```

如果`sum`没有在另一个 goroutine 上运行，它会尝试执行：

```
c <- sum 
```

但是什么也没读`c`；`c`尚未达到代码读取，因为它正在等待`sum`完成，并且`sum`不会完成，因为它需要先将其交给该代码！

# android - 如何在 android 模拟器中运行 android sencha 应用程序

> ID：14050678
> 
> 赞同：0
> 
> 时间：2012-12-27T06:55:40.100
> 
> 标签：android, extjs, android-emulator, sencha-touch, sencha-touch-2

我在stackoverflow中看到了这样的问题，但是答案并不让我满意。我的主要问题是我必须检查我的 android sencha 应用程序如何在各种版本的 android 手机上运行。

从一开始，我在 android 2.3.4 移动设备上测试了应用程序，现在我几乎完成了我的应用程序，所以我想在所有版本的 android 中测试我的应用程序，所以我尝试在 android 模拟器中运行我的应用程序。

我运行了应用程序但只得到了错误，所以我搜索了如何在模拟器中运行 android sencha 应用程序，然后我得到了这个链接[Sencha Touch 2 Native Packaging for Android](http://docs.sencha.com/touch/2-0/#!/guide/native_android)，我尝试按照该链接中的指南进行操作，我安装了 SenchaSDKTools 2.0 和 Sencha命令。

并试图运行

```
sencha package run android.json 
```

这就是我得到的

```
Sencha Cmd v3.0.0.250
[ERR]       stbuild is not yet supported on linux 
```

我正在使用 ubuntu 12.4。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-27T07:16:01.103

要继续运行`sencha application`，`Android`您需要`cordova`集成，它将在`sencha`和之间提供桥梁`android`。

我已经发布了此类事情的**详细步骤**。

**请看这个链接。**

[将 Phonegap/Cordova 与 Android 应用程序集成](https://stackoverflow.com/a/13854393/556975)

按照这些**步骤**，你就**完成了**。

只需考虑那里的***第 5 步***，您需要将**整个 sencha 应用程序代码**放入`assets/www` **文件夹**并确保`index.html`位于**root(www) 文件夹**中。

谢谢。

# ruby - 如何在 Emacs 中使用 Ruby 调试器？

> ID：14050684
> 
> 赞同：2
> 
> 时间：2012-12-27T06:56:28.853
> 
> 标签：ruby, debugging

我正在用 Emacs 编写 Ruby，但我的 Emacs 技能实际上相当低。我能做的是打开项目，使用 Mx rinari-test 进行 TDD，或者使用 Mx run-ruby 在第二个窗口中播放劣质 Ruby。现在我想开始使用来自 StdLib 的调试器。我可以通过以下方式从 irb 召唤它：

```
require 'debug' 
```

我进入提示

```
(rdb:1) 
```

但我的能力就到此为止了。我什至不知道如何进入文件。输入“帮助”带来了一个屏幕，但它并没有帮助我最终开始调试我的错误 gem。在网上，每个人都在写诸如“rdebug”或“ruby-debug”之类的东西，或者我首先不想使用的东西，其次，作为一个麻瓜，我无法在我的 Debian 上安装。请帮忙！！！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-27T07:41:11.607

您确实需要尝试读取`help`调试器中的输出。它很好地解释了命令。

例如，作为练习，请在命令行中尝试此操作，而不是在编辑器/IDE 中：

```
ruby -rdebug -e 'p 1'
h 
```

Ruby 的调试器将输出帮助摘要：

```
Debugger help v.-0.002b
Commands
  b[reak] [file:|class:]<line|method>
  b[reak] [class.]<line|method>
                             set breakpoint to some position
  wat[ch] <expression>       set watchpoint to some expression
  cat[ch] (<exception>|off)  set catchpoint to an exception
  b[reak]                    list breakpoints
  cat[ch]                    show catchpoint
  del[ete][ nnn]             delete some or all breakpoints
  disp[lay] <expression>     add expression into display expression list
  undisp[lay][ nnn]          delete one particular or all display expressions
  c[ont]                     run until program ends or hit breakpoint
  s[tep][ nnn]               step (into methods) one line or till line nnn
  n[ext][ nnn]               go over one line or till line nnn
  w[here]                    display frames
  f[rame]                    alias for where
  l[ist][ (-|nn-mm)]         list program, - lists backwards
                             nn-mm lists given lines
  up[ nn]                    move to higher frame
  down[ nn]                  move to lower frame
  fin[ish]                   return to outer frame
  tr[ace] (on|off)           set trace mode of current thread
  tr[ace] (on|off) all       set trace mode of all threads
  q[uit]                     exit from debugger
  v[ar] g[lobal]             show global variables
  v[ar] l[ocal]              show local variables
  v[ar] i[nstance] <object>  show instance variables of object
  v[ar] c[onst] <object>     show constants of object
  m[ethod] i[nstance] <obj>  show methods of object
  m[ethod] <class|module>    show instance methods of class or module
  th[read] l[ist]            list all threads
  th[read] c[ur[rent]]       show current thread
  th[read] [sw[itch]] <nnn>  switch thread context to nnn
  th[read] stop <nnn>        stop thread nnn
  th[read] resume <nnn>      resume thread nnn
  p expression               evaluate expression and print its value
  h[elp]                     print this help
  <everything else>          evaluate 
```

开始的重要命令是`s`, `n`,`c`和`b`, 和`q`。

*   `s`进入一个方法。
*   `n`跳过一个方法。
*   `c number`运行（继续）直到到达 line `number`。
*   `b number`在 line 上设置断点`number`。设置断点后，使用`c`继续运行，直到执行该行。
*   `q`退出调试器。

就个人而言，我使用[调试器](https://github.com/cldwalker/debugger)gem。其他人使用[PRY](http://pryrepl.org)，它类似于 IRB，但具有类似调试器的扩展。

知道如何使用调试器是一项很好的技能。您可以使用调试器快速追踪问题，尝试使用`puts`语句将花费更长的时间，因为您可以交互地查看变量包含的内容，或者有条件地循环直到变量包含某个值。

# c# - 为什么 WP8 Tiles 示例使用反射？

> ID：14050688
> 
> 赞同：0
> 
> 时间：2012-12-27T06:56:50.023
> 
> 标签：c#, reflection, windows-phone

使用新的 WP8 Tiles 使用反射而不是直接实例化和调用方法，如下所示。

[http://msdn.microsoft.com/en-us/library/windowsphone/develop/jj720574(v=vs.105).aspx](http://msdn.microsoft.com/en-us/library/windowsphone/develop/jj720574(v=vs.105).aspx)

`Type shellTileType = Type.GetType("Microsoft.Phone.Shell.ShellTile, Microsoft.Phone");`

`shellTileType.GetMethod("Update").Invoke(tileToUpdate, new Object[] { UpdateTileData });`

我想知道在这种情况下使用反射是否有特定原因。是否导致 WP < 7.8 没有对 ShellTile 类型的引用，因此 VM 会出错？如果虚拟机从不访问这部分代码，那还不够好吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-27T08:04:05.757

您可以将您的应用程序定位到 WP7 或 WP8 平台之一。

在 WP7 SDK 中没有`FlipTileData`类，因此您将无法编译使用此类的代码。

但是您可以在 WP8 设备上运行您的 WP7 应用程序，因此您可以使用反射创建 Wilde Tiles。您只需要在之前检查操作系统版本：

```
private static Version TargetedVersion = new Version(8, 0);
public static bool IsTargetedVersion 
{
   get
     {
       return Environment.OSVersion.Version >= TargetedVersion;
     }
 } 
```

否则，如果您的应用程序仅针对 WP8 平台 - 请随意使用`FlipTileData`其他类而无需反射。[在这里](http://msdn.microsoft.com/en-us/library/windowsphone/develop/jj206971%28v=vs.105%29.aspx)您可以找到示例。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-27T11:55:29.853

在 WP7 SDK 中，这些新的 Tile 类型没有 API，它们仅在 WP7.8 和 WP8 中可用。因此，如果您想在 WP7.8 设备上或在 WP8 设备上运行的 WP7 应用程序中使用新的磁贴尺寸，则必须使用反射。
当然，在 WP8 应用程序中，您可以直接使用 API 没有任何问题。

# javascript - Javascript 正则表达式匹配 CSS 注释的开头和结尾

> ID：14050690
> 
> 赞同：3
> 
> 时间：2012-12-27T06:57:04.973
> 
> 标签：javascript, jquery, regex, replace

我需要通过 jQuery 和 Regex 取消注释一些 CSS，这是我目前所拥有的：

`$('style').html($('style').html().replace('/*','').replace('*/',''))`

问题是，这两种替换方法对于性能来说并不是最优的。是否可以编写一个匹配并删除开头和结尾注释字符串的正则表达式？

**我怎样才能以最佳性能编写整行？**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-27T07:06:40.473

试试这个

```
.replace(/(\/\*|\*\/)/g,'') 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-27T07:05:23.780

试试这个正则表达式模式`(\/\*[\w\'\s\r\n\*]*\*\/)`

在这里预览[http://gskinner.com/RegExr/?338e0](http://gskinner.com/RegExr/?338e0)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-27T08:07:55.370

如果你想删除所有评论试试这个：

```
replace(/\/\*[^\/\*]+\*\//g,'') 
```

如果您只想删除“*”和“*\”，请尝试 Prodigy

# android - 为什么我的 phone-gap 应用无法在某些 Android 设备上找到地理位置

> ID：14050697
> 
> 赞同：1
> 
> 时间：2012-12-27T06:57:34.660
> 
> 标签：android, cordova, geolocation, gps, location

我创建了一个应用程序，它可以在 iPad/iPhone 上定位 GeoLocation 坐标，但即使在设备启用 GPS 的情况下，也无法在某些 Android 设备上执行此操作。它适用于某些 Android 设备（例如三星 Galaxy 标签 SCH-I800）和在其他一些（例如三星 Galaxy 标签 GT-P5113）上失败。

知道问题的可能原因是什么吗？

示例代码片段：

```
 <script type="text/javascript" 
 src="http://maps.google.com/maps/api/js?sensor=true"></script>
 <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?sensor=true">   </script>
    <script type="text/javascript" charset="utf-8" src="phonegap-1.4.1.js"></script>

function onDeviceReady()
{  
navigator.geolocation.getCurrentPosition(onSuccess, onError);
}

var onSuccess = function(position) {

            pos = new google.maps.LatLng(position.coords.latitude,
                                         position.coords.longitude);
            lat=position.coords.latitude;
            lng=position.coords.longitude;
            alert("lat: "+lat+" long "+lng); //i should get the lat/long here which i need to use further in my code   
         } 
```

对于应用程序无法运行的设备，它将使用 onError 功能。

```
function onError(error) {

      alert("error code is: "+error.code);//it gives error code 3 when on such devices

        } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-27T09:05:44.523

在设置手表以在这些 Android 设备上使用 GPS 时，您需要设置“enableHighAccuracy”选项：

```
navigator.geolocation.watchPosition(onSuccess, onError, { enableHighAccuracy: true }); 
```

另请参阅此答案：[Phonegap Android 和 GPS 卫星](https://stackoverflow.com/questions/7714347/phonegap-android-and-gps-satellite)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-27T12:14:33.370

由于此错误，您的应用程序无法运行：

**PositionError.TIMEOUT**

当设备无法在 geolocationOptions 的超时属性中指定的时间内检索位置时返回。当与 geolocation.watchPosition 结合使用时，这个错误可能会在每超时毫秒被调用到 geolocationError 回调中。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-28T13:48:00.253

将“enableHighAccuracy”选项设置为 false，然后如果您收到代码 2 错误（您有时可能会遇到），只需

去

菜单--->设置---->位置和安全

然后检查

使用无线网络。

这解决了我的问题，希望它也能解决你的问题......！

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-04-08T21:54:21.540

如果我的项目和我的客户坚持认为他可以进入地图并且它几乎可以立即找到 Hus 的地理位置，而在我的应用程序中它需要很长时间或者不起作用，我就会遇到这个问题。

解决方案是及时返回插件 git 存储库并找到已删除的 java 文件，并使用该版本。

发生的事情是插件维护者刚刚使用了本地浏览器地理定位，基本上根本没有使用插件，但在某些手机中它只是没有达到标准。另一种方法是在您的应用程序中使用人行横道。

我知道它不是一个“好”的解决方案，但它是获得可接受的性能所必需的。

# ios - iOS UIWebView：禁用此（缩小）状态但启用放大

> ID：14050700
> 
> 赞同：3
> 
> 时间：2012-12-27T06:57:50.680
> 
> 标签：ios, uiwebview, mobile-safari, viewport, pinchzoom

我使用 UIWebView 在 html 文件中设置了以下视口标记。

`<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">`

现在，当用户离开时，我得到了如图所示的效果。我想禁用此效果，但仍然可以放大。

通过将 UIWebView 的反弹设置为 NO 进行了尝试，但这个问题仍然存在。

![ ](../Images/aa5bce5913b1a399ce88f2f27719c26c.png)

谢谢。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-12-27T07:08:48.840

您可以通过使用 UIScrollView 的bouncesZoom 属性（UIWebView 的属性）来做到这一点，如下所示 -

[webView.scrollView setBouncesZoom:NO];

# javascript - Function、Array 和 Object 构造函数的长度属性是什么？

> ID：14050709
> 
> 赞同：6
> 
> 时间：2012-12-27T06:58:22.723
> 
> 标签：javascript, oop, semantics

Function、Array 和 Object 构造函数的长度静态属性是什么？

静态方法是有意义的，但是长度静态属性呢？

```
Object.getOwnPropertyNames(Array)
["length", "name", "arguments", "caller", "prototype", "isArray"]

Object.getOwnPropertyNames(Function)
["length", "name", "arguments", "caller", "prototype"] 
```

**注意：我得到了关于 Function.prototype 的长度属性的答案，这里没有询问。**

```
Object.getOwnPropertyNames(Function.prototype)
["length", "name", "arguments", "caller", "constructor", "bind", "toString", "call", "apply"]

Object.getOwnPropertyNames(Object)
["length", "name", "arguments", "caller", "prototype", "keys", "create", "defineProperty", "defineProperties", "freeze", "getPrototypeOf", "getOwnPropertyDescriptor", "getOwnPropertyNames", "is", "isExtensible", "isFrozen", "isSealed", "preventExtensions", "seal"] 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-12-27T07:13:01.603

`Array`, `Function`, 和`Object`都是构造函数，所以它们都是函数。函数的`length`属性指定函数采用的（命名）参数的数量。来自 ECMA-262 第 3 版，第 15 节：

> 本节中描述的每个内置函数对象——无论是作为构造函数、普通函数还是两者——都有一个长度属性，其值为整数。除非另有说明，否则此值等于函数描述部分标题中显示的命名参数的最大数量，包括可选参数。

正如 DCoder 指出的那样：

> ECMA-262 第 3 版，第 15.2.3、15.3.3 和 15.4.3 节指定所有这些构造函数都有一个长度属性，其值为 1。

关于静态字段的观点：JavaScript中没有静态字段之类的东西，因为JavaScript中没有类。只有原始值、对象和函数。对象和函数（也表现为对象）具有*属性*。

可能令人困惑的一件事是，`Function`它实际上是一个函数。一个鲜为人知的事实是，您可以使用此构造函数创建函数。例如：

```
var identity = new Function("a", "b", "return a")
console.log(identity(42)) 
```

以上将打印`42`。现在注意两件事：`Function`实际接受参数并用它们做一些事情；并且我向构造函数传递了多个参数`Function`，即使`Function.length`等于`1`. 结果 ,`identity`也是一个函数，其`length`属性设置为 value `2`，因为它是一个有两个参数的函数。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-27T07:16:51.383

上面提到的所有都是函数，它有一个属性长度，表示函数接受的参数数量。这就是为什么它们在这里将长度作为静态变量。

```
fun = function( a) { alert(a); }
//fun.length = 1 
```

# amazon-web-services - Amazon EC2 上的两节点 cassandra 集群设置问题

> ID：14050711
> 
> 赞同：1
> 
> 时间：2012-12-27T06:58:33.967
> 
> 标签：amazon-web-services, amazon-ec2, cassandra

我正在尝试在同一区域和安全组中的两台 EC2 机器上设置一个双节点 Cassandra 集群。每台机器运行一个 cassandra 实例。我已经更改了 cassandra.yaml 文件以将这两个文件添加到同一个集群中。但我不能这样做。这些是我制作的 cassandra.yaml 文件中更改的配置选项。这两台机器都属于 us-east DC。（我也可以互相ping通，仅供参考）。我正在使用 Apache Cassandra 1.1.6 版。

**EC2 Machine1：** listen_address - 这台机器的私有 ip。rpc_address - 0.0.0.0 种子 - ***EC2 machine1***的私有 ip 。endpoint_snitch - Ec2Snitch（我也尝试过 SimpleSnitch 和 Ec2MultiRegionSnitch） initial_token - 由令牌生成器工具为两个节点生成的第一个令牌。我为这个 cassandra 实例做了一个 nodetool 移动到这个令牌。

**EC2 Machine2：** listen_address - 这台机器的私有 ip rpc_address - 0.0.0.0 种子 - ***EC2 machine1***的私有 ip endpoint_snitch - Ec2Snitch（我也尝试过 SimpleSnitch 和 Ec2MultiRegionSnitch） initial_token - 由令牌生成器工具为两个节点生成的第二个令牌。我为这个 cassandra 实例做了一个 nodetool 移动到这个令牌。

这些设置应在重新启动实例时自动将两个 cassandra 实例添加到同一个环中。但是当我运行 nodetool -h localhost ring 命令时，两台机器都在自己的集群中运行，而不是在同一个集群中。

我在这里的配置中有什么遗漏吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-31T13:45:10.667

我已经很多次在 EC2 上创建了一个 cassandra 集群。从您的配置设置中，我建议将 listen_address 和 rpc_address 更改为特定机器的私有 ip。

# jquery - 使用Ajax登录流程，登录成功后刷新整个页面

> ID：14050714
> 
> 赞同：0
> 
> 时间：2012-12-27T06:58:41.647
> 
> 标签：jquery, python, ajax, google-app-engine

在带有 python 和模板系统的 Google App Engine 上，我使用 jQuery Ajax 在用户登录过程中更新 div。更新消息可能是“错误的 ID 或密码”、“欢迎某个用户”等。但是，成功登录后，我想刷新整个页面，以便某些用户可能会显示一些按钮。以下是 Ajax 代码，当用户单击“提交”时，只有 <div id="login"> 区域会被更新。那么如何刷新整个页面呢？

```
<script>
$(document).ready(function() {
  $('.submitForm').ajaxForm({
    success: function(returnData) {
  $('#login').html(returnData);
    }
  });
});
</script> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-27T07:06:52.160

document.location.reload(true) 应该可以解决问题。

```
 $('.submitForm').ajaxForm({
        success: function(returnData) {
            $('#login').html(returnData);

            //check the response to see if it is a success message
            if(returnData == 'Welcome someUser'){
                 document.location.reload(true);
            }

        }
    }); 
```

# qt - 按下Alt + Enter时如何进入全屏，按下Esc时如何最大化窗口？

> ID：14050722
> 
> 赞同：0
> 
> 时间：2012-12-27T07:00:03.847
> 
> 标签：qt, qt4

我正在使用以下代码在全屏和最大化窗口之间切换，

```
void MainWindow::keyPressEvent(QKeyEvent *e)
{
  if ((e->key()==Qt::Key_Enter) && (e->modifiers()==Qt::AltModifier))
       this->setWindowState(Qt::WindowFullScreen);
  if (e->key()==Qt::Key_Escape)
      if(isFullScreen())
        this->setWindowState(Qt::WindowMaximized);
} 
```

但这不起作用。任何朋友可以告诉我这里有什么问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-27T07:58:45.670

也许您不应该使用 Alt+Enter。

您可以将键更改为 Alt+F 或其他，因为 Alt+Enter 实际上不起作用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-27T08:15:35.613

你不应该使用：

```
e->modifiers()==Qt::AltModifier 
```

检查键修饰符，因为 modifiers() 函数返回标志。使用类似的东西：

```
e->modifiers()&Qt::AltModifier 
```

或者

```
(e->modifiers()&Qt::AltModifier)==Qt::AltModifier 
```

# mysql - 如何在mysql中插入派生属性

> ID：14050725
> 
> 赞同：1
> 
> 时间：2012-12-27T07:00:09.917
> 
> 标签：mysql, database, insert

我有两个表 1 表是学生表（sid，dob，address） 另一个表是属性（sid，age，marks）的详细信息，现在插入详细信息表时我想从学生表中自动获取年龄（ dob）不输入我该怎么做

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-27T07:04:33.943

您可以插入选择的结果：

```
insert into details(sid, age)
    select sid, datediff(current_date, dob)
        from student
        where sid = 123 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-27T07:16:06.213

您可以按以下方式获取年龄：

```
select to_days(now())/365-to_days('1991-08-21')/365; 
```

或者

```
select period_diff(date_format(now(),'%Y%m'),199108)/12; 
```

# html - 将文本与另一个 div 作为百分比背景在 div 中居中对齐

> ID：14050727
> 
> 赞同：1
> 
> 时间：2012-12-27T07:00:11.727
> 
> 标签：html, css, alignment

情况：我有一个 div，它是其父级的 100% 宽度。此 div 中有文本需要居中/

同样在该 div 中，我还有另一个元素，它应该具有外部 div 宽度的百分比，无论是 0 到 100%（该区域将设置背景颜色）。

代码可能类似于：

```
<div style="text-align:center; width:100%;">40%
    <div style="background-color: green; width:40%;"></div>
</div> 
```

所以我希望文本 '40%' 居中，并且外部 div 的 40% 的左侧将具有绿色背景色。

我究竟做错了什么？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-27T07:08:38.717

```
<div style="text-align:center; width:100%;position: relative;">40%
    <div style="background-color: green; width:40%;position: absolute;top: 0px;left: 0px; height: 100%;"></div>
</div> 
```

您需要`position: relative`在外部设置`div`以确保内部`div`相对于它定位您需要`position: absolute`在内部`div`设置，并将其设置为 0，并将其`top`设置为100%`left``width``height`

`style="`另外，您在第二个中遗漏了`div`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-27T07:02:36.960

```
<div style="text-align:center; width:100%;">40%
    <div style="background-color: green; width:40%; margin:0 auto;">40%</div>
</div>​​​​​​​​​​​​​​​​​​ 
```

[工作小提琴](http://jsfiddle.net/X7sLB/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-27T07:03:10.637

```
<div style="text-align:center; width:100%;">40%
<div style="background-color: green; width:40%;"></div>
</div> 
```

# php - 使用php登录facebook应用程序时出错

> ID：14050729
> 
> 赞同：0
> 
> 时间：2012-12-27T07:00:19.790
> 
> 标签：php, facebook-graph-api, facebook-php-sdk, facebook-login

作为 facebook 应用程序的新手，我复制了 social-cafe facebook 应用程序并尝试使用自述文件中提供的所有详细信息发布它。[我从这里](http://developers.facebook.com)阅读了 facebook 应用程序的基础知识

例如，我的应用程序没有将故事发布到流中。实际上我无法通过我的应用程序登录 ,, :(

所有标签都在那里，图形 api 已全部设置，但应用程序仍然无法正常工作。

问题是，当我单击饮料将其发布到我的信息流时，我收到一条错误消息：

您的购买存在问题。请重新登录。

在调试工具中得到了这个信息： -

响应代码：206

应该修复的开放图警告

推断属性：应显式提供“og:title”属性，即使可以从其他标签推断出值。

小 og:image：所有 og:image 引用的图像在两个维度上都应至少为 200px。请检查给定 url 中所有带有标签 og:image 的图像，并确保其符合推荐的规范。

先感谢您！

# dll - 如何在windows8中制作图像dll文件

> ID：14050731
> 
> 赞同：-1
> 
> 时间：2012-12-27T07:00:31.407
> 
> 标签：dll, windows-8

我在 google 和 bing 上搜索过，但没有找到任何有用的资源。我想制作一个包含一些图像的 dll。任何人都可以指导我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-27T07:03:02.910

您是否在这里尝试过[如何使用 Dev-C++ 将位图图像存储在 DLL 中](http://www.jpmartel.com/bu21dll.htm)

# php - 使用 Codeigniter 备份应用程序文件夹

> ID：14050734
> 
> 赞同：0
> 
> 时间：2012-12-27T07:00:55.483
> 
> 标签：php, codeigniter, backup

我正在尝试使用 codeigniter 创建一个 Web 应用程序，它将在家庭或办公室网络上使用。现在我正在寻找可以从 web protal 完成的备份选项。例如，在我的 htdocs 文件夹中，我有：App1、App2 等。我想直接从 webapp 备份和下载 App1 文件夹，这可以从连接到服务器的任何客户端计算机上完成。可能吗。如果是，那么你能告诉我怎么做吗？~muttalebm

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-30T17:37:24.697

这么晚才回复很抱歉。我发现了一个非常简单的内置 codeigniter 备份选项。希望这可以帮助某人

```
$this->load->library('zip');
$path='C:\\xampp\\htdocs\\CodeIgniter\\';
$this->zip->read_dir($path); 
$this->zip->download('my_backup.zip'); 
```

我直接从视图中使用代码，然后使用控制器调用它。

~muttalebm

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-27T07:05:07.227

基本上你想要做的是压缩应用程序文件夹并下载它，这很简单。请查看：

*   [使用 php 将多个文件下载为 zip 文件夹](https://stackoverflow.com/questions/1760975/download-multiple-files-as-a-zip-folder-using-php)

关于如何压缩文件夹以供下载。

如果您没有该扩展名，可以使用一个简单的命令代替，我假设您在 Linux 上运行，如果没有将命令替换为 zip/rar Windows 等效项：

```
$application_path = 'your full path to app folder without trailing slash';
exec('tar -pczf backup.tar.gz ' . $application_path . '/*');
header('Content-Type: application/tar');
readfile('backup.tar.gz'); 
```

**注意：尽一切努力保护此文件不被未经授权的用户访问，否则恶意用户将拥有您的站点代码的副本，包括配置详细信息。**

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-03-18T13:48:03.687

```
// to intialize the path split the real path by dot .
public function init_path($string){
    $array_path =  explode('.', $string);
    $realpath  = ''; 
    foreach ($array_path as $p)
    {

        $realpath .= $p;
        $realpath .= '/';
    }
    return $realpath;

}

// backup files function       
public function archive_folder($source = '' , $zip_name ='' , $save_dir = '' , $download = false){
    // Get real path for our folder
    $name = 'jpl';
    if($zip_name == '')
    {
        $zip_name = $name."___(".date('H-i-s')."_".date('d-m-Y').")__".rand(1,11111111).".zip";
    }
    $realpath  = $this->init_path($source); 
    if($save_dir != '')
    {
        $save_dir = $this->init_path($save_dir); 

    }else{
        if (!is_dir('archives/'))
    mkdir('archives/', 0777);
        $save_dir = $this->init_path('archives'); 
    }

        $rootPath =  realpath( $realpath);
      //  echo $rootPath;
      //  return;

        // Initialize archive object
        $zip = new ZipArchive();
        $zip->open($save_dir . '\\' . $zip_name, ZipArchive::CREATE | ZipArchive::OVERWRITE);

        // Create recursive directory iterator
        /** @var SplFileInfo[] $files */
        $files = new RecursiveIteratorIterator(
            new RecursiveDirectoryIterator($rootPath),
            RecursiveIteratorIterator::LEAVES_ONLY
        );

        foreach ($files as $name => $file)
        {
            // Skip directories (they would be added automatically)
            if (!$file->isDir())
            {
                // Get real and relative path for current file
                $filePath = $file->getRealPath();
                $relativePath = substr($filePath, strlen($rootPath) + 1);

                // Add current file to archive
                $zip->addFile($filePath, $relativePath);
            }
        }

        // Zip archive will be created only after closing object
        $zip->close();
        if($download){
        $this->download($zip);
        }
} 
```

# lua - 主菜单的 Corona SDK Ui 按钮

> ID：14050737
> 
> 赞同：0
> 
> 时间：2012-12-27T07:01:23.620
> 
> 标签：lua, coronasdk

我在使用 Corona SDK 方面有点新手，我的主菜单按钮有点问题。每当我按下按钮时，它都不会移动或改变视图；按钮只是在标题屏幕中消失。

```
module(..., package.seeall)

local ui = require ("ui")
local ui = require ("director")

local assetPath = "assets/"

local mainGroup = display.newGroup()

function new(params)
    local titleScreen = display.newImageRect(assetPath .. "Law of Magic.jpg", 
        display.contentWidth, display.contentHeight)
    titleScreen.x = display.contentWidth / 2
    titleScreen.y = 265
    mainGroup:insert(titleScreen)
    director:changeScene("titleScreen")

    local newgame = ui.newButton{ default = assetPath .. "new game.png", 
        onRelease = function(event)  director:changeScene("New game") end,}
    newgame.x = display.contentWidth / 2
    newgame.y = 445
    mainGroup:insert(newgame)

    local continue = ui.newButton{ default = assetPath .. "continue.png", 
        onRelease = function(event)  director:changeScene("Continue") end,}
    continue.x = display.contentWidth / 2
    continue.y = 447
    mainGroup:insert(continue)

    local option = ui.newButton{ default = assetPath .. "option.png", 
        onRelease = function(event)  director:changeScene("Option") end,}
    option.x = display.contentWidth / 2
    option.y = 449
    mainGroup:insert(option)

    local help = ui.newButton{ default = assetPath .. "help.png", 
        onRelease = function(event)  director:changeScene("Help") end,}
    help.x = display.contentWidth / 2
    help.y = 451
    mainGroup:insert(help)

    local exitgame = ui.newButton{ default = assetPath .. "exit game.png", 
        onRelease = function(event)  director:changeScene("Exit game") end,}
    exitgame.x = display.contentWidth / 2
    exitgame.y = 453
    mainGroup:insert(exitgame)

    return mainGroup
end 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-30T06:36:16.563

首先，我看到您两次声明本地 ui。

其次，您应该使用故事板，因为它受 corona 支持，并且您是 coronaSDk 的新手

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-06T03:14:13.627

也为此：director:changeScene("New game")

它会尝试去一个场景，你正在输入场景文件的名称。在这种情况下，它正在寻找一个名为：

新游戏.lua

在与您的 main.lua 文件相同的文件夹中。我个人会避免使用带有空格的文件名，虽然模拟器不区分大小写，但设备是，您必须确保文件名大小写与您编码的内容相匹配。

我也关心这一行：director:changeScene("titleScreen")

它会在您设置按钮之前尝试更改场景。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-03-08T23:18:05.843

更改此行

```
local ui = require ("director") 
```

至

```
local director = require ("director") 
```

是的，请确保文件名正确。

# rest - 从 Windows Phone 调用 mongohq rest api 时出现“未找到”错误

> ID：14050739
> 
> 赞同：1
> 
> 时间：2012-12-27T07:01:37.427
> 
> 标签：rest, windows-phone, mongohq

我在从 windows phone (7.1) 应用程序调用 mongohq REST API 时遇到问题。我发布到以下形式的 URL：

```
https://api.mongohq.com/databases/[database]/collections/[collection]/documents?_apikey=XXXXXXXXXXX 
```

当从基于浏览器的 REST 客户端调用时，完全相同的 URL 适用于 GET 和 POST 请求。但是，当我使用 HttpWebRequest 或 WebClient 从 Windows Phone 应用程序 POST 或 GET 到该 URL 时，我得到一个奇怪的错误，简单地说“服务器返回响应：'未找到'”。我已经通过 mongohq 网站检查了有问题的数据库和集合，两者肯定都存在。我还可以看到从浏览器 REST 客户端添加的文档。我得到的异常的部分片段如下所示。

有没有人尝试过这个，或者在类似的情况下看起来同样的错误？提前致谢。

```
System.Net.WebException: The remote server returned an error: NotFound. --->        System.Net.WebException: The remote server returned an error: NotFound.
   at System.Net.Browser.ClientHttpWebRequest.InternalEndGetResponse(IAsyncResult asyncResult)
   at System.Net.Browser.ClientHttpWebRequest.<>c__DisplayClass2.<EndGetResponse>b__1(Object sendState)
   at System.Net.Browser.AsyncHelper.<>c__DisplayClass4.<BeginOnUI>b__0(Object sendState)
   at System.Reflection.RuntimeMethodInfo.InternalInvoke(RuntimeMethodInfo rtmi, Object obj, BindingFlags invokeAttr, Binder binder, Object parameters, CultureInfo culture, Boolean isBinderDefault, Assembly caller, Boolean verifyAccess, StackCrawlMark& stackMark)
   at S 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-28T00:30:08.027

您可以尝试将 User-Agent 欺骗为与桌面浏览器相同，看看是否会有所不同。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-16T06:31:33.857

我有类似的问题（wp7.8）。解决方案是：

1.  将项目编译到您的设备。
2.  停止调试
3.  在手机上关闭您的应用程序（并更好地重启设备）
4.  所有作品都像魅力一样））

这对我有帮助（我使用了 RestClient 和 WebClient）

我希望它也能帮助你。

问候。

# ios - “无底”收藏视图（加载更多图片）

> ID：14050744
> 
> 赞同：2
> 
> 时间：2012-12-27T07:01:59.430
> 
> 标签：ios, uicollectionview, sdwebimage

我正在使用 SDWebImage 库下载和缓存图像以在 UICollectionView 网格视图中使用。初始加载 24 张图片（3 张横向，8 张向下）时一切正常，但我想在用户点击屏幕底部时再添加 24 张图片。有谁知道我如何触发这个？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-27T22:50:19.050

UICollectionView 是 UIScrollView 的子类，因此您可以通过实现 UIScrollViewDelegate 方法以相同的方式检测何时到达当前“底部”。查看这篇文章以了解如何做到这一点：

[UIScrollView，到达滚动视图的底部](https://stackoverflow.com/questions/6217900/uiscrollview-reaching-the-bottom-of-the-scroll-view)

# python - 无论如何在谷歌应用引擎中查看内存缓存数据？

> ID：14050745
> 
> 赞同：1
> 
> 时间：2012-12-27T07:02:08.367
> 
> 标签：python, google-app-engine, memcached

基本上我想做的是查看 memcache 的原始数据，这样我就可以看到我的数据是如何存储的。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-27T07:47:54.947

不，原因与[memcached 不支持枚举或转储缓存](http://code.google.com/p/memcached/wiki/NewProgrammingFAQ#How_can_you_list_all_keys?)的原因大致相同。为了安全地支持这样的功能，所有其他缓存操作都必须阻塞，这在共享环境中是不可接受的。

为了您偶尔检查缓存中的某些数据部分，有一个合理的替代方案。检测您（和/或您的同事）对 memcache 客户端的使用，以记录哪些键经常使用，然后定期对这些键的值进行采样。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-27T08:34:06.893

管理控制台中的 memcache 查看器有什么问题？

# emacs - 如何打开一个始终在 emacs 中显示其父框架的活动缓冲区的新框架？

> ID：14050746
> 
> 赞同：1
> 
> 时间：2012-12-27T07:02:22.653
> 
> 标签：emacs, elisp

我想有一个快捷方式在 emacs 中创建一个新框架，它将始终显示创建它的框架的活动缓冲区。这样可以将框架移动到另一个工作区，以保留另一个 emacs 框架的小预览。

以下是我对一个函数的尝试，该函数将使新帧始终显示父帧的缓冲区。get-active-buffer 是伪代码，但除此之外，其余的都可以解决问题。

```
(defun display-active-buffer (parent-frame)
  (while t
    (let ((active-buffer (get-current-buffer parent-frame)))
      (cond (/= active-buffer (current-buffer))
        (switch-to-buffer-other-frame active-buffer))))) 
```

实际上，我主要只是想知道 get-current-buffer 之类的函数，它的作用类似于 current-buffer，除了它将帧作为参数，而不仅仅是使用当前帧。我还需要想办法将父框架的名称传递给这个函数。我也不确定为此使用无限while循环有多聪明。如果有人知道更好的方法，请告诉。

我觉得这可能是添加到 emacs 中的一个非常有用的功能，所以如果我把所有这些都弄清楚了，我一定会编辑这篇文章以添加我完成的代码供任何人使用。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-06T05:32:43.560

我不知道你为什么要这样做，但我认为这符合你的描述：

```
(defun make-frame-synced-to-current-frame-current-buffer ()
  (interactive)
  (let ((parent-frame (selected-frame))
        (synced-frame (make-frame)))
    (add-hook
     'window-configuration-change-hook
     `(lambda ()
        (if (eq (selected-frame) ,parent-frame)
            (save-excursion
              (select-frame ,synced-frame)
              (switch-to-buffer (window-buffer
                                 (frame-selected-window
                                  ,parent-frame)))
              (select-frame ,parent-frame))))))) 
```

# javascript - 放大时位置变化

> ID：14050749
> 
> 赞同：-1
> 
> 时间：2012-12-27T07:02:38.257
> 
> 标签：javascript, html, css, zooming

在这里，我尝试在按钮单击时制作简单的放大和缩小功能。

**HTML**

```
 <input type="button" value ="-" onClick="zoom(0.9)"/>
 <input type="button" value ="+" onClick="zoom(1.1)"/>
 <div id="thediv">

 <img id="pic" src="http://cdn1.iconfinder.com/data/icons/VistaICO_Toolbar-Icons/256/Zoom-in.png"/>
 </div> 
```

**脚本**

```
var zoomLevel = 100;
var maxZoomLevel = 105;
var minZoomLevel = 95;

function zoom(zm) {
var img=document.getElementById("pic");
if(zm > 1){
    if(zoomLevel < maxZoomLevel){
        zoomLevel++;
    }else{
        return;
    }
}else if(zm < 1){
    if(zoomLevel > minZoomLevel){
        zoomLevel--;
    }else{
        return;
    }
}
wid = img.width;
ht = img.height;
img.style.width = (wid*zm)+"px";
img.style.height = (ht*zm)+"px";
img.style.marginLeft = -(img.width/2) + "px";
img.style.marginTop = -(img.height/2) + "px";
} 
```

但问题是，每当我单击放大功能时，图像都会移动到页面的上角。我试图解决这个问题，但没有任何解决方案是有效的。

这是我正在处理的[BIN ，它可能有助于找出我的错误。](http://jsbin.com/itekek/2/)

还有另一个问题：有没有办法将鼠标滚轮应用于此功能？

**更新**

缩放问题已更改。但是现在鼠标滚轮也在这里完成，但问题是我们无法为鼠标滚轮提供最大值。 [更新的垃圾箱](http://jsbin.com/itekek/48/)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-27T07:07:30.960

```
img.style.marginLeft = -(img.width/2) + "px"; // you have negation sign here
img.style.marginTop = -(img.height/2) + "px"; // you have negation sign here 
```

将其更改为：

```
img.style.marginLeft = (img.width/2) + "px";
img.style.marginTop = (img.height/2) + "px"; 
```

[JS斌链接](http://jsbin.com/itekek/5)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-27T07:21:45.010

`marginLeft`根据您的计算判断`marginTop`，我猜您想在保留中心点的同时放大和缩小图像。

所以试试这个：

[http://jsbin.com/itekek/4](http://jsbin.com/itekek/4)

保留了初始宽度和高度值，并略微修改了缩放限制值。

**编辑**：

[http://jsbin.com/itekek/46](http://jsbin.com/itekek/46)

添加了鼠标滚轮支持。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-27T07:26:32.610

看到这个：http: [//jsbin.com/itekek/14/edit](http://jsbin.com/itekek/14/edit)

您在这里有未剥离的缩放和鼠标滚轮..

**更新**：要按类名获取元素，请使用以下函数：

```
function findElementByClass(matchClass) {
 var elems = document.getElementsByTagName('*'),i;
 for (i in elems) {
    if ((" " + elems[i].className + " ").indexOf(" " + matchClass + " ") > -1) {
        return elems[i];
    }
   }
  return null;
} 
```

见[样品](http://jsfiddle.net/2MHsL/)

# android - Android：自定义形状（图层列表的行为）

> ID：14050751
> 
> 赞同：0
> 
> 时间：2012-12-27T07:02:55.093
> 
> 标签：android, android-layout, shapes

我正在使用图层列表来创建一个底部只有 1dp 边框的形状。

我写了一个用于创建形状的 xml

```
<!-- Bottom Line -->

<item>

    <shape android:shape="rectangle" >

        <solid android:color="#CCCCCC" />
    </shape>
</item>

<item android:bottom="1dp">

    <shape android:shape="rectangle" >

        <gradient
            android:angle="270"
            android:endColor="@color/gradient_end"
            android:startColor="@color/gradient_start" />
    </shape>
</item> 
```

这适用于所有手机，除了小屏幕手机。在小屏幕尺寸中，边框不显示。这是android中的某种错误还是我做错了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T12:00:20.173

我假设在小屏幕尺寸上 1dp 小于一个像素。尝试对 android:bottom 使用 2dp 或 1px。

# jquery - 在 JQuery jQuery 添加/编辑表单中添加默认值

> ID：14050753
> 
> 赞同：2
> 
> 时间：2012-12-27T07:02:57.693
> 
> 标签：jquery, jquery-jtable

我在我的 Web 应用程序中使用 JQuery jTable 插件。在加载表单时，我必须在 jTable 的添加/编辑表单中设置一些字段。创建表单时有一个回调用于获取控制权。

```
formCreated: function (event, data) 
{

} 
```

我也可以通过

```
data.form.find('input[name="Name"]') 
```

但是，我将如何在这些输入元素中设置一些默认值？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-08T13:35:02.830

使用 jTable 的 defaultValue 属性。见文档：http: [//jtable.org/ApiReference#fopt-defaultValue](http://jtable.org/ApiReference#fopt-defaultValue)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-01-14T06:01:02.910

是的，这是 hikalkan 所说的一个好方法。但是，如果您想在表单中为输入元素设置另一个输入控件值，请在 formCreated 事件中使用以下内容：->

```
$("Edit-(your input control's id)").val($("#(controls id which is outside the form)").val()); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-12-25T22:18:16.213

其他两个答案都有错别字。因此，基于@hikalkan 和@Shekhar 的两个答案，这里是一个总结。

对于静态默认值，使用 defaulValue 属性并设置为一个值或另一个元素的值。要从用户表单中隐藏该属性，请将 type 属性设置为“隐藏”。

对于动态元素，使用 formCreated 事件来捕捉页面的当前状态。

```
$('#jtable_main').jtable({
  field_static: {
    defaultValue: 2,
  },
  field_depends: {
    type: 'hidden',
    defaultValue: $('#base_id').val(),
  },
  field_dynamic: {
    type: 'hidden',
    // defaultValue: // set in formCreated
  },
  formCreated: function(event, data) {
    $('#Edit-field_dynamic').val($('#base_id').val());
  },
}); 
```

# javascript - 显示模块模式 (RMP) 的缺点

> ID：14050755
> 
> 赞同：14
> 
> 时间：2012-12-27T07:03:04.543
> 
> 标签：javascript, design-patterns, knockout.js, revealing-module-pattern

我最近熟悉了显示模块模式 (RMP)，并且我已经阅读了很多关于它的文章。

这似乎是一个非常好的模式，我想开始在一个大项目中使用它。在我正在使用的项目中：Jquery、KO、requireJS、Jquery Mobile、JayData。在我看来，它非常适合 KO ViewModels。

具体来说，我想使用它的[这个](http://blog.pluralsight.com/2012/10/09/revealing-prototype-pattern-structuring-javascript-code-part-iv/)版本。

我找不到的一件事是使用这种模式的缺点，是因为没有（我很难相信）吗？

在开始使用它之前我应该​​考虑什么？

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-12-31T11:33:44.730

显示模块模式 (RMP) 创建的对象在覆盖方面表现不佳。因此，使用 RMP 制作的对象不能很好地用作原型。因此，如果您使用 RMP 创建将在继承链中使用的对象，请不要这样做。*这个观点是我自己的观点，与那些揭示原型模式的支持者相反。*

要查看不良继承行为，请使用以下 url 构建器示例：

```
function rmpUrlBuilder(){
  var _urlBase = "http://my.default.domain/";
  var _build = function(relUrl){
    return _urlBase + relUrl;
  };

  return {
    urlBase: _urlBase,
    build: _build
  }
} 
```

撇开为什么要对没有私有组件的对象使用 RMP 的问题，请注意，如果您获取返回的对象并使用“ [http://stackoverflow.com](http://stackoverflow.com) ”覆盖 urlBase，您会期望 build() 的行为适当改变。它没有，如下所示：

```
var builder = new rmpUrlBuilder();
builder.urlBase = "http://stackoverflow.com";
console.log(builder.build("/questions"); // prints "http://my.default.domain/questions" not "http://stackoverflow.com/questions" 
```

将行为与以下 url builder 实现进行对比

```
function urlBuilder = function(){
  return {
    urlBase: "http://my.default.domain/".
    build: function(relUrl){ return this.urlBase + relUrl;}
  }
}

var builder = new urlBuilder();
builder.urlBase = "http://stackoverflow.com";
console.log(builder.build()); // prints "http://stackoverflow.com/questions" 
```

行为正确。

您可以使用此范围更正显示模块模式的行为，如下所示

```
function rmpUrlBuilder(){
  var _urlBase = "http://my.default.domain/";
  var _build = function(relUrl){
    return this.urlBase + relUrl;
  };

  return {
    urlBase: _urlBase,
    build: _build
  }
} 
```

但这反而违背了显示模块模式的目的。更多详情请看我的博[文http://ilinkuo.wordpress.com/2013/12/28/defining-return-object-literals-in-javascript/](http://ilinkuo.wordpress.com/2013/12/28/defining-return-object-literals-in-javascript/)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-12-31T07:14:38.740

我阅读了@nemesv 引用我的文章（谢谢:)），我认为还有一个没有提到的缺点，所以我想我会在这里添加它以供参考。这是文章的引述：

> 缺点
> 
> 这种模式的一个缺点是，如果一个私有函数引用一个公共函数，那么如果需要补丁，这个公共函数就不能被覆盖。这是因为私有函数将继续引用私有实现，并且该模式不适用于公共成员，仅适用于函数。
> 
> 引用私有变量的公共对象成员也受上述无补丁规则注释的约束。
> 
> 因此，使用 Revealing Module 模式创建的模块可能比使用原始 Module 模式创建的模块更脆弱，因此在使用过程中应小心。

我的补充：

**您不能对这种模式使用继承**。例如：

```
var Obj = function(){
    //do some constructor stuff
}

var InheritingObj = function(){
    //do some constructor stuff
}

InheritingObj.prototype = new Obj();

InheritingObj.prototype.constructor = InheritingObj; 
```

这是 js 中继承的一个简单示例，但是当使用[Revealing Prototype Pattern （](http://blog.pluralsight.com/2012/10/09/revealing-prototype-pattern-structuring-javascript-code-part-iv/)[在此处](https://web.archive.org/web/20131117084430/http://blog.pluralsight.com/revealing-prototype-pattern-structuring-javascript-code-part-iv/)存档）时，您需要这样做：

```
InheritingObj.prototype = (function(){
    //some prototype stuff here
}()); 
```

这将覆盖你的继承。

# sql - 如何在EXCEL VBA中编写带有智能提示的SQL

> ID：14050757
> 
> 赞同：1
> 
> 时间：2012-12-27T07:03:12.517
> 
> 标签：sql, excel, vba

请教我如何在EXCEL VBA中输入带有智能提示的SQL语句？例如，当我写select语句时，系统可以在我写一个点后自动提示表字段，就像我在sql server中一样。

# html - 嵌入播放器需要移除 IE8 中显示的滚动条

> ID：14050758
> 
> 赞同：0
> 
> 时间：2012-12-27T07:03:18.627
> 
> 标签：html, css, wordpress, embed, video-player

我正在使用 gigya 服务进行视频嵌入...

如果有人在他的 wordpress 页面或帖子中粘贴以下代码，则水平和垂直滚动条仅在 IE 浏览器中显示......在 Firefox 和 Chrome 中工作正常......

这是代码： -

```
[gigya src="http://s.asstatic.com/player.swf" width="425" height="354" allowFullScreen="true" wmode="transparent" flashvars="file=fb=0&nb=1&ap=0&pl=as&c=#dfdfdf&p=1615781_634907097231053940"] 
```

请帮助我应该在上面的代码中输入什么来删除仅在 IE 中显示的滚动条...

这是链接..请在IE8或IE7中打开它...

[http://gauravishere.wordpress.com/2012/12/27/test/](http://gauravishere.wordpress.com/2012/12/27/test/)

谢谢...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-31T07:16:45.673

position:absolute' 对我有用...

```
[gigya src="..." style="position:absolute" width="425" height="354" allowFullScreen="true" wmode="transparent" flashvars="file=fb=0&nb=1&ap=0&pl=as&c=#dfdfdf&p=99..."] 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-12-27T08:09:18.147

尝试通过以下方式解决此类问题：

1.  如果可能，请使用 html5 文档类型：

2.  在所有父容器上设置 100%：

    *, html, body { 高度: 100%; 宽度：100%；边距：0；填充：0；}

# magento - Magento 分层导航错误映射

> ID：14050762
> 
> 赞同：0
> 
> 时间：2012-12-27T07:03:40.677
> 
> 标签：magento, layered-navigation

我在我的网站上放置了 3 个属性（制造商等）的分层导航。当我打开网址时 -

**domain.com/category.html**

我在左侧面板上获得了可用过滤器的列表。即使这些制造商没有将产品映射到该类别，也很少有制造商出现在左侧面板上。当我点击特定制造商时 - 我被重定向到 **domain.com/category.html?manufacturer=50**

我看到 3-4 种产品，但其中一种甚至没有映射到该制造商。我尝试删除所有索引表、平面表、重新索引但没有帮助。

**我做了一些故障排除-**

当我重新索引时，产品属性映射存储在 catalog_product_index_eav 表中。我检查了 catalog_entity 表，只有 4 个产品映射到制造商 ID 50。但是在重新索引时，catalog_product_index_eav 表有 5 条制造商 ID - 50 的记录，我不知道为什么每次重新索引时都会出现第 5 条记录，但实际上这第 5 条产品没有与该制造商的关系。

有人可以帮我解决这个问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-27T10:57:34.190

难道第五个产品是可配置的吗？如果一个简单的产品属于制造商，将添加可配置。

# google-apps-script - Utilities.jsonStringify 和对象方法

> ID：14050763
> 
> 赞同：1
> 
> 时间：2012-12-27T07:03:42.237
> 
> 标签：google-apps-script

在调用 Utilities.jsonStringify() 时，我还没有找到一种方法来正确处理对象中的方法。基本上，在从 CacheService 检索对象并将 Utilities.jsonParse() 应用于它之后，我无法使用它。

有人有提示吗？

提前致谢。

马克

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-27T11:53:02.083

json 在字符串化/解析时不包含函数。你必须使用一些自制的东西，比如：

```
function func2String(obj) {
  var res={};
  for (x in obj) {
    var value=obj[x];
    res[x]=(typeof(value)=='function')?value.toString():value;
  }
  return res;
}
function string2Func (obj) {
  var res={};
  for (x in obj) {
    var value=obj[x];
    if(typeof(value)!='string') {
      res[x]=value;
    }
    else {
      res[x]=(value.substring(0,9)=='\nfunction')?eval('('+value+')'):value;
    }  
  }
  return res;
} 
```

用法：

```
var obj=string2Func (Utilities.jsonParse(q.diff));
var str=Utilities.jsonStringify(func2String(diff)); 
```

当然，解压后的函数丢失了所有的闭包。

# jquery - 一次展开折叠所有 div

> ID：14050764
> 
> 赞同：3
> 
> 时间：2012-12-27T07:03:43.407
> 
> 标签：jquery, twitter-bootstrap, jquery-ui-accordion

我正在使用 twitter 引导 css 和 js 框架。在这个例子中，我有四个可折叠的 div。

当我打开一个 div 然后我单击展开所有按钮然后自动打开的 div 正在关闭。

我想显示所有 div 的方式可以一次扩展。

例如，如果打开#about 并且用户单击展开所有按钮，那么它必须显示所有包括#about 在内的所有内容。

是否有捷径可寻？

这是代码： -

```
<section id="accordion">
  <a href="#_" class="expandcollapse btn btn-mini btn-primary pull-right" state="0"><i class='icon-white icon-plus-sign'></i> Expand All</a>
    <ul class="nav nav-tabs" id="tabFAQ">
       <li class="active"><a href="#GQ" data-toggle="tab" state="0">Subscriptions</a></li>
    </ul>
    <div class="tab-content" id="faqContent">
      <div class="tab-pane active" id="GQ">
        <div class="accordion" id="generalQuestions">
          <div class="accordion-group">
            <div class="accordion-heading clearfix">
                <label class="checkbox pull-left accordion-margin">         
                    <input type="checkbox" id="Tactial">
                </label>          
                <a class="accordion-toggle category pull-left" data-toggle="collapse" data-parent="#parent" href="#category1">5.11 Tactial<i class="icon-ok-sign success-color"></i>
                </a>
<span class="tooltip-demo pull-left"><a class="accordion-toggle category" data-original-title="push special discount offer to the retailer" rel="tooltip" data-placement="right" href="#">(Push Special Discount)</a></span>
<div data-toggle="collapse" data-parent="#parent" href="#category1" class="head-height">&nbsp;</div>

            </div><!--/accordion-heading-->
            <div id="category1" class="accordion-body collapse">
              <ul class="accordion-inner unstyled">
                <li id="" class="sidelink clearfix">        
                        <input type="checkbox" id="Women">

                    <a href="">Women</a>
                </li>
                <li id="" class="sidelink clearfix">

                        <input type="checkbox" id="Customer-Is-Anonymous">

                    <a href="">Men</a>
                </li>
              </ul>
            </div><!--/Apparel End-->
          </div>
          <div class="accordion-group">
            <div class="accordion-heading clearfix">
                <label class="checkbox pull-left accordion-margin">         
                        <input type="checkbox" id="Juary" class="regular-checkbox"><label for="Juary"></label>
                </label>
                <a class="accordion-toggle category pull-left" data-toggle="collapse" data-parent="#parent" href="#category2">Juary</a>
                <span class="tooltip-demo pull-left"><a class="accordion-toggle category" data-original-title="push special discount offer to the retailer" href="#" rel="tooltip" data-placement="right">(Push Special Discount)</a></span>
                <div data-toggle="collapse" data-parent="#parent" href="#category2" class="head-height">&nbsp;</div>

            </div><!--/accordion-heading-->
             <div id="category2" class="accordion-body collapse">
              <ul class="accordion-inner unstyled">
                <li id="" class="sidelink clearfix">        
                        <input type="checkbox" id="Furniture">
                <a href=""> Furniture (Subscribed) </a>
                </li>
                <li id="" class="sidelink clearfix">        
                        <input type="checkbox" id="Accessories">
                <a href="">Home Accessories</a>
                </li>
              </ul>
            </div>

          </div>
          <div class="accordion-group">
            <div class="accordion-heading clearfix">
                <label class="checkbox pull-left accordion-margin">         
                        <input type="checkbox" id="Dickies" class="regular-checkbox"><label for="Dickies"></label>
                </label>
                <a class="accordion-toggle category pull-left" data-toggle="collapse" data-parent="#parent" href="#category3">Dickies</a>
                <span class="tooltip-demo pull-left"><a class="accordion-toggle category" data-original-title="push special discount offer to the retailer" href="#" rel="tooltip" data-placement="right">(Push Special Discount)</a></span>
                <div data-toggle="collapse" data-parent="#parent" href="#category3" class="head-height">&nbsp;</div>

            </div><!--/accordion-heading-->
             <div id="category3" class="accordion-body collapse">
              <ul class="accordion-inner unstyled">
                <li id="" class="sidelink clearfix">        
                        <input type="checkbox" id="Shoe">
                <a href="">Shoe</a>
                </li>
                <li id="" class="sidelink clearfix">    
                        <input type="checkbox" id="Swaters">
                <a href="">Swaters</a>
                </li>
              </ul>
            </div>

          </div>
          <div class="accordion-group">
            <div class="accordion-heading clearfix">
                <label class="checkbox pull-left accordion-margin">         
                        <input type="checkbox" id="Puma" class="regular-checkbox"><label for="Puma"></label>
                </label>
                <a class="accordion-toggle category pull-left" data-toggle="collapse" data-parent="#parent" href="#category4">Puma</a>
                <span class="tooltip-demo pull-left"><a class="accordion-toggle category" data-original-title="push special discount offer to the retailer" href="#" rel="tooltip" data-placement="right">(Push Special Discount)</a></span>
             <div data-toggle="collapse" data-parent="#parent" href="#category4" class="head-height">&nbsp;</div>   

            </div><!--/accordion-heading-->
             <div id="category4" class="accordion-body collapse">
              <ul class="accordion-inner unstyled">
                <li id="" class="sidelink clearfix">        
                        <input type="checkbox" id="Appearel">
                <a href="">Appearel</a>
                </li>
                <li id="" class="sidelink clearfix">
                        <input type="checkbox" id="Sports">
                <a href=""> Sports</a>
                </li>
                <li id="" class="sidelink clearfix">
                        <input type="checkbox" id="Spickes">
                <a href=""> Red Spickes Shoe</a>
                </li>
                <li id="" class="sidelink clearfix">
                        <input type="checkbox" id="Soccer">
                <a href=""> Soccer Shoe</a>
                </li>
              </ul>
            </div>

          </div>
        </div>
      </div>
    </div>
        </section>

//collapsible menu
 $('#tabFAQ a').click(function(e) {
        e.preventDefault();
        $(this).tab('show');
    })

    $('.expandcollapse').click(function() {

        var newstate = $(this).attr('state') ^ 1,
            icon = newstate ? "minus" : "plus",
            text = newstate ? "Collapse" : "Expand";

        $('.nav-tabs').children().each(function(index) {
            if($(this).hasClass('active')) {
                var tab = $(this).children(':first');
                toggleTab(tab.prop('hash'));
                tab.attr('state',newstate);
            }
        });

        $(this).html("<i class=\"icon-white icon-" + icon + "-sign\"></i> " + text +" All");

        $(this).attr('state',newstate)

    });

    $('a[data-toggle="tab"]').on('shown', function (e) {

        var myState = $(this).attr('state'),
            state = $('.expandcollapse').attr('state');

        if(myState != state) {
          toggleTab($(this).prop('hash'));
          $(this).attr('state',state);
        }

    })

    function toggleTab(id){

        $(id).find('.collapse').each(function() {
            $(this).collapse('toggle');
          });

    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T20:53:20.357

关键是使用树遍历来查找相关的手风琴 div，然后**仅**折叠展开的 div （或根据您的“状态”标志显示折叠的那些）。

请参阅[http://jsfiddle.net/jhfrench/mc4Qd/](http://jsfiddle.net/jhfrench/mc4Qd/)了解您正在尝试做的工作示例。

几点注意事项：

*   我编写了可重用的解决方案，以便您可以拥有多个包含展开/折叠按钮的部分，这些按钮与该部分中的手风琴交互（或 div，如第三个块）：

    ```
    $(this).siblings('div').find( ... 
    ```

*   我们不想不加选择地显示所有的`div.accordion-body`，因为那样会（重新）动画已经显示的块。JQuery 的“[非选择器](http://api.jquery.com/not-selector/)”( `:not(.in)`) 可以解决问题：

    ```
    find('div.accordion-body:not(.in)').collapse('show'); 
    ```

*   我们不想不加选择地隐藏所有的`div.accordion-body`，因为那样会（重新）为已经隐藏的块设置动画。因此，我们将寻找既`.accordion-body` *和* `.in`( `'div.accordion-body.in'`; 向[Sasha Chedygov](https://stackoverflow.com/questions/1041344/jquery-multiple-class-selector)寻求帮助的 div )：

    ```
    find('div.accordion-body.in').collapse('hide'); 
    ```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-05-06T14:01:47.207

试试这个： http: [//www.bootply.com/peFUdnwOpZ](http://www.bootply.com/peFUdnwOpZ) 它应该可以帮助你寻找什么。

# jquery - Rails 表单中的 TIME 输入字段

> ID：14050768
> 
> 赞同：0
> 
> 时间：2012-12-27T07:04:03.680
> 
> 标签：jquery, mysql, ruby-on-rails, timepicker

我有一个表格，其中一个输入是在更新记录时选择 TIME 数据类型。我正在使用简单表单和 Jquery Timepicker。

记录正确保存在数据库中，但是当记录重新加载时，它在用户视图中显示为晚上 8 点或 20:00。

我怎样才能让该字段正确显示数据库中的时间与这个默认的晚上 8 点？

**风景**

```
<%= f.input :mondayopen, :as => :string, :label => 'Opens at', :input_html => { :class => 'mondayo' } %> 
```

**数据库**

```
CREATE TABLE `stores` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `user_id` int(11) DEFAULT NULL,
  `storeimage` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `storename` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `storemessage` text COLLATE utf8_unicode_ci,
  `mondayopen` time DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=114 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci; 
```

**控制器**

```
 def update
    @store = Store.find(current_user.store.id)
    if @store.update_attributes(params[:store])
      flash[:success] = "Store has been updated"
      render 'edit'
    else
      render 'edit'
    end
  end 
```

**这是用户的看法** ![在此处输入图像描述](../Images/36645532cf45eb9bdbb2a2627134a5ff.png)

**这是数据库中的内容** ![在此处输入图像描述](../Images/0e96728fb55a6108cd82bf7fa936310f.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-30T16:59:00.187

我最终将数据库中的时间列更改为@Cadence96 建议的字符串。那行得通。

# php - 弹出窗口中的日期选择器

> ID：14050780
> 
> 赞同：-3
> 
> 时间：2012-12-27T07:05:20.573
> 
> 标签：php, jquery, popup, datepicker

如何在动态加载的 textbox.ie 中添加 Jquery datepicker，当我单击按钮时，包含来自外部页面的文本框的弹出窗口将显示在当前页面中。在那个文本框中我想使用 datepicker。

我使用以下 ajax 加载外部页面

```
 <script type="text/javascript">
function manageapp(id,apcno)
    {
        /*alert(id);
        alert(apcno);*/
        //alert(dd);
        if (window.XMLHttpRequest)
        {// code for IE7+, Firefox, Chrome, Opera, Safari
            req=new XMLHttpRequest();
        }
        else
        {// code for IE6, IE5
            req=new ActiveXObject("Microsoft.XMLHTTP");
        }
        var strURL="manage_ajx.php?id="+id+"&acpno="+apcno;
        if (req) 
        {
            req.onreadystatechange = function() {
            if (req.readyState == 4) {
             // only if "OK"
                if (req.status == 200) 
                {
                    document.getElementById('show_details').innerHTML=req.responseText;
                } else {
                    alert("There was a problem while using XMLHTTP:\n" + req.statusText);
                    }
                }               
            }           
            req.open("GET", strURL, true);
            req.send(null);
        }   
    }

 </script> 
```

跟随弹出

```
 <script type="text/javascript">
//New Pop up
$(document).ready(function() {
    $('#inline').hide();
    $('.login-window').click(function() {

            $('#inline').addClass("login-popup");
            $('#inline').css({'visibility':'visible'});

        // Getting the variable's value from a link 
        var loginBox = $(this).attr('href');

        //Fade in the Popup and add close button
        $('#inline').fadeIn(300);

        //Set the center alignment padding + border
        var popMargTop = ($(loginBox).height() + 24) / 2; 
        var popMargLeft = ($(loginBox).width() + 24) / 2; 

        $('#loginBox').css({ 
            'margin-top' : -popMargTop,
            'margin-left' : -popMargLeft
        });

        // Add the mask to body
        $('body').append('<div id="mask"></div>');
        $('#mask').fadeIn(300);

        return false;
    });

    // When clicking on the button close or the mask layer the popup closed
    $('a.close, #mask').live('click', function() { 
      $('#mask , .login-popup').fadeOut(300 , function() {
        $('#mask').remove();  
    }); 
    return false;
    });
});
</script> 
```

以下是调用thae弹出页面//php编码

```
<a class="login-window" href="#inline"  title="Business Details" onclick="javascript:manageapp('<?php echo $patientlist[$i]['ap_id']; ?>','<?php echo $patientlist[$i]['apc'];?>')">

<img src="images/calendar-icon.png" title="manage appointment"/>

</a> 
```

?> //php 编码

任何机构都可以帮助我解决这个问题

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-27T07:22:21.967

```
<!doctype html>

<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>jQuery UI Datepicker - Default functionality</title>
    <link rel="stylesheet" href="http://code.jquery.com/ui/1.9.2/themes/base/jquery-ui.css" />
    <script src="http://code.jquery.com/jquery-1.8.3.js"></script>
    <script src="http://code.jquery.com/ui/1.9.2/jquery-ui.js"></script>
   <link rel="stylesheet" href="/resources/demos/style.css" />
    <script>
    $(function() {
        $( "#datepicker" ).datepicker();
    });
    </script>
</head>
<body>

<p>Date: <input type="text" id="datepicker" /></p>

</body> 
</html> 
```

更多详情请点击链接[http://jqueryui.com/datepicker/](http://jqueryui.com/datepicker/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-27T07:37:01.080

试试这个：

```
$(document).on('load', 'your_datepicker_class_or_id', function(){
   $(this).datepicker();
}); 
```

并假设`you have these to referenced`在你的`js`东西之上：

```
<script src="http://code.jquery.com/jquery-1.8.3.js"></script>
<script src="http://code.jquery.com/ui/1.9.2/jquery-ui.js"></script> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-28T04:24:10.703

我找到了解决方案，按如下操作，在Ajax返回函数中添加datepicker函数即成功

```
<script type="text/javascript">
    function manageapp(id,apcno)
    {
        /*alert(id);
        alert(apcno);*/
        //alert(dd);
        if (window.XMLHttpRequest)
        {// code for IE7+, Firefox, Chrome, Opera, Safari
            req=new XMLHttpRequest();
        }
        else
        {// code for IE6, IE5
            req=new ActiveXObject("Microsoft.XMLHTTP");
        }
        var strURL="manage_ajx.php?id="+id+"&acpno="+apcno;
        if (req) 
        {
            req.onreadystatechange = function() {
            if (req.readyState == 4) {
             // only if "OK"
                if (req.status == 200) 
                { 

                    document.getElementById('show_details').innerHTML=req.responseText;

                        $("#frompop").datepicker({
                            defaultDate: "+1w",
                            changeMonth: true,
                            changeYear: true,
                            numberOfMonths: 1,

                        });
                        $('#timepickerpop').timepicker({ 'timeFormat': 'g:i A','step':15,'minTime': '8:00am','maxTime': '8:00pm'  });

                } else {
                    alert("There was a problem while using XMLHTTP:\n" + req.statusText);
                    }
                }               
            }           
            req.open("GET", strURL, true);
            req.send(null);
        }   
    }
    </script> 
```

# facebook - 使用 Facebook 自动填充我的表单注册

> ID：14050787
> 
> 赞同：0
> 
> 时间：2012-12-27T07:06:02.673
> 
> 标签：facebook, facebook-graph-api, facebook-javascript-sdk

如何让我的 facebook 注册按钮执行 odesk 注册按钮的功能。

[https://www.odesk.com/signup/create-account/id/Contractor_50dbed1edc1416.20352143](https://www.odesk.com/signup/create-account/id/Contractor_50dbed1edc1416.20352143)

注意：我已经设计了按钮放置所有东西的表单。接下来我该怎么办。

# android - 加入标记以在 android 谷歌地图中绘制路径

> ID：14050789
> 
> 赞同：0
> 
> 时间：2012-12-27T07:06:10.133
> 
> 标签：android, google-maps

我是android领域的新手。我编写了一个**android App1**，它将从 Network Provider 检索纬度和经度值并将其存储在我的本地服务器`(LAMP)`中。

我还创建了一个`MYSQL DB`包含 3 列（lat、lon、id）的表，其中包含使用网络提供程序检索的值（lat 和 lon）。目前我的表中有多个`10`值。

我创建了对象，用于在我的**Android App2**中使用 PHP 脚本`JSON`获取这些值。所有这些事情都很好。我还完成了创建 ，它将使用标记在地图上绘制这些纬度和经度值。`MYSQL DB`**`MapActivity`**

 **我现在要做的是加入这些标记以在谷歌地图上绘制路径。怎么做。请帮忙

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-27T07:16:03.940

尝试这个。

```
String uri = "http://maps.google.com/maps?saddr=" + currentLatitude+","+currentLongitude+"&daddr="+fixedLatitude+","+fixedLongitude;
Intent intent = new Intent(android.content.Intent.ACTION_VIEW, Uri.parse(uri));
intent.setClassName("com.google.android.apps.maps", "com.google.android.maps.MapsActivity");
startActivity(intent); 
```

这可以帮助你吗

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-27T07:39:11.237

试试这个在谷歌地图中绘制路径

```
public class Location extends MapActivity {
MapView mapView;
public static ArrayList<String> paramLat = new ArrayList<String>();
public static ArrayList<String> paramLong = new ArrayList<String>();
private List<Overlay> mapOverlays;
public List<GeoPoint> geopoints = new ArrayList<GeoPoint>();
public void onCreate(Bundle savedInstanceState) {

//your code to display location

for(int i=0;i<paramLat.size();i++)
        {
            lat = Double.parseDouble(paramLat.get(i)); 
            lon = Double.parseDouble(paramLong.get(i));
            geoPoint = new GeoPoint((int)(lat * 1E6), (int)(lon *1E6));
            geopoints.add(geoPoint);
           }

mapOverlays = mapView.getOverlays();
mapOverlays.add(new MyOverlay());
}

class MyOverlay extends Overlay{

    public MyOverlay(){

    }   

 public void draw(Canvas canvas, MapView mapv, boolean shadow){
        super.draw(canvas, mapv, shadow);

        int loopcount = geopoints.size() - 1; 
        Paint   mPaint = new Paint();
        mPaint.setDither(true);
        mPaint.setColor(Color.BLUE);
        mPaint.setStyle(Paint.Style.FILL_AND_STROKE);
        mPaint.setStrokeJoin(Paint.Join.ROUND);
        mPaint.setStrokeCap(Paint.Cap.ROUND);
        mPaint.setStrokeWidth(2);
        for (int i = 0; i < loopcount; i++) 
        {
            GeoPoint pp1 = (GeoPoint) geopoints.get(i);
            GeoPoint pp2 = (GeoPoint) geopoints.get(i + 1);
            Point p1 = new Point();
            Point p2 = new Point();
            Path path = new Path();

            projection.toPixels(pp1, p1);
            projection.toPixels(pp2, p2);

            path.moveTo(p2.x, p2.y);
            path.lineTo(p1.x,p1.y);
            canvas.drawPath(path, mPaint);
        }
    }
   }  //end of MyOverlay class
}  //end of Location class 
```**

# objective-c - 无法导入 AssetsLibrary.h

> ID：14050792
> 
> 赞同：2
> 
> 时间：2012-12-27T07:06:27.840
> 
> 标签：objective-c, ios, frameworks, ios6, xcode4.5

我想使用 AssetsLibrary 框架来使用用户照片库中的图片。但我有一个非常奇怪的问题。我看到每个人都在像这样导入这个框架

```
#import <AssetsLibrary/AssetsLibrary.h> 
```

但我不能，编译器显示错误。在“Link Binaries With Libraries”中添加框架时，我什至找不到它。好像这个框架不存在一样。

也许有人有类似的问题并且知道解决方案？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-27T07:56:53.430

显然框架丢失了，我在框架目录中寻找它，但它不存在，所以我选择重新下载新的 xcode。如果有人有类似的问题，我建议首先查看 /System/Library/Frameworks/ 中是否缺少框架。

# java - jaxb：内联元素

> ID：14050793
> 
> 赞同：1
> 
> 时间：2012-12-27T07:06:35.967
> 
> 标签：java, xml, jaxb

鉴于：

```
@XmlRootElement(name = "foo")
class Foo {
   public Bar getBar() {...}
}

class Bar {
   @XmlElement(name = "string")
   public String getString() {return "hello";}
} 
```

我如何注释，所以 XML 将是：

```
<foo>
   <string>hello</string>
</foo> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-27T10:18:28.033

您可以利用`@XmlValue`注释执行以下操作。

**富**

```
@XmlRootElement
class Foo {
    @XmlElement(name="string")
    public Bar getBar() {...}
} 
```

**酒吧**

```
class Bar {
    @XmlValue
    public String getString() {return "hello";}
} 
```

**了解更多信息**

*   [http://blog.bdoughan.com/2011/06/jaxb-and-complex-types-with-simple.html](http://blog.bdoughan.com/2011/06/jaxb-and-complex-types-with-simple.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-27T07:38:22.093

您可能需要在课堂上使用[@XmlSeeAlso](http://docs.oracle.com/javase/6/docs/api/javax/xml/bind/annotation/XmlSeeAlso.html)注释。

当您希望在 XML 输出中包含另一个实体 bean 时，可以使用 @XmlSeeAlso 注释。你能在你的 Foo 课上试试这个吗

```
@XmlRootElement(name = "foo")
@XmlSeeAlso(Bar.class)
class Foo {
   public Bar getBar() {...}
} 
```

**更新1：**

对于删除 XML 中的 bar 标记的评论，请尝试使用[EclipseLink JAXB (MOXy) 的](http://www.eclipse.org/eclipselink/moxy.php). @XmlPath 将解决您的问题。

```
@XmlRootElement(name = "foo")
@XmlSeeAlso(Bar.class)
class Foo {
   @XmlPath(".")
   public Bar getBar() {...}
} 
```

有关详细信息，请参阅[此处](http://blog.bdoughan.com/2010/07/xpath-based-mapping.html)。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-12-27T07:38:51.633

我不确定您是否可以从生成的 XML中消除标签**栏：**

[http://docs.oracle.com/cd/E17802_01/webservices/webservices/docs/2.0/tutorial/doc/JAXBUsing4.html#wp148576](http://docs.oracle.com/cd/E17802_01/webservices/webservices/docs/2.0/tutorial/doc/JAXBUsing4.html#wp148576)

# regex - 十进制正则表达式验证

> ID：14050798
> 
> 赞同：3
> 
> 时间：2012-12-27T07:06:58.027
> 
> 标签：regex

我正在使用以下正则表达式来验证带点的十进制数`.`

```
/^[0-9]*\.?[0-9]*$/ 
```

它适用于除案例之外的所有案例`12.`

工作示例：

```
12
12.2
10.222
12. 
```

我想在用户输入 ( `12.`) 时抛出验证错误：至少需要输入小数点后的一位数字 (如`12.1`)。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-12-27T07:14:09.987

您可以使用此正则表达式：

```
/^\d+(\.\d+)?$/ 
```

它将匹配整数：`12`,`1222`

如果有小数点，那么小数点前后必须至少有 1 位：`1.1`,`34.2`

这些情况是不允许的：`.43`,`23.`

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-12-27T07:16:13.707

只需添加一个或多个量词：

```
^[0-9]+(\.[0-9]+)?$ 
```

# javascript - 如何避免这个很长的 if else 语句

> ID：14050810
> 
> 赞同：0
> 
> 时间：2012-12-27T07:08:18.233
> 
> 标签：javascript, jquery, optimization

我仍在学习 javascript，并且一直在寻找使我的代码更好的方法。我写了这个**很长的**if else 语句。我想知道是否有更简单的方法来实现这一点。此代码使用[jquery transit](http://ricostacruz.com/jquery.transit/)为旋转设置动画。基本上，当用户单击链接时，导航会将单击的链接旋转到顶部位置。导航定位在一个圆圈中。

```
var rotation = 0;
$('nav ul li a').bind('click', function () {
    'use strict';
    var item = $(this).parent();
    var itemI = item.index();
    var navAll = $(this).parents('ul');
    var pos0 = (rotation === 0);
    var pos1 = (rotation === 90);
    var pos2 = (rotation === 180);
    var pos3 = (rotation === 270);
    var item0 = (itemI === 0);
    var item1 = (itemI === 1);
    var item2 = (itemI === 2);
    var item3 = (itemI === 3);
    //------------------pos0 = 0----------------------------
    if (pos0 && item0) {
        //do nothing 0
    } else if (pos0 && item1) {
        navAll.transition({
            rotate: '-=90deg'
        });
        $('nav ul li a').transition({
            rotate: '90deg'
        });
        rotation = 270;
    } else if (pos0 && item2) {
        navAll.transition({
            rotate: '-=180deg'
        });
        $('nav ul li a').transition({
            rotate: '180deg'
        });
        rotation = 180;
    } else if (pos0 && item3) {
        navAll.transition({
            rotate: '+=90deg'
        });
        $('nav ul li a').transition({
            rotate: '-90deg'
        });
        rotation = 90;
    }
    //------------------pos1 = 90----------------------------
    else if (pos1 && item0) {
        navAll.transition({
            rotate: '0deg'
        });
        $('nav ul li a').transition({
            rotate: '0deg'
        });
        rotation = 0;
    } else if (pos1 && item1) {
        navAll.transition({
            rotate: '-90deg'
        });
        $('nav ul li a').transition({
            rotate: '90deg'
        });
        rotation = 270;
    } else if (pos1 && item2) {
        navAll.transition({
            rotate: '+=90deg'
        });
        $('nav ul li a').transition({
            rotate: '-180deg'
        });
        rotation = 180;
    } else if (pos1 && item3) {
        //do nothing 90
    }
    //------------------pos2 = 180----------------------------
    else if (pos2 && item0) {
        navAll.transition({
            rotate: '0deg'
        });
        $('nav ul li a').transition({
            rotate: '0deg'
        });
        rotation = 0;
    } else if (pos2 && item1) {
        navAll.transition({
            rotate: '-90deg'
        });
        $('nav ul li a').transition({
            rotate: '90deg'
        });
        rotation = 270;
    } else if (pos2 && item2) {
        //do nothing
        rotation = 180;
    } else if (pos2 && item3) {
        navAll.transition({
            rotate: '-=90deg'
        });
        $('nav ul li a').transition({
            rotate: '-90deg'
        });
        rotation = 90;
    }
    //------------------pos3 = 270----------------------------
    else if (pos3 && item0) {
        navAll.transition({
            rotate: '0deg'
        });
        $('nav ul li a').transition({
            rotate: '0deg'
        });
        rotation = 0;
    } else if (pos3 && item1) {
        //do nothing
    } else if (pos3 && item2) {
        navAll.transition({
            rotate: '-=90deg'
        });
        $('nav ul li a').transition({
            rotate: '180deg'
        });
        rotation = 180;
    } else if (pos3 && item3) {
        navAll.transition({
            rotate: '-=180deg'
        });
        $('nav ul li a').transition({
            rotate: '-90deg'
        });
        rotation = 90;
    }
}); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-27T07:12:46.587

你可以使用[开关](http://www.w3schools.com/js/js_switch.asp)

**[现场演示](http://jsfiddle.net/rajaadil/RXYCP/)**

```
condition = rotation + "_" + itemI 

switch(condition)
{
   case "0_0":
        //your code
        break;
   case "90_0":
        //your code
        break;

   //Similarly you can add all cases.
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-27T07:19:05.890

这可能会缩短代码。

创建一个二维数组，其中包含旋转键和 itemI 以及结果 deg val 的组合值

然后只需访问数组并按如下方式运行您的命令

```
if(degVal[rotation][itemI]<0)
    rotateSign = '-';
else
    rotateSign = '+';

navAll.transition({rotate: rotateSign+'='+degVal[rotation][itemI]+'deg'});
$('nav ul li a').transition({rotate: degVal[rotation][itemI]+'deg'});
rotation = degVal[rotation][itemI]; 
```

# python - 这会花费我对同一件事的两次查询吗？

> ID：14050811
> 
> 赞同：0
> 
> 时间：2012-12-27T07:08:23.873
> 
> 标签：python, django

在我看来，我有这样的正常分页：

```
paginator = Paginator(book_list, 100) 
```

然后在我看来，我将值传递给我的模板：

```
return render(request,
...
'paginator': paginator,
... 
```

我有一个用于分页的自定义标签，我正在加载它：

```
{% if paginator.count > paginator.per_page %}
    {% load paginator %}
    {% paginator 3 %}
{% endif %} 
```

在我的自定义模板分页标记中，我在代码中有以下内容：

```
def paginator(context, adjacent_pages=2):
    page_obj = context['paginator'].page(context['object_list'].number)
    ...
    'hits': context['paginator'].count,
    ... 
```

一切都按预期工作，但我担心`context['paginator'].page(context['object_list'].number)`，Django 是用这个位从数据库中获取数据，还是使用从我的主视图中获取的相同数据？

请指教。谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-27T08:07:01.510

分页器将query_set保持为object_list，在django 1.3.4中，page方法是

```
def page(self, number):
    "Returns a Page object for the given 1-based page number."
    number = self.validate_number(number)
    bottom = (number - 1) * self.per_page
    top = bottom + self.per_page
    if top + self.orphans >= self.count:
        top = self.count
    return Page(self.object_list[bottom:top], number, self) 
```

只有与 db 相关的最后一行，

```
self.object_list[bottom:top] 
```

object_list 只是一个 QuerySet，所以如果你多次调用 query_set[x:y] 就会出现问题，是否存在多个查询。

Django 的 query_set 是惰性的，如果不遍历它，不会触发任何 sql。否则，会有 db 查询。

您可以在 django.db.connection.queries 中使用检查查询来获取以下代码，

```
 from django.db import connection

   original = XXXX.objects.filter(...)
   res1 = original[x:y]
   for item in res1:
     print item
   print len(connection.queries), connection.queries[-1]

   res2 = original[x:y]
   for item in res2:
     print item
   print len(connection.queries), connection.queries[-1] 
```

您会发现查询长度增加了。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-27T07:37:47.537

我的理解是，它只是使用您在主视图中传递的任何对象。 `context['paginator']`将返回存储在`paginator`您传递给上下文的变量中的对象，即`Paginator`类的实例。

它是否回到数据库的问题只是关于`.page(...)`方法。如果调用`Paginator.page(...)`发出一个数据库查询，那么它将返回到数据库——它不会缓存该值。但是，如果该信息已经在`paginator`变量中本地可用并且这就是该`.page`方法调用的内容，那么您就不会从数据库中重新获取数据。

# php - 如何在 PHP 中发布关联数组

> ID：14050812
> 
> 赞同：13
> 
> 时间：2012-12-27T07:08:28.040
> 
> 标签：php, html, associative-array

我有以下表格：

```
<form action="options.php" method="post">
    <input type="text" name="deptid" id="deptid" />
    <input type="text" name="deptname" id="deptname" />
    <input type="submit" name="submit" id="submit" value="save" />
</form> 
```

**编辑**

**是否可以在提交之前将这**两个值传递到一个关联数组中？我想以这种形式传递它：

```
array('deptid'=>'deptname') 
```

我需要这个，因为我避免修改目标 php 文件（options.php）的脚本

谢谢。

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2012-12-27T07:12:40.000

这是一种使用纯 HTML 的方法，它*几乎*可以让您到达您想要的位置，并且只使用 HTML：

```
<form action="options.php" method="post">
    <input type="text" name="options[deptid]" id="deptid" />
    <input type="text" name="options[deptname]" id="deptname" />
    <input type="submit" name="submit" id="submit" value="save" />
</form> 
```

这会给你PHP：

```
$post_options = array(
    'options' => array(
        'deptid '=> '[that input element value]',
        'deptname' => '[that input element value]'
    )
); 
```

然后您可以（*包括消毒*）访问，例如：

```
$post_options = array('options');

if (is_numeric($post_options['deptid'] && $post_options['deptid'] > 0) {
    // Do whatever 
}

if (is_string($post_options['deptname'] && strlen($post_options['deptname'] > 2)) {
    // Do whatever 
} 
```

**编辑**

或者... 您想`deptid`在`input name`属性中引用 并使用它来修改部门名称的行？这似乎表明这样的事情：

```
<?php

$deptid = 1;
$deptname = 'Department of Silly Walks';

?><input type="hidden" name="options[<?=$deptid?>]" value="<?=$deptname?>"> 
```

哪个输出：

```
<input type="hidden" name="options[1]" value="Department of Silly Walks"> 
```

[http://codepad.org/DtgoZGe7](http://codepad.org/DtgoZGe7)

这样做的问题是该`$deptid`值变成了一个实际上并未直接命名或引用的值。我认为由于从服务器到客户端再返回的值的这种抽象，实现这可能存在问题，所以我会推荐我在顶部拥有的东西。这在实践中并没有太大的区别，但它或多或少是自我记录的。

注意，如果你想序列化一个部门列表，那就有点棘手了。例如，你可以试试这个：

```
<input type="text" name="options[][deptid]" id="deptid" />
<input type="text" name="options[][deptname]" id="deptname" /> 
```

这将为每个`input`. 但是……它们不会直接关联。因此，您将获得每个键的两个零索引数组。

在这种情况下，我建议使用 Javascript 来添加每个新部门的`input`元素，因此您可以为每个元素指定一个数字，例如：

```
<input type="text" name="options[0][deptid]" id="deptid" />
<input type="text" name="options[0][deptname]" id="deptname" />
<br/>
<input type="text" name="options[1][deptid]" id="deptid" />
<input type="text" name="options[1][deptname]" id="deptname" />
<br/>
<input type="text" name="options[2][deptid]" id="deptid" />
<input type="text" name="options[2][deptname]" id="deptname" />
<br/>
<input type="text" name="options[3][deptid]" id="deptid" />
<input type="text" name="options[3][deptname]" id="deptname" /> 
```

或者使用老式的 POSTBACK 方法并使用 PHP 进行计数`$POST['options']`并“手动”添加具有相同索引的新“行”输入。这是一个常见的陷阱，所以如果这是你在某个时候所追求的，你只需要考虑一下。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-12-27T07:10:21.550

**`$_POST`已经是一个关联数组**，*我建议您不要使事情复杂化，*因为**`$_POST`已经包含来自您的表单的数据**。

```
$myassoc = $_POST;
print_r($myassoc); 
```

并且您将收到的关联数组在表单中输入元素的名称属性中组织和命名相同（包括 textarea）

**其他见解**

当我看到您的代码时，您希望在`deptname`数据`deptid`到达 PHP 服务器端代码时将其放入其中。好吧，您可以做的就是将其分配给键`deptid`

```
$_POST['deptid'] = $_POST['deptname'];
$myassoc = $_POST;
print_r($myassoc); 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-12-27T07:14:11.973

```
<form method="post">
    <input type="text" name="formdata['deptid']" />
    <input type="text" name="formdata['deptname']" />
    <input type="submit" />
</form>

<?php
    if(isset($_POST['formdata']))
    {
       $deptid = $_POST['formdata']['deptid'];
       $deptname = $_POST['formdata']['deptname'];
    }
?> 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-06-27T15:16:34.760

构建一个具有适当结构的 JS 对象，使用 将其转换为 JSON `JSON.stringify()`，发布它，然后执行`json_decode($_POST['data'],true)`.

您将获得从 JS 对象到 PHP 关联数组的精确副本。删除的第二个参数`true`以获取 PHP 对象。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-27T07:23:48.220

`$_POST`已经是一个关联数组。

您可以通过分配`$_POST`给一个变量来重建您需要的形式的数组

```
$myarray = $_POST; 
```

现在 $myarray 就是您所需要的。做`var_dump($myvar);`。

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2012-12-27T07:10:55.243

你为什么想这么做？但是，您可以通过以下形式发送“数组”：

```
<form method="post">
    <input type="text" name="textboxes[]" />
    <input type="text" name="textboxes[]" />
    <input type="submit" />
</form>

<?php
    if(isset($_POST['textboxes']))
        var_dump($_POST['textboxes']);
?> 
```

* * *

## 回答 #7

> 赞同：-1
> 
> 时间：2012-12-27T07:13:15.613

```
$deptid = $_POST['deptid'];
$array = array($$deptid => $_POST['deptname']);
print_r($array); 
```

# android - 如何使图像适合android中的圆形框架

> ID：14050813
> 
> 赞同：25
> 
> 时间：2012-12-27T07:08:35.933
> 
> 标签：android, bitmap, imageview

我有一个`ListView`，其中`ImageView`的图像在`ImageView`从服务器获取后动态加载。现在，我希望这些任何尺寸的图像都适合圆形框架，该怎么做？这是我想要的示例图片

![在此处输入图像描述](../Images/2d703a09e9235b404c51e34ec366313c.png)

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2012-12-27T08:13:31.473

在先前答案的帮助下，我想出了这个解决方案。希望对其他人有所帮助：

```
import android.app.Activity;
import android.graphics.Bitmap;
import android.graphics.BitmapFactory;
 import android.graphics.Canvas;
 import android.graphics.Paint;
import android.graphics.PorterDuff.Mode;
import android.graphics.PorterDuffXfermode;
import android.graphics.Rect;
import android.graphics.RectF;
import android.os.Bundle;
import android.widget.ImageView;

public class CircleImage extends Activity {

/** Called when the activity is first created. */
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.circle_layout);
    ImageView img1 = (ImageView) findViewById(R.id.imageView1);
    Bitmap bm = BitmapFactory.decodeResource(getResources(),
            R.drawable.hair_four);
    Bitmap resized = Bitmap.createScaledBitmap(bm, 100, 100, true);
    Bitmap conv_bm = getRoundedRectBitmap(resized, 100);
    img1.setImageBitmap(conv_bm);
    // TODO Auto-generated method stub
}

public static Bitmap getRoundedRectBitmap(Bitmap bitmap, int pixels) {
    Bitmap result = null;
    try {
        result = Bitmap.createBitmap(200, 200, Bitmap.Config.ARGB_8888);
        Canvas canvas = new Canvas(result);

        int color = 0xff424242;
        Paint paint = new Paint();
        Rect rect = new Rect(0, 0, 200, 200);

        paint.setAntiAlias(true);
        canvas.drawARGB(0, 0, 0, 0);
        paint.setColor(color);
        canvas.drawCircle(50, 50, 50, paint);
        paint.setXfermode(new PorterDuffXfermode(Mode.SRC_IN));
        canvas.drawBitmap(bitmap, rect, rect, paint);

    } catch (NullPointerException e) {
    } catch (OutOfMemoryError o) {
    }
    return result;
}

 } 
```

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2012-12-27T07:13:07.100

试试这个代码：

```
public static Bitmap getRoundedRectBitmap(Bitmap bitmap, int pixels) {
try {
result = Bitmap.createBitmap(bitmap.getWidth(), bitmap.getHeight(),
Bitmap.Config.ARGB_8888);
canvas = new Canvas(result);

color = 0xff424242;
paint = new Paint();
rect = new Rect(0, 0, bitmap.getWidth(), bitmap.getHeight());
rectF = new RectF(rect);
roundPx = pixels;

paint.setAntiAlias(true);
canvas.drawARGB(0, 0, 0, 0);
paint.setColor(color);
canvas.drawRoundRect(rectF, roundPx, roundPx, paint);

paint.setXfermode(new PorterDuffXfermode(Mode.SRC_IN));
canvas.drawBitmap(bitmap, rect, rect, paint);
} catch (NullPointerException e) {
// return bitmap;
} catch (OutOfMemoryError o){}
return result;
} 
```

如果你想要一个实际的圆圈，那么你可以`100px`作为参数传递。

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2012-12-27T07:41:44.527

**更新**

Github上有一个[`CircleImageView`](https://github.com/hdodenhof/CircleImageView)可用的。

您可以从[Maven 存储库](http://search.maven.org/#search%7Cgav%7C1%7Cg%3A%22de.hdodenhof%22%20AND%20a%3A%22circleimageview%22)中获取最新版本，并将其添加为 gradle 依赖项。

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2014-08-25T07:39:59.757

有很多关于这个的教程。我认为这会有所帮助。

[https://github.com/lopspower/CircularImageView](https://github.com/lopspower/CircularImageView)

[https://github.com/wisemandesigns/CircularImageView](https://github.com/wisemandesigns/CircularImageView)

[https://coderwall.com/p/hmzf4w](https://coderwall.com/p/hmzf4w)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2015-06-12T11:13:11.137

**我们可以从 xml 代码管理图像的高度和宽度，并从 java 代码中绘制圆形/椭圆形，例如**

```
 <ImageView
            android:id="@+id/imageView1"
            android:layout_width="@dimen/width"
            android:layout_height="@dimen/height"
            /> 
```

> **用于椭圆形视图**

```
ImageView img1 = (ImageView) findViewById(R.id.imageView1);
Bitmap bm = BitmapFactory.decodeResource(getResources(),
        R.drawable.user_image);
Bitmap conv_bm = getRoundedBitmap(bm);
img1.setImageBitmap(conv_bm);

public static Bitmap getRoundedBitmap(Bitmap bitmap)
{
    final Bitmap output = Bitmap.createBitmap(bitmap.getWidth(), bitmap.getHeight(), Bitmap.Config.ARGB_8888);
    final Canvas canvas = new Canvas(output);

    final int color = Color.RED;
    final Paint paint = new Paint();
    final Rect rect = new Rect(0, 0, bitmap.getWidth(), bitmap.getHeight());
    final RectF rectF = new RectF(rect);

    paint.setAntiAlias(true);
    canvas.drawARGB(0, 0, 0, 0);
    paint.setColor(color);
    canvas.drawOval(rectF, paint);
    paint.setXfermode(new PorterDuffXfermode(Mode.SRC_IN));
    canvas.drawBitmap(bitmap, rect, rect, paint);

    bitmap.recycle();

    return output;
  }

 } 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2020-01-18T09:15:23.940

添加以下依赖项

```
 implementation 'jp.wasabeef:picasso-transformations:2.2.1'
 implementation 'de.hdodenhof:circleimageview:3.0.0' 
```

如果图像看起来不正确，CircularImageView 也可用于图像适合圆形。resize 用于在圆形图像视图中调整图像大小。

```
 CircleImageView img;
    String Imageid; 

    Imageid="ImageName"; //String is not compulsary it may be drawable  

    Picasso.with(mContext)
            .load(Imageid.get(position)) //Load the image
            .error(R.drawable.ic_launcher_background) //Image resource for error
            .resize(20, 20)  // Post processing - Resizing the image
            .into(img); // View where image is loaded. 
```

* * *

## 回答 #7

> 赞同：-1
> 
> 时间：2016-05-09T11:27:52.583

```
 public static Bitmap getCircleBitmap(Bitmap bitmap) {
        final Bitmap circuleBitmap = Bitmap.createBitmap(bitmap.getWidth(),
                bitmap.getWidth(), Bitmap.Config.ARGB_8888);
        final Canvas canvas = new Canvas(circuleBitmap);

        final int color = Color.RED;
        final Paint paint = new Paint();
        final Rect rect = new Rect(0, 0, bitmap.getWidth(), bitmap.getWidth());
        final RectF rectF = new RectF(rect);

        paint.setAntiAlias(true);
        canvas.drawARGB(0, 0, 0, 0);
        paint.setColor(color);
        canvas.drawOval(rectF, paint);

        paint.setXfermode(new PorterDuffXfermode(PorterDuff.Mode.SRC_IN));
        canvas.drawBitmap(bitmap, rect, rect, paint);

        bitmap.recycle();

        return circuleBitmap;
    } 
```

# c++ - 如何在 DirectX 9 中设置左上角坐标？

> ID：14050816
> 
> 赞同：0
> 
> 时间：2012-12-27T07:09:02.203
> 
> 标签：c++, windows, directx, directx-9

我需要在 DirectX 9 中绘制一些东西。我有兴趣以将坐标调整为像素的方式工作，而 (0,0) 将是**左上角**。这是我所做的：

```
RECT clientRect;
::GetClientRect(m_hWIN, &clientRect);

D3DXMATRIX matOrtho2D, matIdentity;    

D3DXMatrixOrthoOffCenterLH(&matOrtho2D, 0, clientRect.right, 0, clientRect.bottom, 0.0f, 1.0f);
D3DXMatrixIdentity(&matIdentity);

g_pDirect3D_Device->SetTransform(D3DTS_PROJECTION, &matOrtho2D);
g_pDirect3D_Device->SetTransform(D3DTS_WORLD, &matIdentity);
g_pDirect3D_Device->SetTransform(D3DTS_VIEW, &matIdentity); 
```

这很好用，除了 (0,0) 是**左下角**。我怎样才能改变它？谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-27T12:34:42.190

这应该添加到代码中：

```
D3DXMATRIX matTranslate, matFlip;  

D3DXMatrixTranslation(&matTranslate, 0, clientRect.bottom, 0.0f);
D3DXMatrixRotationX(&matFlip, D3DXToRadian(180));
D3DXMATRIX matCoordTransform = matFlip * matTranslate;

g_pDirect3D_Device->SetTransform(D3DTS_WORLD, &matCoordTransform); 
```

# actionscript-3 - 来自外部 XML（Web 服务）的 XML 解析 (Flash AS3)

> ID：14050817
> 
> 赞同：0
> 
> 时间：2012-12-27T07:09:02.220
> 
> 标签：actionscript-3, xml-parsing

我的 AS3 代码：

```
loginBtn.addEventListener("mouseDown", sendData)
function sendData(e:Event) {
    var path:String = "http://server1.digitalmulia.com/~testing/webservice/auth/login";
    var myData:URLRequest = new URLRequest(path)
    myData.method = URLRequestMethod.POST
    var variables:URLVariables = new URLVariables()
    variables.username = usernameField.text
    variables.password = passwdField.text
    myData.data = variables
    var loader:URLLoader = new URLLoader()
    loader.dataFormat = URLLoaderDataFormat.VARIABLES
    loader.addEventListener(Event.COMPLETE, dataOnLoad)
    loader.load(myData)
}
function dataOnLoad(e:Event){
    var xmldata = XML(e.target.data);
    var xxx = xmldata.toString();
    var myFormat:TextFormat = new TextFormat();
    myFormat.font = "Arial";
    myFormat.size = 12;
    myFormat.bold = true;

    var myText:TextField = new TextField();
    myText.defaultTextFormat = myFormat;
    myText.selectable = true;
    myText.border = true;
    myText.text = xxx;
    myText.x = 10;
    myText.y = 200;
    myText.width = 300;
    myText.height = 100;
    addChild(myText);

}
stop() 
```

结果：

%3C%3Fxml%20version=%221%2E0%22%3F%3E%0A%3Cxml%3E%3Cdatas%2F%3E%3C信息%3E%3Cpasswd%3E5f4dcc3b5aa765d61d8327deb882cf99%3C%2Fpasswd%3E%3C%2F信息%3E% 3Cerror%3E%3Citem%3EUsername%20not%20found%20or%20password%20is%20wrong%3C%2Fitem%3E%3C%2Ferror%3E%3C%2Fxml%3E%0A

怎么了？我需要的结果与

```
<xml>
    <datas/>
    <information>
        <passwd>5f4dcc3b5aa765d61d8327deb882cf99</passwd>
    </information>
    <error>
        <item>Username is null</item>
        <item>Password is null</item>
    </error>
</xml> 
```

我很抱歉我的英语不好。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-27T09:01:04.320

您可以尝试使用， `unescape(xmldata.toString())`然后您将获得所需的输出。

```
 function dataOnLoad(e:Event)
        {
            var xmldata:XML = XML(e.target.data);
            var xmlStr:String = unescape(xmldata.toString());
            xmldata = XML(xmlStr);          
        } 
```

函数 escape("args") 将参数转换为字符串并以 URL 编码格式对其进行编码。

```
escape("escape unescape"); 
```

输出：`escape%20unescape`

函数 unescape 将所有十六进制序列转换为 ASCII 字符。例如，

```
unescape("escape%20unescape"); 
```

输出 ：`escape unescape`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-28T09:09:33.193

我确定这是因为您选择了`URLLoaderDataFormat.VARIABLES`类型，请尝试其他值，例如`URLLoaderDataFormat.TEXT`在将其传递给 XML 构造函数时使用 try catch 块包装它，因为无效数据会引发错误。

# asp.net - 在 asp.net mvc 3 中使用复合实体模型在应用程序中按类别导航

> ID：14050822
> 
> 赞同：0
> 
> 时间：2012-12-27T07:09:46.823
> 
> 标签：asp.net, asp.net-mvc, asp.net-mvc-3, linq, entity-relationship

我需要按类别过滤产品并提供每个类别的链接。
这是来自 StoreController 的方法：

```
public ViewResult Content(string category = null, int page = 1)
    {
        var model = new StoreContentViewModel
            {
                Items = _itemsRepository.GetItems()
                .Where(i => i.Product.Category == category || i.Product.Category == null)
                .OrderBy(i => i.ItemId)
                .Skip((page-1)*PageSize)
                .Take(PageSize),

                PageInfo = new PageInfo
                    {
                        TotalItems = category == null ? _itemsRepository.GetItems().Count() :
                        _itemsRepository.GetItems().Where(i => i.Product.Category == category).Count(),
                        CurrentPage = page,
                        ItemsPerPage = PageSize
                    },

                CurrentCategory = category
            };
        return View(model);
    } 
```

这是来自 NavigationController 的方法：

```
 public PartialViewResult Menu(string category)
    {
        ViewBag.SelectedCategory = category;

        IEnumerable<string> result = _itemsRepository.GetItems()
                                     .Select(i => i.Product.Category)
                                     .Distinct()
                                     .OrderBy(i => i);

        return PartialView(result);
    } 
```

此菜单方法的部分视图：

```
@model IEnumerable<string>

@Html.ActionLink("All products", "Content", "Store")

@foreach (var link in Model)
{
@Html.RouteLink(link,
   new
   {
       controller = "Navigation",
       action = "Menu",
       category = link,
       page = 1
   },
   new
   {
       @class = link == ViewBag.SelectedCatgory ? "selectedLink" : null
   }
   )

} 
```

在我的模型中，1 个项目包含 1 个产品（ProductId 是 Items 表中的外键）。当我运行应用程序时，我收到一个错误：“该值不能等于 null 或空。参数名称：controllerName”。此操作方法的单元测试也失败。
不添加类别过滤一切正常。

我认为问题出在我从 _itemsRepository 获取“Category”属性的行中，（导致“filter”单元测试也失败）：

```
_itemsRepository.Product.Category 
```

这样对吗？如果是我想知道是否有其他方法可以访问“类别”属性？
提前致谢。

**编辑：**
消息错误是由错误的路由引起的。
仍然无法按类别选择项目，问题肯定与此行有关：

```
Items = _itemsRepository.GetItems()
                .Where(i => i.Product.Category == category || i.Product.Category == null) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-27T14:25:19.397

您是否使用实体框架作为您的 ORM？如果是这样，实体框架不会自动为您加载相关对象。你必须告诉它你想要加载对象。您可以通过使用 Include() 方法急切地加载您的属性来做到这一点。看看我对这个问题的回答。非常相似。

[如何在 linq 表达式的 where 子句中访问子实体的属性？](https://stackoverflow.com/questions/14052199/how-to-access-child-entitys-property-in-a-where-clause-of-linq-expression/14055339#14055339)

# python - 将两个 LISTS 值的 SUM 添加到新 LIST

> ID：14050824
> 
> 赞同：166
> 
> 时间：2012-12-27T07:09:52.353
> 
> 标签：python, list, sum

我有以下两个列表：

```
first = [1,2,3,4,5]
second = [6,7,8,9,10] 
```

现在我想将这两个列表中的项目添加到一个新列表中。

输出应该是

```
third = [7,9,11,13,15] 
```

* * *

## 回答 #1

> 赞同：262
> 
> 时间：2012-12-27T07:12:34.990

该`zip`函数在这里很有用，与列表推导一起使用。

```
[x + y for x, y in zip(first, second)] 
```

如果您有一个列表列表（而不仅仅是两个列表）：

```
lists_of_lists = [[1, 2, 3], [4, 5, 6]]
[sum(x) for x in zip(*lists_of_lists)]
# -> [5, 7, 9] 
```

* * *

## 回答 #2

> 赞同：52
> 
> 时间：2012-12-27T07:29:34.717

来自[文档](https://docs.python.org/2/library/operator.html#operator.add)

```
import operator
list(map(operator.add, first,second)) 
```

* * *

## 回答 #3

> 赞同：45
> 
> 时间：2014-04-28T19:57:06.333

`numpy.add`(`numpy.subtract`等) 中的默认行为是元素方面的：

```
import numpy as np
np.add(first, second) 
```

哪个输出

```
array([7,9,11,13,15]) 
```

* * *

## 回答 #4

> 赞同：33
> 
> 时间：2014-06-30T15:31:10.430

假设两个列表具有相同的长度`a`，`b`您不需要 zip、numpy 或其他任何东西。

Python 2.x 和 3.x：

```
[a[i]+b[i] for i in range(len(a))] 
```

* * *

## 回答 #5

> 赞同：11
> 
> 时间：2012-12-27T07:20:49.550

这将自身扩展到任意数量的列表：

```
[sum(sublist) for sublist in itertools.izip(*myListOfLists)] 
```

在你的情况下，`myListOfLists`将是`[first, second]`

* * *

## 回答 #6

> 赞同：11
> 
> 时间：2015-05-16T12:45:36.823

试试下面的代码：

```
first = [1, 2, 3, 4]
second = [2, 3, 4, 5]
third = map(sum, zip(first, second)) 
```

* * *

## 回答 #7

> 赞同：6
> 
> 时间：2013-03-17T09:25:16.193

执行此操作的简单方法和快速方法是：

```
three = [sum(i) for i in zip(first,second)] # [7,9,11,13,15] 
```

或者，您可以使用 numpy sum：

```
from numpy import sum
three = sum([first,second], axis=0) # array([7,9,11,13,15]) 
```

* * *

## 回答 #8

> 赞同：6
> 
> 时间：2017-07-21T08:11:04.740

```
first = [1, 2, 3, 4, 5]
second = [6, 7, 8, 9, 10]
three = list(map(sum, first, second))
print(three)

# Output 
[7, 9, 11, 13, 15] 
```

* * *

## 回答 #9

> 赞同：5
> 
> 时间：2019-07-25T07:36:46.580

单线解决方案

```
list(map(lambda x,y: x+y, a,b)) 
```

* * *

## 回答 #10

> 赞同：3
> 
> 时间：2019-05-19T13:44:46.973

如果您有未知数量的相同长度的列表，您可以使用以下函数。

这里 *args 接受可变数量的列表参数（但每个参数的总和相同）。* 再次用于解包每个列表中的元素。

```
def sum_lists(*args):
    return list(map(sum, zip(*args)))

a = [1,2,3]
b = [1,2,3]  

sum_lists(a,b) 
```

输出：

```
[2, 4, 6] 
```

或者有 3 个列表

```
sum_lists([5,5,5,5,5], [10,10,10,10,10], [4,4,4,4,4]) 
```

输出：

```
[19, 19, 19, 19, 19] 
```

* * *

## 回答 #11

> 赞同：2
> 
> 时间：2013-10-22T09:58:34.413

我的回答与 Thiru 的重复，它在 3 月 17 日 9:25 回答了它。

它更简单快捷，这是他的解决方案：

> 执行此操作的简单方法和快速方法是：
> 
> ```
>  three = [sum(i) for i in zip(first,second)] # [7,9,11,13,15] 
> ```
> 
> 或者，您可以使用 numpy sum：
> 
> ```
>  from numpy import sum
>  three = sum([first,second], axis=0) # array([7,9,11,13,15]) 
> ```

* * *

你需要麻木！

numpy 数组可以做一些像向量这样的操作

```
import numpy as np
a = [1,2,3,4,5]
b = [6,7,8,9,10]
c = list(np.array(a) + np.array(b))
print c
# [7, 9, 11, 13, 15] 
```

* * *

## 回答 #12

> 赞同：2
> 
> 时间：2020-04-26T19:21:22.227

如果您有不同长度的列表怎么办，那么您可以尝试这样的事情（使用`zip_longest`）

```
from itertools import zip_longest  # izip_longest for python2.x

l1 = [1, 2, 3]
l2 = [4, 5, 6, 7]

>>> list(map(sum, zip_longest(l1, l2, fillvalue=0)))
[5, 7, 9, 7] 
```

* * *

## 回答 #13

> 赞同：1
> 
> 时间：2012-12-27T07:12:48.847

您可以使用`zip()`，它将两个数组“交错”在一起，然后`map()`使用 ，它将一个函数应用于迭代中的每个元素：

```
>>> a = [1,2,3,4,5]
>>> b = [6,7,8,9,10]
>>> zip(a, b)
[(1, 6), (2, 7), (3, 8), (4, 9), (5, 10)]
>>> map(lambda x: x[0] + x[1], zip(a, b))
[7, 9, 11, 13, 15] 
```

* * *

## 回答 #14

> 赞同：1
> 
> 时间：2017-09-11T19:49:27.893

这是另一种方法。它对我来说很好用。

```
N=int(input())
num1 = list(map(int, input().split()))
num2 = list(map(int, input().split()))
sum=[]

for i in range(0,N):
  sum.append(num1[i]+num2[i])

for element in sum:
  print(element, end=" ")

print("") 
```

* * *

## 回答 #15

> 赞同：1
> 
> 时间：2017-05-10T10:59:26.473

如果您还想添加列表中的其余值，您可以使用它（这在 Python3.5 中有效）

```
def addVectors(v1, v2):
    sum = [x + y for x, y in zip(v1, v2)]
    if not len(v1) >= len(v2):
        sum += v2[len(v1):]
    else:
        sum += v1[len(v2):]

    return sum

#for testing 
if __name__=='__main__':
    a = [1, 2]
    b = [1, 2, 3, 4]
    print(a)
    print(b)
    print(addVectors(a,b)) 
```

* * *

## 回答 #16

> 赞同：1
> 
> 时间：2019-04-25T10:32:20.897

如果您将列表视为 numpy 数组，那么您需要轻松地对它们求和：

```
import numpy as np

third = np.array(first) + np.array(second)

print third

[7, 9, 11, 13, 15] 
```

* * *

## 回答 #17

> 赞同：1
> 
> 时间：2017-12-27T05:06:18.410

```
j = min(len(l1), len(l2))
l3 = [l1[i]+l2[i] for i in range(j)] 
```

* * *

## 回答 #18

> 赞同：1
> 
> 时间：2017-07-05T11:49:23.800

```
 first = [1,2,3,4,5]
    second = [6,7,8,9,10]
    #one way
    third = [x + y for x, y in zip(first, second)]
    print("third" , third) 
    #otherway
    fourth = []
    for i,j in zip(first,second):
        global fourth
        fourth.append(i + j)
    print("fourth" , fourth )
#third [7, 9, 11, 13, 15]
#fourth [7, 9, 11, 13, 15] 
```

* * *

## 回答 #19

> 赞同：1
> 
> 时间：2016-09-23T19:18:03.187

这是另一种方法。我们利用python内部的__add__函数：

```
class SumList(object):
    def __init__(self, this_list):
        self.mylist = this_list

    def __add__(self, other):
        new_list = []
        zipped_list = zip(self.mylist, other.mylist)
        for item in zipped_list:
            new_list.append(item[0] + item[1])
        return SumList(new_list)

    def __repr__(self):
        return str(self.mylist)

list1 = SumList([1,2,3,4,5])
list2 = SumList([10,20,30,40,50])
sum_list1_list2 = list1 + list2
print(sum_list1_list2) 
```

**输出**

```
[11, 22, 33, 44, 55] 
```

* * *

## 回答 #20

> 赞同：0
> 
> 时间：2018-07-26T15:20:41.117

也许是最简单的方法：

```
first = [1,2,3,4,5]
second = [6,7,8,9,10]
three=[]

for i in range(0,5):
    three.append(first[i]+second[i])

print(three) 
```

* * *

## 回答 #21

> 赞同：-2
> 
> 时间：2012-12-27T11:52:39.723

您可以使用此方法，但仅当两个列表大小相同时才有效：

```
first = [1, 2, 3, 4, 5]
second = [6, 7, 8, 9, 10]
third = []

a = len(first)
b = int(0)
while True:
    x = first[b]
    y = second[b]
    ans = x + y
    third.append(ans)
    b = b + 1
    if b == a:
        break

print third 
```

# php - define('MENU_IS_ROOT', 0x0001) 和 define('MENU_IS_ROOT', 1) 有什么区别？

> ID：14050825
> 
> 赞同：3
> 
> 时间：2012-12-27T07:09:53.527
> 
> 标签：php, drupal

在 drupal|menu.inc 中，我发现常量是在 Hexadecimal 中定义的：

```
define('MENU_IS_ROOT', 0x0001) 
```

为什么不

```
define('MENU_IS_ROOT', 1) 
```

====================================

还有另一个代码片段：

```
define('MENU_VISIBLE_IN_BREADCRUMB', 0x0004);
define('MENU_SUGGESTED_ITEM', MENU_VISIBLE_IN_BREADCRUMB | 0x0010); 
```

是否等于 MENU_SUGGESTED_ITEM = MENU_VISIBLE_IN_BREADCRUMB = 16？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-27T07:28:38.387

它用于[按位运算](http://php.net/manual/en/language.operators.bitwise.php)

你可以这样做：

```
<?php

define("FLAG_ONE", 0x0001);
define("FLAG_TWO", 0x0002);
define("FLAG_THREE", 0x0004);
define("FLAG_FOUR", 0x0008);
define("FLAG_ALL", FLAG_ONE|FLAG_TWO|FLAG_THREE|FLAG_FOUR);

function make_waffles()
{
    echo 'Yummy! We Love Waffles!!!';
}

function do_something($flags)
{
    if ($flags & FLAG_TWO)
       make_waffles();
}

$flags |= FLAG_TWO;
do_something($flags);

?> 
```

顺便说一句，您可以检查此[答案](https://stackoverflow.com/questions/2447791/define-vs-const/3193704#3193704)以了解何时使用 const 或定义更好。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-27T07:28:03.157

十六进制常量通常用于位掩码。当您定义所有值时，可以很容易地查看位模式关系。

结果值是相同的，它只是使代码更易于阅读。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-27T09:43:04.057

> 为什么不`define('MENU_IS_ROOT', 1)`代替`define('MENU_IS_ROOT', 0x001)`？

那些是相同的；有些人只是喜欢十六进制值的想法。

> 是`define('MENU_SUGGESTED_ITEM', MENU_VISIBLE_IN_BREADCRUMB | 0x0010);`一样的`define('MENU_SUGGESTED_ITEM', 16);`吗？

不，`0x0004 | 0x0010`等于`4 | 16`which equals `20`。`|`当您查看二进制中的值时，更容易理解二进制或 ( ) 运算符：

```
0x0004 = 00000100
0x0010 = 00010000
         -------- OR
         00010100 = 0x0014 = 20 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-27T07:18:39.477

AFAIK，结果是一样的。
我认为这只是个人喜好问题！

# meteor - 捆绑 Meteor 时如何调试错误？

> ID：14050826
> 
> 赞同：1
> 
> 时间：2012-12-27T07:09:56.667
> 
> 标签：meteor

```
mrt bundle bundle.tgz

Errors prevented bundling:
Exception while bundling application:
RangeError: Maximum call stack size exceeded 
```

我的应用程序在开发模式下运行良好。几个月来，我也一直很好地捆绑和部署。2天前我开始收到这个错误。我在任何地方都看不到任何 javascript 错误。尝试捆绑时，我得到了这个。

我该如何调试？

编辑：我设法通过回滚 vcs 来解决这个问题，但仍然想要一些关于使用流星进行调试的技巧。

# html - 有没有办法将 html5 输出设置为默认值？

> ID：14050827
> 
> 赞同：1
> 
> 时间：2012-12-27T07:10:03.380
> 
> 标签：html, properties, range, onload, output

此代码似乎不起作用：

```
 <form onload= "x.value=parseInt(a.value)" oninput= "x.value = parseInt(a.value)" id="theinterval" >
    <input class='slidor' type="range" name="a" value="25">
    <h2><output name="x" for="a" ></output></h2>
    </form> 
```

我插入的附加属性是： onload="x.value=parseInt(a.value)" 但它根本没有帮助。

提前致谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-21T07:08:03.313

其惊人的简单：

```
<output name="x" for="a">25</output> 
```

自然地，它在 IE 中不受支持，所以你又回到了原点。适用于当前适用于 Windows 的 Chrome、Opera、Firefox 和 Safari。我想它也可以在 Mac 版 Safari 上运行，无论如何它比 Windows 版本早了几步，但我现在不打算对其进行测试。

不适用于 IE 8，“耶！”。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-27T08:06:22.573

表单标签没有任何 onload 属性。所以你需要使用它但不同的eay。您可以借助其他支持 onload 属性的 html 标签（例如：body、div 等）。

一种可能的解决方案是使用 body 标签的“onload”属性。它看起来像这样：

```
<body onload="o.value = parseInt(a.value)">

<form onsubmit="return true" oninput="o.value = parseInt(a.value)">
  <input id="a" type="range" step="any" value="25">

  <output id="o" name="o"></output>
</form>

</body> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-27T17:19:35.567

工作代码：

```
<form oninput= "x.value = a.valueAsNumber" id="theinterval" >
<input class='slidor' type="range" name="a" value="25">
<h2>
<output Class='outputo' name="x" for="a"></output>
<p> mins </p>
</h2>
</form>

<script>
;(function() {
$(".outputo").attr('value', $(".slidor").attr('value') )
})()
</script> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-09-16T14:02:49.543

```
<!DOCTYPE html>
<html lang="pt-br"> 
<head> 
  <meta charset="utf-8"> 
  <title>output</title>
  <script>
    window.onload = function() {
      var items = document.querySelectorAll("OUTPUT");
      for(var i = 0; i < items.length; i++) {
        items[i].defaultValue = 0;
      }
    }
  </script>
</head>
<body>
  <form oninput="x.value=parseInt(a.value)+parseInt(b.value)">
    <input type="number" id="a" value="0">+
    <input type="number" id="b" value="0">=
    <output id="out" name="x" for="a b"></output>
  </form>
</body>
</html> 
```

# php - 需要帮助制作正则表达式

> ID：14050830
> 
> 赞同：0
> 
> 时间：2012-12-27T07:10:28.020
> 
> 标签：php, regex

```
preg_match("/(11|10|12)([*0-9]+)/i", "11*&!@#") 
```

以上是我试过的。

我的要求是总共6个字符。

```
10****   
102***
1023**
10234*
102345 
```

前两个字符应该是 10 或 11 或 12，其余四个字符应该像上面的模式。

我怎样才能实现它？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-12-27T07:13:42.167

```
1[0-2][0-9*]{4} 
```

这应该满足您的要求：

*   `1`一开始
*   然后`0`或`1`或`2`
*   然后是一个数字或`*`, 四次

**编辑**

为了避免像你这样的输入，`102**5`你可以做更复杂的模式：

```
1[0-2](([*]{4})|([0-9][*]{3})|([0-9]{2}[*]{2})|([0-9]{3}[*])|([0-9]{4})) 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-12-27T07:13:35.863

像这样：

`#(10|11|12)([0-9]{4})#`

输出：

![在此处输入图像描述](../Images/26f6b3caa6f1418870b6da3950ccaf7b.png)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-27T13:03:12.580

怎么样：

```
^(?=.{6})1[0-2]\d{0,4}\**$ 
```

这将匹配您的所有示例，而不是匹配字符串，例如：

```
1*2*3* 
```

**解释：**

```
The regular expression:

(?-imsx:^(?=.{6})1[0-2]\d{0,4}\**$)

matches as follows:

NODE                     EXPLANATION
----------------------------------------------------------------------
(?-imsx:                 group, but do not capture (case-sensitive)
                         (with ^ and $ matching normally) (with . not
                         matching \n) (matching whitespace and #
                         normally):
----------------------------------------------------------------------
  ^                        the beginning of the string
----------------------------------------------------------------------
  (?=                      look ahead to see if there is:
----------------------------------------------------------------------
    .{6}                     any character except \n (6 times)
----------------------------------------------------------------------
  )                        end of look-ahead
----------------------------------------------------------------------
  1                        '1'
----------------------------------------------------------------------
  [0-2]                    any character of: '0' to '2'
----------------------------------------------------------------------
  \d{0,4}                  digits (0-9) (between 0 and 4 times
                           (matching the most amount possible))
----------------------------------------------------------------------
  \**                      '*' (0 or more times (matching the most
                           amount possible))
----------------------------------------------------------------------
  $                        before an optional \n, and the end of the
                           string
----------------------------------------------------------------------
)                        end of grouping
---------------------------------------------------------------------- 
```

# c++ - 它是 lcov 的错误还是对一个函数中的不同命中计数有意义？

> ID：14050831
> 
> 赞同：0
> 
> 时间：2012-12-27T07:10:31.470
> 
> 标签：c++, linux, code-coverage, gcov, lcov

```
 10 [ +  - ][ +  - ] :          2 : Conf::~Conf() {}
  11                 :            : 
  12                 :            : 
  13                 :          2 : Conf::Conf( std::string filename, std::string delimiter,
  14                 :            : std::string comment )
  15 [ +  - ][ +  - ]:          2 :: m_Delimiter(delimiter), m_Comment(comment)
  16                 :            : {
  17                 :            :         // Construct a Conf, getting keys and values from given file
  18                 :            : 
  19 [ +  - ][ +  - ]:          4 :         std::ifstream in( filename.c_str() );
             [ +  - ]
  20                 :            : 
  21 [ +  - ][ -  + ]:          2 :         if( !in ) throw File_not_found( filename ); 
             [ #  # ]
  22                 :            : 
  23         [ +  - ]:          2 :         in >> (*this);
  24                 :          2 : } 
```

代码覆盖率报告如上。对于 Conf 类，构造函数的命中数是 2，但是这一行的命中数`std::ifstream in( filename.c_str() );`是 4，我认为它也应该是 2。您如何看待此代码覆盖率报告中的不同命中数，这是一个错误`lcov`还是有意义的？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-28T23:47:38.090

看起来他们正在计算两件事（第 19 行有两行带方括号的行），并且计数必须向您显示这两个条目的总数。为什么编译器将行分成两部分？我不太确定。

最后，我实际上删除了分支计数功能以避免不得不处理它。对于像我这样的大型项目，它似乎没有用。也许这样做会消除这种副作用。

# iphone - 如何在 iphone 应用程序中使用不同的值刷新按钮单击视图

> ID：14050832
> 
> 赞同：1
> 
> 时间：2012-12-27T07:10:39.870
> 
> 标签：iphone, html, view

我正在 viewDidLoad 方法上创建一个视图，它可以找到，但是当我在按钮单击上添加具有不同 x 和 y 点的相同视图时，它不会刷新或工作它显示首先加载的原始视图，因此如何显示或刷新相同的视图与新点。

**在我看来确实加载了**

```
int height3=(int)roundf(appDelegate.Same_Vaccination_MildEI_Unvaccinated);

thirdView=[[UIView alloc] initWithFrame:CGRectMake(190,360,100,-height3)];

thirdView.backgroundColor=[UIColor colorWithRed:(102/255.f) green:(107/255.f) 

blue:(40/255.f) alpha:1];

[self.view addSubview:thirdView]; 
```

**再次点击按钮**

```
-(IBAction)showUpdates{

int height3=(int)roundf(appDelegate.Same_Vaccination_MildEI_Unvaccinated);

thirdView=[[UIView alloc] initWithFrame:CGRectMake(200,400,100,-height3)];

thirdView.backgroundColor=[UIColor colorWithRed:(102/255.f) 

green:(107/255.f) blue:(40/255.f) alpha:1];

[self.view addSubview:thirdView];

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-27T07:15:42.187

只需取 2 个不同的对象`UIView`。在`viewDidLoad:`方法中，用它的框架初始化两者。此外，将两个视图作为子视图添加到`self.view`.

现在，只需在`viewWillAppear:`方法中显示第一个视图。当用户单击按钮时，隐藏第一个视图并显示第二个视图。

希望您对要做什么有所了解。

干杯!

# python - 如何在python中对轮胎尺寸进行排序

> ID：14050840
> 
> 赞同：4
> 
> 时间：2012-12-27T07:11:17.833
> 
> 标签：python, list, sorting

我正在尝试从最小到最大对（字符串）轮胎尺寸列表进行排序。

```
['285/30/18',
 '285/30/19',
 '235/40/17',
 '315/25/19',
 '275/30/19'] 
```

应该排序为：

```
['235/40/17',
 '285/30/18',
 '315/25/19'
 '275/30/19',
 '285/30/19'] 
```

我基本上必须从右、中、左开始对字符串进行排序。

到目前为止我所拥有的（冒泡排序）：

```
# this sorts the first numbers on the right.
nums = list(ulst)
for i in range(len(nums)):
     for j in range(i+1, len(nums)):
         if ulst[j].split('/')[2] < ulst[i].split('/')[2]:
             ulst[j], ulst[i] = ulst[i], ulst[j] 
```

我现在必须在不弄乱右行排序的情况下对中间进行排序，然后对左行进行排序....

如何在不创建 for/if 嵌套混乱的情况下解决此问题？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-12-27T07:19:18.963

Python 有几个特性使这很容易做到。实际上，您可以在一个语句中完成所有操作：

```
sorted(nums, key=lambda x: tuple(reversed(list(map(int, x.split("/")))))) 
```

接受每个`x.split("/")`值并制作一个字符串列表：

```
["235", "40", "17"] 
```

Using`map(int, ...)`给出一个整数列表：

```
[235, 40, 17] 
```

`reversed()`扭转局面：

```
[17, 40, 235] 
```

并将`tuple()`其转换为元组：

```
(17, 40, 235) 
```

与其他类似的元组相比，它给出了您想要的排序顺序。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-27T07:18:59.963

一种方法是使用以下`value`函数构造排序键，该函数以正确的顺序考虑三个字段：

```
def value(s):
    arr = s.split('/')
    return arr[2] * 100000 + arr[1] * 1000 + arr[0]

ulst = ['285/30/18', '285/30/19', '235/40/17', '315/25/19', '275/30/19']

for i in range(len(ulst)):
     for j in range(i+1, len(ulst)):
         if value(ulst[j]) < value(ulst[i]):
             ulst[j], ulst[i] = ulst[i], ulst[j]

print ulst 
```

根据需要，其输出是：

```
['235/40/17', '285/30/18', '315/25/19', '275/30/19', '285/30/19'] 
```

如果您的轮胎尺寸是指定的 3/2/2 位数，这是一个相当安全的选择，这将正常工作 - 我从未见过低于 12 英寸的轮胎，而 100 英寸的轮胎可能太大而无法骑行:-)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-27T07:31:54.370

使用 、 和 的组合[`str.split`](http://docs.python.org/2/library/stdtypes.html#str.split)来[`reversed`](http://docs.python.org/2/library/functions.html#reversed)创建[`tuple`](http://docs.python.org/2/library/functions.html#tuple)与 一起使用的键函数`sorted`：

```
sizes = ['285/30/18',
         '285/30/19',
         '235/40/17',
         '315/25/19',
         '275/30/19']

s = sorted(sizes, key=lambda z: tuple(reversed([int(i) for i in z.split("/")]))) 
```

sorted 函数接受一个序列和一个 key 函数，并返回一个序列中的项目列表，该列表按 key 函数的返回值对列表中的每个项目进行排序。这个关键函数，`lambda z`首先将“/”字符上的项目拆分为一个字符串列表，然后将每个字符串转换为数字，然后将其传递给`reversed`函数，该函数给出传入序列的相反顺序的迭代器（注意：这还没有评估），并且该`tuple`函数评估反向迭代器，将其转换为可用于排序的序列。

因此，格式为“a/b/c”的字符串序列将按 (c, b, a) 排序返回。这导致：

```
>>> print s
['235/40/17', '285/30/18', '315/25/19', '275/30/19', '285/30/19'] 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-12-27T19:38:53.700

很多很好的答案。如果您这样做只是为了例如缘故或快速的一次性解析或家庭作业，那么它们都说明字符串处理/排序很好。但是，如果您真的要围绕轮胎管理构建一个真正的应用程序，我会考虑为您的轮胎制作一个真实的轮胎模型：

```
from ast import literal_eval
from operator import attrgetter

# Make a real object, because we can, and it's easy, and a real object is almost always better than abusing literal types
class Tire(object):
    def __init__(self, width = 0, profile = 0, radius = 0): #now we have meaningful names to our indexed fields
        self.width = width
        self.profile = profile
        self.radius = radius

    # let's encapsulate the '{width}/{profile}/{radius}' string representation
    # as an attribute so we can access/set it like the "real" attributes
    @property
    def description(self):
        return '{}/{}/{}'.format(self.width, self.profile, self.radius)

    @description.setter
    def description(self, string):
        self.width, self.profile, self.radius = map(literal_eval, string.split('/')) #ast.literal_eval() is safer than just eval()

    # let's make a class side instance creation method that can instantiate and set the description directly too
    @classmethod
    def fromDescription(me, descriptionString):
        newTire = me()
        newTire.description = descriptionString
        return newTire

#your original sample input     
descriptions = ['285/30/18', '285/30/19', '235/40/17', '315/25/19', '275/30/19']

#now lets make some real tire objects from those
tires = [Tire.fromDescription(each) for each in descriptions]

#make sure they still print
[print(each.description) for each in tires]

print('original sort')
[print(each.description) for each in sorted(tires, key = attrgetter('radius'))]

print('reversed original sort')
[print(each.description) for each in sorted(tires, key = attrgetter('radius'), reverse = True)]

print('width sort')
[print(each.description) for each in sorted(tires, key = attrgetter('width'), reverse = True)]

print('radius>>width>>profile sort')
[print(each.description) for each in sorted(tires, key = attrgetter('radius', 'width', 'profile'))] 
```

这种方法的价值希望在最后是显而易见的。我们预先付出更大的代价（就代码空间而言）来具体化轮胎对象。但是一旦有了，我们就可以开始疯狂地对它们进行各种排序。考虑到将字符串表示和所需的排序输出相结合的某些假设，最初提出的算法工作得很好。但是，如果您需要更改排序输出，根据最后一行（按字段 3、1、2 排序），那么方便的元组反向技巧将不再起作用。将“它是什么”与您将如何呈现（排序）分开会更好（IMO）。之后你可能会想到一些更聪明的事情来处理它们，而不仅仅是对它们进行排序。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-27T07:22:35.240

如果`/`s 的位置是恒定的，请尝试：

```
sorted(a, key=lambda x:x[-2:]+x[4:6]+x[:3]) 
```

[http://ideone.com/M6X6pW](http://ideone.com/M6X6pW)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-12-27T16:49:21.363

```
 python 3.2

    sorted(list1,key=lambda x:x[-2:]) 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-02-06T08:54:45.110

这个 Q/A 为我提供了解决我自己问题的指示 - 添加让其他人知道。
具有这种格式的 *nix 目录列表： `/home/0000/Maildir/<0-255>/<userdirs>`

0000 - 四位数的唯一提供商名称
<0-255> - 范围

列表大小从 3000 到 250000 项不等。

我需要在第四个字段上使用数字排序对列表进行排序，在每个项目中用“/”分隔

```
sorted(a, key=lambda y: int(y.split("/")[4])) 
```

# javascript - 使用 Javascript/Jquery 在桌面 Web 浏览器中禁用页面缩放

> ID：14050841
> 
> 赞同：4
> 
> 时间：2012-12-27T07:11:22.750
> 
> 标签：javascript, jquery, screen

> **可能重复：**
> [如何在所有现代浏览器中检测页面缩放级别？](https://stackoverflow.com/questions/1713771/how-to-detect-page-zoom-level-in-all-modern-browsers)

```
var obj=document.body;  // obj=element for example body
// bind mousewheel event on the mouseWheel function
if(obj.addEventListener)
{
    obj.addEventListener('DOMMouseScroll',mouseWheel,false);
    obj.addEventListener("mousewheel",mouseWheel,false);
}
else obj.onmousewheel=mouseWheel;

function mouseWheel(e)
{
    // disabling
    e=e?e:window.event;
    if(e.ctrlKey)
    {
        if(e.preventDefault) e.preventDefault();
        else e.returnValue=false;
        return false;
    }
} 
```

我正在开发一个网络应用程序，如果用户放大/缩小，所有 ui 元素的顺序都不会正确。那么，有没有什么办法可以预防呢？我已经想到了一些方法来做到这一点，但有可能吗？

1）获取用户的屏幕分辨率。当窗口大小发生变化（宽度或高度）时，将窗口宽度/高度返回到屏幕宽度/高度。

2) 将鼠标滚动事件或键盘事件绑定为空。（参考上面的演示代码），但是如果用户点击浏览器并选择放大怎么办？

谢谢

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-12-27T08:28:52.993

```
 var zoomlevel=1;

    $("body").dblclick(function(ev) {
        zoomlevel = zoomlevel == 1 ? 2 : 1;

        $(this).css({
            "-moz-transform":"scale("+zoomlevel+")",
            "-webkit-transform":"scale("+zoomlevel+")",
            "-o-transform":"scale("+zoomlevel+")",
            "-ms-transform":"scale("+zoomlevel+")"
        });

    }); 
```

# c++ - 函数 _main 中引用的未解析的外部符号“”

> ID：14050843
> 
> 赞同：0
> 
> 时间：2012-12-27T07:11:28.193
> 
> 标签：c++, visual-studio-2010

我在程序/游戏的主函数中调用的三个函数遇到问题：initEnemy、drawEnemy 和 updateEnemy。每个在运行时都会附加此错误：“错误 LNK2019：未解析的外部符号“...”在函数 _main 中引用”

函数调用在我的主函数中用红色下划线，当突出显示时说：“错误：多个重载函数实例“...”与参数列表匹配：”

如果有人可以帮助我了解问题所在，将不胜感激。谢谢你。

```
#include <allegro5\allegro.h>
#include <allegro5\allegro_primitives.h>
#include <allegro5\allegro_font.h>
#include <allegro5\allegro_ttf.h>
#include <allegro5\allegro_image.h>
#include <iostream>
#include <stdio.h>
#include "objects.h"
#include <cstdlib>
#include <random>
using namespace std;

//GLOBALS==============================
const int WINDOW_WIDTH = 1000;
const int WINDOW_HEIGHT = 675;
const int NUM_BULLET = 5;
const int NUM_ENEMY = 5;

enum STATE{TITLE, PLAYING, LOST};
enum KEYS{UP, DOWN, LEFT, RIGHT, SPACE, W, A, S, D};
bool keys[9] = {false, false, false, false, false, false, false, false, false};

int vx = 25;
int shipvy = 15;
int runnervy = 15;

int i;

int middleRect_x1 = 0;
int middleRect_x2 = WINDOW_WIDTH;
float middleRect_y1 = (WINDOW_HEIGHT / 2) - 40;
float middleRect_y2 = (WINDOW_HEIGHT / 2) + 40;

float minJumpThing = (WINDOW_HEIGHT - middleRect_y2) / 2;

int playerScore = 0;
int playerLives = 0;

//function prototypes

void initRunner(Runner &runner);
void minimumGravRunner(Runner &runner);
void drawRunner(Runner &runner);
void runnerJump(Runner &runner);
void runnerFall(Runner &runner);
void stopRunner(Runner &runner);

void initShip(Ship &ship);
void drawShip(Ship &ship);
void moveShipUp(Ship &ship);
void moveShipDown(Ship &ship);
void stopShipBrick(Ship &ship);
void stopShipWindow(Ship &ship);

void initBullet(Bullet bullet[], int bulletSize);
void drawBullet(Bullet bullet[], int bulletSize);
void fireBullet(Bullet bullet[], int bulletSize, Ship &ship);
void updateBullet(Bullet bullet[], int bulletSize);

void initEnemy(Enemy &enemy, int enemySize);
void drawEnemy(Enemy &enemy);
void updateEnemy(Bullet bullet[], int enemySize, Enemy &enemy);

int main(void)
{
    //primitive variable
    bool done = false;
    bool redraw = true;

    float gameTime = 0;
    int frames = 0;
    int gameFPS = 0;

    Ship ship;
    Runner runner;
    Bullet bullet[5];
    Enemy enemy;

    //object variables

    //Allegro variables
    ALLEGRO_DISPLAY *display = NULL;
    ALLEGRO_EVENT_QUEUE *event_queue = NULL;
    ALLEGRO_TIMER *timer = NULL;
    ALLEGRO_FONT *arial = NULL;
    ALLEGRO_FONT *dosapp = NULL;

    //Initialization Functions
    if(!al_init())                                      //initialize Allegro
        return -1;

    display = al_create_display(WINDOW_WIDTH, WINDOW_HEIGHT);           //create our display object

    if(!display)                                        //test display object
        return -1;

    al_init_primitives_addon();
    al_install_keyboard();
    al_init_font_addon();
    al_init_ttf_addon();
    al_init_image_addon();

    event_queue = al_create_event_queue();
    timer = al_create_timer(1.0 / 60);

    arial = al_load_font("arial.ttf", 18, 0);
    dosapp = al_load_font("dosapp.fon", 40, 0);

    initBullet(bullet,NUM_BULLET);
    initRunner(runner);
    initShip(ship);
    initEnemy(enemy, NUM_ENEMY);

    al_register_event_source(event_queue, al_get_keyboard_event_source());
    al_register_event_source(event_queue, al_get_timer_event_source(timer));
    al_register_event_source(event_queue, al_get_display_event_source(display));

    al_start_timer(timer);
    gameTime = al_current_time();
    while(!done)
    {
        ALLEGRO_EVENT ev;
        al_wait_for_event(event_queue, &ev);

        if(ev.type == ALLEGRO_EVENT_TIMER)
        {
            if(keys[UP])
            {
                runnerJump(runner);
            }
            if(runner.y1 <= middleRect_y2 - 10)
            {
                runnerFall(runner);
                keys[UP] = false;
            }
            if(!keys[UP])
            {
                if(runner.y1 < (WINDOW_HEIGHT - 40))
                    runnerFall(runner);
                else if(runner.y1 >= runner.minimumJump - 40 && runner.y2 >= runner.minimumJump &&
                    runner.y1 != (WINDOW_HEIGHT - 40) && runner.y2
                    != WINDOW_HEIGHT)
                {
                    keys[UP] = true;
                    runnerJump(runner);
                }
            }
            if(keys[W])
                moveShipUp(ship);
            if(keys[S])
                moveShipDown(ship);
            if(ship.y1 <= 0)
                stopShipWindow(ship);
            else if(ship.y2 >= middleRect_y1)
                stopShipBrick(ship);
            if(keys[SPACE])
                drawBullet(bullet,NUM_BULLET);

            updateBullet(bullet,NUM_BULLET);
            updateEnemy(bullet,NUM_ENEMY,enemy);
        }
        else if(ev.type == ALLEGRO_EVENT_DISPLAY_CLOSE)
        {
            done = true;
        }
        else if(ev.type == ALLEGRO_EVENT_KEY_DOWN)
        {
            switch(ev.keyboard.keycode)
            {
                case ALLEGRO_KEY_ESCAPE:
                    done = true;
                    break;
                case ALLEGRO_KEY_UP:
                    if(runner.y1 == (WINDOW_HEIGHT - 40) && runner.y2 == WINDOW_HEIGHT)
                        keys[UP] = true;
                    break;
                case ALLEGRO_KEY_DOWN:
                    keys[DOWN] = true;
                    break;
                case ALLEGRO_KEY_W:
                    keys[W] = true;
                    break;
                case ALLEGRO_KEY_S:
                    keys[S] = true;
                    break;
                case ALLEGRO_KEY_SPACE:
                    if(!bullet[i].live)
                    {
                        keys[SPACE] = true;
                        fireBullet(bullet, NUM_BULLET, ship);
                    }
                    break;
            }
        }
        else if(ev.type == ALLEGRO_EVENT_KEY_UP)
        {
            switch(ev.keyboard.keycode)
            {
                case ALLEGRO_KEY_ESCAPE:
                    done = true;
                    break;
                case ALLEGRO_KEY_UP:
                    //if(runner.y1 <= runner.minimumJump - 40 && runner.y2 <= runner.minimumJump)
                        keys[UP] = false;
                    break;
                case ALLEGRO_KEY_DOWN:
                    keys[DOWN] = false;
                    break;
                case ALLEGRO_KEY_W:
                    keys[W] = false;
                    break;
                case ALLEGRO_KEY_S:
                    keys[S] = false;
                    break;
                case ALLEGRO_KEY_SPACE:
                    keys[SPACE] = false;
                    break;
            }
        }
        if(redraw && al_is_event_queue_empty(event_queue))
        {
            al_draw_filled_rectangle(middleRect_x1, middleRect_y1, middleRect_x2, middleRect_y2, al_map_rgb(255,255,255));
            al_draw_textf(arial,al_map_rgb(0,0,0),WINDOW_WIDTH / 2, (WINDOW_HEIGHT / 2) - 20,ALLEGRO_ALIGN_CENTRE,"Score: %d",
                playerScore);
            al_draw_textf(arial,al_map_rgb(0,0,0),WINDOW_WIDTH / 2, (WINDOW_HEIGHT / 2) + 13,ALLEGRO_ALIGN_CENTRE,"Lives: %d",
                playerLives);
            drawShip(ship);
            drawRunner(runner);
            drawBullet(bullet,NUM_BULLET);
            if(enemy.live = true)
                drawEnemy(enemy);

            al_flip_display();
            al_clear_to_color(al_map_rgb(0,0,0));
        }
    }
    al_destroy_event_queue(event_queue);
    al_destroy_timer(timer);
    al_destroy_font(arial);
    al_destroy_font(dosapp);
    al_destroy_display(display);                        //destroy our display object

    return 0;
}

void initRunner(Runner &runner)
{
    runner.ID = RUNNER;
    runner.x1 = 10;
    runner.x2 = runner.x1 + 40;
    runner.y1 = WINDOW_HEIGHT - 40;
    runner.y2 = runner.y1 + 40;
    runner.minimumJump = (middleRect_y2 + minJumpThing) + 45;
}
void drawRunner(Runner &runner)
{
    al_draw_filled_rectangle(runner.x1,runner.y1,runner.x2,runner.y2, al_map_rgb(255,255,255));
}
void runnerJump(Runner &runner)
{
    runner.y1 -= runnervy;
    runner.y2 -= runnervy;
}
void runnerFall(Runner &runner)
{
    runner.y1 += runnervy;
    runner.y2 += runnervy;
}
void stopRunner(Runner &runner)
{
    runner.y1 = (WINDOW_HEIGHT - 40);
    runner.y2 = WINDOW_HEIGHT;
}
void initShip(Ship &ship)
{
    ship.ID = SHIP;
    ship.x1 = 10;
    ship.x2 = ship.x1;
    ship.x3 = ship.x1 + 40;
    ship.y1 = (WINDOW_HEIGHT / 2) / 4 + 50;
    ship.y2 = ship.y1 + 40;
    ship.y3 = ship.y1 + 20;
}
void drawShip(Ship &ship)
{
    al_draw_filled_triangle(ship.x1,ship.y1,ship.x2,ship.y2,ship.x3,ship.y3,al_map_rgb(255,255,255));
}
void moveShipUp(Ship &ship)
{
    ship.y1 -= shipvy;
    ship.y2 -= shipvy;
    ship.y3 -= shipvy;
}
void moveShipDown(Ship &ship)
{
    ship.y1 += shipvy;
    ship.y2 += shipvy;
    ship.y3 += shipvy;
}
void stopShipWindow(Ship &ship)
{
    ship.y1 = 0;
    ship.y2 = 40;
    ship.y3 = 20;
}
void stopShipBrick(Ship &ship)
{
    ship.y1 = middleRect_y1 - 40;
    ship.y2 = middleRect_y1;
    ship.y3 = middleRect_y1 - 20;
}
void initBullet(Bullet bullet[], int bulletSize)
{
    for(int i = 0; i < bulletSize; i++)
    {
        bullet[i].ID = BULLET;
        bullet[i].speed = 20;
        bullet[i].live = false;
        keys[SPACE] = false;
    }
}
void drawBullet(Bullet bullet[], int bulletSize)
{
    for(int i = 0; i < bulletSize; i++)
    {
        if(bullet[i].live)
        {
            al_draw_filled_circle(bullet[i].x,bullet[i].y,2,al_map_rgb(255,255,255));
            keys[SPACE] = false;
        }
    }
}
void fireBullet(Bullet bullet[], int bulletSize, Ship &ship)
{
    for(int i = 0; i < bulletSize; i++)
    {
        if(!bullet[i].live)
        {
            bullet[i].x = ship.x3;
            bullet[i].y = ship.y3;
            bullet[i].live = true;
            keys[SPACE] = false;
            break;
        }
    }
}
void updateBullet(Bullet bullet[], int bulletSize)
{
    for(int i = 0; i < bulletSize; i++)
    {
        if(bullet[i].live)
        {
            bullet[i].x += bullet[i].speed;
            if(bullet[i].x >= WINDOW_WIDTH)
                bullet[i].live = false;
        }
    }
}
void initEnemy(Enemy enemy, int enemySize)
{
    for(int i = 0; i < enemySize; i++)
    {
        std::default_random_engine y1_generator;
        std::uniform_int_distribution<int> y1_distribution(0,middleRect_y1);
        enemy.ID = ENEMY;
        enemy.live = true;
        enemy.x1 = WINDOW_WIDTH + 50;
        enemy.x2 = enemy.x1 + 40;
        enemy.y1 = y1_distribution(y1_generator);
        enemy.y2 = enemy.y1 + 40;
        enemy.speed = 20;
    }
}
void drawEnemy(Enemy enemy)
{
    al_draw_filled_rectangle(enemy.x1,enemy.y1,enemy.x2,enemy.y2,al_map_rgb(255,0,0));
}
void updateEnemy(Bullet bullet[], int enemySize, Enemy enemy)
{
    for(int i = 0; i < enemySize; i++)
    {
        if(enemy.live)
        {
            std::default_random_engine y1_generator;
            std::uniform_int_distribution<int> y1_distribution(0,middleRect_y1);
            enemy.x1 = WINDOW_WIDTH + 50;
            enemy.x2 = enemy.x1 + 40;
            enemy.y1 = y1_distribution(y1_generator);
            enemy.y2 = enemy.y1 + 40;
            enemy.x1 -= enemy.speed;
            enemy.x2 -= enemy.speed;
            if(bullet[i].x == enemy.x1 && bullet[i].x == enemy.x2 - 40 && bullet[i].y >= enemy.y1 && bullet[i].y <= enemy.y2)
                enemy.live = false;
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-27T07:18:57.977

发生这种情况是因为，正如@DCoder 所说，您转发声明具有稍微不同签名的函数作为您的定义。这导致编译器假设它们是两个不同的函数，因此出现错误。

更改如下定义以修复它。（基本上将所有`&`符号添加到`Enemy`您错过的变量中）

```
void initEnemy(Enemy& enemy, int enemySize)  
{

void drawEnemy(Enemy& enemy)
{

void updateEnemy(Bullet bullet[], int enemySize, Enemy& enemy)
{ 
```

# android - 为什么我们在使用 EditText 之后使用 String message = editText.getText().toString() editText = (EditText) findViewById(R.id.edit_message);

> ID：14050845
> 
> 赞同：-4
> 
> 时间：2012-12-27T07:11:32.187
> 
> 标签：android, android-edittext

我是android开发的新手。我正在学习 android 开发，这里给出了他们的一段代码

```
Intent intent = new Intent(this, DisplayMessageActivity.class);
EditText editText = (EditText) findViewById(R.id.edit_message);
String message = editText.getText().toString();
intent.putExtra(EXTRA_MESSAGE, message); 
```

我想知道为什么我们在使用 EditText 之后使用 String message = editText.getText().toString() editText = (EditText) findViewById(R.id.edit_message); EditText 返回什么？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-12-27T07:15:25.487

EditText的**getText()** *方法返回的是 Editable 的对象，而不是 String*（**要检索 EditText 的文本，**可以*使用 Editable 的 toString() ）。*

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-12-27T07:19:35.847

**使用 EditText editText = (EditText) findViewById(R.id.edit_message);**

此行将您的 xml editText 注册到类文件 editText。在开发应用程序时，设计在 xml 文件中完成，编码在 .class 文件中。

它在某个地方作为侦听器工作，就像你在editText中写一些东西一样，

```
Using EditText editText = (EditText) findViewById(R.id.edit_message); 
```

通过这一行，通知editText 被通知。

**注意：如果你直接`String message = editText.getText().toString()`不这样做，
`EditText editText = (EditText) findViewById(R.id.edit_message)` 你会得到 NullPointer 异常。**

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-27T07:17:10.393

众所周知，EditText 是一个用户可以编写或键入任何内容的空间，并且内容已以字符串格式存储。因此，为了从用户那里获取内容并存储它们，我们使用`String message = editText.getText().toString()`getText() 方法获取 editText 中的内容，然后 toString() 将其转换为字符串格式。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-27T07:15:44.830

在这里，我们正在获取`EditText`用于获取您输入的值的`EditText`..

并存储我们正在使用的值

```
String str=editText.getText().toString(); 
```

我希望你得到你的答案...

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-27T07:17:23.003

```
EditText editText = (EditText) findViewById(R.id.edit_message); 
```

这条线就像是获取`reference`到 Textview。通过仅使用参考，您可以在该 textview 上执行任何功能。

```
String message = editText.getText().toString(); 
```

获得参考后的这一行将 Text 设置为该 Textview（使用该参考）。

还有一个关于 android 基础的 GOOGLE 建议..

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-12-27T07:17:41.713

Edittext 返回用户输入的文本，该文本在获得可编辑对象后处于可编辑形式，您可以使用以下代码将可编辑转换为字符串并存储到字符串变量中。

```
String message = editText.getText().toString(); 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-12-27T07:18:58.967

```
EditText edt=(EditText)findViewById(R.id.yourid); 
```

它将您的 xml 编辑文本转换为 java EditText。完成此操作后，您只能使用

```
String gettStr=edt.getText().toString() 
```

# android - SharedPreferences - 不工作

> ID：14050847
> 
> 赞同：1
> 
> 时间：2012-12-27T07:11:43.843
> 
> 标签：android, android-activity, sharedpreferences

我正在使用 sharedpreference 来存储用户名。当我在我的活动中这样做时，它工作正常。但是当我传递给一个公共类（保存值）时，它会失败。你能指导我到我的代码需要更正的地方吗？提前致谢

```
public class Login extends Activity  implements OnClickListener{
String userId,password,userType,key="userId";  ;
EditText etName,etPassword,etUserType;
Button go; 
@Override
protected void onCreate(Bundle savedInstanceState) {
    // TODO Auto-generated method stub
    super.onCreate(savedInstanceState);
    requestWindowFeature(Window.FEATURE_NO_TITLE);
    getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);
    setContentView(R.layout.login);
    initialize();
}
private void initialize(){

    etUserType=(EditText) findViewById (R.id.etUserType);   
    etName=(EditText) findViewById (R.id.etName);
    etPassword=(EditText) findViewById (R.id.etPassword);    
    go = (Button) findViewById(R.id.bGo);
    go.setOnClickListener(this); 
}

@Override
public void onClick(View arg0) {
    // TODO Auto-generated method stub  
    userType=etUserType.getText().toString(); 
    userId=etName.getText().toString();
    password=etPassword.getText().toString();   

    if (userId.isEmpty() || password.isEmpty() ) { 
        Dialog d = new Dialog(this);
        d.setTitle("   Alert  ");
        TextView tv = new TextView(this);
        tv.setText("User Name and Password are mandatory");
        d.setContentView(tv);
        d.show();
    }else{

          StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();
          StrictMode.setThreadPolicy(policy);
          try {
            List<UserType> userType = PosClient.getUserTypes();
            User user = PosClient.getUser(userId, userType.get(0)); 
            LastUser lastUser = new LastUser();
            lastUser.saveUser(key, Integer.toString(user.getUserId()));  ()); 

            if  (password.equals(user.getPassword())){ 
                Intent sendBack = new Intent();
                Bundle backpack = new Bundle();
                backpack.putString("command", "proceed");  
                backpack.putSerializable("user", user);
                sendBack.putExtras(backpack);  
                setResult(RESULT_OK, sendBack);
                finish();
            }else{
                Dialog d = new Dialog(this);
                d.setTitle("   Alert  ");
                TextView tv = new TextView(this);
                tv.setText("User Name / Password is invalid");
                d.setContentView(tv);
                d.show();
            }
          } catch (ClientProtocolException e1) { 
              e1.printStackTrace();
          } catch (IOException e1) { 
              e1.printStackTrace();
          }

    }
}

public class LastUser extends Activity{
SharedPreferences file;
public static String filename = "MySharedFile";

public  String checkUser(){  
    file = getSharedPreferences(filename,0);
    String userName = file.getString("waitername", "NOID"); 
    return userName;
} 

public void saveUser(String key,String value) {  
    filename = "MySharedFile";
    file = getSharedPreferences(filename,0);
    SharedPreferences.Editor editor = file.edit();
    editor.putString(key,value);
    editor.commit();
}

} 
```

错误详情 ：

```
12-27 12:27:41.448: E/AndroidRuntime(2983): FATAL EXCEPTION: main
12-27 12:27:41.448: E/AndroidRuntime(2983): java.lang.NullPointerException
12-27 12:27:41.448: E/AndroidRuntime(2983):     at android.content.ContextWrapper.getSharedPreferences(ContextWrapper.java:153)
12-27 12:27:41.448: E/AndroidRuntime(2983):     at com.example.restaurent.LastUser.saveUser(LastUser.java:21)
12-27 12:27:41.448: E/AndroidRuntime(2983):     at com.example.restaurent.Login.onClick(Login.java:77)
12-27 12:27:41.448: E/AndroidRuntime(2983):     at android.view.View.performClick(View.java:3534)
12-27 12:27:41.448: E/AndroidRuntime(2983):     at android.view.View$PerformClick.run(View.java:14263)
12-27 12:27:41.448: E/AndroidRuntime(2983):     at android.os.Handler.handleCallback(Handler.java:605)
12-27 12:27:41.448: E/AndroidRuntime(2983):     at android.os.Handler.dispatchMessage(Handler.java:92)
12-27 12:27:41.448: E/AndroidRuntime(2983):     at android.os.Looper.loop(Looper.java:137)
12-27 12:27:41.448: E/AndroidRuntime(2983):     at android.app.ActivityThread.main(ActivityThread.java:4441)
12-27 12:27:41.448: E/AndroidRuntime(2983):     at java.lang.reflect.Method.invokeNative(Native Method)
12-27 12:27:41.448: E/AndroidRuntime(2983):     at java.lang.reflect.Method.invoke(Method.java:511)
12-27 12:27:41.448: E/AndroidRuntime(2983):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
12-27 12:27:41.448: E/AndroidRuntime(2983):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)
12-27 12:27:41.448: E/AndroidRuntime(2983):     at dalvik.system.NativeStart.main(Native Method) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-27T07:27:26.527

使用以下代码将价值存储到共享偏好中并从共享偏好中获取价值，它将解决您的问题。

将价值存储到共享偏好中。

```
SharedPreferences myPrefs = this.getSharedPreferences("myPrefs", MODE_WORLD_READABLE);
SharedPreferences.Editor prefsEditor = myPrefs.edit();
prefsEditor.putString("Value", "Dipak Keshariya");
prefsEditor.commit(); 
```

从共享偏好中获取价值。

```
SharedPreferences myPrefs = this.getSharedPreferences("myPrefs", MODE_WORLD_READABLE);
String mValue = myPrefs.getString("Value"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-27T07:16:07.060

这里

```
public class LastUser extends Activity{         //<<<<<<<<
SharedPreferences file;
public static String filename = "MySharedFile";
  // your code here
} 
```

您正在尝试创建 Activity 类的实例以从其他 Activty 访问方法，这是不正确的方法。将您的代码更改为：

```
public class LastUser {
SharedPreferences file;
public static String filename = "MySharedFile";

public  String checkUser(Context context){  
    file = context.getSharedPreferences(filename,0);
    String userName = file.getString("waitername", "NOID"); 
    return userName;
} 

public void saveUser(String key,String value,Context context) {  
    filename = "MySharedFile";
    file = context.getSharedPreferences(filename,0);
    SharedPreferences.Editor editor = file.edit();
    editor.putString(key,value);
    editor.commit();
} 
```

}

现在从 Activity 创建 SharedPreferences 只需将 Activity 上下文传递给方法：

```
 LastUser lastUser = new LastUser();
 lastUser.saveUser(key, Integer.toString(user.getUserId()),Login.this); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-27T07:16:31.063

您无法`getSharedPreference()`从尚未开始的活动中获取信息。我建议您将`checkUser()`和`saveUser()`代码也放在登录活动中并完全删除 LastUser 活动。

您还错误地理解了 Activity 概念。Activity 不像任何其他 Java 类，它应该只处理 UI，因为支持对象使用 POJO。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-27T07:21:11.627

请在您的代码中放置以下一个

```
 SharedPreferences file=null;
 file= PreferenceManager.getDefaultSharedPreferences(this); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-27T07:21:15.223

用这个，

```
file = this.getSharedPreferences(filename,0); 
```

代替，

```
file = getSharedPreferences(filename,0); 
```

谢谢。

# ios5 - 它不能在插入数据库中工作

> ID：14050854
> 
> 赞同：0
> 
> 时间：2012-12-27T07:12:39.017
> 
> 标签：ios5, sqlite, xcode4.5

在这里我优化了以下代码，我得到了完美的数据库路径意味着 NSLog(@"in save data::%s",dbasePath); 但之后如果条件代码无法优化

```
-(void)saveData{
    sqlite3_stmt *statment;
    dirPath=NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
    docsDir=[dirPath objectAtIndex:0];
    const char *dbasePath=[dbPath UTF8String];
    NSLog(@"in save data::%s",dbasePath);

    if (sqlite3_open(dbasePath, &sqlDatabase)) {
        NSString *insert_query=[NSString stringWithFormat:@"INSERT INTO PRJDATA VALUES(\"%@\",\"%@\"\"%@\",\"%@\",\"%@\",\"%@\",\"%@\")",title,timeGet1.text,timeGet2.text,timeGet3.text,dateField.text,interval1.text,interval2.text];
        NSLog(@"query string::%@",insert_query);
        const char *insert_stmt=[insert_query UTF8String];
        NSLog(@"error in insert::%s",sqlite3_errmsg(sqlDatabase));
        sqlite3_prepare_v2(sqlDatabase, insert_stmt, -1, &statment, NULL);
        if (sqlite3_step(statment)==SQLITE_DONE) {
            status.text=@"content added";
            timeGet1.text=@"";
            timeGet2.text=@"";
            timeGet3.text=@"";
            dateField.text=@"";
            interval1.text=@"";
            interval2.text=@"";

        }
        else{
            status.text=@"failed to add";
        }
        sqlite3_finalize(statment);
        sqlite3_close(sqlDatabase);

    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-27T07:29:19.643

几个想法：

1.  为什么要设置`dirPath`，`docsDir`如果您`dbasePath`不使用它们？这就是 uses `dbPath`，您可能打算基于 来定义它`docsDir`，但您没有在此处定义任何地方。

2.  另外，您能否向我们展示`NSLog`您的代码示例的结果？只需相应地更新您的问题。这样做没有意义，`NSLog`但不与我们分享。

3.  正如我在另一个答案中所建议的那样，每当您遇到错误时，请显示`sqlite3_errmsg`，因为这会告诉您出了什么问题。为什么要猜测什么时候可以让 SQLite 告诉你出了什么问题？如果你不显示`sqlite3_errmsg`结果，你就会把自己逼疯。

4.  你`VALUES`在你的`INSERT`陈述中是否反映了表格的所有列？如果不是，您应该更改您的`INSERT`语句以包含与您的值对应的列的名称，例如

    > ```
    > INSERT INTO TABLE1 (COL1, COL2, COL3) VALUES ("VALUE1", "VALUE2", "VALUE3"); 
    > ```

5.  你真的不应该`INSERT`使用`stringWithFormat`. 您应该使用`?`占位符，然后使用`sqlite3_bind_`函数。有关函数示例，请参见[执行“END”时锁定的 Sqlite 数据库](https://stackoverflow.com/questions/13629290/sqlite-database-locked-when-executing-end/13632096#13632096)`sqlite3_bind`（忽略问题，但只需查看`sqlite3_bind`代码示例中的语句）。这使您不必处理奇怪的异常，例如如果`title`字段中有双引号......这会破坏您当前的例程。它还可以保护您免受 SQL 注入攻击。这只是谨慎。

# excel - 两个时间值相加会弹出不需要的持续时间

> ID：14050861
> 
> 赞同：0
> 
> 时间：2012-12-27T07:13:13.820
> 
> 标签：excel, vbscript, vba

我刚刚写了一个代码来查看两个格式的持续时间的添加`hh:mm:ss`；但没有得到我正在寻找的那个。

**代码**

```
Option Explicit

Dim v1 : v1 = #20:20:10#
Dim v2 : v2 = #20:20:10#

MsgBox (v1 + v2) 
```

**输出**作为`12/31/1899 4:40:20 PM`

你能在这里指导我吗？

**更新**

**代码**

```
Option Explicit

Dim V1 : v1 = #20:20:10#
Dim V2 : v2 = #20:42:10#

MsgBox (Hour(V1) + Hour(V2)) & ":" & Minute(V1) + Minute(V2) & ":" & Second(V1) + Second(V2) 
```

**输出**为`40:62:20`

![不受欢迎的](../Images/60a5d2e06b1a2dbe2ad2f61be0352b46.png)

**更新代码**

```
SumDate = "00:00:00" 

For IndexSearch = 0 To ArrayListTaskDetails.Count - 1 Step 4

dt1 = ArrayListTaskDetails(IndexSearch + 3)         
SumDate = TimeAdd(dt1,SumDate)

Loop

Function TimeAdd(dt1,dt2)

If (IsDate(dt1) And IsDate(dt2)) = False Then
TimeAdd = "00:00:00"
Exit Function
End If

TimeAdd = Hour(dt1)+Hour(dt2) & ":" & Minute(dt1)+Minute(dt2) & ":" & Second(dt1)+Second(dt2)
End Function 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-27T07:26:26.663

您可以使用`TimeValue`返回包含时间的子类型 Date 的 Variant 的函数。

```
 Option Explicit

Dim v1 : v1 = #20:20:10#
Dim v2 : v2 = #20:20:10#

MsgBox (TimeValue(v1 + v2)) 
```

**编辑：-**

AFAIK，即使您使用`FormatDateTime(date,format)`格式，也没有直接的方法来进行这种添加`vbLongTime`您必须使用添加和打印小时数的正常逻辑，然后是分钟和秒，如下面的代码

```
 Option Explicit 
  Dim v1 : v1 = #20:20:10#
  Dim v2 : v2 = #20:20:10#
  Msgbox Hour(v1)+Hour(v1)&":"&Minute(v1)+Minute(v2)&":"&Second(v1)+Second(v2) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-27T19:17:40.467

现在分钟和秒被标准化：

```
Sub SummingTimes()

  Dim v1: v1 = #8:32:33 PM#
  Dim v2: v2 = #8:32:33 PM#
  Dim hours As Variant
  Dim minutes As Variant
  Dim seconds As Variant
  Dim timetext As String

     seconds = Second(v1) + Second(v2)
      minutes = Int(seconds / 60)
       seconds = seconds - minutes * 60
        minutes = minutes + Minute(v1) + Minute(v2)
       hours = Int(minutes / 60)
      minutes = minutes - hours * 60
     hours = hours + Hour(v1) + Hour(v2)
   timetext = hours & ":" & minutes & ":" & seconds
  MsgBox timetext

End Sub 
```

消息框显示`41:5:6`。如果要获取`41:05:06`，则需要进行一些字符串操作。Excel 电子表格：[http ://www.bumpclub.ee/~jyri_r/Excel/Summing_hh-mm-ss.xls](http://www.bumpclub.ee/~jyri_r/Excel/Summing_hh-mm-ss.xls)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-27T08:17:45.707

Excel 中的日期在内部存储为自 1900 年 1 月 1 日以来的天数。
因此 1 天 = 1。
因此 1 小时 = 1/24。
按照这个逻辑，20 小时 + 20 小时返回一个日期，我预计它是 1900 年 1 月 2 日下午 4 点（40-24 点）。
我不是 VbScript 专家，但在 VBA 中，您可以使用自定义格式来解决问题：
`MsgBox Format(v1 + v2, "[hh]:mm")`
hh 周围的 [] 强制将小时显示的值应用于整个值，而不仅仅是小数部分。

另一种解决方案是将时间值乘以 24。这将返回“十进制小时”。
`MsgBox (#20:00# + #20:30#)*24`如您所料，返回 40.5。

# javascript - 如何在 textarea 中动态应用嵌套的基础语言？

> ID：14050863
> 
> 赞同：7
> 
> 时间：2012-12-27T07:13:16.660
> 
> 标签：javascript, html, css, standards, multilingual

我正在寻找将 rtl 和 ltr 语言放在一个文本区域中的最优雅的解决方案：例如，将阿拉伯语和 html 放在一起。

[标准](http://www.w3.org/TR/i18n-html-tech-bidi/#ri20030218.135304584)说不要使用 css 创建它：

```
direction: rtl;
unicode-bidi: embed; 
```

无论如何，这对我不起作用，因为 html 存在嵌套文本问题。阿拉伯语向右对齐，但 html 已损坏。

有没有办法动态地做到这一点？该标准想要添加一个嵌套的跨度标签，但由于用户正在动态输入它，我不知道如果不检测每个字符的结尾，这是怎么可能的。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-12-27T08:27:12.293

由于 a 的内容`textarea`被视为纯文本，因此您不能在其中使用任何`span`标记或任何其他标记，并且您不能将其任何部分的样式设置为与其余部分不同（第一行或第一个字符除外，使用伪元素）。

但是，在纯文本级别，可以使用控制字符强制执行双向嵌入。假设你`direction: rtl`对整个元素进行设置（期望用户以从右到左的语言输入数据），用户可以输入 U+202A LEFT-TO-RIGHT EMBEDDING 来输入从左到右的文本，例如英语或 HTML标记，然后通过键入 U+202C POP DIRECTIONAL FORMATTING 结束此操作，返回从右到左模式。

由于大多数人不知道如何方便地输入这些字符，如果有的话，您可以在页面上为它们设置按钮：

```
<textarea id=msg name=msg rows=10 cols=40>
</textarea>
<br>
<button type=button onclick="append('\u202A')">→&lt;/button>
<button type=button onclick="append('\u202C')">←&lt;/button>
<script>
var msg = document.getElementById('msg');
function append(ch) {
  msg.innerHTML += ch;
  msg.focus();
}
</script> 
```

# ios6 - 如何在 iOS 6 中调整 Autororation？

> ID：14050869
> 
> 赞同：2
> 
> 时间：2012-12-27T07:13:58.467
> 
> 标签：ios6

iOS 6 中的尺寸检查器菜单已更改。如何完成与 iOS 5 中相同的工作？我在屏幕上画了 4 个按钮

UL UR

LR

LL LR

我的目标是即使我旋转按钮的屏幕方向位置也不应该移位。

# java - JSF 重定向在过滤器中导致异常

> ID：14050882
> 
> 赞同：0
> 
> 时间：2012-12-27T07:14:49.427
> 
> 标签：java, jsf-2, servlet-filters

我已经为我想要保护的任何页面配置了一个身份验证过滤器。但是，当它尝试重定向到登录页面时，我遇到以下错误

```
com.sun.faces.context.FacesFileNotFoundException 
```

..这是我的过滤器

```
@WebFilter(filterName = "Authentication Filter", urlPatterns = { "/pages/*" }, dispatcherTypes = {
        DispatcherType.REQUEST, DispatcherType.FORWARD })
public class AuthenticationFilter implements Filter {
    static final Logger logger = Logger.getLogger(AuthenticationFilter.class);
    private String contextPath;

    public void doFilter(ServletRequest request, ServletResponse response,
            FilterChain chain) throws IOException, ServletException {
        HttpServletRequest httpRequest = (HttpServletRequest) request;
        HttpServletResponse httpResponse = (HttpServletResponse) response;

        if (httpRequest.getUserPrincipal() == null) {
            httpResponse.sendRedirect(contextPath
                    + "/faces/pages/public/login.xhtml");
            return;
        }
        chain.doFilter(request, response);
    }
    public void init(FilterConfig fConfig) throws ServletException {
        contextPath = fConfig.getServletContext().getContextPath();
    }
} 
```

..我的 web.xml 被映射到 faces servlet 的这个代码

```
<servlet>
    <servlet-name>Faces Servlet</servlet-name>
    <servlet-class>javax.faces.webapp.FacesServlet</servlet-class>
    <load-on-startup>1</load-on-startup>
</servlet>
<servlet-mapping>
    <servlet-name>Faces Servlet</servlet-name>
    <url-pattern>*.xhtml</url-pattern>
</servlet-mapping> 
```

不确定，但我已验证该路径存在于我的项目文件夹中

```
+pages
    +public
        -login.xhtml 
```

生成的路径是

```
http://localhost:8080/MyApp/faces/pages/public/login.xhtml 
```

有人知道原因吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-27T08:52:36.990

异常表明 JSF 无法定位视图。您的项目是否具有以下目录结构：`contextRoot/faces/pages/public/login.xhtml`？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-27T09:42:30.290

`/faces`路径前缀通常由一些 IDE（即 NetBeans）默认添加到 faces url-pattern。您可能已经从 web.xml 更改了它，但您还没有从过滤器 sendRedirect 参数中删除它。

为了使您的过滤器正常工作，请从过滤器中的方法中删除`/faces`前缀`sendRedirect()`：

```
httpResponse.sendRedirect(contextPath + "/pages/public/login.xhtml"); 
```

或将其添加到 web.xml 中：

```
<servlet-mapping>
    <servlet-name>Faces Servlet</servlet-name>
    <url-pattern>/faces/*</url-pattern>
</servlet-mapping> 
```

最后，请注意您的过滤器不会导致无限循环。在重定向之前添加此检查可能很有用：

```
HttpServletRequest req = (HttpServletRequest) request;
if (!req.getRequestURI().contains("/pages/public/login.xhtml") && httpRequest.getUserPrincipal() == null) {
        // redirect
        return;
    } 
```

# jquery - 无效格式问题

> ID：14050884
> 
> 赞同：1
> 
> 时间：2012-12-27T07:15:05.243
> 
> 标签：jquery, html, css

我这里有一个 jsFiddle，请在 Internet Explorer 和其他主要浏览器中打开：

[http://jsfiddle.net/7sARw/47/](http://jsfiddle.net/7sARw/47/)

现在在 jsFiddle 中，只需单击“添加问题”按钮，它就会在下面添加一行。在该行中，它显示 2 行字母按钮（每行包含 7 个字母按钮）和两个按钮，一个称为“选择所有答案”，另一个称为“删除所有答案”。

现在在主要浏览器中，按钮在表格中居中，这很好。但是在 Internet Explorer 中它不是居中的，它仍然是向左对齐的。现在我相信它这样做的原因是因为附加行时 HTML 的格式化方式：这似乎是这样的：

```
<tr><td><div><tr><td></td></tr></div></td></tr> 
```

我的问题是，如何**更改 HTML 的格式以**使其有效，但也能够在 Internet Explorer 的附加行中将所有内容居中？

下面是代码的 CSS 和 jQuery/HTML：

```
.answer { 
    min-width:100%;
    max-width:100%;
    padding-top:5%;
    padding-bottom:5%;
     }

.answerBtnsRow{
    background-color: #ffffff;
    border: #666666 1px solid;
    color: black;
    font-weight:bold;
    display:none;
    cursor:pointer;
    font-size:85%;    
    }    

    .allBtnsRow{
        text-align:center;
        cursor:pointer;
        font-size:85%;  
    }

    .allRemoveBtnsRow{
        text-align:center;
        cursor:pointer;
        font-size:85%;  
    } 
```

下面是 Jquery/HTML 代码：

```
function insertQuestion(form) {

    var context = $('#optionAndAnswer');
    var currenttotal = context.find('.answerBtnsOn').length;

    var $tbody = $('#qandatbl > tbody');
    var $tr = $("<tr class='optionAndAnswer' align='center'>");
    var $td = $("<td class='extratd'>");
    var $answer = $("<div class='answer'>3\. Answer:<br/></div>");
    var $questionType = '';

    gQuestionIndex++;

    var $this, i = 0,
        $row, $cell;
    $('#optionAndAnswer .answers').each(function() {
        $this = $(this);
        if (i % 7 == 0) {
            $row = $("<tr/>").appendTo($answer);
            $cell = $("<td/>").appendTo($row);
        }
        var $newBtn = $(("<input class='answerBtnsRow answers' type='button' style='display:%s;' onclick='btnclick(this, " + gQuestionIndex + ");' />").replace('%s', $this.is(':visible') ? 'inline-block' : 'none')).attr('name', "value[" + gQuestionIndex + "][]").attr('value', $this.val()).attr('class', $this.attr('class')).attr('id', $this.attr('id') + 'Row');
        $newBtn.appendTo($cell);

        i++;
    });    var $this = $(this);
    var $BtnsClass = '';

    $row = $("<tr/>").appendTo($answer);
    $cell = $("<td/>").appendTo($row);

    if ($questionType == 'True or False' || $questionType == 'Yes or No') {
        $BtnsClass = $("<input class='allBtnsRow btnsAll' type='button' style='display: none;' value='Select All Answers' onClick='selectAll(this);' /><input class='allRemoveBtnsRow btnsRemove' type='button' style='display: none;' value='Remove All Answers' onClick='removeAll(this);' />");
    } else {
        $BtnsClass = $("<input class='allBtnsRow btnsAll' type='button' value='Select All Answers' onClick='selectAll(this);' /><br/><input class='allRemoveBtnsRow btnsRemove' type='button' value='Remove All Answers' onClick='removeAll(this);' />");
    }
    $BtnsClass.appendTo($cell);

    $tr.append($td);
    $td.append($answer);
    $tbody.append($tr);

    count++;
    $('#optionAndAnswer .answerBtns').hide();

    updateAnswer($answer, gQuestionIndex);

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-27T07:31:38.740

制作`<div class='answer'>`一张桌子。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-27T07:31:48.297

```
var $td = $("<td class='extratd'>");
var $answer = $("<div class='answer'>3\. Answer:<br/></div>"); 
```

应该是

```
var $td = $("<td class='extratd' />3\. Answer:<br/></td>");
var $answer = $("<table class='answer'><tbody></tbody></table>"); 
```

或者

```
$cell = $("<td>3\. Answer<br/></td>").appendTo($row); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-27T08:04:22.807

与其他浏览器相比，您在 Internet Explorer 的 DOM 解析中偶尔会遇到一些一般性的不一致。我建议先尝试一些事情，主要是向所有容器类添加宽度样式。不确定 IE 9 是否在常见标签上默认为 100% 宽度，或者仍然像内联块一样做出反应，但这有时是个问题。

我也同意您不应该在表格中的一行内的 div 内有一行。您应该按照 mplungjan 的建议进行操作，并生成一个完整的表来代替 div 和 new tr。

# jira - JIRA (TEMPO) - 注册截止日期

> ID：14050889
> 
> 赞同：1
> 
> 时间：2012-12-27T07:15:24.440
> 
> 标签：jira, jira-plugin

有人可以向我解释如何使用此功能吗？

Tempo 在三天后关闭注册，我想将其扩展到 14 天。但是，我不知道该怎么做。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-27T14:00:18.953

1.  打开管理。
2.  转到速度部分
3.  转到调度程序子部分
4.  那里有一个带有“操作”行的解释表。点击“编辑”链接

**恭喜您现在处于最令人困惑的 JIRA 配置部分之一！:D**

所以在你的情况下：

*   设置**类型**做双周。
*   将**（每周）重复**设置到星期五。
*   设置**接近**1（结束日期后的工作日）
*   **为所有用户**和**迟到用户**设置状态提醒。
*   **将向迟到的用户发送电子邮件**设置为 X 小时（关闭前）。X 应该是您喜欢的值。
*   选中**激活此调度程序**复选框以激活设置。
*   **节省**

现在您的月经将每两周关闭一次。有关详细信息，请参阅[调度程序](http://wiki.tempoplugin.com/display/TEMPO/Configuring+Tempo+Scheduler)和[PeriodManagement](http://wiki.tempoplugin.com/display/TEMPO/Period+Management)上的 Tempo 文档。

还有[GracePeriods](http://wiki.tempoplugin.com/display/TEMPO/Grace+Periods)的主题。所以这意味着

> 如果调度程序已为用户关闭了一段时间并且某些用户尚未完成他们的时间表，则**Tempo 管理员可以从“**[团队时间表](http://wiki.tempoplugin.com/display/TEMPO/Team+Timesheet)”和“项目”中的“用户操作”列表中授予用户任意长度的“宽限期”时间表'。

[我提供的Tempo 文档链接](http://wiki.tempoplugin.com/display/TEMPO/Grace+Periods)中很好地解释了如何使用它。

# ios - 输入邮件消息时隐藏键盘

> ID：14050905
> 
> 赞同：0
> 
> 时间：2012-12-27T07:16:21.407
> 
> 标签：ios

在邮件正文中写入文本后，是否有任何方法可以隐藏键盘编程（如完成按钮）

# entity - Finder 方法不返回 EJB 2.1 中的最新记录

> ID：14050908
> 
> 赞同：1
> 
> 时间：2012-12-27T07:16:29.683
> 
> 标签：entity

我正在使用 EJB 2.1，但遇到了一个问题。

有一种方法可以调用存储过程来更新数据库中的特定记录（主键是“id”），一旦执行该过程，我就会调用 findByPrimaryKey(id) 来获取相同的记录。

这两个调用都在一个方法中。

我面临的问题是我正在使用 findByPrimaryKey(id) 获取旧记录（不是更新的记录）。但我想要更新的记录。

我了解可能是交易未完成，因此查找者提供旧记录。但我需要这个来让它工作。请帮忙。

# java - 如何使用枚举？

> ID：14050913
> 
> 赞同：-2
> 
> 时间：2012-12-27T07:16:51.773
> 
> 标签：java, android, enums

我正在为应用程序编写代码。但我收到以下错误。

我正在发布屏幕截图。请帮我解决错误。

![在此处输入图像描述](../Images/4d4c1cf7adf5361bad3b6b7df518096a.png)

错误出现在我使用枚举的部分。

```
public static enum Mode
  {
    static
    {
      CORRECT = new Mode("CORRECT", 2);
      Mode[] arrayOfMode = new Mode[3];
      arrayOfMode[0] = NO_ASYNC_TASK;
      arrayOfMode[1] = NO_DOWNLOADED_DRAWABLE;
      arrayOfMode[2] = CORRECT;
    }
  } 
```

谢谢大家的回答。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-12-27T07:19:41.907

将枚举声明为

```
public static enum MODE
{
    NO_ASYNC_TASK,
    NO_DOWNLOADED_DRAWABLE,
    CORRECT
}; 
```

并以下列方式使用枚举

```
MODE.NO_ASYNC_TASK 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-12-27T07:25:32.390

您的定义需要一些增强。首先，没有必要将枚举定义为静态的。此外，您需要将所有枚举放在一个特定的独立类中，而不是与其他类一起，这将使您的解决方案更有条理。此外，“静态”是该语言的保留关键字，因此无需对内部块使用静态。

您可以定义带有或不带有整数值的枚举，如下所示：

```
public enum Mode
{
    NO_ASYNC_TASK,
    NO_DOWNLOADED_DRAWABLE,
    CORRECT
} 
```

或者

```
public enum Mode
{
    NO_ASYNC_TASK(1),
    NO_DOWNLOADED_DRAWABLE(2),
    CORRECT(3);

    private final int id;
    Mode(int id) { this.id = id; }
    public int getValue() { return id; }
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-12-27T07:22:03.257

`static`从枚举定义中删除修饰符或将您的枚举放入其他类中

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-12-27T07:22:06.177

从同一类的枚举声明中删除“public”，因为在一个 java 文件中必须只有一个 public 类和“static”。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-12-27T07:23:08.000

枚举通常在使用常量时使用，充当常量的类型。

而不是说：

```
public static final int MALE = 1;
public static final int FEMALE = 2; 
```

你可以说

```
 public enum Gender {
     MALE, FEMALE;
   } 
```

并将它们称为`Gender.MALE`和`Gender.FEMALE`。

没有枚举，方法`setGender`需要接受一个`int`（在上面的例子中），我可以传递除 1 或 2 以外的任何东西。然后，那里的代码需要检查传递的 int 是否映射到常量等。`Enums`提供一个干净的在这种情况下简单的方法。

# winapi - HBITMAP 到 BITMAP 转换

> ID：14050919
> 
> 赞同：8
> 
> 时间：2012-12-27T07:17:26.073
> 
> 标签：winapi, bitmap

无法理解这段代码有什么问题：

```
HBITMAP bm = 0; 
BITMAP Bitmap;
bm = (HBITMAP)LoadImage (0, path, IMAGE_BITMAP, 0, 0, LR_LOADFROMFILE);
int error = GetObject( &Bitmap, sizeof( BITMAP  ), &bm ); 
```

LoadImage 函数返回非空指针。但是 GetObject 返回 0，表示出错。我想从 HBITMAP 指针获取大小信息和图像数据（指针可以作为参数传递，所以我无法更改加载位图文件的方式）。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-12-27T07:24:25.997

也许将参数放在正确的位置会有所帮助：

```
HBITMAP bm = 0; 
BITMAP Bitmap;
bm = (HBITMAP)LoadImage (0, path, IMAGE_BITMAP, 0, 0, LR_LOADFROMFILE);
int error = GetObject( bm, sizeof( BITMAP ), &Bitmap ); // << NOTE ORDERING 
```

[`GetObject()`](http://msdn.microsoft.com/en-us/library/dd144904%28v=VS.85%29.aspx)有关更多信息，请参阅文档。

# html - 固定页面上的正文高度，CSS 似乎没问题

> ID：14050930
> 
> 赞同：1
> 
> 时间：2012-12-27T07:18:45.543
> 
> 标签：html, css, height

我网站上的[投资组合页面](http://scotthsmith.com/portfolio/)似乎有一个 body 元素，其高度约为 86 像素左右。我已经搜索了 HTML 和 CSS，看看可能是什么问题，却空手而归。似乎没有任何东西可以设置身体的高度，尽管元素在它之外显示得很好。我宁愿不使用 body `{height: 100%;}`。感谢您为我调查此事。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-27T07:34:30.173

顶部没有`<HTML>`或标签`</HEAD>`

编辑：`doctype`你在那里也有问题。删除它似乎可以解决你的问题。

# asp.net - N 层开发标准

> ID：14050931
> 
> 赞同：-1
> 
> 时间：2012-12-27T07:18:47.077
> 
> 标签：asp.net, vb.net, n-tier-architecture

是 n 层开发的新用户，我想知道如何确定要使用的层数？我知道 DAL 和 BLL 的结构和划分，但有些用户可能会将他们的项目划分为更多层，这取决于开发人员应该将其增加或减少层的什么原因？是性能和功能的原因吗？请解释。
还有标准的层数吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-27T08:55:58.903

为了管理应用程序的开发和维护，需要将应用程序划分为逻辑（和物理）单元/组——每个单元都专注于特定的关注点（在功能方面或在基础设施方面或在某些其他方面）。划分可以是垂直的和/或水平的。层是水平拆分，而垂直拆分是从域角度（模块/子模块）驱动的。在非常广泛的层面上，层数是根据您想要实现的关注点分离程度来决定的。公共层是数据访问、业务逻辑、表示。但是您可以更多，例如在业务逻辑之上提供更简单 API 的业务外观，或允许外部应用程序与您的集成的服务层等。每一层都可以有子层，依此类推。并且可能存在交叉问题，例如日志记录，

层表示层的*物理*分离 - 分层是为了使不同的层可以相互独立地缩放。因此，您可以将数据库服务器、应用程序服务器（托管业务层）和 Web 服务器（托管表示）作为层。

建议阅读[本文](http://www.guidanceshare.com/wiki/Application_Architecture_Guide_-_Chapter_9_-_Layers_and_Tiers)以了解有关层和层的更多信息。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-27T08:30:19.940

对于更复杂或更大的应用程序，最好有更多的层，因此您可以将关注点分离为 DAL、BLL 等，并为每一层单独编写单元测试。但是对于小型应用程序，它会太复杂，并且会减慢您的开发过程。

[http://msdn.microsoft.com/en-us/library/ms973829.aspx](http://msdn.microsoft.com/en-us/library/ms973829.aspx)

# sql - Ms Access SQL 查询语法错误

> ID：14050932
> 
> 赞同：0
> 
> 时间：2012-12-27T07:18:54.253
> 
> 标签：sql, ms-access, syntax-error

以下是我的 ms access sql 查询

```
 SELECT '2012/8'      AS [Period],
       yearmonth.[Monthno (PS)] AS monthno,
       [assignment_2012].[cluster code] AS cluster,
       'Transfer out' AS Remark,
       -1*Count(*)      AS [number],
       '5'           AS [sorting]
FROM  [assignment_2012] 
INNER JOIN namesort ON [assignment_2012].post = namesort.post 
INNER JOIN yearmonth ON [assignment_2012].[year month]=yearmonth.[Year Month (HM)] 
INNER JOIN
       (SELECT empid
                     FROM   (SELECT empid,
                                    [cluster],
                                    Count(*) AS [empid no]
                             FROM   (SELECT [ID] as empid,
                                            [Cluster Code] as cluster 
                                     FROM   [assignment_2012]
                                            INNER JOIN yearmonth
                                                    ON [assignment_2012].[year month]
                                                       =
                                                       yearmonth.[Year Month (HM)]
                                     WHERE  yearmonth.[Monthno (PS)] = 243
                                            AND [assignment_2012].hc_adj = 1
                                            AND [assignment_2012].term <> 'Temporary'
                                     UNION
                                     SELECT empid,
                                            [cluster]
                                     FROM   [2012]
                                     WHERE  monthno = 244
                                            AND [2012].term <> 'Temporary'
                                            AND ( div <> 'XXX'
                                                   OR div IS NULL )
                                            AND hc = 1)
                             GROUP  BY [empid],
                                       [cluster]
                             HAVING Count(*) = 1)
                     GROUP  BY empid
                     HAVING Count(*) > 1) As Emps
ON [assignment_2012]].EmpID = Emps.EmpID
WHERE  yearmonth.[Monthno (PS)] = 243
       AND [assignment_2012].hc_adj = 1
       AND yearmonth.[Monthno (PS)] BETWEEN namesort.monthno_start AND namesort.monthno_end
       AND [assignment_2012].term <> 'Temporary'
GROUP  BY yearmonth.[Monthno (PS)], [assignment_2012].[cluster code] 
```

当我运行查询时，它提示消息“查询表达式中的语法错误（缺少运算符）'[assignment_2012].post = namesort.post INNER JOING........”

我发现如果在 sql 语句中包含“INNER JOIN yearmonth ON [assignment_2012].[year month]=yearmonth.[Year Month (HM)]”，它会返回错误

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-27T08:27:03.177

我已经修改了 yearmonth 表的 INNER JOIN 语句，它现在可以工作了。

```
SELECT '2012/8' AS Period, YearMonth.[Monthno (PS)], assignment_2012.[cluster code] AS cluster, 'Transfer out' AS Remark, -1*Count(*) AS [number], '5' AS sorting
FROM YearMonth INNER JOIN ((assignment_2012 INNER JOIN namesort ON assignment_2012.post = namesort.post) INNER JOIN (SELECT empid
                     FROM   (SELECT empid,
                                    [cluster],
                                    Count(*) AS [empid no]
                             FROM   (SELECT [HKID] as empid,
                                            [Cluster Code] as cluster 
                                     FROM   [assignment_2012]
                                            INNER JOIN yearmonth
                                                    ON [assignment_2012].[year month]
                                                       =
                                                       yearmonth.[Year Month (HM)]
                                     WHERE  yearmonth.[Monthno (PS)] = 243
                                            AND [assignment_2012].hc_adj = 1
                                            AND [assignment_2012].term <> 'Temporary'
                                     UNION
                                     SELECT empid,
                                            [cluster]
                                     FROM   [2012]
                                     WHERE  monthno = 244
                                            AND [2012].term <> 'Temporary'
                                            AND ( div <> 'XXX'
                                                   OR div IS NULL )
                                            AND hc = 1)
                             GROUP  BY [empid],
                                       [cluster]
                             HAVING Count(*) = 1)
                     GROUP  BY empid
                     HAVING Count(*) > 1)  AS Emps ON assignment_2012.ID = Emps.EmpID) ON YearMonth.[Year Month (HM)] = assignment_2012.[Year Month]
WHERE (((assignment_2012.hc_adj)=1) AND ((assignment_2012.term)<>'Temporary'))
GROUP BY YearMonth.[Monthno (PS)], assignment_2012.[cluster code]; 
```

# ios - NSTimer 影响 UIPickerView 的行为

> ID：14050939
> 
> 赞同：0
> 
> 时间：2012-12-27T07:19:13.873
> 
> 标签：ios, cocoa-touch, uipickerview, nstimer

嗨，提前感谢。我有一个问题，当我`NSTimer`在一个视图中启动一个，然后用一个切换到另一个视图时`UIPickerView`，它`UIPickerView`的行为会受到影响。我在任何视图和包含 的视图之间来回切换`NSTimer`的次数越多， 的行为受到的影响就越大——它们滞后并且移动缓慢——最终达到不调用该方法`UIPickerView`的地步。受到影响的不仅仅是一个，而是我的应用程序中的所有内容。`UIPickerView``DidSelectRow``UIPickerView``UIPickerView`

如果我决定不首先激活`NSTimer`，我的`UIPickerViews`工作没有问题。但是，当我调用这些`NSTimer`方法时，在包含 和任何其他视图的视图之间切换回来和第四`NSTimer`次可能六次之后，我的应用程序`UIPickerView`都完全停止工作。为了恢复它们的正确行为，我需要关闭应用程序并重新启动它。

我正在使用`ARC`，所以我没有`NSTimer`手动发布 - 但我认为这与我的问题有关。我猜`NSTimer`每次我切换回包含`NSTimer`. 无论如何，这是我编码任何东西的第二次努力，所以我不确定如何解决这个问题，尽管我已经读过`NSTimer`and`UIPickerView`可以通过相同的`NSRunLoop`or 线程分配，但我不确定这意味着什么。

无论如何，这是我的代码 - 它非常通用的样板代码。

```
-(void)showActivity:(NSTimer *)tim {

    NSDate *currentDate = [NSDate date];
    NSTimeInterval timeInterval = [currentDate timeIntervalSinceDate:startDate];
    NSDate *timerDate = [NSDate dateWithTimeIntervalSince1970:timeInterval];

    NSDateFormatter* dateFormatter = [[NSDateFormatter alloc] init];
    [dateFormatter setDateFormat:@"HH:mm:ss.S"];
    [dateFormatter setTimeZone:[NSTimeZone timeZoneForSecondsFromGMT:0.0]];
    NSString* timeString = [dateFormatter stringFromDate:timerDate];
    stopWatchLabel.text = timeString;

}

- (IBAction)onStartPressed:(UIButton *)sender; {

    stopWatchTimer = [NSTimer scheduledTimerWithTimeInterval:1/10
                                                  target:self
                                                selector:@selector(showActivity:)
                                                userInfo:nil
                                                 repeats:YES];
    // Save the new start date every time
    startDate = [[NSDate alloc] init]; // equivalent to [[NSDate date] retain];
    NSDate *savedMentionDate = [[NSUserDefaults standardUserDefaults] objectForKey:@"mostRecentMentionDate"];

    if (savedMentionDate == nil) {
        //There is no existing mention, so save the most recent one
        [[NSUserDefaults standardUserDefaults]setObject:startDate forKey:@"mostRecentMentionDate"];
        [[NSUserDefaults standardUserDefaults] synchronize];
    } else {
        startDate = savedMentionDate;
    }

    [stopWatchTimer fire];

    timerSetting = 0;

    NSNumber* timerSettingNS = [[NSNumber alloc] initWithInt:timerSetting];
    [[NSUserDefaults standardUserDefaults] setObject:timerSettingNS forKey:@"timerSetting"];
    [[NSUserDefaults standardUserDefaults] synchronize];

}

- (IBAction)onStopPressed:(UIButton *)sender {

    [stopWatchTimer invalidate];

}

- (IBAction)resetTimer:(UIButton *)sender; {

    stopWatchLabel.text = @"00:00:00.0";

    NSUserDefaults* defaults = [NSUserDefaults standardUserDefaults];
    [defaults removeObjectForKey:@"mostRecentMentionDate"];

    timerSetting = 1;

    NSNumber* timerSettingNS = [[NSNumber alloc] initWithInt:timerSetting];
    [[NSUserDefaults standardUserDefaults] setObject:timerSettingNS forKey:@"timerSetting"];
    [[NSUserDefaults standardUserDefaults] synchronize];

}

-(void)ViewDidLoad {
    ...
    ...
    NSNumber* timerSettings = [defaults objectForKey:@"timerSetting"];

    if (timerSettings == nil || timerSettings.intValue == 1) {

        [self resetTimer:resetTime];

    } else if (timerSettings.intValue == 0) {

        [self onStartPressed:start];

    }

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-27T08:33:07.890

我想出了一个解决办法。我已在使应用程序切换视图的所有方法中插入了代码 [stopWatchTimer invalidate]。我很惊讶这项工作，因为当我在 viewDidLoad 和 viewDidUnload 方法中包含 [stopWatchTimer invalidate] 时，它没有任何效果......

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-27T10:41:02.860

> 我想出了一个解决办法。我已在使应用程序切换视图的所有方法中插入了代码 [stopWatchTimer invalidate]。

这或多或少是任何人会告诉你的，因为：

> 我很惊讶这项工作，因为当我在 viewDidLoad 和 viewDidUnload 方法中包含 [stopWatchTimer invalidate] 时，它没有任何效果......

这些方法只在非常特定的场合被调用：

`viewDidLoad`在加载视图控制器的视图时调用。（应该不会太意外……）

重要的部分是理解什么`load`意思：

当视图控制器被实例化时——无论是从 NIB 还是在代码中——它都没有视图。相反，它所拥有的是在被要求时如何为一个人服务的信息。

因此，当您将`view`消息发送到 UIViewController 时，它会判断它是否已经`_view`填充了其实例变量。如果不是，它将调用它自己的`loadView`方法，该方法将做任何必要的事情来用有意义的东西填充该实例变量。然后它会向自己发送`viewDidLoad`消息，以完成它管理的视图层次结构的设置，然后它才会返回`_view`.

这意味着`viewDidLoad`在视图控制器视图的整个生命周期中只调用一次。但是，这是什么意思？

在 iOS 5 和更早的版本中，视图的生命周期与它是可见视图层次结构的一部分相关联：当它不包含在一个视图中，并且其拥有的视图控制器收到内存警告时，基本实现基本上会查看视图是否有一个超级视图，并且（如果没有）它将调用`viewWillUnload`、释放和 nil out `_view`，并最终调用`viewDidUnload`以完成此过程。（这就是为什么在一些蹩脚的遗留代码库中，您可能会发现`didReceiveMemoryWarning`不调用的覆盖`super`...）

从 iOS 6 开始，UIViewController 不再这样做了！

这就是为什么不推荐使用 viewWillUnload 和 viewDidUnload 的原因：视图一直存在，直到其拥有的视图控制器被释放，因此不再调用这些方法。

有了这些，清除计时器的相关情况是什么？1.`viewWillDisappear:`你的观点即将“离开舞台”，所以拆除任何只有在它位于前面和中心时才相关的东西。2\. 每当您要遮盖受计时器影响的部分时。这可能是因为您正在呈现另一个视图控制器，或者显示其他东西（如 UIPickerView），它们隐藏了它们下方的大部分屏幕。3\. 每当您需要重新配置/重置计时器时。（未能做到这一点是您的应用程序一开始就戛然而止的原因。）

在 Xcode 中和在线提供了大量关于这些问题的优秀文档：

*   [View Contoller Programming Guide](http://developer.apple.com/library/ios/featuredarticles/ViewControllerPGforiPhoneOS/)绝对是 iOS 的必读之物。
*   [NSTimer 类参考](https://www.google.de/url?sa=t&source=web&cd=2&ved=0CD0QFjAB&url=http%3A%2F%2Fdeveloper.apple.com%2FDOCUMENTATION%2FCocoa%2FReference%2FFoundation%2FClasses%2FNSTimer_Class%2FReference%2FNSTimer.html&ei=bCPcULCzOcvLsgarg4HYAQ&usg=AFQjCNHCx9l9ZmvDMrwjkTVmF4WYJl0R6A)和链接的配套指南非常好。确保在“任务”部分之前阅读概念部分。在 NSTimer 标签下提出的任何问题（实际上与 NSTimer 相关）中超过 90% 的问题都不会被问到，如果人们真的阅读了这篇文章……</li>

# spring-mvc - 带有ajax请求的Spring deferredresult

> ID：14050943
> 
> 赞同：4
> 
> 时间：2012-12-27T07:19:23.007
> 
> 标签：spring-mvc, servlet-3.0

我正在使用spring deferredresult（servlet 3 async）进行ajax请求处理。但是在返回deferedresult之后，我没有在ajax请求成功方法中得到响应对象。有人知道这可能是什么原因吗？我在配置中遗漏了什么吗？

以下是ajax调用代码：

```
function sendajaxreq() {
    $
            .ajax({
                url : "plantView/testLink",
                type : "GET",
                data : "",
                cache : false,
                success : function(messages) {
                    alert(messages);
                },
                error : function(xhr) {
                    if (xhr.statusText != "abort" && xhr.status != 503) {
                        console
                                .error("Unable to retrieve chat messages. Chat ended.");
                    }
                }
            })
} 
```

控制器代码：

```
@RequestMapping(value = "/testLink", method = RequestMethod.GET)
@ResponseBody
public DeferredResult<Map<String, WebView>> testLink() {

    DeferredResult<Map<String, WebView>> chartsResult = new       DeferredResult<Map<String, WebView>>();

    Map<String, WebView> res = processSampleReq();
    chartsResult.setResult(res);
     chartsResult.onCompletion(new Runnable() {
     @Override
     public void run() {
     System.out.println("deffered res completed");
     }
     });

    return chartsResult;
} 
```

即使在返回chartsResult 之后，我在ajaxcall 成功方法中也将消息设为null。

在 web.xml 中，我为使延迟结果起作用所做的唯一更改是为调度程序 servlet 和文件管理器映射添加了异步支持。

我正在使用 Spring 3.2.0.RELEASE 版本和 Tomcat 7.0.34。

谢谢，迪普蒂。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-27T13:17:33.540

DeferredResult 意味着由控制器返回**而不**`setResult()`在同一个线程中调用。`setResult()`必须由另一个线程调用。请参阅[介绍 Servlet 3 异步支持](http://blog.springsource.org/2012/05/06/spring-mvc-3-2-preview-introducing-servlet-3-async-support/)（SpringSource 团队博客）。但这与 IMO 与您的空消息无关。

如果您想[使用 @ResponseBody 生成 JSON，](http://blog.springsource.org/2010/01/25/ajax-simplifications-in-spring-3-0/)您必须确保 spring 在类路径中找到 Jackson：

> 在幕后，Spring MVC 委托给 HttpMessageConverter 来执行序列化。在这种情况下，Spring MVC 调用一个建立在 Jackson JSON 处理器上的 MappingJacksonHttpMessageConverter。当您使用 mvc:annotation-driven 配置元素时**自动启用**此实现**，而 Jackson 存在于您的 classpath**中。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-07-05T13:08:06.537

我得到了这个问题。实际上我有一个过滤器，它对 gzip 的响应进行后处理，这就是问题的原因。当这个过滤器被删除时，deferedresult 起作用了。

谢谢，迪普蒂。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-10-28T10:04:47.617

游戏有点晚了，但以防万一有人像我一样遇到这个问题......我们遇到了同样的问题，即响应正文消失了，这也是由于 GZip 过滤器造成的。删除它有效，但简单地删除它对我们来说不是一个跑步者。在为响应创建 GZIPOutputSteam 时，构造函数将采用 syncflush 参数。将此布尔值设置为 true 允许您保留过滤器并获得填充的响应正文。

# javascript - 在 JavaScript 中并行播放相同的 HTML5 音频

> ID：14050945
> 
> 赞同：4
> 
> 时间：2012-12-27T07:19:30.113
> 
> 标签：javascript, html, audio

在 JavaScript 中创建音频播放器的常用方法

```
var a = new Audio();
a.src = "test.mp3"; 
```

假设音频数据归`Audio`对象所有。分别加载音频数据，然后创建可以播放现有数据的音频播放器的正确方法是什么？一个用例是当您想由多个播放器同时播放相同的声音时，例如创建回声效果。我会假设使用相同的数据创建另一个玩家可以做到

```
var b = new Audio();
b.src = a.src; 
```

但我想知道这是否是最好的方法......如果是的话，考虑到这些事件已经触发，是否需要等待`loadeddata`/`canplaythrough`事件。`b``a`

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-15T07:21:14.380

由于 Audio 是一个常规的 DOM 元素，您可以使用 cloneNode() 方法来创建和播放相同的声音。

```
// Create your audio and clone
var myAudio = new Audio('my.mp3');
var myClonedAudio = myAudio.cloneNode();

// Play them simultaneously
myAudio.play();
myClonedAudio.play(); 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-01-03T12:37:47.300

要一次播放多个声音，您必须制作 2 个音频对象。否则，您可以在“结束”事件之后播放声音，例如：

```
obj.addEventListener('ended', function() 
{
    obj.play();
}.bind(this, obj), false); 
```

如果你想一次有多个声音，使用一个类来播放声音或音乐——它支持多个通道。

哦，是的，要播放声音，别忘了将它添加到 body 中：

```
var audioTag     = new Audio('');
document.body.appendChild(audioTag);
audioTag.src    =  name; 
```

如果你想要这样的音频课，问我（评论；）

# javascript - 使用 history.js 刷新页面后获取参数

> ID：14050957
> 
> 赞同：0
> 
> 时间：2012-12-27T07:20:07.300
> 
> 标签：javascript, jquery, ajax, history.js

我从 jquery.address 库移动到 history.js，现在面临在页面完全刷新的情况下获取参数的问题。代码如下所示：

```
function onStateChange(updateSearchQuery) {
    var params = History.getState();
    if (params.data.create != null) {
        editedId = 0;
    }   
    else if (params.data.id) {
        editedId = params.data.id;
        show();
    }
    else {
        currentPage = parseInt(params.data.page) || 1;
        searchQuery = params.data.query || '';
        if (updateSearchQuery)
            $('input[name="query"]', '#search-form').val(searchQuery);
        showList();
    }
};
History.Adapter.onDomLoad(function() {
    onStateChange(true);
}); 
```

它在以编程方式更改状态时工作正常，即使用 History.pushState，但我想处理用户使用 url 刷新页面时的情况：www.test.com/somepage?id=1 - 是否有任何内置方法或方式获取此 id 参数？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-27T07:27:48.240

您应该使用此处指出的功能。

[如何在 JavaScript 中获取查询字符串值？](https://stackoverflow.com/questions/901115/how-can-i-get-query-string-values)

传递“id”作为值。

# android - ListView 中的自定义过滤 ArrayAdapter 不适用于 imageview

> ID：14050960
> 
> 赞同：1
> 
> 时间：2012-12-27T07:21:00.273
> 
> 标签：android, filter, android-listview, android-arrayadapter

我是 Android 的初学者，但我尝试进行自定义`listview`过滤，但它以某种方式工作。我唯一的问题是`ArrayList`我有图像视图，当我搜索列表时它可以工作，但图像显示错误。我无法解释这一点，但我认为你可以以某种方式帮助我。

无论如何，这里是自定义`ArrayAdaptor`：

```
public class Listadapter extends ArrayAdapter<HashMap<String, String>> {
    ArrayList<HashMap<String, String>> originalList;
    ArrayList<HashMap<String, String>> productlist;
    private ProductFilter filter;

    public Listadapter(Context context, int textViewResourceId,
            ArrayList<HashMap<String, String>> Strings) {
        super(context, textViewResourceId, Strings);
        this.productlist = new ArrayList<HashMap<String, String>>();
        this.productlist.addAll(productList);
        this.originalList = new ArrayList<HashMap<String, String>>();
        this.originalList.addAll(productList);
    }

    @Override
    public Filter getFilter() {
        if (filter == null) {
            filter = new ProductFilter();
        }
        return filter;
    }

    /*private class ViewHolder {
            TextView txtprodName;
            TextView txtcategory;
            TextView txtOfferDate;
            ImageView ProductImage;
        }*/

    public int getCount() {
        return productList.size();
    }

    public long getItemId(int position) {
        // return productList.indexOf(getItem(position));
        return position;
    }

    @Override
    public View getView(int position, View convertView, ViewGroup parent) {
        //ViewHolder holder = null;
        TextView txtprodName, txtcategory, txtOfferDate;
        ImageView ProductImage;
        Log.v("ConvertView", String.valueOf(position));
        //if (convertView == null) {

        LayoutInflater vi = (LayoutInflater) getSystemService(Context.LAYOUT_INFLATER_SERVICE);
        convertView = vi.inflate(R.layout.product_list_item, null);

        //holder = new ViewHolder();
        txtprodName = (TextView) convertView
                .findViewById(R.id.txtprodName);
        txtcategory = (TextView) convertView
                .findViewById(R.id.txtcategory);
        txtOfferDate = (TextView) convertView
                .findViewById(R.id.txtOfferDate);
        ProductImage = (ImageView) convertView
                .findViewById(R.id.ProductImage);
        //convertView.setTag(holder);

        /*} else {
                //holder = (ViewHolder) convertView.getTag();
            }*/
        HashMap<String, String> hm = productList.get(position);

        // txtUserName.setText(lstUsers.get(position).getFirst_Name()+" "+lstUsers.get(position).getLast_Name());
        txtprodName.setText(hm.get(TAG_PRODUCT_NAME));
        txtcategory.setText(hm.get(TAG_CATEGORY_NAME));
        txtOfferDate.setText(hm.get(TAG_OFFER_START_TIME));

        if (drawable.get(position) != null)
            ProductImage.setImageDrawable(drawable.get(position));
        else
            ProductImage.setImageResource(R.drawable.nopic_place);
    }
    return convertView;
}

private class ProductFilter extends Filter {
    @Override
    protected FilterResults performFiltering(CharSequence constraint) {
        constraint = constraint.toString().toLowerCase();
        FilterResults result = new FilterResults();
        if (constraint != null && constraint.toString().length() > 0) {
            ArrayList<HashMap<String, String>> filteredItems = 
                    new ArrayList<HashMap<String, String>>();
            for (int i = 0, l = originalList.size(); i < l; i++) {
                // ArrayList<HashMap<String, String>> p =
                // originalList.get(i);
                HashMap<String, String> p = originalList.get(i);
                if (p.toString().toLowerCase().contains(constraint))
                    filteredItems.add(p);
            }
            result.count = filteredItems.size();
            result.values = filteredItems;
        } 
        else {
            synchronized (this) {
                result.values = originalList;
                result.count = originalList.size();
            }
        }
        return result;
    }

    @SuppressWarnings("unchecked")
    @Override
    protected void publishResults(CharSequence constraint,
            FilterResults results) {
        // TODO Auto-generated method stub
        productList = (ArrayList<HashMap<String, String>>) results.values;
        notifyDataSetChanged();
        clear();
        for (int i = 0, l = productList.size(); i < l; i++)
            add(productList.get(i));
        notifyDataSetInvalidated();
    }
} 
```

以下是结果

![在此处输入图像描述](../Images/769149c58b375e3fbeaa2fdf84d874cc.png) ![在此处输入图像描述](../Images/d12e674ae58d48ca0438901005b9d670.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-27T07:30:26.457

你可以看看这个参考。

根据您的要求，这已解决并且工作相同。

[搜索过滤列表视图](https://stackoverflow.com/q/14040364/556975)

浏览此链接，如果您仍有问题，请告诉我。

**编辑：**

你必须保持一个`dummy_drawable ArrayList`相同的`drawable ArrayList`，只保留你的`drawable ArrayList`作为基础并`dummy_drawable`在你的适配器中使用。

`dummy_drawable ArrayList`也从你的`FilterResults`方法更新这个。像这样：

```
dummy_drawable.clear();

for (int i = 0, l = originalList.size(); i < l; i++) {
        // ArrayList<HashMap<String, String>> p =
        // originalList.get(i);
        HashMap<String, String> p = originalList.get(i);
        if (p.toString().toLowerCase().contains(constraint)){
              filteredItems.add(p);
              dummy_drawable.add(drawable.get(i));                 
        }
} 
```

谢谢。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-27T09:12:08.520

有很多使用 imageview 搜索数据的示例..

这是一些很好的链接，请先阅读并理解代码，然后根据您的要求实施。

[示例 1](http://androidcocktail.blogspot.in/2012/04/search-custom-listview-in-android.html)

[示例 2](http://android-helper.blogspot.in/2011/07/android-search-in-custom-listview.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-04T12:21:30.423

这是问题的完整解决方案，并且它运行良好...... :)

```
public class Listadapter extends ArrayAdapter<HashMap<String, String>> {

    ArrayList<HashMap<String, String>> originalList;
    ArrayList<HashMap<String, String>> prodlist;
    private ProductFilter filter;
    ArrayList<Drawable> prodDrawable;

    public Listadapter(Context context, int textViewResourceId,
            ArrayList<HashMap<String, String>> Strings) {
        super(context, textViewResourceId, Strings);
        this.prodlist = new ArrayList<HashMap<String, String>>();
        this.prodlist.addAll(productList);
        this.originalList = new ArrayList<HashMap<String, String>>();
        this.originalList.addAll(productList);
        this.prodDrawable = new ArrayList<Drawable>();
        this.prodDrawable.addAll(drawable);
    }

    @Override
    public Filter getFilter() {
        if (filter == null) {
            filter = new ProductFilter();
        }
        return filter;
    }

    private class ViewHolder {
        TextView txtprodName;
        TextView txtcategory;
        TextView txtOfferDate;
        ImageView ProductImage;
    }

    @Override
    public View getView(int position, View convertView, ViewGroup parent) {

        ViewHolder holder = null;
        Log.v("ConvertView", String.valueOf(position));
        if (convertView == null) {

            LayoutInflater vi = (LayoutInflater) getSystemService(Context.LAYOUT_INFLATER_SERVICE);
            convertView = vi.inflate(R.layout.product_list_item, null);

            holder = new ViewHolder();
            holder.txtprodName = (TextView) convertView
                    .findViewById(R.id.txtprodName);
            holder.txtcategory = (TextView) convertView
                    .findViewById(R.id.txtcategory);
            holder.txtOfferDate = (TextView) convertView
                    .findViewById(R.id.txtOfferDate);
            holder.ProductImage = (ImageView) convertView
                    .findViewById(R.id.ProductImage);
            convertView.setTag(holder);

        } else {
            holder = (ViewHolder) convertView.getTag();
        }

        HashMap<String, String> hm = prodlist.get(position);

        holder.txtprodName.setText(hm.get(TAG_PRODUCT_NAME));
        holder.txtcategory.setText(hm.get(TAG_CATEGORY_NAME));
        holder.txtOfferDate.setText(hm.get(TAG_OFFER_START_TIME));

        /*
         * if (drawable.get(position) != null)
         * holder.ProductImage.setImageDrawable(drawable.get(position));
         * else
         * holder.ProductImage.setImageResource(R.drawable.nopic_place);
         */

        try {
            holder.ProductImage
                    .setImageDrawable(prodDrawable.get(position));
        } catch (Exception exception) {
            holder.ProductImage.setImageResource(R.drawable.nopic_place);
        }
        return convertView;
    }
    private class ProductFilter extends Filter {
        @Override
        protected FilterResults performFiltering(CharSequence constraint) {
            constraint = constraint.toString().toLowerCase();
            FilterResults result = new FilterResults();
            if (constraint != null && constraint.toString().length() > 0) {
                ArrayList<HashMap<String, String>> filteredItems = new ArrayList<HashMap<String, String>>();
                prodDrawable.clear();
                for (int i = 0, l = originalList.size(); i < l; i++) {
                    HashMap<String, String> p = originalList.get(i);
                    if (p.toString().toLowerCase().contains(constraint)) {
                        filteredItems.add(p);
                        try {
                            prodDrawable.add(drawable.get(i));
                        } catch (Exception exception) {
                            prodDrawable.add(null);
                        }
                    }
                }
                result.count = filteredItems.size();
                result.values = filteredItems;
            } else {
                synchronized (this) {
                    prodDrawable.clear();
                    prodDrawable.addAll(drawable);
                    result.values = originalList;
                    result.count = originalList.size();
                }
            }
            return result;
        }
        @SuppressWarnings("unchecked")
        @Override
        protected void publishResults(CharSequence constraint,
                FilterResults results) {
            // TODO Auto-generated method stub
            prodlist = (ArrayList<HashMap<String, String>>) results.values;
            notifyDataSetChanged();
            clear();
            for (int i = 0, l = prodlist.size(); i < l; i++)
                add(prodlist.get(i));
            notifyDataSetInvalidated();
        }

    }

} 
```

# drop-down-menu - 带有机械化的复选框和文本区域

> ID：14050964
> 
> 赞同：0
> 
> 时间：2012-12-27T07:21:16.770
> 
> 标签：drop-down-menu, mechanize, checkbox, python-2.6

我有一个带有 java 脚本的 html 表单，其中包含文本字段、下拉菜单和复选框。我想用 python 代码填充那个 html 表单。表单有两个按钮一个是“应用”，第二个是“提交更改”，首先点击应用然后提交更改。HTML 代码是这样的：

```
<form id="my_form" action="/temp/var/index" method="POST">
<fieldset id="my_fieldset" style="width:1330px">

   <h3 style="margin:1px;margin-left:20px;"> MY Form <div class='helps' id='helpform'> </div></h3>
   <p><label for="help_no" id="label_help" class="help_code" style="width:80px;margin:1px;float:left;text-align:right;">add a Help:</label>
   <input type="text" name="help_no" id="help_no" class="text ui-corner-all help_code" style="width:100px;margin:1px;float:left;"/>
   <label for="helptype" id="label_helptype" class="help_code" style="width:60px;margin:1px;float:left;text-align:right;">Help type:</label>
   <select id='helptype' class=" ui-widget-context help_code" style="width:100px;margin:1px;float:left;">
         <option value="PHelp">Help1</option>
        <option value="THelp">Help2r</option>
        <option value="IHelp">Help3r</option>
   </select>
  <p><input type="checkbox" name="comment" id="comment"  class=" ui-corner-all help_code" style="margin:1px;margin-left:20px;float:left;"/>
  <label for="comment" id="label_commment" class="help_code" style="margin:1px;margin-left:3px;clear:left;" >add comment to Helps</label></p>
  <p><input type='button' id='btn_code' style="width:120px;float:left;margin:10px;margin-top:2px;" value='Apply' disabled/>
  <p><label style="float:left;margin:1px;text-align:left;color:red;font-weight:bold;">Note:Select results from table, input help information and click Apply.Finally, click Submit Changes.</label></p>
  <input type='button' id='btn_submit' style="width:120px;float:right;margin:10px;" value='Submit Changes' disabled /> </p>
</fieldset>
</form> 
```

我尝试过：

```
import mechanize

br = mechanize.Browser()
br.set_handle_robots(False)
br.open('http://myform.com/')
br.select_form(name="my_form")
br['help_no']='12345'

res = br.submit() 
```

但我不知道如何设置下拉菜单和复选框的值。如果有更好的方法来做到这一点，请告诉我......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-02T07:43:50.843

您应该使用 selected `form`：

```
br.form['help_no'] = '12345'
br.form['helptype'] = ['THelp'] #  a list, so you could have multiple selected
br.form.find_control('comment').items[0].selected = True 
```

# c# - 执行异步方法后如何调用成功回调函数？

> ID：14050967
> 
> 赞同：4
> 
> 时间：2012-12-27T07:21:37.727
> 
> 标签：c#, .net, asynchronous

我创建了一个异步方法，如下所示

```
 System.Threading.Tasks.Task.Factory.StartNew(
                                        () => AddAttachment(document, docId, user)).ContinueWith(
                                            task => BackUpQueuesMail(task.Exception, information, list),
                                            TaskContinuationOptions.OnlyOnFaulted); 
```

在 AddAttachment() 方法处理成功后，我需要执行一个回调函数。我怎么可能呢？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-27T08:22:27.377

您需要提取 AddAttachment 任务，然后您可以使用[延续任务](http://msdn.microsoft.com/en-us/library/ee372288.aspx "继续任务")指定如果您的主要任务失败执行什么任务，如果主要任务成功完成则执行什么任务。

在此示例中，如果*AddAttachment*完成，则*MethodToRunWhenFinishSuccessfully*将运行，如果*AddAttachment*失败，则*BackUpQueuesMail将运行。*

 ***```
var addAttachmentTask = Task.Factory.StartNew(() => AddAttachment(document, docId, user));
addAttachmentTask.ContinueWith(t => MethodToRunWhenFinishSuccessfully(t), TaskContinuationOptions.OnlyOnRanToCompletion);
addAttachmentTask.ContinueWith(t => BackUpQueuesMail(task.Exception, information, list), TaskContinuationOptions.OnlyOnFaulted); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-27T07:38:27.793

一种方法是：

```
System.Threading.Tasks.Task.Factory.StartNew(
                                        () => AddAttachment(document, docId, user)).ContinueWith(
                                            task => OnComplete(task), }
                                            TaskContinuationOptions.None);  

private void OnComplete(task)
{
   if(task.IsFaulted)
   {
   }
   else if(task.IsComplete) {}

} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-27T07:36:53.153

只需更改`OnlyOnFaulted`为`OnlyOnRanToCompletion`.***

# windows - 使用 cusotm webdefault.xml 时导致码头异常

> ID：14050969
> 
> 赞同：0
> 
> 时间：2012-12-27T07:22:01.293
> 
> 标签：windows, jetty, illegalargumentexception

当我尝试访问通过 http 适配器部署的 war 文件时，我遇到了以下异常。我们为此使用码头 6_1_8。

这是例外

```
java.lang.IllegalArgumentException: name
    at sun.misc.URLClassPath$Loader.findResource(URLClassPath.java:458)
    at sun.misc.URLClassPath.findResource(URLClassPath.java:145)
    at java.net.URLClassLoader$2.run(URLClassLoader.java:362)
    at java.security.AccessController.doPrivileged(Native Method)
    at java.net.URLClassLoader.findResource(URLClassLoader.java:359)
    at java.lang.ClassLoader.getResource(ClassLoader.java:978) 
```

我在其他线程中看到解决方案将 extractWar 设置为 true，但在我的情况下，我设置了 webAppContext.setExtractWAR(true);

我没有在一些xml文件中设置，而是直接在java代码中设置。即使那样我也面临同样的问题。

当我不使用自定义 webdefault.xml 它工作正常。

请帮忙！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-27T11:52:56.060

[http://www.docjar.com/html/api/sun/misc/URLClassPath.java.html](http://www.docjar.com/html/api/sun/misc/URLClassPath.java.html)

这似乎表明它是对提供的 webdefault.xml 的错误路径引用，将其整理出来，您应该处于良好状态。

# concurrency - 带有通道的读写排除

> ID：14050973
> 
> 赞同：6
> 
> 时间：2012-12-27T07:22:12.383
> 
> 标签：concurrency, go

我想在 Go 中编写一个小型内存数据库。读取和写入请求将通过通道传递并由数据库引擎处理，以确保访问正确完成。

第一个想法是模仿[RWMutex](http://golang.org/pkg/sync/#RWMutex "同步/RWMutex 参考")的行为。只有它会使用更惯用的围棋风格。

这是我想做的一个小玩具（虽然相当长）的例子。

```
package main

import (
    "log"
    "math/rand"
    "time"
)

var source *rand.Rand

type ReqType int

const (
    READ = iota
    WRITE
)

type DbRequest struct {
    Type  int              // request type
    RespC chan *DbResponse // channel for request response
    // content here
}

type DbResponse struct {
    // response here
}

type Db struct {
    // DB here
}

func randomWait() {
    time.Sleep(time.Duration(source.Intn(1000)) * time.Millisecond)
}

func (d *Db) readsHandler(in <-chan *DbRequest) {
    for r := range in {
        id := source.Intn(4000000)
        log.Println("read ", id, " starts")
        randomWait()
        log.Println("read ", id, " ends")
        r.RespC <- &DbResponse{}
    }
}

func (d *Db) writesHandler(r *DbRequest) *DbResponse {
    id := source.Intn(4000000)
    log.Println("write ", id, " starts")
    randomWait()
    log.Println("write ", id, " ends")
    return &DbResponse{}
}

func (d *Db) Start(nReaders int) chan *DbRequest {
    in := make(chan *DbRequest, 100)
    reads := make(chan *DbRequest, nReaders)

    // launch readers
    for k := 0; k < nReaders; k++ {
        go d.readsHandler(reads)
    }

    go func() {
        for r := range in {
            switch r.Type {
            case READ:
                reads <- r
            case WRITE:
                // here we should wait for all reads to
                // be over (how ??)

                r.RespC <- d.writesHandler(r)

                // here writesHandler is blocking,
                // this ensures that no additional
                // read is added in the reads channel
                // before the write is finished
            }
        }
    }()

    return in
}

func main() {
    seed := time.Now().Unix()
    source = rand.New(rand.NewSource(seed))

    blackhole := make(chan *DbResponse, 100)

    d := Db{}
    rc := d.Start(4)
    wc := time.After(3 * time.Second)

    go func() {
        for {
            <-blackhole
        }
    }()

    for {
        select {
        case <-wc:
            return
        default:
            if source.Intn(2) == 0 {
                rc <- &DbRequest{READ, blackhole}
            } else {
                rc <- &DbRequest{WRITE, blackhole}
            }
        }
    }
} 
```

当然，这个例子显示了读/写冲突。

我觉得我正在尝试做一些有点邪恶的事情：使用旨在避免它的结构共享内存......此时，一个明显的解决方案是在两种类型的请求处理周围添加 RWMutex 锁，但也许有一个仅使用 goroutine 和通道的巧妙解决方案。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-12-28T01:16:49.597

为什么不直接使用 RWMutex？它已经过优化，非常高效，并且在概念上很简单。只需在您的 Db 对象中嵌入一个

```
type Db struct {
    sync.RWMutex
    // DB here
} 
```

你可以这样称呼它

```
db := &Db{}
...
db.Lock()
// do RW operations
db.Unlock()
...
db.RLock()
// do Read operations
db.RUnlock() 
```

我不知道使用渠道获得更好性能的方法。但是，您*可以*使用无锁技术获得更好的性能，但我建议您首先运行您的 RWMutex 版本。

另一个并发问题是 fmt 包写入 stdout 不是线程安全的，您最终会看到乱码输出。请尝试使用日志包。您可以将其设置为写入标准输出而没有日志记录前缀，它将确保原子写入。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-29T22:35:07.587

另一种可能的解决方案是通过通道传递数据库本身，然后仅在您持有数据库时更新它。这意味着您不需要锁定它，因为只有持有者可以写入它，并且内存模型保证写入数据库 IIRC。

# macos - 如何在 mac 上使用 cocoa api 自动发现代理服务器

> ID：14050979
> 
> 赞同：2
> 
> 时间：2012-12-27T07:22:28.373
> 
> 标签：macos, proxy

在mac代理设置中，我们可以选择`Auto Proxy Discovery`自动发现代理服务器，也可以`kSCPropNetProxiesProxyAutoDiscoveryEnable`用来获取启用的值，而我真正需要的是如何获取我们使用的代理服务器这个设置。

任何想法将不胜感激！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-01-08T04:56:04.027

只需获取配置`kSCPropNetProxiesProxyAutoConfigURLString`

# ios - 当它是第一响应者时，我怎么知道 uitextfield 已被击中

> ID：14050982
> 
> 赞同：1
> 
> 时间：2012-12-27T07:22:38.577
> 
> 标签：ios, events, uitextfield

我制作了一个文本字段来评论，评论可以有情感或任何其他内容，如标签。所以我会将 textfield 的输入视图从键盘更改为自定义视图，并且当我再次触摸文本字段时，输入视图应该再次是键盘。现在我无法再次收到触摸文本字段的事件。

谢谢！

编辑1：

我现在有一个丑陋但有用的方法。我添加了另一个隐藏的文本字段，当显示情感时，第二个文本字段成为第一响应者。然后触摸第一个文本字段将像往常一样显示键盘。

我觉得不是很好，如果你有更好的方法请告诉我。谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-27T08:24:24.927

这是因为第一次触摸时您的文本字段已成为您可以在以下[委托](http://developer.apple.com/library/ios/documentation/uikit/reference/UITextFieldDelegate_Protocol/UITextFieldDelegate/UITextFieldDelegate.html#//apple_ref/occ/intfm/UITextFieldDelegate/textFieldDidBeginEditing%3a)中检测到的第一响应者。如果您再次触摸它，您将不会收到该事件，因为文本字段尚未退出响应者。您可能会尝试在开始编辑后检测文本字段框架上的触摸，然后显示键盘。

# html - iPhone4S上Phonegap中的文本字段隐藏在软键盘后面

> ID：14050984
> 
> 赞同：4
> 
> 时间：2012-12-27T07:22:52.273
> 
> 标签：html, ios, iphone, cordova, iphone-softkeyboard

我正在制作一个 Phonegap 应用程序，其中 iscoll4 容器内有一个输入字段。灰色背景是iscroll，文本字段是“输入ID”。屏幕截图是之前

![初始屏幕的屏幕截图](../Images/363f5990432d67083c962285c4408c00.png)

当我单击文本框时，弹出的键盘工作正常，但文本字段位于键盘后面，用户无法正确看到文本字段。屏幕截图是之前的。

![键盘弹出后的屏幕截图](../Images/ee8955e4d3a01fed47c682391f57b4a5.png)

一旦我开始输入，文本框就会向上滚动。

![键入文本字段后](../Images/f0390840ea7fcc26460e07711357f1f6.png)

我的问题是，只要我单击文本字段并显示键盘，文本框就会向上滚动。

我正在使用 Phonegap 2.2 和 iscroll4。我正在使用 iOS 5.1 和 iOS 6.0 的 iPhone。

我已经尝试过使用以下东西

1.  iScroll.scrollToElement('#ID'); - 它正在向上滚动，但它会立即回到之前的位置
2.  使用 jQuery 创建键盘事件（ jQuery.event.trigger({ type : 'keypress', which : character.charCodeAt(32) });) - 它不适用于 iPhone。

# xcode - 如何通过 itune 为 iOS 制作 webbuild

> ID：14050987
> 
> 赞同：0
> 
> 时间：2012-12-27T07:23:10.643
> 
> 标签：xcode, xcode4

我的归档文件是 .ipa 格式，现在我想建立一个网络，以便其他人可以测试它。有人可以指导我如何实现这一点，或者简单地向我展示一个教程，我可以在其中制作我的 .ipa 文件的 webbuild 吗？抱歉，这是我的第一个 iphone 应用程序开发，我没有找到实现这一目标的方法。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-27T07:32:10.317

没有 iPhone 应用程序的 Web 构建之类的东西。

为了让其他人测试您的应用程序，他们需要向您提供手机的 UUID。然后，您在供应门户上添加 UUID（最多 100 个）并为临时分发创建新证书。使用该证书，您可以构建一个 .ipa 文件。最后，您将证书和 .ipa 文件发送给您的用户（或在网站上提供）。然后，他们可以将其拖入 iTunes 并同步他们的手机。

如果更多用户想要加入测试，您将需要创建一个新证书和一个新的 .ipa 文件。公开测试是不可能的。它始终是一个封闭的用户组。

# .net - 实体框架通用存储库有什么优势吗？

> ID：14050988
> 
> 赞同：3
> 
> 时间：2012-12-27T07:23:11.667
> 
> 标签：.net, entity-framework, entity-framework-4

我是实体框架架构的新手。我试图用该`edmx`文件制作一些示例代码，但现在我想为实体框架编写通用代码，我想知道编写这个通用代码的任何优势。因为实体框架对象已经提供了很多方法。

请让我知道你的答案，因为你的答案将对我的新项目开发更有帮助。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-27T07:38:07.953

如果您不熟悉实体框架架构，那么您可以从 Code-First 开发开始。

什么是**代码优先**？

你可以，

1.  无需打开设计器或定义 XML 映射文件即可开发

2.  通过简单地编写“plain old classes (poco)”来定义你的模型对象，不需要基类

3.  使用“约定优于配置”的方法，无需显式配置任何内容即可实现数据库持久性

4.  可选地覆盖基于约定的持久性并使用流畅的代码 API 来完全自定义持久性映射

您可以在此处关注非常出色的轻量级[**MVC 音乐商店应用程序**](http://mvcmusicstore.codeplex.com/)

[**您可以在此处获得有关使用 Entity Framework 4 进行代码优先开发的**](http://weblogs.asp.net/scottgu/archive/2010/07/16/code-first-development-with-entity-framework-4.aspx)更多知识[](http://weblogs.asp.net/scottgu/archive/2010/07/16/code-first-development-with-entity-framework-4.aspx)

 **我希望这对你有帮助。**

# objective-c - 除了双击到 UITextView 之外的前向触摸

> ID：14050994
> 
> 赞同：5
> 
> 时间：2012-12-27T07:23:54.980
> 
> 标签：objective-c, ios, uitextview, uigesturerecognizer, uiresponder

我有一个`UITextView`最重要的，我有多个`UIView`。任何触摸动作`UIView`都可以关联到相应`IBAction`的 . 在我的场景中，双击手势需要与`UIView`'s相关联`IBAction`，除此之外的任何其他触摸都需要转发到底层`UITextView`。

我做上述场景的代码块

```
UITextView *textView = [[UITextView alloc] init];

UIView *subview = [[UIView alloc] init];

UITapGestureRecognizer *doubleTap = [[UITapGestureRecognizer alloc] initWithTarget:self action:@selector(tapDetected:)];
doubleTap.numberOfTapsRequired = 2;
[subview addGestureRecognizer:doubleTap];

[textView addSubview: subview]; 
```

我尝试了以下 SO 解决方案，

[如何忽略触摸事件并将它们传递给另一个子视图的 UIControl 对象？](https://stackoverflow.com/questions/7719412/how-to-ignore-touch-events-and-pass-them-to-another-subviews-uicontrol-objects)

使用 hitTest 我无法在 UIViews 中捕获双击手势，该手势位于顶部`UITextView`

[使 UIGestureRecognizer 接收子视图上开始的触摸](https://stackoverflow.com/questions/8772290/make-uigesturerecognizer-to-receive-touches-started-on-subviews)

从in到的转发`UITouch`设置没有给出预期的默认行为`touchBegan:withEvent:``UIView``UITextView``UITextView`

是否有任何其他解决方案可用于解决这种情况？

提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-01T22:07:04.280

这可以通过以下方式实现：

1.  让 UITextView 按照[如何忽略触摸事件并将它们传递给另一个子视图的 UIControl 对象中的建议处理触摸事件？](https://stackoverflow.com/questions/7719412/how-to-ignore-touch-events-and-pass-them-to-another-subviews-uicontrol-objects)
2.  在 UIView 的 hitTest 中保存对它发生的视图的引用，以便以后可以使用
3.  添加自定义双击手势识别器，检查 hitTest 引用是否不为空，指示双击发生在目标视图上并将事件转发到该视图。如果不是，则使手势识别器失败。要使手势识别器失败，您需要包含 UIKit/UIGestureRecognizerSubclass.h 并将 state 属性设置为 UIGestureRecognizerStateFailed
4.  将手势识别器添加到 UITextView
5.  扩展 UITextView 以覆盖gestureRecognizers getter 并循环通过手势识别器以要求自定义手势失败。这必须在 getter 中完成，因为手势识别器似乎经常被重置

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-19T13:46:01.357

子视图是不必要的，删除它，并替换：

```
[subview addGestureRecognizer:doubleTap]; 
```

和：

```
[textView addGestureRecognizer:doubleTap]; 
```

现在您应该在 tapDetected: 方法中获取您的事件。

为确保您没有更改 UITextView 行为，请使用以下方法：

```
- (BOOL)gestureRecognizer:(UIGestureRecognizer *)gestureRecognizer shouldRecognizeSimultaneouslyWithGestureRecognizer:(UIGestureRecognizer *)otherGestureRecognizer; 
```

或者

```
- (BOOL)gestureRecognizer:(UIGestureRecognizer *)gestureRecognizer shouldReceiveTouch:(UITouch *)touch 
```

# html - 浏览到 HTML5 是通过手机还是电脑

> ID：14050996
> 
> 赞同：-2
> 
> 时间：2012-12-27T07:24:07.520
> 
> 标签：html, mobile, browser, user-agent, mobile-devices

我如何知道是通过计算机还是通过手机设备（iPhone、Android 等）浏览网站（内置 HTML5）？

我知道有用户代理之类的东西，但我想知道他的具体代码行..

当我在电脑上显示什么，当我在手机上显示什么？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-27T07:29:46.747

你可以这样做。

```
 var isMobile = {
        Android: function() {
            return navigator.userAgent.match(/Android/i);
        },
        BlackBerry: function() {
            return navigator.userAgent.match(/BlackBerry/i);
        },
        iOS: function() {
            return navigator.userAgent.match(/iPhone|iPad|iPod/i);
        },
        Opera: function() {
            return navigator.userAgent.match(/Opera Mini/i);
        },
        Windows: function() {
            return navigator.userAgent.match(/IEMobile/i);
        },
        any: function() {
            return (isMobile.Android() || isMobile.BlackBerry() || isMobile.iOS() || isMobile.Opera() || isMobile.Windows());
        }
    }; 
```

有关[此](http://www.abeautifulsite.net/blog/2011/11/detecting-mobile-devices-with-javascript/)链接的更多信息。

但是，如果禁用了 javascript，您将无法这样做，但是您可以在服务器端执行验证或检查。但这取决于你。取决于您使用的 CGI。

# django - Django 查询集没有在 where...in 查询中转义文本

> ID：14050999
> 
> 赞同：1
> 
> 时间：2012-12-27T07:24:15.823
> 
> 标签：django, postgresql, django-queryset, postgresql-9.1

我正在尝试构建一个相当简单的查询集，它根据相关表中的一组标准返回值列表。根据来自 URL 参数的值，将一组值传递给查询集`in`上的过滤器。

问题是 Django 将这些值作为**不带引号**的文本传递给 SQL 查询，因此查询失败。

焦点表包含有关公司（“实体”）的信息以及有关这些公司的办公室（“办公室”）的相关表信息。

这是传递给查询集的值数组：

```
locations = [u'San Francisco', u'New York'] 
```

这是查询：

```
companies = Entity.objects.values("name","summary").filter(office__city__in=locations) 
```

这是实际命中 SQL 的查询：

```
SELECT "entities_entity"."name", "entities_entity"."summary" FROM "entities_entity" INNER JOIN "entities_office" ON ("entities_entity"."id" = "entities_office"."entity_id") WHERE "entities_office"."city" IN (San Francisco, New York) 
```

如果我手动运行 SQL 查询，但`IN`用单引号（而不是双引号）将子句中的每个语句括起来，它就可以正常工作。

关于为什么会发生这种情况以及如何解决它的任何想法？

对于它的价值，这里是模型的相关部分

```
class Entity(models.Model):
    name = models.CharField(max_length=450)
    summary = models.TextField(blank=True,null=True)

class Office(models.Model):
    entity = models.ForeignKey(Entity)
    city = models.CharField(max_length=250,blank=True,null=True) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-27T13:35:26.327

当 Django 替换内容以应用查询过滤器时，这似乎是一种奇怪的行为。

也许值得尝试一下：

> 位置 = [u'\'旧金山\'', u'\'纽约\'']

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2022-01-20T02:43:51.603

不幸的是，这是Django 查询集属性的一个[已知限制。](https://code.djangoproject.com/ticket/28880)`query`Django 开发人员仅提供用于调试，并且拒绝修改它以反映实际的数据库后端，因此它不会正确地正确转义某些数据类型。