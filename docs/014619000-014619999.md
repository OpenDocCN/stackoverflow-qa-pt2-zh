# StackOverflow 问答 14619000-14619999

# android - 在android中确定特定纬度和经度的街景可用性

> ID：14619000
> 
> 赞同：4
> 
> 时间：2013-01-31T05:19:19.537
> 
> 标签：android, google-maps, android-maps, google-street-view

在我的原生 android 应用程序中，我正在为给定的纬度和经度加载街景。但是，如果该特定位置的街景不可用，它只会显示灰色屏幕。地图应用程序可以做到，但我似乎找不到使用 android api、地图 api 或任何意图 uri 的方法。

以下是我用来显示街景的代码，它工作正常。

```
 String uriString = "google.streetview:cbll="+ latitude+","+longitude+"&cbp=1,0,,1,-5.27&mz=21";
    Uri uri = Uri.parse(uriString);
    Intent streetViewIntent = new Intent (Intent.ACTION_VIEW, uri);
   startActivity(streetViewIntent); 
```

是否有人对确定具有特定经纬度坐标的街景视图的可用性有任何想法？

提前致谢。

# chef-infra - 覆盖配方中的属性

> ID：14619001
> 
> 赞同：43
> 
> 时间：2013-01-31T05:19:23.903
> 
> 标签：chef-infra, chef-recipe

假设我在食谱中有一个默认属性：

```
default.nginx_upstreams = {
    'service1' => ['service1.server.com'],
    'service2' => ['service2.server.com'],
} 
```

然后它在角色和环境中被修改和覆盖，直到它最终到达我的食谱。在那里，我计算了一些我想添加到属性中的附加服务。如果我做这样的事情：

```
node.nginx_upstreams.merge! {'service3' => ['service3.server.com']} 
```

然后当我尝试在我的模板中使用该属性时，`undefined method 'each' for nil:NilClass`当我尝试这样做时，我在我的模板中得到一个

```
<% node.nginx_upstreams.each do |name, servers| %> 
```

另外，我还得到一个`WARN: Setting attributes without specifying a precedence is deprecated and will be removed in Chef 11.0`. 有用的警告告诉我如何以正常优先级设置属性（显然，使用`node.set["key"] = "value"`，但没有告诉我如何指定默认或覆盖属性。

我可以通过执行以下操作来解决此问题：

```
upstreams = node.nginx_upstreams.to_hash
upstreams.merge! {'service3' => ['service3.server.com']}

template "nginx_config" do
    variables({:upstreams=>upstreams})
end 
```

但这感觉就像一个黑客。[我在此页面](http://docs.opscode.com/chef/essentials_node_object.html "这一页")`node.set()`之外找不到任何文档，这也表明您可以在配方中设置普通属性和覆盖属性，但没有说明如何设置。

那么...您如何从配方中正确设置属性（与其他所有内容一起深度合并）？该`node.set()`调用实际上做了什么，我可以告诉它我想要合并的优先级吗？

* * *

## 回答 #1

> 赞同：46
> 
> 时间：2013-01-31T08:24:26.310

`default.nginx_upstreams``default[:nginx_upstreams]`与and相同`default['nginx_upstreams']`- 惯例是使用后两者中的 1 个。当您进一步使用字符串时，也请在此处使用它们。

在属性文件中初始化的方式`nginx_upstreams`和这样做是一样的：

```
default['nginx_upstreams']['service1'] = ['service1.server.com']
default['nginx_upstreams']['service2'] = ['service2.server.com'] 
```

而且您不必`default['nginx_upstreams'] = {}`在此之前进行初始化。这些不是哈希，而是属性，而且它们更智能。:)

从配方内部修改属性是这样完成的：

```
node.default['nginx_upstreams']['service3'] = ['service3.server.com'] 
```

如果您需要更改优先级，您可以使用`set`or`override`代替此处。`default`省略优先级名称（`node['nginx_upstreams']`或`node.nginx_upstreams`）将使用`set`优先级。但这已被弃用并且很快将被删除 - 这就是警告的全部内容。查看[有关 attributes 的手册页](http://docs.chef.io/attributes.html)，因为实际上所有内容都在那里。

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2015-11-19T12:00:17.317

只是想进一步了解 Chef 属性，这对用户来说非常重要，他们将在节点属性覆盖上参考这个问题。

**文件方法对应属性**

在食谱或食谱的属性文件中使用以下方法。这些方法对应同名的属性类型：

*   覆盖
*   默认
*   normal（或 set，其中 set 是 normal 的别名）
*   _除非
*   属性？

**属性优先级**

厨师客户端始终按以下顺序应用属性：

1.  位于说明书属性文件中的默认属性
2.  位于配方中的默认属性
3.  位于环境中的默认属性
4.  位于角色中的默认属性
5.  位于说明书属性文件中的 force_default 属性
6.  位于配方中的 force_default 属性
7.  位于说明书属性文件中的普通属性
8.  位于配方中的普通属性
9.  位于说明书属性文件中的覆盖属性
10.  位于配方中的覆盖属性
11.  位于角色中的覆盖属性
12.  位于环境中的覆盖属性
13.  位于说明书属性文件中的 force_override 属性
14.  位于配方中的 force_override 属性
15.  Ohai 在 chef-client 运行开始时识别的自动属性

其中列表中的最后一个属性是应用于节点的属性。

这意味着，OHAI 属性将具有最高优先级，而食谱属性文件中的默认属性将具有最低优先级。

注意：为了用户的利益，提供了来自 Chef 文档的[属性的重要详细信息。](https://docs.chef.io/attributes.html)因为有时 URL 会被移动或无效。

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2015-04-17T14:34:19.717

所以在四处挖掘之后，我找到了答案：

**node.set**
使用`node.default`（或者可能是 node.override）而不是 node.set，因为 node.set 是 node.normal 的别名。普通数据保存在节点对象上。因此，使用 node.set 会将数据持久化到节点对象中。如果稍后删除使用 node.set 的代码，如果该数据已经在节点上设置，它将保留。

正常和覆盖属性在厨师客户端运行开始时被清除，然后根据当时食谱和食谱中的代码作为运行的一部分重新构建。

`node.set`(and `node.normal`) 只能用于在第一次运行 chef-client 时为数据库生成密码，然后记住它（而不是持久化）。即使是这种情况也应该避免，因为推荐使用数据包来存储此类数据。

# perl - 关于 Perl 通过 HTTP 在线阅读网页

> ID：14619005
> 
> 赞同：0
> 
> 时间：2013-01-31T05:19:45.310
> 
> 标签：perl, file, http, webcontent

我有一个巨大的网页，大约 5G 大小。我希望我可以直接（远程）阅读网页的内容，而无需下载整个文件。我已使用`Open`文件处理程序打开 HTTP 内容。但给出的错误信息是`No such files or directory`. 我尝试使用`LWP::Simple`，但如果我使用`get`全部内容，则内存不足。我想知道是否有一种方法可以`open`远程读取这些内容，并逐行阅读。谢谢您的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-31T06:10:14.927

您可以尝试使用 LWP::UserAgent。该`request`方法允许您指定一个 CODE 引用，它可以让您在数据进入时对其进行处理。

```
#!/usr/bin/perl -w

use strict;
use warnings;

use LWP::UserAgent ();
use HTTP::Request ();

my $request = HTTP::Request->new(GET => 'http://www.example.com/');
my $ua = LWP::UserAgent->new();

$ua->request($request, sub {
        my ($chunk, $res) = @_;
        print $chunk;
        return undef;
}); 
```

从技术上讲，该函数应该返回内容而不是 undef，但如果您返回 undef，它似乎可以工作。根据文档：

> “内容”函数应在调用时返回内容。content 函数将被重复调用，直到它返回一个空字符串来表示没有更多内容。

我没有在大文件上尝试过这个，您需要编写自己的代码来处理以任意大小的块传入的数据。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-31T08:00:53.573

如果文件已部分下载，此 Perl 代码将从 URL 下载文件并可能继续。

此代码要求服务器`content-length`根据请求返回文件大小（aka ）`HEAD`，并且还要求服务器支持相关 URL 的字节范围。

如果您想对下一个块进行一些特殊处理，只需在下面覆盖它：

```
use strict;
use LWP::UserAgent;
use List::Util qw(min max);

my $url  = "http://example.com/huge-file.bin";
my $file = "huge-file.bin";

DownloadUrl($url, $file);

sub DownloadUrl {
    my ($url, $file, $chunksize) = @_;
    $chunksize ||= 1024*1024;
    my $ua = new LWP::UserAgent;
    my $res = $ua->head($url);
    my $size = $res->headers()->{"content-length"};
    die "Cannot get size for $url" unless defined $size;
    open FILE, ">>$file" or die "ERROR: $!";      
    for (;;) {
        flush FILE;
        my $range1 = -s FILE;        
        my $range2 = min($range1 + $chunksize, $size);
        last if $range1 eq $range2;
        $res = $ua->get($url, Range => "bytes=$range1-$range2");
        last unless $res->is_success();
        # process next chunk:
        print FILE $res->content();
    }
    close FILE;
} 
```

# php - 何时在快速结帐 paypal api 中访问取消 url？

> ID：14619012
> 
> 赞同：0
> 
> 时间：2013-01-31T05:20:16.417
> 
> 标签：php, paypal, paypal-sandbox

我注意到您在进行快速结帐时在 api 中指定了取消 url，但是何时访问该 url？我在沙盒中看不到“取消”交易或任何内容？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-31T06:55:10.890

为什么你看不到？它在沙盒站点中 左边有订单摘要，右边有

> 订购 | 1.有一个paypal账户
> 摘要| 2.创建一个贝宝账户

在其下方，您应该会看到一个名为“**取消并返回 [您的商家名称]** ”的链接，这就是使用取消 url 的地方。如果用户想取消订单。如果您看不到，请尝试使用任何其他 3rd 方演示站点的快速结帐，例如 shopify 演示商店，您会看到的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-31T05:33:37.730

> 指定取消 URL。如果买家不批准付款，则取消 URL 是 PayPal 将买家的浏览器重定向到的页面。通常，这是`(https://...)`您网站上的安全页面，您可以从该页面将买家重定向到 PayPal。
> 
> 注意：您可以在您的 URL 中将 SetExpressCheckout 请求值作为参数传递，以便在 PayPal 重定向到您的 URL 后，如有必要，可以使用这些值。

```
CANCELURL=cancel_url 
```

# java - 无法使用 Java 程序读取 HDFS：无法找到或加载主类

> ID：14619013
> 
> 赞同：0
> 
> 时间：2013-01-31T05:20:17.560
> 
> 标签：java, hadoop, hdfs

我正在尝试`cat`存储在 HDFS 中的文件。我尝试了标题下提供的方法，[从 Hadoop URL](http://books.google.co.in/books?id=Nff49D7vnJcC&pg=PA51&dq=Displaying+files+from+a+Hadoop+filesystem+on+standard+output+using+a+URLStreamHandler+definitive+guide&hl=en&sa=X&ei=YP4JUazVBs7V0gGnrYG4BQ&ved=0CDgQ6AEwAA#v=onepage&q=Displaying%20files%20from%20a%20Hadoop%20filesystem%20on%20standard%20output%20using%20a%20URLStreamHandler%20definitive%20guide&f=false)读取数据和使用**Hadoop: The Definitive Guide**一书[的 FileSystem API 读取数据](http://books.google.co.in/books?id=Nff49D7vnJcC&pg=PA53&dq=Displaying+files+from+a+Hadoop+filesystem+on+standard+output+by+using+the+FileSystem+directly+definitive+guide&hl=en&sa=X&ei=n_4JUYW_JbKQ0QHWhoGIBw&ved=0CDgQ6AEwAA#v=onepage&q=Displaying%20files%20from%20a%20Hadoop%20filesystem%20on%20standard%20output%20by%20using%20the%20FileSystem%20directly%20definitive%20guide&f=false)，但我不断收到错误消息：

 **```
Error: Could not find or load main class <class_name> 
```

有人可以指出我做错了什么吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2016-01-12T05:58:42.787

第 1 步：编译 Java 程序：

```
javac URLCat.java -classpath $HADOOP_HOME/share/hadoop/common/hadoop-common-2.7.0.jar 
```

第2步：创建jar文件：

```
jar cvf URLCat.jar URLCat.class 
```

第 3 步：执行程序：（提及您的 hdfs 文件位置）

```
hadoop jar URLCat.jar URLCat hdfs://localhost:9000/pcode/wcinput.txt 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-31T05:36:29.147

我看不到链接中的所有页面，但我想我知道发生了什么。您正在尝试运行这样的命令。

```
% hadoop URLCat <HDFS URL> 
```

您收到的错误与 Hadoop 无法`URLCat`在其类路径中找到该类有关。您可以编辑`hadoop`命令文件以包含`URLCat`在其类路径中。但不建议这样做。

最好是创建一个包含`URLCat`类的 jar 文件，并使用以下命令调用它

```
% hadoop jar <Path to Jar>/<Your Jar>.jar URLCat <HDFS URL> 
```

阅读这篇博[文，](http://shazsterblog.blogspot.com/2012/11/storing-hadoop-wordcount-example-with.html)了解更多关于如何运行 jar 的信息。**

# jquery - 从服务器验证后如何动态放置 JQuery 错误标签

> ID：14619016
> 
> 赞同：0
> 
> 时间：2013-01-31T05:20:50.063
> 
> 标签：jquery, jquery-validate

我正在处理注册表单。我已经验证了 required、minlength 等字段，并将验证错误消息放在这样的元素之前：

```
$('#register').validate(
{
    rules: 
    {
        username: 
        {
            required: true,
            minlength: 6
        },
        email: 
        {
            required: true,
            email: true
        },
        password: 
        {
            required: true,
            minlength: 8
        },
        confirmPassword: 
        {
            required: true,
            equalTo: '#password'
        }
    },
    messages: 
    {
        username:
        {
            required: 'Please enter username',
            minlength: 'Username too short'
        },
        email: 
        {
            required: 'Please enter email',
            email: 'Invalid E-Mail'
        },
        password:
        {
            required: 'Please enter password',
            minlength:'Password too short'
        },
        confirmPassword: 
        {
            required: 'Please provide password',
            equalTo: 'Passwords don\'t match'
        }
    },
    errorPlacement: function(error, element)
    {
        error.insertBefore(element);
    }
}); 
```

客户端验证时一切都很好，但我也必须检查服务器端验证，比如用户名重复、电子邮件重复......所以如果用户名已经存在，我必须再次在元素之前放置验证错误消息，那会怎么样呢？我已经完成了所有 ajax、请求和 php/mysql 编码并返回错误消息。只是我必须在与 jquery 验证具有相同样式的元素之前显示。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-31T06:21:44.063

您可以为每个元素添加自定义验证函数。例如说您需要将 ajax 验证添加到“用户名”字段，这可以按如下方式完成

```
$.validator.addMethod("validateUserName", function(val, element) {

    $.ajax({
        type : "post",
        async: false,
        url : YOUR_URL,
        data : {'username': val},
        dataType : 'json',
        error : function(jqXHR, textStatus, errorThrown){
            //alert("some error occured while submitting the form");
            return false;
        },
        success : function(  response,  textStatus,  jqXHR ){
            //Assuming you return true in server reply
            if( response.status == true ){
                //Username valid
                return true;
            } else {
                //Invalid Username
                return false;
            }
        }
    });
}, "Username Already exists."); 
```

你的验证js看起来像这样

```
$('#register').validate(
{
    rules: 
    {
        username: 
        {
            required: true,
            minlength: 6,
            validateUserName: true,
        },
 ..... 
```

所以现在当有重复的用户名时，自定义错误“用户名已经存在”。将显示在其错误标签中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-31T17:44:22.877

在这里，它奏效了。请更正您的代码，所以我应该将其标记为正确答案。

```
var isSuccess ;
$.validator.addMethod('validateUserName', function(val, element)
{
    $.ajax(
    {
     type : 'post',
     async: false,
     url :  'include/validateUser.php',
     data : {'username': val},
     dataType : 'json',
     error : function(jqXHR, textStatus, errorThrown)
     {
        alert('some error occured while submitting the form');
     },
     success : function(response,  textStatus,  jqXHR )
     {
        isSuccess = response ;
     }
    });
   return isSuccess ;
}, 'Username Already exists.'); 
```

# ruby-on-rails - Rspec 控制器测试未定义的方法“mb_chars”

> ID：14619017
> 
> 赞同：0
> 
> 时间：2013-01-31T05:20:50.553
> 
> 标签：ruby-on-rails, rspec

我正在测试注册用户可以创建帖子的帖子控制器。

```
 it 'should allow registered user to create post' do
    user = FactoryGirl.create(:user)
    sign_in user
    expect {
      article_params = FactoryGirl.attributes_for(:post)
      post :create, :article => article_params
    }.to_not change(Post, :count)
    response.should redirect_to(new_user_session_path)
    flash[:alert].should == "You need to sign in or sign up before continuing."
  end 
```

我得到一个错误

```
Failure/Error: post :create, :article => article_params
 NoMethodError:
   undefined method `mb_chars' for nil:NilClass 
```

这是因为我的模型中有 generate_slug 。Post.rb

```
include Translit
#slug
before_validation :generate_slug

def generate_slug
  self.slug = translit(title)
end 
```

在 Translit.rb 我有 mb_chars

```
# encoding: utf-8
module Translit
def translit (string)
table = {
  "ё"=>"yo","№"=>"#",
  "а"=>"a","б"=>"b","в"=>"v","г"=>"g",
  "д"=>"d","е"=>"e","ж"=>"zh","з"=>"z",
  "и"=>"i","й"=>"y","к"=>"k","л"=>"l",
  "м"=>"m","н"=>"n","о"=>"o","п"=>"p","р"=>"r",
  "с"=>"s","т"=>"t","у"=>"u","ф"=>"f","х"=>"h",
  "ц"=>"ts","ч"=>"ch","ш"=>"sh","щ"=>"sch","ъ"=>"'",
  "ы"=>"yi","ь"=>"","э"=>"e","ю"=>"yu","я"=>"ya"
  }

  string = string.mb_chars.downcase

  table.each do |translation|
    string.gsub!(/#{translation[0]}/, translation[1])
  end

  string.parameterize
end 
```

结尾

感谢帮助

我的 factory.rb 是

```
FactoryGirl.define do
factory :user do
  email "testspec@gmail.com"
  password "password"
  password_confirmation "password"
end

factory :post do
  title "Deploying through ssh"
  body "This is post about ssh"
end
end 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-31T19:11:40.143

这是一个控制器规格，而不是模型规格，所以不要测试你的模型。

```
Post.any_instance.stub(:generate_slug) 
```

我还强烈建议您只对每个规格进行一次测试。您目前正在执行三个特定测试，并且还间接测试 sign_in。我删除了所有控制器规范的登录方面，并通过我的请求规范测试登录。

我希望这会有所帮助。

# css - 针对目标移动设备（第一）、平板电脑和台式机的特定媒体查询

> ID：14619038
> 
> 赞同：4
> 
> 时间：2013-01-31T05:22:38.983
> 
> 标签：css, mobile, responsive-design, media-queries

我正在构建一个响应式布局，默认情况下首先从移动设备（1 列）开始，然后在横向和纵向模式下为平板电脑设置断点，最后是桌面。

对于我的平板电脑（1 列）断点我有。

*   @media (min-device-width: 768px) and (max-device-width: 1024px) and (orientation: portrait)
*   @media (min-device-width: 768px) and (max-device-width: 1024px) and (orientation: Landscape)

但是对于桌面，我正在使用的设计的布局（2 列）的最大宽度仅为 976px。

是否可以仅针对桌面（最小宽度 976 像素）同时防止平板电脑媒体查询获取它们？在桌面上，如果它小于 976px，它应该适应移动布局。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-31T06:49:39.760

我不是这方面的专家，但我确实使用媒体查询设计了一个网站。

[http://css-tricks.com/snippets/css/media-queries-for-standard-devices/](http://css-tricks.com/snippets/css/media-queries-for-standard-devices/)
最好坚持这里给出的查询标准，以免以后网站成型时弄乱你的css。

```
@media only screen (min-device-width: 1024px) 
```

这应该适用于您的桌面。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-16T16:59:56.660

使用 Modernizr ( [http://modernizr.com/download/](http://modernizr.com/download/) ) 来检测触摸设备。Modernizr 将添加`.touch`或`.no-touch`分类到您的 html 标记。因此，对于桌面，您将使用`.touch`类来定位桌面。

```
@media only screen and (min-width: 960px) {
    .touch .container { width: 960px; }
} 
```

# c - 终端不会使用更新的 a.out，我该如何解决？

> ID：14619046
> 
> 赞同：2
> 
> 时间：2013-01-31T05:23:32.150
> 
> 标签：c, macos, unix, terminal

我在我的 Mac 上的终端上编译一个 C 文件，但是当我运行 a.out 文件时，它只会编译我的文件的旧版本。

例如，假设我的 C 文件打印出“Hello, World!”，我使用 gcc 编译它并运行 a.out 文件，a.out 文件将打印出“Hello, World!”。

如果我然后更改 C 文件以打印出“再见”，编译它然后运行 ​​a.out 文件，终端仍然会打印出“Hello, World”。有谁知道如何解决这一问题？

我在终端中输入的只是

```
gcc main.c
~/a.out 
```

我应该输入哪一个？

如果我没有说清楚，请告诉我。谢谢！

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-01-31T05:25:20.883

您正在输入

```
~/a.out 
```

这意味着“`a.out`从主目录运行程序”。我想你想输入

```
./a.out 
```

这意味着“`a.out`从当前目录运行程序”。如果您正在使用`gcc`，新创建的程序将被放置到当前目录中（除非您在主目录中，否则不是同一个地方），因此新版本将运行正确的程序。

希望这可以帮助！

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-01-31T05:25:08.777

```
gcc main.c
~/a.out 
```

第一行将编译为您当前目录中的 a.out，而第二行从您的 HOME 目录中执行 a.out。你在你的主目录吗？

如果不是，请将第二行更改为

```
./a.out 
```

`.`表示当前目录。所以意味着在我的当前目录中`./a.out`执行文件。`a.out`

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-31T05:26:17.673

随着您从*主目录*`~/a.out`运行二进制文件（请参阅 参考资料），这可能不是您正在编译新的.*`echo "$HOME"``main.c`*

 *试试这个：（`./a.out`从您的当前目录运行）。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-01-31T05:26:27.747

你应该使用

```
gcc main.c
./a.out 
```

注意`.`（当前目录）而不是`~`（主目录）。该`gcc`命令在编译代码时会将 a.out 写入当前目录，当前目录不一定是主目录。*

# qt - QT Layouts，如何使水平布局中的小部件向下移动一行而不是溢出窗口

> ID：14619047
> 
> 赞同：4
> 
> 时间：2013-01-31T05:23:34.360
> 
> 标签：qt, qt4

现在我有一个 QHBoxLayout ：

```
| W  W  W  W  W  W | 
```

我调整小我得到：

```
| W  W  W  W |
<------------> 
```

我想要（下划线是黑色空间）：

```
| W  W  W  W |
| W  W _ _ _ | 
```

我不确定哪种布局可以做到这一点。有人有想法么？

KDE 设置应用程序可以满足我的需求。我下载了代码并开始搜索，但还没有找到我想要的。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-31T06:14:47.437

请参阅[流布局示例](https://doc.qt.io/archives/4.6/layouts-flowlayout.html)和[这个问题](https://stackoverflow.com/questions/9660080/how-does-one-fill-a-qgridlayout-from-top-left-to-right)。

# jsf-2 - 从视图范围的托管 bean JSF 填充数据表

> ID：14619051
> 
> 赞同：0
> 
> 时间：2013-01-31T05:24:07.103
> 
> 标签：jsf-2, view-scope

嗨，我有负责搜索活动的 View 范围 bean。用户输入搜索条件和搜索值后，点击搜索按钮，它会使用搜索结果填充其列表类型属性之一，然后导航到另一个页面，其搜索结果显示在数据表中，该数据表绑定到即将包含的列表搜索结果。但是每当用户搜索并重新加载新页面以显示搜索结果时，都会初始化新的 View 范围 bean。因此它无法显示具有预期搜索结果的数据表。我已经阅读了一些关于此的问题和文章，它被称为因为视图范围的 bean 被初始化到新页面的每个请求。如何解决这个问题。我将该结果列表绑定到 beans(view scoped) List 属性，因为在该列表中我想要搜索结果。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-31T11:22:47.377

您正在通过 POST 执行搜索，这不是[幂等](http://en.wikipedia.org/wiki/Idempotence)/可书签的。像 Google 一样，使用 GET 而不是 POST。在这`<f:viewParam>`方面非常有帮助。这是一个启动示例：

```
<f:metadata>
    <f:viewParam id="query" name="query" value="#{bean.query}" />
    <f:event type="preRenderView" listener="#{bean.search}" />
</f:metadata>
...
<form>
    <label for="query">Query</label>
    <input type="text" name="query" value="#{param.query}" />
    <input type="submit" value="Search" />
    <h:message for="query" />
</form>
...
<h:dataTable value="#{bean.results}" var="result" rendered="#{not empty bean.results}">
     ...
</h:dataTable> 
```

基本上这个`@RequestScoped`bean：

```
private String query;
private List<Result> results;

public void search() {
    results = service.search(query);
} 
```

提交表单后，您最终会在 URL 中获取搜索查询字符串，使其具有幂等性/可书签性。刷新请求最终会得到完全相同的结果。

# c# - 如何在不将整个 DLL 复制到内存的情况下读取 DLL 插件中的 MEF 元数据？

> ID：14619052
> 
> 赞同：5
> 
> 时间：2013-01-31T05:24:08.557
> 
> 标签：c#, plugins, dll, metadata, mef

**背景：**

我有兴趣使用 MEF 在使用 C# 和 .NET 4.0 的 WinForm 应用程序中提供插件架构，但我不清楚一些事情。

首先：我还没有在 C# 中构建 DLL，而且我对 DLL 程序集的概念以及 DLL 通常如何加载到内存中有点模糊（意思是一次全部加载或根据需要分段加载）

**意图：**

该程序将是一个机器硬件控制框架，将由一个主要的 WinForm GUI 组成，这是一个具有基本工具栏、菜单等的通用环境 - 但没有大量的 GUI 内容。（想想：MDI Parent 但实际上不是）。

插件提供特定机器的所有控件。许多可能的插件中的每一个都可能包含 30 到 50 个大型 UserControl，每个都包含许多 WinForm 控件和构成各种机器控制面板的大量支持代码。

这意味着主程序是一个轻量级的通用框架，插件包含将在主程序用户界面中显示的大部分 GUI 控件和功能，包括大量图标、图像和其他资源。这将使插件 DLL 可能非常大。

目标是允许用户从菜单中选择一个插件，然后在选择后加载并运行插件，然后将使用面板、菜单和工具箱填充大部分空的主 GUI。

为此，我需要首先从每个插件中提取元数据以填充程序的初始菜单，其中将包括插件标题、描述、图标、版本号和其他信息。

**以下是问题：**

使用 MEF，如果我尝试从存储在插件文件夹中的许多大型 DLL 中的每一个中读取元数据，是否会在访问元数据值之前将整个 DLL 复制到内存中？

如果是这样，有没有办法打开每个 DLL 文件，只将元数据读入内存以构建初始菜单 - 然后通过 MEF 加载完整选择的 DLL？

我假设用于通过 MEF 读取插件的典型 DirectoryCatalog 和 AggregateCatalog 模板会将所有发现的 DLL 复制到内存中并将它们存储在目录集合中。

DLL 是否包含一个连续的代码块（程序集），或者它们是否可以包含多个单独的块，这些块被索引并根据需要单独复制到内存中（多个程序集）？

我可能不了解基本原理，并且可能会混淆术语。我希望能深入了解 MEF、DLL 和程序集的一般加载行为。谢谢 ！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-02T15:12:10.730

> 使用 MEF，如果我尝试从存储在插件文件夹中的许多大型 DLL 中的每一个中读取元数据，是否会在访问元数据值之前将整个 DLL 复制到内存中？

据我所知，整个 DLL 将被加载到内存中。不过，这与 MEF 没有任何关系。[将使用对Assembly.Load](http://msdn.microsoft.com/en-us/library/x4cw969y.aspx)的调用来`DirectoryCatalog`加载程序集（通过） 。此方法不是 MEF 的一部分，但它是 .NET Framework 的核心方法。大多数加载的程序集都是以这种方式加载的。[如果您使用Process Explorer](http://www.google.gr/url?sa=t&rct=j&q=&esrc=s&frm=1&source=web&cd=2&ved=0CDgQFjAB&url=http://technet.microsoft.com/en-us/sysinternals/bb842062.aspx&ei=SQ0NUdiKGYTBtAbrhoDwAw&usg=AFQjCNGZQuFySC6cpDd1ue9NsqZcwHoQeg&sig2=pMAJZClbkSilLZz4Bpw2IA&bvm=bv.41867550,d.Yms)监视运行您的应用程序的进程，您可以看到*虚拟大小*将增加加载程序集的大小。因此，如果您加载巨大的程序集，您的进程的*虚拟大小*将会很高。`AssemblyCatalog`

 **> 如果是这样，有没有办法打开每个 DLL 文件，只将元数据读入内存以构建初始菜单 - 然后稍后通过 MEF 加载完整选择的 DLL？

有办法做到这一点。

一种方法是创建一个新的[应用程序域](http://www.google.gr/url?sa=t&rct=j&q=&esrc=s&frm=1&source=web&cd=1&ved=0CCwQFjAA&url=http://msdn.microsoft.com/en-us/library/system.appdomain.aspx&ei=CRANUb3pC8fMtAbcqoHABw&usg=AFQjCNF2Md2mYvPTqb6oQ2R8iQcuBz4iPg&sig2=4RSumowJWsIyyaNuGv-oiQ&bvm=bv.41867550,d.Yms)，`CompositionContainer`在新的 AppDomain 中创建并检查发现的部分。然后将这些部分的信息序列化到主 AppDomain。最后卸载新的 AppDomain。然后，您可以检查您真正需要哪些部件，并仅加载包含它们的程序集。可以在此[答案](https://stackoverflow.com/a/14448420/850119)中找到有关如何执行此操作的示例。

另一种方法是使用[Mono.Cecil](http://www.mono-project.com/Cecil#Documentation)。这是一个很棒的库，可以帮助您在不加载程序集的情况下检查它们。您可以通过以下方法将其与[MEF 的导出元数据](http://mef.codeplex.com/wikipage?title=Exports%20and%20Metadata)结合使用：

```
public static bool IncludesTypeWithSpecificExportMetadata<T>(string assemblyPath, string name, T value)
    {
        AssemblyDefinition assemblyDefinition = AssemblyDefinition.ReadAssembly(assemblyPath);

        bool typeWasFound = false;          

        foreach (TypeDefinition typeDefinition in assemblyDefinition.MainModule.GetTypes())
        {
            foreach (CustomAttribute customAttribute in typeDefinition.CustomAttributes)
            {
                if (customAttribute.AttributeType.FullName == typeof(ExportMetadataAttribute).FullName)
                {
                    string actualName = (string)customAttribute.ConstructorArguments[0].Value;
                    T actualValue = (T)((CustomAttributeArgument)customAttribute.ConstructorArguments[1].Value).Value;
                    if (actualName.Equals(name) && actualValue.Equals(value))                        
                    {
                        typeWasFound = true;                       
                    }
                }
            }
        }

        return typeWasFound;
    } 
```

给定程序集文件路径和名称/值对，此方法将使用 Mono.Cecil 检查程序集并查找使用[ExportMetadataAttribute](http://msdn.microsoft.com/en-us/library/system.componentmodel.composition.exportmetadataattribute.aspx)和具有相同名称/值对的类型。

> 我假设用于通过 MEF 读取插件的典型 DirectoryCatalog 和 AggregateCatalog 模板会将所有发现的 DLL 复制到内存中并将它们存储在目录集合中。

真的。

> DLL 是否包含一个连续的代码块（程序集），或者它们是否可以包含多个单独的块，这些块被索引并根据需要单独复制到内存中（多个程序集）？

我不知道这件事。您可能会在 Don Box 的“Essential .NET Volume 1”或 Jeffrey Richter 的“C# via CLR”中找到答案。

> 我可能不了解基本原理，并且可能会混淆术语。我希望能深入了解 MEF、DLL 和程序集的一般加载行为。谢谢 ！

我上面提到的书籍详细包括如何解析/加载程序集等等。还可以查看[Suzanne Cook 的博客](http://blogs.msdn.com/b/suzcook/?Redirected=true)。

现在我想问你一件事。您真的需要将大文件嵌入到您的程序集中吗？如果您能找到另一种方法，那么您将不需要任何方法。你的插件引擎会有点简单。

最后我建议看看微软的[智能客户端软件工厂](http://smartclient.codeplex.com/)。它几乎可以完成您提到的所有事情以及更多。理解它并感到舒适需要一些努力，但从长远来看，它可能会为您节省大量时间。**

# ruby - 不知何故，我在 Mountain Lion 上安装的 Ruby 已损坏，现在我从 RVM 收到一条神秘消息

> ID：14619055
> 
> 赞同：0
> 
> 时间：2013-01-31T05:24:38.107
> 
> 标签：ruby, macos, gcc, installation, rvm

我正在尝试使用 RVM 安装 Ruby（最终是 Rails）。这是我收到的错误消息：

```
Error running 'env LDFLAGS=-L/opt/sm/pkg/active/lib CFLAGS=-I/opt/sm/pkg/active/include CPATH=/opt/sm/pkg/active/include ./configure --disable-install-doc --prefix=/Users/Mayank/.rvm/rubies/ruby-1.9.3-p374 --with-opt-dir=/Users/Mayank/.rvm/usr --disable-shared', please read /Users/Mayank/.rvm/log/ruby-1.9.3-p374/configure.log
There has been an error while running configure. Halting the installation. 
```

这是configure.log：

```
[2013-01-31 00:13:22] ./configure
checking build system type... x86_64-apple-darwin12.2.0
checking host system type... x86_64-apple-darwin12.2.0
checking target system type... x86_64-apple-darwin12.2.0
checking for C compiler default output file name...
configure: error: C compiler cannot create executables
See `config.log' for more details. 
```

我跑了

```
export CC=/usr/local/bin/gcc-4.2 
```

并验证那里有一个 gcc-4.2。

RVM 总是进入“配置”阶段，然后似乎进入一个循环，bash 和 env 交替显示在终端窗口的顶部。

我尝试重新运行 RailsInstaller，但没有做任何事情。

这一切的开始是因为

```
heroku db:push 
```

1.9.3 不支持并且 1.9.2 未安装。

我什至不知道如何搜索这样的错误，但我已经尝试了所有对其他人有用的方法。

编辑。我刚刚运行了**rvm debug**并得到了这个：

```
ruby-1.9.3-p374:
/Users/Mayank/.rvm/bin/ruby: line 6: /Users/Mayank/.rvm/bin/ruby: Argument list too long
/Users/Mayank/.rvm/bin/ruby: line 6: /Users/Mayank/.rvm/bin/ruby: Undefined error: 0 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-31T16:01:00.893

这是 railisinstaller 中的一个错误，更新 RVM`rvm get head`并阅读输出，更多细节在这里：[https ://stackoverflow.com/a/14078475/497756](https://stackoverflow.com/a/14078475/497756)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-04-24T12:49:35.810

下面的代码有效！

```
Minis-MacBook-Air:website daraotsu$ ruby -v
ruby 2.1.1p76 (2014-02-24 revision 45161) [x86_64-darwin12.0]
Minis-MacBook-Air:website daraotsu$ rvm use 2.1.1
Using /Users/daraotsu/.rvm/gems/ruby-2.1.1
Minis-MacBook-Air:website daraotsu$ rails s 
```

# jquery - 用于编辑和删除表格行的 Jquery

> ID：14619061
> 
> 赞同：2
> 
> 时间：2013-01-31T05:25:03.510
> 
> 标签：jquery, html, html-table

我已经编写了 html 文件，在其中创建了一个表。所以对于每一行我想定义添加、编辑和删除链接。

html文件的代码如下：

```
 <div id="users-contain" class="ui-widget">
        <h1>Existing Users:</h1>
        <table id="users" class="ui-widget ui-widget-content">
            <thead>
                <tr class="ui-widget-header ">
                    <th>Name</th>
                    <th>Email</th>
                    <th>Password</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td class="custom-name">John Doe</td>
                    <td>john.doe@example.com</td>
                    <td>johndoe1</td>
                    <td><a href="">Edit</a></td>
                    <td><span class="delete"><a href="">Delete</a></span></td>
                </tr>
            </tbody>
        </table>
    </div>
    <button id="create-user">
        Create new user
    </button> 
```

添加动作的模态如下：

```
 <div id="dialog-form" title="Create new user">
        <p class="validateTips">
            All form fields are required.
        </p>
        <form>
            <fieldset>
                <label for="first_name">First Name</label>
                <select id="first-name">
                    <option value="1">Arun</option>
                    <option value="2">Ganesh</option>
                    <option value="3">Suresh</option>
                    <option value="4">Sanganabasu</option>
                </select>
                <label for="last_name">Last Name</label>
                <select id="last-name">
                    <option value="1">Hulagabal</option>
                    <option value="2">Cheemalamudi</option>
                    <option value="3">Ganiger</option>
                    <option value="4">Kattriguppe</option>
                </select>
                <label for="email">Email</label>
                <input type="text" name="email" id="email" value="" class="text ui-widget-content ui-corner-all" />
                <label for="password">Password</label>
                <input type="password" name="password" id="password" value="" class="text ui-widget-content ui-corner-all" />
            </fieldset>
        </form>
    </div> 
```

Javascript代码如下：

```
$(function() {

            var fname = $("#first-name"), lname = $("#last-name"), email = $("#email"), password = $("#password");

            $("#dialog-form").dialog({
                autoOpen : false,
                height : 300,
                width : 350,
                modal : true,
                buttons : {
                    "Create an account" : function() {
                        $("#users tbody").append("<tr>" + "<td>" + (fname.find("option:selected").text()+' ').concat(lname.find("option:selected").text())+ "</td>" + "<td>" + email.val() + "</td>" + "<td>" + password.val() + "</td>" + "<td><a href='' class='edit'>Edit</a></td>" + "<td><span class='delete'><a href=''>Delete</a></span></td>" + "</tr>");
                        $(this).dialog("close");

                    },
                    Cancel : function() {
                        $(this).dialog("close");
                    }
                },
                close : function() {
                    allFields.val("").removeClass("ui-state-error");
                }
            });

              $('span.delete').live('click', function() {  
                $(this).closest('tr').find('td').fadeOut(1000, 
                    function(){ 
                        // alert($(this).text());
                        $(this).parents('tr:first').remove();                    
                    });    

                return false;
            });
            $("#create-user").button().click(function() {
                $("#dialog-form").dialog("open");
            });
        }); 
```

添加和删​​除操作现在正在运行，我创建了一个[http://jsfiddle.net/sangu0009/FvAuZ/](http://jsfiddle.net/sangu0009/FvAuZ/)但我需要编写编辑操作。请帮助我解决如何做到这一点。作品更受赞赏。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-31T06:33:48.530

首先，我修复了使您的小提琴第二次不显示对话框的错误，接下来，我为第一个电子邮件和密码创建了编辑，因为不知道名称：

```
$(function () {

    var new_dialog = function (type, row) {
        var dlg = $("#dialog-form").clone();
        var fname = dlg.find(("#first-name")),
            lname = dlg.find(("#last-name")),
            email = dlg.find(("#email")),
            password = dlg.find(("#password"));
        type = type || 'Create';
        var config = {
            autoOpen: true,
            height: 300,
            width: 350,
            modal: true,
            buttons: {
                "Create an account": save_data,
                    "Cancel": function () {
                    dlg.dialog("close");
                }
            },
            close: function () {
                dlg.remove();
            }
        };
        if (type === 'Edit') {
            config.title = "Edit User";
            get_data();
            delete(config.buttons['Create an account']);
            config.buttons['Edit account'] = function () {
                row.remove();
                save_data();

            };

        }
        dlg.dialog(config);

        function get_data() {
            var _email = $(row.children().get(1)).text(),
                _password = $(row.children().get(2)).text();
            email.val(_email);
            password.val(_password);

        }

        function save_data() {
            $("#users tbody").append("<tr>" + "<td>" + (fname.find("option:selected").text() + ' ').concat(lname.find("option:selected").text()) + "</td>" + "<td>" + email.val() + "</td>" + "<td>" + password.val() + "</td>" + "<td><a href='' class='edit'>Edit</a></td>" + "<td><span class='delete'><a href=''>Delete</a></span></td>" + "</tr>");
            dlg.dialog("close");
        }
    };

    $(document).on('click', 'span.delete', function () {
        $(this).closest('tr').find('td').fadeOut(1000,

        function () {
            // alert($(this).text());
            $(this).parents('tr:first').remove();
        });

        return false;
    });
    $(document).on('click', 'td a.edit', function () {
        new_dialog('Edit', $(this).parents('tr'));
        return false;
    });

    $("#create-user").button().click(new_dialog);

}); 
```

[演示](http://jsbin.com/amixeb/1/edit)

您应该在`get_data()`函数中设置数据；

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-31T05:58:26.507

你可以从这里开始，

将编辑链接更改为具有类编辑的跨度。

```
$('span.edit').on('click', function() {  

    $("#dialog-form").dialog({
        autoOpen : false,
        height : 300,
        width : 350,
        modal : true,
        buttons : {
            "Edit an account" : function() {

                name = $(this).closest('tr').find('td.custom-name').text().split(' ', 2);
                email = $(this).closest('tr').find('td:nth-child(2)').text();
                pass = $(this).closest('tr').find('td:nth-child(3)').text();
                var fname = name[0], lname = name[1];

                $("#first-name option:contains('" + name[0] + "')").attr('selected', 'selected');
                $("#last-name option:contains('" + name[1] + "')").attr('selected', 'selected');
                $("#email").text(email);
                $("#password").text(pass);

            },
            Cancel : function() {
                $(this).dialog("close");
            }
        },
        close : function() {
            allFields.val("").removeClass("ui-state-error");
        }
    });

    return false;
}); 
```

# php - 如何使用PHP正则表达式用任意字符串替换空格和逗号以及空格和逗号的组合？

> ID：14619067
> 
> 赞同：2
> 
> 时间：2013-01-31T05:25:24.853
> 
> 标签：php, regex, preg-match

如何使用 PHP 的 preg_match 替换：

1.  空白区域，以及
2.  逗号和
3.  空格和逗号的组合

例如，考虑以下字符串：

```
apple orange,strawberry, coconut 
```

注意：

1.  “apple”和“orange”之间只使用空格
2.  "orange" 和 "strawberry" 之间只使用逗号
3.  在“草莓”和“椰子”之间使用空格和逗号

如何使用 preg_match 将上面列出的元素的所有出现替换为单词 YES，这会导致以下字符串

```
appleYESorangeYESstrawberryYEScoconut 
```

提前致谢！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-31T05:27:54.483

```
preg_replace('/[\s,]+/', 'YES', $str); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-31T05:27:03.033

```
preg_replace('/\s+|\s*,\s*/', 'YES', $str); 
```

# javascript - 使用此语法进行 calc

> ID：14619068
> 
> 赞同：0
> 
> 时间：2013-01-31T05:25:33.220
> 
> 标签：javascript, function

```
function addnumbers(func) {

   return func(4, 6);

} 
```

我被要求使用这种结构制作一个计算器。我怎么可能使用参数使计算函数在这个语法中发生？我只需要简单的数学运算，例如加、减、除和乘。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-31T05:28:11.437

这看起来有点像将函数指针传递给函数并将其作为回调调用。

```
var add=function(a, b) {
    return a+b;
}

addnumbers(add); // returns 10 
```

* * *

因此，如果您将函数`add`作为函数的参数，您可以通过以下`addnumbers`方式记住文本：`func``add`

```
function addnumbers(add) {
   return add(4, 6);
} 
```

如果您`addnumbers`使用参数调用该函数`add`，则使用参数和调用该函数。现在再次插入脑海：`addnumbers``add``4``6`

```
var add=function(4, 6) {
    return 4+6;
} 
```

然后函数`add`会返回`10`，函数`addnumbers`也会返回这个值。

# objective-c - TouchesMoved 时如何获取这些精灵

> ID：14619071
> 
> 赞同：0
> 
> 时间：2013-01-31T05:25:41.647
> 
> 标签：objective-c, xcode, cocoa-touch, cocos2d-iphone, ccsprite

我的场景中有 20 个精灵。当我移动一个精灵时，我想知道被触摸的精灵是什么。当我移动的精灵被触摸时。

谁能帮我写代码。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-31T05:38:46.723

您可以使用，

```
 for(int i = 0; i<20; i++)
 {
   CCSprite *currentSprite = (CCSprite *)[self getChildByTag:i+tagOffset];

   if(CGRectIntersectsRect([movingSprite boundingBox],[currentSprite boundingBox]))   
   {
      // current sprite touched
      Break;
   }
 } 
```

# php - PHP 中的问题，表单的“值”属性中有多个函数参数

> ID：14619081
> 
> 赞同：0
> 
> 时间：2013-01-31T05:26:41.600
> 
> 标签：php, html, forms, arguments, user-defined-functions

我正在尝试使用 PHP 中的函数来回显表单元素的“值”属性的值。问题是如果我传递了多个参数，这个表单元素和我页面上的其余 HTML 将不会显示，尽管没有返回错误。使用一个参数，该函数按预期工作。该函数应该接收一个值和一个格式化常量，并将格式化的值回显到表单元素的“值”属性。

附加说明：单引号不会改变结果。如果我删除第二个参数，它处理得很好。

```
function myFunction($input, $format)
    {           
        if(isset($format))
        {
            switch($format)
            { 
                case "num":
                    if(is_num($input))
                        {
                            echo number_format($input);
                            break;  //only breaks if the input & data type match, else it will return an error with catch
                        }
                case "percent":
                     if(is_num($input))
                     {
                            echo number_format($input, 2);
                            break;  //only breaks if the input & data type match, else it will return an error with catch
                     }
                default:
                    echo "Error: either format doesn't match the variable type or format type is undefined. Input: $input; Format: $format";
            }
        }
        echo number_format($input);
    }
...
<input type="text" name="M7" id="M7" value="<?php myFunction($value, "num"); ?>" onkeypress="return validateNumber(event)" readonly="true" /> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-01T04:14:03.380

来自 Sverri M. Olsen 的评论：is_num 不是 PHP 函数。你自己定义了吗？

不，应该是 is_numeric() - 修复了它，谢谢！– RWC 

谢谢！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-31T05:30:05.290

试试下面的代码

```
<input type="text" name="M7" id="M7" value="<?php myFunction($value, \"num\"); ?>" onkeypress="return validateNumber(event)" readonly="true" /> 
```

# 别的

```
<input type="text" name="M7" id="M7" value="<?php myFunction($value, 'num'); ?>" onkeypress="return validateNumber(event)" readonly="true" /> 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-01-31T05:28:31.840

为 num 字符串加上单引号

```
 <input type="text" name="M7" id="M7" value="<?php myFunction($value, 'num'); ?>" onkeypress="return validateNumber(event)" readonly="true" /> 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-01-31T05:30:40.600

这可能是因为 num 周围的“双引号”。尝试将其更改为单引号

# c++ - 复制 CCSprite

> ID：14619082
> 
> 赞同：2
> 
> 时间：2013-01-31T05:26:53.073
> 
> 标签：c++, cocos2d-x, ccsprite

我有一个`CCSprite`对象，我想在另一个对象中复制它`CCSprite`。然后我想展示那个副本。我尝过这段代码，但它会产生运行时错误。

```
CCSprite* copy=CCSprite::spriteWithTexture(original->getTexture()); 
```

如何制作我的副本`CCSprite`？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-05T22:43:29.040

你这样做是为了速度吗？

如果是这样，您应该使用“精灵表”。使用精灵表，一组精灵帧（图形）被加载到纹理内存中，然后每次使用这些精灵帧中的任何一个创建精灵时，系统实际上都在使用已经在内存中的相同纹理。此外，当在屏幕上绘制精灵时，任何使用该纹理的精灵都会“批量”（同时）这样做，从而节省处理周期（速度很快）。

有关示例，请参见此项目。汽车和猫精灵加载在精灵表中： [http ://www.gmtdev.com/blog/2011/08/19/how-to-use-box2d-for-just-collision-detection-with-cocos2d- X/](http://www.gmtdev.com/blog/2011/08/19/how-to-use-box2d-for-just-collision-detection-with-cocos2d-x/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-31T09:54:24.683

您应该确保在副本使用时不会删除原件的纹理。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-03T17:19:16.940

你看过 CCObject::copy() 吗？

我经常使用这种技术来复制动作。CCSprite 派生自 CCObject，因此虽然我没有尝试过，但您可以通过在 sprite 实例上调用 copy() 来复制 sprite。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-31T07:25:32.780

如果你想有很多重复的精灵，你需要将你的精灵存储在 CCArray 上，然后再次调用该函数以使用函数的 schedule 添加精灵

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2016-02-10T14:19:33.417

cocos2dx 没有为精灵提供克隆方法。您必须通过获取第一个精灵的纹理并以这种方式创建具有该纹理的精灵来自己制作。

Sprite *clonedSprite = Sprite::createWithTexture(originalSprite->getTexture());

# android - 在后台执行某些任务时显示的进程对话框在任务完成后不会被取消

> ID：14619086
> 
> 赞同：0
> 
> 时间：2013-01-31T05:27:04.407
> 
> 标签：android

当在后台执行任务时，我正在显示一个进程对话框，问题是，它在工作完成后没有被取消/解雇。

这是我的 AsyncTask 类：

```
public class FetchEmployeeAsyncTask extends AsyncTask<String, Void, ArrayList<Employee> >   {

private CaptureActivity activity;
private ProgressDialog progressDialog;
public FetchEmployeeAsyncTask(CaptureActivity nextActivity) {
    this.activity = nextActivity;
}

@Override
protected ArrayList<Employee> doInBackground(String... url) {
    // TODO Auto-generated methoVoidd stub
    ArrayList<Employee> employees = null;
    for(String employeeUrl : url){
        employees = fetch(employeeUrl);
    }
    return employees;
}

private ArrayList<Employee> fetch(String url) {
    // TODO Auto-generated method stub
    ArrayList<Employee> employees = null;
    String response = null;
    try {
        DefaultHttpClient httpClient = new DefaultHttpClient();
        HttpGet httpGet = new HttpGet(url);

        HttpResponse httpResponse = httpClient.execute(httpGet);
        HttpEntity httpEntity = httpResponse.getEntity();
        response = EntityUtils.toString(httpEntity);
        employees = EmployeeXMLParser.employeeParser(response);
        System.out.println("Size in fetch "+employees.size());

        //System.out.println("Employee Name :: " + employees.get(0).getFirstName() + " " + employees.get(0).getLastName());
    } catch (UnsupportedEncodingException e) {
        e.printStackTrace();
    } catch (ClientProtocolException e) {
        e.printStackTrace();
    } catch (IOException e) {
        e.printStackTrace();
    } /*catch (XmlPullParserException e) {
        // TODO Auto-generated catch block
        System.out.println("Error parsing the response :: " + response);
        e.printStackTrace();
    }*/
    return employees;
}

@Override
protected void onPreExecute() {
    // TODO Auto-generated method stub
    super.onPreExecute();
    progressDialog = new ProgressDialog(activity);
    progressDialog.setCancelable(true);
    progressDialog.setTitle("Fetching Employees!!");
    progressDialog.setMessage("Please wait...");
    progressDialog.setProgressStyle(ProgressDialog.STYLE_SPINNER);
    progressDialog.setProgress(0);
    progressDialog.show();
}

@Override
public void onPostExecute(ArrayList<Employee> employees){
    super.onPostExecute(employees);

    System.out.println("in post execxute "+employees.size());
    progressDialog.dismiss();
    activity.showEmployees(employees);

}
} 
```

这个类是从一个活动类中调用的。这是我的活动课：

```
public class CaptureActivity extends Activity {

private String url = "";

FetchEmployeeAsyncTask employeeAsyncTask = new FetchEmployeeAsyncTask(this);
SelectedEmployeeAsyncTask selectedEmployeeAsyncTask = new SelectedEmployeeAsyncTask(this);
private ArrayList<Employee> employees = null;

@Override
protected void onCreate(Bundle savedInstanceState) {

    super.onCreate(savedInstanceState);

    employeeAsyncTask.execute(new String[] {url});

    System.out.println("Status "+employeeAsyncTask.getStatus());

    setContentView(R.layout.activity_capture);

}

@Override
public boolean onCreateOptionsMenu(Menu menu) {
    // Inflate the menu; this adds items to the action bar if it is present.
    getMenuInflater().inflate(R.menu.activity_capture, menu);
    return true;
}

public void showEmployees(ArrayList<Employee> employees) {
    // TODO Auto-generated method stub
    System.out.println("Status 2  "+employeeAsyncTask.getStatus());
    TableLayout employeeTable = (TableLayout) findViewById(R.id.main_table);

    TableRow header = new TableRow(this);
    header.setId(100);
    header.setBackgroundColor(Color.rgb(255, 165, 0));
    //header.setLayoutParams(new LayoutParams(LayoutParams.MATCH_PARENT, LayoutParams.MATCH_PARENT));

    TextView empCodeHeader = new TextView(this);
    empCodeHeader.setId(200);
    empCodeHeader.setText("Employee Code");
    empCodeHeader.setTextSize(16);
    empCodeHeader.setPadding(2,2,2,2);
    empCodeHeader.setWidth(200);
    header.addView(empCodeHeader);

    TextView empNameHeader = new TextView(this);
    empNameHeader.setId(201);
    empNameHeader.setText("Employee Name");
    empNameHeader.setTextSize(16);
    empNameHeader.setPadding(2,2,2,2);
    empNameHeader.setWidth(300);
    header.addView(empNameHeader);} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-31T06:15:37.023

将 CaptureActivity 代码更改为：

```
 public class CaptureActivity extends Activity {

    private String url = "";

    FetchEmployeeAsyncTask employeeAsyncTask ;
    SelectedEmployeeAsyncTask selectedEmployeeAsyncTask;
    private ArrayList<Employee> employees = null;

    @Override
    protected void onCreate(Bundle savedInstanceState) {

        super.onCreate(savedInstanceState);
       setContentView(R.layout.activity_capture);  //<< call here setContentView

       employeeAsyncTask = new FetchEmployeeAsyncTask(this);
       selectedEmployeeAsyncTask = new SelectedEmployeeAsyncTask(this);

       employeeAsyncTask.execute(new String[] {url});

        System.out.println("Status "+employeeAsyncTask.getStatus());

    }
   // your code here... 
```

并确保 url 不为空

# ruby-on-rails-3.1 - 我做测试时找不到 after_create

> ID：14619090
> 
> 赞同：0
> 
> 时间：2013-01-31T05:27:35.030
> 
> 标签：ruby-on-rails-3.1, ruby-on-rails-3.2, rspec2, factory-bot

我正在使用这个工厂为我的测试创建测验：

```
 factory :quiz_with_two_choices_first_correct, :class => Quiz do |i|
    quiz_type Quiz.SINGLE_ANSWER_CHOICE
    weight 1

    i.after_create do |quiz|
      quiz.quiz_choices = [FactoryGirl.create(:quiz_choice, :body=>'Quiz Choice 1', :is_correct=>true, :position=>1),
                           FactoryGirl.create(:quiz_choice, :body=>'Quiz Choice 2', :is_correct=>false, :position=>2)]
    end
  end 
```

在我的测验模型中，我有：

```
 after_create { |record|

    if !current_unit.nil? then
      if current_unit_type.eql? FinalExam.to_s then
        current_unit.total_weights=
            current_unit.total_weights+ record.weight
        current_unit.save
      end
    end

  } 
```

但是当我尝试测试时，我收到了这个错误：

```
Failure/Error: quiz= FactoryGirl.create(:quiz_with_two_choices)
     NoMethodError:
       undefined method `after_create=' for #<Quiz:0xb50075c> 
```

这是我的测试：

```
describe "When a final question is created" do

  it "can't be deleted if any student is enrolled to it" do
    quiz= FactoryGirl.create(:quiz_with_two_choices)
    final_question = FinalExamQuestion.create(:quiz_id=>quiz.id)
    quiz_count_before_try_to_destroy_quiz= Quiz.all.count
    quiz.destroy
    Quiz.all.count.should == quiz_count_before_try_to_destroy_quiz
  end
  it "can be deleted if there isn't any student enrolled to it" do
    quiz= FactoryGirl.create(:quiz_with_two_choices)
    quiz_count_before_try_to_destroy_quiz= Quiz.all.count
    quiz.destroy
    Quiz.all.count.should_not == quiz_count_before_try_to_destroy_quiz
  end
end 
```

那么，有什么问题呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-31T08:18:24.297

问题在于您在工厂内分配了一个 after create 块：

```
i.after_create do |quiz|
      quiz.quiz_choices = [FactoryGirl.create(:quiz_choice, :body=>'Quiz Choice 1', :is_correct=>true, :position=>1),
                           FactoryGirl.create(:quiz_choice, :body=>'Quiz Choice 2', :is_correct=>false, :position=>2)]
    end 
```

这试图运行`quiz.after_create=`，显然没有这样的方法用于测验实例。

作为一种解决方案，您可以尝试使用以下对工厂女孩有效的语法：

```
 after(:create) do |quiz|
    # Do your quiz stuff here
  end 
```

# java - 如何使用 OpenGL ES 1.0 在两个向量之间动态绘制一条线

> ID：14619092
> 
> 赞同：0
> 
> 时间：2013-01-31T05:27:57.237
> 
> 标签：java, android, opengl-es, line, draw

我只是在学习一些 OpenGL ES 编程（1.0，因为这是我使用的书），我不知道如何在两个由位置向量表示的游戏对象之间画一条线。

假设我有一个 Tower 塔和一个 Creature creep（如果你没有猜到的话，塔防游戏），它们的位置都由 (object).position.x 和 (object).position.y 表示，其中 position 是一个向量。在给定它们各自的位置向量的情况下，我将如何使用 GL10 绘制一条代表塔攻击蠕变的线？

这是我第一次做这样的事情，所以请多多包涵。我还有一个类 Vector2 可以处理几乎所有基本的向量加法/减法/等。示例代码将不胜感激！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-31T06:58:12.747

尝试

```
glLineWidth(1.0); //the width of the line
glColor3f(0.0, 0.0, 1.0); //colour (RGB) of the line
glBegin(GL_LINES); //start drawing a line
     glVertex3f(0.0, 0.0, 0.0); //starting vector
     glVertex3f(1.0, 2.0, 3.0); //ending vector
glEnd(); //finish drawing a line 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-17T00:45:21.423

加载一个 4 个顶点 6 个索引矩形，相差 1 个像素，并将线条颜色设置为您想要的任何颜色，将位置向量 2 x 和 y 用于您制作的矩形 2triangles，例如

```
 float[] {Vector2.x - 1, Vector2.y, 0,1,0,1, Vector2.x,Vector2.y,0,1,0,1,Vector2(1).x,Vector2(1).y, 0,1,0,1, Vector2(1).x - 1, Vector(2).y, 0,1,0,1); 
```

idk 如果这对你有帮助 Vector2 你正在阅读开始的 android 游戏吗？这就是我正在阅读的内容

# iphone - 光标出现在自定义 UITextField 背景图片之前

> ID：14619097
> 
> 赞同：3
> 
> 时间：2013-01-31T05:28:17.990
> 
> 标签：iphone, ios, uitextfield

我有一个大小为 360X44 的背景图像，我试图将其作为我的 UITextFields 的背景，但是它显示出意外的行为。光标在图像开始之前出现，但文本被写入写入位置。

![背景图像](../Images/d88f8704a28f99b5b99da10a9a6c9e6c.png)

**我的 UiTextField 的实现**

```
UITextField *textFieldRounded = [[UITextField alloc] initWithFrame:CGRectMake(100, 75, 215, 30)];
textFieldRounded.borderStyle = UITextBorderStyleNone;
UIImage *fieldBGImage = [[UIImage imageNamed:@"textfield_normal.png"]  stretchableImageWithLeftCapWidth:50 topCapHeight:50];
[textFieldRounded setBackground:fieldBGImage];
textFieldRounded.textColor = [UIColor blackColor];
textFieldRounded.font = [UIFont systemFontOfSize:17.0];
textFieldRounded.placeholder = @"http://";  //place holder
textFieldRounded.backgroundColor = [UIColor whiteColor];
textFieldRounded.autocorrectionType = UITextAutocorrectionTypeNo;
textFieldRounded.backgroundColor = [UIColor clearColor];
textFieldRounded.keyboardType = UIKeyboardTypeDefault;
textFieldRounded.returnKeyType = UIReturnKeyDone;
textFieldRounded.clearsOnBeginEditing = NO;
textFieldRounded.clearButtonMode = UITextFieldViewModeWhileEditing;    
[self.view addSubview:textFieldRounded];    
textFieldRounded.delegate = self; 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-31T05:38:22.450

我只是像我的波纹管代码一样设置 TextFiled 背景图像并且工作良好：-

```
 [YourTextFiled setFont:[UIFont systemFontOfSize:18]];
        YourTextFiled.textAlignment = UITextAlignmentLeft;
        YourTextFiled.leftView = [[UIView alloc] initWithFrame:CGRectMake(0, 0, 12, 20)];
        YourTextFiled.leftViewMode = UITextFieldViewModeAlways;
        YourTextFiled.background = [[UIImage imageNamed:@"xFOEr.png"] stretchableImageWithLeftCapWidth:7 topCapHeight:17]; 
```

看起来像”-

![在此处输入图像描述](../Images/c1c99f1027a82c5d722a0ba38449971b.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-31T09:01:16.840

```
UITextView *textView = [[UITextView alloc]initWithFrame: window.frame];
textView.text = @"text\n text\n text";
UIImageView *imgView = [[UIImageView alloc]initWithFrame: textView.frame];
imgView.image = [UIImage imageNamed: @"myImage.jpg"];
[textView addSubview: imgView];
[textView sendSubviewToBack: imgView];
[window addSubview: textView]; 
```

Dont use background property. Add image as subview and send subview to back.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-31T05:31:41.487

我建议不要将图像添加为背景颜色。将其添加为不同的组件。即首先添加一个`UIImageView`然后添加你的`UITextField`就可以了。

同时尝试在您当前的代码中进行此更改：

```
UITextField *textFieldRounded = [[UITextField alloc] initWithFrame:CGRectMake(100, 75, 360, 44)]; 
```

# build - 我在哪里可以获得 libsvn_client-1.lib 用于 php 构建

> ID：14619098
> 
> 赞同：0
> 
> 时间：2013-01-31T05:28:20.523
> 
> 标签：build, static-libraries, php-extension

我一直在尝试使用本教程编译 php：[https ://wiki.php.net/internals/windows/libs#pecl_extensions](https://wiki.php.net/internals/windows/libs#pecl_extensions)

我有 0 经验这样做。我需要这样做才能获得支持很差的 php-svn 扩展。运行 configure 命令后，读数显示我没有 libsvn_client-1.lib，而且我不知道从哪里得到它。我看过这里：[https](https://wiki.php.net/internals/windows/libs#extensions_and_their_libraries) ://wiki.php.net/internals/windows/libs#extensions_and_their_libraries并用谷歌搜索我的脸无济于事。有没有人有任何想法？

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-31T14:53:38.637

在这里找到图书馆：http: [//sourceforge.net/projects/win32svn/files/](http://sourceforge.net/projects/win32svn/files/) ...现在我需要另一个，但是，它似乎没有包含在开发包中：libsvn_ra_dav-1.lib

# jquery - 当链接在其中时，如何使用 prettyPhoto 启用下一个/上一个

> ID：14619107
> 
> 赞同：8
> 
> 时间：2013-01-31T05:28:53.220
> 
> 标签：jquery, prettyphoto

我有一个带有以下标记的画廊：

```
<ul>
<li>
    <figure>
        <a href="myimg1.jpg" rel="prettyPhoto"><img src="thumb1.jpg" /></a>
        <figcaption>
        some stuff here
        </figcaption>
    </figure>
</li>
<li>
    <figure>
        <a href="myimg2.jpg" rel="prettyPhoto"><img src="thumb2.jpg" /></a>
        <figcaption>
        some stuff here
        </figcaption>
    </figure>
</li>
</ul> 
```

据我所知，要使自动下一个/上一个导航起作用，图像链接需要在 DOM 中彼此并排。有没有简单的方法让它与上述结构一起工作？我查看了选项，但看不到任何明显的东西。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-02-14T09:20:22.443

我所做的只是修改`rel`图像的属性，所以：

```
<a href="myimg1.jpg" rel="prettyPhoto"><img src="thumb1.jpg" /></a>
<a href="myimg2.jpg" rel="prettyPhoto"><img src="thumb2.jpg" /></a> 
```

变成这样：

```
<a href="myimg1.jpg" rel="prettyPhoto[gallery_name]"><img src="thumb1.jpg" /></a>
<a href="myimg2.jpg" rel="prettyPhoto[gallery_name]"><img src="thumb2.jpg" /></a> 
```

这样做让我获得了下一个/上一个控件。我在 prettyPhoto[主页上](http://www.no-margin-for-errors.com/projects/prettyphoto-jquery-lightbox-clone/#image-gallery-overview)找到了详细信息。

我的 Javascript 是这样的：

```
$(document).ready(function () {
    $("a[rel^='prettyPhoto']").prettyPhoto({
        theme: 'facebook',
        slideshow: 5000,
        autoplay_slideshow: false
    });
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-16T15:47:15.523

根据[文档](http://www.no-margin-for-errors.com/projects/prettyphoto-jquery-lightbox-clone/documentation)，您可以简单地使用公共 API。

```
jQuery.prettyPhoto.changePage('next');
jQuery.prettyPhoto.changePage('previous'); 
```

例如，尝试在您的标记中添加类似这样的内容：

```
<div id="prettyphoto-controls">
  <span onclick="jQuery.prettyPhoto.changePage('next');">&lt; Previous</span> |
  <span onclick="jQuery.prettyPhoto.changePage('next');">Next &gt;</span>
</div> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-10-21T05:10:59.610

我通过在引号内简单地添加 [ppgal] 解决了我在 prettyPhoto 上没有导航的问题

像这样：

```
rel="prettyPhoto[pp_gal]" 
```

# c# - MVC web 应用在 global.asax 中，当 session 超时时如何获取 cookie 值

> ID：14619108
> 
> 赞同：3
> 
> 时间：2013-01-31T05:28:55.963
> 
> 标签：c#, asp.net-mvc, cookies, global-asax, session-timeout

大家，我是新来的。希望你能帮助我，提前谢谢。

现在我遇到了一个问题，对于 global.asax 中的 MVC Web 应用程序，当会话超时时如何获取我在某个控制器中设置它的值的 cookie 值；

我已经尝试过事件 Session_End()&Session_Start()，但我不确定如何获取 cookie 值。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-31T16:35:14.003

您无法从 Session_End 访问 cookie，因为 Session_End 不是从用户请求中触发的，这意味着它无法读取存储在用户浏览器上的内容。但是您可以在 Session 对象上存储一些数据：

```
//Inside your controller
Session["YourData"] = "Some value"; 
```

然后在 Session_End 事件中获取它：

```
void Session_End(object sender, EventArgs e)
{
    var someValue = (string)Session["YourData"];
    //do something with someValue
} 
```

我希望这有帮助

# java - oauth.py java 等价物

> ID：14619111
> 
> 赞同：-1
> 
> 时间：2013-01-31T05:29:11.943
> 
> 标签：java, python, oauth, gmail, jakarta-mail

寻找[xoauth.py](http://code.google.com/p/google-mail-xoauth-tools/wiki/XoauthDotPyRunThrough)的 java 等效文件。我试过[这个](https://stackoverflow.com/a/12243874/234110)，但没有太大帮助。任何指针/帮助/指导/参考？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T04:28:56.010

找到了这个很棒的 AP​​I 库，叫做[Scribe](https://github.com/fernandezpablo85/scribe-java)。现在我的生活太简单了，只有 Pure-Java！特别感谢[Pablo](https://github.com/fernandezpablo85)的创作

# nasm - 未定义对 WinMain@16 的引用

> ID：14619114
> 
> 赞同：6
> 
> 时间：2013-01-31T05:29:47.610
> 
> 标签：nasm

```
segment .data

msg db "Enter your ID", 0xA, 0xD
len equ $ - msg

segment .bss

id resb 10

segment .text

global _start

_start:

    mov eax, 4
    mov ebx, 1
    mov ecx, msg
    mov edx, len
    int 0x80

    mov eax, 3
    mov ebx, 0
    mov ecx, id
    mov edx, 10
    int 0x80

    mov eax, 4
    mov ebx, 1
    int 0x80

_exit:

    mov eax, 1;
    xor ebx, ebx
    int 0x80

    ;End 
```

我正在尝试使用 gcc 在 c 中编译此文件，但程序给了我一个错误，我完全不知道问题出在哪里。它与我的操作系统有关吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-31T13:05:30.793

该程序仅适用于 32 位 Linux。这个程序仍然存在问题。

将 '_start' 更改为 'main' 此外，系统调用后可能不会保留 ecx 和 edx (int 0x80)

请尝试以下示例。

组装和链接：
nasm -felf hello.asm
gcc -o hello hello.o

```
segment .data

msg db "Enter your ID", 0xA
len equ $ - msg

segment .bss

id resb 10

segment .text

global main

main:

    mov eax, 4
    mov ebx, 1
    mov ecx, msg
    mov edx, len
    int 0x80

    mov eax, 3
    mov ebx, 0
    mov ecx, id
    mov edx, 10
    int 0x80

    mov edx, eax  ;; length of the string we just read in.
    mov eax, 4
    mov ebx, 1
    mov ecx, id
    int 0x80

_exit:

    mov eax, 1;
    xor ebx, ebx
    int 0x80

    ;End 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-31T13:28:59.447

对于 Windows，如果您可以使用 C 库，请尝试此示例。

```
;;Assemble and link with
;nasm -fwin32 hello.asm
;gcc -o hello hello.obj

global _main 
extern _scanf 
extern _printf     

segment .data

    msg: db "Enter your ID", 0xA, 0xD, 0  ; note the null terminator.
    formatin: db "%s", 0                  ; for scanf.

segment .bss
    id resb 10

segment .text

_main:

   push msg
   call _printf
   add esp, 4 

   push id  ; address of number1 (second parameter)
   push formatin ; arguments are pushed right to left (first parameter)
   call _scanf
   add esp, 8 

   push id
   call _printf
   add esp,4              

   ret 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2017-05-28T18:20:08.003

我知道这是一个旧线程，但我一直有这个问题并想澄清它。

您需要更改`_start`为`_main`. 我相信这是这样 NASM 可以正确组装您的文件，将引用替换为`WinMain@16`，`_main`以便 MinGW 可以成功链接它

另外，`int 0x80`是一个LINUX系统调用。也许`call _printf`改用，并放在`extern _printf`程序的顶部。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-31T05:38:45.890

您的代码不应该使用标准 C 库，因此将其与 bare`ld`而不是链接`gcc`会有所帮助（`_start`默认情况下是入口点，可以使用`--entry`for 选项指定其他入口点`ld`）。

但这无济于事：此代码不适用于 Windows 操作系统，而且您显然是在为 Windows 编译它。

# java - FlatFileItemWriter在Spring批处理中生成异常的空白文件

> ID：14619117
> 
> 赞同：0
> 
> 时间：2013-01-31T05:30:08.907
> 
> 标签：java, spring, spring-batch

我正在从事传统的 READ > PROCESS > WRITE 文件操作的 spring 批处理作业。

下面是我正在使用的 writer 的示例代码。

```
<bean id="simBeqResponseFlatFileWriter" class="org.springframework.batch.item.file.FlatFileItemWriter">
        <property name="resource" ref="fileWriteSystemResource"></property>
        <property name="lineAggregator">
            <bean class="org.springframework.batch.item.file.transform.PassThroughLineAggregator" />
        </property>
    </bean> 
```

我面临一个问题，即使在代码中引发了一些异常，也会生成一个空白文件。在代码中引发任何异常时，根本不应该生成该文件。

需要一些帮助来解决问题。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-04T11:40:00.843

我找到了解决方案。FaltFileItemWriter 有一个属性，需要使用如下

```
<property name="shouldDeleteIfEmpty" value="true"/> 
```

# iphone - iPhone 中的 Sybase 同步组

> ID：14619119
> 
> 赞同：1
> 
> 时间：2013-01-31T05:30:15.420
> 
> 标签：iphone, synchronization, sup

我在我的 iPhone 应用程序中使用 Sybase Unwired Platform。我使用 SAP 功能模块创建了 MBO。我按照 iOS 开发人员指南 2.1 ESD #3 创建我的应用程序。我的 SUP 服务器中有一些同步组。我需要从我的 iPhone 客户端应用程序同步特定组。我尝试使用“beginSynchronize”和“submitPendingOperations”方法但它没有同步。当我尝试使用“synchronizeWithListener”方法时它有效但不是特定组。我需要提高同步速度通过同步特定组或特定 MBO。

我是 SUP 的新手。任何帮助都是可观的

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-01T13:21:56.377

在您的数据库生成类中，您有以下方法：

```
/*!
  @method 
  @abstract synchronize the synchronizationGroup with server.
  @discussion
  @throws SUPPersistenceException
*/
 + (void)synchronize;

/*!
   @method 
   @abstract synchronize the synchronizationGroups with server, using custom syncStatusListener.
   @discussion
   @throws SUPPersistenceException
 */
  + (void)synchronizeWithListener:(id<SUPSyncStatusListener>) listener;

/*!
   @method 
   @abstract synchronize the synchronizationGroup with server, using custom syncStatusListener.
   @discussion
   @throws SUPPersistenceException
*/
  + (void)synchronize:(NSString *)synchronizationGroup withListener:(id<SUPSyncStatusListener>)listener;

/*!
   @method 
   @abstract synchronize the synchronizationGroup with server.
   @discussion
   @throws SUPPersistenceException
 */
 + (void)synchronize:(NSString*)synchronizationGroup; 
```

采用参数**synchronizationGroup**的那些是您需要在您的情况下使用的（带有 of 没有侦听器，具体取决于您是否需要同步或异步操作）。

另外，请记住，如果您的 MBO 具有同步参数，它们将不会在主要的 synchronize/synchronizeWithListener 方法中同步。

# android - 如何使用 jfeinstein10 / SlidingMenu 在 Android 中实现两级滑动菜单？

> ID：14619123
> 
> 赞同：12
> 
> 时间：2013-01-31T05:30:32.620
> 
> 标签：android, slidingmenu

我想在 android 中创建 2 级滑动菜单。当我单击第一个滑动菜单项时，我需要在左侧显示另一个滑动菜单。我使用以下代码创建了第一级滑动菜单。

```
<?xml version="1.0" encoding="utf-8"?>
<FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/menu_frame"
    android:layout_width="match_parent"
    android:layout_height="match_parent" >

    <ListView    
        android:id="@android:id/list"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:paddingLeft="@dimen/list_padding"
        android:paddingRight="@dimen/list_padding" />

</FrameLayout> 
```

代码部分

```
SlidingMenu menu;
menu = new SlidingMenu(this);
menu.setMode(SlidingMenu.LEFT);
menu.setTouchModeAbove(SlidingMenu.TOUCHMODE_FULLSCREEN);
menu.setShadowWidth(10);
menu.setFadeDegree(0.0f);
menu.attachToActivity(this, SlidingMenu.SLIDING_WINDOW);
menu.setBehindWidth(200);
menu.setMenu(R.layout.menu_frame); 
```

如何进行二级滑动菜单的制作？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-31T09:57:11.230

试试这个：

```
SlidingMenu menu;
menu = new SlidingMenu(this);
menu.setMode(SlidingMenu.LEFT_RIGHT);
menu.setTouchModeAbove(SlidingMenu.TOUCHMODE_FULLSCREEN);
menu.setShadowWidth(10);
menu.setFadeDegree(0.0f);
menu.attachToActivity(this, SlidingMenu.SLIDING_WINDOW);
menu.setBehindWidth(200);
menu.setMenu(R.layout.menu_frame);
//Set the secondary menu
menu.setSecondaryMenu(R.layout.menu_frame);
menu.setSecondaryShadowDrawable(R.drawable.shadow); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-03T09:54:41.783

我们可以使用 android 中的 TranslateAnimation 来实现 SlideMenu。在 XML 中创建一个 frameLayout 并拥有 MainXML 页面，然后是 MainSlidingMenu。与 MainSlidingMenu 相邻的是辅助滑动菜单。默认情况下 MainSlidingMenu 和 Secondary SlidingMenu 不可见。如果按钮单击或任何所需事件发生显示 Main SlidingMenu ，则如果 MainSlidingmenu 中有单击/事件，则进一步转换 MainMenu 以显示辅助滑动菜单。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-07-24T08:38:59.287

这就是我得到它的方式，使用提到的库：

此布局包含顶级滑动菜单，它引用菜单的布局 (fragment_nav_menu) 和带有子菜单布局参考的布局如上图所示。

```
<com.jeremyfeinstein.slidingmenu.lib.SlidingMenu xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:sliding="http://schemas.android.com/apk/res-auto"
    android:id="@+id/slidingMenuRoot"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    sliding:viewAbove="@layout/sliding_sub_menu"
    sliding:viewBehind="@layout/fragment_nav_menu"
    sliding:touchModeAbove="fullscreen"
    /> 
```

这将是二级菜单 (sliding_sub_menu.xml)，请注意您在此处设置为 viewAbove 的内容将是实际的顶级内容。

```
<com.jeremyfeinstein.slidingmenu.lib.SlidingMenu
    xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:sliding="http://schemas.android.com/apk/res-auto"
    android:id="@+id/slidingSubMenuRoot"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    sliding:viewAbove="@layout/fragment_content"
    sliding:viewBehind="@layout/fragment_sliding_menu"
    sliding:touchModeAbove="fullscreen"
/> 
```

内容布局 (fragment_content.xml) 可能是这样的，一个简单的 FrameLayout，然后以编程方式添加所需的片段。

```
<FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/mainContentFrame"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="@drawable/app_background"
    /> 
```

同样，滑动子菜单内容在布局文件 (fragment_sliding_menu.xml) 中定义，并以编程方式用于广告片段实例。

```
<FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/mainContentFrame"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="@drawable/app_background"
    /> 
```

要将片段添加到这些 FrameLayouts，请使用类似这样的方法（也可以在添加新片段之前删除潜在的先前片段）：

```
 FragmentTransaction fragTrans = getSupportFragmentManager().beginTransaction();
    fragTrans.add(R.id.slidingSubMenuFrame, SubMenuFragment.newInstance(this));
    fragTrans.commit(); 
```

我还没有测试太多，但似乎工作。当然，需要进一步的逻辑来实现所需的菜单行为（关闭侦听器、选择项目等）。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2014-02-25T11:24:23.840

JFeinstein 滑动菜单是一个丰富的库。您可以根据需要轻松添加任意多的菜单级别。这个想法是使用滑动菜单作为主滑动菜单的左或右滑动视图等。这是一个提供 2 级菜单的独立示例。您需要将 JFeinstein 滑动菜单作为库导入并从 SlidingFragmentActivity 扩展您的活动。我将完整的活动代码与注释放在一起，以使事情更清楚。

```
 public class MainActivity extends SlidingFragmentActivity {

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        // dummy views - content view
        TextView content = new TextView(this);
        content.setBackgroundColor(Color.WHITE);
        content.setText("content");
       // Menu view
        TextView menu = new TextView(this);
        menu.setBackgroundColor(Color.GREEN);
        menu.setText("menu");
        // 2nd level menu view
        TextView subMenu = new TextView(this);
        subMenu.setBackgroundColor(Color.LTGRAY);
        subMenu.setText("submenu");

        //configure sliding menu
        SlidingMenu sm = getSlidingMenu();
        sm.setMode(SlidingMenu.SLIDING_WINDOW);
        sm.setTouchModeAbove(SlidingMenu.TOUCHMODE_FULLSCREEN);
        sm.setBehindOffset(80);
        sm.setBehindScrollScale(0.25f);
        sm.setFadeDegree(0.25f);

        //Another sliding menu - for 2nd level or sub menu 
        SlidingMenu leftSlidingView = new SlidingMenu(this);
        leftSlidingView.setMode(SlidingMenu.SLIDING_WINDOW);
        leftSlidingView.setTouchModeAbove(SlidingMenu.TOUCHMODE_FULLSCREEN);
        leftSlidingView.setBehindOffset(80);
        leftSlidingView.setBehindScrollScale(0.25f);
        leftSlidingView.setFadeDegree(0.25f);

    //==== Required instruments has been created ;) lets put them at right places   

        // setting menu and sub-menu view 
        leftSlidingView.setContent(menu);  // at center of left sliding view
        leftSlidingView.setMenu(subMenu);  // at left of left sliding view

        //set content view
        setContentView(content);           // at center of main sliding view
        // finally, set  leftSlidingView as behind content  view of main view
        setBehindContentView(leftSlidingView); // at left of main sliding view

    }
} 
```

结果如下：

![在此处输入图像描述](../Images/883ba9618ea02bb2ffde3dd60e25745a.png)

希望它会有所帮助:)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-06-11T23:47:41.597

我想通了，就是这么简单。

```
menu.setMenu(R.layout.layout_filemenu);
menu.setSecondaryMenu(R.layout.layout_main);
menu.setMode(SlidingMenu.LEFT_RIGHT); 
```

setMenu -> 左侧 SetSecondaryMenu -> 右侧

希望这可以帮助

# asp.net - 在 App_Data 文件夹中重新创建 LocalDB？

> ID：14619127
> 
> 赞同：1
> 
> 时间：2013-01-31T05:31:10.530
> 
> 标签：asp.net, asp.net-mvc, asp.net-mvc-4

`aspnet-myproject-20130130223621.mdf`我用另一个项目的文件替换了自动创建的 ldf 文件。它没有工作，所以我删除了这两个文件，并希望 Asp.Net 可以重新创建这两个文件。我总是在以下函数中收到以下错误异常。

1.  是否可以用现有的数据库文件替换自动生成的 Sql server localDB 文件？
2.  如何让 Asp.net 重新创建这些数据库文件？

例外情况：

```
public override void OnActionExecuting(ActionExecutingContext filterContext)
{
    // Ensure ASP.NET Simple Membership is initialized only once per app start
    LazyInitializer.EnsureInitialized(ref _initializer, ref _isInitialized, ref _initializerLock);
} 
```

异常消息：

> {“调用目标抛出异常。”}

内部异常消息：

> {“无法将文件 'c:\users\nick\documents\visual studio 2012\Projects\MyProject\MyProject\App_Data\aspnet-MyProject-20130130223621.mdf' 附加为数据库 'aspnet-MyProject-20130130223621'。”}

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-31T05:32:41.507

打开您的 SQL Server 管理工作室并连接到 LocalDB。您会看到您的数据库仍然存在。从那里删除它，.NET 将再次重新生成您的数据库。

# session - 一段时间后会话变量变为空

> ID：14619129
> 
> 赞同：1
> 
> 时间：2013-01-31T05:31:36.293
> 
> 标签：session

我开发了一个 web 应用程序，它将执行一些图像的幻灯片放映。我有这个应用程序的 jquery ajax web 方法调用

图像滚动完美......但一段时间后它停止了......我从日志中发现我的会话变量（这里是 Session [“用户名”]）正在变为空。我的代码是

```
 [WebMethod]
    [ScriptMethod]
    public static string GetNextImage()
    {
        try
        {

            if (HttpContext.Current.Session["Username"] != null)
            {
                string username = HttpContext.Current.Session["Username"].ToString();
                RollingScreenBAL bal = new RollingScreenBAL();
                DetailsForSlideShow[] details = bal.GetDetailsForSlideShow(username);
                int count = details.Length;
                int i;

                for (i = 0; i < count; i++)
                {
                    if (HttpContext.Current.Session["Count"] == null)
                    {

                        HttpContext.Current.Session["GraphUrl"] = details[0].GraphUrl;
                        HttpContext.Current.Session["Count"] = i + 1;
                        break;
                    }
                    else
                    {
                        if (Convert.ToInt32(HttpContext.Current.Session["Count"]) == i)
                        {
                            HttpContext.Current.Session["GraphUrl"] = details[i].GraphUrl;
                            if (i == (count - 1))
                            {
                                HttpContext.Current.Session["Count"] = null;
                            }
                            else
                            {
                                HttpContext.Current.Session["Count"] = i + 1;
                            }
                            break;

                        }
                    }

                }

            }
            return HttpContext.Current.Session["GraphUrl"].ToString();

        }
        catch (Exception ex)
        {

            ConfigurationManager configMgr = new ConfigurationManager();
            string traceFilePath = configMgr.GetTraceFilePath();
            StreamWriter traceFile = new StreamWriter(traceFilePath, true);
            traceFile.WriteLine(ex.Message + "\n" + ex.StackTrace + "Current User is  " + **HttpContext.Current.Session["Username"])**;
            traceFile.Close();
            return ex.Message;
        }
    } 
```

HttpContext.Current.Session["Username"]) 会话值正在变为空..谁能帮我为什么它会变为空？提前致谢...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-31T05:33:16.717

当会话超时（并且没有重新建立/重新初始化）时，或者当您将会话字典中的特定项目显式设置为 null 时，您的会话变量变为 null。

# .net - 如何从 postgresql 数据库生成 edmx

> ID：14619135
> 
> 赞同：5
> 
> 时间：2013-01-31T05:32:07.483
> 
> 标签：.net, asp.net-mvc-3, entity-framework, npgsql

我在 postgresql 中有一个数据库，我想在我的项目中使用 vs 2010（v4.0）中的向导生成 edmx（实体框架）。

我遵循了这个博客 [http://fxjr.blogspot.in/2011/05/npgsql-design-time-support-preview.html](http://fxjr.blogspot.in/2011/05/npgsql-design-time-support-preview.html)中给出的所有步骤，但是在生成 edmx 时我找不到 postgresql 的数据提供程序。

我也看过[http://ud-csharp.blogspot.in/2010/02/entity-framework-con-postgresql.html](http://ud-csharp.blogspot.in/2010/02/entity-framework-con-postgresql.html)但没有取得任何成功。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-05-16T18:02:05.677

在处理了 Npgsql 生成实体对象的类似问题后，我开始研究商业选项。

Devart 的 dotConnect for PostgreSQL Pro 让我很幸运。文档很好，包括 1 年支持，并且它们倾向于比 Npgsql 更快地添加与新功能和 Visual Studio 版本的兼容性。

[http://www.devart.com/dotconnect/postgresql/](http://www.devart.com/dotconnect/postgresql/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-09-02T15:38:57.003

适用于`NpgsqlDdexProvider`EntityFramework 5 和 6。我已使用 Visual Studio 2015 从 Postgres 成功生成模型。

见[http://www.npgsql.org/doc/ddex.html](http://www.npgsql.org/doc/ddex.html)

# javascript - javascript没有选择onclick事件

> ID：14619138
> 
> 赞同：0
> 
> 时间：2013-01-31T05:32:28.197
> 
> 标签：javascript, javascript-events

我有 2 个按钮

```
<input type="button" value="Submit" onclick="one()" />
<input type="button" value="Clear" onclick="two()" /> 
```

它们在中的定义`script.js`为

```
 function one() {
     alert("Submit is called");
 }
 function two() {
     alert("Clear is called");
 } 
```

这里`one()`有人接，但没有`two()`

可能是什么问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-31T06:06:43.810

问题是第二个按钮正在调用

```
<input type="button" value="Clear" onclick="click()" /> 
```

`click()`从固定它更改名称。

# jquery - JQuery Swap 2 div的z-index

> ID：14619139
> 
> 赞同：1
> 
> 时间：2013-01-31T05:32:30.943
> 
> 标签：jquery, asp.net, html, z-index, swap

我试图交换两个`div`元素的 z-index。

以下代码是我尝试切换两个 z 索引：

```
else if (pen_state == 1) {
                var pen_zindex = $("#pen").css("z-index");
                var curtain_zindex = $("#curtain").css("z-index");
                if (curtain_zindex < pen_zindex) {
                    $("#curtain").css('z-index',pen_zindex);
                    $("#pen").css('z-index',curtain_zindex);
                }
            } 
```

但无论我做什么，我都无法交换它们。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-31T05:45:58.550

当元素为`position:absolute`. 看这个例子：http: [//jsfiddle.net/ChrisMBarr/AZXmU/](http://jsfiddle.net/ChrisMBarr/AZXmU/)

# javascript - 如何在 javascript 或 jquery 中创建列表

> ID：14619142
> 
> 赞同：1
> 
> 时间：2013-01-31T05:32:57.067
> 
> 标签：javascript, jquery, regex

```
var d = $("#nw-dns_ip1_addr").val()+','+$("#nw-dns_ip2_addr").val(); 
            server_ip = [d.replace(/^,|,$/,"")]; //this will remove start and end comma
            alert(server_ip); 
```

我得到 190.82.0.56,170.20.0.20。我需要它“190.82.0.56”、“170.20.0.20”之类的列表。

但是当我也有单个值时应该处理它

var d = $("#nw-dns_ip1_addr").val(); 在这种情况下，我得到 '"'$("#nw-dns_ip1_addr").val()'"'

"190.82.0.56","" :(

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-31T05:34:50.567

您需要将双引号放在单引号中。

**[现场演示](http://jsfiddle.net/rajaadil/ZycUd/)**

```
var d ='"'+ $("#nw-dns_ip1_addr").val()+'","'+$("#nw-dns_ip2_addr").val() + '"'; 
server_ip = [d.replace(/^,|,$/,"")]; //this will remove start and end comma
alert(server_ip); 
```

**编辑**单个 IP 地址

**[现场演示](http://jsfiddle.net/rajaadil/ZycUd/1/)**

```
var d ='"'+ $("#nw-dns_ip1_addr").val()+'"'; 
server_ip = [d.replace(/^,|,$/,"")]; 
```

# ios - OSX和iOS之间的蓝牙通信

> ID：14619143
> 
> 赞同：8
> 
> 时间：2013-01-31T05:33:06.953
> 
> 标签：ios, macos, bluetooth, bonjour, iobluetooth

我正在开发一个执行大量 iOS <--> OSX 通信的应用程序。在大多数情况下，我已经解决了这个问题。

我正在使用[CocoaPort](https://github.com/agentsim/CocoaPort)进行通信。通过 Wifi，这很好用，而且速度很快。

我正在使用 Bonjour 来查找我的服务器。这需要在 iOS 上使用经过修改的[DNSSDObjects](http://developer.apple.com/library/mac/#samplecode/DNSSDObjects/Introduction/Intro.html)样式的网络服务发布服务。显然，iOS 无法看到通过 OSX 上的蓝牙发布的服务，但反之亦然，但您需要保持设备配对和连接。

现在我的问题是，如何提高蓝牙连接的速度？我的最大速度可能为 100kb/s，即使连接仍然打开，这似乎在大约 1 分钟后才停止。

我想我需要使用蓝牙 3.0 中的[AMP/HS](http://en.wikipedia.org/wiki/Bluetooth#Bluetooth_v3.0_.2B_HS)东西来获得快速连接。我的理解是，这会在我的设备（MBP Retina 和 iPad3，因此应该能够达到不错的速度）之间创建一个 AdHoc 无线网络。

根据 Wiki，蓝牙 4.0 包括蓝牙 3.0 中的 HS 规范，根据蓝牙资源管理器，iPad 是 4.0 规范。有没有办法，也许通过[IOBluetooth](http://developer.apple.com/library/mac/#documentation/DeviceDrivers/Reference/IOBluetooth/_index.html)来请求高速连接？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-31T19:46:33.497

根据@Apple 的一位工程师的说法，这目前是不可行的。你能做的最好的是蓝牙经典，这可能是我得到的速度。

如果您需要此功能，请考虑在 bugreporter.apple.com 上提出功能请求。

# c# - 我的并行循环没有提高性能

> ID：14619146
> 
> 赞同：3
> 
> 时间：2013-01-31T05:33:17.733
> 
> 标签：c#, winforms, parallel-processing

我正在使用并行循环来提高加载我在并行循环中调用的图表的性能。

Load Chart 方法有很大的代码，我想并行执行，但是当我执行时它并没有显示并行执行和顺序执行的区别。

并行和顺序进程都需要相同的时间来执行。

我的并行循环代码如下。

```
List<Chart> lstCharts = new List<Chart>();
        Parallel.For(0, givenSampleArray.Length, i =>
            {
                Chart NewChart = new Chart();

                objChart.LoadChart(ref NewChart, givenSampleArray[i], YAxisTable, XPointsValues,
                                   ScaleMinValue, ScaleMaxValue, ref dtNewRowsContainer,
                                   dtExcelData); 
                NewChart.Tag = (i + 1).ToString();
                NewChart.Width = (pnlChart.Width * 49) / (100);

                Legend legend = AddLegend();
                NewChart.Legends.Add(legend);

                lstCharts.Add(NewChart);
            }
        ); 
```

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2013-01-31T05:53:44.917

我注意到你的问题中没有问题，所以我会为你问一些：

> 为什么我的程序在并行化时没有变得更快？

九个女人一个月都不能聚在一起生孩子。当您并行化某些操作时，它们不会加速。这是其中之一。

> 可以通过并行化有效解决的问题的特征是什么？

将它们并行化后变得更快的操作具有以下特性：（1）问题可以轻松地分成任意数量的部分，（2）较小的问题可以相互独立地正确解决，以及（3）解决方案较小的问题可以很便宜地组合成较大问题的解决方案。

例如，将计算物理模拟与计算分形图像进行比较。许多相互作用物体的模拟很难分解成子问题，因为所有部分都相互作用。但是分形的前一千个像素不会与第二千个像素相互作用。分形计算很容易并行化；物理模拟更难并行化。（虽然当然可以做到，但这并不容易。）

> 假设我确实有一个“令人尴尬的并行”问题要解决。做十个线程会让它快十倍吗？

不，首先，如果您希望在并行化作业时更快，您需要*使处理器饱和*。如果您只有四个处理器，那么十个线程会使您的程序*变慢*，而不是*更快*。其次，创建和管理线程是有成本的，而这些成本超出了底线。

将线程视为驱动程序，将处理器视为汽车。如果你有一千个包裹要递送，一辆车和一个司机，也许需要 100 个小时。如果你雇了另一个司机，你已经把钱花在了司机身上，但没有额外的车，它不会变得更快；它会变慢。如果您购买四辆汽车，您需要四名司机每人运送 250 个包裹。需要25小时吗？好吧，你雇这些司机花了多长时间？分配线程并不便宜；这需要时间，你必须考虑到这一点。

您当然不希望十名司机共享四辆车，每人负责 100 个包裹！这只会让它变得更慢和更昂贵，因为你要为所有十名司机支付费用，即使在任何时候至少有六名司机闲置等待有车可用。

总结：不要尝试并行化，除非你有一个容易并行化的问题使处理器饱和，其中工作比创建线程要昂贵得多，并确保线程数不超过处理器数。理想情况下，您想使用任务而不是线程；任务并行库旨在为您完成计算要调度多少线程的工作。

# drupal - 如何使用 wget 运行我的脚本？

> ID：14619147
> 
> 赞同：0
> 
> 时间：2013-01-31T05:33:25.953
> 
> 标签：drupal, wget

我的自定义`module`中有一个运行长脚本的 URL。如果我通过它调用 url`wget`会下载页面内容。它不运行脚本。怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-31T12:36:34.017

我原以为即使它下载了页面，它仍然会运行脚本。

要在不下载文件的情况下运行，请使用：

```
wget -O - -q -t 1 http://example.com/path/to/file.php 
```

从记忆里：

-O 和连字符正在重定向输出，因此它不会保存到文件中。

-q 表示安静

-t 是尝试的次数。

您可以使用 man wget 查找更多选项。

# ruby-on-rails-3.2 - 为具有受保护 ID 属性的嵌套资源创建方法

> ID：14619161
> 
> 赞同：1
> 
> 时间：2013-01-31T05:35:09.357
> 
> 标签：ruby-on-rails-3.2, formtastic

我正在关注来自 PeepCode 的（现在稍微过时的）[Meet Rails 3](https://peepcode.com/products/meet-rails-3-ii)教程，并且在获取教程的一些建议以与 Rails 3.2 一起使用时遇到了麻烦。

本教程让您创建一个`Role`属于 a 的模型`Project`：

```
class Role < ActiveRecord::Base
  belongs_to :project
  validates :project_id, :presence => true
  attr_protected :project_id
end 
```

routes.rb文件嵌套了资源，**因此**`Role`您必须在 a`Role`的上下文中使用 a `Project`：

```
resources :projects do
  resources :roles
end 
```

请注意，在上面的模型代码中，本教程建议您使用`attr_protected`来保护该`:project_id`字段，因为可以通过`Role`在项目的上下文中创建 every 来“更安全地”设置它，就像在**roles_controller.rb**中这样：

```
class RolesController < ApplicationController
  ⋮

  def create
    @role = project.roles.new(params[:role])
    ⋮ 
```

`Role`问题是，使用[Formtastic](https://github.com/justinfrench/formtastic)创建的用于创建 的 HTML 表单包含一个`project_id`用于选择项目的字段。因此，当`project.roles.new(params[:role])`尝试使用表单中的参数来填充新`Role`对象时，它会尝试设置`project_id`使用质量分配，但失败并显示：

> **ActiveModel::MassAssignmentSecurity::RolesController#create 中的错误**
> 无法批量分配受保护的属性：project_id

实现这一点的公认方法是什么？保护`project_id`属性是个坏主意吗？或者有没有办法`Role`用表单数据填充新的而不包括`project_id`？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-31T06:50:25.703

如果你是`project`通过`params[:project_id]`而不是`params[:role][:project_id]`你实际上可能会设置冲突的值。

Mass Assignment 想要保护这一点的原因是防止用户输入任意值，因为`project_id`这可能允许`project`不受此用户控制的 a。你有几个选择。

如果您有授权`user`或`account`附加到对象，您可以添加`before_save`回调，例如`self.project_id = nil unless user.projects.find(project_id)`.

既然你不这样做，我会使用`project_id`from hash 来查找项目，然后回退到路由 id（我不确定它是否会`project_id`或只是`id`在我的脑海中）。

```
def create
  user.
    projects.
    find(params[:role].delete(:project_id) || params[:project_id] || params[:id]).
    create(params[:role]) 
```

最简单的方法是从表单中删除选择框，因为他们在选择创建新角色时选择了一个项目——它是一个嵌套资源。

# iphone - 如何检查是否有任何按钮没有被点击然后它应该显示警报

> ID：14619165
> 
> 赞同：1
> 
> 时间：2013-01-31T05:35:25.907
> 
> 标签：iphone, uibutton, uialertview

我有三个关于单选按钮的问题，我希望用户可以回答所有不应该移动到下一个屏幕的问题，所以我已经声明了一个 BOOL isClicked 并在所有按钮都被点击时使它成为真的。

但是当任何一个按钮被选中并且它移动到下一个屏幕时它会起作用但它应该检查所有三个问题按钮所以我需要为所有按钮或其他任何事情添加不同的布尔值现在我正在这样做

```
 -(IBAction)button1Action{

UIImage *img = [UIImage imageNamed:@"selected.png"];
UIImage *img1=[UIImage imageNamed:@"unselected.png"];
[button1 setImage:img forState:UIControlStateNormal];
[button2 setImage:img1 forState:UIControlStateNormal];
[button3 setImage:img1 forState:UIControlStateNormal];
    option1=@"Less than 2 hours";

isClicked = YES;
}
   -(IBAction)button2Action{

UIImage *img = [UIImage imageNamed:@"selected.png"];
UIImage *img1=[UIImage imageNamed:@"unselected.png"];
[button1 setImage:img1 forState:UIControlStateNormal];
[button2 setImage:img forState:UIControlStateNormal];
[button3 setImage:img1 forState:UIControlStateNormal];

option2=@"2-5 hours";

isClicked = YES;

}

   -(IBAction)button3Action{

UIImage *img = [UIImage imageNamed:@"selected.png"];
UIImage *img1=[UIImage imageNamed:@"unselected.png"];
[button1 setImage:img1 forState:UIControlStateNormal];
[button2 setImage:img1 forState:UIControlStateNormal];
[button3 setImage:img forState:UIControlStateNormal];
option3=@"More than 5 hours";

isClicked = YES;

}

   if (isClicked) {

    [self save_Local];

    SecondViewController*targetController=[[SecondViewController alloc]init];

    targetController.responseOne=responseOne;
    targetController.responseTwo=responseTwo;
    targetController.responseThree=responseThree;
    targetController.responseFour=responseFour;
    targetController.teritory=teritory;

    [self.navigationController pushViewController:targetController animated:YES];

}

else {

    UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@"Please provide all responses before proceeding to the next screen" message:@"" delegate:self cancelButtonTitle:@"OK" otherButtonTitles:nil];
    [alert show];
    [alert release];

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-31T05:48:13.460

在这种情况下，您可以添加三个不同的布尔值，或者您可以通过添加一个计数器来检查它。当你得到答案时增加计数器。然后您可以将当前的 if 语句替换为`if(noOfclicks > MIN_ANSWERS_REQUIRED)`noOfClicks 将是您的计数器，而 MIN_ANSWERS_REQUIRED 在您的情况下将是 3。

或者

正如您所说，这些是答案，因此您必须在某个变量中为其赋值。您可以为该变量分配一个不是来自答案的默认值。然后，当用户单击导航到下一个屏幕时，检查所有答案的值是否与默认值不同。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-31T06:29:04.473

在 .h 文件中声明 int 计数；在 Viewdidload 中使计数 = 0；

```
-(IBAction)button1Action{
UIImage *img = [UIImage imageNamed:@"selected.png"];
UIImage *img1=[UIImage imageNamed:@"unselected.png"];
[button1 setImage:img forState:UIControlStateNormal];
[button2 setImage:img1 forState:UIControlStateNormal];
[button3 setImage:img1 forState:UIControlStateNormal];
option1=@"Less than 2 hours";
count=count+1;
}
-(IBAction)button2Action
{
UIImage *img = [UIImage imageNamed:@"selected.png"];
UIImage *img1=[UIImage imageNamed:@"unselected.png"];
[button1 setImage:img1 forState:UIControlStateNormal];
[button2 setImage:img forState:UIControlStateNormal];
[button3 setImage:img1 forState:UIControlStateNormal];
option2=@"2-5 hours";
count=count+1;
}
-(IBAction)button3Action{ 
UIImage *img = [UIImage imageNamed:@"selected.png"];
UIImage *img1=[UIImage imageNamed:@"unselected.png"];
[button1 setImage:img1 forState:UIControlStateNormal];
[button2 setImage:img1 forState:UIControlStateNormal];
[button3 setImage:img forState:UIControlStateNormal];
option3=@"More than 5 hours";
count=count+1;
}
-(IBAction)Push
{
if (count==3) {
    [self save_Local];
    SecondViewController*targetController=[[SecondViewController alloc]init];
    targetController.responseOne=responseOne;
    targetController.responseTwo=responseTwo;
    targetController.responseThree=responseThree;
    targetController.responseFour=responseFour;
    targetController.teritory=teritory;
    [self.navigationController pushViewController:targetController animated:YES];
}
else {
    UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@"Please provide all responses before proceeding to the next screen" message:@"" delegate:self cancelButtonTitle:@"OK" otherButtonTitles:nil];
    [alert show];
    [alert release];
}
} 
```

也许它会帮助你。快乐编码

# php - 安排自动服务器维护 [Ubuntu]

> ID：14619167
> 
> 赞同：1
> 
> 时间：2013-01-31T05:35:33.003
> 
> 标签：php, linux, apache, ubuntu, lamp

我将 Ubuntu 12.10 服务器作为 LAMP 堆栈运行。我通过 SSH 终端访问它（因为我无权访问物理框）。

我的问题是，有没有办法设置 ubuntu 在选定的时间自动执行脚本。喜欢安排使用 PHP 或任何语言（可能是 Bash 脚本？）构建的自动维护脚本。我确信这必须是可能的。

由于我对 linux/ubuntu 有点新，任何帮助将不胜感激。

编辑：这是我发现的一个解决方案，如果其他人偶然发现这个......

```
sudo crontab -e
...
@daily /usr/bin/wget -q -O /var/log/maintenence.txt /var/www/admin/script.php 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-31T05:36:34.883

您可以在 linux 中使用 crontab .. 这将适合您的目的。Cron 是一个执行预定命令的守护进程，例如：

```
# Minute   Hour   Day of Month       Month          Day of Week        Command    
# (0-59)  (0-23)     (1-31)    (1-12 or Jan-Dec)  (0-6 or Sun-Sat)                
0        2          12             *               0,6           /usr/bin/find 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-31T06:08:07.833

好吧，例如..如果您需要`/home/krizna/backup.sh`每隔`sunday 12 PM`.. 运行一次脚本文件，只需发出以下命令

```
sudo crontab -e 
```

并在文件末尾添加这一行

```
# Minute   Hour   Day of Month       Month          Day of Week        Command    
  00        12         *             *                7          /bin/sh /home/krizna/backup.sh 
```

# string - 查找匹配子串列表的行

> ID：14619173
> 
> 赞同：3
> 
> 时间：2013-01-31T05:36:19.073
> 
> 标签：string, algorithm, search

这是一道面试题。

我有一个带有网址的文本文件，例如：

```
www.yahoo.com
www.google.com
www.apple.com
www.microsoft.com 
```

我有一个子字符串列表，例如 oo、goog、app。如何找到与其中一个子字符串匹配的所有行？对于这个例子，我会：

```
www.yahoo.com
www.google.com
www.apple.com 
```

面试官不喜欢逐行检查是否有任何子字符串出现在一行中。然后我说我们可以使用 trie，但这只有在子字符串的第一个字符与行中的第一个字符匹配时才有用，这类似于建议功能在 Google 中的工作方式。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-31T05:59:44.917

你可以使用正则表达式。例如，表达式`oo|goog|app`会这样做。

如果您有大量子字符串并且要搜索大量文本，则可以使用[Aho-Corasick 字符串匹配算法](http://en.wikipedia.org/wiki/Aho%E2%80%93Corasick_string_matching_algorithm)之类的东西。

有趣的是，蛮力方法（使用标准字符串匹配算法）和 Aho-Corasick 算法会为“www.google.com”（“oo”和“goog”）输出两个匹配项，但正则表达式解决方案会只输出一个。

关于您对问题适当性的评论，它可能不是为了获得“正确”的答案，而是为了看看您如何看待问题。例如，使用标准字符串搜索算法将花费与 MxN 成正比的时间，其中 M 是要搜索的字符串数，N 是要查找的子字符串数。正则表达式解决方案会更快，因为您只需对要搜索的每个字符串运行一次正则表达式。Aho-Corasick 算法仍然更快，因为它的状态机一次就可以找到所有匹配项。您使用的方法取决于许多因素，包括您拥有多少个字符串和子字符串，您必须多久运行一次，以及您需要多长时间来实施解决方案。它'

# php - 如果 php 文件中的 count=1 使用 sench 导航到另一个视图

> ID：14619175
> 
> 赞同：0
> 
> 时间：2013-01-31T05:36:25.277
> 
> 标签：php, ajax, sencha-touch-2

我创建了一个煎茶触摸应用程序，在我的控制器中我使用了 ajax 代码作为

```
 if (condition is true){
                            Ext.Ajax.request({
                                url: 'http://localhost/../abc.php?action=check',
                                params: valuesUser,
                                method: 'POST',

                                success: function(response){
                                    var text = response.responseText;
                                    console.log(response.responseText);
                                     if(response.responseText == 'exists')
                                {
                                //Ext.Msg.alert('Success', text);
                                Ext.getCmp('loginform').destroy();
                                Ext.Viewport.setActiveItem(Ext.create('RegisterForm.view.Main'));
                                }
                                else{
                                    Ext.Msg.alert('Success',text);
                                }
}

                                failure : function(response) {
                                    Ext.Msg.alert('Error','Error while submitting the form');
                                    console.log(response.responseText);
                                }
                            });
                           }
                        else{
                            Ext.Msg.alert('Error', 'All the fields are necessary');
                        } 
```

我的 abc.php 包含以下代码

```
<?php
$con = mysql_connect("localhost","root","");
mysql_select_db('RegisterForm',$con);
if($_REQUEST["action"]== "check"){
$query = "SELECT name FROM userdetails WHERE name ='" . $_POST['userName'] . "' ";
      $queryresult = mysql_query($query);
      $count = mysql_num_rows($queryresult);
      if($count == 1)
        {
            echo('values are in the db');
        }
       else
        {
            echo("values aren't in the db");
        }
}
? 
```

如果控制器代码中的 contion 为真，它会转到 abc.php 并检查数据库中是否存在名称。如果名称存在，那么它应该打开另一个视图，否则它应该显示警报消息，因为值不在db.but 通过使用上面的代码，我在两种情况下都导航到另一个视图（值在 db 中，值不在 db 中）。任何人都可以帮我做到这一点。提前致谢...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-31T05:46:38.740

您需要根据 PHP 的返回值在您的 sencha 代码中添加条件。就像是：

```
if(response.responseText == 'exists')
    Ext.Viewport.setActiveItem(Ext.create('RegisterForm.view.Main'));
else
    Ext.Msg.alert('Success', text); 
```

此外做

```
echo 'exists'; 
```

代替

```
echo('values are in the db'); 
```

# r - 确认上传到 cran 的包

> ID：14619178
> 
> 赞同：1
> 
> 时间：2013-01-31T05:36:40.993
> 
> 标签：r, package

我在 Windows 框的命令提示符下使用了这段代码（Linux 机器正在工作）：

```
ftp -u ftp://cran.R-project.org/incoming/ qdap_0.1.0.tar.gz 
```

我使用了以下信息：

[https://github.com/hadley/devtools/wiki/Release](https://github.com/hadley/devtools/wiki/Release)
[http://cran.r-project.org/doc/manuals/R-exts.html#Submitting-a-package-to-CRAN](http://cran.r-project.org/doc/manuals/R-exts.html#Submitting-a-package-to-CRAN)

我希望看到它出现在这里：ftp: [//cran.r-project.org/incoming/](ftp://cran.r-project.org/incoming/)但我没有看到它。

我只是不耐烦还是我的包裹没有上传？这是命令行输出：

```
C:\Users\trinker\GitHub>ftp -u ftp://cran.R-project.org/incoming/ qdap_0.1.0.tar
.gz

Transfers files to and from a computer running an FTP server service
(sometimes called a daemon). Ftp can be used interactively.

FTP [-v] [-d] [-i] [-n] [-g] [-s:filename] [-a] [-A] [-x:sendbuffer] [-r:recvbuf
fer] [-b:asyncbuffers] [-w:windowsize] [host]

  -v              Suppresses display of remote server responses.
  -n              Suppresses auto-login upon initial connection.
  -i              Turns off interactive prompting during multiple file
                  transfers.
  -d              Enables debugging.
  -g              Disables filename globbing (see GLOB command).
  -s:filename     Specifies a text file containing FTP commands; the
                  commands will automatically run after FTP starts.
  -a              Use any local interface when binding data connection.
  -A              login as anonymous.
  -x:send sockbuf Overrides the default SO_SNDBUF size of 8192.
  -r:recv sockbuf Overrides the default SO_RCVBUF size of 8192.
  -b:async count  Overrides the default async count of 3
  -w:windowsize   Overrides the default transfer buffer size of 65535.
  host            Specifies the host name or IP address of the remote
                  host to connect to.

Notes:
  - mget and mput commands take y/n/q for yes/no/quit.
  - Use Control-C to abort commands. 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-31T12:39:32.337

（这以前是一条评论，现在正在转移到这里的答案。）

1.  确保您没有查看浏览器之前缓存的页面。

2.  要执行实际上传，您可能需要尝试免费的跨平台[FileZilla](http://filezilla-project.org/) FTP 软件。您可以[上传并同时查看](http://filezilla-project.org/images/screenshots/fz3_win_main.png)机器上的源目录（在左窗格中）和 CRAN 上的目标目录（在右窗格中）的内容，并在顶部窗格中查看正在发生的事情的日志和进度指示器底部窗格。它还有一个[站点管理器](http://filezilla-project.org/images/screenshots/fz3_win_sitemanager.png)来存储您上传到的站点，因此您无需在每次上传时都输入它们的 URL。

# shell - 多个独立 EAR 部署顺序

> ID：14619181
> 
> 赞同：1
> 
> 时间：2013-01-31T05:37:13.950
> 
> 标签：shell, ejb-3.0, jboss5.x

我们正在使用带有 EJB 3.0 的 jboss 企业应用平台 5。在我的应用程序中，我们部署了 3 个独立的 EAR，没有依赖项（ear-1、ear-2、ear-3）和 1 个战争（war-1）。

谁能告诉我
1\. 如何在 JBoss [ear-3,ear-1,ear-2] 中配置 ear 的部署顺序。
2\. 使用 shell(.sh) 脚本而不是从 JBoss 管理控制台启动和关闭单个应用程序（ear's）。即我只想使用 shell 脚本启动和停止 ear-2

# sql - 单行中的多个列值

> ID：14619186
> 
> 赞同：1
> 
> 时间：2013-01-31T05:37:41.510
> 
> 标签：sql, sql-server, sql-server-2008

我有这样的桌子

```
 ID    Status
     1    5
     1    6
     1    7
     2    5
     2    6
     2    7 
```

我需要如下结果

```
 ID      col1    col2    col3
     1        5       6       7
     2        5       6       7 
```

请帮我

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-31T05:39:41.393

```
SELECT  ID,
        MAX(CASE WHEN status = 5 THEN Status ELSE NULL END) col1,
        MAX(CASE WHEN status = 6 THEN Status ELSE NULL END) col2,
        MAX(CASE WHEN status = 7 THEN Status ELSE NULL END) col3
FROM    tableNAME
GROUP   BY ID 
```

*   [SQLFiddle 演示](http://www.sqlfiddle.com/#!3/4836f/1)

使用`PIVOT`

```
SELECT *
FROM   (
          SELECT ID, Status, CASE Status 
                              WHEN 5 THEN 'Col1'
                              WHEN 6 THEN 'Col2'
                              WHEN 7 THEN 'Col3'
                            END Stat
          FROM tableName
        ) src
        PIVOT
        (
          MAX(Status)
          FOR Stat IN ([Col1],[Col2],[Col3])
        ) pivotTbl 
```

*   [SQLFiddle 演示](http://www.sqlfiddle.com/#!3/4836f/7)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-31T07:06:52.383

尝试**未知**的目标列数

```
--Create table TESTx (id int,status int)
--insert into TESTx Values (1,5),(1,6),(1,7),(1,17),(2,5),(2,7),(2,8),(3,1),(3,5); 
```

-

```
Declare @Tab Varchar(50)='##tmp' +  Replace(Cast(newID() as Varchar(36)),'-','')

Declare @SQL Varchar(max)

Declare @Cols Varchar(max)
Declare @Renames Varchar(max)

Select @Cols ='Create Table ' + @Tab + '(ID int'
Select  @Cols=@Cols + ',[Col'+ Cast(Status as varchar(10))+'] int'
from 
(Select  Distinct top 1000 Status
from 
TESTx order by Status
) a

Select  @Cols=@Cols +')'

Select @SQL= @Cols
+' Insert into '+@Tab +' (ID) Select Distinct ID from TESTx'

exec(@SQL)

Declare @Status int

DECLARE P_cursor CURSOR FOR 
SELECT Distinct Status from TESTx 

OPEN P_cursor

FETCH NEXT FROM P_cursor 
INTO @Status

WHILE @@FETCH_STATUS = 0
BEGIN
   Select @SQL='Update ' + @Tab + ' Set Col' + CAST(@Status as Varchar(10)) +'=' +Cast(@Status as Varchar(10))
               +' from TESTx Where TESTx.ID=' + @Tab  +'.ID and Testx.Status=' +Cast(@Status as Varchar(10))
   Exec(@SQL)            
   FETCH NEXT FROM P_cursor 
   INTO @Status
END

CLOSE P_cursor
DEALLOCATE P_cursor

Select @SQL=' Select * from '+@Tab +'  Drop Table ' + @Tab 
Exec(@SQL) 
```

# c# - 在 ILIst Razor 中迭代时，对象引用未设置为对象的实例

> ID：14619188
> 
> 赞同：0
> 
> 时间：2013-01-31T05:37:56.797
> 
> 标签：c#, asp.net-mvc

我的 Ilist 有问题，我无法循环遍历它，它总是抛出错误 Object reference not set to an instance of an object.. 这是我的观点.. 当我调试我的代码时，模型有一个值，但是当它转到foreach 它说 item.pillarofcultureteamlevel 没有设置..任何帮助

```
@model P247.Pres.MVC.ViewModel.SummaryTeamLevelViewModel
@{
ViewBag.Title = "Index";
Layout = "~/Views/Shared/_Layout.cshtml";
}
<html>
<head>
         <title></title>
</head>
<body>
<h2>Index</h2>
@{
var item = Model;

foreach (var pillar in item.pillarofcultureteamlevel)
{
    var js = pillar.JobSecurityAndOverallCompensation;
}
}
</body>
</html> 
```

这是我的控制器

```
public ActionResult Index()
    {
        _reportservice = new ReportService();
        _pillarofcultureteamlevel  = _reportservice.GetPillarsOfCultureTeamLevel(57);
        _retentiondriverteamlevel = _reportservice.GetRentionDriversTeamLevel(57);
        _employeeteamlevelsummarylist = _reportservice.GetEmployeeTeamLevelSummaryDTO(57);
        summary = new SummaryTeamLevelViewModel(_pillarofcultureteamlevel, _retentiondriverteamlevel, _employeeteamlevelsummarylist);
        return View(summary);
    } 
```

这是我的视图模型

```
public class SummaryTeamLevelViewModel
{

    private IList<PillarsOfCultureTeamLevelDTO> _pillarofcultureteamlevel;
    private IList<RetentionDriverTeamLevelDTO> _retentiondriverteamlevel;
    private IList<EmployeeTeamLevelSummaryDTO> _employeeteamlevelsummarylist;

    public SummaryTeamLevelViewModel(IList<PillarsOfCultureTeamLevelDTO> pillarofcultureteamlevel,
                                    IList<RetentionDriverTeamLevelDTO> retentiondriverteamlevel,
                                    IList<EmployeeTeamLevelSummaryDTO> employeeteamlevelsummarylist)
    {
        _pillarofcultureteamlevel = pillarofcultureteamlevel;
        _retentiondriverteamlevel = retentiondriverteamlevel;
        _employeeteamlevelsummarylist = employeeteamlevelsummarylist;
    }

    public IList<PillarsOfCultureTeamLevelDTO> pillarofcultureteamlevel { get; set; }

    public IList<RetentionDriverTeamLevelDTO> retentiondriverteamlevel { get; set; }

    public IList<EmployeeTeamLevelSummaryDTO> employeeteamlevelsummarylist { get; set; }

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-31T06:13:10.973

你的问题在你的`SummaryTeamLevelViewModel`课堂上。您有私有字段来存储您的数据，这就是您在控制器中调用构造函数后存储值的位置。但是您的属性不会返回或设置您的私有字段，因为您使用`get; set;`语法而不是显式使用您的私有字段。

您有两种方法可以解决您的问题：

更改您的属性，以便它们使用您的私有字段，如下所示：

```
public IList<PillarsOfCultureTeamLevelDTO> pillarofcultureteamlevel { get { return _pillarofcultureteamlevel; } set { _pillarofcultureteamlevel = value; } } 
```

或更改您的构造函数并删除您的私有字段，以便您只使用您的属性，这看起来像这样：

```
public class SummaryTeamLevelViewModel
{
    public SummaryTeamLevelViewModel(IList<PillarsOfCultureTeamLevelDTO> pillarofcultureteamlevel,
                                    IList<RetentionDriverTeamLevelDTO> retentiondriverteamlevel,
                                    IList<EmployeeTeamLevelSummaryDTO> employeeteamlevelsummarylist)
    {
        this.pillarofcultureteamlevel = pillarofcultureteamlevel;
        this.retentiondriverteamlevel = retentiondriverteamlevel;
        this.employeeteamlevelsummarylist = employeeteamlevelsummarylist;
    }

    public IList<PillarsOfCultureTeamLevelDTO> pillarofcultureteamlevel { get; set; }

    public IList<RetentionDriverTeamLevelDTO> retentiondriverteamlevel { get; set; }

    public IList<EmployeeTeamLevelSummaryDTO> employeeteamlevelsummarylist { get; set; }

} 
```

# asp.net-mvc-3 - 实体设计器数据库生成电源包在 VS2012 中不起作用

> ID：14619192
> 
> 赞同：1
> 
> 时间：2013-01-31T05:38:18.127
> 
> 标签：asp.net-mvc-3, entity-framework

我正在使用 VS2010 开发 MVC3 网站，对于模型生成，我使用 EF 5.0，对于数据库生成，我使用**Entity Designer Database Generation Power Pack** *（模型优先方法）。*

现在我为同一个项目从 VS2010 转移到 VS2012，需要编辑我的实体模型，所以我在我的 edmx 文件中添加了新实体，我将使用我的实体生成我的数据库，然后它显示错误**生成迁移 t-sql 和deploy.xaml 不退出** 。

我正在搜索这个，但还没有得到解决方案。

如何解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-01T01:37:12.570

VS2012 不支持实体设计器数据库生成电源包。

# android - 未显示回调中的 Android Toast 方法

> ID：14619193
> 
> 赞同：0
> 
> 时间：2013-01-31T05:38:20.540
> 
> 标签：android, toast

我创建了这个类，但我无法获得成功存储在 stackmob 中后应该生成的弹出消息。

```
public class TaskActivity extends Activity {

@Override
protected void onCreate(Bundle savedInstanceState) {
csuper.onCreate(savedInstanceState);
    //setContentView(R.layout.TaskActivity;
    setContentView(R.layout.activity_task);
    StackMobAndroid.init(getApplicationContext(), 0, "010686ac-9fb2-4c70-bbec-c2d92ccdc39d");
    Task myTask = new Task("Learn even more about StackMob", new Date(0));
    myTask.save(new StackMobModelCallback() {
        @Override
        public void success() {
            // the call succeeded
            //  Toast.makeText(this, "No camera on this device",0).show();

                    Toast msg = Toast.makeText(TaskActivity.this,
                "i have done it", Toast.LENGTH_LONG);
                    msg.show();
            }

            @Override
            public void failure(StackMobException e) {
                // the call failed
            }
    });
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-31T05:48:46.297

你知道这个`success`函数是否会在 UI 线程上被调用吗？

如果没有，您应该像这样更改它：

```
public void success() {
    // the call succeeded
    TaskActivity.this.runOnUiThread(new Runnable() {
        @Override
        void run() {
            Toast msg = Toast.makeText(TaskActivity.this,
                "i have done it", Toast.LENGTH_LONG);
            msg.show();
        });
} 
```

见[runOnUiThread](http://developer.android.com/reference/android/app/Activity.html#runOnUiThread%28java.lang.Runnable%29)

# highslide - 由于与 SoundManager 冲突，Highslide 在 IE8 中打开新页面

> ID：14619195
> 
> 赞同：0
> 
> 时间：2013-01-31T05:38:23.550
> 
> 标签：highslide

我让 Highslide 打开一个 iframe 视频，它在除 IE8 之外的所有浏览器中运行良好（我没有尝试过 IE9）。在 IE8 中，不是扩展窗口工作，而是在新选项卡中打开并播放视频。

该页面很复杂，因为它还使用了一个名为 SoundManager 的音频播放器程序。当我删除主 SoundManager javascript 链接时，Highslide 可以正常工作。或者我可以删除页面上名为 的 javascript 函数`soundmanager.setup`，然后 Highslide 也可以工作。显然，这两个程序之间存在一些冲突。我尝试在页面上移动脚本但没有成功。我检查了代码并找不到冲突，因为一切似乎都是模块化和包含的。但我不是高级 javascript 程序员，显然我遗漏了一些东西。

你以前见过 SoundManager，有没有遇到过什么冲突？你能提出什么建议吗？如果这超出了你的职位描述，我理解。但是让两个程序在同一页面上工作会很好。

如果您想查看该页面，请访问：[http](http://www.idesignmagic.com/silver/videotest.php) ://www.idesignmagic.com/silver/videotest.php 页面标题下方的青色视频播放按钮会触发 Highslide 扩展。

代码中有一些简单的 php，它使用一组音频标题和 url 来显示 SoundManager 的选择，但它对 Highslide 没有影响。

您能给我的任何帮助将不胜感激。

[编辑：我错了`soundmanager.setup`。它只是重置配置默认值。我将默认值替换为 in`setup`并`setup`从主页中删除。我在 IE8 中得到了相同的无效结果。但这也许意味着这些设置选择之一导致了问题。]

谢谢。

标记

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-01T07:26:05.857

我下载了[Soundmanager2](http://www.schillmania.com/projects/soundmanager2/)并在 IE8 中使用[Highslide 图像](http://highslide.com/examples/no-border.html)、[Highslide 内联内容](http://highslide.com/examples/inline.html)和[Highslide iframe](http://highslide.com/examples/iframe.html)进行了测试。唯一中断的组合是使用 Soundmanager2 + page-player.js 和 Highslide iframe 时。Highslide 内联内容~~和 Highslide 图像~~与 Soundmanager2 + page-player.js 配合得很好。打开像您这样的视频页面时，您必须使用 Highslide iframe。

尝试打开 Highslide iframe 弹出窗口时，我注意到弹出窗口在 iframe 中断并且页面在浏览器中打开之前开始展开。似乎 page-player.js 触发了“突破 iframe”功能。这与弹窗中的页面内容无关；我还测试了一个页面，该页面只包含段落中的文本。

我建议您就此联系[Soundmanager2 支持](https://getsatisfaction.com/schillmania/products/schillmania_soundmanager_2)，看看他们是否有解决方案。

**更新 4\. 2 月 2013：**
在阅读了 Soundmanger2 支持的最新评论（[https://getsatisfaction.com/schillmania/topics/conflict_between_soundmanager2_and_highslide_in_ie8#reply_11221943](https://getsatisfaction.com/schillmania/topics/conflict_between_soundmanager2_and_highslide_in_ie8#reply_11221943)）后，我认为将 url 放入 href 和此冲突之间可能存在联系。我再次使用 Highslide 图像进行了测试，发现这实际上也失败了。前几天我可能测试得太快了。Highslide 内联内容仍然有效，并且 Highslide 内联内容在 href 中不使用 url。

所以解决这个问题的方法是将要打开的页面的 url 放在[src 变量中的弹出窗口中](http://highslide.com/ref/hs.src)在 onclick 而不是锚的 href 中。

这意味着您需要使用此锚点来打开弹出窗口：

```
<a href='javascript:;' onclick='return hs.htmlExpand(this, { objectType:"iframe", src: 'video/iframe-test.html', width: 670, objectWidth: 670, objectHeight: 410, objectLoadTime: "after", preserveContent: false } )' class='highslide'>
    <img src='images/play-button-small.png' alt='Click for video' width='40' height='53' title='Click to enlarge' >
</a> 
```

# jquery - 使用下拉列表将数据更改为 highchart 饼图

> ID：14619198
> 
> 赞同：0
> 
> 时间：2013-01-31T05:39:08.310
> 
> 标签：jquery, html, json, highcharts

我的 jquery 文件中嵌入了 2 个 json 结构化数据。我想使用下拉列表来更改数据，具体取决于选择值。

```
var json = {
        "data": [
                     {
                         "cid": "football",
                         "id": "/en/chelsea_fc",
                         "topic": "Chelsea F.C.",
                         "audience": [
                             {
                                 "userid": "100003914111287",
                                 "information": [
                                     {
                                         "category": "Athlete",
                                         "source": "Didier Drogba"
                                     },
                                     {
                                         "category": "Athlete",
                                         "source": "Frank Lampard"
                                     },
                                     {
                                         "category": "Professional sports team",
                                         "source": "Chelsea Football Club"
                                     },
                                     {
                                         "category": "favorite_teams",
                                         "source": "Chelsea Football Club"
                                     }
                                 ]
                             },
                             {
                                 "userid": "100003914111287",
                                 "information": [
                                     {
                                         "category": "Athlete",
                                         "source": "Didier Drogba"
                                     },
                                     {
                                         "category": "Athlete",
                                         "source": "Frank Lampard"
                                     },
                                     {
                                         "category": "Professional sports team",
                                         "source": "Chelsea Football Club"
                                     },
                                     {
                                         "category": "favorite_teams",
                                         "source": "Chelsea Football Club"
                                     }
                                 ]
                             }
                         ],
                         "type": "/soccer/football_team"
                     },
                     {
                         "id": "/en/manchester_united_fc",
                         "topic": "Manchester United F.C.",
                         "audience": [
                             {
                                 "information": [
                                     {
                                         "category": "Athlete",
                                         "source": "Ryan Giggs"
                                     },
                                     {
                                         "category": "Professional sports team",
                                         "source": "Manchester United"
                                     },
                                     {
                                         "category": "favorite_teams",
                                         "source": "Manchester United"
                                     }
                                 ],
                                 "userid": "100003921730958"
                             }
                         ],
                         "type": "/soccer/football_team"
                     }
                 ]
    };

    var json2 = {
        "data": [
                     {
                         "cid": "Movie",
                         "id": "/en/MIB",
                         "topic": "Men In Black",
                         "audience": [
                             {
                                 "userid": "100003914111287",
                                 "information": [
                                     {
                                         "category": "Athlete",
                                         "source": "Didier Drogba"
                                     },
                                     {
                                         "category": "Athlete",
                                         "source": "Frank Lampard"
                                     },
                                     {
                                         "category": "Professional sports team",
                                         "source": "Chelsea Football Club"
                                     },
                                     {
                                         "category": "favorite_teams",
                                         "source": "Chelsea Football Club"
                                     }
                                 ]
                             },
                             {
                                 "userid": "100003914111287",
                                 "information": [
                                     {
                                         "category": "Athlete",
                                         "source": "Didier Drogba"
                                     },
                                     {
                                         "category": "Athlete",
                                         "source": "Frank Lampard"
                                     },
                                     {
                                         "category": "Professional sports team",
                                         "source": "Chelsea Football Club"
                                     },
                                     {
                                         "category": "favorite_teams",
                                         "source": "Chelsea Football Club"
                                     }
                                 ]
                             }
                         ],
                         "type": "/soccer/football_team"
                     },
                     {
                         "id": "/en/Harry Potter",
                         "topic": "Harry Potter and the goblet of fire",
                         "audience": [
                             {
                                 "information": [
                                     {
                                         "category": "Athlete",
                                         "source": "Ryan Giggs"
                                     },
                                     {
                                         "category": "Professional sports team",
                                         "source": "Manchester United"
                                     },
                                     {
                                         "category": "favorite_teams",
                                         "source": "Manchester United"
                                     }
                                 ],
                                 "userid": "100003921730958"
                             }
                         ],
                         "type": "/soccer/football_team"
                     }
                 ]
    }; 
```

但不知何故，我无法让变量接收数据并输入图表。但我可以设法使用 console.log 输出值。意味着当我更改我的选择时它会捕获我的值，但我的数据不会输入它。

```
var pts = [];
var str = "";

var data = json.data;
    $.each(data, function (i, v) {
        pts.push([v.topic, v.audience.length]);
    });

 $("select").change(function () {

        var e = document.getElementById("selection");
        str = e.options[e.selectedIndex].value;

        if (str == json.data[0].cid) {

            data = json.data;
            console.log(str);

        }
        else if (str == json2.data[0].cid) {
            data = json2.data;
            console.log(str);

        }
        else
            alert("ERROR");

    });

  //Radialize the colors
    Highcharts.getOptions().colors = $.map(Highcharts.getOptions().colors, function (color) {
        return {
            radialGradient: { cx: 0.5, cy: 0.3, r: 0.7 },
            stops: [
            [0, color],
            [1, Highcharts.Color(color).brighten(-0.3).get('rgb')] // darken
    ]
        };
    });

    var chart;
    $(document).ready(function () {

        chart = new Highcharts.Chart({
            chart: {
                renderTo: 'container',
                plotBackgroundColor: null,
                plotBorderWidth: null,
                plotShadow: false
            },
            title: {
                text: 'Facebook like'
            },
            tooltip: {
                pointFormat: '{series.name}: <b>{point.percentage}%</b>',
                percentageDecimals: 0
            }

            ,
            plotOptions: {
                pie: {
                    allowPointSelect: true,
                    cursor: 'pointer',
                    point: {
                        events: {
                            click: function (event) {
                                //var personame =" ";
                                var id = "10150616324193820";
                                for (var i = 0; i < jsonFB.user1.length; i++) {
                                    for (var k = 0; k < json.data.length; k++) {
                                        for (var j = 0; j < json.data[k].audience.length; j++) {

                                            if (jsonFB.user1[i].id = json.data[k].audience[j].userid) {
                                                var personname = jsonFB.user1[i].name;

                                                var id = jsonFB.user1[i].id;

                                            }

                                            else {

                                                alert("Error!");

                                            }

                                        }

                                    }

                                    alert("Person who like " + this.name + " are " + personname);
                                    var ans = confirm("Do you want to view this person profile?");
                                    if (ans)
                                        window.location = "http://www.facebook.com/people/@/" + id;

                                }
                            }
                        }
                    },
                    showInLegend: true,
                    dataLabels: {
                        enabled: true,
                        color: '#000000',
                        connectorColor: '#000000',

                        formatter: function () {
                            return '<b>' + this.point.name + '</b>: ' + Math.round(this.percentage) + '%';
                        }

                    }
                }
            },

            series: [{
                type: 'pie',
                name: 'Likes',
                data: pts

            }]
        });

    });

}); 
```

有人可以帮忙吗？谢谢！:D

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-31T10:02:30.787

如果您捕捉到您的选择事件，那么您可以使用 setData() 函数（[http://api.highcharts.com/highcharts#Series.setData()](http://api.highcharts.com/highcharts#Series.setData())），它允许“替换”数据。显然你也可以 addSeries() [http://api.highcharts.com/highcharts#Chart.addSeries()](http://api.highcharts.com/highcharts#Chart.addSeries())

# java - 从 Servlet 检索多个数组

> ID：14619199
> 
> 赞同：0
> 
> 时间：2013-01-31T05:39:14.910
> 
> 标签：java, android, servlets

我正在开发一个应用程序，我需要将一些数据从服务器数据库复制到 android 中的本地 SQLite 数据库表。该表包含超过 1000 条记录。首先，我为此编写了 servlet 代码。我使用三个数组（村名、村号和区号）。我的代码是

```
public class vlgmas extends HttpServlet {
 protected void processRequest(HttpServletRequest request, HttpServletResponse response)
        throws ServletException, IOException {
    response.setContentType("text/html;charset=UTF-8");
    PrintWriter out = response.getWriter();
    try {
        // TODO output your page here
        out.println("<html>");
        out.println("<head>");
        out.println("<title>Servlet vlgmas</title>");  
        out.println("</head>");
        out.println("<body>");
        out.println("<h1>Servlet vlgmas at " + request.getContextPath () + "</h1>");
        out.println("</body>");
        out.println("</html>");

    } finally {            
        out.close();
    }
}

@Override
protected void doGet(HttpServletRequest request, HttpServletResponse response)
        throws ServletException, IOException {
    response.setContentType("text/html;charset=UTF-8");
    PrintWriter out = response.getWriter();
     try {

        out.println("<html>");
        out.println("<head>");
        out.println("<title>Servlet Pickvalue</title>");
        out.println("</head>");
        out.println("<body>");
        out.println("<h1>Servlet Pick at " + request.getContextPath () + "</h1>");
        doPost(request,response);
        out.println("</body>");
        out.println("</html>");

    } finally
    {
        out.close();
    }
}

@Override
protected void doPost(HttpServletRequest request, HttpServletResponse response)
        throws ServletException, IOException {
    //processRequest(request, response);
    String vname = null,vcode=null,divsec=null;
    JSONObject obj = new JSONObject();
    List list = new ArrayList();
    JSONObject obj2 = new JSONObject();
    PrintWriter out = response.getWriter();
    String vn[]=new String[2000],vc[]=new String[2000],ds[]=new String[2000];
    int t,r1=0,r2=0,r3=0;
    try
    {
       //   JSONObject obj1=new JSONObject();

        Class.forName("oracle.jdbc.driver.OracleDriver");
    java.sql.Connection conn = DriverManager.getConnection("jdbc:oracle:thin:@192.168.1.200:1521:pdsm", "test", "test");
    Statement stmt=conn.createStatement();

        {
        ResultSet rs = stmt.executeQuery("select * from cn_vlgmas");
        while(rs.next())
        {
            vn[r1++]=rs.getString ("vlgname");
            vc[r2++]=rs.getString("vlgcode");
            ds[r3++]=rs.getString("divsec");

        }
        for(t=0;t<r1;t++)
            {
                out.println(vn[t]+","+vc[t]+","+ds[t]);
            }

            /*obj.put("vname",vname);
            obj.put("vcode", vcode);
            obj.put("divsec", divsec);
            list.add(obj);
            obj2.accumulate("get", list);
            out.println(obj2);*/
        }

    }catch(Exception e)
    {
        out.println("error"+e.toString());
    }
}

/** 
 * Returns a short description of the servlet.
 * @return a String containing servlet description
 */
@Override
public String getServletInfo() {
    return "Short description";
}// </editor-fold>
} 
```

它显示了我预期的所有细节。但我不知道如何在我的 android 代码中分别检索这三个数组。我需要为 1000 条记录中的每一条检索每个村庄名称、村庄代码和分区代码。任何人都可以帮助我做到这一点。

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-31T09:45:49.243

您不需要创建数组。只需传递 JSON 对象。

删除 for 循环并更改您的 while 循环，如下所示：

```
while(rs.next())
{
        obj = new JSONObject();
        vname=rs.getString ("vlgname");
        vcode=rs.getString("vlgcode");
        divsec=rs.getString("divsec");
        obj.put("vname",vname);
        obj.put("vcode",vcode);
        obj.put("divsec",divsec);
        list.add(obj);
}
obj2.accumulate("get", list);
out.println(obj2); 
```

在你的安卓

```
try
{
HttpClient httpclient = new DefaultHttpClient();
         HttpPost httppost = new HttpPost("servlet path here");
         HttpResponse response = httpclient.execute(httppost);
         HttpEntity entity = response.getEntity();
          is = entity.getContent();
    } catch (UnsupportedEncodingException e) {
        e.printStackTrace();
    } catch (ClientProtocolException e) {
        e.printStackTrace();
    } catch (IOException e) {
        e.printStackTrace();
    }
    try {
        BufferedReader reader = new BufferedReader(new InputStreamReader(
                is, "iso-8859-1"), 8);
        StringBuilder sb = new StringBuilder();
        String line = null;
        while ((line = reader.readLine()) != null) {
            sb.append(line + "\n");
        }
        is.close();
        json = sb.toString();

    } catch (Exception e) {
    Toast.makeText(getBaseContext(), "Buffer Error"+"Error converting result"+e.toString(), Toast.LENGTH_LONG).show();
    }

    try {
        jObj = new JSONObject(json);
        contacts = jObj.getJSONArray("get");
        for(int i = 0; i < contacts.length(); i++){
        JSONObject c = contacts.getJSONObject(i);
            vcode = c.getString("vcode");
            vname = c.getString("vname");
            divsec = c.getString("divsec");
        }
        ac1.setText(""+vname);
        ac2.setText(""+vcode);
        ac3.setText(""+divsec);

    } catch (JSONException e) {
        Toast.makeText(getBaseContext(), "Error"+e.toString(), Toast.LENGTH_LONG).show();
    } 
```

希望这真的对你有帮助

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-31T06:24:23.333

您是否编写了任何 webService 来检索这些值？因为在 Android 中，它是您调用 Web 服务并获得所需内容的唯一结构。

从 DB 获取数据后，只需准备一个 JSON obj。并写回来。在 Android 中，您需要解析该 JSON 对象。

[developer.android 的一个小教程](http://developer.android.com/reference/android/util/JsonWriter.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-10-14T17:36:58.337

只需传递***JSON 对象。***

创建一个while循环并将值添加到列表中，然后您只需获得一个数组

# rest - 什么是创建/更新多个资源的 RESTful 方式

> ID：14619202
> 
> 赞同：0
> 
> 时间：2013-01-31T05:39:25.360
> 
> 标签：rest, spring-mvc

在服务器上使用 Spring MVC，我们有你的基本 REST API：

```
@Controller
@RequestMapping(value="/entities")
public class EntityController
{

    //GET /entities
    @RequestMapping(method=RequestMethod.GET)
    @ResponseBody 
    public List<Entity> getEntities()
    ...

    //GET /entities/{id}
    @RequestMapping(value="/{id}", method=RequestMethod.GET)
    @ResponseBody 
    public Entity getEntity(@PathVariable Long id)
    ...

    //POST /entities
    @RequestMapping(method=RequestMethod.POST, consumes="application/json")
    @ResponseBody 
    public Entity createEntity(@RequestBody Entity entity) 
    ...

    //PUT /entities
    @RequestMapping(method=RequestMethod.PUT, consumes="application/json")
    @ResponseBody 
    public Entity updateEntity(@RequestBody Entity entity)
    ...
} 
```

这一切都很好。现在我希望能够`Entity`通过一个请求创建或更新多个 s。我的第一个想法是添加这个：

```
@RequestMapping(method=RequestMethod.PUT, consumes="application/json")
@ResponseBody
public List<Entity> updateEntities(@RequestBody List<T> entities) 
```

它将具有与`updateEntity`但处理列表 ( `[...]`) 相同的 URL。将`updateEntity`处理单个对象 ( `{...}`)。但是，在服务器启动时出现以下错误：

```
java.lang.IllegalStateException: Ambiguous mapping found. Cannot map 'entityController' bean method public java.util.List<foo.bar.Entity> foo.bar.EntityController.updateEntities(java.util.List<foo.bar.Entity>) to {[/entities],methods=[PUT],params=[],headers=[],consumes=[application/json],produces=[],custom=[]}: There is already 'entityController' bean method public foo.bar.Entity foo.bar.EntityController.updateEntity(foo.bar.Entity) mapped. 
```

因此，据我所知，Spring 不喜欢使用相同的两种不同方法`@RequestMapping`，即使它们`@RequestBody`不同。

这让我想到了两个问题。首先，我是否以正确的 RESTful 方式进行处理？当我对同一个 URL 执行 PUT 并且只允许请求正文是单个对象或列表时，我是否符合 RESTful 原则？Spring想要另一种正确的方法吗？（好吧，所以第一个问题实际上是三个......）

第二个问题是我是否可以在`@RequestMapping`注释中添加一些东西来充分区分这两种方法，但保持相同的 REST API？

感谢您对此有所了解。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-13T05:05:02.647

每个模型的@JsonIgnoreProperties(ignoreUnknown = true)

我已经这样做了......有两个模型：用户和树

```
@RequestMapping(value = "/users/testBean", method = RequestMethod.POST, consumes={"application/json","application/xml"}, produces={"application/json","application/xml"}) 
    public @ResponseBody List<User> testBean(@RequestBody Object object) {
        System.out.println("testBean called");
        System.out.println(object.toString());

        ObjectMapper mapper=new ObjectMapper();

        User user =mapper.convertValue(object, User.class);
        Tree tree =mapper.convertValue(object, Tree.class);

        System.out.println("User:"+user.toString());
        System.out.println("Tree:"+tree.toString());
        return userService.findAll();
    } 
```

# php - 获取 Yii 活动记录上带有冒号的对象属性

> ID：14619204
> 
> 赞同：1
> 
> 时间：2013-01-31T05:39:27.467
> 
> 标签：php, yii

我是 Yii 的新手。关系活动记录返回此数组：

```
Array
(
[0] => Authitem Object
    (
        [_md:CActiveRecord:private] => 
        [_new:CActiveRecord:private] => 
        [_attributes:CActiveRecord:private] => Array
            (
                [name] => admin
                [type] => 2
                [description] => 
                [bizrule] => 
                [data] => 
            )

        [_related:CActiveRecord:private] => Array
            (
            )

        [_c:CActiveRecord:private] => 
        [_pk:CActiveRecord:private] => admin
        [_alias:CActiveRecord:private] => t
        [_errors:CModel:private] => Array
            (
            )

        [_validators:CModel:private] => 
        [_scenario:CModel:private] => update
        [_e:CComponent:private] => 
        [_m:CComponent:private] => 
    )

) 
```

如何从 [_attributes:CActiveRecord:private] 获取数组？我已经尝试过 authMenus[0]->[_attributes:CActiveRecord:private] 和 authMenus[0]->_attributes 但没有用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-31T05:48:30.713

您可以像这样直接访问：

```
$authMenus[0]->attributes;
// or in general
$array_of_active_record_objects[index]->attributes;
$array_of_active_record_objects[index]->single_attribute; 
```

因为 CActiveRecord 有一个[自定义 getter](http://www.yiiframework.com/doc/api/1.1/CActiveRecord#__get-detail)。

# azure - Azure Rest API 中的规范标头和规范资源

> ID：14619205
> 
> 赞同：0
> 
> 时间：2013-01-31T05:39:28.327
> 
> 标签：azure, azure-sql-database, azure-storage

你们能否帮助我了解可用于规范标头和规范资源的通用方法，以用于传递通信以从 rest api 中提取数据。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-31T06:12:55.027

[您可以从http://azurestoragesamples.codeplex.com/releases/view/61325](http://azurestoragesamples.codeplex.com/releases/view/61325) （下载 Storage_REST_CS 项目）下载Azure 存储示例的源代码，并查找 RestHelper.cs 类以实现这些功能。

# sql-server - T - SQL 语句 IF EXIST SELECT 和 INSERT

> ID：14619206
> 
> 赞同：4
> 
> 时间：2013-01-31T05:39:33.550
> 
> 标签：sql-server, tsql

我怎样才能做到这一点……真的需要建议吗？我想获取满足我的条件的 id，然后在我的查询中使用它。

```
 IF EXISTS (Select sn_id as snid FROM device.sn WHERE dname_id = 62 and sn_value = '123415')
    BEGIN

    SELECT MAX(id) AS maxid FROM device.list 

    INSERT INTO parts (sn_id,device_id) VALUES (snid, maxid)

    END
    ELSE
    BEGIN
      PRINT 'id does not exist'
    return 
    END 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-31T05:48:02.440

您可以使用变量来存储两个查询的结果，然后在您的`INSERT`语句中使用这些值。

如果您使用的是 Microsoft SQL Server，则以下方法可能有效（但可能存在表面语法错误，因为它尚未经过测试）。请注意，我假设您的列的类型是`int`.

```
DECLARE @snid int
SET @snid = NULL
Select @snid = sn_id FROM device.sn WHERE dname_id = 62 and sn_value = '123415'

IF @snid IS NULL
BEGIN
  PRINT 'id does not exist'
END
ELSE
BEGIN
  DECLARE @maxid int
  SELECT @maxid = MAX(id) AS maxid FROM device.list 
  INSERT INTO parts (sn_id,device_id) VALUES (@snid, @maxid)
END 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-31T08:29:24.397

在 SQL Server 中。该脚本首先插入记录，然后检查插入行的计数

```
 INSERT INTO parts (sn_id, device_id)    
  SELECT sn_id, (SELECT MAX(id) FROM device.list)
  FROM device.sn 
  WHERE dname_id = 62 and sn_value = '123415'  

  IF @@ROWCOUNT = 0 PRINT 'id does not exist' 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-31T06:39:02.010

```
Declare @snid int=null
Declare @maxid int=1 -- if no value exists in device.list table
set @snid = (select sn_id from device.sn WHERE dname_id = 62 and sn_value = '123415')
set @maxid = (select MAX(id) AS maxid FROM device.list)
if @snid is not null
Begin
  insert into parts(sn_id,device_id)
  values(@snid,@maxid)
End
else
Begin
  print 'ID does not exist'
End 
```

# c# - 多次运行模拟

> ID：14619208
> 
> 赞同：1
> 
> 时间：2013-01-31T05:39:39.790
> 
> 标签：c#, .net, nunit, moq

有人建议我在 Mocking 之后测试一些方法。我必须像 5 一样多次运行这个模拟。我想知道它是否可以在 lambda 表达式中完成，或者我必须循环它。谢谢

```
//when you know the parameter values to expect
mockEmailRequest.Verify(r=>r.EmailRecevied(expectedEmail, expectedId));

//when you just want to verify some detail about the values
mockEmailRequest.Verify(r=>r.EmailRecevied(It.Is<EmailResponse>(r=>r.Subject ==  "Something"),   It.Is<int>(i=>i > 17))); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T08:45:36.177

您应该使用以下代码：

```
mockEmailRequest.Verify(r=>r.EmailRecevied(It.Is<EmailResponse>(r=>r.Subject ==  "Something"), It.Is<int>(i=>i > 17)), Times.Exactly(5)); 
```

# php - 显示来自数据库的数据，其中 3 个表连接在一起

> ID：14619210
> 
> 赞同：0
> 
> 时间：2013-01-31T05:39:42.987
> 
> 标签：php, sql-server

> **可能重复：**
> [加入 3 个表以显示某些数据 PHP-MSSQL](https://stackoverflow.com/questions/14617873/join-3-tables-to-display-certain-data-php-mssql)

我有这些表，我想获取某些数据供用户查看并能够发布到其他页面

我不能发布图片，所以我必须分解它，所以请多多包涵

```
1st table     
 - dbo.users
 - pkey(UserID)
 - EmployeeName

2nd table    
 - dbo.PC
 - pkey(PCID)
 - PC_Number

3rd table
 - dbo.FA_PC    
 - pkey(FAID)
 - fkey(UserID)
 - fkey(PCID)

<?php
ini_set("display_errors","on");
$conn = new COM("ADODB.Connection");
try {
    $myServer = "WTCPHFILESRV\WTCPHINV";
    $myUser = "sa";
    $myPass = "P@ssw0rd";
    $myDB = "wtcphitinventory";
    $connStr = "PROVIDER=SQLOLEDB;SERVER=".$myServer.";UID=".$myUser.";PWD=".$myPass.";DATABASE=".$myDB;
    $conn->open($connStr);
    if (! $conn) {
        throw new Exception("Could not connect!");
    }
}
catch (Exception $e) {
    echo "Error (File:): ".$e->getMessage()."<br>";
}

if (!$conn)
{
    exit("Connection Failed: " . $conn);
}

$sql_exp = "select * from dbo.users";
$rs = $conn->Execute($sql_exp);
echo "<select name='empf'>";
while (!$rs->EOF) {
    set_time_limit(0);
    echo "<option value=".$rs->Fields('UserID')." >".$rs->Fields('EmployeeName')."</option>";
    $rs->MoveNext();
}
$rs->Close();
?> 
```

我怎样才能以相同的形式显示`PC_Number`当前选择的内容`$rs->Fields('UserID')`，并且仍然能够将其发布在 printd.php 上

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-31T06:20:26.717

尝试内部联接

```
select A.*,B.*,C.* from table1 A INNER JOIN Table2 B ON A.userid=B.userid 
INNER JOIN table3 C ON C.pcid=B.pcid where A.userid='2' 
```

祝你好运

# python - Python3 OpenID 库

> ID：14619215
> 
> 赞同：0
> 
> 时间：2013-01-31T05:39:56.937
> 
> 标签：python, python-3.x, openid, tornado

我搜索 OpenID-library，它适用于 python3。我需要成为 OpenID 提供者和 OpenID 消费者。tornado.auth 仅提供消费者功能。我可以使用什么来实现提供程序功能，或者如何使用 tornado 来实现它？

有人使用 python3-openid（python-openid 的分支）吗？这个怎么运作？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-03-24T12:32:20.227

[python3-openid](http://pypi.python.org/pypi/python3-openid)是 Python 3 的版本`python-openid`，多年来它或多或少是 Python 中 OpenID 的参考库。所以它应该实现你需要的一切。（免责声明：我移植`python3-openid`过来并且是 PyPI 包的维护者）。

但是，对于 Tornado，您将需要一个非阻塞的实现，最好使用 Tornado 的`HTTPClient`类，并且目前`python3-openid`不提供——如果您想实现它，我很乐意处理您的拉取请求！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2020-07-24T22:42:25.843

我选择了**[pyoidc](https://github.com/OpenIDC/pyoidc)** ，因为它直接在[OpenID 标准网站上的“](https://openid.net/developers/certified/)*认证 OpenID 连接实现*”官方列表中被列为“*认证依赖方库*” 。它在 Python 3.5+ 上运行，并且还兼作完整的 OAuth2.0 实现。

 *我知道这是一个旧帖子，但它仍然是相关的。在涉及安全和身份验证之类的事情时，不应该搞砸，坚持使用官方推荐或认证的库很可能会节省您的工作 - 如果出现任何问题，至少您选择的身份验证库不会受到质疑！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-31T09:44:01.793

你试过这个吗，我在pypi上找到的：http: [//pypi.python.org/pypi/python3-openid/3.0.1](http://pypi.python.org/pypi/python3-openid/3.0.1)*

# iphone - 使用 Phonegap 的 Iphone 应用程序以及我可以使用的操作系统和 IDE

> ID：14619221
> 
> 赞同：1
> 
> 时间：2013-01-31T05:40:30.277
> 
> 标签：iphone, cordova

我有客户要求开发 iPhone 应用程序。由于我是一名 dot net 开发人员，我认为这对我来说会有点挑战。所以我想用phone gap来开发它。因此，在向客户提出建议之前，我需要确定某些要点。

**我真的需要一台mac机器来开发这个吗？**

由于我只使用 html5、css 和 js，我可以在 Visual Studio/Eclipse 中开发它吗？我已经在这两个 IDE 中尝试了一些示例。一旦应用程序准备就绪，我已经阅读了有关使用**PhoneGap Build**的信息，我可以让它准备好在 iPhone 中使用......

但是从下面的链接中，我了解到我需要一台苹果电脑、mac os 和 Xocde 来开发它，即使它不是原生移动应用程序。

[http://mobile.tutsplus.com/tutorials/phonegap/phonegap-development/](http://mobile.tutsplus.com/tutorials/phonegap/phonegap-development/)

在与客户交谈之前，请指导我一些见解。

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-31T06:15:49.580

> PhoneGap Build 是建立在 PhoneGap 框架之上的基于云的服务。它使您可以轻松地在云中构建相同的移动应用程序。要构建您需要的应​​用程序，只需将您的 Web 资产（HTML、CSS 和 JavaScript 的 ZIP 文件）上传到 PhoneGap Build，一段时间后您将收到所有移动平台的下载 URL。

我从[这里](https://build.phonegap.com/faq)读到的，他们还提到了安装 SDK

> 如果您没有想要测试构建的特定设备，您可能需要安装一些 SDK 模拟器。

在此[链接](https://build.phonegap.com/docs/ios-builds)中，他们已添加注释

> 由于 PhoneGap Build 使用 Apple 的标准开发流程来构建应用程序，因此您需要注册他们的开发者计划才能在 PhoneGap Build 上构建 iOS 应用程序。您还需要一台 Mac 来配置您的证书和配置文件。

考虑使用 Mac 虚拟机。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-31T06:15:41.317

您主要需要一个 mac 来创建关键价值链对来签署您的应用程序并在设备上对其进行测试。我的建议是，您可以只使用 Mac VM 来执行此操作。然后，您可以使用 phonegap 构建服务为 iOS 编译 www 文件夹

这是多个索引文件的一个很好的演示，具有一个解决方案基础 [http://blog.safaribooksonline.com/2012/07/13/mcrooster-a-phonegap-application-with-a-single-codebase/](http://blog.safaribooksonline.com/2012/07/13/mcrooster-a-phonegap-application-with-a-single-codebase/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-31T09:29:04.743

我认为你应该在与 PhoneGap 上床之前做更多的研究，以免成为一名 Objective-C 开发人员。PhoneGap 有其局限性，与原生应用程序开发相比，我的体验很差。

# android - 单击编辑文本时如何向上滚动布局

> ID：14619222
> 
> 赞同：1
> 
> 时间：2013-01-31T05:40:32.923
> 
> 标签：android, android-layout

这是我的软输入模式和没有软输入模式的布局。

但主要问题是当我从倒数第二个编辑文本单击下一步时，我想显示这两个按钮并使用软输入模式最后编辑文本。请帮忙

我的xml文件如下

```
 <?xml version="1.0" encoding="utf-8"?>
     <ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
     android:layout_width="fill_parent"
     android:layout_height="fill_parent"
     android:background="@drawable/scroll_bg" >

<RelativeLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="521dp"
    android:layout_marginBottom="60dp"
    android:background="@drawable/bg" >

    <com.deemtech.widgets.MenuLayout
        android:id="@+id/menuTitle"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content" />

    <TextView
        android:id="@+id/txtCustomerDetails"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentTop="true"
        android:layout_centerHorizontal="true"
        android:layout_marginTop="140dp"
        android:gravity="center"
        android:text="@string/customer_details"
        android:textColor="#ffffff"
        android:textSize="12sp" />

    <EditText
        android:id="@+id/editNameCustomerDetails"
        style="@style/EditText"
        android:layout_below="@+id/txtCustomerDetails"
        android:layout_centerHorizontal="true"
        android:layout_marginTop="12dp"
        android:ems="10"
        android:hint="NAME"
        android:inputType="text" />

    <RelativeLayout
        android:id="@+id/innerLayout"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_centerHorizontal="true"
        android:layout_marginLeft="25dp"
        android:layout_marginRight="25dp"
        android:layout_marginTop="190dp"
        android:background="@drawable/bg_create_account1x"
        android:gravity="center"
        android:paddingBottom="5dp"
        android:paddingLeft="25dp"
        android:paddingRight="25dp"
        android:paddingTop="8dp" >

        <EditText
            android:id="@+id/editEmailCustomerDetails"
            style="@style/EditText"
            android:layout_alignLeft="@+id/editPhoneCutomerDetails"
            android:layout_alignParentTop="true"
            android:layout_marginTop="52dp"
            android:ems="10"
            android:hint="EMAIL ADDRESS"
            android:inputType="textEmailAddress" />

        <EditText
            android:id="@+id/editPhoneCutomerDetails"
            style="@style/EditText"
            android:layout_below="@+id/editEmailCustomerDetails"
            android:layout_marginTop="8dp"
            android:ems="10"
            android:hint="CONTACT NUMBER"
            android:maxLength="12"
            android:inputType="phone" />

        <!--
        <EditText
            android:id="@+id/editAdditionalInfo"
            android:layout_width="150dp"
            android:layout_height="50dp"
            android:layout_alignLeft="@+id/editPhoneCutomerDetails"
            android:layout_alignRight="@+id/editPhoneCutomerDetails"
            android:layout_below="@+id/editPhoneCutomerDetails"
            android:layout_marginBottom="60dp"
            android:layout_marginTop="10dp"
            android:background="@drawable/message_additional_box1x"
            android:ems="10"
            android:hint="ADDITIONAL INFO"
            android:inputType="text"
            android:padding="10dp"
            >

            <requestFocus />
        </EditText>
        -->

        <EditText
            android:id="@+id/editAdditionalInfo"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_alignLeft="@+id/editPhoneCutomerDetails"
            android:layout_alignParentBottom="true"
            android:layout_alignRight="@+id/editPhoneCutomerDetails"
            android:layout_below="@+id/editPhoneCutomerDetails"
            android:layout_marginBottom="60dp"
            android:layout_marginTop="8dp"
            android:hint="ADDITIONAL INFO"
            android:background="@drawable/message_additional_box1x"
            android:ems="10"
            android:singleLine="true"
            android:gravity="top"
            android:lines="3"
            android:padding="10dp"
            android:width="150dp" >

            <requestFocus />
        </EditText>
    </RelativeLayout>

    <Button
        android:id="@+id/btnBackCustomerDetails"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_marginTop="448dp"
        android:layout_toLeftOf="@+id/btnSubmitCustomerDetails"
        android:background="@drawable/btn_back"
        android:contentDescription="@string/app_name" />

    <Button
        android:id="@+id/btnSubmitCustomerDetails"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignRight="@+id/editNameCustomerDetails"
        android:layout_marginTop="448dp"
        android:background="@drawable/btn_submit"
        android:contentDescription="@string/app_name" />
</RelativeLayout>

 </ScrollView> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-31T06:20:54.370

在您的情况下，您不能简单地“调整大小”窗口。此外，您只想在单击最后一个编辑文本时显示按钮。

因此，您可以尝试这种方法，虽然不是真正建议的，但适用于您的场景：

```
@Override
protected void onCreate(Bundle savedInstanceState) {
    // TODO Auto-generated method stub
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_mainf);

    findViewById(R.id.editAdditionalInfo).setOnClickListener(new View.OnClickListener() {

        @Override
        public void onClick(View v) {
            Toast.makeText(sampleMediaPlayer.this, "text", 700).show();
            findViewById(R.id.btnBackCustomerDetails).requestFocusFromTouch();
            findViewById(R.id.editAdditionalInfo).requestFocusFromTouch();
        }
    });
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-31T05:56:52.233

检查此[链接](https://stackoverflow.com/questions/12453561/layout-on-keyboard-in-android)
或在文件中的活动中
尝试此操作。`android:windowSoftInputMode="adjustResize"``manifest`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-06T05:42:38.910

在 nimish 的回答的帮助下，我终于得到了我想要的

```
 editPhoneCustomerDetails.setOnKeyListener(new OnKeyListener() {

        @Override
        public boolean onKey(View v, int keyCode, KeyEvent event) {
            if ((event.getAction() == KeyEvent.ACTION_DOWN) &&
                    (keyCode == KeyEvent.KEYCODE_ENTER)) {

                findViewById(R.id.btnBackCustomerDetails).requestFocusFromTouch();
                findViewById(R.id.editAdditionalInfo).requestFocusFromTouch();
                //((ScrollView) findViewById(R.id.scrollView)).fullScroll(View.FOCUS_DOWN);

                //findViewById(R.id.editPhoneCutomerDetails).requestFocusFromTouch();

               // findViewById(R.id.btnBackCustomerDetails).requestFocusFromTouch(); 
            }
    return false;
        }
    });

    findViewById(R.id.editAdditionalInfo).setOnClickListener(new View.OnClickListener() {

        @Override
        public void onClick(View v) {
            //findViewById(R.id.btnBackCustomerDetails).setFocusable(true);
            findViewById(R.id.btnBackCustomerDetails).requestFocusFromTouch();
            findViewById(R.id.editAdditionalInfo).requestFocusFromTouch();
        }

    }); 
```

# java - 重新索引 Jive 4.5.5.0 中的内容

> ID：14619223
> 
> 赞同：0
> 
> 时间：2013-01-31T05:40:34.427
> 
> 标签：java

我有以下空间结构。

```
 Test
       help
       general
   Main           
       contact 
```

我想把将军搬到主空间。

```
 Test
       help
   Main
       general
       contact 
```

我正在使用 Jive 4.5.5.0。在管理控制台中，我们可以选择将子空间移动到另一个空间。我不确定内容的重新索引。我认为这是手动过程。

有人可以帮助我如何做到这一点。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-10T16:17:14.970

这是一个老问题，但我偶然发现了它，所以无论如何我都会回答。移动内容时，您不必重新索引内容。但是，如果您确实需要重建搜索索引，您可以在管理控制台中的系统 > 设置 > 搜索下执行此操作。但是重新索引在 4.5 中会占用大量资源，所以不要在使用高峰期进行。

# c#-4.0 - 首次使用的窗口应用程序

> ID：14619224
> 
> 赞同：-1
> 
> 时间：2013-01-31T05:40:47.947
> 
> 标签：c#-4.0

在我的窗口应用程序中，我已经完成了所有功能，并且一切正常，现在我在想用户必须输入**密码才能启动应用程序，而我通过直接在数据库中输入****用户 ID**和**密码**很容易做到这一点，但是现在我有点害怕，如果用户第一次打开应用程序**并且**第一次将没有任何可用的日志验证详细信息，因此，我认为如果用户第一次打开应用程序，该用户必须输入其用户id和密码，将用于登录验证...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-31T05:43:36.323

您可以为此使用应用程序设置，请参见下面的代码......

```
if (Properties.Settings.Default.IsFirstTimeUse)
{
    Properties.Settings.Default.IsFirstTimeUse = false;
} 
```

希望你喜欢这个解决方案...

# javascript - 循环内的 GetElementByTagName[ 0 ].setAttribute

> ID：14619226
> 
> 赞同：-1
> 
> 时间：2013-01-31T05:40:56.247
> 
> 标签：javascript

我只是好奇这个。

我创建了一个将 ID 值添加到动态创建 li 标记的函数。

函数看起来像这样。

```
function limenu(lix,liy){
document.getElementsByTagName("li")[0].setAttribute("id",lix);
document.getElementsByTagName("li")[1].setAttribute("id",liy);

} limenu("icon-dice","icon-clock"); 
```

我的想法是，我可以使用 for 循环吗？这让我可以插入多少我想要的事件而无需创建 `document.getElementsByTagName("li")[1]-[2]-[3]`..等

所以当我调用函数 liemenu() 时，我可以添加任意数量的事件。

我可以使用 Jquery，但我真的很想用 Javascript 来做到这一点。

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-31T05:43:08.710

```
function limenu() {
    var lis = document.getElementsByTagName("li");
    var count = Math.min(lis.length, arguments.length);
    for (var x = 0; x < count; x++) {
        lis[x].setAttribute('id', arguments[x]);
    }
} 
```

[http://jsfiddle.net/ExplosionPIlls/72hdS/](http://jsfiddle.net/ExplosionPIlls/72hdS/)

# c - 二进制转换器不适用于大数

> ID：14619230
> 
> 赞同：1
> 
> 时间：2013-01-31T05:41:12.877
> 
> 标签：c, binary, type-conversion, largenumber

我正在编写从整数转换为其二进制表示形式的 C 代码，反转二进制然后再转换回整数。它运行良好，但我需要它来处理高达 10^9 的输入值。现在，它似乎会因任何大于 10^7 的东西而中断。我的意思是我输入一个数字，例如 10000000，然后输出 17967657062982931584 作为二进制表示（尽管对于较小的整数是准确的）。此外，我不确定我的 int_to_binary 是唯一遇到此问题的函数，或者其他函数是否也需要针对大输入进行优化。有什么想法我哪里出错了吗？谢谢你。

```
#include <stdio.h>
#include <string.h>

unsigned long long int_to_binary(unsigned long long k) {
    if (k == 0) return 0;
    if (k == 1) return 1;
    return (k % 2) + 10 * int_to_binary(k/2);
}

unsigned long long reverse_int(unsigned long long l) {
        unsigned long long reversed; 
    reversed = 0;
        while (l > 0) {
                reversed = reversed * 10 + (l%10);
                l = l / 10;
        }
        return reversed;
}

unsigned long long binary_to_int(unsigned long long k) {
    char binaryString[80];
    snprintf(binaryString, 4, "%llu", k);
    unsigned long long decimal = 0;
    int length = strlen(binaryString);
    int i = 0;
    while(i < length) {
        decimal = (decimal << 1) + (binaryString[i] - 0x30);
        i++;
    }
    return decimal;
}

int main() {
    int number;
    printf("Enter a number: ");
    scanf("%d", &number);
    printf("You entered %d\n", number);
    unsigned long long b = int_to_binary(number);
    printf("In Binary, this is %llu\n", b);
    unsigned long long c = reverse_int(b);
    printf("When we reverse it, it looks like this: %llu\n", c);
    unsigned long long d = binary_to_int(c);
    printf("And when we convert that back to an int, it looks like this: %llu\n", d);
        return 0;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-31T06:09:47.077

您`long long`用于将二进制数表示为十进制数。在许多架构上，这导致存储的最大值为 2**64-1 = 18446744073709551615。

如果您输入一个十进制数，例如 10000000，则它不能表示为 64 位的十进制二进制数。

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2013-01-31T07:47:23.057

问题是试图将二进制数作为十次方的总和来操作。直接操作二进制更有效。只需在函数中更改`10`为。`2``reverse_int`

```
unsigned long long reverse_int(unsigned long long l) {
        unsigned long long reversed; 
        reversed = 0;
        while (l > 0) {
                reversed = reversed * 2 + (l%2);
                l = l / 2;
        }
        return reversed;
} 
```

为了以二进制打印数字，编写一个循环，按顺序测试每个位，使用模`%`或位运算符，如`&`and `>>`。

# jquery - Ajax POST 请求不显示内容

> ID：14619231
> 
> 赞同：0
> 
> 时间：2013-01-31T05:41:16.417
> 
> 标签：jquery, ajax, post

我正在使用 Ajax 提交输入到 textarea 中的信息，并试图让页面加载提交的字符串。我摆脱了错误并获得了成功功能来显示，但结果没有加载到页面上。我究竟做错了什么？

```
 var dataString = tinyMCE.get('addAnswer').getContent();

            $.ajax({
                type: "POST",
                url: "/home/19/1/add_answer/",
                data: $(dataString).serialize(),
                success: function(data){
                    alert(dataString);
                },
                error: function(){
                    alert('You fail');
                }
            }); 
```

这是完整的代码：

```
$('#submitAnswer').on('click', function(e){
            e.preventDefault();
            var dataString = tinyMCE.get('addAnswer').getContent();

        // Next 3 functions are all for the csrf token
            function getCookie(name) {
                var cookieValue = null;
                if (document.cookie && document.cookie != '') {
                    var cookies = document.cookie.split(';');
                    for (var i = 0; i < cookies.length; i++) {
                        var cookie = jQuery.trim(cookies[i]);
                        // Does this cookie string begin with the name we want?
                        if (cookie.substring(0, name.length + 1) == (name + '=')) {
                            cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                            break;
                        }
                    }
                }
                return cookieValue;
            }
            var csrftoken = getCookie('csrftoken');

            function csrfSafeMethod(method) {
                // these HTTP methods do not require CSRF protection
                return (/^(GET|HEAD|OPTIONS|TRACE)$/.test(method));
            }
            function sameOrigin(url) {
                // test that a given url is a same-origin URL
                // url could be relative or scheme relative or absolute
                var host = document.location.host; // host + port
                var protocol = document.location.protocol;
                var sr_origin = '//' + host;
                var origin = protocol + sr_origin;
                // Allow absolute or scheme relative URLs to same origin
                return (url == origin || url.slice(0, origin.length + 1) == origin + '/') ||
                    (url == sr_origin || url.slice(0, sr_origin.length + 1) == sr_origin + '/') ||
                    // or any other URL that isn't scheme relative or absolute i.e relative.
                    !(/^(\/\/|http:|https:).*/.test(url));
            }
            $.ajaxSetup({
                beforeSend: function(xhr, settings) {
                    if (!csrfSafeMethod(settings.type) && sameOrigin(settings.url)) {
                        // Send the token to same-origin, relative URLs only.
                        // Send the token only if the method warrants CSRF protection
                        // Using the CSRFToken value acquired earlier
                        xhr.setRequestHeader("X-CSRFToken", csrftoken);
                    }
                }
            });

            // End of csrf token functions

            $.ajax({
                type: "POST",
                url: "/home/19/1/add_answer/",
                data: $(dataString).serialize(),
                success: function(data){
                    alert(dataString);
                },
                error: function(){
                    alert('damn');
                }
            });
        }); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-31T05:52:57.053

选择页面内的任意 html 元素以加载成功函数内部接收到的数据，如下所示。

```
$.ajax({
   type: "POST",
   url: "/home/19/1/add_answer/",
   data: $(dataString).serialize(),
   success: function(data){
             alert(dataString);
             $("#test").html(data); // replace 'test' with your selected element id
            },
   error: function(){
              alert('You fail');
            }
 }); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-31T05:55:36.647

根据[$.serialize](http://api.jquery.com/serialize/)文档，dataString 应该是一个表单对象。在您的情况下，dataString 似乎是一个原始字符串。在[$.ajax](http://api.jquery.com/jQuery.ajax/)中，`data`要么是 urlencoded 请求参数，要么是（通过 jquery）转换为 urlencoded 请求参数的对象。您的代码应如下所示：

```
var dataString = tinyMCE.get('addAnswer').getContent();
$.ajax({
    type: 'POST',
    url: '/home/19/1/add_answer/',
    data: {textData: dataString},
    success: function(data){
                alert(dataString);
            },
    error: function(){
                alert('You fail');
            }
}); 
```

在服务器端，数据将作为带有“textData”键的 POST 参数发送。

[像这样使用$.post](http://api.jquery.com/jQuery.post/)也可能更短/更容易：

```
var dataString = tinyMCE.get('addAnswer').getContent();
$.post('/home/19/1/add_answer/', textData: dataString, function(data) {
    alert(dataString);
    // or do something with the response from the server (data)
}); 
```

# java - 单击按钮时如何制作吐司消息

> ID：14619234
> 
> 赞同：7
> 
> 时间：2013-01-31T05:41:30.303
> 
> 标签：java, android, toast

我正在创建一个测验。我在活动及其相应的问题中有 3 个按钮（选项）。现在，我的问题是我想显示 toast 消息，当用户选择正确答案时，toast 消息会在几秒钟内出现，但是当用户选择错误答案时，它会再次显示 toast 消息。我不知道该怎么做。

我做了很多研究并阅读了论坛，但似乎我不明白，它不符合我的需求。有人可以帮忙吗？提前致谢！

到目前为止，这里是代码。但它不起作用。
请纠正我哪个代码是错误的。深深的感谢。

```
btn1.setOnClickListener(new View.OnClickListener() {
  @Override
  public void onClick(View arg0) {
    // TODO Auto-generated method stub
    Button btn1 = (Button) findViewById(R.id.btnopt1_a);
    btn1.isClickable();
    switch(arg0.getId()){  
      case R.id.btnopt1_a:  
          if(btn1.isPressed()){  
             Toast.makeText(getBaseContext(), "Your answer is correct!" , Toast.LENGTH_SHORT ).show();  
           }  
           else btn1.setText("Your answer is wrong!, The correct answer is: Frog");  
             break;  
           }
      }
    }); 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-31T05:45:44.037

要在单击按钮时显示 toast 消息，请使用以下代码。如果您想进行一些验证，请使用按钮的 onclicklistener 中的代码：

```
Button btn1 = (Button) findViewById(R.id.btnopt1_a);
btn1.setOnClickListener(new OnClickListener() { 
    public void onClick(View v)  {
        Toast.makeText(getBaseContext(), "Your answer is correct!" , Toast.LENGTH_SHORT ).show();   
    }
}); 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-01-31T06:03:03.527

试试这个，首先`implements`你的`Activity OnClickListener`. 然后每次结束每次点击检查条件你都会得到解决方案。

```
public class Deals extends Activity implements OnClickListener {
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        requestWindowFeature(Window.FEATURE_NO_TITLE);
        setContentView(R.layout.yourxml);
        //declare ur buttons here
    }

    public void onClick(View v) {
        switch (v.getId()) {
            case R.id.menu: {
                // Do your stuff here
                // call method
                if (isright) {
                    Toast.makeText(getBaseContext(), "Your answer is correct!", Toast.LENGTH_SHORT).show();
                } else {
                    Toast.makeText(getBaseContext(), "Your answer wrong!", Toast.LENGTH_SHORT ).show();
                }
            }
        }
    }
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-31T05:48:00.160

如果您有许多必须展示吐司的条件。那么最好制作一个显示它的方法。

```
private void showToast(String msg) {
    Toast.makeText(getApplicationContext(), msg, Toast.LENGTH_SHORT).show();
} 
```

`onClick()`并在要显示的地方或任何地方调用上述方法。

```
 btn1.setOnClickListener(new OnClickListener() {
   public void onClick(View v)  {
       ..................
       ..........................

       case R.id.btnopt1_a:  
           if (btn1.isPressed()) {
               showToast("Your answer is correct!");
           } else {
               showToast("Your answer is wrong!, The correct answer is: Frog");
           }

           break;
       }); 
```

# ruby-on-rails-3 - 向评论模型添加了两个“belongs_to”，但无法获得其中一个关联

> ID：14619236
> 
> 赞同：1
> 
> 时间：2013-01-31T05:41:32.720
> 
> 标签：ruby-on-rails-3

我目前正在 Rails 上构建非常简单的评论系统。主要模型是 User、Albumpost 和 Comment。用户可以发布相册帖子。对于每个 Albumpost，用户可以向 Albumpost 添加评论。结果，评论属于用户并且属于专辑帖子。

我遇到的问题是，即使我的模型中有正确的关联（见下文），我也无法得到

```
@comment.user.name 
```

当我尝试在专辑帖子“显示”页面 (/views/albumposts/show.html.erb) 中呈现评论时。当我转到页面时，我无法获取@comment.user.name（不了解关联）并获取

```
"undefined method `name' for nil:NilClass" 
```

奇怪的是我能得到

```
@comment.albumpost.content 
```

我仔细检查了我的模型，并为模型添加了正确的外键。我在控制器中做错了吗？

这是我的模型：

```
class Comment < ActiveRecord::Base
  attr_accessible :body, :albumpost_id, :user_id
  belongs_to :albumpost
  belongs_to :user
end

class Albumpost < ActiveRecord::Base
  attr_accessible :content
  belongs_to :user
  has_many :comments, dependent: :destroy
end

class User < ActiveRecord::Base
  attr_accessible :name, :email, :password, :password_confirmation
  has_many :albumposts, dependent: :destroy
  has_many :comments, dependent: :destroy
end 
```

以下是我的 Albumpost 和 Comments 控制器的相关部分：

```
class AlbumpostsController < ApplicationController
  def show
    @albumpost = Albumpost.find(params[:id])
    @comments = @albumpost.comments
    @comment = Comment.new
    @comment.albumpost_id = @albumpost.id
    @comment.user_id = current_user.id
  end
end

class CommentsController < ApplicationController
  def create
    albumpost_id = params[:comment].delete(:albumpost_id)
    @comment = Comment.new(params[:comment])
    @comment.albumpost_id = albumpost_id
    @comment.user_id = current_user.id
    @comment.save
    redirect_to albumpost_path(@comment.albumpost)
  end
end 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-31T05:52:26.477

我认为您应该更喜欢将对象设置为关系而不是设置它们的 ID。例如，您应该这样做：

```
 @comment.user = current_user 
```

代替

```
 @comment.user_id = current_user.id 
```

ActiveRecord 将负责设置相应的`*_id`字段。我不确定它如何处理相反的情况。（*如果我理解正确，它应该自动加载*）

# bash - 如何在总时间以编程方式在 Geoserver 上设置用户名和密码

> ID：14619238
> 
> 赞同：4
> 
> 时间：2013-01-31T05:41:51.100
> 
> 标签：bash, geoserver

我正在编写一个 bash 脚本来按照[安装说明](http://docs.geoserver.org/stable/en/user/installation/linux/debian.html#installation)中列出的步骤安装 Geoserver 。我正在尝试使用 CURL 发布自定义数据存储配置文件。但是我遇到了身份验证错误。

```
 * upload completely sent off: 42out of 42 bytes
    < HTTP/1.1 401 Unauthorized
    < Server: Apache-Coyote/1.1
    < Set-Cookie: SPRING_SECURITY_REMEMBER_ME_COOKIE=""; Expires=Thu, 01-Jan-1970 00:00:10 GMT; Path=/geoserver
    * Authentication problem. Ignoring this.
    < WWW-Authenticate: Basic realm="GeoServer Realm"
    < Content-Type: text/html;charset=utf-8
    < Content-Length: 1299
    < Date: Thu, 31 Jan 2013 05:16:17 GMT 
```

我相信这是因为我没有为 Geoserver 设置用户名和密码。我似乎能找到的唯一方法是通过网络管理界面来完成。我想通过我的 bash 脚本来设置它。

有没有办法做到这一点？

Bash 脚本部分在这里

```
 echo 'Downdloading geoserver'
    wget http://downloads.sourceforge.net/project/geoserver/GeoServer/2.2.4/geoserver-2.2.4-war.zip

    unzip geoserver-2.2.4-war.zip
    sudo cp geoserver.war /var/lib/tomcat7/webapps/

    sleep 120

    echo 'setting up geoserver'

    curl -u $U_NAME:$PASSWORD -v -XPOST -H 'Content-type: text/xml' \
       -d '<workspace><name>catami</name></workspace>' \
       http://localhost:8080/geoserver/rest/workspaces ;

    curl -u $U_NAME:$PASSWORD -XPOST -T datastore-config.xml -H 'Content-type: text/xml' \
      http://localhost:8080/geoserver/rest/workspaces/catami/datastores ;

    curl -u $U_NAME:$PASSWORD -XPOST -H 'Content-type: text/xml' \
      -d '<featureType><name>Force_image</name></featureType>' \
      http://localhost:8080/geoserver/rest/workspaces/catami/datastores/CatamiImagePoints/featuretypes ;

    curl -u $U_NAME:$PASSWORD -XPOST -H 'Content-type: application/vnd.ogc.sld+xml' \
      -d @catami-colour-by-depth.sld http://localhost:8080/geoserver/rest/styles ;

    curl -u $U_NAME:$PASSWORD -XPUT -H 'Content-type: text/xml' \
      -d '<layer><defaultStyle><name>catami-colour-by-depth</name></defaultStyle><enabled>true</enabled></layer>' \
      http://localhost:8080/geoserver/rest/layers/catami:Force_image 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-31T06:15:21.880

显然，您可以在 GeoServer 数据目录中编辑用户名和密码。[你可以在这里](http://docs.geoserver.org/latest/en/user/gettingstarted/web-admin-quickstart/index.html)阅读更多关于它的信息。

在您找到要更改的文件后，您只需要根据`sed`自己的喜好更改该数据即可。

# requirejs - 要求 js shim 不适用于此代码

> ID：14619239
> 
> 赞同：4
> 
> 时间：2013-01-31T05:42:01.127
> 
> 标签：requirejs

我有以下代码。

```
<script src="js/libs/require.js"></script>
<script>
    requirejs.config({
        baseUrl:'js/modules/',
        paths:{
            'bbn':'../libs/backbone',
            'underscore':'../libs/underscore'
        },
        shim:{
            'bbn':{
                exports:'B',
                deps:['underscore']
            }
        }
    })  
    requirejs(['bbn'], function(B){
        console.log(B)
    });
</script> 
```

函数参数`B`未指向`Backbone`. 相反，它被记录为`undefined`.

我遵循以下帖子并到达这一点：

[使用 RequireJS 通过 shim 加载 Highcharts 并维护 jQuery 依赖项](https://stackoverflow.com/questions/10907519/loading-highcharts-via-shim-using-requirejs-and-maintaining-jquery-dependency)

我在 firebug 中看到`underscore`和JavaScript 文件都被下载了。`backbone`

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-31T16:18:09.350

下划线也不兼容 AMD，因此请确保您也这样做`shim`：

```
requirejs.config({
baseUrl:'js/modules/',
paths:{
    'bbn':'../libs/backbone',
    'underscore':'../libs/underscore'
},
shim:{
    'bbn':{
        exports:'Backbone',
        deps:['underscore']
    },
    'underscore': {
        exports: '_'
    }
}
})  
requirejs(['bbn'], function(Backbone){
console.log(Backbone)
}); 
```

你会看到 Underscore 正在被下载，但是因为它没有被定义为一个正确的模块，RequireJS 只是把它当作一个普通的 JS 文件并且没有得到返回值

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-03-02T04:41:18.840

最新版本的 Underscore（撰写本文时约为 1.6.0）与 AMD 兼容。不要将其用作垫片，否则您可能会遇到问题。

# cuda - 涉及去除向量元素的推力向量变换

> ID：14619242
> 
> 赞同：0
> 
> 时间：2013-01-31T05:42:19.400
> 
> 标签：cuda, thrust, cublas, bspline

我有一个推力 device_vector 分成 100 个块（但在 GPU 内存上完全连续），我想删除每个块的最后 5 个元素，而不必重新分配一个新的 device_vector 来将其复制到。

```
// Layout in memory before (number of elements in each contiguous subblock listed):
// [   95   | 5 ][   95   | 5 ][   95   | 5 ]........

// Layout in memory after cutting out the last 5 of each chunk (number of elements listed)
// [  95  ][  95  ][  95  ].........

thrust::device_vector v;
// call some function on v;

// so elements 95-99, 195-99, 295-299, etc are removed (assuming 0-based indexing) 
```

我怎样才能正确地实现这一点？最好我想避免在 GPU 内存中分配一个新向量来保存转换。我知道有处理这些类型的操作的推力模板函数，但我很难将它们串在一起。Thrust 提供的东西可以做到这一点吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-31T06:34:36.660

没有分配缓冲区内存意味着您必须保留复制顺序，不能并行以充分利用 GPU 硬件。

这是使用 Thrust 和缓冲内存执行此操作的版本。

它需要 Thrust 1.6.0+，因为迭代器上使用了 lambda 表达式仿函数。

```
#include "thrust/device_vector.h"
#include "thrust/iterator/counting_iterator.h"
#include "thrust/iterator/permutation_iterator.h"
#include "thrust/iterator/transform_iterator.h"
#include "thrust/copy.h"
#include "thrust/functional.h"

using namespace thrust::placeholders;

int main()
{
    const int oldChunk = 100, newChunk = 95;
    const int size = 10000;

    thrust::device_vector<float> v(
            thrust::counting_iterator<float>(0),
            thrust::counting_iterator<float>(0) + oldChunk * size);
    thrust::device_vector<float> buf(newChunk * size);

    thrust::copy(
            thrust::make_permutation_iterator(
                    v.begin(),
                    thrust::make_transform_iterator(
                            thrust::counting_iterator<int>(0),
                            _1 / newChunk * oldChunk + _1 % newChunk)),
            thrust::make_permutation_iterator(
                    v.begin(),
                    thrust::make_transform_iterator(
                            thrust::counting_iterator<int>(0),
                            _1 / newChunk * oldChunk + _1 % newChunk))
                    + buf.size(),
            buf.begin());

    return 0;
} 
```

我认为由于使用了 mod operator ，上述版本可能无法达到最高性能`%`。为了获得更高的性能，您可以考虑使用 cuBLAS 函数[cublas_geam()](http://docs.nvidia.com/cuda/cublas/index.html#topic_9_1)

```
float alpha = 1;
float beta = 0;
cublasSgeam(handle, CUBLAS_OP_N, CUBLAS_OP_N,
            newChunk, size,
            &alpha,
            thrust::raw_pointer_cast(&v[0]), oldChunk,
            &beta,
            thrust::raw_pointer_cast(&v[0]), oldChunk,
            thrust::raw_pointer_cast(&buf[0]), newChunk); 
```

# java - SOAPInterceptor.getUnderstoodHeaders() 是如何使用的？

> ID：14619245
> 
> 赞同：1
> 
> 时间：2013-01-31T05:42:57.930
> 
> 标签：java, soap, cxf

Apache CXF 实际调用的时间是[`SoapInterceptor.getUnderstoodHeaders()`](http://cxf.apache.org/javadoc/latest/org/apache/cxf/binding/soap/interceptor/SoapInterceptor.html#getUnderstoodHeaders%28%29)什么时候，对拦截器的使用有什么影响？

让这个函数返回`null`或为空有什么影响`HashSet`？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-15T16:43:11.720

它用于由拦截器声明未解析的标头。

如果您声明一个必须理解的标头，您必须创建一个管理它的拦截器

# load - 记录用于复制的 TCP 流量作为负载测试

> ID：14619247
> 
> 赞同：2
> 
> 时间：2013-01-31T05:43:08.883
> 
> 标签：load, load-testing

我想知道是否有一种方法可以记录网络流量，以便我可以使用它一遍又一遍地“重播”相同的负载，以便在已知的实时负载下进行优化测试。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-09-25T02:27:00.667

也许[tcpcopy](https://github.com/wangbin579/tcpcopy)是您正在寻找的工具。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-31T05:44:19.937

尝试使用[WireShark](http://www.wireshark.org/)，它是一个强大的网络诊断工具。但是这个工具没有内置功能来回放流量。

IHMO 根据您的技术简单地重建所有请求是没有意义的，您可能会破坏一切。所以要小心修改数据。它可能会做出无意义的响应并引发错误。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-01T14:36:56.733

有很多方法可以做到这一点——但这种方法实际上只对静态内容有效。而且由于提供静态内容的系统的性能通常是众所周知的并且可以很好地扩展，因此几乎没有理由以这种方式进行负载测试。IIRC，有一个负载测试产品在多年前作为硬件出售。不过，我已经很多年没有遇到过它们了。

只能以这种方式测试静态站点的原因是，在更典型的交互式站点中，不能完全按照记录的方式重播单个会话。对于每个用户的每次迭代，HTTP 消息的许多位都会发生变化。例如：cookie、内容过期和最后修改的标头以及 URL 查询参数、表单字段和 AJAX 请求中的其他值，这些都是应用程序管理许多并发用户之间的会话状态所必需的。

顺便说一句，配置所有这些字段以发送正确的值是使用 HTTP 捕获和重放（几乎是所有这些）的负载测试工具的最大挑战。为单个会话执行此操作可能很困难。这样做是为了从许多用户那里大量捕获网络流量，这大大提高了标准。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-16T23:39:50.243

Jmeter 和 Grinder 都有一个记录代理，它允许可以回放的 HTTP 记录。尽管您可能需要更改请求以从以前的请求中解析出任何所需的动态数据。也就是说，记录/回放是 HTTP 流量构建的一个很好的起点。根据您的问题，Grinder 还具有 TCP 记录代理（具有 HTTP 选项），因此您可以真正获得详细的流量。- [http://grinder.sourceforge.net/g3/tcpproxy.html](http://grinder.sourceforge.net/g3/tcpproxy.html)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2016-05-09T18:38:58.010

提到这是另一个选项，因为它还没有在这里列出： [https ://github.com/buger/gor](https://github.com/buger/gor)

Gor 专为满足您对 HTTP 的要求而构建，“专业版”将处理 HTTPS。Gor 内置于 Go 中，并具有许多高级功能：[https ://gortool.com/](https://gortool.com/)

它是开源的，提供带有一些附加功能的“专业”版本。

# java - 在android中使用http发送文件并在jsp中接收

> ID：14619248
> 
> 赞同：0
> 
> 时间：2013-01-31T05:43:10.813
> 
> 标签：java, android, jsp, web-applications

我是http文件传输的新手。我想将文件从 android sdcard 发送到服务器。为此，我尝试了以下代码。我将字节转换为 json 字符串并将其发送到服务器。但我无法在服务器端接收它。我在服务器端使用jsp。但是应该有一些有效的方法来做到这一点。请给我一些想法。

```
 HttpClient httpclient = new DefaultHttpClient();
    HttpPost httppost = new HttpPost("http://10.0.2.2:8084/httptest");

    try {
        // Add your data
        List<NameValuePair> nameValuePairs = new ArrayList<NameValuePair>(2);
        String encodedString = convertURL(jsonString);
        nameValuePairs.add(new BasicNameValuePair("wavfil", encodedString));
        httppost.setEntity(new UrlEncodedFormEntity(nameValuePairs));

        // Execute HTTP Post Request
        HttpResponse response = httpclient.execute(httppost);
        HttpEntity entity = response.getEntity();
        if (entity != null) {

            String responseString = EntityUtils.toString(entity, "UTF-8"); 
            Toast.makeText(this, responseString, Toast.LENGTH_SHORT).show();
            tv.setText(responseString);
            Log.d("HTTP LOG", responseString);

        }
    } catch (ClientProtocolException e) {
        // TODO Auto-generated catch block
    } catch (IOException e) {
        // TODO Auto-generated catch block
    } 
```

jsp

```
<%

String value = request.getParameter("wavfil");

byte[] wavByte = value.getBytes();

FileOutputStream fos = new FileOutputStream("/TESTFILE.wav");
fos.write(wavByte, 0, wavByte.length);
if (wavByte != null) {
    out.println("Success");
} else {
    out.println("Failed");
} 
```

%>

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-31T06:18:24.300

添加以下行

```
HttpClient httpclient = new DefaultHttpClient();
    HttpPost httppost = new HttpPost("http://10.x.x.x:8084/httptest");

try {
    // Add your data
    List<NameValuePair> nameValuePairs = new ArrayList<NameValuePair>(2);
    String encodedString = convertURL(jsonString);
    nameValuePairs.add(new BasicNameValuePair("wavfil", encodedString));
    httppost.setEntity(new UrlEncodedFormEntity(nameValuePairs));
//Create and attach file to the Post
File file = new File("pathto your file"); //replace with actual path
MultipartEntity entity = new MultipartEntity();

httppost.setEntity(entity);

    // Execute HTTP Post Request
    HttpResponse response = httpclient.execute(httppost);
    HttpEntity entity = response.getEntity();
    entity.addPart("file", new FileBody(file));
    if (entity != null) {

        String responseString = EntityUtils.toString(entity, "UTF-8"); 
        Toast.makeText(this, responseString, Toast.LENGTH_SHORT).show();
        tv.setText(responseString);
        Log.d("HTTP LOG", responseString);

    }
} catch (ClientProtocolException e) {
    // TODO Auto-generated catch block
} catch (IOException e) {
    // TODO Auto-generated catch block
} 
```

# batch-file - 来自带有 & 的 cmd.exe /k 的多个命令不起作用

> ID：14619264
> 
> 赞同：1
> 
> 时间：2013-01-31T05:44:24.860
> 
> 标签：batch-file, cmd

抱歉，如果在某个地方回答了这个问题，一直在寻找 30 多分钟无济于事。

所以我有一个批处理文件，我在其中调用：

```
%comspec% /K "CD ..\..\test\java_6_86 & "C:\Program Files (x86)\Java\jdk1.6.0_38\bin\javac.exe" -classpath TestLib.jar Test1.java" 
```

然而，这是行不通的。

我想做的是：

（在批处理文件中）

1.  打开一个新的命令提示符
2.  将当前目录更改为 Test1.java 所在的目录
3.  然后调用java编译器并让它编译Test1.java

另外，是否可以告诉命令从哪里开始，而不必将 CD 作为第一个命令？

谢谢，陶氏

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-31T08:05:18.977

我不知道你`%comspec%`是什么，但假设它是 'cmd' 这应该可以解决问题（`cmd /K`必须在`javac`电话前面）

```
cd ..\..\test\java_6_86 & cmd /K "C:\Program Files (x86)\Java\jdk1.6.0_38\bin\javac.exe" -classpath TestLib.jar Test1.java 
```

顺便说一句，两个班轮会更具可读性

```
cd ..\..\test\java_6_86
cmd /K "C:\Program Files (x86)\Java\jdk1.6.0_38\bin\javac.exe" -classpath TestLib.jar Test1.java 
```

您当然可以使用绝对路径来指定您的类路径和 java 源文件并跳过目录更改。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-31T09:37:15.077

要回答您的第二个问题，您可以使用`pushd/popd`. 顾名思义，这些允许存储当前目录，然后更改为给定路径（`pushd path`），然后`popd`弹出/恢复原始当前目录。如果您需要临时更改当前目录以进行某些处理，或者您希望保护您的代码免受不必要的目录更改（例如，如果您调用另一个批处理），这将非常有用。它对网络路径也很方便，因为它会自动为其创建驱动器号。`Help pushd`会给你完整的信息。

# java - 如何在 servlet 中使用 JDBC？

> ID：14619266
> 
> 赞同：-1
> 
> 时间：2013-01-31T05:44:55.750
> 
> 标签：java, jdbc

我尝试制作从我的数据库（PostgreSQL）获取文件并将其发送到客户端的 servlet。我说：

```
 protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
    // TODO Auto-generated method stub
    try
    {
        Connection ce = ConnectionManager.createConnection();
    } catch (ClassNotFoundException e)
    {
        // TODO Auto-generated catch block
        e.printStackTrace();
    } catch (SQLException e)
    {
        // TODO Auto-generated catch block
        e.printStackTrace();
    }
    Statement sta = null;
    sta = ce.createStatement();
    String fileName="";
    byte[] file=null;
    int bufferSize = 8192;
    String sql=("SELECT files,filename FROM filestock WHERE num =(SELECT filestock_id FROM parcels_temp WHERE num="+num+")");
    ResultSet rs=sta.executeQuery(sql);
    while(rs.next()){
        file = rs.getBytes("files");
        fileName=rs.getString("filename");
    }
} 
```

所以我只是创建连接，eclipse 说我要在`Try/catch`. 怎么了？在servlet中使用JDBC是个坏主意，我必须在另一个类中处理数据库？
在这种情况下如何将文件发送到 servlet？我会把它作为`File`或其他我想用[它](http://www.coderanch.com/t/483892/JSF/java/commandButton-commandLink)发送文件从 servlet 发送到客户端的东西。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-31T05:48:44.827

在 servlet 中做所有事情并不是一个好的编程习惯。尝试使用 3 层架构..

```
request---->Servlet--->Manager---->DAO--->Database 
```

创建另一个 DAO (DatabaseAccessObject)。它只不过是另一个只执行数据库操作的类。您在这个 servlet 中编写的所有这些代码都将转到该类中的一个函数。

下一步是创建一个 Bean，您将在其中存储结果。

现在将 bean 从 The DAO 返回到这个 servlet。

现在问题来了？你打算对文件和文件名做什么？

如果要下载文件，只需将其推送到输出流中即可。确保设置了 contentType。

编辑：示例文件下载

```
OutputStream out = response.getOutputStream();
FileInputStream in = new FileInputStream(my_file);
byte[] buffer = new byte[4096];
int length;
while ((length = in.read(buffer)) > 0){
    out.write(buffer, 0, length);
}
in.close();
out.flush(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-31T05:49:56.123

至少部分问题是您没有关闭您打开的连接。一段时间后，这将导致连接泄漏，您的应用程序最终会崩溃。使用此类资源的一般模式是

```
Connection conn;
try {
   conn = ...
   //do stuff with your connection
   return result;
} catch (Exceptions ...) {
   ///handle exceptions
} finally {
   conn.close(); //will always be executed
} 
```

此外，如其他地方所述，JSP 被认为是“表示层”——这意味着它们主要处理很好地显示源自其他地方的数据。其他地方通常称为“业务层”，而这通常属于数据库访问。所以将该代码移至实用程序类，并从您的 JSP 调用该类

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-31T05:54:28.250

没有错误。每当您访问数据库时，都会涉及许多步骤。

*   注册驱动程序
*   打开连接
*   执行查询。
*   获取数据
*   关闭连接

这些步骤可能会抛出需要处理的异常。我建议将整个代码包装在一个 try/catch 下，而不是为每个语句编写它。

# javascript - jquery onclick改变css背景图片

> ID：14619267
> 
> 赞同：7
> 
> 时间：2013-01-31T05:44:56.353
> 
> 标签：javascript, jquery, html, css

我正在使用此代码获取菜单选项卡。当我将鼠标悬停在选项卡上时，选项卡图像会改变，同样我想使用 jquery 更改选项卡 onlick 的图像。我使用下面的代码来执行此操作，但我无法得到它。我怎样才能做到这一点。

```
<html>
    <head>
    <title>Css Menu</title>
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <style>
    .home {
        background: url("images/tab2.png") repeat scroll 0 0 transparent;
        border-radius: 4px 4px 0 0;
        height: 75px;
        left: 54px;
        position: relative;
        top: 25px;
        width: 90px;
    } 
    .home:hover {
        background: url("images/tab3.png") repeat scroll 0 0 transparent;
        border-top: 1px solid black;
        border-left: 1px solid black;
        border-right: 1px solid black;
    }

    </style>
    <script type="text/javascript">
        $(function() {
              $('.home').click(function() {
                    $('home').css('backgroundImage', 'url(images/tabs3.png)');
              });
        }):
    </script>

    </head>
    <body><div class="frame">
    <div class="header1"></div>
    <div class="header2">
        <a href="#"><div class="home" onclick="function()"><img src="images/tools.png" class="image"><br><span class="align">Home</span></div></a>
        </div>
    <div class="header3"></div>
    </div>
    </body>
    </html> 
```

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-01-31T05:49:27.757

您需要使用**background-image**而不是**backgroundImage**。例如：

```
$(function() {
  $('.home').click(function() {
    $(this).css('background-image', 'url(images/tabs3.png)');
  });
}): 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-31T05:51:08.050

我认为这应该是：

```
$('.home').click(function() {
     $(this).css('background', 'url(images/tabs3.png)');
 }); 
```

并删除它：

```
<div class="home" onclick="function()">
     //-----------^^^^^^^^^^^^^^^^^^^^---------no need for this 
```

你必须`make sure you have a correct path to your image.`

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2013-01-31T05:49:33.160

像这样使用你的jquery

```
$('.home').css({'background-image':'url(images/tabs3.png)'}); 
```

# arcgis-server - ArcGIS Server 10.1 太慢，无法生成缓存切片

> ID：14619269
> 
> 赞同：1
> 
> 时间：2013-01-31T05:45:17.810
> 
> 标签：arcgis-server

我想为我的 arcgis web 地图定义缩放级别，但似乎我应该先构建缓存切片。我已经等了 2 个小时，但缓存状态仍然保持在 0%。我想知道这是否正常？谢谢。

![0% 的图块可用于此服务](../Images/c8a42da12b84eff0d4a605edb401adcf.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-31T09:26:06.233

是的，缓存过程可能非常耗时。我使用 ArcGIS Server 10.0.x 创建了切片缓存，遇到了一些问题，包括处理速度慢。

已知瓶颈：缓存目标的 ArcSDE 和磁盘速度 (RPM)

我建议一次只缓存几层，然后将这些层放入一个缓存文件夹中。使用 MSD-s 而不是 MXD-s。您的地图绘制得越快，您就会越快看到创建的图块。关闭缓存文件夹中的索引选项。不允许其他进程访问您正在写入缓存的硬盘。避免在缓存时运行其他服务。

有关更多建议，请查看[此帖子](http://blogs.esri.com/esri/arcgis/2011/03/22/map-caching-tips-and-best-practices-with-arcgis-server-10/)！

# android - android ListView mListView.getChildAt(i) 为空，如何解决？

> ID：14619271
> 
> 赞同：5
> 
> 时间：2013-01-31T05:45:42.087
> 
> 标签：android, android-listview

我创建以下代码：

```
 mListView.setOnItemClickListener(new AdapterView.OnItemClickListener() {

        @Override
        public void onItemClick(AdapterView<?> parent, View v, int position,
                long id) {

            for (int i = 0; i < mListView.getCount(); i++) {
                View callLogView = mListView.getChildAt(i);   
                mRelativeLayout = (LinearLayout)callLogView.findViewById(R.id.myShow);
                if(i == position){
                    if(mRelativeLayout.getVisibility() == View.GONE){
                        mRelativeLayout.setVisibility(View.VISIBLE);
                    }
                    else{
                        mRelativeLayout.setVisibility(View.GONE);
                    }
                }else{
                    mRelativeLayout.setVisibility(View.GONE);
                }
            }

        }
    }); 
```

我想实现一个功能，比如当我点击一个项目时`Listview`，它会显示一个视图，而 Listview 的其他项目将被隐藏。但是`mListView.getChildAt(i)`在超出后会有空指针`mListView.getChildCount()`。

如何解决这个问题？提前致谢！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-31T05:57:09.447

[AdapterView.getCount()](http://developer.android.com/reference/android/widget/AdapterView.html#getCount%28%29)返回数据项的数量，这可能大于可见视图的数量，这就是为什么你得到空指针异常，因为你试图找到当前可见 ListView 项目中不存在的视图。

要解决此问题，您首先需要使用 找到 ListView 中的第一个可见项目，`getFirstVisiblePosition()`并使用 `getLastVisiblePosition()`. 将 for 循环条件更改为：

```
int num_of_visible_view=mListView.getLastVisiblePosition() - 
                                   mListView.getFirstVisiblePosition();

for (int i = 0; i < num_of_visible_view; i++) {
      // do your code here
 } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-31T05:49:12.487

你不能在 onItemClick 中实现它。

因为您只能访问可见的孩子而不是所有的孩子。

你可以做的是 onItemClick

您可以在适配器中发送位置

然后在getView中设置逻辑也改变视图

并在列表视图中更新适配器，或通知更改。

# javascript - 基于浏览器的在线语音/视频聊天的任何解决方案？

> ID：14619279
> 
> 赞同：-1
> 
> 时间：2013-01-31T05:46:26.577
> 
> 标签：javascript, flash

我需要建立一个可以帮助人们进行 1 对 N、1 对 1 在线语音聊天的网站，但不确定哪种方式是最快的实现方式？任何有这方面经验的人都可以给我一些现实世界的解决方案吗？提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-31T05:55:25.933

如果你正在考虑使用flash，你将需要一个RTMP流服务器>我建议你看看下面的2：Wowza Media Server [http://www.wowza.com/](http://www.wowza.com/)

Red5（开源） [http://www.red5.org/](http://www.red5.org/)

他们的网站上有关于如何设置基本视频聊天应用程序的示例。

# javascript - 如何在 javascript 或 jQuery 中将“[array]”转换为 [array]

> ID：14619282
> 
> 赞同：1
> 
> 时间：2013-01-31T05:46:59.223
> 
> 标签：javascript, jquery, arrays, string

有什么方法可以转换`"["item1","item2"]"`为`["item1","item2"]`javascript 或 jQuery 吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-31T05:48:13.357

```
JSON.parse('["item1","item2"]'); 
```

或者如果你真的需要它来支持较低的 IE：

```
$.parseJSON('["item1","item2"]'); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-31T05:48:58.090

您可以使用[replace()](http://www.w3schools.com/jsref/jsref_replace.asp)，

**[现场演示](http://jsfiddle.net/rajaadil/RqjLh/1/)**

```
str = str.replace('"[', '[').replace(']"' , ']'); 
```

# c# - 获取循环中的最后一个元素

> ID：14619286
> 
> 赞同：-1
> 
> 时间：2013-01-31T05:47:11.087
> 
> 标签：c#, for-loop, texttemplate

```
for (int ixIdx = 0; ixIdx < tblAttributes.Count; ixIdx++)
      {
          bool Exclude = ExcludeColumn(tblAttributes[ixIdx].Name);
                  bool Primary = Primary(tblAttributes[ixIdx].Name);
                  if (Exclude || Primary)
          {
              continue;
          }
          else
          {
    #>    [<#= tblAttributes[ixIdx].MdlPart.InternalName #>]<#= ixIdx == tblAttributes.Count-1 ? "" : "," #>
    <#    }
        } 
```

上面的代码在 texttemplate 文件中。我要做的就是为列表 tblAttributes 的每个元素生成一个逗号，这些元素进入 else 并在列表的最后一个元素处停止逗号.....

问题是因为我的条件是 else 它正在应用，但在那之后最后一个元素落入 if 块，所以它永远不会停止逗号生成。那么有没有可能找到最后一个出现在 else 块中的元素......完成这项工作......

或者整个过程是否有任何解决方法plz ....谢谢........

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-31T05:51:22.733

对于您的逗号问题，您可以出于一般目的这样做：

```
string res = "";
for(int i = 0; i < list.Count - 1; i++)
    res += list[i] + ", ";
if (list.Count > 0) res += list[list.Count - 1]; 
```

在您的特定情况下（因为并非每个元素都添加到您的字符串中）：

```
string res = "";
int i = 0;
while (i < tblAttributes.Count && (ExcludeColumn(tblAttributes[i].Name) || (Primary(tblAttributes[i].Name)))
    i++;

if (i < tblAttributes.Count) res += tblAttributes[i].Name;

for (; i < tblAttributes.Count; i++)
{
    if (!ExcludeColumn(tblAttributes[i].Name) && !(Primary(tblAttributes[i].Name))
        res += ", " + tblAttributes[i].Name;
} 
```

这样，如果您有另一个元素要添加到结果字符串中，您只需添加一个逗号。如果没有符合您的条件的元素，则字符串将为空。如果只有一个，则您的字符串末尾不会有逗号。如果有多个元素，请在添加新元素之前放置逗号，因此您的字符串也不会有以逗号结尾的风险。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-31T16:03:06.733

你可以做的简单的事情是

在 for 循环中迭代列表并将满足您条件的元素推送到新列表中，然后迭代新列表，以便您可以使用下面的简单逻辑在新列表的最后一个元素的末尾停止生成逗号环形。

```
for(int i = 0; i < newlist.Count; i++)
{ 
   <#= newlist[i] #><#= i == newlist.Count - 1 ? "" : "," #>
} 
```

会做的谢谢............

# javascript - JSLint - 带有变量的正则表达式的错误转义

> ID：14619295
> 
> 赞同：1
> 
> 时间：2013-01-31T05:48:09.133
> 
> 标签：javascript, regex, sublimetext2, jslint

我看过一些关于**JSLint“错误擒纵”**警告的帖子，但我只是想看看我是否正确地执行了这个正则表达式。（注意 - 我是涉足程序员）。

我有一个函数（如下），它试图从长消息中的名称中解析出一个变量。正则表达式运行良好，但***我应该更改一些内容以响应 JSLint 警告吗？***

一个非常简化的 msg 版本基本上看起来像这样：

> *变量名称 1 = 值 1
> 变量名称 2 = 值 2 变量名称 3 = 值
> 3*

实际的 msg 上面和下面有不同的非结构化数据。我不得不使用一个奇怪的正则表达式，因为即使一个更简单的正则表达式适用于所有测试网站，它在我们正在使用的服务器应用程序中不起作用，所以这是我让它工作的唯一方法。正则表达式包含一个变量。

这是我正在使用的解析函数：

```
 function parseValue(msg, strValueName) {
        var myRegexp = new RegExp(strValueName + ' = ([A-Z3][a-zA-Z\. 3]+)[\\n\\r]+', 'gm');
        log('parseValue', 'myRegexp = ' + myRegexp.toString());
        var match = myRegexp.exec(msg);
        log('parseValue', 'returning match = ' + match[1] );
        return match[1];
    } 
```

一个“真正的”程序员可能很容易想出一些更简单的东西。任何帮助，将不胜感激。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-01T15:37:04.993

JSLint 不喜欢的问题是 '.' 'Explosion Pills' 指出的字符类中的字符。

当我删除“。” 一切都很好。

谢谢。

# html - 如何在所有方向的表单中将文本框和文本对齐在同一行中

> ID：14619296
> 
> 赞同：0
> 
> 时间：2013-01-31T05:48:09.807
> 
> 标签：html, jquery, jquery-mobile, android-orientation

我正在开发一个 jquery 网页，其中我有用户名和密码字段。我想将用户名及其输入文本框向右对齐。但是当我把它放在安卓手机中时，横向对齐会发生变化。我需要在页面中间对齐这个文本框和文本，即使方向改变，它也不会改变。请在这方面帮助我。我的代码是。

```
<div data-role="fieldcontain" >
<div id="a" class="uname">
<label for="name"><font size="1" color="black">  User Name:  </font></label>
<input type="text" name="name"  id="text" data-mini="true" value=""/>
</div>
<div id="b" class="uname">
<label for="password"><font size="1" color="black">Password : </font></label>
<input type="password" name="password" id="text" data-mini="true" value=""/></div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-31T07:15:46.453

好吧，希望这对你有用。

[http://jsfiddle.net/8cHKB/](http://jsfiddle.net/8cHKB/)

更改您的内联 CSS 以符合您的要求。

有时，您也可以使用`data-inline="true"`代替`display: inline-block`. 还要考虑您的浏览器和设备功能。

# objective-c - 开始/结束外观转换的不平衡呼叫

> ID：14619304
> 
> 赞同：0
> 
> 时间：2013-01-31T05:48:33.537
> 
> 标签：objective-c, ios5

从 ios 中的另一个视图控制器推送视图控制器时出现错误。我在 secondviewcontroller 中使用了 viewwillappear 像这样

```
- (void)viewWillAppear:(BOOL)animated {
    [super viewWillAppear:animated];
    self.navigationController.navigationBarHidden = NO;
    [self.navigationController.navigationBar setTintColor:[UIColor blackColor]];
    self.navigationItem.title=@"Preview";

} 
```

错误可能是由于这个或其他原因造成的。任何人都可以提出建议

# android - 主菜单：android上的任务和backstack

> ID：14619305
> 
> 赞同：1
> 
> 时间：2013-01-31T05:48:44.090
> 
> 标签：android

我无法弄清楚如何正确实现主菜单。以下事情正在发生：

MainMenu -> ActivityA -> ActivityB -> ActivityC -> MainMenu

当我回到 MainMenu 时，我想抑制能够返回 ActivityC（以及 ActA 和 ActB）。我的第一个线索是覆盖后退按钮并做一些讨厌的事情，比如通过它的 PID 杀死应用程序，但我知道这是不鼓励的，所以......

有许多有趣的意图标志，例如 FLAG_ACTIVITY_CLEAR_TOP、FLAG_ACTIVITY_NEW_TASK 或 FLAG_ACTIVITY_NO_HISTORY，但它们都不起作用。FLAG_ACTIVITY_CLEAR_TOP 导致当我到达主菜单时立即关闭应用程序（迄今为止最好的结果......），其他的根本没有效果，按下返回刚刚返回到 ActivityC。我对它们都进行了测试，不仅是这四个，所有活动标志......我还测试了为主菜单定义 android:clearTaskOnLaunch="true" ，但没有成功。

哦，是的，我正在处理 2.2，API 级别 8

任何建议都受到高度赞赏。最好的祝福！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-31T07:41:55.550

必须覆盖 MainActivity 中的 OnKeyDown 方法：

```
@Override
public boolean onKeyDown(int keyCode, KeyEvent event) {
    if (keyCode == KeyEvent.KEYCODE_BACK) {
        //TODO: killing the App by its PID 
        return false;
    } else {
        return super.onKeyDown(keyCode, event);
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-03T19:10:35.897

这里建议的解决方案是完美的：

[https://stackoverflow.com/a/8678500/1841940](https://stackoverflow.com/a/8678500/1841940)

我在所有应该从后台删除的活动上注册一个广播监听器，当我到达主菜单时，我只发送广播，所有接收器都调用完成（）。

这真的很棒！

# xml - 在扩展 JodaTime 的 MutableInterval 的类型上使用 java2ws 的可怕的无参数构造函数问题

> ID：14619308
> 
> 赞同：2
> 
> 时间：2013-01-31T05:48:50.770
> 
> 标签：xml, jaxb, cxf, jodatime, java2wsdl

首先，我已经看过这里：

*   [http://blog.bdoughan.com/2011/05/jaxb-and-joda-time-dates-and-times.html](http://blog.bdoughan.com/2011/05/jaxb-and-joda-time-dates-and-times.html)

对于`JodaTime`使用`JAXB`.

我继承了一个代码库，其中的 impl（和 XML 适配器）在下面。

尝试使用for生成`WSDL`和客户端时，我得到以下信息：`Apache CXF v2.7.2 Maven plugin``java2ws`

```
Caused by: com.sun.xml.bind.v2.runtime.IllegalAnnotationsException: 1 counts of IllegalAnnotationExceptions
org.joda.time.base.BaseInterval does not have a no-arg default constructor.
    this problem is related to the following location:
            at org.joda.time.base.BaseInterval
            at org.joda.time.MutableInterval
            at com.etp.commons.persistence.model.time.Period 
```

好吧，`Period`（下） extends `MutableInterval`extends `BaseInterval`extends`AbstractInterval`在 中具有受保护的无参数构造函数`JodaTime v2.1`。 `Period`有一个公共的无参数构造函数，它调用`MutableInterval`传入一些默认值的构造函数变体。

关于如何进行的任何提示？

```
package com.etp.commons.persistence.model.time;

import java.text.SimpleDateFormat;
import java.util.ArrayList;
import java.util.Collection;
import java.util.Collections;
import java.util.HashSet;
import java.util.List;
import java.util.Set;

import javax.xml.bind.annotation.XmlType;
import javax.xml.bind.annotation.adapters.XmlJavaTypeAdapter;

import org.joda.time.DateTime;
import org.joda.time.DateTimeZone;
import org.joda.time.MutableInterval;
import org.joda.time.ReadableInstant;
import org.joda.time.ReadableInterval;

import com.etp.commons.persistence.model.jaxb.XMLPeriodAdapter;
import com.etp.commons.time.services.core.TimeDispatcher;

@XmlType
@XmlJavaTypeAdapter(value=XMLPeriodAdapter.class)
public class Period extends MutableInterval implements Comparable<Period>{

private static final long serialVersionUID = 1L;

public static boolean endpointInclusive = true;
public static DateTime defaultEffectiveInstant = new DateTime(1900,1,1,0,0,0,0, DateTimeZone.forID("GMT"));
public static DateTime defaultTerminationInstant = new DateTime(9999,12,31,0,0,0,0, DateTimeZone.forID("GMT"));
public static Period defaultEffectiveInterval = new Period();       

@Override
public boolean contains(ReadableInstant time){
    if (endpointInclusive){
        return this.getStartMillis() < time.getMillis() && this.getEndMillis() >= time.getMillis();
    }else{
        return super.contains(time);
    }
}

@Override
public boolean contains(long time){
    if (endpointInclusive){
        return this.getStartMillis() < time && this.getEndMillis() >= time;
    }else{
        return super.contains(time);
    }
}

@Override
public boolean containsNow(){
    long time = TimeDispatcher.defaultTimeDispatcher.getCurrentTimeMillis();
    if (endpointInclusive){         
        return this.getStartMillis() < time && this.getEndMillis() >= time;
    }else{
        return super.contains(time);
    }
}

public DateTime getInclusiveTerminalInstant(){
    if (endpointInclusive){
        return this.getEnd();
    }else{
        return this.getStart();
    }
}

public Period getOverlap(Period period){
    if (!this.overlaps(period)){
        return null;
    }else if (this.contains(period)){
        return new Period(period);
    }else if (period.contains(this)){
        return new Period(this);
    }else{
        if (this.getStartMillis() < period.getStartMillis()){
            return new Period(period.getStart(),this.getEnd());
        }else{
            return new Period(this.getStart(),period.getEnd());
        }
    }
}

public Period offsetByJodaPeriod(org.joda.time.Period period, boolean reverse){
    Period p = null; 
    if (reverse){
        p = new Period(getStart().minus(period),getEnd().minus(period));
    }else{
        p = new Period(getStart().plus(period),getEnd().plus(period));
    }   
    return p;
}

public static List<Period> merge(List<Period> periods){
    List<Period> result = new ArrayList<Period>();
    periods = getDistinctPeriods(periods);
    Collections.sort(periods);

    DateTime start = null;
    DateTime end = null;
    for (Period period : periods){
        if (start == null){
            start = period.getStart();
            end = period.getEnd();
        }else{
            if (period.getStart().isEqual(end)){
                end = period.getEnd();
            }else{
                result.add(new Period(start,end));
                start = period.getStart();
                end = period.getEnd();
            }
        }
    }
    if (start != null){
        result.add(new Period(start,end));
    }
    return result;
}

public static Period getExtentPeriod(Collection<Period> periods){
    DateTime start = null;
    DateTime end = null;
    for (Period period : periods){
        if (start == null || start.getMillis() > period.getStartMillis()){
            start = period.getStart();
        }
        if (end == null || end.getMillis() < period.getEndMillis()){
            end = period.getEnd();
        }
    }
    return new Period(start,end);
}

public static Period getEnclosingPeriod(DateTime instant, FrequencyUnitType unit){

    DateTime start = unit.truncate(instant);
    DateTime end = start.plus(unit.getJodaPeriod());

    return new Period(start,end);

}

public Period subtractOverlap(Period period){
    if (this.overlaps(period)){
        if (period.contains(this)){
            return null;
        }else if (this.contains(period)){
            throw new IllegalArgumentException("Period contains target period. More than one period would result from subtract");
        }else if (this.getStartMillis() < period.getStartMillis()){
            return new Period(this.getStart(),period.getStart());
        }else if (this.getEndMillis() > period.getStartMillis()){
            return new Period(period.getEnd(),this.getEnd());
        }       
    }
    return this;
}

public Period subtractOverhang(Period period){
    if (this.overlaps(period)){
        if (period.contains(this)){
            return this;
        }else if (this.contains(period)){
            return new Period(period.getStart(),period.getEnd());
        }else if (this.getStartMillis() < period.getStartMillis()){
            return new Period(period.getStart(),this.getEnd());
        }else if (this.getEndMillis() > period.getStartMillis()){
            return new Period(this.getStart(),period.getEnd());
        }
    }
    return null;
}

/**
 * Returns the smallest period that is common to all of the passed periods and contains the passed time.
 *  
 * @param periods
 * @param time
 * @return
 */
public static Period getSmallestCommonIntersection(Collection<Period> periods, DateTime time){
    Period smallest = new Period();
    for (Period period : periods){
        if (!period.contains(time)){
            return null;
        }
        if (smallest.getStartMillis() < period.getStartMillis()){
            smallest.setStart(period.getStart());
        }
        if (smallest.getEndMillis() > period.getEndMillis()){
            smallest.setEnd(period.getEnd());
        }
    }
    return smallest;
}

public static List<? extends PeriodDatedObject> getCollectionWithinPeriod(Collection<? extends PeriodDatedObject> collection, Period effectivePeriod){
    List<PeriodDatedObject> effectiveObs = new ArrayList<PeriodDatedObject>();
    for (PeriodDatedObject ob : collection){
        if (ob.getPeriod().overlaps(effectivePeriod)){
            effectiveObs.add(ob);
        }
    }
    return effectiveObs;
}    

public static List<? extends PeriodDatedObject> getCollectionAtInstant(Collection<? extends PeriodDatedObject> collection, DateTime effectiveInstant){
    List<PeriodDatedObject> effectiveObs = new ArrayList<PeriodDatedObject>();
    for (PeriodDatedObject ob : collection){
        if (ob.getPeriod().contains(effectiveInstant)){
            effectiveObs.add(ob);
        }
    }
    return effectiveObs;
}

public static PeriodDatedObject getMemberAtInstant(Collection<? extends PeriodDatedObject> collection, DateTime effectiveInstant){
    for (PeriodDatedObject ob : collection){
        if (ob.getPeriod().contains(effectiveInstant)){
            return ob;
        }
    }
    return null;
}

public List<Period> getGaps(List<Period> periods){
    Collections.sort(periods);      
    List<Period> gaps = new ArrayList<Period>();

    DateTime contiguousTo = this.getStart();

    for (Period period : periods){
        if (period.getStart().getMillis() <= this.getStart().getMillis()){
            contiguousTo = period.getEnd();
        }else if (period.getStart().isEqual(contiguousTo)){
            contiguousTo = period.getEnd();
        }else if (period.getStartMillis() > contiguousTo.getMillis()){
            Period gap = new Period(contiguousTo, period.getStart());
            contiguousTo = period.getEnd();
            gaps.add(gap);
        }
    }

    if (contiguousTo.getMillis() < this.getEnd().getMillis()){
        Period gap = new Period(contiguousTo, this.getEnd());
        gaps.add(gap);
    }

    return gaps;
}

/**
 * Returns a list of distinct periods that results from overlaying the list 
 * of input periods. Non-contiguous periods will not be returned
 * 
 * @param periods
 * @return
 */
public static List<Period> getDistinctPeriods(Collection<Period> periods){

    Set<Long> instants = new HashSet<Long>();

    for (Period period : periods){
        instants.add(period.getStart().getMillis());
        instants.add(period.getEnd().getMillis());
    }

    List<Long> sorted = new ArrayList<Long>(instants);      
    Collections.sort(sorted);

    List<Period> distinctPeriods = new ArrayList<Period>();
    Period period = null;
    for (int i=0;i<sorted.size();i++){
        if (period != null){
            period.setEnd(new DateTime(sorted.get(i)));
            distinctPeriods.add(period);
        }
        period = new Period();
        period.setStart(new DateTime(sorted.get(i)));           
    }

    List<Period> emptyPeriods = new ArrayList<Period>();
    for (Period distinctPeriod : distinctPeriods){
        boolean empty = true;
        for (Period actualPeriod : periods){
            if (actualPeriod.contains(distinctPeriod)){
                empty = false;
                break;
            }
        }
        if (empty){
            emptyPeriods.add(distinctPeriod);
        }
    }
    distinctPeriods.removeAll(emptyPeriods);

    return distinctPeriods;
}

public boolean abuts(Period period){
    return this.getStartMillis() == period.getEndMillis() || this.getEndMillis() == period.getStartMillis();
}

public DateTime getStartDate(){
    return this.getStart();
}

public void setStartDate(DateTime date){
    this.setStart(date);
}

public DateTime getEndDate(){
    return this.getEnd();
}

public void setEndDate(DateTime date){
    this.setEnd(date);
}

public Period(){
    super(defaultEffectiveInstant,defaultTerminationInstant);
}   

public Period(DateTime start, DateTime end){
    super(start,end);
}

public Period(long start, long end) {
    super(start,end);
}

public Period(ReadableInterval period) {
    super(period.getStart(),period.getEnd());
}

@Override
public int hashCode() {
    final int prime = 31;
    int result = prime;
    result = prime * result + new Long(this.getStartMillis()).hashCode();
    result = prime * result + new Long(this.getEndMillis()).hashCode();
    return result;
}

@Override
public boolean equals(Object obj) {
    if (this == obj)
        return true;
    if (!Period.class.isAssignableFrom(obj.getClass()))
        return false;
    Period other = (Period) obj;
    if (this.getEnd() == null) {
        if (other.getEnd() != null)
            return false;
    } else if (!this.getEnd().isEqual(other.getEnd()))
        return false;
    if (this.getStart() == null) {
        if (other.getStart() != null)
            return false;
    } else if (!this.getStart().isEqual(other.getStart()))
        return false;
    return true;
}

public int compareByEnd(Period o) {
    return o.getEnd().compareTo(this.getEnd());
}

@Override
public int compareTo(Period o) {
    int compare = this.getStart().compareTo(o.getStart());      
    return compare;
}    

public String toString(){
    SimpleDateFormat fmt = new SimpleDateFormat("yyyy-MM-dd HH:mm:ssZZ");
    return fmt.format(this.getStart().toDate()) + "-" + fmt.format(this.getEnd().toDate());
}

public String toString(String format){
    SimpleDateFormat fmt = new SimpleDateFormat(format);
    return fmt.format(this.getStart().toDate()) + "-" + fmt.format(this.getEnd().toDate());
}

public boolean containsIncludingEndpoints(DateTime next) {
    return contains(next) || getStart().isEqual(next) || getEnd().isEqual(next);
}
} 
```

这是适配器...

```
package com.etp.commons.persistence.model.jaxb;

import javax.xml.bind.annotation.adapters.XmlAdapter;

import com.etp.commons.persistence.model.time.Period;

public class XMLPeriodAdapter extends XmlAdapter<String, Period> {

/*
@Override
public Period unmarshal(JAXBAdaptedPeriod v) throws Exception {
    return new Period(new DateTime(v.getStart().getTime()), new DateTime(v.getEnd().getTime()));
}

@Override
public JAXBAdaptedPeriod marshal(Period v) throws Exception {
    JAXBAdaptedPeriod  period = new JAXBAdaptedPeriod();

    if(v!=null){
        period.setStart(v.getStart().toDate());
        period.setEnd(v.getEnd().toDate());
    }

    return period;
}
 */

@Override
public Period unmarshal(final String v) throws Exception {
    final int dashIndex = v.indexOf('-');
    final long start = Long.valueOf(v.substring(0, dashIndex));
    final long end = Long.valueOf(v.substring(dashIndex + 1));
    return new Period(start, end);
}

@Override
public String marshal(final Period v) throws Exception {
    return v.getStartMillis() + "-" + v.getEndMillis();
}
} 
```

**更新更多细节**

假设我有这样的服务......

```
@WebService(targetNamespace="http://www.foo.com/DerivationModelServices")
public interface DerivationModelService extends InternalDerivationModelService{

public Determinant getDeterminant(DeterminantQueryParameters params) throws PersistenceServiceException;

public DeterminantDefinition getDeterminantDefinition(DeterminantDefinitionQueryParameters params) throws PersistenceServiceException;

public Group getGroup(GroupQueryParameters params) throws Exception;    

public AttributeDefinition getAttributeDefinition(AttributeDefinitionQueryParameters params) throws PersistenceServiceException;

public void saveGroup(Group group) throws PersistenceServiceException;

public void saveDeterminant(Determinant determinant) throws PersistenceServiceException;

public DerivationModel getDerivationModel(DerivationModelQueryParameters model) throws PersistenceServiceException; 

public void saveReportDefinition(ReportDefinition def);

public PagedQueryResults<ReportDefinition> getReportDefinitions(ReportDefinitionsQueryParameters params);

public ReportDefinition getReportDefinition(ReportDefinitionQueryParameters params);

    } 
```

为什么我会得到无参数构造函数`Period`？此外，如果我将所有超级接口的方法都标记`@WebMethod(excluded=true)`为不暴露它们，我为什么会得到这个异常？我问是因为虽然我收到的第一个答案看起来像是要走的路，但我无法克服这个问题。（也许我没有在我的代码库中到处寻找所描述的案例？）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-31T20:06:22.397

`@XmlJavaTypeAdapter(value=XMLPeriodAdapter.class)`在你的 POJO 中应该使用 注解。

```
@XmlType
@XmlJavaTypeAdapter(value=XMLPeriodAdapter.class)
class Response  
{    
   private Period period;  

   // another fields  
   // setters/getters
} 
```

如果你不想使用单独的 POJO，你可以使用 next

```
 @WebMethod  
   public void wsMethod(@WebParam   
                        @XmlJavaTypeAdapter(XMLPeriodAdapter.class)   Period period){}

   @WebMethod  
   @WebResult
   @XmlJavaTypeAdapter(XMLPeriodAdapter.class)
   public Period wsMethod(){} 
```

# c# - 在带有实体框架的 SQL Server 2008 r2 中为一张表使用两个序列

> ID：14619309
> 
> 赞同：0
> 
> 时间：2013-01-31T05:48:53.250
> 
> 标签：c#, entity-framework-4, sql-server-2008-r2, auto-increment

我正在开发一个贷款管理应用程序。我有一个名为 Loan 的表/实体，我将它们全部保存在其中。我需要的是使用 autoinc（1、2、3、4、5、6 等）保存已开票的贷款，并使用另一个 autoinc 序列来保存所有未开票的贷款（例如：20000、20001、20002、 ETC）。想法是将两笔贷款放在同一个表中，但具有不同的 ID，然后，根据状态，将出现已开票或未开票的贷款。该应用程序已经处于最后阶段，因此不能使用 2 个不同的表来保存每个表。我需要建议来找到解决方案，看看是否可以做到。顺便说一句，我正在使用带有 C# 的 Entity Framework 4。

基本上，简而言之，我需要为表的一个字段创建 2 个 autoinc 序列。第二个 autoinc 编号必须以高编号开始，以免第一个到达。

希望有人可以帮助我..

**编辑：** 伙计们，我想详细说明这个问题，因为我不知道你是否明白这样做的意义。无发票贷款的想法是让用户“非法”提供贷款而无需为此纳税。这就是为什么它应该被区分。我只是不能使用一个 ID 序列号，因为如果一些检查员查看 ID 号会说，“好吧，我们这里有贷款 1、2、3、7、8，但它在哪里 4、5、6？” 拥有两个序列的想法，一个比另一个高很多，高到无法在第一个之前到达它，就是为了实现这一点。使用相同的序列，但有另一个字段来区分是否开票可能是一种可能的解决方案，但由于我有很多用户，我喜欢 SQL 自动设置贷款 ID 的方式。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-31T07:51:23.223

正如 Greg 所提到的，首先，您需要在表上关闭自动递增。然后创建一个您将从数据访问层调用的存储过程，它将通过计算正确的 Id 在表上创建两条记录。这样，数据访问层和业务逻辑将与 db 级任务无关。

正如 Greg 再次指出的那样，当应用程序数量达到 20K 大关时，应制定相应的策略来处理这种情况。

如果您不介意我问，您为什么选择基于主/候选键的状态的方法？为什么不维护一个列来说明贷款是否已开具发票？由于您使用的是 EF，如果您采用这种方法，您应该能够使用 Table per Hierarchy 根据鉴别键（[http://www.c-sharpcorner.com/UploadFile/ff2f08/entity投影两组数据-framework-4-0-tph-part-2/](http://www.c-sharpcorner.com/UploadFile/ff2f08/entity-framework-4-0-tph-part-2/)和 [http://weblogs.asp.net/manavi/archive/2010/12/24/inheritance-mapping-strategies-with-entity-framework-code-first- ctp5-part-1-table-per-hierarchy-tph.aspx](http://weblogs.asp.net/manavi/archive/2010/12/24/inheritance-mapping-strategies-with-entity-framework-code-first-ctp5-part-1-table-per-hierarchy-tph.aspx) )

或者..为什么不查询发票表，如果可用（子查询或联接）来确定贷款是否开票。

干杯

# ios - 中文字符编码问题ios

> ID：14619316
> 
> 赞同：2
> 
> 时间：2013-01-31T05:49:12.797
> 
> 标签：ios, json

我有一个应用程序支持四种语言。在那个时候，当我用中文用户名登录时，它会显示我这样的响应..

> [{"0":"41","intid":"41","1":"\u8a00\u3046", **"varfirstname":"\u8a00\u3046"** ,"2":"\u8a00\u3046" ,"varlastname":"\u8a00\u3046","3":"\u5730","varusername":"\u5730","4":"abc@gmail.com","varemailid":"abc@gmail .com","5":"qwert","varpassword":"qwert","6":"12345","varmobileno":"12345","7":"启用","mobileMessage":"启用","8":"","varphoneno":"","9":"Enable","enumstatus":"Enable","10":"2013-01-30","date_insert":"2013-01-30","11":"2013-01-30","date_edit":"2013-01-30","12":"1.38.28.36","varipaddress":"1.38\. 28.36"}]

我想向UITextfield Text显示**“varfirstname” 。**但是当我在 NSLog 中打印它时，我没有得到任何文本。

> `NSLog(@"Text is === %@",textfname,text);`

如何解码此文本？并在 UITextfield 或 UILabel 上显示。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-31T05:54:05.053

我只是搜索了一下，从[这里](https://stackoverflow.com/questions/10838702/how-to-encode-or-decode-url-in-objective-c)找到了一个有用的答案。

中文和日文字符自然不适用于 ASCII 字符串编码。如果您尝试通过 Apple 的方法转义字符串，您绝对应该避免代码重复，将结果存储为 Unicode 字符串。使用以下编码之一：

```
NSUTF8StringEncoding
NSUTF16StringEncoding
NSShiftJISStringEncoding (not Unicode, Japanese-specific) 
```

**更新**

例如，您可以编码解码您的中文字符串，如下所示：

```
NSString * test = @"汉字马拉松是";
NSString* encodedString =[test stringByAddingPercentEscapesUsingEncoding:NSUTF8StringEncoding];

NSLog(@"====%@",encodedString); 
```

**输出是：**

> %E6%B1%89%E5%AD%97%E9%A9%AC%E6%8B%89%E6%9D%BE%E6%98%AF

然后像这样解码：

```
NSString* originalString =[encodedString stringByReplacingPercentEscapesUsingEncoding:NSUTF8StringEncoding];
NSLog(@"====%@",originalString); 
```

**输出是：**

> 汉字是

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-31T06:14:06.433

```
NSString *abc = @"\u8a00\u3046";

NSLog(@" %@ " , [NSString stringWithUTF8String:[abc UTF8String]]); 
```

如果你使用 json ：

```
NSString *html = @"\u8a00\u3046";

NSData *jsonData = [html dataUsingEncoding:NSUTF8StringEncoding];

NSLog(@" %@ " , [[NSString alloc] initWithData:jsonData encoding:NSUTF8StringEncoding]); 
```

他们都输出“言う”我认为是日语

# jquery - 多重突出显示和合并行选择jqGrid

> ID：14619318
> 
> 赞同：0
> 
> 时间：2013-01-31T05:49:25.433
> 
> 标签：jquery, jqgrid

我已经使用 成功地将行合并在一起`jqGrid`，但我只能合并带有 id 的列。我有两个问题，如果不是太多的话。

当前工作代码：http: [//jsfiddle.net/5B2Wh/38/](http://jsfiddle.net/5B2Wh/38/)

这是我使用的合并功能：

```
function Merger(gridName, CellName) {

                var mya = $("#" + gridName + "").getDataIDs();

                var length = mya.length;
                for (var i = 0; i < length; i++) {

                    var before = $("#" + gridName + "").jqGrid('getRowData', mya[i]);

                    var rowSpanTaxCount = 1;
                    for (j = i + 1; j <= length; j++) {

                        var end = $("#" + gridName + "").jqGrid('getRowData', mya[j]);
                        if (before[CellName] == end[CellName]) {
                            rowSpanTaxCount++;
                            $("#" + gridName + "").setCell(mya[j], CellName, '', {
                                display: 'none'
                            });
                        } else {
                            rowSpanTaxCount = 1;
                            break;
                        }
                        $("#" + CellName + "" + mya[i] + "").attr("rowspan", rowSpanTaxCount);
                    }
                }
            }
        }); 
```

**首先：** 我想问一下，有没有办法合并多选列，这样当我检查它的悬停在它上面时，合并的行也会突出显示？在 Fiddle 示例中，看起来 2007 年 10 月 2 日将仅在左列有一个复选框。

**第二：** *前提条件：*第一个问题已完成，多选单元格被合并。如果我在第一（最左边）列中选中了一个合并的复选框，有没有办法绑定“Go”列的复选框？在 Fiddle 示例中，如果我选中了 2007 年 10 月 2 日的合并复选框，则合并单元格行跨度内“Go”列下的复选框也将被选中，就像示例 Fiddle 的当前复选框位置一样。

在此先感谢您的帮助。:)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-31T06:52:36.707

在我发布[答案之前的一段时间，该答案](https://stackoverflow.com/a/12294020/315935)显示了如何使用`cellattr`您在演示中所做的事情。的使用`cellattr`使网格的填充更快。

另一方面，我没有看到任何简单的方法来实现此类网格的悬停、选择和排序行为。所以我只是关闭了这些功能。

所以我对你没有好消息。我仍然没有看到任何简单的方法来实现对列中合并单元格的悬停、选择和排序。所以我只能建议你关闭这些功能。

# objective-c - 为什么标准 UITableViewCell 中 UILabel 的框架是 (0,0,0,0) 以及 UITableViewCell.textLabel 的标准尺寸是多少？

> ID：14619322
> 
> 赞同：1
> 
> 时间：2013-01-31T05:49:58.400
> 
> 标签：objective-c, xcode4.5

我想用 webview 替换它，这样我就可以显示 html。

```
PO(cell.subviews);
PO(cell);
PO(cell.contentView.subviews); 
```

webview 需要与 UITableViewCell 的 frame 相同。

这就是我们得到的：

```
2013-01-31 12:37:35.204 BadgerNew[3888:c07] cell.subviews: (
    "<UITableViewCellContentView: 0xa057140; frame = (0 0; 320 44); layer = <CALayer: 0xa057180>>"
)
2013-01-31 12:37:35.204 BadgerNew[3888:c07] cell: <UITableViewCell: 0xa0c37a0; frame = (0 0; 320 44); text = 'atm'; layer = <CALayer: 0xa0c8530>>
2013-01-31 12:37:35.205 BadgerNew[3888:c07] cell.contentView.subviews: (
    "<UILabel: 0xa0d12a0; frame = (0 0; 0 0); text = 'atm'; clipsToBounds = YES; userInteractionEnabled = NO; layer = <CALayer: 0xa0571b0>>"
) 
```

此外，为了进一步确认

```
po [cell textLabel]
(UILabel *) $1 = 0x0a0d12a0 <UILabel: 0xa0d12a0; frame = (0 0; 0 0); text = 'atm'; clipsToBounds = YES; userInteractionEnabled = NO; layer = <CALayer: 0xa0571b0>> 
```

那么普通 UITableViewCell 的最终标准框架是什么？

我也做过

```
-(void)layoutSubviews
{
    PO(self);
    PO(self.textLabel);
    while (false);
} 
```

并得到

```
2013-02-01 09:36:02.048 BadgerNew[1436:c07] self.textLabel: <UILabel: 0x8923390; frame = (0 0; 0 0); clipsToBounds = YES; userInteractionEnabled = NO; layer = <CALayer: 0x89e8fc0>> 
```

在做

```
- (void)tableView:(UITableView *)tableView willDisplayCell:(UITableViewCell *)cell forRowAtIndexPath:(NSIndexPath *)indexPath {

    while (false);
} 
```

产生相同的结果

然后我做了：

```
-(void)layoutSubviews
{
    [super layoutSubviews];
    PO(self);
    PO(self.textLabel);
    while (false);
} 
```

再次，另一个 0 帧。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-31T06:29:38.707

单元格内的子视图的框架在 之后设置`-tableView:cellForRowAtIndexPath`。

创建一个 UITableViewCell 的子类，它确实是处理此类事情的最佳方式。您可以`-textLabel`在您的子类中覆盖并根据您的意愿弯曲它，或者您可以覆盖`-layoutSubviews`并使用`-textLabel`'frame 然后。

最后一个警告是，弄乱对象的内部结构会导致脆弱的代码在任何 iOS 版本中都可能中断。

# ajax - 从 ASP.Net 处理程序过滤 JSON | 使用 Dojo 1.8

> ID：14619326
> 
> 赞同：0
> 
> 时间：2013-01-31T05:50:15.467
> 
> 标签：ajax, json, handler, dojo

想要根据通过 ASP.Net 处理程序从服务器接收到的数据，使用 Dojo 1.8 过滤结果。

处理程序示例 -`http://localhost/net/get8.ashx?longitude=-70.255325&latitude=43.661472&searchradius=200&searchunit=mi&locationtypes=3&numresults=20&Json=y`

我可以使用（Store API）`ItemFileReadStore`，但它需要我们没有的特定格式，并且无法从服务器端进行更改（JSON 结构更改）

能够通过 Dojo AJAX 成功获取数据，但正在寻找更好的方法来通过某些 Dojo API 进行过滤。

一种解决方法是，在客户端上再次重组数据，但这会降低性能，并且考虑到我们为移动设备开发，看起来不是正确的方法。

我们在 Dojo 中还有哪些其他选择？

PS 我刚开始学习 Dojo Toolkit，但在 JavaScript 方面有很好的经验。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-01T05:57:50.423

我已经使用对象存储（内存）来解决这个问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-31T12:50:38.103

已`ItemFileReadStore`被替换为`dojo/Store`。您应该能够将数据按`dojo/store/Memory`原样放入并从该商店查询。

[http://dojotoolkit.org/reference-guide/1.8/dojo/store.html](http://dojotoolkit.org/reference-guide/1.8/dojo/store.html)

[http://dojotoolkit.org/reference-guide/1.8/dojo/store/Memory.html#dojo-store-memory](http://dojotoolkit.org/reference-guide/1.8/dojo/store/Memory.html#dojo-store-memory)

# java - JPA/Hibernate：如何使用 INSERT JPQL？

> ID：14619328
> 
> 赞同：1
> 
> 时间：2013-01-31T05:50:46.980
> 
> 标签：java, hibernate, jpa, insert, jpql

这个JPQL

```
em.createQuery("INSERT INTO Count (id, count) SELECT 1, ?").setParameter(1, id).executeUpdate(); 
```

投掷

```
org.hibernate.hql.internal.ast.QuerySyntaxException: expecting OPEN, found ')' near line 1, column 29 [INSERT INTO Count (id, count) SELECT 1, ?] 
```

查询应该是什么样子？

我使用 JPA API 但实际上使用 HQL 是否重要？JPQL 不支持`INSERT`.

在 JBoss AS 7.1.2 中使用 Hibernate 4.1.6。
参考：[http ://docs.jboss.org/hibernate/orm/4.1/devguide/en-US/html/ch11.html#d5e2637](http://docs.jboss.org/hibernate/orm/4.1/devguide/en-US/html/ch11.html#d5e2637)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-31T05:53:13.073

由于`count`是保留字，因此在其周围添加方括号 `[count]`将起作用。

# jquery - jQuery Chosen 插件定制

> ID：14619332
> 
> 赞同：0
> 
> 时间：2013-01-31T05:51:26.587
> 
> 标签：jquery, css, jquery-chosen

我正在尝试使用 我正在使用选择元素选项的[Chosen 插件。](http://harvesthq.github.com/chosen/)

我用它来按国家名称显示时区名称。国家名称作为 optgroup 标签和时区名称作为选项

我的问题：

1.  如何使搜索也适用于 optgroup 标签（不仅适用于选项）
2.  如何更改选项的悬停背景颜色？

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-02-25T12:37:55.257

您可以更新 selected.css 中突出显示的类，如下所示：

```
.chosen-container .chosen-results li.highlighted {
  background-color: #F26655;
background-image: -webkit-gradient(linear, 50% 0%, 50% 100%, color-stop(20%, #F26655), color-stop(90%, #2a62bc));
  background-image: -webkit-linear-gradient(#F26655 20%, #F26655 90%);
  background-image: -moz-linear-gradient(#F26655 20%, #F26655 90%);
  background-image: -o-linear-gradient(#F26655 20%, #F26655 90%);
  background-image: linear-gradient(#F26655 20%, #F26655 90%); 
  color: #fff;
} 
```

在我的版本中，该类位于第 174 行。例如，#F26655 是您想要的颜色。

# .htaccess - 在插件中添加重写规则：在插件文件夹中使用 .htaccess 或使用 WordPress 函数

> ID：14619333
> 
> 赞同：3
> 
> 时间：2013-01-31T05:51:30.643
> 
> 标签：.htaccess, url-rewriting, wordpress

我需要在我的插件中添加一个重写规则，并将它与我的代码一起分发。如果我将规则放在 WordPress 根文件夹的 .htaccess 中，一切正常，但我需要使用我的规则分发插件。

我尝试在插件文件夹中放置一个 .htaccess 并尝试使用[add_rewrite_rule](http://codex.wordpress.org/Rewrite_API/add_rewrite_rule)函数，但也不起作用。

这里的 .htaccess 代码在 WordPress 根文件夹中正常工作，但在我的插件文件夹中不起作用：

```
<IfModule mod_rewrite.c>

RewriteEngine On
RewriteRule my-plugin/pages/tp(.*)\.php$ wp-content/plugins/my-plugin/pages/request.php?pid=$1

</IfModule> 
```

我在我的插件中尝试以下代码，但也不起作用：

```
add_filter( 'query_vars', 'add_query_vars' );
function add_query_vars( $query_vars )
{
    $query_vars[] = 'pid';
    return $query_vars;
}
add_action( 'init', 'add_init' );
function add_init()
{
    $plugin_url = 'the-path-to-my-plugin-folder';
    add_rewrite_rule('my-plugin/pages/tp(.*)\.php'
                  , $plugin_url . 'pages/request.php?pid=$matches[1]','top');

    global $wp_rewrite;
    $wp_rewrite->flush_rewrite_rules(); // I know this should be called only one time, but I put it here just to keep simple the sample code
} 
```

但我总是收到找不到 URL 的错误。我做错了什么？我怎样才能做我需要的？我搜索了类似的问题，但没有一个能解决我的问题。

我的插件文件夹结构是：

主文件夹：/wp-content/plugins/my-plugin ------ /pages（子文件夹）-------------/request.php（应该接收请求的脚本）

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-31T10:40:11.440

> 注意：WordPress Rewrite API 与 Apache Rewrite 模块不同。WP Rewrite API 不会将请求重定向到另一个 URL，它用于解析当前 URL 并填充`query_vars`数组。

`add_rewrite_rule`问题出在函数调用的第二个参数中。它必须从开始`index.php?`，然后应该有你的论点，例如`pid`，例如：

```
"index.php?pid=$matches[1]...." 
```

所以你的`add_init`功能应该是这样的：

```
add_action( 'init', 'wpse8170_add_init' );
function wpse8170_add_init()
{
    add_rewrite_rule('my-plugin/pages/tp(.*)\.php', 'index.php?pid=$matches[1]', 'top');
} 
```

不要忘记通过访问`Settings`»`Permalinks`页面刷新重写规则。

进一步阅读：

*   [重写 API：基础](http://wp.tutsplus.com/tutorials/creative-coding/the-rewrite-api-the-basics/)
*   [重写 API：帖子类型和分类法](http://wp.tutsplus.com/tutorials/creative-coding/the-rewrite-api-post-types-taxonomies/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-31T08:08:27.400

WP`/wp-admin`使用 PHP 脚本 (admin.php) 处理目录中的插件，如下所示：

```
http://MyWP.com/wp-admin/admin.php?page=MyPlugin/module.php 
```

因此，插件目录中的 .htaccess 文件在调用插件时不会被解析。`wp-admin`正如您已经发现的那样，它们必须放在目录或根目录中。

虽然在安装插件时将 .htacces 文件复制到根目录 - 并在删除时将其删除 - 是可能的，但我认为这不是最佳选择。在 WP 空间中拥有 .htaccess 文件似乎不是一个好主意。

您的第二种方法看起来好多了：在主脚本中创建重写规则。

查看您的代码，我认为问题在于*模式*（要匹配的传入 URL 字符串）和可能的替换 URL 路径（您的问题中的 $plugin_url）。

函数中的`$rule`参数`add_rewrite_rule()`应捕获用于调用插件模块的 URL 段（上图）。

我不能提出任何其他建议，因为您没有提供有关插件及其目录树的足够信息，除了可以从重写规则中的正则表达式中猜到的内容。但是，这是实现您所需要的方法的一般概念。

# java - 获取原始类型值的方法

> ID：14619334
> 
> 赞同：-2
> 
> 时间：2013-01-31T05:51:42.453
> 
> 标签：java, primitive-types

我在获取这个方法时遇到了很多麻烦：SmallBank 中有一个名为 printBankDetails 的方法，它打印出存储的 BankAccounts 的详细信息。此方法适用于只有一个 BankAccount 以及有两个 BankAccount 的情况。您可以检查 account2 实例变量中是否有值，如下所示。我不知道如何获取我创建的原始类型 account1 和 account2 的值，然后打印该值。有什么建议么？

```
public class SmallBank
{
    private BankAccount account1;
    private BankAccount account2;

    public SmallBank(String name, int balance)
    {
        account1 = new BankAccount(name, balance);
        account2 = null;
    }

    public void addSecondAccount(BankAccount newAccount)
    {
        account2 = newAccount;
    }

    public void printBlankDetails()
    {
        account1.getDeclaredFields();
        String name = field.getName();
        Int balance = field.getBalance();
        System.out.println(b);

    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-31T05:56:37.100

首先，`account1`并且`account2`不是原始类型。

此外，您可以非常简单地访问两者，如下所示。

```
public void printBlankDetails()
{
    String name1 =  account1.getName();

    String name2 =  account2.getName();

} 
```

ps 你的功能有很多问题`printBlankDetails`，所以我没有尝试复制它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-31T06:04:39.187

您可以将 BankAccount 声明为：

```
class BankAccount {

    private int balance;
    private String name;

    public BankAccount (String name, int balance) {
        this.name = name;
        this.balance = balance;
    }

    public String getName () {
        return name;
    }

    public int getBalance () {
        return balance;
    }

} 
```

然后调用 SmallBank 类中的方法：

```
public void printBankDetails () {
    System.out.println("Account 1:");
    System.out.println("Name: " + account1.getName());
    System.out.println("Balance: " + account1.getBalance());
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-31T06:08:28.287

另一种设计是`printDetails()`在`BankAccount`班级本身中有发言权。就像是：

```
public class BankAccount {
  String name;
  int balance;
  ...
  ...

  public String printDetails() {
      return (name + "/" + balance);
  }
} 
```

然后在您的`SmallBank::printBlankDetails()`方法中使用它，如下所示：

```
printBlankDetails() {
   if(account1 != null) system.out.println(account1.printDetails());
   if(account2 != null) system.out.println(account2.printDetails());
} 
```

`BankAccount`IMO，这种方法提供了更好的封装，隐藏了类的细节`SmallBank`。

# javascript - 重置 PJAX 页面更改上的所有脚本

> ID：14619336
> 
> 赞同：3
> 
> 时间：2013-01-31T05:51:59.687
> 
> 标签：javascript, jquery, ajax, pjax

如果我有使用*PJAX*获取的不同页面，则我使用的脚本在我访问的第一页持续到第二个页面，之后通过*PJAX*访问的任何页面。

我已经尝试过重置功能，以及类似的东西，这是太多的工作。是否有可能在*PJAX*页面更改时我可以重置所有 Javascript 绑定？

部分每页 Javascript 可能吗？（例如在页面更改时保留*jQuery*，但删除每页的其他脚本）

既然 Javascript 文件可以通过附加`<script>`标签来引用，那么可以做相反的事情吗？（我知道删除该脚本标签不会删除该脚本）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-31T06:04:51.687

您的内部“框架”不应包含任何 Javascript。您应该将所有 Javascript 放在页面最顶层可用的函数中，然后您可以使用[PJAX API](https://github.com/defunkt/jquery-pjax/blob/master/README.md)挂钩页面更改，以根据需要启用/禁用功能。

# jquery - 在 jquery 验证中重复成功类

> ID：14619337
> 
> 赞同：1
> 
> 时间：2013-01-31T05:52:06.520
> 
> 标签：jquery

```
<div class="login-form">
                            <form action="page.jsp" id="form-id" method="post" novalidate="novalidate">
                                <div> <input type="text" name="Email" id="emaiphys" style="max-width: 320px;"><span id="label-span"></span></div>
                                <input class="btn" type="submit" value="RESET PASSWORD">
                                <a href="./login.jsp">Return to Login</a>
                            </form>
                        </div> 
```

我正在使用 jquery 验证来验证电子邮件字段。以下是我的 jquery 验证代码

```
(function($,W,D)
{
    var JQUERY4U = {};

    JQUERY4U.UTIL =
    {
        setupFormValidation: function()
        {
            //form validation rules
            $("#form-id").validate({

                errorClass:"errorClass",
                errorElement:"label",
                rules: {
                                Email: {
                                    required: true,
                                    email: true,
                                    remote:"./check-email.jsp"

                                }
                            },
                messages: {
                    Email: {
                        required: "Please enter a Email Address",
                        email: "Please enter a Valid Email Address",
                        remote: "Email not found"
                    }
                },
    highlight:function(element,errorClass){
        $(element).removeClass(errorClass);
    },
    errorPlacement: function(error, element) { 

                //alert(element.parent());
                error.appendTo( element.next()); 
        },
                submitHandler: function(form) {
                    form.submit();
                },
    success: function(label) { 
            // set   as text for IE 
            label.addClass('checked');
        } 
            });
        }
    }

    //when the dom has loaded setup form validation rules
    $(D).ready(function($) {
        JQUERY4U.UTIL.setupFormValidation();
    });

})(jQuery, window, document); 
```

如果成功，则会显示在 css 类中定义的“tick”图像。现在，如果用户再次输入不正确的电子邮件，则检查的类仍然存在，这会导致“tick”图像再次可见，以防出现错误。那么，一旦输入了正确的电子邮件，当用户输入不正确的 emnail 时，如何删除已检查的类。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-31T06:07:43.043

您可以创建另一个名为

```
.checked.error {
    background-image: none !important;
} 
```

仅当检查和错误类都应用于标签时才会触发此类。因为我们正在制作背景图像：无！重要，它将覆盖检查类的 css 规则。

- 更新 -

你可以尝试一件事；不要将选中的类添加到标签中，而是将其添加到父 div 并修改 css 规则以定位该 div 中的标签，例如：

```
success: function(label) { 
    label.closest('div').addClass('checked');
} 

errorPlacement: function(error, element) { 
        element.closest('div').removeClass('checked');
        error.appendTo( element.next()); 
}, 
```

和CSS：

```
.checked .error {
    background-image: none !important;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-31T06:09:14.020

尝试这个

```
errorPlacement: function(error, element) { 
            console.log(element); //check if your element is <label> if not use element.find('label')...
            element.removeClass('checked');
            error.appendTo( element.next()); 
    }, 
```

# dll - 将自定义 DLL 更新到较新版本

> ID：14619338
> 
> 赞同：0
> 
> 时间：2013-01-31T05:52:14.807
> 
> 标签：dll, reporting-services

我正在使用带有 SSRS 的自定义 dll。部署后，我可能需要用更新的版本更新我的自定义 dll。我的报告会继续有效吗？

如果报告不适用于新版本的 dll，我怎样才能让我的报告与更新版本的 dll 一起使用？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-31T09:30:46.487

简短的回答是**肯定**的，至少根据我的经验。我过去成功地做到了这一点——只需用更新的版本替换服务器上的相关自定义 DLL。我不必使用 DLL 对报告进行任何更改。

这里有一个警告——当我在原地替换 DLL 时，我会确保 DLL 的版本号是相同的；由于报告存储了 DLL 版本号，这意味着就报告而言，他们仍然获得相同的 DLL。

因此，如果您在构建 DLL 时增加版本号，这*可能*不起作用。根据*@Gil Peretz*的评论，只需在非生产环境中对其进行测试，看看会发生什么。

# elasticsearch - 关于 ElasticSearch jdbc 河

> ID：14619341
> 
> 赞同：2
> 
> 时间：2013-01-31T05:52:34.883
> 
> 标签：elasticsearch, elasticsearch-jdbc-river

**在我的 MySQL 中：**

```
mysql> select * from cc;
+----+------+
| id | name |
+----+------+
|  1 | aa   |
|  2 | bb   |
+----+------+
2 rows in set (0.00 sec) 
```

**而elasticsearch jdbc河是：**

```
curl -XPUT 'localhost:9201/_river/my_jdbc_river/_meta' -d '{
    "type" : "jdbc",
    "jdbc" : {
        "driver" : "com.mysql.jdbc.Driver",
        "url" : "jdbc:mysql://localhost:3301/test",
        "user" : "root",
        "password" : "root",
    "poll" : "10s",
    "strategy" : "simple",
        "sql" : "select * from cc"
    }
}' 
```

**但是，我不明白弹性搜索索引数据为什么结果是：**

```
aa
bb
aa
bb
aa
aa
aa
bb
bb
bb 
```

**我认为结果是这样的：**

```
aa
bb 
```

请帮助我，感谢 gsc-leticia 帮助我格式化这个问题内容。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-01-31T08:50:33.730

您没有定义 _id，因此河流每分钟都会添加您的文档。

您应该使用以下内容定义您的河流：

```
curl -XPUT 'localhost:9201/_river/my_jdbc_river/_meta' -d '{
    "type" : "jdbc",
    "jdbc" : {
        "driver" : "com.mysql.jdbc.Driver",
        "url" : "jdbc:mysql://localhost:3301/test",
        "user" : "root",
        "password" : "root",
    "poll" : "10s",
    "strategy" : "simple",
        "sql" : "select id as _id, name from cc"
    }
}' 
```

有关详细信息，请参阅[JDBC River 文档](https://github.com/jprante/elasticsearch-river-jdbc/wiki/Labeled-columns)。

# linux - 免费 BSD：什么是全局标志

> ID：14619342
> 
> 赞同：0
> 
> 时间：2013-01-31T05:52:37.283
> 
> 标签：linux, operating-system, freebsd, flags

有谁知道全局标志在操作系统的上下文中是什么意思，如何检查它们的状态以及如何添加自定义，如果可能的话。

我找不到任何关于此的全面信息。

有关更多说明，我正在查看 FreeBSD

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-31T05:56:53.003

*可能*它指的是`sysctl`界面，它允许您设置和查询某些系统范围的设置（并非所有设置都是可更改的）。

其中包括最大进程或文件数、每个进程的最大文件数、时钟频率、主机名等。

有关详细信息，请参阅[sysctl(8)](http://www.freebsd.org/cgi/man.cgi?query=sysctl&sektion=8)。

请注意，该链接适用于用于更改系统参数的命令行工具。如果您希望从 C 代码中执行此操作，还有一个[API 。](http://www.freebsd.org/cgi/man.cgi?query=sysctl&sektion=3&apropos=0&manpath=FreeBSD%203.1-RELEASE)

* * *

或者，它可能只是建议您添加一个`syscall`保持某种状态的。这可以像可以通过`syscall`接口设置和/或检索的整数一样简单。

如果是这种情况，您会在网络上通过 Google 搜索找到大量信息和教程`freebsd syscall add`，其中包括 Stack Overflow 本身的一些信息和教程。

# linux - 手臂架构中的高内存

> ID：14619347
> 
> 赞同：1
> 
> 时间：2013-01-31T05:52:48.923
> 
> 标签：linux, memory, memory-management, arm

当物理内存的大小接近或超过虚拟内存的最大大小时，使用高内存（highmem）。使用这种方法的架构的传统拆分是 3:1，用户空间为 3GiB，内核空间为顶部 1GiB。这意味着内核最多可以映射 1 GiB 的物理内存。

在移动设备中，平均物理内存约为 1 GiB。所以内核可以映射那么多内存。

具有 1GiB 物理内存的设备是否需要 highmem？

我们可以使用 highmem 配置选项处理多少物理内存？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-31T22:17:11.637

是的，需要 hignmem，内存映射 IO 和物理 RAM 的非线性映射需要一些 1GiB 地址空间。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-09-15T17:29:44.167

您实际上可以看到使用 lowmem 可以访问多少内存。在具有 1GB 物理内存和 3G/1G VMSPLIT 选项的机器上，我得到以下值：

```
Virtual kernel memory layout:
    ...
    lowmem  : 0xc0000000 - 0xef800000   ( 760 MB) 
```

因此，如果您的物理内存超过 760MB，您可能需要启用 highmem。

至于使用 highmem 配置选项可以寻址多少内存，我不确定，但我猜最大是物理可寻址的，所以 4GiB（或接近它）没有 LPAE。但是大多数 SoC 在硬件方面都会有一个下限，因为内存映射的外围设备将使用一些地址空间。

# android - 多个dex文件错误

> ID：14619349
> 
> 赞同：4
> 
> 时间：2013-01-31T05:53:05.070
> 
> 标签：android, compiler-errors, dex

您好我正在尝试在模拟器中执行一个 android 应用程序，但我收到以下错误。

```
[2013-01-31 11:19:21 - Dex Loader] Unable to execute dex: Multiple dex files define Lcom/google/android/imageloader/BitmapCache;
[2013-01-31 11:19:21 - LoginActivity] Conversion to Dalvik format failed: Unable to execute dex: Multiple dex files define Lcom/google/android/imageloader/BitmapCache; 
```

我尝试了此[链接](https://stackoverflow.com/questions/7870265/unable-to-execute-dex-multiple-dex-files-define-lcom-myapp-rarray)中的所有步骤，但对我没有帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-31T06:28:34.860

嗨，我认为你有两个 jar 文件副本，即使我有同样的问题，我有两个副本，即；libs文件夹中的一个副本和drawable文件夹中的另一个现在删除drawable文件夹中的额外副本并清理构建项目，它会工作......

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T22:13:48.947

当您在构建路径或设置中的其他地方有同一类的多个副本时，就会发生这种情况。

对我来说，这发生在我将 android-support-v4.jar 添加到我的 libs/ 文件夹时，并且 eclipse 以某种方式向 bin/classes/android-support-v4.jar 添加了第二个副本。

删除 bin/classes 中的额外副本解决了这个问题 - 不确定 Eclipse 为什么在那里制作副本。

您可以使用以下方法对此进行测试

> grep -r YourOffendingClassName YourApp | grep 罐子

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-31T05:56:43.513

我今天（2013 年 1 月 31 日）更新了 eclipse（帮助->检查更新），现在我没有看到错误。在此之前，我遇到错误“无法执行 dex：多个 dex 文件定义”。希望这可以帮助。

或者

试试下面 1

这是 bin/dexedLibs 中的一个文件 相同的文件存在于 libs

在库中删除它，它应该可以工作。

对我来说，它是 android-support-v4.jar。

希望这可以帮助

# hadoop - Hadoop 作业自动化

> ID：14619355
> 
> 赞同：0
> 
> 时间：2013-01-31T05:53:30.377
> 
> 标签：hadoop, mapreduce

我有 hadoop 3 节点集群，用于每天晚上 9 点分析数据。我想在 hadoop 命令行中自动化正在运行的作业。我怎样才能做到这一点。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-31T17:23:04.583

Check out oozie, it's a workflow manager for hadoop and I believe it has the ability to schedule jobs

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-31T06:25:33.537

假设您使用的是 linux，我建议您使用 cron 调度程序。查看[本教程](http://www.thegeekstuff.com/2009/06/15-practical-crontab-examples/)以获取说明。

# php - 将 CSS 应用于 iframe 内容

> ID：14619364
> 
> 赞同：2
> 
> 时间：2013-01-31T05:54:29.550
> 
> 标签：php, javascript, jquery, css, facebook-like

我使用了以下代码这是我的 iframe：

```
<iframe scrolling='no' frameborder='1' id='fblike' src='http://www.facebook.com/plugins/like.php?href=http%3A%2F%2Fwww.XYZ.com%2F&amp;send=false&amp;layout=standard&amp;width=450&amp;show_faces=true&amp;font&amp;colorscheme=light&amp;action=like&amp;height=50'></iframe>

$('#fblike').contents().find('.pluginButton').css({'background','#FF8000'}); 
```

我也直接应用了Css

```
.pluginButton {
    background: none repeat scroll 0 0 #FF8000 !important;
} 
```

仍然无法正常工作。我想更改 pluginButton 的背景。我想将图像应用到它的背景。如何应用？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-31T05:56:04.613

设置 css 的代码在语义上似乎没问题，因为无法使用 html 来确保您是否正确使用了`selectors`. 您可能`DOM`在元素可用之前访问它们。frame 的元素可能不会在`document.read`y 事件上准备好，而是在`window.load`将代码放入 window.load 以确保 iframe 中的元素可用于脚本。

```
$(window).load(function){    
    $('#fblike').contents().find('.pluginButton').css({'background','#FF8000'});    
}) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-31T06:40:48.323

如果我理解正确，那么您要做的就是将 CSS 注入加载 Facebook 页面的 iframe 中。

简短的回答是这是不可能的。这是在 SO 上发布的一个答案，其中有更详细的解释：[我可以将 CSS 应用于 iframe 中的元素吗？](https://stackoverflow.com/questions/3286178/can-i-apply-css-to-the-elements-within-an-iframe)

> 不，不是来自 iframe 之外。An是它自己的世界。如果域等匹配，则 Javascript 可以进出通信，并且可以（如果愿意）将 CSS 注入子框架。
> 
> 如果包含来自不同域的内容，那么您几乎无能为力。父页面控制框架的大小和是否可见，并且可以通过定位等方式将自己的内容放在框架上，但不能直接影响实际框架内容的呈现方式。

这是另一个解释：[如何将 CSS 应用于 iframe？](https://stackoverflow.com/questions/217776/how-to-apply-css-to-iframe)

> 编辑：这不适用于跨域。
> 
> 这里有两个不同的东西：iframe 块的样式和嵌入在 iframe 中的页面的样式。您可以按照通常的方式设置 iframe 块的样式：
> 
> `<iframe name='iframe1' id="iframe1" src="empty.htm" frameborder="0" border="0" cellspacing="0" style="border-style: none;width: 100%; height: 120px;"></iframe>`
> 
> 嵌入在 iframe 中的页面样式必须通过将其包含在子页面中来设置：
> 
> `<link type="text/css" rel="Stylesheet" href="Style/simple.css" />`
> 
> 或者可以使用 Javascript 从父页面加载：
> 
> ```
> var cssLink = document.createElement("link") 
> cssLink.href = "style.css"; 
> cssLink .rel = "stylesheet";
> cssLink .type = "text/css"; 
> frames['frame1'].document.body.appendChild(cssLink); 
> ```

# mysql - 选择数据时mysql查询中的逻辑错误

> ID：14619365
> 
> 赞同：2
> 
> 时间：2013-01-31T05:54:34.230
> 
> 标签：mysql, sql, select

台式**电脑**-

```
 code   model   speed   ram hd  cd  price
 1  1232    500 64  5.0 12x 600.0000
 10 1260    500 32  10.0    12x 350.0000
 11 1233    900 128 40.0    40x 980.0000
 12 1233    800 128 20.0    50x 970.0000
 2  1121    750 128 14.0    40x 850.0000
 3  1233    500 64  5.0 12x 600.0000
 4  1121    600 128 14.0    40x 850.0000
 5  1121    600 128 8.0 40x 850.0000
 6  1233    750 128 20.0    50x 950.0000
 7  1232    500 32  10.0    12x 400.0000
 8  1232    450 64  8.0 24x 350.0000
 9  1232    450 32  10.0    24x 350.0000 
```

所需的输出 -

```
model   speed   hd
1232    450 10.0
1232    450 8.0
1232    500 10.0
1260    500 10.0 
```

查询 1 -

```
SELECT model, speed, hd
FROM pc
WHERE cd = '12x' AND price < 600
OR
cd = '24x' AND price < 600 
```

查询 2 -

```
SELECT model, speed, hd
FROM pc
WHERE cd = '12x' OR cd = '24x' 
AND price < 600 
```

查询 1 肯定工作正常，但是当我尝试将查询减少为一次只使用价格时，它没有显示正确的结果..让我知道我在逻辑中遗漏了什么。

> 查找具有 12x CD 且价格低于 600 美元或具有 24x CD 且价格低于 600 美元的 PC 的型号、速度和硬盘容量。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-31T05:57:51.297

由于`AND`来自 before `OR`，您的查询被解释为：

```
WHERE (cd = '12x') OR ((cd = '24x') AND (price < 600)) 
```

或者，换句话说：所有具有 12x CD 的 PC，或具有 24x CD 的价格低于 600 美元的 PC

* * *

您需要使用括号来指定操作顺序：

```
WHERE (cd = '12x' OR cd = '24x') AND price < 600 
```

或者，您可以使用`IN`：

```
WHERE cd IN ('12x', '24x') AND price < 600 
```

* * *

另见：[http ://dev.mysql.com/doc/refman/5.5/en/operator-precedence.html](http://dev.mysql.com/doc/refman/5.5/en/operator-precedence.html)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-31T06:15:08.477

在您的表中可能包含重复的行或列，请尝试使用 group by 子句，如下所示，您将在其中获得解决方案并在尝试这些后让我知道输出谢谢...

```
SELECT model, speed, hd
FROM PC 
WHERE cd IN ('12x','24x') AND price < 600
group by Model,speed,hd 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-31T05:58:16.647

尝试使用 IN：

```
SELECT model, speed, hd
FROM PC 
WHERE cd IN ('12x','24x') AND price < 600 
```

祝你好运。

# android - Android - 如何设置视频的标题或说明

> ID：14619366
> 
> 赞同：1
> 
> 时间：2013-01-31T05:54:44.387
> 
> 标签：android, facebook, video

我使用 Facebook SDK 3.0。并尝试将视频上传到 Facebook。如果我使用，我的视频会上传：

```
request = Request.newUploadVideoRequest(session, new File(
                    dataPath), callback); 
```

如何设置标题？有人可以帮我吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-31T18:36:01.420

试试这个（在你创建请求之后）：

```
Bundle params = request.getParameters();
params.putString("title", yourTitle);
params.putString("description", yourDescription);
// you may need to do a request.setParameters(params); 
request.executeAsync(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-31T08:07:06.583

理想情况下，对于 web 服务工作，您必须使用 fiddler ( [http://www.fiddler2.com/fiddler2/version.asp](http://www.fiddler2.com/fiddler2/version.asp) ) 之类的工具。一旦您确定了您需要的 Web 服务及其返回值，您就可以从代码开始。不要做相反的事情，更多不必要的工作。

# java - 在java中添加图像

> ID：14619369
> 
> 赞同：0
> 
> 时间：2013-01-31T05:54:59.287
> 
> 标签：java, image, swing, embedded-resource, imageicon

> **可能重复：**
> [JButton 上的 ImageIcon 未显示在 Runnable JAR 文件中](https://stackoverflow.com/questions/14596487/imageicons-on-jbutton-are-not-showing-up-in-runnable-jar-file)

我正在尝试将图像添加到 java 中的 gui 以进行国际象棋游戏：

```
JPanel theBoard;
    JLabel aPiece;
    JLayeredPane layeredPane;

    public ChessGameGUI() 
    {
        Dimension size = new Dimension(480, 480);

        layeredPane = new JLayeredPane();
        getContentPane().add(layeredPane);
        layeredPane.setPreferredSize(size);

        theBoard = new JPanel();
        layeredPane.add(theBoard, JLayeredPane.DEFAULT_LAYER);
        GridLayout chessBoardLayout = new GridLayout(8,8);
        theBoard.setLayout(chessBoardLayout);
        theBoard.setPreferredSize(size);
        theBoard.setBounds(0, 0, size.width, size.height);

        boolean drawWhite = false;

        // setup initial squares
        for(int x = 0; x < 8; x++)
        {
            for(int y = 0; y < 8; y++)
            {
                BorderLayout squareBorder = new BorderLayout();
                JPanel aChessSquare = new JPanel(squareBorder);
                theBoard.add(aChessSquare);

                if(drawWhite) aChessSquare.setBackground(Color.white);
                else aChessSquare.setBackground(Color.green);

                if(y == 7);
                else drawWhite = !drawWhite;
            }
        }
    } 
```

这段代码很好地设置了方格图案板，但是当我去添加单独的部分时，什么也没有发生：

```
for(int x = 0; x < 8; x++)
        {
            for(int y = 0; y < 8; y++)
            {
                if(board[x][y]._isOccupied)
                {
                    System.out.println("found a piece at x = " + x + " y = " + y);

                    //ImageIcon pieceImage = new ImageIcon("Images/wPawn.jpg");
                    ImageIcon pieceImage = findPieceImage(board, x, y);

                    JLabel pieceToDraw = new JLabel(pieceImage);
                    JPanel curComponent = (JPanel)theBoard.getComponent(7 * x + y);
                    curComponent.add(pieceToDraw);
                }
            }
        } 
```

图片文件夹包含在 src 文件夹中。任何人都知道为什么这不起作用？

# ajax - 使用 Ajax 在前端上传图片

> ID：14619370
> 
> 赞同：1
> 
> 时间：2013-01-31T05:55:08.687
> 
> 标签：ajax, image, wordpress, upload, frontend

我绝对需要你的帮助。我需要通过 ajax 上传图像（如客户的徽标）来编写 wordpress 页面，因为我必须将页面更改为 paypal 结帐页面。所以我需要先将图像文件上传到服务器，然后签出该订单，所以我必须在我的页面中使用 ajax。但是从 2 天前开始，我还没有完成此操作。

我在网上寻找了很多方法，但有些代码是带有 postID 的（但我不需要它，我只需要通过 wordpress 前端页面上的 ajax 将文件上传到服务器上，仅此而已！）。其他人则展示了如何在后端上传（也无济于事）。

有没有人对此有任何想法？

# performance - 在服务器中运行的 Grails 应用程序非常慢

> ID：14619377
> 
> 赞同：0
> 
> 时间：2013-01-31T05:55:38.840
> 
> 标签：performance, grails, grails-2.0

我有 Grails 应用程序在[Rackspace](http://rackspace.com)中运行。

我正在使用以下版本的软件。

1.  圣杯 2.0.4
2.  jdk1.6.0_22

继续运行`tomcat 6 under Ubuntu 10.04 LTS (Lucid Lynx) 1024 MB RAM`

我的应用程序使用以下插件

```
audit-logging       0.5.4
ckeditor            3.6.3.0
cloud-foundry       1.2.1
cloud-support       1.0.11
hibernate           2.0.4
jquery              1.7.1
mail                1.0
resources           1.1.6
spring-security-core1.2.7.3
tomcat              2.0.4
webxml              1.4.1 
```

具有服务器交互的页面需要太多时间。我发现我的应用程序很慢。GSP 页面需要 3 秒到 40 秒才能加载。

如何解决性能问题...？

# java - Java按位运算符^ - 位如何洗牌

> ID：14619381
> 
> 赞同：0
> 
> 时间：2013-01-31T05:56:24.540
> 
> 标签：java, int, bit-manipulation

这是一个小例子。

```
 int a = 11; //1 0 1 1 is bit representation
    System.out.println(~a);

    Output: -12 
```

据我了解，'~' 运算符会反转位 - 即 1 0 1 1 现在应该是 0 1 0 0 因此输出应该是 4。我错过了什么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-31T05:59:38.207

`11`不表示为`1011`，表示为：-

```
0000 0000 0000 0000 0000 0000 0000 1011 
```

只是你没有注意到看到领先`0's`。请记住，`int`s 是 32 位的。

现在，`~11`将是： -

```
1111 1111 1111 1111 1111 1111 1111 0100 
```

所以，这是一个负数。所以，取它的 2 的补码，你会得到： -

```
0000 0000 0000 0000 0000 0000 0000 1011 // 1's complement
0000 0000 0000 0000 0000 0000 0000 1100 // 2's complement == -12 
```

因此，你得到`-12`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-31T06:02:51.823

一个 int 比 4 多得多，它实际上在你输入的内容之前有一堆 0。

计算机上的负数通常表示为以 1 开头。a -1 通常是全一，-2 是 ..11111111111111110，-3 是 ..1111111111111101，等等。\

所以你得到的是一个负数，因为你把所有的零都改成了一。

如果您想查看您的号码，请使用 ~a & 0xf

0xf 会给你一个“掩码” ...000001111

与之相加的任何东西都只会保留最后 4 位，其余的都将被清零。

很好的问题，很高兴看到人们仍在尝试/思考这些东西。

# algorithm - 删除多个和大型字典文件中的重复单词

> ID：14619382
> 
> 赞同：1
> 
> 时间：2013-01-31T05:56:29.600
> 
> 标签：algorithm, sorting, memory-management, gpu, dictionary

这些年来我积累了大约 600GB 的字典，我决定清理它们并对其进行排序

首先，平均每个文件都非常大，大小从 500MB 到 9GB 不等。我想做的一个先决条件是我对每个字典进行排序。我的最终目标是完全删除**所有**字典文件*中的*重复单词*。*

 **这样做的原因是我的大多数字典都是按类别排序和组织的，但重复的仍然经常存在。

```
Load file
     Read each line and put into data structure
     Sort and remove any and all duplicate
Load next file and repeat

Once all files are individually unique, compare against eachother and remove duplicates 
```

**对于字典 D{1} 到 D{N}：**

*1) 分别对D{1}*到*D{N}*进行排序。

*2) 检查D{i}*中每个单词的唯一性

 *3) 对于*D{i}中的每个单词，检查**D{i+1}*到*D{N}*中的所有单词。*如果在D{i}*中唯一，则首先删除每个单词。

*   我正在考虑使用一种“哈希”来改进这个算法。可能只检查前一个或两个字符，因为列表将被排序（例如，以 a、b 等开头的单词的散列开始行位置）。

4) 保存并退出。

之前的示例（但要小得多）：

```
 Dictionary 1            Dictionary 2            Dictionary 3

    ]a                      0u3TGNdB                2 KLOCK
    all                     avisskriveri            4BZ32nKEMiqEaT7z
    ast                     chorion                 4BZ5
    astn                    chowders                bebotch
    apiala                  chroma                  bebotch
    apiales                 louts                   bebotch
    avisskriveri            lowlander               chorion
    avisskriverier          namely                  PC-Based
    avisskriverierne        silking                 PC-Based
    avisskriving            underwater              PC-Based 
```

因此，它会看到 avisskriveri、chorion、bebotch 和 PC-Based 是在三个词典中的每一个内部和之间重复的单词。*所以我首先在D{1}*中看到 avisskriveri ，所以在我见过的所有其他实例中删除它。然后我首先在*D{2}*中看到绒毛膜，然后在所有其他实例中首先删除它，依此类推。在*D{3}*中，bebotch 和 PC-Based 被复制，所以我想删除它的一个条目（除非我以前见过它）。然后保存所有文件并关闭。

之后的示例：

```
 Dictionary 1           Dictionary 2            Dictionary 3

     ]a                     0u3TGNdB                2 KLOCK
     all                    chorion                 4BZ32nKEMiqEaT7z
     ast                    chowders                4BZ5
     astn                   chroma                  bebotch
     apiala                 louts                   PC-Based
     apiales                lowlander                   
     avisskriveri           namely              
     avisskriverier         silking                 
     avisskriverierne       underwater                          
     avisskriving 
```

**请记住：**我不想创建任何新字典，只删除所有字典中的重复项。

**选项：**

*   “散列”每个文件的唯一字数，允许程序估计计算时间。

*   指定一种方式，给出以所需第一个字母开头的第一个单词的位置。这样搜索可以“跳转”到一行并跳过不必要的计算时间。

*   在 GPU 上运行以进行高性能并行计算。（这是一个问题，因为从 GPU 中获取数据很棘手）

**目标：**减少计算时间和空间消耗，使该方法在能力有限的标准机器或服务器上负担得起。或者设备一种在 GPU 集群上远程运行它的方法。

tl;dr - 对数百个文件中的唯一单词进行排序，其中每个文件的大小为 1-9GB。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-31T06:23:30.220

我将从以下内容开始：

```
#include <string>
#include <set>

int main()
{
    typedef std::set<string> Words;
    Words words;
    std::string word;
    while (std::cin >> word)
        words.insert(word);  // will only work if not seen before
    for (Words::const_iterator i = words.begin(); i != words.end(); ++i)
        std::cout << *i;
} 
```

然后只是：

```
cat file1 file2... | ./this_wonderful_program > greatest_dictionary.txt 
```

假设非重复单词的数量适合内存（可能在任何现代 PC 上，特别是如果你有 64 位和 > 4GB）应该没问题，这可能是 I/O 绑定的，所以没有必要对无序映射大惊小怪（二叉树）地图等。在插入地图之前，您可能需要转换为小写，去除虚假字符等。

编辑：

如果唯一的单词不适合内存，或者您只是顽固地决定对每个单独的输入进行排序然后合并它们，您可以`sort`对每个文件使用 unix 命令，然后`sort -m`有效地合并预先排序的文件。如果您不在 UNIX/Linux 上，您可能仍然可以找到一个端口`sort`（例如，来自 Cygwin for Windows），您的操作系统可能有一个等效程序，或者您可以尝试编译`sort`源代码。请注意，这种方法与 tb- 提出的要求一次调用对所有内容进行排序（大概在内存中）的建议略有不同`sort`- 我不确定它的效果如何，因此最好尝试/比较。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-31T06:25:56.243

在 300GB 以上的规模上，您可能需要考虑使用[Hadoop](http://hadoop.apache.org/)或其他一些可扩展的存储 - 否则，您将不得不通过自己的编码来处理内存问题。您可以尝试其他更直接的方法（UNIX 脚本、小型 C/C++ 程序等），但您可能会耗尽内存，除非您的数据中有大量重复的单词。

**附录**

刚刚遇到[memcached](http://en.wikipedia.org/wiki/Memcached)，它似乎与您想要完成的非常接近：但您可能必须对其进行调整，**以免**丢弃最旧的值。我现在没有时间检查，但您应该在**[Distributed Hash Tables](http://en.wikipedia.org/wiki/Distributed_hash_tables)**上进行搜索。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-31T06:30:20.500

假设字典按字母顺序逐行排列，每行一个单词（大多数字典也是如此），您可以执行以下操作：

```
Open a file stream to each file.
Open a file stream to the compiled list file.
Read 1 entry from each file and put it onto a heap, priority queue, or other sorted data structure.
while you still have entries
    find & remove the first entry, storing the word (it is not necessary to store the file)
    read in the next entry from that file, if one exists
    find & remove any duplicates of the stored entry
    read in the next entry for each of those files, if one exists
    write the stored word to your compiled list file
Close all of the streams 
```

其效率类似于 O(n*m*log(n))，空间效率为 O(n)，其中 n 是文件数，m 是平均条目数。

请注意，您需要创建一种数据类型，将条目（字符串）与文件指针/引用配对，并按字符串存储排序。您还需要一个允许您在弹出之前先查看的数据结构。

如果您在实施中有问题，请问我。

更彻底的效率分析：

空间效率很容易。你填充数据结构，并且对于你穿上的每一件物品，你脱掉一件，所以它保持在 O(n)。

计算效率更复杂。循环本身是 O(n*m)，因为您将考虑每个条目，并且有 n*m 个条目。其中百分之几是有效的，但这是一个常数，所以我们不在乎。

接下来，从优先级队列中添加和删除都是 log(n) 两种方式，所以查找和删除是 2*log(n)。

因为我们添加和删除每个条目，我们得到 n*m 添加和删除，所以 O(n*m*log(n))。我认为在这种情况下它实际上可能是一个θ，但是嗯。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-02T16:08:49.660

据我了解，没有可以巧妙利用的模式。所以我们想做原始排序。

让我们假设没有可用的集群场（我们可以做其他事情）

然后我会从最简单的方法开始，命令行工具`sort`：

> 排序 -u inp1 inp2 -o 排序

这将在输出文件中排序`inp1`并`inp2`一起`sorted`没有重复（u = 唯一）。排序通常使用自定义的归并排序算法，该算法可以处理有限的内存量。所以你不应该在内存问题中运行。
您应该至少有 600 GB（大小的两倍）可用磁盘空间。
您应该只使用 2 个输入文件来测试需要多长时间以及会发生什么。我的测试没有显示任何问题，但他们使用了不同的数据和 afs 服务器（这相当慢，但作为某些 HPC 文件系统提供程序是更好的仿真）：

```
$ ll
2147483646 big1
2147483646 big2

$ time sort -u big1 big2 -o bigsorted
1009.674u 6.290s 28:01.63 60.4% 0+0k 0+0io 0pf+0w

$ ll
2147483646 big1
2147483646 big2
 117440512 bigsorted 
```***

# google-chrome - 为什么我在 Firefox 中的 DIV 比 Chrome 高？

> ID：14619388
> 
> 赞同：1
> 
> 时间：2013-01-31T05:56:58.050
> 
> 标签：google-chrome, firefox, gwt

我在表格中有一个 DIV。这段代码是由 GWT 生成的，所以我对使用的元素没有太多控制权（也就是说我知道表格通常不是布局的最佳元素，但这不是我有直接的东西掌控）。

在 Firefox 中，高度为 100% 的 DIV 会溢出到桌子下方，而在 Chrome 中，DIV 的大小与我预期的一样。到底是怎么回事？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-31T05:56:58.050

所以这个让我拉了一会儿头发，但事实证明 Firefox 中的 DIV 默认为`box-sizing: content-box`设置，而在 Chrome 中它们默认为`box-sizing: border-box`设置。因为我在 DIV 中使用了填充，这导致 Firefox 显示高度为 100% 的 DIV*加上*填充。

解决方案是`-moz-box-sizing: border-box`在 CSS 中为 div 指定。

# c# - 在不安装 VIX API 的情况下使用 VMWareTasks

> ID：14619392
> 
> 赞同：0
> 
> 时间：2013-01-31T05:57:11.870
> 
> 标签：c#, .net, api, vmware, vmwaretasks

我使用 VMWareTasks 有一段时间了，我一直想知道是否可以在不安装 VIX API 的情况下使用它。

VIX API 是一个相当大的安装（超过 100 MB），我们的应用程序只有 10 MB 的安装大小。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-31T13:35:21.873

我根本不熟悉 VIX API，但根据他们的 GitHub 存储库文档（[**先决条件**](https://github.com/dblock/vmwaretasks#prerequisites)部分）：

> ## 先决条件
> 
> 为了使用该库，您必须安装以下 VMWare 软件。
> 
> *   **VMWare VIX。**这是 SDK，从[http://www.vmware.com/download/sdk/vmauto.html](http://www.vmware.com/download/sdk/vmauto.html)获得。VI 支持需要 1.6.2 或更高版本。VMWare Player 支持需要 1.8.0 或更高版本。
> *   VMWare Workstation 6.5.2、7.0、7.1 或更高版本、VMWare Server 2.0、VMWare Player 3.0 或 3.1、虚拟基础架构环境（例如 ESXi）或 VSphere 4.0 或 4.1。

# assembly - 我可以移动二进制数的限制是多少？

> ID：14619394
> 
> 赞同：1
> 
> 时间：2013-01-31T05:57:38.850
> 
> 标签：assembly, mips

对于我们应该将 32 位二进制数移位 44 的赋值，这是否意味着最重要的位置变得无关紧要？意思是，我只关心最接近最不重要位置的 32 位吗？例如：

```
 $t0 = 0xBBBBBBBB
 #10111011101110111011101110111011
 sll  $t2,  $t0,  44 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-31T18:14:55.970

我认为你的作业有错字。MIPS`sll`指令仅支持 5 位的移位。也就是说，指令编码中的字段只有5位长，所以只有[0,31]中的移位值是合法的。事实上，如果我尝试组装这个简单的程序：

```
 .globl f
    .text
f:
    sll $t2, $t0, 44 
```

我从 gcc 收到警告说：

```
example.s: Assembler messages:
example.s:3: Warning: Improper shift amount (44) 
```

反汇编输出对象显示：

```
Disassembly of section .text:

00000000 <f>:
   0:   00085300    sll t2,t0,0xc 
```

正如你所看到的，它*实际上*只会移动 12。它只是减少了以 32 为模的移动量。这个结果意味着像你的作业中提供的指令是不合法的。

您的问题的另一个可能答案是，`0`将任何数字左移超过其大小可能在逻辑上会导致寄存器全为零。类似的论点适用于右移，尽管您最终会得到`0`or `0xffffffff`，这取决于符号扩展行为以及开始时第 31 位发生的情况。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2016-06-04T19:27:17.027

是的，已确认作业有错字。您可能在：计算机组织和设计中谈论这个问题： [![在此处输入图像描述](../Images/4fbc711238d3b8003e1d3abcc1ac42ae.png)](https://i.stack.imgur.com/DBS8d.png)

它的答案是这样列出的：
[![在此处输入图像描述](../Images/1c401cee8aa32a4ca3cf13e1e44ddcfc.png)](https://i.stack.imgur.com/q0rNjm.png)

如果您假设 sll $t2, $t0, 4，那么答案就很合理了。

```
t0 = 1010 1010 1010 1010 1010 1010 1010 1010
t2 = 1010 1010 1010 1010 1010 1010 1010 0000 
```

在它移动了 4 之后。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-31T06:15:11.307

您可以在 MIPS 上移动 0 到 31（包括）位位置。移位指令中仅使用移位计数的 5 个最低有效位。检查您的 MIPS 文档。

如果您想移动超过 31 个位置，则需要将您的移动分解为一系列较小的移动，每个移动移动 31 个或更少的位置。

# ruby-on-rails - 在 Rails 3 中使用 Embedded Ruby 有条件地包含一个隐藏的表单字段

> ID：14619395
> 
> 赞同：0
> 
> 时间：2013-01-31T05:57:42.297
> 
> 标签：ruby-on-rails, ruby-on-rails-3, ruby-on-rails-3.2

如果呈现表单的请求中包含 url 参数，我正在尝试使用 Embedded Ruby 在表单中包含隐藏字段。由于某种原因，无论是否存在 url 参数，都不会包含隐藏字段。它是 Rails 3.2 应用程序的一部分。对此的任何帮助将不胜感激。

这是我的 index.html.erb 视图中的相关表单：

```
<form action="/contacts" method="get" id="contacts-index">
  <input name="city" value="<%= params[:city] %>" type="hidden">
  <input name="state" value="<%= params[:state] %>" type="hidden">
  <input name="zip" value="<%= params[:zip] %>" type="hidden">
  <% if params[:fi_ase] == true or params[:fi_ase] == false %>
    <input name="fi_ase" value="<%= params[:fi_ase] %>" type="hidden">
  <% end %>
  <% if params[:fi_ame] == true or params[:fi_ame] == false %>
    <input name="fi_ame" value="<%= params[:fi_ame] %>" type="hidden">
  <% end %>
.
.
.
.
</form> 
```

页面渲染得很好，但在向 /contacts?fi_ase=true&fi_ame=true 发送请求后，“fi_ase”和“fi_ame”隐藏字段不存在

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-31T06:17:30.283

尝试：

```
<% if params[:fi_ase] == "true" or params[:fi_ase] == "false" %>
  <input name="fi_ase" value="<%= params[:fi_ase] %>" type="hidden">
<% end %>
<% if params[:fi_ame] == "true" or params[:fi_ame] == "false" %>
  <input name="fi_ame" value="<%= params[:fi_ame] %>" type="hidden">
<% end %> 
```

[参数值始终是字符串；](http://rails.nuvvo.com/lesson/6371-action-controller-parameters)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-31T06:30:05.747

```
<%= hidden_field_tag('fi_ase', params[:fi_ase]) if params[:fi_ase] == "true" or params[:fi_ase] == "false" %> 
<%= hidden_field_tag('fi_ame', params[:fi_ame]) if params[:fi_ame] == "true" or params[:fi_ame] == "false" %> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-31T07:01:32.073

是的

尝试这个，

<%= hidden_​​field_tag "some_id", @some %> 标签会帮助你..

# c - C函数将十进制转换为八进制

> ID：14619397
> 
> 赞同：-2
> 
> 时间：2013-01-31T05:57:53.183
> 
> 标签：c, function, octal

我正在处理一个作业问题，要求我们用 C 语言编写一个函数，将十进制转换为八进制。这是我到目前为止所拥有的

```
int oct(int num) {
    if (num < 8) {
        return num;
    }
    else {

    }
} 
```

所以是的，我很困惑，非常感谢任何帮助谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-31T06:04:34.300

您可以使用 %o 打印八进制数

检查此链接 [http://ideone.com/OLXEL7](http://ideone.com/OLXEL7)

```
printf("%o\n", x); 
```

希望这可以帮助

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-31T06:03:59.153

十进制转八进制？超级简单，stdlib 中有两个函数。

```
void dec2oct(char *dst, const char *src, size_t dstsz)
{
    int n = strtoll(src, NULL, 10); // treat "src" as base-10
    snprintf(dst, dstsz, "%o", n); // and write it to "dst" as base-8
} 
```

像这样称呼它：

```
char buf[32];
dec2oct(buf, "133742", sizeof(buf)); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-31T06:01:13.977

由于您的函数必须返回一个整数，因此您必须像十进制数一样构建八进制数。

做长除以 8 来计算数字。网上有无数用 C 语言进行长除法的例子。

然后对于每个数字，将其乘以 10 并添加到您的运行计数中。然后它将是十进制装扮成八进制......或者是相反的方式......

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-31T06:03:56.893

请参阅以下**[程序](http://cquestionbank.blogspot.in/2008/01/c-program-for-conversion-from-decimal.html)**。

我希望这会有所帮助。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-31T06:08:12.103

```
void print_oct(int num)
{
    if (num != 0) {
        print_oct(num / 8);
        printf("%d", num % 8);
    }
} 
```

# axis2 - Apache axis2 和 Rampart 无法防止“重放攻击”

> ID：14619399
> 
> 赞同：1
> 
> 时间：2013-01-31T05:58:11.717
> 
> 标签：axis2, ws-security, rampart

我们将旧版本的 apache axis2 之一用于我们的 Web 服务框架。我们正在使用壁垒 1.2 作为其中的一部分。

我正在尝试使用带有“nonce”和“timestamp”机制的密码摘要进行身份验证。我们正在准备进行验证。我的身份验证机制工作正常（包括密码回调等）

我担心要让壁垒识别“重放攻击”的问题，基本上与识别这些相关的壁垒模块的功能似乎是不活动的。我可以多次向我的axis2服务发送相同的安全标头（甚至发送我昨天生成的安全标头），它可以很好地进行身份验证并完成网络服务请求。

我最好的猜测是：我在某个地方缺少用于启用检测重放攻击的功能的壁垒模块的配置设置。我已经尝试了下面链接中给出的配置建议（在 services.xml 文件中），但似乎都不起作用：-

*   [http://hasini-gunasinghe.blogspot.com.au/2012_02_01_archive.html](http://hasini-gunasinghe.blogspot.com.au/2012_02_01_archive.html)
*   [http://axis.apache.org/axis2/c/rampart/docs/configurations.html](http://axis.apache.org/axis2/c/rampart/docs/configurations.html)（在底部，它提到了“重放攻击”）

任何人都可以帮助或给我一些想法我缺少什么以及在哪里（我想它与配置设置相关）？

我的axis2.xml文件中有壁垒的模块声明：- `<module ref="rampart"/>`

在声明了所有操作之后，我的 services.xml 文件中有我认为的壁垒配置设置；-

```
<parameter name="InflowSecurity">
      <action>
        <items>UsernameToken Timestamp</items>
        <passwordCallbackClass>com.myCompany.service.dummy.MyAuthenticator</passwordCallbackClass>
      </action>
    </parameter>

    <rampart:rampartconfig xmlns:rampart="http://ws.apache.org/rampart/policy">  
          <rampart:timestampprecisioninmilliseconds>true  
          </rampart:timestampprecisioninmilliseconds>  
          <rampart:timestampttl>300</rampart:timestampttl>  
          <rampart:timestampmaxskew>300</rampart:timestampmaxskew>  
          <rampart:timestampstrict>false</rampart:timestampstrict>  
          <rampart:ReplayDetection>1000</rampart:ReplayDetection>
    </rampart:rampartconfig> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-31T13:27:06.187

如果您使用的是rampart-1.2，则必须在您的服务中实现重放检测。传入的时间戳信息在键“org.apache.ws.security.handler.WSHandlerConstants.RECV_RESULTS”下的消息上下文属性中包含的安全头处理结果中可用。这是一个 Vector，其中的第一项是“org.apache.ws.security.handler.WSHandlerResult”实例（下一个代码片段中的 wsResult）。

然后就可以获取到时间戳信息，如下图：

```
actionResult = WSSecurityUtil.fetchActionResult(wsResult,
        WSConstants.TS);

if (actionResult != null) {
    Timestamp timestamp = actionResult.getTimestamp();
    //Your validation goes here...
} 
```

正如您引用的博客文章所建议的那样，您可以尝试升级到 armart-1.6.2 并使用基于策略的配置。

# facebook - Facebook 游戏打开图错误：“需要扩展权限：publish_actions”

> ID：14619403
> 
> 赞同：1
> 
> 时间：2013-01-31T05:58:21.690
> 
> 标签：facebook, facebook-opengraph

我有一个 Facebook 游戏，正在尝试发布开放图形的东西。我的开放图规格已由 FB 确认。但是，我仍然收到错误 #200：

```
Requires extended permission: publish_actions 
```

我查看了之前的所有 Stack Overflow 评论，可以确认：

```
- my app is a game
- I have "Enhanced Auth Dialog" turned on
- I have "publish_actions" listed as one of the permissions I want
- I have the Action, the Object, and the Aggregation with sample data 
```

但是，调用“/me/permissions”会给出：

```
email: 1
installed: 1
(no publish_actions) 
```

我的预览登录对话框包含“此应用可能代表您发布，包括您玩过的游戏等。” 但实际上使用我的测试帐户进行身份验证并没有显示该消息。

有谁知道什么可以解决这个问题？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-07T22:37:04.913

在您使用您的帐户对该应用进行身份验证**后**，您是否添加`publish_actions`到`scope`您的身份验证对话框？如果是，请尝试重新验证。如果权限与您当前帐户的此应用程序的权限相同，请检查[Graph API Explorer 。](https://developers.facebook.com/tools/explorer)

 **为了确保用户需要某些权限，您应该**处理撤销的权限**- 即使没有像您描述的那样的情况，并且用户只会允许所有需要的权限，他总是可以在应用程序的设置中删除此权限在FB上。您可以查看[此 FB 博客文章](https://developers.facebook.com/blog/post/576/)和此[技术 FB 指南](https://developers.facebook.com/docs/howtos/login/handling-revoked-permissions/)以供参考，或在需要时挖掘更多信息。我认为这应该可以处理您的情况。

**编辑：**

当然，我假设您**已经添加** `publish_actions`到您`scope`的 .

```
FB.login(function(response) {
   // handle the response
 }, {scope: 'email,publish_actions,etc...'}); 
```**

# xamarin.ios - 关于移动条形图的说明

> ID：14619409
> 
> 赞同：0
> 
> 时间：2013-01-31T05:58:52.547
> 
> 标签：xamarin.ios, teechart

我正在使用 TeeChartNETMonoTouchEvaluation_v2012_0_10_03 评估版。它不支持移动酒吧聊天（[http://www.steema.com/uploads/gallery/BarForAndroidVert1.jpg](http://www.steema.com/uploads/gallery/BarForAndroidVert1.jpg)）是否支持付费版本。完整版支持哪些附加功能、样式以及该版本的任何文档。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-31T15:25:29.940

TeeChart 的评估版和注册版在功能上没有区别。您需要添加一个旋转工具：

```
 tChart1.Tools.Add(new Steema.TeeChart.Tools.Rotate()); 
```

或者，您也可以以编程方式执行此操作：

```
 Steema.TeeChart.Themes.BlackIsBackTheme myTheme = new Steema.TeeChart.Themes.BlackIsBackTheme(tChart1.Chart);
  myTheme.Apply();

  Steema.TeeChart.Styles.Bar bar1 = new Steema.TeeChart.Styles.Bar(tChart1.Chart);
  bar1.FillSampleValues();
  bar1.ColorEach = true;

  tChart1.Aspect.View3D = true;
  tChart1.Aspect.Orthogonal = false;
  tChart1.Aspect.Rotation = 320; 
```

# java - sling 如何使用 osgi 包

> ID：14619410
> 
> 赞同：7
> 
> 时间：2013-01-31T05:59:07.367
> 
> 标签：java, osgi, aem, sling

我刚刚开始 Apache sling 和 CQ5 开发。在 Sling 中有使用 OSGI 包的概念。

我不知道吊索框架实际上是如何与这些捆绑包交互的，以及捆绑包的响应在哪里？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-31T07:59:59.013

OSGi 是 Sling 和 CQ5 产品使用的模块框架和服务平台。Sling 本身由一系列托管在 Felix OSGi 容器中的捆绑包组成。Bundles 是由容器管理的组件/服务和 java 类的集合组。捆绑包可以指定将导入、导出哪些包以及这些依赖项的版本。

您可以通过多种方式从 Sling 与 OSGi 交互。在 JSP/JSP 中，您可以使用 sling 对象（类型为[SlingScriptHelper](http://dev.day.com/docs/en/cq/current/javadoc/org/apache/sling/api/scripting/SlingScriptHelper.html)），如果您包含以下行，则该对象很可能在您的 JSP 页面中可用：

```
<%@include file="/libs/foundation/global.jsp"%> 
```

在您的组件中或具有以下内容：

```
<cq:defineObjects> 
```

你可以像这样使用它：

```
QueryBuilder queryBuilder = sling.getService(QueryBuilder.class); 
```

此外，如果您有自己的 OSGi 组件（例如 Servlet、Service 等），您可以使用 SCR 注释注入对其他 OSGI 组件/服务的引用。[Bertrand 在他对从 Sling/CQ 中的捆绑包中获取 OSGi 服务](https://stackoverflow.com/a/8604678/252840)的回答中对此进行了描述。实际上，这意味着将 @Reference 注释添加到组件中的 OSGI 组件变量中，如下所示：

```
 @Reference
 private SlingRepository repository; 
```

当您的组件被加载时，引用将由 OSGi 容器注入。

捆绑包没有这样的响应。已部署的包应该在系统控制台中可见：

```
http://localhost:4502/system/console/bundles 
```

其组件、服务和配置在这里声明：

```
http://localhost:4502/system/console/services
http://localhost:4502/system/console/components
http://localhost:4502/system/console/configMgr 
```

（将 localhost:4502 替换为您自己的 CQ 服务器主机：端口）

一旦获得对组件的引用，就可以调用该组件的方法并使用这些调用的返回值。

# visual-studio-2010 - 如何修复 Visual Studio 2010 中缺少的 Nsight 菜单？

> ID：14619411
> 
> 赞同：3
> 
> 时间：2013-01-31T05:59:10.580
> 
> 标签：visual-studio-2010, cuda

在 Visual Studio 2010 试用版中安装 CUDA 5.0（发行版）后，我可以创建、打开和编译 CUDA 项目。但是，我无法调试，因为 Nsight 菜单没有出现。它通常出现在`Team`和`Data`菜单之间。

如何让 Nsight 菜单出现？我已经尝试卸载并重新安装试用版。该计算机运行的是较旧的 Windows 7 安装，并且过去安装了 Visual Studio 2008 和 CUDA。

带有打开的 CUDA 项目的 Visual Studio，使用 CUDA 向导创建，但没有 Nsight 菜单：

![带有打开的 CUDA 项目的 Visual Studio，使用 CUDA 向导创建，但没有 Nsight 菜单](../Images/b661bc7e9269ee7a00c305b4225d39d7.png)

**更新：**

重新安装 Visual Studio 后，一些设置（例如最近打开的项目列表）会从旧安装中继承。由于旧设置可能是问题的一部分，我尝试了更彻底的卸载，我首先卸载了 CUDA，然后是 Visual Studio，然后是机器上的其他 NVIDIA 软件。然后，我从 Program Files、Program Files (x86) 和 Application Data 中删除了 Visual Studio 和所有 NVIDIA 文件夹。然后我在注册表中搜索“Visual Studio”、“VisualStudio”、NVIDIA 和 CUDA 键，并删除了我找到的所有内容。然后我重新安装了 Visual Studio 和 CUDA 5。它没有帮助。实际上，它变得更糟了，因为我丢失了 .cu 文件的语法突出显示。创建、打开和编译项目仍然有效。所以，我卸载了 CUDA 5 并安装了 CUDA 4.2.9。那个“固定”

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-31T18:01:46.740

通过首先安装 CUDA 4.2，然后在顶部安装 CUDA 5.0（不卸载 CUDA 4.2），我得到了一个工作环境，我可以在其中创建、打开和调试 CUDA 4.x 和 CUDA 5.0 项目。语法高亮也适用于 4.x 和 5.0 项目。

![带有 Nsight 菜单的 Visual Studio](../Images/8837c4597a5ccfcad8c4c4c7dc618420.png)

# operating-system - 什么可以使系统停止？

> ID：14619412
> 
> 赞同：2
> 
> 时间：2013-01-31T05:59:14.507
> 
> 标签：operating-system

有一个应用程序（用 C++ 编写）在 Linux 中在后台运行了几天，如果我向这个应用程序发送一些信号（使用`kill -MYSIG`），要求应用程序执行一些定义的操作，这可能会使我的系统无法响应正常。没有正常响应是指在我向应用程序发送此信号后，系统 shell ( `bash`) 无法响应任何 Linux 命令 ( `ls,ps,top`...)，就像系统关闭时一样。如果我等待几分钟，系统会再次返回。

我想知道是什么导致系统出现故障或无法正常响应？是应用程序使用了过多的 CPU 或内存吗？那么系统是如何恢复的呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-31T09:22:39.080

Linux调度程序有一个进程不响应信号（`TASK_UNINTERRUPTIBLE`状态）的状态，发送到这样一个进程的信号一直排队，直到进程离开不可中断状态，我想这就是你无法杀死/发送信号的原因您的应用程序。如果是这种情况，请使用`ps -A`并查看您的应用程序的状态是否为 D。如果是，那么您的应用程序/进程处于 TASK_UNINTERRUPTIBLE 中。

可能 由于可用 RAM 不足，系统没有响应。用于`top`查看您的应用程序消耗了多少 RAM/资源，请参阅`%CPU`和`%MEM`列。您还可以使用系统监控工具（例如：Gkrell）查看系统范围内的资源使用情况。您可以降低应用程序的优先级以减少其资源消耗。

如果您的应用程序有读/写/选择套接字调用，您应该使用 strace/coredump 来查看您的应用程序在哪里花费了大部分时间。这通常会发生如果选择处于紧密循环中或您的应用程序执行了阻塞系统调用就像在套接字上读/写

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-31T06:12:09.223

您可以尝试为您的应用设置较低的优先级，除非它已经是最低优先级并且仍然会导致问题。

[在 Linux 中降低优先级](http://www.nixtutor.com/linux/changing-priority-on-linux-processes/)

# java - 在窗口中启动 Eclipse 时如何减小 jvm 大小

> ID：14619413
> 
> 赞同：0
> 
> 时间：2013-01-31T05:59:16.243
> 
> 标签：java, android, eclipse

我的笔记本电脑有以下配置-

2GB 内存核心 i3 处理器

因此，当我启动 eclipse 并运行任何程序时，我的笔记本电脑会变慢。这就是为什么我想减小 jvm 大小。

那么，如何减少 JVM 内存呢？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-31T06:03:16.570

在您的 eclipse 安装文件夹中，您有 eclipse.ini 文件。在该文件中，您可以为 eclipse VM 指定下面提到的参数。

-Xms -Xmx

请注意，这里我们给出了运行 eclipse 的内存参数。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-31T06:39:39.357

如果你用谷歌搜索，有很多解决方案，但总的来说，有许多对象会影响系统的性能：

*   默认情况下，Eclipse 具有 JVM 的标准选项，因此如果您调整 JVM，您不会感觉到性能提升很多，您还应该禁用您不使用的验证和插件（例如：拼写检查等）
*   您的 RAM 很小，因此，您可以购买额外的 2 个或更多 RAM 并提高性能 :) 但是使用 2Gb 的 RAM - 不要指望运行 Eclipse 的计算机会很快（Eclipse 需要大量 RAM 才能正常工作）
*   或另一种解决方法 - 安装更快的 IDE：IDEA 或 Netbeans

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-31T06:11:17.510

您可以通过在其运行配置的 VM 参数中将特定应用程序所需的大小指定为 EX：-Xms128m -Xmx512m

或者，如果您希望从 Eclipse 运行的所有应用程序具有相同的空间大小，那么您可以在 Eclipse 主目录中的 eclipse.ini 文件中指定它。

# jquery - 你如何在 JQuery 中检测碰撞的 div？

> ID：14619414
> 
> 赞同：0
> 
> 时间：2013-01-31T05:59:26.227
> 
> 标签：jquery, html, collision-detection

你如何检测使用 JQuery 碰撞的多个 div 元素？我[找到了一个解决方案](http://jsfiddle.net/nGRwt/7/)，但它只检测到两个元素。您如何将多个 div ID 传递给该函数？

**HTML：**

```
<strong>Drag divs around.</strong>

<div id="div1">
    Div1
</div><br/>
<div id="div2">
    Div2
</div>

<p>Colliding? <span id="result">false</span> 
```

**CSS：**

```
#div1 { width: 200px; height: 50px; background-color: pink; }
#div2 { width: 400px; height: 100px; background-color: green; } 
```

**jQuery：**

```
function collision($div1, $div2) {
      var x1 = $div1.offset().left;
      var y1 = $div1.offset().top;
      var h1 = $div1.outerHeight(true);
      var w1 = $div1.outerWidth(true);
      var b1 = y1 + h1;
      var r1 = x1 + w1;
      var x2 = $div2.offset().left;
      var y2 = $div2.offset().top;
      var h2 = $div2.outerHeight(true);
      var w2 = $div2.outerWidth(true);
      var b2 = y2 + h2;
      var r2 = x2 + w2;

      if (b1 < y2 || y1 > b2 || r1 < x2 || x1 > r2) return false;
      return true;
}

window.setInterval(function() {
    $('#result').text(collision($('#div1'), $('#div2')));
}, 200);

$('#div1,#div2').draggable(); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-31T06:13:02.047

似乎重用自己的`collision`方法是个好主意，但是要检查可能发生冲突的每个可能的 div 组合：

```
function collision_() {
    if (arguments.length > 1) {
        for (var x = 0; x < arguments.length; x++) {
            for (var y = 1; y < arguments.length; y++) {
                if (x == y) {
                    continue;
                }
                if (collision(arguments[x], arguments[y])) {
                    return true;
                }
            }
        }
        return false;
    }
} 
```

这不是最理想的，但它可以完成工作。如果您希望它更加优化，我将把它作为练习留给您。

[http://jsfiddle.net/ExplosionPIlls/nGRwt/132/](http://jsfiddle.net/ExplosionPIlls/nGRwt/132/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-31T06:13:11.100

您可以将任何数字或参数传递给函数，然后在其中使用`arguments`关键字，该关键字是所有传入参数的数组：

```
function doStuff(){
  for( var i = 0; i < arguments.length; i++ ) {
    var arg = arguments[i];
    //Do stuff with arg now.
  }
} 
```

* * *

此外，`.draggable()`在 jQuery UI 中可以堆叠项目，这是您的最终目标吗？

**HTML**

```
<div id="div1" class='box'>Div1</div>
<div id="div2" class='box'>Div2</div> 
```

**jQuery**

```
$('.box').draggable({stack: '.box'}); 
```

我用那个例子做了一个演示：http: [//jsfiddle.net/ChrisMBarr/nGRwt/134/](http://jsfiddle.net/ChrisMBarr/nGRwt/134/)

# asp.net - 重定向 Application_End 或 Application_Error 事件

> ID：14619418
> 
> 赞同：0
> 
> 时间：2013-01-31T05:59:56.677
> 
> 标签：asp.net, global-asax, application-pool

当或事件发生时，我无法在我的应用程序中使用`Redirect`或。`Response.Write``Application_End``Application_Error`

```
protected void Application_Error(object sender, EventArgs e)
{
    string strError;
    strError = Server.GetLastError().ToString();

    this.Context.ClearError();

    Response.Write("Application_Error" + "<br/>");
    Response.Write("Error Msg: " + strError + "<br/>");
} 
```

任何帮助将不胜感激，谢谢

编辑：我正在尝试检测应用程序池回收并重定向到错误页面。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-31T06:15:26.390

您应该能够做到`Server.Transfer`几乎等同于`Response.Redirect`. 你不能这样做是可以理解的，`Response.Write`因为你不再在页面的上下文中执行。

# android - Android：无论设备方向如何，都以相同的方向录制视频

> ID：14619420
> 
> 赞同：4
> 
> 时间：2013-01-31T06:00:03.200
> 
> 标签：android, video, record

在我的 Android 2.3 设备上，无论设备如何旋转，标准相机应用程序始终以相同方向录制视频。如果您以横向模式录制视频，即使您将其倒置，它也始终以相同的方向录制视频。肖像模式也一样。但是，如果您在录制时旋转视频，则会将其颠倒过来，这是人们所期望的。相机应用程序仅在实际录制之前将旋转调整为始终“向上”。如果您在录制之前旋转相机，您甚至会看到相机控制图标也会旋转以始终朝上。

虽然相机应用程序可以在用户旋转设备时调整旋转，但这不是必需的。您可以以任何方向重新启动设备，并且永远不要更改它，相机应用程序仍然会知道哪个方向是向上的。它不需要更改侦听器。我想做的是同样的事情。但是，我的应用程序是一项服务。从未使用过任何活动。我已经可以在服务中录制视频。

我似乎无法让视频一直旋转。我努力了：

```
Camera.Parameters parameters;
parameters.setRotation 
```

也：

```
mCamera.setDisplayOrientation 
```

都没有奏效。该解决方案必须在 API 8 及更高版本上运行。

# paypal - PayPal 沙盒问题（重定向到“我的帐户”）

> ID：14619422
> 
> 赞同：3
> 
> 时间：2013-01-31T06:00:12.233
> 
> 标签：paypal, paypal-sandbox

我有两个 PayPal 沙盒/开发者帐户 - 1 个是我的，1 个是我的客户。

我已经建立了一个捐赠表格，我们已经使用了一段时间，并且一直针对我的个人开发帐户进行测试。它一直很好，没有问题。

最近我们需要进行一些更改，我们认为这对客户来说是有益的，他们拥有自己的帐户，让他们更容易看到一切正常。

将沙盒地址更改为我使用他们的沙盒帐户创建的任何一个商家地址都有一个最奇怪的问题 - 当单击我的“捐赠”按钮时，我被重定向到该 feaux-merchant 帐户的“我的帐户”屏幕。我没有被带到捐赠摘要或确认信息，我没有支付选项，我只是被带到与登录贝宝查看帐户时相同的屏幕。

如果我将电子邮件地址切换回我的个人假商家，没有问题。

我看不出商家帐户之间的差异。

希望你们中的一个 PayPal 天才可以对此有所了解。

**编辑/澄清：**

有一些误解，所以澄清一下；

我有**两个**开发者帐户
每个都有一个商家和卖家帐户
我**在**测试之前登录到正确的开发者帐户
我**没有**被重定向到登录页面 - 我被重定向到我的帐户摘要。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-31T06:13:59.003

使用 paypal 沙盒账号进行测试时，您应该使用您的**开发者账号登录。**使用此开发者帐户创建的商家地址和客户地址（沙盒中的测试登录）只会将您重定向到捐赠摘要和支付选项。如果您使用不是使用您的开发者帐户创建的其他商家地址，则会将您重定向到贝宝的登录页面。

# objective-c - 将图像发布到 Twitter API

> ID：14619429
> 
> 赞同：1
> 
> 时间：2013-01-31T06:01:21.650
> 
> 标签：objective-c, oauth, twitter

我正在尝试将图像上传到 twitter api。我正在使用 PlainOAuth。这是我所拥有的：

```
oauth_token = accessToken;
oauth_token_secret = accessTokenSecret;
OAuth *oAuth = [[OAuth alloc] initWithConsumerKey:***** andConsumerSecret:****];
oAuth.oauth_token = accessToken;
oAuth.oauth_token_secret = accessTokenSecret;
oAuth.oauth_token_authorized = YES;
[oAuth release];

NSString *url = @"https://api.twitter.com/1.1/statuses/update_with_media.json";
NSArray *params = [NSArray arrayWithObjects:
                   [NSString stringWithFormat:@"%@=%@", @"status", [tweetStatus encodedURLParameterString]],
                   imageData, @"media[]",
                   nil];
NSDictionary *paramsDict = [NSDictionary dictionaryWithObjectsAndKeys:
                            imageData, @"media[]",
                            tweetStatus, @"status",
                            [accessToken stringByAddingPercentEscapesUsingEncoding:NSASCIIStringEncoding], @"oauth_token",
                            nil];

NSString *oauth_header = [super oAuthHeaderForMethod:@"POST" andUrl:url andParams:paramsDict andTokenSecret:accessTokenSecret];

NSMutableURLRequest *request = [NSMutableURLRequest requestWithURL:[NSURL URLWithString:url] cachePolicy:NSURLRequestReloadIgnoringLocalAndRemoteCacheData timeoutInterval:10.0f];
[request setHTTPMethod:@"POST"];

NSMutableData *body = [[NSMutableData alloc] initWithData:[[params componentsJoinedByString:@"&"] dataUsingEncoding:NSUTF8StringEncoding]];
NSString *boundary = @"---------------------------14737809831466499882746641449";
NSString *contentType = [NSString stringWithFormat:@"multipart/form-data; boundary=%@", boundary];
[request addValue:contentType forHTTPHeaderField:@"Content-Type"];
[body appendData:[[NSString stringWithFormat:@"\r\n--%@\r\n", boundary] dataUsingEncoding:NSUTF8StringEncoding]];
[body appendData:[@"Content-Disposition: form-data; name=\"media[]\"; filename=\"media.jpg\"\r\n" dataUsingEncoding:NSUTF8StringEncoding]];
[body appendData:[@"Content-Type: binary\r\n\r\n" dataUsingEncoding:NSUTF8StringEncoding]];
[body appendData:[NSData dataWithData:imageData]];
[request setHTTPBody:body];

[request addValue:oauth_header forHTTPHeaderField:@"Authorization"];
NSHTTPURLResponse *response;
NSError *error = nil;
NSString *responseString = [[[NSString alloc] initWithData:[NSURLConnection sendSynchronousRequest:request returningResponse:&response error:&error] encoding:NSUTF8StringEncoding] autorelease]; 
```

`responseString`正在输出空白。所以我猜有404错误？如果我`media[]`从我的任何一个参数数组中删除信息，我会收到一个 oAuth 错误。

请帮忙！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-31T08:56:22.517

```
TWTweetComposeViewController *twitterViewController = [[TWTweetComposeViewController alloc] init];

NSString *twitterText = [NSString stringWithFormat:@"%@%@%@", kBookingShareTwitterText, kBookingShareFlightURL, bookingId];
[twitterViewController setInitialText:twitterText];
[twitterViewController addImage:[UIImage imageNamed:@"logo.png"]];
[self presentModalViewController:twitterViewController animated:YES];

[twitterViewController setCompletionHandler:^(TWTweetComposeViewControllerResult result) {

    switch (result) {

        case SLComposeViewControllerResultCancelled:
            [self dismissModalViewControllerAnimated:YES];
            break;

        case SLComposeViewControllerResultDone:
            [self updateBookingWithFriendsInvitationFlag];
            break;

        default:
            break;
    }

}]; 
```

# java - 实现具有空属性的抽象类

> ID：14619433
> 
> 赞同：0
> 
> 时间：2013-01-31T06:02:00.837
> 
> 标签：java, oop, interface, abstract-class

在我当前项目的上下文中，我被要求实现这样的东西：

```
interface I {

    getA():String;
    setA(String);
    getB():String;
    setB(String);
    ...
    getE():String;
    setE(String);
}

class I1 implements I {

    // These are basic getters/setters for A, B and C.
    getA(){}
    setA(String){}
    getB():String{}
    setB(String){}
    getC():String{}
    setC(String){}

    @Deprecated
    getD(){
        return null;
    }

    @Deprecated
    setD(String d) {
        // Does nothing.
    }

    @Deprecated
    getE(){
        return null;
    }

    @Deprecated
    setE(String e) {
        // Does nothing.
    }

}

class I2 implements I {

    // These are basic getters/setters for C, D and E.
    getC(){}
    setC(String){}
    getD():String{}
    setD(String){}
    getE():String{}
    setE(String){}

    @Deprecated
    getA(){
        return null;
    }

    @Deprecated
    setA(String a) {
        // Does nothing.
    }

    @Deprecated
    getB(){
        return null;
    }

    @Deprecated
    setB(String b) {
        // Does nothing.
    }

} 
```

因此，基本上，只有 C 属性对这两种实现都有意义。

在界面中设置 A、B、D 和 E 的 getter/setter 有什么意义？为什么不保留 C 的 getter/setter，这样我们就不必在实现中实现无用的 getter/setter？

我被告知的论点是：我们这样做是因为我们习惯于这样做。

因此，当我们在方法中处理一些类型 I（接口）的对象时，我们必须一直进行 null 检查。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-31T06:10:03.350

> 在界面中设置 A、B、D 和 E 的 getter/setter 有什么意义？为什么不保留 C 的 getter/setter，这样我们就不必在实现中实现无用的 getter/setter？

正如你所说，它看起来确实是一个糟糕的设计。似乎应该有一个具有 get/set C 的基本接口和两个子接口，一个包含 get/set A/B，另一个包含 get/set D/E。

> 我被告知的论点是：我们这样做是因为我们习惯于这样做。

这个论点对于遗留企业应用程序来说很常见，以保持与客户端可能构建在 API 之上的现有应用程序的向后兼容性。如果他们现有的应用程序不会损坏，它可以更容易说服客户进行升级。

但是，您可能希望获得更多详细信息，以确保这样做您的应用程序的案例是有效的——“因为我们曾经这样做过”对我来说听起来很回避，并不能真正帮助评估其他选项这可能满足要求但具有更好的架构。

# database - Postgresql 8.4 中的 template0 默认编码

> ID：14619435
> 
> 赞同：1
> 
> 时间：2013-01-31T06:02:07.180
> 
> 标签：database, postgresql, postgresql-8.4

我在 PostgreSQL 8.4 中使用以下命令创建了一个数据库。“CREATE DATABASE dbname TEMPLATE template0” 我的问题是模板 0 的默认模板的编码方案是什么。对我来说，当我创建数据库时，它显示我编码为 UTF-8，template0 将取决于系统，或者 UTF-8 将是默认编码。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-31T06:30:29.797

它取决于系统，取决于您的系统编码或您在创建数据库集群时指定的内容`initdb`。您可以使用 --encoding 标志指定它。

# django - 我是否希望将大多数常规视图转换为美味的 API？

> ID：14619436
> 
> 赞同：3
> 
> 时间：2013-01-31T06:02:23.363
> 
> 标签：django, rest, tastypie, django-rest-framework

我正在将常规 django 视图转换为tastepie api。
（我的问题不是针对美味派，使用任何休息框架都会提出同样的问题）

我看到人们甚至使用tastepie 来登录用户。
[我如何使用tastepie登录django](https://stackoverflow.com/questions/11770501/how-can-i-login-to-django-using-tastypie)

我想您可以使用tastepie 将图像上传到画廊应用程序等。

我猜既然saffectpie用惯了`handle resource`，`uploading an image`可以认为是`creating a resource`。
我不明白怎么`login`能被视为`handling resource`.
（正如我所见，它不是 CRUD）

问题是，我应该在`regular views`和之间画什么线`tastypie powered views`。
你什么时候使用常规视图，什么时候使用 sweetpie 或其他基于 rest-api 的视图？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-12T14:05:15.210

我同意不能将登录用户视为处理资源的事实。

然而，真正的问题是最简单和最直观的方法是什么？在您的 REST 框架中执行它而不是在标准视图中执行它有什么好处？

在这种情况下，我宁愿使用常规视图。

# asp.net - 如何使用 ICallBack 事件处理程序

> ID：14619438
> 
> 赞同：1
> 
> 时间：2013-01-31T06:02:48.903
> 
> 标签：asp.net, asynchronous, icallbackeventhandler

我有 2 个下拉列表，在第一个 DDL 选择索引更改事件我正在填写第二个 DDL.. 它是 asp.net 的常规回发..

在这种情况下，我想使用 ICallBack 事件处理程序......

那我怎么用这个？？？

问候， Rohit Pundlik

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-31T06:05:40.473

你可以谷歌它：

1.  [客户端回调实现 (C#) 示例](http://msdn.microsoft.com/en-us/library/ms178210%28v=vs.100%29.aspx)
2.  [在 ASP.NET 网页中以编程方式实现客户端回调而无需回发](http://msdn.microsoft.com/en-us/library/ms178208%28v=vs.100%29.aspx)
3.  [ICallbackEventHandler](http://www.codeproject.com/Articles/27172/The-ICallbackEventHandler)

# gdb - 带地址和不带地址的 gdb 回溯帧

> ID：14619440
> 
> 赞同：2
> 
> 时间：2013-01-31T06:02:54.707
> 
> 标签：gdb

当我执行 gdb bt 时 - 我看到一些帧以地址开头，而有些则不是 - 为什么有些函数不以地址开头

```
#6  0x000000000041fd1d in func (argc=0, argv=0x8723a0, t=<value optimized out>) at file1.c:55
#7  record (argc=0, argv=0x8723a0, x=<value optimized out>) at file3.c:11 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-31T08:42:37.347

我相信`record()`是内联的，并且是另一个功能的一部分，该功能是上框架而`func()`不是内联的。我想`gdb`如果它有符号信息，它会选择以这种方式显示内联函数。我使用 gdb 7.0。似乎早期版本的 gdb 并没有以这种方式显示内联函数。

看，我和 bt 的情况差不多：

```
Thread 1 (Thread 1405):
#0  0x00002ac752a93d17 in allocate (this=0x3716b1e0, __in_chrg=<value optimized out>) at /import/home/bc_prod1/bc/data/daily/PROF_HAS_LIBS_005.00/18.05.2012_15_19_04/i686-redhat-linux_5.0_-64/src/build/xalanc-1.11/xml-xalan/c/src/xalanc/Include/XalanList.hpp:537
#1  getListHead (this=0x3716b1e0, __in_chrg=<value optimized out>) at /import/home/bc_prod1/bc/data/daily/PROF_HAS_LIBS_005.00/18.05.2012_15_19_04/i686-redhat-linux_5.0_-64/src/build/xalanc-1.11/xml-xalan/c/src/xalanc/Include/XalanList.hpp:517
#2  end (this=0x3716b1e0, __in_chrg=<value optimized out>) at /import/home/bc_prod1/bc/data/daily/PROF_HAS_LIBS_005.00/18.05.2012_15_19_04/i686-redhat-linux_5.0_-64/src/build/xalanc-1.11/xml-xalan/c/src/xalanc/Include/XalanList.hpp:282
#3  xalanc_1_11::ICUBridgeCollationCompareFunctorImpl::~ICUBridgeCollationCompareFunctorImpl (this=0x3716b1e0, __in_chrg=<value optimized out>) at /import/home/bc_prod1/bc/data/daily/PROF_HAS_LIBS_005.00/18.05.2012_15_19_04/i686-redhat-linux_5.0_-64/src/build/xalanc-1.11/xml-xalan/c/src/xalanc/ICUBridge/ICUBridgeCollationCompareFunctorImpl.cpp:144 
```

我的解释是，在我的情况下，从第`getListHead()`1 帧开始，`end()`从第 2 帧开始内联，这就是为什么它们显示时没有自己的地址。它们实际上是第 3 帧函数的一部分，`ICUBridgeCollationCompareFunctorImpl::~ICUBridgeCollationCompareFunctorImpl()`该函数实际上没有内联并且有它的地址。

顺便说一句，当我`disass`为第 1 帧、第 2 帧和第 3 帧做时，我得到了相同的输出。

# python - 传递参数的实际名称

> ID：14619446
> 
> 赞同：0
> 
> 时间：2013-01-31T06:03:06.630
> 
> 标签：python, parameters

是否可以在 Python 中获取传递参数的名称？

具体来说，我希望能够做到这一点：

```
def a(name):
    print "the actual passed parameter is %s" %(???) 
```

**它解决了**什么？

因此，如果我需要在袋子和篮子中分发硬币，比如 bag_list 和 basket_list，我不需要发送一个明确的标识符，比如“袋子”或“篮子”

这就是我目前的工作方式。我目前正在为此目的使用（全局）字典-

```
ID = {'bag': bag_list, 'basket': basket_list}

def a(name, id):
   dist_list = ID[id] 
```

它还归结为将变量名称转换为字符串，因为所需的行为也可以建模为：

```
def a(name):
    name = ???get variable name as string magically???
    if name.startswith('bag'): 
         dist_list = ID['bag']
    else:
         dist_list = ID['basket'] 
```

重新建模的问题已在[https://stackoverflow.com/a/9121991/1397945](https://stackoverflow.com/a/9121991/1397945)中得到全面回答，但我正在重新发布

*   以防万一有一些修改&
*   是否可以在其他脚本语言（如 Perl 或 Tcl）中执行此操作。
*   更重要的是，以防两种建模方式不同或可以采用任何不同的方式进行处理。

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-31T06:34:23.027

**这是可能的**——但我认为这是一个肮脏的黑客行为。阅读我的解决方案后，如果你真的想走这条路，你应该退后一步三思而后行。

```
def a(name):
    global_variables = globals()
    try:
        name_of_passed_in_variable = [x for x in global_variables if id(global_variables[x]) == id(name)][0]
    except Exception:
        name_of_passed_in_variable = "unknown"
    print name_of_passed_in_variable, name

my_name = "Tom"
a(my_name)

a("Mike")

second_name = my_name
a(second_name) 
```

将给出输出：

```
my_name Tom
unknown Mike
my_name Tom 
```

通过我的示例，您还可以看到这种方法的缺点。

*   如果直接传入字符串而不赋值变量，则无法确定名称
*   如果您对同一个变量有多个引用，您将永远不知道会选择哪个名称

对于后一个问题，您当然可以实现一些逻辑来应对它 - 或者这对您来说根本没有问题。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-31T06:16:06.967

我认为您遇到的问题是论点的差异。有关键字参数，其中名称由调用者和简单的位置参数显式声明。你可以这样做，

```
def a(**kwargs):
    if 'bag' in kwargs:
         dist_list = ID['bag']
    else:
        dist_list = ID['basket'] 
```

你必须像这样传递变量，

```
a(bag=...) 
```

或者如果你想看看参数`startswith`包或篮子是否可以做，

```
def a(**kwargs):
    if any(k.startswith('bag') for k in kwargs.iterkeys()):
        dist_list = ID['bag']
    elif any(k.startswith('basket') for k in kwargs.iterkeys()):
        dist_list = ID['basket']
    else:
        raise Exception('a requires argument starting with `basket` or `bag`') 
```

但是你有确定哪个键以包或篮子开头的问题，所以我可能会这样做，

```
def a(**kwargs):
    valid_key = [k for k in kwargs.iterkeys() if k.startswith('bag') or k.startswith('basket')][0]
    if valid.key.startswith('bag'):
         dist_list = ID['bag']
    elif valid.key.startswith('basket'):
        dist_list = ID['basket']
    else:
        raise Exception('a requires argument starting with `basket` or `bag`') 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-31T06:10:41.350

像这样的东西适合你的用例吗？

```
>>> class Inventory(object):
    basket = 0
    bag = 0
    def add_coins(self, **kwargs):
        if 'bag' in kwargs:
            self.bag += kwargs['bag']
        if 'basket' in kwargs:
            self.basket += kwargs['basket']

>>> i = Inventory()
>>> i.add_coins(bag=6)
>>> i.bag
6
>>> i.add_coins(bag=2)
>>> i.bag
8
>>> i.basket
0 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-31T06:12:02.290

一般来说，你想要的东西是不可能的，因为 Python 不会传递带有名称的对象。

*在调用函数的情况下，如果*用户总是使用关键字参数调用函数，则可以获得带有名称/值对的字典。

所以你*可以*这样做：

```
def a(**kwargs):
    if len(kwargs) != 1:
        raise ValueError("only pass a single keyword arg starting with 'bag' or 'basket'")
        # Above line is Python 3.x syntax; below line is Python 2.x syntax
        # raise ValueError, "only pass a single keyword arg starting with 'bag' or 'basket'"
    name, value = list(kwargs.items())[0]
    if name.startswith('bag'): 
         dist_list = ID['bag']
    else:
         dist_list = ID['basket']
    # I don't know what you want next, but let's say you want to append:
    dist_list.append(value) 
```

然后用户必须像这样调用函数：

```
a(bag=3)
a(basket=5) 
```

编辑：代码现在对于 Python 3.x 是正确的，并且可以很容易地为 Python 2.x 修改（见评论）。

编辑：现在我想了想，我们可以概括一下。我将重命名`ID`为`_containers`.

```
def a(**kwargs):
    for key, value in kwargs.items():
        if key in _containers:
            _containers[key].append(value)
        else:
            raise ValueError("invalid container name '%s'" % key) 
```

现在，您可以通过一次调用附加多个容器。但这有点棘手，因为用户可能会这样做：

```
a(bag=1, basket=2, bag=3) 
```

`bag=1`永远不会发生，因为将`bag`在`3`字典中设置为。（可能有一种棘手的方法可以用具有重载函数的自定义类替换字典，但这种方法很疯狂……我不推荐使用那么棘手的代码。）

它不是那么好，但如果你想要以开头的名字*或*任何`bag`工作，这将做到：

```
def a(**kwargs):
    for key, value in kwargs.items():
        found = False
        for container_name in _containers:
            if key.startswith(container_name):
                _containers[container_name].append(value)
                found = True
                break
        if not found:
            raise ValueError("no container name matched '%s'" % key) 
```

# python - 如何覆盖 NumPy 的 ndarray 和我的类型之间的比较？

> ID：14619449
> 
> 赞同：6
> 
> 时间：2013-01-31T06:03:26.953
> 
> 标签：python, numpy, operators

在 NumPy 中，可以使用 __array_priority__ 属性来控制作用于 ndarray 和用户定义类型的二元运算符。例如：

```
class Foo(object):
  def __radd__(self, lhs): return 0
  __array_priority__ = 100

a = np.random.random((100,100))
b = Foo()
a + b # calls b.__radd__(a) -> 0 
```

然而，同样的事情似乎不适用于比较运算符。例如，如果我将以下行添加到`Foo`，则永远不会从表达式中调用它`a < b`：

```
def __rlt__(self, lhs): return 0 
```

我意识到这`__rlt__`并不是一个真正的 Python 特殊名称，但我认为它可能会起作用。我尝试了所有的`__lt__`, `__le__`, `__eq__`, `__ne__`, `__ge__`,`__gt__`有和没有前面的`r`, plus `__cmp__`，但我永远无法让 NumPy 调用它们中的任何一个。

这些比较可以被覆盖吗？

## 更新

为了避免混淆，这里有一个更长的描述 NumPy 的行为。对于初学者来说，NumPy 指南是这样说的：

```
If the ufunc has 2 inputs and 1 output and the second input is an Object array
then a special-case check is performed so that NotImplemented is returned if the
second input is not an ndarray, has the array priority attribute, and has an
r<op> special method. 
```

我认为这是使 + 起作用的规则。这是一个例子：

```
import numpy as np
a = np.random.random((2,2))

class Bar0(object):
  def __add__(self, rhs): return 0
  def __radd__(self, rhs): return 1

b = Bar0()
print a + b # Calls __radd__ four times, returns an array
# [[1 1]
#  [1 1]]

class Bar1(object):
  def __add__(self, rhs): return 0
  def __radd__(self, rhs): return 1
  __array_priority__ = 100

b = Bar1()
print a + b # Calls __radd__ once, returns 1
# 1 
```

如您所见，没有`__array_priority__`，NumPy 将用户定义的对象解释为标量类型，并将操作应用于数组中的每个位置。那不是我想要的。我的类型是类似数组的（但不应从 ndarray 派生）。

这是一个更长的示例，显示了在定义所有比较方法时如何失败：

```
class Foo(object):
  def __cmp__(self, rhs): return 0
  def __lt__(self, rhs): return 1
  def __le__(self, rhs): return 2
  def __eq__(self, rhs): return 3
  def __ne__(self, rhs): return 4
  def __gt__(self, rhs): return 5
  def __ge__(self, rhs): return 6
  __array_priority__ = 100

b = Foo()
print a < b # Calls __cmp__ four times, returns an array
# [[False False]
#  [False False]] 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-31T23:23:48.730

看来我可以自己回答这个问题。 `np.set_numeric_ops`可以如下使用：

```
class Foo(object):
  def __lt__(self, rhs): return 0
  def __le__(self, rhs): return 1
  def __eq__(self, rhs): return 2
  def __ne__(self, rhs): return 3
  def __gt__(self, rhs): return 4
  def __ge__(self, rhs): return 5
  __array_priority__ = 100

def override(name):
  def ufunc(x,y):
    if isinstance(y,Foo): return NotImplemented
    return np.getattr(name)(x,y)
  return ufunc

np.set_numeric_ops(
    ** {
        ufunc : override(ufunc) for ufunc in (
            "less", "less_equal", "equal", "not_equal", "greater_equal"
          , "greater"
          )
    }
  )

a = np.random.random((2,2))
b = Foo()
print a < b
# 4 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-31T06:20:04.667

我无法重现您的问题。正确的方法是使用`__cmp__`特殊方法。如果我写

```
import numpy as np

class Foo(object):
    def __radd__(self, lhs): 
        return 0

    def __cmp__(self, this):
        return -1

    __array_prioriy__ = 100

a = np.random.random((100,100))
b = Foo()
print a<b 
```

并在调试器中设置断点，执行停止在`return -1`.

顺便说一句：`__array_prioriy__`在这里没有任何区别：你有一个错字！

# hibernate - 当使用 Hibernate 作为 JPA 提供程序时，我可以使用 HQL 功能吗？

> ID：14619450
> 
> 赞同：-1
> 
> 时间：2013-01-31T06:03:55.813
> 
> 标签：hibernate, jpa, hql, jpql

我正在使用 JPA 2.0。Hibernate 4.1 是提供者。我可以使用 HQL 功能吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-31T06:05:31.490

是的。

至少可以从以下几点推断：

> 11.4.8.3。非标准化功能
> 
> Hibernate Dialects 可以注册已知可用于该特定数据库产品的附加功能。这些函数在 HQL 中也**可用（和 JPQL，尽管显然仅在使用 Hibernate 作为 JPA 提供者时）。**

[http://docs.jboss.org/hibernate/orm/4.1/devguide/en-US/html/ch11.html](http://docs.jboss.org/hibernate/orm/4.1/devguide/en-US/html/ch11.html)

# html - 如何绘制 HTML 5 画布并明智地分割象限，并使圆圈旋转象限可点击

> ID：14619452
> 
> 赞同：1
> 
> 时间：2013-01-31T06:03:57.567
> 
> 标签：html, canvas, html5-canvas, css-animations, html5-animation

我绘制了圆圈并使用 HTML 5 Canvas 分隔了 6 个相等的象限，

我必须让每个象限都可以点击，当它被点击时它必须旋转它并且还需要重定向到另一个页面并确保点击的象限需要设置为活动状态并且点击的象限移动并且需要设置在不同的位置.

请帮我解决这个问题。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-01T09:30:07.073

首先在画布上注册一个**点击事件，**

在**事件回调处找到****点击事件**的坐标

 **```
cordinate_x = event.offsetX;
cordinate_y = event.offsetY; 
```

然后找出坐标属于哪个象限

重新绘制象限，

然后找到你的画布需要多少旋转，应用那么多旋转并重定向到属于该象限的另一个页面..

试试看，寻求任何进一步的帮助..

一切顺利。**

# php - 在 IE 中获取图像文件大小

> ID：14619458
> 
> 赞同：1
> 
> 时间：2013-01-31T06:04:22.763
> 
> 标签：php, javascript, jquery

> **可能重复：**
> [如何在不使用 JavaScript 中的 activex 的情况下从客户端获取文件大小？](https://stackoverflow.com/questions/10911566/how-to-get-file-size-from-clientside-without-using-activex-in-javascript)

我在我的脚本中使用最大大小为 1 GB 的图像上传，我需要在 javascript 中获取图像文件大小，所以我使用了以下脚本，

```
var file = document.getElementById('image').files[0];

if(file.size > 1048576){
    alert('image size is too big to upload');
} 
```

此脚本在除 IE8,9 之外的所有浏览器中都能正常工作。建议我在 IE 中工作的一些解决方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-31T06:17:56.803

[从这里](http://www.kavoir.com/2009/01/check-for-file-size-with-javascript-before-uploading.html)考虑这个例子

```
<html>
<head>
<script>
function getSize()
{
    var myFSO = new ActiveXObject("Scripting.FileSystemObject");
    var filepath = document.upload.file.value;
    var thefile = myFSO.getFile(filepath);
    var size = thefile.size;
    alert(size + " bytes");
}
</script>
</head>
<body>
<form name="upload">
<input type="file" name="file">
<input type="button" value="Size?" onClick="getSize();">
</form>
</body>
</html> 
```

但是您需要在 IE 安全设​​置中允许[ActiveX 。](http://msdn.microsoft.com/en-us/library/aa751968%28v=vs.85%29.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-31T06:06:38.147

试试下面的代码

```
var img = new Image();
img.src = sYourFilePath;
var iSize = img.fileSize; 
```

阅读更多

[如何在不使用javascript中的activex的情况下从客户端获取文件大小？](https://stackoverflow.com/questions/10911566/how-to-get-file-size-from-clientside-without-using-activex-in-javascript)

[https://gist.github.com/3347948](https://gist.github.com/3347948)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-31T06:09:27.293

似乎找不到参考链接，但 ie8 和 ie8 不支持 html5 文件 api，这意味着您无法从那里获取文件大小。另一种方法是在服务器端进行此处理，如果大小超过限制，则快速失败。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-31T07:39:18.390

**要求** 要在客户端计算文件/图像大小，浏览器应支持 HTML5 File API

**原因/详细信息** 在 IE 9.0 之前的任何 IE 版本中，您都无法获取图像/文件大小，即使 IE 10.0 部分支持 HTML 文件 API[检查此](http://caniuse.com/#feat=fileapi "HTML5 文件接口")

**研究**

这是使用以下代码的调试信息 IE vs Chrome

```
var file = document.getElementById('image').files[0];
console.log(file); 
```

**Chrome** Chrome webkitRelativePath: "", lastModifiedDate: Wed Feb 08 2012 12:57:57 GMT+0500 (Pakistan Standard Time), name: "1.jpg", type: "image/jpeg", size: 715285…}

**IE 9.0** SCRIPT5007：无法获取属性“0”的值：对象为空或未定义

# oracle11g - 在 xml 中设置列 格式 max 从 oracle 中的表生成

> ID：14619463
> 
> 赞同：1
> 
> 时间：2013-01-31T06:04:48.613
> 
> 标签：oracle11g

```
SET PAGES 0;
SET LINE 1000;
SET LONG 9999999;
SPOOL C:\pensionnew.xml;
col foo format a60000;
--SELECT DBMS_XMLGEN.GETXML('SELECT * FROM DATAAG')foo FROM DUAL;
SELECT DBMS_XMLGEN.GETXML('SELECT XMLConcat(XMLElement("ID", e.ID),XMLElement("LAST_OFFICE_WORKED", e.LAST_OFFICE_WORKED))as "Pendata" 
  FROM dataag e') foo FROM DUAL;
SPOOL OFF; 
```

我将此代码用于 xml 生成，但在特定长度之后剪切了列标记，那么如何增加列长度或最大格式？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-31T06:10:22.180

使用以下命令设置页面和行大小

```
set linesize value;
set pagesize value; 
```

您可以在值中设置最大值

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-31T08:25:04.293

为什么使用 dbms_xmlgen.getxml 作为 XMLconcat/element 选择的包装器？您是否尝试将其汇总为 1 行？

我怀疑它在终端而不是日志中包装（因为您的示例中有 linesize 1000 和 col 格式为 60000）。如果是日志，您可以发布示例 XML 输出吗？

`xmlagg`是将其作为一个 xml 文档获取的另一种方法。

```
SELECT XMLSERIALIZE(content xmlagg(XMLConcat(XMLElement("ID", 
       e.ID),XMLElement("LAST_OFFICE_WORKED", e.LAST_OFFICE_WORKED))) indent) 
  FROM dataag e; 
```

`XMLSERIALIZE`添加只是为了漂亮的打印。

# https - ibm websphere esb 支持 https 吗？

> ID：14619466
> 
> 赞同：0
> 
> 时间：2013-01-31T06:04:59.810
> 
> 标签：https, websphere, esb

我尝试寻找任何提到 HTTPS 的文章，但我只得到通用的 HTTP 绑定材料，没有提到 HTTP 安全。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-31T06:41:37.030

我还没有找到很多具体的教程材料。[信息中心](http://publib.boulder.ibm.com/infocenter/dmndhelp/v7r0mx/topic/com.ibm.websphere.wesb.doc/doc/tsec_sslwebservice.html)中提到了通用方法。基本点是 ESB 提供对 Web 服务的访问权，而 HTTPS 或 SSL 连接主要在 Web 服务本身中定义。

似乎您搜索 SSL 会得到更广泛的结果，例如[这里](http://www-01.ibm.com/support/docview.wss?uid=swg21255616)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-13T15:35:29.287

另一种选择是在 WAS 前面使用 Web 服务器（带有 SSL）。

# xcode - 精灵帧动画

> ID：14619470
> 
> 赞同：1
> 
> 时间：2013-01-31T06:05:23.670
> 
> 标签：xcode, cocos2d-iphone

我正在尝试让我的精灵逐帧运行动画，到目前为止我所拥有的就是这个。

游戏画面.h

```
#import "cocos2d.h"
#import <UIKit/UIKit.h> 
#import "GamePad.h"

@interface GameScreen : CCLayer
{
    CCSprite *_character;
    CCAction *_walkAction;
    CCAction *_moveAction;
    BOOL _moving;
}

@property (nonatomic, retain) CCSprite *character;
@property (nonatomic, retain) CCAction *walkAction;
@property (nonatomic, retain) CCAction *moveAction;

+(CCScene *) scene;

@end 
```

游戏画面.m

```
@implementation GameScreen

@synthesize character = _character;
@synthesize moveAction = _moveAction;
@synthesize walkAction = _walkAction;

+(id) scene
{
    CCScene *scene = [CCScene node];

    GameScreen *layer = [GameScreen node];

    [scene addChild: layer];

    return scene;
}

-(id) init
{

    if( (self=[super init] )) {

        [[CCSpriteFrameCache sharedSpriteFrameCache] addSpriteFramesWithFile:
         @"Dubstep Dan_default.plist"];
        CCSpriteBatchNode *spriteSheet = [CCSpriteBatchNode
                                          batchNodeWithFile:@"Dubstep Dan_default.png"];
        [self addChild:spriteSheet];

        NSMutableArray *walkAnimFrames = [NSMutableArray array];
        for(int i = 1; i <= 8; ++i) {
            [walkAnimFrames addObject:
             [[CCSpriteFrameCache sharedSpriteFrameCache] spriteFrameByName:
              [NSString stringWithFormat:@"1-%d.png", i]]];
        }

        CCAnimation *walkAnim = [CCAnimation animationWithFrames:walkAnimFrames delay:0.1f];

        CGSize winSize = [CCDirector sharedDirector].winSize;
        self.character = [CCSprite spriteWithSpriteFrameName:@"1-1.png"];
        _character.position = ccp(winSize.width/2, winSize.height/2);
        self.walkAction = [CCRepeatForever actionWithAction:
                           [CCAnimate actionWithAnimation:walkAnim restoreOriginalFrame:NO]];
        [_character runAction:_walkAction];
        [spriteSheet addChild:_character]; 
```

}

当我运行程序时，精灵应该是一个黑色方块，我在调试器窗口中收到以下消息

2013-01-31 00:00:02.682 Dubstep Dash[428:907] cocos2d: CCTexture2D。无法创建纹理。cgImage 为零 2013-01-31 00:00:02.684 Dubstep Dash[428:907] cocos2d：无法在 CCTextureCache 中添加图像：Dubstep Dan_default.png

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-01-06T10:04:43.640

更正您的文件名，如`Dubstep_Dan_default.plist`

# jquery - 仅当用户单击某个元素时才防止模糊/聚焦事件

> ID：14619471
> 
> 赞同：1
> 
> 时间：2013-01-31T06:05:25.420
> 
> 标签：jquery, onclick

情况如下：我有一个可编辑的文本区域。当用户选择文本区域并进行更改时，会出现一个保存按钮。当他们点击文本区域外时，按钮会消失，如果他们进行了更改，他们会收到一条警报，询问他们是否要保存更改。但是，如果他们单击保存按钮，我不希望出现警报，并且我希望通过附加到按钮的 onclick 事件来触发保存功能。以下代码即使在他们按下保存按钮时也会发出警报，并且不会运行保存按钮的 onClick 代码。完成这项工作的最佳方法是什么？谢谢！！！

```
$(".userNoteTextArea").focus(function() {
$("#noteTextAreaButtons").show();
}).bind('focusout', function(event) {
if (!$(event.target).is('#noteTextAreaButtons')) {
    $("#noteTextAreaButtons").hide();
    if (stillNotSaved == true) {
        if (confirm("Save changes?")) { //Ok button pressed...
            storeUserNote2(); //save note
        }
    }
}
}); 
```

保存按钮代码：

```
<div id="noteTextAreaButtons" style="display:none;"><input id="saveUserNoteButton" class="buttonAutoWide opaque" type="button" value="Saved" onClick="storeUserNote2(); this.value='Saved'"/></div> 
```

编辑：此文件可在[http://gospelriver.com/favhymns/favhymns_temp.html](http://gospelriver.com/favhymns/favhymns_temp.html)查看。单击我的歌曲按钮。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-31T06:19:28.357

包括一个新功能，如下所示

```
function SaveClicked(){
    stillNotSaved = false;
    storeUserNote2(); 
    this.value='Saved';
} 
```

我希望`stillNotSaved`你使用的变量是`global variable`js 中的 a。并如下修改您的`input`代码。

```
<input id="saveUserNoteButton" class="buttonAutoWide opaque" 
            type="button" value="Saved" onClick="SaveClicked();"/> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-02T19:50:10.683

我想我最终可能会忘记整个按钮方法，而在他们进行更改后退出文本区域时只使用自动提示 - OK = 保存，Cancel = 放弃更改。

# ios - 如何为ios构建skia

> ID：14619475
> 
> 赞同：0
> 
> 时间：2013-01-31T06:05:41.253
> 
> 标签：ios, skia

我尝试在ios上构建skia。然后我下载它然后在mac os上运行SampleApp。所以我想在ios上使用它。但是当我打开xcodeproj时，项目中有很多文件未退出！那么什么可以我用它和How to build skia for ios?? 谢谢提前！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2019-03-09T18:07:47.030

下面的命令对我有用，这个技巧是指示（好奇的）构建过程不要在构建机器上寻找依赖项：

```
[ -d depot_tools ] || git clone https://chromium.googlesource.com/chromium/tools/depot_tools.git
[ -d skia ] || git clone https://skia.googlesource.com/skia.git

export PATH="${PWD}/depot_tools:${PATH}"
cd skia
python tools/git-sync-deps
gn gen out/Release --args="is_official_build=true skia_use_system_expat=false skia_use_system_icu=false skia_use_libjpeg_turbo=false skia_use_system_libpng=false skia_use_system_libwebp=false skia_use_system_zlib=false skia_use_libwebp=false extra_cflags_cc=[\"-frtti\"]"
ninja -C out/Release skia 
```

# c# - 布尔变量的奇怪行为，变量的值在回发之间丢失

> ID：14619476
> 
> 赞同：5
> 
> 时间：2013-01-31T06:05:43.450
> 
> 标签：c#, asp.net, visual-studio-2008

我有一个名为 CheckBoxActivated 的布尔变量，我在验证用户名和密码后将其赋值为 true。

```
string name = us.UserName;
string password = us.Password;

if (name.Equals(txtName.Text) && (password.Equals(txtPassword.Text)))
{
    CheckBoxAvtivated = true; 
```

奇怪的是，在为变量分配“真”后，我单击另一个按钮，它立即变为“假”，这会导致不良行为。

```
protected void butNext_Click(object sender, EventArgs e)
{
    if (CheckBoxAvtivated)
    {
        pnlCheckBoxes.Visible = true;
        pnlUserCheckBoxValidation.Visible = false;
    }
    else
    {
        pnlCheckBoxes.Visible = false;
        pnlUserCheckBoxValidation.Visible = true;
    } 
```

因此，变量的状态意外地变为 false。为什么会发生这种情况？

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2013-01-31T06:07:09.643

asp.net 中的类级别变量（全局变量）不会在回发之间保持状态，如果要保持回发之间的状态，则必须使用 viewstate。 `Asp.net`基于`http`协议是无状态协议，不提供在请求之间存储用户数据的方法

*在视图状态中设置*

```
ViewState["CheckBoxAvtivated"] = "true"; 
```

*从视图状态获取*

```
bool CheckBoxAvtivated = bool.Parse(ViewState["CheckBoxAvtivated"].ToString()); 
```

了解如何使用视图状态以及不应该使用它的位置很重要。

## 视图状态的作用

> 视图状态在生活中的目的很简单：它可以在回发中保持状态。（对于 ASP.NET 网页，其状态是构成其控件层次结构的控件的属性值。）这就引出了一个问题，“需要保持哪种状态？” 为了回答这个问题，让我们首先看看哪些状态不需要在回发中持久化。回想一下，在页面生命周期的实例化阶段，会创建控件层次结构并分配声明性语法中指定的那些属性。由于在构造控件层次结构时，这些声明性属性会在每次回发时自动重新分配，因此无需将这些属性值存储在视图状态中。

## 无状态协议

> 在计算中，无状态协议是一种通信协议，它将每个请求视为与任何先前请求无关的独立事务，因此通信由独立的请求和响应对组成。无状态协议不要求服务器在多个请求期间保留有关每个通信伙伴的会话信息或状态。相反，需要保持内部状态的协议称为有状态协议。要了解更多关于少状态的信息，请参阅此维基百科[文章](http://en.wikipedia.org/wiki/Stateless_protocol)

# ruby-on-rails - 耙任务在生产中不起作用

> ID：14619480
> 
> 赞同：1
> 
> 时间：2013-01-31T06:06:00.003
> 
> 标签：ruby-on-rails, rake

我在 Rails 3.2.11 应用程序中有这个 rake 任务`lib/rake/searches.rb`：

```
namespace :searches do
  desc "Start background searches"
  task :start => :environment do
    Rails.logger.info "Starting searches..."
    Campaign.all.each do |c|
      next unless c.recurring?

      Rails.logger.info "Starting searches for campaign '#{c.name}'"
      SearchWorker.enqueue(:campaign_id => c.id, :clear => true)
    end
  end
end 
```

当我在本地运行它时，一切都很顺利。当我在生产中运行它时，它会出错：

```
$ bundle exec rake searches:start
rake aborted!
uninitialized constant SearchWorker
/var/apps/web/lib/tasks/searches.rake:9:in `block (3 levels) in <top (required)>'
/var/apps/web/lib/tasks/searches.rake:5:in `block (2 levels) in <top (required)>'
Tasks: TOP => searches:start
(See full trace by running task with --trace) 
```

当我跳入控制台会话时，我可以看到该类已正确自动加载：

```
$ bundle exec rails console
Loading production environment (Rails 3.2.11)
irb(main):001:0> SearchWorker
=> SearchWorker 
```

这个工人住在里面`app/workers`，他们被添加到`autoload_paths`application.rb 的配置设置中：

```
# Custom directories with classes and modules you want to be autoloadable.
# config.autoload_paths += %W(#{config.root}/extras)
config.autoload_paths += %W(
    #{config.root}/custom_scripts
    #{config.root}/app/workers
    #{config.root}/app/models/filters
) 
```

所以我不知道为什么错误只发生在生产中，以及从 rake 任务运行时。

有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-31T07:39:08.460

看来您已经创建了扩展名为 .rb 的 rake 文件

```
lib/rake/searches.rb 
```

你能试着把它改成

```
lib/rake/searches.rake 
```

那应该工作

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-06T23:44:31.193

这是由于 Rails 3.2 中的生产环境在`:environment`任务完成后没有完全加载。

如果您明确要求`SearchWorker`即。

```
require 'app/workers/search_worker' 
```

在任务块的开头，它会起作用。

（为什么自动加载不适合你，我不知道）

# ruby-on-rails-3 - 从夹具生成新记录

> ID：14619489
> 
> 赞同：0
> 
> 时间：2013-01-31T06:06:51.580
> 
> 标签：ruby-on-rails-3, unit-testing, fixtures

我有一个名为“组”的夹具：

```
one:
   customer: one
   name: MyString 
```

在一个测试中，我需要更多，所以我想做类似的事情：

```
 (1..3).each { |t| Group.create!(groups(:one), name: "Group #{t}")} 
```

有没有办法用固定装置做类似的事情？（以上当然行不通）。我知道我可以使用工厂，但我想继续使用固定装置。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2016-06-08T18:58:07.913

您可以像使用活动记录对象一样使用您的设备。

```
# get attr from fixture & delete id
attr_from_fixture = groups(:one).attributes
attr_from_fixture.delete('id')

# create new
(1..3).each do |t| 
   attr_from_fixture[:name] = "Group #{t}"
   Group.create!(attr_from_fixture)
end 
```

**更新：更容易**

只记得[clone](http://apidock.com/rails/ActiveRecord/Base/clone)方法，更简单

```
(1..3).each do |t| 
   new_group = groups(:one).clone
   new_group.name = "Group #{t}"
   new_group.save
end 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2019-09-16T12:18:51.927

#dup 返回一个新对象。克隆没有 id 的 attrs。

```
(1..3).each do |t| 
   new_group = groups(:one).dup
   new_group.name = "Group #{t}"
   new_group.save
end 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-31T12:16:54.157

你的第二个例子是一种*工厂*。

如果您想使用（yaml）固定装置，您可以使用类似于您的第二个示例的脚本来简单地生成它们，如下所示：

```
y = {"two" => {"customer" => "two", "name" => "londiwe"}}.to_yaml   
fi = open("groups.yml", "w")
fi.write(y)
fi.close 
```

**评论后编辑**：如果您只想从现有记录中获取属性并根据该记录创建新记录，请使用`clone`：
1\. 首先找到要克隆的记录：

```
orig = Group.find_by_customer("one") 
```

2.创建克隆，更改其属性并保存

```
(1..3).each do 
     tmp_clone = orig.clone 
     tmp_clone.name = "two"
     tmp_clone.save
end 
```

# sql-server-2008-r2 - runas 后无法使 sqlcmd 工作

> ID：14619492
> 
> 赞同：0
> 
> 时间：2013-01-31T06:07:36.960
> 
> 标签：sql-server-2008-r2, sqlcmd, runas

我在这里遵循了一些示例，但是在 runas 之后我仍然无法让我的 sqlcmd 工作。

我可以通过两个步骤使其工作：

1.  第一步：使用runas登录到一个新的登录并打开一个命令提示符：

    runas.exe /savecred /user:DOMAIN_NAME\login_name cmd.exe

2.  第二步：在脚本中执行sqlcmd

    sqlcmd -S server_name -E /Q"exit(SELECT @@version)"

但我想迈出一步来获得结果。我尝试在下面列出的 runas 命令之后添加“”，但它不起作用：

```
runas.exe /savecred  /user:DOMAIN_NAME\login_name "sqlcmd -S server_name -E /Q"exit(SELECT @@version )"" 
```

有任何想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-16T05:54:01.110

看看[这篇描述 RunAs 的文章](http://blogs.technet.com/b/heyscriptingguy/archive/2006/04/28/how-can-i-use-the-runas-command-to-run-a-script-under-alternate-user-credentials.aspx)。在文章的最后，他特别提到了需要在引号内使用引号：

> 幸运的是，让 RunAs 开心是相当容易的。您需要做的就是使用 \ 字符“转义”必须嵌入到进程路径中的任何双引号。

所以，看起来你的命令应该是：

```
runas.exe /savecred /user:DOMAIN_NAME\login_name "sqlcmd -S server_name -E /Q\"exit(SELECT @@version )\""

```

注意**两个**嵌套双引号`\`之前。

# ruby - 如何理解 strptime 与 strftime

> ID：14619494
> 
> 赞同：61
> 
> 时间：2013-01-31T06:07:49.800
> 
> 标签：ruby, time

`strptime`和有什么区别`strftime`？我看到这`strptime`是类中的方法`DateTime`，并且`strftime`是类中的方法`Time`。

1.  `Time`和之间有什么区别`DateTime`，除了它们有不同的核心方法？Ruby 文档中对类的解释`Time`很有帮助，但[`DateTime`](http://www.ruby-doc.org/stdlib-1.9.3/libdoc/date/rdoc/DateTime.html)只是说“日期时间”。还有一个[`Date`](http://ruby-doc.org/stdlib-1.9.3/libdoc/date/rdoc/Date.html)类，它说它提供`Date`和`DateTime`. 帮助我理解这一点。
2.  我明白`strptime`了，我想把它发音为“strip time”，但这没有意义。有没有好的助记器？
3.  到底是什么`strptime`意思`strftime`？
4.  你怎么记得哪个做什么？

* * *

## 回答 #1

> 赞同：95
> 
> 时间：2013-01-31T06:14:44.037

和之间的区别`Time`与`DateTime`实施有关。大量`DateTime`功能来自 Rails 世界，并且是带有一天中时间的任意日期。它更像是一个基于日历的系统。`Time`以 1970 年 1 月 1 日 UTC 以来的秒数为单位，与时区无关。在某些系统上，它仅限于 1901 到 2038 之间的值，这是传统上将该值存储为有符号 32 位整数的限制，但较新版本的 Ruby 可以使用 64 位值或 BigNum 处理更广泛的范围按要求。

简而言之，`DateTime`这是您从 Rails 中的数据库获得的，而 Time 是 Ruby 传统上使用的。如果您正在使用日期很重要的值，并且您想知道月底或六周前的哪一天，请使用 DateTime。如果您只是测量经过的时间而不关心它，请使用时间。如有必要，它们很容易转换。

`Date`另一方面，它只是一个日历日期，没有任何关联的时间。您可能希望在与时间无关的情况下使用这些。

`strptime`是“解析时间”的缩写，`strftime`是“格式化时间”的缩写。也就是说，尽管他们使用相同的格式规范，但它们却`strptime`是相反的。`strftime`我很少看到`strptime`使用它，因为`DateTime.parse`它通常擅长了解正在发生的事情，但如果你真的需要把它拼出来，一定要使用遗留解析器。

* * *

## 回答 #2

> 赞同：53
> 
> 时间：2019-08-08T10:00:21.317

**strptime**表示字符串解析器，这会将字符串格式转换为日期时间。

**例子：-**

> > > datetime.strptime('2019-08-09 01:01:01', "%Y-%m-%d %H:%M:%S")
> > > 
> > > datetime.datetime(2019, 8, 9, 1, 1, 1)//结果

**strftime**表示字符串格式化程序，这会将日期时间对象格式化为字符串格式。

**例子：-**

> > > sample_date=datetime.strptime('2019-08-09 01:01:01', "%Y-%m-%d %H:%M:%S")
> > > 
> > > datetime.strftime(sample_date, "%Y-%d-%m %H:%M:%S")
> > > 
> > > '2019-09-08 01:01:01'//结果

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2018-04-27T19:54:16.767

我阅读了上面的答案，它在 Ruby 中对时间、日期时间和日期的描述很清楚。

时间是用 Ruby 打包的。它以 1970 年 1 月 1 日 UTC 以来的秒数为单位，与时区无关。更具体地说，Time 类存储整数，表示自 Epoch 以来的秒间隔。我们可以将其视为 Unix 时间。它有一些限制。如果存储为 64 位有符号整数，我在某处读到，它可以表示 1823-11-12 到 2116-02-20 之间的日期，但在我的系统上，它可以表示此范围之外的日期。如果您没有在环境变量 ENV['TZ'] 中指定要使用的时区，那么它将默认为您在类 Unix 系统上的 /etc/localtime 中找到的系统时间。何时使用时间？它对于测量时间流逝或将时间戳插入字符串值很有用。

Rails 实际上扩展了 Time 类。它通过 ActiveSupport::TimeWithZone 实现这一点。它提供对可配置时区的支持。注意 Rails 总是在写入或读取数据库之前将时区转换为 UTC，无论您在配置文件中设置什么时区。换句话说，Rails 的默认行为是以 UTC 格式保存到数据库中的所有时间。

```
# Get current time using the time zone of current local system or ENV['TZ'] if the latter is set.
Time.now

# Get current time using the time zone of UTC
Time.now.utc

# Get the unix timestamp of current time => 1524855779
Time.now.to_i

# Convert from unix timestamp back to time form
Time.at(1524855779)

# USE Rails implementation of Time! Notice we say Time.current rather than Time.now. This will allow you to use the timezone defined in Rails configuration and get access to all the timezone goodies provided by ActiveSupport::TimeWithZone.
Time.current 
```

TimeWithZone 提供了很多非常有用的辅助方法：

```
# Get the time of n day, week, month, year ago
1.day.ago
1.week.ago
3.months.ago
1.year.ago

# Get the beginning of or end of the day, week, month ...
Time.now.beginning_of_day
30.days.ago.end_of_day
1.week.ago.end_of_month

# Convert time to unix timestamp
1.week.ago.beginning_of_day.to_i

# Convert time instance to date instance
1.month.ago.to_date 
```

在大多数情况下，来自 Rails 的 ActiveSupport 时区类的 Time 就足够了。但有时你只需要一个约会。

与 Time 类一样，Ruby 与 Date 类一起打包。只需要时间库：

```
require "time"

Time.parse("Dec 8 2015 10:19")
#=> 2015-12-08 10:19:00 -0200
Date.parse("Dec 8 2015")
#=> #<Date: 2015-12-08>
Time.new(2015, 12, 8, 10, 19)
#=> 2015-12-08 10:19:00 -0200
Date.new(2015, 12, 8) 
```

由于 Date 是 Ruby 的一部分，因此它默认使用类 Unix 系统上 /etc/localtime 中定义的时区，除非您修改 TZ 环境变量。就像 Time 类一样，Rails 扩展了 Date 类。使用 Date.current 而不是 Date.today 来利用 ActiveSupport::TimeWithZone 并使用基于 Rails 的时区配置。

现在还有一个关于日期和时间的课程。DateTime 是 Date 的子类，可以轻松处理日期、小时、分钟、秒和偏移量。它在 Ruby（通过 require 'time'）和 Rails（通过 require 'date'）中都可用。Rails 使用 TimeZone 功能扩展它，就像使用 Time 类一样。

```
require 'date'
DateTime.new(2001,2,3,4,5,6) 
```

我个人认为没有必要在您的应用程序中使用 DateTime，因为您可以使用 Time 本身来表示日期和时间，并且可以使用 Date 来表示日期。

问题的第二部分是关于 strptime 和 strftime。Time、Date 和 DateTime 都有 strptime 和 strftime 方法。strptime 解析给定的字符串表示并创建一个对象。这是一个例子：

```
> result = Time.strptime "04/27/2018", "%m/%d/%Y"
 => 2018-04-27 00:00:00 -0400 
> result.class
 => Time 
```

如果您有一个应用程序并且用户提交了一个表单并且您获得了一个日期和/或表示为一个字符串，这将非常有用。在将其保存到数据库之前，您需要将其解析为时间或日期。

strftime 格式化日期或时间。所以你在 Date 或 Time 对象上调用它：

```
 > Date.current.strftime("%Y-%m-%d")
 => "2018-04-27" 
```

您可以一起使用它们来首先解析用户输入，然后以某种方式对其进行格式化，也许可以输出到 csv 文件中：

```
 value = Date.strptime(val, '%m/%d/%Y').strftime('%Y-%m-%d') 
```

# jquery - 数据表全局搜索输入键的按键而不是任何按键按键

> ID：14619498
> 
> 赞同：25
> 
> 时间：2013-01-31T06:08:09.003
> 
> 标签：jquery, search, datatables

我正在使用jQuery 的[Datatables](http://datatables.net)插件。我正在为我的 ASP.Net 项目使用服务器端处理功能。

当我每次尝试在全局搜索中输入某些内容时，它会变得令人沮丧，我输入的每个字母都会调用服务器端方法并为我带来结果。

当要过滤的数据很大时，它会变得更加令人沮丧。

是否有任何选项或方法可以在输入键的按键上而不是在任何按键上调用搜索方法？

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2015-06-19T11:48:26.657

我也试过 Techie 的代码。当然，我也收到了错误信息`fnFilter is not a function`。实际上，`oTable.fnFilter(this.value);`通过替换线`oTable.search( this.value ).draw();`可以完成这项工作，但在我的情况下，解绑/绑定函数是在我的服务器端搜索表初始化之前执行的。因此，我将 unbind/bind 函数放入`initComplete`回调函数中，一切正常：

```
$(document).ready(function() {
    var oTable = $('#test').dataTable( {
        "...": "...",
        "initComplete": function(settings, json) {
            $('#test_filter input').unbind();
            $('#test_filter input').bind('keyup', function(e) {
                if(e.keyCode == 13) {
                    oTable.search( this.value ).draw();
                }
            }); 
        }
    });    
}); 
```

* * *

## 回答 #2

> 赞同：25
> 
> 时间：2013-01-31T06:16:12.763

要做的就是取消绑定DataTables放在输入框上的keypress事件处理程序，然后添加你自己的，当检测到返回键（keyCode 13）时调用[fnFilter 。](http://datatables.net/api#fnFilter)

```
$("div.dataTables_filter input").keyup( function (e) {
    if (e.keyCode == 13) {
        oTable.fnFilter( this.value );
    }
} ); 
```

### 别的

```
$(document).ready(function() {
   var oTable = $('#test').dataTable( {
                    "bPaginate": true,
                "bLengthChange": true,
                "bFilter": true,
                "bSort": true,
                "bInfo": true,
                    "bAutoWidth": true } );
   $('#test_filter input').unbind();
   $('#test_filter input').bind('keyup', function(e) {
       if(e.keyCode == 13) {
        oTable.fnFilter(this.value);   
    }
   });     
} ); 
```

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2017-08-15T06:05:52.430

我最终在 Datatables(v1.10.15) 中执行此操作。如果输入为空，我还会阻止退格键和删除按钮发送搜索请求。

```
$.extend( $.fn.dataTable.defaults, {
    "initComplete": function(settings, json) {
        var api = this.api();
        var textBox = $('#datatable_filter label input');
        textBox.unbind();
        textBox.bind('keyup input', function(e) {
            if(e.keyCode == 8 && !textBox.val() || e.keyCode == 46 && !textBox.val()) {
                // do nothing ¯\_(ツ)_/¯
            } else if(e.keyCode == 13 || !textBox.val()) {
                api.search(this.value).draw();
            }
        }); 
    }
}); 
```

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2014-05-15T20:42:49.840

以下是如何使用 1.10 版中的 api 更改来处理它

```
 //prevents form submissions if press ENTER in textbox
    $(window).keydown(function (event) {
        if (event.keyCode == 13) {
            event.preventDefault();
            return false;
        }
    });

    var searchbox = $('#ordergrid_filter input');
    searchbox.unbind();
    searchbox.bind('keyup', function (e) {
        if (e.keyCode == 13) {
            ogrid.search(this.value).draw();
        }
    });

    var uitool = '';
    searchbox.on("mousedown", function () {
        uitool = 'mouse';
    });
    searchbox.on("keydown", function () {
        uitool = 'keyboard';
    });

    //Reset the search if the "x" is pressed in the filter box
    searchbox.bind('input', function () {
        if ((this.value == "") && (ogrid.search() != '') && (uitool == 'mouse')) {
            ogrid.search('').draw();
            return;
        }
    }); 
```

* * *

## 回答 #5

> 赞同：5
> 
> 时间：2018-12-11T16:43:10.480

这是我设法做到的：

```
$(document).on('focus', '.dataTables_filter input', function() {

    $(this).unbind().bind('keyup', function(e) {
        if(e.keyCode === 13) {
            oTable.search( this.value ).draw();
        }
    });

}); 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2016-04-28T10:51:05.867

终于用这种方式让它工作了

```
var oTable = $('#table-name').dataTable({
    processing: true,
    serverSide: true,
    ajax: "file.json",
    initComplete: function() {
        $('#table-name_filter input').unbind();
        $('#table-name_filter input').bind('keyup', function(e) {
            if(e.keyCode == 13) {
                oTable.fnFilter(this.value);
            }
        });
    },
    .... 
```

干杯

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2016-10-06T17:48:57.297

您可以与 jQuery 一起使用。

```
// get the global text
var globalSearch = $("#txtGlobal").val();

// then put them in the search textboxes
$("input[type='search']").val(globalSearch);
// trigger keyup event on the datatables
$("input[type='search']").trigger("keyup.DT"); 
```

`$("input[type='search']")`将获得所有搜索文本框。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2019-12-19T14:08:37.803

就是下面的代码它工作得很好！

```
$(function() {

            var  table = $('#DataTable1').DataTable({
                 proccessing: true,
                 searching: true,
                 paging: true,
                 serverSide: true,
                 initComplete: function() {
                     $('.dataTables_filter input').unbind();
                     $('.dataTables_filter input').bind('keyup', function(e){
                         var code = e.keyCode || e.which;
                         if (code == 13) { 
                             table.search(this.value).draw();
                         }
                     });
                 },
                 ajax: {
                    url: '@Url.Action("Paginacao")',
                    type: 'POST' 
                },
                language: {
                    url: '/plugins/datatables/lang/Portuguese-Brasil.json'
                },
                columns:
                [
                        { "data": "id", visible: false },
                        { "data": "nome", "autoWidth": true },
                        { "data": "cnpj", "autoWidth": true },
                    {
                        "render": function(data, type, full, meta) {
                            return '<a href=@Url.Action("Editar", "Usuario")?id='+full.id+'><b><i class=\"fa fa-edit bigfonts\"></i> Editar</b></a>';
                        }
                    }
                ]
            });

        }); 
```

# android - 在android中的活动中在onResume（）处获取空指针异常

> ID：14619500
> 
> 赞同：2
> 
> 时间：2013-01-31T06:08:22.857
> 
> 标签：android

我有一个自定义视图。当应用程序第一次启动时，由于 onResume() 活动中的空指针异常，我在特定活动中得到空指针。

我正在使用的代码是

```
 public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);
            ....................
             ..................
                ..........
    int index = 0;
    if (getLastNonConfigurationInstance() != null) {
        index = (Integer) getLastNonConfigurationInstance();
    }
            mCurlView = (CurlView) findViewById(R.id.curl);
            mCurlView.setPageProvider(new PageProvider());
            mCurlView.setSizeChangedObserver(new SizeChangedObserver());
            mCurlView.setCurrentIndex(index);
            mCurlView.setBackgroundColor(0xFF202830);
}

 public static Bitmap loadBitmapFromView(View v) {
        Bitmap b = Bitmap.createBitmap(v.getLayoutParams().width,
                v.getLayoutParams().height, Bitmap.Config.ARGB_8888);
        Canvas c = new Canvas(b);
        v.layout(0, 0, v.getLayoutParams().width, v.getLayoutParams().height);
        v.draw(c);
        return b;
    }
@Override
public void onPause() {
    super.onPause();
    mCurlView.onPause();
}
@Override
public void onResume() {
    super.onResume();
    mCurlView.onResume();
} 
```

我在这一行得到空指针异常 mCurlView.onResume(); 即仅在应用程序首次启动时！！我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-31T06:25:05.267

这可能是因为成员变量 mCurView 可能为空。在使用它之前，您必须检查它。在`onResume()`使用中：

```
if(mCurlView != null)
   mCurlView.onResume(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-31T06:11:33.173

您必须检查 NULL 条件：

```
@Override
public void onResume() {
    super.onResume();

    if(mCurlView!=null)
       mCurlView.onResume();
} 
```

# algorithm - 壳排序和插入排序

> ID：14619504
> 
> 赞同：4
> 
> 时间：2013-01-31T06:09:25.963
> 
> 标签：algorithm, data-structures

我有问题。我对 shell 排序和插入排序算法感到非常困惑。我们应该如何区分彼此？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-31T12:18:44.217

[Shell 排序](http://en.algoritmy.net/article/41653/Shell-sort)是[插入排序](http://en.algoritmy.net/article/39459/Insertion-sort)的通用版本。两种算法的基本原理相同。你有一个长度为**n**的排序序列，你将未排序的元素插入其中 - 你得到**n+1 个**元素的长排序序列。

区别如下：而插入排序仅适用于一个序列（最初是数组的第一个元素）并扩展它（使用下一个元素）。但是，shell 排序的*增量是递减*的，这意味着比较的元素之间存在间隙（最初是**n/2**）。因此，有**n/2 个**序列要使用插入排序进行排序。在每一步中，增量都会缩小（通常只除以**2.2**）并且序列的数量会减少。最后一步没有间隙，算法退化为简单的插入排序。

由于增量递减，大元素和小元素被快速移动以纠正数组的一部分，并且比使用插入排序的最后一步排序非常快。这会降低时间复杂度**O(n^(4/3))**

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-01-31T06:32:41.730

您可以将插入排序实现为连续元素的一系列比较和交换。这使其成为“稳定排序”。相反，Shell 排序比较和交换彼此相距较远的元素。这使它更快。

我想您的困惑来自这样一个事实，即 shell 排序可以实现为应用于不同数据子集的几种插入排序。请注意，这些子集由数据序列的不连续元素组成。

有关更多详细信息，请参阅 Wikipedia ;-)

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-01-31T06:35:20.893

[插入排序](http://en.wikipedia.org/wiki/Insertion_sort)是一种简单的就地 O(N^2) 排序。[Shell 排序](http://en.wikipedia.org/wiki/Shellsort)稍微复杂一些，也更难理解，大约在 O(N^(5/4)) 左右。检查链接以获取示例-应该很容易看出差异。

# javascript - 按钮单击后一段时间后自动隐藏标签

> ID：14619508
> 
> 赞同：2
> 
> 时间：2013-01-31T06:09:47.113
> 
> 标签：javascript, asp.net

我在 ASP.NET 和 C# 中工作。

在我的应用程序中，我有一个注册表单，其中有一个显示注册**成功**和**失败**的标签。该标签的文本来自基于条件的代码隐藏。现在我需要的是在一段时间后隐藏标签（比如说5 秒）单击提交按钮。我已经使用 javascript 进行了尝试，但它无法正常工作。请让我知道错误是什么或给你的建议。

**脚本**：

```
 function HideLabel() {
        document.getElementById('<%= lbl1.ClientID %>').style.display = "none";
    }
    setTimeout("HideLabel();", 5000); 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-31T06:11:11.603

您的[setTimout](http://www.w3schools.com/js/js_timing.asp)语法错误。您必须传递函数名称，删除引号并传递名称而不是调用函数。还要注意的另一件事是将代码放在结束`body`标记之前，以确保 html 元素的可用性。

改变

```
setTimeout("HideLabel();", 5000); 
```

到

```
setTimeout(HideLabel, 5000); 
```

# java - 正则表达式：URL 重写任何没有扩展名的路径

> ID：14619513
> 
> 赞同：0
> 
> 时间：2013-01-31T06:10:15.177
> 
> 标签：java, regex, url-rewriting

我编写了一个正则表达式，它适用于我能想到的所有测试用例。基本上任何与该模式匹配的 URL：

/app.* AND 最后没有长度为 1-4 的扩展名，应该重写。我想出了：

```
/app((?:\\/[\\w([^\\..]{1,4}\b)\\-]+)+) 
```

问题是，这可以简化以实现相同的目标吗？另外，我是否可以用 .* 之类的东西替换我对 \w 的使用，我可能是错的，但我怀疑一旦遇到带有奇数字符的 URL，它就会中断。

编辑 1：应该匹配的示例 URL：

```
/app AND /app/
/app/auth
/app/auth/fb
/app/auth/twitter
/app/groups
/app/conn/manage
/app/play
/app/play/migrate
/app/play/migrate/done 
```

不应匹配的示例 URL：

```
/app/js/some.file.js
/app/js/jquery.js
/app/styles/default/rain.css
/app/styles/name/file.css
/app/tpl/index.tpl
/app/tpl/file.html
/app/tpl/some.other.tpl 
```

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-31T10:16:22.653

I think a better approach is to put all the assets you want the webserver to handle in a single directory. Like `/app/public`, so you would get `app/public/js` and `app/public/html` etc. This will make you have no edge cases and a far easier URL handling.

Anyway, I think the regex below answers the question you asked: match anything except if there is a extension with 1 - 4 characters on the file.

```
^(\/(\w+))*\/?(\.\w{5,})?\??([^.]+)?$ 
```

[http://rubular.com/r/4CQ4amccH5](http://rubular.com/r/4CQ4amccH5)

```
^              //start of anchor
  (
    \/         //match forward slash
    (\w+)      //match any word character, match atleast once 
  )+           //match this group atleast once (this group captures /app/etc/etc)
  \/?          //match a forward slash, make it optional (to also capture /app/)
  (\.\w{5,})?  //match any word after a . with 5 characters or more, make it optional
  \??          //match a ?, make the match optional
  ([^.]+)?     //match anything not containing a . 1 or more times, make the match optional
$              //end of anchor 
```

This still needs some work to make it work in Java, mainly alot of escaping escape characters.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-31T10:34:25.000

Your regex would be:

```
/app(/\w+)*/?$ 
```

I assumed you want to match a url with word characters that may end up with a slash but not a file extension.

# spring - 属性文件未加载

> ID：14619515
> 
> 赞同：2
> 
> 时间：2013-01-31T06:10:36.923
> 
> 标签：spring, jakarta-ee, spring-mvc, autowired

我有两个项目，CarpoolDB 和 Carpool。

CarpoolDB : 包含后端的东西并且有

拼车应用程序上下文.xml

```
<context:annotation-config />
<context:component-scan base-package="com.onmobile" />
<context:property-placeholder location="classpath:server.properties" /> 
```

服务器属性

```
cm.db.driverClassName=com.mysql.jdbc.Driver
cm.db.url=jdbc:mysql://localhost:3306/carpool1
cm.db.username=abc
cm.db.password=xyz 
```

我制作了一罐 carpoolDB 并放入 Carpool Application

拼车：包含 UI 事物和后端联系人 carpoolDB jar，并具有

carpool-application-context1.xml

```
<import resource="classpath:carpool-application-context.xml"/>
<context:annotation-config />
<context:component-scan base-package="com.onmobile.carpool.authentication" /> 
```

spring-servlet.xml

```
<context:property-placeholder location="classpath:carpool.properties" /> 

<context:annotation-config />
<context:component-scan base-package="com.onmobile.carpool.controller, com.onmobile.carpool.util" /> 
```

carpool.properties

```
cm.email.sender.mail.smtp.host=mail.on.com 
```

现在，我有一个类 com.onmobile.carpool.util.EmailSender，它有一个属性 smtpHost，并希望 Spring 使用 @Value 注入该值，但它没有被注入。

```
@Controller
public class EmailSender {

    public static final Log logger = LogFactory.getLog(EmailSender.class);

    @Value("${cm.email.sender.mail.smtp.host}")
    private String smtpHost;

} 
```

我收到错误

```
java.lang.IllegalArgumentException: Could not resolve placeholder 'cm.email.sender.mail.smtp.host' 
```

carpool.properties 存在于 src 文件夹中。

为什么它没有从 carpool.properties 文件中选择 cm.email.sender.mail.smtp.host。与 jar 文件中存在的属性文件是否有任何关系。

实际上，属性文件已加载，因为我在日志中看不到文件未找到但字段未自动连接。

* * *

* * *

删除导入后发布更新的完整配置文件

web.xml

```
 <context-param>
    <param-name>contextConfigLocation</param-name>
    <param-value>
            /WEB-INF/carpool-application-context1.xml
            /WEB-INF/applicationContext-security.xml
        </param-value>
  </context-param>
  <filter>
    <filter-name>springSecurityFilterChain</filter-name>
    <filter-class>
            org.springframework.web.filter.DelegatingFilterProxy
        </filter-class>
  </filter>
  <filter-mapping>
    <filter-name>springSecurityFilterChain</filter-name>
    <url-pattern>/*</url-pattern>
  </filter-mapping>
  <servlet>
    <servlet-name>spring</servlet-name>
    <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>
    <load-on-startup>1</load-on-startup>
  </servlet>
  <servlet-mapping>
    <servlet-name>spring</servlet-name>
    <url-pattern>/jsp/*</url-pattern>
  </servlet-mapping>
  <listener>
    <listener-class>
    org.springframework.web.context.ContextLoaderListener
    </listener-class>
  </listener>
  <listener>
    <listener-class>
        org.springframework.security.web.session.HttpSessionEventPublisher
        </listener-class>
  </listener> 
```

carpool-application-context1.xml

```
<!-- Configure annotated beans --> 
<context:annotation-config />
<context:component-scan base-package="com.onmobile.carpooldb.db" />
<context:property-placeholder location="classpath:carpool.properties" />

   <beans:bean id="dataSource" class="org.apache.commons.dbcp.BasicDataSource" destroy-method="close">
        <beans:property name="driverClassName"><beans:value>${cm.db.driverClassName}</beans:value></beans:property>
        <beans:property name="url"><beans:value>${cm.db.url}</beans:value></beans:property>
        <beans:property name="username"><beans:value>${cm.db.username}</beans:value></beans:property>
        <beans:property name="password"><beans:value>${cm.db.password}</beans:value></beans:property>
        <beans:property name="testOnBorrow"><beans:value>true</beans:value></beans:property>
        <beans:property name="testOnReturn"><beans:value>true</beans:value></beans:property>
        <beans:property name="validationQuery"><beans:value>select 1</beans:value></beans:property>
        <beans:property name="maxIdle"><beans:value>-1</beans:value></beans:property>
        <beans:property name="maxActive"><beans:value>-1</beans:value></beans:property>
        <beans:property name="maxOpenPreparedStatements"><beans:value>-1</beans:value></beans:property>
        <beans:property name="maxWait"><beans:value>30000</beans:value></beans:property>
    </beans:bean>

    //session factory bean and other configuration 
```

spring-servlet.xml

```
<context:property-placeholder location="classpath:carpool.properties" />

<context:annotation-config />
<context:component-scan base-package="com.onmobile.carpool.authentication, com.onmobile.carpool.controller, com.onmobile.carpool.util" />

<!-- Declare a view resolver -->
<bean id="viewResolver" class="org.springframework.web.servlet.view.InternalResourceViewResolver"
p:prefix="/WEB-INF/jsp/" p:suffix=".jsp" />

<bean id="multipartResolver"
    class="org.springframework.web.multipart.commons.CommonsMultipartResolver">

    <!-- one of the properties available; the maximum file size in bytes -->
    <property name="maxUploadSize" value="100000"/>
</bean> 
```

carpool.properties

```
cm.db.driverClassName=com.mysql.jdbc.Driver
cm.db.url=jdbc:mysql://localhost:3306/carpool
cm.db.username=abc
cm.db.password=xyz

user.profile.pic.base.folder=D:\\carpoolRepository\\carpoolProfilePicUpload
google.places.autocomplete.response.xml.base.folder=D:\\carpoolRepository\\googleMapXML

#EMAIL - FORGOT PASSWORD 
cm.email.sender.mail.smtp.host=mail.on.com 
```

我试图在上面提到的 EmailSender“smtpHost”属性方式中注入 cm.email.sender.mail.smtp.host 的值，当我读到它时它显示为 null。其他属性（如 cm.db.driverClassName 等）会正确注入 carpool-application-context1.xml。

我正在附加包含配置文件位置的快照![在此处输入图像描述](../Images/bc873cefa85a8f9d83f0e3084ec7b971.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-31T07:25:25.663

您`<context:component-scan base-package="com.onmobile" />` 在`carpool-application-context.xml`which is import from`carpool-application-context1.xml`中具有强制在根 Web 应用程序上下文中创建您的控制器，因为`"com.onmobile"`包含，并且[根上下文](https://stackoverflow.com/questions/11890544/spring-value-annotation-in-controller-class-not-evaluating-to-value-inside-pro/11891396#11891396)`"com.onmobile.carpool.controller"`没有`property-placeholder`配置。

您在 servlet 上下文（spring-servlet.xml）中有一个属性占位符配置器。属性占位符配置器（由`context:property-placeholder`标记定义）是 bean 后处理器，并在每个容器的基础上工作，因此它们不能修改未定义的上下文的 bean 定义。因此它不能修改在中声明的控制器实例的 bean 定义根上下文（carpool-application-context.xml、carpool-application-context1.xml）。因此，由于双重扫描，您的控制器被创建了两次 - 在根和 servlet 上下文中，并且只有一个由正确的占位符配置器处理。

作为修复，您可以在组件扫描中使用过滤器表达式`@Controller`仅在 中选择带注释的类，并将其从/中`spring-servlet.xml`排除`carpool-application-context.xml``carpool-application-context1.xml`

有关过滤器的示例，请参阅[@Service 构造两次](https://stackoverflow.com/a/4335438/241986)

请保持您的 Spring 配置简单，您的配置非常令人费解。

**更新**您将控制器（带有注释`@Controller`并且我认为应该更好地放入`aaa.bbb.controllers`包中）与应该`@Service`在`util`包中注释的服务混淆。我的建议是将您的服务移动到根 Web 应用程序上下文（carpool-application-context1.xml）并将属性占位符配置器声明放在那里。

# asp.net - 使用Docx dll生成word文档时如何在标题中添加图像和文本？

> ID：14619517
> 
> 赞同：4
> 
> 时间：2013-01-31T06:10:47.157
> 
> 标签：asp.net, asp.net-mvc, ms-word, docx

我正在使用 Docx dll 生成 pdf 文件，但无法在标题中添加图像，尽管我可以在 word 文件的内容部分添加图像。这是我的代码：

```
using (Novacode.DocX document = Novacode.DocX.Create(savePath))
    {

        // Add Header and Footer support to this document.
        document.AddHeaders();
        document.AddFooters();

        // Get the default Header for this document.
        Novacode.Header header_default = document.Headers.odd;

        // Add an Image to the docx file
        string imageName = "LOGO.png";
        string url = Request.MapPath("/PDFFolder/" + imageName);

        Novacode.Image img = document.AddImage(url);

        // Insert a Paragraph into the default Header.
        Novacode.Picture pic1 = img.CreatePicture();           
        Novacode.Paragraph p1 = header_default.InsertParagraph();
        header_default.Pictures.Add(pic1);           

        p1.Append("Some more text").Bold();

        // Add a new Paragraph to the document.           
        Novacode.Paragraph p = document.InsertParagraph();

        // Append some text.
        p.Append(textword).Font(new myDrawing.FontFamily("Arial"));

        // Get the default Footer for this document.
        Novacode.Footer footer_default = document.Footers.odd;

        // Insert a Paragraph into the default Footer.
        Novacode.Paragraph p3 = footer_default.InsertParagraph();
        p3.Append("Hello Footer.").Bold();

        // Save the document.
        document.Save();
    } 
```

任何帮助都会很棒！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-12T04:16:29.310

我得到了我的问题的答案。实际上似乎Docx dll不支持在标题下的表格中显示图像。虽然他们已经给出了在表格中显示图像的方法并且也在他们的博客中显示，但我仍然无法使用标题部分中的表格显示图像，我可以通过使用下面给出的代码中的段落轻松完成：

```
// Insert pic and text into the default Header.
Novacode.Paragraph p1 = header_default.InsertParagraph();
p1.Direction = Novacode.Direction.LeftToRight;
p1.AppendPicture(pic1); 
```

它工作正常，但是当您必须显示带有一些标题文本的图像时会出现问题。因为我们没有使用表格来显示图像，所以很难正确对齐图像和标题文本。在尝试了这么多解决方案和努力工作后，我没有找到任何支持和解决方案，终于找到了我的问题的解决方案。我们可以在一行中对齐标题图像和标题文本，而无需使用下面一行给出的表格：

```
p1.Append("Headertext").Bold().Position(30); 
```

借助`Position()`方法，您可以将标题文本和标题图像对齐在一行中。希望这也会对某人有所帮助:)。

# mvvm - 我想使用通过 MVVM 呈现的 ZK 树的 onSelect 事件

> ID：14619525
> 
> 赞同：2
> 
> 时间：2013-01-31T06:11:24.347
> 
> 标签：mvvm, tree, zk, zul

这是zul文件供参考

```
<?page title="MVVM Tree POC"?>
<zk>
    <borderlayout height="800px">
        <west size="25%"></west>
        <center>
            <window apply="org.zkoss.bind.BindComposer"
                viewModel="@id('vm') @init('com.nagarro.viewmodel.TreeViewModel')"
                title="Dynamic Tree" border="normal">
                <tree checkmark="true" model="@bind(vm.treeModel)"
                    onSelect="@command('select')" >
                    <template name="model" var="node" status="s">
                        <treeitem checkable="@load(node.checkable)"
                            open="true">
                            <treerow style="text-align:center;">
                                <treecell
                                    label="@bind(node.data.firstName)" style="text-align:left;">
                                </treecell>
                            </treerow>
                        </treeitem>
                    </template>
                </tree>

            </window>
        </center>
    </borderlayout>
</zk> 
```

树标记中有一个“onSelect”事件，并且只有某些树项有复选框。**现在，我想在选中复选框时为相应的树行创建某些组件，例如组合框。**我正在尝试使用树的 onSelect 事件来做到这一点，但问题是我需要传递所选复选框的引用，因为 onSelect 事件被保留在 treeItems 获取的模板范围之外，所以我无法传递该引用呈现。有没有其他方法可以做我想做的事

这是我通过上述 zul 文件获得的[页面。](http://i.stack.imgur.com/ypdBM.png)

**我想知道哪个复选框被选中？**

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-13T11:38:40.440

您可以在每个事件上传递任何参数（来自 ZK 文档）：

```
<button label="Delete" onClick="@command('delete', item=item)"/> 
```

并在您的 java 代码中使用此参数：

```
@Command
public void delete(@BindingParam("item") Item item ) {
    //do some stuff based on what item you've picked
} 
```

在您的情况下，我会将 onSelect-Event 从 Tree-Component 移动到 Treeitem，如下所示：

```
<tree checkmark="true" model="@bind(vm.treeModel)">
                        <template name="model" var="node" status="s">
                            <treeitem checkable="@load(node.checkable)"
                                open="true" onSelect="@command('select', nameParameter=node.data.firstName">
                                <treerow style="text-align:center;">
                                    <treecell
                                        label="@bind(node.data.firstName)" style="text-align:left;">
                                    </treecell>
                                </treerow>
                            </treeitem>
                        </template>
                    </tree> 
```

并在您的@Command 方法中使用参数：

```
@Command
public void select(@BindingParam("nameParameter") String nameParameter ) {
    System.out.println(nameParameter + " selected");
} 
```

请参阅[ZK MVVM > 高级 > 参数文档](http://books.zkoss.org/wiki/ZK%20Developer%27s%20Reference/MVVM/Advance/Parameters)了解更多信息

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-31T12:48:54.940

这是我经常遇到的问题。我的解决方案一直是将数据附加到组件本身；将数据库实体的 id 或对象本身保留在复选框上，以便在事件期间进行检索。

```
checkbox.setAttribute("myAttributeName", myAttributeValue); 
```

这需要演员来检索，这是不幸的，但通过一些最佳实践，您可以自信地做到这一点。

# mysql - Mysql self join 与多个 order by

> ID：14619530
> 
> 赞同：0
> 
> 时间：2013-01-31T06:11:50.947
> 
> 标签：mysql, join

假设我们有桌子

身份证、头衔、日期

我需要建立1个查询：

```
select date = TODAY, order by id
select data < TODAY, order by date desc,
select data > TODAY, order by date asc, 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-31T06:16:38.780

我认为您需要使用`UNION`和子查询：

```
SELECT * FROM (
    SELECT *
    FROM YourTable
    WHERE Date(dateField) = Date(Now())
    ORDER BY ID 
) t1
UNION
SELECT * FROM (
    SELECT *
    FROM YourTable
    WHERE dateField < Now()
    ORDER BY dateField DESC
) t2
UNION
SELECT * FROM (
    SELECT *
    FROM YourTable
    WHERE Date(dateField) > Now()
    ORDER BY dateField 
) t3 
```

这是一个简化的[SQL Fiddle](http://sqlfiddle.com/#!2/7ef06/2)示例。

祝你好运。

# ios - 如何在tableview中显示字典数据

> ID：14619531
> 
> 赞同：0
> 
> 时间：2013-01-31T06:11:53.180
> 
> 标签：ios, objective-c, nsmutabledictionary

我创建了一个数组，它的数据显示在表格视图中。现在我想将字典数据添加到该数组并在同一个表视图中显示。我创建了一个按钮，它将字典值添加到数组中，但我无法在 tableview 中看到数据。

这是我的“ViewController.m”

```
#import "ViewController.h"
@interface ViewController ()
@end
@implementation ViewController
- (void)viewDidLoad
{
[super viewDidLoad];
mArray = [[NSMutableArray alloc]initWithObjects:@"one",@"two",@"three",@"four",@"five",@"six",@"seven",@"eight",@"nine",@"ten", nil];
mDictionary = [[NSMutableDictionary alloc]init];
[mDictionary setValue:@"gfhhgfhf" forKey:@"firstname"];
[mDictionary setValue:@"hhgghf" forKey:@"lastname"];
CGRect frame = self.view.frame;
UITableView *tableView = [[UITableView alloc]initWithFrame:frame style:UITableViewStylePlain];
tableView.separatorStyle = UITableViewCellSeparatorStyleSingleLine;
tableView.backgroundColor = [UIColor cyanColor];
tableView.separatorColor = [UIColor blackColor];
tableView.delegate = self;
tableView.dataSource = self;
UIButton *button = [UIButton buttonWithType:UIButtonTypeDetailDisclosure];
button.frame = CGRectMake(200, 400, 100, 30);
[button setTitle:@"ADD" forState:UIControlStateNormal];
[button setTitleColor:[UIColor blackColor] forState:UIControlStateNormal];
[button addTarget:self action:@selector(addValueInArray) forControlEvents:UIControlEventTouchUpInside];
[self.view addSubview:tableView];
[self.view addSubview:button];
}
-(void)addValueInArray{
[mArray addObject:(mDictionary)];
[mArray reloadData];
}
- (void)didReceiveMemoryWarning
{
[super didReceiveMemoryWarning];
}
- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section{
return mArray.count;
}
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:  (NSIndexPath *)indexPath{
UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:@"cell"];
if (!cell) {
    cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault   reuseIdentifier:@"cell"];
}
cell.textLabel.text = [mArray objectAtIndex:indexPath.row];
    return cell;
}
- (void)dealloc
{
[mArray release];
[super dealloc];
}
@end 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-31T06:24:22.723

使用它并替换您的功能。它会起作用的

```
 -(void)addValueInArray{
   [mArray addObject:[[mDictionary objectForKey:@"firstname"]stringByAppendingString:[mDictionary objectForKey:@"lastname"]];
   [tableView reloadData];
    } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-31T06:32:30.977

你可以`mArray` 通过这样做来填写你的 ->

```
-(void)addValueInArray{
   [[mArray addObject:[[mDictionary objectForKey:@"firstname"]stringByAppendingString:[mDictionary objectForKey:@"lastname"]]];
   [tableView reloadData];
    } 
```

然后，在您的表视图委托方法中，执行此操作->

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:  (NSIndexPath *)indexPath{
UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:@"cell"];
if (!cell) {
    cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault   reuseIdentifier:@"cell"];
}
cell.textLabel.text = [mArray objectAtIndex:indexPath.row];
    return cell;
} 
```

希望能帮助到你...

# php - Google Doc 和 DropBox PHP api

> ID：14619534
> 
> 赞同：1
> 
> 时间：2013-01-31T06:12:13.923
> 
> 标签：php, google-docs-api, dropbox-php

我想从我的谷歌文档和我的网站（不是谷歌网站）上的保管箱中添加所有文件的列表。我网站的代码主要是 PHP。我找不到 Google Docs list API 和 Dropbox API 的 PHP 指南。提前感谢任何帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-31T18:19:13.127

[3rd Party Dropbox PHP SDK](https://github.com/BenTheDesigner/Dropbox)和[API 文档](https://www.dropbox.com/developers/reference/api)。您将特别希望查看[/metadata](https://www.dropbox.com/developers/reference/api#metadata)和[/files (GET)](https://www.dropbox.com/developers/reference/api#files-GET)调用

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-31T06:17:57.870

这是 PHP 的 Google APIs 客户端库。[关联](http://code.google.com/p/google-api-php-client/)

您可能还需要检查这一点：[Google Drive SDK](https://developers.google.com/drive/v2/reference/files/list) There's a tab for PHP example

# jquery - 检查“链”长度的最佳方法

> ID：14619540
> 
> 赞同：1
> 
> 时间：2013-01-31T06:12:35.377
> 
> 标签：jquery, optimization

我正在编写一个小型 Web 应用程序，其中用户将有一行 n 个元素，并且他需要根据自己的标准将每个元素切换为真/假。

每次用户切换元素时，我都必须检查切换元素可能属于的真实元素“链”的长度。例子：

```
0 0 0 0 1 0 1 1 1 ? //if user selects '1', the chain length is 4
0 ? 1 1 0 1 1 0 0 0 //if user selects '1', the chain length is 3
0 0 1 1 1 ? 1 1 0 0 //if user selects '1', the chain length is 6 
```

我正在考虑这样做的最佳方法。

所有元素都将在 JSON 对象和 DOM 对象（例如`<div>`s）中具有表示形式。

**一种选择**是每次单击都简单地遍历整个阵列。这没关系，因为元素的最大数量约为 1000。但这似乎不是最有效的方法。

**另一种选择**是获取单击的元素并在计算每个额外的真实元素时后退一步，直到到达虚假元素。然后从单击的元素开始执行相同的操作。这对我来说似乎更好，但也许这是不必要的麻烦。

我需要帮助来决定哪种方法最适合这个问题。因素是（不足为奇） -

1.  性能 - 它不能在客户端造成任何滞后 - 必须立即确定链长度。
2.  可维护性。

**我意识到这个问题可能看起来有点主观，也许确实如此，但我认为这一定是一个熟悉的问题，有一个我不知道的熟悉的解决方案。**

我将使用 jQuery。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-31T06:31:05.743

我会先找到最长的链。这将需要遍历您的元素一次。

之后，从每个变化元素的位置向外辐射，找到最长的链。

```
$('.box').click(function() {
    $('.selected').removeClass('selected');

    var $this = $(this);
    $this.toggleClass('active');

    var $next = $this.nextUntil(':not(.active)');
    var $prev = $this.prevUntil(':not(.active)');

    if ($this.hasClass('active')) {
        var $chain = $next.add($prev).add($this);
    } else {
        var $chain = $next.length > $prev.length ? $next : $prev;
    }

    $chain.addClass('selected');
}); 
```

如果该链比最长的链长，则您找到了新的最长链。

**演示：http: [//jsfiddle.net/EDVvN/4/](http://jsfiddle.net/EDVvN/4/)**

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-31T07:01:41.433

我想出了一个似乎“足够高效”的解决方案，因为在我的测试期间浏览器没有延迟。我会说 1000 个元素相对于浏览器应该能够处理的内容并不算多，但对于用户来说却*很多*（我只能测试单击大约 100 个元素，然后才开始感到身体疼痛）。

这适用于一个简单的整数数组，并且除了单击单个输入元素时不会触及大部分 DOM。我假设对整数数组的操作与排序和聚合一样快。

```
//record an array of selected indices
var items = [];

//Delegation will speed things up (hopefully)
$("body").on('change', 'input', function () {
    var $this = $(this);
    var index = $this.index();

    //`items` should only ever contain clicked elements
    //We only have to worry about the one item with each click for now
    if ($this.prop('checked')) {
        items.push(index);
    }
    else {
        items.splice(items.indexOf(index), 1);
    }
    items.sort(function (a, b) { return a - b; });
    var chains = [1];
    var chain = 0;
    try {
        //iterate over the items array.  This should be fast even for 100 items
        items.reduce(function (prev, next) {
            //items are out of order; record currently found chain
            if (next - 1 !== prev) {
                chain++;
                chains.push(1);
            }
            else {
                chains[chain]++;
            }
            return next;
        });
    }
    catch (err) {
        //handle TypeError thrown by `.reduce` on empty array
        //this also accounts for the "0" case (no elements selected)
        chains = [0];
    }
    //Get the longest found chain
    console.log(Math.max.apply(undefined, chains));
}); 
```

[http://jsfiddle.net/ExplosionPIlls/svUrs/2/](http://jsfiddle.net/ExplosionPIlls/svUrs/2/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-31T06:22:33.613

您从单击的元素后退然后前进直到达到零的想法听起来很有效并且不是特别复杂。然而，人们可能会认为它是过早的优化——检查 1000 个元素不太可能影响浏览器的响应能力（这对你来说很容易测试），所以如果你认为效率较低的算法编码速度更快和/或更容易维护它可以说是最好的解决方案。

# actionscript-3 - 如何将 fla 和 as 编译成 swf

> ID：14619542
> 
> 赞同：-1
> 
> 时间：2013-01-31T06:12:40.007
> 
> 标签：actionscript-3, compilation, flash, fla

好的，首先感谢您的阅读..

首先告诉你我在做什么。我正在编辑一个 swf 文件的动作脚本 好的，我反编译了一个包含 swf 的 as 和 fla-flash 部分的文件夹，现在我在少数几个 as 文件中编辑了我需要的内容。

现在的问题是 fla 不再具有 swf 中的所有内容，它与制作的原始 fla 一起在文件夹中

我如何继续编译所有 as 和 fla 以再次发布 swf

再次注意，如果我尝试发布 fla，它的大小只有一半（as 部分不在其中）

有没有办法我可以轻松做到这一点。？再次感谢

任何有用的评论都非常感谢再次感谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-31T06:33:09.077

> 再次注意，如果我尝试发布 fla，它的大小只有一半（as 部分不在其中）

这不应该发生，因为 .as 文件没有被编译。这应该是因为您必须在您的 fla 中缺少一些其他符号及其链接。

我希望您使用 Adob​​e Professional CS5 等工具来编辑和查看 fla

1.  检查 ActionScript 设置是否有正确的源文件文件夹
2.  在 fla 的主文档中，检查是否设置了 Document 类。您也可以单击文档旁边的笔标记将其打开。
3.  检查包含所有符号及其链接的库

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-31T12:42:57.297

这更多的是您的反编译器的问题。首先，您不应该使用其中的大多数，因为它们中的大多数远非完美。除了您想让反编译器工作之外，您没有提供足够的详细信息，所以我看不出问题出在哪里。

# ios - 基于计时器的带有变量的 if 语句

> ID：14619549
> 
> 赞同：1
> 
> 时间：2013-01-31T06:13:17.323
> 
> 标签：ios, objective-c, if-statement, avaudiorecorder

我有一个定时器设置，可以触发和读取 iPhone 麦克风输入电平。我有一些 if 语句说明传入的卷是否为“this”，然后将视图背景颜色更改为“this”。

一切正常，但仪表自然会连续 0、1、2、3、4、5，然后以 5、4、3、2、1、0 的相反顺序返回。但是我不希望这种情况发生。当音量试图回落时，我想一直跳回“0”。

所以我所做的是创建两个变量。一个称为“previousValue”，另一个称为“currentValue”，以跟踪它们在我所处的连续级别中的位置 - 然后是最后一个 if 语句，表示如果 previousValue > currentValue（下降）然后跳回“0”。但是，它只是行不通。也许我在这里做错了什么？

一点帮助将不胜感激！谢谢！这是代码，因此您可以更好地了解我想要实现的目标。

我在实现 int previousValue 下面声明了 INT 值；整数当前值；

然后在viewDidLoad中设置一个起点previousValue = 0; 当前值 = 0;

```
if (meterResults > 0.0) {
    NSLog(@"0");
    self.view.backgroundColor = [UIColor redColor];
    previousValue = currentValue;
    currentValue = 0;
}

if (meterResults > 0.1){
    NSLog(@"1");
    self.view.backgroundColor = [UIColor yellowColor];
    previousValue = currentValue;
    currentValue = 1;
}

if (meterResults > 0.2){
    NSLog(@"2");
    self.view.backgroundColor = [UIColor blueColor];
    previousValue = currentValue;
    currentValue = 2;
}

if (meterResults > 0.3){
    NSLog(@"3");
    self.view.backgroundColor = [UIColor greenColor];
    previousValue = currentValue;
    currentValue = 3;
}

if (meterResults > 0.4){
    NSLog(@"4");
    self.view.backgroundColor = [UIColor purpleColor];
    previousValue = currentValue;
    currentValue = 4;
}

if (previousValue > currentValue) {

    NSLog(@"Hello, don't go in reverse order go straight to Red");

    self.view.backgroundColor = [UIColor redColor];

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-31T06:31:48.283

Aroth 的回答是对的，但是在你接受建议之后，你仍然会遇到问题。由于您正在对模拟信号进行采样，因此连续测量将大致连续。如果您将当前值更改为零，则在您的代码中读取的下一个值将再次增加，但事实并非如此。

不要对当前值撒谎以使 UI 按您的意愿运行。相反，明确地对您关心的事物建模，即瞬时一阶导数。那会是这样的：

```
currentValue = (int)floor(meterResults * 10.0);
NSInteger currentFirstDerivative = currentValue - previousValue;
// since the timer repeats at a fixed interval, this difference is like a 1st derivative

if (currentFirstDerivative < 0) {
    // it's going down, make the view red
} else {
    switch (currentValue) {
    case 1:
        // change colors here
        break;
    case 2:
    // and so on
}

// now, for next time
previousValue = currentValue; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-31T06:18:23.300

问题是在你的`if`陈述中，你正在做：

```
previousValue = currentValue; 
```

所以当然，你最后的比较永远不会评估，`true`因为它们在那个时候总是相等的。

我建议做类似的事情：

```
if (previousValue > currentValue) {
    currentValue = 0;
} 
```

...在代码的*开头*。

# c# - DevExpress MetroUI

> ID：14619551
> 
> 赞同：1
> 
> 时间：2013-01-31T06:13:19.977
> 
> 标签：c#, winforms, devexpress

实际上我使用的是 DevExpress 12.2.4 版本。MetroUI 怎么了？现在我们找不到

```
using DevExpress.XtraBars.Docking2010.Views.MetroUI; 
```

实际上，我们已经在 MetroUI 中设计了我们的应用程序。请帮忙

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-31T06:46:56.387

DevExpress v12.2 的重大更改列表：

**[BC1766](http://www.devexpress.com/Support/WhatsNew/DXperience/files/12.2.2.bc.xml#BC1766)**： **Metro**术语已在代码命名空间和类名中**替换为WindowsUI 。**

由于已经提供了适用于 Windows 8 的新品牌指南，因此不再建议使用名称“Metro”。

此更改影响以下类：

```
MetroUIView
MetroUIViewInfo
MetroUIViewHitInfo
MetroUIViewPainter
MetroUIViewController
MetroUIViewCommand 
```

此更改影响了以下命名空间：

```
DevExpress.XtraBars.Docking2010.Views.MetroUI
DevExpress.XtraBars.Docking2010.Dragging.MetroUI 
```

* * *

换句话说：WindowsUI(v12.2) 是 MetroUI(v12.1) 的下一个版本 - 您只需将`MetroUI`代码中的`WindowsUI`. 您可以使用DXperience 安装中提供的[Project Converter 工具](http://documentation.devexpress.com/#ProjectConverter/CustomDocument2529)轻松地自动执行此操作

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-31T06:42:17.597

从我刚刚在他们的论坛中看到的情况来看，他们正在让 MetroUI 过时，取而代之的是 WindowsUI。我对这些没有经验，但我可以猜到 3 种可能的解决方案：

*   继续使用旧版本
*   更新到[`WindowsUI`](http://documentation.devexpress.com/#WindowsForms/DevExpressXtraBarsDocking2010ViewsWindowsUI)，可能只是重命名`MetroUI`，所以你只需要在你的代码中搜索`MetroUI`/`WindowsUI`替换
*   如果`WindowsUI`明显不同`MetroUI`- 修改您的代码以使用新控件。

# facebook - 如何获取分享我帖子的用户 ID（在页面中）

> ID：14619552
> 
> 赞同：2
> 
> 时间：2013-01-31T06:13:26.607
> 
> 标签：facebook, share, facebook-fql, userid

使用 fql，我想获取分享我帖子的用户 ID。我可以在哪个表中检索该信息。我查看了评论、点赞和链接表，但找不到任何关于“分享”的字眼

# silverlight - windows phone 中的应用栏图标按钮圈有替代方案吗？

> ID：14619566
> 
> 赞同：2
> 
> 时间：2013-01-31T06:15:21.770
> 
> 标签：silverlight, windows-phone-7, windows-phone-8, windows-phone

我发现所有的应用栏图标按钮都有圆形图层，我知道它只是由应用栏绘制的；但我的问题是，我们是否可以制作任何其他形状，例如正方形，或者是否有任何改变可以做到这一点。

![在此处输入图像描述](../Images/c946569237a5f7688f528ea78b133101.png)

我们可以在上图中绘制任何其他形状而不是那个圆圈吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-31T06:47:50.250

不，除非你自己滚动，否则你会被圈子`ApplicationBar`困住。

Charles Petzold 的[Programming Windows Phone 7](http://blogs.msdn.com/b/microsoft_press/archive/2010/10/28/free-ebook-programming-windows-phone-7-by-charles-petzold.aspx)在第 232-233 页暗示了这一点：

> 实际图像应该是白色的，并且在位图中间占据一个 26 像素的正方形区域。

虽然 中的图标`C:\Program Files (x86)\Microsoft SDKs\Windows Phone\v7.1\Icons\`周围有圆圈，但圆圈被“26 像素方形区域”排除在外，并由`ApplicationBar`. 因此，圆圈无法更改。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-31T06:40:35.937

我想如果你改变这个目录中的这个图标

```
C:\Program Files (x86)\Microsoft SDKs\Windows Phone\v7.1\Icons\light\appbar.basecircle.rest.png
C:\Program Files (x86)\Microsoft SDKs\Windows Phone\v7.1\Icons\dark\appbar.basecircle.rest.png 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-31T06:49:48.250

我看到人们在那里使用常规的矩形按钮，但那是因为他们没有使用基本的应用栏控件。应用程序栏不是由应用程序呈现的，除了指定图标和标签之外，您无法控制按钮。您可以使用这些常规的矩形按钮，但我不推荐它，除非您只有 1..2 个按钮，它们总是适合屏幕并且您不需要使用菜单项。

# sql - SQL QUERY 以特定顺序选择月份，例如从 mar 到 feb、apr 到 mar、nov 到 oct

> ID：14619568
> 
> 赞同：0
> 
> 时间：2013-01-31T06:15:26.803
> 
> 标签：sql

我必须编写一个查询以按特定顺序选择月份，例如从 3 月到 2 月，或从 2 月到 1 月。我不能使用存储过程。我必须使用 SELECT 并在数据库中存储月份的名称，如“一月”、“二月”、“三月”等......

在获取月份时，我只需要前 3 个字符。

结果应该是

```
jan 1
feb 2
mar 3
apr 4
may 5
jun 6
jul 7
aug 8
sep 9
oct 10
nov 11
dec 12 
```

使用此查询后

```
Select distinct upper(convert(varchar(3),datename(MONTH,InvoiceDate))) as monthName,upper(convert(nvarchar,datepart(mm,InvoiceDate))) as 
    mon  
from OpenInvoiceDetails 
order by mon 
```

我明白了

```
jan 1
oct 10
nov 11
dec 12
feb 2
mar 3
apr 4
may 5
jun 6
jul 7
aug 8
sep 9 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-31T06:30:02.297

我在这里做了很多假设，但是这样的事情会起作用：

```
 Create Table Months
(
    DateColumn varchar(20)
)

INSERT INTO Months

SELECT 'January' 
UNION
SELECT 'February'
UNION
SELECT 'March'
UNION
SELECT 'April'
UNION
SELECT'May' 
UNION
SELECT 'June' 
UNION
SELECT 'July' 
UNION
SELECT 'August'
UNION
SELECT 'September'
UNION
 SELECT'October' 
UNION
SELECT 'November'
UNION
SELECT 'December'

SELECT  DateColumn ,( CASE DateColumn
            WHEN 'January' THEN 1
            WHEN 'February' THEN 2
            WHEN 'March' THEN 3
            WHEN 'April' THEN 4
            WHEN 'May' THEN 5
            WHEN 'June' THEN 6
            WHEN 'July' THEN 7
            WHEN 'August' THEN 8
            WHEN 'September' THEN 9
            WHEN 'October' THEN 10
            WHEN 'November' THEN 11
            WHEN 'December' THEN 12
          END ) as [Month]
From Months
Order by Month 
```

给你这个：

```
January 1
February    2
March   3
April   4
May 5
June    6
July    7
August  8
September   9
October 10
November    11
December    12 
```

按月排序：

```
December    12
November    11
October 10
September   9
August  8
July    7
June    6
May 5
April   4
March   3
February    2
January 1 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-31T06:34:21.773

这不会是最佳的，但它应该解决无效的列名。

```
Select distinct upper(convert(varchar(3),datename(MONTH,InvoiceDate))) as monthName
,upper(convert(nvarchar,datepart(mm,InvoiceDate))) as mon 
from 
 OpenInvoiceDetails 
order by Len(convert(nvarchar,datepart(mm,InvoiceDate))),
convert(nvarchar,datepart(mm,InvoiceDate)) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-31T06:37:03.497

一种选择是更改您的`ORDER BY`：

```
ORDER BY Cast(mon as int) 
```

祝你好运。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-31T06:37:42.547

尝试使用此查询

```
 Select distinct
    upper(convert(varchar(3),datename(MONTH,daterecieved))) as monthName,
    datepart(mm,daterecieved)  as mon 
    from Donations 
    order by mon 
```

和

```
 Select distinct
    upper(convert(varchar(3),datename(MONTH,InvoiceDate))) as monthName,
    Cast(upper(convert(nvarchar,datepart(mm,InvoiceDate)))  as int) as mon 
    from OpenInvoiceDetails 
    order by Cast(upper(convert(nvarchar,datepart(mm,daterecieved)))  as int) 
```

# java - 对象不支持此属性或方法 -- 在 IE9 中调用 Applet

> ID：14619570
> 
> 赞同：2
> 
> 时间：2013-01-31T06:15:37.223
> 
> 标签：java, javascript, html, internet-explorer, applet

```
cmd > java -version
Java Version : "1.7.0_11" (Updated)
Java(TM) SE Runtime Environment (build 1.7.0_11-b21)
Java HotSpot(TM) Client VM (build 23.6-b04, mixed mode, sharing) 
```

浏览器 = IE7、IE8、IE9

（它在 Google Chrome 和 FF 中完美运行，但我需要它使用 Internet Explorer 来实现公司想要的。）

我目前正在做一些事情，但我没有找到解决问题的方法：

```
Object doesn't support this property or method 
```

我已经在互联网上搜索过，并尝试了所有可能的方法来修复它，比如降低 IE 安全性、自定义安全级别、重新安装 Java 等，但仍然没有运气。

```
 <html>
        <head>
            <title>Clipboard image demo</title>

            <script type="text/javascript">
                function loadApplet() {
                    // Deferred load to display text first
                    document.getElementById("applet").innerHTML = '<object id="paste-image" classid="java:PasteImageApplet.class" type="application/x-java-applet" archive="tst.jar" width="1" height="1" ></object>';
                }
                function getImage() {
                    obj = document.getElementById('paste-image');
                    postTo = "Http://Path/To/File/shoot.php"; // Change this to your URL

                    image = obj.getClipboardImageURL(postTo);

                    if (image) {
                        url = "shots/" + image;
                        document.getElementById("target").src = url;
                        document.getElementById("url").value = document.getElementById("target").src; // to get full path, hack, I know ;)
                        document.getElementById("container").style.display = "";
                    }
                }
            </script>
            <body onLoad="loadApplet();">
                <p>
                    <div id="applet"></div>
                    <input type="button" value="Paste it!" onClick="getImage();">
                </p>
                <div id="container" style="display: none;">
                    <input type="text" id="url" style="width: 700px;"><br />
                    <iframe id="target" width="700" height="400"></iframe>
                </div>
        </body>
    </html> 
```

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-04-08T19:07:05.667

当我遇到这个错误时，我建议检查浏览器是否启用了 java 插件。有时，我必须在 Java 控制台中切换此开关。将其关闭，然后再打开。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-09-02T20:14:40.707

我可以通过进入 Java 控制面板并选择高级选项卡来解决此问题。从这里我基本上允许一切并确保标记了“不检查”。我厌倦了 Java 的新版本。

# c# - 如何在不存储一副牌的情况下实现经销商类？

> ID：14619574
> 
> 赞同：6
> 
> 时间：2013-01-31T06:15:45.543
> 
> 标签：c#, 语言无关的, c#, algorithm, math, language-agnostic, permutation

*   **问题**

    即使只有 52 张卡片，`permutationIndex`我在*解释*部分中描述的地方，也将是一个巨大的数字；它是其中之一的数字`52!`，需要 29 个字节来存储。

    因此**我不知道一个简单的方法**来计算`permutationIndex`一个巨大的范围，并以最小的成本存储索引，或者它也可以计算出来。我在想这个问题的解决方案是三种算法：

    1.  一种计算正确`permutationIndex`实现方法**的算法`Dealing`**

    2.  一种计算正确`permutationIndex`实现方法**的算法`Collect`**

    3.  **一种以最小成本**存储（或计算）的算法`permutationIndex`

***   **解释**

    我最初尝试实现一个范围从使用排列到使用排列的*整数句柄生成器*。`int.MinVale``int.MaxValue`

    因为这个范围真的很大，所以我从实现***一个`Dealer`有 52 张卡片的类开始，它并没有真正存储***像 hashset 或数组这样的卡片组，甚至**不想要随机**的（除了初始）。

    对于给定的序数范围，我认为全排列之一的每个序列都有一个索引，并将其命名为`permutationIndex`。我使用索引来记住它是哪种排列，而不是真正存储序列。顺序是一副牌的可能顺序之一。

    这是动画图形中的仿真示例，以显示我的想法。 ![在此处输入图像描述](../Images/70d68005629293385af6fc8818fe54be.png)

    每次我发牌时，我都会更改`permutationIndex`和`dealt`（发牌数），这样我就知道哪些牌是已发牌的，哪些牌仍在手中。当我把一张发牌收回来时，我会知道卡号，并把它放在上面，它也成为下次发牌的牌。在动画中，`colleted`是*卡号*。** 

 *** * *

欲了解更多信息，如下所示。

*   代码说明

    仅三个 3的概念样本`Dealer`类如下。代码是用[c#](/questions/tagged/c%23 "显示标记为“c#”的问题")编写的，我也在考虑任何与[语言无关的](/questions/tagged/language-agnostic "显示标记为“与语言无关”的问题")解决方案。

    以下是示例代码的一些说明

    > *   使用该方法`Dealing()`，我们得到了作为*已*发牌的牌号。它总是返回最***右边***的数字（与数组相关），然后通过改变`permutationIndex`.
    >     
    >     
    > *   该方法`Collect(int)`用于收集并放回发牌的牌组。它也会`permutationIndex`根据返回给经销商的牌号而改变*。*
    >     
    >     
    > *   整数`dealt`表示我们发了多少张牌；从最***左边***到存储的计数`dealt`是发牌。有了`permutationIndex`，我们就知道了卡片的顺序。
    >     
    >     
    > *   示例代码中的`int[,]`数组未使用，仅用于帮助想象排列。*switch*语句被认为是用计算`permutationIndex`.
    >     
    >     
    > *   这与[快速排列->数字->排列映射算法](https://stackoverflow.com/questions/1506078/fast-permutation-number-permutation-mapping-algorithms/1506337#1506337)`permutationIndex`的答案中描述的相同

*   示例代码

    ```
    public static class Dealer {
        public static void Collect(int number) {
            if(1>dealt)
                throw new IndexOutOfRangeException();

            switch(permutationIndex) {
                case 5:
                case 0:
                    switch(number) {
                        case 3:
                            break;

                        case 2:
                            permutationIndex=1;
                            break;

                        case 1:
                            permutationIndex=4;
                            break;
                    }

                    break;

                case 4:
                case 3:
                    switch(number) {
                        case 3:
                            permutationIndex=5;
                            break;

                        case 2:
                            permutationIndex=2;
                            break;

                        case 1:
                            break;
                    }

                    break;

                case 2:
                case 1:
                    switch(number) {
                        case 3:
                            permutationIndex=0;
                            break;

                        case 2:
                            break;

                        case 1:
                            permutationIndex=3;
                            break;
                    }

                    break;
            }

            --dealt;
        }

        public static int Dealing() {
            if(dealt>2)
                throw new IndexOutOfRangeException();

            var number=0;

            switch(permutationIndex) {
                case 5:
                    permutationIndex=3;
                    number=3;
                    break;

                case 4:
                    permutationIndex=0;
                    number=1;
                    break;

                case 3:
                    permutationIndex=1;
                    number=1;
                    break;

                case 2:
                    permutationIndex=4;
                    number=2;
                    break;

                case 1:
                    permutationIndex=5;
                    number=2;
                    break;

                case 0:
                    permutationIndex=2;
                    number=3;
                    break;
            }

            ++dealt;
            return number;
        }

        static int[,] sample=
            new[,] {
                { 1, 2, 3 }, // 0
                { 1, 3, 2 }, // 1
                { 3, 1, 2 }, // 2
                { 3, 2, 1 }, // 3
                { 2, 3, 1 }, // 4
                { 2, 1, 3 }, // 5
            };

        static int permutationIndex;
        static int dealt;
    } 
    ```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T18:36:04.910

不完全是你在这里想要完成的，但如果你想从一副牌的随机顺序中进行交易，你可以使用洗牌算法。典型的 shuffle 算法是[Fisher-Yates](http://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle)。洗牌算法将创建一个以随机顺序（13、5、7、18、22、...等）列出卡号的数组。要处理，您从数组中的第一个元素开始并继续前进。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-09T15:53:43.350

虽然我在理解你在这里真正想要完成的事情时遇到了一点问题，但我想一个[互质数](http://en.wikipedia.org/wiki/Coprime_integers)会生成一堆排列数；那就是：如果你不太关心分布。您可以为此使用[欧几里得算法](http://en.wikipedia.org/wiki/Euclidean_algorithm)。

代数（集合论）指出，您可以简单地使用 x = (x + coprime) % set.Length 来获取集合中的所有元素。我想每个互质数都是您描述的排列数。

也就是说，当使用生成的互质数作为“随机数生成器”时，我不确定你会得到什么分布；我想某些分布会比其他分布更频繁地发生，并且很多分布将从生成的数字中排除，原因很简单，生成器会在一个环中选择数字。我在这里有点创意，所以也许它符合您的需求，尽管它可能不是您正在寻找的答案。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-31T06:50:58.153

如果我的理解正确，下面的代码实现了这一点：

```
public class Dealer {
    public int Dealing() {
        var number=
            _freeCards.Count>0
                ?_freeCards.Dequeue()
                :_lastNumber++;

        _dealtCards.Add(number);
        return number;
    }

    public void Collect(int number) {
        if(!_dealtCards.Remove(number))
            throw new ArgumentException("Card is not in use", "number");

        _freeCards.Enqueue(number);
    }

    readonly HashSet<int> _dealtCards=new HashSet<int>();
    readonly Queue<int> _freeCards=new Queue<int>(); // "Pool" of free cards.
    int _lastNumber;
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-08T19:33:57.817

解决此问题的一种方法是使用（伪）随机数生成器（如[Mersenne Twister](http://www.math.sci.hiroshima-u.ac.jp/~m-mat/MT/emt.html)），然后仅存储每笔交易的种子数。由于您每次都从同一个种子中获得相同的随机数序列，因此它可以代表整个发牌（使用从该种子生成的随机数来驱动发牌）。

*[编辑...]*

交易的一些伪代码：

```
while (#cards < cardsNeed)
    card = getCard(random())
    if (alreadyHaveThisCard(card))
        continue
    [do something with the card...] 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-03-06T19:14:19.593

我真的不明白你的问题，但我这样解释：你想计算`permutationIndex`52 张牌的序列。给定的排列索引一对一地映射到一系列卡片。因为有52个！52 卡的可能排列，您至少需要 226 位或 29 字节。所以，你的`permutationIndex`会已经*很大*了！

由于您的排列索引已经有 29 个字节长，因此一些额外的字节不会产生太大影响，并使解决方案更容易。

* * *

例如，您可以将拉丁字母的每个字母映射到一张卡片。鉴于我们有 26 个小写字母和 26 个大写字母，我们有*52*个字母可用于表示 52 张卡片。

```
  abcdefghijklm nopqrstuvwxyz
♥ A234567890JQK ♦ A234567890JQK

  ABCDEFGHIJKLM NOPQRSTUVWXYZ
♣ A234567890JQK ♠ A234567890JQK

```

现在你可以制作一个由 52 个字母组成的字符串。每个唯一的字母串代表 52 张卡片的唯一排列。有了这个，你可以：

*   生成随机的字母串以获得随机排列。
*   只需查看给定位置的字母，即可立即找出卡片在哪里。
*   轻松洗牌、重新排序、插入和取出卡片。

* * *

字符串中的每个字符（在 C# 中）表示为 16 位 Unicode 值，但对于 52 位卡，您只需要 6 位。因此，您有更多选择来选择表示：

1.  832 位或 104 字节：由 52 个 Unicode 字符组成的字符串
2.  416 位或 52 字节：52 字节数组
3.  320 位或 40 字节：包含 10 个 32 位整数的数组，可容纳 52 * 6 位
4.  312 位，或 39 字节：39 字节数组，可容纳 52 * 6 位
5.  226 位或 29 字节：绝对下限

表示 3 和 4 需要相当巧妙的位摆弄才能使特定卡的 6 位脱离序列。我会推荐表示 2，它保留了上面提到的大部分优点。

* * *

当您使用二进制表示而不是字符串表示时，您可以为每张卡创建一个具有唯一值的枚举，并使用它：

```
public enum Cards : byte
{
    HeartsAce
    HeartsTwo
    // ...
    HeartsTen
    HeartsJack
    HeartsQueen
    HeartsKing
    DiamondsAce
    DiamondsTwo
    // ...
    SpadesTen
    SpadesJack
    SpadesQueen
    SpadesKing
} 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-02-07T19:56:27.443

我也很难在这里看到全貌，但是您可以将每个排列转换为 base(52)，用一个字符表示每张卡片，并用一个字符串表示每个排列。

所以黑桃可能是`1-9 (ace - 9)`, `0ABC (10, J Q K)`, 然后`DEFG`... 开始红心等等。

因此，一副 3 张牌，2 黑桃 (2)、3 心 (F) 和 2 钻石（比如 e），将具有以下排列数：

```
2Fe
2eF
F2e
Fe2
eF2
e2F 
```

您可以通过将基数 52 转换为基数 10 来将这些来回转换为 int/long/bigint。

[下面介绍bases之间的转换](http://www-rohan.sdsu.edu/~ituba/math303s08/mathideas/mmi10_04_03.pdf)。

所以 e2F 将`F + 2*52 + e * 52^2`是`16 + 2*52 + 43*52*52 = 116392`

所以 116392 将是你的排列数。

（顺便说一句。我猜它 2 钻石是 'e' 和 43，你可以数一数，看看它会是什么）

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2013-03-07T22:34:14.410

在这个非常古老的帖子中，您有工作 - 并且非常有效的 c# 示例，用于***Order n 的第 k 个排列***（又名 PermutationIndex）：

*   [http://msdn.microsoft.com/en-us/library/Aa302371.aspx#permutat_topic3](http://msdn.microsoft.com/en-us/library/Aa302371.aspx#permutat_topic3)

对于那些对组合主题感兴趣的人：

*   [http://msdn.microsoft.com/en-us/magazine/cc163957.aspx](http://msdn.microsoft.com/en-us/magazine/cc163957.aspx)
*   [http://msdn.microsoft.com/en-us/library/Aa289166(VS.71).aspx](http://msdn.microsoft.com/en-us/library/Aa289166(VS.71).aspx)

* * *

我建议您在进入具体实施之前通读一遍。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2013-03-07T11:51:07.927

像其他人一样，我不确定你想做什么，但如果你想尽可能多地节省已处理卡片的通信/存储空间，我会执行以下操作：

**我会使用带有标志属性的枚举将发牌存储在单个 Long 上，这样我就可以使用按位比较来查看发了哪张牌。**

因为每张卡片都是一个单独的“标志”，其唯一编号设置为 2 的指数，因此它们永远不会发生冲突。

总的来说，即使你处理了所有的牌，存储空间仍然是 8 个字节。您需要的任何额外数据都可以在最后进行。

请参阅下面的工作示例。

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace ConsoleApplication12
{
    class Program
    {
        static void Main(string[] args)
        {
            // Because each card is unique you could use Flag attributed Enum see the enum below and set each item a unique value I used 2 to the power of 52
            Cards cardsdealt = Cards.Clubs_10 | Cards.Clubs_2 | Cards.Diamonds_3;

            if ((cardsdealt & Cards.Clubs_10) == Cards.Clubs_10)
            {
                Console.WriteLine("Card.Clubs_10 was dealt");
            }

            // Storage would always be 8 bytes for the long data type
        }

        [Flags]
        public enum Cards : long
        {
            Spades_Ace = 1,
            Spades_2 = 2,
            Spades_3 = 4,
            Spades_4 = 8,
            Spades_5 = 16,
            Spades_6 = 32,
            Spades_7 = 64,
            Spades_8 = 128,
            Spades_9 = 256,
            Spades_10 = 512,
            Spades_Jack = 1024,
            Spades_Queen = 2048,
            Spades_King = 4096,
            Hearts_Ace = 8192,
            Hearts_2 = 16384,
            Hearts_3 = 32768,
            Hearts_4 = 65536,
            Hearts_5 = 131072,
            Hearts_6 = 262144,
            Hearts_7 = 524288,
            Hearts_8 = 1048576,
            Hearts_9 = 2097152,
            Hearts_10 = 4194304,
            Hearts_Jack = 8388608,
            Hearts_Queen = 16777216,
            Hearts_King = 33554432,
            Diamonds_Ace = 67108864,
            Diamonds_2 = 134217728,
            Diamonds_3 = 268435456,
            Diamonds_4 = 536870912,
            Diamonds_5 = 1073741824,
            Diamonds_6 = 2147483648,
            Diamonds_7 = 4294967296,
            Diamonds_8 = 8589934592,
            Diamonds_9 = 17179869184,
            Diamonds_10 = 34359738368,
            Diamonds_Jack = 68719476736,
            Diamonds_Queen = 137438953472,
            Diamonds_King = 274877906944,
            Clubs_Ace = 549755813888,
            Clubs_2 = 1099511627776,
            Clubs_3 = 2199023255552,
            Clubs_4 = 4398046511104,
            Clubs_5 = 8796093022208,
            Clubs_6 = 17592186044416,
            Clubs_7 = 35184372088832,
            Clubs_8 = 70368744177664,
            Clubs_9 = 140737488355328,
            Clubs_10 = 281474976710656,
            Clubs_Jack = 562949953421312,
            Clubs_Queen = 1125899906842620,
            Clubs_King = 2251799813685250,

        }
    }
} 
```**

# node.js - nodejs 中使用的默认 CA 证书在哪里？

> ID：14619576
> 
> 赞同：3
> 
> 时间：2013-01-31T06:15:53.933
> 
> 标签：node.js, openssl

我正在连接一个服务器，该服务器的证书由我自己的 CA 签名，该 ca 的证书已安装到系统的钥匙串中。

连接`openssl s_client -connect some.where`说`Verify return code: 0 (ok)`

但我无法连接 nodejs 的 tls/https 模块，该模块失败了 `Error: SELF_SIGNED_CERT_IN_CHAIN`

但连接到普通服务器（即 google.com:443）工作正常。

似乎nodejs的openssl与系统的openssl没有共享相同的钥匙串。

但我找不到它在哪里。我尝试过，`SSL_CERT_DIR`但似乎没有工作。

顺便说一句：我可以通过设置绕过服务器验证`NODE_TLS_REJECT_UNAUTHORIZED=0`，但这还不够；）

我使用 OSX 10.8.3 和 OpenSSL 0.9.8r，节点 v0.9.8

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2019-05-28T12:21:16.893

您可以让节点使用系统的 OpenSSL 证书。这是通过以下方式启动节点来完成的：

```
node --use-openssl-ca 
```

*   有关更多信息，请参阅[文档](https://nodejs.org/docs/latest-v10.x/api/cli.html#cli_use_bundled_ca_use_openssl_ca)。
*   请参阅有关如何为 Debian 和 Ubuntu 扩展系统证书的[答案](https://askubuntu.com/questions/73287/how-do-i-install-a-root-certificate)

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2016-01-05T20:15:24.080

默认根证书是静态的并编译到节点二进制文件中。

[https://github.com/nodejs/node/blob/v4.2.0/src/node_root_certs.h](https://github.com/nodejs/node/blob/v4.2.0/src/node_root_certs.h)

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-01-31T22:46:27.140

如果您正在使用[tls 模块](http://nodejs.org/api/tls.html)（看起来像），`tls.connect`您可以在选项中传递一个`ca`参数，该参数是您想要信任的字符串数组或证书缓冲区。

# android - 接收短信

> ID：14619582
> 
> 赞同：3
> 
> 时间：2013-01-31T06:16:23.277
> 
> 标签：android

我正在尝试从我的应用程序接收短信。我做了一个 ReceiveSms 类，它扩展了 broadCastReceiver 类。我也覆盖 onReceive() 。我添加了权限并在清单中注册了接收者。但是当我使用 DDMS 发送短信时，我的 onRecieve 没有被调用。为什么 ？谢谢是提前。这是我的清单和广播接收器。

```
import android.content.BroadcastReceiver;
import android.content.Context;
import android.content.Intent;
import android.util.Log;
import android.widget.Toast;

public class ReceiveSms extends BroadcastReceiver{
    @Override
    public void onReceive(Context context, Intent intent) {
        Toast.makeText(context, "One Message Received", Toast.LENGTH_LONG).show();
    }

} 
```

清单.xml

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.blogspot.uappmarket.sendingsms"
    android:versionCode="1"
    android:versionName="1.0" >

    <uses-sdk
        android:minSdkVersion="6"
        android:targetSdkVersion="10" />

    <uses-permission android:name="android.permission.SEND_SMS" />
    <uses-permission android:name="android.permission.READ_SMS" />

    <application
        android:allowBackup="true"
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name"
        android:theme="@style/AppTheme" >
        <activity
            android:name="com.blogspot.uappmarket.sendingsms.SendSms"
            android:label="@string/app_name" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>

        <receiver android:name=".ReceiveSms" >
            <intent-filter>
                <action android:name="android.provider.Telephony.SMS_RECEIVED" />
            </intent-filter>
        </receiver>
    </application>

</manifest> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-31T06:18:53.037

您需要在清单中添加[android.permission.RECEIVE_SMS](http://developer.android.com/reference/android/Manifest.permission.html) uses-permission 以接收短信：

```
<uses-permission android:name="android.permission.RECEIVE_SMS" /> 
```

# meteor - 流星无密码注册

> ID：14619583
> 
> 赞同：0
> 
> 时间：2013-01-31T06:16:31.570
> 
> 标签：meteor

使用 Meteor，我可以将 Accounts.ui.config 配置为没有电子邮件和密码注册吗？我已将其配置为使用第三方服务。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-31T06:50:07.077

`accounts-password`通过在您的项目目录中运行来删除

```
meteor remove accounts-password 
```

它应该自动调整自己以停止接受电子邮件/密码登录和注册。

# android - 如何在 android 中使用 Db4o 创建数据库？

> ID：14619588
> 
> 赞同：2
> 
> 时间：2013-01-31T06:16:46.037
> 
> 标签：android, database, db4o

我正在开发一个应用程序，现在我必须创建数据库以获得更好的用户体验。然后我开始了解 DB4o，它是创建数据库的工具，比 SQLite、MySql 等其他工具快很多倍，但问题是我找不到任何解释 DB4o 以及如何使用 Db4o 创建数据库的示例。如果有人使用过它，请发布示例或给我发送链接。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-02-03T05:32:15.267

要将对象存储在数据库中，请使用

```
db().store(exercise); 
```

要从数据库中检索所有记录，请使用

```
db().query(Object); 
```

要从数据库中检索特定记录，请使用

```
db().queryByExample(Object); 
```

如果您需要示例，请使用 db4o尝试我的[博客示例。](http://v4all123.blogspot.com/2013/12/using-db4o-in-android.html)在此示例中，简单的学生对象将使用`db4o`. 学生`object`将包含学生姓名、注册号和他的年龄。

谢谢你。

# xmpp - 无法让 jabber 客户端连接到在 localhost 上运行的 ejabberd

> ID：14619592
> 
> 赞同：1
> 
> 时间：2013-01-31T06:17:04.913
> 
> 标签：xmpp, ejabberd

我安装`ejabberd`在我的 linux mint kde 上。它安装正确，我可以使用浏览器中的管理界面`http://localhost:5280/admin/`添加用户。在节点菜单中，它向我显示了一个运行为`ejabberd@localhost`. 有一个名为`inspiron-n4050`它自己创建的虚拟主机。现在我从管理界面注册了 2 个用户，`lovesh@inspiron-n4050`并且`test@inspiron-n4050`. 现在，我从我的 IM 客户端（Kopete）创建了 2 个带有 jabberIds`lovesh@inspiron-n4050`和`test@inspiron-n4050`. 但是当我尝试连接其中任何一个时，它会显示错误`Connection problem with jabber server inspiron-n4050\. There was a connection error: Remote closed connection`

`ejabberd`正在运行，因为在我检查时在外壳上`ejabberdctl status`说

```
The node ejabberd@localhost is started with status: started
ejabberd 2.1.11 is running in that node 
```

怎么了？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-01T08:41:00.543

重新安装 ejabberd 解决了问题

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-31T06:29:09.593

我在 pidgin xmpp 中使用了这个步骤。您可以在 kopete 上查看类似的选项。

1.  将代理选项更改为无代理
2.  在连接安全中，如果可用，请使用加密
3.  选中允许未加密流上的纯文本。

完成此步骤后，我可以通过 Intranet 在两个 pidgin 客户端中聊天。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-04-07T21:45:55.203

我注意到用户名“主机”和实际主机名之间存在区别： [https ://www.linode.com/docs/applications/messaging/instant-messaging-services-with-ejabberd-on-ubuntu-12-04 -精确的穿山甲](https://www.linode.com/docs/applications/messaging/instant-messaging-services-with-ejabberd-on-ubuntu-12-04-precise-pangolin)

我必须使用这些设置才能让它工作：用户名：用户名@localhost 主机名：www.theactualserver.com 端口：5222

# java - 在源代码中禁用 wifi

> ID：14619598
> 
> 赞同：0
> 
> 时间：2013-01-31T06:17:36.277
> 
> 标签：java, android

在 android 源代码 'WifiEnabler.java' 类中，我想在电池电压低于 3.4 时禁用 wifi。我得到了电池电压，但我无法禁用切换按钮。这个怎么做？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-31T06:36:18.860

您没有提到使用 WifiEnabler.java 启用 wifi 的方法，但是对于禁用的 wifi，您可以使用

```
WifiManager wifiManager = (WifiManager)this.context.getSystemService(Context.WIFI_SERVICE);
wifiManager.setWifiEnabled(false); 
```

__

你提到的源代码是这样的吗？[http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android-apps/2.1_r2/com/android/settings/wifi/WifiEnabler.java](http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android-apps/2.1_r2/com/android/settings/wifi/WifiEnabler.java)

然后你可以打电话给

```
setWifiEnabled(false); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-31T06:43:26.527

首先添加：

```
 <uses-permission android:name="android.permission.ACCESS_WIFI_STATE"></uses-permission> 
   <uses-permission android:name="android.permission.CHANGE_WIFI_STATE"></uses-permission> 
```

到清单文件。

[然后，您可以使用WifiManager](http://developer.android.com/reference/android/net/wifi/WifiManager.html)类启用/禁用 WiFi ，如下所示：

```
 WifiManager wm = (WifiManager) getSystemService(WIFI_SERVICE); 

    if (wm.isWifiEnabled()) { 
       wm.setWifiEnabled(false);
    }
    else{ 
       wm.setWifiEnabled(true); 
    } 
```

# php - 如何从数据库中获取和比较相关帖子的时间？

> ID：14619607
> 
> 赞同：2
> 
> 时间：2013-01-31T06:18:27.797
> 
> 标签：php, mysql

我使用 mysql 作为数据库并将时间保存为表中相关帖子的时间戳，现在我想获取最近发布的帖子。我如何比较和获取最近发布的帖子？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-31T06:22:25.167

您可以按列的降序获取行（time_stamp）。前任：

```
SELECT * FROM Table_Name ORDER BY col_time_stamp DESC; 
```

col_time_stamp : 是列

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-31T06:21:38.773

```
select top 1 * from posts order by timestamp desc 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-31T07:27:59.467

试试这个

```
SELECT * FROM Table_Name ORDER BY col_time_stamp DESC LIMIT 0; 
```

# eclipse-plugin - Eclipse插件开发——扩展ADT，如何让插件将现有项目导入为库

> ID：14619610
> 
> 赞同：1
> 
> 时间：2013-01-31T06:18:39.943
> 
> 标签：eclipse-plugin, adt, eclipse-adt

我正在开发一个扩展 ADT （Android 开发工具）的**Eclipse 插件。**

我想知道如何使插件具有功能，安装插件时“**将现有项目导入为库**”，以及“从我的插件创建项目时，**自动引用该库**”。

据我所知，如果要将**现有项目作为库**，则必须**将其导入工作区**，然后将其导入**Properties -> Android -> Library -> "is Library"**。然后*Android工具*会将`.properties`文件更新为“ `android.library=true`”

然后在正在使用该库的项目中，**Properties -> Android -> Library**然后**添加**刚刚设置的库。然后*Android 工具*会将`.properties`文件更新为`android.library.reference.1=..\\theLibrary`.

但是如何在我的插件中自动执行此操作？如何在插件中“**将项目作为库导入**”、“**更新 android 项目属性文件”？**

我在考虑扩展点。但我不知道如何添加扩展点来导入项目和操作 Android 工具。

请帮忙。

# ios - iOS MDM 操作中的证书内容

> ID：14619613
> 
> 赞同：0
> 
> 时间：2013-01-31T06:18:52.070
> 
> 标签：ios, configuration, certificate, profile, mdm

现在我正在尝试制作一个使用 APNS 推送通知管理 iOS 设备的 MDM 服务器。

到目前为止，我浏览了许多关于配置文件、mdm 协议、APNS 推送等的 Apple 官方文档。
但是 MDM 全流程所需的一些步骤，我无法弄清楚。

*   **MDM 服务器必须用于推送通知的 APNS 证书**
    谁（供应商？或客户？）创建 CSR，谁（供应商？或客户？）通过在 Apple Push Portal 中上传 CSR 生成 APNS 证书？
    （苹果文件所说的和谷歌所说的不匹配......）

*   **必须包含在配置文件**
    中的身份证书如何创建身份证书以及在哪里？
    如何使用 iPCU 将其包含在配置文件中？

在网上搜索我可以看到很多关于这些的信息，但并不是所有的人都给出了一致的答案，所以我感到更加头晕。:-(

任何帮助/信息将不胜感激。
谢谢.. ：-）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-31T12:50:43.523

我为您准备了一些基本步骤来配置推送通知，如下所示：

1.  访问 Developer.apple.com
2.  向会员中心查询
3.  导航到 iOS 配置门户
4.  检查应用ID是否存在
5.  创建新的应用程序 ID
6.  选择创建的应用程序（配置）
7.  启用推送通知和应用内
8.  来自苹果 MAC 用户的 CSR 与钥匙串应用程序（给予帐户信用）
9.  进入CSR并生成
10.  下载生产证书
11.  再次将此给 MAC 用户以生成 p12 文件
12.  配置进入分发
13.  创建新的分发配置文件
14.  Profile名称为“APP名称（空格）Dist”</li>

希望这会对您有所帮助。如果您有任何不清楚的地方，请随时询问。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T05:56:58.663

你不能得到太多关于这个的信息。但我会告诉你，使用 iPCU 创建配置文件。使用服务器发送这些配置文件作为响应。

为 CA 使用单独的服务器并颁发授权。

1.  您（供应商/客户）必须创建一个 APNS 证书，并且您必须在服务器中使用它来发送推送通知。

让我知道您是否找到了突破口，或者您仍然在某个地方有所突破

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-10-05T11:10:09.403

为了生成 MDM 证书，我有一些基本要点。

1.  MDM 证书用于管理注册的设备。
2.  这些策略将通过无线方式 (APNS) 起作用。
3.  Server-Clint 通信将通过 APNS 进行。

我将在下面回答您的问题。问：MDM 服务器必须使用 APNS 证书进行推送通知： 答：为了管理 iOS 设备，您需要在服务器中安装配置文件。

*   首先，您需要使用 IIS 管理器在服务器中创建 CSR。
*   生成 CSR 文件后，您需要由任何第三方供应商签名，然后您将获得 .SCSR 文件。听到供应商将使用私钥签署您的 CSR。
*   获得 .SCSR 后，您需要将文件上传到苹果推送证书站点。
*   上传 SCSR 文件后，您将获得 .PEM 文件。
*   一旦有了 .PEM 文件，就需要使用 IIS 管理器完成请求。
*   您的证书将显示在证书列表中。右键单击证书并使用密码导出。

听到客户意味着创建 CSR 的人。供应商意味着签署证书的人。

如果您不清楚，请随时提出问题。

# java - 从另一个类调用布局

> ID：14619614
> 
> 赞同：0
> 
> 时间：2013-01-31T06:18:52.533
> 
> 标签：java, android, android-layout, android-activity

在这里，我从另一个类和片段中调用了布局，如下所示

```
class example extends Activity{
      class2 btn;
      @Override
      public void onCreate(Bundle savedInstanceState) {
                 super.onCreate(savedInstanceState);
                 setContentView(R.layout.main);       
           btn.color(); 
      }
}
//Another class(class2)
public class class2 extends Activity{
    protected void color(){
      View inflatedView = getLayoutInflater().inflate(R.layout.main, null);
          LinearLayout layoutcolor=(LinearLayout) inflatedView.findViewById(R.id.linearcolor); 
     //some code
   }
} 
```

我如何在 class2 中调用布局 id，因为我可以从上面的代码泛滥错误的类示例中显示它。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-01-31T06:47:20.340

```
class example extends Activity {
    class2 btn;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);
        btn = new Class2();
        btn.color(this);
    }
}

// Another class(class2)
public class class2 {
    protected void color(Activity mActivity) {
        LinearLayout layoutcolor = (LinearLayout) mActivity.findViewById(R.id.linearcolor);
        // some code
    }
} 
```

更新：我创建了一个示例，它对我有用，只需检查您的实现。或发布完整代码。

```
package com.example.test;

import android.app.Activity;
import android.app.ListActivity;
import android.graphics.Color;
import android.os.Bundle;
import android.util.Log;
import android.view.View;
import android.widget.ArrayAdapter;
import android.widget.ListView;
import android.widget.TextView;

public class sampleMediaPlayer extends ListActivity {
    // Toast mToast;

    private TextView selection;

    class2 btn;
    private static final String[] items = { "Computer Hardware", "Featured", "Information Technology",
            "Software", "Technical"

    };

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        ArrayAdapter<String> adapter = new ArrayAdapter<String>(this, android.R.layout.simple_list_item_1,
                items);
        setListAdapter(adapter);
        btn = new class2();
        btn.color(this);

    }

    public void onListItemClick(ListView parent, View v, int position, long id) {
        selection.setText(items[position]);
    }

    // Another class(class2)
    public class class2 {
        protected void color(Activity mActivity) {
            ListView layoutcolor = (ListView) mActivity.findViewById(android.R.id.list);
            layoutcolor.setBackgroundColor(Color.GREEN);
            Log.i("NIMISH", "HEy ");
        }
    }
} 
```

# math - 计算 Omega 以提高算法效率

> ID：14619617
> 
> 赞同：0
> 
> 时间：2013-01-31T06:18:58.537
> 
> 标签：math, time-complexity, big-o

我无法理解计算算法的效率。这是我的问题之一。有人可以帮助解释使用什么方法来解决这个问题吗？这本书非常混乱，并没有花很多时间在这上面。

找到函数 n^3 和 3n^3 - 2n2 + 2 之间的适当 Ω 关系并找到常数 c 和 n0

我知道 n^3 和 3n^3 之间没有太大区别，但我不确定如何找到常数 c 和 n0；

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-11-05T01:46:14.040

函数 n ³和 3n ³ - 2n ² + 2 实际上是彼此的 Θ，这意味着它们以相同的速率增长。应该可以对每个函数进行下限。

在第一个方向，请注意

> 3n ³ - 2n ² + 2
> 
> ≥ 3n ³ - 2n ²
> 
> ≥ 3n ³ - 2n ³
> 
> = n ³

因此，如果你选择 c = 1 和 n [0] = 0，那么对于任何 n ≥ n [0]，我们得到 3n ³ - 2n ² + 2 ≥ cn ³，所以 3n ³ - 2n ² + 2 = Ω(n ³ )

我将把相反的方向作为众所周知的练习留给读者。:-)

希望这可以帮助！

# php - 路由到 .htaccess 中的另一个 codeigniter 应用程序

> ID：14619624
> 
> 赞同：1
> 
> 时间：2013-01-31T06:19:43.840
> 
> 标签：php, codeigniter, mod-rewrite

我有多个 CI 应用程序，在 CI 项目的主目录中有两个索引文件，它们指向应用程序目录（indexl.php && oglasnik.php）。[我在这里之前](https://stackoverflow.com/q/14599614/847773)已经写过一个关于这个问题的问题。

我想要做的是将去往 oglasnik 的每个请求路由到 oglasnik.php。

这是我的 .htacces 文件：

```
<IfModule mod_rewrite.c>
    RewriteEngine On
    RewriteBase /PublishWall/
    DirectoryIndex indexl.php
    RewriteCond %{REQUEST_URI} ^system.*
    RewriteRule ^(.*)$ indexl.php?/$1 [L]

    RewriteCond $1 !^(indexl\.php|oglasnik\.php|images|robots\.txt)
    RewriteCond %{REQUEST_URI} ^application.*
    RewriteRule ^(.*)$ indexl.php?/$1 [L]

    RewriteRule ^oglasnik$ oglasnik.php [L]

    </IfModule>

    <IfModule !mod_rewrite.c>
        # If we don't have mod_rewrite installed, all 404's
        # can be sent to index.php, and everything works as normal.
        # Submitted by: ElliotHaughin

    ErrorDocument 404 /index.php
</IfModule> 
php_value date.timezone "Europe/Ljubljana"
AddDefaultCharset utf-8 
```

RewriteRule ^oglasnik$ oglasnik.php [L] 这应该将 oglasnik 重写为 oglasnik.php 并且确实如此，但是当它这样做时，它直接指向 404_override 而不是默认控制器，默认控制器设置为 OK，当我输入 locahost 时它可以工作/PublishWall/oglasnik.php。

请求的重写日志：

```
127.0.0.1 - - [31/Jan/2013:07:14:48 +0100] [localhost/sid#841d38][rid#16bb100/initial] (3) [perdir C:/wamp/www/PublishWall/] strip per-dir prefix: C:/wamp/www/PublishWall/oglasnik -> oglasnik
127.0.0.1 - - [31/Jan/2013:07:14:48 +0100] [localhost/sid#841d38][rid#16bb100/initial] (3) [perdir C:/wamp/www/PublishWall/] applying pattern '^(.*)$' to uri 'oglasnik'
127.0.0.1 - - [31/Jan/2013:07:14:48 +0100] [localhost/sid#841d38][rid#16bb100/initial] (4) [perdir C:/wamp/www/PublishWall/] RewriteCond: input='/PublishWall/oglasnik' pattern='^system.*' => not-matched
127.0.0.1 - - [31/Jan/2013:07:14:48 +0100] [localhost/sid#841d38][rid#16bb100/initial] (3) [perdir C:/wamp/www/PublishWall/] strip per-dir prefix: C:/wamp/www/PublishWall/oglasnik -> oglasnik
127.0.0.1 - - [31/Jan/2013:07:14:48 +0100] [localhost/sid#841d38][rid#16bb100/initial] (3) [perdir C:/wamp/www/PublishWall/] applying pattern '^(.*)$' to uri 'oglasnik'
127.0.0.1 - - [31/Jan/2013:07:14:48 +0100] [localhost/sid#841d38][rid#16bb100/initial] (4) [perdir C:/wamp/www/PublishWall/] RewriteCond: input='oglasnik' pattern='!^(indexl\.php|oglasnik\.php|images|robots\.txt)' => matched
127.0.0.1 - - [31/Jan/2013:07:14:48 +0100] [localhost/sid#841d38][rid#16bb100/initial] (4) [perdir C:/wamp/www/PublishWall/] RewriteCond: input='/PublishWall/oglasnik' pattern='^application.*' => not-matched
127.0.0.1 - - [31/Jan/2013:07:14:48 +0100] [localhost/sid#841d38][rid#16bb100/initial] (3) [perdir C:/wamp/www/PublishWall/] strip per-dir prefix: C:/wamp/www/PublishWall/oglasnik -> oglasnik
127.0.0.1 - - [31/Jan/2013:07:14:48 +0100] [localhost/sid#841d38][rid#16bb100/initial] (3) [perdir C:/wamp/www/PublishWall/] applying pattern '^oglasnik$' to uri 'oglasnik'
127.0.0.1 - - [31/Jan/2013:07:14:48 +0100] [localhost/sid#841d38][rid#16bb100/initial] (2) [perdir C:/wamp/www/PublishWall/] rewrite 'oglasnik' -> 'oglasnik.php'
127.0.0.1 - - [31/Jan/2013:07:14:48 +0100] [localhost/sid#841d38][rid#16bb100/initial] (3) [perdir C:/wamp/www/PublishWall/] add per-dir prefix: oglasnik.php -> C:/wamp/www/PublishWall/oglasnik.php
127.0.0.1 - - [31/Jan/2013:07:14:48 +0100] [localhost/sid#841d38][rid#16bb100/initial] (2) [perdir C:/wamp/www/PublishWall/] trying to replace prefix C:/wamp/www/PublishWall/ with /PublishWall/
127.0.0.1 - - [31/Jan/2013:07:14:48 +0100] [localhost/sid#841d38][rid#16bb100/initial] (4) add subst prefix: oglasnik.php -> /PublishWall/oglasnik.php
127.0.0.1 - - [31/Jan/2013:07:14:48 +0100] [localhost/sid#841d38][rid#16bb100/initial] (1) [perdir C:/wamp/www/PublishWall/] internal redirect with /PublishWall/oglasnik.php [INTERNAL REDIRECT]
127.0.0.1 - - [31/Jan/2013:07:14:48 +0100] [localhost/sid#841d38][rid#173b580/initial/redir#1] (3) [perdir C:/wamp/www/PublishWall/] strip per-dir prefix: C:/wamp/www/PublishWall/oglasnik.php -> oglasnik.php
127.0.0.1 - - [31/Jan/2013:07:14:48 +0100] [localhost/sid#841d38][rid#173b580/initial/redir#1] (3) [perdir C:/wamp/www/PublishWall/] applying pattern '^(.*)$' to uri 'oglasnik.php'
127.0.0.1 - - [31/Jan/2013:07:14:48 +0100] [localhost/sid#841d38][rid#173b580/initial/redir#1] (4) [perdir C:/wamp/www/PublishWall/] RewriteCond: input='/PublishWall/oglasnik.php' pattern='^system.*' => not-matched
127.0.0.1 - - [31/Jan/2013:07:14:48 +0100] [localhost/sid#841d38][rid#173b580/initial/redir#1] (3) [perdir C:/wamp/www/PublishWall/] strip per-dir prefix: C:/wamp/www/PublishWall/oglasnik.php -> oglasnik.php
127.0.0.1 - - [31/Jan/2013:07:14:48 +0100] [localhost/sid#841d38][rid#173b580/initial/redir#1] (3) [perdir C:/wamp/www/PublishWall/] applying pattern '^(.*)$' to uri 'oglasnik.php'
127.0.0.1 - - [31/Jan/2013:07:14:48 +0100] [localhost/sid#841d38][rid#173b580/initial/redir#1] (4) [perdir C:/wamp/www/PublishWall/] RewriteCond: input='oglasnik.php' pattern='!^(indexl\.php|oglasnik\.php|images|robots\.txt)' => not-matched
127.0.0.1 - - [31/Jan/2013:07:14:48 +0100] [localhost/sid#841d38][rid#173b580/initial/redir#1] (3) [perdir C:/wamp/www/PublishWall/] strip per-dir prefix: C:/wamp/www/PublishWall/oglasnik.php -> oglasnik.php
127.0.0.1 - - [31/Jan/2013:07:14:48 +0100] [localhost/sid#841d38][rid#173b580/initial/redir#1] (3) [perdir C:/wamp/www/PublishWall/] applying pattern '^oglasnik$' to uri 'oglasnik.php'
127.0.0.1 - - [31/Jan/2013:07:14:48 +0100] [localhost/sid#841d38][rid#173b580/initial/redir#1] (1) [perdir C:/wamp/www/PublishWall/] pass through C:/wamp/www/PublishWall/oglasnik.php 
```

这应该可行，我想？但事实并非如此。这在日志末尾是什么意思，当我访问 index.php 时也会发生这种情况，它工作正常。

# javascript - 查找饼图的特定部分

> ID：14619629
> 
> 赞同：1
> 
> 时间：2013-01-31T06:20:16.653
> 
> 标签：javascript, html, html5-canvas, pie-chart

我有一个在 HTML5 画布中绘制的饼图。我在鼠标悬停时检索点 (X,Y)。现在我想知道点 (X,Y) 是否在饼图的哪个切片中。 .

笔记 ：

1.  我已经发现 Point(X,Y) 是否在饼图中

已知值：

1.  饼图中心 (Cx,Cy)
2.  每个圆弧或切片的开始和结束角度
3.  饼图半径 (R)
4.  圆弧或切片的起点和终点

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-31T08:47:40.600

所以，我们知道切片开始的角度。我们知道中心和点 (x,y)。

假设原点是 (0,0) ，我们从那里画一条线到点 (x,y) 。x 轴与直线之间的夹角为`tan^-1(y/x)`。

一旦我们知道了角度，就可以通过简单的计算来查看它位于哪个弧段之间，因为我们知道每个切片的开始和结束角度。

如果原点不是 (0,0)，您可以通过一些简单的数学来实现。

# hibernate - JPA/Hibernate：转义 HQL 关键字

> ID：14619630
> 
> 赞同：0
> 
> 时间：2013-01-31T06:20:18.090
> 
> 标签：hibernate, jpa, escaping, hql

这类似于[如何在 Hibernate 的 HQL 中转义保留字](https://stackoverflow.com/questions/5686412/how-to-escape-reserved-words-in-hibernates-hql)。但我使用 JPA，所以该解决方案不适用。

那么，如何在 JPA 中转义 HQL 关键字？

示例查询：（`count`是有问题的。）

```
em.createQuery("INSERT INTO Count (id, count) SELECT 1, ?").setParameter(1, id).executeUpdate(); 
```

有这个 jira [HHH-3811](https://hibernate.onjira.com/browse/HHH-3811)，仍然打开。不确定是否相关，因为它是关于 SQL 关键字，而不是 HQL 关键字。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-15T12:30:01.383

你可以尝试这样的事情：

```
em.createQuery("INSERT INTO Count c (c.id, c.count) SELECT 1, ?").setParameter(1, id).executeUpdate(); 
```

这应该让 JPA 清楚您的意思是属性，而不是关键字。

# java - 防止导入 android.R

> ID：14619631
> 
> 赞同：3
> 
> 时间：2013-01-31T06:20:21.330
> 
> 标签：java, android, intellij-idea

如何防止 android.R 包在 IntelliJ Idea 中自动导入？

Idea导入android.R包时真的很烦人，除非你删除“import android.R;”，否则你不能从你的项目中使用R类。代码中的行。

例如，我输入以下内容：

```
new ArrayAdapter<String>(getActivity(), android.R.layout.sim 
```

然后按 Ctrl+Space 并选择完成的第一项。我的代码现在看起来像这样：

```
new ArrayAdapter<String>(getActivity(), R.layout.simple_list_item_1 
```

现在进口有

```
import android.R; 
```

当我继续打字并到达那一刻时：

```
new ArrayAdapter<String>(getActivity(), R.layout.simple_list_item_1, 
                         getResources().getStringArray(R.array. 
```

`R.array`实际上是`android.R.array`，但这不是我所期望的。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-31T10:23:11.377

您可以尝试以下选项：

![进口](../Images/c05578749d42106eba9f1cb3bf084ca0.png)

禁用**即时添加明确的导入**或添加`android.R`到**从导入和完成中排除**。

# ios - 检查从另一个函数单击了哪个 UIButton

> ID：14619633
> 
> 赞同：0
> 
> 时间：2013-01-31T06:20:29.710
> 
> 标签：ios, ios5, ios6, uibutton, sender

在我的 xib 中，我采用了 4 个 UI 按钮，分别命名为按钮 1、2、3 和 4。这四个按钮连接了两个执行不同功能的四个不同 IBAction 方法。

现在我多了一个名为“Save”的按钮，这也有不同的 IBAction 方法。

```
- (IBAction)Save:(id)sender
{

} 
```

现在在这里我想检查上面 4 个 UIButton 中的哪一个被点击了。

为此，我尝试以这种方式检查

```
- (IBAction)Save:(id)sender
{
   if(sender == button1)
   {
      //Do this
   }
   else if (sender == button2)
   {
       //Do this
   }

} 
```

但这不起作用。我做错了。请帮帮我

问候兰吉特。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-31T06:44:13.240

您可以在界面构建器中为每个按钮设置标签值，并将所有按钮的操作设置为该方法

//设置全局变量标志。

```
 int flag;

- (IBAction)buttonClicked:(id)sender
{

switch ([sender tag])
{
    case 0:
         {
              flag =0;
             // implement action for first button

         }
        break;
    case 1:
        {
              flag =1;
            // implement action for second button

        }
        break;
    case 2:
        {
              flag =2;
            // implement action for third button

        }
        break;
        //so on
    default:
        break;
}
} 
```

保存按钮

```
- (IBAction)save:(id)sender
{

switch (flag)
{
    case 0:
         {

             //  first button clicked

         }
        break;
    case 1:
        { 
            //  second button clicked

        }
        break;
    case 2:
        {
            //  third button clicked

        }
        break;
        //so on
    default:
        break;
}
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-31T07:04:47.990

将类级别 ivar 定义为

```
UIButton *selectedBtn; 
```

然后在你的 IBActions

```
- (IBAction)button1:(id)sender {
    selectedBtn = sender // or button1
}

- (IBAction)button2:(id)sender {
    selectedBtn = sender // or button2
}

- (IBAction)button3:(id)sender {
    selectedBtn = sender // or button3
}

- (IBAction)button4:(id)sender {
    selectedBtn = sender // or button4
}

- (IBAction)Save:(id)sender
{
    //Check output of below statement to ensure you're getting a sender
    NSLog(@"Sender: %@", sender);

   if(selectedBtn == button1)
   {
      NSLog(@"Button 1 pressed");
      //Do this
   }
   else if (selectedBtn == button2)
   {
      NSLog(@"Button 2 pressed");
       //Do this
   }
    else if (selectedBtn == button3)
   {
      NSLog(@"Button 3 pressed");
       //Do this
   }
    else if (selectedBtn == button4)
   {
      NSLog(@"Button 4 pressed");
       //Do this
   }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-31T06:31:23.400

你可以试试这个：

```
- (IBAction)Save:(id)sender
{
    UIButton *pressedButton = (UIButton*)sender;

    //Check output of below statement to ensure you're getting a sender
    NSLog(@"Sender: %@", sender);

   if([pressedButton isEqual:button1])
   {
      NSLog(@"Button 1 pressed");
      //Do this
   }
   else if ([pressedButton isEqual:button2])
   {
      NSLog(@"Button 2 pressed");
       //Do this
   }

} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-31T07:04:25.163

在您的保存方法中，检查其他 4 个按钮的 Selected 属性。如果您不想让按钮保持选中状态，而只想查看它们是否在某个时间点被单击，则定义一个属性（例如数组）来跟踪在会话期间单击了哪些按钮，并检查此属性在您的保存方法中。

# iphone - 收到警报后，我无法将人员添加到我的数据库中

> ID：14619635
> 
> 赞同：0
> 
> 时间：2013-01-31T06:20:38.143
> 
> 标签：iphone, ios, objective-c

```
(void)addPersonButton:(id)sender {
            char *error;
            if (sqlite3_open([dbPathString UTF8String], &personDB) == SQLITE_OK) {
                if ([nameField.text length] > 0 && [ageField.text length] > 0 ){
                //{NSLog(@"mobile num %@", mobileNumField.text);
                    //NSCharacterSet *decimalSet = [NSCharacterSet decimalDigitCharacterSet];

                    //if ([mobileNumField.text rangeOfCharacterFromSet:decimalSet].location == NSNotFound) {

                NSString *phoneNum = @"^(\\+91||0)?\\d{10}";

                    NSPredicate *test = [NSPredicate predicateWithFormat:@"SELF MATCHES  %@", phoneNum];

                    BOOL matches = [test evaluateWithObject:[mobileNumField text]];
                    BOOL valid;
                    if (matches) {
                     sqlite3_stmt *statement;
                     NSString *querySQL = [NSString stringWithFormat:@"SELECT * FROM PERSONS"];

                     const char *query_sql = [querySQL UTF8String];

                     if (sqlite3_prepare(personDB, query_sql, -1, &statement, NULL) == SQLITE_OK) {
                     while (sqlite3_step(statement) == SQLITE_ROW) {
                     NSString *mobilenum = [[NSString alloc] initWithUTF8String:(const char *) sqlite3_column_text(statement, 3)];
                         NSLog(@"in DB: %@ and in TF:%@", mobilenum, mobileNumField.text);
                         NSInteger len = [mobileNumField.text length];

                         NSLog(@"len %d",len);
                        // if (len > 10) {
                             NSInteger len1 = len - 10;
                             NSString *string = [mobileNumField.text substringWithRange:NSMakeRange(len1, 10)];
                         NSRange find = [mobilenum rangeOfString:string];
                         NSLog(@"find length %d",find.length);
                         //}
                         if (find.length) {
                             valid = false;
                             break;
                         }//else {NSLog(@"am in else");
                             valid = true;
                             //break;
                         //}
                     }NSLog(@"am out of while");

                         if (valid) {
                             NSLog(@"am inside valid if");
                             NSLog(@"%@", mobileNumField.text);
                    NSString *insertStmt = [NSString stringWithFormat:@"INSERT INTO PERSONS(NAME,AGE,MOBNUM) values ('%s','%d','%s')" ,[self.nameField.text UTF8String], [self.ageField.text intValue],[self.mobileNumField.text UTF8String]];         
                    const char *insert_stmt = [insertStmt UTF8String];
                             NSLog(@"insertStmt=%@ and insert_stmt = %s",insertStmt,insert_stmt);
                             int flag1 = (sqlite3_prepare(personDB, query_sql, -1, &statement, NULL) == SQLITE_OK);
                             int flag = (sqlite3_exec(personDB, insert_stmt, NULL, NULL, &error) == SQLITE_OK);
                             NSLog(@"flag1 = %d and flag = %d", flag1, flag);

                if (flag) {
                    NSLog(@"Person Added");

                    Person *person = [[Person alloc] init];

                    [person setName:self.nameField.text];
                    [person setAge:[self.ageField.text intValue]];
                    [person setNumber:self.mobileNumField.text];

                    [arrayOfPersons addObject:person];

                    nameField.text = @"";
                    nameField.placeholder = @"Name ";
                    ageField.text = @"";
                    ageField.placeholder = @"Age";
                    mobileNumField.text = @"";            
                }else NSLog(@"person not added");

                         }
                         else {
                             UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@"Error" message:@"Already registered with this mobile num" delegate:self cancelButtonTitle:@"Ok" otherButtonTitles: nil];
                             [alert show];
                         }

                     }

                }
                    else {
                        UIAlertView *alert1 = [[UIAlertView alloc] initWithTitle:@"Error" message:@"Sorry, It's not valid mobile number. Please enter again" delegate:self cancelButtonTitle:@"ok" otherButtonTitles: nil];

                        [alert1 show];
                    }

                }
                else {

                    UIAlertView *alert2 = [[UIAlertView alloc] initWithTitle:@"Error" message:@"Name and Age fields are should not be empty" delegate:self cancelButtonTitle:@"Ok" otherButtonTitles:nil];

                    [alert2 show];
                }
                sqlite3_close(personDB);

            }
        } 
```

在上面的代码中，我将手机号码作为主键，所以每当我使用相同的手机号码注册时，它会在收到警报后显示“警报”，我会给出另一个之前未注册的手机号码，当时我的 SQL 查询（`sqlite3_exec(personDB, insert_stmt, NULL, NULL, &error) == SQLITE_OK`) 不执行。我不明白为什么我的 SQL 查询没有被执行。请给我解决方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-31T07:11:05.673

NSApplicationSupportDirectory 是最适合您的，将您的数据库放在 NSApplicationSupportDirectory 中，然后可以从那里访问数据，您可以执行插入和其他操作。:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-31T07:04:32.400

你启用ARC了吗？如果没有，您是否发布了警报？

# php - Codeigniter 设计模式

> ID：14619642
> 
> 赞同：8
> 
> 时间：2013-01-31T06:21:20.287
> 
> 标签：php, codeigniter, design-patterns

几年来我一直在研究*Codeigniter*，我只是想检查设计模式。我想在我的工作项目中实现不同的设计模式，这样我就可以更好地理解这些东西。

我知道**Codeigniter**遵循**MVC**模式，但*codeigniter*遵循哪种设计模式？

我们可以说一个database.php，一个数据库类正在实现一个*单例设计模式*吗？我的意思是，据我所知，在单例上，创建了一个提供全局访问的单个实例，这就是 CI 数据库配置对象所做的。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-01T01:19:23.737

是的，Codeigniter 的加载器目前遵循单例模式，或者至少这是最准确地描述它的模式。当您执行以下操作时：

```
$this->load->library('foo');
$this->load->model('foo');
$this->load->database('foo'); 
```

加载程序执行以下操作：

*   通过检查已加载类的注册表来检查您正在加载的类是否之前已加载。如果已加载，则使用调试日志条目静默忽略该请求。

*   使用您设置的任何参数实例化该类，在以该类命名的框架（单例）超级对象中创建对该对象的引用，或者您传递的任何自定义名称。存储引用，忽略后续的加载尝试。

在引导程序中，加载器方法背后的全局范围内的魔术函数用于构建数据库、核心库等。

更传统的单例方法会做这样的事情（自动加载）：

```
return $className::instance(); 
```

...实例方法将返回一个实例，或者在尚未实例化的情况下构造，因此无需跟踪已加载或未加载的内容。如果类已加载，则将传递一个引用，否则将创建并返回一个新对象。

我想从技术上讲，CI 在这方面是它自己的模式，但足够接近单例，该术语确实适用。它确实是一个单例，只是没有以典型的方式实现。

最后，我检查了 CI-3 的补丁，这些补丁使加载程序更加灵活，允许在这些情况下通过返回对象或引用来随意在超级对象之外工作，但我不知道Ellis Labs 的状态。

# java - Reg Ex 显示无效的转义序列

> ID：14619643
> 
> 赞同：1
> 
> 时间：2013-01-31T06:21:21.393
> 
> 标签：java, regex

以下Reg Ex：-

```
^((((\(\d{3}\))|(\d{3}-))\d{3}-\d{4})|(\+?\d{2}((-| )\d{1,8}){1,5}))(( x| ext)\d{1,5}){0,1}$ 
```

试图实施时显示

```
Invalid escape sequence (valid ones are  \b  \t  \n  \f  \r  \"  \'  \\ ) 
```

谁能帮我解决这个问题？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-31T06:23:23.140

我不会尝试解析这个可怕的正则表达式，但错误指向字符串转义的问题。您需要将所有反斜杠加倍。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-31T07:37:11.637

尝试以下操作：

```
^((((\\(\\d{3}\\))|(\\d{3}-))\\d{3}-\\d{4})|(\\+?\\d{2}((-| )\\d{1,8}){1,5}))(( x| ext)\\d{1,5}){0,1}$ 
```

在 Java 字符串中，`\`反斜杠字符开始一个“特殊”字符的转义序列。喜欢`\n`换行符。

如果您不想手动操作，您可以使用[类似这里](http://www.htmlescape.net/javaescape_tool.html)的工具来转义您的字符串。

# java - 键'PRIMARY'的休眠重复条目

> ID：14619645
> 
> 赞同：2
> 
> 时间：2013-01-31T06:21:23.390
> 
> 标签：java, hibernate

我想在不同的进程中使用休眠插入数据库，我得到了这个异常

```
Duplicate entry '58576' for key 'PRIMARY' 
```

我的一代策略是`Generator.Table`。我将其更改为`Generator.identity`，但出现异常

```
field dbid doesn't have default value 
```

我怎么解决这个问题？

我的实体：

```
@Id
    @TableGenerator(name="dbidn",table="dbidpktn",pkColumnName="dbkeyn",
pkColumnValue="dbvaluen",allocationSize=1)
    @GeneratedValue(strategy = GenerationType.TABLE, generator = "dbidn")
    private Long dbid; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-03-10T13:02:28.697

```
@Id
@GenericGenerator(name = "announcement", strategy = "increment")
@GeneratedValue(generator = "announcement")
private Integer announcementId; 
```

使用 GenericGenerator

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-31T07:25:30.450

如果您想使用依赖于数据库的 ID，请尝试

```
@GeneratedValue(strategy = GenerationType.AUTO) 
```

并在数据库级别设置主键字段填充

# asp.net-mvc - ASP.NET MVC - 访问参数不通过表单发布

> ID：14619649
> 
> 赞同：0
> 
> 时间：2013-01-31T06:21:39.570
> 
> 标签：asp.net-mvc, c#-4.0, asp.net-mvc-4

**当前场景**

我在 vs2012 上使用 MVC 4、.net 4.5。我有一个接受自定义类型的操作。此自定义类型（模型）与视图紧密绑定。我正在使用 JSON 通过 AJAX 进行 POST。Post只会发布相关数据，不会发布表格。它的内容类型是“application/json; charset=UTF-8”。我在我的行动中得到了一个很好的填充（读取有效）模型。

**问题**
现在我需要添加一个自定义过滤器，但我无法通过 Request、Request.Form、Request.Param 访问数据？我一直在寻找 System.Web.HttpContext.Current。如果数据在我的模型中填充，那么它必须在请求本身的某个地方。我想我错过了更精细的印刷品。

发布数据的 javascript 有点像

```
$("#postData").click(function (event) {

    var savedObject = getJson(savedObject, parentContext);

    $.ajax({
        url: '/controller/action',
        contentType: 'application/json',
        dataType: 'json',
        data: savedObject,
        type: "POST",
        success: successCallBack,
        error: errorCallBack
    });
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T15:09:55.363

我看到您希望只发送 JSON 数据。如果你*真的*需要坚持这一点，你可以通过`Request.InputStream`.

控制器：

```
var input = new StreamReader(Request.InputStream).ReadToEnd(); 
```

这将为您提供一个可以手动解析的 URL 编码字符串。

真的，我会推荐 Shahrooz 的答案作为到达你想去的地方的正确方法。

如果控制器的 Request.Form 没有为您的 Ajax 帖子填充，可能是因为您手动序列化数据并将数据发送到 contentType 为的控制器`application/json`（常见场景）。

这是一个**不会**在控制器上填充 Request.Form 的 jQuery.ajax 示例。

```
 // JSON serialized form data.
    var data = {"id" : "1234", "name" : "Dave"};

    $.ajax({
        type: "POST",
        url: serviceUrl,
        contentType: "application/json",
        dataType: "json",
        data: JSON.stringify(data || {}),
        success: function () { }
    }); 
```

更改 contentType 将导致控制器像提交表单一样处理帖子。

```
 // Form encoded data.        
    var data = {"id" : "1234", "name" : "Dave"};
    data = $.param(data);

    $.ajax({
        type: "POST",
        url: serviceUrl,
        contentType: "application/x-www-form-urlencoded; charset=UTF-8",
        dataType: "json",
        data: data,
        success: function () { }
    }); 
```

您也可以将 contentType 保留为未定义，因为`application/x-www-form-urlencoded; charset=UTF-8`它是 jQuery 的默认值。

我会注意到我只使用[$.ajax](http://api.jquery.com/jQuery.ajax/)来更好地说明正在发生的事情。您也可以使用[$.post](http://api.jquery.com/jQuery.post/)，尽管您仍然需要发送表单编码数据

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-31T06:32:32.573

我不知道您的代码是什么，但是如果您从对 jQuery.ajax 的调用中删除 contentType: "application/json; charset=utf-8" ，则将使用默认内容类型（form-urlencoded）和您拥有的 json 数据指定为您的数据参数 (data: { i: i, s: s, b: b }) 将正确映射到您的操作参数....所以除非您真的想发送 json 数据，否则只需删除 contentType 即可没事……看看[这个](https://stackoverflow.com/questions/2785648/ajax-call-with-jquery-in-asp-net-mvc-does-not-pass-parameters)

# asp.net-mvc-3 - 减少 IIS 回收时间间隔有什么副作用吗？

> ID：14619650
> 
> 赞同：0
> 
> 时间：2013-01-31T06:21:42.787
> 
> 标签：asp.net-mvc-3, iis-7, recycle

我的 asp .net mvc3 应用程序托管在 IIS 7 中，我希望通过将 IIS 的回收时间间隔减少到 1000 分钟来减少内存消耗。这样做有什么副作用吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-31T06:35:59.820

减少 IIS 中的回收时间没有副作用。它甚至不会花费太多时间来进行回收。回收使您免于内存泄漏。有关更多信息，请查看[此链接。](http://forums.iis.net/t/1153736.aspx/1)

# perl - Perl 中的十进制到十六进制转换（– 到 –）

> ID：14619652
> 
> 赞同：1
> 
> 时间：2013-01-31T06:22:04.840
> 
> 标签：perl

我有一个包含许多数字实体的 HTML 文件。我想将它们从使用十进制数字更改为十六进制数字。例如：我想`&#8211;`（破折号）更改为`&#x2013;`.

使用 Perl 如何做到这一点？

我尝试使用以下代码：

```
use String::HexConvert ':all';
my $text = "this is text&#8211;example";

print ascii_to_hex($text); 
```

它将转换所有字符。我想转换`&#8211;`唯一的。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-31T06:33:45.303

这可以解决问题：

```
$html =~ s/&#([0-9]+);/ sprintf("&#x%x;", $1) /eg; 
```

（`\d`匹配太多字符。）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-31T06:30:27.207

尝试这个：

```
$text =~ s/\&#(\d+);/"&#x".sprintf("%x",$1).";"/eg 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-11-21T10:48:14.707

从十六进制转换为十进制：

```
$html =~ s/&#(x[0-9A-Fa-f]+);/ sprintf("&#%d;", hex($1)) /eg; 
```

# java - 如何将浮点数转换为字节数组，反之亦然？

> ID：14619653
> 
> 赞同：17
> 
> 时间：2013-01-31T06:22:08.767
> 
> 标签：java

我正在尝试将 a`float`转换为原语`byte[]`，反之亦然：

```
public byte[] floatToByteArray(final float value)
{
    return new byte[]
    {
        (byte) (value >> 56),
        (byte) (value >> 48),
        (byte) (value >> 40),
        (byte) (value >> 32),
        (byte) (value >> 24),
        (byte) (value >> 16),
        (byte) (value >> 8),
        (byte) (value)
    };
} 
```

奇怪的是，当我尝试将新分配的内容移`byte[]`回 a`float`时，结果只是垃圾。

`long`但是，当我使用原始数据类型作为参数时，似乎相同的算法工作得很好。

```
public byte[] longToByteArray(final long value)
{
    return new byte[]
    {
        (byte) (value >> 56),
        (byte) (value >> 48),
        (byte) (value >> 40),
        (byte) (value >> 32),
        (byte) (value >> 24),
        (byte) (value >> 16),
        (byte) (value >> 8),
        (byte) (value)
    };
} 
```

* * *

## 回答 #1

> 赞同：59
> 
> 时间：2013-01-31T06:29:09.657

改用这些。

```
public static byte [] long2ByteArray (long value)
{
    return ByteBuffer.allocate(8).putLong(value).array();
}

public static byte [] float2ByteArray (float value)
{  
     return ByteBuffer.allocate(4).putFloat(value).array();
} 
```

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2013-12-20T07:48:03.013

只是基于@shazin 解决方案添加另一个有用的解决方案。将浮点数组转换为字节数组：

```
public static byte[] FloatArray2ByteArray(float[] values){
    ByteBuffer buffer = ByteBuffer.allocate(4 * values.length);

    for (float value : values){
        buffer.putFloat(value);
    }

    return buffer.array();
} 
```

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2015-01-27T17:08:48.650

同样基于 Shazin 解决方案，对字节顺序有额外的规范：

```
ByteBuffer.allocate(4).order(ByteOrder.LITTLE_ENDIAN).putFloat(value).array(); 
```

或者

```
ByteBuffer.allocate(4).order(ByteOrder.BIG_ENDIAN).putFloat(value).array(); 
```

* * *

## 回答 #4

> 赞同：6
> 
> 时间：2013-01-31T06:31:42.637

它不会工作。Float.byteValue 只是将浮点值截断为 1 个字节

```
 public byte byteValue() {
        return (byte)value;
    } 
```

此外，不清楚你想要什么字节。是 IEEE 754 浮点单浮点位布局吗？然后你可以先把它转换成int

```
int i =  Float.floatToIntBits(1.1f);   // see Float API, there are actually 2 options 
```

然后像你一样使用移位将其分成 4 个字节或 8 个字节

* * *

## 回答 #5

> 赞同：6
> 
> 时间：2017-06-16T04:12:30.393

我看不到易于使用的方法。有用：

```
public static byte[] toByteArray(float value) {
    byte[] bytes = new byte[4];
    ByteBuffer.wrap(bytes).putFloat(value);
    return bytes;
}

public static float toFloat(byte[] bytes) {
    return ByteBuffer.wrap(bytes).getFloat();
} 
```

# mesh - cocos3d 以编程方式创建网格

> ID：14619654
> 
> 赞同：0
> 
> 时间：2013-01-31T06:22:10.893
> 
> 标签：mesh, dynamically-generated, cocos3d

我正在努力以编程方式创建网格对象。这是完美的工作：

```
CC3MeshNode *pMeshBox = [[CC3MeshNode alloc] init];
[pMeshBox populateAsCenteredRectangleWithSize:CGSizeMake(3, 3) andTessellation:ccg(5, 0)];    // AsSphereWithRadius:1 andTessellation:ccg(5, 0)];     // edges, rounded-corners
[self addChild:pMeshBox];
[pMeshBox release]; 
```

但这并没有显示任何东西（我期望一个高度为 0 的平面正方形，并在 x/z 方向上产生）。

* * *

```
float fPolygonVertices[] = {
    -3, 0,  3,
     3, 0,  3,
     3, 0, -3,
    -3, 0, -3
};

CC3VertexLocations* pvlPolygon = [CC3VertexLocations vertexArrayWithName: @"PolygonVL"];
pvlPolygon.vertexCount = 4;
pvlPolygon.vertices = fPolygonVertices;

CC3VertexArrayMesh* pvamPolygon = [CC3VertexArrayMesh meshWithName:@"PolygonM"];
pvamPolygon.vertexLocations = pvlPolygon;

CC3MeshNode *pMeshNode = [[CC3MeshNode alloc] init];
pMeshNode.mesh = pvamPolygon;

ccColor3B color = { 50, 0, 200 };
pMeshNode.color = color;

[self addChild:pMeshNode];
[pMeshNode release]; 
```

我假设相机设置和其他一切都是正确的，因为场景显示 populateAsCenteredRectangleWithSize 创建的对象......

我尝试了各种颜色和材质设置，但没有运气。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T03:44:58.040

尝试这个：

```
GLuint totalVertexCount = 4;
GLuint triangleCount = 2;

CC3MeshNode *pMeshNode = [[CC3MeshNode alloc] init];
//[pMeshNode setPureColor:color];
//[pMeshNode setIsTouchEnabled:YES];

CC3VertexArrayMesh* theArrayMesh = [pMeshNode prepareParametricMesh];
// Prepare the vertex content and allocate space for vertices and indices.
[theArrayMesh ensureVertexContent];
theArrayMesh.allocatedVertexCapacity = totalVertexCount;
theArrayMesh.allocatedVertexIndexCapacity = (triangleCount * 3);
GLushort* indices = theArrayMesh.vertexIndices.vertices;

/*         
 *  1-------0
 *  |      /|   -z 
 *  |     / |    ⥣
 *  |    /  |     =>+x
 *  |   /   |
 *  |  /    |
 *  | /     |
 *  |/      |
 *  2-------3
 */
{
    [theArrayMesh setVertexLocation: cc3v(3, 0, -3) at: 0];
    [theArrayMesh setVertexLocation: cc3v(-3, 0, -3) at: 1];
    [theArrayMesh setVertexLocation: cc3v(-3, 0, 3) at: 2];
    [theArrayMesh setVertexLocation: cc3v(3, 0, 3) at: 3];

}
GLubyte indxIndx = 0;
GLubyte vtxIndx = 0;
for (int side = 0; side < 1; side++) {
    // First trangle of side - CCW from bottom left
    indices[indxIndx++] = vtxIndx++;        // vertex 0
    indices[indxIndx++] = vtxIndx++;        // vertex 1
    indices[indxIndx++] = vtxIndx;          // vertex 2

    // Second triangle of side - CCW from bottom left
    indices[indxIndx++] = vtxIndx++;        // vertex 2
    indices[indxIndx++] = vtxIndx++;        // vertex 3
    indices[indxIndx++] = (vtxIndx - 4);    // vertex 0
}

[self addChild:pMeshNode]; 
```

# ios - 在 Xcode IOS 中，我可以在应用程序中创建一个按钮，当按下该按钮时会进行正常的屏幕锁定？

> ID：14619658
> 
> 赞同：0
> 
> 时间：2013-01-31T06:22:23.450
> 
> 标签：ios, cocoa-touch

> **可能重复：**
> [以编程方式锁定和解锁 iPhone 屏幕](https://stackoverflow.com/questions/832940/programmatically-lock-and-unlock-iphone-screen)

即一个软件按钮，将复制硬件屏幕锁定按钮。

而且，我可以制作一个可以完全关闭设备的滑块吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-31T06:25:24.570

你可以，它只是一个私有 API，你不会进入 AppStore。不过，在越狱或内部/私人应用程序中都很好。

```
extern void GSEventLockDevice();

- (void)lockScreen:(UIButton *)sender
{
    GSEventLockDevice();
} 
```

（链接到`GraphicsServices`私有框架以使用它。）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-31T06:24:05.430

不会。Apple 的公共 API 不会公开这些功能。如果您不需要 App Store 合法性，则有可能（请参阅其他答案）。

# google-maps-api-3 - 如何在客户端检测 FusionMap 切片是否已缓存并准备好显示？

> ID：14619665
> 
> 赞同：0
> 
> 时间：2013-01-31T06:23:00.410
> 
> 标签：google-maps-api-3, google-fusion-tables

我的网页在 Google 地图上显示运行时生成的 FusionTables 数据。

问题是：当您创建一个几何类型列的 FusionTable 并首次显示它时，Google 必须在其服务器端缓存中加载所有相关的地图图块。这需要一段时间 - 有时 2-3 秒，有时 15 -20 秒。在缓存期间，地图应该显示一个灰色的叠加层，上面写着“数据可能仍在加载...”。我想避免这个屏幕，因为它非常有问题。有时会显示叠加层，有时不显示。

我正在寻找一种方法来检测是否所有地图图块都已缓存，以便我可以向用户显示地图。

我已经尝试过定期刷新地图图块，但这不会给我什么时候停止刷新的反馈：

```
 $("img[src*='googleapis']").each(function(){
       $(this).attr("src",$(this).attr("src")+"&"+(new Date()).getTime());
    }); 
```

出于这个原因，我正在寻找其他解决方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-31T17:32:15.380

尝试简化您的地理数据。当服务器端进程错过在合理时间内提供地图切片的最后期限时，将显示该消息。通过降低多边形的复杂性，您更有可能看不到“数据可能仍在加载......”消息图块。

您可以通过两种方式降低复杂性：减少定义多边形的顶点（点）的数量，并降低纬度/经度位置的精度。

另请注意，作为仅供参考，由于不同的查看者一次又一次地调用完全相同的地图，处理结果会在服务器端缓存，并且消息出现的可能性*要小得多*，然后通常是由于公共缓存。

-丽贝卡

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-21T19:52:35.487

Answering my own question: simply there's no way to do it as of now.

As a sidenote: I'd never advise anyone to think about using FusionTables to display dynamically generated geographic data. It's not designed that way. Only use FT if you have a somewhat static dataset that changes rarely.

# android - Android：未找到 TYPE_AMBIENT_TEMPERATURE

> ID：14619666
> 
> 赞同：0
> 
> 时间：2013-01-31T06:23:06.347
> 
> 标签：android, android-sensors

我正在尝试从电话中获取温度。我浏览了文档，发现`'TYPE_TEMPERATURE'`自 API 级别 14 以来已弃用。建议使用`'TYPE_AMBIENT_TEMPERATURE'`. 但是当我输入“传感器”时，我找不到这个。, 自动完成不显示`'TYPE_AMBIENT_TEMPERATURE'`。

有什么我遗漏的，任何信息都会有所帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-31T12:09:47.000

你的手机应该有温度传感器才能让它工作。

安装[此应用程序](https://play.google.com/store/apps/details?id=imoblife.androidsensorbox&feature=search_result#?t=W251bGwsMSwyLDEsImltb2JsaWZlLmFuZHJvaWRzZW5zb3Jib3giXQ..)，检查并确认您有温度传感器。

![在此处输入图像描述](../Images/2892332f0bfc4fbfed0fa6627e55120b.png)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-01-15T18:02:07.690

`'TYPE_TEMPERATURE'`设计用于测量 CPU 温度，可能已被弃用，因为新版本`'TYPE_AMBIENT_TEMPERATURE'`正在测量外部温度，可能会有更多用处。如果您使用的是 API 级别 14，`'TYPE_AMBIENT_TEMPERATURE'`则存在并将编译。

# mysql - 如何撤销用户在mysql中的解释计划权限？可能吗

> ID：14619667
> 
> 赞同：2
> 
> 时间：2013-01-31T06:23:21.973
> 
> 标签：mysql, sql, grant

如何撤销用户在mysql中的解释计划权限？可能吗

请在这里帮助我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-31T19:58:53.087

在 MySQL 中 EXPLAIN没有特定的[权限](http://dev.mysql.com/doc/refman/5.0/en/grant.html#grant-privileges)。

# vb.net - 如何在microsoft access 2010的文本框中制作2行

> ID：14619671
> 
> 赞同：0
> 
> 时间：2013-01-31T06:23:34.433
> 
> 标签：vb.net, ms-access

我有一个包含我的地址簿“地址”和“城市”和“州”和“邮编”的文本框，但我需要在 CITY 之前换行

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-31T07:14:45.873

*   如果您使用 VBA 或查询来构建您的地址，常量：`vbCrLf`将为您提供一个新行。
*   如果您在文本框中输入内容，那么它可以是**Enter**或**Ctrl-Enter**，具体取决于属性“Enter Key Behavour”（在“Other”选项卡上）输入新行。
*   如果您尝试使用文本框的属性，例如**Control Source**或**Default**，那么您需要使用`Chr(13) & Chr(10)`

# jquery - JQuery ready 似乎没有触发

> ID：14619673
> 
> 赞同：-1
> 
> 时间：2013-01-31T06:23:51.890
> 
> 标签：jquery

好吧，我难住了。我有 jquery 工作的页面，但由于某种原因，这没有。

```
<html>
<head>
<script src="http://code.jquery.com/jquery-latest.js"></script>
</head>
<body>
</body>
<script>
jQuery(function($) { alert() })(jQuery);
</script>
</html> 
```

我怀疑这是我用于 jquery 的链接，但准备好的功能没有触发，我看不出原因。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-31T06:25:53.100

试试这个方法

```
<script>
$(document).ready(function(){
  alert('foo')
});
//OR
$(function() { 
   alert('foo'); 
});

</script> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-31T06:28:44.753

它的 ：

```
jQuery(document).ready(function()
                       {
                          alert('alert');
                       }); 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-01-31T06:25:29.140

```
$( function() { alert("blah!!"); }); 
```

或者

```
jQuery( function() { alert("blah!"); }); 
```

或者

```
$(document).ready( function() { }); 
```

或者

```
$(window).load( function() { }); 
```

或者

```
jQuery(window).load( function() { }); 
```

或者

```
jQuery(document).ready( function() { }); 
```

数以千计的选择为您服务！

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-01-31T06:27:05.153

试试这个吧！

```
<html>
<head>
<script src="http://code.jquery.com/jquery-latest.js"></script>
</head>
<body>
</body>
<script type="text/javascript">
    $(function () {
        alert("test");
    });
</script>
</html> 
```

# vba - 从数据验证下拉菜单中触发 Excel VBA 中的事件

> ID：14619676
> 
> 赞同：1
> 
> 时间：2013-01-31T06:24:05.040
> 
> 标签：vba, excel, validation

我有一张表，我想让用户选择计算类型。计算类型是通过数据验证中的列表选择来完成的。选择后，我希望它触发一个事件，然后为该类型的选择加载正确的单元格。如何在数据验证下拉菜单中检测数据更改事件，或者我是否需要为此使用活动 x 控件？

工作表更改事件的代码未激活：

```
Private Sub Worksheet_Change(ByVal Target As Range)

If Target.Cells.count > 1 Then Exit Sub

Application.EnableEvents = False

On Error GoTo Errortrap

'~~> Change it to the relevant string with which you want to compare
StringToCheck = "+"

If Not Intersect(Target, Range("D47")) Is Nothing Then
    '~~> Check for the cell value
    If Target.Value = StringToCheck Then
      'setup row to capture addition fields
       Cells(33, 4).Value = "Input File 1"
       Cells(33, 4).Value = "Worksheet 1"
       Cells(33, 4).Value = "Cell 1"
       Cells(33, 4).Value = "Input File 2"
       Cells(33, 4).Value = "Worksheet 2"
       Cells(33, 4).Value = "Cell 2"
    End If
End If

LetsContinue:
   Application.EnableEvents = True
   Exit Sub
Errortrap:
    MsgBox Err.Description
    Resume LetsContinue
End Sub 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-11-20T12:03:54.600

你的代码很好。我在一个新的工作簿中尝试了它，它完成了它应该做的事情。
当您将**D47中的值更改为“+”（无论是通过下拉菜单还是手动）时，它会在单元格****D33**中一个接一个地写入六个值。

也许你打算写

```
 Cells(33, 4).Value = "Input File 1"
        Cells(33, 5).Value = "Worksheet 1"
        Cells(33, 6).Value = "Cell 1"
        Cells(33, 7).Value = "Input File 2"
        Cells(33, 8).Value = "Worksheet 2"
        Cells(33, 9).Value = "Cell 2" 
```

因此代码将填充范围**D33:I33**而不是将所有内容写入**D33**。

# mysql - mysql，转置/枢轴行到列，变量选择

> ID：14619678
> 
> 赞同：1
> 
> 时间：2013-01-31T06:24:11.860
> 
> 标签：mysql, variables, pivot, transpose

再次您好，并提前感谢您的帮助。

我已经检查了几个先前的问题，但找不到这种确切的情况。

我正在尝试将行转置/旋转到列，但结果基于 where 子句中的日期函数，这使我的选择有些可变。

```
选择
DATE_FORMAT(packet_details.installDate,'%m-%d-%Y') as Install_Date,
计数（packet_details.installDate）
从
数据包详细信息
在哪里
 packet_details.installDate >= CURRENT_DATE - INTERVAL 7 DAY
 AND packet_details.installDate "*lessthan*" CURRENT_DATE + INTERVAL 7 DAY
按安装日期分组
*小于符号不会显示在堆栈上，我不知道如何修复它

```

不确定这是否有意义，所以我加入了一个小提琴：[http](http://sqlfiddle.com/#!2/5b235/3/0) ://sqlfiddle.com/#!2/5b235/3/0 所以是这样的：

```
INSTALL_DATE COUNT
2013 年 1 月 24 日 2
2013 年 1 月 25 日 2
2013 年 1 月 26 日 2
2013 年 1 月 27 日 2
2013 年 1 月 28 日 2
2013 年 1 月 29 日 1
2013 年 2 月 3 日 1
2013 年 2 月 4 日 1
2013 年 2 月 5 日 5
2013 年 2 月 6 日 4
```

转换成：

```
安装日期 1/24/2013 1/25/2013 1/26/2013 1/27/2013 1/28/2013....   
计数 2 2 2 2 2 1     

```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-31T06:28:47.567

```
SELECT  Install_DATE,
        MAX(CASE WHEN Install_DATE = '01-24-2013' THEN totalCount END) `01-24-2013`,
        MAX(CASE WHEN Install_DATE = '01-25-2013' THEN totalCount END) `01-25-2013`,
        MAX(CASE WHEN Install_DATE = '01-26-2013' THEN totalCount END) `01-26-2013`,
        .......
FROM
(
  SELECT DATE_FORMAT(packet_details.installDate,'%m-%d-%Y') as Install_Date,
         Count(packet_details.installDate) totalCount
  FROM   packet_details
  WHERE  packet_details.installDate >= CURRENT_DATE - INTERVAL 7 DAY AND 
         packet_details.installDate   < CURRENT_DATE + INTERVAL 7 DAY
  GROUP  BY installDate
) s 
```

*   [SQLFiddle 演示](http://sqlfiddle.com/#!2/5b235/6)

对于未知数量`Install_Date`，*动态查询*是更可取的，

```
SET @sql = NULL;
SELECT
  GROUP_CONCAT(DISTINCT
    CONCAT(
      'MAX(CASE WHEN Install_DATE = ''',
      Install_Date,
      ''' then totalCount end) AS `', Install_Date, '`' )
  ) INTO @sql
FROM 
(
  SELECT DATE_FORMAT(packet_details.installDate,'%m-%d-%Y') as Install_Date,
         Count(packet_details.installDate) totalCount
  FROM   packet_details
  WHERE  packet_details.installDate >= CURRENT_DATE - INTERVAL 7 DAY AND 
         packet_details.installDate   < CURRENT_DATE + INTERVAL 7 DAY
  GROUP  BY installDate
) s;

SET @sql = CONCAT('SELECT Install_DATE, ', @sql, ' 
                    FROM
                    (
                      SELECT DATE_FORMAT(packet_details.installDate,''%m-%d-%Y'') as Install_Date,
                             Count(packet_details.installDate) totalCount
                      FROM   packet_details
                      WHERE  packet_details.installDate >= CURRENT_DATE - INTERVAL 7 DAY AND 
                             packet_details.installDate   < CURRENT_DATE + INTERVAL 7 DAY
                      GROUP  BY installDate
                    ) s');

PREPARE stmt FROM @sql;
EXECUTE stmt;
DEALLOCATE PREPARE stmt; 
```

*   [SQLFiddle 演示](http://sqlfiddle.com/#!2/5b235/10)

# c++ - C++11 移动语义行为特定问题

> ID：14619681
> 
> 赞同：2
> 
> 时间：2013-01-31T06:24:27.053
> 
> 标签：c++, c++11, move-semantics, rvalue-reference

我已经阅读了下面的帖子，它很好地了解了移动语义：

> [有人可以向我解释一下移动语义吗？](https://stackoverflow.com/questions/3106110/can-someone-please-explain-move-semantics-to-me)

但是我仍然无法理解有关移动语义的以下内容-

1.  复制省略和 RVO 是否仍然适用于没有移动构造函数的类？

2.  即使我们的类没有移动构造函数，但 STL 容器有一个。对于像这样的操作

`std::vector<MyClass> vt = CreateMyClassVector();`

并执行排序等操作。为什么 STL 不能在内部利用移动语义来使用不需要移动构造函数的复制省略或 RVO 等操作在内部改进此类操作？

3\. 在以下情况下，我们是否受益于移动语义 -

`std::vector< int > vt1(1000000, 5); // Create and initialize 1 million entries with value 5`

`std::vector< int > vt2(std::move(vt1)); // move vt1 to vt2`

由于整数是原始类型，移动整数元素不会提供任何优势。或者在移动操作之后 vt2 只是指向堆中的 vt1 内存，并且 vt1 设置为 null。实际发生了什么？如果是后者，那么即使第 2 点也认为我们的类可能不需要移动构造函数。

4\. 当使用 std::move 左值调用 push_back() 时，例如：

```
 std::vector<MyClass> vt;

    for(int i=0; i<10; ++i)
    {
        vt.push_back(MyClass());
    }

    MyClass obj;

    vt.push_back(std::move(obj)); 
```

现在，由于向量具有连续的内存分配，并且 obj 在内存中的其他位置定义，移动语义如何将 obj 内存移动到向量 vt 连续内存区域，在这种情况下不移动内存与复制内存一样好，移动如何证明通过简单地移动指向堆的不同区域中的内存的指针来向量连续的内存需求。？

感谢您提前解释！

[最初发布为[移动语义澄清](https://stackoverflow.com/questions/14603669/move-semantics-clarification)，但现在随着上下文的变化，将其发布为新问题应尽快删除旧问题。]

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-31T10:24:13.227

> 复制省略和 RVO 是否仍然适用于没有移动构造函数的类？

是的，RVO 仍然起作用。实际上，编译器应该选择：

*   RVO（如果可能）
*   移动施工（如果可能）
*   复制构造（最后的手段）

> 为什么 STL 不能在内部利用移动语义来在内部使用不需要移动构造函数的复制省略或 RVO 等操作来改进此类操作？

STL 容器*是*可移动的，与存储在其中的类型无关。然而，对容器中对象的操作*需要*对象的合作，因此*排序*（例如）只能在对象是可移动的情况下移动对象。

> 在以下情况下，我们是否会从移动语义中受益[...]，因为整数是原始类型？

是的，你这样做了，因为容器无论其内容如何*都是可移动的。*正如您推断的那样，`st2`将从中窃取内存`st1`。移动后的状态`st1`是未指定的，所以我不能保证它的存储会被取消。

> 当`push_back()`使用左值调用a`std::move`时 [会发生什么]？

调用左值类型的移动构造函数，通常这涉及将原件按位复制到目的地，然后将原件无效。

一般来说，移动构造函数的成本与`sizeof(object)`; 例如，`sizeof(std::string)`无论有多少字符，它都是稳定的`std::string`，因为实际上这些字符存储在堆上（至少当它们有足够数量时），因此只有*指向*堆存储的指针被移动（加上一些元数据）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-31T06:33:50.040

1.  是的。
2.  他们尽可能地这样做。
3.  是的。`std::vector`有一个移动构造函数，可以避免复制所有元素。
4.  它仍然是连续的。

例如

```
struct MyClass
{         
     MyClass(MyClass&& other) 
         : xs(other.xs), size(other.size)
     {
          other.xs = nullptr;
     }

     MyClass(const MyClass& other) 
       : xs(new int[other.size]), size(other.size)
     { 
         memcpy(xs, other.xs, size);
     }

     ~MyClass() 
     {               
         delete[] xs;
     }

     int* xs;
     int size;
} 
```

仅使用移动构造函数`xs`并且`size`需要复制到向量中（用于连续内存），但是我们不需要执行内存分配，`memcpy`就像在复制构造函数中一样。

# php - 在PHP中获取两个日期之间的日期名称

> ID：14619682
> 
> 赞同：3
> 
> 时间：2013-01-31T06:24:35.303
> 
> 标签：php

如何在 PHP 中获取两个日期之间的天数？

**输入：**

> 开始日期：01-01-2013
> 结束日期：05-01-2013

**输出：**

> 周二
> 周三
> 周四
> 周五
> 周六

**试过的代码**

```
$from_date ='01-01-2013';
$to_date ='05-01-2013';

$number_of_days = count_days(strtotime($from_date),strtotime($to_date));

for($i = 1; $i<=$number_of_days; $i++)
{
    $day = Date('l',mktime(0,0,0,date('m'),date('d')+$i,date('y')));
    echo "<br>".$day;       
}

function count_days( $a, $b )
{       
    $gd_a = getdate( $a );
    $gd_b = getdate( $b );

    $a_new = mktime( 12, 0, 0, $gd_a['mon'], $gd_a['mday'], $gd_a['year'] );
    $b_new = mktime( 12, 0, 0, $gd_b['mon'], $gd_b['mday'], $gd_b['year'] );

    return round( abs( $a_new - $b_new ) / 86400 );
} 
```

我看到帖子[在两个日期 PHP 之间查找特定日期的日期](https://stackoverflow.com/questions/10015136/finding-date-of-particular-day-between-two-dates-php)

但我没有得到我的结果
请帮助我

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-31T06:33:44.180

使用`DateTime`类，它会简单得多：

```
$from_date ='01-01-2013';
$to_date ='05-01-2013';

$from_date = new DateTime($from_date);
$to_date = new DateTime($to_date);

for ($date = $from_date; $date <= $to_date; $date->modify('+1 day')) {
  echo $date->format('l') . "\n";
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-31T06:36:42.590

```
$from_date ='01-01-2013';
$to_date ='05-01-2013';
$start = strtotime($from_date);
$end = strtotime($to_date);
$day = (24*60*60);
for($i=$start; $i<= $end; $i+=86400)
    echo date('l', $i); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-31T06:41:21.683

```
<?php
    function printDays($from, $to) {
        $from_date=strtotime($from);
        $to_date=strtotime($to);
        $current=$from_date;
        while($current<=$to_date) {
            $days[]=date('l', $current);
            $current=$current+86400;
        }

        foreach($days as $key=> $day) {
            echo $day."\n";
        }
    }
    $from_date ='01-01-2013';
    $to_date ='05-01-2013';
    printDays($from_date, $to_date);
?> 
```

`date`循环遍历给定日期（包括）之间的每一天，然后使用函数将相应的日期添加到数组中。打印出数组和tada！你完成了！

# ios - iOS 中的自动布局

> ID：14619684
> 
> 赞同：3
> 
> 时间：2013-01-31T06:24:42.623
> 
> 标签：ios, autolayout

所以我是iOS自动布局的新手，所以我遇到了问题。

我的程序有 2 个可以拖动、捏合、放大和旋转的图像视图。用户应该能够将图像视图拖动到屏幕上的任何位置。所以基本上我不希望约束将我的图像固定到位。我需要单独为 2 个图像视图关闭自动布局（我知道那是不可能的）。

所以现在发生的事情是，当我运行程序时，可以将图像视图拖动到屏幕的任何位置，但是当我旋转它或捏合以缩放它时，图像会从其当前位置移动并放置在屏幕的中心，在那里它将被缩放或旋转。（中心约束在那里并且它们的优先级最低）。我似乎也无法删除约束。

无论如何我可以避免仅针对图像视图的约束???如果没有，我的问题的解决方案是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-31T10:51:47.917

覆盖`-(void) layoutSubviews`在你的`UIViewController`

这应该够了吧 ：）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-12-13T17:27:42.990

看看这个问题。它解释了如何在运行时禁用特定 uiview 的自动布局。

[我可以在运行时禁用特定子视图的自动布局吗？](https://stackoverflow.com/questions/11368440/can-i-disable-autolayout-for-a-specific-subview-at-runtime)

# php - 连接数据库时出错

> ID：14619686
> 
> 赞同：0
> 
> 时间：2013-01-31T06:24:52.803
> 
> 标签：php, magento, magento-1.7, magento-1.5

将网站连接到数据库时出现错误

```
 Error in file: "/site-path/app/code/core/Mage/Core/sql/core_setup/mysql4-upgrade-1.5.9.9-1.6.0.0.php" - SQLSTATE[42000]: Syntax error or access         violation: 1142 ALTER command denied to user 'username' for table 'core_layout_link' 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-31T06:27:09.557

您正在尝试 ALTER 数据库中的表。在特定表上向此数据库添加权限，重新连接并尝试 ALTER。顺便检查一下用户是否也有权限。

# javascript - jquery从子元素迭代内部子元素

> ID：14619690
> 
> 赞同：0
> 
> 时间：2013-01-31T06:25:19.767
> 
> 标签：javascript, jquery, html, checkbox

我有下一个html：

```
<div id="segmenter">
    <div id="variable" name="Zone">
        <h3>Zona</h3>
        <ul>
            <li><input id="category" type="checkbox" value="Center">Center</li>
            <li><input id="category" type="checkbox" value="East">East</li>
            <li><input id="category" type="checkbox" value="South">South</li>
        </ul>
    </div>
    <div id="variable" name="Type of">
        <h3>Tipo de Restaurante</h3>
        <ul>
            <li><input id="category" type="checkbox" value="Freestander">Freestander</li>
            <li><input id="category" type="checkbox" value="Instore">Instore</li>
            <li><input id="category" type="checkbox" value="Mall">Mall</li>
        </ul>
    </div>
</div> 
```

我想首先遍历分段器的所有 div 子项，其 id 为“变量”，然后遍历每个子项“变量”的 id 为“类别”的所有输入。

使用 Chrome 开发工具：

和：

```
$("#segmenter > #variable") 
```

我得到每个 div 变量：`[<div id=​"variable" name=​"Zona">​…​&lt;/div>​, <div id=​"variable" name=​"Tipo de Restaurante">​…​&lt;/div>​]`

现在从这里我尝试的一切都不起作用，例如：

```
$("#segmenter > #variable").find("#category"); 
```

我只得到 4 个输入“类别”：`[<input id=​"category" type=​"checkbox" value=​"Centro">​, <input id=​"category" type=​"checkbox" value=​"Freestander">​, <input id=​"category" type=​"checkbox" value=​"Instore">​, <input id=​"category" type=​"checkbox" value=​"Mall">​]`

我不知道为什么，我需要的是迭代类似：

```
var oVariables = $("#segmenter > #variable");
$.each(oVariables, function(){
    var oCategory = $(this).find("#category").text();//in the first call for div-name="zone", only have the first input-value"center"
    //Iterate Again
        //get checked values, etc
}); 
```

非常感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-31T06:30:12.780

id 是唯一的。使用类来代替集合。将所有 ID 更改为 Classes，然后像这样迭代：

```
$.each($('div.variable'), function(elem){
    $.each($(elem).find('input.category'), function(childElem){
        //Do something with childElem here
    })
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-31T06:30:53.307

不要用身份证！！！身份证独一无二！！！尝试使用类

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-31T06:31:05.167

**ID 应该始终是唯一的**..

在您的情况下使用类而不是 ids。像：

```
<div id="variable" name="Zone">
    _^_ here
<div class="variable" name="Zone"> //do this for all ids 
```

和你的选择器

```
$("#segmenter > .variable").find(".category"); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2018-08-18T21:30:03.020

我有同样的问题。我需要访问新的子标签。

我的方式：

```
var list_group_items = $("a.list-group-item");
    $.each(list_group_items,function(index,value){
        $(list_group_items[index]).hover(function(){
            $.each($(list_group_items[index]).find('small'), function(childElem,Element){
                console.log(Element);
                TweenLite.to(Element, 2, {"visibility":"visible"});
            });

        },function(){
            $.each($(list_group_items[index]).find('small'), function(childElem,Element){
                //Do something with childElem here
                TweenLite.to(Element, 2, {"visibility":""});
            });

        });
    }); 
```

注意1：`$.each`函数有两个参数，第一个是迭代*索引，第二个是**元素*。

注2：我使用 TeenMax 库制作动画。

# excel - 我想使用命令按钮在活动工作表中的 textbox2 中搜索/查找值

> ID：14619694
> 
> 赞同：1
> 
> 时间：2013-01-31T06:25:29.513
> 
> 标签：excel, vba

我想使用命令按钮在活动工作表中的 textbox2 中搜索/查找值

这是我的代码：

```
Dim ws As Worksheet
Set ws = Worksheets("FSS-TEM-00025")
Dim FindString As String
    Dim Rng As Range    
    FindString = Me.TextBox2.Value
    If Trim(FindString) <> "" Then
        With ws.Range("A1:Z1048576")
            'Set Rng = .Find(What:=FindString, _
                            After:=.Cells(.Cells.Count), _
                            LookIn:=xlValues, _
                            LookAt:=xlWhole, _
                            SearchOrder:=xlByRows, _
                            SearchDirection:=xlNext, _
                            MatchCase:=False)'
             Set Rng = ws.Cells.Find(What:=FindString, SearchOrder:=xlRows, _
    SearchDirection:=xlPrevious, LookIn:=xlValues).Row + 1

            If Not Rng Is Nothing Then
                Application.Goto Rng, True
            Else
                MsgBox "Nothing found"
            End If
        End With
    End If

     Unload Me 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-31T08:45:33.640

尝试这个。这对我有用

```
Option Explicit

Private Sub CommandButton1_Click()
    Dim ws As Worksheet
    Dim FindString As String
    Dim Rng As Range

    Set ws = ThisWorkbook.Worksheets("FSS-TEM-00025")

    FindString = TextBox2.Value

    If Trim(FindString) <> "" Then
        Set Rng = ws.Cells.Find( _
                         What:=FindString, _
                         LookIn:=xlValues, _
                         LookAt:=xlPart, _
                         SearchOrder:=xlByRows, _
                         SearchDirection:=xlNext, _
                         MatchCase:=False, _
                         SearchFormat:=False)

        If Not Rng Is Nothing Then
            Application.Goto Rng, True
        Else
            MsgBox "Nothing found"
        End If
    End If
End Sub 
```

如果您试图找到一个完整的匹配项，请更改`LookAt:=xlPart`为。`LookAt:=xlWhole`

更多关于`.Find` [这里](http://www.siddharthrout.com/2011/07/14/find-and-findnext-in-excel-vba/)。

# vba - Excel VBA：运行时错误 13 - 折叠数据透视项时类型不匹配

> ID：14619696
> 
> 赞同：0
> 
> 时间：2013-01-31T06:25:39.280
> 
> 标签：vba, runtime-error, pivot-table, pivotitem

我正在尝试使用 VBA 通过循环折叠数据透视项目。下面是代码：

```
Dim oPI As PivotItems

For Each oPI In ActiveSheet.PivotTables("PivotTable4").PivotFields("TAG").PivotItems
oPI.ShowDetail = False
Next oPI 
```

我收到运行时错误 13 - “类型不匹配”错误。不知道这段代码有什么问题。任何人都可以让我知道要进行哪些更改吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-31T08:02:31.937

将您的声明替换为`oPi`：

```
将 oPi 调暗为对象

```

会达到你想要的。循环需要 Object/Variant 类型的`For Each`变量。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T17:07:03.897

使用这个伙伴：

```
ActiveSheet.PivotTables("Name_of_your_pitot_table").PivotFields("pivot_field_name").ShowDetail = False 
```

# python - Pygame - 实体移动限制 - 碰撞检测

> ID：14619700
> 
> 赞同：1
> 
> 时间：2013-01-31T06:25:57.397
> 
> 标签：python, pygame, collision-detection

好的，所以我有一个实体在两个位置之间来回走动，现在是像素位置，如下所示：

```
 if self.rect.left == 96:
            self.right_dis = False
        if self.rect.right == 480:
            self.right_dis = True
        if not self.right_dis:
            self.xVel = 2
        if self.right_dis:
            self.xVel = -2 
```

我的问题是，有没有办法指定它在平台上移动直到它到达平台末端然后转身？这样它就可以来回移动而无需我指定在哪些像素位置之间？以下是我的其余代码和视频： ![在此处输入图像描述](../Images/40b48e33e9f73b66cae7efa8f0fa3423.png)

```
import pygame
from pygame import *

WIN_WIDTH = 1120 - 320
WIN_HEIGHT = 960 - 320
HALF_WIDTH = int(WIN_WIDTH / 2)
HALF_HEIGHT = int(WIN_HEIGHT / 2)

DISPLAY = (WIN_WIDTH, WIN_HEIGHT)
DEPTH = 0
FLAGS = 0
CAMERA_SLACK = 30

def main():
    global level
    pygame.init()
    screen = pygame.display.set_mode(DISPLAY, FLAGS, DEPTH)
    pygame.display.set_caption("ABCDEFGHIJKLMNOPQRSTUVWXYZ")
    timer = pygame.time.Clock()
    level = 0

    bg = Surface((32,32))
    bg.convert()
    bg.fill(Color("#0094FF"))

    up = left = right = False
    entities = pygame.sprite.Group()
    player = Player(32, 32)
    enemy = Enemy(32,32)
    platforms = []

    x = 0
    y = 0

    if level == 0:
        level = [
            "                                            ",
            "                                            ",
            "                                            ",
            "                                            ",
            "                                            ",
            "                                            ",
            "                                            ",
            "                                            ",
            "                                            ",
            "                                            ",
            "                                            ",
            "                                            ",
            "                                            ",
            "                                            ",
            "                                            ",
            "                                         E  ",
            "                            PPPPPPPPPPPPPPPP",
            "                            PPPPPPPPPPPPPPPP",
            "                            PPPPPPPPPPPPPPPP",
            "               PPPPP        PPPPPPPPPPPPPPPP",
            "                            PPPPPPPPPPPPPPPP",
            "                            PPPP           P",
            "                            PPPP           P",
            "                            PPPP     PPPPPPP",
            "                      PPPPPPPPPP     PPPPPPP",
            "                            PPPP     PPPPPPP",
            "       PPPP                 PPPP     PPPPPPP",
            "                            PPPP     PPPPPPP",
            "                            PPPP     PPPPPPP",
            "                            PPPP     PPPPPPP",
            "PPPPP                       PPPP     PPPPPPP",
            "PPP                         PPPP     PPPPPPP",
            "PPP                         PPPP     PPPPPPP",
            "PPP                         PPPP     PPPPPPP",
            "PPP         PPPPP           PPPP     PPPPPPP",
            "PPP                                     PPPP",
            "PPP                                     PPPP",
            "PPP                                     PPPP",
            "PPP                       PPPPPPPPPPPPPPPPPP",
            "PPP                       PPPPPPPPPPPPPPPPPP",
            "PPPPPPPPPPPPPPP           PPPPPPPPPPPPPPPPPP",
            "PPPPPPPPPPPPPPP           PPPPPPPPPPPPPPPPPP",
            "PPPPPPPPPPPPPPP           PPPPPPPPPPPPPPPPPP",
            "PPPPPPPPPPPPPPP           PPPPPPPPPPPPPPPPPP",
            "PPPPPPPPPPPPPPP           PPPPPPPPPPPPPPPPPP",]

        #background = pygame.image.load("Untitled.png")

    total_level_width = len(level[0]) * 32
    total_level_height = len(level) * 32

    # build the level
    for row in level:
        for col in row:
            if col == "P":
                p = Platform(x, y)
                platforms.append(p)
                entities.add(p)
            if col == "E":
                e = ExitBlock(x, y)
                platforms.append(e)
                entities.add(e)
            x += 32
        y += 32
        x = 0

    camera = Camera(complex_camera, total_level_width, total_level_height)
    entities.add(player)
    entities.add(enemy)

    while 1:
        timer.tick(60)

        for e in pygame.event.get():
            if e.type == QUIT: raise SystemExit, "QUIT"
            if e.type == KEYDOWN and e.key == K_ESCAPE:
                raise SystemExit, "ESCAPE"

            if e.type == KEYDOWN and e.key == K_UP:
                up = True
            if e.type == KEYDOWN and e.key == K_LEFT:
                left = True
            if e.type == KEYDOWN and e.key == K_RIGHT:
                right = True

            if e.type == KEYUP and e.key == K_UP:
                up = False
            if e.type == KEYUP and e.key == K_LEFT:
                left = False
            if e.type == KEYUP and e.key == K_RIGHT:
                right = False

        # draw background
        for y in range(20):
            for x in range(25):
                screen.blit(bg, (x * 32, y * 32))

        # draw background
        #screen.blit(background, camera.apply((0,0)))
        #draw entities
        for e in entities:
            screen.blit(e.image, camera.apply(e))
        # update player, update camera, and refresh
        player.update(up, left, right, platforms)
        enemy.update(platforms)
        camera.update(player)
        pygame.display.flip()

class Camera(object):
    def __init__(self, camera_func, width, height):
        self.camera_func = camera_func
        self.state = Rect(0, 0, width, height)

    def apply(self, target):
        try:
            return target.rect.move(self.state.topleft)
        except AttributeError:
            return map(sum, zip(target, self.state.topleft))

    def update(self, target):
        self.state = self.camera_func(self.state, target.rect)

def complex_camera(camera, target_rect):
    l, t, _, _ = target_rect
    _, _, w, h = camera
    l, t, _, _ = -l + HALF_WIDTH, -t +HALF_HEIGHT, w, h

    l = min(0, l)                           # stop scrolling left
    l = max(-(camera.width - WIN_WIDTH), l)   # stop scrolling right
    t = max(-(camera.height-WIN_HEIGHT), t) # stop scrolling bottom

    return Rect(l, t, w, h)

class Entity(pygame.sprite.Sprite):
    def __init__(self):
        pygame.sprite.Sprite.__init__(self)

class Player(Entity):
    def __init__(self, x, y):
        Entity.__init__(self)
        self.xvel = 0
        self.yvel = 0
        self.onGround = False
        self.image = Surface((32,32))
        self.image.fill(Color("#0000FF"))
        self.image.convert()
        self.rect = Rect(200, 1200, 32, 32)

    def update(self, up, left, right, platforms):
        if self.rect.top > 1440 or self.rect.top < 0:
            main()
        if self.rect.left > 1408 or self.rect.right < 0:
            main()
        if up:
            if self.onGround:
                self.yvel = 0
                self.yvel -= 10 # only jump if on the ground
        if left:
            self.xvel = -10
        if right:
            self.xvel = 10
        if not self.onGround:
            self.yvel += 0.3 # only accelerate with gravity if in the air
            if self.yvel > 80: self.yvel = 80 # max falling speed
        if not(left or right):
            self.xvel = 0

        self.rect.left += self.xvel # increment in x direction
        self.collide(self.xvel, 0, platforms) # do x-axis collisions
        self.rect.top += self.yvel # increment in y direction
        self.onGround = False; # assuming we're in the air
        self.collide(0, self.yvel, platforms) # do y-axis collisions

    def collide(self, xvel, yvel, platforms):
        for p in platforms:
            if pygame.sprite.collide_rect(self, p):
                if isinstance(p, ExitBlock):
                    pygame.event.post(pygame.event.Event(QUIT))
                if xvel > 0: self.rect.right = p.rect.left
                if xvel < 0: self.rect.left = p.rect.right
                if yvel > 0:
                    self.rect.bottom = p.rect.top
                    self.onGround = True
                if yvel < 0:
                    self.rect.top = p.rect.bottom

class Enemy(Entity):
    def __init__(self, x, y):
        Entity.__init__(self)
        self.yVel = 0
        self.xVel = 0
        self.image = Surface((32,32))
        self.image.fill(Color("#00FF00"))
        self.image.convert()
        self.rect = Rect(300, 1200, 32, 32)
        self.onGround = False
        self.right_dis = False

    def update(self, platforms):
        if not self.onGround:
            self.yVel += 0.3

        if self.rect.left == 96:
            self.right_dis = False
        if self.rect.right == 480:
            self.right_dis = True
        if not self.right_dis:
            self.xVel = 2
        if self.right_dis:
            self.xVel = -2

        self.rect.left += self.xVel # increment in x direction
        self.collide(self.xVel, 0, platforms) # do x-axis collisions
        self.rect.top += self.yVel # increment in y direction
        self.onGround = False; # assuming we're in the air
        self.collide(0, self.yVel, platforms) # do y-axis collisions

    def collide(self, xVel, yVel, platforms):
        for p in platforms:
            if pygame.sprite.collide_rect(self, p):
                if xVel > 0: self.rect.right = p.rect.left
                if xVel < 0: self.rect.left = p.rect.right
                if yVel > 0:
                    self.rect.bottom = p.rect.top
                    self.onGround = True
                if yVel < 0:
                    self.rect.top = p.rect.bottom

class Platform(Entity):
    def __init__(self, x, y):
        Entity.__init__(self)
        #self.image = Surface([32, 32], pygame.SRCALPHA, 32) #makes blocks invisible for much better artwork
        self.image = Surface((32,32)) #makes blocks visible for building levels
        self.image.convert()
        self.rect = Rect(x, y, 32, 32)

    def update(self):
        pass

class ExitBlock(Platform):
    def __init__(self, x, y):
        Platform.__init__(self, x, y)
        self.image = pygame.image.load("end.png")

if __name__ == "__main__":
    main() 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-31T07:58:45.817

拿`Rect`你的`Entity`.

如果它向右移动，则取 的`bottomright`点`Rect`，将其向右移动一个像素并向下移动一个像素，然后检查该点是否与 碰撞`Platform`。如果没有，您就知道它到达了平台的尽头。

如果它向左移动，您只需将该`bottomleft`点向左移动一个像素，然后向下移动一个像素。

* * *

“移动”一个点（如果它是 a`Tuple`或`List`）的一种简单方法是使用 map-sum-zip 技巧：

```
>>> point = (8,10)
>>> to_move = (1,1)
>>> map(sum, zip(point, to_move))
[9, 11]
>>> to_move = (-1,1)
>>> map(sum, zip(point, to_move))
[7, 11]
>>> 
```

* * *

只是为了好玩，这里有一个完整的例子（注意评论）：

```
class Enemy(Entity):
    def __init__(self, x, y):
        Entity.__init__(self)
        self.yVel = 0
        self.xVel = 2 # start moving immediately
        self.image = Surface((32,32))
        self.image.fill(Color("#00FF00"))
        self.image.convert()
        self.rect = Rect(300, 1200, 32, 32)
        self.onGround = False

    def update(self, platforms):
        if not self.onGround:
            self.yVel += 0.3

        # no need for right_dis to be a member of the class,
        # since we know we are moving right if self.xVel > 0
        right_dis = self.xVel > 0

        # create a point at our left (or right) feet 
        # to check if we reached the end of the platform
        m = (1, 1) if right_dis else (-1, 1)
        p = self.rect.bottomright if right_dis else self.rect.bottomleft
        fp = map(sum, zip(m, p))

        # if there's no platform in front of us, change the direction
        collide = any(p for p in platforms if p.rect.collidepoint(fp))
        if not collide:
            self.xVel *= -1

        self.rect.left += self.xVel # increment in x direction
        self.collide(self.xVel, 0, platforms) # do x-axis collisions
        self.rect.top += self.yVel # increment in y direction
        self.onGround = False; # assuming we're in the air
        self.collide(0, self.yVel, platforms) # do y-axis collisions

    def collide(self, xVel, yVel, platforms):
        for p in platforms:
            if pygame.sprite.collide_rect(self, p):
                if xVel > 0: 
                    self.rect.right = p.rect.left
                    self.xVel *= -1 # hit wall, so change direction
                if xVel < 0: 
                    self.rect.left = p.rect.right
                    self.xVel *= -1 # hit wall, so change direction
                if yVel > 0:
                    self.rect.bottom = p.rect.top
                    self.onGround = True
                if yVel < 0:
                    self.rect.top = p.rect.bottom 
```

# java - 应用程序在向列表视图添加项目时强制关闭（android）

> ID：14619701
> 
> 赞同：0
> 
> 时间：2013-01-31T06:26:07.960
> 
> 标签：java, android, listview

> **可能重复：**
> [如何将现有数据库与 Android 应用程序一起使用](https://stackoverflow.com/questions/9109438/how-to-use-an-existing-database-with-an-android-application)

我必须通过在 android 中使用 arrayadapter 将项目添加到列表视图中，所以完成了编码，我的 xml 布局文件名是“jobs”，但我收到错误，因为“jobs 无法解析或不是一个字段”，我已经包含了这个清单中的活动但仍然是相同的错误

```
public class Jobs extends ListActivity {
private TextView selection;

private static final String[] items={"Computer Hardware", "Featured", "Information Technology", "Software", "Technical"

};
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.jobs);
    ListView list = (ListView)findViewById(R.id.list);
    ArrayAdapter<String> adapter = new ArrayAdapter<String>(this,
            android.R.layout.jobs, items);
        setListAdapter(adapter);    

 }
public void onListItemClick(ListView parent, View v, int position, long id)
{
    selection.setText(items[position]);
}
 } 
```

这是xml布局文件

```
<?xml version="1.0" encoding="utf-8"?>
 <LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="match_parent"
android:layout_height="match_parent"
android:orientation="vertical" >
<TextView 
    android:id="@+id/selection"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"/>

<ListView
    android:id="@+id/list"
    android:layout_width="match_parent"
    android:layout_height="wrap_content" >
</ListView> 
```

清单.xml

```
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
package="com.rebuix.com"
android:versionCode="1"
android:versionName="1.0" >

<uses-sdk
    android:minSdkVersion="9"
    android:targetSdkVersion="15" />

<uses-permission android:name="android.permission.INTERNET" />

<application
    android:icon="@drawable/rebuix"
    android:label="@string/app_name"
    android:theme="@style/AppTheme" 
    android:background="#3D0909">
    <activity
        android:name=".LoadingScreen"
        android:label="@string/title_activity_loading_screen" >
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />

            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
    </activity>
    <activity
        android:name=".Rebuix"
        android:label="@string/title_activity_rebuix" >
        <meta-data
            android:name="android.support.PARENT_ACTIVITY"
            android:value="com.rebuix.com.Rebuix" />
    </activity>
    <activity
        android:name=".com.rebuix.com.Jobs"
        android:label="@string/app_name" >

    </activity>
    <activity
        android:name=".Login"
        android:label="@string/title_activity_login" >
        <meta-data
            android:name="android.support.PARENT_ACTIVITY"
            android:value="com.rebuix.com.Rebuix" />
    </activity>
    <activity
        android:name=".About"
        android:label="@string/title_activity_about" >
        <meta-data
            android:name="android.support.PARENT_ACTIVITY"
            android:value="android.support.v4.app.FragmentActivity" />
    </activity>
    <activity
        android:name=".Home"
        android:label="@string/title_activity_home" >
        <meta-data
            android:name="android.support.PARENT_ACTIVITY"
            android:value="android.support.v4.app.FragmentActivity" />
    </activity>
    <activity
        android:name=".Changepassword"
        android:label="@string/title_activity_changepassword" >
        <meta-data
            android:name="android.support.PARENT_ACTIVITY"
            android:value="android.support.v4.app.FragmentActivity" />
    </activity>
   </application>

   </manifest> 
```

日志输出

```
01-31 12:31:53.133: I/Tutorial(531): Starting task with url: www.google.co.uk
01-31 12:32:03.972: D/dalvikvm(531): GC_EXTERNAL_ALLOC freed 64K, 52% free  2595K/5379K, external 1645K/2137K, paused 52ms
01-31 12:32:04.102: D/dalvikvm(531): GC_EXTERNAL_ALLOC freed 2K, 52% free 2594K/5379K, external 2687K/3355K, paused 45ms
01-31 12:32:08.083: D/AndroidRuntime(531): Shutting down VM
01-31 12:32:08.083: W/dalvikvm(531): threadid=1: thread exiting with uncaught exception (group=0x40015560)
01-31 12:32:08.103: E/AndroidRuntime(531): FATAL EXCEPTION: main
01-31 12:32:08.103: E/AndroidRuntime(531): android.content.ActivityNotFoundException: Unable to find explicit activity class {com.exm.com/com.exm.com.Jobs}; have you declared this activity in your AndroidManifest.xml?
01-31 12:32:08.103: E/AndroidRuntime(531):  at android.app.Instrumentation.checkStartActivityResult(Instrumentation.java:1405)
01-31 12:32:08.103: E/AndroidRuntime(531):  at android.app.Instrumentation.execStartActivity(Instrumentation.java:1379)
01-31 12:32:08.103: E/AndroidRuntime(531):  at android.app.Activity.startActivityForResult(Activity.java:2827)
01-31 12:32:08.103: E/AndroidRuntime(531):  at android.app.Activity.startActivity(Activity.java:2933)
01-31 12:32:08.103: E/AndroidRuntime(531):  at com.rebuix.com.Rebuix$4.onClick(Rebuix.java:69)
01-31 12:32:08.103: E/AndroidRuntime(531):  at android.view.View.performClick(View.java:2485)
01-31 12:32:08.103: E/AndroidRuntime(531):  at android.view.View$PerformClick.run(View.java:9080)
01-31 12:32:08.103: E/AndroidRuntime(531):  at android.os.Handler.handleCallback(Handler.java:587)
01-31 12:32:08.103: E/AndroidRuntime(531):  at android.os.Handler.dispatchMessage(Handler.java:92)
01-31 12:32:08.103: E/AndroidRuntime(531):  at android.os.Looper.loop(Looper.java:123)
 01-31 12:32:08.103: E/AndroidRuntime(531):     at android.app.ActivityThread.main(ActivityThread.java:3683)
 01-31 12:32:08.103: E/AndroidRuntime(531):     at  java.lang.reflect.Method.invokeNative(Native Method)
01-31 12:32:08.103: E/AndroidRuntime(531):  at java.lang.reflect.Method.invoke(Method.java:507)
01-31 12:32:08.103: E/AndroidRuntime(531):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)
 01-31 12:32:08.103: E/AndroidRuntime(531):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)
  01-31 12:32:08.103: E/AndroidRuntime(531):    at dalvik.system.NativeStart.main(Native Method) 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-31T06:28:07.590

因为您正在扩展`ListActivity`然后声明 ListView 与 xml 中的一样：

```
android:id="@android:id/list" 
```

并获取 ListView 参考：

```
ListView list = (ListView)findViewById(android.R.id.list); 
```

或者

```
 ListView list = this.getListView(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-31T06:28:54.433

你的问题是：

```
 ArrayAdapter<String> adapter = new ArrayAdapter<String>(this,
            android.R.layout.jobs, items);
        setListAdapter(adapter); 
```

删除安卓：

```
 ArrayAdapter<String> adapter = new ArrayAdapter<String>(this,
            R.layout.jobs, items);
        setListAdapter(adapter); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-31T06:39:07.143

尝试这个

```
public class Jobs extends ListActivity {

 private TextView selection;

private static final String[] items = { "Computer Hardware", "Featured", "Information Technology",
        "Software", "Technical"

};

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.jobs);
    ArrayAdapter<String> adapter = new ArrayAdapter<String>(this, android.R.layout.simple_list_item_1, items);
    setListAdapter(adapter);

}

public void onListItemClick(ListView parent, View v, int position, long id) {
    selection.setText(items[position]);
} 
```

}

```
<?xml version="1.0" encoding="utf-8"?>
 <LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="match_parent"
android:layout_height="match_parent"
android:orientation="vertical" >
<TextView 
    android:id="@+id/selection"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"/>

<ListView
    android:id="@android:id/list"
    android:layout_width="match_parent"
    android:layout_height="wrap_content" >
</ListView> 
```

***解释 ：***

**1** ) 所以你在自定义视图中的列表应该有 id android:id="@android:id/list"。如果您想将它们添加到**ListActivity**中。

**2** ) 您没有将项目映射到列表视图，而是映射到列表项。**因此，您必须在添加新的 ArrayAdapter(this, android.R.layout.simple_list_item_1, items);**时使用自定义列表项或使用 android 默认值 。

 *** * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-31T06:30:20.687

代替

```
android.R.layout.jobs 
```

利用

```
R.layout.jobs 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-31T06:31:57.253

看起来您使用了错误的 R 类。您将作业定义称为`android.R.layout.jobs`（这是 Android 的 R 类，可能不包含作业定义）。这应该类似于`<your package>/R.layout.jobs`.

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-01-31T06:35:19.943

可能你的问题是：`android.R.layout.jobs`

在

```
ArrayAdapter<String> adapter = new ArrayAdapter<String>(this, android.R.layout.jobs, items);
setListAdapter(adapter); 
```

试试看 ：

```
ArrayAdapter<String> adapter = new ArrayAdapter<String>(this, android.R.layout.simple_list_item_1, items); 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-01-31T06:35:29.863

当您通过 ListActivity 扩展您的活动时，您必须将 listview id 声明为`@android:id/list`

```
android:id="@android:id/list" 
```

在您的活动中，无需声明 listview。否则，如果您想声明，请执行以下操作

```
ListView list = (ListView)findViewById(android.R.id.list); 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2013-01-31T07:16:44.650

注意到错误并不难，当您遇到错误时请注意堆栈跟踪。

> 01-31 12:32:08.103: E/AndroidRuntime(531): android.content.ActivityNotFoundException: 找不到明确的活动类 {com.exm.com/com.exm.com.Jobs}; 您是否在 AndroidManifest.xml 中声明了此活动？**

# c - C项目有两个例子，好像只有一个可以编译，makefile issue

> ID：14619702
> 
> 赞同：0
> 
> 时间：2013-01-31T06:26:27.257
> 
> 标签：c, makefile

我正在开发一个开源 C 项目，该项目有两个示例文件来运行库，一个名为 example.c，一个名为 test.c。

Makefile 包含以下内容：

```
测试：test.c src/term.c
            $(抄送) $^ -o $@

示例：example.c src/term.c
            $(CC) -std=c99 $^ -o $@

.PHONY：测试示例

```

但是，当我运行 make 然后执行 ./test 时，测试会运行，但是当我执行 ./example 时，它​​不会。任何想法为什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-31T07:28:32.297

当您只需键入`make`第一个目标正在执行时，在您的情况下是它的测试。所以你只会得到`test`可执行文件。但是如果你输入`make example`然后`example`目标被执行，你会得到`example`二进制文件。我认为您需要重新了解 Makefile 规则。您可以参考[这个以获得](http://sagarsakre.blogspot.in/2012/09/understanding-makefile-for-beginners.html)[基本](http://www.gnu.org/software/make/manual/make.html)概念或深入理解

# iphone - UILocalNotification 显示 400 个徽章

> ID：14619711
> 
> 赞同：0
> 
> 时间：2013-01-31T06:27:19.180
> 
> 标签：iphone, ios, objective-c, ipad, uilocalnotification

我正在为一个时间间隔安排一个 UILocalNotification 。基本上我希望在这个应用程序上每 x 天触发一次通知。所以我这样做的方式是一次安排一堆通知。所以说它是每 2 天，然后我从现在开始每 2 天计算一年的日期。我不确定这是否是正确和最有效的解决方案，但通过在线研究，这是我需要做的。

问题是当通知触发并且我打开应用程序时，徽章数会上升到 500，我认为这是我安排的所有未来通知的数量。这怎么可能>徽章不应该只显示时间戳之前的通知数量吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-31T06:36:06.673

徽章编号不显示通知的数量，而是您设置为通知有效负载的徽章值。

# javascript - Windows 8 网格应用模板 - 动态添加数据

> ID：14619714
> 
> 赞同：-1
> 
> 时间：2013-01-31T06:27:44.717
> 
> 标签：javascript, windows-8, windows-runtime, windows-store-apps, winjs

我想基于网格应用程序模板在我的 JavaScript Windows 8 应用程序中将数据动态添加到 data.js 中。我希望该模板中的某些特定组项从右向左滚动。以及如何翻转组项目内特定图块的图像？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T20:50:13.687

# php - 从多维数组中获取数据

> ID：14619715
> 
> 赞同：0
> 
> 时间：2013-01-31T06:27:47.197
> 
> 标签：php, multidimensional-array

```
Array
(
[1] => Array
    (
        [0] => purple.txt
        [1] => pinky.txt
        [2] => original stuff.txt
    )

[2] => Array
    (
        [0] => purp1.txt
        [1] => pink1.txt
        [2] => original stuff1.txt
        [3] => increment1.txt
    )

)
Array
(
[1] => Array
    (
        [0] => C:\wamp\tmp\php6395.tmp
        [1] => C:\wamp\tmp\php63A6.tmp
        [2] => C:\wamp\tmp\php63A7.tmp
    )

[2] => Array
    (
        [0] => C:\wamp\tmp\php63A8.tmp
        [1] => C:\wamp\tmp\php63A9.tmp
        [2] => C:\wamp\tmp\php63AA.tmp
        [3] => C:\wamp\tmp\php63AB.tmp
    ) 
```

我想将数组键与第二个数组中的正确数组键匹配，例如我希望能够获取文件名

每个

```
[1] => Array
[2] => Array 
```

是一个新行，我想最终将该行中的所有文件名保存在 mysql 中，以便我可以调用链接....

```
[1] => Array
    (
        [0] => purple.txt 
```

并将其与

```
[1] => Array
    (
        [0] => C:\wamp\tmp\php6395.tmp 
```

所以我可以将它们一起用于文件存储等等......

下面的php是

```
if(isset($_FILES['file'])=== true){
$files = $_FILES['file']['name'];
$files_tmp = $_FILES['file']['tmp_name'];

echo '<pre>';
print_r ($files);
echo '<pre>';

echo '<pre>';
print_r ($files_tmp);
echo '<pre>'; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-31T06:36:11.293

像这样的东西？

```
$rows = array();

foreach( $first_array as $key => $value )
{
    foreach( $value as $k => $v )
    {
        $rows[] = array( 'filename' => $v, 'path' => $second_array[$key][$k] );
    }
}

echo '<pre>' . print_r( $rows, true ) . '</pre>'; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-31T06:39:15.363

这就是您迭代多个上传文件的方式。假设您有这些输入元素名称：

```
file[0][0]
file[0][1]
file[1][0]
...

foreach ($_FILES['file']['name'] as $row => $rowfiles) {
    foreach ($rowfiles as $index => $name) {
        $tmp_name = $_FILES['file']['tmp_name'][$row][$index];

        // do stuff with $name and $tmp_name
    }
} 
```

# android - popBackStack 上的空指针异常

> ID：14619724
> 
> 赞同：1
> 
> 时间：2013-01-31T06:28:09.773
> 
> 标签：android, android-fragments

我正在使用 Fragments 和 Sherlock 操作栏开发 android 应用程序，我正在使用该方法

块引用

`getSherlockActivity().getSupportFragmentManager().popBackStack();`

用于返回以前的片段。有时它运行良好，但有时它会出现`NULL POINTER`异常。解决方案是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-04-04T07:34:58.517

popBackStack()**不会**导致 NullPointerException。我创建了一段代码并连续多次调用它 - 当没有什么可以弹出时。它只是让当前片段可见并且什么都不做。我认为问题不在于 popBackStack 方法，但是，我没有使用 ABS，只是一个常规的 android 片段 API。你能提供一段代码吗？也许问题出在其他地方？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-31T08:13:57.703

在尝试弹出它之前，您应该检查您的 backstack 上是否有任何片段。

```
if( getSherlockActivity().getSupportFragmentManager().getBackStackEntryCount() > 0 )
    getSherlockActivity().getSupportFragmentManager().popBackStack(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-31T06:51:36.790

我的猜测是没有什么可以流行的了。尝试在弹出之前检查它是否存在。

# javascript - 如何在外部网页（如 Pinterest 的小书签）上的 iframe 中删除 iframe？

> ID：14619725
> 
> 赞同：0
> 
> 时间：2013-01-31T06:28:26.053
> 
> 标签：javascript, css

我正在制作一个书签，允许用户突出显示外部网页上的文本。

它运行 JavaScript 代码，将 JavaScript 文件从我的服务器附加到当前网页，获取当前网页的标题、当前网页的 URL，然后是当前网页的突出显示文本。最后，用户将单击一个按钮将数据提交到我的 Web 服务器以保存到数据库中。

我有两种方法可以做到这一点：（1）有一个弹出窗口，其中包含 URL 中的数据作为参数，或者（2）有一个 iframe 插入到当前网页中，并带有一个表单来提交数据。

在弹出窗口 (1) 中，用户浏览器会自动阻止每个域的弹出窗口。我该如何解决这个问题？看起来 Facebook 分享和推特推文按钮绕过了弹出窗口拦截器......

在带有 iframe (2) 的那个中，我想在提交数据后从 DOM 中删除 iframe。但是，如果我在另一个域上，我会收到一条错误消息，说我因来源政策而被拒绝访问。我知道这是可能的，因为 Pinterest 的小书签会这样做，它会插入一个 iframe，然后将其从当前 DOM 中删除。

我正在寻找有关这些解决方案如何工作的信息，所以我可以用我的书签做类似的事情。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-01T18:05:11.250

我通过在从 iframe 保存数据后添加发布消息回调解决了这个问题。

# javascript - lodash 绑定函数使用作为 jQuery eventHandler... 有可能吗？

> ID：14619726
> 
> 赞同：1
> 
> 时间：2013-01-31T06:28:26.640
> 
> 标签：javascript, dom-events, lodash

我是 lo-dash 的新手，想知道是否可以使用`_.bind`as`$.bind`以及如何实现这一点？我真的很想摆脱 jQuery 并使用更小的东西......

我需要的是将 DOM 事件绑定到函数

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T20:08:09.977

这是两种不同的机制。

_.bind 将函数的 this 值设置为第一个参数，这样 'this' 将始终指向函数中的同一个对象。我会说它将“this”的范围绑定到函数，除非这在技术上是不正确的。

$.bind 将 jquery 触发事件侦听器添加到 jquery 包装元素。

有很多 dom 选择替代方案（例如 zepto.js），但 lodash/underscore 库确实是 jquery 的补充，而不是代替 jquery。

话虽如此，这可能不一定能回答您的问题，除非说 zeptoJs 可能是这样一种选择。同样，Underscore/Lodash 不是替代品，但其中一个或另一个提供了额外的功能（从长远来看，这将节省文件大小。）

恕我直言。37k 不是针对 jquery/lodash 和其他此类工具的有效论据。为什么？1）如果您从 CDN 为您的库提供服务，它甚至不是对服务器的有效命中。2) 这些库可以帮助您编写 WAY SMALLER 代码。

事实上，这种说法听起来更像是一个借口而不是一个理由。

干杯。

# windows-server-2008 - Server 2008 在 GAC 中要求“microsoft.web.administration”

> ID：14619727
> 
> 赞同：0
> 
> 时间：2013-01-31T06:28:29.457
> 
> 标签：windows-server-2008

在服务器 2008 上，如何找到“microsoft.web.administration”并将其加载到 GAC 中？

我的程序曾经可以工作，但现在它终止并抱怨它无法加载“microsoft.web.administration”。

任何人都可以帮忙吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-31T12:01:53.880

我想到了。我刚刚引用了 windows server 2008 SDK 中的控件，它运行良好。谢谢。

# c++ - 在 scipy weave 中搜索字典

> ID：14619731
> 
> 赞同：4
> 
> 时间：2013-01-31T06:28:42.107
> 
> 标签：c++, python, optimization, data-structures, scipy

我正在做一个项目来优化包含一个巨大的 for 循环但必须在 Python 中调用的算法，所以我正在使用 scipy weave 工具。我拥有的代码行之一是在 Python 中：

```
if entry not in a_set:
    #do something 
```

我想像一个集合一样继续有恒定的查找时间，所以我打算使用字典来加快查找时间。我需要在我的 C++ 代码中执行相同的功能。我必须将集合作为参数传递。

1.  `py::dict`是用 dict ( )做到这一点的唯一方法吗？如果是这样，我如何在内联 C 代码中调用 containskey(key) 函数？我是否需要使用对 python 的调用来获得该功能？

2.  是否有另一种方法/数据结构可以按照 scipy weave 的规定使用？

我所依据的参考是：[https ://github.com/scipy/scipy/blob/master/scipy/weave/doc/tutorial.txt](https://github.com/scipy/scipy/blob/master/scipy/weave/doc/tutorial.txt)

# macos - 如何在 mac os x 上安装 libGL？

> ID：14619739
> 
> 赞同：3
> 
> 时间：2013-01-31T06:29:04.960
> 
> 标签：macos, opengl

我有 OS X lion 并在构建需要 GL 的程序时遇到此错误。

> ld: 找不到 -lGL 的库

如何安装 libGL？我通常使用 MacPorts，但在那里找不到 libGL。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-31T06:32:43.587

您改为使用框架。

```
-framework OpenGL 
```

试试看。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-11-16T11:25:29.007

如果您使用的是 cmake，您可以在代码中使用它：

```
 find_package(OpenGL REQUIRED)

    if (OPENGL_FOUND)
        message("Found OpenGL for Mac OS")
        message("OpenGL for Mac OS, include dir: ${OPENGL_INCLUDE_DIR}")
        message("OpenGL for Mac OS, link libraries: ${OPENGL_gl_LIBRARY}")
    else (OPENGL_FOUND)
        message(FATAL_ERROR "OpenGL for Mac OS not found")
    endif()

    target_link_libraries(${MY_OTHER_LIBS}
        ${OPENGL_gl_LIBRARY}
        ${OPENGL_glu_LIBRARY}
    ) 
```

干杯!

# python - 在 python 设计中，一个名为 addSub 的函数将接收三个参数，数字 x,y,z 并将返回 x yz

> ID：14619740
> 
> 赞同：-6
> 
> 时间：2013-01-31T06:29:06.257
> 
> 标签：python

在 python 中，设计一个名为 addSub 的函数，它将接收三个参数，数字 x,y,z 并返回 x+yz

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-31T06:39:57.473

```
addSub = lambda x, y, z: x+y-z 
```

# asterisk - Asterisk PBX - PRI 呼叫分组

> ID：14619743
> 
> 赞同：0
> 
> 时间：2013-01-31T06:29:14.887
> 
> 标签：asterisk

我使用星号创建了一个自定义 IVR。IVR 就是根据用户输入的人员 ID 从数据库中获取人员医疗信息并告知他们的病史。

我有 6 个客户喜欢（学校和大学）。我打算购买一条 24 通道的 PRI 线路，并为每个客户分配 4 个通道。4 个客户可以同时呼叫一个 DID 号码。如果第 5 位客户来电，它应该发出忙音。

每个客户都应该有一个唯一的号码，所以我打算从我的电信服务提供商那里购买 6 个 DID 号码。

如何使用星号 pbx 实现此目的或向我提供任何输入以继续此操作

谢谢马格什

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-31T15:27:08.180

达到什么？

我建议您先阅读“Asterisk the future of telephony”之类的书。

之后阅读此 [http://www.voip-info.org/wiki/view/chan_dahdi.conf](http://www.voip-info.org/wiki/view/chan_dahdi.conf) 以获取可能的分组/频道选项和此： [http](http://www.voip-info.org/wiki/view/Asterisk+AGI) ://www.voip-info.org/wiki/view/Asterisk+ 用于与第三方 crms/系统集成的[AGI 。](http://www.voip-info.org/wiki/view/Asterisk+AGI)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-01-28T01:26:51.060

通过 dnis 使用 GROUP 命令对呼叫进行分组

计算具有该 dnis 的呼叫

应用你的限制

像这样的东西...

```
; this is your dialplan
[yourdialplan]
exten => 7314451234,n,Macro(limit-by-did,${EXTEN})
exten => 7314451235,n,Macro(limit-by-did,${EXTEN})
exten => 7314451236,n,Macro(limit-by-did,${EXTEN})
exten => 7314451237,n,Macro(limit-by-did,${EXTEN})
exten => 7314451238,n,Macro(limit-by-did,${EXTEN})

; this does the check
[macro-limit-by-did]
exten => s,1,Verbose(2,"checking limits")

; group by dnis
exten => s,n,Set(GROUP(CLIENT)=${ARG1})

; count number of calls in this dnis that are active
exten => s,n,Set(CLIENT_COUNT=${GROUP_COUNT(${ARG1}@CLIENT)})

; apply the limits jumping to block or pass
exten => s,n,GotoIf($[${CLIENT_COUNT} > 4]?block:pass)

; sorry you were 5th caller
exten => s,n(block),Verbose(2,too many callers to ${ARG1})
exten => s,n,Hangup()

; you were less than 5th caller continue on
exten => s,n(pass),Verbose(2,less than 4 callers on ${ARG1}) 
```

# winforms - 有没有办法为 ListView 制作加载栏（进度条）？

> ID：14619745
> 
> 赞同：2
> 
> 时间：2013-01-31T06:29:33.593
> 
> 标签：winforms, listview, progress-bar, vb.net-2010

我一直在计划做一个`ProgressBar`让我`ListView`知道已经加载了多少百分比。有没有人有任何想法？

```
Public Class Form1

     Private Sub Timer1_Tick(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles Timer1.Tick
            ProgressBar1.Value += 2
            If ProgressBar1.Value >= 100 Then
                ProgressBar1.Value = 100
            End If
        End Sub

        Private Sub Form1_Load(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles MyBase.Load
            ProgressBar1.Minimum = 0
            ProgressBar1.Maximum = 100
            ProgressBar1.Value = 0
        End Sub
    End Class 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-31T07:15:51.563

您有正确的想法，但您可能希望在加载列表视图而不是计时器滴答事件的代码中设置进度条值，因为您事先不知道需要多少时间。希望您能获得已加载列表视图的粗略百分比，然后将该值分配给`ProgressBar1.Value`.

# java - HtmlUnit无法登录表单提交后它返回相同的页面

> ID：14619748
> 
> 赞同：6
> 
> 时间：2013-01-31T06:29:56.610
> 
> 标签：java, htmlunit

我正在尝试在 HtmlUnit 的帮助下登录该站点，但是单击登录后，它返回相同的页面，其中输入字段填充了我无法登录的值，请建议我一个解决方案。

我正在尝试以下代码

```
 WebClient webClient = new WebClient(BrowserVersion.FIREFOX_3_6);
        webClient.getOptions().setJavaScriptEnabled(true);
        webClient.getOptions().setCssEnabled(true);
        webClient.getOptions().setRedirectEnabled(true);
        webClient.setAjaxController(new NicelyResynchronizingAjaxController());
        webClient.getCookieManager().setCookiesEnabled(true);

        String url="http://xxxxxxxxx.xxx/";
        String name="XXXX";//here real value i am putting for name, accountNo and pass instead of XXXX
        String accountNo="XXXX";
        String pass="XXXX";

        HtmlPage page = webClient.getPage(url);
        System.out.println("1st page : "+page.asText());

        HtmlForm form=(HtmlForm)page.getElementById("aspnetForm");
        HtmlInput uName=(HtmlInput)form.getByXPath("//*[@id=\"ctl00_LoginControl_textUserName_text\"]").get(0);
        uName.setValueAttribute(name);
        HtmlInput acNo=(HtmlInput)form.getByXPath("//*[@id=\"ctl00_LoginControl_textCompanyAccount_text\"]").get(0);
        acNo.setValueAttribute(accountNo);          
        HtmlPasswordInput password=(HtmlPasswordInput)form.getByXPath("//*[@id=\"ctl00_LoginControl_textPassword\"]").get(0);
        password.setValueAttribute(pass);
        HtmlSubmitInput button = (HtmlSubmitInput) form.getByXPath("//*[@id=\"ctl00_LoginControl_buttonLogin\"]").get(0);

        page = (HtmlPage) button.click();
        System.out.println("2nd Page : "+page.asText());

        webClient.closeAllWindows(); 
```

单击登录按钮后，相同的页面将返回填充的输入字段。所以请帮帮我。谢谢

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-04T03:53:23.510

```
WebClient webClient = new WebClient(BrowserVersion.FIREFOX_3_6);
webClient.getOptions().setJavaScriptEnabled(true);
webClient.getOptions().setCssEnabled(false); // I think this speeds the thing up
webClient.getOptions().setRedirectEnabled(true);
webClient.setAjaxController(new NicelyResynchronizingAjaxController());
webClient.getCookieManager().setCookiesEnabled(true);

String url="http://truckstop.com/";
String name="XXXX";
String accountNo="XXXX";
String pass="XXXX";

HtmlPage page = webClient.getPage(url);
System.out.println("1st page : "+page.asText());

HtmlForm form=(HtmlForm)page.getElementById("aspnetForm");
HtmlInput uName=(HtmlInput)form.getByXPath("//*[@id=\"ctl00_LoginControl_textUserName_text\"]").get(0);
uName.setValueAttribute(name);
HtmlInput acNo=(HtmlInput)form.getByXPath("//*[@id=\"ctl00_LoginControl_textCompanyAccount_text\"]").get(0);
acNo.setValueAttribute(accountNo);          
HtmlPasswordInput password=(HtmlPasswordInput)form.getByXPath("//*[@id=\"ctl00_LoginControl_textPassword\"]").get(0);
password.setValueAttribute(pass);
HtmlSubmitInput button = (HtmlSubmitInput) form.getByXPath("//*[@id=\"ctl00_LoginControl_buttonLogin\"]").get(0);

WebWindow window = page.getEnclosingWindow();
button.click();
while(window.getEnclosedPage() == page) {
    // The page hasn't changed.
    Thread.sleep(500);
}
// This loop above will wait until the page changes.
page = window.getEnclosedPage();
System.out.println("2nd Page : "+page.asText());

webClient.closeAllWindows(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-04T08:19:08.213

也许该站点检查`Referer`标头参数：

```
webClient.addRequestHeader("Referer", "http://truckstop.com/"); 
```

使用 WebWindowListener 对页面更改做出反应（点击按钮后也等待 javascript）：

```
webClient.addWebWindowListener( new WebWindowListener() {
    void webWindowContentChanged(WebWindowEvent event) {
        System.out.println("2nd Page : "+event.getNewPage().asText());
        webClient.closeAllWindows();
    }
    ...
});

button.click();
webClient.waitForBackgroundJavaScript(TIMEOUT); 
```

# android - Android MediaPlayer 在 onBackPressed 上停止

> ID：14619749
> 
> 赞同：0
> 
> 时间：2013-01-31T06:30:01.327
> 
> 标签：android, android-mediaplayer

我有很多问题`MediaPlayer`。它可能与旧的操作系统版本有关，至少在 2.3 之前。

一个声音在某个`Activity`（在启动另一个之前）播放良好当我弹出第二个`Activity`以返回第一个时，我在弹出之前播放声音文件（我使用 super.onBackPressed）。

在这些旧设备（~2.3）上，声音文件被切断。我使用相同的方式启动和播放`MediaPlayer`.

我创建了`MediaPlayer`使用`create`（同步）。我`MediaPlayer`通过将它放在一个静态容器中来保留它。我只在`setOnCompletionListener`. 这是怎么回事..

这是一些代码...

```
// Start sound
adhocplaysoundstatic(R.raw.soundfile, getApplicationContext()); 
// Pop activity
super.onBackPressed(); 
```

定义

```
static ArrayList<MediaPlayer> staticplayers = new ArrayList<MediaPlayer>();
static public void adhocplaysoundstatic(final int MEDIA, Context context) {
    MediaPlayer player = getMediaPlayerStatic(MEDIA, context);
    staticplayers.add(player); // Hold on to
    player.setOnCompletionListener(new OnCompletionListener() {
        @Override public void onCompletion(MediaPlayer mp) {
            mp.release();
            staticplayers.remove(mp);
        }
    });
    player.setOnPreparedListener(new OnPreparedListener() {
        @Override
        public void onPrepared(MediaPlayer mp) {
            Log.d(LOG_TAG, "onPrepared, play!");
            mp.start();             
        }});
    //player.start();
} 
```

更多的...

```
static protected MediaPlayer getMediaPlayerStatic(int id, Context context) throws RuntimeException {
    MediaPlayer player = MediaPlayer.create(context, id);
    if (player == null) {
        throw new RuntimeException("Failed creating media player from id " + id);
    }
    else {
        player.setOnErrorListener(new OnErrorListener() {
            @Override public boolean onError(MediaPlayer mp, int what, int extra) {
                Log.d(LOG_TAG, "MediaPlayer error: " + mp.toString() + ", what: " + what + ", extra: " + extra);
                return false;
            }
        });
    }
    return player;
} 
```

# php - 具体/Apache 错误日志

> ID：14619754
> 
> 赞同：1
> 
> 时间：2013-01-31T06:30:16.317
> 
> 标签：php, apache, concrete5

有没有人在 Concrete CMS 上运行的站点中看到以下错误？

这是来自 apache 错误日志文件

> [2013 年 1 月 31 日星期四 08:06:51] [错误] [客户端 41.56.88.53] 文件不存在：/
> var/www/\r\n SomeCustomInjectedHeader:injected_by_wvs，引用者： [http ://www.mysite.com ：80/](http://www.mysite.com:80/) [Thu Jan 31 08:06:51 2013] [error] [client 41.56.88.53] 文件不存在：/var/www/\n SomeCustomInjectedHeader:injected_by_wvs，引用者： [http://www.mysite。 com](http://www.mysite.com)

看起来像是某种注入文件。有谁知道我如何在错误日志中找到导致这些条目的原因？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-13T06:51:07.187

这与concrete5无关。这是来自外部来源的扫描，寻找某种漏洞。

这可能是好的（一些托管服务提供商可能会这样做以确保您不会被黑客入侵）或坏的（寻找机器进行攻击的人）。但坏是相对的。这就像回到你的车里，看到有人触摸了你的门把手......如果你看你的日志，你会看到很多这样的盲目攻击。

# php - 选择某个值时没有出现回声

> ID：14619760
> 
> 赞同：0
> 
> 时间：2013-01-31T06:30:38.237
> 
> 标签：php, mysqli

我在下面有一个评估下拉菜单：

```
<select name="session" id="sessionsDrop">
<option value="All">All</option>
<option value="2">EOWOW</option>
<option value="34">EOWOW</option>
</select>  

 <select name="student" id="studentsDrop">
    <option value="All">All</option>
    <option value="23">Jay Hart</option>
    <option value="32">Bubba Wright</option>
    </select> 
```

上面是一个简单的下拉菜单。我在下面运行查询以获取选定学生的详细信息以及选定的评估详细信息。现在选择的评估输出细节没有问题，但是 echo for selected student 选项不起作用，就像用户选择`All`选项一样，然后 echo `"<p><strong>Students: </strong>All Students - Total:(" .$selstudentnum . ")</p>" . PHP_EOL;`。但问题是，如果选择该选项，它不会显示此回显`All`。事实上，如果选择该选项，它根本不会显示回声`All`。我都试过了`===`，`==`但看不到我做错了什么

```
$selectedsessionqry = "
SELECT
SessionName, SessionDate, SessionTime
FROM
Session
WHERE
(SessionId = ?)
";

global $mysqli;
$selectedsessionstmt=$mysqli->prepare($selectedsessionqry);
// You only need to call bind_param once
$selectedsessionstmt->bind_param("i",$_POST["session"]);
// get result and assign variables (prefix with db)
$selectedsessionstmt->execute(); 
$selectedsessionstmt->bind_result($selSessionName,$selSessionDate,$selSessionTime);

 while ($selectedsessionstmt->fetch()) {

     echo "<p><strong>Assessment: </strong>" . $selSessionName . " - " . date('d-m-Y',strtotime($selSessionDate)) . " - " . date('H:i',strtotime($selSessionTime)) . "</p>" . PHP_EOL;

 }

$selectedsessionstmt->close();   

    $selectedstudentqry = "
        SELECT
        StudentAlias, StudentForename, StudentSurname
        FROM
        Student
        WHERE
        (StudentId = ?)
        ";

        global $mysqli;
        $selectedstudentstmt=$mysqli->prepare($selectedstudentqry);
        // You only need to call bind_param once
        $selectedstudentstmt->bind_param("i",$_POST["student"]);
        // get result and assign variables (prefix with db)
        $selectedstudentstmt->execute(); 
        $selectedstudentstmt->bind_result($selStudentAlias,$selStudentForename,$selStudentSurname);
        $selectedstudentstmt->store_result();
        $selstudentnum = $selectedstudentstmt->num_rows();   

         while ($selectedstudentstmt->fetch()) {

        if($_POST["student"] === 'All') {
            echo "<p><strong>Students: </strong>All Students - Total:(" .$selstudentnum . ")</p>" . PHP_EOL;
        }else{
            echo "<p><strong>Students: </strong>" . $selStudentAlias . " - " . $selStudentForename . " " . $selStudentSurname . "</p>" . PHP_EOL;
        }
        } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-31T06:39:24.617

我认为你的条件在这里失败

```
 $selectedstudentstmt->bind_param("i",$_POST["student"]); 
```

它期望整数值，但您正在发送字符串。

不要在查询中直接使用 $_POST，这会导致 sql 注入攻击。

在 sql 查询中使用之前清理用户输入。

更改：在查询之前添加以下条件。再次不要忘记消毒。

```
if ($_POST["student"] == 'ALL') {
   $where = WHERE (StudentId = ?) ";
} else {
  $where  = "";
}
$selectedstudentqry = " SELECT StudentAlias, StudentForename, StudentSurname FROM    Student  $where 
```

# php - FOR 循环：如何使用 for 循环从 xml 页面获取值？

> ID：14619761
> 
> 赞同：0
> 
> 时间：2013-01-31T06:30:44.257
> 
> 标签：php, xml, xml-parsing, xml-serialization, simplexml

我的xml页面：

```
<item>
<title geoid="1198">District of Columbia</title>
<description cong_dist="Delegate District (at Large) 98">DC - Delegate District (at Large) 98 <br/> No of Incidents: 1436</description>
<latitude>38.8933115</latitude>
<longitude>-77.0146475</longitude>
<georss:polygon>38.934311 -77.1199 38.939834989364 -77.112868886998 38.94641 -77.1045 38.94891 -77.1007 38.95651 -77.0915 38.960871062931 -77.085827416011 38.967245703105 -77.077535703105 38.971616050926 -77.07185104194 38.98511 -77.054299 38.986557824794 -77.0523733.885112 -76.919295 38.884412 -76.920195 38.881242218815 -76.92424312618 886998 38.934311 -77.1199</georss:polygon>
</item> 
```

我必须通过 for 循环中的标签 <> 名称一一取值。

```
for(?){
     geom = items[i].childNodes[j].childNodes[0].nodeValue;
} 
```

这个值在 for 循环中迭代，我必须将值存储在`geom`.

如何从`"sample.xml"`xml 页面中获取值。

我必须按`tag name`.

这个怎么做？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-31T06:34:55.903

您可以使用`SimpleXMLElement`它的类循环遍历要迭代的 Item 的长度

[示例和文档](http://php.net/manual/en/class.simplexmlelement.php)

我更喜欢并建议使用 foreach

# asp.net - .net 中的智能设备应用

> ID：14619762
> 
> 赞同：0
> 
> 时间：2013-01-31T06:30:46.867
> 
> 标签：asp.net, .net, windows-phone-7, smart-device

我正在学习智能设备应用程序开发的基础知识。我使用美国 windows mobile 5.0 掌上电脑模拟器开发了小应用程序。我对模拟器和部署有基本的疑问。

1.根据智能手机设备我们必须下载模拟器并开发应用程序，否则默认模拟器将支持所有windows设备？

2.如何部署和安装那些部署的那些文件到我的windows phone

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-31T10:43:53.127

Windows Mobile 应用程序与 Windows Phone 不兼容。

要开发 Windows Phone 应用程序，您需要安装 Windows Phone SDK。它将安装 WP 模拟器和一堆工具。您将能够使用 Visual Studio 或随 Windows Phone SDK 一起提供的名为 XAPDeploy 的工具将应用程序部署到模拟器或设备。

这是你要求的吗？

# spring - @Autowired 注解

> ID：14619763
> 
> 赞同：1
> 
> 时间：2013-01-31T06:30:50.263
> 
> 标签：spring

我写了一个小代码来检查Spring中的@Autowired注解，这是我的一段代码

```
public class Address 
{
    private String street;
    private String City;
    private String State;
    private String Country;

    /* getter setter here */       
}

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.beans.factory.annotation.Qualifier;

public class Customer 
{
    private String name;
    private Address address;

    // other getter setter here 

    @Autowired
    public void setAddress(Address address)
    {
        this.address = address;
    }
} 
```

和 springexample.xml 文件

```
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.springframework.org/schema/beans
    http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
    http://www.springframework.org/schema/context 
    http://www.springframework.org/schema/context/spring-context-3.0.xsd">
    <bean id="address1" class="org.springexamples.Address">
            <property name="street" value="vihar" />
            <property name="city" value="dehradun" />
            <property name="state" value="Uttarakhand" />
            <property name="country" value="India" />
    </bean>
    <bean id="addres2" class="org.springexamples.Address">
            <property name="street" value="triveni vihar" />
            <property name="city" value="dehradun" />
            <property name="state" value="Uttarakhand" />
            <property name="country" value="India" />
    </bean>
    <bean id="customer" class="org.springexamples.Customer">
        <property name="name" value="deepak" />
    </bean>
    <bean class="org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor" />
</beans> 
```

和主班

```
import org.springframework.context.ApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;

public class AutowiredQualifierTest 
{
    public static void main(String[] args)
    {
        ApplicationContext context= new ClassPathXmlApplicationContext("springexample.xml");
        Customer cust = (Customer)context.getBean("customer");
        System.out.println(cust.getName() + "  " + cust.getAddress().getStreet());
    }
} 
```

理想情况下，它应该显示一个异常，因为存在两个相同类型的 bean，但是它使用 id="address1" 拾取 bean，所以我得到了这个 bean 行为。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-31T07:27:29.770

没有定义类型 [org.springexamples.Address] 的唯一 bean：预期的单个匹配 bean 但找到 2：[address1，addres2]..异常即将到来..它显然是对的..所以你必须使用 @Qualifier (your_required_beanid)

例如：@Qualifier("Address1") 那么它将考虑 id 与 address1 bean

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-31T08:44:03.743

这会给你一个例外，当spring尝试自动处理地址字段时，它不会找到任何具有id地址的bean ...而是具有正确ID的用户Qualifer，因此在自动处理时它会从2 id [address1]中pinck地址的porper对象， 地址2]。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-31T08:38:19.527

抛出异常。我敢打赌你做错了什么。我已经测试了你的代码，只是为了百分百确定它会引发异常。

让我们看一下[文档](http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/beans.html)：

> **3.4.5.1 自动装配的限制和缺点**
> 
> 容器内的多个 bean 定义可能与要自动装配的 setter 方法或构造函数参数指定的类型匹配。对于数组、集合或 Map，这不一定是问题。然而，对于期望单个值的依赖项，这种歧义不会被任意解决。***如果没有唯一的 bean 定义可用，则抛出异常***

另外，看看这篇[文章](http://develop.nydi.ch/2010/12/spring-primary-bean-injection/)。

# scala - 学习mapreduce，如何在map reduce数据流中翻译一条SQL命令。字数示例不符合我的理解。

> ID：14619765
> 
> 赞同：2
> 
> 时间：2013-01-31T06:30:53.337
> 
> 标签：scala, hadoop, nosql, mapreduce, hive

在网上，我看到很多规范字数图减少的例子。我理解 k,v => 的映射器输入以减少 k,list(v) 的输入。map reduce 带来了一些魔力。我不太明白如何将 mapreduce 应用于更实际的示例。例如：假设我有一个文件，其中包含美国所有员工的工资以及其他一些详细信息，例如州和城市等... mapreduce 如何工作以提供包含汇总的以下列的输出报告？州，城市，平均（工资）

在 SQL 中，我可以通过这样的查询得到它：

```
Select state, city, avg(salaries) 
From employee_tbl
Group by state, city 
```

map reduce 将如何为我提供上述结果集。我使用过 hive，但我不知道如何将 SQL 转换为 map 和 reduce。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-31T07:00:18.550

在 map-reduce 作业中隐藏 SQL 查询的一种简单方法是在 Hadoop 上使用 HIVE。

但是，如果您不想这样，可以在大多数示例中应用一个简单的经验法则，同时将 SQL 查询模拟到 map-reduce 作业是 -

> Map 函数中的 Key-Out 是 group by 子句中的列。

在您的示例中，让 state-city 成为一个键，您将在 Map 函数中输出它（在它们之间使用一些分隔符）。

> Map 函数中的值输出是要在其上运行聚合函数的列。

在您的示例中，它将是个人薪水（如果要聚合的列超过 1 个，则可以用相同的分隔符将它们分开）。

> Key-in in Reduce will be the same as key-out of Map function

.

> Value-out in reduce function will be the value after running aggregation function over value-out of all rows which have the same key

So in this case you will just sum up all the value-in(salary) and value-out will be the sum of salaries in a unique 'state-city' pair.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-31T19:15:03.793

If you want to directly translate a SQL query to a set of Map/Reduce jobs, you should definitely take a look at [YSmart](http://ysmart.cse.ohio-state.edu/). It is just a SQL to Map/Reduce built on top of Hadoop. Also some studies have shown it might be faster than Hive, although I can't back this claim as I haven't tested it myself.

As taken from their docs, YSmart provides:

*   **High Performance**: The MapReduce programs generated by YSmart are optimized. YSmart can automatically detect and utilize intra-query correlations when translating a query. This correlation-aware ability significantly reduces redundant computation, unnecessary disk IO operations and network overhead. See the Performance page to learn the performance benefits of YSmart.

*   **High Extensibility**: YSmart is easy to modify and extend. It is designed with the goal of extensibility. The major part of YSmart is implemented in Python which makes the codes much easier to understand. Due to its modularity and script nature, users can easily modify the current functionalities or add new functionalities to YSmart.

*   **High Flexibility**: YSmart can run in two different modes: translation-mode and execution-mode. In the translation-mode, YSmart only translates the query into Java codes while in the execution-mode YSmart will also compile and execute the generated codes. Because of this flexibility, users can easily read, modify and customize the generated codes.

# javascript - jquery根据json列表更改页面内容和哈希

> ID：14619767
> 
> 赞同：0
> 
> 时间：2013-01-31T06:30:57.690
> 
> 标签：javascript, jquery, ajax, json

我想将外部文件中的资产（使用ajax）加载到容器div中。这些在看起来像这样的对象的 json 列表中被引用。

```
 "pages": {
    "page1": {
      "html": "markup/page1.html",
      "css": "style/css/pages/page1.css",
      "js": "scripts/pages/page1.js"
    },
    "page2": {
      "html": "markup/page2.html",
      "css": "style/css/page2.css",
      "js": "scripts/page2.js"
    },

  } 
```

基本上，这是一个美化的幻灯片放映，用户可以单击下一步并转到下一张幻灯片/页面。但我正在努力加载每个元素和相关的资产，以及使用 jquery 更改哈希。

预先感谢您的帮助

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-31T07:02:28.920

首先，让html直接包含css和js文件，这样你只需要处理一个文件。

其次，你可以...

为容器 div 使用 iframe 并加载它

```
$("#container").attr('src', url); 
```

使用 ajax 调用来获取内容，并将其放在 div 中，就像这样......

```
$.ajax({
        type: "GET",
        url: url,
        dataType: "html",
        success: function(html) {
            $("#container").html(html);

        },
        error:function (xhr, ajaxOptions, thrownError){
                    alert("Failed to load page!\n" + xhr.status + "\n" + thrownError);
        }
    }); 
```

如果您的所有 css 和 js 文件都预先加载，则使用第二个选项会更好，但是如果您单独加载它们并且担心它们可能会发生冲突，那么 iframe 将是更安全的方式，因为我不认为更改 div HTML 将卸载不再需要的任何 css 或 js 文件。

# google-fusion-tables - WHERE 查询 FusionTables...(GoogleMaps v3)？

> ID：14619770
> 
> 赞同：3
> 
> 时间：2013-01-31T06:31:08.347
> 
> 标签：google-fusion-tables

我似乎不理解融合表查询的 WHERE 部分的语法。试图创建一个样式：数组（只有 4 个样式......）。

如果我注释掉查询的 WHERE 部分...一切都运行...但是使用 WHERE 查询 - 没有加载。

看起来像这样（注意：更改了名称，但没有更改标点符号）：

```
var layer = new google.maps.FusionTables Layer({
    query:{
        select: 'geometry',
        from: 'Encrypted ID'
        where: 'ColumnName' = 'String',
    }

}); 
```

我用不同的语法尝试了这个 WHERE 查询的不同种类（特别是我有一个可以链接到实数的“ColumnName”）。

我很困惑我在哪里出错了......我应该使用“几何”列上的“选择”中的 ROWID 吗？我的操作和报价组合是否不好？...如果可以，请提供帮助。

非常感谢！！！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-31T11:57:36.247

您的 WHERE 子句有问题。

这是正确的：

```
where: "'ColumnName' = 'String'", 
```

顺便说一句，如果某些东西不起作用，您应该始终首先检查您的 javascript 错误控制台...

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-31T11:48:35.307

从文档[https://developers.google.com/fusiontables/docs/v2/sql-reference](https://developers.google.com/fusiontables/docs/v2/sql-reference)

（原始链接：[https](https://developers.google.com/fusiontables/docs/v1/sql-reference#Select) ://developers.google.com/fusiontables/docs/v1/sql-reference#Select ，根据 douglasg14b 的评论更新）

```
<column_condition>  
Used in the WHERE clause. The syntax is: <column_name> <operator> <value>

<column_name> is described earlier in this table.

For <operator>, use one of the following with a <number>:

>, <, >=, <=, =
For <operator>, use one of the following with a <string>:

>, <, >=, <=, =
LIKE
MATCHES (equivalent to LIKE)
STARTS WITH
ENDS WITH
CONTAINS
CONTAINS IGNORING CASE
DOES NOT CONTAIN
NOT EQUAL TO
IN 
```

我建议不要将 <、<、>=、<=、= 与字符串一起使用；虽然文档说你可以，但我发现它有问题。您还需要在字符串和带有空格的列名周围使用单引号。

# javascript - $.toString() 在谷歌关键字上说[本机代码]

> ID：14619773
> 
> 赞同：0
> 
> 时间：2013-01-31T06:31:33.603
> 
> 标签：javascript, firebug, tostring, native-code

我一直认为，如果您`toString()`在函数上使用它并显示 [native code] 那是因为它是本地代码。就像`XMLHttpRequest.toString()`in firebug 的输出给了我一样：

```
function XMLHttpRequest()
{
    [native code]
} 
```

当打开[google 关键字页面](https://adwords.google.com/o/KeywordTool)并打开 firebug 控制台时，以下命令：`$.toString()`给我：

```
 function ()
   {
        [native code]
    } 
```

我确实想知道他们是怎么做到的，也许他们的 $ 对象实现了一个`toString()`返回该字符串的方法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-31T06:35:27.830

在 Firebug 控制台中，`$`是一个伪快捷方式`document.getElementById()`，该快捷方式在 Firebug 的代码中实现。

尝试在该[google 关键字页面](https://adwords.google.com/o/KeywordTool)`$("#doc")`中输入Firebug 。你没有得到一个 jQuery 对象，你从那个页面得到一个 DOM 对象。

# winforms - 在 c# 中显示帮助，在 CHM 中显示正确的主题但错误的内容

> ID：14619774
> 
> 赞同：0
> 
> 时间：2013-01-31T06:31:41.263
> 
> 标签：winforms, chm

下面是我用来显示我的 CHM 文件的代码。

```
Help.ShowHelp(control, HelpFile, HelpNavigator.Topic, topic);

topic="/foo_Manual/foo-Define_Technologies_1-Chapter9/Defining_foo.htm."; 
```

它在右侧打开正确的 html 寡妇；但是，左侧的内容选项卡始终指向第 1 章。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-31T08:57:04.710

试试这个

```
Help.ShowHelp(Control, HelpFileName, HelpNavigator.TopicId, TopicID); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-07T19:30:47.050

这取决于您的 CHM 文件的编译方式和/或最后的用户操作。

但是您也需要 AutoSync（参见 HTMLHelp Workshop 的附图）。

请注意最后访问的选项卡保存到 hh.dat 文件：编译 CHM 文件时，您可以定义打开文件时显示的默认选项卡。如果用户打开其他选项卡之一（例如索引）并关闭文件，则下次打开文件时，它将在索引选项卡中打开。

以下代码对我有用：

```
 Help.ShowHelp(this.btnOpenHelpShowTopic, helpProvider1.HelpNamespace, HelpNavigator.Topic, @"/Garden/flowers.htm"); 
```

![在此处输入图像描述](../Images/a3944f27fd30d3527a66fd4c2f204f15.png)

# java - 应用引擎中的 Java 小程序

> ID：14619780
> 
> 赞同：3
> 
> 时间：2013-01-31T06:32:01.687
> 
> 标签：java, google-app-engine, applet

是否可以在 GAE 中创建小程序客户端应用程序？我已经浏览了好几个小时，但找不到这是否可能……我也尝试将它嵌入到 HMTL 文件中……但它不起作用……为什么会这样？

```
<applet code="myapplet.class"  width="320" height="120">
</applet> 
```

我的小程序类只包含一个 hello world 显示.....myapplet.java 显示以下错误：

Google App Engine 的 Java 运行时环境不支持 java.awt.Graphics

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-31T08:26:07.323

小程序在浏览器上运行，而不是在服务器上。因此，Web 服务器技术是无关紧要的——您可以将 Applet 的 jar 文件存储在 GAE、Tomcat、Apache、nginx 或任何其他 Web 服务器上。

确保将小程序的**编译**代码放在 WAR 的公共部分，而不是在 WEB-INF/classes 或 WEB-INF/lib 下

# android - java.io.IOException：未验证主机名

> ID：14619781
> 
> 赞同：43
> 
> 时间：2013-01-31T06:32:01.450
> 
> 标签：android, http

我正在尝试从 Andorid 版本 4.1.1 中的 Android 应用程序连接到 URL，并且我收到问题标题中指示的错误，但是当我尝试从 Andorid 版本 4.0.4 或 3.1 连接相同的 URL 时，一切正常。

代码片段：

```
 try {
        .
        .
        .
        URL url = new URL(urlStr);
        Log.i(TAG,"[ URL ] " + urlStr);
        HttpURLConnection conn = (HttpURLConnection) url.openConnection();
        int size = conn.getContentLength();
        int responsecode = conn.getResponseCode();
        Log.d(TAG, "Responsecode: " + responsecode);
        .
        .
        .
        } catch (Exception e) {
        e.printStackTrace();
        }

private static void trustAllHosts() {

        TrustManager[] trustAllCerts = new TrustManager[] { new X509TrustManager() {
            public java.security.cert.X509Certificate[] getAcceptedIssuers() {
                    return new java.security.cert.X509Certificate[] {};
            }

            public void checkClientTrusted(X509Certificate[] chain,
                            String authType) throws CertificateException {
            }

            public void checkServerTrusted(X509Certificate[] chain,
                            String authType) throws CertificateException {
            }
        } };

        try {
                SSLContext sc = SSLContext.getInstance("TLS");
                sc.init(null, trustAllCerts, new java.security.SecureRandom());
                HttpsURLConnection
                                .setDefaultSSLSocketFactory(sc.getSocketFactory());
        } catch (Exception e) {
                System.out.println("IOException : HTTPSRequest::trustAllHosts");
                e.printStackTrace();
        }
    } 
```

但在这里我清楚一件事是“也许证书是自签名证书，并且没有将它们包含在 KeyStore 中。

我不明白为什么这个异常只发生在 Android Verison 4.1.1 OS 谢谢。

**全栈跟踪**

```
01-31 10:26:08.348: W/System.err(3158): java.io.IOException: Hostname <URL> was not verified
01-31 10:26:08.348: W/System.err(3158):     at libcore.net.http.HttpConnection.verifySecureSocketHostname(HttpConnection.java:223)
01-31 10:26:08.348: W/System.err(3158):     at libcore.net.http.HttpsURLConnectionImpl$HttpsEngine.connect(HttpsURLConnectionImpl.java:446)
01-31 10:26:08.348: W/System.err(3158):     at libcore.net.http.HttpEngine.sendSocketRequest(HttpEngine.java:289)
01-31 10:26:08.348: W/System.err(3158):     at libcore.net.http.HttpEngine.sendRequest(HttpEngine.java:239)
01-31 10:26:08.348: W/System.err(3158):     at libcore.net.http.HttpURLConnectionImpl.getResponse(HttpURLConnectionImpl.java:273)
01-31 10:26:08.348: W/System.err(3158):     at libcore.net.http.HttpURLConnectionImpl.getHeaderField(HttpURLConnectionImpl.java:130)
01-31 10:26:08.348: W/System.err(3158):     at java.net.URLConnection.getHeaderFieldInt(URLConnection.java:544)
01-31 10:26:08.348: W/System.err(3158):     at java.net.URLConnection.getContentLength(URLConnection.java:316)
01-31 10:26:08.348: W/System.err(3158):     at libcore.net.http.HttpsURLConnectionImpl.getContentLength(HttpsURLConnectionImpl.java:191)
01-31 10:26:08.348: W/System.err(3158):     at com.ih.util.HelpVideoServices$downloadTask.run(HelpVideoServices.java:172) 
```

* * *

## 回答 #1

> 赞同：62
> 
> 时间：2013-03-06T16:02:16.260

如果您使用没有任何意义的证书运行并且您想绕过它们，您还需要添加一个空主机名验证器以使此代码工作

```
HttpsURLConnection.setDefaultHostnameVerifier(new NullHostNameVerifier());
SSLContext context = SSLContext.getInstance("TLS");
context.init(null, new X509TrustManager[]{new NullX509TrustManager()}, new SecureRandom());
HttpsURLConnection.setDefaultSSLSocketFactory(context.getSocketFactory()); 
```

和主机的代码：

```
import javax.net.ssl.HostnameVerifier ;
import javax.net.ssl.SSLSession;

public class NullHostNameVerifier implements HostnameVerifier {

    @Override   
    public boolean verify(String hostname, SSLSession session) {
        Log.i("RestUtilImpl", "Approving certificate for " + hostname);
        return true;
    }

} 
```

这需要运行一次，但如果您要更改连接对象，则可能需要再次运行它。

* * *

## 回答 #2

> 赞同：19
> 
> 时间：2014-10-19T22:29:45.413

除了@Noam 的回答，这是一个完整的例子：

```
/**
 * Disables the SSL certificate checking for new instances of {@link HttpsURLConnection} This has been created to
 * aid testing on a local box, not for use on production.
 */
private static void disableSSLCertificateChecking() {
    TrustManager[] trustAllCerts = new TrustManager[] {
        new X509TrustManager() {

            @Override
            public void checkClientTrusted(java.security.cert.X509Certificate[] x509Certificates, String s) throws java.security.cert.CertificateException {
                // not implemented
            }

            @Override
            public void checkServerTrusted(java.security.cert.X509Certificate[] x509Certificates, String s) throws java.security.cert.CertificateException {
                // not implemented
            }

            @Override
            public java.security.cert.X509Certificate[] getAcceptedIssuers() {
                return null;
            }

        }
    };

    try {

        HttpsURLConnection.setDefaultHostnameVerifier(new HostnameVerifier() {

            @Override
            public boolean verify(String s, SSLSession sslSession) {
                return true;
            }

        });
        SSLContext sc = SSLContext.getInstance("TLS");
        sc.init(null, trustAllCerts, new java.security.SecureRandom());
        HttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());

    } catch (KeyManagementException e) {
        e.printStackTrace();
    } catch (NoSuchAlgorithmException e) {
        e.printStackTrace();
    }
} 
```

希望能帮助到你

* * *

## 回答 #3

> 赞同：11
> 
> 时间：2014-11-04T15:21:37.630

这可能是因为您在 SSL 上声明的 CN（通用名称）与您发送 HTTP 请求的实际 URL 不匹配。

如果是这样，创建一个新的 SSL 并输入当前的 CN。那应该可以解决问题。

* * *

## 回答 #4

> 赞同：7
> 
> 时间：2013-07-08T17:13:55.267

我在 4.1.1 和 4.1.2 中使用 HTTPSUrlConnection 遇到了这个问题。

经过一番摸索，我发现这是因为我正在处理的 Apache 服务器有多个虚拟主机服务于 https 流量，导致 Android 中的[SNI](http://en.wikipedia.org/wiki/Server_Name_Indication)问题 - 至少在 JellyBean 之前（我有未经证实的报告说它在 JB 中工作）。

就我而言，有 3 个虚拟主机服务于 https 流量：

*   mydomain.com
*   api.mydomain.com（我试图处理的那个）
*   admin.mydomain.com

像这样使用 openssl_client 探测 api.*：

```
openssl s_client -debug -connect api.mydomain.com:443 
```

...总是返回根域的证书 - 隐藏在输出中是这样的：

```
Certificate chain
 0 s:/OU=Domain Control Validated/CN=mydomain.com
 ... 
```

...在 openssl_client 命令行中指定服务器名称：

```
openssl s_client -debug -servername api.mydomain.com -connect api.mydomain.com:443 
```

...返回了我期望看到的证书：

```
Certificate chain
 0 s:/OU=Domain Control Validated/CN=api.mydomain.com 
```

我能够通过将根域虚拟主机移动到不同的物理主机来解决问题。

似乎 Android HostnameVerifier 可以将多个子域作为虚拟主机并排使用，但是在同一个 apache 中将*根*域作为虚拟主机会导致问题。

我不是 sys-admin/dev-ops，因此可能有 Apache 配置选项可以解决我不知道的问题。

* * *

## 回答 #5

> 赞同：6
> 
> 时间：2018-05-15T13:52:22.183

请注意 SSL 证书仅适用于域，不适用于 IP 地址。

如果您使用 IP，请插入以下代码

```
HttpsURLConnection.setDefaultHostnameVerifier(new HostnameVerifier()
        {
            @Override
            public boolean verify(String hostname, SSLSession session)
            {
                if(hostname.equals("127.0.0.1"))
                     return true;
            }
        }); 
```

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2013-01-31T06:44:15.067

我想，Android 无法设置 SSL 连接。也许您的其他主机名证书，而不是您建立连接的那个。[在此处](http://developer.android.com/reference/javax/net/ssl/HttpsURLConnection.html)和[此处](http://developer.android.com/reference/java/net/HttpURLConnection.html)阅读文档。

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2013-01-31T07:44:16.283

您的问题可能是您的网址是通过“https”解决的。您必须将所有字符串 url 转换为“http”，它才会起作用。

**编辑：**

```
SchemeRegistry schemeRegistry = new SchemeRegistry ();

schemeRegistry.register (new Scheme ("http",
    PlainSocketFactory.getSocketFactory (), 80));
schemeRegistry.register (new Scheme ("https",
    new CustomSSLSocketFactory (), 443));

ThreadSafeClientConnManager cm = new ThreadSafeClientConnManager (
    params, schemeRegistry);

return new DefaultHttpClient (cm, params); 
```

自定义SSLSocketFactory：

```
public class CustomSSLSocketFactory extends org.apache.http.conn.ssl.SSLSocketFactory
{
    private SSLSocketFactory FACTORY = HttpsURLConnection.getDefaultSSLSocketFactory ();

    public CustomSSLSocketFactory ()
    {
        super(null);
        try
        {
            SSLContext context = SSLContext.getInstance ("TLS");
            TrustManager[] tm = new TrustManager[] { new FullX509TrustManager () };
            context.init (null, tm, new SecureRandom ());

            FACTORY = context.getSocketFactory ();
        }
        catch (Exception e)
        {
            e.printStackTrace();
        }
    }

    public Socket createSocket() throws IOException
    {
        return FACTORY.createSocket();
    }

    // TODO: add other methods like createSocket() and getDefaultCipherSuites().
    // Hint: they all just make a call to member FACTORY 
} 
```

FullX509TrustManager 是一个实现 javax.net.ssl.X509TrustManager 的类，但这些方法实际上都没有执行任何工作，请在 [此处][1] 获取示例。

祝你好运！

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2018-09-19T17:01:39.847

这对我来说效果更好--> CHANGING StrictHostnameVerifier()

[https://developer.android.com/reference/org/apache/http/conn/ssl/StrictHostnameVerifier](https://developer.android.com/reference/org/apache/http/conn/ssl/StrictHostnameVerifier)

例子

```
 HostnameVerifier hostnameVerifier = new HostnameVerifier() {
    @Override
    public boolean verify(String hostname, SSLSession session) {
        HostnameVerifier hv = new StrictHostnameVerifier();

        return hv.verify("example.com", session);
       }
    }; 
```

使用示例[https://developer.android.com/training/articles/security-ssl#java](https://developer.android.com/training/articles/security-ssl#java)

```
 // Tell the URLConnection to use our HostnameVerifier
    URL url = new URL("https://example.org/");
    HttpsURLConnection urlConnection = 
   (HttpsURLConnection)url.openConnection();
   urlConnection.setHostnameVerifier(hostnameVerifier); 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2020-11-17T11:00:26.267

在科特林：

```
fun HttpsURLConnection.trustCert() {
            try {
                //Accepts every hostname
                this.hostnameVerifier = HostnameVerifier { hostname, _ ->
                    println(hostname) //To be hardcoded/as needed
                    true
                }
                val trustMgr:Array<TrustManager> = arrayOf(object : X509TrustManager {
                    override fun checkClientTrusted(certs: Array<out X509Certificate>?, authType: String?) {}
                    override fun checkServerTrusted(certs: Array<out X509Certificate>?, authType: String?) {}
                    override fun getAcceptedIssuers(): Array<X509Certificate>? = null
                })
                this.sslSocketFactory = SSLContext.getInstance("TLS").also {
                    it.init(null, trustMgr, SecureRandom())
                }.socketFactory
            } catch (e: Exception) {
                prinntln("SSL self-signed certificate processing error due to ${e.message}")
            }
        } 
```

用法：

```
val conn = URL(Uri.Builder().also { 
    it.scheme("https")
    it.encodedAuthority("$serverIp:$serverPort")
}.build().toString()).openConnection() as HttpsURLConnection
conn.trustCert()
val respCode = conn.responseCode
if(respCode == 200) {
    //do something (eg: read inputStream)
} 
```

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2015-10-08T21:36:30.083

来自亚马逊文档： [存储桶限制](http://docs.aws.amazon.com/AmazonS3/latest/dev/BucketRestrictions.html)

“当使用带有 SSL 的虚拟托管式存储桶时，SSL 通配符证书仅匹配不包含句点的存储桶。要解决此问题，请使用 HTTP 或编写您自己的证书验证逻辑。”

最简单的方法似乎是创建一个没有句点的唯一存储桶名称：

而不是“bucketname.mycompany.com”，而是“bucketnamemycompany”或任何其他符合 DNS 的存储桶名称。

# jquery - JQuery 平滑灯箱放大

> ID：14619782
> 
> 赞同：0
> 
> 时间：2013-01-31T06:32:14.587
> 
> 标签：jquery

我需要一个带有平滑缩放动画的 jquery 灯箱，它应该从窗口的中心缩放。我搜索了很多次我是初学者请帮助我

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-31T08:05:41.707

试试[http://fancybox.net/](http://fancybox.net/)。它有许多缩放效果和更多选项。

# java - 我们如何添加 java 方法调用需要从 xsl 调用什么样的路径设置？

> ID：14619792
> 
> 赞同：-1
> 
> 时间：2013-01-31T06:32:58.127
> 
> 标签：java, xml

这是我在 XSL 中调用 java 方法的代码，我的问题是.. 类可以保存在服务器环境中吗？

```
 <xsl:template name="RootToAcknowledgeInventoryRequirement">
    <xsl:variable name="today" select="datetime:date()" />
    <xsl:variable name="OrganizationCode"><xsl:value-of select="$PromiseHeader/@OrganizationCode" /></xsl:variable>

    <_inv:AcknowledgeInventoryRequirement releaseID="">
        <_wcf:ApplicationArea>
            <oa:CreationDateTime xsi:type="udt:DateTimeType">
                <xsl:value-of select="datetime:dateTime()" />
            </oa:CreationDateTime> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-01T13:44:46.780

让我试着理解这里的问题..如果错了，请纠正我..

您有 XSL 代码和示例 XML。转换是从 Java 代码调用的。而您在 XSL 代码本身中调用驻留在其他一些类文件中的 Java 方法。

出色地。答案很简单。将这些类文件与正在调用的主机程序（项目）合并。每个类文件都是一个 *.java 文件。

像 Eclipse 这样的 SDK 很容易让您做到这一点。调用 Transformation 的主类将是可执行的，而其他类将是助手。

回到文件是否应该驻留在服务器中。现在因为您调用转换的代码必须驻留在服务器中。关联文件也应该如此。

如果您需要进一步的说明或疑虑，请告诉我。

# node.js - 如何使用 Mongoose 向现有文档添加属性？

> ID：14619793
> 
> 赞同：5
> 
> 时间：2013-01-31T06:33:02.073
> 
> 标签：node.js, mongodb, mongoose

我在数据库中有一个现有的用户对象。

我已经修改了我的模型/user.js 以将属性“isAdmin”添加到用户模式。

```
 , isAdmin     : { type: Boolean, default: false } 
```

但是现在当我保存文档时（即：我更新了我的个人资料）。当我在我的应用程序中使用 console.log(user) 时，isAdmin 属性会出现......（它是预期的错误）......但是当我直接转到 mongo db 控制台时，它不存在于现有文档中。

如果我创建一个新的用户对象，则 isAdmin 属性存在于新文档中。如何将此属性添加到现有文档中，以便它直接显示在数据库中？

编辑：我决定添加一个`role`属性，只需修改将其角色设置为`admin`robomongo 的特定用户，而不是使用 mongoose 来执行此操作。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T04:35:25.083

我同意 Hector 的观点，即编写代码以将缺失`isAdmin`的字段与设置的字段相同，`false`而不是为此烦恼。

但是，如果您希望它完成，一种方法是显式标记`isAdmin`为已修改，以便后续调用`save`将写出默认值：

```
doc.markModified('isAdmin');
doc.save(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-31T08:34:04.450

只需更新 mongo shell 中的现有文档以添加新属性。

# apache-flex - selenium 自动化工具是否支持 flex 应用程序？

> ID：14619798
> 
> 赞同：2
> 
> 时间：2013-01-31T06:33:37.613
> 
> 标签：apache-flex, selenium

我想知道 Selenium 自动化工具是否支持 flex 应用程序？目前我有一些需要自动化的弹性应用程序。如果不能，您能推荐任何其他支持 flex 的免费自动化工具吗？

问候， 尼莱什

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-06-03T10:30:56.690

是的，我们可以在 selenium web 驱动程序中自动化 flex 应用程序，为此我们需要执行以下步骤：

1.  你必须下载[selenium flex api](https://code.google.com/p/sfapi/downloads/list)。

2.  你会在这里得到一个 SeleniumFlexAPI.swc 文件。

    一个。您需要将此文件放入您的 flex 应用程序中。

    湾。你需要像这样在flex编译器中添加lib路径并编译代码

    ```
     -include-libraries "libs\SeleniumFlexAPI.swc" 
    ```

有关更多说明，请参阅此链接。

[使用 selenium web 驱动程序自动化 Flex 的最佳方法](https://stackoverflow.com/questions/10044001/how-can-we-automate-flash-element-click-action-in-selenium/)

有关[示例代码的参考，请参见](http://asktofolks.com/38/how-to-handle-flex-in-selenium-web-driver)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-31T06:51:25.343

是的。

FlexUISelenium 是 Selenium RC 客户端驱动程序的扩展，它使 Selenium RC 客户端驱动程序能够交互（和测试）Flex 应用程序的 Flex UI 组件和方法。

FlexMonkey - 开源付费工具，如 RIATest、Silktest、SeleniumFlex

# ios - 我不了解 UIActivityViewController，还是目前的实现很糟糕？

> ID：14619802
> 
> 赞同：4
> 
> 时间：2013-01-31T06:33:48.170
> 
> 标签：ios, uiactivityviewcontroller

我正在尝试移动我的应用程序以使用 UIActivityViewController，而不是 UIActionSheet，以便获得精美的图形共享按钮而不是文本按钮。（我的应用程序仅针对 iOS 6。）

在尝试使用它几个晚上之后，似乎我完全误解了如何使用它，或者 Apple 当前的实现很糟糕：

*   您不能为不同的服务指定不同的消息。如果我想要一些可以在邮件、Facebook、消息和 Twitter 上运行的东西，它最多需要 140 个字符才能在 Twitter 上运行。有没有办法为每种类型的活动设置自定义内容？

*   似乎无法为邮件设置主题行或收件人。我已经阅读了文档，它们听起来好像使用 mailto: 协议的 NSURL 可以做到这一点，但是在我的测试中，这些 URL 只是被塞进了消息正文中。实际上有没有办法设置主题行和可选的收件人？

*   如果我想解决这些缺点，并通过继承 UIActivity 来做我自己的自定义活动，我必须使用自定义图像/图标。因此，我无法使用 Apple 的官方图标来模仿 Mail 活动，例如实现我自己的自定义活动后端，它实际上可以让我设置主题行、收件人、自定义正文等。我错了吗，有没有办法使用 Apple 的服务图标，但有机会自定义行为？（我看到的唯一回调是在活动完成后运行的回调，对吗？）

我希望我错了！

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-31T07:47:33.883

> > 有没有办法为每种类型的活动设置自定义内容？

是的，我想你应该用你的逻辑子类化`UIActivityItemProvider`和覆盖方法`–activityViewController:itemForActivityType:`（例如，将 Twitter 的字符串修剪为 140 个字符）。
然后将此类的一个实例传递给`-[UIActivityViewController initWithActivityItems:applicationActivities:]`.

* * *

> > 实际上有没有办法设置主题行和可选的收件人？

你是对的，`mailto`方案应该可以设置这些字段。如果它不起作用，我认为这是错误。（我自己没有尝试过，但我会检查一下。）

* * *

> > 有没有办法使用 Apple 的服务图标，但有机会自定义行为？

我认为你不能这样做。（除非你想破解那些系统活动。）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-03T21:50:40.193

正如您所指出的，您最好使用行为`UIAcitvityController`非常有限的自定义组件。

这是一个例子：[https://github.com/hjnilsson/REActivityViewController](https://github.com/hjnilsson/REActivityViewController)，我只是从[https://github.com/romaonthego/REActivityViewController](https://github.com/romaonthego/REActivityViewController)分叉了它，以允许您设置电子邮件主题字段。

# android - 如何为布局提供阴影（相对或线性）

> ID：14619805
> 
> 赞同：-4
> 
> 时间：2013-01-31T06:34:01.327
> 
> 标签：android, layout, shadow

在android中，我有listview和listview适配器，我想在视图布局中使用一些阴影。如何在android中为布局（相对或线性）提供阴影？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-01-31T06:46:19.047

请检查所有链接。1) [http://myandroidspace.blogspot.in/2012/01/android-styling-listview-rows-with.html](http://myandroidspace.blogspot.in/2012/01/android-styling-listview-rows-with.html)

2) [http://b2creativedesigns.comuv.com/ListView.html](http://b2creativedesigns.comuv.com/ListView.html)

3）[如何在android中制作渐变背景](https://stackoverflow.com/questions/13929877/how-to-make-gradient-background-in-android)

4) [http://docs.xamarin.com/Android/Guides/User_Interface/Working_with_ListViews_and_Adapters/Part_3_-_Customizing_a_ListView](http://docs.xamarin.com/Android/Guides/User_Interface/Working_with_ListViews_and_Adapters/Part_3_-_Customizing_a_ListView) 's_Appearance

# php - 运行并发 API 调用

> ID：14619809
> 
> 赞同：1
> 
> 时间：2013-01-31T06:34:18.470
> 
> 标签：php, python, mysql, api

我需要执行大约 140,000 个一次性 API 调用，问题是它们都需要大约 15 秒。这将需要大约 25 天才能连续完成，但是，我想更快地完成它。

我计划使用 JSON 解析器和获取解析数据的函数将返回的数据转储到 MySQL 数据库中。我熟悉 Python 和 PHP。

并发执行多个 API 调用并将返回的项目解析到数据库中的最佳方法是什么（例如，最快和最简单的实现）？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-31T06:39:27.190

可能您将不得不尝试多线程/多处理。

这只有在 API 允许多个并行调用时才有帮助（并且如果运行 API 的机器足够快，可以一次处理多个调用）。

如果瓶颈不是你自己的 CPU，你可以简单地使用`threading`模块，因为`multiprocessing`不会有任何改进。

作为未经检查的代码，您可以尝试：

```
import Queue
import threading

number_of_API_readers = 10

parameters_queue = Queue.Queue()
results_queue = Queue.Queue(100)

for par in list_of_parameters:
    parameters_queue.put(par)

def read_from_queue_and_write_to_db():
    while True:
        try:
            result = results_queue.get(timeout=30)
            #write result to DB
        except Queue.Full:
            break

def query_API_and_write_to_queue():
    while True:
        try:
            par = parameters_queue.get(timeout=5)
            result = SomeAPI.call(par)
            results_queue.put(result)
        except Queue.Empty:
            break

db_writer = threading.Thread(target=read_from_queue_and_write_to_db)
api_readers = [threading.Thread(target=query_API_and_write_to_queue) 
                for i in range(number_of_API_readers)]

db_writer.start()
for ar in api_readers:
    ar.start() 
```

这段代码的主要思想：

*   有一个线程写入数据库
*   有很多，例如 10 个线程查询 API
*   使用（线程安全）队列来同步线程。

# java - 在java中检索嵌套json中的所有键

> ID：14619811
> 
> 赞同：4
> 
> 时间：2013-01-31T06:34:20.307
> 
> 标签：java, json

这是我写的程序：

```
 /*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */
package javaapplication1;

import java.util.HashMap;
import java.util.Iterator;
import java.util.Map;
import java.util.Map.Entry;
import java.util.StringTokenizer;
import net.sf.json.JSONException;
import net.sf.json.JSONObject;

/**
 *
 * @author 311001
 */
public class NewClass {

    public static void main(String args[]) {
        JSONObject parentData = new JSONObject();
        JSONObject childData = new JSONObject();
        try {

            parentData.put("command", "login");
            parentData.put("uid", "123123123");
            childData.put("uid", "007");
            childData.put("username", "sup");
            childData.put("password", "bros");
            parentData.put("params", childData);
            System.out.println(parentData);

            Map<String, String> map = new HashMap<>();
            Iterator<?> iter = parentData.keys();
            while (iter.hasNext()) {
                String key = (String) iter.next();
                String value = parentData.getString(key);
                map.put(key, value);
            }

            for (Entry<String, String> entry : map.entrySet()) {
                System.out.println("key > " + entry.getKey() + "  : value = " + entry.getValue());
            }

            String testData = map.get("params.uid");
            System.out.println(testData);
            System.out.println("Tokenizing json");
            String resultStr = parentData.toString();
            System.out.println("String tokens ");
            StringTokenizer st = new StringTokenizer(resultStr);
            System.out.println(st.countTokens());
            while (st.hasMoreTokens()) {
                System.out.println(st.nextToken());
            }
            String testDat="abc :: result";
            StringTokenizer simpleString = new StringTokenizer(testDat);
            System.out.println("Tokenizing simple string");
            System.out.println(simpleString.countTokens());
            while (simpleString.hasMoreTokens()) {
                System.out.println(simpleString.nextToken());
            }

        } catch (JSONException e) {
            e.printStackTrace();
        }

    }
} 
```

我得到的输出：

```
run:
{"command":"login","uid":"123123123","params":{"uid":"007","username":"sup","password":"bros"}}
key > uid  : value = 123123123
key > command  : value = login
key > params  : value = {"uid":"007","username":"sup","password":"bros"}
null
Tokenizing json
String tokens 
1
{"command":"login","uid":"123123123","params":{"uid":"007","username":"sup","password":"bros"}}
Tokenizing simple string
3
abc
::
result
BUILD SUCCESSFUL (total time: 0 seconds) 
```

如何接收我的 json 对象中的所有键。如果我标记化为什么我只得到一个字符串标记，而对于一个简单的字符串却得到正确的输出 3 个标记。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-31T07:07:40.357

您可以递归地遍历您的 JsonObject 以获取所有密钥。这是伪代码

```
findKeys(JsonObject obj,List keys){
List<String>keysFromObj=obj.keys();
keys.addAll(keysFromObj);
for(String key:keysFromObj){
    if(obj.get(key).getClass()==JSONObject.class){
         findKeys(obj.get(key),keys);
         }
    }
} 
```

所以假设如果你的对象是 {"a":1,"b":{"c":"hello","d":4.0}} 上面的函数应该给你 ["a","b","c ","d"]

但是如果你只想 ["a","c","d"] 作为你的输出，你可以写 -

```
findKeys(JsonObject obj,List keys){
List<String>keysFromObj=obj.keys();

for(String key:keysFromObj){
    if(obj.get(key).getClass()==JSONObject.class){
         findKeys(obj.get(key),keys);
         }else{
         keys.add(key);
         }
    }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2016-07-12T15:39:03.637

这是使用**org.json** *而不是 org.json.simple的一种实现*

它使用 java.util.key:value 组合查找 json 的所有唯一值。

输入json：

```
{
    d: {
        results: [{
            __metadata: {
                uri:https://google.com, 
                    type: User
            },
            userId: jmarthens1,
            businessPhone: null,
            salaryProrating: null,
            empId: 2023,
            lastModifiedDateTime: Date(1458308558000 + 0000),
            finalJobRole: null,
            username: jmarthens,
            married: false,
            futureLeader: null,
            salary: 79000.0,
            jobRole: Program Manager,
            Professional Services,
            nickname: null,
            salaryLocal: null
        }]
    }
} 
```

*结果：*

```
empId-2023
lastModifiedDateTime-Date(1458308558000+0000)
salary-79000.0
userId-jmarthens1
jobRole-Program Manager, Professional Services
type-User
uri-https://google.com
username-jmarthens 
```

*代码：*

```
package test;

import java.io.BufferedWriter;
import java.io.FileWriter;
import java.io.IOException;
import java.util.ArrayList;
import java.util.Iterator;
import java.util.List;

import org.json.JSONArray;
import org.json.JSONException;
import org.json.JSONObject;

public class TestClass {
    private static StringBuilder strOut = new StringBuilder();

    public static void main(String[] args) {

        try {
            String json = "{\"d\" : {\"results\" : [{\"__metadata\" : {\"uri\" : \"https://apisalesdemo8.successfactors.com:443/odata/v2/User('jmarthens1')\","
                    + " \"type\" : \"SFOData.User\"}, \"userId\" : \"jmarthens1\", \"businessPhone\" : null, \"salaryProrating\" : null, \"empId\" : \"2023\", "
                    + "\"lastModifiedDateTime\" : \"Date(1458308558000+0000)\", \"finalJobRole\" : null, \"username\" : \"jmarthens\", \"married\" : false, "
                    + "\"futureLeader\" : null, \"salary\" : \"79000.0\", \"jobRole\" : \"Program Manager, Professional Services\", \"nickname\" : null, \"salaryLocal\" : null}]}}";
            JSONObject inputJson = new JSONObject(json);
            List<String> lst = new ArrayList<String>();
            lst = findKeysOfJsonObject(inputJson, lst);

            try (BufferedWriter writer = new BufferedWriter(new FileWriter("C:\\temp\\temp.txt"))) {
                writer.write(strOut.toString());
            }
        } catch (JSONException | IOException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
    }

    private static List<String> findKeysOfJsonArray(JSONArray jsonIn, List<String> keys) {
        List<String> keysFromArr = new ArrayList<>();

        if (jsonIn != null && jsonIn.length() != 0) {
            for (int i = 0; i < jsonIn.length(); i++) {
                JSONObject jsonObjIn = jsonIn.getJSONObject(i);
                keysFromArr = findKeysOfJsonObject(jsonObjIn, keys);
            }
        }

        return keysFromArr;
    }

    private static List<String> findKeysOfJsonObject(JSONObject jsonIn, List<String> keys) {

        Iterator<String> itr = jsonIn.keys();
        List<String> keysFromObj = makeList(itr);
        keys.addAll(keysFromObj);

        itr = jsonIn.keys();
        while (itr.hasNext()) {
            String itrStr = itr.next();
            // System.out.println("out " + itrStr);
            JSONObject jsout = null;
            JSONArray jsArr = null;
            if (jsonIn.get(itrStr).getClass() == JSONObject.class) {
                jsout = jsonIn.getJSONObject(itrStr);
                findKeysOfJsonObject(jsout, keys);
            } else if (jsonIn.get(itrStr).getClass() == JSONArray.class) {
                jsArr = jsonIn.getJSONArray(itrStr);
                keys.addAll(findKeysOfJsonArray(jsArr, keys));
            } else if (jsonIn.get(itrStr).getClass() == String.class) {
                System.out.println(itrStr + "-" + jsonIn.get(itrStr));
                strOut.append(itrStr + "," + jsonIn.get(itrStr));
                strOut.append(System.lineSeparator());
            }
        }
        return keys;
    }

    public static List<String> makeList(Iterator<String> iter) {
        List<String> list = new ArrayList<String>();
        while (iter.hasNext()) {
            list.add(iter.next());
        }
        return list;
    }
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2021-05-17T16:25:31.807

我迟到了，但我在这里添加了我的解决方案：

输入：

```
{
    "glossary": {
        "title": "example glossary",
        "GlossDiv": {
            "title": "S",
            "GlossList": {
                "GlossEntry": {
                    "ID": "SGML",
                    "SortAs": "SGML",
                    "GlossTerm": "Standard Generalized Markup Language",
                    "Acronym": "SGML",
                    "Abbrev": "ISO 8879:1986",
                    "GlossDef": {
                        "para": "A meta-markup language, used to create markup languages such as DocBook.",
                        "GlossSeeAlso": ["GML", "XML"]
                    },
                    "GlossSee": "markup"
                }
            }
        }
    }
} 
```

检索所有唯一键：

```
public static void findAllKeys(Object object, Set<String> finalKeys) {
        if (object instanceof JSONObject) {
            JSONObject jsonObject = (JSONObject) object;

            jsonObject.keySet().forEach(childKey -> {
                finalKeys.add(childKey);
                findAllKeys(jsonObject.get(childKey), finalKeys);
            });
        } else if (object instanceof JSONArray) {
            JSONArray jsonArray = (JSONArray) object;

            IntStream.range(0, jsonArray.length())
                    .mapToObj(jsonArray::get)
                    .forEach(o -> findAllKeys(o, finalKeys));
        }
    } 
```

用法：

```
Set<String> finalKeys = new HashSet<>();
findAllKeys(new JSONObject(str), finalKeys);
System.out.println(finalKeys); 
```

输出：

```
[
  GlossEntry,
  GlossSee,
  SortAs,
  GlossList,
  title,
  GlossDiv,
  glossary,
  GlossTerm,
  GlossDef,
  para,
  GlossSeeAlso,
  ID,
  Acronym,
  Abbrev
] 
```

检索所有唯一的“完整路径”键：

```
public void findAllKeys(Object object, String key, Set<String> finalKeys) {
    if (object instanceof JSONObject) {
        JSONObject jsonObject = (JSONObject) object;

        jsonObject.keySet().forEach(childKey -> {
            findAllKeys(jsonObject.get(childKey), key != null ? key + "." + childKey : childKey, finalKeys);
        });
    } else if (object instanceof JSONArray) {
        JSONArray jsonArray = (JSONArray) object;
        finalKeys.add(key);

        IntStream.range(0, jsonArray.length())
                .mapToObj(jsonArray::get)
                .forEach(jsonObject -> findAllKeys(jsonObject, key, finalKeys));
    }
    else{
        finalKeys.add(key);
    }
} 
```

用法：

```
Set<String> finalKeys = new HashSet<>();
findAllKeys(new JSONObject(jsonStr), null, finalKeys);
System.out.println(finalKeys); 
```

输出：

```
[
  glossary.GlossDiv.GlossList.GlossEntry.ID,
  glossary.title,
  glossary.GlossDiv.GlossList.GlossEntry.GlossSee,
  glossary.GlossDiv.GlossList.GlossEntry.GlossTerm, 
  glossary.GlossDiv.GlossList.GlossEntry.Acronym, 
  glossary.GlossDiv.GlossList.GlossEntry.Abbrev, 
  glossary.GlossDiv.GlossList.GlossEntry.GlossDef.para, 
  glossary.GlossDiv.GlossList.GlossEntry.SortAs, 
  glossary.GlossDiv.GlossList.GlossEntry.GlossDef.GlossSeeAlso,
  glossary.GlossDiv.title
] 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-02-03T10:43:58.140

```
static Set<String> finalListOfKeys = new LinkedHashSet<String>();

public static void main(String[] args) {
    JSONParser parser = new JSONParser();

    try {

        Object obj = parser.parse(new FileReader("Absolute path of json file"));
        JSONObject jsonObject = (JSONObject) obj;
        Set<String> jsonKeys = jsonObject.keySet();
        for (String key : jsonKeys) {
            Object val = jsonObject.get(key);
            if (val instanceof JSONArray) {
                JSONArray array = (JSONArray) val;
                jsonArray(array, key);

            } else if (val instanceof JSONObject) {
                JSONObject jsonOb = (JSONObject) val;
                jsonObj(jsonOb, key);
            } else {
                finalListOfKeys.add(key);
                System.out.println("Key is : " + key);
            }
        }

        System.out.println("Final List : " + finalListOfKeys);

    } catch (Exception e) {
        e.printStackTrace();
    }
}

public static void jsonObj(JSONObject object, String key2) {
    Set<String> innerKeys = object.keySet();
    System.out.println("Inner Keys : " + innerKeys);
    for (String key : innerKeys) {
        System.out.println("Key : " + key);
        Object val = object.get(key);
        if (val instanceof JSONArray) {
            JSONArray array = (JSONArray) val;
            jsonArray(array, key2 + "->" + key);

        } else if (val instanceof JSONObject) {
            JSONObject jsonOb = (JSONObject) val;
            jsonObj(jsonOb, key2 + "->" + key);
        } else {
            finalListOfKeys.add(key2 + "->" + key);
            System.out.println("Key is : " + key2 + "->" + key);
        }
    }
}

public static void jsonArray(JSONArray array, String key) {
    if (array.size() == 0) {
        finalListOfKeys.add(key);
    } else {

        for (int i = 0; i < array.size(); i++) {
            Object jObject = array.get(i);
            if (jObject instanceof JSONObject) {
                JSONObject job = (JSONObject) jObject;
                System.out.println(job);
                jsonObj(job, key);

            }
        }
    }
} 
```

# r - 了解“gslider”功能以制作交互式绘图

> ID：14619820
> 
> 赞同：6
> 
> 时间：2013-01-31T06:34:52.697
> 
> 标签：r, slider, tcl, histogram, tk

我正在尝试在 R 中创建一个交互式直方图，可以通过移动滑块或在文本框中输入一个值来调整其 bin 宽度。除此之外，我还想为用户提供一个选项，可以为特定的 bin 宽度保存绘图。

为此，我发现 'aplpack' 库的 'gslider' 函数是一个很好的起点。我试图修改它以满足我的目的，并了解更多关于 Tcl/Tk 结构的信息。但是我现在卡住了，无法继续，主要是因为我还没有完全理解如何捕获滑块值并在函数之间传输。

以下是我还没有真正理解的代码片段。这些来自“gslider”函数的源代码。

```
# What is the rationale behind using the 'assign' function here and at 
# other instances in the code?

  img <- tkrplot::tkrplot(gr.frame, newpl, vscale = 1, hscale = 1)
  tkpack(img, side = "top")
  assign("img", img, envir = slider.env)

# I understand the below lines when considered individually. But collectively,
# I am having a difficult time comprehending them. Most importantly, where 
# exactly is the slider movement captured here?

  sc <- tkscale(fr, from = sl.min, to = sl.max, 
              showvalue = TRUE, resolution = sl.delta, orient = "horiz")
  assign("sc", sc, envir = slider.env)
  eval(parse(text = "tkconfigure(sc, variable=inputbw1)"), envir = slider.env)
  sl.fun <- sl.function
  if (!is.function(sl.fun)) 
    sl.fun <- eval(parse(text = paste("function(...){", 
                                    sl.fun, "}")))
    fname <- 'tkrrsl.fun1'
    eval(parse(text = c(paste(fname, " <-"), " function(...){", 
                    "tkrreplot(get('img',envir=slider.env),fun=function()", 
                    deparse(sl.fun)[-1], ")", "}")))
    eval(parse(text = paste("environment(", fname, ")<-parent.env")))
    if (prompt) 
      tkconfigure(sc, command = get(fname))
    else tkbind(sc, "<ButtonRelease>", get(fname))

  if (exists("tkrrsl.fun1")) {
    get("tkrrsl.fun1")()
  } 
  assign("slider.values.old", sl.default, envir = slider.env) 
```

感谢大家提供不同范围的答案。Juba 和 Greg 的答案是我可以编写以下代码的答案：

```
slider_txtbox <- function (x, col=1, sl.delta, title) 
{
  ## Validations
  require(tkrplot)
  pos.of.panel <- 'bottom'
  if(is.numeric(col))
    col <- names(x)[col]
  x <- x[,col, drop=FALSE]
  if (missing(x) || is.null(dim(x))) 
     return("Error: insufficient x values")
  sl.min <- sl.delta # Smarter initialization required
  sl.max <- max(x)
  xrange <- (max(x)-min(x))
  sl.default <- xrange/30
  if (!exists("slider.env")) {
    slider.env <<- new.env(parent = .GlobalEnv)    
  }
  if (missing(title)) 
    title <- "Adjust parameters"

  ## Creating initial dialogs
  require(tcltk)
  nt <- tktoplevel()
  tkwm.title(nt, title)
  if(.Platform$OS.type == 'windows')
    tkwm.geometry(nt, "390x490+0+10")
  else if(.Platform$OS.type == 'unix')
     tkwm.geometry(nt, "480x600+0+10")
  assign("tktop.slider", nt, envir = slider.env)
  "relax"
  nt.bak <- nt
  sl.frame <- tkframe(nt)
  gr.frame <- tkframe(nt)
  tx.frame <- tkframe(nt)
  tkpack(sl.frame, tx.frame, gr.frame, side = pos.of.panel)

  ## Function to create and refresh the plot
  library(ggplot2)
  library(gridExtra)
  makeplot <- function(bwidth, save) {
    if(bwidth <= 0) {
      df <- data.frame('x'=1:10, 'y'=1:10)
       histplot <- ggplot(df, aes(x=x, y=y)) + geom_point(size=0) + xlim(0, 10) +  ylim(0, 100) + 
    geom_text(aes(label='Invalid binwidth...', x=5, y=50), size=9)
    } else {

    histplot <- ggplot(data=x, aes_string(x=col)) +
  geom_histogram(binwidth=bwidth, aes(y = ..density..), fill='skyblue') + 
  theme(axis.title.x=element_text(size=15), axis.title.y=element_text(size=15), 
        axis.text.x=element_text(size=10, colour='black'),
        axis.text.y=element_text(size=10, colour='black'))
    }
    print(histplot)
    if(save){
  filename <- tkgetSaveFile(initialfile=paste('hist_bw_', bwidth, sep=''), 
                            filetypes='{{PNG files} {.png}} {{JPEG files} {.jpg .jpeg}}
                            {{PDF file} {.pdf}} {{Postscript file} {.ps}}')
  filepath <- as.character(filename)
  splitpath <- strsplit(filepath, '/')[[1]]
  flname <- splitpath[length(splitpath)]
  pieces <- strsplit(flname, "\\.")[[1]]
  ext <- tolower(pieces[length(pieces)])
  if(ext != 'png' && ext != 'jpeg' && ext != 'jpg' && ext != 'pdf' && ext != 'ps') {
    ext <- 'png'
    filepath <- paste(filepath, '.png', sep='')
    filename <- tclVar(filepath)
  }
  if(ext == 'ps')
    ext <- 'postscript'
  eval(parse(text=paste(ext, '(file=filepath)', sep='')))
  eval(parse(text='print(histplot)'))
  dev.off()
}
  }
  img <- tkrplot::tkrplot(gr.frame, makeplot(sl.default, FALSE), vscale = 1, hscale = 1)
  tkpack(img, side = "top")
  assign("img", img, envir = slider.env)

  ## Creating slider, textbox and labels
  parent.env <- sys.frame(sys.nframe() - 1)
  tkpack(fr <- tkframe(sl.frame), side = 'top')
  sc <- tkscale(fr, from = sl.min, to = sl.max, 
            showvalue = TRUE, resolution = sl.delta,
            orient = "horiz")
  tb <- tkentry(fr, width=4)
  labspace <- tklabel(fr, text='\t\t\t')
  tkpack(sc, labspace, tb, side = 'left')

  tkpack(textinfo <- tkframe(tx.frame), side = 'top')
  lab <- tklabel(textinfo, text = '                    Move slider', width = "20")
  orlabel <- tklabel(textinfo, text='          OR', width='10')
  txtboxmsg <- tklabel(textinfo, text = 'Enter binwidth', width='20')
  tkpack(txtboxmsg, orlabel, lab, side='right')

  tkpack(f.but <- tkframe(sl.frame))
  tkpack(tklabel(f.but, text=''))
  tkpack(tkbutton(f.but, text = "Exit", command = function() tkdestroy(nt)), 
     side='right')
  tkpack(tkbutton(f.but, text = "Save", command = function(...) {
    bwidth <- as.numeric(tclvalue(get('inputtb', envir=slider.env)))
    tkrreplot(get('img',envir=slider.env),fun=function() { makeplot(bwidth, TRUE); sync_slider()})
  }), side='right')

  ## Creating objects and variables associated with slider and textbox
  assign("sc", sc, envir = slider.env)
  eval(parse(text = "assign('inputsc', tclVar(sl.default), envir=slider.env)"))
  eval(parse(text = "tkconfigure(sc, variable=inputsc)"), envir = slider.env)

  assign("tb", tb, envir = slider.env)
  eval(parse(text = "assign('inputtb', as.character(tclVar(sl.default)),
         envir=slider.env)"))
  eval(parse(text = "tkconfigure(tb, textvariable=inputtb)"), envir = slider.env)

  ## Function to update the textbox value when the slider has changed
  sync_textbox <- function() {
  bwidth_sl <- tclvalue(get('inputsc', envir=slider.env))
  assign('inputtb', tclVar(bwidth_sl), envir=slider.env)
  eval(parse(text = "tkconfigure(tb, textvariable=inputtb)"), envir = slider.env)
}

 ## Function to update the slider value when the textbox has changed
 sync_slider <- function() {
 bwidth_tb <- tclvalue(get('inputtb', envir=slider.env))
 assign('inputsc', tclVar(bwidth_tb), envir=slider.env)
 eval(parse(text = "tkconfigure(sc, variable=inputsc)"), envir = slider.env)
}  

  ## Bindings : association of certain functions to certain events for the slider
  ## and the textbox

  tkbind(sc, "<ButtonRelease>", function(...) {
    bwidth <- as.numeric(tclvalue(get('inputsc', envir=slider.env)))
    tkrreplot(get('img',envir=slider.env),fun=function() { makeplot(bwidth, FALSE); sync_textbox()})
  })

  tkbind(tb, "<Return>", function(...) {
    bwidth <- as.numeric(tclvalue(get('inputtb', envir=slider.env)))
    if(bwidth > sl.max && !is.na(bwidth)) {
      bwidth <- sl.max
      assign('inputtb', tclVar(bwidth), envir=slider.env)
      eval(parse(text = "tkconfigure(tb, textvariable=inputtb)"), envir = slider.env)
     } else
    if(bwidth < sl.min || is.na(bwidth)) {
      bwidth <- sl.min
      assign('inputtb', tclVar(bwidth), envir=slider.env)
      eval(parse(text = "tkconfigure(tb, textvariable=inputtb)"), envir = slider.env)
     }
  tkrreplot(get('img',envir=slider.env),fun=function() { makeplot(bwidth, FALSE);    sync_slider()})
})

}

library(ggplot2)
slider_txtbox(movies, 'rating', 0.1, 'Adjust binwidth') 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-31T09:23:33.680

*如果您不坚持使用本地解决方案*，您可以尝试[rapporter.net](http://rapporter.net)，它可以让您使用任意数量的可调整滑块轻松指定此类任务。好的，足够的营销:)

这是一个快速演示： [交互式直方图`mtcars`](http://rapporter.net/api/form/81c47ee7512ffab02db48b974e6bbf0373f033974063e83e8f600e0214d7d728)，如下所示：

[![rapporter.net 上的交互式直方图演示](../Images/58ebc36872d838aa4b42c1790768343d.png)](http://rapporter.net/api/form/81c47ee7512ffab02db48b974e6bbf0373f033974063e83e8f600e0214d7d728)

在那里，您可以选择一个众所周知的变量`mtcars`，但当然您可以提供任何要在此处使用的数据框，或者在免费注册后调整上述表格。

* * *

它是怎么做的？我刚刚创建了一个快速的[rapport](http://rapport-package.info)模板并让它[rapplicate](http://www.r-bloggers.com/lets-rapplicate/)。模板的主体是用 brew 风格编写的（有关详细信息，请参阅上面的“rapport” URL）：

```
<%=
evalsOptions('width', width)
evalsOptions('height', height)
%>

# Histogram

<%=
set.caption(paste('Histogram of', var.name))
hist(var, breaks=seq(min(var), max(var), diff(range(var))/round(binwidth)), main = paste('Histogram of', var.name), xlab = '')
%>

## Parameters

Provided parameters were:

  * variable: <%=var.name%> (<%=var.label%>)
  * bin-width of histogram: <%=binwidth%>
  * height of generated images: <%=height%>
  * width of generated images: <%=width%>

# Kernel density plot

<%=
set.caption('A kernel density plot')
plot(density(var), main = '', xlab = '')
%> 
```

但是一个简单的任务示例也可以通过一个简单的单行模板来解决：

```
<%=hist(var, breaks=seq(min(var), max(var), diff(range(var))/round(binwidth)))%> 
```

在那里，您只需要创建一个新*模板*，单击添加两种输入类型（`numeric`任何数据集的一个变量和一个保存直方图的`number`输入字段），就可以开始了。`binwidth`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-31T13:08:33.820

这是一个基于您首次提交的完整代码的带有注释的最小工作示例。由于我远不是 tcl/tk 方面的专家，因此可能有更清洁或更好的方法来做到这一点。而且它非常不完整（例如，应该检查文本框的值是否在滑块的范围内等）：

```
library(ggplot2)
library(gridExtra)
title <- "Default title"
data(movies)

## Init dialog
require(tkrplot)
if (!exists("slider.env")) slider.env <<- new.env(parent = .GlobalEnv)
require(tcltk)
nt <- tktoplevel()
tkwm.title(nt, title)
tkwm.geometry(nt, "480x600+0+10")
assign("tktop.slider", nt, envir = slider.env)
"relax"
nt.bak <- nt
sl.frame <- tkframe(nt)
gr.frame <- tkframe(nt)
tx.frame <- tkframe(nt)
tkpack(sl.frame, tx.frame, gr.frame, side = "bottom")
## First default plot
newpl <- function(...) {
  dummydf <- data.frame('x'=1:10, 'y'=1:10)
  dummy <- ggplot(dummydf, aes(x=x, y=y)) + geom_point(size=0) + xlim(0, 10) + ylim(0, 100) + 
    geom_text(aes(label='Generating plot...', x=5, y=50), size=9)
  print(dummy)
  }
img <- tkrplot::tkrplot(gr.frame, newpl, vscale = 1, hscale = 1)
tkpack(img, side = "top")
assign("img", img, envir = slider.env)
tkpack(fr <- tkframe(sl.frame), side = 'top')

## Creating slider, textbox and labels
sc <- tkscale(fr, from = 0, to = 5, showvalue = TRUE, resolution = 0.1, orient = "horiz")
tb <- tkentry(fr, width=4)
lab <- tklabel(fr, text = 'Select binwidth ', width = "16")
orlabel <- tklabel(fr, text=' or ', width='4')
tkpack(lab, sc, orlabel, tb, side = 'left')
tkpack(textinfo <- tkframe(tx.frame), side = 'top')

## Creating objects and variables associated with slider and textbox
assign("sc", sc, envir = slider.env)
assign("tb", tb, envir = slider.env)
assign('inputsc', tclVar(2.5), envir=slider.env)
assign('inputtb', tclVar('2.5'), envir=slider.env)
eval(parse(text = "tkconfigure(sc, variable=inputsc)"), envir = slider.env)
eval(parse(text = "tkconfigure(tb, textvariable=inputtb)"), envir = slider.env)

## Function to update the textbox value when the slider has changed
sync_textbox <- function() {
  bwidth_sl <- tclvalue(get('inputsc', envir=slider.env))
  assign('inputtb', tclVar(bwidth_sl), envir=slider.env)
  eval(parse(text = "tkconfigure(tb, textvariable=inputtb)"), envir = slider.env)
}

## Function to update the slider value when the textbox has changed
sync_slider <- function() {
  bwidth_tb <- tclvalue(get('inputtb', envir=slider.env))
  assign('inputsc', tclVar(bwidth_tb), envir=slider.env)
  eval(parse(text = "tkconfigure(sc, variable=inputsc)"), envir = slider.env)
}

## Function to refresh the plot
refresh <- function(bwidth) {
  histplot <- ggplot(data=movies, aes_string(x="rating")) +
     geom_histogram(binwidth=bwidth, 
                    aes(y = ..density..), fill='skyblue') + 
                      theme(axis.title.x=element_text(size=15), axis.title.y=element_text(size=15), 
                            axis.text.x=element_text(size=10, colour='black'),
                            axis.text.y=element_text(size=10, colour='black'))
  print(histplot)
}

## Bindings : association of certain functions to certain events for the slider
## and the textbox

tkbind(sc, "<ButtonRelease>", function(...) {
  bwidth <- as.numeric(tclvalue(get('inputsc', envir=slider.env)))
  tkrreplot(get('img',envir=slider.env),fun=function() { refresh(bwidth); sync_textbox()})
})

tkbind(tb, "<Return>", function(...) {
  bwidth <- as.numeric(tclvalue(get('inputtb', envir=slider.env)))
  tkrreplot(get('img',envir=slider.env),fun=function() { refresh(bwidth); sync_slider()})
}) 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-31T18:11:18.870

您可能想查看 R 包“rpanel”——它在后台使用 tcltk，但使用起来更简单：

[面板](http://www.jstatsoft.org/v17/i09/paper)

[面板参考](http://www.stats.gla.ac.uk/~adrian/rpanel/rpanel_quick_reference.pdf)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-31T18:06:16.023

我不知道 gslider 功能，无法帮助您，但这里有一些替代方案：

一个简单的选择是使用`tkexamp`TeachingDemos 包中的函数，这是一种方法：

```
library(TeachingDemos)

myhist <- function(x, s.width, e.width, ...) {
    if( missing(e.width) || is.null(e.width) || is.na(e.width) ) {
        e.width<- s.width
    }
    b <- seq( min(x)-e.width/2, max(x)+e.width, by=e.width )
    hist(x, b, ...)
}

mylist <- list( s.width=list('slider', init=1, from=1, to=10, resolution=1),
    e.width=list('numentry', init='', width=7)
)

sampdata <- rnorm(100, 50, 5)
tkexamp(myhist(sampdata), mylist) 
```

这将使用您的直方图、滑块和条目小部件创建一个快速 GUI。条的宽度由条目小部件中的值确定，如果为空白（默认），则为滑块的值。不幸的是，滑块和条目小部件不会相互更新。有一个按钮可以打印当前调用，因此可以从默认或当前绘图设备中的命令行重新创建相同的绘图。您可以编辑`mylist`上面的变量以使控件更适合您的数据。

如果您希望条目和滑块相互更新，那么您可以更直接地对其进行编程。这是一个使用的基本功能`tkrplot`：

```
mytkhist <- function(x, ...) {

    width <- tclVar()
    tclvalue(width) <- 1

    replot <- function(...) {
        width <- as.numeric(tclvalue(width))
        b <- seq( min(x) - width/2, max(x)+width, by=width )
        hist(x,b,...)
    }

    tt <- tktoplevel()
    img <- tkrplot(tt, replot)
    tkpack(img, side='top')

    tkpack( tkscale(tt, variable=width, from=1, to=10,
        command=function(...) tkrreplot(img),
        orient='horizontal'), side='top' )
    tkpack( e <- tkentry(tt, textvariable=width), side='top' )
    tkbind(e, "<KeyRelease>", function(...) tkrreplot(img))
}

mytkhist(sampdata) 
```

滑块（比例）和条目小部件都使用相同的变量这一事实使它们自动相互更新（无需调用`assign`）。`command`in`tkscale`和调用的参数`tkbind`意味着对滑块或条目的任何更改都将更新绘图。这没有任何东西可以保存当前绘图，但您应该能够添加该部分以及您想要使用的任何其他控件。

# c# - 处理的异常和事务回滚

> ID：14619826
> 
> 赞同：0
> 
> 时间：2013-01-31T06:35:15.007
> 
> 标签：c#, .net, nhibernate, asp.net-mvc-4

我正在使用自定义 ActionFilterAttribute，它启动一个`NHibernate Session.Transaction`.

我想知道什么时候事先在 Action 中处理了异常，我怎样才能让它打开`ActionExceutedContext`，以避免它执行事务提交，而是调用回滚。如果异常未处理，它工作正常。需要为被处理的人提供出路。我不想写回滚，无论我在哪里处理异常。

```
 public override void OnActionExecuting(ActionExecutingContext filterContext)
    {
        _transactionHelper.BeginTransaction();
        base.OnActionExecuting(filterContext);
    } 

public override void OnActionExecuted(ActionExecutedContext filterContext)
    {
        if (filterContext.Exception == null)
            _transactionHelper.Commit();

        base.OnActionExecuted(filterContext);
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-31T14:47:25.557

您可以在包含原始异常的 catch 块中抛出一个新异常：

```
try
{
    var x = 1 / 0;
}
catch (DivideByZeroException ex)
{
    // handle and allow transaction to commit
}
catch(Exception ex)
{
    // handle and throw new exception so that transaction is rolled back in filter
    throw new ExceptionCaughtInActionException(ex); // custom exception wrapper
} 
```

使用这种方法，您的过滤器也可以进行一些日志记录。但是，在我看来，最好在 action 方法中处理事务。它可以是重复的，但我发现它更具可读性并且可以更好地控制事务边界。

# php - 在 HTML 中返回单独的 PHP 脚本

> ID：14619829
> 
> 赞同：0
> 
> 时间：2013-01-31T06:35:23.193
> 
> 标签：php, html

我有一个“print.php”脚本，它基本上从 MySQL 中获取数据并创建一个漂亮的小 HTML 表。

```
echo "
    <table cellpadding=\"2\" cellspacing=\"2\" border=\"0\" width=\"10%\">
        <tr bgcolor=\"#666666\">
            <td colspan=\"2\" align=\"center\"><b><font color=\"#FFFFFF\">" . $table[0] . "</font></td>
        </tr>
        <tr>
            <td>Name</td>
            <td>Score</td>
        </tr>";
echo "<tr";

    if ($i % 2 == 0)
        echo " bgcolor=\"#CCCCCC\"";

    echo ">
        <td>" . $col['player'] . "</td>
        <td>" . $col['score'] . "</td>
    </tr>"; 
```

我希望这个表出现在我的 index.html 中，但它在一个单独的 php 脚本中。

我想将 php 脚本与 HTML 分开，因为该脚本不仅有点大，而且其中包含我在纯 HTML 中不想要的 SQL 信息。

有没有办法从我的 html 页面获取我的 php 脚本中的这个回声？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-31T06:41:05.237

**选项 1：** 使用 iframe。即使关闭 JavaScript 也能正常工作。

```
<iframe src="print.php"></iframe> 
```

**选项 2：**使用 AJAX（使用 jQuery）。

[在这里下载 jQuery。](http://jquery.com)

将其包含在您的标签中`index.html`，最好包含在您的`head`标签中。

```
<script type="text/javascript" src="path/to/jquery.js"></script> 
```

将此代码添加到您想要`print.php`包含的位置。

```
<div id="container"></div>

<script type="text/javascript">
    $(function(){
        $("#container").load("print.php");
    });
</script> 
```

**选项 3：**走 PHP 路线。由于您需要重命名索引文件，因此可能会破坏其他代码。

将您的重命名`index.html`为`index.php`并使用此代码：

```
<?php include("print.php"); ?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-31T06:37:08.617

您可以从当前页面进行[AJAX](http://api.jquery.com/jQuery.ajax/)调用并获取数据并显示它们。`print.php`

```
$.ajax({
  url: "print.php"
}).done(function( html ) {
  $("#results").append(html); //results is the div id
}); 
```

您必须为此获得基本的 jQuery 知识。

否则，您可以使用 .load 方法，它也是一种 AJAX 方法。

```
<div id="results"></div>

$("#results").load("print.php"); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-31T06:37:16.637

您可以使用 AJAX Javascript 来做到这一点。

[**文档和示例**](https://developer.mozilla.org/en/docs/AJAX)

# java - 打印排序树图（根据值排序）

> ID：14619833
> 
> 赞同：1
> 
> 时间：2013-01-31T06:35:46.240
> 
> 标签：java, sorting, comparator, treemap

我有一个基于值排序的 TreeMap，它的打印如下所示：

```
abortion-2
able-2
ab-2
aaron-2
aaa-2
aa-2
a-2
absent-1
absence-1
abraham-1
ability-1
aberdeen-1
abc-1 
```

但似乎具有相同值的单词以相反的排序顺序打印：

***“abortion,able,ab,aaron,aaa,aa,a”***代替***“a,aa,aaa,aaron,ab,able abortion”***等等。

我什至想过将每组具有相同值的键添加到 TreeSet 并打印出来，但我无法根据下一个值对其进行迭代。

这是我传递给 TreeMap 的比较器。谁能帮我更正代码以正确的顺序打印它？

```
 public class MyComparator implements Comparator<String>{
    Map<String, Integer> tiedMap; 

    public MyComparator(Map<String, Integer> map){
       this.tiedMap = map; 
    }        

    public int compare(String a, String b){
        if(tiedMap.get(a)>=tiedMap.get(b)){
            return -1;
        }
        else
            return 1;
    }
} 
```

这是我尝试打印的方式：

```
Iterator it = tree.entrySet().iterator();
for(int i=0; i<n; i++){
   if(it.hasNext()){
      Map.Entry pairs = (Map.Entry)it.next();
      System.out.println(pairs.getKey()+"-"+pairs.getValue());
   }
} 
```

编辑：我正在将输入读入 TreeMap，然后将其传递给另一个 TreeMap。

编辑：创建 TreeMaps 的代码：

```
Map<String, Integer> map = new TreeMap<String, Integer>();        
Words t = new Words();         
MyComparator comp = w.(new MyComparator(map));       
Map<String, Integer> tree = new TreeMap<String, Integer>(comp); 

int size = Integer.parseInt(buffer.readLine());
   for(int i = size; i>0; i--){
       reader = buffer.readLine();
       if(map.get(reader)!=null){
          map.put(reader, map.get(reader)+1);
       }
       else
          map.put(reader, 1);                
   }
tree.putAll(map); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-31T07:04:32.333

```
if(tiedMap.get(a)>=tiedMap.get(b)){
    return -1;
}
else
    return 1; 
```

当值相同时，您应该修改代码以返回 0。这将确保原始键之间的相对顺序不会改变。如果这不起作用，您可以添加其他代码，例如：

```
if (tiedMap.get(a) == tiedMap.get(b))
  return a.compareTo(b); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-31T07:43:06.053

您的比较器将返回仅根据它们的值以相反顺序排序的条目。这是你想要的吗？

此外，如果您希望条目以更可​​预测的顺序排列，您还应该比较键：

```
public int compare(String a, String b)
{
    Integer aVal = tiedMap.get(a);
    Integer bVal = tiedMap.get(b);

    if (aVal > bVal)
    {
        return 1; // or -1 for descending order
    }
    else if (aVal < bVal)
    {
        return -1; // or 1 for descending order
    }
    else
    {
        // if values are equivalent compare on key as well
        return a.compareTo(b);
        // or for descending order:
        // return b.compareTo(a);
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-31T07:32:34.587

实际上，通过使用比较器，您可以`HashMap, TreeMap`按升序和降序排序。

试试这个：

```
// sort list based on comparator
    Collections.sort(list, new Comparator() {
        public int compare(Object o1, Object o2) {
            return ((Comparable) ((Map.Entry) (o2)).getValue())
                                   .compareTo(((Map.Entry) (o1)).getValue());
        }
    }); 
```

这将使输出按降序排列。通过`interchanging the o2 and o1 only`，您将按升序对它们进行排序。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-01-31T06:53:52.783

我不确定我是否完全理解您的期望/实现，但我认为您需要在比较函数中对字符串 a 和 b 进行逐字符比较。

# javascript - 警报不起作用？

> ID：14619840
> 
> 赞同：0
> 
> 时间：2013-01-31T06:36:06.683
> 
> 标签：javascript

这是我的代码：

```
function validate_form()
{
    var pin=document.contactform.Pin;
    if(pin.value.length !=6)
    {
        alert("Length of pin code must be six character");
        pin.focus();
        return false;
    }
    else
    {
         alert('Else part ');
    }
} 
```

if 语句中的警报功能不起作用

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-31T06:40:12.277

您的

```
var pin=document.contactform.Pin; 
```

变量没有创建语法错误，检查你传递给变量的内容，否则它工作正常

# ruby - 您将如何使用 Ruby 显示 2D 地图？

> ID：14619846
> 
> 赞同：2
> 
> 时间：2013-01-31T06:36:20.030
> 
> 标签：ruby, maps, multidimensional-array

我使用二维数组来表示由网格单元组成的地图（就像棋盘一样）。我想知道Ruby中是否有一种简单的方法可以用颜色图直观地显示它。每个单元格都有不同的值，因此颜色可以很好地显示结果。我不只是想打印出二维数组。不需要代码，只是想法。

1.  也许我可以使用一个图书馆？
2.  我假设这涉及打开一个新窗口来显示地图？如何？

我正在使用 Windows 7。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-31T08:01:14.997

如果你真的想坚持使用 Ruby，那么[Rmagick](http://rmagick.rubyforge.org/)可能就是你所需要的。Rmagick 有一个更小、更紧凑的版本，称为[Mini Magick](https://github.com/minimagick/minimagick)。

如果你想集成到网络中，那么画布也许是你唯一需要的东西。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-09T23:02:13.590

我发现的另一个选择是[Ruby TK](http://www.tutorialspoint.com/ruby/ruby_tk_guide.htm)。像 RMagick 那样安装并不是一件痛苦的事，而且它有很好的文档记录。它不如 Ruby-Processing 强大，但可以完成工作。

# android - 如何让 HTML5 Builder 使用我自己的 Android SDK 副本

> ID：14619847
> 
> 赞同：1
> 
> 时间：2013-01-31T06:36:35.320
> 
> 标签：android, android-sdk-tools, html5builder

我正在使用 Embarcadero 的 HTML5Builder 进行 Android 移动应用程序开发。如果我安装`android-setup.exe`，我可以毫无问题地将 HTML5Builder 项目部署到 android 虚拟设备。

接下来，我卸载`android-setup.exe`并设置`path`变量以添加我自己的 Android SDK 路径副本。然后我重复上述步骤将 HTML5Builder 项目部署到 android 虚拟设备。IDE 提示我“未安装 Android SDK”。

是否可以让 H5B 使用我自己的 Android SDK 版本？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-03T12:20:35.853

要使 Embarcadero HTML5Builder 与手动安装一起工作`Android SDK Tools`，请执行以下步骤：

1.  设置环境变量`Path=%Path%;[android sdk tools]\sdk\platform-tools`
2.  对于 Windows x86，在`HKLM\Software\Android SDK Tools\Path = [android-sdk-path]\sdk`
3.  对于 Windows x64，在`HKLM\Software\Wow6432Node\Android SDK Tools\Path = [android-sdk-path]\sdk`

# authorization - 使用 laravel 权限创建权限

> ID：14619850
> 
> 赞同：2
> 
> 时间：2013-01-31T06:36:43.430
> 
> 标签：authorization, acl, laravel, user-permissions

我想在我的 laravel 应用程序中整合 Laravel Authority 捆绑包。

我如何为它实现 ACL？

我的方法就像每个控制器都会定义与控制器关联的权限。然后我会将这些权限与角色进行映射。权限初始化将加载会话用户可用的权限并将它们传递给权限。权限可以稍后使用 Authority::can() 正常检查。

现在我的问题是如何在某个页面加载控制器中可用的所有权限，这将允许我为角色设置权限。

这是定义权限的正确方法吗？

请帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-01-05T20:27:07.573

如评论中所述，捆绑包不适用于 laravel 4，但 laravel-4 的 Matt Machugas [Authority](https://github.com/machuga/authority-l4)包似乎完全适合您的需求。它允许您创建具有某些特权的角色，然后在顶部添加单独的权限，或者如果您愿意，可以代替这些角色，我发现它非常易于使用。

# javascript - JavaScript：为什么我的密码字段根本不更新？

> ID：14619856
> 
> 赞同：0
> 
> 时间：2013-01-31T06:37:06.357
> 
> 标签：javascript

为什么我的密码字段根本没有更新？在用户单击输入文本字段后，密码字段应该变成红色`id="password2"`，但它似乎不想工作。有什么想法吗？

这是我的 CSS

```
#denied {
    border: 1px ridge #272727;
    -webkit-box-shadow: inset 1px 2px 5px black;
    box-shadow: inset 1px 2px 5px black;
    height: 40px;
    width: 97%;
    color: #FFF;
    font-size: 18px;
    font-family: dota2fonts;
    padding: 5px;
    background-color: red;
    text-shadow: 1px 3px 5px #000000;
} 
```

这是我的 JavaScript

```
function initPage() {
    document.getElementById("￼password2").onblur = checkPassword;
}

function checkPassword() {
    var password1 = document.getElementById("password1").value;
    var password2 = document.getElementById("password2").value;
    if (password1 != password2) {
        password1.className = "denied";
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-31T06:48:09.110

变量 password1 保存字段的值而不是元素的值。你应该`.classname`在元素上使用

你应该做的是

```
document.getElementById("password1").className = "denied"; 
```

但你在做

```
document.getElementById("password1").value.className = "denied"; 
```

在您的 CSS 中，它应该是**.denied**而不是**#denied**

# php - 如何使用回车从 MySQL 数据库中提取文本？

> ID：14619859
> 
> 赞同：1
> 
> 时间：2013-01-31T06:37:33.053
> 
> 标签：php, mysql

我已经通过 MySQL 从 textarea 向数据库输入了数据。在那个 textarea 中，我输入了几次回车。每当我试图从数据库中提取该数据时，都会显示一条简单的行，当我用回车输入输入时，我如何获取数据或文本？

```
$query2 = new Bin_Query();
        $sql2="select * from `product_table` where product_id='".$_GET['product_id']."'";
        if($query2->executeQuery($sql2))
            $product_records = $query2->records;

$output['product_details']=$product_records[0]['product_details']; 
```

这就是我检索数据的方式。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-31T07:47:21.047

您必须使用 nl2br()，实际上请查看更多[http://php.net/manual/en/function.nl2br.php](http://php.net/manual/en/function.nl2br.php) ，使用 nl2br() 的正确方法是在存储时根本不使用它您的数据 - 当您从数据库中读取数据并将其输出到客户端时。数据在插入数据库时​​不应该被格式化，如果你以后想要创建一个 REST 服务并且你真的需要那些换行符而不是 HTML 元素怎么办？可能对你有帮助。

# .net - VC ++ 2010 中 Windows 窗体应用程序中的卸载事件

> ID：14619860
> 
> 赞同：0
> 
> 时间：2013-01-31T06:37:33.837
> 
> 标签：.net, visual-studio-2010

我正在 Windows 窗体应用程序中通过 Visual Studio 2010 设计一个程序，我希望有一个在我的窗体关闭时运行的函数。如何添加正确的事件处理程序？

我想要一个这样的事件处理程序：

this->Resize += gcnew System::EventHandler(this, &Main::Main_Resize);

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-31T06:41:07.793

您的表单类中有一个`Closing`或`Closed`事件，您可以在其中调用您的函数。

示例（C#）：

```
Form1 f;
f.Closing += new FormClosingEventHandler(f_Closing); 
```

和你的功能：

```
private void f_closing(object sender, EventArgs e)
{
    // your function
} 
```

# javascript - jQuery 同位素，排序首先通过深度链接选择

> ID：14619861
> 
> 赞同：1
> 
> 时间：2013-01-31T06:37:37.723
> 
> 标签：javascript, jquery, jquery-isotope, deep-linking

再会，

请参阅此[jsfiddle 演示](http://jsfiddle.net/VCmNU/1/)，客户端需要将深度链接功能添加到现有代码中。

[我曾尝试使用“ Hash histroy with jQuery BBQ](http://isotope.metafizzy.co/demos/hash-history.html) ”来构建同位素的内置功能，但这不是客户想要的，原因是：

(1) 他们希望显示的 URL 以斜杠“/”而不是井号“#”运行

(2) 同位素jQuery BBQ示例应用于过滤器按钮而不是特定同位素“itemSelector”

这就是客户想要的

(a) 使用特定的深度链接 url，浏览器将加载选择特定项目的页面`$this.addClass('selected');`

(b) 通过点击`itemSelector: '.item',`地址栏上的其他项目 url 将更改而不刷新页面

表达能力不足见谅，为了更好的理解，请参考[www.jwt.com](http://www.jwt.com)。我无法对整个站点进行逆向工程，因此使用 jQuery isotope 作为我的方法。

我正在考虑在单击同位素 itemSelector 时添加某种代码，

```
$items.click(function () {
  var $this = $(this);
  // don't proceed if already selected
  var $previousSelected = $('.selected');
  if (!$this.hasClass('selected')) {
    $this.addClass('selected');
  }

  $previousSelected.removeClass('selected');

  // update sortData for new items size
  $container.isotope('updateSortData', $this)
    .isotope('updateSortData', $previousSelected)
    .isotope();

}); 
```

提前谢谢了！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T18:37:28.917

(1) 他们希望显示的 URL 以斜杠“/”而不是井号“#”运行

我真的建议不要在单个页面响应中使用“/”作为菜单导航命令。“/”是表示 URI 层次结构的保留（ascii 2F）字符。在[html 规范](http://www.w3.org/TR/REC-html40/references.html#ref-RFC1630)中使用的时间大约可以追溯到你想去的地方。根据您的影响，[自 1994 年以来制作的每个客户端浏览器、网络爬虫都可能在自定义使用“/”时表现异常](http://www.ietf.org/rfc/rfc1630.txt)

我只是希望您对使用“/”做出明智的决定。它可能会产生意想不到的后果。我建议选择不会重新使用 URI 保留字符的任何内容。

说了这么多，是可以做到的。

1.  如果您必须使用斜线，那么您将不得不在您的网络服务器中使用“通配符 URL”映射支持。`http://your.domain.com/base/url/**`--> 某个页面（分层定义在此停止，并且开始使用 url 的文档片段）
2.  像 jwt 站点一样，使用 cookie 来存储用户的点击偏好，因为您将破解您的 URL 以满足客户的要求。

3.  您需要听取点击或同位素更新事件以使 cookie 保持最新

4.  防止[bbq 过滤](http://isotope.metafizzy.co/demos/hash-history.html)出现在 url 中，并将其更改为用户要求的“/”。

5.  在页面加载时读取您的 cookie，并使用必要的选项启动[isotope](http://isotope.metafizzy.co/)，以便页面看起来与他们上次访问时相同。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-04T16:48:13.957

您正在寻找的是[HTML5 History API](https://developer.mozilla.org/en-US/docs/DOM/Manipulating_the_browser_history#Adding_and_modifying_history_entries)。这允许您在不重新加载页面的情况下修改 URL 栏中显示的内容。您将希望使用一个库，例如[History.js](https://github.com/balupton/History.js/)，而不是直接使用 API。

# javascript - 从 javascript 数组调用函数

> ID：14619862
> 
> 赞同：12
> 
> 时间：2013-01-31T06:37:39.500
> 
> 标签：javascript, arrays, function, this

我有这个代码：

```
var foo = {
    x: 2,
    bar: function() {
        alert(this.x);
    }
}; 
```

为什么`foo.bar()`alert `2`while `[foo.bar][0]()`alerts`undefined`呢？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-01-31T06:51:59.863

所以，技术上`[foo.bar][0]`等价于`foo.bar`，但是在调用函数的时候`bar`已经失去了与对象的“词法绑定” `foo`，所以当你调用它时，JavaScript 实际上会执行以下操作：

```
foo.bar.call([foo.bar]); 
```

一般来说，这个表达式：

```
XXX.yyy(args) 
```

被解释为：

```
XXX.yyy.call(XXX, args); 
```

*在这种情况下`XXX`是`[foo.bar]`和`.yyy`是`[0]`。*

要修复它，您需要`foo`再次显式绑定：

```
[foo.bar][0].call(foo); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-31T06:52:27.457

当你这样做时`[foo.bar][0]()`，`this`在`bar`is`[foo.bar]`中，数组而不是对象`foo`。

只是想象方法名称是数字`0`（尽管这是错误的语法）。

```
([foo.bar]).0(); // you see, `this` became the array object: [foo.bar] 
```

并且`[foo.bar].x`是`undefined`。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-31T07:24:57.167

这是因为您正在调用数组对象上的函数。“this”关键字等于数组。

```
[foo.bar][0](); 
```

在 javascript 中，调用函数的上下文可能会有所不同。“this”关键字可以根据调用方式具有不同的值。如果在对象（包括数组）上调用函数，该语言将使“this”等于调用它的对象。另一方面，您可以将另一个对象的函数保存到另一个变量中并调用它。就像你这样做：

```
var test=[foo.bar][0];
test();`//here is alert "2" 
```

上下文将是窗口。

研究 javascript 中的 call 和 apply 方法。这将使您了解“this”关键字的灵活性。对于来自其他语言的许多程序员来说，这是一个很困惑的地方，但是一旦理解了这个原则，就会有很多力量来自它。例如，JQuery 使用“call”和“apply”在触发事件的元素的上下文中调用事件的回调。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-31T06:51:09.030

那是因为当您创建`[foo.bar]`一个数组时，您将它与主对象（foo）隔离开来，并且在您的函数中发出警报`this.x`并且在新创建的对象 [foo.bar]`this`中未定义

# linux - linux libiconv 从 ISO8859 或 IBM850 转码为 UTF8 错误

> ID：14619865
> 
> 赞同：0
> 
> 时间：2013-01-31T06:37:57.127
> 
> 标签：linux, iso-8859-1, iconv, libiconv

不知道原码是什么，所以假设原码是IBM850或者ISO8859-1。下面我的流程

1.  IBM850 -> UTF8
    如果可以，我认为原始代码是 IBM850，如果不可以，请执行下一步：

2.  ISO8859-1 -> UTF8
    如果可以的话，我认为原始代码是 UTF8。

但是有一个问题，如果原码是ISO8859-1，会被IBM850识别。如果原始代码是 IBM850，它将被识别为 ISO8859-1。

IBM850 和 ISO8859-1 之间似乎有共同点。

谁能帮帮我，谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-31T07:04:38.767

是的，通过测试转换是失败还是成功，只有最简单的自动检测是可能的。它不适用于（几乎）任何输入都有效的输入编码。

您应该对可能的输出有更多的了解，以测试从 翻译`IBM850`或 从翻译后是否更有意义`ISO8859-1`。这就是`enca`做`libenca`什么。您可能可以从一些简单的期望开始检查：

1.  您的源是否恰好在`ASCII`两种编码的子集中？然后你对任何转换都很满意（但你根本无法知道原始编码）。
2.  您的代码是否使用方框图字符？如果没有，很容易拒绝一些候选人`IBM850`。
3.  您的代码是否使用来自 的*控制*字符`ISO8859-1`？如果没有，很容易拒绝一些候选`ISO8859-1`代码点`0x80`-`0x9F`是否使用。
4.  非 ASCII 代码片段是否总是以自然语言表示文本？然后，您可以对字符及其对使用频率表，选择源编码，使结果*更接近*您在这些标准上的自然语言。（如果两种变体几乎同样可以接受，最好给出错误消息并将最终决定留给人类）。

# java - Java 日历 1 月 31 日号

> ID：14619867
> 
> 赞同：3
> 
> 时间：2013-01-31T06:38:23.633
> 
> 标签：java

我有以下代码：-

```
 Calendar calc = Calendar.getInstance();
        SimpleDateFormat sdf = new SimpleDateFormat("MMM-yyyy");
        calc.set(Calendar.YEAR, calc.get(Calendar.YEAR) - 1);
        calc.set(Calendar.MONTH, Calendar.NOVEMBER);
        System.out.println("---NOV? : " + sdf.format(calc.getTime()));

        Calendar calc1 = Calendar.getInstance();
        calc1.set(Calendar.YEAR, calc1.get(Calendar.YEAR) - 1);
        calc1.set(Calendar.MONTH, Calendar.DECEMBER);
        System.out.println("-- DEC : " + sdf.format(calc1.getTime())); 
```

上述代码的输出是：-

```
> ---NOV? : Dec-2012
> -- DEC : Dec-2012 
```

这只发生在 1 月 31 日，有人可以解释为什么会发生这种情况吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-31T06:41:42.240

日历被设置为宽松的解释，所以如果你告诉它 11 月 31 日，那么，11 月只有 30 天，所以它会滚动到 12 月 1 日。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-01-31T06:42:17.720

我怀疑第一种情况是将“11 月 31 日”舍入到“12 月 1 日”，因为您没有更改日历中的日期。

# javascript - 未调用组合框事件

> ID：14619868
> 
> 赞同：0
> 
> 时间：2013-01-31T06:38:27.937
> 
> 标签：javascript, jquery

单击按钮会显示 Combo Box 并选择 Combo Box 。没有调用更改事件。

请让我知道我在哪里犯了错误。

```
<html>
<head>
<script src="jquery17.js" type="text/javascript"></script>
<script>
  $("select").change(function(){
        alert(this.id);
    });

$(document).ready(function(){
  $("button").click(function(){
   var s = $('<select />');
   var data = {
    'foo': 'bar',
    'foo2': 'baz'
}
for(var val in data) {
   $('<option />', {value: val, text: data[val]}).appendTo(s);
}
s.appendTo('body');
 });
});
</script>
</head>
<body>
<div id="div1"></div>
<button>Get External Content</button>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-31T06:41:18.077

```
$(document).on("change", "select", function(){
        alert($(this).attr("id"));
}); 
```

由于`<select>`标签是动态附加的，因此您必须在其上委托事件。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-31T06:49:42.317

你必须把它放在`doc ready`但是在将它们附加到 body 之后，是的，这是动态的，所以将事件委托给它`closest parent element`本身`document`，它是所有的父级。

```
<script>
  $(document).ready(function(){
      $("button").click(function(){
           var s = $('<select />');
           var data = {
                 'foo': 'bar',
                 'foo2': 'baz'
            }
           for(var val in data) {
               $('<option />', {value: val, text: data[val]}).appendTo(s);
            }
          s.appendTo('body');
       });

       // you need to place that here.
             $(document).on('change', 'select', function(){
                 alert(this.id);
             });

    }); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-31T06:42:17.577

```
$("select").change(function(){
    alert(this.id);
}); 
```

问题是你不在你的`$(document).ready(function(){`街区内这样做。

将它移到那里，否则您将在尚不存在的 DOM 元素上设置事件处理程序。

# asp.net - 使用存储在客户端隐藏的大型 JSON

> ID：14619870
> 
> 赞同：2
> 
> 时间：2013-01-31T06:38:43.370
> 
> 标签：asp.net, json, asp.net-mvc-3, performance

我正在处理一个有 3 个 jQGrids 的页面，我使用 JSON 来绑定它。处理 MVC 3 应用程序。

例如，我有一个显示部门名称列表的下拉列表，如果我更改任何部门，我需要在我的网格中加载该部门下的所有员工。用户经常在网格中编辑一些记录。

> 但是用户永远不会立即保存，他们一直在编辑这么多部门员工并进行一次保存。

为了在用户单击全局保存之前保留所有更改，我决定将所有员工记录详细信息以 JSOn 格式保存在隐藏字段中。所以我从隐藏加载并根据选定的部门绑定到网格，并在用户在网格中更新时更新本地 JSON，最后我将隐藏的 JSON 发送到服务器。

> **我将 100 个员工详细信息 JSON 数据的 10 个字段存储在隐藏字段中并使用。我知道我正在增加响应大小和发布数据大小。问题是，它会影响性能上的大问题吗？还是我可以存储在会话中并从中加载？哪个是最好的方法？**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-31T06:52:57.557

理论上，除了用户回发时页面发送回数据的延迟之外没有其他问题。

但[在现实生活中，我已经看到（罕见但现有的）](https://stackoverflow.com/questions/5800626/asp-net-post-timeout)回发时存在很大字段的问题。某些路由器或代理会切断或阻止它们-我不知道实际原因，有时它们可​​能只是愚蠢的过滤器。

为了避免这种罕见的情况发生，您可以将输入隐藏字段压缩并拆分为多个（当一个大小很大时会出现问题）。

现在，会话是一个很好的解决方案，可以帮助最小化前后发送的数据。它可能会增加会话，如果用户打开两个相同的窗口，您必须找到一种处理方式和方式，会话数据必须是两个不同的。

有关如何压缩输入字段的一些示例。正在谈论视图状态，但想法是一样的：

[http://www.codeproject.com/Articles/14733/ViewState-Compression](http://www.codeproject.com/Articles/14733/ViewState-Compression)

[http://www.hanselman.com/blog/ZippingCompressingViewStateInASPNET.aspx](http://www.hanselman.com/blog/ZippingCompressingViewStateInASPNET.aspx)

[http://www.bloggingdeveloper.com/post/How-To-Compress-ViewState-in-ASPNET-20-ViewState-Compression-with-SystemIOCompression.aspx](http://www.bloggingdeveloper.com/post/How-To-Compress-ViewState-in-ASPNET-20-ViewState-Compression-with-SystemIOCompression.aspx)

# gwt - 浏览器特定的 GWT Datepicker 本地化

> ID：14619872
> 
> 赞同：0
> 
> 时间：2013-01-31T06:38:55.707
> 
> 标签：gwt

即使我将语言环境更改为其他语言，GWT Datepicker 也会以“en”语言环境显示。我不想在某些 *.gwt.xml 文件中指定它，我想要的是它应该从浏览器语言环境中获取它。任何解决方法？？？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-31T08:20:34.997

GWT 默认不使用浏览器语言环境。你必须告诉它这样做。

```
 <set-configuration-property name="locale.useragent"
    value="Y" />
<set-configuration-property name="locale.searchorder"
    value="queryparam,cookie,useragent,meta" /> 
```

请注意，这不适用于所有浏览器。我想这就是默认情况下不激活它的原因。到目前为止，IE 是我所知道的唯一例外。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-31T09:12:51.610

[](https://developers.google.com/web-toolkit/doc/latest/DevGuideI18n#DevGuideDynamicStringInternationalization)*他们称之为[*动态 I18N只是提供翻译的常量。*](https://developers.google.com/web-toolkit/doc/latest/DevGuideI18n#DevGuideDynamicStringInternationalization)对于其他所有内容（数字格式、日期格式、复数规则等），您必须在您的应用程序 (`<extend-property name="locale" values="…" />`) 中编译支持的语言环境。*

 *作为替代方案，您可以使用您自己的实现（使用规则）覆盖（使用`<replace-with>`规则）各种实现（在您的情况下使用`DatePicker`, the `DateTimeFormatInfoImpl`），这些实现将从 a `Dictionary`（或等效）而不是从编译的数据中获取它们的信息。不过，这些 API 在 GWT 版本之间可能会发生变化（我已经可以告诉您，它们*将*在 GWT 2.6 中发生变化）。

最后，当您添加对新语言环境的支持时，重新编译您的 GWT 应用程序可能比沿着上述道路更容易。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-11T08:21:22.853

如果您想使用浏览器语言环境（通常会非常有限，并非在所有情况下都可用等），那么您需要结合 Thomas 的答案（特别是在扩展属性标签中指定您的应用程序应支持的所有语言环境） ) 并设置 locale.useragent 属性（您不需要设置 locale.searchorder ，除非您想更改顺序或禁用某些提供程序）。

具体来说，在您的应用程序 gwt.xml 文件中，添加以下内容：

```
<inherits name="com.google.gwt.i18n.I18N"/>
<extend-property name="locale" values="en"/>
<extend-property name="locale" values="fr"/>
... etc ...
<set-configuration-property name="locale.useragent" value="Y"/> 
```

您不需要任何替换规则。请参阅[GWT i18n 文档](https://developers.google.com/web-toolkit/doc/latest/DevGuideI18nLocale "GWT i18n 文档")*

# php - 在 mysql 中使用内部连接和 concat() 操作进行查询的问题

> ID：14619874
> 
> 赞同：1
> 
> 时间：2013-01-31T06:39:05.723
> 
> 标签：php, mysql, inner-join

我有两张桌子：

```
sk_accounts      //details of user 
```

*   acnt_user_id
*   acnt_fname //名字
*   acnt_lname
*   acnt_profile_picture
*   acnt_member_class
*   很快........

    ```
     sk_following   //table containing details of users who are following others 
    ```

*   ID

*   flwing_follower_id //被其他关注者关注的用户的id
*   flwing_following_user_id
*   以下日期

    我想根据以下 Mysql 代码显示关注者的详细信息。不幸的是，即使有 3 行，它也会返回零行。我的查询是这样的：

    ```
    $query_following = "SELECT sk_following.flwing_following_user_id, 
    sk_accounts.acnt_fname,
    sk_accounts.acnt_lname,
    sk_accounts.acnt_member_class,
    sk_accounts.acnt_profile_picture
    FROM sk_following 
    INNER JOIN sk_accounts 
    WHERE sk_following.flwing_follower_id='$id' AND        sk_accounts.acnt_user_id=sk_following.flwing_following_user_id AND CONCAT(sk_accounts.acnt_fname,' ',sk_accounts.acnt_lname)='$name'";
    $result_following = mysql_query($query_following);
    $count_following = mysql_num_rows($result_following);
    echo $count_following; 
    ```

注意：$id 和 $name 包含值请帮助我。在此先感谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-31T06:53:19.890

试试这个，

```
"SELECT sk_following.flwing_following_user_id,
sk_accounts.acnt_fname,
sk_accounts.acnt_lname,
sk_accounts.acnt_member_class,
sk_accounts.acnt_profile_picture 
FROM sk_following
LEFT JOIN sk_accounts ON sk_accounts.acnt_user_id=sk_following.flwing_following_user_id
WHERE sk_following.flwing_follower_id='$id'
AND CONCAT(sk_accounts.acnt_fname,' ',sk_accounts.acnt_lname)='$name'"; 
```

这可以帮助你。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-31T06:44:19.643

如果没有看到示例数据和所需的输出，很难完全理解，但是您的 JOIN 是否应该在 flwing_follower_id 而不是 flwing_following_user_id 上？

```
SELECT sk_following.flwing_following_user_id,
    sk_accounts.acnt_fname,
    sk_accounts.acnt_lname,
    sk_accounts.acnt_member_class,
    sk_accounts.acnt_profile_picture 
FROM sk_following 
    INNER JOIN sk_accounts ON sk_accounts.acnt_user_id=sk_following.flwing_follower_id 
WHERE sk_following.flwing_follower_id='$id' 
    AND CONCAT(sk_accounts.acnt_fname,' ',sk_accounts.acnt_lname)='$name' 
```

祝你好运。

# matlab - 如何使用 Matlab 在圆中生成一对随机点？

> ID：14619876
> 
> 赞同：1
> 
> 时间：2013-01-31T06:39:07.797
> 
> 标签：matlab, computational-geometry, matlab-figure, matlab-deployment

在 MATLAB 中绘制一个已知半径的圆。

假设一对随机点，其位置必须根据坐标 (x1,y1) (x2,y2)..(xn,yn) 确定。对应该彼此靠近。例如 T1 和 R1 应该在附近。

如图所示，有四个随机对 (T1,R1)..(T4,R4)。需要将坐标确定为中心（0,0）。

![数字](../Images/128f04aa8f592e59f6bd4e692522b69e.png)

如何在 MATLAB 中生成它？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-31T08:14:11.213

使用reduce R从圆上的均匀分布中选取一个点的最简单方法是使用吉布斯采样。这是代码：

```
function [x y] = circular uniform (R)
while true
   x = 2*R*rand() - R
   y = 2*R*rand() - R
   if (x*x + y*y) > R*R
       return
   end
end 
```

循环平均运行 4/π 次。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-31T07:01:49.550

令 R 为 (0;0) 圆心圆的半径。
(x,y) : x^2+y^2<=R^2 (LE) 在圆内

```
x = rand()*2*R - R; 
```

y 应该在区间 (-sqrt(R^2 - x^2);+sqrt(R^2 - x^2))
所以，让它成为

```
y = rand()*sqrt(R^2 - x^2)*2-sqrt(R^2 - x^2); 
```

希望，没错，我没有要测试的matlab。
希望，你会设法找到你自己的亲密配对。
好的，我会花更多时间来提示一下。要在区间 [a,b] 中找到随机数 k，请使用

```
k = rand()*(b-a)+a 
```

现在，如果我还记得 matlab 语法，它应该真的很有帮助。祝你好运。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-31T08:31:21.410

（编辑问题后完成编辑）。

要完成此任务，我认为您需要结合编辑之前提到的不同方法：

*   要在绿色圆环中生成中心 T1,T2,T3,...，请*使用极坐标*。**（编辑：事实证明这是错误的，这里也必须使用拒绝抽样，否则，分布不均匀！）**
*   要在 T1,T2,T3,... 周围的圆圈中生成点 R1,R2,R3,... 但仍在环面中，请使用[拒绝采样](http://en.wikipedia.org/wiki/Rejection_sampling)。

有了这些成分，你应该能够做你需要的一切。这是我写的代码：

```
d=859.23;
D=1432.05;
R=100;
N=400;

% Generate the angle
theta = 2*pi*rand(N,1);

% Generate the radius
r = d + (D-d)*rand(N,1);

% Get the centers of the circles
Tx = r.*cos(theta);
Ty = r.*sin(theta);

% Generate the R points
Rx=zeros(N,1);
Ry=zeros(N,1);
for i=1:N
    while true
        % Try
        alpha = 2*pi*rand();
        rr = R*rand();

        Rx(i) = Tx(i) + rr*cos(alpha);
        Ry(i) = Ty(i) + rr*sin(alpha);

        % Check if in the correct zone
        if ( (Rx(i)*Rx(i) + Ry(i)*Ry(i) > d*d) && (Rx(i)*Rx(i) + Ry(i)*Ry(i) < D*D) )
           break
        end
    end
end

% Display
figure(1);
clf;
angle=linspace(0,2*pi,1000);
plot( d*cos(angle), d*sin(angle),'-b');
hold on;
plot( D*cos(angle), D*sin(angle),'-b');
for i=1:N
    plot(Tx(i),Ty(i),'gs');
    plot(Rx(i),Ry(i),'rx');
    plot([Tx(i) Rx(i)],[Ty(i) Ry(i)],'-k');
end
hold off; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-31T07:59:06.470

按照@PheuVerg 的建议生成随机点（稍作矢量化调整）

```
n = 8; %must be even!
x = rand(n, 1)*2*R - R; 
y = rand(n, 1).*sqrt(R^2 - x.^2).*2-sqrt(R^2 - x.^2); 
```

然后使用kmeans聚类得到n/2个中心

```
[~ c] = kmeans([x y], n/2); 
```

现在你必须遍历每个中心并找到它到每个点的距离

```
dists = zeros(n, n/2);
for cc = 1:n/2
    for pp = 1:n
        dists(pp, cc) = sqrt((c(cc,1) - x(pp))^2 + (c(cc,2) - y(pp))^2);
    end
end 
```

现在您必须为 dists 的每一列找到最小的 2 个值

```
[sorted, idx] = sort(dists); 
```

所以现在每列的前两行是最近的两个点。但是可能会发生冲突！即最接近两个不同中心的点。因此，对于重复值，您必须循环并选择交换，以获得最小的额外距离。

示例数据：

```
x =

    0.7894
   -0.7176
   -0.5814
    0.0708
    0.5198
   -0.2299
    0.2245
   -0.8941

y =

   -0.0800
   -0.3339
    0.0012
    0.9765
   -0.4135
    0.5733
   -0.1867
    0.2094

sorted =

    0.1870         0         0    0.1555
    0.2895    0.5030    0.5030    0.2931
    0.3145    1.1733    0.6715    0.2989
    1.0905    1.1733    0.7574    0.7929
    1.1161    1.2326    0.8854    0.9666
    1.2335    1.2778    1.0300    1.2955
    1.2814    1.4608    1.2106    1.3051
    1.4715    1.5293    1.2393    1.5209

idx =

     5     4     6     3
     7     6     4     2
     1     3     3     8
     6     7     8     6
     3     8     7     7
     2     1     2     4
     4     5     1     5
     8     2     5     1 
```

所以现在很明显`5`and是对的， and `7`that是对的。但是和都是重复的。（在这种情况下，我猜它们显然也是对的！）但我建议将 point与 center和 point与 center 分开。然后我们从第 2 列开始，看到下一个可用点的距离为。这将使点与点配对，但它与中心的距离为。如果我们将 point with和 point with配对，我们将得到 和`3``2``4``6``4``2``6``3``8``1.2326``1``6``1.2106``6``8``4``1``0.7574``1.2778`分别这实际上是更少的总距离。因此，找到“接近”对很容易，但要找到具有全局最小最小值的对集合却很难！这个解决方案很容易让你得到一些不错的东西，但是如果你需要全球最好的，那么恐怕你还有很多工作要做:(

最后让我添加一些可视化。首先让（手动）创建一个向量来显示哪些点是成对的：

```
 I = [1 2 2 1 3 4 3 4]; 
```

请记住，这将取决于您的数据！现在你可以很好地绘制是这样的：

```
gscatter(x, y, I) 
```

希望这能让你接近，并且你可以最终自己消除我的手动配对。获得粗略的解决方案应该不会太难。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-31T11:18:53.733

这是一个低质量的解决方案，非常易于使用均匀分布的点。假设点数很小效率不应该是一个问题，如果你想要更好的质量，你可以使用比最近邻更强大的东西：

1.  当您的点数少于 n 时：生成一个随机点
2.  如果在圈内，则存储，否则转到步骤1
3.  虽然有不成对的点：检查哪个点最靠近第一个不成对的点，使它们成对

因此，大多数对应该是好的，但有些可能真的很糟糕。我建议您尝试一下，如果需要，也许可以使用 k-opt 或其他一些本地搜索添加第 4 步。如果你真的有很少的点（例如少于 20 个），你当然可以只计算所有距离并找到最佳匹配。

* * *

如果您并不真正关心均匀分布，这里有一个更简单的解决方案：

1.  当您的点数少于 n 时：生成一个随机点
2.  如果在圈内，则存储，否则转到步骤1
3.  对于这些点中的每一个，在其附近生成一个点
4.  如果在圈内，则存储，否则转到步骤3

# angularjs - Angularjs将对象传递给指令

> ID：14619884
> 
> 赞同：29
> 
> 时间：2013-01-31T06:39:35.190
> 
> 标签：angularjs, angularjs-directive

角新手在这里。我试图弄清楚在将对象传递给指令时出了什么问题。

这是我的指令：

```
app.directive('walkmap', function() { 
  return {
    restrict: 'A',
    transclude: true,
    scope: { walks: '=walkmap' },
    template: '<div id="map_canvas"></div>',
    link: function(scope, element, attrs)
    {
      console.log(scope);
      console.log(scope.walks);
    }
  };
}); 
```

这是我调用指令的模板：

```
<div walkmap="store.walks"></div> 
```

`store.walks`是一个对象数组。

当我运行它时，`scope.walks`将日志记录为`undefined`while`scope`日志很好，作为 Scope 甚至有一个`walks`包含我正在寻找的所有数据的孩子。

我不确定我在这里做错了什么，因为这种确切的方法以前对我有用。

编辑：

我用所有必需的代码创建了一个 plunker：http: [//plnkr.co/edit/uJCxrG](http://plnkr.co/edit/uJCxrG)

如您所见，`{{walks}}`它在范围内可用，但我需要在仍将其记录为未定义的链接函数中访问它。

* * *

## 回答 #1

> 赞同：40
> 
> 时间：2013-01-31T21:04:57.437

由于您`$resource`用于获取数据，指令的链接函数在数据可用之前运行（因为结果`$resource`是异步的），因此链接函数中的第一次`scope.walks`将为空/未定义。由于您的指令模板包含`{{}}`s，Angular 设置了`$watch`on `walks`，因此当`$resource`填充数据时，`$watch`触发器和显示会更新。这也解释了为什么您会在控制台中看到步行数据——当您单击链接以扩大范围时，数据已被填充。

要解决您的问题，请在您的链接功能`$watch`中了解数据何时可用：

```
scope.$watch('walks', function(walks) {
   console.log(scope.walks, walks);
}) 
```

在您的生产代码中，请注意不要将其未定义：

```
scope.$watch('walks', function(walks) {
  if(walks) { ... }
}) 
```

**更新：**如果您使用`$resource`支持承诺的 Angular 版本，另请参阅@sawe 的回答。

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2013-10-18T12:39:34.953

你也可以使用

```
scope.walks.$promise.then(function(walks) {
    if(walks) {
      console.log(walks);
    }
  }); 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2014-12-18T13:28:17.583

另一种解决方案是添加`ControllerAs`到指令中，您可以通过它访问指令的变量。

```
app.directive('walkmap', function() { 
  return {
    restrict: 'A',
    transclude: true,
    controllerAs: 'dir',
    scope: { walks: '=walkmap' },
    template: '<div id="map_canvas"></div>',
    link: function(scope, element, attrs)
    {
      console.log(scope);
      console.log(scope.walks);
    }
  };
}); 
```

然后，在您看来，使用变量传递`controllerAs`变量。

```
<div walkmap="store.walks" ng-init="dir.store.walks"></div> 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2015-04-12T23:23:57.793

尝试：

```
<div walk-map="{{store.walks}}"></div>

angular.module('app').directive('walkMap', function($parse) {
  return {
    link: function(scope, el, attrs) {
      console.log($parse(attrs.walkMap)(scope));
    }
  }
}); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-31T17:22:27.377

your declared $scope.store is not visible from the controller..you declare it inside a function..so it's only visible in the scope of that function, you need declare this outside:

```
app.controller('MainCtrl', function($scope, $resource, ClientData) {
  $scope.store=[];         // <- declared in the "javascript" controller scope
  ClientData.get({}, function(clientData) {
  self.original = clientData;
  $scope.clientData = new ClientData(self.original);
  var storeToGet = "150-001 KT";
  angular.forEach(clientData.stores, function(store){
   if(store.name == storeToGet ) {
     $scope.store = store;      //declared here it's only visible inside the forEach
     }
   });
  });
 }); 
```

# exception-handling - Powershell - 为什么根据stderr重定向/如何访问catch中的“多个”异常而对异常进行不同的处理？

> ID：14619885
> 
> 赞同：3
> 
> 时间：2013-01-31T06:39:38.237
> 
> 标签：exception-handling, powershell-3.0

这个问题与这里的问题有关：

[使用 TFS 构建触发时抑制 Powershell 中的 sqlpackage.exe 警告/错误](https://stackoverflow.com/questions/14575734/suppress-sqlpackage-exe-warnings-errors-in-powershell-when-triggered-using-tfs-b)

但是，我正在开发的解决方法有问题，如下所示

```
 try {
    & "C:\Program Files (x86)\Microsoft SQL Server\110\DAC\bin\SqlPackage.exe" /SourceFile:"$dacpac" /Profile:"$dbProfile" /p:UnmodifiableObjectWarnings=false /Action:Publish 2>&1
}
catch {
    Write-Host "Exception: $_"
    if($_.TargetObject -like $Pattern) {
        Write-Host "Known exception - treat as warning"
    }
    if($LastExitCode -ne 0) {
        throw "An error occurred deploying database. Please examine the log to determine the nature of the error"
    }
} 
```

如果我不将 stderr 重定向到 stdout，则当 sqlpackage 记录警告时，该过程指示失败。

如果我在上一个命令中将 stderr 重定向到 stdout，则当 sqlpackage.exe 引发警告时，进程能够完成，但一旦完成，就会引发异常。然后我可以检查异常文本，它与我已知的异常相同，我可以放心地忽略它。

但是，sqlpackage 会记录除警告之外的某些内容-即实际的失败错误，我无法确定异常的附加文本。在 catch 里面，我能看到的只是警告信息。如果我删除 stderr 重定向，则会记录完整的输出，这是与权限相关的错误。

因此，我的脚本在它应该成功的时候成功了，并且忽略了我不关心它的警告。当我想要它时它也会失败，但是我不能输出适当的日志消息。然后我需要编辑我的部署脚本，重新运行部署等等，所有这些都非常繁琐，而且不可重复。

任何提示将不胜感激。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2014-09-02T22:55:07.963

此问题已在最新的 SqlPackage.exe 版本中得到修复 - 这是 2014 年 6 月的 DacFramework.msi 版本，它捆绑到 Visual Studio 的 2014 年 7 月 SQL Server 工具更新中。警告现在指向 StdOut 而不是 StdErr。

请注意，截至 2014 年 4 月，SqlPackage.exe 的位置已更改 - 如果通过 SSMS 或 DacFramework.msi 安装，它位于“C:\Program Files (x86)\Microsoft SQL Server\120\DAC\Bin”中。如果在 VS 中作为 SQL Server 工具的一部分安装，它位于“C:\Program Files (x86)\Microsoft Visual Studio\Common7\IDE\Extensions\Microsoft\SQLDB\DAC\120”下，其中 VisualStudioVersion 为“11.0” VS2012 和 VS2013 的“12.0”。

# android - 在通知中显示错误

> ID：14619887
> 
> 赞同：1
> 
> 时间：2013-01-31T06:39:40.187
> 
> 标签：android, android-service, android-logcat

我正在尝试在获取更新后获取通知。我在一个单独的模块中尝试过它并且它有效。但是当我试图将它包含在一个包中时，它会显示错误。

```
01-18 09:54:27.020: E/MediaPlayerService(33): Couldn't open fd for content://settings/system/notification_sound
01-18 09:54:27.121: E/MediaPlayer(1460): Unable to to create media player
01-18 09:54:27.260: E/RingtoneManager(1460): Failed to open ringtone content://settings/system/notification_sound 
```

我认为它与通知声音有关，我对此发表了评论。即使这样做了，我也遇到了同样的错误。

更新.java

```
 Intent intent = new Intent(UpdateService.this,NewsActivity.class);
                            PendingIntent pIntent = PendingIntent.getActivity(UpdateService.this, 0, intent, 0);
                            Notification n = new Notification(R.drawable.ic_launcher, "new update arrived", System.currentTimeMillis());
                            n.setLatestEventInfo(getApplicationContext(), "Update", "new update arrived", pIntent);
                            n.flags = Notification.FLAG_AUTO_CANCEL;
                            NM = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);
                            NM.notify(id,n);
//                          try{
//                              Uri notification = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION);
//                              Ringtone r = RingtoneManager.getRingtone(getApplicationContext(), notification);
//                              r.play();
//                          }catch(Exception e){
//                              e.printStackTrace();
//                          }    
                            Log.d("Change","the old value changed");
                        }else{
                                    Thread.sleep(DELAY);
                        }                       
                    } catch (InterruptedException e) {
                        isRunning = false;
                    } catch (JSONException e) {
                        // TODO Auto-generated catch block
                        e.printStackTrace();
                    } 
```

我是一个崭露头角的安卓开发者。请帮我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-15T20:28:03.490

您不应该自己播放声音 - Android 会为您处理。

使用 RingtoneManager 删除 try/catch 块，你应该没问题。

如果您没有收到通知声音或想要更改它，请参阅[Notification.sound](http://developer.android.com/reference/android/app/Notification.html#defaults)字段。

我建议你使用`notification.defaults = Notification.DEFAULT_ALL`.

# javascript - 来自 document.getElementsByClassName 的元素 ID

> ID：14619890
> 
> 赞同：1
> 
> 时间：2013-01-31T06:40:19.153
> 
> 标签：javascript, html, getelementsbyclassname

对 JS/Ajax 来说相对较新，所以我可能在这里遗漏了一些明显的东西。假设在 javascript 中的某个时刻，我运行 ajax 来获取一些具有特定类名的 div 元素。然后我想从这些元素中的每一个中检索 html id 标记并使用该信息做一些事情（比如填充元素），就像这样。

```
var divstopop = document.getElementsByClassName("popField"),x;
    for(x in divstopop){

    divstopop[x].innerHTML= x.id; //x.id or something?
} 
```

这有可能吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-31T06:41:57.293

使用`in`不是您应该如何迭代元素数组的方式。您应该使用该`.length`属性并使用数字索引：

```
for (var i = 0, n = divstopop.length; i < n; ++i) {
    // get id property from element and set as innerHTML
    divstopop[i].innerHTML = divstopop[i].id;
} 
```

# php - 如何使用 SimplePie 和 fetch_feed() 从 RSS 提要中提取媒体：缩略图？

> ID：14619891
> 
> 赞同：2
> 
> 时间：2013-01-31T06:40:26.397
> 
> 标签：php, wordpress, rss, feed, simplepie

我有两个单独的 WordPress 安装 - 我将调用一个站点 A，另一个站点 B。我想将提要从站点 B 拉到站点 A，使用`fetch_feed()`. 我还想包括一个缩略图。默认情况下，WordPress 在提要中不包含缩略图，因此我创建了一个自定义提要，其中包括以下内容：

```
<?php if(get_the_post_thumbnail()): ?>
<media:thumbnail url="<?php $image = wp_get_attachment_image_src(get_post_thumbnail_id($post->ID), 'feed-thumb'); echo $image[0]; ?>" />
<media:content url="<?php $image = wp_get_attachment_image_src(get_post_thumbnail_id($post->ID), 'feed-thumb'); echo $image[0]; ?>" medium="image" /> 
```

这似乎有效，它在 each 中返回如下内容：

```
<media:thumbnail url="http://www.site-b.com/wp-content/uploads/2013/01/thumbnail.jpg" />
<media:content url="http://www.site-b.com/wp-content/uploads/2013/01/thumbnail.jpg" medium="image" /> 
```

现在，我回到站点 A，并尝试使用以下方式提取此提要`fetch_feed()`：

```
<?php // Get RSS Feed(s)
                include_once(ABSPATH . WPINC . '/feed.php');

                // Get a SimplePie feed object from the specified feed source.
                $rss = fetch_feed('http://www.site-b.com/custom-feed/');
                if (!is_wp_error( $rss ) ) : // Checks that the object is created correctly 
                    // Figure out how many total items there are, but limit it to 2\. 
                    $maxitems = $rss->get_item_quantity(2); 

                    // Build an array of all the items, starting with element 0 (first element).
                    $rss_items = $rss->get_items(0, $maxitems); 
                endif;

                if ($maxitems == 0) echo 'No items.';
                    else
                    // Loop through each feed item.
                    foreach ( $rss_items as $item ) : 

                            if ($enclosure = $item->get_enclosure())
                            {
                                echo '<img src="' . $enclosure->get_thumbnail() . '" class="feed-thumb" />';
                            }
                            ?>

                        <p><?php echo esc_html( $item->get_description() ); ?>
                        <a href="<?php echo esc_url( $item->get_permalink() ); ?>"
                        title="<?php echo esc_html( $item->get_title() ); ?>">Continue Reading</a></p>

                    <?php endforeach; ?> 
```

一切正常，除了缩略图。标题、永久链接和描述都正确返回。但是，缩略图不返回 URL。所以，我只剩下：

```
<img src="" class="feed-thumb" /> 
```

如何返回缩略图的 URL？

感谢您阅读本文。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-07-04T18:29:58.510

还有另一种方法可以解决这个问题。我有一个类似的问题。我意识到我没有使用*media:thumbnail*而只是*media:content*。为了获得链接，我使用了以下代码：

```
echo '<img src="' . $enclosure->get_link() . '" class="feed-thumb" />'; 
```

我没有调用缩略图，而是调用了链接，情况就解决了。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-01T05:43:40.007

Aaand，在拔掉头发之后，这是因为我忘记在我的自定义提要中包含 Media RSS 命名空间。我只是将它包含在我的开始`<rss>`标签中并且它起作用了：

`<rss version="2.0" xmlns:media="http://search.yahoo.com/mrss">`

# javascript - 使用“类”容器对象时，闭包编译器 @extends 不起作用

> ID：14619892
> 
> 赞同：3
> 
> 时间：2013-01-31T06:40:34.850
> 
> 标签：javascript, google-closure-compiler

我正在为闭包编译器注释我的所有 javascript，但是 - 我目前拥有的代码很大程度上取决于在对象中定义类，即：

```
Class.SomeClass = function() {};
Class.SomeOtherClass = function() {}; 
```

**而不是：**

```
function SomeClass() {};
SomeClass.prototype = {}; 
```

但是，它在尝试注释扩展时给了我一个警告……编译器指出我无法确定 Class.SomeClass 是什么类型：

```
JSC_TYPE_PARSE_ERROR: Bad type annotation. Unknown type Class.SomeObject 
*  @extends Class.SomeObject 
```

使用 ADVANCED_OPTIMIZATIONS将以下代码粘贴[到闭包编译器中](http://closure-compiler.appspot.com/home)：

```
// ==ClosureCompiler==
// @output_file_name default.js
// @compilation_level ADVANCED_OPTIMIZATIONS
// ==/ClosureCompiler==

(function($) {

    "use strict";

    var Class = {};

    /**
     *  @constructor
     */
    Class.ObjectA = function() {};
    Class.ObjectA.prototype = {};

    /**
     *  @constructor
     *  @extends Class.ObjectA
     */
    Class.ObjectB = function() {};
    Class.ObjectB.prototype = $.extend(new Class.ObjectA(), {
        initialize: function() {}
    });

    window.test = new Class.ObjectB();
    window.test.initialize();

})(jQuery); 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-31T11:56:00.210

答案并不明显。您只需要添加一个`@const`到您的`Class`命名空间。

```
/** @const */
var Class = {}; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-31T07:06:00.483

好吧，最简单的，因为无论如何您都将在提前模式下编译它，所以可能使用 goo.provide 并将 base.js 链接进去。那么显然您应该使用 goog.inherits 进行继承，因为高级模式了解 base.js 功能比说 $.extends 好多了。

所以我实现相同的代码如下所示：

```
// ==ClosureCompiler==
// @output_file_name default.js
// @compilation_level ADVANCED_OPTIMIZATIONS
// @use_closure_library true
// ==/ClosureCompiler==

goog.provide('Class.ObjectA')

/**
*  @constructor
*/
Class.ObjectA = function() {};

goog.provide('Class.ObjectB');
/**
*  @constructor
*  @extends Class.ObjectA
*/
Class.ObjectB = function() {};
Class.ObjectB.prototype =
{
    initialize: function() {}
}

goog.inherits(Class.ObjectB, Class.ObjectA);

window.test = new Class.ObjectB();
window.test.initialize(); 
```

在编译器 ui 中，您必须选择添加将添加 goog.base 的闭包库的选项。

现在你的方法中也有几个 jqueury 风格的 foo，比如 (function($) {})(jQuery); 如果您开始使用高级编译路线，我会重新评估它的使用（我个人会重新评估 jquery 与闭包库的使用，但我确实知道有人继续使用高级的 jquery）。进入高级模式我还建议您查看像 plovr 这样的构建系统。

# ios - Obj-c 中 iVar 和 self.iVar 的保留计数是多少？

> ID：14619894
> 
> 赞同：1
> 
> 时间：2013-01-31T06:40:40.463
> 
> 标签：ios, objective-c, retaincount

这是我的代码，

```
import <Foundation/Foundation.h>

@interface SyncObjectInfo : NSObject
{
     NSString *strName;

}
@property(nonatomic,retain) NSString *strName;
-(void)returnRetainCount;

@end

#import "SyncObjectInfo.h"

@implementation SyncObjectInfo
@synthesize strName;
-(void)returnRetainCount
{

 self.strName=@"name";
 strName=@"name";
 NSLog(@"Que-1\. what is the retainCount of self.strName = ___");
 NSLog(@"Que-2\. what is the retainCount of      strName = ___");

 [self.strName retain];
 NSLog(@"Que-3\. what is the retainCount of  self.strName= ___");

}

@end 
```

我对保留计数感到困惑，所以......

请给我`-(void)returnRetainCount`方法的问题（1,2,3）的答案？请解释为什么？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-31T07:10:24.067

我刚刚修改了您的示例以`retainCount`在您的`NSLog`语句中添加调用。应该注意的`retainCount`是，这不是一个特别有用的方法，通常应该避免。

有关详细信息，请参阅[http://whentouseretaincount.com](http://whentouseretaincount.com)（不要忘记向下滚动以获取更多详细信息）。

无论如何，这就是我跑的。请注意，我更改`[self.str retain]`为`[self.strName retain]`：

```
#import <Foundation/Foundation.h>

@interface SyncObjectInfo : NSObject
{
     NSString *strName;
}

@property(nonatomic,retain) NSString *strName;

-(void)returnRetainCount;

@end

@implementation SyncObjectInfo
@synthesize strName;
-(void)returnRetainCount
{
 NSLog(@"Que-1\. what is the retainCount of self.strName = %lu", [self.strName retainCount]);
 NSLog(@"Que-2\. what is the retainCount of      strName = %lu", [strName retainCount]);

 [self.strName retain];
 NSLog(@"Que-3\. what is the retainCount of  self.strName= %lu", [self.strName retainCount]);

}

@end

int main(int argc, char *argv[]) {
    @autoreleasepool {
        SyncObjectInfo *obj = [SyncObjectInfo new];

        [obj returnRetainCount];
    }
} 
```

在所有情况下，答案都是 0。这是意料之中的，因为`strName`is`nil`和发送到的消息`nil`都被忽略了，所以调用 to`[self.strName retain]`也被忽略了。

* * *

但是，如果我设置`strName`一些东西，请使用以下代码：

```
int main(int argc, char *argv[]) {
    @autoreleasepool {
        SyncObjectInfo *obj = [SyncObjectInfo new];

        obj.strName = @"Something";

        [obj returnRetainCount];
    }
} 
```

然后当我重新运行时，我得到以下信息：

```
Que-1\. what is the retainCount of self.strName = 18446744073709551615
Que-2\. what is the retainCount of      strName = 18446744073709551615
Que-3\. what is the retainCount of  self.strName= 18446744073709551615 
```

保留计数为 18446744073709551615。这是因为`NSString`s 的处理方式与大多数对象不同。`retainCount`这是不是很有用的原因之一。

* * *

如果我们将 更改`NSString`为`NSURL`如下：

```
@interface SyncObjectInfo : NSObject
{
     NSURL *strName;
}

@property(nonatomic,retain) NSURL *strName;

// snip

int main(int argc, char *argv[]) {
    @autoreleasepool {
        SyncObjectInfo *obj = [SyncObjectInfo new];

        obj.strName = [NSURL URLWithString:@"http://stackoverflow.com"];

        [obj returnRetainCount];
    }
} 
```

重新运行我们得到：

```
Que-1\. what is the retainCount of self.strName = 2
Que-2\. what is the retainCount of      strName = 2
Que-3\. what is the retainCount of  self.strName= 3 
```

前两种情况是一样的。返回的对象`+URLWithString`被保留但自动释放，然后分配给属性并再次保留。在未来的某个时候，自动释放池将被刷新，保留计数将降至 1。

我们期望的第三个值增加了 1，因为显式调用`retain`.

* * *

您从 Apple 文档中理解保留计数应为 1（而不是问题 1 和 2 中的 2）在技术上是不正确的，但在概念上是正确的。该对象已被自动释放（实际上是该对象将在不久的将来释放的承诺）。

我们可以通过冲洗池来研究自动释放池的影响。我已经修改了`main`函数以在调用之前刷新自动释放池`returnRetainCount`。

```
int main(int argc, char *argv[]) {
    @autoreleasepool {
        SyncObjectInfo *obj;

        @autoreleasepool {
            obj = [SyncObjectInfo new];

            obj.strName = [NSURL URLWithString:@"http://stackoverflow.com"];
        }

        [obj returnRetainCount];
    }
} 
```

这次的输出是：

```
Que-1\. what is the retainCount of self.strName = 1 
Que-2\. what is the retainCount of      strName = 1
Que-3\. what is the retainCount of  self.strName= 2 
```

这更符合您的预期。那么发生了什么？

当`NSURL`对象由该`URLWithString`方法创建时，它的保留计数为 1。但是，`NSURL`该类需要放弃该对象的所有权。如果它`release`在返回之前调用此对象，则保留计数将达到 0，并且该对象将在返回之前被释放。

相反，该`URLWithString`方法调用`autorelease`对象。自动释放将对象添加到自动释放池。基本上，`NSURL`将所有权传递给自动释放池，并了解自动释放池将在不久的将来某个时间点释放对象（在应用程序中，池作为运行循环周期的一部分被刷新）。

在上面的示例中，返回的对象`URLWithString`的保留计数为 1。将其分配给属性会使保留计数增加 1（因此现在为 2）。然后我们刷新自动释放池（通过离开`@autoreleasepool { }`块的范围并且保留计数回落到 1。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-31T09:04:24.073

```
NSLog(@"Que-1\. what is the retainCount of self.strName = %lu", [self.strName retainCount]);
retain count normal=2

NSLog(@"Que-2\. what is the retainCount of      strName = %lu", [strName retainCount]);
retain count self=2

NSLog(@"Que-3\. what is the retainCount of  self.strName= %lu", [self.strName retainCount]);
retain count self=3 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-31T07:32:28.467

像这样的常量字符串`@"Something"`将保留计数为`max unsigned int`。
因为您无法释放它们，因为它们是在常量字符串池中分配的。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-31T06:50:21.990

您总是可以通过[" `retainCount`" 方法](https://developer.apple.com/library/ios/documentation/Cocoa/Reference/Foundation/Protocols/NSObject_Protocol/Reference/NSObject.html#//apple_ref/occ/intfm/NSObject/retainCount)询问任何 Objective C 对象自己找到答案。

例如：“ `NSLog( @"retain count for strName is %d", [self.strName retainCount]);`”

这种方法被认为是“过时的”，并且*永远不*应该用于运输，生产代码顺便说一句

# mysql - 使用逗号分隔的字符串加入字段

> ID：14619896
> 
> 赞同：0
> 
> 时间：2013-01-31T06:40:48.110
> 
> 标签：mysql

我想根据一个字段中包含的逗号分隔键连接两个表。所以这两个表是“主题”和“链接”，主题包含字段“链接”，其中包含表链接中记录的逗号分隔 ID。这可能吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-31T06:57:20.927

虽然您的问题应该更具描述性（最好有表定义、示例数据、所需的输出），@AaronBertrand 今天早些时候向我展示了如何在逗号分隔列表上连接表：

```
SELECT DISTINCT T.Id, L.Link 
FROM Topic T
   JOIN Link L ON CONCAT(',',T.Links,',') LIKE CONCAT('%', L.Link,'%') 
```

这是一些浓缩的[SQL Fiddle](http://sqlfiddle.com/#!2/b5988/3)用作示例。

祝你好运。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-31T07:09:29.830

谢谢你。在环顾四周后，我决定创建第三个名为 topic_lnks 的表，其中包含主题 ID 和链接 ID 的单独字段。这将使连接更容易处理。就我而言，我使用：

```
if(isset($_POST['submit'])){

        $query = "INSERT INTO topic (topic_pk,title,topic,majors,sub_discipline_fk,author_fk,created)
          VALUES ('','$title','$topic','$majors_string','$sub_discipline','$author_pk',NOW())";
        $result = mysql_query($query, $connection) or die(mysql_error());
        if($result){
            $topic_pk = mysql_insert_id();
        }

        foreach($links as $link){
                    $query_links = "INSERT INTO topic_links (topic_link_pk,topic_fk,link_fk)
          VALUES ('','$topic_pk','$link')";
        $result_links = mysql_query($query_links, $connection) or die(mysql_error());
        }
        if($result_links){
            $message = "- The topic '" . $title . "' has been created";
        }
} 
```

然后我可以根据字段“topic_fk”查询获得链接的 topic_links 表。

# java - 有没有办法在java中执行一段代码而不把它放在静态main方法中

> ID：14619901
> 
> 赞同：0
> 
> 时间：2013-01-31T06:41:11.103
> 
> 标签：java

如果我只想测试一段 Java 代码，有没有办法在不将其放入函数的情况下运行它？

```
Public static void main(String[] args){
//block of code
} 
```

另外，如何执行下面的静态代码块？

```
static {
//block of code
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-31T06:52:21.750

您可以创建静态块

```
public class StackOverflowUser {
    public static StackOverflowUser god;
    static {
        god = new StackOverflowUser("Jon Skeet");
    }
    //Stoof
} 
```

这将在程序生命周期的某个时候（希望）做一些事情。事实是，不知道它何时触发，并且没有很好的文档记录，并且可能会从 JVM 更改为 JVM。它肯定会在您第一次调用该类之前触发，但它可以在您调用之前和 JVM 初始化之间的任何时间执行。

您也可以只创建构造函数块

```
public class StackOverflowUser {
    private static ArrayList<StackOverflowUser> users = new ArrayList<StackOverflowUser>();
    {
        users.add(this);
    }
    //Stoof
} 
```

这将在调用构造函数之前激活，就在之前。基本上，在对象创建之后，但在初始化之前。不要尝试弄乱太多字段，因为它们不会被设置。

就顺序而言，所有块的工作方式相同。一旦第一个块被调用，第二个块、第三个块等都将随之而来，正如 Jayan 所说的“按文本顺序”。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-31T07:19:02.133

一旦类被加载或初始化，静态块就会被执行。所以如果你想测试静态块内部的代码，最好的方法是创建一个类的实例。

如果你想测试你的代码，最好的方法是使用一些测试框架，比如 JUnit 或 testng。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-31T07:13:58.210

1.  `static`块将在您的类首先被加载时执行。因此它可用于数据库实例化等，您可以确定此块将在您的其他代码运行之前执行。
2.  `{...}`当您尝试创建实例时，简单块将运行。`new`这里首先将调用此块，然后将调用包含关键字的行下方编写的代码。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-31T07:40:35.877

```
public class Test3 {
    public static void main(String[] args) {
        Test3 obj = new Test3();

    }   
    {
        System.out.println("hussain akhtar wahid");
    }
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-03-05T12:23:41.883

```
 public class StaticBlockTest {

    /*
     * Some Code Goes Here 
     * 
     * */
    static {

        System.out.println(" Static Block Executed ");
        System.exit(0);
    }

} 
```

静态块无需 main 方法即可执行，您需要传递 System.exit(0) 来终止当前正在运行的 Java 虚拟机以退出程序执行。

# android - android4.2中的WebView

> ID：14619906
> 
> 赞同：2
> 
> 时间：2013-01-31T06:41:22.320
> 
> 标签：android, webview

我正在使用 webview 在 android 上加载数据。它加载得很好，但是当我触摸 webview 时，它会使应用程序崩溃并显示以下错误消息。我在 android 4.2 中遇到了这个问题，你们能告诉我为什么会这样吗.

我正在通过愚蠢的代码加载 webview

```
<LinearLayout
  xmlns:android="http://schemas.android.com/apk/res/android"
  android:layout_width="match_parent"
  android:layout_height="match_parent">
    <WebView android:id="@+id/webView1" android:layout_width="match_parent" android:layout_height="match_parent"></WebView>
</LinearLayout> 
```

这是代码，

```
WebView w=(WebView)findViewById(R.id.webView1);
w.loadDataWithBaseURL("http://www.mobilea.pcma.org/mobile/xml/sisap.asp?sid="+str+"&pn=AboutUs", Hold,"text/html", "utf-8",null); 
```

**异常详情：**

```
01-31 06:27:54.768: W/Trace(1148): Unexpected value from nativeGetEnabledTags: 0
01-31 06:27:54.768: E/InputEventReceiver(1148): Exception dispatching input event.
01-31 06:27:54.778: D/AndroidRuntime(1148): Shutting down VM
01-31 06:27:54.778: W/dalvikvm(1148): threadid=1: thread exiting with uncaught exception (group=0x40a70930)
01-31 06:27:54.948: I/dalvikvm-heap(1148): Clamp target GC heap from 17.720MB to 16.000MB
01-31 06:27:54.948: D/dalvikvm(1148): GC_FOR_ALLOC freed 114K, 3% free 15984K/16384K, paused 49ms, total 51ms
01-31 06:27:55.129: E/AndroidRuntime(1148): FATAL EXCEPTION: main
01-31 06:27:55.129: E/AndroidRuntime(1148): android.view.InflateException: Binary XML file line #21: Error inflating class android.widget.ZoomControls
01-31 06:27:55.129: E/AndroidRuntime(1148):     at android.view.LayoutInflater.createView(LayoutInflater.java:613)
01-31 06:27:55.129: E/AndroidRuntime(1148):     at com.android.internal.policy.impl.PhoneLayoutInflater.onCreateView(PhoneLayoutInflater.java:56)
01-31 06:27:55.129: E/AndroidRuntime(1148):     at android.view.LayoutInflater.onCreateView(LayoutInflater.java:660)
01-31 06:27:55.129: E/AndroidRuntime(1148):     at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:685)
01-31 06:27:55.129: E/AndroidRuntime(1148):     at android.view.LayoutInflater.rInflate(LayoutInflater.java:746)
01-31 06:27:55.129: E/AndroidRuntime(1148):     at android.view.LayoutInflater.inflate(LayoutInflater.java:459)
01-31 06:27:55.129: E/AndroidRuntime(1148):     at android.view.LayoutInflater.inflate(LayoutInflater.java:396)
01-31 06:27:55.129: E/AndroidRuntime(1148):     at android.webkit.ZoomControlExternal$ExtendedZoomControls.<init>(ZoomControlExternal.java:124)
01-31 06:27:55.129: E/AndroidRuntime(1148):     at android.webkit.ZoomControlExternal.createZoomControls(ZoomControlExternal.java:96)
01-31 06:27:55.129: E/AndroidRuntime(1148):     at android.webkit.ZoomControlExternal.getControls(ZoomControlExternal.java:69)
01-31 06:27:55.129: E/AndroidRuntime(1148):     at android.webkit.ZoomControlExternal.show(ZoomControlExternal.java:48)
01-31 06:27:55.129: E/AndroidRuntime(1148):     at android.webkit.ZoomManager.invokeZoomPicker(ZoomManager.java:1208)
01-31 06:27:55.129: E/AndroidRuntime(1148):     at android.webkit.WebViewClassic.startDrag(WebViewClassic.java:6321)
01-31 06:27:55.129: E/AndroidRuntime(1148):     at android.webkit.WebViewClassic.handleTouchEventCommon(WebViewClassic.java:6025)
01-31 06:27:55.129: E/AndroidRuntime(1148):     at android.webkit.WebViewClassic.onHandleUiTouchEvent(WebViewClassic.java:1398)
01-31 06:27:55.129: E/AndroidRuntime(1148):     at android.webkit.WebViewClassic.onHandleUiEvent(WebViewClassic.java:1331)
01-31 06:27:55.129: E/AndroidRuntime(1148):     at android.webkit.WebViewClassic.access$7200(WebViewClassic.java:146)
01-31 06:27:55.129: E/AndroidRuntime(1148):     at android.webkit.WebViewClassic$PrivateHandler.dispatchUiEvent(WebViewClassic.java:7656)
01-31 06:27:55.129: E/AndroidRuntime(1148):     at android.webkit.WebViewInputDispatcher.dispatchUiEvent(WebViewInputDispatcher.java:841)
01-31 06:27:55.129: E/AndroidRuntime(1148):     at android.webkit.WebViewInputDispatcher.dispatchUiEvents(WebViewInputDispatcher.java:829)
01-31 06:27:55.129: E/AndroidRuntime(1148):     at android.webkit.WebViewInputDispatcher.dispatchUiEvents(WebViewInputDispatcher.java:780)
01-31 06:27:55.129: E/AndroidRuntime(1148):     at android.webkit.WebViewClassic.onTouchEvent(WebViewClassic.java:5825)
01-31 06:27:55.129: E/AndroidRuntime(1148):     at android.webkit.WebView.onTouchEvent(WebView.java:1963)
01-31 06:27:55.129: E/AndroidRuntime(1148):     at android.view.View.dispatchTouchEvent(View.java:7239)
01-31 06:27:55.129: E/AndroidRuntime(1148):     at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2168)
01-31 06:27:55.129: E/AndroidRuntime(1148):     at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:1903)
01-31 06:27:55.129: E/AndroidRuntime(1148):     at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2174)
01-31 06:27:55.129: E/AndroidRuntime(1148):     at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:1917)
01-31 06:27:55.129: E/AndroidRuntime(1148):     at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2174)
01-31 06:27:55.129: E/AndroidRuntime(1148):     at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:1917)
01-31 06:27:55.129: E/AndroidRuntime(1148):     at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2174)
01-31 06:27:55.129: E/AndroidRuntime(1148):     at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:1917)
01-31 06:27:55.129: E/AndroidRuntime(1148):     at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2174)
01-31 06:27:55.129: E/AndroidRuntime(1148):     at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:1917)
01-31 06:27:55.129: E/AndroidRuntime(1148):     at com.android.internal.policy.impl.PhoneWindow$DecorView.superDispatchTouchEvent(PhoneWindow.java:1953)
01-31 06:27:55.129: E/AndroidRuntime(1148):     at com.android.internal.policy.impl.PhoneWindow.superDispatchTouchEvent(PhoneWindow.java:1405)
01-31 06:27:55.129: E/AndroidRuntime(1148):     at android.app.Activity.dispatchTouchEvent(Activity.java:2410)
01-31 06:27:55.129: E/AndroidRuntime(1148):     at com.android.internal.policy.impl.PhoneWindow$DecorView.dispatchTouchEvent(PhoneWindow.java:1901)
01-31 06:27:55.129: E/AndroidRuntime(1148):     at android.view.View.dispatchPointerEvent(View.java:7419)
01-31 06:27:55.129: E/AndroidRuntime(1148):     at android.view.ViewRootImpl.deliverPointerEvent(ViewRootImpl.java:3220)
01-31 06:27:55.129: E/AndroidRuntime(1148):     at android.view.ViewRootImpl.deliverInputEvent(ViewRootImpl.java:3165)
01-31 06:27:55.129: E/AndroidRuntime(1148):     at android.view.ViewRootImpl.doProcessInputEvents(ViewRootImpl.java:4292)
01-31 06:27:55.129: E/AndroidRuntime(1148):     at android.view.ViewRootImpl.enqueueInputEvent(ViewRootImpl.java:4271)
01-31 06:27:55.129: E/AndroidRuntime(1148):     at android.view.ViewRootImpl$WindowInputEventReceiver.onInputEvent(ViewRootImpl.java:4363)
01-31 06:27:55.129: E/AndroidRuntime(1148):     at android.view.InputEventReceiver.dispatchInputEvent(InputEventReceiver.java:179)
01-31 06:27:55.129: E/AndroidRuntime(1148):     at android.view.InputEventReceiver.nativeConsumeBatchedInputEvents(Native Method)
01-31 06:27:55.129: E/AndroidRuntime(1148):     at android.view.InputEventReceiver.consumeBatchedInputEvents(InputEventReceiver.java:171)
01-31 06:27:55.129: E/AndroidRuntime(1148):     at android.view.ViewRootImpl.doConsumeBatchedInput(ViewRootImpl.java:4342)
01-31 06:27:55.129: E/AndroidRuntime(1148):     at android.view.ViewRootImpl$ConsumeBatchedInputRunnable.run(ViewRootImpl.java:4382)
01-31 06:27:55.129: E/AndroidRuntime(1148):     at android.view.Choreographer$CallbackRecord.run(Choreographer.java:749)
01-31 06:27:55.129: E/AndroidRuntime(1148):     at android.view.Choreographer.doCallbacks(Chore 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-31T06:43:45.990

尝试使用 loadUrl

```
WebView w=(WebView)findViewById(R.id.webView1);
w.loadUrl("http://www.mobilea.pcma.org/mobile/xml/sisap.asp?sid="+str+"&pn=AboutUs"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-12-27T10:21:48.573

试试这个 webview 的代码。它适用于所有版本的android。将您使用的所有图像文件复制并粘贴到项目的“res”文件夹中的所有“drawable”文件夹中。一切顺利..

```
MainActivity.java:

package com.example.yourappname;

import android.app.Activity;
import android.app.AlertDialog;
import android.content.DialogInterface;
import android.content.Intent;
import android.content.res.Configuration;
import android.graphics.Bitmap;
import android.net.Uri;
import android.os.Bundle;
import android.view.KeyEvent;
import android.view.View;
import android.webkit.ValueCallback;
import android.webkit.WebView;
import android.webkit.WebViewClient;
import android.webkit.WebChromeClient;
import android.widget.Button;
import android.widget.EditText;

public class MainActivity extends Activity {

WebView web;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
    web = (WebView) findViewById(R.id.webView1);
    web = new WebView(this);  
    web.getSettings().setJavaScriptEnabled(true);

     //change the url below to the url you need

    web.loadUrl("http://www.xyxyxyxyxyxy.com");
    web.setWebViewClient(new myWebClient());
    web.setWebChromeClient(new WebChromeClient());
    setContentView(web);
}

public class myWebClient extends WebViewClient
{
    @Override
    public void onPageStarted(WebView view, String url, Bitmap favicon) {
        // TODO Auto-generated method stub
        super.onPageStarted(view, url, favicon);
    }

    @Override
    public boolean shouldOverrideUrlLoading(WebView view, String url) {
        // TODO Auto-generated method stub

        view.loadUrl(url);
        return true;

    }

    @Override
    public void onPageFinished(WebView view, String url) {
        // TODO Auto-generated method stub
        super.onPageFinished(view, url);

    }
}

//flip screen not loading again
@Override
public void onConfigurationChanged(Configuration newConfig){        
  super.onConfigurationChanged(newConfig);
}

@Override
public boolean onKeyDown(int keyCode, KeyEvent event) {
    if(event.getAction() == KeyEvent.ACTION_DOWN){
        switch(keyCode)
        {
        case KeyEvent.KEYCODE_BACK:
            if(web.canGoBack()){
             	web.goBack();
             }
            else
            {
            	backButtonHandler();
            }
            return true;
        }

     }
     return super.onKeyDown(keyCode, event);
 }
public void backButtonHandler() {
		AlertDialog.Builder alertDialog = new AlertDialog.Builder(
				MainActivity.this);

		// Setting Dialog Title
	   // Setting Dialog Message
      // You can delete the next 2 lines if you wish

		alertDialog.setTitle("");
		alertDialog.setIcon(R.drawable.dialog_icon);
		alertDialog.setMessage("Exit Now?");

	     // Setting Icon to Dialog
		// Setting Positive "Yes" Button

		alertDialog.setPositiveButton("Exit",
				new DialogInterface.OnClickListener() {
					public void onClick(DialogInterface dialog, int which) {
						finish();
					}
		});

	// Setting Negative "NO" Button

		alertDialog.setNegativeButton("No",
				new DialogInterface.OnClickListener() {
					public void onClick(DialogInterface dialog, int which) {
						// Write your code here to invoke NO event
						dialog.cancel();
					}
				});
	// Showing Alert Message
		alertDialog.show();
}

}
```

```
AndroidManifest.xml:

<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.example.yourappname"
    android:versionCode="1"
    android:versionName="1.0" >

    <uses-sdk
        android:minSdkVersion="7"
        android:targetSdkVersion="21" />

    <uses-permission android:name="android.permission.INTERNET"/>
    <uses-permission android:name="android.permissions.NETWORK_ACCESS" />
    <uses-permission android:name="android.permissions.ACCESS_NETWORK_STATE" />
    <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />

    <application
        android:allowBackup="true"
        android:icon="@drawable/logo_name_here"
        android:label="@string/app_name"
        android:theme="@style/AppTheme" >
        <activity
            android:name=".MainActivity"
            android:label="@string/app_name" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
    </application>

</manifest>

activity_main.xml:

<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent">

    <WebView
        android:id="@+id/webView1"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent" />

</LinearLayout>
```

# joomla2.5 - 如何在管理员 joomla2.5 的文章中创建弹出窗口

> ID：14619909
> 
> 赞同：0
> 
> 时间：2013-01-31T06:41:38.543
> 
> 标签：joomla2.5

我在管理员中创建了一篇文章，并希望显示一个带有点击事件的弹出窗口。我尝试了以下事情：

1.  使用脚本标签。但它不起作用。并向正面展示了价值。
2.  使用了模块 fancybox 和模块 simple pop-up。但他们正在显示错误。我认为是因为核心 jquery 文件是在 fancybox js 文件之后加载的。但我不知道有什么方法可以改变 head 中 js 文件的顺序。

任何机构可以帮助我吗？我是 joomla 的新手。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-31T10:02:45.710

我找到了解决方案。我在模板 js 中添加了 fancybox js，在模板中添加了 fancybox css。然后`$(".modalbox").fancybox();`。然后在文章管理中添加 div。

# c# - 拖放网格控件以重新排列 asp.net 应用程序中的行

> ID：14619911
> 
> 赞同：0
> 
> 时间：2013-01-31T06:41:42.520
> 
> 标签：c#, asp.net, gridview

![在此处输入图像描述](../Images/e585926234b07c3773e10713c52cb3c6.png)

我正在寻找一个 asp.net 服务器控件，它具有拖放功能来重新排列行。

我有一张关于文章的表格，有时我需要重新排列我正在寻找可以为此类功能实现的代码示例的免费控件。

我找到了一个[例子](http://aspdotnet-example.blogspot.com/2011/10/gridview-reorder-row-drag-and-drop.html)。我希望如果我们已经有一个免费的 asp.net 服务器来控制这样的功能。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-31T10:55:29.683

您需要的不仅仅是 ASP.NET。您可以使用 JQuery 重新排列行（拖放）

# android - 如何像以前一样重新加载具有数据的活动

> ID：14619923
> 
> 赞同：0
> 
> 时间：2013-01-31T06:42:56.250
> 
> 标签：android, android-intent

有两个活动，其中第一个活动显示带有一些数据的表格布局（此数据作为来自 Web 应用程序的响应获取），当单击一行时，它启动活动 2，该活动显示其他表格布局。在同一屏幕中有一个按钮，单击该按钮会重新启动活动 1。现在如何防止活动 1 再次访问服务器并获取响应。它应该显示在活动 2 开始之前获取的数据。

这是我的活动之一：

```
public class CaptureActivity extends Activity {

//private String url = "http";
private String url = "http:";

FetchEmployeeAsyncTask employeeAsyncTask;
SelectedEmployeeAsyncTask selectedEmployeeAsyncTask;
private ArrayList<Employee> employees = null;

@Override
protected void onCreate(Bundle savedInstanceState) {

    super.onCreate(savedInstanceState);
     employeeAsyncTask = new FetchEmployeeAsyncTask(this);
     selectedEmployeeAsyncTask = new SelectedEmployeeAsyncTask(this);
    employeeAsyncTask.execute(new String[] {url});

    System.out.println("Status "+employeeAsyncTask.getStatus());

    setContentView(R.layout.activity_capture);

}

@Override
public boolean onCreateOptionsMenu(Menu menu) {
    // Inflate the menu; this adds items to the action bar if it is present.
    getMenuInflater().inflate(R.menu.activity_capture, menu);
    return true;
}

public void showEmployees(ArrayList<Employee> employees) {
    // TODO Auto-generated method stub
    System.out.println("Status 2  "+employeeAsyncTask.getStatus());
    TableLayout employeeTable = (TableLayout) findViewById(R.id.main_table);

    TableRow header = new TableRow(this);
    header.setId(100);
    header.setBackgroundColor(Color.rgb(255, 165, 0));
    //header.setLayoutParams(new LayoutParams(LayoutParams.MATCH_PARENT, LayoutParams.MATCH_PARENT));

    TextView empCodeHeader = new TextView(this);
    empCodeHeader.setId(200);
    empCodeHeader.setText("Employee Code");
    empCodeHeader.setTextSize(16);
    empCodeHeader.setPadding(2,2,2,2);
    empCodeHeader.setWidth(200);
    header.addView(empCodeHeader);

    TextView empNameHeader = new TextView(this);
    empNameHeader.setId(201);
    empNameHeader.setText("Employee Name");
    empNameHeader.setTextSize(16);
    empNameHeader.setPadding(2,2,2,2);
    empNameHeader.setWidth(300);
    header.addView(empNameHeader);

    employeeTable.addView(header);//, new LayoutParams(LayoutParams.MATCH_PARENT, LayoutParams.MATCH_PARENT));

    for(int i=0; i<employees.size();i++){

        final Employee employee = (Employee) employees.get(i);

        int count = 0;

        TableRow empData = new TableRow(this);
        empData.setId(300+count);
        empData.setClickable(true);
        /*empData.setLayoutParams(new LayoutParams(
                LayoutParams.MATCH_PARENT,
                LayoutParams.MATCH_PARENT ));*/
        //tr.setClickable(true);

        final TextView empCode = new TextView(this);
        empCode.setId(300+count);
        empCode.setText(employee.getCode());
        empCode.setTextSize(16);
        empCode.setPadding(2,2, 2, 2);
        empData.addView(empCode);

        final TextView empName = new TextView(this);
        empName.setId(300+count);
        empName.setText(employee.getFirstName()+","+employee.getLastName());
        empName.setTextSize(16);
        empName.setPadding(2, 2, 2, 2);
        empData.addView(empName);

        employeeTable.addView(empData); /*, new TableLayout.LayoutParams(
                LayoutParams.MATCH_PARENT,
                LayoutParams.MATCH_PARENT));*/
       count++;

       empData.setOnClickListener(new OnClickListener() {

        @Override
        public void onClick(View v) {
            // TODO Auto-generated method stub

            String employeeUrl = "http://192.168.2.166:8680/capture/clientRequest.do?r=employeeList&code="+employee.getCode()+"&cid=0&mode=full";

            selectedEmployeeAsyncTask.execute(new String[] {employeeUrl});

        }
    });
    }
}

public void display(ArrayList<Employee> employees){

    System.out.println("in here !! ");
    HashMap<String, String> empMap = null;
    for (int i = 0;i<employees.size(); i++){

        final Employee empDetails = (Employee) employees.get(i);

        empMap = new HashMap<String, String>();

        empMap.put("Honorific", empDetails.getHonorific());
        empMap.put("First Name", empDetails.getFirstName());
        empMap.put("Last Name", empDetails.getLastName());
        empMap.put("Call Name", empDetails.getCallName());
        empMap.put("Gender", empDetails.getGender());
        empMap.put("Designation", empDetails.getDesignation());
        empMap.put("Level", empDetails.getLevel());
        empMap.put("Stream", empDetails.getStream());
        empMap.put("Mobile", empDetails.getMobile());
        empMap.put("Phone", empDetails.getPhone());
        empMap.put("Email", empDetails.getEmail());
        empMap.put("DOB", empDetails.getDob());
        empMap.put("DOJ", empDetails.getDoj());
        empMap.put("Present Address", empDetails.getPresentAddress());
        empMap.put("Permanent Address", empDetails.getPermanentAddress());
        empMap.put("Status", empDetails.getStatus());
        empMap.put("Company Id", empDetails.getCompanyId());
        empMap.put("PM User Id", empDetails.getPMUserId());
        empMap.put("PM Code", empDetails.getPmCode());
        empMap.put("PM First Name", empDetails.getPmFirstName());
        empMap.put("PM Last Name", empDetails.getPmLastName());
        empMap.put("PM Call Name", empDetails.getPmCallName());
        empMap.put("PM Email", empDetails.getPmEmail());
        empMap.put("Nationality", empDetails.getNationality());
        empMap.put("Blood Group", empDetails.getBloodGroup());
        empMap.put("Marital Status", empDetails.getMaritalStatus());
        empMap.put("Language", empDetails.getLanguage());
        empMap.put("Guardian Name", empDetails.getGuardianName());
        empMap.put("Guardian Type", empDetails.getGuardianType());
        empMap.put("Desk No", empDetails.getDeskNo());
        empMap.put("Extn No", empDetails.getExtnNo());
        empMap.put("Designation Id", empDetails.getDesignationId());
        empMap.put("Level Id", empDetails.getLevelId());
        empMap.put("Stream Id", empDetails.getStreamId());
        empMap.put("Created By", empDetails.getCreatedBy());
        empMap.put("Date Created", empDetails.getDateCreated());
        empMap.put("Personal Email", empDetails.getPersonalEmail());
        empMap.put("Photo Id", empDetails.getPhotoId());
        empMap.put("Place of Issue", empDetails.getPlaceOfIssue());
        empMap.put("Date of Issue", empDetails.getDateOfIssue());
        empMap.put("Inactive Status Type", empDetails.getInactiveStatusType());
        empMap.put("Date Status", empDetails.getDateStatus());
        empMap.put("Image", empDetails.getImage());

        }

    Intent displaySelectedIntent = new Intent(this,DisplaySelectedActivity.class);
    displaySelectedIntent.putExtra("empDetailsMap", empMap);
    startActivity(displaySelectedIntent);

}

/**
 * @return the employees
 */
public ArrayList<Employee> getEmployees() {
    return employees;
}

/**
 * @param employees the employees to set
 */
public void setEmployees(ArrayList<Employee> employees) {
    this.employees = employees;
} 
```

}

这是我的活动2：

```
public class DisplaySelectedActivity extends Activity {

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_display_selected);
    HashMap<String , String> listemp = (HashMap<String, String>)getIntent().getSerializableExtra("empDetailsMap");

    TableLayout displaySelected = (TableLayout) findViewById(R.id.displaySelected);
    for (Map.Entry entry : listemp.entrySet()) {
        TableRow tr_inner = new TableRow(DisplaySelectedActivity.this);

        if(!entry.getKey().toString().equalsIgnoreCase("Image")){

            TextView key = new TextView(this);
        key.setId(400);
        key.setText(entry.getKey().toString());
        key.setTextSize(15);
        key.setTextColor(Color.RED);
        //key.setBackgroundColor(Color.YELLOW);
        tr_inner.addView(key);

        TextView value = new TextView(this);
        value.setId(500);
        value.setText(entry.getValue().toString());
        value.setTextSize(15);
        tr_inner.addView(value);

        /*Bitmap bm = BitmapFactory.decodeFile(pathName)

        ImageView empImage = (ImageView) findViewById(R.id.empImage);
        empImage.setImageBitmap(bm)
        */
        displaySelected.addView(tr_inner);/*, new TableLayout.LayoutParams(
            LayoutParams.MATCH_PARENT,
            LayoutParams.MATCH_PARENT));*/
        }
        else
        {   
                    System.out.println("in else1111");

                     byte[] imageAsBytes = Base64.decode(entry.getValue().toString().getBytes(), 0);

                    //Bitmap bm = BitmapFactory.decodeFile(entry.getValue().toString());

                    ImageView empImage = (ImageView) findViewById(R.id.empImage);
                    empImage.setImageBitmap( BitmapFactory.decodeByteArray(imageAsBytes, 0, imageAsBytes.length));
}
        }
    }
@Override
public boolean onCreateOptionsMenu(Menu menu) {
    // Inflate the menu; this adds items to the action bar if it is present.
    getMenuInflater().inflate(R.menu.activity_display_selected, menu);
    return true;
}

public void goBack(View view){
    Intent intent = new Intent(this,CaptureActivity.class);
    startActivity(intent);
}} 
```

当在活动 2 中按下按钮时 goBack() 被调用...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-31T07:12:00.073

在你的情况下，你可以把这个检查：

```
@Override
protected void onCreate(Bundle savedInstanceState) {

super.onCreate(savedInstanceState);
if(employees !=null){

 employeeAsyncTask = new FetchEmployeeAsyncTask(this);
 selectedEmployeeAsyncTask = new SelectedEmployeeAsyncTask(this);
 employeeAsyncTask.execute(new String[] {url});

System.out.println("Status "+employeeAsyncTask.getStatus());
} 
```

//和加载数据的函数。setContentView(R.layout.activity_capture);

}

**或** 在活动 2 中，您可以将 goBack 函数更改为（如果您维护了堆栈）：

public void goBack(View view){finish(); }

**或者**

如果您想拥有良好的持久性，可以使用本地数据库来保存详细信息。并将它们从 DB 显示到 UI。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-31T07:19:05.660

尝试这个

```
public void goBack(View view){
 finish(); 
```

}}

它会解决你的问题....

# c# - 捕获双击单元格并获取 ComponentOne 的 C1FlexGrid 的值

> ID：14619925
> 
> 赞同：0
> 
> 时间：2013-01-31T06:43:04.627
> 
> 标签：c#, .net, winforms, componentone, c1flexgrid

我有一个**C1FlexGrid**控件，并且该 C1Flexgrid 控件与某个数据源绑定，现在我想在单元格上双击事件时检索特定单元格的数据。有没有办法做到这一点？

我尝试使用

```
 c1FlexGridClassic1_DoubleClick() 
```

但这并没有给我行号或任何值。

我通过使用尝试了这个`CellbuttonClickEvent`，但我不想要这个。我希望它出现在 cellDoubleClick 事件中。

### 代码

```
public DataRow ReturnSelectedRow { get { return OrderDataRow; } } //This is property is used for transferring data to other form

private void c1FlexGrid1_CellButtonClick(object sender, C1.Win.C1FlexGrid.RowColEventArgs e)
{
    if (MessageBox.Show("Do you want to  select", "Confirm", MessageBoxButtons.YesNo) == DialogResult.Yes)
    {
        MessageBox.Show("Selected purchase order" + c1FlexGrid1.Rows[e.Row][1]);
        OrderDataRow = OrderData.Rows[e.Row-1];
        this.Close();
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-02T07:15:50.387

你读过文档`flexgrid`吗？

有这么多各种作品的样本`flexgrid`

这是 ：

[Flex Pdf 文档](http://www.componentone.com/newimages/Products/Documentation/WinForms.Flexgrid.pdf)

[Flex 在线文档](http://helpcentral.componentone.com/nethelp/c1flexgrid/)

**编辑：**

用于`HitTest`查找单元格是否被双击

```
void c1FlexGrid1_MouseDoubleClick(object sender, MouseButtonEventArgs e)
    {
        var ht = c1FlexGrid1.HitTest();

        if (ht.Row!=-1)
        {
            MessageBox.Show("Click on row no--" + ht.Row);
            //do something
        }
    } 
```

# jsf - 如何复用jsf组件参数？

> ID：14619926
> 
> 赞同：0
> 
> 时间：2013-01-31T06:43:06.447
> 
> 标签：jsf

我有代码

```
 <p:column id="columnLastComment" headerText="LAST COMM" width="80"
    styleClass="long-field" filterStyleClass="flt-hidden"
    style="#{alarmTable.getDisplayStatus('columnLastComment')}"
    sortBy="#{alarm.lastComment}" filterBy="#{alarm.lastComment}">
    <h:outputText value="#{alarm.lastComment}" />
    <f:facet name="header">
        <h:outputText value="LAST COMM" title="Last Comment"
            styleClass="tableHeader-fontSize" />
    </f:facet>
</p:column> 
```

我如何在样式值中使用列的 ID？例子 - `style="#{alarmTable.getDisplayStatus('[id of this column]')}"`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-31T10:49:26.417

从理论上讲，您可以使用隐式 EL 变量`#{component}`来获取当前组件，如下所示：

```
<h:outputText id="foo" styleClass="#{bean.styleClass(component.id)}" /> 
```

但是，不幸的是，该`UIColumn`组件有特殊处理。而是`#{component}`引用父组件，在您的情况下是.`UIData``<p:dataTable>`

所以，你真的必须重复它（就像你已经为短语“lastComment”所做的那样。你可以通过使用`#{alarm}`.

# iphone - 仅在 iOS 5.1 中崩溃

> ID：14619927
> 
> 赞同：1
> 
> 时间：2013-01-31T06:43:16.097
> 
> 标签：iphone, ios, objective-c, ios5.1

> **可能重复：**
> [为什么在创建 UIWebView 后清除 NSUserDefaults 会导致 EXC_CRASH？](https://stackoverflow.com/questions/9679163/why-does-clearing-nsuserdefaults-cause-exc-crash-later-when-creating-a-uiwebview)

**大家好，我在应用程序中有一个常见问题解答屏幕，这是 webview，该网页中有“给我发电子邮件”链接。单击此按钮时，将导航到 Mail Composer。但是应用程序仍然在后台运行。现在单击最小化的应用程序并单击相同的常见问题解答链接，应用程序崩溃。这只发生在 iOS 5.1 中。以下是收到的日志：

```
-[__NSCFDictionary setObject:forKey:]: attempt to insert nil value (key: WebKitLocalStorageDatabasePathPreferenceKey) 
```

我在“APPDelegate”文件中使用了以下代码

```
NSDictionary *settings = [[NSUserDefaults standardUserDefaults] dictionaryRepresentation];
    NSArray *keys = [settings allKeys];
    for (int i=0; i<[keys count]; i++)
    {
        NSString *key = [keys objectAtIndex:i];

        [[NSUserDefaults standardUserDefaults] removeObjectForKey:key];
    }
    [[NSUserDefaults standardUserDefaults] synchronize]; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-31T07:04:04.353

试试下面的代码。`NSUserDefaults`以这种方式删除任何形式

```
NSUserDefaults *userDefaults = [NSUserDefaults standardUserDefaults];

NSDictionary *userDefaultsDictionary = [userDefaults dictionaryRepresentation];

NSString *strWebDatabaseDirectory = [userDefaultsDictionary objectForKey:@"WebDatabaseDirectory"];

NSString *strWebKitLocalStorageDatabasePathPreferenceKey = [userDefaultsDictionary objectForKey:@"WebKitLocalStorageDatabasePathPreferenceKey"];

NSString *appDomain = [[NSBundle mainBundle] bundleIdentifier];

[[NSUserDefaults standardUserDefaults] removePersistentDomainForName:appDomain];

[userDefaults removePersistentDomainForName:[[NSBundle mainBundle] bundleIdentifier]];

if (strWebDatabaseDirectory) {

    [userDefaults setObject:strWebDatabaseDirectory forKey:@"WebDatabaseDirectory"];}

if (strWebKitLocalStorageDatabasePathPreferenceKey) {

    [userDefaults setObject:strWebKitLocalStorageDatabasePathPreferenceKey forKey:@"WebKitLocalStorageDatabasePathPreferenceKey"];}

[userDefaults synchronize]; 
```

希望它可以帮助你。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-31T06:46:24.867

这次崩溃不是因为版本更改。崩溃日志清楚地表明您正在尝试在 Dictionary 中插入 nil 值，这就是它崩溃的原因：

```
for (int i=0; i<[keys count]; i++)
{
     NSString *key = [keys objectAtIndex:i];
     if (key != nil)
          [[NSUserDefaults standardUserDefaults] removeObjectForKey:key];
} 
```

尝试上面的代码并检查。

# ipad - iPhone sdk 如何处理 UITableView CellforRowAtIndexPath 中的方向？

> ID：14619929
> 
> 赞同：0
> 
> 时间：2013-01-31T06:43:22.850
> 
> 标签：ipad, uitableview, uiinterfaceorientation

我有 UIImageView，我在 UITableView CellforRowAtIndexPath 中创建的 UILabel，因为我需要每个单元格中的所有这些，所以我添加到我的 cell.contentview 中。但现在在处理横向方向方面面临问题。由于我在 CellforRowAtIndexPath 中定位了图像和标签，因此在为横向旋转时也获得了相同的位置（纵向）。我的代码，

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath 
{

    imgView1 = [[UIImageView alloc] initWithFrame:CGRectMake(680, 60, 40, 40)];
    [imgView1 setImage:[UIImage imageNamed:@"Downloaded.png"]];

      if([[[appDelegate selectDB] valueForKey:@"bookname"] containsObject:[listOfBooks objectAtIndex:indexPath.row]] )
      {
            [cell.contentView addSubview:imgView1];
      }
}

- (void)willRotateToInterfaceOrientation:(UIInterfaceOrientation)toInterfaceOrientation duration:(NSTimeInterval)duration 
{

      [self handleInterfaceRotationForOrientation:toInterfaceOrientation];

 if (toInterfaceOrientation==UIInterfaceOrientationLandscapeRight) 
 {
      imgView1.frame = CGRectMake(890,0, 40, 40);
 }
 else if (toInterfaceOrientation==UIInterfaceOrientationLandscapeLeft) 
 {
      imgView1.frame = CGRectMake(890,0, 40, 40);
 }
 else if (toInterfaceOrientation==UIInterfaceOrientationPortrait)
 {
      imgView1.frame = CGRectMake(690, 60, 40, 40);
 }
 else 
 {
      imgView1.frame = CGRectMake(690, 60, 40, 40);
 }
} 
```

我也试过这个，

```
UIInterfaceOrientation orientation =  [[UIDevice currentDevice] orientation];

    if(orientation == UIInterfaceOrientationPortrait || orientation == UIInterfaceOrientationPortraitUpsideDown)
    {
        imgView = [[UIImageView alloc] initWithFrame:CGRectMake(150,20,125,163)];
        imgView1 = [[UIImageView alloc] initWithFrame:CGRectMake(680, 60, 40, 40)];//self.view.bounds.size.width-
        [imgView1 setImage:[UIImage imageNamed:@"Downloaded.png"]];
        Label = [[UILabel alloc] initWithFrame:CGRectMake(300, 60, 370, 28)];
        subtitleLabel=[[UILabel alloc]initWithFrame:CGRectMake(300,88 , 200, 23)];
        subtitleLabel1=[[UILabel alloc]initWithFrame:CGRectMake(395,88 , 200, 23)];
    }
    else
    {
        imgView = [[UIImageView alloc] initWithFrame:CGRectMake(230,50,125,163)];
        imgView1 = [[UIImageView alloc] initWithFrame:CGRectMake(930, 60, 40, 40)];
        [imgView1 setImage:[UIImage imageNamed:@"Downloaded.png"]];
        Label = [[UILabel alloc] initWithFrame:CGRectMake(420, 60, 370, 28)];
        subtitleLabel=[[UILabel alloc]initWithFrame:CGRectMake(420,88 , 200, 23)];
        subtitleLabel1=[[UILabel alloc]initWithFrame:CGRectMake(515,88 , 200, 23)];
    } 
```

当我尝试使用上述方法时，即使是纵向，我也只能获得横向位置。这里做错了什么？有人能帮我吗？提前非常感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-31T14:51:37.327

如果我正确阅读了您的代码（看起来有点不合适，但我想我得到了图片），您正试图在设备旋转时更改图像位置。在我看来，您的第二组代码应该可以工作，但我不知道您将该部分代码放在项目中的什么位置。只有当你把它放在正确的地方时它才会起作用。我会做这样的事情：

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath 
{

    UIInterfaceOrientation orientation =  [[UIDevice currentDevice] orientation];

    if(orientation == UIInterfaceOrientationPortrait || orientation == UIInterfaceOrientationPortraitUpsideDown)
    {
        imgView = [[UIImageView alloc] initWithFrame:CGRectMake(150,20,125,163)];
        imgView1 = [[UIImageView alloc] initWithFrame:CGRectMake(680, 60, 40, 40)];//self.view.bounds.size.width-
        [imgView1 setImage:[UIImage imageNamed:@"Downloaded.png"]];
        Label = [[UILabel alloc] initWithFrame:CGRectMake(300, 60, 370, 28)];
        subtitleLabel=[[UILabel alloc]initWithFrame:CGRectMake(300,88 , 200, 23)];
        subtitleLabel1=[[UILabel alloc]initWithFrame:CGRectMake(395,88 , 200, 23)];
    }
    else
    {
        imgView = [[UIImageView alloc] initWithFrame:CGRectMake(230,50,125,163)];
        imgView1 = [[UIImageView alloc] initWithFrame:CGRectMake(930, 60, 40, 40)];
        [imgView1 setImage:[UIImage imageNamed:@"Downloaded.png"]];
        Label = [[UILabel alloc] initWithFrame:CGRectMake(420, 60, 370, 28)];
        subtitleLabel=[[UILabel alloc]initWithFrame:CGRectMake(420,88 , 200, 23)];
        subtitleLabel1=[[UILabel alloc]initWithFrame:CGRectMake(515,88 , 200, 23)];
    }

      if([[[appDelegate selectDB] valueForKey:@"bookname"] containsObject:[listOfBooks objectAtIndex:indexPath.row]] )
      {
            [cell.contentView addSubview:imgView1];
      }
} 
```

因此，您正在处理`cellForRowAtIndexPath:`. 现在您只需要使用此代码来告诉您的 tableview 在旋转时要做什么：

```
- (void)willRotateToInterfaceOrientation:(UIInterfaceOrientation)toInterfaceOrientation duration:(NSTimeInterval)duration 
{
    //self.tableView is the table containing your data
    //You can animate this with the duration passed as well.
    [self.tableView reloadData];
} 
```

该`willRotateToInterfaceOrientation:`调用在 IOS6 中有限制。确保在旋转设备时实际调用它。

# ios - 错误升级 ios 6.1 和 xcode 到 4.6

> ID：14619931
> 
> 赞同：2
> 
> 时间：2013-01-31T06:43:38.860
> 
> 标签：ios, xcode

我将我的 IOS 和我的 xcode 升级到 6.1。现在我在使用 RestKit 或 Json 时遇到奇怪的错误。

架构 armv7s 的未定义符号：“_RKMIMETypeJSON”，

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-31T07:03:29.237

它可能会帮助你。转到Targets 中的**构建设置**。在那里找到有效的架构。（去掉armv7s只用armv7）

# codenameone - 无法在没有约束参数的情况下将组件添加到 BorderLayout Container

> ID：14619934
> 
> 赞同：2
> 
> 时间：2013-01-31T06:43:45.113
> 
> 标签：codenameone

我确实对添加按钮或容器的布局约束感到困难。添加以下订单时出现上述错误。

```
Container1.setLayout(new BorderLayout()); // Container1 has Borderlayout as Layout Property . 
```

我的 Button 具有 LayoutConstraint 的属性： West 。当我将组件按钮添加到 Container1 时，出现上述错误..

请建议我如何设置 LayoutConstraint 属性以及..

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-31T08:46:45.703

利用：

```
 Container1.setLayout(new BorderLayout());
 Container1.addComponent(BorderLayout.EAST, myComponent); 
```

像宣传的那样工作。

# dotnetnuke - 如何在我的基于 DNN 6.3 创建的网站上设置 Google Analytics？

> ID：14619936
> 
> 赞同：2
> 
> 时间：2013-01-31T06:43:50.093
> 
> 标签：dotnetnuke, dotnetnuke-6

我们如何在我的基于 DNN 6.3 创建的网站上设置 Google Analytics。是否需要在 DNN 6.3 中安装谷歌分析模块（我认为它已经内置在 DNN 6.0 的更高版本中）或者它只是通过在管理部分设置跟踪 ID 才开始工作。

实际上我做了什么：>我已经使用“Google Analytics”创建了一个帐户并设置了我们的站点参数，之后我获得了我设置到我的 DNN 帐户的跟踪 ID。现在我在我的谷歌分析帐户上看到的任何报告都显示为零。但在那段时间里，我在我的网站上访问了 5 次以上。

因此，如果有人知道我做错了什么，请向我建议:)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-31T17:03:56.363

没有 DNN 6.3 这样的东西。它从 6.2.x 升级到 7.0.x...但是，您无需为 DNN 6.x 安装任何其他模块即可显示 Google Analytics。您只需在管理 -> Google Analytics 中输入您的跟踪 ID。

然后，您可以通过验证它在 HTML 中呈现的方式来检查它是否正常工作。在浏览器中打开您的网站，然后查看页面的源代码。然后搜索“UA-”。如果它找到它，那么它应该是 Google Analytics 代码段。如果它没有找到它，那么就会出现问题。

请记住，默认情况下，Google Analytics（分析）不会显示当天的点击量。您必须修改日期范围以包括今天的日期。

# groovy - 不能在 groovy 方法上添加多个注释？

> ID：14619948
> 
> 赞同：5
> 
> 时间：2013-01-31T06:44:44.203
> 
> 标签：groovy, annotations, testng

```
 when I add two annotations to a method like this       

@Parameters({"userName",""})
@Test
public void replyMaster()
{

} 
```

得到这个错误

```
 Multiple markers at this line
- Groovy:unexpected token: @ @ line 40, column 2.
- Duplicate field ReplyTest.@
- Groovy:The field '@' is declared multiple times. 
```

我的配置：jdk 1.7，testng 6.8，groovy 2.0（安装了groovy eclipse插件）

为什么？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-01-31T09:11:57.800

如果这是一个 Groovy 文件，那么

```
@Parameters({"userName",""}) 
```

应该是：

```
@Parameters(["userName",""]) 
```

或者

```
@Parameters(["userName",""] as Object[]) 
```

不确定，我没有使用过TestNG。但是你绝对可以使用 Groovy 每个节点有多个注释，只是这不是 groovy 处理列表或数组的方式

# c# - C#中排序方法的准确行为？

> ID：14619949
> 
> 赞同：1
> 
> 时间：2013-01-31T06:44:48.103
> 
> 标签：c#, sorting

```
 static void Main()
    {
        var array = new[] {1, 2, 3, 4, 5};
        Array.Sort(array, (x, y) => x % 2 == y % 2 ? 0 : x % 2 == 1 ? -1 : 1);
        array.ToList().ForEach(Console.WriteLine);
    } 
```

`The output result is 3,5,1,2,4.`

据我了解，在排序委托中：奇数等于奇数；偶数等于偶数；奇数在偶数之前。为什么输出不是 1,3,5,2,4？谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-31T07:00:36.690

来自[MSDN](http://msdn.microsoft.com/en-us/library/6tf1f0bc.aspx)：

> Array.Sort 使用快速排序算法。此实现执行不稳定的排序；也就是说，如果两个元素相等，则可能不会保留它们的顺序。相反，稳定排序保留了相等元素的顺序。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-31T07:26:33.680

您只是在比较器功能中比较偶数和奇数。就像其他人说的那样，快速排序是不稳定的。当值都是偶数或奇数时，为什么不在偶数/奇数之外添加额外的值检查。

```
// if x odd and y even return -1
// else if x even and y odd return 1
// else return x.CompareTo(y)

Array.Sort(array, (x, y) => x % 2 == y % 2 ? x.CompareTo(y) : x % 2 > y % 2 ? -1 : 1); 
```

# javascript - 为 a 设置固定的高度和宽度

> ID：14619953
> 
> 赞同：1
> 
> 时间：2013-01-31T06:45:09.330
> 
> 标签：javascript, html, css

```
function scrollfun()
{
    var ob = document.getElementById('rowScroll');
    ob.style.height ="300px";
    ob.style.width = "200px";               
} 
```

这`rowScroll`是`<div>`身份证。上面的代码工作正常。但以下代码不起作用：

```
function scrollfun()
{
    var ob = document.getElementById('rowScroll');
    ob.style.height ="30%";
    ob.style.width = "20%";             
} 
```

我怎样才能得到这个与百分比一起工作？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-31T07:09:01.543

您将需要使用 div 标签来实现这一点。请参阅下面的工作代码：

```
<!DOCTYPE html>
<html>
<head>
<script>
function displayResult()
{
document.getElementById("b1").style.height="200%";
}
</script>
</head>
<body>

<div style="height:25px;">
<input type="button" id="b1" onclick="displayResult()" value="Change height of button" >

</body>
</html> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-31T07:09:09.530

如果你“告诉”它这些百分比是什么？喜欢

```
function scrollfun()
{
    var ob = document.getElementById('rowScroll');
    ob.style.height = (container-width * 30)/100 + "px"
    ob.style.width = (container-width * 20)/100 + "px"             
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-31T07:11:17.017

仅供参考，基于百分比的宽度高度取决于元素“rowScroll”的父容器。尝试将高度、宽度信息提供给父级本身...

更新：

为了使高度宽度为屏幕的 50%，如下所示：

```
function windowHW() {
  var myWidth = 0, myHeight = 0;
  if( typeof( window.innerWidth ) == 'number' ) {
    //Non-IE
    myWidth = window.innerWidth;
    myHeight = window.innerHeight;
  } else if( document.documentElement && ( document.documentElement.clientWidth || document.documentElement.clientHeight ) ) {
    //IE 6+ in 'standards compliant mode'
    myWidth = document.documentElement.clientWidth;
    myHeight = document.documentElement.clientHeight;
  } else if( document.body && ( document.body.clientWidth || document.body.clientHeight ) ) {
    //IE 4 compatible
    myWidth = document.body.clientWidth;
    myHeight = document.body.clientHeight;
  }
  return [myHeight,myWidth];
}
function scrollfun()
    {
        var ob = document.getElementById('rowScroll');
        document_dimension = windowHW();
        ob.style.height =document_dimension[0]/2;
        ob.style.width =document_dimension[1]/2;
    } 
```

请注意，函数 windowHW 是对以下解决方案的轻微修改：

[stackoverflow 问题：JavaScript -由](https://stackoverflow.com/questions/3333329/javascript-get-browser-height)[meder](https://stackoverflow.com/users/145190/meder)回答的获取浏览器高度

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-31T07:11:34.053

只需使用`className`来自 javascript的属性

```
function scrollfun()
{
   document.getElementById("rowScroll").className = "MyClass";      
} 
```

在你的 CSS 中

```
.MyClass{height:30%;width:20%;} 
```

# javascript - 10 秒后显示 div 并在 10 秒后隐藏

> ID：14619954
> 
> 赞同：0
> 
> 时间：2013-01-31T06:45:17.847
> 
> 标签：javascript, jquery, css-transitions

我需要在页面加载后的 10 秒内显示一个 div（例如 #mybox），让它再保持 10 秒可见，然后以漂亮的滑入/滑出效果隐藏。

非常感谢任何提示/帮助！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-31T06:58:39.927

请使用以下功能：

```
cycle();
function cycle() {
     $('#myid')
    .delay(10000)
    .fadeIn(300)
    .delay(10000)
    .fadeOut(300, cycle);
} 
```

如果我们不需要循环，那么只需要一行代码：

```
$('#myid').delay(10000).fadeIn(300).delay(10000).fadeOut(300); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-31T06:57:56.480

可能是这样：http: [//jsfiddle.net/EzvGD/2/](http://jsfiddle.net/EzvGD/2/)

```
$(function(){ //-----------------when page loads fire the code below.
  $('#div').delay(10000).show('slow').promise().done(function(){
     $('#div').delay(10000).hide('slow')
  });
}); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-31T06:51:57.670

```
$(function(){
  setTimeout(function(){
    $('ur_element').show(function(){
      setTimeout(function(){
        $('ur_element').hide()
      }, 10000)
    })
  }, 10000)
}) 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-01-31T06:54:54.963

也许你可以尝试这样的事情。

```
setTimeout(show_div, 10000);
setTimeout(hide_div, 20000);

funciton show_div(){
    $('#mybox').show();
}

funciton hide_div(){
    $('#mybox').hide();
} 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-01-31T06:57:19.730

好的，将来最好向我们展示您尝试过的内容，以便我们都可以帮助改进您的代码。

在不知道你在处理什么的情况下，我会给你一种方法来做到这一点。

使用 jQuery

```
setTimeout(function() {
  $('#div1').slideIn();
  setTimeout(function() {
     $('#div1').slideOut();    
  }, 10000);
}, 10000); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2016-10-19T16:54:48.177

[http://jsfiddle.net/tzvemt4m/](http://jsfiddle.net/tzvemt4m/)

```
$(".Mask").each(function() {
  var tempstr = this.innerText;
  var replacestr = this.innerText.replace(/./g, "*");
  $(this).mouseover(function() {
    this.innerText = tempstr;
  });
  $(this).mouseout(function() {
    var tempObj = this;
    setTimeout(function() {
      tempObj.innerText = replacestr;
    }, 10000);
  });
  this.innerText = replacestr;
}); 
```

# html - 在javascript中按名称获取隐藏元素的id值

> ID：14619957
> 
> 赞同：1
> 
> 时间：2013-01-31T06:45:40.760
> 
> 标签：html

```
<input id="qw" type="hidden" value="asdfg" name="1"> 
```

在 javscript 我写 var id_val=document.forms[frm_name][1].getAttribute('id'); 但这将返回 null 所需的答案是“qw” **任何帮助将不胜感激。** 在此先感谢 Swapnil

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-31T06:55:05.150

请确保您的 html 中有表单标签，并且索引从零开始。因此，如果您引用索引 1，请再次检查您的表单是否有多个子元素。

如果您的表单只有一个元素，则脚本应为：

```
 var id_val=document.forms['frm_name'][0].getAttribute('id'); 
```

# jquery - dynatree 查找所有选定的最高级别节点

> ID：14619959
> 
> 赞同：0
> 
> 时间：2013-01-31T06:45:47.217
> 
> 标签：jquery, dynatree

我正在尝试查找所有选定的最高级别节点例如，如果我有像
-grandparent1
--parent1
--- child1 ---child2 --parent2 ---child3
--- child4 这样的树 如果有人选择child1 **,child2, child3** 我需要像**parent1,child3**这样的结果 请帮我解决这个问题。提前致谢

 ***** * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-12T06:56:28.580

您可以使用以下命令获取到根父级的密钥路径：

```
node.getKeyPath() 
```****

# c# - 为特定更改触发 DataChangedHandler

> ID：14619963
> 
> 赞同：2
> 
> 时间：2013-01-31T06:46:20.477
> 
> 标签：c#, windows-store-apps

我正在尝试创建一个 Windows 商店应用程序，它将磁贴设置存储在漫游设置中，并在漫游文件夹中存储一个单独的文件。现在出于同步目的，我为 DataChanged 事件注册了 DataChangedHandler，如下所示：

```
 public class TileSettings
{

    public TileSettings(Tile tile)
    {
        this.Tile = tile;
        ApplicationData.Current.DataChanged += new TypedEventHandler<ApplicationData, object>(DataChangedHandler); 
    }

    public void DataChangedHandler(Windows.Storage.ApplicationData appData, object o)
    {

        //this.LoadSettings();
    }
} 
```

问题在于，即使仅 tile 的设置更改或漫游文件夹中的文件更改，也会为所有 tile 触发此事件。如何注册事件，以便仅针对一个图块（其设置更改）或文件（其内容更改时）触发它？

# android - 如何在 Android 中为 toast 设置印地语自定义字体？

> ID：14619971
> 
> 赞同：2
> 
> 时间：2013-01-31T06:47:14.303
> 
> 标签：android, localization, typeface

我正在创建多种语言的短信应用程序。对于印地语，我在 assets/fonts 文件夹中包含了 DroidHindi.ttf 文件。我可以通过使用以下方法在 textview 和按钮中实现这一点：-

```
Typeface face;       
face = Typeface.createFromAsset(this.getAssets(), "fonts/DroidHindi.ttf");
TextView font1 = (TextView) findViewById(R.id.tv1font);
font1.setTypeface(face, Typeface.BOLD); 
TextView font2 = (TextView) findViewById(R.id.tv2font);
font2.setTypeface(face, Typeface.BOLD); 
Button bfont = (Button) findViewById(R.id.btnsend);
bfont.setTypeface(face, Typeface.BOLD); 
```

它工作得很好。

但是，在显示 toast 消息时我无法实现它。

`Toast.makeText(getBaseContext(), R.string.toast_msg ,Toast.LENGTH_SHORT).show();`

除了这段代码，我还需要实现 DroidHindi.ttf 文件。

有什么办法可以做到吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-31T07:28:21.117

```
LayoutInflater inflater = getLayoutInflater();
View layout = inflater.inflate(R.layout.custom_toast,
                               (ViewGroup) findViewById(R.id.toast_layout_root));

TextView text = (TextView) layout.findViewById(R.id.text);
text .setTypeface(face, Typeface.BOLD); // set your typeface here just like you have done above
text.setText("This is a custom toast");

Toast toast = new Toast(getApplicationContext());
toast.setGravity(Gravity.CENTER_VERTICAL, 0, 0);
toast.setDuration(Toast.LENGTH_LONG);
toast.setView(layout);
toast.show(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-10-19T11:38:44.023

首先添加这个类

```
 public class typeFace extends TypefaceSpan {
    Typeface typeface;

    public typeFace(String family, Typeface typeface) {
        super(family);
        this.typeface = typeface;
    }

    @Override
    public void updateDrawState(TextPaint ds) {
        ds.setTypeface(typeface);
    }

    @Override
    public void updateMeasureState(TextPaint ds) {
        ds.setTypeface(typeface);
    }

} 
```

然后简单地使用这个方法

```
 public SpannableString spannableString(String string, String font) {

    SpannableString span = new SpannableString(string);
    span.setSpan(new typeFace("", Typeface.createFromAsset(context.getAssets(),
            "fonts/" + font + ".ttf")), 0, span.length(), span.SPAN_EXCLUSIVE_EXCLUSIVE);

    return span;

} 
```

称呼 ：

```
 textView.settext(spannableString("your text","DroidHindi")); 
```

吐司：

```
 public void spannableToast(SpannableString text) {
    Toast.makeText(context, text, Toast.LENGTH_SHORT).show();
} 
```

称呼 ：

```
spannableToast(spannableString("your text","DroidHindi")); 
```

不要忘记在 onCreate 中添加此代码：

```
Context context=getApplicationContext(); 
```

# database - 使用执行的教义查询

> ID：14619973
> 
> 赞同：10
> 
> 时间：2013-01-31T06:47:31.413
> 
> 标签：database, symfony, doctrine, doctrine-orm

`Option 1`并且`Option 2`似乎给出了类似的结果。使用`execute statement`而不是通常的`getResult()`方法有什么特别的优势吗？

## 选项1：

```
public function getEventsByOrganiser(EventInterface $event, $username)
{
    $qb = $this->repository->createQueryBuilder('e')
        ->select(array('e', 'u'))
        ->leftJoin('e.user', 'u')
        ->andWhere('u.username = :username');

    return $qb->getQuery()->execute(array(
        'username' => $username
    ));
} 
```

## 选项2：

```
public function getEventsByOrganiser(EventInterface $event, $username)
{
    $qb = $this->repository->createQueryBuilder('e')
        ->select(array('e', 'u'))
        ->leftJoin('e.user', 'u')
        ->andWhere('u.username = :username')
        ->setParameter('username', $username);

    return $qb->getQuery()->getResult();

} 
```

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-01-31T07:13:50.913

基本上`getResult()`是别名，`execute(array())`您可以将其设置为参数水合模式，例如：`getResult(Query::HYDRATE_OBJECT)`是`execute(array(), Query::HYDRTE_OBJECT)`

唯一的区别：在执行方法中，您可以将查询参数设置为第一个参数，因此您不必`setParameter`在之前调用方法...

# php - phpQuery 显示特殊文本

> ID：14619976
> 
> 赞同：0
> 
> 时间：2013-01-31T06:47:44.587
> 
> 标签：php, phpquery

我正在使用 phpQuery 从 url 中提取数据。现在，当我从 url 中提取数据时，我会得到一些不正确或特殊的字符来代替文本。

```
Like:  ctype html&gt; ,   ¢Â�Â� 
```

我的脚本：-

```
PhpQueryComponent::newDocumentFileHTML($file,$charset='utf-8'); 
```

我的输出是： -

```
 ctype html&gt; It's as if we created some text and blah just for you, the small business owner
or self-employed carpenter, gardener, caretaker, artist or shop owner who needs all the 
help you can get. On Sfsfsdfe, you can create your own website so your clients can   
find you. Display all your products in photo albums, describe your services or 
experience, and put up news and special events to create buzz around your business.      
¢Â�Â� the list is endless, and so are the tasks linked to running them. With fdsfsdf
albums Ã¢Â�Â� there's a function for your every need. Communicate directly on the page 
and keep each other up to date. 
```

我有 useutf-8 ，但它仍然无法正常工作。谁能告诉我为什么会显示这个错误。？？提前致谢..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-31T08:39:03.763

您正在阅读的文件中可能有特殊字符，`so this is happening as All HTML special characters might be broken up when parsed via phpQuery.`

**这是 phpQuery 的问题，** [问题](http://code.google.com/p/phpquery/issues/detail?id=176)

* * *

**更新：**
你说“你用过 UTF-8”，你用过吗？..如果没有，请执行以下操作..

首先将您的文件保存为 UTF-8 格式并检查元部分，它应该是：

```
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8"> 
```

还在开始时设置 php 标头`header('Content-Type: text/html; charset=utf-8');`。

# android - Android：在主屏幕上获取我的包中的活动的更多图标（快捷方式）

> ID：14619980
> 
> 赞同：0
> 
> 时间：2013-01-31T06:47:53.713
> 
> 标签：android, launcher, homescreen, android-launcher, app-launcher

我知道我可以创建一个可以放置在主屏幕上的小部件，但是当用户安装应用程序时，是否有可能只有我的标准启动器图标会启动某个活动。但是当用户选择时（例如通过单击我的应用程序中的按钮）会在设备的主屏幕上创建另一个图标，直接链接到另一个活动？因此，通过单击主屏幕上的该图标，我的包中的另一个活动将打开？

如果可能的话，有人有片段吗？

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-02T17:51:15.290

感谢这个博客：http: [//viralpatel.net/blogs/android-install-uninstall-shortcut-example/](http://viralpatel.net/blogs/android-install-uninstall-shortcut-example/)

在清单中添加所需的权限：

```
<uses-permission android:name="com.android.launcher.permission.INSTALL_SHORTCUT" />
<uses-permission android:name="com.android.launcher.permission.UNINSTALL_SHORTCUT" /> 
```

在快捷方式所指的清单中添加到您的活动：

```
 android:exported="true" 
```

然后使用以下方法安装/卸载快捷方式：

```
 private void addShortcut() {
        //Adding shortcut for MainActivity 
        //on Home screen
        Intent shortcutIntent = new Intent(getApplicationContext(),
                MainActivity.class);

        shortcutIntent.setAction(Intent.ACTION_MAIN);

        Intent addIntent = new Intent();
        addIntent
                .putExtra(Intent.EXTRA_SHORTCUT_INTENT, shortcutIntent);
        addIntent.putExtra(Intent.EXTRA_SHORTCUT_NAME, "HelloWorldShortcut");
        addIntent.putExtra(Intent.EXTRA_SHORTCUT_ICON_RESOURCE,
                Intent.ShortcutIconResource.fromContext(getApplicationContext(),
                        R.drawable.ic_launcher));

        addIntent
                .setAction("com.android.launcher.action.INSTALL_SHORTCUT");
        getApplicationContext().sendBroadcast(addIntent);
    }

private void removeShortcut() {

        //Deleting shortcut for MainActivity 
        //on Home screen
        Intent shortcutIntent = new Intent(getApplicationContext(),
                MainActivity.class);
        shortcutIntent.setAction(Intent.ACTION_MAIN);

        Intent addIntent = new Intent();
        addIntent
                .putExtra(Intent.EXTRA_SHORTCUT_INTENT, shortcutIntent);
        addIntent.putExtra(Intent.EXTRA_SHORTCUT_NAME, "HelloWorldShortcut");

        addIntent
                .setAction("com.android.launcher.action.UNINSTALL_SHORTCUT");
        getApplicationContext().sendBroadcast(addIntent);
    } 
```

要将活动添加到快捷方式手册中，只需将此意图过滤器添加到清单中的活动：

```
<intent-filter>
    <action android:name="android.intent.action.CREATE_SHORTCUT" />
    <category android:name="android.intent.category.DEFAULT" />
</intent-filter> 
```

# c - 在声明时在 C 字符串上添加 CRLF

> ID：14619985
> 
> 赞同：1
> 
> 时间：2013-01-31T06:48:10.743
> 
> 标签：c, string, newline

让

```
const char cstring[] = "cstringline"; 
```

如何更改上述代码，以在编译时附加 CRLF 即声明？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-01-31T06:52:18.663

Unix 行尾：

```
const char str[] = "foobarbaz\n"; 
```

旧版 Mac 行尾：

```
const char str[] = "foobarbaz\r"; 
```

Windows 行尾：

```
const char str[] = "foobarbaz\r\n"; 
```

（但实际上，谷歌......）

# c# - FileDialog 中是否有多个上次使用的路径？

> ID：14619990
> 
> 赞同：1
> 
> 时间：2013-01-31T06:48:19.963
> 
> 标签：c#, wpf, directory, openfiledialog

我正在开发一个需要加载和保存图像、视频、声音和项目的 WPF 应用程序。现在我想有上次使用的目录的不同“空间”，例如：

1.  打开项目：初始路径=某个目录（现在不重要）
2.  打开视频文件：初始路径 = 默认视频文件夹
3.  将项目另存为：初始路径 = 步骤 1 中有效使用的目录

使用 OpenFileDialog 的默认行为，我要么必须恢复每个对话的初始路径，要么将所有类型的文件一起使用混合的最后使用目录“空间”。

我想到的是我可以手动保存上次使用的目录，按文件类型分类（使用计算机上的一些文本文件），并将下一个对话的初始值设置为从该文件读取的正确值。但是有没有更简单的方法来完成所需的行为？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-31T07:00:28.817

如何使用应用程序设置？

打开你的项目属性并输入一个字符串作为目录（或任何你想要的），然后你可以从你的应用程序中访问、修改和保存它，如下所示：

```
var myDirectory = Properties.Settings.Default.Directory; 
```

# sql-server - 如何在 SQL 2008 中创建自动更新数据库的脚本？

> ID：14619991
> 
> 赞同：1
> 
> 时间：2013-01-31T06:48:19.577
> 
> 标签：sql-server, sql-server-2008-r2

我有 SQL Server 2008 上的数据库，我想从另一个数据库 ON db2 更新此数据库中的所有记录。我想做每天准时的脚本工作或者当我想更新时，从这个脚本做那个手册。

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-31T10:20:35.940

有两种方法可以自动更新您的数据库

1）创建 DTS 以更新您的数据库

2) Care Consol 应用程序以 Upadat 一对一

[DTS](http://www.dbforums.com/microsoft-sql-server/1034165-using-dts-copy-one-database-into-another-how-long-should-take-1-5-gigs.html)

# c++ - 错误检查简单计算器

> ID：14619993
> 
> 赞同：0
> 
> 时间：2013-01-31T06:48:26.687
> 
> 标签：c++

如果用户除以 0，我在检查错误时遇到了一点麻烦。如果用户请求除以 0，结果字符串应该表明执行除以零是非法的。它应该是这样的：

> 您的操作是分裂：6/0 非法操作！

但是我不知道如何让它看起来像那样。到目前为止，我只能看到`std::cout`“这是非法的”消息，但输出最终看起来像这样：

> 这是非法的！你的操作是：6 / 0=-858993460

我还尝试在 else 语句中将结果设置为不同的字符串。它只是忽略它。

我将如何最终编码？

```
void Simplecalc::setOperation(char oper, int op1, int op2)
{
operation = oper;
number1 = op1;
number2 = op2;
    if(operation == '+')
    {
    answer = number1 + number2;
    type ="addition";
    }
    else if(operation =='-')
    {
        answer = number1 - number2;
        type ="subtraction";
    }
    else if(operation =='*')
    {
        answer = number1 * number2;
        type = "multiplication";
    }
    else if(operation =='/')
    {
        if(number2 != 0)
    {
         answer = number1/number2;
         type = "division";
    }
   else
       {
     cout<<"this is illegal!";

        }

    }

    else if(operation =='%')
    {
        answer = number1%number2;
        type ="modulus";
    }

}

string Simplecalc::getResults()
{

stringstream ss;
    ss <<"Your operation is "<<type<<": "<<number1<<" "<<operation<<" "<<number2<<"="    
    <<answer<<"\n";
results =ss.str();

   return results;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-31T07:00:36.993

我认为你过度设计了。没有必要有“设置操作”的概念。您应该只使用一种方法读取输入、执行验证和写入输出。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-31T06:57:15.760

发生这种情况是因为您在 setOperation () 函数之后调用 getResult()。即使操作是非法的，这种情况也会发生。

你为什么不为此使用一个标志。如果操作非法，则将 bool 标志设置为 false。使用该标志来推迟对 getResults() 的调用以处理非法情况。

```
if(flag)
{
    getResults();
} 
```

else { //什么都不做 }

希望能解决你的问题

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-31T07:19:07.750

你必须用'0'初始化'answer'。您得到 -858993460（等于十六进制 0xcccccccc），这是 answer 变量的默认值。

# sql - 如何触发我的表 SQL

> ID：14619994
> 
> 赞同：-2
> 
> 时间：2013-01-31T06:48:29.140
> 
> 标签：sql, sql-server, sql-server-2005

我有这张桌子：

```
 CREATE TABLE [Alerts]
(
  [Timestamp] datetime,
  [Status] int
)

INSERT INTO [Alerts] ([Timestamp], [Status])
  VALUES
    ('2013-1-1 00:00:00', 1),
    ('2013-1-1 00:00:05', 1),
    ('2013-1-1 00:00:10', 2),
    ('2013-1-1 00:00:15', 2),
    ('2013-1-1 00:00:20', 0),
    ('2013-1-1 00:00:25', 1),
    ('2013-1-1 00:00:30', 1),
    ('2013-1-1 00:00:32', 2),
    ('2013-1-1 00:00:35', 2),
    ('2013-1-1 00:00:40', 0),
    ('2013-1-1 00:00:45', 0),
    ('2013-1-1 00:00:50', 0) 
```

我如何从下面的代码中触发：

```
SELECT
  MIN ([main].[Start]) AS [STOP_Begin],
  [main].[End] AS [STOP_End],
  DATEDIFF(s, MIN([main].[Start]), [main].[End]) AS [Interval_Second]
FROM
(
  SELECT
    [starts].[Start],
    MIN([ends].[Timestamp]) AS [End]
  FROM
  (
    SELECT
      [Timestamp] AS [Start]
    FROM [Alerts]
    WHERE [Status] = 0
  ) AS [starts] LEFT JOIN [Alerts] AS [ends]
  ON  [starts].[Start] < [ends].[Timestamp]
  AND [ends].[Status] <> 0
  GROUP BY
    [starts].[Start]
) AS [main]
GROUP BY
  [main].[End]
ORDER BY 1 
```

因此，每次我将新输入添加到表 [Alerts] 中时，
它都会自动更改新表。
我应该已经制作新桌子还是如何制作？
请看这个[LINK](http://sqlfiddle.com/#!3/c72cd/25)

触发器代码，它和我的选择代码一样，只是说新表名**newtable**，
**所以我每次添加新输入时都不需要使用我的选择代码**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-31T08:50:31.000

要实际回答您的问题，假设您有此表：

```
CREATE TABLE NewTable 
(   Stop_Begin      DATETIME,
    Stop_End        DATETIME,
    Interval_Second INT
); 
```

您可以创建一个触发器，该触发器将在每次将记录添加到警报时刷新此表：

```
CREATE TRIGGER Alerts_Insert ON Alerts
FOR INSERT
AS
    TRUNCATE TABLE NewTable;

    INSERT NewTable
    SELECT  MIN ([main].[Start]) AS [STOP_Begin],
            [main].[End] AS [STOP_End],
            DATEDIFF(s, MIN([main].[Start]), [main].[End]) AS [Interval_Second]
    FROM    (   SELECT  [starts].[Start],
                        MIN([ends].[Timestamp]) AS [End]
                FROM    (   SELECT  [Timestamp] AS [Start]
                            FROM    [Alerts]
                            WHERE   [Status] = 0
                        ) AS [starts] 
                        LEFT JOIN [Alerts] AS [ends]
                            ON  [starts].[Start] < [ends].[Timestamp]
                            AND [ends].[Status] <> 0
                GROUP BY [starts].[Start]
            ) AS [main]
    GROUP BY [main].[End]
    ORDER BY 1; 
```

**[触发器的 SQL 小提琴](http://sqlfiddle.com/#!3/e915c/1)**

**但是**，这几乎可以肯定是不好的设计，除非您从插入到的频率更高`NewTable` **的**`Alerts`地方进行选择，并且选择查询不是即时的。在 99% 的情况下，更实用的方法是仅将`NewTable`观点视为：

```
CREATE VIEW dbo.NewTable 
AS
    SELECT  MIN ([main].[Start]) AS [STOP_Begin],
            [main].[End] AS [STOP_End],
            DATEDIFF(s, MIN([main].[Start]), [main].[End]) AS [Interval_Second]
    FROM    (   SELECT  [starts].[Start],
                        MIN([ends].[Timestamp]) AS [End]
                FROM    (   SELECT  [Timestamp] AS [Start]
                            FROM    [Alerts]
                            WHERE   [Status] = 0
                        ) AS [starts] 
                        LEFT JOIN [Alerts] AS [ends]
                            ON  [starts].[Start] < [ends].[Timestamp]
                            AND [ends].[Status] <> 0
                GROUP BY [starts].[Start]
            ) AS [main]
    GROUP BY [main].[End]
    ORDER BY 1; 
```

**[用于视图的 SQL 小提琴](http://sqlfiddle.com/#!3/214ac/1)**

比较两个 SQL Fiddles 可以看到右边的 SQL 保持不变，结果是一样的。然而，该视图避免了`NewTable`为插入而维护如此少的开销`Alerts`和为出错的地方而维护的更少的地方。

# http - 为用户托管大文件

> ID：14619995
> 
> 赞同：0
> 
> 时间：2013-01-31T06:48:31.073
> 
> 标签：http, tcp, download-manager

我们需要能够向我们的用户提供大文件。这些文件可以轻松增长到 2 或 3GB。这些文件不是电影或类似文件。它们是控制和开发具有教育能力的机器人所需的软件。

我们的项目组在如何应对这一挑战方面存在一些冲突。首先，Bittorrent 不是我们的解决方案（尽管它可以给我们带来好处）。这些文件将通过 HTTP（而不是 FTP）和文件流提供，因此我们可以控制谁可以访问这些文件。

作为互联网早期的前海盗，我经常与损坏的文件作斗争，并使用文件哈希和文件集来最大限度地减少所需的重新下载量。我提倡一个小型应用程序，它可以下载和验证文件集，并在完全下载和验证后提取大安装文件。

我的同事不认为这是必要的，并指出 TCP/IP 协议继承了避免损坏下载的能力。他们还提到微软已经放弃了他们的 MSDN 文件的下载管理器。

与实际受其影响的人数相比，损坏的下载仍然是一个普遍的问题，还是会浪费我们为解决该问题而花费的时间？

如果下载管理器是要走的路，你建议我们采取什么方法？

-edit- **只是为了澄清。在一个块中下载 3GB 的数据，通过 HTTP 是一个问题，还是我们应该制作自己的 EXE，以较小的块下载大文件（并验证它们）。**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-31T13:17:21.883

您无需使用自己的下载管理器。你可以使用一些非常聪明的方法。

1.  将文件分成更小的块，假设每个 100MB。因此，即使下载损坏，用户最终也会使用该特定块进行下载。

2.  大多数 Web 服务器都能够理解和处理/服务[范围标头](https://www.rfc-editor.org/rfc/rfc2616#section-14.35)。您可以推荐用户使用可以使用此容量的下载管理器/浏览器插件。如果您的用户使用的是 unix/linux 系统，那么 wget 就是这样一个实用程序。

3.  TCP/IP 确实具有防止损坏的能力，但它基本上假设网络仍然正常且可访问。上面提到的#2 可能是解决下载过程中网络完全中断的问题的一种可能的解决方法。

4.  最后，向您的用户提供文件哈希总是好的。这不仅是为了确保下载，也是为了确保您分发的软件的安全性。

高温高压

# android - 如何使用谷歌地图 api 获得速度限制？

> ID：14619997
> 
> 赞同：7
> 
> 时间：2013-01-31T06:48:38.827
> 
> 标签：android, google-maps

我想获得特定路线的速度限制。是否可以通过使用任何 Google API 获得？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2020-03-10T09:16:43.453

您可以使用他们的测试 API 应用程序免费获得它。您可以在 GUI 中编辑 GPS 点或将它们添加到如下列表中。

[https://developers-dot-devsite-v2-prod.appspot.com/maps/documentation/roads/full/inspector_with_api_key/#33.804563,%20-118.390564|33.806534,%20-118.389818|33.808062,%20-118.388568| 33.810220，％20-118.387004 | 33.811542，％20-118.386693 | 33.814829，％20-118.386496 | 33.815859，％20-118.385744 | 33.85744 | 33.817249，20-1111111111184.344.344.344.344.344.344.344.344.344.344\. | | | | | | | | |](https://developers-dot-devsite-v2-prod.appspot.com/maps/documentation/roads/full/inspector_with_api_key/#33.804563,%20-118.390564|33.806534,%20-118.389818|33.808062,%20-118.388568|33.810220,%20-118.387004|33.811542,%20-118.386693|33.814829,%20-118.386496|33.815859,%20-118.385744|33.817249,%20-118.384425|33.818196,%20-118.383715)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-11-17T06:26:48.563

[幸运的是，现在谷歌通过使用他们的谷歌道路 API](https://developers.google.com/maps/documentation/roads/speed-limits)提供速度限制，但仅限于他们的高级定价计划。

# android - 带有文本视图的可扩展列表视图

> ID：14619998
> 
> 赞同：-1
> 
> 时间：2013-01-31T06:48:40.233
> 
> 标签：android

我想要一个可扩展的列表视图来显示通知。如果用户单击特定通知，则列表视图应展开以显示有关通知的更多详细信息。我已经为每个项目实现了带有子列表视图的可扩展列表视图。我需要子视图作为文本视图而不是列表视图。请提供建议

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-31T07:01:19.187

因此，您想为可扩展列表使用自定义子视图，而您只想拥有一个文本视图。您需要自定义子行，使其仅包含文本视图。

请参阅我关于[如何在 Android 中使用可扩展列表的](http://androidsourcecodemj.blogspot.in/2012/10/how-to-use-expandable-list-in-android.html)博文。它将帮助您根据需要创建子视图。