# StackOverflow 问答 12986000-12986999

# c# - 在 Visual Studio 中将 Windows Azure 移动服务添加到移动应用程序

> ID：12986003
> 
> 赞同：0
> 
> 时间：2012-10-20T06:46:18.423
> 
> 标签：c#, azure, windows-mobile

我正在尝试使用 Windows Azure 移动服务。我的环境是 Visual Studio 2010。安装了 Azure SDK。操作系统是Windows 7。

我创建了一个 Windows Azure 移动服务，并在创建服务时按照说明创建了示例数据库和表。

另一方面，我在我的 Visual Studio 2010 上安装了 Mobile SDK。Azure 站点的说明说，“添加对“Windows Azure 移动服务客户端”扩展的引用”

当我尝试在 Visual Studio 中添加对我的项目的引用时，我没有找到任何名称为 Windows Azure 移动服务客户端或类似名称的包。有人可以通过让我知道 dll 的路径来帮助我吗？或者，如果我在尝试添加参考时遗漏了什么。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-20T08:33:00.420

如果我没记错的话，Windows 7 和 VS 2010 不支持 Windows Azure Mobile Service SDK。在 Windows 平台上，您只能使用 VS 2012 构建适用于 Windows 8（Windows Store Apps）的移动应用程序。

希望这可以帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-15T18:56:38.590

为了补充 Gaurav 的答案，Windows Azure Mobile Svcs 确实支持 Windows Phone 8（除了 Windows Store 应用程序），但不支持 Windows Phone 7。不过，您仍然可以通过 REST 调用从任何客户端从 WAMS 检索数据。

# ios - iphone/ipad 如何处理大量输入字段？

> ID：12986004
> 
> 赞同：1
> 
> 时间：2012-10-20T06:46:32.137
> 
> 标签：ios

我正在编写一个包含大量用于收集数据的输入字段的应用程序。我想知道有什么好方法来显示这些输入字段，如果屏幕上放不下太多？所以像添加联系人屏幕......你可以向下滚动并且那里有字段

我最初的想法是将它们放在滚动视图中，然后我可以滚动它们，是否有教程可以做到这一点？滚动视图似乎更多地用于动态显示数据，如文本视图，而不是像我描述的静态表单。

如果有人有任何不同的方法来做到这一点，请张贴。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-20T07:51:06.197

UITableview 将完美匹配您的需求。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-20T06:52:34.953

我的朋友写了这个，这是一个容器视图，可以自动帮助将字段移出键盘 - 如果您不想使用 UITableView，它肯定会为您节省一些时间：

[https://github.com/macross/GTKeyboardHelper](https://github.com/mackross/GTKeyboardHelper)

H2CO3 建议的另一种方法是使用 UITableView。如果它是一个 UITableViewController，那么你会自动离开键盘。您可以构建自定义表格视图单元格，这些单元格的样式具有提示和用于输入的 UITextField。您还可以将 selectionStyle 设置为 UITableViewCellSelectionStyleNone 以防止这些单元格在选中时突出显示。

我认为第三种方法是使用 UINavigationController（或 UIPageControl）并构建一种向导，您可以在其中浏览相关数据的各个页面。这可能是最简洁的方式，具体取决于您拥有多少个字段以及您是否可以将数据分组到通用集合中（例如个人信息、工作信息等）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-25T17:02:24.390

我遇到了同样的问题，发现 GTKeyboardHelper 是一个简单的出路。

将框架拖放到项目中后，包含头文件。下载并打开示例项目，然后将“键盘助手”对象从 xib 中的对象部分拖到项目界面构建器中的对象部分。

拖放所有视图成为“键盘助手”的子项。

# iphone - 当我将编译源代码放置为“根据文件类型”时出现错误

> ID：12986005
> 
> 赞同：1
> 
> 时间：2012-10-20T06:46:34.630
> 
> 标签：iphone, objective-c, ios

我正在将 openCV 集成到我的项目中。当我集成到我的示例应用程序中时，它工作正常（在 Targets Here 我将编译源代码放置在“Objective c++”中）

但是当我将相同的应用程序集成到我的“主应用程序”中时（在目标中，我将编译源代码放置在“根据文件类型”中）它显示错误为“找不到词法或预处理器问题映射文件”

如果我将目标设置放在“Objective c++”中，则会引发错误`ASIAuthenticationDialog.m`

[我遵循了此处](https://stackoverflow.com/questions/5574015/xcode-include-map-in-ml-hpp-no-such-file-or-directory)发布的一些答案。

这个答案在我的示例应用程序中对我有用（这里我没有任何解析，我将编译源代码放置为'objective c++'）但是在我解析它的主应用程序中引发错误（我将编译源代码放置为'根据文件类型')

请指导我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-14T17:42:14.690

查看 XCode 的日志导航器：每个构建都会生成一个您可以导航到的日志（仅显示错误/警告），尝试准确找到**您**的编译器试图编译的源文件。（以及它发生在哪一步：预编译头/编译/链接？）

正如您似乎已经意识到的那样，问题可能不是来自 OpenCV，而是来自依赖它的类 - 当预编译器尝试解决**导入**语句时 - 我虽然认为在 'mm' 中重命名你的 'm' 文件解决了这个问题问题...

但是，如果您使用的某些库需要纯 C (ASIAuthenticationDialog.m) - 我想这就是您面临的问题可以改写为：*“我如何混合 C 和 C++ 源？”* 也许[这篇SO帖子](https://stackoverflow.com/questions/3789340/combining-c-and-c-how-does-ifdef-cplusplus-work?lq=1)可能会有所帮助

祝你好运 ！

# django - 获取存储在多对多字段中的所有唯一值

> ID：12986010
> 
> 赞同：3
> 
> 时间：2012-10-20T06:47:18.143
> 
> 标签：django

我有一个名为多对多的字段`categories`，我想获取存储在该字段中的不同值。

以下是我的模型：

```
class Book (models.Model):
    categories=models.ManyToManyField(Category, related_name = 'categories', blank = True, null=True) 
```

这是我的类别模型：

```
class Category (MPTTModel):
    category = models.CharField(max_length=250)
    parent = TreeForeignKey('self', blank=True, null=True, related_name='children') 
```

我想获得与一本书相关的每一个类别。我该怎么做？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-20T08:13:21.660

如果您想获取与书籍的*一个*实例相关的类别，请执行`book_inst.category_set.all()`. 不会有重复的。

但我认为，您想获得与*any*`Categories`相关的所有内容，您可以这样做： *`Book`*

 *```
Category.objects.filter(categories__in=[Book.objects.all()]).distinct() 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-20T06:58:32.217

基本上，您需要从类别方面进行反向查找以检查是否有该类别的书籍，如果是，则添加到结果查询集中。由于 Book 中的 related_name 参数是“类别”，因此您的反向查找看起来像这样。

```
 Category.objects.filter(categories__in = Book.objects.all()) 
```*

# php - 如何从下拉列表中选择多个值并使用 JavaScript 或 jQuery 将其添加到另一个字段

> ID：12986013
> 
> 赞同：1
> 
> 时间：2012-10-20T06:47:44.447
> 
> 标签：php, javascript, jquery

这是我完全需要的图像。请通过图像。

![在此处输入图像描述](../Images/801b086b9a3826087a5ace8e84a5dc74.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-20T07:01:22.027

希望这会对你有所帮助
[-JSFIDDLE](http://jsfiddle.net/u7KtU/2/)

```
<script language="Javascript">
function SelectMoveRows(SS1,SS2)
{
    var SelID='';
    var SelText='';
    // Move rows from SS1 to SS2 from bottom to top
    for (i=SS1.options.length - 1; i>=0; i--)
    {
        if (SS1.options[i].selected == true)
        {
            SelID=SS1.options[i].value;
            SelText=SS1.options[i].text;
            var newRow = new Option(SelText,SelID);
            SS2.options[SS2.length]=newRow;
            SS1.options[i]=null;
        }
    }
    SelectSort(SS2);
}
function SelectSort(SelList)
{
    var ID='';
    var Text='';
    for (x=0; x < SelList.length - 1; x++)
    {
        for (y=x + 1; y < SelList.length; y++)
        {
            if (SelList[x].text > SelList[y].text)
            {
                // Swap rows
                ID=SelList[x].value;
                Text=SelList[x].text;
                SelList[x].value=SelList[y].value;
                SelList[x].text=SelList[y].text;
                SelList[y].value=ID;
                SelList[y].text=Text;
            }
        }
    }
}
function selectAll(Sels){
    for (x=0; x < Sels.length ; x++){
    Sels[x].selected = "1";
    }
}
</script>
<form name="Example">
<table border="0" cellpadding="3" cellspacing="0">
    <tr>
        <td>
            <select name="Features" size="9" MULTIPLE>
                <option value="2">Row 2</option>
                <option value="4">Row 4</option>
                <option value="5">Row 5</option>
                <option value="6">Row 6</option>
                <option value="7">Row 7</option>
                <option value="8">Row 8</option>
                <option value="9">Row 9</option>
            </select>
        </td>
        <td align="center" valign="middle">
            <input type="Button" value="Add >>" style="width:100px" onClick="SelectMoveRows(document.Example.Features,document.Example.FeatureCodes)"><br>
            <br>
            <input type="Button" value="<< Remove" style="width:100px" onClick="SelectMoveRows(document.Example.FeatureCodes,document.Example.Features)"><br>

            <input type="Button" value="Add All>>" style="width:100px" onClick="selectAll(document.Example.Features);SelectMoveRows(document.Example.Features,document.Example.FeatureCodes)"><br>
            <br>
            <input type="Button" value="<< Remove All" style="width:100px" onClick="selectAll(document.Example.FeatureCodes);SelectMoveRows(document.Example.FeatureCodes,document.Example.Features)">
        </td>
        <td>
            <select name="FeatureCodes" size="9" MULTIPLE>
                <option value="1">Row 1</option>
                <option value="3">Row 3</option>
            </select>
        </td>
    </tr>
</table>
</form> 
```

更新：[Javascript：将项目从一个多选框移动到另一个](http://www.johnwbartlett.com/CF_tipsNtricks/index.cfm?TopicID=86)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-20T07:01:46.900

[工作的 jsFiddle](http://jsfiddle.net/h8zuc/)

HTML ->

```
<div>
    <select id="first" multiple="true">
        <option value="something@something.com"> something@something.com </option>
        <option value="something@something.com"> something@something.com </option> 
        <option value="something@something.com"> something@something.com </option> 
        <option value="something@something.com"> something@something.com </option> 
        <option value="something@something.com"> something@something.com </option>        
    </select>
</div>
<div class="mid">
    <button class='add'> > </button>
    <button class='remove'> < </button>
    <button class='add-all'> >>> </button>
    <button class='remove-all'> <<< </button>
</div>
<div class="end">
    <select id="second" multiple="true">
    </select>
</div>
<div style="clear:both;"></div>​ 
```

jQuery ->

```
$('.add').click(function(){
    $('#first option:selected').appendTo('#second');
});
$('.remove').click(function(){
    $('#second option:selected').appendTo('#first');
});
$('.add-all').click(function(){
    $('#first option').appendTo('#second'); 
});
$('.remove-all').click(function(){
    $('#second option').appendTo('#first'); 
});
​ 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-20T06:58:55.053

你可以使用这样的东西。它免费且简单，可以做你想做的事。不要发明轮子。

[多选](http://www.erichynds.com/jquery/jquery-ui-multiselect-widget/)

例子：

```
<select id="example" name="example" multiple="multiple">
    <option value="1">Option 1</option>
    <option value="2">Option 2</option>
    <option value="3">Option 3</option>
    <option value="4">Option 4</option>
    <option value="5">Option 5</option>
</select> 
```

jQuery 代码将是：

```
$(document).ready(function(){
    $("#example").multiselect();
}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-20T07:11:18.643

请检查**[这个小提琴](http://jsfiddle.net/pintu31/uU3dy/)**。

### HTML

```
<select id="sel1" multiple="multiple">
    <option value="something@something.com"> something@something.com </option>
    <option value="something@something.com"> something@something.com </option>
    <option value="something@something.com"> something@something.com </option>
    <option value="something@something.com"> something@something.com </option>
    <option value="something@something.com"> something@something.com </option>
</select>

<button id='add'> > </button>
<button id='remove'> < </button>
<button id='multi_add'> >>> </button>
<button id='multi_remove'> <<< </button>

<select id="sel2" multiple="multiple">
</select> 
```

### jQuery代码

```
$('#multi_add').click(function(){
    //$('#sel2 option').remove(); //If you want to remove previous option
    $('#sel1 option').each(function(){
        if($(this).is(':checked')){
            $('#sel2').append($(this).clone());
            $(this).remove(); //If you want to remove from current list
        }
    });
});

$('#multi_remove').click(function(){
    //$('#sel1 option').remove(); //If you want to remove previous option
    $('#sel2 option').each(function(){
        if($(this).is(':checked')){
            $('#sel1').append($(this).clone());
            $(this).remove(); //If you want to remove from current list
        }
    });
});

$('#add').click(function(){
    $('#sel1 option:selected').appendTo('#sel2');
});
$('#remove').click(function(){
    $('#sel2 option:selected').appendTo('#sel1');
}); 
```

# php - 1 个查询依赖于另一个查询 codeigniter

> ID：12986018
> 
> 赞同：0
> 
> 时间：2012-10-20T06:48:51.760
> 
> 标签：php, codeigniter, many-to-many

我有一个表 tbparent_module,tbsub_module 和一个名为 tbmodule_pairing 的联结表，其中包含 2 个表 (tbparent_module,tbsub_module) 的 ID

在我的控制器上，我调用了一个模型，它将查询所有父模块并将其显示在视图上。我已经这样做了，但我的问题是，我还需要显示它的子模块。

*输出示例*

```
Parent Module 1
     Sub Mod 1
     Sub Mod 2
     Sub Mod 3

Parent Module 2
     Sub Mod 1
     Sub Mod 2
     Sub Mod 3

Parent Module 3
     Sub Mod 1
     Sub Mod 2
     Sub Mod 3 
```

这是我现在的代码

**看法**

```
foreach($module as $result){
      $sql = mysql_query("SELECT * FROM `tbsub_module` where parent_id='$result->id'");
      while($row=mysql_fetch_array($sql)){
         echo $row['subcateg_name'];
      }
} 
```

我知道这是错误的。但这是我知道解决问题的唯一方法。我想遵循 MVC 规则，我也想使用 CodeIgniter 的库

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-20T06:54:33.750

转到此 CI 文档[http://codeigniter.com/user_guide/database/index.html](http://codeigniter.com/user_guide/database/index.html) CI 中提供了所有 DB 方法。

这里可能是工作（未经测试）的方式来做你的查询..

```
$query = $this->db->get('modules');  ## SELECTIN all records from modules table
foreach ($query->result() as $row)
{
    $query2 = $this->db->get_where('tbsub_module', array('parent_id' => $row->id));
        foreach ($query2->result() as $row2)
        {
            echo $row2->subcateg_name;
        }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-20T12:40:39.273

您只需要将数据从控制器传递到您的视图。你基本上打破了 MVC 的整个想法。查询应该在模型中，由控制器调用，然后传递给视图。我不会解决这个问题（我累了......），但这基本上就是你想要的。

控制器：

```
function whateverTheViewIs()
{
    $this->load->model('categories');
    $data['subCatName'] = $this->categories->getSubcats();
    $this->load->view('viewName',$data);
} 
```

型号类别：

```
function getSubCats()
{
   run your query here, return array of whatever data you need.
} 
```

视图名称：

```
foreach($subCat as $subcateg)
{
    echo $subcateg['subcateg_name'];
} 
```

如果您也需要该模块，您可以将其加载到控制器中的另一个 $data['whatever'] 数组中并以相同的方式传递它。

# android - 如何将图像保存为 RelativeLayout

> ID：12986019
> 
> 赞同：2
> 
> 时间：2012-10-20T06:49:00.720
> 
> 标签：android

如何将相对布局保存为位图图像......？在运行时，我将图像添加到相对布局中。然后如何将其保存为位图图像。

我对这个概念一无所知......请为此提出解决方案。

谢谢你。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-20T07:00:38.557

创建一个 XML 文件：

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
       android:id="@+id/rlid"
       android:layout_width="fill_parent"
       android:layout_height="fill_parent"/> 
```

然后在您的活动中使用此代码：

```
View content = findViewById(R.id.rlid);
content.setDrawingCacheEnabled(true);
Bitmap bitmap = content.getDrawingCache();
File file = new File("/sdcard/" + yourimagename + ".png");
try {
    if (!file.exists()) {
        file.createNewFile();
    }
    FileOutputStream ostream = new FileOutputStream(file);
    bitmap.compress(CompressFormat.PNG, 10, ostream);
    ostream.close();
    content.invalidate();
} catch (Exception e) {
    e.printStackTrace();
} finally {
        content.setDrawingCacheEnabled(false);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-20T07:03:12.007

试试这个：在相对布局中放置一个按钮，然后执行此处理存储在 sdcard 中的图像

```
 btn1.setOnClickListener(new OnClickListener() {

        @Override
        public void onClick(View v) {
            view.setDrawingCacheEnabled(true);
            view.buildDrawingCache();
            bm = view.getDrawingCache();

            String root = Environment.getExternalStorageDirectory()
                    .toString();
            File myDir = new File(root + "/_images");
            myDir.mkdirs();
            Random generator = new Random();
            int n = 10000;
            n = generator.nextInt(n);
            String fname = "Image-" + n + ".jpg";
            file = new File(myDir, fname);

            Log.i(TAG, "" + file);

            if (file.exists())
                file.delete();
            try {
                FileOutputStream out = new FileOutputStream(file);
                bm.compress(Bitmap.CompressFormat.JPEG, 90, out);
                out.flush();
                out.close();

            } catch (Exception e) {
                e.printStackTrace();
            }
        }
    }); 
```

# flex4.5 - 无法在 flex 4.5 中使用列表控件

> ID：12986021
> 
> 赞同：0
> 
> 时间：2012-10-20T06:49:20.440
> 
> 标签：flex4.5, flex-mobile

当我为 dataProvider 提供新值时，我想在列表中选择该新项目，但它选择了首先选择的项目，以及如何在应用程序启动时永久选择该项目。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-22T08:07:00.443

添加到 dataProvider 后，如果要选择列表项。可能你遵循这个

```
list.selectedIndex = list.dataProvider.length -1; 
```

有时，如果您在所需位置添加，例如

```
 list.dataProvider.setItemAt(obj,2); 

 list.selectedIndex = 2 
```

如果您想在 App 启动时永久选择项目。（确保您的数组集合可绑定到列表）

```
 public function onCreationComplete(event:FlexEvent):void
{
    callLater(function():void
    {
        list.selectedIndex = list.dataProvider.length -1;
        list.ensureIndexIsVisible(list.selectedIndex); // Viewport
    });
} 
```

# wpf - WPF Combobox 绑定 vb.net 中的国家/地区列表

> ID：12986025
> 
> 赞同：0
> 
> 时间：2012-10-20T06:49:42.953
> 
> 标签：wpf, xml, vb.net, data-binding, combobox

我有一个 WPF 组合框

```
 <ComboBox x:Name="tCountry" HorizontalAlignment="Left" Margin="96,151,0,0" VerticalAlignment="Top" Width="146" TabIndex="6"/> 
```

以及我从 unicode 中提取的一些 xml 数据（CLDRs）

```
<?xml version="1.0" encoding="UTF-8" ?>
<country>
    <territory type="AC">Ascension Island</territory>
    <territory type="AD">Andorra</territory>
    <territory type="AE">United Arab Emirates</territory>
    <territory type="AF">Afghanistan</territory>
    <territory type="AG">Antigua and Barbuda</territory>
    <territory type="AI">Anguilla</territory>
    <territory type="AL">Albania</territory>
    ....
</country> 
```

我怎样才能拥有它，以便在 Combobox 中填充这些国家/地区，以便我可以在他们在 vb.net 中提交数据时提取 2 个字母的 iso 代码

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-20T06:57:33.723

您可以使用 an`XmlDataProvider`从 XML 文件中检索字段：

```
<XmlDataProvider x:Key="xml" Source="data.xml" /> 
```

然后`XPath`使用`SelectedValuePath`属性绑定它：

```
<ComboBox ItemsSource="{Binding Source={StaticResource xml},XPath=/country/territory}" 
     SelectedValuePath="{Binding XPath=@type}" /> 
```

现在使用`SelectedValue`来获取缩写（或使用绑定）。

```
private void combo_SelectionChanged(object sender, SelectionChangedEventArgs e)
{
    MessageBox.Show((string)(sender as ComboBox).SelectedValue);
} 
```

# java - 存储为双精度数的两个递归数如何求和为整数

> ID：12986029
> 
> 赞同：5
> 
> 时间：2012-10-20T06:50:05.033
> 
> 标签：java, int, double

这只是出于好奇。如果我将两个递归数或无理数存储在两个双精度数中，然后执行一些操作，它如何产生实际结果？

例如，

```
double d1=7d/3;
double d2=5d/3;
double sum=d1+d2;
System.out.println(new BigDecimal(sum)); //prints exactly 4 
```

另一个：

```
double d1=log10(3);
double value=Math.pow(10,d1);
System.out.println(new BigDecimal(value)); //prints exactly 3 
```

这些准确的结果是如何产生的？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-20T07:03:35.413

如果你稍微修改你的代码，你会看到它`d1`并不`d2`完全是`7/3`or `5/3`。`d1+d2`确切的原因`4`是它`4`可以精确地表示为双精度，并且最接近此加法的确切结果。

```
public static void main(String[] args) throws Exception {
    double d1 = 7d / 3;
    double d2 = 5d / 3;
    System.out.println(new BigDecimal(d1)); //2.333333333333333481363069950020872056484222412109375
    System.out.println(new BigDecimal(d2)); //1.6666666666666667406815349750104360282421112060546875
    System.out.println(new BigDecimal(d1).add(new BigDecimal(d2))); //4.0000000000000002220446049250313080847263336181640625
    double sum = d1 + d2; 
    System.out.println(new BigDecimal(sum)); //4
} 
```

Java[遵循 IEEE 754 约定](http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.18.2-500)：

> 使用 IEEE 754 舍入到最近模式将总和舍入到所选值集中的最接近值

# java - 未在对象图上调用休眠验证器

> ID：12986030
> 
> 赞同：1
> 
> 时间：2012-10-20T06:50:08.597
> 
> 标签：java, spring, hibernate, bean-validation

我有一个模型对象，它具有用休眠验证注释注释的实体。例如@NotBlank、@NotNull、@Length。我有一个支持这个模型的表单，它装饰了模型对象的一个​​实例。我已经用@NotNull、@Valid 注释对这个实例进行了注释。我正在控制器类中为此支持表单注册一个验证器，并且当@RequestMapping 方法参数使用@Valid 注释进行注释时，将调用表单验证器。

请注意，模型还使用 @Entity 注释进行了注释，模型支持表单只是模型的一个薄包装。

但是没有检查装饰对象的验证？我知道这一点，因为在请求映射方法定义中，我检查了 BindResult 是否有错误，但没有。我的表单字段都是空的，因此应该检查带有 @NotBlank 注释的装饰模型上的字段的验证。然而，这不会发生。

你能帮我解决这个问题吗？

编辑：示例代码

```
@Entity
class MyModel {
    @Id
@GeneratedValue(strategy = GenerationType.AUTO)
    @Column(nullable=false)
    private Long id;

    @NotBlank
    @Column(unique=true, length=30, nullable=false)
    private String number;

    @Column(length=30, nullable=false)
    @Length(min=1, max=30)
private String firstName;
    /* ... getters and setters ... */
}

public class MyModelBackingForm {

   @NotNull
   @Valid
   private MyModel model;
   /* ... delegate getters and setters for all fields in MyModel ...  */
 } 
```

编辑：添加控制器代码

```
@InitBinder
protected void initBinder(WebDataBinder binder) {
  binder.setValidator(new MyBackingFormValidator());
} 
```

编辑：

```
public class MyBackingFormValidator implements Validator {

  public MyBackingFormValidator() {
    super();
  }

  @Override
  public boolean supports(Class<?> clazz) {
    return Arrays.asList(MyBackingForm.class, MyModel.class).contains(clazz);
  }

  @Override
  public void validate(Object obj, Errors errors) {
   // custom validation code commented ... as I want to check if JSR 303 validations invoked
  }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-20T07:31:40.473

这是我使用休眠验证方式的示例代码。我正在使用绑定结果对获取的对象调用@valid。这样它就知道需要在表单上进行的验证。编辑：如何调用自定义和标准验证器？

使用@InitBinder，我们可以传递自定义验证器实例，我们可以使用 binder.getValidator() 再次将标准验证器的类参数传递给该实例

礼貌：Rohit Banga

```
@Controller
@RequestMapping("/customer")
public class CustomerController { 
```

//编辑：

```
@InitBinder 
protected void initBinder(WebDataBinder binder) { 
binder.setValidator(new CustomFormValidator(binder.getValidator())); 
}

    @RequestMapping(value = "/signup", method = RequestMethod.POST)
    public String addCustomer(@Valid Customer customer, BindingResult result) {

        if (result.hasErrors()) {
            return "form";
        } else {
            return "success";
        }

    }

    @RequestMapping(method = RequestMethod.GET)
    public String customerForm(ModelMap model) {

        model.addAttribute("customer", new Customer());
        return "form";

    }

} 
```

# c# - 创建打印模板

> ID：12986031
> 
> 赞同：0
> 
> 时间：2012-10-20T06:50:22.467
> 
> 标签：c#, templates, xslt, printing

我有一个 Web 服务应用程序，我希望用户能够在我的项目中使用数据库字段占位符定义打印页面模板。因此，我必须为我的用户提供设计模板的环境。此模板必须保存在数据库中，然后进行打印，我从数据库中获取数据并将其放在占位符中。我发现“XSLT”可以有效解决这个问题，但一个大问题是 XSLT 的 Html 结果。如果有任何解决方案，请告诉我。

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-20T07:09:25.897

您可以做的是：创建一个 html 文件模板，在其中创建字段占位符。当您需要打印它时，从数据库加载数据，替换占位符，创建 html 文件，将其加载到 webbrowser 类（它不必有 UI）。然后从那里打印。

由于它是 html 文件，您也可以将其保存到数据库中。

它在我们的一个具有相同要求的项目中效果很好。

# cocos2d-iphone - 子选择器的 CCMenu 子未触发

> ID：12986034
> 
> 赞同：2
> 
> 时间：2012-10-20T06:50:41.790
> 
> 标签：cocos2d-iphone, ccmenuitem

我在具有选择器的 ccmenuitemsprite 中有一个带有 ccmenuitemsprite 的 ccmenu。我希望 child 的 child 成为一个触发选择器但不触发的播放按钮。

```
CCMenu *menu [CCMenu menuWithItems: nil];
CCMenuItem *bg = [CCMenuItemSprite itemFromNormalSprite:[CCSprite spriteWithFile:@"sprite_sheet.png" rect:CGRectMake(0,50,100,100)] 
                                         selectedSprite:nil 
                                         disabledSprite:nil 
                                                 target:self 
                                               selector:nil];
CCMenuItem *playBtn = [CCMenuItemSprite itemFromNormalSprite:[CCSprite spriteWithFile:@"sprite_sheet.png" rect:CGRectMake(0,0,50,50)] 
                                              selectedSprite:[CCSprite spriteWithFile:@"sprite_sheet.png" rect:CGRectMake(50,0,50,50)] 
                                              disabledSprite:[CCSprite spriteWithFile:@"sprite_sheet.png" rect:CGRectMake(100,0,50,50)] 
                                                      target:self 
                                                    selector:@selector(onPlay:)];
[bg addChild:playBtn];
[menu addChild:bg];
[self addChild:menu]; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-20T08:42:14.837

如果您想将图像名称作为参数传递，请使用以下代码：

```
CCMenuItem *playBtn = [CCMenuItemImage itemFromNormalImage:@"image.png"
                                             selectedImage:@"image_selected.png"
                                             disabledImage:@"image_disabled.png"
                                                    target:self
                                                  selector:@selector(onPlay:)]; 
```

您正在使用的构造函数需要 a `CCSprite`，而不是`NSString`.

* * *

好的，在您编辑完答案后，我仔细看了看，您`playBtn`拥有`bg`. 你不能那样做。只有 的直接子级`CCMenu`能够发送回调：

```
[menu addChild:playBtn]; 
```

我建议你实际上这样做：

```
CCMenuItem *playBtn = [CCMenuItemSprite itemFromNormalSprite:[CCSprite spriteWithFile:@"sprite_sheet.png" rect:CGRectMake(0,0,50,50)] 
                                              selectedSprite:[CCSprite spriteWithFile:@"sprite_sheet.png" rect:CGRectMake(50,0,50,50)] 
                                              disabledSprite:[CCSprite spriteWithFile:@"sprite_sheet.png" rect:CGRectMake(100,0,50,50)] 
                                                      target:self 
                                                    selector:@selector(onPlay:)];

CCMenu* menu = [CCMenu menuWithItems:playBtn, nil];

CCSprite* bg = [CCSprite spriteWithFile:@"sprite_sheet.png" rect:CGRectMake(0,50,100,100)];

[self addChild:bg];
[self addChild:menu]; 
```

# php - 断开的链接 .htaccess 问题

> ID：12986037
> 
> 赞同：0
> 
> 时间：2012-10-20T06:51:21.617
> 
> 标签：php, html, wordpress, .htaccess

我在损坏的链接检查器网站上检查了我的 WordPress 主题，它给了我一个损坏的 URL 列表。

看：

```
http://www.esmedicare.com/locations.html ( parent page: http://www.esmedicare.com/ )
http://www.esmedicare.com/laser-treatments/locations.html ( parent page: http://www.esmedicare.com/laser-treatments/ ) 
```

/location.html 的链接转到 404 页面，我想将这些页面重定向到它们的父页面。即只需从 URL 中删除 /location.html 并将这些重定向到括号中提到的父 URL。

我添加了代码：

```
RewriteEngine On
RewriteCond %{REQUEST_FILENAME} !-f
RewriteRule ^(.*)/locations.html$ /$1/ [L,R=301] 
```

到我的 .htaccess 文件，现在一些`/location.html`页面正在重定向到它们的父页面，但仍然不是全部。

请解决我的问题...我只想删除`/location.html`URL 中的最后一个。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-20T07:06:21.990

如果您需要包含 Web 根目录 ( `/`)，那么您需要将斜杠设为可选：

```
RewriteRule ^(.*?)/?locations.html$ /$1/ [L,R=301] 
```

# c# - 串口数据接收处理

> ID：12986038
> 
> 赞同：0
> 
> 时间：2012-10-20T06:51:22.320
> 
> 标签：c#, .net

我有一个表格，我可以在其中接收数据并将其显示在富文本框中，但我需要的是读取来自串行端口的连续数据并相应地解码。

例如：我正在接收格式为字节的数据，`36 0 0 0 1 0 0...., 36`用于指示帧的开始 n 其余是触发事件的数据。

我的代码：

```
 private void serialPort1_DataReceived(object sender,  System.IO.Ports.SerialDataReceivedEventArgs e)
 {
        // get number off bytes in buffer 
        Bytenumber = serialPort1.BytesToRead;

        // read one byte from buffer 
        ByteToRead = serialPort1.ReadByte();                     

        this.Invoke(new EventHandler(DoUpdate));            
    } 
```

上面的代码用于接收数据并触发事件。该事件的代码如下：

```
 int w=0;

 public void DoUpdate(object sender, System.EventArgs e)
 {
        byte[] t = new byte[Bytenumber];

        for(int g=0; g<Bytenumber;g++)
        {
           t[g] = Convert.ToByte(ByteToRead);
        }

        w++;

       // richTextBox1.Text += ByteToRead;
        if (ByteToRead == 36)
        {
            for (int r = 0; r <= 73; r++)
            {
                if (ByteToRead == 0x01)
                {   
                    timer1.Start();
                    w++;
                }
            }
        }
      } 
```

在我正在寻找的数据接收事件处理程序中`36`（即帧的开始），一旦我得到我正在从缓冲区中寻找 1 的信息。问题是当我得到`36`（即帧的开始）时，相同的数据保留在 if 循环中并尝试与 1 进行比较，这在任何情况下都不是真的。我只需要在获得 36 后读取来自缓冲区的下一个字节数据。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-20T07:14:38.400

我可以发现一些问题。一点代码审查：

```
 Bytenumber = serialPort1.BytesToRead; 
```

ByteNumber 是此时的 Bytes-to-Read。将其保存在成员字段中不是线程安全的。

```
 ByteToRead = serialPort1.ReadByte(); 
```

这只读取 1 个字节。然后，在另一个线程上：

```
 byte[] t = new byte[Bytenumber];   // ByteNumber may have changed already
    for(int g=0; g<Bytenumber;g++)
    {
        t[g] = Convert.ToByte(ByteToRead);   // store the _same_ byte in all elements
    } 
```

你应该做什么（不完整的代码）：

```
private void serialPort1_DataReceived(object sender,  System.IO.Ports.SerialDataReceivedEventArgs e)
{
    // get number off bytes in buffer 
    int n = serialPort1.BytesToRead;

    byte[] buffer = new byte[n];

    // read one byte from buffer 
    int bytesToProcess = serialPort1.Read(buffer, 0, n);                     

    this.Invoke(UpdateMethod, buffer, bytesToProcess);            

} 
```

但是一定要在互联网上搜索工作代码。我只是编造了这个。

# mysql - mysql 1064 错误 你的 SQL 语法有错误；

> ID：12986039
> 
> 赞同：1
> 
> 时间：2012-10-20T06:51:23.950
> 
> 标签：mysql

在 phpmyadmin 中创建表显示以下错误！[在此处输入图像描述][1] 错误

SQL查询：

```
CREATE TABLE `user` (
`usrID` BIGINT( 11 ) NOT NULL ,
`name` VARCHAR( 100 ) NOT NULL ,
`email` VARCHAR( 100 ) NOT NULL ,
`mobile` VARCHAR( 10 ) NOT NULL ,
`gender` CHAR( 10 ) NOT NULL ,
`countryID` INT( 11 ) NULL ,
`stateID` INT( 11 ) NULL ,
`cityID` INT( 11 ) NULL ,
`pincode` VARCHAR( 6 ) NULL ,
`place` VARCHAR( 100 ) NULL ,
`address` VARCHAR( 200 ) NULL ,
`usertype` VARCHAR( 5 ) NULL ,
`pass` VARCHAR( 20 ) NULL ,
`edate` DATETIME NULL ,
`eusrID` INT( 11 ) NULL ,
`busrID` INT( 11 ) NULL ,
`adminID` INT( 11 ) NULL ,
`active` SET( 1 ) NOT NULL
) ENGINE = innodb 
```

MySQL 说：文档

> `#1064`- 您的 SQL 语法有错误；检查与您的 MySQL 服务器版本相对应的手册，以在第 1 行的 '1) NOT NULL) ENGINE = innodb' 附近使用正确的语法

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-20T06:53:50.523

的值`1`应该用单引号括起来。[有关详细信息，请参见此处。](http://dev.mysql.com/doc/refman/5.0/en/set.html)

```
`active` SET( '1' ) NOT NULL 
```

# [SQLFiddle 演示](http://sqlfiddle.com/#!2/638ed)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-20T07:05:57.467

[`SET`](http://dev.mysql.com/doc/refman/5.0/en/set.html)例如，为该列获取许多可能的字符串值；

```
`color` SET('red', 'green', 'blue') 
```

这意味着该列可以具有值`'red'`,`'red,blue'`等`'red,green,blue'`。

你的定义；

```
`active` SET(1) 
```

真的没有任何意义。您正在寻找一个布尔标志 ( `INT(1)`) 或者您需要列出该字段可能具有的值。请注意，这`SET('yes','no')`将允许所有值`'yes'`和（组合） `'no'`，`'yes,no'`这可能不是`active`标志的最佳选择。

# operating-system - 关于程序执行流程的问题

> ID：12986041
> 
> 赞同：1
> 
> 时间：2012-10-20T06:51:36.280
> 
> 标签：operating-system, memory-address

我正在研究 galvin 第六版的操作系统概念，我对程序的执行流程有一些疑问。一张图将用户程序的处理解释为：

![用户程序的多步处理](../Images/d2c957fc7ab42c8a51f605ba0aaeb169.png)

当我们到达**链接编辑器**点时，我们得到一个可执行的二进制文件。正如书中所说，**“必须将程序放入内存并放入进程中才能执行”**现在我的一些愚蠢问题是：

1.  在程序加载到内存之前，联动编辑器生成的二进制可执行文件存储在硬盘中。二进制可执行文件存储在硬盘中的地址是CPU生成的逻辑地址？

2.  如果前面的答案是肯定的，为什么 CPU 必须生成逻辑地址？我的意思是可执行文件存储在与地址相关的硬盘中的某个位置，为什么CPU必须单独执行这些东西？CPU的主要目的毕竟是处理！

3.  为什么可执行文件需要在物理内存即ram中，不能在硬盘中执行？是不是因为速度问题？

我知道我问这些问题很愚蠢，但相信我，我找不到答案！:|

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-20T07:10:13.470

1) 二进制文件在硬盘中存储的逻辑地址是由用于管理磁盘中文件`file system`的`Operating System`组件决定的。

2) & 3) 硬盘 a) 不够快 b) 不支持字寻址。硬盘在扇区块中寻址。通常扇区大小为 512 字节。CPU 需要能够对程序中的每个机器字进行寻址才能执行它。因此，程序存储在硬盘中，即使断电也会保留其内容（与断电时会丢失内容的 RAM 形成对比）。然后程序被加载到 RAM 中执行。在程序完成并可能将其执行结果存储在硬盘中后，释放内存以运行其他程序。示例中的编译器和链接编辑器也是程序。它们保存在硬盘中。编译器从硬盘中的文件中获取其输入（程序的源文本）。然后它存储目标文件。联动编辑器，

# command-line - 从 Windows 命令提示符向 tcplistener 发送诸如“PWD”之类的 keepalive 命令

> ID：12986046
> 
> 赞同：0
> 
> 时间：2012-10-20T06:52:09.237
> 
> 标签：command-line, azure, timeout, ftp-client

由于我在 Azure 辅助角色中实现了 TCP 侦听器，以侦听端口 21 上的传入请求。

从 Windows 命令提示符（cmd.exe）连接到 FTP 时，连接成功。

但是，当我对 600MB 这样的大文件发出 PUT 命令时，比如

```
 ftp>> put localfile remotefile 
```

数据传输1分钟后，连接断开，错误为“连接被主机关闭”。由于在大数据传输过程中，FTP的控制连接会空闲。

我怀疑由于 Azure 负载均衡器终止了空闲 1 分钟的连接。

您的任何输入是否是终止连接的 Azure 负载平衡器，或者 Windows 上是否有任何注册表设置，我可以增加 ftp 客户端的超时时间，或者任何会杀死空闲连接的防火墙设置。

我尝试使用以下代码将保持活动消息从 tcpclient 发送到 tcplistener，但未能成功。

```
 int size = sizeof(UInt32);
                UInt32 on = 1;
                UInt32 keepAliveInterval = 10000; //Send a packet once every 10 seconds.
                UInt32 retryInterval = 1000; //If no response, resend every second.
                byte[] inArray = new byte[size * 3];
                Array.Copy(BitConverter.GetBytes(on), 0, inArray, 0, size);
                Array.Copy(BitConverter.GetBytes(keepAliveInterval), 0, inArray, size, size);
                Array.Copy(BitConverter.GetBytes(retryInterval), 0, inArray, size * 2, size); 
```

Connection.OutboundTcpClient.Client.SetSocketOption(SocketOptionLevel.Socket, SocketOptionName.KeepAlive, True) Connection.OutboundTcpClient.Client.IOControl(IOControlCode.KeepAliveValues, inArray,null);

# c# - 需要函数来获取当前一周的第一天和最后一天

> ID：12986047
> 
> 赞同：0
> 
> 时间：2012-10-20T06:52:22.287
> 
> 标签：c#, datetime, datetime-format, dayofweek

我有两个标签第一天和最后一天，我想在按钮单击时更新它。

我需要获取当前日期的第一天和最后一天的功能，以便我可以在单击下一个和上一个按钮时显示它。

这是我到目前为止所拥有的：

```
CultureInfo cultureInfo = CultureInfo.CurrentCulture; 
DayOfWeek firstDay = cultureInfo.DateTimeFormat.FirstDayOfWeek; 
firstDayInWeek = dayInWeek.Date; 
lastDayInWeek = dayInWeek.Date; 
while (firstDayInWeek.DayOfWeek != firstDay) 
    firstDayInWeek = firstDayInWeek.AddDays(-1); 
```

但不给我这个月之后的下周。

这正是我正在寻找的：

![](../Images/bb9b63c04d43660192f129f1967f60dd.png)

任何人都可以使用一个函数来帮助完成这项工作。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2015-03-04T09:57:05.037

```
DateTime baseDate = DateTime.Now;
var thisWeekStart = baseDate.AddDays(-(int)baseDate.DayOfWeek);
var thisWeekEnd = thisWeekStart.AddDays(7).AddSeconds(-1); 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-10-25T09:38:25.063

尝试这个 ：

```
private static void GetWeek(DateTime now, CultureInfo cultureInfo, out DateTime begining, out DateTime end)
{
    if (now == null)
        throw new ArgumentNullException("now");
    if (cultureInfo == null)
        throw new ArgumentNullException("cultureInfo");

    var firstDayOfWeek = cultureInfo.DateTimeFormat.FirstDayOfWeek;

    int offset = firstDayOfWeek - now.DayOfWeek;
    if (offset != 1)
    {
        DateTime weekStart = now.AddDays(offset);
        DateTime endOfWeek = weekStart.AddDays(6);
        begining = weekStart;
        end = endOfWeek;
    }
    else
    {
        begining = now.AddDays(-6);
        end = now;
    }
} 
```

使用示例：

```
DateTime begining;
DateTime end;

var testDate = new DateTime(2012, 10, 10);
GetWeek(testDate, new CultureInfo("fr-FR"), out begining, out end);
Console.WriteLine("Week {0} - {1}", 
                  begining.ToShortDateString(), 
                  end.ToShortDateString()); // will output Week 10/8/2012 - 10/14/2012 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-20T07:02:29.260

因此，只需单击按钮，您就有一周的时间。可以说这是由开始日期定义的。DateTime 结构有一个属性 DayOfWeek，它返回像 DayOfWeek.Sunday 这样的枚举。所以这里有一个可能有帮助的代码片段：

```
var startOfWeek = DateTime(xx, yy ...); // defined by your business code

var firstDayOfWeek = startOfWeek.DayOfWeek;
var lastDayOfWeek = firstDayOfWeek.AddDays(6).DayOfWeek; 
```

我还没有直接编译这段代码，所以希望它没问题。

# weka - Weka CSV 到 Arff 的转换：IllegalArgumentException：属性名称不是唯一的

> ID：12986051
> 
> 赞同：7
> 
> 时间：2012-10-20T06:52:58.097
> 
> 标签：weka

我从[http://yann.lecun.com/exdb/mnist/index.html](http://yann.lecun.com/exdb/mnist/index.html)下载了一个 Csv 文件。我需要将其转换为 arff 文件格式。

我试着跑步

```
java weka.core.converters.CSVLoader /home/saket/Documents/Assignment/NIST7000 > /home/saket/Documents/Myfile.arff 
```

但它给出了以下错误

```
java.lang.IllegalArgumentException: Attribute names are not unique! Causes: '0' '0' '0' '0' '0' '0' '0' 
```

然后我尝试使用[http://weka.wikispaces.com/Converting+CSV+to+ARFF](http://weka.wikispaces.com/Converting+CSV+to+ARFF) java 代码。但是仍然出现同样的错误。

有人可以建议我做错了什么

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-21T18:46:02.987

csv 中没有标题字段。所以我创建了一个脚本，并在 Csv 文件的第一行添加了 column0,column1,...,class。然后在 weka 中打开生成的 csv 文件。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2017-03-02T23:47:41.980

我遇到了同样的异常，但原因不同。我使用“类”作为属性名称，但这个词也作为字符串出现在我的数据中（@data 之后），并且 Weka 没有正确分隔属性和数据。只需将“class”属性重命名为“s_label”之类的其他名称即可解决。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-04-23T12:09:59.110

当属性名称相同时会发生这种情况，在 Excel 工作表的多列中。只需重命名相同的列名。它应该是唯一的。我更改了我的第三列名称，它是相同的。请查看随附的屏幕截图。对于大型数据集，这也可以通过脚本完成。这对我有用。[![在此处输入图像描述](../Images/8f0ac078015d20bc9f44057244a16581.png)](https://i.stack.imgur.com/HHzkR.png)

[![在此处输入图像描述](../Images/9b1ec4ab478bd2f837775e212684ac3b.png)](https://i.stack.imgur.com/qXOzT.png)

# iphone - 如何始终显示地图视图标注？

> ID：12986053
> 
> 赞同：1
> 
> 时间：2012-10-20T06:53:34.323
> 
> 标签：iphone, ios, mkmapview

如何始终在地图视图中显示标注？如果我们点击地图视图标注隐藏并再次点击其显示的图钉。我不想这样..，我需要总是显示标注，而不是隐藏。这个怎么做。请帮我。我正在使用下面的代码来显示标注。它不能正常工作。

```
[mapView selectAnnotation:addAnnotation animated:NO];
annotationView.canShowCallout   = YES; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-20T07:07:49.467

好吧，您可以通过使用`delegate`方法来做到这一点`didDeselectAnnotationView`，并在像这样取消选择时`MKMapView`选择相同的方法-`annotation`

```
- (void)mapView:(MKMapView *)mapView didDeselectAnnotationView:(MKAnnotationView *)view
{
    [mapView selectAnnotation:view.annotation animated:FALSE];
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-20T07:00:33.087

The callout is shown when an `MKAnnotationView`is selected and the view's `canShowCallout`property is set to `YES`.

然后在`MKAnnotationView`取消选择时将其隐藏。这通过点击另一个注释视图或通过在当前选定的注释视图之外点击来实现。

作为`MKMapView`(conforming to `MKMapViewDelegate`) 的代表，您会在选择和取消选择注释视图时被告知，但为时已晚。

如果您不想取消选择注释视图，则应子类`MKAnnotationView`化并覆盖该`setSelected:animated:`方法并停止取消选择注释视图。

**编辑：**

如果您的代码中有此方法，请删除它

```
- (void)deselectAnnotation:(id < MKAnnotation >)annotation animated:(BOOL)animated 
```

# mysql - 在插入之前检查数据是否存在并返回真/假？

> ID：12986057
> 
> 赞同：0
> 
> 时间：2012-10-20T06:53:56.457
> 
> 标签：mysql, insert

**解决方案：**

在多列上放置唯一约束

```
ALTER TABLE rating ADD UNIQUE KEY ( id , id ); 
```

* * *

我想在我的评分系统中插入一个分数。如果数据不存在，我希望能够插入数据。**如果确实**存在，我还希望相同的查询返回真/假。

我调查`INSERT IGNORE`过，但默默地失败了，所以我不知道如何检查。

我知道我可以尝试 a`SELECT ... WHERE id = 1`和 THAN 插入，但我想将其移至单个插入，这可能吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-20T06:57:02.570

如果您在要检查的一个或多个列上使用唯一键约束，则如果没有数据，则正常插入将成功，或者如果已经有匹配项，则由于唯一键约束而嘈杂地失败。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-20T07:01:35.440

```
INSERT INTO `rating` (value1) 
SELECT 'your rate for  value1' FROM `rating` 
WHERE NOT EXISTS (SELECT * FROM `rating` 
WHERE value1='your rate for  value1' ) LIMIT 1; 
```

# svn - 在 subversion 1.7 中读取 Berkeley DB

> ID：12986059
> 
> 赞同：1
> 
> 时间：2012-10-20T06:54:05.907
> 
> 标签：svn, berkeley-db, fsfs

我有一个使用 Berkeley DB 格式的传统颠覆数据库。当我为 Subversion 加载当前的 Windows 二进制文件 (1.7.x) 时，似乎没有一个发行版支持开箱即用的 Berkeley DB。那么，由于我没有早期版本的 Subversion 的副本，我该如何检索数据呢？我不介意转换为 FSFS，但我无法进行初始转储，因为 Subversion 无法读取它（错误消息“无法为 FS 类型 'bdb' 加载模块。”）。

关于我可以下载什么来检索我的数据的任何建议？谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-20T11:02:43.860

你需要找到一个旧版本的 Subversion，或者找到一个支持 BDB 的当前版本。离开 BDB 是明智之举。

从 CollabNet尝试[1.6.x](http://www.collab.net/downloads/svn-other)

# php - CakePHP / PHP If 语句用户登录错误/问题 - 两个条件都设置为真？

> ID：12986067
> 
> 赞同：0
> 
> 时间：2012-10-20T06:54:44.363
> 
> 标签：php, cakephp, if-statement, login

我正在使用 CakePHP 2.2.2 并用它构建会话信息，以存储所有用户的登录详细信息，以便我可以通过我的整个站点访问它们。我写的代码如下：

```
 if (($GetPass == $this->data['Menu']['password'] && $GetUsers == $this->data['Menu']['username'])) {
        $this->Session->write('LoginData', array(
                    'FristName' => $SQL[$key]['User']['fristname'],
                    'SurName' => $SQL[$key]['User']['surname'],
                    'UserName' => $SQL[$key]['User']['username'],
                    'AccessLevel' => $SQL[$key]['Role']['title'],
                    'Email' => $SQL[$key]['User']['email']
                    ));
    } else {
       $this->Session->setFlash('Sorry Login Details Do Not Match Our Records', array('element' => 'failure'));

    } 
```

我遇到的问题是让我陷入困境，这两个条件总是正确的。那么即使用户名和密码在数据库中，它仍然在设置闪存消息吗？我就是不明白为什么？if 语句的“else”部分仅应在 if 语句中设置的条件为假时运行，对吗？那么为什么我的闪信总是被设置呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-20T11:31:31.803

可能有两个原因，首先，您从 CakePHP 模型获得的密码字段可能被加密。使用`debug($GetPass);`并检查它是否已加密。其次，您尝试在控制器中使用 $this->data 应该是`$this->request->data`. 此处给出了执行您尝试执行的操作的标准方法：http: [//book.cakephp.org/2.0/en/tutorials-and-examples/blog-auth-example/auth.html](http://book.cakephp.org/2.0/en/tutorials-and-examples/blog-auth-example/auth.html)

# javascript - 如何计算从今天到给定日期和getTime（）代码之间的天数？

> ID：12986068
> 
> 赞同：4
> 
> 时间：2012-10-20T06:54:51.510
> 
> 标签：javascript, extjs

我想计算今天和给定日期之间的天数，并检查距离今天还有多少天或从今天过去多少天。

```
var today = new Date();
var date_to_reply = new Date('2012-10-15');
var timeinmilisec = today.getTime() - date_to_reply.getTime();
console.log( Math.floor(timeinmilisec / (1000 * 60 * 60 * 24)) ); 
```

这给了我**5**作为答案，但是由于 date_to_reply 从今天起已经过去了5 天，我应该如何得到**(-5) ？**

这是计算任何给定日期的正确方法吗？

问候

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-20T07:02:50.010

你所做的是正确的：你想计算两个日期之间的**差异**（天数）。差值不能小于零。

虽然你`date_to_reply`已经过去了，但仍然有 5 天的差异。

所以，一切都很好 - 这是正确的方法。

编辑：如果你想要一个负值作为结果，试试这个：

```
var today = new Date();
var date_to_reply = new Date('2012-10-15');
var timeinmilisec = date_to_reply.getTime() - today.getTime();
console.log( Math.ceil(timeinmilisec / (1000 * 60 * 60 * 24)) ); 
```

请记住，您需要`Math.ceil`得到最终结果，而不是使用`Math.floor()`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-20T07:04:41.227

如果您希望该值为负数（表示`date_to_reply`过去），则应从当前日期中减去过去日期：`date_to_reply.getTime() - today.getTime()`。

检查[此链接](http://www.htmlgoodies.com/html5/javascript/calculating-the-difference-between-two-dates-in-javascript.html#fbid=-d7WptXGPzn)以了解计算更多差异化结果的方法。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-20T07:06:44.393

如果你交换日期的顺序，你会得到你想要的负数。

更好的是，您可以编写一个执行此操作的函数。

它可以从第二个参数中减去第一个参数。

第二个参数可以默认为今天。

```
function diffDates(dateOne, dateTwo) {
    if (typeof dateTwo === 'undefined') {
        dateTwo = new Date();
    }
    return dateOne.getTime() - dateTwo.getTime();
} 
```

让函数对数字而不是日期进行操作会更好。

那会更灵活，但我现在正在 iPad 上打字！

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-20T07:10:11.227

这很明显，因为今天的日期比以前的大。因此，要么您需要自己将其设为负数，要么使用它

```
var timeinmilisec = date_to_reply.getTime()-today.getTime(); 
```

# java - 将 ActionListeners 添加到直接添加到容器中的按钮

> ID：12986069
> 
> 赞同：1
> 
> 时间：2012-10-20T06:54:59.767
> 
> 标签：java, awt, actionlistener, grid-layout

我试图创建一个自定义 JPanel，我将其添加到我的 GUI 设置中的卡片布局中。在这个自定义布局中，我使用网格布局并将按钮直接添加到容器中。我现在需要向这些按钮添加动作侦听器，但不知道如何。任何帮助将不胜感激，请在下面找到自定义类。

```
import java.awt.*; import java.awt.event.*; import javax.swing.*;

public class PuzzleSudokuPanel extends JPanel{
  int[][] grid =     
{{0, 0, 0, 5, 0, 0, 8, 3, 1},
 {0, 5, 3, 0, 0, 8, 7, 0, 0},      
 {7, 0, 0, 0, 4, 2, 0, 6, 0},
 {0, 0, 9, 0, 3, 0, 0, 7, 8},
 {0, 0, 2, 4, 0, 6, 1, 0, 0},
 {6, 3, 0, 0, 9, 0, 2, 0, 0},
 {0, 1, 0, 7, 6, 0, 0, 0, 9},
 {0, 0, 4, 9, 0, 0, 5, 8, 0},
 {2, 9, 7, 0, 0, 3, 0, 0, 0}};
Container myGrid = new Container();

public PuzzleSudokuPanel ()throws NullPointerException{
  try{
    for(int i = 0; i<9; i++){
      for(int j = 0; j<9; j++){
        String appropriateNumber = convertSimple(grid[i][j]);
        myGrid.add(new JButton(appropriateNumber));
      }
    }
  }
  catch(NullPointerException e){

  }
  myGrid.setLayout(new GridLayout(9, 9));
  myGrid.setPreferredSize (new Dimension(400, 400)); 

  add(myGrid);
  }
    public static String convertSimple(int a){
    return ("" + a);
  }
} 
```

[编辑]

卡尔库罗代码：

```
import java.awt.*; import java.awt.event.*; import javax.swing.*;

 public class PuzzleCalkuroPanel extends JPanel{
  String[][] grid =     
  {{"3/", "3/", "3-", "8x"},
    {"9+", "9+", "3-", "8x"},      
    {"9+", "9+2", "9+2", "8x"},
    {"1", "9+2", "1-", "1-"}};
  Container myGrid = new Container();

  public PuzzleCalkuroPanel ()throws NullPointerException{
    try{
      for(int i = 0; i<4; i++){
        for(int j = 0; j<4; j++){
          JButton button = new JButton(grid[i][j]);
          button.addActionListener(new calkuroListener());
          myGrid.add(new JButton(grid[i][j]));
        }
      }
    }
    catch(NullPointerException e){

    }
    myGrid.setLayout(new GridLayout(4, 4));
    myGrid.setPreferredSize (new Dimension(400, 400)); 

    add(myGrid);
  }
  private class calkuroListener implements ActionListener{
    public void actionPerformed (ActionEvent event){
      String numStr = JOptionPane.showInputDialog("Enter a number to change to: ");
      JOptionPane.showMessageDialog(null, numStr);
    }
  }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-20T07:00:14.147

代替...

```
myGrid.add(new JButton(appropriateNumber)); 
```

做...

```
JButton button = new JButton(appropriateNumber);
button.addActionListener(...);
myGrid.add(button); 
```

**更新**

这就是你正在做的...

```
JButton button = new JButton(grid[i][j]); // Create button here, good...
button.addActionListener(new calkuroListener()); // Add listener here, good...
myGrid.add(new JButton(grid[i][j])); // Create a new button here, bad... 
```

这是你应该做的

```
JButton button = new JButton(grid[i][j]); // Create button here, good...
button.addActionListener(new calkuroListener()); // Add listener here, good...
myGrid.add(button); // Add button here, good... 
```

# php - php 文件上传器 basenam

> ID：12986070
> 
> 赞同：0
> 
> 时间：2012-10-20T06:55:12.053
> 
> 标签：php

嘿伙计们，我已经创建了 jquery ajax 文件上传器，但是我有一个问题，那就是服务器端，它会覆盖任何具有相同名称的文件并且我将生成一个随机数，这应该与另一个不同一个但是所以我的上传者的代码是

```
<?php
$target_path = "/var/www/vhosts/grubber.co.nz/httpdocs/developer/_social_development/uploads/blog/";
$target_path = $target_path . basename( $_FILES['img']['name']); 

if (file_exists($target_path)) {
    echo "The file $filename exists";
    $target_path = "/var/www/vhosts/grubber.co.nz/httpdocs/developer/_social_development/uploads/blog/" . basename( $_FILES['img']['name']); 
} else {
    echo "The file $filename does not exist";
}

if(move_uploaded_file($_FILES['img']['tmp_name'], $target_path)) {
    echo "The file ".  basename( $_FILES['img']['name']). 
    " has been uploaded";
} else{
    echo "There was an error uploading the file, please try again!";
}
?> 
```

问题，我希望它检查文件是否存在以及是否生成随机数并将其添加到名称中？如果不只是继续并写入文件。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-20T07:09:04.053

一种解决方案是在文件名前面加上一些唯一的数字。

您可以使用 uniqid() 函数。[http://php.net/manual/en/function.uniqid.php](http://php.net/manual/en/function.uniqid.php)

```
<?php
$target_path = "/var/www/vhosts/grubber.co.nz/httpdocs/developer/_social_development/uploads/blog/";
$target_path = $target_path . basename( $_FILES['img']['name']); 

if (file_exists($target_path)) {
    echo "The file $filename exists";
    $target_path = "/var/www/vhosts/grubber.co.nz/httpdocs/developer/_social_development/uploads/blog/" .uniqid().basename( $_FILES['img']['name']); 
} else {
    echo "The file $filename does not exist";
}

if(move_uploaded_file($_FILES['img']['tmp_name'], $target_path)) {
    echo "The file ".basename( $_FILES['img']['name']). 
    " has been uploaded";
} else{
    echo "There was an error uploading the file, please try again!";
}
?> 
```

# jquery - 如何使用 jquery datepicker 获取选定日期的值

> ID：12986071
> 
> 赞同：0
> 
> 时间：2012-10-20T06:55:12.620
> 
> 标签：jquery, jquery-ui, datepicker, jquery-ui-datepicker

一段时间以来，我一直在相当成功地使用 jQuery datepicker。但是，由于我已经开始向我的网站添加更多功能，我需要稍微扩展一下这个功能。我需要能够获取当前选择的日期的值。我的代码如下：

```
$(document).ready(function() {
        $("#datepicker").datepicker({
            dateFormat: "d MM yy",
            onSelect: function(dateText) 
            { 
                var url = "schedule_backend.php";
                var league = "I need help";
                var data = "date="+ dateText +"&league="+ league;
                $(".schedule_block").load(url, data);
            }
        });

        $("#division_change").change(function() {
            var url = "schedule_backend.php";
            var league = $('input:radio[name=league]:checked', '#league_form').val();
            var date = "I need help";
            var data = 'date='+ date +'&league='+ league;

            $('.schedule_block').load(url, data);
        });
    });

<div class="schedule_block">

</div>

<div id="datepicker">

</div>

<form id="league_form">
    <h1 style="padding:3px;">
        <input type="radio" checked="true" name="league" value="mlb" id="mlb"/> <img src="/img/misc/mlb.png" width="35" height="35" alt="mlb" title="MLB" class="telephone"/> <span style="color:#090127;font-weight:bold;">MLB</span> <br />
    </h1>
    <h1 style="padding:3px;">
        <input type="radio" name="league" value="nfl" id="nfl"/> <img src="/img/nfl/misc/nfl.png" width="35" height="35" alt="nfl" title="NFL" class="telephone"/> <span style="color:#090127;font-weight:bold;">NFL</span> <br />
    </h1>
    <h1 style="padding:3px;">
        <input type="radio" name="league" value="nba" id="nba"/> <img src="/img/nba/misc/nba.png" width="35" height="35" alt="nfl" title="NBA" class="telephone"/> <span style="color:#090127;font-weight:bold;">NBA</span>
    </h1>
    <h1 style="padding:3px;">
        <input type="radio" name="league" value="ncaa" id="ncaa"/> <img src="/img/ncaa/misc/ncaa.png" width="35" height="35" alt="ncaa" title="NCAA" class="telephone"/> <span style="color:#090127;font-weight:bold;">NCAA</span>
    </h1>
</form> 
```

除了 datepicker 函数的 onSelect 选项之外，我还有其他方法可以获取当前选择的值吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-20T07:05:24.617

试试看

```
$('.selector').datepicker({
   onSelect: function(dateText, inst) { ... }
}); 
```

检查这个[jquery.datePicker 示例： datePicker into selects](http://www.kelvinluck.com/assets/jquery/datePicker/v2/demo/datePickerIntoSelects.html)

# java - 如何将不同方案的两个事务合并为一个？

> ID：12986073
> 
> 赞同：3
> 
> 时间：2012-10-20T06:56:02.680
> 
> 标签：java, oracle, hibernate, jpa, persistence

有这样的代码：

```
ATransaction.commit ();
BTransaction.commit (); 
```

两个事务都使用不同的方案（即它们不同的持久性单元）。有必要将两者结合在一个事务中。因此，如果任何一个事务都无法回滚两者。怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-20T08:37:40.190

似乎您正在自己管理交易。通常，Java EE 容器会为您处理此类情况。JTA 在这种情况下使用两阶段提交，这正是这种情况。

如果您自己管理交易，那就有点复杂了。问题是，如果您提交第一个并且第二个提交失败，您将无法再回滚第一个。

在你的情况下，我建议如下。通常，提交只能失败，因为如果您修改对象，Hibernate 不会立即将更改写入数据库。当 Hibernate 执行“刷新”时会发生这种情况。这是在执行查询之前自动完成的，这可能会受到您已经修改的对象的影响，并且在事务提交之前也是如此。

因此，您可以先简单地刷新两个实体管理器，这会将所有更改写入两个数据库，然后提交两个事务，这不应该再失败了。

像这样的东西：

```
entityManager1.flush();
entityManager2.flush();
entityManager1.getTransaction().commit();
entityManager2.getTransaction().commit(); 
```

但是，我建议不要手动管理此类情况，而是让容器执行此操作。

# java - 如果先前打开的外壳不显示另一个外壳，则仅显示一个外壳

> ID：12986080
> 
> 赞同：4
> 
> 时间：2012-10-20T06:57:19.060
> 
> 标签：java, swt, eclipse-rcp, balloon

我正在开发一个 rcp 应用程序。我正在使用 Novocode swt 气球窗口。我需要在按钮单击时显示一个 BaloonWindow。但是每当我每次单击按钮时都会创建一个新的气球窗口

我的代码如下

```
public Object execute(ExecutionEvent event) throws ExecutionException {
    try {
        BalloonWindow baloonWindow=new BalloonWindow(HandlerUtil.getActiveWorkbenchWindow(event).getShell(),SWT.ON_TOP|SWT.TOOL|SWT.CLOSE);
        baloonWindow.setText("XYZ");            
        baloonWindow.setAnchor(SWT.RIGHT|SWT.TOP);
        baloonWindow.setLocation(1290, 90);
        Composite c = baloonWindow.getContents();
        String array[]=new String[2];               
        array[0]="A";
        array[1]="B";                       
        c.setLayout(new FillLayout());
        TableViewer t=new TableViewer(c,SWT.NONE);
        t.setContentProvider(new ArrayContentProvider());
        t.setInput(array);
        c.pack(true);   
        baloonWindow.setVisible(true);

    } catch (Exception e) {         
        e.printStackTrace();
    }
    return null;
} 
```

任何人都可以帮助我。如何一次只显示一个气球窗口。如果一个气球窗口是打开的，那么另一个气球窗口不应该被允许打开，或者在任何给定的时间点应该只打开一个气球窗口。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-20T10:11:20.683

我不太确定我是否了解您的最终目标，所以这里有两种可能性：

* * *

**第一个**（一次最多一个`BalloonWindow`）

在您的类中创建一个包含该方法的`static` `boolean`字段。创建 后将此变量设置为并在每次输入 时检查此变量。如果是，创建一个新的，如果是，。`isOpen``execute()``true``BalloonWindow``execute()``false``BalloonWindow``true``return`

* * *

**二**（关闭`BalloonWindow`）

有`BalloonWindow`一个方法`open()`。使用此方法打开它而不是`setVisible(true)`. 如果你想关闭`BalloonWindow`，只需调用`close()`。`setVisible(false)`将具有相同的视觉效果（窗口消失了），但它仍然存在（只是不可见）。`close`真的关上了窗户。

# windows - 如何在 c# win8 Metro 中检测 BasicPage 上的按键

> ID：12986087
> 
> 赞同：4
> 
> 时间：2012-10-20T06:58:21.110
> 
> 标签：windows, c#-4.0, windows-8, microsoft-metro

**无论关注任何控件，**我都想抓住按键。 触发什么事件以及在哪里触发。我试图覆盖**OnKeyDown 和 OnKeyUp**但这似乎不起作用

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-21T20:28:38.067

UIElements 有一个点击事件

您可以在此处阅读有关事件的更多信息 [http://msdn.microsoft.com/en-us/library/windows/apps/xaml/hh465387.aspx](http://msdn.microsoft.com/en-us/library/windows/apps/xaml/hh465387.aspx)

# jquery - jquery 验证插件和 submitHandler

> ID：12986088
> 
> 赞同：2
> 
> 时间：2012-10-20T06:58:23.507
> 
> 标签：jquery, jquery-validate

我有一个`form`正在使用 jQuery 验证，并且还通过`php`在第一次选择之后显示信息，然后在提交之后对数据库进行 ajax 调用。

这是尽可能接近它的工作。剩下的唯一问题是，`form`当存在需要纠正的验证错误时，将允许用户提交它。

我相信`submitHandler`这是让它工作的关键，但是我在评论`//tried various things here`的地方尝试过的任何代码都会导致各种不同的问题。

这是页面的代码：

```
<html>
<head>
<script src="../../jquery_theme/js/jquery-1.7.2.min.js"></script>
<script type="text/javascript" src="dist/jquery.validate.js"></script>

<script>
$(document).ready(function(){
$("#commentForm").validate({
    submitHandler: function(form) {
        //tried various things here
        }
    });
 });

</script>

</head>
<body>

<form class="cmxform" id="commentForm"  >
<fieldset>

 <p> <label for="select_part">Select Part to Adjust Count</label></p>  

          <div>  <select name="id_part" id="select_part" class="required" >
                <option value="">---</option>
                <option value="1">option1</option>
                <option value="2">option2</option>

            </select>

                <div id="returnedValue" class="ajaxReturn"></div>
            </div>
                <br />

 <p>
 <label for="cname">Name</label>
 <em>*</em><input id="cname" name="name" size="25" class="required" minlength="2" />
 </p>
 <input id="submitForm" class="submit" type="submit" value="Submit"/>
 </p>
 </fieldset>
 </form>
 <p><div id="returns"></div></p>
 <script type="text/javascript" src="validateTestDB.js"></script>
 </body>
 </html> 
```

这是将信息反馈到页面的 javascript：

```
$('#select_part').change(function(){
var select_part = $('#select_part').val();

$.post('../../php/getCounts.php', { select_part: select_part}, function(data){
$('#returnedValue').hide().html(data).fadeIn(1200);

      });
   });

 $('#submitForm').click(function(){

var select_part = $('#select_part').val();
var name = $('#cname').val();
$.post('validateResult.php', {select_part: select_part, name: name}, function (data3){
    $('#returns').html(data3);
     });

}); 
```

我已经阅读和尝试了两天，我只是卡住了。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-20T14:42:50.727

您有一个点击处理程序，`$('#submitForm').click()`它会干扰`submitHandler:`验证代码的内部。这是多余的，`.click()`应该删除处理程序以支持`submitHandler:`. 然后应将所需的代码放在*中*，`submitHandler`如下所示...

```
$(document).ready(function(){
    $("#commentForm").validate({
        submitHandler: function(form) {
            var select_part = $('#select_part').val();
            var name = $('#cname').val();
            $.post('validateResult.php', {select_part: select_part, name: name}, function (data3){
                $('#returns').html(data3);
            });
        }
    });
}); 
```

# c++ - 数组c ++的唯一排序顺序

> ID：12986091
> 
> 赞同：2
> 
> 时间：2012-10-20T06:59:05.100
> 
> 标签：c++

我如何以 monge shuffle 类型顺序（最大奇数到最小奇数，然后最小偶数到最大偶数）对整数数组（0,1,2,3,4,5）进行排序，例如（5,3,1,0 ,2,4)。我在尝试解决这个问题时遇到了麻烦。

到目前为止，我已经尝试过：

```
void mongeShuffle(int A[], int B[], int size)
{
    int i = 0; // i is the index of the arr
    while(i < size)
    {
        if(A[i] % 2 == 1)
        {
            B[i] = A[i];
            i++;
        }
        else
        {
            B[i] = A[i -1];
            i++;
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-20T07:32:58.967

在`c++`您可以使用`algorithm`标头来使用`sort`功能并提供您的自定义比较器。像这样的东西：

```
#include <algorithm>
#include <iostream>

bool my_comp (int a, int b)
{
    if( a%2 == 1 && b%2 == 1)
    {  
        // Both odd
        return a > b;
    }
    else if( a%2 == 0 && b%2 == 0)
    {  
        // Both even
        return a < b;
    }
    else return a%2 == 1;
}

int main()
{
    int A[] = {0,1,2,3,4,5};
    std::sort(A, A + 6, my_comp);

    for(int i: A)
    {  
        std::cout << i << std::endl;
    }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-20T07:06:13.253

您需要根据索引是偶数还是奇数而不是值来洗牌。

```
#include <iostream>

void mongeShuffle(int A[], int B[], int size)
{
    for(int i = 0; i < size; ++i)
    {
        if(i % 2 == 0)
        {
            B[(size+i)/2] = A[i];
        }
        else
        {
            B[size/2 - i/2 - 1] = A[i];
        }
    }
} 
```

# c# - 为什么这个正则表达式不会为数字生成组/捕获？

> ID：12986094
> 
> 赞同：1
> 
> 时间：2012-10-20T06:59:41.770
> 
> 标签：c#, regex

```
 Regex regexObj = new Regex(
        @"([A-Za-z_][A-Za-z_0-9]*)(:)(([-+*%])?(\d*\.?\d*)?)*"
           , RegexOptions.Multiline | RegexOptions.IgnorePatternWhitespace);

        var subjectString = "a:123+456;b:456;";
        Match matchResults = regexObj.Match(subjectString);
        while (matchResults.Success) {
            for (int i = 1; i < matchResults.Groups.Count; i++) {
                Group grp = matchResults.Groups[i];
                if (grp.Success) {
                    Console.WriteLine("st:" + grp.Index + ", len:" + grp.Length + ", val:" + grp.Value);
                }
            }
            matchResults = matchResults.NextMatch();
        } 
```

输出：

st：0，len：2，val：.a

st:2, 长度:1, val::

st：6，len：0，val：

st：6，len：0，val：

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-20T07:03:00.930

因为通过允许它将“”视为 的有效履行`\d*`，您的捕获在数字出现之前完成。

您应该至少将一位数字指定为强制 (+) 而不是可选 (*) 以使其开始捕获组。

澄清一下，当正则表达式编译时没有错误，但没有为特定组捕获任何内容，这并不意味着匹配不成功。

这意味着*尽管*捕获了任何东西，但比赛还是成功了。这意味着您在设计上让它越过该组。

例如，在你自己的正则表达式中：`(([-+*%])?(\d*\.?\d*)?)*`你说的是：我期待一些可选的符号后跟一个十进制数，即使这也是可选的。如果什么都没找到，那也没关系，所以，亲爱的 RegExp 引擎，请不要打扰自己，因为我不在乎这是否发生。

让我们进一步分解：

*   `\d*\.\d*`表示任何具有任意位数（包括根本没有）的任何数字，中间有一个点。所以, `0.`, `.`, `.123`, 都是有效匹配，还有`2.1`.
*   通过将*其*设为可选，您的意思是即使**点**也不是必需的，因此`(\d*\.\d*)?`会匹配`""`（空字符串）。
*   通过写作`([-+*%])?(\d*\.?\d*)?`，您是说如果*在上面匹配的字符串之前发生任何事情，它必须是四个指示符号之一*。但是，您不需要它必须发生（因为`?`）。此外，由于上述组可以匹配空字符串，如果引擎无法成功地将字符串匹配到任何有用的内容，则指示的四个符号中的任何一个的存在都意味着该组仍然是成功的匹配。全部，包括数字。
*   现在，通过将先前的定义分组为`(([-+*%])?(\d*\.?\d*)?)*`，您甚至可以使那个可选，基本上告诉正则表达式引擎，如果它没有比这个定义的开头更进一步寻找答案，那就没问题了。

那么，你应该如何进行呢？你什么时候应该让一个组成为可选的？您应该只谨慎地使一个组成为可选组，知道如果引擎无法将任何内容与该组匹配，则该语句仍然有效并且您不关心该值。

另外，作为旁注，您不应该捕获几乎所有内容。只捕获对您来说很重要的值，因为引擎将为`(start,length)`您在内存中请求的任何组保存对，这会降低您的性能。代替正常的分组`()`，使用**非捕获组**指示器`(?:)`，这将允许您进行分组和更高级别的控制，同时保留内存。

捕获组的另一个用途是当您想要在正则表达式中引用匹配的内容时：

```
<(\w+)>.*?</\1> 
```

这将捕获具有匹配结束标记的 XML 标记。另请注意，上面的示例仅用于演示，一般来说，使用正则表达式（除了最普通的表达式）解析任何类型的分层文档是大写 B，大写 I，Bad Idea。

# python - 如何将 while 循环转换为递归方法？

> ID：12986095
> 
> 赞同：0
> 
> 时间：2012-10-20T06:59:55.377
> 
> 标签：python, recursion, while-loop

我需要帮助将此 while 循环转换为递归方法吗？我该怎么做呢？

```
while z <= len(list):
     if z = len(list): #base case
        return something
     else:
        #do something else
     z += 1 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-20T07:01:16.707

```
def func(my_list, z):

    if z == len(my_list):
        return something
    else:
        # do something else
        return func(my_list, z+1)

z = someValue
print func(my_list, z) 
```

您不应该`list`用作变量名。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-20T07:28:57.603

```
z = 1

while z <=5:
    if z == 5:
        print 'base case'
    else:
        print 'repeated text'
    z += 1 
```

这被转换为递归代码，如下所示。您可以基于此处理您的案例

```
def recursion(z):
    assert z <= 5
    if z == 5:
        print 'base case'
    else:
        print 'repeated text'
        recursion(z+1)

recursion(1) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-10-05T08:01:27.540

```
condition = lambda n: n >= 3
repetition = lambda n: print(f'{n}: Repeating Line')
termination = lambda n: print(f'{n}: Terminal Line')

def recursive(n):
  if condition(n):
    repetition(n)
    n = recursive(n-1)
  else:
    termination(n)
  return n

def iterative(n):
  while condition(n):
    repetition(n)
    n -= 1
  termination(n)
  return n

def main():
  n = 4

  print("Recursion Example")
  result = recursive(n)
  print(f'result = {result}')
  print()

  print("Iteration Example")
  result = iterative(n)
  print(f'result = {result}')
  print()

main()

>>> Recursion Example
>>> 4: Repeating Line
>>> 3: Repeating Line
>>> 2: Terminal Line
>>> result = 2
>>> 
>>> Iteration Example
>>> 4: Repeating Line
>>> 3: Repeating Line
>>> 2: Terminal Line
>>> result = 2 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2020-05-09T05:29:18.140

我将使用while循环实现递归函数---Factorial----
（1）它将基于while条件递归调用事实函数
（2）您可以根据您的问题陈述添加if或嵌套if

```
def fact(num):
    while num>1:
        return num*fact(num-1)
    else:
        return num

result = fact(3)
print(result) 
```

6

# iphone - 增加 FBLoginView 的帧大小

> ID：12986100
> 
> 赞同：0
> 
> 时间：2012-10-20T07:00:14.103
> 
> 标签：iphone, ios, facebook

这可以增加帧大小`FBLoginView`吗？

如果是，那么我如何使用 facebook iOS SDK 做到这一点。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-26T16:10:27.283

初始化时，您可以设置帧大小：

```
FBLoginView *loginview = [[FBLoginView alloc] initWithFrame:CGRectMake(5, 5, 300.0, 100.0)]; 
```

另一种方法是，如果您执行正常的初始化，您可以在之后设置帧大小：

```
FBLoginView *loginview = [[FBLoginView alloc] init];
CGRect newFrame = CGRectMake(5, 5, 300.0, 100.0);
loginview.frame = newFrame; 
```

# url - 位图图像未从 URL 链接显示 Blackberry

> ID：12986103
> 
> 赞同：0
> 
> 时间：2012-10-20T07:00:25.583
> 
> 标签：url, blackberry, bitmap

出于某种原因，每当我尝试使用 Internet 从 URL 显示位图图像时，我的黑莓应用程序就会崩溃。

与 stackoverflow 上的其他功能相比，我发现该`downloadImage()`功能非常易于理解和遵循。其他人没有任何关于如何实现其功能的示例。我已经多次测试了功能 downloadImage 并且都失败了。

请用代码示例进行解释。谢谢。

无论如何，编译器在这里停止：

```
g.drawBitmap(10, y + 6, 50, 50, imageBmp, 0, 0); 
```

这是整个代码：

```
package parsepack;

import java.io.ByteArrayOutputStream;
import java.io.IOException;
import java.io.InputStream;
import java.util.Vector;

import javax.microedition.io.Connector;
import javax.microedition.io.HttpConnection;
import javax.microedition.io.StreamConnection;

import net.rim.device.api.system.Bitmap;
import net.rim.device.api.system.DeviceInfo;
import net.rim.device.api.system.Display;
import net.rim.device.api.system.EncodedImage;
import net.rim.device.api.ui.DrawStyle;
import net.rim.device.api.ui.Field;
import net.rim.device.api.ui.FieldChangeListener;
import net.rim.device.api.ui.Graphics;
import net.rim.device.api.ui.Manager;
import net.rim.device.api.ui.UiApplication;
import net.rim.device.api.ui.component.BitmapField;
import net.rim.device.api.ui.component.Dialog;
import net.rim.device.api.ui.component.LabelField;
import net.rim.device.api.ui.component.ListField;
import net.rim.device.api.ui.component.ListFieldCallback;
import net.rim.device.api.ui.container.MainScreen;
import net.rim.device.api.ui.container.VerticalFieldManager;
import net.rim.device.api.xml.parsers.DocumentBuilder;
import net.rim.device.api.xml.parsers.DocumentBuilderFactory;

import org.w3c.dom.Document;
import org.w3c.dom.Node;
import org.w3c.dom.NodeList;

public class xmlparsing extends UiApplication implements ListFieldCallback, FieldChangeListener 
{

    public static void main(String[] args) throws IOException
    {
    xmlparsing app = new xmlparsing();
    app.enterEventDispatcher();
    }

public long mycolor ;
Connection _connectionthread;     
private static ListField _list;
private static Vector listElements = new Vector();
private static Vector listPrice = new Vector();
private static Vector listAbstract = new Vector();
private static Vector listIcon = new Vector();
private Vector listInfoVector = new Vector();
public MainScreen screen = new MainScreen();
Bitmap imageBmp = null;
VerticalFieldManager mainManager;
VerticalFieldManager subManager;
UiApplication ui = UiApplication.getUiApplication(); 

public  xmlparsing() throws IOException 
{ 
    super();
    pushScreen(screen);

    final Bitmap backgroundBitmap = Bitmap.getBitmapResource("blackbackground.png");

     mainManager = new VerticalFieldManager(Manager.NO_VERTICAL_SCROLL | Manager.NO_VERTICAL_SCROLLBAR )
        {

         public void paint(Graphics graphics)
          {
            graphics.drawBitmap(0, 0, Display.getWidth(),Display.getHeight(),backgroundBitmap, 0, 0);

            super.paint(graphics);
          }

        };

        subManager = new VerticalFieldManager(Manager.VERTICAL_SCROLL | Manager.VERTICAL_SCROLLBAR )
        {
            protected void sublayout( int maxWidth, int maxHeight )
            {
                int displayWidth = Display.getWidth();
                int displayHeight = Display.getHeight();

                super.sublayout( displayWidth, displayHeight);
                setExtent( displayWidth, displayHeight);
            }
        };        

    screen.add(mainManager);

    _list = new ListField()
    {
        public void paint(Graphics graphics)
        {
            graphics.setColor((int) mycolor);
            super.paint(graphics);
        }
        protected boolean navigationClick(int status, int time)
        {
            try
            {
                //navigate here to another screen
                ui.pushScreen(new ResultScreen());
            }
            catch(Exception e)
            {
                System.out.println("Exception:-  : navigationClick() "+e.toString());
            }
            return true;
        }
    }; 
    mycolor = 0x00FFFFFF;
        _list.invalidate();
        _list.setEmptyString("* Feeds Not Available *", DrawStyle.HCENTER);
    _list.setRowHeight(70);
    _list.setCallback(this);
    mainManager.add(subManager);    
   listElements.removeAllElements();
   listPrice.removeAllElements();
   listAbstract.removeAllElements();
   listIcon.removeAllElements();
   _connectionthread = new Connection(); 
   _connectionthread.start();
 }

private class Connection extends Thread
{ 
    public Connection()
    { 
       super(); 
    } 

    public void run() {  
        Document doc;  
        StreamConnection conn = null; 
        InputStream is = null;  
        try {           

            conn = (StreamConnection) Connector.open("http://imforchange.org/international-movement-for-change/testing/data.xml"+";deviceside=true");           

            DocumentBuilderFactory docBuilderFactory = DocumentBuilderFactory.newInstance();  
            docBuilderFactory.setIgnoringElementContentWhitespace(true);
            docBuilderFactory.setCoalescing(true);
            DocumentBuilder docBuilder = docBuilderFactory.newDocumentBuilder();    
            docBuilder.isValidating();      
            is = conn.openInputStream();    
            doc = docBuilder.parse(is);     
            doc.getDocumentElement().normalize();   
            NodeList list1 = doc.getElementsByTagName("eventName"); 
                for (int i = 0; i < list1.getLength(); i++) {    
                Node textNode = list1.item(i).getFirstChild();  
                listElements.addElement(textNode.getNodeValue());

                } 
                NodeList list2 = doc.getElementsByTagName("eventPrice"); 
                for (int i = 0; i < list2.getLength(); i++) {    
                Node textNode = list2.item(i).getFirstChild();  
                listPrice.addElement(textNode.getNodeValue());

                } 

                NodeList list3 = doc.getElementsByTagName("eventAbstract"); 
                for (int i = 0; i < list3.getLength(); i++) {    
                Node textNode = list3.item(i).getFirstChild();  
                listAbstract.addElement(textNode.getNodeValue());

                }

                NodeList list4 = doc.getElementsByTagName("eventIcon"); 
                for (int i = 0; i < list4.getLength(); i++) {    
                Node textNode = list4.item(i).getFirstChild();  
                listIcon.addElement(textNode.getNodeValue());

                }

                } catch (Exception e) {   
                    System.out.println(e.toString());                     
                    } finally {   
                        if (is != null) {  
                        try { is.close(); 
                        } catch (IOException ignored) {}   
                        }        if (conn != null) {  
                            try { conn.close(); } 
                            catch (IOException ignored) {} 
                            }    } UiApplication.getUiApplication().invokeLater(new Runnable() { 
                                public void run() {         
                                _list.setSize(listElements.size()); 
                                subManager.add(_list);
                                screen.invalidate();
                                }   
                                });
                            }

}

public void drawListRow(ListField list, Graphics g, int index, int y, int w) 
{  

    String text = (String)listElements.elementAt(index);
    String price = (String)listPrice.elementAt(index);
    String textAbstract = (String)listAbstract.elementAt(index);
    int yPos = 0+y;
    g.drawLine(0, yPos, w, yPos);
    g.drawText(text, 5, 15+y, 0, w);
    g.drawText("$"+price, 5, 15+y, DrawStyle.RIGHT, w-7);
    g.drawText(textAbstract, 5, 40+y, 0, w);

    // image to display
    String imageUrl = (String)listIcon.elementAt(index);
    imageBmp = downloadImage(imageUrl);
    g.drawBitmap(10, y + 6, 50, 50, imageBmp, 0, 0);
}

public Object get(ListField list, int index) 
{
    return listElements.elementAt(index); 
} 
public int indexOfList(ListField list, String prefix, int string) 
{ 
    return listElements.indexOf(prefix, string); 
} 
public int getPreferredWidth(ListField list) 
{ 
 return Display.getWidth(); 
}

/*Regarding the warning about insert(), that's just because you're not using it anywhere. 
 * It look like you've added that method to allow code outside the xmlparsing class to 
 * be able to insert items into the list. Maybe that's what you want, but you just 
 * haven't yet written the other code to use that method. I see you having at least a few choices:
 */
public void insert(String toInsert, int index) {
    listElements.addElement(toInsert);
    }

public void fieldChanged(Field field, int context) {

}

public static Bitmap downloadImage(String url)
{
InputStream iStream = null;
EncodedImage bitmap;
    HttpConnection httpConnection = null;

        try
        {
                    httpConnection = (HttpConnection) Connector.open(url, Connector.READ_WRITE);

            httpConnection.setRequestMethod(HttpConnection.GET);
            int responseCode = httpConnection.getResponseCode();
            if (responseCode == HttpConnection.HTTP_OK) {

                iStream = httpConnection.openInputStream();
                ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();

                byte[] buffer = new byte[256];
                int len = 0, imageSize = 0;

                while (-1 != (len = iStream.read(buffer))) {
                    byteArrayOutputStream.write(buffer);
                    imageSize += len;
                }

                byteArrayOutputStream.flush();
                byte[] imageData = byteArrayOutputStream.toByteArray();
                byteArrayOutputStream.close();
                bitmap = EncodedImage.createEncodedImage(imageData, 0, imageSize);                                      
                Bitmap bmp = bitmap.getBitmap();

return bmp;
            }
            }
            catch (Exception e)
            {                      
            }
return null;                  
}

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-20T08:02:51.957

> 我看到你的方法：**downloadImage(String url)**。它是一个冗长的代码。不需要那么多；

试试这个方法：

```
public static Bitmap getImage(String url)
{
    Bitmap image;
    HttpConnection connection=null;
    InputStream is=null;
    try
    {
        connection=(HttpConnection)Connector.open(Utility.escapeHTML(url));
        int response=connection.getResponseCode();
        if(response==HttpConnection.HTTP_OK)
        {   
            is=connection.openInputStream();
            byte[] data=IOUtilities.streamToBytes(is);
            connection.close();
            image=Bitmap.createBitmapFromBytes(data,0,data.length,1);
        }
        else
        {
                image=ResourceList.dummyBit;//noimage.png               
        }
    }
    catch (Exception e) 
    {
        image=ResourceList.dummyBit;//noimage.png               
    }
    finally
    {
        try 
        {
            if (is != null)
                is.close();
            if (connection != null)
                connection.close();
        }
        catch (Exception e) {}
    }
    return image;
} 
```

试试这个，让我知道。

escapeHTML **(String str)**方法如下：

```
public static String escapeHTML(String s)
{
    StringBuffer sb = new StringBuffer();
    int n = s.length();
       for (int i = 0; i < n; i++) {
          char c = s.charAt(i);
          switch (c) {
             case ' ': sb.append("%20"); break;
             default:  sb.append(c); break;
        }
    }
    return sb.toString();
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-20T09:34:24.503

如果您想通过 WebURL 在 BlackBerry 屏幕上显示图像。首先，您需要获得位图参考。

您可以检查以下代码：

该代码将输入作为 WebURL 并将返回一个位图引用。

```
import java.io.DataOutputStream;
import java.io.IOException;
import java.io.InputStream;
import javax.microedition.io.Connector;
import javax.microedition.io.HttpConnection;
import net.rim.device.api.io.IOUtilities;
import net.rim.device.api.system.Bitmap;
import net.rim.device.api.system.EncodedImage;

        public class GetImage {
        public static Bitmap connectServerForImage(String url) {
        HttpConnection httpConnection = null;
        DataOutputStream httpDataOutput = null;
        InputStream httpInput = null;
        int rc;
        Bitmap bitmp = null;
        try {
        httpConnection = (HttpConnection) Connector.open(url);
        rc = httpConnection.getResponseCode();
        if (rc != HttpConnection.HTTP_OK) {
        throw new IOException("HTTP response code: " + rc);
        }
        httpInput = httpConnection.openInputStream();
        InputStream inp = httpInput;
        byte[] b = IOUtilities.streamToBytes(inp);
        EncodedImage hai = EncodedImage.createEncodedImage(b, 0, b.length);
        return hai.getBitmap();
        } catch (Exception ex) {
        // System.out.println("URL Bitmap Error........" + ex.getMessage());
        } finally {
        try {
        if (httpInput != null)
        httpInput.close();
        if (httpDataOutput != null)
        httpDataOutput.close();
        if (httpConnection != null)
        httpConnection.close();
        } catch (Exception e) {
        e.printStackTrace();
        }
        }
        return bitmp;
        }
          } 
```

最后，如果要在 BlackBerry 屏幕上显示图像，请使用以下方法

```
g.drawBitmap(xpos, ypos, w, h, image, 0, 0);//pass the Bitmap reference Here 
```

# ruby-on-rails-3 - 我能否轻松限制用户可以从 Amazon S3 服务器下载哪些文件？

> ID：12986107
> 
> 赞同：0
> 
> 时间：2012-10-20T07:00:46.130
> 
> 标签：ruby-on-rails-3, heroku, amazon-s3

我曾尝试寻找答案，但我想我可能使用了错误的术语，所以我想我会试一试。

我有一个 Rails 应用程序，公司可以在其中拥有多个用户的帐户，每个用户具有不同的权限等。系统的一部分将能够上传文件，我正在寻找 S3 进行存储。我想要的是能够说公司 A 的用户只能下载与该公司关联的文件？

我的印象是，除非我将下载限制在我的部署服务器 IP 范围（将是 Heroku），然后通过控制器和 send_file() 调用提供文件。这会起作用，但是我正在将数据从 S3 读取到 Heroku，然后返回给用户，而不是直接从 S3 到用户。

如果我使用 send_file 方法，我可以关闭我的 S3 服务器到外部世界并让我的 Heroku 应用程序直接发送文件吗？

我的一个不太安全的想法是为每个文件创建一个唯一的 slug 并将其存储在该名称下，以防止随机猜测文件`http://mys3server/W4YIU5YIU6YIBKKD.jpg`等。这将是快速和肮脏的，但不是 100% 安全。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-20T08:02:45.043

Amazon S3 存储桶支持根据不同条件授予或拒绝访问的策略。您可能可以使用它们来保护您的文件免受不同用户组的侵害。查看[政策文档](http://docs.amazonwebservices.com/IAM/latest/UserGuide/AccessPolicyLanguage_ElementDescriptions.html)以了解可能的情况。之后，您可以切换到[AWS 策略生成器](http://awspolicygen.s3.amazonaws.com/policygen.html)以根据您的需要生成有效的策略。

# c# - 获取系统日期和拆分日、月、年

> ID：12986114
> 
> 赞同：9
> 
> 时间：2012-10-20T07:01:13.133
> 
> 标签：c#, asp.net

我的系统日期格式是 dd-MM-yyyy(20-10-2012)，我正在获取日期并使用分隔符来分割日期、月份和年份。无论格式是否以任何日期格式返回，我都需要转换日期格式（dd/MM/yyyy）。

```
string sDate = string.Empty;
DateTime _date = DateTime.Now;
int count = 0;
string format = "dd-MM-yyyy";
sDate = dateFormat.ToString(format);
string[] Words = sDate.Split(new char[] { '-' });
foreach (string Word in Words)
{
    count += 1;
    if (count == 1) { Day = Word; }
    if (count == 2) { Month = Word; }
    if (count == 3) { Year = Word; }
} 
```

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2012-10-20T14:37:13.757

这是您要查找的内容：

```
String sDate = DateTime.Now.ToString();
DateTime datevalue = (Convert.ToDateTime(sDate.ToString()));

String dy = datevalue.Day.ToString();
String mn = datevalue.Month.ToString();
String yy = datevalue.Year.ToString(); 
```

**或者**

或者，您可以在此处使用 split 函数[将字符串日期拆分为日、月和年](http://www.aspneto.com/how-to-split-string-date-into-day-month-year.html)。

希望，它会帮助你......干杯。！！

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2012-10-20T07:18:31.113

你可以这样做：

```
 String date = DateTime.Now.Date.ToString();
    String Month = DateTime.Now.Month.ToString();
    String Year = DateTime.Now.Year.ToString(); 
```

在日期时间的地方，您可以使用您的专栏..

* * *

## 回答 #3

> 赞同：9
> 
> 时间：2015-10-11T03:13:58.667

您可以从当前日期拆分日期月份年份，如下所示：

`DateTime todaysDate = DateTime.Now.Date;`

天：

`int day = todaysDate.Day;`

月：

`int month = todaysDate.Month;`

年：

`int year = todaysDate.Year;`

* * *

## 回答 #4

> 赞同：6
> 
> 时间：2012-10-20T07:04:26.967

如果您知道格式，则应该使用`DateTime.TryParseExcact`，或者如果不知道并且想要使用系统设置`DateTime.TryParse`。`DateTime.ToString`并在参数中使用正确的格式打印日期。要获取您拥有的年、月或日`DateTime.Year`，`DateTime.Month`或`DateTime.Day`.

有关其他参考，请参阅MSDN 中的[DateTime Structures](http://msdn.microsoft.com/en-us/library/System.DateTime%28v=vs.110%29.aspx)。

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2012-10-20T07:32:27.220

没有打开 IDE 来检查我的大脑在一天中的这个时候是否能正常工作...

如果您只是想要特定格式的日期，您可以使用[DateTime 的 .ToString(string format)](http://msdn.microsoft.com/en-us/library/zdtaw1bw.aspx)。如果您点击该链接，则有许多标准和自定义格式字符串的示例。

所以

```
DateTime _date = DateTime.Now;
var _dateString = _date.ToString("dd/MM/yyyy"); 
```

将以您请求的格式将日期作为字符串提供给您。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2021-09-13T04:32:47.030

**TL&DR** ; C# 中的 DateTime 对象能够使用具有正确格式字符串的**ToString()**函数提取字符串信息。（即：“yyyy-mm-dd”）；

```
string onlyDateWithoutTimeStamp = lastDate.ToString("yyyy-MM-dd"); 
```

# monitoring - 构建 TFS azure 概述（预览版）

> ID：12986117
> 
> 赞同：0
> 
> 时间：2012-10-20T07:01:27.103
> 
> 标签：monitoring, tfsbuild, azure-devops

我们正在评估 tfs azure。

我们已经迁移了三个项目（解决方案），并为 tfs azure 中的每个解决方案创建了一个特定的项目。

现在，我们正在寻找一些东西来实现所有三个项目的当前构建状态的可视化概览。

我知道我可以通过访问每个项目的网站来获得每个项目的概述，但我想要所有项目的汇总概述。

今天我们使用 Jenkins，连接到我们本地的 tfs 2010，这让我们可以直接了解所有构建状态。

有人知道这方面的工具吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T15:30:54.657

在与 Windows Azure 团队讨论后，得到的答复是他们目前不支持此功能。您可以在项目级别获得构建概览，但不能在集合级别获得。

# jquery - jquery在删除prev后更改下一个元素

> ID：12986119
> 
> 赞同：0
> 
> 时间：2012-10-20T07:01:40.560
> 
> 标签：jquery, django

我有一个代码[http://jsfiddle.net/hRRzK/3/](http://jsfiddle.net/hRRzK/3/)。我想`<ul>`在删除一行以更改`<var id="exset">4</var>`标签中的数字后重新加载。我想将数字更改为已删除行中的每一行。

当我单击它向 DB 发送请求的链接时，从 DB 中删除带有 id 的行并将新数字重新分配给 DB 中的每一行。同时 JQuery 删除行删除 apropriete`<li>`标记。之后，我在 DB 中有正确的行数，但在 html 中没有。如果我刷新页面，它会显示正确的数字，因为它是从数据库新数据中获取的。

删除一个后获得正确数字的最佳方法是什么？删除行后将新信息返回给 JQuery（是否可能）？或者通过 J-script 从下一行中减去 1？

谢谢你的建议。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-20T07:58:26.790

如果这些数字是连续的并且它们不依赖于从数据库返回的值，请在 Javascript 中执行。在我看来，在这种情况下，用请求来打扰数据库是不可取的。

# actionscript-3 - 我们可以在 flex 中添加艺术字样式吗

> ID：12986120
> 
> 赞同：3
> 
> 时间：2012-10-20T07:01:45.660
> 
> 标签：actionscript-3, flash, apache-flex, actionscript, flex4

我们可以在 flex 中添加 WORD ART 或 WARP TEXT 样式吗

![在此处输入图像描述](../Images/0cc5bf1e0925aaf7fe61049fd708ff72.png)

![在此处输入图像描述](../Images/7127589c1dd745707e9085db26a230cd.png)

ETC

就像这些图像一样，我想进行底部弧线、垂直弧线、Birdseye 等测试，如上图所示。

请帮助我是否可以在 Flex 中制作这样的文本字体样式

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-24T20:26:28.767

你可以做一个信封扭曲

[信封扭曲与动作脚本](http://www.neuroproductions.be/experiments/envelope-distort-with-actionscript/)（[下载源](http://www.neuroproductions.be/wp-content/plugins/download-monitor/download.php?id=17)）

首先，您将使用 myBitmap.draw(myTextField) 将文本字段绘制为位图。然后，您将使用下面的代码来扭曲该位图。

您可以让用户控制它，也可以将可见的手柄设置为 false 并将它们的 x,y 设置为预设位置以实现不同的效果。

您正在构建 T 恤设计工具吗？我在几年前创造了一个，并产生了这样的效果。

![包络失真](../Images/3f7e22e8d2164ffadb448d477c00d02e.png)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-26T06:00:59.507

我找到了一个链接，我们可以在其中获得 Flash 中的艺术风格，这对所有人都非常有用， [请单击此处](http://wonderfl.net/c/nX72/)

# android - Android 处理程序未收到消息

> ID：12986122
> 
> 赞同：1
> 
> 时间：2012-10-20T07:01:57.500
> 
> 标签：android, android-handler

在我的 android 应用程序中，我创建了 2 个处理程序。一个处理程序收到消息并等待（调用 wait();）。此时，如果我将消息发布到第二个处理程序，它没有接收。一段时间后，我收到对话框说应用程序没有响应“强制关闭”或“等待按钮”。

我认为由于一个处理程序中的 wait() ，阻止了第二个处理程序接收消息。

请建议我解决这个问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-20T07:15:05.623

您应该创建两个线程并在这两个线程中的每一个中创建一个处理程序，并在两个线程的 run 方法中调用 Looper.loop

```
class HandlerThread1 extends Thread {
      public Handler mHandler;

      public void run() {
          Looper.prepare();

          mHandler = new Handler() {
              public void handleMessage(Message msg) {
                  // process incoming messages here
              }
          };

          Looper.loop();
      }
  } 
```

同样的方式创建 HandlerThread2 并启动两个线程。

你永远不应该在 Ui 线程中调用等待，这就是你让 App 没有响应弹出窗口的原因。您总是可以发布另一条带有持续时间而不是等待的消息

# ios - 适当的 AutoresizingMask

> ID：12986130
> 
> 赞同：16
> 
> 时间：2012-10-20T07:03:06.743
> 
> 标签：ios, uiview, uiinterfaceorientation, autoresizingmask

我有一个视图出现在其父视图纵向模式的中心，我应该使用什么 autoresizemask 以便它也出现在横向模式的中心。它的大小应该保持不变。我只是希望它的原点应该在该点自动移动，以便它出现在中心。请帮忙？

我给了

```
[parentView setAutoResizesSubview:YES];

parentView.autoresizingMask = UIViewAutoresizingFlexibleHeight|UIViewAutoresizingFlexibleWidth; 
```

* * *

## 回答 #1

> 赞同：29
> 
> 时间：2012-10-20T07:12:58.173

```
// horizontal
childView.autoresizingMask = UIViewAutoresizingFlexibleLeftMargin | UIViewAutoresizingFlexibleRightMargin;

// vertical
childView.autoresizingMask = UIViewAutoresizingFlexibleTopMargin | UIViewAutoresizingFlexibleBottomMargin;

// both
childView.autoresizingMask = UIViewAutoresizingFlexibleLeftMargin | UIViewAutoresizingFlexibleRightMargin | UIViewAutoresizingFlexibleTopMargin | UIViewAutoresizingFlexibleBottomMargin; 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2016-09-30T08:31:34.813

斯威夫特 3：

```
childView.translatesAutoresizingMaskIntoConstraints = false

childView.autoresizingMask = [.flexibleTopMargin, .flexibleBottomMargin, .flexibleLeftMargin, .flexibleRightMargin] 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-09-20T22:10:56.560

```
If you are using swift:
// horizontal
childView.autoresizingMask = [.flexibleLeftMargin, .flexibleRightMargin]
// vertical
childView.autoresizingMask = [.flexibleTopMargin, .flexibleBottomMargin]
// both
childView.autoresizingMask = [.flexibleLeftMargin, .flexibleRightMargin, .flexibleTopMargin, .flexibleBottomMargin] 
```

# arrays - 在 VB.NET 2012 中将 System.Array 转换为 Double()

> ID：12986135
> 
> 赞同：0
> 
> 时间：2012-10-20T07:03:35.920
> 
> 标签：arrays, vb.net

我想将一个类型的数组转换`System.Array`为`Double()`or `Double(,)`（我已经知道要转换为哪一个）。有问题的代码行如下

```
Dim kernel As Double() = CType(Array.CreateInstance(GetType(Double), _
  {2 * limit + 1}, {-limit}), Double()) 
```

Where`limit`被预定义为有效的正数`Integer`。我得到`InvalidCastException`. 我该怎么做呢？或者另一种创建具有起始索引的`Double`数组的方法？`< 0`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-20T09:23:47.193

您可以使用该`Enumerable.Range`方法创建一个单维数组，如下所示：

```
Dim start = 0
Dim count = 10

Dim singleArray = Enumerable.Range(start, count).ToArray() 
```

要创建多维数组，您必须创建自己的扩展方法来修改集合，如下所示

```
Public Module Extensions
    <Runtime.CompilerServices.Extension()>
    Function SelectMultiDimension(Of T)(collection As IEnumerable(Of T), rows As Integer, cols As Integer) As T(,)
        Dim multiDimArray(rows - 1, cols - 1) As T
        Dim i As Integer = 0

        For Each item In collection
            If i >= multiDimArray.Length Then Exit For

            multiDimArray(i \ cols, i Mod cols) = item

            i += 1
        Next

        Return multiDimArray
    End Function
End Module 
```

然后你可以这样使用它：

```
Dim mArray = Enumerable.Range(start, count).SelectMultiDimension(3, 4) 
```

# php - MySQL查询中的PHP变量

> ID：12986137
> 
> 赞同：0
> 
> 时间：2012-10-20T07:03:42.863
> 
> 标签：php, mysql

我有这段代码不起作用

```
 <body>
<?php $outerSql = mysql_query("select * from gree_menu"); ?>
<ul>
  <?php
    while($outerRow = mysql_fetch_array($outerSql)) {
      $outerMenu = $outerRow['menu_name'];
      $outerId = $outerRow['menu_id'];
    ?>
      <li>
        <?=$outerMenu; ?>
        <?php $innerSql = mysql_query("SELECT sp.* FROM gree_menu gm INNER JOIN silicon_prod sp ON gm.menu_id = sp.menu_parent_id WHERE gm.menu_id = {$outerID}");?>

        <ul>
          <?php

            while($innerRow = mysql_fetch_array($innerSql)) {
              $innerMenu = $innerRow['prod_name'];
          ?>
            <li><?= $innerMenu;?></li>
            <?php
            }
            ?>
        </ul>
      </li>
    <?php 
    } 
    ?>

</ul> 
```

给我带来麻烦的线路是

```
 <?php $innerSql = mysql_query("SELECT sp.* FROM gree_menu gm INNER JOIN silicon_prod sp ON gm.menu_id = sp.menu_parent_id WHERE gm.menu_id = {$outerID}");?> 
```

如果我将查询作为

```
 <?php $innerSql = mysql_query("SELECT sp.* FROM gree_menu gm INNER JOIN silicon_prod sp ON gm.menu_id = sp.menu_parent_id WHERE gm.menu_id = 7");?> 
```

它工作正常。但我希望它是动态的。menu_id 的有效值为 7、8、9

请帮忙

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-20T07:08:56.030

尝试这个

`<?php $innerSql = mysql_query("SELECT sp.* FROM gree_menu gm INNER JOIN silicon_prod sp ON gm.menu_id = sp.menu_parent_id WHERE gm.menu_id =".{$outerID});?>`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-20T07:23:38.230

您在outerID 中有错字，而不是@Abhi Beckert 提到的outerId。

```
$outerId = $outerRow['menu_id']; 
```

您`$outerID`在查询中使用。所以我认为您的查询没有错误。更正错字并重试。

如果您想更改查询，请尝试如下

```
$innerSql = mysql_query("SELECT sp.* FROM gree_menu gm 
          INNER JOIN silicon_prod sp ON gm.menu_id = sp.menu_parent_id
          WHERE gm.menu_id = ".$outerId); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-20T07:28:03.923

你可以试试这个

```
 <?php $innerSql = mysql_query("SELECT sp.* FROM gree_menu gm INNER JOIN silicon_prod sp ON gm.menu_id = sp.menu_parent_id WHERE gm.menu_id = ".$outerID."");?> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-20T07:29:02.853

```
<?php $innerSql = mysql_query("SELECT sp.* FROM gree_menu gm INNER JOIN silicon_prod sp ON gm.menu_id = sp.menu_parent_id WHERE gm.menu_id = ".$outerID);?> 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-20T07:29:36.007

```
mysql_query("SELECT sp.* FROM gree_menu gm 
INNER JOIN silicon_prod sp ON gm.menu_id = sp.menu_parent_id 
WHERE gm.menu_id =$outerID"); 
```

# dns - DNS更改后的Nginx问题

> ID：12986140
> 
> 赞同：2
> 
> 时间：2012-10-20T07:04:01.920
> 
> 标签：dns, nginx, ip

基本上，我试图将我的域指向不同的 IP。

在检查[website/domain](http://www.innowhite.com)时，似乎 DNS 已传播到新的 IP 地址。访问该站点时，我看到“欢迎使用 nginx！” 信息。如果我直接加载 IP `209.105.244.90`，它会显示网站。我已经等了超过 24 小时才能进行更改 - 但没有运气。

我错过了什么？任何帮助，将不胜感激。

以下是 nginx 配置文件：

```
server {
    listen       80;
    server_name  localhost;

    #charset koi8-r;

    #access_log  logs/host.access.log  main;

    location / {
        root   html;
        index  index.html index.htm;
    }

    #error_page  404              /404.html;

    # redirect server error pages to the static page /50x.html
    #
    error_page   500 502 503 504  /50x.html;
    location = /50x.html {
        root   html;
    }
}

server {
  listen 80;
  server_name 209.105.244.90;
  root /home/firemonk/myapps/web/public;   # <--- be sure to point to 'public'!
  passenger_enabled on; 
```

}

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-20T08:33:54.570

你的第一个服务器块有

```
server_name localhost; 
```

你的第二个服务器块有

```
server_name 209.105.244.90; 
```

换句话说，您的任何服务器块都没有设置为监听您的域名 -> 将您的域名添加到相关的服务器块

# liferay - 将数据添加到 MYSQL（[JDBCExceptionReporter:76]）时，键 'PRIMARY' 的重复条目 '0'

> ID：12986151
> 
> 赞同：1
> 
> 时间：2012-10-20T07:05:22.440
> 
> 标签：liferay, portlet, liferay-6, duplicates

从我的 liferay portlet 中第二次在数据库中插入时出现以下异常。

`[JDBCExceptionReporter:76] Duplicate entry '0' for key 'PRIMARY'.`（我认为这是因为我的主键值没有自动递增）

我认为在我的自定义 portlet 中自动增加主键时犯了错误。但我不知道我必须在哪里进行更改。

如果有人可以指导我进行更改以解决此自动增量问题吗？

这是设置自动增量的代码尝试{

```
 restVar = restaurantPersistence.create(counterLocalService
                .increment(restaurant.class.toString()));
    } catch (SystemException e) {
        e.printStackTrace();
        return restVar = null;
    }

    try {

        resourceLocalService.addResources(0,restParam.getGroupId(), restParam.getUserId(),
                restaurant.class.getName(),restParam.getPrimaryKey(), false,true,true);
    } catch (PortalException e) {
        e.printStackTrace();
        return restVar = null;
    } catch (SystemException e) {
        e.printStackTrace();
        return restVar = null;
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-22T04:51:46.500

试试这个。。

```
long primaryKeyId = CounterLocalServiceUtil.increment(ClassName.class.getName());

XYZDetails XYZDetails = XYZDetailsLocalServiceUtil.createXYZDetails(primaryKeyId); 
```

**使用XYZDetails** Obj添加其他详细信息

例如

```
XYZDetails.setName("Name"); 
```

然后保存详细信息..

```
XYZDetailsLocalServiceUtil.addXYZDetails(XYZDetails); 
```

希望这可以帮助你！

# asp.net - Citrix Xen App 中回发时的会话值更改

> ID：12986153
> 
> 赞同：1
> 
> 时间：2012-10-20T07:05:47.533
> 
> 标签：asp.net, session-variables, citrix

我们使用 citrix 接收器来查看托管在服务器中的应用程序。

该应用程序在正常查看时工作正常（不是通过 citrix）。

我遇到的问题是，我的母版页中有一个下拉菜单。当我登录时，会话将被默认并分配下拉菜单。当我更改下拉项时，会话会更改，并且 dropdwon 将显示选择的正确值。

在此之后，当我单击任何导致回发的链接时，会话值默认为默认值，下拉菜单显示默认值。

例如：

当我登录时，我默认会话（“预算”）为“1”，下拉菜单将显示“预算 1”。不，我将 Dropdwon 更改为“预算 2”，会话（“预算”）现在是“2”。

现在，当我单击任何导致回发的链接时，会话（“预算”）变为“1”，下拉菜单默认为“预算 1”。

任何人都可以提出问题所在。仅当我在 Citrix 桌面中查看应用程序时才会发生这种情况。

问候拉吉什

# twitter-oauth - 如何将包含自定义 URL 的消息发送到 Twitter？

> ID：12986154
> 
> 赞同：0
> 
> 时间：2012-10-20T07:05:52.433
> 
> 标签：twitter-oauth, custom-url

每当我尝试使用 oAuth 向 Twitter 发送包含自定义 URL 的消息时，该消息都会以包含所有 HTML 标记的纯文本形式发布例如，我希望将消息显示为：

```
this is mysample tweet.
and this is my link: <a href ="www.example.com">my web address</a> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-20T07:14:36.637

Twitter 不支持富文本，它只是纯文本。您尤其不能为 URL 设置链接文本。唯一可能接近的可能性是为支持的客户端使用[卡片功能。](https://dev.twitter.com/docs/cards)

# c++ - 将 Jenkins CI 用于 Qt 项目

> ID：12986156
> 
> 赞同：3
> 
> 时间：2012-10-20T07:06:06.077
> 
> 标签：c++, qt, jenkins, qmake, jenkins-plugins

我正在尝试将 Jenkins 用于我在 Qt 框架中编写的一些项目。

Jenkins wiki 页面中有 Jenkins 的[qmake 插件](https://wiki.jenkins-ci.org/display/JENKINS/qmakebuilder+Plugin)，虽然这个插件在 Jenkins 插件列表中不存在。

我已经为 qmakebuilder 插件寻找 .hpi 文件，但找不到。所以我从给定的存储库下载源代码，尝试按照[Jenkins wiki](https://wiki.jenkins-ci.org/display/JENKINS/Plugin+tutorial)中的描述编译它......但我得到指示 java.util.NoSuchElementException 的错误列表。

有小伙伴用过这个插件吗？或任何其他 Jenkins 插件来编译 Qt 项目？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-22T05:24:44.377

首先，我的`JAVA_HOME`变量没有指向正确的文件夹，即 JDK 文件夹，它被设置为 JRE，导致 maven 无法正常工作。

但是在修复它之后，我仍然遇到一些编译错误。

最后，我[问了 Jenkins 的人](https://groups.google.com/d/topic/jenkinsci-users/Db_oZWtsQGk/discussion)，发现由于某种原因 qmakebuilder 与 JDK 7 不兼容。因此，我下载了 JDK 6 编译该版本的代码，它编译得很好。我在目标文件夹中获得了 hpi 文件。

另外，现在可以在此处找到此插件的 hpi 文件[。](https://jenkins.ci.cloudbees.com/job/plugins/job/qmakebuilder-plugin/1/hudson.plugins.qmake%24qmakebuilder/)

# rest - 在 Spring MVC 3.1 状态码 301 中使用 RestTemplate 进行基本身份验证

> ID：12986157
> 
> 赞同：0
> 
> 时间：2012-10-20T07:06:11.350
> 
> 标签：rest, spring-mvc, basic-authentication, restful-authentication, resttemplate

我正在使用 Spring MVC 3.1 开发一个示例应用程序。在此应用程序中，我使用的是 REST API，而要使用 REST API，我使用的是 Rest Template。

我的第一个页面是简单的登录表单，用户在其中输入用户名和密码。在控制器中，我获取这些用户名和密码，对它们进行编码并发送获取基本身份验证请求。

如果状态码为 200，则用户已通过身份验证，否则未通过身份验证。

但我总是收到状态码 301。

我的控制器代码如下：

```
@RequestMapping(value = "/loginForm", method = RequestMethod.POST)
    public String login(@ModelAttribute("loginForm") LoginForm loginForm,
            BindingResult result, ModelMap model) {

        String userName = loginForm.getUserName();
        String password = loginForm.getPassword();

        // Basic Authentication

        String token = userName + ":" +password;
        BASE64Encoder enc = new sun.misc.BASE64Encoder();
        String encodedAuthorization = enc.encode(token.getBytes());
        String authHeader = "Basic " + encodedAuthorization;

        System.out.println("authHeader :::::: " + authHeader);

        // Prepare acceptable media type
        List<MediaType> acceptableMediaTypes = new ArrayList<MediaType>();
        acceptableMediaTypes.add(MediaType.APPLICATION_XML);

        HttpHeaders headers = new HttpHeaders();

        headers.setAccept(acceptableMediaTypes);
        headers.setContentType(MediaType.APPLICATION_XML);
        headers.set("Authorization", authHeader);

        HttpEntity<String> entity = new HttpEntity<String>(headers);

        ResponseEntity<String> responseEntity = restTemplate.exchange(uri,
                HttpMethod.GET, entity, String.class);

        HttpHeaders header = responseEntity.getHeaders();
        HttpStatus code = responseEntity.getStatusCode();

        System.out.println("Header :::::: " + header);
        System.out.println("Code :::::: " + code);

        // Validation on fields
        validator.validate(loginForm, result);
        if (result.hasErrors()) {
            return "login";
        }

        // Checkign status is 200 or not

        if ((Integer.parseInt(code.toString())!= 200)) {
            model.addAttribute("formError", "true");
            return "login";
        }
        model.addAttribute(loginForm);
        return "redirect:dateEntry";

    } 
```

我哪里错了？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-20T10:13:44.973

301 表示永久重定向。您可能正在请求一个过时的 URL。Location 响应标头告诉您新 URL 是什么。见[http://en.wikipedia.org/wiki/HTTP_301](http://en.wikipedia.org/wiki/HTTP_301)

# c# - 为什么计时器在 Windows 服务中不起作用？

> ID：12986163
> 
> 赞同：6
> 
> 时间：2012-10-20T07:07:30.103
> 
> 标签：c#, windows-services

我知道这是一个已经提出的问题，但我找不到任何解决方案。这是我的服务。

```
class Program : ServiceBase
{
    private  Timer _timer;
    public Program()
    {
        ServiceName = "PrintTime";
    }

    static void Main(string[] args)
    {
        Run(new Program());
    }

    protected override void OnStart(string[] args)
    {
        base.OnStart(args);
        _timer = new Timer(5000);
        _timer.Elapsed += _timer_Elapsed;
        _timer.Start();
    }

    void _timer_Elapsed(object sender, ElapsedEventArgs e)
    {
        WriteTimeToFile();
    }

    protected override void OnStop()
    {
        _timer.Stop();
    }

    private void WriteTimeToFile()
    {
        using (FileStream fs = new FileStream(@"d:\mylog.txt", FileMode.Append,            FileAccess.ReadWrite))
        {
            StreamWriter streamWriter = new StreamWriter(fs);
            streamWriter.Write(DateTime.Now.ToShortTimeString());
            streamWriter.Close();
            fs.Close();
        }
    }

} 
```

如您所见，我想每 5 秒写入`currentTime`一次`Mylog.txt`文件，但即使 2 分钟也没有任何反应。如果我把`WriteTimeToFile()`函数放入`OnStart`方法中，它可以正常工作，但不能在计时器中。

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-20T07:17:24.740

计时器的命名空间是什么？它必须是`System.Timers.Timer`或`System.Threading.Timer`。

请参阅此处：[在 Windows 服务中使用的最佳计时器](https://stackoverflow.com/questions/246697/windows-service-and-timer)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-23T09:49:57.583

好的，几个小时后，我注意到计时器工作正常。计时器没有任何问题。但问题在于`FileStream`构造函数。`FileMode.Append`仅适用于`FileAccess.Write`.

所以修复这行代码解决了这个问题。

无论如何，感谢您的关注。

```
using (FileStream fs = new FileStream(@"d:\mylog.txt", 
                       FileMode.Append, FileAccess.Write)) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-20T10:27:08.807

[带计时器的 Windows 服务](https://stackoverflow.com/questions/12885013/windows-service-with-timer-c-net/12886071#12886071)

在这篇文章中阅读我的答案...

也许你想念 timer.AutoReset = true;

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-20T07:34:55.687

服务必须在有权写入 D:\ 目录的 Windows 帐户下运行。

检查事件查看器中的异常以查看是否存在未经授权的访问异常。

还要在 _timer_Elapsed 方法中放置一个断点，以验证它是否被调用并单步执行代码。

# java - 深度复制对象

> ID：12986165
> 
> 赞同：2
> 
> 时间：2012-10-20T07:07:33.187
> 
> 标签：java, object, copy

是否可以**深拷贝**`Object`开箱即用？`clone`即除了手动编码功能之外的任何其他方式。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-20T07:38:42.240

1.  克隆*不一定会*执行深层复制。事实上，默认实现`Object.clone()`创建了一个*浅*拷贝。

2.  如果对象的闭包由实现`Serializable`or的对象组成`Externalizable`，您可以使用`ObjectOutputStream`and`ObjectInputStream`来创建深层副本......但它很昂贵。

3.  该[`cloning`](http://code.google.com/p/cloning/)库是另一种选择，但我对代码的初步阅读是它依赖于图中每个对象的类，提供一个无参数构造函数。然后它将修补生成的对象以具有原始对象状态的副本。此过程可能会产生不良副作用，具体取决于无参数构造函数的实际作用。

简而言之，我认为没有*通用*的解决方案。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-20T07:55:10.243

我建议使用 java.lang.reflect。

java.lang.Class 公开所有字段并允许读取公共字段和调用公共方法。

只有没有访问器的私有字段不能被克隆。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-20T07:58:12.610

我简要地查看了`cloning`库代码。它执行序列化的工作，即获取内部对象的图形，而不是写入文件，而是写入内存位置 = 这是对象的克隆。因此，尽管它比序列化更快，但它肯定在做同样的事情。

# python - python中的交叉匹配

> ID：12986166
> 
> 赞同：1
> 
> 时间：2012-10-20T07:07:42.007
> 
> 标签：python, list, search

有两个列表

```
Experimental = ["2311","1441","31","233122"]
Reference = ["asasa2311","dadewr1441","app"] 
```

我想要做的是对于 Experimental 中的元素，如果它们与 Reference 中的元素中的任何子字符串匹配，然后将 Experimental 中的匹配元素放在一个新列表中。

所以新列表将是

```
["2311","1441","31"] 
```

我尝试做的是

```
[i for i in Experimental if any(sub in i for sub in Reference)] 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-20T07:18:29.667

你应该`regex`在这里使用：

```
In [20]: e=["2311","1441","31","233122"]

In [21]: r=["asasa2311","dadewr1441","app"]

In [22]: [x for x in e if any(x in re.findall("\d+",y) for y in r)]
Out[22]: ['2311', '1441'] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-20T07:13:06.887

您能否澄清这个问题，因为`31`它还产生了一个匹配的子字符串`asasa1311`。

```
In [516]: Experimental = ["2311","1441","31","233122"]
     ...: Reference = ["asasa2311","dadewr1441","app"]
     ...: 

In [517]: [i for i in Experimental for x in Reference if i in x ]
Out[517]: ['2311', '1441', '31'] 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-20T07:15:03.773

您的问题陈述与预期的输出不匹配。您说“子字符串”，但您的预期输出不包含`31`，即使它是`asasa1311`. 这是一种方法：

```
>>> e = ["2311","1441","31","233122"]
>>> r = ["asasa2311","dadewr1441","app"]
>>> [eelem for relem in r for eelem in e if eelem in relem]
['2311', '31', '1441'] 
```

或者如果你想要预期的输出：

```
>>> e = ["2311","1441","31","233122"]
>>> r = ["asasa2311","dadewr1441","app"]
>>> [eelem for relem in r for eelem in e if relem.endswith(eelem)]
['2311', '1441'] 
```

或者，如果您想在第一场比赛中更高效地突破，请使用生成器方法：

```
>>> e = ["2311","1441","31","233122"]
>>> r = ["asasa2311","dadewr1441","app"]
>>> [eelem for eelem in e if any(r if eelem in relem else False for relem in r)]
['2311', '1441', '31'] 
```

`in`如果我们使用返回布尔值的事实，或者更短一点：

```
>>> [eelem for eelem in e if any(eelem in relem for relem in r)]
['2311', '1441', '31'] 
```

# c - C 中的 Malloc 为什么要使用它

> ID：12986168
> 
> 赞同：0
> 
> 时间：2012-10-20T07:08:01.240
> 
> 标签：c

我是 C 语言的新手，我需要创建一个队列，如果我需要使用 malloc（内存分配）以及如何使用它，我不需要。我在没有 malloc 的情况下运行了 add、remove、size 和 isempty 并且它有效。

```
 void e1_init(e1queue_t* q){
    q->head = 0;
    q->tail = sizeof(q->queue)/sizeof(int)-1;
    q->size=0;  
    } 
```

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-20T07:13:53.533

在 C 中，有两种内存：

*   堆栈
*   堆

堆栈内存相当有限，用于函数中的自动变量、处理开销等。

当你需要更大的内存块时，你需要从`heap`.

不是这个答案的完全重复，但这似乎是一个很好的描述：

[堆栈和堆是什么以及在哪里？](https://stackoverflow.com/questions/79923/what-and-where-are-the-stack-and-heap)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-20T07:24:33.680

使用 malloc() 函数的原因有很多。

1.  malloc() 用于为变量动态分配内存。为什么？动态分配内存的原因有很多。例如，如果某个对象/变量的大小在编译时不知道，并且可能有理由稍后增加它，那么它需要增加内存需求。这就是 malloc 的用武之地。

2.  malloc() 用于初始化 POINTERS 为什么？未初始化的指针指向随机位置。此位置可能无法访问，并可能使程序崩溃。当使用 malloc 时，它会增加堆存储并将随机初始化的指针指向一个可以读取/写入的“正常”位置。

3.  此外，使用 malloc 初始化的指针可以使用 realloc() 方法调整大小。这使得内存管理灵活（也容易出错）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-20T07:09:26.410

C动态内存分配是指在C编程语言中通过C标准库中的一组函数进行动态内存分配，即malloc、realloc、calloc和free

*句法：*

```
#include <stdlib.h> 
```

*描述：*

该函数`malloc()`返回一个指向大小为大小的内存块的指针，如果有错误，则返回 NULL。指向的内存将位于堆上，而不是堆栈上，因此请确保在完成后释放它。

*例子：*

```
typedef struct data_type {
  int age;
  char name[20];
} data;

data *bob;
bob = (data*) malloc( sizeof(data) );
if( bob != NULL ) {
  bob->age = 22;
  strcpy( bob->name, "Robert" );
  printf( "%s is %d years old\n", bob->name, bob->age );
}
free( bob ); 
```

Good Read [**C 动态内存分配**](http://en.wikipedia.org/wiki/C_dynamic_memory_allocation)

# sql - nvarchar 列在 sql 中查找上一个日期

> ID：12986171
> 
> 赞同：1
> 
> 时间：2012-10-20T07:08:33.603
> 
> 标签：sql, getdate

我有以下表架构

```
declare @temp table  
 (
   id int identity(1,1) not null,
   nod nvarchar(50) 
 ) 
```

在哪一`nod`列有以下数据

```
insert into @temp select 'N/A'
 insert into @temp select 'N/A'
 insert into @temp select '5'
 insert into @temp select 'N/A'
 insert into @temp select '7'
 insert into @temp select 'N/A'
 insert into @temp select '31'
 insert into @temp select '15' 
```

我希望选择语句应该在以下基础上给我结果

如果`nod`值`'N/A'`那么它应该显示`'N/A'`

或者如果有像 5,15,31 这样的数值，那么它应该显示`getdate()-nod date`日期列

我已尝试关注但未能减去天数并且还表示`'N/A'`在`'N/A'`该 nvarchar 列中的时间

```
 select  DATEADD(dd,case nod when 'N/A' then 0 else nod end,GETDATE()) from @temp 
```

[sql 小提琴在这里](http://sqlfiddle.com/#!3/1ca4b/2)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-20T07:17:39.203

以下查询将返回`VARCHAR(50)`包含“N/A”或`now - nod`日期作为 varchar 的列。

```
SELECT
     CASE nod
         WHEN 'N/A' THEN 'N/A'
         ELSE CONVERT(VARCHAR(50), 
                      DATEADD(dd, 
                              -1 * CONVERT(INT, nod), 
                              GETDATE()
                             )
                     ) 
     END
FROM @temp 
```

# javascript - jQuery - 只选择一个子标签

> ID：12986172
> 
> 赞同：0
> 
> 时间：2012-10-20T07:08:39.900
> 
> 标签：javascript, jquery

我只想选择`a`里面的标签`my-div`。

```
<div id="my-div">
    <li><a class="class1" href="href">text1</a>
        <ul class="ul-internal">
            <li><a href="....">....</a></li>
            <li><a href="....">....</a></li>
        </ul>
    </li>
</div> 
```

我现在正在做的是`$("div#my-div li a")`它返回第一个 li 内的所有标签。你的建议？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-20T07:11:12.770

您可以按索引选择。假设，您想通过以下方式选择第一个`a`：

```
$("div#my-div li a").eq(0) 
```

对于第二个`a`，

```
$("div#my-div li a").eq(1) 
```

等等...

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-20T07:13:04.283

试试这种方式： -

```
div#my-div li a:first 
```

## 例子：

```
$("div#my-div li a:first").each(function() {
    alert($(this)​.attr("href"));
}); 
```

参考**[现场演示](http://jsfiddle.net/SivaCharan/GYRqh/)**

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-20T07:14:07.633

您可以使用`$('#my-div >li a');`

如果您只想选择第一个`a`标签，那么您将要使用

```
$('#my-div > li a:first'); 
```

**[看演示](http://jsfiddle.net/hMZmd/)**

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-20T07:10:46.143

应该有 ID 选择器，它是`#`

```
 $("#my-div li a") 
```

顺便说一句，您的 HTML 结构无效。

# jquery - iframe 在 Firefox 中不起作用

> ID：12986177
> 
> 赞同：1
> 
> 时间：2012-10-20T07:09:15.423
> 
> 标签：jquery, firefox, iframe

[http://stg.fanggle.com/analytics/pentaho/pendingtags.html](http://stg.fanggle.com/analytics/pentaho/pendingtags.html)在这个链接中我有 iframe ...

它在 chrome 中加载，在 Firefox 中它在控制台中显示错误：

1.  访问属性“mantle_initialized”的权限被拒绝 [http://bi.fanggle.com/pentaho/content/reporting/reportviewer/reportviewer-app.js](http://bi.fanggle.com/pentaho/content/reporting/reportviewer/reportviewer-app.js) 第 65 行

2.  模块加载超时：local!dojo [http://requirejs.org/docs/errors.html#timeout](http://requirejs.org/docs/errors.html#timeout) http://bi.fanggle.com/pentaho/js/require.js 第6行

谁能帮我解决这个问题并在所有浏览器中显示

# cluster-computing - 如何可视化集群

> ID：12986178
> 
> 赞同：0
> 
> 时间：2012-10-20T07:09:17.407
> 
> 标签：cluster-computing

有哪些可能的方法来表示（在渲染的意义上）具有大约 4000 个节点的无向​​图集群。因此，人们可以很容易地理解子图的密集分布和分区之间的稀疏分布。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-26T11:48:13.883

对于复杂图形数据的可视化，我们可以使用 gephi 软件，因为它是最好的选择之一。它非常方便、简单且有用。

# c# - 读取包含字符数组的结构

> ID：12986179
> 
> 赞同：1
> 
> 时间：2012-10-20T07:09:22.927
> 
> 标签：c#, arrays, struct, char, binaryreader

我有以下结构：

```
unsafe struct Locomotive
{
    public fixed char locotype[6];
    public int roadno,HP;
} 
```

我已成功将其写入二进制文件。这是代码：

```
Locomotive l1 = new Locomotive();
for (int i = 0; i <= 5; i++)
{
    l1.locotype[i] = textBox1.Text[i];
}
l1.roadno = int.Parse(textBox2.Text);
l1.HP = int.Parse(textBox3.Text);
BinaryWriter bw = new BinaryWriter(File.Open(@"C:\Documents and Settings\Ruchir Sharma\Desktop\Locodata.bin", FileMode.Append));
IntPtr ip = Marshal.AllocHGlobal(Marshal.SizeOf(l1));
Marshal.StructureToPtr(l1, ip, true);
Byte[] b1 = new Byte[Marshal.SizeOf(l1)];
Marshal.Copy(ip, b1, 0, b1.Length - 1);
bw.Write(b1);
MessageBox.Show("Data written successfully");
Marshal.FreeHGlobal(ip);
bw.Close(); 
```

现在，在阅读这个结构时，字符数组，即 locotype[6] 给了我一个问题。我尝试了 BinaryReader.ReadChars() 方法，但它对我不起作用。请帮助我阅读此结构。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-20T07:21:18.147

您的“读取”代码应该与您的“写入”代码相反。你不是用 WriteChars 写的，所以不要用 ReadChars 来读。您应该使用 ReadBytes，然后使用 Marshal.Copy 和 PtrToStructure。

不过，坦率地说，这种“不安全”级别（结构、元帅等中的固定缓冲区）非常罕见且专门化——我担心你可能过度设计了这一点。

# zend-framework - zend 表单浮点和整数验证

> ID：12986182
> 
> 赞同：1
> 
> 时间：2012-10-20T07:09:43.180
> 
> 标签：zend-framework, zend-form, zend-validate

我正在使用zend形式。我想验证一个字段，并希望在该字段中只允许平面和整数值。这意味着用户可以输入任何浮动值，例如`2.0 or 3.56, etc`OR `4 or 7, etc`。但我不想收到`alpha numeric or alphabet input`。

我使用`digit`了验证器，但它只允许`digits`not `floating number`。

任何人都可以告诉我如何将两个验证放在一起吗？

我的代码如下

```
$parent_affiliate_commission = new Zend_Form_Element_Text('parent_affiliate_commission');
$parent_affiliate_commission->setRequired(true)
            ->addFilter('StringTrim')
            ->addFilter('StripTags')
            ->addValidator('Digits')
            ->setAttrib('class', 'small')
            ->addValidator('StringLength', false, array(2, 100))
            ->setDecorators(array('ViewHelper', 'errors')) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-20T22:08:41.603

[创建和使用自定义验证器](http://framework.zend.com/manual/1.12/en/zend.validate.writing_validators.html)真的很容易。您可以简单地通过使用 PHP is_int 和 is_float 函数进行验证，并且仍然以“Zend 方式”进行。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-07-22T06:23:21.063

通过使用回调方法，我已经验证了数字中的值。因为它不允许字符。

```
$inputFilter->add(
                $factory->createInput(
                        array(
                                'name' => 'proximity',
                                'required' => true,
                                'validators' => array(
                                        array(
                                                'name' => 'Callback',
                                                'options' => array(
                                                        'messages' => array(
                                                                \Zend\Validator\Callback::INVALID_VALUE => 'The proximity value should be numbers'
                                                        ),
                                                        'callback' => function  (
                                                                $value, 
                                                                $context = array())
                                                        {
                                                            $isValid = is_numeric(
                                                                    $value);
                                                            return $isValid;
                                                        }
                                                )
                                        )
                                )
                        ))); 
```

# jquery - 重置同位素和淘汰赛布局

> ID：12986187
> 
> 赞同：1
> 
> 时间：2012-10-20T07:10:47.283
> 
> 标签：jquery, knockout.js, jquery-isotope

我在重置/刷新/重新加载基于 Knockout 模型的同位素视图时遇到困难。我已经扩展了一个早期的小提琴来删除和替换项目，但它不可靠并且破坏了排序。

```
 self.reset = function () {
        // Remove all services
        $.each(self.services(), function (index, value) {
            var serviceToDelete = self.services()[0]
            self.removeService(serviceToDelete);
        })

        // Add some back
        self.services.push(new Service('some service', 'and this is a description', 7, '01/01/2000'));
        self.services.push(new Service('another service', 'just another description', 2, '02/01/2000'));
        self.services.push(new Service('driving school', 'learn to drive', 4, '10/01/2000'));
        self.services.push(new Service('ice cream sunday', 'sweet cold and delicious', 3, '01/01/2002'));
        self.services.push(new Service('tootie fruity', 'a rootie', 6, '01/01/2003'));
        self.services.push(new Service('hand gliding', 'you can see your house from here', 5, '01/01/2012'));
        self.services.push(new Service('turkey dinner', 'is not just for thanksgiving', 1, '01/01/2011'));                
    } 
```

我使用“重置”按钮扩展了以下 jsfiddle，该按钮只是从 observableArray 中删除所有项目并一一读取它们。

[http://jsfiddle.net/8uxKF/2/](http://jsfiddle.net/8uxKF/2/)

1.  它在 IE10 中完全失败。小提琴运行窗格甚至没有加载。

2.  它在 Chrome 中部分工作，但在重置后，每当启动排序时都会输出控制台错误：

    未捕获的类型错误：对象 # 没有方法 'sortBy'

3.  在 FF 中，它会出现与 chrome 类似的错误。（但在我的应用程序中无法排序）

任何人都可以帮忙吗？重置后我需要排序才能工作。我不确定这是否是重置的“最佳”方式，因为它似乎会导致问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-21T22:12:46.507

`self`没有调用的函数/属性`sortBy()`（也不会调用`sortDir()`）。您的`serviceAdded`“事件”尝试调用那些不存在的属性，因此失败。

我不清楚你到底应该做什么，你的代码到处都是。也许您应该将这些可观察对象添加到您的视图模型中？

```
function ViewModel() {
    var self = this;
    // ...
    self.sortBy = ko.observable('name');
    self.sortDir = ko.observable('ascending');
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-22T08:05:53.963

除了我已更正的 sortByID 上的一个错误外，我已经查看了代码及其罚款。

令人沮丧和尴尬的是，似乎 jsFiddle 在从 GitHub 提供服务时由于 mimetype 不匹配而阻塞了其中一个资源。需要明确的是，这是在 jsFiddle 中从 GitHub 运行外部脚本的问题。

最终代码发布到 jsfiddle.net/8uxKF/3 以供参考。

# matlab - Matlab中的数字信号处理

> ID：12986189
> 
> 赞同：0
> 
> 时间：2012-10-20T07:10:52.183
> 
> 标签：matlab, signal-processing

我是 DSP 领域的新手，我要绘制啁啾信号的频率时间图，我已经为它编写了代码，现在问题是该程序适用于某些啁啾率值，但是当我增加啁啾率时（I' m 在输入处应用线性啁啾）它显示无意义的结果，例如如果我将啁啾率从 500 更改为 3000，它可能会显示负斜率线或恒定斜率线，显然程序中没有逻辑错误，有人可以解释原因吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T20:34:59.967

如果您的啁啾信号具有高频，您必须有一个精细的时间步长来表示它。试着用一小步让你的时间向量变大。请记住，fft（可能是您正在使用的）是一个离散操作。

# java - 在servlet中生成后如何为pdf文件提供打印选项

> ID：12986190
> 
> 赞同：2
> 
> 时间：2012-10-20T07:11:00.373
> 
> 标签：java, servlets

我的应用程序中有 pdf 文件。我需要在浏览器中显示 pdf。并且还需要为该页面提供打印选项以打印在servlet中如何可能。我正在生成pdf但如何为生成的pdf提供打印选项

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-20T07:59:35.167

我认为`javascript`应该帮助你。

利用`window.print()`

参考：[http ://www.w3schools.com/jsref/met_win_print.asp](http://www.w3schools.com/jsref/met_win_print.asp)

# jquery - JQuery ajax 显示服务器端错误（PHP）

> ID：12986191
> 
> 赞同：-1
> 
> 时间：2012-10-20T07:11:05.850
> 
> 标签：jquery, ajax, json

我想修改以下代码，以便在出现服务器错误时，JS可以弹出PHP创建的返回HTML错误。

```
$.ajax({
    url: 'ajax.php', dataType: 'json',
    data: myData,
    success: function(json){ /**response handler**/}, error: ajaxFail
}); 
```

目前，我正在使用 firebug 查看返回的错误 html，但它远非可读。此刻，当发生错误时，函数 ajaxFail 收到错误：

> SyntaxError: JSON.parse: 意外字符。

如果出现错误，如何让它调用在浏览器中显示 html 响应的函数？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-20T07:47:53.870

我通过 JQuery 参考找到了答案。传递给错误处理函数的第一个参数包括响应文本。

> 从 jQuery 1.5 开始，$.ajax() 返回的 jQuery XMLHttpRequest (jqXHR) 对象是浏览器原生 XMLHttpRequest 对象的超集。

和功能规格：

> 错误（jqXHR，textStatus，errorThrown）

所以要访问它，我在错误函数中读取了 jqXHR.responseText。我只使用了errorThrown，因为它是其他人的代码在进行错误处理。

# java - servlet java.lang.UnsupportedClassVersionError：不支持的major.minor 51.0版

> ID：12986196
> 
> 赞同：1
> 
> 时间：2012-10-20T07:11:31.140
> 
> 标签：java, web-applications

我有我一直在从事的 Google App Engine 项目。一切都很好，直到我更新了我的 jdk7。现在，当我部署我的应用程序时，我收到了 servlet java.lang.UnsupportedClassVersionError: Unsupported major.minor version 51.0 异常。是否有一些研究表明此异常是由运行较旧 jvm 的较新 jdk 编译的字节码引起的。因此，我寻找了 jdk 的最旧版本，我可以找到 jdk6u36 并使用它部署我的项目并且仍然拥有该项目（做了一些其他令人尴尬的事情，看看究竟是什么导致了这个问题，比如删除我的所有类文件并测试他们一个一个并得到所有问题相同的问题）。请我真的需要帮助来解决这个问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-20T07:52:30.753

> 是否有一些研究表明此异常是由运行较旧 jvm 的较新 jdk 编译的字节码引起的。

没错……

> 所以我寻找了我能找到 jdk6u36 的最旧版本的 jdk 并使用它部署了我的项目并且仍然有项目......

好吧，显然这行不通！您在较新的 JDK 上进行编译并在较旧的 JDK/JRE 上进行部署。您需要在较旧的 JDK 上进行**编译。**这就是您的研究刚刚告诉您的...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-20T16:18:58.583

你们有没有说过我正在编译较新的 JDK 并部署在较旧的 JRE 上。因此，为了解决这个问题，我将项目的编译器更改为 jdk 6，方法是右键单击项目->属性->java 编译器。我还更改了 JAVA_HOME 环境变量以指向 JDK6 的位置，这解决了我的问题。非常感谢

# javascript - 将 div 放置在页面外捕获的坐标上

> ID：12986197
> 
> 赞同：0
> 
> 时间：2012-10-20T07:11:45.560
> 
> 标签：javascript, html, coordinates

我有一个主 div，我试图在鼠标单击时捕获的坐标上显示另一个小 div。问题是当我点击最左、最右、最上、最底部时，小 div 超出了主 div。我已经尝试过`overflow:hidden`主 div，但我不想要那样。无论我点击哪里，我都希望 div 位于主 div 内。示例代码：

```
$(document).ready(function() {
    $("#main_div").bind('click', function(event){

    var x = event.pageX-document.getElementById("main_div").scrollLeft;
    var y = event.pageY-document.getElementById("main_div").scrollTop;

    $("#container-5").css({"top":y,"left":x});
   }); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-20T08:19:41.923

您可以检查单击的坐标是否会将小 div 的一部分放在主 div 之外，如果是这样，请更改坐标以使小 div 保留在主 div 内。（见这个[jsFiddle](http://jsfiddle.net/FNkQU/3/)。）

```
$(document).ready(function() {
    $("#main_div").bind('click', function(event) {
        var $mainDiv = $("#main_div");
        var $container5 = $("#container-5");

        var x = event.pageX - $mainDiv.position().left;
        var y = event.pageY - $mainDiv.position().top;

        if (x + $container5.width() > $mainDiv.width()) {
            x = $mainDiv.width() - $container5.width();
        }
        if (y + $container5.height() > $mainDiv.height()) {
            y = $mainDiv.height() - $container5.height();
        }

        $container5.css({
            "top": y,
            "left": x
        });
    });
});​ 
```

# java - 如何在 JSP/Servlet/html 文件中嵌入 mxml 代码？

> ID：12986199
> 
> 赞同：0
> 
> 时间：2012-10-20T07:12:02.770
> 
> 标签：java, apache-flex, jsp, servlets, mxml

我想要一种将 mxml 代码嵌入到 jsp 或 servlet 或 html 文件中的方法。我们怎么能做到这一点？我是否必须从该 mxml 代码嵌入 mxml 代码或编译的 swf/html 文件？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-20T16:21:00.337

您必须将 SWF 文件作为任何静态文件提供。除非您想显示您的代码，否则提供 MXML 文件将毫无用处。

当然，您可以复制或指向 Flash Builder 生成的 HTML 代码，因为它包含在页面中实际包含 SWF 的代码。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-21T11:34:47.120

下面是如何在模型视图控制器架构中创建 Java/Flex 应用程序。

1.  MXML - 视图，显示应用程序的用户界面
2.  ActionScript 类 - 控制器，从 Java 层（Java Servlet / JSP）返回的 XML 或 JSON 文件中提取和处理信息。将 MXML 和 ActionScript 编译为 SWF 文件，并将其嵌入到 Java Servlet / JSP 生成的动态 HTML 中。
3.  Java Servlet/JSPs - 模型包含用于获取数据并将其转换为 XML/JSON 格式的代码。

问候，

# c - 如何在C中的struct内部使用指针

> ID：12986200
> 
> 赞同：0
> 
> 时间：2012-10-20T07:12:05.163
> 
> 标签：c, data-structures, linked-list

我有两个结构，一个是链表。

```
typedef struct Mark{
       int  people;
       Node *nodeyy;
}Mark

typedef struct Node{
       struct node next;
       int value;
}Node 
```

如果我为一个节点分配内存，让我们说

```
 Node *node1=malloc( sizeof(struct Node)); 
```

我还为书签分配了内存，比如说

```
 Mark *mark1=malloc( sizeof(struct Mark)); 
```

我想让mark1中的指针nodeyy指向与node1相同的东西，我该怎么做？

我觉得

```
 mark1->nodeyy=node1; 
```

肯定是错的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-20T07:14:51.807

现在正确：

您必须初始化指针或将其指向您知道不会超出范围的现有变量。但是由于 node1 是动态分配的，因此您只是将一个指针分配给另一个指针，这会创建一种对 node1 指向的新分配内存的引用。

```
mark1->nodeyy = node1; 
```

此语句后，mark1->nodeyy 和 node1 指向 malloc(sizeof(Node)) 返回的内存位置。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-20T07:17:12.327

将 struct Mark 中的 int* 更改为 Node*

```
typedef struct Mark{
       int  people;
       Node *nodeyy;
}Mark 
```

那么你可以做

```
mark -> nodeyy =  (Node *) malloc(sizeof(Node)) 
```

# iphone - 如何获取对象的高度和宽度？

> ID：12986201
> 
> 赞同：0
> 
> 时间：2012-10-20T07:12:09.047
> 
> 标签：iphone, objective-c, ios, xcode, camera

我有一个项目，我需要通过相机获取对象的高度和宽度。也就是说，如果我们打开相机并通过相机查看对象，那么对象的高度和宽度将显示在文本框中。

我们可以这样做还是我的想法是雄心勃勃的？任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-20T07:56:12.253

只有当有其他指标可供您使用时，您才能这样做。

例如，用户指定**同一**图片上特定对象的大小为 1 米。因此，通过使用简单的几何和数学，您可以计算出其他尺寸。如果没有这些信息，您的问题可能会得到解决。

# javascript - 全屏 WinJS.UI.FlipView？

> ID：12986205
> 
> 赞同：1
> 
> 时间：2012-10-20T07:12:28.563
> 
> 标签：javascript, windows-8, microsoft-metro, winjs

FlipView 的文档提到它需要一个绝对大小才能渲染，但我能够让它与百分比一起工作（准确地说是 100%s）。但无论我做什么，我似乎都无法让位于翻转视图内的 <img> 标记也完全缩放。相反，它在翻转视图中保持小并居中。我知道这是可能的，因为已经有现有的应用程序可以做到这一点（例如大多数照片查看应用程序），但我自己似乎无法弄清楚，文档也没有太大帮助。有小费吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-20T07:22:12.063

用途`vh`和`vw`单位

```
.flipview {
width: 100vw;
height: 100vh;
} 
```

# vbscript - 检查特定进程是否处于活动状态并将其杀死

> ID：12986207
> 
> 赞同：1
> 
> 时间：2012-10-20T07:12:49.603
> 
> 标签：vbscript

我需要一个 .vbs 文件来检查特定进程是否处于活动状态并（如果是）终止它。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-20T07:45:43.470

和这个线程一样吗？

[如何使用 VBScript 终止进程](https://stackoverflow.com/questions/893237/how-to-terminate-process-using-vbscript)

除了您只需更改以下行：

```
Set colProcessList = objWMIService.ExecQuery("SELECT * FROM Win32_Process WHERE Name = 'Process.exe'") 
```

至

```
Set colProcessList = objWMIService.ExecQuery("SELECT * FROM Win32_Process WHERE Name = '" & strMyProcess  & "'") 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-09-28T22:48:33.170

```
 myProcess="chrome.exe"                     'repleace chrome.exe with your process name
    Set Processes = GetObject("winmgmts:").InstancesOf("Win32_Process")
    For Each Process In Processes
        If StrComp(Process.Name, myProcess, vbTextCompare) = 0 Then 'check if process exist
           Process.Terminate()                                   'kill the process you find
        End If
    Next 
```

# c++ - 绘制凸缺陷 C++ OpenCV

> ID：12986208
> 
> 赞同：2
> 
> 时间：2012-10-20T07:12:51.183
> 
> 标签：c++, opencv, contour, convex-hull, defects

从下面的代码中，我可以绘制出最大的轮廓，其中质心标记为小圆圈，船体标记为黄线。如何绘制凸面缺陷？我应该使用 circle() 函数还是 drawContours() 函数？

```
Mat bw;
Mat canny_output;
vector<vector<Point> > contours;
vector<Vec4i> hierarchy;

findContours( bw, contours, hierarchy, CV_RETR_TREE, CV_CHAIN_APPROX_SIMPLE, Point(0, 0) );
int s = getBiggestContour(contours);

Mat drawing = Mat::zeros( src.size(), CV_8UC3 ); //UC1

Point2f mc = getCentroidPoint(contours[s]);
drawContours( drawing, contours, s, Scalar(255,255,255), -1, 8, hierarchy, 0, Point() );
circle( drawing, mc, 4, Scalar(0,0,255), 1, 8, 0 );

vector<vector<Point> >hull( contours[s].size() );
convexHull( Mat(contours[s]), hull[s], false );
drawContours( drawing, hull, s, Scalar(0,255,255), 1, 8, vector<Vec4i>(), 0, Point() ); 
```

上面的代码有效，但是只有一个轮廓可以使用，它是最大的轮廓，所以我认为使用 vector> 作为船体太多了。我该如何简化呢？

下面的代码来自另一个 stackoverflow 问题，但它没有显示如何使用缺陷变量将凸面缺陷绘制到 Mat 图像上。如何做到这一点？

```
vector<vector<int> > hullsI(contours.size());
vector<vector<Point> > hullsP(contours.size());
vector<vector<Vec4i> > defects(contours.size());

for(int i = 0; i <contours.size(); ++i){
    //find the hulls
    convexHull(contours[i], hullsI[i], false, false);
    convexHull(contours[i], hullsP[i], false, true);
    //find the defects
    if (contours[i].size() >3 ){
        convexityDefects(contours[i], hullsI[i], defects[i]);
    }
} 
```

我不想使用 IplImage。我更喜欢马特。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-22T14:03:37.213

您可以使用 'cvDrawContours()' 绘制凸包操作的结果，但您需要正确设置参数才能实现。我有一个例子，但它使用 'cvConvexHull2()' 和 IplImages 但它应该以相同的方式用于 Mat 和其他凸包操作：

```
IplImage* src; //the image where the contours are detected on
IplImage frm;  //the image you want the results to be drawn on

CvMemStorage* storage = cvCreateMemStorage(0);
CvSeq* contours = NULL;
cvFindContours(src, storage, &contours, sizeof (CvContour), CV_RETR_LIST, CV_CHAIN_APPROX_SIMPLE);
for (CvSeq* c = contours; c != NULL; c = c->h_next) {
            CvSeq* dest = NULL;
            CvMemStorage* hullStorage = cvCreateMemStorage(0);
            dest = cvConvexHull2(c, hullStorage, CV_CLOCKWISE, 1);
            cvDrawContours(frm, dest, cvScalarAll(255), cvScalarAll(255), 0, 2, 8);
            cvReleaseMemStorage(&hullStorage);
        }
cvReleaseMemStorage(&storage); 
```

# .net - 在c#中插入数据库时 字符串被截断？

> ID：12986216
> 
> 赞同：0
> 
> 时间：2012-10-20T07:13:43.593
> 
> 标签：.net, sql-server-2005, c#-4.0

我是 .net (Visual Studio .net 2010) 的新手，试图在数据库 SQL Server 2005 中插入一个带有列数据类型`varchar(max)`的字符串，它会截断我插入的字符串。

我已经在查询生成器中测试了插入，并且字符串没有被截断。请帮助粘贴下面的代码

```
DirectoryInfo dir = new DirectoryInfo(MapPath(ResID_int));

FileInfo[] file = dir.GetFiles();
ArrayList list = new ArrayList();

//   int i = 0;
foreach (FileInfo file2 in file)
{
   name = "/Albums/" + id+ "/"+ file2.Name;
   Response.Write(name);
   DataSet2TableAdapters.Picture1TableAdapter insert = new Picture1TableAdapter();
   insert.InsertData(name, id);
} 
```

# c++ - 类 `expr_t : public ast_container` 是什么意思？

> ID：12986217
> 
> 赞同：-1
> 
> 时间：2012-10-20T07:13:48.203
> 
> 标签：c++

> **可能重复：**
> [`class HelloWorld : public Gtk::Window` 是什么意思？](https://stackoverflow.com/questions/4478481/what-does-class-helloworld-public-gtkwindow-mean)

我是 C++ 新手，但看了一些教程并阅读了部分加速 C++ ......但看到了类似的东西

```
class expr_t : public ast_container {
public:
    virtual double eval() const = 0;
    ... 
```

第 1 行是什么意思？它声明了一个名为`expr_t`? 然后是什么`ast_container`部分？

然后在第 3 行：`virtual double eval() const = 0`这是什么意思？

*   似乎它声明了一个称为`eval`返回双精度的虚函数，但那`const = 0`是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-20T07:16:16.080

这意味着该类的父类/超类/（无论怎样称呼它）`expr_t`就是`ast_container`该类。乍一看，它大致意味着什么`ast_container`都能做，`expr_t`也能做，还有更多。

# perl - Perl 中的哈希键和值

> ID：12986227
> 
> 赞同：1
> 
> 时间：2012-10-20T07:15:31.477
> 
> 标签：perl

我在 Perl 中有一个问题：从给定的输入中读取一系列姓氏和电话号码。名称和数字应以逗号分隔。然后根据姓氏的字母顺序打印名称和数字。使用哈希。

```
#!usr/bin/perl
my %series = ('Ashok','4365654435' 'Ramnath','4356456546' 'Aniketh','4565467577');
while (($key, $value) = each(sort %series))
{
 print $key.",".$value."\n";
} 
```

我没有得到输出。我哪里错了？请帮忙。提前致谢

```
#!usr/bin/perl
my %series = ('Ashok','4365654435' 'Ramnath','4356456546' 'Aniketh','4565467577');
print $_.",".$series{$_}."\n" for sort keys %series; 
```

如果我执行上述 2 个程序中的任何一个，我会得到与以下相同的输出：

```
String found where operator expected at line 2, near "'4365654435' 'Ramnath'" (Missing operator before  'Ramnath'?)
String found where operator expected at line 2, near "'4356456546' 'Aniketh'" (Missing operator before  'Aniketh'?)
syntax error at line 2, near "'4365654435' 'Ramnath'"
Execution aborted due to compilation errors 
```

但根据问题，我认为我无法将输入存储为`my %series = ('Ashok','4365654435','Ramnath','4356456546','Aniketh','4565467577');`

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-20T07:26:29.517

`each`仅对哈希进行操作。你不能这样使用`sort`，它对列表进行排序而不是哈希。

您的循环可能是：

```
foreach my $key (sort keys %series) {
  print $key.",".$series{$key}."\n";
} 
```

或简写：

```
print $_.",".$series{$_}."\n" for sort keys %series; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-20T10:16:37.557

在您的哈希声明中，您有：

```
my %series = ('Ashok','4365654435' 'Ramnath','4356456546' 'Aniketh','4565467577'); 
```

这正在生成警告。

哈希只是标量的偶数列表。因此，您必须在每对之间放置一个逗号：

```
my %series = ('Ashok','4365654435', 'Ramnath','4356456546', 'Aniketh','4565467577');
             #                    ^---                    ^--- 
```

如果你想在视觉上区分这些对，你可以使用`=>`操作符。这与逗号的行为相同。另外，如果左侧是合法的裸字，则将其视为带引号的字符串。因此，我们可以编写以下任何一种：

```
# it is just a comma after all, with autoquoting
my %series = (Ashok => 4365654435 => Ramnath => 4356456546 => Aniketh => 4565467577);

# using it as a visual "pair" constructor
my %series = ('Ashok'=>'4365654435', 'Ramnath'=>'4356456546', 'Aniketh'=>'4565467577');

# as above, but using autoquoting. Numbers don't have to be quoted.
my %series = (
   Ashok   => 4365654435,
   Ramnath => 4356456546,
   Aniketh => 4565467577,
); 
```

最后一个解决方案是最好的。最后一个逗号是可选的，但我认为它的风格很好——它可以很容易地添加另一个条目。只要左边的裸词是合法的变量名，您就可以使用自动引用。例如`a_bc => 1`有效，但`a bc => 1`无效（变量名中不允许有空格），并且`+/- => 1`不允许（保留字符）。但是，当您的源代码以 UTF-8 编码并且您在脚本中时，这`Ünıçøðé => 1`是*允许的。*`use uft8`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-20T16:29:53.350

除了 amonand Mat 所说的，我还想注意您代码中的其他问题：

*   你的**shebang**应该是错误`#!/usr/bin/perl`的 - 注意第一个`/`
*   你的代码中没有`use strict;`and `use warnings;`- 虽然这不是严格的错误，但我认为这是一个问题。这两个命令将在以后为您省去很多麻烦。

PS：你必须在你的数字和名字之间使用逗号，不仅在名字和数字之间 - 你必须这样做，否则你会得到一个编译错误

# asp.net - Crystal 报表中的子报表未显示服务器中的应用属性

> ID：12986229
> 
> 赞同：1
> 
> 时间：2012-10-20T07:15:55.620
> 
> 标签：asp.net, crystal-reports

我正在使用 Crystal Report 生成报告，并且我有子报告，在子报告中我有一些日期字段和一些金钱字段和评论字段。我为这些字段提供了以下属性：

```
1: Date fields = march 31, 2012
2: Money fields = $(1000,00 )
3: Comments = can grow true 
```

现在的问题是，如果我在本地机器中生成报告，那么一切正常，但如果我在服务器中生成相同的报告，那么我给出的属性不适用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-27T14:35:37.600

我注意到日期和数字字段的这种行为。即使格式列表中提供了所需的输出，也要使用自定义格式。

# coffeescript - coffeescript - 数组初始化

> ID：12986233
> 
> 赞同：0
> 
> 时间：2012-10-20T07:16:09.673
> 
> 标签：coffeescript

我有以下代码显然有效，但我相当确定在咖啡脚本中有一种更简洁的表达方式：

```
 todos = []

  for i in [1..10]                                                                            
    todos.push App.store.find App.Todo, i 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-20T07:17:59.927

```
todos = (App.store.find(App.Todo, i) for i in [1..10]) 
```

括起来的括号表示一个[列表推导](http://coffeescript.org/#loops)，它将返回值收集到一个数组中并返回它。

考虑以下两个示例。括起来的括号改变了 Coffeescript 解释循环的方式。

```
# With parentheses (list comprehension)
todos = (App.store.find(App.Todo, i) for i in [1..10])

# Without parentheses (plain old loop)
todos = App.store.find(App.Todo, i) for i in [1..10] 
```

和输出：

```
// With parentheses
todos = (function() {
  var _i, _results;
  _results = [];
  for (i = _i = 1; _i <= 10; i = ++_i) {
    _results.push(App.store.find(App.Todo, i));
  }
  return _results;
})();

// Without parentheses
for (i = _i = 1; _i <= 10; i = ++_i) {
  todos = App.store.find(App.Todo, i);
} 
```

# java - 找不到基本名称 /Bundle 的捆绑包，语言环境 en_US

> ID：12986234
> 
> 赞同：50
> 
> 时间：2012-10-20T07:16:11.583
> 
> 标签：java, jsf

我正在使用一个依赖于 JSF 的库。

当我尝试运行我的项目时，它显示以下异常按摩..

```
java.util.MissingResourceException: Can't find bundle for base name /Bundle, locale en_US
at java.util.ResourceBundle.throwMissingResourceException(ResourceBundle.java:1427)
at java.util.ResourceBundle.getBundleImpl(ResourceBundle.java:1250)
at java.util.ResourceBundle.getBundle(ResourceBundle.java:705) 
```

有任何想法吗 ？

* * *

## 回答 #1

> 赞同：66
> 
> 时间：2012-10-20T12:41:38.683

例外是在类路径的根目录中需要一个`Bundle_en_US.properties`、 或`Bundle_en.properties`或至少一个`Bundle.properties`文件，但实际上没有。

确保至少有一个提到的文件存在于类路径的根目录中。或者，确保您提供正确的捆绑包名称。例如，如果捆绑文件实际上被放置在 package`com.example.i18n`中，那么您需要`com.example.i18n.Bundle`作为捆绑名称而不是`Bundle`.

如果您使用的是 Eclipse“动态 Web 项目”，则类路径根由`src`文件夹表示，所有 Java 包都在其中。如果您使用的是 Maven 项目，则资源文件的类路径根由文件`src/main/resources`夹表示。

### 也可以看看：

*   [Maven和JSF webapp结构，JSF资源到底放哪里](https://stackoverflow.com/questions/13540907/maven-and-jsf-webapp-structure-where-exactly-to-put-jsf-resources)

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2014-02-02T15:49:02.587

## maven-tomcat-插件

如果您使用`maven-tomcat-plugin`/启动项目`maven-tomcat7-plugin`，则必须将`Bundle.properties`，甚至是`Resource.properties`in `src/main/webapp/WEB-INF/classes`。不要问为什么，因为插件如何伪造一个tomcat。

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2014-08-20T09:02:08.183

如果您在 Eclipse 中运行 .java 文件，则需要在构建路径中添加资源路径。之后你不会看到这个错误

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2018-02-10T23:52:36.517

在我的情况下，问题是使用语言标签“en_US”`Locale.forLanguageTag(..)`而不是“en-US” - 使用破折号而不是下划线！

也可以使用`Locale.forLanguageTag("en-US")`代替`new Locale("en_US")`或`new Locale("en_US")`定义带有区域（“US”）的语言（“en”） - 但`new Locale("en")`有效。

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2012-12-18T22:26:02.993

我有同样的问题，balus 解决方案解决了它。

作为记录：

WEB-INF\faces-config 是

```
<?xml version="1.0" encoding="UTF-8"?>
<faces-config
xmlns="http://java.sun.com/xml/ns/javaee"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xsi:schemaLocation="http://java.sun.com/xml/ns/javaee 
http://java.sun.com/xml/ns/javaee/web-facesconfig_2_0.xsd"
version="2.0">
    <application>
        <locale-config>
            <default-locale>en</default-locale>
        </locale-config>
        <message-bundle>
            Message
        </message-bundle>
    </application>
</faces-config> 
```

并且在 WebContent\Resources 下有 Message.properties（在 mkyong 的教程之后）

即使我将捆绑包重命名为“Message_en_us”和“Message_en”，也会出现令人讨厌的异常。将其移至 src\ 工作。

如果有人发布缺失的部分以使捆绑包在资源下工作，那将是一件美好的事情。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2018-09-16T00:17:17.660

就我而言，我正在处理**SpringBoot**项目，并且遇到了同样的异常。

解决方案是通过**将 env.properties 文件添加到类路径**（即 src/main/resource 文件夹）中。造成问题的原因是在 log4j 配置中有类似的属性

`<Property name="basePath">${bundle:env:log.file.path}</Property>`

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2021-07-20T08:01:50.813

该`Bundle.properties`文件必须在文件的目录中`.class`。如果它位于`src`目录中，那么您需要确保将其复制到`bin`同一包中的（输出）目录中。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2020-03-19T18:09:01.003

在maven中，文件夹资源，在配置文件所在的地方创建相同的包结构，并复制到那里

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2017-03-31T22:59:26.543

问题一定是**faces-config.xml**文件中的 resource-bunde > base-name 属性具有不同的属性路径。这发生在我的 firstcup Java EE 教程中，我在创建项目时给了一个不同的包名称，然后 Glassfish 无法找到“firstcup.web”上的属性文件夹。

我希望它有所帮助。

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2019-07-14T19:51:40.590

我能够解决问题，资源在我的项目目录中，但是当 junit 实用程序尝试加载它时，它返回 MissingResourceException 错误。原因是资源不在测试类包的类路径中，所以当我在 eclipse 中将 cfg/ 文件夹添加到我的类路径路径条目并将构建 conf 中的输出目录设置为同一个类包时，问题是解决。

当您尝试这种方法时，只需确保类路径 conf 文件显示资源目录的类路径条目（例如 cfg/）

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2017-01-27T20:24:41.453

我在使用 Netbeans 时遇到了同样的问题。我去了项目文件夹并复制了属性文件。我认为单击“构建”，然后单击“类”。我在该文件夹中添加了属性文件。这解决了我的问题。

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2017-02-08T06:03:02.020

我使用 Eclipse（没有 Maven），所以我将`.properties`文件放在`src`还包含 java 源代码的文件夹中，以便在构建项目后将`.properties`文件放在文件夹中。`classes`它工作正常。看看这篇文章：[https ://www.mkyong.com/jsf2/cant-find-bundle-for-base-name-xxx-locale-en_us/](https://www.mkyong.com/jsf2/cant-find-bundle-for-base-name-xxx-locale-en_us/)

希望这对您有所帮助。

* * *

## 回答 #13

> 赞同：0
> 
> 时间：2018-11-04T20:37:54.650

确保您没有在错误的资源文件夹中添加属性文件，因为在“网页”下有一个，在“其他来源/...”下有一个。他们需要在“其他来源/...”下。

# android - 在android中设置图像对比度

> ID：12986238
> 
> 赞同：0
> 
> 时间：2012-10-20T07:16:27.097
> 
> 标签：android, image, android-emulator

我想在 android 中制作应用程序简单的图像编辑器。首先，我想让应用程序在 android 中使用 seekbar 更改对比度图像。我没有找到关于这个的教程，你能帮我吗？谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-20T07:25:16.480

试试下面的教程：

[http://xjaphx.wordpress.com/learning/tutorials/](http://xjaphx.wordpress.com/learning/tutorials/)

# jsp - JSP 函数运行错误

> ID：12986240
> 
> 赞同：0
> 
> 时间：2012-10-20T07:17:05.750
> 
> 标签：jsp

我在一个jsp页面中编写了以下jsp代码进行测试

```
<%!
    public String sayHello(String myName)
    {
          out.println("Hello Java"); // this line shows error
          return "Hello"+myName;
    }
%>

<%
  String str="William";
%>

   <%=sayHello(str)%> 
```

如果我删除以下行页面运行没有错误

```
 out.println("Hello Java"); 
```

同样，如果我运行一个仅包含以下行的 jsp 文件（不是上面的代码），那么它也运行良好

```
 out.println("Hello Java"); 
```

请帮助我我在哪里做错了

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-20T07:18:28.507

您不能在方法中使用`JSP`隐式*对象。*为了访问自定义方法中的隐式对象，您已将*隐式*( ) 对象的引用传递给该方法，但*强烈建议不要*`JspWriter`在 JSP 中使用 Java 代码。

 *更多信息请阅读[wiki](https://stackoverflow.com/tags/jsp/info)和[How to Avoid Java Code in JSP-Files？](https://stackoverflow.com/questions/3177733/how-to-avoid-java-code-in-jsp-files).*

# html - 从论坛中提取用户视图

> ID：12986243
> 
> 赞同：1
> 
> 时间：2012-10-20T07:17:23.097
> 
> 标签：html, extract, jsoup, forum

我想从论坛线程中提取用户帖子。仅用户文本。如何使用 Jsoup 或样板从 html 页面中提取？请给我一个解决方案。

给我一个解决方案

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-21T14:16:08.730

1.  使用 jsoup 连接到网站，如下所示：http: [//jsoup.org/cookbook/input/load-document-from-url](http://jsoup.org/cookbook/input/load-document-from-url)
2.  使用选择器来获取您需要的帖子。示例和所有可能的选择器列表可在此处获得：http: [//jsoup.org/cookbook/extracting-data/selector-syntax](http://jsoup.org/cookbook/extracting-data/selector-syntax)

一般来说，您应该查看[Jsoup Codebook](http://jsoup.org/cookbook/)。

您需要登录还是可以以访客身份访问论坛？

# ruby - 给定一个数组，返回一个哈希

> ID：12986245
> 
> 赞同：-2
> 
> 时间：2012-10-20T07:17:37.483
> 
> 标签：ruby

编写一个方法，给定一个数组，返回一个哈希，其键是数组中的单词，其值是每个单词出现的次数。

```
arr=["A", "man", "a", "plan", "a", "canal","Panama"]
# => {'a' => 3, 'man' => 1, 'canal' => 1, 'panama' => 1, 'plan' => 1} 
```

我该如何做到这一点？这是我的代码：

```
hash={}
arr.each do |i|
    hash.each do |c,v|
       hash[c]=v+1
    end
end 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-20T07:23:23.720

```
hash = arr.inject({}) do |hash, element| 
  element.downcase!
  hash[element] ||= 0
  hash[element] += 1
  hash
end 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-20T07:24:45.950

```
arr.inject­(Hash.new(­0)){|h,k| k.dow­ncase!; h[k] += 1; h} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-20T15:56:11.233

```
arr = ["A", "man", "a", "plan", "a", "canal","Panama"]
r = {}
arr.each { |e| e.downcase!; r[e] = arr.count(e) if r[e].nil? } 
```

输出

```
p r
#==> {"a"=>3, "man"=>1, "plan"=>1, "canal"=>1, "panama"=>1} 
```

# asp.net - asp.net ajax 问题

> ID：12986249
> 
> 赞同：1
> 
> 时间：2012-10-20T07:18:16.327
> 
> 标签：asp.net, ajax

我想验证文本更改事件的文本框。当我单击按钮并输入任何无效地址时，首先出现**无效电子邮件地址**错误，然后立即隐藏。

我还有一个 isRecordAlreadyExist 函数，这个函数检查数据库中是否存在重复值。我希望在 textchanged 事件中执行此检查。但是事件 Dosent 被触发。并且不检查该值。我的代码：

```
<tr>
            <td style="padding-top: 20px;">
                Email Address<asp:RequiredFieldValidator ID="RequiredFieldValidator5" runat="server"
                    ErrorMessage="*" ControlToValidate="txtEmail" ForeColor="Red" ValidationGroup="val" Display="Dynamic"></asp:RequiredFieldValidator>
            </td>
            <td style="padding-top: 20px;">
                <asp:UpdatePanel ID="UpdatePanel2" runat="server">
                    <ContentTemplate>
                        <asp:TextBox ID="txtEmail" runat="server" OnTextChanged="txtEmail_TextChanged" AutoPostBack="true"></asp:TextBox><asp:RegularExpressionValidator
                            ID="regexEmail" runat="server" ErrorMessage="Invalid Email Address" ControlToValidate="txtEmail"
                            ValidationExpression="\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*" ForeColor="Red"
                            ValidationGroup="">
                        </asp:RegularExpressionValidator>
                    </ContentTemplate>
                </asp:UpdatePanel>
            </td>
        </tr>
<tr>
            <td style="padding-top: 10px;">
                <asp:Button ID="btnSubmit" runat="server" Text="Submit" CssClass="btnSubmitCSS" OnClick="btnSubmit_Click"
                    ValidationGroup="val" OnClientClick="return chk_isValid();" />
                <asp:Button ID="btnReset" runat="server" CausesValidation="False" Text="Reset" CssClass="btnSubmitCSS"
                    OnClick="btnReset_Click" />
            </td>
        </tr> 
```

我的代码背后..

```
protected bool isRecordAlreadyExist(TextBox txt_Value, int res)
{
    ds = new DataSet();
    paramArray = new string[3, 2];
    paramArray[0, 0] = "@uname";
    paramArray[0, 1] = txtuname.Text.Trim();
    paramArray[1, 0] = "@emailid";
    paramArray[1, 1] = txtEmail.Text.Trim();
    paramArray[2, 0] = "`";
    obj = new DalLib();
    ds = obj.getDataSet("sp_Tbl_Login_MatchValues", paramArray);
    gvLogin.DataSource = ds.Tables[res].DefaultView;
    if (ds.Tables[res].Rows.Count > 0)
    {
        mtvResult.ActiveViewIndex = 3;
        btnSubmit.Enabled = false;
        return false;
    }
    else
    {
        btnSubmit.Enabled = true;
        return true;
    }
} 
```

我的 asp：查看控件：

```
<asp:View ID="vAlreadyExist" runat="server">
            <img src="Images/delete.png" alt="Edit" />
            <asp:Label ID="lblAlreadyExist" runat="server">Record Already Exist</asp:Label>
        </asp:View>

protected void btnSubmit_Click(object sender, EventArgs e)
    {

        if (ViewState["action"].ToString() == "Insert")
        {
            obj = new DalLib();
            paramArray = new string[7, 2];
           // if (!string.IsNullOrEmpty(txtFullName.Text.Trim()))
            {
                paramArray[0, 0] = "@FullName";
                paramArray[0, 1] = txtFullName.Text.Trim();
            }

            //if (!string.IsNullOrEmpty(txtuname.Text.Trim()))
            {

                paramArray[1, 0] = "@uname";
                paramArray[1, 1] = txtuname.Text.Trim();
            }
            //if (!string.IsNullOrEmpty(txtPwd.Text.Trim()))
            {
                paramArray[2, 0] = "@pwd";
                paramArray[2, 1] = txtPwd.Text.Trim();
            }
            //if (!string.IsNullOrEmpty(txtEmail.Text.Trim()))
            {
                paramArray[3, 0] = "@emailid";
                paramArray[3, 1] = txtEmail.Text.Trim();
            }

            paramArray[4, 0] = "@isAdmin";
            paramArray[4, 1] = chkAdmin.Checked.ToString();

            paramArray[5, 0] = "@isActive";
            paramArray[5, 1] = chkActive.Checked.ToString();
            paramArray[6, 0] = "`";
            result = obj.setData("sp_Tbl_Login_Insert", paramArray);
            LoadData();
            EmptyFields();
            mtvResult.ActiveViewIndex = 0;
        } 
```

}

```
protected void txtEmail_TextChanged(object sender, EventArgs e)
{
    isRecordAlreadyExist(txtEmail, 1);
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-20T07:23:16.077

您正在将客户端验证与服务器混合。你有`AutoPostBack="true"`文本框。正则表达式检查客户端上的验证，不需要 AutoPostBack。单击按钮时需要服务器验证。`Removing AutoPostBack`from text box 将导致客户端验证文本框`check the email format`模糊，服务器验证将在按钮单击时完成。也`remove` `OnTextChanged="txtEmail_TextChanged"`来自文本框。

# jquery - 使用统一和验证插件时，选择元素未显示错误验证

> ID：12986255
> 
> 赞同：2
> 
> 时间：2012-10-20T07:18:35.980
> 
> 标签：jquery, jquery-validation-engine

我正在尝试使用内联表单验证引擎 2.6.1，jQuery 插件和统一的 ui jquery 插件。验证消息与输入文本框一起显示得很好。但对于选择（下拉）元素，验证错误消息未显示。

下面是我使用的插件的链接。

提前感谢您的任何帮助或建议

期待回复，因为我需要紧急修复这件事。

[验证插件 github](https://github.com/posabsolute/small-build-script-with-node)

[验证插件_doc](http://www.position-absolute.com/articles/simple-build-script-to-minify-and-concatenate-files-using-node-js/)

[统一的ui插件](http://uniformjs.com/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T16:30:47.710

为此，您所要做的就是覆盖 div.selector 的 CSS 样式。

```
div.selector {
  position: relative;
  padding-left: 10px;
 overflow: visible; 
```

}

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-28T09:44:38.943

发生这种情况的原因是因为 Uniform 使用了一个隐藏溢出的 div 来包含所有元素，所以基本上你的错误消息就在那里，但你在我刚才提到的 div 之外看不到它。

长话短说，在 Uniform CSS 文件中搜索下面的代码并注释或删除溢出行。

```
div.selector {
  position: relative;
  padding-left: 10px;
  /*overflow: hidden;*/
} 
```

# php - 如何在codeigniter中构造一个活动记录查询？

> ID：12986257
> 
> 赞同：3
> 
> 时间：2012-10-20T07:19:00.880
> 
> 标签：php, codeigniter, activerecord

我最近开始将我的 codeigniter 应用程序中的后端查询转换为活动记录模式。截至目前，我正在使用 codeigniter 2.1 版本。我最初在 mysql 中编写了一个查询作为

```
SELECT * FROM table WHERE (field1 = $field1 OR field2 = $field2) AND field3 = $field3 AND field4 = 'text' 
```

现在我想用下面给出的方式写这个东西：

```
$this->db->select('*');
$this->db->from('table');
$this->db->where('field1',$field1);
$this->db->or_where('field2',$field1);
$this->db->where('field3',$field2);
$this->db->where('field4','text'); 
```

但不知何故，“or_where”功能无法正常工作。对此有任何解决方案，我会很高兴吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-20T07:24:03.080

你写自定义字符串`Active Record`

```
$where = "(field1 = " . $field1 . " OR field2 = " . $field2 . ") AND 
          field3 = ". $field3 . " AND field4 = 'text'";
$this->db->where($where); 
```

[单击此处获取来源：**Active Record**（*并浏览自定义字符串*）](http://codeigniter.com/user_guide/database/active_record.html#select)

# iphone - ZBar iPhone，设置超时

> ID：12986259
> 
> 赞同：0
> 
> 时间：2012-10-20T07:19:13.267
> 
> 标签：iphone, timeout, zbar-sdk

我在我的 iPhone 应用程序中成功使用了 ZBarSDK。唯一的问题是：有时扫描仪无法读取条形码。我没有找到如何设置超时（如果代码栏在 5 秒内无法读取，则中止扫描）。

有隐藏选项吗？还是诡计？

在此先感谢您的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-20T12:04:01.010

@le_jax ZBarSDk 配置为一组特定的符号，如此[处所述](http://zbar.sourceforge.net/index.html)

" *ZBar 是一个开源软件套件，用于从各种来源读取条形码，例如视频流、图像文件和原始强度传感器。它支持许多流行的符号（条形码类型），包括 EAN-13/UPC-A、UPC- E、EAN-8、Code 128、Code 39、Interleaved 2 of 5 和 QR 码。* "

您可以使用诸如此类的 Web 资源[来](http://www.barcoding.com/upc/)测试应用程序的功能。

您在此处查询的内容为您尚未设置所需的符号系统

```
[scanner setSymbology: ZBAR_I25 config: ZBAR_CFG_ENABLE to: 0]; 
```

或与配置设置有关的东西。您可以从 zbar.h（ZBar SDK 的一部分）检查完整的支持符号集。

```
typedef enum zbar_symbol_type_e {
    ZBAR_NONE        =      0,  /**< no symbol decoded */
    ZBAR_PARTIAL     =      1,  /**< intermediate status */
    ZBAR_EAN2        =      2,  /**< GS1 2-digit add-on */
    ZBAR_EAN5        =      5,  /**< GS1 5-digit add-on */
    ZBAR_EAN8        =      8,  /**< EAN-8 */
    ZBAR_UPCE        =      9,  /**< UPC-E */
    ZBAR_ISBN10      =     10,  /**< ISBN-10 (from EAN-13). @since 0.4 */
    ZBAR_UPCA        =     12,  /**< UPC-A */
    ZBAR_EAN13       =     13,  /**< EAN-13 */
    ZBAR_ISBN13      =     14,  /**< ISBN-13 (from EAN-13). @since 0.4 */
    ZBAR_COMPOSITE   =     15,  /**< EAN/UPC composite */
    ZBAR_I25         =     25,  /**< Interleaved 2 of 5\. @since 0.4 */
    ZBAR_DATABAR     =     34,  /**< GS1 DataBar (RSS). @since 0.11 */
    ZBAR_DATABAR_EXP =     35,  /**< GS1 DataBar Expanded. @since 0.11 */
    ZBAR_CODE39      =     39,  /**< Code 39\. @since 0.4 */
    ZBAR_PDF417      =     57,  /**< PDF417\. @since 0.6 */
    ZBAR_QRCODE      =     64,  /**< QR Code. @since 0.10 */
    ZBAR_CODE93      =     93,  /**< Code 93\. @since 0.11 */
    ZBAR_CODE128     =    128,  /**< Code 128 */

    /** mask for base symbol type.
     * @deprecated in 0.11, remove this from existing code
     */
    ZBAR_SYMBOL      = 0x00ff,
    /** 2-digit add-on flag.
     * @deprecated in 0.11, a ::ZBAR_EAN2 component is used for
     * 2-digit GS1 add-ons
     */
    ZBAR_ADDON2      = 0x0200,
    /** 5-digit add-on flag.
     * @deprecated in 0.11, a ::ZBAR_EAN5 component is used for
     * 5-digit GS1 add-ons
     */
    ZBAR_ADDON5      = 0x0500,
    /** add-on flag mask.
     * @deprecated in 0.11, GS1 add-ons are represented using composite
     * symbols of type ::ZBAR_COMPOSITE; add-on components use ::ZBAR_EAN2
     * or ::ZBAR_EAN5
     */
    ZBAR_ADDON       = 0x0700,
} zbar_symbol_type_t; 
```

我不太确定是否有诸如超时时间之类的东西来检查 ZBar 是否无法解码符号，但是可以肯定你有委托方法可以使用

```
- (void) readerView: (ZBarReaderView*) readerView didReadSymbols: (ZBarSymbolSet*) symbols
          fromImage: (UIImage*) image; 
```

我可以建议的（我之前遇到的第二次进入扫描仪屏幕时无法扫描代码的[问题](https://stackoverflow.com/questions/12257995/zbar-api-embedded-scanner-blur-issue)）是您可以按照 SDK 中提供的示例重新配置 SDK，或者您可以确认支持的符号（以防万一您正在尝试解码一些不受支持的格式）。

如果您遇到任何设置超时期限的标准方法，请在 SO 上分享。

干杯！！

# gdb - 使用 boost::iostreams 时未找到警告消息 RTTI 符号

> ID：12986261
> 
> 赞同：6
> 
> 时间：2012-10-20T07:19:42.097
> 
> 标签：gdb, eclipse-cdt, rtti, debug-symbols, boost-iostreams

我使用 Boost::iostreams 同时写入我的控制台和一个文件。当我使用 Eclipse 进行调试时（当然是使用 gdb），我收到一条警告，提示我在 Boost::iostreams 中使用的某个类中找不到 RTTI 符号。

这是重现问题的最少代码。

```
#ifndef BOOST_IO_STREAM_H_
#define BOOST_IO_STREAM_H_

#include <fstream>
#include <boost/iostreams/tee.hpp>
#include <boost/iostreams/stream.hpp>
using boost::iostreams::tee_device;
using boost::iostreams::stream;

typedef tee_device<std::ostream, std::ofstream> TeeDevice;
typedef stream<TeeDevice> TeeStream;

#endif /* BOOST_IO_STREAM_H_ */

int
main()
{

  /* A config file to output experiment details */
  std::string self_filename = "./experimentconfig.txt";
  std::ofstream fconfig(self_filename.c_str());
  TeeDevice my_tee(std::cout, fconfig);
  TeeStream cool_cout(my_tee);

  cool_cout << "Output to file and console during experiment run" << std::endl;

  return 0;
} 
```

当我在调试期间越`TeeStream cool_cout(my_tee);`线时，我收到以下警告：

```
warning: RTTI symbol not found for class 'boost::iostreams::stream<boost::iostreams::tee_device<std::ostream, std::basic_ofstream<char, std::char_traits<char> > >, std::char_traits<char>, std::allocator<char> >'
warning: RTTI symbol not found for class 'boost::iostreams::stream_buffer<boost::iostreams::tee_device<std::ostream, std::basic_ofstream<char, std::char_traits<char> > >, std::char_traits<char>, std::allocator<char>, boost::iostreams::output>' 
```

只要遇到对象cool_cout，就会重复警告。我该如何解决？当然，使用此代码的程序可以工作，我对此没有任何问题。不应忽略警告，并且必须获得一些关于 RTTI 符号的知识。（我无法使用 -f nortti 编译，然后可执行文件抱怨说绝对应该启用 rtti 以使用 iostreams）

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-20T18:23:09.213

您应该关注的警告来自编译器，这是实际创建程序的原因。最终用户不应该使用调试器，它对您的二进制文件本身没有影响。

虽然 gdb 有时会发现问题，但其中的许多警告是因为 gdb 使用调试符号，而使用者 (gdb) 有错误和防御。通常他们只是减少 gdb 的功能。在这种情况下，调试器中可用的有关该类的信息较少。它使调试更加困难，但不会损害应用程序本身。

对于如何处理此错误，您有多种选择。

1.  忽略 gdb 中的警告并继续生活。
2.  获取 gdb 的源代码并尝试找出问题并提交补丁。我相信它会受到欢迎。
3.  使用不同的调试器。（不过，我见过的所有替代品都是付费产品。）
4.  重写程序以不使用任何模板。gdb 模板处理是大多数符号查找问题存在的地方。

# android - Android MapView 控件更改背景颜色而不影响其他视觉属性

> ID：12986262
> 
> 赞同：0
> 
> 时间：2012-10-20T07:19:42.707
> 
> 标签：android, background, styles, android-mapview

我有一个 Android 应用程序，它使用我在右上角添加`MapView`的控件（移动到用户的当前位置）。`ImageButton`我遇到的问题是 ImageButton 控件的背景太透明了，但是更改它`android:background="#BBFFFFFF"`会改变背景的大小并删除您通常在按下按钮时看到的蓝色“闪光” - 我希望保留这两个品质。

我从这样的事情开始：

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent" >

<com.google.android.maps.MapView
xmlns:android="http://schemas.android.com/apk/res/android"
android:id="@+id/mapview"
android:layout_width="fill_parent"
android:layout_height="fill_parent"
android:clickable="true"
android:apiKey="my api key"
/>

<ImageButton android:id="@+id/googlemaps_select_location"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignParentTop="true"
    android:layout_alignParentRight="true"
    android:layout_marginTop="13dp"
    android:layout_marginRight="13dp"

    android:src="@drawable/device_access_location_found"/> 

</RelativeLayout> 
```

这实现了如下所示：

![ImageButton 控件的背景太透明](../Images/dc96bb26ab7f79f2dedaba6b855e32bd.png)

所以我补充说：

```
android:background="#BBFFFFFF" 
```

我明白了：

![ImageButton 控件具有更不透明的背景，但其他属性受到影响](../Images/3e1d06be26eb0d2834173b4ac4e69bcf.png)

请注意，虽然这基本上是我想要的不透明度级别，但更改背景会影响填充，并且按下时也不会显示蓝色“闪光”（这显然没有在这个问题中说明）。

所以我的问题是，如何在未按下状态下仅更改背景颜色/不透明度，同时保留按钮的其他视觉质量？我简要阅读了有关 Android 样式和主题的内容，但甚至无法弄清楚该按钮的样式/主题来自何处，以及如何在保留所有其他视觉功能的同时覆盖背景颜色/不透明度。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-20T18:47:15.013

**问题**

当您为视图背景分配固定颜色时，您将用您定义的固定颜色替换视图中的默认背景。

实际上，按钮的背景并不是简单的固定颜色。它是颜色或可绘制对象的状态列表，这意味着，根据按钮状态（焦点、选定、按下等），使用不同的背景，从而在按下按钮时产生“闪烁”动画。如果你用一个简单的固定颜色替换这个状态列表，而不是依赖于按钮状态，你会得到一个固定的背景（即按下按钮时不改变）。

**解析度**

有一个 xml 参数可用于更改图像视图的 alfa（即透明度），即：

```
 android:alpha="1" 
```

其中`1`上面的值可以是 0 到 1 之间的任何浮点数，1 是最大不透明度。但是，我相信这并不能解决您的问题，因为如果我正确理解您的问题，您想更改背景的 alfa 而不是图像 alfa。无论如何，默认值似乎是`1`.

应该为您工作的一种可能性是定义一个`selector`用作背景。选择器将根据他的状态选择可绘制对象。

**例子**

```
<?xml version="1.0" encoding="UTF-8"?>
<selector xmlns:android="http://schemas.android.com/apk/res/android">
  <item android:state_pressed="true" android:drawable="@android:color/darker_gray" />
  <item android:drawable="@android:color/white" />
</selector> 
```

将上面的 xml 文件`drawable-xxxx`以名称保存在您的文件夹中。`my_selector` 在此示例中，我使用标准的 android 颜色，但您可以定义自己的颜色。您需要为希望具有不同颜色的每个不同按钮状态分配一种颜色。

然后您需要将您的`ImageView`背景定义为您在上面定义的选择器：

```
<ImageButton
    android:id="@+id/googlemaps_select_location"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignParentRight="true"
    android:layout_alignParentTop="true"
    android:layout_marginRight="13dp"
    android:layout_marginTop="13dp"
    android:background="@drawable/my_selector"
    android:src="@drawable/device_access_location_found" /> 
```

通过以上更改，按钮使用的免费颜色将在按下按钮时发生变化，并且您可以具有“闪光”效果。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-23T04:58:52.187

为了我的目的，我最终使用了一种*样式*来继承外观，`Widget.ImageButton`只需进行一些小的调整：

我的`/res/values/styles.xml`文件现在看起来像：

```
<resources>

<style name="AppTheme" parent="android:Theme.Light" />

<style name="my_loc_btn_style" parent="@android:style/Widget.ImageButton">
    <item name="android:layout_marginTop">8dp</item>
    <item name="android:layout_marginRight">8dp</item>
</style>

</resources> 
```

我的布局文件有：

```
<ImageButton android:id="@+id/googlemaps_select_location"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignParentTop="true"
    android:layout_alignParentRight="true"
    style="@style/my_loc_btn_style"
    android:src="@drawable/device_access_location_found"/> 
```

这似乎继承了一个`Widget.ImageButton`似乎只是稍微透明的背景，这就是我所追求的，所以我现在根本不设置透明度。

# c++ - 在opencv c ++（移动相机）上检测运动

> ID：12986265
> 
> 赞同：6
> 
> 时间：2012-10-20T07:20:10.097
> 
> 标签：c++, opencv, camera, motion

我正在为大学做一个项目，并且正在使用 OpenCV（这真的很棒）。

现在我的问题是：
我有一个视频 (.avi)，我已经检测到所有我想知道的关于突然出现在红色和黄色之间的 RGB 范围内的斑点的信息。在我实现了一个保存有关像素值的所有信息的矩阵之后，最后我创建了一个红色比例的图像，表示中值像素值。

真正的问题是视频不是静态的，并且相机会移动（不是太多，但它会移动）。
我可以计算相机运动的 x 和 y 坐标，以便可以移动矩阵的值吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-20T07:34:13.663

谁在乎你的英语？直到我们了解您的问题:) 您真正可以做的是尝试在 OpenCV 中实现的 KLT 运动检测。这是一个指向 KLT 的链接，也称为[光流](http://www.google.com/url?sa=t&rct=j&q=&esrc=s&source=web&cd=4&cad=rja&ved=0CD0QFjAD&url=http://web.yonsei.ac.kr/jksuhr/articles/Kanade-Lucas-Tomasi%2520Tracker.pdf&ei=E1OCUL66OJO00QXyqYGoBA&usg=AFQjCNH2_j7DwvLdcdueoMGH-mwAXRdWqg&sig2=51JYlJub5po-Q9y1sCU8ng)如果您可以过滤掉仅限于 blob 的运动矢量，您当然可以掌握要跟踪的对象。更好地为 KLT 提供要跟踪的对象初始坐标/区域。您是否检查过 OpenCV blob 库以获取 blob？这是[链接](http://www.google.com/url?sa=t&rct=j&q=&esrc=s&source=web&cd=2&cad=rja&ved=0CCkQFjAB&url=http://sourceforge.net/projects/cvblobslib/&ei=4lOCUMr0HarV0QWDnoGYBQ&usg=AFQjCNF0yk0j7lgcyFcD9hGqsPBUDDz_fw&sig2=SSi4E6aIaxRyuK_8q8LjUQ)

# mysql - 从mysql中表的日期属性中获取月份和日期值

> ID：12986267
> 
> 赞同：0
> 
> 时间：2012-10-20T07:20:19.520
> 
> 标签：mysql, date

我创建了一个如下表。

```
actor(id, first_name, last_name, dob); 
```

其中 dob 是 Ymd 格式。所以我想找演员，他们在每月或每日有 b'days。请帮助我获得解决方案。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-20T07:23:56.623

将此查询用于日期

`select * from actor where DAY(dob) = 12;`

一个月

`select * from actor where MONTH(dob) = 5;`

您也可以使用`AND`运算符将​​它们结合起来。

看看[这个](http://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html#function_month)。您会发现更多可以使用的日期和时间功能

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-20T07:24:18.417

尝试`day`和`month`功能

```
select * from actor
where day(dob)=x and month(dob)=y 
```

在此处查看更多`datetime`功能[http://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html](http://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html)

# python - 如何计算数字/位数组的所有可能性（在 python 或任何语言中）

> ID：12986272
> 
> 赞同：11
> 
> 时间：2012-10-20T07:21:28.980
> 
> 标签：python, arrays, combinations

我已经连续绞尽脑汁3个小时了，但我仍然不明白，所以我在这里问。（我在标题中写了 Python，但这可能适用于几乎任何语言）

假设我有一个固定长度 n 的位数组（但它也可能是定义范围内的整数），比如说 5。

```
array=[0,1,1,0,0] 
```

现在，我如何生成所有数组，这些数组在数字范围内是可能的（在位的情况下，2）。

所以：

```
[0,0,0,0,0], [0,0,0,0,1], [0,0,0,1,0], [0,0,0,1,1] ... 
```

我曾尝试在这里寻找解决方案，但我总能找到类似的东西，但并不能完全解决我的问题。

为了解决这个问题，我尝试了各种循环，但我总是会多次获得一种可能性（不应该发生），或者没有获得所有可能的可能性。

我可以使用 if 语句来做到这一点（检查组合是否已经存在），但这似乎非常简单。

有没有一种简单的方法，只使用循环来获得所有的可能性？

谢谢

编辑：因为这在下面提到，不，这不是家庭作业。这是为了研究以实现二元状态的贝叶斯网络。（开关）。

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-10-20T19:05:33.747

在 Python 中，使用[itertools](http://docs.python.org/library/itertools.html#itertools.product)来处理这样的事情

```
from itertools import product
for i in product([0,1], repeat=5): 
    print i 
```

产量：

```
(0, 0, 0, 0, 0)
(0, 0, 0, 0, 1)
(0, 0, 0, 1, 0)
(0, 0, 0, 1, 1)
(0, 0, 1, 0, 0)
etc... 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-10-20T07:25:47.127

我将通过从 0 循环到 31 (0b11111) 并将二进制表示转换为固定长度的数组来解决这个问题。

你没有用语言标记它，所以我不确定如何给你示例代码，但这种方法应该有效。

```
1: 00001
2: 00010
3: 00011
...
30:11110
31:11111 
```

编辑：刚刚看到你用 Python 标记了这个问题。实现上述算法的示例 python 代码：

```
listLength=5
for x in range(0,2**listlength):
    print(list(bin(x)[2:].zfill(listlength))) 
```

打印出来：

```
['0', '0', '0', '0', '0']
['0', '0', '0', '0', '1']
['0', '0', '0', '1', '0']
['0', '0', '0', '1', '1']
['0', '0', '1', '0', '0']
['0', '0', '1', '0', '1']
['0', '0', '1', '1', '0']
['0', '0', '1', '1', '1']
['0', '1', '0', '0', '0']
['0', '1', '0', '0', '1']
['0', '1', '0', '1', '0']
['0', '1', '0', '1', '1']
['0', '1', '1', '0', '0']
['0', '1', '1', '0', '1']
['0', '1', '1', '1', '0']
['0', '1', '1', '1', '1']
['1', '0', '0', '0', '0']
['1', '0', '0', '0', '1']
['1', '0', '0', '1', '0']
['1', '0', '0', '1', '1']
['1', '0', '1', '0', '0']
['1', '0', '1', '0', '1']
['1', '0', '1', '1', '0']
['1', '0', '1', '1', '1']
['1', '1', '0', '0', '0']
['1', '1', '0', '0', '1']
['1', '1', '0', '1', '0']
['1', '1', '0', '1', '1']
['1', '1', '1', '0', '0']
['1', '1', '1', '0', '1']
['1', '1', '1', '1', '0'] 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2018-01-27T04:42:47.120

```
import numpy as np
def all_combinations(width, vals):
    return np.array(np.meshgrid(*[vals]*width,
                    indexing='ij')).reshape((width,-1)).transpose()

print(all_combinations(width=3, vals=[0,1]))
print(all_combinations(width=2, vals=['a','b','c'])) 
```

输出：

```
[[0 0 0]
 [0 0 1]
 [0 1 0]
 [0 1 1]
 [1 0 0]
 [1 0 1]
 [1 1 0]
 [1 1 1]]
[['a' 'a']
 ['a' 'b']
 ['a' 'c']
 ['b' 'a']
 ['b' 'b']
 ['b' 'c']
 ['c' 'a']
 ['c' 'b']
 ['c' 'c']] 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-20T07:58:51.983

这是一个通用的递归伪代码来做你想要的。

```
array_combination is function (length, elements)
  if length < 1 
  then abort
  end if

  declare arrays as new array
  if length is 1 
  then
    loop for element in elements
      declare element_array as new array
      set element_array[0] to element
      append element_array to arrays
    end loop
  else
    loop for array in array_combination(length - 1, elements)
      loop for element in elements
        declare element_array as new array
        set element_array[0] to element
        append array to element_array
        append element_array to arrays
      end loop
      append array to arrays
    end loop
  end if
  return arrays
end function 
```

对于给定的示例，您可以将此函数称为“array_combination(5, [1,0])”。有更好的方法来构建它，但是a）我太老了，不能做作业，b）我不知道你的作业的限制，c）我不想让你作弊太明显。

请注意重复代码和消除常见子表达式的机会，以及极其浪费的内存分配和缓存滥用。但是，我假设这是第一季度的计算机科学作业，所以他们可能不会反对你。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2022-02-01T19:38:23.777

一个古怪的解决方案是认为，在每次“迭代”直到大小为 n 时，您都会将新维度中 0 或 1 的组合数量加倍。

从最简单的情况 n=1 开始：

```
[[0],
 [1]] 
```

当 n=2 时，在分别添加 0 和 1 之前重复数组：

```
[[0, 0],
 [1, 0],
 [0, 1],
 [1, 1]] 
```

您可以继续前进，直到尺寸为 n。实现这一点，您将拥有：

```
BIN = np.array([[0], [1]])
for i in range(n-1):
    size = BIN.shape[0]
    BIN = np.vstack((np.hstack((BIN, np.zeros((size, 1)))), np.hstack((BIN, np.ones((size, 1)))))) 
```

这不是最漂亮的解决方案，但它开启了使用递归实现的可能性。

# html - 创建固定标题

> ID：12986276
> 
> 赞同：0
> 
> 时间：2012-10-20T07:22:31.017
> 
> 标签：html, css, header

我正在尝试基于[THIS DESIGN](http://tympanus.net/Tutorials/SmoothTransitionsResponsiveLayout/)创建一个网站。它的教程可以在[这里找到](http://tympanus.net/codrops/2012/06/12/css-only-responsive-layout-with-smooth-transitions/)

我想创建一个固定的标题，如果用户已经登录，它将包含用户名和密码文本 InputBoxes 或用户名。我尝试使用以下 CSS 以通常的方式进行操作。

```
 position: fixed;
    width: 100%;
    top: 0; 
```

但不知何故，标题根本不显示。无论我在上面的设计中滚动多少个部门，我如何有一个固定的标题并保持在那里？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-20T08:02:49.987

**以下是您的操作方法：**

1.  设置固定标题的**高度或用****内容**填充它，使其不为空
2.  设置一个高**z-index**，这样它就不会被#st-container 重叠

CSS：

```
height: 50px
z-index: 999 
```

这是**jsfiddle**：http: [//jsfiddle.net/ncQGc/](http://jsfiddle.net/ncQGc/)

# c# - 如何将数据库版本从 655 更改为 612？

> ID：12986281
> 
> 赞同：0
> 
> 时间：2012-10-20T07:23:38.760
> 
> 标签：c#, sql-server-2008, sql-server-2005

错误 -

> *mdf文件无法打开，因为它是655版本，这个版本支持612或更早版本*

笔记 ：

我使用 SQL Server 2005 创建了这个数据库文件，后来该文件在 SQL Server 2008 中打开，然后自动将版本从 612 更改为 655。

但我目前想在 SQL Server 2005 中打开该文件。

任何解决方案都是可能的，然后帮助我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-20T07:25:22.400

升级`mdf`是一个单向过程。您必须返回备份、文件的早期版本或重新创建它。

我猜你没有备份或文件的早期版本（没有人在这些网站上发布“我如何找回*东西*”知道备份是什么）。

就重新创建而言，您可以将数据库附加到 SQL Server 2008 实例（或更高版本），然后使用 SQL Server Management Studio 将数据库导出到 '05 实例上的空白数据库中。

在 Management Studio 中使用[生成脚本向导](http://msdn.microsoft.com/en-us/library/ms178078%28v=sql.90%29.aspx)。您可以使用此向导来构建将重建数据库的查询。确保选择编写*架构和数据*脚本并将目标服务器版本设置为 SQL Server 2005。

或者，您可以使用[SQL Server 导入和导出向导](http://msdn.microsoft.com/en-us/library/ms140052.aspx)，尽管它可能无法将您的所有数据库对象都导入其中。

# javascript - 私有对象属性

> ID：12986285
> 
> 赞同：1
> 
> 时间：2012-10-20T07:23:57.270
> 
> 标签：javascript, object, prototype, requirejs, private

我有一个 RequireJs 模块，它实例化另一个模块并代理它的一些方法。我现在想隐藏模块实例本身，只允许通过代理方法进行访问。

```
define(['mediator'], function(Mediator) {

  var Proxy;

  Proxy = function(prefix) {
    this.prefix = prefix;
    this.mediator = new Mediator();
  };

  Proxy.prototype.on = function(event, callback, context) {
    this.mediator.subscribe(this.prefix + event, callback, context || this);
  };

  Proxy.prototype.off = function(event, callback, context) {
    this.mediator.unsubscribe(this.prefix + event, callback, context || this);
  };

  Proxy.prototype.trigger = function() {
    arguments[0] = this.prefix + arguments[0];
    this.mediator.trigger.apply(this.mediator, arguments);
  };

  return Proxy;

});

require(['proxy'], function(Proxy) {

  var proxy = new Proxy('sample:');

  // this access is secured and bound to the prefix
  // I cannot mess up with other events which do not belong to me
  proxy.on('log', function(message) { console.log(message); });
  proxy.trigger('log', 'hi hello');

  // unfortunately there still would be a hack to leave my event scope
  proxy.mediator.trigger('outerscope:test', 'blabla');

}); 
```

如您所见，可以访问代理原型的内部使用的调解器对象并弄乱它......

我现在想以某种方式隐藏中介实例，但不知道在哪里。我可以将它存储在 requirejs 模块回调中的一些普通变量中，但这不适用于 requirejs 并且可能导致重叠。

那我还能做什么？

**更新：**

```
define(['mediator'], function(Mediator) {

  var Proxy;

  var mediator = new Mediator();

  Proxy = function(prefix) {
    this.prefix = prefix;
  };

  Proxy.prototype.on = function(event, callback, context) {
    mediator.subscribe(this.prefix + event, callback, context || this);
  };

  Proxy.prototype.off = function(event, callback, context) {
    mediator.unsubscribe(this.prefix + event, callback, context || this);
  };

  Proxy.prototype.trigger = function() {
    arguments[0] = this.prefix + arguments[0];
    mediator.trigger.apply(this.mediator, arguments);
  };

  return Proxy;

});

require(['proxy'], function(Proxy) {

  var proxy = new Proxy('sample:');
  proxy.on('log', function(message) { console.log(message); });

}); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-20T09:00:35.103

这是 Javascript 中闭包内变量封装的典型示例。您需要将调解器实例定义为与`Proxy`. 这将允许 Proxy 对象通过闭包进行访问，`Mediator`但会将 Mediator 与您的定义回调之外的代码隔离开来。所以像这样：

```
define(['mediator'], function(Mediator) {

    // Make mediator local scope variable
    var mediator = new Mediator(),

    Proxy = function(prefix) {
        this.prefix = prefix;
    };

    Proxy.prototype.on = function(event, callback, context) {
        mediator.subscribe(this.prefix + event, callback, context || this);
    };

    // ... rest of the code

    return Proxy;

}); 
```

# json - 如何从 Google Maps 路线服务 API V3 的 JSON 响应中操作多个路线值？

> ID：12986290
> 
> 赞同：1
> 
> 时间：2012-10-20T07:24:18.877
> 
> 标签：json, google-maps

如何从 Google Maps 路线服务 API V3 的 JSON 响应中操作多个路线值？

```
directionsService.route(request, function(response, status) {
    if (status == google.maps.DirectionsStatus.OK) {
        //Need to access the multiple routes values here.
        directionsDisplay.setDirections(response);
    }
}); 
```

# android - 包 R 不存在

> ID：12986301
> 
> 赞同：127
> 
> 时间：2012-10-20T07:25:00.293
> 
> 标签：android

我得到可怕的包裹`R`不存在，它正在杀死我。代码很好我在市场上有运行代码的应用程序。

现在它正在影响简单的`webview`应用程序。o.0

`R.string.app_name`是我的错误`main.xml`，`string.xml`很好。我很困惑。

我重新打开了`"borrow"`一些代码的旧版本，它被淹没了`R. errors.`我做了一个干净的，除了`R.android`在顶部添加导入之外没有任何改变。

我什至加载到 Netbeans 并得到同样的结果。清洁不起作用。我可以自己写`R.java`文件吗？

这是什么`R`东西？不是`R`。应该对应`R.java`

* * *

## 回答 #1

> 赞同：140
> 
> 时间：2014-02-21T15:16:02.870

对于遇到这种情况的任何人，我通过重命名命名空间文件夹进行了重构。我只是忘了编辑 AndroidManifest，这就是我收到此错误的原因。

确保你也检查这个。

* * *

## 回答 #2

> 赞同：101
> 
> 时间：2013-06-12T02:21:05.063

## 只是为了简单起见：

```
import your.app.package.R; 
```

当然，替换`your.app.package`为您的应用程序包。

在所有使用 R 资源引用的类中，使用**删除**任何其他`import`类`.R`，即`import android.R;`

* * *

## 回答 #3

> 赞同：56
> 
> 时间：2015-05-01T11:34:50.120

**TL;DR**，如果您收到错误“包 R 不存在”，可能的原因是

*   XML 资源文件中的一些错误
    -> 修复 XML 错误
*   当前包与包不同`R`（参见`package` AndroidManifest.xml 中的属性）
    -> 导入`R`类，例如`import com.example.android.R;`
    -> 或在源中使用适当的包，例如`package com.example.android;`
    -> 或将 AndroidManifest.xml 中的[包](https://developer.android.com/guide/topics/manifest/manifest-element.html#package)属性更改为 `<manifest xmlns:android="..." package="com.example.android" ...>`，如果合适的话
*   使用的`R`id 来自系统资源
    -> 不导入 ，`android.R`但在有问题的`android.`id前加上.`android.R.layout.simple_list_item_2`
    `android.R``R``com.example.android.R.id.main_menu`

* * *

该类是从应用程序的资源中自动生成的`R` *。*它包含这些资源的s，并包含在 相应文件`id`的标记中命名的包中 。[`<manifest>`](http://developer.android.com/guide/topics/manifest/manifest-element.html)`AndroidManifest.xml`

如果资源 XML 文件中没有错误，`R.java`则会在下面的包子目录中生成源`gen/`并编译。

* * *

包中还有另一个`R`类`android`。该类[`android.R`](http://developer.android.com/reference/android/R.html)包含一些嵌套类，这些嵌套类又包含*系统*资源`id`的 s 和其他值。

 ** * *

要在 Java 中使用类，您必须使用整个包命名该类，例如

```
java.util.List<Object> list = new java.util.ArrayList<Object>(); 
```

或导入该类，然后在没有包的情况下使用它

```
import java.util.List;
import java.util.ArrayList;
List<Object> list = new ArrayList<Object>(); 
```

如果当前类和使用的类都在同一个包中，您也可以使用一个类而不命名包，例如

```
package com.example.android;
public class A {
    /* ... */
} 
```

```
package com.example.android;
public class B {
    public void useA() {
        A a = new A();
    }
} 
```

* * *

## 回答 #4

> 赞同：25
> 
> 时间：2012-10-20T07:30:11.887

永远不要尝试自己编写 R 类！

您是否在文件中导入了正确的 R 类？

正在做

```
import android.R; 
```

代替

```
import com.example.R; 
```

似乎是很多人的问题。在清理和构建之后，我的课程有时会导入错误的课程。

* * *

## 回答 #5

> 赞同：12
> 
> 时间：2015-12-28T04:14:35.603

如果您在 android studio 中开发并重构了包名，那么您应该在 android manifest 和 app gradle 文件中更改包名。

```
 applicationId "change here your package name" 
```

并在清单文件中

```
 package="change here your package name" 
```

* * *

## 回答 #6

> 赞同：10
> 
> 时间：2012-10-20T07:27:13.687

R.java 是一个自动生成的文件，如果您在 xml 文件中有错误，它通常不会被编译。

否 您不能编写自己的 R.java 文件，它必须由资源编译器生成。

检查所有 xml 文件中的错误。

* * *

## 回答 #7

> 赞同：7
> 
> 时间：2015-02-06T20:50:04.203

我想它以前可以工作，但现在它不..

如果您在 MANIFEST 文件中更改 PACKAGE 名称，可能会发生这种情况

```
<manifest
   package="com.example.android...." 
```

如果要更改包名称

1.  在清单文件中手动更改包名称。
2.  单击您的 R.java 类，然后按 F6。它将允许您将类移动到其他包，并且对该类的所有引用都将被更新。

* * *

## 回答 #8

> 赞同：6
> 
> 时间：2014-01-23T18:41:47.473

[R 类](https://stackoverflow.com/questions/6804053/understand-the-r-class-in-android)是从您的 XML 文件（UI 布局、国际化字符串等）自动生成的 Java 代码。如果该代码以前可以工作（看起来确实如此），您需要告诉您的 IDE 以某种方式重新生成这些文件：

*   在 IntelliJ 中，选择 Tools > Android > Generate sources for <project>
*   （如果您知道其他 IDE 中的方法，请随时编辑此答案！）

* * *

## 回答 #9

> 赞同：4
> 
> 时间：2018-07-15T22:05:09.317

我在使用 Bazel 构建 Android 应用程序时遇到了这个错误：

```
error: package R does not exist
                + mContext.getString(R.string.common_string),
                                      ^
Target //libraries/common:common_paidRelease failed to build
Use --verbose_failures to see the command lines of failed build steps. 
```

确保您的`android_library`/`android_binary`使用`AndroidManifest.xml`具有正确`package=`属性的 an，如果您在or上使用该`custom_package`属性，请确保其拼写正确。`android_library``android_binary`

* * *

## 回答 #10

> 赞同：4
> 
> 时间：2021-03-06T04:17:03.720

在子包中使用 R 时可能会发生这种情况示例：

com.example; // -app 包和主资源映射到应用包

com.example.order; // -子包

如果您需要访问诸如以下的资源，请在子包中

R.Layout.orderLayout - 这里 R 将不可用。

为了解决这个问题，您将从主包中导入 R。IE。对于 com.example.order 文件夹/包中的文件，您将导入

包 com.example.order 导入 com.example.R；

* * *

## 回答 #11

> 赞同：3
> 
> 时间：2012-10-20T07:58:33.713

删除导入android.R；从所有文件中......一旦清理项目并构建项目......它将生成

* * *

## 回答 #12

> 赞同：3
> 
> 时间：2018-02-28T07:45:02.587

示例：我的包是**com.example.mypc.f01**，要修复错误，您可以在 Activity 中添加以下行：

**`import com.example.mypc.f01.R;`**

* * *

## 回答 #13

> 赞同：3
> 
> 时间：2019-11-27T06:38:27.823

以下是一些可用于消除此错误的技术：-

1.  清理你的项目，Buidl->clean Project
2.  重建项目，构建 -> 重建项目
3.  打开清单并检查是否缺少任何资源
4.  如果缺少特定 id 的签入布局，请添加它
5.  如果上述步骤不起作用，则重新启动 android studio 并使缓存无效

* * *

## 回答 #14

> 赞同：2
> 
> 时间：2014-08-23T23:44:26.463

就我而言，我意识到我在项目中创建了多个包。在 Android 清单中，我发现提供程序名称错误地保存了 MyContentProvider 的值，而不是 .provider.MyContentProvider。我的主要包（带有 UI）是 co.companyname.database.provider 而不是 co.companyname.database。

然后在受影响类的导入语句上，我只需右键单击并要求 Android Studio (0.8.6) 优化我的导入语句。我还注意到，如果您在 IDE 右上角的 AS 搜索栏中搜索 .R，您可以找到一个自动生成的 R.java 文件，该文件是您的包的一部分。此时，您无需更改任何内容。在您更正 Android Manifest 文件并重建后，Studio 应修复项目。

另一项是在一个类中，我正在使用 toString().length() 来评估一个字符串，但将它们换成了 TextUtils.IsEmpty (stringVal); 想不出我为解决这个问题所做的任何其他事情。

希望这可以帮助某人。

NB - 所有这一切都与 AS 0.8.6

附言

R.java 是自动生成的，因此请阅读标题：/* AUTO-GENERATED FILE。不要修改。* * 这个类是由 * aapt 工具从它找到的资源数据中自动生成的。* 不应手动修改。*/

* * *

## 回答 #15

> 赞同：2
> 
> 时间：2014-12-17T14:45:21.937

当我遇到这种情况时，我创建了一个新项目，并将文件从我的旧项目复制到我的新项目。

1.  开始一个新项目
2.  将旧文件添加到新项目中（复制并右键单击布局，drawables，com.packagename，...）以粘贴我的旧项目文件

但是，我仍然有同样的问题：`R does not exist`. 然后我意识到我已经从记事本复制并粘贴了 Manifest 到 Android Studio 清单中，并且我没有更改清单文件中的包名称。

因此，一旦我将清单中的包名称更改为新项目名称，我创建的新项目就可以正常工作。

* * *

## 回答 #16

> 赞同：2
> 
> 时间：2020-08-16T16:57:35.193

下面是为我工作的。

1.  在**AndroidManifest.xml**文件中，检查包名是否输入正确。
2.  导入 com.example.appName.R; （导入包_name.R;）

如果第一步不起作用，请尝试第二步。

* * *

## 回答 #17

> 赞同：1
> 
> 时间：2012-10-20T07:31:09.157

**您将哪些文件导入到出现 R 错误的文件中？**

我对 R 文件的理解是，它们是自动生成的 Android 应用程序中所有属性的引用列表。因此，您无法自行更改。

**您是否使用 Eclipse 来构建这个项目？旧项目是否在更新 Eclipse 之前出现了这些错误？出现错误的参考文献是什么？**

检查以确保您没有从另一个应用程序中的其他复制代码导入另一个 R 文件。

* * *

## 回答 #18

> 赞同：1
> 
> 时间：2021-10-20T17:42:02.847

这就是我解决它的方法 在多次尝试***构建失败后 -> 清理项目***，然后是***构建 -> 重建项目***

**第 0 步**： 在我的情况下，确保**AndroidManifest.xml**中的包名称是正确的

```
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.example.myproject"> 
```

**步骤 1** 将光标放在**myproject**之前，然后按**Shift + F6** -> Rename Package -> 提供新的包名称，然后在***Scope***下选择**All Places** -> **Refactor**

**第 2 步：**关闭自动导入

*对于 Windows，它的*文件 -> 设置 -> 编辑器 -> 常规 -> 自动导入

在 Java 下

取消选中即时添加明确的导入

取消选中动态优化导入

应用并保存

**第 3 步：**清理并重建 ***Build -> Clean Project***，然后是***Build -> Rebuild Project***

现在，当您在构建期间收到错误消息时。打开显示 R.java 丢失或找不到“R”类的文件

**第 4 步：** 打开文件并转到代码中的导入部分并手动添加***import com.example.myproject.R;***

对构建部分中提到的所有具有此错误的文件重复相同的操作

清洁和重建，你很高兴！

* * *

## 回答 #19

> 赞同：1
> 
> 时间：2016-12-09T15:05:35.003

你可以试试

Android Studio 顶部菜单 > 文件 > 使缓存无效/重新启动...

单击无效缓存/重新启动按钮以重新启动您的项目

如果某些片段类 R 类没有正确解析，请再次解析 R.xxxx.xxx

然后重建你的项目

希望能帮助到你

* * *

## 回答 #20

> 赞同：1
> 
> 时间：2017-07-18T14:28:36.567

刚刚摆脱了我项目中的错误。我已经导入了一个示例项目，我已经更改了包文件夹，但我没有更新其中一个 java 文件中的包。

此错误“包 R 不存在”的最可能原因是 Java 或清单文件中的包名称不正确。确保它正确且同步，然后进行干净的构建。

* * *

## 回答 #21

> 赞同：1
> 
> 时间：2021-04-11T09:12:32.593

由于 xml 文件中的错误，此错误为 100%。您可以在 Logcat->error 中检查该特定错误。然后解决。如果解决了 xml 错误，则应用程序将运行。当您从其他来源复制代码时，通常会出现这种情况。在我的情况下，xml 文件中的 Button 出现错误。我没有正确输入 Button 。如果您解决了该错误，您和您的应用程序将顺利运行。如果还显示此错误，请不要担心并继续前进。

* * *

## 回答 #22

> 赞同：1
> 
> 时间：2016-05-31T02:41:52.520

每次我切换计算机并尝试从通过 USB 传输的文件中导入旧项目时都会遇到这个问题。

我的解决方法是创建一个新项目并将文件复制（拖动）到 IDE（当前使用 Netbeans）并重建。这是一个烦恼和一个有点hacky的解决方案，但它解决了这个问题。

如果您遇到这种情况，最坏的情况是您可能必须备份文件，删除项目，然后将文件拖到那里并重新编译。希望它不会发生，但那将是你的核选择。

* * *

## 回答 #23

> 赞同：0
> 
> 时间：2020-04-19T18:10:15.793

我忘记在我的 java 类的顶部添加我的“包”的“名​​称”。检查你的是否真的被添加了。

* * *

## 回答 #24

> 赞同：0
> 
> 时间：2015-08-18T05:14:27.227

如果您在 Android Studio 中遇到此错误：

检查 Gradle 模块文件 -> defaultConfig -> applicationId 设置。

检查 AndroidManifest.xml -> 清单包标记。

检查所有 src java 文件中的包声明。

使用 Gradle 同步、清理然后重建。

永远不要构建自己的 R 文件。R 是从您的源 java 文件和构建设置自动生成的。

* * *

## 回答 #25

> 赞同：0
> 
> 时间：2018-02-10T21:06:53.580

错误的路径：项目“兑现”了指向图像的指针，如果您对路径进行了名称更改，例如重构包或文件夹。然后只需简单地再次写 R 字母，编辑器会建议正确的路径，它会起作用。在这种情况下，您的文件名是正确的，并且 R. 指针中引用的内容存在，但路径错误，因此清理和构建将不起作用。

* * *

## 回答 #26

> 赞同：0
> 
> 时间：2017-04-17T14:37:26.520

如果在解决合并冲突后出现此错误，简单的 Build -> Clean project 可能会有所帮助。

* * *

## 回答 #27

> 赞同：0
> 
> 时间：2016-10-25T03:34:40.293

我有：“错误：包 R 不存在”并假设 javac 无权访问 R.java。
所以我将 %PROJ_LOC%\gen 附加到源路径，它工作了！SOURCEPATH=%PROJ_LOC%\src;%PROJ_LOC%\gen

我没有使用 Android Studio 或 Ant（或 XML）。

* * *

## 回答 #28

> 赞同：0
> 
> 时间：2017-09-08T07:40:15.337

有时，只需将项目重新导入 Android Studio 即可解决。

* * *

## 回答 #29

> 赞同：0
> 
> 时间：2018-03-05T09:05:24.990

*R.*破损的另一种情况是**Annotations Processing**。

某些处理可以引用位于某些文件夹或文件夹级别中的类。如果您将所需的课程移动到其他位置，您可以获得*R.*作为未知课程。

不幸的是，这个问题的错误指针在 Android Studio 中并不明显。

* * *

## 回答 #30

> 赞同：0
> 
> 时间：2018-03-29T12:00:35.963

自己编写 R.java 没有任何好处，因为它在每次构建时都会更改，

请记住使用*R.something 例如：R.raw.filename*来自内部类，其包值类似于 AndroidManifest.xml 中的包值

因为 R. 资源 ID 是为当前应用程序或库定义的，并且它们都在编译时检查是否存在，因此允许从不针对当前应用程序或库的“代码”访问它们是没有意义的，并且可以可以在其他地方使用。

* * *

## 回答 #31

> 赞同：-2
> 
> 时间：2015-06-21T21:15:13.983

我解决了我的问题：

> 包 R 不存在

.

转到`AndroidManifest.xml`文件并`minSDKVersion="17"`从 19更改*

# iphone - 垂直对齐 UILabel 中的文本

> ID：12986312
> 
> 赞同：5
> 
> 时间：2012-10-20T07:27:20.957
> 
> 标签：iphone, ios, ipad, uilabel

我是 iPhone 新手，

如何垂直对齐 UILabel 中的文本？

这是我的代码片段，

```
 UILabel *lbl=[[UILabel alloc]init];
    lbl.frame=CGRectMake(10,10,100,100);
    lbl.backgroundColor=[UIColor clearColor];
    lbl.font=[UIFont systemFontOfSize:13];
    lbl.text=@"123456";
    [scrollVw addSubview:lbl]; 
```

显示的文本格式为，`123456`但我希望文本应该垂直显示，

```
6
5
4
3
2
1 
```

**任何帮助都会得到帮助。**

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-20T07:37:09.730

它不可能`UILabel`垂直对齐文本。`sizeWithFont:`但是，您可以使用of 方法动态更改标签的高度`NSString`，并根据需要设置其 x 和 y。

作为替代方案，您可以使用`UITextField`. 它支持`contentVerticalAlignment`peoperty，因为它是`UIControl`. 您必须将其设置`userInteractionEnabled`为`NO`以防止用户在其上键入文本。

**编辑 1**

好吧，而不是 UILabel ，制作一个 UITableView 像：-

```
TableActivityLevel=[[UITableView alloc] initWithFrame:CGRectMake(224, 203, 27, 0) style:UITableViewStylePlain];
TableActivityLevel.delegate=self;
TableActivityLevel.dataSource=self;
TableActivityLevel.autoresizingMask = UIViewAutoresizingFlexibleHeight; 
TableActivityLevel.rowHeight = 17;
TableActivityLevel.backgroundColor=[UIColor clearColor];    
TableActivityLevel.layer.borderColor = [[UIColor clearColor]CGColor];
TableActivityLevel.separatorStyle = UITableViewCellSeparatorStyleNone; 
```

**编辑 2**也找到了使用 UILabels 的方法！：） 看一下这个....

```
UILabel *label1 = [[UILabel alloc]initWithFrame:CGRectMake(0.0, 0.0, 10.0, 100.0)];
[label1 setBackgroundColor:[UIColor clearColor]];
[label1 setNumberOfLines:0];
[label1 setCenter:self.view.center];
[label1 setFont:[UIFont fontWithName:@"Helvetica" size:12.0]];
[label1 setTextColor:[UIColor whiteColor]];
[label1 setTextAlignment:UITextAlignmentCenter];
[label1 setText:@"1 2 3 4 5 6"];
[self.view addSubview:label1]; 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-20T08:26:20.643

如果它只是您的示例中的单行文本，您可以使用各种解决方法。我个人会创建一个 UILabel 子类，如下所示，

```
@implementation VerticalLabel

- (id)initWithCoder:(NSCoder *)aDecoder
{
    self = [super initWithCoder:aDecoder];
    if (self) {
        self.numberOfLines = 0;
    }
    return self;
}

- (void)setText:(NSString *)text {
    NSMutableString *newString = [NSMutableString string];
    for (int i = text.length-1; i >= 0; i--) {
        [newString appendFormat:@"%c\n", [text characterAtIndex:i]];
    }

    super.text = newString;
}

@end 
```

你现在只需要更换

```
UILabel *lbl = [[UILabel alloc] init]; 
```

和

```
UILabel *lbl = [[VerticalLabel alloc] init]; 
```

获取垂直文本。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-10-20T07:54:36.383

嗨，下面的代码运行良好

```
UILabel *lbl=[[UILabel alloc]init];
lbl.frame=CGRectMake(10,10,10,300);
lbl.backgroundColor=[UIColor clearColor];
lbl.numberOfLines=6; // Use one to 6 numbers
lbl.font=[UIFont systemFontOfSize:13];
lbl.text=@"123456";

NSString *reverse=lbl.text;
NSMutableString *reversedString = [NSMutableString string];
NSInteger charIndex = [reverse length];
while (charIndex > 0) {
    charIndex--;
    NSRange subStrRange = NSMakeRange(charIndex, 1);
    [reversedString appendString:[reverse substringWithRange:subStrRange]];
}
NSLog(@"%@", reversedString);

CGSize labelSize = [lbl.text sizeWithFont:lbl.font
                          constrainedToSize:lbl.frame.size
                              lineBreakMode:lbl.lineBreakMode];
lbl.frame = CGRectMake(
                         lbl.frame.origin.x, lbl.frame.origin.y,
                         lbl.frame.size.width, labelSize.height);

lbl.text=reversedString;

 [scrollview addSubview:lbl]; 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-10-20T07:58:51.220

```
UILabel *lbl=[[UILabel alloc]init];
    lbl.frame=CGRectMake(10,10,10,100);
    lbl.backgroundColor=[UIColor clearColor];
    lbl.font=[UIFont systemFontOfSize:13];
    lbl.text=@"123456";
    lbl.numberOfLines = 10;
    [self.view addSubview:lbl]; 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-10-20T07:30:00.817

您不能进行垂直对齐，而是使用另一种方式来显示它

```
UILabel *lbl=[[UILabel alloc]init];
lbl.frame=CGRectMake(10,10,100,400);
lbl.backgroundColor=[UIColor clearColor];
lbl.font=[UIFont systemFontOfSize:13];
lbl.text=@"1\n2\n3\n4\n5\n6";
[scrollVw addSubview:lbl]; 
```

# java - 使用等待方法时，使用 Runtime.getrunTime 调用 exe 会挂起

> ID：12986313
> 
> 赞同：2
> 
> 时间：2012-10-20T07:27:21.150
> 
> 标签：java, web-services, process, runtime.exec

我正在使用该`Runtime.getRunTime()`方法在 Java 中为 Web 服务调用 exe。如果我在不使用的情况下调用它，`Process.wait()`那么它可以正常工作，但如果我将它与该`wait()`方法一起使用，那么我的进程将挂起，我必须重新启动 Tomcat。

有人能说出为什么会这样吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-20T07:40:15.987

[这向您展示了为什么](http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/Process.html)程序“waitsFor()”外部进程完成执行。

现在，外部程序有可能正在请求您的程序阻塞的 stdout 和 stderr。这会导致永久等待或所谓的死锁。[有关详细信息，请参阅此](https://stackoverflow.com/questions/882772/capturing-stdout-when-calling-runtime-exec/882795#882795)。

# c# - MYSQL 连接到 C# 窗口应用程序

> ID：12986316
> 
> 赞同：1
> 
> 时间：2012-10-20T07:28:37.110
> 
> 标签：c#, .net, mysql

我将在这里使用 c# .net 2.0 制作一个 smaill 应用程序我必须连接 Mysql 服务器我正在尝试很多教程但失败了

我在用

```
string constr = "Server=11.22.33.123;Port=3306;Database=bfcerin_ad;" + 
                "Uid=<user id here>;Pwd=<password here>;pooling=false;";
MySqlConnection con = new MySqlConnection(constr);

con.Open(); 
```

我已经尝试了两次，我的用户名和密码都很好，但服务器拒绝访问

我可以使用此代码连接到 localhost mysql，但不能连接到远程 mysql 服务器

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-21T05:22:39.877

登录您的 cpanel 并单击 Remote MYSQL，然后添加 Remote Database Access Hosts put % 以授予对所有主机的访问权限。

# objective-c - 格式字符串不是文字字符串（可能不安全）警告

> ID：12986317
> 
> 赞同：4
> 
> 时间：2012-10-20T07:28:44.267
> 
> 标签：objective-c, ios, xcode

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-10-20T07:38:22.367

使用以下行：

```
self.progressHud.labelText = [NSString stringWithFormat:@"%@", message]; 
```

在目标 C 中，此行从任何格式（例如 int、float 等）获取值以显示标签。因为 UILabel 和 IBOutlet 元素只显示 NSString 值。

但是，如果您不需要创建具有多个变量的字符串，那么简单地使用会更有效：

```
self.progressHud.labelText = message; 
```

# javascript - 如何使用 jQuery 选择器访问实际的 DIV？

> ID：12986323
> 
> 赞同：0
> 
> 时间：2012-10-20T07:29:09.990
> 
> 标签：javascript, jquery, html

我有一个动态填充其他 div 的 div ......

```
<div id="wrapper">

</div>

//javascript 
 for(//a bunch of times){
  var d = document.cloneNode('divModel');
  d.foo = {//bunch of stuff };
  document.getChildById('wrapper').appendChild(d) is applied later to fill in child divs
} 
```

现在我想循环遍历 wrapper 的子元素并用那个 foo 做一些事情。

当我通过普通的 javascript 进行操作时

```
document.getElementById('wrapper').childNodes[x].foo 
```

这如我所料

然而

```
$('#wrapper').each(function (i, element){
      console.log(element.foo); //foo here is undefined
}) 
```

导致一堆未定义的

所以......我猜jQuery实际上是在处理我的div的一些内部包装，而不是直接处理div。我很好奇如何（或者如果可能的话）我可以访问这个循环中的实际 div 以便访问我的自定义 foo。

**编辑** 根据您迄今为止的所有答案（非常感谢您的时间）我觉得我需要澄清一下，因为每个人似乎都错过了我的实际问题......我已经修改了上面的代码更加明确。

我没有语法错误（在我的实际代码中）。jQuery 正确循环通过包装器子级，它只是不返回实际的子级（div），而是返回它们自己的版本，并且这个自定义版本不包含我附加的 foo。

所以，我需要的是能够回到实际的 dom 对象，而不是它周围的 jQuery 包装器。这可能吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-20T07:32:29.880

您忘记了孩子（以及提到的“#”）：

```
$('#wrapper').children().each(function (i, element)... 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-20T07:31:31.647

你是对的，除了选择器关闭。你需要`$("#wrapper")`.

```
$("#wrapper").each(function(i,e) { console.log(e.id) }); 
```

**编辑**

确认可以从 DOM 元素中取回对象...

```
var c = document.getElementById('container');
var el = document.createElement('div');
el.id = 'new';
el.innerText='the test element';
el.test = { hello: "world" };
c.appendChild(el);
console.log('javascript: ' + document.getElementById('new').test.hello);
$("#container div").each(function(i,e) {
    if (e.test) console.log('jquery: ' + e.test.hello);
}); 
```

[http://jsfiddle.net/eeYHr/3/](http://jsfiddle.net/eeYHr/3/) ​</p>

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-20T07:35:57.577

一些适合您的选择：

```
$('#wrapper').children().each(function (i, element) { ... });

$('#wrapper > *').each(function (i, element) { ... }); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-20T07:37:32.227

或者更明确地说，正如您所说，您只专注于子 DIV：

```
$('#wrapper div').each( function() {
    // do some funky stuff
    alert($(this).attr('id')); // displays element ID
}); 
```

如需进一步学习，还请参阅此 JQuery 帮助页面：

[http://api.jquery.com/category/selectors/basic-css-selectors/](http://api.jquery.com/category/selectors/basic-css-selectors/)

# silverlight-4.0 - 如何加快在silverlight的文本框中输入数据的速度

> ID：12986327
> 
> 赞同：0
> 
> 时间：2012-10-20T07:29:43.203
> 
> 标签：silverlight-4.0

我在 silverlight 对象中有一个文本框。此文本框用于存储字符。当用户在这个文本框中输入文本时，它可以正常工作到 2000 个字符，但之后它的速度会下降。我不想要这个。此文本框将用于存储最大字符数。在其中输入文本没有限制。

那么我应该怎么做才能让它变得流畅并且它的速度会和以前一样。

# colors - WinRT 中缺少 Color.HSBtoRGB

> ID：12986329
> 
> 赞同：0
> 
> 时间：2012-10-20T07:30:07.730
> 
> 标签：colors, windows-runtime, fractals, windows-store-apps

我正在构建一个分形应用程序，需要生成一个平滑的配色方案，我在[Smooth Spectrum for Mandelbrot Set rendering](https://stackoverflow.com/questions/369438/smooth-spectrum-for-mandelbrot-set-rendering)找到了一个很好的算法。

但这需要我调用 Color.HSBtoRGB 并且该方法在 WinRT / Windows Store 应用程序中不可用。

是否有其他内置方法可以进行此转换？关于如何将 HSB 转换为 RGB 的其他提示？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-20T07:30:07.730

我最终使用了[http://www.adafruit.com/blog/2012/03/14/constant-brightness-hsb-to-rgb-algorithm/](http://www.adafruit.com/blog/2012/03/14/constant-brightness-hsb-to-rgb-algorithm/)上的 HSB 到 RGB 转换算法，我采用了初始（长）版本。也许这可以进一步优化，但对我来说这是完美的！

由于 hsb2rgb 方法在 C 中并且我需要 C#，所以我在这里分享我的版本：

```
 private byte[] hsb2rgb(int index, byte sat, byte bright)
    {
        int r_temp, g_temp, b_temp;
        byte index_mod;
        byte inverse_sat = (byte)(sat ^ 255);

        index = index % 768;
        index_mod = (byte)(index % 256);

        if (index < 256)
        {
            r_temp = index_mod ^ 255;
            g_temp = index_mod;
            b_temp = 0;
        }
        else if (index < 512)
        {
            r_temp = 0;
            g_temp = index_mod ^ 255;
            b_temp = index_mod;
        }

        else if ( index < 768)
        {
            r_temp = index_mod;
            g_temp = 0;
            b_temp = index_mod ^ 255;
        }

        else
        {
            r_temp = 0;
            g_temp = 0;
            b_temp = 0;
        }

        r_temp = ((r_temp * sat) / 255) + inverse_sat;
        g_temp = ((g_temp * sat) / 255) + inverse_sat;
        b_temp = ((b_temp * sat) / 255) + inverse_sat;

        r_temp = (r_temp * bright) / 255;
        g_temp = (g_temp * bright) / 255;
        b_temp = (b_temp * bright) / 255;

        byte[] color = new byte[3];
        color[0]    = (byte)r_temp;
        color[1]    = (byte)g_temp;
        color[2]    = (byte)b_temp;

        return color;
    } 
```

要根据原始帖子中链接的代码调用它，我需要进行一些小的修改：

```
 private byte[] SmoothColors1(int maxIterationCount, ref Complex z, int iteration)
    {
        double smoothcolor = iteration + 1 - Math.Log(Math.Log(z.Magnitude)) / Math.Log(2);
        byte[] color = hsb2rgb((int)(10 * smoothcolor), (byte)(255 * 0.6f), (byte)(255 * 1.0f));

        if (iteration >= maxIterationCount)
        {
            // Make sure the core is black
            color[0] = 0;
            color[1] = 0;
            color[2] = 0;
        }
        return color;
    } 
```

# java - Java 安全对话框的外观

> ID：12986333
> 
> 赞同：4
> 
> 时间：2012-10-20T07:31:27.183
> 
> 标签：java, security, jar-signing, jarsigner

加载签名的小程序时会显示 Java 安全对话框。

Java 安全对话框是什么样的？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-20T07:31:27.183

![Java 安全对话框](../Images/f8da13d1b879613427e9f796fd18bb03.png)

视情况而定，安全对话框的显示可能会有所不同（并具有不同的文本），但大致如上所示。

如果对话框中的消息中显示“无法验证数字签名”，则：

*   `Always trust`将默认为假。
*   即使选择它也会被忽略。
*   没有`Name`或`Publisher`将出现。该图像显示了旧 JRE 中出现的提示。

下面是[NASA World Wind提示如何出现在 Java 7 JRE 中，以获取已](http://worldwind.arc.nasa.gov/java/1.2.0/demos/)**过期**的已验证证书。默认情况下，插件也不会勾选`Always allow`复选框。

![在此处输入图像描述](../Images/81d22010148df7139940c0d093c2a1b1.png)

# php - 使用 JSON 将数据从数据库加载到 MVC php 中的 highchart

> ID：12986341
> 
> 赞同：0
> 
> 时间：2012-10-20T07:32:52.647
> 
> 标签：php, jquery, asp.net-mvc, entity-framework, highcharts

我正在将 MVC 用于实体框架并开发应用程序，并且我想从数据库上传数据以将其显示到 highchart 的列钻图中？

我的绑定代码如下：

```
$result = mysql_query("select s.id, s.stage_name as stage, coalesce(sum(o.potential) *  (s.stage_weight / 100),0) as w_pot FROM s_stages as s 
left join opps as o
WHERE o.buy_stage = s.id");
$model["chart"]=array();
while($row = mysql_fetch_array($result)){
    array_push($model["chart"],
        array(  
            "id"=>$row["s.id"],
            "name"=>$row["stage"],
            "w_pot"=>$row["w_pot"]
         ));
} 
```

并且鉴于我已经用它的脚本代码编写了如下代码：

```
<script src="http://code.highcharts.com/highcharts.js"></script>
<script src="http://code.highcharts.com/modules/exporting.js"></script>
<div id="container" class="span6" style="min-width: 400px; height: 400px; margin: 0 auto"></div>
<script type="text/javascript">

$(function () {
    var chart;
    $(document).ready(function() {

        var colors = Highcharts.getOptions().colors,
            categories = ['MSIE', 'Firefox', 'Chrome', 'Safari', 'Opera'],
            name = 'Browser brands',
            data = [{
                    y: 55.11,
                    color: colors[0],
                    drilldown: {
                        name: 'MSIE versions',
                        categories: ['MSIE 6.0', 'MSIE 7.0', 'MSIE 8.0', 'MSIE 9.0'],
                        data: [10.85, 7.35, 33.06, 2.81],
                        color: colors[0]
                    }
                }, {
                    y: 21.63,
                    color: colors[1],
                    drilldown: {
                        name: 'Firefox versions',
                        categories: ['Firefox 2.0', 'Firefox 3.0', 'Firefox 3.5', 'Firefox 3.6', 'Firefox 4.0'],
                        data: [0.20, 0.83, 1.58, 13.12, 5.43],
                        color: colors[1]
                    }
                }, {
                    y: 11.94,
                    color: colors[2],
                    drilldown: {
                        name: 'Chrome versions',
                        categories: ['Chrome 5.0', 'Chrome 6.0', 'Chrome 7.0', 'Chrome 8.0', 'Chrome 9.0',
                            'Chrome 10.0', 'Chrome 11.0', 'Chrome 12.0'],
                        data: [0.12, 0.19, 0.12, 0.36, 0.32, 9.91, 0.50, 0.22],
                        color: colors[2]
                    }
                }, {
                    y: 7.15,
                    color: colors[3],
                    drilldown: {
                        name: 'Safari versions',
                        categories: ['Safari 5.0', 'Safari 4.0', 'Safari Win 5.0', 'Safari 4.1', 'Safari/Maxthon',
                            'Safari 3.1', 'Safari 4.1'],
                        data: [4.55, 1.42, 0.23, 0.21, 0.20, 0.19, 0.14],
                        color: colors[3]
                    }
                }, {
                    y: 2.14,
                    color: colors[4],
                    drilldown: {
                        name: 'Opera versions',
                        categories: ['Opera 9.x', 'Opera 10.x', 'Opera 11.x'],
                        data: [ 0.12, 0.37, 1.65],
                        color: colors[4]
                    }
                }];

        function setChart(name, categories, data, color) {
chart.xAxis[0].setCategories(categories, false);
chart.series[0].remove(false);
chart.addSeries({
name: name,
data: data,
color: color || 'white'
}, false);
chart.redraw();
        }

        chart = new Highcharts.Chart({
            chart: {
                renderTo: 'container',
                type: 'column'
            },
            title: {
                text: 'Browser market share, April, 2011'
            },
            subtitle: {
                text: 'Click the columns to view versions. Click again to view brands.'
            },
            xAxis: {
                categories: 
            },
            yAxis: {
                title: {
                    text: ''
                }
            },
            plotOptions: {
                column: {
                    cursor: 'pointer',
                    point: {
                        events: {
                            click: function() {
                                var drilldown = this.drilldown;
                                if (drilldown) { // drill down
                                    setChart(drilldown.name, drilldown.categories, drilldown.data, drilldown.color);
                                } else { // restore
                                    setChart(name, categories, data);
                                }
                            }
                        }
                    },
                    dataLabels: {
                        enabled: true,
                        color: colors[0],
                        style: {
                            fontWeight: 'bold'
                        },
                        formatter: function() {
                            return this.y +'%';
                        }
                    }
                }
            },
            tooltip: {
                formatter: function() {
                    var point = this.point,
                        s = this.x +':<b>'+ this.y +'% market share</b><br/>';
                    if (point.drilldown) {
                        s += 'Click to view '+ point.category +' versions';
                    } else {
                        s += 'Click to return to browser brands';
                    }
                    return s;
                }
            },
            series: [{
                name: name,
                data: data,
                color: 'white'
            }],
            exporting: {
                enabled: false
            }
        });
    });

});
</script> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-20T10:28:18.570

试试这样：

```
<html>
<head>
<title>Graph</title>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<script src="http://code.highcharts.com/highcharts.js"></script>
<script src="http://code.highcharts.com/modules/exporting.js"></script>

</head>
<body>
<?php

$result = mysql_query("select s.id, s.stage_name as stage, coalesce(sum(o.potential) *  (s.stage_weight / 100),0) as w_pot FROM s_stages as s 
left join opps as o
WHERE o.buy_stage = s.id");
$stagearray=array();
    $wt_arr=array();

while($row = mysql_fetch_array($result)){
    $sname="'".$row["stage"]."'";
    array_push($stagearray,$sname);
    array_push($wt_arr,$row["w_pot"]);
}

$categories=implode(",",$stagearray);
$ponts_str=implode(",",$wt_arr);

?>

<div id="container" class="span6" style="min-width: 400px; height: 400px; margin: 0 auto"></div>
<script type="text/javascript">

$(function () {
    var chart;
    $(document).ready(function() {
        chart = new Highcharts.Chart({
            chart: {
                renderTo: 'container',
                type: 'column'
            },
            title: {
                text: 'Stages'
            },
            subtitle: {
                text: ''
            },
            xAxis: {
                categories: [<?php echo $categories;?>]
            },
            yAxis: {
                min: 0,
                title: {
                    text: 'Points'
                }
            },
            legend: {
                layout: 'vertical',
                backgroundColor: '#FFFFFF',
                align: 'left',
                verticalAlign: 'top',
                x: 100,
                y: 70,
                floating: true,
                shadow: true
            },
            tooltip: {
                formatter: function() {
                    return ''+
                        this.x +': '+ this.y +' mm';
                }
            },
            plotOptions: {
                column: {
                    pointPadding: 0.2,
                    borderWidth: 0
                }
            },
                series: [{
                name: 'Stages',
                data: [<?php echo $ponts_str;?>]

            }]
        });
    });

});
</script>
</body>
</html> 
```

# jquery - $.mobile.changePage 未更新网址

> ID：12986349
> 
> 赞同：0
> 
> 时间：2012-10-20T07:34:16.967
> 
> 标签：jquery, html, cordova, jquery-mobile

我有两页菜单列表和菜单详细信息页面。我使用 将页面从菜单更改为菜单详细信息`$.mobile.changePage`。它工作正常，并在菜单详细信息页面运行时附加后退按钮链接，当我第一次单击后退按钮时，导航正常并导航到菜单页面，但是当完成相同的过程（例如，菜单到详细信息然后返回菜单）然后后退按钮包含菜单的 url 到详细信息页面而不是详细信息到 mainu。详细页面的菜单：

```
$('.menu_item').live("click",function(){
    $.mobile.changePage('menu_detail.html?iInfoId='+iInfoId+'&type='+ type + ext_link +'&iIMenuId='+this.id+'&order_type='+order_type, {transition: "slide"});
}); 
```

在菜单详细信息页面后退按钮链接附加

```
$('#btn_back').attr('href','menu.html?iInfoId='+ iInfoId +'&type='+type+ext_link+'&order_type='+order_type); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-23T13:53:45.417

我有同样的问题

尝试这个：

```
$('.menu_item').off('click').on('click', function() { } 
```

.live 导致脚本由于某种原因运行代码两次，我不知道为什么。但代码 .off.on 工作正常。

# python - 通过调用 clf() 清除 BufferRegion

> ID：12986350
> 
> 赞同：5
> 
> 时间：2012-10-20T07:34:17.260
> 
> 标签：python, matplotlib, matplotlib-basemap

我有一个应用程序，我想在其中使用 Basemap 从 shapefile 中绘制县。绘制县域多边形是渲染中的瓶颈，因为我将绘制美国的同一区域（很多次），我宁愿不必绘制所有多边形。所以我想到了将县绘制到具有透明背景的图形上，使用 将轴复制到像素缓冲区，并在需要绘制县时`copy_from_bbox()`使用恢复缓冲区。`restore_region()`

基本代码如下：

```
import matplotlib.pyplot as plt
from mpl_toolkits.basemap import Basemap

map = Basemap(...) # Create Basemap object

map.readshapefile("countyp020", 'counties', linewidth=0.5) # Draws the county lines
plt.gcf().patch.set_alpha(0.0)
plt.gca().patch.set_alpha(0.0)

# Copy to the pixel buffer (county_buffer is of type BufferRegion)
county_buffer = plt.gcf().canvas.copy_from_bbox(plt.gca().bbox)

plt.clf() # This line is problematic (see below)

# Plot my data here ...

# Restore the pixel buffer
plt.gcf().canvas.restore_region(county_buffer)
plt.gcf().canvas.blit(plt.gca().bbox) # Not sure if this line is necessary

plt.gcf().canvas.draw() 
```

它就像一个魅力......除了我清除数字的那条线。清除渲染之间的图形显然也会清除 BufferRegion 对象，并且由于我更新了标题和颜色栏，我还想清除渲染之间的图形。

所以我的问题是有人知道清除数字并保持像素缓冲区完整的方法吗？我无法在 、 或 上找到太多文档`BufferRegion`，`copy_from_bbox()`因此`restore_region()`调试它有点困难。如果没有简单的方法解决它，那么有没有人知道另一种方法来做我想做的事情？

提前致谢！

# c# - 检查用户是否登录到 Skype

> ID：12986351
> 
> 赞同：2
> 
> 时间：2012-10-20T07:34:41.993
> 
> 标签：c#, skype

我正在使用 Skype API。当我的应用程序启动时，我会检查 Skype 是否真的在运行。

```
foreach (Process p in System.Diagnostics.Process.GetProcessesByName("skype"))
{
    return true;
} 
```

现在我想检查用户是否已登录 Skype。我怎样才能检查这个？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-20T08:16:59.540

下载了 Skype API 来检查...因为好奇。实际上很惊讶暴露了多少东西。

```
Skype skype = new Skype();
// Return true if Skype is running.
if (!skype.Client.IsRunning) 
    return;

// User is not logged in.
if (skype.CurrentUserStatus == TUserStatus.cusLoggedOut)
    return;

// Friends
foreach(User user in skype.Friends) 
{
    if (user.OnlineStatus == TOnlineStatus.olsOnline)
    { /*Insert what you want...*/ }

} 
```

请注意，Skype 首先询问您是否要让特定插件访问它。

# java - 解析 C 和 Java 以在我的网站上显示代码

> ID：12986356
> 
> 赞同：0
> 
> 时间：2012-10-20T07:35:10.087
> 
> 标签：java, c, parsing, web

我在 google appengine 上托管了我的网络应用程序。我不得不在我的网站上放置一些 java 代码。所以我正在为该网站寻找一个 java 解析器。请推荐一些。

实际上我想建立一个使用过的项目，`C`所以`Java`我正在寻找一个可以解析两种语言的解析器。是否有可用的解析器或者我必须自己编写？

*编辑：我“现在”的唯一目的是代码突出显示*

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-20T07:49:50.317

如果你只需要代码高亮，那里有很多东西。例如，您可以使用[highlight.js](http://softwaremaniacs.org/soft/highlight/en/)，甚至是[Google 自己的代码美化器](http://code.google.com/p/google-code-prettify/)。

目前，这就是我可以从你的问题中得到的信息，所以在进一步澄清之前，我无法给出更准确的答案。

# php - MySQL 表中的“使用 PDO”。这是黑客吗？

> ID：12986358
> 
> 赞同：4
> 
> 时间：2012-10-20T07:35:19.300
> 
> 标签：php, mysql, codeigniter, sql-injection

好的，这听起来可能很荒谬，但这就是发生的事情：

*   我已经在**CodeIgniter上建立了一个可以正常运行的站点**
*   该站点显然是数据库驱动的，其中包含用户表（以及更多）
*   今天，我登录了，在“名称”的位置......我看到的不是用户名`"Use PDO"` *（我还检查了 db 表，来自 phpMyAdmin，具体字段似乎已更改：S）*。

我在想：“有人入侵了该网站”。可能是一个糟糕的（尽管有教育意义的）笑话？

我对吗？（我觉得问这个有点愚蠢，但无论如何......）

如果是这样，我应该怎么做才能防止将来发生这种事情？

* * *

**提示：**我所有的数据库访问都是使用 CodeIgniter 的 db 函数完成的，所以我想一切都应该被正确地转义。有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-20T09:15:22.623

感谢@raina77ow，问题已得到解决。

Db 访问的情况非常糟糕，（准明显的）解决方案是开始使用*Prepared statements*和*Query bindings*。

* * *

**参考：** [http ://codeigniter.com/user_guide/database/queries.html](http://codeigniter.com/user_guide/database/queries.html)

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-10-20T07:41:46.867

在我看来，至少有人试图注入代码。

```
use PDO; $db = new PDO(); $db->save(); 
```

或类似的东西，但最终将该数据保存在用户表中。我认为他一定试图在注册页面中注入代码（如果有的话）。在不知道数据库变化的情况下不能说更多。

希望这可以帮助。

# ios - 以毫秒精度切歌

> ID：12986359
> 
> 赞同：1
> 
> 时间：2012-10-20T07:35:49.213
> 
> 标签：ios, cmtime

我可以在开始时间到持续时间范围内剪切一首歌曲，机器人是浮动的。但我在最后一首歌中只有几秒钟。

```
CMTime sTime=CMTimeMake(startTime*1000, 1000);
CMTime eTime=CMTimeMake(duration*1000, 1000);

CMTimeRange editRange = CMTimeRangeMake(sTime,eTime);
[myMutableCompostion insertTimeRange:editRange ofAsset:sourceAsset atTime:myMutableCompostion.duration error:&editError]; 
```

例如： `startime=50.0 duration=23.9` 歌曲应该是 23.9 秒，但我只有 23 秒。

请帮助我以毫秒精度切割歌曲。

# assembly - 为什么需要这条装配线

> ID：12986367
> 
> 赞同：1
> 
> 时间：2012-10-20T07:37:16.127
> 
> 标签：assembly, bootloader

我找到了编写引导加载程序的教程。除了 1 行之外，这对我来说都很清楚。这是一些代码。

```
Print:
    lodsb
    or al, al ;I don't get this line
    jz PrintDone
    mov ah, 0x0e
    int 0x10
    jmp Print 
```

它还有一些其他代码可以清除 int 0x10 使用的寄存器。我唯一不明白的是 or al, al 行。如果你用它自己做一些事情，你会得到你开始的东西吗？

如果有人能回答这个问题，我会永远爱他们:)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-20T07:47:29.370

JZ 指令是 JMP 指令的一种形式，只是跳转仅在设置零标志时发生。如果 al 为零，则“OR AL, AL”设置零标志。这比使用 CMP 比较更有效。

```
CMP AX,0        ;see if the number in ax is zero (zero flag set if so)
OR AX,AX        ;this does exactly the same but uses 2 bytes instead of 3
TEST AX,AX      ;again this is the same and uses only 2 bytes 
```

# postgresql - 将 PostgreSQL 扩展安装到所有模式

> ID：12986368
> 
> 赞同：43
> 
> 时间：2012-10-20T07:37:31.590
> 
> 标签：postgresql

我在 PostgresQL 9.1.1 上试图让扩展[unaccent](http://www.postgresql.org/docs/9.1/static/unaccent.html)在所有模式上都可用。

所以我运行了命令`CREATE EXTENSION unaccent;`。哪个有效，但仅适用于`search_path`. 所以这意味着如果我更改 search_path，我将无法再调用`unaccent`. 如何使此扩展可用于特定数据库中的所有模式？

提前致谢！

* * *

## 回答 #1

> 赞同：74
> 
> 时间：2017-05-12T11:55:50.847

`CREATE EXTENSION unaccent;`将扩展安装到公共架构中。为了使它可用，只需在更改 search_path 时包含它：

```
set search_path = my_schema, public; 
```

或者更好地创建一个包含所有扩展的架构，然后始终将该架构附加到 search_path。

```
create schema extensions;

-- make sure everybody can use everything in the extensions schema
grant usage on schema extensions to public;
grant execute on all functions in schema extensions to public;

-- include future extensions
alter default privileges in schema extensions
   grant execute on functions to public;

alter default privileges in schema extensions
   grant usage on types to public; 
```

现在安装扩展：

```
create extension unaccent schema extensions; 
```

然后在 search_path 中使用包含该架构

```
set search_path = my_schema, extensions; 
```

* * *

如果您不想为您创建的每个新数据库重复上述步骤，请在连接到`template1`数据库时运行上述步骤。您甚至可以通过编辑`postgresql.conf`或使用将扩展架构包含在默认的 search_path 中`alter system`

* * *

## 回答 #2

> 赞同：19
> 
> 时间：2013-04-21T06:40:44.390

有同样的问题，但@Richard Huxton 的回答导致了正确的解决方案：

```
create extension unaccent schema pg_catalog; 
```

这行得通！

正如理查德所说，`pg_catalog`会自动（无声地）添加到每个`search_path`. 将在那里找到添加的扩展。

恕我直言，这比扩展是全局的*要**好得多。*`schema.func()`

 *例如，我使用了很多模式。我使用架构`PUBLIC`进行调试 - 一切都应该在自己的架构中。如果某些内容在 PUBLIC 中，那就错了。

在中创建扩展`pg_catalog`可以保持所有架构干净，并让架构本身像核心 postgres 的一部分一样工作。

* * *

## 回答 #3

> 赞同：14
> 
> 时间：2012-10-20T09:13:54.417

你没有。如果你愿意，你总是可以称它为完全合格的。

```
SELECT <schema>.<function>(...) 
```

事实上，我相信内置函数始终可用的唯一原因是，无论你做什么，PG 都会将 pg_catalog 添加到你的 search_path 的末尾。*

# sql - Oracle - 将输出中的行合并为 1

> ID：12986371
> 
> 赞同：0
> 
> 时间：2012-10-20T07:37:51.153
> 
> 标签：sql, oracle

当我运行以下查询时：

`SELECT datetime_up, logic_id,eqp_name,ack, created FROM NAS_db.main WHERE TRUNC(datetime_up,'DD') >= TO_TIMESTAMP ('04/18/2012', 'MM/DD/YYYY') and TRUNC(datetime_up,'DD') <= TO_TIMESTAMP ('04/21/2012', 'MM/DD/YYYY') AND eqp_name ='Router-A' GROUP BY datetime_up,eqp_name, logic_id,ack,created`

我得到以下输出：

```
datetime_up             logic_id    eqp_name      ack   created
4/19/2012 5:52:04 PM    IP_1.1.1.1_ Router-A       1       0

4/19/2012 5:52:04 PM    IP_1.1.1.1_ Router-A       0       0 
```

好的，这些是连续的记录，我需要......在这种情况下，第一条记录有一个 1，只取那个，而不是 2。

我的意思是，如果我查询并且我有 1000 条记录在 RouterA 之后显示 1，我只需要取一个，并避免另一个，如果它们只有 0，同样，只取一个，所以我想有我的查询来显示这一点。

```
4/19/2012 5:52:04 PM    IP_1.1.1.1_ Router-A       1       0 
```

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-20T07:55:00.490

您正在按所有列进行分组，而不使用任何聚合函数，这相当于`select distinct`.

假设`ack`只能是零或一，您可以`max()`在该列上使用，并将其排除在`group by`：

```
SELECT datetime_up, logic_id, eqp_name, max(ack), created
...
GROUP BY datetime_up, eqp_name, logic_id, created 
```

不确定`created`预期的行为方式，您可能也希望对该列执行相同的操作。

在更复杂的情况下，您可以使用分析函数按某些标准对行进行排名，然后在外部过滤`select`，但我认为这在这里有点过分了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-20T07:50:40.133

试试这个

```
SELECT datetime_up, logic_id,eqp_name,ack, created FROM NAS_db.main WHERE    
  TRUNC(datetime_up,'DD') >= TO_TIMESTAMP ('04/18/2012', 'MM/DD/YYYY') and 
TRUNC(datetime_up,'DD') <= TO_TIMESTAMP ('04/21/2012', 'MM/DD/YYYY') AND eqp_name 
='Router-A'  where ack and created!=0
 GROUP BY datetime_up,eqp_name, logic_id,ack,created 
```

或将 where 条件更改为

```
 where ack=1 
```

# java - ArrayList vs LinkedList 用于随机访问和添加删除

> ID：12986374
> 
> 赞同：1
> 
> 时间：2012-10-20T07:38:35.610
> 
> 标签：java, collections, arraylist, linked-list

我精通 ArrayList 和 LinkedList 的优缺点。ArrayList 是随机访问的首选，当添加和删除较少时，反之亦然。如果我需要一个既需要随机访问又需要经常从列表中添加和删除项目的数据结构怎么办？

选择哪一个？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-20T07:44:08.403

这些数据结构与 API 兼容，只需使用两者对您的代码进行基准测试/分析即可。

另一个提示：`ArrayList`假设您执行`N`查找和`N`突变。这加起来很`O(N) + O(N * N) <=> O(N^2)`复杂。`LinkedList`你会得到（`O(N*N) + O(N) <=> O(N^2)`线性查找时间`N`+恒定时间突变时间`N`）。所以这两种数据结构是可比的。

如果您愿意更深入地研究兔子洞，[`scala.collection.immutable.Vector`](http://www.scala-lang.org/api/current/scala/collection/immutable/Vector.html)则已[摊销](http://www.scala-lang.org/docu/files/collections-api/collections_40.html)了查找和插入/删除的固定成本。它是不可变的，因此是线程安全的！它是使用下面一些复杂的数据结构来实现的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-20T07:41:06.010

如果你想随机访问 ArrayList，你可以将它用作普通列表并添加/删除项目。

ArrayList 的内存是按块分配的，除非您的 ArrayList 变得巨大，否则它可能会耗尽内存。

由于您没有提到您是否有任何内存限制（唯一的限制是随机访问），我会说 ArrayList 应该满足您的所有需求。

# datatable - Primefaces DataTable 触发更新三次

> ID：12986378
> 
> 赞同：0
> 
> 时间：2012-10-20T07:38:44.047
> 
> 标签：datatable, primefaces, getter, updating

在下面显示的代码中，带有`update="testTable"`触发的按钮`Bean.getSensors`调用 **了 3**次，但带有`update="@form"`触发的按钮只触发了一次。为什么？

```
<h:form id="form4" prependId="true">
    <p:commandButton value="id" update="testTable" process="@none"/>
    <p:commandButton value="@form" update="@form" process="@none"/>

    <p:dataTable id="testTable" value="#{bean.sensors}"
                    var="sensor"
                    rowStyleClass="#{sensor.alarm ? 'alarm' : null}">
        <p:column headerText="Name" style="min-width: 100px; width: 100px;">
            <h:outputText value="#{sensor.name}"/>
        </p:column>
        <p:column headerText="Value" style="min-width: 100px; width: 100px;">
            <h:outputText value="#{sensor.value}"/>
        </p:column>
    </p:dataTable>
</h:form> 
```

谢谢大家！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-20T12:26:49.963

这很正常。JSF 和 Primefaces 需要多次调用它。如果您有性能问题，请使用延迟加载

```
 public List<Sensor> getSensors(){
    if(sensors == null){
       sensors = ejb.getSensors();
    }
    return sensors;
 } 
```

# c# - 在迭代器块和异步块中使用元组

> ID：12986380
> 
> 赞同：3
> 
> 时间：2012-10-20T07:38:53.210
> 
> 标签：c#, .net, optimization, iterator, async-await

[迭代器](http://msdn.microsoft.com/en-us/library/dscyy5s0.aspx "MSDN |  迭代器")和[异步方法](http://msdn.microsoft.com/en-us/library/hh191443.aspx "MSDN |  使用 Async 和 Await 进行异步编程")都创建了一个状态机，用于保持 yield/await 操作之间的状态，并且方法中的每个*本地*都成为该状态机类型实例中的一个*字段。*

在[这个演讲](http://channel9.msdn.com/Events/BUILD/BUILD2011/TOOL-829T "异步之禅：最佳性能的最佳实践")中，Stephen Toub 谈到如果你有很多 await 调用，在*异步方法的主体中减少局部变量是一种有效的（非微）优化。*（即，如果您在循环中等待）

所以在这种情况下，我想知道拥有 7 个本地人和拥有一个本地人（即`Tuple<T1, T2, T3, T4, T5, T6, T7>`.

显然，如果迭代器中只有一个*yield或 async 方法中只有一个**await* ，它只会使事情复杂化，但是当涉及到数千个或更多时，您是否认为使用元组（或任何其他可以包装您的字段的类型) 有什么好处吗？

或者这只是另一种微优化尝试，什么也没做或使用太少？

**编辑：**现在我又想到了，我想如果它有任何好处的话，它已经以*这种方式实施了。*尽管如此，我仍然对此感到好奇。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-20T07:49:16.380

如果你有成千上万的等待/产量，那么事情已经很不对劲了。还应注意，两者具有不同的实现方式。但是，更改为元组并没有添加任何有用的东西，IMO。无论该引用是否为：

*   迭代器实例
*   捕获的变量上下文
*   一个元组
*   元组*的*捕获变量上下文

但是通过使用元组，您可以保证在需要改变变量的任何时候都需要一个新实例。

Tulle在手动实现异步时*会*更有趣（例如 ContinueWith），但我真的认为在使用编译器提供实现时不值得。

# delphi - Delphi Xe2根据另一个表中的值将记录插入表中

> ID：12986385
> 
> 赞同：1
> 
> 时间：2012-10-20T07:40:01.160
> 
> 标签：delphi, delphi-xe

我有以下代码用于更新数据库中的表，此代码用于使用 zeosdblib 查询组件在 bds 2006 中工作，但现在它在 delphi xe2 中不起作用。谁能告诉我我哪里出错了。谢谢你

```
procedure TGoodsReceivedForm.btnCategorizeClick(Sender: TObject);
var
  TempCatTotal : Extended;
  nCatogory : string;
begin
TempCatTotal := 0;
zroqryExpcat.Open;
with zroqryExpcat do
begin
 first;
while not Eof do
begin
 zqrySumCategory.Close;
 zqrySumCategory.SQL.Clear;
 zqrySumCategory.SQL.Add('select costcategory,packcost,sum(qty)*packcost as pamount');
 zqrySumCategory.SQL.Add('from pitems');
 zqrySumCategory.SQL.Add('where costcategory=:costcategory and orderno=:orderno');
 zqrySumCategory.SQL.Add('group by costcategory,packcost');
 zqrySumCategory.Params[0].AsString := zroqryExpcat.FieldByName('Description').Value;
 zqrySumCategory.Params[1].AsString := NewPurchaseOrderForm.OrderNumber.Caption ;
 zqrySumCategory.Open;
 zqrySumCategory.First;
 TempCatTotal := 0;
 while not zqrySumCategory.eof do
 begin
  TempCatTotal := TempCatTotal+zqrySumCategory.FieldByName('pamount').AsFloat;
  zqrySumCategory.Next;
 end;
 if TempCatTotal > 0 then
 begin
  zqryInsertExpense.Close;
  zqryInsertExpense.Params[0].AsString := NewPurchaseOrderForm.OrderNumber.Caption ;
  zqryInsertExpense.Params[1].AsString := zqrySumCategory.Params[0].AsString ;
  zqryInsertExpense.Params[2].AsCurrency := TempCatTotal;
  zqryInsertExpense.Params[3].Asinteger := zroqryExpcat.FieldByName('gl_account_no').Value;
  zqryInsertExpense.Params[4].AsDate := ReceivedDate.Date;
  zqryInsertExpense.ExecSQL;
  zqryInsertExpense.Close;
end;
next;
end;
end;
  zqryListExpenseCat.Close;
  zqryListExpenseCat.Params[0].Value := NewPurchaseOrderForm.OrderNumber.Caption;
  zqryListExpenseCat.Open;
end; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-21T15:26:40.777

您`'`在该行中缺少：

```
zqryInsertExpense.Params[3].Asinteger := zroqryExpcat.FieldByName  (gl_account_no').Value; 
```

在 FieldByName( 附近。您确定您正确粘贴了此代码吗？

# java - 为什么我的排序循环似乎在不应该的地方附加了一个元素？

> ID：12986386
> 
> 赞同：71
> 
> 时间：2012-10-20T07:40:01.323
> 
> 标签：java, arrays, sorting

我正在尝试使用`compareTo()`. 这是我的代码：

```
static String Array[] = {" Hello ", " This ", "is ", "Sorting ", "Example"};
String temp;

public static void main(String[] args)
{

   for (int j=0; j<Array.length;j++)
   {
       for (int i=j+1 ; i<Array.length; i++)
       {
           if (Array[i].compareTo(Array[j])<0)
           {
               String temp = Array[j];
               Array[j] = Array[i];
               Array[i] = temp;
           }
       }
       System.out.print(Array[j]);
   }
} 
```

现在输出是：

```
Hello  This Example Sorting is 
```

我得到了结果，但不是我想要得到的结果，它们是：

```
Hello This Example Is Sorting 
```

如何调整我的代码以正确排序字符串数组？

* * *

## 回答 #1

> 赞同：146
> 
> 时间：2012-10-20T07:43:26.920

你的输出是正确的。表示开头的“Hello”和“This”的白色字符。

另一个问题是你的方法。使用`Arrays.sort()`方法：

```
String[] strings = { " Hello ", " This ", "Is ", "Sorting ", "Example" };
Arrays.sort(strings); 
```

**输出：**

```
 Hello
 This
Example
Is
Sorting 
```

这里数组“is”的第三个元素应该是“Is”，否则排序后会排在最后。因为 sort 方法内部使用 ASCII 值对元素进行排序。

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2013-05-20T20:17:39.317

除了此处发布的替代解决方案（正确）之外，没有人通过解决您的代码有什么问题来真正回答您的问题。

好像您正在尝试实现[选择排序](http://www.algolist.net/Algorithms/Sorting/Selection_sort)算法。我不会在这里详细介绍排序的工作原理，但我提供了一些链接供您参考 =)

您的代码在语法上是正确的，但在逻辑上是错误的。您*仅通过将每个字符串与其后面的字符串进行比较来对字符串*进行部分排序。这是一个更正的版本（我保留了尽可能多的原始代码来说明它的“错误”）：

```
static  String Array[]={" Hello " , " This " , "is ", "Sorting ", "Example"};
String  temp;

//Keeps track of the smallest string's index
int  shortestStringIndex; 

public static void main(String[] args)  
{              

 //I reduced the upper bound from Array.length to (Array.length - 1)
 for(int j=0; j < Array.length - 1;j++)
 {
     shortestStringIndex = j;

     for (int i=j+1 ; i<Array.length; i++)
     {
         //We keep track of the index to the smallest string
         if(Array[i].trim().compareTo(Array[shortestStringIndex].trim())<0)
         {
             shortestStringIndex = i;  
         }
     }
     //We only swap with the smallest string
     if(shortestStringIndex != j)
     {
         String temp = Array[j];
         Array[j] = Array[shortestStringIndex]; 
         Array[shortestStringIndex] = temp;
     }
 }
} 
```

**延伸阅读**

这种方法的问题在于它的[渐近复杂度是**O(n^2)**](http://rob-bell.net/2009/06/a-beginners-guide-to-big-o-notation/)。简而言之，随着数组大小的增长（接近无穷大），它变得非常慢。您可能想了解[更好的数据排序方法](http://www.algolist.net/Algorithms/)，例如[快速排序](http://www.algolist.net/Algorithms/Sorting/Quicksort)。

* * *

## 回答 #3

> 赞同：10
> 
> 时间：2015-09-11T11:35:35.867

我知道这是一个迟到的回复，但也许它可以帮助某人。

可以使用 trim() 函数删除空格。之后，如果您想以区分大小写的方式对数组进行排序，您可以使用：

```
Arrays.sort(yourArray); 
```

对于不区分大小写的方式：

```
Arrays.sort(yourArray,String.CASE_INSENSITIVE_ORDER); 
```

希望这可以帮助！

* * *

## 回答 #4

> 赞同：9
> 
> 时间：2012-10-20T08:07:38.903

而不是这条线

```
if(Array[i].compareTo(Array[j])<0) 
```

使用这条线

```
if(Array[i].trim().compareTo(Array[j].trim())<0) 
```

你很高兴。其他用户已经解释了您当前代码不起作用的原因。上述替换是您可以应用的几种解决方法之一。

* * *

## 回答 #5

> 赞同：5
> 
> 时间：2016-01-18T00:07:26.947

从**Java 8**开始，如果您有包含大量元素的数组，您也可以使用[`parallelSort`](https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#parallelSort-T:A-)which 很有用。

**例子：**

```
public static void main(String[] args) {
    String[] strings = { "x", "a", "c", "b", "y" };
    Arrays.parallelSort(strings);
    System.out.println(Arrays.toString(strings));   // [a, b, c, x, y]
} 
```

如果要**忽略大小写**，可以使用：

```
public static void main(String[] args) {
    String[] strings = { "x", "a", "c", "B", "y" };
    Arrays.parallelSort(strings, new Comparator<String>() {
        @Override
        public int compare(String o1, String o2) {              
            return o1.compareToIgnoreCase(o2);
        }
    });
    System.out.println(Arrays.toString(strings));   // [a, B, c, x, y]
} 
```

否则`B`会在之前`a`。

如果要在比较过程中**忽略尾随空格**，可以使用`trim()`：

```
public static void main(String[] args) {
    String[] strings = { "x", "  a", "c ", " b", "y" };
    Arrays.parallelSort(strings, new Comparator<String>() {
        @Override
        public int compare(String o1, String o2) {              
            return o1.trim().compareTo(o2.trim());
        }
    });
    System.out.println(Arrays.toString(strings)); // [  a,  b, c , x, y]
} 
```

**见**：

*   [https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html)
*   [Arrays.sort() 和 Arrays.parallelSort() 之间的区别](https://stackoverflow.com/questions/17328077/difference-between-arrays-sort-and-arrays-parallelsort)
*   [http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/java/util/Arrays.java?av=f](http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/java/util/Arrays.java?av=f)

* * *

## 回答 #6

> 赞同：4
> 
> 时间：2013-08-19T17:05:17.073

`" Hello " , " This " , "is ", "Sorting ", "Example"`

首先，您在`" Hello "`and中提供了空格`" This "`，空格的值低于 Unicode 中的字母字符，因此它首先被打印。（其余字符按字母顺序排序）。

现在大写字母的值低于 Unicode 中的小写字母，因此打印“示例”和“排序”，然后最后打印`"is "`出最高值。

* * *

## 回答 #7

> 赞同：4
> 
> 时间：2015-03-02T12:01:30.457

如果您使用：

```
if (Array[i].compareToIgnoreCase(Array[j]) < 0) 
```

你会得到：

```
Example  Hello  is  Sorting  This 
```

我认为这是您正在寻找的输出。

* * *

## 回答 #8

> 赞同：2
> 
> 时间：2017-05-24T12:23:02.530

首先，您的问题是您使用了区分大小写的方法`compareTo()。这意味着大写字母与小写字母分开排序。原因是它翻译成 Unicode，其中大写字母的数字小于小写字母的数字。因此，您应该使用 `compareToIgnoreCase()`，就像之前的帖子中提到的那样。

这是我如何有效地做到这一点的完整示例方法

创建**Comparator的对象后，您可以在****java.util.Arrays 中**定义的这个版本的 `sort()` 中传递它。

```
static<T>void sort(T[]array,Comparator<?super T>comp) 
```

仔细看看**超级。**这确保了传入的数组与比较器的类型是可对抗的。

这种方式的神奇之处在于，您可以轻松地以相反的**顺序**对字符串数组进行排序，您可以通过以下方式轻松完成：

```
return strB.compareToIgnoreCase(strA); 
```

```
import java.util.Comparator;

    public class IgnoreCaseComp implements Comparator<String> {

        @Override
        public int compare(String strA, String strB) {
            return strA.compareToIgnoreCase(strB);
        }

    } 
```

```
 import java.util.Arrays;

    public class IgnoreCaseSort {

        public static void main(String[] args) {
            String strs[] = {" Hello ", " This ", "is ", "Sorting ", "Example"};
            System.out.print("Initial order: ");

            for (String s : strs) {
                System.out.print(s + " ");
            }

            System.out.println("\n");

            IgnoreCaseComp icc = new IgnoreCaseComp();

            Arrays.sort(strs, icc);

            System.out.print("Case-insesitive sorted order:  ");
            for (String s : strs) {
                System.out.print(s + " ");
            }

            System.out.println("\n");

            Arrays.sort(strs);

            System.out.print("Default, case-sensitive sorted order: ");
            for (String s : strs) {
                System.out.print(s + " ");
            }

            System.out.println("\n");
        }

    } 
```

```
 run:
    Initial order:  Hello   This  is  Sorting  Example 

    Case-insesitive sorted order:   Hello   This  Example is  Sorting  

    Default, case-sensitive sorted order:  Hello   This  Example Sorting  is  

    BUILD SUCCESSFUL (total time: 0 seconds) 
```

### 另类选择

该方法`compareToIgnoreCase()`虽然适用于很多场合（就像比较英语中的字符串），但它不适用于所有**语言和位置**。这自动使其成为不适合使用的选择。为确保在您应该使用 java.text.Collat​​or 的任何地方都`compare()`支持**它**。

您可以通过调用方法找到您所在位置的整理器`getInstance()`。之后，您应该设置此 Collat​​or 的强度属性。这可以通过`setStrength()`方法和`Collator.PRIMARY`作为参数来完成。有了这个替代选择，*IgnocaseComp*可以像下面那样编写。此版本的代码将独立于位置生成相同的输出

```
import java.text.Collator;
import java.util.Comparator;

//this comparator uses one Collator to determine 
//the right sort usage with no sensitive type 
//of the 2 given strings
public class IgnoreCaseComp implements Comparator<String> {

    Collator col;

    IgnoreCaseComp() {
        //default locale
        col = Collator.getInstance();

        //this will consider only PRIMARY difference ("a" vs "b")
        col.setStrength(Collator.PRIMARY);
    }

    @Override
    public int compare(String strA, String strB) {
        return col.compare(strA, strB);
    }

} 
```

# android - 如何在jBox2D中检测是否触摸了特定的身体

> ID：12986388
> 
> 赞同：2
> 
> 时间：2012-10-20T07:40:35.433
> 
> 标签：android, cocos2d-iphone, jbox2d

我正在开发一个使用 jbox2d 和 jBox2d for android 的游戏。我想检测用户是否触摸了我世界中各种物体中的特定动态物体。我曾尝试遍历所有身体并找到我的兴趣之一，但它对我不起作用。请帮助继承人我做了什么：

```
@Override
public boolean ccTouchesEnded(MotionEvent event)
{
    CGPoint location = CCDirector.sharedDirector().convertToGL(CGPoint.ccp(event.getX(), 
            event.getY()));

    for(Body b = _world.getBodyList();b.getType()==BodyType.DYNAMIC; b.getNext())
    {
        CCSprite sprite = (CCSprite)b.getUserData();
        if(sprite!=null && sprite instanceof CCSprite)
        {
            CGRect body_rect = sprite.getBoundingBox();
            if(body_rect.contains(location.x, location.y))
            {
                Log.i("body touched","<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<");
                expandAndStopBody(b);
                break;
            }

        }   
    }
return true;
} 
```

触摸后，系统继续打印 GC_CONCURRENT freed 1649K, 14% free 11130K/12935K, paused 1ms+2ms 一切都进入挂起状态。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-10-22T15:21:44.167

要检查身体是否被触摸，您可以使用世界对象的**queryAABB**方法。我尝试重新排列您的代码以使用该方法：

```
// to avoid creation every time you touch the screen
private QueryCallback qc=new QueryCallback() {

    @Override
    public boolean reportFixture(Fixture fixture) {
            if (fixture.getBody()!=null) 
            {
                    Body b=fixture.getBody();
                    CCSprite sprite = (CCSprite)b.getUserData();
                    Log.i("body touched","<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<");           
                    expandAndStopBody(b);
            }
            return false;
    }
};

private AABB aabb;

@Override
public boolean ccTouchesEnded(MotionEvent event)
{
    CGPoint location = CCDirector.sharedDirector().convertToGL(CGPoint.ccp(event.getX(), event.getY()));

    // define a bounding box with width and height of 0.4f
    aabb=new AABB(new Vec2(location.x-0.2f, location.y-0.2f),new Vec2(location.x+0.2f, location.y+0.2f));               
    _world.queryAABB(qc, aabb);            

    return true;
} 
```

我试图减少垃圾收集器，但必须实例化一些东西。[有关http://www.iforce2d.net/b2dtut/world-querying](http://www.iforce2d.net/b2dtut/world-querying)的更多信息

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-20T08:07:19.670

您应该检查以确保列表中的正文不为空，例如

```
for ( Body b = world.getBodyList(); b!=null; b = b.getNext() )
{
    // do something
} 
```

不确定这是否会解决问题，但应该可以。

# jquery - 为什么 outerHeight() 返回函数而不是实际高度？

> ID：12986389
> 
> 赞同：0
> 
> 时间：2012-10-20T07:40:43.693
> 
> 标签：jquery

我有一个以 div 为中心的功能。它使用 outerHeight() 来确定 div 的高度。在我的一个网站上它工作正常：

![外部高度工作正常](../Images/2110d3cb21d8854384a1ac5003c1adf5.png)

但在另一个站点上，它返回一个函数：

![超高工作无](../Images/313fe20566bb84559eef23bf07dc600a.png)

为什么会这样？如何使它在两个站点上都工作？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-20T09:47:09.090

您是否在两个站点上使用相同版本的 jQuery（和/或 jQuery UI）。它可能与此错误有关：http: [//bugs.jquery.com/ticket/12237](http://bugs.jquery.com/ticket/12237)

# java - JNLP jar 更新

> ID：12986390
> 
> 赞同：2
> 
> 时间：2012-10-20T07:40:46.933
> 
> 标签：java, jnlp, java-web-start

在 JFXtras 项目 (http://jfxtras.org) 中，我们使用 webstart 来启动 Ensemble 演示应用程序。但是，未检测到对 Ensemble.jar 的更新。我尝试使用此处描述的版本化 jar：

[http://docs.oracle.com/javase/tutorial/deployment/deploymentInDepth/avoidingUnnecessaryUpdateChecks.html](http://docs.oracle.com/javase/tutorial/deployment/deploymentInDepth/avoidingUnnecessaryUpdateChecks.html)

甚至每次都使用不同的文件名，方法是在 jar 的名称中添加时间戳（这不是像上面那样使用版本控制）：

<jar href="Ensemble_20121020a.jar" download="eager" />

但它继续使用它最初下载的 jar。我已经验证它每次都使用新的 JNLP 文件。尤其是最后一种方法，使用完全不同的 href 应该有效。webstart 到底是如何检测到它与之前下载的原始 Ensemble.jar 文件相同的文件？

# php - PHP DOMDocument 使用 childNodes 获取子标签名称和值

> ID：12986394
> 
> 赞同：0
> 
> 时间：2012-10-20T07:41:14.250
> 
> 标签：php, xml, domdocument, nodes

> **可能重复：**
> [使用 XML DOM 打印 XML 文件的内容](https://stackoverflow.com/questions/4598409/printing-content-of-a-xml-file-using-xml-dom)

```
<?xml version="1.0" encoding="UTF-8"?>
<colors>
    <apple>red</apple>
    <banana>yellow</banana>
    <grape>purple</grape>
</colors> 
```

由于水果名称（标签名称）是**未知**的，我正在尝试使用 of 获取所有标签名称和`childNodes`值`<colors>`

```
$dom = new DOMDocument();
$dom->load("colors.xml");
$dom->preserveWhiteSpace = false;

$root = $dom->getElementsByTagName("colors")->item(0);
$colors = $root->childNodes;

echo "<p>".$colors->length."</p>";

foreach($colors as $color) {
    echo "<p>".$color->nodeName." - ".$color->nodeValue."</p>";
} 
```

`$colors->length`返回 7 而不是 3，结果：

```
#text - 
apple - red
#text - 
banana - yellow
#text - 
grape - purple
#text - 
```

有人可以解释一下那些是`#text -`什么吗？我的代码有什么问题？谢谢。

# 更新

如果我手动删除选项卡并从 xml 文件中返回，将整个文件变成**一行**，`#text -`就消失了。但我认为这不应该是这样。

# git - git rebase 已共享的功能分支

> ID：12986398
> 
> 赞同：0
> 
> 时间：2012-10-20T07:41:34.457
> 
> 标签：git, git-rebase, feature-branch

我们希望使用变基作为我们“合并”代码的标准方式。我们还使用相当短暂的功能分支（少于 2 周），我们通过自动集成管理器将其推送到中央存储库（每个开发人员都有自己的个人存储库，并且更改首先被推送到那里，并且只有在以下情况下才会推送到中央存储库）构建和测试成功）

当我尝试变基时，我收到一条消息说分支已经分歧，并且无法推送到我的个人存储库，直到我首先从中提取并合并更改，即使这些更改与我刚刚变基的更改相同.

我应该做些什么来避免这种情况吗？或者这是我已经推送了这个功能分支的结果？我可以用我的重新定位版本替换分支吗？

在这种情况下是否有推荐的工作流程？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-20T07:49:35.497

如果没有其他人使用过您的提交（即没有将它们合并到其他任何东西中，也没有基于它们启动分支），那么您只需替换远程上的分支（通过`push --force`）。不过，请确保 100% 确保没有其他人对旧提交做过任何事情，否则他们会遇到自己的合并问题。

如果其他人*使用*了旧的提交，那么你不应该重新设置它们，句号。

# objective-c - 由于使用 unistd.h，未知类型名称 'pid_t'

> ID：12986403
> 
> 赞同：1
> 
> 时间：2012-10-20T07:42:16.653
> 
> 标签：objective-c, visual-studio, unistd.h

我收到此错误：`unknown type name 'pid_t'`。我认为由于头文件的注释而导致构建失败：`unistd.h`. 由于windows不支持unistd.h，我评论`#include <unistd>`并且这个头文件的唯一用途是`pid_t`所以我期待根据[这个答案](https://stackoverflow.com/a/826027/1333160)在Visual Studio中手动添加pid_t定义。
有什么帮助吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-20T10:09:17.723

Windows 没有`fork()`功能。您有以下选择：

*   重写程序来使用`CreateProcess()`。但请注意，这不是一对一的替换。它创建了一个新进程，与 不同`fork()`，它不是调用进程的副本。

*   使用模拟 Unix API 的环境，例如[Cygwin](http://www.cygwin.com)。

# c# - 插入的 ListView 项的索引

> ID：12986406
> 
> 赞同：2
> 
> 时间：2012-10-20T07:43:13.127
> 
> 标签：c#, listview

将我的项目添加到 ListView 时如何获取索引？

我添加的项目如下

```
flatListView1.Items.Add(name).SubItems.AddRange(row1); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-20T07:44:28.047

您可能需要这个，因为在 listitem 末尾添加的项目将是最后一个。所以总项目 -1 将是索引，因为索引从零开始。

```
flatListView1.Items.Add(name).SubItems.AddRange(row1);
int index = flatListView1.Items.Count -1; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-20T07:44:42.417

```
var lviewItem=flatListView1.Items.Add(name)
var index=flatListView1.Items.IndexOf(lviewItem) 
```

[http://msdn.microsoft.com/en-us/library/system.windows.forms.listview.listviewitemcollection.indexof.aspx](http://msdn.microsoft.com/en-us/library/system.windows.forms.listview.listviewitemcollection.indexof.aspx)

# python - 如何实现 __delitem__ 来处理所有可能的切片场景？

> ID：12986410
> 
> 赞同：4
> 
> 时间：2012-10-20T07:43:35.020
> 
> 标签：python, slice

我在一个带有嵌入式列表的课程上工作。

```
class a:
    def __init__(self, n):
        self.l = [1] * n
    def __getitem__(self, i):
        return self.l[i]
    def __delitem__(self, i):
        print type(i)
        print i 
```

我想将`del`运算符与切片的完整语法一起使用：

```
p = a(10)
del p[1:5:2] 
```

如果参数不是单个索引，则接收`__delitem__`对象。`slice`如何使用该`slice`对象遍历指定的元素？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-20T08:11:24.397

`indices`给定序列的长度，切片对象的方法将提供您可以输入的切片的规范解释`xrange`：

```
def __delitem__(self, item):
    if isinstance(item, slice):
        for i in xrange(*item.indices(len(self.l))):
            print i
    else:
        print operator.index(item) 
```

使用确保您在[Dunes](https://stackoverflow.com/questions/12986410/how-to-implement-delitem-to-handle-all-possible-slice-scenarios#comment17615204_12986434)`slice.indices`指出的情况下获得正确的行为。另请注意，您可以将切片对象传递给，因此如果您只需要进行一些预处理并将实际删除委托给底层列表，那么“天真”实际上会正常工作。`list.__delitem__``del self.l[i]`

`operator.index``__delitem__`如果您收到无法转换为索引的非切片对象，将确保您获得早期异常。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-20T07:48:27.010

`slice`对象具有可用于获取其中每个组件的`start`、`stop`和属性。`step`例如：

```
def __delitem__(self, i):
    if isinstance(i, slice):
        for j in xrange(i.start, i.stop, i.step):
            print j
    else:
        print i 
```

# ruby - 带有负规则的树顶无限递归

> ID：12986416
> 
> 赞同：2
> 
> 时间：2012-10-20T07:44:28.993
> 
> 标签：ruby, treetop

我有以下树顶语法：

```
grammar TestGrammar

    rule body
        text / expression
    end 

    rule text
        not_delimiter*
    end 

    rule expression
        delimiter text delimiter
    end 

    rule delimiter
        '$' 
    end 

    rule not_delimiter
        !delimiter
    end 

end 
```

当我尝试解析一个表达式时，例如'hello world $test$'，脚本进入一个无限循环。
问题似乎来自 not_delimiter 规则，因为当我删除它时，表达式被解析。

这个语法有什么问题？

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-20T22:50:30.043

问题似乎出在您尝试匹配的位置：

```
rule text
    not_delimiter*
end 
```

由于`*`也将不匹配任何内容，因此您有可能匹配`[^$]*`，我认为这是导致无限循环的原因。

此外，您需要`bodies`在起始规则处匹配多个，否则它将返回`nil`，因为您只会匹配一个`text`规则或一个`expression`规则，但不能同时匹配两者。

```
rule bodies
   body+
end 
```

这将解析：

```
require 'treetop'
Treetop.load_from_string DATA.read

parser = TestGrammarParser.new

p parser.parse "hello world $test$"

__END__
grammar TestGrammar
   rule bodies
      body+
   end
   rule body
      expression / text
   end
   rule expression
      delimiter text delimiter
   end
   rule text
      not_delimiter+
   end
   rule not_delimiter
      [^$]
   end
   rule delimiter
      '$'
   end
end 
```

# android - 如何使用 achart 引擎减少条形图和图表图例之间的间隙/空间？

> ID：12986419
> 
> 赞同：2
> 
> 时间：2012-10-20T07:45:05.700
> 
> 标签：android, bar-chart, achartengine, linechart

嗨，我对图表应用程序很陌生。现在我为我的应用程序创建了条形图。当我将创建条形图作为单独的项目运行时，输出如下所示。

![在此处输入图像描述](../Images/7de0ee91324aa0e9ed04af268330f8cc.png)

然后当我将条形图与我的应用程序集成时。我无法在条形图中显示下面的图例文本。如何减少图表和图例文本之间的间隙/空间？有人可以帮我解决这个问题吗？提前致谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-20T15:28:42.830

您可以使用以下方法调整图表边距`setMargins()`：

```
mRenderer.setMargins(int[] margins); 
```

`margins`值为：`top, left, bottom, right`。默认值为：`20, 30, 10, 20`。您将需要降低该`bottom`值。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-21T10:28:59.290

如果我们设置边距和平移限制，我们可以实现这一点。

![在此处输入图像描述](../Images/bce9f4ec7e5be2d0512817e7dabce80d.png)

```
 mrenderer.setMargins(new int[] { 20 ,60,  -20, 60 });
    mrenderer.setPanLimits(new double[] { -25, 20, -25, 40 }) 
```

使用这些方法可以减少图表到图例的空间。谢谢你。

# c# - 如何在 Windows 8 c# 应用程序中允许 cookie 或通过 c# 代码单击 html 按钮

> ID：12986420
> 
> 赞同：1
> 
> 时间：2012-10-20T07:45:12.783
> 
> 标签：c#, windows-8, httpclient

我有一个包含这部分代码的网页：

```
<form action="/?cid=2000" id="queryForm">
<div><button type="submit" name="computeTrip" value="true" class="button">compute trip </button></div></form> 
```

我需要在我的 c# 应用程序中运行它。我尝试了 POST 方法，但它不起作用。（我想我可能做错了）。为了获得下一页，我想在第一页下载代码，更改 http 地址，然后运行第二页。但我必须允许饼干。

我使用来自 msdn 的 Http Client 示例。

感谢帮助！

# java - Restlet：带有 RoleAuthorizer 的路由器：路由不起作用

> ID：12986421
> 
> 赞同：2
> 
> 时间：2012-10-20T07:45:16.343
> 
> 标签：java, google-app-engine, restlet

我正在尝试在 GAE 上使用 Restlet。我有一个警卫，后面跟着根路由器。2 个角色授权器，一个用于管理员，另一个用于用户。然后是roleauthorizer后面的2个路由器，用于uri和资源类之间的路由。这很奇怪，因为路线不起作用。如果我使用 attachDefault 没关系，但对于带有 attach 的路线：什么都没有！

这是我的代码：

```
public synchronized Restlet createInboundRoot() {

         Router rootRouter = new Router(getContext());

    pubRouter = new Router(getContext());

    String version="/book/v"+System.getProperty("API_VERSION");
    pubRouter.attachDefault(BookRessource.class);
    pubRouter.attach(version+"/book",BookRessource.class);

     RoleAuthorizer ra1 = new RoleAuthorizer();
     ra1.getAuthorizedRoles().add(MyEnroler.DEVELOPER);
     ra1.getAuthorizedRoles().add(MyEnroler.ADMINISTRATOR);
     ra1.setNext(pubRouter);       

     rootRouter.attach(version, ra1);

     adminRouter = new Router(getContext());

String developerVersion="/admin/v1";
    adminRouter.attach(developerVersion+"/developer", DeveloperRessource.class);
    adminRouter.attach(developerVersion+"/method",MethodRessource.class);

RoleAuthorizer ra2 = new RoleAuthorizer();
    ra2.getAuthorizedRoles().add(MyEnroler.ADMINISTRATOR);
    ra2.setNext(adminRouter);
    rootRouter.attach(developerVersion, ra2); 

    ChallengeAuthenticator guard=
       new ChallengeAuthenticator( getContext(),ChallengeScheme.HTTP_BASIC,"OPA");
    guard.setVerifier(new MyVerifier());
    guard.setEnroler(new MyEnroler());
    guard.setNext(rootRouter);
    return guard;

 } 
```

以及我的“web.xml”的摘录：

```
 <servlet>
  <servlet-name>RestletServlet</servlet-name>
  <servlet-class>org.restlet.ext.servlet.ServerServlet</servlet-class>
 </servlet>
 <servlet-mapping>
  <servlet-name>RestletServlet</servlet-name>
  <url-pattern>/api/*</url-pattern>
 </servlet-mapping> 
```

如果我想试试这个：[http](http://domain.appspot.com/api/book/v1/book) ://domain.appspot.com/api/book/v1/book ，我收到 404 错误。你能帮助我吗 ？

# paypal - PayPal Express Checkout 集成响应

> ID：12986426
> 
> 赞同：6
> 
> 时间：2012-10-20T07:46:38.663
> 
> 标签：paypal

我目前很难理解我的 PayPal EC 集成的响应。

GetExpressCheckoutDetails 响应是

```
[CHECKOUTSTATUS] => PaymentActionNotInitiated 
```

但在 DoExpressCheckout 响应中，

```
[PAYMENTINFO_0_PAYMENTSTATUS] => Completed 
```

我很困惑，这是否意味着已经向买家收费并且付款成功与否？我也无法在 PayPal 论坛和门户网站中找到答案...weeeew

以下是完整的回复详情：

GetExpressCheckout 响应：

```
 [TOKEN] => EC-76768931K5394210Y
        [CHECKOUTSTATUS] => PaymentActionNotInitiated
        [TIMESTAMP] => 2012-10-20T07:15:22Z
        [CORRELATIONID] => 2b85ff556730a
        [ACK] => Success
        [VERSION] => 94.0
        [BUILD] => 3926908
        [EMAIL] => testpp_per_1348562981_per@gmail.com
        [PAYERID] => 3PCFRVX65A7Y8
        [PAYERSTATUS] => verified
        [FIRSTNAME] => Test
        [LASTNAME] => Peepee
        [COUNTRYCODE] => US
        [CURRENCYCODE] => PHP
        [AMT] => 895.00
        [ITEMAMT] => 895.00
        [SHIPPINGAMT] => 0.00
        [HANDLINGAMT] => 0.00
        [TAXAMT] => 0.00
        [INVNUM] => 1231313213213
        [INSURANCEAMT] => 0.00
        [SHIPDISCAMT] => 0.00
        [L_NAME0] => Test Item
        [L_QTY0] => 1
        [L_TAXAMT0] => 0.00
        [L_AMT0] => 895.00
        [L_ITEMWEIGHTVALUE0] =>    0.00000
        [L_ITEMLENGTHVALUE0] =>    0.00000
        [L_ITEMWIDTHVALUE0] =>    0.00000
        [L_ITEMHEIGHTVALUE0] =>    0.00000
        [PAYMENTREQUEST_0_CURRENCYCODE] => PHP
        [PAYMENTREQUEST_0_AMT] => 895.00
        [PAYMENTREQUEST_0_ITEMAMT] => 895.00
        [PAYMENTREQUEST_0_SHIPPINGAMT] => 0.00
        [PAYMENTREQUEST_0_HANDLINGAMT] => 0.00
        [PAYMENTREQUEST_0_TAXAMT] => 0.00
        [PAYMENTREQUEST_0_INVNUM] => 1231313213213
        [PAYMENTREQUEST_0_INSURANCEAMT] => 0.00
        [PAYMENTREQUEST_0_SHIPDISCAMT] => 0.00
        [PAYMENTREQUEST_0_INSURANCEOPTIONOFFERED] => false
        [L_PAYMENTREQUEST_0_NAME0] => Test Item
        [L_PAYMENTREQUEST_0_QTY0] => 1
        [L_PAYMENTREQUEST_0_TAXAMT0] => 0.00
        [L_PAYMENTREQUEST_0_AMT0] => 895.00
        [L_PAYMENTREQUEST_0_ITEMWEIGHTVALUE0] =>    0.00000
        [L_PAYMENTREQUEST_0_ITEMLENGTHVALUE0] =>    0.00000
        [L_PAYMENTREQUEST_0_ITEMWIDTHVALUE0] =>    0.00000
        [L_PAYMENTREQUEST_0_ITEMHEIGHTVALUE0] =>    0.00000
        [PAYMENTREQUESTINFO_0_ERRORCODE] => 0 
```

DoExpressCheckout 响应：

```
 [TOKEN] => EC-76768931K5394210Y
        [SUCCESSPAGEREDIRECTREQUESTED] => false
        [TIMESTAMP] => 2012-10-20T07:15:27Z
        [CORRELATIONID] => ec7af38c18968
        [ACK] => Success
        [VERSION] => 94.0
        [BUILD] => 3926908
        [INSURANCEOPTIONSELECTED] => false
        [SHIPPINGOPTIONISDEFAULT] => false
        [PAYMENTINFO_0_TRANSACTIONID] => 02800680NT5556907
        [PAYMENTINFO_0_TRANSACTIONTYPE] => expresscheckout
        [PAYMENTINFO_0_PAYMENTTYPE] => instant
        [PAYMENTINFO_0_ORDERTIME] => 2012-10-20T07:15:26Z
        [PAYMENTINFO_0_AMT] => 895.00
        [PAYMENTINFO_0_FEEAMT] => 49.91
        [PAYMENTINFO_0_TAXAMT] => 0.00
        [PAYMENTINFO_0_CURRENCYCODE] => PHP
        [PAYMENTINFO_0_PAYMENTSTATUS] => Completed
        [PAYMENTINFO_0_PENDINGREASON] => None
        [PAYMENTINFO_0_REASONCODE] => None
        [PAYMENTINFO_0_PROTECTIONELIGIBILITY] => Ineligible
        [PAYMENTINFO_0_PROTECTIONELIGIBILITYTYPE] => None
        [PAYMENTINFO_0_SECUREMERCHANTACCOUNTID] => K3TTNE7MKRJUN
        [PAYMENTINFO_0_ERRORCODE] => 0
        [PAYMENTINFO_0_ACK] => Success 
```

非常感谢！:)

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-21T02:31:42.877

*在您*致电 DoExpressCheckout之前，付款不会发生。

在第一步（SetExpressCheckout + 重定向到 PayPal）中，买家授权您向他收费。现在，您可以通过调用 DoExpressCheckout 来真正获得他的钱。

如果您在 DoExpressCheckout **之后**调用GetExpressCheckoutDetails，您应该会收到付款完成响应。

编辑：您可能希望在 DoExpresCheckout 之前调用 GetExpressCheckoutDetails 的一个原因是获取买家选择的地址，以防它可能会更改总数，因此它仍然是一个有效的用例。

# algorithm - 两个 ORDERED 集合的相似性

> ID：12986430
> 
> 赞同：1
> 
> 时间：2012-10-20T07:47:35.560
> 
> 标签：algorithm, language-agnostic, levenshtein-distance

我有一个有序的集合：

```
[Doc1, Doc2, Doc3, Doc4, Doc5] 
```

其中 Doc1 排在前面`Doc2`（想象一个搜索查询情况，这个有序集合是搜索的结果。

现在，假设我有第二个有序集合：

```
[Doc1, Doc2, Doc3, Doc5, Doc4] 
```

我需要一种将这种差异量化为数字分数的方法。它还必须考虑重量，因此`[Doc1, Doc2, Doc3, Doc5, Doc4]`更接近原始集合，然后`[Doc2, Doc1, Doc3, Doc4, Doc5]`是，因为差异发生在靠近顶部的位置。

我已经考虑了 Levenshtein 的差异，但看不到如何考虑订单。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-20T08:10:52.617

[根据维基百科](https://en.wikipedia.org/wiki/Levenshtein_distance)，可以使用以下伪代码计算 Levenshtein 距离。

```
int LevenshteinDistance(string s, string t)
{
  int len_s = length(s), len_t = length(t), cost = 0;
  if (s[0] != t[0])
    cost = 1;
  if (len_s == 0)
    return len_t;
  else if (len_t == 0)
    return len_s;
  else
    return minimum(
        LevenshteinDistance(s[1..len_s], t) + 1,
        LevenshteinDistance(s, t[1..len_t]) + 1,
        LevenshteinDistance(s[1..len_s], t[1..len_t]) + cost);
} 
```

如果我正确理解您的要求，您希望集合开始时的差异比结束时的差异更重要。让我们调整这个递归函数来反映这个需求。

```
float LevenshteinDistance(string s, string t, float decay)
{
  int len_s = length(s), len_t = length(t), cost = 0;
  if (s[0] != t[0])
    cost = 1;
  if (len_s == 0)
    return len_t;
  else if (len_t == 0)
    return len_s;
  else
    return decay * minimum(
        LevenshteinDistance(s[1..len_s], t, decay) + 1,
        LevenshteinDistance(s, t[1..len_t], decay) + 1,
        LevenshteinDistance(s[1..len_s], t[1..len_t], decay) + cost);
} 
```

什么时候`decay`属于区间 (0,1) 的参数在较大指数上的差异变得比以前的差异更不显着。

这是`decay=0.9`.

```
s       t       dist
"1234"  "1234"  0.0000
"1234"  "1243"  1.3851
"1234"  "2134"  1.6290 
```

# html - 调整图像大小以填充但不超过浏览器窗口的最优雅方法？

> ID：12986437
> 
> 赞同：2
> 
> 时间：2012-10-20T07:48:52.257
> 
> 标签：html, css

我有一个包含多个图像的布局，包括纵向和横向。我想让每个图像在浏览器窗口中占据尽可能多的空间，同时保持完全可见。

有没有一种简单的方法可以做到这一点？我尝试过搜索，但出现的一切都是为了制作单个全屏 DIV 或图像，而不是我想使用的多个图像。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-20T07:50:58.227

您可以使用`background-size`具有 value 的属性`cover`来执行此操作。对于不支持此功能的旧 IE 浏览器，已提供 jQuery CSS hooks 修复。

您只需使用按比例的 CSS 宽度值对 DIV 进行布局，然后为每个 DIV 分配一个覆盖背景图像。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-20T09:00:01.220

我想也许你正在寻找这样的东西：http: [//masonry.desandro.com/demos/images.html](http://masonry.desandro.com/demos/images.html)

# c++ - 从复制的集合中破坏 box2d 关节

> ID：12986438
> 
> 赞同：0
> 
> 时间：2012-10-20T07:48:54.050
> 
> 标签：c++, cocos2d-iphone, box2d, box2d-iphone

我正在尝试制作一种方法（destroyWeldJoint），从复制的集合中破坏焊缝。关节最初是在另一种方法 (createWeldJoint) 中创建的。我试图在另一种方法中破坏焊缝的原因是因为我在更新方法中调用 createWeldJoint 并且我想避免在枚举它时尝试更改集合。请看下面的代码：

创建焊接接头：

```
-(void) createWeldJoint {

// using the iterator pos over the set
std::set<BodyPair *>::iterator pos;

for(pos = bodiesForJoints.begin(); pos != bodiesForJoints.end(); ++pos)
{

    b2WeldJointDef      weldJointDef;

    BodyPair            *bodyPair = *pos;
    b2Body              *bodyA = bodyPair->bodyA;
    b2Body              *bodyB = bodyPair->bodyB;

    weldJointDef.Initialize(bodyA,
                            bodyB,
                            bodyA->GetWorldCenter());
    weldJointDef.collideConnected = false;
    weldJoint = (b2WeldJoint*) world->CreateJoint(&weldJointDef);

    // Free the structure we allocated earlier.
    free(bodyPair);

    // Remove the entry from the set.
    //bodiesForJoints.erase(pos);

}

// copy of bodiesForJoints
std::set<BodyPair *> bodiesForJointsCopy(bodiesForJoints.begin(), bodiesForJoints.end());

bodiesForJoints.clear();

} 
```

破坏焊接接头：

```
- (void) destroyWeldJoint    {
std::set<BodyPair *>::iterator pos;

for(pos = bodiesForJointsCopy.begin(); pos != bodiesForJointsCopy.end(); ++pos)
{

    BodyPair            *bodyPair = *pos;
    b2Body              *bodyA = bodyPair->bodyA;
    b2Body              *bodyB = bodyPair->bodyB;

    // weldjoint should be destroyed here

    // Free the structure we allocated earlier.
    free(bodyPair);

}    
} 
```

如何在 destroyWeldJoint 方法中销毁焊缝（在 createWeldJoint 中）？

# session - Zend Framework 2 中的会话管理

> ID：12986439
> 
> 赞同：0
> 
> 时间：2012-10-20T07:48:55.257
> 
> 标签：session, zend-framework2, zend-acl

尝试在 Zend Framework 2 上进行管理站点，将授权设置为`mysite / admin / login`. 一路没有完成授权怎么拒绝访问`mysite / admin / ...`？

为此我在 ZF1 中使用了`«BaseController»`，但 ZF2 想在类模块中检查会话。

```
class Module
{
    public function onBootstrap($e)
    {
        $app = $e->getApplication();
        $sm = $app->getServiceManager();
        $config = $sm->get('Configuration');

        // DB Adapter
        $adapter = $sm->get('Zend\Db\Adapter\Adapter');
        GlobalAdapterFeature::setStaticAdapter($adapter);

        // Session
        $sessionConfig = new SessionConfig();
        $sessionConfig->setOptions($config['session']);
        $sessionManager = new SessionManager($sessionConfig, null, null);
        Container::setDefaultManager($sessionManager);
        $sessionManager->start();
    }
} 
```

告诉我我是否想做？朝哪个方向看？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-20T07:57:31.503

尝试使用 Zendframe Work 2 [EventManager](http://framework.zend.com/manual/2.0/en/modules/zend.event-manager.event-manager.html)。

# html - 保存自由格式描述以及空格和换行符

> ID：12986444
> 
> 赞同：1
> 
> 时间：2012-10-20T07:49:27.900
> 
> 标签：html, mysql, hibernate, spring-mvc

我确定肯定有很多帖子回答了我的查询，但我就是找不到正确的帖子。

在我的应用程序中，用户在文本区域中输入免费的描述。但是当数据被保存并显示在下一页时，整个文本被包裹在单个段落中。我希望在用户输入时保存整个文本以及行空格和换行符、制表符等。

请重定向我到正确的帖子。我必须将textarea保存为blob吗？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-20T07:59:20.050

您的问题是文本是以纯文本输入的，但是，在 HTML 中，多余的空格被删除，各种空格只显示为一个空格字符。您必须在`<pre></pre>`标签中显示文本（丑陋的方式）或使用正则表达式或其他字符串处理方法重新格式化它以制作实际的 HTML。

# plugins - 用于在 CRM 2011 中的 xml Webresource 中更新或创建节点的插件

> ID：12986446
> 
> 赞同：0
> 
> 时间：2012-10-20T07:49:34.923
> 
> 标签：plugins, dynamics-crm-2011, crm

我想要可以在 CRM 2011 的 xml Web 资源中创建或更新节点的插件。

例如，我有这样的 XML 文件的 Webresource 因此是 xml 文件中的父子节点......

```
<root name="account">
<node cId="6343cd70-cd0e-e211-b10a-984be173a3b0" cName="Blue Company (sample)" pId="00000000-0000-0000-0000-000000000000" pName="">
<node cId="5f43cd70-cd0e-e211-b10a-984be173a3b0" cName="Best o' Things (sample)" pId="6343cd70-cd0e-e211-b10a-984be173a3b0" pName="Blue Company (sample)" /> 
```

```
<node cId="6543cd70-cd0e-e211-b10a-984be173a3b0" cName="Elemental Goods (sample)" pId="00000000-0000-0000-0000-000000000000" pName="" />
<node cId="6743cd70-cd0e-e211-b10a-984be173a3b0" cName="Grand Store (sample)" pId="00000000-0000-0000-0000-000000000000" pName="" />
 </root> 
```

现在我想要这样一个可以根据父子帐户更新或创建节点的插件..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-20T10:21:28.283

在[此链接](http://mileyja.blogspot.com/2011/03/editing-embedded-web-resource-contents.html)上，您有编辑 HTML Web 资源的示例。您可以对 XML ws 使用相同的方式。

*添加新节点：*加载您的 xml，例如，XDocument 文档并添加新节点：

```
var newElement = new XElement("node");
newElement.SetAttributeValue("cId", "123456");
newElement.SetAttributeValue("cName", "Test cName");
newElement.SetAttributeValue("pId", "321564");
newElement.SetAttributeValue("pName", "Test pName");

doc.Root.Add(newElement); 
```

只需更新您的网络资源内容。

希望能帮助到你 ：）

# c# - ServiceStack 将身份验证放到 Razor 视图中

> ID：12986447
> 
> 赞同：5
> 
> 时间：2012-10-20T07:49:46.370
> 
> 标签：c#, .net, razor, servicestack

*（我说的是纯SS项目，请不要和MVC Razor混淆）*

我们如何通过身份验证限制对 SS Razor 视图的访问？

也就是说，我们如何从 SS Razor 中调用用户会话和身份验证代码？

我想做这样的事情：

```
@inherits ViewPage
@Authenticate(RedirectUrl = "/Login")

<div>Hello @UserSession.UserName</div>
<div>You are in the secured area now</div> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-21T15:33:10.110

我不知道有任何方法可以直接从 SS Razor 页面执行此操作。然而，当我遇到同样的困境时，我通过创建一个提供页面的服务来解决它。这样，您可以使用该`Authorize`属性装饰页面的服务，如果用户未通过身份验证，它将被重定向到登录页面。

```
[Authorize]
public class MyPageService : IService<MyRequestDTO>
{
    public object Execute(MyRequestDTO request)
    {
        ...
        return new MyPageViewModel();
    }
} 
```

要在 razor 页面中检索当前会话，您可以使用`GetSession<T>`.

```
@{
    var currentSession = GetSession<CustomUserSession>();
}

<div>Hello @currentSession.UserName</div> 
```

这样做的另一个优点是您可以获得强类型视图并从服务中为视图提供数据。

```
@inherits ViewPage<MyPageViewModel> 
```

# android - 选择在 android 上使用 min3d 渲染的对象

> ID：12986453
> 
> 赞同：1
> 
> 时间：2012-10-20T07:50:26.703
> 
> 标签：android, opengl-es

在浏览 min3d 库提供的示例代码时，我遇到了一个从 .obj 文件加载多个对象的示例。它将车身和 4 个轮胎作为不同的对象加载。是否可以添加一个触摸事件来检测 5 个对象中的哪一个被触摸/选择。如果没有，是否有任何其他库可以加载 .obj 文件并使我能够检测到选定的对象。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-20T09:56:59.043

min3D 现在已过时，新框架称为[Rajawali](http://www.rozengain.com/blog/2011/08/23/announcing-rajawali-an-opengl-es-2-0-based-3d-framework-for-android/)。[它支持对象拾取，请参阅此处](http://www.rozengain.com/blog/2012/03/23/rajawali-tutorial-12-object-picking/)的教程。

# c++ - g ++中for循环中的奇怪迭代器行为

> ID：12986459
> 
> 赞同：-3
> 
> 时间：2012-10-20T07:51:15.250
> 
> 标签：c++, stl

我遇到了这个奇怪的问题，下面是正常工作的代码片段。

```
std::multimap<long,int>::iterator dateItr = reconnQueueDates.begin();

while( dateItr!=reconnQueueDates.end()  ){
LOG_DEBUG("RUN comparision " <<cDateTime<< ", "<<dateItr->first);
if(dateItr->first <= cDateTime){
    long nextTimeout = -1;
   if( (nextTimeout = callReconnects(dateItr->second,dateItr->first))>-1){

        if(nextTimeout>0){
       reconnQueueDates.insert(std::pair<long , int>(nextTimeout, dateItr->second));
            }
            reconnQueueDates.erase(dateItr);
     LOG_DEBUG("modified the iterator ressetting");
     dateItr = reconnQueueDates.begin();
     LOG_DEBUG("resset iter");
   }//end of callreconnect if
}else{
 ++dateItr;
} //else for datetime check
 }//end of while 
```

在此之前，我在循环中使用带有 ++dateItr 的 for 循环，如下所示

```
 for( ;dateItr!=reconnQueueDates.end();++dateItr  ){
LOG_DEBUG("RUN comparision " <<cDateTime<< ", "<<dateItr->first);
if(dateItr->first <= cDateTime){
   long nextTimeout = -1;
   if( (nextTimeout = callReconnects(dateItr->second,dateItr->first))>-1){

            if(nextTimeout>0){
       reconnQueueDates.insert(std::pair<long , int>(nextTimeout, dateItr->second));       
             }
             reconnQueueDates.erase(dateItr);

        LOG_DEBUG("modified the iterator ressetting");
    dateItr = reconnQueueDates.begin();
    LOG_DEBUG("resset iter");
   }// callReconnect 
} // check datetime

 }// for loop 
```

在调试时，我发现在循环内更改映射后，for 构造内的迭代器值仍在使用旧地址。

我正在使用 ubuntu 12.04 和 g++ 版本 4.6.3。在我看来，这是某种编译器错误或某种优化。

任何想法可能是哪个标志或错误。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-20T08:21:21.077

在`reconnQueueDates.erase(dateItr);`迭代器`dateItr`无效并且对它的任何使用都是未定义的行为之后。由于您的旧循环和新`for`循环都在之后使用它，因此您的新版本“有效”这一事实纯属偶然。

正确的做法是在擦除该元素之前首先提取您可能仍需要的所有数据（包括下一个迭代器的位置）。例如：

```
std::multimap<long,int>::iterator dateItr = reconnQueueDates.begin();

while( dateItr!=reconnQueueDates.end()  )
{
  LOG_DEBUG("RUN comparision " <<cDateTime<< ", "<<dateItr->first);
  if(dateItr->first <= cDateTime)
  {
    std::multimap<long,int>::iterator nextItr = dateItr;
    ++nextItr;
    long nextTimeout = -1;
    if( (nextTimeout = callReconnects(dateItr->second,dateItr->first))>-1)
    {
      std::pair<long , int> newentry = std::make_pair(nextTimeout, dateItr->second);
      reconnQueueDates.erase(dateItr);
      if(nextTimeout>0)
      {
        reconnQueueDates.insert(newentry);
      }
      LOG_DEBUG("modified the iterator resetting");
      nextItr = reconnQueueDates.begin();
      LOG_DEBUG("reset iter");
    }//end of callreconnect if
    dateItr = nextItr;
  }
  else
  {
    ++dateItr;
  } //else for datetime check
}//end of while 
```

# nhibernate - 冬眠的烦恼。调用 lock 重新附加对象会引发异常“No persister for: MovieProxy”

> ID：12986460
> 
> 赞同：2
> 
> 时间：2012-10-20T07:51:33.653
> 
> 标签：nhibernate

下面是代码。我已经将其简化为一无所有。基本上我打开一个会话，加载电影，测试锁定是否有效，然后驱逐该项目，然后再次尝试锁定它并引发异常。有没有人见过这个。如果有人可以提供帮助，我将不胜感激。没有自定义拦截器或任何东西。我使用流利的 nhibernate 映射和 nhibernate 3.3.1.4000。

var session = SessionFactory.OpenSession();

var m = session.Get(movie.Id);

session.Lock(m, LockMode.None);

session.Evict(m);

session.Lock(m, LockMode.None);

我创建了一个简单的类映射来缩小问题范围。该问题似乎是标记到属性的延迟加载中的错误。当延迟加载的电话号码被注释掉时，锁定工作正常，但是当它包含在映射中时会崩溃。

```
 //DynamicUpdate();
        //LazyLoad();
        Id(x => x.Id);
        Map(x => x.Name).Unique();
        Map(x => x.CleanName);
        Map(x => x.PhoneNumber).LazyLoad();
        HasMany(o => o.CountryList).Table("Country").Element("String").Cascade.AllDeleteOrphan().LazyLoad();
        //HasMany(x => x.AddressList).Cascade.AllDeleteOrphan().Inverse().LazyLoad();
        Version(x => x.EditDate); 
```

# javascript - Shopify selectCallback 函数

> ID：12986466
> 
> 赞同：-1
> 
> 时间：2012-10-20T07:53:00.283
> 
> 标签：javascript, select, callback, shopify

当我尝试显示一种产品的两种价格时，[我的商店](https://gaziano-girling.myshopify.com/)出现了问题，一种是英国增值税 (20%)，另一种是没有。我已按照[指南](http://support.shopify.com/customer/portal/articles/663599-how-to-show-one-price-with-vat-and-one-price-without-vat)进行操作，现在这两个价格都显示在我商店的所有部分，但问题在于多种尺寸/颜色的商品。

我有单一尺寸的包，这些都是正确的，但是当我查看任何具有多种尺寸和配件的鞋子或皮带物品时，它不会计算附加税。

Shopify 告诉我“您需要在您的 selectCallback 函数中添加 JavaScript 以更新价格，无论是否包含增值税。”

我看到另一家商店的鞋子似乎已经找到了可能：[http ://www.afinepairofshoes.co.uk/collections/featured-products/products/sanders-alfie-brogue-in-teak-brown](http://www.afinepairofshoes.co.uk/collections/featured-products/products/sanders-alfie-brogue-in-teak-brown)

店铺：[https](https://gaziano-girling.myshopify.com/) ://gaziano-girling.myshopify.com/ 通行证：schura

任何帮助，将不胜感激

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-21T03:48:33.857

在响应式主题中，selectCallback 函数位于此文件中：[http](http://www.shopify.com/admin/themes/current#snippets/product-form.liquid) ://www.shopify.com/admin/themes/current#snippets/product-form.liquid 。

SelectCallback 函数，顾名思义，是一个“回调”函数。在 Shopify 主题中，当加载产品页面以及购物者在产品页面上选择变体时，将调用这个特定的函数 selectCallback。例如，当购物者在 Size 下拉菜单中选择 Small 并在 Color 下拉菜单中选择 Blue 时，将调用 selectCallback 函数。

该功能做了很多事情：它将页面上显示的价格更新为所选产品变体之一，它也更新价格比较，如果所选变体缺货，它还会禁用添加到购物车按钮，然后显示一些文字以提醒购物者“嘿，伙计，一个缺货，选择另一个尺寸......”。

在您的情况下，您需要在该功能内的产品页面上再更新 2 个价格，即含增值税的价格和含增值税的价格比较。

剩下的就是 JavaScript...

# c# - 使行不同并显示所有列

> ID：12986486
> 
> 赞同：12
> 
> 时间：2012-10-20T07:56:02.063
> 
> 标签：c#, datatable, dataset, dataview

在我的项目中有两个数据表`dtFail`和`dtFailed`（`dtFailed`只有列名声明）。`dtFail`具有重复的“EmployeeName”列值。所以我采取了一个数据视图`dvFail`并完成了使它们不同的过程，如下面的代码所示：

**失败**

![在此处输入图像描述](../Images/7000f641080bf05c9e6df6fe8a56ca60.png)

我尝试了以下代码：

```
 DataView dvFail = new DataView(dtFail);
   dtFail = dvFail.ToTable(true, "EmployeeName"); //showing only one column in dtFail 
```

**dtFailed**（*只有一列*）

![在此处输入图像描述](../Images/9095229d0fb41c99a6f0400eefd510df.png)

如果我喜欢下面

```
 DataView dvFail = new DataView(dtFail);
   dtFail = dvFail.ToTable(true, "EmployeeName","EmployeeRole","Status"); 
```

**dtFailed**（*显示但有重复的行*）

![在此处输入图像描述](../Images/57d5b3fe4b4a4c9e85e66dea2489a0bb.png)

然后数据表`dtFailed`也存储重复的“EmployeeName”。

请帮助
提前致谢。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2015-06-29T11:01:47.150

试试这个查询 -

```
DataTable distinctTable = originalTable.DefaultView.ToTable( /*distinct*/ true); 
```

有关更多信息，请点击以下链接 -

[https://social.msdn.microsoft.com/Forums/en-US/ed9c6a6a-a93e-4bf5-a892-d8471b84aa3b/distinct-in-datatable-or-dataview?forum=adodotnetdataset](https://social.msdn.microsoft.com/Forums/en-US/ed9c6a6a-a93e-4bf5-a892-d8471b84aa3b/distinct-in-datatable-or-dataview?forum=adodotnetdataset)

我希望这会对你有所帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-07-03T14:22:09.487

**解决方案 1：**

根据我理解的问题，我们需要考虑基于 EmployeeName 的重复项，我们不必担心其他列。如果是这种情况，下面的解决方案效果更好。

```
foreach(DataRow r in dtFail.AsEnumerable())
  {
   if (!dt1.AsEnumerable().Any(r1 => r1["EmployeeName"] == r["EmployeeName"]))
      {
     // if you don't want to copy entire row create new DataRow 
     // with required fields and add that row.
      dt1.Rows.Add(r.ItemArray);
      }
  } 
```

如果您愿意，可以将 dt1 放回 dtFail。

**解决方案 2：**

如果我们需要考虑不同的行，我更喜欢下面的解决方案。

```
var temp = dtFail.AsEnumerable().Distinct();
dtFail = temp.CopyToDataTable(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-06-30T04:33:36.133

I'm not sure it will be helpful or not. As far as I get from your question that you want `EmployeeName` to be distinct irrelevant to other columns. But if you do `ToTable` and turn on the distinct flag it will give all the distinct rows, doesn't matter how many columns are involved there. So if you mention only EmployeeName it will obviously give you distinct EmployeeNames, not all the columns associated with it.

So, thats what I did, initially select only the distinct `EmployeeName` columns and put it into a temp DataTable dtt.

```
DataTable dtt = dvFail.DefaultView.ToTable(true, "EmployeeName"); 
```

Secondly I've created another temp DataTable where we put the segregated rows from the main DataTable dtFail and set the column names manually.

```
DataTable TempDataTable = new DataTable();
DataTable dtFailed = new DataTable(); 
```

Prepare the columns in the dtFailed DataTable.

```
 if (dtFailed.Columns.Count == 0)
     {
           dtFailed.Columns.Add("EmployeeName");
           dtFailed.Columns.Add("EmployeeRole");
           dtFailed.Columns.Add("Status");
           dtFailed.Columns.Add("Date");
     } 
```

Loop through the distinct EmployeeName dtt DataTable and match the EmployeeName and keep that selected `first` row in the TempDataTable. Finally all rows transferred into the dtFailed.

```
 for (int j = 0; j < dtt.Rows.Count; j++)
     {
           string EmployeeName = dtt.Rows[j]["EmployeeName"].ToString();
           TempDataTable = dvFail.Select("EmployeeName = " + EmployeeName).CopyToDataTable();
           dtFailed.Rows.Add(TempDataTable.Rows[0].ItemArray);
     } 
```

# javascript - 如何为我的 html5 应用程序重复相同的 javascript？

> ID：12986487
> 
> 赞同：0
> 
> 时间：2012-10-20T07:56:01.763
> 
> 标签：javascript, html, button, repeat

我的 html5 应用程序需要一些帮助。工作如下： 显示一个随机单词。然后你需要点击右键来回答。如果你是正确的，计数器必须变为 +1，如果不正确，计数器必须变为 -1。然后下一个词必须出现。当计数器变为某个数字（例如 20）时，您就完成了课程。

我尝试使用 for 循环，但我没有让它工作。请帮帮我..

```
<script type="text/javascript"> 
var accusative = ["bis", "durch", "für", "gegen", "ohne", "um", "entlang"];
var dative = ["aus", "bei", "mit", "nach", "seit", "von", "zu", "entgegen", "außer", "gegenüber", "an...vorbei"];
var choicePreposition = ["an", "auf", "hinter", "neben", "in", "über", "unter", "vor", "zwischen"];
var answer2;
var caseDeterminar = Math.floor((Math.random()*3));
    function question(){
    if (caseDeterminar === 0) {
        determinar = dative[Math.floor((Math.random()*11))];
    }
    else if (caseDeterminar === 1) {
        determinar = accusative[Math.floor((Math.random()*7))];
    }
    else {
        determinar = choicePreposition[Math.floor((Math.random()*9))];
    }

    return determinar;
    }

    function answerIsDative() {
        var answer1 = "3"

        if (answer1 === answer2) {
            prompt("good!");
        }

        else {
            prompt("wrong!");
        }   

    }
    function answerIsAccustive() {
        var answer1 = "4"

        if (answer1 === answer2) {
            prompt("good!");
        }

        else {
            prompt("wrong");
        }
    }
    function answerIsChoice() {
        var answer1 = "k"

        if (answer1 === answer2) {
            prompt("good!");
        }

        else {
            prompt("wrong!");
        }
    }

    document.write(question());

    if (caseDeterminar === 0) {
        answer2 = "3";
    }
    else if (caseDeterminar === 1) {
        answer2 = "4";
    }
    else if (caseDeterminar === 2) {
        answer2 = "k";
    }

    if (i === 10) {
        prompt("You are done!!");
    }   

//}

     </script> 
  </p.woord>
</span>    </div>

<div id="buttons">

<button type="button" id="dative" onClick="answerIsDative()"> Dative </button>
<button type="button" id="accusative" onClick="answerIsAccustive()"> Accusative </button>
<button type="button" id="choice" onClick="answerIsChoice()"> Choice </button>
</div>

 <script type="text/javascript">         
document.write(i);
 </script> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-20T09:50:11.307

以下应该有效 - 请原谅谷歌翻译；）

[http://jsfiddle.net/Tbg6G/](http://jsfiddle.net/Tbg6G/)

您需要处理一些事情，以便有一个事件（由用户单击按钮触发）开始下一个问题。稍后我将在此处发布代码以及评论。

### 标记

```
<div id="partituur"></div>
<div id="antwoord"></div>
<div id="buttons">
    <button type="button" id="derde">
        Derde
    </button>
    <button type="button" id="vierde">
        Vierde
    </button>
    <button type="button" id="keuze">
        Keuze
    </button>
</div> 
```

### javascript

```
/// first off wrap all our code in our own scope, this means we keep our vars
/// to ourselves and don't mess up anyone elses code - doesn't usually matter
/// with your own app, but good practice is good practice.
(function(){

    /// might as well store an array with each answer, could be improved
    /// by storing the question as well - so in the end you could give
    /// the user a summary.
    var antwoordenAnswers = [];
    var antwordenPartituur = 0;  /// store the score count
    var antwoordVerwacht = null; /// keep a reference to the expected answer

    /// reformatted your arrays to better fit with SO layout ;)
    var vierdeNaamval = [
            "bis", "durch", "für", "gegen",
            "ohne", "um", "entlang"
        ],
        derdeNaamval = [
            "aus", "bei", "mit", "nach", "seit",
            "von", "zu", "entgegen", "außer",
            "gegenüber", "an...vorbei"
        ],
        keuzevoorzetsel = [
            "an", "auf", "hinter", "neben", "in",
            "über", "unter", "vor", "zwischen"
        ];

    /// added some translation vars for English people 
    /// out there (and to help me)
    var accusative = vierdeNaamval,
        dative = derdeNaamval,
        choicePreposition = keuzevoorzetsel;

    /// to aid with a random choice it's nice to work with arrays
    var opties = [vierdeNaamval, derdeNaamval, keuzevoorzetsel];
    var options = opties;

    /// ... then we can use a function like this to grab a random item
    var getRandomItem = function( a ){
        return a[Math.floor((a.length)*Math.random())];
    };

    /// handle writing the question, as stated 
    /// by @AvlinWong - don't use document.write()
    var vraagQuestion = function(){
        /// use our simple get random item from array function
        var a = getRandomItem( opties );
        /// set the expected answer
        if ( a === vierdeNaamval ) {
            antwoordVerwacht = '3';
        }
        else if ( a === derdeNaamval ) {
            antwoordVerwacht = '4';
        }
        else if ( a === keuzevoorzetsel ) {
            antwoordVerwacht = 'k';
        }
        /// choose a random question item from the list
        var b = getRandomItem( a );
        /// target the output element and change it's HTML
        document.getElementById('antwoord').innerHTML = b;
    };

    /// a simple function to better explain the act of updating the score
    /// in the GUI/HTML.
    var zettenPartituur = function( a ){
       document.getElementById('partituur').innerHTML = a;
    };

    /// clickOnTheButton --- hope the translation is right :)
    var klikOpDeKnop = function(e){
        /// because we are relying on pure javascript, different browsers
        /// have different event objects - srcElement for old IE, target
        /// for everything else...
        var a = e.target ? e.target : e.srcElement;
        var corrigeren = null;
        /// because each button has a unique id, we can do this
        switch ( a.id ) {
            case 'derde':
                corrigeren = ( antwoordVerwacht == '3' );
            break;
            case 'vierde':
                corrigeren = ( antwoordVerwacht == '4' );
            break;
            case 'keuze':
                corrigeren = ( antwoordVerwacht == 'k' );
            break;
        }
        /// if they were correct, tell them so and update score
        if ( corrigeren ) {
            alert('good!');
            antwordenPartituur++;
        }
        /// otherwise tell them not and downgrade score :(
        else {
            alert('wrong!');
            antwordenPartituur--;
        }
        /// collect the answer
        antwoordenAnswers.push( corrigeren );
        /// output the score to the user
        zettenPartituur( antwordenPartituur );
        /// because we are storing an array of answers it's easy
        /// to tell how many there have been by .length of the array
        if ( antwoordenAnswers.length > 10 ) {
            /// all done!
            alert("Hoera! Je bent klaar!! / You're done!!");
        } else {
            /// generate a new question
            vraagQuestion();
        }
    }

    /// using a simple window.onload will mean we know that we can
    /// start messing around with the HTML on the page. This could
    /// be improved using addEventListener/attachEvent but as this
    /// is your own app with bespoke code you don't need to worry.
    /// Unless you start using any plugins or third-party libraries.
    window.onload = function(){

        /// target the button wrapper in the HTML
        var wikkelWrapper = document.getElementById('buttons'),
            /// find all buttons within wrapper
            knoppenButtons = wikkelWrapper.getElementsByTagName('button'),
            i, l = knoppenButtons.length, a;

        /// step each button found and apply an event listener using the
        /// more accepted and improved addEventListener/attachEvent methods
        /// there are many reasons as to why these are better to use
        /// just search StackOverflow for reasons as to why :)
        for(i=0; i<l; i++){
            a = knoppenButtons[i];
            /// for all good browsers
            if ( a.addEventListener ) {
                a.addEventListener('click', klikOpDeKnop);
            }
            /// for good ol' Internet Explorer
            else if ( a.attachEvent ) {
                a.attachEvent('onclick', klikOpDeKnop);
            }
        };

        /// set the ball rolling / stelt u de bal aan het rollen
        /// first set the output of the score
        zettenPartituur(antwordenPartituur);
        /// then set the first question
        vraagQuestion();

    }

})(); /// this construction can be confusing, it basically just creates
/// a new anonymous function and then executes it straight away. we are
/// using the anon function for it's scope so that we keep our variables
/// and methods separated from other code. 
```

# c - 免费在哪里使用

> ID：12986488
> 
> 赞同：0
> 
> 时间：2012-10-20T07:56:07.290
> 
> 标签：c

> **可能重复：**
> [我应该在哪里调用 Free() 函数？](https://stackoverflow.com/questions/4544383/where-should-i-call-free-function)

我有这个初始化方法来初始化一个队列，我使用了一个 malloc。我的问题是，如果 malloc 使用得很好，我是否必须使用免费的，因为我有一个 malloc，在哪里？

```
 void e1_init(e1queue_t* q){
     q->head = 0;
     q->tail = sizeof(q->queue)/sizeof(int)-1;
     q=(e1queue_t*) malloc( sizeof(e1queue_t));
     q->size=0;  
    } 
```

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-20T07:58:25.323

我认为该代码不会像您认为的那样做。一旦该函数返回，您就丢失了指向已分配内存的指针。 `q`仅在函数范围内进行修改。（说实话，整个函数有点荒谬。使用它会*很*奇怪。）

无论如何，要回答您的问题，您将有一个匹配`e1_destroy`或`e1_free`方法来负责正确清理结构的内容。

# bash - Bash：解释以下重定向案例

> ID：12986490
> 
> 赞同：0
> 
> 时间：2012-10-20T07:56:24.043
> 
> 标签：bash, io-redirection

我正在阅读[BashFAQ/002](http://mywiki.wooledge.org/BashFAQ/002)并遇到以下重定向案例。我已经写了我对每个案例的理解，所以如果我错了，请发表评论。

**情况1**

```
output=$(command 2>&1 >/dev/tty) 
```

重定向`stderr`到`stdout`和重定向`stdout`到`tty`. 所以，现在都`stdout and stderr`重定向/输出到终端。

**案例2**

```
output=$(command 2>&1 >/dev/null) 
```

重定向`stderr`到`stdout`和重定向`stdout`到`/dev/null`. 虽然我不明白这样做的意义，因为现在两者`stderr and stdout`都被丢弃了。

**案例3**

```
output=$(command 3>&2 2>&1 1>&3-) 
```

不，不管这里发生了什么。我不知道`fd 3`。

**案例4**

```
exec 3>&1 
output=$(command 2>&1 1>&3)
exec 3>&- 
```

不，再想一想。

那么，有人可以向我详细解释案例#3 和案例#4 并指出相关文档。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-20T08:03:37.570

将数据发送到 /dev/null 表示您不关心结果（例如，您只想执行操作）

情况 3 & 4：每个打开的文件都被分配一个文件描述符。stdin、stdout 和 stderr 的文件描述符分别为 0、1 和 2。为了打开其他文件，还有描述符 3 到 9。[http://www.tldp.org/LDP/abs/html/io-redirection.html](http://www.tldp.org/LDP/abs/html/io-redirection.html)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-20T08:04:54.647

案例 1 和 2 不符合您的描述。在这两种情况下，`stderr`将被重定向到*之前*`stdout`链接到的任何内容。即在这两种情况下，将存储打印到的任何内容，并分别重定向到和。（另请参见[此处，以及](https://unix.stackexchange.com/questions/23964/why-is-redirecting-stderr-to-dev-null-done-this-way)[此处](http://www.gnu.org/software/bash/manual/bashref.html#Redirections)的 bash 文档） *`stdout``output``command``stderr``stdout``/dev/tty``/dev/null`*

 *`3`只是另一个文件描述符。它没有什么“魔法”，应用程序/命令/脚本定义了它的作用。

`-`对于末尾带有 a 的表单，请参阅 REDIRECTION 和[Moving File Descriptors](http://www.gnu.org/software/bash/manual/bashref.html#Moving-File-Descriptors)下的 bash 文档，以及[I/O 和 I/O 重定向的详细介绍](http://www.tldp.org/LDP/abs/html/ioredirintro.html)。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-20T09:28:30.370

`2>&1`意味着您在 stderr 上复制 stdout，即您将 stderr 重定向到 stdout 当前指向的位置（让我们通过将其称为“stdout 的位置”来简化它）。

这种重定向类似于按值传递，而不是按引用传递。因此，当您稍后重定向 stdout 时，stderr 也不会重定向。

为了说明，与`output=$(command 2>&1 >/dev/tty)`

*   `2>&1`将 stderr 重定向到 stdout 的位置。
*   `>/dev/tty`将 stdout 重定向到`/dev/tty`，而 stderr 保持不变。

* * *

FD 3-9 可以随心所欲地使用，例如临时存储其他 FD 的位置或指向文件。

在案例 3 中，FD3 用于临时存储 stderr 的位置，同时 stderr 的位置和 stdout 的位置正在切换。

**注意**：

*   `1>&3-`将 FD3 的位置复制到 stderr，然后关闭 FD3
*   `3>&-`关闭 FD3

案例 4 与案例 3 几乎相同`exec 3>&1`。案例 4 中使用的会影响当前 shell 中的所有后续命令（直到用 关闭`exec 3>&-`），而`3>&1`案例 3 中的将重定向限制为`command`仅。*

# javascript - 使用来自 JS 代码或其他东西的 AJAX 调用记录 js 键盘导航的使用

> ID：12986491
> 
> 赞同：0
> 
> 时间：2012-10-20T07:56:32.670
> 
> 标签：javascript, jquery, ajax, logging

我开始为我的下一页/后页添加[此键盘导航](https://stackoverflow.com/questions/12682157/keyboard-navigation-with-arrow-keys-next-and-back-for-changing-filenames)，并想记录它的使用情况。我的意思是有多少人使用它，以及从哪些页面等等。我被告知它可能是使用来自 JS 代码或其他东西的 AJAX 调用完成。

有什么建议如何实施吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-20T08:00:59.783

您可以使用 Google Analytics 和一些脚本来进行事件跟踪。有关如何在此处进行事件跟踪的更多信息：

[https://developers.google.com/analytics/devguides/collection/gajs/eventTrackerGuide](https://developers.google.com/analytics/devguides/collection/gajs/eventTrackerGuide)

# google-maps - 如何判断给定点的方向

> ID：12986494
> 
> 赞同：1
> 
> 时间：2012-10-20T07:56:47.430
> 
> 标签：google-maps, math, routing, comparison, coordinates

我即将提出或正在寻找这个微不足道的问题的方程式：

好吧，更多的是关于根据用户的地理位置了解用户前进的方向。

正如您在下面看到的，用户的第一个坐标在`point x`一两分钟后出现，用户的坐标发生了变化，现在位于`point y`

给定用户的坐标`x`和`y`，交点`point A`以及`Point B` 如何得出一个公式来告诉我用户是在右车道（从`point B`到`point A`）还是在左车道（从`point A`到 `point B`）。

[![看图片](../Images/270621e7cffff09c3b86a3e0b151dfcc.png)](https://i.stack.imgur.com/xxj1t.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-20T08:19:32.890

假设这只是基于坐标，并且不需要考虑点所在的道路或路径，请使用点积。从点创建线段，如果线段对齐（点是相同方向且小于 90 度），则两条线段的点积为正，如果线段指向相反方向，则为负。

如果问题需要考虑道路或路径，则以下内容将不起作用，因为道路/路径有时可能会向后弯曲并远离目的地，因此道路/路径上的正确方向将暂时增加到目的地的距离（如乌鸦飞）。正如您的问题所用的那样，听起来您希望能够从单个用户位置 X 和 Y 值中判断他们所在的已定义道路的哪条车道。如果您考虑一下，如果不知道确切的位置，那根本不可能道路/路径本身的几何形状。如果它完全弯曲，则无法确定。想想看。对于地面上的任何给定位置，您可以单向或另一向弯曲道路，以使该点位于任一车道...

但是有两个位置代表时间上的运动，并且假设他们在他们所在的任何车道上向前移动，您可以确定该运动是更朝向 A 点还是朝向 B 点。

从技术上讲，两个向量 A 和 B 的点积
A dot B = |A| x |B| x Cos（它们之间的角度））

所以，再一次，这是假设您不需要考虑道路的形状或曲率，您只需制作两个有向路段，一个从 B 到 A，另一个从一个用户位置到后续用户位置 (表示他/她在某个有限时间间隔内的运动），并取这两个段的点积。如果它是正的，他正在向 A 移动，如果它是负的，他正在向 B 移动。

（此代码已简化）

```
public struct Point
{
    public double X { get; set; }
    public double Y { get; set; }

    private Point(double xValue, double yValue)
    { X = xValue; Y = yValue; }
    public static Point Make(double x, double y)
    { return new Point(x, y); }
}

public class Segment
{
    public Point StartPoint { get; set; }
    public Point EndPoint { get; set; }

    #region ctor / factories
    protected Segment(Point startPoint, Point endPoint)
        : base(startPoint, (endPoint.Y - startPoint.Y) /
                            (endPoint.X - startPoint.X))
    {
       StartPoint = startPoint;
       EndPoint = endPoint;
    }
    public static new Segment Make(Point startPoint, Point endPoint)
    {
        if (startPoint == endPoint)
            throw new Exception(
                "You must use two different points to define a segment.");
        return new Segment(startPoint, endPoint);
    }
    public static new Segment Make(double ax, double ay, double px, double py)
    { return Make(Point.Make(ax, ay), Point.Make(px, py)); }

    public static Segment NullSegment { get { return new Segment(); } }
    #endregion ctor / factories

    public double Length
    {
        get
        {
            return Math.Sqrt(
                Math.Pow(EndPoint.Y - StartPoint.Y, 2) +
                Math.Pow(EndPoint.X - StartPoint.X, 2));
        }
    }

    public double DotProduct(Segment seg, bool normalize = false)
    {
        double
            dAx = EndPoint.X - StartPoint.X,
            dAy = EndPoint.Y - StartPoint.Y,
            dBx = seg.EndPoint.X - seg.StartPoint.X,
            dBy = seg.EndPoint.Y - seg.StartPoint.Y;

        var dP = dAx * dBx + dAy * dBy;

        return normalize? dP / Length / seg.Length : dP;
    }
} 
```

# java - 从 List<> 数组渲染

> ID：12986498
> 
> 赞同：1
> 
> 时间：2012-10-20T07:57:30.877
> 
> 标签：java, image, swing, graphics

我正在尝试从列表数组呈现到 JPanel。我已经创建了自己的 2D 渲染器，但是当我尝试使用 RenderAdd 函数添加到列表中时，它要么不添加，要么列表数组不允许读取列表......他的代码启动它。

```
JFrame frame = new JFrame();
    frame.setSize(900, 500);
    frame.setVisible(true);
    Render render = new Render(new RenderDimension(frame.getX(),frame.getY(),frame.getWidth(),frame.getHeight()), frame);
    BufferedImage zombie = new ImageLoader().readImage("zombie");
    BufferedImage player = new ImageLoader().readImage("player");
    render.RenderAdd(new RenderImage(new RenderDimension(100, 100, player.getWidth(), player.getHeight()), player));
    render.RenderAdd(new RenderImage(new RenderDimension(0, 0, zombie.getWidth(), zombie.getHeight()), zombie));
    render.start();
    render.RenderAdd(new RenderImage(new RenderDimension(200, 100, player.getWidth(), player.getHeight()), player)); 
```

'render' 是渲染部分的主要渲染类。然后，RenderAdd 添加一个 RenderImage，它的 RenderDimension 是对象的 x 和 y，以及图像的宽度和高度。然后也将 BufferedImage 作为参数。

**虽然，每次我尝试运行该程序时，它都会出现一个空白屏幕**

现在，在 Render 类中，有另一个类扩展了一个线程。这是一个将框架作为参数的类，删除内容并开始绘制到 getContentPane()。下一个代码在 renderthread 类的 paintComponent() 函数中。不幸的是，没有任何东西可以绘制，但是确实可以处理，因为我尝试过使用 System.out.print("h") 重复打印自身。

```
for (RenderImage r : render.getList()){
    int x = r.getSize().getX();
    int y = r.getSize().getY();
    int wi = r.getSize().getWidth();
    int hi = r.getSize().getHeight();
    if (x + wi >= -1 && x + wi <= d.getWidth()){
        if (y + hi >= -1 && y + hi <= d.getHeight()){
            g.drawImage(r.getImage(), x, y, null);
        }
    }
}
frame.getContentPane().add(p);
frame.getContentPane().validate();
frame.getContentPane().repaint(); 
```

我认为问题在于列表不会添加，所以这就是那部分。

```
List<RenderImage> render = new ArrayList<RenderImage>();

public List<RenderImage> getList(){
    return render;
}

public void RenderAdd(RenderImage renders){
    render.add(renders);
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-20T08:17:18.403

用你给我们的示例代码很难知道。

## 场景 #1，覆盖`JComponent#paintComponent`

如果您在`paintComponent`方法中执行此操作

```
for (RenderImage r : render.getList()){
    int x = r.getSize().getX();
    int y = r.getSize().getY();
    int wi = r.getSize().getWidth();
    int hi = r.getSize().getHeight();
    if (x + wi >= -1 && x + wi <= d.getWidth()){
        if (y + hi >= -1 && y + hi <= d.getHeight()){
            g.drawImage(r.getImage(), x, y, null);
        }
    }
}
frame.getContentPane().add(p);
frame.getContentPane().validate();
frame.getContentPane().repaint(); 
```

然后不要。

从方法中以任何方式调用任何更新 UI 的`paint`方法只会导致灾难。这只是触发另一个重绘请求添加到事件调度线程，它会调用你`paintComponent`的方法，你可以说好你的 CPU 和程序的响应能力。

此外，请确保在从 EDT 以外的其他用户更新 UI 时，确保使用或`Thread`将请求同步回 EDT`SwingUtilities#invokeLater``SwingUtilities.invokeAndWait`

另外，请确保您正在调用`super.paintComponent`

## 场景#2，使用`JComponent#getGraphics`

想到的问题是，`g`你的例子是从哪里来的。

如果你正在使用`JComponent#getGraphics`，那么不要。这是重绘之间图形的简单快照，一旦发生下一次重绘，它将被删除。

从类似的东西创建一个自定义组件`JPanel`并覆盖它的`paintComponent`方法并使用`RenderImage`循环更新组件（只需省略更改 UI 的代码）

此外，确保所有重绘请求都是在 EDT 的上下文中发出的

# windows-store-apps - 为 Windows 应用商店应用程序设置初始屏幕和磁贴的背景颜色

> ID：12986499
> 
> 赞同：1
> 
> 时间：2012-10-20T07:58:03.577
> 
> 标签：windows-store-apps

我不想为我的 Splashscreen 和 Tile 背景使用默认的灰色背景颜色。在 Visual Studio 中哪里可以更改？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-28T22:24:31.577

在解决方案资源管理器中打开“package.appxmanifest”文件也会让您到达那里:)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-20T07:59:16.930

只需意识到这是在菜单 Project / Store / Edit App Manifest 中完成的，并设置“背景颜色”。

# android - LayoutInflater 创建的差异

> ID：12986501
> 
> 赞同：0
> 
> 时间：2012-10-20T07:58:15.417
> 
> 标签：android

以下 LayoutInflater 有什么区别，这是最有效的方法。

1.  `LayoutInflater inflater = (LayoutInflater)getSystemService(Context.LAYOUT_INFLATER_SERVICE); inflater.inflate(R.layout.buttons,null);`

2.  `View view = LayoutInflater.from(getBaseContext()).inflate(R.layout.buttons,null);`

3.  `View view = getLayoutInflater().inflate(R.layout.buttons, mainLayout,false);`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-20T08:12:45.400

所有 3 种方法在内部都做同样的事情。他们打电话

```
LayoutInflater  inflater = (LayoutInflater)getSystemService(Context.LAYOUT_INFLATER_SERVICE); 
```

但是`getLayoutInflater()`会为您提供创建窗口时使用的缓存 LayoutInflator，而不是`getSystemService`每次都调用，但不确定它是否会提供任何显着的性能激励，尽管可能会快一点。

# r - 用“lattice”和“latticeExtra”组合/叠加不同类型的图形

> ID：12986502
> 
> 赞同：1
> 
> 时间：2012-10-20T07:58:15.317
> 
> 标签：r, data-visualization, bar-chart, lattice

我正在尝试将条形图与 xyplot（带有回归线）和两个值完全不同的变量结合起来。

这是我的数据：[https ://www.dropbox.com/s/aacbkmo577uagjs/example.csv](https://www.dropbox.com/s/aacbkmo577uagjs/example.csv)

根据下面的代码，面板中有两个数值变量“rb”和“rae”以及几个因子变量（sample.size、effect.size、allocation.design、true.dose）。变量“rae”应显示在条形图中（理想情况下在背景中以淡色显示），而变量“rb”应显示在带有回归线的 xyplot 中。有两个主要问题：

(1) 如何组合/叠加两种类型的图表？(2) 如何自定义坐标轴标签（y-scale的不同比例）

对于（1），我知道如何将不同类型的图形与 ggplot2 组合，但使用 lattice 也应该可以，对吗？我尝试了“doubleYScale”，这似乎不起作用。

对于 (2)，我只完成了在“scales”选项中使用“relation='free'”作为 y 比例（参见代码）。这很好，因为重点是值的重要范围。但是，如果在左右外侧额外绘制轴标签（分别为“rae”和“rb”），则更合适。

这是到目前为止的代码（由 Dieter Menne 修改为独立的）

```
library(lattice)
library(latticeExtra)
df.dose <- read.table("example.csv", header=TRUE, sep=",")
df.dose <- transform(df.dose, 
                    sample.size=as.factor(sample.size),
                    true.dose = as.factor(true.dose))

rae.plot <- xyplot(
  rae ~ sample.size | allocation.design*true.dose,                
  df.dose, as.table=TRUE, 
  groups = type, 
  lty = 1, jitter.x=TRUE, 
  main="RAE", 
  scales=list(y=list(draw=F, relation="free", tck=.5)), 
  panel = function(x,y) { 
    panel.xyplot(x,y,jitter.x=TRUE)
    panel.lmline(x,y, col="darkgrey", lwd=1.5) 
  })

useOuterStrips(rae.plot)

rb.plot <- barchart(
  rb ~ sample.size | allocation.design*as.factor(true.dose), 
  df.dose, as.table=TRUE, 
  groups = type, 
  key=list(
    text=list(levels(as.factor(df.dose$type))), 
    scales=list(y=list(draw=F, relation="free", tck=.5)), 
    main="RB"))

useOuterStrips(rb.plot) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-20T10:05:14.720

```
print(useOuterStrips(rae.plot), split=c(1,1,1,2),more=TRUE)
print(useOuterStrips(rb.plot), split=c(1,2,1,2), more=FALSE) 
```

将两者打印在一页上；它比 ggplot2 更容易。

```
scales=list(
  y=list(alternating=1,tck=c(1,0)),
  x=list(alternating=1,tck=c(1,0)))
xyplot (... scales=scales) 
```

# jquery - jQuery 插件在 ASP.NET MVC 4 中不起作用

> ID：12986512
> 
> 赞同：0
> 
> 时间：2012-10-20T07:59:16.240
> 
> 标签：jquery, asp.net-mvc, jquery-plugins, asp.net-mvc-4

应该循环的图像只是彼此叠放。截图[在这里](http://tinypic.com/r/343n0io/6)

在我的（非常简单的）应用程序中，我有一个`View`名为`Index.cshtml`. 我想在我的 PHP 应用程序中使用过的这个页面使用[jquery Cycle 插件。](http://www.malsup.com/jquery/cycle/)下面是我`_Layout.cshtml`的相关代码

```
 @Styles.Render("~/Content/css")
    @Scripts.Render("~/bundles/jquery")
    @Scripts.Render(Url.Content("~/Scripts/cycle.js")) // I added this line.
    @Scripts.Render("~/bundles/modernizr") 
```

插件文件`(cycle.js)`位于`Scripts`基本项目布局生成的文件夹中。下面是我如何使用它。以下代码也在`_Layout.cshtml`（此处仅评论）。

```
<script type="text/javascript">
    $(document).ready(function () {
        alert('test1');   //this is 'alerted'
        $('.images').cycle({
            fx: 'fade',
            speed: 2000
        });
        alert('test2!'); //this is NOT 'alerted'
    });
</script> 
```

当我在浏览器中请求页面后查看源代码时，我得到了这个：

```
<title>Asp.Net MVC 4 Hello World App</title>
<link href="/Content/site.css" rel="stylesheet"/>
<script src="/Scripts/jquery-1.7.1.js"></script>
<script src="/Scripts/cycle.js"></script>
<script src="/Scripts/modernizr-2.5.3.js"></script>

<script type="text/javascript">
    $(document).ready(function () {
        alert('test1'); 
        $('.images').cycle({
            fx: 'fade',
            speed: 2000
        });
        alert('test12');
    });
</script>
</head>
<body>
...
</html> 
```

这是图像的容器：

```
 <div class="images" id="images">
            <img src="@Url.Content("../Images/image1.jpg")" alt="page image" />
            <img src="@Url.Content("../Images/image2.jpg")" alt="page image" />
            <img src="@Url.Content("../Images/image3.jpg")" alt="page image" />
            <img src="@Url.Content("../Images/image4.jpg")" alt="page image" />
        </div> 
```

因此，文件已成功加载。我相信问题是如何`$(document).ready()`工作。因为我之前放置的任何代码`.cycle()`都可以工作，但之后没有任何工作。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-20T11:11:22.747

经过一些（更多）搜索后，我解决了这个问题。不知何故，jquery 被加载了两次。在循环插件文件之前一次，在它之后的另一个。[此链接](http://drupal.org/node/633188)有助于发现问题，特别`redndahead`是 的评论。

我打开 Firebug 控制台并观察到 ​​jQuery 确实被加载了两次。`_Layout.cshtml`我从标签下的页面中删除了以下行`<body>`，现在插件工作正常。

```
 @Scripts.Render("~/bundles/jquery") 
```

[这个 SO question](https://stackoverflow.com/questions/11944363/usage-of-the-asp-net-mvc4-jquery-javascript-bundles)对于那些想知道是什么的人非常有帮助`bundles`。感谢大家的回复。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-13T16:20:28.107

这可能有几个原因，但在许多情况下最常见的解决方案是：携带

@Scripts.Render("~/bundles/jquery") @RenderSection("scripts", required: false)

如果你懂土耳其语，你可以查看这篇文章了解更多信息

[http://ogrenmeliyim.com/mvc-4-de-jquery-tanimlanmasi/](http://ogrenmeliyim.com/mvc-4-de-jquery-tanimlanmasi/)

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2015-03-16T10:56:48.313

```
<html>
<head>
<script 

 src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js">

</script>
    <script src="~/Scripts/jquery-1.7.1.min.js"></script>
<script>
    $(document).ready(function () {
        $("p").click(function () {
            $(this).hide();
        });
    });
</script>
</head>
<body>

<p>When you click on this paragraph , it will hide.</p>

</body>
</html> 
```

# websocket - 如何从服务器关闭 websocket？

> ID：12986515
> 
> 赞同：1
> 
> 时间：2012-10-20T07:59:31.157
> 
> 标签：websocket, playframework-2.0

我正在使用 Play 框架 2.1。

我正在使用 web-socket，我需要找到从服务器关闭它们的方法。

有办法吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-20T08:06:00.770

来自文档[处理 WebSockets](http://www.playframework.org/documentation/2.0.2/JavaWebSockets)的示例：

> 让我们写另一个例子，在发送 Hello! 之后完全丢弃输入数据并关闭套接字！信息：

```
public static WebSocket<String> index() {
    return new WebSocket<String>() {

        public void onReady(WebSocket.In<String> in, WebSocket.Out<String> out) {
            out.write("Hello!");
            out.close()
        }
   }
} 
```

[ScalaWebSockets](http://www.playframework.org/documentation/2.0.2/ScalaWebSockets)：

```
def index = WebSocket.using[String] { request => 

    // Just consume and ignore the input
    val in = Iteratee.consume[String]()

    // Send a single 'Hello!' message and close
    val out = Enumerator("Hello!") >>> Enumerator.eof

   (in, out)
} 
```

# jquery - JQuery中的MultiSelect过滤器标题不起作用

> ID：12986519
> 
> 赞同：0
> 
> 时间：2012-10-20T08:00:00.313
> 
> 标签：jquery, multi-select

我在 jquery 中使用 MultiLselect 过滤器，它在隐藏的 Filed 中设置选定的值，现在我也想保存标题，但它没有给我任何便利：

```
 $("#" + targetDropdown).multiselect({
        header: ''
    });
    var target = $("#" + targetDropdown + '_con');

    $("#" + targetDropdown)
    .multiselect()
    .bind("multiselectclick multiselectcheckall multiselectuncheckall", function (event, ui) {

        checkedValues = $.map($(this).multiselect("getChecked"), function (input) {
            return input.value;
        });
        $("#" + targetDropdown + '_hid').val(
            checkedValues.length
                ? checkedValues.join(', ')
                : '---------'
        );
    })
    .triggerHandler("multiselectclick");

    $("#" + targetDropdown).multiselect().multiselectfilter(); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-20T08:05:49.480

我已经修改了上面的代码你可以直接使用它并且它将工作而不是获取值获取标题

# excel - 删除表格中的空白行

> ID：12986520
> 
> 赞同：12
> 
> 时间：2012-10-20T08:00:05.137
> 
> 标签：excel, vba

我正在尝试运行一个宏来选择表格列中的空白单元格并删除整行。

下面的脚本执行除了删除部分之外的所有操作，这会提示以下错误：

> 运行时错误 1004 -“范围类的删除方法失败”

我使用了以下代码：

```
Sub test()
Range("Table1[[New]]").Activate
Selection.SpecialCells(xlCellTypeBlanks).Select
Selection.EntireRow.Delete
End Sub 
```

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-10-20T10:04:03.293

好问题！没有桌子，`.EntireRow.Delete`总是可以工作，但在桌子里面它看起来就像它没有。

这有效：

```
Sub Test()
  Dim Rng As Range
  On Error Resume Next
  Set Rng = Range("Table1[[New]]").SpecialCells(xlCellTypeBlanks)
  On Error Goto 0
  If Not Rng Is Nothing Then
    Rng.Delete Shift:=xlUp
  End If
End Sub 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-20T14:03:56.223

您实际上可以一次性完成，但需要使用`ListObject`对象及其`DataBodyRange`和`ListColumns`属性：

```
Sub ClearBlankCellsInColumnNew()
Dim rngBlanks As Excel.Range

With Worksheets("Sheet1").ListObjects("Table1")
    On Error Resume Next
    Set rngBlanks = Intersect(.DataBodyRange, .ListColumns("New").Range).SpecialCells(xlCellTypeBlanks)
    On Error GoTo 0
    If Not rngBlanks Is Nothing Then
        rngBlanks.Delete
    End If
End With
End Sub 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-05-01T17:57:43.387

第 1 步：在表格中创建一个帮助列，您可以在其中检查该行中的任何空白字段。例如，如果您的表中有 3 列：A（价格）、B（数量）和 C（成本），您将添加第四列 D 并将其标记为“任何空白？”。方程将是`=IF(OR(ISBLANK([@Price]),ISBLANK([@Quantity]),ISBLANK([@Cost])),"Yes","No")`

这将为您提供一列进行过滤以查看所有空白。

第 2 步：在 VBA 中，您将执行以下操作：

```
Range("MyTableNameHere").AutoFilter Field:=Range("MyTableNameHere[Any Blanks?]").Column, Criteria1:="Yes"
Application.DisplayAlerts = False
Range("MyTableNameHere").ListObject.DataBodyRange.SpecialCells(xlCellTypeVisible).Delete
Application.DisplayAlerts = True
Range("MyTableNameHere").AutoFilter Field:=Range("MyTableNameHere[Any Blanks?]").Column 
```

这实质上是使用帮助列过滤到要在表中删除的行，选择表中的所有可见数据，然后取消过滤表。我正在寻找如何删除表中所有可见行并找到了这个并摆弄，直到我发现这会起作用。将其与辅助列结合以选择所有带有任何空白的行似乎也是您想要的。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2020-06-03T01:16:25.320

这个 One 班轮也有帮助

on error resume next '如果在 table .Range("Table1").Columns(1).SpecialCells(xlCellTypeBlanks).EntireRow.Delete 中没有找到空行，则继续执行宏

'这使用第一列作为检查空白的参考删除空'为表格使用自定义名称以便于代码中的操作

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2016-12-22T01:40:51.927

调整以前的答案：

```
On Error Resume Next
Set Rng = ListObjects(1).DataBodyRange.SpecialCells(xlCellTypeBlanks)
On Error GoTo 0
If Not Rng Is Nothing Then
Rng.Delete Shift:=xlUp
End If 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2018-08-30T13:26:21.707

在 Excel 中使用 ListObjects 可以很容易地使用以下内容删除空白行。

```
Sub RemoveBlankRow(ByVal SheetName As String, TableName As String)
Dim rng As Integer

rng = Sheets(SheetName).ListObjects(TableName).DataBodyRange.Rows.Count

For i = 1 To rng
    If Application.WorksheetFunction.CountA(Rows(i)) = 0 Then Rows(i).EntireRow.Delete
Next
End Sub 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2019-09-23T21:54:28.847

关于 Frej Lindstrom 的解决方案的两个注意事项，我使用过但不得不稍作调整：

> (1) 在 Next 之前添加一个 End If
> 
> (2) 在 End If 之前添加“i = i - 1”

`Why?`因为如果你有一个彼此上方的空白行，你会跳过一个，因为所有行的数字都只是向上移动了一个。本质上，如果您删除`row [N]`了 ，则现在是另一行`row [N]`，您还需要对其进行测试，而不是立即移至`row [N + 1]`.

大警告：如果你的最后一行是空白的，这会给你一个死循环。不过，我可能会放入一个 IF 来处理它。

我知道这是一个旧线程，但我想我会添加这个，以防其他人通过寻找类似的解决方案。感谢 Frej - 你的代码真的很有帮助！

# php - PHP文件下载而不保存到我的目录？

> ID：12986522
> 
> 赞同：0
> 
> 时间：2012-10-20T08:00:23.653
> 
> 标签：php, file, fwrite

我必须创建一个文本文件并使其可下载，而无需在单击按钮时保存到我的目录中。下面我提到了生成文件的文件代码。

```
<?php
    $data = "ffff dfjdhjf  jhfjhf f f hlm hoejrherueirybgb,nvbd;ihrtmrn.";
    $filename = "SU_Project_Startup.txt";
    $fh = fopen($filename, "w+");
    fwrite($fh, $data, strlen($data));
    fclose($fh);

    header('Content-type: application/octet-stream');
    header('Content-Disposition: attachment; filename="' . $filename . '"');
    ob_end_flush();
    echo $data;
    exit();
?> 
```

你能告诉我在这段代码中我还需要做哪些更改吗？

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-20T08:07:52.380

试试这个标题：

```
header("Content-Description: File Transfer");
header("Content-Disposition: attachment; filename=$file");
header("Content-Type: application/json"); // here is your type
header("Content-Transfer-Encoding: binary"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-20T08:12:57.317

这是url拍照的例子

你可以试一试，或者把它投入使用

```
 <?php
    header('Content-type: application/octet-stream');
    header('Content-Disposition: attachment; filename="File-name.jpg"');
    $fileurl = 'http://upload.wikimedia.org/wikipedia/commons/thumb/c/cc/Ramses_II_at_Kadesh.jpg/120px-Ramses_II_at_Kadesh.jpg';
    $data =  file_get_contents($fileurl);
    echo $data;
?> 
```

# jasper-reports - iReport 水平向后呈现数据

> ID：12986526
> 
> 赞同：4
> 
> 时间：2012-10-20T08:01:04.133
> 
> 标签：jasper-reports, ireport

使用 iReports，有没有一种方法可以显示来回传输的数据并从一条 SQL 语句中提取数据？

SQL 查询返回以下记录的位置

```
a0
a1
a2
a3
a4
a5 
```

该报告将填写如下...

```
 a0 a1
 a2 a3
 a4 a5 
```

通常我做一张桌子不会有问题，但我必须复制某人的“应用程序”。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-20T19:02:27.443

是的，iReports 允许您填写您的报告，以便数据按照您在问题中的要求**水平呈现。**

您还可以指定报告中显示的列数。

1.  在报告检查器中，右键单击报告并选择 **属性**

2.  在属性对话框中，

    *   **单击Columns**旁边的数字，输入**2**。
    *   点击**打印顺序**，选择**水平**
    *   点击**关闭**
    *   按`CTRL ALT PgDn`预览您的报告

# git - 如何设置 GitBlit 存储库以防止用户推送？

> ID：12986527
> 
> 赞同：5
> 
> 时间：2012-10-20T08:01:03.060
> 
> 标签：git, gitblit

我希望经过身份验证的用户只能：

*   看法
*   克隆
*   从中获取/拉取？

基本上我想阻止用户，即使是经过身份验证的用户，推送到这个 git repo。但是对于同一个 GitBlit 上的其他 git 存储库，我可能希望让经过身份验证的用户*也*推送到这些存储库。

先感谢您

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-07-24T13:21:23.097

Gitblit 1.2.0 于 2012 年 12 月 31 日发布，引入了[更细粒度的权限](http://gitblit.com/administration.html#H6)，可满足您的确切需求。

然而，增强的权限仍然不如 Gitolite 灵活，它允许 per-ref 权限。Gitblit 的权限适用于存储库，而不是特定的参考。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-20T18:20:31.927

正如[Gitblit FAQ](http://gitblit.com/faq.html)中提到的，最简单的方法是在 Gitblit 之外安装一个**[gitolite](https://github.com/sitaramc/gitolite)**，这是一个[授权层](http://sitaramc.github.com/gitolite/auth.html)。

这将允许您根据用户身份验证设置各种访问限制。

# memory - 加快 php-cli

> ID：12986528
> 
> 赞同：0
> 
> 时间：2012-10-20T08:01:42.750
> 
> 标签：memory, php

为什么一个 php cli 进程使用 25% 的 CPU，有没有办法减少这个？现在我正在运行 3 个实例，但显然我想运行更多以更快地完成工作。

背景信息：我正在将数据从 transbase db 移动到 mysql db。![在此处输入图像描述](../Images/9308498803c27c9c46dd46ee2c75d825.png) 编辑：如果我在浏览器中运行它，CPU 上的负载就不会那么明显了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-20T11:43:39.503

更多的进程并不意味着更快的处理。PHP 进程占用尽可能多的 CPU 来尽快完成任务。可能是 25%，因为你有一个四核处理器，它是一个单线程任务。

理想情况下，如果可以将每个进程分配给不同的代码，则需要 4 个进程。此外，由于等待数据库或磁盘 I/O，单个线程无法始终充分利用所有 CPU 资源，因此请继续运行更多进程。并不是说第 5 个进程会因为所有 CPU 功率都用完而崩溃；它只会占据它的份额，而操作系统将处理能力分配给所有正在运行的进程。

只是不要开始太多；每个进程都有一点开销，你不会从拥有 200 个并发进程中受益。

# jquery - Jwplayer 的弹出窗口以显示视频

> ID：12986530
> 
> 赞同：0
> 
> 时间：2012-10-20T08:02:27.023
> 
> 标签：jquery, asp.net, visual-studio-2010, popup, jwplayer

我有一个项目需要显示视频，我使用 jwplayer 将 mp4 和 flv 视频显示为

```
<script type="text/javascript">
    $(document).ready(function () {
        var s = '<%=this.Finalpath %>';
        if (s) {
            jwplayer("mediaplayerid").setup({
                flashplayer: '<%= ResolveUrl("Jwplayer/player.swf") %>',
                provider: "video",
                file: s,
                autostart: true,
                width: '380',
                height: '200'
            });
        }
    });
</script> 
```

现在的要求是在弹出窗口中显示视频或 jwplayer。我用谷歌搜索了几个小时，发现了各种盒子。我对使用哪个盒子的方法以及如何集成它感到困惑。请分享您在这方面的知识。感谢您的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-20T08:24:27.647

您可以用来在弹出窗口上显示它的方法实际上是将其放置在 div 中，或者如果它是带有视频的外部页面，例如 YouTube，则将其放置在包含 iframe 的 div 中，然后 iframe 加载该页面与视频。现在主 div 被格式化并显示为页面内的弹出窗口。

您可以使用许多现成的现有库来执行此操作。

一是highslide：[http ://highslide.com/#examples](http://highslide.com/#examples)

在此页面上，您可以看到两个示例“显示闪光灯”和“YouTube w/fade effect”，您可以使用它们来使其工作。

# javascript - 无法在 div 元素的每个实例上填充字段

> ID：12986539
> 
> 赞同：0
> 
> 时间：2012-10-20T08:03:20.440
> 
> 标签：javascript, jquery

我有下面的代码，我无法在每一行元素中填充总字段。

所以动态插入的每个字段都将具有相同的字段，我只需要计算该行中的字段。

这是它的 jsfiddle [http://jsfiddle.net/glennmartin/3TnyR/](http://jsfiddle.net/glennmartin/3TnyR/)

```
var LabourItems = {
   rate: null,
   hours: null,
   total: null,
   init: function(object) {
      var rate = parseInt($(object).children('.rate').val(), 10);
      // var rate = $(object).children('.rate').first();
      var hours =parseInt($(object).children('.hours').val(), 10);
      this.total = Number(rate.val()) * Number(hours.val());
      this.updateTotal(object);
   },
   updateTotal: function(object) {
      $(object).children('.total').first().attr('value', this.total)
   }
}

//reactTochange for those inputs that you want to observe
$('.hours').on("click", function() {
   jQuery.each($('.labouritems'), function(key,value){
      LabourItems.init(value);
   });
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-20T08:34:20.170

这是您的代码工作：

```
var LabourItems = {
   rate: null,
   hours: null,
   total: null,
   init: function(object) {
      this.rate = parseInt($(object).children('.rate').first().val(), 10);
      // var rate = $(object).children('.rate').first();
      this.hours =parseInt($(object).children('.hours').first().val(), 10);
      this.total = this.rate * this.hours;
      this.updateTotal(object);
   },
   updateTotal: function(object) {
      $(object).children('.total').first().val(this.total || 0);
   }
}

//reactTochange for those inputs that you want to observe
$('.labouritems input').on("keyup", function() {
   $('.labouritems').each( function(key,value){
      LabourItems.init(this);
   });
}); 
```

以下是关于我所做更改的一些评论：

*   在你的`init`函数中，你`var`用来分配你在对象上下文中声明的变量，所以我用`var rate`and替换`var hours`了`this.rate`and`this.hours`
*   在您的`$(object).children('.rate')`and`$(object).children('.hours')`调用中，您需要使用`.first()`函数来选择第一个元素。这是因为您选择的类名可能不止一个（即使没有，您也会发现您仍然会返回一个数组）
*   `$(object).children('.total').first().val(this.total || 0);`：您可以`val()`像在其他地方使用它来检索值一样使用分配。当文本框为空时`this.total`返回，以确保如果出现（它是假的）然后将使用 0 代替（删除它，如果你好奇，看看会发生什么）`NaN``|| 0``NaN`
*   您希望更改键盘事件是有道理的，所以我让您的代码使用该`keydown`事件。当然，您可以将其更改为您喜欢的任何内容。
*   分配给`this.total`您时使用`Number()`which 是不必要的，因为这些值已经通过`parseInt()`
*   在从DOM 选择器`each()`调用的函数的上下文中，提供了此迭代中的元素。因此传递实际元素，然后通过`$()``this``LabourItems.init(this);``init``$(object)`

见[http://jsfiddle.net/3TnyR/1/](http://jsfiddle.net/3TnyR/1/)

嗯，差不多就是这样！

# java - javafx 组合框事件监听器异常

> ID：12986541
> 
> 赞同：1
> 
> 时间：2012-10-20T08:03:57.800
> 
> 标签：java, exception, combobox, javafx-2, javafx

我想获取组合框的选定值并对其进行一些处理。我确实在 println 中获得了值，但是在组合框中的选择连续更改后的某些时候，我通常会遇到异常。

由于这些例外，组合框中的选定项目变为 (no selected value) 。我的意思是一个错误。

我在我的代码中犯了错误还是什么是

```
superTypeComboBox.valueProperty().addListener(new ChangeListener<String>(){

        @Override
        public void changed(ObservableValue<? extends String> ov, String t, String t1) {
        System.out.println(superTypeComboBox.getValue().toString());
        throw new UnsupportedOperationException("Not supported yet.");
        }

    }); 
```

我确实得到了第一个选择的 println 。即现金02（下）但是当我第二次更改选择时。我得到以下异常并且选择没有改变。

第三次我改变了选择。它有效，我得到了println。第四次与第二次相同。等等。

```
Cash    02
java.lang.UnsupportedOperationException: Not supported yet.
    at accountsMain.AccountsMainController$1.changed(AccountsMainController.java:238)
    at accountsMain.AccountsMainController$1.changed(AccountsMainController.java:224)
    at com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:367)
    at com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:100)
    at javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:123)
    at javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:130)
    at javafx.beans.property.ObjectPropertyBase.set(ObjectPropertyBase.java:163)
    at javafx.scene.control.ComboBoxBase.setValue(ComboBoxBase.java:148)
    at javafx.scene.control.ComboBox.updateValue(ComboBox.java:416)
    at javafx.scene.control.ComboBox.access$300(ComboBox.java:166)
    at javafx.scene.control.ComboBox$6.changed(ComboBox.java:401)
    at com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:367)
    at com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:100)
    at javafx.beans.property.ReadOnlyObjectWrapper$ReadOnlyPropertyImpl.fireValueChangedEvent(ReadOnlyObjectWrapper.java:195)
    at javafx.beans.property.ReadOnlyObjectWrapper.fireValueChangedEvent(ReadOnlyObjectWrapper.java:161)
    at javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:130)
    at javafx.beans.property.ObjectPropertyBase.set(ObjectPropertyBase.java:163)
    at javafx.scene.control.SelectionModel.setSelectedItem(SelectionModel.java:101)
    at javafx.scene.control.SingleSelectionModel.updateSelectedIndex(SingleSelectionModel.java:214)
    at javafx.scene.control.SingleSelectionModel.select(SingleSelectionModel.java:142)
    at com.sun.javafx.scene.control.skin.ComboBoxListViewSkin$7.invalidated(ComboBoxListViewSkin.java:531)
    at com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:359)
    at com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:100)
    at javafx.beans.property.ReadOnlyIntegerWrapper$ReadOnlyPropertyImpl.fireValueChangedEvent(ReadOnlyIntegerWrapper.java:195)
    at javafx.beans.property.ReadOnlyIntegerWrapper.fireValueChangedEvent(ReadOnlyIntegerWrapper.java:161)
    at javafx.beans.property.IntegerPropertyBase.markInvalid(IntegerPropertyBase.java:130)
    at javafx.beans.property.IntegerPropertyBase.set(IntegerPropertyBase.java:163)
    at javafx.scene.control.SelectionModel.setSelectedIndex(SelectionModel.java:67)
    at javafx.scene.control.MultipleSelectionModelBase.select(MultipleSelectionModelBase.java:294)
    at javafx.scene.control.MultipleSelectionModelBase.clearAndSelect(MultipleSelectionModelBase.java:269)
    at com.sun.javafx.scene.control.behavior.ListCellBehavior.simpleSelect(ListCellBehavior.java:206)
    at com.sun.javafx.scene.control.behavior.ListCellBehavior.doSelect(ListCellBehavior.java:167)
    at com.sun.javafx.scene.control.behavior.ListCellBehavior.mousePressed(ListCellBehavior.java:94)
    at com.sun.javafx.scene.control.skin.SkinBase$4.handle(SkinBase.java:335)
    at com.sun.javafx.scene.control.skin.SkinBase$4.handle(SkinBase.java:329)
    at com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:64)
    at com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:217)
    at com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:170)
    at com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:38)
    at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:37)
    at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:92)
    at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:35)
    at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:92)
    at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:35)
    at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:92)
    at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:35)
    at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:92)
    at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:35)
    at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:92)
    at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:35)
    at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:92)
    at com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:53)
    at com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:33)
    at javafx.event.Event.fireEvent(Event.java:171)
    at javafx.scene.Scene$MouseHandler.process(Scene.java:3324)
    at javafx.scene.Scene$MouseHandler.process(Scene.java:3164)
    at javafx.scene.Scene$MouseHandler.access$1900(Scene.java:3119)
    at javafx.scene.Scene.impl_processMouseEvent(Scene.java:1559)
    at javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2261)
    at com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:228)
    at com.sun.glass.ui.View.handleMouseEvent(View.java:528)
    at com.sun.glass.ui.View.notifyMouse(View.java:922)
    at com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
    at com.sun.glass.ui.win.WinApplication.access$100(WinApplication.java:29)
    at com.sun.glass.ui.win.WinApplication$3$1.run(WinApplication.java:73)
    at java.lang.Thread.run(Thread.java:722)
java.lang.RuntimeException: java.lang.reflect.InvocationTargetException
    at javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1440)
    at com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:69)
    at com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:217)
    at com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:170)
    at com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:38)
    at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:37)
    at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:92)
    at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:35)
    at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:92)
    at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:35)
    at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:92)
    at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:35)
    at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:92)
    at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:35)
    at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:92)
    at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:35)
    at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:92)
    at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:35)
    at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:92)
    at com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:53)
    at com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:28)
    at javafx.event.Event.fireEvent(Event.java:171)
    at javafx.scene.Node.fireEvent(Node.java:6863)
    at javafx.scene.control.ComboBoxBase.valueInvalidated(ComboBoxBase.java:117)
    at javafx.scene.control.ComboBoxBase$1.invalidated(ComboBoxBase.java:142)
    at javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:129)
    at javafx.beans.property.ObjectPropertyBase.set(ObjectPropertyBase.java:163)
    at javafx.scene.control.ComboBoxBase.setValue(ComboBoxBase.java:148)
    at javafx.scene.control.ComboBox.updateValue(ComboBox.java:416)
    at javafx.scene.control.ComboBox.access$300(ComboBox.java:166)
    at javafx.scene.control.ComboBox$6.changed(ComboBox.java:401)
    at com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:367)
    at com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:100)
    at javafx.beans.property.ReadOnlyObjectWrapper$ReadOnlyPropertyImpl.fireValueChangedEvent(ReadOnlyObjectWrapper.java:195)
    at javafx.beans.property.ReadOnlyObjectWrapper.fireValueChangedEvent(ReadOnlyObjectWrapper.java:161)
    at javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:130)
    at javafx.beans.property.ObjectPropertyBase.set(ObjectPropertyBase.java:163)
    at javafx.scene.control.SelectionModel.setSelectedItem(SelectionModel.java:101)
    at javafx.scene.control.ComboBox$ComboBoxSelectionModel$1.invalidated(ComboBox.java:448)
    at com.sun.javafx.binding.ExpressionHelper$SingleInvalidation.fireValueChangedEvent(ExpressionHelper.java:155)
    at com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:100)
    at javafx.beans.property.ReadOnlyIntegerWrapper$ReadOnlyPropertyImpl.fireValueChangedEvent(ReadOnlyIntegerWrapper.java:195)
    at javafx.beans.property.ReadOnlyIntegerWrapper.fireValueChangedEvent(ReadOnlyIntegerWrapper.java:161)
    at javafx.beans.property.IntegerPropertyBase.markInvalid(IntegerPropertyBase.java:130)
    at javafx.beans.property.IntegerPropertyBase.set(IntegerPropertyBase.java:163)
    at javafx.scene.control.SelectionModel.setSelectedIndex(SelectionModel.java:67)
    at javafx.scene.control.SingleSelectionModel.updateSelectedIndex(SingleSelectionModel.java:208)
    at javafx.scene.control.SingleSelectionModel.select(SingleSelectionModel.java:142)
    at com.sun.javafx.scene.control.skin.ComboBoxListViewSkin$7.invalidated(ComboBoxListViewSkin.java:531)
    at com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:359)
    at com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:100)
    at javafx.beans.property.ReadOnlyIntegerWrapper$ReadOnlyPropertyImpl.fireValueChangedEvent(ReadOnlyIntegerWrapper.java:195)
    at javafx.beans.property.ReadOnlyIntegerWrapper.fireValueChangedEvent(ReadOnlyIntegerWrapper.java:161)
    at javafx.beans.property.IntegerPropertyBase.markInvalid(IntegerPropertyBase.java:130)
    at javafx.beans.property.IntegerPropertyBase.set(IntegerPropertyBase.java:163)
    at javafx.scene.control.SelectionModel.setSelectedIndex(SelectionModel.java:67)
    at javafx.scene.control.MultipleSelectionModelBase.select(MultipleSelectionModelBase.java:294)
    at javafx.scene.control.MultipleSelectionModelBase.clearAndSelect(MultipleSelectionModelBase.java:269)
    at com.sun.javafx.scene.control.behavior.ListCellBehavior.simpleSelect(ListCellBehavior.java:206)
    at com.sun.javafx.scene.control.behavior.ListCellBehavior.doSelect(ListCellBehavior.java:167)
    at com.sun.javafx.scene.control.behavior.ListCellBehavior.mousePressed(ListCellBehavior.java:94)
    at com.sun.javafx.scene.control.skin.SkinBase$4.handle(SkinBase.java:335)
    at com.sun.javafx.scene.control.skin.SkinBase$4.handle(SkinBase.java:329)
    at com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:64)
    at com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:217)
    at com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:170)
    at com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:38)
    at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:37)
    at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:92)
    at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:35)
    at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:92)
    at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:35)
    at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:92)
    at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:35)
    at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:92)
    at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:35)
    at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:92)
    at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:35)
    at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:92)
    at com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:53)
    at com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:33)
    at javafx.event.Event.fireEvent(Event.java:171)
    at javafx.scene.Scene$MouseHandler.process(Scene.java:3324)
    at javafx.scene.Scene$MouseHandler.process(Scene.java:3164)
    at javafx.scene.Scene$MouseHandler.access$1900(Scene.java:3119)
    at javafx.scene.Scene.impl_processMouseEvent(Scene.java:1559)
    at javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2261)
    at com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:228)
    at com.sun.glass.ui.View.handleMouseEvent(View.java:528)
    at com.sun.glass.ui.View.notifyMouse(View.java:922)
    at com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
    at com.sun.glass.ui.win.WinApplication.access$100(WinApplication.java:29)
    at com.sun.glass.ui.win.WinApplication$3$1.run(WinApplication.java:73)
    at java.lang.Thread.run(Thread.java:722)
Caused by: java.lang.reflect.InvocationTargetException
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:601)
    at javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1435)
    ... 93 more
Caused by: java.lang.NullPointerException
    at accountsMain.AccountsMainController$1.changed(AccountsMainController.java:228)
    at accountsMain.AccountsMainController$1.changed(AccountsMainController.java:224)
    at com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:367)
    at com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:100)
    at javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:123)
    at javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:130)
    at javafx.beans.property.ObjectPropertyBase.set(ObjectPropertyBase.java:163)
    at javafx.scene.control.ComboBoxBase.setValue(ComboBoxBase.java:148)
    at javafx.scene.control.ComboBox.updateValue(ComboBox.java:416)
    at javafx.scene.control.ComboBox.access$300(ComboBox.java:166)
    at javafx.scene.control.ComboBox$6.changed(ComboBox.java:401)
    at com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:367)
    at com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:100)
    at javafx.beans.property.ReadOnlyObjectWrapper$ReadOnlyPropertyImpl.fireValueChangedEvent(ReadOnlyObjectWrapper.java:195)
    at javafx.beans.property.ReadOnlyObjectWrapper.fireValueChangedEvent(ReadOnlyObjectWrapper.java:161)
    at javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:130)
    at javafx.beans.property.ObjectPropertyBase.set(ObjectPropertyBase.java:163)
    at javafx.scene.control.SelectionModel.setSelectedItem(SelectionModel.java:101)
    at javafx.scene.control.ComboBox$ComboBoxSelectionModel$1.invalidated(ComboBox.java:448)
    at com.sun.javafx.binding.ExpressionHelper$SingleInvalidation.fireValueChangedEvent(ExpressionHelper.java:155)
    at com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:100)
    at javafx.beans.property.ReadOnlyIntegerWrapper$ReadOnlyPropertyImpl.fireValueChangedEvent(ReadOnlyIntegerWrapper.java:195)
    at javafx.beans.property.ReadOnlyIntegerWrapper.fireValueChangedEvent(ReadOnlyIntegerWrapper.java:161)
    at javafx.beans.property.IntegerPropertyBase.markInvalid(IntegerPropertyBase.java:130)
    at javafx.beans.property.IntegerPropertyBase.set(IntegerPropertyBase.java:163)
    at javafx.scene.control.SelectionModel.setSelectedIndex(SelectionModel.java:67)
    at javafx.scene.control.ComboBox$ComboBoxSelectionModel.updateItemsObserver(ComboBox.java:519)
    at javafx.scene.control.ComboBox$ComboBoxSelectionModel.access$000(ComboBox.java:435)
    at javafx.scene.control.ComboBox$4.invalidated(ComboBox.java:267)
    at javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:129)
    at javafx.beans.property.ObjectPropertyBase.set(ObjectPropertyBase.java:163)
    at javafx.scene.control.ComboBox.setItems(ComboBox.java:275)
    at accountsMain.AccountsMainController.handleAddCOA(AccountsMainController.java:222)
    ... 98 more 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-20T11:43:30.450

最后一个异常是 NullPointerException。在调用 toString 之前，对 superTypeComboBox.getValue() 进行空检查。

或者...您不需要进行空检查，只需删除 toString 调用，如果对象为空，则 println 将在控制台打印“空”。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-03-22T03:58:50.213

你得到组合框选择的值使用方法getselectionmodel为组合框我将解释这个例子。

**例子：-**

```
mycombobox.getSelectionModel().selectedItemProperty().addListener(new  
  ChangeListener<String>() 
{
    public void changed(ObservableValue<? extends String> observable,String  
    oldValue,String newValue) 
    {
        system.Out.Println("Value is::"+newValue);
    }   
}); 
```

# java - 如何解决“对等方重置连接：套接字写入错误”？

> ID：12986542
> 
> 赞同：21
> 
> 时间：2012-10-20T08:03:58.167
> 
> 标签：java, servlets, socketexception

当我从服务器读取文件内容时，它返回以下错误消息：

```
Caused by: java.net.SocketException: Connection reset by peer: socket write error
at java.net.SocketOutputStream.socketWrite0(Native Method)
at java.net.SocketOutputStream.socketWrite(Unknown Source)
at java.net.SocketOutputStream.write(Unknown Source)
at org.apache.coyote.http11.InternalOutputBuffer.realWriteBytes(InternalOutputBuffer.java:215)
at org.apache.tomcat.util.buf.ByteChunk.flushBuffer(ByteChunk.java:462)
at org.apache.tomcat.util.buf.ByteChunk.append(ByteChunk.java:366)
at org.apache.coyote.http11.InternalOutputBuffer$OutputStreamOutputBuffer.doWrite(InternalOutputBuffer.java:240)
at org.apache.coyote.http11.filters.ChunkedOutputFilter.doWrite(ChunkedOutputFilter.java:119)
at org.apache.coyote.http11.AbstractOutputBuffer.doWrite(AbstractOutputBuffer.java:192)
at org.apache.coyote.Response.doWrite(Response.java:504)
at org.apache.catalina.connector.OutputBuffer.realWriteBytes(OutputBuffer.java:383)
... 28 more 
```

我的servlet程序是

```
 response.setContentType("application/octet-stream");
 response.setHeader("Content-Disposition","attachment;filename="+filename);
 FileInputStream in = new FileInputStream(new File(filepath));
 ServletOutputStream output=response.getOutputStream();
 byte[] outputByte=new byte[4096];
 while(in.read(outputByte,0,4096)!=-1){
     output.write(outputByte,0,4096);//error indicates in this line
 }
 in.close();
 output.flush();
 output.close(); 
```

如何解决这个问题？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-07-15T14:15:06.227

我有同样的例外，在我的情况下，问题出在重新谈判过程中。事实上，当服务器尝试更改密码套件时，我的客户端关闭了连接。挖掘后看来，在 jdk 1.6 更新 22[重新协商过程中默认禁用](http://www.oracle.com/technetwork/java/javase/documentation/tlsreadme2-176330.html)。如果您的安全约束可以解决此问题，请尝试通过将`sun.security.ssl.allowUnsafeRenegotiation`系统属性设置为 来启用不安全的重新协商`true`。以下是有关该过程的一些信息：

> 会话重新协商是 SSL 协议中的一种机制，它允许客户端或服务器在正在进行的 SSL 通信期间触发新的 SSL 握手。重新协商最初被设计为一种提高正在进行的 SSL 通道安全性的机制，通过触发用于保护该通道的加密密钥的更新。但是，现代密码算法不需要这种安全措施。此外，当客户端尝试访问服务器上特定的受保护资源时，服务器可以使用重新协商来请求客户端证书（以执行客户端身份验证）。

此外，还有一篇关于这个问题[的](http://jce.iaik.tugraz.at/sic/Products/Communication-Messaging-Security/iSaSiLk/documentation/Secure-Renegotiation)详细文章，并以（恕我直言）可理解的语言编写。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-20T08:10:07.903

客户端（浏览器）已关闭套接字。

您的代码中的错误：

```
byte[] outputByte=new byte[4096];
while(in.read(outputByte,0,4096)!=-1){
   output.write(outputByte,0,4096);
} 
```

最后一个数据包读取，然后写入的长度可能<4096，所以我建议：

```
byte[] outputByte=new byte[4096];
int len;
while(( len = in.read(outputByte, 0, 4096 )) > 0 ) {
   output.write( outputByte, 0, len );
} 
```

这不是你的问题，但这是我的答案...... ;-)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-20T09:11:06.203

“解决”它的正确方法是关闭连接并忘记客户端。客户端已经关闭了连接，而你还在写它，所以他不想认识你，就是这样，不是吗？

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-20T09:27:08.413

看来您的问题可能出现在

`while(in.read(outputByte,0,4096)!=-1){`

它可能会因为不推进偏移量而进入无限循环（在调用中始终为 0）。尝试

`while(in.read(outputByte)!=-1){`

默认情况下，它将尝试将 outputByte.length 读入`byte[]`. 这样您就不必担心偏移量。参见[FileInputStrem 的读取方法](http://docs.oracle.com/javase/1.4.2/docs/api/java/io/FileInputStream.html#read%28byte%5B%5D%29)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2016-05-02T14:24:55.447

我有同样的问题，但差异很小：

> 刷新时引发异常

这是一个不同的[stackoverflow 问题](https://stackoverflow.com/questions/36979706/setting-content-encoding-to-gzip-or-deflate-causes-java-net-socketexception-c/)。简要说明是错误的响应标头设置：

response.setHeader("内容编码", "gzip");

尽管响应数据内容未压缩。

所以连接被浏览器关闭了。

# c# - 如何在 WPF 中获取 ListView 的检查行值

> ID：12986543
> 
> 赞同：8
> 
> 时间：2012-10-20T08:04:08.630
> 
> 标签：c#, wpf, xaml

我有一个`ListView`带有`CheckBox`.

我想将所有 Checked 行的值保存在 WPF 列表中...

我怎样才能做到这一点？

**我的列表视图**

```
<ListView x:Name="listViewChapter" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" BorderThickness="0" SelectionMode="Single" Height="100" Margin="22,234,17,28" Grid.Row="1">
    <ListView.ItemTemplate>
            <DataTemplate>
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" VerticalAlignment="Center" >
                    <Label Name="lblChapterID" VerticalAlignment="Center"  Margin="0" Content="{Binding ChapterID}" Visibility="Hidden" />
                    <CheckBox Name="chkChapterTitle" VerticalAlignment="Center" Margin="0,0,0,0" Content="{Binding ChapterTittle}" Checked="chkChapterTitle_Checked" />
                </StackPanel>
            </DataTemplate>
    </ListView.ItemTemplate>
</ListView> 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-10-20T08:59:02.900

您可以将`IsChecked`属性直接绑定到`IsSelected`ListViewItem。用于`RelativeSource`绑定到元素。

```
IsChecked="{Binding RelativeSource={RelativeSource AncestorType=ListViewItem},Path=IsSelected}" 
```

现在，如果您使用`SelectionMode=Multiple`ListView，您可以直接使用`SelectedItems`.

```
var chapters = new List<Chapter>();
foreach (var item in listViewChapter.SelectedItems)
    users.Add((Chapter)item); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-20T08:19:20.223

您应该考虑为您的 WPF 应用程序使用[MVVM 模式](http://csharperimage.jeremylikness.com/2010/04/model-view-viewmodel-mvvm-explained.html)，[如果您要使用 MVVM，那么您将需要一个 MVVM 框架](http://www.lhotka.net/weblog/UsingTheMVVMPatternRequiresAFramework.aspx)。

然后，创建一个表示您的数据绑定对象的类型（例如），然后在您的视图模型（例如）`Book`上拥有该类型的集合。`ObservableCollection<Book> Books`

`Selected`然后，您可以将例如类型上的布尔属性绑定到 ListBox ItemTemplate 中`Book`的 CheckBox`IsChecked`属性。

```
<CheckBox IsChecked="{Binding Selected}" /> 
```

您可能不想`Book`使用纯粹用于 UI () 的属性来污染您的域对象 ( `Selected`)，因此您可以创建一个`BookViewModel`类型来增强`Book`类型并仅出于视图的目的重塑对象。

# android - 如何为 ImageAdapter 引用 sdcard 的图像

> ID：12986548
> 
> 赞同：0
> 
> 时间：2012-10-20T08:05:09.507
> 
> 标签：android, android-arrayadapter

我的可绘制文件夹中有一个图像列表。我有代码可以在coverflow中显示它们。所以要引用图像，我可以使用 R.drawable 使用以下方式。*_* 等，见下文-

```
public class ImageAdapter extends BaseAdapter{

    private Context context;
    private ImageView[] images;
    private Integer[] imageids={
            R.drawable. image001,
            R.drawable. image002,
            R.drawable. image003,
            R.drawable. image004,
            R.drawable. image005,
            R.drawable. image006,

            R.drawable. image007,
            R.drawable. image008,
            R.drawable. image009,

            R.drawable. image011,

            R.drawable. image012,
            R.drawable. image013,
            R.drawable. image014,
            R.drawable. image015,
            R.drawable. image016,

            R.drawable. image017,
            R.drawable. image018,
            R.drawable. image019,
            R.drawable. image020,
            R.drawable. image021,
            R.drawable. image022,
            R.drawable. image023,
            R.drawable. image024,

        };
    public ImageAdapter(Context con)
    {
        this.context=con;
        images=new ImageView[imageids.length];
    }
} 
```

**现在我的问题是如何在上面的 imageid 列表中引用我的 SDCARD 的图像。** 我在 stackoverflow 上找到了一个相关的问题，但没有答案。请知道的人回答这个问题。我可以用同样的方式创建videoid的列表吗？？？？

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-20T08:15:15.897

```
/mnt/sdcard/pathtoyourfile 
```

可以参考sdcard中的文件。例如，如果您在 sdcard 中名为 myfolder 的文件夹中有一个图像文件为 image.jpg，您可以拥有，

```
Bitmap b = BitmapFactory.decodeFile("/mnt/sdcard/myfolder/image.jpg");
imageView.setImageBitmap(b); 
```

此路径也可用于视频。如我所见，您的数组是整数类型。相反，您可以使用字符串数组。

BitmapFactory.decodeFile(""); 用于将文件解码为位图。[在这里](http://developer.android.com/reference/android/graphics/BitmapFactory.html#decodeFile%28java.lang.String%29)您可以找到文档。

# c# - ListView 排序

> ID：12986553
> 
> 赞同：0
> 
> 时间：2012-10-20T08:05:52.973
> 
> 标签：c#, listview

如何关闭 ListView 排序？

出于某种原因，我的 ListView 在我的第一列上自动按 asc 排序。

它是一个自定义的 ListView，但唯一被修改的是它的实际外观。100% 基于标准 ListView

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-20T08:12:09.153

您可能已将该`ListView.Sorting`属性设置为`SortOrder.Ascending`. 确保它设置为`SortOrder.None`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-20T08:13:25.123

环境：

```
myListView.Sorting = SortOrder.None; 
```

应该做的伎俩，除非您添加到的`ListView`项目已经排序。

# css - 隐藏或更改源代码中的 CSS 和脚本文件地址？

> ID：12986554
> 
> 赞同：-1
> 
> 时间：2012-10-20T08:05:56.143
> 
> 标签：css, firebug

我有一个网站，我想从源代码中隐藏 CSS 和脚本文件地址，当用户单击右键并按“查看源代码”时，CSS 和脚本文件地址已更改。（以及萤火虫）。像谷歌！请转到 google.com 并按右键单击，然后“使用 Firebug 检查元素”，请参阅右侧框中的样式。例如，您将看到“www.google.com #2（第 9 行）”！你不会看到任何 CSS 文件的地址！这怎么可能？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-20T08:23:41.223

如果您的意思是查看页面源代码而没有看到任何样式链接，那是因为 Google 使用了一些 JavaScript 框架，可能是 GWT：[https](https://developers.google.com/web-toolkit/) ://developers.google.com/web-toolkit/ 。你可以在页面上看到很多 JavaScript 乱码，对吧？该 JavaScript 在 DOM 中创建所有样式元素等。在检查元素时，您确实可以看到生成的样式定义，无论是 Firefox 还是 Chrome。

你也可以做到的。但这种设计与经典的 HTML + JavaScript 完全不同。

但是其他人是对的，你不能那样隐藏任何东西，你不应该。充其量只是默默无闻的安全。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-20T08:14:50.923

据我所知，你不能阻止用户看到这些文件。他们可以看到这些文件，也可以根据需要下载它们。

你所能做的就是使用某种缩小器来缩小这些文件，比如用于 JavaScript 代码的[JS Minifier 。](http://fmarcia.info/jsmin/test.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-20T08:21:46.507

您可以将 css 放在内联标签中。只需将内容复制/粘贴到 ... 块中的 .html 文档中。这样你就没有外部 .css 文件了。

优点是您节省了 http 命中。缺点是每次都必须下载完整的css，因为不能缓存。

你也可以缩小你的css，这会在一定程度上混淆它。但是您永远无法真正向下载它的人隐藏 css。

# php - PHP - 嵌套while循环的第一个结果后出现空表

> ID：12986560
> 
> 赞同：2
> 
> 时间：2012-10-20T08:07:25.793
> 
> 标签：php, mysql, nested-loops

我得到一个表格出现在嵌套 while 循环的第一个结果之后。

我要做的是通过从“用户”表中选择将用户名显示为列表，然后将该列表与“当前项目”表中的项目工程师进行比较。

这样，就有一个项目工程师列表，在他们的名字下面有他们分配的项目。

不幸的是，我在第一个嵌套的 while 循环运行之后，它吐出一个空表，我不知道如何摆脱它。

我怀疑它与 $proj_engineer = ""; 的初始变量有关。

有谁知道这张空桌子来自哪里以及如何摆脱它？

下面是代码：

```
<?php
    $query = mysql_query("SELECT * FROM `users` ORDER BY `username` ASC") or die(mysql_error());
    while ($row = mysql_fetch_assoc($query)) {
        $user_id = $row['user_id']; 
        $username = $row['username'];                               

        $proj_engineer = "";

        $query1 = mysql_query("SELECT * FROM `current_projects` WHERE `proj_engineer`='$username' ORDER BY `proj_engineer` ASC") or die(mysql_error());
        while ($row1 = mysql_fetch_assoc($query1)) {
            $proj_id = $row1['proj_id']; 
            $proj_engineer = $row1['proj_engineer'];
        }

        echo "<table border=1><tr><td colspan=12><p class='bold18'>" . $proj_engineer . "</p></td></tr>";                           

        $query3 = mysql_query("SELECT * FROM `current_projects` WHERE `proj_engineer`='$username' ORDER BY `proj_id` DESC") or die(mysql_error());
        while ($row3 = mysql_fetch_assoc($query3)) {
            $proj_id = $row3['proj_id'];
            $proj_number = $row3['proj_number']; 
            $proj_name = $row3['proj_name'];
            $proj_sort = $row3['proj_sort'];
            $proj_start = $row3['proj_start'];
            $proj_finish = $row3['proj_finish'];
            $proj_overstat = $row3['proj_overstat'];
            $proj_dwgstat = $row3['proj_dwgstat']; 
            $proj_soostat = $row3['proj_soostat']; 
            $proj_substat = $row3['proj_substat']; 
            $proj_engineer = $row3['proj_engineer'];
            $proj_drafter = $row3['proj_drafter'];
            $proj_rating = $row3['proj_rating'];
            $proj_pending = $row3['proj_pending'];
            $proj_notes = $row3['proj_notes'];

            $start_time = date("m/d/y", $proj_start);
            $finish_time = date("m/d/y", $proj_finish);

            echo "

                <tr>
                    <td width=40>$proj_number</td>
                    <td width=100>$proj_engineer</td>
                    <td width=100><a href='./project-page.php?proj_id=$proj_id'>$proj_name</a></td>
                    <td width=40>$start_time</td>
                    <td width=40>$finish_time</td>
                    <td width=110>
                        <div style='position:relative; background:url(images/bar01.gif); width:$proj_overstat; height:20;'>
                            <div style='position:absolute; bottom:0; left:0; width:$proj_overstat; font-weight:bold; color:#000000; vertical-align:middle; height:20; text-align:center;'>$proj_overstat%</div>
                        </div>
                    </td>
                    <td width=110>
                        <div style='position:relative; background:url(images/bar02.gif); width:$proj_dwgstat; height:20;'>
                            <div style='position:absolute; bottom:0; left:0; width:$proj_dwgstat; font-weight:bold; color:#000000; vertical-align:middle; height:20; text-align:center;'>$proj_dwgstat%</div>
                        </div>
                    </td>
                    <td width=110>
                        <div style='position:relative; background:url(images/bar03.gif); width:$proj_soostat; height:20;'>
                            <div style='position:absolute; bottom:0; left:0; width:$proj_soostat; font-weight:bold; color:#000000; vertical-align:middle; height:20; text-align:center;'>$proj_soostat%</div>
                        </div>
                    </td>
                    <td width=110>
                        <div style='position:relative; background:url(images/bar04.gif); width:$proj_substat; height:20;'>
                            <div style='position:absolute; bottom:0; left:0; width:$proj_substat; font-weight:bold; color:#000000; vertical-align:middle; height:20; text-align:center;'>$proj_substat%</div>
                        </div>
                    </td>
                    <td width=40 align='center'><a href='project-notes.php?proj_id=$proj_id'><img src='images/note.png' border=0></a></td>
                    <td width=40 align='center'><a href='./project-edit.php?proj_id=$proj_id'>EDIT</a></td>
                    <td width=40 align='center'><a href='./project-delete.php?proj_id=$proj_id'>DELETE</a></td>
                </tr>

            ";
        }
        echo "</table><br>";
    }                           
?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-20T08:10:43.007

这可能是因为，您的查询： -

```
$query1 = mysql_query("SELECT * FROM `current_projects` WHERE 
                      `proj_engineer`='$username' ORDER BY `proj_engineer` ASC") 
                       or die(mysql_error()); 
```

为您获取了一个空值`$proj_engineer`。您可以在打印表格之前检查您的变量是否包含值。`$proj_engineer`在打印之前尝试打印`table`.

您可以将代码`echoing`包含在`if`构造中的表格中，仅当您的值不为空时才会打印表格。

# bash - 为什么 if 和 else 都被执行？

> ID：12986561
> 
> 赞同：1
> 
> 时间：2012-10-20T08:07:35.573
> 
> 标签：bash, shell, ubuntu

我的代码是：

```
if [ "$server" == "a" ]; then
        echo "apache"
fi

if [ "$server" ==  "t"   ]
then
        echo "tomcat"
else
        echo "Entered"
fi 
```

的`$server`值为`t`。我希望将值`tomcat`打印在控制台上。但是`Entered`也印出来了！

我对此感到困惑。`if`和`else`语句是怎么执行的？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-20T08:18:56.523

只有在前面的 if 语句计算结果为 false 时，才应该执行 else 分支。据我所知，该规则实际上没有任何例外。导致问题的 bash 文件中可能还有其他可疑的地方。

确保 bash 是执行脚本的内容。`#!/bin/bash`应该在第一行。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-20T10:00:44.253

要解决您的问题，请执行以下操作：

*   将 echo 语句放入每个分支：

    ```
    if [ "$server" == "a" ]; then
        echo "in branch apache"
        echo "apache"
    fi

    if [ "$server" ==  "t"   ]
    then
            echo "in branch tomact"
            echo "tomcat"
    else
            echo "in else branch"
            echo "Entered"
    fi 
    ```

如果您仍然无法发现问题，请选择以下之一：

*   使用`-x`标志执行脚本

    ```
    bash -x <scriptname> 
    ```

*   注释掉每一行...然后逐行注释，看看你得到什么结果

# iphone - iphone可以实现哪个多选（注册页面）

> ID：12986564
> 
> 赞同：0
> 
> 时间：2012-10-20T08:07:49.410
> 
> 标签：iphone, ios

我在 Android 中有多选对话框（下拉），用户在注册页面中选择适用于他的所有选项。在 Iphone 中可以使用什么来实现相同的目的？并且选择一些选项将取消隐藏一些必须填写的文本字段。让我知道我的方法是什么。请分享任何开源代码链接。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-20T08:29:49.830

不，iOS SDK 中没有这样的东西，这是有充分理由的——这些元素在触摸屏上操作时不够漂亮、时髦和可用。

考虑改用[UIPickerView](http://developer.apple.com/library/ios/#documentation/userexperience/conceptual/mobilehig/UIElementGuidelines/UIElementGuidelines.html#//apple_ref/doc/uid/TP40006556-CH13-SW36)或[UISegmentedControl](http://developer.apple.com/library/ios/#documentation/userexperience/conceptual/mobilehig/UIElementGuidelines/UIElementGuidelines.html#//apple_ref/doc/uid/TP40006556-CH13-SW36)。也许还可以看看[Action Sheet](http://developer.apple.com/library/ios/documentation/userexperience/conceptual/mobilehig/UIElementGuidelines/UIElementGuidelines.html#//apple_ref/doc/uid/TP40006556-CH13-SW36)。

# java - 未找到 Struts 2 模板

> ID：12986566
> 
> 赞同：3
> 
> 时间：2012-10-20T08:08:00.703
> 
> 标签：java, configuration, struts2, themes, freemarker

我为 Struts 2 创建了一个新的主题模板。

所以我将以下代码放入我的`struts.xml`：

```
<constant name="struts.ui.theme" value="mynew" /> 
```

这个模板目录在哪里，以便我可以将新主题放入其中。我尝试了很多地方，但没有一个有效。

```
java.io.FileNotFoundException: Template /template/mynew/actionerror.ftl not found. 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-20T10:23:22.163

`webroot/template/theme`Struts 2 将首先在名称中查找标签的模板。如果在那里没有找到模板，它将使用作为 Struts 2 核心 jar 一部分的默认模板。[您可以在模板加载](http://struts.apache.org/tag-developers/template-loading.html)中了解有关此功能的更多信息。

> 可以使用几种不同的规则选择模板目录，顺序如下：
> 
> *   特定标签上的`templateDir`属性
> *   名为的页面范围属性`templateDir`
> *   请求范围的属性名为`templateDir`
> *   会话范围的属性名为`templateDir`
> *   名为 templateDir 的应用程序范围属性
> *   中的`struts.ui.templateDir`属性`struts.properties`（默认为模板）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-04-29T09:27:11.857

Roman C 将模板放在正确文件夹中的答案中的主要线索是他提到了**webroot**。我在其他地方没见过这个。因此，基于此，这是一个工作示例。

我的项目在一个 EAR 文件中，里面看起来像这样：

*   my_project_ejb.jar
*   my_project.war
*   带有所需 jar 的 lib 文件夹

为了使模板工作，在顶层的 WAR 文件中应该有一个“模板”（或您配置的任何其他内容）文件夹。在其中，使用您的主题名称创建一个文件夹。

由于我的项目是使用 Maven 构建的，因此我的 FTL 文件位于`my_web_project/src/main/webapp/template_dir_name/theme_name/my_field_template.ftl`

我希望这对某人有用。我花了一段时间才弄清楚。

# android - 无法将字符串发送到另一个类

> ID：12986572
> 
> 赞同：0
> 
> 时间：2012-10-20T08:10:39.987
> 
> 标签：android, android-intent, android-maps, android-overlay

我在这里使用 android 程序我有两个类 PlaceMapActivity 和 AddItemizedOverlay 我想从 PlaceMapActivity 向 AddItemizedOverlay 类发送一个字符串，任何人都可以帮助我解决这个问题，这是我的两个类

**AddItemizedOverlay**

```
public class AddItemizedOverlay extends ItemizedOverlay<OverlayItem> {

       private ArrayList<OverlayItem> mapOverlays = new ArrayList<OverlayItem>();

       private Context context;
       String reference;
       private Activity activity;

       String p_u_name;
       String username;
       public AddItemizedOverlay(Drawable defaultMarker) {
            super(boundCenterBottom(defaultMarker));
       }

       public AddItemizedOverlay(Drawable defaultMarker, Context context) {
            this(defaultMarker);
            this.context = context;
       }

       @Override
       public boolean onTouchEvent(MotionEvent event, MapView mapView)
       {   
               if (event.getAction() == 1) {
               GeoPoint geopoint = mapView.getProjection().fromPixels(
                   (int) event.getX(),
                   (int) event.getY());
               // latitude
               double lat = geopoint.getLatitudeE6() / 1E6;
               // longitude
               double lon = geopoint.getLongitudeE6() / 1E6;
               //Toast.makeText(context, "Lat: " + lat + ", Lon: "+lon, Toast.LENGTH_SHORT).show();
           }
           return false;
       } 

       @Override
       protected OverlayItem createItem(int i) {
          return mapOverlays.get(i);
       }
       @Override
       public int size() {
          return mapOverlays.size();
       }

      @Override
       protected boolean onTap(int index) {
         OverlayItem item = mapOverlays.get(index);
         AlertDialog.Builder dialog = new AlertDialog.Builder(this.context);
         dialog.setTitle(item.getTitle());
         dialog.setMessage("Do you want ot park here ?");
         reference = item.getSnippet();
         dialog.setPositiveButton("Yes", new DialogInterface.OnClickListener() {
            public void onClick(DialogInterface dialog, int which) {

                SharedPreferences prefs = context.getSharedPreferences("myprefs", 0);
                SharedPreferences.Editor editor =prefs.edit();
                editor.putString("KEY_REFERENCE", reference);
                editor.commit();                

                Intent intent = new Intent(context, SinglePlaceActivity.class);
                intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
                context.startActivity(intent);
            }
         })
            .setNegativeButton("No",new DialogInterface.OnClickListener() {
                public void onClick(DialogInterface dialog,int id) {
                    // if this button is clicked, just close
                    // the dialog box and do nothing
                    dialog.cancel();
//                  MainActivity.this.finish();
                }
            });
         dialog.show();
         return true;
       }

       public void addOverlay(OverlayItem overlay) {
          mapOverlays.add(overlay);
       }

       public void populateNow(){
           this.populate();
       }

    } 
```

第二节课在这里

**PlacesMapActivity.java**

```
public class PlacesMapActivity extends MapActivity {
    // Nearest places
    PlacesList nearPlaces;

    // Map view
    MapView mapView;

    // Map overlay items
    List<Overlay> mapOverlays;

    AddItemizedOverlay itemizedOverlay;

    GeoPoint geoPoint;
    // Map controllers
    MapController mc;

    double latitude;
    double longitude;
    OverlayItem overlayitem,wma;

    String p_u_name;
    Place reference;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.map_places);

        // Getting intent data
        Intent i = getIntent();

        p_u_name = i.getExtras().getString("KEY_USERNAME");

//      AddItemizedOverlay its_obj = new AddItemizedOverlay(null);
//      its_obj.getstring(p_u_name);

        System.out.println("place map activity :got username"+p_u_name);

        reference = (Place) i.getSerializableExtra("place_reference");

        // Users current geo location
        String user_latitude = i.getStringExtra("user_latitude");
        String user_longitude = i.getStringExtra("user_longitude");

        System.out.println("sarath"+user_latitude + user_longitude);

        // Nearplaces list
        nearPlaces = (PlacesList) i.getSerializableExtra("near_places");

        mapView = (MapView) findViewById(R.id.mapView);
        mapView.setBuiltInZoomControls(true);

        mapOverlays = mapView.getOverlays();

        // Geopoint to place on map
        geoPoint = new GeoPoint((int) (Double.parseDouble(user_latitude) * 1E6),(int) (Double.parseDouble(user_longitude) * 1E6));

        // Drawable marker icon
        Drawable drawable_user = this.getResources().getDrawable(R.drawable.mark_red);

        itemizedOverlay = new AddItemizedOverlay(drawable_user, this);

        // Map overlay item
        overlayitem = new OverlayItem(geoPoint, "Your Location","That is you!");

        itemizedOverlay.addOverlay(overlayitem);

        mapOverlays.add(itemizedOverlay);
        itemizedOverlay.populateNow();

        // Drawable marker icon
        Drawable drawable = this.getResources().getDrawable(R.drawable.mark_blue);

        itemizedOverlay = new AddItemizedOverlay(drawable, this);

        mc = mapView.getController();

        // These values are used to get map boundary area
        // The area where you can see all the markers on screen
        int minLat = Integer.MAX_VALUE;
        int minLong = Integer.MAX_VALUE;
        int maxLat = Integer.MIN_VALUE;
        int maxLong = Integer.MIN_VALUE;

        // check for null in case it is null
        if (nearPlaces.results != null) {
            // loop through all the places
            for (Place place : nearPlaces.results) {

                latitude = place.geometry.location.lat; // latitude
                longitude = place.geometry.location.lng; // longitude

                // Geopoint to place on map
                geoPoint = new GeoPoint((int) (latitude * 1E6),
                        (int) (longitude * 1E6));

                // Map overlay item
                overlayitem = new OverlayItem(geoPoint,place.name,place.reference);

                itemizedOverlay.addOverlay(overlayitem);

                // calculating map boundary area
                minLat  = (int) Math.min( geoPoint.getLatitudeE6(), minLat );
                minLong = (int) Math.min( geoPoint.getLongitudeE6(), minLong);
                maxLat  = (int) Math.max( geoPoint.getLatitudeE6(), maxLat );
                maxLong = (int) Math.max( geoPoint.getLongitudeE6(), maxLong );
            }
            mapOverlays.add(itemizedOverlay);

            // showing all overlay items
            itemizedOverlay.populateNow();
        }

        // Adjusting the zoom level so that you can see all the markers on map
        mapView.getController().zoomToSpan(Math.abs( minLat - maxLat ), Math.abs( minLong - maxLong ));

        // Showing the center of the map
        mc.animateTo(new GeoPoint((maxLat + minLat)/2, (maxLong + minLong)/2 ));
        mapView.postInvalidate();

    }

    @Override
    protected boolean isRouteDisplayed() {
        return false;
    }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-20T08:20:04.977

创建 AddItemizedOverlay 类对象时的 Semd String。

写在你的活动课上

```
 itemizedOverlay = new AddItemizedOverlay(drawable_user, this,StringData); 
```

在你的 OverLay 类中写下这个

```
private String StringData;

public AddItemizedOverlay(Drawable defaultMarker, Context context,String StringData) {
            this(defaultMarker);
            this.context = context;
this.StringData=StringData;
       } 
```

试试这个方法......

谢谢

# sml - SML 中的输出和输入

> ID：12986576
> 
> 赞同：0
> 
> 时间：2012-10-20T08:10:59.537
> 
> 标签：sml, smlnj

我试图理解 TextIO 逐行写入和读取文件。大多数在线资源都没有一些介绍性文字。我以前没有任何文件处理知识，也没有 SML 高级知识。如果需要，我不知道如何处理签名。

任何链接或详细描述都会有很大帮助。

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-20T11:01:04.920

也许这会帮助你......

[http://www.cs.cornell.edu/courses/cs312/2006fa/recitations/rec09.html](http://www.cs.cornell.edu/courses/cs312/2006fa/recitations/rec09.html)

# osgi - glassfish 无法启动捆绑包 org.glassfish.main.admingui.glassfish-osgi-console-plugin

> ID：12986577
> 
> 赞同：1
> 
> 时间：2012-10-20T08:11:03.640
> 
> 标签：osgi, glassfish-3, apache-felix

我想将 glassfish 3.1.2.2 与 OSGI 一起用于我的开发目的。我通过 Web 管理控制台安装了 OSGI Future 包并重新启动了 glassfish。服务器重新启动后，Web 控制台停止工作，只显示一个空白页面，没有任何错误。我查看了一个日志文件，发现下面描述的异常。

我有几个问题：

1.  如何替换此捆绑包的起始级别以及需要设置的级别？

2.  如何访问 Apache Felix 的 shell？

3.  玻璃鱼和卡拉夫是否可以结婚？

```
[org.glassfish.main.admingui.glassfish-osgi-console-plugin(Glassfish OSGI 控制台插件):3.1.2.1-SNAPSHOT]
    com.sun.enterprise.module.ResolveError：无法启动捆绑 ID [263] 状态 [已解决] [org.glassfish.main.admingui.glassfish-osgi-console-plugin（Glassfish OSGI 控制台插件）：3.1.2.1-SNAPSHOT ]
            在 org.jvnet.hk2.osgiadapter.OSGiModuleImpl.start(OSGiModuleImpl.java:177)
            在 org.jvnet.hk2.osgiadapter.OSGiModuleImpl$2$1$1.loadClass(OSGiModuleImpl.java:344)
            在 com.sun.hk2.component.LazyInhabitant.loadClass(LazyInhabitant.java:124)
            在 com.sun.hk2.component.LazyInhabitant.fetch(LazyInhabitant.java:111)
            在 com.sun.hk2.component.EventPublishingInhabitant.get(EventPublishingInhabitant.java:135)
            在 com.sun.hk2.component.AbstractInhabitantImpl.get(AbstractInhabitantImpl.java:78)
            在 com.sun.enterprise.v3.server.ClassLoaderHierarchyImpl.createApplicationParentCL(ClassLoaderHierarchyImpl.java:200)
            在 org.glassfish.deployment.common.DeploymentContextImpl.createClassLoader(DeploymentContextImpl.java:216)
            在 org.glassfish.deployment.common.DeploymentContextImpl.createDeploymentClassLoader(DeploymentContextImpl.java:199)
            在 com.sun.enterprise.v3.server.ApplicationLifecycle.deploy(ApplicationLifecycle.java:346)
            在 com.sun.enterprise.v3.server.ApplicationLoaderService.processApplication(ApplicationLoaderService.java:375)
            在 com.sun.enterprise.v3.admin.adapter.InstallerThread.load(InstallerThread.java:210)
            在 com.sun.enterprise.v3.admin.adapter.InstallerThread.run(InstallerThread.java:108)
    原因：org.osgi.framework.BundleException：无法启动捆绑包org.glassfish.main.admingui.glassfish-osgi-console-plugin [263]，因为它的启动级别为2，大于框架的启动级别1。
            在 org.apache.felix.framework.Felix.startBundle(Felix.java:1807)
            在 org.apache.felix.framework.BundleImpl.start（BundleImpl.java:944）
            在 org.jvnet.hk2.osgiadapter.OSGiModuleImpl.start(OSGiModuleImpl.java:169)
            ... 12 更多

```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-22T05:05:46.670

这是一个众所周知的问题 [1]，它已在 GlassFish 主干中得到修复。3.1.x 版本也有一个变通方法。

[1] [http://java.net/jira/browse/GLASSFISH-18880](http://java.net/jira/browse/GLASSFISH-18880)

# ios5 - 子视图中的 UIButton 调用属性

> ID：12986578
> 
> 赞同：-1
> 
> 时间：2012-10-20T08:11:19.617
> 
> 标签：ios5

稍微解释一下我为什么要实现这个设计。

但是我想问的问题是：**如果我有一个视图并且它的控制器是 ControllerA，那么现在我想在我的那个视图中添加一个子视图，假设 View1。该子视图 View1 包含一个按钮，我将 IBAction 点设置为 ControllerA。**

但我发现这个 View1 按钮无法更改原始视图对象中的某些属性，例如`UIImageview.hidden`.

subview 中的按钮不能改变 superview 中的内容吗？或者我需要设置其他的东西来完成这个任务。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-20T10:49:35.433

我猜你试图在`button`里面添加一个`UIView`也是一个`subview`）`View(UIViewController`。

正如您在尝试访问 Button 属性时所说的那样，您不能这样做。

发生这种情况是因为当我们通过 XIb 创建任何东西时，如果我们想要访问该 UIControl 或其他任何东西，那么我们已经在我们的源代码中引用了它。所以您将通过 Xcode 的引用连接 UIButton。正如我在下图中所做的那样。

![以这种方式尝试](../Images/2b58a78258fefc9eb32c49a0f340dbae.png)

我希望我明白你的意思。对你有帮助

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-20T08:47:53.493

很难准确理解您在说什么，但听起来您正在尝试访问该 UIView 之外的 UIView 实例的子视图。如果它不是一个 UIView 子类，其中您有对该子视图的 ivar/属性引用，您可以尝试给它一个标签并以这种方式访问​​它。

例子：

```
UIView *topLevelView = [[UIView alloc] init];
UIView *viewA = [[UIView alloc] init];
UIView *otherView = [[UIView alloc] init];
otherView.tag = 5;
[topLevelView addSubview:viewA];
[topLevelView addSubview:otherView];

UIView *viewASubview = [[UIView alloc] init];
[viewA addSubview:viewASubview];

UIView *referenceToOtherView = [viewASubview.superview.superview viewWithTag:5];
UIView *anotherReferenceToOtherView = [topLevelView viewWithTag:5]; 
```

# javascript - 使用动画效果定位元素（jQuery UI）

> ID：12986579
> 
> 赞同：4
> 
> 时间：2012-10-20T08:11:20.587
> 
> 标签：javascript, jquery, html, css, jquery-ui

我想相对于另一个元素（elemB）定位一个元素（elemA）。所以我为此使用了 jQuery ui 位置实用程序，如下所示：

```
 $(elemA).position({my:'right top', at:'left top', of:elemB}); 
```

但我希望通过动画效果来完成定位。

我如何使用`.animate()`来完成我的任务？

[你可以在这个fiddle](http://jsfiddle.net/vRWzx/1/)中看到我到目前为止所做的事情。我希望 elemA 使用 jQuery 和 jQuery ui 滑动到具有动画效果的新位置。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-20T10:20:40.363

像这样？？

```
<div>
    <div id="elemA"><button id="btn">click</button></div>

    <div id="elemB"></div>
</div>

$('#btn').click(function(){  
  var position = $('#elemB').offset().left-100; 
  $("#elemA").animate({'left':position},'slow');  

});​ 
```

## [演示](http://jsfiddle.net/vRWzx/45/)

还要检查css，我也编辑过它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-10-28T19:48:13.333

您可以使用该方法的*using*选项回调[`position()`](http://api.jqueryui.com/position/)来为被定位的元素设置动画。

> 指定后，实际的属性设置将委托给此回调。接收两个参数：第一个是应该设置的位置的 top 和 left 值的哈希值，可以转发到[`.css()`](http://api.jquery.com/css)or [`.animate()`](http://api.jquery.com/animate)。

（*我添加的链接*）

* * *

所以你的代码将是：

```
$('#btn').click(function() {
  $('#elemA').position({
    my: 'right top',
    at: 'left top',
    of: $('#elemB'),
    using: function(pos) {
      $(this).animate(pos, "slow")
    }
  });

});
```

```
#elemA {
  width: 100px;
  height: 100px;
  background: red;
  float: left;
}
#elemB {
  width: 100px;
  height: 100px;
  background: green;
  float: right;
}
```

```
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script src="http://code.jquery.com/ui/1.9.2/jquery-ui.js"></script>
<div>
  <div id="elemA">
    <button id="btn">click</button>
  </div>
  <div id="elemB"></div>
</div>
```

# windows - 如何避免点击自定义 URL 时出现警告消息

> ID：12986583
> 
> 赞同：0
> 
> 时间：2012-10-20T08:11:46.750
> 
> 标签：windows, winapi, mfc

我已经在我的系统中注册了一个自定义 URL，如下面的链接中所述。

[http://msdn.microsoft.com/en-us/library/aa767914(v=vs.85).aspx](http://msdn.microsoft.com/en-us/library/aa767914(v=vs.85).aspx)

当我向我的电子邮件发送邮件时。我在 Outlook 电子邮件客户端中打开邮件并单击链接，然后显示警告消息

> Microsoft Office 发现了一个潜在的安全问题。超链接可能对您的计算机和数据有害。要保护您的计算机，请仅单击来自受信任来源的超链接。

有什么办法可以禁用警告信息？

如果我对电子邮件进行数字签名，该警告消息会出现吗？

如果我签署二进制文件，警告信息会出现吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-20T08:28:42.500

这只是 Outlook 本身的安全警告，与您的自定义 URL 无关。

[如何在 2007 Office 程序和 Office 2010 程序中启用或禁用超链接警告消息](http://support.microsoft.com/kb/925757)

# java - 我可以在 CardLayout 中设置各个面板的大小吗？

> ID：12986588
> 
> 赞同：5
> 
> 时间：2012-10-20T08:12:35.890
> 
> 标签：java, swing, panel, cardlayout

当我创建我的 GUI 时，我使用卡片布局来保存我的不同面板，我相信很多人都知道。这会将我的屏幕设置为我最大面板的宽度和高度。`SudokuPanel`这会导致我第一个屏幕的美学问题，它比和小得多`CalkuroPanel`。

当我更改为更大的屏幕时，我尝试设置首选尺寸，但无济于事。

任何有关良好信息链接的帮助或任何通常会有所帮助的帮助将不胜感激:)。

请在下面找到我的主要课程（我在其中绘制 GUI）：

```
import java.awt.*; import javax.swing.*; import java.util.*;

public class puzzleGUI{
  private static JPanel screens;
  public static String username;
  static public void main (String[] args){
  JFrame puzzle = new JFrame ("Sudoku/Calkuro Pro");

  ...

  PuzzleStartPanel startPanel = new PuzzleStartPanel();
  PuzzleChoosePanel choosePanel = new PuzzleChoosePanel();
  PuzzleSudokuPanel sudokuPanel = new PuzzleSudokuPanel(); 
  PuzzleCalkuroPanel calkuroPanel = new PuzzleCalkuroPanel();

  screens = new JPanel(new CardLayout()); 
  screens.add(startPanel, "start");
  screens.add(choosePanel, "choosePuzzle");
  screens.add(sudokuPanel, "sudoku");
  screens.add(calkuroPanel, "calkuro");
  screens.setPreferredSize (new Dimension(250, 80));

  puzzle.setJMenuBar(menuBar);
  puzzle.getContentPane().add(screens);
  puzzle.pack();
  puzzle.setVisible(true);
  puzzle.setResizable(false);
  puzzle.setDefaultCloseOperation (JFrame.EXIT_ON_CLOSE);
}

static public void getUsername(String str){
  username = str;
}

static public void openWindow(String newFrame){
  CardLayout cl = (CardLayout)(screens.getLayout());
  cl.show(screens, newFrame);
}
} 
```

**编辑**

在调用时，brainblast 尝试在重置首选大小后打包框架`openWindow`，并且 wolah，新框架大小：D

```
static public void openWindow(String newFrame, int a, int b){
  CardLayout cl = (CardLayout)(screens.getLayout());
  cl.show(screens, newFrame);
  screens.setPreferredSize (new Dimension(a, b));
  puzzle.pack();
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-20T08:14:25.180

> 我可以在卡片布局中设置各个面板的大小吗

当然。但是布局会忽略它们并使每张卡片的大小相同。您可以期望的最好的是将较小的面板添加到另一个允许内容缩小的面板（带有布局）。

* * *

[这个答案](https://stackoverflow.com/a/7181197/418556)使用单个标签显示了这种技术。交换“小面板”的标签并使用右侧的布局，它将居中。

![](../Images/c058125e61cbffae7a1f5014b1bc0aa9.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-03-17T12:40:17.890

我有一个类似的问题，我通过一个小作弊（“脏代码”）解决了它。我有两个面板：SmallOne 和 HugeOne。我将 HugeOne 的可见性设置为 false。在这种情况下，SmallOne 设置整个 CardPanel 的大小。您可以创建一个在用户选择 HugeOne 面板时调用的方法，并在此方法中将 HugeOne 可见性设置为 true。CardPanel 将调整大小。

奇迹般有效 ：）

# mysql - 删除重复记录，随机保留一条

> ID：12986591
> 
> 赞同：3
> 
> 时间：2012-10-20T08:12:57.713
> 
> 标签：mysql

如何在MYSQL中删除重复记录并随机保留一条记录？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-20T08:17:12.157

用于`ALTER TABLE`添加唯一索引，并指定`IGNORE`选项使其不会出错：

```
ALTER IGNORE TABLE mytable 
ADD UNIQUE INDEX (products_id, categories_id); 
```

更新：

要使选择是随机的，请创建一个与旧表具有相同架构的新表，但在这些列上具有唯一键。然后做：

```
INSERT IGNORE INTO newtable
SELECT * from oldtable
ORDER BY RANDOM(); 
```

随机排序中每个重复项中的第一个将被插入到新表中，其余的将因为 IGNORE 选项而被忽略。

# twitter - 推文计数器按钮显示为零（为 blogspot 添加此插件）

> ID：12986600
> 
> 赞同：2
> 
> 时间：2012-10-20T08:14:12.870
> 
> 标签：twitter, blogger

我为 blogspot 添加了一个 Addthis 插件，用于社交网络共享。出于某种原因，推文计数按钮始终显示为零，尽管该链接已被多次推文。我已经使用[http://cdn.api.twitter.com/1/urls/count.json?url=进行了验证](http://cdn.api.twitter.com/1/urls/count.json?url=)

我的博客网站是[http://rohit-cricket.blogspot.in/2012/10/turning-twenty-three-and-counting.html](http://rohit-cricket.blogspot.in/2012/10/turning-twenty-three-and-counting.html) 这里没有粘贴代码的意义，因为 Addthis 会在页面加载时展开。使用谷歌浏览器的 Inspect 元素可以看到。

请帮忙

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-20T08:25:45.763

Twitter 描述了为什么您的计数可能不会增加的几种可能性：

> 为了提高性能，我们在显示之前缓存计数。缓存会经常更新，但在某些情况下，缓存更新时您的计数可能不会增加。此外，该计数仅包括公共推文，这意味着来自受保护帐户的推文不会导致增加。
> 
> 此外，当前需要您的服务器支持 HTTP HEAD 请求才能正确更新计数。一个简单的检查方法是使用命令行 curl 程序，传递 -I（大写 i）标志。一个成功的请求应该有一个 HTTP 200 OK 响应

来源：[https ://dev.twitter.com/docs/tweet-button/faq#count-api-increment](https://dev.twitter.com/docs/tweet-button/faq#count-api-increment)

另外，尝试更新推文的链接：

```
<a class="addthis_button_tweet"  tw:counturl="http://yoururltocount.com/"> 
```

在这里找到答案：http: [//www.addthis.com/forum/viewtopic.php? f=4&t=30188](http://www.addthis.com/forum/viewtopic.php?f=4&t=30188)

# html - 如何在没有 CMS 的情况下设置网站后台管理员密码

> ID：12986603
> 
> 赞同：0
> 
> 时间：2012-10-20T08:14:41.140
> 
> 标签：html, joomla, web, passwords, phpmyadmin

我正在创建一个不使用 CMS 的网站...我以前使用过 Joomla，它有一个`www.mywebsite.com/administrator`提供后端管理员用户名和密码的选项。
如何在我创建的网站中为 joomla 设置后端管理员用户名和密码`html5, css3, javascript, ajax, jquery, php and mysql`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-20T08:21:19.893

或者您可以只使用身份验证登录脚本

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-22T13:29:04.870

以下是如何为您的网站制作身份验证脚本的教程：[http ://www.phpeasystep.com/phptu/6.html](http://www.phpeasystep.com/phptu/6.html)

# vb.net - 用于创建和执行批处理文件的 VB 代码不起作用

> ID：12986604
> 
> 赞同：0
> 
> 时间：2012-10-20T08:14:48.117
> 
> 标签：vb.net, batch-file, file-io

我正在编写一些 VB 代码来创建一个批处理文件，启动该批处理文件，然后删除该文件。在文件删除部分之前一切正常。

```
My.Computer.FileSystem.WriteAllText("C:\test.bat", "@echoe off & start firefox http://www.mixedmartialarts.com http://news.google.com/ & exit", True)
Shell("C:\test.bat", AppWinStyle.Hide)
Kill("C:\test.bat") 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-20T16:56:15.800

使用新线程不断检查 cmd.exe 是否正在使用 while 语句运行。当 cmd.exe 不再运行时，删除批处理文件。

同样打开 url 的最佳方式是 Process.Start("http://www.url.com")

# css - reCaptcha 下推 CSS 元素

> ID：12986607
> 
> 赞同：2
> 
> 时间：2012-10-20T08:14:54.917
> 
> 标签：css, wordpress, recaptcha, contact-form-7

我的页面是[http://bonemarrow.ipage.com/contact/](http://bonemarrow.ipage.com/contact/)。

我在 Wordpress 安装下使用 reCaptcha 和 Contact Form 7。如果没有 reCaptcha，我的表单看起来很好，并且不会干扰页面的外观。一旦我弹出 reCaptcha，我在主要内容区域下，它和我的页脚之间有一个新的空白。

似乎 reCaptcha 正在将页脚 div 向下推大约与 reCaptcha 表本身相同的高度。我尝试将它包装在我自己的 div 中（#my_captcha）并设置一个高度，但这也不起作用。

我还认为这可能是因为我在表单中设置标签和/或字段的样式，所以我删除了所有样式以查看会发生什么。没有交易，即使没有样式 reCaptcha 仍然坚持引入这种差距。

任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-20T08:29:27.427

```
footer{
margin-top: -30px;
} 
```

这是您可以做到的一种方式。

编辑：根据您的评论...

好吧，您可以更具体地使用您的 CSS，例如这样

```
.some_specific_container footer{
margin-top: -30px
} 
```

假设表单类仅出现在页面上，我认为没有问题。

编辑2：

再看一下，问题是由iframe引起的，你目前有，`visibility:hidden`如果你添加`display:none`你会修复它。无需破解。发生这种情况的原因是因为`visibility:hidden`隐藏了一个元素，但它仍然会占用与以前相同的空间。该元素将被隐藏，但仍会影响布局。`display:none`隐藏一个元素，它不会占用任何空间。该元素将被隐藏，页面将显示为好像该元素不存在一样。[来源。](http://www.w3schools.com/css/css_display_visibility.asp)

# python - 如何遍历 PDF 页面中的所有对象并检查哪些是文本对象？

> ID：12986611
> 
> 赞同：5
> 
> 时间：2012-10-20T08:15:59.070
> 
> 标签：python, pypdf

我想使用 pypdf 遍历 pdf 页面中的所有对象。

我还想检查对象的类型是什么，是文本还是图形。

代码片段将是一个很大的帮助。

非常感谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-20T15:47:21.750

我认为 PyPDF 不是这项工作的正确工具。您需要解析*页面本身*（PyPDF 对其支持有限，请参阅[API 文档](http://pybrary.net/pyPdf/pythondoc-pyPdf.pdf.html#pyPdf.pdf.PageObject.extractText-method)），然后在更改某些对象后能够将结果*保存*在另一个 PDF 对象中。

您可以使用 解压缩 PDF `pdftk`，这将允许您使用[pdfrw](http://code.google.com/p/pdfrw/wiki/SupportedFeatures)。

然而，从你写的，

> *我的最终目标是为每个文本对象着色不同。*

“文本对象”可能是由（例如）不同段落中的不同行组成的相当复杂的对象。这可能是，并且您可能将其视为**单个实体**。在这个实体中可能已经有几个不同的文本颜色命令。

例如，您可能有一个带有此文本序列的流（这是用“内部”语言编写的）：

```
12.84 0 Td(S)Tj
0.08736 Tc
9 0 Td(e)Tj
0.06816 Tc
0.5 g
7.55999 0 Td(qu)Tj
0.08736 Tc
1 g
16.5599 0 Td(e)Tj
0.06816 Tc
7.55999 0 Td(n)Tj
0.08736 Tc
8.27996 0 Td(c)Tj
-0.03264 Tc
0.13632 Tw
7.55999 0 Td(e )Tj
0.06816 Tc
0 Tw 
```

*这可能会*写成“**序列****”**。它实际上由七个文本子对象组成，并且我所知道的没有库可以将流“解密”为其组件子对象，更不用说为它们分配适当的属性（在 PDF 中从图形状态下降，而在任何分层像 XML 这样的结构可能会与单个节点相关联，可能是通过继承）。

 ***更多：流可能包括*非文本命令*（例如行）。然后改变“文本”的描边颜色实际上也会改变*非文本对象的颜色*。

库应该为您提供与直接读取文本流类似的详细访问级别；所以通过图书馆这样做似乎不太可能。

由于这是*文字处理*工作，您可能会考虑将 PDF 转换为 OpenOffice（使用**PDF 导入**扩展），通过[OOo python](http://wiki.openoffice.org/wiki/Python)对其进行操作，然后从 OpenOffice 本身将其导出回 PDF。

但是要小心，因为[有龙](http://www.linuxjournal.com/content/starting-stopping-and-connecting-openoffice-python)：文档很粗略，界面有时不稳定。访问“文本”可能不切实际（更是如此，因为您只能逐行使用文本）。

另一种可能性（同样，不是胆小的人）是自己解码 PDF。首先通过`pdftk`. 这将产生一个标题，后跟表单中的对象流

```
INDEX R obj
<<
COMMANDS OR DATA
>>
[ stream 
STREAM OF TEXT
endstream ]
endobj 
```

您可以读取流，并且对于每个对象：

1.  如果 COMMANDS OR DATA 只是`/Length` *长度*，它可能是一个文本流。否则转到 3。
2.  解析对象（见下文）。如果长度发生变化，请记住`/Length`适当更新。
3.  记下当前输出文件的偏移量，将其保存在 XREF[i]（“第 i 个对象的参考偏移量”）中，并将其保存到输出文件中。

在对象的末尾，您会找到一个 XREF 对象，其中每个对象都用它所在的文件偏移量表示。这些偏移量（10 位数字）必须根据您保存在 XREF 中的新偏移量进行重写。*此*对象的开头应进入PDF 文件末尾的*startxref 。*

（要调试，首先编写一个复制所有对象而不进行修改的例程。它必须重新计算外部参照和偏移量，并且仍然产生与原始对象相同的 PDF 对象）。

这样获得的PDF可以重新压缩`pdftk`以节省空间。

关于 PDF 文本对象解析，您基本上可以逐行检查以查找文本输出命令（参见[PDF 参考](http://www.adobe.com/content/dam/Adobe/en/devnet/acrobat/pdfs/pdf_reference_1-7.pdf)5.3.2）。您将看到的大多数命令将是`Tj`：

```
9.95999 0 Td(Hello, world)Tj 
```

和颜色更改命令（参见#4.5.1；最常用的是 g 和 rg。）

```
1 g             # Sets color to black (1 in colorspace Gray)
1 0 0 rg        # Sets color to red (1,0,0 in colorspace RGB) 
```

然后，您将跟踪我们使用的任何颜色，例如，可以在您选择`Tj`的几个命令之间包含每个命令`RG`- 一个设置文本颜色，一个恢复原始颜色。这样，您将确保图形状态不会“溢出”到任何附近的对象、线条等；它会增加对象`Length`并使生成的 PDF 变慢一点（但不是很慢。你甚至可能没有注意到）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-20T08:19:29.523

[PDF结构](http://en.wikipedia.org/wiki/Portable_Document_Format)非常复杂。如果您只想要文本，另一种方法是导出文本而不是解析它。

在每个页面上迭代并在其上使用[extractText](http://pybrary.net/pyPdf/pythondoc-pyPdf.pdf.html#pyPdf.pdf.PageObject.extractText-method)***

# mysql - MySQL 在内存中存储索引（用于读取）

> ID：12986613
> 
> 赞同：1
> 
> 时间：2012-10-20T08:16:35.690
> 
> 标签：mysql

我有一个包含 1.77 亿行的大型 myisam 表和 2.7gb 的索引数据（2.1gb 的数据本身）。此信息是只读的，从不更新或删除。我想将索引存储在内存中以进行更快的查询（这是用于搜索）。

我知道我的选择之一是内存表。另一个我从未使用过的 memcacheddb。还有哪些其他解决方案？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-20T08:25:37.617

`MyISAM`存储引擎本身没有该功能。
您将需要一个不同的存储引擎，例如这是解决*MySQL*`MEMORY.`中问题的唯一方法。

# winapi - 没有代理/存根 DLL 的进程外 COM 服务器？

> ID：12986618
> 
> 赞同：3
> 
> 时间：2012-10-20T08:17:13.483
> 
> 标签：winapi, com, rpc, out-of-process

我正在学习如何实现进程外 COM 服务器，并遇到了这篇代码项目文章，[构建本地 COM 服务器和客户端：一步一步的示例](http://www.codeproject.com/Articles/8679/Building-a-LOCAL-COM-Server-and-Client-A-Step-by-S)。

我可以构建它，它运行良好，但是代理/存根 DLL 在哪里？我所能看到的只是在构建过程中生成代理/存根代码的 IDL 文件。但是 DLL 是如何构建的，它在哪里呢？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-24T22:02:21.363

简短的回答是所有接口都标记为“oleautomation”，因此 oleaut32.dll 执行编组，因为 COM 知道如何编组接口中使用的所有类型。

如果缺少“oleautomation”，或者指定了 COM 在默认情况下不知道如何编组的类型（[请参阅此处的列表](http://msdn.microsoft.com/en-us/library/windows/desktop/aa367129%28v=vs.85%29.aspx)），则需要您的非默认编组器及其存根。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-20T09:17:17.123

您需要 Proxy/Stub 项目来帮助 COM 编组您的接口。当您使用 Visual Studio 创建 ATL C++ 项目时，通常会自动创建一个带有 PS 后缀的辅助项目，这就是您的代理/存根 DLL。但是，如果没有它，你可能会做得很好（我个人从来不需要构建和使用它，即使我确实必须处理诸如自定义编组之类的事情）。如果您在项目中提供类型库，则它已注册并满足某些条件 - COM 将为您提供自动代理/存根对。

额外阅读：

*   [COM 代理/存根 DLL 以及为什么需要它](http://blogs.msdn.com/b/eldar/archive/2006/02/28/540981.aspx)
*   [何时需要代理/存根对](http://www.codeproject.com/Members/Lim-Bio-Liong?msg=1413206#xx1413206xx)

# asp.net-mvc - ASP.NET Web Api 中的日期选择器格式问题

> ID：12986620
> 
> 赞同：2
> 
> 时间：2012-10-20T08:17:34.673
> 
> 标签：asp.net-mvc, datepicker, asp.net-mvc-4, asp.net-web-api, jquery-ui-datepicker

我使用 ASP.NET WEB API 和 jquery 日期时间。

**我的问题是**：我希望用户能够使用 datepicker 以“dd/MM/yyyy”的格式选择日期。但是当我配置我的 datepicker 这样做（如此[处](http://jsfiddle.net/8wthj/)）时，发布到 web api 控制器操作的日期是'01/01/0001 00:00:00'。当我从 datepicker 中删除 'd/M/yy' 的格式化程序时，我能够接收到正确的值，但用户会看到在 MM/dd/yyyy 中选择的日期。

我在 web.config 中将文化设置为“en-GB”，如下所示...

```
<system.web>
<globalization culture="en-GB" uiCulture="en-GB"/>    
</system.web> 
```

这仍然没有帮助。

如果有人想尝试一下，我已经重新创建了这个场景并将项目上传到[这里。](http://yassershaikh.com/datepicker/DateProblem.rar)

我的 web-api 控制器如下所示

```
public class ValuesController : ApiController
{
    // POST api/values
    public void Post(ResponseModel model)
    {
        string culture = CultureInfo.CurrentCulture.DisplayName;
        if (model != null)
        {
            string name = model.Name;
            DateTime startDate = model.StartDate;
            DateTime endDate = model.StartDate;
        }
    }
} 
```

我的观点如下

```
 $(document).ready(function () {

    $("#startDate").datepicker({});
    $("#endDate").datepicker({});

//        $("#startDate").datepicker({ dateFormat: "dd/m/yy" });
//        $("#endDate").datepicker({ dateFormat: "dd/m/yy" });

    $("#submitBtn").bind("click", function () {

        var postData = {
        name: $("#fullName").val(),
        startDate: $("#startDate").val(),
        endDate: $("#endDate").val()
        };

        var jsonData = JSON.stringify(postData);
        console.log(jsonData);

        $.ajax({
        url: 'api/values/',
        type: 'POST',
        data: jsonData,
        contentType: "application/json;charset=utf-8",
        success: function (data) {
        }
        });
    });

    });

</script>

<div>
<p>
<b>Name : </b> <input type="text" id="fullName" />
</p>
<p>
<b>Start Date : </b> <input type="text" id="startDate" />
</p>
<p>
<b>End Date : </b> <input type="text" id="endDate" />
</p>
<input type="submit" value="Submit these values" id="submitBtn"/>
</div> 
```

请有人帮我解决这个问题。

所以最终我想要的是

*   用户应该能够选择“dd/MM/yyyy”格式的日期
*   和日期应该以相同的格式到达控制器。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-20T11:15:46.463

似乎这是 JSON 日期的典型问题。

假设您更改了日期选择器的日期格式，它错误地传入 Json，因此在 Web API 控制器中被错误地解析。因此，当您“默认”更改选择器中的日期格式时，一切正常。

看看关于这个问题的不错的博客文章

[http://www.hanselman.com/blog/OnTheNightmareThatIsJSONDatesPlusJSONNETAndASPNETWebAPI.aspx](http://www.hanselman.com/blog/OnTheNightmareThatIsJSONDatesPlusJSONNETAndASPNETWebAPI.aspx)

它应该有帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-05T04:21:16.830

将我的日期时间字段更改为字符串，然后将日期作为字符串发布到我的控制器。然后在控制器中将此字符串转换为日期使用`DateTime.Parse()`

# linux - 从特定文件的开头删除换行符

> ID：12986621
> 
> 赞同：0
> 
> 时间：2012-10-20T08:17:35.967
> 
> 标签：linux, shell, unix, sed

我需要从所有扩展名为 .php 或 .html 的文件的开头删除任何出现的换行符（Mac 上的回车符）。换行符之间没有其他字符，例如空格或任何其他字符*。*

例如（使用 /lf 作为换行的例子）：

```
/lf
/lf
<!doctype html> 
```

或者

```
/lf
<!doctype html> 
```

应减少到：

```
<!doctype html> 
```

我发现删除换行符的一种方法是：

```
tr -d '\012' 
```

但我不知道如何将其定位到特定文件，更不用说前几行了。

所以我有以下内容：

```
find . \( -name "*.php" -or -name "*.html" \) | xargs grep -l "\012" | xargs sed -i -e "s/\012//g" 
```

但这不会只针对前几行，我也不完全确定它是否正确地针对换行。

那么，有人有什么好主意吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-20T08:28:07.820

尝试：

```
sed -i '/./,$\!d' filename 
```

甚至从查找：

```
find . \( -name "*.php" -or -name "*.html" \) -exec sed -i '/./,$\!d' {} \; 
```

* * *

编辑：

`\`之前`!d`可能不需要，在我的 shell 中我需要转义它，因为 csh 一直认为我通过符号指的是以前的事件`!`。

* * *

编辑2：

所以`/./,$\!d`，有点，它看起来像胡言乱语，但这就是正在发生的事情。

1.  这里定义了 2 个地址，第一个是正则表达式`.`，它是任何不是空行的东西。因此，第一个地址是匹配的第一个非空行`/./`。
2.  然后我们有第二个地址，由 分隔`,`，它就是`$`文件的结尾。因此，我们通过 2 个地址定义的区域是第一个非空行，一直到文件末尾。
3.  我们将在此处使用 sed 的**删除**功能，该功能由`d`脚本中的最后一个表示。但是，通过使用`d`，我们将删除从第一个非空行到文件末尾的所有内容。
4.  最后，因为我们要删除我们想要的东西，所以我们`!`在命令前面使用一个右边`d`来告诉 sed，“好吧，做与我告诉你做的完全相反的事情”。因此，我们不是删除从第一个非空行到文件末尾的所有内容，而是完全相反，将第一个非空行保留到文件末尾，这具有删除所有文件开头的空白行。

使用`p`(print) 命令可能有某种方法可以做到这一点，这*有点像*delete 的反面，但实际上并不是那样的。我确信有一些方法可以使用`p`or来做到这一点`!p`。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-20T08:28:08.393

如果您安装了 Perl，那么它非常适合这种类型的处理。你可以做一个小“do .. until”循环，一旦找到包含非空白字符的行就退出。在我的头顶上：

```
do {

  s/^\s$//;

} until ( /^\S/ ); 
```

（但请先验证这些正则表达式是否按照您的要求执行！）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-20T08:29:26.523

利用：

```
 find /path/to/root/directory -type f -exec tr -d '\012' {} \; 
```

其中 /path/to/root/directory 是查找所有文件以删除所有出现的顶级路径。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-22T02:36:10.977

如果您知道换行符仅在前 10 行中，那么您可以更改 SED 命令，使其仅在前 10 行中运行。就是`1,10`下面这个。

```
xargs sed -i -e "1,10s/\012//g" 
```

# visual-studio-2010 - Nuget Powershell 和 Visual Studio 2010 或 2012 扩展之间是否有任何挂钩，以便我可以从我的扩展中发出 Powershell 命令

> ID：12986623
> 
> 赞同：3
> 
> 时间：2012-10-20T08:17:43.687
> 
> 标签：visual-studio-2010, powershell, nuget

假设我想在 Visual Studio 中构建一个自定义编辑器。假设它可以是一个可视化 XML 编辑器、一个带有复选框的分层树编辑器或一个 DSL 编辑器（带有工具箱和拖放操作）。完成后，我想右键单击设计器表面或某些按钮或工具栏图标或菜单项，并且我想在 Nuget powershell 控制台中执行一些 powershell commandlet（或函数）或 powershell 脚本。

如果它没有运行（我想它的 RunspaceInvoke 对象），我如何访问当前正在运行的控制台或按需调用它。我还希望根据我的设计器数据或 DSL 背后的对象模型导入一些模块并运行更多命令行开关。

那么 Nuget Powershell 和 VS 扩展（作为 VSIX）或加载项之间有什么钩子吗？

我可以获取 Nuget Powershell 控制台窗口并通过将命令文本复制到该窗口（如 SendKeys）发送命令吗？我更喜欢与通过执行命令接收的对象进行实时交互。

# eclipse-plugin - Eclipse插件开发：右键单击编辑器选项卡添加菜单

> ID：12986625
> 
> 赞同：2
> 
> 时间：2012-10-20T08:18:50.400
> 
> 标签：eclipse-plugin

当我们在 Eclipse 中 右键单击 JavaEditor 的**选项卡时，我们会得到三个选项**

```
1\. Close  
2\. Close Others  
3\. Close All 
```

我想添加一个额外的菜单，如下所示：

```
1\. Close  
2\. Close Others  
3\. Close All  
4\. Open File in Folder 
```

*经过我自己的研究，我能够在org.eclipse.ui*插件中找到执行这些操作的命令/处理程序。但我无法在任何地方查看菜单贡献。

具体来说，我的问题是：

1.  如何在弹出菜单中添加第四个菜单选项？
2.  当我右键单击选项卡时，实际显示这 3 个菜单的 menuContribution 在哪个插件中？

我在插件编辑器中附上了 closeOthers 命令的屏幕截图。希望它能让我的问题清楚。![在此处输入图像描述](../Images/2107647e6b15591c83ba5846234a1147.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-21T07:46:46.993

有一个关于此的错误：[Bug 103045](https://bugs.eclipse.org/bugs/show_bug.cgi?id=103045)。从错误的历史可以看出，它还没有被解决，但似乎有一个解决方法写在那里。祝你好运。

# google-analytics - 如何在 Google Analytics（分析）漏斗步骤中包含外部域

> ID：12986629
> 
> 赞同：1
> 
> 时间：2012-10-20T08:19:10.803
> 
> 标签：google-analytics

我想在目标漏斗步骤中包含一个外部域，我目前正在跟踪一个域。

外部域是我的购物车 = mycart

```
Goal url /mydomain/payment-complete

Step1 /mydomain/something
Step2 /mydomain/something-else
Step3 /mycart/checkout
step4 /mycart/complete 
```

我浏览了论坛，但对正确的方法有点困惑。

非常感谢

# apache - 多个 Apache 重写规则取决于域加上另一个 rewriteCond 中的 rewriteCond

> ID：12986636
> 
> 赞同：0
> 
> 时间：2012-10-20T08:19:50.437
> 
> 标签：apache, mod-rewrite

美好的一天，请帮助我，我一直在努力解决这个“简单”的 rewriteCond 这是我的原始代码：

```
######################################################################## Willowvine
RewriteCond %{HTTP_HOST} !^willowvine\.dev$

RewriteRule . - [S=1]

RewriteRule ^admin/(.*)$ admininistration/$1 [QSA,L]
######################################################################## EndRules

######################################################################## Dove Rules
RewriteCond %{HTTP_HOST} !^dove\.dev$

RewriteRule . - [S=2]

RewriteRule ^admin/(.*)$ admin_another/$1 [QSA,L] 
RewriteRule ^(.*)$ /client/recruiter/4021/$1 [QSA,L]
######################################################################## End Dove Rules 
```

我不断收到此错误：

> 由于可能的配置错误，请求超出了 10 个内部重定向的限制。如有必要，使用“LimitInternalRecursion”增加限制。使用“LogLevel debug”获取回溯。

基本上我想做的是这样做：

```
if ${HTTP_HOST} == 'willowvine.dev/'    rewriterule 1: admin/* goes to
administration/*   else if ${HTTP_HOST} == 'dove.dev'    rewriterule
1:  admin/* goes to admin_another      rewriterule 2: if((${HTTP_HOST}
+ ${HTTP_URI}) != 'dove.dev/admin') root folder must start from /path/to/folder/start/he 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-20T09:18:06.427

在第二条规则中添加一个附加条件以防止`^(.*)$`循环。您实际上可以合并而不是使用`S`标志来跳过：

```
######################################################################## Willowvine
RewriteCond %{HTTP_HOST} !^willowvine\.dev$
RewriteRule ^admin/(.*)$ admininistration/$1 [QSA,L]
######################################################################## EndRules

######################################################################## Dove Rules
RewriteCond %{HTTP_HOST} !^dove\.dev$
RewriteCond %{REQUEST_URI} !^/client/recruiter
RewriteRule ^(.*)$ /client/recruiter/4021/$1 [QSA,L]
######################################################################## End Dove Rules 
```

或者只保留你原来的：

```
######################################################################## Willowvine
RewriteCond %{HTTP_HOST} !^willowvine\.dev$

RewriteRule . - [S=1]

RewriteRule ^admin/(.*)$ admininistration/$1 [QSA,L]
######################################################################## EndRules

######################################################################## Dove Rules
RewriteCond %{HTTP_HOST} !^dove\.dev$

RewriteRule . - [S=2]

RewriteRule ^admin/(.*)$ admin_another/$1 [QSA,L] 

### add conditions here for URIs that you don't want the rule to get applied to
RewriteCond %{REQUEST_URI} !^/admin_recruiter
RewriteCond %{REQUEST_URI} !^/client/recruiter
RewriteRule ^(.*)$ /client/recruiter/4021/$1 [QSA,L]
######################################################################## End Dove Rules 
```

# javascript - 使用ajax追加时如何循环奇偶？

> ID：12986638
> 
> 赞同：0
> 
> 时间：2012-10-20T08:20:18.713
> 
> 标签：javascript, css, ruby-on-rails, ajax, append

我有一个页面，其中新创建的选项使用一些 ajax 代码附加到列表中，因此用户不必刷新整个页面。该列表包含 2 列，其中右侧的列必须有一个名为“结束”的 css 类，以确保它向右浮动并且右侧的填充也为零。

问题是，当添加一个新的选项时，如果循环功能应该工作，则呈现的部分将期望多个选项。

请在下面查看我的代码，如果您对如何更改代码有任何建议，请告诉我，以便部分插入正确的 css 类。

部分的：

```
<% @tickets.each do |choice| %>
    <div id="<%= choice.id %>" class="<%= cycle("ticket shadow", "ticket shadow ending") %>" data-time="<%= choice.created_at.to_i %>">
<% end %> 
```

视图中的 AJAX

```
<script type="text/javascript">
    var pusher = new Pusher('<%= Pusher.key %>'); // Replace with your app key
    var channel = pusher.subscribe('choices');

    channel.bind('created', function(data) {
        var after = $('.ticket:last').attr('data-time');

        var settings = { after: after}
        $.ajax({
            url: '/Home/Index',
            type: 'POST',
            dataType: 'json',
            data: settings,
            success: function (data) {
                $("#tickets").append(data.html);
                }
          });
        }

    );
</script> 
```

编辑：

我尝试了下面的方法，这似乎可行，但也似乎有点 hacky.. 有更流畅的解决方案的人吗？

```
if (css_end == "ticket shadow") {
  $(".ticket:last").addClass("ending");
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-20T08:22:46.213

根据您的目标浏览器集，我建议使用 CSS3 查询来定位其他所有元素。

```
.ticket:nth-child(2n+1) {
  float: right;
  padding-right: 0;
} 
```

这在 IE8 中不起作用，但几乎可以在所有其他主流浏览器中使用，并且您不必为元素编写特定的类来获得正确的行为。选择`nth-child`器将简单地应用于每个奇数元素。

# function - Clojure：如何将剩余的参数“& args”发送到列表中？

> ID：12986639
> 
> 赞同：2
> 
> 时间：2012-10-20T08:20:35.687
> 
> 标签：function, clojure, macros, expand, args

有没有（合理的）方法可以将此宏编写为函数？

```
(defmacro assocTop
          [v & args]
          `(push (pop ~v)
                 (assoc (peek ~v) ~@args))) 
```

给定地图向量和一些关联，宏代码将关联应用于顶部/窥视地图。

但是，当尝试将其编写为函数时，我无法弄清楚如何以`~@args`合法的方式扩展它。在正常功能中，有没有办法转换，`args`我相信它有形式，即没有括号？`(:a 3 :bb 44 :cd 90,...)``:a 3 :bb 44 :cd 90,...`

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-20T08:43:33.740

我想你应该使用[`apply`](http://www.clodoc.org/doc/clojure.core/apply)which will apply `assoc`to `(peek v)`and expand `args`。

```
(defn assocTop
  [v & args]
  (push (pop v)
        (apply assoc (peek v) args)))
(=
  (assocTop [{:a :b} {:c :d} {:e :f, :g :h}] :e :z)
  [{:a :b} {:c :d} {:g :h, :e :z}]) ; => true 
```

# php - Mysql自动增量重置自己？xamp

> ID：12986640
> 
> 赞同：0
> 
> 时间：2012-10-20T08:20:46.777
> 
> 标签：php, mysql, auto-increment

嘿家伙希望你能帮助我。

我使用 xamp 作为我的 php 开发环境，并且我意识到我的自动增量有时会重置/减少自己。

即，我知道我有一张大桌子，然后一两周前我删除了所有条目。今天，有了新条目，我检查了一下，第一个条目的 id 为 1，第二个的 id 为 2（从那以后只添加了两个）..

尽管我怀疑框架与此有关，但我使用的是 codeigniter。

想知道这是应该发生的事情，或者我是否应该感到安全，因为知道自动增量不会重置。我之所以问这个问题，是因为我计划在表变得太大时将数据存档到另一个表中，并且如果以后需要存档数据，请将其原样复制到新表中。如果由于自动增量重置而导致 id 已经存在，这显然是一个问题。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-20T08:26:22.280

这是某些存储引擎的正常行为。阅读文档，您会发现这是解释的。增量算法不会在某处存储计数器值。相反，它检查当前的最高值并增加该值以获得新值。

# android - 媒体扫描仪完成时避免吐司

> ID：12986641
> 
> 赞同：0
> 
> 时间：2012-10-20T08:20:48.923
> 
> 标签：android, android-mediascanner

在我的应用程序中，我有拍照和打开画廊观看它们的功能。当用户拍照时，它通过以下方式更新媒体：

```
sendBroadcast(new Intent(Intent.ACTION_MEDIA_MOUNTED,
   Uri.parse("file://" + Environment.getExternalStorageDirectory()))); 
```

但总是出现类似“媒体扫描完成”的信息。我想去掉这个吐司。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-20T08:39:36.067

无法取消另一个进程显示的 toast。您可以按照此[线程](https://stackoverflow.com/questions/5107823/force-scan-files-after-taking-photo?rq=1)强制媒体扫描而不使用广播

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-10T10:40:53.667

您可以使用`sendBroadcast`但仅用于特定文件（在您的情况下是在拍照后创建的文件）。这样你就不会吃到吐司了。

```
sendBroadcast(new Intent(Intent.ACTION_MEDIA_SCANNER_SCAN_FILE, Uri.fromFile(someFile))); 
```

# json - Symfony - 查询结果转换为 Json

> ID：12986643
> 
> 赞同：1
> 
> 时间：2012-10-20T08:20:56.573
> 
> 标签：json, extjs, calendar, extensible

我一直在网上搜索有关此问题的信息，但运气不佳。

我正在使用 symfony 从数据库中检索数据以加载到 extjs 库中。我的问题是加载数据时，出现错误**提示“Ext.Error：您正在尝试解码无效的 JSON 字符串”**

我正确查询了数据库，因为它返回了一组数据。我认为的问题是将数组转换为 json 格式。

这是调试我返回的 json 格式时显示的内容：

![返回 json 格式](../Images/f643084bf9cb861d7cd04ad9608f4039.png)

我的代码是：

```
 public function executeGetData(sfWebRequest $request)
  {
      $SQL = " SELECT sked.id, sked.program_id, sked.agentname,
            sked.customername, sked.customercontact, sked.callback_dt,
            sked.callback_dt AS date_closed
            FROM schedule sked LIMIT 5";

$Doctrine_Manager = Doctrine_Manager::getInstance()->getConnection('callback_tracker');
$result = $Doctrine_Manager->fetchAll($SQL);

$final = array("evts" => $result);

$finalJson = json_encode($final);
echo $finalJson; 
```

我的活动商店：

```
 var eventStores = Ext.create('Extensible.calendar.data.EventStore', {
//autoLoad: true,
id: 'calStore',
proxy: {
    type: 'rest',
    url: '/home/GetData',
    //appendId: false,
    method: 'POST',
    reader: {
    type: 'json',
    root: 'evts'
    },

    writer: {
    type: 'json',
    nameProperty: 'mapping'
    },

    listeners: {
    exception: function(proxy, response, operation, options){
        var msg = response.message ? response.message : Ext.decode(response.responseText).message;
        // ideally an app would provide a less intrusive message display
        Ext.Msg.alert('Server Error', msg);
    }
    }
},

listeners: {
    'write': function(store, operation){
    var title = Ext.value(operation.records[0].data[Extensible.calendar.data.EventMappings.Title.name], '(No title)');

    console.debug('Operation Action = ' + operation.action);
    switch(operation.action){
        case 'create': 
        //Extensible.example.msg('Add', 'Added "' + title + '"');
        break;
        case 'update':
        //Extensible.example.msg('Update', 'Updated "' + title + '"');
        break;
        case 'destroy':
           //Extensible.example.msg('Delete', 'Deleted "' + title + '"');
        break;
    }
    }
}
}); 
```

我在 Calendar.BTW 的渲染之后加载它，我使用的库是可扩展日历。

这里有什么问题？是json格式吗？你如何转换这个？

# c++ - 删除记录集时应该首选的 STL Vector 和 Map

> ID：12986644
> 
> 赞同：-1
> 
> 时间：2012-10-20T08:21:13.000
> 
> 标签：c++, visual-c++, stl

在 STL 中，哪个是更好的 Map 或 Vector。假设我有一组需要删除的记录，那么我应该更喜欢什么 - std::map 或 std::vector。为什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-20T08:35:12.733

如果您没有键值对之类的东西并且只有您拥有的值，您可能应该考虑使用 Set 而不是 Map。我假设这是因为您在谈论使用矢量

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-20T08:27:37.307

如果您需要以不可预知的顺序添加和删除许多记录，则映射或集合可能会执行得更好。这是因为删除一个条目只需要与映射或集合的大小成正比的对数时间，而从向量中删除一个条目所花费的时间与向量的大小成正比。unordered_map / unordered_set 可能会更好——删除记录的成本通常是恒定的。

背景：

*   vector 是一个数组，因此如果删除单个元素，则所有其他元素都需要向左移动一个。
*   map 和 set 是红黑树（[http://en.wikipedia.org/wiki/Red-black_tree](http://en.wikipedia.org/wiki/Red-black_tree)）
*   unordered_map 和 unordered_set 是哈希表（[http://en.wikipedia.org/wiki/Hash_table](http://en.wikipedia.org/wiki/Hash_table)）

# cordova - phoneGap 启动 - 我们需要所有这些文件吗？

> ID：12986645
> 
> 赞同：20
> 
> 时间：2012-10-20T08:21:13.573
> 
> 标签：cordova

好吧，我刚刚开始使用 phoneGap for iOS，我注意到 www 目录中有很多文件，例如

```
spec/helper.js
spec/index.js
jasmine
cordova.js
etc. 
```

是否真的需要所有这些东西才能使其全部正常工作？另外，我在“index.js”中注意到，在文件的开头，它正在创建一个应用程序对象：

```
var app = { ... }; 
```

并将所有代码放入其中；

这也是绑定事件所必需的吗？喜欢 deviceready 还是其他？

提前致谢。

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2013-01-15T23:55:00.797

cordova js 是唯一需要的 js 文件。这是在您运行 phonegap 创建脚本时自动生成的。

index.js 包含有关如何绑定到 deviceready 事件的示例代码。它可以作为您的 js 代码的开始。

spec 文件夹和 spec.html 用于使用[Jasmine](http://jasmine.github.io/)进行 javascript 测试，Jasmine是 Javascript 的 BDD 测试框架。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-04-22T07:53:41.053

即使 cordova js 是唯一需要的 js 文件，您也可能不会使用它包含的某些功能。

事实上，在您的项目中的某处，您有一个配置 xml 文件，其中包含您的应用程序使用的所有插件（此文件的位置取决于您的项目平台）。如果您想拥有更高性能的应用程序，请检查此文件并删除所有未使用的插件。之后，您可以删除cordova js 文件中的相关函数（该文件将本机代码中的插件与javascript 接口）。

例如，如果您不想使用设备的指南针功能，请从 config xml 文件中删除相应的插件以及cordova js 文件中与指南针相关的所有功能（执行此操作通常保存文件并测试你的项目来检查你是否没有插入一些语法错误）。

我给你发了一篇法语博客文章，它提供了一些关于 phonegap 性能的其他好的建议。也许你可以用谷歌翻译来阅读这篇文章……

[http://blog.workinday.com/application_smartphone/184-comment-ameliorer-les-performances-de-son-application-phonegap.html](http://blog.workinday.com/application_smartphone/184-comment-ameliorer-les-performances-de-son-application-phonegap.html)

希望这可以帮助 ！再见 ！

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-10-20T15:57:44.187

不，您不需要所有这些文件。
实际上，您需要的唯一文件是 cordova.js。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-10-22T11:16:32.563

规范/helper.js 规范/index.js 茉莉花

如果您想将您的应用程序保持在行为驱动开发中，您确实需要这些文件。这些基本上是用于单元测试的。

Cordova.js/Phonegap.js 是使您的应用程序“Phonegapifiable”的脚本。在您的 webapp 上添加额外的东西，以便可以将其部署为应用程序。

# mysql - Postgres 等效于 MySQL 的 BENCHMARK() 函数

> ID：12986656
> 
> 赞同：1
> 
> 时间：2012-10-20T08:23:32.187
> 
> 标签：mysql, performance, postgresql, database-performance, postgresql-performance

我正在使用 Postgresql。我想测试一个函数执行需要多少时间。由于该函数只需要几毫秒，我想在循环中调用它 1000 次以获得准确的数字。

MySQL 有一个 BENCHMARK() 函数来执行此操作。是否有等价物或者我必须编写一个带有循环的程序才能做到这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-20T16:24:06.133

在 PostgreSQL 中，您通常使用以下方法执行此操作`generate_series`：

```
SELECT my_function()
FROM generate_series(1,5000); 
```

或者

```
SELECT (SELECT my_query ....)
FROM generate_series(1,5000); 
```

在后一种情况下，您可以添加`OFFSET 0`到子查询或将其包装在`STRICT`SQL 函数中，以防止查询计划器提取常见条件和子条款，否则会变得聪明。

可以使用 psql 的`\timing`命令 with`SET log_duration = on`或 with来获得`EXPLAIN (ANALYZE, BUFFERS)`时间，所有这些时间都略有不同 - 请参阅文档。简而言之，`\timing`衡量时间，包括往返和向客户的价值转移。`log_duration`测量服务器端执行时间。`EXPLAIN (ANALYZE, BUFFERS)`测量语句执行的细节，但增加了可能会减慢它的时间开销。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-20T09:15:27.147

编写一个带循环的程序 - 不应超过 5 分钟。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2021-04-04T14:12:12.633

```
CREATE OR REPLACE FUNCTION benchmark(loop_count int,
                                     sql_expr text, -- SQL expression
                                     is_cache_plan boolean default true) returns interval
    immutable
    strict
    parallel safe -- Postgres 10 or later
    language plpgsql
AS
$$
BEGIN

    if is_cache_plan then
        EXECUTE 'select ($1) from generate_series(1, $2)' using sql_expr, loop_count;
    else
        FOR i IN 1..loop_count LOOP
            EXECUTE 'select ($1)' using sql_expr;
        END LOOP;
    end if;

    RETURN clock_timestamp() - now();
END
$$;

-- TESTS (parse URL)

select benchmark(
    500000,
    $$substring(format('https://www.domain%s.com/?aaa=1111&b[2]=3#test', (random()*1000)::int::text) from '^[^:]+://([^/]+)')$$,
    true);
-- 0 years 0 mons 0 days 0 hours 0 mins 0.300638 secs

select benchmark(
    500000,
    $$substring(format('https://www.domain%s.com/?aaa=1111&b[2]=3#test', (random()*1000)::int::text) from '^[^:]+://([^/]+)')$$,
    false);
-- 0 years 0 mons 0 days 0 hours 0 mins 6.735336 secs

-- TESTS (generate UUID)

SELECT benchmark(1000000, $$uuid_in(overlay(overlay(md5(random()::text || ':' || clock_timestamp()::text) placing '4' from 13) placing to_hex(floor(random()*(11-8+1) + 8)::int)::text from 17)::cstring)$$);
-- 0 years 0 mons 0 days 0 hours 0 mins 0.644648 secs

SELECT benchmark(1000000, $$md5(random()::text || clock_timestamp()::text)::uuid$$);
-- 0 years 0 mons 0 days 0 hours 0 mins 0.449026 secs

SELECT benchmark(1000000, $$gen_random_uuid()$$);
-- 0 years 0 mons 0 days 0 hours 0 mins 0.438084 secs 
```

# c++ - Mandelbrot设置缩放

> ID：12986659
> 
> 赞同：1
> 
> 时间：2012-10-20T08:23:55.253
> 
> 标签：c++, mandelbrot

我是 C++ 编程的新手，为了改进，我正在尝试制作一个 mandelbrot set consol 应用程序。我已经让它几乎完美地工作：图像生成，我可以放大/缩小，并且非常容易移动。但是，我遇到的问题是，当我开始放大图像的边缘时，边缘将开始“被切断”

图片缩小：

![http://i.imgur.com/Fy70o.png](../Images/ffa53711ff5f786fcce8591be4855f62.png)

图片放大了一点——你可以看到最后一个“圆圈”被切掉了一半：

![http://i.imgur.com/1nlVP.png](../Images/05025577fc602f8276a3a3ef89f74101.png)

最后，放大一个时间，整个最后一个“圆圈”已经被完全切掉：

![http://i.imgur.com/lao8j.png](../Images/cae8fd19a4eda4aead8578a375315aac.png)

如果我继续放大，那么大圆圈的边缘也会开始被切掉。我不完全理解为什么会发生这种情况，但我的猜测是我的缩放方法在某种程度上是罪魁祸首。

这是算法计算函数的源代码（我猜错误是）：

```
int fractalCalc(double x0, double y0, double zoom)
{
    double x = 0;
    double y = 0;

    int iteration = 0;
    int max_iteration = 1000; //1000

    double xtemp;
    while (x*x + y*y < 2*2 && iteration < max_iteration) //x*x + y*y < 2*2 && iteration < max_iteration
    {
        xtemp = x*x - y*y + x0;
        y = 2*x*y + y0;
        y /= zoom;
        x = xtemp;
        x /= zoom;
        iteration++;
    }

    return iteration;
} 
```

对于整个源代码，请转到（因为我的预测很可能是错误的）： http: [//pastebin.com/WhbS0WYE](http://pastebin.com/WhbS0WYE)

欢迎任何建议和/或帮助。先感谢您！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-20T08:27:58.723

我没有仔细计算过，但我怀疑这是由于您处理缩放的方式。我建议*不要*在处理实际 Mandelbrot 深度计算的代码中这样做。

相反，使用缩放来选择从中选择样本的“视口”。计算出要采样的坐标，然后编写`fractalCalc`函数来计算特定点的深度*。*该功能不需要知道您正在显示的任何内容。

除此之外，这种关注点的分离（视口与分形部分）将使推理和调试变得更容易。这也意味着您每次迭代所做的计算更少，这应该会导致更少的浮点不准确性。

# iphone - 如何在导航堆栈中的视图控制器一侧设置字符串对象的值？

> ID：12986660
> 
> 赞同：0
> 
> 时间：2012-10-20T08:23:59.447
> 
> 标签：iphone, ios, ipad

我有一个应用程序，其中有视图控制器数组，现在我想弹出到特定的 vie 控制器。我还需要将该视图控制器内的字符串对象的值设置为 nil。我正在这样做，但是如何在该视图控制器中设置字符串值是我的瓶颈吗？有人可以帮我吗？

```
NSArray *array1 = [self.navigationController viewControllers];
NSLog(@"%@beforelogout",[self.navigationController viewControllers]);
[self.navigationController popToViewController:[array1 objectAtIndex:1] animated:YES]; 
```

` 我需要在 [array1 objectAtIndex:0] 中设置字符串。？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-20T08:30:36.037

首先，您`[array1 objectAtIndex:0]`只是您的导航控制器根视图。你可以这样做：

```
RootViewController *rootView = (RootViewController*)[self.navigationController.viewControllers objectAtIndex:0];
rootView.yourProperty = nil;
[self.navigationController popToRootViewControllerAnimated:YES]; 
```

将“RootViewController”更改为您的根视图的自制类。

# java - 字符串操作还是递归函数？

> ID：12986661
> 
> 赞同：5
> 
> 时间：2012-10-20T08:24:06.213
> 
> 标签：java, string, design-patterns, stack, composite

我正在用 Java 编写 HTML 编辑器。我希望它支持自动缩进。我实现了一个复合模式来表示当前正在编辑的文件中的 HTML 标记对象。例如，这段代码：

`<table> <tr> <th>Col1</th> <th>Col2</th> </tr> <tr> <td>Data1</td> <td>Data2</td> </tr> </table>`

将导致复合材料中的这种结构表示：

*   表 -> tr（第一），tr（第二）
*   tr(first) -> th(Col1), th(Col2)
*   tr(秒) -> td(Data1), td(Data2)

其中 x -> y, z 表示 x 是 y 和 z 的父级。

我在这里有两个选择：

1.  创建一个递归函数以返回包含缩进的字符串。
2.  创建一个递归函数，它只返回当前 HTML 代码的非格式化字符串，然后添加缩进。

做第一个很容易；但是，如果用户更改了模式，我发现很难继续按照用户的缩进模式自动缩进。因此，我认为选项 2 更可取。如果我能让它正常工作，我觉得这也可能更具动态性。问题是，我不太确定如何操作字符串。

我的想法是我可以以某种方式使用堆栈。我可以将一个打开的标签推到它上面，并在它关闭时将其弹出。堆栈上的标签数量将决定我需要在新行的下一个标签之前缩进的次数。我可以改用整数，但同样的概念也适用。问题是我不知道如何遍历字符串中的标签以便我可以操作它。

那么，有没有办法按照我描述的方式进行字符串操作？还是使用递归函数更好？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-20T09:12:12.233

鉴于您的问题如此清晰，我认为您是回答它的最佳人选，您只需要更多信息。

要提供该信息，这可能会有所帮助：

1.  考虑文本的整个生命周期。您将需要对击键等做出反应。然后将模型和表示清楚地分开比操纵填充字符串要好得多。另一个好处是您可以选择相对独立于模型的现有文本编辑组件

2.  考虑示例：富文本编辑器、jEdit 等开源软件等。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-20T09:14:57.463

对于 XHTML，使用 XSLT 和 XSL 样式表可以很容易地完成这项工作。

# asp.net - 如何在 roleManager ASP.NET 中读取加密的连接字符串

> ID：12986663
> 
> 赞同：4
> 
> 时间：2012-10-20T08:24:32.560
> 
> 标签：asp.net, encryption, web-config

请帮助，我不知道如何在 ASP.NET 中**使用加密的 ConnectionString 和 RoleManager**这是 Web.config 中的代码。

```
<connectionStrings>
    <add name="strConnectionString" connectionString="eF8w9r2UJOsk0Ps3pxmV7/Fy/xPR2hN2S7BrC1iOYNnAUaI8AqkSm5bw7r+ta4sePWSV9t/3Spnpz6wsFpvMmcppNpqM5Zk7iiDqWVgIV4k="/>    
</connectionStrings>

<roleManager enabled="true" defaultProvider="CustomizedRoleProvider">
  <providers>
    <add connectionStringName="strConnectionString" name="CustomizedRoleProvider" type="System.Web.Security.SqlRoleProvider" />
  </providers>
</roleManager>   
<membership defaultProvider="CustomizedMembershipProvider">
  <providers>
    <add connectionStringName="strConnectionString" name="CustomizedMembershipProvider" type="System.Web.Security.SqlMembershipProvider"/>
  </providers>
</membership> 
```

在项目中，我创建了一个库来读取网络配置

```
private const string ConnectionStringKey = "strConnectionString";
private readonly string SQLConnectionString =
   Security.DecryptString(ConfigurationManager.ConnectionStrings[ConnectionStringKey].ConnectionString); 
```

如果我像这样更改我的 ConnectionString，**它正在工作**：

```
 <add name="strConnectionString" connectionString="server=My-PC\\MSSQL2008; database=MyDB; uid=sa; pwd=passw0rd;"/> 
```

但我希望我的 ConnectionString 加密所以我使用

```
<add name="strConnectionString" connectionString="eF8w9r2UJOsk0Ps3pxmV7/Fy/xPR2hN2S7BrC1iOYNnAUaI8AqkSm5bw7r+ta4sePWSV9t/3Spnpz6wsFpvMmcppNpqM5Zk7iiDqWVgIV4k="/> 
```

所以当我运行网站时，它会抛出错误：

```
System.ArgumentException:Keyword not supported: 'eF8w9r2UJOsk0Ps3pxmV7/Fy/xPR2hN2S7BrC1iOYNnAUaI8AqkSm5bw7r+ta4sePWSV9t/3Spnpz6wsFpvMmcppNpqM5Zk7iiDqWVgIV4k='.
Line 46:   string[] roleNames;
Line 47:   roleNames = Roles.GetAllRoles(); 
```

任何人帮助我找出它或任何建议？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-22T23:46:04.810

为什么不只使用[受保护的配置](http://msdn.microsoft.com/en-us/library/53tyfkaw%28v=vs.100%29.aspx)？它是为您内置的。

如果您真的想使用自己的，您是如何创建加密字符串的？[我假设您正在使用像这样](http://www.java2s.com/Code/CSharp/Security/EncryptandDecryptString.htm)的第三方库，因为 System.Security 命名空间中不存在该方法。我的猜测是您以提供密钥的方式对其进行了加密，但是在解密时，您没有使用相同的密钥，或者 Decrypt 方法被破坏了。如果不了解更多关于图书馆的信息，真的很难说。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-23T06:42:55.573

@SilverbackNet：是的，看起来和你说的一样，在库中我有一个具有加密和解密方法的类安全性。当连接到数据库时，我使用我的 SQLHelper 获取配置值并解密它。所有项目工作都没有问题。但是当我使用 Role 和 Membership 时，我发现不能使用默认配置 RoleManager 和 Membership，正如你所说的 System.Security 命名空间中不存在读取 ConnectionString Encrypted 的方法。所以我应该用另一种方法来重新创建 RoleProvider 和 MembershipProvider 覆盖所有方法。在`Web.config`将是这样的变化：

```
namespace Library.Roles
{
  public class MyRoleProvider : RoleProvider
  {
     //code override all method in Roles
  }
}

namespace Library.Membership
{
  public class MyMembershipProvider : MembershipProvider
  {
     //code override all method in MembershipProvider
  }
} 
```

网络配置

```
 <roleManager enabled="true" defaultProvider="MyRoleProvider">
      <providers>
        <add connectionStringName="strConnectionString" name="MyRoleProvider" type="Library.Roles.MyRoleProvider" />
      </providers>
    </roleManager>   
    <membership defaultProvider="MyMembershipProvider">
      <providers>
        <add connectionStringName="strConnectionString" name="MyMembershipProvider" type="Library.Membership.MyMembershipProvider"/>
      </providers>
    </membership> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-23T00:33:29.673

我不确定这与您使用 Roles Membership 提供程序的事实有关。

[`ConnectionStringSettings`](http://msdn.microsoft.com/en-us/library/system.configuration.connectionstringsettings_members%28v=vs.90%29.aspx)您在解密值之前要求一个对象；

```
ConfigurationManager.ConnectionStrings[ConnectionStringKey].ConnectionString 
```

该代码试图自动解析它通常会在未加密的连接字符串中找到的关键字对。您遇到的错误是它无法识别关键字，因为您的加密版本没有任何关键字对。

您需要获取配置值，对其进行解密，然后创建`ConnectionStringSettings`它所代表的对象。然后，您可以从中访问该`ConnectionString`属性。

假设您的解密方法可以访问必要的加密密钥，请尝试这样的操作；

```
 string ConnectionStringKey = "strConnectionString";
  string encryptedConnection = ConfigurationManager.ConnectionStrings[ConnectionStringKey].ToString();
  string unencryptedConnection = Security.DecryptString(encryptedConnection);

  ConnectionStringSettings connection = new ConnectionStringSettings("SQL", unencryptedConnection);
  string SQLConnectionString = connection.ConnectionString; 
```

您可能应该将其包装在一些异常处理中，但我希望您明白这一点。

# c# - C#如何从带有循环的richtextbox中的第0行开始

> ID：12986666
> 
> 赞同：0
> 
> 时间：2012-10-20T08:25:48.520
> 
> 标签：c#, .net, winforms

好的，我的问题对你们中的一些人来说可能很简单，但我想不通。所以假设我有

```
String.Split( ); 
```

我将它添加到数组中，然后如果我想打印我使用的数组的内容

```
foreach (string s in splitarray)
{
  Richtextbox1.Text = Richtextbox1.Text + s;
} 
```

这样我就保留了旧内容并将新内容打印在上面。但我的问题是它从 Line[1] 开始，因为看起来文本框已经插入了一个空行。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-20T08:30:06.667

你将拥有`space in first element of splitarray`. 如果它是空字符串，您可以跳过零索引处的元素，以避免 Richtextbox1 中的第一个空行。

```
foreach (int i = 0; i < splitarray.Length; i++)
{
  if(i == 0 && splitarray[i].Trim() != String.Empty)
     Richtextbox1.Text = Richtextbox1.Text + s;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-20T08:32:23.937

```
foreach (string s in splitarray)
{
  if(Richtextbox1.Text.Trim() == string.Empty)//Checking for first Array Item
  {
   Richtextbox1.Text =  s;
  }
  else
  {
   Richtextbox1.Text = Richtextbox1.Text + s;
  }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-20T08:28:50.017

试试这个 ：

```
 for(int i = 0; i < splitarray.Length; i++)
{
Richtextbox1.Text = Richtextbox1.Text + splitarray[i];
} 
```

# c++ - 如何计算C中结构的大小？

> ID：12986667
> 
> 赞同：1
> 
> 时间：2012-10-20T08:25:49.320
> 
> 标签：c++, c, struct

我有以下结构

```
struct node{
    int value;
    struct node *next;
    struct node *prev;
}; 
```

而且我认为大小必须大于 sizeof(integer)。

但是如何计算这个结构的整体大小令人困惑。

那么如何计算尺寸呢？

我的意思是我想手动计算它，而不是通过计算机......

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-20T08:31:20.877

大小至少是`sizeof(int) + sizeof(struct node *) + sizeof(struct node *)`. 但它可能更多，因为编译器可以根据需要向您的结构添加*填充字节。*

有多大`sizeof(int)`和`sizeof(struct node*)`有多大取决于您的系统。如果您有一个 32 位系统，它们可能每个是 4 个字节，或者如果您有一个 64 位系统，它们可能是 8 个字节。但真正确定的唯一方法是使用编译器打印出大小。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-10-20T08:37:35.737

如果您谈论的是 32 位应用程序，那么整数和指针都是 4 个字节。因此，您的结构大小为 12 个字节。

```
struct node{
    int value;         // 0x0 - 0x4
    struct node *next; // 0x4 - 0x8
    struct node *prev; // 0x8 - 0xC
}; 
```

集会：

```
struct [0xDEADBEEF] {
    int 0x0;
    struct node *0x4;
    struct node *0x8;
}; 
```

**旁注**在 [[0xDEADBEEF]+0x0] 上读取的内存指针将返回 node->value 的当前值，依此类推。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-10-20T08:26:20.317

`sizeof (struct node)`是结构的字节大小。

它相当于：

```
=    sizeof (int)
  +  potential unnamed padding1
  +  sizeof (struct node *)
  +  potential unnamed padding2
  +  sizeof (struct node *)
  +  potential unnamed padding3 
```

成员之间和结构末尾的填充大小由实现定义。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-10-20T08:33:49.287

通常，结构的大小是每个成员字段的大小相加。但是编译器可能会适当地为填充/对齐成员添加一些额外的字节。

所以在你的情况下，

```
sizeof(struct node) = sizeof(int) + sizeof(struct node *) + sizeof(struct node *)
                 12 = 4 + 4 + 4  (on 32-bit)
                 20 = 4 + 8 + 8  (on 64-bit) 
```

这是一般指南，可能会因您选择的编译器/平台而异。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-10-20T08:30:59.970

您无法手动计算确切的尺寸。你能想到的是，它至少是其成员大小的总和。

`sizeof(int) + 2 * sizeof(struct node *)`即在这种情况下，无论您的系统上的这些大小如何，它至少是。

[由于填充](http://c-faq.com/struct/endpad.html)，[对齐](http://c-faq.com/struct/padding.html)，它可能大于这个最小尺寸。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-10-20T09:46:22.787

c++：正确的方法是为`int plain_size()`您需要的每个结构初始化方法。

```
struct anotherstruct {
  ...
  static int plain_size(){...};
}

struct struct1 {
  int a;
  int b;
  anotherstruct c;

  static int plain_size() {
    return sizeof(a)+sizeof(b)+anotherstruct::plain_size();
  }
} 
```

请记住，此大小可能不等于为结构分配的内存大小

# c++ - WinAPI 线程池

> ID：12986673
> 
> 赞同：0
> 
> 时间：2012-10-20T08:27:19.553
> 
> 标签：c++, winapi

我在 google 中搜索过，但找不到如何将自己的函数添加到 Threadpool。我有一个带有签名的功能`void MyFunction(void *param);`。我如何创建线程池并添加此函数以进行异步执行。我知道存在`TrySubmitThreadpoolCallback()`功能，但我不明白如何使用它。我会很高兴看到简单的例子。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-20T08:42:59.050

为了能够使用`TrySubmitThreadpoolCallback`，您应该将函数的签名更改为

```
void CALLBACK MyFunction( PTP_CALLBACK_INSTANCE Instance, void* Context ); 
```

然后你可以毫无问题地使用它。请记住，在 Windows 中，大多数回调应该`CALLBACK`在其定义中包含 ，因为 C 中的默认调用约定是，`__cdecl`但在 Windows API 中通常是`__stdcall`（阅读它`CALLBACK`）。

# php - 2结账测试支付模拟

> ID：12986677
> 
> 赞同：4
> 
> 时间：2012-10-20T08:28:05.103
> 
> 标签：php, payment-gateway, payment, 2checkout

在我的一个**php**应用程序中，**我正在寻找有关如何使用[https://www.2checkout.com/](https://www.2checkout.com/)模拟测试付款的帮助。** 我有**使用开发人员帐户对 Paypal 沙盒进行**测试付款的经验。但在这里 2checkout 我无法弄清楚。

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-10-22T01:56:46.407

使用 2Checkout，您可以通过在 2Checkout 帐户的站点管理页面上将您的模拟帐户设置更改为“开”来进行模拟销售。设置完成后，您将在结帐页面顶部看到一条消息，说明这是一个演示销售。如果您的帐户当前用于实时销售，您可以通过将您的模拟帐户设置更改为“参数”来进行模拟销售，然后传入一个值为“Y”的附加“演示”参数。这样您的现场销售就不会中断。

例子：

[https://www.2checkout.com/checkout/spurchase?sid=1303908&mode=2CO&li_0_type=product&li_0_price=1.00&li_0_quantity=1&li_0_name=Example+Product+Name&demo=Y](https://www.2checkout.com/checkout/spurchase?sid=1303908&mode=2CO&li_0_type=product&li_0_price=1.00&li_0_quantity=1&li_0_name=Example+Product+Name&demo=Y)

您应该注意，在进行演示销售时，2Checkout 返回的 MD5 哈希值通过计算订单号为 1 的哈希值被故意破坏，因此如果您检查哈希值，您的返回脚本需要处理此更改。

例子：

```
<?php

if ($_REQUEST['demo'] == 'Y') 
{
    $order_number = 1;
}
else
{
    $order_number = $_REQUEST['order_number'];
}

$compare_string = $_REQUEST['secret_word'] . $_REQUEST['sid'] . $order_number . $_REQUEST['total'];
$compare_hash1 = strtoupper(md5($compare_string));
$compare_hash2 = $_REQUEST['key'];

if ($compare_hash1 != $compare_hash2)
{
    echo "Hash Mismatch";
}
else
{
    echo "Hash Matched";
} 
```

INS 消息不会在演示销售中发送，因此如果您还使用即时通知服务 (INS)，您可以使用[INS 测试工具](http://developers.2checkout.com/inss)来模拟您正在收听的 INS 消息。

如果您在测试集成方面需要帮助，请随时联系 techsupport@2checkout.com。

# html - 另一种不使用br的css换行方式？

> ID：12986681
> 
> 赞同：0
> 
> 时间：2012-10-20T08:28:26.727
> 
> 标签：html, css

```
<div class="HL_iconCont">
    <ul id="dates">
        <li>
            <a href="#HomeworkHelp">
                <div class="topicIconCont homework_1"><br />
                    Homework Help
                </div>
            </a>
        </li>
        <li>
            <a href="#Accounting">
                <div class="topicIconCont homework_2">Accounting<br />
                    Homework Help
                </div>
            </a>
        </li>
        <li>
            <a href="#Economics">
                <div class="topicIconCont homework_3"> Economics <br />
                    Homework Help 
                </div>
            </a>
        </li>
    </ul>
</div> 
```

我有一个`<div>`名称`topicIconCont`，它与它的`width:auto;`in`<li>`标签重复。我还为每个`<li>`标签使用了多个类，因为它包含不同的图标图像。现在我想打破`<div>`图标图像下方写的句子，我不能在中间使用`<br>`,`<span>`或`<p>`标记，因为该行将直接来自数据库。

例如：在代码中 -

```
Accounting<br />
                Homework Help 
```

有什么方法可以在不使用`<br>`标签的情况下破坏会计？我可以通过css管理这个吗？尽管我尝试`word break`了财产，但它仍然无法正常工作。我也无法固定它的宽度，因为它在重复并且内容可能会有所不同。请尽快提出任何替代方案，我该如何解决？

问候，

尼迪

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-20T08:33:56.707

首先，像块级元素这样`<div>`的内联元素在`<a>`. 使用跨度或类似的内联。

其次，只需使用 CSS 在 div 上设置 padding-top，以便内容从 div 的顶部开始任意数量的方式，让您的图标很好地显示。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-20T09:10:01.650

使用此属性`white-space: normal !important`和适当的 div 宽度。如果不使用分隔元素之一（span、div、..），就不能在*CSS中打断文本。*或者您可以使用 Javascript --- 在 text 末尾使用特殊字符（@,*,..），找到它并中断文本。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-20T09:56:10.437

你试过[这个](https://stackoverflow.com/questions/10996237/what-is-the-alternative-to-br-if-i-want-to-control-the-height-between-lines)吗？

```
<p>Line1</p>
<p>Line2</p> 
```

# objective-c - 如何在 Xcode 中为 progressBar 创建平滑动画

> ID：12986683
> 
> 赞同：0
> 
> 时间：2012-10-20T08:28:46.630
> 
> 标签：objective-c, ios, xcode

我正在尝试为progressView 增量制作平滑动画。我正在为 iOS5 开发。到目前为止，这是我的代码。

```
dispatch_async(dispatch_get_main_queue(), ^{        
     [energyProgress setProgress:0.72 animated:YES];
} 
```

此动画无法正常工作。energyProgress 被定义为 UIProgressView。有任何想法吗？谢谢！！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-20T08:49:24.467

看看这些开源控件，它们可能会对您有所帮助：

*   [适用于 iOS 的 ADVProgressBar](http://www.cocoacontrols.com/platforms/ios/controls/advprogressbar)
*   [适用于 iOS 的 AJProgressPanel](http://www.cocoacontrols.com/platforms/ios/controls/ajprogresspanel)
*   [适用于 iOS 的 DDProgressView](http://www.cocoacontrols.com/platforms/ios/controls/ddprogressview)
*   [适用于 iOS 的 PDColoredProgressview](http://www.cocoacontrols.com/platforms/ios/controls/pdcoloredprogressview)

# java - 我可以知道文件是否是文件夹吗？

> ID：12986686
> 
> 赞同：0
> 
> 时间：2012-10-20T08:29:18.880
> 
> 标签：java, file, bufferedreader, filenotfoundexception

我有一个字符串数组，其中包含路径的文件（文件和文件夹）列表：

```
File directory = new File(path);
String[] fileNames = directory.list(); 
```

当我尝试读取文件内容时：

```
for (int i = 0; i < fileNames.length; i++) {
    try {
        BufferedReader br = new BufferedReader(new InputStreamReader(
           new FileInputStream(path + "\\" + fileNames[i]), "UTF-8")); 
```

如果文件是文件夹，我会收到 FileNotFoundException。我以前怎么知道文件名是否属于文件夹。也许是文件的大小？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-20T08:30:08.707

您可以使用[`File#isDirectory`](http://docs.oracle.com/javase/7/docs/api/java/io/File.html#isDirectory%28%29)方法来测试 a 是否`file`为`directory`.

```
File file = new File("test");
System.out.println(file.isDirectory()); 
```

或者，您可以改用[`File#listFiles`](http://docs.oracle.com/javase/7/docs/api/java/io/File.html#listFiles%28%29)方法。它只返回`files`目录内部。这样，您就不必检查您的是否`file`是 a `directory`。

```
File directory = new File(path);
String[] fileNames = directory.listFiles(); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-20T08:30:07.977

`file.isDirectory()`就是你要找的。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-20T08:31:42.367

您可以使用类的[isDirectory() 方法](http://docs.oracle.com/javase/1.4.2/docs/api/java/io/File.html#isDirectory%28%29)`File`

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-10-20T08:35:55.823

您可以像这样使用您的代码

```
for (int i = 0; i < fileNames.length; i++) {
        if(fileNames[i].isFile()){
        BufferedReader br = new BufferedReader(new InputStreamReader(
           new FileInputStream(path + "\\" + fileNames[i]), "UTF-8"));
}
} 
```

# postgresql - 插入时出现 Postgres 错误 - PG::Error: ERROR: invalid byte sequence for encoding "UTF8": 0xe073

> ID：12986691
> 
> 赞同：0
> 
> 时间：2012-10-20T08:30:06.173
> 
> 标签：postgresql, ruby-on-rails-3.2

将数据从 mysql 插入 postgres 时出现以下错误。

```
PG::Error: ERROR:  invalid byte sequence for encoding "UTF8": 0xe073
: INSERT INTO "places" ("accent_city", "city", "country", "created_at", "latitude", "longitude", "region", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id" 
```

我想将此文件[worldcitiespop.txt](http://www.maxmind.com/en/worldcities)作为 rake 任务插入到我的 PG 数据库中

```
namespace :places_db do
    desc "save cities in database"
    task save_places: :environment do
        File.open("lib/city_name/worldcitiespop.txt", "r").each_line do |row|
            row = row.force_encoding('ISO-8859-1').split(',')
            Place.create(country: row[0], city: row[1], accent_city: row[2], region: row[3], latitude: row[5], longitude: row[6])
        end 
    end
end 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-20T11:08:00.750

由于文件使用 ISO-8859-1 编码，最简单的方法是让数据库在导入前发出以下 SQL 查询来进行转换：

```
SET client_encoding=latin1; 
```

要在导入后返回之前的编码：

```
SET client_encoding=default; 
```

此设置仅影响当前会话。

# sencha-touch-2 - 煎茶触摸协会

> ID：12986700
> 
> 赞同：0
> 
> 时间：2012-10-20T08:31:14.893
> 
> 标签：sencha-touch-2

我正在尝试使用本地存储来获得“有很多”关联。我设置了两个模型：用户和产品。我的用户有很多产品。我想要：

在用户获得授权后，通过 AJAX 从服务器加载我的用户。产品已经存储在本地存储中（例如 {"id":"ext-record-1","user_id":1,"name":"product1"}）。

```
// The id and name are loaded via ajax
var user = Ext.create('User', {id: 1, name: 'Ed'});
var userProducts = user.products();
userProducts.load(); 
```

问题是：如果我调用关联，则会加载存储/代理中的所有实例。根据文档，应该只有带有“user_id”的实例：1

过滤器已设置。只有当我从本地存储加载产品时才会发生这种情况，如果我在适当的位置创建它们就没有问题。保存到本地存储会破坏关联。

我在这里设置了一个没有本地存储的示例： [http ://www.senchafiddle.com/#J9VX6](http://www.senchafiddle.com/#J9VX6)

并使用本地存储：[http ://www.senchafiddle.com/#J9VX6#hBDkq](http://www.senchafiddle.com/#J9VX6#hBDkq)

请参阅[http://docs.sencha.com/touch/2-0/#!/api/Ext.data.association.HasMany](http://docs.sencha.com/touch/2-0/#!/api/Ext.data.association.HasMany)

我真的很感谢你的帮助

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-31T08:21:17.690

似乎这是一个已知的错误，我在 sencha touch 论坛中获得了我的问题的链接：

[http://www.sencha.com/forum/showthread.php?173327-WebStorage-proxy-can-t-deal-with-associated-data](http://www.sencha.com/forum/showthread.php?173327-WebStorage-proxy-can-t-deal-with-associated-data)

我想这要等到下个版本的 Sencha Touch 才能解决

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-31T01:39:02.773

理查德·钱伯斯是对的；不一定要在 userProducts 上调用 load()。

此外。确保 User 模型上的 idProperty 设置为“id”（这是默认设置），并且 hasMany 关联上的 foreignKey 设置为“user_id”。

如果这不能提供解决方案，您可能想尝试在 UserProducts 上使用过滤器：

```
var userProducts = user.products().filter("user_id", user.id); 
```

# ubuntu - 在 Ubuntu 12.10 中安装 cuda 5 示例

> ID：12986701
> 
> 赞同：14
> 
> 时间：2012-10-20T08:31:20.157
> 
> 标签：ubuntu, cuda, installation

我正在尝试安装 cuda 5 示例：

```
Driver:   Not Selected
Toolkit:  Not Selected
Samples:  Installation Failed. Missing required libraries. 
```

但我得到了这个错误：

```
Missing required library libglut.so 
```

但：

```
frederico@zeus:~/Downloads$ sudo find / -name libglut.so*
/usr/lib/libglut.so
/usr/lib32/nvidia-current/libglut.so 
```

nvidia 安装程序在哪里寻找？也许 /usr/lib64？Ubuntu 12.10 上没有 /usr/lib64：

```
frederico@zeus:~/Downloads$ ls /usr
bin  games  include  lib  lib32  local  sbin  share  src

frederico@zeus:~/Downloads$ uname -a
Linux zeus 3.5.0-17-generic #28-Ubuntu SMP Tue Oct 9 19:31:23 UTC 2012 x86_64 x86_64 x86_64 GNU/Linux 
```

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2012-10-20T18:53:37.313

我也在运行 Ubuntu 12.10，我`/usr/lib/x86_64-linux-gnu/`在安装**freeglut3**包后在文件夹中找到了这个库。

我还做了一个软链接，我已经能够安装**CUDA 5.0**示例：

```
ln -s /usr/lib/x86_64-linux-gnu/libglut.so.3 /usr/lib/libglut.so 
```

我还没有检查样本是否可以编译。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-26T20:52:21.627

我让 CUDA-5.0 在 Ubuntu 12.10 上运行良好。它构建了样本。我还能够编译带有 Cuda 支持的 OpenCV-2.4.4，而不是带有 libopencv 支持的 ffmpeg 将视频的编辑和编码速度提高到 8 倍。

我已经这样做了：

1.  `sudo apt-get install linux-headers-3.5.0-26 freeglut3-dev mpich-dev gcc-4.6 g++-4.6`
2.  不要从 ubuntu 存储库安装 nvidia-driver！，从 nvidia.com 下载最新的驱动程序，然后执行：`chmod +x (Downloadpath)/*run` than `sudo lightdm stop` than cd (Downloadpath) than `sudo ./NV*run`than`sudo restart`
3.  **从 nvidia.com 下载 ubuntu-11X 版本的 cuda-5.0 并在没有提供的 dev-driver 的情况下**安装它（sudo ./*run），使用“/opt/cuda-5.0”回答有关 install-Path 的问题
4.  ubuntu 12.10 (gcc-4.7) 中 gcc 的默认版本与 Cuda-Code 冲突。所以让 cuda 使用 perv。gcc 版本：`sudo ln -s /usr/bin/gcc-4.6 /opt/cuda-5.0/bin/gcc`
5.  让 ldconf 了解 cuda-libs:`echo '/opt/cuda-5.0/lib64' > /etc/ld.so.conf.d/nvidia-cuda.conf && echo '/opt/cuda-5.0/lib' >> /etc/ld.so.conf.d/nvidia-cuda.conf`而不是：`sudo ldconfig`
6.  许多程序在 /usr/include 中搜索 (nvidia)-OpenCL-Include-Files。**但**他们不在那里，所以链接到他们： `sudo ln -s /opt/cuda-5.0/include/CL /usr/include/CL` **和** `sudo ln -s /opt/cuda-5.0/include/CL /usr/include/OpenCL`
7.  Cuda 现在可以构建示例了。**但是**如果你想编译程序源代码，例如 OpenCV，你需要临时更改**符号**链接以指向 gcc-4.6 和 g++-4.6：`sudo ln -s /usr/bin/gcc-4.6 /usr/bin/gcc`- `sudo ln -s /usr/bin/g++-4.6 /usr/bin/g++`-`sudo ln -s /usr/bin/g++-4.6 /usr/bin/c++`
8.  为了避免版本冲突，请尝试使用这些符号链接编译所有其他依赖包（例如 OpenCV+ffmpeg+frei0r-plugins）
    1.  编译后：不要忘记更正 gcc 和 g++ 符号链接以指向版本 4.7！

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-20T08:51:14.977

Ubuntu 12 尚不支持 CUDA 5。有关参考，请参阅[CUDA 5.0 工具包发行说明和勘误表](http://developer.download.nvidia.com/compute/cuda/5_0/rel/docs/CUDA_Toolkit_Release_Notes_And_Errata.txt)

```
**  Distributions Currently Supported  

    Distribution       32 64  Kernel                 GCC         GLIBC        
    -----------------  -- --  ---------------------  ----------  -------------
    Fedora 16          X  X   3.1.0-7.fc16           4.6.2       2.14.90      
    ICC Compiler 12.1     X                                                   
    OpenSUSE 12.1         X   3.1.0-1.2-desktop      4.6.2       2.14.1       
    Red Hat RHEL 6.x      X   2.6.32-131.0.15.el6    4.4.5       2.12         
    Red Hat RHEL 5.5+     X   2.6.18-238.el5         4.1.2       2.5          
    SUSE SLES 11 SP2      X   3.0.13-0.27-pae        4.3.4       2.11.3       
    SUSE SLES 11.1     X  X   2.6.32.12-0.7-pae      4.3.4       2.11.1       
    Ubuntu 11.10       X  X   3.0.0-19-generic-pae   4.6.1       2.13         
    Ubuntu 10.04       X  X   2.6.35-23-generic      4.4.5       2.12.1 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-20T10:09:53.293

也许您需要使用以下命令创建从 lib64 到 lib 的软链接：

```
ln -s /usr/lib /usr/lib64 
```

# matlab - USB转串口

> ID：12986703
> 
> 赞同：5
> 
> 时间：2012-10-20T08:31:21.703
> 
> 标签：matlab, usb, serial-port

我买了我的设备，它是通过 USB 连接到计算机的。我即将使用 Matlab 对这个设备进行编程。我希望我的计算机（连接时）将此设备视为通信端口而不是 USB 设备。设备管理器将其视为带有 USBasp 驱动程序的“libusb”。

我想要的是将其连接转换为 COM 端口，以便在我的程序中我可以轻松地声明连接的设备是哪个 COM 端口，然后我可以在其上写入/读取数据。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-22T14:50:22.210

当我在本田工作时，我们经常使用这些并取得了相当大的成功。

[http://www.cablestogo.com/product.asp?cat_id=101&sku=26886](http://www.cablestogo.com/product.asp?cat_id=101&sku=26886)

# rest - 如何将嵌套 REST 实施到拍卖列表资源？

> ID：12986705
> 
> 赞同：0
> 
> 时间：2012-10-20T08:31:36.773
> 
> 标签：rest

我正在尝试设计一个拍卖列表资源，每个列表中都有问题和创建列表的用户，我想让它尽可能语义化，这是我的实现：

1.  创建一个新列表：

    `GET listings/new`# 获取表单，如果它更语义化`GET listings?action` `POST listings`

2.  检索单个列表中未回答的问题列表

    `GET listings/#id/questions?answered=False`

3.  检索单个列表的详细信息

    `GET listings/#id`

4.  回答特定问题

    `GET listings/#id/questions/#id`# 提交问题的页面内容表单

    `PUT listings/#id/questions/#id`#我应该改用 POST 吗？

5.  检索属于成员的所有列表的未回答问题列表

    `GET users/$id/questions?answered=False`

有什么建议吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-22T04:34:59.243

两点：

*   要创建新列表，您应该在 /listings/ url 上执行 POST。
*   您没有说明如何获得实际答案

# associations - 短信关联学习

> ID：12986707
> 
> 赞同：1
> 
> 时间：2012-10-20T08:31:46.787
> 
> 标签：associations, machine-learning

我有一个短消息数据集，其中包含发件人姓名、收件人、长度在一个单词到 20 个单词之间的短消息，以及指定的垃圾邮件/非垃圾邮件类别。我想根据这些历史数据建立一套关联规则。我在考虑 Apriori 算法，但我不知道如何离散化短消息以便在数据集上运行算法。目标是提取导致垃圾邮件/非垃圾邮件分类的规则

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-20T13:01:49.280

Naive Bayes / SVM 更适合这种分类。只需将每个单词视为一个特征。

# wordpress - WordPress：如何在一页中列出所有子类别的第一篇文章？

> ID：12986710
> 
> 赞同：0
> 
> 时间：2012-10-20T08:32:13.463
> 
> 标签：wordpress, categories, posts

我有一个类别有 600 个子类别，有没有办法列出所有子类别，每个子类别都有一个帖子？

*   sub-1 最新帖子标题
*   sub-2 最新帖子标题
*   sub-3 最新帖子标题
*   sub-4 最新帖子标题
*   sub-5 最新帖子标题
*   sub-6 最新帖子标题
*   sub-7 最新帖子标题
*   sub-8 最新帖子标题

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-20T08:49:57.330

为了检索所有子类别，请使用[`get_categories()`](http://codex.wordpress.org/Function_Reference/get_categories).

例子：

```
$args = array(
'type'                     => 'post',
'parent'                   => 'your_parent_category_id',
'orderby'                  => 'name',
'order'                    => 'ASC' );

$your_categories = get_categories( $args ); 
```

要获取帖子，请遍历结果并使用[`get_posts()`](http://codex.wordpress.org/Template_Tags/get_posts)：

```
$args = array(
    'numberposts'     => 1,
    'offset'          => 0,
    'category'        => your_subcategories,
    'orderby'         => 'post_date',
    'order'           => 'DESC',
    'post_type'       => 'post',
    'post_status'     => 'publish' );

$your_posts = get_posts( $args ); 
```

# delphi - 如何在 Delphi 7 中使用动画

> ID：12986712
> 
> 赞同：0
> 
> 时间：2012-10-20T08:32:35.687
> 
> 标签：delphi, animation, delphi-7

如何使用您在 Delphi 7 的 win32 选项卡中找到的动画框。我已经搜索了互联网，但我发现的只是如何为您的表单设置动画。感谢您的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-20T09:08:22.163

如果您的意思是`TAnimate`，您将 AVI 文件加载到其中，并将`Active`属性设置为`True`. 或者您可以使用“复制”、“查找”等构建动画。

# javascript - 嵌套 HTML 元素中的冲突事件

> ID：12986714
> 
> 赞同：2
> 
> 时间：2012-10-20T08:32:53.907
> 
> 标签：javascript, jquery, html

我有嵌套的事件监听器。他们正是

```
<tr onclick="function1();">
<td>....</td>
<td onclick="function2();">....</td>
</tr> 
```

单击第二个单元格时，应仅调用 function2() 而不是 function1()。有没有办法做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-20T08:34:31.607

在函数中传递事件对象并调用 stopPropagation 以停止事件传播。

**[现场演示](http://jsfiddle.net/rajaadil/Dz5pu/1/)**

```
<tr onclick="return function1(e);">
  <td>First Td....</td>
 <td onclick="return function2();">second td....</td>
</tr>

function function2(e)
{
  //your statements.
   alert("function2");
   e.stopPropagation();
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-20T08:35:40.247

可以使用[event.stopPropagation停止事件](https://developer.mozilla.org/en-US/docs/DOM/event.stopPropagation)

```
function(e) {
   var event = e || window.event;
   event.stopPropagation();
} 
```

请参阅此处的答案以获取更多讨论：[如何使用内联 onclick 属性停止事件传播？](https://stackoverflow.com/questions/387736/how-to-stop-event-propagation-with-inline-onclick-attribute)

# android - adb 未连接到 HTC Desire S 或 Xperia Play

> ID：12986717
> 
> 赞同：-1
> 
> 时间：2012-10-20T08:33:43.673
> 
> 标签：android, adb, sony, htc-android

我可以很好地连接到我的 Nexus 7，所以我不知道该怎么做。

基本上，当我尝试执行诸如“adb logcat”之类的命令时，找不到 Desire S 和 Xperia Play，并且控制台卡在说“等待设备”。

两者都启用了 USB 调试，并通过似乎适用于 Nexus 7 的完全相同的 USB 进行连接，计算机确实识别出两者都在连接，只是似乎它们没有向 ADB 识别自己。

有任何想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-21T11:26:10.173

您是否连接了多个设备或运行了多个模拟器？在这种情况下，您应该使用“adb devices”进行测试，看看它是否列出了您期望的所有内容。当有多个设备时运行“adb logcat”不起作用。您必须使用 -s 参数和序列号指定一个设备，或者如果您通过其他参数只有一个，则指定一个仿真器与一个设备。

如果您只涉及一个设备，这可能是驱动程序问题。HTC 驱动程序包含在此处的 HTC Sync 下载中：http: [//www.htc.com/www/help/](http://www.htc.com/www/help/)。虽然我不认为它与 Windows 8 兼容。如果您正在使用它，请使用设备管理器指定通过 Android SDK 管理器下载的 Google 驱动程序并选择 ADB Composite Android 设备版本。

要检查的另一件好事是确保设备在其设置中打开了 USB 调试，它们在通知栏中显示连接，对于 HTC，连接类型设置为仅充电。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-11-23T12:55:34.940

我见过很多人在使用 HTC Desire S 时遇到过类似问题。连接 USB 数据线后，电池充电工作正常，但设备（或计算机）看不到 USB 数据线已连接。解决方法很简单，拆开手机，拉下USB排线，重新连接。显然带状电缆很容易松动。

您不必完全拆卸手机，这实际上很容易。您只需卸下电池，然后从电池锁所在的下部塑料“支架”上卸下 5 个螺丝。4 个梅花头螺钉和 1 个十字头螺钉。然后取下塑料，它会露出一个几乎是方形的 USB 带状连接器（靠近 USB 连接器）。

详情见[http://www.formymobile.co.uk/htcdesiresdisassembly.php#.VHHYN3Wc3NM](http://www.formymobile.co.uk/htcdesiresdisassembly.php#.VHHYN3Wc3NM)，但不要按照所有说明进行操作，不需要拆下上半身，也不需要整个框架来固定USB连接器。

将色带放回原位后，插入塑料“支架”，然后将 5 个螺钉简单地放回原来的位置（注意使用精确的螺钉，因为 4 个梅花头螺钉由 2 种不同类型组成）。装回电池并启动设备。您会看到 USB 连接现在像以前一样工作。希望这可以帮助 ！

# android - 当应用程序未运行时，GCM Cordova 推送通知不起作用

> ID：12986724
> 
> 赞同：7
> 
> 时间：2012-10-20T08:34:02.173
> 
> 标签：android, cordova, push-notification, google-cloud-messaging

该应用程序位于PhoneGap 中。我正在使用带有[https://github.com/marknutter/GCM-Cordova的推送通知功能](https://github.com/marknutter/GCM-Cordova)

我实现了整个功能，直到昨天它都运行良好。当我昨天检查应用程序时，当应用程序未运行时，推送通知不起作用。所有通知都在我的设备上接收，单击消息打开应用程序。

但是控件没有在消息通知处理的 javascript 部分接收。

文件 GCMIntentService.java 中的代码：

```
JSONObject json;
json = new JSONObject().put("event", "message");

json.put("message", extras.getString("message"));
json.put("link", extras.getString("link"));

Log.v(ME + ":onMessage ", json.toString());

GCMPlugin.sendJavascript( json );
// Send the MESSAGE to the Javascript application 
```

收到消息后，此代码将起作用。但当时，App 没有运行。

当我点击通知消息时，应用程序照常打开，不注册消息事件；从而无法在 JavaScript 中获得控制来处理推送通知。

CORDOVA_GCM_script.js 的代码可在以下位置获得：

> [https://github.com/marknutter/GCM-Cordova/blob/master/assets/www/CORDOVA_GCM_script.js](https://github.com/marknutter/GCM-Cordova/blob/master/assets/www/CORDOVA_GCM_script.js)

**注意**：应用程序运行时它工作正常。

***编辑：*** 通知有时会运行。JavaScript 随机获取消息事件。

**编辑2：**

我绝对知道问题所在。

从 java 文件中，它在通过单击推送通知消息打开应用程序时触发 javascript 代码。但是当时没有加载WebView，所以无法执行脚本（这是一个事件触发器）。是不是这种情况，每个使用插件的人都会有同样的体验。是否有任何解决方法或解决方法？

我做错什么了吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-08T19:01:00.933

如果应用程序未运行，使用 GCM-Cordova 插件将无法正确处理通知。这是因为在插件启动javascript时没有加载WebView。

**解决方案：**

*   修改插件代码，在通知到达时将消息数据临时保存。
*   创建了另一个插件，该插件具有读取此加载数据和清除数据的方法。
*   在 deviceready 上调用我的自定义插件方法并检查是否有任何数据。
*   如果有，清除本地存储的数据并调用显示通知消息的方法。

终于能够在两个插件的帮助下解决这个问题 - GCM-Cordova 和自定义插件。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-29T01:51:02.560

IvenMS - 我也有同样的问题，所以你不是唯一的。如果我正确理解 praneetloke，推送通知将不适用于当前未运行的 PhoneGap 应用程序。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-02-03T11:19:05.243

我找到了一个简单的解决方案。在 GCMIntentService 中，在发送 javascript 之前检查 webview 是否已加载：

```
while (GCMPlugin.gwebView == null || GCMPlugin.gwebView.webView == null || !GCMPlugin.gwebView.webView.isEnabled()) {
    // Wait until webView is enabled
}
GCMPlugin.sendJavascript(json); 
```

这对我有用......也许添加超时以防止无限循环是一个不错的选择（它不应该发生但是......）

戴维德

# c# - 引用 Microsoft.SPOT.Hardware.dll

> ID：12986735
> 
> 赞同：2
> 
> 时间：2012-10-20T08:35:30.877
> 
> 标签：c#

我试图在我的项目（.Net 4 和 4.5）中引用 Microsoft.SPOT.Hardware，但我找不到它。

我怎样才能找到这个DLL？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-20T08:37:42.870

此 DLL 仅适用于[.Net Micro Framework](http://netmf.codeplex.com/)，可在[此处](http://netmf.codeplex.com/releases/view/82448)下载。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-20T08:37:51.797

这是 .NET Micro Framework 的一部分。

我100%肯定，即使你可以参考它，它对你也没有用。

# java - 人物比较

> ID：12986736
> 
> 赞同：-2
> 
> 时间：2012-10-20T08:35:33.730
> 
> 标签：java

假设我有一个函数，它根据规则接受两个值并返回一个值：

```
(x,y) should return y
(y,z) should return z 
(z,x) should return x

(y,x) should return y
(z,y) should return z 
(x,z) should return x 
```

我该如何存放这些箱子？参数的顺序无关紧要。我不想使用一系列嵌套的 if else 语句

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-20T08:47:54.977

您正在尝试对剪刀、纸、石头进行编码。有关您的问题的详细答案，请查看此处： [http](http://rosettacode.org/wiki/Category:Java) ://rosettacode.org/wiki/Category:Java 。

了解该`enum`部分中的代码和该页面上的`while`循环`run()`应该可以帮助您将代码提炼成您可以使用的方法

# php - 使用抽象类的 PHP 错误“找不到类”

> ID：12986739
> 
> 赞同：0
> 
> 时间：2012-10-20T08:35:44.637
> 
> 标签：php, class, abstract

我正在使用静态工厂方法来创建抽象类的具体实现。但我不断收到“找不到类”错误。

我知道我的“要求”路径是正确的，因为任何其他配置都会导致“无法打开流”错误。

我的问题是，为什么我会得到这个“找不到类”？

```
class A {
   public function method () {
      $obj = B::factorymethod();
   }
}

abstract class B {
   static function factory() {
      return new C();
   }
}

class C extends B {} 
```

当我这样做时，我得到：

> 致命错误：在第 11 行的 C:\phpproject\C 中找不到类“B”

A 有 require_once(B.php)，B 有 require_once(C.php)，C 有 require_once(B.php)... 没有其他错误。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-20T08:39:52.667

因为您在代码中使用了不存在的关键字`method`，导致您的类无法被正确识别和评估，因此无法在*正确定义*的类中被发现。

# javascript - IE8 lose custom tags

> ID：12986743
> 
> 赞同：0
> 
> 时间：2012-10-20T08:36:18.610
> 
> 标签：javascript, html, internet-explorer, parsing, data-loss

**Please Check below code In IE8:**

```
 <html xmlns="http://www.w3.org/1999/xhtml">
    <head>
           <script language="javascript" type="text/javascript">
            function btnclick() {
                document.createElement("myTag");
                var testctrl = document.createElement("div");
                testctrl.innerHTML = " <myTag>hai</myTag>";
                document.getElementById("temp").appendChild(testctrl);
alert(testctrl.innerHTML);
            }
        </script>
        <style type="text/css">
        myTag
        {
            background-color:Blue;
            height:20px;
            width:100px;
        }
        </style>
    <title>

    </title></head>
    <body>
        <input type="button" id="tbtn" onclick="javascript:btnclick();return false;" value="ClickMe"/>
        <div id="temp" >
        </div>
    </body>
    </html> 
```

i got value from myTag Like As :

```
**testctrl.innerHTML contain as Follow**

"hai</MYTAG>" 
```

So how can i use in this code for IE? **I Should be want the tags Like as not like as**

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-20T08:49:21.733

Try:

```
var mytag = document.createElement("myTag");
var testctrl = document.createElement("div");
mytag.innerHTML = "hai";
testctrl.appendChild(mytag);
document.body.appendChild(testctrl); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-20T08:48:59.173

Using custom tags is always kind of wired because browser differ in handling custom tags. If you are working with xhtml and xhtml headers you should add your namespace to the html and the element, but mixing custom tags with xhtml tags is something I would not do. I once used custom namespace attributes what did a good job but therefor you should use the html5 data attributes.

# android - 如何在android上检测屏幕旋转？

> ID：12986745
> 
> 赞同：2
> 
> 时间：2012-10-20T08:36:41.420
> 
> 标签：android, android-ndk

我想通过本机检测屏幕旋转。

例如，当触摸事件发生时，我们可以通过 /dev/input/event* 事件设备检测

这可能吗 ？

我的意思是，不使用java。只需使用本机方法。

```
WindowManager wm = (WindowManager)getSystemService(Context.WINDOW_SERVICE);
Display disp = wm.getDefaultDisplay();

int rotation = disp.getRotation(); // Android 2.2
Log.i( "Rotation", "rotation : " + rotation );

switch ( rotation )
{
    case Surface.ROTATION_0: 
        Log.i( "Roation", "Portrait : 0" ); 
        break;

    case Surface.ROTATION_90:
        Log.i( "Roation", "Landscape : 90" );
        break;

    case Surface.ROTATION_180:
        Log.i( "Roation", "Portrait : 180" );
        break;

    case Surface.ROTATION_270:
        Log.i( "Roation", "Landscape : 270" );
        break;
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-20T14:59:36.340

如果您使用的是 NativeActivity 基础结构（从问题中看不出来），那么`onConfigurationChanged`struct 中有一个回调`ANativeActivityCallbacks`，它作为对象的一部分提供给您，该对象在结构内`ANativeActivity`指向，这是一个参数你的.`activity``android_app``android_main`

只需将启动时的回调重置为您的函数：

```
void OnConfig(ANativeActivity *ac)
{
    //...
}

state->activity->callbacks->onConfigurationChanged = OnConfig; 
```

如果您确实在使用 NativeActivity，请用 标记问题`native-activity`，而不仅仅是`android-ndk`。有足够的环境差异来保证额外的标签。

# c++ - 范围结束后解除分配

> ID：12986746
> 
> 赞同：1
> 
> 时间：2012-10-20T08:37:01.383
> 
> 标签：c++, memory-management, segmentation-fault, lifetime

> **可能重复：**
> [返回局部变量或临时变量的地址](https://stackoverflow.com/questions/2744264/returning-the-address-of-local-or-temporary-variable)
> [局部变量的内存是否可以在其范围之外访问？](https://stackoverflow.com/questions/6441218/can-a-local-variables-memory-be-accessed-outside-its-scope)

假设我们有以下代码

```
int *p;//global pointer
void foo() {
  int a=10;//created in stack
  p = &a;
}//after this a should be deallocated and p should be now a dangling pointer
int main() {
  foo();
  cout << *p << endl;
} 
```

我想知道为什么会这样……应该是段错误！

好的未定义行为似乎合适..你能再次验证它吗？我试图在下面的代码中模拟上面的东西，但现在它给出了 SIGSEGV。

```
int main() {
    int *p=NULL;
    {
        int i=5;
        int *q = &i;
        p=q;
        delete q;//simulates the deallocation if not deallocated by the destructor..so p becomes a dangling pointer
    }
    cout << *p << endl;
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-20T08:39:40.623

您编写了一个具有**未定义行为**的程序。UB 并不意味着段错误，它意味着任何事情都可能发生。你运行了你的程序，但发生了一些事情，这不是你所期望的。故事的寓意是不要用 UB 编写程序，如果你这样做，事情会变得非常难以理解。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-20T08:41:40.277

你不应该使用全局变量。在您的示例中，您所做的是**未定义的行为**。

如果你做了类似的事情

```
int* foo() {
  int a = 10; //created in stack
  return &a;
}

int main() {
  int *p = foo();
  cout << *p << endl;
} 
```

您至少会收到警告：

```
prog.cpp:5: warning: address of local variable ‘a’ returned 
```

您应该非常认真地对待这些警告。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-10-20T08:53:32.263

当您在函数中定义一个变量时，它将在堆栈上分配，并且当您从该函数返回时，该变量的析构函数将被自动调用（如果类型具有任何析构函数），但与堆分配的对象不同，堆栈的内存不会在这点：

```
void test1() {
    // assume on start of this function top of stack is 0x100
    int a = 10; // push 10 on to of stack and increase top of stack
                // Now top of stack is 0x100 + sizeof(int)
    a = 20;     // when you do this you are actually changing variable on stack
    p = &a;     // Get address of variable in stack!
                // So p is now 0x100
    // hidden return will restore top of stack to 0x100, pop return address, ...
}
int test2() {
    // again top of stack is 0x100
    int a2;     // a2 is in same address as a in previous function!
    a2 = 100;   // so this will overwrite value that pointed by p
                // because it point to same location
    return (int)&a2;
}

void main() {
    test1();
    test2();
    std::cout << *p << std::endl;
} 
```

但是，如果您的类型是具有析构函数的类并且在使用前需要构造，那么您甚至可能会收到诸如分段错误之类的异常

# python - 如何将.py文件导入另一个文件

> ID：12986753
> 
> 赞同：-1
> 
> 时间：2012-10-20T08:37:46.923
> 
> 标签：python, django, python-2.7, python-3.x, pycharm

我`.py`在 1 个项目中有 2 个文件并使用 pycharm IDE，我想将一个文件导入另一个文件，但是当我使用“import” `list.py`into`operation.py`时，不知道这个文件并且有错误，我该如何解决这个知道我的文件的问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-20T08:40:58.220

阅读有关[modules](http://docs.python.org/tutorial/modules.html)的 python 文档。这涵盖了您正在尝试做的事情。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-20T10:07:02.093

在 pycharm 中，您应该按 Ctrl+Space 2 次以查看智能感知，然后您会看到整个文件，当您选择其中一个文件时，它会完全导入其要求。

# c++ - 在列表中正确使用 boost::shared_ptr

> ID：12986755
> 
> 赞同：2
> 
> 时间：2012-10-20T08:38:02.900
> 
> 标签：c++, boost, shared-ptr

我有一个与`boost::shared_ptr<>`C++ 相关的问题。我目前愿意智能删除列表中的项目：

*   如果该项目正在使用中，请不要执行任何操作，稍后将其删除
*   如果该项目未使用，请将其删除

这是我的程序要求的行为。

我真的很想知道如何正确地做到这一点，因为`std::list<boost::shared_ptr<object> >`删除/擦除功能会导致`shared_ptr<>`实际对象的删除和删除。

所以我终于想出了这个解决方案：使用 a`std::list<object*>`并继承`object`自`boost::enable_shared_from_this<>`. 这样，当有人需要使用列表中的某个项目时，我会给他们`object->shared_from_this()`.

我的问题如下：

*   这会尊重期望的行为吗？
*   `boost::shared_ptr<>`关联的 to是否`shared_from_this()`考虑到对列表中对象的引用？

我希望我的问题足够明确，并且有人能够帮助我。在列表中正确使用智能指针是我希望能够使用的。

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-20T08:46:10.617

当您删除 a 时，`shared_ptr`您不会删除真实对象，除非它没有在其他任何地方使用。这就是使用`shared_ptr`.

例如，如果您从列表中取出一个元素，将其复制并交给另一个函数，然后从列表中删除该元素，则实际对象不会被删除，因为它仍然在其他地方引用。

# java - 用于启动活动的应用程序

> ID：12986756
> 
> 赞同：0
> 
> 时间：2012-10-20T08:38:03.883
> 
> 标签：java, android

> **可能重复：**
> [仅用于启动活动的应用程序](https://stackoverflow.com/questions/12985792/app-just-for-launching-an-activity)

我正在尝试添加快捷方式以在 App Drawer（不是主屏幕）上启动录音机

所以应用程序应该是空的，它唯一要做的就是启动 Sound Recorder com.android.soundrecorder/com.android.soundrecorder.SoundRecorder

我怎样才能做到这一点？

我得到了强制停止：

```
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="recorder.audio.dsaif"
    android:versionCode="1"
    android:versionName="1.0" >

    <uses-sdk
        android:minSdkVersion="16"
        android:targetSdkVersion="15" />

    <application
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name"
        android:theme="@style/AppTheme" >
        <activity
            android:name=".Recorder"
            android:label="@string/title_activity_recorder" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
    </application>

</manifest> 
```

和java文件

```
package recorder.audio.dsaif;

import android.app.Activity;
import android.content.Intent;
import android.os.Bundle;
import android.view.Menu;

public class Recorder extends Activity {

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    Intent LaunchIntent = getPackageManager().getLaunchIntentForPackage("com.android.soundrecorder.SoundRecorder");
    startActivity(LaunchIntent);
    setContentView(R.layout.activity_recorder);
}

@Override
public boolean onCreateOptionsMenu(Menu menu) {
    getMenuInflater().inflate(R.menu.activity_recorder, menu);
    return true;

}
} 
```

# android - 使用视差滚动制作安卓动态壁纸

> ID：12986761
> 
> 赞同：6
> 
> 时间：2012-10-20T08:38:23.493
> 
> 标签：android

我正在创建一个带有视差滚动的动态壁纸。我读过这篇文章：[动态壁纸背景的视差效果滚动](https://stackoverflow.com/questions/5044363/parallax-effect-scrolling-of-live-wallpaper-background)。但是当我更改桌面时，背景会以错误的方式移动（如果我从左到右更改桌面，图片会从右到左移动）。如何改变方向？代码片段：

```
public void Init(Bitmap bitmap){
  bg = new BitmapFactory().decodeResource(context.getResources(), R.drawable.thunder);
  bg = Bitmap.createScaledBitmap(bg, (int)(width*1.4), height, true);
}

float dx = 0.0f; 
@Override
    public void onOffsetsChanged(float xOffset, float yOffset,
            float xStep, float yStep, int xPixels, int yPixels) {
        dx = (width - bg.getWidth()) * (1 - xOffset);
    } 

private void doDraw(Canvas canvas) {
    canvas.save();
    canvas.translate(dx, 0);
    canvas.drawBitmap(bg, 0, 0, null);

    canvas.restore();
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-06-12T15:28:57.700

我知道这是一个老问题，但由于这在谷歌上是一个很高的结果，你需要做的就是翻转翻译上的标志。

```
canvas.translate(-dx, 0); 
```

这将有效地反转用户滑动时背景滚动的方向。希望这对其他人有帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-20T08:48:21.957

这里的算法需要改一下：

```
dx = (width - bg.getWidth()) * (1 - xOffset); 
```

应更改为类似于：

```
dx = (width) * (xOffset); 
```

另一种方法是通过以下方式直接访问 canvas.drawBitmap() 方法：

```
canvas.drawBitmap(bg, xPixels, 0, null); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-12-27T03:31:06.337

dx = (**宽度**- **bg** .getWidth()) * xOffset;

在哪里：

**宽度**- 画布宽度；
**bg** - 位图

# android - 链接到外部网站的链接在带有 jquery mobile 的 android 平板电脑版本中不起作用

> ID：12986762
> 
> 赞同：0
> 
> 时间：2012-10-20T08:38:25.157
> 
> 标签：android, jquery, cordova, jquery-mobile

我对链接到外部网站的链接有很大的问题。

我正在使用 jQuery mobile 1.1.1 和 jQuery 1.6.4，我将它们加载到我的 HTML 中失败，如下所示：

```
<script type="text/javascript" src="js/jquery-1.6.4.min.js"></script>
<script type="text/javascript" src="js/jquery.mobile-1.1.1.min.js"></script>
<script type="text/javascript" src="js/jquery.popover.js"></script> 
```

jQuery.popover 是平板电脑版本的弹出框，我使用的是 Phonegap 和原生部分。

问题是链接到外部源的链接不起作用：当我点击它们时，它们什么也不做。

我尝试使用`data-ajax="false"`，`rel="external"`还有更多，但没有任何反应。

任何帮助将不胜感激。提前致谢 ！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-20T11:13:38.113

确保您正确修改了域白名单文件以允许外部访问。

打开您的文件`res/xml/cordova.xml`并添加`<access origin="*"/>`.

通常，您将替换`*`为要提供访问权限的外部 URL。但是，为了确保问题确实来自白名单，我们将使用`*`.

有关域白名单的更多信息，请查看在线文档：[http ://docs.phonegap.com/en/2.1.0/guide_whitelist_index.md.html#Domain%20Whitelist%20Guide](http://docs.phonegap.com/en/2.1.0/guide_whitelist_index.md.html#Domain%20Whitelist%20Guide)

希望这可以帮助。让我知道这是否适用于修改您的域白名单文件后。

# java - 访问另一个系统数据库？

> ID：12986764
> 
> 赞同：-1
> 
> 时间：2012-10-20T08:38:39.653
> 
> 标签：java, mysql

> java.sql.SQLException: com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1075) 的 com.mysql.jdbc.MysqlIO.checkErrorPacket 的用户 'root'@'dexterlabs06' 的访问被拒绝（使用密码：YES） (MysqlIO.java:3562) 在 com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3494) 在 com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:920) 在 com.mysql.jdbc.MysqlIO。 com.mysql.jdbc.ConnectionImpl 的 com.mysql.jdbc.MysqlIO.doHandshake(MysqlIO.java:1285) 的secureAuth411(MysqlIO.java:4000) com.mysql.jdbc.ConnectionImpl 的createNewIO(ConnectionImpl.java:2186) .(ConnectionImpl.java:787) 在 com.mysql.jdbc.JDBC4Connection.(JDBC4Connection.java:49) 在 sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) 在 sun.reflect.NativeConstructorAccessorImpl。newInstance(NativeConstructorAccessorImpl.java:39) 在 sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27) 在 java.lang.reflect.Constructor.newInstance(Constructor.java:513) 在 com.mysql.jdbc.Util.handleNewInstance (Util.java:409) 在 com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:357) 在 com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:285) 在 java.sql.DriverManager.getConnection( DriverManager.java:582) 在 java.sql.DriverManager.getConnection(DriverManager.java:185) 在 Testloginserv.doPost(Testloginserv.java:41) 在 javax.servlet.http.HttpServlet.service(HttpServlet.java:641) 在org.apache.catalina.core.ApplicationFilterChain 上的 javax.servlet.http.HttpServlet.service(HttpServlet.java:722)。internalDoFilter(ApplicationFilterChain.java:304) at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210) at org.netbeans.modules.web.monitor.server.MonitorFilter.doFilter(MonitorFilter.java:393)在 org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243) 在 org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210) 在 org.apache.catalina.core.StandardWrapperValve.invoke (StandardWrapperValve.java:224) 在 org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472) 在 org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:169) 在 org.apache。 catalina.core.StandardHostValve.invoke(StandardHostValve.java:168) 在 org.apache.catalina.valves。ErrorReportValve.invoke(ErrorReportValve.java:100) at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:929) at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118) at org .apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:405) 在 org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:964) 在 org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol .java:515) 在 org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:304) 在 java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:885) 在 java. util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:907) 在 java.lang.Thread.run(Thread.java:619)在 org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118) 在 org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118) 在 org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:929) 调用(ErrorReportValve.java:100) .catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:405) 在 org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:964) 在 org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java :515) 在 org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:304) 在 java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:885) 在 java.util。 concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:907) 在 java.lang.Thread.run(Thread.java:619)在 org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118) 在 org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118) 在 org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:929) 调用(ErrorReportValve.java:100) .catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:405) 在 org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:964) 在 org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java :515) 在 org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:304) 在 java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:885) 在 java.util。 concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:907) 在 java.lang.Thread.run(Thread.java:619)catalina.valves.AccessLogValve.invoke(AccessLogValve.java:929) at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118) at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java: 405) 在 org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:515) 在 org.apache.tomcat.util.net 的 org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:964) .JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:304) 在 java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:885) 在 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:907 ) 在 java.lang.Thread.run(Thread.java:619)catalina.valves.AccessLogValve.invoke(AccessLogValve.java:929) at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118) at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java: 405) 在 org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:515) 在 org.apache.tomcat.util.net 的 org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:964) .JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:304) 在 java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:885) 在 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:907 ) 在 java.lang.Thread.run(Thread.java:619)StandardEngineValve.invoke(StandardEngineValve.java:118) at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:405) at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:964) at org .apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:515) at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:304) at java.util.concurrent.ThreadPoolExecutor$Worker .runTask(ThreadPoolExecutor.java:885) 在 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:907) 在 java.lang.Thread.run(Thread.java:619)StandardEngineValve.invoke(StandardEngineValve.java:118) at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:405) at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:964) at org .apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:515) at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:304) at java.util.concurrent.ThreadPoolExecutor$Worker .runTask(ThreadPoolExecutor.java:885) 在 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:907) 在 java.lang.Thread.run(Thread.java:619)org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:515) 上的进程(AbstractHttp11Processor.java:964) org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:304)在 java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:885) 在 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:907) 在 java.lang.Thread.run(Thread.java :619)org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:515) 上的进程(AbstractHttp11Processor.java:964) org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:304)在 java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:885) 在 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:907) 在 java.lang.Thread.run(Thread.java :619)在 java.lang.Thread.run(Thread.java:619) 处运行（ThreadPoolExecutor.java:907）在 java.lang.Thread.run(Thread.java:619) 处运行（ThreadPoolExecutor.java:907）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-20T08:41:27.453

在数据库上，为您的系统授予权限，它应该可以工作。喜欢`your_user_name@'192.192.192.192'`

查看[有关在 MySQL 中授予权限的本教程](http://kb.mediatemple.net/questions/788/HOWTO%3a+GRANT+privileges+in+MySQL#dv)

# process - 如何检查 Solaris 上的进程是否不可中断

> ID：12986766
> 
> 赞同：1
> 
> 时间：2012-10-20T08:38:41.103
> 
> 标签：process, operating-system, solaris, ps

如果进程处于不间断睡眠模式，Solaris 11g 上的哪个 ps 选项会提供信息？

```
admin@starsut:/tmp$ ps -aef | grep java
UID   PID  PPID   C    STIME TTY         TIME CMD
oracle  1465  1462   0   Oct 13 ?          18:10 /oracle/product/11.2.0/db_1/jdk/bin/sparcv9/java -server -Xmx384M -XX:MaxPermSi
admin 15701 15680   0   Oct 19 ?        2403:01 /wls/bin/middleware/jdk160_29/bin/java -client -Xms1024m -Xmx2048m -XX:MaxPermS
admin 29778  1943   0 13:05:44 ?           0:15 /wls/bin/middleware/jdk160_29/bin/java -classpath /wls/bin/middleware/patch_wls
admin 28733  1943   0 12:51:49 ?           0:15 /wls/bin/middleware/jdk160_29/bin/java -classpath /wls/bin/middleware/patch_wls
admin 29122  1943   0 12:56:03 ?           0:15 /wls/bin/middleware/jdk160_29/bin/java -classpath /wls/bin/middleware/patch_wls
admin 13115 11818   0 16:10:39 pts/8       0:00 grep java 
```

我找不到任何选项来指示进程（处于“D”状态）。

请告知是否有这样的标志。

编辑：删除 linux 标志

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-22T23:53:56.033

Solaris 中没有这样的进程状态“D”。资料来源：

1.  `ps(1)`手册页（状态：O、S、R、T、W、Z）

2.  `pflags`和`pflags.c`(OpenSolaris) (`ASLEEP`似乎最接近 Linux 的`S`, not `D`)。

3.  `<sys/proc.h>`和`usr/src/uts/common/sys/proc.h`（再次是 OpenSolaris）：

    ```
    #define SSLEEP  1       /* awaiting an event */
    #define SRUN    2       /* runnable */
    #define SZOMB   3       /* process terminated but not waited for */
    #define SSTOP   4       /* process stopped by debugger */
    #define SIDL    5       /* intermediate state in process creation */
    #define SONPROC 6       /* process is being run on a processor */
    #define SWAIT   7       /* process is waiting to become runnable */ 
    ```

# css - E ~ F 是否选择多个元素？

> ID：12986767
> 
> 赞同：1
> 
> 时间：2012-10-20T08:38:46.583
> 
> 标签：css, css-selectors

根据[http://www.w3.org/TR/2001/CR-css3-selectors-20011113/](http://www.w3.org/TR/2001/CR-css3-selectors-20011113/)选择器`E ~ F`匹配“一个 F 元素前面有一个 E 元素”。我很困惑这是否意味着只有一个 F，或者任何以 E 开头的 F。

例如，选择器是否应该：

```
E ~ F.blah 
```

仅匹配第一个 F ，它前面是 E 并且具有类“blah”，还是*所有*此类元素？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-20T08:47:21.227

只要它们在同一个父级下，它就会匹配任何和所有此类元素。

与相邻的兄弟组合器不同`+`，一般的兄弟组合`~`器不需要一个元素紧跟另一个元素。由于没有这样的位置限制，`~`因此不携带任何首次匹配语义。（事实上​​，两者都没有`+`，但在这个意义上它仍然受到更多限制；见下文。）

这也意味着如果一个元素匹配`E + F.blah`，它也必须按照定义匹配`E ~ F.blah`。相反，并非每个元素匹配`E ~ F.blah`也会匹配`E + F.blah`。

插图：

```
<E></E>
<D>
    <F class="blah"></F> <!-- Not selected [1] -->
    <E></E>
    <F class="blah"></F> <!-- E + F.blah, E ~ F.blah [2] -->
    <F class="blah"></F> <!-- E ~ F.blah only [3] -->
    <F></F>
    <F class="blah"></F> <!-- E ~ F.blah only [3] -->
    <E></E>
    <F class="blah"></F> <!-- E + F.blah, E ~ F.blah [4] -->
</D>
<D>
    <F class="blah"></F> <!-- Not selected [5] -->
</D> 
```

选择了什么，没有选择什么：

1.  **未选中**
    此 F 元素具有类“blah”，但其父 D 中没有前面的 E 元素。

    请注意，最上面的 E 是 D 的前一个兄弟，而不是 F，因此不计算在内。

2.  **由`E + F.blah`and`E ~ F.blah`**
    选择 此 F 元素在其父 D 中的 E 元素之前，并且它具有类“blah”，因此它与选择器匹配`E ~ F.blah`。

    由于 E 元素位于此 F 元素**之前**，因此它也匹配`E + F.blah`.

3.  **`E ~ F.blah`仅**
    由此 F 元素**选择**`E`其父 D 中的元素，并且它具有类“blah”。但是，在这种情况下， E 不再是紧接在前的同级元素，该元素将不匹配`E + F.blah`。

4.  **由`E + F.blah`and`E ~ F.blah`**
    选择 虽然第一个 E 元素并不紧接在此 F 元素之前，但第二个 E 元素确实出现在它之前，因此它也匹配`E + F.blah`。

    顺便说一句，这个元素将匹配 selector`E:first-of-type ~ F.blah` *但不*匹配selector `E:first-of-type + F.blah`，因为它前面的兄弟 E 不是其类型的第一个，而是第二个。

5.  **未选中**
    此 F 元素具有类“blah”，但其父 D 中没有任何 E 元素，因为它与示例中的所有 E 元素位于不同的父 D 中（并且是其唯一的子元素）。

对于它的价值，不可能只选择第一个匹配的元素`E ~ F.blah`（除非它也匹配`E + F.blah`，在这种情况下你可以只使用它）。但是，如果您正在应用 CSS 规则，则可以使用覆盖来实现 - 只需重复兄弟组合器：

```
E ~ F.blah {
    /* Styles for first and following E ~ F.blah */
}

E ~ F.blah ~ F.blah {
    /* Styles for only F.blah following the first E ~ F.blah */
} 
```

# firebird - 使用 isql 对 firebird 数据库运行多个插入查询

> ID：12986774
> 
> 赞同：4
> 
> 时间：2012-10-20T08:40:20.217
> 
> 标签：firebird, firebird2.5, isql

我有要求`inserting enormous data in table of firebird database around 40K entries`。我准备好了我的脚本，但是在使用 FlameRobin 执行它时，用户界面在一次性插入如此庞大的数据时永远挂起。

我知道如果我在 255 个查询块中执行我的插入查询会很好，但我想知道在`bulk insert tool available for Firebird`从我的 scripts.sql 文件中读取时是否有任何要做这样的条目。

经过一番谷歌搜索，我遇到了`isql`工具，但无法针对它执行脚本。有人可以指导我使用任何其他工具或适当的文档来一次性输入如此庞大的数据吗？

我已经`firebird version 2.5`安装在我的系统上。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-25T09:29:43.647

您可以使用 EXECUTE BLOCK 将更多插入内容填充到单个语句中。像这样的东西：

```
set term !! ;
EXECUTE BLOCK AS BEGIN
  insert into ... values ...;
  insert into ... values ...;
  insert into ... values ...;
  insert into ... values ...;
  ....etc.
  insert into ... values ...;
END!! 
```

您可以一次将它们分组为 100 个或类似的。这应该会使事情进展得更快，也可以改进 FlameRobin 的解析。

isql 仍然更快，但这可以为您提供更好的错误控制。如果中间的某些插入因 isql 而失败，那么调试东西真的很困难。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-10-20T09:06:13.730

40K对我来说似乎不是一个大数字。在我们的案例中，我们处理数百万条记录而不会出现重大问题。我认为挂起的原因是 Flamerobin 试图解析整个脚本或类似的东西。请改用[isql](http://www.firebirdsql.org/manual/isql.html)实用程序。首先，准备一个带有命令的文本文件：

```
CONNECT "your_server:your_database_name" USER "sysdba" PASSWORD "masterkey";
INSERT ... ;
INSERT ... ;
....
INSERT ... ;
EXIT; 
```

然后从 dos 提示符运行实用程序：

```
isql < your_script.sql 
```

还可以考虑停用索引并删除表的外键以进行批量插入操作，然后再恢复它们。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-02-08T19:40:39.463

您可以使用`EXTERNAL`.

```
command.CommandText = @"CREATE TABLE TEMP1 EXTERNAL FILE 'c:\ExternalTables\Ext.ext'(ID INTEGER,CRLF CHAR(2));";
int j=command.ExecuteNonQuery(); 
```

# objective-c - 在循环中执行模态序列

> ID：12986775
> 
> 赞同：0
> 
> 时间：2012-10-20T08:40:41.660
> 
> 标签：objective-c, ios

我正在通过执行循环 if else 语句并相应地呈现模态视图控制器来将相同的记录合并为一个。基本上如果数据重复，它会显示一个视图并询问用户是否需要合并数据。

无论用户选择什么，应用程序都应该关闭控制器并检查下一个控制器，再次呈现等等

我正在使用带有 id 的执行 segue 并为 segue 做准备的故事板，但它不会工作......

有没有人有建议或暗示如何用情节提要做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-20T22:21:34.220

在循环中执行模态 segue 的问题是代码不会阻塞`performSegue:withIdentifier`调用。`prepareForSeque`您的主视图控制器在调用后失去控制。

要将控制权交还给您的调用 viewController，您应该`delegate`在目标视图控制器中设置一个指针，并将此委托指针设置为`self`in `prepareForSegue`。此外，`modalViewControllerDidFinish`在您的主 viewController 中定义一个方法。

在您的模态视图控制器中，调用`[delegate modalViewControllerDidFinish]`以将控制权返回给您的主视图控制器。

通过将状态存储在主视图控制器的属性中来跟踪您在处理中的位置。在您的`modalViewControllerDidFinish`中，调用一个方法，如果还有更多工作要做，该方法将继续工作。

# c# - 更改列表中的一些值

> ID：12986776
> 
> 赞同：64
> 
> 时间：2012-10-20T08:40:46.583
> 
> 标签：c#, linq, lambda, expression

我有一些列表（其中 T 是一个自定义类，并且类有一些属性）。我想知道如何使用 Lambda 表达式更改其中的一个或多个值，因此结果将与下面的 foreach 循环相同：

*注意：列表中包含多个项目（多行）*

```
 foreach (MyClass mc in list)  
        {
            if (mc.Name == "height")
                mc.Value = 30;
        } 
```

这是 linq 查询（使用 Lambda 表达式），但它与上面的 foreach 循环不同，它只返回列表中的 1 项（一行）！

我想要的是，它返回所有项目（所有行）并且只更改适当的项目（在 WHERE 扩展方法中指定的项目。

```
list = list.Where(w => w.Name == "height").Select(s => { s.Value = 30; return s; }).ToList(); 
```

注意：这两个例子不一样！我再说一遍，linq 只返回 1 个项目（一行），这是我不想要的，我也需要列表中的所有项目（比如 foreach 循环，它只做更改，但它不会删除任何项目）。

* * *

## 回答 #1

> 赞同：132
> 
> 时间：2012-10-20T08:43:33.650

您可以使用[`ForEach`](http://msdn.microsoft.com/en-us/library/bwabdf9z%28v=vs.110%29.aspx)，但您必须将 转换`IEnumerable<T>`为`List<T>`第一个。

```
list.Where(w => w.Name == "height").ToList().ForEach(s => s.Value = 30); 
```

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2012-10-20T09:06:30.550

我可能会选择这个（我知道它不是纯 linq），如果您想保留所有项目，请保留对原始列表的引用，并且您应该在那里找到更新的值：

```
 foreach (var mc in list.Where(x => x.Name == "height"))  
     mc.Value = 30; 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2012-10-20T08:45:11.187

您可以使用带有语句 lambda 的投影，但原始`foreach`循环更具可读性，并且正在就地编辑列表而不是创建新列表。

```
var result = list.Select(i => 
   { 
      if (i.Name == "height") i.Value = 30;
      return i; 
   }).ToList(); 
```

**扩展方法**

```
public static IEnumerable<MyClass> SetHeights(
    this IEnumerable<MyClass> source, int value)
{
    foreach (var item in source)
    {
       if (item.Name == "height")
       {
           item.Value = value;
       }

       yield return item;
    } 
}

var result = list.SetHeights(30).ToList(); 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2017-08-24T09:45:44.863

怎么样`list.Find(x => x.Name == "height").Value = 20;` 这工作正常。我知道它是一个旧帖子，但只是想知道为什么没有人建议这个？这段代码有缺点吗？

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2020-05-21T09:50:01.823

我会这样做：说“列表”是一个 `<List<t>>`其中 t 是具有名称和值字段的类；但当然你可以用任何其他类类型来做到这一点。

```
 list = list.Where(c=>c.Name == "height")
        .Select( new t(){Name = c.Name, Value = 30})
        .Union(list.Where(c=> c.Name != "height"))
        .ToList(); 
```

这完美！这是一个没有任何循环逻辑的简单 linq 表达式。您唯一应该注意的是，结果数据集中的行顺序与源数据集中的顺序不同。因此，如果排序对您很重要，只需在最终的 linq 查询中重现相同的 order by 子句。

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2020-11-10T09:10:46.400

我知道这是一篇旧帖子，但我一直使用更新程序扩展方法：

```
 public static void Update<TSource>(this IEnumerable<TSource> outer, Action<TSource> updator)
        {
            foreach (var item in outer)
            {
                updator(item);
            }
        }

list.Where(w => w.Name == "height").ToList().Update(u => u.height = 30); 
```

* * *

## 回答 #7

> 赞同：-2
> 
> 时间：2012-10-20T08:51:17.527

你可以这样做：

```
var newList = list.Where(w => w.Name == "height")
              .Select(s => new {s.Name, s.Value= 30 }).ToList(); 
```

但我宁愿选择使用`foreach`，因为`LINQ`它用于在您想要编辑数据时进行查询。

# java - 具有预定执行程序和无限循环的java并发

> ID：12986779
> 
> 赞同：1
> 
> 时间：2012-10-20T08:41:02.303
> 
> 标签：java, multithreading

我需要创建两个线程，一个调用调度程序执行器服务，另一个在无限循环中运行以获取和处理文件。

我使用以下代码：

```
ScheduledExecutorService executor = new ScheduledThreadPoolExecutor(1);
executor.scheduleAtFixedRate(new Runnable() {
        public void run()
        {
            obj.checkFileExist();
            obj.enqueue();

         }
    }, 0, 1, TimeUnit.MINUTES); 
```

在一个无限循环中，我一个一个地处理文件：

```
public class processModel extends Thread{

    public static void getQueueSize(int size)
    {
        System.out.println("getting queue size");

    }
    public void dequeue()
    {

        // dequeue the queue
        System.out.println("dequeue");

    }

    public void processFile()
    {
        // process the file
        System.out.println("process file");
    }

    public static void main(String[] args) {
        final boolean flag = true;
        final int size = 9;
        final processModel obj = new processModel();
        Thread t1 = new Thread(){
            public void run()
            {
                while(flag)
                {
                obj.dequeue();
                obj.processFile();
                getQueueSize(size);

                }

            }

        };

        t1.start();

    }

} 
```

我怎样才能同时实现两者？

*   线程 1 - 检查文件夹中是否存在文件。如果是，则将其排入队列，否则休眠一分钟。-调度程序可以执行此操作
*   线程 2 - 如果队列不为空，则一一处理。否则睡一分钟

如何同时运行这 2 个线程。如果您显示一些代码，它将对我有很大帮助。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-20T08:55:53.863

使用两个线程没有任何意义。两个线程同时运行的唯一时间是当入队者获取文件的速度快于出队者处理它们的速度时。如果你有一个重复的任务，你的解决方案会更简单，更健壮，这将确保你永远不会让一个线程总是领先于另一个线程（并且代码更简单）

```
ScheduledExecutorService executor = new SingleScheduledThreadPool();
executor.scheduleAtFixedRate(new Runnable() {
    public void run() {
        for(File file: obj.getCHangedFiles())
            obj.processFile(file);

     }
}, 0, 1, TimeUnit.MINUTES); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-20T08:55:40.777

您至少有三个线程在运行（除了主线程）：至少一个来自`ExecutorService`,`processModel`和`t1`. 但原则上，您只需要一个。

我认为正在安排的工作也`scheduleAtFixedRate(...)`可以自己进行处理。毕竟，处理文件不会超过一分钟，不是吗？这样，您就大大降低了程序的复杂性。

但是，如果您坚持在不同的线程中进行检查和处理，我建议您使用JDK中的[BlockingQueue实现之一。](http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/BlockingQueue.html)预定的任务会将[文件](http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/BlockingQueue.html#put%28E%29)`t1`或任何对象放入队列中，然后代码中的第二个线程可以[获取](http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/BlockingQueue.html#take%28%29)并处理该对象。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-20T09:03:53.057

我同意其他2个答案。如果你还用什么线程，你应该研究一下[wait-notify](http://www.javamex.com/tutorials/wait_notify_how_to.shtml)机制。因为它比每分钟运行一个线程要高效得多。
*如果它是你第一次使用线程和并发 - 你不会在 5 分钟内得到它！获得它需要一些时间，所以请耐心等待。

**编辑：**如评论中所述 - 如果可能的话，最好使用现有的库。

# java - HQL：动态添加 JOINS 和 WHERE 部分（ANTLR、正则表达式或字符串）

> ID：12986782
> 
> 赞同：3
> 
> 时间：2012-10-20T08:41:21.013
> 
> 标签：java, regex, hibernate, hql, antlr

我必须编写基于 HQL 的引擎，动态修补 HQL 查询，动态添加连接和位置（为了防止出现问题——我必须使用 HQL，而不是标准 API）。

例如注入到 HQL 之类的`from Object a`东西`from Object a JOIN a.path b WHERE b.id='XYZ'`

我看到了几个选项，但都不适合我：

1.  Java`String.insert()`方法。查找 WHERE 语句的位置并在语句之前和之后添加其他部分。对于这样的 HQL 来说，这不是一件容易的事

    SELECT a, (SELECT b FROM Object2 b WHERE b.path=a) FROM Object a WHERE EXISTS(SELECT 1 FROM ... WHERE)

待定算法：我可以计算每个 WHERE 之前的括号 () 数量，如果它为零 - 我找到了正确的 WHERE 位置。有人可以在我的 Java 上向我提出一个更简单的算法或简单的实现吗？

2.我怀疑我的任务可以通过正则表达式来解决，但不能写出正确的正则表达式`String.replace()`

3.我看到了基于 AST/ANTLR 的语法并且可以解析我的 HQL，但看不到它如何帮助我（即我有声明，但没有正确声明的位置`WHERE`）。

4\. 独立库用于 SQL 解析，但不用于 HQL。

无论如何，感谢您的任何想法:)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-21T07:16:44.853

以下是对您提出的选项的一些想法。

1.  ### `String.insert`手动解析

    如果可以的话，手动解析字符串可能是一种合理的方法：a) 轻松定义您将要开始使用的 HQL 语法的子集，b) 确信您可以逐个字符地解析它，并且 c)知道子集语法很少或永远不会改变。听起来你必须遵循这样的方法：

    *   从流中读取一个字符。
    *   如果它是字符串的开头（例如， a `'`），则启动字符串读取方法，以便`'('`和`')'`不作为正常输入处理。如果是字符串的结尾，则重新开始正常处理。
    *   如果它是分组表达式的开头（例如 a `'('`），则开始跟踪新表达式等。
    *   如果是 a `' '`，查看刚刚使用的单词并决定如何处理它：如果它是表达式的开头（例如，`SELECT`），检查 ID（例如，`a`），然后检查下一组可能性和处理它们，等等。
    *   阅读下一个字符并重复这些步骤。

    通常，如果添加或删除规则，该方法听起来很难在第一次就正确并且难以修改。我会避免使用这种方法来解决您的问题，但是如果您可以将输入保持得像泥土一样简单，那么这是一个不错的解决方案。

2.  ### 常用表达

    这种方法比第一种方法更简洁，但您将完全受限于正则表达式的限制：您正在寻找分析结构化数据 ( `SELECT a, (SELECT b ...) FROM Object a ...`) 而不是正则表达式最擅长的线性或平面数据。尽管如此，如果与第一步这样的手动过程相结合，它可能会很好地工作……但听起来也很困难。

3.  ### ANTLR 使用 HQL 语法

    标准的 Hibernate 下载包括 ANTLR 用来生成读取 HQL 的解析器的 HQL 语法文件。您可以将它与 HQL/Hibernate 代码分离（语法中有一些看起来很小的依赖项）并将其修剪到您知道您将要处理的内容。与前两个选项相比，这将给您带来两大优势：从一开始您就拥有一个成熟的、可工作的解析器，并且它将被编码为解析尽可能多或尽可能少的官方 HQL 输入——很少“基础”涉及到编程。

    对于这个选项，我可以想到三个缺点：HQL 语法使用版本 ANTLR 2.7，这对于 SO 上的人们来说似乎是众所周知的，但它是最新版本之后的一个（并且很快将是两个）版本。我不知道更新它是否微不足道，但根据我对 ANTLR 3 的经验和从语法来看，这两个版本都需要一些知识。但是当然你没有义务使用最新版本的 ANTLR，所以如果你想要它，这只是一个缺点。

    第二个缺点是将语法与其他 HQL 代码分开的行为，这样您就不会让这些依赖项四处飘荡。您可能还想删除不需要的规则，尽管这是一个非常简单的过程。对我来说，这里没有什么困难的，因为删除无用/不可用的东西非常容易。

    第三个缺点是您必须学习一些基本的 ANTLR 才能生成解析器代码并自信地进行任何更改。我认为 ANTLR 的基础知识很容易学习，如果你需要的话，这里有很多支持，所以我认为这和之前的缺点一样，是相当小的。

    总的来说，我认为这种方法是一个非常好的开始：您可以免费获得所需的语法，并免费从该语法中获得所需的解析器。所需要的只是将语法与 Hibernate 项目和一些初学者的 ANTLR 知识分开。

4.  ### 杂项。独立的

    我想不出任何属于此类别的项目可以解决您的问题。

5.  ### ANTLR 使用你自己的语法

    我添加了这个选项作为选项 3 的替代方案。如果您知道您开始使用的 HQL 子集并且对代表它的通用语法（不一定是 ANTLR 语法）有信心，您可以从头开始编写自己的 ANTLR 语法并从中生成您的解析器。它比选项 3 工作量更大，因为您将建立而不是缩减，但是当您了解更多有关 ANTLR 的信息时，您可能会更适应这种方法。

对于一般的 ANTLR 解决方案，您可以通过分析（生成的）ANTLR 解析器生成的 AST 树来找到放置`JOIN`和子句的位置（[此 Bart Kiers 回答](https://stackoverflow.com/a/12961928/1201210)显示了由 ANTLR 生成的简单树的示例解析器）。如果您想讨论仅 ANTLR 的解决方案，我建议您提出一个新问题，以免与此处列出的其他选项纠缠在一起。`WHERE`

听起来你正在处理一个棘手的问题，我不知道所有细节，但我认为在你的解决方案中使用 ANTLR 可以节省你的时间（无需手动编写解析器）和任何未来的变化需要（只需更改语法并重新生成解析器）。我推荐选项 3 或选项 5，以适合您的舒适度为准。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-31T14:37:21.417

我遵循路径#1。它并没有我想象的那么复杂：

代码期望`pFindPart`必须采用“WHERE”或“FROM”格式。

```
private int findInsertPosition(StringBuilder pStringBuilder, String pFindPart){
    String HQL = pStringBuilder.toString().toUpperCase(Locale.US);
    int whereIndex = HQL.length();
    int findPartLength = pFindPart.length();
    while(whereIndex >= 0){
        whereIndex = HQL.lastIndexOf(pFindPart, whereIndex);
        if (whereIndex >=0){
            String rightPart = HQL.substring(whereIndex + findPartLength);
            int count = 0;
            for(char c : rightPart.toCharArray()){
                switch(c){
                    case ')': count--; break;
                    case '(': count++; break;
                }
            }
            if (count == 0) break;
            whereIndex--;
        }
    }
    return whereIndex;
} 
```

# jakarta-ee - 页面导航中的 NullPointerException

> ID：12986787
> 
> 赞同：0
> 
> 时间：2012-10-20T08:41:56.647
> 
> 标签：jakarta-ee, nullpointerexception

```
public String onClickSearchTaskTemplate(){
    RcentJsfUtils.setFlashValue("seqNo",getSeqNo());
    setUpdateButton(true);
    return "searchTaskTemplate";
}

public void init(){
    setUpdateButton(true);
Object obj = TemplateDAO.readbyId(Long.parseLong(RcentJsfUtils.getFlashValueForKey("seqNo").toString()));
} 
```

在方法内部，`init`我得到一个空指针异常，但我使用的方法是正确的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-22T04:08:35.610

如果需要帮助，您需要提供更多上下文和代码。您还应该将长行（引发空指针异常的地方）分成多个较小的行，以便确定哪个变量为空。

乍一看，我会说错误可能正在发生，因为 getFlashValueForKey("seqNo") 为空。这可能是因为在您的 init() 方法之前未调用 onClickSearchTaskTemplate()。

# php - with do while 为什么在这种情况下值会发生变化？

> ID：12986788
> 
> 赞同：0
> 
> 时间：2012-10-20T08:42:06.100
> 
> 标签：php, while-loop

当您尝试此代码时，结果是...数字是 1

```
<?php
$i=1;
do
  {

  echo "The number is " . $i . "<br />";
    $i++;

  }
while ($i==10);
?> 
```

但是当您将此代码更改为这样时，结果为 2

```
<?php
$i=1;
do
  {

    $i++;
      echo "The number is " . $i . "<br />";

  }
while ($i==10);
?> 
```

那么为什么结果改变了..？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-20T08:46:29.967

$i++; 是`post increment operator so it will increment value by 1 on next line`并且它在当前行上使用相同的值

**第一种情况：**你在做 echo $i 然后做增量

**第二种情况：**你在 echo 语句之前增加 $i++ 所以本质上它会在 echo 行上增加 1

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-20T08:47:05.260

你会得到不同的结果，因为你在做两件不同的事情。在第一个代码片段中，您设置`$i`了 的值`1`，将其回显，然后递增`$i`。

在第二个代码片段中，您设置`$i`为`1`，增加它（即，给它的值`2`）**然后**echo `$i`，它现在的值是`2`。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-20T08:47:40.660

是的，结果会有所不同。在第一种情况下，您**在打印后递增**。而在第二种情况下，您**在打印之前递增**。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-20T08:53:56.743

在这两种情况下，do-while 循环的第一次迭代都保证运行。仅在迭代结束时检查条件。

并且，在 case1 中，您在递增之前打印了变量。所以它显示1。在case2中，您在增加变量后打印了变量。所以它显示2。

# mysql - 选择我的加入/有条件

> ID：12986789
> 
> 赞同：0
> 
> 时间：2012-10-20T08:42:07.810
> 
> 标签：mysql

我有 2 个表，其中一个包含带有重复使用的问题列表编号、问题编号和问题的问题，另一个包含答案并具有问题编号、唯一调查编号和答案，我试图将它们结合起来以识别缺失的答案。

q.qid 和 a.question 都是问题编号

q.sid 是一个重复使用的问题列表编号

a.sid 是唯一的调查编号

```
SELECT * FROM question q
LEFT JOIN answers a ON q.qid = a.question
WHERE q.sid=3 AND a.sid =2259
ORDER BY q.qid 
```

问题是我们的立场，因为我只要求出现在调查 id 2259 中分配了答案的问题。

但是我想列出来自 q.sid 3 的所有问题，并包括来自 a.sid = 2259 的答案（但不是 a.sid 2260 或 2261...，它们使用相同的 q.sid 3）并包括一个 NULL 值，如果没有条目。

这可能吗

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-20T09:13:09.997

如果您将 WHERE 条件的相关部分移动到 JOIN 条件中，它就可以工作，即仅与 sid=2259 的行连接。

```
SELECT *
FROM question q
LEFT JOIN answers a ON q.qid=a.question AND s.sid=2259
WHERE q.sid=3
ORDER BY q.qid 
```

# c++ - 在 MFC 应用程序中侦听 UDP 或切换到 TCP

> ID：12986791
> 
> 赞同：4
> 
> 时间：2012-10-20T08:42:20.663
> 
> 标签：c++, networking, tcp, network-programming, udp

我正在编辑一个遗留的 MFC 应用程序，我必须添加一些基本的网络功能。操作方必须接收一个简单的指令（数字 1、2、3、4...）并根据它做一些事情。客户希望延迟尽可能快，所以我自然决定使用数据报 (UDP)。

但是阅读各种资源让我感到困惑。我无法`CAsyncSocket`在 MFC 中侦听 UDP 套接字 ( )，只能调用 Receive 阻止并等待。阻止用户界面并不是真正的聪明。所以我想我可以使用一些线程技术，但由于我对 MFC 的经验并不多，应该如何实现呢？

问题的另一部分是我应该这样做，还是恢复到 TCP，考虑可靠性和实施问题。我知道 UDP 不可靠，但它到底有多不可靠？我读到它的速度提高了 50%，这对我来说已经很多了。

我使用的参考资料：http: [//msdn.microsoft.com/en-us/library/09dd1ycd (v=vs.80).aspx](http://msdn.microsoft.com/en-us/library/09dd1ycd(v=vs.80).aspx)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-20T09:58:45.373

TCP 中的大部分“延迟”是建立初始连接所需的握手。

如果您的客户端应用程序要从您的 MFC 应用程序请求大量命令，那么 TCP 是不费吹灰之力的。客户端打开一个 TCP 连接并保持打开状态。

如果您的 MFC 应用程序要接收来自不同客户端的大量临时命令，那么 UDP 可能是合适的，但您必须权衡节省 TCP 握手的微小成本是否值得一个命令可能永远不会发生的可能性都是因为 UDP 把它扔掉了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-20T23:58:57.537

谢谢大家。综上所述，我决定尝试使用 UDP。至于我的实施问题，我自己找到了一个答案，这对我很有帮助，看起来它会让我的沟通井井有条。对于将来阅读或提出相同问题的人，两个简单的 CAsyncSocket 包装类：

[http://www.codeproject.com/Articles/16581/Sending-Receiving-UDP-Datagrams-with-MFC-s-CAsyncS](http://www.codeproject.com/Articles/16581/Sending-Receiving-UDP-Datagrams-with-MFC-s-CAsyncS)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-01-11T16:07:42.720

为什么不能使用[CAsyncSocket](https://msdn.microsoft.com/en-us/library/3d46645f.aspx)在 MFC 中收听 UDP 套接字？我有这样做的代码。使用端口号、SOCK_DGRAM 和 FD_READ 作为参数 调用[Create() 。](https://msdn.microsoft.com/en-us/library/xz019029.aspx)[OnReceive()](https://msdn.microsoft.com/en-us/library/wfttx1af.aspx)应该被自动调用。如果没有，您可以通过使用 FD_READ 参数调用[AsyncSelect()来刺激它。](https://msdn.microsoft.com/en-us/library/5yhyb5ef.aspx)

# java - 即使在正确登录后也无法调用任何需要身份验证的操作

> ID：12986799
> 
> 赞同：3
> 
> 时间：2012-10-20T08:43:52.747
> 
> 标签：java, api, soap, soapui, xtrf

我在 URL 上使用[XTRF API](http://knowledgebase.xtrf.eu/display/XTRFAPI/Welcome+to+XTRF+API+Knowledge+Base) 1.3 版`http://[security]/translationManagementService/PartnerWSAPI` 和 SOAP UI 4.5 来模拟客户端操作。

我能够成功登录（没有收到错误消息），但任何其他操作都失败并出现异常

> 您未通过身份验证或提供的凭据不正确，请重新进行身份验证。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-24T11:00:33.757

前段时间我遇到了类似的问题（我使用的是通用的 XTRF Web Service API，而不是合作伙伴的版本）。据我记得，它是由与连接持久性相关的东西引起的。

尽管如此，我还是解决了这个问题，所以请查看我[在 Ruby 中的 XTRF API 适配器类](https://gist.github.com/3945418)。它没有涵盖 API 提供的所有方法，但对我来说已经足够了。

希望它能以某种方式帮助你。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-11T10:46:14.623

我遇到了同样的问题，这对我来说是灵魂：问题描述：我想在后端调用一个网站，它能够用 JSON 响应我。任务是测试 JSON 结构。我无法做到这一点，因为我的登录站点总是得到重定向。

解决方案： 1\. 转到“显示服务查看器”并点击“服务端点”栏。输入 http 域和正确的用户名和密码。例如，当我从浏览器登录时，我会调用`"http://www.rocket.com/backend /homescreenJson"` 而不是输入`"endpont"="http://www.rocket.com`和我的站点用户名/密码。2.点击soapUI中的文件/首选项，转到“HTTP设置”并选中以下框：“将身份验证设置添加到传出请求”。

我为我工作。干杯，卡罗利

# mysql - 带有 3 个表的数据透视表

> ID：12986802
> 
> 赞同：2
> 
> 时间：2012-10-20T08:44:39.177
> 
> 标签：mysql, sql, pivot

我正在尝试从三个表中生成一个透视视图：

1.  学生们
2.  费用
3.  stud_fee（关系表）

表格：

```
Students Table
+----+-----------+-----------+----------------+----------------+-------+
| id | school_id | last_name | first_name     | middle_initial | yrlvl |
+----+-----------+-----------+----------------+----------------+-------+
|  1 | 2080295   | Doe       | John           | A              |     3 |
|  2 | 0239129   | Rizal     | Jose           | M              |     4 |
|  3 | 1231238   | Santos    | Jane           | M              |     2 |
+----+-----------+-----------+----------------+----------------+-------+

Fee table
+----+--------------------+------------+
| id | fee_name           | fee_amount |
+----+--------------------+------------+
|  1 | Registration Fee   |        100 |
|  2 | News Letter        |        100 |
|  3 | T-Shirt            |        250 |
|  4 | Party              |        500 |
+----+--------------------+------------+

stud_fee table
+----+------------+-----+
| id | stud_id | fee_id |
+----+---------+--------+
|  1 |       1 |      1 |
|  2 |       1 |      2 |
|  3 |       1 |      3 |
|  4 |       2 |      1 |
|  5 |       3 |      1 |
|  6 |       3 |      4 |
+----+---------+--------+ 
```

我想将费用作为列，将学生作为行。我想让它显示为：

```
+-----------+------------------+-------------+---------+-------+-------+
| school_id | Registration Fee | News Letter | T-Shirt | Party | Total |
+-----------+------------------+-------------+---------+-------+-------+
| 2080295   |              100 |         100 |     250 |       |   450 |
| 0239129   |              100 |             |         |       |   100 |
| 1231238   |              100 |             |         |   500 |   600 |
+-----------+------------------+-------------+---------+-------+-------+ 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-20T15:34:54.043

看起来您可能有未知数量的费用要转换为列，如果是这种情况，那么您将需要使用准备好的语句来查询：

```
SET @sql = NULL;
SELECT
  GROUP_CONCAT(DISTINCT
    CONCAT(
      'max(case when f.fee_name = ''',
      f.fee_name,
      ''' then f.fee_amount else 0 end) AS `',
      f.fee_name, '`'
    )
  ) INTO @sql
FROM fee f;

SET @sql = CONCAT('SELECT s.school_id, ', @sql, '
                    , sum(f.fee_amount) as Total
                  FROM students s
                  LEFT JOIN stud_fee sf
                    on s.id = sf.stud_id
                  LEFT JOIN fee f
                    on sf.fee_id = f.id
                   GROUP BY s.school_id');

PREPARE stmt FROM @sql;
EXECUTE stmt;
DEALLOCATE PREPARE stmt; 
```

请参阅[带有演示的 SQL Fiddle](http://sqlfiddle.com/#!2/f4e82/11)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-20T09:09:00.940

试试这个：

```
SELECT 
  s.school_id,
  MAX(CASE WHEN f.fee_name = 'Registration Fee' THEN f.fee_amount END) 
    AS 'Registration Fee',
  MAX(CASE WHEN f.fee_name = 'News Letter'      THEN f.fee_amount END) 
    AS 'News Letter',
  MAX(CASE WHEN f.fee_name = 'T-Shirt'          THEN f.fee_amount END) 
    AS 'T-Shirt',
  MAX(CASE WHEN f.fee_name = 'Party'            THEN f.fee_amount END) 
    AS 'Party',
  SUM(f.fee_amount) AS Total
FROM Students s
INNER JOIN stud_fee sf 
        ON s.Id = sf.stud_id
INNER JOIN fee f       
       ON sf.fee_id = f.id
GROUP BY s.school_id 
```

## [SQL 小提琴演示](http://sqlfiddle.com/#!2/7f087/1)

# vb.net - 为什么 SHGetFileInfo 会改变（当前）文化？

> ID：12986803
> 
> 赞同：3
> 
> 时间：2012-10-20T08:44:44.943
> 
> 标签：vb.net, file, dropbox

上下文：目前在VisualStudio2012中开发/维护的程序，用VB（.NET）编写，针对Framework v3.5。我们的大多数客户都安装了荷兰语 Windows，并且他们中的大多数人将区域设置设置为荷兰语 (nl-NL)，这意味着 . (句点) 用于分组， , (逗号) 作为小数分隔符。

在我们近 10,000 名客户中，只有一 (1) 名出现问题，我们确定其原因是调用 SHGetFileInfo 以获取文件的（小）图标。代码中的相关语句：

```
 Private Declare Unicode Function SHGetFileInfo Lib "Shell32.dll" Alias "SHGetFileInfoW" (pszPath As String, dwFileAttributes As UInteger, ByRef psfi As SHFILEINFO, cbSizeFileInfo As UInteger, uFlags As UInteger) As IntPtr 
```

和

```
Dim result As IntPtr = SHGetFileInfo(pszPath, dwFileAttributes, psfi, cbSizeFileInfo, uFlags) 
```

我们评估 - 在该客户的特定 PC 上 - 在（第一次）调用 SHGetFileInfo 之前，System.Globalization.CultureInfo.CurrentCulture 是 (nl-NL)，正如预期的那样，但在调用之后 CurrentCulture 立即切换到（en -US），这显然在其他地方引起了问题。

此时暂停代码并检查配置面板，区域设置仍然是荷兰语（nl-NL）。此外，代码中没有捕获到 SystemEvents.UserPreferenceChanged（或 -Changing）事件。停止并重新启动程序后，程序中的 CurrentCulture 再次为荷兰语 (nl-NL) - 直到第一次 SHGetFileInfo 调用。

实际上，我们通过在必要时重置 CurrentCulture 解决了这个问题：

```
 Private Declare Unicode Function SHGetFileInfo0 Lib "Shell32.dll" Alias "SHGetFileInfoW" (pszPath As String, dwFileAttributes As UInteger, ByRef psfi As SHFILEINFO, cbSizeFileInfo As UInteger, uFlags As UInteger) As IntPtr

  Private Shared Function SHGetFileInfo(pszPath As String, dwFileAttributes As UInteger, ByRef psfi As SHFILEINFO, cbSizeFileInfo As UInteger, uFlags As UInteger) As IntPtr

    Dim ciBefore As System.Globalization.CultureInfo = Application.CurrentCulture

    Dim result As IntPtr = SHGetFileInfo0(pszPath, dwFileAttributes, psfi, cbSizeFileInfo, uFlags)

    Dim ciAfter As System.Globalization.CultureInfo = Application.CurrentCulture
    If (ciAfter.Name <> ciAfter.Name) OrElse (ciBefore IsNot ciAfter) Then
      Application.CurrentCulture = ciBefore
    End If

    Return result
  End Function 
```

由于问题只出现在特定的客户 PC 上，我不得不在他的 PC 上分析问题，从而限制了我检查问题的时间。所以，在实际意义上为他解决了这个问题之后，我留下了一个令人不快的事实，我不知道这怎么会发生，因此我的问题是：任何人都可以在这种黑暗中有所启发吗？

附加信息：客户直到一个月前才遇到此问题。最近，他开始使用（并且可能已安装）DropBox 和 BoxSync。我不知道这些的内部工作原理，但由于它们也“使用文件”并且它们的安装或多或少与出现的问题相吻合，我确实怀疑可能存在联系。

我希望我已经充分说明了这个问题，但如果需要更多信息，我很乐意尝试提供。任何帮助将不胜感激。在此先感谢您的任何建议。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-20T11:52:44.803

线程的 CurrentCulture 属性实际上是一个非托管属性。本机代码可以调用 SetThreadLocale() 来更改它。因此，当您调用非托管函数时，文化为什么会发生变化并不完全是神秘的。

此外，像 SHGetFileInfo() 这样的 shell 函数受制于 shell 扩展的行为。它们中有很多在野外，并且经常引起这样的问题。调用 SetThreadLocale() 是修复格式问题的一种便捷方法，不恢复语言环境是一个严重的错误，特别是在 shell 扩展中，因为它在其他进程的上下文中运行。

不要通过更改代码来解决这个问题，告诉客户修复他的机器。最好的方法是运行 SysInternals 的[AutoRuns 实用程序](http://technet.microsoft.com/en-us/sysinternals/bb963902.aspx)。Explorer 选项卡显示所有已安装的 shell 扩展的列表。禁用发布者列中没有“Microsoft”的所有内容。注销+登录使其生效。如果他不能没有这些扩展中的一些，那么他可以一一重新启用它们以找到麻烦制造者。

# https - 为什么 Nginx 不允许显示来自文件系统的图像？

> ID：12986807
> 
> 赞同：1
> 
> 时间：2012-10-20T08:46:19.327
> 
> 标签：https, proxy, nginx, proxypass, play2-mini

我正在开发 play2.0 框架（使用 java）应用程序。在我们的应用程序中，我们有文件上传和文件预览功能（所有类型的文件）。我们正在上传到文件系统。我能够显示除图像之外的大多数文档，如 pdf、doc、txt 等文件。当我尝试显示浏览器时抛出错误消息，例如“此图像无法显示，因为它包含错误”。我正在为 https 使用 NginX 反向代理。我发现问题仅出在 Nginx 上。因为所有图像和文件显示都是在没有 NginX 的情况下发生的。所以我尝试使用如下所示的“位置”指令： `location /fileview/ { proxy_pass https://127.0.0.x:443/files/; }` 我的所有文件都将被上传进入play2.0项目根文件夹中的文件夹。我确定我在proxy_pass上做错了，但我不知道该怎么做。

我认为我在位置上做错了。自 3 天以来，我对此感到震惊。有人可以帮助我吗？提前致谢。

# css - Magento 网站中未显示的图像

> ID：12986809
> 
> 赞同：-1
> 
> 时间：2012-10-20T08:47:04.103
> 
> 标签：css, image, magento

我是编码新手，但我姐姐的网站有问题。我已将“添加到包”和“愿望清单”按钮上传到产品页面[http://v4vintage.com/magento/index.php/vintage-jewellery/bracelets-bangles/1970s-abstract-green-quartz-bracelet。 html](http://v4vintage.com/magento/index.php/vintage-jewellery/bracelets-bangles/1970s-abstract-green-quartz-bracelet.html)并且它没有在 Firefox 中显示并且在其他浏览器中已损坏。为什么我的编码有问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-20T08:51:22.520

问题在于您的图像而不是您的“编码”（CSS 或 HTML）。导出图像时图像已经损坏：http: [//v4vintage.com/magento/skin/frontend/vintage/default/images/wishlist.gif](http://v4vintage.com/magento/skin/frontend/vintage/default/images/wishlist.gif)。

如果您想在按钮中使用它作为背景，您应该将其导出为 PNG，它应该可以正常工作。

# css - 将 Initializr 模板中的导航按钮与导航栏底部对齐

> ID：12986817
> 
> 赞同：1
> 
> 时间：2012-10-20T08:48:02.343
> 
> 标签：css, html, initializr

我在[Initializr](http://www.initializr.com/)引导模板上建立了一个网站。我使用的是图像，而不是左上角的“项目名称”。导航链接仍然与页面顶部对齐，但我希望它们位于黑色导航栏的底部：

![Initializr Bootstrap 模板导航](../Images/93e0d0cb34f82ada397ee5c551a30fcb.png)

要重现最简单的方法是下载 Bootstrap 模板，并将导航栏中的“项目名称”更改为：

```
<a class="brand" href="#"><img src="apple-touch-icon-114x114-precomposed.png" /></a> 
```

我一辈子都无法让链接在导航栏底部对齐，除非通过`.navbar .nav`在（.min.css）中设置样式，`bootstrap.css`顶部边距约为 90px。然而，这种（基于像素的）解决方案感觉像是一种错误的方法。

我试过玩`position: relative; bottom: 0`，`vertical-align: bottom`但无济于事。这些模板中的 CSS 数量也无济于事（尤其是对于像我这样的开发者而非设计师）。

任何人都可以将链接整齐地对齐到导航栏的底部吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-21T09:52:42.660

如果通过放弃 Initializr（对于我需要的功能来说太强大）并使用以下结构自己修复它：

```
<div id="container">
    <div class="navbar">
        <a href="index.html" class="logo">
            <img src="img/logo.png" />
        </a>
        <div class="nav">
            <ul>
                <li><a href="page1.html">Page 1</a></li>
                <li><a href="page2.html">Page 2</a></li>
            </ul>
        </div>
    </div>
    <div class="clear"></div>
    <div class="content">
        Content here
    </div>
</div> 
```

以及以下 CSS：

```
#container { width: 1170px; margin: 0 auto; }
.navbar, .content { font-size: 1.6em; }
.navbar .logo { float: left; }
div.nav ul { list-style: none;padding: 0;}
div.nav ul li { display: inline;}
div.nav ul li a { display: block; background-image: url('../img/linksBackground.png'); background-position: 0 80px; background-repeat: no-repeat;
margin-top: 115px; float: left; padding: 11px 30px 9px 30px; text-decoration: none; color: #5dd2ff; }
div.nav ul li a:hover {color: #fff; background-position: 0 160px; background-color: #95e2ff;}
div.nav ul li.active a { color: #fff;font-weight: bold; background-position: left top; background-color: #5dd2ff;}

.clear { clear: both; } 
```

# authentication - Refinerycms + devise：自定义用户找不到设计助手（如何添加单独的设计身份验证）？

> ID：12986818
> 
> 赞同：3
> 
> 时间：2012-10-20T08:48:02.387
> 
> 标签：authentication, devise, helpers, refinerycms

我有一个问题，起初看起来并不难，但实际上我无法解决。我正在尝试将炼油厂用作应用程序的 CMS。我想将 Refinery 用户和其他类型的用户分开，称他们为 mktgeistusers，他们需要注册和登录才能访问某些受保护的页面。所以我首先创建了一个没有炼油厂的应用程序（只有设计），以确保一切正常（从身份验证方面）。这里没有问题。下一步是通过执行以下操作创建全新的炼油厂安装：

```
refinerycms testRefineryPlusDevise  -d mysql 

add other refinery gems to the Gemfile

gem 'refinerycms-i18n', '~> 2.0.0'
gem 'refinerycms-blog', '~> 2.0.0'
gem 'refinerycms-inquiries', '~> 2.0.0'
gem 'refinerycms-search', '~> 2.0.0', :git => 'git://github.com/refinery/refinerycms-search.git', :branch => '2-0-stable'
gem 'refinerycms-page-images', '~> 2.0.0'
gem "refinerycms-news", '~> 2.0.0'

bundle update

rails generate refinery:blog
rails generate refinery:inquiries
rails generate refinery:news

rake db:migrate 
```

它创造了应有的一切。当我继续创建新类型的用户时，问题就开始了：

```
rails generate devise Mktgeistuser 

      invoke  active_record
      create    db/migrate/20121019201721_devise_create_mktgeistusers.rb
      create    app/models/mktgeistuser.rb
      invoke    test_unit
      create      test/unit/mktgeistuser_test.rb
      create      test/fixtures/mktgeistusers.yml
      insert    app/models/mktgeistuser.rb
       route  devise_for :mktgeistusers

rake db:migrate 
```

用户现已创建。然后我添加了一个静态页面来放置登录/注销链接以进行测试，并添加了以下路由：

```
 #devise_for :mktgeistusers

  devise_for :mktgeistuser, :controllers=>{:sessions=>"mktgeistuser/sessions"} do
    match '/mktgeistuser/sign_out', :action=>"destroy", :controller=>"devise/sessions"
    match '/mktgeistuser/sign_in',  :action=>"new", :controller=>"devise/sessions"
    match '/mktgeistuser/sign_up',  :action=>"new", :controller=>"devise/registrations"
  end

  root :to => "static#home"

 default of "refinery"
      mount Refinery::Core::Engine, :at => '/refinery' 
```

在 static/home 中有这样的：

```
<h1>Static#home</h1>
<p>
    Find me in app/views/static/home.html.erb
</p>
<div id="user_nav">
    <% if mktgeistuser_signed_in? %>
    Signed in as <%= current_mktgeistuser.email %>.
    <%= link_to "Sign out", destroy_mktgeistuser_session_path, :method => :delete %>
    <% else %>
    <%= link_to 'Register', new_mktgeistuser_registration_path %> or <%= link_to 'Sign in', new_mktgeistuser_session_path %>
    <% end %>
</div>
<%= javascript_include_tag :defaults %> 
```

问题是，当炼油厂在玩时，应用程序找不到 mktgeist 用户的设计助手：当我点击登录/注册链接时，我得到

```
NoMethodError in Devise/sessions#new

Showing /home/mike/.rvm/gems/ruby-1.9.2-p290/gems/devise-2.0.4/app/views/devise/sessions/new.html.erb where line #3 raised:

undefined method `mktgeistuser_session_path' for #<ActionDispatch::Routing::RoutesProxy:0xdeb1d6c>
Extracted source (around line #3):

1: <h2>Sign in</h2>
2: 
3: 

<%= form_for(resource, :as => resource_name, :url => session_path(resource_name)) do |f| %>
4:   <div><%= f.label :email %><br />
5:   <%= f.email_field :email %></div>
6: 
```

同样，找不到destroy_mktgeistuser_session_path new_mktgeistuser_registration_path 和new_mktgeistuser_session_path。你知道如何解决这个问题吗？

顺便说一句，这是一个 rake 路由输出

```
 static_home GET    /static/home(.:format)                static#home
           mktgeistuser_sign_out        /mktgeistuser/sign_out(.:format)      devise/sessions#destroy
            mktgeistuser_sign_in        /mktgeistuser/sign_in(.:format)       devise/sessions#new
            mktgeistuser_sign_up        /mktgeistuser/sign_up(.:format)       devise/registrations#new
        new_mktgeistuser_session GET    /mktgeistuser/sign_in(.:format)       mktgeistuser/sessions#new
            mktgeistuser_session POST   /mktgeistuser/sign_in(.:format)       mktgeistuser/sessions#create
    destroy_mktgeistuser_session DELETE /mktgeistuser/sign_out(.:format)      mktgeistuser/sessions#destroy
           mktgeistuser_password POST   /mktgeistuser/password(.:format)      devise/passwords#create
       new_mktgeistuser_password GET    /mktgeistuser/password/new(.:format)  devise/passwords#new
      edit_mktgeistuser_password GET    /mktgeistuser/password/edit(.:format) devise/passwords#edit
                                 PUT    /mktgeistuser/password(.:format)      devise/passwords#update
cancel_mktgeistuser_registration GET    /mktgeistuser/cancel(.:format)        devise/registrations#cancel
       mktgeistuser_registration POST   /mktgeistuser(.:format)               devise/registrations#create
   new_mktgeistuser_registration GET    /mktgeistuser/sign_up(.:format)       devise/registrations#new
  edit_mktgeistuser_registration GET    /mktgeistuser/edit(.:format)          devise/registrations#edit
                                 PUT    /mktgeistuser(.:format)               devise/registrations#update
                                 DELETE /mktgeistuser(.:format)               devise/registrations#destroy
                            root        /                                     static#home
                        refinery        /                                     Refinery::Core::Engine

Routes for Refinery::Core::Engine:
                                                    /system/resources/*dragonfly(.:format)                    <Dragonfly::App name=:refinery_resource
s >
                     insert_admin_resources GET     /refinery/resources/insert(.:format)                      refinery/admin/resources#insert
                            admin_resources GET     /refinery/resources(.:format)                             refinery/admin/resources#index
                                            POST    /refinery/resources(.:format)                             refinery/admin/resources#create
                         new_admin_resource GET     /refinery/resources/new(.:format)                         refinery/admin/resources#new
                        edit_admin_resource GET     /refinery/resources/:id/edit(.:format)                    refinery/admin/resources#edit
                             admin_resource PUT     /refinery/resources/:id(.:format)                         refinery/admin/resources#update
                                            DELETE  /refinery/resources/:id(.:format)                         refinery/admin/resources#destroy
                                                    /system/images/*dragonfly(.:format)                       <Dragonfly::App name=:refinery_images >
                        insert_admin_images GET     /refinery/images/insert(.:format)                         refinery/admin/images#insert
                               admin_images GET     /refinery/images(.:format)                                refinery/admin/images#index
                                            POST    /refinery/images(.:format)                                refinery/admin/images#create
                            new_admin_image GET     /refinery/images/new(.:format)                            refinery/admin/images#new
                           edit_admin_image GET     /refinery/images/:id/edit(.:format)                       refinery/admin/images#edit
                                admin_image PUT     /refinery/images/:id(.:format)                            refinery/admin/images#update
                                            DELETE  /refinery/images/:id(.:format)                            refinery/admin/images#destroy
                            admin_dashboard GET     /refinery/dashboard(.:format)                             refinery/admin/dashboard#index
              admin_disable_upgrade_message         /refinery/disable_upgrade_message(.:format)               refinery/admin/dashboard#disable_upgrad
e_message
                                                    /system/resources/*dragonfly(.:format)                    <Dragonfly::App name=:refinery_resource
s >
                                            GET     /refinery/resources/insert(.:format)                      refinery/admin/resources#insert
                                            GET     /refinery/resources(.:format)                             refinery/admin/resources#index
                                            POST    /refinery/resources(.:format)                             refinery/admin/resources#create
                                            GET     /refinery/resources/new(.:format)                         refinery/admin/resources#new
                                            GET     /refinery/resources/:id/edit(.:format)                    refinery/admin/resources#edit
                                            PUT     /refinery/resources/:id(.:format)                         refinery/admin/resources#update
                                            DELETE  /refinery/resources/:id(.:format)                         refinery/admin/resources#destroy
                                                    /system/images/*dragonfly(.:format)                       <Dragonfly::App name=:refinery_images >
                                            GET     /refinery/images/insert(.:format)                         refinery/admin/images#insert
                                            GET     /refinery/images(.:format)                                refinery/admin/images#index
                                            POST    /refinery/images(.:format)                                refinery/admin/images#create
                                            GET     /refinery/images/new(.:format)                            refinery/admin/images#new
                                            GET     /refinery/images/:id/edit(.:format)                       refinery/admin/images#edit
                                            PUT     /refinery/images/:id(.:format)                            refinery/admin/images#update
                                            DELETE  /refinery/images/:id(.:format)                            refinery/admin/images#destroy
                            admin_dashboard GET     /refinery/dashboard(.:format)                             refinery/admin/dashboard#index
              admin_disable_upgrade_message         /refinery/disable_upgrade_message(.:format)               refinery/admin/dashboard#disable_upgrad
e_message
                                                    /system/resources/*dragonfly(.:format)                    <Dragonfly::App name=:refinery_resource
s >
                                            GET     /refinery/resources/insert(.:format)                      refinery/admin/resources#insert
                                            GET     /refinery/resources(.:format)                             refinery/admin/resources#index
                                            POST    /refinery/resources(.:format)                             refinery/admin/resources#create
                                            GET     /refinery/resources/new(.:format)                         refinery/admin/resources#new
                                            GET     /refinery/resources/:id/edit(.:format)                    refinery/admin/resources#edit
                                            PUT     /refinery/resources/:id(.:format)                         refinery/admin/resources#update
                                            DELETE  /refinery/resources/:id(.:format)                         refinery/admin/resources#destroy
                                                    /system/images/*dragonfly(.:format)                       <Dragonfly::App name=:refinery_images >
                                            GET     /refinery/images/insert(.:format)                         refinery/admin/images#insert
                                            GET     /refinery/images(.:format)                                refinery/admin/images#index
                                            POST    /refinery/images(.:format)                                refinery/admin/images#create
                                            GET     /refinery/images/new(.:format)                            refinery/admin/images#new
                                            GET     /refinery/images/:id/edit(.:format)                       refinery/admin/images#edit
                                            PUT     /refinery/images/:id(.:format)                            refinery/admin/images#update
                                            DELETE  /refinery/images/:id(.:format)                            refinery/admin/images#destroy
                            admin_dashboard GET     /refinery/dashboard(.:format)                             refinery/admin/dashboard#index
              admin_disable_upgrade_message         /refinery/disable_upgrade_message(.:format)               refinery/admin/dashboard#disable_upgrad
e_message
                                  news_root         /news(.:format)                                           refinery/news/items#index
                         news_items_archive GET     /news/archive/:year(/:month)(.:format)                    refinery/news/items#archive
                                 news_items GET     /news(.:format)                                           refinery/news/items#index
                                  news_item GET     /news/:id(.:format)                                       refinery/news/items#show
                            news_admin_root         /refinery/news(.:format)                                  refinery/news/admin/items#index
                           news_admin_items GET     /refinery/news/items(.:format)                            refinery/news/admin/items#index
                                            POST    /refinery/news/items(.:format)                            refinery/news/admin/items#create
                        new_news_admin_item GET     /refinery/news/items/new(.:format)                        refinery/news/admin/items#new
                       edit_news_admin_item GET     /refinery/news/items/:id/edit(.:format)                   refinery/news/admin/items#edit
                            news_admin_item PUT     /refinery/news/items/:id(.:format)                        refinery/news/admin/items#update
                                            DELETE  /refinery/news/items/:id(.:format)                        refinery/news/admin/items#destroy
                                     search         /search(.:format)                                         refinery/search#show
                      inquiries_new_inquiry GET     /contact(.:format)                                        refinery/inquiries/inquiries#new
              thank_you_inquiries_inquiries GET     /contact/thank_you(.:format)                              refinery/inquiries/inquiries#thank_you
                        inquiries_inquiries POST    /contact(.:format)                                        refinery/inquiries/inquiries#create
             spam_inquiries_admin_inquiries GET     /refinery/inquiries/spam(.:format)                        refinery/inquiries/admin/inquiries#spam
        toggle_spam_inquiries_admin_inquiry GET     /refinery/inquiries/:id/toggle_spam(.:format)             refinery/inquiries/admin/inquiries#togg
le_spam
                  inquiries_admin_inquiries GET     /refinery/inquiries(.:format)                             refinery/inquiries/admin/inquiries#inde
x
                    inquiries_admin_inquiry GET     /refinery/inquiries/:id(.:format)                         refinery/inquiries/admin/inquiries#show
                                            DELETE  /refinery/inquiries/:id(.:format)                         refinery/inquiries/admin/inquiries#dest
roy
               edit_inquiries_admin_setting GET     /refinery/inquiries/settings/:id/edit(.:format)           refinery/inquiries/admin/settings#edit
                    inquiries_admin_setting PUT     /refinery/inquiries/settings/:id(.:format)                refinery/inquiries/admin/settings#updat
e
                                  blog_root         /blog(.:format)                                           refinery/blog/posts#index
                                  blog_post GET     /blog/posts/:id(.:format)                                 refinery/blog/posts#show
                              blog_rss_feed         /blog/feed.rss(.:format)                                  refinery/blog/posts#index {:format=>"rs
s"}
                              blog_category         /blog/categories/:id(.:format)                            refinery/blog/categories#show
                              blog_comments         /blog/:id/comments(.:format) 
```

ETC

非常感谢您的任何帮助或建议！

顺便说一句，我正在使用设计 2.0.4

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-18T04:01:36.633

你需要改变

```
<%= form_for(resource, :as => resource_name, :url => session_path(resource_name)) %> 
```

至

```
<%= form_for(resource, :as => resource_name, :url => mktgeistuser_session_path) %> 
```

# javascript - 使用javascript将网页转换为图像

> ID：12986820
> 
> 赞同：1
> 
> 时间：2012-10-20T08:48:24.190
> 
> 标签：javascript, screenshot, webpage

> **可能重复：**
> [使用 HTML5/Canvas/Javascript 截取屏幕截图](https://stackoverflow.com/questions/4912092/using-html5-canvas-javascript-to-take-screenshots)

我有 1 个网页，我在其中以表格的形式从 db 获取一些详细信息我希望将该页面保存为图像，以便我可以将该图像邮寄给用户。有人可以帮帮我吗

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-20T08:54:31.187

[马尔万](https://stackoverflow.com/users/1699750/marwan-alsabbagh)是对的。安全问题阻止了 javascript。我会向服务器发送一个请求，生成图片，然后发回图片。这当然会增加服务器的 CPU 和网络使用率。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-20T08:55:07.220

您可能想查看[HTML 2 Canvas](http://html2canvas.hertzen.com/)，它可以将 DOM 的某些部分渲染到画布中。但是，这可能仅适用于允许您使用画布对象的浏览器，因为它们是 HTML5 规范的一部分。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-20T08:50:18.470

出于安全原因，webbrowser 中的 javascript 无法执行一些低级别的操作，例如截取用户屏幕的屏幕截图。您可以使用[selenium 之类的内容截取屏幕截图](https://stackoverflow.com/questions/3422262/take-a-screenshot-with-selenium-webdriver)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-20T08:50:51.840

用JS不行，一般不能截图。

# azure - Windows Azure Blob 中的块读取问题

> ID：12986821
> 
> 赞同：1
> 
> 时间：2012-10-20T08:48:36.617
> 
> 标签：azure, azure-storage, azure-blob-storage

总而言之，我正在尝试找到一种从 Windows azure 读取 blob 的方法。现在我遇到了一些问题，读取的块的总大小不等于 blob 的总大小。我的测试 blob 大小为 154805720 字节，每个块读取大小为 10*1024*1024。我发现块读取的最后一个缓冲区不是假定的大小 8005080 字节。它总是 4M。顺便说一句，我已通过 cloudbrerry 存储资源管理器将此 blob 下载到本地。它与我之前上传的原始文件大小相同。所以，我确定 blob 原始大小是可以的，这意味着 154805720 字节。这是我的代码。请帮助查看它。

```
 private static CloudBlobClient CreateBlobClient(StorageAccount account)
        {
            CloudBlobClient blobClient = null;
            CloudStorageAccount oStorageAccount = CreateStorageAccount(account);
            blobClient = oStorageAccount.CreateCloudBlobClient();
            blobClient.Timeout = new TimeSpan(2, 0, 0);
            blobClient.WriteBlockSizeInBytes = 4 * 1024 * 1024;
            blobClient.RetryPolicy = RetryPolicies.Retry(20, TimeSpan.Zero);

            return blobClient;
        }

        public static byte[] DownloadChunkFromBlob(StorageAccount account, string sContainerName, String sBlobName, int blobOffset, int bufferSize)
        {
            CloudBlobClient blobClient = CreateBlobClient(account);

            CloudBlobContainer container = blobClient.GetContainerReference(sContainerName);
            bool b = container.CreateIfNotExist();
            CloudBlob blob = container.GetBlobReference(sBlobName);

            using (var blobStream = blob.OpenRead())
            {
                var buffer = new byte[bufferSize];
                blobStream.Seek(blobOffset, SeekOrigin.Begin);
                int numBytesRead = blobStream.Read(buffer, 0, bufferSize);

                if (numBytesRead != bufferSize)
                {
                    var trimmedBuffer = new byte[numBytesRead];
                    Array.Copy(buffer, trimmedBuffer, numBytesRead);
                    return trimmedBuffer;
                }
                return buffer;
            }
        } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-01T03:56:38.247

答案是`OpenRead()`一次最多只能读取 4 MB。当我设置块读取大小为 4MB 。一切安好。

# linux - munin 没有显示任何图表

> ID：12986830
> 
> 赞同：0
> 
> 时间：2012-10-20T08:50:08.783
> 
> 标签：linux, monitoring, munin

我已经部署了 munin，但它没有显示任何图表。我无法理解配置有什么问题。最初它用于显示一些图表但不显示统计数据，它只是一个空白图表。帮助解决这个问题。

纳克斯

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-20T09:00:43.913

我自己在 munin 上经历了很多有趣的陷阱，有几件事会导致这个问题。

在我的头顶上：

*   运行 munin cronjobs 的用户没有写入图形文件夹的权限。
*   munin节点没有运行
*   配置不当。确保 munin.conf 和 munin-node.conf 中的所有地址/端口都正确

# php - PHP通过引用返回静态变量

> ID：12986836
> 
> 赞同：5
> 
> 时间：2012-10-20T08:51:08.100
> 
> 标签：php, reference, static, return

忽略命名空间等任何人都可以解释为什么我不能返回对我的静态数组的引用吗？实际上，该类是一个 getter 和 setter。我想使用静态方法，因为在整个应用程序生命周期中永远不需要再次实例化该类。

我知道我正在做的事情可能只是“不好的做法” - 任何关于此事的更多知识将不胜感激。

```
namespace xtend\core\classes; 
use xtend\core\classes\exceptions;

class registry {

private static $global_registry = array();

private function __construct() {}

public static function add($key, $store) {
    if (!isset(self::$global_registry[$key])) {
        self::$global_registry[$key] = $store;
    } else {
        throw new exceptions\invalidParameterException(
            "Failed to add the registry. The key $key already exists."
        );
    }
}

public static function remove($key) {
    if (isset(self::$global_registry[$key])) {
        unset(self::$global_registry[$key]);
    } else {
        throw new exceptions\invalidParameterException(
            "Cannot remove key $key does not exist in the registry"
        );
    }
}

public static function &get($key) {
    if (isset(self::$global_registry[$key])) {
        $ref =& self::$global_registry[$key];
        return $ref;
    } else {
        throw new exceptions\invalidParameterException(
            "Cannot get key $key does not exist in the registry"
        );
    }
}

} 
```

像这样使用它

```
$test = array("my","array");
\xtend\core\classes\registry::add("config",&$test);
$test2 =& \xtend\core\classes\registry::get("config");
$test2[0] = "notmy";    
print_r($test); 
```

你会认为我会回来

```
array("notmy","array"); 
```

但我只取回原件。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-08-16T11:13:11.433

执行摘要：

```
class Registry {
    private static $global_registry = array();

    public static function Add($key, &$value){
        static::$global_registry[$key] =& $value;
    }
    public static function &Get($key){
        return static::$global_registry[$key];
    }
    public static function Remove($key){
        unset(static::$global_registry[$key]);
    }
}

$test = array("my", "array");
Registry::Add("config", $test);
$test2 =& Registry::Get("config");
$test2[0] = "notmy";    
var_dump($test); 
```

一旦你了解了它的工作原理，它真的很简单：

*   **首先，**函数`add`必须[通过引用传递](http://www.php.net/manual/en/language.references.pass.php)，否则函数中看到的值甚至不是你传入的值。

*   **其次，**在存储值时`$global_registry`，我们必须[通过引用进行赋值](http://www.php.net/manual/en/language.operators.assignment.php#language.operators.assignment.reference)。否则，存储的值甚至不是函数中看到的值。

*   **第三，**我们必须通过在函数声明中放置一个 & 来[通过引用返回。](http://www.php.net/manual/en/language.references.return.php)你已经这样做了，除了这段代码：

```
$ref =& self::$global_registry[$key]; // redundant line
return $ref; 
```

与此代码相同：

```
return self::$global_registry[$key]; 
```

因为在这一行`public static function &get`中，我们已经声明了返回值是一个引用。

*   **最后，**我们需要按引用分配返回的引用，您也这样做了：

```
$test2 =& Registry::Get("config"); 
```

如您所见，*整个链*必须是通过引用。如果任何一个步骤不是由裁判完成的，它就不会起作用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-18T17:02:50.673

您可以通过deferencing返回您的静态数组：

```
$ref = &self::$global_registry[$key]; 
```

您需要像这样访问它：

```
$keyVal = &registry::get($key); 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2016-12-31T11:24:50.103

您可以使用以下代码进行锻炼以供参考

```
class Apple {

    public static $basket = [], $scripts =[];

    public static function addToBasket($grapes) {
        self::$scripts =& self::AppStatic(__CLASS__ . __METHOD__, array());
        self::$scripts[$grapes] = ['type' => $grapes];
        return self::$scripts;
    }

    public static function &AppStatic($name, $default_value = NULL) {
        if (isset(self::$basket[$name]) || array_key_exists($name, self::$basket)) {
            return self::$basket[$name];
        }

        if (isset($name)) {
            return self::$basket[$name] = &$default_value;
        }

        $data = NULL;
        foreach (self::$basket as $key => $value) {
            $data[$key] = $value;
        }
        return $data;
    }
} 
```

# java - 带有弹簧石英的 cron 表达式

> ID：12986840
> 
> 赞同：0
> 
> 时间：2012-10-20T08:51:18.087
> 
> 标签：java, spring, cron, cronexpression, crontrigger

如何为下面编写 cron 表达式？

1.  每个月的第一个工作日 00:00:00
2.  每月第 4 个工作日 06:00:00
3.  周六 00:00:00

基于上面的 cron 表达式，如何获取开始日期和结束日期？

1.  上个月的第一天和本月的第一天
2.  上月 1 日和本月第 3 个工作日
3.  当前星期的星期一日期和本星期的星期六日期。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-20T11:14:57.537

使用 Quartz 调度器测试：

> 每个月的第一个工作日 00:00:00

```
 0 0 0 1W * ? * 
```

* * *

> 每月第 4 个工作日 06:00:00

```
0 0 6 4W * ? * 
```

* * *

> 周六 00:00:00

```
0 0 0 ? * SAT * 
```

# java - 如何创建类似 JTable 的标题，并将其用作 JTexPane 标题？

> ID：12986842
> 
> 赞同：-1
> 
> 时间：2012-10-20T08:51:37.227
> 
> 标签：java, swing, jtable, jtextpane, jtableheader

我需要一个 JTextPane，它的顶部有一个标题，就像 JTable 中的标题一样。基本上，我需要一个单行/列的多行 JTable，而不必经历创建渲染和编辑器的所有麻烦。我尝试在 JPanel 中添加 JLabel 和 JTextpane，但 JLabel 与 JTable Header 不同，它们之间存在差距。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-20T09:01:31.750

*   不确定 JTable 是否有大问题，确定可能只有角落的问题

*   将 JPanel 与 JTextComponent（在 JScrollPane 中）放在 CENTER 区域，将 JLabel/JTextField 放在 NORTH

    * * *

    [对于 JLabel/JTextField](https://stackoverflow.com/a/10299581/714968)

*   改变不透明度

*   从 JTableHeader (UIManager) 获取颜色

*   放在那里边界

# android - Android 应用程序：纵向手机但横向相机视图

> ID：12986843
> 
> 赞同：4
> 
> 时间：2012-10-20T08:51:44.383
> 
> 标签：android, view, camera

我是 java 和 android 开发的新手。我正在 frameLayout 窗口中开发一个带有相机视图的应用程序。我的应用程序设计为纵向，但窗口为横向<如图所示>。正如您所熟悉的那样，默认相机视图是横向的，所以我执行 **camera.setDisplayOrientation (90);** 旋转它。

我的问题是，当图像在横向窗口下以纵向视图旋转时，它会变形（捏合）。any1 可以帮我解决这个问题吗，any1 可以为我提供一个解决方案来修剪边界以达到所需的比例。

！我是stackoverflow的新用户，所以不允许上传图片，否则我可以告诉你。

```
 ___________________________________________
    |____________Notification bar_______________|
    |                                           |
    |   My Application                          |
    |___________________________________________|
    |                                           |
    |                                           |
    |                                           |
    |                                           |
    |                                           |
    |                                           |
    |                                           |
    |         camera View                       |
    |          ____________________             |
    |         |                    |            |
    |         |                    |            |
    |         |                    |            |
    |         |                    |            |
    |         |                    |            |
    |         |____________________|            |
    |                                           |
    |                                           |
    |                                           |
    |                                           |
    |                                           |
    |                                           |
    |                                           |
    |                                           |
    |___________________________________________| 
```

代码：

```
public void surfaceChanged(SurfaceHolder holder, int format, int width, int height) 
{
        if(preview_running){
        camera.stopPreview();
        preview_running = false;
    }

    Camera.Parameters parameters = camera.getParameters();

    List<Camera.Size> sizes = parameters.getSupportedPreviewSizes();
    int mFrameWidth =  width;
    int mFrameHeight = height;

   {
        double minDiff = Double.MAX_VALUE;
        for (Camera.Size size : sizes) 
        {
            if (Math.abs(size.height - height) < minDiff) 
            {
                mFrameWidth = size.width;
                mFrameHeight = size.height;
                minDiff = Math.abs(size.height - height);
            }
        }
    }
    if( (width*height) != 0){
        parameters.setPreviewSize(mFrameHeight, mFrameWidth);
        System.out.println("TEST 1");
    }

    camera.setDisplayOrientation(90);
    camera.setParameters(parameters);
    camera.startPreview();

    preview_running = true;
} 
```

# c - POSIX 信号量/线程不能正常工作？

> ID：12986845
> 
> 赞同：0
> 
> 时间：2012-10-20T08:52:31.690
> 
> 标签：c, linux, pthreads, posix, semaphore

我有以下代码：

```
#include<stdio.h>
#include<semaphore.h>
#include<pthread.h>

sem_t semr;

void* func(void* i)
{
    sem_wait(&semr);
    printf("\nInstance %d running",*(int*)i);
    //sem_post(&semr);
    return NULL;
}

int main(void)
{
    sem_init(&semr,0,1);
    void* (*fp)(void*);
    int s1,s2,s3,val=0;
    pthread_t t1,t2,t3;
    fp=&func;
    val=1;
    s1=pthread_create(&t1,NULL,fp,(void*)&val);
    val=2;
    s2=pthread_create(&t2,NULL,fp,(void*)&val);
    val=3;
    s3=pthread_create(&t3,NULL,fp,(void*)&val);
    pthread_join(t1,NULL);
    pthread_join(t2,NULL);
    pthread_join(t3,NULL);  
    return 0;
} 
```

## 这是我对发生的事情的理解：

第一个线程（`t1`）成功执行。但是，随后的线程（`t2`和`t3`）被阻塞了，因为我从来没有`sem_post`使用过信号量。`pthread_join`s 将等待`main()`所有 3 个线程终止。

## 这就是发生的事情：

两个线程都不会输出*任何东西*。甚至没有`t1`输出（见下面的问题 1）

## 然而，

就我所期望的而言，删除所有`pthread_join`s 具有更好的效果： `t1`成功执行并返回命令提示符。

我的问题：

1.  根据[this page](http://www.yolinux.com/TUTORIALS/LinuxTutorialPosixThreads.html)上的示例代码，`main()`应该等待`t2`并`t3`终止（除了成功执行`t1` *并* 输出*一些东西*）。我在这里使用`pthread_join`不正确吗？发生了什么？

2.  为什么阻塞的线程（`t2`和`t3`）会发生？线程是否因返回而被迫终止`main()`？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-20T09:00:21.800

您应该确保您打印的任何内容都以换行符终止（不跟随）。在被阻塞等待加入您的线程`stdout`时不会被刷新。`main`当您再次明确取消程序时，`stdout`不会被刷新。

# android - 在android中获得24小时的差异

> ID：12986847
> 
> 赞同：0
> 
> 时间：2012-10-20T08:53:08.483
> 
> 标签：android

如果过去 24 小时内没有下载数据，我想调用一个下载数据的活动。但我不知道该怎么做。有人可以帮我吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-20T09:00:50.767

首先保存数据时间，然后使用警报管理器启动调度后台任务，并使用第一次保存数据时间检查数据时间。如果数据时间不同的是 24 小时，则运行下载活动。

[使用警报管理器安排后台任务](http://mobile.tutsplus.com/tutorials/android/android-fundamentals-scheduling-recurring-tasks/)

谢谢

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-20T10:00:05.770

你下载的文件的修改时间呢？

[http://developer.android.com/reference/java/io/File.html#lastModified()](http://developer.android.com/reference/java/io/File.html#lastModified%28%29)

或者您可以在 SharedPreferences 中保存上次下载时间：

[http://developer.android.com/guide/topics/data/data-storage.html#pref](http://developer.android.com/guide/topics/data/data-storage.html#pref)

我不认为使用`AlarmManager`是正确的方法，这将迫使用户每 24 小时下载一次文件或数据，即使他们几天或几周没有使用您的应用程序。这可能很烦人，我认为您不应该使用，`AlarmManager`而只是在用户启动应用程序时检查下载更新。

# c# - 不删除现有文件

> ID：12986848
> 
> 赞同：2
> 
> 时间：2012-10-20T08:53:13.993
> 
> 标签：c#, file

如果文件存在，我想先将其删除，然后再写入文件。这是代码：

```
try
{
    if (File.Exists("qwe.mp4"))
    {
        File.Delete("qwe.mp4");
    }
    File.WriteAllBytes("qwe.mp4", encodedDataAsBytes);                   
} 
```

但是，当我运行程序时，它不会删除现有数据，而是将以前的数据附加到下一个数据。（第一个数据只有 2 秒，附加新数据后，它得到 4 秒）。但新数据无法读取，这意味着它只能在前 2 秒播放，而其他 2 秒无法读取。

我应该如何解决这个问题？我想永久删除现有文件并使用新数据创建一个新文件。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-20T08:56:28.797

[`File.WriteAllBytes()`](http://msdn.microsoft.com/en-us/library/system.io.file.writeallbytes.aspx)如果文件已经存在，则覆盖该文件，因此您无需显式删除它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-20T09:14:05.103

如果您希望覆盖现有内容，为什么不简单地创建一个文件流`FileMode.Create`这样

```
using (FileStream my_stream = new FileStream("filename.mp4", FileMode.Create, FileAccess.Write)) {
  using (BinaryWriter my_writer = new BinaryWriter(my_stream)) {
    my_writer.Write(my_data);
  }
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-20T08:56:39.140

您必须为[File.Exists](http://msdn.microsoft.com/en-us/library/system.io.file.exists.aspx)和[File.Delete包含文件的完整路径](http://msdn.microsoft.com/en-us/library/system.io.file.delete.aspx)

*您应该始终使用绝对路径来确保您正在查看正确的文件*

```
public static bool Exists(
    string path
) 
```

否则可能是文件被覆盖的情况[File.WriteAllBytes](http://msdn.microsoft.com/en-us/library/system.io.file.writeallbytes.aspx)因为它创建一个新文件，将指定的字节数组写入文件，然后关闭文件。

**如果目标文件已存在，则将其覆盖。**

# iphone - 访问私有 iOS API，如何？

> ID：12986849
> 
> 赞同：2
> 
> 时间：2012-10-20T08:53:21.310
> 
> 标签：iphone, objective-c, ios, api, iphone-privateapi

我想从 iOS SDK 访问一些与相机相关的私有 API，例如：

```
- (void)setExposureMode:(int)arg1;
- (int)exposureMode; 
```

等等。这只是为了我的个人发展，我不打算向商店提交任何应用程序。但我似乎无法弄清楚如何访问和使用这些 API。是否有任何教程或书籍解释该过程？

例如，我尝试将此行添加到我的 .h 文件中：

```
@interface AVCaptureDevice (Private)

- (void)setExposureMode:(int)arg1;

@end 
```

但是当我从我的应用程序调用这个 API 时，它崩溃了。即使 respondsToSelector 返回 TRUE。

那么任何人都可以将我链接到一些好的资源来了解私有 API 编程吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-20T08:56:01.737

你所做的在语法上几乎是正确的。

唯一的问题是，在您的类别声明中，您使用`int`的是`float`. 您可以尝试更改此设置，看看情况是否有所改善，但我怀疑问题出在其他地方。

对于私有 API，没有关于应该如何使用其方法的描述。所以，也许你在错误的时间或错误的上下文中调用了一个方法。可能检查崩溃日志可以提供一些见解。

还有一件事，看看你的崩溃：可能它崩溃的事实是因为你设置的 exposureMode 不受支持。尝试使用（[参考](http://developer.apple.com/library/ios/#documentation/AVFoundation/Reference/AVCaptureDevice_Class/Reference/Reference.html)）：

```
- (BOOL)isExposureModeSupported:(AVCaptureExposureMode)exposureMode 
```

事先检查（如果您还没有这样做）。

# objective-c - 如何让这个指针保存函数中分配的数据地址？

> ID：12986856
> 
> 赞同：0
> 
> 时间：2012-10-20T08:54:19.130
> 
> 标签：objective-c, c

我想保留函数中分配的内存块（完整代码`void ManipulateImagePixelData(CGImageRef inImage)`请参见[http://developer.apple.com/library/mac/#qa/qa1509/_index.html ）](http://developer.apple.com/library/mac/#qa/qa1509/_index.html)

```
void ManipulateImagePixelData(CGImageRef inImage)
{
    // Create the bitmap context
    CGContextRef cgctx = CreateARGBBitmapContext(inImage);
    if (cgctx == NULL) 
    { 
        // error creating context
        return;
    }

     // Get image width, height. We'll use the entire image.
    size_t w = CGImageGetWidth(inImage);
    size_t h = CGImageGetHeight(inImage);
    CGRect rect = {{0,0},{w,h}}; 

    // Draw the image to the bitmap context. Once we draw, the memory 
    // allocated for the context for rendering will then contain the 
    // raw image data in the specified color space.
    CGContextDrawImage(cgctx, rect, inImage); 

    // Now we can get a pointer to the image data associated with the bitmap
    // context.
    void *data = CGBitmapContextGetData (cgctx);
    if (data != NULL)
    {

        // **** You have a pointer to the image data ****

        // **** Do stuff with the data here ****

    }

    // When finished, release the context
    CGContextRelease(cgctx); 
    // Free image data memory for the context
    if (data)
    {
        free(data);
    }

} 
```

我已经修改了函数，以便我有宽度和高度，但我没有设法让内存块`data`指向。

我的功能如下：

```
void ManipulateImagePixelData(CGImageRef inImage, 
unsigned long * width, unsigned long * height, void * copy) 
```

我不再在最后释放数据并承担以后释放它的责任。

我以为我可以做这样简单的事情：

```
(caller)
 void * rawPixels=NULL;
ManipulateImagePixelData([obj CGImageForProposedRect:NULL context:[NSGraphicsContext currentContext] hints:nil],&imgWidth1, &imgHeight1, rawPixels)];

(ManipulateImagePixelData function)
void * pixels = CGBitmapContextGetData (cgctx);
    if (pixels != NULL) {
    *width=w;
    *height=h;
    copy=pixels;
    [...] 
```

并让 rawPixels 指向上述块，但`rawPixels`在此调用后仍为 NULL。我对此有点困惑，我的 C 技能有点生疏。

我应该怎么做才能获取数据？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-20T09:04:04.790

您应该传递 `ManipulateImagePixelData`一个指向变量的指针，您希望在该变量中获取函数内分配的缓冲区的地址：

```
void ManipulateImagePixelData(CGImageRef inImage, unsigned long * width, unsigned long * height, void ** copy) {

        ...
        void* data = CGBitmapContextGetData (cgctx);
        *copy = data; // copy the output parameter
        ...
} 
```

并这样称呼它：

```
void * rawPixels=NULL;
ManipulateImagePixelData([obj CGImageForProposedRect:NULL context:[NSGraphicsContext currentContext] hints:nil],&imgWidth1, &imgHeight1, &rawPixels)]; 
```

更好的是，您可以这样定义它：

```
void* ManipulateImagePixelData(CGImageRef inImage, unsigned long * width, unsigned long * height) {

          ...
          void* data = CGBitmapContextGetData (cgctx);
          ...
          return data;
} 
```

# html - 为网页设计项目保留两组文件

> ID：12986857
> 
> 赞同：0
> 
> 时间：2012-10-20T08:54:21.580
> 
> 标签：html, css, web-deployment

在进行网站设计/编程项目时，我想知道大师保留两组文件是否很常见。一种用于开发，一种用于生产，如 jQuery。

原因是我有一个项目，它的标记和 CSS 受到了我的大量评论。此外，代码是缩进、间隔和制表符。例如

**标记**

```
<!-- START google translate script link ================================================================== -->
<meta name="google-translate-customization" content="9f841e7780177523-3214ceb76f765f38-gc38c6fe6f9d06436-c"></meta>
<!-- END google translate script link ==================================================================== -->

<!-- START stylesheet link =============================================================================== -->
<link href="styles/main.css" rel="stylesheet" type="text/css" media="all" />
<!-- END stylesheet link ================================================================================= -->

<div id="header_text"><!-- START header_text ============================================================= -->
<h1 id="first-child">Pak United Food Services Ltd.,</h1>
<h1 id="last-child"><a href="http://www.pufs.org/" title="www.pufs.org">PUFS</a></h1>
<span></span>
</div><!-- END header_text =============================================================================== --> 
```

**CSS**

```
/* START import ------------------------------------------------------------------------------------------- */
@import url("reset.css");
@import url("feature-carousel.css");
/* END import --------------------------------------------------------------------------------------------- */

/* START wrapper ------------------------------------------------------------------------------------------ */
div#wrapper
{
width: 100%;
font-family: Calibri, Arial, Georgia,Times, 'Times New Roman', serif;
font-size: 16px;
line-height: 22px;
background: url("../images/bg.jpg") repeat scroll 0 0 #1D2426;
}
/* END wrapper -------------------------------------------------------------------------------------------- */ 
```

等等。当然，我不应该使用这些文件进行部署。理想情况下，它们应该被删除所有注释、空格、缩进、制表符（甚至是 EOL？）。但是一旦完成，代码阅读起来就会非常不友好。

那么我们应该有两个以上的文件集吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-20T08:59:12.280

是的。

大多数人使用构建脚本，或者手动滚动，或者类似[http://gruntjs.com/](http://gruntjs.com/)

就个人而言，我做了几件事：

*   使用 uglify.js 连接和缩小 javascript 的脚本
*   SASS 确保我的 CSS 没有注释和缩小
*   脚本使用 jpegtrans/optipng/pngcrush 等确保图像很小
*   PHP 输出过滤器缓存我的 PHP 并在途中缩小它

这意味着我可以随心所欲地创建一个网站，但我确信用户会看到 1 个 CSS 文件、1 个 JS 文件、一些缩小的 HTML 和小图像。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-20T09:00:38.333

拥有两组文件是一个非常非常糟糕的主意。迟早你会犯一个错误，一个人会与另一个人步调不一致。

为什么没有部署程序？该过程的一部分可能是拍摄文件的快照并在部署之前在这些文件上运行脚本以删除空格等。

# django - 在 Django 模板中创建字典

> ID：12986860
> 
> 赞同：1
> 
> 时间：2012-10-20T08:54:41.223
> 
> 标签：django, templates, dictionary

所以，在 template.html 我使用：

```
{% if dict %}
{{ s={} }}
{% endif %} 
```

错误是 -**无法解析余数：来自 's={}' 的 '={}'**。如何解决？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-20T09:05:05.803

Django 模板不应该真正用于制作字典，它们应该在您的视图中制作，并且只应在模板中完成基本处理。

这样做是为了严格遵守 MVC 设计模式。

从这里查看：[https ://docs.djangoproject.com/en/dev/topics/templates/](https://docs.djangoproject.com/en/dev/topics/templates/)

> **哲学**
> 
> 如果您有编程背景，或者如果您习惯于像 PHP 这样将编程代码直接混合到 HTML 中的语言，那么您需要记住，Django 模板系统不仅仅是将 Python 嵌入到 HTML 中。这是设计使然：模板系统旨在表达表示，而不是程序逻辑。
> 
> Django 模板系统提供了功能类似于某些编程结构的标签——用于布尔测试的 if 标记、用于循环的 for 标记等——但这些不是简单地作为相应的 Python 代码执行，模板系统不会任意执行Python 表达式。默认情况下仅支持下面列出的标签、过滤器和语法（尽管您可以根据需要将自己的扩展添加到模板语言）。

从外观上看，您要`dict`根据某些条件创建一个。您可能应该重新排列逻辑并`dict`在视图中创建 - 您还可以通过这种方式利用 python 的所有功能。

如果您更详细地描述它，您的情况可能有很多解决方法。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2021-04-11T17:38:33.620

它仍然是谷歌搜索的第一名，并且没有很好的解决方案。（在我看来）

我的解决方案：

自定义模板标签

```
from django import template
import ast

register = template.Library()

@register.simple_tag
def create_dict(str_dict):
    return ast.literal_eval(str_dict) 
```

然后在模板中

```
{% load yout_tag_file %}
{% create_dict "{ 'my_val_1': ['test', 'test', 'test'],'my_val_2': 2, }" as config %}
{% for key, value in config.items %}
   {{key}} - {{value}}
{% endfor %} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-20T08:58:09.250

你不能在模板中这样做。这不是模板的用途。您应该改为在视图或自定义模板标签上执行此逻辑。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2018-05-22T04:27:22.173

如果你在 Django 中使用 Jinja2，你可以这样做。[Jinja2](http://jinja.pocoo.org/docs/2.10/)比 Django 模板库具有更多的功能和性能。在 Jinja2 中，您可以像这样设置 dict：

```
{% set my_dict = { 'my_val_1': 1,'my_val_2': 2, } %} 
```

此外，您可以更新循环内的 dict 变量。这将跳过范围问题。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-20T08:59:37.440

您不能直接将 python 代码放入模板中。但是您可以在 if 条件下将变量设置为某些值。你可以使用[with 标签来做到这一点](https://docs.djangoproject.com/en/1.4/ref/templates/builtins/#with)

```
{% with alpha=1 beta=2 %}
    ...
{% endwith %} 
```

# cocos2d-iphone - 如何跟踪以前的触摸位置（cocs2d）？

> ID：12986861
> 
> 赞同：-3
> 
> 时间：2012-10-20T08:54:41.623
> 
> 标签：cocos2d-iphone

我想选择一个精灵并将其移动到下一个触摸位置。

**如何跟踪两个单独的触摸位置？**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-20T08:58:18.050

添加一个 ivar：

```
CGPoint previousLocation; 
```

在触摸方法的末尾使用当前位置更新它：

```
-(void) ccTouchesBegan … etc
{
    …
    previousLocation = touchLocation;
} 
```

# inkscape - Inkscape——将文本转换为对象，动态偏移。Shift+Ctrl+C 失败？

> ID：12986862
> 
> 赞同：22
> 
> 时间：2012-10-20T08:54:53.227
> 
> 标签：inkscape

我在尝试时遇到了问题

1> 将文本行转换为对象，应用`Path > Object to Path`（或`Shift+Ctrl+c`），

2> 然后应用`'Path>Dynamic offset'`（或`Ctrl+J`）。

文本行（比如说“test”）可以转换为路径。但是当我应用动态偏移时，什么也没有发生。通常我会在文本边缘看到一个很小的小矩形，但这次我看不到它。是因为我改变了 Inkscape 的一些默认参数集吗？

我已经完成了：

1> 应用文本`'Path > Object to Path'`

2> 取消组合`'Ctrl+U'.`

3> 选择所有单个字母，应用`'Path > Combine'`( `Ctrl+K`)

现在我可以将动态偏移应用于文本。

因此，有什么建议吗？

* * *

## 回答 #1

> 赞同：49
> 
> 时间：2012-10-20T14:30:17.997

首先`Ctrl+K`（路径组合），然后`Ctrl+J`（动态偏移）将起作用。

# java - Java 日历日期错误

> ID：12986863
> 
> 赞同：0
> 
> 时间：2012-10-20T08:54:59.380
> 
> 标签：java, date, calendar, simpledateformat

谁能帮我理解为什么我得到不同的月份值

```
SimpleDateFormat dateFormat = new SimpleDateFormat("dd/MM/yyyy");    
System.out.println(dateFormat.format(cal.getTime()) 
                   + "--" 
                   + cal.get(Calendar.MONTH)); 
```

令人惊讶的显示

```
09/09/2012--8 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-20T08:55:44.577

在[`Calendar`](http://docs.oracle.com/javase/7/docs/api/java/util/Calendar.html)课堂上，[`MONTH`](http://docs.oracle.com/javase/7/docs/api/java/util/Calendar.html#MONTH)从 index 开始`0`。所以，`January`是 0，`February`是 1，因此`September`是 8。

**PS**：-这是真的，这是课堂上`Inconsistency`的`Calendar`，所以我建议你看看，[**`Joda-Time API`**](http://www.joda.org/joda-time/)让你的生活更轻松，同时使用日期时间数据。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-20T08:58:27.923

您可能的问题是[Calendar 使用从零开始的索引来表示 months](http://docs.oracle.com/javase/1.5.0/docs/api/java/util/Calendar.html#MONTH)。因此，格式正确输出`9`9 月，但吸气剂返回`8`.

这是日历的愚蠢和不一致吗？是的！改用[Joda-Time API](http://joda-time.sourceforge.net/)来处理日期和时间。据我所知，在[JSR 310](http://today.java.net/pub/a/today/2008/09/18/jsr-310-new-java-date-time-api.html)出现之前，它目前是事实上的标准。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-20T08:58:18.850

Calendar.MONTH 返回基于 0 的值，即[JANUARY](http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/Calendar.java#Calendar.0JANUARY)用 0 表示。这样 SEPTEMBER 是 8。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-20T08:59:55.853

日历中的月份从 0 开始

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2014-02-10T08:03:12.040

其他答案都是正确的。java.util.Calendar 类对月份数字使用从零开始的计数。避免使用 java.util.Date/Calendar 类的众多原因之一。

[使用Joda-Time](http://www.joda.org/joda-time/) 2.3 库可以更轻松地完成此类工作。值得庆幸的是，它明智地使用了基于 1 的计数，例如 1 月 = 1，12 月 = 12。

```
java.util.Calendar cal = java.util.Calendar.getInstance();

// Though not required here for this one purpose, it's better to specify a time zone than rely on default.
DateTimeZone timeZone = DateTimeZone.forID( "America/Montreal" );
DateTime dateTime = new DateTime( cal.getTime(), timeZone );

// Extract month. Note how these two lines call similar sounding methods that are actually quite different.
// One returns a primitive int value. The other returns an object of nested class DateTime.Property.
int monthNumber = dateTime.getMonthOfYear();
String monthName = dateTime.monthOfYear().getAsText( Locale.FRENCH ); 
```

转储到控制台...</p>

```
System.out.println( "dateTime: " + dateTime );
System.out.println( "monthNumber: " + monthNumber );
System.out.println( "monthName: " + monthName ); 
```

运行时……</p>

```
dateTime: 2014-02-10T02:58:35.386-05:00
monthNumber: 2
monthName: février 
```

# iphone - 在 NSMutableArray 中存储指向另一个对象的指针并更改它

> ID：12986870
> 
> 赞同：0
> 
> 时间：2012-10-20T08:55:58.397
> 
> 标签：iphone, ios, cocoa-touch, pointers, nsmutablearray

我有一个名为的对象`GraphicPath`，它存储一个`CGMutablePath`和一个`UIColor`填充颜色的值。然后我有一个`NSMutableArray`调用`graphic`来存储一系列这些`GraphicPath`对象，这些对象最终组成了`drawRect`另一个类中绘制的图像。

我还有一个弹出的小模块，可以让用户更改此图形的颜色。所以我有一个单独`NSMutableArray`的跟踪与该模块接口的所述图形中的所有颜色。让我们称之为`colors`。我想这样做，所以每当我对 进行更改时`colors`，相应的颜色值`GraphicPath`也会更改（因此我不必进入 Array 的内部`GraphicPaths`来找到它来更改它）。

所以很明显`UIColor`，每个`GraphicPath`属性中的属性都需要有一个指向颜色的指针`colors`。我对如何`UIColor`在数组中保留对象指针感到非常困惑`colors`，并且每当我更改此值时，a 中的相应值`GraphicPath`也会更改。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-20T18:33:17.383

正如评论中所说，您需要使您的 GraphicPath 对象的 UIColor 字段指向颜色数组中的相应对象。因此，更改颜色数组中的对象将导致自定义对象的 UIColor 字段的“更改”。例如，如果您有：

```
UIColor *color1, color2, color3, etc;
NSMutableArray *colors = [[NSMutableArray alloc] initWithObjects:color1, color2, color3, nil];

NSMutableDictionary *graphicDictionary = [[NSMutableDictionary alloc] init];
[graphicDictionary setObject:somePathObject forKey:@"path"]
[graphicDictionary setObject:[colors objectAtIndex:0] forKey:@"color"];
GraphicPath *firstGraphicPathObject = [[GraphicPath alloc] initWithDitionary:graphicDictionary]; 
```

因此，接下来如果您要更改其中一个颜色的对象，您将更改 color# 变量，因此您将更改由您的 objects 字段返回的值。我猜是这样的。

# grails - Grails - 显示正确的类名

> ID：12986876
> 
> 赞同：0
> 
> 时间：2012-10-20T08:57:01.330
> 
> 标签：grails

我有简单的层次结构：

```
class Atom {}

class Text extends Atom { String value}

class Unit { 
    List atoms
    static hasMany = [ atoms:Atom ] 
} 
```

假设我们创建一个 Text 对象和一个 Unit 对象，并选择 Unit 作为 Text 的父级。它工作正常。当我在 Unit 上调用 show 方法时，我看到我的 Unit 由一个 Atom 组成。当我点击这个 atom 时，它会将我重定向到 atom 控制器，但我的 atom 实际上是文本，我想查看 Text 控制器。这是预期的行为，因为在我的 show.gsp 中有这样的代码：

```
<g:each in="${unitInstance.atoms}" var="a">
    <span class="property-value" aria-labelledby="atoms-label">
        <g:link controller="atom" action="show" id="${a.id}">
            ${a?.encodeAsHTML()}
        </g:link>
    </span>
</g:each> 
```

好的，数据库将实际原子类型存储在“类”字段中，所以我编辑了第 3 行：

```
<g:link controller="${a.class}" action="show" id="${a.id}"> 
```

并且 ${a.class} 总是返回原子。所以，我的问题是 - 我们如何才能获得实际的班级名称？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-23T13:39:01.757

您可能遇到了关于 Hibernate 返回代理而不是膨胀对象的[GORM Gotcha 。](http://blog.springsource.org/2010/07/28/gorm-gotchas-part-3/)

在您的链接中，您可以尝试：

```
<g:link controller="${Atom.get(a.id).getClass()}" ... /> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-20T13:01:46.993

可能有更好的方法，但是如何在 Atom 中添加一个方法并在 Text 中覆盖它，以返回适当的字符串？

# android - Android - 定时器功能和alertDialog

> ID：12986879
> 
> 赞同：1
> 
> 时间：2012-10-20T08:57:20.690
> 
> 标签：android, timer, popup, android-alertdialog

我创建了一个带有计时器的游戏，我试图让当计时器结束时，玩家会看到警报弹出窗口或任何类型的弹出窗口，上面写着“关卡完成”，你的积分是 xxx 和下一个关卡的按钮。我尝试了一些东西，但时间结束了，但没有弹出窗口。任何想法？

**时间类：工作正常。**

公共课时间{

```
private String time;
private boolean isDone;

public Time() {
    super();
    isDone=false;
}

CountDownTimer count = new CountDownTimer(5000, 1000) {

public void onTick(long millisUntilFinished) {

    int seconds = (int) (millisUntilFinished / 1000);
    int minutes = seconds / 60;
    seconds = seconds % 60;
    String tempSec=Integer.toString(seconds);
    if (tempSec.length()==1){
        tempSec="0"+tempSec;
    }
    time="Time Left: " + minutes + ":"+tempSec;
 }

 public void onFinish() {
    setDone(true);
}

}.start(); 
```

**这是活动类：**

```
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE);
    requestWindowFeature(Window.FEATURE_NO_TITLE);

    club=new Club();
    clubView = new ClubView(this, club);
    mole=new Mole();
    stageView=new StageView(this);
    moleView=new MoleView(this,mole);
    pointsView=new PointsView(this);

    time=new Time();
    timerView=new TimerView(this, time);

    allViews=new AllViews(this);
    allViews.setViews(stageView, moleView, pointsView, timerView,clubView);

    setContentView(allViews);
    allViews.setOnTouchListener((View.OnTouchListener)this);

    if (timerView.getTime().isDone()){
        AlertDialog.Builder builder = new AlertDialog.Builder(this);
        builder.setMessage("Level Complete");
        builder.setMessage("your score is"+pointsView.getPoint());
        AlertDialog dialog = builder.create();
        dialog.show();
    }

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-20T09:35:13.293

关键是计时器需要一段时间才能用完，如果计时器完成，您只检查一次：

```
if (timerView.getTime().isDone()){
    AlertDialog.Builder builder = new AlertDialog.Builder(this);
    builder.setMessage("Level Complete");
    builder.setMessage("your score is"+pointsView.getPoint());
    AlertDialog dialog = builder.create();
    dialog.show();
} 
```

更好的选择是创建某种循环，但这是**禁止**的！因为你会阻塞主线程。

下一个选项是创建某种侦听器。侦听器将对您的活动进行某种回调以告诉“我完成了”。这通常使用接口来完成，

小例子：

```
public class Time {

    private String time;
    private boolean isDone;
    private TimerCallback timerCallback;

    public Time(TimerCallback t) {
        this.timerCallback = t;
        isDone = false;
    }

    public interface TimerCallback {
        abstract void onTimerDone();
    }

    CountDownTimer count = new CountDownTimer(5000, 1000) {

        public void onTick(long millisUntilFinished) {

            int seconds = (int) (millisUntilFinished / 1000);
            int minutes = seconds / 60;
            seconds = seconds % 60;
            String tempSec = Integer.toString(seconds);
            if (tempSec.length() == 1) {
                tempSec = "0" + tempSec;
            }
            time = "Time Left: " + minutes + ":" + tempSec;
        }

        public void onFinish() {
            setDone(true);
            timerCallback.onTimerDone();
        }

    }.start();

} 
```

您的活动将如下所示：

```
public class myActivity extends Activity implements TimerCallback {
//I have now clue how your activity is named but it's just an example!

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE);
        requestWindowFeature(Window.FEATURE_NO_TITLE);

        club = new Club();
        clubView = new ClubView(this, club);
        mole = new Mole();
        stageView = new StageView(this);
        moleView = new MoleView(this, mole);
        pointsView = new PointsView(this);

        //Because we are implementing the TimerCallback interface "this" is a valid argument
        //this can be cast to TimerCallback:  "(TimerCallback) this"
        time = new Time(this);
        timerView = new TimerView(this, time);

        allViews = new AllViews(this);
        allViews.setViews(stageView, moleView, pointsView, timerView, clubView);

        setContentView(allViews);
        allViews.setOnTouchListener((View.OnTouchListener) this);

    }

    //We must add this method, because we have implemented the TimerCallback interface!
    public void onTimerDone(){
        //You could remove the isDone check because it is not really necessary
        if (timerView.getTime().isDone()) {
            AlertDialog.Builder builder = new AlertDialog.Builder(this);
            builder.setMessage("Level Complete");
            builder.setMessage("your score is" + pointsView.getPoint());
            AlertDialog dialog = builder.create();
            dialog.show();
        }
    }

} 
```

我在这里发布了一个非常相似的答案，但是在这个问题中没有计时器，而是某种“游戏结束”事件。 [如何对另一个类的返回值进行连续检查？](https://stackoverflow.com/questions/12941654/how-do-i-perform-a-continuous-check-on-andorid-of-the-returned-value-of-another/12941725)

以及关于侦听器模式或观察者模式的 wiki 链接 [http://en.wikipedia.org/wiki/Observer_pattern](http://en.wikipedia.org/wiki/Observer_pattern)

罗尔夫

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-20T09:39:42.757

使用[Timer](http://developer.android.com/reference/java/util/Timer.html)和[TimerTask](http://developer.android.com/reference/java/util/TimerTask.html)运行计划的操作。例子在[这里](http://android.okhelp.cz/timer-simple-timertask-java-android-example/)和[这里](http://enos.itcollege.ee/~jpoial/docs/tutorial/essential/threads/timer.html)。

# php - 带有验证脚本的 PHP 联系表？

> ID：12986887
> 
> 赞同：0
> 
> 时间：2012-10-20T08:58:33.840
> 
> 标签：php, validation, contact-form

我想在我的网站上添加一个带有验证功能的 PHP 联系表。我似乎找不到易于设置的表格。

我还有一些其他想要的功能，我希望能在一些脚本中出现！

首先，我找到了一个无需刷新页面即可处理表单的脚本。插件可以在这里找到// [http://net.tutsplus.com/tutorials/javascript-ajax/submit-a-form-without-page-refresh-using-jquery/](http://net.tutsplus.com/tutorials/javascript-ajax/submit-a-form-without-page-refresh-using-jquery/)

其次，名称验证，如果名称短于 3 个字符，则错误文本会显示类似于“名称不能短于 3 个字符”的内容

和

第三，检查有效的电子邮件。因此，不接受虚假电子邮件。

是否有任何类型的插件具有这些功能？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-20T09:01:34.420

听起来你已经准备好进入模型/视图/控制器环境了。给小花看看。[http://kohanaframework.org](http://kohanaframework.org)。

使用 Kohana，您可以指定验证规则，如下所示：

```
$extra_validation = Validation::factory($this->request->post())
    ->rule('password', 'min_length', array(':value', 8))
    ->rule('password_confirm', 'not_empty')
    ->rule('home_city', 'not_empty');

// Create the user using form values
$user = ORM::factory('user')->values($this->request->post(), array(
    'password',
    'home_city',
))->create($extra_validation); 
```

# tabs - 带有 jquery easyui 的选择器日期框

> ID：12986888
> 
> 赞同：0
> 
> 时间：2012-10-20T08:58:36.587
> 
> 标签：tabs, datebox, jquery-easyui

我在 easyui 中使用了 Tabs 和 datebox。我有 2 个标签：tabs1 和 tab2

所有选项卡都包含日期框。我不能在 tabs2 选择日期框。

$('#dd').datebox 在 tab1 上工作，但在 tab2 上不工作。

如何在 tab2 选择日期框 ????

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-20T09:11:48.570

如果您使用的是 id：

```
$('#tab1').datebox();
$('#tab2').datebox(); 
```

如果您对两个选项卡使用相同的 css 类：

```
$('.classname').datebox(); 
```

希望能帮助到你。如果它解决了您的问题，请不要忘记支持它。谢谢.. ：）

# css - 在 URL 中重写 jquery js 文件不起作用

> ID：12986890
> 
> 赞同：1
> 
> 时间：2012-10-20T08:59:03.243
> 
> 标签：css

当我加载主页时，第一次它的 css 和 jquery 功能很好。然后我重定向到 url 重写然后不应用 css 和 jquery ja 文件。

# java - 在 Java 中将球图像放到我的球对象上时遇到问题

> ID：12986893
> 
> 赞同：1
> 
> 时间：2012-10-20T08:59:25.597
> 
> 标签：java, swing, graphics, paintcomponent, pong

嘿，我的问题是如何在 Java 的 Pong 游戏中将图片放在球对象上？下面是我当前对一个名为 Ball 的对象的代码，它扩展了一个抽象类 Shape。

```
package Software;

import java.awt.Graphics;
import java.awt.Image;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.io.File;
import java.io.IOException;
import javax.imageio.ImageIO;

public class Ball extends Shape implements ActionListener {
    public Image tennisBall;

    public Ball() {
        try {
            tennisBall = ImageIO.read(new File("tennisBall.jpg"));
        } catch (IOException ex) {
            // handle exception...
        }
        setHeight(12);
        setWidth(12);
        speed = 5;
    }

    @Override
    public void draw(Graphics g) {
        // g.fillOval(getPositionX(), getPositionY(), (int)getWidth(), (int)getHeight());
        g.drawImage(tennisBall, getPositionX(), getPositionY(), (int)getWidth(), (int)getHeight(), null);
    }

    @Override
    public void actionPerformed(ActionEvent e) {
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-02T18:36:08.457

我在评论中读到了你的问题。如果您使用透明度，我会使用便携式网络图形 (PNG) 图像。

如果这很有用，您可以在 Java 中创建新颜色，而不必导入图片。如果你想在屏幕上画一个稍微透明的蓝色球，你可以这样做。

```
g.setColor(new Color(0, 0, 255, 175);
g.fillOval(xPosition, yPosition, diameter, diameter); 
```

我创建了一个新颜色并将变量（int r、int g、int b、int alpha）传递给它。所以第一个整数是红色的数量，第二个是绿色，第三个是蓝色。但是 alpha 变量是颜色的不透明度（它的透明度）。然后你画出“椭圆”，但它的对角线长度相同，所以它是一个圆形。

# ios - 未调用按钮按下事件

> ID：12986898
> 
> 赞同：0
> 
> 时间：2012-10-20T09:00:12.517
> 
> 标签：ios, uiview, uibutton, uievent

我在主视图的子视图上添加了一个按钮，当我按下该按钮时......我可以看到它被按下但它的选择器没有被调用。当我长时间按住按钮时，它的选择器方法被调用。如果我不在主视图的子视图上添加该按钮，那么一切正常。谁能告诉我在哪里和我错过了什么？

```
UIButton *btn =[UIButton buttonWithType:UIButtonTypeRoundedRect];
[btn setFrame:CGRectMake(0, 0, 120, 30)];
[btn addTarget:self action:@selector(pickImage:) forControlEvents:UIControlEventTouchUpInside];
[btn setAutoresizingMask:  UIViewAutoresizingFlexibleRightMargin];    
[btnView addSubview:pickBtn];
[self.view addSubview:btnView]; 
```

# android - 我们可以将 android 中的 .apk 文件转换为 ios、BlackBerry 和 Windows mobile 支持的文件吗？

> ID：12986907
> 
> 赞同：0
> 
> 时间：2012-10-20T09:00:50.047
> 
> 标签：android, iphone, windows-phone-7, blackberry

我是android应用程序开发的新手。

我开发了一个 android 应用程序并将该应用程序的 .apk 安装在 android 设备中，它工作正常。

但我的要求是我想在 iPhone、BlackBerry 和 Windows Mobile 中运行相同的应用程序。为此，我如何在这些设备中安装该应用程序以及如何为这些受人尊敬的设备转换该 .apk 文件。

请帮助我前进。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-20T09:35:02.210

RIM 现在为他们的 BlackBerry Playbook 和 BlackBerry-10 设备提供 Android 运行时，但存在一些限制并且必须重新打包应用程序。在此处查看详细信息：http: [//developer.blackberry.com/android/documentation/Mastertopic_1849583_11.html](http://developer.blackberry.com/android/documentation/Mastertopic_1849583_11.html)

移植到其他移动平台（包括当前基于 Java 的黑莓手机）上没有那么简单的方法。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-20T09:06:35.583

Android 应用程序无法在其他移动设备上运行。您必须为要部署它的每个设备编写应用程序的端口。

# sql-server - 从 SQL CLR 程序集访问 FILESTREAM

> ID：12986909
> 
> 赞同：3
> 
> 时间：2012-10-20T09:01:13.260
> 
> 标签：sql-server, ado.net, filestream, sqlclr

我正在尝试从不安全的 SQL CLR 程序集中流式传输 FILESTREAM 数据。

连接字符串是

```
Data Source=LAPTOP2\SQLEXPRESS;Initial Catalog=test;Integrated Security=True;Enlist=False 
```

创建一个新`SqlFileStream`的（`SqlTransaction`当然是在 a 内）时，我得到：

> *不支持该请求*

在`OpenSqlFilestream`.

所以我决定尝试 native [`OpenSqlFilestream`](http://msdn.microsoft.com/en-us/library/bb933972.aspx)，但随后我得到一个无效的句柄（-1），同时`GetLastWin32Error`返回相同的句柄：

> *不支持该请求 ( `ERROR_NOT_SUPPORTED`)*。

我也试过`SqlContext.WindowsIdentity.Impersonate()`没有明显效果。

我找不到任何引用此限制的文档。真的不支持吗？如果不支持，是否有充分的理由？有谁知道解决方法？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-03-13T07:03:14.033

对于访问外部资源，如果您对程序集使用 external_access 或不安全权限，则需要对数据库设置 trustworthy ，因为否则 SQL 服务器实际上不会信任您的代码并且不会让它离开实例。对于文件访问（读取），我使用

```
 System.Text.UTF8Encoding encoding = new System.Text.UTF8Encoding();
            using (StreamReader reader = new StreamReader(FilePath, Encoding.Default))
            {

                string line;
                string allLine = "";

                while ((line = reader.ReadLine()) != null)
                {

                    allLine += line;

                }

            } 
```

并用于文件写入

```
FileStream aFile = new FileStream(path, FileMode.Append, FileAccess.Write);
        StreamWriter sw = new StreamWriter(aFile, Encoding.Default);

        sw.Write(FilecontentsTOWrite);
        sw.Close();
        aFile.Close(); 
```

# java - 在 Eclipse 4 中正确使用 ProgressMonitorDialog

> ID：12986912
> 
> 赞同：6
> 
> 时间：2012-10-20T09:01:38.813
> 
> 标签：java, eclipse, swt, eclipse-rcp, jface

我有一组执行文件操作的 API，例如`saveToFile(CustomObject objectToSave);`

由于文件操作可能很长，我决定应该向用户显示一些指示，例如进度条。

我读到了 a `ProgressMonitorDialog`，所以我尝试了它，但它并不能完全按照我的需要工作（或者更好的是我不知道如何正确使用它）。

目前我做：

```
ProgressMonitorDialog progressDialog = new ProgressMonitorDialog(theShell);  
    try {  
        progressDialog.run(false, true, new IRunnableWithProgress() {  

        @Override  
        public void run(IProgressMonitor monitor) throws InvocationTargetException, InterruptedException {  
            monitor.beginTask("Saving your data", 100);  
            try {  
                Utils.saveToFile(objectToSave);  
            } catch (Exception e) {  
            // TODO Auto-generated catch block  
                e.printStackTrace();  
            }  
            monitor.done();   
        }  
     }); 
```

这段代码非常快地显示了一个进度对话框并结束，但问题是在较慢的 PC 上，这将堆叠直到`Utils.saveToFile`返回，而我不知道如何指示中间过程，直到保存完成。

我发现一个[线程](https://stackoverflow.com/questions/7636020/how-can-i-correctly-update-a-progress-bar-for-an-operation-of-unknown-duration-w)提到`IProgressMonitor.UNKNOWN`但它没有说明`monitor`期间发生的事情`performRead(_fileName, monitor);`

我将如何解决这个问题？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-10-20T10:30:02.283

`ProgressMonitorDialog`是一段棘手的代码。我猜你缺少的部分是[`IProgressMonitor#worked(int)`](http://help.eclipse.org/indigo/topic/org.eclipse.platform.doc.isv/reference/api/org/eclipse/core/runtime/IProgressMonitor.html#worked%28int%29)哪个会“增长”进度条。下面是一个代码示例，应该阐明如何使用它：

```
public class Progress {
    public static void main(String[] args)
    {
        // Create your new ProgressMonitorDialog with a IRunnableWithProgress
        try {
            // 10 is the workload, so in your case the number of files to copy
            IRunnableWithProgress op = new YourThread(10);
            new ProgressMonitorDialog(new Shell()).run(true, true, op);
         } catch (InvocationTargetException ex) {
             ex.printStackTrace();
         } catch (InterruptedException ex) {
             ex.printStackTrace();
         }
    }

    private static class YourThread implements IRunnableWithProgress
    {
        private int workload;

        public YourThread(int workload)
        {
            this.workload = workload;
        }

        @Override
        public void run(IProgressMonitor monitor) throws InvocationTargetException, InterruptedException
        {
            // Tell the user what you are doing
            monitor.beginTask("Copying files", workload);

            // Do your work
            for(int i = 0; i < workload; i++)
            {
                // Optionally add subtasks
                monitor.subTask("Copying file " + (i+1) + " of "+ workload + "...");

                Thread.sleep(2000);

                // Tell the monitor that you successfully finished one item of "workload"-many
                monitor.worked(1);

                // Check if the user pressed "cancel"
                if(monitor.isCanceled())
                {
                    monitor.done();
                    return;
                }
            }

            // You are done
            monitor.done();
        }

    }
} 
```

它看起来像这样：

![在此处输入图像描述](../Images/ad97ce7c008274e2a84e65138c4944a9.png)

对于您使用的特殊情况，`Utils.saveToFile`您可以将其`IProgressMonitor`交给此方法并`worked()`从那里调用该方法。

# sql - 如何从闭包表中显示 HTML 中的树结构

> ID：12986914
> 
> 赞同：4
> 
> 时间：2012-10-20T09:02:39.830
> 
> 标签：sql, tree, hierarchical-data, transitive-closure-table

我在 MySQL 中存储了一些分层数据。由于各种原因，我决定使用闭包表（而不是嵌套集、邻接表等）。到目前为止，它对我来说一直很好，但现在我正试图弄清楚如何在 HTML 中实际显示这棵树（即使用正确的缩进）。

举个例子，假设我有一棵这样的树......

*   食物
    *   水果
        *   苹果
        *   梨
    *   蔬菜
        *   萝卜

我的“食物”表看起来像这样......

```
[ID]    [PARENT_ID]    [NAME]
1       0              Food
2       1              Fruits
3       1              Vegetables
4       2              Apples
5       2              Pears
6       3              Carrots 
```

我的“关闭”表将如下所示......

```
[PARENT]    [CHILD]    [DEPTH]
1           1          0
2           2          0
3           3          0
4           4          0
5           5          0
6           6          0
1           2          1
1           3          1
1           4          2
1           5          2
1           6          2
2           4          1
2           5          1
3           6          1 
```

现在我想知道如何才能在 HTML 中正确显示它，最好是这样......

```
<ul>
    <li>Food
        <ul>
            <li>Fruits
                <ul>
                    <li>Apples</li>
                    <li>Pears</li>
                </ul>
            </li>
            <li>Vegetables
                <ul>
                    <li>Carrots</li>
                </ul>
            </li>
        </ul>
    </li>
</ul> 
```

...这将以项目符号形式显示我的树，就像我的问题开始时一样。无论如何，任何帮助将不胜感激！

查尔斯

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-20T12:29:09.460

您可以使用递归函数调用。

**PSEUDCODE（抽象）：**

```
function showTree(parent_id){

      // retrive child ids from DB using given parent id
      result = GetChildren(parent_id);

      while(...){

          child_id = result[...];

          // Call this function itself
          showTree(child_id);

      }
} 
```

**PSEUDCODE（详细）：**

```
function showTree( parent_id ){

    /* Retrieve child records which has a relationship with the given parent id.*/

    SQL = "SELECT * FROM Foods ( WHERE PARENT_ID = " + parent_id + ")";
    results = executeSQL(SQL);

    print "<ul>";
    i = 0;
    while(/*results has record*/){
        row = results[i];

        print "<li>" + row["NAME"] + "</li>";

        /*
         * Make a recursive call here.
         * Hand out 'ID' as the parameter. 
         * This 'ID' will be received as 'PARENT_ID' in the function called here.
         */
        call showTree(row["ID"]);

        i = i +1;
    }
    print "</ul>";

}
/* 
 * Now start calling the function from top of the nodes.
 */
call showFoods( 0 ); // parameter '0' is the root node. 
```

我希望这将有所帮助。

# c# - 如何在 mvvm 模式中绑定 wpf 用户控件中的属性

> ID：12986915
> 
> 赞同：1
> 
> 时间：2012-10-20T09:03:00.797
> 
> 标签：c#, wpf, mvvm, prism

我正在prism框架的mvvm模型中开发一个wpf应用程序。我在一个模块中创建了一个用户控件，我在另一个模块中使用了。我在我的模块中成功导入了该用户控件，但我无法将属性绑定到该用户控件。它充当单个控件，而不是用户控件中的不同控件。所以我将做什么。以下是我的代码

我的用户控件包含 3 个单选按钮 3 个文本框 1 个数据网格

然后我将此用户控件引用到我的项目中

```
xmlns:l="clr-namespace:MagicHospital.Controls;assembly=MagicHospital.Controls"
    <l:PatientDetailsUserControl></l:PatientDetailsUserControl> 
```

那么如何将属性绑定到用户控件中的控件。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-20T09:37:36.610

您希望您的*复合*控件成为通向其他控件的网关，方法是创建向外界公开的依赖属性。然后，在控件本身内，您可以让内部控件将它们的属性绑定到已创建的公开依赖属性。这样，您就可以让外部世界绑定到控件上的特定项目，同时将该信息传递给您的目标内部控件。

我使用 Jeff Wilcox 的 Silverlight 依赖[项片段](http://www.jeff.wilcox.name/2010/02/silverlight-snippets/)在 WPF 和 Silverlight 项目上快速创建属性。

# java - JavaFX：更新多个任务的进度

> ID：12986916
> 
> 赞同：5
> 
> 时间：2012-10-20T09:03:12.200
> 
> 标签：java, multithreading, javafx-2

我正在用 JavaFX 2.2 编写一个多线程分形绘图程序，现在我需要一些指导。

我想要实现的是创建一个任务或服务（尚未决定），然后启动其他一些实际执行计算的任务，并在准备好时返回整个图像的部分。当所有的部分都返回到启动任务时，它会将这些部分放在一起并将其返回到主线程，以便可视化。

显然，所有这些都必须在不阻塞 UI 的情况下发生。

问题是我无法弄清楚这些任务如何相互通信。例如，我需要根据其中任务的平均进度（或类似的东西）更新启动任务的进度属性，因此它们的进度属性应该以某种方式绑定到启动任务的进度属性。图像片段应放在列表或某个容器中，并在所有图像都可用时在单独的图像上重绘。

我已经编写了这个程序的一个更简单（尽管仍然是实验性的）版本，它只创建一个计算整个分形的任务。进度绑定到 GUI 的 progressBar。任务成功后，返回值由 EventHandler 处理。

我不是在要求一个完整的解决方案，但是一些可能带有一些示例代码的想法确实会对我有所帮助。

这是应该修改的类：

```
package fractal;

import fractalUtil.DefaultPalette;
import fractalUtil.PaletteInterface;
import javafx.concurrent.Task;
import javafx.scene.image.WritableImage;
import javafx.scene.paint.Color;
import org.apache.commons.math3.complex.Complex;

/**
 *
 * @author athelionas
 */
public abstract class AbstractFractal extends Task implements FractalInterface {

    private PaletteInterface palette;
    protected final int width, height, order, iterations;
    protected final double scale, xReal, xIm, xCenter, yCenter, zoom;
    protected final boolean julia;

    protected AbstractFractal(final int width, final int height, final double xReal, final double xIm, final double xCenter, final double yCenter, final int order, final boolean julia, final int iterations, final double zoom) {
        this.width = width;
        this.height = height;
        this.xReal = xReal;
        this.xIm = xIm;
        this.xCenter = xCenter;
        this.yCenter = yCenter;
        this.order = order;
        this.julia = julia;
        this.iterations = iterations;
        this.zoom = zoom;
        this.scale = (double) width / (double) height;
        palette = new DefaultPalette();
    }

    @Override
    public final void setPalette(final PaletteInterface palette) {
        this.palette = palette;
    }

    @Override
    public abstract Complex formula(final Complex z, final Complex c, final int order, final Complex center);

    @Override
    public final Color calculatePoint(final Complex z, final Complex c, final int order, final Complex center, final int iterations) {
        Complex zTemp = z;
        int iter = iterations;
        while (zTemp.abs() <= 2.0 && iter > 0) {
            zTemp = formula(zTemp, c, order, center);
            iter--;
        }
        if (iter == 0) {
            return Color.rgb(0, 0, 0);
        } else {
            return palette.pickColor((double) (iterations - iter) / (double) iterations);
        }
    }

    @Override
    public final WritableImage call() {
        Complex z;
        Complex c;
        Complex center = new Complex(xCenter, yCenter);
        final WritableImage image = new WritableImage(width, height);

        if (julia) {
            c = new Complex(xReal, xIm);
            for (int y = 0; y < height; y++) {
                for (int x = 0; x < width; x++) {

                    z = new Complex(((double) x) / (double) (width - 1) * 2.0 * scale * (1.0 / zoom) - scale * (1.0 / zoom), ((double) y) / (double) (height - 1) * 2.0 * (1.0 / zoom) - 1.0 * (1.0 / zoom));

                    image.getPixelWriter().setColor(x, y, calculatePoint(z, c, order, center, iterations));
                }

            }
        } else {
            z = new Complex(xReal, xIm);
            for (int y = 0; y < height; y++) {
                for (int x = 0; x < width; x++) {

                    c = new Complex(((double) x) / (double) (width - 1) * 2.0 * scale * (1.0 / zoom) - scale * (1.0 / zoom), ((double) y) / (double) (height - 1) * 2.0 * (1.0 / zoom) - 1.0 * (1.0 / zoom));

                    image.getPixelWriter().setColor(x, y, calculatePoint(z, c, order, center, iterations));
                }
                updateProgress(y, height);
            }
        }
        return image;
    }
} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-21T09:12:28.107

使用绑定和`Task`. 这样，您根本不需要关心线程。您所需要的只是创建一个绑定，该绑定将根据线程数规范化每个进度并将它们总结起来。例如

```
progressBar.progressProperty().bind(
    task1.progressProperty().multiply(0.5).add(
         task2.progressProperty().multiply(0.5))); 
```

对于未知数量的线程来说，这有点棘手。请参见下一个示例：

```
public class MultiProgressTask extends Application {
    private static final int THREADS_NUM = 10;

    // this is our Task which produces a Node and track progress
    private static class MyTask extends Task<Node> {

        private final int delay = new Random().nextInt(1000) + 100;
        { System.out.println("I update progress every " + delay); }

        @Override
        protected Node call() throws Exception {
            updateProgress(0, 5);
            for (int i = 0; i < 5; i++) {
                System.out.println(i);
                Thread.sleep(delay); // imitating activity
                updateProgress(i+1, 5);
            }
            System.out.println("done");
            return new Rectangle(20, 20, Color.RED);
        }
    };

    @Override
    public void start(Stage primaryStage) {
        ProgressBar pb = new ProgressBar(0);
        pb.setMinWidth(300);

        final VBox root = new VBox();
        root.getChildren().add(pb);

        Scene scene = new Scene(root, 300, 250);

        primaryStage.setScene(scene);
        primaryStage.show();

        DoubleBinding progress = null;

        for (int i = 0; i < THREADS_NUM; i++) {
            final MyTask mt = new MyTask();

            // here goes binding creation
            DoubleBinding scaledProgress = mt.progressProperty().divide(THREADS_NUM);
            if (progress == null) {
                progress = scaledProgress;
            } else {
                progress = progress.add(scaledProgress);
            }
            // here you process the result of MyTask
            mt.setOnSucceeded(new EventHandler<WorkerStateEvent>() {

                @Override
                public void handle(WorkerStateEvent t) {
                    root.getChildren().add((Node)t.getSource().getValue());
                }
            });
            new Thread(mt).start();
        }
        pb.progressProperty().bind(progress);
    }

    public static void main(String[] args) { launch(args); }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-20T09:59:56.013

这是一个非常有趣的问题:)

如果我们暂时消除线程安全问题，您可以传入一个双属性（或任何进度属性绑定的）并使用进度更新它，然后更新进度指示器。有两个问题：

1.  多个任务可以同时增加属性。
2.  必须在 javafx 线程上触发更改。

我会用一个简单的 API 将属性包装在它自己的类中：

```
class ProgressModel {
    private final SimpleDoubleProperty progress;
    public void increment(finally double increment) {
        Platform.runLater(new Runnable() {
            progress.set(progress.doubleValue() + increment);
        }
    }

    public void bindPropertyToProgress(DoubleProperty property) {
        property.bind(progress);
    }
} 
```

在上面的代码中，所有更新都将在 javafx 线程上按顺序运行，因此它是线程安全的并且没有锁。我已经完成了类似的后台任务，并且性能一直很好（在用户眼中是实时的），尽管如果您每秒更新数千次，情况可能并非如此！你只需要测量。我没有显示样板代码以使其更具可读性。

# wireshark - 如何使用 tshark/wireshark 显示 pcap 的每个数据包的 flowid 和帧号

> ID：12986919
> 
> 赞同：2
> 
> 时间：2012-10-20T09:03:41.110
> 
> 标签：wireshark, pcap, packet-capture, wireshark-dissector, tshark

tshark 中是否有流 id 的概念？当我搜索过滤器时，我发现**tcp.stream**存在，但它与 udp 的等价物，即**udp.stream**不存在。当我打开一个 pcap 时，默认情况下它会显示帧号、IP 地址、信息等。在一列中，我还需要每个数据包的流 ID 以及帧号。tshark 提供这样的支持吗？如果没有，我有什么办法可以做到这一点？

我写了一个程序，我正在读取一个 pcap 文件，一个包一个包，我需要每个包读取的 flowid。如果我使用 tshark 命令作为

```
 ./tshark -r in.pcap -z conv,tcp 
```

它显示数据包编号以及其他一些详细信息，但我希望也显示可以在我的程序中读取的 flowid。

任何帮助将不胜感激。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-23T11:52:43.140

## tcp.stream 在wireshark

以下是wireshrak 为获取tcp.stream 所做的工作。Tcp 解析器有一个全局变量`guint32 tcp_stream_index;` ，然后每个数据包与会话相关联。每个对话数据都存储在一个哈希表中（Wireshark 使用[GHashTable](http://developer.gnome.org/glib/2.29/glib-Hash-Tables.html)）。他们使用 5 元组作为键。如果他们得到新的 5 元组，他们会启动新的对话并在那里增加 tcp_stream_index：

```
init_tcp_conversation_data(packet_info *pifo)
{
    ...
    tcpd->stream = tcp_stream_index++;
    ...
} 
```

还有他们如何获得哈希：

```
/*
 * Hash an address into a hash value (which must already have been set).
 */
#define ADD_ADDRESS_TO_HASH(hash_val, addr) { \
    const guint8 *ADD_ADDRESS_TO_HASH_data; \
    int ADD_ADDRESS_TO_HASH_index; \
    ADD_ADDRESS_TO_HASH_data = (addr)->data; \
    for (ADD_ADDRESS_TO_HASH_index = 0; \
         ADD_ADDRESS_TO_HASH_index < (addr)->len; \
         ADD_ADDRESS_TO_HASH_index++) \
         hash_val += ADD_ADDRESS_TO_HASH_data[ADD_ADDRESS_TO_HASH_index]; \
    }

...
hash_val = 0;
ADD_ADDRESS_TO_HASH(hash_val, &key->addr1);
hash_val += key->port1;
ADD_ADDRESS_TO_HASH(hash_val, &key->addr2);
hash_val += key->port2;
... 
```

## 在数据包中添加 flowid

这是一个用lua编写的wireshark监听器的简单示例。但是你需要函数 mk_flowid、update_conversation_data、show_gathered_statics。

```
local tap 

local conversations = {} 

local function packet(pinfo, tvb, userdata)
    local id = mk_flowid(pinfo.src, pinfo.src_port,
        pinfo.dst, pinfo.dst_port, pinfo.ipproto)

    local conv = converstaion[id]
    update_conversation_data(conv)

    -- Also you can output to a file
    -- to_file(pinfo.number, id)
end

local function draw(userdata)
    print_gathered_statistics(conversations)
end

local function reset(userdata)
    conversations = {}
end

local function show_myconv()
     tap = Listener.new()
     tap.packet = packet
     tap.draw = draw 
     tap.reset = reset 
end

register_stat_cmd_arg('myconv', show_myconv) 
```

并启动 tshark：

```
tshark -X lua_script:myconv.lua -z myconv -r in.pcap 
```

# sublimetext2 - 复古模式中的崇高 - 重新映射逃生失败

> ID：12986925
> 
> 赞同：0
> 
> 时间：2012-10-20T09:04:15.943
> 
> 标签：sublimetext2, remap

我正在尝试映射 jj 以逃避。我在下面收到错误。使固定？

![“尝试解析设置时出错：{path}:15:1 中出现意外的尾随字符](../Images/5747861a3342b286e754a94eb24d097b.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-20T16:35:29.970

我认为您应该将配置代码放在 中`Default (OS).sublime-keymap`，而不是`Preferences.sublime-settings`.

您可以在`Sublime Text 2/Preferences/Key Bindings - User`菜单中找到它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-09-15T02:44:09.447

打开 Sublime Text Keybindings Settings Default (Windows).sublime-keymap

转到首选项 -> 键绑定 - 用户。

![在此处输入图像描述](../Images/bf7b948d3e500a62b48ecd09b6d87480.png)

在您的 Default (OS).sublime-keymap 文件中，添加您的重映射 ..

```
[
    { "keys": ["j", "j"], "command": "exit_insert_mode",
        "context":
        [
            { "key": "setting.command_mode", "operand": false },
            { "key": "setting.is_widget", "operand": false }
        ]
    }
] 
```

# maven - Maven(3.0.4) 无法下载存储库

> ID：12986928
> 
> 赞同：2
> 
> 时间：2012-10-20T09:05:19.483
> 
> 标签：maven, jboss-seam

运行 Windows 8 发布预览版。我已经为 Jboss AS、Seam 和 Maven 设置了相关的路径和变量。但是，当我尝试运行一些示例时，例如[酒店预订](http://docs.jboss.org/seam/2.1.2/reference/en-US/html/tutorial.html)maven 无法正常工作。

我的 Maven 版本日志：

```
Microsoft Windows [Version 6.2.8400]
(c) 2012 Microsoft Corporation. All rights reserved.

C:\Users\Icemilk>mvn --version
Apache Maven 2.2.1 (r801777; 2009-08-07 00:46:01+0530)
Java version: 1.6.0_35
Java home: C:\jdk1.6.0_35\jre
Default locale: en_US, platform encoding: Cp1252
OS name: "windows nt (unknown)" version: "6.2" arch: "x86" Family: "windows"
C:\Users\Icemilk> 
```

我正在尝试运行 Jboss seam 酒店预订示例：

```
D:\Project\7th Semester\jboss-seam-2.3.0.CR1\examples\registration>mvn clean ins
tall
[INFO] Scanning for projects...
Downloading: http://repo1.maven.org/maven2/org/jboss/seam/bom/2.3.0.CR1/bom-2.3.
0.CR1.pom
[INFO] Unable to find resource 'org.jboss.seam:bom:pom:2.3.0.CR1' in repository
central (http://repo1.maven.org/maven2)
[INFO] ------------------------------------------------------------------------
[ERROR] FATAL ERROR
[INFO] ------------------------------------------------------------------------
[INFO] Error building POM (may not be this project's POM).

Project ID: org.jboss.seam:bom

Reason: POM 'org.jboss.seam:bom' not found in repository: Unable to download the
 artifact from any repository

  org.jboss.seam:bom:pom:2.3.0.CR1

from the specified remote repositories:
  central (http://repo1.maven.org/maven2)

 for project org.jboss.seam:bom 
```

和我的 JBoss 环境：

```
C:\jboss-6.1.0.Final>run.bat
Calling C:\jboss-6.1.0.Final\bin\run.conf.bat
===============================================================================

  JBoss Bootstrap Environment

  JBOSS_HOME: C:\jboss-6.1.0.Final

  JAVA: C:\jdk1.6.0_35\bin\java

  JAVA_OPTS: -Dprogram.name=run.bat -Dlogging.configuration=file:"C:\jboss-6.1.0
.Final\bin\logging.properties" -Xms128M -Xmx512M -XX:MaxPermSize=256M -Dsun.rmi.
dgc.client.gcInterval=3600000 -Dsun.rmi.dgc.server.gcInterval=3600000 -Dorg.jbos
s.resolver.warning=true -server

  CLASSPATH: C:\jdk1.6.0_35\lib\tools.jar;C:\jboss-6.1.0.Final\bin\run.jar

===============================================================================

14:27:05,650 INFO  [AbstractJBossASServerBase] Server Configuration:

        JBOSS_HOME URL: file:/C:/jboss-6.1.0.Final/
        Bootstrap: $JBOSS_HOME\server/default/conf/bootstrap.xml
        Common Base: $JBOSS_HOME\common/
        Common Library: $JBOSS_HOME\common/lib/
        Server Name: default
        Server Base: $JBOSS_HOME\server/
        Server Library: $JBOSS_HOME\server/default/lib/
        Server Config: $JBOSS_HOME\server/default/conf/
        Server Home: $JBOSS_HOME\server/default/
        Server Data: $JBOSS_HOME\server/default/data/
        Server Log: $JBOSS_HOME\server/default/log/
        Server Temp: $JBOSS_HOME\server/default/tmp/

14:27:05,666 INFO  [AbstractServer] Starting: JBossAS [6.1.0.Final "Neo"]
14:27:12,586 INFO  [ServerInfo] Java version: 1.6.0_35,Sun Microsystems Inc.
14:27:12,586 INFO  [ServerInfo] Java Runtime: Java(TM) SE Runtime Environment (b
uild 1.6.0_35-b10)
14:27:12,586 INFO  [ServerInfo] Java VM: Java HotSpot(TM) Server VM 20.10-b01,Su
n Microsystems Inc.
14:27:12,586 INFO  [ServerInfo] OS-System: Windows NT (unknown) 6.2,x86
14:27:12,586 INFO  [ServerInfo] VM arguments: -Dprogram.name=run.bat -Dlogging.c
onfiguration=file:C:\jboss-6.1.0.Final\bin\logging.properties -Xms128M -Xmx512M
-XX:MaxPermSize=256M -Dsun.rmi.dgc.client.gcInterval=3600000 -Dsun.rmi.dgc.serve
r.gcInterval=3600000 -Dorg.jboss.resolver.warning=true -Djava.endorsed.dirs=C:\j
boss-6.1.0.Final\lib\endorsed
14:27:12,742 INFO  [JMXKernel] Legacy JMX core initialized 
```

我被困住了。我应该怎么做才能使示例运行？

更新：@ILLA 我更改为 Maven 3，但问题就在那里。

```
D:\Project\7th Semester\jboss-seam-2.3.0.CR1\examples\registration>mvn --version

Apache Maven 3.0.4 (r1232337; 2012-01-17 14:14:56+0530)
Maven home: C:\apache-maven-3.0.4\bin\..
Java version: 1.6.0_35, vendor: Sun Microsystems Inc.
Java home: C:\jdk1.6.0_35\jre
Default locale: en_US, platform encoding: Cp1252
OS name: "windows nt (unknown)", version: "6.2", arch: "x86", family: "windows"
D:\Project\7th Semester\jboss-seam-2.3.0.CR1\examples\registration>mvn clean ins
tall
[INFO] Scanning for projects...
[ERROR] The build could not read 1 project -> [Help 1]
[ERROR]
[ERROR]   The project org.jboss.seam.examples-ee6:registration:2.3.0.CR1 (D:\Pro
ject\7th Semester\jboss-seam-2.3.0.CR1\examples\registration\pom.xml) has 1 erro
r
[ERROR]     Non-resolvable import POM: Failure to find org.jboss.seam:bom:pom:2.
3.0.CR1 in http://repo.maven.apache.org/maven2 was cached in the local repositor
y, resolution will not be reattempted until the update interval of central has e
lapsed or updates are forced @ org.jboss.seam:examples-ee6:2.3.0.CR1, D:\Project
\7th Semester\jboss-seam-2.3.0.CR1\examples\pom.xml, line 229, column 25 -> [Hel
p 2]
[ERROR]
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e swit
ch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR]
[ERROR] For more information about the errors and possible solutions, please rea
d the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/ProjectBuildin
gException
[ERROR] [Help 2] http://cwiki.apache.org/confluence/display/MAVEN/UnresolvableMo
delException
D:\Project\7th Semester\jboss-seam-2.3.0.CR1\examples\registration> 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-21T01:21:22.883

Seam Maven 依赖项**不是由 Maven Central 托管，**而是由 JBoss 存储库托管。
也许您忘记`repository`在 pom.xml 中声明 a。在这种情况下 ：

```
<repositories>
    <repository>
        <id>JBoss repository</id>
        <url>http://repository.jboss.org/nexus/content/groups/public/</url>
    </repository>
</repositories> 
```

请参阅博客文章：[如何在 Maven 中添加远程存储库](http://www.mkyong.com/maven/how-to-add-remote-repository-in-maven-pom-xml/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-20T09:19:19.050

此错误表明，您正在使用 Maven 2。您需要使用 Maven 3，因为 Maven 2 有一个讨厌的依赖关系解析错误（[在 SEAM-10 中讨论。](https://issues.jboss.org/browse/SEAM-10)）

Maven 3 完全向后兼容 Maven 2，我们强烈建议您升级。

# mysql - 合并或不合并表以实现性能/集中化

> ID：12986932
> 
> 赞同：0
> 
> 时间：2012-10-20T09:05:34.417
> 
> 标签：mysql, database-design, innodb

我一直在研究我的数据库，我想到也许最好将我的两个表组合起来以更好地组织数据并可能获得性能优势（或没有？）。

我有两张表，其中包含地址、交货和另一张发票，它们的结构是相同的。一个表包含发票地址，另一个包含交货。

将这些合并到一个简单地称为“地址”的表中并创建一个名为 addressTypeId 的新列会有什么影响？这个新列引用了一个新表，其中包含地址类型，如送货、发票、家庭等。

让它们像现在这样，分开，性能更好，因为对不同类型地址（交货和发票）的请求使用两个表而不是一个表，这可能意味着请求地址数据时的延迟？

顺便说一句，我正在使用 INNODB。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-20T09:39:48.873

如果您缺少适当的索引，则查找性能将下降两倍（如果您正在合并两个大小相同的表）。但是，如果您缺少索引，您可能不会关心性能。使用散列索引的查找是恒定时间的。使用树索引查找是对数的，因此影响很小。对树索引的写入也是对数的，对哈希映射的写入也是摊销常数。

**不要遭受过早的优化！！！**

**一个好的设计比峰值性能更重要**。地址查找可能不是您的瓶颈。糟糕的数据库设计导致的糟糕代码远远超过任何好处。如果您制作两个表，您将重复代码。代码重复是维护的噩梦。

**合并表**。当您需要在不久的将来*扩展您的应用程序*时，您将不胜感激。您可能想要创建更多地址类型。您可能希望向地址添加通用功能（格式）。您的客户不会注意到遍历二叉树的另一层所带来的额外毫秒数。他们会注意到您很难添加额外的功能，并且他们会注意到代码重复引起的不一致。

您甚至可以通过合并表来*获得性能。*虽然您可能需要遍历树中的一个额外节点，但树可能更有可能*缓存在内存中*并且不需要磁盘访问。*磁盘访问很昂贵。您可以通过合并来减少磁盘访问。*

正如@BenP.P.Tung 已经说过的那样，您不需要额外的表来进行枚举。使用枚举类型。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-20T09:21:25.407

如果只需要区分地址差异。我建议您需要的是此合并表中的 ENUM 列。如果存在，您可以添加一个新列，如下所示，

alter table add addressTypes ENUM('delivery','invoice','home') DEFAULT NULL;

或者当您无法获得所需信息时，您认为应该默认的默认发票。

不需要一次放置所有枚举值。正是您现在需要的，并在未来增加更多价值，如下所示。

alter table change addressTypes addressTypes ENUM('delivery','invoice','home','office') DEFAULT NULL;

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-20T10:21:59.497

一张桌子就可以了。如果存在性能问题，则将地址类型列添加到索引开头的主索引。在您拥有大量地址之前，这将避免任何性能问题。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-20T17:44:52.820

> 它们的结构是相同的。

它们的**约束**也相同吗？¹

*   如果是，则合并地址。
*   如果不是，请将它们分开。

约束与其字段一样是表的一部分。

> 让它们像现在这样，分开，性能更好，因为对不同类型地址（交货和发票）的请求使用两个表而不是一个表，这可能意味着请求地址数据时的延迟？

您是否以相同的方式**查询**这两种地址？

*   如果是，则无论哪种方式都无关紧要（假设您正确索引）。
*   如果不是，那么不同的表使您能够以不同的方式索引或[聚集](http://use-the-index-luke.com/sql/clustering/index-organized-clustered-index)您的数据。

相关文章：

*   [具有相同列的相同表的数据建模](https://stackoverflow.com/a/12124811/533120)
*   [两个具有相同列的表或一个具有附加列的表？](https://stackoverflow.com/a/12202128/533120)

* * *

*¹例如，交货和发票都应该能够引用（通过外键）相同的地址吗？地址的 PK 是否应该对所有地址都是唯一的，还是仅对特定类型的地址是唯一的？是否存在针对一种地址类型而不是另一种地址类型的任何 CHECK？等等等等……*

# actionscript-3 - 删除其他场景中的链接？

> ID：12986937
> 
> 赞同：0
> 
> 时间：2012-10-20T09:06:22.120
> 
> 标签：actionscript-3, class, linkage, scene

我想在第一个场景中有一个我的 MovieCip 的类链接。但是当我进入第二个场景时，我不再想要这种联系了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-20T14:32:02.500

如果有意义的话，将 MC 更改为舞台上的 Graphic。如果没有，您需要在没有链接的情况下在库中制作副本。

# makefile - GNU make：词干匹配和多重依赖

> ID：12986948
> 
> 赞同：0
> 
> 时间：2012-10-20T09:09:07.827
> 
> 标签：makefile, gnu-make

我有 2 个文件，filea 和 fileb，并且想要生成 filec。

我的 Makefile 看起来像这样

```
f%ec: f%eb

f%ec: f%ea
    cat $^ > $@ 
```

然而，输入 make 的效果只是：

```
cat filea > filec 
```

也就是说，fileb 不是 filec 的先决条件。当不使用 % 符号时，即 Makefile 是

```
filec: fileb

filec: filea
    cat $^ > $@ 
```

产生的动作是

```
cat filea fileb > filec 
```

为什么？以及如何修改第一个 Makefile 以获得预期的结果？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-20T15:23:06.810

在第二个生成文件中：

```
filec: fileb

filec: filea
    cat $^ > $@ 
```

有两条规则`filec`，其中只有一条有命令，因此 Make 结合了 prereqs 列表并运行带有命令的一条。在第一个生成文件中：

```
f%ec: f%eb

f%ec: f%ea
    cat $^ > $@ 
```

有两种不同的模式规则*可以匹配`filec`*，所以 Make 必须选择一个（它没有意识到它可以同时应用这两种规则，而且原则上它们都可以有命令）。由于一个缺少命令，它选择另一个。获得所需行为的最简单方法是组合规则：

```
f%ec: f%ea f%eb
    cat $^ > $@ 
```

# android - 在 Expandablelist 视图中单击组项目？

> ID：12986949
> 
> 赞同：0
> 
> 时间：2012-10-20T09:09:25.047
> 
> 标签：android, expandablelistview

我在可扩展列表视图的组视图上有一个 imageView。单击此 imageView 时，我想获得组位置。在 bindGroupView 方法中，我可以设置 OnClickListener。但问题是这种方法不会返回我的组位置。我已经为 OnGroupClickListener 编写了代码。但是，当我单击除此 imageview 之外的任何位置的组视图时，此调用。如何实施？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-20T10:05:07.653

使用以下方法构建您的组视图

```
getGroupView(int groupPosition, boolean isExpanded, View convertView, ViewGroup parent) 
```

当您将视图传递回 android 时，使用 方法将组的位置 (groupPosition) 附加到图像视图`imageView.setTag()`。您可以在 imageView 的 onClickListener 上检索位置。视图在调用时传递给 onClick 方法。

```
onClick(View v) 
```

# bash - 如何在不创建临时文件的情况下对两个脚本的输出执行差异？

> ID：12986950
> 
> 赞同：0
> 
> 时间：2012-10-20T09:09:58.377
> 
> 标签：bash

我有两个程序：p3、p4 和一个输入文件：1.in。我想检查 1.in 输入文件的 p3 和 p4 输出是否相同，而我写的任何内容都不起作用。我想在不创建新文件的情况下执行此操作（我只是想知道如何执行此操作以更好地了解 bash）。我尝试了一些天真的组合，例如：

```
diff (./p3 < 1.in) (./p4< 1.in) 
```

但这当然行不通。任何人都可以帮忙吗？我正在使用 ubuntu 11.04。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-20T09:14:04.473

您可以在 bash 中使用[进程替换](http://www.gnu.org/s/bash/manual/html_node/Process-Substitution.html)来比较两个命令的输出。例如，尝试：

```
 diff <(./p3 < 1.in) <(./p4 < 1.in) 
```

（对于更漂亮的输出，您可以使用`colordiff`而不是`diff`:)）

# javascript - 使用 FileReader 从函数返回文件？

> ID：12986953
> 
> 赞同：0
> 
> 时间：2012-10-20T09:10:49.387
> 
> 标签：javascript, html, file, return, filereader

我正在使用[NetTutsPlus 教程](http://net.tutsplus.com/tutorials/javascript-ajax/uploading-files-with-ajax/)上传图像文件并使用 FileReader 查看它们。

我有以下 JS 代码，但我实际上无法将文件作为参数传递给另一个函数。当我退出这个函数并执行类似`var file = imageUpload()`的操作时，`file`变量是未定义的。

我的问题是，如何在函数之间传递文件？

```
function imageUpload() {
    ///some code
    /* THIS IS WHERE WE START THE CROPPING PART */
        $('#imgwrapper').imgAreaSelect({ maxWidth: 600, maxHeight: 348, handles: true,onSelectChange: preview });

    //some more code, the message below shows a file object
            console.log("file: "+file);
            return file;
} 
```

我正在尝试将[imageAreaSelect](http://odyniec.net/projects/imgareaselect/)与使用 ajax 的图像文件上传一起使用。

# asp.net - 波浪号的意义

> ID：12986956
> 
> 赞同：2
> 
> 时间：2012-10-20T09:11:21.973
> 
> 标签：asp.net, file-upload

```
string path = context.Server.MapPath("~/Temp"); 
```

或者

```
string path = context.Server.MapPath("/Temp"); 
```

一样吗？

我知道 '~' 代表 root 但想知道 diff bw`~/folder`和`/folder`

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-20T09:17:24.107

> 服务器控件中的绝对和相对路径引用具有以下缺点：
> 
> *   绝对路径在应用程序之间不可移植。如果移动绝对路径指向的应用程序，链接将断开。
>     
>     
> *   如果将资源或页面移动到不同的文件夹，则客户端元素样式中的相对路径可能难以维护。
>     
>     
> 
> 为了克服这些缺点，ASP.NET 包含了 Web 应用程序根运算符 (~)，您可以在指定服务器控件中的路径时使用它。ASP.NET 将 ~ 运算符解析为当前应用程序的根。

请参阅[http://msdn.microsoft.com/en-us/library/ms178116(v=vs.100).aspx](http://msdn.microsoft.com/en-us/library/ms178116(v=vs.100).aspx)

`~/`解析为应用程序根。

`/`解析为站点根目录。

当呈现服务器资源（如控件或视图）时，`~/`路径会根据应用程序的结构和上下文解析为站点根路径（因为`~/`对 Web 浏览器没有意义）。

为简化起见，应用程序根目录 ( `~/`) 几乎总是 ASP.Net 应用程序（Web 表单和 MVC）中的正确选择。

# assembly - 管道危险

> ID：12986957
> 
> 赞同：3
> 
> 时间：2012-10-20T09:11:37.610
> 
> 标签：assembly, mips, pipeline

我想知道是否有人可以验证我对这个问题的回答！我下周有期中考试，TA还没有发布这个问题的解决方案：

考虑以下 MIPS 汇编代码并在没有实现管道优化（包括转发）的假设下识别所有管道危险。第一列数字是行号，您可以在解释中参考。

```
1\. addi $3, $0, 100
2\. addi $4, $0, 0
3\. loop: addi $4, $4, 4
4\. add $5, $4, $3
5\. sw $5, 100($4)
6\. addi $1, $1, -1
7\. slt $2, $4, $3
8\. bne $2, $0, loop
9\. jr $31 
```

重新排序指令以将停顿的数量减少到最低限度

我的答案：

从第 2 行移动到第 3 行（从外部循环到内部），存在危险，因为第 3 行需要的 $4 用于加法取决于第 2 行 $4 中设置的值。

第 4 行有一个危险，因为它依赖于第 3 行中为 $4 设置的值。

第 5 行有一个危险，因为它依赖于第 4 行中为 $4 设置的值。

第 8 行有一个危险，因为它依赖于第 7 行中为 $2 设置的值。

重新排序的说明：

```
 addi $4, $0, 0      2
        addi $3, $0, 100    1
loop:   addi $4, $4, 4      3
        addi $1, $1, -1     6
        add  $5, $4, $3     4
        slt  $2, $4, $3     7
        sw   $5, 100($4)    5
        bne  $2, $0, loop   8
        jr   $31        9 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-22T22:00:59.403

```
Data hazards:
(a) Line 3 needs to wait for line 2 to evaluate the value of $4 (in the
ﬁrst iteration)
(b) Line 4 needs to wait for line 2 to evaluate the value of $4 (every
iteration)
(c) Line 5 needs to wait for line 4 to evaluate the value of $5 (every
iteration)
(d) Line 8 needs to wait for line 7 to evaluate the value of $2

Control hazard
(a) Line 8 will stall while determining if $2 is equal to $0

Moving lines 6 and 7 to between lines 4 and 5 (alternatively moving
line 5 to between line 7 and 8) and swapping the order, i.e. line 7
before line 6, would provide the most savings with stalls, because that
stall occurs on each iteration of the loop. The swap is necessary to
avoid the data hazard with line 8. 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-10-07T17:41:27.093

1.  Line 3 is dependant on Line 2 (for $4)
2.  Line 4 is dependant on Line 3 (for $4)
3.  Line 5 dependant on Line 3 (for $4) and Line 4 (In the WB of add: value will be written to the register file --in the first half of clock cycle. At the same time MEM of sw would be going on, the value would be needed --in the first half of clock cycle. So Hazard condition exists between these two)
4.  Line 8 is dependant on Line 7

# git - git 过滤器分支 chmod

> ID：12986968
> 
> 赞同：1
> 
> 时间：2012-10-20T09:12:55.947
> 
> 标签：git, unix, chmod, git-filter-branch

在过去的几个月里，我不小心把我的 umask 设置不正确，不知何故没有注意到。

我的一个 git 存储库有许多标记为可执行文件的文件，应该只有 644。这个 repo 有一个主 master 分支和大约 4 个私有功能分支（我一直在 master 之上重新建立）。

我通过运行`find -type f -exec chmod 644 {} \;`和提交更改更正了我的主分支中的文件。然后我将我的功能分支重新定位到 master 上。

问题是功能分支中有新创建的文件仅在该分支中，因此我的大量 chmod 提交没有更正它们。我不想为每个功能分支创建一个与我在 master 上所做的提交相同的事情的新提交。所以我决定最好回到每个提交文件的地方并设置权限。

这是我尝试过的：

```
git filter-branch -f --tree-filter 'chmod 644 `git show --diff-filter=ACR --pretty="format:" --name-only $GIT_COMMIT`; git add .' master.. 
```

看起来这很有效，但经过进一步检查，我注意到在包含具有适当权限 644 的新文件的提交之后的每个提交实际上都会通过以下方式恢复更改：

```
diff --git a b
old mode 100644
new mode 100755 
```

我一生都无法弄清楚为什么会这样。我想我一定是误解了它的`git filter-branch`工作原理。

## 我的解决方案

我已经设法使用以下命令解决了我的问题：

```
 git filter-branch -f --tree-filter 'FILES="$FILES "`git show --diff-filter=ACMR --pretty="format:" --name-only $GIT_COMMIT`; chmod 644 $FILES; true' development.. 
```

我不断添加到`FILES`变量中，以确保在每次提交中，在某个时间点创建的任何文件都具有正确的模式。

**但是**，我仍然不确定我是否真的理解为什么 git 会跟踪*每次*提交的文件模式。尽管我已经在第一次创建文件时修复了文件的模式，因此我认为它会保持该模式，除非我的其他提交中的一个显式将其更改为其他内容。情况似乎并非如此。

我认为这会起作用的原因是我对`rebase`. 如果我返回`HEAD~5`并更改一行代码，则该更改会传播，它不仅会更改回`HEAD~4`.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-20T09:22:32.473

您只是在提交中更改文件的模式，因为您正在生成带有`diff`. 在最初未更改的提交中，它们将保留原始模式。例如：

```
git filter-branch --tree-filter 'git ls-files -z | xargs -0 chmod -x' master 
```

# css - 一个 html 元素的链式 CSS 类在旧 IE 版本中不起作用

> ID：12986970
> 
> 赞同：0
> 
> 时间：2012-10-20T09:12:57.817
> 
> 标签：css, internet-explorer, quirks-mode

我遇到了一个不应该发生的问题（这就是我感到困惑的原因）：在**[这个](http://www.petrebogdan.com/gegi/garfice.php)**页面上，左侧导航菜单的第一项附加了 2 个链接的类 - 一个用于特定格式作为**第一项**和其他显示**活动状态**。在标准兼容的浏览器中一切都很好，但*在旧的 IE 版本中缺少活动状态*，包括 IE8。

这尤其令人讨厌，因为 IE8 应该支持多个/链接的 CSS 类（如*[这篇精美的文章](http://coding.smashingmagazine.com/2009/10/14/css-differences-in-internet-explorer-6-7-and-8/)*中所述。）

任何人都可以帮我解决这个问题吗？谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-20T09:21:34.177

确保在 IE 中，文档模式是“standardds”而不是“quirks”

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-20T09:20:26.440

好吧，也许这不是解决方案，但至少尝试添加`!important;`到您的活动链接。

# iphone - 如何测试我正在创建的 iOS App 并模拟中国用户？

> ID：12986978
> 
> 赞同：2
> 
> 时间：2012-10-20T09:14:14.870
> 
> 标签：iphone, ios5, ios6

我正在开发一个将在全球范围内使用的应用程序，并且我有一位住在中国的同事。他声称到达我们在美国的服务器需要很长时间，我希望能够在我的手机上使用该应用程序，但通过我的 iPhone 上的 VPN 和代理，所以看起来我在中国。那可能吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-20T09:16:07.797

[在这里](http://www.proxynova.com/proxy-server-list/country-cn/)您可以找到中国网络代理的列表。

您还应该更改您的应用程序，以便它通过代理访问。这取决于你如何处理 HTTP 通信，但如果你用谷歌搜索，你会发现很多帖子。

请记住，代理会进一步延迟通信。

如果您想设置 VPN，请查看[本教程](http://www.macstories.net/tutorials/how-to-set-up-a-vpn-server-on-your-mac-and-access-everything-remotely-with-an-iphone/)以在您的 Mac 上设置 VPN，然后将 iPhone 连接到它。

# mysql - 嵌套查询显示来自 2 个表的 2 列

> ID：12986979
> 
> 赞同：2
> 
> 时间：2012-10-20T09:14:18.203
> 
> 标签：mysql

桌子

顾客

```
custno  |Custname
1       |Melinda
2       |Micheal
4       |Andrew 
```

航班

```
FlightNo | Day      | Destination | Cost
AF394    |monday    |Cape Town    |2700
FL2X     |Tuesday   |Paris        |5000
HK101    |Sunday    |hong kong    |3500 
```

预订 Custno | Flightno |成本

```
1       | AF394    |2700
1       |FL2X      |5000
1       |HK101     |3500
2       |HK101     |3500
6       |AF394     |2700
7       |AF394     |2700 
```

问题显示预订详细信息由名为 Melinda 的客户`CUSTNO,FKIGHTNO,DESTINATIN`组成。`DAY`

我是初学者`MySQL`，希望有人能帮我解决问题！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-27T18:27:43.613

```
select
(select custno from customer where custname='Melinda'), 
custno, 
flightno, 
day, 
destination 

from flight 
where flightno in (select flightno 
                   from reservation 
                   where custno in (select from where custname='Melinda')) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-20T09:28:38.927

```
--with joins
select r1.custno,r1.flightno,f1.destination,f1.day
from customer c1 join reservation r1 on c1.custno = r1.custno
                 join flight f1 on r1.flightno = f1.flightno
where c1.custname = 'Melinda'

--with nested queries
select (select custno from customer where custname = 'Melinda') custno,
        f1.flightno,f1.destination,f1.day
from flight f1 
where exists (
               select 1 
               from reservation 
               where flightno = f1.flightno and 
                     custno = (
                                select custno
                                from customer 
                                where custname = 'Melinda'
                               )
              ) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-20T09:44:33.587

```
SELECT Customer.custno, Reservation.Flightno, Flight.Destination, Flight.Day
FROM Flight LEFT OUTER JOIN Reservation ON Flight.FlightNo = Reservation.Flightno RIGHT OUTER JOIN Customer ON Reservation.Custno = Customer.custno WHERE (Customer.Custname = 'Melinda') 
```

**结果集**

```
1   AF394   Cape Town   monday
1   FL2X    Paris           Tuesday
1   HK101   hong kong   Sunday 
```

# static - Nginx 图像过滤器

> ID：12986980
> 
> 赞同：3
> 
> 时间：2012-10-20T09:14:28.787
> 
> 标签：static, nginx, amazon-s3, webserver, image

我将静态存储在 S3 上并使用[nginx](http://nginx.org/en/ "nginx")作为前端。对于从 S3 获取，我使用以下构造：

```
location / {
    try_files $uri @s3;
}

location @s3 {
    root /var/www/static.dev;
    proxy_pass https://bucket.s3-eu-west-1.amazonaws.com;
    proxy_store off; # for test purposes
    proxy_store_access all:rw;
    proxy_temp_path /dev/shm;
} 
```

这个作品！但我想生成拇指并使用这个位置：

```
if ( $uri ~ ^/t/ ) {
    set $w 182;
    set $h 114;
}
if ( $uri ~ ^/m/ ) {
    set $w 640;
    set $h 1280;
}
if ( $uri ~ ^/l/ ) {
    set $w 1024;
    set $h 2048;
}

location ~ ^/(?:t|m|l)/(.*\.(?:jpg|gif|png))$ {
    rewrite ^/[t|m|l]+/(.*)$ /$1;
    image_filter crop $w $h;
} 
```

但这不起作用，nginx return `415 Unsupported Media Type`。怎么了？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-24T11:39:54.947

您可能喜欢在 url 的每个部分上使用 location 指令：t/m/l。

```
location ( ~ ^/t/ ) {
    set $w 182;
    set $h 114;
    root /;
    image_filter crop $w $h;
} 
```

# python - Python二维列表为元素添加值

> ID：12986983
> 
> 赞同：4
> 
> 时间：2012-10-20T09:14:51.003
> 
> 标签：python, list, add, dimensional

我想为二维列表的元素添加一个值。而是将该值添加到列的所有元素中。有人可以帮忙吗？

```
ROWS=3
COLUMNS=5  
a=[[0] * (ROWS)] * (COLUMNS)    
for i in range(ROWS):
    print (a[i])    
print("")
x=5
a[2][1]=a[2][1]+x

for i in range(ROWS):
    print (a[i]) 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-20T09:17:52.837

线

```
a=[[0] * (ROWS)] * (COLUMNS) 
```

创建列表的副本，而不是为每一列或每一行创建新列表。

改用列表推导：

```
a = [[0 for _ in range(ROWS)] for _ in range(COLUMNS)] 
```

快速演示差异：

```
>>> demo = [[0]] * 2
>>> demo
[[0], [0]]
>>> demo[0][0] = 1
>>> demo
[[1], [1]]
>>> demo = [[0] for _ in range(2)]
>>> demo
[[0], [0]]
>>> demo[0][0] = 1
>>> demo
[[1], [0]] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-20T09:20:10.670

像这样创建您的列表：

```
In [6]: a = [[0 for _ in range(rows)] for _ in range(cols)]

In [7]: a[2][1] = a[2][1] + 5

In [8]: a
Out[8]: [[0, 0, 0], [0, 0, 0], [0, 5, 0], [0, 0, 0], [0, 0, 0]] 
```

因为您当前的操作方式实际上只是重复相同的列表对象，因此更改一个实际上会更改它们中的每一个。

```
In [11]: a = [[0] * (rows)] * (cols) 

In [12]: [id(x) for x in a]
Out[12]: [172862444, 172862444, 172862444, 172862444, 172862444] #same id(), i.e same object 
```

# c# - 实体框架 - 将检索到的 Combobox 值转换为字符串

> ID：12986984
> 
> 赞同：1
> 
> 时间：2012-10-20T09:14:52.713
> 
> 标签：c#, sql, entity-framework

使用实体框架，我有一个组合框，显示从数据库中检索到的数据列表。

```
using System;  //I removed the other using statements here to preserve space

namespace ExTea_BackEnd
{
    public partial class frmAddBreakdown : Form
    {
        ExTeaEntities Breakdowns;
        Breakdown_Type BreakdownTypes;

        public frmAddBreakdown()
        {
            InitializeComponent();
        }

        private void cmbBreakdownType_SelectedIndexChanged(object sender, EventArgs e)
        {
            Breakdown_Type breakdownType = (Breakdown_Type)cmbBreakdownType.SelectedItem;
            string selectedBreakdownTypeId = breakdownType.BrkdwnId;

            IQueryable<Breakdown_Type> breakdownTypeQuery = from t in Breakdowns.Breakdown_Types
                                                            where t.BrkdwnId == selectedBreakdownTypeId
                                                            select t;
            List<Breakdown_Type> selectedBreakdownId = breakdownTypeQuery.ToList();

            if (selectedBreakdownId != null && selectedBreakdownId.Count > 0)
            {
                BreakdownTypes = selectedBreakdownId.First();
                txtBreakdownId.Text = BreakdownTypes.BrkdwnId.ToString();
            }
            else
            {
                BreakdownTypes = null;
            }
        }

        private void btnAdd_Click(object sender, EventArgs e)
        {
            try
            {
                Breakdown newBreakdown = new Breakdown();

                Breakdown_Type breakdownType = (Breakdown_Type)cmbBreakdownType.SelectedItem;
                newBreakdown.BrkdwnType = breakdownType.ToString();   //this is where the error occurs

                newBreakdown.MachineId = txtMachineId.Text.Trim();
                newBreakdown.MachineType = txtMachineType.Text.Trim();
                newBreakdown.ReportedDate = dtpDate.Value;
                newBreakdown.JobStatus = "I";

                Breakdowns.AddToBreakdowns(newBreakdown);
                int rowsAffected = Breakdowns.SaveChanges();
                if (rowsAffected > 0)
                {
                    MessageBox.Show(rowsAffected + " records added!", "Save", MessageBoxButtons.OK, MessageBoxIcon.Information);
                }
            }
            catch (Exception ex)
            {
                MessageBox.Show("Error occured! " + ex.Message);
            }
        }
    }
} 
```

我正在尝试将表单中的数据保存回数据库，尝试转换从组合框中选择的值时发生错误。即使我已将其转换为正确的类型，它也不会保存所选值！但是这个，

![在此处输入图像描述](../Images/bff9c153ec054ac5bb69d36e012bb7dd.png)

我对我在这里做错了什么一无所知？谁能告诉我如何纠正这个问题？

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-20T09:19:01.297

```
newBreakdown.BrkdwnType = breakdownType.ToString(); 
```

在这里，您只是调用`.ToString()`对象的方法，因此它返回您可以在数据库表记录中查看的类型名称，以获取 BrkDwnType 属性值，您应该将语句更改为

```
newBreakdown.BrkdwnType = breakdownType.BrkdwnType; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-20T09:30:09.113

它应该是：

```
 newBreakdown.BrkdwnType = cmbBreakdownType.SelectedItem.ToString(); 
```

如果您只想要字符串值，则无需转换 selectedItem 。从设计的角度来看，您可能应该规范化您的数据库并为 breakDownType 使用一个 ID，该 ID 引用另一个具有 BreakDown 类型的表。

# performance - 在循环中定义变量重要吗？

> ID：12986990
> 
> 赞同：1
> 
> 时间：2012-10-20T09:15:29.457
> 
> 标签：performance, actionscript-3, flash, variables, definition

这是我正在编写的一段代码。

```
var cList:XMLList = xml.defines.c;
var className:String;
var properties:XMLList;
var property:XML;
var i:int,l:int;
var c:XML;

for each(c in cList)
{
    className = String(c.@name);

    if(cDict[className])
    {
        throw new Error('class name has been defined' + className);
    }

    if(className)
    {
        cDict[className] = c;
    }

    properties = c.property;

    i = 0,
    l = properties.length();

    if(l)
    {
        propertyDict[className] = new Dictionary();

        for(;i<l;i++)
        {
            // ...
        }
    }
} 
```

如您所见，我在循环之外定义了所有变量。我总是担心，如果我在循环中定义它们，它可能会减慢处理速度，尽管我没有证据——这只是一种感觉。

我也不喜欢 as3 语法允许在定义之前使用变量名。所以我总是在函数的最开始定义变量。

现在我担心这些习惯有一天会适得其反。还是只是个人口味的问题？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-20T09:49:02.247

不，这并不重要，因为编译器使用变量**提升**，所以这意味着编译器**将所有变量声明移动到**函数的顶部：

关于变量的更多解释：http: [//help.adobe.com/en_US/ActionScript/3.0_ProgrammingAS3/WS5b3ccc516d4fbf351e63e3d118a9b90204-7f9d.html](http://help.adobe.com/en_US/ActionScript/3.0_ProgrammingAS3/WS5b3ccc516d4fbf351e63e3d118a9b90204-7f9d.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-20T09:55:16.990

AS3 IDE 允许您在声明之前使用变量名，因为它们知道编译器使用一种称为“提升”的机制将*所有*变量定义移动到函数的顶部。这会在您没有注意到的情况下发生，因此您可以方便地使您的代码更具可读性。因此，如果您手动将所有定义移到顶部并没有真正的区别 - 除非您希望以这种方式构造您的代码。

出于同样的原因，循环中的变量声明不会影响性能，除非您将这些循环保留在单独的函数中 - 只有这样它才会导致变量的实际分配。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-22T00:33:03.367

许多 AS3 程序员，包括我在内，都会认为你现在拥有它的方式是“正确的”方式，而将变量放在任何块中都是“错误的方式”。在这种情况下，速度无关紧要，我会尽量以不偏不倚的方式提出双方的论点。

1.  将变量定义放置在靠近它使用的代码的位置。动机很简单：如果变量在某处使用，您可能想知道它在哪里声明。如果您不确定变量的类型或其修饰符，这很有用。通常，声明也是发表评论的地方。

2.  *将变量放在实际*声明它们的位置。即使是经验丰富的 ActionScript 程序员，最终也可能会因为在块内声明变量而迷惑自己，因为在这些块中看似未初始化的变量会突然包含一些随机值。常见情况如下所示：

```
for (var i:int; i < x; i++) {
    // this loop is entered exactly once, instead of `i' times
    for (var j:int; j < y: j++) { ... } 
} 
```

还有一个悠久的传统，起源于 C89 标准（又名 ANSI C），它没有块范围的变量，也不允许在循环内定义变量。这后来被更改，以便变量被限定在声明它们的代码块中。许多现代的类 C 语言，例如 C# 都这样对待变量。`j`因此，在上面的示例中，每次进入内部循环时，C# 都会重新初始化。

使用其他类 C 语言编写代码具有较长传统的程序员会因此而相信，一旦他们看到在块内声明的变量，该变量的作用域就是块。因此，“提升”被认为是违反直觉的。因此容易出错。

# android - Android：如果处于下拉列表模式，请选择 Tab 编程

> ID：12986991
> 
> 赞同：1
> 
> 时间：2012-10-20T09:16:02.400
> 
> 标签：android, user-interface

根据选项卡的数量和屏幕方向，选项卡彼此相邻或在下拉列表中显示。我写了一个函数来设置当前选项卡。这有效，但不适用于下拉列表模式。必须做什么？

```
static class TabsListener implements ActionBar.TabListener {
private static ActionBar mActionBar;
    private final ViewPager mViewPager;
    private final ArrayList<TabInfo> mTabs = new ArrayList<TabInfo>();
...

public void setTab(int i) {
                mViewPager.setCurrentItem(i);

    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-20T10:43:30.750

如果您尝试在用户滑动选项卡时更改选项卡/下拉选择，则[由于`setSelectedNavigationItem()`](http://code.google.com/p/android/issues/detail?id=38500). 我不知道在操作栏中仍然使用选项卡时的解决方法。就个人而言，这是我更喜欢`PagerTabStrip`（或 ViewPagerIndicator 库中的选项卡指示器）而不是操作栏选项卡的原因之一。

# android - Android - SMS Popup，不会自行打开

> ID：12986993
> 
> 赞同：1
> 
> 时间：2012-10-20T09:16:15.107
> 
> 标签：android, android-activity

我制作了一个打开弹出窗口的应用程序，一切正常，获取短信内容、发件人姓名和图片。收到短信后，它会打开一个弹出窗口，显示所有详细信息。但如果弹出窗口已经打开，它不会打开另一个显示第二条短信内容的弹出窗口。困扰我很多的事情是，我有`PreferenceActivity`这个应用程序。当此活动打开时，应用程序能够打开多个弹出窗口，否则它不会。我想问 1.如何让我的应用打开多个弹窗？2\. 为什么是什么时候`PreferenceActivity`打开，app可以弹出多个弹窗

一些细节：对于案例 1，日志**没有**给我任何警告或错误。我尝试使用 `FLAG_ACTIVITY_NEW_TASK` `FLAG_ACTIVITY_NO_HISTORY` `FLAG_ACTIVITY_MULTIPLE_TASK`并且`android:launchMode= "standard"` 我在一个活动中有这个 AlertDialog，从一个开始这个活动`broadcastreveiver`

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-20T19:50:22.560

一次只允许一个弹出窗口，在这种情况下，您可以将 Dialog 视为弹出窗口。我怀疑您是否能够在 Preference Activity 中看到多个弹出窗口，但您可能会看到一些看起来像但实际上并不多于一个的东西。这可以通过使用层次结构查看器轻松检查以查看实际分层的内容。

如果您想要分层消息之类的东西，例如在轮播、卡片边缘或使用其他一些视觉指示，您将使用/构建自定义视图。

# java - 删除单对多关系中的实体

> ID：12986994
> 
> 赞同：2
> 
> 时间：2012-10-20T09:16:22.070
> 
> 标签：java, entity, relationship

我在删除子实体项时遇到问题。每次我删除它时都没有任何反应，并且父母和孩子之间的关联仍然存在。我在网上搜索过，有些人建议使用 orphanremoval，但我试过了，但没有用。欣赏是否有任何建议。我的代码如下：

```
ClientProfile Entity (PARENT)

 Collapse | Copy Code
 @Entity (name="ClientProfile")
 public class ClientProfile implements Serializable {

 @OneToMany(orphanRemoval = true)
 private List<Address> address;
 @OneToMany(orphanRemoval = true)
 private List<ClientJob> clientJob;
 @OneToMany(orphanRemoval = true)
 private List<Asset> clientAsset;
 ...
 } 
```

资产实体 (CHILD) 是单向关系，因此资产实体不包含任何 @ManyToOne

在我的 SQL 数据库表中，我的关系是 CLIENTPROFILE_CLIENTASSET 并且它们通过 clientid 连接到assetid

在我的会话 bean 中，这是我的删除方法：

```
@Override
 public void removeAsset(Long assetId) throws DoesNotExistsException{
 Query query = em.createQuery("SELECT as FROM Asset as WHERE as.assetId = :assetid");
 query.setParameter("assetid", assetId);
 if (query.getResultList().isEmpty()){
 throw new DoesNotExistsException("Asset does not exist!"); 
 } else {
 em.remove(query.getSingleResult()); 

 }
 } 
```

正在从 managedbean 解析assetid。我不确定删除方法是否错误，因为这是我用来删除其他没有关系的实体项的方法。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-27T22:21:22.307

这应该可以帮助你。它是沿着相同的路线。我通常使用 Hibernate 而不是 JPA 来通过级联属性自动删除。

[JPA OneToMany 不删除孩子](https://stackoverflow.com/questions/2011519/jpa-onetomany-not-deleting-child)

# python - Python 中的条件 for

> ID：12986996
> 
> 赞同：39
> 
> 时间：2012-10-20T09:16:28.060
> 
> 标签：python

Python有类似下面的东西吗？

```
for item in items #where item>3:
  #..... 
```

我的意思是 Python 2.7 和 Python 3.3 都在一起。

* * *

## 回答 #1

> 赞同：67
> 
> 时间：2012-10-20T09:21:18.043

您可以将循环与[生成器表达式](http://docs.python.org/reference/expressions.html#grammar-token-generator_expression)结合起来：

```
for x in (y for y in items if y > 10):
    .... 
```

[`itertools.ifilter`](http://docs.python.org/2/library/itertools.html#itertools.ifilter)(py2) / [`filter`](https://docs.python.org/3/library/functions.html#filter)(py3) 是另一种选择：

```
items = [1,2,3,4,5,6,7,8]

odd = lambda x: x % 2 > 0

for x in filter(odd, items):
    print(x) 
```

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2012-10-20T09:18:57.747

你的意思是这样的： -

```
item_list = [item for item in items if item > 3] 
```

或者，您可以使用`Generator`不会创建新列表的表达式，而是返回一个生成器，然后使用`yield`方法在每次迭代中返回下一个元素：-

```
for item in (item for item in items if item > 3):
    # Do your task 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2012-10-20T09:38:21.510

没有像`where`您的问题中那样的特殊语法，但您始终可以`if`在循环中使用语句`for`，就像使用任何其他语言一样：

```
for item in items:
    if item > 3:
        # Your logic here 
```

或保护条款（再次，像任何其他语言一样）：

```
for item in items:
    if not (item > 3): continue

    # Your logic here 
```

这两种枯燥的方法几乎和特殊语法一样简洁易读。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2017-06-09T21:16:27.330

Python 3 和 Python 2.7 都具有`filter()`允许从函数（在下面的示例中，即 lambda 函数）返回的列表中提取项目的函数`True`：

```
>>> nums=[1,2,3,4,5,6,7,8]
>>> for item in filter(lambda x: x>5,nums):
...     print(item)
... 
6
7
8 
```

省略函数 in`filter()`将仅提取`True`中所述的项目`pydoc filter`

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-10-20T09:51:22.027

您可以使用显式`if`声明：

```
for item in items:
    if item > 3:
       # ... 
```

或者，如果您需要稍后迭代的名称，您可以创建一个生成器，[例如](https://stackoverflow.com/a/539024/4279)：

```
filtered_items = (n for n in items if n > 3) 
```

或者你可以将它传递给一个函数：

```
total = sum(n for n in items if n > 3) 
```

这可能是品味问题，但我发现与`for x in (y for y in items if y > 3):`上述选项相比，与内联的genexpr 相结合的for循环很难看。