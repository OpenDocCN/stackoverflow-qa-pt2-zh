# StackOverflow 问答 15678000-15678999

# php - 恢复支持的 php 代理？

> ID：15678003
> 
> 赞同：1
> 
> 时间：2013-03-28T09:15:03.250
> 
> 标签：php, proxy, webproxy

我需要为大文件下载创建一个支持简历的 php 代理。我尝试使用一些著名的开源代理脚本，例如 PHProxy 和 CGI​​Proxy。但他们不支持恢复。所以我想知道这样做的最佳解决方案是什么？

# python - Python：使用另一个列表作为顺序对列表进行排序

> ID：15678004
> 
> 赞同：2
> 
> 时间：2013-03-28T09:15:03.833
> 
> 标签：python, sorting

我很好奇是否有办法在我目前面临的情况下进行优化。

我有一个代表类别的字符串列表，通过以下方式对数据进行分组和排序：

```
['first', 'third', 'second'] 
```

这对应于包含需要根据它们排序的那些类别的对象的字典列表：

```
[{'color':'yellow', 'section':'third'},{'color':'red', 'section':'first'}, {'color': 'blue', 'section':'second'}] 
```

数据列表应按照第一组中给出的顺序进行排序，在这种情况下会导致：

```
[{'color':'red', 'section':'first'},{'color':'yellow', 'section':'third'},{'color': 'blue', 'section':'second'}] 
```

我目前的解决方案：

```
sortedList = []
for section in orderList:
  for item in dataList:
    if item['section'] == section: sortedList.append(item) 
```

有没有更清洁的方法可以排序？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-28T09:18:29.320

您可以使用内置[`sorted`](http://docs.python.org/2/library/functions.html#sorted)功能。

```
>>> lst = ['first', 'third', 'second']
>>> dcts = [{'color':'yellow', 'section':'third'}, {'color':'red', 'section':'first'}, {'color': 'blue', 'section':'second'}]
>>> sorted(dcts, key=lambda dct: lst.index(dct['section']))
[{'section': 'first', 'color': 'red'}, {'section': 'third', 'color': 'yellow'}, {'section': 'second', 'color': 'blue'}] 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-28T09:19:33.460

```
>>> dicts = [{'color':'yellow', 'section':'third'},{'color':'red', 'section':'first'}, {'color': 'blue', 'section':'second'}]
>>> L = ['first', 'third', 'second']
>>> order = dict(zip(L, range(len(L)))) # Dictionary for O(1) lookup
>>> sorted(dicts, key=lambda d: order[d['section']])
[{'color': 'red', 'section': 'first'}, {'color': 'yellow', 'section': 'third'}, {'color': 'blue', 'section': 'second'}] 
```

此方法将是 O(N) 而不是 O(N log N) 进行排序：

```
>>> sorted_sections = ['first', 'third', 'second']
>>> dicts = [{'color':'yellow', 'section':'third'},{'color':'red', 'section':'first'}, {'color': 'blue', 'section':'second'}]
>>> dict_by_section = {d['section']:d for d in dicts}
>>> [dict_by_section[section] for section in sorted_sections]
[{'color': 'red', 'section': 'first'}, {'color': 'yellow', 'section': 'third'}, {'color': 'blue', 'section': 'second'}] 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-28T09:18:09.203

您可以只使用`sorted()`with `key`：

```
In [6]: o = ['first', 'third', 'second']

In [7]: l = [{'color':'yellow', 'section':'third'},{'color':'red', 'section':'first'}, {'color': 'blue', 'section':'second'}]

In [8]: sorted(l, key=lambda x:o.index(x['section']))
Out[8]: 
[{'color': 'red', 'section': 'first'},
 {'color': 'yellow', 'section': 'third'},
 {'color': 'blue', 'section': 'second'}] 
```

这对 进行线性搜索`o`。如果`o`可以很大，应该首选@jamylak 的解决方案。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-03-28T09:18:32.187

这是一个更优化的版本：

```
sort_key = lambda x: ks.index(x['section'])

print(sorted(dicts, key=sort_key)) 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-28T09:26:41.780

```
orderList = ['first', 'third', 'second']
dataList = [{'color':'yellow', 'section':'third'},{'color':'red', 'section':'first'}, {'color': 'blue', 'section':'second'}]

orderDict = dict((v,offset) for offset, v in enumerate(orderList))

print sorted(dataList, key=lambda d: orderDict[d['section']]) 
```

# forms - 使用“打印”时“对象不支持此属性或方法”

> ID：15678005
> 
> 赞同：1
> 
> 时间：2013-03-28T09:15:06.143
> 
> 标签：forms, vba, excel, printing

我是 VBA 的新手（在 Excel 中使用它），我目前正在阅读一些教程，以了解它与 Java oder C# 的不同之处。但这不是问题... ;-)

这个教程告诉我在 Form_Initialize 过程中使用“打印”（我正在使用带有 VBA6 的 Office XP ...不要问我为什么，这不是我的决定:-P）。但是当我这样做时，它给了我上面提到的错误（或者至少我猜这个错误必须用英语读成这样的东西，我的版本是德语：D）。

这是我在一个非常简单的示例中尝试做的事情：

```
Private Sub UserForm_Initialize()
   Print "Hello World!"
End Sub 
```

按照教程，这应该将“Hello World”打印到即将初始化的表单的“表面”......按照帮助（F1），它应该做的差不多......
但它没有;- )

有人知道我哪里错了吗？我不明白...

在此先感谢并问候
吉拉拉斯

**=================================更新================= ===============**
教程告诉我写

```
Print " a", "      b", "a*b", "a+b", "Int(a/b)" 
```

这应该给我一种表格形式的表达方式。
这甚至可以使用文本框吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-28T09:18:18.140

您需要在放置文本的用户表单中插入某种控件。例如，放置一个类型的控件`Caption`并将其命名`Caption1`（在属性列表中`F4`）。

然后你可以分配一个值：

```
Me.Caption1 = "Hello world!" 
```

或者，根据您的需要，您可以使用`Debug.Print "Hello world!"`简单地在调试控制台中输出字符串（仅在开发期间有用） - 或用于`MsgBox "Hello world!"`向用户显示消息。在这种情况下，您根本不需要表单，而只需触发宏，例如从 Excel 中的按钮。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-28T09:19:11.363

VBA 与 Win32 应用程序不同。使用 print 是旧版本，现在不一样了。如果你想在表面上打印一些东西，你必须添加一个东西来写它。像...

将工具箱中的文本框（对象）添加到表单，也添加标签（对象）然后您的文本框默认名称为 Textbox1，标签默认名称为 Label1

所以，在你的代码上：

```
Private Sub UserForm_Initialize()
   textbox1.text = "Hello World"
Label1.text = "Hello World"
End Sub 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-28T09:21:32.330

您可以使用 debug.print [http://www.cpearson.com/excel/DebuggingVBA.aspx在即时窗口/控制台 (ctr+g) 中打印](http://www.cpearson.com/excel/DebuggingVBA.aspx)

# c# - c# mshtml on webbrowser winforms

> ID：15678013
> 
> 赞同：0
> 
> 时间：2013-03-28T09:15:23.233
> 
> 标签：c#, browser, mshtml

我需要在 c# 的 webbrowser 控件中拦截文本框单击 DOM。我在互联网上搜索了很多，我学会了使用 mshtml.dll。将其包含在项目中，这是我的示例：

```
mshtml.HTMLDocument doc;
        doc = (mshtml.HTMLDocument)webMain.Document;
        mshtml.HTMLDocumentEvents2_Event iEvent;
        iEvent = (mshtml.HTMLDocumentEvents2_Event)doc;
        iEvent.onclick += new mshtml.HTMLDocumentEvents2_onclickEventHandler(ClickEventHandler); 
```

但是当我尝试编写代码时，我遇到了这个问题：

**无法将类型“System.Windows.Forms.HtmlDocument”转换为“mshtml.HTMLDocument”**

我认为问题出在 webbrowser 控件类，但我不知道为什么。有任何想法吗？

谢谢您的帮助

# php - PHP表单提交在271个提交变量后结束

> ID：15678014
> 
> 赞同：1
> 
> 时间：2013-03-28T09:15:27.320
> 
> 标签：php, forms, post, submit, php-ini

关于提交多个表单，我遇到了一个小问题：

我正在尝试提交更多的，但是，在提交了总共**271**个表单变量`$_POST-variables`之后，我的服务器端脚本结束（或只是崩溃） 。

 **在本地主机上尝试，一切正常，没有任何问题。在这里，总共提交了 771 个帖子变量。

到目前为止，我还做了一些研究，试图弄清楚我可以改变什么样的变量来配置更大的数据范围或类似的东西。

所以这是我的**服务器配置：**

```
max_execution_time  30  30
max_input_nesting_level 64  64
max_input_time  60  60
max_input_vars  1000    1000
memory_limit    256M    256M
post_max_size   8M  8M 
```

**本地主机配置**：

```
max_execution_time  30  30
max_file_uploads    20  20
max_input_nesting_level 64  64
max_input_time  60  60
max_input_vars  1000    1000
memory_limit    256M    256M
post_max_size   8M  8M 
```

如您所见，它是相同的配置...我的服务器上还安装了**suhosin - 扩展**，默认配置。我对这个扩展不太熟悉，但是使用默认值应该会产生这种影响（我猜 :)）

**服务器-PHP 版本：5.3.9
本地：5.3.17**

问题与这个非常[相似](https://stackoverflow.com/questions/12684449/php-post-array-variables-are-truncated?rq=1)。

我正在努力解决这个问题好几个星期了，如果你有任何想法……那就太好了；）

谢谢 ：）

更新：

如果我使用这种方法（[谢谢](https://stackoverflow.com/questions/5077969/php-some-post-values-missing-but-are-present-in-php-input)）：

```
$pairs = explode("&", file_get_contents("php://input"));
$vars = array();
foreach ($pairs as $pair) {
    $nv = explode("=", $pair);
    $name = urldecode($nv[0]);
    $value = urldecode($nv[1]);
    $vars[$name] = $value;
}
print_r($vars); 
```

我看到了我之前显示的所有表单变量和内容。但是，通过使用直接访问 $_POST 变量

```
isset($_POST['LanguageContentForm'] 
```

并将其保存到变量中不起作用..：/

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T09:32:25.923

如果你检查 phpinfo() 你可以在每台机器上看到一个 suhosin.post.max_vars 的 var。

您应该可以在 .htaccess 中使用以下内容对其进行更改：

```
php_value suhosin.post.max_vars 1000
php_value suhosin.request.max_vars 1000 
```

更新

也许这个也是：

```
suhosin.request.max_varname_length

Type: Integer
Default: 64 
```

定义可以通过 COOKIE、URL 或通过 POST 请求注册的变量的最大名称长度（不包括可能的数组索引）。此设置也是变量来源特定配置指令的上限。**

# authentication - 向 LDAP 服务器发送加密密码（Active Directory 2008）

> ID：15678016
> 
> 赞同：1
> 
> 时间：2013-03-28T09:15:35.800
> 
> 标签：authentication, active-directory, ldap, md5, encryption

我可以使用 MD5 Digest 身份验证使用明文密码成功登录 AD，另外 JNDI 代表我们执行 SASL 加密/哈希工作，所以一切正常。但是我的问题是，我想自己散列我的密码或任何外部设备以加密形式发送其密码，因此我必须将加密数据发送到 AD，但是当我将密码更改为加密时它不起作用。有什么办法可以防止 JNDI 对密码进行哈希处理？

"
String original = originalPassword;

字符串传递=空；

消息摘要医学博士；

尝试 {

md = MessageDigest.getInstance("MD5");

md.update(original.getBytes());

字节[] 摘要 = md.digest();

StringBuffer sb = new StringBuffer();

对于（字节 b：摘要）{

sb.append(Integer.toHexString((int) (b & 0xff)));

}

pass = sb.toString();

} 捕捉（NoSuchAlgorithmException e）{

```
e.printStackTrace(); 
```

}

然后我在我的代码中使用这个“通行证”：

env.put(Context.SECURITY_CREDENTIALS, pass );

但它没有用:(

"

我将不胜感激任何帮助。

谢谢。

# ios - 如何获取 PayPal 客户端 ID

> ID：15678017
> 
> 赞同：8
> 
> 时间：2013-03-28T09:15:35.830
> 
> 标签：ios, paypal

我正在开发一个 iphone 应用程序，我想将它与将使用 rest API 的 PayPal 集成。

我从这里下载了适用于 iOS 的 SDK 1.0.4。
[https://github.com/paypal/PayPal-iOS-SDK](https://github.com/paypal/PayPal-iOS-SDK)

PayPal 提供了一个示例代码。但在这个应用程序中，我需要更改 PayPal 客户端 ID 和电子邮件地址。

定义 kPayPalClientId @"YOUR CLIENT ID HERE"
定义 kPayPalReceiverEmail @"YOUR_PAYPAL_EMAIL@yourdomain.com"

如何获取 PayPal 客户端 ID？以及我如何测试它是否通过单个 PayPal 账户转账？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-03-28T16:24:04.823

[您可以通过访问PayPal 开发者网站上的应用程序页面](https://developer.paypal.com/webapps/developer/applications)并使用您的 PayPal 帐户登录来获取您的 PayPal API 凭证，包括客户端 ID 。

在此页面上登录后，您将被分配一个**沙箱**客户端 ID，这将允许您针对 PayPal 沙箱测试您的 iOS 集成。在您的代码中，将接收者电子邮件设置为企业沙盒帐户电子邮件地址，然后使用个人沙盒帐户电子邮件和密码在应用程序的 UI 中登录 PayPal。[您可以在沙盒帐户](https://developer.paypal.com/webapps/developer/applications/accounts)页面上创建企业和个人沙盒帐户。

要获得您的**实时**客户 ID，您需要有一个企业帐户。如果您还没有企业帐户，在同一应用程序页面的底部有一个链接可以帮助您入门。对于实时交易，请使用您的 PayPal 电子邮件地址作为收款人电子邮件。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-11-27T10:11:17.067

登录[https://developer.paypal.com](https://developer.paypal.com)并单击应用程序选项卡。

在[https://developer.paypal.com/webapps/developer/applications/myapps](https://developer.paypal.com/webapps/developer/applications/myapps)单击创建应用程序。

在创建新应用页面上，提供应用名称。

单击创建应用程序，然后查看显示的有关您的应用程序的信息（如下所述）

现在您将获得客户 ID

# ios - 如何使用 UIGestureRecognizer 识别字母

> ID：15678018
> 
> 赞同：0
> 
> 时间：2013-03-28T09:15:36.423
> 
> 标签：ios, objective-c, uigesturerecognizer

有没有办法给 UIGestureRecognizer 一个形状（一系列坐标），当用户用手指绘制形状时，它可以用来触发动作？我在考虑字母的形状，但它可以是任何东西。

编辑：

我发现这个[https://github.com/chrismiles/CMUnistrokeGestureRecognizer](https://github.com/chrismiles/CMUnistrokeGestureRecognizer)可能会做我想要的。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-28T17:06:45.537

不幸的是，实现自定义手势识别器并不像提供`UIGestureRecognizer`一个形状或一系列点那么简单。您必须子类`UIGestureRecognizer`化并编写代码来跟踪用户的交互`touchesBegan:withEvent:`等`touchesMoved:withEvent:`。然后，根据用户绘制的手势的线条长度和角度等，您确定它是否成功匹配您的预期并触发`UIGestureRecognizer`回调。

这导致了固有的复杂性，因为用户在用手指弯曲手势时不是很精确。您必须在设计手势时对所识别的内容有所容忍；太严格会没用，太笼统会报太多误报。

我怀疑如果您尝试识别大量手势，例如字母表中的字母，而不是实现 26 种不同的手势识别器，您最好编写一个通用的手势识别器，记录一次用户的输入并检查它是否匹配您存储在某处的一系列手势定义。然后实现一个自定义回调，告诉处理程序它匹配哪个手势。

来自 Apress的非常有声望的“[开始 iOS 开发：探索 iOS SDK](http://www.apress.com/9781430245124) ”系列专门用一章的一小部分来实现自定义手势识别器。随附的源代码可在此处从 Apress 官方网站[下载](http://www.apress.com/9781430236054)（底部的源代码/下载选项卡）。
请参阅第 17 章中的第 627-632 页：“点击、触摸和手势”。

Apple 的[iOS 事件处理指南](http://developer.apple.com/library/ios/#documentation/EventHandling/Conceptual/EventHandlingiPhoneOS/Introduction/Introduction.html#//apple_ref/doc/uid/TP40009541-CH1-SW1)的[手势识别](http://developer.apple.com/library/ios/#documentation/EventHandling/Conceptual/EventHandlingiPhoneOS/GestureRecognizer_basics/GestureRecognizer_basics.html#//apple_ref/doc/uid/TP40009541-CH2-SW2)器章节包含“创建自定义手势识别器”部分，其中也包含相关信息和示例。

# visual-studio - VSCT：不同VS版本的不同图标

> ID：15678023
> 
> 赞同：4
> 
> 时间：2013-03-28T09:15:46.957
> 
> 标签：visual-studio, visual-studio-extensions, vsct

我正在为具有工具栏命令的 VS2010 和 VS2012 进行扩展。
鉴于它们之间图标样式的变化，我想为每个图标提供一个单独的图标。

我如何在 中指定`.vsct`？我假设我可以使用`Condition`，但我不确定 VS 版本是否已经有预定义的值。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-28T11:15:03.030

似乎不使用 MSI 是不可能的，请参阅MSDN 论坛上的“ [VS 包 (VSIX)：为 VS2010/VS2012 提供两个不同的工具栏图标”。](http://social.msdn.microsoft.com/Forums/en-US/vsx/thread/b44cd3a9-933d-43e9-ba59-0cfe3e3f2adb)

> [瑞安莫尔登（MSFT）](http://social.msdn.microsoft.com/profile/ryan%20molden)：
> 
> 我不相信您可以使用 VSIX 来安装或指定目标特定资源。VSIX 旨在作为一种非常简单的部署机制，它实际上只是一个重命名的 ZIP 文件加上一个带有少量逻辑来处理 pkgdef 文件的安装程序。如果您想要更复杂的安装（例如根据您的安装目标放置不同的 dll），我相信您需要创建一个 MSI。

# mysql - dlopen 加载库正确，但运行程序，结果不正确

> ID：15678025
> 
> 赞同：1
> 
> 时间：2013-03-28T09:16:08.490
> 
> 标签：mysql, c, linux, dlopen, dlsym

我使用dlopen、dlsym 加载库函数。运行程序时遇到了这个问题：</p>

1.  使用dlopen加载函数，调用函数正确但结果不正确
2.  不要用d​​lopen直接调用函数，结果是正确的

我怎样才能找到问题？

例子：</p>

```
void *dl_handle = NULL;
char *error = NULL;

/* Open the shared object */
dl_handle = dlopen(pLibraryName, RTLD_LAZY );
if (!dl_handle) 
{
     return -1
}

char* error = NULL;
pFunc = dlsym( dlHandle, "mysql_rollback");
error = dlerror();
if (error != NULL)\
{
    return -1
} 
```

# c# - 在表单加载时将 DateTimePicker 值设置为空

> ID：15678030
> 
> 赞同：0
> 
> 时间：2013-03-28T09:16:33.383
> 
> 标签：c#, winforms, telerik, datetimepicker

我正在使用telerik Q3 2010 for winform，我需要在表单加载时将DateTimePicker值设置为null，我没有NullableValue属性来使用它[，](http://www.telerik.com/community/forums/winforms/calendar-and-datetimepicker/datetimepicker-setting-itself-to-now-when-form-opens.aspx)因为我的控件来自2010版本，我该怎么做使用

```
 radDateTimePicker1.NullDate 
```

我不能为它分配空值，因为它不可为空。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-28T09:19:34.583

相当确定您可以为该特定版本执行以下操作：

`this.radDateTimePicker1.DateTimePickerElement.SetToNullValue();`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-08-16T13:52:46.060

您不能将`DateTimePicker`值设置为空。但只是为了显示重置值，您可以使用将其设置为当前值`DateTime.Today`。

# vbscript - VBScript (HTA) MapNetworkDrive - 登录失败

> ID：15678035
> 
> 赞同：0
> 
> 时间：2013-03-28T09:16:54.590
> 
> 标签：vbscript, hta

我正在尝试创建一个 HTA 文件，其中包括连接到 Windows 7 PC 上的远程网络驱动器。为此，我需要一个用户名/密码。我有以下代码：

```
Sub ConnectDrive
        Set objNetwork = CreateObject("WScript.Network")
        Set oShell = CreateObject("Shell.Application")
        objNetwork.MapNetworkDrive "x:", "\\testsystem3\temp", False, User, Pass
        If Err.Number = 0 Then
            oShell.NameSpace("x:").Self.Name = "Temp on TS3"
        End If 
        Set oShell = Nothing
        Set objNetwork = Nothing
    End Sub 
```

*User*和*Pass*是用于连接的实际用户名和密码。

问题是我收到登录失败错误消息：“登录失败：未知用户名或密码错误”。

我确信用户名和密码都可以，因为使用该`net use x: \\testsystem3\temp /user:User pass`命令成功连接了驱动器。

有什么建议如何让它工作吗？我可以关闭 Windows 7 机器上的密码保护共享，但我不喜欢那样...

谢谢！

# css - |= 和 ^= css 之间的区别

> ID：15678037
> 
> 赞同：14
> 
> 时间：2013-03-28T09:17:00.883
> 
> 标签：css, css-selectors

`|=`和`^=`在 css 中有什么区别？

由于这个链接它不是一个，但他们为什么要为两件事重复而烦恼。 [http://www.w3schools.com/cssref/css_selectors.asp](http://www.w3schools.com/cssref/css_selectors.asp)

[属性|=值] 和 [属性^=值]

首先有

> 选择 src 属性值以“https”开头的每个元素

第二个有

> 选择具有以“en”开头的 lang 属性值的所有元素

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-28T09:19:56.820

我认为 w3c 文档中的官方描述说明了一切：

`E[foo|="en"]`- 一个 E 元素，其 foo 属性值是以连字符分隔的以 en 开头的值列表

`E[foo^="bar"]`- 一个 E 元素，其 foo 属性值正好以字符串 "bar" 开头

W3Schools 文档有时并不精确，因此要获得好的文档，请访问[MDN](https://developer.mozilla.org/en-US/)或[Sitepoint](http://www.sitepoint.com/)或使用官方[W3C 文档](http://dev.w3.org/csswg/selectors4/#overview)。

基本上，`|=`选择器匹配单词，可选地紧跟连字符（`-`或分别为 U+002D），并且对复合类和语言属性很有用。

```
<div class="wrapper-inner"><span lang="en-GB">...</span></div>

div[class|='wrapper']{/*...*/}
span[lang|='en']{/*...*/} 
```

`^=`更通用一点，基本上是“子字符串匹配”，并且行为与`^`正则表达式完全相同。

您可以在以下示例中看到两个选择器匹配方式的不同：

```
*{
color:red;
/* now, if |= or ^= selector fails, the color is red */
}

[class|=en],[class^=de]{
color:green;
}
div::after{content:"FAIL"}
[class|=en]::after,[class^=de]::after{content:"pass"}
```

```
<div class="en-US">Case 1.1: |=en matching "en-US": </div>
<div class="en">Case 1.2: |=en matching "en": </div>
<div class="en-">Case 1.3: |=en matching "en-": </div>
<div class="en,">Case 1.4: |=en matching "en,": </div>
<div class="english">Case 1.5: |=en matching "english": </div>
<div class="en ">Case 1.6: |=en matching "en ": </div>
<div class="de-DE">Case 2.1: ^=de matching "de-DE": </div>
<div class="de">Case 2.2: ^=de matching "de": </div>
<div class="de ">Case 2.3: ^=de matching "de ": </div>
<div class="deutsch">Case 2.4: ^=de matching "deutsch": </div>
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2017-07-10T02:40:19.337

请检查以下示例。您将在两个选择器之间获得更好的理解。

```
/* select all lang attribute starting with "en" */
[lang^=en] {
    border: 1px solid red;
}

/* select all hyphen-separated lang attribute starting with "en" */
[lang|=en] {
    background: yellow;
}
```

```
<p lang="en">Hello!</p>
<p lang="en-us">Hi!</p>
<p lang="en_gb">Ello!</p>
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-03-28T09:24:23.390

当 W3C 的官方文档在那里时，为什么要使用 w3schools？

[W3C CSS3 选择器](http://www.w3.org/TR/selectors/#selectors)

[W3C CSS2 选择器](http://www.w3.org/TR/CSS2/selector.html#pattern-matching)

> `E[foo^="bar"]`一个 E 元素，其 "foo" 属性值正好以字符串 "bar" 开头（属性选择器 CSS3）
> 
> `E[foo|="en"]`一个 E 元素，其“foo”属性有一个以连字符分隔的值列表（从左侧）以“en”开头（属性选择器 CSS2）

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-03-28T09:22:15.440

w3schools 不是一个很好的知识来源（[查看那个网站](http://w3fools.com/)）。你应该依赖官方的[CSS 规范](http://www.w3.org/TR/selectors/)：

`E[foo^="bar"]` 一个 E 元素，其 "foo" 属性值正好以字符串 "bar" 开头

`E[foo|="en"]` 一个 E 元素，其“foo”属性具有以连字符分隔的以“en”开头的值列表（从左侧开始）

*用法示例：*

> 以下选择器表示一个 a 元素，其 hreflang 属性的值以“en”开头，包括“en”、“en-US”和“en-scouse”：
> 
> `a[hreflang|="en"]`

> 下面的选择器代表一个 HTML 对象，引用一个图像：
> 
> `object[type^="image/"]`

# android - IMediaDeathNotifier：媒体服务器死机

> ID：15678038
> 
> 赞同：3
> 
> 时间：2013-03-28T09:17:01.790
> 
> 标签：android, android-camera, audio-recording

最近我遇到了这个问题，但不知道。我想使用“mediarecorder”录制 720P 视频流并实时发送到服务器。这是我的代码：

```
try{
    soc = new Socket(InetAddress.getByName(hostname), port);
} catch (UnknownHostException e){
    e.printStackTrace();
} catch (IOException e){
    e.printStackTrace();
}
CamcorderProfile pProfile = CamcorderProfile.get(CamcorderProfile.QUALITY_720P);
//pProfile.videoFrameWidth = 1280;
//pProfile.videoFrameWidth = 720;
recorder.setProfile(pProfile);

//recorder.setOutputFile(myRecAudioFile.getAbsolutePath());//保存路径

pfd = ParcelFileDescriptor.fromSocket(soc);
recorder.setOutputFile(pfd.getFileDescriptor());
recorder.prepare();
recorder.start(); 
```

android API 级别是 17，当我启动媒体记录器时，程序会死一两秒。像这样的错误日志：

```
IMediaDeathNotifier- media server died
Camera  -  Camera server died 
```

有遇到过类似问题的朋友可以给我一些建议吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T02:32:28.937

我认为您需要为您的设置预览显示`MediaRecorder`：

```
SurfaceView mySurfaceView = (SurfaceView) findViewById(R.id.my_surface_view);
Surface mySurface = camera.getHolder().getSurface();
recorder.setPreviewDisplay(mySurface); 
```

[显然，除非您设置了预览显示表面(ref)](https://stackoverflow.com/questions/2386025/android-camera-without-preview)，否则 android 不允许您播放视频。

# solr - Lucene 4.2版本中使用wordnet同义词扩展查询

> ID：15678041
> 
> 赞同：2
> 
> 时间：2013-03-28T09:17:26.937
> 
> 标签：solr, lucene, wordnet

我正在使用 Lucene 4.2，想知道如何使用 wordnet 来扩展此版本 Lucene 的输入查询。基本上，如果我的查询是

```
term_1 AND term_2 OR term_3 
```

我希望它被扩展为

```
(term_1 OR term_1syn_1 OR term_1syn_2) AND (term_2 OR term_2syn_1) OR (term_3 OR term_3syn_1) 
```

等等。

我在 StackoverFlow 上查看了此类问题的其他答案，但没有一个有任何示例实现。

给定一个字符串形式的输入查询，我如何使用 WordNetQueryParser 和 SynonymMap 类来扩展它？

我已经下载了 wordnet prolog 文件，并且我知道 _s.pl 文件包含所有同义词。

任何示例代码将不胜感激。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-28T16:30:35.040

[SynonymFilter](http://lucene.apache.org/core/4_0_0/analyzers-common/org/apache/lucene/analysis/synonym/SynonymFilter.html)允许您将 SynonymMap 定义为[简单](http://lucene.apache.org/core/4_0_0/analyzers-common/org/apache/lucene/analysis/synonym/SynonymMap.html)的自定义分析器。

[您可以通过重写Analyzer.createComponents](http://lucene.apache.org/core/4_0_0/core/org/apache/lucene/analysis/Analyzer.html#createComponents%28java.lang.String,%20java.io.Reader%29)来创建自定义分析器，并在分别写入和搜索时将自定义版本传递给 IndexWriter 和 QueryParser。

需要考虑的一件事是，您的案例涉及分解所有可能的同义词，这意味着在[Builder.add 中将](http://lucene.apache.org/core/4_0_0/analyzers-common/org/apache/lucene/analysis/synonym/SynonymMap.Builder.html#add%28org.apache.lucene.util.CharsRef,%20org.apache.lucene.util.CharsRef,%20boolean%29)includeOrig 传递给 true 。无论哪种方式都有好处，可能会研究哪种方式最能满足您的需求。

* * *

Lucene 的`Analyzer`设计易于扩展，可以轻松地为您的特定情况定义格式。上面链接的`Analyzer`API 文档提供了一个为您的自定义分析器覆盖 createComponents 方法的示例。

就像是：

```
protected TokenStreamComponents createComponents(String fieldName, Reader reader) {
    Tokenizer source = new ClassicTokenizer(Version.LUCENE_40, reader);
    TokenStream filter = new StandardFilter(Version.LUCENE_40, source);
    filter = new LowerCaseFilter(Version.LUCENE_40,filter);
    filter = new SynonymFilter(filter, mySynonymMap, false);
    //Whatever other filter you want to add to the chain, being mindful of order.
    return new TokenStreamComponents(source, filter);
} 
```

您需要从示例中定义 mySynonymMap，它是一个`SynonymnMap`. 通常`SynonymMap`应该由`SynonymMap.Builder`, 通过`add(CharsRef, CharsRef, boolean)`上面链接的方法构建。

```
SynonymMap.Builder builder = new SynonymMap.Builder(true); 
builder.add(new CharsRef("crimson"), new CharsRef("red"), true); 
//Be sure the boolean last arg you pass there is the one you want.  There are significant tradeoffs here.
//Add as many terms as you like here...
SynonymMap mySynonymMap = builder.build(); 
```

还有一个`WordNetSynonymParser`，如果你喜欢的话，它看起来只是一个 SynonymMap.Builder 旨在读取特定类型的规范，一目了然。

# forms - 查询条件：来自公共变量或来自表单

> ID：15678044
> 
> 赞同：0
> 
> 时间：2013-03-28T09:17:29.637
> 
> 标签：forms, ms-access

经过几个小时的搜索，我找不到任何解决我遇到的这个小问题的方法。

我有一个从表单中检索其条件之一的查询。我已经从查询中正确引用了表单上的值，它可以工作，但我想做的有点复杂：当表单关闭时，我想使用“默认值”启动查询。

我尝试以两种不同的方式进行操作： a) 在查询条件中定义“IIf”：我需要一个函数来检查我从中检索值的表单是否打开。b) 使用默认值定义公共变量，该值将从以下形式更改：我不知道在何处/何时初始化变量的值。

有没有人对如何做到这一点有更好的想法？

TL;DR：查询在打开时从表单中获取标准。如果表单已关闭，则查询使用默认值。帮助！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-28T09:30:19.083

您可以在模块中创建 VBA 函数来执行此操作：

```
Function MyCriterion() As Long

  MyCriterion = 1234                           '   default value

  If CurrentProject.AllForms("MyForm").IsLoaded Then

      MyCriterion = Forms("MyForm").MyControl.Value

  End If

End Function 
```

# spring - Spring MVC 中的依赖注入

> ID：15678053
> 
> 赞同：1
> 
> 时间：2013-03-28T09:17:49.733
> 
> 标签：spring, spring-mvc

我想`MessageSource`在 Spring 中使用依赖注入来初始化我的字段。这是到目前为止：

```
package com.ucmas.cms.view;

@Component
public class PdfRevenueReportView extends AbstractPdfView {
  ...
  @Autowired
  private MessageSource messageSource;
  ...
} 
```

`mvc-dispatcher-servlet.xml`

```
<?xml version="1.0" encoding="UTF-8"?>
<beans:beans xmlns="sec://www.springframework.org/schema/mvc"
    xmlns:beans="http://www.springframework.org/schema/beans" xmlns:mvc="http://www.springframework.org/schema/mvc"
    xmlns:context="http://www.springframework.org/schema/context"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.1.xsd
        http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.1.xsd
        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.1.xsd
        http://www.springframework.org/schema/security http://www.springframework.org/schema/security/spring-security-3.1.xsd">

    <context:component-scan base-package="com.ucmas.cms.controller,com.ucmas.cms.view" />

    <!-- Enables the Spring MVC @Controller programming model -->
    <mvc:annotation-driven />
    ...
    <beans:bean class="org.springframework.web.servlet.view.XmlViewResolver">
       <beans:property name="location" value="/WEB-INF/spring-pdf-views.xml" />
       <beans:property name="order" value="0" />
    </beans:bean>

</beans:beans> 
```

我已经定义了我的 messageSource`root-context.xml`

```
<bean id="messageSource"    

class="org.springframework.context.support.ReloadableResourceBundleMessageSource">
        <property name="basename" value="classpath:messages" />
        <property name="defaultEncoding" value="UTF-8" />
    </bean> 
```

我的控制器类工作正常，但是我无法在`PdfRevenueReportView`类中注入 messageSource 字段。我应该怎么做才能使 DI 工作？

**更新**

我在xml中定义视图如下

```
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.1.xsd">
    <bean id="PdfRevenueSummary" class="com.ucmas.cms.view.PdfRevenueReportView" />
</beans> 
```

也许这就是为什么 messageSource 总是 null ？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-29T01:39:07.623

我通过将 spring-pdf-views.xml 更新为

```
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.1.xsd">
    <bean id="PdfRevenueSummary" class="com.ucmas.cms.view.PdfRevenueReportView">
        <property name="messageSource" ref="messageSource"/>
    </bean>
</beans> 
```

但是，这需要我为 messageSource 字段生成 setter 和 getter 并删除`@Autowired`注释。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T09:23:47.730

在您的`dispatcher servlets`配置中，您需要为消息源创建一个 bean。

```
<bean id="messageSource"
    class="org.springframework.context.support.ResourceBundleMessageSource">
    <property name="basename" value="directory/with/messagesource"/>
</bean> 
```

还要确保该`messages`目录位于类路径中。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-07-12T00:24:07.563

您正在使用 Autowired 注释 messageSource。*当您的 bean messageSource*是 MessageResource 的接口时，这可能不起作用，实际上是实现*ResourceBundleMessageSource*。

我认为如果您使用 @Resource 代替，您的 DI 会起作用，因为它是基于名称的：

```
@Resource
private MessageSource messageSource; 
```

# xcode - 将数组保存到 plist

> ID：15678062
> 
> 赞同：4
> 
> 时间：2013-03-28T09:18:08.513
> 
> 标签：xcode, arrays, loops, nsarray, plist

我正在尝试将一些项目存储到`pList`. 这是数组循环：

```
for (id obj in items)
NSLog(@"obj: %@", obj); 
```

输出 NSLog：

```
2013-03-27 13:00:40.072 mycode[47436:c07] obj: Red
2013-03-27 13:00:40.073 mycode[47436:c07] obj: Blue
2013-03-27 13:00:40.073 mycode[47436:c07] obj: Green 
```

// arrayWithObjects 有效。但我不知道如何（循环？）通过我的项目保存到 plist 文件中......

```
 NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
        NSString *documentsDirectory = [paths objectAtIndex:0];
        NSString *path = [documentsDirectory stringByAppendingPathComponent:@"data.plist"];

    NSFileManager *filemgr;
    filemgr = [NSFileManager defaultManager];

    if ([filemgr fileExistsAtPath: path]) {
        NSLog(@"%@", path);

    NSMutableDictionary *plist = [[NSDictionary dictionaryWithContentsOfFile:path] mutableCopy];
    NSMutableArray *newArray = [[[NSMutableArray alloc] init] autorelease];
    newArray = [NSArray arrayWithObjects:@"Red", @"Green", @"Blue" nil]; // <--- WORKS!
    newArray = [NSArray arrayWithObjects:items, nil]; // <-- ? 
    [plist setObject:newArray forKey:@"Hi"];
    [plist writeToFile:path atomically:YES];
    [plist release];

    } else {
        NSLog(@"File not found");
    }

    [filemgr release]; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T09:32:12.397

也许这段代码可以帮助你。

```
NSMutableArray *newArray = [[[NSMutableArray alloc] init] autorelease];
NSMutableArray *targetArray = [[[NSMutableArray alloc] init] autorelease];

newArray = [NSArray arrayWithObjects:@"Red", @"Green", @"Blue" nil];
for(int i=0;i<newArray.count;i++)
{
 [targetArray addObject:[newArray objectAtIndex:i]];

}
[plist setObject:targetArray forKey:@"Hi"];
[plist writeToFile:path atomically:YES]; 
```

或其他方法

```
NSMutableArray *targetArray = [[[NSMutableArray alloc] init] autorelease];

for (id obj in items)
{
 [targetArray addObject:items];
 }
[plist setObject:targetArray forKey:@"Hi"];
[plist writeToFile:path atomically:YES]; 
```

希望这可以帮助 ！！！

# url - ASP 重写 url 路径

> ID：15678068
> 
> 赞同：0
> 
> 时间：2013-03-28T09:18:19.067
> 
> 标签：url, rewrite

我在通过以下方式转发 url 时收到错误：

```
 if (!IsPostBack)
    {
        string req = Request.QueryString["prodID"];
        if (req != null)
        {
            int prodID = int.Parse(Request.QueryString["prodID"]);
            koszyk.Dodaj(prodID);
            //del prodID from url:
            string url = Request.Url.AbsolutePath;
            System.Web.HttpContext.Current.RewritePath(url, "", "");
        }
    } 
```

错误信息：Virtual Path 执行映射到另一个应用程序，这是被禁止的。

完整日志：System.Web.VirtualPath.FailIfNotWithinAppRoot() +3116542 System.Web.HttpContext.RewritePath(VirtualPath filePath, VirtualPath pathInfo, String queryString, Boolean setClientFilePath) +63 System.Web.HttpContext.RewritePath(String filePath, String pathInfo, String queryString) +48 Zakupy.Page_Load(Object sender, EventArgs e) in c:\Documents and Settings\Informatyk\Pulpit\NAI\Moduł11\Problem1, 2, 3\Zakupy.aspx.cs:30 System.Web.Util。 CalliHelper.EventArgFunctionCaller(IntPtr fp, Object o, Object t, EventArgs e) +14 System.Web.Util.CalliEventHandlerDelegateProxy.Callback(Object sender, EventArgs e) +35 System.Web.UI.Control.OnLoad(EventArgs e) + 91 System.Web.UI.Control.LoadRecursive() +74 System.Web.UI.Page.ProcessRequestMain（布尔includeStagesBeforeAsyncPoint，布尔includeStagesAfterAsyncPoint）+2207

当我想在购物篮中添加一些东西时会发生这种情况

有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-08T13:28:02.787

如果 url（RewritePath 的第一个参数）为空，也会发生同样的错误。

# css - GMail，MailChimp 在表格中的图像之间添加间距

> ID：15678070
> 
> 赞同：4
> 
> 时间：2013-03-28T09:18:22.847
> 
> 标签：css, gmail, mailchimp

我在处理 GoogleMail 网络客户端中收到的电子邮件的电子邮件格式时遇到问题。

表格中的图像在我的内容中造成间隙后添加空格，与此问题完全相同 - [Gmail 显示图像之间的间隙](https://stackoverflow.com/questions/4890876/gmail-displaying-gaps-between-images)。

添加内联样式 'display: block;' 修复了 MailChimp 预览中的问题。

然而，在我在 MailChimp 中预览它们并在我的收件箱中接收它们之间的某个时间点，内联图像样式被删除，重新添加内联 CSS 再次手动修复它，所以这绝对是问题所在。

MailChimp 模板中的样式

```
<img src="" id="headerImage campaign-icon" mc:label="header_image" mc:edit="header_image" mc:allowdesigner="" mc:allowtext="" style=" width: 700px; display: block;"> 
```

由 GoogleMail 阅读时的样式

```
<img src="IMAGE_PATH" alt="" border="0" width="700" height="665"> 
```

发生这种情况有原因吗？它是在 MailChimps 还是 GoogleMails 方面？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-03T13:26:32.487

看起来 Gmail 正在剥离样式属性，因为它不喜欢某些东西。

有几件事要尝试：

1）删除样式声明开头的多余空格：

```
<img src="" id="headerImage campaign-icon" mc:label="header_image" 
     mc:edit="header_image" mc:allowdesigner="" mc:allowtext="" 
     style="width:700px; display:block;"> 
```

2）指定`!important`：（参考： http: [//www.campaignmonitor.com/blog/post/3652/gmail-strips-out-inline-css](http://www.campaignmonitor.com/blog/post/3652/gmail-strips-out-inline-css)）

```
<img src="" id="headerImage campaign-icon" mc:label="header_image" 
     mc:edit="header_image" mc:allowdesigner="" mc:allowtext="" 
     style="width:700px; display:block !important;"> 
```

3）尝试添加`line-height`到包含`td`元素：（参考：[http](http://www.webdevdoor.com/html-css/html-email-development-tips/) ://www.webdevdoor.com/html-css/html-email-development-tips/ ）

```
<td style="line-height:0px;">
   <img src="" id="headerImage campaign-icon" mc:label="header_image"
         mc:edit="header_image" mc:allowdesigner="" mc:allowtext="" 
         style="width:700px; display:block;"></td> 
```

**再试一个**

4）将`width="700"`属性（可能也加入）添加`height`到`img`标签并仅`display:block;`在`style`属性中指定：

```
<img src="" id="headerImage campaign-icon" mc:label="header_image" 
     mc:edit="header_image" mc:allowdesigner="" mc:allowtext="" 
     width="700" height="665" style="display:block;"> 
```

**这是另一个**

5) HTML5 doctype 会导致渲染问题。尝试改用这个：

```
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" 
    "http://www.w3.org/TR/html4/loose.dtd"> 
```

**最后一个...**

6）刚刚注意到你设置了`mc:allowdesigner=""`and `mc:allowtext=""`，如果你`=""`从这两个中删除会发生什么？

```
<img src="" id="headerImage campaign-icon" mc:label="header_image" 
     mc:edit="header_image" mc:allowdesigner mc:allowtext 
     style="width:700px; display:block;"> 
```

希望其中之一对您有用。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2014-12-05T13:15:33.457

对我来说这是有帮助的（在 <td> 中添加 <p style="margin: 0;font-size: 0;line-height: 0;"> ）：

```
<td><p style="margin: 0;font-size: 0;line-height: 0;"><img src="{IMG_PATH}/w_bottom.jpg" 
alt="" height="8" width="653"/></p></td> 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-04T13:29:44.713

Gmail绝对*不会*总是删除`style="display: block"`图片。正如@Fletch 所说，最简单的事情就是这样做：

```
<img src="" id="headerImage width="700" style="display: block;"> 
```

...而不是设置`width`使用内联样式。Outlook 07/10 在某些情况下不会遵守`style`无论如何设置的宽度，因此以这种方式设置它是最安全的。或者完全省略宽度（响应式电子邮件设计所必需的）。

您需要将完整的代码放在某个地方，因为它必须是 HTML 中的其他内容导致问题，因为上面的代码可以完美运行。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2016-01-11T22:22:43.917

我为此苦苦挣扎了很长时间，将其添加到该部分。

```
table{
        border:0px;
        border-spacing:0px;
        border-collapse:collapse;
    }
td{
        line-height:0px;
    }
tr{
        display:block;
} 
```

我希望这可以解决您的问题，因为这对我来说是一个非常令人沮丧的问题。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-05-05T16:07:34.867

Gmail 会自动将段落标签添加到表格数据标签中。添加带有样式的段落标签对我有用。

```
<td><p style="margin: 0;font-size: 0;line-height: 0;"><img /></p><td> 
```

# javascript - Javascript 每 5 秒刷新一次网页

> ID：15678086
> 
> 赞同：1
> 
> 时间：2013-03-28T09:19:27.790
> 
> 标签：javascript

我参考了JS解锁右键脚本：

```
javascript:(function() { if(window.addEventListener) window.addEventListener(a, function (e) { for(var n=e.originalTarget; n; n=n.parentNode) n[ona]=null; }, true); window[ona]=null; document[ona]=null; if(document.body) document.body[ona]=null; } R("contextmenu"); R("click"); R("mousedown"); R("mouseup"); R("selectstart");})() 
```

当您将链接放入url并输入时，您可以使用right。

* * *

所以我想制作一个js链接放入url并输入，网站每5s刷新一次。

```
javascript:(function() {
function refresh() {
             window.location.reload(true);}
setTimeout(refresh, 5000);
})() 
```

但我不能这样做，请帮助。因为我的英语太差了，如果你不明白，问我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-28T09:21:03.403

```
<meta http-equiv="refresh" content="5; URL=http://www.yourdomain.com/yoursite.html"> 
```

如果它必须在脚本中，请使用 setTimeout，例如：

```
setTimeout(function(){
   window.location.reload(1);
}, 5000); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T09:30:17.167

```
<script type="text/JavaScript">
<!--
function timedRefresh(timeoutPeriod) {
    setTimeout("location.reload(true);",timeoutPeriod);
}
//   -->
</script> 
```

# javascript - 如何动态地为字幕创建 webvtt 文件

> ID：15678092
> 
> 赞同：2
> 
> 时间：2013-03-28T09:19:46.130
> 
> 标签：javascript, jquery-ui, jquery, jwplayer

> 我正在尝试在用户暂停的地方动态创建 web vtt 文件，并且播放器应该能够获得当前的播放时间，而不是用户可以编写字幕....

我也想给用户一个屏幕..这样他就可以在用户写完字幕后看到他在做什么

我想将文件保存为 web vtt 格式的字幕

可能吗 ？？比怎么样？？请指导我？？？

我从这里得到了一些帮助，因为它看起来确实像我的想法
[html 5 网页视频字幕](http://scottbw.wordpress.com/2011/06/28/creating-subtitles-and-audio-descriptions-with-html5-video/)
[HTML5 VIDEO CAPTION MAKER](http://ie.microsoft.com/testdrive/Graphics/CaptionMaker/)

我在 JWPLAYER 中尝试做的另一件事

# uicollectionview - ActivityIndi cator 不会在 collectionviewcell 内停止

> ID：15678099
> 
> 赞同：3
> 
> 时间：2013-03-28T09:20:18.513
> 
> 标签：uicollectionview, uiactivityindicatorview

我在 UITableViewCell 中使用 UICollectionView 在 tableviewcell 中显示图像。在后台下载照片时，活动指示器应为动画且不显示图像。下载照片后，活动指示器应停止动画并显示照片。除了第一次显示第一个单元格外，一切正常。显示图像并且活动指示器保持动画。如果我滚动 collectionView，它适用于其他图像，当我滚动回第一张图像时，它也适用。仅在第一次显示第一张图片时

collectionview 内的单元格称为 PhotoCollectionView ，标题如下所示：

```
@interface PhotoCollectionCell : UICollectionViewCell

@property (strong, nonatomic) IBOutlet UIImageView *imageView;
@property (strong, nonatomic) IBOutlet UIActivityIndicatorView *activityIndicator;

@end 
```

cellForItemAtIndexPath 的代码

```
-(UICollectionViewCell *)collectionView:(UICollectionView *)collectionView cellForItemAtIndexPath:(NSIndexPath *)indexPath
{
    static NSString *CellIdentifier = @"PhotoCollectionCell";
    PhotoCollectionCell *cell = (PhotoCollectionCell *)[collectionView dequeueReusableCellWithReuseIdentifier:CellIdentifier forIndexPath:indexPath];
    cell.imageView.image = nil;

    UIImage *image = [thumbnails objectForKey:indexPath];
    if(!image) {
        [cell.activityIndicator startAnimating];
        if (self.pictureCollectionView.dragging == NO && self.pictureCollectionView.decelerating == NO)
        {
            [self startDownload:images[indexPath.row] forIndexPath:indexPath];
        }
    } else {
        [cell.activityIndicator stopAnimating];
        cell.imageView.image = image;
    }

    return cell;
} 
```

我尝试了网上给出的几种解决方案，一切都在主线程上执行，所以我不知道该怎么办了。

帮助将不胜感激。提前致谢。亲切的问候...

# asp.net - 我如何访问使用 asp.net 中的数据库填充的下拉列表的值

> ID：15678100
> 
> 赞同：1
> 
> 时间：2013-03-28T09:20:19.513
> 
> 标签：asp.net, sql-server-2008-r2

我在 asp.net 中遇到问题，我正在使用 2 个下拉列表，

一个用于州，另一个用于城市。

而且，我有 2 个表 "state"(state_id(pk),state_name) 和 "city"(city_id(pk),city_name,state_id(fk))

我可以使用状态表填充 ddlState（这是我的状态下拉列表）

代码是：

```
 dt = objGetCity.getState();

 ddlState.DataSource = dt;

 ddlState.DataTextField = dt.Columns["state_name"].ToString();
 ddlState.DataValueField = dt.Columns["state_id"].ToString();
 ddlState.DataBind(); 
```

我也可以填充城市的下拉列表，即 ddlCity（状态下拉列表的更改事件）

代码是：

```
 protected void ddlState_SelectedIndexChanged(object sender, EventArgs e)
    {
        int state_id = Convert.ToInt32(ddlState.SelectedValue.ToString());

        dt = objGetCity.getcity(state_id);

        ddlCity.Items.Add("Select City");

        ddlCity.Visible = true;

        ddlCity.DataSource = dt;

        ddlCity.DataValueField = dt.Columns["city_id"].ToString();
        ddlCity.DataTextField = dt.Columns["city_name"].ToString();
        ddlCity.DataBind();
    } 
```

现在我在调试时一直注意到“state_id = 1”的问题，这就是为什么它没有向我显示其他州的任​​何其他城市。有什么解决方案？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-28T09:28:46.900

确保您在页面加载中填写 ddlState 条件为 not postback ，即确保您已在 Page_Load 事件中添加了此项

```
if(!Page.IsPostBack)
{

dt = objGetCity.getState();

 ddlState.DataSource = dt;

 ddlState.DataTextField = dt.Columns["state_name"].ToString();
 ddlState.DataValueField = dt.Columns["state_id"].ToString();
 ddlState.DataBind();
} 
```

# c# - 表单身份验证 cookie 替换

> ID：15678105
> 
> 赞同：0
> 
> 时间：2013-03-28T09:20:44.333
> 
> 标签：c#, asp.net, cookies

在表单身份验证票被更新并且旧票已过期后，我遇到了用户被踢出的问题。我登录时得到的第一张票是：

门票：A094D6F0401A5B6D97688198B09F17B03D209............结束：2013 年 3 月 28 日星期四 08:56:33 GMT

一段时间后，票被更新，我得到了这个 cookie：（当票过期时，cookie 过期，所以没有问题）

票务：215373E662852AD0CC540AC27F547787......结束：2013 年 3 月 28 日星期四 08:58:17 GMT

此票证由后台的 javascript 重新加载器为用户更新。现在，如果我更新页面，我将被踢出，为什么？当我更新票时，我使用这个：

```
 var Id = (FormsIdentity)HttpContext.Current.User.Identity;
        var Ticket = Id.Ticket;

        var NewAuthTicket = FormsAuthentication.RenewTicketIfOld(Ticket);

        HttpContext.Current.User = new System.Security.Principal.GenericPrincipal(new FormsIdentity(NewAuthTicket), new[] {""});

        if (NewAuthTicket != null && NewAuthTicket.Expiration > Ticket.Expiration)
        {
            // Create the (encrypted) cookie.
            var ObjCookie = new HttpCookie(FormsAuthentication.FormsCookieName,
                                           FormsAuthentication.Encrypt(NewAuthTicket))
                                {
                                    HttpOnly = true,
                                    Expires = NewAuthTicket.Expiration,
                                    Secure = FormsAuthentication.RequireSSL
                                };
            // Add the cookie to the list for outbound response. 
            HttpContext.Current.Response.Cookies.Add(ObjCookie);
            Ticket = NewAuthTicket;
         } 
```

有什么解决办法吗？

***更新：***

当我第一次设置 cookie 时，我使用这个：

var ExpiryDate = !rememberMe ? DateTime.Now.AddMinutes(cookieTimeoutHour) : DateTime.Now.AddYears(1);

```
 //create a new forms auth ticket
                var Ticket = new FormsAuthenticationTicket(2, ui.UserNr.ToString(CultureInfo.InvariantCulture), DateTime.Now, ExpiryDate, true, String.Empty);
                //encrypt the ticket
                var EncryptedTicket = FormsAuthentication.Encrypt(Ticket);
                //create a new authentication cookie - and set its expiration date
                var AuthenticationCookie = new HttpCookie(FormsAuthentication.FormsCookieName, EncryptedTicket)
                                               {
                                                   Expires = Ticket.Expiration,
                                                   HttpOnly = true,
                                                   Secure = FormsAuthentication.RequireSSL
                                               };

                Current.Response.Cookies.Add(AuthenticationCookie); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T09:26:48.400

当客户端页面上的简单保持活动将使表单身份验证cookie保持活动状态时，为什么要付出所有努力呢？

jQuery 示例：

```
$(function() {
    window.setInterval(keepalive, 600000); // run keepalive every 10 mins
});

function keepalive()
{
   $.get({url:'/myemptykeepalivepage.aspx',cache:false});
} 
```

当客户端关闭浏览器时，间隔功能被取消，瞧，表单身份验证票将自然过期。

# asp.net - 图表上的不均匀（自定义）间隔

> ID：15678107
> 
> 赞同：2
> 
> 时间：2013-03-28T09:20:58.310
> 
> 标签：asp.net, charts, asp.net-charts

这是我目前拥有的：

![问题陈述](../Images/228b263308578e5c79cce7fed017edbe.png)

我需要的是具有以下不均匀间隔（垂直线和 x 轴标签）：

```
1) 1 (i.e. must not cross at 0)
2) 1.5
3) 2.5
4) 3.5
5) 4 
```

有没有办法做到这一点？即使它是一个额外的系列或其他东西的组合 - 虽然我希望它与 IntervalOffset 有关，但我无法让它做我想做的事。

目前，我只有：

```
chartarea.AxisX.Maximum = 4;
chartarea.AxisX.Minimum = 1;
chartarea.AxisX.Interval = 1; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-29T21:57:01.723

这是需要的：

```
// set the max & min, with an interval of 1 which is offset by 0.5
// this gives the correct start (1), and three .5 intervals
// however, it doesn't give the closing vertical line at 4
chartarea.AxisX.Maximum = 4;
chartarea.AxisX.Minimum = 1;
chartarea.AxisX.Interval = 1;
chartarea.AxisX.IntervalOffset = 0.5;

// enable a secondary y axis for the line at 4
chartarea.AxisY2.Enabled = AxisEnabled.True;
// switch of all tickmarks & gridlines
chartarea.AxisY2.MajorTickMark.Enabled = false;
chartarea.AxisY2.MinorTickMark.Enabled = false;
chartarea.AxisY2.MajorGrid.Enabled = false;
chartarea.AxisY2.MinorGrid.Enabled = false;
chartarea.AxisY2.LabelStyle.Enabled = false;
// set the correct colour  & line style
chartarea.AxisY2.LineColor = Color.FromArgb(160, 160, 160);
chartarea.AxisY2.LineDashStyle = ChartDashStyle.Dash;

// add custom labels for the 5 points/lines
chartarea.AxisX.CustomLabels.Add(0.9, 1.1, "1");
chartarea.AxisX.CustomLabels.Add(1.4, 1.6, "1.5");
chartarea.AxisX.CustomLabels.Add(2.4, 2.6, "2.5");
chartarea.AxisX.CustomLabels.Add(3.4, 3.6, "3.5");
chartarea.AxisX.CustomLabels.Add(3.9, 4.1, "4"); 
```

瞧：（虽然我的数据已经改变）

![在此处输入图像描述](../Images/283251b268d97156141459dda517ff23.png)

# java - （JDK 1.6 和 ojdbc6.jar）与（JDK 1.5 和 ojdbc14.jar）

> ID：15678115
> 
> 赞同：0
> 
> 时间：2013-03-28T09:21:43.313
> 
> 标签：java, sql, jdbc, ojdbc

我面临着一种奇怪的情况。我有下表，有两列。

```
Customer:

Customer_ID nvarchar2
Subscription_Date Date 
```

我正在尝试使用元数据获取 Subscription_Date 的列类型，如下所示：

```
ResultSet rs = selectStmt.executeQuery("SELECT Customer_ID, Subscription_Date FROM Cusomter");
java.sql.ResultSetMetaData rsMetaData = rs.getMetaData();
int type1 = rsMetaData.getColumnType(2); 
```

如果我使用 JDK 1.6 和 ojdbc6.jar，`type1`则返回为

```
93 (java.sql.Types.TIMESTAMP) 
```

如果我使用 JDK 1.5 和 ojdbc14.jar，`type1`则返回为

```
91 (java.sql.Types.DATE) 
```

但在这两种情况下，Subscription_Date 的实际列类型都是`DATE`. 这是一些向后兼容性问题吗？还是我的编码方式不对？各位大佬能看一下，给点建议吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-28T10:51:53.600

[oracle 数据类型`DATE`](http://docs.oracle.com/cd/B28359_01/server.111/b28318/datatype.htm#i1847)与SQL 标准（和 JDBC）概念相同，`TIMESTAMP`因为它存储日期 + 时间。SQL 标准概念`DATE`仅存储日期（如年、月、月中的日）。中的行为`ojdbc6.jar`是正确的，`ojdbc14.jar`也是错误的。

并非所有关系数据库服务器都对事物使用完全相同的名称。SQL 标准直到关系数据库出现之后才出现，并且一些（或大多数）继续使用其遗留的数据类型命名，而不是转向标准的名称。

# sql - 如何获取列中出现频率最高的值？

> ID：15678116
> 
> 赞同：0
> 
> 时间：2013-03-28T09:21:52.017
> 
> 标签：sql, oracle10g

我有一个包含“价格”列的表格，需要获得最常见的值。最简单的方法是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-28T09:28:02.677

一种选择是

```
SELECT price
  FROM (SELECT price, rank() over (order by cnt desc) rnk
          FROM (SELECT price, count(*) cnt
                  FROM your_table
                 GROUP BY price))
 WHERE rnk = 1 
```

如果有两个（或更多）价格出现的频率相同，则此查询将返回两者。如果您想保证单排，您需要告诉我们您希望如何处理平局。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T09:25:43.720

我的算法如下：

1.  第一步：将不同的选择作为一个集合；
2.  第二步：foreach item in distinct collection 将在原始collection中找到的items计数为diffcollection；
3.  第三步：从diffcollection中选择max。

# c# - 使用 Protobuf 格式的 ServiceStack

> ID：15678117
> 
> 赞同：2
> 
> 时间：2013-03-28T09:21:54.733
> 
> 标签：c#, web-services, servicestack, protobuf-net, webservice-client

我正在尝试在 ServiceStack Webservices 中使用 protobuf 格式（按照[Steven Hollidge 的 ServiceStack: REST with ProtoBuf 中的示例](http://stevenhollidge.blogspot.in/2012/04/servicestack-rest-with-protobuf.html)。我添加了一个 Winform 应用程序来使用 Web 服务。代码如下。

**HelloService.cs**

```
using System.Runtime.Serialization;
using ProtoBuf;
using ServiceStack.Demo.Rest;
using ServiceStack.ServiceHost;
using ServiceStack.ServiceInterface;

namespace ServiceStack.Demo.WebService
{
[DataContract] 
public class Hello
{
    [DataMember(Order = 1)]
    public string Name { get; set; }
}
 [DataContract] 
public class HelloResponse
{
    [DataMember(Order = 1)]
    public string Result { get; set; }
}

 public class HelloService : RestServiceBase<Hello>
{
    public  override object OnGet(Hello request)
    {
        return new HelloResponse { Result = "Hello, " + request.Name };
    }
}
} 
```

**全球.asax.cs**

```
using System;
using System.Web;
using Funq;
using ServiceStack.Demo.Rest;
using ServiceStack.Demo.WebService;
using ServiceStack.WebHost.Endpoints;

namespace ServiceStack.Demo
{
public class AppHost : AppHostBase
{
    public AppHost() : base("ServiceStack makes services easy!", typeof (AppHost).Assembly)
    {
        ServiceStack.Plugins.ProtoBuf.AppStart.Start();
    }

    public override void Configure(Container container)
    {
        Routes
          .Add<Hello>("/hello")
          .Add<Hello>("/hello/{Name}");

    }
 }

public class Global : HttpApplication
{
    protected void Application_Start(object sender, EventArgs e)
    {
        new AppHost().Init();
    }
}
} 
```

**Form1.cs**

```
using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Linq;
using System.Text;
using System.Windows.Forms;
using ServiceStack.ServiceClient;
using ProtoBuf;
using ServiceStack.Plugins.ProtoBuf;
using System.Runtime.Serialization;
using ServiceStack.ServiceClient.Web;

namespace client
{
public partial class Form1 : Form
{
    private ServiceClientBase _client;
    private const string Url = "http://localhost/servicestack.demo/servicestack/hello?format=x-protobuf";
    public Form1()
    {
        InitializeComponent();
    }

    private void Button1Click(object sender, EventArgs e)
    {

        this._client =
            new ProtoBufServiceClient(Url);

        var response = _client.Send<HelloResponse>(new Hello {Name = "ProtoBuf"});
        label1.Text = response.Result;
    }

    public class Hello
    {
        public string Name { get; set; }
    }

    public class HelloResponse
    {
        public string Result { get; set; }
    }
}
} 
```

我正进入（状态`System.InvalidOperationException: Type is not expected, and no contract can be inferred: client.Form1+Hello`

我究竟做错了什么？请建议......

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-28T16:23:03.223

看起来你有你的`Hello`班级并且你的`HelloResponse`班级被宣布了两次。一次在**HelloService.cs**中，再次作为内部类在**Form.cs**中。**从Form.cs**文件中删除重复项应该允许您`ProtoBufServiceClient`引用正确的类/类型。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-28T16:56:08.070

我已将 Form1.cs 更新为以下内容，现在它工作正常（请参阅[http://upjnv.blogspot.in/](http://upjnv.blogspot.in/)

```
 using System;  
 using System.Windows.Forms;  
 using ServiceStack.Plugins.ProtoBuf;  
 using System.Runtime.Serialization;  
 using ServiceStack.ServiceClient.Web;  

namespace client  

{  

 public partial class Form1 : Form  

 {  

private ServiceClientBase _client;  

private const string Url = "http://localhost/servicestack.demo/servicestack/";  

public Form1()  

{  

  InitializeComponent();  

}  

private void Button1Click(object sender, EventArgs e)  

{  

  this._client =  

    new ProtoBufServiceClient(Url);  

  var response = _client.Send<HelloResponse>("GET","/hello",new Hello {Name = "ProtoBuf"});  

  label1.Text = response.Result;  

 }  

 }  

[DataContract]  

public class Hello  

{  

[DataMember(Order = 1)]  

public string Name { get; set; }  

}  

[DataContract]  

public class HelloResponse  

 {  

[DataMember(Order = 1)]  

public string Result { get; set; }  

 } 

 } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-28T12:43:29.523

将您的 POCO 类放在同一个命名空间中，应该这样做。

# python - ubuntu django 运行管理要快得多（我通过将 -18 优先级设置为 python 进程 pid 来尝试 renice）

> ID：15678119
> 
> 赞同：0
> 
> 时间：2013-03-28T09:22:01.223
> 
> 标签：python, django, ubuntu

我正在使用 ubuntu。我有一些管理命令在运行时会进行大量数据库操作，因此需要将近 15 分钟。

我的系统监视器显示我的系统有 4 个 cpu 和 6GB RAM。但是，这个过程并没有利用所有 cpu 的 . 我认为它只使用了一个 CPU，而且内存太少了。我想，如果我能够让它使用所有的 cpu 和大部分内存，那么这个过程将在很短的时间内完成。

我尝试了 renice ，将优先级设置为 -18 （意味着非常高），但速度仍然较低。

细节：

它是一个循环数接近 10,000 的 python 脚本，并且有近十个这样的循环。在每个循环中，它都会保存到 postgres 数据库。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-12-02T08:41:31.920

Just in case, did you run the command renice -20 -p {pid} instead of renice --20 -p {pid}? In the first case it will be given the lowest priority.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T09:47:48.317

如果您希望让这个应用程序在多个 cpu 上运行，那么您可以根据您的设置尝试多种方法。

想到的最明显的事情是让应用程序利用线程和多进程。这将允许应用程序一次“做更多”。显然，您在这里可能遇到的问题是并发数据库访问，因此您可能需要使用事务（此时您可能首先失去使用多进程的优势）。

其次，确保您没有打开和关闭大量数据库连接，确保您的应用程序可以根据需要保持连接打开。

第三，确保数据库被正确索引。如果您正在对大字符串进行搜索，那么事情会很慢。

第四，尽你所能在 SQL 中将很少的操作留给 python，如果你允许的话，sql 进行数据操作的速度非常快。一旦您开始将数据从数据库中取出并放入代码中，那么事情就会大大减慢。

第五，利用可以在数据库内部缓存和优化的存储过程。这些可以比应用程序构建的查询快得多，这些查询不能那么容易地进行优化。

第六，不要在程序的每次迭代中保存。尝试生成一个批处理样式的作业，您可以在其中更改许多记录，然后将所有这些记录保存在一个批处理作业中。这将减少每次迭代的 IO 量并大大加快进程。

Django 确实支持使用[批量更新](https://docs.djangoproject.com/en/dev/topics/db/queries/#updating-multiple-objects-at-once)方法，不久前在 stackoverflow 上也有一个关于一次保存多个 django 对象的问题。

*   [用一个大的 INSERT 语句保存许多 Django 对象](https://stackoverflow.com/questions/5328301/saving-many-django-objects-with-one-big-insert-statement)
*   [Django：一次保存多个对象信号](https://stackoverflow.com/questions/1937933/django-save-multiple-object-signal-once)

# iphone - MKMapView 注释拖放引脚，单击按钮转到用户位置

> ID：15678122
> 
> 赞同：1
> 
> 时间：2013-03-28T09:22:05.737
> 
> 标签：iphone, ios, objective-c, mkmapview

我正在创建一个 MKMapView 应用程序，用户可以在其中将注释引脚拖放到任何特定位置。直到现在它的工作。但是我想要的是，当用户单击刷新按钮时，注释针应该转到当前用户的位置。所以在按钮上点击我必须做的，这样`the pin should move from dragged location to user's location.`

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T09:37:10.063

**我只是给你基本的逻辑，可能对你有帮助。**

当你的应用程序。那时第一次运行将您当前的**lat 和 lon 值添加到特定的 variabel**。（*然后在继续进行拖放注释的过程之后。*）

当你点击刷新按钮然后先写

```
[mapView removeAnnotations:mapView.annotations]; 
```

删除您对 mapView 的注释。

然后在从 Your **Variable**`latitude`中获取值之后。并编写代码以添加基于 lat 和 long 变量的注释。`longitude`

 *** * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T10:29:07.293

```
- (void)moveToCurrentLocation:(id)sender 
{    
 [mymapview setCenterCoordinate:[mymapview.userLocation coordinate] animated:YES];
} 
```

正如 iPatel 在之前的评论中所说，IT 会将地图视图移动到您当前的位置（用户的位置）并删除当前的注释。**

# jetty - 如何使用 maven-jetty-plugin 配置码头版本？

> ID：15678123
> 
> 赞同：0
> 
> 时间：2013-03-28T09:22:11.990
> 
> 标签：jetty, maven-jetty-plugin

我想使用 Jetty-6.1.25 运行 webapp，但是如何使用 maven-jetty-plugin 配置 jetty 的版本号？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-28T13:09:22.027

添加一个 <version>6.1.25</version> 元素作为 maven-jetty-plugin 的同级元素...我必须注意我们已经发布了 jetty 9，但更新了 org.eclipse 的坐标.jetty:jetty-maven-插件

# c# - 如何等待两个 BackgrandWorker 的 RunWorkerCompleted 事件结束？

> ID：15678124
> 
> 赞同：0
> 
> 时间：2013-03-28T09:22:12.520
> 
> 标签：c#

那是代码：

```
 private void button1_Click(object sender, EventArgs e)
   {
        ParaClass pcs = new ParaClass();
        pcs.strPath = textBox1.Text;
        pcs.sendedGrid = ugSrc;
        this.backgroundWorker1.RunWorkerAsync(pcs);

        ParaClass pcsB = new ParaClass();
        pcsB.strPath = textBox2.Text;
        pcsB.sendedGrid = ultraGrid2;

        this.backgroundWorker2.RunWorkerAsync(pcsB);

        doSomething();
    } 
```

在 backgrandworker1 和 backgrandworker2 的完成事件中，我编写如下代码：

```
 private void backgroundWorker1_RunWorkerCompleted(object sender,RunWorkerCompletedEventArgs e)
    {
           doSomethingelsebk1();
    }

    private void backgroundWorker2_RunWorkerCompleted(object sender,RunWorkerCompletedEventArgs e)
    {
           doSomethingelsebk2();
    } 
```

现在的问题是：button1 的点击事件中的函数 doSomething() 必须等待两个 backgrandworker 的完成事件完成。如果我将 doSomething() 更改为

```
 private void backgroundWorker2_RunWorkerCompleted(object sender,RunWorkerCompletedEventArgs e)
    {
           doSomethingelsebk2();
           doSomething();  
    } 
```

然后，因为有两个线程，我不知道哪个线程会先完成，所以有什么解决办法

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T09:29:57.287

创建 2 个标志，代表 2 的完整状态`BackgroundWorker`。

在`RunWorkerCompleted`事件中打开每个标志，然后调用`doSomething()`方法。

在`doSomething`方法中，检查两个标志是否都打开，然后继续执行，否则返回。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T13:54:29.630

[创建 2 个 AutoResetEvents，在每个后台工作人员完成时设置它们，并在 main 方法中使用WaitHandle](http://msdn.microsoft.com/en-us/library/z6w25xa6.aspx)等待它们。

```
WaitHandle[] handles = new WaitHandle[] { new AutoResetEvent(false), new AutoResetEvent(false)};

private void button1_Click(object sender, EventArgs e)
{
    ParaClass pcs = new ParaClass();
    pcs.strPath = textBox1.Text;
    pcs.sendedGrid = ugSrc;
    this.backgroundWorker1.RunWorkerAsync(pcs);

    ParaClass pcsB = new ParaClass();
    pcsB.strPath = textBox2.Text;
    pcsB.sendedGrid = ultraGrid2;

    this.backgroundWorker2.RunWorkerAsync(pcsB);

    WaitHandle.WaitAll(this.handles);
    doSomething();
}

private void backgroundWorker1_RunWorkerCompleted(object sender,RunWorkerCompletedEventArgs e)
{
       doSomethingelsebk1();
       ((AutoResetEvent)this.handles[0]).Set();
}

private void backgroundWorker2_RunWorkerCompleted(object sender,RunWorkerCompletedEventArgs e)
{
       doSomethingelsebk2();
       ((AutoResetEvent)this.handles[1]).Set();
} 
```

# javascript - 如何在快照视图中向 Windows 8 应用程序添加垂直滚动

> ID：15678129
> 
> 赞同：0
> 
> 时间：2013-03-28T09:22:17.283
> 
> 标签：javascript, html, css, microsoft-metro, vertical-scrolling

我正在使用 Html、CSS 和 JavaScript 开发 Windows 8 应用程序。在快照视图中，某些屏幕将无法看到全部内容，这就是我想要垂直滚动的原因。

我该如何解决？我想把它放在 html 或 CSS 中。

HTML：

```
<section aria-label="Main content" role="main">
        <div class="divContainer" style="width: auto; height: auto; overflow:auto; display: -ms-grid; 
            -ms-grid-columns: 450px 50px 450px 46px 250px; 
            -ms-grid-rows: auto">
            <div id="pageCalc">
                <h2>User information</h2>
                ... 
                Some text here
                ...
            </div>
            <div id="pageText">
                <h2>Contact information</h2>
                ...
                Some text here
                ...
                <img id="imageDiv" src="/images/aboutlogo.png" border="0" alt="">

            </div>
            <div id="pageAdd">
                ...
                An add here
                ...
            </div>
        </div>
    </section> 
```

#pageText、#pageAdd 和 #pageCalc 的宽度、高度和类似的东西在 css 中定义，然后在快照视图中，它使用这段代码：

CSS：

```
@media screen and (-ms-view-state: snapped) {
.about section[role=main] {
    margin-left: 20px;
    margin-right: 20px;
}

.divContainer {
    height:1080px;
    width: 230px;
    display:-ms-grid;
    -ms-grid-column: 230px;
    -ms-grid-row: auto 20px auto 20px auto;
    overflow: auto;

}

#pageCalc, #pageText, #pageAdd {
    width: 230px;
}

#pageCalc {
    -ms-grid-column: 1;
    -ms-grid-row: 1;
}

#pageText {
    -ms-grid-column: 1;
    -ms-grid-row: 3;
}

#pageAdd {
    -ms-grid-column: 1;
    -ms-grid-row: 5;
} 
```

}

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T10:17:11.360

html、css 和 JavaScript 格式的 Win8 应用程序在 Microsoft WWA 主机进程上运行。那是基于 Internet Explorer 的渲染平台。因此，您可以像在 IE 上一样创建应用程序。只需将您捕捉的内容包装成`div`具有固定高度和 with的内容`overflow: auto`，您将获得一个垂直滚动。

# php - google_conversion_id = null

> ID：15678137
> 
> 赞同：0
> 
> 时间：2013-03-28T09:23:02.257
> 
> 标签：php, javascript, google-ads-api

如果用户在成功注册后被重定向到他的个人资料，我正在使用一个简单的 Php if 条件来使 Adwords google 代码段可见

```
<?php if( $_GET['getVariable']=='String' ) { ?>
// google adwords snippet ( copy/pasted
<?php } ?> 
```

此条件部署在 Html 正文中。

如果发送了 GET 变量，则片段在 Html 中正确可视化，但是在使用 firebug 检查时，DOM var google_conversion_id 和 google_conversion_label 都已设置但等于 NULL。

是因为动态生成的 HTML/JavaScript 代码吗？

欢迎任何建议，谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T09:26:03.667

要回答您的问题：

> 是因为动态生成的 HTML/JavaScript 代码吗？

不会。您的服务器端代码会预先生成 HTML/JS，因此在客户端它将正常加载到浏览器中。

问题不是因为您的代码是动态的，而是因为您还没有考虑到其他地方的问题。

# sql - 图形图表的 SQL 查询。不确定在这种情况下如何使用 JOIN

> ID：15678140
> 
> 赞同：1
> 
> 时间：2013-03-28T09:23:09.477
> 
> 标签：sql, sql-server-2008, highcharts

我正在尝试编写 SQL 查询来完成图形图表，但不确定如何正确执行。这是情况。图表类型是条形图，我想在 Y 轴上列出“消息类型”，在 X 轴上列出“消息数”，对于 Y 轴上的每个值，创建一个堆叠条形图，其数量为“消息类型”中每个用户的消息。像这样的东西：[http ://www.highcharts.com/demo/bar-stacked](http://www.highcharts.com/demo/bar-stacked)

我要返回的是：

```
SELECT COUNT(Messages.MessageId), Messages.UserName, MessageTypes.Description 
```

这真的很简单，但我的问题是我希望在 Y 轴上拥有所有可能的“消息类型”，即使根本没有“消息”链接到它们（在这种情况下将 0 作为 COUNT）。

我试过这个，但它不起作用：

```
FROM MessageTypes 
LEFT OUTER JOIN Messages ON MessageTypes.MessageTypeId = Messages.MessageTypeId 
```

有任何想法吗？

提前感谢您提供的任何帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T09:35:27.473

编辑：你改变了我的问题！;)

按描述和用户名分组，计数记录，并左外连接 b/t 消息和用户：

```
select
    mt.Description MessageTypeDescription
    , m.UserName -- will be null if no messages exist for a given type
    ,  UserMessageTypeCount = case when m.UserName is null then 0 else COUNT(1) end
from
    MessageTypes mt
    left outer join Messages m
     on mt.MessageTypeId = m.MessageTypeId
group by
    mt.Description
    m.UserName 
```

结果将是每个用户每种消息类型的消息数量

# jquery - jQuery UI AutoComplete 和 jQuery Mobile - 让我发疯

> ID：15678141
> 
> 赞同：0
> 
> 时间：2013-03-28T09:23:10.523
> 
> 标签：jquery, jquery-mobile

只是我，但使用 jQuery mobile 我似乎向前迈了一步，后退了两步？

我要做的就是让自动完成选项起作用。我尝试使用 jQuery Mobile.AutoComplete 但无法让它工作，所以我尝试使用 jQuery ui.autocomplete。

使用 Asp.net MVC，我有一个共享页面。

我很想让这个工作，请帮助（不要关心是否使用 jQuery 来工作移动自动完成选项是最好的）....

```
<head>
   ...
    <script src="~/Scripts/JQuery/jquery.1.9.1.min.js"></script>
    <script src="~/Scripts/JQuery/UI/jqueryUI-1.10.2.min.js"></script>

    <script src="~/Scripts/JQuery/Mobile/jquery.mobile-1.3.0.min.js"></script>
    <script src="~/Scripts/DateValidation.js" type="text/javascript"></script>
    <script src="~/Scripts/JQuery/UI-TimePicker/jquery.ui.timepicker.js"></script>
    <script>
    $.ajaxSetup ({
    // Disable caching of AJAX responses
    cache: false
    });
    </script>
</head> 
```

然后我有一个菜单（共享）

```
<div data-theme="b" data-role="header">
     <script type="text/javascript">

            $(function () {
                $("#clientSearch").autocomplete({
                    source: "@Url.Action("ClientSearch","Schedule")",
                 minLength: 3,
                 select: function (event, ui) {

                     $("#clientSearch").val(ui.item.ClientName);
                     $("#clientSearchId").val(ui.item.ClientId);

                     return false;
                 }
             }
        ).data("uiAutocomplete")
            ._renderItem = function (ul, client) {
                return $("<li></li>")
                    .data("item.autocomplete", client)
                    .append("<a>" + client.FullName + "</a>")
                    .appendTo(ul);
            };
         });

     </script>
     <h3>Schedule</h3>
     <a href="index.html" data-icon="plus"  class="ui-btn-right"data-iconpos="notext">Appointment</a>
     <input type="hidden" id="clientSearchId"/>
     <input name="clientSearch" id="clientSearch" placeholder="" value="" type="search">
        <div data-role="navbar" data-iconpos="top">
            <ul>
                <li>
                    <a href="~/Home/Index" data-transition="slide" data-theme="">
                        Home
                    </a>
                </li>
                <li>
                    <a href="/Schedule/MobileSchedule" data-transition="slide" data-theme="">
                        Schedule
                    </a>
                </li>
            </ul>
        </div>
    </div> 
```

所以页面看起来像这样

```
@{
    ViewBag.Title = "Home";
    Layout = "~/Views/Shared/_AppHomeLayout.cshtml"; 
}

<div data-role="page" id="pageHome">
    <style>
        .ui-listview-filter-inset {
            margin-top: 0;
        }
    </style>

    @RenderPage("~/Views/Shared/_MobileMenu.cshtml")
    <div data-role="content">
        <div data-role="content"> ... </div> 
    </div>
</div> 
```

加载页面时出现以下错误：

> 未捕获的错误：NotFoundError：DOM 异常 8 jquery.1.9.1.min.js:11（匿名函数） jquery.1.9.1.min.js:11 b.fn.extend.domManip jquery.1.9.1.min.js :11 b.fn.extend.replaceWith jquery.1.9.1.min.js:11 (匿名函数) jquery.mobile-1.3.0.min.js:2 b.extend.each jquery.1.9.1.min. js:4 b.fn.b.each jquery.1.9.1.min.js:4 (匿名函数) jquery.mobile-1.3.0.min.js:2 b.event.dispatch jquery.1.9.1.min .js:4 v.handle jquery.1.9.1.min.js:4 b.event.trigger jquery.1.9.1.min.js:4（匿名函数） jquery.1.9.1.min.js:11 b .extend.each jquery.1.9.1.min.js:4 b.fn.b.each jquery.1.9.1.min.js:4 b.fn.extend.trigger jquery.1.9.1.min.js: 11 a.Widget._trigger jquery.mobile-1.3.0.min.js:2 a.Widget._createWidget jquery.mobile-1.3.0.min.js:2 a.widget._createWidget jquery.mobile-1.3.0。 min.js:2（匿名函数）jquery.mobile-1.3.0。min.js:2 a.(匿名函数).(匿名函数) jquery.mobile-1.3.0.min.js:2 (匿名函数) jquery.mobile-1.3.0.min.js:2 b.extend。每个 jquery.1.9.1.min.js:4 b.fn.b.each jquery.1.9.1.min.js:4 a.fn.(匿名函数) jquery.mobile-1.3.0.min.js: 2 C jquery.mobile-1.3.0.min.js:2 a.mobile.allowCrossDomainPages.h.isSameDomain.a.ajax.success jquery.mobile-1.3.0.min.js:2 c jquery.1.9.1。 min.js:4 p.fireWith jquery.1.9.1.min.js:4 k jquery.1.9.1.min.js:19 rjs:2 c jquery.1.9.1.min.js:4 p.fireWith jquery.1.9.1.min.js:4 k jquery.1.9.1.min.js:19 rjs:2 c jquery.1.9.1.min.js:4 p.fireWith jquery.1.9.1.min.js:4 k jquery.1.9.1.min.js:19 r

想法？看起来它正在尝试使用 jQuery 移动自动完成功能，如果有人有解决方案\代码示例来修复，它会对我有很大帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T09:27:34.963

将此行括号内的引号从双引号更改为单引号，如下所示：

```
source: "@Url.Action('ClientSearch','Schedule')", 
```

# solr - 如何在 solr 中动态地将分片添加到集合中？

> ID：15678142
> 
> 赞同：2
> 
> 时间：2013-03-28T09:23:12.333
> 
> 标签：solr, sharding, solrj

在创建集合时使用以下查询，我为`collection10`.

**/solr/admin/collections?action=CREATE&name=collection10&numShards=2&replicationFactor=2**

但是我的要求是，在前两个分片中索引了 10000 个文档后，我必须动态添加第三个分片。

一旦我们在现有分片上开始收集和索引，是否可以动态添加分片？如果可能意味着在我们开始收集后如何动态添加分片？

而且，一旦我们开始收集，是否可以动态添加副本。例如我设置了`replicationFactor=2`，然后我需要为已经开始的收集开始新的复制。有可能吗？如果是这样，该怎么做？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2014-02-22T16:29:01.297

该问题的一种解决方案是在创建集合时使用“隐式路由器”。

Solr 确实支持通过“隐式路由器”配置（CREATE COLLECTION API）将新分片（或删除现有分片）添加到您的索引（无论何时）。

可以说 - 您必须将应用程序的所有“审计跟踪”数据索引到 Solr。每天都会添加新数据。您很可能希望按年分片。

您可以在集合的初始设置期间执行以下操作：

```
admin/collections?
action=CREATE&
name=AuditTrailIndex&
router.name=implicit&
shards=2010,2011,2012,2013,2014&
router.field=year 
```

上面的命令： a) 创建 5 个分片 - 当前和过去 4 年各一个 2010,2011,2012,2013,2014 b) 根据“年份”字段的值将数据路由到正确的分片（指定为路由器.字段）

在 2014 年 12 月，您可能会使用 CREATESHARD API（集合 API 的一部分）添加一个新的分片，为 2015 年做准备 - 执行以下操作：

```
/admin/collections?
action=CREATESHARD&
shard=2015&
collection=AuditTrailIndex 
```

上面的命令在同一个集合上创建一个新的分片。

在 2015 年时，假设您的数据的“年份”字段正确填充到 2015 年，所有数据都将自动索引到“2015”分片中。

在 2015 年，如果您认为不需要 2010 分片（根据您的数据保留要求） - 您可以随时使用 DELETESHARD API 来执行此操作：

```
/admin/collections?
action=DELETESHARD&
shard=2015&
collection=AuditTrailIndex 
```

PS 此解决方案仅在您在创建收藏时使用“隐式路由器”时才有效。当您使用默认的“compositeId 路由器”时不起作用 - 即使用 numshards 参数创建的集合。

此功能真正改变了游戏规则 - 允许根据您业务不断增长的需求动态添加分片。

此功能在 Elastic Search 中是否可用？如果没有，我相信他们会及时的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-09-20T00:11:23.817

现在可以使用 Solr 4.4.0（4.3 中引入的功能）：

[https://cwiki.apache.org/confluence/display/solr/Collections+API#CollectionsAPI-SplitaShard](https://cwiki.apache.org/confluence/display/solr/Collections+API#CollectionsAPI-SplitaShard)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-17T12:17:00.377

目前您无法在收集完成后添加新分片

[https://issues.apache.org/jira/browse/SOLR-3755](https://issues.apache.org/jira/browse/SOLR-3755)

# clojure - 如何在 clojure 中创建一个空的哈希映射

> ID：15678150
> 
> 赞同：3
> 
> 时间：2013-03-28T09:23:49.600
> 
> 标签：clojure

当我编码时，它给了我一个 ArrayMap

```
(class (hash-map)) 
```

但是当我编码时它会出现一个 HashMap：

```
(class (hash-map "" "")) 
```

问题是“如何创建一个空的哈希映射”？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-28T10:03:26.247

另一种可能性是使用预定义的 EMPTY 字段：

```
user=> (clojure.lang.PersistentHashMap/EMPTY)
{} 
```

在我看来，最好显示你的意图。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-28T09:28:19.437

您可以像这样创建空的哈希映射：

```
(. clojure.lang.PersistentHashMap create {})
(clojure.lang.PersistentHashMap/create {})
(clojure.lang.PersistentHashMap/EMPTY) 
```

您可以查看源代码`hash-map`：

```
user=> (source hash-map)
(defn hash-map
  "keyval => key val
  Returns a new hash map with supplied mappings.  If any keys are
  equal, they are handled as if by repeated uses of assoc."
  {:added "1.0"
   :static true}
  ([] {})
  ([& keyvals]
   (. clojure.lang.PersistentHashMap (create keyvals)))) 
```

正如您在代码中看到的，如果您不提供参数，则`hash-map`函数返回`{}`，即`PersistentArrayMap`.

如果确实需要 empty 的实例`PersistentHashMap`，可以使用以下代码创建它：

```
(. clojure.lang.PersistentHashMap create {}) 
```

您可以检查创建实例的类：

```
user=> (class (. clojure.lang.PersistentHashMap create {}))
clojure.lang.PersistentHashMap
user=> (class (clojure.lang.PersistentHashMap/create {}))
clojure.lang.PersistentHashMap
user=> (class (clojure.lang.PersistentHashMap/EMPTY)) ;; om-nom-nom's : much simpler
clojure.lang.PersistentHashMap 
```

但是，我不确定这样做是好是坏。也许您的代码不应该依赖于特定的实现类。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-28T14:15:30.653

你真的不需要担心这个。运行时会判断要使用的最佳实现。`PersistentArrayMap`对于少数键/值对来说是首选（即在时间和空间上更有效），但是`PersistentHashMap`一旦超过 8 的 kv 限制就会升级，[有关详细信息，请参阅相关代码](https://github.com/clojure/clojure/blob/clojure-1.5.1/src/jvm/clojure/lang/PersistentArrayMap.java#L405)

```
*clojure-version*
{:major 1, :minor 5, :incremental 1, :qualifier nil}

; map declared with {} with 8 kv pairs is ArrayMap
(type {:a 1 :b 2 :c 3 :d 4 :e 5 :f 6 :g 7 :h 8})
  => clojure.lang.PersistentArrayMap

; map declared with {} with 9 kv pairs is HashMap
(type {:a 1 :b 2 :c 3 :d 4 :e 5 :f 6 :g 7 :h 8 :i 9})
  => clojure.lang.PersistentHashMap

; assoc'ing 1 kv pairs into an ArrayMap is an ArrayMap (oddly)
(type (-> {:a 1 :b 2 :c 3 :d 4 :e 5 :f 6 :g 7 :h 8} 
          (assoc :i 9)))
clojure.lang.PersistentArrayMap

; assoc'ing 2 kv pairs into an ArrayMap is an HashMap
(type (-> {:a 1 :b 2 :c 3 :d 4 :e 5 :f 6 :g 7 :h 8} 
          (assoc :i 9) 
          (assoc :j 10)))
clojure.lang.PersistentHashMap 
```

# python - Mac os x 10.8 上的 Homebrew + Python：致命 Python 错误：PyThreadState_Get：没有当前线程正在导入 mapnik

> ID：15678153
> 
> 赞同：32
> 
> 时间：2013-03-28T09:23:58.247
> 
> 标签：python, module, homebrew, mapnik

我的 Mac (10.8.3) 上有 2 条蟒蛇：默认版本和 2.7 版本的自制软件。

到目前为止，我可以安装模块并将它们与我的 brew python 一起使用。我用`brew install mapnik`（mapnik-2.1.0）安装了mapnik，它编译正确。但是，如果我打开 python 并输入，则会`import mapnik`出现以下错误并且 python 退出：

```
>>> import mapnik
Fatal Python error: PyThreadState_Get: no current thread
Abort trap: 6 
```

Mac os x 也显示错误窗口，内容如下：

```
Process:         Python [60666]
Path:            /usr/local/Cellar/python/2.7.3/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python
Identifier:      Python
Version:         2.7.3 (2.7.3)
Code Type:       X86-64 (Native)
Parent Process:  bash [60454]
User ID:         501

Date/Time:       2013-03-28 10:21:08.535 +0100
OS Version:      Mac OS X 10.8.3 (12D78)
Report Version:  10

Interval Since Last Report:          128837 sec
Crashes Since Last Report:           5
Per-App Crashes Since Last Report:   4
Anonymous UUID:                      567121E6-7BAC-335F-E3B0-DD24D1F9E6BA

Crashed Thread:  0  Dispatch queue: com.apple.main-thread

Exception Type:  EXC_CRASH (SIGABRT)
Exception Codes: 0x0000000000000000, 0x0000000000000000

Application Specific Information:
abort() called

Thread 0 Crashed:: Dispatch queue: com.apple.main-thread
0   libsystem_kernel.dylib          0x00007fff94500d46 __kill + 10
1   libsystem_c.dylib               0x00007fff92afddf0 abort + 177
2   org.python.python               0x0000000105a77eaa Py_FatalError + 49
3   org.python.python               0x0000000105a76370 PyThreadState_Get + 28
4   org.python.python               0x0000000105a71f16 Py_InitModule4_64 + 58
5   libboost_python-mt.dylib        0x0000000104153288 boost::python::detail::init_module(char const*, void (*)()) + 40
6   org.python.python               0x00000001029fa716 _PyImport_LoadDynamicModule + 150
7   org.python.python               0x00000001029fa428 import_submodule + 296
8   org.python.python               0x00000001029f9ff1 load_next + 268
9   org.python.python               0x00000001029f80fb PyImport_ImportModuleLevel + 794
10  org.python.python               0x00000001029de9d3 builtin___import__ + 132
11  org.python.python               0x000000010296e335 PyObject_Call + 101
12  org.python.python               0x00000001029e8e10 PyEval_CallObjectWithKeywords + 93
13  org.python.python               0x00000001029e61b6 PyEval_EvalFrameEx + 11727
14  org.python.python               0x00000001029e32bd PyEval_EvalCodeEx + 1638
15  org.python.python               0x00000001029e2c51 PyEval_EvalCode + 54
16  org.python.python               0x00000001029f6e58 PyImport_ExecCodeModuleEx + 247
17  org.python.python               0x00000001029f99bf load_source_module + 1053
18  org.python.python               0x00000001029f9c7e load_package + 334
19  org.python.python               0x00000001029fa428 import_submodule + 296
20  org.python.python               0x00000001029f9ff1 load_next + 268
21  org.python.python               0x00000001029f80fb PyImport_ImportModuleLevel + 794
22  org.python.python               0x00000001029de9d3 builtin___import__ + 132
23  org.python.python               0x000000010296e335 PyObject_Call + 101
24  org.python.python               0x00000001029e8e10 PyEval_CallObjectWithKeywords + 93
25  org.python.python               0x00000001029e61b6 PyEval_EvalFrameEx + 11727
26  org.python.python               0x00000001029e32bd PyEval_EvalCodeEx + 1638
27  org.python.python               0x00000001029e2c51 PyEval_EvalCode + 54
28  org.python.python               0x0000000102a01a2b run_mod + 53
29  org.python.python               0x0000000102a0184d PyRun_InteractiveOneFlags + 365
30  org.python.python               0x0000000102a01367 PyRun_InteractiveLoopFlags + 188
31  org.python.python               0x0000000102a01218 PyRun_AnyFileExFlags + 60
32  org.python.python               0x0000000102a120b2 Py_Main + 3210
33  libdyld.dylib                   0x00007fff966bf7e1 start + 1

Thread 0 crashed with X86 Thread State (64-bit):
  rax: 0x0000000000000000  rbx: 0x00007fff5d29c2b0  rcx: 0x00007fff5d29c298  rdx: 0x0000000000000000
  rdi: 0x000000000000ecfa  rsi: 0x0000000000000006  rbp: 0x00007fff5d29c2c0  rsp: 0x00007fff5d29c298
   r8: 0x00000000000003f5   r9: 0x00007fff5d29c270  r10: 0x00007fff94502342  r11: 0x0000000000000206
  r12: 0x00007fff5d29cb00  r13: 0x0000000102e9b656  r14: 0x00000000000003f5  r15: 0x0000000000000000
  rip: 0x00007fff94500d46  rfl: 0x0000000000000206  cr2: 0x00007fff7bff7ff0
Logical CPU: 0

Binary Images:
       0x102961000 -        0x102961fff +org.python.python (2.7.3 - 2.7.3) <62DA7BCA-2A0C-3753-A043-7459827F56D1> /usr/local/Cellar/python/2.7.3/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python
       0x102964000 -        0x102a6cfff +org.python.python (2.7.3, [c] 2004-2012 Python Software Foundation. - 2.7.3) <81E6FB4A-287C-37C3-A26D-D045B604933F> /usr/local/Cellar/python/2.7.3/Frameworks/Python.framework/Versions/2.7/Python
       0x102c4c000 -        0x102c4efff +readline.so (0) <C4F1219C-CDFD-37D2-A762-22974D3F2918> /usr/local/Cellar/python/2.7.3/Frameworks/Python.framework/Versions/2.7/lib/python2.7/lib-dynload/readline.so
       0x102c54000 -        0x102c77fff +libreadline.6.2.dylib (6.2) <2131C2A4-E75D-3680-9C8D-E42D78A5E1B9> /usr/local/opt/readline/lib/libreadline.6.2.dylib
       0x102cfc000 -        0x102d01fff +itertools.so (0) <F857A819-40A9-3F72-A0B1-3E97BA5F3DAA> /usr/local/Cellar/python/2.7.3/Frameworks/Python.framework/Versions/2.7/lib/python2.7/lib-dynload/itertools.so
       0x102d0a000 -        0x102f2cfff +_mapnik.so (0) <433DAD47-AB4D-37C5-A0EA-FE1134B63D3D> /usr/local/lib/python2.7/site-packages/mapnik/_mapnik.so
       0x103603000 -        0x103978ff7 +libmapnik.dylib (0) <0E898678-9D86-35B4-A772-0248924F5BF3> /usr/local/Cellar/mapnik/2.1.0/lib/libmapnik.dylib
       0x104138000 -        0x104170ff7 +libboost_python-mt.dylib (0) <9B5DD680-BEC9-3988-9F55-F59DA38CC175> /usr/local/lib/libboost_python-mt.dylib
       0x1041b3000 -        0x1041c2ff7 +libboost_thread-mt.dylib (0) <24432300-9373-30B6-89F6-857CBEF9C105> /usr/local/lib/libboost_thread-mt.dylib
       0x1041de000 -        0x10424dff7 +libfreetype.6.dylib (0) <490EDE42-5B78-34BA-85E7-D0547BE778E1> /usr/local/lib/libfreetype.6.dylib
       0x104262000 -        0x104268fff +libltdl.7.dylib (0) <E437E59F-FC2E-3837-BDF8-301BEF13C7D6> /usr/local/lib/libltdl.7.dylib
       0x10426c000 -        0x10428bff7 +libpng15.15.dylib (0) <52907DBF-A04C-325D-9E77-DF56A771026F> /usr/local/lib/libpng15.15.dylib
       0x104293000 -        0x1042e6fff +libtiff.5.dylib (0) <AE85D7B1-F4E5-3B27-832D-5756EFCDE912> /usr/local/lib/libtiff.5.dylib
       0x1042f2000 -        0x104326fff +libproj.0.dylib (0) <C799D9A7-0DDA-334D-9AEA-13A4AE7A67A2> /usr/local/lib/libproj.0.dylib
       0x104333000 -        0x104441ff7 +libicuuc.50.1.dylib (0) <5FDBBF25-EEA6-3649-9ED6-B18CE89CE510> /usr/local/opt/icu4c/lib/libicuuc.50.1.dylib
       0x1044a3000 -        0x1044b2fff +libboost_filesystem-mt.dylib (0) <B2C03485-5FA6-3744-BC99-DB4E87DA4D87> /usr/local/lib/libboost_filesystem-mt.dylib
       0x1044c3000 -        0x1044c5ff7 +libboost_system-mt.dylib (0) <FE5E6E11-C7FB-3895-9976-526D22997EDC> /usr/local/lib/libboost_system-mt.dylib
       0x1044ca000 -        0x104578fff +libboost_regex-mt.dylib (0) <BC1D7F46-F6AB-3964-B344-E692EFC5D3B7> /usr/local/lib/libboost_regex-mt.dylib
       0x10461c000 -        0x10464bff7 +libjpeg.8.dylib (0) <9EC07360-CF18-3529-AE54-E60DBF1313DC> /usr/local/lib/libjpeg.8.dylib
       0x104652000 -        0x105a24fff +libicudata.50.dylib (0) <B74D5789-7082-3084-9BF0-9A3AE6F2B046> /usr/local/opt/icu4c/lib/libicudata.50.dylib
       0x105a26000 -        0x105b33fff  org.python.python (2.7.2 - 2.7.2) <E7F3EED1-E55D-32AF-9649-77C814693F6A> /System/Library/Frameworks/Python.framework/Versions/2.7/Python
    0x7fff62561000 -     0x7fff6259593f  dyld (210.2.3) <36CAA36E-72BC-3E48-96D9-B96A2DF77730> /usr/lib/dyld
    0x7fff8ae57000 -     0x7fff8ae7cff7  libc++abi.dylib (26) <D86169F3-9F31-377A-9AF3-DB17142052E4> /usr/lib/libc++abi.dylib
    0x7fff8c50f000 -     0x7fff8c510ff7  libsystem_sandbox.dylib (220.2) <6838A6FD-8626-3356-BB4F-BB4787216207> /usr/lib/system/libsystem_sandbox.dylib
    0x7fff8c511000 -     0x7fff8c523ff7  libz.1.dylib (43) <2A1551E8-A272-3DE5-B692-955974FE1416> /usr/lib/libz.1.dylib
    0x7fff8d337000 -     0x7fff8d342fff  libsystem_notify.dylib (98.5) <C49275CC-835A-3207-AFBA-8C01374927B6> /usr/lib/system/libsystem_notify.dylib
    0x7fff8d9e6000 -     0x7fff8d9ebfff  libcompiler_rt.dylib (30) <08F8731D-5961-39F1-AD00-4590321D24A9> /usr/lib/system/libcompiler_rt.dylib
    0x7fff8dd72000 -     0x7fff8dd73fff  libDiagnosticMessagesClient.dylib (8) <8548E0DC-0D2F-30B6-B045-FE8A038E76D8> /usr/lib/libDiagnosticMessagesClient.dylib
    0x7fff902d7000 -     0x7fff90326ff7  libcorecrypto.dylib (106.2) <CE0C29A3-C420-339B-ADAA-52F4683233CC> /usr/lib/system/libcorecrypto.dylib
    0x7fff9064f000 -     0x7fff90650fff  libsystem_blocks.dylib (59) <D92DCBC3-541C-37BD-AADE-ACC75A0C59C8> /usr/lib/system/libsystem_blocks.dylib
    0x7fff90a75000 -     0x7fff90a7dff7  libsystem_dnssd.dylib (379.37) <616FC901-151E-38BF-B2C4-24A351C5FAAD> /usr/lib/system/libsystem_dnssd.dylib
    0x7fff914fd000 -     0x7fff9150afff  libbz2.1.0.dylib (29) <CE9785E8-B535-3504-B392-82F0064D9AF2> /usr/lib/libbz2.1.0.dylib
    0x7fff92899000 -     0x7fff928a7fff  libcommonCrypto.dylib (60027) <BAAFE0C9-BB86-3CA7-88C0-E3CBA98DA06F> /usr/lib/system/libcommonCrypto.dylib
    0x7fff92aa4000 -     0x7fff92b70ff7  libsystem_c.dylib (825.26) <4C9EB006-FE1F-3F8F-8074-DFD94CF2CE7B> /usr/lib/system/libsystem_c.dylib
    0x7fff92bba000 -     0x7fff92bc0ff7  libunwind.dylib (35.1) <21703D36-2DAB-3D8B-8442-EAAB23C060D3> /usr/lib/system/libunwind.dylib
    0x7fff92ed3000 -     0x7fff92f3cfff  libstdc++.6.dylib (56) <EAA2B53E-EADE-39CF-A0EF-FB9D4940672A> /usr/lib/libstdc++.6.dylib
    0x7fff93019000 -     0x7fff93065ff7  libauto.dylib (185.1) <73CDC482-16E3-3FC7-9BB4-FBA2DA44DBC2> /usr/lib/libauto.dylib
    0x7fff930cf000 -     0x7fff930d5fff  libmacho.dylib (829) <BF332AD9-E89F-387E-92A4-6E1AB74BD4D9> /usr/lib/system/libmacho.dylib
    0x7fff93177000 -     0x7fff93199ff7  libxpc.dylib (140.42) <BBE558BD-5E55-35E4-89ED-1AA6B056D05A> /usr/lib/system/libxpc.dylib
    0x7fff931f6000 -     0x7fff931f7ff7  libremovefile.dylib (23.2) <6763BC8E-18B8-3AD9-8FFA-B43713A7264F> /usr/lib/system/libremovefile.dylib
    0x7fff931f8000 -     0x7fff93260ff7  libc++.1.dylib (65.1) <20E31B90-19B9-3C2A-A9EB-474E08F9FE05> /usr/lib/libc++.1.dylib
    0x7fff9345d000 -     0x7fff9365dfff  libicucore.A.dylib (491.11.2) <FD6282D8-DF3F-3842-8C2E-CF478D2B9669> /usr/lib/libicucore.A.dylib
    0x7fff9365e000 -     0x7fff9365efff  libkeymgr.dylib (25) <CC9E3394-BE16-397F-926B-E579B60EE429> /usr/lib/system/libkeymgr.dylib
    0x7fff936d4000 -     0x7fff936dcfff  liblaunch.dylib (442.26.2) <2F71CAF8-6524-329E-AC56-C506658B4C0C> /usr/lib/system/liblaunch.dylib
    0x7fff9424d000 -     0x7fff9427bff7  libsystem_m.dylib (3022.6) <B434BE5C-25AB-3EBD-BAA7-5304B34E3441> /usr/lib/system/libsystem_m.dylib
    0x7fff94284000 -     0x7fff94286fff  libquarantine.dylib (52) <4BE2E642-A14F-340A-B482-5BD2AEFD9C24> /usr/lib/system/libquarantine.dylib
    0x7fff94381000 -     0x7fff94382ff7  libdnsinfo.dylib (453.19) <14202FFB-C3CA-3FCC-94B0-14611BF8692D> /usr/lib/system/libdnsinfo.dylib
    0x7fff944ef000 -     0x7fff9450aff7  libsystem_kernel.dylib (2050.22.13) <5A961E2A-CFB8-362B-BC43-122704AEB047> /usr/lib/system/libsystem_kernel.dylib
    0x7fff94579000 -     0x7fff94587ff7  libsystem_network.dylib (77.10) <0D99F24E-56FE-380F-B81B-4A4C630EE587> /usr/lib/system/libsystem_network.dylib
    0x7fff94821000 -     0x7fff9493992f  libobjc.A.dylib (532.2) <90D31928-F48D-3E37-874F-220A51FD9E37> /usr/lib/libobjc.A.dylib
    0x7fff9493a000 -     0x7fff9494fff7  libdispatch.dylib (228.23) <D26996BF-FC57-39EB-8829-F63585561E09> /usr/lib/system/libdispatch.dylib
    0x7fff95c25000 -     0x7fff95d22ff7  libxml2.2.dylib (22.3) <47B09CB2-C636-3024-8B55-6040F7829B4C> /usr/lib/libxml2.2.dylib
    0x7fff96350000 -     0x7fff96351ff7  libSystem.B.dylib (169.3) <9089D72D-E714-31E1-80C8-698A8E8B05AD> /usr/lib/libSystem.B.dylib
    0x7fff96397000 -     0x7fff9639cfff  libcache.dylib (57) <65187C6E-3FBF-3EB8-A1AA-389445E2984D> /usr/lib/system/libcache.dylib
    0x7fff96646000 -     0x7fff9664dfff  libcopyfile.dylib (89) <876573D0-E907-3566-A108-577EAD1B6182> /usr/lib/system/libcopyfile.dylib
    0x7fff966bd000 -     0x7fff966c0ff7  libdyld.dylib (210.2.3) <F59367C9-C110-382B-A695-9035A6DD387E> /usr/lib/system/libdyld.dylib
    0x7fff96961000 -     0x7fff96963ff7  libunc.dylib (25) <92805328-CD36-34FF-9436-571AB0485072> /usr/lib/system/libunc.dylib
    0x7fff974ba000 -     0x7fff974f0fff  libsystem_info.dylib (406.17) <4FFCA242-7F04-365F-87A6-D4EFB89503C1> /usr/lib/system/libsystem_info.dylib
    0x7fff97850000 -     0x7fff97888fff  libncurses.5.4.dylib (37.3) <68D5B5F5-8252-3F1E-AFF1-C6AFE145DBC1> /usr/lib/libncurses.5.4.dylib
    0x7fff978d3000 -     0x7fff97abdff7  com.apple.CoreFoundation (6.8 - 744.18) <A60C3C9B-3764-3291-844C-C487ACF77C2C> /System/Library/Frameworks/CoreFoundation.framework/Versions/A/CoreFoundation

External Modification Summary:
  Calls made by other processes targeting this process:
    task_for_pid: 0
    thread_create: 0
    thread_set_state: 0
  Calls made by this process:
    task_for_pid: 0
    thread_create: 0
    thread_set_state: 0
  Calls made by all processes on this machine:
    task_for_pid: 18730
    thread_create: 2
    thread_set_state: 0

VM Region Summary:
ReadOnly portion of Libraries: Total=109.5M resident=53.3M(49%) swapped_out_or_unallocated=56.2M(51%)
Writable regions: Total=20.6M written=2644K(13%) resident=3256K(15%) swapped_out=0K(0%) unallocated=17.5M(85%)

REGION TYPE                      VIRTUAL
===========                      =======
MALLOC                             11.8M
MALLOC guard page                    32K
STACK GUARD                        56.0M
Stack                              8192K
__DATA                             2356K
__LINKEDIT                         68.3M
__TEXT                             41.2M
__UNICODE                           544K
shared memory                        12K
===========                      =======
TOTAL                             188.2M

Model: MacBookPro8,2, BootROM MBP81.0047.B27, 4 processors, Intel Core i7, 2 GHz, 8 GB, SMC 1.69f4
Graphics: Intel HD Graphics 3000, Intel HD Graphics 3000, Built-In, 512 MB
Graphics: AMD Radeon HD 6490M, AMD Radeon HD 6490M, PCIe, 256 MB
Memory Module: BANK 0/DIMM0, 4 GB, DDR3, 1333 MHz, 0x80CE, 0x4D34373142353237334348302D4348392020
Memory Module: BANK 1/DIMM0, 4 GB, DDR3, 1333 MHz, 0x80CE, 0x4D34373142353237334348302D4348392020
AirPort: spairport_wireless_card_type_airport_extreme (0x14E4, 0xD6), Broadcom BCM43xx 1.0 (5.106.98.100.16)
Bluetooth: Version 4.1.3f3 11349, 2 service, 11 devices, 1 incoming serial ports
Network Service: Wi-Fi, AirPort, en1
Serial ATA Device: ST9500420AS, 500.11 GB
Serial ATA Device: MATSHITADVD-R   UJ-898
USB Device: FaceTime HD Camera (Built-in), apple_vendor_id, 0x8509, 0xfa200000 / 3
USB Device: hub_device, 0x0424  (SMSC), 0x2513, 0xfa100000 / 2
USB Device: Apple Internal Keyboard / Trackpad, apple_vendor_id, 0x0246, 0xfa120000 / 5
USB Device: BRCM2070 Hub, 0x0a5c  (Broadcom Corp.), 0x4500, 0xfa110000 / 4
USB Device: Bluetooth USB Host Controller, apple_vendor_id, 0x821a, 0xfa113000 / 8
USB Device: hub_device, 0x0424  (SMSC), 0x2513, 0xfd100000 / 2
USB Device: IR Receiver, apple_vendor_id, 0x8242, 0xfd110000 / 3 
```

链接我的蟒蛇有什么问题吗？我该如何解决？谢谢！

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-03-31T23:05:17.490

It looks like you are running the homebrew python but either boost python or mapnik's python bindings ended up linking against the system python provided by apple. If a full clean and reinstall of boost and Mapnik does not fix this then I recommend stopping by #mapnik irc on freenode for help debugging. Generally to fix you need to call `otool -L` on `boost_python.dylib` and or on `site_packages/mapnik/_mapnik.so` to see which ended up with a linkage to the system python. Then you can fix by using `install_name_tool`.

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2014-07-10T12:21:40.520

我在 python27-apple 和 python27 （由 Macport 安装）之间遇到了同样的问题。我尝试了这些步骤，它对我有用。

根据@Evert 对不同python 使用的不同库的评论，我试图将python27-apple 恢复为“活动”。

```
sudo port select --list python 
```

对于我的电脑，它显示：

```
Available versions for python:
none
python25-apple
python26
python26-apple
python27 (active)
python27-apple 
```

其中python27（由Macport）当前处于活动状态。然后，

```
sudo port select python python27-apple 
```

使 python27-apple 激活，因为之前调用了默认库。仔细检查，

```
sudo port select --list python 
```

现在显示：

```
Available versions for python:
none
python25-apple
python26
python26-apple
python27
python27-apple (active) 
```

当我运行脚本时，python 崩溃已经消失了。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2017-02-04T22:14:54.173

您可以像这样使用自制python：

```
/usr/bin/python2.7 yourscript.py 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2015-09-01T07:27:10.013

我在使用时遇到了类似的问题`androguard`。虽然不太一样，但可以作为参考。我的崩溃也是`Fatal Python error: PyThreadState_Get: no current thread Abort trap: 6`。运行`otool -L <lib>`，提示`dylib`系统python的链接。尝试解决方案：

1.  `python-config --ldflags`
2.  将输出复制到相应的 MakeFile。例如更改`LDFLAGS += -lm -lbz2 -lz -llzma -lsnappy -lmuparser -lpython`为`LDFLAGS += -lm -lbz2 -lz -llzma -lsnappy -lmuparser -L/usr/local/Cellar/python/2.7.10_2/Frameworks/Python.framework/Versions/2.7/lib/python2.7/config -lpython2.7 -ldl -framework CoreFoundation`.
3.  `make clean`，然后重新制作。

现在dylib没问题了，没有错误了。

### 或者 ...

...当您用于`otool -L <lib>`查找错误链接的 python`dylib`时，您可以使用`install_name_tool`以下符号更改：

```
 install_name_tool -change /System/Library/Frameworks/Python.framework/Versions/2.7/Python /usr/local/Cellar/python/2.7.6_1/Frameworks/Python.framework/Versions/2.7/lib/libpython2.7.dylib  <lib> 
```

# string - Perl中的同时替换

> ID：15678156
> 
> 赞同：0
> 
> 时间：2013-03-28T09:24:19.043
> 
> 标签：string, perl, global, substitution

下面是我试图反转然后替换的脚本（A=>T，T=>A，G=>C，C=>G）。

版本 1

```
#!/usr/bin/perl    
my $str="AAAAAGCTTGC";
$str_rev=scalar reverse ("$str"),"\n";
print"My original string: $str\n";
print "My reversed string: $str_rev\n";

$str_rev =~ s/A/T/g;
$str_rev =~ s/T/A/;
$str_rev =~ s/G/C/g;
$str_rev =~ s/C/G/;
print"My substituted reversed string: $str_rev\n"; 
```

输出：

```
My original string: AAAAAGCTTGC
My reversed string: CGTTCGAAAAA
My substituted reversed string: GCATCCTTTTT 
```

全局替换（版本 2）

```
$str_rev =~ s/A/T/g;
$str_rev =~ s/T/A/g;
$str_rev =~ s/G/C/g;
$str_rev =~ s/C/G/g;
print"My substituted reversed string: $str_rev\n"; 
```

输出：

```
My original string: AAAAAGCTTGC
My reversed string: CGTTCGAAAAA
My substituted reversed string: GGAAGGAAAAA 
```

在第一个版本中，我观察到不是全局的替换被替换一次（显然，因为它不是全局的）。而在版本 2 中，由于它从上到下处理代码，最后一个替换跳过了剩余的“G”。我想要所有的替换并行。我怎样才能在字符串中实现这一点？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-28T09:33:56.363

改用 y（音译）：

```
 $str_rev =~ tr/ATGC/TAGC/; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T10:11:59.837

如果你有`use strict`并且`use warnings`在适当的地方你会看到警告

```
Useless use of a constant ("\n") in void context 
```

参考这条线

```
$str_rev=scalar reverse ("$str"),"\n"; 
```

除了反转字符串之外，我不明白您在这里要做什么。什么是流浪换行字符串？此外，`scalar`这是多余的并且将变量放在双引号中是错误的（尽管在这种情况下这些错误都不会影响您的程序）。这个应该写

```
my $str_rev = reverse $str; 
```

这是一个显示正确代码并使用`s///`代替的解决方案`tr///`。除了修复之外，这是为了您的兴趣，因为最好使用音译。

```
use strict;
use warnings;
use 5.014;

my $str = "AAAAAGCTTGC";

print "My original string: $str\n";

my %map =  ( A => 'T', T => 'A', G => 'C', C => 'G' );
my $str_rev = reverse $str =~ s/([ATGC])/$map{$1}/gr;

print "My substituted reversed string: $str_rev\n"; 
```

**输出**

```
My original string: AAAAAGCTTGC
My substituted reversed string: GCAAGCTTTTT 
```

# java - 将数组从jsp传递到java脚本

> ID：15678157
> 
> 赞同：0
> 
> 时间：2013-03-28T09:24:20.197
> 
> 标签：java, arrays, jsp, highcharts

我在这个网站上工作，遇到了一些困难。我使用 JSP 连接到数据库，并使用**JAVASCRIPT**显示数据。所以我想将整个数组从代码的 JSP 部分传输到代码的 java 脚本部分。我试图转移一个字符串 - 即使我失败了。

当然上网查了一下，好像也不是那么容易做的，还不如用java脚本连接数据库。

在这里，我想从 int[] intArray={1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12} 复制值 - 创建一个数组以尝试不从数据库中加载值JSP`var array[];`在 JAVASCRIPT 中。

或者也许有一种更简单的方法可以将数据从数据库复制到 highcharts！？请帮忙！！！

JSP 代码的一小部分：

```
<%!
String jdbcDriver = "org.postgresql.Driver";
String jdbcURL    = "jdbc:postgresql:IrishClimateData";
String user       = "postgres";
String password   = "postgres";
int[] intArray={1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12};

%> 
```

Java 脚本：

```
$(function () {
var chart;
var array[];
var arr1 = [-2, 8, 5, 11, 17, 22, 24, 24, 20, 14, 8, 2];
$(document).ready(function() {
    chart = new Highcharts.Chart({
        chart: {
            renderTo: 'container',
            type: 'line',
            marginRight: 130,
            marginBottom: 25
        },
        title: {
            text: 'Monthly Average Temperature',
            x: -20 //center
        },
        subtitle: {
            text: 'Source: WorldClimate.com',
            x: -20
        },
        xAxis: {
            categories: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun',
                'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']
        },
        yAxis: {
            title: {
                text: 'Temperature (°C)'
            },
            plotLines: [{
                value: 0,
                width: 1,
                color: '#808080'
            }]
        },
        tooltip: {
            formatter: function() {
                    return '<b>'+ this.series.name +'</b><br/>'+
                    this.x +': '+ this.y +'°C';
            }
        },
        legend: {
            layout: 'vertical',
            align: 'right',
            verticalAlign: 'top',
            x: -10,
            y: 100,
            borderWidth: 0
        },
        series: [{
            name: 'Tokyo',
            data: arr1
        }, {
            name: 'New York',
            data: [-0.2, 0.8, 5.7, 11.3, 17.0, 22.0, 24.8, 24.1, 20.1, 14.1, 8.6, 2.5]
        }, {
            name: 'Berlin',
            data: [-0.9, 0.6, 3.5, 8.4, 13.5, 17.0, 18.6, 17.9, 14.3, 9.0, 3.9, 1.0]
        }, {
            name: 'London',
            data: [3.9, 4.2, 5.7, 8.5, 11.9, 15.2, 17.0, 16.6, 14.2, 10.3, 6.6, 4.8]
        }]
    });
});

});
</script> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T05:58:48.627

我已经在下面的链接中详细回答了这个问题。希望它有所帮助。

[在 jsp 页面上显示来自 mysql 数据库的 Highcharts 数据](https://stackoverflow.com/questions/10930195/display-highcharts-data-from-mysql-database-on-jsp-page)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T09:42:25.770

首先，从数据库中加载您的 java 数组。我只是`{1, 2, 3}`为了争论而硬编码。

```
int[] a = {1, 2, 3}; 
```

将此打印到 javascript 变量`array`：

```
<script type="text/javascript">
<%
    out.println("var array = " + a);
%>
</script> 
```

现在你可以`array`在你的 javascript 中使用了。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-28T09:35:40.913

使用像 var array[] = "<%=intArray%>"; 这样的脚本在 java 脚本中将 intArray 分配给 var array[]

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-28T09:38:46.147

你可以写这样的东西：

首先将数组的元素分配给带有逗号的字符串，例如：

```
String a="1,2,3,4,5"; 
```

然后将其分配给另一个变量：

```
var arrayStr=<%=a%>; 
```

然后这样做：

```
var array=arrayStr.split(','); 
```

希望它有效

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-28T09:38:56.260

尝试使用 JSON，它是纯 javascript 语法，因此当您在 javascript 中收到它时，您可以将其用作 javascript 对象。

JSON： [http ://en.wikipedia.org/wiki/JSON](http://en.wikipedia.org/wiki/JSON)

jsp中的json ：在jsp中 [创建json对象，并与](https://stackoverflow.com/questions/9046331/creating-a-json-object-in-jsp-and-using-it-with-jquery)jquery一起使用（不是必须使用jquery）

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2014-11-16T20:48:26.473

正确答案是 - abc.jsp

```
<html>
function call()
{
var name="xyz";
window.location.replace("abc.jsp?name="+name);
}
</script>
<input type="button" value="Get" onclick='call()'>
<%
String compose1=request.getParameter("name");
out.println(name);
%>    </html> 
```

它适用于我的程序，希望它对你也有帮助......

# css - CSS的非常奇怪的定位问题

> ID：15678162
> 
> 赞同：0
> 
> 时间：2013-03-28T09:24:32.290
> 
> 标签：css, layout, dojo

我现在有一个非常奇怪的定位问题。4小时后，我放弃了。我有一个简单的选项卡式应用程序，具有简单的正常布局：

[http://mercmobily-bookingdojo.nodejitsu.com/pages/login](http://mercmobily-bookingdojo.nodejitsu.com/pages/login) (test/test) 一旦得到答复，我将确保快照保持在线。

有一个“顶部小部件”，包括顶部的“添加”字段，以及它下面的 dgrid。还有另一个小部件，“窄小部件”，它应该位于 dgrid 的正下方。相反，它与它重叠。

所有小部件的位置要么是相对的，要么是静态的。但是，顶部小部件的高度似乎“不足” - 因此窄小部件放置*在*dgrid 上。

我检查并检查并检查...有任何提示吗？

默克。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T09:34:01.223

你`#dgrid_1`有一个`height: 100%`，但它不是唯一的内容。还有2个输入字段。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-28T09:46:21.640

除了 Linus 答案之外，要修复它，您可以将绝对定位应用于编辑小部件，这将从流程中提取它，获得所需的结果：

```
.editing-widget {
    left: 0;
    position: absolute;
    top: 0;
    z-index: 1;
} 
```

您还需要添加`position: relative`到`#dijit__WidgetBase_0`以正确对齐它。

这将使编辑小部件与 中包含的文本重叠`#dgrid_1`：您可以通过向其父级 ( `#dijit__WidgetBase_0`) 添加一个 padding-top 来修复，例如`padding-top: 36px`会成功。

如果您希望将编辑小部件保留在流程中，有一个简单的 css3 声明可以帮助您：

```
#dgrid_1{
    height: calc(100% - 30px);
} 
```

值得注意的是，目前并非所有浏览器都支持标准的 CSS3 calc() 函数，因此可能需要实现该函数的浏览器特定版本，如下所示：

```
/* Firefox */
height: -moz-calc(100% - 30px);
/* WebKit */
height: -webkit-calc(100% - 30px);
/* Opera */
height: -o-calc(100% - 30px);
/* Standard */
height: calc(100% - 30px); 
```

（来源：[CSS：将宽度/高度设置为百分比减去像素](https://stackoverflow.com/questions/2434602/css-setting-width-height-as-percentage-minus-pixels)）

# c# - 使用会话传递值并在每页添加一个会话

> ID：15678163
> 
> 赞同：1
> 
> 时间：2013-03-28T09:24:32.830
> 
> 标签：c#, asp.net

我需要存储输入的值`textBox's`和`dropdownList's radio buttons`...。我的表单是一个多页表单。我不确定我在做什么，但这就是我的想法。

我有一个点击下一页的按钮。我已经在我想插入的数据库表中创建了一个包含每个字段的类。在按钮单击事件上，我想将值分配给`session`. 我会这样做吗？

```
protected void img_btnNext_Click(object sender, ImageClickEventArgs e)
{
Incident obj = new Incident();
obj.witnessesYes = rad_ReportYes.Checked;
obj.witnessesNo = rad_ReportNo.Checked;

// lots more objects .... to values

Session["mySession"] = obj;
Response.Redirect("~/Communicating.aspx");
} 
```

所以当我转到下一页时，我是否继续？向 中添加更多值`obj`并将其添加到`session`? 我不知道该怎么做。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T09:26:22.313

是的，如果会话中的对象具有所有属性，您可以根据需要操作它们。

```
var incident = Session["MyIncident"] != null ? (Incident)Session["MyIncident"] : new Incident(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T09:27:02.567

是的，这是解决方案之一，您可以做的是检查 Session 是否具有 Object ，如果是，则将其序列化并添加更多内容并使用相同的密钥将其保存回会话中。如果为空，则创建新对象并启动。这种方法的一个问题是，如果您丢失了会话，则无法将其取回（可能是服务器等问题）。如果您有更多步骤，最好在某些步骤后将其保存在数据库等持久性位置。

```
if(Session[keyName] != NULL)
{
Incident existingValue = (Incident)Session[KeyName]
existingValue.XXXX = 10;
Session[KeyName] = existingValue ;
}
else
{
 Incident existingValue = new Incident()
 existingValue.XXXX = 10;
 Session[KeyName] = existingValue ;
} 
```

# plsql - 函数返回一个表

> ID：15678168
> 
> 赞同：0
> 
> 时间：2013-03-28T09:24:41.250
> 
> 标签：plsql, oracle11g

这里我有一个函数，它接受“COMMA SEPARATED STRING”并返回一个流水线表。

```
 create or replace 
  FUNCTION parse_comma_delimited
   (
     iv_list IN VARCHAR2,
     v_delimiter IN VARCHAR2 DEFAULT ',' 
   )
    RETURN parse_comma_delimited_pkg.tt_v_tablevalues_type PIPELINED
     AS
       v_list VARCHAR2(8000) := iv_list;
      v_item VARCHAR2(255);
      v_temp SYS_REFCURSOR;
       v_temp_1 TT_V_TABLEVALUES%ROWTYPE;
   BEGIN
    WHILE ( LENGTHB(v_list) > 0 ) 
     LOOP 
     BEGIN
     IF INSTR(v_list, v_delimiter) > 0 THEN
     BEGIN
        v_item := SUBSTR(v_list, 1, (INSTR(v_list, v_delimiter) - 1)) ;
        v_list := SUBSTR(v_list, (INSTR(v_list, v_delimiter) 
      || LENGTHB(v_delimiter)), LENGTHB(v_list)) ;
     END;
     ELSE
     BEGIN
        v_item := v_list ;
        v_list := NULL ;
     END;
     END IF;

     INSERT INTO tt_v_tablevalues ( item ) VALUES (v_item);
  END;
END LOOP;
OPEN v_temp FOR
  SELECT * 
    FROM tt_v_tablevalues;
  LOOP
  FETCH v_temp INTO v_temp_1;
  EXIT WHEN v_temp%NOTFOUND;
  PIPE ROW ( v_temp_1 );
  END LOOP;
END; 
```

但是当我调用该函数时，它只重新调整一行。

```
INSERT INTO SRC_PK_INSERT (pk_key)
SELECT * 
FROM TABLE(parse_comma_delimited(( 
SELECT * 
FROM SRC_PK_INSERT
WHERE RULE_NAME = 'RULES'
))); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T10:14:10.127

使用流水线函数填充 row_type，然后调用管道行。

请参阅此处的文档：http: [//docs.oracle.com/cd/B28359_01/appdev.111/b28425/pipe_paral_tbl.htm#CHDJEGHC](http://docs.oracle.com/cd/B28359_01/appdev.111/b28425/pipe_paral_tbl.htm#CHDJEGHC)

来自文档的示例：

```
CREATE FUNCTION StockPivot(p refcur_pkg.refcur_t) RETURN TickerTypeSet
PIPELINED IS
  out_rec TickerType := TickerType(NULL,NULL,NULL);
  in_rec p%ROWTYPE;
BEGIN
  LOOP
    FETCH p INTO in_rec; 
    EXIT WHEN p%NOTFOUND;
    -- first row
    out_rec.ticker := in_rec.Ticker;
    out_rec.PriceType := 'O';
    out_rec.price := in_rec.OpenPrice;
    PIPE ROW(out_rec);
    -- second row
    out_rec.PriceType := 'C';   
    out_rec.Price := in_rec.ClosePrice;
    PIPE ROW(out_rec);
  END LOOP;
  CLOSE p;
  RETURN;
END;
/ 
```

# css - 有两个相同元素的 CSS 使内联一项工作

> ID：15678169
> 
> 赞同：-1
> 
> 时间：2013-03-28T09:24:46.593
> 
> 标签：css, blogger

所以我有一个 .status-msg-body 的 CSS 我的博客托管在 Blogger 平台上，并且其中有一个无法删除的 CSS 文件。该 CSS 文件包含一个 CSS for.status-msg-body 但我想更改它，所以我在我的博客中添加了一个内联。但这不起作用，它仍然显示默认情况下 Blogger 提供的文件中指定的 CSS。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-28T09:28:25.013

您可以尝试使用`!important`属性来覆盖这些 CSS 样式。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T09:28:03.900

尝试包含`!imporant`在你的 CSS 类的每一行中。

例如，如果你有

```
.status-msg-body
{
   color:Red;
} 
```

你想要它蓝色，添加这个类

```
.status-msg-body
{
   color:Blue!important;
} 
```

这将覆盖现有样式。

# javascript - 访问变量实例的原型方法

> ID：15678185
> 
> 赞同：0
> 
> 时间：2013-03-28T09:26:01.197
> 
> 标签：javascript, oop

```
var Foo = (function () {

    var cls = function () {
        this.prototype = {
            sayhi: function () {
                alert('hi');
            }
        };
    };

    cls.staticMethod = function () {};

    return cls;

})();

var f = new Foo(); 
```

为什么我无法访问我的`sayhi`方法？不`this`引用`cls`变量？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T09:40:07.023

您正在尝试在 的`prototype`每个*实例*上设置属性`cls`。您真正想要做的是设置自身的`prototype`属性`cls`：

```
var Foo = (function () {

    var cls = function () {}; // Constructor function

    cls.prototype = { // Prototype of constructor is inherited by instances
        sayhi: function () {
            alert('hi');
        }
    };

    return cls;

})(); 
```

# ajax - 引导模式电子邮件表单

> ID：15678191
> 
> 赞同：2
> 
> 时间：2013-03-28T09:26:16.233
> 
> 标签：ajax, twitter-bootstrap, modal-dialog

我已经搜索了答案，但找不到任何答案。也许这里有人可以指出我正确的方向。

我有一个简单的模态形式（引导程序）。它应该像这样工作。

您输入表单并单击发送。表格信息被发送到电子邮件地址。发送邮件时，会显示带有确认的新模式。

我试图实现这个解决方案：[Bootstrap Modal ajaxified](https://gist.github.com/jbatista19/4972740)

到目前为止，我有这个： 模态：

```
<div class="hide fade modal" id="input-modal">
<form class="form-horizontal well" data-async data-target="#input-modal" action="/some-endpoint" method="POST">
    <fieldset>
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
            <h3 id="myModalLabel">Modal header</h3>
        </div>
        <div class="modal-body">
            <label>Name</label>
            <input id="name" type="text" placeholder="Type your name...">
        </div>
        <div class="modal-footer">
            <a href="#" class="btn" data-dismiss="modal">Cancel</a>
            <button type="submit" class="btn btn-primary" value="send"/>Send</button>
        </div>
    </fieldset>
</form> 
```

Javascript：

```
jQuery(function($) {
$('body').on('submit','form[data-async]', function(event) {
    alert('submit Event');
    var $form = $(this);
    var $target = $($form.attr('data-target'));

    $.ajax({
        type: $form.attr('method'),
        url: $form.attr('action'),
        data: $form.serialize(),
        success: function(data, status) {
        $target.html(data);
        }
    });
    event.preventDefault();
}); 
```

});

但我需要帮助通过邮件发送输入并将信息发送回模态作为确认。

我已经尝试自己解决这个问题好几天了，但现在我已经放弃了。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-08T18:35:50.787

如果您使用 jQuery >= 1.5，请查看[此处](http://api.jquery.com/jQuery.ajax/#jqXHR)的文档。当 AJAX 调用返回时，这将为您提供一个处理新模式的地方。所以你的代码看起来像这样。

```
jQuery(function($) {
$('body').on('submit','form[data-async]', function(event) {
    alert('submit Event');
    var $form = $(this);
    var $target = $($form.attr('data-target'));

    $.ajax({
        type: $form.attr('method'),
        url: $form.attr('action'),
        data: $form.serialize()
    }).done(function(data){
       //pop your modal here
       $('#your-new-modal').modal('show')
    });
    event.preventDefault();
}); 
```

这是假设您计划发送电子邮件服务器端，因为您无法从 Javascript 发送它。在您的示例中，您应该将标记的 HTML 内容更改为从 AJAX 调用返回的数据，而不是打开新的模式。[您可以在此处](http://twitter.github.io/bootstrap/javascript.html#modals)找到有关通过 Javascript 打开新模式的文档。

没有运行这个，所以可能有错别字。

# java - 如何将带有“Content-Type”标头的数据发布为“multipart/form-data”

> ID：15678192
> 
> 赞同：0
> 
> 时间：2013-03-28T09:26:18.740
> 
> 标签：java, android, http-headers, mime-types

我正在尝试使用 发布数据`multipart/form-data`，但它不适用于 httpPost 方法。我必须从 API 以 json 字符串的形式发送数据，但是如果我删除`content-type`标头，服务器会给出错误的响应，响应说没有编辑以下数据的权限，我必须使用 API 从 API 发送 2 个参数`POST`，

下面是我的代码：

```
public String webPostMultiForm(List<NameValuePair> params) {
        String postUrl = webServiceUrl;
        httpPost = new HttpPost(postUrl);
        try {
            httpPost.setEntity(new UrlEncodedFormEntity(params));
            httpPost.addHeader("Cookie",appStatus.getSharedStringValue(appStatus.AUTH_KEY)); 
            httpPost.addHeader("Content-Type","multipart/form-data; boundary=assdsfdffafasf");
            httpPost.addHeader("Content-Disposition", "form-data; name= args");
            //httpPost.setHeader("Transfer-Encoding","chunked");
        } catch (UnsupportedEncodingException uee) {
            Log.e(TAG, uee.getMessage());
        }
        Log.e(TAG,"WebGetURL: " + postUrl);
        try {           
            response = httpClient.execute(httpPost);
        } catch (Exception e) {
            if (e.getMessage() != null) {
                Log.e(TAG, "httpClient.execute(httpPost) Exception: " + e.getMessage());
            } else {
                Log.e(TAG, "httpClient.execute(httpPost) Exception: " + e.getClass().toString());
            }
        }
        try {
            strResponse = EntityUtils.toString(response.getEntity());
        } catch (Exception e) {
            if (e.getMessage() != null) {
                Log.e(TAG, e.getMessage());
            } else {
                Log.e(TAG, e.getClass().toString());
            }
        }
        return strResponse;
    } 
```

有什么我做错了，或任何其他方法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T09:29:06.113

[http://loopj.com/android-async-http/](http://loopj.com/android-async-http/)使用它怎么样。你不必担心任何事情。它的重量很轻。

# javascript - 实时处理网络音频api

> ID：15678194
> 
> 赞同：3
> 
> 时间：2013-03-28T09:26:27.460
> 
> 标签：javascript, html5-canvas, html5-audio, web-audio-api

我正在使用网络音频 api 和 requestAnimationFrame 来可视化来自麦克风的音频输入。我可以成功地可视化时域频率数据，但问题是由于网络音频 api 以秒为单位计算时间，所以我的界面每秒都会根据输入的内容而变化。

所以我的问题是，我怎样才能可视化声音并使图表留在屏幕上，因此我可以在一定的时间内看到我的所有频率数据（假设我说话同时在画布上可视化只有 5 秒）。

我正在使用以下代码（取自[此处](http://webaudioapi.com/samples/)的示例）：

```
MicrophoneSample.prototype.visualize = function() {
  this.canvas.width = this.WIDTH;
  this.canvas.height = this.HEIGHT;
  var drawContext = this.canvas.getContext('2d');

  var times = new Uint8Array(this.analyser.frequencyBinCount);
  this.analyser.getByteTimeDomainData(times);
  for (var i = 0; i < times.length; i++) {
    var value = times[i];
    var percent = value / 256;
    var height = this.HEIGHT * percent;
    var offset = this.HEIGHT - height - 1;
    var barWidth = this.WIDTH/times.length;
    drawContext.fillStyle = 'purple';
    drawContext.fillRect(i * barWidth, offset, 1, 1);

  }
  requestAnimFrame(this.visualize.bind(this));

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-28T19:28:42.823

OP, here's some pseudo code. FYI, this really isn't a web audio question, more of an animation question.

Store a variable / field in your visualizer prototype function that keeps track of how many seconds you want to delay the redrawing of your canvas, keep a separate counter that will increment everytime requestAnimFrame(...) gets drawn. Once your counter reaches your delay amount, then redraw the canvas.

**Edit** Now that I think of it...the solution should be very simple. Correct me if I'm wrong, but this rough solution is assuming that you are calling MicrophoneSample.visualize() from within your animation loop...and therefore, the code therein executes every second. I could be of more help if you post your MicrophoneSample object code as well, or at least your animation loop.

```
/* NOTE!
*
*/
// Find a way to put these into your PARENT MicrophoneSample object
var delay = 5;
// Note that I am setting delayCount initially to zero - during the loop
// the delayCount will actually get reset to 1 from thereafter (not 0)...
// this gives us a way to initially draw your visualization on the first frame.
var delayCount = 0;

// Pull var times out so it doesn't get calculated each time.
var times = new Uint8Array(MicrophoneSample.analyser.frequencyBinCount);

// Same goes for the canvas...
// I would set these values inside of the PARENT MicrophoneSample object
MicrophoneSample.canvas.width = this.WIDTH;
MicrophoneSample.canvas.height = this.HEIGHT;

// you only need to establish the drawing context once. Do it in the PARENT
// MicrophoneSample object
var drawContext = this.canvas.getContext('2d');

MicrophoneSample.prototype.visualize = function() {

      /*
      *    NOTE!
      */
      // Here's the juicy meat & potatoes:
      // only if the delayCount reaches the delay amount, should you UPDATE THE
      // TIME DOMAIN DATA ARRAY (times)
      // if your loop runs every second, then delayCount increments each second
      // and after 5 seconds will reach your designated delay amount and update your
      // times array.

      if(delayCount == 0 || delayCount == delay) {
          this.analyser.getByteTimeDomainData(times);

          // Now, it would be redundant (and totally noob-programmer of you) to 
          // redraw the same visualization onto the canvas 5 times in a row, so
          // only draw the visualization after the first pass through the loop and then
          // every 5th pass after that :]
          for (var i = 0; i < times.length; i++) {
              var value = times[i];
              var percent = value / 256;
              var height = this.HEIGHT * percent;
              var offset = this.HEIGHT - height - 1;
              var barWidth = this.WIDTH/times.length;
              drawContext.fillStyle = 'purple';
              drawContext.fillRect(i * barWidth, offset, 1, 1);
          }

          // Note: 1, not 0!
          delayCount = 1;
      } 
      else {
          delayCount++;
      } 

      requestAnimFrame(this.visualize.bind(this));
} 
```

And just keep in mind that I haven't actually tested any of this. But it should at least point you in the right direction.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-28T09:46:09.650

getByteTimeDomainData 不会为您提供频率信息。这些是实时的时域波形值，也称为幅度值。如果您想随着时间的推移将它们可视化，请将其附加到数组中并绘制它。如果您想要实际频率值，请使用 getByteFrequencyData。

# android - 没有星期天的Android DatePicker

> ID：15678202
> 
> 赞同：3
> 
> 时间：2013-03-28T09:27:01.167
> 
> 标签：android, datepicker

我正在使用日期选择器来选择特定日期。日期选择器不应该允许选择星期天。直到现在我在选择后检测星期天并显示一条消息，但如果日期选择器不允许星期天会更好。有没有办法做到这一点？

检测星期天的代码：

```
 private static class DatePickerFragment extends DialogFragment implements DatePickerDialog.OnDateSetListener
 {

    @Override
    public Dialog onCreateDialog(Bundle savedInstanceState)
    {
     [...]
    }

    public void onDateSet(DatePicker view, int year, int month, int day)
    {
        Calendar now = Calendar.getInstance();
        Calendar choosen = Calendar.getInstance();
        choosen.set(year, month, day);
        if (now.compareTo(choosen) < 0)
        {
            UserMessage.showMessage("The choosen date is in future", "Invalid date", getActivity());
            return;
        } else if (choosen.get(Calendar.DAY_OF_WEEK) == Calendar.SUNDAY)
        {
            UserMessage.showMessage("The choosen date is on sunday!", "Invalid date",
                    getActivity());
            return;
        }
        [...]
    }
} 
```

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-07-18T12:53:16.113

我通过使用 datepicker 创建一个包含自定义 xml 布局的自定义对话框来解决这个要求。

我为每个人创建了以下示例，他们需要一个具有特殊需求的日期选择器对话框，例如没有星期天，没有更早的日期，可以选择特定日期：

创建自定义日期选择器：

```
public void showDatePicker() {
    final String dateFormatStr = "yyyyMMdd";
    final String dateSearchFormatStr = "yyyy-MM-dd";
    final String dateFormatStrGUI = "dd.MM.yyyy";
    final String dateFormatStrGUIDatepickerDialog = "EEEE, dd.MM.yyyy";
    final String minDateAvailable = "01.01.2005";
    // Initializiation
    LayoutInflater inflater = (LayoutInflater) getLayoutInflater();
    final AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(this);
    View customView = inflater.inflate(R.layout.activity_dateselect_dialog, null);
    dialogBuilder.setView(customView);
    final DatePicker datePicker = (DatePicker) customView.findViewById(R.id.activity_thumbnail_dateselect_dialog_datepicker);
    final TextView dateTextView = (TextView) customView.findViewById(R.id.activity_thumbnail_dateselect_dialog_dateview);
    final SimpleDateFormat dateTextViewFormatter = new SimpleDateFormat(Constants.dateFormatStrGUIDatepickerDialog, Locale.GERMANY);
    // Minimum date
    SimpleDateFormat formatter = new SimpleDateFormat(Constants.dateFormatStrGUI, Locale.GERMANY);
    Calendar minDate = Calendar.getInstance();
    try {
        minDate.setTime(formatter.parse(Constants.minDateAvailable));
    } catch (ParseException e) {
        e.printStackTrace();
    }
    datePicker.setMinDate(minDate.getTimeInMillis());
    // View settings
    dialogBuilder.setTitle("Choose date");
    Calendar choosenDate = Calendar.getInstance();
    int year = choosenDate.get(Calendar.YEAR);
    int month = choosenDate.get(Calendar.MONTH);
    int day = choosenDate.get(Calendar.DAY_OF_MONTH);
    try {
        Date choosenDateFromUI = formatter.parse(newspaperDatePickerButton.getText().toString());
        choosenDate.setTime(choosenDateFromUI);
        year = choosenDate.get(Calendar.YEAR);
        month = choosenDate.get(Calendar.MONTH);
        day = choosenDate.get(Calendar.DAY_OF_MONTH);
    } catch (Exception e) {
        e.printStackTrace();
    }
    Calendar dateToDisplay = Calendar.getInstance();
    dateToDisplay.set(year, month, day);
    dateTextView.setText(dateTextViewFormatter.format(dateToDisplay.getTime()));
    // Buttons
    dialogBuilder.setNegativeButton("today", new DialogInterface.OnClickListener() {
        @Override
        public void onClick(DialogInterface dialog, int which) {
            newspaperDatePickerButton.setText(R.string.date_latest_identifier);
            newspaperDate = getString(R.string.date_latest_identifier);
            controller.loadNewspaper(newspaperDate, model.getSubscriptions().get(newspaperEditionPosition), true);
            dialog.dismiss();
        }
    });
    dialogBuilder.setPositiveButton("Apply", new DialogInterface.OnClickListener() {
        @Override
        public void onClick(DialogInterface dialog, int which) {
            SimpleDateFormat formatter = new SimpleDateFormat(Constants.dateFormatStrGUI, Locale.GERMANY);
            Calendar now = Calendar.getInstance();
            Calendar choosen = Calendar.getInstance();
            choosen.set(datePicker.getYear(), datePicker.getMonth(), datePicker.getDayOfMonth());
            if (now.compareTo(choosen) == 0) {
                newspaperDate = getString(R.string.date_latest_identifier);
                newspaperDatePickerButton.setText(newspaperDate);
            } else {
                newspaperDate = formatter.format(choosen.getTime());
                newspaperDatePickerButton.setText(newspaperDate);
            }
            controller.loadNewspaper(newspaperDate, model.getSubscriptions().get(newspaperEditionPosition), false);
            dialog.dismiss();
        }
    });
    final AlertDialog dialog = dialogBuilder.create();
    // Datepicker
    datePicker.init(year, month, day, new DatePicker.OnDateChangedListener() {
        public void onDateChanged(DatePicker view, int year, int monthOfYear, int dayOfMonth) {
            Calendar choosenDate = Calendar.getInstance();
            choosenDate.set(year, monthOfYear, dayOfMonth);
            Calendar now = Calendar.getInstance();
            dateTextView.setText(dateTextViewFormatter.format(choosenDate.getTime()));
            if (choosenDate.get(Calendar.DAY_OF_WEEK) == Calendar.SUNDAY || now.compareTo(choosenDate) < 0) {
                dateTextView.setTextColor(Color.parseColor("#ff0000"));
                ((Button) dialog.getButton(AlertDialog.BUTTON_POSITIVE)).setEnabled(false);
            } else {
                dateTextView.setTextColor(Color.parseColor("#000000"));
                ((Button) dialog.getButton(AlertDialog.BUTTON_POSITIVE)).setEnabled(true);
            }
        }
    });
    // Finish
    dialog.show();
} 
```

布局

```
<TextView
        android:id="@+id/activity_thumbnail_dateselect_dialog_dateview"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:textAppearance="?android:attr/textAppearanceLarge"
        android:layout_margin="12dp"
        android:text=""
        android:layout_gravity="center"/>

<DatePicker
        android:id="@+id/activity_thumbnail_dateselect_dialog_datepicker"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_gravity="center"
        android:calendarViewShown="false"/> 
```

# java - ubuntu 上的 izpack 安装程序“未标记为可执行文件”

> ID：15678204
> 
> 赞同：1
> 
> 时间：2013-03-28T09:27:02.940
> 
> 标签：java, linux, ubuntu, installation, izpack

我创建了一个在 OS X 和 Windows 上运行良好的安装程序。在 Ubuntu 上，当尝试右键单击并使用 Java 启动时，我收到消息“文件 '/media/administrator/UNTITLED/installer.jar' 未标记为可执行文件”。

它在我设置可执行位后工作，但这不是我期望从安装程序获得的体验。

安装程序是在 OS X 上构建的，我还尝试通过 ant chmod 预设可执行位，但我认为出于安全原因，这在 Ubuntu 上丢失或被阻止？

有没有办法可靠地预设可执行位？如果没有，是否有其他工具可以创建可在 Ubuntu 上运行的可双击安装程序，而无需用户手动设置权限？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-07T09:51:07.747

似乎答案是“这是不可能的。你需要创建一个 .deb 包来获得所需的行为”。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-28T09:29:55.880

右键单击文件并转到属性，然后选择权限并选中“允许将文件作为程序执行”。

**编辑：** 或者，将 jdk/jre 设置为 .jar 类型的默认程序。（这是安装人员无法控制的一件事）

![在此处输入图像描述](../Images/329af56079898376ed832b64ac0843d6.png)

# css - Lightview3 - 固定图像位置（图像太低）

> ID：15678206
> 
> 赞同：0
> 
> 时间：2013-03-28T09:27:12.890
> 
> 标签：css, height, photo, image-gallery

我正在使用“ [lightview](http://projects.nickstakenburg.com/lightview) ”在我的网站上显示图像，问题是图像太低了，所以我只能看到不到 50% 的照片

我当我在css中将高度设置为对象时，图像较低

这是我的 CSS 代码：

```
/****HTML Tags****/

body {
    margin: 0;
    padding: 0;
    text-align: right;
    direction: rtl;
    font-family: Arial, Arial Hebrew, Helvetica, sans-serif;
}

::selection {
    background: #BFBFBF;
}

header {
    background-image: url('../g.png');
    position: relative;
    width: 100%;
    background-repeat: no-repeat;
}

h1 {
    font-family: Tahoma, Geneva, sans-serif;
    text-decoration: underline;
    color: #3852A4;
    padding-bottom: 20px;
    font-size: x-large;
}

/****General****/

.content {
    width: 900px;
    position: relative;
    padding: 0px;
    margin: 0 auto;
}

.main {
    padding-right: 15px;
    /* IE9 SVG, needs conditional override of 'filter' to 'none' */
    background: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIwJSIgeTI9IjEwMCUiPgogICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iI2U1ZTVlNSIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNmZmZmZmYiIHN0b3Atb3BhY2l0eT0iMCIvPgogIDwvbGluZWFyR3JhZGllbnQ+CiAgPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEiIGhlaWdodD0iMSIgZmlsbD0idXJsKCNncmFkLXVjZ2ctZ2VuZXJhdGVkKSIgLz4KPC9zdmc+);
    background: -moz-linear-gradient(top, rgba(229,229,229,1) 0%, rgba(255,255,255,0) 100%); /* FF3.6+ */
    background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,rgba(229,229,229,1)), color-stop(100%,rgba(255,255,255,0))); /* Chrome,Safari4+ */
    background: -webkit-linear-gradient(top, rgba(229,229,229,1) 0%,rgba(255,255,255,0) 100%); /* Chrome10+,Safari5.1+ */
    background: -o-linear-gradient(top, rgba(229,229,229,1) 0%,rgba(255,255,255,0) 100%); /* Opera 11.10+ */
    background: -ms-linear-gradient(top, rgba(229,229,229,1) 0%,rgba(255,255,255,0) 100%); /* IE10+ */
    background: linear-gradient(to bottom, rgba(229,229,229,1) 0%,rgba(255,255,255,0) 100%); /* W3C */
    filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#e5e5e5', endColorstr='#00ffffff',GradientType=0 ); /* IE6-8 */
    background-size: Auto 200px;
    background-repeat: repeat-x;
}

.details {
    padding-bottom: 15px;
}

    .details div {
        margin-top: 10px;
    }

#author {
    font-weight: bold;
    font-size: 16px;
}

#date {
    font-size: 14px;
    font-weight: bold;
}

/**Track Properties***/
#area {
    font-size: 14px;
}

.track {
    position: relative;
    padding: 0px;
    margin: 0 auto;
    width: 980px;
    width: 100%;
}

.trackdetails {
    position: relative;
    top: -51px;
    line-height: 25px;
    border-right: 2px solid #9e9e9e;
    padding-right: 25px;
    padding-bottom: 15px;
    font-size: 14px;
    margin: 0;
    left: 50px;
    width: 250px;
    float: left;
}

.title {
    color: #3852A4;
    font-size: large;
    text-decoration: underline;
    font-family: Tahoma, Geneva, sans-serif;
    margin-bottom: 20px;
}

.trackdetails #content {
    z-index: 1111;
}

#map-image {
    display: inline-block;
    padding-top:-50px;

}

#trackdescription {
    text-align: justify;
    max-width: 650px;
    width: 500px;
    float: right;
padding-bottom:100px;

} 
```

我怎样才能解决这个问题？

Qish寻求帮助..谢谢！ ***这是现场示例：*** [http: //lawb.co.il/test.html](http://lawb.co.il/test.html)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T09:32:36.470

尝试`top: 10% !important;`或`margin-top: -n;`n = 图像框高度 / 2 :P n 不是 css 属性 :)

# .net - 为 Protobuf-net.dll 动态反序列化结果

> ID：15678207
> 
> 赞同：1
> 
> 时间：2013-03-28T09:27:15.770
> 
> 标签：.net, serialization, silverlight-5.0, protobuf-net

我正在玩 C# protobuf 实现，我可能遇到了问题。我想动态反序列化结果。

```
public byte[] ManageRequest(string argument1, params FunctionalParameter[] argument2)
{
    var serverBase = new ServerBase();

    if (argument1 != null)
    {
        MethodInfo type = serverBase.GetType().GetMethod(argument1);
        ParameterInfo[] parameters = type.GetParameters();

        if (parameters.Length.Equals(argument2.Length))
        {
            var pars = new object[argument2.Length];

            for (int i = 0; i < parameters.Length; i++)
            {
                if (parameters[i].Name == argument2[i].ParameterNameField)
                {
                    using (Stream result = new MemoryStream(argument2[i].ParameterValueField))
                    {
                        pars[i] = Serializer.Deserialize<int>(result); // I want to deserialize the //result dynamically( not want to use int, we can pass result dynamically)
                    }
                }
            }

            if (pars.Length.Equals(argument2.Length))
            {
                return type.Invoke(serverBase, pars).ToProtoBuf();
            }
        }
    }

    return null;
} 
```

该方法有两个参数： 1\. `argument1`- MethodName 2\. `argument2`- s 数组`FunctionalParameter`（在这个类中，我们有两个成员： `string ParameterNameField`和`byte[] ParameterValueField`。）

我想动态反序列化结果，例如`Serializer.Deserialize<int>(result);`我已经将 int 传递给序列化，在这种情况下，我知道我们需要反序列化 int 类型的结果，但我想动态反序列化我已经序列化的结果。

使用`parameters[i].ParameterType.Name`代码我得到了类名（例如`System.Int32`，等等）和用户定义的数据类型，比如`Class1`，`Class2`等等。如果我`Serializer.Deserialize <parameters[i].GetType()> (result)`在这种情况下通过，我得到以下错误：

> 不能应用于“ ”和“ ”`operator '<'`类型的操作数`method group``System.Type`

`Protobuf.Serializer`是 protobuf-net.dll 中的一个类。在这个类中，`Serialize<T>(System.IO.Stream)`和`Deserialize<T>(System.IO.Stream)`是序列化和反序列化结果的两种方法。

我不明白这怎么可能！你能给我解释一下吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-28T11:34:10.317

`Serializer.Deserialize<T>(...)`API 是通用的。但是，有一个非通用 API...`Serializer.NonGeneric.Deserialize(...)`接受`Type`. 听起来您想使用后一个 API。

附带说明：在 v1.* 构建中，主要 API 是通用的；非通用 API 必须做一些额外的工作（并且有一些额外的开销）。在 v2.* 构建中，核心代码库是非通用的。通用 API 没有额外的开销，因为它可以使用`typeof(T)`等。

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2013-03-29T08:45:41.623

谢谢..使用它，我得到了我想要的结果......我写了一些动态反序列化结果的代码这是我的代码......

```
if (parameters[i].Name == argument2[i].ParameterNameField)
                {
                    using (Stream result = new MemoryStream(argument2[i].ParameterValueField))
                    {
                        pars[i] = Serializer.NonGeneric.Deserialize(parameters[i].ParameterType, result);
                    }
                } 
```

parameters[i].ParameterType - 获取参数的类型和反序列化相同。再次感谢。但我对您的回答感到困惑 **“作为旁注：在 v1.* 构建中，主要 API 是通用的；非通用 API 必须做一些额外的工作（并且有一些额外的开销）。在 v2\. * 构建，核心代码库是非通用的。”** 这段代码是否需要额外的开销？

# java - 使用 HttpURLConnection 使用 JSON 数据发出 PUT 请求不起作用

> ID：15678208
> 
> 赞同：10
> 
> 时间：2013-03-28T09:27:18.540
> 
> 标签：java, http, httpurlconnection

我正在尝试使用`HttpURLConnection`Java 中的 JSON 数据发出 PUT 请求。我这样做的方式行不通。我没有收到任何错误，所以我不知道问题是什么。

```
public static void main(String[] args) {

        URL url;
        try {
            url = new URL("http://fltspc.itu.dk/widget/515318fe17450f312b00153d/");
            HttpURLConnection hurl = (HttpURLConnection) url.openConnection();
            hurl.setRequestMethod("PUT");
            hurl.setDoOutput(true);
            hurl.setRequestProperty("Content-Type", "application/json");
            hurl.setRequestProperty("Accept", "application/json");

            String payload = "{'pos':{'left':45,'top':45}}";

            OutputStreamWriter osw = new OutputStreamWriter(hurl.getOutputStream());
            osw.write(payload);
            osw.flush();
            osw.close();
        } catch (MalformedURLException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        } catch (IOException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
    } 
```

这是我实际上试图提出的要求：

![Chrome 开发者工具截图](../Images/65be92f68416f1649663c2bb892088e3.png)

我已经在同一个应用程序中向资源发出 GET 请求，并且运行良好。我将非常感谢有关如何调试或如何尝试以其他方式进行调试的所有提示。到目前为止，我只尝试使用`OutputStream`而不是，`OutputStreamWriter`但它也不起作用。

* * *

## 回答 #1

> 赞同：31
> 
> 时间：2013-03-28T10:31:36.297

HttpURLConnection 的 Sun (Oracle) 实现会缓存您的帖子内容，除非您告诉它处于流模式。如果您开始与响应交互，则将发送内容，例如：

```
hurl.getResponseCode(); 
```

此外，根据 RFC 4627，您不能在 json 中使用单引号（尽管某些实现似乎并不在意）。

因此，将您的有效负载更改为：

```
String payload = "{\"pos\":{\"left\":45,\"top\":45}}"; 
```

这个例子对我有用

```
public class HttpPut {
    public static void main(String[] args) throws Exception {
        Random random = new Random();
        URL url = new URL("http://fltspc.itu.dk/widget/515318fe17450f312b00153d/");
        HttpURLConnection connection = (HttpURLConnection) url.openConnection();
        connection.setRequestMethod("PUT");
        connection.setDoOutput(true);
        connection.setRequestProperty("Content-Type", "application/json");
        connection.setRequestProperty("Accept", "application/json");
        OutputStreamWriter osw = new OutputStreamWriter(connection.getOutputStream());
        osw.write(String.format("{\"pos\":{\"left\":%1$d,\"top\":%2$d}}", random.nextInt(30), random.nextInt(20)));
        osw.flush();
        osw.close();
        System.err.println(connection.getResponseCode());
    }
} 
```

# asp.net - AjaxFileUpload 选择后自动上传文件

> ID：15678211
> 
> 赞同：6
> 
> 时间：2013-03-28T09:27:30.410
> 
> 标签：asp.net, ajaxcontroltoolkit

我有一个标准的 AjaxFileUpload 控件

```
<asp:AjaxFileUpload ID="upManager" CssClass="fileUpload" runat="server" OnUploadComplete="upManager_UploadComplete" /> 
```

而不是他们必须按上传，我只希望文件在他们选择文件后自动上传。有没有办法做到这一点？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-28T09:47:28.363

将此脚本的引用添加到控件`Scripts`集合`ToolkitScriptManager`或将其放在页面的最底部：

```
var legacyAddToQueue = Sys.Extended.UI.AjaxFileUpload.prototype._addToQueue;
Sys.Extended.UI.AjaxFileUpload.prototype._addToQueue = function(element){
    legacyAddToQueue.apply(this, [element]);
    this._doUpload();
} 
```

在此页面的控制台上运行良好：[AjaxFileUpload Demonstration](http://www.asp.net/ajaxLibrary/AjaxControlToolkitSampleSite/AjaxFileUpload/AjaxFileUpload.aspx)

此外，在我看来，应该更好地调整 ACT 源并`UploadAutomatically`为此控件添加新属性。让我知道您是否更喜欢此选项并需要有关如何与此类员工联系的更多详细信息

更新：为新的 AjaxFileUpload 尝试此脚本（必须适用于新旧版本，但尚未测试）

```
if (Sys.Extended.UI.AjaxFileUpload.prototype._addToQueue) {
    var legacyAddToQueue = Sys.Extended.UI.AjaxFileUpload.prototype._addToQueue;
    Sys.Extended.UI.AjaxFileUpload.prototype._addToQueue = function (element) {
        legacyAddToQueue.apply(this, [element]);
        this._doUpload();
    };
}else if(Sys.Extended.UI.AjaxFileUpload.Control){
    var legacyaddFileToQueue = Sys.Extended.UI.AjaxFileUpload.Control.prototype.addFileToQueue;
    Sys.Extended.UI.AjaxFileUpload.Control.prototype.addFileToQueue = function(fileItem){
        if(legacyaddFileToQueue.apply(this, [fileItem])){
            this._isUploading = true;
            this.enableControls(this._isUploading);
            this._processor.startUpload();
        }
    };
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-05-30T10:31:36.053

这适用于最新的控制工具包

```
<asp:AjaxFileUpload onchange="$('.ajax__fileupload_uploadbutton').trigger('click');" runat="server" /> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-05-30T12:53:33.707

你是对的。只需将其替换为

```
$(".ajax__fileupload").bind("change", function () { setTimeout(function () { $('.ajax__fileupload_uploadbutton').trigger('click'); }, 100); });
$(".ajax__fileupload_dropzone").bind("drop", function () { setTimeout(function () { $('.ajax__fileupload_uploadbutton').trigger('click'); }, 100); }); 
```

# c# - 枚举 2 向绑定与组合框

> ID：15678212
> 
> 赞同：0
> 
> 时间：2013-03-28T09:27:33.743
> 
> 标签：c#, wpf, data-binding

我正在尝试使用枚举对组合框进行简单的 2 向绑定，但到目前为止还没有找到任何适用于我的代码的东西。

**我的枚举（C#）：**

```
public enum CurrenciesEnum { USD, JPY, HKD, EUR, AUD, NZD }; 
```

**枚举应设置的属性 / 绑定到：**

```
 private string _ccy;
    public string Ccy
    {
        get
        {
            return this._ccy;
        }
        set
        {
            if (value != this._ccy)
            {
                this._ccy= value;
                NotifyPropertyChanged("Ccy");
            }
        }
    } 
```

**不起作用的 Xaml 代码：**

```
 <UserControl.Resources>
    <ResourceDictionary>
        <ResourceDictionary.MergedDictionaries>
        <ObjectDataProvider x:Key="Currencies" MethodName="GetValues" ObjectType="{x:Type System:Enum}">
                <ObjectDataProvider.MethodParameters>
                    <x:Type TypeName="ConfigManager:CurrenciesEnum" />
                </ObjectDataProvider.MethodParameters>
        </ObjectDataProvider>
    </ResourceDictionary>
</UserControl.Resources>

<ComboBox ItemsSource="{Binding Source={StaticResource Currencies}}" SelectedItem="{Binding Ccy, Mode=TwoWay}"/> 
```

预先感谢您的帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T10:30:44.110

那么问题是您将 a 绑定`Enum`到 a ，由于绑定引擎中`string`的默认操作，这只会以一种方式工作。`ToString`

如果您只使用`string`值将您的`ObjectDataProvider`方法名称更改为`GetNames`this 将为您返回字符串值`Enum`并将双向绑定，另一个选项是不绑定到字符串而是绑定`Enum`类型。

```
 <ObjectDataProvider x:Key="Currencies" MethodName="GetNames" ObjectType="{x:Type System:Enum}">
            <ObjectDataProvider.MethodParameters>
                <x:Type TypeName="ConfigManager:CurrenciesEnum" />
            </ObjectDataProvider.MethodParameters>
    </ObjectDataProvider> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T13:26:45.147

我将枚举加载到字典中

```
public static Dictionary<T, string> EnumToDictionary<T>()
        where T : struct
{
    Type enumType = typeof(T);

    // Can't use generic type constraints on value types,
    // so have to do check like this
    if (enumType.BaseType != typeof(Enum))
        throw new ArgumentException("T must be of type System.Enum");

    Dictionary<T, string> enumDL = new Dictionary<T, string>();
    //foreach (byte i in Enum.GetValues(enumType))
    //{
    //    enumDL.Add((T)Enum.ToObject(enumType, i), Enum.GetName(enumType, i));
    //}
    foreach (T val in Enum.GetValues(enumType))
    {
        enumDL.Add(val, val.ToString());
    }
    return enumDL;
} 
```

# matlab - Matlab：使用 sin（平方）的错误

> ID：15678222
> 
> 赞同：0
> 
> 时间：2013-03-28T09:27:48.457
> 
> 标签：matlab, trigonometry

```
theta = (0:0.01:2*pi)

r = sin.^2.*(theta) + cos.^2.*(theta) 
```

它返回给我这个错误；

> 错误使用罪。没有足够的输入参数。

我很困惑，我需要改变什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T09:30:27.197

我认为正弦平方可以通过以下任一方式完成：

```
sin(x).*sin(x) 
```

或者

```
sin(x).^2 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-28T09:30:48.447

`r = (sin(theta)).^2 + (cos(theta)).^2`

# nginx - Nginx 代理几个域到不同的端口

> ID：15678224
> 
> 赞同：2
> 
> 时间：2013-03-28T09:27:56.490
> 
> 标签：nginx, debian, virtualhost

我有一个 nginx 监听端口 80 的服务器，并且有多个域名的配置，应该代理到不同端口的连接。

这是我的配置文件：

**域1**

```
#This is for redirecting everyone from www.domain.com to domain.com
server {
    listen   80; ## listen for ipv4; this line is default and implied
    #listen   [::]:80 default_server ipv6only=on; ## listen for ipv6

    server_name www.domain1.com;

    return 301 $scheme://domain1.com$request_uri;
}

server {
        listen   80; ## listen for ipv4; this line is default and implied
        #listen   [::]:80 default_server ipv6only=on; ## listen for ipv6

        server_name domain1.com;

        location / {
                proxy_pass http://localhost:8081/;
                proxy_set_header  X-Real-IP  $remote_addr;
        }
} 
```

**域2**

```
#This is for redirecting everyone from www.domain.com to domain.com
server {
    listen   80; ## listen for ipv4; this line is default and implied
    #listen   [::]:80 default_server ipv6only=on; ## listen for ipv6

    server_name www.domain2.com;

    return 301 $scheme://domain2.com$request_uri;
}

server {
        listen   80; ## listen for ipv4; this line is default and implied
        #listen   [::]:80 default_server ipv6only=on; ## listen for ipv6

        server_name domain2.com;

        location / {
                proxy_pass http://localhost:8090/;
                proxy_set_header  X-Real-IP  $remote_addr;
        }
} 
```

**域3**

```
#This is for redirecting everyone from www.domain.com to domain.com
server {
    listen   80; ## listen for ipv4; this line is default and implied
    #listen   [::]:80 default_server ipv6only=on; ## listen for ipv6

    server_name www.domain3.com;

    return 301 $scheme://domain3.com$request_uri;
}

server {
        listen   80; ## listen for ipv4; this line is default and implied
        #listen   [::]:80 default_server ipv6only=on; ## listen for ipv6

        server_name domain3.com;

        location / {
                proxy_pass http://localhost:8091/;
                proxy_set_header  X-Real-IP  $remote_addr;
        }
} 
```

所有这些配置文件（像往常一样）位于`/etc/nginx/sites-available/`并符号链接到`/etc/nginx/sites-enabled/`

当我添加第一个文件时，一切都作为一种魅力，当我添加第二个文件时，它是相同的，在添加第三个文件后，当我尝试执行`service nginx reload`or`service nginx restart`或时，nginx 停止给我任何消息`service nginx start`。

它响应`service nginx stop`和`service nginx status`。显然这些功能有效，但这些先决条件中的其他功能没有响应并且不做任何事情。下面的输出只是从我的控制台复制粘贴。

```
# service nginx status
[ ok ] nginx is running.
# service nginx reload
# service nginx restart
# service nginx stop
[ ok ] Stopping nginx: nginx.
# service nginx start
# service nginx status
[FAIL] nginx is not running ... failed!
# 
```

如果我删除到第三个文件的符号链接，一切都会再次完美运行。

那么问题来了——我的设置有问题吗？还是我的逻辑？还是使用 nginx？

环境是：

```
- Debian Squeeze x64
- Nginx version 1.2.6 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T11:06:47.647

您遇到的症状表明您的 nginx 配置与第 3 个文件不正确，这就是重新加载失败的原因

的输出`nginx -t`应该告诉您配置中的问题所在。

# jquery - IE和GoogleChrome中运行时行为[jQuery $(selector).Append('something')]的区别

> ID：15678225
> 
> 赞同：1
> 
> 时间：2013-03-28T09:27:56.593
> 
> 标签：jquery, html

当我在 Chrome 中运行下面的代码时，当您在文本区域输入内容时，您可以使用`Ctrl+Z`. 在 IE 中，由于某种原因，你不能。如果我不挂钩`keyup`事件，你可以，但如果`keyup`事件挂钩如下，你不能。有谁知道为什么不，我是否可以做任何事情？

```
<html>
    <head>
        <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
        <script>
            jQuery(function(){
                jQuery("#hoge").bind("keyup", function(){
                    jQuery("#fuga").append("fugaA!!");
                });
            });
        </script>
    </head>
    <body>
        <textarea id="hoge"></textarea>
        <div id="fuga"></div>
    </body>
</html> 
```

*   [JSBin 与事件挂钩](http://jsbin.com/unawus/1)

*   [*没有*连接事件的JSBin](http://jsbin.com/unawus/2)`Ctrl+Z` （所以如果没有处理程序，你可以看到它在 IE 上工作`keyup`）

# java - Java 3d 和纹理映射

> ID：15678230
> 
> 赞同：2
> 
> 时间：2013-03-28T09:28:17.427
> 
> 标签：java, textures, java-3d

我正在尝试将 3D 场景加载到 java3D 中。我尝试以多种格式（Obj、wrl、3ds、x3d）加载我在 Cinema 4D 中创建的场景，但到目前为止我还无法用它传输我的纹理。到目前为止，最有希望的是 vrml，因为至少要集成一个纹理。所有其他格式不支持纹理或至少不加载它们。

有没有办法创建具有多种材质和纹理的 3D 场景，并以我可以立即在 java3d 中加载它们的方式导出它们？是否支持这种格式？（现在我将 vrml 的纹理问题归咎于 c4d 的糟糕导出）

这一般是怎么做的？我必须在 java 代码中手动应用我的纹理吗？这对我来说似乎有点奇怪，我只能将一个纹理应用于整个 loded 对象，因为 java3d 似乎将我场景中的所有内容都作为一个形状处理。我是否必须分别加载场景中的每个对象并通过代码“重建”整个场景？

对此的任何想法或减轻痛苦的框架的链接表示赞赏！

干杯，科莱戈特

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-29T09:32:18.803

您使用的是哪个进口商或装载机？

您是否尝试过 InteractiveMesh 的 X3D 文件的免费 XModelImporter：[http](http://www.java.net/node/706300) ://www.java.net/node/706300 。您能否制作一个可供下载的测试 C4D 导出（obj 和/或 x3d）包含纹理，以便我检查它？InteractiveMesh 将很快发布一个新的 Java 3D OBJ 导入器。

八月

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-29T18:14:39.217

ObjectFile-Loader 能够加载纹理。检查相应的 '.mtl' 文件中的标记 'map_Kd'，它提供了（漫反射）纹理图像的路径。这些路径必须相对于“.obj”文件的位置。支持的图像格式有：bmp、gif、jpg、png。

试试以下转换工具：

*   AccuTrans 3D [http://www.micromouse.ca/](http://www.micromouse.ca/)，试用期 30 天
*   MeshLab [http://meshlab.sourceforge.net/](http://meshlab.sourceforge.net/)

如果路径是相对且正确的，还要检查导出的“.x3d”文件中的 XML 元素。

否则请等待计划在下周发布的 InteractiveMesh 的 ObjShapeImporterJ3D。或者，如果可能，请提供下载链接或将所有文件（obj、mtl、3ds 和纹理）发送到 info [at] interactivemesh [dot] com。作为复活节礼物，我会尝试找出问题并将文件转换为 x3d。

八月

# spring - Bean 定义选项

> ID：15678232
> 
> 赞同：0
> 
> 时间：2013-03-28T09:28:22.610
> 
> 标签：spring, jakarta-ee

只是一个与在 Spring 和 Java EE 中定义 bean 相关的快速问题。在 Spring 中，我可以使用注释、xml 和配置类来定义 bean。

到目前为止，我在 Java EE 中发现的唯一选择是使用注释。还有其他我不知道的在 Java EE 中定义 bean 的方法吗？

提前致谢

# hadoop - HDFS如何计算可用块？

> ID：15678235
> 
> 赞同：4
> 
> 时间：2013-03-28T09:28:26.453
> 
> 标签：hadoop, hdfs

假设块大小为 128MB，则集群有 10GB（大约 80 个可用块）。假设我创建了 10 个小文件，它们在磁盘上总共占用 128MB（块文件、校验和、复制......）和 10 个 HDFS 块。如果我想向HDFS添加另一个小文件，那么HDFS使用什么，使用的块或实际的磁盘使用量来计算可用块？

80 个块 - 10 个块 = 70 个可用块或 (10 GB - 128 MB)/128 MB = 79 个可用块？

谢谢。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-28T11:03:29.920

块大小只是 HDFS 如何在集群中拆分和分发文件的指示 - HDFS 中没有物理保留的块数量（如果您愿意，可以更改每个单独文件的块大小）

对于您的示例，您还需要考虑复制因子和校验和文件，但本质上添加大量小文件（小于块大小）并不意味着您浪费了“可用块”——它们占用了尽可能多的空间正如他们需要的那样（您需要再次记住，复制会增加存储文件所需的物理数据占用空间）并且“可用块”的数量将更接近您的第二次计算。

最后一点 - 有很多小文件意味着您的名称节点将需要更多内存来跟踪它们（块大小，位置等），并且处理 128x1MB 文件的效率通常低于单个 128MB 文件（尽管这取决于你如何'重新处理）

# java - Junit4 测试套件 - 从测试套件动态循环和添加测试用例

> ID：15678236
> 
> 赞同：2
> 
> 时间：2013-03-28T09:28:31.710
> 
> 标签：java, junit, junit4, testcase

我有一个包含许多模型的 XML 文件。我在 Test Suite 中解析这个 XML 文件并读取每个模型。对于每个模型，我想执行特定的测试用例列表。

这意味着，在测试套件的 FOR 循环中，我必须动态添加测试用例。

* * *

```
public static TestSuite suite() {
TestSuite suite = new TestSuite();
for(condtion){
    if(model1){
         suite.addTest(new JUnit4TestAdapter(TestCase1.class));
         suite.addTest(new JUnit4TestAdapter(TestCase2.class));
     }
     elseif(model2){
         suite.addTest(new JUnit4TestAdapter(TestCase3.class));
         suite.addTest(new JUnit4TestAdapter(TestCase4.class));
     }
  }
return suite;
} 
```

* * *

但在这种情况下，只运行 XML 中最后一个模型的测试用例。它不是动态添加测试用例并为所有模型运​​行它。

然后我尝试了

JUnitCore.runClasses(TestScoopixModelLoader.class);

在 for 循环内。在这种情况下，测试用例是动态运行的。但是我在eclipse中没有得到那种视觉效果。（即成功的绿色条，失败的红色条）。此视觉效果不适用于 Junit TEST RUNNER CLASS

如果有人遇到过此类问题，请建议我一个解决方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-29T09:59:57.573

添加您自己的侦听器并让它打印结果（在文本文件、sysout 等中）

```
JUnitCore jCore = new JUnitCore();
jCore.addListener(new CustomListener()) 
JUnitCore.runClasses(TestScoopixModelLoader.class);

 public class CustomListener extends RunListener {
    public void testFailure(Failure failure) {
       System.out.println(failure);
    }

// Rest of the listener methods

 } 
```

监听器 API：http: [//junit.sourceforge.net/javadoc/org/junit/runner/notification/RunListener.html](http://junit.sourceforge.net/javadoc/org/junit/runner/notification/RunListener.html)

# python - 从python中的路径获取选定的文本

> ID：15678237
> 
> 赞同：1
> 
> 时间：2013-03-28T09:28:35.800
> 
> 标签：python

我的变量有这样的名字：

```
var1 = '/home/name/file.txt' 
```

如何在变量中获取文件名？

我需要这样的变量：

```
var1 = 'file.txt' 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-28T09:29:36.177

```
>>> import os
>>> os.path.basename('/home/name/file.txt')
'file.txt' 
```

# c++ - 获取和接收数据的最快方式

> ID：15678238
> 
> 赞同：-2
> 
> 时间：2013-03-28T09:28:36.467
> 
> 标签：c++, performance, data-structures

我计划实施一个系统，每个数据都附加了数据和权重，附加到数据的权重将随着时间的推移而增加/减少。我将根据节点的权重对数据进行排序。

我只是想知道哪种方法是存储数据的最快方式，以便访问时间最短。我不想使用数据库。

我将使用 c++ 作为 Unix 系统上的编程语言。

我在这里先向您的帮助表示感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T09:36:06.980

根据您希望如何对数据进行排序，使用[最小堆或最大堆。](http://en.wikipedia.org/wiki/Min-max_heap)根据分配给数据的权重构建堆。

# c# - C# - 将字符串设置为 EnumValue

> ID：15678240
> 
> 赞同：0
> 
> 时间：2013-03-28T09:28:44.617
> 
> 标签：c#, winforms, casting, toolstripdropdown

我有`ToolStripMenu`几个`ToolStripDropDownButtons`。那些 dropDownButtons`ToolStripMenuItems`本身就有（子按钮）。我需要设置可见性权限，问题是用户可能仅对某些 tsMenuItems 具有权限，或者可能会因为查看某个 dropDownButton 中的所有项目而被忽略，那么整个`ToolStripDropDownButtons`应该设置为`Visible = false`.

可见性的权限是在这样的公共中设置的`Enum`：

```
[EnumValue("Clients")]
Clients = 1,

[EnumValue("Materials")]
Materials = 2,

[EnumValue("Uppers")] 
```

等等...

我开始编写一个方法，但它所基于的逻辑是每个`ToolStripItem`方法都像`EnumValue`. 所以我需要（如果可能的话）以某种方式做到这一点：

```
private void SetToolStripDropDownVisibility(ToolStripDropDown mainBtn, params ToolStripItem[] item)
        { 
            foreach (ToolStripItem tempItem in item)
            {
                EnumValue eValue = tempItem.Text;
                if (Helpers.GrantActivity(ControlEnum.eValue, ActionEnum.ShowMenuItem))
            }
        } 
```

*   首先，如果可能的话，使用`tempItem.Text`as`EnumValue`我在这里尝试过的，但显然需要一些强制转换或其他 -`EnumValue eValue = tempItem.Text;`并使用正确的参数调用辅助方法 -`ControlEnum.eValue`在我看来，这仍然取决于我是否可以使用`tempItem.Text`as `EnumValue`。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T09:50:43.173

> 我有字符串（来自 tempItem.Text）我需要将它用作 EnumValue *（来自评论）*

您可以使用[Enum.Parse](http://msdn.microsoft.com/en-us/library/essfb559.aspx)或[`Enum.TryParse<TEnum>`](http://msdn.microsoft.com/en-us/library/dd991317.aspx)类似的方法：

```
EnumValue enumValue;
if (Enum.TryParse<EnumValue>("Materials", out enumValue))
{
    //parsing successful
}
else
{
    //parisng failed. 
} 
```

输出：

```
enumValue = Materials 
```

如果您的枚举定义为：

```
public enum EnumValue
{
    Clients = 1,
    Materials = 2,
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T09:53:22.567

试试这个，我在几个月前做的一个项目中有类似的东西，它对我有用。

```
EnumValue enm = (EnumValue)Enum.Parse(typeof(EnumValue), tempItem.Text); 
```

# box2d - Box2D 和 SneakyInput 碰撞检测

> ID：15678253
> 
> 赞同：1
> 
> 时间：2013-03-28T09:29:13.817
> 
> 标签：box2d, collision-detection, joystick

我正在创建一个游戏，其中有一个球，还有一些矩形，因为它们是桌子。

嗯，它与 Box2d 一起工作，所以我可以用我的 SneakyInput 操纵杆自由移动球，这是我的问题：

我有一个“桌子”和我的球，由 LevelHelper 和 SpriteHelper 制成。一切似乎都在这里正常工作。我的球是动态的，我的桌子是运动的（也尝试过静态的）。我的世界没有重力。

好吧，当我移动球时，它会与桌子碰撞一秒钟，并且在那一秒钟内无法通过它。在那之后，它确实如此。

我尝试了 Cocos2D HelloWorld 文件附带的盒子，我的球也是如此，与它们碰撞一秒钟左右，然后我可以穿过它们，它不会再次碰撞。

你有什么想法？

这里有一些代码：

```
{
-(id) init
{
    if( (self=[super init])) {

        self.isTouchEnabled = YES;

        // init physics

       b2Vec2 gravity = b2Vec2(0,0);
        world = new b2World(gravity);

        //load from level

       loader = [[LevelHelperLoader alloc] initWithContentOfFile:@"Level1"];

       [loader addObjectsToWorld:world cocos2dLayer:self];

        [self schedule: @selector(tick:) interval:1.0f/60.0f];

        [self draw];

        [self initJoystick];

     //This load some example sprites for collisions

        // Use batch node. Faster
        CCSpriteBatchNode *parent = [CCSpriteBatchNode batchNodeWithFile:@"blocks.png" capacity:100];
        spriteTexture_ = [parent texture];

        // doesn't use batch node. Slower
        spriteTexture_ = [[CCTextureCache sharedTextureCache] addImage:@"blocks.png"];
        CCNode *parent = [CCNode node];

        [self addChild:parent z:0 tag:kTagParentNode];

        [self scheduleUpdate];

    }
    return self;
}

 -(void) tick: (ccTime) dt{
//scaled velocity for joystick
    CGPoint scaledVelocity = ccpMult(joystick.velocity, 120);

    world->Step(dt, 10, 10);

    for (b2Body* b = world->GetBodyList();b; b=b->GetNext()){
        CCSprite *myActor = (CCSprite*)b->GetUserData();

        if (b->GetUserData() != NULL){

            if (b->GetType() == b2_dynamicBody && myActor == [loader spriteWithUniqueName:@"prota"]){

               b->SetTransform(b2Vec2(b->GetPosition().x+scaledVelocity.x*dt/PTM_RATIO,b->GetPosition().y+scaledVelocity.y*dt/PTM_RATIO), 0);

                //move sprite to body position
                myActor.position = ccp(b->GetPosition().x * PTM_RATIO,
                                    b->GetPosition().y * PTM_RATIO);

            }

        }
    }

} 
```

提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T13:26:32.897

问题在于像您一样手动设置身体的转变。仅设置速度：

```
b->SetVelocity(b2Vec2(scaledVelocity.x*dt/PTM_RATIO, scaledVelocity.y*dt/PTM_RATIO)); 
```

世界步法通过使用每个物体的物理属性（它们之间的速度）来计算每个物体的目的地，我相信手动设置位置会干扰这些计算

# r - ggplot 如果它在 for 循环内则不起作用，尽管它在它之外工作

> ID：15678261
> 
> 赞同：155
> 
> 时间：2013-03-28T09:29:44.580
> 
> 标签：r, for-loop, ggplot2

我正在使用一个简单的 ggplot 函数，即使迭代值不干扰 ggplot 函数，该函数在循环外也能正常工作，但在循环内不能正常工作。为什么会这样？

这是我的代码

```
x=1:7
y=1:7
df = data.frame(x=x,y=y)
ggplot(df,aes(x,y))+geom_point() 
```

有用 ！但是如果 ggplot 在 for 循环内...

```
for (i in 1:5) {
   ggplot(df,aes(x,y))+geom_point()
} 
```

它不再起作用了，我错过了什么？

* * *

## 回答 #1

> 赞同：268
> 
> 时间：2013-03-28T09:46:56.897

在`for`循环中时，您必须显式显示`print` 生成的`ggplot`对象：

```
for (i in 1:5) { 
    print(ggplot(df,aes(x,y))+geom_point()) 
} 
```

# regex - 在 SQL 语句中用点替换逗号的正则表达式

> ID：15678262
> 
> 赞同：0
> 
> 时间：2013-03-28T09:29:48.427
> 
> 标签：regex

我正在从 Oracle 迁移到 PostGreSQL。我发现的一个问题是我需要用“。”替换“，”。对于数值。

例如

```
Insert into DAILY_DATA_READING (READING_ID,MG_ID,DAILY_READING_DATE,ACQUISITION_DATE,PUBLISHED,PUBLISHING_DATE,POD_ID,VB_DAILY,VM_DAILY,VB_TOT,VM_TOT,VM_TOT_AL,CONV_QMAX_FLOW_RATE,GATH_CONV_QMAX_FLOW_RATE_DATE,RECORD_VALIDITY,PARTITION_INDEX) 
values ('1028','99990000000010001',to_timestamp('16-OCT-12 06:00:00,000000000','DD-MON-RR HH24:MI:SS,FF'),to_timestamp('16-OCT-12 08:27:10,704000000','DD-MON-RR HH24:MI:SS,FF'),null,null,'99990000000010','13','48','93','234','35',
'101,4000015258789',to_timestamp('15-OCT-12 12:20:00,000000000','DD-MON-RR HH24:MI:SS,FF'),'S','10'); 
```

在此示例中，我必须将**101,4000015258789**替换为**101.4000015258789**。我尝试了一个简单的文本扫描，它搜索“，”，后跟 8 位数字并将其替换为“。” 但我也结束了替换时间戳列。
是否可以构建一个正则表达式来替换 INSERT 语句中包含的第 14 个字段？
非常感谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T09:44:39.310

如果您有权访问 sed，那么您可以执行以下操作：

```
sed -r "s/('[0-9]+),([0-9]{8,}')/\1.\2/g" file.sql 
```

或在 Mac 上：

```
sed -E "s/('[0-9]+),([0-9]{8,}')/\1.\2/g" file.sql 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T10:02:08.527

在您的 SQL 中，替换

```
('[0-9]*),([0-9]+') 
```

和

```
$1.$2 
```

***或***（取决于您使用的程序）

```
\1.\2 
```

# php - 在 MySQL 表中存储数组

> ID：15678263
> 
> 赞同：0
> 
> 时间：2013-03-28T09:29:51.237
> 
> 标签：php, mysql, arrays, multidimensional-array

我有一个 5 级多维数组。数组中键的数量会波动，但我需要将其存储在数据库中，以便稍后使用 PHP 访问它。有没有简单的方法可以做到这一点？

我的想法是使用几个不同的分隔符将数组转换为单个字符串`#*`，`%*`然后在需要时使用一系列 explode() 将数据转换回数组。

此时我还没有编写任何代码，因为我希望有更好的方法来做到这一点。但我确实有一个潜在的解决方案，我试图在下面概述：

这是我的阵列的概述：

```
n=button number
i=item number
btn[n][0]               = button name
btn[n][1]               = button desc
btn[n][2]               = success or not (Y or N)
btn[n][3]               = array containing item info
    btn[n][3][i][0]     = item intput type (Default/Preset/UserTxt/UserDD)
    btn[n][3][i][1]     = array containing item value - if more than one index then display as drop down 
```

这是我将要使用的分隔符的一个破败：

```
#*Button Title                      //button title
    &*val1=*usr1234                 //items and values
    &*val2=*FROM_USER(_TEXT_$*name:)        //if an items value contains "FROM_USER" then extract the data between the perenthesis
    &*val3=*FROM_USER(_TEXT_$*Time:)        //if the datatype contains _TEXT_ then explode AGAIN by $* and just display a textfield with the title
    &*val4=*FROM_USER($*name1@*value1$*name2@*value2)       //else explode AGAIN by $* for a list of name value pairs which represent a drop box - name2@*value2

//sample string - a single button
#*Button Title%*val1=*usr1234&*val2=*FROM_USER(_TEXT_$*name:)&*val3=*FROM_USER(_TEXT_$*date:)&*val4=*FROM_USER($*name1@*value1$*name2@*value2) 
```

总之，我正在寻找一些关于如何将多维数组存储在单个数据库表中的想法。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-28T09:33:50.503

看看[serialize](http://php.net/serialize)或[json_encode](http://php.net/json_encode)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-28T09:34:48.640

你想要的是一种[*数据序列化*](http://en.wikipedia.org/wiki/Serialization)方法。不要自己发明，那里已经有很多了。最明显的候选者是 JSON( [`json_encode`](http://php.net/json_encode)) 或特定于 PHP 的[`serialize`](http://php.net/serialize). XML 也是一种选择，特别是如果您的数据库可能在某种程度上原生支持它。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-28T10:12:15.793

对您来说最好的决定是[json_encode](http://php.net/json_encode)。

除了序列化存储在数据库中之外，它对于 json_encode 有一些优点。

1.  采取更小的尺寸
2.  如果您必须在 db 中手动修改数据，则序列化会出现一些问题，因为此格式存储已序列化的值的大小，并且修改此值您必须计算并修改此参数。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-28T12:31:55.720

SQL（无论是 mySQL 还是任何其他变体）不支持数组数据类型。

您应该在 SQL 中处理此类数据的方式是将其存储在多个表中。

因此，在此示例中，您将拥有一个包含`buttonID`、`buttonName`、`buttonSuccess`等字段的表，以及另一个包含`buttonInputType`和`buttonInputValue`字段的表，并`buttonID`链接回父表。

那将是推荐的“关系”做事方式。这样做的意义在于，当时间到来时，可以更轻松地将数据从数据库中查询出来。

不过还有其他选择。

一种选择是使用 mySQL 的`enum`功能。由于您有一组可用于输入类型的固定值，因此您可以为其使用一个`enum`字段，这样您就无需为此准备一个额外的表。

当然，另一种选择是其他人所建议的，只需使用`json_encode()`或类似方法对数据进行序列化，并将其全部存储在一个大文本字段中。

如果数据将被用作一个简单的数据块，而无需运行查询来检查其中的一部分，那么这有时可能是最简单的解决方案。这不是数据库专家想要看到的，但从实用的角度来看，如果它完成了工作，那么请随意使用它。

但是，重要的是要了解这些限制。通过使用序列化解决方案，您基本上是在说“这些数据根本不需要以任何方式管理，所以我不会为它做适当的数据库设计而烦恼。”。这很好，只要您不需要管理它或在其中搜索值。如果你这样做了，你需要更加努力地思考你的数据库设计，并小心选择“简单”的选项。

# jquery - 根据从下拉列表中选择的选项禁用 jquery datepicker 中的日期

> ID：15678269
> 
> 赞同：2
> 
> 时间：2013-03-28T09:30:08.100
> 
> 标签：jquery, jquery-ui-datepicker

我有两个日期选择器显示开始日期和结束日期。有一个带有选项的选择框：

```
|daily|
|weekly|
|monthly|
|yearly| 
```

假设选择的选项是每周，并且在 startdate 中选择的日期是 2013-03-28 即；周四。然后我需要在结束日期中禁用除星期四以外的日历中的所有其他日子。同样，如果选择了月份并且 startdate 是 2013-03-28，那么我想在 enddate 中禁用除每月 28 日以外的所有日期。我怎样才能做到这一点。

**脚本**

```
 $( "#startdate" ).datepicker({
        showButtonPanel: true,
        dateFormat: 'yy-mm-dd',
        minDate: 0,
        changeYear: true,
        changeMonth: true,
        numberOfMonths: 1,
        onClose: function( selectedDate ) {
            $( "#enddate" ).datepicker( "option", "minDate", selectedDate );
        }
    });

 $( "#enddate" ).datepicker({
                showButtonPanel: true,
                dateFormat: 'yy-mm-dd',
                minDate: 0,
                changeYear: true,
                changeMonth: true,
                numberOfMonths: 1,
                onClose: function( selectedDate ) {
                    $( "#startdate" ).datepicker( "option", "maxDate", selectedDate );
                }
            }); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T09:34:06.027

你可以这样实现它：

```
$(function() {
    var period = 'weekly';
    var filterDate = function(date) {
        var today = new Date();
        if (period == 'weekly') {
            if (today.getUTCDay() != date.getUTCDay()) {
                return [false, "", ""];                
            }
        } else if (period == 'monthly') {
            if (today.getDate() != date.getDate()) {
                return [false, "", ""];                
            }            
        }
        return [true,"",""];
    };

    $("#period").change(function() {
        period = $(this).val();
    });    
    ...
    $( "#enddate" ).datepicker({
        ...
        beforeShowDay: filterDate
    });
}); 
```

这是现场演示：http: [//jsfiddle.net/netme/8GYsx/](http://jsfiddle.net/netme/8GYsx/)

# c# - c# windows phone 8 如何为按钮添加样式

> ID：15678270
> 
> 赞同：0
> 
> 时间：2013-03-28T09:30:08.583
> 
> 标签：c#, xaml, windows-phone-8

如何将 app.xaml 中的样式设置为 c# 中的按钮？

**app.xaml 中有一种按钮样式，我想在 c# 中的按钮中使用它。**

这是我的按钮代码。

```
 Button deleteButton = new Button();
 deleteButton.Background = new ImageBrush
                                        {
                                            ImageSource ="Delete2.png"
                                        };
 deleteButton.Height = 70;
 deleteButton.Width = 70;
 deleteButton.HorizontalAlignment = HorizontalAlignment.Left;
 deleteButton.VerticalAlignment = VerticalAlignment.Bottom;
 deleteButton.Margin = new Thickness(0,10,0,-5);
 deleteButton.BorderBrush = null;
 deleteButton.Visibility = Visibility.Collapsed;
 deleteButton.Click += new RoutedEventHandler(ItemDeleteButton_Click);
 deleteButton.Tag = tag;
 deleteButton.Style = ????????????????? 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-28T09:48:48.657

试试这个代码

```
deleteButton.Style =  App.Current.Resources["StyleKey"] as Style; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T09:38:48.747

您可以使用`FindResource`或`TryFindResource`。

[资源和代码 - MSDN](http://msdn.microsoft.com/en-gb/library/ms752326.aspx)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-28T09:49:13.797

我解决了

```
deleteButton.Style = App.Current.Resources["ButtonStyle"] as Style; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-28T09:53:10.150

您`Style`可能在`ResourceDictionary`应用程序的其他地方定义。您可以使用以下`FindResource`方法检索它：

```
deleteButton.Style = (Style)this.FindResource("MyCustomButtonStyle"); 
```

# c++ - 如何将 GSL 与 C++11 和新的 STL 一起使用？

> ID：15678275
> 
> 赞同：2
> 
> 时间：2013-03-28T09:30:37.227
> 
> 标签：c++, xcode, c++11, gsl

我正在建立一个新的 C++ 项目（在 Xcode 4.6 中），我非常想使用新的 C++11 标准的特性（lambda 表达式、自动等）。我正在尝试（静态地）将 Gnu 科学图书馆（GSL）链接到这个项目中，使用 Darson 对上一个问题的[回答](https://stackoverflow.com/questions/11127824/xcode-4-3-3-cant-find-any-header-files)。但是，他的回答建议将编译器更改为不支持新 C++11 功能的 LLVM GCC 4.2。

当我更改为默认的 Apple LLVM 编译器 4.2 时，构建失败，我得到一长串错误，Xcode 可以追溯到新的“libc++”STL 标头中的语义问题（未声明的标识符、未知类型名称等）。

所以我的问题是：**有没有人找到在新的 C++11 标准中使用 GSL 的方法？**它不一定必须在 Xcode 中，我很乐意使用任何 (UNIX) IDE 或构建环境。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T12:01:49.520

我已经能够解决我自己的问题，我想我会与那些可能也在为此苦苦挣扎的人分享它。

就像我怀疑的那样，出现问题是因为我的 GSL 安装（来自 macports）是针对“旧”STL（libstdc++）构建的。因此，我的解决方案是针对“新”STL (libc++) 重新编译 GSL。这很容易通过解压源代码并运行来完成

```
./configure CC=clang CFLAGS="-stdlib=libc++" LDFLAGS="-stdlib=libc++" 
```

我还添加`--disable-shared`了仅构建静态库，并`--prefix=...`设置构建路径。然后剩下的就是运行`make`和`make install`。

# iphone - UIImagepickercontroller-视频超过10分钟的问题-IOS

> ID：15678279
> 
> 赞同：0
> 
> 时间：2013-03-28T09:30:50.777
> 
> 标签：iphone, ios, objective-c, cocoa-touch

如果视频少于 10 分钟，它可以正常工作，如果视频超过 10 分钟，它显示 tempFilePath 为空。这是代码： -

```
NSString *mediaType = [info objectForKey: UIImagePickerControllerMediaType];
NSURL *selectedVideoUrl;

if (CFStringCompare ((__bridge CFStringRef) mediaType, kUTTypeMovie, 0) == kCFCompareEqualTo) {

    tempFilePath = [[info objectForKey:UIImagePickerControllerMediaURL] path];
    selectedVideoUrl = [info objectForKey:UIImagePickerControllerMediaURL];
}

NSLog(@"tempFilePath %@",tempFilePath); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T12:00:32.883

也许这会有所帮助：来自[UIImagePickerController 类参考](http://developer.apple.com/library/ios/#documentation/uikit/reference/UIImagePickerController_Class/UIImagePickerController/UIImagePickerController.html)：

> 电影捕捉的默认持续时间限制为 10 分钟，但可以使用[videoMaximumDuration](http://developer.apple.com/library/ios/documentation/uikit/reference/UIImagePickerController_Class/UIImagePickerController/UIImagePickerController.html#//apple_ref/occ/instp/UIImagePickerController/videoMaximumDuration)属性进行调整。

# android - 在android的listview中获取所选项目的空间内容

> ID：15678281
> 
> 赞同：0
> 
> 时间：2013-03-28T09:31:01.060
> 
> 标签：android, android-listview

我是 android 编程新手，列表视图有问题在我的应用程序中，我必须从数据库（名称、ID、年份）中读取数据，然后在该用户必须选择其中一个项目并在新的活动再次我从数据库中读取数据并在此时根据用户的选择Ol列出一些其他项目在我的第一个活动中，我读取数据并将它们添加到listview..要选择我必须定义一个监听器..对吗？我像这段代码一样定义它

```
enter code here @Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_read_book);

    String SDcardPath = Environment.getExternalStorageDirectory().getPath();
    String DbPath = SDcardPath + "/Tosca/" + "persian_poem.db";
    ListView list = (ListView) findViewById(R.id.list_poet_name);

    try {
        db = SQLiteDatabase.openDatabase(DbPath,null,SQLiteDatabase.CREATE_IF_NECESSARY);
        getData();
        db.close();

    }
    catch (SQLiteException e) {
        Toast.makeText(this, e.getMessage(), 1).show();
    }

    list.setOnItemClickListener(new OnItemClickListener() {

        @Override
        public void onItemClick(AdapterView<?> parent, View v, int position,
                long id) {
            // TODO Auto-generated method stub
            ListView list = (ListView) findViewById(R.id.list_poet_name);
            Log.i(TAG, "Listview get Item Pos");
            Peot_ID.putString ("Peot_ID", (String) list.getItemAtPosition(position));
            Intent Book_list_intent = new Intent (Read.this,Book_list.class);
            Book_list_intent.putExtras(Peot_ID);
            startActivity(Book_list_intent);
        }

    });

}
private void getData() {

        try {
        //txtMsg.append("\n");
        // obtain a list of from DB
            String TABLE_NAME = "classicpoems__poet_contents";
            String COLUMN_ID = "poet_id";
            String _ID = "_id";
            String COLUMN_NAME = "poet_name";
            String COLUMN_CENTURY = "century_start";
            String [] columns ={_ID,COLUMN_ID,COLUMN_NAME,COLUMN_CENTURY};

        Cursor c = db.query(TABLE_NAME,columns,null, null, null, null, COLUMN_ID);

        SimpleCursorAdapter adapter = new SimpleCursorAdapter(this, android.R.layout.simple_list_item_2, c, 
               new String[] {COLUMN_NAME,COLUMN_CENTURY}, new int[] {android.R.id.text1,android.R.id.text2}, 0);

    ListView list = (ListView) findViewById(R.id.list_poet_name);
    list.setAdapter(adapter);

        } catch (Exception e) {
        Toast.makeText(this, e.getMessage(), 1).show();
        }

} 
```

但是在这里我有一个问题..我想将peot_id的数据（它与db中的_id列不同）发送到下一个活动..Bt我提到使用这段代码我可以获得整行选定的项目，我只想要一部分它（peot_id）你能帮我如何从选定的列表项中获取 Peot_ID 吗？我还有另一个问题..正如您在我的代码中看到的那样，我必须多次引用一个空间列表视图..每次我都用这段代码定义它

```
enter code hereListView list = (ListView) findViewById(R.id.list_poet_name); 
```

我怎样才能一次定义这个列表并在我的代码中的多个地方使用它？比如公共变量或类似的东西谢谢你的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T09:38:00.277

您可以这样查询以单独获取特定列记录：

```
Cursor mCursor = mDb.query(true, DATABASE_TABLE, new String[] {KEY_ROWID,
              KEY_NAME, KEY_DESIGNATION}, KEY_ROWID + "=" + yourPrimaryKey, null,
              null, null, null, null);
        if (mCursor != null) {
          mCursor.moveToFirst();
        } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T09:38:48.630

> 正如您在我的代码中看到的，我必须多次引用一个空间列表视图..每次我用这段代码定义它

不需要。只需创建一个全局`ListView`变量列表，您就可以从 Activity 中的任何位置访问它。不需要在`OnItemClick()`方法中再次声明和初始化 ListView。

> 我想将 peot_id 的数据（它与 db 中的 _id 列不同）发送到下一个活动..Bt 我提到用这段代码我可以得到整行选定的项目，我只想要它的一部分（peot_id）你能帮我吗如何从选定的列表项中获取 Peot_ID？

您正在使用 Android 定义的基本布局

```
android.R.layout.simple_list_item_2 
```

我建议您为行创建自己的`XML`文件，然后简单地从 ListView 和 View 获取整个 View ，您只能获取`ID`.

## 例子：

列表行.xml

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"
    android:padding="10dp"
    android:background="@drawable/addresses_list_selector"
    >

    <TextView 
        android:id="@+id/id_column"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        />

    <TextView 
        android:id="@+id/name_column"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_toRightOf="@id/id_column"
        />

    <TextView 
        android:id="@+id/century_column"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_toRightOf="@id/name_column"
        />

</RelativeLayout> 
```

然后使用`CursorAdapter`：

```
SimpleCursorAdapter adapter = new SimpleCursorAdapter(this, R.layout.listrow, c, 
      new String[] {COLUMN_ID, COLUMN_NAME, COLUMN_CENTURY}, 
      new int[] {R.id.id_column, R.id.name_column, R.id.century_column}, 0); 
```

然后从行中获取 ID：

```
public void onItemClick(AdapterView<?> parent, View v, int position,
                long id) {
   TextView id = (TextView) v.findViewById(R.id.id_column);
   if (id != null) {
      String idString = id.getText().toString();
   }
} 
```

## 笔记：

如果你还想使用android的预定义布局，你需要传入String[] from `ID_COLUMN`，然后`ID`通过`row.findViewById(<id>);`

```
String[] from = {ID_COLUMN, NAME_COLUMN};
int[] to = {android.R.id.text1, android.R.id.text2};
TextView id = v.findViewById(android.R.id.android.R.id.text1);
String idString = id.getText().toString(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-11-01T21:43:57.973

我个人更喜欢使用`onListItemclick()`这样的方法

//不要忘记覆盖 - 非常重要

```
@Override

public void onListItemClick(ListView l, View v, int position, long id) {
 //TODO what you what you have here the vars position - position of the selected item in list
// and also the id so you can easy trace what selection done the user
// you can play with this 

} 
```

# algorithm - 这个排序算法的名称？

> ID：15678284
> 
> 赞同：1
> 
> 时间：2013-03-28T09:31:08.717
> 
> 标签：algorithm, sorting

你有一组洗过的牌。您必须重新订购它们。

为此，您可以根据其价值（杰克 = 11，皇后 - 12）等及其套件（红心 = 0，梅花 = 1 ...）为每张牌分配一个数字。每张卡通过公式（14 *套件）+值获得唯一编号。然后你有一个包含 52 个元素的空数组，只需将每张卡片放在正确的位置。这非常快 - 大 o 将是 O(N)。这种方法的名称是什么？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-28T09:33:15.893

它被称为[计数排序](http://en.wikipedia.org/wiki/Counting_sort)。您以空间为代价获得速度。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T09:41:32.727

我想，它没有什么特别的名字。它是一种对对象进行唯一标识的[插入排序。](http://en.wikipedia.org/wiki/Insertion_sort)

[这是一个概述](http://en.wikipedia.org/wiki/Sorting_algorithm)

# javascript - .js 和 .js.erb 文件中相同函数的有趣行为

> ID：15678287
> 
> 赞同：1
> 
> 时间：2013-03-28T09:31:18.110
> 
> 标签：javascript, ruby-on-rails, ruby, ruby-on-rails-3, erb

嘿，我在`.js.erb`文件中遇到了一些奇怪和意外的行为。提供了相关代码和片段以供快速阅读以帮助理解问题。

`orders_controller`仅高级搜索功能的部分片段

```
def advanced_search
  @filters = params[:filters] || {}
  @is_ajax_search = true

  if @filters.present?
    response = RestClient.post "my_url/orders/" +@filters.to_json      
    @orders = JSON.parse response.body
    logger.debug [params[:offset], params[:limit], @orders["total"]]
    limit = params[:limit] = 50

    @orders["order_items"] = @orders["order_items"].paginate(
      :page => params[:page],
      :per_page => limit,
      :total_entries=>@orders["total"]
    )

    @title = "Advanced Search"
    render
  end
end 
```

`orders/advanced_search.html.erb`

```
<%# debug @orders %>
<% content_for :head do %>
  <%= javascript_include_tag 'advanced_search_oms',  %>
<% end %>
<%= render "advanced_search_orders_form" %>
<div id="advanced_search_orders_table" class="fk-table ajax">
  <%= render "advanced_search_orders_table" %>
</div> 
```

`orders/_advanced_search_orders_table`

```
<%= will_paginate @orders["order_items"] %> 
```

`javascripts/advanced_search_oms`

```
$(function () {
  $('.pagination a').click(function () {
    alert("The url will no longer change")
    return false;
  });
}); 
```

但我实际上想在 中定义这个函数`advanced_search.js.erb`，因为我需要使用实例变量。

`orders/advanced_search.js.erb`

```
alert("Hello") //Works when a page link is clicked using the will paginate. But is not displayed when the page is loaded. I wonder why?
$(function () {
  alert("Dom is loaded") //Woks like previous alert. Only on page click.
  $('.pagination a').click(function () {
    alert("The url shouldn't change") //But it does. NO ALERT BOX even pops up. It's as if the function doesn't exist.
    <%= logger.info "Entered js" %> //But this worked
    return false;
  });
}); 
```

你能帮我理解为什么会发生这种情况，我应该如何重新定义这个函数？

# algorithm - AES、Blowfish 和 PBE 的加密/解密时间

> ID：15678293
> 
> 赞同：1
> 
> 时间：2013-03-28T09:31:31.310
> 
> 标签：algorithm, cryptography, time-complexity

我开发了一个应用程序来加密/解密文件。用户可以从 3 种不同的算法中进行选择，即 AES 或 Blowfish 或 PBE。然后显示加密、解密和总时间。我正在尝试比较“时间”元素的 3 种算法的效率。我的大学教授告诉我研究这 3 种算法的时间复杂度。除了计算时间复杂度之外，还有哪些其他方法可以确定算法效率和速度？是否有任何特定的资源可以让我开始学习并实现我的目标？我的目标是得出一个结论，为什么对于特定文件格式，一种特定类型的算法比另一种算法运行得更快（例如，对于 pdf 文件，aes 可能比 mp3 文件更快）

[我的一个朋友建议我在各种处理器上运行应用程序，并尝试确定处理器类型与应用程序性能之间是否存在任何关系。他是对的吗？] - 谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-28T11:52:42.787

正如其他人已经指出的那样，加密算法的时间复杂度始终与输入大小呈线性关系。它显然不能更快，超线性复杂性是不切实际的。我也不知道速度取决于输入类型的密码。无论您加密一个 10 MB PDF 文件还是一个 10 MB MP3 文件，都不会产生影响。

因此，速度差异仅归结为密码的具体实现在具体硬件架构上的速度。流行的 OpenSSL 库有一个内置的基准测试工具，可以显示它们的特定实现有多快。下面是在运行 32 位 Ubuntu（PBE 不是密码）的 Intel Atom 处理器上比较 AES-256 和 Blowfish 的示例：

```
$ openssl speed aes-256-cbc bf-cbc
Doing aes-256 cbc for 3s on 16 size blocks: 2156930 aes-256 cbc's in 3.00s
Doing aes-256 cbc for 3s on 64 size blocks: 563323 aes-256 cbc's in 3.00s
Doing aes-256 cbc for 3s on 256 size blocks: 142873 aes-256 cbc's in 3.00s
Doing aes-256 cbc for 3s on 1024 size blocks: 35857 aes-256 cbc's in 3.00s
Doing aes-256 cbc for 3s on 8192 size blocks: 4487 aes-256 cbc's in 3.00s
Doing blowfish cbc for 3s on 16 size blocks: 10063235 blowfish cbc's in 3.00s
Doing blowfish cbc for 3s on 64 size blocks: 2759400 blowfish cbc's in 3.00s
Doing blowfish cbc for 3s on 256 size blocks: 705523 blowfish cbc's in 3.00s
Doing blowfish cbc for 3s on 1024 size blocks: 177777 blowfish cbc's in 3.00s
Doing blowfish cbc for 3s on 8192 size blocks: 22266 blowfish cbc's in 3.00s
OpenSSL 1.0.1c 10 May 2012
built on: Tue Mar 19 19:10:21 UTC 2013
options:bn(64,32) rc4(8x,mmx) des(ptr,risc1,16,long) aes(partial) blowfish(idx)
compiler: cc -fPIC -DOPENSSL_PIC -DZLIB -DOPENSSL_THREADS -D_REENTRANT -DDSO_DLFCN -DHAVE_DLFCN_H -DL_ENDIAN -DTERMIO -g -O2 -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security -D_FORTIFY_SOURCE=2 -Wl,-Bsymbolic-functions -Wl,-z,relro -Wa,--noexecstack -Wall -DOPENSSL_NO_TLS1_2_CLIENT -DOPENSSL_MAX_TLS1_2_CIPHER_LENGTH=50 -DOPENSSL_BN_ASM_PART_WORDS -DOPENSSL_IA32_SSE2 -DOPENSSL_BN_ASM_MONT -DOPENSSL_BN_ASM_GF2m -DSHA1_ASM -DSHA256_ASM -DSHA512_ASM -DMD5_ASM -DRMD160_ASM -DAES_ASM -DVPAES_ASM -DWHIRLPOOL_ASM -DGHASH_ASM
The 'numbers' are in 1000s of bytes per second processed.
type             16 bytes     64 bytes    256 bytes   1024 bytes   8192 bytes
blowfish cbc     53670.59k    58867.20k    60204.63k    60681.22k    60801.02k
aes-256 cbc      11503.63k    12017.56k    12191.83k    12239.19k    12252.50k 
```

您可以看到，在使用该特定实现的特定机器上，Blowfish 比 AES-256 快得多。但这只是一个数据点。

要回答为什么一种密码比另一种更快的问题，您必须研究算法的细节以及不同硬件平台的性能特征。另请注意，最快的实现通常是用汇编语言编写的，以实现最高性能。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-28T09:49:46.833

对于上述三种对称加密算法，通常有一个恒定的时间用于启动算法，而一个可变的时间取决于您加密的数据量。一种算法启动速度可能很慢，但在启动时加密速度很快，而其他算法启动速度可能很快，但在大数据时速度很慢。

因此，为您的目的选择最快的算法取决于您需要加密/解密的数据量以及它对这些数据量的执行情况。

除此之外，您还应该考虑每种算法的加密强度。如果它的安全性不足以满足您的安全要求，那么选择最快的算法将无济于事。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-28T09:34:02.530

> 除了计算时间复杂度之外，还有哪些其他方法可以确定算法效率和速度？

除了对每个的实际实现进行基准测试/分析之外，这几乎是要走的路。我觉得还有更多你还没有问过的问题。

# ruby - 使用 Ruby 和正则表达式将字符串转换为 HAML，创建换行符和制表符

> ID：15678300
> 
> 赞同：0
> 
> 时间：2013-03-28T09:32:08.353
> 
> 标签：ruby, regex, string, haml

我需要知道从以下字符串创建haml的正确语法：

`string = "%div.page-title//%h1//<title>/%small <subtitle>"`

它需要找到`/`& `//`，记住创建缩进的计数。

上面的字符串需要变成：

```
%div.page-title
  %h1
    <title>
    %small <subtitle> 
```

之间`< >`不是html，但我将用其他变量替换这些..

我做了一些研究，发现该`String.scan`方法可能很有用，但我已经尝试了几个小时，但我似乎无法弄清楚如何让它发挥作用......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T09:46:04.197

如果这是一个嵌套集，这意味着您没有上一层楼，请尝试以下操作

```
string = string = "%div.page-title//%h1//<title>/%small <subtitle>"
string.split('//').each_with_index do |string, index|
  string.split('/').each do |elem|
    row = ""
    index.times { row << "  " }
    row << elem
    puts row
  end
end 
```

# android - 如何测试视图是否在顶层？

> ID：15678301
> 
> 赞同：1
> 
> 时间：2013-03-28T09:32:09.353
> 
> 标签：android, z-order

我有一个视图，我想知道是否有办法测试视图是在顶层还是具有最大的 z 值。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T09:36:23.187

**除了**在`FrameLayout`. _ 但是，您可以执行以下操作来验证视图本身是否是父视图：

```
if(v.getParent() == null){
   //view is parent
}
else{
   //view is not parent
} 
```

# oauth - MVC4 中的 DotNetOpenAuth - 雅虎不起作用

> ID：15678304
> 
> 赞同：0
> 
> 时间：2013-03-28T09:32:13.403
> 
> 标签：oauth, visual-studio-2012, dotnetopenauth, yahoo

我正在将现有项目从 MVC3 迁移到 MVC4。在 MVC3 中，我使用 Microsoft Azure 的访问控制服务 (ACS) 来获取用户身份。我想使用 VS2012 附带的 DotNetOpenAuth.AspNet 来替换旧方法，我正在使用 VS2012 在您启动新的“Internet 应用程序”项目时创建的示例网站来研究这个。

我按照教程并在 AuthConfig.cs 中进行了必要的更改，尝试启用使用 facebook & google & yahoo 进行身份验证。脸书工作正常。Google 和 yahoo 都不起作用，并且函数 ExternalLoginCallback() 中的 result.IsSuccessful 始终为 false。

我做了一些谷歌搜索，发现了这个网站：[https](https://github.com/mj1856/DotNetOpenAuth.GoogleOAuth2) ://github.com/mj1856/DotNetOpenAuth.GoogleOAuth2 。我关注了这个网站，终于得到了谷歌的工作。

但是，我仍然被雅虎问题困扰。我想知道雅虎是否有类似谷歌的解决方案。

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-06-04T01:01:41.273

抱歉我没有早点看到这个。很高兴你喜欢我的[Google OAuth2](https://github.com/mj1856/DotNetOpenAuth.GoogleOAuth2)适配器。我也为[Facebook](https://github.com/mj1856/DotNetOpenAuth.FacebookOAuth2)写了一篇。

我查了一下，但我找不到雅虎对 OAuth2 的任何支持。它们似乎只支持 OpenID 或 OAuth 1。您不妨使用 MVC4 中 OAuthWebSecurity 附带的 OpenID 客户端。

```
OAuthWebSecurity.RegisterYahooClient(); 
```

如果有人知道 Yahoo OAuth2 支持，请告诉我。谢谢。

# redirect - 重定向 HTTPS 请求

> ID：15678309
> 
> 赞同：2
> 
> 时间：2013-03-28T09:32:31.920
> 
> 标签：redirect, https, proxy

我正在开发一个家长控制类型的项目，所有流量都通过控制代理。某些网站必须重定向到“阻止”类型的页面。这对于 HTTP 来说没问题，但是对于 HTTPS 请求，我该怎么做（我可以这样做），例如：

请求[https://dodgy.com](https://dodgy.com)，代理将浏览器重定向到 http\ [https://parentalcontrol.com/blocked](https://parentalcontrol.com/blocked)

我的理解是，对于 HTTPS，首先协商 SSL 连接。代理必须拦截这个初始协商并向浏览器返回一些失败状态；但它也可以发回浏览器会满意并采取行动的重定向吗？

谢谢。

# c# - ASP.NET MVC 4 使页面无法直接访问

> ID：15678314
> 
> 赞同：0
> 
> 时间：2013-03-28T09:32:48.560
> 
> 标签：c#, asp.net, asp.net-mvc

我有一个 ASP.NET MVC 4 博客，它已经完成了 90%，但我需要一件事——我有一个网页可以说 index/secretPage 但我希望只有在我从另一个网页重定向后才能导航到这个网页——可以说索引/重定向。如果地址是硬编码的，它不应该导航，如果访问者来自不同的链接，比如 blog/post/24，它也不应该导航。我希望我的问题很清楚，而不是你的帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-29T14:16:56.670

如果直接调用，您还可以使用显示另一个页面的操作来掩盖秘密页面。

在此示例中，有 2 个操作。返回虚假视图的“秘密”和真实调用的“检查”。在此操作中，布尔变量“allowSecret”被检查，然后用户看到视图“secret.cshtml”（如果允许）或“index.cshtml”（如果不允许）。

这是具有该功能的简单控制器的示例代码：

```
using System.Web.Mvc;

namespace Test.Controllers
{
    public class HomeController : Controller
    {
        public ActionResult Index()
        {
            return View("Index");
        } 

        public ActionResult Check()
        {
            // check if user is allowed to show secret page
            if(allowSecret == true)    
                return View("Secret");
            // Otherwise return view 'index.cshtml' 
            return View();
        }

        public ActionResult Secret()
        {
            // Always shows view 'index.cshtml' if url is ".../secret"
            return View("Index");
        }        
    }
} 
```

您还可以在检查失败后**重定向到另一个操作**，而不是调用“假视图”：

```
return RedirectToAction("Index") 
```

不同之处在于用户在浏览器中看到的 url。返回视图不会更改 url，重定向到另一个操作会将 url 更改为更改的路由。

当然，您可以将检查放在控制器后面的**另一个类中。**

另一种选择是使用**'NonAction' 属性**：

```
[NonAction]
public ActionResult Check()
{
   ...
} 
```

希望对您有所帮助，

DD

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T09:37:49.840

您可以`UrlReferrer`了解谁引用了当前页面并抛出异常或重定向回

```
HttpContext.Current.Request.UrlReferrer 
```

[http://msdn.microsoft.com/en-IN/library/system.web.httprequest.urlreferrer.aspx](http://msdn.microsoft.com/en-IN/library/system.web.httprequest.urlreferrer.aspx)

但是出于什么原因，您需要这个。它对我来说看起来不是一个好的设计。

希望这可以帮助

# uitableview - TableView单元格内容在iOS 6编辑模式下不移动

> ID：15678319
> 
> 赞同：0
> 
> 时间：2013-03-28T09:32:59.847
> 
> 标签：uitableview, ios6, autolayout, editmode

我有 UITableViewCell 的子类。这是我的设置

![在此处输入图像描述](../Images/c15f77357982d0fa65d676096b5bf852.png)

我用过自动布局。现在，当用户在单元格上滑动时，我可以看到“删除”按钮，但它与我的右侧图像视图重叠。单元格内容没有变化。这是我的代码

```
 #pragma mark - Table view data source

- (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView
{
    return 1;
}

- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
{
    return [self.recentItemsArray count];
}

- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    static NSString *identifier = @"ProductCell";
    ProductCell *cell = (ProductCell*)[tableView dequeueReusableCellWithIdentifier:identifier];

    if (cell == nil)
    {
        NSArray *cellArray = [[NSBundle mainBundle] loadNibNamed:@"ProductCell" owner:self options:nil];
        cell=[cellArray objectAtIndex:0];
        tableView.separatorColor = [UIColor clearColor];
    }

    Product *product = [self.recentItemsArray objectAtIndex:indexPath.row];
    cell.lblProductName.text = product.name;
    cell.lblNoOfBids.text = [NSString stringWithFormat:@"%@",product.numberOfBids];
    cell.lblBuyItNowPrice.text = [NSString stringWithFormat:@"%@ %@",CURRENCY_TYPE,product.buyItNowPrice];
    cell.lblTimeRemaining.text = product.timeRemaining;
    cell.lblLatestBid.text = [NSString stringWithFormat:@"%@ %@",CURRENCY_TYPE,product.currentBidPrice];
    cell.lblUserName.text = product.sellerName;

    return cell;
}

#pragma mark - Table view delegate

- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath
{
    [tableView deselectRowAtIndexPath:indexPath animated:YES];
}

- (CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath
{
    return 110.0f;
}

- (BOOL)tableView:(UITableView *)tableView canEditRowAtIndexPath:(NSIndexPath *)indexPath
{
    return YES;
}

// Override to support editing the table view.
- (void)tableView:(UITableView *)tableView commitEditingStyle:(UITableViewCellEditingStyle)editingStyle forRowAtIndexPath:(NSIndexPath *)indexPath
{
    if (editingStyle == UITableViewCellEditingStyleDelete) {
        //add code here for when you hit delete
        [CommonUtils showAlertWithTitle:@"Alert" andMessage:@"Do you want to delete this product?"];
    }
} 
```

我在 Stackoverflow 上看到了几个[问题](https://stackoverflow.com/questions/13666185/custom-uitableviewcell-in-edit-mode-does-not-move-my-uilabels)，但没有得到任何解决方案。

任何人都可以告诉我我做错了什么吗？任何形式的帮助都将受到高度赞赏。谢谢

更新:: 我尝试以编程方式添加 UIImageView。静止图像视图没有变化

```
 - (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    static NSString *CellIdentifier = @"Cell";
    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
    if (cell == nil) {
        cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier];

        UIImageView* imageView = [[UIImageView alloc]initWithFrame:CGRectMake(260, 0, 50, 60)];
        imageView.backgroundColor = [UIColor yellowColor];
        [cell.contentView addSubview:imageView];

        UIImageView* imageView1 = [[UIImageView alloc]initWithFrame:CGRectMake(20.0, 0, 60, 60)];
        imageView1.backgroundColor = [UIColor redColor];
        [cell.contentView addSubview:imageView1];
    }

    //cell.textLabel.text = @"ABC";
    // Configure the cell...

    return cell;
} 
```

![在此处输入图像描述](../Images/aac0dd30fe72c1951c1228e43324ef45.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T18:39:22.170

它发生在我身上。验证某些单元格属性是否与 UITableView 所在视图中的其他属性具有相同的名称。

# asp.net - 使用 WebRequest 时出现 401 未经授权的错误

> ID：15678325
> 
> 赞同：1
> 
> 时间：2013-03-28T09:33:15.407
> 
> 标签：asp.net, vb.net, httpwebrequest

我正在尝试创建一个连接到外部网站、登录然后传递一堆参数的简单页面。

当我运行该页面时，我收到一个错误的请求 400 错误，当我使用 Fiddler 检查时，我可以看到同时返回了 401 和 400 错误。在提琴手的“身份验证”下，我看到：

“不存在代理授权标头。不存在授权标头。” < 这有关系吗？当我使用 PHP cUrl 进行测试时，页面可以正常登录，而 Fiddler 在 Auth 下也是如此。

```
 Dim UserName As String = "testusername"
    Dim password As String = "testpassword"
    Dim siteCredentials As New NetworkCredential(UserName, password)

    Dim URLAuth As String = "http://service.someurl.com/process.xml"
    Dim postString As String = String.Format("customeremailaddress={0}&customername={1}&referenceid={2}&languagecode={3}&expirydays={4}", customeremailaddress, customername, referenceid, languagecode, expirydays)

    Dim postBytes As Byte() = Encoding.UTF8.GetBytes(postString)

    Const contentType As String = "application/x-www-form-urlencoded"
    System.Net.ServicePointManager.Expect100Continue = False

    Dim cookies As New CookieContainer()
    Dim webRequest__1 As HttpWebRequest = TryCast(WebRequest.Create(URLAuth), HttpWebRequest)
    webRequest__1.Method = "POST"
    webRequest__1.ContentType = contentType
    webRequest__1.CookieContainer = cookies
    webRequest__1.ContentLength = postBytes.Length
    webRequest__1.UserAgent = "Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.9.0.1) Gecko/2008070208 Firefox/3.0.1"
    webRequest__1.Accept = "text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8"
    webRequest__1.Referer = "http://service.someurl.com/process.xml"
    webRequest__1.Credentials = siteCredentials

    Try
        Dim requestStream As Stream = webRequest__1.GetRequestStream()
        requestStream.Write(postBytes, 0, postBytes.Length)
        Dim testcapture As String = requestStream.ToString
        Dim thing As String = "stop"

        Dim responseReader As New StreamReader(webRequest__1.GetResponse().GetResponseStream())
        Dim responseData As String = responseReader.ReadToEnd()
        responseReader.Close()
        webRequest__1.GetResponse().Close()

    Catch ex As Exception
        Lbl_ConnTest_error.Text = ex.Message
    End Try 
```

似乎没有通过登录凭据我做错了什么？我显然在 asp.net 应用程序中使用 vb，但正在连接到 Linux Apache 上保存的 XML 文件，这有什么影响吗？

Fiddler 现在似乎在为我做一些奇怪的事情，所以如果其他人可以使用 Fiddler 看到任何东西，那么这里有一个指向测试文件的链接： [http ://www.filemanage.co.uk/Pubs/Default.aspx](http://www.filemanage.co.uk/Pubs/Default.aspx)

# .net - 程序集、GIT 和 TFService 中的版本号

> ID：15678329
> 
> 赞同：1
> 
> 时间：2013-03-28T09:33:40.680
> 
> 标签：.net, vb.net, git, version-control, visual-studio-2012

到目前为止，我们的 VB.NET 产品使用的版本号如 2.4.1。我们手动设置它们。

现在我们开始将 GIT 与 Team Foundation Service 一起使用，并希望改进版本号处理。目的很简单：格式应该是 Major.Minor.Build.Revision。每次编译时，Revision 都会自动增加。每个 Team Foundation Server 编译的构建应该增加（在 git push 之后，我们让 TFS 创建一个连续构建）。主要和次要只能手动增加。

版本号应该在三个地方可见： (1.) 作为应用程序中的程序集版本。(2.) 在 GIT 中找到一个版本。(3.) Team Foundation Service 构建名称。

所以我的问题是：

1.  如何创建上述版本号。
2.  如何命名包含版本号的 TFSerivce 构建名称？
3.  如何让 GIT 知道版本号并“以某种方式”显示它们？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-01-23T15:59:51.613

我不知道这个问题是否仍然相关。如果是，我可以给出一个解决方案。我唯一不能回答的是如何将按照您的规范自动生成的内部版本号链接到内部版本名称。据我所知，您需要在手动指定内部版本号或自动生成之间进行选择。或者您必须创建一个完全自定义的构建模板。

使用默认模板：

*   使用以下信息指定您的内部版本号：http: [//msdn.microsoft.com/en-us/library/vstudio/hh190719.aspx](http://msdn.microsoft.com/en-us/library/vstudio/hh190719.aspx)
*   将“nextversion”文件放在源代码管理中
*   在 assemblyversion 中为本地修订自动编号指定一个“*”
*   放入类似于[http://www.colinsalmcorner.com/2013/07/matching-binary-version-to-build-number.html](http://www.colinsalmcorner.com/2013/07/matching-binary-version-to-build-number.html)的预构建 powershell 脚本（使用“nextversion”文件而不是 - 手动输入 - build数字）
*   在构建后，使用您的版本号创建标签并将其推送到 git 存储库，最好使用 powershell 脚本（没有找到示例 - 您最好在构建服务器上安装 git 工具）。还提交并推送修改后的程序集信息文件。

# django-rest-framework - 响应在 IE 中呈现为 json 以用于可浏览的 api

> ID：15678333
> 
> 赞同：3
> 
> 时间：2013-03-28T09:33:54.320
> 
> 标签：django-rest-framework

在 IE 上，当我尝试浏览其余 api 时，我得到的是 application/json 响应而不是 api (text/html) 响应（在 firefox 上返回 html 响应）。为此，我正在使用 django restframework 2.2.5。

我通读了文档并了解到，为了克服 IE 的标头损坏问题，我们需要在视图中明确使用 TemplateHTMLRenderer，因此我在视图的类定义中添加了以下内容，但我仍然收到 json 响应. 我做得不对还是我错过了其他东西？

`class CustomReports(generics.GenericAPIView):`

```
 `renderer_classes = (renderers.TemplateHTMLRenderer)` 
```

您能否帮助解决问题，以便我在 IE 的情况下也能获得 html 响应？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T10:09:38.917

你用的是哪个版本的IE？我相信较新版本的 IE 应该发送正确的`Accept`标题。

我可能不会费心尝试解决问题以解决 IE 的损坏行为，而是确保您在 url 中包含[格式后缀](http://django-rest-framework.org/api-guide/format-suffixes.html)。然后你可以简单地使用`.api`后缀来查看可浏览的 API，或者使用`.json`后缀来查看纯 json。

例如，代替`http://127.0.0.1:8000/api-root/`, 使用`http://127.0.0.1:8000/api-root/.api`.

# c++ - 添加转换构造函数而不接触类

> ID：15678334
> 
> 赞同：2
> 
> 时间：2013-03-28T09:33:54.773
> 
> 标签：c++, copy-constructor

我有两个类，来自两个不同的库，含义相同：

```
class A {
public:
    A() {}
    A(const A&) {}
};

class B {
public:
    B() {}
    B(const B&) {}
}; 
```

我想用`B`作为参数调用函数，传递一个`A`对象：

```
void setB(const B&) {

}

int main(int argc, char* argv[]) {
    A a;
    setB(a);
} 
```

我知道这是可能的，从以下位置添加一个转换构造函数：

```
class B {
public:
    B() {}
    B(const B&) {}
    B(const A&) {} // CANNOT ADD THIS!
}; 
```

但是这些类是在两个外部库中定义的，我无权更改它们。

如何在不触及 B 类定义的情况下添加转换构造函数（或达到相同的结果）？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-28T09:37:48.060

> **如何在不触及 B 类定义的情况下添加转换构造函数（或达到相同的结果）？**

如果 B 类具有虚拟析构函数，您可以专门`B`化并在专门化中添加额外的功能。如果它没有虚拟析构函数，则可以嵌入`B`包装类。

这意味着：

```
class SpecialB: public B { // if B has virtual destructor
public:
    SpecialB(const A&); // you _can_ do this
}; 
```

或者：

```
class SpecialB {
public:
    SpecialB(const A&); // you _can_ do this
private:
    B wrapped_b;
}; 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-28T09:35:26.853

只需使用工厂：

```
 struct AfromB
 {
     static A convert(const B&);
 } 
```

和：

```
 setB(AfromB::convert(a)); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-28T09:37:06.233

如果您无权访问`B`类定义，也许更简单的是`void setB(const A&)`重载。

# windows-phone-7 - 崩溃报告第三方工具需要API_KEY

> ID：15678337
> 
> 赞同：-2
> 
> 时间：2013-03-28T09:34:00.610
> 
> 标签：windows-phone-7, windows-phone-8, windows-phone

我正在尝试在我的 Windows Phone 应用程序上添加崩溃报告，

我正在尝试各种第三方崩溃报告工具，

在 Flurry 中，它要求一个名为 API_KEY 的密钥

```
FlurryWP8SDK.Api.StartSession("FLURRY_API_KEY"); 
```

这是什么 API_KEY ，我在哪里可以在我的项目中找到这个密钥。

在 Bugsense 中也需要这个。

```
BugSenseHandler.Instance.Init(this,"YOUR_API_KEY"); 
```

谁能告诉我这个 API_KEY 是什么，它到底在哪里。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T10:35:06.253

谷歌？[http://support.flurry.com/index.php?title=API/代码](http://support.flurry.com/index.php?title=API/Code)

*APIKEY 是每个应用程序的唯一代码。这可以通过登录 Flurry 网站找到，然后转到“管理应用程序”链接，最后选择所需的应用程序。*

# regex - 递归遍历bash中的目录和文件+使用wc

> ID：15678340
> 
> 赞同：2
> 
> 时间：2013-03-28T09:34:03.173
> 
> 标签：regex, bash, recursion, find, wc

我需要递归地浏览目录。第一个参数必须是我需要从其中开始的目录，第二个参数是描述文件名的正则表达式。

前任。`./myscript.sh directory "regex"`

当脚本递归遍历目录和文件时，它必须使用 wc -l 来计算正则表达式描述的文件中的行数。

我如何使用 find 和 -exec 来做到这一点？或者可能有其他方法可以做到这一点？请帮忙。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T09:35:23.687

是的，您可以使用`find`：

```
$ find DIR -iname "regex" -type f -exec wc -l '{}' \; 
```

或者，如果要计算所有文件中的总行数：

```
$ find DIR -iname "regex" -type f -exec wc -l '{}' \; | awk '{ SUM += $1 } END { print SUM }' 
```

您的脚本将如下所示：

```
#!/bin/bash

# $1 - name of the directory - first argument
# $2 - regex - second argument

if [ $# -lt 2 ]; then
  echo Usage: ./myscript.sh DIR "REGEX"
  exit
fi

find "$1" -iname "$2" -type f -exec wc -l '{}' \; 
```

**编辑：** -如果您需要更多花哨的正则表达式，请使用`-regextype posix-extended`and`-regex`而不是`-iname`@sudo_O[在他的回答](https://stackoverflow.com/a/15678462/782609)中指出的那样。

# android - Android应用程序中的MapView

> ID：15678344
> 
> 赞同：0
> 
> 时间：2013-03-28T09:34:30.480
> 
> 标签：android, google-maps-android-api-2, android-maps-v2

我正在尝试在我的 android 应用程序中包含谷歌地图。

我完成了[这个](https://developers.google.com/maps/documentation/android/start?hl=fr#getting_the_google_maps_android_api_v2)过程来获取 Map API 密钥。

获得密钥后，我编写了以下代码以在我的应用程序中显示地图。

我的清单文件

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
package="com.example.mymap"
android:versionCode="1"
android:versionName="1.0" >

<uses-sdk
    android:minSdkVersion="11"
    android:targetSdkVersion="17" />

<uses-permission android:name="android.permission.INTERNET" />

<application
    android:allowBackup="true"
    android:icon="@drawable/ic_launcher"
    android:label="@string/app_name"
    android:theme="@style/AppTheme" >
    <uses-library android:name="com.google.android.maps" />

    <activity
        android:name="com.example.mymap.LocationActivity"
        android:label="@string/app_name" >
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />

            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
    </activity>
</application> 
```

布局 `<com.google.android.maps.MapView android:id="@+id/mapView" android:layout_width="fill_parent" android:layout_height="fill_parent" android:apiKey="mykey" android:clickable="true" android:enabled="true" />`

当我运行应用程序时，我遇到了这样的异常。

```
03-28 14:31:14.868: W/System.err(21147): IOException processing: 26

03-28 14:31:14.868: W/System.err(21147): java.io.IOException: Server returned: 3

03-28 14:31:14.868: W/System.err(21147):    at android_maps_conflict_avoidance.com.google.googlenav.map.BaseTileRequest.readResponseData(BaseTileRequest.java:115)

03-28 14:31:14.868: W/System.err(21147):    at android_maps_conflict_avoidance.com.google.googlenav.map.MapService$MapTileRequest.readResponseData(MapService.java:1473)

03-28 14:31:14.868: W/System.err(21147):    at android_maps_conflict_avoidance.com.google.googlenav.datarequest.DataRequestDispatcher.processDataRequest(DataRequestDispatcher.java:1117)

03-28 14:31:14.868: W/System.err(21147):    at android_maps_conflict_avoidance.com.google.googlenav.datarequest.DataRequestDispatcher.serviceRequests(DataRequestDispatcher.java:994)

03-28 14:31:14.868: W/System.err(21147):    at android_maps_conflict_avoidance.com.google.googlenav.datarequest.DataRequestDispatcher$DispatcherServer.run(DataRequestDispatcher.java:1702)

03-28 14:31:14.868: W/System.err(21147):    at java.lang.Thread.run(Thread.java:856) 
```

请帮我解决这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T09:59:54.807

请记住 MapView 已折旧。支持谷歌地图 V2。而且您无法获得新的地图 v1 api 密钥。

[访问此处](https://developers.google.com/maps/documentation/android/)以了解有关地图 v2 的更多信息

如果您已经在使用 v2 ：

尝试将以下数据添加到您的清单中：

```
 <uses-permission  android:name="com.google.android.providers.gsf.permission.READ_GSERVICES" />  
    <permission
    android:name="com.example.mapdemo.permission.MAPS_RECEIVE"
    android:protectionLevel="signature" />

<uses-permission android:name="com.ikolmobile.magicmap.permission.MAPS_RECEIVE" />
    <!-- My Location -->
    <uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" />
    <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
    <!-- Maps API needs OpenGL ES 2.0\. -->
    <uses-feature
        android:glEsVersion="0x00020000"
        android:required="true" />

<meta-data
            android:name="com.google.android.maps.v2.API_KEY"
            android:value="YOUR KEY HERE" /> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T09:39:03.213

当您的 API 密钥有问题时，这是一个已知错误：

看看以下帖子：

[android，谷歌地图错误：BaseTileRequest，服务器返回：3](https://stackoverflow.com/questions/12448034/android-google-map-errors-basetilerequest-server-returned-3)

[Android中的谷歌地图签名api密钥错误](https://stackoverflow.com/questions/7296467/google-map-signed-api-key-errors-in-android)

**更新：**

从您发布的用于获取密钥的链接中，您将获得 Google Map API V2 的密钥，因此它不适用于 Google Maps API V1。

要集成 Google Map API V2，您可以关注我在此主题上写的这篇博文：

[谷歌地图 API V2](https://blog-emildesign.rhcloud.com/?p=435)

# regex - 可选捕获组

> ID：15678346
> 
> 赞同：1
> 
> 时间：2013-03-28T09:34:32.583
> 
> 标签：regex, qt

我有一个非常复杂的 RegEx，其中有一些捕获组

但是这个组在一个更大的组中，这个更大的组是可选的

这里看一下情况（我使用 Qt 和 QRegularExpression，但我认为这并不重要）：

```
QRegularExpression regex("(.*)(?:([0-9]{2}) ([0-9]{2}) ([0-9]{2}))?(.*)"); 
```

现在我想更换比赛

```
QString str = ".....some text....";
str.replace(regex, "\\1__\\3__\\5"); 
```

现在有一个问题，因为3个捕获组是可选的，所以有时`\\3`不存在。

如果捕获组之一不存在，我想要的是获取空字符串：

如果`\\3`存在，我想要：

```
"\\1__\\3__\\5" 
```

但如果没有，我想要：

```
"\\1____\\5" 
```

如果它不存在，这是我得到的：

```
"...text...__\3__...text..." 
```

我显然可以在两个或多个正则表达式/替换中做到这一点，并在两者之间测试存在

但是是否有可能只更换一次？如何 ？最好的方法是什么？

编辑

正如 amartel 向我展示的那样，根本没有问题，实际上我的错误是我尝试访问第 8 个捕获，但只有 7 个，所以 \\8 返回我 \8

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-28T10:34:26.313

我试过这个：

```
QRegExp rexp("(A)(?:([0-9]{2}) ([0-9]{2}) ([0-9]{2}))?(Z)");

QString s1("qA11 22 33Zq");
QString s2("wAZw");

s1.replace(rexp, "\\1__\\3__\\5");
s2.replace(rexp, "\\1__\\3__\\5");

qDebug() << s1;
qDebug() << s2; 
```

输出是：

```
"qA__22__Zq"
"wA____Zw" 
```

你的问题可能出在其他地方吗？

# android - android中带有表格布局的可扩展列表视图

> ID：15678351
> 
> 赞同：5
> 
> 时间：2013-03-28T09:35:03.720
> 
> 标签：android, tablelayout, expandable

我必须创建一个带有 3 个可扩展列表视图的布局，并且每个可扩展视图都包含一个表格布局，在它展开时显示。

![在此处输入图像描述](../Images/bf4617fb7ac3551e659da149043922f3.png)

是否有任何解决方法或任何建议。

# javascript - 从 JS 数据结构中移除一层嵌套数组

> ID：15678355
> 
> 赞同：4
> 
> 时间：2013-03-28T09:35:07.417
> 
> 标签：javascript

如何转换以下数据结构：

```
var data = [ [ { time: 1, speed : 20 } ] ]; 
```

到

```
var data = [ { time: 1, speed: 54 } ]; 
```

我只想删除数组。

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2013-03-28T09:36:55.140

由于数据是一个数组，您只想选择外部数组的第一个元素

所以解决方案是

```
var data = [[{time:1,speed:20}]]; // Or whatever the data is
data = data[0]; 
```

或者，如果您正在通过另一个对象访问数据

```
var data = yourObject[0]; 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-28T10:03:00.497

试试这个 ：

```
JSON.stringify(data).substr(1,JSON.stringify(data).length-2); 
```

# deployment - Sharepoint 2013 应用程序升级问题

> ID：15678356
> 
> 赞同：1
> 
> 时间：2013-03-28T09:35:08.577
> 
> 标签：deployment, updates, sharepoint-2013

当我尝试将我的新版本应用程序 1.0.0.1 升级到我的 sharepoint 2013 服务器时遇到了一个烦人的问题。

我做的详细步骤，

1、在sp 2013中创建一个开发站点。

2、在visualstudio中创建一个sharepoint-host app项目。

3、使用“deploy”将app部署到sp2013。

4、现在版本号是1.0.0.0，一切正常。

5、我做了一些修改，在AppManifest.xml,1.0.0.1处设置了一个新的版本号。

6、使用

```
$spapp = Import-SPAppPackage -Path .\DevCore.AppCalendar.app -Site [http://sp-ss2013/sites/testapp] -Source ([microsoft.sharepoint.administration.spappsource]::ObjectModel)
$instance = Get-SPAppInstance -AppInstanceId 4c472c85-2759-489f-8435-c6cc7b11eb91 -Site [http://sp-ss2013/sites/testapp]
Update-SPAppInstance -Identity $instance -App $spapp 
```

更新`appinstance`.

7、更新过程完成后，查看应用详情，是新版本号。

8，**但是app里的东西看起来都一样，改变根本不起作用**

我尝试了 iisrest，但结果相同。

真的需要帮助，否则我必须重新安装应用程序......

/董

# perl - 在 perl 中访问另一个文件中定义的哈希值并打印它

> ID：15678358
> 
> 赞同：0
> 
> 时间：2013-03-28T09:35:22.123
> 
> 标签：perl, hash-of-hashes

现在我的 file1 包含哈希的哈希值，如下所示：

```
package file1;

our %hash = (
    'articles' =>  {
                       'vim' => '20 awesome articles posted',
                       'awk' => '9 awesome articles posted',
                       'sed' => '10 awesome articles posted'
                   },
    'ebooks'   =>  {
                       'linux 101'    => 'Practical Examples to Build a Strong Foundation in Linux',
                       'nagios core'  => 'Monitor Everything, Be Proactive, and Sleep Well'
                   }
); 
```

我的 file2.pl 包含

```
#!/usr/bin/perl
use strict;
use warnings;

require 'file1';

my $key;
my $key1;

for $key (keys %file1::hash){
   print "$key\n";

   for $key1 (keys %{$file1::hash{$key1}}){
   print "$key1\n";
   }
} 
```

现在我的问题是，我得到一个错误

**“在 file2.pl 的哈希元素中使用未初始化的值”**

当我尝试像这样访问哈希时：

```
for $key1 (keys %{$file1::hash{$key1}}) 
```

请帮忙。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-28T09:38:34.840

这是因为`$key1`没有定义。

你打算`%{ $file1::hash{$key} }`改用。

* * *

请注意，如果您避免预先声明`$key1`，`strict`编译指示可以在编译时捕获它：

```
for my $key (keys %file1::hash){

   print "$key\n";

   for my $key1 (keys %{$file1::hash{$key1}}){
       print "$key1\n";
   }
} 
```

**信息**

```
Global symbol "$key1" requires explicit package name 
```

# jquery - 淡入 Ajax 开始动画

> ID：15678359
> 
> 赞同：4
> 
> 时间：2013-03-28T09:35:22.237
> 
> 标签：jquery, ajax

根据我在这里提出的问题： [Ajax Animation JQuery 1.9.2](https://stackoverflow.com/questions/15670665/ajax-animation-jquery-1-9-2)

我正在使用动画来突出显示 AJAX 数据刷新。然而，当大多数时候刷新时间不到半秒时，这有点突兀。我想淡入动画。

这是上一个答案提供的更新小提琴： [DEMO](http://jsfiddle.net/jfriend00/gk3RL/)

所以我们有代码：

```
$(document).ajaxStart(function () {
    $("body").addClass("loading");
});
$(document).ajaxStop(function () {
    $("body").removeClass("loading");
}); 
```

我尝试了很多方法，例如将其他参数放入添加类 addClass("loading",500) addClass("loading",500,500)

并把 .fadeIn(500); 在许多地方，但似乎没有任何区别。

如何淡入 DIV？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-28T09:42:09.323

使用 jQuery`delay()`让你的`.modal`元素淡入淡出。

这是您的小提琴的更新版本：http: [//jsfiddle.net/gk3RL/1/](http://jsfiddle.net/gk3RL/1/)。

这相当于：`$.ajaxStart(function () { $('.modal').delay(500).fadeIn(); });` jQuery 将在淡入之前等待半秒。如果请求在延迟内完成，`$.ajaxStop`您可能需要做`stop()`以防止延迟`fadeIn`触发。

不幸的是，`delay()`无法取消。所以也许最健壮的解决方案是使用 JavaScript 自己的`setTimeout`，可以通过调用`clearTimeout`.

那么你会这样做：

```
var timeOut;

$.ajaxStart(function () {
    timeOut = setTimeout(function () {
        $('.modal').fadeIn();
    }, 500); // Waits for half a second before fading .modal in
});

$.ajaxStop(function () {
    clearTimeout(timeOut); // Cancels if request finished < .5 seconds
    $('.modal').fadeOut();
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-28T09:43:40.073

您实际上需要淡入模态。

CSS：

```
/* Start by setting display:none to make this hidden.
   Then we position it in relation to the viewport window
   with position:fixed. Width, height, top and left speak
   speak for themselves. Background we set to 80% white with
   our animation centered, and no-repeating */
 .modal {
    display: none;
    position: fixed;
    z-index: 1000;
    top: 0;
    left: 0;
    height: 100%;
    width: 100%;
    background: rgba(255, 255, 255, .8) url('http://sampsonresume.com/labs/pIkfp.gif') 50% 50% no-repeat;
}
/* When the body has the loading class, we turn
   the scrollbar off with overflow:hidden */
 body.loading {
    overflow: hidden;
} 
```

Javascript：

```
$(document).ajaxStart(function () {
    $("body").addClass("loading");
    $('.modal').fadeIn(500);
});
$(document).ajaxStop(function () {
    $("body").removeClass("loading");
    $('.modal').fadeOut(500);
});

// Initiates an AJAX request on click
$(document).on("click", function () {
    $.post("/mockjax");
});

// http://code.appendto.com/plugins/jquery-mockjax
$.mockjax({
    url: '/mockjax',
    responseTime: 2000
}); 
```

[这是小提琴。](http://jsfiddle.net/licson0729/gk3RL/2/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-06-14T14:16:36.683

你可以这样做：

```
function startAjaxLoader() {
    $("#ajaxLoader").delay(500).fadeIn(750);
}

function stopAjaxLoader() {
    $("#ajaxLoader").stop(true).hide();
}

$(document).ajaxStart(function() {
    startAjaxLoader();
}).ajaxComplete(function() {
    stopAjaxLoader();
}).ajaxError(function(ajaxErrorEvent, jqXHR) {
    stopAjaxLoader();
    // Display error
}); 
```

该方法`.stop(true)`取消所有正在运行或排队的事件和动画。

# maven - 向 pom.xml 添加“项目健康”属性以进行 3rd 方依赖监控

> ID：15678360
> 
> 赞同：0
> 
> 时间：2013-03-28T09:35:23.190
> 
> 标签：maven, pom.xml

我正在与一个拥有大量项目的组织合作，所有项目都由 maven 管理（带有一些自定义插件）并且都带有 pom.xml。

虽然大多数项目是内部开发的，但有些项目是带有自己的 POM 的外部（例如开源）项目。

我的任务是向这些外部项目 POM 添加一些标签，内部项目报告工具（请参阅[此问题](https://stackoverflow.com/questions/14565330/)）可以使用这些标签来报告这些“外部”项目，提供项目网站的 URL 和简短声明关于项目的“健康”（例如，邮件列表处于活动状态，没有迹象表明项目即将死亡）。

对于项目的 URL，我希望我可以使用[组织](http://maven.apache.org/pom.html#Organization)部分中提供的 URL。

我可以在组织部分添加“projectHealth”和“status”标签吗？例如

```
 <organization>
    <name>Codehaus Mojo</name>
    <url>http://mojo.codehaus.org</url>

    <status>external</status>
    <projectHealth>
      Mailing list at http://archive.codehaus.org/lists/org.codehaus.mojo.dev is 404.
      Mailing list at http://markmail.org/list/org.codehaus.mojo.dev is active.
      Project seems active.
    </projectHealth>

  </organization> 
```

然后我可以通过“状态”标签检测“外部”项目并在我的报告中发布健康声明。

我的意思是，这不会破坏任何其他插件，对吗？

或者是否有首选的现有协议？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T11:04:57.607

pom.xml 标记和结构由 xsd 定义（您可以在每个 pom.xml 顶部看到它`xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd`：）

这个 xsd 非常严格，不允许您随意在此处和此处添加标签而不会破坏某些内容。

标准项目报告插件使用的允许自定义报告的策略是使用捆绑文件（即不是 pom.xml）（[此处](http://maven.apache.org/plugins/maven-project-info-reports-plugin/mailing-list-mojo.html#customBundle)为示例）。所以我建议你对你的内部报告工具做同样的事情。

另一种方法是将信息以`description`您的工具能够解析的格式放入项目标签中。我的意思是这样的

```
<description>
    STATUS:external
    MAILING LIST: http://archive.codehaus.org/lists/org.codehaus.mojo.dev
    MAILING LIST: http://markmail.org/list/org.codehaus.mojo.dev
    COMMENT: Project seems active
</description> 
```

不幸的是，它会污染现有的描述，并且您不会对该内容进行任何静态验证。

# java - Netbeans没有给出提示

> ID：15678368
> 
> 赞同：1
> 
> 时间：2013-03-28T09:35:38.243
> 
> 标签：java, netbeans, exception-handling, ide, hint

通常，我会从 Netbeans 获得一些黄色提示。可以看出，该类无法编译，但 Netbeans 没有提示，通常我希望在行号上看到黄色的小提示：

![行号上的黄色提示](../Images/b5d382f16643cb6e345af1a2bec8f901.png)

**我将 throws 选项配置为：**

![throws 选项配置为](../Images/449db5b2cba63ced917afb77f065453e.png)

我也没有看到有关声明对象的提示。就像提示被禁用一样。如何重新启用提示？

**编辑：**

```
code as follows:

package net.bounceme.dur.nntp.swing;

import java.util.logging.Logger;
import javax.swing.DefaultListModel;
import javax.swing.JList;
import javax.swing.JScrollPane;
import net.bounceme.dur.nntp.gnu.Page;
import net.bounceme.dur.nntp.gnu.Usenet;

public class MyPanel extends JScrollPane {

    private static final Logger LOG = Logger.getLogger(MyPanel.class.getName());
    private JList jList;
    private DefaultListModel defaultListModel;
    private Usenet u = Usenet.INSTANCE;
    private Page page;

    public MyPanel() {
        page = u.getPage(new Page().getPmd()); //uncaught exception
        jList = new JList(defaultListModel); // null, need to initialize
        initComponents();
    }

    private void initComponents() {
    }
} 
```

**显示此类无法编译的堆栈跟踪：**

```
init:
Deleting: /home/thufir/NetBeansProjects/gnumail-providers/build/built-jar.properties
deps-jar:
Updating property file: /home/thufir/NetBeansProjects/gnumail-providers/build/built-jar.properties
Compiling 1 source file to /home/thufir/NetBeansProjects/gnumail-providers/build/classes
/home/thufir/NetBeansProjects/gnumail-providers/src/net/bounceme/dur/nntp/swing/MyPanel.java:19: error: unreported exception Exception; must be caught or declared to be thrown
        page = u.getPage(new Page().getPmd()); //uncaught exception
Note: /home/thufir/NetBeansProjects/gnumail-providers/src/net/bounceme/dur/nntp/swing/MyPanel.java uses unchecked or unsafe operations.
Note: Recompile with -Xlint:unchecked for details.
1 error
/home/thufir/NetBeansProjects/gnumail-providers/nbproject/build-impl.xml:624: The following error occurred while executing this line:
/home/thufir/NetBeansProjects/gnumail-providers/nbproject/build-impl.xml:243: Compile failed; see the compiler error output for details.
BUILD FAILED (total time: 0 seconds) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T10:59:21.350

这不是答案，而是附加信息。问题自然而然地解决了。也许是因为我退出了 Netbeans。也许是因为我重新启动了。也许是小精灵：

![在此处输入图像描述](../Images/e7145567803728aff55cc0451fdc9a63.png)

需要明确的是，保存时编译仍然被禁用，它与 Netbeans 的版本相同。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-07-05T14:37:40.707

从互联网网页复制示例后，我遇到了同样的问题。重新启动 Netbeans 后，我确实再次得到了提示。

# sql - 优化代码

> ID：15678371
> 
> 赞同：0
> 
> 时间：2013-03-28T09:35:45.237
> 
> 标签：sql, database

我已经为小型数据库编写了这段代码，但知道数据库大小已经增加，它显示超时错误。请帮助优化它下面是代码：-

```
IF OBJECT_ID('Temp_expo') is not null
begin 
    drop table Temp_expo
end

set @query3 =  'SELECT SPCT_ID_REL_LOW,SPCT_ID_REL_HIGH,ROW_NUMBER() over (order by PDBC_PFX) as TempId  

INTO Temp_expo  
FROM ['+ @FCTServer +'].['+@FCTDBName+'].dbo.CMC_SPCT_SUPP_CONV  
where  SPCT_ID_REL_LOW <> '''' and SPCT_ID_REL_HIGH <> '''''

exec (@query3)

Select @minCount= min(TempId) from Temp_expo   
Select @maxCount= max(TempId) from Temp_expo  

create table #ICD9SPCT
(
    ICD9Code varchar(200)
} 

while @minCount<=@maxCount 
begin
    select @low=SPCT_ID_REL_LOW,@high=SPCT_ID_REL_HIGH 
    from Temp_expo 
    where TempId=@minCount 
    group by SPCT_ID_REL_LOW,SPCT_ID_REL_HIGH

    set  @loworder = (select ISNULL(OrderId,0) from FCT_ICD9_Diag_ORDER where ICD9=@low)
    set  @highorder = (select ISNULL(OrderId,0) from FCT_ICD9_Diag_ORDER where ICD9=@high)

    insert into #ICD9SPCT 
    select ICD9 from FCT_ICD9_Diag_ORDER ordert
    left join #ICD9SPCT icdorder on ordert.ICD9 = icdorder.ICD9Code
    where OrderId between @loworder and @highorder and icdorder.ICD9Code is null

    set @minCount = @minCount+1;
end 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T15:47:11.677

如果这是针对 SQL SERVER 的，您可以尝试一些基本技巧： USE: WITH (NOLOCK) 在您使用的每个选择之后。即选择ICD9 from FCT_ICD9_Diag_ORDER ordert WITH (NOLOCK) left join #ICD9SPCT icdorder on ordert.ICD9 = icdorder.ICD9Code where OrderId between @loworder and @highorder and icdorder.ICD9Code is null

您还可以尝试将临时表更改为变量表，只需将 # 更改为 @ like ：

创建表 @ICD9SPCT ( ICD9Code varchar(200) }

尽管如此，您使用的 WHILE 循环可能是您的问题的主要原因。

# c# - winRT中如何设置webview的背景透明？

> ID：15678372
> 
> 赞同：2
> 
> 时间：2013-03-28T09:35:45.943
> 
> 标签：c#, windows-8, windows-runtime

我有一个在页面中加载 html 内容的 web 视图。它的背景如何设置为透明。我将 html 背景设置为透明。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2014-10-26T23:56:37.697

试试这个：

```
<WebView DefaultBackgroundColor="Transparent"/> 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-28T13:44:17.453

据我所知，这是不可能的，因为这是您在 Web 视图中呈现的实际 HTML 页面。webview 不是从[Control派生的，因此，它不支持与我们使用从](http://msdn.microsoft.com/en-US/library/windows/apps/windows.ui.xaml.controls.control.aspx)[Control](http://msdn.microsoft.com/en-US/library/windows/apps/windows.ui.xaml.controls.control.aspx)派生的控件相同的模板可能性。此外，由于浏览器不能拥有透明的网站，因此该网站默认显示为白色。

这可能与您的问题没有直接关系，但是我认为了解何时使用 Webview 仍然很重要。[MSDN 上](http://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.controls.webview.aspx)的文档中有一些关于 UI 和渲染的重要说明：

> WebView 具有不能在 WebView 之上渲染其他 UI 区域（例如控件）的特点。这是因为窗口区域是如何在内部处理的，特别是如何处理输入事件以及如何绘制屏幕。如果你想渲染 HTML 内容并且在 HTML 内容之上放置其他 UI 元素，你应该使用 WebViewBrush 作为渲染区域。WebView 仍然提供 HTML 源信息，您可以通过 SourceName 属性引用该 WebView。WebViewBrush 没有此覆盖限制。如果要显示一个仅偶尔有重叠内容的交互式 WebView（例如下拉列表或应用栏），可以在必要时暂时隐藏 WebView 控件，将其替换为使用 WebViewBrush 填充的元素。然后，当重叠内容不再存在时，您可以再次显示原始 WebView。有关详细信息，请参阅 WebView 控件示例。

有关详细信息，请参阅[完整文档](http://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.controls.webview.aspx)。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2016-03-03T13:39:08.543

他们已在 Windows 通用应用程序中修复它。如果将 DefaultBackgroundColor 设置为透明并且

`body, html { background:transparent; }`

你会得到你想要的

# python - 在 matplotlib 图中使用多种颜色

> ID：15678373
> 
> 赞同：12
> 
> 时间：2013-03-28T09:35:49.693
> 
> 标签：python, colors, matplotlib, plot

我有一个二维数据点（x，y）的numpy数组，分为三类（0,1,2）。

```
a = array([[ 1, 2, 3, 4, 5, 6, 7, 8 ],
           [ 9, 8, 7, 6, 5, 4, 3, 2 ]])

class = array([0, 2, 1, 1, 1, 2, 0, 0]) 
```

我的问题是我是否可以用多种颜色绘制这些点。我想做这样的事情：

```
colors = list()
for i in class:
    if i == 0:
        colors.append('r')
    elif i == 1:
        colors.append('g')
    else:
        colors.append('b')

print colors
['r', 'b', 'g', 'g', 'g', 'b', 'r', 'r']

pp.plot(a[0], a[1], color = colors) 
```

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-03-28T10:42:00.420

我假设您想绘制不同的点。在这种情况下，如果您定义一个 numpy 数组：

```
colormap = np.array(['r', 'g', 'b']) 
```

然后您可以使用以下命令生成颜色数组`colormap[categories]`：

```
In [18]: colormap[categories]
Out[18]: 
array(['r', 'b', 'g', 'g', 'g', 'b', 'r', 'r'], 
      dtype='|S1') 
```

* * *

```
import matplotlib.pyplot as plt
import numpy as np

a = np.array([[ 1, 2, 3, 4, 5, 6, 7, 8 ],
              [ 9, 8, 7, 6, 5, 4, 3, 2 ]])

categories = np.array([0, 2, 1, 1, 1, 2, 0, 0])

colormap = np.array(['r', 'g', 'b'])

plt.scatter(a[0], a[1], s=50, c=colormap[categories])
plt.show() 
```

产量

![在此处输入图像描述](../Images/e8a90b56e93c513a8fa59b5df61f42d2.png)

# mysql - MySQL 中的列存储索引技术与基于向量的批处理

> ID：15678378
> 
> 赞同：0
> 
> 时间：2013-03-28T09:36:09.903
> 
> 标签：mysql, database, sql-server-2008, phpmyadmin, mining

我使用 MySQL 作为数据库，由于数据库很大，它已按列索引。但是现在需要使用类似 MSSQL 的方法进行索引，因为据说它执行得更快，其链接如下：

[http://blogs.technet.com/b/dataplatforminsider/archive/2011/08/04/columnstore-indexes-a-new-feature-in-sql-server-known-as-project-apollo.aspx](http://blogs.technet.com/b/dataplatforminsider/archive/2011/08/04/columnstore-indexes-a-new-feature-in-sql-server-known-as-project-apollo.aspx)

据它介绍，它使用列存储索引以及基于向量的批处理。所以我想知道，MySQL中有没有类似的技术可以快速处理从数据库中获取数据？？？？？？

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-20T09:53:41.933

你可以试试[InfoBright](http://www.infobright.org/) mysql 存储引擎。这是一个很好的。

# python - Python中的ElementTree解析

> ID：15678379
> 
> 赞同：0
> 
> 时间：2013-03-28T09:36:10.543
> 
> 标签：python, parsing, elementtree

我有表单的 xml

```
<root>
  <tag1>   </tag1>
  <tag2>   </tag2>
  <tag3>   </tag3>

  <tag1>   </tag1>
  <tag2>   </tag2>
  <tag3>   </tag3>
</root> 
```

我需要按顺序解析xml

```
tag1 -> tag2 -> tag3 -> tag1 -> tag2 -> tag3 
```

目前我正在使用

```
root = tree.getroot()
for data in root.findall('tag1')
    do_operations(data)
for data in root.findall('tag2')
    do_operations(data) 
```

但这种方法给了我，这很明显

```
tag1 -> tag1 -> tag2 -> tag2 -> tag3 -> tag3 
```

这不是我想要的。

您能否建议一种最佳方法，使我可以以所需的方式传递 XML。tag1 ， tag2 ， tag3 以与上面给出的相同顺序重复很多。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-28T09:44:46.053

IIUC，你不能简单地循环`root`自己吗？

```
>>> for data in root:
...     print data
...     
<Element tag1 at 0x102dea7d0>
<Element tag2 at 0x102dea8c0>
<Element tag3 at 0x102dd6d20>
<Element tag1 at 0x102dea7d0>
<Element tag2 at 0x102dea8c0>
<Element tag3 at 0x102dd6d20> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-28T09:48:35.273

您可以迭代孩子而不是使用 find：

```
for child in root:
    do operations... 
```

如果你对不同的标签做不同的操作，你可以使用 child.tag 来决定做什么：

```
for child in root:
    if child.tag == 'tag1':
       do operations
    elif child.tag == 'tag2':
       do other operations
    ... 
```

或者，您可以将操作放在 dict 中并避免使用 if-elif-else 咒语。

# php - 如果检测到一个或多个空格字符，则正则表达式不应匹配

> ID：15678380
> 
> 赞同：-1
> 
> 时间：2013-03-28T09:36:16.573
> 
> 标签：php, regex, preg-match-all

我的用户输入链接结构：

```
++visible part of link====invisible HTML address part of link++ 
```

输入字符串：

`some text here some text here ++stack overflow====http://stackoverflow.com/questions/ask++ some text here ++examplesite.com====http://www.examplesite.com/article?id=1++ some text here some text here some text here some text here ++shouldnotmatch.com====http://w ww.shouldnotmatch.com/++ some text here.`

我的目标：

如果 和 之间的部分`====`包含`++`一个或多个空格字符，`preg_match_all`则不应匹配。所以我想要的输出是与前两次链接尝试相匹配。但最后一次链接尝试不应匹配，因为`w ww`包含一个空格字符。

我不成功的尝试：

1.  `\+\+(.+?)====(.+?[^ ])\+\+`
2.  `\+\+(.+?)====(.+?[^ {1, }])\+\+`

你能纠正我吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T09:40:13.023

第一次尝试时，您在空间验证之前允许所有字符。

这样的事情有用吗？

```
!\+\+(.+?)====([^ ]+?)\+\+! 
```

如果这些括号之间总是有一些东西，那么你可以去掉 ?

```
!\+\+(.+?)====([^ ]+)\+\+! 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-28T09:42:47.500

试试这个正则表达式：

```
[+]{2}(.+?)[=]{4}([^\s]+?)[+]{2} 
```

# java - 为什么 Java 编译器默认不缩短名称？（用于性能和混淆）

> ID：15678384
> 
> 赞同：3
> 
> 时间：2013-03-28T09:36:29.147
> 
> 标签：java, compilation, obfuscation

我不明白为什么 Java 编译器不通过用一些唯一的 ID 替换它们来缩短变量、参数、方法名称的名称。

例如，给定类

```
public class VeryVeryVeryVeryVeryLongClass {

    private int veryVeryVeryVeryVeryLongInt = 3;

    public void veryVeryVeryVeryVeryLongMethod(int veryVeryVeryVeryVeryLongParamName) {
        this.veryVeryVeryVeryVeryLongInt = veryVeryVeryVeryVeryLongParamName;
    }
} 
```

编译后的文件包含所有这些非常长的名称：

![](../Images/6c1a42b1c87787508526e3fe3aa15467.png)

简单的唯一 ID 不会加快解析速度并提供第一次混淆吗？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-03-28T09:38:24.617

您假设始终需要混淆，但事实并非如此：

*   反射会中断，JavaBeans 和*许多*依赖它的框架也会随之中断
*   堆栈跟踪将变得完全不可读
*   如果您尝试针对已编译的 JAR 进行编码，您最终会得到类似的代码，`String name = p.a1()`而不是`String name = p.getName()`

当您交付完成的应用程序时，混淆通常是最后一步，即使这样，它也不会特别频繁地使用，除非目标平台有严重的内存限制。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-28T09:39:09.870

当你使用一个类时，你通过它们的名字来引用它的方法。因此，编译器需要保留这些名称。

无论如何，我不明白为什么编译器应该旨在混淆任何东西。相反，它的目标应该完全相反：尽可能透明。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-03-28T09:40:26.243

JVM 在内部确实使用数字 ID。

类文件不能像那样混淆，因为 Java 是动态链接的：成员的名称必须是公开可读的，否则其他类不能使用您的代码。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-28T22:44:08.110

> 简单的唯一 ID 不会加快解析速度吗？

不，它会添加一个可能会减慢它的映射。

> 并且还提供了第一个混淆

是的，但谁希望编译器做混淆购买默认？不是我。

你的建议没有任何价值。

# opencart - 基于 Opencart 中货币的税收

> ID：15678385
> 
> 赞同：1
> 
> 时间：2013-03-28T09:36:33.777
> 
> 标签：opencart, currency

目前，税收似乎是根据登录客户的位置显示的。

这对我不起作用有两个原因。我有一个扩展程序，可以根据客户 ip 自动显示货币，而且没有登录选项，它只是客人结帐。

所以我真的需要它根据显示的货币显示正确的价格。

有谁知道代码在哪里，或者如何正确调整显示的价格？

任何帮助是极大的赞赏。

谢谢

-詹姆士

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T16:06:34.473

我想您应该扩展您用于基于 IP 地址显示货币的扩展名。

找到填充基于用户 IP 地址的货币的代码行并调用：

```
$this->currency->set($currency_code); 
```

其中`$currency_code`应该是管理中设置的货币的 3 个字符的货币 ISO 代码（例如*USD*、*EUR*等）。

通过这种方式，您可以设置用于价格计算的货币——这反映了基于用户 IP 地址的货币。然后将此货币代码保存到会话和 cookie 中，以便它可以在 OpenCart 前端的任何页面上工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-03-24T13:11:01.477

我认同

返回当前设置货币的 3 字符 ISO 4217 货币代码。

```
// Return when Pound Sterling is the set currency
$currency_code = $this->currency->getCode();
var_dump($currency_code); // string 'GBP' (length=3) 
```

你也可以

```
$this->currency->set($currency_code); 
```

请找到货币文件[https://github.com/opencart/opencart/blob/master/upload/system/library/currency.php](https://github.com/opencart/opencart/blob/master/upload/system/library/currency.php)

谢谢

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-03-24T14:15:51.227

我想我找到了正确的方法：转到文件系统/库/tax.php。

第 27 行：

```
if(!$reg){
            if($currentCurrency == "CHF"){
                $country_id = 204;
            }else if($currentCurrency == "EUR"){
                $country_id = 81;
            }
        } 
```

这将根据所选货币设置用户所在的国家/地区，并将设置国家/地区进行税收计算。

# javascript - 模型未从视图传递到控制器

> ID：15678389
> 
> 赞同：0
> 
> 时间：2013-03-28T09:37:00.140
> 
> 标签：javascript, asp.net-mvc-3

我是 mvc 和 javascript 的新手。起初我使用 javascript 在 divsion 中应用 parital 视图

```
$('.btngo').click(function (e) {
        var fid = $('#FiscalYear_FYId').val();
      alert($('#FiscalYear_FYId').val());
        $.ajax({
            type: 'Get',
            url: '@Url.Action("RateList", "Rate")',
            data: { fyid: fid },
            success: function (sc) {
                $('#Ratelist').html(sc);

            }
        });
    }); 
```

部分视图是模型 FHIControl.Model.StationeryRate.RateDTO，它包含一个提交按钮，我的视图看起来像

```
@using (Html.BeginForm("Ratelist", "Rate", FormMethod.Post))
{
    @Html.ValidationSummary(true)

    <table>
    <thead>
    <tr>
    <th>Item Id</th>
    <th>Item Name</th>
    <th>Rate</th>

    </tr>
    </thead>

   @Html.HiddenFor(x=>Model.FiscalYear.FYId)
     @foreach (var item in Model.RateList)
      {
        <tr>
             @Html.HiddenFor(x => item.ItemId)
         <td>@{count++;}@count</td>
        <td>@Html.DisplayFor(x => item.ItemName)</td>
        <td>@Html.TextBoxFor(x => item.Rate)</td>
        </tr>
      }

</table>
        <p>
            <input type="submit" value="Ok" id="btnsubmit" />
        </p>
} 
```

按钮提交是提交表单但没有模型项目。为什么会这样？有什么办法可以使这个工作？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T10:45:11.897

没有模型项，因为您只传递 的值`FiscalYear_FYId`：

```
 var fid = $('#FiscalYear_FYId').val();
    $.ajax({
        data: { fyid: fid },                    
    }); 
```

应该是：

```
 $.ajax({
        data: $form.serialize(),            
    }); 
```

哪里`$form`是对您的表格的引用。您可以为更快和更好的参考命名，也可以像这样引用它：

```
 var $form = $("#btnsubmit").parents('form'); 
```

# html - html层次结构变化

> ID：15678392
> 
> 赞同：0
> 
> 时间：2013-03-28T09:37:07.230
> 
> 标签：html, css

在更改之前，我像这样在一页中更改了标记

```
<div class="header-wrapper header">         
   <h1 wicket:id="headerTitle" class="dealer-name">Excellence Holden</h1>
</div> 
```

改变后

```
 <h1 class="header-wrapper header">         
    <span wicket:id="headerTitle" class="dealer-name">Excellence Holden</span>
 </h1> 
```

更改标记后“Excellence Holden”的字体大小正在增加。它会发生还是我做错了什么？

CSS代码：

```
.header-wrapper {
    padding:15px 0;        
}
 .header-wrapper .dealer-name {
     text-align: center;
     font-size: 1.3em;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T09:40:27.617

您需要在css中更改span的字体大小，找到为h1定义的字体，然后将相同的字体应用于标签

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T09:40:55.383

因为如果你不重置`font-size`for h1，它会自动高于正常值。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-28T09:41:42.467

我会说这是与 CSS 相关的，

通常，新的 CSS 文件包含标签的字体 ( `Size`, `Family`, `weight`) 属性。`<h1>`

请检查两者`h1`和`span`CSS 属性。您可以使用浏览器检查器（Chrome Inspect Element）查看实际属性。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-28T09:42:11.377

是因为你的造型。像这样更改 HTML 时，您需要确保样式也相应更改。

例如：

```
div.header { font-weight:bold; }
div.header h1 { font-size:24px; } 
```

上面的 CSS 将应用于第一个 HTML 片段，而*不是*第二个。您必须将其更改为：

```
h1.header { font-weight:bold; }
h1.header span { font-size:24px; } 
```

并确保没有其他可能影响这一点的样式`h1`。`span`

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-28T10:15:33.200

更改后，设置在内部元素上的字体大小`1.3em`，改变其含义。原因是在`font-size`元素的值中使用时，`em`单位表示父元素的字体大小。这里的父元素是一个`h1`元素，常用且推荐的浏览器默认是该`h1`元素的字体大小为`2em`，即其父元素字体大小的两倍。

要覆盖此效果，请添加以下内容：

```
h1.header-wrapper { font-size: 1em; } 
```

# javascript - Html 可选框选中问题

> ID：15678394
> 
> 赞同：0
> 
> 时间：2013-03-28T09:37:14.273
> 
> 标签：javascript, html

我有一个选择项目的 html 列表。有一个值名称：**other**，如果选择它，我想显示一个文本输入。

以下是我的代码。如果用户选择除 之外的任何选项`other`，则文本输入应隐藏。当用户从选择中选择时，如何显示此文本字段`other`。

```
<td>
    Interest <span style="color:#F00;">*</span>
</td>
<td>
    <select name="interest" id="travel_arriveVia" onchange="showfield(this.options[this.selectedIndex].value)">
        <option value="art" <?php if ($g_interest=="art" ) echo 'selected = "selected"'; ?>>Art</option>
        <option value="litteratures" <?php if ($g_interest=="litteratures" ) echo 'selected = "selected"'; ?>>Litteratures</option>
        <option value="business" <?php if($g_interest=="business" ) echo 'selected = "selected"'; ?>>Business</option>
        <option value="internet" <?php if($g_interest=="internet" ) echo 'selected = "selected"'; ?>>Internet</option>
        <option value="other_interest" <?php if($g_interest=="internet" ) echo 'selected = "selected"'; ?>>Other</option>
    </select>

    <script type="text/javascript">
        function showfield(name) {
            if (name == 'other_interest') document.getElementById('div1').innerHTML = '<input type="text" name="other_interest" class="trother" />';
            else document.getElementById('div1').innerHTML = '';
        }
    </script>
    <div id="div1"></div>
</td> 
```

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T09:54:27.613

您可以执行以下操作，而不是您的 div1：

```
<select name="interest" id="travel_arriveVia" onchange="showfield(this.options[this.selectedIndex].value)">
        <option value="art" <?php if ($g_interest=="art" ) echo 'selected = "selected"'; ?>>Art</option>
        <option value="litteratures" <?php if ($g_interest=="litteratures" ) echo 'selected = "selected"'; ?>>Litteratures</option>
        <option value="business" <?php if($g_interest=="business" ) echo 'selected = "selected"'; ?>>Business</option>
        <option value="internet" <?php if($g_interest=="internet" ) echo 'selected = "selected"'; ?>>Internet</option>
        <option value="other_interest" <?php if($g_interest=="internet" ) echo 'selected = "selected"'; ?>>Other</option>
</select>

<input type="text" name="other_interest" id="txtOther" class="trother" style="display: none;" />

<script>
  function showfield(name) {
        if (name == 'other_interest') document.getElementById('txtOther').style = 'display: block;';
        else document.getElementById('txtOther').style = 'display: none;';
    }
</script> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T09:56:33.280

将文本输入保留在那里，但仅在选择更改时显示和隐藏它。

```
<select name="interest" id="travel_arriveVia" onchange="showfield(this.options[this.selectedIndex].value)">
    <option value="art" <?php if ($g_interest=="art" ) echo 'selected = "selected"'; ?>>Art</option>
    <option value="litteratures" <?php if ($g_interest=="litteratures" ) echo 'selected = "selected"'; ?>>Litteratures</option>
    <option value="business" <?php if($g_interest=="business" ) echo 'selected = "selected"'; ?>>Business</option>
    <option value="internet" <?php if($g_interest=="internet" ) echo 'selected = "selected"'; ?>>Internet</option>
    <option value="other_interest" <?php if($g_interest=="other_interest" ) echo 'selected = "selected"'; ?>>Other</option>
</select>

<input type="text" id="other_interest" name="other_interest" class="trother" style="<?php if($g_interest != 'other_interest') echo 'display:none;'; ?>" />

<script type="text/javascript">
    function showfield(name) {

        var input = document.getElementById("other_interest");
        if (name == 'other_interest') {
            input.style.display = "";
        } else {
            input.style.display = "none";
        }
    }
</script> 
```

# c# - Windows 服务 c# 中的 AssemblyResolve

> ID：15678396
> 
> 赞同：0
> 
> 时间：2013-03-28T09:37:17.640
> 
> 标签：c#, .net, windows, assemblies

我有一个问题，我在正常的应用程序中以正常的 AssemblyResolve 方式解决了一个问题，即通过创建一个事件，例如

```
AppDomain.CurrentDomain.AssemblyResolve += EmbeddedAssemblyResolver; 
```

EmbeddedAssemblyResolver 的样子

```
private static Assembly EmbeddedAssemblyResolver(object sender, ResolveEventArgs args)
    {
            String resourceName = Assembly.GetExecutingAssembly().FullName.Split(',').First() + "." + new AssemblyName(args.Name).Name + ".dll";
            using (var stream = Assembly.GetExecutingAssembly().GetManifestResourceStream(resourceName))
            {
                if (stream != null)
                {
                    Byte[] assemblyData = new Byte[stream.Length];
                    stream.Read(assemblyData, 0, assemblyData.Length);
                    return Assembly.Load(assemblyData);
                }
            }
        return null;
    } 
```

在应用程序中，这一切都很正常，我将所有的 dll 嵌入到应用程序中，然后它们使用加载器加载。但是对于我想要以相同方式工作的服务来说，情况并非如此，我在事件日志中得到的只是 FileNotFound 异常。我在 Program.cs Main() 方法中运行上述代码，该方法除了加载要运行的服务和链接到无动态程序集之外几乎没有什么其他作用。这是代码

```
 static void Main()
    {
        ServiceBase[] ServicesToRun;
        ServicesToRun = new ServiceBase[]
            {
                new ServiceLoader()
            };
        ServiceBase.Run(ServicesToRun);
    } 
```

有谁知道为什么解析器在应用程序中工作，而不是在 Windows 服务中工作？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T11:11:35.293

看起来我是个白痴，我嵌入了错误的 dll，我嵌入了正确的，一切正常。

# php - PHP域名验证

> ID：15678397
> 
> 赞同：1
> 
> 时间：2013-03-28T09:37:18.783
> 
> 标签：php, dns

这是关于域名验证的另一个话题。我阅读了其他主题的答案。我尝试了几个脚本。我**不想**使用**API**。除非有免费的 API 但我还没有找到。

我试图检查DNS以下代码：

```
if($_POST['submit']){

    if(!empty($_POST['check_site'])){
        $url = $_POST['check_site'];

        //add .nl
        if(!strpos($url,'.nl')){
            $url.= '.nl';
        }

        //check dns record
        $result  = dns_get_record($url);

        if(count($result) > 0)
        {
            echo $url. ' is used';
        }else{
            echo $url. ' is free';
        }
    }
} 
```

问题是当我尝试检查“example.nl”（一个已注册但不活动的域）时，它不会返回 DNS 数据，所以我验证它是免费域。

我的问题是：

1.  有人修吗？

2.  有没有人有建议（链接到其他脚本/文章）

3.  有没有办法检查网站是否有**registrar**。

我仍然是学生，但这不是学校项目。

实时代码：[链接](http://jdkmedia.nl/PHP)

**我正在检查答案，提前谢谢**

编辑：

当我尝试

```
 shell_exec (whois -h whois.domain-registry.nl 'is example.nl'); 
```

我收到意外的 T_String 错误。使用它的正确方法是什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-28T10:00:30.010

如果您的 PHP 安装有权执行基于 UNIX 的服务器上常见的 whois 命令行实用程序，您可以从以下命令获取信息：

```
whois -h whois.domain-registry.nl 'is example.nl' 
```

此命令取自[此 SIDN 页面](https://www.sidn.nl/over-nl/whois/domeinnaamgegevens-zoeken/)，位于“Is”下。您必须检查您是否可以每天从一个 IP 地址执行此操作超过 15 次，因为对于更完整的 whois（没有“is”）您也无法执行此操作。您似乎也被限制为每秒一个请求。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-28T10:00:36.580

我认为 PHP 函数会检查站点是否分配给 IP 地址。这就是为什么非活动域被标识为免费的原因！

无论如何，您可以使用 PHP 的[checkdnsrr()](http://www.phpdig.net/ref/rn42re805.html)再次检查您的代码。

如果它不起作用，则**为此目的****有一个[扩展。](http://sourceforge.net/projects/phpwhois/files/phpwhois/)我认为它是免费的**。

# ruby-on-rails - 代码中的错误红宝石“TypeError - 无法复制符号”

> ID：15678398
> 
> 赞同：0
> 
> 时间：2013-03-28T09:37:32.737
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3

刚刚出现的代码有问题，但在我得到这个代码之前就可以工作：

1.  控制器

    ```
    def new
    errors ||= Array.new
    if params[:file].blank? 
      errors.push(I18n.t("errors.messages.file_error"))
    end
    if errors.length == 0 
     # begin
     # 
      binding.pry
        assetObject = Assets.new(:asset=>params[:file])
        assetObject.save!
        image = assetObject.asset.url(:small)
        imageExpBanner = assetObject.asset.url(:expBanner)
        data = OpenStruct.new({
          id: assetObject.id,
          uri: image,
          expBannerUri: imageExpBanner
        })
        @responseObject = OpenStruct.new({
          status: true,
          errors: [],
          code: API_CODE_ERRORS['Services']['Global']['success'],
          objectData: data
        })
        render :template => 'api/v1/general/assets/new' ,:handlers => [:rabl],:formats => [:json]
      #rescue => e
      #  binding.pry
      #  logger.error e
       # errors.push(I18n.t("errors.messages.file_size_error"))
      #  render :json => Api::Init.ShowErrorJson(API_CODE_ERRORS['Services']['Global']['file_size'],I18n.t("errors.messages.feelike.input_error"), errors).to_json
    # end
    else
      render :json => Api::Init.ShowErrorJson(API_CODE_ERRORS['Services']['Global']['formInputError'],I18n.t("errors.messages.feelike.input_error"), errors).to_json
    end 
    ```

    结尾

2.  模型

资产类 < ActiveRecord::Base

```
 attr_accessible :asset,:asset_content_type, :asset_file_name, :asset_file_size

  has_attached_file :asset, :styles => { 
    :small => "150x150>" ,
    :expBanner => "620x184",
    :expBigImage => "304X304",
    :expSmallImage => "148X148",
    :storage => :s3,
    :s3_credentials => "#{Rails.root}/config/s3.yml",
    :path => "/uploads/:style/:id/:hash.:extension",
    :url  => :s3_eu_url ,
    :hash_secret => "longSecretString"
    }
    validates :asset, :attachment_presence => true
  validates_attachment_size :asset, :less_than => 10.megabytes
  validates_attachment_content_type :asset, :content_type => ['image/jpeg','image/gif', 'image/png']
end 
```

现在它返回我这个错误：

```
Started POST "/api/general/assets/new" for 127.0.0.1 at 2013-03-28 11:32:19 +0200
Processing by Api::V1::General::AssetsController#new as JSON
  Parameters: {"file"=>#<ActionDispatch::Http::UploadedFile:0x007fc39853ac10 @original_filename="usidentification.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"usidentification.jpg\"\r\nContent-Type: image/jpeg\r\n", @tempfile=#<File:/tmp/RackMultipart20130328-15640-1hdj5ee>>}
WARNING: Can't verify CSRF token authenticity
Completed 500 Internal Server Error in 3491ms

TypeError - can't dup Symbol:
  (gem) paperclip-3.4.0/lib/paperclip/attachment.rb:176:in `block in styles'
  (gem) paperclip-3.4.0/lib/paperclip/attachment.rb:175:in `styles'
  (gem) paperclip-3.4.0/lib/paperclip/attachment.rb:421:in `post_process_styles'
  (gem) paperclip-3.4.0/lib/paperclip/attachment.rb:415:in `block (2 levels) in post_process'
  /usr/local/rvm/gems/ruby-1.9.3-p327@global/gems/activesupport-3.2.9/lib/active_support/callbacks.rb:403:in `_run__3148635882202100687__asset_post_process__2098004068316531280__callbacks'
  /usr/local/rvm/gems/ruby-1.9.3-p327@global/gems/activesupport-3.2.9/lib/active_support/callbacks.rb:405:in `__run_callback'
  /usr/local/rvm/gems/ruby-1.9.3-p327@global/gems/activesupport-3.2.9/lib/active_support/callbacks.rb:385:in `_run_asset_post_process_callbacks'
  /usr/local/rvm/gems/ruby-1.9.3-p327@global/gems/activesupport-3.2.9/lib/active_support/callbacks.rb:81:in `run_callbacks'
  (gem) paperclip-3.4.0/lib/paperclip/callbacks.rb:26:in `run_paperclip_callbacks'
  (gem) paperclip-3.4.0/lib/paperclip/attachment.rb:414:in `block in post_process'
  /usr/local/rvm/gems/ruby-1.9.3-p327@global/gems/activesupport-3.2.9/lib/active_support/callbacks.rb:403:in `_run__3148635882202100687__post_process__2098004068316531280__callbacks'
  /usr/local/rvm/gems/ruby-1.9.3-p327@global/gems/activesupport-3.2.9/lib/active_support/callbacks.rb:405:in `__run_callback'
  /usr/local/rvm/gems/ruby-1.9.3-p327@global/gems/activesupport-3.2.9/lib/active_support/callbacks.rb:385:in `_run_post_process_callbacks'
  /usr/local/rvm/gems/ruby-1.9.3-p327@global/gems/activesupport-3.2.9/lib/active_support/callbacks.rb:81:in `run_callbacks'
  (gem) paperclip-3.4.0/lib/paperclip/callbacks.rb:26:in `run_paperclip_callbacks'
  (gem) paperclip-3.4.0/lib/paperclip/attachment.rb:413:in `post_process'
  (gem) paperclip-3.4.0/lib/paperclip/attachment.rb:108:in `assign' 
```

现在它意味着什么类型错误 - 无法复制符号现在我尝试了几种方法修复并得到这个每次都需要帮助

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T10:04:36.267

found the issue was there

```
 has_attached_file :asset, :styles => { 
    :small => "150x150>" ,
    :expBanner => "620x184",
    :expBigImage => "304X304",
    :expSmallImage => "148X148",
},
    :storage => :s3,
    :s3_credentials => "#{Rails.root}/config/s3.yml",
    :path => "/uploads/:style/:id/:hash.:extension",
    :url  => :s3_eu_url ,
    :hash_secret => "longSecretString" 
```

# c# - C# 中的动态灵活性

> ID：15678400
> 
> 赞同：1
> 
> 时间：2013-03-28T09:37:44.710
> 
> 标签：c#, dynamic

我最近开始学习编程并选择了带有 Visual Studio Express 的 .NET。我正在尝试编写一个 CSV 解析器作为一种学习体验，它给我带来的麻烦比我预期的要多得多。我从读者开始。我在解析器中做的不同的一件事是我没有使用引号。我用反斜杠转义逗号，用反斜杠转义反斜杠，用反斜杠转义换行符。例如，如果逗号前面有偶数个反斜杠，则它是一个字段，我将任何反斜杠块减半。如果它很奇怪，它不是字段结束，我仍然将反斜杠块减半。我不确定如果我能让它工作起来会有多强大，除了我现在只是在学习，而且我主要把它看作是操作数据结构的练习。

我有一个关于这篇文章底部的代码片段的问题，以及如何使它不那么静态和限制，并且仍然为我编译和运行。

代码行如下：

```
var contents = (String)fileContents; 
```

我一直在努力使其更具动态性以增加灵活性并使其变得像这样：

```
var contents = (otherVariableThatCouldChangeTypeAtRuntime.GetType())fileContents; 
```

我可以做些什么来让它这样做并且仍然编译吗？也许像 VB.NET 中的 Option Infer 这样的东西可能会有所帮助，但我找不到。

另外，我也在 VB.NET 中编写了这个。在我看来，VB.NET 允许我使用比我在下面发布的更动态的样式，例如不必一遍又一遍地键入 var 并且不必一遍又一遍地将我的索引计数变量转换为整数如果我关闭 Option Strict 和 Option Explicit 并打开 Option Infer，则再次。例如，C# 不允许我键入类似于以下 VB.NET 代码的内容，即使我知道我将在运行时调用的方法和属性将在运行时存在。

```
 Dim contents As Object = returnObjectICantDetermineAtComplieTime()
    contents.MethodIKnowWillBeThereAtRunTime() 
```

我可以在 C# 中做这些事情吗？无论如何，这是代码，并提前感谢您的任何回复。

```
 public class Widget
    {
        public object ID { get; set; }
        public object PartNumber { get; set; }
        public object VendorID { get; set; }
        public object TypeID { get; set; }
        public object KeyMarkLoc { get; set; }

        public Widget() { }
    }

    public object ReadFromFile(object source)
        {
            var fileContents = new FileService().GetFileContents(source);
            object records = null;

            if (fileContents == null)
                return null;

            var stringBuffer = "";
            var contents = (String)fileContents;

            while (contents.Length > 0 && contents != "\r\n")
            {
                for (object i = 0; (int)i < contents.Length; i=(int)i+1 )
                {
                    object character = contents[(int)i];

                    if (!stringBuffer.EndsWith("\r\n"))
                    {
                        stringBuffer += character.ToString();
                    }

                    if (stringBuffer.EndsWith("\r\n"))
                    {
                        var bSlashes = getBackSlashes(stringBuffer.Substring(0, stringBuffer.Length - 4));
                        stringBuffer = stringBuffer.Substring(0, stringBuffer.Length - 4);
                        if ((int)bSlashes % 2 == 0)
                        {
                            break;
                        }
                    }
                }

                contents = contents.Substring(stringBuffer.Length+2);
                records = records == null ? getIncrementedList(new List<object>(), getNextObject(getFields(stringBuffer))) : getIncrementedList((List<object>)records, getNextObject(getFields(stringBuffer)));
            }

            return records;
        }

        private Widget getNextRecord(object[] fields)
        {
            var personStudent = new Widget();

            personStudent.ID = fields[0];
            personStudent.PartNumber = fields[1];
            personStudent.VendorID = fields[2];
            personStudent.TypeID = fields[3];
            personStudent.GridPath = fields[4];

            return personStudent;
        }

        private object[] getFields(object buffer)
        {
            var fields = new object[5];
            var intFieldCount = 0;
            var fieldVal = "";
            var blocks = buffer.ToString().Split(',');
            foreach (var block in blocks) 
            {
                var bSlashes = getBackSlashes(block);

                var intRemoveCount = (int)bSlashes / 2;
                if ((int)bSlashes % 2 == 0) // Delimiter
                {
                    fieldVal += block.Substring(0, block.Length - intRemoveCount);
                    fields[intFieldCount] += fieldVal;
                    intFieldCount++;
                    fieldVal = "";
                }
                else // Part of Field
                {
                    fieldVal += block.Substring(0, block.Length - intRemoveCount - 1) + ",";
                }
            }

            return fields;
        }

        private object getBackSlashes(object block)
        {
            object bSlashes = block.ToString().Length == 0 ? new int?(0) : null;
            for (object i = block.ToString().Length - 1; (int)i>-1; i=(int)i-1)
            {
                if (block.ToString()[(int)i] != '\\') return bSlashes = bSlashes == null ? 0 : bSlashes;
                bSlashes = bSlashes == null ? 1 : (int)bSlashes + 1;
            }

            return bSlashes;
        }
    } 
```

这是网络服务代码。

```
 [WebMethod]
    public object GetFileContents(object source)
    {
        return File.ReadAllText(source.ToString());
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T09:40:05.090

> ```
> Dim contents As Object = returnObjectICantDetermineAtComplieTime()
> contents.MethodIKnowWillBeThereAtRunTime() 
> ```

您可以使用`dynamic`类型执行此操作。有关详细信息，请参阅：http: [//msdn.microsoft.com/en-us/library/dd264736.aspx](http://msdn.microsoft.com/en-us/library/dd264736.aspx)

# c - 比较位运算符

> ID：15678405
> 
> 赞同：0
> 
> 时间：2013-03-28T09:38:00.627
> 
> 标签：c, bitwise-operators

```
gcc 4.7.2
c89 
```

你好，

```
enum message_e {
    SIP_CONNECTED = 1 << 0,
    CALL_ACCEPTED = 1 << 1
}; 
```

在我的代码的不同部分设置位：

```
channel->base.message |= CALL_ACCEPTED;
channel->base.message |= SIP_CONNECTED; 
```

稍后我想检查以确保两个位都已设置：

```
if((channel->base.message & SIP_CONNECTED) && (channel->base.message & CALL_ACCEPTED)) {
    /* IF BOTH BITS ARE SET CALL_ACCEPTED and SIP_CONNECTED */    
} 
```

如果仅设置了这些位，我只想通过 if 语句。如果设置了 CALL_ACCEPTED 而没有设置 SIP_CONNECTED，反之亦然。

但是，如果只设置其中一个，它似乎会落入 if 语句。

非常感谢您的任何建议，

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T09:43:24.283

代码是正确的

`if`只有同时 `CALL_ACCEPTED`设置和`SIP_CONNECTED`设置时，才会执行进入的代码

可能在您完成检查之前您的代码中有错误并且 `CALL_ACCEPTED`or`SIP_CONNECTED`设置不正确

`if`在两者 之前检查`CALL_ACCEPTED`并`SIP_CONNECTED`正确设置。

您可以使用调试或使用`printf`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-28T09:52:38.173

你检查过 CALL_ACCEPTED 和 SIP_CONNECTED 宏吗？它们是否相互冲突？例如：

```
CALL_ACCEPTED is 0x01 and SIP_CONNECTED is 0x11. 
```

在你的代码之后：

```
channel->base.message |= CALL_ACCEPTED;
channel->base.message |= SIP_CONNECTED;

channel->base.message = 0x11; 
```

所以`if((channel->base.message & SIP_CONNECTED) && (channel->base.message & CALL_ACCEPTED))` 总是正确的。这是我的分析

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-28T09:43:11.890

它是必需的二进制 AND**运算符 &**。&& 是逻辑与运算符。

```
if((channel->base.message & SIP_CONNECTED) & (channel->base.message & CALL_ACCEPTED)) { 
```

# mysql - 何时使用 MyISAM 和 InnoDB？

> ID：15678406
> 
> 赞同：136
> 
> 时间：2013-03-28T09:38:02.097
> 
> 标签：mysql, database, database-schema

MyISAM 的设计理念是您的数据库被查询的次数远远超过其更新次数，因此它执行非常快速的读取操作。如果您的读写（插入|更新）比率小于 15%，则最好使用 MyISAM。

InnoDB 使用行级锁定，具有提交、回滚和崩溃恢复功能来保护用户数据。它支持事务和容错

MyISAM 和 InnobDB 之间的上述差异是否正确？**如果 MISAM 和 InnobDB 有任何其他限制，请指导。我什么时候应该使用 MyiSAM 或 Innodb？**谢谢！

* * *

## 回答 #1

> 赞同：237
> 
> 时间：2013-03-28T09:48:11.223

阅读有关[**存储引擎**](http://dev.mysql.com/doc/refman/5.1/en/storage-engines.html)的信息。

**MyISAM：**

MySQL 中的[MyISAM](http://dev.mysql.com/doc/refman/5.1/en/myisam-storage-engine.html)存储引擎。

*   设计和创建更简单，因此更适合初学者。不用担心表之间的外部关系。
*   由于结构更简单，因此总体上比 InnoDB 更快，因此服务器资源的成本要低得多。——大部分不再正确。
*   全文索引。-- InnoDB 现在有了
*   特别适用于读取密集型（选择）表。——大部分不再正确。
*   磁盘占用空间比 InnoDB 少 2 到 3 倍。-- 从 5.7 版开始，这可能是 MyISAM 唯一真正的优势。

**InnoDB：**

MySQL 中的[InnoDB](http://dev.mysql.com/doc/refman/5.1/en/innodb-storage-engine.html)存储引擎。

*   支持事务（为您提供对[ACID](http://en.wikipedia.org/wiki/ACID)属性的支持）。
*   行级锁定。[与例如MyISAM](http://dev.mysql.com/doc/refman/5.1/en/myisam-storage-engine.html)相比，拥有更细粒度的锁定机制可以为您提供更高的并发性。
*   外键约束。让你让数据库保证数据库状态的完整性，以及表之间的关系。
*   InnoDB 比 MyISAM 更能抵抗表损坏。
*   支持数据和索引的大型缓冲池。MyISAM 密钥缓冲区仅用于索引。
*   MyISAM 停滞不前；所有未来的增强都将在 InnoDB 中。随着 8.0 版的推出，这一点变得非常清楚。

**MyISAM 限制：**

*   没有外键和级联删除/更新
*   没有事务完整性（ACID 合规性）
*   没有回滚能力
*   4,284,867,296 行限制 (2^32) - 这是旧的*默认值*。可配置的限制（对于许多版本）是 2**56 字节。
*   每个表最多 64 个索引

**InnoDB 限制：**

*   无全文索引（mysql 5.6以下版本）
*   无法压缩以实现快速、只读（5.5.14 引入`ROW_FORMAT=COMPRESSED`）
*   您无法修复 InnoDB 表

**如需简要了解，请阅读以下链接：**

1.  [MySQL 引擎：InnoDB 与 MyISAM – 优缺点比较](http://www.kavoir.com/2009/09/mysql-engines-innodb-vs-myisam-a-comparison-of-pros-and-cons.html)
2.  [MySQL 引擎：MyISAM 与 InnoDB](http://tag1consulting.com/mysql_engines_myisam_vs_innodb)
3.  [InnoDB 和 MyISAM 之间的主要区别是什么？](https://dba.stackexchange.com/questions/1/what-are-the-main-differences-between-innodb-and-myisam/2194#2194)
4.  [MyISAM 与 InnoDB](https://stackoverflow.com/questions/20148/myisam-versus-innodb)
5.  [MyISAM 和 InnoDB 有什么区别？](https://stackoverflow.com/questions/12614541/myisam-vs-innodb)
6.  [MySql：MyISAM 与 Inno DB！](https://stackoverflow.com/questions/277440/mysql-myisam-vs-inno-db)

* * *

## 回答 #2

> 赞同：20
> 
> 时间：2013-03-28T09:44:23.887

将 MyISAM 用于非常不重要的数据，或者如果您确实需要那些最小的性能优势。MyISAM 的读取性能并非在每种情况下都更好。

我个人再也不会使用 MyISAM 了。如果您需要更高的性能，请选择 InnoDB 并投入更多的硬件。另一个想法是查看具有更多功能的数据库系统，例如 PostgreSQL（如果适用）。

**编辑**：对于读取性能，此链接显示 innoDB 实际上*并不*比 MyISAM 慢：[https ://www.percona.com/blog/2007/01/08/innodb-vs-myisam-vs-falcon-benchmarks -第1部分/](https://www.percona.com/blog/2007/01/08/innodb-vs-myisam-vs-falcon-benchmarks-part-1/)

# php - 如何防止访问 php 文件

> ID：15678407
> 
> 赞同：-1
> 
> 时间：2013-03-28T09:38:03.147
> 
> 标签：php, sessionid

我正在寻找一种解决方案来阻止访问我的 php 文件。我正在通过我的主页调用一个 php 文件来进行一些数据库调用。为了防止其他人调用此文件，我正在寻找一种解决方案，即只有我的主页从 php 文件中获得答案，并防止将输出提供给直接调用该文件的其他人。

感谢您提前提出任何建议。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T10:19:36.770

> 如何防止访问 php 文件。它是 Ajax 和一个 post via form.submit 取决于数据

没有**办法。**

您不是通过任何主页调用文件，而是用户的浏览器调用它。因此，任何其他浏览器也可以调用它。

> 但是我有人能够发布一些东西并污染我的数据库。

那是另一回事。如果此页面用于将某些内容发布到数据库中，则需要通过通常的方式保护它，无论是通过密码还是 CAPTCHA，取决于页面角色。但这仍然不会*阻止对文件的访问，*而只是防止滥用。

# android - 如何使用网格视图中的片段？

> ID：15678412
> 
> 赞同：0
> 
> 时间：2013-03-28T09:38:25.943
> 
> 标签：android, gridview, android-fragments

我正在尝试在我的应用程序中制作图像库，我目前将其作为网格视图，然后通过 ImageAdapter 传递到完整图像视图。

问题是我希望能够在从网格视图单击后在图片之间滑动。

有人提到我可能可以使用片段来做到这一点，但我是 android 开发的新手。

有人可以进一步解释如何做到这一点。谢谢

我的代码是：

```
 public class Marble extends Activity{

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        // TODO Auto-generated method stub
        super.onCreate(savedInstanceState);
        setContentView(R.layout.marble);

GridView gridView = (GridView) findViewById(R.id.gridview1);

        // Instance of ImageAdapter Class
        gridView.setAdapter(new ImageAdapter1(this));

        /**
         * On Click event for Single Gridview Item
         * */
        gridView.setOnItemClickListener(new OnItemClickListener() {
            @Override
            public void onItemClick(AdapterView<?> parent, View v,
                    int position, long id) {

                // Sending image id to FullScreenActivity
                Intent i = new Intent(getApplicationContext(), FullImageActivity1.class);
                // passing array index
                i.putExtra("id", position);
                startActivity(i);
            }
        });

    }
} 
```

然后

```
public class FullImageActivity1 extends Activity {

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.full_image);

        // get intent data
        Intent i = getIntent();

        // Selected image id
        int position = i.getExtras().getInt("id");
        ImageAdapter1 imageAdapter1 = new ImageAdapter1(this);

        ImageView imageView = (ImageView) findViewById(R.id.fullimage);
        imageView.setImageResource(imageAdapter1.mThumbIds[position]);
        imageView.setScaleType(ImageView.ScaleType.FIT_XY);
    }
} 
```

最后：

```
public class ImageAdapter1 extends BaseAdapter {
    private Context mContext;

    // Keep all Images in array
    Integer[] mThumbIds = {
            R.drawable.arabescato, R.drawable.biancocarrara,
            R.drawable.botticinoclassico, R.drawable.calacattaoro,
            R.drawable.cremamarfil, R.drawable.cremavalencia,
            R.drawable.emperadordark, R.drawable.jurabeige,
            R.drawable.neromarquina, R.drawable.perlatoolympo,
            R.drawable.rojoalicante

    };

    // Constructor
    public ImageAdapter1(Context c){
        mContext = c;
    }

    @Override
    public int getCount() {
        return mThumbIds.length;
    }

    @Override
    public Object getItem(int position) {
        return mThumbIds[position];
    }

    @Override
    public long getItemId(int position) {
        return 0;
    }

    @Override
    public View getView(int position, View convertView, ViewGroup parent) {         
        ImageView imageView = new ImageView(mContext);
        imageView.setImageResource(mThumbIds[position]);
        imageView.setScaleType(ImageView.ScaleType.CENTER_CROP);
        imageView.setLayoutParams(new GridView.LayoutParams(265, 265));
        return imageView;
    }

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T10:58:40.173

而不是图像视图在您的 FullImageActivity1 中放置一个视图寻呼机

```
this.mPagerfrimage = new pagerfrimage(getSupportFragmentManager(),
                list of drawables here);
        ViewPager vp_image = (ViewPager) findViewById(R.id.viewpager1);
        vp_image.setAdapter(mPagerfrimage); 
```

这是寻呼机适配器类

```
class pagerfrimage extends FragmentPagerAdapter {
    List<Integer> la;

    public pagerfrimage(FragmentManager fm, List<Integer> result) {
        super(fm);
        this.la = result;
        // TODO Auto-generated constructor stub
    }

    @Override
    public Fragment getItem(int arg0) {
        // TODO Auto-generated method stub
        fragmentforimage ffrFragmentforimage = new fragmentforimage();
        Bundle bundle = new Bundle();
        bundle.putInt("resourceid", la.get(arg0));
        bundle.putInt("number", arg0);
        ffrFragmentforimage.setArguments(bundle);
        return ffrFragmentforimage;
    }

    @Override
    public int getCount() {
        // TODO Auto-generated method stub
        return la.size();
    }

} 
```

片段类

```
public class fragmentforimage extends Fragment {
int number;
int resourceid;
    @Override
    public void onCreate(Bundle savedInstanceState) {
        // TODO Auto-generated method stub
        super.onCreate(savedInstanceState);
        resourceid=getArguments()!=null?getArguments().getInt("resourceid"):0;
        number=getArguments()!=null?getArguments().getInt("number"):0;
    }

    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container,
            Bundle savedInstanceState) {
        // TODO Auto-generated method stub
        View v=inflater.inflate(R.layout.yourlayot containing image view, container, false);
        ImageView iv=(ImageView)v.findViewById(R.id.your imageviews id);
        Drawable drawable=getResources().getDrawable(resourceid);
            iv.setImageDrawable(drawable);
            return v;} 
```

您可以传递当前选择的图像 ID，这样您就可以首先根据需要更改代码

# spring - 在 Java 7 中使用 AspectJ AOP 时出错

> ID：15678417
> 
> 赞同：23
> 
> 时间：2013-03-28T09:38:34.903
> 
> 标签：spring, aspectj, java-7

我已将 Java 更新到版本“1.7.0_09-icedtea”（以前是 1.6）并收到以下消息：

```
Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Could not instantiate be
an class [org.springframework.aop.aspectj.AspectJPointcutAdvisor]: Constructor threw exception; nested exception is java.lang.IllegalArgumentException: error the 
@annotation pointcut expression is only supported at Java 5 compliance level or above 
```

应用程序已使用 java 1.6 编译，并且编译器合规级别也设置为 1.6。我正在使用弹簧 3.1.0

有没有人能够让 aspectj 在 Java 7 下工作？

* * *

## 回答 #1

> 赞同：34
> 
> 时间：2013-03-28T13:37:47.913

AspectJ 1.5.4 不是为与 Java7 一起工作而设计的。尝试将您的 AspectJ 版本升级到 1.7.0 或更高版本（在撰写本文时最新版本为 1.7.2）。

（我之前也遇到过[AspectJ/Java7 问题](https://stackoverflow.com/questions/11308447/how-do-you-configure-aspjectj-maven-plugin-to-use-java-7)）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-09-12T07:22:50.083

如果您收到此错误。只需使用 jdk 1.6 编译您的程序并使用 jre 6 运行它。它将解决您的问题

# java - 如何用Java中的图像链接替换字符串？

> ID：15678420
> 
> 赞同：0
> 
> 时间：2013-03-28T09:38:43.360
> 
> 标签：java, html-parsing

我正在开发基于 Java World Wind 的应用程序，该应用程序使用其中包含的 HTML。我有一个数据库，其中包含所有具有名称、text_description、icon_link 等属性的感兴趣的地方......我的目标是每次单击地球上不同的感兴趣的地方时，用另一个 HTML 文本字符串替换一些文本字符串。所以我需要解析 HTML 文档，搜索关键字并将其替换为数据库中的适当字符串。我写了一个类，负责搜索关键字并用适当的字符串替换它：

```
public class MyNodeVisitor extends NodeVisitor {
        String name;
        String text;
        String icon;

        public MyNodeVisitor() {

        }

        public MyNodeVisitor(String Name, String Text, String IconPath){
            this.name = Name;
            this.text = Text;
            this.icon = IconPath;
        }

        public void visitStringNode (Text string)
        {
            if (string.getText().equals("DataName")) {
                string.setText(name);
            }
            else if (string.getText().equals("DataText")){
                  string.setText(text);
            }
            else if(string.getText().equals("DataIcon")){
                     string.setText(icon);

            }
        }
    } 
```

因此，在我的 HTML 中，我定义了文本字符串 DataName、DataText 和 DataIcon，我希望将它们替换为从数据库调用的文本字符串。

上面提到的类在我的代码中以下列方式使用：

```
 NodeList nl = new NodeList();
        String htmlString = null;
        InputStream contentStream = null;
        contentStream = WWIO.openFileOrResourceStream(BROWSER_BALLOON, this.getClass());
        htmlString = WWIO.readStreamToString(contentStream, null);

      try {
            Parser parser = new Parser(htmlString);
            nl = parser.parse(null);
            nl.visitAllNodesWith(new MyNodeVisitor(resultStr2,textString,resultStr3));
            nl.toString();

        } catch (ParserException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }   

        String output = nl.toHtml();
        return output; 
```

其中 resultStr2、textString 和 resultStr3 是应该替换我的 HTML 中的键字符串“DataName”、“DataText”和“DataIcon”的字符串。

问题是，虽然替换适用于前两个字符串 DataName 和 DataText（这意味着，每次我调用数据库的不同元素时，我都会得到适合具体元素的名称和文本），但它不适用于 DataIcon . 调试说它只是无法搜索 DataIcon 字符串，即使我已经在我的 HTMl 中定义了它，就像这样：

```
<div class="tabbertab">
      <h2>Pictures</h2>
        <div id="album">
            <ul class="gallery">
                <li><a href="#nogo" tabindex="1">1<img  src="DataIcon" alt="landscape image 1" title="landscape image 1" /></a></li>
                <li><a href="#nogo" tabindex="1">2<img  src="C:\thesis\100GreatP\eclipse_ws\test\data\pictures\1\pyramid2.jpg" alt="landscape image 2" title="landscape image 2" /></a></li>

            </ul>
        </div>   
     </div> 
```

我不知道其中有什么问题，我感谢各种帮助。谢谢！

# jquery - 如何使用 JQuery 选择器在数组中选择输入名称和输入名称？

> ID：15678421
> 
> 赞同：2
> 
> 时间：2013-03-28T09:38:45.830
> 
> 标签：jquery

你能帮助我吗。我需要使用带有名称的 JQuery 输入进行选择，并在数组中输入带有名称的输入。

```
<input type="text" name="name">
<input type="text" name="shippingAddress[name]"> 
```

我试试这个，但这不起作用。

```
var name = $('[name^="name"]'); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T09:43:22.533

您可以使用[属性包含选择器](http://api.jquery.com/attribute-contains-selector/)：

```
var name = $('[name*="name"]'); 
```

这将选择其`name`属性值包含子字符串“name”的任何元素，因此将同时匹配`<input type="text" name="name"/>`and `<input type="text" name="shippingAddress[name]"/>`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T09:43:34.917

尝试属性选择器

```
var name = $('[name^="shippingAddress\\[name\\]]'); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-28T09:43:42.820

要选择带有名称的输入：

```
$('input[name=name]') 
```

选择名称为数组字段的输入：

```
$('input[name="' + shippingAddress + '[]"]') 
```

# c# - Wpf Charting Toolkit 折线图中缺少时间序列值

> ID：15678426
> 
> 赞同：1
> 
> 时间：2013-03-28T09:38:53.387
> 
> 标签：c#, wpf, charts, toolkit

我正在研究 Wpf 图表工具包。我面临一个非常基本的问题。我已经完成了我的图表与一个 List 的绑定，该 List 采用 KeyValuePair 的对象。

```
 List<KeyValuePair<DateTime,decimal>> 
```

我提供的列表包含一些缺失的 DateTime 值。图表是否有可能忽略这些缺失值而不显示出现这种差距的长直线？

# python - 通过python将PDF文件发布到SOLR

> ID：15678428
> 
> 赞同：1
> 
> 时间：2013-03-28T09:38:57.867
> 
> 标签：python, pdf, post, solr

我在使用 urllib2 通过 python 将 PDF 文件发布到 SOLR 时遇到问题。我正在尝试的代码如下

```
import urllib2
with open('key.pdf', 'rb') as data_file:
   my_data = data_file.read()
req = urllib2.Request(url='http:// localhost:8983/solr/update/pdf?commit=true',data=my_data)
req.add_header('Content-type', 'application/pdf')
f = urllib2.urlopen(req) 
```

我收到错误 HTTP 404 错误代码。

但是我能够使用此命令成功发布：

```
http:// localhost:8983/solr/update/extract?literal._id=doc2 -Dtype=application/pdf -jar post.jar key.pdf 
```

你能否让我知道我正在做的错误。对于上述命令，我已经配置了 SOLR 提取处理程序。

除此之外，进行了如下更改

```
import urllib2
with open('key.pdf', 'rb') as data_file:
my_data = data_file.read()
req = urllib2.Request(url='http ://localhost:8983/solr/update/extract?commit=true',data=my_data)
req.add_header('Content-type', 'application/pdf')
f = urllib2.urlopen(req) 
```

我现在收到 HTTP 400 错误，在 SOLR 登录中可以看到错误“文档缺少强制性唯一键字段：_id”

我如何将 _id 包含到上面的 python 代码中。如果是这样怎么办？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T11:53:16.570

使用提取处理程序时`literal.fieldname`用于包含到 Solr。`fieldname`

[http://wiki.apache.org/solr/ExtractingRequestHandler#Literals](http://wiki.apache.org/solr/ExtractingRequestHandler#Literals)

[请求](http://docs.python-requests.org/en/latest/user/quickstart/#post-a-multipart-encoded-file)可以接受`params`dict 之类`{'commit': 'true', 'field':'this/ ?text may invalidate your url'}`的操作，并使其成为 URL 安全的。

# windows-7 - 如何编写功能测试，使用 Robot Framework 驱动 Selenium

> ID：15678430
> 
> 赞同：0
> 
> 时间：2013-03-28T09:39:01.357
> 
> 标签：windows-7, selenium, python-2.7, robotframework

我已经在Windows7上安装了python2.7.3和robotframework2.7.7。现在我想编写一些示例测试用例，并使用 Selenium 使用 Robot Framework 执行它们。

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-28T10:41:52.140

1.  下载“robotframework-seleniumlibrary-2.9.1.win32.exe”并安装
2.  下载“robotframework-seleniumlibrary-demo-20110131.zip”并解压
3.  打开命令提示符并转到解压缩的文件夹位置（在第 2 步）
4.  执行以下命令运行目录中的所有测试：
    rundemo.py login_tests
5.  打开report.html查看结果

下载链接是 [https://code.google.com/p/robotframework-seleniumlibrary/downloads/list](https://code.google.com/p/robotframework-seleniumlibrary/downloads/list)

# iphone - 我无法读取我预先存在的 sqlite 数据库

> ID：15678435
> 
> 赞同：-1
> 
> 时间：2013-03-28T09:39:11.447
> 
> 标签：iphone, ios, objective-c, sqlite

我已将预填充的 sqlite 数据库从捆绑包复制到库路径。现在，当我尝试执行查询时，它不会读取数据库。

复制数据库的代码：

```
-(void)createDatabase
{
    NSString *libraryPath = [NSSearchPathForDirectoriesInDomains(NSLibraryDirectory, NSUserDomainMask, YES) lastObject];
    NSString *targetPath = [libraryPath stringByAppendingPathComponent:@"gre.db"];

    if (![[NSFileManager defaultManager] fileExistsAtPath:targetPath]) {
        // database doesn't exist in your library path... copy it from the bundle
        NSString *sourcePath = [[[NSBundle mainBundle] resourcePath] stringByAppendingPathComponent:@"gre.db"];
        NSError *error = nil;

        if (![[NSFileManager defaultManager] copyItemAtPath:sourcePath toPath:targetPath error:&error]) {
            NSLog(@"Error: %@", error);
        }
    }
} 
```

我从我的 applicationDidFinishLaunchLaunchingWithOptions 调用它并复制数据库

这是我读取数据库的查询：

```
-(void)readDatabase
{
    wordlist = [[NSMutableArray alloc] init];
    NSString *query =[NSString stringWithFormat:@"SELECT word FROM words WHERE word LIKE '%@%%'",selectedWord]; 
    sqlite3_stmt *statement;
    if (sqlite3_prepare_v2(database, [query UTF8String],-1, &statement, nil) == SQLITE_OK)
    {
        while (sqlite3_step(statement) == SQLITE_ROW)
        {
            char *id1 = (char *)sqlite3_column_text(statement, 0);
            [wordlist addObject:[NSString stringWithFormat:@"%s",id1]];
        }
    }
    sqlite3_finalize(statement);

    NSLog(@"%@",wordlist);

} 
```

现在控件不进入`*while (sqlite3_step(statement) == SQLITE_ROW)*`循环因此不显示数据。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T10:23:50.693

使用此代码并在从中获取数据之前检查数据库是否已连接并正确打开。

```
-(void)readDatabase
    {
        // Set path 
        NSArray *dirPaths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);//(customize the path based on your database location)

        NSString *docsDir = [dirPaths objectAtIndex:0];

        NSString *databasePath = [[NSString alloc] initWithString: [docsDir stringByAppendingPathComponent: @"database.db"]];
     const char *dbpath = [databasePath UTF8String]; 

         //Checking connection 
         if (sqlite3_open(dbpath, &SQLitedatabase) == SQLITE_OK)
               {
                 wordlist = [[NSMutableArray alloc] init];
                 NSString *query =[NSString stringWithFormat:@"SELECT word FROM words WHERE word LIKE '%@%%'",selectedWord];
                 sqlite3_stmt *statement;
                 if (sqlite3_prepare_v2(database, [query UTF8String],-1, &statement, nil) == SQLITE_OK)
                 {
                 while (sqlite3_step(statement) == SQLITE_ROW)
                 {
                 char *id1 = (char *)sqlite3_column_text(statement, 0);
                 [wordlist addObject:[NSString stringWithFormat:@"%s",id1]];
                 }
                 }
                 sqlite3_finalize(statement);

                 }
              }  
    } 
```

并确保数据库的初始化也是这样的：

```
#import <sqlite3.h>

NSString *databasePath;

sqlite3 *SQLiteDataBaseDB;

@implementation DatabaseManager
+(void)initializeDb 
{
    NSString *docsDir;
    NSArray *dirPaths;

    dirPaths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);

    docsDir = [dirPaths objectAtIndex:0];

    databasePath = [[NSString alloc] initWithString: [docsDir stringByAppendingPathComponent: @"database.db"]];

    NSFileManager *filemgr = [NSFileManager defaultManager];

    if ([filemgr fileExistsAtPath: databasePath ] == NO)
    {
        const char *dbpath = [databasePath UTF8String];

        if (sqlite3_open(dbpath, &SQLiteDataBaseDB) == SQLITE_OK)
        {
            char *errMsg;
            //SELECT name FROM sqlite_master WHERE name=USER_VIDEO_INFO

            const char *sql_stmt = "CREATE TABLE IF NOT EXISTS USER_VIDEO_INFO (userIdentifier TEXT, managerName TEXT, videoPath TEXT, videoName TEXT, shotDate TEXT, session TEXT, videoCategory TEXT)";

            if (sqlite3_exec(SQLiteDataBaseDB, sql_stmt, NULL, NULL, &errMsg) != SQLITE_OK)
            {
                NSLog(@"Failed to create table");
            }

            sqlite3_close(SQLiteDataBaseDB);

        } 
        else
        {
            NSLog(@"Failed to open/create database");
        }

           }

} 
```

并实际检查数据库是否像这样创建...

![在此处输入图像描述](../Images/2813cd50d8876d9f501d84b42f7c9e05.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T10:24:41.540

如果您的数据库文件位于资源目​​录中，请尝试以下代码：

```
-(NSString*)databasePath
{
   NSString *dbPath = [[NSBundle mainBundle] pathForResource:"gre" forType:"db"];
   return dbPath;
} 
```

实际上，您正在为数据库获取错误的路径。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-28T10:30:12.563

您可以测试以下代码。这对我来说可以。

```
if (userDB == NULL) {
        sqlite3 *newDBconnection;

        NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
        NSString *documentsDirectory = [paths objectAtIndex:0];
        NSString *path = [documentsDirectory stringByAppendingPathComponent:@"gre.sqlite"];

        // Check if the SQL database has already been saved to the users phone, if not then copy it over
        BOOL success;

        // Create a FileManager object, we will use this to check the status
        // of the database and to copy it over if required
        NSFileManager *fileManager = [NSFileManager defaultManager];

        // Check if the database has already been created in the users filesystem
        success = [fileManager fileExistsAtPath:path];

        // If the database already exists then dont do anything
        if(!success)
        {
            NSLog(@"not success");
            // If not then proceed to copy the database from the application to the users filesystem

            // Get the path to the database in the application package
            NSString *databasePathFromApp = [[[NSBundle mainBundle] resourcePath] stringByAppendingPathComponent:@"pero1.sqlite"];

            // Copy the database from the package to the users filesystem
            [fileManager copyItemAtPath:databasePathFromApp toPath:path error:nil];

        }
        NSLog(@"success");

        if (sqlite3_open([path UTF8String], &newDBconnection) == SQLITE_OK) {   
            //NSLog(@"Database Successfully Opened :)");
            userDB = newDBconnection;
        } else {
            NSLog(@"Error in opening database :(");
            userDB = NULL;
    return;
        }
    }
    wordlist = [[NSMutableArray alloc] init];

NSString *query = [NSString stringWithFormat:@"SELECT word FROM words WHERE word LIKE '%@%%'",selectedWord];
        NSLog(@"query: %@",query);

        const char *sqlStatement = [query UTF8String];
        sqlite3_stmt *compiledStatement;
    NSString *listFromDB = @"";
        if(sqlite3_prepare_v2(userDB, sqlStatement, -1, &compiledStatement, NULL) == SQLITE_OK) 
        {
            // Loop through the results and add them to the feeds array
            while(sqlite3_step(compiledStatement) == SQLITE_ROW) {
                // Read the data from the result row
                char *id1 = (char *)sqlite3_column_text(statement, 0);
            [wordlist addObject:[NSString stringWithFormat:@"%s",id1]];

                }
        }
        // Release the compiled statement from memory
        sqlite3_finalize(compiledStatement); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-28T11:03:49.653

Ganapathy 你的代码工作得很好！但不是在每次选择查询之前打开数据库，

我在我的代码中尝试了这个，它就像一个魅力！

```
-(void)createDatabase
{
    NSString *libraryPath = [NSSearchPathForDirectoriesInDomains(NSLibraryDirectory, NSUserDomainMask, YES) lastObject];
    NSString *targetPath = [libraryPath stringByAppendingPathComponent:@"gre.db"];

    if (![[NSFileManager defaultManager] fileExistsAtPath:targetPath]) {
        // database doesn't exist in your library path... copy it from the bundle
        NSString *sourcePath = [[[NSBundle mainBundle] resourcePath] stringByAppendingPathComponent:@"gre.db"];
        NSError *error = nil;

        if (![[NSFileManager defaultManager] copyItemAtPath:sourcePath toPath:targetPath error:&error]) {
            NSLog(@"Error: %@", error);
        }
    }

    //Open Database
    if (sqlite3_open([targetPath UTF8String], &database) != SQLITE_OK)
    {
        sqlite3_close(database);
        NSLog(@"Failed to open db.");
    }

} 
```

# mysql - 具有静态值的外键

> ID：15678437
> 
> 赞同：0
> 
> 时间：2013-03-28T09:39:12.800
> 
> 标签：mysql, database, foreign-keys

我有 3 张桌子。

两个表 tab1 和 tab2 包含一些数据。日历将数据链接到日期。

是否可以创建一个包含 id 和静态 kat 的外键？

我在 kat =“tab1”的上下文中使用“tab1”中的 id 1 在“日历”中创建一个条目。"tab1" 和 "tab" 可以包含相同的 id。

这是可能的还是一个非常糟糕的数据库设计？

**数据库结构：**

![数据库结构](../Images/438e8803b21202880b2fa3ebd606ac41.png)

# php - 用于获取选择框的选定选项的数据的脚本

> ID：15678440
> 
> 赞同：-1
> 
> 时间：2013-03-28T09:39:18.673
> 
> 标签：php, jquery, html, ajax

我想获取用户从城市列表中选择的城市的商店地址。我使用 ajax 来显示城市。

```
$('.cn').change(function(){
            $('.st1 option').remove();
            $('.st1').append("<option value=''>&ltSelect city&gt;</option>");
            var curr=$(this).val();
            $.get('includes/pages/getcity.php',{cnid:curr},function(resp){
                var obj = jQuery.parseJSON(resp);
                    $.each(obj, function() { 
                        $data="<option value='"+this.id +"'>"+ this.city +"</option>";
                        $('.st1').append($data);
                    });
            });
        });
State <select name="state_id" class="select cn state_textbox" >
            <option>---Select State--</option>
            <?php 
                            $query="select * from state";
                            $result=mysql_query($query);
                            while($row=mysql_fetch_assoc($result)){
                                if($row['state_id']==0){
                                    echo "<option value='".$row['id']."'>".$row['state']."</option>";
                                }
                                }
                        ?>

        </select> <br><br><br>
        City<select class="st1 state_textbox" name="st1" style="margin-left:35px" >
                <option selected="selected">-- Select your city --</option> 
            </select> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T09:48:50.493

你错过了声明一个变量....

尝试这个

```
$.each(obj, function(i,v) { 
     var $data="<option value='"+v.id +"'>"+ v.city +"</option>";
   //^^^----here; 
     $('.st1').append($data);
 }); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T09:47:55.927

向选择框添加事件以处理所选项目：

```
<select name="state_id" class="select cn state_textbox" onchange="get_address(this.value);" > 
```

在您的 jquery 脚本中：

```
 function get_address(state){  
        var post_url = "destination file to process the form";
            $.ajax({
                type: "POST",
                url: post_url,
                datatype: "json",
                success: function(data) 
                {
                    $('#address').val(data.address);
                }
            }); 
        }          
    }); 
```

当然，您将需要一个运行查询的函数来读取正确的地址并将其返回给该函数！也许是这样的：（PHP代码）

```
function get_address($state){
    $q = "select address from tablename where state=?";
    $query_result=$this->db->query($q,$em_code);
    $address;
    if($query_resul->result()){
        foreach ($query_resull->result() as $output) {
            $address = $output->address;
        }
    return $address;
    } else {
        return FALSE;
    }
} 
```

# c# - 正则表达式，提取编号列表（多行）

> ID：15678441
> 
> 赞同：3
> 
> 时间：2013-03-28T09:39:19.517
> 
> 标签：c#, regex

我得到以下文字：

```
1\. This is a text
where each item can span over multiple lines
2\. that I want to
extract each seperate
item from
3\. How can I do that? 
```

我在 refiddle 中尝试了这个正则表达式：

```
/([\d]+\.)(.*)/s 
```

但我不确定它是贪婪的（只返回一个项目）还是提取所有项目。但是当我在 C# 中尝试它时，正则表达式不匹配任何东西。

我究竟做错了什么？

**更新**

它很好用，但没有用，因为`\s`在 .NET 中似乎不起作用。我可以自己修复行尾（因为它们已被剥离）。但是如何使正则表达式不贪婪？是否可以说类似

*匹配数字+点，然后取除下一个数字+点之外的所有内容*？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-28T10:11:22.627

```
string input = @"1\. This is a text
    where each item can span over multiple lines
    2\. that I want to
    extract each seperate
    item from
    3\. How can I do that?";
string pattern = @"([\d]+\. )(.*?)(?=([\d]+\.)|($))";
var matches = Regex.Matches(input, pattern, RegexOptions.Singleline);

foreach(Match match in matches)
{
    Console.WriteLine(match.Groups[2].Value);
} 
```

# java - Android线程刚刚停止

> ID：15678445
> 
> 赞同：3
> 
> 时间：2013-03-28T09:39:28.887
> 
> 标签：java, android, udp, wifi, adb

我有一个处理接收和发送 UDP 数据包的线程，这工作正常，直到收到 X 数量的数据包，然后客户端停止尝试接收数据包，并停止发送它们，所有的 catch 函数都没有'不显示任何东西，客户端只是停止请求数据包。这是我的客户端运行代码

```
public void run()
{
    if( host == true ) { setUpClient(); server.start(); }
    rdyForPlay = true;
    boolean run = true;
    boolean setupPlayer = false;
    while( run )
    {
        //Tell the server to give position of players
        //if( setupPlayer == true )
        //{
        //  setUpClient();
        //  setupPlayer = false;
        //}

        if( host == false )
        {
            try {
                if(socket == null)
                {
                    socket = new DatagramSocket( port );
                }
                byte[] bufer = new byte[256];
                //String msg = "position";
                String msg = ID +":"+ assets[ID].returnPosX() +":"+ assets[ID].returnPosY();
                int msgLength = msg.length();
                bufer = msg.getBytes();
                InetAddress address;
                address = InetAddress.getByName("192.168.1.59");
                DatagramPacket p = new DatagramPacket( bufer, bufer.length , address, port );
                socket.send( p );

            } catch (UnknownHostException e2) {
                // TODO Auto-generated catch block
                Log.d(TAG, "Error with unknown host");
                e2.printStackTrace();
            } catch (SocketException e) {
                // TODO Auto-generated catch block
                Log.d(TAG, "Error with socket");
                e.printStackTrace();
            } catch (IOException e) {
                // TODO Auto-generated catch block
                Log.d(TAG, "Error with sending/receiving data");
                e.printStackTrace();
            }

            byte[] buf = new byte[256];
            DatagramPacket packet = new DatagramPacket( buf, buf.length );
            try 
            {
                socket.receive( packet );
            } 
            catch (IOException e) 
            {
                Log.d(TAG, "Error with receiving data");
                e.printStackTrace();
            }

            String data = new String( buf, 0, packet.getLength() );
            //Split the string up
            String[] dataArray = data.split("#");
            int newTotalPlayers = Integer.parseInt( dataArray[0] );
            if( newTotalPlayers != totalPlayers )
            {
                Log.d(TAG," what is total amount of players:" + newTotalPlayers);
                if( newTotalPlayers == 1 )
                {
                    newPlayer( 0 );
                    totalPlayers = newTotalPlayers;
                }
                else
                {
                    newPlayer( newTotalPlayers );
                    totalPlayers = newTotalPlayers;
                }
                //if( ID == 0 && host == false)
                //{
                //  ID = newTotalPlayers;
                //  setupPlayer = true;
                //}
            }
            //Do a for loop to go through dataArray
            for( int i = 0; i < totalPlayers; i++)
            {
                String[] pos = dataArray[(i + 1)].split(":");
                if( Integer.parseInt( pos[(i*3)] ) == ID )
                {
                    Log.d(TAG, "Do nothing please");
                }
                else
                {
                    assets[i].setPosition( Integer.parseInt( pos[(i*3) + 1] ), Integer.parseInt( pos[(i*3) + 2] ) );
                }
            }

        }

    }
    Log.d(TAG, "Error with run value");
} 
```

这很好用，我真的很烦，因为某种奇怪的原因，连接断开了这么久，我找不到，因为 LogCat 根本没有打印任何东西

帆布

PS 如果需要可以提供更多代码

这是我的服务器运行方法

```
public void run() {
    InetAddress client = null;
    boolean run = true;
    String data = "";
    DatagramPacket packet = null;
    while( run )
    {
        if( data.equalsIgnoreCase( "" ) )
        {
            /*Log.d(TAG, "waiting for clients");
            String msg = "waiting";
            int msgLength = msg.length();
            byte[] message = msg.getBytes();
            DatagramPacket p = new DatagramPacket( message, msgLength, client, port );
            try 
            {
                socket.send( p );
            } 
            catch (IOException e2) 
            {
                Log.d(TAG, "Error with sending");
                e2.printStackTrace();
            }*/
        }

        //Send some data
        if( data.equalsIgnoreCase( "connect" ) )
        {
            Log.d(TAG, "ID send :" + packet.getAddress());
            address.add( packet.getAddress() );
            players += 1;
            String msg = String.valueOf( players );
            int msgLength = msg.length();
            byte[] message = msg.getBytes();
            DatagramPacket p = new DatagramPacket( message, msgLength, packet.getAddress(), port );
            try 
            {
                socket.send( p );
            } 
            catch (IOException e2) 
            {
                Log.d(TAG, "Error with sending");
                e2.printStackTrace();
                data = "";
            }
        }

        //if( /*data.equalsIgnoreCase( "position" )*/ address.size() > 0 )
        //{
            //Create for loop to create the string
            String msg = "";
            msg = players + "#";
            for(int i = 0; i < players; i++)
            {
                        msg += + i + ":" + assets.get(i).returnPosX() + ":" + assets.get(i).returnPosY() + ":"; 
            }
            //msg = String.valueOf( 
            //      players + ":" + 
            //      "1:" + assets.get(0).returnPosX() + ":" + assets.get(0).returnPosY() );
            int msgLength = msg.length();
            byte[] message = msg.getBytes();
            for(int i = 0; i < address.size() ; i++)
            {
                DatagramPacket p = new DatagramPacket( message, msgLength, address.get(i), port );
                try 
                {
                    socket.send( p );
                } 
                catch (IOException e2) 
                {
                    Log.d(TAG, "Error with sending");
                    e2.printStackTrace();

                }
            }
            //Log.d(TAG, "Data sent is:" + msg);
        //}

        data = " ";

        //Receive some data
        byte[] buf = new byte[256];
        packet = new DatagramPacket( buf, buf.length );
        try 
        {
            socket.receive( packet );
        } 
        catch (IOException e) 
        {
            Log.d(TAG, "Error with receiving data");
            e.printStackTrace();
        }

        data = new String( buf, 0, packet.getLength() );
        //Log.d(TAG, "Data received was :" + data);

        try 
        {
            this.sleep( 25 );
        } 
        catch (InterruptedException e) 
        {
            // TODO Auto-generated catch block
            Log.d(TAG, "Error with trying to sleep");
            e.printStackTrace();
        }
    }
    Log.d(TAG, "Error with while run value");
} 
```

对评论感到抱歉

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T09:52:36.327

似乎正在发生死锁场景，两个源代码都挂着`socket.receive`

幸运的是，Android 和 J2SE UDP 服务器客户端代码的代码是相同的，因此请在您的机器上尝试此代码并调试以查看发生了什么。您可以将打印语句更好地了解。

此外，UDP 是不可靠的。我没有在您的代码中看到数据包接收确认和重新发送机制。这是必需的。您不能只假设您发送的数据包将被另一端接收。

# c - 识别系统保留分区

> ID：15678448
> 
> 赞同：0
> 
> 时间：2013-03-28T09:39:46.367
> 
> 标签：c, windows, system, driver, volume

我正在开发一个使用 diskperf 作为基础的高容量过滤器驱动程序。谁能告诉我如何在启动时识别系统保留分区？

# asp.net-mvc - 如何在 asp.net MVC 中重写我的 URL 以使其对 SEO 更友好？

> ID：15678450
> 
> 赞同：0
> 
> 时间：2013-03-28T09:39:57.623
> 
> 标签：asp.net-mvc, url-rewriting

我有一个小网站，我需要一些 url 重写。我制作了一个小型通用网站来帮助我托管体育子网站。我制作了一个适合所有人的网站。

当我链接到特定运动时，例如。足球现在看起来像这样：

/home/show/3

我真正希望它看起来像这样

/家/运动/足球

我该怎么做呢？是否可以对其进行配置，以便在另一个网站上我可以显示这样的书籍：/home/books/thriller 等。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T09:48:11.020

将条目添加到路由表作为

```
routes.MapRoute(
                "Default",                                              // Route name
                "{controller}/{action}/{cat}",                           // URL with parameters
                new { controller = "Home", action = "Index", cat = "" }  // Parameter defaults
            ); 
```

现在。在您的视图或控制器上编写您的代码，以设置 id 以在您的代码中进行处理。

```
var id = 0;
    if (Request.RequestContext.RouteData.Values["cat"] != null)
    {
        if (int.TryParse(Request.RequestContext.RouteData.GetRequiredString("cat"), out id) == false)
        {
            string routeName = Request.RequestContext.RouteData.GetRequiredString("cat");
            id = new RoutingRepository().GetTabIDByRoute(routeName); // here you need to get the id for text passed in url
        }
    } 
```

# python - HDFStore 异常：找不到正确的原子类型：基本情况

> ID：15678451
> 
> 赞同：1
> 
> 时间：2013-03-28T09:39:58.233
> 
> 标签：python, pandas, hdf5, hdfstore

我面临的问题与[如何解决 HDFStore Exception: cannot find the correct atom type](https://stackoverflow.com/questions/15488809/how-to-trouble-shoot-hdfstore-exception-cannot-find-the-correct-atom-type)中提出的问题相同。

[我将其简化为 pandas 文档Storing Mixed Types in a Table 中](http://pandas.pydata.org/pandas-docs/dev/io.html#storing-mixed-types-in-a-table)给出的示例。

这个例子的重点是`append`a`DataFrame`有一些缺失值到 a `HDFStore`。当我使用示例代码时，我最终得到一个`atom type error`.

```
df_mixed
Out[103]: 
          A         B         C  bool           datetime64  int  string
0 -0.065617 -0.062644 -0.004758  True  2001-01-02 00:00:00    1  string
1  1.444643  1.664311 -0.189095  True  2001-01-02 00:00:00    1  string
2  0.569412 -0.077504 -0.125590  True  2001-01-02 00:00:00    1  string
3       NaN       NaN  0.563939  True                  NaN    1     NaN
4       NaN       NaN -0.618218  True                  NaN    1     NaN
5       NaN       NaN  1.477307  True                  NaN    1     NaN
6 -0.287331  0.984108 -0.514628  True  2001-01-02 00:00:00    1  string
7 -0.244192  0.239775  0.861359  True  2001-01-02 00:00:00    1  string

store=HDFStore('df.h5')
store.append('df_mixed', df_mixed, min_itemsize={'values':50})

...
Exception: cannot find the correct atom type -> [dtype->object,items->Index([datetime64, string], dtype=object)] object of type 'Timestamp' has no len() 
```

如果我按照链接帖子（杰夫的回答）中的建议强制执行`dtype`有问题的类型（实际上是`object`那些类型），我仍然会遇到相同的错误。我在这里想念什么？

```
dtypes = [('datetime64', '|S20'), ('string', '|S20')]

store=HDFStore('df.h5')
store.append('df_mixed', df_mixed, dtype=dtypes, min_itemsize={'values':50})

...
Exception: cannot find the correct atom type -> [dtype->object,items->Index([datetime64, string], dtype=object)] object of type 'Timestamp' has no len() 
```

感谢您的见解

**解决了**

我正在使用`pandas`0.10 并切换到**0.11-dev**。正如 Jeff 推断的那样，问题在于**NaN 与 NaT**。

出品的前熊猫版

```
df_mixed.ix[3:5,['A', 'B', 'string', 'datetime64']] = np.nan such that

2  0.569412 -0.077504 -0.125590  True  2001-01-02 00:00:00    1  string
3       NaN       NaN  0.563939  True                  NaN    1     NaN 
```

而后一个版本

```
2  0.569412 -0.077504 -0.125590  True  2001-01-02 00:00:00    1  string
3       NaN       NaN  0.563939  True                  NaT    1     NaN 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-28T10:13:25.987

问题是您的 datetime64[ns] 系列中的 NaN。这些必须是 NaT。你是如何构建这个框架的？你用的是什么熊猫版本？

你可以使用 0.11-dev 吗？（这里还有几个选项）。试试这个：

`df['datetime64'] = Series(df['datetime64'],dtype='M8[n2]')`

此外，这里还有一些更有用的链接： http: [//pandas.pydata.org/pandas-docs/dev/cookbook.html#hdfstore](http://pandas.pydata.org/pandas-docs/dev/cookbook.html#hdfstore)

# c++ - /MD 和 /MDd（使用运行时库）有什么区别？

> ID：15678456
> 
> 赞同：5
> 
> 时间：2013-03-28T09:40:07.173
> 
> 标签：c++

当我将以下行添加到我的代码中时：

```
std::string sFrameTag 
```

我收到以下链接器错误：

> 错误 34 错误 LNK2005: "public: __thiscall std::basic_string,class std::allocator >::~basic_string,class std::allocator >(void)" (??1?$basic_string@DU?$char_traits@D@ std@@V?$allocator@D@2@@std@@QAE@XZ) 已在 VFPAnalyzerApi.lib(VFPEvaluation.obj) msvcprtd.lib 中定义

我查看了*C/C++ -> 代码生成 -> 运行时库*下的项目属性，并将其从`/MDd`to更改为`/MD` ，不知何故错误消失了。但是，我真的不明白有什么区别以及它为什么起作用。有人可以解释一下我到底改变了什么以及为什么会有所不同吗？

谢谢！！！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-28T09:43:46.723

[MSDN](http://msdn.microsoft.com/en-us/library/2kzt1wy3%28v=vs.71%29.aspx)在这方面有很好的文档。

简而言之，`/MDd`将 C 和 C++ 标准库的调试版本的必要部分链接到您的 DLL 中。 `/MD`类似，但使用`NDEBUG`标准库的一个版本。如果您尝试链接结合了调试和发布标准库的代码，则会出现符号冲突，因为这两个库将提供相同的功能集。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-28T09:45:45.917

/MD 使用多线程 - DLL 运行时库。/MDd 使用相同库的调试版本

您可能正在使用另一个使用 MD 构建的库，因此链接到运行时库的发布版本。（因此已经定义的错误）

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-28T09:44:24.523

运行时库有多个版本（调试、多线程等）。构建项目时，您需要确保所有内容都使用相同的版本，否则您会遇到问题中的错误。

有关详细信息，请参阅[/MD、/MT、/LD（使用运行时库）](http://msdn.microsoft.com/en-gb/library/2kzt1wy3%28v=vs.80%29.aspx)。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-28T09:44:58.593

运行时库包含所有标准库类和函数的实现。您必须提供这些实现，这样您的程序才能运行，Visual Studio 为您提供了两种选择：

*   运行时库不会编译到您的程序的二进制文件中，但是它需要在您的应用程序之前安装 Visual Studio 运行时（否则它将不起作用）
*   运行时库将被编译成程序的二进制文件——这会稍微增加它的大小，但它不需要任何额外的运行时来工作。

此外，您可以选择是否需要这些库的调试版本或发布版本。有四种选择：

*   /MDd - 多线程调试 DLL
*   /MD - 多线程 DLL
*   /MTd - 多线程调试
*   /MT - 多线程

如果您使用 Visual Studio，您可以在项目属性中修改这些选项：`Configuration Properties | C/C++ | Code Generation`.

您必须选择最适合您需求的选项。但是，您应该提供适当的静态库，其中包含所需的函数传输。您从发布切换到调试配置，这就是编译器抱怨的原因（默认调试和发布配置已经有适当的库设置要链接）。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-03-28T09:46:55.503

不同之处在于它`/Mdd`指定了运行时的调试版本，而`/MD`没有。`/MDd`设置符号，所以如果在语句中声明`_DEBUG`，这可能是你的问题。查看[此 MSDN 文章](http://msdn.microsoft.com/en-us/library/2kzt1wy3%28v=vs.71%29.aspx)以供参考。`std::string sFrameTag``#ifdef _DEBUG`

# regex - 如何使用 RegEX 在 notepad++ 中查找 PHP 短标签

> ID：15678464
> 
> 赞同：1
> 
> 时间：2013-03-28T09:40:35.253
> 
> 标签：regex

我想使用正则表达式在 notepad++ 中搜索 PHP 短标签。

我怎样才能做到这一点？请帮忙！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2015-06-26T15:22:26.077

对@agurchand 和@NicoGranelli 评论的一点改进：

```
Find: <\?( )*(?!php)(?!=)(?!xml)(?!mso)
Replace: <?php 
```

（替换在语句末尾包含一个空格。）

此增强功能处理具有 short_open_tags 的其他语言。此外，在当前 php 语句和

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-28T09:51:34.613

我找到了 RegEx 以找出 Short PHP 标签。

这里是

```
<\?(?!php) 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-28T09:42:04.420

`<?`您可以在没有正则表达式的情况下找到它 - 只需在问号后使用空格进行搜索。

# android - 如何在android中的菜单项之间添加填充？

> ID：15678467
> 
> 赞同：15
> 
> 时间：2013-03-28T09:40:40.557
> 
> 标签：android, android-layout, android-actionbar

![在此处输入图像描述](../Images/a2f89e418a2966542930960c476d7ddb.png)

我的菜单项从 res/menu/menu.xml 膨胀到 ActionBar，如何使用 android 在菜单项之间添加填充？

```
<item 
    android:id="@+id/home"
    android:showAsAction="always"
    android:title="Home"
    android:icon="@drawable/homeb"/>
<item 
    android:id="@+id/location"
    android:showAsAction="always"
    android:title="Locations"
    android:icon="@drawable/locationb"/>
<item
    android:id="@+id/preQualify"
    android:showAsAction="always"
    android:title="Pre-Qualify"
    android:icon="@drawable/prequalityb"/>
<item 
    android:id="@+id/products"
    android:showAsAction="always"
    android:title="Products"
    android:icon="@drawable/productb"/> 
```

Java 文件：

```
@Override
public boolean onCreateOptionsMenu(Menu menu) {
    // Inflate the menu; this adds items to the action bar if it is present.
    getMenuInflater().inflate(R.menu.activity_store_locator, menu);
    return true;
} 
```

* * *

## 回答 #1

> 赞同：38
> 
> 时间：2013-03-28T10:39:15.363

找到解决方案，在 styles.xml 文件中添加以下行并且它有效！

```
<style name="AppTheme" parent="AppBaseTheme">
    <item name="android:actionButtonStyle">@style/MyActionButtonStyle</item>
</style>

<style name="MyActionButtonStyle" parent="AppBaseTheme">
    <item name="android:minWidth">20dip</item>
    <item name="android:padding">0dip</item>
</style> 
```

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2013-03-28T09:48:29.510

创建可绘制的 xml。像`res/drawable/shape_green_rect.xml`

```
<?xml version="1.0" encoding="utf-8"?>
<shape
  xmlns:android="http://schemas.android.com/apk/res/android"
  android:shape="rectangle">

  <!-- Specify a semi-transparent solid green background color -->
  <solid android:color="#5500FF66" />

  <!-- Specify a dark green border -->
  <stroke 
    android:width="5dp"
    android:color="#009933" />

  <!-- Specify the margins that all content inside the drawable must adhere to -->
  <padding
    android:left="30dp"
    android:right="30dp"
    android:top="30dp"
    android:bottom="30dp" />
</shape> 
```

添加这个drawable

```
android:icon="@drawable/shape_green_rect" 
```

这样我们就可以在菜单中添加填充。

谢谢。

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2013-03-28T09:46:46.593

填充我不知道，但您可以通过以下方式添加边距：

```
LinearLayout.LayoutParams lp = new LinearLayout.LayoutParams(LinearLayout.LayoutParams.WRAP_CONTENT, LinearLayout.LayoutParams.WRAP_CONTENT);
lp.setMargins(left, top, right, bottom);
yourItem.setLayoutParams(lp); 
```

设置您的值而不是“左、上、右、下”。在此示例中，我将在您将通过其 ID 获得的项目上添加边距。

希望这可以帮助。

# asp.net - 如何在共享主机上使用 ASPNETDB？

> ID：15678471
> 
> 赞同：2
> 
> 时间：2013-03-28T09:41:04.393
> 
> 标签：asp.net, sql-server, localhost, aspnetdb

在我的 asp.net 站点上，我使用本地数据库，连接字符串是

```
Data Source=(LocalDB)\v11.0;AttachDbFilename=|DataDirectory|\MyDataBase.mdf;Integrated Security=True;Connect Timeout=30 
```

因此，MyDataBase.mdf 位于 APP_DATA 文件夹中。

我需要使用标准的 asp.net 会员提供程序，为此我运行实用程序`C:\Windows\Microsoft.NET\Framework64\v4.0.30319>aspnet_regsql.exe` ，它在 APP_DATA 文件夹中创建了新的 DB ASPNETDB.MDF（并记录 aspnetdb_log.ldf），我通过“ASP.NET 配置”在其中填充了用户和角色

我将它上传到我的共享主机并且网站运行良好，包括从 MyDataBase.mdf 数据库中获取数据，但是一旦我想要登录 ASPNETDB.MDF 中的用户，网站就会抛出一个错误：

> 建立与 SQL Server 的连接时发生与网络相关或特定于实例的错误。服务器未找到或无法访问。验证实例名称是否正确以及 SQL Server 是否配置为允许远程连接。（提供者：SQL 网络接口，错误：26 - 错误定位服务器/指定的实例）

如何解决这个问题？

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-28T13:21:11.790

当您说“...网站运行良好，...”（您的网站，他们的网站）时，我不确定您的意思。

我运行站点的大多数共享托管站点都不允许运行 SQL Server Express 数据库，因为它的资源管理。

您需要做的是使用站点 SQL Server 数据库。通过他们的管理控制台，您应该会看到一种创建数据库实例的方法。他们将/应该为您提供程序将用于连接数据库的连接字符串。使用此连接字符串，您可能无法从家里连接到它（一些网络主机允许其他网络主机不允许）。

如果您可以使用 Sql Server Management Studio 通过 home 进行连接，那么您的状态就很好。您可以使用 aspnet_regsql.exe 并将其指向托管数据库（使用连接字符串选项）并让它生成所有表、视图、角色等。

如果您不能从家里直接连接到数据库，让 SQL Management Studio 生成一个脚本（右键单击数据库 -> 任务 -> 生成脚本）并编写整个数据库的脚本。如果您希望数据也能正常运行，请确保您选择了脚本数据和方案（默认情况下未启用）。然后使用这个 sql 脚本（在 .sql 文件中），您可以将其上传到主机并让他们通过管理控制台运行脚本。

# android - 加载数据时未显示进度对话框

> ID：15678472
> 
> 赞同：0
> 
> 时间：2013-03-28T09:41:04.867
> 
> 标签：android, progress-bar, progressdialog

我正在开发应用程序，我需要在其中显示带有进度条的进度对话框，直到从网站上完全下载数据。但是当我运行我的代码时，当整个数据已经从网站完全下载时，它会显示进度对话框，并且在加载它时会在模拟器上显示黑屏。

所以如果用户的互联网连接很慢，我想显示下载过程。

请帮忙。

```
package com.androidhive.xmlparsing;

import java.util.ArrayList;
import java.util.HashMap;

import org.w3c.dom.Document;
import org.w3c.dom.Element;
import org.w3c.dom.NodeList;

import android.app.ListActivity;
import android.app.ProgressDialog;
import android.content.Context;
import android.content.DialogInterface;
import android.content.DialogInterface.OnCancelListener;
import android.content.Intent;
import android.os.AsyncTask;
import android.os.Bundle;
import android.view.View;
import android.widget.AdapterView;
import android.widget.AdapterView.OnItemClickListener;
import android.widget.ListAdapter;
import android.widget.ListView;
import android.widget.ProgressBar;
import android.widget.SimpleAdapter;
import android.widget.TextView;

public class AndroidXMLParsingActivity extends ListActivity {

TextView textView;
ArrayList<HashMap<String, String>> menuItems;
// All static variables
static final String URL = "http://feeds.bbci.co.uk/news/rss.xml" ;
// XML node keys
static final String KEY_ITEM = "item"; // parent node
static final String KEY_ID = "id";
static final String KEY_NAME = "title";
//static final String KEY_COST = "cost";
static final String KEY_DESC = "description";
static final String KEY_IMAGE = "media:thumbnail";

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);

    new HeavyWorker(AndroidXMLParsingActivity.this).execute();

    menuItems = new ArrayList<HashMap<String, String>>();

    XMLParser parser = new XMLParser();
    String xml = parser.getXmlFromUrl(URL); // getting XML
    Document doc = parser.getDomElement(xml); // getting DOM element

    NodeList nl = doc.getElementsByTagName(KEY_ITEM);
    // looping through all item nodes <item>
    for (int i = 0; i < nl.getLength(); i++) {
        // creating new HashMap
        HashMap<String, String> map = new HashMap<String, String>();
        Element e = (Element) nl.item(i);
        // adding each child node to HashMap key => value
        map.put(KEY_ID, parser.getValue(e, KEY_ID));
        map.put(KEY_NAME, parser.getValue(e, KEY_NAME));
    //  map.put(KEY_COST, "Rs" + parser.getValue(e, KEY_COST));
        map.put(KEY_DESC, parser.getValue(e, KEY_DESC));
        map.put(KEY_IMAGE, parser.getValue(e, KEY_IMAGE));

        // adding HashList to ArrayList
        menuItems.add(map);
    }

    // Adding menuItems to ListView
    ListAdapter adapter = new SimpleAdapter(this, menuItems,
            R.layout.list_item,
            new String[] { KEY_NAME, KEY_DESC,  KEY_IMAGE}, new int[] {
                    R.id.name, R.id.desciption,   R.id.image });

    setListAdapter(adapter);

    // selecting single ListView item
    ListView lv = getListView();

    lv.setOnItemClickListener(new OnItemClickListener() {

        @Override
        public void onItemClick(AdapterView<?> parent, View view,
                int position, long id) {
            // getting values from selected ListItem
            String name = ((TextView) view.findViewById(R.id.name)).getText().toString();
        //  String cost = ((TextView) view.findViewById(R.id.cost)).getText().toString();
            String description = ((TextView) view.findViewById(R.id.desciption)).getText().toString();

            // Starting new intent
            Intent in = new Intent(getApplicationContext(), SingleMenuItemActivity.class);
            in.putExtra(KEY_NAME, name);
            //in.putExtra(KEY_COST, cost);
            in.putExtra(KEY_DESC, description);
            startActivity(in);

        }
    });

/*       }
    }).start();

     */    
         }

public class HeavyWorker extends AsyncTask < Void , Integer , Object > {

    ProgressBar progressBar = (ProgressBar)findViewById(R.id.progress);

    int progress_status;

    private ProgressDialog      progressDialog ;
    private Context             targetCtx ;

    public HeavyWorker ( Context context ) {
        this.targetCtx = context ;
       // this.needToShow = true;
        progressDialog = new ProgressDialog ( targetCtx ) ;
        progressDialog.setCancelable ( false ) ;
        progressDialog.setMessage ( "Retrieving data..." ) ;
        progressDialog.setTitle ( "Please wait" ) ;
        progressDialog.setIndeterminate ( true ) ;
    }       

    @Override
    protected void onPostExecute(Object result) {
        if(progressDialog != null && progressDialog.isShowing()){
            progressDialog.dismiss ( ) ;
        }
    }
    @Override
    protected Object doInBackground(Void... params) {
        // TODO Auto-generated method stub
           while (progress_status<100)
             {

                 progress_status+=2;
                 setProgress(progress_status);
                 try {
                     Thread.sleep(300);
                 } catch (InterruptedException e) {
                     e.printStackTrace();  //To change body of catch statement use File | Settings | File Templates.
                 }
             }

        return null;
    }
    @Override
    protected void onProgressUpdate(Integer... values) {
        // TODO Auto-generated method stub
        super.onProgressUpdate(values);
        progressBar.setProgress(values[0]);
             textView.setText("downloading " +values[0]+"%");

    }

    @Override
    protected void onPreExecute() {
        // TODO Auto-generated method stub
         progressDialog.show ( ) ;
        super.onPreExecute();
    }

}

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T09:51:51.090

`onPreExecute`在方法上输入代码

```
if (!progressDialog.isShowing()){
    progressDialog = ProgressDialog.show(AbstractActivity.this, "",getString(R.string.please_wait), false);
} 
```

在中输入代码`onPostExecute`

```
if (progressDialog.isShowing())
      progressDialog.dismiss(); 
```

你试图展示`ProgressDialog`之前`super.onPreExecute();`

尝试后`super.onPreExecute();`

```
@Override
protected void onPreExecute() {
    super.onPreExecute();
    progressDialog.show ( ) ;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T09:55:22.547

请尝试以下方法：

```
@Override
    protected void onPreExecute() {
        progressDialog.show () ;
    } 
```

我遇到了类似的问题，我将其更改为上述问题并解决了。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-03-28T09:45:20.390

```
progressDialog.create();
progressDialog.show(); 
```

这行你忘了，写在下面

```
progressDialog.setTitle ( "Please wait" ) ;
progressDialog.setIndeterminate ( true ) ; 
```

# python - 如何动态修改 django 小部件参数？

> ID：15678473
> 
> 赞同：0
> 
> 时间：2013-03-28T09:41:06.023
> 
> 标签：python, django

可以说我有这样的表格：

```
class ChangeParentCIForm(ModelForm):
    class Meta:
        model = CINodeInventory
        fields = ('parent',)
        widgets = {'parent': AutocompleteWidget('inventory.uuid'),} 
```

问题是，在我的情况下，AutocompleteWidget 内容不仅必须与“父”字段值相关，还必须与用户会话信息相关（对我来说，是用户在另一个页面上选择的数据库版本号）

为此，我在基于类的视图中做了这样的事情：

```
class CompanyManageChangeParentCIView(CompanySelectedMixin,CIContextMixin,CompanyViewCIMixin,UpdateView):    
    template_name = 'inventory/browse_change_parent_ci.html'
    context_object_name = 'ci'
    form_class = ChangeParentCIForm

    def get_form(self,form_class):
        form = super(CompanyManageChangeParentCIView,self).get_form(form_class)
        form.base_fields['parent'].widget.url_params={'version':self.request.session['use_version']}
        return form 
```

当然，我修改了 AutocompleteWidget 代码来处理这个 'url_params' 额外参数。

它可以工作，但是这段代码在我看来并不是很漂亮，因为它修改了在初始化时为一个也在初始化时生成的字段创建的小部件。换句话说，如果您创建了 2 个表单实例，它指向相同的字段和小部件，所以如果我这样做：

```
def get_form(self,form_class):
    form1 = super(CompanyManageChangeParentCIView,self).get_form(form_class)
    form2 = super(CompanyManageChangeParentCIView,self).get_form(form_class)
    form1.base_fields['parent'].widget.url_params="val1"
    form2.base_fields['parent'].widget.url_params="val2"
    print id(form1),id(form1.base_fields['parent'].widget)
    print id(form2),id(form2.base_fields['parent'].widget) 
```

可以看到 form1 和 form2 指向不同的实例，但它们指向相同的小部件（如果打印它们的 id，它们指向相同的字段）。所以对我来说，如果我将 form1 和 form2 显示到同一个模板中，我将显示 2 个小部件“AutocompleteWidget”，但都是使用最新修改自定义的，即 url_parms="val2"

即使我显示一种形式，在我看来也很危险，如果 2 个线程正在执行具有 2 个不同“url_params”值的相同代码的同一个小部件，会发生什么？

所以这是我的问题：如何自定义一个带有上下文信息的 django 小部件渲染，而不仅仅是它的相关字段值？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-28T09:49:10.263

因为您正在更改`form.base_fields`，这是由该类的所有实例共享的。不要那样做， change `form.fields`，这是特定于实例的。

作为风格问题，我更喜欢在`__init__`表单本身的方法中执行此操作，并将 URL 参数作为表单 kwarg 传递 - 看起来您可以覆盖视图的`get_form_kwargs`方法来执行此操作，那么您不需要完全改变`get_form`。

# sql - Lua-Sqlite3 得到“rowid”

> ID：15678474
> 
> 赞同：0
> 
> 时间：2013-03-28T09:41:10.217
> 
> 标签：sql, sqlite, lua, row, coronasdk

当我运行**代码**时：

```
row = db:first_row("SELECT MIN(rowid) from table")
local minID = row.rowid

row = db:first_row("SELECT MAX(rowid) from table")
local maxID = row.rowid 
```

我收到一条错误消息：

```
Runtime error: ...\db_test\main.lua:33: attempt to call method 'first_row' (a nil value)
stack traceback:
    [C]: in function 'first_row'
    ...\main.lua:33: in main chunk 
```

完全相同的 SQL 查询在同一数据库上的 Python 中工作。

来自[sqlite 文档](http://www.sqlite.org/lang_createtable.html)

"ROWID 和整数主键

每个 SQLite 表的每一行都有一个 64 位有符号整数键，用于唯一标识其表中的行。这个整数通常称为“rowid”。可以使用与特殊情况无关的名称“rowid”、“oid”或“ *rowid* ”之一来代替列名来访问 rowid 值。

### 对于任何有兴趣的人，我的工作代码是：

```
local minId
local maxId
for row in db:nrows("SELECT MIN(rowid) AS `rowmin` FROM " .. table) do
    minId = row.rowmin
end
for row in db:nrows("SELECT MAX(rowid) AS `rowmax` FROM " .. table) do
    maxId = row.rowmax
end 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T10:11:08.463

如果您使用的是[lua-sqlite3](http://lua.sqlite.org/)包装器，则需要使用[**`db:rows()`**](http://lua.sqlite.org/index.cgi/doc/tip/doc/lsqlite3.wiki#db_rows)方法而不是`first_row`. 电话将是：

```
row = db:rows("SELECT MIN(rowid) AS `rowmin`, MAX(rowid) AS `rowmax` FROM table")
local minID, maxID = row.rowmin, row.rowmax 
```

* * *

基于@CL 在评论中的建议：

```
row = db:rows("SELECT MIN(rowid) AS `rowmin` FROM table")
local minID = row.rowmin
row = db:rows("SELECT MAX(rowid) AS `rowmax` FROM table")
local maxID = row.rowmax 
```

# html - HTML 和元素的显示

> ID：15678475
> 
> 赞同：11
> 
> 时间：2013-03-28T09:41:13.813
> 
> 标签：html, web-applications, jpeg, w3c

我试图了解网络是否允许查看*渐进式*JPEG。

假设我们有一个服务器（参见[渐进式 jpegs](http://calendar.perfplanet.com/2012/progressive-jpegs-a-new-best-practice/)）：

```
$ identify /var/www/test.jpg
/var/www/test.jpg JPEG 2048x1080 2048x1080+0+0 8-bit DirectClass 129KB 0.020u 0:00.019
$ identify -verbose /var/www/test.jpg | grep Inter
  Interlace: JPEG 
```

现在，如果我们放置以下 HTML 文档：

```
$ cat /var/www/test.html
<!DOCTYPE html>
<html>
<head><title>jpg test</title></head>
<body>
<p><img src="test.jpg" width="256" height="128"></p>
</body>
</html> 
```

我试图了解（根据[img 元素](http://www.w3.org/html/wg/drafts/html/master/embedded-content-0.html#the-img-element)）是否需要用户代理来下载*整个* `2048x1080`图像，而渲染区域仅为`256x128`.

或者相反，允许一个*User Agent*考虑渲染区域：`256x128`，因此推断它只能处理*渐进式*JPEG 的一部分。知道拥有全分辨率没有意义，因为它不会向图像添加任何细节（从技术上讲，即使在低分辨率下，质量层也会产生影响，这只是为了简化）。

通常，我想知道在谷歌地图等应用程序中，*用户代理是否可以中止（暂停？）当前显示的图像的检索，因为用户决定仅根据解压缩**渐进式*JPEG的部分结果来放大一些（整个 JPEG 还没有在用户端）。

* * *

更新：事实证明，web 在这里使用`loading`HTML 中的属性尝试了一种不同的方法：

```
<img src="example.jpg" loading="lazy" alt="example" /> 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-03T15:41:04.383

在网站中使用渐进式 JPEG 的想法与节省带宽的关系不大，而与更早向最终用户展示某些内容有关。无论如何，浏览器仍然会下载完整的图像，但渐进式 JPEG 允许用户看到更早发生的事情。

JPEG 上的[W3 页面是这样说的：](http://www.w3.org/Graphics/JPEG/)

> 渐进式 JPEG 是一种对信息进行重新排序的方法，以便在仅下载一小部分后，呈现整个图像的模糊视图，而不是仅一小部分的清晰视图。

因为包含 IMG 标记通常意味着您希望浏览器下载该资产，所以它不会仅仅因为确定它已下载“足够”而中途中止它。浏览器也不知道您稍后打算如何处理图像 - 也许您稍后会放大它，或者它可能需要稍后以不同的尺寸显示它。部分下载一次意味着浏览器可能需要稍后再次下载。

[维基百科](http://en.wikipedia.org/wiki/JPEG)关于 JPEG的文章指出：

> 然而，渐进式 JPEG 并没有得到广泛支持，[需要引用]，甚至某些支持它们的软件（例如 Windows 7 之前的 Internet Explorer 版本）[12] 仅在图像完全下载后才显示图像。

因此，即使某些浏览器在下载“足够”之后确实中止了这些连接，也没有足够的浏览器为我提供支持，甚至一开始就考虑使用它们。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T00:54:54.370

简短的回答是没有标准的方法来中止`img`（渐进式或其他方式）而不离开或中止页面或更改标签的 src（这将删除部分图像）。我也不知道有什么黑客可以做到这一点。

虽然这听起来像是一个不错的功能，但在以下常见情况下，现有网站会出现问题：

*   使用大型渐进式图像作为缩略图 + 预加载的图像库（即[Galleria](http://galleria.io/)这样做）
*   任何依赖`onload`图像事件的网站（如果可以中止/暂停，您的半渲染图像在什么时候被视为“加载”）？

仅出于这些原因，除非将其作为属性添加到规范中（例如已弃用的属性或您明确要求此行为的`lowsrc`某种属性），否则这将是一个坏主意。`allowpartial`作为关注 WHATWG 讨论的人，我可以告诉你它几乎肯定会被彻底拒绝，原因很简单，它增加了解决边缘问题的复杂性。如果确实需要此功能，那么几年前宽带几乎普及之前就会有需求。在游戏的这一点上，巧妙地使用 Javascript 和/或缩略图基本上是多余的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-10-07T14:35:33.087

刚刚在以下位置发现了相关提案：

*   [http://opensores.za.net/2012/responsive-images/](http://opensores.za.net/2012/responsive-images/)
*   [http://blog.yoav.ws/2012/05/Responsive-image-format](http://blog.yoav.ws/2012/05/Responsive-image-format)
*   [http://timkadlec.com/2013/06/why-we-need-responsive-images/](http://timkadlec.com/2013/06/why-we-need-responsive-images/)
*   [http://24ways.org/2012/responsive-images-what-we-thought-we-needed/](http://24ways.org/2012/responsive-images-what-we-thought-we-needed/)

和一个框架：

*   [https://developers.google.com/speed/pagespeed/module/filter-image-optimize#JpegRecompressionQualityForSmallScreens](https://developers.google.com/speed/pagespeed/module/filter-image-optimize#JpegRecompressionQualityForSmallScreens)

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-04-02T09:38:22.243

据我了解您的问题，答案在很大程度上取决于您要支持的浏览器。

可以使用“Firebug”等 3rd 方插件轻松检查浏览器行为。这些插件可以显示页面创建的进度、请求的内容以及发送到服务器和从服务器发送的字节数。在 Firebug 中，它可以在“Net”选项卡中看到。

# javascript - document.ready 和 ajax 表单提交时间

> ID：15678476
> 
> 赞同：1
> 
> 时间：2013-03-28T09:41:23.920
> 
> 标签：javascript, jquery, ajax, form-submit

我正在以模式呈现表单并通过 jquery 处理表单提交。如果服务器返回表单，我会在模式中重新显示表单以向用户显示表单错误。如果表单在服务器上验证，服务器将在内部重新引导并向用户返回成功页面。

这是通过这个小脚本（简化版）完成的：

```
function submitItemModalFormBind(url){
         //bind the form. prevent default behavior and submit form via ajax instead
         $('#ajax_form_modal_result').find(":submit").click(function(ev){
             var button = ev.target;
             var the_form = jQuery(this).parents("form");
             var data = the_form.serialize();
             data = data + "&" + button.name + "=" + button.value;

             $.ajax({
                type: "POST",
                url: url,
                data: data,
                success:function(response, textStatus, jqXHR){
                     var form = $("#ajax_form_modal_result_div", response);
                     //form is returned if it is not valid. update modal with returned form
                     //change this "if" to check for a specific return code which should be set in the view
                     if (form.html()) {
                        //update modal div
                         $('#ajax_form_modal_result_div').html(form);
                         $("#itemFormModal").modal('show');
                         //rebind the form
                         submitItemModalFormBind(url);
                      }
                      //form is not returned if form submission succeeded
                      else{
                        //update the entire document with the response received
                        document.open();
                        document.write(response);
                        document.close();
                        $("#itemFormModal").modal('hide');
                        }
                },
                error: function (request, status, error) {
                            if (request.status == 0){
                                 //status == 0 = server is unreachable or access denied
                                modalBody = $('#itemFormModal').find('.modal-body');
                                errorMessage = "<div class=\"alert alert-error\"><button class=\"close\" data-dismiss=\"alert\">x</button>Due to connection problems we could not process your request.. Please try again later. </br> ";
                                errorMessage = errorMessage + "If the problem persists check your internet connection and contact your system administrator.</div>" ;
                                modalBody.prepend(errorMessage);
                            };
                        }
                    });
                    return false;
                });
              } 
```

在大多数情况下，这似乎工作正常。但是，它可能不是最好的方法，并且不能与此脚本一起正常工作：

```
$(document).ready(function() {
              form_bind_update();
              form_bind_hide();
              $("#id_project").select2({ width: 'resolve' });
              $("#id_year").select2({ width: 'resolve' });
              $("#id_month").select2({ width: 'resolve' });
              $("#id_purchase_order_membership").select2({ width: 'resolve' });
              $("#id_action").select2({ width: 'resolve' });
            }); 
```

文档的第一次加载工作正常。但是当通过 document.write() 函数加载这些数据时，$("id_project") 的选择会崩溃。似乎在 document.write() 完成之前触发了 document.ready() 。

有什么建议可以更好地处理这个用例吗？

# c# - __doPostBack 方法是如何被调用的？调用方法在哪里？

> ID：15678481
> 
> 赞同：9
> 
> 时间：2013-03-28T09:41:52.747
> 
> 标签：c#, asp.net, webforms, asp.net-ajax

我使用了一个`<asp:Button />`控件，在浏览器中呈现后，该控件没有`click`分配事件属性。它究竟是如何调用服务器端事件的？

ASP 代码：

```
<asp:Button ID="Button1" runat="server" Text="Button" OnClick="TestClickEvent" /> 
```

上述控件在浏览器中呈现为以下代码：

```
<input type="submit" name="Button1" value="Button" id="Button1"> 
```

以下代码在浏览器中呈现，设置`__EVENTTARGET`. **我的疑问是如何`__doPostBack`调用该方法？调用方法在哪里？**

```
 function __doPostBack(eventTarget, eventArgument) {
        if (!theForm.onsubmit || (theForm.onsubmit() != false)) {
            theForm.__EVENTTARGET.value = eventTarget;
            theForm.__EVENTARGUMENT.value = eventArgument;
            theForm.submit();
        }
    } 
```

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-04-01T17:58:03.390

**简单的答案：** JavaScript`__doPostBack`函数是根据特定`<asp />`控件*及其*处理的事件调用的。

**详细答案：**视情况而定。

* * *

**首先，让我们介绍一下您的示例。**您有一个`<asp:Button />`作为标准呈现的`<input type="submit" />`。[ASP.NET WebForms](http://www.asp.net/web-forms)中的所有内容都围绕标准[HTML`<form>`](http://en.wikipedia.org/wiki/Form_%28HTML%29)标记。通过单击按钮`<form>`提交HTML**时无需**使用或使用 JavaScript 。**`<input type="submit" />`**

考虑到这一点，您可以很好地看到（您已经注意到）渲染的`<input type="submit" />`按钮没有**分配**事件`onclick`。而且，如您所见，单击按钮时会提交表单。

`<input type="submit" />`关于单击按钮时如何执行后端（C#/VB.NET/等）代码：这一切都由 ASP.NET 框架本身处理，超出了本问题/答案的范围。

* * *

**其次，现在让我们介绍一下`__doPostBack`它是什么以及如何使用它。** `__doPostBack`只是一个用于提交 HTML 的辅助 JavaScript 函数`<form>`。由于上述原因，您现在知道为什么`<input type="submit" />`按钮**不需要**调用该`__doPostBack`函数了。

为简单起见，让我们看一下一个 ASP.NET 页面，它有一个`<asp:DropDownList />`控件，并`SelectedIndexChanged`分配了事件处理程序：

```
<asp:DropDownList ID="MyDropDownList" AutoPostBack="true" OnSelectedIndexChanged="MyDropDownList_SelectedIndexChanged" runat="server" /> 
```

`<asp:DropDownList />`呈现如下：

```
<select id="ctl00_MyDropDownList" onchange="javascript:setTimeout('__doPostBack(\'ctl00$MyDropDownList\',\'\')', 0)" name="ctl00$MyDropDownList"></select> 
```

^(*让我们忽略事件`setTimeout`中的函数`onchange`——它只是 ASP.NET 使用的一种 hacky 解决方法——让我们专注于`__doPostBack`它内部的函数。*)

正如您在此处看到的，事件处理程序*正在*调用该`__doPostBack`函数。关键的区别在于改变or控件的值**不会导致浏览器提交表单！***`onchange``<asp:DropDownList />``<select />`*

 ***ASP.NET Framework 再次在内部处理提交表单时后端代码的执行方式（无论是否通过`__doPostBack`函数）。

* * *

**最后，关于`__doPostBack`:**的细节，它接受两个参数 -`eventTarget`和`eventArgument`. `eventTarget`包含导致回发的控件的呈现 HTML`id`属性；并且`eventArgument`是一个可选参数，可用于将附加数据传递给后端代码。

* * *

**编辑附加信息：** OP 提出了一个非常有趣的问题——当有多个提交按钮时会发生什么？

好吧，在`POST`操作期间，浏览器会包含导致操作启动`value`的那些。`<input type="submit" />`

这意味着，就像您获取`<input />`元素的值一样，您还可以查询是哪个按钮导致了提交！

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-30T00:55:10.503

你的控件是一个提交按钮，它可以直接将表单提交到服务器，而不需要调用__dopostback方法。所以在这种情况下 __dopostback 不会被调用。__dopostback 用于没有默认提交行为的控件，例如下拉列表。

通过控件实现的 ipostbackeventhandler 接口连接到服务器端事件。有关更多信息，请查看此[http://msdn.microsoft.com/en-us/library/system.web.ui.ipostbackeventhandler.raisepostbackevent.aspx](http://msdn.microsoft.com/en-us/library/system.web.ui.ipostbackeventhandler.raisepostbackevent.aspx)

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-04-04T07:54:49.933

嗯，你有疑问的原因是因为你认为函数 __doPostBack 需要发布。但反过来说，当最初设计 html 时，回发到服务器的唯一方法是通过提交按钮。此功能是在浏览器中构建的，因此当按下提交按钮时，浏览器会将表单的数据传递到声明的位置。但随着网络的发展，人们开始要求更多。现在其他控件也需要回发到服务器。为了实现它们，开发了各种 hack，最著名的 __doPostBack 函数就是其中之一。现在提交的任何其他控件都可以使用 __doPostBack 函数回发。但是提交按钮自己做。就这样。***

# xcode - nstextfield 安全文本条目

> ID：15678486
> 
> 赞同：4
> 
> 时间：2013-03-28T09:42:00.563
> 
> 标签：xcode, macos, interface-builder, nstextfield, appkit

我正在制作一个登录页面，当我得到用户输入时它很好。凭据将存储在一个文件中。存储在文件中的值被设置为`NSTextField`. 如果我`NSSecureTextField`从文件中读取值时，用户永远不会看到密码。我进行了搜索，但无法在我的 UI 中查看密码。我想知道是否有任何方法可以使密码在我的`NSSecureTextField`. 我只是尝试过，`NSTextField`但随后用户可以看到正在输入的密码。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-07-26T19:59:41.190

正如此[评论](https://stackoverflow.com/questions/15678486/nstextfield-securetextentry#comment22296894_15678486)所说，如果您只想设置`NSSecureTextField`just use的值`setStringValue:`。如果您希望能够阅读其中的内容，`NSSecureTextField`您可以调用`setEchosBullets:`并传递`false`以使其显示实际文本。

# android - 最佳方式：在 ScrollView 中保存和恢复 TextView 位置

> ID：15678489
> 
> 赞同：15
> 
> 时间：2013-03-28T09:42:02.433
> 
> 标签：android, android-layout, textview, android-orientation, android-scrollview

我想要的是，当设备改变方向时，纵向时屏幕上的顶线仍然是横向屏幕上的顶线。反之亦然。

由于纵向和横向的屏幕宽度可能不同，文本的线宽，也就是`TextView`和的宽度`ScrollView`，会有所不同。因此，换行在不同的屏幕配置（纵向与横向，大与小）中会有所不同。在不同的情况下，换行符将位于不同的位置。

有三个***不太完美的***解决方案供您参考。也说明了它们的缺点。

* * *

首先，最基本的方法：

## (1) 仅以像素为单位存储 y 偏移量

请看一下：[http ://eliasbland.wordpress.com/2011/07/28/how-to-save-the-position-of-a-scrollview-when-the-orientation-changes-in-android/](http://eliasbland.wordpress.com/2011/07/28/how-to-save-the-position-of-a-scrollview-when-the-orientation-changes-in-android/)

**为什么这不是那么完美：**

在纵向中，线条被换行。

```
Line_1_Word_A Line_1_Word_B Line_1_Word_C
Line_1_Word_D
Line_2_Word_A Line_2_Word_B Line_2_Word_C
Line_2_Word_D
Line_3_Word_A Line_3_Word_B Line_3_Word_C
Line_3_Word_D 
```

在横向中，线条*没有*被换行。

```
Line_1_Word_A Line_1_Word_B Line_1_Word_C Line_1_Word_D
Line_2_Word_A Line_2_Word_B Line_2_Word_C Line_2_Word_D
Line_3_Word_A Line_3_Word_B Line_3_Word_C Line_3_Word_D 
```

想象一下在保存时以纵向阅读`Line_2_Word_A`（在屏幕顶部）。当更改为横向时，它将显示`Line_3_Word_A`（在屏幕顶部）。*（因为从顶部开始有两行像素偏移。）*

* * *

然后我想出了一个方法，

## (2) 通过保存滚动百分比

```
@Override
protected void onSaveInstanceState(Bundle outState) {
    super.onSaveInstanceState(outState);
    final ScrollView scrollView = (ScrollView) findViewById(R.id.Trial_C_ScrollViewContainer);
    outState.putFloatArray(ScrollViewContainerScrollPercentage,
            new float[]{
            (float) scrollView.getScrollX()/scrollView.getChildAt(0).getWidth(),
            (float) scrollView.getScrollY()/scrollView.getChildAt(0).getHeight() });
}
@Override
protected void onRestoreInstanceState(Bundle savedInstanceState) {
    super.onRestoreInstanceState(savedInstanceState);
    final float[] scrollPercentage = savedInstanceState.getFloatArray(ScrollViewContainerScrollPercentage);
    final ScrollView scrollView = (ScrollView) findViewById(R.id.Trial_C_ScrollViewContainer);
    scrollView.post(new Runnable() {
        public void run() {
            scrollView.scrollTo(
                    Math.round(scrollPercentage[0]*scrollView.getChildAt(0).getWidth()),
                    Math.round(scrollPercentage[1]*scrollView.getChildAt(0).getHeight()));
        }
    });
} 
```

*当且仅当*每条线的长度相同时，这才有效。

**为什么这不是那么完美：**

在纵向中，线条被换行。

```
Line_1_Word_A Line_1_Word_B
Line_1_Word_C Line_1_Word_D
Line_1_Word_E Line_1_Word_F
Line_2_Word_A
Line_3_Word_A
Line_4_Word_A 
```

在横向中，线条*没有*被换行。

```
Line_1_Word_A Line_1_Word_B Line_1_Word_C Line_1_Word_D Line_1_Word_E Line_1_Word_F
Line_2_Word_A
Line_3_Word_A
Line_4_Word_A 
```

想象一下在保存时以纵向阅读`Line_2_Word_A`（在屏幕顶部）。当更改为横向时，它将显示`Line_3_Word_A`（在屏幕顶部）。*（因为它滚动了 50%。）*

* * *

然后我发现这种方法确实

## (3) 存储第一条可见行

请看一下（第一个答案）：[如何在屏幕旋转后恢复textview滚动位置？](https://stackoverflow.com/questions/5381964/how-to-restore-textview-scrolling-position-after-screen-rotation)

**为什么这不是那么完美：**

在纵向中，线条被换行。

```
Line_1_Word_A Line_1_Word_B
Line_1_Word_C Line_1_Word_D
Line_1_Word_E Line_1_Word_F
Line_2_Word_A
Line_3_Word_A
Line_4_Word_A 
```

在横向中，线条*没有*被换行。

```
Line_1_Word_A Line_1_Word_B Line_1_Word_C Line_1_Word_D Line_1_Word_E Line_1_Word_F
Line_2_Word_A
Line_3_Word_A
Line_4_Word_A 
```

想象一下在保存时以纵向阅读`Line_1_Word_E`（在屏幕顶部）。当更改为横向时，它将显示`Line_3_Word_A`（在屏幕顶部）。*（因为它是第三行。）*

一个完美的方案是，在横向中，在屏幕顶部显示`Line_1_Word_A`（以及）。`Line_1_Word_E`

* * *

您能否提出一个完美的方法？

* * *

# 编辑：

想了想，方法（3）其实和方法（1）是一样的吗？：-/

* * *

# 编辑2：

好吧，我刚刚提出了另一种比上述三种方法***不那么完美但更完美的方法：***

## (4) 基于段落的存储

将段落（或文本块）分成不同的 TextView 对象。

然后通过方法（3）之类的代码，或者任何其他方式，不难检测出哪个段落（或块），即哪个TextView对象，当前在屏幕的顶部。

然后恢复并向下滚动到该段落（或块）。答对了！

正如我所说，它***不是那么完美***。但至少用户可以回到他/她正在阅读的那个段落（或块）。他/她只需往下看一点就能找到那条特定的线。*（或者用前几行来提醒读者可能会更好，即从段落的开头阅读。）*我知道如果我们有一个很长很长的段落可能会非常糟糕：-/

好吧，我们实际上可以“改进”这种方法。把它降到单词级别，一个单词一个TextView。所以它在逻辑上是“完美的”。但是，我想，这不是一个明智的选择。

*PS浴室永远是头脑风暴的最佳场所（-：*

* * *

# 我*还在*寻找你的完美答案！！

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-03-28T16:03:21.737

我很自豪地说，我现在有了一个完美的解决方案。

嘘....（对不起，我太兴奋了。如果您发现任何错误/错误/弱点，请给我您的宝贵建议，请随时纠正我。:-)

废话少说。干得好 ！！！

```
@Override
protected void onSaveInstanceState(Bundle outState) {
    super.onSaveInstanceState(outState);
    final ScrollView scrollView = (ScrollView) findViewById(R.id.Trial_C_ScrollViewContainer);
    final TextView textView = (TextView) scrollView.getChildAt(0);
    final int firstVisableLineOffset = textView.getLayout().getLineForVertical(scrollView.getScrollY());
    final int firstVisableCharacterOffset = textView.getLayout().getLineStart(firstVisableLineOffset);
    outState.putInt(ScrollViewContainerTextViewFirstVisibleCharacterOffset, firstVisableCharacterOffset);
}

@Override
protected void onRestoreInstanceState(Bundle savedInstanceState) {
    super.onRestoreInstanceState(savedInstanceState);
    final int firstVisableCharacterOffset = savedInstanceState.getInt(ScrollViewContainerTextViewFirstVisibleCharacterOffset);

    final ScrollView scrollView = (ScrollView) findViewById(R.id.Trial_C_ScrollViewContainer);
    scrollView.post(new Runnable() {
        public void run() {
            final TextView textView = (TextView) scrollView.getChildAt(0);
            final int firstVisableLineOffset = textView.getLayout().getLineForOffset(firstVisableCharacterOffset);
            final int pixelOffset = textView.getLayout().getLineTop(firstVisableLineOffset);
            scrollView.scrollTo(0, pixelOffset);
        }
    });
} 
```

就是这样。:-)

如果对你有帮助，请拍拍手。<-- 这很重要！！

如果你愿意，点击那个直立的小三角形。（确保你先拍了拍手！）

# html - 将 CSS 样式应用于 HTML 表格

> ID：15678495
> 
> 赞同：0
> 
> 时间：2013-03-28T09:42:17.733
> 
> 标签：html, css, windows-8, windows-store-apps, winjs

我不确定它是否有所作为，但这个问题与 Windows 8 应用程序中的 HTML5 有关。

我有以下输入表单：

```
<div class="input-form">
    <form id="myData" >
        <table>
            <tr>
                <td>Data1</td>
                <td><input type="text" title="data1" id="data1" value="test" required /></td>
            </tr>
            <tr>
                <td>Data2</td>                            
                <td>
                    <div>
                       <input type="text" title="data2" id="data2" />
                       <button id="lookup">...</button>
                    </div>
                </td>
            </tr>
... 
```

这个想法是用户单击省略号并发生某些事情（以帮助他们输入数据）。这可以正常工作，但是，在 Windows 8 应用程序中，您必须迎合快照模式。所以到目前为止，这是我的 CSS 样式来处理这个问题：

```
@media screen and (-ms-view-state: snapped) {
.homepage section[role=main] {
    margin-left: 20px;
}

.input-form {
    width:320px;        
} 
```

这给我的只是表格的第二列 - 这很好，但是对于带有椭圆的字段，我也希望能够看到椭圆。我尝试了各种方法：设置两个字段的宽度，设置表格宽度，但无论我做什么似乎都没有什么不同。

我知道有人会告诉我使用桌子是一件坏事，我会被判处地狱第七圈之类的；但在我使用表格之前，我尝试了各种其他方法，但都没有给我想要的表格效果。

所以我的问题是，我该如何设计表格？或者，如果这不可能，我该如何格式化我的 HTML 以使其显示为表格？

编辑：

只是为了澄清我已经尝试过其他方法：

```
<div class="input-form">                    
    <form id="mailData" >
        <div id="input-left">
            <div>Data1</div>
            <div>Data2</div>
        </div>

        <div id="input-centre">
            <div><input type="text" title="data1" id="data1" value="test" required /></div>
            <input type="text" title="data2" id="data2" />                                                                    
        </div>

        <div id="input-right">
            <div></div>
            <button id="lookup">...</button>
        </div>
    </form> 
```

以及以下样式：

```
.input-form {    
margin-left:320px;
display:-ms-grid;
-ms-grid-rows:1fr;
-ms-grid-columns:auto auto auto;
height:100%;
}

#input-left {
-ms-grid-column: 1;
}

#input-centre {
-ms-grid-column: 2;
}

#input-right {
-ms-grid-column: 3;
} 
```

这仅显示带有 Data1、Data2 标签的表单，下面是输入框。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T14:29:59.663

这是一个很好的例子，说明使用 Blend for Visual Studio 可能会让您的生活更轻松。Blend 允许您以视觉方式处理页面上的元素以及应用于它们的 CSS 样式，因此您可以立即看到给定规则的影响。Blend 还支持（通过设备窗格）以 4 种定义的视图状态中的任何一种查看您的内容，包括快照视图，因此您可以立即判断您的规则是否正在执行您希望它们执行的操作。

以下是一些[用于在 Blend 中设计 HTML 应用程序的文档，](http://msdn.microsoft.com/en-us/library/windows/apps/jj155209.aspx)可帮助您入门。

虽然我不会因为使用表格而让你陷入困境（无论如何，使用表格进行布局往往会自我惩罚），但我建议你查看[CSS3 Grid 布局](http://msdn.microsoft.com/en-us/library/windows/apps/hh673533.aspx)和[CSS3 Flexible Box 布局](http://msdn.microsoft.com/en-us/library/windows/apps/hh453474.aspx)文档，其中为使用表格元素进行布局提供了几个很好的替代方案。

还有一个[关于定义应用程序布局的快速入门](http://msdn.microsoft.com/en-us/library/windows/apps/jj150600.aspx)，您可能会觉得有帮助。

有关 Windows 应用商店应用开发的更多信息，请注册[App Builder](http://bit.ly/gd30tolaunch)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T11:54:12.600

HTH。

示例 html：

```
<div class="inputs form">
    <div class="property data1">
        <h2 class="caption">Data1</h2>
        <input type="text" placeholder="Enter value here" required="required"/>
    </div>
    <div class="property data2">
        <h2 class="caption">Data2</h2>
        <input type="text" placeholder="Enter value here" />
        <button type="button">...</button>
    </div>
</div> 
```

示例 CSS：

```
.inputs.form
{
    display: -ms-flexbox;
    -ms-flex-direction: column;
}

.inputs.form .property
{
    display: -ms-grid;
    -ms-grid-columns: auto auto auto;
}

    .inputs.form .property .caption
    {
        -ms-grid-row-align: center;
        padding: 0 20px 0 0;
    }

    .inputs.form .property input
    {
        -ms-grid-column: 2;
    }

    .inputs.form .property button
    {
        -ms-grid-column: 3;
        min-width: 0;
    } 
```

# java - 从 excel 单元格值中读取和提取文件名

> ID：15678499
> 
> 赞同：0
> 
> 时间：2013-03-28T09:42:44.297
> 
> 标签：java, excel

我有一个 excel 表，其中包含文件名、大小、最后修改日期等文件信息，位于单独的列中。我需要单独从第一列中提取文件名并到达该路径并使用 java 将该文件复制到其他目录。请帮助我

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T09:44:42.997

我可以想到两个解决方案：

*   将 excel 文件导出为 .csv，以便您可以在 Java 中对其进行解析
*   使用更高级的 API，例如 Apache [POI](http://poi.apache.org)，如下所示：

> ```
> InputStream fis= new FileInputStream("workbook.xlsx");
> Workbook wb = WorkbookFactory.create(fis);
> Sheet sheet = wb.getSheetAt(0);
> Row row = sheet.getRow(2);
> Cell cell = row.getCell(3); 
> ```

要复制文件，您可以使用 Apache commons 的[fileUtils.copy](http://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/FileUtils.html#copyFile%28java.io.File,%20java.io.File%29)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2018-11-07T09:28:07.543

你可以尝试使用这个 jar 库：

[https://afajardomorera.github.io/ExcelReader/](https://afajardomorera.github.io/ExcelReader/)

您可以使用所需的字段定义 Java 对象，配置属性文件并从 jar 调用 reader 方法。

在 github 代码中，您可以找到一个 jar_generated 文件夹，其中包含最新版本的 jar 以使用它。

# java - 单身人士的测试日期

> ID：15678500
> 
> 赞同：0
> 
> 时间：2013-03-28T09:42:44.983
> 
> 标签：java, date, testing, singleton

我一直以这种方式测试 Dates，在我的类中有一个受保护的方法 getDate()，我已经覆盖了它以用于测试目的。例子：

```
public class MyClass {
    protected Date getDate(){
        return new Date();
    };
} 
```

测试：

```
MyClass myclass = new MyClass(){
    @Override
    protected Date getDate(){ 
        return new Date(1234567890);
    }
}; 
```

这到今天已经足够了，但是出现了以下问题：我有一个想要实例化一次的类，所以我使用单例模式：

```
public static Something getInstance() {
    if (instance == null) {
        instance = new Something();
    }

    return instance;
} 
```

问题是我必须以这种方式创建一个对象：Something.getInstance() - 对象是在该方法内创建的。我无法覆盖 getInstance 中的 getDate 方法，因为它没有意义（有时我需要真实实例，有时需要测试实例）。这引出了一个问题：在这种情况下如何测试日期？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T09:49:31.347

正如您刚刚注意到的，每次使用普通 Java 单例时，都会创建无法测试的代码。

还有其他方法可以只拥有一个类的一个实例。从简单 - 只需创建一次 :) 到使用 Spring 等 IoC 框架让他们关心它。

我建议你看一下[Misko Hevery 的编写可测试代码指南](http://misko.hevery.com/code-reviewers-guide/)，关于全局状态的部分。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-28T09:49:57.110

当且**仅当**单例模式不能不惜一切代价避免时，您可以模拟`Something`使用[Powermock](http://code.google.com/p/powermock/)模拟类的构造：

```
//create mock instance,     
Something mockSomethingInstance = createMock(Something.class);
//create your Date instance to return
Date d = new Date();
when(mockSomethingInstance.getDate()).thenReturn(d); 
```

您必须模拟 Something 类的构造函数，以始终返回您创建的实例（**当心**，这样做也会覆盖`Something`该类的所有其他构造，但在这种情况下，因为这是一个单例，它似乎没问题。） ：

```
expectNew(Something.class).andReturn(mockSomethingInstance); 
```

此外，[Powermock 也可以模拟静态函数调用](http://code.google.com/p/powermock/wiki/MockStatic)，因此您也可以模拟类上的 getInstance 函数`Something`：

```
//mock the static functions
mockStatic(Something.class);          

expect(Something.getInstance()).andReturn(mockSomethingInstance);
//have to replay the class in order to work
replay(IdGenerator.class); 
```

但是，我假设您想要进行[部分模拟](http://code.google.com/p/powermock/wiki/MockPartial)，因为您想要测试类本身的行为。但这开始变得越来越丑陋......

**总而言之：**在使用 Singletons 之前三思而后行——它们看起来很简单（当然，onlz 看起来......），从长远来看，它们很快就会变成噩梦......使用 Spring 是一种更清洁的方式，省去了很多麻烦。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-28T09:49:19.667

如果你在你的单例上放置一个 getDate() 方法，那么它就有所谓的[全局状态](http://www.youtube.com/watch?v=-FRm3VPhseI)，这使得几乎不可能为测试目的进行模拟。您唯一的选择是使用测试框架，或者将您的类更改为不是“真正的”单例，同时以其他方式确保只能实例化它的一个实例。我认为后一种选择是正确的方法，在这种情况下你不应该使用单例。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-28T09:46:31.673

您需要使用 Capture 听起来很多（假设 EasyMock 是一个选项）。

# c# - 在 MediaElement 中流式传输 Youtube 视频 - Windows Store App

> ID：15678501
> 
> 赞同：2
> 
> 时间：2013-03-28T09:42:47.107
> 
> 标签：c#, xaml, windows-store-apps, winrt-xaml, mediaelement

我正在编写 Windows 8 应用商店应用程序（使用 c#/xaml）。

我需要显示 YouTube 视频，但不使用 WebView 中的嵌入式 YT 播放器。原因是：Youtube-Player 有指向 YouTube 的反向链接（您无法删除它们），而我不想要它们。

因此，我考虑在**MediaElement 中流**式传输 YT 视频，但我无法弄清楚如何做到这一点。我已经研究过[这个](https://stackoverflow.com/questions/12330118/how-to-play-youtube-or-real-time-streaming-protocol-videos-in-windows-8-metro-ap)，但我无法为我找到解决方案。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-28T09:49:44.643

您可以将 html 内容添加到 WebView。

像这样添加脚本>>

```
<script src="jquery.js"></script>
<script src="mediaelement-and-player.min.js"></script>
<link rel="stylesheet" href="mediaelementplayer.css" /> 
```

将 youtube 视频添加为>>

```
<video width="640" height="360" id="player1" preload="none">
    <source type="video/youtube" src="http://www.youtube.com/watch?..." />
</video> 
```

或作为>>

```
using MyToolkit.Multimedia;
var url = await YouTube.GetVideoUriAsync(youtubeid, YouTubeQuality.Quality1080P);
var YoutubePlayer = new MediaElement();
YoutubePlayer.Source = url.Uri; 
```

这里显示了一些可能对您有帮助的步骤>>

[http://www.c-sharpcorner.com/UploadFile/99bb20/playing-video-in-metro-style-app-using-C-Sharp/](http://www.c-sharpcorner.com/UploadFile/99bb20/playing-video-in-metro-style-app-using-C-Sharp/)

# linux - 如何禁用 SVC ARM 指令（gcc、uclibc、buildroot）？

> ID：15678506
> 
> 赞同：0
> 
> 时间：2013-03-28T09:42:56.943
> 
> 标签：linux, gcc, arm, buildroot, uclibc

我正在使用buildroot。编译工作正常，但目标系统上的二进制文件显示“非法指令”

我用过 strace：

> execve("/opt/busybox", ["/opt/busybox"], [/* 8 vars */]) = 0 brk(0)
> = 0 --- SIGILL {si_signo=SIGILL, si_code=ILL_ILLTRP, si_addr= 0xa3f20} --- +++ 被 SIGILL 杀死 +++ 非法指令

然后是国际开发协会。

原因是 SVC 指令（si_addr 在我尝试的所有二进制文件中都指向它）

我应该怎么做才能防止 GCC 使用这条指令？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-29T15:07:31.323

看起来我已经解决了这个问题。

原因是 EABI / OABI 配置错误。感谢无艺术的**噪音**！我需要 OABI 配置。

另外，我真的不知道为什么，但它仅在 GCC 4.3.x 上开始工作在 gcc 4.7.x eabi/oabi 的默认 buildroot 配置上没有效果。

最后，我设置了额外的 GCC 选项：

> --with-march=armv5te --with-cpu=arm926ej-s --with-mtune=arm926ej-s --enable-multilib --disable-libssp --enable-languages=c,c++

# magento - 当我进入管理员时，Magento 货币符号 404

> ID：15678508
> 
> 赞同：9
> 
> 时间：2013-03-28T09:42:58.363
> 
> 标签：magento, admin, currency

任何想法会导致：

管理员->系统->管理货币->符号

当我在管理员中转到 404 时？

admin->system->manage currency->rates（工作正常）。

这是在我本地的mamp上。

我想我问的是有没有一种“故障排除”的方法来找出为什么它在管理员中的任何模块都是 404 的？

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2013-05-04T12:10:50.623

我有同样的问题 - 虽然我不知道它是否是由任何扩展引起的。不知何故，似乎没有多少人遇到过这个问题。

更改第 68 行`app\code\core\Mage\CurrencySymbol\etc\config.xml`：和

从改变

```
<currencysymbol>Mage_CurrencySymbol_Adminhtml</currencysymbol> 
```

至

```
<currencysymbol before="Mage_Adminhtml">Mage_CurrencySymbol_Adminhtml</currencysymbol> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-05-08T00:08:01.543

转到 app/code/core/Mage/CurrencySymbol/etc/config.xml 中的第 68 行

```
<currencysymbol>Mage_CurrencySymbol_Adminhtml</currencysymbol> 
```

替换为

```
<currencysymbol before="Mage_Adminhtml">Mage_CurrencySymbol_Adminhtml</currencysymbol> 
```

转到 app/etc/modules/Mage_CurrencySymbol.xml 中的第 34 行添加 Mage_Adminhtml 标记

```
<depends>
 <Mage_Adminhtml />
 <Mage_Widget/>
</depends> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-07-14T09:10:32.903

错误发生在管理路由器的定义中。它似乎不仅是一个 Windows 错误，因为我也在一台 linux 机器上得到了这个。目前它看起来如下：

```
<admin>
    <routers>
        <adminhtml>
            <args>
                <modules>
                    <currencysymbol>Mage_CurrencySymbol_Adminhtml</currencysymbol>
                </modules>
            </args>
        </adminhtml>
    </routers>
</admin> 
```

但是，如果您使用“之前”标签并指定“Mage_Adminhtml”，那么它将起作用。

```
<admin>
    <routers>
        <adminhtml>
            <args>
                <modules>
                    <currencysymbol before="Mage_Adminhtml">Mage_CurrencySymbol_Adminhtml</currencysymbol>
                </modules>
            </args>
        </adminhtml>
    </routers>
</admin> 
```

您还应该将依赖项添加到 /app/etc/modules/Mage_CurrencySymbol.xml

```
<config>
    <modules>
        <Mage_CurrencySymbol>
            <active>true</active>
            <codePool>core</codePool>
            <depends>
                <Mage_Adminhtml />
                <Mage_Widget/>
            </depends>
        </Mage_CurrencySymbol>
    </modules>
</config> 
```

[似乎在github](https://github.com/magento/bugathon_march_2013/commit/41bffaef075de3e7ffee2d9354fb8ffe098f6b4d)上提出了一个错误/修复

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-11-24T06:01:17.417

转到 app/code/core/Mage/CurrencySymbol/etc/config.xml

```
<args>

    <modules>

        <currencysymbol>Mage_CurrencySymbol_Adminhtml</currencysymbol>

        <currencysymbol after="Mage_Adminhtml">Mage_CurrencySymbol_Adminhtml</currencysymbol> // Add this new line

    </modules>

</args> 
```

现在转到 app/etc/modules/Mage_CurrencySymbol.xml

真的

核

```
<depends>

    <Mage_Adminhtml />  // Add this new line

    <Mage_Widget/>

</depends> 
```

# mysql - 用codeigniter计算每一行

> ID：15678510
> 
> 赞同：-3
> 
> 时间：2013-03-28T09:43:05.880
> 
> 标签：mysql, codeigniter, activerecord, count

我有两张桌子表topik和表剂量

```
dosen table---->|dosen_id|dosen_nama|     topik---->|dosen_id1|dosen_id2|
                   1         a                           1       2
                   2         b                           2       1
                   3         c                           1       3 
```

我想计算行 dosen_id1 和 dosen_id2 作为这样的结果

```
|dosen_nama|count|
      a       3
      b       2
      c       1 
```

我必须在模型中编写什么代码？请帮我...

**更新**

这是我的控制器

```
$data['jumlah'] = $this->topikdo_model->get_all_topikdo_jumlah(); 
```

这是我的看法

```
<table class="table table-bordered  table-striped  table-hover ">
        <tbody>
            <tr>

                <th>SANDOS</th>
                <th>Nama</th>
                <th>Jumlah Bimbingan</th>
                <th>Aksi</th>
            </tr>
            <?php
            $no=1;
            foreach($daftardosen as $row)
            {
            ?>
            <tr>

                <td><?php echo $row->dosen_id;?></td>
                <td><?php echo $row->dosen_nama;?></td>
                <td><?php echo $jumlah;?></td>
                <td align='center'>

                    <?php
                    echo anchor('topikdo_controller/rincian_daftardosen/'.$row->dosen_id,'Rincian');
                    ?>
                </td>
            </tr>
            <?php $no++;
            }
            ?>
         </tbody>
    </table> 
```

我已经在模型中编写了查询，例如 rohini sugested 模型

```
$sql="SELECT d.dosen_nama, count(t.a) 
  FROM dosen as d, (Select topik_pembimbing1 as a 
                    FROM topik 
                    UNION ALL 
                    SELECT topik_pembimbing2 as a 
                    FROM topik) as t 
  WHERE d.dosen_id = t.a 
  GROUP BY d.dosen_nama"; 
$data=$this->db->query($sql);return $data->result(); 
```

但是有消息错误“数组到字符串的转换”......对不起，，，我几天前没有任何连接到互联网......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T10:22:02.030

您可以简单地执行查询以获得所需的结果。

```
SELECT dosen_nama, ((SELECT COUNT(*) FROM topik WHERE dosen_id1=d.dosen_id) +  (SELECT COUNT(*) FROM topik WHERE dosen_id2=d.dosen_id)) AS COUNT
FROM dosen d 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T12:44:38.017

尝试在您的模型中使用此查询.....！

```
SELECT d.dosen_nama, count(t.a) 
FROM dosen as d, (Select dosen_id1 as a 
                  FROM topik 
                  UNION ALL 
                  SELECT dosen_id2 as a 
                  FROM topik) as t 
WHERE d.dosen_id = t.a 
GROUP BY d.dosen_nama 
```

**更新：**

你写，

```
$sql="SELECT d.dosen_nama, count(t.a) 
      FROM dosen as d, (Select topik_pembimbing1 as a 
                        FROM topik 
                        UNION ALL 
                        SELECT topik_pembimbing2 as a 
                        FROM topik) as t 
      WHERE d.dosen_id = t.a 
      GROUP BY d.dosen_nama"; 

$data=$this->db->query($sql); 
return $data->result(); 
```

代码的最后一行将以对象数组的形式返回查询结果，失败时返回空数组。

我怀疑您正在尝试在需要使用字符串的地方使用此数组。由于尝试将数组解析为字符串，因此您可能会收到此错误。

# jquery - 打开带有锚链接的选项卡

> ID：15678511
> 
> 赞同：13
> 
> 时间：2013-03-28T09:43:07.710
> 
> 标签：jquery, tabs, anchor

我有一些典型的标签内容，我真的需要一些帮助。我想实现，当用户尝试通过外部锚链接（[http://www.url.com#content2](http://www.url.com#content2)）访问特定选项卡时，导航链接将被激活并显示正确的选项卡。

感谢您的帮助。

HTML

```
<nav class="inner-nav">
    <ul>
        <li><a href="#content1">Inner nav navigation link1</a></li>
        <li><a href="#content2">Inner nav navigation link2</a></li>
        <li><a href="#content3">Inner nav navigation link3</a></li>
    </ul>
</nav>

<section class="tab-content" id="content1">
    <article>
        content1 goes here
    </article>
</section>

<section class="tab-content" id="content2">
    <article>
        content2 goes here
    </article>
</section>

<section class="tab-content" id="content3">
    <article>
        content3 goes here
    </article>
</section> 
```

JAVASCRIPT

```
$(document).ready(function () {
        $(".tab-content").hide();
    $(".tab-content:first").show();
    $(".inner-nav li:first").addClass("active");

    $(".inner-nav a").click(function(){
        $(".inner-nav li").removeClass("active");
        $(this).parent().addClass("active");
        var currentTab = $(this).attr("href");
        $(".tab-content").hide();
        $(currentTab).show();
        return false;
    });
}); 
```

我在[这里](http://kajag.com/themes/book_your_travel/location.html)有一个活生生的例子 所以，如果你点击导航，一切正常，但如果你想去一个特定的标签 kajag.com/themes/book_your_travel/location.html#sports_and_nature 正确的标签不会打开。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-03-28T10:06:54.363

您可以通过在页面加载时简单地检查哈希来解决这个问题，然后触发右侧选项卡上的单击，如下所示：

```
$(function () {
    $(".tab-content").hide().first().show();
    $(".inner-nav li:first").addClass("active");

    $(".inner-nav a").on('click', function (e) {
        e.preventDefault();
        $(this).closest('li').addClass("active").siblings().removeClass("active");
        $($(this).attr('href')).show().siblings('.tab-content').hide();
    });

    var hash = $.trim( window.location.hash );

    if (hash) $('.inner-nav a[href$="'+hash+'"]').trigger('click');

}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-28T10:02:09.313

我刚刚在这里完成了类似的事情（披露，我的网站）： http: [//kronia.com.au/#showcase](http://kronia.com.au/#showcase)

由于您没有直接使用散列（即页面不应滚动到 div，它应该根据值隐藏/显示选项卡），您需要首先检查散列（可能没有散列在关联）。

```
if (window.location.hash){
  someFunction();
} 
```

然后根据哈希值显示/隐藏选项卡。如果您正在执行一些转换，则定义一个“从”和“到”选项卡，否则只是应该显示的选项卡。例如：

```
function someFunction(_to, _from){
    _to.removeClass('kr-dormant').addClass('kr-next');
    _from.removeClass('kr-current').addClass('kr-dormant');
    _to.removeClass('kr-next').addClass('kr-current');
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-03-22T13:28:53.873

[如果您使用JQuery UI Tabs](https://jqueryui.com/tabs/)小部件，这正是您将拥有的行为

请参阅这些示例：

*   默认选项卡：[https ://jqueryui.com/resources/demos/tabs/default.html](https://jqueryui.com/resources/demos/tabs/default.html)

*   到第二个标签：[https ://jqueryui.com/resources/demos/tabs/default.html#tabs-2](https://jqueryui.com/resources/demos/tabs/default.html#tabs-2)

*   到第三个标签：[https ://jqueryui.com/resources/demos/tabs/default.html#tabs-3](https://jqueryui.com/resources/demos/tabs/default.html#tabs-3)

实现示例代码：

```
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>jQuery UI Tabs - Default functionality</title>
  <link rel="stylesheet" href="//code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
  <script src="//code.jquery.com/jquery-1.10.2.js"></script>
  <script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
  <link rel="stylesheet" href="/resources/demos/style.css">
  <script>
  $(function() {
    $( "#tabs" ).tabs();
  });
  </script>
</head>
<body>

<div id="tabs">
  <ul>
    <li><a href="#tabs-1">Nunc tincidunt</a></li>
    <li><a href="#tabs-2">Proin dolor</a></li>
    <li><a href="#tabs-3">Aenean lacinia</a></li>
  </ul>
  <div id="tabs-1">
    <p>Proin elit arcu, rutrum commodo, vehicula tempus, commodo a, risus. Curabitur nec arcu. Donec sollicitudin mi sit amet mauris. Nam elementum quam ullamcorper ante. Etiam aliquet massa et lorem. Mauris dapibus lacus auctor risus. Aenean tempor ullamcorper leo. Vivamus sed magna quis ligula eleifend adipiscing. Duis orci. Aliquam sodales tortor vitae ipsum. Aliquam nulla. Duis aliquam molestie erat. Ut et mauris vel pede varius sollicitudin. Sed ut dolor nec orci tincidunt interdum. Phasellus ipsum. Nunc tristique tempus lectus.</p>
  </div>
  <div id="tabs-2">
    <p>Morbi tincidunt, dui sit amet facilisis feugiat, odio metus gravida ante, ut pharetra massa metus id nunc. Duis scelerisque molestie turpis. Sed fringilla, massa eget luctus malesuada, metus eros molestie lectus, ut tempus eros massa ut dolor. Aenean aliquet fringilla sem. Suspendisse sed ligula in ligula suscipit aliquam. Praesent in eros vestibulum mi adipiscing adipiscing. Morbi facilisis. Curabitur ornare consequat nunc. Aenean vel metus. Ut posuere viverra nulla. Aliquam erat volutpat. Pellentesque convallis. Maecenas feugiat, tellus pellentesque pretium posuere, felis lorem euismod felis, eu ornare leo nisi vel felis. Mauris consectetur tortor et purus.</p>
  </div>
  <div id="tabs-3">
    <p>Mauris eleifend est et turpis. Duis id erat. Suspendisse potenti. Aliquam vulputate, pede vel vehicula accumsan, mi neque rutrum erat, eu congue orci lorem eget lorem. Vestibulum non ante. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Fusce sodales. Quisque eu urna vel enim commodo pellentesque. Praesent eu risus hendrerit ligula tempus pretium. Curabitur lorem enim, pretium nec, feugiat nec, luctus a, lacus.</p>
    <p>Duis cursus. Maecenas ligula eros, blandit nec, pharetra at, semper at, magna. Nullam ac lacus. Nulla facilisi. Praesent viverra justo vitae neque. Praesent blandit adipiscing velit. Suspendisse potenti. Donec mattis, pede vel pharetra blandit, magna ligula faucibus eros, id euismod lacus dolor eget odio. Nam scelerisque. Donec non libero sed nulla mattis commodo. Ut sagittis. Donec nisi lectus, feugiat porttitor, tempor ac, tempor vitae, pede. Aenean vehicula velit eu tellus interdum rutrum. Maecenas commodo. Pellentesque nec elit. Fusce in lacus. Vivamus a libero vitae lectus hendrerit hendrerit.</p>
  </div>
</div>

</body>
</html> 
```

# asp-classic - 如何将 ADODB.CommandObject 与 ADODB.RecordSet 一起使用？

> ID：15678512
> 
> 赞同：0
> 
> 时间：2013-03-28T09:43:10.033
> 
> 标签：asp-classic, vbscript, adodb, parameterized

我试图通过使 SQL 语句参数化来使经典 ASP/VBScript 网站更安全。

我有以下功能：

```
Function OpenUpdateableRS(strSQL)
    Dim rs
    Set rs = Server.CreateObject("ADODB.Recordset")
    rs.Open strSQL, cnDZ, adOpenKeyset, adLockPessimistic, adCmdText
    Set OpenUpdateableRS = rs
    Set rs = Nothing
End Function
```

我打算将其转换为：

```
Function SecureOpenUpdateableRS(strSQL, strParam1, strParam2)
    Dim rs
    Dim cmdOB
    Set cmdOB = Server.CreateObject("ADODB.CommandObject")
    With cmdOB
        .ActiveConnection = cnDZ
        .CommandText = strSQL
        .Parameters(0).value = strParam1
        .Parameters(0).value = strParam2
    End With
    Set rs = Server.CreateObject("ADODB.Recordset")
    rs.Open cmdOB.Execute, , adOpenKeyset, adLockPessimistic
    Set SecureOpenUpdateableRS = rs
    Set rs = Nothing
End Function 
```

当我调用函数时：

```
Set rs = SecureOpenUpdateableRS("SELECT CustID, LastActive, LoggedIn, SessionID FROM tblLogins WHERE EMail = ? AND PWord = ?", strEMail, strPassword)

```

我收到“500 - 内部服务器错误”，这可能是因为我禁用了服务器上的调试。
关于如何在不破坏原始功能的情况下使原始功能更安全的任何想法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T09:53:01.697

您必须创建参数并将它们附加到命令的参数集合中。仅将值分配给（相同！）参数是不可能的。谷歌样本；也许[这个VB！示例](http://msdn.microsoft.com/en-us/library/windows/desktop/ms675860%28v=vs.85%29.aspx)将帮助您入门。

**添加：**

我可以想到两种策略来派生参数类型：

1.  如果将*正确/最大指定*的参数值传递给函数，则可以将`VarType(value)`常量映射到参数类型常量
2.  如果您根据命令文本中的字段名执行 SELECT，则可以将记录集的字段`.Type`s 映射到参数类型常量

对于所有可能的情况，要做到这一点并非易事。我会将成对的值和所需的类型传递给函数。

# c# - Process.Exited 仅有时调用

> ID：15678514
> 
> 赞同：2
> 
> 时间：2013-03-28T09:43:14.127
> 
> 标签：c#, asp.net, process

各位程序员好，

我正在为这个挠头。我正在使用以下方法来启动一个进程。第一个是 wkhtmltoimage.exe，然后是 wkhtmltopdf.exe。一切都按预期工作，除了`Process_Exited`并不总是被调用。在我的程序的一次运行中，我多次按下相应的按钮，我有所有可能的变化：

*   只有 wkhtmltoimage 引发了事件
*   只有 wkhtmltopdf 引发了事件
*   两者都做到了
*   该事件根本没有提出。

通过任务管理器和调试器，我可以验证进程是否始终正确结束。
没有什么是可重现的，每次运行都是不同的。这是我第一次尝试流程，也许我做错了什么。幸运的是，解决这个问题对我的应用程序来说并不重要。

```
protected Process StartProcess(string FileName, string Arguments)
{
    ProcessStartInfo MyStartInfo = new ProcessStartInfo(FileName, Arguments)
    {
        UseShellExecute = false,
        CreateNoWindow = true,
        RedirectStandardOutput = true,
        RedirectStandardInput = true
    };

    Process Proc = new Process { StartInfo = MyStartInfo };
    Proc.EnableRaisingEvents = true;
    Proc.Exited += (sender, name) => Process_Exited(Proc, Proc.ProcessName);
    Proc.Start();

    return Proc;
}

protected void Process_Exited(object sender, string ProcessName)
{
    Debug.WriteLine("Process_Exited: " + ProcessName);
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T09:48:50.923

您确定退出进程时您的程序仍在运行。

我怀疑在调用 Process_Exited 之前您的程序是否已结束。

# c# - 如何从派生类的实例中调用基类非默认构造函数？

> ID：15678516
> 
> 赞同：2
> 
> 时间：2013-03-28T09:43:17.283
> 
> 标签：c#

我有一个基类和派生类。基类有 2 个构造函数，如下所示。

```
 class A
{
    public A()
    {
        Console.WriteLine("I AM BASE class");
    }

    public A(int x)
    {
        Console.WriteLine("base : parameter 1");
    }
}

class B : A
{
    public B()
    {
        Console.WriteLine("I AM DERIVED class");
    }
}

class Program
{
    static void Main(string[] args)
    {
        B b = new B();
        Console.ReadKey();
    }
} 
```

输出是**I AM BASE CLASS**并且**I AM DERIVED CLASS** 我的要求是，当 B 被实例化时，应该调用基类的参数化构造函数而不是默认构造函数。请让我知道如何实现这一目标？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T09:48:29.340

像这样编写`B`构造函数：

```
 public B() : base(1)
 {
   Console.WriteLine("I AM DERIVED class");
 } 
```

注意：我已将问题标签更改为 C#，因为您给出的代码是 C#，而不是 C++。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-28T09:47:54.497

在 B 的构造函数中使用初始化器列表

```
class B : A
{
    public B() : A(42)
    {
        Console.WriteLine("I AM DERIVED class");
    }
}; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-28T09:48:14.630

```
class B : A
{
    public B()
    {
        Console.WriteLine("I AM DERIVED class");
    }
    public B(int x)
    : A(x)
    {
        Console.WriteLine("I AM DERIVED class (with a parameter)");
    }
} 
```

# sql-server-2008 - NHibernate查询死锁以防多连接

> ID：15678519
> 
> 赞同：1
> 
> 时间：2013-03-28T09:43:28.533
> 
> 标签：sql-server-2008, nhibernate, deadlock

我有下一笔交易：

```
 Desc d = new Desc();
  d.Descr = "new";

  _sess.Transaction.Begin();

  _sess.SaveOrUpdate(d);

  var desc = _sess.CreateCriteria(typeof(Desc)).List<Desc>();

  _sess.Transaction.Commit(); 
```

此事务执行下一个查询：

```
BEGIN TRANSACTION

INSERT

SELECT 

COMMIT TRANSACTION 
```

当我在两个进程中执行此代码时，我遇到了死锁，因为

1 过程

执行 INSERT 并锁定 Key

2 过程

执行 INSERT 并锁定密钥

1 进程想要执行 SELECT 并进入 TIMEOUT STATE 2 进程想要执行 SELECT 并进入 TIMEOUT STATE

结果：死锁

BD: MS SQL Server 2008 R2

2个问题：

1.  如何在事务中包含的所有表上设置 UPDATE LOCK

2.  如果我使用此代码：

    Desc d = 新的 Desc(); d.Descr = "新";

    _sess.Transaction.Begin(IsolationLevel.Serializable);

    _sess.SaveOrUpdate(d);

    var desc = _sess.CreateCriteria(typeof(Desc)).List();

    _sess.Transaction.Commit();

没有什么变化。

IsolationLevel.Serializable 有什么作用？

**更新：**

我需要得到以下信息：

```
USE Test

BEGIN TRANSACTION

SELECT TOP 1 Id FROM [Desc] (UPDLOCK)

INSERT INTO [Desc] (Descr) VALUES ('33333')

SELECT * FROM [Desc] 

COMMIT TRANSACTION 
```

我如何在 NHibernate 的帮助下执行以下操作：

```
SELECT TOP 1 Id FROM [Desc] (UPDLOCK) 
```

?

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-28T10:46:04.113

我会将事务[隔离级别](http://msdn.microsoft.com/en-us/library/ms173763.aspx)更改为快照。这避免了读取数据时的锁定，允许更多的并发性，特别是在只读事务中没有死锁。

死锁的原因如下：插入不相互冲突。他们锁定新插入的行。然而，查询被锁定，因为它试图从另一个事务中读取新插入的行。所以你得到两个查询都在等待另一个事务完成，这是一个死锁。使用隔离级别快照，查询根本不关心未提交的行。它不是等待锁被释放，而是只“看到”已经提交的行。这避免了查询中的死锁。

# android - Android 模拟器错误：“系统 UI 已停止”

> ID：15678520
> 
> 赞同：49
> 
> 时间：2013-03-28T09:43:33.597
> 
> 标签：android, eclipse, android-emulator, adt

我最近设置了我的 Android 开发环境。一切都很好，但是当我运行模拟器时，模拟器屏幕上出现错误对话框需要很长时间 - “不幸的是，系统 UI 已停止”并且没有应用程序在其上运行。我最近转移到 64 位 windows7 并使用 JDK7 和 eclipse juno 64 位。我的模拟器配置如下： ![在此处输入图像描述](../Images/b50732234c9e20ffe5846c0cf13f6658.png)

谁能建议我有什么问题？

* * *

## 回答 #1

> 赞同：78
> 
> 时间：2013-05-06T15:43:44.990

* * *

## 回答 #2

> 赞同：28
> 
> 时间：2019-01-31T17:03:24.850

**这个问题在我身上发生过几次，并且总是通过冷启动模拟器来解决。**

在 OS X 上：

*   打开安卓工作室。导航到配置**>** AVD 管理器。
*   在“操作” **>** “右侧的下拉三角形” **>** “立即冷启动”下：

[这是菜单外观的照片](https://i.stack.imgur.com/L2alB.png)

我不确定这在 Windows 上是什么样子，也许有人可以确认它是相似的？

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2013-05-02T18:12:01.507

似乎对我和其他人有用的是将 config.ini 中的 hw.mainKeys 设置更改为 true：

```
hw.mainKeys=true 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-28T10:27:32.790

关闭 avd 和 eclipse，然后删除在您的用户文件夹中创建的 .android 文件，然后尝试创建一个新的模拟器，这在大多数情况下对我有帮助。它可能对您有帮助

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-06-25T12:30:21.387

我的情况。Android SDK 在这里放置`D:\android-sdk\`了将近一年。在最近一次 SDK 更新后，我得到“不幸的是，系统 UI 已停止”。我创建了许多具有不同 RAM 数量、VM 堆大小、屏幕大小、API 级别（问题似乎只在 API14+ 上）等的设备。完成后我注意到在该位置创建了新设备`C:\users\XuserX\.android\avd` 阅读[此](https://stackoverflow.com/questions/2841766/possible-to-change-where-android-virtual-devices-are-saved)帖子解决方案后很简单：用值创建`ANDROID_SDK`和`ANDROID_SDK_HOME`系统变量`d:\android-sdk\`

希望这篇文章对某人有所帮助。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-07-27T06:32:43.833

只需在模拟器中关闭并打开 hte 按钮......它可以解决这个问题

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2014-03-28T19:43:42.083

如果您的**设备定义**名称中包含`"`字符，也会发生这种情况，例如 Kindle Fire HD 7"。

一旦我删除了撇号，错误就消失了。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2019-12-04T18:26:07.820

在 Android Studio 中`Tools -> AVD manager -> Actions -> dropdown`▾`-> Wipe Data`

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2021-01-06T08:41:48.717

转到 AVD Manager，然后在 Android Studio 中为您的模拟器单击***“擦除数据” 。***

[![在此处输入图像描述](../Images/91b9f42aec8d37eefbbcc935673ef532.png)](https://i.stack.imgur.com/VigaM.png)

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2021-08-17T20:56:48.107

可能有点晚了，但我每次开始 AVD 时都会遇到这个问题。此外，冷启动选项对我来说只是一个临时修复。

我检查了我在模拟器上安装的 android 版本，发现 ABI 版本是 x86。

我下载了 X86_64 版本，再也没有遇到那个烦人的错误。

# java - 从基于 struts 的 Web 应用程序中访问 Web 服务时出现异常

> ID：15678528
> 
> 赞同：0
> 
> 时间：2013-03-28T09:43:55.707
> 
> 标签：java, web-services, struts, webservice-client

我有一个基于代理`Web Service Client class(Proxyclient.java)`来访问部署在本地服务器中的 Web 服务。当我尝试通过客户端类（`Proxyclient.java`）中的主函数访问 weservice 时，我能够在没有任何错误的情况下获得响应。但是当我收到来自的请求时基于 Struts 的 Web 应用程序在请求到达我的客户端类 ( `Proxyclient.java`) 之前没有问题。但是一旦它到达特定行中的类，如下所示

```
JaxWsProxyFactoryBean factory= new JaxWsProxyFactoryBean(); 
```

当执行到这一行时，我收到如下错误响应

```
SEVERE: Servlet.service() for servlet action threw exception
java.lang.ClassNotFoundException: org.apache.cxf.jaxws.JaxWsProxyFactoryBean
at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1358)
at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1204)
at com.tmb.clientimpl.ProxyClient.checkUserId(ProxyClient.java:18)
at com.tmb.client.action.DetailsFetcher.getStatus(DetailsFetcher.java:14).... more 
```

我拥有此 Web 服务命中所需的所有 jar 文件。我是否需要对 struts-config.xml 或要添加的任何其他 jar 进行任何更改以纠正问题..？请帮助我...

下面是我的客户类：

```
public class ProxyClient {

public UserIdExistsBean checkUserId(String UserId){
    UserIdExistsBean userIdExistsBean=new UserIdExistsBean();
    try{
    System.out.println("entering before fact");
    JaxWsProxyFactoryBean factory= new JaxWsProxyFactoryBean();
    System.out.println("factory ready");
    factory.setServiceClass(IUserDetails.class);
    factory.setAddress("http://xx.xx.xx:YYYY/UserDetailsService");
    IUserDetails serviceRef=(IUserDetails)factory.create();
    System.out.println("after creating");

    userIdExistsBean=(UserIdExistsBean)serviceRef.checkuserId(UserId);
    }
    catch (Exception e) {
        // TODO: handle exception
        e.printStackTrace();

    }
    return userIdExistsBean;
}
public static void main(String[] args) {
    UserIdExistsBean userIdExistsBean=new UserIdExistsBean();
    ProxyClient proxy=new ProxyClient();
    userIdExistsBean=proxy.checkUserId("test");
    System.out.println("exists "+userIdExistsBean.isExists());
    System.out.println("response "+userIdExistsBean.getRespString());
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T10:39:10.930

在您的 Struts Web Application/WEB-INF/lib中检查任何可用的[jars](http://www.jarfinder.com/index.php/java/info/org.apache.cxf.jaxws.JaxWsProxyFactoryBean)

# assembly - 如何找出 GDT 的内容

> ID：15678530
> 
> 赞同：1
> 
> 时间：2013-03-28T09:44:00.137
> 
> 标签：assembly, x86, memory-address, protected-mode, gdt

我正在分析一个反汇编的dll并卡在了线上

```
mov ebx,fs:[00000004h] 
```

我想找出用这条指令写入 ebx 的数据的确切物理地址。gdb 告诉我`fs = 0x53.`

我已经发现地址取决于模式（受保护的或真实的），而且我很确定 CPU 处于保护模式（请参阅***）。所以段 fs 的开始应该存储在 GDT 中的某个地方，对吗？我还找到了 的地址`GDT-register (0x009bd5c0007f)`，但是 gdb 不允许我访问或读取寄存器，所以我不知道如何找出 fs 的物理地址（因此，`fs:[00000004h]`）。

有人可以帮我吗？

我使用了指令`smsw ax`，然后`eax`是 0x280031。所以最后一位是1，表示保护模式。我做对了吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-28T11:37:43.787

是的，它是保护模式。

`GDT`您可能通过使用`SGDT`指令找到了 的虚拟地址。

但是，该地址不太可能有用，因为您只能从操作系统内核中执行的代码（可能是内核模式驱动程序）中读取该地址处的内存。

您需要找到一种从内核内部读取感兴趣内存的方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T16:55:36.990

既然你提到了一个 DLL，我假设它都在 Windows 上。在 Windows 上，`FS`已知指向线程信息块 (TIB)。在偏移量 4 处，有指向栈顶的指针。代码将其加载到`EBX`中，就是这样。

FS 的值无所谓，也不需要在 GDT 周围闲逛。它是 API 的文档化部分。

# ios - 如何找到 iOS 中使用的“保留名称”的正确翻译

> ID：15678533
> 
> 赞同：0
> 
> 时间：2013-03-28T09:44:19.677
> 
> 标签：ios, translation

我有一个应用程序需要位置服务处于活动状态并获得授权，如果不是这样，则应该向用户显示一条消息，要求他们启用并授权所述服务。

问题是我的应用程序被翻译成 26 种不同的语言，重要的是 iOS 设置菜单中“定位服务”的本地化版本与我翻译的弹出窗口中的匹配。

那么，是否有某种适用于 iOS 的 Phrasebook，可以在其中查看 Apple 对不同语言的不同短语使用了哪些翻译？

例如：en: Location Services sv: Platstjänster de: Ortungsdienste

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-28T10:47:05.393

在[这篇文章](http://www.cocoabuilder.com/archive/cocoa/202866-getting-localized-system-strings.html)中，有一个针对 AppKit 的解决方案。我认为它与 iOS 类似。尝试这个

```
NSBundle *appBundle = [ NSBundle bundleWithIdentifier:@"com.apple.UIKit" ];
NSString *localSetFont = [ appBundle localizedStringForKey: STRING_YOU_WANT_TO_SEEK value: nil table: STRING_IN_WHICH_TABLE]; 
```

# django - 在 3 次错误尝试后显示 recaptcha 并在 Django 中处理它？

> ID：15678534
> 
> 赞同：2
> 
> 时间：2013-03-28T09:44:22.430
> 
> 标签：django, recaptcha

我正在使用`Class-based view`Django：我只想在 3 次后显示验证码，并且只有在显示后才处理验证码。到目前为止，我只能在一次错误尝试后显示验证码：

```
def post(self, request):
        response = captcha.submit(  
            request.POST.get('recaptcha_challenge_field'),  
            request.POST.get('recaptcha_response_field'),  
            '[[ MY PRIVATE KEY ]]',  
            request.META['REMOTE_ADDR'],)  

        username = request.POST['username']
        password = request.POST['password']

        user = authenticate(username=username, password=password)
        state = "The username or password is incorrect."
        if user is not None:
            login(request, user)
            return HttpResponseRedirect('/index/')
        else:
            #captcha = CaptchaField()
            public_key = settings.RECAPTCHA_PUBLIC_KEY
            script = displayhtml(public_key=public_key)
            return render_to_response('index.html', {'state':state, 'captcha':'captcha', 'script':script}, context_instance=RequestContext(request)) 
```

我想在 3 次后显示验证码并使用 response.is_valid 处理它。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T10:53:06.037

最简单的解决方案可能是将尝试次数存储在 cookie 中，并在每次尝试失败时递增。显然这可以被篡改，这让我想到了签名的 cookie：

*   [https://docs.djangoproject.com/en/dev/ref/request-response/#django.http.HttpRequest.get_signed_cookie](https://docs.djangoproject.com/en/dev/ref/request-response/#django.http.HttpRequest.get_signed_cookie)
*   [https://docs.djangoproject.com/en/dev/ref/request-response/#django.http.HttpResponse.set_signed_cookie](https://docs.djangoproject.com/en/dev/ref/request-response/#django.http.HttpResponse.set_signed_cookie)

本质上，如果值已被篡改，签名的 cookie 将引发异常。

您也可以将计数器存储在会话中，但是当 cookie 可以解决问题时，我认为过早创建会话对象没有任何意义。

# php - 将输入注入连接到标准输入的进程（交互式控制台）

> ID：15678535
> 
> 赞同：2
> 
> 时间：2013-03-28T09:44:22.827
> 
> 标签：php, command-line-interface, stdin

我们有一个像这样执行 PHP 交互式 shell 的工具：

```
$descriptorSpec = array(
    0 => STDIN,
    1 => STDOUT,
    2 => STDERR
);

$prependFile = __DIR__ . '/../../../../../res/dev/console_auto_prepend.php';
$exec = 'php -a -d auto_prepend_file=' . escapeshellarg($prependFile);

$pipes = array();
proc_open($exec, $descriptorSpec, $pipes); 
```

不幸的是，这个技巧`auto_prepend_file`会导致 PHP 5.3 上的自动加载问题。当我们将文件包含在交互式 shell 中时，我们发现一切都运行良好：

```
$ php -a
交互式外壳

php > 包括“myproject/res/dev/console_auto_prepend.php”；
自动加载器已初始化。

```

我们要做的是：

*   通过 proc_open 执行 php 交互式 shell
*   将包含行发送到交互式 shell
*   将控制权交给用户输入

有没有办法做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-02T08:09:23.913

未经测试的想法：

*   创建了一个新的输入管道
*   使用该输入管道打开 PHP 进程 ( `php -a`)，stdout 和 stderr 可以连接到系统管道
*   注入 include 命令（写入输入管道）
*   在从 STDIN 读取并写入我们的新输入管道（连接到`php -a`）的循环中

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-08-10T20:31:27.263

该项目最终使用了自定义 PHP shell ( `psysh`)

# c - 创建一个可以使用 c fscanf 读取的文本文件

> ID：15678539
> 
> 赞同：0
> 
> 时间：2013-03-28T09:44:31.243
> 
> 标签：c, file-handling

这是我的程序，我正在使用它来读取一个简单的文本文件并将输出存储在一个结构中。我目前面临的问题是在它不起作用的while循环上。文件句柄似乎读取了文件。此外，输入文件是使用带有给定文本的简单 Windows 记事本创建的——这可能是个问题吗？

```
#include<process.h>
#include<stdio.h>
#include<conio.h>
#include<string.h>

struct studyCentre {
    char stdCode[10], stdName[40], regName[40], coord[20], prgin[20], address[35], email[40], webs[45];
    int ph;
} std;

int flag=0;

void main() {
    FILE *fp;

    fp  = fopen("studyCentre.txt", "r+");
    if (fp==NULL) {
        printf("No file found");
        exit(0);
    }

    while(feof(fp)!=0) {
    //while(!fp.EOF()) {
        fscanf(fp, "%s%s%s%s%s%s%s%s%d", std.stdCode, std.stdName, std.regName, std.coord, std.prgin, std.address, std.email, std.webs, &std.ph);
        printf("\n Study Center Name :: %s \n Regional Centre Name :: %s \n Coordinator Name = %s \n Program incharge Name :: %s Address %s \n Email :: %s \n Website :: %s \n Phone :: %d", std.stdName, std.regName, std.coord, std.prgin, std.address, std.email, std.webs, &std.ph);
        flag=1;
    }
    if (flag==0) {
        printf ("No record found");
    }
    fclose(fp); 
} 
```

输出

```
No record found 
```

这是我的文本文件中的文本。

```
111
a
b
c
d
e
f
g
h
122 
```

**编辑：**更正了一个错字。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-28T09:57:11.850

您还需要查看函数 feof 返回的内容：

返回 ：

如果设置了与流关联的文件结束指示符，则返回非零值。否则，返回零。

你应该写

```
while(feof(fp)==0) 
```

# actionscript-3 - 到达最后一帧时从主屏幕卸载外部 swf（子）？

> ID：15678540
> 
> 赞同：0
> 
> 时间：2013-03-28T09:44:33.630
> 
> 标签：actionscript-3, flash, parent-child

我有一个外部 swf 加载到主框架（URL 请求）中，当 swf 到达它的最后一帧时，我需要它来 UNLOAD 本身。我需要在 CHILD swf 上没有任何代码的情况下执行此操作，因为这是针对 iOS 应用程序的。任何人都可以帮忙吗？

```
//start button

start_button_aboriginal.addEventListener(MouseEvent.CLICK, fl_ClickToLoadUnloadSWF_3);

import fl.display.ProLoader;
var fl_ProLoader_3:ProLoader;

//This variable keeps track of whether you want to load or unload the SWF
var fl_ToLoad_3:Boolean = true;

function fl_ClickToLoadUnloadSWF_3(event:MouseEvent):void
{
if(fl_ToLoad_3)
{
    fl_ProLoader_3 = new ProLoader();
    fl_ProLoader_3.load(new URLRequest("myths/myth_aboriginal.swf"));
    addChild(fl_ProLoader_3);
    fl_ProLoader_3.x = 114;
    fl_ProLoader_3.y = 41;
}
else
{
    fl_ProLoader_3.unload();
    removeChild(fl_ProLoader_3);
    fl_ProLoader_3 = null;
}
// Toggle whether you want to load or unload the SWF
fl_ToLoad_3 = !fl_ToLoad_3;

//here, I want to UNLOAD the external SWF when it is finished playing.

var totFrames:Number=childMC.totalFrames;
var curFrame:Number;

childMC.addEventListener(Event.ENTER_FRAME, remove);

    function remove(evt:Event):void {
    curFrame=childMC.currentFrame;
    if (totFrames==curFrame) {
        removeChild(childMC);
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-29T09:53:12.100

您需要在全局范围内声明 childMC 并分配加载程序内容。并且不要在函数内部声明函数！

像这样的东西**不是 TESTET**

```
import fl.display.Loader; // impoerts belong at the top

var fl_ProLoader_3:ProLoader; // then your global vars
var childMC:MovieClip; // instatiate childMC with global scope

start_button_aboriginal.addEventListener(MouseEvent.CLICK, fl_ClickToLoadUnloadSWF_3,false,0,false); // listener with weak refference

var fl_ToLoad_3:Boolean = true;

function fl_ClickToLoadUnloadSWF_3(event:MouseEvent):void
{
if(fl_ToLoad_3)
{
    fl_ProLoader_3 = new Loader();
    var url:URLRequest = new URLRequest("myths/myth_aboriginal.swf"); 
    var loaderContext:LoaderContext = new LoaderContext(false, ApplicationDomain.currentDomain, null); // IOS needs this
        fl_ProLoader_3.load(url, loaderContext);
    fl_ProLoader_3.addEventListener(Event.COMPLETE, loadCompleteHandler,false,0,false);

}
else
{
    if(childMC){
            removeChild(childMC);
            childMC.unloadAndStop();
            childMC = null; 
    }

}
// Toggle whether you want to load or unload the SWF
fl_ToLoad_3 = !fl_ToLoad_3;

}
function loadCompleteHandler(evt:Event):void
{
        childMC = evt.target.content as MovieClip;
        childMC.addEventListener(Event.ENTER_FRAME, remove);
        addChild(childMC);
        childMC.x = 114;
        childMC.y = 41;
}

function remove(evt:Event):void {
    var totFrames:Number=childMC.totalFrames;
    var curFrame:Number =childMC.currentFrame;;

    if (totFrames==curFrame) {
      childMC.removeEventListener(Event.ENTER_FRAME, remove);
      removeChild(childMC);
      childMC.unloadAndStop();
      childMC = null;
  }
} 
```

# android - 如何以编程方式从文件资源管理器 android 浏览文件夹？

> ID：15678541
> 
> 赞同：4
> 
> 时间：2013-03-28T09:44:36.930
> 
> 标签：android, android-intent

我可以浏览文件资源管理器来读取我的应用程序中的文本文件，这是我正在使用的代码。

```
Intent intent = new Intent();
intent.setType("application/text");
intent.setAction(Intent.ACTION_GET_CONTENT);
startActivityForResult(Intent.createChooser(intent,"Select text"), SELECT_TEXT); 
```

但是在我的应用程序中单击浏览按钮时，我想浏览文件夹中的所有文件。`/sdcard/my-folder/`如何直接从此文件夹浏览。

请任何人帮助我实现这一点。

# macos - Git > dyld：惰性符号绑定失败：找不到符号：_iconv_open

> ID：15678546
> 
> 赞同：5
> 
> 时间：2013-03-28T09:44:50.243
> 
> 标签：macos, git, mamp, libiconv

我不知道发生了什么，但突然间我所有的 git 命令都不再工作了，这是我收到的错误消息。

```
$ git show
dyld: lazy symbol binding failed: Symbol not found: _iconv_open
   Referenced from: /usr/local/bin/git
   Expected in: /Applications/MAMP/Library/lib//libiconv.2.dylib

dyld: Symbol not found: _iconv_open
   Referenced from: /usr/local/bin/git
   Expected in: /Applications/MAMP/Library/lib//libiconv.2.dylib 
```

任何帮助表示赞赏，谢谢！

**附加信息：** 当我检查 libiconv.2.dylib 文件时，它给了我这个输出：

```
$ file /usr/lib/libiconv.2.dylib 
/usr/lib/libiconv.2.dylib: Mach-O universal binary with 2 architectures
/usr/lib/libiconv.2.dylib (for architecture i386):  Mach-O dynamically linked shared       library i386   
/usr/lib/libiconv.2.dylib (for architecture x86_64):    Mach-O 64-bit dynamically linked shared library x86_64 
```

我理解应该是 3 种架构，我将如何添加第三种架构？

**编辑：** 这些是里面的链接`/Applications/MAMP/Library/lib/`

```
-rwxrwxr-x   1 mm  admin     1194 Jan 22 10:52 libgettextsrc.la
-rwxrwxr-x   1 nm  admin  2241972 Jan 22 11:00 libiconv.2.dylib
lrwxr-xr-x   1 nm  admin       16 Mar  1 10:06 libiconv.dylib -> libiconv.2.dylib 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2014-05-21T14:00:40.560

我还将 DYLD_LIBRARY_PATH 设置为我的 XAMPP 位置。我设法通过将 usr/lib 添加回 .bash_profile 中的 DYLD-DYLD_LIBRARY_PATH 来修复它

```
export DYLD_LIBRARY_PATH=/usr/lib/:$DYLD_LIBRARY_PATH 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-28T14:50:22.793

终于弄明白了，我`DYLD_LIBRARY_PATH`在我的 .bash_profile 中启用了，路径设置为 mamp 文件夹，以便 git 先在那里检查库。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-08-08T17:42:31.770

我有一个类似的问题，git 不能工作，我得到了同样的错误。我在跑山狮。我决定运行我所有的更新，看看是否有帮助。（Mavericks 是免费升级，所以我这样做了。）完成操作系统更新后，我再次尝试 git 并收到一条消息“xcode-select: note: no developer tools were found at '/Applications/Xcode.app', requesting安装。在对话框中选择一个选项以下载命令行开发人员工具。” 我在对话框中选择下载，安装 xcode 工具并再次尝试，它就像一个魅力！

# jsf - 输入上的 Richfaces valueChangeEvent 不起作用

> ID：15678547
> 
> 赞同：0
> 
> 时间：2013-03-28T09:44:54.607
> 
> 标签：jsf, richfaces, javabeans, ajax4jsf

我正在尝试使用richfaces inputNumberSlider 或inputNumberSpinner。

问题是我无法更新 bean 中的值。

这是我尝试的两种解决方案：

**1)**

```
<rich:inputNumberSlider value="#{skinningBean.currentSkin.topBar.bannerXOffset}"
valueChangeListener="#{skinningBean.valueBannerXOffSetChangeListener}"
onchange="A4J.findForm(this).submit()">
</rich:inputNumberSlider> 
```

在豆子里：

```
public void valueBannerXOffSetChangeListener(ValueChangeEvent event) {
    System.out.println("x value changed");
    currentSkin.getTopBar().setBannerXOffset((Integer) event.getNewValue());
} 
```

**2)**

```
<rich:inputNumberSpinner value="#{skinningBean.currentSkin.topBar.bannerYOffset}">
  <a4j:ajax event="change" render="preview" oncomplete="initSlider()" />
</rich:inputNumberSpinner> 
```

这应该只是在 bean 中调用我的 setter。我写了两个setter，一个接受String，另一个接受Integer。他们都没有被称为

尽管无论如何我都需要一个 a4j 支持来重新渲染我的项目，但首选 2 号的工作解决方案

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-03-28T10:23:58.273

首先尝试以下操作，一旦你开始工作，你可以添加**oncomplete**部分：

```
<rich:inputNumberSpinner value="#{skinningBean.currentSkin.topBar.bannerYOffset}">
  <a4j:ajax event="onchange" render="preview" action="#{bean.valueBannerXOffSetChangeListener}" />
</rich:inputNumberSpinner> 
```

可能您需要重新定义 bean 函数以不接收参数。

参考： [https ://community.jboss.org/message/588944#588944](https://community.jboss.org/message/588944#588944)

# php - 将文本框值存储在数组中

> ID：15678561
> 
> 赞同：0
> 
> 时间：2013-03-28T09:45:41.060
> 
> 标签：php, javascript, arrays

我有一个 html 页面在其中一个文本框

```
<input type="text" id="region&activity">

<input type="button" id="result" value="submit"> 
```

在我输入的文本框中，`Race in Gujarat`我想将此值存储到数组中
。`Race`在一个数组和`Gujarat`另一个数组中
帮助我或给出一些想法来做到这一点。
谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-28T10:00:04.070

试试这个

```
<?php
 $abc='race in gujrat';
 list($event,$state) = split('in',$abc);
  echo $event;
 echo $state;
 ?> 
```

并将该字符串存储在数组中

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-28T09:54:19.517

**使用 PHP**

此结果假定您将它们拆分为空格后的数组。

```
$text  = "Race in Gujarat";
$result =  explode(" ", $text);
echo $result[0];  //Race
echo $result[1];  //in
echo $result[2];  //Gujarat 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-28T09:52:31.173

由于您的问题没有明确定义，我假设您希望删除“in”一词，并将字符串拆分为空格字符上的单独数组。

怎么样（为方便起见使用jQuery）：

```
var splitRegion=$("#region&activity").val().replace(/in /g," ").split(" ");
myArray1.push(splitRegion[0]);
myArray2.push(splitRegion[1]); 
```

顺便说一句，我认为与号 (&) 是 id 中的非法字符。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-28T10:47:30.653

如果您想使用 java 脚本，请执行以下操作：-

```
<script>
    $(function(){
$("#filter").click(function(){
    var name = $('#select').val();
    alert(name);
    $.ajax({
        type: "POST",
        data: {"name":name} ,
        url: "array.php",
        async: false,       
        success: function(result) { 
        alert(result);
        $("#result").text(result);
        } 
    });   

    });
});
    </script> 
```

这是您的 html 代码：-

```
</head>
<body>
    <input type="text" id="select">
    <input  type="button" id="filter" name="button" value="Search">
    <div id="result">
    </div>
</body>
</html> 
```

这是array.php：-

```
<?php
$name= $_POST['name'];
$result =  explode("in", $name);
foreach($result as $row){
echo $row;
}
?> 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-28T11:31:40.447

试试这个：-

```
<?php
 $abc= $_POST['name'];
 list($event,$state) = explode('in',$abc);

 $array1[]=$event;
 $array2[]=$state;
 foreach($array1 as $city)
{
echo $city;
}
foreach($array2 as $st)
{
echo $st;
}
 ?> 
```

# javascript - 媒体查询 JavaScript 也在浏览器上工作

> ID：15678562
> 
> 赞同：1
> 
> 时间：2013-03-28T09:45:41.453
> 
> 标签：javascript, css, media-queries

我正在尝试使用 JavaScript 和媒体查询。我想用 JavaScript 改变一些元素，比如切换元素等。

当浏览器/设备宽度为 320px 时，我想做点什么。

我想出了以下内容，但这不起作用：

```
if (screen.width < 320){ 
    $('input[type="text"]').insertAfter('label');
    $('input[type="text"]').eq(1).remove();
    $('input[type="text"]').eq(2).remove();             
} 
```

我究竟做错了什么？

当我想对我的 CSS 进行一些更改时，它看起来像这样：

```
@media only screen and (max-width : 400px) { } 
```

上面的例子我想转换成 JavaScript。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-28T09:59:03.617

您可以在 JavaScript 中调用媒体查询：

```
function resize() {
    if (window.matchMedia('only screen and (max-width: 400px)').matches) {
        document.body.style.background = 'red';                   
    } else if (window.matchMedia('only screen and (min-width: 401px) and ' +
                                 '(max-width: 600px)').matches) {
        document.body.style.background = 'blue';
    } else {
        document.body.style.background = 'yellow';               
    }
}

window.addEventListener('resize', resize, false);
resize(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-28T09:48:03.373

是的。您可以使用[**$(window).width()**](http://api.jquery.com/width/)来做到这一点。

```
if ($(window).width() < 320) {    
  $('input[type="text"]').insertAfter('label');
  $('input[type="text"]').eq(1).remove();
  $('input[type="text"]').eq(2).remove();
} 
```

此外，如果您想检查是否发生了调整大小而不刷新，请使用**[$(window).resize()](http://api.jquery.com/resize/)**。

这是一个使用中调整大小的示例[jsFiddle](http://jsfiddle.net/UqYCr/611/)。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-28T09:56:24.267

请参考以下网址：

[Phonegap - 可靠的页面宽度检测？](https://stackoverflow.com/questions/9666870/phonegap-reliable-page-width-detection)

您可以使用 Navigator 对象来检测 jquery 中的设备。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-28T09:59:23.133

是的你可以。虽然媒体查询非常适合 CSS，但有时我们需要根据设备大小加载 js。

Paul Irish 编写的[Media Match是一个很好的工具。](https://github.com/paulirish/matchMedia.js/)[Modernizr](http://modernizr.com/)中使用了一个特征检测库。

# sqlite - lua-sqlite3 和 lsqlite3 的区别

> ID：15678564
> 
> 赞同：0
> 
> 时间：2013-03-28T09:45:44.840
> 
> 标签：sqlite, lua, openwrt

我想使用 Lua 在 OpenWRT 中的 sqlite 中做一个数据库，我想知道库 lua-sqlite3 和 lsqlite3 之间是否有任何概念上的区别？

查看他们的文档，它们似乎是同一事物的不同库。

[http://lua.sqlite.org/index.cgi/doc/tip/doc/lsqlite3.wiki](http://lua.sqlite.org/index.cgi/doc/tip/doc/lsqlite3.wiki)

[http://www.mroth.net/lua-sqlite3/index.html](http://www.mroth.net/lua-sqlite3/index.html)

谢谢你的帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-12-13T15:53:09.780

似乎没有概念上的区别。

似乎 lua-sqlite3 也不再在 lua2 下工作。我不确定。

问题是语法不同。所以如果你使用 lsqite3 你必须重写旧脚本......

就像您希望了解有关 lua-sqlite3 和 lsqlite3 之间差异的更多信息一样

# vb.net - 什么可以是以下快捷方式代码

> ID：15678568
> 
> 赞同：1
> 
> 时间：2013-03-28T09:45:51.690
> 
> 标签：vb.net, linq, foreach

短代码：

```
 Dim NewItemList As List(Of OrderDetail) = New List(Of OrderDetail)

    For Each Item As OrderDetail In OrderInfoDetails
        If Item.Status = EnumOrderStatus.Taken Then
            NewItemList.Add(Item)
        End If
    Next 
```

试过：

```
 Dim NewItemList As List(Of OrderDetail) = From Item As OrderDetail In OrderInfoDetails Where Item.Status = EnumOrderStatus.Taken Select Item 
```

但是出现错误说无法将 orderdetail 列表转换为通用列表

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T09:53:50.400

只需将查询包装在 List 构造函数中：

```
Dim NewItemList = New List(Of OrderDetail)(From Item As OrderDetail In OrderInfoDetails Where Item.Status = EnumOrderStatus.Taken Select Item) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T09:55:39.213

使用通过 lambda 表达式`Where(...)`测试`Status`属性是否等效的方法，然后调用 ToList() 方法`EnumOrderStatus.Taken`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-28T09:55:46.813

简单点怎么样

```
Dim NewItemList = OrderInfoDetails.Where(Function(e) e.Status = EnumOrderStatus.Taken).ToList() 
```

简单来说，`Where`我更喜欢方法语法。你想要 a`List(Of OrderDetail)`而不是 a `IEnumerable(Of OrderDetail)`，所以你可以调用`ToList()`扩展方法。

# asp.net - 将长字符串从客户端 Silverlight 快速连续发送到服务器 ASP.NET 代码的最佳方式？

> ID：15678569
> 
> 赞同：1
> 
> 时间：2013-03-28T09:45:58.277
> 
> 标签：asp.net, visual-studio-2010, silverlight, json.net

我有一个需要像扫描仪一样工作的网站 - 从网络摄像头捕获正常图像，然后在服务器上处理该图像。如果该过程未能提取所需的数据（QR 码），则捕获另一张图像并继续循环直到处理成功。

在服务器端，我可以使用各种类处理字符串图像——这不是问题。

在客户端，我可以使用 Silverlight 捕获图像。

哪种方法最适合将该字符串图像从客户端获取到服务器进行处理？我什至不需要将数据发送回客户端 Silverlight，因为我可以在成功时简单地将网页传输出去（但如果我可以将消息返回给 Silverlight 应用程序以停止以便用户可以保持在同一页面上，那将是理想的）。

使用 Silverlight 是最好的方法吗？？？我已经探索了 WCF RIA 服务选项（这对我来说是全新的），但这仅用于链接到不必要的数据库。

我不是在这里问一个解决方案，只是一个指针，所以我知道在哪条道路上投入时间来学习满足这个要求。以前从未看过 JSON ......这是解决方案吗？

我正在使用 Visual Studio 2010。提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T09:58:25.807

您可以使用 webservice (.asmx)，然后您可以通过 JSON 将值从 .aspx 页面传递到 .asmx 中的 WebMethod ..

# xaml - 如何使用 xaml 中的应用样式实现 2 路数据绑定？

> ID：15678572
> 
> 赞同：1
> 
> 时间：2013-03-28T09:45:59.150
> 
> 标签：xaml, windows-8, blend

我的 page.xaml 中有这段代码

```
<TextBox x:Name="NameTextField" Grid.ColumnSpan="7" Grid.Column="1" Text="{Binding Name, Mode=TwoWay}" Style="{StaticResource TextBoxStyle}" /> 
```

它指的是这种风格：

```
 <Style x:Key="TextBoxStyle" TargetType="TextBox">
    <Setter Property="Template">
        <Setter.Value>
            <ControlTemplate TargetType="TextBox">
                <Grid x:Name="grid" Height="55" Background="White">
                    <Rectangle Stroke="#FFD9D9D9" StrokeThickness="6"/>
                    <ContentPresenter x:Name="contentPresenterText" VerticalAlignment="Center" Margin="6,0" Height="42" >
                        <TextBox Text="{TemplateBinding Text}" FontSize="21.333" FontFamily="Arial" FontWeight="Bold"/>
                    </ContentPresenter>
                </Grid>
            </ControlTemplate>
        </Setter.Value>
    </Setter>
  </Style> 
```

这在从绑定中预填充数据时可以正常工作，但在输入数据时似乎不起作用。

我在这里有什么明显的遗漏吗？

非常感谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T12:46:18.477

尝试改变：

```
<TextBox Text="{TemplateBinding Text}" FontSize="21.333" FontFamily="Arial" FontWeight="Bold"/> 
```

到：

```
<TextBox Text="{Binding RelativeSource={RelativeSource TemplatedParent}, Mode=TwoWay, Path=Text}" FontSize="21.333" FontFamily="Arial" FontWeight="Bold"/> 
```

TemplateBinding 似乎默认为单向绑定。

# mysql - 为什么下拉选择将 nil 作为参数传递？

> ID：15678573
> 
> 赞同：0
> 
> 时间：2013-03-28T09:46:00.403
> 
> 标签：mysql, ruby-on-rails

我使用以下代码在我的应用程序中创建了一个下拉列表：

```
<% form_for :categories, :url=> {:controller => 'products', :action => 'cat'} do |f| %>
<%= f.select(:category ,  Categories.all.map{ |u| [u.name, u.id] }, :prompt => "Select a    category") %>
<input type="submit" value="go"/>
<%end%> 
```

控制器：

```
def cat
 @products = Product.search_category params[:category]
end 
```

当我从下拉列表中选择任何类别时，它返回“nil”作为参数。可能是什么原因？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T10:13:08.253

您应该期望类别 ID 位于其中，`params[:categories][:category]`因为这就是表单的设置方式。如果要使用`params[:category]`，请将名称选项传递给`select`

```
<%= f.select :category, Categories.all.map{ |u| [u.name, u.id] }, { :prompt => "Select a category" }, { name: 'category' } %> 
```

除此之外，我发现`collection_select`在处理 ActiveRecord 表时使用它会更好

```
<%= f.collection_select :category, Categories.all, :id, :name, { prompt: 'Select a category' }, { name: 'category' } %> 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-28T10:04:46.460

我认为问题在于您与 form_for 一起使用的符号。通常，将对象传递给 form for，因为它将生成正确的路由。

这个问题在这里讨论

[当 form_for 使用符号时，fields_for 不起作用](https://stackoverflow.com/questions/4053849/fields-for-doesnt-working-when-form-for-use-symbol)

和

[Ruby on Rails：符号作为 form_for 中的参数](https://stackoverflow.com/questions/2006329/ruby-on-rails-symbol-as-argument-in-form-for)

# xcode - 归档应用程序时，xcode 显示错误“magick/magick-config.h”文件未找到

> ID：15678577
> 
> 赞同：0
> 
> 时间：2013-03-28T09:46:05.800
> 
> 标签：xcode

我正在为我的应用程序使用 ImageMagick，它在设备和模拟器上运行完美，但是当我尝试归档它时，Xcode 在 MagickWand.h 文件中显示错误“magick/magick-config.h”文件未找到”。

```
#if !defined(_MAGICKWAND_CONFIG_H)
# define _MAGICKWAND_CONFIG_H
# if !defined(vms) && !defined(macintosh)
#  include "magick/magick-config.h"            <<<<<<<<< This line error
#  else
#  include "magick-config.h" 
# endif 
```

谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-06-27T06:32:48.600

要在 Xcode 中使用 ImageMagick 库，请确保具有以下设置（项目信息的构建选项卡）：

其他链接器标志：-lMagickCore -lMagickWand -lz -lbz2 -ljpeg -lpng 标头搜索路径：$(SRCROOT) – 使其成为递归库搜索路径：$(SRCROOT) – 使其成为递归 在左下方单击小轮并选择：添加用户定义的设置

键：OTHER_CFLAGS 值：-Dmacintosh=1 在与构建阶段下的库的链接二进制文件中，

您可能还需要添加：libxml2.dylib

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T11:02:06.047

我遇到了一个类似的问题，包括一个不同的库，并通过删除斜线后的部分来“解决”它。

即在你的情况下，改变：

```
include "magick/magick-config.h" 
```

至：

```
include "magick.h". 
```

# java - 访问延迟加载字段的 id 时发生延迟初始化异常

> ID：15678583
> 
> 赞同：2
> 
> 时间：2013-03-28T09:46:24.157
> 
> 标签：java, hibernate, lazy-loading

我在我的 java 项目中使用 Hibernate。我有以下实体结构：

```
@Entity
@Table(name = "car")
public class Car implements Serializable {

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    @Column(name = "id", nullable = false)
    private long id;

    @ManyToOne(fetch = FetchType.LAZY)
    @JoinColumn(name = "engine_id", nullable = false)
    private Engine engine;
} 
```

现在，当我`Car`从 db 加载实体时，显然`Engine`实体不会被加载，因为它是延迟加载字段，但将加载 id（主键）`Engine`。

现在如果我执行 car.getEngine().getId()，那么它会抛出 LazyInitialization 异常。由于 Id 部分已经加载，那么为什么 getId() 会抛出异常？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T10:32:45.887

> 当我从数据库加载`Car`实体时

你确定这个对象是满载的吗？

如果它是延迟加载的，则`Engine`id 以及其他属性尚未加载，因此会出现异常。我建议您`Hibernate.initialize(obj)`在各个级别上进行游戏，以查看失败的确切位置。

# ios - ios 6 和 ios 5.1 之间的核心文本差异？

> ID：15678584
> 
> 赞同：3
> 
> 时间：2013-03-28T09:46:24.203
> 
> 标签：ios, ios5, ios6, core-text

从这两个屏幕截图中可以看出，ios 5.1 和 ios 6 之间的 CoreText 实现似乎存在一些差异：

IOS 6： ![在此处输入图像描述](../Images/e2b54141f66e71d96fd84b828fbd8539.png)

IOS 5： ![在此处输入图像描述](../Images/509a836556691961645a7f5ee7b94a37.png)

首先，文本颜色未正确应用。似乎在 ios 5.1 上`kCTForegroundColorAttributeName`要求你给它 a `CGColor`，而在 ios 6 上，传递它一个 UIColor 就足够了。所以我通过将代码更改为：

```
[attributes setObject:(id)[color CGColor] 
               forKey:(NSString*)kCTForegroundColorAttributeName]; 
```

其次，段落间距有点偏离。“sight”和“According”之间的距离是 11px vs 25px（在屏幕截图中测量）。在这两种情况下，段落间距都设置为 5：

```
NSMutableData *styleSettingsArray = [NSMutableData data];
CGFloat spaceBefore,spaceAfter;
...
CTParagraphStyleSetting styleSettingB = {kCTParagraphStyleSpecifierParagraphSpacingBefore   ,sizeof(CGFloat),&spaceBefore};
CTParagraphStyleSetting styleSettingA = {kCTParagraphStyleSpecifierParagraphSpacing         ,sizeof(CGFloat),&spaceAfter};
[styleSettingsArray appendBytes:&styleSettingB length:sizeof(styleSettingB)];
[styleSettingsArray appendBytes:&styleSettingA length:sizeof(styleSettingA)];
...
if(styleSettingsArray.length > 0)
{
    CTParagraphStyleRef paragraphStyleRef = CTParagraphStyleCreate([styleSettingsArray bytes], [styleSettingsArray length] / sizeof(CTParagraphStyleSetting));
    [dictionary setObject:(__bridge id)(paragraphStyleRef) forKey:(NSString*)kCTParagraphStyleAttributeName];
    CFRelease(paragraphStyleRef);
} 
```

`paragraphStyleRef`控制台说明：

```
iOS 6:
CTParagraphStyle:
base writing direction = -1, alignment = 3, line break mode = 0, default tab interval = 0
first line head indent = 0, head indent = 0, tail indent = 0
line height multiple = 0, maximum line height = 0, minimum line height = 0
line spacing adjustment = 0, paragraph spacing = 5, paragraph spacing before = 5

iOS 5:

CTParagraphStyle:
writing direction = -1, alignment = 3, line break mode = 0, default tab interval = 0
first line head indent = 0, head indent = 0, tail indent = 0
line height multiple = 0, maximum line height = 0, minimum line height = 0
line spacing adjustment = 0, paragraph spacing = 5, paragraph spacing before = 5 
```

这对我来说似乎相同，所以我不知道问题是什么。除了段落之间的间距之外，它们是相同的。

那么我该如何解决这个问题呢？还有其他我应该注意的可能导致文本显示不同的事情吗？

**编辑：** 经过一番调查，事实证明段落样式的差异实际上是由我打印“\r\n”的换行符引起的。将其更改为 "\n" 解决了间距问题。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-01T05:37:07.907

Core Text 在 iOS 6 中进行了大修。如果您拥有 Apple 开发者帐户，您可以通过观看免费提供的 WWDC 2012 视频来查看所有更改。

所以现在在 iOS 6 中，您不能使用任何低级核心文本属性，例如 kCTForegroundColorAttributeName 或 kCTParagraphStyleAttributeName。

相反，您使用一**组新的高级属性**，例如 NSForegroundColorAttributeName 和 NSParagraphStyle。

因此，您的代码将更改为：

```
/*Note that you have use the Foundation class
  for the attribute value instead of it's Core-Foundation counterpart.*/

[attributes setObject:color 
           forKey:NSForegroundColorAttributeName];

CGFloat spaceBefore, spaceAfter;

NSMutableParagraphStyle *mutableParagraphStyle = [NSMutableParagraphStyle defaultParagraphStyle];
mutableParagraphStyle.paragraphSpacing = spaceAfter;
mutableParagraphStyle.paragraphSpacingBefore = spaceBefore;

[attributes setObject:mutableParagraphStyle 
           forKey:NSParagraphStyleAttributeName]; 
```

您可以在此处找到**所有新属性**的文档：http : [//developer.apple.com/library/ios/#documentation/uikit/reference/NSAttributedString_UIKit_Additions/Reference/Reference.html](http://developer.apple.com/library/ios/#documentation/uikit/reference/NSAttributedString_UIKit_Additions/Reference/Reference.html)

# visual-c++ - 如何在 CamShift 中平滑跟踪

> ID：15678585
> 
> 赞同：4
> 
> 时间：2013-03-28T09:46:26.113
> 
> 标签：visual-c++, opencv, image-processing, kalman-filter

我正在使用 OpenCV 库函数进行手头跟踪项目。通过使用`Camshift()`功能，我可以追踪我的手，但它不稳定，即使我让我的手稳定，追踪时也几乎没有运动。所以我无法在正确的位置执行鼠标点击操作。有人请帮我弄清楚这一点。

```
void TrackingObjects::drawRectangle(CvRect objectLocation){
CvPoint p1, p2,mou;
CvRect crop;
p1.x = objectLocation.x;
p2.x = objectLocation.x + objectLocation.width;

p1.y = objectLocation.y;
p2.y = objectLocation.y + objectLocation.height;

cvRectangle(image,p1,p2,CV_RGB(0,255,0),1,CV_AA,0);

mou.x=(p2.x-p1.x)/2;
mou.x=p1.x+mou.x;
mou.y=(p2.y-p1.y)/2;
mou.y=p1.y+mou.y;

SetCursorPos(mou.x,mou.y);

} 
```

在上面的代码中，我通过参数获取被跟踪对象的位置，`obectLocation`并在被跟踪区域上绘制了矩形。通过获得它的中心，我做了鼠标移动。

在合掌做`MouseDown`事件时，被跟踪物体的位置发生了变化。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-28T13:26:26.283

答案是卡尔曼滤波器。您可以使用[此](http://www.morethantechnical.com/2011/06/17/simple-kalman-filter-for-tracking-using-opencv-2-2-w-code/)代码。如下图所示，过滤后的结果（绿线）忽略了跟踪器的突然位移（其中青色表示原始跟踪结果）。

![在此处输入图像描述](../Images/0858cf7e089ce78bf727978d194e4ecd.png)

# sql - 使用内部联接按经理姓名列出所有员工的姓名及其经理

> ID：15678587
> 
> 赞同：5
> 
> 时间：2013-03-28T09:46:29.267
> 
> 标签：sql, sql-server

以下是我的 CREATE TABLE 脚本：

```
create table EMPLOYEES
    (EmpID    char(4)         unique Not null,
     Ename    varchar(10),
     Job      varchar(9),
     MGR      char(4),
     Hiredate date,
     Salary   decimal(7,2),
     Comm     decimal(7,2),
     DeptNo   char(2)         not null,
         Primary key(EmpID),
         Foreign key(DeptNo) REFERENCES DEPARTMENTS(DeptNo)); 
```

以下是我的 INSERT 脚本：

```
insert into EMPLOYEES values (7839,'King','President',null,'17-Nov-11',5000,null,10);
insert into EMPLOYEES values (7698,'Blake','Manager',7839,'01-May-11',2850,null,30);
insert into EMPLOYEES values (7782,'Clark','Manager',7839,'02-Jun-11',2450,null,10);
insert into EMPLOYEES values (7566,'Jones','Manager',7839,'02-Apr-11',2975,null,20);
insert into EMPLOYEES values (7654,'Martin','Salesman',7698,'28-Feb-12',1250,1400,30);
insert into EMPLOYEES values (7499,'Allen','Salesman',7698,'20-Feb-11',1600,300,30);
insert into EMPLOYEES values (7844,'Turner','Salesman',7698,'08-Sep-11',1500,0,30);
insert into EMPLOYEES values (7900,'James','Clerk',7698,'22-Feb-12',950,null,30);
insert into EMPLOYEES values (7521,'Ward','Salesman',7698,'22-Feb-12',1250,500,30);
insert into EMPLOYEES values (7902,'Ford','Analyst',7566,'03-Dec-11',3000,null,20);
insert into EMPLOYEES values (7369,'Smith','Clerk',7902,'17-Dec-10',800,null,20);
insert into EMPLOYEES values (7788,'Scott','Analyst',7566,'09-Dec-12',3000,null,20);
insert into EMPLOYEES values (7876,'Adams','Clerk',7788,'12-Jan-10',1100,null,20);
insert into EMPLOYEES values (7934,'Miller','Clerk',7782,'23-Jan-12',1300,null,10); 
```

以下是我的 SELECT 脚本：

```
select distinct e.Ename as Employee, m.mgr as reports_to
from EMPLOYEES e
inner join Employees m on e.mgr = m.mgr; 
```

我用相应的经理 ID 获取员工；

```
Ford    7566
Scott   7566
Allen   7698
James   7698
Martin  7698
Turner  7698
Ward    7698
Miller  7782
Adams   7788
Blake   7839
Clark   7839
Jones   7839
Smith   7902 
```

*我如何同时列出经理姓名？* *我在做正确的内部连接吗？*

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-03-28T09:50:30.890

添加`m.Ename`到您的`SELECT`查询：

```
select distinct e.Ename as Employee, m.mgr as reports_to, m.Ename as Manager
from EMPLOYEES e
inner join Employees m on e.mgr = m.EmpID; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-28T09:52:11.100

您的查询已关闭，您需要使用`mgr`和加入`empid`

```
on e1.mgr = e2.empid 
```

所以完整的查询是：

```
select e1.ename Emp,
  e2.eName Mgr
from employees e1
inner join employees e2
  on e1.mgr = e2.empid 
```

请参阅[带有演示的 SQL Fiddle](http://sqlfiddle.com/#!3/b546d/2)

如果您想返回所有行，包括那些没有经理的行，那么您可以将其更改为`LEFT JOIN`（例如总统）：

```
select e1.ename Emp,
  e2.eName Mgr
from employees e1
left join employees e2
  on e1.mgr = e2.empid 
```

请参阅[带有演示的 SQL Fiddle](http://sqlfiddle.com/#!3/b546d/3)

样本数据中的总裁将为`null`经理返回一个值，因为他们没有经理。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-28T09:49:06.923

不，正确的连接是：

```
inner join Employees m on e.mgr = m.EmpID; 
```

您需要将当前员工的 ManagerID 与经理的 EmployeeID 匹配。不使用经理的 ManagerID。

**更新**
正如 Andrey Gordeev 所指出的：
您还需要添加`m.Ename`到您的`SELECT`查询中，以便在您的结果中获取 Manager 的名称。否则你只会得到managerID。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-28T09:50:46.077

您`ON`在连接处有一个不正确的子句，这有效：

```
inner join Employees m on e.mgr = m.EmpId; 
```

该`mgr` 列引用该`EmpId`列。

[**演示**](http://sqlfiddle.com/#!3/4a122/2/0)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2016-08-27T21:50:13.223

```
select a.empno,a.ename,a.job,a.mgr,B.empno,B.ename as MGR_name, B.job as MGR_JOB from 
    emp a, emp B where a.mgr=B.empno ; 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-28T09:55:27.150

```
SELECT DISTINCT e.Ename AS Employee, 
    m.mgr AS reports_to, 
    m.Ename AS manager 
FROM Employees e, Employees m 
WHERE e.mgr=m.EmpID; 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2015-02-16T13:06:52.943

```
select e.ename as Employee, m.ename as Manager
from emp e, emp m
where e.mgr = m.empno 
```

如果您想获得所有记录的结果（无论它们是否向任何人报告），请在第二个表的名称上附加 (+)

```
select e.ename as Employee, m.ename as Manager
from emp e, emp m
where e.mgr = m.empno(+) 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2015-08-26T08:08:22.417

```
Select e.lastname as employee ,m.lastname as manager
  from employees e,employees m
 where e.managerid=m.employyid(+) 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2017-10-13T10:19:06.320

共有三个表 - Equities(coulmns: ID,ISIN) 和 Bond(coulmns: ID,ISIN)。第三个表 Securities(columns: ID,ISIN) 包含来自 Equities 和 Bond 表的所有数据。编写 SQL 查询以验证以下内容： (1) Securities 表应包含 Equities 和 Bonds 表中的所有数据。(2) Securities 表不应包含除 Equities 和 Bonds 表之外的任何数据

* * *

## 回答 #10

> 赞同：-1
> 
> 时间：2018-05-18T14:05:23.217

问题：-.显示员工姓名、他的加入日期、他的经理姓名和他的经理的加入日期。ANS:- 选择 e1.ename Emp,e1.hiredate, e2.eName Mgr,e2.hiredate from emp e1, emp e2 where e1.mgr = e2.empno

# java - 如何在多个应用程序之间共享业务逻辑

> ID：15678590
> 
> 赞同：7
> 
> 时间：2013-03-28T09:46:36.547
> 
> 标签：java, jakarta-ee, maven, architecture, ejb

我们必须开发和维护许多不同大小、范围和寿命的基于 Java Web 的应用程序（针对同一家公司）。其中一些是巨大的，而另一些只是可能只存在几个月（或几天）的简单页面，有些已经实现并且需要重构。

但是有一个共同点，他们需要访问（几乎）相同的信息。

**问题**

由于公司处理数据的复杂性，我们必须处理许多不同的来源，其中一些是从古代继承下来的。我们的领域对象可以映射到许多这些来源。例如，合同域对象映射到我们的主数据库，但其相关（物理）文件存储在文档服务器中，与之相关的活动存储在 NoSQL 数据库中。因此，添加、删除、搜索这些对象中的任何一个都涉及许多内部操作。

我们的数据源是（尽管可以是任何数据源）：

*   AS400（使用 DB2 作为数据库）
*   Documentum 文档管理器
*   蒙哥数据库
*   外部网络服务
*   其他遗留来源

我们通常使用 Glassfish 作为应用服务器，使用 maven 作为我们的构建工具。

**目标**

我们的目标是创建一个我们所有应用程序都可以访问的业务层或库，它是：

*   袖珍的
*   一致的
*   便于使用
*   易于维护
*   可从许多不同的客户端访问

**到目前为止我们发现了什么**

我们已经苦苦挣扎了几个星期，但我们仍然找不到任何完全令人满意的东西。一些解决方案：

*   将所有业务逻辑打包在一个或多个 jar 中：非常容易共享，但所有应用程序都必须包含所有 jar 依赖项和配置文件，并负责安全、缓存和其他内容。难以维护（当有变化时，我们必须为每个项目更新 jars）。

*   创建一个包含所有逻辑的 Ejb 项目并远程访问它：易于维护、安全性、缓存和配置只需实现一次。我们害怕远程调用的惩罚。正如我们在研究中注意到的那样，这似乎是一种不好的做法（我们对 ejbs 没有太多经验）。

*   创建一个包含所有内容并使用本地访问的 Ear 项目：嗯，这比远程版本快，但维护起来很麻烦。

*   选择 OSGI：我们有点害怕这个，因为它不如 Ejb 流行，而且我们从未认真使用它。

这类问题有常见的做法吗？

非常感谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-28T10:07:37.060

我不建议将所有逻辑放入 1 个 EAR 项目并使用本地访问。如果您在一个地方有很多代码，那么维护、测试、部署等将变得更加困难。

我会创建具有公共依赖项的多模块 maven 项目。依赖项之一 - 具有业务逻辑和 DAO 访问权限的服务，它将公开 API。使用 Maven 项目，您可以轻松控制 POM 文件的版本。不同的项目可能使用不同版本的公共服务。Maven 将为您处理版本控制。但是，它需要一些配置和实施工作。

您提到的另一个选项 - 带有远程 EJB 的独立 EAR 也应该可以正常工作。不要担心远程调用的性能和数量，除非您的负载很重。只需在客户端缓存远程 EJB 存根即可避免不必要的 JNDI 查找。

我个人更喜欢由 Maven 管理的共享依赖项的第一个选项。它清晰且易于维护，易于管理版本、部署、配置。使用 Maven，您无需为每个项目手动更改 jar 文件，您可以简单地使用 Nexus 等工具

# prestashop - Prestashop Shipping - 如何根据数量增加运费

> ID：15678594
> 
> 赞同：0
> 
> 时间：2013-03-28T09:46:55.460
> 
> 标签：prestashop, cart, shipping

我目前正在为我的网站 www.lordswoods.co.uk 设置运输设置

我已经设置了两个运营商

1.  Yodel- 最大包裹重量 30kg（承运人范围 1kg 至 75kg）价格 £7.75

2.  托盘轨道 - 适用于总重量超过 75 公斤的所有订单

当我订购 1 x 20 公斤的物品时，例如 pro master 5 - 经济型绿色。购物车中的运费应该是 7.75 英镑。但是，当我将数量增加到两个时，运费保持在 7.75 英镑不变，而我希望它是每件 7.75 英镑，直到达到 75 公斤。

例如 3 x promaster 5 应该等于 £23.25 (3 x 7.75)

我该如何设置。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T10:54:10.680

您可以尝试将运费单独添加到所有产品中，而不是添加到承运人中。这样一来，添加到购物车的每件商品的运费都会增加。

# google-maps - Google Maps API 检查某个位置是否有天气信息

> ID：15678597
> 
> 赞同：0
> 
> 时间：2013-03-28T09:47:03.427
> 
> 标签：google-maps, google-maps-api-3, weather, google-weather-api

在 Google Maps API v3 中是否可以检查指定位置的天气数据是否可用？我的意思是天气图标，点击显示未来几天预报的工具提示弹出窗口。

**<EDIT>**
我正在使用 Google Maps API v3 中集成的 WeatherLayer 和 CloudLayer。
**</编辑>**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T09:53:10.600

我想你可以用天气库试试这个。WeatherLayer 和 CloudLayer 对象允许您将天气预报和云图像添加到地图中。 [https://developers.google.com/maps/documentation/javascript/layers#WeatherLayer](https://developers.google.com/maps/documentation/javascript/layers#WeatherLayer)

# mysql - 按查询顺序发出

> ID：15678609
> 
> 赞同：0
> 
> 时间：2013-03-28T09:47:57.990
> 
> 标签：mysql, sql

我有下表： -

```
id name parent_id
1  ABC  0
2  XYZ  0
3  BB   1
4  AA   1
5  PQR  0 
```

我想要这样的查询顺序显示这样的结果。

```
1  ABC  0
4  AA   1
3  BB   1
5  PQR  0
2  XYZ  0 
```

即父项目和子项目按升序排列，父项目名称后跟子项目。

我使用这样的查询，但是当我们使用按级别排序时（没有升序）可以，但我想要带有名称的订单级别。

```
SELECT distinct `pp088_projects`.* , ( 
    SELECT LPAD(parent.id, 5, '0')
      FROM `pp088_projects` parent
      WHERE parent.id = `pp088_projects`.id 
      AND parent.parent_id = 0 
    UNION 
    SELECT CONCAT(LPAD(parent.id, 5, '0'), '.', LPAD(child.id, 5, '0'))
      FROM `pp088_projects` parent 
      INNER JOIN `pp088_projects` child
      ON (parent.id = child.parent_id)
      WHERE child.id = `pp088_projects`.id 
      AND parent.parent_id = 0
    UNION 
    SELECT CONCAT(LPAD(parent.id, 5, '0'), '.', LPAD(child.id, 5, '0'), '.', 
            LPAD(grandchild.id, 5, '0')) 
      FROM `pp088_projects` parent
      INNER JOIN `pp088_projects` child ON (parent.id = child.parent_id) 
      INNER JOIN `pp088_projects` grandchild ON (child.id = grandchild.parent_id) 
      WHERE grandchild.id = `pp088_projects`.id AND parent.parent_id = 0 ) AS level
  FROM `pp088_projects` , `pp088_project_users`
  WHERE (`pp088_projects`.`id` = `pp088_project_users`.`project_id` 
  AND `pp088_project_users`.`user_id` = '1')
  AND (`pp088_projects`.`completed_on` = '0000-00-00 00:00:00')
  ORDER BY level 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T10:19:25.910

由于您只有两个深度级别，因此不需要递归（MySQL 对其支持有限）；而不是简单地订购`id`：

```
SELECT   *
FROM     pp088_projects
ORDER BY IF(parent_id, parent_id, id), parent_id, id 
```

在[sqlfiddle](http://sqlfiddle.com/#!2/0be1f/1/0)上查看。

或者，如果您想按名称订购：

```
SELECT      child.*
FROM        pp088_projects child
  LEFT JOIN pp088_projects parent ON child.parent_id = parent.id
ORDER BY    COALESCE(parent.name, child.name), parent.id, child.name 
```

在[sqlfiddle](http://sqlfiddle.com/#!2/19431/2/0)上查看。

# scala - 通过 IMain 在 scala repl 中获取类型信息

> ID：15678616
> 
> 赞同：8
> 
> 时间：2013-03-28T09:48:14.353
> 
> 标签：scala, , scala, reflection, scala-2.10

## 意图

我正在[尝试向](https://groups.google.com/forum/?fromgroups=#!topic/scala-internals/DdSg-qxOvyo)[scala](/questions/tagged/scala "show questions tagged 'scala'") repl添加对`:kind`命令的支持。感谢 Eugene Burmako，我得到了一个[工作原型](https://gist.github.com/folone/5261743)。尽管它仅适用于完全限定名称并且无法解析导入的名称。

我现在正在尝试使用[`IMain.exprTyper`](http://www.scala-lang.org/archives/downloads/distrib/files/nightly/docs/compiler/index.html#scala.tools.nsc.interpreter.IMain)它来完成这项工作，因为它知道类型，导入到 repl 中。但有一个问题。我尝试过的所有内容都返回[`ClassInfoType`](http://www.scala-lang.org/api/current/index.html#scala.reflect.api.Types%24ClassInfoType)如下（用 显示[`showRaw`](http://www.scala-lang.org/api/current/index.html#scala.reflect.api.Printers)）：

```
ClassInfoType(List(TypeRef(TypeRef(TypeRef(TypeRef(NoPrefix(), package <root>, List()), package java, List()), package lang, List()), class Object, List()), TypeRef(TypeRef(TypeRef(NoPrefix(), package <root>, List()), package scala, List()), trait Serializable, List())), Scope{
  def <init>(): Option.type;
  implicit def option2Iterable(xo: Option): Iterable;
  def apply(x: Object): Option;
  def empty(): Option;
  private def readResolve(): Object
}, object Option) 
```

虽然工作实现返回特定的`Type`：

```
PolyType(List(TypeName("A")), ClassInfoType(List(TypeRef(ThisType(scala), TypeName("AnyRef"), List()), TypeRef(ThisType(scala), scala.Product, List()), TypeRef(ThisType(scala), scala.Serializable, List())), Scope(nme.CONSTRUCTOR, TermName("isEmpty"), TermName("isDefined"), TermName("get"), TermName("getOrElse"), TermName("orNull"), TermName("map"), TermName("fold"), TermName("flatMap"), TermName("flatten"), TermName("filter"), TermName("filterNot"), TermName("nonEmpty"), TermName("withFilter"), TypeName("WithFilter"), TermName("contains"), TermName("exists"), TermName("forall"), TermName("foreach"), TermName("collect"), TermName("orElse"), TermName("iterator"), TermName("toList"), TermName("toRight"), TermName("toLeft")), scala.Option)) 
```

## 问题

我觉得我真的很亲近。这是一个游乐场，您可以自己尝试一切：

```
Welcome to Scala version 2.11.0-20130328-093148-47645c7e7e (OpenJDK 64-Bit Server VM, Java 1.7.0_17).
Type in expressions to have them evaluated.
Type :help for more information.

scala> import scala.reflect.runtime.universe._
import scala.reflect.runtime.universe._

scala> import scala.tools.nsc.interpreter.IMain
import scala.tools.nsc.interpreter.IMain

scala> val mirror = runtimeMirror(getClass.getClassLoader) // Working approach
mirror: reflect.runtime.universe.Mirror = JavaMirror with scala.tools.nsc.interpreter.IMain$TranslatingClassLoader@3d34ec98 of type class scala.tools.nsc.interpreter.IMain$TranslatingClassLoader with classpath [<unknown>] and parent being scala.tools.nsc.util.ScalaClassLoader$URLClassLoader@5d990e8c of type class scala.tools.nsc.util.ScalaClassLoader$URLClassLoader with classpath [file:/usr/lib/jvm/java-7-openjdk/jre/lib/resources.jar,file:/usr/lib/jvm/java-7-openjdk/jre/lib/rt.jar,file:/usr/lib/jvm/java-7-openjdk/jre/lib/jsse.jar,file:/usr/lib/jvm/java-7-openjdk/jre/lib/jce.jar,file:/usr/lib/jvm/java-7-openjdk/jre/lib/charsets.jar,file:/usr/lib/jvm/java-7-openjdk/jre/lib/rhino.jar,file:/home/folone/workspace/scala-myfork/build/pack/lib/jline.jar,file:/home/folone/workspace/scala-myfork...

scala> val typer = new IMain().exprTyper // Not working approach
typer: scala.tools.nsc.interpreter.IMain#exprTyper.type = scala.tools.nsc.interpreter.IMain$exprTyper$@68c181f0

scala> val expr = "scala.Option"
expr: String = scala.Option

scala> showRaw(mirror.staticClass(expr).toType.typeSymbol.typeSignature) // Correct signature
res6: String = PolyType(List(TypeName("A")), ClassInfoType(List(TypeRef(ThisType(scala), TypeName("AnyRef"), List()), TypeRef(ThisType(scala), scala.Product, List()), TypeRef(ThisType(scala), scala.Serializable, List())), Scope(nme.CONSTRUCTOR, TermName("isEmpty"), TermName("isDefined"), TermName("get"), TermName("getOrElse"), TermName("orNull"), TermName("map"), TermName("fold"), TermName("flatMap"), TermName("flatten"), TermName("filter"), TermName("filterNot"), TermName("nonEmpty"), TermName("withFilter"), TypeName("WithFilter"), TermName("contains"), TermName("exists"), TermName("forall"), TermName("foreach"), TermName("collect"), TermName("orElse"), TermName("iterator"), TermName("toList"), TermName("toRight"), TermName("toLeft")), scala.Option))

scala> showRaw(typer.typeOfExpression(expr).typeSymbol.typeSignature) // Wrong signature
res7: String = 
ClassInfoType(List(TypeRef(TypeRef(TypeRef(TypeRef(NoPrefix(), package <root>, List()), package java, List()), package lang, List()), class Object, List()), TypeRef(TypeRef(TypeRef(NoPrefix(), package <root>, List()), package scala, List()), trait Serializable, List())), Scope{
  def <init>(): Option.type;
  implicit def option2Iterable(xo: Option): Iterable;
  def apply(x: Object): Option;
  def empty(): Option;
  private def readResolve(): Object
}, object Option) 
```

如何转换为包含所需信息`ClassInfoType`的有效值？`Type`或者，我如何首先获得`Type`使用`IMain`？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-28T23:34:39.133

这个怎么样？我正在使用电源模式，它使您可以从当前运行的 REPL 访问全局，这比创建新的`IMain`.

```
scala> :power
Already in power mode.

scala> val g = global
g: $r.intp.global.type = <global>

scala> val context = g.analyzer.rootContext(NoCompilationUnit)
context: g.analyzer.Context = Context(<root>@EmptyTree unit=NoCompilationUnit scope=997093283 errors=false, reportErrors=true, throwErrors=false)

// aware imports of scala._, etc.
scala> val sym = context.lookupSymbol("Option": TypeName, _ => true).symbol
sym: g.analyzer.global.Symbol = class Option

scala> sym.tpeHK.typeParams
res21: List[g.analyzer.global.Symbol] = List(type A) 
```

也可以看看：

```
scala> intp.symbolOfType("Foo")
res26: $r.intp.global.Symbol = class Foo 
```

但我不确定如何获取以前导入的符号：

```
scala> object Bar { class Bop }
defined object Bar

scala> import Bar.Bop
import Bar.Bop

scala> intp.symbolOfType("Bop")
res27: $r.intp.global.Symbol = <none> 
```

**编辑：**

OP得到`ClassInfoType`而不是的原因`PolyType`是由于阶段。要获得与电源模式相同的结果`global`，必须将相位设置为`typer`。引用[REPL 中@retronym 的解释： intp.global vs "global" available in :power mode](https://groups.google.com/d/msg/scala-internals/fBLwvcjNGTc/9V-8kl7zue0J)：

```
scala> :power
** Power User mode enabled - BEEP WHIR GYVE **
** :phase has been set to 'typer'.          **
    ^
    `----  this part is relevant 
```

> 符号有一个类型列表（又名`info`-s），由编译器阶段索引。（又名 TypeHistory）。许多编译器阶段安装`InfoTransformer`s 来变形类型。有关一些文档，请参阅 src/compiler/scala/tools/nsc/transform/InfoTransform.scala。
> 
> 要在特定阶段检查类型，您可以使用“exitingTyper”之类的方法。

```
scala> exitingPostErasure($intp.global.rootMirror.staticClass("scala.Option").typeSignature).getClass
res6: Class[_ <: $intp.global.Type] = class scala.reflect.internal.Types$ClassInfoType

scala> exitingTyper($intp.global.rootMirror.staticClass("scala.Option").typeSignature).getClass
res7: Class[_ <: $intp.global.Type] = class scala.reflect.internal.Types$PolyType 
```

> 或者，在 :power 模式下更方便一些：

```
scala> :phase typer
Active phase is now: Typer

scala> global.rootMirror.staticClass("scala.Option").typeSignature.getClass
res16: Class[_ <: $r.global.Type] = class scala.reflect.internal.Types$PolyType

scala> :phase cleanup
Active phase is now: Cleanup

scala> global.rootMirror.staticClass("scala.Option").typeSignature.getClass
res17: Class[_ <: $r.global.Type] = class scala.reflect.internal.Types$ClassInfoType 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-28T13:02:35.767

您应该使用`IMain`'s 全局的镜像：

```
scala> val imain = new IMain()
imain: scala.tools.nsc.interpreter.IMain = scala

scala> val mirror = imain.global.rootMirror
mirror: imain.global.Mirror = compiler mirror 
```

# javascript - 密码强度验证的正则表达式

> ID：15678619
> 
> 赞同：5
> 
> 时间：2013-03-28T09:48:22.343
> 
> 标签：javascript, regex, validation, passwords

我写了一个可能用于密码强度验证的正则表达式：

```
^(?:([A-Z])*([a-z])*(\d)*(\W)*){8,12}$ 
```

该表达式由四组组成：

1.  零个或多个大写字符
2.  零个或多个小写字符
3.  零个或多个十进制数字
4.  零个或多个非单词字符（!、£、$、% 等）

我希望它工作的方式是确定有多少组已匹配，以确定密码的强度。因此，例如，如果只有 1 个组匹配，它会很弱。如果所有四个组都匹配，那将是强大的。

我已经使用[Rubular（一个 Ruby 正则表达式编辑器）测试了这个表达式。](http://rubular.com/)

在这里，我可以直观地看到匹配了多少组，但我想在 JavaScript 中执行此操作。我编写了一个返回匹配组数的脚本，但结果与我在 Rubular 中看到的不一样。

如何在 JavaScript 中实现这一点？我的正则表达式能胜任吗？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-28T09:56:38.220

我认为您必须独立检查每个组。伪代码：

```
bool[] array = {};
array[0] = pwd.match(/[A-Z]/);
array[1] = pwd.match(/[a-z]/);
array[2] = pwd.match(/\d/);
array[3] = pwd.match(/[!_.-]/);

int sum = 0;
for (int i=0; i<array.length; i++) {
    sum += array[i] ? 1 : 0;
}

switch (sum) {
    case 0: print("weird..."); break;
    case 1: print("weak"); break;
    case 2: print("ok"); break;
    case 3: print("strong"); break;
    case 4: print("awesome"); break;
    default: print("weird..."); break;
} 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-28T10:57:18.947

这是我基于 sp00m 回答的最终解决方案：

```
function testPassword(pwString) {
    var strength = 0;

    strength += /[A-Z]+/.test(pwString) ? 1 : 0;
    strength += /[a-z]+/.test(pwString) ? 1 : 0;
    strength += /[0-9]+/.test(pwString) ? 1 : 0;
    strength += /[\W]+/.test(pwString) ? 1 : 0;

    switch(strength) {
        case 3:
            // its's medium!
            break;
        case 4:
            // it's strong!
            break;
        default:
            // it's weak!
            break;
    }
} 
```

我添加这个纯粹是为了参考，但是已经接受了 sp00m 的回答，因为正是他们的回答让我得到了这个解决方案。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-28T09:56:05.607

您可以通过将每个组分开并一一匹配来做到这一点，如下所示：

```
var level = 0;
var input = '';//user input goes here
switch(true){
    case /^(?:([A-Z])*){8,12}$/.test(input):
    level = 1;
    break;

    case /^(?:([A-Z])*([a-z])*){8,12}$/.test(input):
    level = 2;
    break;

    case /^(?:([A-Z])*([a-z])*(\d)*){8,12}$/.test(input):
    level = 3;
    break;

    case /^(?:([A-Z])*([a-z])*(\d)*(\W)*){8,12}$/.test(input):
    level = 4;
    break;
} 
```

`level`变量从 1（最弱）到 4（最强）。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2015-06-22T10:49:00.483

看看这个：http: [//jsfiddle.net/43tu58jf/](http://jsfiddle.net/43tu58jf/)

```
function isSimpleStrongLevel(password){
    var stringsOptions = ['123456', '123abc', 'abc123', '654321', '012345', 'password', '123pass', 'pass123', '123456abc'];
    return stringsOptions.indexOf(password) != -1;
}
function getStrongLevel(password) {
    var level = 0;
    level += password.length > 6 ? 1 : 0;
    level += /[!@#$%^&*?_~]{2,}/.test(password) ? 1 : 0;
    level += /[a-z]{2,}/.test(password) ? 1 : 0;
    level += /[A-Z]{2,}/.test(password) ? 1 : 0;
    level += /[0-9]{2,}/.test(password) ? 1 : 0;
    return level;
}

var password = '123456';
var isSimple = isSimpleStrongLevel(password);
var level = getStrongLevel(password);
console.log(isSimple, level); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-03-11T09:30:12.587

我的例子

**JS/jQuery**

```
$( "#password" ).change(function ()
{
    strongPassword();
});

/**
 * @author websky
 */
function strongPassword() {
    var p = document.getElementById('password').value;
    var label1 = 0; 
    var label2 = 0; 
    var label3 = 0; 
    var label4 = 0; 
    var label5 = 0;
    if (p.length > 6) {//min length
        label1 = 1;
    }
    if (/[!@#$%^&*?_~]{2,}/.test(p)) {//min 2 special characters
        label2 = 1;
    }
    if (/[a-z]{2,}/.test(p)) {//min 2 a-z
        label3 = 1;
    }
    if (/[A-Z]{2,}/.test(p)) {//min 2 A-Z
        label4 = 1;
    }
    if (/[0-9]{2,}/.test(p)) {//min 2 0-9
        label5 = 1; 
    }

    var strong_password = label1 + label2 + label3 + label4 + label5;

    if(strong_password > 0){
        //Here your action
        //
        //var progressbar = strong_password * 20; 
        //$( "#progressbar" ).progressbar({value: progressbar}); <== I use jQuery progessbar
    } 
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2018-04-01T18:08:11.600

试试看==>

```
var PasswordStrength = function () {
    var p_worker = {
        checkMark: function ( msg, mark ) {
            let strength = "Required!!!", status = true;
            switch ( mark ) {
                case 1: strength = '<b style="color:rgb(200, 200, 200)"> Password strength: Weak...</b>'; break;
                case 2: strength = '<b style="color:rgb(200, 200, 200)"> Password strength: Semi-weak...</b>'; break;
                case 3: strength = '<b style="color:green"> Password strength: Medium...</b>'; break;
                case 4: strength = '<b style="color:green"> Password strength: Strong...</b>'; break;
                default: status = false; break;
            }
            return { status: status/*[is valid or not]*/, cur_strength: strength/**[strength msg]*/, req_msg: msg/**[required msg]*/, mark: mark/**[strength mark]*/ };
        },
        setting: {
            n: { rgx: /[0-9]/, msg: '1 Numeric character' },
            c: { rgx: /[A-Z]/, msg: '1 Alphabet character' },
            s: { rgx: /[a-z]/, msg: '1 Small character' },
            sp: { rgx: /[@#$\.%^&+=]/, msg: '1 Special character' },
        }
    };
    return {
        check: function ( value ) {
            let msg = "", mark = 0, c = 0;
            for ( let i in p_worker.setting ) {
                if ( !p_worker.setting[i]['rgx'].test( value ) ) {
                    if ( c === 3 ) {
                        msg += '<d style="color:rgba(219, 177, 177, 0.96)">[*] ' + p_worker.setting[i]['msg'] + '</d>';
                        c++; continue;
                    }
                    msg += '<d style="color:rgba(219, 177, 177, 0.96)">[*] ' + p_worker.setting[i]['msg'] + ',</d></br>';
                    c++; continue;
                }
                if ( c === 3 ) {
                    msg += '<img src="/image/accept.png" /> <d style="color:green">' + p_worker.setting[i]['msg'] + '</d>';
                    mark++; c++; continue;
                }
                msg += '<img src="/image/accept.png" /> <d style="color:green">' + p_worker.setting[i]['msg'] + ',</d></br>';
                mark++; c++;
            }
            return p_worker.checkMark( msg, mark );
        }
    }
}(); 
```

使用 ==>

```
PasswordStrength.check( "1234$#" ); 
```

# python - 使用正则表达式在python中解析消息通知索引

> ID：15678620
> 
> 赞同：1
> 
> 时间：2013-03-28T09:48:24.077
> 
> 标签：python, regex

我需要一个正则表达式来解析当我在通过串行端口连接到笔记本电脑的 GSM 调制解调器上收到消息时收到的消息通知。

一般格式如下：

```
+CMTI: "SM",0 
```

这里 0 是存储在 SIM 卡上的消息的索引号，可以取任意数值。

我现在使用的是：

```
regex = re.compile("\+CMTI: \"SM\",\d") 
```

我应该改用什么？

**更新：** 这是我现在使用的代码：

```
def poll(x):
    regex = re.compile("\+CMTI: \"SM\",\d+")
    lst = []
    for l in x:
        for m in [regex.search(l)]:
            if m:
                lst.append(m)
                print "You have received a new message!" 
```

我怎样才能在这里实现 re.match 呢？

**另一个更新：** 我已经根据这里的所有答案修改了代码。然而，它似乎仍然不起作用。

```
def poll(x):
    regex = re.compile(r'\+CMTI: "SM",(\d+)')
    lst = []
    for l in x:
        for m in [regex.search(l)]:
            if m:
                lst.append(m)
                print "You have received a new message!" 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-28T09:53:20.337

\d 只会捕获一个数字。您对索引本身感兴趣吗？在这种情况下，您需要添加一个捕获组，以便您可以提取它，例如

```
>>> re.match(r'\+CMTI: "SM",(\d+)', '+CMTI: "SM",0').group(1)
'0'
>>> re.match(r'\+CMTI: "SM",(\d+)', '+CMTI: "SM",234566').group(1)
'234566' 
```

使用已编译的正则表达式，它变为：

```
>>> regex = re.compile(r'\+CMTI: "SM",(\d+)')
>>> regex.match('+CMTI: "SM",0').group(1)
'0' 
```

您的代码中将消息 ID 附加到列表“lst”的完整示例是

```
def poll(x):
    regex = re.compile(r'\+CMTI: "SM",(\d+)')
    lst = []
    for line in x:
        match = regex.search(line):
        if match:
            lst.append(match.group(1))
            print "You have received a new message!" 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T09:52:14.637

你的正则表达式对我来说很好。我要改变的一件事是添加`+`after `\d`：

```
re.match(r'\+CMTI: \"SM\",\d+', '+CMTI: "SM",0') 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-28T09:55:14.007

如果您想从字符串中接收 0，您可以尝试：'+CMTI: "SM",(\d)'

# php - htmlpurifier 删除 CKEEditor 完成的所有格式

> ID：15678624
> 
> 赞同：2
> 
> 时间：2013-03-28T09:48:29.070
> 
> 标签：php, security, ckeditor, xss, htmlpurifier

我正在使用 CKEditor 让用户发表他们的评论。我想使用 htmlpurifier 来保护我的 html。但是当我尝试它时，它实际上删除了 CKEditor 完成的所有格式。CKEditor 生成了以下 html

```
<div class="originalpost"><span style="color:#B22222;">
<em><u><strong><span style="font-size:250%;">
This is Pakistan</span></strong></u></em></span></div> 
```

用htmlpurifier净化后的html变成了这样

```
<div class="&quot;originalpost&quot;"><span><em><u><strong>
<span>This is Pakistan</span></strong></u></em></span></div> 
```

它实际上删除了所有内联 css 样式，也`class="&quot;originalpost&quot;"`无法理解。我用下面的方式用 htmlpurifier 净化了 html

```
require_once("path\HTMLPurifier.auto.php");
$config = HTMLPurifier_Config::createDefault();
$purifier = new HTMLPurifier($config);
$html = "xyzhtml";
$clean_html = $purifier->purify($html); 
```

我想保持用户格式，如何配置 htmlpurifier 以保持用户格式也不要更改内联 css。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-28T12:25:44.230

> 它实际上删除了所有内联 css 样式

`url()`内联样式确实很危险 - 可以使用IE 的狡猾`expression()` 和特定于浏览器的行为扩展将 JavaScript 注入其中。

HTMLPurifier*可以*解析内联样式并过滤危险的属性和值。您可以通过包含`style`在您的白名单属性中来启用此功能。

```
$config->set('HTML.AllowedAttributes', '*.style, ...'); 
```

`style`不包含在默认属性列表中，因为解析样式非常复杂（伴随着错误的可能性）并且大多数应用程序不需要它。

您可以根据需要配置允许使用的属性`%CSS.AllowedProperties`。

我无法重现该`&quot;`问题，但确保关闭 PHP 的`magic_quotes_gpc`选项肯定是件好事……

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T11:01:46.967

我敢打赌，您需要关闭 Sybase 引号。

# mysql - 在 Access/MySQL 中格式化小数位

> ID：15678628
> 
> 赞同：0
> 
> 时间：2013-03-28T09:48:34.730
> 
> 标签：mysql, ms-access

我有一个数据库，它是一个带有 MySQL 后端的访问前端。
在 MySQL 中，我有一个表，其字段设置为小数点后 3 位（10、3），但是有谁知道我如何在不改变 MySQL 表格式的情况下仅在前端访问中将此字段显示为小数点后 1 位？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-28T09:52:02.307

在 Access 表单的 TextBox 中，您应该将 Format 属性设置为数字格式，将属性 Decimal Places 设置为 1。您可以在属性编辑器的 Format 选项卡中找到这些属性。

# ios - 等待方法或在后台运行

> ID：15678634
> 
> 赞同：0
> 
> 时间：2013-03-28T09:48:53.213
> 
> 标签：ios, objective-c, xcode

我有一段代码首先调用了一个生成大量缩略图的方法，因此它会减慢设备大约一秒钟的速度。我希望在调用第一个方法之前运行一个生成“加载消息”的方法，然后在第一个方法完成时将其删除。

```
[picker dismissViewControllerAnimated:YES completion:^{
    NSLog(@"Loading");
    [self generatingThumbnailMessageShow];
    [self loadAllEffects];

}]; 
```

问题似乎是，虽然“generatingThumbnailMessageShow”方法在“loadAllEffects”方法之前，但它似乎仍然在“loadAllEffects”消息完成后被调用。只有当第一个方法完成时才调用“loadAllEffects”方法的最佳方法是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-28T09:53:07.420

问题是`[self loadAllEffects]`在主线程上运行并阻塞 UI。对 UI 的更改仅在程序控制返回到主运行循环后才可见。

您必须将执行`[self generatingThumbnailMessageShow];`移至后台线程，例如

```
[picker dismissViewControllerAnimated:YES completion:^{
    NSLog(@"Loading");
    // Show "loading" message (must be done on main thread)
    [self generatingThumbnailMessageShow];
    dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{
        // perform long running task on background thread
        [self loadAllEffects];
        dispatch_sync(dispatch_get_main_queue(), ^{
            // Hide "loading" message (must be done on main thread again).
            [self generatingThumbnailMessageHide];
        })
    })

}]; 
```

# c# - SyndicationFeed 将命名空间前缀从 a10 更改为 atom

> ID：15678635
> 
> 赞同：12
> 
> 时间：2013-03-28T09:48:55.437
> 
> 标签：c#, .net, rss

我正在使用 System.ServiceModel.Syndication.SyndicationFeed 创建一个 rss 提要，从中我得到这个：

```
<rss xmlns:a10="http://www.w3.org/2005/Atom" version="2.0"><channel>...</channel></rss> 
```

除了我[验证我的提要](http://validator.w3.org/feed)之外，这一切都在顺利进行。

验证器抱怨 a10 命名空间前缀，并建议我改用 atom。这听起来很合理..除了我看不到更改前缀的直接方法。

关于更改前缀的方法有什么想法吗？

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2013-04-12T12:22:34.400

要为 atom 扩展指定自定义名称，您需要在 feed 格式化程序上禁用 SerializeExtensionsAsAtom：

```
var formatter = feed.GetRss20Formatter();
formatter.SerializeExtensionsAsAtom = false; 
```

然后你需要添加命名空间

```
XNamespace atom = "http://www.w3.org/2005/Atom";

feed.AttributeExtensions.Add(new XmlQualifiedName("atom", XNamespace.Xmlns.NamespaceName), atom.NamespaceName); 
```

现在您可以开始使用扩展程序了

```
feed.ElementExtensions.Add(new XElement(atom + "link", new XAttribute("href", feedLink), new XAttribute("rel", "self"), new XAttribute("type", "application/rss+xml"))); 
```

最后将提要写入响应流：

```
formatter.WriteTo(new XmlTextWriter(Response.Output)); 
```

# angularjs - 如何强制属性指令等待元素指令评估？

> ID：15678638
> 
> 赞同：0
> 
> 时间：2013-03-28T09:49:03.417
> 
> 标签：angularjs, angularjs-directive

我的项目中定义了两个自定义指令：

*   `<include-partial>`- 通过`$http`服务获取模板、编译并插入 DOM的元素指令
*   `on-show="someFn()"`- 属性指令，当元素变得可见时应该调用一些函数

我想将两者结合起来，这样我就可以编写如下代码：

`<include-partial on-show="init()">`

但是，这不起作用，因为 的内容`<include-partial>`是异步获取的，因此`on-show`没有要附加的 DOM。

你有什么想法如何解决这个问题吗？我怎么能强制`on-show`等到`<include-partial>`完成 DOM 编译？

提前谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T10:12:47.573

在您的情况下，“on-show”永远不会触发，因为“include-aprtial”标签不会改变它的可见性。尝试在链接功能中隐藏“包含部分”并在内容加载时显示。

# html - Rowspan h ref 整个跨单元格可点击链接

> ID：15678658
> 
> 赞同：0
> 
> 时间：2013-03-28T09:50:02.640
> 
> 标签：html, css, html-table, href

我有一个跨行的表。当我创建一个 h ref 时，该链接只能在一行上单击，我希望该链接可以在该单元格的任何位置单击。

我尝试了以下方法：

`<table> <tr><td rowspan=2><a style='display:block; width:100%; height:100%;' href='#'</td><td>Cell 2</td><td>Cell 3</td></tr> <tr><td>Cell 4</td><td>Cell 5</td></tr> </table>`

`<table> <tr><td rowspan=2><a style='display:inline-block; width:100%; height:100%;' href='#'</td><td>Cell 2</td><td>Cell 3</td></tr> <tr><td>Cell 4</td><td>Cell 5</td></tr> </table>`

有没有办法让链接跨越两行？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T10:05:36.013

您的 html 语法似乎不正确，因为您的标签未正确结束。你可以试试这个：

```
<table>
    <tr>
       <td rowspan="2">
          <a style="display:block; width:100%; height:100%;" href="#">Text in your big cell 1</a>
       </td>
       <td>Cell 2</td>
       <td>Cell 3</td>
    </tr>
    <tr>
       <td>Cell 4</td>
       <td>Cell 5</td>
    </tr>
</table> 
```

正如你所看到的，你会更好地看到更好的缩进这样的问题;-)

# c# - 跳过标准错误屏幕 Asp.Net

> ID：15678661
> 
> 赞同：4
> 
> 时间：2013-03-28T09:50:19.600
> 
> 标签：c#, asp.net

我有一个应用程序，您需要在数据库中注册才能连接到它，但如果没有，则会出现错误屏幕，但它看起来真的很难看，如您所见

![在此处输入图像描述](../Images/b85345ceb4d9077b8f1d4a954fd38101.png)

我试图检查保存用户 ID 的会话是否 == null 而不是清除内容，这是在每个用户首​​先连接的起始页面上

```
if (this.Session["SessionId"] ==null)
{
    Response.ClearContent();
    Response.Write("ERROR");
    Response.End();
} 
```

为什么我会在这里出现错误

```
 <system.web>
    <customErrors defaultRedirect="~/Error/Error.aspx" mode="Off"/>

  </system.web> 
```

感谢您的帮助和快速答复

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-28T09:51:58.853

在 web.config 中打开应用程序的[CustomErrors模式，并为错误提供自定义页面。](http://msdn.microsoft.com/en-us/library/h0hfz6fc%28v=vs.71%29.aspx)您将需要`defaultRedirect`为未处理的错误设置属性。

```
<customErrors defaultRedirect="url" mode="On|Off|RemoteOnly">
   <error statusCode="statuscode" redirect="url"/>
</customErrors> 
```

# linux - TCP拥塞控制版本：Linux内核中的HTCP模块vs高速模块

> ID：15678671
> 
> 赞同：3
> 
> 时间：2013-03-28T09:50:57.133
> 
> 标签：linux, tcp, kernel, congestion-control

我发现，在 Linux 中，有许多用于 TCP 拥塞控制算法的可加载模块（cubic、new-reno、veno、vegas...）。但是有两个模块让我感到困惑，一个是“HTCP”，另一个是“高速”。HTCP不代表高速TCP吗？那么这里的“HTCP”和“highspeed”模块有什么区别呢？提前感谢您指出差异。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2019-01-11T23:34:01.987

> HTCP不代表高速TCP吗？

不。它代表*高速和长距离网络的 TCP，*并在汉密尔顿研究所的这份[文档中进行了描述。](https://www.scss.tcd.ie/Doug.Leith/pubs/htcp3.pdf)*高速 TCP*在[RFC 3649](https://www.rfc-editor.org/rfc/rfc3649.txt)中发布。

> 那么这里的“HTCP”和“highspeed”模块有什么区别呢？

首先，共同点是他们希望提高*高带宽长途网络*的效率。主要区别在于，*高速 TCP*依赖于丢包率，而*H-TCP*依赖于自上次丢包以来经过的时间。因此，H-TCP 似乎在拥塞事件后更快地恢复其*窗口大小*，这将提供更高的吞吐量。

# java - 如何工作“记住我？” 在 Java 中不使用 Cookie 的功能？

> ID：15678674
> 
> 赞同：2
> 
> 时间：2013-03-28T09:51:14.153
> 
> 标签：java, spring, jsp, cookies, remember-me

首先道歉要问这个重复的问题，但我对此有很多困惑..

实际上在我的spring Application中有Home.jsp、login.jsp和LoginController.java、LoginForm。（听说 Login.jsp 包含 Home.jsp） Login.jsp：

```
 <%@ taglib prefix="form" uri="http://www.springframework.org/tags/form"%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%>
<fieldset id="signin_menu">
    <form:form action="login/processLogin" modelAttribute="LOGIN">
        <label for="username">Username or email</label>
        <form:input path="userName" tabindex="4" />
        </p>
        <p>
            <label for="password">Password</label>
            <form:password path="password" tabindex="5" />
        </p>

        <p class="remember">
            <input id="signin_submit" value="Sign in" tabindex="6" type="submit">
            <form:checkbox path="remember" id="remember" name="remember_me"
                value="1" tabindex="7" />
            <label for="remember">RememberMe</label>
        </p>
    </form:form>
</fieldset> 
```

登录表单：

```
public class LoginForm {
private String userName;
private String password;
private boolean remember;
//Setter and getter} 
```

登录控制器.java

```
@Controller
@RequestMapping(value="login")
public class LoginController {
    @Autowired
    private UserService userService;
    @Autowired
    private SessionData sessionData;

    @RequestMapping(value = "processLogin", method = RequestMethod.POST)
    public String processLogin(LoginForm loginForm, BindingResult result,
            Model model) {

        if (userService.authenticateUser(loginForm.getUserName(),
                loginForm.getPassword())) {
            sessionData.setUser(userService.getUser(loginForm.getUserName()));
        }
        model.addAttribute(FormType.LOGIN.name(), loginForm);
        return "redirect:/home";
    }} 
```

当我启动服务器时：`http://localhost:8080/EClass/home` 单击登录按钮（Login.jsp）并单击`Submit`按钮请求转到并重定向到主页时，再次显示 url：`http://localhost:8080/EClass/home`

所以听说没有 Cookie 可以得到它。如何工作还记得我吗？这种情况的选择..

我真的卡住了这一点..所以请帮助我..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T10:02:17.557

The "remember me" feature is provided by the [spring security framewok](http://static.springsource.org/spring-security/site/docs/3.0.x/reference/remember-me.html), which is a must if you are doing authentication & authorization in your spring-based application

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T10:01:17.187

你必须做很多工作（主要是阅读文档和教程）来理解 Spring Security 并记住我在运行，但是这样做是值得的。

从[spring security 主页](http://static.springsource.org/spring-security/site/index.html)开始，他们有一个很好[的入门部分](http://static.springsource.org/spring-security/site/start-here.html)。

如果您有更多时间并想了解 Spring Security 的工作原理，那么我强烈建议您阅读[Spring Security 3.1 书](http://www.packtpub.com/spring-security-3-1/book)。

* * *

您问

> 如何工作“记住我？” 在 Java 中不使用 Cookie 的功能？

答案：不是——它需要 cookie 来识别用户/客户端。

* * *

*另一个非常重要的提示：如果您寻找任何关于 Spring Security 的教程、文档……请确保它们参考的是 3.x 版！（版本 2.x 和更早的“acegi”与版本 3 有很大不同）*

# jquery - 联系表格，填充检查的两个输入字段之一

> ID：15678677
> 
> 赞同：1
> 
> 时间：2013-03-28T09:51:27.727
> 
> 标签：jquery, conditional-statements, contact-form

好的，所以我一直在寻找 JQuery 中的条件语句，但我找不到有关如何检查以确保两个输入框中**的至少一个**具有内容的解决方案。

这是我到目前为止所拥有的

```
$('#send').click(function(){ // when the button is clicked the code executes
$('.error').fadeOut('fast'); // reset the error messages (hides them)

var error = false; // we will set this true if the form isn't valid

var name = $('input#namn').val(); // get the value of the input field
var message = $('textarea#meddelande').val(); // get the value of the textarea
var phone = $('input#telefon').val(); // get the value of the input field
var email_compare = /^([a-z0-9_.-]+)@([da-z.-]+).([a-z.]{2,6})$/; // Syntax to compare against input
var email = $('input#epost').val(); // get the value of the input field

if(name == "" || name == " " || name == "namn" || name.length < 2) {
    $('input#namn').val("namn").css({ 'color': 'red' });
    error = true; // change the error state to true
}

if(phone == "" || phone == " " || phone == "telefon" || phone.length < 5) {
    $('input#telefon').val("telefon").css({ 'color': 'red' });
    error = true; // change the error state to true
}

if (email == "" || email == " " || email == "epost") { // check if the field is empty
    $('input#epost').val("epost").css({ 'color': 'red' });
    error = true;

}else if (!email_compare.test(email)) { // if it's not empty check the format against our email_compare variable
    $('input#epost').val("kontrollera epost").css({ 'color': 'red' });
    error = true;
}

if(message == "" || message == " " || message == "meddelande" || message.length < 10) {
    $('textarea#meddelande').val("meddelande").css({ 'color': 'red' });
    error = true; // change the error state to true
}

if(error == true) {
    $('#err-form').fadeIn('fast');
    return false;
}

var data_string = $('#ajax-contactform').serialize(); // Collect data from form

$.ajax({
    type: "POST",
    url: $('#ajax-contactform').attr('action'),
    data: data_string,
    timeout: 6000,
    error: function(request,error) {
        if (error == "timeout") {
            $('#err-timedout').fadeIn('fast');
        }
        else {
            $('#err-state').fadeIn('fast');
            $("#err-state").html('Ett fel uppstod: ' + error + '');
        }
    },
    success: function() {
        $('#ajax-contactform').fadeOut('fast');
        $('#success-msg').fadeIn('slow');
    }
});

return false; // stops user browser being directed to the php file 
```

}); // 结束点击函数

它工作正常。但是，我想做一个有条件的陈述来检查并确保电子邮件或电话有内容。我不想强迫人们必须离开两者，但至少要离开一个。

因此，如果电话有内容（只有数字，而不是“电话”这个词），那么电子邮件不再是强制性的，反之亦然。如果电子邮件有内容，它仍然需要检查以确保它是有效的电子邮件。

我该怎么做呢？我在这里有点迷路:(

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T09:53:21.157

```
if (! ( (phone.length && phone != 'telefon') || email.length)) {
    //none of the above has input
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T09:56:59.877

您可以`else if`在电话和电子邮件`if`条件之间添加.. 这样如果`phone`存在`emai`l 不检查，否则如果`email`存在 ..phone 不检查

```
if(phone == "" || phone == " " || phone == "telefon" || phone.length < 5) {
  $('input#telefon').val("telefon").css({ 'color': 'red' });
   error = true; // change the error state to true
} else if (email == "" || email == " " || email == "epost") { // check if the field is empty
//^^^ HERE
   $('input#epost').val("epost").css({ 'color': 'red' });
   error = true;

}else if (!email_compare.test(email)) { // if it's not empty check the format against our email_compare variable
  $('input#epost').val("kontrollera epost").css({ 'color': 'red' });
  error = true;
} 
```

但是我建议您看一下[jquery 验证插件](http://bassistance.de/jquery-plugins/jquery-plugin-validation/)...易于使用和自定义...而不是编写整个代码

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-02T16:58:10.710

所以这就是我最终使用的。

```
$(function() {
        var input = $('input[type=text], textarea');

        input.focus(function() {

             var ibf = $(this);

             if(ibf.val() == ibf.attr('title'))
                 ibf.val('');

             if(ibf.css({ 'color': 'red' }))
                 ibf.css({ 'color': '' });

        }).blur(function() {
             var ibb = $(this);

             if(ibb.val() == '')
                 ibb.val(ibb.attr('title'));
        });

    });

    $("#telefon").keydown(function(e){
        var key = e.charCode || e.keyCode || 0;
        // allow backspace, tab, delete, arrows, numbers and keypad numbers ONLY
        return (  
            key == 8 ||   
            key == 9 ||  
            key == 46 ||  
            (key >= 37 && key <= 40) ||  
            (key >= 48 && key <= 57) ||  
            (key >= 96 && key <= 105));  
    });

    $('#send').click(function(){ // when the button is clicked the code executes
        $('.error').fadeOut('fast'); // reset the error messages (hides them)

        var error = false; // we will set this true if the form isn't valid

        var name = $('input#namn').val(); // get the value of the input field
        var message = $('textarea#meddelande').val(); // get the value of the input field
        var phone = $('input#telefon').val(); // get the value of the input field
        var email_compare = new RegExp(/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i); // Syntax to compare against input
        var email = $('input#epost').val(); // get the value of the input field

        if(name == "" || name == " " || name == "namn" || name.length < 2) {
            $('input#namn').val("namn").css({ 'color': 'red' });
            error = true; // change the error state to true
        }

        var phone_valid = phone.length >= 6;
        var email_valid = email_compare.test(email);

        if(phone_valid && phone != 'telefon' || email_valid){ //one of two are populated
            //make donut

        }else{
            /*$('input#telefon').val("telefon").css({ 'color': 'red' });
            $('input#epost').val("epost").css({ 'color': 'red' });
            $('#err-form-contact').fadeIn('fast');*/                
            error = true;

            if (!phone_valid && phone != 'telefon' && phone != ''){
                 $('input#telefon').val("telefon").css({ 'color': 'red' });
            }

            if (!email_valid && email != 'epost' && email != ''){
                $('input#epost').val("epost").css({ 'color': 'red' });
            }
        }

        if(message == "" || message == " " || message == "meddelande" || message.length < 10) {
            $('textarea#meddelande').val("meddelande").css({ 'color': 'red' });
            error = true; // change the error state to true
        }

        if(error == true) {
            $('#err-form').fadeIn('fast');
            return false;
        }

        var data_string = $('#ajax-contactform').serialize(); // Collect data from form

        $.ajax({
            type: "POST",
            url: $('#ajax-contactform').attr('action'),
            data: data_string,
            timeout: 6000,
            error: function(request,error) {
                if (error == "timeout") {
                    $('#err-timedout').fadeIn('fast');
                }
                else {
                    $('#err-state').fadeIn('fast');
                    $("#err-state").html('Ett fel uppstod: ' + error + '');
                }
            },
            success: function() {
                $('#ajax-contactform').fadeOut('fast');
                $('#success-msg').fadeIn('slow');
            }
        });

        return false; // stops user browser being directed to the php file
    }); // end click function 
```

现在它只检查两个框（电子邮件/电话）中的一个是否有内容。

# database-design - 外键问题 - phonegap

> ID：15678687
> 
> 赞同：0
> 
> 时间：2013-03-28T09:52:00.027
> 
> 标签：database-design, cordova, foreign-keys, relational-database

现在我在一个phoneGap项目中工作，在page1.html中我有以下代码将一些数据字段从page1.html保存到localDB，

```
tx.executeSql('CREATE TABLE IF NOT EXISTS tableOne (value1 INTEGER NOT NULL PRIMARY KEY, value2 INTEGER,value3 TEXT)');
tx.executeSql('INSERT INTO ICTtableOne (value1 ,value2,value3)VALUES (?,?,?)',[value1,value2,value3]); 
```

在 page2.html 我有以下代码来保存 page2.html 中的数据字段

```
tx.executeSql('CREATE TABLE IF NOT EXISTS tableTwo (id INTEGER NOT NULL PRIMARY KEY, name  TEXT,Details TEXT,foreign_val int,FOREIGN KEY(foreign_val) REFERENCES tableOne(value1))');
tx.executeSql('INSERT INTO ICTtableTwo (value1 ,value2,value3)VALUES (?,?,?)',
        [value1,value12,value13]); 
```

'tableOne' 的 Value1 是 'tableTwo' 中的外键，但每次插入后它没有显示在 'tableTwo' 中，它显示空白，因为 tableTwo 中的其他值都可以...我是初学者，所以我需要您的宝贵帮助...谢谢..

> **编辑：** 如何在tableTwo 的foreign_val 列中获取tableOne 的主键值。

# c - 如何在不发生冲突的情况下包含特定的头文件

> ID：15678691
> 
> 赞同：1
> 
> 时间：2013-03-28T09:52:11.863
> 
> 标签：c, compilation, header

我的文件是

`main.c`

```
#include"A.h"
#include"B.h" 
```

`A.c`

```
#include"A.h" 
```

`B.c`

```
#include"B.h" 
```

我有一个文件，其中包含我定义的几个结构，我应该在所有文件中使用它们`A.c , B.c, main.c`，甚至是`A and B`.

因此我有

`A.h`两者`B.h`都有

```
#include"struct.h" 
```

现在，我在 main.c 中看到了

我将对这两种结构都有多个声明，我该如何摆脱这个问题。我应该改变我的结构？

谢谢

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-28T09:55:08.070

使用包括警卫。

前锋.h：

```
#ifndef AHEADER_H
#define AHEADER_H

// ... rest of header here

#endif 
```

bheader.h：

```
#ifndef BHEADER_H
#define BHEADER_H

// ... rest of header here

#endif 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-28T09:55:20.227

你可以这样使用警卫，

```
#ifndef MY_STRUCT
#define MY_STRUCT
#include "struct.h"
#endif 
```

如果您想有选择地处理不应该重复的部分

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-28T09:55:26.027

将头文件包装在[包含保护中。](http://en.wikipedia.org/wiki/Include_guard)， 像这样：

```
#ifndef MYHEADER_H
#define MYHEADER_H

    // your definitions

#endif 
```

每个头文件都应该有自己的具有唯一名称的保护。上面翻译成英文的预处理器指令是这样说的：“如果`MYHEADER_H`未定义，则定义它并粘贴内容直到`#endif`指令。” 这保证了单个标题在单个翻译单元中仅包含一次。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-28T09:56:33.937

只需使用所谓`header guard`的来确保只包含一次“struct.h”：

```
// struct.h
#ifndef STRUCT_H
#define STRUCT_H

struct ...{

}

#endif 
```

# linux - bash/scp 如何扩展“远程”全局模式？

> ID：15678694
> 
> 赞同：3
> 
> 时间：2013-03-28T09:52:16.797
> 
> 标签：linux, bash, exec, glob

如果我执行（在 bash 中）：

```
scp remote.machine:/var/log/sy* . 
```

*我在远程*机器上获得了与 /var/log/sy* 匹配的所有文件。

```
syslog                                     100%   91KB  10.1KB/s   00:09    
syslog.1                                   100%  753KB  62.7KB/s   00:12    
syslog.2.gz                                100%   55KB   7.9KB/s   00:07    
syslog.3.gz                                100%   50KB   8.3KB/s   00:06 
```

这怎么行？

我的印象是，在执行命令*之前，shell 会扩展 glob 模式。*

我的理解不正确吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-28T09:56:38.270

你的理解是正确的。但：

您的本地 shell 无法展开`remote.machine:/var/log/sy*`，因为您没有这样的文件（可能；当前文件夹中包含文件`remote.machine:`的子目录树的目录非常罕见。`var/log/``sy*`

因此，您的 shell 将字符串提供给`scp`未扩展的字符串，后者将其交给远程系统，后者解析并使用它。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-28T09:59:41.767

如果 shell 没有找到匹配项，它会保留星号。由于您没有文件`remote.machine:/var/log/sy`，因此无需扩展任何内容，因此星号将保留并传递到远程计算机。

# javascript - 你如何退出 JavaScript 中的调用者函数？

> ID：15678695
> 
> 赞同：3
> 
> 时间：2013-03-28T09:52:17.460
> 
> 标签：javascript, language-features

**是否可以从 JavaScript 中的调用者函数返回/退出？**

我们正在向我们的框架添加测试方法，如果我们在断言上出现错误，我们希望退出。

鉴于以下简单的示例代码，我想将 EXIT_TEST_THAT_CALLED_ME 交换为将退出（相当于在测试中返回）方法 Test123 的东西。

```
Assert = function ( expectedTrue, comment ) {
    if( ! expectedTrue ) {
      Log.Error( comment );
      EXIT_TEST_THAT_CALLED_ME;    
    }
}

Test123 ( ... ) {

  var inputField = getInputField(".input");
  Assert( (inputField !== null ), "Checking that we found an input field");

  inputField.doSomething();
  // This row will cause run time error if inputField is null  

} 
```

**我尝试过的**
*返回*- 当然不起作用，因为它只从断言方法返回
*arguments.callee.caller.return* - 什么都不做
*arguments.callee.caller.return()* - 没有方法'return'

**注意**
更改为已经具有此功能且一切都很好的测试框架不是一种选择。:(

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-28T10:07:46.467

一种选择是使用`try\catch\throw`

```
Assert = function ( expectedTrue, comment ) {
    if( ! expectedTrue ) {
      Log.Error( comment );
      throw "OOPS";
    }
}

try{
  // function that users Assert
  Test123 ( ... )
}

catch(err){       
    alert(err);
    if (err=="OOPS"){
    //special handling for a certain exception
    }
} 
```

使用这个流程，异常被抛出的那一刻，它会向上传播，直到它到达你处理异常的 catch 块。

此外，异常不限于字符串。它可以是整数、布尔值或对象。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-28T10:15:05.207

无法更改调用者的执行流程，这是设计使然。

你可以做的是：

*   抛出异常。它会冒泡，直到它被某个地方抓住，迅速退出呼叫者。
*   更改您的测试函数以进行有条件的返回，例如`if (!assert(…)) return;`.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-28T10:05:51.373

我认为不可能从函数中退出调用者。我建议一些解决方法：

1.用你的返回一个值，`Assert`然后`return`在调用者中执行：

```
Assert = function ( expectedTrue, comment ) {
            if( ! expectedTrue ) {
              Log.Error( comment );
              return false;    
            }
            return true;
        }    
Test123 ( ... ) {
        var assertResult = Assert( (inputField !== null ), "Checking that we found an input field");
        if (!assertResult)
            return;
        inputField.doSomething();
    } 
```

2.将回调函数发送到您的`Assert`：

```
Assert = function ( expectedTrue, comment, success) {
            if( ! expectedTrue ) {
              Log.Error( comment );
              return;    
            }
            success();
         } 
assertSuccess = function () {
   inputField.doSomething();
}
Test123 ( ... ) {
    Assert( (inputField !== null ), "Checking that we found an input field", assertSuccess);
} 
```

# jquery - jQuery拖放后读取DOM

> ID：15678698
> 
> 赞同：1
> 
> 时间：2013-03-28T09:52:34.453
> 
> 标签：jquery, drag-and-drop

再会！
我尝试使用 jQuery 进行拖放并在它之后读取 DOM。在 drop 函数中，我使用 append() 方法将可拖动对象附加到新位置。但是很可能只有在 drop() 方法完成而不是 append() 方法完成之后，才能从旧位置删除可拖动对象。这可能听起来很奇怪，但这里有一个例子。这是我的javascript：

```
<code>

    $(document).ready(function(){

                    $('div.drag').draggable({
                        helper : 'clone',
                        opacity : 0.3
                    });

                    $('td.cell').droppable({
                        accept : function(draggable){                       
                            if($(this).find('.drag').length > 0){
                                return false;
                            }
                            return true;
                        },
                        drop : function(event, ui) {
                            $(this).append(ui.draggable);                           

                            $('#myTable').change();
                        }

                    });

                    $('#myTable').change(function() {
                        var table = document.getElementById('myTable');
                        var trList = table.getElementsByTagName('tr');

                        var resultString = '';
                        for (var i=0; i < trList.length; i++)
                        {
                            var tdList = trList[i].getElementsByTagName('td');
                            for (var j=0; j < tdList.length; j++)
                            {
                                if(tdList[j].getElementsByTagName('div').length > 0){
                                    resultString+='row' + i + ' column ' + j + ';';
                                }                           
                            }

                        }

                        $('#result').text(resultString);
                    });
                });

<code> 
```

这是我的html片段：

```

`<code>

<div class="drag">drag me</div>
    <table id="myTable" border="1" cellpadding="0" cellspacing="0">
        <tr>
            <td class="cell">&nbsp;</td>
            <td class="cell">&nbsp;</td>
            <td class="cell">&nbsp;</td>                
        </tr>
        <tr>
            <td class="cell">&nbsp;</td>
            <td class="cell">&nbsp;</td>
            <td class="cell">&nbsp;</td>                
        </tr>
        <tr>
            <td class="cell">&nbsp;</td>
            <td class="cell">&nbsp;</td>
            <td class="cell">&nbsp;</td>                
        </tr>
    </table>

    <div id="result"></div>

<code>` 

因此，当我拖动时，结果 div 中不仅没有新位置，而且还存在以前的位置！

我怎样才能避免它？

```

# ios - 访问另一个类中的属性

> ID：15678699
> 
> 赞同：2
> 
> 时间：2013-03-28T09:52:35.453
> 
> 标签：ios

我有 2 个类，比如 A 和 B。我在 A 类中有一个可变数组 _arrayOfPaths 现在我正在尝试访问 b 类中的该数组。如下所示：

```
A *testModel = [[A alloc]init];
 NSMutableArray *array = [testModel.arrayOfPaths mutableCopy]; 
```

现在，当我`NSLog`这个新制作的数组时，它显示为空。如果我打印`testModel.arrayOfPaths`，那么它也显示为空。

我的问题是：

1.  为什么它显示为空？
2.  `_arrayOfPaths`B级怎么进？
3.  我需要使用继承吗？B 已经在继承 `UITableViewController`.
4.  目标c是否支持多重继承？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-28T10:20:18.307

**1\. 在这里，您只是创建 A 的新实例，而不是访问 A 的现有实例来获取 B 实例中的数组。所以只有它显示空值。**

**2.第二个问题见此代码....**

**类A.h**

```
@interface ClassA:UIViewController

@property (nonatomic, retain) NSMutableArray *arrayOfPaths;

@end 
```

**类A.m**

```
@implementation ClassA

@synthesize arrayOfPaths = _arrayOfPaths;

    -(id)init
    {
       self = [super init];
       if(self)
       {
        self.arrayOfPaths = [[NSMutableArray alloc] initWithObjects:@"1",@"2", nil];

        //Delegation process
        ClassB *bInstance = [[ClassB alloc] init];
        [bInstance setAReference:self];

        //Do your stuff of presenting ClassB instance here.....
       }
}
@end 
```

**B类.h**

```
#import "ClassA.h"
@interface ClassB:UITableViewController

@property (nonatomic, copy) ClassA *aReference;

@end 
```

**B类.m**

```
@implementation ClassB

@synthesize aReference = _aReference;
-(void)viewDidLoad
{
    NSLog(@"Array from class ClassA %@", self.aReference.arrayOfPaths);
}
@end 
```

ClassB ViewController 应该只在这里由 ClassA 实例化。

**3.您需要使用代表概念来实现您的要求。见上面的示例代码**

**4.objective -c 不支持多重继承。**

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-28T10:01:35.257

1.  它显示 null （可能）因为 arrayOfPaths 尚未初始化。
2.  `arrayOfPaths`创建一个在 A 类的头文件中调用的公共属性
3.  不
4.  不

在 A 的 .h 文件中：

```
@property (nonatomic, strong) NSMutableArray *arrayOfPaths; 
```

在 A 的 .m 文件中：

```
-(id)init {
    self = [super init];
    if(self) {
        self.arrayOfPaths = [[NSMutableArray alloc] init];
    }
    return self;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-28T10:01:00.967

您可以使用单例类来共享数据检查这个单例类

`MyManger.h`

```
 #import <foundation/Foundation.h>

 @interface MyManager : NSObject

 @property (nonatomic, retain) NSMutableArray * array;

 + (id)sharedManager;  

 @end 
```

`MyManger.m`

```
 #import "MyManager.h"

 static MyManager *sharedMyManager = nil;

 @implementation MyManager

 #pragma mark Singleton Methods  

 + (id)sharedManager {
   @synchronized(self) {
    if(sharedMyManager == nil)
     sharedMyManager = [[super allocWithZone:NULL] init];
   }
  return sharedMyManager;
 } 

 - (id)init {
   if (self = [super init]) {
   array = [[NSMutableArray alloc] init];
   }
 return self;
 } 
```

您可以像这样从任何地方访问您的阵列

```
 MyManager * sharedArray = [MyManager sharedManager]

 [sharedArray array] 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-28T10:13:52.607

希望您从 A 类推送 B 视图控制器。创建一个属性并在推送之前执行此操作

//分配B对象和数组 objBViewController.arra =self.arr; //推视图控制器

目标不支持多重继承，但我们通过制作协议/委托来实现这一点。谷歌它或阅读这个链接

[http://support.apple.com/kb/TA45894](http://support.apple.com/kb/TA45894)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-07-19T05:53:25.087

我会回答你的问题#2。您可以通过类方法访问该属性。

**类A.h**

```
 @interface ClassA

    @property (nonatomic, strong) NSMutableArray *arrayInClassA;

    @end 
```

**类A.m**

```
import "ClassA.h"

NSMutableArray *array1;

@implementation ClassA

@synthesize arrayInClass A = _arrayInClassA;

-(void)viewDidLoad
{
    self.arrayInClassA = [[NSMutableArray alloc] initWithObjects: nil];
    array1 = self.arrayInClassA;
}
+(id)returnArrayInClassA
{
return array1;
@end 
```

**B类.h**

```
@interface ClassB:UITableViewController

@property (nonatomic,strong) NSMutableArray arrayInClassB;

@end 
```

**B类.m**

```
import "ClassB.h"
import "classA.h"
@implementation ClassB

-(void)viewDidLoad
{
self.arrayInClassB = [ClassA returnArrayInClassA];
}
@end 
```

# c - 检查硬盘上的坏扇区

> ID：15678703
> 
> 赞同：3
> 
> 时间：2013-03-28T09:52:48.947
> 
> 标签：c, winapi, hard-drive, corruption

最近在几次停电之后，我的电脑变得非常混乱（不时出现蓝屏，整个操作系统的行为真的很奇怪）。

现在我有一个程序在我的电脑坏掉之前运行得非常好。该程序基本上只是使用创建一个文件[`CreateFile`](http://msdn.microsoft.com/en-us/library/windows/desktop/aa363858(v=vs.85).aspx)并使用[`WriteFile`](http://msdn.microsoft.com/en-us/library/windows/desktop/aa365747(v=vs.85).aspx). 这个程序还有其他的东西基于这个文件做他们的事情。我注意到整个程序的行为也很奇怪。

我的调试结果：

*   我注意到在 之后`CreateFile`，文件被创建在它应该在的位置（使用资源管理器和命令行检查）。
*   `WriteFile`没有写入文件（再次使用资源管理器和命令行检查）。
*   之后`WriteFile`，每当我在资源管理器中双击该文件或对该文件执行任何操作时，一切都表现得好像该文件不存在一样。
*   所有 API 都返回了各自的成功代码。绝对没有错误。
*   在我停止我的程序并退出 IDE 后，我去资源管理器并尝试删除包含上面创建的文件的文件夹，它向我显示了这个：

    ![尝试删除文件夹时出错](../Images/1cda5863641daf0cf4086b87d9396828.png)

*   虽然文件被删除了。

**注意：**上述情况并非总是发生。

由于上述调试，我得出的结论是，由于我的整个操作系统表现异常，我的程序也表现异常。我的程序没有错误（因为在那些该死的停电之前一切都很完美）。

无论如何，微软对[这个错误有话要说](http://answers.microsoft.com/en-us/windows/forum/windows_7-windows_programs/error-0x80070091-the-directory-is-not-empty-while/8c58e1d9-b6f2-4164-8fa6-19f35c09ea3d)。基本上我的硬盘有很多坏扇区。

**我的问题：**有没有办法以编程方式检查硬盘驱动器在 C 语言中是否正常？这种检测不需要是 100% 正确的。但是，我确实希望此检查非常快（因为我做了很多写入等）。

我想要这个检查，因为到目前为止，我的程序的其余部分认为文件在那里并且准备好了（因为没有返回错误）并且随之而来的是各种奇怪的行为。作为一个可能不知道他/她的硬盘被分区的用户，我希望我的程序建议运行磁盘检查。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-28T10:02:14.923

You might be better off looking at S.M.A.R.T prefailure notifications, through an API that allows early warning of drive issues before they occur. [Here](http://www.codeproject.com/Articles/16671/Hard-drive-information-using-S-M-A-R-T) is one implementation I found quickly which appears to be for your platform, but I have not tested it.

I suspect there are better ones available. The main advantage of this SMART approach is finding issues before they become important. However, many operating systems have this functionality built in, it's rare to do it at the application level in something other than a disk utility.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T10:54:07.013

由于您的应用程序是在操作系统之上构建的，因此您必须依赖它的错误报告并将它们传递出去。您不能假设特定错误意味着它需要磁盘检查。

在您的情况下，我建议运行全盘检查并照常进行。

# java - 如何使用 urlRewriteFilter 使用参数永久重定向 JSP？

> ID：15678704
> 
> 赞同：3
> 
> 时间：2013-03-28T09:52:49.720
> 
> 标签：java, redirect, spring-mvc, url-rewriting, tuckey-urlrewrite-filter

我们正在将基于 JSP 的旧 Web 应用程序移动到 Spring MVC 控制器并使用**urlRewriteFilter** ( [http://tukey.org/urlrewrite/](http://tuckey.org/urlrewrite/) ) 进行重定向。

我们需要将带有参数的旧 JSP 永久重定向到控制器视图：

```
FROM: /products/product-detail.jsp?productId=666
TO: /product-detail?id=666 
```

这里重要的是使用`type="permanent-redirect"`，因为我们需要重定向对 SEO 友好。

我看过很多使用 urlRewriteFilter 的示例和帖子，所有这些都是处理不带参数的普通 JSP 的重写，例如 some.jsp 到 /newurl

到目前为止，唯一的成就是使用 forward：

```
<rule>
    <name>Product Detail Old</name>
    <from>^/products/product-detail.jsp(.*)$</from>
    <to type="forward">/product-detail</to>
</rule> 
```

但这当然根本不会重写 URL：

结果是： `/products/product-detail.jsp?productId=666`

我们也试过这个，但它不起作用：

```
<rule>
    <from>/products/product-detail.jsp?(.+)</from>
    <to type="permanent-redirect">/product-detail?$1</to>
</rule> 
```

结果是`/product-detail?p`

有没有人可以帮助构建一个使用 urlRewriteFilter 满足上述条件的规则？

帮助最受赞赏。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-29T04:04:06.517

它不会自行重写......正如我在手册中发现的那样，`<from>`它只使用了没有查询字符串的 URL 字符串。为了能够使用查询字符串，我们需要`<urlrewrite use-query-string="true">`在这之后添加它就像一个魅力！所以最后的规则：

```
<urlrewrite use-query-string="true">

<!-- more rules here if needed.... -->
<rule>
    <from>^/products/product-detail.jsp\?productId=([0-9])$</from>
    <to type="permanent-redirect">/product-detail?id=$1</to>
</rule>

</urlrewrite> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-28T15:54:57.397

下面的工作吗？

```
<rule>
    <from>/products/product-detail.jsp\?productId=([0-9])</from>
    <to type="permanent-redirect">/product-detail?id=$1</to>
</rule> 
```

**编辑**

对不起。忘记了问号前面的斜线，这是正则表达式中的保留字符，除非您对其进行转义。

实际上，这让我昨天感到困惑，主要是直接从我们现有的旧 mod_rewrite 规则中复制。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-07-28T11:07:55.830

有几种方法可以解决这个问题。您可以使用

```
<urlrewrite use-query-string="true"> 
```

尽管这会影响文件中的所有规则。要针对特定​​规则定位查询字符串，请使用条件元素

```
<condition type="query-string">productId=([0-9])</condition> 
```

然后您可以像这样引用查询字符串

```
<to type="permanent-redirect">/someUrl?%{query-string}</to> 
```

尽管在您的情况下，您希望更改查询字符串，因此您可能希望引用捕获的正则表达式

```
<to type="permanent-redirect">/product-detail?id=$1</to> 
```

# jquery - jQuery 动态选项卡颜色（除了一个选项卡）

> ID：15678706
> 
> 赞同：1
> 
> 时间：2013-03-28T09:52:54.777
> 
> 标签：jquery, html, css, tabs

我有一个“标签”类的 UL，一个 li 有一个“活动”类

“活动”选项卡显然会随着用户单击不同的选项卡而发生变化并被使用，因此它的颜色与其他选项卡不同。

我想要做的是选择“标签”中的所有李，除了活动标签，并通过为每个标签附加 CSS 背景来为每个标签设置不同的颜色。标签的数量可能会有所不同，具体取决于它们在 IE 上的哪个页面，一个页面可能有四个标签，但另一个页面可能有 6 个或 7 个。

如果我把它们全部抓起来，我不会有问题，但我不知道如何尝试排除活动选项卡，因为我计划使用 Nth 将包括活动选项卡？

任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-28T09:57:07.333

您可以使用[`.not()`](http://api.jquery.com/not/)：

```
$('ul.tabs li').not('.active').css({ ... }); 
```

然后，您可以使用以下方法遍历它们[`.each()`](http://api.jquery.com/each/)：

```
$('ul.tabs li').not('.active').each(function() { ... }); 
```

**编辑：**假设您有某种方法可以确定哪个选项卡应该具有哪个背景，这是一个使用中的示例：[JSFiddle](http://jsfiddle.net/hcwXJ/)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T09:57:53.717

假设“活动”是单击选项卡容器时应用于选项卡容器的内容，并且所有选项卡都有类似 class="tab" 这样的内容就足够了。

```
$(".tab").each(funciton() {
    if (!$(this).hasClass("active"))
    {
            $(this).addClass("myBackground");
    }
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-28T10:00:04.720

如果你想在 css3 中这样做，你可以使用这个：

```
:not(p)
{
background:#ff0000;
} 
```

这将为所有不是“p”元素的元素设置背景颜色。更多信息： http: [//kilianvalkhof.com/2008/css-xhtml/the-css3-not-selector/](http://kilianvalkhof.com/2008/css-xhtml/the-css3-not-selector/)

# java - 在 1 个 java jsp 页面中编辑/删除多个表

> ID：15678713
> 
> 赞同：0
> 
> 时间：2013-03-28T09:53:12.190
> 
> 标签：java, jsp, edit

目前我得到以下代码：

```
<%@page language="java"%>
<%@page import="java.sql.*"%>
<form method="post" action="update.jsp">
<table border="1">
<tr><th>ID</th><th>Name</th><th>Genre</th><th>Site</th></tr>
<%
String num = request.getParameter("id");
int id = Integer.parseInt(num);
try {
Class.forName("com.mysql.jdbc.Driver").newInstance();
Connection conn = DriverManager.getConnection("sample connection", "sample user", "sample pass");
String query = "select * from table where id='"+id+"'";
Statement st = conn.createStatement();
ResultSet rs = st.executeQuery(query);
while(rs.next()){
%>
<tr>
<td><input type="text" name="id" value="<%=rs.getInt("id")%>"></td>
<td><input type="text" name="naam" value="<%=rs.getString("name")%>"></td>
<td><input type="text" name="Genre" value="<%=rs.getString("genre")%>"></td>
<td><input type="text" name="url" value="<%=rs.getString("url")%>"></td>
</tr>
<tr>
<td><input type="submit" name="Submit" value="Update" style="background-color:#49743D;font-weight:bold;color:#ffffff;"></td>
</tr>
<%
}
}
catch(Exception e){}
%>
</table>
</form> 
```

基本上这是更新我的数据库的 1 个表的 jsp 页面，但是是否可以为任何表（不同数量的列，不同的列名等）创建一个通用的 jsp 页面，或者您是否必须为每个表创建一个特定的 jsp 页面你有单表吗？另外，如果可能的话，你会怎么做，我需要什么？因为老实说，我不知道如何开始。

我假设如果可以进行编辑，也可以进行删除和插入。（如我错了请纠正我）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T09:58:36.603

您可以创建一个具有所需方法的控制器来处理对每个表进行处理的请求，并创建一个包含所有表的 jsp 页面或为每个表创建多个页面。

如果您可以拆分视图和逻辑，它将使开发过程更加简单和灵活

# c# - 无法转换类型为“的对象” d__8' 输入 'IXYPair'

> ID：15678714
> 
> 赞同：2
> 
> 时间：2013-03-28T09:53:12.520
> 
> 标签：c#, c#-4.0

在`EnumerablePointEnumerator<T>.GetCurrent(ref Point p)`( `Microsoft.Research.DynamicDataDisplay.DataSources`) 我得到一个错误`Unable to cast object of type '<XYPairsInRange>d__8' to type 'IXYPair'.`

XYPairsInRange 不是类型，而是我的类的方法，返回类型为 IEnumerable

```
public IEnumerable<IXYPair> XYPairsInRange(double startX, double endX)
{
   foreach (IXYPair pair in this.XYPairs)
   {
      if (pair.X >= startX && pair.X <= endX)
      {
         yield return pair;
      }
   }
}

public IEnumerable<IXYPair> XYPairs
{
   get
   {
       int counter = 0;
       foreach (double x in XValues)
       {
          yield return new XYPair() { X = x, Y = YValues[counter++] };
       }
   }
} 
```

IXYPair 定义为

```
public interface IXYPair
{
    double X { get; }
    double Y { get; }
} 
```

什么可能在运行时导致此错误？我已经尝试显式地转换 yield return 语句并返回一个列表（没有 yield）但没有成功

编辑： XValues 和 YValues 都是 List< double >

调用代码：

```
public IEnumerable Query()
    {
        yield return this.Data.XYPairsInRange(Double.NegativeInfinity, Double.PositiveInfinity);
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T10:22:07.737

我试过你的代码，它似乎没有任何问题：

```
public interface IXYPair {
    double X { get; }
    double Y { get; }
}

class XYPair : IXYPair {
    public double X { get; set; }
    public double Y { get; set; }

    public override string ToString( ) {
        return string.Format( "X = {0} ; Y = {1}", X, Y );
    }
}

class Program {
    static List<double> XValues;
    static List<double> YValues;

    static void Main( string[ ] args ) {
        XValues = new List<double>( ) { 0.05, 0.25, 0.85, 0.95, 0.35, 1.65, 115.25 };
        YValues = new List<double>( ) { 0.25, 0.85, 1.15, 12.95, 7.35, 1.75, 0.13 };

        foreach ( IXYPair pair in XYPairsInRange( 0.5, 1.5 ) )
            Console.WriteLine( pair.ToString() );
    }

    public static IEnumerable<IXYPair> XYPairsInRange( double startX, double endX ) {
        foreach ( IXYPair pair in XYPairs ) {
            if ( pair.X >= startX && pair.X <= endX ) {
                yield return pair;
            }
        }
    }

    public static IEnumerable<IXYPair> XYPairs {
        get {
            int counter = 0;
            foreach ( double x in XValues ) {
                yield return new XYPair( ) { X = x, Y = YValues[ counter++ ] };
            }
        }
    }
} 
```

结果：

> X = 0.85 ; Y = 1.15
> X = 0.95；Y = 12.95

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T10:55:28.720

问题是您从`Query()`方法中产生了一个枚举器，而不是来自枚举器的项目：

这：

```
public IEnumerable Query()
{
    yield return this.Data.XYPairsInRange(Double.NegativeInfinity, Double.PositiveInfinity);
} 
```

可以改写如下：

```
public IEnumerable<IEnumerable<IXYPair>> Query() 
```

现在你应该知道为什么这不起作用了。

您应该将方法的主体重写为：

```
public IEnumerable<IXYPair> Query()
{
    return this.Data.XYPairsInRange(...);
} 
```

或对此（以上是首选）：

```
public IEnumerable<IXYPair> Query()
{
    foreach (var pair in this.Data.XYPairsInRange(...))
        yield return pair;
} 
```

# entity-framework - 如何使用实体框架 dbmigration 将列更改为身份？

> ID：15678727
> 
> 赞同：1
> 
> 时间：2013-03-28T09:54:02.010
> 
> 标签：entity-framework, ef-code-first, entity-framework-migrations

我使用 Entity Framework 5.0 和电动工具对一个小型数据库进行了逆向工程。然后我开始开发一个网站。我遇到了一个问题，因为我忘记将我的一张表上的 ID 列设置为 IDENTITY 列。

所以我添加了一个代码优先迁移，并在包管理器控制台中使用 update-database 命令运行它。这是我写的“向上”方法：

```
 public override void Up()
    {
        Sql("DELETE FROM dbo.Sections");
        Sql("DELETE FROM dbo.QuestionInstances");

        DropForeignKey("dbo.SectionInstances", "SectionID", "dbo.Sections");
        DropForeignKey("dbo.QuestionInstances", "SectionID", "dbo.Sections");

        DropTable("dbo.Sections");

        CreateTable(
            "dbo.Sections",
            c => new
            {
                ID = c.Int(nullable: false, identity: true),
                UniqueDescription = c.String(nullable: false, maxLength: 50),
                Heading = c.String(maxLength: 500),
            })
            .PrimaryKey(t => t.ID);

        AddForeignKey("dbo.SectionInstances", "SectionID", "dbo.Sections");
        AddForeignKey("dbo.QuestionInstances", "SectionID", "dbo.Sections");
    } 
```

我检查了数据库，它已成功更改。

我期待实体框架更新其模型并停止显式设置 ID，但看起来我错了，因为当我尝试保存时，我现在收到此错误：“无法在表 'Sections' 中插入标识列的显式值”当 IDENTITY_INSERT 设置为 OFF”

如何让实体框架识别该列现在是一个标识列？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-28T10:53:17.300

由于您在 Id 列尚未设置为 IDENTITY 时对数据库进行了逆向工程，因此已生成代码优先模型，并`DatabaseGeneratedOption.None`为实体上的 Id 属性设置。

这会导致 EF 创建一个带有 Id 集的插入语句，该语句在将列更改为 IDENTITY 后不再起作用。

您必须手动修复该配置，将其设置为`DatabaseGeneratedOption.Identity`或完全删除它，因为这是整数字段的默认值。

# php - 不通过循环显示系列

> ID：15678730
> 
> 赞同：1
> 
> 时间：2013-03-28T09:54:05.243
> 
> 标签：php, html

我正在制作一个程序，它将首先从用户那里获得 2 个数字（1.for power！1.for factorial）我的程序中有三个循环！2 个循环用于获取第一个数字的幂并在 $result 中显示。第三个循环用于获取第二个数字的阶乘并将其打印在 $result1 现在我想将幂数和阶乘的结果相除！但想连续显示它，直到循环结束，如“4” ans 将是

1
2
4.5
10.66
但我认为我的代码有问题。想不通是什么！我被困住了

```
<?php 
    $a=$_GET["number"];
    $b=$_GET["number1"];
    for ($i=1;$i<=$a;$i++)
    {
        $result=1;
        for ($j=1;$j<=$i;$j++)
        {
            $result=$result*$i;
            //echo "$result"."<br/>\n";
        }
        $b=$_GET["number1"];
        $result1=1;
        for ($x=$a; $x>=1; --$x)
        {
            $result1 = $result1*$x;
            echo $result/$result1."</br>";
        } 
    }
?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T12:09:37.793

number1 未使用，唯一的用户输入是系列中的项目数。我将您的第二个内部循环更改为递增而不是递减，并将回声移到第二个内部循环之外

```
<?php 
    $a=$_GET["number"];

    for ($i=1;$i<=$a;$i++)
    {
        $result=1;
        for ($j=1;$j<=$i;$j++)
        {
            $result=$result*$i;
        }

        $result1=1;
        for ($x=1; $x<=$i; $x++)
        {
            $result1 = $result1*$x;
        } 
        echo $result/$result1."</br>";
    }
?> 
```

# jquery - MVC C# 应用程序，JQuery 帖子上的日期不正确

> ID：15678734
> 
> 赞同：1
> 
> 时间：2013-03-28T09:54:17.067
> 
> 标签：jquery, asp.net-mvc

我有一个带有日期的强类型部分视图，如下所示 -

```
@model Models.MyModel

MyDate: @Html.DisplayFor(m => m.MyDate) 
```

使用 JQuery，我以以下方式发回 -

```
var urlPost = Url.Action("MyArea", "MyController", "MySaveAction");

$.post(urlPost, form, function (returnHtml) {}; 
```

我的控制器看起来像这样 -

```
[HttpPost]
public ActionResult MySaveAction(MyModel m)
{
    // My code
} 
```

模型中的其他属性发布正常，但“MyDate”不是。“MyDate 的”值显示为“1/18/2010 12:00:00 AM”，但回发为“1/1/0001 12:00:00”。有人能告诉我为什么吗？

非常感谢您的帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T09:56:59.570

DisplayFor 助手只显示。如果您希望在提交表单时将值发送到服务器，则需要有相应的输入字段。可能隐藏在您的情况下：

```
@model Models.MyModel

MyDate: @Html.DisplayFor(m => m.MyDate)
@Html.HiddenFor(m => m.MyDate) 
```

# html - IE8 - 3 列布局：100% 宽度，左右 div 固定宽度和 100% 高度 + 中间 div 最小宽度 955px

> ID：15678737
> 
> 赞同：-1
> 
> 时间：2013-03-28T09:54:19.567
> 
> 标签：html, css, layout, height, width

我必须将 Sharepoint 2007 站点迁移到 Sharepoint 2010，并且用户拥有 IE8 浏览器。

所以，我想在跨浏览器模式下设置具有该布局的网站。

我真正的问题是我会为左列和右列设置一个渐变背景，浏览器高度为 100%，而我的中间`div`必须有 955px 的最小宽度。

没有`TABLE`标签可以吗？

我试过：

```
<div id="main1">
   <div id="main2">
    <div id="left">&nbsp;</div>
    <div id="right">&nbsp;</div>
    <div id="middle">
         <table width="100%" height="500"> <tr><td>aaa</td></tr></table>
    </div>
    <div class="cleaner">&nbsp;</div>
   </div>
</div> 
```

CSS：

```
body,html{
     height:100%;
     min-height:100%;
     background-color:gray;
PADDING-BOTTOM: 0px;
MARGIN: 0px;
PADDING-LEFT: 0px;
PADDING-RIGHT: 0px;
PADDING-TOP: 0px;
}
#main1 {
PADDING-BOTTOM: 0px;
MARGIN: 0px;
PADDING-LEFT: 0px;
PADDING-RIGHT: 0px;
PADDING-TOP: 0px;

MIN-WIDTH: 995px;
border-bottom:1px solid gray;

height: auto;
min-height:100%

}
#main2 {
PADDING-BOTTOM: 0px;
MARGIN: 0px;
PADDING-LEFT: 0px;
PADDING-RIGHT: 0px;
BACKGROUND: url(blue.gif) repeat-y right top;
PADDING-TOP: 0px;
}
#left {
PADDING-BOTTOM: 0px;
MARGIN: 0px;
PADDING-LEFT: 0px;
WIDTH: 20px;
PADDING-RIGHT: 0px;
background-color:blue;
FLOAT: left;
FONT-SIZE: 80%;
PADDING-TOP: 0px;
height:100%;
}
#right {
PADDING-BOTTOM: 0px;
MARGIN: 0px;
PADDING-LEFT: 0px;
WIDTH: 20px;
PADDING-RIGHT: 0px;
background-color:blue;
FLOAT: right;
FONT-SIZE: 80%;
PADDING-TOP: 0px;
height:100%;
}
#middle {
MARGIN: 0px 20px;
BACKGROUND: red;
FONT-SIZE: 80%;
height:100%;
min-height:100%;
}
.cleaner {
HEIGHT: 1px;
CLEAR: both;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T10:11:50.337

由于标准屏幕分辨率为 1024*768，您可以分别给左右 div 和中间 div 赋予固定宽度。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T10:12:18.133

HTML

```
<div id="mainContainer">

    <div id="left-column" class="column">           
    </div>

    <div id="middle-column" class="column">             
    </div>

    <div id="right-column" class="column">      
    </div>  

</div> 
```

css

```
#mainContainer{
    width: 1355px;
    margin: 0px auto;
    padding: 0px;
}

.column{
    display: block;
    height: 100%;
    float: left;
}
#middle-column{
    width: 955px;

}
#left-column, #right-column{
    width: 200px;

} 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-03-28T10:05:28.180

是的，

```
<aside class="sidebar left"></aside>
<div class="mainContent"></div>
<aside class="sidebar right></asdie> 
```

剩下的就是 CSS。`<aside></aside>`是一个 HTML5 标记。玩得开心。

# map - 地图投影

> ID：15678744
> 
> 赞同：0
> 
> 时间：2013-03-28T09:54:43.410
> 
> 标签：map, projection

我正在为一小块土地建立一个“平坦的地球”3D 模型以进行模拟。使用谷歌地球，我得到了我选择的原点附近一些网格线的纬度值。

然后，使用[Vincenty 距离算法](http://movable-type.co.uk/scripts/latlong-vincenty.html)，我得到了与原点的 xy 距离，以将网格线放置在我的“平面”3D 模型中的正确距离。

在我的模拟中，我使用[Vincenty 'Direct' 算法](http://www.movable-type.co.uk/scripts/latlong-vincenty-direct.html)来显示我的球员纬度，这一切都很好，并且与谷歌地球匹配得很好。

[（这里](http://www.movable-type.co.uk/scripts/latlong.html)有一个更快（不太准确）的“直接”算法（下页：“目标点给定距离和距起点的方位”））

如果我测量一个网格正方形，其中纬度和经度的度数均为 0.0036，以米为单位的 x 值约为：356.9 & y 值约为：400.9，这与谷歌地球几乎相同，当我使用它时测量工具。所以基本上是一个矩形在纬度上拉伸了一点。这表明圆柱投影？（谷歌使用：wgs84/pseudo mercator（我认为））我的模型看起来像一种墨卡托。

所以我有我自制的平面地球模型，效果很好，现在我的问题是:-)（最后他们说！）

我做了什么？即**它是什么投影**？

（如果我可以将上面的这些值插入应用程序并弹出我的投影，那就太好了！）

（Vincenty 算法使用椭圆体（大多数情况下为 WGS-84）模型。）

无论如何，感谢您的任何想法！

# javascript - javascript验证规则不起作用

> ID：15678747
> 
> 赞同：2
> 
> 时间：2013-03-28T09:54:49.107
> 
> 标签：javascript, validation

我有以下代码，验证规则不起作用，请帮忙！Web 浏览器无法识别 javascript 代码，因为活动的 x 控件似乎没有出现。

```
<HTML>
<head>
<title>Exam entry</title>

<script lanuage="javascript" type="text/javascript">

var result = true;

function validateForm() {

    var msg="";

    if (document.ExamEntry.name.value=="") {
        msg+="you must enter your name \n";
        document.ExamEntry.name.focus();
        document.getElementById('name').style.color="red";
        result = false;
    }
    if (document.ExamEntry.subject.value=="") {
        msg+("You must enter the subject \n");
        document.ExamEntry.subject.focus();
        document.getElementById('subject').style.color="red";
        result false;
    }
    if (document.ExamEntry.ExaminationNumber.value=="") {
        msg+("You must enter the Examination Number \n");
        document.ExamEntry.ExaminationNumber.focus();
        document.getElementById('ExaminationNumber').style.color="red";
        result false;
    }
    if(msg==""){
    return result;
    }

    {
    alert(msg)
    return result;
    }
}
</script>
<form>
        <input type="radio" name="qualification" value="GCSE">GCSE<br>
        <input type="radio" name="qualification" value="AS">AS<br>
        <input type="radio" name="qualification" value="A2">A2<br>
</form>
</head>

<body>
<h1>Exam Entry Form</h1>
<form name="ExamEntry" method="post" action="success.html">
<table width="50%" border="0">
    <tr>
        <td id="name">Name</td>
        <td><input type="text" name="name" /></td>
    </tr>
    <tr>
        <td id="subject">Subject</td>
        <td><input type="text" name="subject" /></td>
    </tr> 
    <tr>
        <td id="ExaminationNumber">ExaminationNumber</td>
        <td><input type="text" name="ExaminationNumber" /></td>
    </tr>
<tr>
    <td><input type="submit" name="Submit" value="Submit" onclick="return validateForm();" /></td>
    <td><input type="reset" name="Reset" value="Reset" /></td>
</tr>

</table>
</form>
</body>
</HTML> 
```

请有人帮忙，这让我发疯！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T10:00:10.993

您在第 23 行和第 29 行缺少 '=' 符号 `result false;`应该是`result = false;`

提示：您可以在浏览器的开发者控制台中检查 js 错误。

更新：好的，当我测试它时，以下工作正常：

```
<html>
<head>
    <title>Exam entry</title>

    <script lanuage="javascript" type="text/javascript">

        var result = true;

        function validateForm() {

            var msg = "";

            if (document.ExamEntry.name.value == "") {
                msg += "you must enter your name \n";
                document.ExamEntry.name.focus();
                document.getElementById('name').style.color = "red";
                result = false;
            }
            if (document.ExamEntry.subject.value == "") {
                msg + ("You must enter the subject \n");
                document.ExamEntry.subject.focus();
                document.getElementById('subject').style.color = "red";
                result = false;
            }
            if (document.ExamEntry.ExaminationNumber.value == "") {
                msg + ("You must enter the Examination Number \n");
                document.ExamEntry.ExaminationNumber.focus();
                document.getElementById('ExaminationNumber').style.color = "red";
                result = false;
            }
            if (msg == "") {
                return result;
            }

            {
                alert(msg)
                return result;
            }
        }
    </script>
</head>

<body>
    <h1>Exam Entry Form</h1>
    <form name="ExamEntry" method="post" action="success.html">
        <table style="width: 50%;" border="0">
            <tr>
                <td id="name">Name</td>
                <td>
                    <input type="text" name="name" /></td>
            </tr>
            <tr>
                <td id="subject">Subject</td>
                <td>
                    <input type="text" name="subject" /></td>
            </tr>
            <tr>
                <td id="ExaminationNumber">ExaminationNumber</td>
                <td>
                    <input type="text" name="ExaminationNumber" /></td>
            </tr>
            <tr>
                <td>
                    <input type="submit" name="Submit" value="Submit" onclick="return validateForm();" /></td>
                <td>
                    <input type="reset" name="Reset" value="Reset" /></td>
            </tr>
        </table>
    </form>
</body>
</html> 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-10-20T09:55:35.183

您问题中的代码段失败的原因有几个。让我指出一些缺陷：

1.  头部不应该有表格
2.  `document.ExamEntry`是无效的。正确的是`document.forms['ExamEntry']`
3.  类似的东西`document.ExamEntry.subject`是不可能的。链接子节点不起作用。需要使用提供的 DOM 方法遍历 DOM。我建议阅读教程，例如[http://net.tutsplus.com/tutorials/javascript-ajax/javascript-and-the-dom-series-lesson-1/](http://net.tutsplus.com/tutorials/javascript-ajax/javascript-and-the-dom-series-lesson-1/)

我已经修改了 JavaScript 并包含了一个[jsFiddle](http://jsfiddle.net/tangibleJ/JgX8h/)来进行验证。这是一个快速修复。我添加了一个名为的辅助函数`getInputByName`：

```
<script type="text/javascript">

function getInputByName(inputName) {
    var inputs = document.getElementsByTagName('input');

    for (var i = 0, ii = inputs.length, input; i < ii, input = inputs[i]; i++) {
        if (input.name === inputName) {
            return input
        }
    }
    return false;
}

function validateForm() {

    var result = true;

    var msg="";

    if (getInputByName('name').value=="") {
        msg+="you must enter your name \n";
        getInputByName('name').focus();
        document.getElementById('name').style.color="red";
        result = false;
    }

    if (getInputByName('subject').value=="") {
        msg+("You must enter the subject \n");
        getInputByName('subject').focus();
        document.getElementById('subject').style.color="red";
        result = false;
    }

    if (getInputByName('ExaminationNumber').value=="") {
        msg+("You must enter the Examination Number \n");
        getInputByName('ExaminationNumber').focus();
        document.getElementById('ExaminationNumber').style.color="red";
        result = false;
    }

    if (msg == ""){
        return result;
    } else {
        alert(msg)
        return result;
    }
}
</script> 
```

# c# - 如何减小水晶报表工具栏的宽度？

> ID：15678749
> 
> 赞同：4
> 
> 时间：2013-03-28T09:55:12.727
> 
> 标签：c#, browser, crystal-reports

我正在使用 Crystal Reports 版本 10.5.3700.0 和 .NET 框架 3.5

当我将水晶报表包含在网络表单中时，我想调整即将出现的工具栏。它在 Mozilla 浏览器中看起来很合适，但在 Internet Explorer 8 中看起来不太好。它的宽度太高了。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-03-28T10:16:59.917

也许你应该使用：`Toolbarstyle-width = "780 px"`

# java - @Generated 注解的使用

> ID：15678753
> 
> 赞同：0
> 
> 时间：2013-03-28T09:55:23.013
> 
> 标签：java, annotations, generated

我要问可能是一个有点哲学的问题。

Java中有注释 - **@Generated**。
我想了解一种好的使用方式。

例如，如果我在 Eclipse 中创建了 Serializable 的实现并生成了 serialVersionUID。
- 我需要将@Generated 放在序列字段之前还是不必要的狂热？
- 如果我这样做，那么尽管其他开发人员的信息很简单，但它将用于什么目的？
- 最后，我在这里使用的“值”字段的代码生成器是什么？
提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T11:02:02.793

1.  我认为这是对一个领域的不必要的狂热。
2.  IDE 可以使 @Generated 代码只读（因为手动编辑生成的代码是不好的做法）和/或删除它的警告，但我不知道有人这样做。
3.  当我将此注释放在 Eclipse 生成的方法（hashCode、equals、toString）上时，我只添加了“Eclipse”，尽管“org.eclipse.Eclipse”可能会更好。

当然，理想的情况是 Eclipse 在生成代码时将其放入此注解。

# matlab - 运行 GUI 需要在 GUIDE 中打开 .fig 文件

> ID：15678762
> 
> 赞同：2
> 
> 时间：2013-03-28T09:55:51.590
> 
> 标签：matlab, user-interface, matlab-figure, matlab-guide

我正在尝试运行我创建的 MATLAB GUI。如果我使用 GUIDE 打开 .fig 文件并在那里按下运行按钮，它会完美运行。

但是，当我双击 MATLAB 的“当前文件夹”部分中的 .fig 文件时，似乎无法找到该`handles`变量。这会导致它在每次`handles`使用时都会出错。

为什么会这样？有修复/解决方法吗？

我正在使用 MATLAB R2011，但我也在 R2012 上尝试过。代码运行良好，并显示 GUI，但遇到`handles`变量的那一刻，它给出了以下错误：

**尝试去引用非结构数组字段。**

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-28T11:45:23.923

当您使用 GUIDE 创建 GUI 时，它应该同时创建一个`.fig`文件和一个`.m`文件。要运行它，您应该运行该`.m`文件，而不是双击该`.fig`文件。

该`.fig`文件仅包含有关 GUI 布局的静态信息——其中没有任何可执行文件可以初始化`handles`等等。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-02T15:40:17.313

好吧，`.m`如果你想检查你的代码，如果你想编辑 GUI，请始终运行文件，请通过**指南**命令。如果您打开`.fig`文件，您将获得一个无法执行且无法分析的文件。相应`.m`的文件将为您的 GUI 提供相应的功能。

# iphone - 如何摆脱循环

> ID：15678763
> 
> 赞同：0
> 
> 时间：2013-03-28T09:55:51.783
> 
> 标签：iphone, xcode, for-loop

是否有可能从 for...loop 中跳出来？在 ViewController 我有一个循环。在那个循环中，我有一些系统声音一个接一个地播放。for..loop 从 plist 向上计数。它还有一个睡眠功能来获得一些延迟。我用一个按钮开始循环，并希望有一个停止按钮。但只要循环进行，它就不会响应任何按钮的另一次按下。想知道是否有可能停止这个循环以及如何停止？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-28T10:03:02.617

> But as long as the loop is going it does not respond to another press at any button.

Well you have a slightly different problem here. What you're doing is blocking the UI thread with your loop. Breaking out of the loop won't have much effect, because you won't be able to use the UI while the loop is "looping".

You should probably look into threading - if you play your music on a new thread you leave the UI thread still open and able to receive touch input.

You can always do what Paras Joshi has said in his answer in that thread, or you could use an NSTimer to create a loop. You can invalidate a timer to stop it from calling.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-28T09:58:12.397

看下面这个例子

```
for(int i = 0;i<[yourFirstArray count];i++){
    for(int j = 0;j<[yourSecondArray count];j++){ 
           if (yourConition)
                  break; // here you break out from forloop if "if" condition is true...
     }
} 
```

# java - 从数据库列检索时，Java 不将“\n”视为新行

> ID：15678768
> 
> 赞同：11
> 
> 时间：2013-03-28T09:56:21.327
> 
> 标签：java, string, oracle11g, escaping

我面临一个奇怪的问题。
我正在做的是我将一些值存储在 DB（oracle 11g）中作为**varchar2**并在 java 中获取值并使用获取的数据。
现在我将**\n**作为 DB 中的一个值，并在 java 中使用`rs.getString()`. 我得到了适当的价值`\n`。

```
String newLine=rs.getString("column_value"); 
```

现在我解析一个 HTML 页面并将整个页面作为字符串获取。假设页面有 3 行，每行描述如下所示的一些信息：

```
Time: 08 AM - 11 AM
Duration : 36 minutes 
```

现在在代码中，我将**“持续时间：”**传递给一个方法，这将返回“36 分钟”。
我使用的逻辑是我得到**“持续时间：”**的索引并阅读直到遇到“\ n”。如果我将换行声明为

```
String newLine= "\n"; 
```

但是，如果我从数据库中得到它，它就不起作用。我知道我不需要将其存储在数据库中，但我不想对这些项目进行硬编码。所以我必须只将它存储在数据库中。谁能帮我解决这个问题？？？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-03-28T10:14:23.177

如果当您打印输出时，您可能必须对从数据库中获得的字符串进行转义`newLine`。`\n`Apache Commons Lang 有一个方法：

[http://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringEscapeUtils.html#unescapeJava(java.io.Writer, java.lang.String)](http://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringEscapeUtils.html#unescapeJava%28java.io.Writer,%20java.lang.String%29)

所以你只需要打电话

```
 String newLine = StringEscapeUtils.unescapeJava(rs.getString("column_value")); 
```

希望这可以帮助

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-28T10:00:48.293

试试这个

```
String newline = System.getProperty("line.separator");
boolean hasNewline = word.contains(newline); 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2015-02-09T10:37:09.993

问题是数据库正在向您的字符串添加一个转义字符，因此您最终得到的是 \\n 而不是 \n。要解决此问题，您只需将 \\n 替换为 \n。

```
String db_string = new String("This is a string from the db \\n This should be a new line, but is not."); 
db_string = db_string.replace("\\n", "\n"); 
```

如果你打印这个，你会得到：
这是一个来自 db 的字符串
这应该是一个新行，但不是。//现在好了..

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2019-01-31T12:55:55.147

如果要将数据检索到 HTML 页面，可以执行以下操作：

```
String YourString = YourString.replaceAll("\\n", "<br>"); 
```

如果您要将数据检索到其他位置，您可以这样做：

```
String YourString = YourString.replaceAll("\\\\n", "\n"); 
```

注意：`\\\\n`用于`\\n`转义字符

# android - 默认 DatePicker 对话框布局配置问题

> ID：15678769
> 
> 赞同：0
> 
> 时间：2013-03-28T09:56:22.463
> 
> 标签：android, android-layout, landscape, android-datepicker

![横向模式](../Images/0498e35a2562b8421b1f8f88b655343b.png)

![肖像模式](../Images/e7244945facf39d772d65aa7d2386b15.png)

在横向模式下，日期选择器对话框看起来不统一“+”按钮大小和“-”按钮大小不同..

我的xml布局是这样的

```
 <DatePicker
         android:id="@+id/dialog"
       android:padding="5dip"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content" 
        android:gravity="center_horizontal"/> 
```

为什么我在横向模式下会出现这种不均匀性？:(

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-28T10:02:28.160

这取决于您的设备屏幕尺寸。所有设备都具有不同的 Android 操作系统版本，因此此对话框的方向会得到不同的结果。如果您想要看起来通用且具有交互性，则需要根据您的样式和大小来实现

# excel - 如何对excel 2003中的单元格进行颜色排序？

> ID：15678777
> 
> 赞同：0
> 
> 时间：2013-03-28T09:56:37.713
> 
> 标签：excel, vba, sorting, colors

我想在每行背景颜色的六个单元格（现实生活中的商店）中输入，从绿色到红色排序较高。

在 excel 2010 中就像照片但在 2003 版本中无法正常工作......我如何在 excel 2003 中做到这一点？照片[http://img32.imageshack.us/img32/4909/srv20130328113621.png](http://img32.imageshack.us/img32/4909/srv20130328113621.png)

在 excel 2010 中，我使用此代码并且工作完美

```
If Application.Version >= "12.0" Then
    For counter = 3 To 103
        Range("I" & counter & ",K" & counter & ",M" & counter & ",O" & counter & ",Q" & counter & ",S" & counter).Select
        Selection.FormatConditions.AddColorScale ColorScaleType:=3
        Selection.FormatConditions(Selection.FormatConditions.Count).SetFirstPriority
        Selection.FormatConditions(1).ColorScaleCriteria(1).Type = _
        xlConditionValueLowestValue
    With Selection.FormatConditions(1).ColorScaleCriteria(1).FormatColor
        .Color = 7039480
    End If
    End With
        Selection.FormatConditions(1).ColorScaleCriteria(2).Type = _
        xlConditionValuePercentile
        Selection.FormatConditions(1).ColorScaleCriteria(2).Value = 50
    With Selection.FormatConditions(1).ColorScaleCriteria(2).FormatColor
        .Color = 8711167
    End If
    End With
        Selection.FormatConditions(1).ColorScaleCriteria(3).Type = _
        xlConditionValueHighestValue
    With Selection.FormatConditions(1).ColorScaleCriteria(3).FormatColor
        .Color = 8109667
    End If
    End With
    Next counter
Else
End If 
```

对不起，我的英语不好。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T08:31:55.430

行 ！！使用此代码完美运行！

在第一个子 xromata（希腊语中的颜色）中，我有一些用于不同工作表的设置。在此之后调用 sortarisma 并参考第一列与第二列和行数不同！

```
Sub Xromata(a As Integer)
    If a = 1 Then
        Call Sortarisma(11, 3, 103)
        ElseIf a = 2 Then
        Call Sortarisma(12, 3, 111)
        ElseIf a = 3 Then
        Call Sortarisma(9, 2, 103)
        ElseIf a = 4 Then
        Call Sortarisma(10, 2, 111)
        ElseIf a = 5 Then
        Call Sortarisma(11, 4, 103)
        Call Sortarisma(12, 4, 103)
        ElseIf a = 6 Then
        Call Sortarisma(12, 4, 111)
        Call Sortarisma(13, 4, 111)
    Else
End If

End Sub
Sub Sortarisma(arxi As Integer, per As Integer, numofrows As Integer)

Dim Arr(1 To 6) As Single
Dim i As Integer
Dim l As Integer
Dim k As Integer
Dim j As Integer
Dim ff As Integer
Dim ll As Integer
Dim temp As Single
ff = 1
ll = 6

For i = 3 To numofrows
    temp = 0
    Arr(1) = Cells(i, arxi)
    Arr(2) = Cells(i, arxi + per)
    Arr(3) = Cells(i, arxi + (per * 2))
    Arr(4) = Cells(i, arxi + (per * 3))
    Arr(5) = Cells(i, arxi + (per * 4))
    Arr(6) = Cells(i, arxi + (per * 5))

    For k = ff To ll - 1
        For j = k + 1 To ll
            If Arr(k) > Arr(j) Then
            temp = Arr(j)
            Arr(j) = Arr(k)
            Arr(k) = temp
            End If
        Next j
    Next k
    ''''''''''''''''''''
    For l = arxi To arxi + (per * 5) Step per
        If Cells(i, l) = Arr(1) And Cells(i, l) >= 0 Then
            Call xromatismos_keliou(i, l, 6)
        ElseIf Cells(i, l) = Arr(2) And Cells(i, l) >= 0 Then
            Call xromatismos_keliou(i, l, 5)
        ElseIf Cells(i, l) = Arr(3) And Cells(i, l) >= 0 Then
            Call xromatismos_keliou(i, l, 4)
        ElseIf Cells(i, l) = Arr(4) And Cells(i, l) >= 0 Then
            Call xromatismos_keliou(i, l, 3)
        ElseIf Cells(i, l) = Arr(5) And Cells(i, l) >= 0 Then
            Call xromatismos_keliou(i, l, 2)
        ElseIf Cells(i, l) = Arr(6) And Cells(i, l) >= 0 Then
            Call xromatismos_keliou(i, l, 1)
        ElseIf Cells(i, l) = Arr(1) And Cells(i, l) < 0 Then
            Call xromatismos_keliou(i, l, 6)
        ElseIf Cells(i, l) = Arr(2) And Cells(i, l) < 0 Then
            Call xromatismos_keliou(i, l, 5)
        ElseIf Cells(i, l) = Arr(3) And Cells(i, l) < 0 Then
            Call xromatismos_keliou(i, l, 4)
        ElseIf Cells(i, l) = Arr(4) And Cells(i, l) < 0 Then
            Call xromatismos_keliou(i, l, 3)
        ElseIf Cells(i, l) = Arr(5) And Cells(i, l) < 0 Then
            Call xromatismos_keliou(i, l, 2)
        ElseIf Cells(i, l) = Arr(6) And Cells(i, l) < 0 Then
            Call xromatismos_keliou(i, l, 1)
        End If
    Next l
    Next i
Call addindex(numofrows + 2)
Application.Goto Reference:=Range("a1"), Scroll:=True
End Sub
Sub xromatismos_keliou(row As Integer, col As Integer, bathmos As Integer)

If bathmos = 1 Then
    Cells(row, col).Interior.ColorIndex = 10
    ElseIf bathmos = 2 Then
    Cells(row, col).Interior.ColorIndex = 50
    ElseIf bathmos = 3 Then
    Cells(row, col).Interior.ColorIndex = 43
    ElseIf bathmos = 4 Then
    Cells(row, col).Interior.ColorIndex = 44
    ElseIf bathmos = 5 Then
    Cells(row, col).Interior.ColorIndex = 45
    ElseIf bathmos = 6 Then
    Cells(row, col).Interior.ColorIndex = 46
    Cells(row, col).Select
    With Selection.Font
    .Bold = True
    End With

    Else
End If

End Sub
Sub addindex(thesi As Integer)

Cells(thesi, 1).Interior.ColorIndex = 10
Cells(thesi, 1).Value = "1"
Cells(thesi, 2).Interior.ColorIndex = 50
Cells(thesi, 2).Value = "2"
Cells(thesi, 3).Interior.ColorIndex = 43
Cells(thesi, 3).Value = "3"
Cells(thesi, 4).Interior.ColorIndex = 44
Cells(thesi, 4).Value = "4"
Cells(thesi, 5).Interior.ColorIndex = 45
Cells(thesi, 5).Value = "5"
Cells(thesi, 6).Interior.ColorIndex = 46
Cells(thesi, 6).Value = "6"

End Sub 
```

# java - 制作新的弹性项目时出错

> ID：15678786
> 
> 赞同：0
> 
> 时间：2013-03-28T09:57:10.657
> 
> 标签：java, apache-flex

如果我开始一个新的 Flex 4 项目，应用程序服务器类型设置为“无”，一切都很好。

如果一个新项目的应用程序服务器类型设置为 J2EE - 使用 blazdes，默认的 mxml 文档在编译时会立即抛出一个 'Invalid byte 1 of 1-byte UTF-8 sequence 错误。

# html5-canvas - Kineticjs 在拖动旋转更改后找不到我的对象

> ID：15678790
> 
> 赞同：0
> 
> 时间：2013-03-28T09:57:19.347
> 
> 标签：html5-canvas, kineticjs

我制作了一个 jsFiddle： http: [//jsfiddle.net/mFxhS/1/](http://jsfiddle.net/mFxhS/1/)但奇怪的是效果不佳，但您仍然可以看到整个代码。

但是我做了一些console.log，他确实知道标识符，但仍然`layer.get('#group'+i)[0]`找不到它们。

在第 126 行使用以下内容：

```
console.log(layer.getChildren());
console.log(i);
console.log(this.getId());
console.log(stage.get('#group'+i)[0].getId()); 
```

你通常会得到：

```
[Kinetic.Rect, Kinetic.Rect, Kinetic.Group]
0 
group0 
group0 
```

但是当我旋转对象时，我得到：

```
[Kinetic.Rect, Kinetic.Rect, Kinetic.Group]
0 
group0 
Uncaught TypeError: Cannot call method 'getId' of undefined 
```

这怎么可能发生？如果我查看第一个控制台行，您仍然有相同的对象，它们具有相同的 _ID en 和相同的属性 ID。

很抱歉破坏了 jsFiddle，我不明白为什么它不起作用。

谢谢，

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T13:01:56.840

尝试升级到 KineticJS 4.4

我确认你的矩形有时会在 4.0 和 4.3 下丢失——事实上，我什至不能在你的 Fiddle 中旋转（矩形移动而不是旋转）。

当我在 4.4 版中运行相同的代码时：没有丢失的矩形和旋转工作正常。

只是一个附带问题：您可能希望在旋转后将旋转手柄重新定位到更靠近矩形的位置。目前，旋转手柄可以在旋转后远离矩形。

# javascript - 访问对象 JSONArray

> ID：15678791
> 
> 赞同：-1
> 
> 时间：2013-03-28T09:57:19.307
> 
> 标签：javascript, jquery, json, object

我尝试在 JSONArray 中访问 throw 不同的对象。使用此代码：`console.log(array[0]);`控制台向我显示该数组：

```
[Array[5]]
0: Array[5]
1: Array[2] 
```

我尝试访问该数组，当我使用此代码访问数组时，`console.log(array[0][0]);`我访问第一个数组，控制台显示：

```
0: Object
1: Object
2: Object
3: Object
4: Object 
```

之后，当我`console.log(array[0][1]);`访问第二个数组 (Array[2]) 时，它显示未定义。

我做错了访问将通用数组扔给其他人吗？有什么问题？谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T11:09:08.237

你可以试着`JSON.stringify(array[0][1])`看看里面是什么。也许它在某种程度上是畸形的。

您可以以相同的方式查看对象，例如在您的情况下应该是这样`console.log(JSON.stringify(array[0][0][0]));`。

# backbone.js - 带木偶和剑道的骨干：示例项目有人吗？

> ID：15678792
> 
> 赞同：0
> 
> 时间：2013-03-28T09:57:20.897
> 
> 标签：backbone.js, kendo-ui

有没有人有一个将 Backbone 与 Marionette 和 Kendo 一起使用的示例项目？我已经阅读了有关该主题的所有内容，但找不到有关如何定义 Kendo 的示例，因此我可以创建网格、树视图和我想在我的项目中使用的所有其他时髦的小部件。

一如既往地感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T00:59:29.553

你读过我写的这篇文章吗？[http://www.kendoui.c​​om/blogs/teamblog/posts/12-11-26/backbone_and_kendo_ui_a_beautiful_combination.aspx](http://www.kendoui.com/blogs/teamblog/posts/12-11-26/backbone_and_kendo_ui_a_beautiful_combination.aspx)

它包含一些展示如何集成它们的 JSFiddle 示例。

# python - Python while循环在while循环中

> ID：15678794
> 
> 赞同：2
> 
> 时间：2013-03-28T09:57:23.927
> 
> 标签：python, python-3.x

我的代码进退两难，首先我必须编写一个练习来实现以下目标

**锻炼**

创建一个文件以完成此练习。编写一个程序，生成 100 个随机数（范围为 1-1000），并计算其中有多少是偶数，有多少是奇数。将结果显示在屏幕上，如下面的示例输出所示。提示：使用 while 循环循环 100 次。

我的结果：

```
import random
num = 0
odd = 0
even = 0

while num < 100:
    random.randint(1,1000)
    num = num + 1
    #print(num)
    if random.randint(1,1000)%2==0:
        even = even + 1
    else:
        odd = odd + 1

print ("Out of 100 Random Numbers,",even,"were even and",odd,"were Odd") 
```

输出：

```
Out of 100 Random Numbers, 50 were even and 50 were Odd 
```

所有肉汁！

下一个活动：

添加另一个 while 循环，该循环将部分 a 重复 10 次。将结果显示在屏幕上，如下面的示例输出所示。

输出如下：

```
Out of 100 random numbers, 56 were odd, and 44 were even.
Out of 100 random numbers, 60 were odd, and 40 were even.
Out of 100 random numbers, 47 were odd, and 53 were even.
Out of 100 random numbers, 54 were odd, and 46 were even.
Out of 100 random numbers, 48 were odd, and 52 were even.
Out of 100 random numbers, 53 were odd, and 47 were even.
Out of 100 random numbers, 46 were odd, and 54 were even.
Out of 100 random numbers, 52 were odd, and 48 were even.
Out of 100 random numbers, 53 were odd, and 47 were even. 
```

所以我写了：

```
import random
num = 0
odd = 0
even = 0
loop = 0

while loop < 10:
    loop = loop +1

    while num < 100:
        num = num + 1
        rand = random.randint(1,1000)
        #print(num)
        if rand%2==0:
            even = even + 1
        else:
            odd = odd + 1
    result = print ("Out of 100 Random Numbers,",even,"were even and",odd,"were Odd") 
```

导致输出：

```
Out of 100 Random Numbers, 50 were even and 50 were Odd
Out of 100 Random Numbers, 50 were even and 50 were Odd
Out of 100 Random Numbers, 50 were even and 50 were Odd
Out of 100 Random Numbers, 50 were even and 50 were Odd
Out of 100 Random Numbers, 50 were even and 50 were Odd
Out of 100 Random Numbers, 50 were even and 50 were Odd
Out of 100 Random Numbers, 50 were even and 50 were Odd
Out of 100 Random Numbers, 50 were even and 50 were Odd
Out of 100 Random Numbers, 50 were even and 50 were Odd
Out of 100 Random Numbers, 50 were even and 50 were Odd 
```

你们中的一位优秀程序员能否向我解释为什么我会得到这个结果和/或修改代码以获得练习的预期结果。

解释为什么它不起作用以及如何解决它会更好，因为你知道他们说什么，给一个人一条他会吃一天的鱼，教他钓鱼他会吃一辈子。

谢谢你的时间。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-28T10:02:27.950

尝试以这种方式更新您的代码（在 top while 内移动 num、odd、even 初始化）：

```
from random import randint

loop = 0

while loop < 10:
    num = 0
    odd = 0
    even = 0
    loop += 1

    while num < 100:
        num += 1
        rand = randint(1, 1000)
        if rand % 2 == 0:
            even += 1
        else:
            odd += 1
    print "Out of 100 Random Numbers, {0} where even and {1} where Odd".format(even, odd) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T10:02:09.107

您需要在外循环内移动以下内容：

```
num = 0
odd = 0
even = 0 
```

否则，内部循环的第二次和后续迭代实际上是无操作的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-28T10:02:55.153

每次通过内部循环后，您都不会重置任何计数器。所以，第一次，它计算该运行的奇数和偶数，直到`num`达到 100。第二次，当它到达 while 循环的开始时，它检查的值`num`：它*已经是*100，所以它永远不会甚至进入循环，并仅打印上一次的计数。

因此，解决它的一种方法是将 , 的设置移动`num`到`odd`外`even`循环内部。

话虽如此，在这里使用 while 循环有点奇怪。真的，您应该研究 for 循环，这对于此目的要好得多。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-28T10:03:17.593

您忘记在外部 while 循环内（在开始循环之前）重置`num`（以及`even`和）的值。第二次，它根本不需要执行内部循环或计算任何随机数，因为 num 已经是 100`odd``while num < 100`

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-28T10:05:07.480

只需在第一个 while 循环开始时将`odd`, `even`,声明为 0。 这样，您每次都将重置这些变量，从而为您提供所需的输出。`num`

你应该最终得到

```
while loop < 10:
    loop = loop +1
    num = even = odd = 0 # here
    while num < 100:
        num = num + 1
        rand = random.randint(1,1000)
        #print(num)
        if rand % 2 == 0:
            even = even + 1
        else:
            odd = odd + 1
        # grammar
     print ("Out of 100 Random Numbers,",even,"were even and",odd,"were Odd") 
```

**打印生成数字总数的另一个版本**

```
loop = 0
even = odd = 0 # change 1
while loop < 10:
    loop = loop +1
    num = 0 # change 2
    while num < 100:
        num = num + 1
        rand = random.randint(1,1000)
        #print(num)
        if rand % 2 == 0:
            even = even + 1
        else:
            odd = odd + 1
        # grammar
    print ("Out of", loop*100,"Random Numbers,",even,"were even and",odd,"were Odd") 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-28T10:06:36.153

while 循环终止后的变量`num=100`，因此您需要在外部 while 循环中重置 num=0

# shell - 如何抑制 shell 脚本错误消息？

> ID：15678796
> 
> 赞同：70
> 
> 时间：2013-03-28T09:57:29.693
> 
> 标签：shell, suppress-warnings, error-suppression

在我的 shell 脚本中，我得到了这些行：

```
rm tempfl.txt
rm tempfl2.txt 
```

如果这些不存在，我会收到错误消息：

```
rm: tempfl2.txt: No such file or directory
rm: tempfl.txt: No such file or directory 
```

有没有办法只抑制这些消息，即使它们并不总是出现，因为文件可能存在？

* * *

## 回答 #1

> 赞同：97
> 
> 时间：2013-03-28T09:59:48.723

你有两个选择：

**禁止`rm`警告**

```
$ rm tempfl.txt 2> /dev/null 
```

**将脚本输出重定向到`/dev/null`**

```
$ ./myscript.sh 2> /dev/null 
```

后者的缺点是缺少脚本生成的所有其他警告消息。

* * *

## 回答 #2

> 赞同：76
> 
> 时间：2018-06-26T14:26:53.487

正如其他答案所述，您可以使用`command 2> /dev/null`丢弃错误输出`command`

但是这里发生了什么？

`>`是用于重定向输出的运算符。`2`是对标准错误输出流的引用，即`2>`=重定向错误输出。

`/dev/null`是“空设备”，它只会吞噬提供给它的任何输入。您可以将两者结合起来以有效地丢弃命令的输出。

完整参考：

*   `> /dev/null`扔掉**标准输出**
*   `1> /dev/null`扔掉**标准输出**
*   `2> /dev/null`扔掉**标准错误**
*   `&> /dev/null`扔掉**stdout** *和* **stderr**

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2013-03-28T09:59:53.250

您应该将所有错误消息重定向到 /dev/null ，例如

```
rm tempfl2.txt 2> /dev/null 
```

* * *

## 回答 #4

> 赞同：7
> 
> 时间：2017-12-27T18:28:09.480

我们可以使用`2> /dev/null`来抑制输出错误并`|| true`确保成功退出状态：

```
rm foo
=> rm: cannot remove ‘foo’: No such file or directory

rm foo 2> /dev/null
echo $?
=> 1

rm foo 2> /dev/null || true
echo $?
=> 0 
```

如果您在 shell 脚本、makefile 等中使用该命令，也许您需要这个。

* * *

## 回答 #5

> 赞同：6
> 
> 时间：2013-03-28T10:09:20.137

添加到上面的答案：保留错误消息（如权限被拒绝或类似）可能是一个更好的主意。只需在删除文件之前测试文件是否存在：

```
[ -f file.txt ] && rm file.txt 
```

这假定了一个类似 Bourne 的 shell，例如 bash。上面还有一个额外的好处，它不会尝试删除目录，这是`rm`做不到的。

* * *

## 回答 #6

> 赞同：5
> 
> 时间：2014-02-19T14:50:02.390

试试这个命令：

```
rm -f tempfl.txt 
```

-f 选项的作用如下：

```
-f, --force  ignore nonexistent files, never prompt 
```

如果文件不存在，该命令也不会报告非零错误代码。

# php - PHP GDAL/OGR 库的使用，哪种方法更干净？

> ID：15678797
> 
> 赞同：5
> 
> 时间：2013-03-28T09:57:31.350
> 
> 标签：php, gdal, ogr

我将在一个新项目中使用 gdal/ogr。我想要一个精简但功能齐全的应用程序，因此不会使用其他实现，例如 mapserver，因为它们有一些无关组件，我怀疑应用程序甚至将来都需要这些组件。作为记录，它是一个 GIS，但我在这里问 SO，因为在 php 中使用 [GDAL/OGR的 GIS 示例很少](https://gis.stackexchange.com/questions/55543/using-gdal-ogr-exes-in-php)

**我基本上有三个选择：**

*   使用 php 的 exec() 函数来运行命令行转换工具

*   使用 swig 生成一个 .dll 并将其作为扩展加载到 php 上

*   使用由geonfr @ [https://github.com/geonef/php5-gdal/wiki编写的php wrapper](https://github.com/geonef/php5-gdal/wiki)

您认为哪种方式是实现该库的最有效方式？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-25T05:20:37.400

我最终使用了 exec 函数，主要是因为没有时间进行 swig 或 php 扩展开发，这是我个人的首选方法。// 这里是它的用法的一个小示例片段，希望它对其他人有用

```
public function convertToNewFormat($format)
        {
                return(
                    exec('ogr2ogr -f '
                        .$format
                        .' '.self::setNewFileLocation()
                        .' '.self::setOldFileLocation()));

        } 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2016-06-15T18:47:44.580

您可以使用 Symfony Process-Component，避免使用普通的 exec 命令。
它有很好的语法并且非常容易使用。

[http://symfony.com/doc/current/components/process.html](http://symfony.com/doc/current/components/process.html)

```
$process = new Process('ls -lsa');
$process->run();

// executes after the command finishes
if (!$process->isSuccessful()) {
    throw new ProcessFailedException($process);
}

echo $process->getOutput(); 
```

# javascript - Rails morris.js 图表不工作

> ID：15678798
> 
> 赞同：0
> 
> 时间：2013-03-28T09:57:36.680
> 
> 标签：javascript, jquery, ruby-on-rails, charts, morris.js

我试图使用 morris.js 和 javascript 使图表在我的 HRM 应用程序中工作...根据 railcasts 剧集图表剧集，咖啡脚本对我不起作用，因为它破坏了我的整个应用程序...所以不能使用它...： ( ...

好吧，这是我的 ERB 文件（要点）... [https://gist.github.com/SkyKOG/5261972](https://gist.github.com/SkyKOG/5261972)

这就是图表的显示方式[http://i.imgur.com/jXgmBas.png](http://i.imgur.com/jXgmBas.png) ...请注意 JSON 显示正确，但现在我愚蠢地只是在 morris 脚本标记中硬编码 json 数据（请看要点）...而不是使用**$('#genders_chart').data('emp_spec_views')**如剧集中所示（这对我来说没有任何意义）...

所以我需要知道如何正确获取脚本中的数据，以便正确呈现图形......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-31T21:03:39.103

我终于为它工作了，并认为我应该在这里发帖以谋取他人的利益:) ...

[https://github.com/oesmith/morris.js/issues/204](https://github.com/oesmith/morris.js/issues/204)

学分：tiraeth ...

# .net - 将 WinForm Landscape 打印到默认打印机

> ID：15678801
> 
> 赞同：0
> 
> 时间：2013-03-28T09:57:51.213
> 
> 标签：.net, vb.net, winforms, visual-studio-2010, visual-studio

我正在尝试通过单击按钮在 VB.NET 中打印用户表单。

我添加了“PrintForm”电源组并简单地使用：

```
PrintForm1.Print() 
```

这会将表单打印到预览窗口中，但是会从右侧丢失一大块图像

是否有一行简单的代码可以伴随它以确保它是横向打印的？

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T13:48:44.963

在打印表单之前，请尝试设置它。试试这个：

```
Me.PrintForm1.PrinterSettings.DefaultPageSettings.Landscape = True 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T10:01:19.047

```
PrintForm1.PrintAction = Printing.PrintAction.PrintToPreview
PrintForm1.Print(Me, PowerPacks.Printing.PrintForm.PrintOption.Scrollable) 
```

实际上像打印表格这样的代码很容易在 GOOGLE.com 上找到。有时我们得到一堆代码，但如果你认真和耐心地搜索它。你可以找到所有你需要的东西，除非你认为这是不可能的

# symfony - Symfony2：路由中的区域设置和子域主机模式

> ID：15678811
> 
> 赞同：1
> 
> 时间：2013-03-28T09:58:35.347
> 
> 标签：symfony, routing, url-routing, locale, symfony-2.2

我似乎对 Symfony2 路由中的语言环境和子域模式的某些方面有误解。

为什么这不起作用？

```
routing_de:
    host: "dev.de.example.com" 
    resource: "@AcmeDemoBundle/Resources/config/routing_de.yml"
    prefix: /

routing_en:
    host: "dev.en.example.com" 
    resource: "@AcmeDemoBundle/Resources/config/routing_en.yml"
    prefix: / 
```

另外我想根据子域设置语言环境。我会假设这样会设置默认语言环境：

```
routing_de:
    host: "dev.{_locale}.example.com" 
    resource: "@AcmeDemoBundle/Resources/config/routing_{_locale}.yml"
    requirements:
         _locale: de|en
    prefix: / 
```

即使我使用[此处描述的子域侦听](https://stackoverflow.com/questions/5366234/symfony2-routing-route-subdomains)器（并将其调整为 Symfony2.2），我也只能在 Controller 中设置 _locale。不知何故，Twig 获得了与控制器不同的语言环境

```
<a href="{{ path('register', {'_locale': app.request.attributes.get('_locale')}) }} ">Register</a> 
```

将返回 en，同时

```
$this->getRequest()->getLocale(); 
```

将返回我在子域侦听器中设置的默认语言环境。

**编辑 2013/04/02** 我试图重新实现这个解决方案（[http://www.ricardclau.com/2011/09/littleweb-a-small-project-in-symfony2-chapter-1-translations/](http://www.ricardclau.com/2011/09/littleweb-a-small-project-in-symfony2-chapter-1-translations/)）并调整它子域，但这似乎也不起作用。

# jquery - 更改按键 jQuery 上的类值

> ID：15678812
> 
> 赞同：1
> 
> 时间：2013-03-28T09:58:35.557
> 
> 标签：jquery, html, css, css-animations

我希望能够在按下某个键时更改特定类的 css 属性。在此示例中，我想将 css 属性`animation-play-state`从按下时更改`running`为。以下（毫不奇怪，我在 jQuery 上是垃圾）不起作用：`paused``spacebar`

```
$(document).bind("keypress", function(e) {
   if (e.keyCode == 49) {
      $('.object').css('animation-play-state', 'paused')
   };
}); 
```

谁能引导我走上正确的道路？谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-28T10:01:41.447

可能是因为空格键返回`32`，并且`e.which`在 jQuery 中被标准化，所以使用它：

```
$(document).on("keyup", function(e) {
   if (e.which == 32) {
      $('.object').css('animation-play-state', 'paused')
   }
}); 
```

[**FIDDLE**](http://jsfiddle.net/MBF5A/)（检查元素，应用样式）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T10:02:28.473

`keyCode`空格键的 32 。

# sql - RDBMS 中的键、索引、主键和聚集键之间的关系是什么？

> ID：15678815
> 
> 赞同：0
> 
> 时间：2013-03-28T09:58:42.510
> 
> 标签：sql, database-design, relational-database, rdbms

我对 RDBMS 中的这些术语感到非常困惑：键和索引：它们是同一个概念吗？例如：

```
CREATE TABLE FOO_TABLE (
    THE_KEY INTEGER PRIMARY KEY
    FOO INTEGER NOT NULL,
    BAR INTEGER NOT NULL,
    QUZ INTEGER UNIQUE,
    CONSTRAINT UNQ_FOO UNIQUE (FOO, BAR)
); 
```

在这个表中，哪个是键？哪个可以称为索引？此表中是否有“非主键”？他们如何提高搜索效率？谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T10:15:26.310

密钥用于唯一标识一条记录。主键是识别给定表中记录的主要方式，应该存在于数据库的每个表中。唯一键是附加键。

索引用于加速查询。通常会为每个键自动创建一个索引，因为使用键作为搜索条件非常常见。

在您的示例中，您有一个名为“THE_KEY”的单列主键和一个由“FOO”和“BAR”列组成的两列唯一键。您也应该有两个索引，每个键一个。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-28T10:13:16.403

[从我之前的](https://stackoverflow.com/questions/350950/multi-column-primary-keys/15565562#15565562)回答复制到一个不同但相关的问题。

1.  由于 Date、Codd 等人设计的用于描述概念模型（即实体、属性、关系、键）的术语已被供应商用来描述该模型的物理实现的属性（表、列），因此出现了混淆、记录、索引）。在我们讨论这个问题时，理解这两个域保持独立和可识别是至关重要的。
2.  第一范式表明每个关系在概念模型中都有一个主键。仅存在于物理模型中的人工密钥不符合条件；但请注意，一些所谓的人工钥匙不在物理模型中，而实际上在概念模型中。（这方面的一个例子是美国和加拿大的 SSN/SIN，因为没有它，概念模型中的唯一性就无法保证。）下面将详细介绍这一点，但为了避免混淆，我以后将概念模型中的主键称为自然钥匙。（多个候选者将是候选自然键。）
3.  当前 RDBMS 实现中的主键约束有多种用途。一种是对物理记录施加唯一性约束，以允许不属于此（物理）主键约束的所有字段就地更新；当自然键的字段可能随时间变化时，因此必须确保没有这样的字段成为物理模型中主键约束的一部分。
4.  主键约束的另一个用途是启用从相关表中的外键查找，这通过尽可能窄的主键约束来最有效地解决。为此，自然键对主键约束做出了糟糕的选择，因为它们通常太宽（人类可理解）而无法获得最佳索引大小和高度。
5.  由此我推断出一个推论：从概念模型到自然键的物理模型的最有效转换通常是唯一性约束与独特且不相交的人工主键约束相结合。请注意，在自然密钥需要具有人工组件的情况下（例如 SSN/SIN），需要有一个额外的人工主密钥约束，该约束完全驻留在物理模型中；这是因为有必要允许更改和/或重新分配外部可见的人工编号。（有多少人知道美国 SSN 在死后几个月会被重新使用？）

# javascript - 为什么没有调用我的 ember.js 路由模型？

> ID：15678817
> 
> 赞同：29
> 
> 时间：2013-03-28T09:58:51.863
> 
> 标签：javascript, ajax, json, model-view-controller, ember.js

我刚开始学习 Ember.js（购买了 PeepCode 截屏视频），并且从中学习得非常顺利，但是在尝试编写我的第一个 Ember 应用程序时遇到了问题。

这是（嵌套）路由映射：

```
App.Router.map(function () {
    this.resource('bases', { path: '/' }, function () {
        this.resource('base', { path: ':base_id' }, function () {
            this.resource('places', function () {
                this.resource('place', { path: ':place_id' });
            });
        });
    });
}); 
```

这允许这样的网址：domain.com/#/yokota-ab-japan/places/4c806eabd92ea093ea2e3872

`yokota-ab-japan`是基地的 id（日本的空军基地） `4c806eabd92ea093ea2e3872`是 Foursquare 上的场地的 id

当places 路由被命中时，我通过调用foursquare api 设置数据，遍历JSON 以创建一个App.Place 对象数组，并返回该数组。

```
App.PlacesRoute = Ember.Route.extend({
    model: function () {
        var placesData = Ember.A();
        $.getJSON('https://api.foursquare.com/v2/venues/search?ll=35.744771,139.349456&query=ramen&client_id=nnn&client_secret=nnn&v=20120101',
            function (data) {
                $.each(data.response.venues, function (i, venues) {
                    placesData.addObject(App.Place.create({ id: venues.id, name: venues.name, lat: venues.location.lat, lng: venues.location.lng }));
                });
            });

        return placesData;
    }
}); 
```

这似乎运作良好。我使用此模板显示 placesData 数组：

```
<script type="text/x-handlebars" data-template-name="places">
    <div>
        {{#each place in controller}}
            {{#linkTo 'place' place}}
                {{place.name}}
            {{/linkTo}}
        {{/each}}
    </div>

    {{outlet}}
</script> 
```

指向各个地点的`linkTo`链接，我想在其中显示有关地点的更多详细信息。这是我设置的用于提取有关单个地点的数据、填充单个 App.Place 对象并返回它的路线：

```
App.PlaceRoute = Ember.Route.extend({
    model: function (params) {
        console.log('place route called');

        var place;
        $.getJSON('https://api.foursquare.com/v2/venues/' + params.place_id + '?client_id=nnn&client_secret=nnn',
            function (data) {
                var v = data.response.venue;
                place = App.Place.create({ id: v.id, name: v.name, lat: v.location.lat, lng: v.location.lng });
            });

        return place;
    }
}); 
```

**我的问题是，`PlaceRoute`当用户单击指向它的链接时不会调用它，但是当在此路由上刷新页面时会调用它。**

根据 PeepCode Ember.js 截屏视频（在视频中约 12:25），它指出“控制器很少调用数据，路由对象处理它”，所以我认为我将 ajax 调用放在路线（我在网上看到了很多不同的教程，但是自从 Peepcode 咨询了 Ember.js 的创建者后，我将它作为我的主要学习资源）。

如果这不正确，或者可以做得更好，请告诉我。

* * *

## 回答 #1

> 赞同：49
> 
> 时间：2013-03-28T10:12:29.527

模型挂钩上的 Ember 文档：

> “你可以实现一个钩子，将 URL 转换为这条路由的模型。”

这解释了为什么只在页面刷新时调用模型挂钩。但这让很多人感到困惑:-)。因此，在这种情况下，这不是正确的钩子。我认为您应该在这种情况下使用 setupController 挂钩。试试这个：

```
App.PlaceRoute = Ember.Route.extend({
    setupController: function (controller, model) {
        console.log('place route called');

        var place;
        $.getJSON('https://api.foursquare.com/v2/venues/' + model.get('place_id') + '?client_id=nnn&client_secret=nnn',
            function (data) {
                var v = data.response.venue;
                place = App.Place.create({ id: v.id, name: v.name, lat: v.location.lat, lng: v.location.lng });
            });

        controller.set("model", place);
    }
}); 
```

我自己额外的 2 美分：**当通过 URL/直接浏览器导航进入应用程序时，为什么模型挂钩刚刚执行？**

Ember 假设，如果您使用`{{linkTo}}`. 在您使用的场所模板`{{#linkTo 'place' place}} {{place.name}} {{/linkTo}}`中。您正在将一个地点对象传递给您的路线。**Ember 假定这是您在执行模型钩子时会得到的同一个对象。**所以从 Embers 视图中不需要调用模型钩子。因此，如果您想在使用时执行检索逻辑，请`linkTo`使用`setupController hook`.

* * *

## 回答 #2

> 赞同：17
> 
> 时间：2015-11-09T09:22:22.890

强制 Ember 使用模型钩子；只需传递 id 而不是对象：

```
{{#link-to 'place' place.id}}
    {{place.name}}
{{/link-to}} 
```

由于 Ember 不再知道哪个对象与给定的 id 相关，Ember 将调用模型钩子（因此数据将从服务器加载）。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2014-12-05T17:26:40.163

基于 mavilein 的回答，但更短且适用于带有 Ember Data 的 Ember CLI ...

```
import Ember from 'ember';

export default Ember.Route.extend({
  setupController: function( controller, model ) {
    controller.set( "model", this.store.fetch( 'place', model.id ) );
  },
}); 
```

另请注意，fetch 方法仅适用于 Ember Data 1.0.0-beta.12。

[http://emberjs.com/api/data/classes/DS.Store.html#method_fetch](http://emberjs.com/api/data/classes/DS.Store.html#method_fetch)

# c# - radGridview 中的复选框列值

> ID：15678821
> 
> 赞同：1
> 
> 时间：2013-03-28T09:59:04.170
> 
> 标签：c#, winforms, datagridview, telerik

我正在使用 radGridView 并且正在构建分配给它的数据，我的意思是我正在创建列和行（不分配给数据源）。将数据添加到网格后，我添加了一个复选框列，用于检查多行（与多选想法相同，但使用复选框列），

所以这个列没有绑定到任何数据，它的值应该在运行时分配。当我尝试检索此复选框列值时，即使它被选中，结果也是 null，我使用此方法更新其值，但没有成功：

```
 private void radGridView1_ValueChanged(object sender, EventArgs e)
        {
            if(radGridView1.CurrentCell!=null)
                if(radGridView1.CurrentCell.ColumnInfo is GridViewCheckBoxColumn)
                    radGridView1.TableElement.Update(GridUINotifyAction.DataChanged);
        } 
```

我应该怎么做才能使复选框列的值不在 valueChanged 上而是在另一个按钮单击上？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-28T10:45:13.913

我不确定您是如何获得空值的，但是，在我的测试中，如果已分配复选框，则它们始终具有值：

```
public partial class Form1 : Form
{
    public Form1()
    {
        InitializeComponent();
        radGridView1.Columns.Add(new GridViewCheckBoxColumn() { Name = "CheckBoxCol" });
        radGridView1.Rows.Add(false);
        radGridView1.Rows.Add(true);
        radGridView1.Rows.Add(false);
        radGridView1.Rows.Add(true);
    }

    private void button1_Click(object sender, EventArgs e)
    {
        foreach (GridViewRowInfo row in radGridView1.Rows)
        {
            Console.WriteLine(row.Cells["CheckBoxCol"].Value);
        }
    }
} 
```

您能否提供一个小样本和如何重现该问题的信息？

# ember.js - ember js中的belongs_to用法

> ID：15678822
> 
> 赞同：1
> 
> 时间：2013-03-28T09:59:07.037
> 
> 标签：ember.js

我想在页面上显示每个操作的收入名称。我想我需要使用belongs_to，但我不知道如何。

我有两张桌子：

IncomeOperation: (id, sum, income_id) 收入: (id, name)

模型/income.js.coffee

```
EmberMoney.Income = DS.Model.extend
  name: DS.attr('string')
  description: DS.attr('string') 
```

模型/income_operation.js.coffee

```
EmberMoney.IncomeOperation = DS.Model.extend
  sum: DS.attr('number')
  incomeId: DS.belongsTo('EmberMoney.Income')  // I think i should be so 
```

路线/addincome_route.js.coffee

```
EmberMoney.AddincomeRoute = Ember.Route.extend
  model: ->
    EmberMoney.IncomeOperation.createRecord()
  setupController: (controller, model) ->
    controller.set('incomes', EmberMoney.Income.find())
    controller.set('operations', EmberMoney.IncomeOperation.find())
    controller.set('content', model) 
```

模板/addincome.handlebars

```
 {{#each operation in controller.operations}}
      <div>
        // **Here i want to show income name instead of ID**
        {{operation.incomeId}}
        {{operation.storageId}}
        {{operation.sum}}
        {{operation.date}}
      </div>
    {{/each}} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T10:30:42.497

我认为您需要更改`incomeId: DS.belongsTo('EmberMoney.Income')`为`income: DS.belongsTo('EmberMoney.Income')`.

在那之后，`{{operation.income.name}}`应该给你收入的名字。

# c++ - 将结构向量传递给函数

> ID：15678823
> 
> 赞同：5
> 
> 时间：2013-03-28T09:59:22.310
> 
> 标签：c++

我正在努力弄清楚如何以简单而优雅的方式将 Struct 的 Vector 传递给函数。代码如下所示：

```
struct cube{ double width; double length; double height; };
vector<cube> myVec;
int myFunc(vector<double> &in)
{
// do something here
}
int test = myFunc(myVec.width); // NOT POSSIBLE 
```

所以我想要的只是将宽度向量传递给函数并执行一些计算。这是可能的还是我必须将完整的向量 fo 结构传递给函数 myFunc()？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-28T10:04:36.083

如果您想使用结构的字段之一执行一些计算，那么您必须告诉 `myFunc`它需要使用哪个字段。像这样：

```
void myFunc( std::vector< cube > & vect, double cube::*field ) {
    for ( cube & c : vect ) {
        c.*field // <--- do what you want
    }
}
// calling
myFunc( myVect, & cube::width );
myFunc( myVect, & cube::length );
// etc. 
```

顺便说一句，即使字段类型不同，但它们可以在公式中`myFunc`使用，您仍然可以`myFunc`通过将其设为模板来使用：

```
template< typename FieldType >
void myFunc( std::vector< cube > & vect, FieldType cube::*field ) {
    for ( cube & c : vect ) {
        c.*field // <--- do what you want
    }
}
// calling will be similar to the first piece 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-28T10:01:15.343

您必须创建一个包含向量中所有`width`元素的新`myVec`向量。

你可以使用[`std::transform`](http://en.cppreference.com/w/cpp/algorithm/transform)并[`std::back_inserter`](http://en.cppreference.com/w/cpp/iterator/back_inserter)做到这一点。

```
std::vector<cube> myVec;
std::vector<double> myWidthVector;

std::transform(std::begin(myVec), std::end(myVec),
               std::back_inserter(myWidthVector),
               [](const cube& c) { return c.width; });

myFunc(myWidthVector); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-28T10:02:41.940

您需要像在 myFunc 中所做的那样传递向量。但是，当您传递引用时，不会产生额外的开销。在函数中，您可以调用

```
in[position].width; 
```

或类似的。

编辑：正如 Aloc 指出的那样：如果您不打算更改内容，则应该传递对 const 的引用。

# php - Codeigniter URL index.php 两次

> ID：15678826
> 
> 赞同：0
> 
> 时间：2013-03-28T09:59:30.413
> 
> 标签：php, codeigniter

嗨 evrybody '我是 codeigniter 和 MVC 模型的新手，我需要帮助才能让我的项目正常工作，因为我遇到了这个问题：

1）我在主页，我点击“关于”页面的链接，css文件似乎没有加载。即使我在头部包含css，页面中仍然缺少图像。

2）在配置文件中我设置了 $config['base_url'] = ''; $config['index_page'] = 'index.php'; 现在，如果我在 about 页面中，并且我再次单击 about 链接，则该链接丢失了，因为我在菜单中设置了链接： About 和 index.php 它被加载了两次： localhost/mywebsite/index.php/index .php/关于。如果我在我需要的页面中，我可以设置条件以切断链接，但我想知道是否有更礼貌的解决方案，并希望解决方案不是将我的手放在 mod_rewrite 中。

我会喜欢 codeigniter，因为它似乎很容易配置并且非常便携。即使它很简单，我也不知道如何解决这个问题

谢谢大家的时间！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T10:24:08.163

即使是 CodeIgniter 的新手。我正面临css问题。我将 css 文件添加到位于根目录的单独文件夹中。我通过添加`$this->load->helper('url');`页面的控制器功能解决了这个问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-29T06:48:17.643

只需添加

```
> <?php echo base_url();?> 
```

在或或 URL 链接之前

```
> (example: <script src="<?php echo
> base_url();?>assets/js/jquery-1.7.1.min.js"></script>) 
```

加载所有页面的链接并将页眉和页脚分隔在单独的文件中，这可以帮助您最大限度地减少页面内容。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-28T10:34:11.080

链接到这样的页面时`$config['base_url']`，您需要设置`config.php`并`http://www.yourdomain.com`提供完整路径：`css`

`<link rel="stylesheet" type="text/css" href="<?php echo base_url();?>resources/css/file.css">`

# java - 是否可以以编程方式禁用 log4j 的一种方法和它将调用的方法？

> ID：15678827
> 
> 赞同：3
> 
> 时间：2013-03-28T09:59:32.507
> 
> 标签：java, log4j, profiling

有巨大的网络应用程序。当用户与 Web 应用程序交互时，大部分函数只调用一次，因此不存在性能问题。我编写了新的“从文件导入”方法，它从系统调用了很多次不同的方法。我不想修改其他人的方法，也不想禁用 log4j。从文件导入将很少使用，并且被视为附加组件，而不是主要功能。因此，我遇到了性能问题。在分析之后，我发现 log4j 使用了几乎 22% 的时间。

是否可以以编程方式禁用 log4j 的一种方法和它将调用的方法？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-28T10:05:17.357

我认为出于性能原因，您应该替换这样的调用：

```
 log.debug("some informantion: " + objA); 
```

有了这个：

```
if(log.isDebugEnabled()) {
   log.debug("some informantion: " + objA);
} 
```

或者，您可以使用这样的 FormatLogger 类：[https ://stackoverflow.com/a/105908/548225](https://stackoverflow.com/a/105908/548225)

### 编辑

要以编程方式禁用日志记录，您可以使用如下代码：

```
Logger.getLogger("your.logger.name").setLevel(Level.OFF);
Logger.getRootLogger().setLevel(Level.OFF); 
```

# java - JAVA Swing onclick 打开一个新窗口/JFrame

> ID：15678829
> 
> 赞同：1
> 
> 时间：2013-03-28T09:59:40.773
> 
> 标签：java, eclipse, swing, jtable, jdialog

打开新窗口/Jframe（即在另一个类中...Table_Edit），我有另一类包含一个按钮的图像。当我单击应该弹出一个窗口 Table_Edit 的按钮时，我想要类似的东西。包构建；

```
import java.awt.*;

import javax.swing.*;
import com.jgoodies.forms.layout.FormLayout;
import com.jgoodies.forms.layout.ColumnSpec;
import com.jgoodies.forms.layout.RowSpec;
import com.jgoodies.forms.factories.FormFactory;
import javax.swing.table.DefaultTableModel;
import javax.swing.border.TitledBorder;

public class Table_Edit {
private JTextField textField;
private JTable table;

public Table_Edit()
{
    JFrame frame = new JFrame("Table");
    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);

    frame.setSize(600,400);
    frame.getContentPane().setLayout(new FormLayout(new ColumnSpec[] {
            FormFactory.RELATED_GAP_COLSPEC,
            FormFactory.DEFAULT_COLSPEC,
            FormFactory.RELATED_GAP_COLSPEC,
            FormFactory.DEFAULT_COLSPEC,
            FormFactory.RELATED_GAP_COLSPEC,
            FormFactory.DEFAULT_COLSPEC,
            FormFactory.RELATED_GAP_COLSPEC,
            FormFactory.DEFAULT_COLSPEC,
            FormFactory.RELATED_GAP_COLSPEC,
            FormFactory.DEFAULT_COLSPEC,
            FormFactory.RELATED_GAP_COLSPEC,
            FormFactory.DEFAULT_COLSPEC,
            FormFactory.RELATED_GAP_COLSPEC,
            FormFactory.DEFAULT_COLSPEC,
            FormFactory.RELATED_GAP_COLSPEC,
            FormFactory.DEFAULT_COLSPEC,
            FormFactory.RELATED_GAP_COLSPEC,
            FormFactory.DEFAULT_COLSPEC,
            FormFactory.RELATED_GAP_COLSPEC,
            ColumnSpec.decode("default:grow"),
            FormFactory.RELATED_GAP_COLSPEC,
            ColumnSpec.decode("default:grow"),},
        new RowSpec[] {
            FormFactory.RELATED_GAP_ROWSPEC,
            FormFactory.DEFAULT_ROWSPEC,
            FormFactory.RELATED_GAP_ROWSPEC,
            RowSpec.decode("default:grow"),
            FormFactory.RELATED_GAP_ROWSPEC,
            RowSpec.decode("default:grow"),}));

    JLabel lblTableName = new JLabel("Table Name :");
    frame.getContentPane().add(lblTableName, "2, 2, right, default");

    textField = new JTextField(40);
    textField.setComponentOrientation(ComponentOrientation.LEFT_TO_RIGHT);
    frame.getContentPane().add(textField, "4, 2, left, center");
    textField.setColumns(10);

    JScrollPane scrollPane = new JScrollPane();
    frame.getContentPane().add(scrollPane, "5, 4, 17, 1, fill, fill");

    table = new JTable();
    table.setFillsViewportHeight(true);
    scrollPane.setViewportView(table);
  table.setBorder(new TitledBorder(null,, TitledBorder.CENTER,TitledBorder.TOP,null,          

  null));
    table.setColumnSelectionAllowed(true);
    table.setCellSelectionEnabled(true);
    table.setSelectionMode(ListSelectionModel.SINGLE_INTERVAL_SELECTION);
    table.setModel(new DefaultTableModel(
        new Object[][] {
            {null, null, null, null},
            {null, null, null, null},
            {null, null, null, null},
            {null, null, null, null},
            {null, null, null, null},
            {null, null, null, null},
            {null, null, null, null},
            {null, null, null, null},
            {null, null, null, null},
            {null, null, null, null},
            {null, null, null, null},
            {null, null, null, null},
            {null, null, null, null},
            {null, null, null, null},
        },
        new String[] {
            "Column Name", "Data Type", "NN", "PK"
        }
    ) {
        Class[] columnTypes = new Class[] {
            String.class, Object.class, Boolean.class, Boolean.class
        };
        public Class getColumnClass(int columnIndex) {
            return columnTypes[columnIndex];
        }
    });
    table.getColumnModel().getColumn(0).setResizable(false);
    table.getColumnModel().getColumn(0).setPreferredWidth(106);
    table.getColumnModel().getColumn(1).setResizable(false);
    table.getColumnModel().getColumn(1).setPreferredWidth(92);
    table.getColumnModel().getColumn(2).setResizable(false);
    table.getColumnModel().getColumn(2).setPreferredWidth(26);
    table.getColumnModel().getColumn(3).setResizable(false);
    table.getColumnModel().getColumn(3).setPreferredWidth(30);

    JPanel panel = new JPanel();
    frame.getContentPane().add(panel, "22, 6, right, fill");

    JButton btnNewButton = new JButton("Save");
    btnNewButton.setMaximumSize(new Dimension(33, 19));
btnNewButton.setIcon(newImageIcon(Table_Edit.class.getResource("/com/sun/java/swing/

plaf/windows/icons/TreeOpen.gif

 ")));
    panel.add(btnNewButton);

    JButton btnNewButton_1 = new JButton("Exit");
btnNewButton_1.setIcon(newImageIcon(Table_Edit.class.getResource("/javax/swing/plaf/
metal/icons/ocean/close.gif")));
    panel.add(btnNewButton_1);
    frame.setVisible(true);    
}
public static void main(String[] args)
{
    new Table_Edit();
}
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-28T10:21:10.433

尝试`ActionListener`在按钮上添加一个。

```
button.addActionListener(new ActionListener() {
    //This method will be called whenever you click the button.
    public void actionPerformed(ActionEvent e) {
        new Table_Edit();
    }
}); 
```

# android - 1 字节 utf-8 序列错误的无效字节 1

> ID：15678834
> 
> 赞同：0
> 
> 时间：2013-03-28T10:00:03.750
> 
> 标签：android

我有 build.xml，当我尝试使用 ant

```
d:\project_foldr\ant all 
```

在cmd中，我得到

```
BUILD FAILED
    Error reading project file d:\project_foldr\build.xml: Invalid byte 1 of 1-byte utf-8 sequence. 
```

我用谷歌搜索了一下，发现该文档实际上并未以 UTF-8 编码，我该如何纠正这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T18:59:55.983

使用合适的编辑器，例如[Notepad++](http://notepad-plus-plus.org)。在这里，您可以在几种编码之间进行转换。您的文件似乎包含一些“特殊”字符（非 ascii，如“ü”），并且以某种本地编码而不是 utf8 格式保存。确保在您的编辑器中，utf8 是所有 Java/ant 文件的默认编码。

# android - 到达 ScrollView 底部时如何检测事件？

> ID：15678835
> 
> 赞同：1
> 
> 时间：2013-03-28T10:00:01.577
> 
> 标签：android, android-layout

我想检测事件 MyScrollView 到达底部。

像 Listview 代码

```
getListView().setOnScrollListener(new OnScrollListener() {
    @Override
    public void onScroll(AbsListView view, int firstVisibleItem, int visibleItemCount, int totalItemCount) {
        if (totalItemCount == firstVisibleItem + visibleItemCount) {// reach scroll bottom
} 
```

如何？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T10:11:52.957

这个[链接](https://stackoverflow.com/questions/4953692/android-detecting-when-scrollview-hits-bottom) 可以帮助你找到滚动视图中的最后一个位置。你现在可以试试这个

# jquery - jQuery验证器 - 无法调用未定义错误的方法“调用” - 同时动态添加验证

> ID：15678839
> 
> 赞同：10
> 
> 时间：2013-03-28T10:00:12.487
> 
> 标签：jquery, jquery-validate

这是我动态更新 jQuery 验证的代码。在文档加载中，我创建了验证。此代码用于动态更新电话号码验证。应用此验证后，当我在电话号码文本框中输入任何内容时，我得到无法调用未定义错误的方法“调用”。

```
 $("#phone").rules("remove");

$("#phone")
  .rules(
  "add",
  {
    required:true,
    minlength:5,
    maxlength:20,
    phoneUS:true,
    messages:{
    required: "Enter company phone number",
    minlength:"Phone number should contain a minimum of 5  characters",
    maxlength:"Phone number should contain a maximum of 20  characters",
    phoneUS:"Enter valid phone number"
  }

  }); 
```

提前致谢。如何解决这个问题？

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2013-03-28T15:18:51.017

有四个潜在的问题。

1）您缺少该`messages`部分的右括号。

```
$("#phone").rules("add", {
    required: true,
    phoneUS: true,
    messages: {
        required: "Enter company phone number",
        phoneUS: "Enter valid phone number"
    } //<-- this was missing 
}); 
```

**演示：http: [//jsfiddle.net/A8HQU/2](http://jsfiddle.net/A8HQU/2/)**

2) 存在[一个已知错误](https://github.com/jzaefferer/jquery-validation/issues/668)，`messages`使用该`rules('add')`方法添加会破坏插件和/或规则。确保您包含**jQuery Validate 版本 1.11.1**或更高版本。

3)`phoneUS`规则要求[包含`additional-methods.js`文件](http://ajax.aspnetcdn.com/ajax/jquery.validate/1.11.1/additional-methods.js)。

4)`rules('add')`方法必须*在*`.validate()`初始化函数之后。

**注意**：

您正在使用该`phoneUS`规则，因此`minlength`完全`maxlength`是多余的，因为该`phoneUS`规则已经在寻找精确的格式/长度。

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2014-07-17T23:24:53.580

我有同样的问题，但原因不同。当我设置规则“re​​quire：true”而不是“required：true”时，也会发生同样的问题。

当您在规则中指定没有相应方法的验证时，会发生此错误。通过调试我发现异常显示我通过方法名称指定了一个规则“re​​quire”是“required”。它尝试访问 hashmap 中的方法，并尝试 .call() 即使没有找到该方法，这会导致异常。

如果插件作者在这种情况下简单地抛出一个自定义错误，指出“规则'要求'没有方法”，那么调试和识别错字会更容易。

即使字段无效，这也是插件提交臭名昭著的问题的相同原因。查看并为我的问题报告投票 - [https://github.com/jzaefferer/jquery-validation/issues/1212](https://github.com/jzaefferer/jquery-validation/issues/1212)

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2015-05-28T22:05:55.153

作为一个相关的错误，如果您添加自定义规则，请使用：

```
$.validator.addMethod('field-is-valid', function (val, element) { ...}) 
```

但随后在您的规则声明中使用错误的名称引用它：

```
$(element).rules('add', {
    "field-valid": true
}) 
```

你会得到同样的结果`Cannot call method call of undefined`。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2016-02-13T00:24:13.717

我最近两次遇到了类似的问题，并且花了很多时间试图弄清楚，所以我将在这里留下一个简单的解决方案。如果版主认为这不是正确的地方，请告诉我。

运行此示例代码时发生错误：

```
$(document).ready(function () {

    $.validator.addMethod("numberEqualTo", function (value, element, parameter) {
        return parseInt(value) === parseInt(parameter);
    }, "Values must match");

    $("#example2").validate({
        focusInvalid: false,
        onkeyup: true,
        onfocusout: true,
        errorElement: "div",
        errorPlacement: function (error, element) {
            error.appendTo("div#errors");
        },
        rules: {
            "example2-fullname": {
                required: true,
                minlength: 5
            },
            "example2-phone": {
                required: true,
                number: true
            },
            "example2-zip": {
                required: true,
                number: true,
                rangelength: [3, 5]
            },
            "example2-value": {
                required: true,
                number: true,
                numberEqualTo: 10
            }
        },
        messages: {
            "example2-fullname": {
                required: "You must enter your full name",
                minlength: "First name must be at least 5 characters long"
            },
            "example2-phone": {
                required: "You must enter your phone number",
                number: "Phone number must contain digits only"
            },
            "example2-zip": {
                required: "You must enter your zip code",
                number: "Zip code must contain digits only",
                rangelength: "Zip code must have between 3 to 5 digits"
            },
            "example2-value": {
                required: "You must enter your value",
                number: "Value must be a digit",
                numberEqualTo: "Value must be equal to 10"
            }
        }
    });
}); 
```

为什么？出于某种原因，如果您明确指定：

```
onkeyup: true,
onfocusout: true, 
```

程序将抛出上述异常。当您将以上选项中的任何一个或两个都设置为“真”时，就会出现这种情况。另一方面，如果您将 BOTH 设置为 'false' 或 ONE 设置为 'false' 并删除另一个，它将按预期工作。

最重要的是：如果您删除或注释掉这些选项中的任何一个，您删除的选项将被设置为默认值，即“真”并且不会抛出任何错误。因此可以完全按照这种方式自定义验证插件您需要，您只需要记住不要将这些选项明确设置为“真”。

我希望这会对某人有所帮助，尽管这个特定用户在这个问题中的实际问题已经得到解决。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-28T11:05:17.657

上面的代码不起作用，因为它`}`在属性列表之后丢失。

* * *

## 回答 #6

> 赞同：-2
> 
> 时间：2015-05-08T15:47:59.107

您还需要添加此附加方法

[http://ajax.aspnetcdn.com/ajax/jquery.validate/1.13.1/additional-methods.js](http://ajax.aspnetcdn.com/ajax/jquery.validate/1.13.1/additional-methods.js)

# java - 如何单独更新我的 apk，而不关闭我的旧应用程序？

> ID：15678840
> 
> 赞同：0
> 
> 时间：2013-03-28T10:00:17.160
> 
> 标签：java, android, google-play

我将我的应用程序放在 google play store 中，由于某些原因，它显示了一些错误。现在我做了这些更正，我想更新新的 apk，而不减少我的旧下载数量及其评级和评论。这可以更新吗apk 不减少旧下载

```
 <?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.ibetter.recipestutors"
    android:versionCode="1"
    android:versionName="1.1" > 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T10:03:15.177

您只需在清单中增加您的应用程序版本代码。但保持相同的包名：

```
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="dont change the package name"
    android:installLocation="auto"
    android:versionCode="increase by 1 every time you want to upload new apk"
    android:versionName="this can remain same but better change depending on the versionCode" 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-28T10:03:22.937

要更新您的应用程序，只需导出一个新的 apk 并使用与您的原始 apk 相同的证书对其进行签名。确保您已增加版本代码。

更新应用程序不会影响其下载次数。您的应用仍将具有相同的下载统计信息，任何仍安装该应用的用户都将通过 Google Play 收到更新通知，允许他们更新应用。

# ruby-on-rails - 如何找到我的开发数据库的名称？(PostgreSQL/Rails)

> ID：15678842
> 
> 赞同：0
> 
> 时间：2013-03-28T10:00:18.593
> 
> 标签：ruby-on-rails, macos, postgresql, heroku

我正在调整我在某处找到的 bash 脚本，用于下载 Heroku 上的数据库内容并将它们导入到您的开发环境中。

```
#!/bin/bash
heroku pgbackups:capture --expire --app testivate
file_path="db_$(date +%Y_%m_%d-%H_%M_%S).dump"
curl `heroku pgbackups:url --app testivate` > $file_path
pg_restore --verbose --clean --no-acl --no-owner -h localhost -U steven -d DATABASENAME $file_path 
```

我的问题是，有没有可以运行的命令来查找我的开发数据库的名称？

在`/config/database.yml`我有：

```
development:
  adapter: postgresql
  database: db/testivate_development
  pool: 5
  username: steven
  password: <redacted>
  host: localhost 
```

因此，正如我的名字，我尝试了“steven”、“db/testivate_development”和“testivate_development”，但都给出了“数据库不存在”错误。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T10:10:35.720

我可以建议您使用 pg:transfer heroku 客户端插件。[https://github.com/ddollar/heroku-pg-transfer](https://github.com/ddollar/heroku-pg-transfer)

这让您可以：

```
heroku pg:transfer --from VIOLET 
```

在您的项目文件夹中，您有一个 .env 文件，其中包含

```
DATABASE_URL=postgres://127.0.0.1/development_db_name 
```

它结束了捕获，为您恢复。VIOLET 是 Heroku 上的 DB url 的名称（来自`heroku config`。其余的应该是不言自明的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T10:11:38.553

[https://devcenter.heroku.com/articles/heroku-postgresql](https://devcenter.heroku.com/articles/heroku-postgresql)

此页面上的文档显示了如何查找此信息。Heroku 不使用配置文件中的数据库名称，它创建自己的名称和密码，基本上是随机字符串。

# spring - Spring 没有注入我的 bean

> ID：15678847
> 
> 赞同：0
> 
> 时间：2013-03-28T10:00:30.567
> 
> 标签：spring, dependency-injection

我的会计示例有什么问题？Calculator bean 不会被注入到 Account 中。存款方法中存在空指针异常，因为计算器为空。

```
@RunWith(SpringJUnit4ClassRunner.class)
@ContextConfiguration(locations = "classpath:/META-INF/spring/context.xml")
public class DITestJavaTest extends Assert {
    @Test
    public void diTest() {
        Account account = new Account(500);
        account.deposit(500);
        assertEquals("balance is 1000", 1000, account.getBalance(), 0.0001);
    }
} 
```

```
public class Account {

    @Autowired
    private ICalculator calculator;

    private double balance;

    public Account() {
        balance = 0;
    }

    public Account(double balance) {
        this.balance = balance;
    }

    public void deposit(double amount) {
        balance = calculator.add(balance, amount);
    }

    public void withdraw(double amount) {
        balance = calculator.subtract(balance, amount);
    }

    public double getBalance() {
        return balance;
    }

} 
```

```
@Component
public class Calculator implements ICalculator {

    @Override
    public double add(double summand1, double summand2) {
        System.out.println("Main implementation with " + Calculator.class.getName() + "addition");
        BigDecimal result = round(summand1 + summand2);
        return result.doubleValue();
    }

    @Override
    public double subtract(double minuend, double subtrahend) {
        System.out.println("Main implementation with " + Calculator.class.getName() + "subtraction");
        BigDecimal result = round(minuend - subtrahend);
        return result.doubleValue();
    }

    private BigDecimal round(double amount) {
        return new BigDecimal(amount).setScale(2, BigDecimal.ROUND_HALF_UP);
    }

} 
```

```
<beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:context="http://www.springframework.org/schema/context"
    xsi:schemaLocation="http://www.springframework.org/schema/beans
     http://www.springframework.org/schema/beans/spring-beans.xsd
     http://www.springframework.org/schema/context
     http://www.springframework.org/schema/context/spring-context.xsd">

    <context:component-scan base-package="org.example.banking" />
    <context:annotation-config />

</beans> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-28T11:30:15.087

```
@RunWith(SpringJUnit4ClassRunner.class)
@ContextConfiguration(locations = "classpath:/META-INF/spring/context.xml")
public class DITestJavaTest extends Assert {

@Autowired
Account account

@Test
public void diTest() {
    account.deposit(500);
    account.deposit(500);
    assertEquals("balance is 1000", 1000, account.getBalance(), 0.0001);
} 
```

}

不要在测试中初始化帐户。这样它就不是由 Spring 管理的，并且`Calculator`永远不会被注入

并按照建议，`Account`用`@Component`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T10:04:15.390

You need to anotate `Account` class as well to tell spring that it contains annotated member.

Somethng like

```
@Component 
public class Account { ... } 
```

# .net - 将 EXE 文件转换为 MSi 及其所有依赖项

> ID：15678860
> 
> 赞同：0
> 
> 时间：2013-03-28T10:01:03.847
> 
> 标签：.net, windows, exe

我有一个 exe 文件，但它在 sperate 文件夹中有一些依赖文件，我需要将其添加到 MSI，其中也包括这些依赖文件，以便我可以从网络运行它到所有系统。请提供任何帮助。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-28T10:04:31.097

You're going to want to create a setup package. Here is a tutorial that should be what you need.

[http://support.microsoft.com/kb/307353](http://support.microsoft.com/kb/307353)

# opencl - 用 QT5 编译 QtOpenCL

> ID：15678864
> 
> 赞同：2
> 
> 时间：2013-03-28T10:01:16.920
> 
> 标签：opencl, qmake, qt5

有人设法使用 Qt5（可能在 Window 下）编译[QtOpenCL库吗？](http://qt.gitorious.org/qt-labs/opencl)

**编辑**：我设法通过将代码移植到 QT5 来编译代码。我在问题中留下了我想在我的方法中替换的脏部分，并描述了我在答案中做了什么。

我无法提供我的 opencl 安装的包含路径，所以我

通过添加行手动修改 src/opencl/opencl.pro

```
INCLUDEPATH += " *[absolute path to the openCL include folder]* "
QMAKE_LIBDIR_OPENCL = "*[absolute path to the opencl lib folder]*" 
```

通过添加行手动修改 src/openclgl/openclgl.pro

```
INCPATH += " *[absolute path to the openCL include folder]* "
QMAKE_LIBDIR_OPENCL = "*[absolute path to the opencl lib folder]*" 
```

任何人都知道如何以更清洁的方式解决此问题？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-28T11:31:14.970

以下是我必须介绍的更改：

1.  修改 .pro 文件以添加 OpenCL 库。这对我来说仍然是一个悬而未决的问题。如何以更清洁的方式解决此问题？

2.  将项目（opencl.pro 和 openclgl.pro）链接到额外的 Qt 模块 QtConcurrent：

    QT += 并发

3.  通过删除包来修复#include 样式，例如，`#include <qtconcurrentrun.h>` 而不是旧的`#include <QtCore/qtconcurrentrun.h>`

4.  通过分别将 qMalloc、qfree、qMemCopy 替换为 std::malloc、std::free、std::memcpy 来修复 qclvector.cpp

    此外，将构造函数中 ref 的初始化从 ref = 1 修改为 ref.store(1);

5.  删除所有宏**QT_LICENSED_MODULE**

这足以使用 QT5 至少编译 QtOpenCL 和 QtOpenCLGL

# c++ - C++图像分析+按键

> ID：15678870
> 
> 赞同：1
> 
> 时间：2013-03-28T10:01:27.123
> 
> 标签：c++, image, bmp, poker

我有一个想法，要制作一个程序来分析正在运行的程序，做出决定并按下该程序中的三个按钮之一。

我想问一下：

**A)**图像分析应该如何工作？

我的想法是截取一个窗口的屏幕截图，找出该程序在哪里（*如何？*）并找出我有什么牌（扑克应用程序）（*如何？*）

**B）**另一个程序如何按下屏幕特定区域的按钮？

（我很新，所以我想边做边学）

感谢您的任何想法或帮助！

截屏后我不知道从哪里开始。（有一个JPG，但正如我在stackoverflow上阅读的那样，bmps更适合图像分析）

是的，我想做一个扑克机器人，奇怪的计数器，谁知道我接下来会想到什么。不是为了作弊，我的意思是，我喜欢扑克，我不想作弊，我自己玩没有任何机器人，我只是想知道东西是如何运作的，现在我想尝试在我的自己的。谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T10:16:09.460

您肯定希望开发[**计算机视觉**](http://en.wikipedia.org/wiki/Computer_vision)应用程序。我建议您先阅读一下它，然后开始使用[**OpenCV**](http://opencv.org/)开发更简单的应用程序，这是解决计算机视觉问题最常用的库。在网页中，您可以找到许多可以帮助您开发最终应用程序的示例。祝你好运！

# javascript - 更改显示/隐藏文本

> ID：15678872
> 
> 赞同：4
> 
> 时间：2013-03-28T10:01:30.943
> 
> 标签：javascript, jquery

我有一些我想使用 jquery 显示/隐藏的内容。直到现在使用下面的代码：

```
$(document).on("click",".class", function(){
     $(this).next().slideToggle("fast"); 
      });

<div class="class"  Title="Click to view/hide all" id="flip">View &#9660;</div>
      <div class="class" id="panel"><table>
      Hello!! 
      </table>
      </div> 
```

我`div`创建了许多这样的视图，并且正在 for 循环中工作。我的显示/隐藏内容工作正常，但我想在用户点击时将文本（按钮上）更改为“显示”和“隐藏”。请帮忙。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-28T10:03:04.783

您可以使用[*三元条件运算符*](http://msdn.microsoft.com/en-us/library/ie/be21c7hw%28v=vs.94%29.aspx)在文本之间切换。

```
 $(document).on("click",".class", function(){
    $(this).next().slideToggle("fast");  
     $(this).text($(this).text() == 'view' ? 'hide all' : 'view');
  }); 
```

# android - 确定 WiFi 接入点和设备之间的距离

> ID：15678876
> 
> 赞同：4
> 
> 时间：2013-03-28T10:01:39.770
> 
> 标签：android

我需要知道我的手机和 WiFi 接入点之间的距离。这些点设置在相邻的房间中。我研究了地理位置，但现在已弃用...我的项目的基本设置包括 3 个 WiFi 接入点。我的代码正在获得最强的信号并连接到该接入点。

现在我需要知道那个接入点和我的手机之间的距离。帮助将不胜感激。谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-28T10:46:41.593

根据我的知识和以下答案，无法确定您的设备与 WiFi 接入点之间的距离。因为基本上他们不会在里面存储 GPS 位置。

*   [如何获取wifi热点的位置？](https://stackoverflow.com/questions/4086009/how-to-get-wifi-hotspots-location)
*   [在android中使用Wifi计算位置和距离](https://stackoverflow.com/questions/8921157/location-and-distance-calculation-using-wifi-in-android)

# mkmapview - MKpolyline not visible at MKMapKit

> ID：15678879
> 
> 赞同：0
> 
> 时间：2013-03-28T10:01:53.773
> 
> 标签：mkmapview

I have a problem with my MKPolyline.

I have added this code but I see no line. I get the coordinates form a webserver with a http-request. I save the coordinates as a double and show with that my annotations.

in the viewcontroller.h

```
@property (nonatomic, retain) MKPolyline *routeLine; 
@property (nonatomic, retain) MKPolylineView *routeLineView; 
```

in the viewcontroller.m

```
CLLocationCoordinate2D coordinateArray[7];
coordinateArray[0] = CLLocationCoordinate2DMake(theCoordinate0.latitude, theCoordinate0.longitude);
coordinateArray[1] = CLLocationCoordinate2DMake(theCoordinate1.latitude, theCoordinate1.longitude);
coordinateArray[2] = CLLocationCoordinate2DMake(theCoordinate2.latitude, theCoordinate2.longitude);
coordinateArray[3] = CLLocationCoordinate2DMake(theCoordinate3.latitude, theCoordinate3.longitude);
coordinateArray[4] = CLLocationCoordinate2DMake(theCoordinate4.latitude, theCoordinate4.longitude);
coordinateArray[5] = CLLocationCoordinate2DMake(theCoordinate5.latitude, theCoordinate5.longitude);
coordinateArray[6] = CLLocationCoordinate2DMake(theCoordinate6.latitude, theCoordinate6.longitude);

self.routeLine = [MKPolyline polylineWithCoordinates:coordinateArray count:7];
[self.mapView setVisibleMapRect:[self.routeLine boundingMapRect]]; //If you want the route to be visible

[self.mapView addOverlay:self.routeLine];

-(MKOverlayView *)mapView:(MKMapView *)mapView viewForOverlay:(id<MKOverlay>)overlay
{
    if(overlay == self.routeLine)
    {
        if(nil == self.routeLineView)
        {
            self.routeLineView = [[[MKPolylineView alloc] initWithPolyline:self.routeLine]autorelease];
            self.routeLineView.fillColor = [UIColor redColor];
            self.routeLineView.strokeColor = [UIColor redColor];
            self.routeLineView.lineWidth = 10;

        }

        return self.routeLineView;
    }

    return nil;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T07:06:36.193

您是否已验证您的地图视图已连接到屏幕上的地图视图（Interface Builder 中的 IBOutlet）？接下来要检查的是您是否设置了委托。`viewForOverlay`通过在函数中放置断点或调试语句来检查这一点。

PS 使用该代码，您将只能画一条线。它依赖于`self.routeLine`并且`self.routeLineView`您只有其中一个。

# css - How can I manipulate this CSS so the background color matches the header?

> ID：15678880
> 
> 赞同：0
> 
> 时间：2013-03-28T10:02:00.470
> 
> 标签：css

I'm using a text widget, Black Studio TinyMCE, in WordPress. For some reason, I cannot get the background color to match the background of the header (**#192E82**). Currently, the header looks like this -- as you can see, there's a white outline surrounding the text area:

![enter image description here](../Images/e3e3806f286d327eb60a700b215bbce5.png)

And when I Firebug the selection, Firebug shows this:

![enter image description here](../Images/083d9d6d4d49b46c2753b75be8df888b.png)

I can add whatever custom CSS I'd like to. But I'm not sure how to do so. I'm unsure which class I should use a **#** before, if any, or which class I should use a **.** before. Ultimately, I'd like to make that white area around the edge to match the background color of the header.

For instance, **this** doesn't work -- in fact, nothing I've tried works!

```
#widget-wrap .textwidget {
background-color:#192E82;
} 
```

Does anybody know how I can accomplish getting the white to match the header background? Any guidance would be appreciated!

**EDIT**: Here's a Fiddle of everything I could find:

[http://jsfiddle.net/jasonpaulweber/nvkVT/](http://jsfiddle.net/jasonpaulweber/nvkVT/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T10:08:22.853

仅包含信息很难给出准确的答案，但我会一次检查一个元素，从`<strong>`层次结构中的 和向上，并查找具有白色背景色和填充或厚白色的元素边界。如果你这样做，我相信你会发现它。一旦您确定了它，请告诉我，我会尝试帮助您使用 CSS 选择器来定位它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-28T14:36:49.823

根据小提琴，空白是 header-right 元素的填充

你应该设置

```
#header-right {
    background-color:#192E82;
} 
```

# android - Last actionbar tab partly obscured or not shown onscreen

> ID：15678888
> 
> 赞同：0
> 
> 时间：2013-03-28T10:02:09.870
> 
> 标签：android, android-layout, android-actionbar

I'm using the navigation tabs mode in an actionbar. The tabs are created dynamically along with the fragments which fill them.

My problem is shown in the screenshot below. The more tabs I have in the actionbar the more the last tab becomes obscured/covered. The last tab should read 10030\. The tabs start at 10000, so there are only 30 of them. If there are only 10 tabs the view seems okay. At 20 the last character becomes covered, at 100 tabs the entire last tab plus some of the 99th is covered.

This is a `FragmentActivity` using a `ViewPager` and `PagerAdapter`. This is done using the native actionbar not `ActionBarSherlock`. I'm using a split actionbar also.

Has anyone else ever had this issue? Or anything similar?

![screenshot](../Images/bdbd9b65eb349e6e5e3f0bc911e398f5.png)

This is running on a HTC One X on 4.0.3\. I have replicated this issue on another phone (Huawei G300 Ascend) running 4.0.4\. I have searched and found nothing related to this issue on this or any other site.

# c# - 在序列化时使用 JsonIgnore，但在反序列化时不使用；与部分模型混淆

> ID：15678889
> 
> 赞同：1
> 
> 时间：2013-03-28T10:02:12.773
> 
> 标签：c#, json, serialization, asp.net-web-api

我有一个 Web API 项目，由一个 MSSQL 数据库支持，该数据库包含（几乎）每个表上的创建和修改字段。这些字段上有触发器，以便分别在插入和更新记录时更新两者。

现在，当我在成功请求后将数据序列化为 JSON 时，我确实想发送这些创建和修改的字段，以便发出请求的前端可以用它来做他们的事情。然而，我不想要的是当数据被反序列化（或者，回发）时可以修改这些字段。很简单，你会说，只需在字段上使用 [JsonIgnore] 属性；只把它放在片场而不是在得到。

现在，事情开始让我感到困惑。我项目中的所有模型都是从实体模型 (.edmx) 自动生成的。因此，我不能直接将任何东西编辑到模型本身中，但我必须在它们之上生成部分模型。我已经在其他 SO 线程中看到了解决方案，使用 [MetadataType] 属性，就像[这里](https://stackoverflow.com/questions/4915957/using-system-componentmodel-dataannotations-with-entity-framework-4-0/)的这个。

但是我如何（有效地）将此应用于我的案例？我一直在四处寻找，但还没有找到一个关于如何在“更高”部分类中分离自动实现的属性的示例。即便如此，这也意味着我必须为我的所有模型创建部分类，这将非常麻烦。我无法想象以前没有人这样做过，所以不会有更优雅的方式来追求这一点吗？

一个类的例子是：

```
public partial class Person
{
    [DataMember]
    public Nullable<System.DateTime> Created { get; set; }
    [DataMember]
    public Nullable<System.DateTime> Modified { get; set; }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-16T13:58:30.377

最终，我从 Model-First 方法切换到 Code-First 方法，这样我就可以更好地控制我的模型。

不过，在搜索了很多之后，我来回答我自己的问题。这个问题的核心是我希望能够自动设置 Created 和 Modified 字段，并忽略前端的反序列化，同时仍然能够通过序列化将这些字段发送到前端。

解决方案在于覆盖类中的`SaveChanges`方法`DbContext`。这个 SO 线程中给出了一个很好的例子：[Entity Framework 4.1 DbContext Override SaveChanges to Audit Property Change](https://stackoverflow.com/questions/6156818/entity-framework-4-1-dbcontext-override-savechanges-to-audit-property-change)。因此，所有的礼貌都归功于 James Pogran，因为他在我脑海中激发了这个想法，并以这种方式解决了问题。

他所做的是检查`DbEntity`更改的方式。他根据条目是否正在添加或修改来设置 Created 和 Modified 字段，然后调用`base.SaveChanges`以继续正常操作。

# database - TStatusBar 有什么问题？

> ID：15678896
> 
> 赞同：-1
> 
> 时间：2013-03-28T10:02:30.437
> 
> 标签：database, c++builder, statusbar, tclientdataset, tdbgrid

我有两种形式，称为 fmMain 和 fmEmpl。两者的每个 TStatusBar 都称为 sbMain 和 sbEmpl。我有一个名为 dmData 的 TDataModule 来存储数据库组件。

我需要更新 sbEmpl 面板，以便在突出显示单元格网格时显示数据库中的实际值。我一直在尝试使用 TClientDataSet 的 OnAfterScroll 处理程序来处理此事件，但它仅适用于 fmMain，而不适用于 fmEmpl。如果我尝试更新 sbEmpl 面板，它总是会引发错误消息。这是消息：

```
Access violation at address 00405337 in module 'SpeZet.exe'. Read of address 0000038C. 
```

然而，我在 dmData 上包含了两个标题 (.h)。

这里的 TStatusBar 出了什么问题？

任何的想法？

提前非常感谢。

**编辑：**好的，这是代码：

```
void __fastcall TdmData::cdsEmplAfterScroll(TDataSet *DataSet)
{

    vEmpl = "Name = " +
            dmData->cdsEmpl->FieldByName("Name")->AsString +
            " | idEmployee = " +
            dmData->cdsEmpl->FieldByName("idEmployee")->AsInteger +
            " | idJob  = " +
            dmData->cdsEmpl->FieldByName("idJob")->AsInteger;

    fmMain->sbMain->SimplePanel = true;
    fmMain->sbMain->SimpleText = vEmpl;
    fmEmpl->sbEmpl->SimplePanel = true;
    fmEmpl->sbEmpl->SimpleText = vEmpl;
} 
```

“访问冲突”消息在以下行引发：

```
fmEmpl->sbEmpl->SimplePanel = true;
fmEmpl->sbEmpl->SimpleText = vEmpl; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-29T20:47:38.273

很可能您的数据模块没有指向您的 fbEmpl 表单的有效指针。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-02T09:41:55.833

最后，根据[**这篇文章**](https://forums.codegear.com/thread.jspa?messageID=527013)，我已经解决了这个问题。我没有注意到 dmData 是在 fmEmpl 之前创建的，所以当我尝试访问 fmEmpl 时它会引发任何“访问冲突”错误消息。

我做了一个简单的条件来检查 fmEmpl 是否已创建。这是条件：

```
if (fmEmpl != NULL) {
    sbEmpl->SimplePanel = true;
    sbEmpl->SimpleText = sData;
} 
```

现在，我可以直接从 dmData 访问和更新 sbEmpl。

谢谢。

# cakephp - 将查询转换为 cakephp 查询

> ID：15678897
> 
> 赞同：2
> 
> 时间：2013-03-28T10:02:37.577
> 
> 标签：cakephp, cakephp-2.0

```
where concat(`year`,'-',`month`)  BETWEEN '2013-02'  AND '2013-03'; 
```

如何像这样在cake php的自定义查询分页中使用此查询..

```
$conditions = array('concat('Payroll.year','-','Payroll.month')  BETWEEN ? and ?' => array(2013-02, 2013-03));

$staff_list =  $this->Payroll->find("all", array("fields" => array("Payroll.id", "Payroll.month", "Payroll.year"),"conditions"=>$conditions)); 
```

谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-28T10:36:15.820

是的，你可以这样做： **在你的模型中**：

```
var $virtualFields = array(
    'payroll_date' => 'CONCAT(Payroll.year, " ", Payroll.month)'
); 
```

**在控制器中**：

```
$staff_list =  $this->Payroll->find("all", array(
  "fields" => array("Payroll.id", "Payroll.month", "Payroll.year"),
  "conditions" => array('Payroll.payroll_date BETWEEN ? AND ?' => array('2013-02', '2013-03'))
)); 
```

# c# - 使用c#中的数据集在sqlite中插入数据

> ID：15678901
> 
> 赞同：1
> 
> 时间：2013-03-28T10:02:56.427
> 
> 标签：c#, sqlite

我有一张 Excel 表，我使用 OleDbConnection 从中获取数据集中的数据

```
private static DataSet ImportExcel(string FileName, bool hasHeaders)
        {
            string HDR = hasHeaders ? "Yes" : "No";
            string strConn = "Provider=Microsoft.Jet.OLEDB.4.0;Data Source=" + FileName +
                             ";Extended Properties=\"Excel 8.0;HDR=" + HDR + ";IMEX=1\"";

            DataSet output = new DataSet();

            using (OleDbConnection conn = new OleDbConnection(strConn))
            {
                conn.Open();

                DataTable dt = conn.GetOleDbSchemaTable(OleDbSchemaGuid.Tables, new object[] { null, null, null, "TABLE" });

                foreach (DataRow row in dt.Rows)
                {
                    string sheet = row["TABLE_NAME"].ToString();

                    OleDbCommand cmd = new OleDbCommand("SELECT * FROM [" + sheet + "]", conn);
                    cmd.CommandType = CommandType.Text;

                    DataTable outputTable = new DataTable(sheet);
                    output.Tables.Add(outputTable);

                    new OleDbDataAdapter(cmd).Fill(outputTable);
                }
            }
            return output;
        } 
```

现在我想将此数据集中的数据插入到 sqlite 表中。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T11:49:05.867

这就是我们可以做到的

```
 SQLiteConnection m_dbConnection; 
    void createDbAndTable()
    {
        SQLiteConnection.CreateFile("MyDatabase.sqlite");
        m_dbConnection = new SQLiteConnection("Data Source=MyDatabase.sqlite; Version=3;");
        m_dbConnection.Open();
        string sql = "create table myValues (name varchar(20), highScore int)";
        SQLiteCommand command = new SQLiteCommand(sql, m_dbConnection);
        command.ExecuteNonQuery();
    }

    void fillTable(DataSet ds)
    {
        var dt = ds.Tables[0];

        foreach (DataRow dr in dt.Rows)
        {
            var name = dr["name"].ToString();
            var score = Convert.ToInt32(dr["value"].ToString());
            string sql = "insert into myValues (name, highScore) values ( '" + name + "'," + score + ")";
            SQLiteCommand command = new SQLiteCommand(sql, m_dbConnection);
            command.ExecuteNonQuery();
        }
        m_dbConnection.Close();
    } 
```

# django - 与经理一起筛选

> ID：15678912
> 
> 赞同：0
> 
> 时间：2013-03-28T10:03:27.557
> 
> 标签：django, django-models

我有一个经理 (AccountManager)，我想过滤 FK 用户，但该用户链接在帐户表中。我尝试了以下方法`.filter(account.user=user)`，但这给了我一个错误。

这样做的正确方法是什么？下面的代码。

谢谢

```
class AccountManager(models.Manager):
    def for_user(self, user):
        return self.get_query_set().filter(account.user=user)

class Transaction(models.Model):

    account = models.ForeignKey('Account',
                                related_name='transactions')

    amount = models.DecimalField(max_digits=10, decimal_places=1)
    objects = AccountManager()

class Account(models.Model):

    OPEN, FROZEN, CLOSED = 'Open', 'Frozen', 'Closed'
    status = models.CharField(max_length=32, default=OPEN)
    #FK
    user = models.OneToOneField(User) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T10:20:39.823

```
class AccountManager(models.Manager):
    def for_user(self, user):
        return self.get_query_set().filter(account__user=user) 
```

# android - 锁屏不工作时保存当前电池电量

> ID：15678913
> 
> 赞同：1
> 
> 时间：2013-03-28T10:03:33.283
> 
> 标签：android, wakelock, batterylevel, screen-off

当用户按下电源按钮（--> 屏幕关闭）时，我正在尝试保存当前的电池电量。

起初，我有一个广播接收器，它会在手机启动时启动。它的任务是启动一项服务，该服务为屏幕关闭/开启意图创建另一个广播接收器（ - 由于在清单中指定屏幕关闭意图时它不起作用，我通过此服务动态创建它）

**我的启动接收器**

```
public class MyStartupReceiver extends BroadcastReceiver {

    @Override
    public void onReceive(Context c, Intent i) {
        if(i.getAction().equals(Intent.ACTION_BOOT_COMPLETED))
        {
            Log.d("Boot completed", "Boot completed");
            c.startService(new Intent(c, CreateReceiverService.class));
        }
    }
} 
```

**创建接收器服务**

```
public class CreateReceiverService extends Service {

    @Override
    public int onStartCommand(Intent intent, int flags, int startId) {
        // TODO Auto-generated method stub

        IntentFilter filter = new IntentFilter(Intent.ACTION_SCREEN_OFF);
        filter.addAction(Intent.ACTION_USER_PRESENT);
        filter.addAction(Intent.ACTION_BATTERY_CHANGED);

        BroadcastReceiver mReceiver = new ScreenReceiver();
        registerReceiver(mReceiver, filter);    
        Log.d("Service", "Receiver registered");
        return super.onStartCommand(intent, flags, startId);
    } 
```

**这是 ScreenReceiver**

```
public class ScreenReceiver extends BroadcastReceiver {

    private int lastBatteryLevel;

    @Override
    public void onReceive(Context c, Intent i) {
        if(i.getAction().equals(Intent.ACTION_USER_PRESENT))
        {
            Log.d("Screen unlock", "Screen unlock");
        }
        else if(i.getAction().equals(Intent.ACTION_SCREEN_OFF))
        {
            Log.d("Screen off", "Screen off");
            Intent s = new Intent(c, ActionService.class);
            s.putExtra("LVL", lastBatteryLevel);
            c.startService(s);
        }
        else if(i.getAction().equals(Intent.ACTION_BATTERY_CHANGED))
        {
            lastBatteryLevel = i.getIntExtra(BatteryManager.EXTRA_LEVEL, -1);
            Log.d("Battery changed", "level = "+lastBatteryLevel);
        }
    } 
```

现在我的问题：ActionService 应该将电池电量保存到首选项文件： **ActionService**

```
public class ActionService extends Service {

    private SharedPreferences p = PreferenceManager.getDefaultSharedPreferences(this);
    Editor e = p.edit();

    @Override
    public int onStartCommand(Intent intent, int flags, int startId) {
        // TODO Auto-generated method stub

        e.putInt("LOCKLVL", intent.getIntExtra("LVL", -1));
        e.commit();
        Log.d("Saved preference", "saved "+p.getInt("LOCKLVL", -1));
        return super.onStartCommand(intent, flags, startId);
    } 
```

问题是当收到屏幕关闭意图时没有任何反应 - 我的 ActionService 应该保存电池电量，但没有被调用。

**我的 Logcat 输出是：**

```
Receiver registered
Screen off 
```

并且ActionService 的 Log.d("Saved preference", "saved "+p.getInt("LOCKLVL", -1));**没有输出**

我什至尝试设置这样的唤醒锁： **ScreenReceiver**

```
else if(i.getAction().equals(Intent.ACTION_SCREEN_OFF))
        {
            WakelockHelper.acquireCpuWakeLock(c); //WAKELOCK TRY
            Log.d("Screen off", "Screen off"); //OUTPUT OK
            Intent s = new Intent(c, ActionService.class);
            s.putExtra("LVL", lastBatteryLevel);
            c.startService(s); //NOT CALLED
        } 
```

并在保存首选项后释放它。但这并没有改变任何东西。

为了完整起见，这是我的**WakelockHelper**课程

```
public class WakelockHelper {

    private static PowerManager.WakeLock sCpuWakeLock;

    static void acquireCpuWakeLock(Context context) {

        if (sCpuWakeLock != null) {
            return;
        }
        PowerManager pm = (PowerManager) context.getSystemService(Context.POWER_SERVICE);

        sCpuWakeLock = pm.newWakeLock(PowerManager.PARTIAL_WAKE_LOCK,"Tag");
        sCpuWakeLock.acquire();
        Log.i("Wakelock", "Wakelock set");
    }

    static void releaseCpuLock() {
        if (sCpuWakeLock != null) {
            sCpuWakeLock.release();
            sCpuWakeLock = null;
            Log.i("Wakelock", "Wakelock released");
        }
    }

} 
```

那么，当用户锁定手机时，如何保存当前的电池电量呢？为什么屏幕关闭意图后我的服务没有启动？为什么唤醒锁没有任何改变？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T10:17:48.007

哎哟...忘记在清单中声明 ActionService ：O

# linq - 从 xml 树中的特定级别检索

> ID：15678914
> 
> 赞同：0
> 
> 时间：2013-03-28T10:03:37.363
> 
> 标签：linq, xml-parsing, linq-to-xml, decision-tree

我有如下的决策树结构，

```
<?xml version="1.0" encoding="utf-8" ?>
<root>
  outlook
  <item>
    sunny
    <root>
      humidity
      <item>
        high
        <leaf>no</leaf>
      </item>
      <item>
        normal
        <leaf>yes</leaf>
      </item>
    </root>
  </item>
  <item>
    overcast
  <leaf>yes</leaf>
  </item>
  <item>
    rain
    <root>
      wind
      <item>
        weak
        <leaf>yes</leaf>
      </item>
      <item>
        strong
        <leaf>no</leaf>
      </item>
    </root>
  </item>
</root> 
```

我想要一个 LINQ 查询，它将显示，

```
Outlook : Sunny , Overcast , Rain 
```

即，根值加上树的第一级子级值。再次选择特定项目，例如 Sunny

它必须迭代地给出其连续的根值和根的第一级子级。那是 ，

```
Humidity : High , Normal 
```

最后做出决定，是或否。我正在做同样的事情，但一些输入会进一步帮助我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T12:07:34.257

您可以尝试以下方法：

```
var doc = XDocument.Parse(xml);
foreach (var r in doc.Descendants("root"))
{
    var values = r.Elements("item").Select(s => (s.FirstNode as XText).Value.Trim()).ToList();
    string.Concat((r.FirstNode as XText).Value.Trim(), ": ", string.Join(",", values)).Dump("decision");
} 
```

这是我得到的输出：

```
decision 
outlook: sunny,overcast,rain 

decision 
humidity: high,normal 

decision 
wind: weak,strong 
```

我使用了 LinqPad，因此使用了 Dump 方法调用，它将输出吐出到 LinqPad 控制台。希望这可以帮助。

# php - Opencart：当指定组客户登录时隐藏自定义菜单

> ID：15678918
> 
> 赞同：1
> 
> 时间：2013-03-28T10:03:45.390
> 
> 标签：php, opencart

我的 OpenCart 网站中有 3 个客户组，如下所示：

*   所有者 - id`1`
*   卖家 - id`2`
*   客人 - id`3`

用户只有在登录后才能访问我的 opencart 网站 - 这工作正常。我在我的网站标题中添加了一个自定义菜单项，例如

```
<a href="<?php echo $cusomtlink; ?>">Custome Menu</a> 
```

我的问题是：**如何隐藏客户组 ID 的自定义菜单项`2`**？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T12:33:46.997

转到您的`catalog/controller/common/header.php`Header 控制器并在该行之前添加此`$this->render();`行：

```
$this->data['customer_group_id'] = $this->customer->getCustomerGroupId(); 
```

然后转到您的标头模板文件，其中添加了一个自定义菜单项，并将其更改为：

```
<?php if($customer_group_id != 2) { ?>
<a href="<?php echo $cusomtlink; ?>">Custom Menu</a>
<?php } ?> 
```

这应该这样做。

**编辑：**如果您需要隐藏更多组的菜单项，您可以这样做：

```
<?php if(!in_array($customer_group_id, array(2, 3, 7, 8))) { ?>
<a href="<?php echo $cusomtlink; ?>">Custom Menu</a>
<?php } ?> 
```

# java - Do super-packages exist in Java 7?

> ID：15678921
> 
> 赞同：0
> 
> 时间：2013-03-28T10:04:01.137
> 
> 标签：java, java-7

I would like to know if super-packages as they were introduced in JSR number XXX exist in Java 7 ?

# android - 使用 SQLite 而不是 .txt 文件会导致 OutOfMemory 错误

> ID：15678922
> 
> 赞同：0
> 
> 时间：2013-03-28T10:04:02.457
> 
> 标签：android, database, sqlite, memory-management, textwatcher

在我的应用程序中，我使用 .txt 文件来保存地理点和字符串，因此无需从 .txt 中删除一堆换行符，我只需删除一行即可。所以我把它放在测试中只是为了保存数据，保存得很好，但是当我加载数据时，我得到一个96x96解码文件的位图内存不足错误，这对我来说没有意义。

这是日志：

```
03-28 09:48:30.059: E/dalvikvm-heap(4607): Out of memory on a 46096-byte  allocation.
03-28 09:48:30.059: I/dalvikvm(4607): "main" prio=5 tid=1 RUNNABLE
03-28 09:48:30.059: I/dalvikvm(4607):   | group="main" sCount=0 dsCount=0   obj=0x40a719a0 self=0x2a00bba8
03-28 09:48:30.059: I/dalvikvm(4607):   | sysTid=4607 nice=0 sched=0/0 cgrp=apps    handle=1073849308
03-28 09:48:30.070: I/dalvikvm(4607):   | state=R schedstat=( 9701142608 17839341793 3050 ) utm=828 stm=142 core=0
03-28 09:48:30.070: I/dalvikvm(4607):   at android.graphics.BitmapFactory.nativeDecodeStream(Native Method)
03-28 09:48:30.070: I/dalvikvm(4607):   at android.graphics.BitmapFactory.decodeStream(BitmapFactory.java:529)
03-28 09:48:30.070: I/dalvikvm(4607):   at android.graphics.BitmapFactory.decodeFile(BitmapFactory.java:302)
03-28 09:48:30.070: I/dalvikvm(4607):   at android.graphics.BitmapFactory.decodeFile(BitmapFactory.java:328)
03-28 09:48:30.070: I/dalvikvm(4607):   at com.apps.gonefishing.Information.onCreate(Information.java:80)
03-28 09:48:30.070: I/dalvikvm(4607):   at android.app.Activity.performCreate(Activity.java:5104)
03-28 09:48:30.070: I/dalvikvm(4607):   at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1080)
03-28 09:48:30.070: I/dalvikvm(4607):   at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2144)
03-28 09:48:30.070: I/dalvikvm(4607):   at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2230)
03-28 09:48:30.081: I/dalvikvm(4607):   at android.app.ActivityThread.access$600(ActivityThread.java:141)
03-28 09:48:30.081: I/dalvikvm(4607):   at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1234)
03-28 09:48:30.090: I/dalvikvm(4607):   at android.os.Handler.dispatchMessage(Handler.java:99)
03-28 09:48:30.090: I/dalvikvm(4607):   at android.os.Looper.loop(Looper.java:137)
03-28 09:48:30.090: I/dalvikvm(4607):   at android.app.ActivityThread.main(ActivityThread.java:5039)
03-28 09:48:30.090: I/dalvikvm(4607):   at java.lang.reflect.Method.invokeNative(Native Method)
03-28 09:48:30.090: I/dalvikvm(4607):   at   java.lang.reflect.Method.invoke(Method.java:511)
03-28 09:48:30.090: I/dalvikvm(4607):   at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:793)
03-28 09:48:30.090: I/dalvikvm(4607):   at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:560)
03-28 09:48:30.090: I/dalvikvm(4607):   at dalvik.system.NativeStart.main(Native Method)
03-28 09:48:30.110: D/skia(4607): --- decoder->decode returned false
03-28 09:48:30.110: D/AndroidRuntime(4607): Shutting down VM
03-28 09:48:30.110: W/dalvikvm(4607): threadid=1: thread exiting with uncaught exception (group=0x40a70930)
03-28 09:48:30.140: E/AndroidRuntime(4607): FATAL EXCEPTION: main
03-28 09:48:30.140: E/AndroidRuntime(4607): java.lang.OutOfMemoryError
03-28 09:48:30.140: E/AndroidRuntime(4607):     at android.graphics.BitmapFactory.nativeDecodeStream(Native Method)
03-28 09:48:30.140: E/AndroidRuntime(4607):     at android.graphics.BitmapFactory.decodeStream(BitmapFactory.java:529)
03-28 09:48:30.140: E/AndroidRuntime(4607):     at android.graphics.BitmapFactory.decodeFile(BitmapFactory.java:302)
03-28 09:48:30.140: E/AndroidRuntime(4607):     at android.graphics.BitmapFactory.decodeFile(BitmapFactory.java:328)
03-28 09:48:30.140: E/AndroidRuntime(4607):     at com.apps.gonefishing.Information.onCreate(Information.java:80)
03-28 09:48:30.140: E/AndroidRuntime(4607):     at android.app.Activity.performCreate(Activity.java:5104)
03-28 09:48:30.140: E/AndroidRuntime(4607):     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1080)
03-28 09:48:30.140: E/AndroidRuntime(4607):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2144)
03-28 09:48:30.140: E/AndroidRuntime(4607):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2230)
03-28 09:48:30.140: E/AndroidRuntime(4607):     at android.app.ActivityThread.access$600(ActivityThread.java:141)
03-28 09:48:30.140: E/AndroidRuntime(4607):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1234)
03-28 09:48:30.140: E/AndroidRuntime(4607):     at android.os.Handler.dispatchMessage(Handler.java:99)
03-28 09:48:30.140: E/AndroidRuntime(4607):     at android.os.Looper.loop(Looper.java:137)
03-28 09:48:30.140: E/AndroidRuntime(4607):     at android.app.ActivityThread.main(ActivityThread.java:5039)
03-28 09:48:30.140: E/AndroidRuntime(4607):     at java.lang.reflect.Method.invokeNative(Native Method)
03-28 09:48:30.140: E/AndroidRuntime(4607):     at java.lang.reflect.Method.invoke(Method.java:511)
03-28 09:48:30.140: E/AndroidRuntime(4607):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:793)
03-28 09:48:30.140: E/AndroidRuntime(4607):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:560)
03-28 09:48:30.140: E/AndroidRuntime(4607):     at dalvik.system.NativeStart.main(Native Method) 
```

我注意到的一件事是每次堆消息出现时，只有 5% 到 6% 可用，所以我启动了模拟器擦除数据，结果是一样的。这是一个 api 17 模拟器，当应用程序使用文本文件运行时，它运行完美。

接下来我要尝试的是；即使我打开数据库阅读我正在使用：

```
db = dbHelper.getWritableDatabase(); 
```

所以我要把它改成`getReadableDatabase`

这并没有太大的变化，并且在这个错误之前的活动中，它完成了一切。在 TextWatcher 的画布上来回发送 2 个位图。我认为它只需要记忆 2 位图 320X480 与 .txt 文件一起运行良好。

非常感谢您的任何建议，感谢您的宝贵时间。

```
 Cursor cursor;
        db.read();
        cursor = db.getAllEntries();
        boolean go = cursor.moveToFirst();
        while(cursor.isAfterLast() != true){
            Drawable imagebig = null;
            Bitmap photobig = null;
            int lat = cursor.getInt(MyDBAdapter.LATITUDE_COLUMN);
            int lng = cursor.getInt(MyDBAdapter.LONGITUDE_COLUMN);
            GeoPoint recall = new GeoPoint(lat,lng);
            File file = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_PICTURES), "Gone");
            file = new File(file.getPath(),"Thumbs");
            String string = cursor.getString(MyDBAdapter.FILE_COLUMN);
            File file1 = new File(file.getPath() + File.separator + "thumb" + string);

            Uri uri = Uri.fromFile(file1);
            if(file1.exists()){
             //photobig = BitmapFactory.decodeFile(file1.getAbsolutePath());
             uri = Uri.fromFile(file1);

             try {
                photobig = MediaStore.Images.Media.getBitmap(getContentResolver(), uri);
            } catch (FileNotFoundException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            } catch (IOException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            }

        }
        db.close();
        cursor.close(); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-01T03:47:54.320

你有一个无限的while循环。光标需要前进。

添加 cursor.moveToNext(); 到你的 while 循环。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T21:18:25.643

并改变这个

```
while(cursor.isAfterLast() != true){ 
```

为了那个原因

```
while(!cursor.isAfterLast()){ 
```

好痛。*不要以坏的方式对待它:)

# javascript - 在个位数前面附加 0

> ID：15678926
> 
> 赞同：0
> 
> 时间：2013-03-28T10:04:15.843
> 
> 标签：javascript, regex

嗨，我正在尝试用个位数在天/月的前面添加 0。我尝试使用正则表达式，但它似乎不起作用。有什么我想念的吗？

```
var newDate = new Date();
            alert(newDate);
            newDate.setDate(newDate.getDate() + 1);
            alert(newDate);
            var year = newDate.getFullYear();
            alert(year);
            var month = (newDate.getMonth()+1).replace(/\b(\d{1})\b/g, '0$1');
            alert(month);
            var day = newDate.getDate().replace(/\b(\d{1})\b/g, '0$1');
alert(day); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T10:07:18.793

你在`replace`这里运行一个数字。

```
var month = (newDate.getMonth()+1).replace(/\b(\d{1})\b/g, '0$1');
// ...
var day = newDate.getDate().replace(/\b(\d{1})\b/g, '0$1'); 
```

您需要在运行替换之前将其转换为字符串。

```
var month = (newDate.getMonth()+1).toString().replace(/\b(\d{1})\b/g, '0$1');
var day = newDate.getDate().toString().replace(/\b(\d{1})\b/g, '0$1'); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T10:14:05.687

我最好使用这些结构。

```
var month = (newDate.getMonth()+1).toString();
    month = month.length < 2 ? '0' + month : month;
alert(month);

var day = (newDate.getDate()+1).toString();
    day = day.length < 2 ? '0' + day : day;
alert(day); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-28T10:15:47.747

这个怎么样：

```
var month = "" + (newDate.getMonth()+1);
if (month.length==1) month = "0" + month;
alert(month);
var day = "" + newDate.getDate();
if (day.length == 1) day = "0" + day;
alert(day); 
```

# windows - bat file for deleting index in solr

> ID：15678929
> 
> 赞同：0
> 
> 时间：2013-03-28T10:04:25.877
> 
> 标签：windows, curl, command-line, solr

I want to use a bat file to clear my index in solr. I found the following solution: [https://superuser.com/questions/134685/run-curl-commands-from-windows-console](https://superuser.com/questions/134685/run-curl-commands-from-windows-console)

I downloaded cURL and a copied to my system32 folder. then I openend my windows commandline and typed `curl www.google.com` and it seems to work fine.

then I tried to add the following command:

```
curl http://berserkerpc:444/solr/update --data '<delete><query>*:*</query></delete>' -H 'Content-type:text/xml; charset=utf-8' 
```

here the how to from solr: [http://wiki.apache.org/solr/FAQ#How_can_I_delete_all_documents_from_my_index.3F](http://wiki.apache.org/solr/FAQ#How_can_I_delete_all_documents_from_my_index.3F)

I got the message back that there is a a syntactic issue with '<' while processing.

here is the complete bat file I want to create:

```
curl http://berserkerpc:444/solr/update --data '<delete><query>*:*</query></delete>' -H 'Content-type:text/xml; charset=utf-8'  
curl http://berserkerpc:444/solr/update --data '<commit/>' -H 'Content-type:text/xml; charset=utf-8' 
```

any suggestion how to solve this???

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T10:11:20.300

使用 Curl 尝试调用 -

```
curl -H 'Content-Type: text/xml' http://localhost:8983/solr/update --data-binary '<delete><query>*:*</query></delete>' 
```

请务必使用 commit=true 来反映这些更改。

或直接从浏览器 -

```
http://localhost:8983/solr/update?stream.body=<delete><query>*:*</query></delete>&commit=true 
```

# java - 使用 java 通过 USB/RS232 转换器发送数据

> ID：15678931
> 
> 赞同：0
> 
> 时间：2013-03-28T10:04:27.867
> 
> 标签：java, c++, serial-port, usb, cross-platform

我想通过 USB 端口发送数据，该端口使用 Java 应用程序插入从 USB 到 RS232 的转换器。经过一天的搜索，我找到了 3 个解决方案：

1.使用一个api：这很难，因为每个api都有它的限制，或者几年前没有更新或死亡，或者不是跨平台，这就是我需要的。

2.通过操作系统将 USB 连接器识别为 RS232 连接器：好吧，我想了解更多，因为它似乎是一个更好的解决方案。

3.制作我自己的usb/java api：我什至不知道从哪里开始！.

更新 1：我目前正在使用库 JSSC 来控制串行端口上的通量。

更新 2：

好吧，当我在这里时，如果有使用 C++ 的解决方案，如果有，如何使 C++ 代码在 java 应用程序下工作。

因此，如果对此有任何帮助，我们将不胜感激，并且抱歉让它太长了。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T10:45:31.450

1.  与 USB/RS232 设备交互的唯一方法是通过操作系统及其 COM 端口表示。您无法直接控制 USB 设备。
2.  Java 不提供控制现成的 COM/RS232/串行端口的方法。
3.  [通过利用本机代码（例如 C 或 C++）和Java 本机接口 (JNI)](http://en.wikipedia.org/wiki/Java_Native_Interface)，可以将此功能添加到 Java 。
4.  以前已经这样做过，例如：[RXTX 的稳定替代品](https://stackoverflow.com/questions/12317576/stable-alternative-to-rxtx)

# paypal - PayPal问题成本和API

> ID：15678936
> 
> 赞同：-4
> 
> 时间：2013-03-28T10:04:41.473
> 
> 标签：paypal

我尝试直接联系 PayPal，但他们会在 24 - 72 小时内回复。我看到 stackoverflow 有 PayPal 板。

我们是一家开发电子商务平台的公司，该平台将出售给我们的客户。根据 PayPal，我们将成为合作伙伴，而我们向其销售产品的人将成为商家。

PayPal 提供 PayPal Website Payments Pro，目前售价 20 英镑。我想知道这将是每位客户 20 英镑吗？我们可以代表客户支付这 20 英镑吗？如果是，我们希望通过代码而不是手动完成。这怎么可能？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T12:39:55.850

每个使用购物车的客户都需要注册它旨在使用的服务。因此，如果它旨在与 20 英镑的服务一起使用，那么将使用此购物车的每个商家都需要注册。您可能想要做的是查看 PayPal 的 Payflow Service 以处理付款。有了这个，您可以成为网关的经销商，然后为您的帐户和所有商家支付服务费用。然后，您将负责向您的客户收费，而不是 PayPal，因为 PayPal 只会向您收费。

# java - 如何将数据更新到适配器类

> ID：15678941
> 
> 赞同：-1
> 
> 时间：2013-03-28T10:04:54.210
> 
> 标签：java, android, abstract-class, adaptor

我想要做的是在底部附加一个列表项，就像“加载更多”功能一样。

我所做的我在适配器中附加了一个带有空值的额外项目`ArrayList`。

它第一次工作正常，但是当我加载更多项目时，它会在每 15 个项目后添加两次 Load More ItemView 虽然我没有对 original 进行任何更改`ArrayList`。仅对适配器类的构造函数进行了更改。

这是适配器类：

```
public class ContactListAdaptor extends BaseAdapter {

private Context context;
private ArrayList<DirectroyDetails> items = new ArrayList<DirectroyDetails>();

private Activity activity = null;
boolean isSearch = false;
private View currentView = null;
private String categoryName = null;

private HashMap< String, String> bannerHash = new HashMap<String, String>();

ContactList ACTIVITY;
public ContactListAdaptor(Context context, final ArrayList<DirectroyDetails> items2, Activity activity, String categoryName, HashMap< String, String> bannerHash, ContactList ACTIVITY, boolean expand) {
    // super(context, textViewResourceId, items);
    items = items2;

    if(expand)
    {
        DirectroyDetails dummy = new DirectroyDetails();
        dummy.setId("-1");
        items.add(dummy);
    }

    this.context = context;
    this.activity = activity;
    this.categoryName = categoryName;
    this.bannerHash = bannerHash;
    this.ACTIVITY = ACTIVITY;
}

/*public ContactListAdaptor(Context context, Vector<Directory> items,
        Activity activity, boolean isSearch) {
    // TODO Auto-generated constructor stub
    this.items = items;
    this.context = context;
    this.activity = activity;
    this.isSearch = isSearch;
}*/

// @Override
public View getView(final int position, View convertView, ViewGroup parent) {

    final DirectroyDetails directroyDetails = items.get(position);
    System.out.println("id======="+directroyDetails.getId().toString());
    try {
        if(convertView == null)
        {
            System.out.println("##THE POSITION IS=="+position);
            LayoutInflater vi = (LayoutInflater) context
                    .getSystemService(Context.LAYOUT_INFLATER_SERVICE);

            convertView = vi.inflate(R.layout.item_directory, null);
            if(directroyDetails.getId().toString().equals("-1"))
                convertView.setId(-1);
            else
                convertView.setId(1);
        }else {
            currentView = convertView;  
        }

        //To fatch the values from the Event object
        TextView titleText = (TextView)convertView.findViewById(R.id.title);
        TextView nameText = (TextView)convertView.findViewById(R.id.name);
        TextView numberText = (TextView)convertView.findViewById(R.id.number);
        ImageView profilePic = (ImageView)convertView.findViewById(R.id.eventimage);

        System.out.println("the position is ==== " +position);

        titleText.setText(directroyDetails.getCompanyname());

        nameText.setText(directroyDetails.getFirstname() + " " + directroyDetails.getSurname());

        numberText.setText(directroyDetails.getMobile());

        System.out.println("id at position======="+directroyDetails.getId().toString()+"  at=="+position);
        RelativeLayout overlay = (RelativeLayout)convertView.findViewById(R.id.overlay);

        if(directroyDetails.getId().toString().equals("-1"))
        {   
            overlay.setVisibility(View.VISIBLE);
            System.out.println("at here to make the Overl;ay visible");
        }else {
            overlay.setVisibility(View.INVISIBLE);
        }

    } catch (Exception e) {
        // TODO: handle exception
        System.out.println("the exception occurs at:-" + e.getMessage());
    }

    return convertView;
}

public int getCount() {
    System.out.println("the item size====="+items.size());
    return items.size();
}

public Object getItem(int position) {
    return position;
}

public long getItemId(int position) {
    return position;
}
}

private void onScrollUpdateList() {
    // TODO Auto-generated method stub
    Handler onScrollList = new Handler();
    onScrollList.postDelayed(new Runnable() {

        @Override
        public void run() {
            // TODO Auto-generated method stub
            setContactList();
        }
    }, 200);
} 
```

&这是我的调用代码：-

```
 if(contactDb.size()>0 && contactDb!=null)
        {
            System.out.println("theh responseData1 before new  additions==="+responseData1.size());
            responseData1 = addMoreData(contactDb,responseData1);
            System.out.println("theh  responseData1==="+responseData1.size());
            if(responseData1 != null)
            {
                if(responseData1.size()>0)
                {

                    ContactListAdaptor contactAdaptor = new ContactListAdaptor(getApplicationContext(), responseData1, this, CategoryName, bannerHash, ContactList.this, expand);
                    contactAdaptor.notifyDataSetChanged();
                    listview.setAdapter(contactAdaptor);

                    try {
                        listview.setSelection(getSelectedItems());
                    } catch (Exception e) {
                        // TODO: handle exception
                        System.out.println("the exception at scrolling and set :- " + e.getMessage());
                    }

                }else
                {
                    Toast.makeText(ContactList.this, "No Item found.", Toast.LENGTH_LONG).show();
                }

            }} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-28T10:19:32.927

请查看下面的链接代码并尝试通过列表视图动态加载更多数据来解决您的问题。

[http://www.developerfusion.com/article/145373/android-listviews-with-dynamic-data/](http://www.developerfusion.com/article/145373/android-listviews-with-dynamic-data/)

如果您有任何疑问，请告诉我..

# iphone - NSXMLParserDelegate 警告

> ID：15678942
> 
> 赞同：0
> 
> 时间：2013-03-28T10:04:58.057
> 
> 标签：iphone, ios6, nsxmlparser

添加`@interface MedicalRecordViewController : UIViewController<UITextFieldDelegate,NSXMLParserDelegate,UITextViewDelegate>`我的应用程序后仍然显示警告

```
NSXMLParser *xmlParser = [[NSXMLParser alloc] initWithData:webData];
XmlParser *parser = [[XmlParser alloc] initXMLParser];
if (serviceRequest==1) {
    [parser setPageRequest:2];
}else if (serviceRequest==2) {
    [parser setPageRequest:5];
}else if (serviceRequest==3) {
    [parser setPageRequest:4];
}else if (serviceRequest==4) {
    [parser setPageRequest:4];
}
[xmlParser setDelegate:parser]; // warning here
BOOL success = [xmlParser parse]; 
```

警告信息

```
Sending 'XmlParser *' to parameter of incompatible type 'id<NSXMLParserDelegate>' 
```

我的代码有什么问题吗？我应该添加任何其他内容吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-28T10:08:45.070

该类`XmlParser`不实现`NSXMLParserDelegate`协议。

# c++ - 在 C++ 中的 MPI 中并行运行可执行文件

> ID：15678943
> 
> 赞同：0
> 
> 时间：2013-03-28T10:05:00.837
> 
> 标签：c++, mpi

我一直在使用 MPI 一段时间，但我没有经验。所以我在这里就以下实现的一般结构提出建议。说，我有主 C++ 文件

```
MPI_Init(&narg,&arg);
int me,nprocs;
MPI_Comm_rank(MPI_COMM_WORLD,&me);
MPI_Comm_size(MPI_COMM_WORLD,&nprocs);

int N = 10;

for (int i=0;i<N;i++) {
   //(1)do some stuff in parallel...
   //(2)gather results and write an input file for executable

   MPI_Barrier(MPI_COMM_WORLD);
   //(3)run executable in parallel.
   // which is usually run from command line as:
   // 
   // mpirun -np 6 external.exe < input.file
   //
   MPI_Barrier(MPI_COMM_WORLD);

   //(4)gather output from executable, distribute info among processors and keep running 
}
MPI_Finalize(); 
```

这是（3）我在理解如何做到这一点并告诉它可以使用多少个处理器时遇到问题。我的困惑还在于，某种“运行”命令可能应该从单个处理器/实例中执行。那么我如何使它工作并让并行可执行文件使用提供给主程序的**所有处理器？**如果可能的话。

p / s /我在stackoverflow中看到了类似的问题，但没有明确的答案是否可能。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T12:40:39.863

您是否可以控制 exe，即您可以更改其代码吗？如果是这样，我建议重新开发它，以便 exe 只是您需要的行为的包装，然后您可以将实际操作链接到您的应用程序中。

如果这不是一个选项，我建议只从您的主（等级 0）进程调用可执行文件，然后让其他人等待。效率不是很高，但它会完成这项工作：

```
if (me == 0) {
    system("mpirun -np 6 external.exe < input.file")
} 
```

你必须想办法等到命令完成，但根据[系统](http://www.cplusplus.com/reference/cstdlib/system/)和[mpirun](http://linux.die.net/man/1/mpirun)的文档，它应该像检查返回值`system(...)`是否为零一样简单，然后继续（在障碍之后，如在你的例子中）。

# apache - 是否可以在 ProxyPass 中使用“%{HTTP_HOST}”？

> ID：15678945
> 
> 赞同：3
> 
> 时间：2013-03-28T10:05:11.730
> 
> 标签：apache, mod-rewrite, apache2, mod-proxy, proxypass

我正在尝试使用 apache2 和 mod_proxy 来实现一个透明代理，现在它什么都不做。只是将流量转发到正确的“主机”。

我不希望它依赖于主机 - 但它是动态的，因此它适用于所有主机。我试图这样做：

```
RewriteEngine on
RewriteLogLevel 5
RewriteLog "/var/log/apache2/rewrite.log"
RewriteRule ^(.*)$ $1
ProxyPass / http://$1 
```

我还尝试了其他几种方法（都没有奏效）。有什么方法可以从标头访问“主机”并在 ProxyPass 指令中使用它？

在 nginx 中，我会使用 $host、$remote_addr 等。有什么方法可以在 apache 上替换它？

我需要的是能够在 ProxyPass 命令中访问 %{HTTP_HOST}、%{REQUEST_URI} 和 %{SERVER_PORT}。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-09-18T18:32:18.210

要将 Apache ProxyPass 指令与动态主机名一起使用，您还需要使用 ModRewrite。

# 客观的

对虚拟主机的所有请求都将 ProxyPass 和 ProxyPassReverse（也称为“Apache 网关”）发送到 %{HTTP_HOST}

这样做有意义的唯一原因是，如果您在 apache 服务器上有特定主机名的 localhost 条目

# 例子

## 本地主机文件

```
10.0.0.2 foo.bar.com    
10.0.0.3 bar.bar.com 
```

## 这个怎么运作

1.  客户端向 foo.bar.com 发出请求（dnslookup 是公共 IP...您的 APACHE SERVER）
2.  您的 apache 服务器有一个 10.0.0.2 的 localhost 条目，用于 foo.bar.com（您网络上的其他服务器）
3.  请求通过 ModRewrite 并附加 /path1，然后移交给 ProxyPass 和 ProxyPassReverse
4.  ProxyPass 和 ProxyPassReverse 在 ip 10.0.0.2 上将呼叫传递给 foo.bar.com

客户端请求 foo.bar.com ---反向代理到----> foo.bar.com/path1（在一些其他内部服务器上）

# 阿帕奇配置

```
 <VirtualHost *:443>
    Servername *

    # Must not contain /path1 in path (will add /path1)
    RewriteEngine on
    RewriteCond %{REQUEST_URI} !^/path1/.*
    RewriteRule ^/(.*) https://%{HTTP_HOST}/path1$1 [NC,R=302,L]

    # Must contain /path1 in path (will send request to the proxy)
    RewriteEngine On
    RewriteOptions Inherit
    RewriteCond %{REQUEST_URI} ^/path1/.*
    RewriteRule ^(.*)$ https://%{HTTP_HOST}$1 [NC,P]

    SSLEngine on
    SSLProxyEngine On
    ProxyRequests Off

    ProxyPass            /  https://$1/
    ProxyPassReverse     /  https://$1/

    ProxyPreserveHost On

    ###################
    # SSL Constraints #
    ###################

    SSLProtocol -ALL +SSLv3 +TLSv1

    # Choose cipher suites
    SSLHonorCipherOrder On
    SSLCipherSuite ALL:!ADH:RC4+RSA:+HIGH:+MEDIUM:!LOW:!SSLv2:!EXPORT

    # SameOrigin The page can only be displayed in a frame on the same origin as the page itself
    Header set X-Frame-Options SAMEORIGIN

    SSLCertificateFile     /etc/apache2/example.crt
    SSLCertificateKeyFile  /etc/apache2/example.key
    SSLCertificateChainFile /etc/apache2/gd_bundle.crt
    SetOutputFilter INFLATE;proxy-html;DEFLATE
</VirtualHost> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-28T14:24:10.827

只是回答我自己的问题：

我错过了两件事：

配置应该是：

```
RewriteEngine On
RewriteRule ^(.*)$ http://%{HTTP_HOST}$1 [P] 
```

不要忘记在虚拟目录中启用继承：

```
RewriteEngine On
RewriteOptions Inherit 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-28T14:04:42.840

如果您还没有阅读此页面，您应该阅读：

[https://httpd.apache.org/docs/2.2/mod/mod_proxy.html#forwardreverse](https://httpd.apache.org/docs/2.2/mod/mod_proxy.html#forwardreverse)

我认为 ProxyRequests 指令是您正在寻找的。

# search - how to search recursively in prolog facts

> ID：15678948
> 
> 赞同：0
> 
> 时间：2013-03-28T10:05:20.777
> 
> 标签：search, prolog, counter

I have the following facts

```
%exam(Student,Subject)

exam(student1,subject1).
exam(student2,subject1).
exam(student3,subject1).

exam(student1,subject2).
exam(student3,subject2).

exam(student1,subject3). 
```

I want to find the subjects of a student and put them in a list

```
Subjects(Student,[H|T]):-
                        exam(Student,Subject),
                        \\+Subject=H,
                        H = Subject,
                        Subjects(Student,T). 
```

I can't figure out what the base case should be !

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T10:43:46.407

`\+ Subject = H`意思是“*不能证明*”`Subject`可以与 统一`H`。

但是由于`H`开始时没有实例化，它总是可以与 统一`Subject`，所以这个目标总是会失败。

此外，要查看是否`Subject`以前找到过，您必须在以前找到的值列表中检查其成员*资格**。*这意味着，在一个调用到另一个调用中携带一个额外的参数，它以 开头，将新发现的主题添加到其中，并使用更新的列表进行下一次调用。*`[]`*

 *只要你能找到一个新的事实，你就将它添加到这个累积列表中，然后继续；但如果你找不到新的事实，你应该停下来。这将是你的基本情况。使用辅助谓词进行编码会更容易，每个谓词都执行其单独的任务（例如`can_find_new_subject( Student, ListSeenSoFar, Subject)`等）。

```
subjects(Student, L):- search_subjects(Student, [], L).

search_subjects(Student, Seen, L):-
  find_new_subject(Student, Seen, Subj)
  search_subjects(Student, [Subj|Seen], L).

search_subjects(Student, Seen, L):-
  \+ find_new_subject(Student, Seen, Subj),
  ... .

find_new_subject( ......
  .... 
```

这种设置的缺点是它将是二次的。`assert`如果没有额外的逻辑设施（如，或使用内置等），您将无法使其成为线性`findall`。*

# sql - Finding the id from the highest date when multiple dates are present

> ID：15678949
> 
> 赞同：0
> 
> 时间：2013-03-28T10:05:22.807
> 
> 标签：sql, date, inner-join, max, multiple-tables

When I run this query I get:

```
SELECT DISTINCT r2.ApplicationBK,
                max(r2.DatumApplication) maxdatum,
                p.Name
FROM FCT_Recruitment r2,
     DIM_WervingsProject wp,
     DIM_Persoon p
WHERE r2.WervingsProjectID = wp.WervingsProjectID
  AND r2.PersoonID=p.PersoonID
GROUP BY ApplicationBK,
         p.name 
```

The names are standing in TALBLE DIM_PERSOON P
The "ApplicationBK" are standing in DIM_Wervingsproject
and all the dates (DatumAppliocation) are standing in FCT_Recruitment

```
BK  -  Date - Name 
012    20-03-1999  - name1 
023    21-03-1999  - name1 
033    22-03-1999  - name1 
112    20-03-1990  - name2 
123    20-03-1999  - name2 
133    20-03-1990  - name2 
```

But i need the highest date for each name.. So each name may only stand one time in the 'name-column' with the corresponding id (ApplicationBK) and date. I don't need to rest.

When this didn't work I tried something else...

```
SELECT WervingsprojectBK,
       r.ApplicationBK,
       p.Name,
       count(*) number,upper(r.StatusWP) status,
                       upper(r.StatusApplication)statusdetail,
                       r.DateApplication 
FROM FCT_Recruitment AS r,
     DIM_WervingsProject wp,
     DIM_Persoon p
INNER JOIN
  (SELECT DISTINCT r2.ApplicationeBK,
                   max(r2.DateApplication) maxdatum
   FROM FCT_Recruitment r2,
        DIM_WervingsProject wp,
        DIM_Persoon p
   WHERE r2.WervingsProjectID=wp.WervingsProjectID
     AND r2.PersoonID=p.PersoonID
   GROUP BY ApplicationBK) AS r2 ON (r.ApplicationBK=r2.ApplicationBK
                                     AND r.DateApplication=r2.maxdatum)
GROUP BY WervingsprojectBK,
         r.ApplicationBK,
         p.Naam,
         r.StatusApplication,
         r.StatusWP
ORDER BY 5 
```

but then i get these errors..:

> Msg 4104, Level 16, State 1, Line 3 The multi-part identifier "r.ApplicationBK" could not be bound. Msg 4104, Level 16, State 1, Line 3 The multi-part identifier "r.DateApplication" could not be bound.

Can you please help this newby.. Thanks.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T10:09:14.070

试试这个：

```
select 
  r2.ApplicationBK, 
  r22.maxdatum, 
  p.Name
from FCT_Recruitment r2
INNER JOIN
(
  SELECT WervingsProjectID, max(r2.DatumApplication) maxdatum
  FROM FCT_Recruitment
  GROUP BY WervingsProjectID
) AS r22  ON r2.WervingsProjectID = r22.WervingsProjectID
         AND r2.DatumApplication  = r22.maxdatum
INNER JOIN DIM_WervingsProject AS wp ON r2.WervingsProjectID = wp.WervingsProjectID
INNER JOIN DIM_Persoon         AS p  ON r2.PersoonID         = p.PersoonID; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T11:17:43.000

尝试这个。并更改列名：

```
SELECT max(r.AllDate),r.ProjectID,p.name 
FROM FCT_Recruitment r,DIM_Wervingsproject pr, DIM_PERSOON p 
where p.PID=r.PID and r.ProjectId=pr.ProjectID 
group by r.PID; 
```

# android - 网格视图上的边框图像

> ID：15678951
> 
> 赞同：-2
> 
> 时间：2013-03-28T10:05:25.230
> 
> 标签：android, android-gridview

我有一个像这样的gridview

```
<GridView xmlns:android="http://schemas.android.com/apk/res/android"
android:id="@+id/gridview"
android:layout_width="fill_parent"
android:layout_height="fill_parent"
android:background="@drawable/aldiko_shelf_background"
android:columnWidth="40sp"
android:gravity="center"
android:horizontalSpacing="20dp"
android:numColumns="auto_fit"
android:paddingLeft="20sp"
android:paddingRight="20sp"
android:smoothScrollbar="true"
android:stretchMode="columnWidth"
android:verticalSpacing="30sp" /> 
```

![在此处输入图像描述](../Images/4146cc015c4171d3ad1ae29c3ebedd23.png)

我想添加一个图像作为总网格的边框，并想在两行之间添加另一个图像，看起来像这样

![在此处输入图像描述](../Images/63668553e8b825fbec2a5a3b6b1fe945.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T10:14:29.113

据我了解您的问题有两种方法可以做到这一点，一种简单的方法和一种不那么简单的方法

首先，简单的一个->尝试放一个背景图像，例如：书架图像

其次，->您可以在 XML 中修改您的行视图，以便在您的图像之间放置一个图像

我认为你需要的是书架式布局试试这个[教程](http://www.codeproject.com/Articles/389071/Create-a-dynamic-shelfview-in-Android)

# c# - 从树数据结构中删除元素

> ID：15678958
> 
> 赞同：0
> 
> 时间：2013-03-28T10:05:42.650
> 
> 标签：c#, data-structures, tree

我有一个这样的树结构：

```
 10
   /  \
  5    12
 / \   / \
3   7 11  18 
```

大于右链接之前的元素的值，左链接较小的值。现在我想添加一个“删除”功能，但不知何故我做错了。例如，当我删除 5 时，它应该如下所示：

```
 10
   /  \
  3    12
   \   / \
    7 11  18 
```

已删除元素 (5) 中较小的链接元素 (3) 应与已删除元素所链接的元素链接。这是我的删除功能：

```
public TElement RootElement;

    public void Remove(int value)
    {
        if (RootElement == null)
        {
            throw new Exception("Can't delete nothing!");
        }

        if (RootElement._left == null && RootElement._right == null)
        {
            RootElement = null;
            return;
        }

        RootElement = RootElement.RemoveElement(value, RootElement);
    }

public TElement RemoveElement(int value, TElement current)
        {

            if (value != _value)
            {
                if (value < _value)
                {
                    _left.RemoveElement(value, current);
                }

                if (value > _value)
                {
                    _right.RemoveElement(value, current);
                }
            }

            if (value == _value)
            {
                if (_value < current._value)
                {
                    if (_left == null && _right == null)
                    {

                    }

                    else
                    {
                        current._left = _left;
                        _left._right = _right;
                    }
                }

                if (_value > current._value)
                {
                    if (_left == null && _right == null)
                    {
                    }

                    else
                    {
                        current._right = _right;
                        _right._left = _left;
                    }
                }               
            }

            current = this;
            return current;
        } 
```

`_left`是指向较小元素的指针，`_right`指向较大元素。如果您需要更多代码，请询问。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T14:43:31.873

我的解决方案：

```
 public TElement RemoveElement(int value, TElement current)
        {

            if (value != _value)
            {
                if (value < _value)
                {
                    current = this;
                    _left.RemoveElement(value, current);
                }

                if (value > _value)
                {
                    current = this;
                    _right.RemoveElement(value, current);
                }
            }

            if (value == _value)
            {
                if (_value < current._value)
                {
                    if (_left == null && _right == null)
                    {
                        current._left = null; 
                    }

                    else
                    {
                        current._left = _left;
                        _left._right = _right;
                    }
                }

                if (_value > current._value)
                {
                    if (_left == null && _right == null)
                    {
                        current._right = null;
                    }

                    else
                    {
                        current._right = _right;
                        _right._left = _left;
                    }
                }               
            }

            return current;
        } 
```

# c# - 未附加 PropertyChanged

> ID：15678967
> 
> 赞同：4
> 
> 时间：2013-03-28T10:06:07.783
> 
> 标签：c#, .net, wpf, events, dependency-properties

我在 WPF 中有一个可视化控件，它利用了依赖属性。这些属性由作为类的字段支持，有时需要通知所有绑定，属性值已更改，而实际上包含的类已被修改。

简单地说：

*   MyDepProp 是 MyClass 类型；
*   MyClass 的内容因控件的内部操作而改变；
*   我想通知大家，MyDepProp 发生了变化，这样他们就可以反映 MyClass 的变化。

MSDN 说，第一次使用依赖属性时，PropertyChanged 附加到 DependencyObject。它在 Visual Studio 2010 中工作。但是，在安装 Visual Studio 2012 后，它停止工作：即使使用了 DP（例如，绑定已附加到它），PropertyChanged 为空，我无法通知任何人更改。

我仍然使用 Visual Studio 2010 编译器工具包，所以看起来，这是一个损坏的框架问题，它与 VS 2012 一起更新。

我是否正确使用了 PropertyChanged 事件？还是 VS 2012 更新的 .NET 4.0 框架中的错误？有没有人遇到过类似的问题？

* * *

**编辑：**一段错误的代码：

```
public partial class MyImageControl : INotifyPropertyChanged,
    IHandle<ImageRefresh>
{
    // ***************************
    // *** Dependency property ***
    // ***************************

    private void OnDataSourceChanged()
    {
        // ...
    }

    private static void DataSourceChanged(DependencyObject d, DependencyPropertyChangedEventArgs e)
    {
        if (d is MyImageControl)
            ((MyImageControl)d).OnDataSourceChanged();
    }

    public static readonly DependencyProperty DataSourceProperty = DependencyProperty.Register("DataSource",
        typeof(IDataSource),
        typeof(MyImageControl),
        new PropertyMetadata(null, DataSourceChanged));

    public IDataSource DataSource
    {
        get
        {
            return (IDataSource)GetValue(DataSourceProperty);
        }

        set
        {
            SetCurrentValue(DataSourceProperty, value);
            if (PropertyChanged != null)
                PropertyChanged(this, new PropertyChangedEventArgs("DataSource"));
        }
    }

    // ***********************************
    // *** INotifyPropertyChanged impl ***
    // ***********************************

    public event PropertyChangedEventHandler PropertyChanged;

    // *************************************
    // *** Method, which exposes the bug ***
    // *************************************

    public void Handle(ImageRefresh message)
    {
        if (PropertyChanged != null)
            PropertyChanged(this, new PropertyChangedEventArgs("BackgroundKind"));
        if (PropertyChanged != null)
            PropertyChanged(this, new PropertyChangedEventArgs("DataSource"));
    }
} 
```

作为参考，IHandle 接口：

```
public interface IBaseHandle { }

public interface IHandle<TMessage> : IBaseHandle
{
    void Handle(TMessage message);
} 
```

**场景：**

*   DataSource使用*_*`Binding`
*   有人调用`Handle`控件的方法（使用`IHandle`接口）
*   处理检查 PropertyChanged 是否不为空，因此不会传播有关 DataSource 中更改的信息。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T11:24:02.287

首先，这段代码是多余的：

```
 if (PropertyChanged != null)
                PropertyChanged(this, new PropertyChangedEventArgs("DataSource")); 
```

不建议在通常的属性 setter 中编写任何额外的代码，因为 WPF DP 系统直接访问 DPs 而无需使用 setter 或 getter。提高方法`PropertyChanged`。`OnDataSourceChanged`

其次，您的控件继承`DependencyObject`了允许您添加 Dependecny 属性的内容。
有可能更新更改了以前的行为，并且 DP 系统现在在绑定到控件的 Dependency Property 时不会通过 ProprtyChanged 事件订阅通知，因为不需要它。DP系统有它的通知。这可能是 null
的原因。`PropertyChanged`

**更新**

我认为像你一样设置 CurrentValue 会导致细微的错误。通常`SetCurrentValue()`在由于某些内部原因需要更改值时使用。例如，当用户键入文本时`TextBox`设置其`Text`属性值。`SetCurrentValue()`这允许保存绑定。
但是，如果您尝试以编程方式设置绑定会发生什么？

根据您在评论中所说的，您可以尝试：

*   将值设置为 null 然后返回。

*   实现`INotifyPropertyChanged`数据源

*   称呼`DependencyObject.InvalidateProperty()`

# c - c - 在函数中初始化的数组指针在返回后包含错误的值

> ID：15678968
> 
> 赞同：0
> 
> 时间：2013-03-28T10:06:08.157
> 
> 标签：c, arrays, pointers, memory-management, int

我面临一个问题，我肯定做错了什么。我需要调用一个函数，该函数返回一个指向 int 数组的指针，但是当它返回后，数组中的值是错误的并且某些值丢失了。

```
int* patternForFirstDigit(int digit) {
    int *pattern;
    pattern = (int [6]){1,1,1,1,1,1};

    switch (digit) {
        case 0:
            pattern = (int [6]){1,1,1,1,1,1};
            break;

        case 1:
            pattern = (int [6]){1,1,2,1,2,2};
            break;

        default:
            pattern = (int [6]){0,0,0,0,0,0};
            break;
    }

    for (int i = 0; i < 6; i++) {
         printf("%i\n", pattern[i]);
    }

    return pattern;
} 
```

在数字 = 1 的情况下，这是打印的内容

```
1, 1, 2, 1, 2, 2 
```

但回国后

```
int *pattern = patternForFirstDigit(0);
for (int i = 0; i < 6; i++) {
     printf("%i\n", pattern[i]);
} 
```

这是打印的内容

```
1, -1405451528, -1405449120, 366001 
```

你知道出了什么问题吗？

多谢你们

PS：我使用的是 Xcode 4.6，我的项目使用的是 ARC，但我很确定这不是我的问题的原因。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-28T10:08:15.723

您不能返回指向在函数中创建的数组的指针。该数组在函数返回后不再存在，因此您的指针指向内存中某个随机的无效位置。

为指针分配内存（`malloc()`例如使用），然后返回一个指针。这也意味着您需要在完成后释放指针（使用`free()`）。

伪代码类似于：

```
int* patternForFirstDigit(int digit) {
  int *pattern = (int*) malloc(sizeof(int)*N);
  pattern[0] = 0;
  pattern[1] = 1;
  ...

  // Alternatively just create a local array and use a for-loop
  // to copy the contents to the pattern array.

  return pattern;
}

int *p = patternForFirstDigit(M);
// use p
free(p); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-28T10:08:48.387

这

```
(int [6]){1,1,2,1,2,2}; 
```

是函数中定义的局部数组。因此，当函数完成执行时，可以删除数组的数据。所以这就是为什么你在你的`printf`

1)`malloc`用于分配数组

```
int* patternForFirstDigit(int digit) {
    int *pattern = malloc(6*sizeof(int));

    memcpy(pattern, (int [6]){1,1,1,1,1,1}, 6*sizeof(int));

    switch (digit) {
        case 0:
            memcpy(pattern, (int [6]){1,1,1,1,1,1}, 6*sizeof(int));
            break;

        case 1:
            memcpy(pattern, (int [6]){1,1,2,1,2,2};, 6*sizeof(int));
            break;

        default:
            memcpy(pattern, (int [6]){0,0,0,0,0,0}, 6*sizeof(int));
            break;
    }

    for (int i = 0; i < 6; i++) {
         printf("%i\n", pattern[i]);
    }

    return pattern;
} 
```

以及代码中的某些地方`pattern`变得无用时，然后将其释放`free(pattern);`

2）或者`static`在数组的定义中使用：

```
int* patternForFirstDigit(int digit) {
    int *pattern; int i;
    static int A[6]={1,1,1,1,1,1};
    static int B[6]={1,1,2,1,2,2};
    static int C[6]={0,0,0,0,0,0};
    pattern = A;

    switch (digit) {
        case 0:
            pattern = A;
            break;

        case 1:
            pattern = B;
            break;

        default:
            pattern = C;
            break;
    }

    for (i = 0; i < 6; i++) {
         printf("%i\n", pattern[i]);
    }

    return pattern;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-28T10:11:24.910

问题是因为您要返回一个局部变量。局部变量是一个临时变量，在其范围消失后不再可用。您可以尝试以下方法：

```
int* patternForFirstDigit(int digit, int* pattern) {

    int* pattern1 = (int [6]){1,1,1,1,1,1};
int i;
    switch (digit) {
        case 0:
            pattern1 = (int [6]){1,1,1,1,1,1};
            break;

        case 1:
            pattern1 = (int [6]){1,1,2,1,2,2};
            break;

        default:
            pattern1 = (int [6]){0,0,0,0,0,0};
            break;
    }
memcpy(pattern,pattern1,6*sizeof(int));
    for ( i = 0; i < 6; i++) {
         printf("%i\n", pattern[i]);
    }
    return pattern;
} 
```

然后你可以像这样使用它：

```
pattern = malloc(6*sizeof(int));
pattern=patternForFirstDigit(1, pattern);
int i;
for ( i = 0; i < 6; i++) {
     printf("%i\n", pattern[i]);
}
free(pattern); 
```

# asp.net-mvc - Mvc - 返回文件并刷新页面

> ID：15678969
> 
> 赞同：4
> 
> 时间：2013-03-28T10:06:10.233
> 
> 标签：asp.net-mvc, refresh, download

因此，在我的操作结果中，我返回了一个已下载的文件。

```
return File(directory + @"\Issues.zip", "appicaltion/zip", "IssueReports.zip"); 
```

除此之外，我想刷新我的页面（这将摆脱屏幕上的一些对象。我通常会这样做

```
return RedirectToAction("Index"); 
```

但是我不能一次退回两件东西，对吧。所以如果有人能帮忙，那就太好了。

谢谢 （：

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-03-28T10:10:10.687

```
var outputStream = new MemoryStream();

using (var zip = new ZipFile())
{
zip.AddEntry("file1.txt", "content1");
zip.AddEntry("file2.txt", "content2");
zip.Save(outputStream);
}

outputStream.Position = 0;
return File(outputStream, "application/zip", "filename.zip"); 
```

# django - 基于 Django 类的“method_splitter” - 分别传递 2 个 slug 作为模型名称和字段值

> ID：15678970
> 
> 赞同：0
> 
> 时间：2013-03-28T10:06:12.767
> 
> 标签：django, django-views, django-urls, django-class-based-views

我想使用基于类的视图创建一个等效的[“method_splitter”](http://www.djangobook.com/en/2.0/chapter08.html)，以便删除我的 URL confs 中的一些硬编码。

我想要以下网址：

```
ListView: http://mysite.com/<model_name>/
DetailView: http://mysite.com/<model_name>/<field_value>/ 
```

ListView 的查询将是：

```
<model_name>.objects.all() 
```

DetailView 的查询集将是：

```
<model_name>.objects.get(<field>=<field_Value>) 
```

目前，我的观点是由于 url conf 中的一些硬编码而起作用的，但我想找到一个可以扩展的优雅解决方案。

我的解决方案没有给出 404，但什么也不显示：

**视图.py**

```
class ListOrDetailView(View):

def __init__(self, **kwargs):
    for key, value in kwargs.iteritems():
        setattr(self, key, value)

try: #If/Else instead?
    def goToDetailView(self, **kwargs):
        m = get_list_or_404(self.kwargs['model']) #Is this even needed?
        return DetailView(model=self.kwargs['model'], slug=self.kwargs['slug'], template_name='detail.html', context_object_name='object')

except: #If/Else instead?
    def goToListView(self, **kwargs):
        q = get_object_or_404(self.kwargs['model'], slug=self.kwargs['slug']) #Is this even needed?
        return ListView(model=self.kwargs['model'], template_name='list.html', context_object_name='object_list',) 
```

**MyApp 的 urls.py**

```
url(r'^(?P<model>[\w]+)/?(?P<slug>[-_\w]+)/$', ListOrDetailView.as_view()), 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T19:43:50.417

As limelights said, this is a horrible design pattern; the whole point of Django is separation of models and views. If you fear that you might have to write a lot of repetitive code to cover all your different models, trust me that it's not much of an issue with class-based views. Essentially, you need to write this for each of your models you wish to expose like this:

Urls.py:

```
urlpatterns = patterns('',
    url(r'^my_model/$', MyModelListView.as_view(), name="mymodel_list"),
    url(r'^my_model/(?P<field_value>\w+)/$', MyModelDetailView.as_view(), name="mymodel_detail"),
) 
```

views.py:

```
from django.views.generic import ListView, DetailView

class MyModelListView(ListView):
    model = MyModel

class MyModelDetailView(DetailView):
    model = MyModel

    def get_queryset(self):
        field_value = self.kwargs.get("field_value")
        return self.model.objects.filter(field=field_value) 
```

# java - Java 集合中的原始数组

> ID：15678972
> 
> 赞同：3
> 
> 时间：2013-03-28T10:06:29.657
> 
> 标签：java, collections

当我使用在 Java 中保存原始数组的泛型实现 Collection 时，实际存储在数组中的是什么？使用泛型定义集合意味着我只能存储一个对象，如果我要这样做，`ArrayList<Integer>`我可以添加一个`int`，但这会自动装箱到`Integer`.

如果我将`ArrayList<int[]>`其完全合法地定义为数组是对象。我不确定我实际上最终存储在集合中的是`Integer[]`编译器执行一些转换并将使用自动装箱添加到数组还是我可以存储`int[]`并且集合将存储原始数组作为数组本身是一个东西。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-28T10:07:55.037

`ArrayList<int[]>`将存储基元数组。将不涉及自动装箱。

在 Java 中，任何类型的数组（无论是否为原始类型）都是一个对象，因此与泛型兼容。

甚至有可能在不经意间以 的容器结束`int[]`，正如昨天这个有趣的问题所示：[Java containsAll does not return true when given lists](https://stackoverflow.com/questions/15664396/java-containsall-does-not-return-true-when-given-lists)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T10:10:46.470

int[] 永远不会被装箱到 Integer[]。数组始终是引用类型，因此不需要装箱。
Java 总是将数组作为对象处理，无论它是原始数组还是对象数组。
下面是关于[基元数组和对象数组的](http://www.javatutorialhub.com/java-arrays.html)一些细节。有关更多详细信息，请参阅[原始值](http://www.particle.kth.se/~lindsey/JavaCourse/Book/Part1/Java/Chapter03/arrays.html)和[对象](http://www.cs.usfca.edu/~wolber/courses/110/lectures/ArrayOfObjs.htm)数组。
我也建议你看看这个问题[Java: Array of original data types does not autobox](https://stackoverflow.com/questions/517751/java-array-of-primitive-data-types-does-not-autobox)

# java - java中键值的正则表达式

> ID：15678973
> 
> 赞同：0
> 
> 时间：2013-03-28T10:06:35.003
> 
> 标签：java, regex

我正在尝试在 java 中为这个字符串创建一个正则表达式：

```
key:value
key:"value" 
key:'value' 
key : value  
key :"value 123" 
key: 'value 123' 
```

每个条件都可以在一行中：

```
key:value key : value key : "value 123" 
```

我必须匹配它们中的每一个，捕获键和值，修剪且不带引号。

不幸的是，java 不支持正则表达式中的条件。

有人能帮我吗？

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T10:24:03.843

此模式应满足以下要求：

```
(\w+)( *):( *)(\w+|(["'])([\w\s]+)\5) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-28T10:28:11.097

这应该适合您的需求（[演示](http://regexr.com?34ah2)）：

```
(\w+)\s*:\s*((?:.(?!\w+\s*(?<!\\):))*) 
```

第一组包含键，第二组包含值。

我添加了一种管理嵌套`:`在值中的方法：只需使用`\`.

不过，您仍然必须修剪结果。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-28T10:57:54.637

您可以使用以下正则表达式：

```
/(\w+)\s*:\s*(((['"]).+?\4)|\w+)/ 
```

第 1 组将是您的关键，第 2 组将是价值。

### 现场演示：[http ://www.rubular.com/r/IPqtdneBeW](http://www.rubular.com/r/IPqtdneBeW)

# java - Slick2d 无法实例化类型游戏？

> ID：15678977
> 
> 赞同：0
> 
> 时间：2013-03-28T10:07:02.750
> 
> 标签：java, syntax-error, slick2d

嘿，伙计们，我刚开始用 Slick2d 创建一些程序或游戏。所以问题是我遇到了这样的错误：实例化类型 Game。

编码：

```
public HelloWorld()

 public static final String gamename = "Game"

 {
    super(gamename);
 }

@Override
public void init(GameContainer gc) throws SlickException
{

}

@Override
public void update(GameContainer gc, int delta) throws SlickException
{

}

@Override
public void render(GameContainer gc, Graphics g) throws SlickException
{
 g.drawString("Hello World", 100, 100);
}

public static void main(String[] args) throws SlickException
{
 AppGameContainer app = new AppGameContainer(new Game(gamename));

 app.setDisplayMode(800, 600, false);
 app.start(); 
```

} }

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T12:52:57.853

```
public static final String gameName = "Game";

public HelloWorld() {
    super(gameName);
}

Init method correct
Update method correct
Render method correct

public static void main(String[] args) throws SlickException {
    AppGameContainer app = new AppGameContainer(new HelloWorld());

    app.setDisplayMode(800, 600, false);
    app.start();
} 
```

我认为您应该在发布此类问题之前再做一些教程。确保将我的更正放在扩展 BasicGame 的 HelloWorld 类中，我认为它是。该名称必须与我的构造函数相同。如果您完全不知道我在说什么，请在 Google 上搜索基本的 Java 教程。

享受

Ps 我是用手机写的，所以我没有测试过代码

# mysql - 为什么在文件的每一行上运行 MySQLdump 的脚本会给出错误“找不到命令”？

> ID：15678978
> 
> 赞同：0
> 
> 时间：2013-03-28T10:07:14.070
> 
> 标签：mysql, bash, command-line, command, command-line-interface

为初学者和测试命令执行自动数据库备份。我发现通过 BASH CLI 对文本文件的每一行执行操作的效果如下：

```
# while read line; do
      COMMAND $line
  done 
```

我创建了一个数据库名称文件列表：

```
# mysql -uroot -e "show databases" > databases 
```

然后对文件尝试以下操作，看看它是否可以正常工作。

```
# while read line; do 
  "mysqldump -uroot $line > /dbbackups/$line.sql"
  done 
```

看起来，这将正常工作，但遇到以下错误：

```
[04:58:46] [root@theia database-backup-testing]# cat databases | while read line ; do "mysqldump -uroot $line > $line.sql" ; done
-bash: mysqldump -uroot Database > Database.sql: command not found
-bash: mysqldump -uroot information_schema > information_schema.sql: command not found
-bash: mysqldump -uroot cphulkd > cphulkd.sql: command not found 
```

我不确定为什么它给出命令未找到，显然，命令的输出似乎是正确的。我也尝试过使用 mysqldump (/usr/bin/mysqldump) 的绝对路径，但它给出了相同的错误。

谁能告诉我为什么会这样？

* * *

编辑：我找到了一个修复：

如果引号被删除，该脚本将起作用：

```
# cat databases | 
  while read line; do 
      mysqldump -uroot $line > $line.sql
  done 
```

显然，引号导致它作为字符串而不是命令执行。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T10:16:43.257

这是解决此问题的 bash 脚本： [https ://github.com/jeevandongre/backup-restore](https://github.com/jeevandongre/backup-restore)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T10:19:06.270

> 为什么它给出命令未找到

您的报价不正确，请尝试以下操作：

```
while read line ; do mysqldump -uroot "$line" > "$line".sql ; done 
```

没用过[`mysqldump`](http://dev.mysql.com/doc/refman/5.6/en/mysqldump.html)，所以我无法帮助特定命令的语法。

# jquery - 即使使用 cors = true，Jquery ajax 也不能在 IE9 中工作

> ID：15678983
> 
> 赞同：2
> 
> 时间：2013-03-28T10:07:22.410
> 
> 标签：jquery, xml, ajax, internet-explorer-9

这是我的简单 ajax 代码，适用于 FFX 和 Chrome，但不适用于 IE9。我厌倦了这个我无法表达的浏览器。这是我的jQuery代码：

```
 $.ajax({
                type: "GET",
                dataType: "xml",
                crossDomain: true,
                cache:false,
                url: "http://somedomain.net/folder/ap/connector.php"
            }).success(function (result, payPalresult) {
}); 
```

在 document.ready 和 connector.php 里面有

```
Access-Control-Allow-Origin * 
```

当我签入提琴手时。现在此代码适用于 FFX 和 Chrome，但在 IE9 中从未进行过 ajax 调用

我什至有这个：

```
 $.support.cors = true; 
```

在这一点上我有什么遗漏吗？我正在从本地主机发出 AJAX 请求

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-28T10:09:07.493

jQuery 不支持 IE 的`XDomainRequest`对象，这是 IE9 用于 CORS 的。只有 IE10 使用`XMLHttpRequest`. `XDomainRequest`我相信您可以找到一个启用该对象的 jQuery 补丁/插件。更多信息（包括六个月前更新的补丁/插件的链接，所以相当新）在jQuery 网站上的[这张票中。](http://bugs.jquery.com/ticket/8283)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-18T10:27:42.513

如果它对 IE9 的解决方法有帮助，则无需使用 xdr（无论如何在受信任的站点区域中）并假定 CORS 为真且 crossDomain 为真。

进行 POST 时，**不要**序列化表单，而是从表单中提取您需要的所有数据，并将每个数据设置为 $ 数据容器中的名称：值对。然后它工作。

高温高压

# java - Java - 在 ConcurrentSkipListMap 上同步线程是否可以接受？

> ID：15678984
> 
> 赞同：0
> 
> 时间：2013-03-28T10:07:26.063
> 
> 标签：java, multithreading, concurrentskiplistmap

我有一个程序，其中许多线程将他们的请求发布到`PriorityQueue`. 稍后，他们等待来自 的回应`ConcurrentSkipListMap`。有一个线程发布对`ConcurrentSkipListMap`​​.

以下代码行说明了这一点：

**在程序初始化时**

```
PriorityQueue<Request> requests = new PriorityQueue<Request>();
ConcurrentSkipListMap<Long, Reponse> responsesReceived = new ConcurrentSkipListMap<Long, Reponse>(); 
```

**在调用者线程中**

```
// Send request ...
Request r = ... // Elaborate the request 
requests.add(r);

// ... then wait for an answer
Long id = r.getId();
while (responsesReceived.containsKey(id) == false) {
    synchronized (responsesReceived) {
         responsesReceived.wait();
    }
}

Answer a = responsesReceived.take(id);

// Do other things ... 
```

**在响应处理程序线程中**

```
// Wait for a remote answer
Answer answer = ...;

// Once received publish it in ConcurrentSkipListMap
responsesReceived.put(answer.getRequestId(), answer);

synchronized (responsesReceived) {
    responsesReceived.notify();
}

// Go back and wait for a new answer... 
```

**问题**

*   在 上同步调用者线程和响应处理程序线程是否安全`ConcurrentSkipListMap`？
*   我应该使用 Lock 进行同步吗？
*   我应该使用 a `HashMap`of locks ( `HashMap<Long,Object>`) 吗？

我对 java.util.concurrent API 很陌生，我有一些疑问......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T10:12:34.477

使用同步/等待/通知，您可以使用任何对象作为锁。至于将作业提交到队列并等待其结果，请查看`ExcutorService`、`Future`和`CompletionService`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T10:12:19.273

虽然这可行，但它可能不是表示您正在做的事情的最清晰方式。我会为此类通知添加一个单独的“锁定”对象。

注意：除非您只有一个等待线程，否则我会使用 notifyAll()。

# c - 预处理器#if 不起作用

> ID：15678986
> 
> 赞同：1
> 
> 时间：2013-03-28T10:07:31.790
> 
> 标签：c, c-preprocessor

**我正在尝试在C**中编写一个通用的 printArray 函数，我将能够使用多个程序运行该函数，每个程序都有不同类型的数组。我这样做了：

```
#define TYPE int /* or char or double*/

void printArray(TYPE *a, int size){
    for (int i=0; i<size; i++){
#if TYPE == int
        printf("%d ", a[i]);
#elif TYPE == char
        printf("%c ", a[i]);
#elif TYPE == double
        printf("%f ", a[i]);
#endif
    }
    printf("\n");
} 
```

我试过运行它，但无论 TYPE 被定义为什么，第一个`#if`总是签入，这意味着 - 如果写了 if ：

```
#if TYPE == int
        printf("int");
#elif TYPE == char
        printf("char");
#elif TYPE == double
        printf("double");
#endif 
```

那么它将打印“int”，即使 TYPE 被定义为 char，并且如果

```
#if TYPE == char
        printf("char");
#elif TYPE == int 
        printf("int");
#elif TYPE == double
        printf("double");
#endif 
```

然后它将打印“char”，即使 TYPE 被定义为 int 等。

想法？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-28T10:13:16.560

预处理器#if 计算整数表达式。您试图将 == 视为比较令牌。由于 int、char、double 等未定义为预处理器变量，因此它们都评估为 0。

你可以做

```
#define TYPE int
#define FMT "%d"

void printArray(TYPE *a, int size){
    for (int i=0; i<size; i++)
        printf(FMT " ", a[i]);

    printf("\n");
} 
```

简单得多，并且有效。

如果您只想指定类型，您可以执行类似的操作

```
#define FMT_int "%d"
#define FMT_char "%c"
#define FMT_double "%f"
#define FMT PPCAT(FMT_, TYPE) 
```

[在我对C/C++ 宏字符串连接](https://stackoverflow.com/questions/5256313/c-c-macro-string-concatenation)的回答中定义了 PPCAT

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-28T10:14:19.503

C 和 C++ 预处理器只能处理数字（准确地说是数字文字）。在表达式中，它无法识别的任何单词（在所有宏扩展之后）都被视为`0`.

你需要做这样的事情：

```
#define TYPE_int 0
#define TYPE_char 1
#define TYPE_double 2

#define TYPE_USED TYPE_int

#if TYPE_USED == TYPE_int
typedef int TYPE;
#elif TYPE_USED == TYPE_char
typedef char TYPE;
#elif TYPE_USED == TYPE_double
typedef double TYPE;
#endif

void printArray(TYPE *a, int size){
    for (int i=0; i<size; i++){
#if TYPE_USED == TYPE_int
        printf("%d ", a[i]);
#elif TYPE_USED == TYPE_char
        printf("%c ", a[i]);
#elif TYPE_USED == TYPE_double
        printf("%f ", a[i]);
#endif
    }
    printf("\n");
} 
```

您可以使用[boost.preprocessor](http://www.boost.org/doc/libs/1_53_0/libs/preprocessor/doc/index.html)通过预处理器循环执行一些元编程魔术，而不是手动列出所有值。

当然，上面的代码适用于 C。如果您使用的是 C++，请使用模板而不是宏 hacks，`std::cout`而不是`printf()`.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-28T10:11:59.477

您应该尽可能避免使用预处理器，这是何时避免使用它的经典示例！如果您需要编写依赖于类型的代码，那么您可以为此使用模板、继承或多态。

在这种情况下，您可以重写`printArray`为模板函数：

```
template<class T>
void printArray(T *data, int count)
{
  for(int i=0; i<count; i++)
  {
    cout << data[i] << " ";
  }

  cout << endl;
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-28T10:14:16.610

预处理器评估或多或少类似于 C++ 评估。它是数字的（尽管预处理器处理文本）。宏扩展后保留的任何预处理器符号都将替换为`0`，并且 C++ 关键字仍然是预处理器中的符号。（预处理器符号 有一个特殊的例外`true`，它扩展为`1`。）所以最后，你所有的比较结果都是`0 == 0`，这总是正确的。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-28T10:22:06.517

[http://msdn.microsoft.com/en-us/library/ew2hz0yd(v=VS.80).aspx](http://msdn.microsoft.com/en-us/library/ew2hz0yd(v=VS.80).aspx)

常量表达式是一个带有一些附加限制的整数常量表达式。

看来你无法比较字符串。尝试以下操作：

```
#define TYPE_int /* put this too */
#define TYPE int /* or char or double*/
void printArray(TYPE *a, int size){
    for (int i=0; i<size; i++){
#ifdef TYPE_int
        printf("%d ", a[i]);
#elif defined TYPE_char
        printf("%c ", a[i]);
#elif defined TYPE_double
        printf("%f ", a[i]);
#endif
    }
    printf("\n");
} 
```

# python - 如何让模块内的函数对类可用？

> ID：15678988
> 
> 赞同：0
> 
> 时间：2013-03-28T10:07:35.553
> 
> 标签：python, class, pep8

所以我有以下情况：

我有一个具有多个函数定义的模块。我想创建一个具有这些功能的类。

我只是想问哪种方式最好？选项1

```
import ModuleWithFunctions

class bla(object):

    ModuleWithFunctions = ModuleWithFunctions 
```

选项2

```
class bla(object):

    import ModuleWithFunctions 
```

我知道选项 2 反对 PEP 8，所以我假设人们会说选项 1，但是，如果我希望所有内容都可用：

```
bla.(function) 
```

代替：

```
bla.ModuleWithFunctions.(function) 
```

我怎么能用option1做到这一点？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-28T10:13:10.887

你一般不会这样做。

您*通常*会创建一个基类`baseclass_module`：

```
# baseclass_module.py

class BaseClass(object):
    def method1(self):
        # ...

    def method2(self):
        # ... 
```

然后在其他模块中使用它：

```
from baseclass_module import BaseClass

class Bla(BaseClass):
    # ... 
```

# java - Executor Service 从 Servlet Threads 启动

> ID：15678990
> 
> 赞同：0
> 
> 时间：2013-03-28T10:07:37.630
> 
> 标签：java, jakarta-ee, web-applications, spring-mvc

我正在一个 Web 项目中创建 Executor，以便在响应返回到 Web 后，可调用对象可以完成工作。callable 在幕后所做的工作不是当前页面所必需的，而是后续页面所必需的。

据我所知，当响应返回到网络时，servlet 线程可以自由处理另一个请求。在这种情况下，尽管 servlet 线程创建了一个执行程序服务，但即使可调用对象处于活动状态，只要响应被发回，它就应该可以处理另一个传入请求。我的理解正确吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T11:41:39.133

If you are creating a new thread, which it sounds like you are, then you are correct. The thread handing the Servlet request goes back in the pool and is free to return results and take the next request.

# ruby - 如何将子类变量返回到ruby中的父类

> ID：15678995
> 
> 赞同：4
> 
> 时间：2013-03-28T10:07:57.837
> 
> 标签：ruby, class, inheritance

我想创建一个基类来处理所有方法。在这种情况下，我将如何使用 ruby​​ 来实现这一点？

```
class Dog
  def initialize
    @breed = "good breed"
  end

  def show_dog
    puts "#{self.class.first_name} of breed #{@breed}"
  end
end

class Lab < Dog

  attr_reader :first_name
  def initialize
    @first_name = "good dog"
  end
end

lb = Lab.new()
lb.show_dog 
```

预期的结果将是“品种好品种的好狗”提前谢谢你:)

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-28T10:11:49.833

1.  `self.class.first_name`不做你可能想做的事。您需要`@first_name`直接使用。

2.  您需要从子类调用父类的构造函数；它不会自动调用。

这有效：

```
class Dog
  def initialize
    @breed = "good breed"
  end

  def show_dog
    puts "#{@first_name} of breed #{@breed}" ### <- Changed
  end
end

class Lab < Dog

  attr_reader :first_name
  def initialize
    super ### <- Added
    @first_name = "good dog"
  end
end

lb = Lab.new()
lb.show_dog 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-28T10:19:17.613

`self.class.first_name`表示`Lab.first_name`，而不是 Lab 的实例`lb.first_name`