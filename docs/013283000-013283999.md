# StackOverflow 问答 13283000-13283999

# iphone - iPhone中的UIWebView全屏视频

> ID：13283000
> 
> 赞同：1
> 
> 时间：2012-11-08T05:27:43.060
> 
> 标签：iphone, ios, xcode, uiwebview, youtube

我在 UIWebview 中显示一个 youtube 视频链接。当我点击视频时，它开始在 iPhone Media pLayer 中播放。当我在媒体播放器中点击全屏模式时，它会以 AspectFill 模式拉伸视频。是否可以将媒体播放器模式更改为 AspectFit。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T05:32:14.037

MPMoviePlayerViewController类实现[**了**](http://developer.apple.com/library/ios/#documentation/mediaplayer/reference/mpmovieplayerviewcontroller_class/Reference/Reference.html) 一个简单的视图控制器，用于显示全屏电影。与单独使用 MPMoviePlayerController 对象来立即呈现电影不同，您可以在通常使用视图控制器的任何地方合并电影播放器​​视图控制器。例如，您可以使用选项卡栏或基于导航栏的界面来展示它，利用这些界面提供的转换。

# php - 授予 Linux 等权限

> ID：13283005
> 
> 赞同：-4
> 
> 时间：2012-11-08T05:28:07.950
> 
> 标签：php, math

我为这样的人授予权限：

```
$ARR_PERSON = array(
     2 => "Person B",
     4 => "Person C",
     8 => "Person D",
     16 => "Person E",
     32 => "Person F",
    ); 
```

问题是我有号码时不知道如何获得许可。例如： 24\. 如何拆分成 8 和 16？我想不出解决办法。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-08T05:30:26.793

使用按位运算。当`PERMISSION & MASK`为非零时（例如，`24 & 16`），设置标志。当它为零时，不设置标志。

# c# - 如何在不使用 c# 书写 xml 结构的情况下从 xml 文档中删除重复元素

> ID：13283012
> 
> 赞同：2
> 
> 时间：2012-11-08T05:28:38.177
> 
> 标签：c#, linq, xml-parsing, linq-to-xml

下面是示例 xml 。

```
<?xml version="1.0"?>
<Terms>  
   <Term Id="D7923D9888BF100482C2CB8225D5863E" Name="Television" IsPlaceholder="false" />  
   <Term Id="F25AF2D07E4E100484F5DF092526B43E" Name="General news" IsPlaceholder="false">
     <ChildTerms>
       <Term Id="04969DF089DA10048141D56C852D093E" Name="Bombings" IsPlaceholder="false" />
       <Term Id="0E8CF338896510048024D56C852D093E" Name="Protests and demonstrations" IsPlaceholder="false" />
       <Term Id="17956128897810048CE8D56C852D093E" Name="Law and order" IsPlaceholder="false">
     <ChildTerms>
       <Term Id="3EC37E763F534FDB8A10C63768DAD1B7" Name="Executions" IsPlaceholder="false" />
       <Term Id="78C99FE8829F100481B5DF092526B43E" Name="Trials" IsPlaceholder="false" />
       <Term Id="C72CC1E0883210048566AE2AC3A6923E" Name="Prison breaks" IsPlaceholder="false" />
       <Term Id="CD42D51088321004856EAE2AC3A6923E" Name="Prison riots" IsPlaceholder="false" />
    </ChildTerms>
   </Term>
   <Term Id="31711EC0894B10048983BA0A2B2CA13E" Name="Accidents and disasters" IsPlaceholder="false">
    <ChildTerms>
      <Term Id="2D777E23418C4A61AB869F88F0CC22B5" Name="Industrial accidents" IsPlaceholder="false">
        <ChildTerms>
          <Term Id="6EF1C84088321004850DAE2AC3A6923E" Name="Mining accidents" IsPlaceholder="false" />
          <Term Id="77A15F9213344CF8AEFBD6560C618C9A" Name="Oil spills" IsPlaceholder="false" />
        </ChildTerms>
      </Term>
      <Term Id="439E22A0894B100489C4BA0A2B2CA13E" Name="Structural failures" IsPlaceholder="false">
        <ChildTerms>
          <Term Id="513CDC30894B10048A8E87A309043C03" Name="Bridge collapses" IsPlaceholder="false" />
          <Term Id="513D0340894B10048A8E87A309043C03" Name="Building collapses" IsPlaceholder="false" />
        </ChildTerms>
      </Term>
      <Term Id="58AD538091C7100480A9A55C96277D3E" Name="Evacuations" IsPlaceholder="false" />
      <Term Id="6B5B04B0882F100480E6AE2AC3A6923E" Name="Fires" IsPlaceholder="false">
        <ChildTerms>
          <Term Id="69D001C8896410048EBBD56C852D093E" Name="Residential fires" IsPlaceholder="false" />
          <Term Id="6C61CA38882F10048FA88BB2970C7204" Name="Wildfires" IsPlaceholder="false" />
        </ChildTerms>
      </Term>
      <Term Id="6C633968882F10048FA88BB2970C7204" Name="Floods" IsPlaceholder="false" />
      <Term Id="7448DD4882A0100481DDDF092526B43E" Name="Natural disasters" IsPlaceholder="false">
        <ChildTerms>
          <Term Id="6C61CA38882F10048FA88BB2970C7204" Name="Wildfires" IsPlaceholder="false" />
          <Term Id="6C615120882F10048FA68BB2970C7204" Name="Earthquakes" IsPlaceholder="false" />
          <Term Id="6C618FA0882F10048FA78BB2970C7204" Name="Tsunamis" IsPlaceholder="false" />
          <Term Id="6C6281D0882F10048FA88BB2970C7204" Name="Droughts" IsPlaceholder="false" />
          <Term Id="6C62C050882F10048FA88BB2970C7204" Name="Landslides and mudslides" IsPlaceholder="false" />
          <Term Id="6C633968882F10048FA98BB2970C7204" Name="Avalanches" IsPlaceholder="false" />
          <Term Id="A6F2C1C887E110048A6E8BEAE5FD5C07" Name="Tornados" IsPlaceholder="false" />
          <Term Id="B4600998883010048C189528EB155503" Name="Volcanic eruptions" IsPlaceholder="false" />
          <Term Id="DC90FFA0686948409257760CC35E98EB" Name="Tropical cyclones" IsPlaceholder="false">
            <ChildTerms>
              **<Term Id="6C6377E8882F10048FAB8BB2970C7204" Name="Hurricanes" IsPlaceholder="false" />**
              <Term Id="A6F2C1C887E110048A6D8BEAE5FD5C07" Name="Tropical storms" IsPlaceholder="false" />
            </ChildTerms>
          </Term>
        </ChildTerms>
      </Term>
      <Term Id="B6503CF08830100482EFAE2AC3A6923E" Name="Power outages" IsPlaceholder="false" />
      <Term Id="CCC363A0882F10048140AE2AC3A6923E" Name="Explosions" IsPlaceholder="false" />
      <Term Id="E20E7174E0154782B8733D180A799D34" Name="Transportation accidents" IsPlaceholder="false">
        <ChildTerms>
          <Term Id="3C105048882F100489FD9528EB155503" Name="Automotive accidents" IsPlaceholder="false" />
          <Term Id="3C107758882F100489FE9528EB155503" Name="Maritime accidents" IsPlaceholder="false" />
          <Term Id="41687660882F10048A199528EB155503" Name="Plane crashes" IsPlaceholder="false" />
          <Term Id="6AA161B575F64C62993BC3E9CD82BB69" Name="Rail accidents" IsPlaceholder="false" />
        </ChildTerms>
      </Term>
    </ChildTerms>
  </Term>
  <Term Id="48612B807C2B4B93BBBACBF54F547AD5" Name="Crime" IsPlaceholder="false">
    <ChildTerms>
      <Term Id="13C6A480899B10048B9DD56C852D093E" Name="Violent crime" IsPlaceholder="false">
        <ChildTerms>
          <Term Id="5018B8F4DED948128561C5AF2144CA66" Name="Shootings" IsPlaceholder="false">
            <ChildTerms>
              <Term Id="312A72707E8510048A118087FC32D30C" Name="School shootings" IsPlaceholder="false" />
            </ChildTerms>
          </Term>
          <Term Id="92DD72A8899B10048F2CD56C852D093E" Name="Assassinations" IsPlaceholder="false" />
          <Term Id="C5A59C298A2A4A36A618EFB20DF09A3C" Name="Homicide" IsPlaceholder="false" />
          <Term Id="FCAF54924FA3415DA977901DDB1E2EA7" Name="Gang-related crime" IsPlaceholder="false" />
        </ChildTerms>
      </Term>
      <Term Id="CA356A4172C64D3FA631803BA6CCC074" Name="Arson" IsPlaceholder="false" />
      <Term Id="CD80007770234E6AA95991F7D3B0C737" Name="Hate crimes" IsPlaceholder="false" />
    </ChildTerms>
  </Term>
  <Term Id="5F7806EEC29A4884B038A26D799E9326" Name="Strikes" IsPlaceholder="false" />
  <Term Id="5FC806A87DF7100483EBDF092526B43E" Name="Weather" IsPlaceholder="false">
    <ChildTerms>
      <Term Id="A6F2C1C887E110048A6E8BEAE5FD5C07" Name="Tornados" IsPlaceholder="false" />
      <Term Id="88C2A7E08886100487FECB8225D5863E" Name="Storms" IsPlaceholder="false">
        <ChildTerms>
          <Term Id="DC90FFA0686948409257760CC35E98EB" Name="Tropical cyclones" IsPlaceholder="false">
            <ChildTerms>
              **<Term Id="6C6377E8882F10048FAB8BB2970C7204" Name="Hurricanes" IsPlaceholder="false" />**
              <Term Id="A6F2C1C887E110048A6D8BEAE5FD5C07" Name="Tropical storms" IsPlaceholder="false" />
            </ChildTerms>
          </Term>
          <Term Id="59143B3791444BF7BD11992B42B8EA2E" Name="Wind storms" IsPlaceholder="false" />
          <Term Id="A6F248B087E110048A6B8BEAE5FD5C07" Name="Blizzards" IsPlaceholder="false" />
          <Term Id="A6F2873087E110048A6C8BEAE5FD5C07" Name="Thunderstorms" IsPlaceholder="false" />
          <Term Id="A6F3004887E110048A6F8BEAE5FD5C07" Name="Ice storms" IsPlaceholder="false" />
        </ChildTerms>
      </Term>
    </ChildTerms>
  </Term>
  <Term Id="7CF243908830100481E9AE2AC3A6923E" Name="War and unrest" IsPlaceholder="false">
    <ChildTerms>
      <Term Id="3510D930896410048E5CD56C852D093E" Name="Genocides" IsPlaceholder="false" />
      <Term Id="535DB1708832100484DBAE2AC3A6923E" Name="Troop withdrawals" IsPlaceholder="false" />
      <Term Id="5FEF4190897910048240D56C852D093E" Name="Massacres" IsPlaceholder="false" />
      <Term Id="6BCC38A43C5C4BC196FB108112EAA6C1" Name="Civil wars" IsPlaceholder="false" />
      <Term Id="98C3B8C5D6AF41C296A3CA1E4C0977ED" Name="Terrorism" IsPlaceholder="false">
        <ChildTerms>
          <Term Id="D7F9E33889701004837FD56C852D093E" Name="Terrorist attacks" IsPlaceholder="false" />
        </ChildTerms>
      </Term>
      <Term Id="9BEC03A0883310048673AE2AC3A6923E" Name="Military occupations" IsPlaceholder="false" />
      <Term Id="B9779BC8896410048F4CD56C852D093E" Name="Troop deployments" IsPlaceholder="false" />
    </ChildTerms>
  </Term>
  <Term Id="877CB3C0899A10048ABBD56C852D093E" Name="Transportation" IsPlaceholder="false">
    <ChildTerms>
      <Term Id="E20E7174E0154782B8733D180A799D34" Name="Transportation accidents" IsPlaceholder="false">
        <ChildTerms>
          <Term Id="3C105048882F100489FD9528EB155503" Name="Automotive accidents" IsPlaceholder="false" />
          <Term Id="3C107758882F100489FE9528EB155503" Name="Maritime accidents" IsPlaceholder="false" />
          <Term Id="41687660882F10048A199528EB155503" Name="Plane crashes" IsPlaceholder="false" />
          <Term Id="6AA161B575F64C62993BC3E9CD82BB69" Name="Rail accidents" IsPlaceholder="false" />
        </ChildTerms>
      </Term>
      <Term Id="9031A908899A10048BAFCECE19677003" Name="Traffic" IsPlaceholder="false" />
      <Term Id="90321E38899A10048BAFCECE19677003" Name="Air travel disruptions" IsPlaceholder="false" />
      <Term Id="90321E38899A10048BB0CECE19677003" Name="Rail travel disruptions" IsPlaceholder="false" />
    </ChildTerms>
  </Term>
  <Term Id="9D48E670883110048405AE2AC3A6923E" Name="International incidents" IsPlaceholder="false" />
  <Term Id="A0433408883010048BE79528EB155503" Name="Riots" IsPlaceholder="false" />
  <Term Id="CAEFF3958DE64F4D989F5EF1209BD073" Name="Humanitarian crises" IsPlaceholder="false">
    <ChildTerms>
      <Term Id="463C2098896410048E93D56C852D093E" Name="Famine" IsPlaceholder="false" />
    </ChildTerms>
  </Term>
  <Term Id="CE211E3891B0100483C1A55C96277D3E" Name="Record setting events" IsPlaceholder="false" />
  <Term Id="DA6509F88971100486C5D56C852D093E" Name="Search and rescue efforts" IsPlaceholder="false" />
</ChildTerms> 
```

如您所见，**飓风**有两个条目（请在元素之前找到**标记）我只想删除其中任何一个。我尝试使用Linq，但它正在涂鸦xml的结构。请帮帮我。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-08T07:24:22.560

**删除所有重复项并保留一个的 LINQ 解决方案**

```
XElement xml = XElement.Load("data.xml");

string toRemove ="Hurricanes";

//Find the Number of Duplicates
int duplicateCount=xml.Descendants("Term")
                      .GroupBy(xe => xe.Attribute("Name").Value)
                      .Where(x => x.Key == toRemove)
                      .Select<IGrouping<string, XElement>, int>(y => y.Count())
                      .First();

//Remove all duplicates but one
xml.Descendants("Term").Where(xe => xe.Attribute("Name").Value == toRemove)
                       .Take(duplicateCount-1)
                       .Remove();

xml.Save("moddata.xml"); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-08T05:49:44.400

我可能会尝试 XPath。您可以使用 XDocument 的 XPathSelectElements 方法获取具有“飓风”值的 Name 属性的元素列表：

[http://msdn.microsoft.com/en-us/library/bb342176%28v=vs.90%29.aspx](http://msdn.microsoft.com/en-us/library/bb342176%28v=vs.90%29.aspx)

使用 ToList 将该 IEnumerable 元素列表放入 IList 中，然后在每个节点上调用 Remove：

[http://msdn.microsoft.com/en-us/library/system.xml.linq.xnode.remove.aspx](http://msdn.microsoft.com/en-us/library/system.xml.linq.xnode.remove.aspx)

这应该从它们存在于 XML 树中的任何位置删除所有元素。

# php - 这个查询有什么问题

> ID：13283013
> 
> 赞同：0
> 
> 时间：2012-11-08T05:28:39.627
> 
> 标签：php, mysql

```
$deleteUser = $_POST['userId'];

$query =    "DELETE FROM users AS USERS
           LEFT JOIN posts AS POSTS
           ON USERS.id = POSTS.postAuthor
           WHERE USERS.id = '$deleteUser' AND POSTS.postAuthor = '$deleteUser'"; 
```

我正在尝试删除用户和他们可能创建的任何帖子。我错过了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T05:30:05.787

指定执行的表或`DELETE`别名

```
DELETE USERS FROM users AS USERS
       LEFT JOIN posts AS POSTS
       ON USERS.id = POSTS.postAuthor
WHERE USERS.id = '$deleteUser' AND POSTS.postAuthor = '$deleteUser' 
```

# mysql - 更改显示格式

> ID：13283016
> 
> 赞同：0
> 
> 时间：2012-11-08T05:28:55.467
> 
> 标签：mysql

```
studentid inst_n0 1st_pay              2nd_pay           3rd_pay 4th_pay
50       4     22/02/2011|25000|Y 08/04/2011|17500|Y|5  22/01/2012|25000|N|27   22/04/2012|17500|N|26 
```

我希望它变成这样：-

```
studentid inst_no       payment              pay_n0
50         4       22/02/2011|25000|Y        1st_pay 
50         4       08/04/2011|17500|Y        2nd_pay
50         4       22/01/2012|25000|N        3rd_pay
50         4       22/04/2012|17500|N        4th_pay 
```

请帮我...

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-11-08T05:43:02.707

```
select studentid, inst_no, 1st_pay as 'payment', '1st_pay' as 'pay_n0' from tableName

union

select studentid, inst_no, 2st_pay as 'payment', '2st_pay' as 'pay_n0' from tableName

union

select studentid, inst_no, 3st_pay as 'payment', '3st_pay' as 'pay_n0' from tableName

union

select studentid, inst_no, 4st_pay as 'payment', '4st_pay' as 'pay_n0' from tableName 
```

# regex - 我需要一个正则表达式来验证可以是 1、2 或 3 个单词的名称

> ID：13283017
> 
> 赞同：0
> 
> 时间：2012-11-08T05:28:56.483
> 
> 标签：regex

在此示例中，我尝试验证城市名称。如果我进入圣路易斯奥比斯波，它会起作用，但如果我进入 Boulder Creek 或 Boulder，则不会。我想 ？应该使一个块可选。

```
 if (!/^[a-zA-Z'-]+\s[a-zA-Z'-]*\s([a-zA-Z']*)?$/.test(field)){
        return "Enter City only a-z A-Z .\' allowed and not over 20 characters.\n";
        } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T05:50:29.107

我认为空格是问题（\ s）。您将第二个和第三个单词设为可选（通过使用 * 而不是 +），但不是空格。由于括号，问号仅应用于第三个单词。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-08T05:53:21.573

您的正则表达式的问题在于，在英语中，它表示要匹配一个需要后跟一个空格的单词，该空格后面可以选择跟随另一个单词，但随后需要有另一个空格，然后是可选的另一个单词。因此，一个单词不会匹配 - 但是，一个单词后跟两个空格会匹配。此外，末尾有空格的两个单词也会匹配 - 但没有尾随空格的单词都不会匹配。

要修复您的确切正则表达式，您应该在句子末尾的第二个单词周围添加另一个分组（不匹配的组，`(?:`而不是 just `(`），并将该组作为可选的`?`. 此外，将`\s`' 也移动到可选组内。

试试这个：

```
^[a-zA-Z'-]+(?:\s[a-zA-Z'-]+(?:\s[a-zA-Z']+)?)?$ 
```

正则表达式解释：

```
^                           # beginning of line
    [a-zA-Z'-]+             # first matching word
    (?:                     # start of second-matching word
        \s[a-zA-Z'-]+       # space followed by matching word
        (?:                 # start of third-matching word
            \s[a-zA-Z']+    # space followed by matching word
        )?                  # third-matching word is optional
    )?                      # second-matching word is optional
$                           # end of line 
```

或者，您可以尝试以下正则表达式：

```
^([a-zA-Z'-]+(?:\s[a-zA-Z'-]+){0,2})$ 
```

这将匹配给定行中的 1 到 3 个单词或“城市”，并且能够调整单词的范围，而无需为每个新单词进一步复制匹配集。

正则表达式解释：

```
^(                            # start of line & matching group
    [a-zA-Z'-]+               # required first matching word
    (?:                       # start a non-matching group (required to "match", but not returned as an individual group)
        \s                    # sub-group required to start with a space
        [a-zA-Z'-]+           # sub-group matching word
    ){0,2}                    # sub-group can match 0 -> 2 times
)$                            # end of matching group & line 
```

所以，如果你想添加匹配3个以上单词的能力，你可以将`2`上面`{0,2}`范围内的 更改为你想匹配的单词数减1（即如果你想匹配4个单词，你将设置它到`{0,3}`）。

# php - RSS 提要必须是 XML 文件吗？

> ID：13283019
> 
> 赞同：1
> 
> 时间：2012-11-08T05:28:56.663
> 
> 标签：php, xml, wordpress

我问这个是因为我在 wordpress 博客中只看到两个 xml 文件，wlwmanifest.xml 和 default.xml，而且看起来都不像 rss 提要。但是，我确实看到了一个名为 feed-rss2.php 的 php 文件，它看起来像一个 rss 提要。我读过的所有内容都说 rss 提要必须是 xml 文件。我错了吗？它们可以是内部带有 xml 代码的 php 文件吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-08T05:32:29.023

他们只是输出带有 XML 标头的 XML 代码。实际文件不必是 XML 文件，只是响应必须是 text/xml 并包含 XML 输出。你可以对 CSS 文件之类的东西做同样的事情......真的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-08T05:34:35.077

RSS 阅读器将只查看客户端，而不是服务器端。在 wordpress 安装中，它`feed-rss2.php`是一个 PHP 文件，由服务器处理，通过以下列格式提供正确的标题：

```
header("Content-type: text/xml"); 
```

让读者知道它是一个 XML 文件而不是 PHP 文件。正如[Robbo](https://stackoverflow.com/users/1262923/robbo)所说，实际文件不一定是 XML 文件，只是响应必须是 text/xml 并包含 XML 输出。

甚至与样式相同的情况。如果你看到 wordpress 的`style.php`，它会是这样的：

```
header("Content-type: text/css");
include($theme . "/style.css"); 
```

因此，它使用 PHP 的功能来读取适当的文件并在同一 URL 中显示输出。容易不是吗？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-08T07:32:09.730

HTTP 中没有文件扩展名之类的东西。

客户端向服务器请求 URI。服务器使用`Content-Type`HTTP 标头进行响应，该标头说明它发送回的文件类型以及 HTTP 正文中的文件。

客户端不关心（也不知道）服务器是否通过读取静态文件、运行程序或其他方式生成了该响应。

输出 XML 的 PHP 程序和静态 XML 文件对客户端没有区别。

# javascript - 在for循环中递归调用函数时出现JavaScript无响应错误

> ID：13283020
> 
> 赞同：0
> 
> 时间：2012-11-08T05:29:03.953
> 
> 标签：javascript, jquery, json

嗨，我正在从网页迭代控件，如果控件超过 500 个，我会收到脚本无响应错误，尽管根据我的要求，控件可以增长。我正在使用以下代码。

```
function callme(val1,val2){
 (var i=0;i<1750;i++)
    {
    var val=some custom function();
    var val3=some custom function();
    callme(val,val3)
    }
   } 
```

如何防止这种情况，使所有递归调用都以异步顺序运行。请建议。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T06:07:04.147

首先，在一个页面中有 500 个控件并不是一个好主意。您可能希望根据您的页面和代码应该执行的操作来查看分页/拆分。

如果 call me 不返回值并且您不担心立即更新 UI，则可以选择异步。您可以使用 setTimeout 将递归调用设置为运行异步。

# php - PHP循环语句

> ID：13283023
> 
> 赞同：2
> 
> 时间：2012-11-08T05:29:33.003
> 
> 标签：php, mysql, loops

应用此代码后：`$lines = explode("\n", $val);`where `$val = $_POST['result'];`and `$_POST['result'];`is from a textarea where these strings are being exploded:

> A - B -> 1:00
> 
> B - A -> 1:30

所以`$lines[0] = "A - B -> 1:00"`和`$lines[1] = "B - A -> 1:30"`分别。

在`foreach ($lines as $line)`，我会在每次`->`见面时再次爆炸。像这样：

```
 $fields = explode('->', $line);
    $loc = trim($fields[0]);
    $bltime = trim($fields[1]); 
```

所以`$loc`=“A - B”和`$bltime`=“1:00”。然后，我将这些值与我存储在会话中的值一起保存在一个表中，该值`$_SESSION[rno]`是另一个表的主键，并从同一个表中获取另一个值。

```
 $e=mysql_query("select etd from reservation 
      where reservno = '$_SESSION[rno]'") or die(mysql_error());
    $f=mysql_fetch_array($e);
    $g=$f['etd'];
    mysql_query("insert into pdf(reservno, block, location, etd) 
      values ('$_SESSION[rno]', '".mysql_escape_string($bltime)."','".
      mysql_escape_string($loc)."', '$g')") or die(mysql_error()); 
```

然后我需要添加`etd`和`block`的值，`eta`然后只更新具有最大值的表，`pdf_id`这是`pdf`表的主键。

```
 $a=mysql_query("select pdf_id as 'maxpdf' from pdf where pdf_id in 
      (select max(pdf_id) from pdf where reservno = '$_SESSION[rno]')") 
      or die(mysql_error());
    $b=mysql_fetch_array($a);
    $c=$b['maxpdf'];
    $h=mysql_query("select addtime(etd, block) as 'eta' from pdf 
      where pdf_id = '$c'") or die(mysql_error());
    $j=mysql_fetch_array($h);
    $k=$j['eta'];
    mysql_query("update pdf set eta = '$k' where pdf_id = '$c'") 
      or die(mysql_error()); 
```

因此，在运行我上面发布的整个代码时，我将在表中具有以下值，但`pdf`仍基于上述值`$_POST['result'];`：

![在此处输入图像描述](../Images/e10af69c8f0eef67f00fc57ada6e821f.png)

我想做的是使这成为可能：首先计算`eta`下一个的值，`etd`然后计算它的`eta`（`etd`+ `block`）。然后该`waiting`列的值应该是 first`eta`减去 next `etd`。像这样的东西：

![在此处输入图像描述](../Images/9f47dab28e5423c79672fffb83e17a4f.png)

这里至关重要和重要的是第一个`eta`到下一个的传递`etd`和计算。当我需要遍历分解的值时，如何完成它？请帮我。对于冗长的解释，我很抱歉，但我希望你们所有人都能理解我想要实现的目标。谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T06:56:16.703

```
Where you insert into PDF, Before Inserting into PDF,

1) Get the Maximum Pdf_Id record, (i.e. the last inserted record)
2) Select the eta from this record and save it in a variable.
3) While inserting, insert the etd as the recorded variable. 
```

而已。

编辑您的代码，例如，

而不是下面的代码，

```
 $e=mysql_query("select etd from reservation 
      where reservno = '$_SESSION[rno]'") or die(mysql_error());
    $f=mysql_fetch_array($e);
    $g=$f['etd']; 
```

使用，这个替换

```
 $NextETD = "Some Dfault Value, you may set it to 12:00";
   $a=mysql_query("select * from pdf where pdf_id in 
      (select max(pdf_id) from pdf where reservno = '$_SESSION[rno]')") 
      or die(mysql_error());
    $b=mysql_fetch_array($a);
    $LastETA=$b['eta'];
    if($LastETA!=null){
        $NextETD = $LastETA;
    }
   mysql_query("insert into pdf(reservno, block, location, etd) 
      values ('$_SESSION[rno]', '".mysql_escape_string($bltime)."','".
      mysql_escape_string($loc)."', '$NextETD')") or die(mysql_error()); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T06:31:41.093

我已经弄清楚如何将第一个`eta`值传递给第二个值`etd`，依此类推。这是我使用的整个循环语句..

```
$lines = explode("\n", $val);

foreach ($lines as $line) 
{
    $fields = explode('->', $line);
    $loc = trim($fields[0]);
    $bltime = trim($fields[1]);
    $e=mysql_query("select eta as 'etd' from pdf where pdf_id in (select max(pdf_id) from pdf where reservno = '$_SESSION[rno]')") or die(mysql_error());
    $f=mysql_fetch_array($e);
    $g=$f['etd'];
    if(empty($g))
    {
    $m=mysql_query("select etd from reservation where reservno = '$_SESSION[rno]'") or die(mysql_error());
    $o=mysql_fetch_array($m);
    $p=$o['etd'];
    $temp=$p;
    }
    else
    {
    $temp=$g;
    }
    mysql_query("insert into pdf(reservno, block, location, etd) values ('$_SESSION[rno]', '".mysql_escape_string($bltime)."','".mysql_escape_string($loc)."', '$temp')") or die(mysql_error());
    $a=mysql_query("select pdf_id as 'maxpdf' from pdf where pdf_id in (select max(pdf_id) from pdf where reservno = '$_SESSION[rno]')") or die(mysql_error());
    $b=mysql_fetch_array($a);
    $c=$b['maxpdf'];
    $h=mysql_query("select addtime(etd, block) as 'eta' from pdf where pdf_id = '$c'") or die(mysql_error());
    $j=mysql_fetch_array($h);
    $k=$j['eta'];
    mysql_query("update pdf set eta = '$k' where pdf_id = '$c'") or die(mysql_error());

} 
```

该`if(empty($g))`语句检查查询`select eta as 'etd' from pdf where pdf_id in (select max(pdf_id) from pdf where reservno = '$_SESSION[rno]')`结果是否为空集。如果查询结果为空，则它是要插入的第一个数据，因此，`$temp`将保存查询结果的值`select etd from reservation where reservno = '$_SESSION[rno]'`。如果不是这样，则意味着已经有预先输入的数据，因此该`$temp`变量将保存由 保存的结果查询`$g`，所以简单地说，`$temp = $g`。

# joomla - 升级 joomla 扩展 sql 文件没有被执行

> ID：13283029
> 
> 赞同：0
> 
> 时间：2012-11-08T05:29:43.127
> 
> 标签：joomla, joomla2.5, joomla1.6

Joomla 1.5 和 1.6 的扩展清单文件中指定的 install.sql 文件的用法有什么区别。

在 1.5 中，如果您使用 method="upgrade" 并且组件已经安装， install.sql 确实会执行。

在 2.5 中，如果您使用 method="upgrade" 并且该组件已安装，则 install.sql 不会执行。

有谁知道这种变化是故意的吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T09:31:39.873

这是故意的，因为从 1.6 开始，现在有一个 sql 更新标签：

```
//executed when component is installed for the first time
<install folder="admin">
    <sql>
        <file driver="mysql" charset="utf8">sql/example.install.sql</file>
    </sql>
</install>

//executed when component is uninstalled
<uninstall folder="admin">
    <sql>
        <file driver="mysql" charset="utf8">sql/example.uninstall.sql</file>
    </sql>
</uninstall>

//executed when the component is installed over an existing version
//or updated through the Joomla Update Manager
<update>
        <schemas>
                <schemapath type="mysql">sql/updates/mysql</schemapath>
        </schemas>
</update> 
```

有关更多信息，请参阅 manifest.xml 结构上[的](http://docs.joomla.org/Manifest_files#SQL)Joomla 1.6 wikipage

# c - 如何在函数中访问包含另一个同名指针的全局指针？

> ID：13283033
> 
> 赞同：0
> 
> 时间：2012-11-08T05:29:51.530
> 
> 标签：c

> **可能重复：**
> [如何访问 C 中的阴影全局变量？](https://stackoverflow.com/questions/618769/how-can-i-access-a-shadowed-global-variable-in-c)

如何访问函数内的全局指针，包含另一个具有相同名称和类型的指针。

前任：

```
#include <stdio.h>

char *ptr = "Hello World";

int main(void)
{
//char ptr = 'a';
 char *ptr = "Global is over written";

printf("%s", ptr); //Here i am trying to print the value of global ptr i.e, "Hello World".

return 0;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T05:36:26.093

因为你正在做`%s`你`%c`会得到“a”

你也应该知道`instance member hiding`它也叫`shadowing`.

用外行的语言你可以说：在更近的地方我们得到了变量，我们不会寻找更远的地方

如果`local`和`global`具有相同的标识符，则本地将首先出现

如果您想了解更多有关如何在本地范围内访问全局变量的信息

在 C++ 中使用`::`范围解析运算符

对于 C 访问[链接](https://stackoverflow.com/questions/12183899/how-to-print-value-of-global-variable-and-local-variable-having-same-name)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-08T05:43:58.280

你可以通过这种方式获得全局价值

```
#include <stdio.h>

char *ptr = "Hello World";
char *getGlobalPtr()
{
return ptr;
}

int main(void)
{
char ptr = 'a';
printf("%s", getGlobalPtr()); //Here i am trying to print the value of global ptr i.e, "Hello World".

return 0;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-08T05:41:34.283

您无法访问全局变量，因为局部变量会*隐藏*全局变量，它们都定义在同一范围内并具有相同的名称。如果您想同时访问两者，请更改其名称。阅读有关[可变阴影的更多信息](http://en.wikipedia.org/wiki/Variable_shadowing)

# jsp - 在 Liferay tomcat 服务器中配置 log4j 以在 jsp 中显示日志

> ID：13283036
> 
> 赞同：1
> 
> 时间：2012-11-08T05:30:15.460
> 
> 标签：jsp, tomcat, liferay-6

我创建了一个 jsp 来分析服务器日志。它被部署为一个 portlet。现在我希望 jsp 位于根文件夹中。

*我有两个选择*：-

1] 要么我使用我想避免的 ext-plugin 方法\

2]只需将*jsp*放在根文件夹中。

如果我采用第二种方法，我应该将 log4j.properties 和自定义 appender 文件放在哪里，以便我可以看到 jsp 中的日志，它位于根文件夹 *(....\webapps\ROOT)。* 我的属性文件是：

```
log4j.rootLogger=INFO,logfile,console,SystemStatus
log4j.logger=INFO,logfile,console,SystemStatus

# Console appender (stdout)
log4j.appender.console=org.apache.log4j.ConsoleAppender
log4j.appender.console.layout=org.apache.log4j.PatternLayout
log4j.appender.console.layout.ConversionPattern=[%d{yy-MM-dd HH:mm:ss.SSS}] [%p] <%t> [%X{jsessionId}] [%c] %m%n

# File appender
log4j.appender.logfile=org.apache.log4j.FileAppender
log4j.appender.logfile.File=${catalina.base}/logs/copofi.log
log4j.appender.logfile.layout=org.apache.log4j.PatternLayout
log4j.appender.logfile.layout.ConversionPattern=[%d{yy-MM-dd HH:mm:ss.SSS}] [%p] <%t> [%X{jsessionId}] [%c] %m%n

log4j.appender.SystemStatus=org.copofi.common.logging.SystemStatusAppender 
```

# javascript - 获取自动换行文本的宽度

> ID：13283043
> 
> 赞同：-1
> 
> 时间：2012-11-08T05:30:47.067
> 
> 标签：javascript, jquery, html

我有一个 div，其文本内容是自动换行的。我想使用 Javascript 和/或 JQuery 获取此文本的后换行宽度。解决此问题的最佳方法是什么？

编辑：为了清楚起见，我在 flexbox 布局中使用 div，其中它的 flex 值为 0 并且应用了最大宽度。出于某种原因， div 对其应用了额外的尾随空格，我无法摆脱它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T05:31:38.820

获取div的宽度，即

```
var w = myDiv.offsetWidth; 
```

请参阅：[https ://developer.mozilla.org/en-US/docs/DOM/element.offsetWidth](https://developer.mozilla.org/en-US/docs/DOM/element.offsetWidth)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-08T05:37:40.733

jQuery：

```
var textWidth = $('div').width(); 
```

# android - 如何在android中显示每周的数据？

> ID：13283044
> 
> 赞同：0
> 
> 时间：2012-11-08T05:31:01.433
> 
> 标签：android, sqlite, date

我每周在我的应用程序中显示数据时遇到问题？

我可以在我的 SQLite 中使用此代码按天显示数据

```
SELECT substr(_id, 1, 7) as _id, sum(value) as total FROM pd_table GROUP BY _id order by _id desc 
```

![这是我执行上面的代码后的输出](../Images/69261268a1bd7a3b49da346fad59ced4.png)

通过使用此代码，我还能够显示基于月份的数据

```
SELECT substr(_id, 1, 10) as _id, sum(value) as total FROM pd_table GROUP BY _id order by _id desc 
```

![这是我执行上面的代码后的输出](../Images/fa62a45ae0b9e633cd1140d66a308e0e.png)

_id 使用 SimpleDateFormat ("yyyy-MM-dd HH: mm: ss")

现在我想每周展示一次。如何？

任何答案对我来说都非常有用:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T05:41:23.537

SQLite 具有内部日期/时间格式化函数 strftime，可能的格式选项之一是周数。所以你的查询应该是这样的：

```
SELECT strftime('%Y-%W',_id) as week_of_year, sum(value) as total 
       FROM pd_table 
       GROUP BY week_of_year order by _id desc 
```

虽然我没有在Android上尝试过。在这里查看更多信息：http: [//sqlite.org/lang_datefunc.html](http://sqlite.org/lang_datefunc.html)

# android - 如何在 Android 中删除 SMS 收件箱中的所有消息？

> ID：13283049
> 
> 赞同：1
> 
> 时间：2012-11-08T05:31:27.163
> 
> 标签：android

我想一键删除我的消息中的所有消息。但我已经尝试过下面的编码，它不起作用......有人可以帮我实现这个目标吗？谢谢...

```
public class DeleteSMSActivity extends Activity implements OnClickListener{
/** Called when the activity is first created. */
Button press;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);

    press = (Button)findViewById(R.id.button1);
    press.setOnClickListener(this);
}

public void onClick(View view){

    ContentResolver cr = getContentResolver();
    Uri inboxUri = Uri.parse("content://sms/inbox");
    Cursor c = cr.query(inboxUri , null, null, null, null);
    while (c.moveToNext()) {
        // Delete the SMS
        String pid = c.getString(0); // Get id;
        String uri = "content://sms/" + pid;
        cr.delete(Uri.parse(uri), null, null);
    }
}
} 
```

我应该在清单中添加什么？使用我的 Galaxy Tab 2 进行测试时强制关闭

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-08T06:03:24.160

尝试删除`_id`：

```
Cursor c = getApplicationContext().getContentResolver().query(Uri.parse("content://sms/"), null, null, null,null);
try {
      while (c.moveToNext()) {
         int id = c.getInt(0);
         getApplicationContext().getContentResolver().delete(Uri.parse("content://sms/" + id), null, null);
      }

    }catch(Exception e){
         Log.e(this.toString(),"Error deleting sms",e);
    }finally {
      c.close();
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-08T05:57:13.177

删除的uri是**“content://sms/”+id；**

```
Uri inboxUri = Uri.parse("content://sms/inbox");
int count = 0;
Cursor c = context.getContentResolver().query(inboxUri , null, null, null, null);
while (c.moveToNext()) {
    try {
        // Delete the SMS
        String pid = c.getString(0); // Get id;
        String uri = "content://sms/" + pid;
        count = context.getContentResolver().delete(Uri.parse(uri),
                null, null);
    } catch (Exception e) {
    }
}
return count; 
```

您还可以参考[此处](https://stackoverflow.com/questions/419184/how-to-delete-an-sms-from-the-inbox-in-android-programmatically)和[此处](https://stackoverflow.com/questions/1741628/can-we-delete-an-sms-in-android-before-it-reaches-the-inbox)以获取有关此主题的更多详细信息。希望它会帮助你。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-06T12:27:36.023

要从收件箱中删除短信，您需要使用清单中声明的​​权限

```
 <uses-permission android:name="android.permission.READ_SMS"/>
<uses-permission android:name="android.permission.WRITE_SMS"/> 
```

现在你将能够删除你的收件箱短信，现在你不会强制关闭你的模拟器

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-01-16T12:10:16.683

今天我找到了不循环删除所有消息的方法，只需通过查询即可。

```
mContext.getContentResolver().delete(Uri.parse("content://sms/"), null, null); 
```

点击此链接了解更多详情 [http://www.wisdomitsol.com/blog/android/sms/programmatically-delete-all-messages-in-android](http://www.wisdomitsol.com/blog/android/sms/programmatically-delete-all-messages-in-android)

# java - 如何在 Spring 应用程序启动时调用自定义数据加载器

> ID：13283058
> 
> 赞同：1
> 
> 时间：2012-11-08T05:32:16.557
> 
> 标签：java, spring, web-applications, spring-roo

我正在尝试在应用程序启动时将一些数据加载到我的数据库中。我为此目的定义了一个bean

应用程序上下文.xml

```
<bean class="com.project.loader.DataLoader" 
id="DataLoader" 
depends-on="entityManagerFactory" 
scope="singleton"/> 
```

班级：

```
@RooJavaBean
@RooConfigurable
public class DataLoader implements InitializingBean 
```

它正在执行，但是在调用第一个 persist() 方法时，Spring 向我抛出以下错误：

```
Caused by: java.lang.IllegalStateException: Entity manager has not been injected (is the Spring Aspects JAR configured as an AJC/AJDT aspects library?)
at com.project.lib.model.extensions.i18n.Locale_Roo_Jpa_ActiveRecord.entityManager_aroundBody0(Locale_Roo_Jpa_ActiveRecord.aj:19)
at com.project.lib.model.extensions.i18n.Locale_Roo_Jpa_ActiveRecord.ajc$interMethod$com_project_lib_model_extensions_i18n_Locale_Roo_Jpa_ActiveRecord$com_project_lib_model_extensions_i18n_Locale$entityManager(Locale_Roo_Jpa_ActiveRecord.aj:1)
at com.project.lib.model.extensions.i18n.Locale.entityManager(Locale.java:1) 
```

以前，当我以下列方式定义 DataLoader 时它正在工作：

```
@Component
@Configurable
public class DataLoader implements ApplicationListener 
```

但使用原始类型不是一个好习惯，所以我想切换

我怎样才能让它工作？

春季版：3.1

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-15T21:34:42.133

我使用弹簧 SmartLifecycle：http: [//static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/context/SmartLifecycle.html](http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/context/SmartLifecycle.html)

我创建了一个可以很好地做到这一点的类，只需扩展和覆盖 run 方法：

```
public abstract class StartupService implements SmartLifecycle {
/** Logger for this class and subclasses */
protected static final Logger logger = LoggerFactory.getLogger(StartupService.class);

protected boolean running=false;

////////////////////// Lifecycle Methods \\\\\\\\\\\\\\\\\\
@Override
public void start() {
    try {
        logger.info("starting {}", this.getClass().getSimpleName());
        run();
    } catch (Exception e) {
        logger.error("failed to run importer", e);
    }
}

@Override
public void stop() {
    running=false;
}

@Override
public boolean isRunning() {
    return running;
}

////////////////////// SmartLifecycle Methods \\\\\\\\\\\\\\\\\\
@Override
public boolean isAutoStartup() {
    return true;
}

@Override
public void stop(Runnable callback) {
    stop();
    callback.run();
}

@Override
public int getPhase() {
    return 0;
}

public abstract void run() throws Exception;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-08T22:48:20.213

我过去通过将组件扫描定义移动到应用程序上下文的末尾解决了这个问题，如此处所[建议](http://forum.springsource.org/archive/index.php/t-84312.html)

# android - 在 View Pager 中同时滚动两个列表视图

> ID：13283059
> 
> 赞同：0
> 
> 时间：2012-11-08T05:32:26.993
> 
> 标签：android, android-listview, android-viewpager

我在 View Pager 中有两个列表视图，我想同时滚动两个列表。但一次只能看到一个。我怎样才能做到这一点？

设计是

```
 View Pager
    -------------
    |          |           |
    |          |           |
    |          |           |
    |LISTVIEW 1| lISTVIEW 2|
    |          |           |
    |          |           |
    |          |           |
    <-visible area-->
   -------------- 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T05:55:46.297

`ListView`当您在's之间切换时调用它：

从列表 1 到列表 2 时：

```
 mListView2.setSelection(mListView1.getfirstVisiblePosition()); 
```

从列表 2 到列表 1 时：

```
 mListView1.setSelection(mListView2.getfirstVisiblePosition()); 
```

听，`ViewPager`用[`OnPageChangeListener`](http://developer.android.com/reference/android/support/v4/view/ViewPager.OnPageChangeListener.html)[`onPageSelected(int position)`](http://developer.android.com/reference/android/support/v4/view/ViewPager.OnPageChangeListener.html#onPageSelected%28int%29)

# android - 日期格式以匹配电话设置中的日期格式

> ID：13283062
> 
> 赞同：1
> 
> 时间：2012-11-08T05:32:43.087
> 
> 标签：android, date, simpledateformat

我有一个字符串，它返回日期和时间为 2012-11-08 12:45:30 。我需要以单独的字符串获取日期和时间，然后必须以电话的日期和时间设置中的格式显示日期。这是我迄今为止尝试过的代码：来自 db 的日期值是`2012-11-08` 我在手机设置中获取的日期格式为

```
String datefrmt = Settings.System.getString(
                context.getContentResolver(), Settings.System.DATE_FORMAT); 
```

将此格式应用于从 db 获得的日期的代码是：

```
SimpleDateFormat sdf = new SimpleDateFormat(datefrmt);
java.util.Date date_1 = sdf.parse("2012-11-08");
String s = sdf.format(date_1); 
```

我得到了正确的月份和日期，但年份它随机返回一些东西，这不是一个正确的值。谁能指导我哪里出错了。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T06:32:00.900

由于您的数据库日期在 中`yyyy-MM-dd`，所以不要使用动态格式获取日期，**否则会崩溃（抛出解析异常）**，而是使用如下静态格式获取日期。您可以使用动态格式来转换字符串，如下所示：

```
 //use static format to convert into date from static formatted data in db 
   SimpleDateFormat sdf1 = new SimpleDateFormat("yyyy-MM-dd");
   java.util.Date date_1 = sdf1.parse("2012-11-08");//got the date

   //use the dynamic format to convert into string
   SimpleDateFormat sdf2 = new SimpleDateFormat(datefrmt);
   String s = sdf2.format(date_1); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-02-11T06:17:58.547

由于 final String format = Settings.System.getString(getActivity().getContentResolver(), Settings.System.DATE_FORMAT);//可能为 NULL
所以我自定义我的函数如下一般用途

```
@SuppressLint("SimpleDateFormat")
public String getCurrentShortDateFormat() { 
    final String[] SFs = new String [] {
            "MM/dd/yyyy",
            "dd/MM/yyyy",
            "yyyy/MM/dd"
    }; 

    final Date date = new Date(24638400000L);//24638400000=Oct/13/1970; 0==Jan/1/1970
    java.text.DateFormat shortDateFormat = android.text.format.DateFormat.getDateFormat(getActivity().getApplicationContext());      
    String current = shortDateFormat.format(date);
    SimpleDateFormat which = new SimpleDateFormat();
    for (int i = 0; i < SFs.length; i++) {
        which.applyPattern(SFs[i]);
        if (which.format(date).compareTo(current)==0)
            return SFs[i];
    }
    return null;
}

@Override
public void onResume() {
    super.onResume(); 
    Log.d(LOG_TAG, "----- onResume.CurrentShortDateFormat-----" + getCurrentShortDateFormat());
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-08T05:40:49.433

您可以将 simpleDateFormat 用作：

```
 SimpleDateFormat simpDate = new SimpleDateFormat(datefrmt,
                    Locale.ENGLISH);
  String s = simpDate.format(new Date()); 
```

作为参考，您可以参考开发者网站：

[有关更多信息，请参阅此链接](http://developer.android.com/reference/java/text/SimpleDateFormat.html)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-08T06:41:30.697

如果您有 `2012-11-08 12:45:30`字符串并且想要将其解析为`Date`对象并将其格式更改为另一种格式（例如系统格式或`2012-11-08`格式）：

```
try {
        String yourString="2012-11-08 12:45:30";

        //first we parse input date string and create Date object
        String inputDateString ="yyyy-dd-MM hh:mm:ss";
        SimpleDateFormat inputDateFormat = new SimpleDateFormat(inputDateString);
        java.util.Date  date = inputDateFormat.parse(yourString);

        //log
        Log.e(getClass().getName(), inputDateFormat.format(date));

        //create system date format 
        String dateformt = Settings.System.getString( this.getContentResolver(), Settings.System.DATE_FORMAT);
        //if its for some reason==null let it be "yyyy-dd-MM" 
        if(dateformt==null){
            dateformt="yyyy-dd-MM";
        }
        SimpleDateFormat systemDateFormat = new SimpleDateFormat(dateformt);
        String outputString = systemDateFormat.format(date);

        //log
        Log.e(getClass().getName(), outputString);
    } catch (ParseException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    } 
```

# php - 如何在 WordPress 中编写自定义函数？

> ID：13283064
> 
> 赞同：0
> 
> 时间：2012-11-08T05:32:52.930
> 
> 标签：php, wordpress

当我上传特色图片时，我想给它“100%”的宽度，但前提是它超过 1170 像素。如果宽度在 1170px 和 770px 之间，我希望它得到一个“770px”的宽度，否则宽度不会改变。

到目前为止，这段代码正在做我想要的：

```
if (intval($width) >= 1170) {
        $hwstring = 'width=100%';
    } elseif ( (intval($width) < 1170) && (intval($width) >= 770) ) {
        $hwstring = 'width=770px';
    } else {
        $hwstring = image_hwstring($width, 0);
    }; 
```

但是我已经修改了“wp-includes”文件夹中的 media.php 文件，这显然不是正确的方法。那么如何在不修改现有 Wordpress 代码的情况下创建一个执行相同操作的函数呢？

```
function wp_get_attachment_image($attachment_id, $size = 'thumbnail', $icon = false, $attr = '') {

$html = '';
$image = wp_get_attachment_image_src($attachment_id, $size, $icon);
if ( $image ) {
    list($src, $width, $height) = $image;
    $hwstring = image_hwstring($width, $height);
    if ( is_array($size) )
        $size = join('x', $size);
    $attachment =& get_post($attachment_id);
    $default_attr = array(
        'src'   => $src,
        'class' => "attachment-$size",
        'alt'   => trim(strip_tags( get_post_meta($attachment_id, '_wp_attachment_image_alt', true) )), // Use Alt field first
        'title' => trim(strip_tags( $attachment->post_title )),
    );
    if ( empty($default_attr['alt']) )
        $default_attr['alt'] = trim(strip_tags( $attachment->post_excerpt )); // If not, Use the Caption
    if ( empty($default_attr['alt']) )
        $default_attr['alt'] = trim(strip_tags( $attachment->post_title )); // Finally, use the title

    $attr = wp_parse_args($attr, $default_attr);
    $attr = apply_filters( 'wp_get_attachment_image_attributes', $attr, $attachment );
    $attr = array_map( 'esc_attr', $attr );

    if (intval($width) >= 1170) {
        $hwstring = 'width=100%';
    } elseif ( (intval($width) < 1170) && (intval($width) >= 770) ) {
        $hwstring = 'width=770px';
    } else {
        $hwstring = image_hwstring($width, 0);
    };

    $html = rtrim("<img $hwstring");
    foreach ( $attr as $name => $value ) {
        $html .= " $name=" . '"' . $value . '"';
    }
    $html .= ' />';
}

return $html;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T06:54:45.323

不幸的是，在该函数中没有任何钩子供您使用，但您可以自己构建它而无需修改核心 Wordpress 文件（您不想这样做，以免在升级时覆盖您的自定义代码） . 我有点惊讶该`wp_get_attachment_image_src()`函数没有通过过滤器传递返回值来完全按照您的意思行事。

如果您查看此函数的顶部，它会`$src, $width, $height`通过调用获取 and 数组`$image = wp_get_attachment_image_src($attachment_id, $size, $icon);`您可以自己进行相同的调用并构建自定义宽度 - 基本上将函数复制到 functions.php 中的自定义版本或[自定义函数插件](http://justinsilver.com/technology/wordpress-plugins/wordpress-plugin-custom-functions-php/)中。

~~[您可以在http://core.trac.wordpress.org/newticket](http://core.trac.wordpress.org/newticket)创建新票如果您想请求在未来版本中添加此功能，添加将`wp_get_attachment_image_src()`在第 515 行（WP 的当前主干版本）：~~

 ~~```
return apply_filters( 'wp_get_attachment_image_src', array( $src, $width, $height ), $attachment_id, $size, $icon ); 
```~~  ~~编辑：票已经[存在](http://core.trac.wordpress.org/ticket/20205)，补丁有点奇怪，我提交[了一个新的](http://core.trac.wordpress.org/ticket/20205#comment:16)，但不能保证如果它被批准它什么时候会进去..~~

# java - 使用泛型创建参数类

> ID：13283067
> 
> 赞同：2
> 
> 时间：2012-11-08T05:33:10.827
> 
> 标签：java, generics, parameters, variadic-functions

我有一个接口，它定义了一个进行一些计算的方法

```
public interface Computable { 
    public Result compute(Foo foo);
} 
```

我还想将一组参数传递给可以剥离的计算。我可以解决这个问题，但我想知道是否有一个优雅的解决方案`generics`and `var args`。就像是...

```
 public class Parameter<K,V> {

    private final K key;
    private final V value;

    public Parameter(K key, V value) {
        this.key = key;
        this.value = value;
    }

    public K getKey() {
        return this.key;
    }

    public V getValue() {
        return value;
    }    
} 
```

但是后来我迷失了如何从参数列表中遍历每个参数，我将能够简单地获取具有推断类型的键值对。有人能帮我吗？这还没有内置到JDK中吗？

**编辑示例：**

在一个具体的实现中，我们会有....

```
public Result compute(Foo foo,
                      Parameter ...parameters) {

    // Here I'd like to get each parameter, and have it know it's key type and value type
    for(Parameter p : parameters) {
        p.getKey();
        p.getValue()
        //implementers know what to do with their parameters
    }

} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-08T05:57:04.063

正如[AmitD 在评论中提到的](https://stackoverflow.com/questions/13283067/creating-a-parameters-class-using-generics/13283335#comment18109663_13283067)，您应该创建`Computable`一个参数化类型：

```
public interface Computable<K, V> { 
    public Result compute(Foo foo, Parameter<K, V>... parameters);
} 
```

然后一个实现将解析`K`并且`V`类型将是已知的：

```
public class BarBazComputable implements Computable<Bar, Baz> {
    @Override
    public Result compute(Foo foo, Parameter<Bar, Baz>... parameters) {
        ...
    }
} 
```

**编辑：**是的，正如 AmitD 再次提到的那样，您不需要解析任何一个或所有类型参数：

```
public class WithStringComputable<K> implements Computable<K, String> {
    @Override
    public Result compute(Foo foo, Parameter<K, String>... parameters) {
        ...
    }
}

public class OhJustACoupleObjectsComputable<K, V> implements Computable<K, V> {
    @Override
    public Result compute(Foo foo, Parameter<K, V>... parameters) {
        ...
    }
}

public class NumbersComputable<N1 extends Number, N2 extends Number> implements Computable<N1, N2> {
    @Override
    public Result compute(Foo foo, Parameter<N1, N2>... parameters) {
        ...
    }
} 
```

请注意，可变参数不能很好地与泛型配合使用，并且在调用`compute`. 相反，请考虑让该方法采用`Iterable<Parameter<K, V>>`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-08T06:54:40.033

如果您对不同的参数或不同的值类型有不同的键类型，那么您可能无法使用简单的泛型 varargs 函数定义来解决这个问题。您唯一的类型安全选项将是这样的：

```
public Result compute(Foo foo, Parameter<Byte, Byte> p1, Parameter<Byte, Float> p2, ...) 
```

（这里“...”表示以相同方式添加的其他参数，而不是可变参数省略号）

.

但是，如果您需要灵活，并且可以通过探测 Parameter 的其他一些属性来确定要处理的键和值类型，我有时会使用一个技巧来简化类型转换：更改类`getKey()`中的函数`Parameter`对此：

```
@SuppressWarnings("unchecked")
public <KeyType> KeyType getKey() {
    return (KeyType) this.key;
} 
```

（对于 getValue() 函数也是如此）

这样，您可以简单地将结果分配给`getKey()`任何（非原始）类型的变量，如下所示：

```
Integer key = parameter.getKey(); 
```

或者

```
String key = parameter.getKey(); 
```

而且您不必在计算函数中进行任何类型转换，也不会出现任何警告。

**但是：您将失去编译时类型检查！**因此，您必须确保在运行时（无论如何您可能都必须这样做）您不会将键分配给类型错误的变量。或者至少优雅地处理生成的 ClassCastException。

# wordpress - 匿名访问 WordPress 中 wp-admin 文件夹下的文件夹

> ID：13283070
> 
> 赞同：0
> 
> 时间：2012-11-08T05:33:34.583
> 
> 标签：wordpress, download, ms-word

我在 wordpress 中有一个文件夹，位于 wp-admin 文件夹下，该文件夹包含可以从用户部分下载的文档。现在，当用户使用 IE-9 下载单词文件并单击打开选项时IE保存对话框它给他们一个安全警告。如果我将文件夹移动到网站的根目录，这个问题就解决了。所以我想有一些访问问题是有什么方法可以提供对该文件夹的匿名访问。我真的不想更改文件夹的位置，因为它需要对代码和数据库进行大量更改。

**仅供参考：此问题仅适用于 word 文件，同一文件夹中的 PDF 文件可以正常工作。**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T11:32:58.110

不，即使您尝试使用 idm grabber 或 httrack 抓取该文件夹的文件，您也无法在没有用户名和密码的情况下访问该文件夹，您将需要用户名和密码

# iphone - 如何在 iOS 设备上验证拥有 facebook 但没有 facebook 应用程序的人？

> ID：13283082
> 
> 赞同：-1
> 
> 时间：2012-11-08T05:34:45.613
> 
> 标签：iphone, ios, facebook

我正在 iOS 上创建一个应用程序，如果一个人没有安装 facebook 应用程序但有 Facebook，我遇到了一个场景。游戏应用程序如何处理。只有当且仅当您拥有 Facebook 帐户时，您才能玩游戏？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T05:53:56.757

如果您针对旧版本（低于 ios6）使用[Graph API](http://developers.facebook.com/docs/reference/api/)。

如果您针对较新版本（ios 6 及更高版本），请使用本[机方法](http://developers.facebook.com/docs/howtos/ios-6/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-08T05:39:43.537

您可以在 Facebook 中使用单点登录。

这样如果通过 safari 安装，facebook 将通过 facebook 应用程序对其用户进行身份验证。

这是[链接](https://stackoverflow.com/questions/6786819/how-to-implement-single-sign-on-sso-using-facebook-ios-sdk-for-iphone)也在[这里](http://www.zimbio.com/Mobile+Application+Developments/articles/e5nmrHSqCu3/Facebook+iOS+SDK+Tutorial+iPhone+App+Facebook)。

快乐编码:)

# x86 - x86 上裸机程序的 BIOS

> ID：13283084
> 
> 赞同：2
> 
> 时间：2012-11-08T05:35:00.713
> 
> 标签：x86, bios, bare-metal

使用 BIOS 中断是个好主意`INT10`吗？或者我应该考虑coreboot、UFEI还是openFirmware？这些兼容吗？我应该用什么来显示到屏幕上？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-08T05:41:51.117

你在这里混淆了一些完全不相关的事情。

*   Coreboot 是 PC BIOS 的替代方案，它并非适用于所有主板，必须由用户专门安装。它必须始终运行*有效载荷*，可能类似于 Linux 内核，或诸如 SeaBIOS 之类的开源 PC BIOS（此时，它与任何其他 PC BIOS 基本上没有区别）。

*   UEFI 是 PC BIOS 的替代品，它更高级，但编码难度更大。它几乎总是包含标准 PC BIOS 的兼容性例程。

*   Open Firmware 大致相当于一些其他平台上使用的 PC BIOS，包括 PowerPC Mac 和一些 Sun 系统。据我所知，它从未在 x86 系统上使用过，所以几乎可以肯定你对它没有兴趣。

如果您正在为裸机 x86 系统编程，那么中断 10h 可能是要走的路。下一个要考虑的替代方案是直接访问 VGA 硬件。

# bash - Bash 溢出终端

> ID：13283095
> 
> 赞同：2
> 
> 时间：2012-11-08T05:36:13.043
> 
> 标签：bash, terminal

我在 Ubuntu 上使用 Bash，有时当我运行命令时，即使我向上滚动到顶部，输出也会溢出终端。如何访问由于溢出而隐藏的输出部分？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-08T05:40:26.783

您可以尝试以下任何方法（以`ls`命令为例说明命令的去向）：

**选项 A：**将输出重定向到一个文件，`>`然后使用 或 之类的文本编辑器检查该`less`文件。`vim``gedit`

```
$ ls > outfile
$ less outfile
$ vim outfile
$ gedit outfile
$ emacs outfile 
```

要将命令的输出写入 stdout 和 stderr 到您的 ，请在末尾`outfile`添加 a ，如下所示：`2>&1`

```
$ ls > outfile 2>&1 
```

**选项 B：**将命令的输出直接通过管道传输到`less`

```
$ ls | less 
```

**注意**：如果您`less`使用上述任一选项查看输出，请使用：

*   `Ctrl+F`向下一页，
*   `Ctrl+B`上一页，
*   `Ctrl+D`每页减少 1/2，
*   `Ctrl+U`最多 1/2 一页
*   箭头键逐行向上/向下移动。
*   按下可随时`q`退出`less`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-08T05:40:20.263

您可以将输出通过*管道*`less`传输到：

```
command | less 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-08T05:41:27.450

那实际上不是`bash`这样做的，它是终端程序。

你有几个选择。也许最简单的方法就是通过 管道传递您的命令`less`，它允许您来回滚动：

```
command_with_much_output | less 
```

其次，您可以配置您的终端程序。假设您使用的是默认选项，您可以打开`Edit`菜单并选择`Profile preferences`：

![在此处输入图像描述](../Images/0a8fc4ecfc5bb09229454de39dbe0145.png)

然后选择`Scrolling`选项卡，您可以更改回滚缓冲区大小：

![在此处输入图像描述](../Images/3bd3e8a12545d9f74a7dfaf421fe3e5a.png)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-08T05:38:57.267

您可以尝试将输出重定向到文本文件。

命令 > 文件

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-08T05:41:09.257

或者，您可以增加配置文件属性中保持回滚的行数（假设您使用的是 gnome-terminal）。

# android - 使另一个类的 ProgressBar 可见

> ID：13283096
> 
> 赞同：2
> 
> 时间：2012-11-08T05:36:19.300
> 
> 标签：android

我想从另一个类显示 MainActivity 的 ProgressBar。

这是MainActivity的布局xml文件，java类名是main.java。

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/tabBar"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:background="#0844aa"
    android:orientation="horizontal" >
    <ProgressBar
        android:id="@+id/progressBar1"
        style="?android:attr/progressBarStyleSmall"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_gravity="center_vertical"
        android:visibility="invisible" />    
</LinearLayout> 
```

ProgressBar 的默认设置是不可见的。但我想让这个 ProgressBar 从另一个名为**"subclass.java" 的类中“可见”**。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-08T05:46:39.870

创建一个 BaseActivity 并让两个类都扩展它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-08T05:44:24.827

您可以将接口（由 Activity 类实现）传递给子类的构造函数（或 setter 方法）。在界面中，定义操作进度条的方法。

# mysql - 如何使用选择查询从表中获取数据

> ID：13283099
> 
> 赞同：1
> 
> 时间：2012-11-08T05:36:28.767
> 
> 标签：mysql, sql, select, sql-order-by

我不是要求简单的选择查询。我有一个包含多条记录的详细表。我想以某种方式获取特定 id 的记录。

我试过以下查询：

```
SELECT  `id` ,  `po_id` ,  `part_id` ,  `qty` ,  `price` ,  `status` ,  `lotid` 
FROM  `po_details` 
WHERE  `po_id` =3 
```

它给了我以下结果：

![在此处输入图像描述](../Images/32ffa79095076060ad609a0914f1f1f9.png)

现在我想要的是获取所有上述数据，但按 id 排序，然后按 partid 排序，所以结果会是这样的

```
id     partid
----   ------
11     27
15     27
12     43
16     43
13     102
14     15
17     24 
```

谁能帮我？我的查询需要进行哪些更改才能获得我想要的结果？

**编辑**

我已经尝试过这个查询，但它给了我相同的结果

```
SELECT  `id` ,  `po_id` ,  `part_id` ,  `qty` ,  `price` ,  `status` ,  `lotid` 
FROM  `po_details` 
WHERE  `po_id` =3 
ORDER BY `id` ,  `part_id`; 
```

谢谢，

普卡奇亚

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T06:16:47.157

正如 Lieven 所说，您需要一个额外的列进行排序。作为解决方法，您可以使用：

```
select p1.*
from po_details p1 join
(
    select min(id) order_id,  po_id ,  part_id 
    from po_details
    where po_id =3 
    group by part_id, po_id
) p2 on p1.part_id = p2.part_id and p1.po_id = p2.po_id
order by p2.order_id,p1.id 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-08T05:41:42.617

尝试这个：

```
SELECT  `id` ,  `po_id` ,  `part_id` ,  `qty` ,  `price` ,  `status` ,  `lotid` 
FROM  `po_details` 
WHERE  `po_id` =3 
ORDER BY `id` ,  `part_id`; 
```

# jquery - Jquery focusout 事件不适用于 chrome 浏览器中的复选框

> ID：13283100
> 
> 赞同：4
> 
> 时间：2012-11-08T05:36:31.233
> 
> 标签：jquery

我有一个表格，它会要求客户回答文本字段、单选按钮选项和复选框中的问题。我有一个场景，我需要记录客户回答问题所花费的时间。IE。客户intime和字段outtime之间的时间差。我使用 AJAX 调用来更新服务器中的时间。使用 jquery focusin 事件捕获 intime。使用 jquery focusout 事件捕获超时。

上述方法在 Firefox 浏览器中有效。但是在 chrome 浏览器中，我在焦点事件中面临问题。单选按钮和复选框不会触发该事件。如果我从一个文本字段转到其他字段，则会正确触发 jquery focusout 事件。但同样不适用于单选按钮和复选框。

有人可以帮我解决这个问题吗？否则你可以给一些建议如何捕捉一个领域的时间和时间。

[小提琴](http://jsfiddle.net/dKrjt/6/)供您参考。用 chrome 和 firefox 试试这个，看看有什么不同。

```
$('input').focusout(function(){
        alert("out");

          });​ 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-08T05:47:43.717

我会试试这个...

```
//Target just a checkbox
$('input[type="checkbox"]').on('change', function() {
    alert('Blurred');
});

//Target just a radio button
$('input[type="radio"]').on('change', function() {
    alert('Blurred');
});

//Target both

$('input[type="radio"], input[type="checkbox"]').on('change', function() {
    alert('Blurred');
}); 
```

参见示例：[**小提琴**](http://jsfiddle.net/videsignz/4JKPe/)

# linux - 通过 gSoap 访问 Web 服务器时出现 SSL 错误

> ID：13283101
> 
> 赞同：1
> 
> 时间：2012-11-08T05:36:36.700
> 
> 标签：linux, wsdl, gsoap

我想访问一个用 C# 构建的 Web 服务，所以我想在 gsoap 中创建一个 Web 服务客户端。Web 服务链接是 "https://"，所以当我使用 wsdl2h 工具时 "wsdl2h -c -o abc.h https ://....”，我面临错误，

“无法连接到 https 站点：不支持 SSL，请使用 SSl 重建 wsdl2h 或下载文件并重新运行 wsdl2h”

所以我用命令重建 wsdl2h：“make -f MakefileManual secure” ans 得到了同样的错误信息。

当我在 JAVA 中尝试时，我收到错误，提供的证书不是有效证书，所以在谷歌上我搜索并找到了我必须导入证书并粘贴到某个位置的解决方案。

但是对于 gsoap 应该是什么程序？

请建议。

# vb.net - 使用ThreadPool同时连接多个TCP服务器

> ID：13283102
> 
> 赞同：1
> 
> 时间：2012-11-08T05:36:38.360
> 
> 标签：vb.net, multithreading, networking, tcp

```
Imports System.IO
Imports System.Threading
Imports System.Net.Sockets
Imports System.Text

Module Module1
<MTAThread()>
Sub Main()
    Dim maxthreads As Integer = 10
    ThreadPool.SetMaxThreads(maxthreads, maxthreads)
    Dim serverlist() As String = File.ReadAllLines("final.txt")

    Dim servernum As New CountdownEvent(serverlist.GetUpperBound(0) + 1)
    For Each a In serverlist
        Dim args(1) As Object
        args(0) = a
        args(1) = servernum
        ThreadPool.QueueUserWorkItem(New WaitCallback(AddressOf ping), args)
    Next
    servernum.Wait()

    Console.ReadLine()
End Sub

Public Sub ping(ByVal server() As Object)

    Dim serverinfo() As String = Split(server(0), ",")
    Dim socketclient As New TcpClient
    Console.WriteLine(serverinfo(0))

    Try
        socketclient.Connect(serverinfo(0), serverinfo(1))
    Catch ex As Exception
        If socketclient.Connected = False Then
            Throw New Exception("Server Offline")
        Else
            Throw New Exception("Unknown Error Occured")
        End If
    End Try

       Dim stream As NetworkStream = socketclient.GetStream
        stream.ReadTimeout = 1000
        stream.WriteTimeout = 1000
        Dim sendBytes As [Byte]() = {&HFE}
        stream.Write(sendBytes, 0, sendBytes.Length)
        Dim bytes(421) As Byte
        stream.Read(bytes, 0, CInt(421))
        socketclient.Close()
        Dim trimbytes(bytes.Length - 3) As Byte
        Array.Copy(bytes, 3, trimbytes, 0, bytes.Length - 3)
        Dim returndata As String = Encoding.BigEndianUnicode.GetString(trimbytes)

        Dim sb As New System.Text.StringBuilder
        For i As Integer = 1 To 241 Step 2
            If trimbytes(i) <> 0 Then
                sb.Append(ChrW(BitConverter.ToInt16(trimbytes, i)))
            End If
        Next i
        Dim message() As String = sb.ToString.Split("§")

        'Write processed server information to the console
        Console.WriteLine("Received -->" & message(1) & " " & message(2) & " | " & serverinfo(0))

        server(1).signal()

End Sub
End Module 
```

以上是我的代码，我基本上想做的是从文本文件中获取两个（或更多）ip，通过两个不同线程上的 TCP 连接到它们并从服务器获取响应。

现在，这里的问题是；无论出于何种原因，两台服务器中的一台得到响应，而另一台没有。我已确保两台服务器都在线并接受连接。我还尝试在文本文件的两行上使用相同的服务器，以便在两个线程上使用相同的 ip，但这也不起作用。即使两个 ip 相同，一个得到响应但另一个没有；这一定意味着我做错了什么。

当我使用一个服务器而不是 1+ 时，一切正常，我得到了我正在寻找的响应，任何超过 1 的东西，看起来像第一个运行的线程会产生响应，但不会产生任何稍后运行的东西。任何帮助将不胜感激。

我也尝试过使用 Paarallel.For 但最终遇到了同样的问题。

```
Parallel.ForEach(serverlist, _
             Sub(currentElement)
                 ping(currentElement)
             End Sub) 
```

# java - 是否可以覆盖 android CalendarView 方法？

> ID：13283106
> 
> 赞同：0
> 
> 时间：2012-11-08T05:37:03.340
> 
> 标签：java, android, android-widget, calendar, calendarview

我创建了一个 android 日历小部件。但我只是想知道.. 是否可以覆盖 CalendarView 的方法？我真正想要的是只显示当前月份和 daygridview 而不是预览天和下个月的天..我还想删除允许用户上下滚动上个月和下个月的滚动视图..我只是想要一个简单的日历...请问有没有人可以帮助我？...

这是我想定制的 CalendarView..

[XML 日历视图屏幕截图](http://i.stack.imgur.com/16wc2.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T06:18:38.620

因此，然后创建一个扩展`CalendarView`和覆盖相应方法的类。应该没有问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-05T19:03:36.143

您可以只创建一个 gridView 并将列数设置为 7 天。创建一个适配器，然后扩展 BaseAdapter。在该类中，您可以将网格单元的数量设置为 42 作为最大值。可能的网格单元为 7*6。完成后，作为 getView() 方法的一部分，您可以为每个网格单元格创建一个文本视图，并用月份中的日期填充它。

要在顶部设置工作日，您可以创建另一个具有相同规格的 gridView 并将其设置为 headerView。

# cocos2d-iphone - cocos2d 调度器间隔 vs 延迟

> ID：13283107
> 
> 赞同：2
> 
> 时间：2012-11-08T05:37:04.850
> 
> 标签：cocos2d-iphone

我试图了解 cocos2d 调度程序中间隔和延迟之间的区别。

如果延迟是执行 2 个选择器之间的时间。真正的间隔是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-08T06:11:16.600

cocos2D CCNode.h 文件中的注释，可能有用。

以秒为单位安排一个间隔时间的自定义选择器 /** 重复将执行动作重复 + 1 次，对于继续动作使用 kCCRepeatForever 延迟是动作在执行前将等待的时间 */

如果选择器已被调度，则间隔参数将被更新而不再次调度。

```
-(void) schedule:(SEL)selector interval:(ccTime)interval repeat: (uint) repeat delay:(ccTime) delay; 
```

# javascript - 如何删除 jQuery-ui 对话框标题栏？

> ID：13283108
> 
> 赞同：16
> 
> 时间：2012-11-08T05:37:05.223
> 
> 标签：javascript, jquery, css, jquery-ui, jquery-ui-dialog

我试图隐藏[jQuery-ui dialog](http://jqueryui.com/dialog/)的标题栏，但保持标题栏中的关闭按钮可见。我已经在 stackoverflow 上搜索了很多[这样](https://stackoverflow.com/questions/1023072/jquery-ui-dialog-how-to-initialize-without-a-title-bar)的帖子。在每篇文章中，标题栏是隐藏的，但栏所占用的空间仍然存在。我也想删除该空间，*但不删除关闭按钮。*

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2012-11-08T07:01:10.097

基于[这个答案](https://stackoverflow.com/a/10062766/87015)：

使用[`.dialog("widget")`](http://api.jqueryui.com/dialog/#method-widget)选项来定位对话框的 div 包装器。包装器包含用于对话框的所有标记，包括标题、标题栏和关闭按钮；和对话内容本身。这是调用该方法并隐藏标题栏的一种方法：

```
$("#id").dialog({
    autoOpen: false
}).dialog("widget").find(".ui-dialog-title").hide();​ 
```

然后，您可以使用 CSS 来消除不必要的边距、边框和填充。例如：

```
.ui-dialog-titlebar {
    float: right;
    border: 0;
    padding: 0;
}
.ui-dialog-titlebar-close {
    top: 0;
    right: 0;
    margin: 0;
    z-index: 999;
} 
```

[**这是一个基于上述代码的演示**](http://jsfiddle.net/salman/u9Mqx/)，它使用 jQuery 添加了必要的样式。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-05-09T23:23:23.137

如果要删除标题栏并仅使用样式保留关闭图标，请使用以下样式。它将标题栏缩小到关闭图标的大小并将其隐藏在后面。ui-icons_6e6e6e_256x240.png 我是通过减轻 jqueryui 自带的 ui-icons_222222_256x240.png 图像创建的。

```
.ui-dialog .ui-dialog-titlebar.ui-widget-header{background: none; border: none; height: 20px; width: 20px; padding: 0px; position: static; float: right; margin: 0px 2px 0px 0px;}

.ui-dialog-titlebar.ui-widget-header .ui-dialog-title{display: none;}

.ui-dialog-titlebar.ui-widget-header .ui-button{background: none; border: 1px solid #CCCCCC;}

.ui-dialog .ui-dialog-titlebar .ui-dialog-titlebar-close{margin: 0px; position: static;}

.ui-dialog .dialog.ui-dialog-content{padding: 0px 10px 10px 10px;}

.ui-dialog .ui-dialog-titlebar .ui-dialog-titlebar-close .ui-icon{position: relative; margin-top: 0px; margin-left: 0px; top: 0px; left: 0px;}

.ui-dialog .ui-dialog-titlebar .ui-state-default .ui-icon {background-image: url("/css/ui-lightness/images/ui-icons_6e6e6e_256x240.png");}

.ui-dialog .ui-dialog-titlebar .ui-state-hover .ui-icon {background-image: url("/css/ui-lightness/images/ui-icons_222222_256x240.png");} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-08T05:45:47.860

在我看来，你有 3 个选择。

1.  是的，完全消除标题栏并添加一个您可以设置样式以匹配默认标题的自定义标题栏，使用绝对定位应该是关键。
2.  如果您有时间，请扩展（而不是覆盖）对话框[https://github.com/jquery/jquery-ui/blob/master/ui/jquery.ui.dialog.js#L74](https://github.com/jquery/jquery-ui/blob/master/ui/jquery.ui.dialog.js#L74)的 _create 方法来执行您的操作需要
3.  使用 CSS hackery 将标题栏保留在那里，除关闭按钮之外的所有元素的高度为 0。

任何一个都有其优缺点，如果可以的话，我会推荐#2 最好的，这里有一些关于如何使用小部件的信息[http://api.jqueryui.com/jQuery.widget/](http://api.jqueryui.com/jQuery.widget/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-04-18T09:29:06.330

这是如何做到的。

转到主题文件夹-> 基础-> 打开 jquery.ui.dialog.css

寻找

关注者

如果您不想显示 titleBar 则只需设置 display:none 就像我在下面所做的那样。

```
.ui dialog.ui-dialog .ui-dialog-titlebar 
{
    padding: .4em 1em;
    position: relative;
        display:none;
} 
```

同样的标题。

```
.ui-dialog .ui-dialog-title {
    float: left;
    margin: .1em 0;
    white-space: nowrap;
    width: 90%;
    overflow: hidden;
    text-overflow: ellipsis;
    display:none; 
} 
```

现在是关闭按钮，您也可以将其设置为无，或者您可以将其设置为

```
.ui-dialog .ui-dialog-titlebar-close {
    position: absolute;
    right: .3em;
    top: 50%;
    width: 21px;
    margin: -10px 0 0 0;
    padding: 1px;
    height: 20px;

   display:none;

} 
```

我做了很多搜索，但什么也没有，然后我就想到了这个想法。但是，这会影响整个应用程序没有关闭按钮，对话框的标题栏，但您也可以通过使用 jquery 并通过 jquery 添加和设置 css 来克服这个问题

这是这个的语法

```
$(".specificclass").css({display:normal}) 
```

# javascript - 逐个字符对javascript中的字符串进行排序

> ID：13283115
> 
> 赞同：1
> 
> 时间：2012-11-08T05:37:49.687
> 
> 标签：javascript

我正在尝试在输入字符时对字符串列表进行排序。假设我有“Dog”、“Ball”、“Rabbit”、“Pizza”等字符串，当用户首先输入“d”时，“Dog”应该出现，然后是“Ball”，然后是“Pizza”，最后是“Rabbit” “应该显示。

如何实现这个功能。请提供任何线索。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T05:57:28.057

```
var reg = /^d/i;  //reg exp to check array item first char
['Pizza', 'Dog', 'Ball', 'Foo'].sort(
function(a, b) { 
    if (reg.test(a)) {
        if (reg.test(b)) 
            return a > b; 
        return -1;
    } 
    if (reg.test(b)) { 
        if (reg.test(a)) 
            return a > b;
        return 1; 
    } 
    return a > b; 
}) 
```

返回 ["Dog", "Ball", "Foo", "Pizza"]

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-08T05:57:52.423

根据当前输入生成排序函数。
如果当前输入与排序中的一项匹配，则首先默认它。如果两者都匹配或都不匹配，则进行正常的字符串比较。

```
function generateSortFunction(str){
    var s = str.toLowerCase(), sl = s.length; // save re-computation
    return function sort(a,b){
        var am = +( a.length >= sl && a.slice(0, sl).toLowerCase() === s ),
            bm = +( b.length >= sl && b.slice(0, sl).toLowerCase() === s );
        if( am ^ bm ) return bm - am; // XOR then -1 if a first, 1 if b first.
        return a.localeCompare(b); // else sort normally
    };
}

// Using it
["Dog", "Ball", "Rabbit", "Pizza"].sort( generateSortFunction('d') );
// results in ["Dog", "Ball", "Pizza", "Rabbit"] 
```

上面的代码使用输入 as `'d'`，根据需要进行修改。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-08T05:48:28.837

我认为您可以使用此代码。它没有优化，但你可以明白

```
 <script type="text/javascript">
function fnc()
{
    var arr=new Array;
    var arr1=new Array;
    arr[0]="dog";
    arr[1]="pizza";
    arr[2]="doll";
    for(i=0;i<arr.length;++i)
    {arr1[i]=arr[i].length;}

    arr1=arr1.sort();
    alert(arr1);
}
</script>
<input type="button" onclick="fnc()" /> 
```

# python - 在 Mac OS X 中设置 PocketSphinx

> ID：13283116
> 
> 赞同：1
> 
> 时间：2012-11-08T05:37:51.267
> 
> 标签：python, macos, speech-to-text, cmusphinx

我正在运行`Enthought Python 2.7`以及默认`Python 2.7`，`Xcode 4.5.1`在`Mac OS 10.8.2`. 我正在尝试在`Python`. 我使用`Enthought Python`它，因为它允许我记录`16000Hz, 1 Channel`使用`pyaudio`，这是工作所必需的`pocketsphinx`。

我正在尝试`pocketsphinx`使用`brew install pocketsphinx`.

我收到以下错误![在此处输入图像描述](../Images/70da6ae32cecad1938574e1ff322ad6d.png)

`make`即使使用和使用默认值进行手动安装也会`python`导致相同的错误 ![在此处输入图像描述](../Images/7e76e976df7945806be5631caf06b2e1.png)

使用 brew doctor ，我得到![在此处输入图像描述](../Images/c491ce48bb819d2063fd6f618e83defb.png)

如何成功安装`pocketsphinx`？

这是我的[config.log](http://dl.dropbox.com/u/69889915/config.log)

自制日志[pocketsphinx](http://dl.dropbox.com/u/69889915/02.make-pocketsphinx.make)，[sphinxbase](http://dl.dropbox.com/u/69889915/02.make-sphinxbase.make)

![Bash_Profile](../Images/850453440563864fa14478bca0393c5d.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T18:53:16.673

根据日志，您安装了过时的 libsndfile 版本。您有一个标头 sndfile.h，但没有 sndfile.pc pkg-config 文件：

```
configure:14532: checking for SNDFILE
configure:14540: $PKG_CONFIG --exists --print-errors "sndfile"
Package sndfile was not found in the pkg-config search path.
Perhaps you should add the directory containing `sndfile.pc'
to the PKG_CONFIG_PATH environment variable
No package 'sndfile' found
configure:14543: $? = 1
configure:14558: $PKG_CONFIG --exists --print-errors "sndfile"
Package sndfile was not found in the pkg-config search path.
Perhaps you should add the directory containing `sndfile.pc'
to the PKG_CONFIG_PATH environment variable
No package 'sndfile' found
configure:14561: $? = 1
No package 'sndfile' found
configure:14589: result: no
configure:14603: checking sndfile.h usability
configure:14603: gcc -std=gnu99 -c -g -O2 -Wall  -
I/Library/Frameworks/Python.framework/Versions/7.3/include/python2.7 -
I/Library/Frameworks/Python.framework/Versions/7.3/include/python2.7 conftest.c >&5
configure:14603: $? = 0
configure:14603: result: yes 
```

要解决此问题，请删除标头以免混淆配置或安装更新的 sndfile 与 pkg-config 支持。

实际上，这也应该在 sphinxbase 中修复，欢迎提交错误报告。

# c# - MS Chart 中的插值实现

> ID：13283118
> 
> 赞同：7
> 
> 时间：2012-11-08T05:37:57.110
> 
> 标签：c#, winforms, mschart

我需要在 Windows 应用程序的 Ms-Chart 中实现插值和外插。

对于插值，我使用的是“MathNet”库。但我仍然没有意识到要实现这一点。

我尝试如下实现插值。

```
using MathNet.Numerics.Interpolation.Algorithms;

NevillePolynomialInterpolation objIterpolate = new NevillePolynomialInterpolation(Xpoints, Ypoints);

    double NewYValue;
    NewYValue = Math.Abs(objIterpolate.Interpolate(newValue); 
```

我将 XPoints`NevillePolynomialInterpolation()`作为第一个参数传入，它是我图表的 XValues 数组。和 Ypoints 作为我图表的 YValues 数组。

我`newValue`作为 XValue 传递以获取插值。

任何人都可以建议，它是正确的方法还是建议正确的方法来实现插值。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-08-27T21:23:48.113

我设法创建了一个简短的示例，因此请告诉我我粘贴在下面的代码是否适合您。

我不太习惯 MathDotNet 库，但是 XML 文档已经足够了，所以学习曲线并不陡峭，只是另一个 .NET 库中的许多其他库。

否则，您仍然可以在图书馆网站上查看他们的文档，除了我不确定是否涵盖插值的几个示例之外，您可能会发现与阅读 XML 文档相同的内容。您还可以检查 github 并查看您要处理的插值的实现。

当然，如果您坚持此处描述的算法，您也可以尝试从头开始实施：[http ://en.wikipedia.org/wiki/Neville%27s_algorithm](http://en.wikipedia.org/wiki/Neville%27s_algorithm)

无论如何，我想你想利用 MathDotNet 库来执行内维尔多项式插值并在同一图表区域上显示原始数据和插值数据。

关于其他信息，一些可以在这里找到（仍然不要期望那么多）：

*   质谱图：

    *   [http://www.4guysfromrolla.com/articles/072209-1.aspx](http://www.4guysfromrolla.com/articles/072209-1.aspx)
    *   [https://code.msdn.microsoft.com/Samples-Environments-for-b01e9c61](https://code.msdn.microsoft.com/Samples-Environments-for-b01e9c61)
    *   [https://msdn.microsoft.com/en-us/library/system.windows.forms.datavisualization.charting.chart(v=vs.110).aspx](https://msdn.microsoft.com/en-us/library/system.windows.forms.datavisualization.charting.chart(v=vs.110).aspx)
*   MathDotNet：[http ://numerics.mathdotnet.com/Regression.html](http://numerics.mathdotnet.com/Regression.html)

关于 MS 图表，这就像处理任何其他 Winforms 控件一样，只需检查文档，如果有什么棘手的地方指出什么对您来说很难，我会​​尽力为您解释清楚。

到目前为止，老实说，我对你不理解的东西有点挣扎，是 MS Chart，MathDotNet 吗？哪一个对你来说是个问题？

无论如何，没有什么真正花哨的，只需将您的 X 和 Y 点传递给 MathDotNet 库（只要 Xs 和 Ys 的底层实现`IEnumerable<T>`像数组一样实现`T[]`就可以了）。

然后库为你做所有的数学运算，你只需要使用`Interpolate(...)`给定的插值方法（你必须明白，插值在这里意味着一种插值引擎）。

我假设在您的代码片段中：`XPoints`and`YPoints`都是`IEnumerable<T>`集合（因为您提到它们是数组），其中`T`是一种类型`Double`，`Single`或者任何适合您的 .NET Number Primitive 类型。

```
// Copyright: Nothing At All License
using System;
using System.Collections.Generic;
using System.Collections.ObjectModel;
using System.Diagnostics;
using System.Drawing;
using System.Linq;
using System.Runtime.InteropServices;
using System.Threading.Tasks;
using System.Windows.Forms;
using System.Windows.Forms.DataVisualization.Charting;
using MathNet.Numerics.Random;

namespace HelpSO
{
    public static class Program
    {
        [STAThread]
        public static void Main(params String[] arguments)
        {
            Application.EnableVisualStyles();
            Application.SetCompatibleTextRenderingDefault(false);

            var mainForm = new MainForm();

            Application.Run(mainForm);
        }
    }

    /// <summary>
    /// Main Form.
    /// </summary>
    public class MainForm : Form
    {
        /// <summary>
        /// Initializes the chart and cosmetics, make-up, glamour, etc..
        /// </summary>
        /// <returns>The chart.</returns>
        private static Chart InitializeChart()
        {
            var chart = new Chart()
            {
                Dock = DockStyle.Fill,      
            };

            const String defaultChartAreaName = @"Default";
            const String defaultLegendName = @"Default";
            const String defaultTitleName = @"Default";

            var chartArea = chart.ChartAreas.Add(defaultChartAreaName);

            var labelFont = new Font(@"Tahoma", 8f);

            var axisX = chartArea.AxisX;
            var axisY = chartArea.AxisY;

            axisX.Title = @"X";
            axisY.Title = @"Y";

            axisX.LabelStyle.Format = axisX.LabelStyle.Format = "F4";

            axisX.TitleFont = axisY.TitleFont = labelFont;
            axisX.LabelStyle.Font = axisY.LabelStyle.Font = labelFont;

            axisX.TitleAlignment = axisY.TitleAlignment = StringAlignment.Far;
            axisX.MajorGrid.Enabled = axisY.MajorGrid.Enabled = true;
            axisX.MinorGrid.Enabled = axisY.MinorGrid.Enabled = true;
            axisX.MinorGrid.LineDashStyle = axisY.MinorGrid.LineDashStyle = ChartDashStyle.Dash;
            axisX.MinorGrid.LineColor = axisY.MinorGrid.LineColor = Color.Gainsboro;

            var legend = chart.Legends.Add(defaultLegendName);
            legend.TitleSeparator = LegendSeparatorStyle.ThickGradientLine;
            legend.BorderColor = Color.Black;
            legend.Title = "Legend";

            var title = chart.Titles.Add(defaultTitleName);
            title.Text = @"My Awesome interpolated data";
            title.Font = new Font(title.Font.FontFamily, 12f);

            MainForm.InitializeChartSeries(chart);

            return chart;
        }

        /// <summary>
        /// Initializes the chart series and related data (raw and interpolated).
        /// </summary>
        /// <param name="chart">Chart.</param>
        private static void InitializeChartSeries(Chart chart)
        {
            const String rawDataSeriesName = @"Raw Data";
            const String interpolatedDataSeriesName = @"Interpolated Data";

            var rawDataSeries = chart.Series.Add(rawDataSeriesName);
            var interpolatedDataSeriesSeries = chart.Series.Add(interpolatedDataSeriesName);

            rawDataSeries.ChartType = SeriesChartType.FastLine;
            interpolatedDataSeriesSeries.ChartType = SeriesChartType.Spline;

            rawDataSeries.BorderWidth = interpolatedDataSeriesSeries.BorderWidth = 2;

            var rawDataPoints = DataFactory.GenerateDummySine(10, 1, 0.25);
            var interpolatedDataPoints = DataFactory.Interpolate(rawDataPoints, 10);

            rawDataSeries.Points.DataBind(rawDataPoints, @"X", @"Y", String.Empty);
            interpolatedDataSeriesSeries.Points.DataBind(interpolatedDataPoints, @"X", @"Y", String.Empty);
        }

        /// <summary>
        /// Initializes a new instance of the <see cref="HelpSO.MainForm"/> class.
        /// </summary>
        public MainForm()
        {
            this.StartPosition = FormStartPosition.CenterScreen;

            var chart = MainForm.InitializeChart();

            this.Controls.Add(chart);
        }
    }

    /// <summary>
    /// Data Factory.
    /// </summary>
    public static class DataFactory
    {
        /// <summary>
        /// Generates a dummy sine.
        /// </summary>
        /// <returns>The dummy sine.</returns>
        /// <param name="count">Count.</param>
        /// <param name="amplitude">Amplitude.</param>
        /// <param name="noiseAmplitude">Noise amplitude.</param>
        public static IList<Point2D<Double, Double>> GenerateDummySine(UInt16 count, Double amplitude, Double noiseAmplitude)
        {
            if (count < 2)
            {
                throw new ArgumentOutOfRangeException(@"count");
            }
            else
            {
                var dummySinePoints = new List<Point2D<Double, Double>>();

                var random = new Random();

                var xStep = 1.0 / count;

                for (var x = 0.0; x < 1.0; x += xStep) 
                {
                    var y = amplitude * Math.Sin(2f * Math.PI * x) + random.NextDouble() * noiseAmplitude;

                    var dummySinePoint = new Point2D<Double, Double>(x, y);

                    dummySinePoints.Add(dummySinePoint);
                }

                return dummySinePoints;
            }
        }

        /// <summary>
        /// Interpolate the specified source.
        /// </summary>
        /// <param name="source">Source.</param>
        /// <param name="countRatio">Count ratio.</param>
        public static IList<Point2D<Double, Double>> Interpolate(IList<Point2D<Double, Double>> source, UInt16 countRatio)
        {
            if (countRatio == 0)
            {
                throw new ArgumentOutOfRangeException(@"countRatio");
            }
            else if (source.Count < 2)
            {
                throw new ArgumentOutOfRangeException(@"source");
            }
            else
            {

                var rawDataPointsX = source.Select(item => item.X);
                var rawDataPointsY = source.Select(item => item.Y);

                // Could be done within one loop only... so far I'm pretty busy will update that example later
                var xMin = rawDataPointsX.Min();
                var xMax = rawDataPointsX.Max();

                // Different Kinds of interpolation here... it's all up to you o pick up the one that's gonna match your own situation
                // var interpolation = MathNet.Numerics.Interpolation.NevillePolynomialInterpolation.Interpolate(rawDataPointsX, rawDataPointsY);
                var interpolation = MathNet.Numerics.Interpolation.CubicSpline.InterpolateNatural(rawDataPointsX, rawDataPointsY);

                var listCopy = source.ToList();

                var xStep = (xMax - xMin) / (source.Count * countRatio);

                for (var x = xMin; x <= xMax; x += xStep)
                {
                    var y = interpolation.Interpolate(x);

                    var point2D = new Point2D<Double, Double>(x, y);

                    listCopy.Add(point2D);
                }

                return listCopy;
            }
        }
    }

    // C# lacks, for ***now***, generic constraints for primitive "numbers"
    public struct Point2D<TX, TY>
        where TX : struct, IComparable, IFormattable, IConvertible, IComparable<TX>, IEquatable<TX>
        where TY : struct, IComparable, IFormattable, IConvertible, IComparable<TY>, IEquatable<TY>
    {
        public static Point2D<TX, TY> Empty = new Point2D<TX, TY>();

        public Point2D(TX x, TY y)
        {
            this._x = x;
            this._y = y;
        }

        // C# 6 I miss you here: sad
        private readonly TY _y;
        public TY Y
        {
            get
            {
                return this._y;
            }
        }

        // and there too :-(
        private readonly TX _x;
        public TX X
        {
            get
            {
                return this._x;
            }
        }
    }
} 
```

随时问更多关于它的问题。

# jquery - MVC 控制.可见

> ID：13283122
> 
> 赞同：1
> 
> 时间：2012-11-08T05:38:27.250
> 
> 标签：jquery, asp.net-mvc, show-hide

我是 mvc 的新手，我想在 jquery ajax 调用后显示/隐藏一个 html 控件。
在 ASP.NET 中很简单，例如设置 Label.Visible = false。

我有这样的看法：

```
 @if (ViewBag.Show)
    {
        Html.Label("Test");
    }

    <input id="idClick" type="button" value="Click"/> 
```

和一个带有 jquery 的脚本来调用一个动作

```
 $("#idClick").click(function() {
            $.ajax({
                    url: '/Test/ShowLabel',
                    type: 'GET',
                    dataType: 'json'
                    }
                }); 
```

在我的索引视图中，我设置：

```
 ViewBag.Show = false; 
```

在行动中：

```
 public void ShowLabel()
    {
        ViewBag.Show = true;
    } 
```

但我无法显示标签

我想避免渲染控件，然后应用样式来隐藏它

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-08T05:42:07.467

我假设以下代码也在所说的“索引视图”上：

```
@if (ViewBag.Show)
{
    Html.Label("Test");
} 
```

如果是这种情况，`ViewBag.Show`当您使用`ViewBag.Show = false;`. 删除该行，它将显示您的文本框。

**编辑**

我刚刚注意到您的“操作”正在返回 void——这意味着如果调用此操作方法，则不会呈现任何视图。看来您需要阅读更多有关 ASP.NET MVC 工作原理的信息，或者重新表述您的问题。

如果您未`ViewBag.Show = true;`在 index 操作方法中设置（或任何用于创建视图的方法），那么 ViewBag.Show 将默认为 false。确保将变量设置在实际调用的位置，并且不要在视图中覆盖它。

**编辑 2**

为了响应您的编辑，请不要使用`ViewBag`隐藏控件。相反，只需将匿名类型传递给 HTML 帮助器：

```
Html.Label("Test", new { style = "display: none;" }) 
```

或改用 CSS 类：

```
Html.Label("Test", new { @class = "some-class-with-display-none" }) 
```

**编辑 3**

您的问题真的很难理解，我看到您试图使用 Ajax 将其发送回`ViewBag`页面。你不能这样做。这`ViewBag`是一个仅用于初始呈现页面的服务器端“包”。您可以从您的操作方法返回 Json/Xml 以指示标签是隐藏还是可见，或者使用部分页面更新。

我认为根据您所拥有的分散信息的数量，首先从同步页面开始可能是明智的，并在折腾 Ajax 调用之前了解 ASP.NET MVC 的工作原理。

**编辑 4**

您似乎希望能够根据 Ajax 调用的结果更改标签的可见性。由于`ViewBag`当您的用户已经呈现页面时不会改变任何事情，您需要通过 JSON、XML 或部分页面刷新将结果返回到您的页面。最简单的方法是返回一些 JSON：

```
public JsonResult ShowLabel ()
{
    return Json (new { result = true }, JsonRequestBehavior.AllowGet);
} 
```

然后在标签中添加一个 ID：

```
<label id="testLabel" style="display: none">Test</label> 
```

然后进行 Ajax 调用：

```
$.ajax({
    url: '/Test/ShowLabel'
    type: 'GET',
    dataType: 'json'
}).success(function (d) {
    if (d.result) {
        $('#testLabel').show();
    }
}); 
```

**最终编辑**

由于我看到您希望使用它进行验证，因此您可以省去很多麻烦，并使用内置机制和[Remote Validation](http://msdn.microsoft.com/en-us/library/gg508808%28v=vs.98%29.aspx)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-08T05:58:05.760

试试这个（不设置任何东西`ViewBag`）

**注意：** 如果ajax调用只是为了设置label的可见性，你可以放心的摆脱ajax调用。

```
 <label for="Test" style="display:none;"></label>

 $("#idClick").click(function() {
            $.ajax({
                    url: '/Test/ShowLabel',
                    type: 'GET',
                    dataType: 'json'
                    }
                });
     $("label[for='Test']").css("display", "block")
  }); 
```

# java - 如何使用其属性查找 DOM 节点

> ID：13283137
> 
> 赞同：2
> 
> 时间：2012-11-08T05:40:14.040
> 
> 标签：java, html, parsing, dom

我*在编译时*使用 JAVA将我的*HTML/JSP*解析为DOM。现在我有了***w3c.dom.Document***对象，假设下面的 HTML

 **```
.....
  ....
<input type="text" name="EnterName"/>
<select name="SelectOptions">
<option>First</option>
<option>Second</option>
</select>
 ......
....... 
```

我知道元素的属性值。这里*“EnterName”*是节点“input”的*“name”*属性值。

假设我有 DOM 中所有可用节点的属性值（如上面 HTML 的“EnterName”、“SelectOptions”），我如何才能获得一个节点，其中特定属性可用给定值。谢谢

**编辑 ：**

> 我永远不会知道 HTML 内容是什么。我的程序应该在给定的 HTML/JSP 文件列表上运行，并且我有一些元素名称。这里的元素名称是指 HTML/JSP 中可用字段的标签/名称。所以我需要遍历所有文件获取具有相同标签/名称的节点并获取节点。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-08T06:22:06.853

尝试这样的事情：

```
 DocumentBuilderFactory dbFactory = DocumentBuilderFactory.newInstance();
    DocumentBuilder dBuilder = dbFactory.newDocumentBuilder();
    Document doc = dBuilder.parse("yourDocumentName");
    doc.getDocumentElement().normalize();
    NodeList nlList = doc.getElementsByTagName("input");
    for (int indx= 0; indx < nList.getLength(); indx++) {
       Element eElement = (Element) nList.item(indx);
       if(eElement.getAttribute("name").equals("EnterName")){
              System.out.println("EnterName: " + eElement.getNodeValue());
       }
    }

    NodeList nlList1 = doc.getElementsByTagName("select");
    for (int indx= 0; indx < nList1.getLength(); indx++) {
       Element eElement = (Element) nList1.item(indx);
       if(eElement.getAttribute("name").equals("SelectOptions")){
              System.out.println("SelectOptions: " + eElement.getNodeValue());
       }
    } 
```

**如果您可以将“id”添加到您的元素中，那么它会更容易：**

```
 <input type="text" name="EnterName" id="name"/>
 <select name="SelectOptions" id="options">
  ...

  Element nameElement = doc.getElementbyId("name");
  System.out.println("EnterName: " + nameElement.getNodeValue());
  Element selectElement = doc.getElementbyId("name");
  System.out.println("SelectOptions: " + selectElement.getNodeValue()); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-08T05:51:55.677

例如，您可以在 html 中添加自定义属性以区分 html 组件

```
<input type="text" name="EnterName" myattr1="yes"/>
<select name="SelectOptions" myattr2="yes">
<option>First</option>
<option>Second</option>
</select> 
```

根据自定义属性，您可以检查和区分 HTML 组件...

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-08T06:02:33.583

你可以这样说：

```
Element input = .... documene.getElementByTagName("input");
Attribute eneterName = root.getAttributeNode("EnterName");
String s = enterName.getXXXValue(); 
```

请参考 API 以获取正确的方法来检索值。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-08T06:20:08.587

通常，您按属性名称搜索属性，例如“名称”，而不是属性值，例如“EnterName”。所以你通常会去

```
String valueForName = myElement.getAttribute("name"); 
```

对于任何非常复杂的事情，我使用 XPath。哪个适合你想要的。这是一个看起来正是您想要的博客（虽然它不是 Java，但它已经足够接近了）：

[http://blogs.msdn.com/b/davidklinems/archive/2007/03/13/quick-tip-using-xpath-to-find-nodes-by-attribute-value.aspx](http://blogs.msdn.com/b/davidklinems/archive/2007/03/13/quick-tip-using-xpath-to-find-nodes-by-attribute-value.aspx)

这是一个[类似的非 Java Stack Overflow 链接](https://stackoverflow.com/questions/5191652/xpath-search-relating-to-attributes)

用Java阐述，有点乏味，但是，大致......

```
XPathFactory anXPathfactory = XPathFactory.newInstance();
XPath xpath = anXPathfactory.newXPath();
XPathExpression xpe = xpath.compile("your xpath goes here");
String finallyIGetSomething = (String) xpe.evaluate(node, XPathConstants.STRING); 
```

尚未针对您的情况对此进行测试，因此请谨慎购买**

# html - 增加选择框的高度

> ID：13283140
> 
> 赞同：0
> 
> 时间：2012-11-08T05:40:21.163
> 
> 标签：html, css

> **可能重复：**
> [在 IE 中设置 SELECT 的高度](https://stackoverflow.com/questions/490036/setting-the-height-of-a-select-in-ie)

我需要在 IE7 中增加选择框的高度。在 chrome 和 firefox 中，炒锅很好。但在 ie7 中，section box 的高度很小。我尝试将其设置`font-size`为`30px`. 高度增加了，但文字太大了。

在这里我附上了图片

![在此处输入图像描述](../Images/cd80b7297686e56cfd81ffdc4644b7c4.png)

我`increase`的`height`选择框如何`with out`设置`font-size`.
我正在等待您的宝贵答复。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T06:33:41.217

给它一些填充怎么样？试试这个 CSS

```
select {padding:20px 0px;} 
```

或者，如果您希望文本位于顶部，则在底部添加一个填充

```
select {padding-bottom:20px;} 
```

我希望填充在 IE 中有效；）

**注意：**遗憾的是，选择箭头不会改变它的高度。您可以尝试一些 jQuery 解决方案。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-08T05:47:35.317

在 IE 中无法做到这一点，除非您使用自定义选择框，例如

[http://harvesthq.github.com/chosen/](http://harvesthq.github.com/chosen/)

# javascript - 在 SharePoint 2010 中禁用还原版本

> ID：13283143
> 
> 赞同：0
> 
> 时间：2012-11-08T05:40:25.850
> 
> 标签：javascript, list, sharepoint-2010, versioning

是否有任何解决方案可以删除或禁用版本页面中的恢复选项，因为我不希望用户看到版本但无法恢复它。有什么建议么

谢谢你

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T16:07:39.440

在 core.js 的 AddVersionMenuItemsCore 函数中添加了恢复上下文菜单项。

这是添加项目的代码：

```
if (HasRights(0x0, 0x4))
{
    menuOption=CAMOpt(m, L_RestoreVersion_Text, "javascript:RestoreVersion()", "");
    menuOption.id="ID_RestoreVersion";
} 
```

因此，似乎允许用户查看版本但阻止他们恢复以前版本的唯一方法是授予他们 ViewVersions 权限，但确保他们没有 EditListItems 权限。有关详细信息，请参阅[SPBasePermissions](http://msdn.microsoft.com/en-us/library/microsoft.sharepoint.spbasepermissions.aspx)。

# wpf - WPF 中的新选项卡 - 按钮与方法中的 items.add

> ID：13283146
> 
> 赞同：0
> 
> 时间：2012-11-08T05:40:26.983
> 
> 标签：wpf, tabs, routed-events

好的，所以我有一个名为 PictureWindow 的窗口，它显示图片（我已经删除了与制作标签无关的代码）。TabControl 被命名为“itemsTab”。使用按钮按下，我可以创建一个新标签没有问题。但是在被调用的方法中使用相同的操作是行不通的。使用 buttonTab_Click 方法会创建一个新选项卡，而 newTab 方法则不会。

我能看到的唯一真正的区别是由于 sender 和 RoutedEventArgs 对象 - 这些如何影响这里的操作？还是我还缺少其他东西？

提前致谢。

*编辑*为了让事情变得更奇怪，newTab 方法确实创建了一个新选项卡，但前提是它在 PictureWindow 构造函数方法中被调用。如果我有以下内容，则会创建一个新选项卡。

```

公共图片窗口（字符串当前）
        {
            初始化组件（）；
            新标签（当前）；
        }

```

但是，如果我在其他任何地方调用该方法，它就不起作用。

```
公共部分类 PictureWindow : 窗口
    {
        公共图片窗口（字符串当前）
        {
            初始化组件（）；
        }

        私人无效Window_Loaded（对象发送者，RoutedEventArgs e）
        {
        }

        私人无效按钮Close_Click（对象发送者，RoutedEventArgs e）
        {
            this.Close();
        }

        私人无效按钮Tab_Click（对象发送者，RoutedEventArgs e）
        {
            TabItem newTab = new TabItem();
            newTab.Header = "新标签页！";
            itemsTab.Items.Add(newTab);
        }

        公共无效新标签（字符串当前）
        {
            TabItem newTab = new TabItem();
            itemsTab.Items.Add(newTab);

        }
    }

```

# jquery - 在jquery中自动完成选择后清除文本框

> ID：13283149
> 
> 赞同：4
> 
> 时间：2012-11-08T05:40:45.147
> 
> 标签：jquery, jquery-ui, jquery-autocomplete

我已经使用 JQuery 实现了自动完成，当我选择数据时，它会存储在结果表中，选择后，我需要清除我无法清除的自动完成文本框。搜索相同并[在选择后在 Jquery Autocomplete 中得到了这个 Clear text 框](https://stackoverflow.com/questions/11607938/clear-text-box-in-jquery-autocomplete-after-selection)，但我不知道在哪里放置它，而且在萤火虫中，我在函数（事件，ui）处遇到错误。请帮助...我的代码如下。

```
$(function() {
    function log( message ) {

        $( "<div>" ).text( message ).prependTo( "#log" ).click(function(o){
            $(this).remove();
        });
        $( "#log" ).scrollTop( 0 );

    }

    $( "#poolName" ).autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "/DataWeb/getPoolName",
                type : 'post',
                dataType: 'json',
                data: { name_startsWith: request.term },
                success: function( data ) {
                    console.log(data);
                     response( $.map( data, function( item ) {
                        return {
                             label: item.poolName,
                             value: item.poolName
                        }
                    })); 
                }
            });
        },
        minLength: 1,
        select: function( event, ui ) {
            log( ui.item ?
                  ui.item.label :
                "Nothing selected, input was " + this.value);
        },
        open: function() {
            $( this ).removeClass( "ui-corner-all" ).addClass( "ui-corner-top" );
        },
        close: function() {
            $( this ).removeClass( "ui-corner-top" ).addClass( "ui-corner-all" );
        }

    });

}); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-08T05:51:37.120

```
$( "#poolName" ).autocomplete({
    source: function( request, response ) {
        $.ajax({
            url: "/DataWeb/getPoolName",
            type : 'post',
            dataType: 'json',
            data: { name_startsWith: request.term },
            success: function( data ) {
                console.log(data);
                 response( $.map( data, function( item ) {
                    return {
                         label: item.poolName,
                         value: item.poolName
                    }
                })); 
            }
        });
    },
    select: function (e, i) {
       $('#poolName').val('');   
       return false;    
    }

    ,minLength: 1,
    select: function( event, ui ) {
        log( ui.item ?
              ui.item.label :
            "Nothing selected, input was " + this.value);
    },
    open: function() {
        $( this ).removeClass( "ui-corner-all" ).addClass( "ui-corner-top" );
    },
    close: function() {
        $( this ).removeClass( "ui-corner-top" ).addClass( "ui-corner-all" );
    }

});

}); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-08T05:49:51.163

尝试使用`return false;`内部选择：子句，

```
select: function( event, ui ) {
            log( ui.item ?
                  ui.item.label :
                "Nothing selected, input was " + this.value);
            return false;
        }, 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-08T06:40:11.120

我试过这个 document.getElementById("poolName").value=""; 它正在工作。

```
function log( message ) {
        document.getElementById("poolName").value="";

        $( "<div>" ).text( message ).prependTo( "#log" ).click(function(o){
            $(this).remove();
        });
        $( "#log" ).scrollTop( 0 );

    } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-05-27T23:17:22.100

其他答案的问题是它没有 preventDefault 调用。

这将起作用：

```
select: function (e, i) {
   e.preventDefault();
   $('#poolName').val('');   
   return false;    
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-03-19T18:01:33.130

我发现我必须同时清除字段并返回 false

```
select: function(ev, ui) {
  console.log(this, ui.item)
  $(this).val('')
  return false
}, 
```

# java - spring mvc 3控制器响应ajax调用时出现500个内部服务器错误

> ID：13283151
> 
> 赞同：2
> 
> 时间：2012-11-08T05:40:50.433
> 
> 标签：java, spring-mvc

当我有以下代码时，我的代码给出 500 错误。它向 ajax 调用发送一个 jason 响应。

```
 @RequestMapping(value = "/savecourse", method = RequestMethod.POST)
public @ResponseBody
Object saveLecturer(@Valid @ModelAttribute(value = "course") Course course,
        BindingResult result) {

    Map<String, Object> response = new HashMap<String, Object>();

    if (result.hasErrors()) {
        List<ObjectError> results = result.getAllErrors();
        for (ObjectError objectError : results) {
            System.out.println(objectError.getDefaultMessage());
        }
        response.put("message", "Could not add the Course to the system.");
    } else {
        try {
            course.setId(courseDao.saveCourse(course));//returns the id
            response.put("course", course);

        } catch (Exception e) {
            System.out.println(e);

        }
    }

    return response;
} 
```

但是当我创建一个新对象并将参数复制到另一个对象时，它工作正常。第二种方法（当然不是一个好方法）效果很好。请求对象中的所有参数也都设置为 cse 对象。

```
 @RequestMapping(value = "/savecourse", method = RequestMethod.POST)
public @ResponseBody
Object saveLecturer(@Valid @ModelAttribute(value = "course") Course course,
        BindingResult result) {

    Map<String, Object> response = new HashMap<String, Object>();

    if (result.hasErrors()) {
        List<ObjectError> results = result.getAllErrors();
        for (ObjectError objectError : results) {
            System.out.println(objectError.getDefaultMessage());
        }
        response.put("message", "Could not add the Course to the system.");
    } else {
        try {
            course.setId(courseDao.saveCourse(course));//returns the id
            Course cse = new Course();
            cse.setId(course.getId());
            cse.setCourseName(course.getCourseName());
            cse.setFee(course.getFee());
            Lecturer lec = new Lecturer();
            lec.setId(course.getLecturer().getId());
            lec.setFirstName(course.getLecturer().getFirstName());
            lec.setLastName(course.getLecturer().getLastName());
            cse.setLecturer(lec);
            cse.setGrade(course.getGrade());
            response.put("course", cse);

        } catch (Exception e) {
            System.out.println(e);

        }
    }

    return response;
} 
```

你能告诉我第一种方法有什么问题吗？任何帮助是极大的赞赏。

# c# - 正则表达式匹配文本文件中的 XML 元素

> ID：13283164
> 
> 赞同：0
> 
> 时间：2012-11-08T05:41:55.547
> 
> 标签：c#, .net, xml, regex

> **可能重复：**
> [正则表达式匹配打开的标签，XHTML 自包含标签除外](https://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags)

我有一个包含转换指令模板的文本文件。我需要解析这个文本文件，

我需要匹配这样的东西：

```
(Source: <element>) 
```

并获得“元素”。

或者这种模式：

```
(Source: <element attr="name" value=""/>) 
```

并得到“元素属性=”名称“”。

我目前正在使用这个正则表达式：

```
\(Source:\ ?\<(.*?)\>\) 
```

对不起，我是新手。:)

感谢你的帮助。

```
-JRC 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-08T06:11:44.607

# php - 电子商务信用卡集成

> ID：13283165
> 
> 赞同：-1
> 
> 时间：2012-11-08T05:42:03.840
> 
> 标签：php, api, e-commerce, credit-card

我知道一些第三方在线支付处理器。但是，我看到一些网站没有说明他们使用的支付处理器（例如 PayPal），我看到的唯一字段是注册详细信息和信用卡信息字段。这些类型的支付处理器是什么？

例如，在[Linode](https://manager.linode.com/signup/)中，我想知道他们使用什么作为信用卡处理器。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T05:50:53.943

它们被称为支付网关。它们通常带有 api。您连接，发送 CC 详细信息，处理付款，发回响应。

新西兰流行的网关是 DPS。 [http://www.paymentexpress.com/](http://www.paymentexpress.com/)

它们非常易于使用，并且根据您的操作规模有不同的选择。

# windows - 在 ListView 中手动选择多个项目

> ID：13283169
> 
> 赞同：0
> 
> 时间：2012-11-08T05:42:30.970
> 
> 标签：windows, xaml, visual-c++, c++-cx

我在我的 XAML 文件中创建了一个 ListView 并将 SelectionMode 设置为“扩展”。我想编写一个手动设置此列表视图上的选择的方法。

以下作品集设置了一项的选择。

`MyListView->SelectedItem = SomeObject;`

`SelectedIndex`也可以。

如何设置多个项目的选择？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T18:41:08.773

确保您的 ListView`SelectionMode`是“Multiple”，然后您可以附加到 ListView 上的 SelectedItems 集合。

该线程还包括一个 WPF 示例，您可以在其中使用数据绑定/MVVM 来实现相同的目标（假设您的个人 ListViewItems 是可绑定的）：[http ://social.msdn.microsoft.com/Forums/en/wpf/thread/2418b2a1- 6fbd-4820-b18f-e693111debbb](http://social.msdn.microsoft.com/Forums/en/wpf/thread/2418b2a1-6fbd-4820-b18f-e693111debbb)

请注意，SelectedItems 集合与 ItemsSource 集合的比较通常通过对象实例标识进行。因此，例如，此代码不会导致选择项目：

```
auto v = ref new Vector<Object^>();
MyListView->ItemsSource = v;

Object^ o1 = "abc";
Object^ o2 = "def";
Object^ o3 = "ghi";

v->Append(o1);
v->Append(o2);
v->Append(o3);

MyListView->SelectedItems->Append("abc"); //"abc" is a distinct new string object
MyListView->SelectedItems->Append("ghi"); 
```

但是将最后两行更改为此，将导致项目被选中：

```
MyListView->SelectedItems->Append(o1);  //o1 is the same object found in ItemsSource
MyListView->SelectedItems->Append(o3); 
```

# php - JavaScript/jQuery 应用程序一键打印 100 张发票，无需打开打印对话框

> ID：13283170
> 
> 赞同：0
> 
> 时间：2012-11-08T05:42:57.200
> 
> 标签：php, javascript, jquery, printing, printdialog

我正在尝试创建一个应用程序（jQuery 或 JavaScript），只需单击一次打印按钮即可打印 100 张唯一发票，而无需调用打印对话框。

要求是我不想让网站用户访问他们发票的软拷贝。问题是 JavaScript 打印命令 window.print 为每张发票打开一个对话框，在我的情况下，它会要求 100 次打印下一张发票。

任何帮助将不胜感激，在此先感谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T06:20:48.807

如果它随时显示在屏幕上，用户可以将其打印在屏幕上。禁用打印屏幕将不起作用，因为您可以使用硬件甚至简单的照相手机进行屏幕捕获。

如果它没有显示在屏幕上，那么它一定是在客户端机器的内存中，如果他们真的想要，他们仍然可以提取它。最简单的情况可能只是在 javascript 中添加断点或打开源代码。

如果要打印的文档没有存储在机器中，那么您真正要求的是让您的服务器在没有确认的情况下控制用户打印机打印的确切内容。我不认为这是可能的。

此外，用户打印后，仍然可以将其扫描为 pdf，甚至 OCR 以获取 .doc 或文本。

我想知道是什么让您想要阻止用户获得软拷贝。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-17T10:23:07.077

您无法绕过打印对话框，但您可以在触发打印对话框之前生成所有发票

# objective-c - 开源 html 解析类不能正确解析段落之间的空格

> ID：13283172
> 
> 赞同：5
> 
> 时间：2012-11-08T05:43:11.203
> 
> 标签：objective-c, html-parsing

我正在使用一种将 html 文本解析为 NSString 的开源方法。

生成的字符串在前几段之间有大量空白，但后续段落只有一行空间。这是一个输出示例。

![在此处输入图像描述](../Images/591333013d065d5daaf2ca8e2fec1c2a.png) 以下是我正在调用的方法。我只更改了两行代码。对于`stopCharacters`and `newLineAndWhitespaceCharacters`，我`/n`从字符集中删除了，因为当它被包含在内时，整个文本就是一个长段落。

```
- (NSString *)stringByConvertingHTMLToPlainText {

    // Pool
    NSAutoreleasePool *pool = [[NSAutoreleasePool alloc] init];

    // Character sets
    NSCharacterSet *stopCharacters = [NSCharacterSet characterSetWithCharactersInString:[NSString stringWithFormat:@"< \t\r%C%C%C%C", 0x0085, 0x000C, 0x2028, 0x2029]];
    NSCharacterSet *newLineAndWhitespaceCharacters = [NSCharacterSet characterSetWithCharactersInString:[NSString stringWithFormat:@" \t\r%C%C%C%C", 0x0085, 0x000C, 0x2028, 0x2029]];
    NSCharacterSet *tagNameCharacters = [NSCharacterSet characterSetWithCharactersInString:@"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"];

    // Scan and find all tags
    NSMutableString *result = [[NSMutableString alloc] initWithCapacity:self.length];
    NSScanner *scanner = [[NSScanner alloc] initWithString:self];
    [scanner setCharactersToBeSkipped:nil];
    [scanner setCaseSensitive:YES];
    NSString *str = nil, *tagName = nil;
    BOOL dontReplaceTagWithSpace = NO;
    do {

        // Scan up to the start of a tag or whitespace
        if ([scanner scanUpToCharactersFromSet:stopCharacters intoString:&str]) {
            [result appendString:str];
            str = nil; // reset
        }

        // Check if we've stopped at a tag/comment or whitespace
        if ([scanner scanString:@"<" intoString:NULL]) {

            // Stopped at a comment or tag
            if ([scanner scanString:@"!--" intoString:NULL]) {

                // Comment
                [scanner scanUpToString:@"-->" intoString:NULL];
                [scanner scanString:@"-->" intoString:NULL];

            } else {

                // Tag - remove and replace with space unless it's
                // a closing inline tag then dont replace with a space
                if ([scanner scanString:@"/" intoString:NULL]) {

                    // Closing tag - replace with space unless it's inline
                    tagName = nil; dontReplaceTagWithSpace = NO;
                    if ([scanner scanCharactersFromSet:tagNameCharacters intoString:&tagName]) {
                        tagName = [tagName lowercaseString];
                        dontReplaceTagWithSpace = ([tagName isEqualToString:@"a"] ||
                                                   [tagName isEqualToString:@"b"] ||
                                                   [tagName isEqualToString:@"i"] ||
                                                   [tagName isEqualToString:@"q"] ||
                                                   [tagName isEqualToString:@"span"] ||
                                                   [tagName isEqualToString:@"em"] ||
                                                   [tagName isEqualToString:@"strong"] ||
                                                   [tagName isEqualToString:@"cite"] ||
                                                   [tagName isEqualToString:@"abbr"] ||
                                                   [tagName isEqualToString:@"acronym"] ||
                                                   [tagName isEqualToString:@"label"]);
                    }

                    // Replace tag with string unless it was an inline
                    if (!dontReplaceTagWithSpace && result.length > 0 && ![scanner isAtEnd]) [result appendString:@" "];

                }

                // Scan past tag
                [scanner scanUpToString:@">" intoString:NULL];
                [scanner scanString:@">" intoString:NULL];

            }

        } else {

            // Stopped at whitespace - replace all whitespace and newlines with a space
            if ([scanner scanCharactersFromSet:newLineAndWhitespaceCharacters intoString:NULL]) {
                if (result.length > 0 && ![scanner isAtEnd]) [result appendString:@" "]; // Dont append space to beginning or end of result
            }

        }

    } while (![scanner isAtEnd]);

    // Cleanup
    [scanner release];

    // Decode HTML entities and return
    NSString *retString = [[result stringByDecodingHTMLEntities] retain];
    [result release];

    // Drain
    [pool drain];

    // Return
    return [retString autorelease];

} 
```

**编辑：**

这是字符串的 NSLog。我只粘贴了前几段

```
Mitt Romney spent the past six years running for president. After his loss to President Barack Obama, he'll have to chart a different course.  

 His initial plan: spend time with his family. He has five sons and 18 grandchildren, with a 19th on the way.  

 "I don't look at postelection to be a time of regrouping. Instead it's a time of forward focus," Romney told reporters aboard his plane Tuesday evening as he returned to Boston after the final campaign stop of his political career. "I have, of course, a family and life important to me, win or lose."  

 The most visible member of that family — wife Ann Romney — says neither she nor her husband will seek political office again. 
```

ETC....

```
for (int j = 25; j< 50; j++) {
    char test =  [completeTrimmed characterAtIndex:([completeTrimmed rangeOfString:@"chart a different course."].location + j)];

        NSLog(@"%hhd", test);
    }

012-11-11 17:15:57.668 LMU_LAL_LAUNCHER[5431:c07] 32
2012-11-11 17:15:57.669 LMU_LAL_LAUNCHER[5431:c07] 32
2012-11-11 17:15:57.669 LMU_LAL_LAUNCHER[5431:c07] 10
2012-11-11 17:15:57.670 LMU_LAL_LAUNCHER[5431:c07] 32
2012-11-11 17:15:57.670 LMU_LAL_LAUNCHER[5431:c07] 32
2012-11-11 17:15:57.670 LMU_LAL_LAUNCHER[5431:c07] 10
2012-11-11 17:15:57.671 LMU_LAL_LAUNCHER[5431:c07] 32
2012-11-11 17:15:57.671 LMU_LAL_LAUNCHER[5431:c07] 32
2012-11-11 17:15:57.671 LMU_LAL_LAUNCHER[5431:c07] 10
2012-11-11 17:15:57.672 LMU_LAL_LAUNCHER[5431:c07] 32
2012-11-11 17:15:57.672 LMU_LAL_LAUNCHER[5431:c07] 72
2012-11-11 17:15:57.672 LMU_LAL_LAUNCHER[5431:c07] 105
2012-11-11 17:15:57.673 LMU_LAL_LAUNCHER[5431:c07] 115
2012-11-11 17:15:57.673 LMU_LAL_LAUNCHER[5431:c07] 32
2012-11-11 17:15:57.673 LMU_LAL_LAUNCHER[5431:c07] 105
2012-11-11 17:15:57.673 LMU_LAL_LAUNCHER[5431:c07] 110
2012-11-11 17:15:57.674 LMU_LAL_LAUNCHER[5431:c07] 105
2012-11-11 17:15:57.674 LMU_LAL_LAUNCHER[5431:c07] 116
2012-11-11 17:15:57.674 LMU_LAL_LAUNCHER[5431:c07] 105
2012-11-11 17:15:57.675 LMU_LAL_LAUNCHER[5431:c07] 97
2012-11-11 17:15:57.675 LMU_LAL_LAUNCHER[5431:c07] 108
2012-11-11 17:15:57.675 LMU_LAL_LAUNCHER[5431:c07] 32
2012-11-11 17:15:57.675 LMU_LAL_LAUNCHER[5431:c07] 112
2012-11-11 17:15:57.676 LMU_LAL_LAUNCHER[5431:c07] 108
2012-11-11 17:15:57.676 LMU_LAL_LAUNCHER[5431:c07] 97 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-11T04:29:00.350

检查这个，

```
 //Decode HTML entities and return
  NSString *retString = [result stringByDecodingHTMLEntities];
  [result release];

  //Drain
  [pool drain];

  retString = [[retString stringByTrimmingCharactersInSet:[NSCharacterSet whitespaceAndNewlineCharacterSet]] retain];

  //Return
  return [retString autorelease];   
} 
```

如果上述方法不起作用，请尝试使用

```
completeTrimmed = [completeTrimmed stringByReplacingOccurrencesOfString:@"\n" withString:@""]; 
```

和

```
completeTrimmed = [completeTrimmed stringByReplacingOccurrencesOfString:@"\r" withString:@""]; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-18T23:05:26.827

您可以将 @"/n/n" 替换为 @"/n" 以减少换行符的数量。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-20T02:34:58.883

我已经尝试过上面的问题，这就是我解决它的方法，

```
NSString *retString = [[result stringByDecodingHTMLEntities] retain];
[result release];

retString = [retString stripDuplicateCharactersInSet:[NSCharacterSet whitespaceCharacterSet] withString:@" "];
retString = [retString stripDuplicateCharactersInSet:[NSCharacterSet newlineCharacterSet] withString:@"\n"]; 
```

我在 NSString 上定义了一个类别方法，

```
- (NSString *)stripDuplicateCharactersInSet:(NSCharacterSet *)characterSet withString:(NSString *)joiningString; 
```

实现如下，

```
- (NSString *)stripDuplicateCharactersInSet:(NSCharacterSet *)characterSet withString:(NSString *)joiningString {

    NSMutableString *originalStr = [NSMutableString string];

    if (!self) {
        return nil;
    }

    NSArray *componentsArray = [self componentsSeparatedByCharactersInSet:characterSet];

    int counter = 0;
    for (NSString *stringComponent in componentsArray) {

        counter ++;

        if ((stringComponent) && ([stringComponent length] > 0) && (![stringComponent isEqualToString:@" "]) && ((![stringComponent isEqualToString:@"\n"]) || (![joiningString isEqualToString:@"\n"]))) {

            if ([componentsArray count] == counter) {
                [originalStr appendFormat:@"%@", stringComponent];                
            } else {
                [originalStr appendFormat:@"%@%@", stringComponent, joiningString];
            }
        }
    }

    return originalStr;
} 
```

将上述方法添加到`NSString+HTML.m`文件中作为`NSString`. 基本上在你给出的 html 中，空格和换行符被混合了多次，并且试图单独去除换行符是行不通的。因此，我通过比较字符串在剥离后是否具有换行符或空格然后附加到主字符串来删除重复的换行符和空格，如上所示。

或者，您也可以尝试，

```
NSString *retString = [[result stringByDecodingHTMLEntities] retain];
[result release];

retString = [retString stripDuplicateNewlineCharacters]; 
```

该方法定义为，

```
- (NSString *)stripDuplicateNewlineCharacters {

    NSMutableString *originalStr = [NSMutableString string];

    if (!self) {
        return nil;
    }

    NSArray *componentsArray = [self componentsSeparatedByCharactersInSet:[NSCharacterSet newlineCharacterSet]];

    int counter = 0;
    for (NSString *stringComponent in componentsArray) {

        counter ++;

        stringComponent = [stringComponent stringByReplacingOccurrencesOfString:@" " withString:@"<#$%$#>"];
        stringComponent = [stringComponent stringByReplacingOccurrencesOfString:@"<#$%$#><#$%$#>" withString:@"<#$%$#>"];
        stringComponent = [stringComponent stringByReplacingOccurrencesOfString:@"<#$%$#>" withString:@" "];

        if ((stringComponent) && ([stringComponent length] > 0) && (![stringComponent isEqualToString:@" "]) && (![stringComponent isEqualToString:@"\n"])) {

            if ([componentsArray count] == counter) {
                [originalStr appendFormat:@"%@", stringComponent];
            } else {
                [originalStr appendFormat:@"%@\n", stringComponent];
            }
        }
    }

    return originalStr;
} 
```

在这种情况下，在方法本身中删除了重复的空格，同时删除了换行符。

# shell - 是否可以通过 shell 脚本创建图形

> ID：13283174
> 
> 赞同：-1
> 
> 时间：2012-11-08T05:43:26.117
> 
> 标签：shell, unix, solaris-10

我想使用 shell 脚本创建一个图形文件。例如，我想制作我系统的 sar 输出图。

```
sar 1 10

05:36:32 AM       CPU     %user     %nice   %system   %iowait    %steal     %idle
05:36:33 AM       all      0.00      0.00      0.00      0.00      0.00    100.00
05:36:34 AM       all      0.00      0.00      0.00      0.00      0.00    100.00
05:36:35 AM       all      0.00      0.00      0.00      0.00      0.00    100.00
05:36:36 AM       all      0.00      0.00      0.00      0.00      0.00    100.00
05:36:37 AM       all      0.00      0.00      0.00      0.00      0.00    100.00
05:36:38 AM       all      0.00      0.00      0.00      0.00      0.00    100.00
05:36:39 AM       all      0.00      0.00      0.00      0.00      0.00    100.00
05:36:40 AM       all      0.00      0.00      0.00      0.00      0.00    100.00
05:36:41 AM       all      0.00      0.00      0.00      0.00      0.00    100.00
05:36:42 AM       all      0.00      0.00      0.00      0.00      0.00    100.00
Average:          all      0.00      0.00      0.00      0.00      0.00    100.00 
```

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-11-08T06:23:45.293

作为可视化工具，您可以使用[Gnuplot](http://www.gnuplot.info/)。

# mongodb - MongoDB CPU 挂钩；探查器返回“剖面线太大”

> ID：13283175
> 
> 赞同：1
> 
> 时间：2012-11-08T05:43:30.457
> 
> 标签：mongodb

每隔 6-12 小时，我的 MongoDB CPU 就会被固定（100% CPU 使用率）。

我启用了分析。上次返回这个：

```
PRIMARY> db.system.profile.find().sort({$natural:-1});
{ "ts" : ISODate("2012-11-08T05:31:09.042Z"), "client" : "10.188.14.195", "user" : "", "err" : "profile line too large (max is 100KB)" } 
```

不幸的是，不是很有帮助。

我试着做一个 db.currentOp(); 虽然它被固定并得到了这个：

```
 {
        "opid" : 18256845,
        "active" : true,
        "lockType" : "write",
        "waitingForLock" : false,
        "secs_running" : 803653,
        "op" : "none",
        "ns" : "streamified.credentials",
        "query" : {

        },
        "client" : "",
        "desc" : "rsSync",
        "threadId" : "0x7f3b865f7700",
        "numYields" : 1
    }, 
```

表明查询已经存活了超过 800,000 秒（在 CPU 挂钩之前的 FAR）。即使在 CPU 恢复正常后，此查询仍然存在。

准确确定哪个查询（或者至少是哪个集合）导致 CPU 挂钩的最佳方法是什么？

# database - 如何使用普通 jdbc 使用分布式事务 JTA

> ID：13283176
> 
> 赞同：1
> 
> 时间：2012-11-08T05:43:38.947
> 
> 标签：database, jpa, jdbc, struts2, jta

我对JTA一无所知，要了解整体场景，请点击此链接[如何维护三个不同数据库的3个顺序事务的酸属性](https://stackoverflow.com/questions/13269718/how-to-maintain-acid-property-of-3-sequential-transaction-of-three-diffrenet-dat) ，但是根据帖子的建议，我必须使用分布式事务。我正在使用 apache-tomcat 服务器。

但正如我所说，我对 JTA 一无所知，所以我的问题是，我有超过 15 个数据库连接，并且根据某些条件，它们各自的数据库已连接。所以我不能为每个数据库创建 hibernate.cfg.xml 和会话工厂和实体。

所以我的问题是，我可以将 JTA 与普通 jdbc 一起使用吗？，如果可能的话，然后给我一些链接或例子。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T06:13:18.287

是的 。您可以将 JTA 与普通 JDBC 一起使用。一般的想法是，不是使用 JDBC [Connection](http://docs.oracle.com/javase/6/docs/api/java/sql/Connection.html)对象来声明事务边界，而是使用 JTA 实现提供的 Transaction Manager 对象来声明事务边界。

例如，在[Bitronix Transaction Manager](http://docs.codehaus.org/display/BTM/NewUserGuide)的情况下，声明跨多个数据库[连接](http://docs.oracle.com/javase/6/docs/api/java/sql/Connection.html)的事务边界 可以通过以下代码完成：

```
 PoolingDataSource derbyDataSource1 = new PoolingDataSource();
        derbyDataSource1.setClassName("org.apache.derby.jdbc.EmbeddedXADataSource");
        derbyDataSource1.setUniqueName("derby1");  
        derbyDataSource1.getDriverProperties().setProperty("databaseName", "database1");
        derbyDataSource1.init();

        PoolingDataSource derbyDataSource2= new PoolingDataSource();
        derbyDataSource2.setClassName("org.apache.derby.jdbc.EmbeddedXADataSource");
        derbyDataSource2.setUniqueName("derby2");
        derbyDataSource2.getDriverProperties().setProperty("databaseName", "database2");
        derbyDataSource2.init();

        BitronixTransactionManager btm = TransactionManagerServices.getTransactionManager();

        btm.begin();
        try {
            Connection c1= derbyDataSource1.getConnection();
            Connection c2= derbyDataSource2.getConnection();

            /***Use c1 and c2 to execute statements again their corresponding DBs as usual**/

            btm.commit();
        } catch (SQLException ex) {
            ex.printStackTrace();
            btm.rollback();
        } 
```

# java - 使用 java.util.zip.* 解压缩使用 Apache POI 创建的 xlsx blob 时失败

> ID：13283179
> 
> 赞同：4
> 
> 时间：2012-11-08T05:43:44.653
> 
> 标签：java, zip, apache-poi, xlsx

以下代码是一个测试程序，它使用 Apache POI 创建一个 xlsx blob 并解压缩 blob（xlsx 为 zip 格式）以检查一些值。该代码基于 Stack Overflow 问题，但我无法解压缩以正常工作。对此的要求是不能触及文件系统，因此我们求助于流。

问题是这条线

```
int size = (int) entry.getSize(); 
```

总是产生-1。但是，请参阅之前的评论

```
zipInput.closeEntry(); 
```

用于进一步进入程序但似乎不正确的变体。

我们不想使用 POI 本身来读取 xlsx 文件，因为我们正在测试 POI 似乎不与 Apache Struts 合作的问题，并且我们希望消除我们使用独立于 Struts 的 POI 的方式是罪魁祸首的情况. 一旦这个测试通过，如果 Struts 报告的问题仍然存在，我们知道要查看 Struts 本身而不是我们使用 POI 的方式。

```
/**
 * Short, Self Contained, Correct Example of
 * 1) creating an xlsx blob with test data;
 * 2) sending it to a stream;
 * 3) unzipping the xlsx;
 * 4) checking the worksheet's xml file for
 * correct test values.
 * Heavily inlined from two other properly factored
 * files, one POI wrapper and one JUnit test case
 * (although the test is not a "unit test" since it
 * only tests third party library integration)
 * DEPENDENCIES
 * 1) poi-3.8.jar
 * 2) poi-ooxml-3.8.jar
 * 3) xmlbeans-2.6.0.jar
 * 4) dom4j-1.6.1.jar
 * 5) poi-ooxml-schemas-3.8.jar
 * Other solutions attempted:
 * 1) commons-compress: always returned byte array of proper size
 * but containing all zeros.
 * Note that we do NOT want to use the filesystem. This exercise's
 * purpose is to create dynamically generated xlsx files delivered
 * via HTTP. The filesystem is never involved.
 */
import java.io.ByteArrayInputStream;
import java.io.ByteArrayOutputStream;
import java.io.IOException;
import java.util.ArrayList;
import java.util.List;
import java.util.zip.ZipEntry;
import java.util.zip.ZipInputStream;

import org.apache.poi.ss.usermodel.Row;
import org.apache.poi.ss.usermodel.Sheet;
import org.apache.poi.xssf.usermodel.XSSFWorkbook;

public class CreateWorkbook
{
    public static void main(String[] args) throws IOException
    {
        // create the data to place into workbook
        List<List<String>> resultset = new ArrayList<List<String>>();
        List<String> row = new ArrayList<String>();
        row.add("A1");
        row.add("B1");
        row.add("C1");
        resultset.add(row);
        row = new ArrayList<String>();
        row.add("A2");
        row.add("B2");
        row.add("C2");
        resultset.add(row);
        row = new ArrayList<String>();
        row.add("A3");
        row.add("B3");
        row.add("C3");
        resultset.add(row);
        // create POI workbook and fill it with resultSet
        XSSFWorkbook workbook = new XSSFWorkbook();
        Sheet s = workbook.createSheet();
        for (int i = 0; i < resultset.size(); i++)
        {
            List<String> record = resultset.get(i);
            Row r = s.createRow(i);
            for (int j = 0; j < record.size(); j++)
                r.createCell(j).setCellValue(record.get(j));
        }
        ByteArrayOutputStream out = new ByteArrayOutputStream();
        workbook.write(out);
        out.flush();
        // retrieve workbook's data into a string and
        // test if the cell values (a1,b2,c3,etc) appear
        ByteArrayInputStream in = new ByteArrayInputStream(out.toByteArray());
        // xlsx is a zipped archive so we need to unzip
        ZipInputStream zipInput = new ZipInputStream(in);
        assert zipInput.available() == 1;
        ZipEntry entry = zipInput.getNextEntry();
        assert entry != null;
        while (entry != null)
        {
            // since this "if" condition passes during execution we
            // know that the stream contains a zip archive with
            // an entry called "xl/worksheets/sheet1.xml". Therefore,
            // ZipEntry retrieval appears to work correctly and the
            // archive has at least a partially correct zip format.
            if (entry.getName().equals("xl/worksheets/sheet1.xml"))
            {
                int size = (int) entry.getSize();
                // ==============================================
                // always fails, reports -1
                assert size > 0 : size;
                // ==============================================
                byte[] bytes = new byte[size];
                int readbytes = zipInput.read(bytes, 0, size);
                assert readbytes > 0 : readbytes;
                // nothing after this line has been tested
                StringBuilder builder = new StringBuilder();
                for (int i = 0; i < size; i++)
                    builder.append(Character.toString((char) bytes[i]));
                String xml = builder.toString();
                assert xml.contains("A1");
                assert xml.contains("B2");
                assert xml.contains("C3");
                break;
            }
            // Swapping the order of these two lines actually
            // causes the program to go further, with size = 678
            // and failing at the readbytes assertion rather than
            // the size assertion.
            // I thought swapping would mess everything up since
            // the entry would be closed immediately after obtaining
            // it.
            zipInput.closeEntry();
            entry = zipInput.getNextEntry();
        }
        zipInput.close();
        in.close();
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T06:42:38.473

您不完全正确地使用 Zip。

试试这个片段：

```
 if (entry.getName().equals("xl/worksheets/sheet1.xml"))
        {
            ByteArrayOutputStream bos = new ByteArrayOutputStream();
            IOUtils.copy(zipInput, bos);
            String xml = bos.toString();
            assert xml.contains("A1");
            assert xml.contains("B2");
            assert xml.contains("C3");
            break;
        } 
```

# c# - C# 列格式化

> ID：13283184
> 
> 赞同：2
> 
> 时间：2012-11-08T05:44:14.187
> 
> 标签：c#, console

我正在尝试将一些输出格式化到控制台，但解决方案存在一些问题。我在 C# 中执行此操作，但是每次我调用 Console.Write 时，它​​都会将整个内容打印到控制台的最后，然后开始新的一行。所以我想做的是将它调整为四列，然后在那里开始一个新行。

这是输出在控制台中的正确方式：

```
Sam       John      Bob     Adam

Kelly     Nolan     Carl    Tim

Tom       David 
```

这是我的结果，但它是错误的方式：

```
Sam    John    Bob    Adam  Kelly  Nolan   Carl   Tim

Tom    David 
```

如果您有任何想法，请提供

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-08T05:56:46.170

我会写一些管理填充和布局的东西..也许是这样的？

```
class ConsoleColumnFormatter {
    private int _columnWidth = 20;
    private int _numColumns = 4;

    private int _currentColumn = 0;

    public ConsoleColumnFormatter(int numColumns, int columnWidth) {
        _numColumns = numColumns;
        _columnWidth = columnWidth;
    }

    public void Write(string str) {
        Console.Write(str.PadRight(_columnWidth - str.Length, ' '));
        _currentColumn++;

        checkForNewLine();
    }

    private void checkForNewLine() {
        if (_currentColumn >= _numColumns) {
            Console.Write("\n");
            _currentColumn = 0;
        }
    }
} 
```

这个：

```
ConsoleColumnFormatter formatter = new ConsoleColumnFormatter(4, 20);

for (int i = 1; i <= 10; i++)
    formatter.Write("Column " + i.ToString()); 
```

..产生，这个：

```
Column 1    Column 2    Column 3    Column 4
Column 5    Column 6    Column 7    Column 8
Column 9    Column 10 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-21T14:32:37.323

如果我理解您的问题。我使用以下技术在控制台中打印出 Txt（日志文件）中的表格。

诀窍是使用 String.format

```
// Example from - http://msdn.microsoft.com/en-us/library/system.string.format.aspx

using System;

public class Example
{
   public static void Main()
   {
      // Create array of 5-tuples with population data for three U.S. cities, 1940-1950.
      Tuple<string, DateTime, int, DateTime, int>[] cities = 
          { Tuple.Create("Los Angeles", new DateTime(1940, 1, 1), 1504277, 
                         new DateTime(1950, 1, 1), 1970358),
            Tuple.Create("New York", new DateTime(1940, 1, 1), 7454995, 
                         new DateTime(1950, 1, 1), 7891957),  
            Tuple.Create("Chicago", new DateTime(1940, 1, 1), 3396808, 
                         new DateTime(1950, 1, 1), 3620962),  
            Tuple.Create("Detroit", new DateTime(1940, 1, 1), 1623452, 
                         new DateTime(1950, 1, 1), 1849568) };

      // Display header 
      string header = String.Format("{0,-12}{1,8}{2,12}{1,8}{2,12}{3,14}\n",
                                    "City", "Year", "Population", "Change (%)");
      Console.WriteLine(header);
      string output;      
      foreach (var city in cities) {
         output = String.Format("{0,-12}{1,8:yyyy}{2,12:N0}{3,8:yyyy}{4,12:N0}{5,14:P1}",
                                city.Item1, city.Item2, city.Item3, city.Item4, city.Item5,
                                (city.Item5 - city.Item3)/ (double)city.Item3);
         Console.WriteLine(output);
      }
   }
}
// The example displays the following output: 
//    City            Year  Population    Year  Population    Change (%) 
//     
//    Los Angeles     1940   1,504,277    1950   1,970,358        31.0 % 
//    New York        1940   7,454,995    1950   7,891,957         5.9 % 
//    Chicago         1940   3,396,808    1950   3,620,962         6.6 % 
//    Detroit         1940   1,623,452    1950   1,849,568        13.9 % 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-08T06:09:52.093

你应该这样写：

```
using System;  
using System.Collections.Generic;  
using System.Linq;  
using System.Text;  

namespace ConsoleApplication1  
{  
    class Program  
    {  
        static void Main(string[] args)  
        {  
            List<string> names = new List<string>()  {"Sam","John","Bob","Adam","Kelly","Nolan","Carl","Tim","Tom","David"};  

            for (int i = 0; i < names.Count; i++)
            {
                if (i % 4 == 0 && i > 0)
                    Console.WriteLine();

                Console.Write(names[i] + "\t");

            }

            Console.ReadLine();
        }
    }
} 
```

输出将与您希望的相同

![在此处输入图像描述](../Images/54f80f65b69f4f539e469480b8abc1fc.png)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-08T05:58:40.737

您还可以利用 StringBuilder 的 AppendLine 或 Environment.NewLine - 在输出到控制台之前格式化行字符串。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-08T05:50:11.330

要开始新行：

```
Console.WriteLine(); 
```

例如：

```
var names = str.Split();
for (int i = 0; i < names.Length; i++)
{
    Console.Write(names[i] + '\t');
    if ((i + 1) % 4 == 0)
        Console.WriteLine();
} 
```

# c# - Microsoft Office Interop Excel 未在 windows 2008 64 位和 office 2007 32 位上关闭

> ID：13283188
> 
> 赞同：-1
> 
> 时间：2012-11-08T05:44:31.223
> 
> 标签：c#, asp.net, memory-management, excel-interop

我创建了一个 excel 助手类，用于交互 excel 互操作服务。但我注意到`excel.exe`服务器上没有关闭。（windows 2008 64bit Japanese OS 和 office 2007 32bit）。当我使用进程资源管理器检查时，它显示的工具提示如下：

```
Path:[Error opening process] 
```

我做了`excel.Quit()`，`Marshal.FinalReleaseComObject(_xlApp)`但没有按预期工作，然后尝试通过 杀死进程`processID`，但仍然没有杀死进程。

```
uint processID = 0;
GetWindowThreadProcessId((IntPtr)_hWnd, out processID);
 if (processID != 0)
 {
  System.Diagnostics.Process.GetProcessById((int)processID).Kill();
 } 
```

然后我尝试了两种方法，但它关闭了所有手动打开的excel文档。

```
System.Diagnostics.Process[] procs = System.Diagnostics.Process.GetProcessesByName("EXCEL");
        foreach (System.Diagnostics.Process p in procs)
        {
            int baseAdd = p.MainModule.BaseAddress.ToInt32();
            if (baseAdd == _xlApp.Hinstance)
            {
                p.Kill();
            }
        }

System.Diagnostics.Process[] procs = System.Diagnostics.Process.GetProcessesByName("EXCEL");
         foreach (System.Diagnostics.Process p in procs)
         {
             if (p.MainWindowTitle.Length == 0)
             {
                 p.Kill();
             }
         } 
```

关于如何处理这种情况的任何想法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-13T10:31:43.430

获取 processId 有点复杂。试试这个...

```
using System;
using System.Collections.Generic;
using System.Diagnostics;
using Excel = Microsoft.Office.Interop.Excel;
using Word = Microsoft.Office.Interop.Word;

    /// <summary>
    /// Gets an Interop.Application object and its associated processId
    /// </summary>
    /// <returns>Excel.Application or Word.Application depending on _isExcel</returns>
    private object ApplicationFactory()
    {
        object application = null;
        string processName = (_isExcel) ? "excel" : "winword";
        Process[] beforeProcesses = null;
        Process[] afterProcesses = null;
        int i = 0;
        while (i < 3)
        { // ourProcess = afterList - beforeList
            beforeProcesses = Process.GetProcessesByName(processName);
            application = (_isExcel) ? (object)new Excel.Application() : (object)new Word.Application();
            afterProcesses = Process.GetProcessesByName(processName);
            if ((afterProcesses.Length - beforeProcesses.Length) == 1)
            { // OK. Just a single new process
                break;
            }
            else
            { // Two or more processes, we cannot get our processId
                // therefore quit while we can and try again
                if (_isExcel)
                    ((Excel._Application)application).Quit();
                else
                    ((Word._Application)application).Quit();
                int indexReferences = 1;
                do
                {
                    indexReferences = System.Runtime.InteropServices.Marshal.ReleaseComObject(application);
                }
                while (indexReferences > 0);
                application = null;
                System.Threading.Thread.Sleep(150);
                i++;
            }
        }
        if (application == null)
        {
            throw new ApplicationException("Unable to create Excel Application and get its processId");
        }
        List<int> processIdList = new List<int>(afterProcesses.Length);
        foreach (Process procDesp in afterProcesses)
        {
            processIdList.Add(procDesp.Id);
        }
        foreach (Process proc in beforeProcesses)
        {
            processIdList.Remove(proc.Id);
        }
        _processId = processIdList[0];
        return application;
    }

    /// <summary>
    /// Kills _processId process if exists
    /// </summary>
    private void ProcessKill()
    {
        Process applicationProcess = null;
        if (_processId != 0)
        {
            try
            {
                applicationProcess = Process.GetProcessById(_processId);
                applicationProcess.Kill();
            }
            catch
            { // no Process with that processId
            }
        }
    } 
```

也就是说，暴力只是最后的资源 ;-) 你需要杀死，因为有一些 COM 对象没有释放。（请参阅 [MS 支持：Office 应用程序未关闭](http://support.microsoft.com/?kbid=317109)）尝试始终引用您的 COM 对象，将它们放入堆栈并在使用后释放它们

```
System.Runtime.InteropServices.Marshal.ReleaseComObject(obj) 
```

然后，一个简单`application.Quit();application = null`的技巧就可以了。

希望能帮助到你。

编辑： - 总是意味着：“每当你使用两点（`_xlApp.Application., _xlWorkbook.Worksheets,...`）

*   添加到堆栈意味着`stack.push(_xlApp.Application)`

*   释放手段`stack.pop()`

我包括 mi helperStack

```
using System.Collections.Generic;

namespace OfficeUtils.Stack
{
/// <summary>
/// Stack of COM objects to be released
/// </summary>
public abstract class ComObjectsStack
{
    private Stack<object> comObjects = new Stack<object>();
    private int mark = 0;

    /// <summary>
    /// Releases all the remaining COM objects
    /// </summary>
    ~ComObjectsStack()
    {
        if (comObjects.Count > 0)
            ReleaseAll();
        comObjects = null;
    }

    /// <summary>
    /// Add a new object to the stack to be released
    /// </summary>
    /// <param name="obj">Nuevo objeto a liberar</param>
    public void Push(object obj)
    {
        comObjects.Push(obj);
    }

    /// <summary>
    /// Release the last object in the stack
    /// </summary>
    public void Pop()
    {
        Release(1);
    }

    /// <summary>
    /// Mark for future use of ReleaseUpToMark
    /// </summary>
    public void Mark()
    {
        mark = comObjects.Count;
    }

    /// <summary>
    /// Release up to mark
    /// </summary>
    /// <returns>Number of released objects</returns>
    public int ReleaseUpToMark()
    {
        int numberObjects = comObjects.Count - mark;
        if (numberObjects > 0)
        {
            Release(numberObjects);
            return numberObjects;
        }
        else
        {
            return 0;
        }
    }

    /// <summary>
    /// Release all the objects in the stack
    /// </summary>
    public void ReleaseAll()
    {
        if (comObjects != null)
            Release(comObjects.Count);
    }

    /// <summary>
    /// Release the last numberObjects objects in stack
    /// </summary>
    /// <param name="numberObjects">Number of objects to release</param>
    private void Release(int numberObjects)
    {
        for (int j = 0; j < numberObjects; j++)
        {
            object obj = comObjects.Pop();
            int i = 1;
            do
            {
                i = System.Runtime.InteropServices.Marshal.ReleaseComObject(obj);
            }
            while (i > 0);
            obj = null;
        }
    }
} 
```

}

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-24T13:32:42.930

我发现通过使用以下内容可以从任务管理器中删除 Excel：

```
 using System.Runtime.InteropServices;
    using Microsoft.Office.Interop.Excel;

    /// <summary>
    /// Excel application
    /// </summary>
    private ApplicationClass m_xlApp = null;

    /// <summary>
    /// Reference to the workbook.
    /// </summary>
    private Workbook m_book = null;

    /// <summary>
    /// Reference to the worksheet.
    /// </summary>
    private Worksheet m_sheet = null;

    /// <summary>
    /// Close the workbook.
    /// </summary>
    public void Close()
    {
        if (m_book != null)
            m_book.Close(Missing.Value, Missing.Value, Missing.Value);

        if (m_xlApp != null)
        {
            m_xlApp.Workbooks.Close();
            m_xlApp.Quit();
        }

        GC.Collect();
        GC.WaitForPendingFinalizers();

        // Release the objects
        Marshal.FinalReleaseComObject(m_sheet);
        Marshal.FinalReleaseComObject(m_book);
        Marshal.FinalReleaseComObject(m_xlApp);

        m_sheet = null;
        m_book = null;
        m_xlApp = null;
    } 
```

# linux - 我想知道在哪里可以找到 u-boot 的通用或理想 DDR 设置？

> ID：13283189
> 
> 赞同：1
> 
> 时间：2012-11-08T05:44:31.533
> 
> 标签：linux, ram, u-boot

我正在研究开源的u-boot。因此，我想知道在哪里可以找到 u-boot 的通用 DDR 设置？理想的设置和喜好是什么？我不需要任何具体的 SoC 相关细节，只是一般情况。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-08T05:57:49.257

没有一般情况。就其本质而言，内存设置*非常*依赖于硬件。实际上，最佳设置可能会根据电路走线从 CPU 到内存的布局方式而有所不同。

# c++ - C++ 的远程开发如何在 Netbeans 中工作？

> ID：13283190
> 
> 赞同：0
> 
> 时间：2012-11-08T05:44:36.130
> 
> 标签：c++, netbeans

嗨，我们想使用 netbeans 的远程开发功能，但是在尝试我们的设置时它非常慢。我想了解将我们的构建环境与 netbeans 集成的可行性。

我们的设置通常是： 1\. 我们安装 netbeans 的 Windows 7 Professional 64bit 2\. 我们有工具和源代码的 RHEL 5.5 64bit linux

通常我们通过 PuTTY 直接连接到那台机器，并使用 VIM 编辑源代码和 gmake 编译和构建项目。现在，当我创建“使用现有源的新远程项目”并尝试使用它时，加载项目需要更多时间。

那么谁能告诉我这个远程编译实际上是如何工作的？因为我们在 linux box 上有一些 GB 的资源，我想知道使用这些大数据是否可以顺利开发？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-08T08:01:46.357

简单的步骤。阅读本[教程](http://netbeans.org/kb/docs/cnd/remotedev-tutorial.html)。你只需要在你的 Linux 上安装一个 SSH 服务器。

这个过程很简单，您的 Netbeans 连接到 SSH 服务器并搜索编译工具，然后使用它们来构建您的项目。

第二个问题是创建一个共享文件夹，您的 Windows 和 Linux 可以访问它。我建议您首先在您的 Windows 上创建一个共享文件夹，然后在您的 Linux 上使用 Samba 客户端。

# powershell - powershell中的换行符不显示在记事本中

> ID：13283191
> 
> 赞同：2
> 
> 时间：2012-11-08T05:44:58.460
> 
> 标签：powershell

如果我用记事本打开 test.txt，它是一行，两个“测试”之间没有换行符。但如果我用 vim 或 ultraedit 打开它，我可以看到换行符。什么原因？

```
Set-Content .\test.txt "test`n`ntest" 
```

更新：

```
"test" | Out-File .\test.txt -Encoding ascii -Append 
```

将附加一个可以显示的换行符

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-11-08T09:19:49.367

只需使用 Windows 行尾，而不是 Unix 行尾：

```
Set-Content .\test.txt "test`r`ntest" 
```

使用 CRLF 而不是您的 LFLF（CR =回车``r`，LF =换行``n`）

记事本使用 Windows 行尾。Vim 能很好地理解 LF。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-08T05:49:25.053

如果我正确理解您的问题，那么您有一个包含 Unix 换行符的文本文件，而不是 DOS 回车符/换行符。

在 UltraEdit 中进入“十六进制编辑”模式，查看行尾字符是“0D0A”（回车/换行）还是只是“0d”（换行符）。

# ruby-on-rails - 如何在 ROR 中使用 minitest 运行单个测试类

> ID：13283195
> 
> 赞同：1
> 
> 时间：2012-11-08T05:45:11.987
> 
> 标签：ruby-on-rails, ruby-on-rails-3

我的 Gemfile 看起来像这样：-

```
group :test do
  # Pretty printed test output
  gem 'capybara'#,'1.1.2'
  gem 'cucumber-rails','1.2.1'
  gem 'cucumber','1.1.4'
  gem 'rspec-rails','2.8.1'
  gem 'rspec-cells','0.1.2'
  gem "factory_girl_rails"
  gem "guard-rspec"
  gem "minitest"
  gem 'headless'
  gem 'minitest-rails'
  gem 'minitest-rails-capybara'  
 end 
```

minitest_helper.rb 看起来像：-

```
ENV["RAILS_ENV"] = "test"
require File.expand_path("../../config/environment", __FILE__)
require "minitest/autorun"
require "capybara/rails"

class ControllerTest  < MiniTest::Spec
 include Rails.application.routes.url_helpers
 include Capybara::DSL
 register_spec_type(/integration$/, self)
end 
```

我的 products_controller_test.rb 看起来像这样：-

```
require "minitest_helper"

describe "Products Controller" do
   it "shows product's name" do  
    uname="Glasses"

    product1 = Product.create!(:name => uname, :description => uname, :no_of_items =>    3,:fee_percentage => 4)
    visit products_path
    page.text.must_include "Glasses"
  end

   end 
```

但是..在执行 ruby​​ 之后`-Itest test/controllers/products_controller_test.rb`

我没有收到错误，没有迹象表明该测试类已加载：-

```
ruby -Itest test/controllers/products_controller_test.rb
:public is no longer used to avoid overloading Module#public, use :public_folder instead
    from /usr/local/rvm/gems/ruby-1.9.2-p290/gems/resque-1.19.0/lib/resque/server.rb:12:in `<class:Server>'
Loaded suite test/controllers/products_controller_test
Started

Finished in 0.004953 seconds.

0 tests, 0 assertions, 0 failures, 0 errors, 0 skips 
```

***这是我第一次使用 Minitest ......***

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T15:45:10.047

你的 Gemfile 有点重......如果你删除所有的 RSpec 引用，你会运行得很好。

（“描述”和“它”方法被 rspec 篡夺了）

消除：

```
 gem 'rspec-rails','2.8.1'
 gem 'rspec-cells','0.1.2' 
```

# php - PHP手动加载视图

> ID：13283198
> 
> 赞同：-1
> 
> 时间：2012-11-08T05:45:46.160
> 
> 标签：php, model-view-controller

我决定在不使用定义/商业框架的情况下尝试 MVC。我可以处理创建模型和控制器。在我的情况下，这些视图是基本的 html。我唯一看不到的创建方式是控制器加载视图时。

例如在 codeigniter 中，我会使用这个：`$this->load->view('view_name');`

但如果我正在创建这个功能，它会怎么样？

ps任何说明代码将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T08:39:48.763

这是因为，如果你正在实现一些对 MVC 的奇怪模仿，那是受到广泛使用类似 Rails 框架的启发。

## 视图不是模板。

这是大多数人无法理解的部分。视图应该是实例，负责所有的表示逻辑。他们根据从模型层提取的数据处理多个模板，选择使用哪个模板。

一个*视图*需要很少的这些模板，并将它们组合起来以创建一个 HTML 响应，或者如果需要，它可以代替 HTML，只发送一个 HTTP 标头。

## 视图应该从哪里来

控制器不应“加载视图”或“创建视图”。完全形成的视图应该被注入到控制器中，以便它们在某些情况下可以更改该视图的状态。

由于在受 MVC 启发的 Web 模式中，控制器和视图之间存在 1:1 的关系是很常见的。当您创建实例化控制器时，您可以大约在同一阶段实例化具有相同类名（只是不同命名空间）的视图。

如果你有类名，你可以在对应的控制器之前实例化视图。这样您就可以在控制器的构造函数中注入视图实例。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-08T05:48:19.360

向您的主控制器添加功能，例如

应用程序控制器.php

```
function myLoadView($viewname){
    include $config['basepath'].'/views/'.$viewname.'.html';
} 
```

像这样你可以实现

你可以使用喜欢

`$this->myLoadView('index');`

更新：-

像这样更新函数

```
 function myLoadView($viewname){
    include $config['basepath'].'/views/header.html';
    include $config['basepath'].'/views/'.$viewname.'.html';
    include $config['basepath'].'/views/footer.html';
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-08T05:49:51.810

就我个人而言，我只会让你的控制器返回一个视图。许多框架都这样做。您可以返回 $this->view('your view class') 或将其命名为 responseView('') 等。然后将任何变量作为数组中的第二个参数传递，以便您的视图可以访问它。

例如：

```
class SomeController extends Controller {
    public function index() {
        // do stuff

        return $this->responseView('view_name', array(
            'param' => 'value',
            'title' => 'pages title'
        ));
    }
} 
```

然后你的前端控制器将测试它是否返回一个视图以及它是否开始处理响应。

# sql-server - 如果值为空，varbinary(max) 列是否会占用空间？

> ID：13283203
> 
> 赞同：1
> 
> 时间：2012-11-08T05:46:13.897
> 
> 标签：sql-server, sql-server-2008-r2

我有一个类型为列的表`varbinary(max)`。我有一些行在该列中有数据，而其他行没有；他们是空的。

我的问题是：列是否`NULL`也每行占用 2 个字节？我正在使用 SQL Server 2008 R2。

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-08T06:00:21.920

这篇文章[http://aboutsqlserver.com/2010/08/11/how-sql-server-stores-data-extents-data-pages-data-row-for-in-row-data/](http://aboutsqlserver.com/2010/08/11/how-sql-server-stores-data-extents-data-pages-data-row-for-in-row-data/)是你需要阅读的.

没有数据要存储，但是元数据会占用

*   NULL 位图中的 1 位（每 8 个可空列 = 1 个字节）
*   可变偏移数组中的 2 个字节。除非它是最后一列或之前的所有列都是 NULL 列

# jquery - ajax：成功回调在 Rails 中不起作用

> ID：13283205
> 
> 赞同：1
> 
> 时间：2012-11-08T05:46:18.193
> 
> 标签：jquery, ajax, ruby-on-rails-3, forms

我在页面上有一个小表格，看起来像

```
<div id="updater">
    <%= form_for current_user,:remote=>true do |f| %>
        please update your <%= f.label @field %>: 
        <%= f.text_field @field %>
        <%= f.submit %>
      <% end %>
 </div> 
```

这会触发具有`respond_to format.js`

update.js.erb 是

```
$("#updater").bind("ajax:success", function(xhr, data, status) {
    $("#updater").remove();
}); 
```

所以一旦字段更新，表单就会消失

我看到 JS 是在 chrome 检查东西的网络选项卡上发送的，并且该字段确实在数据库中更新。然而#updater 并没有消失，如果我添加`alert("updater");`我没有看到警报。

我没有正确地捕捉到 ajax:success 吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T05:55:56.183

我似乎有另一个正在使用#updater 的js文件。一旦我删除它就开始工作了。

# c# - BindingContext 的程序集参考

> ID：13283213
> 
> 赞同：0
> 
> 时间：2012-11-08T05:46:46.667
> 
> 标签：c#, windows

BindingContext 的程序集参考是什么？我在 c# win 应用程序中使用此代码，但它给了我错误

```
 txt_barcode_num_pri.BindingContext .ToString  (TextBox).UpdateSource();

                if (txt_barcode_num_pri.GetBindingExpression(c).HasError) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T05:55:12.150

使用此[BindingContext 参考](http://msdn.microsoft.com/en-us/library/system.windows.forms.bindingcontext.aspx)

您可以在*Assembly*的*Namespace*`BindingContext`下找到（在 System.Windows.Forms.dll 中） *`System.Windows.Forms`*`System.Windows.Forms`**

 **尝试以这种方式使用代码：

```
var bindingContext = txt_barcode_num_pri.BindingContext[dataSource]; 
```

其中*dataSource*是`DataSource`对象。

或者

```
var bindingContext = txt_barcode_num_pri.BindingContext[dataSet, "DataMember"]; 
```**

# c# - 将 WPF DataGridComboBoxColumn 与 MVVM (WAF) 绑定

> ID：13283215
> 
> 赞同：2
> 
> 时间：2012-11-08T05:47:01.813
> 
> 标签：c#, wpf, data-binding, datagridcomboboxcolumn

帮我解决绑定问题。该项目首先在 WPF + [WAF](http://waf.codeplex.com) + ef 代码中。我想将 DataGridComboBoxColumn 值绑定到模型属性，但有些东西不起作用。楷模：

```
public class DocumentMove
    {
        [Key]
        public Guid DocumentMoveId { get; set; }
        public Guid RawMaterialId { get; set; }
        public RawMaterial RawMaterial { get; set; }
        public decimal Amount { get; set; }
        public decimal Price { get; set; }
    }

public class RawMaterial
    {
        [Key]
        public Guid RawMaterialId { get; set; }
        public RawMaterialGroup Group { get; set; }
        [MaxLength(20)]
        public string Code { get; set; }
        public Colour Colour { get; set; }        
        [MaxLength(100)]
        public string Name { get; set; }
        public Measure Measure { get; set; }        
        public List<ArrLocation> ArrLocations { get; set; }        
        public List<RawMove> RawMoves { get; set; }
        public Delivery Supplier { get; set; }
        public RawMaterial()
        {            
        }
} 
```

网格：

```
<DataGrid x:Name="documentMoveTable" AutoGenerateColumns="False" ItemsSource="{Binding DocumentMoves}" 
        SelectedItem="{Binding SelectedDocumentMove}" CanUserDeleteRows="False" IsReadOnly="False" RowEditEnding="documentMoveTable_RowEditEnding">
        <DataGrid.InputBindings>
            <KeyBinding Command="{Binding RemoveCommand}" Key="Del"/>
        </DataGrid.InputBindings>

        <DataGrid.Columns>
            <DataGridComboBoxColumn Header="{x:Static p:Resources.RawMaterial}"
                SelectedValueBinding="{Binding RawMaterialId}" 
                DisplayMemberPath="Name" SelectedValuePath="RawMaterialId">

                <DataGridComboBoxColumn.ElementStyle>
                        <Style TargetType="{x:Type ComboBox}">
                            <Setter Property="ItemsSource" Value="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type Window}}, Path=DataContext.RawMaterials}" />
                            <Setter Property="IsReadOnly" Value="True"/>
                        </Style>
                </DataGridComboBoxColumn.ElementStyle>
                <DataGridComboBoxColumn.EditingElementStyle>
                        <Style TargetType="{x:Type ComboBox}">
                            <Setter Property="ItemsSource" Value="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type Window}}, Path=DataContext.RawMaterials}" />
                        </Style>
                </DataGridComboBoxColumn.EditingElementStyle>
            </DataGridComboBoxColumn>

            <DataGridTextColumn Binding="{Binding Amount, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True, 
                                ValidatesOnExceptions=True, NotifyOnValidationError=True}"
                                Header="{x:Static p:Resources.Amount}" Width="*" ElementStyle="{StaticResource TextCellElementStyle}"/>

            <DataGridTextColumn Binding="{Binding Price, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True, 
                                ValidatesOnExceptions=True, NotifyOnValidationError=True}"
                                Header="{x:Static p:Resources.Price}" Width="*" ElementStyle="{StaticResource TextCellElementStyle}"/>

        </DataGrid.Columns>
    </DataGrid> 
```

和视图模型：

```
[Export]
public class EditDocumentViewModel : ViewModel<IEditDocumentView>
{
    private IEnumerable<DocumentMove> _documentMoves;        
    private ICommand _removeCommand;        
    private ICommand _editListCommand;

    public IEnumerable<DocumentMove> DocumentMoves
    {
        get { return _documentMoves; }
        set
        {
            _documentMoves = value;
            RaisePropertyChanged("DocumentMoves");
        }
    }

    public DocumentMove SelectedDocumentMove { get; set; } 
```

...

```
} 
```

在尝试向网格添加新行时，我可以从 ComboBox 中选择一个值并为“Amount”和“Price”添加值。在控制器方面，在处理 EditListCommand 时，存在`_editDocumentViewModel.SelectedDocumentMove.Amount`and的值，但and`_editDocumentViewModel.SelectedDocumentMove.Price`的值是空的。我认为我的 ComboBoxColumn 绑定中有问题，或者可能是其他问题？`_editDocumentViewModel.SelectedDocumentMove.RawMaterialId``_editDocumentViewModel.SelectedDocumentMove.RawMaterial`

我见过几个类似的问题[1](https://stackoverflow.com/questions/5517789/binding-a-wpf-datagridcomboboxcolumn-with-mvvm)、[2](https://stackoverflow.com/questions/5409259/binding-itemssource-of-a-comboboxcolumn-in-wpf-datagrid)，但找不到解决方法。

请帮忙，对不起我的英语）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-10T16:35:43.697

我添加了参数`UpdateSourceTrigger=PropertyChanged`并且`SelectedValueBinding="{Binding RawMaterialId}"`它工作！

# mysql - MySQL 临时变量赋值

> ID：13283216
> 
> 赞同：10
> 
> 时间：2012-11-08T05:47:13.590
> 
> 标签：mysql, stored-procedures

我有一张像下面这样的桌子。

```
CREATE TABLE People(PeopleId INT NOT NULL PRIMARY KEY AUTO_INCREMENT, 
                    Name VARCHAR(255), 
                    Age INT);

INSERT INTO People(Name,   Age)
            VALUES('Sam',  25),
                  ('John', 24),
                  ('Ria',  14),
                  ('Diya', 23),
                  ('Topel',19),
                  ('Mac',  45); 
```

我创建了一个过程，我出于某种目的使用临时变量年龄。

```
DROP PROCEDURE IF EXISTS Sample;
CREATE PROCEDURE Sample()
BEGIN
  SELECT @Age = Age
    FROM People
   WHERE PeopleId = 4;

   SELECT * 
     FROM People;
END; 
```

不要问我为什么将年龄存储在临时变量中，因为上面不是确切的过程。

当我运行该过程时，临时变量与我为选择查询获得的结果集一起显示为结果集之一。如何避免在分配后将临时变量显示为结果集的一部分？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-11-08T05:49:14.420

试试这个，

```
SET @Age = (SELECT Age FROM People WHERE PeopleId = 16); 
```

或者

```
SELECT Age INTO @Age
FROM People
WHERE PeopleId = 16; 
```

# ios - 如何在 ios 上拖放多个 uitableveiwcells？

> ID：13283217
> 
> 赞同：0
> 
> 时间：2012-11-08T05:47:13.680
> 
> 标签：ios, uitableview, recorder

我想拖动很多选定的单元格并将它们记录在我的应用程序中。但我不知道该怎么做。似乎苹果只是让你拖动一个我所做的。主意？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-08T06:52:55.617

如果可以要求所选单元格是连续的，那么您可以通过将它们替换为单个高单元格来作弊。

**编辑：**
对于不连续的，懒惰的解决方案是让用户选择任何单元格，然后在他们拖放其中一个单元格后，只需将所有其他选定的单元格移到其正下方。

您可以尝试一下，一旦检测到拖动（可能带有's ） `UITableView`，它是否会让您动画出其他选定的单元格（带有）。您还可以查看它是否可以让您在开始拖动时重新绘制/调整单元格大小 - 然后您可以在拖动时使其看起来像一个 z 层堆栈或图腾柱将它们放入一个高单元格中。`deleteRowsAtIndexPaths:withRowAnimation:``UITableViewDelegate``tableView:targetIndexPathForMoveFromRowAtIndexPath:toProposedIndexPath:`

当然，我假设所有选定的单元格将共享相同的目标位置。我无法在一次拖放中将不连续的来源环绕到不连续的目的地。如果用户向下拖动 3 个插槽，这是否意味着您将 3 添加到所有选定单元格的位置？如果这会使单元格越界怎么办？即使你为这些奇怪的情况制定了一些规则并实际实现了这个怪物，它也永远不会是用户友好的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-08T06:44:55.047

没有简单的出路。您需要自己处理动画和运动。也许您可以复制要移动的单元格并显示移动到目的地的动画。当动画停止时更改数据源。

# html - 在 HTML 中跟踪页面点击

> ID：13283222
> 
> 赞同：0
> 
> 时间：2012-11-08T05:48:16.817
> 
> 标签：html

我是 html 的新手。我想跟踪页面点击量。但现在得到了我该如何进行相同的操作。请建议。提前致谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-08T05:51:48.883

### 您只能从服务器全局跟踪它们。

### 案例一：当你的服务器支持 PHP

你有没有服务器，平台是什么？如果您的服务器支持 PHP，那么这对您来说很容易。只需将此代码添加到您的浏览器中，您就可以在其中获取点击次数。

```
<script type="text/javascript" src="hits.php"></script> 
```

的代码`hits.php`如下：

```
<?php
    $counts = ("counter.txt");
    $hits = file($counts);
    $hits[0] ++;
    $fp = fopen($counts, "w");
    fputs($fp , "$hits[0]");
    fclose($fp);
    header("Content-type: text/javascript");
    echo "document.write('" . $hits[0] . "');";
?> 
```

PHP 文件有一个`counter.txt`存储页面被访问次数的文件。它将计数增加一并以这种方式给出计数：

```
document.write('100'); 
```

* * *

### 案例 2：当您没有服务器，但只想跟踪点击次数时。

有许多提供**免费**计数器的服务，其中一些是：

*   [数字](http://www.digits.com/)
*   [OneStat 免费命中计数器](http://www.onestatfree.com/)
*   [惊人的计数器](http://www.amazingcounters.com/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-08T05:53:46.577

首先，您必须将您的计数存储在某个地方，以便您可以访问它，每次访问您的网站时增加它。

所以最好的地方是在服务器端，从那里可以访问所有文件。

对于此类信息的存储、检索和修改，您需要学习[服务器端脚本语言](http://en.wikipedia.org/wiki/Server-side_scripting)，如[PHP](http://www.w3schools.com/php/default.asp) [ASP.NET](http://www.w3schools.com/aspnet/default.asp)等。

# machine-learning - 非 mahout java - Canopy 集群的实现

> ID：13283225
> 
> 赞同：2
> 
> 时间：2012-11-08T05:48:22.230
> 
> 标签：machine-learning, cluster-analysis

我有自己的基于 java 的集群实现（knn）。但是我面临可扩展性问题。我不打算使用 Mahout，因为我的要求非常简单，而且 mahout 需要大量工作。我正在寻找基于 java 的 Canopy 集群实现，我可以将其插入我的算法并进行并行处理。

基于 Mahout 的 Canopy 库与向量和索引相结合，不适用于纯字符串。如果您知道我可以使用简单库在字符串上使用树冠聚类的方式，它将解决我的问题。

我的要求是将字符串列表（比如 10K）传递给 Canopy 聚类算法，它应该返回基于 T1 和 T2 的子列表。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-08T07:16:44.040

Canopy 聚类主要用作**并行化**的预处理步骤。我不确定它会让你在一个节点上获得多少。我认为您不妨立即计算实际算法，或者构建一个索引，例如 M-tree。

Canopy 集群的优势在于您可以在多个节点上*独立*运行它，然后将它们的结果重叠。

还要检查它是否真的与您的方法兼容。我认为树冠可能需要*度量*属性才能正确。您的字符串距离是适当的度量（即三角不等式）吗？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-08T10:01:42.213

10,000 个数据点，如果这就是您所关心的，那么标准 k-means 应该没有问题。在考虑树冠聚类（实际上是为数百万甚至数十亿的示例而设计的）之前，我会先考虑优化它。您可能错过了一些事情：

*   预先计算每个字符串的特征向量。不要在每次要将 s_1 与 s_2 或 s_1 与集群质心进行比较时都这样做
*   您只需将汇总统计信息保存在内存中：分配给集群的所有点的总和以及分配给集群的点数。完成迭代后，将总和除以 ns，就得到了新的质心。
*   你的特征空间的维度是多少？请注意，您应该使用距离度量，其中两个向量都为零的维度没有影响，因此您只需要计算非零维度。将您的点存储为稀疏向量以促进这一点。

你能做一些分析并确定你的实现中的瓶颈在哪里吗？我对您关于 Mahout 无法使用纯字符串的评论感到有些困惑。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-31T14:56:05.653

您应该尝试一下[ELKI中的聚类算法。](http://elki.dbs.ifi.lmu.de/)很抱歉如此无耻地宣传我密切相关的项目。但它是以可比方式实现的最大的聚类和异常值检测算法集合。（如果您采用*某些*R 包中可用的所有聚类算法，您最终可能会得到更多算法，但由于实现差异，它们不会真正具有可比性）

基准测试显示同一算法的不同实现存在巨大的速度差异。请参阅我们的[基准测试](http://elki.dbs.ifi.lmu.de/wiki/Benchmarking)网站，了解即使在诸如 k-means 之类的简单算法上，性能也会有多少变化。

我们还**没有 Canopy Clustering**。原因是它更像是一个预处理索引，而不是一个聚类算法。有点像 M-tree 或 DBSCAN 聚类的原始变体。然而，我们希望看到一个贡献的树冠聚类作为这样的预处理步骤。

到目前为止，ELKI 处理字符串的能力也受到了一些限制。您可以很好地加载典型的 TF-IDF 向量，我们对稀疏向量类和相似函数进行了一些优化。不过，他们还没有完全利用 k-means 的稀疏性，而且也没有球形 k-means。但是，为什么不能期望稀疏向量上的 k-means 结果非常有意义，原因有很多。它更像是一种启发式。

但是，如果您可以尝试解决您的问题并报告您的经验，那将会很有趣。与您的实施相比，性能是否具有竞争力？我们希望看到用于文本处理的贡献模块，例如进一步优化的相似性函数，或球形 k-means 变体。

**更新：** ELKI 现在实际上**包括 CanopyClustering**：[CanopyPreClustering](http://elki.dbs.ifi.lmu.de/browser/elki/trunk/src/de/lmu/ifi/dbs/elki/algorithm/clustering/CanopyPreClustering.java)（届时将成为 0.6.0 的一部分）。但截至目前，它只是另一种聚类算法，尚未用于加速其他算法，例如 k-means。我需要检查如何最好地将它用作某种索引来加速算法。如果您设置 T1=epsilon 和 T2=0.5*T1，我可以想象它也有助于加快 DBSCAN。CanopyClustering 恕我直言的最大问题是如何选择一个好的半径。

# python - 使用scrapy爬取各种网站并找到特定的词

> ID：13283227
> 
> 赞同：0
> 
> 时间：2012-11-08T05:48:41.287
> 
> 标签：python, web-crawler, scrapy

我是scrapy框架的新手。他们有这个很棒的文档，我在其中了解了各种东西。我正在尝试将各种教育网站卷曲到深度 3 级，在每个网站中找到 cse 部门（尝试在该页面上抓取的链接中查找 cse 或计算机或单词列表）。如果他们的网站中有 cse 部门，则这些链接或 URL 将存储在 .csv 文件中。到目前为止，这是我的代码：

```
from scrapy.spider import BaseSpider
from scrapy.selector import HtmlXPathSelector

from dirbot.items import Website

class DmozSpider(BaseSpider):
    name = "dmoz"
    allowed_domains = ["dmoz.org"]
    start_urls = [
        "http://www.dmoz.org/Computers/Programming/Languages/Python/Books/",
        "http://www.dmoz.org/Computers/Programming/Languages/Python/Resources/",
    ]

    def parse(self, response):
        hxs = HtmlXPathSelector(response)
        sites = hxs.select('//ul/li')
        items = []

        for site in sites:
            item = Website()
            item['name'] = site.select('a/text()').extract()
            item['url'] = site.select('a/@href').extract()
            item['description'] = site.select('text()').extract()
            items.append(item)

        return items 
```

问题是：在 allowed_domains 中，我想抓取 1000 多个存储在 .csv 文件中的网站。我想导入 csv 文件并遍历每个 URL。我怎样才能做到这一点？如果他们有 cs 部门，那么这些链接应该写在 csv 文件中。如何修改我的 XPath 以在每个网站中查找 cse 部门（尝试在该页面上抓取的链接中查找 cse 或计算机或单词列表）以及我在哪里应用条件（如果链接有 cse 部门将该链接写入文件否则不是。）最后我如何在scrapy中指定深度？谢谢 另外是否可以在文件中定义单词搜索技术并在scrapy中使用它？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T07:07:03.957

'start_urls' 只是一个列表。覆盖 init，读取 csv，并组装您的列表。

# visual-studio-2010 - 无法使用非常简单的 httpWebRequest 类应用程序连接远程服务器

> ID：13283228
> 
> 赞同：1
> 
> 时间：2012-11-08T05:48:51.240
> 
> 标签：visual-studio-2010, httpwebrequest, connect

我使用 visual2010 编写了一个带有 httpWebRequest 类的简单应用程序。第一次运行该应用程序时，它可以工作，但在一些成功之后，它卡住了警告 **“无法连接远程服务器”。** 我在网上看了很多，但没有太多线索可以做，几乎说是因为防病毒软件或防火墙导致了问题，但是当我关闭两者时，它仍然不起作用。我也重新安装了visual2010，但问题仍然存在

```
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Net;
using System.IO;

namespace new_httpWebRequest
{
class Program
{
    static void Main(string[] args)
    {
        string result ="";
        HttpWebRequest request = (HttpWebRequest)WebRequest.Create("http://my-favor.net");
        // line code problem below:
        `HttpWebResponse response = (HttpWebResponse)request.GetResponse();`
        var sr = new StreamReader(response.GetResponseStream() ?? System.IO.Stream.Null, Encoding.UTF8);
        result = sr.ReadToEnd();
        sr.Close();
        Console.Write(result);
        Console.ReadLine();

    }
} 
```

}

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-08T06:59:22.977

最后，我只需添加此行即可找到解决方案：

request.Proxy = null;

我不知道为什么它会起作用，只是上帝保佑它。

# python - Project Euler #35：测试偶数是否在整数“内部”的更好方法

> ID：13283229
> 
> 赞同：3
> 
> 时间：2012-11-08T05:48:52.217
> 
> 标签：python

问题：迭代一个整数并在其中找到其他整数，然后如果该整数包含它们，则将其丢弃的最佳方法是什么？

长版：

我一直在努力提高我的 Python 技能，尝试为 Project Euler 的问题提供有效的解决方案。在经历了大约 20 个问题后，我发现虽然我可以解决这些问题，但我的解决方案通常是不优雅和笨拙的（即丑陋和缓慢）。问题的结构方式，我认为我需要学习一些更好的解决方案，因为更复杂的东西会加剧这些低效率。

无论如何，今天我正在处理问题 35，它要求所有小于 1,000,000 的圆素数。我已经制作了一个低于 1,000,000 的所有素数的列表，并且我构建了一个小框架来吐出下面这些素数的排列，我计划为每个排列测试素数：

```
def number_switcher(number):
  number = [num for num in str(number)]
  numlist = [''.join(num) for num in list(itertools.permutations(number))]
  return [int(num) for num in numlist] 
```

正如您可以想象的那样，在**所有**素数上运行它然后测试每个可能的素数排列，这不是解决问题的方法。

然后我突然想到，在我开始运行排列之前，我可以丢弃所有包含偶数的数字（假设它们长于一位）或任何包含五的数字。

这是我真正迷路的地方。尽管看起来很简单，但经过两天的尝试，我还是想不通，如何扔掉其中包含偶数或 5 的多位数字。

这是我尝试过的（假设所有低于 1,000,000 的素数列表称为“素数”）：

```
 [num for num in primes if any(x for x in '024685' in str(num))] # failed: 'bool' object is not iterable 
```

然后我尝试了以下方法：

```
for prime in primes:
  if '0' in str(prime):
    primes.remove(prime)

>>>>len(primes)
4264 
```

这将我的素数列表减少了一半。好的，所以也许我走在正确的轨道上，我只需要一个丑陋的“如果 str(prime) 中的 '0' 或 str(prime) 中的 '2'”等。

但奇怪的是：当我检查我的“素数”列表时，它仍然有带“0”的素数。在新的素数列表上再次运行相同的操作，我得到以下结果：

```
 for prime in primes:
   if '0' in str(prime):
     primes.remove(prime)
>>>>len(primes)
4026 
```

...结果再次下降到：

```
>>>>len(primes)
3892
....
3861 # again
....
3843 #and again 
```

也许我在这里遗漏了一些明显的东西，但似乎第一个 if-test 应该找到任何带有“0”的素数并删除它们？

最后，我还尝试了以下方法，这看起来很糟糕，因为它毫无意义地在 str-integer 火车轨道上来回跳跃，但它似乎只是必须工作：

```
for num in primes:
  for d in str(num):
    if (int(d) % 2 == 0 or int(d) == 5):
      primes.remove(num)   # doesn't work: ValueError: list.remove(x): x not in list 
    else:
      pass 
```

我觉得我不应该在这个问题上扯出我的头发，但这让我有点疯狂，可能是因为我已经到了我只是想找出一个解决方案的地步，我的尝试越来越少清醒。

这是我的问题：

迭代一个整数并在其中找到其他整数，然后将那个愚蠢的整数扔掉（如果它包含它们）的最佳方法是什么？

感谢您的帮助/阅读。

脚注：这是我在这里提出的第一个问题，但几个月来我已经从这个网站的指导中受益。如果这个问题/解决方案存在，我深表歉意，但我寻找它并找不到一种方法来拼凑解决方案。大多数搜索结果显示为“如何判断整数是否为偶数”。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-08T07:32:17.247

@root 是正确的，您关于如何优化它的假设是错误的，但我认为指出为什么您正在做的事情在 Python 级别上不起作用会很有用。

**你的布尔问题**：

```
[num for num in primes if any(x for x in '024685' in str(num))] # failed: 'bool' object is not iterable 
```

`'024685' in str(num)`首先被评估，所以它等同于`for x in True`- 这是不可能的。上面会写成：

```
[num for num in primes if not any(ch in '024685' for ch in str(num)] 
```

它从每个字符中获取`str(num)`并检查它是否是`'024685'`.

**你的清单问题**：

这里有一条经验法则——*不要修改你正在迭代的东西*。如果你用 a 来尝试这个，`dict`你会抛出一个异常 - 但对于 a`list`它可能会*默默地出错*，但偶尔会中断。

从列表中删除多个值时，最好构建一个仅保留所需值的新列表，例如：

```
no_zero = [num for num in primes if '0' not in str(num)] 
```

如果您想修改原始素数：

```
primes[:] = no_zero 
```

您的最后一个示例也因 而失败`.remove()`，将上述内容放在一起可以写成：

```
[num for num in primes if not any(num % i == 0 for i in (2, 5)] 
```

**杂项**：

您可能希望考虑将素数存储在`set`- 因为您不关心素数的顺序，并且对于成员资格测试会更快。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-11T01:34:09.597

谢谢，乔恩克莱门茨。我今天能够使用以下脚本解决问题（请注意，我必须确保“024685”剥离器没有剥离“2”和“5”，因为它们是答案的一部分，这让我有一段时间没有...）：

```
import math
import itertools

def prime_test(number):
  if all(number % x != 0 for x in range(2, int(math.sqrt(number)) + 1)):
    return True
  else:
return False

def find_primes(limit):
  primes = [2]
  for x in range(3, limit + 1, 2):
    if prime_test(x):
      primes.append(x)
    else:
      pass
  return primes

def circulate(number):
  circ_list = [number]
  x = 1
  while x < len(str(number)):
    number = str(number)[1:] + str(number)[0]
    circ_list.append(number)
    x += 1
  return circ_list

def main():
  primes = find_primes(1000000)
  no_evens = [x for x in primes if not any(ch in '024685' for ch in str(x) if len(str(x)) > 1)]

  circular_primes = [] 
  for prime in no_evens:
    if all(prime_test(x) for x in circulate(prime)):
      circular_primes.append(prime)
    else:
      pass

  return circular_primes, len(circular_primes)

if __name__ == '__main__':
  print(main()) 
```

我没有意识到的另一件事是我只是应该*旋转*数字，而不是提供它的所有可能排列。当人们试图解决问题时，这些陷阱可能会让他们失望。

# oracle - 将数据从多列显示到单行

> ID：13283231
> 
> 赞同：0
> 
> 时间：2012-11-08T05:49:10.423
> 
> 标签：oracle, concatenation, pivot, string-aggregation

在我的 oracle 数据库中包含以下数据

[http://i1207.photobucket.com/albums/bb476/daniwarrior/data-awal.jpg](http://i1207.photobucket.com/albums/bb476/daniwarrior/data-awal.jpg)

我想显示如下所示的数据

[http://i1207.photobucket.com/albums/bb476/daniwarrior/data-aKHIR.jpg](http://i1207.photobucket.com/albums/bb476/daniwarrior/data-aKHIR.jpg)

**白名单**列正在**合并 whitelist_pembayaran 列、whitelist_pemasan 和 whitelist_jenis_iklan**

**黑名单**列正在合并**blacklist_pembayaran 列、blacklist_pemasang 和 blacklist_jenis_iklan**

oracle中的查询是否可以做？如果您可以如何查询以显示如上图所示的数据

* *)对不起，我不能显示图片，因为我的声誉不太能够显示图像，所以我提供了图片的链接*

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T06:19:13.163

这是组内的字符串聚合和字符串连接。

在 Oracle 11g 中，您可以：

```
select 
   id_pegawai, 
   listagg(whitelist_pembayaran||whitelist_pemasan||whitelist_jenis_iklan,',') within group (order by id_pegawai)  as whitelist,
   listagg(blacklist_pembayaran||blacklist_pemasang||blacklist_jenis_iklan,',') within group (order by id_pegawai)  as blacklist
from table
group by id_pegawai; 
```

*（在 Oracle <= 10g 中你可以使用`wm_concat`函数）*

但是你必须处理逗号。下面尝试一下withelist（因为黑名单是相同的代码）：

```
select 
   id_pegawai, 
   listagg(whitelist_pembayaran||decode(whitelist_pembayaran,null,null,',')||
           whitelist_pemasan||decode(whitelist_pemasan,null, null, ',')||
           whitelist_jenis_iklan,',') 
   within group (order by id_pegawai)  as whitelist
from table
group by id_pegawai; 
```

作为解释：只有当字段不为空时，解码才会在字段后放置一个逗号。After`whitelist_jenis_iklan`不需要逗号，listagg 知道处理它的逗号。

# android - 仅建议搜索对话框？

> ID：13283233
> 
> 赞同：1
> 
> 时间：2012-11-08T05:49:17.470
> 
> 标签：android, search

我已经实现了带有数据库建议的搜索对话框，遵循 android 示例

但我想做一些不同的事情。

1) 当用户点击建议列表中的结果时。我想跳转到不同的活动而不是搜索活动取决于资源类型，就我而言，我有类别和产品。

这是日志中的内容，有没有办法覆盖隐式意图？

{ act=com.example.activities.ProductActivity flg=0x10000000 cmp=org.example/.activities.SearchActivity（有附加功能）}

2）有没有办法阻止用户提交查询？我只希望用户从建议中的内容中进行选择。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-12T21:14:54.687

> 当用户单击建议列表中的结果时。我想跳转到不同的活动而不是搜索活动取决于资源类型，就我而言，我有类别和产品。

让搜索建议路由到一个不可见的活动——一个使用`Theme.NoDisplay`而不是调用`setContentView()`。在那里，决定要显示的正确活动，调用`startActivity()`它，然后调用`finish()`以摆脱后台堆栈中的不可见活动。

> 有没有办法阻止用户提交查询？我只希望用户从建议中的内容中进行选择。

AFAIK，查询只是为了填充建议列表，除了点击建议之外，您的搜索活动无法启动。话虽如此，您无法更改搜索系统的行为，因此您可以得到他们想要给您的任何东西。

# javascript - 在 iOS 中执行 onkeyup 事件时，Javascript focus() 不起作用

> ID：13283237
> 
> 赞同：2
> 
> 时间：2012-11-08T05:49:23.797
> 
> 标签：javascript, ios, focus, onkeyup, onkeypress

我有 4 个输入框来输入 4 位密码。当用户填写第一个输入框时，我想将焦点集中到下一个输入框。

我不得不用`document.getElementById('second').focus();`焦点转到下一个输入框。不幸的是，这在 iO 中不起作用。

我做了进一步的研究，发现像“onkeyup”，“onkeypress”这样的事件不会发生聚焦，但它适用于“onclick”事件。

你们有什么想法来解决这个问题或解决这个问题的替代解决方案。

**HTML**

```
<input id="first" name="first" type="number" style="width: 50px; height: 50px;" maxlength="1" onkeyup="focusSecondBox(event);" />

<input id="second" name="second" type="number" style="width: 50px; height: 50px;" maxlength="1" onkeyup="focusThirdBox(event);"/> 
```

**JS**

```
function getEventCharCode(evt){
        evt = (evt) ? evt : window.event;
        var charCode = (evt.which) ? evt.which : evt.keyCode;
        return charCode;
    }

    function isEmptyElement(element){

        return (element === null || element.value === null || element.value === '');
    }

    function focusSecondBox(evt){

        var element = document.getElementById('first');
        var previousElement = document.getElementById('first');
        var nextElement = document.getElementById('second');
        focusInput();

    }

    function focusInput(){
        var charCode = getEventCharCode(evt);
        if (isEmptyElement(element)) {

            if (charCode === 8) {
                previousElement.focus();
                previousElement.value = previousElement.value;

            } 
        } else if (nextElement !== null) {

            nextElement.focus();

        }
    } 
```

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-19T16:04:08.807

在 iOS Safari 中。据我所知，在没有鼠标事件的情况下调用 focus() 很难或不可能显示键盘。

# 替代解决方案

但是，在这种情况下，我通过以下方式实现了期望：

*   使用不可见的输入字段。
*   当任何输入密码字段聚焦时，聚焦不可见的输入字段。
*   使用按键事件移动不可见的输入字段位置。
*   通过不可见的输入字段更改密码字段。

## HTML

```
<div id="dummyDiv" style="width:0px;height:0px;overflow:hidden;">
<input id="dummy" type="number" />
</div>
<input id="p0" type="number" style="width: 50px; height: 50px;" maxlength="1" />
<input id="p1" type="number" style="width: 50px; height: 50px;" maxlength="1" />
<input id="p2" type="number" style="width: 50px; height: 50px;" maxlength="1" />
<input id="p3" type="number" style="width: 50px; height: 50px;" maxlength="1" /> 
```

## JavaScript

```
window.addEventListener('load', function() {
    var words = [];
    for(var i=0; i < 4; i++) {
        words[i]  = document.getElementById('p'+i);
    }
    var dummy = document.getElementById('dummy');
    var dummyDiv = document.getElementById('dummyDiv');
    words.forEach(function(word) {
        word.addEventListener('click', function(e) {
            dummy.focus();
        });
    });
        dummy.addEventListener('keypress', function(e) {
            if (dummy.value.length >= 4 || !String.fromCharCode(e.keyCode).match(/[0-9\.]/)) {
                e.preventDefault();
            }
        });

    dummy.addEventListener('keyup', function(e) {
        console.log(dummy.value);
        var len = dummy.value.length;

        for(var i=0; i<4; i++) {
            if(len <= i) {
                words[i].value = '';
            } else {
                words[i].value = dummy.value[i];
            }
        }
        if (len>=4) {
            return;
        }
        dummyDiv.style.position = 'absolute';
        var rect = words[len].getBoundingClientRect();
        dummyDiv.style.left = rect.left+'px';
        dummyDiv.style.top = (rect.top+15)+'px';
    });
}); 
```

## 工作样本

[http://nakaji-dayo.github.com/ios-safari-passcode-boxes/](http://nakaji-dayo.github.com/ios-safari-passcode-boxes/)

请在iOS上查看

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-05-22T08:20:41.783

```
<!DOCTYPE html>
<html>
<head>
    <style type="text/css">
     #hidebox {position:absolute; border: none; background:transparent;padding:1px;}
     #hidebox:focus{outline: 0;}

    </style>
</head>

<body>

<input type="text" maxlength="1" onkeyup="keyUp(this)" onkeydown="keyDown(this)" size="2" id="hidebox" at="1">
<input type="text" maxlength="1" size="2" id="mFirst" at="1" onfocus="onFocus(this)"><input type="text" maxlength="1" size="2" id="mSecond" at="2" onfocus="onFocus(this)"><input type="text" maxlength="1" size="2" id="mThird" at="3" onfocus="onFocus(this)"><input type="text" maxlength="1" size="2" id="mFourth" at="4" onfocus="onFocus(this)">
</li>
<script type="text/javascript">

window.onload = function() {
     document.getElementById("mFirst").focus(); 
}
var array = ["mFirst","mSecond","mThird","mFourth"];
function keyUp(e) {
  var curId = array[Number(e.getAttribute("at"))-1];
  var nextId = array[Number(e.getAttribute("at"))];
  var curval= e.value;

var letters = /^[0-9a-zA-Z]+$/;
if(e.value.match(letters)){
  document.getElementById(curId).value = curval;
  if(e.getAttribute("at") <= 3){
  var nextPos = document.getElementById(nextId).offsetLeft;
  e.setAttribute("at",Number(e.getAttribute("at"))+1);
  e.style.left = nextPos+"px";
  }
 e.value = ""
}else {
 e.value = "";
}
} 
function keyDown(e) {
    var curId = array[Number(e.getAttribute("at"))-1];
    document.getElementById(curId).value = "";
} 

function onFocus(e) {
  document.getElementById("hidebox").focus();
  document.getElementById("hidebox").setAttribute("at",Number(e.getAttribute("at")));
  document.getElementById("hidebox").style.left = e.offsetLeft+"px";
  document.getElementById("hidebox").style.top = e.offsetTop+"px";
}

</script>
</body>
</html> 
```

# ruby-on-rails - 如何迭代天数

> ID：13283239
> 
> 赞同：-1
> 
> 时间：2012-11-08T05:49:25.443
> 
> 标签：ruby-on-rails, ruby, loops

我有一个循环 days.this 的代码来制作树叶。我希望出勤时的列登录和注销将在开始日期开始并在结束日期结束时自动填充。

```
exp I input :
startdate: 2012-11-08 01:30:00
enddate: 2012-11-10 01:30:00
i want output like this: 

2012-11-08 01:30:00
2012-11-09 01:30:00
2012-11-010 01:30:00

 for i in 0..((@leafe.enddate - @leafe.startdate).to_i)
                 @attendance = Attendance.new

                 @attendance.signin = '2012-11-08 01:30:00' #value must chang automatically
                 @attendance.signout = '2012-11-08 10:30:00'#value must chang automatically
                 @attendance.user_id = @leafe.user_id
                 @attendance.save
            end 
```

谢谢之前

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T07:31:37.560

如果 startdate 是 Date 类型，为什么不这样做，

```
@attendance.signin = @leafe.startdate+i
@attendance.signout = @leafe.startdate+i 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-08T10:44:03.537

为什么你使用 for 循环？它看起来像javacode。使用范围代替块，例如：

```
(Time.now.beginning_of_day.to_i..Time.now.to_i).step(3600) do |n|#step one hour for example
  @attendance = Attendance.new
  .......
  @attendance.signin  = @leafe.startdate
  @attendance.signout = @leafe.startdate + n # u can change time interval to any what you want

end 
```

# java - 在 Android 中的两个可扩展 ListView 之间交换子项

> ID：13283240
> 
> 赞同：1
> 
> 时间：2012-11-08T05:49:35.547
> 
> 标签：java, android, android-listview, expandablelistview, expandablelistadapter

我的 android 应用程序中有两个可扩展的列表视图。我用一个有六个孩子的组填充第一个可扩展的列表视图。我想要的是，当我单击一个孩子时，它应该与它的组名一起填充到第二个可扩展列表视图中，并且应该从第一个可扩展列表视图中删除该孩子。因此，当我单击第一个可扩展列表视图组的最后一个剩余子项时，它也会填充到第二个可扩展列表视图中，并且由于第一个可扩展列表视图在组中没有剩余子项，因此它也应该删除该组。如何实现这种现象？？？？

# android - 如何在android中跳转和旋转图像？

> ID：13283243
> 
> 赞同：2
> 
> 时间：2012-11-08T05:49:49.037
> 
> 标签：android, image, android-animation

我在我的活动的图像视图中有一张图像。我的活动中也有按钮。我希望当我按下按钮时图像应该是跳跃和旋转，并会被另一个图像替换。其实我想实现投币应用程序？我怎么能做到这一点。任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-08T05:54:42.803

使用`ObjectAnimator`和设置`KeyFrame`它可以实现，这是在 API 11 中引入的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-08T08:25:44.653

您可以将 AnimationSet 与动画侦听器一起使用，例如：

```
AnimationSet aset= new AnimationSet();
aset.add(jumAnimation);
aset.add(flipAnimation1);
aset.add(flipAnimation2); 
```

使用 flipAnimation1 将视图从 0 度旋转到 90 度并更改图像

然后开始第二个动画并完成其余的旋转。

```
flipAnimation.setAnimationListener(new AnimationListener() {

            @Override
            public void onAnimationStart(Animation animation) {
                // TODO Auto-generated method stub

            }

            @Override
            public void onAnimationRepeat(Animation animation) {
                // TODO Auto-generated method stub

            }

            @Override
            public void onAnimationEnd(Animation animation) {
                //change the image
                                    //start flipAnimation2

            }
        });

});

imageView.startAnimation(aset); 
```

不要忘记设置动画属性，例如：duration、fillAfter。

# ios - 与主实例相比，回调方法中的类实例发生了变化

> ID：13283247
> 
> 赞同：0
> 
> 时间：2012-11-08T05:50:12.103
> 
> 标签：ios, cocos2d-iphone, cocos2d-x

在 cpp 中：

```
void Character::jump(CCLayer *layer){
    if (this->isAnimationPlaying) return;
    up_or_down = UP;
    body->runAction(CCSequence::actions(
                                        CCMoveBy::actionWithDuration(0.5, ccp(0, 50)),
                    CCCallFuncND::actionWithTarget(body, callfuncND_selector(Character::upDownDone), this),
//                                        CCCallFuncN::actionWithTarget(body, callfuncN_selector(Character::upDownDone)),
                    NULL));
    this->isAnimationPlaying = true;
}

void Character::upDownDone(CCNode *node, CCObject *ob){
   this->isAnimationPlaying = false;   // *this is different from the this(class instance) in jump method, seems this in upDownDone is a new created instance*
} 
```

那么如何在回调方法中获取类实例呢？我可以为主类实例和回调的类实例做同样的事情吗？

编辑：

Character 是一个没有父类的类，body 是一个成员变量，是 CCSprite 的一个实例。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T06:03:25.700

因为你是`body`用来调用函数的`Character::upDownDone`。

你应该用`this`它来调用它。

```
CCCallFuncND* callFunc = CCCallFuncND::actionWithTarget(first_arg, secend_arg, third_arg);
body->runAction(callFunc); 
```

假设你`secend_arg`是`callfuncND_selector(Character::upDownDone)`

然后，

是`first_arg`调用者，即。在您的代码中调用此函数的类实例是`body`. 但实际上它应该是`this`，或者 Charactor 类的任何实例

（传递给您的调用函数的`CCNode* node`第一个参数）是动作运行器，即。`body`在你的代码中。因为你正在使用`body->runAction()`

（传递给调用函数的`CCObject* obj`第二个参数）是一个 void 指针，与`third_arg`.

另一种方法是使用

```
void Character::upDownDone(CCNode *node, void *ob){
    (Character*)ob->isAnimationPlaying = false;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-08T06:04:17.650

似乎您使用实例“body”而不是 this 来调用 Character::upDownDone 方法。也许您想要这个：

```
CCCallFuncND::actionWithTarget(this, callfuncND_selector(Character::upDownDone), body), 
```

# c++ - 我应该将我的 Vector<> 声明为 Vector<>* 吗？

> ID：13283250
> 
> 赞同：2
> 
> 时间：2012-11-08T05:50:16.357
> 
> 标签：c++, pointers, stl

假设我正在用 STL 编写一个 C++ 员工管理系统

我有一个名为的实体类`StaffMember`：

```
class StaffMember
{
  //
} 
```

和一个名为`Staff`：

```
class Staff
{
  private:
    std::vector<StaffMember> staffMembers;
} 
```

我怎么知道我是否应该声明`staffMembers`为`std::vector<StaffMember>`or `std::vector<StaffMember>*`？

作为一个指针，我需要在里面删除它`~Staff()`，否则我不会。

两者都可以，但问题是，我应该选择哪一个？当这个问题在未来出现时，我可以使用一个通用规则吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-08T05:56:31.367

通常按值 ( `std::vector<StaffMember>`)，除非您需要共享它。即使您确实需要共享它，智能指针也比原始指针好得多。

编译防火墙是一个例外（例如 PIMPL）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-08T05:54:08.000

我会用这个：

```
// This means I have a vector (a list) of StaffMember pointers
std::vector<StaffMember *> myStaffMembers;

StaffMember *newStaffMember = new StaffMember();
myStaffMembers.push_back(newStaffMember); 
```

# django - 刚刚升级到 Django 1.4 并收到消息错误

> ID：13283253
> 
> 赞同：3
> 
> 时间：2012-11-08T05:50:23.867
> 
> 标签：django

我刚刚升级到 Django 1.4，它破坏了一些东西，包括消息传递。

这是我在尝试更改头像时遇到的错误：

```
'User' object has no attribute 'message_set'
Exception Location: /Users/nb/Desktop/myenv2/lib/python2.7/site-packages/django/utils/functional.py in inner, line 185 
```

追溯：

```
File "/Users/nb/Desktop/myenv2/lib/python2.7/site-packages/django/core/handlers/base.py" in get_response
  111\.                         response = callback(request, *callback_args, **callback_kwargs)
File "/Users/nb/Desktop/myenv2/lib/python2.7/site-packages/django/contrib/auth/decorators.py" in _wrapped_view
  20\.                 return view_func(request, *args, **kwargs)
File "/Users/nb/Desktop/spicestore/apps/avatar/views.py" in change
  76\.             request.user.message_set.create(
File "/Users/nb/Desktop/myenv2/lib/python2.7/site-packages/django/utils/functional.py" in inner
  185\.         return func(self._wrapped, *args)

Exception Type: AttributeError at /avatar/change/
Exception Value: 'User' object has no attribute 'message_set' 
```

此外，消息传递不再适用于该网站。Django 1.4 中的哪些变化可能导致此问题，是否有人克服了类似的问题？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-08T08:04:13.653

Django 在 1.2（[发行说明](https://docs.djangoproject.com/en/dev/releases/1.2/#messages-framework)）中引入了一个消息应用程序，并弃用了旧的用户消息 API。

在 Django 1.4 中，旧的 message_set API 已被完全删除，因此您必须更新您的代码。如果您遵循[消息文档](https://docs.djangoproject.com/en/dev/ref/contrib/messages/)，您应该会发现它非常简单。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-08-15T16:49:57.187

添加

```
from django.contrib import messages 
```

进而

```
def foo(request):
    messages.add_message(request, messages.INFO, "Your message.") 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-08T05:55:31.320

你的里面有`INSTALLED_APPS`什么`settings.py`？

你有`'django.contrib.messages',`包括在那里吗？

就像是：

```
INSTALLED_APPS = (
    'django.contrib.auth',
    'django.contrib.contenttypes',
    'django.contrib.sessions',
    'django.contrib.sites',
    'django.contrib.messages',
    'django.contrib.staticfiles',
    'django.contrib.humanize',
    ... 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-13T01:23:05.553

来自 Django 1.4 docs 要启用消息功能，请在 settings.py 中执行以下操作：

编辑`MIDDLEWARE_CLASSES`设置并确保它包含

```
'django.contrib.messages.middleware.MessageMiddleware' 
```

如果您使用依赖于会话（默认）的存储后端，则`django.contrib.sessions.middleware.SessionMiddleware`必须启用并出现`MessageMiddleware`在您的`MIDDLEWARE_CLASSES`.

编辑`TEMPLATE_CONTEXT_PROCESSORS`设置并确保它包含

```
'django.contrib.messages.context_processors.messages' 
```

添加`'django.contrib.messages'`到您的`INSTALLED_APPS`设置

就 django-avatar 而言。使用此处找到的主文件：[https ://github.com/chadpaulson/django-avatar/tree/master/avatar](https://github.com/chadpaulson/django-avatar/tree/master/avatar)

# html - 当样式应用于元素时，如何调试 CSS：悬停在元素的父级上（最好在 Firebug 中）？

> ID：13283257
> 
> 赞同：1
> 
> 时间：2012-11-08T05:50:54.437
> 
> 标签：html, css, web, firebug

我想检查一个列表的 CSS 样式，由`ul li:hover > ul {}`Firebug 中的规则应用。

所以“：悬停”上的复选框的技巧将不起作用，因为我必须悬停被检查元素的父元素，而不是元素本身。![在此处输入图像描述](../Images/3b1a6540fcc46e1eb2aada479cc19d5c.png)

如何检查应用于那种元素的样式？有没有什么办法可以用热键移动到样式面板，同时将鼠标悬停在元素的父级上？提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-10T03:09:51.467

我设法做的最好的事情是痛苦而耐心地 Tab 焦点到样式子窗口。它有效，但我希望有更好的方法来做到这一点。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-10-24T05:52:46.680

我刚刚发布了一个工具，您可以使用它轻松查看所有元素的布局——即使在它们的悬停状态下也是如此。

[HTML 框可视化工具 - GitHub](https://github.com/ghmcadams/boxvis)

# php - 多表单重定向仅在第一个表单的操作上

> ID：13283260
> 
> 赞同：0
> 
> 时间：2012-11-08T05:51:14.427
> 
> 标签：php, javascript, html

我在单页bcz中使用了多个表单我必须在我的浏览器中没有启用javascript的情况下工作我的页面..但问题是所有表单都在单页上重定向..即所有表单都转到第一个表单的操作..如果你可以更改第一个表单形成行动，然后所有表格都转到那个链接......我知道有一个愚蠢的错误，但我没有弄清楚......请帮助我......提前谢谢......

```
//html code

<div id="propertymenu">
        <table cellspacing="20">
            <tr>
                <td style="background-color:#94EEF2;">
                <form method="post" class='propertylist' action="mainainancebills.php">
                    <input type="hidden" value="<?PHP echo $buildname; ?>" name="bn">
                    <input type="hidden" value="<?PHP echo $flatno; ?>" name="fn">
                    <input type="hidden" value="<?PHP echo $area; ?>" name="area">
                    <input type="hidden" value="<?PHP echo $pincode; ?>" name="pc">
                    <input type="hidden" value="<?PHP echo $owner; ?>" name="owner">
                    <input type="hidden" value="<?PHP echo $property; ?>" name="pid">
                    <input type="hidden" value="<?PHP echo $fullname; ?>" name="fname">
                    <input type="hidden" value="<?PHP echo $email; ?>" name="email">
                    <input type="submit" value="PROPERTY DETAILS">
                </font></td>

                <td style="background-color:#94EEF2;">
                <form method="post" class='propertylist' action="inspectionreport.php">
                    <input type="hidden" value="<?PHP echo $buildname; ?>" name="bn">
                    <input type="hidden" value="<?PHP echo $flatno; ?>" name="fn">
                    <input type="hidden" value="<?PHP echo $area; ?>" name="area">
                    <input type="hidden" value="<?PHP echo $pincode; ?>" name="pc">
                    <input type="hidden" value="<?PHP echo $owner; ?>" name="owner">
                    <input type="hidden" value="<?PHP echo $property; ?>" name="pid">
                    <input type="hidden" value="<?PHP echo $fullname; ?>" name="fname">
                    <input type="hidden" value="<?PHP echo $email; ?>" name="email">
                    <input type="submit" value="INSPECTION REPORTS">
                </font></td>

                <td style="background-color:#94EEF2;">
                <form method="post" class='propertylist' action="downloaddocument.php">
                    <input type="hidden" value="<?PHP echo $buildname; ?>" name="bn">
                    <input type="hidden" value="<?PHP echo $flatno; ?>" name="fn">
                    <input type="hidden" value="<?PHP echo $area; ?>" name="area">
                    <input type="hidden" value="<?PHP echo $pincode; ?>" name="pc">
                    <input type="hidden" value="<?PHP echo $owner; ?>" name="owner">
                    <input type="hidden" value="<?PHP echo $property; ?>" name="pid">
                    <input type="hidden" value="<?PHP echo $fullname; ?>" name="fname">
                    <input type="hidden" value="<?PHP echo $email; ?>" name="email">
                    <input type="submit" value="DOWNLOAD DOCUMENTS">
                </font>
                </td>
            </tr>

            <tr>
                <td style="background-color:#94EEF2;">
                <form method="post" class='propertylist' action="downloaddocument.php">
                    <input type="hidden" value="<?PHP echo $buildname; ?>" name="bn">
                    <input type="hidden" value="<?PHP echo $flatno; ?>" name="fn">
                    <input type="hidden" value="<?PHP echo $area; ?>" name="area">
                    <input type="hidden" value="<?PHP echo $pincode; ?>" name="pc">
                    <input type="hidden" value="<?PHP echo $owner; ?>" name="owner">
                    <input type="hidden" value="<?PHP echo $property; ?>" name="pid">
                    <input type="hidden" value="<?PHP echo $fullname; ?>" name="fname">
                    <input type="hidden" value="<?PHP echo $email; ?>" name="email">
                    <input type="submit" value="STATEMENT OF ACCOUNT">
                </font></td>

                <td style="background-color:#94EEF2;">
                <form method="post" class='propertylist' action="electricitybills.php">
                    <input type="hidden" value="<?PHP echo $buildname; ?>" name="bn">
                    <input type="hidden" value="<?PHP echo $flatno; ?>" name="fn">
                    <input type="hidden" value="<?PHP echo $area; ?>" name="area">
                    <input type="hidden" value="<?PHP echo $pincode; ?>" name="pc">
                    <input type="hidden" value="<?PHP echo $owner; ?>" name="owner">
                    <input type="hidden" value="<?PHP echo $property; ?>" name="pid">
                    <input type="hidden" value="<?PHP echo $fullname; ?>" name="fname">
                    <input type="hidden" value="<?PHP echo $email; ?>" name="email">
                    <input type="submit" value="ELECTICITY BILLS">
                </font></td>

                <td style="background-color:#94EEF2;">
                <form method="post" class='propertylist' action="downloaddocument.php">
                    <input type="hidden" value="<?PHP echo $buildname; ?>" name="bn">
                    <input type="hidden" value="<?PHP echo $flatno; ?>" name="fn">
                    <input type="hidden" value="<?PHP echo $area; ?>" name="area">
                    <input type="hidden" value="<?PHP echo $pincode; ?>" name="pc">
                    <input type="hidden" value="<?PHP echo $owner; ?>" name="owner">
                    <input type="hidden" value="<?PHP echo $property; ?>" name="pid">
                    <input type="hidden" value="<?PHP echo $fullname; ?>" name="fname">
                    <input type="hidden" value="<?PHP echo $email; ?>" name="email">
                    <input type="submit" value="OTHERS">
                </font></td>
            </tr>

            <tr>
                <td style="background-color:#94EEF2;">
                <form method="post" class='propertylist' action="expensestracker.php">
                    <input type="hidden" value="<?PHP echo $buildname; ?>" name="bn">
                    <input type="hidden" value="<?PHP echo $flatno; ?>" name="fn">
                    <input type="hidden" value="<?PHP echo $area; ?>" name="area">
                    <input type="hidden" value="<?PHP echo $pincode; ?>" name="pc">
                    <input type="hidden" value="<?PHP echo $owner; ?>" name="owner">
                    <input type="hidden" value="<?PHP echo $property; ?>" name="pid">
                    <input type="hidden" value="<?PHP echo $fullname; ?>" name="fname">
                    <input type="hidden" value="<?PHP echo $email; ?>" name="email">
                    <input type="submit" value="DETAIL OF EXPENSES">
                </font></td>

                <td style="background-color:#94EEF2;">
                <form method="post" class='propertylist' action="mainainancebills.php">
                    <input type="hidden" value="<?PHP echo $buildname; ?>" name="bn">
                    <input type="hidden" value="<?PHP echo $flatno; ?>" name="fn">
                    <input type="hidden" value="<?PHP echo $area; ?>" name="area">
                    <input type="hidden" value="<?PHP echo $pincode; ?>" name="pc">
                    <input type="hidden" value="<?PHP echo $owner; ?>" name="owner">
                    <input type="hidden" value="<?PHP echo $property; ?>" name="pid">
                    <input type="hidden" value="<?PHP echo $fullname; ?>" name="fname">
                    <input type="hidden" value="<?PHP echo $email; ?>" name="email">
                    <input type="submit" value="MAINTENANCE BILLS">
                </font></td>

                <td style="background-color:#94EEF2;">
                <form method="post" class='propertylist' action="ownerhome.php">
                    <input type="hidden" value="<?PHP echo $property; ?>" name="pid">
                    <input type="submit" value="BACK">
                </form></td>
            </tr>
        </table>
    </div> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T07:04:07.803

这段代码有些地方是错误的。因为对于每种形式，都没有结束形式被写成意味着形式在每个形式开始时都不是关闭的。你正确的代码是

```
<div id="propertymenu">
        <table cellspacing="20">
            <tr>
                <td style="background-color:#94EEF2;">
                <form method="post" class='propertylist' action="mainainancebills.php">
                    <input type="hidden" value="<?PHP echo $buildname; ?>" name="bn">
                    <input type="hidden" value="<?PHP echo $flatno; ?>" name="fn">
                    <input type="hidden" value="<?PHP echo $area; ?>" name="area">
                    <input type="hidden" value="<?PHP echo $pincode; ?>" name="pc">
                    <input type="hidden" value="<?PHP echo $owner; ?>" name="owner">
                    <input type="hidden" value="<?PHP echo $property; ?>" name="pid">
                    <input type="hidden" value="<?PHP echo $fullname; ?>" name="fname">
                    <input type="hidden" value="<?PHP echo $email; ?>" name="email">
                    <input type="submit" value="PROPERTY DETAILS">
                </form>
                </font></td>

                <td style="background-color:#94EEF2;">
                <form method="post" class='propertylist' action="inspectionreport.php">
                    <input type="hidden" value="<?PHP echo $buildname; ?>" name="bn">
                    <input type="hidden" value="<?PHP echo $flatno; ?>" name="fn">
                    <input type="hidden" value="<?PHP echo $area; ?>" name="area">
                    <input type="hidden" value="<?PHP echo $pincode; ?>" name="pc">
                    <input type="hidden" value="<?PHP echo $owner; ?>" name="owner">
                    <input type="hidden" value="<?PHP echo $property; ?>" name="pid">
                    <input type="hidden" value="<?PHP echo $fullname; ?>" name="fname">
                    <input type="hidden" value="<?PHP echo $email; ?>" name="email">
                    <input type="submit" value="INSPECTION REPORTS">
                </form>
                </font></td>

                <td style="background-color:#94EEF2;">
                <form method="post" class='propertylist' action="downloaddocument.php">
                    <input type="hidden" value="<?PHP echo $buildname; ?>" name="bn">
                    <input type="hidden" value="<?PHP echo $flatno; ?>" name="fn">
                    <input type="hidden" value="<?PHP echo $area; ?>" name="area">
                    <input type="hidden" value="<?PHP echo $pincode; ?>" name="pc">
                    <input type="hidden" value="<?PHP echo $owner; ?>" name="owner">
                    <input type="hidden" value="<?PHP echo $property; ?>" name="pid">
                    <input type="hidden" value="<?PHP echo $fullname; ?>" name="fname">
                    <input type="hidden" value="<?PHP echo $email; ?>" name="email">
                    <input type="submit" value="DOWNLOAD DOCUMENTS">
                </form>
                </font>
                </td>
            </tr>

            <tr>
                <td style="background-color:#94EEF2;">
                <form method="post" class='propertylist' action="downloaddocument.php">
                    <input type="hidden" value="<?PHP echo $buildname; ?>" name="bn">
                    <input type="hidden" value="<?PHP echo $flatno; ?>" name="fn">
                    <input type="hidden" value="<?PHP echo $area; ?>" name="area">
                    <input type="hidden" value="<?PHP echo $pincode; ?>" name="pc">
                    <input type="hidden" value="<?PHP echo $owner; ?>" name="owner">
                    <input type="hidden" value="<?PHP echo $property; ?>" name="pid">
                    <input type="hidden" value="<?PHP echo $fullname; ?>" name="fname">
                    <input type="hidden" value="<?PHP echo $email; ?>" name="email">
                    <input type="submit" value="STATEMENT OF ACCOUNT">
                </form>
                </font></td>

                <td style="background-color:#94EEF2;">
                <form method="post" class='propertylist' action="electricitybills.php">
                    <input type="hidden" value="<?PHP echo $buildname; ?>" name="bn">
                    <input type="hidden" value="<?PHP echo $flatno; ?>" name="fn">
                    <input type="hidden" value="<?PHP echo $area; ?>" name="area">
                    <input type="hidden" value="<?PHP echo $pincode; ?>" name="pc">
                    <input type="hidden" value="<?PHP echo $owner; ?>" name="owner">
                    <input type="hidden" value="<?PHP echo $property; ?>" name="pid">
                    <input type="hidden" value="<?PHP echo $fullname; ?>" name="fname">
                    <input type="hidden" value="<?PHP echo $email; ?>" name="email">
                    <input type="submit" value="ELECTICITY BILLS">
                </form>
                </font></td>

                <td style="background-color:#94EEF2;">
                <form method="post" class='propertylist' action="downloaddocument.php">
                    <input type="hidden" value="<?PHP echo $buildname; ?>" name="bn">
                    <input type="hidden" value="<?PHP echo $flatno; ?>" name="fn">
                    <input type="hidden" value="<?PHP echo $area; ?>" name="area">
                    <input type="hidden" value="<?PHP echo $pincode; ?>" name="pc">
                    <input type="hidden" value="<?PHP echo $owner; ?>" name="owner">
                    <input type="hidden" value="<?PHP echo $property; ?>" name="pid">
                    <input type="hidden" value="<?PHP echo $fullname; ?>" name="fname">
                    <input type="hidden" value="<?PHP echo $email; ?>" name="email">
                    <input type="submit" value="OTHERS">
                </form>
                </font></td>
            </tr>

            <tr>
                <td style="background-color:#94EEF2;">
                <form method="post" class='propertylist' action="expensestracker.php">
                    <input type="hidden" value="<?PHP echo $buildname; ?>" name="bn">
                    <input type="hidden" value="<?PHP echo $flatno; ?>" name="fn">
                    <input type="hidden" value="<?PHP echo $area; ?>" name="area">
                    <input type="hidden" value="<?PHP echo $pincode; ?>" name="pc">
                    <input type="hidden" value="<?PHP echo $owner; ?>" name="owner">
                    <input type="hidden" value="<?PHP echo $property; ?>" name="pid">
                    <input type="hidden" value="<?PHP echo $fullname; ?>" name="fname">
                    <input type="hidden" value="<?PHP echo $email; ?>" name="email">
                    <input type="submit" value="DETAIL OF EXPENSES">
                </form>
                </font></td>

                <td style="background-color:#94EEF2;">
                <form method="post" class='propertylist' action="mainainancebills.php">
                    <input type="hidden" value="<?PHP echo $buildname; ?>" name="bn">
                    <input type="hidden" value="<?PHP echo $flatno; ?>" name="fn">
                    <input type="hidden" value="<?PHP echo $area; ?>" name="area">
                    <input type="hidden" value="<?PHP echo $pincode; ?>" name="pc">
                    <input type="hidden" value="<?PHP echo $owner; ?>" name="owner">
                    <input type="hidden" value="<?PHP echo $property; ?>" name="pid">
                    <input type="hidden" value="<?PHP echo $fullname; ?>" name="fname">
                    <input type="hidden" value="<?PHP echo $email; ?>" name="email">
                    <input type="submit" value="MAINTENANCE BILLS">
                </form>
                </font></td>

                <td style="background-color:#94EEF2;">
                <form method="post" class='propertylist' action="ownerhome.php">
                    <input type="hidden" value="<?PHP echo $property; ?>" name="pid">
                    <input type="submit" value="BACK">
                </form></td>
            </tr>
        </table>
    </div> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-08T05:53:01.947

你有

```
</font> 
```

代替

```
</form> 
```

在里面一点。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-08T05:54:22.527

请以 1 关闭表格 1

```
<form name="Your_firstform">

//Your code here

</form>

<form name="Your_secondform">

//Your code here

</form>

<form name="Your_thirdform">

//Your code here

</form> 
```

# javascript - 在按钮单击事件的页面中添加文本字段

> ID：13283262
> 
> 赞同：-1
> 
> 时间：2012-11-08T05:51:21.650
> 
> 标签：javascript, extjs4

我在页面上总共有六个文本字段。默认情况下它只会显示两个文本字段。它还有一个按钮“添加文本”。当我单击按钮时，它将一次添加一个文本字段。那么，如何在 extjs 中实现该功能。

请帮忙..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T05:55:14.077

```
Ext.require('*');
Ext.onReady(function() {

    var i = 0;

    Ext.create('Ext.button.Button', {
        renderTo: document.body,
        text: 'Add',
        handler: function(){
            ++i;
            form.add({
                xtype: 'textfield',
                fieldLabel: 'Field ' + i
            });
        }
    })

    var form = new Ext.form.Panel({
        bodyPadding: 5,
        renderTo: document.body,
        width: 300,
        items: []
    });

}); 
```

# javascript - 比较日期没有在 javascript 中返回正确的结果

> ID：13283263
> 
> 赞同：0
> 
> 时间：2012-11-08T05:51:24.537
> 
> 标签：javascript

我在 javascript 中比较两个日期

```
function checkCurrentDate(expiryDate){
//var currentDateStr=expiryDate;
var currentDate = new Date();
var month = currentDate.getMonth() + 1;
var day = currentDate.getDate();
var year = currentDate.getFullYear();
currentDate = month + "/" + day + "/" + year;
var dArr = currentDate.split("/");
currentDate = dArr[0]+ "/" +dArr[1]+ "/" +dArr[2].substring(2);  
var currentExpiryDateStr = expiryDate;

if(currentExpiryDateStr == currentDate){    

} 

if(currentExpiryDateStr < currentDate){

    alert("Expiry date is earlier than the current date.");
    return false;
}
} 
```

目前日期在“currentExpiryDateStr”是“11/10/12”和“currentDate”是“11/8/12”现在在这种情况下“if（currentExpiryDateStr < currentDate）”返回true并进入if条件但是此条件应返回 false 并且不应进入此 if 条件。它以前可以工作，但不知道为什么现在不能工作。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T06:05:12.190

The Date object will do what you want - construct one for each date, then just compare them using the usual operators. try this..

```
function checkCurrentDate(expiryDate){

   var currentDate = new Date();  // now date object

  var currentExpiryDateStr = new Date(expiryDate);  //expiry date object

   if(currentExpiryDateStr == currentDate){    

   } 

   if(currentExpiryDateStr < currentDate){

         alert("Expiry date is earlier than the current date.");
         return false;
    }
   } 
```

here is the fiddle:: [http://jsfiddle.net/YFvAC/3/](http://jsfiddle.net/YFvAC/3/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-08T06:12:27.303

您正在比较字符串，您应该比较日期对象。

如果到期日期是月/日/年格式的“11/10/12”，并且年份是 2000 年之后的两位数年份，则可以使用以下方法将其转换为日期：

```
function mdyToDate(dateString) {
  var b = dateString.split(/\D/);
  return new Date('20' + b[2], --b[0], b[1]);
} 
```

要测试到期，您可以执行以下操作：

```
function hasExpired(dateString) {
  var expiryDate = mdyToDate(dateString);
  var now = new Date();
  return now > expiryDate;
} 
```

所以在 2012 年 11 月 8 日：

```
hasExpired('11/10/12'); // 10-Nov-2012 -- false
hasExpired('6/3/12');   // 03-Jun-2012 -- true 
```

该`hasExpired`功能可以替换为：

```
if (new Date() > mdyToDate(dateString)) {
  // dateString has expired
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-08T06:08:12.463

```
var currentDate = Date.now();
if (expiryDate.getTime() < currentDate ) {
    alert("Expiry date is earlier than the current date.");
    return false;
} 
```

该`now()`方法返回自 1970 年 1 月 1 日 00:00:00 UTC 到现在为止经过的毫秒数。

`getTime()`返回自 1970 年 1 月 1 日午夜以来的毫秒数

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-11-08T06:05:42.193

Just add this 2 lines before your if condition

```
currentExpiryDateStr=Date.parse(currentExpiryDateStr);
currentDate=Date.parse(currentDate); 
```

# php - bbPress - 论坛不显示主题，而主题显示论坛

> ID：13283264
> 
> 赞同：0
> 
> 时间：2012-11-08T05:51:30.123
> 
> 标签：php, mysql, wordpress, mysqli, bbpress

我有一个论坛“关系”和一个主题“abc”。除了以下内容之外，我还需要对数据库进行哪些操作才能在论坛“关系”下列出主题“abc”？

1.  主题“abc”清楚地表明它在论坛“Relationships”
    1.1 中。在 WP 后端视图
    ![在此处输入图像描述](../Images/9050f2be341f0b2cf93e8abd17a5e00f.png) 1.2\. 在前端
    ![在此处输入图像描述](../Images/20fa365d4f50784a8ce25d31314418aa.png)
    1.3。在数据库中
    ![在此处输入图像描述](../Images/c25de844347da47f762139eeacbe0c5d.png)

2.  但是，论坛“关系”显示 0 个主题
    2.1。在前端
    ![在此处输入图像描述](../Images/5d4b38fdfcaf73eda1ec0e94d0b44de8.png)

wp_postmeta 表
![在此处输入图像描述](../Images/fb40b43fe2a86ffc4f7b6bc6924ff82d.png)

背景信息
该论坛是使用 WP 后端创建的。
主题及其 postmetas 和论坛的 postmetas 由我的 PHP 脚本添加。
（这是因为我正在使用我的 PHP 脚本将数据从 1 个旧 WordPress 站点迁移到新站点；
这里有 2 个 WordPress 数据库，所以我无法利用 WordPress 功能）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-15T09:29:31.663

显然，插入主题的所有 postmetas 和它们所属的论坛解决了这里的问题。

我最初以为我只需要一些重要的 postmeta，例如 _bbp_topic_count

同样的想法也适用于主题及其回复。

# maven - sbt org.slf4j#slf4j-log4j12;${slf4j.version}：未找到

> ID：13283270
> 
> 赞同：2
> 
> 时间：2012-11-08T05:52:19.520
> 
> 标签：maven, hbase, sbt, slf4j, pom.xml

我需要使用 sbt 获取 hbase 0.92.2：

```
libraryDependencies += "org.apache.hbase" % "hbase" % "0.92.2", 
```

但是当我运行更新时出现此错误：

0.92.2 hbase org.slf4j#slf4j-log4j12;${slf4j.version}：未找到

我检查了 hbase 0.92.2 的 pom 文件，它有

```
<dependency>
      <groupId>org.slf4j</groupId>
      <artifactId>slf4j-log4j12</artifactId>
      <version>${slf4j.version}</version>
</dependency> 
```

pom 文件由删除存储库提供。我不知道如何为 slf4j 指定版本，所以 sbt 可以得到正确的版本而不会抱怨。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T08:18:12.950

`build.sbt`我只用一行创建了一个：

```
libraryDependencies += "org.apache.hbase" % "hbase" % "0.92.2" 
```

然后我跑了：

```
sbt -Dslf4j.version=1.4.3 update 
```

效果很好！

我什至试过这个：

```
sbt -Dslf4j.version=1.6.6 update 
```

那也奏效了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-08T07:22:22.347

您需要在 pom 中指定 slf4j.version 属性，如下所示：

```
<properties>
     <slf4j.version>1.7.2</slf4j.version>
<properties> 
```

我将属性值设置为 1.7.2，这是最新的 slf4j 版本。您应该根据自己的情况选择合适的版本。

编辑：

如果可以，请尝试获取更高版本的 hbase。更高版本在基本构建配置文件中声明了 slf4j.version。

编辑：

我也相信 sbt 可以通过 BasicManagedProject 的 pomExtra 和 pomPostProcess 向 pom 添加信息。

检查一下，您也许可以为 slf4j.version 添加属性节点。我在这里猜是因为我不是 sbt 专家。

# linux - 是否有任何 Perl 模块来替换旧的镜像模块？

> ID：13283271
> 
> 赞同：1
> 
> 时间：2012-11-08T05:52:37.367
> 
> 标签：linux, perl, module, mirror

最近我需要用一些 Perl 程序来接触一个运行了 15 年的非常古老的系统。遗憾的是，我很少有使用 Perl 作为程序语言的经验。

在程序中，模块[镜像](http://gd.tuwien.ac.at/utils/archivers/mirror/mirror-faq.html)经常被使用。显然它已经很老了，并且指的是一些我猜想也已经过时的模块。

有没有更新的模块，功能类似，也好用？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T09:10:43.447

当我使用`cpanp`and`m mirror`时，它会在名称中的某处列出一些带有“镜像”的 88 个模块。

这些可能与您的目的相关：

```
39 Net::MirrorDir                                          0.20     KNORR     
40 Net::MirrorDir::Connection                              0.20     KNORR     
41 Net::MirrorDir::Exclusions                              0.20     KNORR     
42 Net::MirrorDir::LocalDir                                0.20     KNORR     
43 Net::MirrorDir::RemoteDir                               0.20     KNORR     
44 Net::MirrorDir::Subset                                  0.20     KNORR 
```

如果您尝试安装[`Net::MirrorDir`](http://search.cpan.org/perldoc?Net%3A%3AMirrorDir)，则很有可能会出现所有其他模块。我没有进一步研究过这个包，还有其他一些可能与替代品相关的模块集（加上很多可能根本没有任何帮助的模块）。其他一些人在标题中提到了“rsync”。

# jquery - 自动完成实验消息选项，没有结果

> ID：13283272
> 
> 赞同：3
> 
> 时间：2012-11-08T05:52:46.300
> 
> 标签：jquery, jquery-ui, jquery-ui-autocomplete

我搬到了 jQuery UI 1.9 并且在自动完成控制方面遇到了一些问题。如此处所写[，](http://jqueryui.com/upgrade-guide/1.9/#added-experimental-messages-option-for-accessibility)他们添加了名为`messages`实际上显示“无结果”或受控制的结果计数信息的选项。我无法在[手册](http://api.jqueryui.com/autocomplete/)中找到有关其行为的任何信息的问题。

如何禁用该选项？谢谢

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-03-08T09:58:07.597

在我回答的日期确实**不在**[API 文档中......您可以通过这种方式自定义它：](http://api.jqueryui.com/autocomplete/)

```
 jQuery(...).autocomplete({
     messages : {
      noResults : 'No results found.',
      results : function(count) {
        return count + (count > 1 ? ' results' : ' result ') + ' found';
      }
    },
  }); 
```

注意：正如用户 actimel 所评论的，自定义是可以的，但不要隐藏它，因为它是辅助功能的一部分（例如盲人用户）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-05-18T07:15:54.990

我一直在挖掘这个，发现以下内容：

该消息是 jQuery UI 可访问性功能的一部分，实际上不应该显示（可见）并且只能由屏幕阅读器处理。

如果您使用一些将为您隐藏这些元素的 jQuery UI 样式表文件，您的所有问题都会消失。

# iphone - TBXML 解析唯一节点 xml

> ID：13283277
> 
> 赞同：0
> 
> 时间：2012-11-08T05:53:10.563
> 
> 标签：iphone, objective-c, xml-parsing, tbxml

我有一个只有一个节点的 xml 文件

```
<?xml version="1.0" encoding="UTF-8"?>
<a>Some text here</a> 
```

是否可以使用TBXML来解析它，如果可以，请告诉我如何实现？请帮我！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T06:31:42.190

`TBXML`是的，您可以使用以下代码进行解析...

```
TBXMLElement *yourValue = [TBXML childElementNamed:@"a" parentElement:yourParentElement]; 
```

# php - 防止身份验证中的会话劫持的 PHP 最佳实践

> ID：13283279
> 
> 赞同：1
> 
> 时间：2012-11-08T05:53:20.390
> 
> 标签：php, session, authentication, session-hijacking

> **可能重复：**
> [防止会话劫持](https://stackoverflow.com/questions/12233406/preventing-session-hijacking)

我正在为`PHP`Web 应用程序编写我的登录和身份验证系统，并寻找防止会话劫持的最佳实践。登录页面集的会话：

```
$_SESSION['email_address'] = $_POST['email_address'];
$_SESSION['ip_address'] = $_SERVER['REMOTE_ADDR']; 
```

然后在每个页面和操作中，我检查以确保会话存在，并且存储在会话中的 IP 地址与 $_SERVER['REMOTE_ADDR'] 中的 IP 地址匹配。

```
if(isset($_SESSION['email_address']) && isset($_SESSION['ip_address']) && $_SESSION['ip_address'] == $_SERVER['REMOTE_ADDR']) {
     //valid auth
} 
```

但是，在网上阅读，有些人说仅仅检查 IP 地址是不够的。还需要什么？此外，还有关于使用`session_regenerate_id()`. 这对我的代码有何影响？我会`session_regenerate_id()`在每一页上调用吗？

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T06:01:37.890

如果您正在编写自己的登录系统，我希望您对所有安全问题都非常精通，并且不要依赖像本网站这样的在线人员向您提出的问题。$_SESSION 自动成为任何共享服务器上的安全风险。$_SESSION 可用于系统上运行的所有 php 进程。如果您的任何客户最终在共享服务器上运行您的软件，您将不得不为此做好计划。

它也非常容易编写造成安全漏洞的错误代码。你最好使用 Yii 或一些已经提供强大身份验证措施的框架。例如，如果您想将其归结为只为您提供一些登录和安全插件来启动，那么 Yii 几乎是您所能获得的基本功能。

# apache2 - Phusion 乘客得到了一个 g++：内部错误

> ID：13283284
> 
> 赞同：-1
> 
> 时间：2012-11-08T05:53:29.283
> 
> 标签：apache2, rvm, passenger

我已经使用以下命令成功安装了寻呼机 gem

```
rvmsuo gem install passenger 
```

之后，当我尝试使用以下命令为 apache2 安装乘客模块时

```
rvmsudo passenger-install-apache2-module 
```

安装开始，检查并通过所有依赖项，在编译时，出现以下错误，

```
g++ ApplicationPoolServerExecutable.cpp System.o Utils.o Logging.o -o 
    ApplicationPoolServerExecutable -I.. -D_REENTRANT -g -DPASSENGER_DEBUG -Wall -
    I/usr/local/include   -DPASSENGER_DEBUG ../boost/src/libboost_thread.a -lpthread
    g++: Internal error: Killed (program cc1plus)
    Please submit a full bug report.
    See <URL:http://gcc.gnu.org/bugs.html> for instructions.
    For Debian GNU/Linux specific bug reporting instructions, see <an url goes here>

    rake aborted!
    Command failed with status (1): [g++ ApplicationPoolServerExecutable.cpp Sy...]
    /opt/ruby-enterprise-1.8.6-20090201/lib/ruby/gems/1.8/gems/passenger-
    2.0.6/Rakefile:161 
```

我已经检查了 apache 错误日志，但是我没有任何线索。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-11-22T03:53:49.917

如果你没有足够的内存，你可以在你的 Linux 机器上做一些临时调整。

```
# Add 2GB of swap space
dd if=/dev/zero of=/swap bs=1k count=2048k
mkswap /swap
swapon /swap

# Set overcommit to 100
sysctl vm.overcommit_ratio=100

# Set swappiness (encourages more swapping)
sysctl vm.swappiness=50 
```

在此之后，重试。如果一切顺利，简单的重新启动应该会撤消这些更改，或者，当然，您可以将 sysctl 设置回其原始值并删除交换。请记住，重新启动不会释放磁盘空间，您需要`rm /swap`在重新启动后重新启动。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-12T04:53:57.217

我试图在包含 256 mb 内存的虚拟机中运行它。当我为该虚拟机分配更多内存（1 GB）时，问题就解决了。

# android - ActionBarSherlock 从外部 AsyncTask 更改 ProgressBar

> ID：13283287
> 
> 赞同：0
> 
> 时间：2012-11-08T05:53:36.427
> 
> 标签：android, actionbarsherlock

我想在 AsyncTask 中设置 ProgressVisibility(true)。是 Main 中的 AsyncTask，一切都很好。

```
public class GlanceActivity extends SherlockActivity implements ActionBar.OnNavigationListener {
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
    //This has to be called before setContentView and you must use the
        //class in com.actionbarsherlock.view and NOT android.view
        requestWindowFeature(Window.FEATURE_INDETERMINATE_PROGRESS);
    setContentView(R.layout.activity_glance);
    }

    public class TestTask extends AsyncTask<String, String, ArrayList<String>> {
        @Override
        public void onPreExecute() {
            // Show IndeterminateProgressBar
            setSupportProgressBarIndeterminateVisibility(true);
        }

        @Override
        protected ArrayList<String> doInBackground(String... params) {
            // Load some Data...
            return null;
        }

        protected void onPostExecute(ArrayList<String> arg) {
            // Hide IndeterminateProgressBar
            setProgressBarIndeterminateVisibility(false);
        }
    }
} 
```

但是如果我想为 AsyncTask 生成一个额外的文件，setProgressBarIndeterminateVisibility 是未定义的 GroupPageTask...

**如何在单独的 AsyncTask 文件中使用此方法？**

GlanceActivity.java

```
public class GlanceActivity extends SherlockActivity implements ActionBar.OnNavigationListener {
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        //This has to be called before setContentView and you must use the
        //class in com.actionbarsherlock.view and NOT android.view
        requestWindowFeature(Window.FEATURE_INDETERMINATE_PROGRESS);
        setContentView(R.layout.activity_glance);
    }
} 
```

GroupPageTask.java

```
public class GroupPageTask extends AsyncTask<String, String, ArrayList<String>> {
    @Override
    public void onPreExecute() {
        // Show IndeterminateProgressBar
        setSupportProgressBarIndeterminateVisibility(true);
    }

    @Override
    protected ArrayList<String> doInBackground(String... params) {
        // Load some Data...
        return null;
    }

    protected void onPostExecute(ArrayList<String> arg) {
        // Hide IndeterminateProgressBar
        setProgressBarIndeterminateVisibility(false);
    }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-09T07:14:08.693

您可以在 AsyncTask 构造期间交出上下文：

```
public class GroupPageTask extends AsyncTask<String, String, ArrayList<String>> 
{
  private Context context;

  public AsyncTask(Context context) 
  {
    this.context = context;
  }

  protected void onPreExecute() 
  {
    ((Activity) context).setProgressBarIndeterminateVisibility(true);
  }

  protected void onPostExecute(ArrayList<String> arg) 
  {
    ((Activity) context).setProgressBarIndeterminateVisibility(false);
  }
} 
```

然后使用 Activity 中的新构造函数创建 AsyncTask：

```
GroupPageTask groupPageTask = new GroupPageTask(this); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-10T09:13:27.800

随着[Matt Handys](https://stackoverflow.com/users/620338/matt-handy)的回答，我找到了正确的方法......

*GlanceActivity.java*

```
public class GlanceActivity extends SherlockActivity implements ActionBar.OnNavigationListener {
    public static Context context;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        GroupPageTask groupPageTask = new GroupPageTask(getSherlock());
    }
} 
```

*GroupPageTask.java*

```
public class GroupPageTask extends AsyncTask<String, String, ArrayList<Mannschaft>> {
    private ActionBarSherlock sherlock;

    @Override
    public void onPreExecute() {
        // Show IndeterminateProgressBar
        sherlock.setProgressBarIndeterminateVisibility(true);
    }

    protected void onPostExecute(ArrayList<Mannschaft> arg) {
        sherlock.setProgressBarIndeterminateVisibility(false);
    }
} 
```

# porting - u-boot：mpc5xxx.h不支持mpc55xx？

> ID：13283288
> 
> 赞同：0
> 
> 时间：2012-11-08T05:53:45.540
> 
> 标签：porting, powerpc, u-boot

我是 u-boot 的新手，目前正试图将它移植到一个 mpc5554 板（来自 phytec）以获得乐趣。

我很高兴找到*mpc5xxx.h*文件，表明它可以在我的情况下使用。然而，我越是研究它，似乎该文件并不像名称所暗示的那样通用。在我的情况下它似乎不可用。

1.  我弄错了吗？
2.  有没有人尝试过类似的东西？
3.  我需要创建自己的 mpc555x.h 等吗？
4.  是否应该在分发中重新命名文件？

任何想法表示赞赏，谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-08T09:23:39.793

> 1.  我弄错了吗？

也许。对于 U-Boot（和 Linux），您必须进行两个级别的自定义。
第一层是 SoC (MPC5554) 的架构 (PowerPC) 和处理器 (???)。
第二层是安装 SoC 的板（Phytec SOM？）。

显然您使用的是飞思卡尔 MPC5554 SoC 而不是摩托罗拉 MPC5200。您将需要验证该文件中的`#defines`和 register/port 声明是否`mpc5xxx.h`与您的 SoC 规范相匹配。

然后你需要为你的电路板获取或编写模块。该板是 SoC 的可配置选项的特定实现，现在硬连线在引脚的板侧。必须编写这些模块来配置引脚芯片侧的 SoC 外设和 GPIO 以匹配电路板。

> 2 有人试过类似的吗？

我已经为*电路板*定制了 U-Boot 。
您应该尝试从电路板制造商那里获得电路板支持，并从芯片制造商那里获得 SoC 支持。
更流行的 SoC 板（尤其是芯片供应商的“评估板”）带有演示 Linux 内核和引导程序。
您可以尝试在 Internet 上搜索 U-Boot、Linux on PowerPc、飞思卡尔和/或 Phytec 开发人员网站和/或邮件列表。

> 3 我需要创建自己的 mpc555x.h 等吗？

也许。
如果该文件`#defines`中的 and register/port 声明`mpc5xxx.h`与您的 SoC 的规范不匹配，并且您无法从其他开发人员那里找到，那么您可以生成一个`mpc5554.h`文件。`#ifdef CPU_IS_MPC5444`或者，根据匹配与不同规格的比率，您可以使用条件编译指令（例如... `#else`... `#endif`）在现有文件中增加 MPC5444 的声明。

如果您只有一个 MPC5554 进行测试，那么在扩展代码以包含其他 MPC555x 器件或 Qorivva MPC55xx 系列时要小心。

> 4 文件是否应该在发行版中重新命名？

可能不会，因为这会破坏那些使用该文件的人的构建。

# algorithm - 在二叉树中找到最不常见的父节点？

> ID：13283291
> 
> 赞同：0
> 
> 时间：2012-11-08T05:53:46.487
> 
> 标签：algorithm, tree, binary-tree, least-common-ancestor

这个问题可能很多人都问过，但是，它有点不同。我们有一棵二叉树。给你两个节点 p & q。我们必须找到最不常见的父母。但是你没有指向根的根节点指针。为您提供了两个内置功能，它们是：

1) `BOOL same(node *p, node *q);`-> 如果节点相同，则返回 true，否则返回 false。

2) `node* parentNode(node *c);`-> 返回一个节点，它是当前节点的父节点。

如果节点 c 实际上是根节点，则 parentNode 函数将为您返回一个`NULL`值。使用这些函数，我们必须找到树的最不常见的父级。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-08T06:14:10.967

**Step1：**使用`parentNode`函数查找`d1`节点`p`到根的距离。类似地找到`d2`节点`q`到根的距离。（比如说，`d2`结果不大于`d1`）

**第 2 步：**将更远的节点（其 d 值更大）指针`d2-d1`移向根。

**Step3：**同时将指针移向根`p`，`q`直到它们指向同一个节点并返回该节点。

基本上它就像找到两个链表的合并点。
检查以下链接： [检查两个链表是否合并。如果有，在哪里？](https://stackoverflow.com/questions/1594061/linked-list-interview-question?lq=1)

时间复杂度：O(N)
你的代码看起来有点像：

```
node* LCP(node* p, node *q){
    int d1=0, d2=0;
    for(node* t= p; t; t = parentNode(p), ++d1);
    for(node* t= q; t; t = parentNode(q), ++d2);
    if(d1>d2){
        swap(d1, d2);
        swap(p, q);
    }
    for(int i=0; i<(d2-d1); ++i)
        q = parentNode(q);
    if( same(p, q)){
        return parentNode(p);
    }
    while( !same(p, q)){
        p = parentNode(p);
        q = parentNode(q);
    }
    return p;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-08T06:21:58.837

假设 C++：

```
node* leastCommonParent(node *p, node *q)
{
    node *pParent = parentNode(p);
    while(pParent != 0)
    {
        node *qParent = parentNode(q);
        while(qParent != 0)
        {
            if (0 == same(pParent, qParent))
                return pParent;
            qParent = parentNode(qParent);
        }
        pParent = parentNode(pParent);
    }
    return 0;
} 
```

更新：没有使用递归显式声明变量的版本如下。我确信它可以改进，并且可能永远不会在当前形式的生产代码中使用它。

```
node* qParent(node *p, node *q)
{
    if (p == 0 || q == 0)
        return 0;
    if (same(p, q) == 0)
        return p;
    return qParent(p, q->parent);
}

node* pParent(node *p, node *q)
{
    return qParent(p, q) ? qParent(p, q) : pParent(p->parent, q);
}

node * result = pParent(p, q); 
```

# c - 如何在不使用 POSIX 库的情况下在 C 中创建线程

> ID：13283294
> 
> 赞同：12
> 
> 时间：2012-11-08T05:53:51.793
> 
> 标签：c, multithreading, unix, systems-programming

我想在不使用任何 POSIX 库的情况下在 C 中实现多线程。任何帮助，将不胜感激。

不：不要使用 fork() 或 vfork()。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-11-08T05:55:22.723

Linux 中的线程本质上是一个与其父进程*共享内存和资源的进程。*Linux内核不*区分*进程和线程，换句话说，Linux中没有像其他一些操作系统那样的*轻量级进程的概念。*Linux 中的线程是作为*标准*进程实现的，因此可以使用`clone()`通常通过`fork()`以下方式调用的线程来创建线程：

```
clone(SIGCHLD, 0); 
```

这仅克隆信号处理程序，但是，您可以使用适当的标志创建线程：

```
clone(CLONE_VM | CLONE_FS | CLONE_FILES | CLONE_SIGHAND, 0); 
```

这与前面的调用相同，只是地址空间、文件系统资源、文件描述符和信号处理程序由两个进程*共享。*

另一种方法是使用[用户级线程](http://en.wikipedia.org/wiki/Thread_%28computing%29#Processes.2C_kernel_threads.2C_user_threads.2C_and_fibers)（也称为光纤），这些线程是在用户级实现的执行线程，这意味着操作系统不知道这些线程，并且必须在用户处完成调度或*上下文切换*。等级。大多数用户级调度器都是作为协作调度器实现的，但也可以通过简单的 [循环调度](http://en.wikipedia.org/wiki/Round-robin_scheduling)来实现抢占式调度器。

查看[clone(2)](http://linux.die.net/man/2/clone)手册页以获取详细信息，如果您想了解更多信息，我推荐 Robert Love 的[Linux Kernel Development](https://rads.stackoverflow.com/amzn/click/com/0672329468) 3rd edition，（与作者没有任何关联）有一个查看内部链接，您可以阅读其中的一些内容在线的。至于用户级线程，我写了一个最小的包，叫做[libutask](https://code.google.com/p/libutask/)，它实现了协作调度器和抢占式调度器，如果你喜欢，你可以查看源代码。

*注意1：我没有提到UNIX，据我所知，这是Linux特定的实现。*

*注意2：使用克隆创建自己的线程并不是一个现实世界的解决方案，请阅读评论以了解您可能必须处理的一些问题，这只是对是否可以在不使用 pthreads 的情况下创建线程的问题的回答，在这种情况下答案是肯定的。*

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-11-08T09:47:36.043

看：

*   [设置jmp](http://www.unix.com/man-page/All/3/setjmp/)，
*   [长jmp](http://www.unix.com/man-page/All/3/longjmp/)，
*   [信号栈](http://www.unix.com/man-page/All/3/sigaltstack/)，
*   [信号栈](http://www.unix.com/man-page/All/3/raise/)

对于类 UNIX 系统。

另见：

*   [getcontext 和 setcontext](http://www.unix.com/man-page/All/3/getcontext/)，
*   以及更普遍[的 ucontext](http://www.unix.com/man-page/all/3/ucontext/)

适用于 BSD 和现代 UNIX。

此[页面](http://www.evanjones.ca/software/threading.html)提供了许多使用这些原语等的准系统实现示例。

您可以使用原子指令来实现锁定原语（互斥体、信号量）。

我还建议查看用户态线程库的实际实现以获得一些提示。请参阅[此页面](http://linas.org/linux/threads-faq.html)，该页面提供了 Linux 的实现列表。

最后，您可能想了解一些关于[coroutines](http://en.m.wikipedia.org/wiki/Coroutine)和可能的[trampolines](http://en.m.wikipedia.org/wiki/Trampoline_%28computing%29)的信息，尽管后者的相关性并不那么密切。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-11-08T06:33:32.980

`<threads.h>`您还可以从 C 标准库中查看新的头文件。(C11)

它有你需要的东西`int thrd_create(thrd_t *thr, thrd_start_t func, void *arg);`以及互斥函数和条件变量。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-11-08T06:07:29.360

One can most certainly make at least a co-operative microkernel with plain c on top of pretty much any operating system. Fundamentally it only requires cloning of the stack frame (and adjusting a few pointers accordingly -- especially the return address from a function to the other threads current return address). And a few utility functions, such as "context switch" the stack to heap and back.

If a timer interrupt with a callback is allowed, one can do a pre-emptive microkernel.

At least Dr Dobbs and IOCCC have presented options along these lines.

# php - 使用 PHP 在问卷中显示问题？

> ID：13283302
> 
> 赞同：-3
> 
> 时间：2012-11-08T05:54:08.907
> 
> 标签：php

我正在建立一个在线问卷。在此问卷中，**用户每页一次只能看到一个问题**。当他看到问题时，他会提供一个答案，然后他会按下一步进入第二个问题，依此类推，直到问卷结束。我已经建立了问卷，但现在我被困在“我如何只能显示数据库中的一个问题？”。另外，当用户按下下一步时，我应该立即将答案保存到数据库中，还是应该等到他回答完所有问题后再将它们保存到数据库中？

如果有人可以提供帮助，请为我提供在 PHP 中执行此操作的适当技术。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T05:58:24.030

使用与所有问题 ID 匹配的计数器变量（希望每个问题都有唯一的 ID）。

然后遍历该变量，并为每个计数器值从数据库中获取数据 using`where id = ?`子句 where`?`将被计数器变量值替换。

# python - 该功能不适用于所有表

> ID：13283309
> 
> 赞同：1
> 
> 时间：2012-11-08T05:55:02.987
> 
> 标签：python, sql, database, ms-access, firebird

我通过从 Access 到 Firebird 的数据传输编写了以下代码

```
def getFirebirdFieldNames(firebird_cursor, tablename):
    firebird_cursor.execute('select rdb$field_name from rdb$relation_fields where rdb$relation_name=\'%s\' order by rdb$field_position' % (tablename,))
    field_names = list()
    for c in firebird_cursor.fetchall():
        field_names.append(c[0])
    return field_names

def SelectFromAccessTable(tablename):
    return 'select * from [' + tablename+']'

def InsertToFirebirdTable(tablename, row):
    values=''
    values=values.encode('cp1251', 'replace')
    for i in range(len(row)):
        if (i!=len(row)-1):
                if type(row[i])==int:
                      temp=str(row[i])
                else:
                      if type(row[i])==decimal.Decimal:
                          temp=str(row[i])
                      else:
                          temp='\'%s\'' % (row[i],)
                values+=temp+', '                 
        else:
                if type(row[i])==int:
                      temp=str(row[i])
                else:
                      if type(row[i])==decimal.Decimal:
                          temp=str(row[i])
                      else:
                          temp='\'%s\'' % (row[i],)
                values+=temp
    return 'insert into '+tablename+' values ('+values+')'

def AccessToFirebird(accesstablename, firebirdtablename, accesscursor, firebirdcursor):
    SelectSql=SelectFromAccessTable(accesstablename)
    for row in accesscursor.execute(SelectSql):
        InsertSql=InsertToFirebirdTable(firebirdtablename, row)
        InsertSql=InsertSql
        print InsertSql
        firebirdcursor.execute(InsertSql) 
```

在主程序中有这些函数的调用

```
conAcc = pyodbc.connect('DRIVER={Microsoft Access Driver (*.mdb, *.accdb)};DBQ=D:\ThirdTask\Northwind.accdb')
SqlAccess=conAcc.cursor();
conn.begin()
cur=conn.cursor()
sql.AccessToFirebird('Customers', 'CLIENTS', SqlAccess, cur)
conn.commit()
conn.begin()
cur=conn.cursor()
sql.AccessToFirebird('Сотрудники', 'EMPLOYEES', SqlAccess, cur)
conn.commit()
conAcc.commit()
conn.close()
conAcc.close(); 
```

由于填写了表 CLIENTS，未填写 EMPLOYEES（罗斯文数据库）。为什么？这是文本输出（sql-query 插入）

```
insert into EMPLOYEES values (1, 'Борей', 'Ильина', 'Юлия', 'julia@northwindtraders.com', 'Сотрудник отдела сбыта', '(123)555-0100', '(123)555-0102', 'None', '(123)555-0103', '1-й проспект, д. 12', 'Сочи', '(нет)', '999999', 'Россия', '#http://northwindtraders.com#', 'None', '')
insert into EMPLOYEES values (2, 'Борей', 'Гладких', 'Андрей', 'andrew@northwindtraders.com', 'Вице-президент', '(123) 555-0100', '(123) 555-0102', 'None', '(123) 555-0103', '2-й проспект, д. 12', 'Томск', '(нет)', '999999', 'Россия', 'http://northwindtraders.com#http://northwindtraders.com/#', 'Принят в компанию в качестве сотрудника отдела сбыта, затем назначен начальником отдела сбыта, в настоящее время занимает должность вице-президента по продажам.', '')
insert into EMPLOYEES values (3, 'Борей', 'Куликов', 'Евгений', 'evgeny@northwindtraders.com', 'Сотрудник отдела сбыта', '(123) 555-0100', '(123) 555-0102', 'None', '(123) 555-0103', '3-й проспект, д. 12', 'Псков', '(нет)', '999999', 'Россия', 'http://northwindtraders.com#http://northwindtraders.com/#', 'Прошел стажировку в отделе сбыта, в настоящее время является штатным сотрудником.', '')
insert into EMPLOYEES values (4, 'Борей', 'Сергиенко', 'Мария', 'mariya@northwindtraders.com', 'Сотрудник отдела сбыта', '(123) 555-0100', '(123) 555-0102', 'None', '(123) 555-0103', '4-й проспект, д. 12', 'Самара', '(нет)', '999999', 'Россия', 'http://northwindtraders.com#http://northwindtraders.com/#', 'None', '')
insert into EMPLOYEES values (5, 'Борей', 'Новиков', 'Николай', 'nikolay@northwindtraders.com', 'Начальник отдела сбыта', '(123) 555-0100', '(123) 555-0102', 'None', '(123) 555-0103', '5-й проспект, д. 12', 'Сочи', '(нет)', '999999', 'Россия', 'http://northwindtraders.com#http://northwindtraders.com/#', 'Принят в компанию в качестве сотрудника отдела сбыта, затем назначен начальником отдела сбыта. Свободно владеет французским языком.', '')
insert into EMPLOYEES values (6, 'Борей', 'Корепин', 'Вадим', 'vadim@northwindtraders.com', 'Сотрудник отдела сбыта', '(123) 555-0100', '(123) 555-0102', 'None', '(123) 555-0103', '6-й проспект, д. 12', 'Псков', '(нет)', '999999', 'Россия', 'http://northwindtraders.com#http://northwindtraders.com/#', 'Свободно владеет японским языком, читает и пишеть на французском, португальском и испанском.', '')
insert into EMPLOYEES values (7, 'Борей', 'Климов', 'Сергей', 'sergey@northwindtraders.com', 'Сотрудник отдела сбыта', '(123) 555-0100', '(123) 555-0102', 'None', '(123) 555-0103', '7-й проспект, д. 12', 'Сочи', '(нет)', '999999', 'Россия', 'http://northwindtraders.com#http://northwindtraders.com/#', 'None', '')
insert into EMPLOYEES values (8, 'Борей', 'Ожогина', 'Инна', 'inna@northwindtraders.com', 'Координатор продаж', '(123) 555-0100', '(123) 555-0102', 'None', '(123) 555-0103', '8-й проспект, д. 12', 'Псков', '(нет)', '999999', 'Россия', 'http://northwindtraders.com#http://northwindtraders.com/#', 'Читает и пишет по-французски.', '')
insert into EMPLOYEES values (9, 'Борей', 'Попкова', 'Дарья', 'darya@northwindtraders.com', 'Сотрудник отдела сбыта', '(123) 555-0100', '(123) 555-0102', 'None', '(123) 555-0103', '9-я улица, д.12', 'Сочи', '(нет)', '999999', 'Россия', 'http://northwindtraders.com#http://northwindtraders.com/#', 'Свободно владеет французским и немецким языком.', '') 
```

PS 如果尝试在 ibexpert 中执行请求

```
 insert into EMPLOYEES values (1, 'Борей', 'Ильина', 'Юлия', 'julia@northwindtraders.com', 'Сотрудник отдела сбыта', '(123)555-0100', '(123)555-0102', 'None', '(123)555-0103', '1-й проспект, д. 12', 'Сочи', '(нет)', '999999', 'Россия', '#http://northwindtraders.com#', 'None', '') 
```

我收到

```
can't format message 13:198 -- message file C:\Windows\firebird.msg not found.
arithmetic exception, numeric overflow, or string truncation.
string right truncation. 
```

我也有一个问题来自哪里

```
insert into EMPLOYEES values (2, 'Борей', 'Гладких', 'Андрей', 'andrew@northwindtraders.com', 'Вице-президент', '(123) 555-0100', '(123) 555-0102', 'None', '(123) 555-0103', '2-й проспект, д. 12', 'Томск', '(нет)', '999999', 'Россия', 'http://northwindtraders.com#http://northwindtraders.com/#', 'Принят в компанию в качестве сотрудника отдела сбыта, затем назначен начальником отдела сбыта, в настоящее время занимает должность вице-президента по продажам.', '') 
```

有一条线

```
'http://northwindtraders.com#http://northwindtraders.com/#' 
```

代替

```
'http://northwindtraders.com'. 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-08T06:54:36.580

`string right truncation`表示您正在尝试插入一个对于该列来说太长的字符串。

# php - 使用 json_encode 方法将 PHP 数组传递给外部 Javascript 函数，结果为“未定义”

> ID：13283319
> 
> 赞同：1
> 
> 时间：2012-11-08T05:55:32.257
> 
> 标签：php, javascript, arrays, json

我已经搜索过了，我也从以下网站得到了一些想法。 [将 PHP 数组作为数组传递给外部 Javascript 函数](https://stackoverflow.com/questions/13116604/passing-php-array-into-external-javascript-function-as-array) 我的示例代码如下：

```
 <?php $array_sample = array("c1","c2"); $newArray = json_encode($array_sample); ?>
 <INPUT type="button" value="Php Array" onclick="Test(<?php echo $newArray ?>)" />
 <script language="javascript"> function Test(test_arr){    alert(test_arr); }</script> 
```

对于上面的代码，我得到`undefined`的是`alert message`. 任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T06:15:09.663

使用 时`json_encode()`，结果中会保留双引号。所以，`json_encode($array_sample)`产生：

```
["c1","c2"] 
```

将其放入您的 HTML 中时，您将拥有：

```
<INPUT type="button" value="Php Array" onclick="Test(["c1","c2"])" /> 
```

如果您知道的话，您的 json 输出中的双引号会破坏 HTML，从而破坏传递给该`Test()`方法的内容。

要解决此问题，您可以使用`htmlentities()`将双引号转换为 HTML-values `&quot;`：

```
<INPUT type="button" value="Php Array" onclick="Test(<?php echo htmlentities($newArray) ?>)" /> 
```

**编辑**（`htmlentities()`vs. `addslashes()`）
似乎 using`addslashes()`实际上不起作用，因为属性中的转义双引号，例如`onclick="Test(\"value\")"`无效。但是，诸如`onclick="Test(&quot;value&quot;)"`作品之类的 html 实体版本。

因此，我将原来的答案从“使用`addslashes()`”更改为“使用`htmlentities()`”）。

# c++ - 如果按下 Enter 键时执行的循环 C++

> ID：13283320
> 
> 赞同：0
> 
> 时间：2012-11-08T05:55:38.120
> 
> 标签：c++

我正在使用 Windows XP 家庭版。我想设置一个菜单系统，在按下 Enter 键时显示图像。有什么方法可以设置一个 if 语句，当在键盘上按下 Enter 键时执行该语句而不设置 GUI。例如，我可以只使用与 Enter 键关联的十六进制值作为 if 语句的触发器。

我已经研究过读取输入缓冲区。我将不得不变得复杂吗？我真的不

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T06:37:12.003

对于 Windows，您可以使用几个变体来实现这一点：

1.  标准方法是调用 eg[`std::getline`](http://en.cppreference.com/w/cpp/string/basic_string/getline)并丢弃输入。
2.  一个更特定于 Windows 的解决方案是使用 eg[`_kbhit`](http://msdn.microsoft.com/en-us/library/58w7c94c%28v=vs.100%29.aspx)并[`_getch`](http://msdn.microsoft.com/en-us/library/078sfkak%28v=vs.100%29.aspx)检查`Enter`密钥。

# c++ - 运算符重载 Boost ublas Vector

> ID：13283324
> 
> 赞同：0
> 
> 时间：2012-11-08T05:55:53.317
> 
> 标签：c++, boost, boost-ublas

有没有办法可以在 C++ 中为 boost 向量重载“/”运算符？

```
#include <boost/assign.hpp>
#include <boost/numeric/ublas/vector.hpp>
#include <boost/numeric/ublas/matrix.hpp>
#include <boost/numeric/ublas/operations.hpp>
#include <boost/numeric/ublas/assignment.hpp>

namespace ublas = boost::numeric::ublas;

using namespace boost::assign;

template <typename T, typename U>
ublas::vector<T> operator/(U& var)
{
// do something here
return *this;
} 
```

我看到像 Overloaded 'operator/' must be a binary operator 之类的错误（有 1 个参数）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-08T06:51:29.623

你需要的是这样的：

```
#include <boost/assign.hpp>
#include <boost/numeric/ublas/vector.hpp>
#include <boost/numeric/ublas/matrix.hpp>
#include <boost/numeric/ublas/operations.hpp>
#include <boost/numeric/ublas/assignment.hpp>

namespace ublas = boost::numeric::ublas;
using namespace boost::assign;

template <typename T, typename U>
ublas::vector<T> operator/(ublas::vector<T> v, U& var)
{
    // your logic for /
    return v;
}

int main()
{
    ublas::vector<int> v1;
    auto v2 = v1 / 2;
    return 0;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-08T06:33:32.807

您拥有的运算符函数是一个独立函数，而不是类的成员，因此它需要它应该处理的对象的两个参数，并且由于它不是类成员，所以它也没有`this`。

# wordpress - 具有两种语言的 Wordpress 博客 - 哪个插件？

> ID：13283326
> 
> 赞同：0
> 
> 时间：2012-11-08T05:56:17.543
> 
> 标签：wordpress

我花了几个小时来寻找解决两种语言博客（网站？）的方法。似乎有两种通用方法：一个同时拥有两种语言的站点；或两个站点（因此是 WP 安装），每个站点都使用一种语言。

后者的解决方案是多站点语言切换器。

但原则上，我更喜欢使用单个站点。少麻烦。

而且我想使用相同的“新帖子”页面输入语言的标题和文本 - 因此两个标题框，两个文本框。如果我上传一张图片，我可以将它直接插入到每个文本框中。

在那里，WPML 似乎是要走的路。不确定 qTranslate。试过了，但只添加了标题框。

你能推荐点别的吗？还是我想狭隘？非常感谢任何提示或提示！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T06:07:42.247

[http://wordpress.org/extend/plugins/polylang/](http://wordpress.org/extend/plugins/polylang/) - 易于使用和管理语言。

对于每篇文章，您可以选择所需的语言。您不会在同一篇文章中添加两种语言，因为它会产生相同的 url。

对于图片，您无需上传两次，只需从媒体库中再次选择即可。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-08T06:23:24.030

不是免费的，但 WPML 可能是最高级的语言插件（因此不是免费的部分）。它将允许您使用单个安装并根据目录或查询字符串参数选择语言。总体还算实惠。

[http://wpml.org/](http://wpml.org/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-22T12:06:20.510

试用了几个插件。最后花了很多时间进行多站点和域映射。当我开始使用它时，我使用了多语言切换器......并且非常喜欢它！感谢您的提示！

# ruby - 构建排列时如何保持哈希关联

> ID：13283330
> 
> 赞同：1
> 
> 时间：2012-11-08T05:56:30.727
> 
> 标签：ruby, permutation

更新：最后可能的解决方案，但肯定不是高性能或理想的。

我创建了以下方法，让我接近我想要的。

```
def multi_permutations(collection)
  case collection.length
  when 1
    return collection.shift[1]
  when 0
    raise "You must pass in a multidimensional collection."
  end

  a = collection.shift[1]
  b = multi_permutations(collection)

  return_value = []
  a.each do |a_value|
    b.each do |b_value|
      return_value << [a_value] + [b_value]
    end
  end

  return return_value
end 
```

当我传入一个带有嵌套数组的哈希时，看起来像这样......

```
my_collection["item_9"]   = [152]
my_collection["item_2"]   = [139, 143, 145]
my_collection["item_13"]  = [138, 142, 150]
my_collection["item_72"]  = [137, 149, 151, 154]
my_collection["item_125"] = [140, 141]
my_collection["item_10"]  = [144, 146, 147, 148, 153] 
```

我希望它创建一个哈希数组，所有排列看起来像这样......

```
[{ "item_9": 152 }, { "item_2": 139 }, { "item_13": 138 }, { "item_72": 137 }, { "item_125": 140 }, { "item_10": 144 }]
[{ "item_9": 152 }, { "item_2": 139 }, { "item_13": 138 }, { "item_72": 137 }, { "item_125": 140 }, { "item_10": 146 }]
[{ "item_9": 152 }, { "item_2": 139 }, { "item_13": 138 }, { "item_72": 137 }, { "item_125": 140 }, { "item_10": 147 }]
[{ "item_9": 152 }, { "item_2": 139 }, { "item_13": 138 }, { "item_72": 137 }, { "item_125": 140 }, { "item_10": 148 }]
[{ "item_9": 152 }, { "item_2": 139 }, { "item_13": 138 }, { "item_72": 137 }, { "item_125": 140 }, { "item_10": 153 }]
.
.
.
[{ "item_9": 152 }, { "item_2": 145 }, { "item_13": 150 }, { "item_72": 154 }, { "item_125": 141 }, { "item_10": 144 }]
[{ "item_9": 152 }, { "item_2": 145 }, { "item_13": 150 }, { "item_72": 154 }, { "item_125": 141 }, { "item_10": 146 }]
[{ "item_9": 152 }, { "item_2": 145 }, { "item_13": 150 }, { "item_72": 154 }, { "item_125": 141 }, { "item_10": 147 }]
[{ "item_9": 152 }, { "item_2": 145 }, { "item_13": 150 }, { "item_72": 154 }, { "item_125": 141 }, { "item_10": 148 }]
[{ "item_9": 152 }, { "item_2": 145 }, { "item_13": 150 }, { "item_72": 154 }, { "item_125": 141 }, { "item_10": 153 }] 
```

这个函数最终做的很接近，但我失去了关系。

```
[152, [139, [138, [137, [140, 144]]]]]
[152, [139, [138, [137, [140, 146]]]]]
[152, [139, [138, [137, [140, 147]]]]]
[152, [139, [138, [137, [140, 148]]]]]
[152, [139, [138, [137, [140, 153]]]]]
.
.
.
[152, [145, [150, [154, [141, 144]]]]]
[152, [145, [150, [154, [141, 146]]]]]
[152, [145, [150, [154, [141, 147]]]]]
[152, [145, [150, [154, [141, 148]]]]]
[152, [145, [150, [154, [141, 153]]]]] 
```

人际关系对我来说非常重要。原因是，我计划水合一个对象，其中 attrs 是哈希中的键。我确信这可以以更好的方式完成，我愿意接受建议。

所以我想出的一种可能的解决方案是创建一个键数组，然后将排列展平并将它们压缩到一个哈希中。

```
 results = []
  permutations = multi_permutations(possibilities)
  permutations.each do |permutation|
    results << Hash[keys.zip permutation.flatten!]
  end 
```

这最终给了我...

```
{"item_9"=>152, "item_2"=>145, "item_13"=>150, "item_72"=>154, "item_125"=>141, "item_10"=>146}
{"item_9"=>152, "item_2"=>145, "item_13"=>150, "item_72"=>154, "item_125"=>141, "item_10"=>147}
{"item_9"=>152, "item_2"=>145, "item_13"=>150, "item_72"=>154, "item_125"=>141, "item_10"=>148}
{"item_9"=>152, "item_2"=>145, "item_13"=>150, "item_72"=>154, "item_125"=>141, "item_10"=>153} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T08:35:32.477

我无法让您的解决方案运行，因为您没有提供如何调用它，所以我无法比较效率。

您如何看待这个解决方案？（单个参数必须是数组的哈希，就像你的`my_collection`）

```
my_collection = {}
my_collection["item_9"]   = [152]
my_collection["item_2"]   = [139, 143, 145]
my_collection["item_13"]  = [138, 142, 150]
my_collection["item_72"]  = [137, 149, 151, 154]
my_collection["item_125"] = [140, 141]
my_collection["item_10"]  = [144, 146, 147, 148, 153]

def permutations!(input)
  input.each do |key, possibilities|
    possibilities.map!{|p| {key => p} }
  end

  digits = input.keys.map!{|key| input[key] }

  digits.shift.product(*digits)
end

results = permutations!(my_collection) 
```

请注意，此方法因`map!`使用而修改了输入对象。

# html - 如何在 Razor .Net MVC 4 中禁用没有 JQuery 的按钮

> ID：13283334
> 
> 赞同：0
> 
> 时间：2012-11-08T05:56:49.773
> 
> 标签：html, asp.net-mvc-4

我有以下代码：</p>

```
<input id="pwd" name="txtPwd" />
<input type="submit" value="Save" /> 
```

当 pwd 输入为空时，我需要禁用提交按钮

没有 JQuery 怎么办？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-08T06:13:33.400

根据我从您的问题中得到的信息，当密码字段中有值时，您想将提交按钮从禁用更改为启用吗？

好吧，如果您在密码字段上附加了“必需”验证。即与模型绑定，那么表单将不会提交，因为验证将失败并停止表单提交。尽管如此，这仍然是在后台自动使用 jQuery 验证。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-08T07:05:21.933

html代码：

```
<html>
  <body>
    <form runat="server" action="">
      <asp:ScriptManager ID="scriptmanager" runat="server">
      </asp:ScriptManager>
<asp:TextBox ID="txtPassword" runat="server" AutoPostBack="true" Text=""></asp:TextBox>

  <asp:UpdatePanel ID="updatePanel3" runat="server">
      <ContentTemplate>
         <asp:Button ID="btnSubmit" runat="server" Text="Submit" Enabled="false" />
     </ContentTemplate>
    <Triggers>
       <asp:AsyncPostBackTrigger ControlID="txtPassword" />
    </Triggers>
  </asp:UpdatePanel>
 </form>
</body> 
```

C#代码：

```
 protected void Page_Load(object sender, EventArgs e)
    {
        if (!IsPostBack)
        {

        }

        else
        {
            if (txtPassword.Text != "" && txtPassword != null)
            {
                btnSubmit.Enabled = true;
            }
            else
            {
                btnSubmit.Enabled = false;
            }
        }
    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-08T06:18:02.447

不使用 jquery，但使用 javascript 禁用按钮的示例

```
<html>
    <head></head>
    <body>

        <div>
            <input id="pwd" name="txtPwd" />
            <input type="submit" id="button" value="Save" />
        </div>
        <script type="text/javascript">
            var element = document.getElementById("button"); 
            element.setAttribute("disabled", "disabled"); 
        </script>
    </body> 
</html> 
```

或者您可以在服务器端设置禁用属性。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-08T06:42:39.543

如果您唯一的问题是无法使用 JQuery，那么您可以使用 Javascript。

将提交按钮设置为禁用，并使用javascript在输入pwd字段值时更改按钮的状态。您甚至可以对希望用户输入的密码格式添加验证。

如果您不能使用 javascript，那么您必须执行第二个选项“testCoder”，建议从服务器端控制此行为。

# php - 在使用 Web 服务器时维护 Session

> ID：13283336
> 
> 赞同：2
> 
> 时间：2012-11-08T05:57:04.780
> 
> 标签：php, android, session

我正在使用最简单的方法来维护会话，即：

**只需创建 1 个 HttpClient 并将其用于每个服务器调用，它将自动处理 cookie 等，**

但这里的问题是，当我关闭应用程序时，HttpClient 对象正在被破坏，正如预期的那样，因此我无法登录。

所以我修复了它，这样：

**将用户电子邮件和密码存储在共享首选项中，每次启动应用程序时都会调用登录函数（这会创建一个新会话）并使用相同的 HttpClient。**

这里的问题是，Web 服务器中的每个会话都有 3 年的有效期。当我创建会话时（因为每次用户启动应用程序时我都调用登录），每次用户启动应用程序时。这会导致会话重复，或者说在服务器端创建了不必要的会话。

我做对了吗？我该如何解决这个问题？

谢谢你

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T06:33:52.277

只需实现您自己的 CookieStore。这很简单：扩展 BasicCookieStore，对其进行实例化并将其传递到 HttpContext 中。您可以将其存储在 sqlite 数据库中，甚至只是将其转储到 xml 文件（但 sqlite 更轻）。我在这里工作，但我现在没有时间清理代码。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-08T06:40:08.597

除非您的应用程序需要在后台运行（例如 GPS 跟踪），否则最简单的方法是在应用程序关闭时注销并在应用程序打开时登录。如果需要，您可以自动执行此操作，以免影响用户。您仍然可以使用`SharedPreferences`用户电子邮件和密码，只是在应用程序启动时自动登录，在应用程序关闭时注销。另一种解决方案是降低服务器端超时，但这取决于您是否可以更改服务器设置或者是否需要以这种方式设置。

# javascript - 如何将 div 从一个页面移动到另一个页面？

> ID：13283342
> 
> 赞同：0
> 
> 时间：2012-11-08T05:57:28.493
> 
> 标签：javascript, jquery, html, jquery-mobile

我在名为 Transactions.html 的页面上有以下 div：

```
<div class = "theListItem" data-role="collapsible-set" data-collapsed="false">
    <div data-role="collapsible" data-collapsed="false" data-theme="a">
        <h3>$12.62   -  11/01/2012   -   Kelloggs Diner  -  Brooklyn Ny</h3>
        <div data-role="controlgroup"  data-type="horizontal">
            <a class= "green" href="categorize.html" data-transition="slide" data-role="button">Yes</a>
            <a class="red" href="#" data-role="button">No</a>
            <a class="blue" href="IDK.html" data-transition="slideup" data-role="button">I'm not sure</a>
        </div>
    </div>
</div> 
```

当我单击链接时，`<a>No</a>`我希望整个 div 移动到另一个 Summary.html 页面。有任何想法吗？谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T06:33:50.607

你可以这样做。您需要一个包装器 div 标签才能选择整个 html 内容。

```
<script language="javascript" type="text/javascript" src="jquery-1.8.2.js"></script>
<script language="javascript" type="text/javascript">
    $(document).ready(function() {
        $('.red').click(function(){
            var divData = $('#dataContainer').html();
        window.location.href = "summarypage.html?data="+divData+"";
        });
    });            
</script>

<div id="dataContainer">
    <div class = "theListItem" data-role="collapsible-set" data-collapsed="false">
        <div data-role="collapsible" data-collapsed="false" data-theme="a">
            <h3>$12.62   -  11/01/2012   -   Kelloggs Diner  -  Brooklyn Ny</h3>
            <div data-role="controlgroup"  data-type="horizontal">
                <a class= "green" href="categorize.html" data-transition="slide" data-role="button">Yes</a>
                <a class="red" href="#" data-role="button">No</a>
                <a class="blue" href="IDK.html" data-transition="slideup" data-role="button">I'm not sure</a>
            </div>
        </div>
    </div>
</div> 
```

在摘要页面中，您需要从 URL 中检索数据。当您运行此程序并单击“否”链接时，它会导航到摘要页面，您可以在摘要页面 URL 栏上看到 html 值

您可以使用 PHP 来检索此数据`<?php echo $_REQUEST['data']; ?>`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-08T05:59:11.410

你不能——这不是网络的运作方式。每个 HTML 页面都是自包含和封装的。

一些网站，比如 Github，使用 JavaScript 历史 API 和 AJAX 做一些小技巧，使它看起来好像一个新页面“部分加载”，而实际上它是同一个页面。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-08T12:09:52.857

通过使用 html，不可能将数据从一个 html 文件传输到另一个 html 文件。使用 JQuery 执行数据传输通过单击按钮，指定您希望数据显示在哪个 div 或位置，通过使用 Jquery 中的 load()，您可以将另一个页面中的特定数据加载到您的页面

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-08T06:52:43.197

您可能需要使用 PHP 或服务器端技术来存储数据，并且需要将静态页面完全转换为动态 PHP 页面，这需要大量工作。

# javascript - Jquery：隐藏空表行

> ID：13283346
> 
> 赞同：2
> 
> 时间：2012-11-08T05:57:58.443
> 
> 标签：javascript, jquery, html, html-table, tablerow

我正在尝试编写一个脚本来检测表`td`s 是否为空以及它们是否隐藏父级`tr`

我搜索了 Stack Overflow 并找到了其他脚本，但似乎没有一个对我有用。

到目前为止，我有：

```
$(".table tr").each(function() {                           

    var cell = $(this).find('td').html();       

    if (cell == null){
    console.log('empty');
    $(this).parent().addClass('nodisplay');
    }

    }); 
```

但就是不能让它工作。任何意见，将不胜感激！

小提琴：http: [//jsfiddle.net/MeltingDog/S8CUa/1/](http://jsfiddle.net/MeltingDog/S8CUa/1/)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-08T06:01:34.600

试试这个 -

```
$("table tr td").each(function() {                               
    var cell = $(this);           
    if ($(cell).text().length == 0){
        console.log('empty');
        $(this).parent().addClass('nodisplay');
    }    
}); 
```

[**演示**](http://jsfiddle.net/Yuqhk/3/)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-08T06:20:53.690

你应该试试这个。

```
jQuery(document).ready(function(e) {
    jQuery(jQuery('table tr td:empty').parents('tr')).addClass('nodisplay');
}); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-08T06:15:06.800

[`.html()`](http://api.jquery.com/html/)只返回第一个匹配元素的内容，所以如果你的行有多个单元格，这将不起作用。[`.text()`](http://api.jquery.com/text/)可能是一个更好的解决方法，除非您在单元格中有图像或其他空标签。

```
$("table tr").each(function() {        
    var cell = $.trim($(this).find('td').text());
    if (cell.length == 0){
        console.log('empty');
        $(this).addClass('nodisplay');
    }                   
}); 
```

[*演示*](http://jsfiddle.net/S8CUa/2/)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-08T06:38:12.233

您似乎想隐藏仅包含空白内容的行（但单元格可能具有其他元素子节点）。使用纯 JavaScript：

```
var rows = document.getElementsByTagName('tr');
var i = rows.length;
while (i--) {
  if ( !trim(getText(rows[i])) ) {
    rows[i].className += ' nodisplay';
  }
} 
```

帮手：

```
function trim(s) {
  return s.replace(/(^\s*)|(\s*$)/g, '');
}

function getText(el) {
  if (typeof el.textContent == 'string') {
    return el.textContent;
  } else if (typeof el.innerText == 'string') {
    return el.innerText;
  }
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-08T06:19:53.643

```
$('table tr').each(function(){

    var hide = true;

    $('td',this).each(function(){

        if ($.trim($(this).text()) != "")
            hide = false;

    });

    if(hide)
        $(this).closest('tr').hide();
        // OR $(this).closest('tr).addClass('nodisplay');

}); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2018-11-01T13:16:08.580

隐藏表，如果表没有使用 jquery 的行

```
$('.tblClass').each(function(){
    if($(this).find('.rows').length == 0){
        $(this).hide();
    }
}); 
```

# asp.net-mvc-3 - LINQ 结果未按预期显示

> ID：13283351
> 
> 赞同：0
> 
> 时间：2012-11-08T05:58:50.753
> 
> 标签：asp.net-mvc-3, linq, view, foreach

我正在尝试查询特定列并一个接一个地在视图中正确显示项目列表。这是我的代码：

控制器：

```
public ActionResult ShowImage()
    {
        using (var context = new ImageTrialDBEntities())
        {
            var pathlist = (from s in context.Images 
                           select s.ImageLink).ToList();

            var model = new ImageModel();

            model.ImageList = pathlist;

            return View(model);
        }

    } 
```

模型：

```
public class ImageModel
{
    public string Image { get; set; }
    public IList<string> ImageList { get; set; }
} 
```

看法：

```
<div>
@foreach (var s in Model.ImageList)
{
    @Html.DisplayFor(x=>x.ImageList)
    <br />

}

</div> 
```

该列表显示如下：

![在此处输入图像描述](../Images/f0d8440d7e855ee8604b71a2d86abfbd.png)

我想一次展示一个，中间有一个休息时间。请帮忙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T06:08:30.553

您在视图代码中有 2 个循环。试着打印出变量 s。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-08T06:37:04.880

代替

```
@Html.DisplayFor(x=>x.ImageList) 
```

和

```
@Html.DisplayFor(x=>s) 
```

# c++ - C++ 中视频的 OpenCV Canny 边缘检测

> ID：13283352
> 
> 赞同：2
> 
> 时间：2012-11-08T05:58:53.293
> 
> 标签：c++, opencv

我正在从 OpenCV Cookbook 中学习 OpenCV。在那，他在视频中给出了精明边缘检测的代码。这是我尝试过的他给出的代码。

```
#include "cv.h"
#include "highgui.h"
#include <string>
using namespace cv;
using namespace std;

void canny (Mat& img, Mat& out)
{
    // Convert image to gray
    if (img.channels () == 3)
    {
        cvtColor (img, out, CV_BGR2GRAY);
    }
    Canny (out, out, 100, 200);
    threshold (out, out, 128, 255, THRESH_BINARY_INV);
}

class VideoProcessor
{
    private:
        VideoCapture capture;
        bool callIt;
        void* process (Mat&, Mat&);
        string windowNameInput;
        string windowNameOutput;
        int delay;
        long fnumber;
        long frameToStop;
        bool stop;
    public:
        VideoProcessor () : callIt (true), delay (0), fnumber (0), stop (false), frameToStop (-1) {};
        int getFrameRate ()
        {
            return capture.get (CV_CAP_PROP_FPS);
        }
        void setFrameProcessor (void* frameProcessingCallback (Mat&, Mat&))
        {
            process = frameProcessingCallback;
        }
        bool setInput (string filename)
        {
            fnumber = 0;
            capture.release ();
            return capture.open (filename);
        }
        void displayInput (string wn)
        {
            windowNameInput = wn;
            namedWindow (windowNameInput);
        }
        void displayOutput (string wn)
        {
            windowNameOutput = wn;
            namedWindow (windowNameOutput);
        }
        void dontDisplay ()
        {
            destroyWindow (windowNameInput);
            destroyWindow (windowNameOutput);
            windowNameInput.clear ();
            windowNameOutput.clear ();
        }
        void run ()
        {
            Mat frame;
            Mat output;
            if (!isOpened ())
            {
                return;
            }
            stop = false;
            while (!isStopped ())
            {
                if (!readNextFrame (frame))
                {
                    break;
                }
                if (windowNameInput.length () != 0)
                {
                    imshow (windowNameInput, frame);
                }
                if (callIt)
                {
                    process (frame, output);
                    fnumber++;
                }
                else
                {
                    output = frame;
                }
                if (windowNameOutput.length () != 0)
                {
                    imshow (windowNameOutput, output);
                }
                if (delay >= 0 && waitKey (delay) >= 0)
                {
                    stopIt ();
                }
                if (frameToStop >= 0 && getFrameNumber () == frameToStop)
                {
                    stopIt ();
                }
            }
        }
        void stopIt ()
        {
            stop = true;
        }
        bool isStopped ()
        {
            return stop;
        }
        bool isOpened ()
        {
            capture.isOpened ();
        }
        void setDelay (int d)
        {
            delay = d;
        }
        bool readNextFrame (Mat& frame)
        {
            return capture.read (frame);
        }
        void callProcess ()
        {
            callIt = true;
        }
        void dontCallProcess ()
        {
            callIt = false;
        }
        void stopAtFrameNo (long frame)
        {
            frameToStop = frame;
        }
        long getFrameNumber ()
        {
            long fnum = static_cast <long> (capture.get (CV_CAP_PROP_POS_FRAMES));
            return fnum;
        }
};

int main ()
{
    VideoProcessor processor;
    processor.setInput ("video2.MOV");
    processor.displayInput ("Current Frame");
    processor.displayOutput ("Output Frame");
    processor.setDelay (1000 / processor.getFrameRate ());
    processor.process (, canny);
    processor.run ();
} 
```

编译器在函数中给出错误，`setFrameProcessor`我无法修复它。有人可以帮忙吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-08T12:14:04.370

您对函数指针的初始化是错误的。您需要将函数的引用传递给指针进程

```
void setFrameProcessor (void frameProcessingCallback (Mat&, Mat&))
{
   process = &frameProcessingCallback;
} 
```

另一个简单的例子：

```
#include <stdio.h>
void A()
{
printf("A");
}
void B(void A(void))
{
void (*f_ptr)(void);
f_ptr = &A;
f_ptr();
}
int main()
{
B(A);
return 0;
} 
```

有关更多详细信息，请参阅以下链接。

[http://www.cprogramming.com/tutorial/function-pointers.html](http://www.cprogramming.com/tutorial/function-pointers.html)

顺便说一句，这个问题与标题无关。我建议更改标题。

# java - Jetty 错误（运行 Solr 时），没有根本原因

> ID：13283355
> 
> 赞同：0
> 
> 时间：2012-11-08T05:59:29.460
> 
> 标签：java, solr, jetty, solrj

我正在研究 solr 并基本上运行了一些测试，但不知何故我在日志中得到了这个异常，它没有显示任何根本原因。

[这](http://pastebin.com/z9GYTRm9)是错误日志的相关部分。这是我[的](http://pastebin.com/gKGGgKZg)jetty.xml 文件。

有人有什么想法吗？

编辑： Jetty 是默认 solr 安装附带的，我只更改了配置，如您所见......我在压力测试期间收到此错误，它是随机的。

# javascript - 从 javascript 函数问题返回 json

> ID：13283356
> 
> 赞同：6
> 
> 时间：2012-11-08T05:59:30.470
> 
> 标签：javascript, json

我想从 javascript 函数返回自定义 json 对象我的代码如下

**[小提琴](http://jsfiddle.net/pintu31/BePSK/1/)**

**html**

```
<input type='checkbox' name='chk[]' value='1'>1
<input type='checkbox' name='chk[]' value='2'>2
<input type='text' id='txt' value='' />
<input id='btn' type='button' value='click' />​ 
```

**js**

```
var json = {};

$('#btn').click(function(){
  console.log(getdata());
});
function getdata(){
  $('input:checked').each(function(i){
      json.chk = $(this).val();
      //json.chk.push({"val": $(this).val()}); gives error Uncaught TypeError: Cannot call method 'push' of undefined
  });

  json.txt = document.getElementById("txt").value;

 return json;
} 
```

​我需要如下结果

```
{
  chk: [{val: 1}, {val: 2}],
  txt: 'test'
}; 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-08T06:06:27.890

您需要在 json 对象中定义 chk 变量。由于 chk 是未定义的，它不知道它是一个数组。

```
var json = {};

$('#btn').click(function(){
    console.log(getdata());
});
function getdata(){

    json.chk = [];
    $('input:checked').each(function(i){
        json.chk.push({ val : $(this).val()});
    });

    json.txt = document.getElementById("txt").value;

    return json;
}
​ 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-09T05:00:46.980

chk 未定义为数组，您需要先定义为数组，然后将值推入数组。

```
var json = {};

    $('#btn').click(function(){
      console.log(getdata());
    });
    function getdata(){
      $('input:checked').each(function(i){
         if(json.chk)
        {
            json.chk.push({val:$(this).val()})
        }
        else
        {
            json.chk=[];
            json.chk.push({val:$(this).val()})
        }
      });

      json.txt = document.getElementById("txt").value;

     return json;
    } 
```

# c# - C# ASP.net 文件搜索

> ID：13283357
> 
> 赞同：-1
> 
> 时间：2012-11-08T05:59:46.787
> 
> 标签：c#, asp.net

我有用 C# 和 ASP.Net 开发的网站我试图通过使用文本框让用户输入文件名并搜索它来启用其中的搜索功能。我得到了获取与用户输入的字符串匹配的文件名的逻辑。现在，我被困在如何在 .aspx 页面中显示文件。我必须显示带有 href 链接的文件名才能下载它。这些文件通常是 pdf、ppt、chm 等。我不知道如何在这个问题上进一步处理。任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T13:03:06.143

您不应该在目录中搜索文件，这可能会降低您网站的性能，并且用户的搜索不会相当准确。

要应用它，请创建一个包含例如**FileName**、**FileLocation**、**FileType**、**Keywords** .. 等的表，然后创建一个页面来上传这些文件并将文件的信息保存在该表中，这样可以改善您的搜索，它会使您的应用程序免受可能的性能和安全问题的影响。

但是，如果您坚持继续使用您的方法，我认为您的解决方案将包含您搜索过的特定目录中的文件名列表，并且我想您的 ASPX 页面中有一个面板：

**.ASPX 页面**

```
<asp:Panel ID="Panel1" runat="server">
</asp:Panel> 
```

**.ASPX.cs 页面**

```
public void ListFiles(List<string> mfiles)
{
   for(int i=0; i < mfiles.length; i++)
   {
      Panel1.Controls.Add(new LiteralControl("<a href=\"/Files/" + mfiles[i] + "\">" + mfiles[i] + "</a>" ));
      Panel1.Controls.Add("<br />");
   }
} 
```

# mysql - 为什么 IFNULL() 在这里不起作用

> ID：13283361
> 
> 赞同：0
> 
> 时间：2012-11-08T06:00:03.763
> 
> 标签：mysql, sql

我正在检查列值是否为空白，因为我需要向其添加 1。这实际上是我的问题here的后续行动

[我的上一个问题](https://stackoverflow.com/questions/13282116/insert-into-table-select-maxcolumn-name1/13282214#13282214)

我正在做

```
INSERT INTO posts (post_user_id, gen_id)  SELECT 1, IFNULL((MAX(gen_id)+1 FROM
posts),0); 
```

这里有什么问题？

我不断收到某种错误。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-08T06:02:29.453

尝试用`COALESCE`

```
INSERT INTO posts (post_user_id, gen_id) 
SELECT 1, COALESCE((MAX(gen_id)+1) ,0) 
FROM posts 
```

*   [*请参阅 SQLFiddle 演示*](http://sqlfiddle.com/#!2/da0ae/6)

或者`IFNULL`

```
INSERT INTO posts (post_user_id, gen_id) 
SELECT 1, IFNULL((MAX(gen_id)+1) ,0) 
FROM posts 
```

*   [*请参阅 SQLFiddle 演示*](http://sqlfiddle.com/#!2/da0ae/8)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-08T06:06:27.077

试用案例

```
INSERT INTO posts (post_user_id, gen_id) values 
SELECT 1,
   case when gen_id IS null then (select MAX(gen_id) from posts)
   else 0 
   end 
```

# c# - "select new" 和 "Select(a => new" 之间的区别

> ID：13283365
> 
> 赞同：3
> 
> 时间：2012-11-08T06:00:35.947
> 
> 标签：c#, linq, entity-framework, linq-to-entities, group-by

请考虑这两个查询及其结果：

```
var result = ent.tblCustomGroupBies
            .GroupBy(a => groupA.Contains(a.Group.Value) ? "A" :
                          groupB.Contains(a.Group.Value) ? "B" :
                          "N/a")
            .Select(a => new
            {
                KEY = a.Key,
                VALUE = a.Count()
            }); 
```

结果是`GridView`::

![在此处输入图像描述](../Images/0ab6ff391178e7af4bb83c6ae6ccb4d5.png)

第二个查询：

```
 var result3 = from p in ent.tblCustomGroupBies
               group p by new { Criterion = groupA.Contains(p.Group.Value) ? "A" : 
                                            groupB.Contains(p.Group.Value) ? "B" : 
                                            "N/a" }
               into g
               select new { KEY = g.Key, VALUE = g.Count() }; 
```

结果是`GridView`::

![在此处输入图像描述](../Images/49d31d45c10eac872fa491dee25933f9.png)

为什么`Select(a => new)`在第一个查询中显示键列但`select new`不显示？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-08T06:27:42.433

试试这个

```
var result3 = from p in ent.tblCustomGroupBies
               group p by new { Criterion = groupA.Contains(p.Group.Value) ? "A" : 
                                            groupB.Contains(p.Group.Value) ? "B" : 
                                            "N/a" }
               into g
               select new { KEY = g.Key.Criterion, VALUE = g.Count() }; 
```

# ruby-on-rails - Rails，如何将另一个页面直接加载到仪表板

> ID：13283367
> 
> 赞同：0
> 
> 时间：2012-11-08T06:00:57.750
> 
> 标签：ruby-on-rails, ruby-on-rails-3

我有一个页面调用/信息，我想将其加载到我的一个 div 中的主/主页中。

我尝试做渲染：模板，但我需要在我的家庭控制器中再次声明所有变量，无论如何我可以这样做，以便它不仅加载视图，它还加载信息控制器然后视图。

我正在使用的一种方法是 link_to remote，然后是 jquery div.html。但这是在点击事件上，对我来说似乎很hackish，有没有合适的方法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T07:31:00.450

我建议通过局部渲染 /informations 页面并通过局部变量传递所需的变量：

```
render partial: 'informations', locals: {first_variable: @first_variable, second_variable: @second_variable} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-08T06:57:35.687

你可以把它放在一个 iframe 里面，像这样`<iframe src="http://www.example.com"></iframe>`。iframe 用于在当前 HTML 文档中嵌入另一个文档。

# php - 注销脚本不起作用

> ID：13283375
> 
> 赞同：0
> 
> 时间：2012-11-08T06:02:05.393
> 
> 标签：php, session, logout

我创建一个文件 logout.php 并通过调用它

```
 <a href='logout.php'>log out</a> 
```

但会话没有破坏或未设置。帮我logout.php文件如下

```
 <?php session_start();

  if(isset($_SESSION['user_id']) | isset($_SESSION['mem_id'])|                         
   isset($_SESSION['fname']) | isset($_SESSION['lname'])) {

   $_SESSION=array();
   unset($_SESSION['user_id']);
   unset($_SESSION['mem_id']);
   unset($_SESSION['fname']);

  if(isset($_COOKIE[session_name()]))  {

  setcookie(session_name(), '' , time()-3600);
 } 
   session_destroy();
    }
  header("location:index.php"); 
   ?> 
```

在我的登录文件中，我生成了三个会话变量，它们是

```
 $_SESSION['user_id'])
   $_SESSION['mem_id'])
   $_SESSION['fname']) 
```

帮我销毁这个会话变量

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T06:11:27.057

你不这样做`$_SESSION=array();`，变量已经存在并且是一个数组，你不要再声明为一个。

您还需要`||`用于 OR。单个管道`|`是按位运算符，而不是您想要的。

```
... isset($_SESSION['user_id']) || isset($_SESSION['mem_id']) ... 
```

您可以做的一件事是`echo`在`if`语句中添加一些内容。如果它确实将它回显到屏幕上，你就知道它进入了那个 if 语句。如果没有，你知道它没有。然后你就可以开始弄清楚 if 语句的条件是否满足来找出问题所在。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-08T06:48:14.967

为什么你使用这么长的代码来破坏 logout.php 上的会话。只需启动会话，然后将其销毁。就像代码一样。

```
<?php
session_start();
if(session_destroy())
{
header("Location: index.php");
}
?> 
```

# excel - 如何使用苹果脚本在excel中的图表上设置图表元素

> ID：13283376
> 
> 赞同：0
> 
> 时间：2012-11-08T06:02:06.390
> 
> 标签：excel, applescript

此脚本通过错误“Microsoft Excel 出现错误：活动工作簿的工作表“sheet1”不理解设置的图表元素消息。”

```
tell application "Microsoft Excel"
    tell worksheet "Sheet1" of active workbook
        set ochart1 to chart of chart object 1
           tell ochart1
               set chart element chart element 1
               --- create the chart title on chart with value 1
           end tell
    end tell
end tell 
```

![在此处输入图像描述](../Images/925f5a5f8aee56cd0cd42b0af568005c.png).

![在此处输入图像描述](../Images/930a6ce1b241225006628af6c561dd50.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T16:15:12.390

这也有效。为什么要使用 set chart element 命令创建图表标题？

```
tell application "Microsoft Excel"
    tell worksheet "Sheet1" of active workbook
        set ochart1 to chart of chart object 1
        tell ochart1
            set chart title text of it's chart title to "My Title"
        end tell
    end tell
end tell 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-08T07:23:25.273

如果您想创建一个图表标题，这对我有用：

```
tell application "Microsoft Excel"
    tell worksheet "Sheet1" of active workbook
        set ochart1 to chart of chart object 1
        tell ochart1
            set has title to true                       
            set caption of its chart title to "your title here"         
        end tell
    end tell
end tell 
```

# mysql - mysql 创建表查询中的行大小太大错误

> ID：13283381
> 
> 赞同：42
> 
> 时间：2012-11-08T06:02:48.453
> 
> 标签：mysql

我正在尝试使用以下查询创建一个表

```
Create Table PerformaceReport
(
campaignID int,
keywordID bigint,
keyword varchar(8000),
avgPosition decimal(18,6),
cost int,
clicks int,
 conv1PerClick int, 
 impressions int,
  day datetime,
  currency varchar(8000),
  account varchar(8000),
   timeZone varchar(8000),
    adGroup varchar(8000),
    adGroupState varchar(8000),
     approvalStatus varchar(8000),
     lowestPosition varchar(8000),
     campaign varchar(8000),
      campaignState varchar(8000),
       convManyPerClick int,
       totalConvValue decimal(18,6),
        maxCPCSource varchar(8000),
         clientName varchar(8000),
          destinationURL varchar(8000),
           device varchar(8000),
           firstPageCPC int,
            isNegative bit,
             matchType varchar(8000),
              maxCPC varchar(8000),
               maxCPM varchar(8000),
               highestPosition varchar(8000),
               qualityScore int,
               keywordState varchar(8000),
               viewThroughConv int) 
```

我收到以下错误

```
#1118 - Row size too large. The maximum row size for the used table type, not counting BLOBs, is 65535\. You have to change some columns to TEXT or BLOBs 
```

谁能告诉我如何避免此错误并使查询工作以创建表。

* * *

## 回答 #1

> 赞同：89
> 
> 时间：2012-11-08T06:07:29.247

表中所有字段的总大小超过限制 65535，这就是您收到此错误的原因。

您应该使用`text`type 而不是`varchar`长字符串。全部替换`varchar(8000)`为`text`，它应该可以工作。

或者，更好的是，使用适当的数据类型而不是“太大”的数据类型。您真的不需要存储 8000 个字符`currency`，对吗？

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2012-11-08T06:18:30.963

使用`TEXT`而不是`VARCHAR`. 因为您超出了最大行大小。如果您使用`TEXT`，它适用于大型文本列。最大大小`varchar`为 65535。创建一个列，`varchar(65535)`但它必须是表中的唯一列。

或者

问题是innodb表的行大小限制，下面的链接你可以找到一些解决这个问题的方法：

[http://www.mysqlperformanceblog.com/2011/04/07/innodb-row-size-limitation/](http://www.mysqlperformanceblog.com/2011/04/07/innodb-row-size-limitation/) [https://dba.stackexchange.com/questions/6598/innodb-create-table-error-row-size-太大了](https://dba.stackexchange.com/questions/6598/innodb-create-table-error-row-size-too-large)

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2019-04-15T10:41:18.320

65535 字节是 mysql 的最大行大小。

使用 utf8mb4 字符集，varchar(255) 表示该列最多使用`255 * 4 + 1`字节。所以这取决于使用什么字符集表。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2014-03-21T21:07:33.747

我同意使用适当大小的列和 TEXT over VARCHAR 作为第一步的答案，但是如果您仍然达到限制，如果您使用的是 UTF-8 或其他字符集，则可能需要更改该表的排序规则设置每个字符一个字节并且不需要它（例如仅存储英文文本）。我这样做是为了绕过你为一张非常宽的桌子而遇到的限制。这里有更多细节。

[utf8 和 latin1 的区别](https://stackoverflow.com/questions/2708958/differences-between-utf8-and-latin1)

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2020-04-07T16:32:44.063

这个问题出现在 Laravel 中，我使用 text 而不是 varchar。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2021-01-06T03:30:48.243

我使用了 10.4.17-MariaDB MariaDB 服务器，并通过编辑 MariaDB 服务器配置文件（位于 /etc/my.cnf.d/server.cnf）修复了它并添加了这两行：

innodb_log_file_size=512M

innodb_strict_mode=0

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2016-09-09T07:14:28.057

*   每个表（无论存储引擎如何）的最大行大小为 65,535 字节。存储引擎可能会对此限制施加额外的限制，从而减少有效的最大行大小。
*   BLOB 和 TEXT 列从 1 到 4 加上 8 个字节计入行大小限制，因为它们的内容与行的其余部分分开存储。
*   详细信息 - [表列数和行大小限制](https://dev.mysql.com/doc/refman/5.7/en/column-count-limit.html)

* * *

## 回答 #8

> 赞同：-6
> 
> 时间：2014-06-29T16:33:08.163

尝试将存储引擎更改为 CSV。

# jpa - Spring Roo - 更新已部署的实体

> ID：13283384
> 
> 赞同：1
> 
> 时间：2012-11-08T06:02:51.963
> 
> 标签：jpa, spring-roo, alter-table

假设使用 Spring Roo，我创建了一个带有存储用户数据的“用户”实体的 Web 应用程序。它有两个字符串字段 firstname 和 lastname。

我将它部署到生产环境中，用户被创建并保存在数据库中。

我现在想向实体添加一个字段，例如 dateOfBirth。使用 Roo 很容易做到这一点。

如何在后台更新数据库表？我可以重新部署之前的战争并且数据库会自动更新吗？

我如何/在哪里可以定义如何处理缺少 DOB 的现有数据库条目（例如，放入“n/a”值）。

欢迎提供相关文档的链接。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T22:22:52.360

DDL生成策略配置在`src/main/resources/META-INF/persistence.xml`

对于休眠，使用属性`hibernate.hbm2ddl.auto`。这篇[文章](https://stackoverflow.com/questions/438146/hibernate-question-hbm2ddl-auto-possible-values-and-what-they-do)描述了这个属性的含义。

对于 eclipselink，使用属性`eclipselink.ddl-generation`. 此[链接](http://wiki.eclipse.org/EclipseLink/Examples/JPA/DDL)提供了有关在 eclipselink 中配置 DDL 生成的更多信息。

如果您使用 datanucleus 或 openjpa 作为持久性提供程序，我认为事情会涉及更多。

# java - 使用 JDBC 在 Postgres 中使用连接列运行选择时出错

> ID：13283390
> 
> 赞同：0
> 
> 时间：2012-11-08T06:03:26.550
> 
> 标签：java, postgresql, jdbc

我想从 cityHotelData 表中获得连接的 citycode-hotelcode 对。（cityHotelData 表中的citycode 和hotelcode 是varchar）

当我使用 phpPgAdmin 运行以下查询时，它工作正常。

```
select citycode || '-' || hotelcode from cityHotelData 
```

但是当我使用 JDBC 在 java 中运行它时，它会出现以下错误。

```
org.postgresql.util.PSQLException: The column name citycode || '-' || hotelcode was not found in this ResultSet. 
```

我在用`PostgreSQL 8.0.26.`

**Java 代码：**

```
Connection conn = DriverManager.getConnection(ConnString,ConnUser,ConnPassword);

public ResultSet executeStatementQuery(String sql) throws Exception {

        this.qry = sql;

        try {
            stmt    = conn.createStatement(); // Statement stmt
            rs      = stmt.executeQuery(sql); //ResultSet rs
        } catch (SQLException sqlEx) {
            sqlEx.printStackTrace();
            closeResultSet();
        } catch (Exception cnfe) {
            closeResultSet();
            cnfe.printStackTrace();
        }
        return rs;
    } 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-08T06:35:24.737

尝试这个：

```
SELECT (citycode || '-' || hotelcode) AS cityhotel
FROM cityHotelData 
```

**编辑**：要排除任何 Java 问题，请尝试使用此 Java 代码：

```
Statement st = conn.createStatement();
ResultSet rs = st.executeQuery(
    "SELECT (citycode || '-' || hotelcode) AS cityhotel FROM cityHotelData"
);
while (rs.next()) {
    System.out.print("City-hotel code: ");
    System.out.println(rs.getString(1));
}
rs.close();
st.close(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-08T06:49:17.977

我不确定为什么会发生这个问题 - 这显然是查询的 JDBC 准备问题，但我们仍然没有完整的图片，没有看到查询的确切来源以及它是如何传递到`executeStatementQuery`.

一个简单的替代方法是使用此查询：

```
select citycode, hotelcode from cityHotelData 
```

然后将这些值与`-`java 层中的值连接起来。

# mysql - Permissions to create and run stored procedure

> ID：13283393
> 
> 赞同：7
> 
> 时间：2012-11-08T06:03:39.437
> 
> 标签：mysql, stored-procedures, command-line, mysql-workbench

I want to create a user in Mysql and I want that user to have permissions to create and run stored procedure. I using mysql workbench. Can you please guide me how to create user from workbench or through command-line with stored procedure permission. Workbench gives various options for permission as shown in below image, which options must be selected for have permission to create and run SP

![enter image description here](../Images/9e75bd3f501ac5d01153c2156c756d7b.png)

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2012-11-08T06:09:07.090

试试这个命令：

```
CREATE USER 'username'@'localhost' IDENTIFIED BY 'password'; 
GRANT ALTER ROUTINE, CREATE ROUTINE, EXECUTE ON *.* TO 'username'@'localhost' ; 
```

# .net - Azure 中的 ASP.Net 应用程序缓存

> ID：13283394
> 
> 赞同：1
> 
> 时间：2012-11-08T06:03:42.203
> 
> 标签：.net, caching, azure

在 Asp.net 中，您可以使用 HttpRuntime.Cache 在本地 Web 服务器上缓存对象。这在 Azure 中有效吗？

我知道 Azure 有托管缓存服务，但成本相当昂贵。我正在缓存极少量很少更改的数据，因此每个网站单独缓存是可以接受的。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-08T07:11:24.203

在 Windows Azure 中使用`HttpRuntime.Cache`效果很好。唯一的问题是，如果您使用多个实例，则此缓存可能在实例之间变得不一致。但这取决于您的数据的静态程度。

如果您正在缓存简单的数据，例如国家、城市……您可以使用 HttpRuntime.Cache。现在，如果您的数据更加动态，您应该考虑使用 Windows Azure 缓存（**而不是**Windows Azure 共享缓存）。Windows Azure 缓存将在您的实例上保留一些内存以创建分布式缓存。这意味着您在访问缓存时将在所有实例上保持一致。而且它是免费的（它只是使用您已经付费的资源）。

# node.js - Node.JS RC2-CBC Encryption and Decryption ciphers are not matching with C#

> ID：13283397
> 
> 赞同：6
> 
> 时间：2012-11-08T06:04:11.183
> 
> 标签：node.js, rc2-cipher

I have an existing encryption and decryption login inplemented in C# using RSC2-cbc algorithm using Key and IV. Now I am going to implement the same in node.js. So I have written following code to encryprt and decrypt. The problem I am facing is the node.js encrypted string (chiper) or decrypted string are not matching with C# encryptrd strings.

Existing C# code

```
byte[] arrbIV = Encoding.ASCII.GetBytes("dleftaba");
byte[] arrbKey = Encoding.ASCII.GetBytes(Key); 
byte[] arrbData = Encoding.ASCII.GetBytes(sData); //Text to be encryptrd

RC2 oEncryptor = new RC2CryptoServiceProvider();

oEncryptor.Mode = CipherMode.CBC;
oEncryptor.Key = arrbKey;
oEncryptor.IV = arrbIV;

// Create memory stream to store encrypted string
MemoryStream oMemoryStream = new MemoryStream();
CryptoStream oCryptoStream = new CryptoStream(oMemoryStream, oEncryptor.CreateEncryptor(),      
CryptoStreamMode.Write);

 // Peform the encryption
 oCryptoStream.Write(arrbData, 0, arrbData.Length);
 // We have written all the data in the stream and now we can apply padding
 oCryptoStream.Close();
 string sRetVal = Convert.ToBase64String(oMemoryStream.ToArray()); 
```

Equivalent/ Translated node.js code

```
var crypto = require('crypto')

var SECRET_KEY = "435353553" 

var IV = "dleftaba"

var ENCODING = 'base64'

var text = "My Text"

Encryption 

var cipher = crypto.createCipheriv('rc2-cbc',key,  iv) 
var cryptedPassword = cipher.update(text, 'utf-8', 'base64')
cryptedPassword+= cipher.final('base64')

Decryption

var decipher = crypto.createDecipheriv('rc2-cbc', SECRET_KEY, IV)
var decryptedPassword = decipher.update(cryptedPassword, 'base64','utf-8')
decryptedPassword += decipher.final('utf-8')

Please suggest what is going wrong over here. Why node. js is not resulting into the identical chiper like C#. 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-12-30T00:14:26.170

尽管您使用的算法不同...这是我[在 C# 中的参考实现](https://github.com/tracker1/T1.CoreUtils/blob/master/T1.CoreUtils/Utilities/CryptoUtility.cs)...我已经对节点实现应该是什么发表了评论...并且它匹配...

我当时的目标是保持 .Net 端与节点端的默认值兼容......

有关的：

*   [NodeJS 和 C# (.Net) 中的 AES256 加密/解密](https://stackoverflow.com/questions/18502375/aes256-encryption-decryption-in-both-nodejs-and-c-sharp-net/)
*   [从 node.js 解密 .NET 中的 AES256 加密数据 - 如何从密码中获取 IV 和密钥](https://stackoverflow.com/questions/12261540/decrypting-aes256-encrypted-data-in-net-from-node-js-how-to-obtain-iv-and-key)
*   [C# 版本的 OpenSSL EVP_BytesToKey 方法？](https://stackoverflow.com/questions/8008253/c-sharp-version-of-openssl-evp-bytestokey-method)

```
using System;
using System.Collections.Generic;
using System.IO;
using System.Linq;
using System.Security.Cryptography;
using System.Text;
using System.Threading.Tasks;

namespace T1.CoreUtils
{
    public static class CryptoUtility
    {
        /*  Wanting to stay compatible with NodeJS
         *  https://stackoverflow.com/questions/18502375/aes256-encryption-decryption-in-both-nodejs-and-c-sharp-net/
         *  https://stackoverflow.com/questions/12261540/decrypting-aes256-encrypted-data-in-net-from-node-js-how-to-obtain-iv-and-key
         *  https://stackoverflow.com/questions/8008253/c-sharp-version-of-openssl-evp-bytestokey-method
         */

        /* EncrypteDefault - as NodeJS
         * var cipher = crypto.createCipher('aes-256-cbc', 'passphrase');
         * var encrypted = cipher.update("test", 'utf8', 'base64') + cipher.final('base64');
         */
        public static string EncryptDefault(string input, string passphrase = null)
        {
            byte[] key, iv;
            PassphraseToDefaultKeyAndIV(RawBytesFromString(passphrase), null, 1, out key, out iv);

            return Convert.ToBase64String(EncryptBytes(Encoding.UTF8.GetBytes(input), key, iv));
        }

        /* DecryptDefault - as NodeJS
         * var decipher = crypto.createDecipher('aes-256-cbc', 'passphrase');
         * var plain = decipher.update(encrypted, 'base64', 'utf8') + decipher.final('utf8');
         */
        public static string DecryptDefault(string inputBase64, string passphrase = null)
        {
            byte[] key, iv;
            PassphraseToDefaultKeyAndIV(RawBytesFromString(passphrase), null, 1, out key, out iv);

            return Encoding.UTF8.GetString(DecryptBytes(Convert.FromBase64String(inputBase64), key, iv));
        }

        public static string Encrypt(string input, string passphrase = null)
        {
            byte[] key, iv;
            PassphraseToSCryptKeyAndIV(passphrase, out key, out iv);

            return Convert.ToBase64String(EncryptBytes(Encoding.UTF8.GetBytes(input), key, iv));
        }

        public static string Decrypt(string inputBase64, string passphrase = null)
        {
            byte[] key, iv;
            PassphraseToSCryptKeyAndIV(passphrase, out key, out iv);

            return Encoding.UTF8.GetString(DecryptBytes(Convert.FromBase64String(inputBase64), key, iv));

        }

        static byte[] RawBytesFromString(string input)
        {
            var ret = new List<Byte>();

            foreach (char x in input)
            {
                var c = (byte)((ulong)x & 0xFF);
                ret.Add(c);
            }

            return ret.ToArray();
        }

        public static void PassphraseToSCryptKeyAndIV(string passphrase, out byte[] key, out byte[] iv)
        {
            var hashList = HashUtility.HashSCrypt(Encoding.UTF8.GetBytes(passphrase)).ToList();
            key = new byte[32];
            iv = new byte[16];
            hashList.CopyTo(0, key, 0, 32);
            hashList.CopyTo(32, iv, 0, 16);
        }

        public static void PassphraseToDefaultKeyAndIV(byte[] data, byte[] salt, int count, out byte[] key, out byte[] iv)
        {
            List<byte> hashList = new List<byte>();
            byte[] currentHash = new byte[0];

            int preHashLength = data.Length + ((salt != null) ? salt.Length : 0);
            byte[] preHash = new byte[preHashLength];

            System.Buffer.BlockCopy(data, 0, preHash, 0, data.Length);
            if (salt != null)
                System.Buffer.BlockCopy(salt, 0, preHash, data.Length, salt.Length);

            MD5 hash = MD5.Create();
            currentHash = hash.ComputeHash(preHash);

            for (int i = 1; i < count; i++)
            {
                currentHash = hash.ComputeHash(currentHash);
            }

            hashList.AddRange(currentHash);

            while (hashList.Count < 48) // for 32-byte key and 16-byte iv
            {
                preHashLength = currentHash.Length + data.Length + ((salt != null) ? salt.Length : 0);
                preHash = new byte[preHashLength];

                System.Buffer.BlockCopy(currentHash, 0, preHash, 0, currentHash.Length);
                System.Buffer.BlockCopy(data, 0, preHash, currentHash.Length, data.Length);
                if (salt != null)
                    System.Buffer.BlockCopy(salt, 0, preHash, currentHash.Length + data.Length, salt.Length);

                currentHash = hash.ComputeHash(preHash);

                for (int i = 1; i < count; i++)
                {
                    currentHash = hash.ComputeHash(currentHash);
                }

                hashList.AddRange(currentHash);
            }
            hash.Clear();
            key = new byte[32];
            iv = new byte[16];
            hashList.CopyTo(0, key, 0, 32);
            hashList.CopyTo(32, iv, 0, 16);
        }

        public static byte[] EncryptBytes(byte[] input, byte[] Key, byte[] IV)
        {
            // Check arguments. 
            if (input == null || input.Length <= 0)
                return new byte[0]; //nothing to encode
            if (Key == null || Key.Length <= 0)
                throw new ArgumentNullException("Key");
            if (IV == null || IV.Length <= 0)
                throw new ArgumentNullException("Key");

            // Create an RijndaelManaged object 
            // with the specified key and IV. 
            using (RijndaelManaged cipher = new RijndaelManaged())
            {
                cipher.Key = Key;
                cipher.IV = IV;
                cipher.Mode = CipherMode.CBC;
                cipher.Padding = PaddingMode.PKCS7;

                // Create a decrytor to perform the stream transform.
                ICryptoTransform encryptor = cipher.CreateEncryptor(cipher.Key, cipher.IV);

                // Create the streams used for encryption. 
                using (MemoryStream outputStream = new MemoryStream())
                {
                    using (CryptoStream encryptStream = new CryptoStream(outputStream, encryptor, CryptoStreamMode.Write))
                    {
                        encryptStream.Write(input, 0, input.Length);
                        encryptStream.FlushFinalBlock();
                        outputStream.Seek(0, 0);
                        return outputStream.ToArray();
                    }
                }
            }

        }

        public static byte[] DecryptBytes(byte[] cipherText, byte[] Key, byte[] IV)
        {
            // Check arguments. 
            if (cipherText == null || cipherText.Length <= 0)
                throw new ArgumentNullException("cipherText");
            if (Key == null || Key.Length <= 0)
                throw new ArgumentNullException("Key");
            if (IV == null || IV.Length <= 0)
                throw new ArgumentNullException("Key");

            // Create an RijndaelManaged object 
            // with the specified key and IV. 
            using (var cipher = new RijndaelManaged())
            {
                cipher.Key = Key;
                cipher.IV = IV;
                cipher.Mode = CipherMode.CBC;
                cipher.Padding = PaddingMode.PKCS7;

                // Create a decrytor to perform the stream transform.
                ICryptoTransform decryptor = cipher.CreateDecryptor(cipher.Key, cipher.IV);

                // Create the streams used for decryption. 
                using (var inputStream = new MemoryStream(cipherText))
                {
                    using (var outputStream = new MemoryStream())
                    {
                        using (CryptoStream decryptedStream = new CryptoStream(inputStream, decryptor, CryptoStreamMode.Read))
                        {
                            var buffer = new byte[1024];
                            decryptedStream.Flush();
                            var read = decryptedStream.Read(buffer, 0, buffer.Length);
                            while (read > 0)
                            {
                                outputStream.Write(buffer, 0, read);
                                decryptedStream.Flush();
                                read = decryptedStream.Read(buffer, 0, buffer.Length);
                            }
                            outputStream.Seek(0, 0);
                            return outputStream.ToArray();
                        }
                    }
                }
            }
        }
    }
}
```

节点.js

```
var crypto = require('crypto');

module.exports = {
  encrypt: encryptValue,
  decrypt: decryptValue
}

function encryptValue(input, passphrase) {
  var cipher = crypto.createCipher('aes-256-cbc', passphrase);
  var encrypted = cipher.update(input, 'utf8', 'base64') + cipher.final('base64');
  return encrypted;
}

function decryptValue(inputBase64, passphrase) {
  var decipher = crypto.createDecipher('aes-256-cbc', passphrase);
  var plain = decipher.update(inputBase64, 'base64', 'utf8') + decipher.final('utf8');
  return plain;
}
```

我的 .Net 代码引用了并非严格需要的[HashUtility](https://github.com/tracker1/T1.CoreUtils/blob/master/T1.CoreUtils/Utilities/HashUtility.cs)，而且我没有带有 scrypt 的完整 node.js 实现......主要用于测试。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2021-02-02T17:25:17.143

这似乎是[这个问题](https://stackoverflow.com/questions/21420749/rc2cryptoserviceprovider-net-algorithm-differences-with-node-js-rc2-algorithm)的副本。也在这里回答以防万一。

我遇到了类似的情况。存在`RC2CryptoServiceProvider`用于解密字符串的现有 .NET（核心）代码。我想在节点中复制它。

.NET 代码使用密钥大小 128（这似乎也是默认值），所以我假设节点（openssl）中的可比算法是`rc2-128`. 但这在解密时总是失败。

经过反复试验，我发现在 node 中使用该`rc2-64`算法与使用 keysize 128 的 .NET 代码的行为相同。别问我为什么！

# clearcase - When clearcase "evil twins" will be created and how to avoid it?

> ID：13283401
> 
> 赞同：2
> 
> 时间：2012-11-08T06:04:36.653
> 
> 标签：clearcase, clearcase-ucm

One of my collegue check-in an exe in multiple places. Whenever we may need to check-in at multiple places, we normally would check-in that in one common place and then create symlink in all the other places.

But he is unaware of that practice and did it. He did that in his stream and delivered that to integration stream.

If we ask him to delete the file and replace it with symlink (then deliver it again to integration stream, will it lead to evil twins?

When evil twins will be created? In UCM if we create some file, is it not safe to delete at all (assume we did not apply baseline ,we just create and delivered) ?

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-08T06:22:42.090

它们是在您为两个不同的分支在同一目录中添加同名文件时创建的。
这不是 UCM 特定的，但它会使合并（或在 UCM 中，交付或变基）更难，因为它将在“目录合并”步骤停止合并，要求您在合并中的两个文件（名称相同）之间进行选择目录。

将文件“添加到源代码管理两次”的问题在于，它会生成两个不同的对象 ID，因此会产生两个不同的历史记录：您将无法合并文件本身，您只能删除一个并保留其他。

有关更多信息，请参阅：

*   “[在 Rational ClearCase 中检测“邪恶双胞胎”的最简单方法是什么？](https://stackoverflow.com/questions/11705061/whats-the-easiet-way-to-detect-evil-twins-in-rational-clearcase/11705099#11705099) “。
*   《[邪恶孪生问题与减法合并](https://stackoverflow.com/questions/1636712/evil-twin-problem-and-subtractive-merge)》

> 我的同事已经交付了一个文件，如果他在他的流中删除了该文件并将其替换为符号链接并再次交付。它会导致邪恶的双胞胎吗？

符号链接是恢复正确文件的一个很好的解决方案（如 参考资料中所述[`cleartool ln`](https://publib.boulder.ibm.com/infocenter/cchelp/v8r0m0/index.jsp?topic=/com.ibm.rational.clearcase.cc_ref.doc/topics/ct_ln.htm)），但我通常通过合并操作来执行符号链接。
您可以随时：

*   签出你的邪恶孪生文件的父目录
*   删除它（rmname）
*   从父目录的源版本（包含正确的文件）合并到同一父目录的当前签出版本（选择手动合并）
*   通过将正确的文件添加到父目录的目标版本来解决合并
*   签入父目录

然后您可以再次交付，知道只有具有正确 oid 的正确文件才会被传播。

> 它会导致邪恶的双胞胎吗？

只有在前一次交付的合并解决过程中选择了错误的文件时，才会*再次*导致邪恶双胞胎。
如果保留了正确的文件，并且按照上述过程恢复了正确的文件，则下一次交付将正常进行。

# lotus-domino - Difference in Creating users in names.nsf and domino administrator?

> ID：13283403
> 
> 赞同：0
> 
> 时间：2012-11-08T06:04:54.597
> 
> 标签：lotus-domino, lotus

I can create users from the `domino administrator` or `names.nsf`.What is the exact difference between these two things?

I created some users using domino administrator but i was unable to login into `names.nsf` using those created users.What is the reason for this?

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T10:47:22.647

`tell adminp process all`您是否在服务器控制台中尝试过此命令？管理流程将处理您所有待处理的请求。`(creation in this case)`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-08T07:30:12.277

可能是视图索引更新的时间问题。应该没有任何区别，因为 Domino Administrator 直接在 names.nsf 中更新。($Users) 视图需要更新才能登录。

当您说“登录 names.nsf”时，您的意思是使用 HTTP 登录吗？

# javascript - 用于 python 和 javascript 的 Jade 模板语言

> ID：13283405
> 
> 赞同：2
> 
> 时间：2012-11-08T06:05:01.477
> 
> 标签：javascript, python, pug, slim-lang, pyjade

是否有像[jade](http://jade-lang.com/)这样的模板语言既适用于python又适用于javascript并且每种语言都具有相同的语法？

Pyjade 的引擎特定部分的语法与 jam 不同，因此不适用于我。

我愿意使用类似[jinja2js](https://github.com/mkerrin/pwt.jinja2js)的东西，但 jinja2js 不适用于 pyjade。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-27T18:43:57.683

我是**pyjade**的作者 Syrus 。我最近开发了包[jsjinja](https://github.com/SyrusAkbary/jsjinja) ，它以一种新的不同方式将 Jinja2 模板转换为 javascript。

看看这个！;)

# node.js - Towerjs 中的布局/视图

> ID：13283406
> 
> 赞同：2
> 
> 时间：2012-11-08T06:05:03.287
> 
> 标签：node.js, towerjs

我有一个关于视图/布局的快速问题。

我已经安装并设置了一个工作塔机器人，但是每当我调用：`@render 'viewName'`从控制器内，（这包括通过运行生成的示例控制器`tower new appName`）生成客户端 template.js 文件，但其内容从未插入到布局中。

从我在布局中看到的内容来看，视图替换车把标记是有意义的`{{outlet}}`但是，我看不出有任何理由应该这样做。

我已经搜索了文档，但由于它仍在编写中，它似乎缺少任何可以帮助我的说明。

我敢肯定，我缺少一些简单的东西。

任何帮助表示赞赏。相关代码如下。（默认安装的所有代码）

提前致谢。

* * *

应用程序/控制器/服务器/applicationController.coffee：

```
class App.ApplicationController extends Tower.Controller
  @layout 'application'

  ...

  welcome: ->
    @render 'welcome', locals: {@bootstrapData}

  ... 
```

应用程序/模板/共享/布局/_body.coffee_body.coffee：

```
...
section id: 'content', role: 'main', ->
  div class: 'container', ->
    text '{{outlet}}\n'
... 
```

应用程序/模板/共享/welcome.coffee：

```
h1 'Welcome to Tower.js' 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T00:17:02.410

在挖掘了 towerjs 源代码后，我发现该`@render`函数将视图分配给名称“body”，因此插入该视图非常简单：

应用程序/模板/共享/布局/_body.coffee_body.coffee：

```
...
section id: 'content', role: 'main', ->
  div class: 'container', ->
    yields 'body'
... 
```

我希望这对其他人有帮助。

# php - File downloading in php

> ID：13283408
> 
> 赞同：-3
> 
> 时间：2012-11-08T06:05:06.313
> 
> 标签：php

Presently I am working on a company's website on which if job seeker posts their CV, it will be visible in the admin panel with a download option.

Now I need help in that download part. In admin section i am displaying information about the newly registered job seeker, along with a button which should allow administrator to download the job seeker's CV. I need at least one working example for doing this at least, if I got a good discussion about file downloading I will be very greatful.

I worked on website having file download option in asp.net in C# but no idea how to achieve it in html PHP.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T06:08:20.727

见你说你已经有一个下载链接。只需链接到文件。

```
<a href="download.php?file=user-cv.pdf">Download</a> 
```

在 中`download.php`，给出`Content-disposition: attachment;`这样的方式：

```
<?php
    # Sanitize the code to avoid injection
    $file = "uploads/" . stripslashes(str_replace(array("..", "/"), "", $_GET["file"]));
    header('Content-Disposition: attachment; filename="' . $file . '"');
    header('Content-type: application/pdf');
    readfile($file);
    die();
?> 
```

### 警告：

正如[Corbin](https://stackoverflow.com/users/567864/corbin)所说，如果人们试图直接访问该文件，就会存在一个巨大的安全漏洞。最好将它作为文件名，文件类型存储在数据库中，以便可以这样访问：

```
<a href="download.php?user=praveenscience">Download</a> 
```

在 PHP 代码中，从 MySQL 服务器获取结果并以这种方式下载：

```
<?php
    $file = mysql_result(/* Query Here */);
    header('Content-Disposition: attachment; filename="' . $file["filename"] . '"');
    header('Content-type: ' . $file["mimetype"]);
    readfile($file["filename"]);
    die();
?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-08T06:10:05.357

提供简历的完整路径以及服务器中的文件名作为下载按钮的超链接

像这样：

```
<a href="<?php echo 'path of file/filename';?>"><img src="download.png"></a> 
```

# sql-server-2008 - SQL Server : each group by expression must contain at least one column that is not an outer reference -On Turk colition

> ID：13283410
> 
> 赞同：1
> 
> 时间：2012-11-08T06:05:19.397
> 
> 标签：sql-server-2008

I get this error

> *each group by expression must contain at least one column that is not an outer reference*

I am inserting date into a temp table, and error is at the following group by query(only on some collation)

```
insert into @Temp(Name, ID)
   select 
      USR.Name,
      ISNULL((SELECT SUM(BCR.QUANTITY) 
              FROM Rate BCR            
              WHERE BCR.RateID = USR.RateID 
              GROUP BY USR.RateID), 0) AS TotalQuantity
   from 
      dbo.User as USR
   where 
      USR.Status = 1 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T06:49:17.010

您有一个相关的子查询，其中 USR.RateID 来自外部查询。由于您在 where 子句中使用 USR.RateID，因此您可以删除 GROUP BY 子句，因为每次调用子查询时，USR.RateID 只会有一个值。

```
insert into @Temp(Name, ID)
   select 
      USR.Name,
      ISNULL((SELECT SUM(BCR.QUANTITY) 
              FROM Rate BCR            
              WHERE BCR.RateID = USR.RateID), 0) AS TotalQuantity
   from 
      dbo.User as USR
   where 
      USR.Status = 1 
```

# iphone - How I can manually adjust the brightness value of the camera?

> ID：13283412
> 
> 赞同：0
> 
> 时间：2012-11-08T06:05:25.923
> 
> 标签：iphone, ios

First, I'm sorry, I can not speak English well. This translator is written

When I start the camera, it will automatically adjust the brightness.

How I can manually set the brightness value of the camera?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T06:44:56.910

您无法在代码中调整相机的亮度。请按照苹果文档获取相机控制器/ImagePicker 控制器编程指南的可用选项。

希望能帮助到你。

[Apple Doc 的链接在这里](http://developer.apple.com/library/ios/#documentation/AudioVideo/Conceptual/CameraAndPhotoLib_TopicsForIOS/Articles/TakingPicturesAndMovies.html)

# linq - how to write Query in LINQ For this scenario

> ID：13283414
> 
> 赞同：1
> 
> 时间：2012-11-08T06:05:40.773
> 
> 标签：linq

```
DataSet dataSet = new DataSet();
DataTable dataTable = new DataTable("dataTable");
dataTable.Columns.Add("caller", typeof(String));
dataTable.Columns.Add("callee", typeof(String));
dataTable.Rows.Add("999", "888",2012-11-06 12:11:30);
dataTable.Rows.Add("888", "999",2012-05-06 12:06:30);
dataTable.Rows.Add("888", "999",2010-05-06 06:06:30);
dataTable.Rows.Add("999", "555",2012-04-06 12:11:30);
dataTable.Rows.Add("555", "333",2012-01-06 12:11:30);
dataTable.Rows.Add("555", "999",2012-10-06 12:11:30);
dataSet.Tables.Add(dataTable);

var result = dataSet.Tables["dataTable"].Select().Select(dr =>
new
{
    caller1 = StringComparer.CurrentCultureIgnoreCase.Compare(dr["caller"], dr["callee"]) < 0 ? dr["callee"] : dr["caller"],
    caller2 = StringComparer.CurrentCultureIgnoreCase.Compare(dr["caller"], dr["callee"]) < 0 ? dr["caller"] : dr["callee"]
})

    .GroupBy(drg => new { drg.caller1, drg.caller2 } )
    .Select(drg => new { drg.Key.caller1, drg.Key.caller2, count = drg.Count() }); 
```

This query gives me result like this

```
caller1    caller2  count 
999        888      3
999        555      2
555        333      1 
```

I wanna add max and min date column also in this result set. how can i do this. If there is only one call between two numbers max and min date will be same

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-08T08:34:47.650

尝试这个：

```
DataSet dataSet = new DataSet();
DataTable dataTable = new DataTable("dataTable");
dataTable.Columns.Add("caller", typeof(String));
dataTable.Columns.Add("callee", typeof(String));
dataTable.Columns.Add("timestamp", typeof(String));
dataTable.Rows.Add("999", "888","2012-11-06 12:11:30");
dataTable.Rows.Add("888", "999","2012-05-06 12:06:30");
dataTable.Rows.Add("888", "999","2010-05-06 06:06:30");
dataTable.Rows.Add("999", "555","2012-04-06 12:11:30");
dataTable.Rows.Add("555", "333","2012-01-06 12:11:30");
dataTable.Rows.Add("555", "999","2012-10-06 12:11:30");
dataSet.Tables.Add(dataTable);

var result = dataSet.Tables["dataTable"].Select().Select(dr =>
    new {
        caller1 = StringComparer.CurrentCultureIgnoreCase.Compare(dr["caller"], dr["callee"]) < 0 ? dr["callee"] : dr["caller"],
        caller2 = StringComparer.CurrentCultureIgnoreCase.Compare(dr["caller"], dr["callee"]) < 0 ? dr["caller"] : dr["callee"],
        timestamp = DateTime.Parse(dr["timestamp"].ToString())
    })
    .GroupBy(drg => new { drg.caller1, drg.caller2 } )
    .Select(drg => new { drg.Key.caller1, drg.Key.caller2, count = drg.Count(), max = drg.Max(x=>x.timestamp), min = drg.Min(x=>x.timestamp) }); 
```

这会给你

![在此处输入图像描述](../Images/e6cdd852766cd2a271e175d8e9624517.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-08T08:29:43.700

```
DataSet dataSet = new DataSet();
DataTable dataTable = new DataTable("dataTable");
dataTable.Columns.Add("caller", typeof(String));
dataTable.Columns.Add("callee", typeof(String));
dataTable.Columns.Add("date", typeof(DateTime));
dataTable.Rows.Add("999", "888", new DateTime(2012, 11, 06, 12, 11, 30));
dataTable.Rows.Add("888", "999", new DateTime(2012, 05, 06, 12, 06, 30));
dataTable.Rows.Add("888", "999", new DateTime(2010, 05, 06, 06, 06, 30));
dataTable.Rows.Add("999", "555", new DateTime(2012, 04, 06, 12, 11, 30));
dataTable.Rows.Add("555", "333", new DateTime(2012, 01, 06, 12, 11, 30));
dataTable.Rows.Add("555", "999", new DateTime(2012, 10, 06, 12, 11, 30));
dataSet.Tables.Add(dataTable);

var result =
    dataSet.Tables["dataTable"]
        .Select()
        .GroupBy(item =>
            new 
            { 
                caller1 = Int32.Parse(item["caller"].ToString()) > Int32.Parse(item["callee"].ToString()) ? item["caller"] : item["callee"],
                caller2 = Int32.Parse(item["caller"].ToString()) > Int32.Parse(item["callee"].ToString()) ? item["callee"] : item["caller"]
            })

        .Select(item => 
            new
            {
                caller1 = item.Key.caller1,
                caller2 = item.Key.caller2,
                count = item.Count(),
                minDate = item.Min(min => DateTime.Parse(min["date"].ToString())),
                maxDate = item.Max(max => DateTime.Parse(max["date"].ToString()))
            }); 
```

# javascript - CSS3 border radius and Internet Explorer 8

> ID：13283416
> 
> 赞同：0
> 
> 时间：2012-11-08T06:05:54.533
> 
> 标签：javascript, html, css

I am using CSS3 border-radius styles in my webpage and I want it to be cross-browser compliant across major browsers including IE8\.

Therefore, I am trying to use the border-radius.htc file to achieve this. Wherever in my css styles the border-radius is used, i have coded something like:

```
 -webkit-border-radius: 6px 6px 6px 6px;
    border-radius: 6px 6px 6px 6px; 
    behavior:url(border-radius.htc); 
```

Unfortunately, when I check the webpage in IE8, all the backgrounds that have border-radius behavior end up not showing at all.

The webpage is at [http://www.domainandseo.com/portfolio/dominos/index.html](http://www.domainandseo.com/portfolio/dominos/index.html)

Any suggestions would be highly appreciated.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-08T07:31:52.933

我不知道您使用的是哪个“border-radius.htc”文件，但如果您使用的是[CSS3 PIE](http://css3pie.com)之类的文件，这是[一个已知问题](http://css3pie.com/documentation/known-issues/#z-index)。从他们的页面：

> 我知道解决此问题的唯一方法是：
> 
> *   使目标元素位置：相对，或
> *   使祖先元素位置：相对并给它一个z-index。
> 
> 这两种解决方法都可能在子元素定位和 z-index 堆叠方面产生潜在的不良副作用。PIE 可以很容易地强制其中一个或另一个本身，但是：
> 
> *   根据具体情况，一种或另一种可能更合适，因此 CSS 作者需要能够控制选择哪一种。
> *   在 CSS 之外强制 position:relative 会使 IE 与其他浏览器不同步，从而导致混乱的不一致。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-08T06:40:21.653

早于 9 的 Internet Explorer 版本不支持此属性。检查[兼容性矩阵](http://www.quirksmode.org/css/contents.html)。如果您想在旧浏览器中使用圆角，则必须通过带有圆角边框图像的容器来实现它们。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-08T07:17:01.107

您最好尝试使用 JavaScript polyfill，而不是尝试加载 .htc 文件。想到的一个是 Mike Alsup 的 Corner jQuery 插件，位于[http://jquery.malsup.com/corner/](http://jquery.malsup.com/corner/)。您可以使用条件注释仅在 IE 8 或更早版本中加载它：

```
<!--[if lte IE 8]>
<script src="path_to_your_scripts_folder/jquery.corner.js"></script>
<script>
    $(function(){
        $('your_selector_here').corner('corner_radius_in_pixels');
    });
</script>
<![endif]--> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-05-23T17:41:29.030

CSS3 PIE 要求路径与 HTML 相关，而不是与 CSS 相关的路径，这与您通过 CSS 加载的图像或 @font-face 字体不同。您可能会发现将 PIE.htc 文件的绝对 URL 放在 CSS 中效果最好。

* * *

## 回答 #5

> 赞同：-3
> 
> 时间：2012-11-08T07:02:19.690

试试这个它会工作：

```
#main{position:relative;} 
```

仅在 IE 特定样式表中提及此 ID。

# android - Getting Exception Service Not Available While Trying to Get Current Location Latitude & Longitude

> ID：13283420
> 
> 赞同：1
> 
> 时间：2012-11-08T06:06:17.857
> 
> 标签：android, google-app-engine, google-maps

this question might be duplicate,but not getting satisfied answer so here i am throwing my issue.i am trying to fetch current location latitude and longitude using geocoder,before 2days i was able to get latitude and longitude but today getting exception:**java.io.IOException: Service not Available**

here is the way i am trying to get latitude and longitude

```
//**current latitude and longitude

        try{
        lm = (LocationManager) RestaurantDetail.this.getSystemService(Context.LOCATION_SERVICE);
        criteria = new Criteria();
        bestProvider = lm.getBestProvider(criteria, false);
        location = lm.getLastKnownLocation(bestProvider);
        }
        catch(Exception e){

            Log.e("Finding Current Location:",e.toString());
        }

        if (location == null){
            Toast.makeText(RestaurantDetail.this,"Location Not found",Toast.LENGTH_LONG).show();

        }else{

        try {
            geocoder = new Geocoder(RestaurantDetail.this);    
            user = geocoder.getFromLocation(location.getLatitude(), location.getLongitude(), 1);
            lat=(double)user.get(0).getLatitude();
            lng=(double)user.get(0).getLongitude();
            lat1=lat;
            long1=lng;

           Log.e("Latitude:","Current:"+lat1+""+long1+"\n"+"add"+lat2+""+long2);

         try{
           float results[] = new float[3];
           Location.distanceBetween(lat1,long1,lat2,long2, results);
           float distance = results[0];
           distance=(float) ((distance)*0.000621371);
           Tv_restorentdetail_disData.setText(""+distance+"miles");
           }catch(Exception e){

               Log.e("Counting Distance Exception:",e.toString());
           }
           }catch (Exception e) {
               e.printStackTrace();   
               Tv_restorentdetail_disData.setText("Service Not Available");
           } 
```

my project version is 4.0 with google api and i am testing my project in Samsung tab having android version>4.0 here is a list of permission i have given to manifest file

```
<uses-permission android:name="android.permission.INTERNET"/>
<uses-permission android:name="android.permission.ACCESS_FINE_LOCATION"></uses-permission>
<uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION"/>
<uses-permission android:name="android.permission.ACCESS_MOCK_LOCATION"/> 
```

any help or suggestion will be appreciated thanks any way!

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T06:15:52.603

```
private LocationManager locationManager;
private LocationListener locationListener;
 public void Get_current_location()
    {
        locationManager=(LocationManager)this.getSystemService(LOCATION_SERVICE);
        final ProgressDialog pg=new ProgressDialog(this);
        pg.setTitle("Fetching Location");
        pg.setMessage("please wait....");
        pg.show();
        locationListener=new LocationListener()
        {

            public void onStatusChanged(String provider, int status, Bundle extras) 
            {
                // TODO Auto-generated method stub

            }

            public void onProviderEnabled(String provider)
            {
                // TODO Auto-generated method stub

            }               
            public void onProviderDisabled(String provider) 
            {
                // TODO Auto-generated method stub
                Intent intent = new Intent(android.provider.Settings.ACTION_LOCATION_SOURCE_SETTINGS);
                startActivity(intent);
            }

            public void onLocationChanged(Location location) 
            {
                // TODO Auto-generated method stub
                Geocoder gcd=new Geocoder(getBaseContext());
                try
                {
                    List<Address>addresses=gcd.getFromLocation(location.getLatitude(), location.getLongitude(), 5);
                    Address address=addresses.get(0);
                     gps_countryName=address.getCountryName().toString();
                     gps_stateName=address.getAdminArea().toString();
                     gps_cityName=address.getLocality().toString();                     
                     gps_countryCode=address.getCountryCode().toString();
                     Log.i("gps countrycode", gps_countryCode);                     
                     locationManager.removeUpdates(locationListener);    
                }
                catch(Exception e)
                {
                    e.printStackTrace();
                }

            }
        };
        locationManager.requestLocationUpdates(LocationManager.NETWORK_PROVIDER, 0, 0, locationListener);
    } 
```

# php - 想要在 CakePhp 中使用一个控制器文件在两个表中插入数据

> ID：13283431
> 
> 赞同：1
> 
> 时间：2012-11-08T06:07:12.833
> 
> 标签：php, cakephp

当我调用函数以在第二个表中添加数据时，我想从一个控制器文件中的两个表中添加数据..错误出现错误：调用非对象上的成员函数 save()

这是我的控制器文件

```
<?php
class CountryController extends AppController {
    var $name = 'Country';
    var $helpers = array('Html', 'Form' );

    // called index function 
    public function index() {
        $this->render();
    }

    // Function for add countries in database
    public function addCountry() {
        if (empty($this->data)) {
            $this->render();
        } else {
        //  $this->cleanUpFields();
            if ($this->Country->save($this->data)) {
                $this->Session->setFlash('The Counrty has been saved');
                $this->redirect('/country/index');
            } else {
                $this->Session->setFlash('Please correct errors below.');
            }
        }
    }

    public function addCity() {
        $cities = $this->set('country', $this->Country->find('all'));
        $this->set(compact('cities'));
        if(empty($this->data)){
            $this->render();
        } else {
            print_r($this->data);// die();
            if ($this->City->save($this->data)) {
                $this->Session->setFlash('The City has been saved');
                $this->redirect('/country/index');
            } else {
                $this->Session->setFlash('Please correct errors below.');
            }
        }
    }

}
?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T06:14:13.867

您可以使用模型链接。我假设一个城市和国家是相关的（也许是一个中间模型国家？）。

所以这将是`$this->Country->City->save()`或`$this->Country->IntermediaryModel->City->save()`取决于你的关系。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-08T06:09:52.140

var $uses = array('主要型号名称' , '第二型号名称' .......等等);

例如：

```
<?php
class CountryController extends AppController {
    var $name = 'Country';
    var $helpers = array('Html', 'Form' );
    // $uses is where you specify which models this controller uses
    var $uses = array('Country', 'City');

    // ... here go your controller actions (methods)

}
?> 
```

# android - OutofMemoryError 使应用程序崩溃

> ID：13283449
> 
> 赞同：0
> 
> 时间：2012-11-08T06:08:34.953
> 
> 标签：android, android-layout

我正在实现`listview`图像和`framelayout`（包含和按钮），当我从上到下`Linearlayout`滚动多次时，一段时间后应用程序崩溃并给出错误：`listview`

> 内存不足错误。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T06:27:39.497

作为 Fedor 给出的最佳答案，您应该执行以下操作来解决您的问题。

要修复**OutOfMemory**，您应该执行以下操作：

```
BitmapFactory.Options options=new BitmapFactory.Options(); 
options.inSampleSize = 8;
Bitmap preview_bitmap=BitmapFactory.decodeStream(is,null,options); 
```

这个 inSampleSize 选项减少了内存消耗。

这是一个完整的方法。首先它读取图像大小而不解码内容本身。然后它找到最好的 inSampleSize 值，它应该是 2 的幂。最后图像被解码。

```
//decodes image and scales it to reduce memory consumption
private Bitmap decodeFile(File f){
    try {
        //Decode image size
        BitmapFactory.Options o = new BitmapFactory.Options();
        o.inJustDecodeBounds = true;
        BitmapFactory.decodeStream(new FileInputStream(f),null,o);

        //The new size we want to scale to
        final int REQUIRED_SIZE=70;

        //Find the correct scale value. It should be the power of 2.
        int scale=1;
        while(o.outWidth/scale/2>=REQUIRED_SIZE && o.outHeight/scale/2>=REQUIRED_SIZE)
            scale*=2;

        //Decode with inSampleSize
        BitmapFactory.Options o2 = new BitmapFactory.Options();
        o2.inSampleSize=scale;
        return BitmapFactory.decodeStream(new FileInputStream(f), null, o2);
    } catch (FileNotFoundException e) {}
    return null;
} 
```

您可以参考[此处](https://stackoverflow.com/questions/477572/android-strange-out-of-memory-issue-while-loading-an-image-to-a-bitmap-object)了解更多说明。希望它会帮助你。

# python - 用于网络的 Python

> ID：13283450
> 
> 赞同：4
> 
> 时间：2012-11-08T06:08:35.560
> 
> 标签：python

我读过 Python 可用于 Web 应用程序。然而，我想知道如何将表单变量传递给 Python 脚本，以及如何将 Python“连接”到 Apache 服务器，以便它为动态网页提供服务，就像 PHP 如此容易做到的那样。这是如何完成的，它比使用 PHP 更好吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-08T06:21:53.377

您可能正在寻找的答案是`mod_wsgi`使用 Apache 或`uwsgi`nginx。

使用这些，您可以运行您喜欢的任何应用程序。

例如应该配置 apache，因为它`myapp.wsgi`看起来如下：（在这里：[http](http://code.google.com/p/modwsgi/wiki/QuickConfigurationGuide) ://code.google.com/p/modwsgi/wiki/QuickConfigurationGuide ）

```
def application(environ, start_response):
    status = '200 OK'
    output = 'Hello World!'

    response_headers = [('Content-type', 'text/plain'),
                        ('Content-Length', str(len(output)))]
    start_response(status, response_headers)

    return [output] 
```

这只是返回网页的最低要求。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-08T06:35:47.960

## 电脑动画

将 Python 应用程序连接到 Web 服务器的最简单方法是使用 CGI 协议。当请求进入服务器时，它将启动您的应用程序，在 STDIN 上向其提供请求正文，并在 STDOUT 上接受响应。这种技术从 Web 的早期就开始使用，并且今天仍然有效。它最大的缺点是你的整个应用程序在每次请求时都会启动和关闭，因此它不适合大量流量。

## 快速CGI

解决 CGI 最大问题的尝试是 FastCGI——它使用类似的协议，但您的应用程序保持常驻，并通过套接字与 Web 服务器通信（我相信，Unix 命名的套接字和 TCP 套接字都受支持）。许多 Web 服务器都支持这种技术，但现在普遍认为它不如 WSGI。Apache 通过 mod_fcgi 模块支持它。

## mod_python

Python Web 应用程序和框架传统上使用 mod_python 与 Apache 连接。与 mod_perl 一样，此模块提供与 Apache API 的 Python 绑定。

有了它，您可以为请求/响应周期的任何阶段编写处理程序。您可以使用这些 Python 处理程序进行 URL 重写、身份验证和授权、标头操作和实际响应构建。

但是，不再推荐这样做，因为 mod_python 包没有得到维护，而 Apache Web 服务器仍在继续发展。

## mod_wsgi

WSGI 是一种用于在 Web 服务器和 Python 处理程序之间进行通信的协议。记录在[PEP-333](http://www.python.org/dev/peps/pep-0333/)中，它不依赖于任何特定的 Web 服务器，就像 mod_python 一样。Apache 使用[mod_wsgi](http://code.google.com/p/modwsgi/)；Nginx 有自己的[WSGI Module](http://wiki.nginx.org/HttpUwsgiModule)，其他服务器也有类似的包可用。

与 FastCGI 一样，wsgi 进程在请求之间保持驻留。但是，它并没有显式使用套接字——相反，wsgi 包为您的应用程序提供了一个“环境”字典，其中包括有关请求的许多详细信息，以及一对类似文件的对象：一个用于读取请求正文，以及编写响应的一个。

此外，与 Web 服务器与单个应用程序对话的 FastCGI 不同，WSGI 支持配置为“中间件”的应用程序。这些应用程序可以接收请求、处理它们，然后将它们传递给另一个 WSGI 进程，从而允许您从小进程构建整个 Web 应用程序，每个进程负责一个处理。

WSGI 目前是运行 python web 应用程序的首选方式。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-08T06:11:21.750

使用 web 框架，如[`pyramid`](http://pyramid.readthedocs.org/en/latest/)or[`web2py`](http://www.web2py.com/)或[`django`](https://www.djangoproject.com/)。

这些 Web 框架与（和可选的）模板引擎、表单框架和视图函数（在其他框架如 php codeignitor 中称为控制器）捆绑在一起。

**供用户填写的服务表格**

表单类被写入，表单对象可以从这些表单类中实例化并在上下文中传递给模板。

**接收表单提交**

像 php 或任何其他生成 html 模板的语言一样，实例化的表单当然会显示为 html 表单。当用户单击“提交”按钮时，表单输入字段中的值将发送到表单指向的 url。

该 url 由您选择的 python 框架相应地映射，并以字符串形式接收 http 请求的 POST（表单提交）对象。然后，您可以决定要对这些传入请求 POST 对象做什么。

**相同的原则**

无论你使用哪种框架，选择哪种语言，基本原理都是一样的。渲染 HTML 以显示表单，接收表单的 POST 值并相应地决定您要对这些值做什么。

# python - 如何在字符串中查找操作数和操作

> ID：13283451
> 
> 赞同：2
> 
> 时间：2012-11-08T06:08:36.090
> 
> 标签：python, calculator, operation, operand

所以我试图弄清楚如何检测数学表达式中操作数和操作的数量

前任：`1+2*9/2`

我试图使用函数将操作数和操作分离成它们自己的形式，因为我们必须检查必须执行多少操作以及以正确的顺序 (PEDMAS)。

我已经取了方程并取出了所有的空格，现在我必须找到方程中操作数和运算的数量，然后使用 return 来查找用户给定数学表达式的答案。

有小费吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T06:11:04.043

如果允许，我建议您查看该`ast`模块。它旨在使用 Python 自己的解析器为您执行此类操作。

对于实际应用程序，您可能会使用像 Ply 这样的解析器生成器。

对于像这样的简单家庭作业，您可能需要手动编写解析器。首先对其进行标记（`str.split`），找到括号，然后使用优先级对其他操作进行分组。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-08T06:14:21.100

如果表达式不像您的示例那么简单，您可以使用[RPN - 反向波兰表示法](http://en.wikipedia.org/wiki/Reverse_Polish_notation)

如果您的表达式非常简单（只有基本操作和小于 10 的值）并且您只需要计数就可以使用这样的东西，我猜：

```
ops = '+-*/'
operationsCount= sum(expr.count(op) for op in ops)
operandsCount = len(expr) - operationsCount 
```

或者你可以使用这个：

```
def get_cnt(expr):
    ops = '+-*/'
    res = [expr]
    for op in ops:
        tmp = []
        for x in expr:
            tmp.extend(x.split(op))
        res = tmp[:]        
    return len(res), sum(expr.count(op) for op in ops) 
```

现在您有许多运算符和操作数 - 很容易在 ops/opd 上正确拆分行并计算表达式。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-08T07:04:26.613

```
import re
exp = 1+2*9/2
ops = re.findall(r'[\+\-*/]', exp)
print len(ops) 
```

我不知道你为什么要找到我认为的操作数的数量

```
re.findall(r'[0-9]+|[\+\-*/()]', exp) 
```

更好。

所以我认为正则表达式可以帮助你

# android - 如何通过在edittext中写入来获取xml解析中的特定值

> ID：13283454
> 
> 赞同：0
> 
> 时间：2012-11-08T06:09:03.053
> 
> 标签：android

我发现本教程显示 xml 解析，但在第一个屏幕上显示 xml 文件中的所有值我想修改此代码并添加仅显示我在编辑文本框中键入的名称的值属性假设我在编辑文本框中键入 2 所以是仅在屏幕上显示 ID 2 属性并非所有数据都显示在屏幕上 我如何将编辑文本框与数据库连接，所以仅在屏幕上显示所选项目？

[http://www.androidhive.info/2011/11/android-xml-parsing-tutorial/](http://www.androidhive.info/2011/11/android-xml-parsing-tutorial/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T06:15:24.343

是的，你可以，在下面的代码部分：

```
for (int i = 0; i < nl.getLength(); i++) {
        // creating new HashMap
        HashMap<String, String> map = new HashMap<String, String>();
        Element e = (Element) nl.item(i);

        if(parser.getValue(e, KEY_ID).equals(et.getText().toString())){
        // adding each child node to HashMap key => value
        map.put(KEY_ID, parser.getValue(e, KEY_ID));
        map.put(KEY_NAME, parser.getValue(e, KEY_NAME));
        map.put(KEY_COST, "Rs." + parser.getValue(e, KEY_COST));
        map.put(KEY_DESC, parser.getValue(e, KEY_DESC));

        // adding HashList to ArrayList
        menuItems.add(map);
}else{
 } 
```

如您所见，您只需从 XML 中检索 id 并将其与从 Edit 文本中获得的 id 进行比较。如果它们匹配，则将其添加到哈希图中，否则不要！

希望这可以帮助！

# linux - 命令行中的命令中的自动建议

> ID：13283458
> 
> 赞同：1
> 
> 时间：2012-11-08T06:09:15.270
> 
> 标签：linux, terminal, command-line-arguments, autosuggest

我在 ubuntu 终端中输入了**git 的**按下选项卡，它显示了下面给出的 git 子命令：

```
test: git s <tab>
shortlog  show  show-branch   stage stash status submodule 
```

它是如何发生的？文件的自动建议是通常的一种。如何为带有子命令的命令实现它？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-08T06:19:51.100

[bash 补全简介](http://www.debian-administration.org/articles/316)

这将使您了解 Bash 等 shell 中的自动完成功能。

# python - 如何在 Pywinauto 中解决此问题以运行 .msi 安装程序

> ID：13283461
> 
> 赞同：0
> 
> 时间：2012-11-08T06:09:22.897
> 
> 标签：python, windows-installer, pywinauto

如果通过 pywinauto 运行给出错误..

```
from pywinauto.application import *
commands=command+'\msiexec.exe /i "....msi"'
app=Application.Start(commands) 
```

错误是引发 AppStartError(message) AppStartError: 无法创建进程

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T08:35:40.113

最后`commands`应该有下一个表格

```
r'"C:\Program Files\...\some.exe" /configure' 
```

所以，我想你的情况应该是这样的

```
commands=r'"%s\msiexec.exe" /i ....msi' % command 
```

（小心 msiexec.exe 之前的斜线）

但我同意@Chris Morgan，也许 pywinauto 不是 .msi 的最佳方式

# c - 使用相同的输入文件多次调用 yyparse()

> ID：13283462
> 
> 赞同：0
> 
> 时间：2012-11-08T06:09:29.397
> 
> 标签：c, bison, yacc, lex, flex-lexer

我`yyparse()`用同一个输入文件多次调用。我必须从文件开始到某个点开始解析，然后跳转到同一文件中的其他位置（在那里解析一些行），然后回到原始位置并从那里再次开始解析。这个我做了很多次。每次打电话之前`yyparse()`，我都会重新打开相同的输入文件，然后指向我必须开始解析的位置。

我在返回原始位置时遇到问题。我可以跳到其他位置，但是从那里返回到原来的位置是个问题。我的解析器在返回时会转到其他位置，从那里解析几行，然后回到原始位置。我怎样才能避免这些额外的行解析？我`yyrestart();`在新呼叫之前使用`yyparse();`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-08T06:28:10.403

您可以在词法分析器中完成这一切，而不是每次需要更改位置时都重新开始解析。

当您需要解析文件中的另一个位置时，将当前的词法分析器状态推入堆栈，并将新的词法分析器状态设置为您想要的位置。完成后，只需将状态从堆栈中弹出以使其成为当前状态并继续解析，就好像什么都没发生一样。

一个可能更好的解决方案可能是直接解析源文件，构建 AST，然后您可以轻松地进行语义处理和/或根据需要评估部分。这将使词法分析器和解析器*更加*简单。

# javascript - 允许字母数字、-、_ 和空格的正则表达式

> ID：13283470
> 
> 赞同：51
> 
> 时间：2012-11-08T06:10:05.680
> 
> 标签：javascript, jquery, regex

我正在寻找一个允许在 JavaScript/jQuery 中使用字母数字字符、-、_ 或空格的正则表达式。我尝试谷歌搜索，但无法找到。

谁能帮我解决这个问题？

提前致谢。

* * *

## 回答 #1

> 赞同：90
> 
> 时间：2012-11-08T06:17:18.657

[字符集](http://www.regular-expressions.info/charclass.html)将在这里大有帮助。您要为要验证的字符创建匹配集：

*   您可以将字母数字与 a 匹配，这与JavaScript`\w`中的相同（其他语言可能不同）。`[A-Za-z0-9_]`
*   留下`-`和空格，可以组合成一个匹配的集合，例如`[\w\- ]`. 但是，您可能需要考虑使用`\s`而不是仅使用空格字符（`\s`也匹配制表符和其他形式的空格）
    *   *请注意，我正在转义`-`，`\-`以便正则表达式引擎不会将其与字符范围混淆，例如`A-Z`*
*   [最后，您可能希望通过锚定](http://www.regular-expressions.info/anchors.html)开始和结束`^`来确保整个字符串匹配`$`

您可能正在寻找的完整正则表达式是：

```
/^[\w\-\s]+$/ 
```

（注意[表示`+`必须](http://www.regular-expressions.info/repeat.html)*至少有*一个字符才能匹配；`*`如果零长度字符串也可以，请使用 a 代替）

最后，[http://www.regular-expressions.info/](http://www.regular-expressions.info/)是一个很棒的参考

**奖励积分：** 此正则表达式*不*匹配非 ASCII 字母。不幸的是，大多数浏览器中的正则表达式引擎不支持命名字符集，[但有一些库可以帮助解决这个](https://stackoverflow.com/questions/150033/regular-expression-to-match-non-english-characters)问题。

对于支持命名字符集的语言/平台，您可以使用`/^[\p{Letter}\d\_\-\s]+$/`

* * *

## 回答 #2

> 赞同：68
> 
> 时间：2012-11-08T06:25:45.307

试试这个正则表达式：

```
/^[a-z\d\-_\s]+$/i 
```

* * *

## 回答 #3

> 赞同：11
> 
> 时间：2012-11-08T06:25:52.823

```
/^[-\w\s]+$/ 
```

**\w**匹配*字母*、*数字*和*下划线*

**\s**匹配*空格*、*制表符*和*换行符*

**-** 匹配*连字符*（如果您的字符集示例中有连字符 [az]，请确保将连字符放在开头，像这样 [-az]）

* * *

## 回答 #4

> 赞同：9
> 
> 时间：2012-11-08T06:15:10.833

```
var string = 'test- _ 0Test';
string.match(/^[-_ a-zA-Z0-9]+$/) 
```

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2016-03-22T15:57:05.033

```
var regex = new RegExp("^[A-Za-z0-9? ,_-]+$");
            var key = String.fromCharCode(event.charCode ? event.which : event.charCode);
            if (!regex.test(key)) {
                event.preventDefault();
                return false;
            } 
```

在正则表达式`[A-Za-z0-9?spaceHere,_-]`中，问号“？”后有一个文字空格。这匹配空间。其他人喜欢`/^[-\w\s]+$/`并且`/^[a-z\d\-_\s]+$/i`不为我工作。

* * *

## 回答 #6

> 赞同：4
> 
> 时间：2019-07-05T13:20:41.807

试试这个正则表达式

*更新的正则表达式

```
/^[a-z0-9]+([-_\s]{1}[a-z0-9]+)*$/i 
```

这将只允许文本之间的单个空格或 - 或 _

```
Ex: this-some abc123_regex 
```

学习：[https ://regexr.com](https://regexr.com)

*注意：我已经根据 Toto 问题更新了正则表达式

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2018-02-13T08:37:33.817

对我来说，我想要一个支持前面字符串的正则表达式。基本上，动机是支持一些外国邮政格式，因为它应该是允许空格的字母数字。

1.  ABC123
2.  ABC 123
3.  ABC123（空间）
4.  ABC 123（空间）

所以我最终编写了如下的自定义正则表达式。

```
/^([a-z]+[\s]*[0-9]+[\s]*)+$/i 
```

[![在此处输入图像描述](../Images/401f32168f265c02b328987c6310a592.png)](https://i.stack.imgur.com/6clt2.png)

在这里，我输入了 *，`[\s]*`因为它不是必须有空格的。在我的情况下，邮政编码可能包含也可能不包含空格。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2021-07-09T10:24:27.263

以下两者都对我有用。

```
/[^a-zA-Z0-9\-_\s]/g
/[^a-z\d\-_\s]+$/i 
```

可以像这样用空替换除字母数字、-、_ 以外的其他字符。

```
inputString.replace(/[^a-zA-Z0-9\-_\s]/g,""); 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2022-01-18T09:55:54.123

试试这个允许字母数字和空格

[a-zA-Z0-9]

# ruby-on-rails - 如何在轨道上制作循环日红宝石？

> ID：13283471
> 
> 赞同：-1
> 
> 时间：2012-11-08T06:10:13.330
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3

> **可能重复：**
> [如何迭代天](https://stackoverflow.com/questions/13283239/how-to-iterating-days)

我有一个循环 days.this 的代码来制作树叶。我希望出勤时的列登录和注销将在开始日期开始并在结束日期结束时自动填充。

```
**exp I input :**
startdate: 2012-11-08 01:30:00
enddate: 2012-11-10 01:30:00
**i want output like this:** 

2012-11-08 01:30:00
2012-11-09 01:30:00
2012-11-010 01:30:00

 for i in 0..((@leafe.enddate - @leafe.startdate).to_i)
                 @attendance = Attendance.new

                 @attendance.signin = '2012-11-08 01:30:00' #value must change automatically
                 @attendance.signout = '2012-11-08 10:30:00'#value must change automatically
                 @attendance.user_id = @leafe.user_id
                 @attendance.save
            end 
```

对于你的回答，我说谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T06:24:23.887

我真的很难理解你的问题描述。我只是猜测您想迭代一系列日期。

```
start_date = Date.new(2012, 11, 8)
end_date   = Date.new(2012, 11, 23)

(start_date .. end_date).each do |date|
  …
  # Do something with date here
  …
end 
```

请注意，我在`Date`这里使用该类。您可能需要先使用`require 'date'`. 您应该尝试使用代表您正在使用的事物的特定类。在完全面向对象的语言（如 Ruby）中，使用 an`Integer`或 a`String`来避免许多强大的特定功能。`Date`

由于您不仅有日期作为输入，还有完整的 ISO-8601 时间规范，您可能希望使用类似这样的东西来仅提取 Date 对象：

```
Time.parse('2012-11-20 12:30:45').to_date 
```

在这里，您可能需要使用`require 'time'`.

# java - 在 Java 中浮动到货币

> ID：13283472
> 
> 赞同：0
> 
> 时间：2012-11-08T06:10:17.913
> 
> 标签：java, regex, string, number-formatting

如果输入一个数字（浮点数），例如 12500，则该数字将转换为货币格式，如 12,500.00。格式为“###,###,###.##”。**如何在没有**任何 apache utils 或类似库的情况下使用 java 来做到这一点。每 3 位数字后将重复一个逗号，小数点将四舍五入并显示为小数点后 2 位数字。如果是 0.5，则应为 0.50，如果为 0.569，则应为 0.57。有没有通过正则表达式或任何东西来解决这个问题？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-08T06:19:21.287

我通过在 Google 上进行一些搜索发现了以下代码...可能对您有帮助...

检查此链接，这对理解很有帮助。在此链接中，只有他们提供了必要格式的方式...

[http://docs.oracle.com/javase/tutorial/i18n/format/numberFormat.html](http://docs.oracle.com/javase/tutorial/i18n/format/numberFormat.html)

```
static public void displayCurrency( Locale currentLocale) {

    Double currencyAmount = new Double(9876543.21);
    Currency currentCurrency = Currency.getInstance(currentLocale);
    NumberFormat currencyFormatter = 
        NumberFormat.getCurrencyInstance(currentLocale);

    System.out.println(
        currentLocale.getDisplayName() + ", " +
        currentCurrency.getDisplayName() + ": " +
        currencyFormatter.format(currencyAmount));
} 
```

上述代码行生成的输出如下：

```
French (France), Euro: 9 876 543,21 €
German (Germany), Euro: 9.876.543,21 €
English (United States), US Dollar: $9,876,543.21 
```

在这种情况下，您可以选择区域设置，甚至可以在不知道特定国家/地区使用的格式的情况下享受。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-08T06:14:23.293

```
 public static void main(String args[])
      {
      float amount =  2192.05f;
      NumberFormat formatter = new DecimalFormat("###,###,###.##");
       System.out.println("The Decimal Value is:"+formatter.format(amount));
      } 
```

# javascript - 具有可清除值的文本框 ASP.Net

> ID：13283476
> 
> 赞同：0
> 
> 时间：2012-11-08T06:10:37.677
> 
> 标签：javascript, jquery, asp.net, web

在 StackOverflow 上发布问题时，我想实现一个类似于标签部分中使用的文本框...

有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T06:14:40.670

看看这个......它是简单的jQuery标签输入插件，易于使用，修改......

[http://xoxco.com/projects/code/tagsinput/](http://xoxco.com/projects/code/tagsinput/)

# c# - 删除设置后的 XamlParseException (app.config)

> ID：13283478
> 
> 赞同：1
> 
> 时间：2012-11-08T06:10:49.893
> 
> 标签：c#, wpf, xaml, xamlparseexception

在我的项目中删除设置后，我得到了这个例外。使用 ProjectName.Properties 命名空间是默认设置。我也从项目中删除了 app.config。为什么我这样做：我被添加了序列化以读取我的 settings.xml 而不是旧版本。

我认为这些设置是在某处定义的，但不知道。

这是异常文本，如果有帮助（在谷歌翻译中翻译）：

> 调用类型“GnomeExtractor.MainWindow”的构造函数，满足指定的绑定约束，导致异常。”行号“6”，位置在“9”。

**我手动**删除了这些文件：

> Settings.settings
> Settings.Desighner.cs
> app.config

我的 MainWindow.xaml 代码：

```
<Window ResxExtension.DefaultResxName="GnomeExtractor.Windows.MainWindow" Language="{UICulture}" 
        x:Class="GnomeExtractor.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="clr-namespace:GnomeExtractor"
        xmlns:dg="http://schemas.microsoft.com/netfx/2007/xaml/presentation"
        Title="Gnome Extractor" Height="500" Width="1000" MinHeight="500" MinWidth="1000" Loaded="Window_Loaded" Closing="Window_Closing" Icon="/GnomeExtractor;component/Resources/GX icon.ico">
    <Window.Resources>
        <local:CellBackgroundColorConverter x:Key="CellBackgroundColorConverter" />
        <local:CellFocusableConverter x:Key="CellFocusableConverter" />
        <local:ColumnIndexToWidthConverter x:Key="ColumnIndexToWidthConverter" />
        <Style TargetType="DataGrid">
            <Setter Property="ItemsSource" Value="{Binding}" />
            <Setter Property="CanUserDeleteRows" Value="False" />
            <Setter Property="CanUserAddRows" Value="False" />
            <Setter Property="SelectionUnit" Value="Cell" />
            <Setter Property="RowHeaderWidth" Value="30" />
            <Setter Property="Margin" Value="5" />
            <Setter Property="SelectionMode" Value="Single" />
            <Setter Property="FrozenColumnCount" Value="8" />
            <Setter Property="MaxColumnWidth" Value="45" />
            <Setter Property="CanUserResizeColumns" Value="False" />
            <Setter Property="CanUserResizeRows" Value="False" />
        </Style>
        <Style TargetType="DataGridColumnHeader">
            <Setter Property="ToolTip" Value="" />
            <EventSetter Event="ToolTipOpening" Handler="DataGridColumnHeaderProfessions_ToolTipOpening" />
            <Setter Property="VerticalContentAlignment" Value="Bottom" />
            <Setter Property="HorizontalContentAlignment" Value="Center" />
            <Setter Property="ContentTemplate">
                <Setter.Value>
                    <DataTemplate>
                        <TextBlock Text="{Binding}" Margin="5">
                            <TextBlock.LayoutTransform>
                                <RotateTransform Angle="-90" />
                            </TextBlock.LayoutTransform>
                        </TextBlock>
                    </DataTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style TargetType="DataGridCell">
            <Setter Property="Background">
                <Setter.Value>
                    <MultiBinding Converter="{StaticResource CellBackgroundColorConverter}" Mode="OneWay">
                        <Binding Path="Row[4]" />
                        <Binding Path="Row[5]" />
                        <Binding RelativeSource="{RelativeSource Self}" Path="Column.Header" />
                    </MultiBinding>
                </Setter.Value>
            </Setter>
            <Setter Property="Foreground" Value="Black" />
            <Setter Property="Focusable" Value="{Binding Converter={StaticResource CellFocusableConverter}, RelativeSource={RelativeSource Self}, Path=Column.Header}"/>
            <EventSetter Event="PreviewMouseDown" Handler="DataGridCell_PreviewMouseDown" />
        </Style>
        <Style TargetType="DataGridRowHeader">
            <EventSetter Event="PreviewMouseLeftButtonDown" Handler="DataGridRowHeader_PreviewMouseLeftButtonDown" />
        </Style>
        <Style TargetType="Image">
            <Style.Triggers>
                <Trigger Property="IsEnabled" Value="False">
                    <Setter Property="Opacity" Value="0.25" />
                </Trigger>
            </Style.Triggers>
        </Style>
    </Window.Resources> 
```

如果我删除它，我现在在第 5 行出现错误，但下一个代码是我的样式，我可以悄悄地删除它，但它没有任何效果。

**我已将项目回滚**到工作版本，并在删除 app.config 时出现此错误

**UPD：**我的 MainWindow 构造函数的**工作**代码

```
public MainWindow()
{
    // При первом запуске выставляем культуру установленную в компе, при последующих - предыдущую
    // First run changing localization same like in computer
    if (Settings.Default.ProgramLanguage == "")
    {
        string lang = "en-US";
        if (CultureInfo.InstalledUICulture.TwoLetterISOLanguageName == "ru")
            if (File.Exists("ru-RU\\GnomeExtractor.resources.dll")) lang = "ru-RU";

        CultureManager.UICulture = new CultureInfo(lang);
        Settings.Default.ProgramLanguage = lang;
    }
    else
        CultureManager.UICulture = new CultureInfo(Settings.Default.ProgramLanguage);

    CultureManager.UICultureChanged += new EventHandler(CultureManager_UICultureChanged);
    resourceManager = new ResourceManager("GnomeExtractor.Resources.Loc", Assembly.GetExecutingAssembly());

    //if (!File.Exists("loclib.dll")) MessageBox.Show("File loclib.dll not found, please reinstall the program");
    //if (!File.Exists("Gnomoria.exe")) MessageBox.Show("File Gnomoria.exe not found, please install the program in game folder");

    InitializeComponent();

    UpdateLanguageMenus();

    //Загружаем настроечки с прошлого запуска
    //Loading settings
    this.WindowState = Settings.Default.LastRunWindowState;
    this.Left = Settings.Default.LastRunLocation.X;
    this.Top = Settings.Default.LastRunLocation.Y;
    this.Width = Settings.Default.LastRunSize.Width;
    this.Height = Settings.Default.LastRunSize.Height;
    this.isCheatsOn = Settings.Default.LastRunCheatMode;
    this.isLabelsVertical = Settings.Default.LastRunIsLablesVertical;
    this.tabControl.SelectedIndex = Settings.Default.TabItemSelected;
    this.isAutoUpdateEnabled = Settings.Default.IsAutoUpdateEnabled;

    ControlStates();
} 
```

**一点解释**：Language={UICulture} + 绑定到 {Resx 值} (XAML) 和 CultureManager 类（C# 代码）是用于本地化的库，使用 Resx 文件。
UpdateLanguageMenus() 和 ControlStates() 仅用于 IsEnable 控制。

删除这些文件后，我替换了所有 Settings.Default。到我的新设置类（使用 XML 序列化）并**添加了这段代码**

```
// Read settings from Xml file
settings.ReadXml(); 
```

**/UPD**

如果您需要更多信息，请向我询问。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T11:08:46.383

Woot，我发现了一个问题，这是一个很好的建议：[https ://stackoverflow.com/a/7857728/1808239](https://stackoverflow.com/a/7857728/1808239)

我的 settings.Fields.ProgramLanguage 为空，但不是“”

# c# - 如何为包含 ManualResetEvent.WaitOne() 的异步（套接字）代码编写单元测试？

> ID：13283480
> 
> 赞同：3
> 
> 时间：2012-11-08T06:11:04.633
> 
> 标签：c#, .net, unit-testing, sockets, tdd

我正在使用套接字服务器并尝试根据测试驱动开发模式工作。

套接字创建方法有一个工作测试，但我的测试挂起，因为我有一个 ManualResetEvent.WaitOne() 以便我的套接字在创建另一个连接之前等待连接。

这是要测试的代码块：

```
ManualResetEvent allDone = new ManualResetEvent(false);
public void StartListening()
{
    allDone.Reset();

    //Inform on the console that the socket is ready
    Console.WriteLine("Waiting for a connection...");

    /* Waits for a connection and accepts it. AcceptCallback is called and the actual
     * socket passed as AsyncResult
     */
    listener.BeginAcceptTcpClient(
        new AsyncCallback(AcceptCallback),
        listener);

    allDone.WaitOne();
} 
```

这是挂在“networkChannel.StartListening();

```
[TestMethod]
public void NetworkChannel_IsAcceptingConnectionsAsynchronously()
{
    ITcpClient client = MockRepository.GenerateMock<ITcpClient>();
    ITcpListener listener = MockRepository.GenerateMock<ITcpListener>();
    IAsyncResult asyncResult = MockRepository.GenerateMock<IAsyncResult>();

    listener.Expect(x => x.BeginAcceptTcpClient(null, null)).IgnoreArguments().Return(asyncResult);
    listener.Expect(x => x.EndAcceptTcpClient(asyncResult)).Return(client);

    NetworkChannel networkChannel = new NetworkChannel(listener);

    networkChannel.StartListening();
    //Some more work... fake callback etc., verfify expectations,...
} 
```

如果我评论所有的手动重置事件，测试通过就好了，但这不是解决方案，因为服务器尝试不断创建重复的套接字；-)

对我有什么提示吗？将不胜感激！

问候，马丁

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T08:38:24.747

问题是，你想准确地测试什么？

如果测试只是期望`StartListening`调用该方法`listener.BeginAcceptTcpClient`，那么最简单的解决方案是`ManualResetEvent`在 SUT 中注入和模拟您的同步对象 ()，就像您使用具有非阻塞模拟的侦听器所做的那样。

当您想测试阻塞时，您必须在测试中启动另一个线程，*然后在经过一段**安全*的等待时间后调用`listener.BeginAcceptTcpClient`ManualResetEvent 信号- 比如说两秒钟 - 但这甚至可能还不够，所以您的测试结果可能不是确定性的格热戈兹评论道。

 *线程和单元测试可能会变得有些复杂。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-08T07:38:19.907

**编辑：**

这里微妙的是`StartListening`方法阻塞，所以我原来的方法不起作用，因为我们不能简单地等待它完成后再继续，但我们不能安全地继续，直到我们知道`NetworkChannel`已经开始收听。

解决方案是让通道在启动时提供一些通知。我可以想到几个选项：

给出`NetworkChannel`以下内容：

```
public delegate void OnStartupComplete();
public event OnStartupComplete StartupComplete; 
```

在`StartListening`之前的方法中`allDone.WaitOne();`：

```
if (this.StartupComplete != null)
{
    StartupComplete();
} 
```

通过以下方式设置事件的位置：

```
ManualResetEvent resetEvent = new ManualResetEvent(false);
NetworkChannel networkChannel = new NetworkChannel();
networkChannel.StartupComplete += () => { resetEvent.Set(); };
networkChannel.StartListening();

resetEvent.WaitOne(); 
```

**编辑2：**

这种方法（以及下面的方法）仍然存在阻塞`StartListening`调用阻止其执行之后的任何内容的问题 - 例如对`resetEvent.WaitOne();`. 我认为你最好的选择是`StartListening`在另一个线程中运行它的代码。结合`StartupComplete`事件，我们应该得到我们想要的：网络通道在监听时通知我们，并`resetEvent`确保在它监听之前我们不会做任何事情。

从单元测试的角度来看，使用另一个线程可能不是不可取的，但我认为从设计的角度来看它更可取：`StartListening`当我们超出单元测试时，像这样阻塞很可能会带来不便。

为此，您可以在您的`StartListening`方法中执行以下操作：

```
public void StartListening()
{
    ThreadPool.QueueUserWorkItem((object state) => 
    {
        allDone.Reset();

        //Inform on the console that the socket is ready
        Console.WriteLine("Waiting for a connection...");

        /* Waits for a connection and accepts it. AcceptCallback is called and the
        * actual socket passed as AsyncResult
        */
        listener.BeginAcceptTcpClient(new AsyncCallback(AcceptCallback), listener);

        if (this.StartupComplete != null)
        {
            StartupComplete();
        }

        allDone.WaitOne();
    });
} 
```

* * *

或者，您可以简单地修改`StartListening`方法以将 a`ManualResetEvent`作为参数，并`Set`在`allDone.WaitOne();`. 您可以通过以下方式进行设置：

```
ManualResetEvent resetEvent = new ManualResetEvent(false);
NetworkChannel networkChannel = new NetworkChannel();
networkChannel.StartListening(resetEvent);

resetEvent.WaitOne(); 
```*

# javascript - JQM：$.mobile.changepage 未加载外部 .JS 文件

> ID：13283483
> 
> 赞同：1
> 
> 时间：2012-11-08T06:11:17.143
> 
> 标签：javascript, html, mobile, jquery-mobile

尝试在使用 $.mobile.changepage() 加载的页面中加载外部 JS 文件时，我遇到了一个奇怪的问题。

以下是我的目录结构：

```
|_ /html
| |_ conflist.html
| |_ 新页面.html
|_ /常见
| |_ jquery-1.7.2.min.js
| |_ jquery.mobile-1.2.0.min.js
| |_ jquery.mobile-1.2.0.min.css
|_ /平台
    |_ dummy.js

```

以下是 conflist.html 和 newpage.html 的代码。

首先，conflist.html：

```
<!DOCTYPE HTML>
<html>
<head>
    <title>ConferenceToGo</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" /> 
    <link rel="stylesheet" href="../common/jquery.mobile-1.2.0.min.css" />
    <script type="text/javascript" charset="utf-8" src="../common/jquery-1.7.2.min.js"></script>
    <script type="text/javascript" charset="utf-8" src="../common/jquery.mobile-1.2.0.min.js"></script>
    <script type="text/javascript" charset="utf-8">
        function changePage() {
            $.mobile.changePage("newpage.html", { transition: "slide" });
        }
    </script>
</head>
<body>
<div id="firstpage" data-role="page">
    <div data-role="content">
        <input type="button" onclick="changePage()" value="Change Page (JQM)" /><br />
    </div><!-- /content -->

</div><!-- /page -->

</body>
</html> 
```

接下来，newpage.html：

```
<!DOCTYPE HTML>
<html>
<head>
    <title>ConferenceToGo</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" /> 
    <link rel="stylesheet" href="../common/jquery.mobile-1.2.0.min.css" />
    <script type="text/javascript" charset="utf-8" src="../common/jquery-1.7.2.min.js"></script>
    <script type="text/javascript" charset="utf-8" src="../common/jquery.mobile-1.2.0.min.js"></script>
</head>
<body>
<div id="newpage" data-role="page">
    <script type="text/javascript" charset="utf-8" src="../platform/dummy.js"></script>
    <script type="text/javascript" charset="utf-8">
        console.log("Inside test_newpage.html");
        var objDummy = new Dummy();
        objDummy.toString("test param");
    </script>
    <div data-role="content">
        <p>This is a new page !!</p>
    </div><!-- /content -->

</div><!-- /page -->

</body>
</html> 
```

最后，dummy.js：

```
var Dummy = function () { };
Dummy.prototype.toString = function (param) {
    console.log("String representation of 'Dummy', got param: " + param);
};

console.log("Loaded dummy.js"); 
```

问题：

*   如果我加载 conflist.html（直接使用 FF16.0.2 和 IE9，而不是通过网络服务器），然后单击按钮，我会收到一条错误消息：“ReferenceError: Dummy is not defined”。本质上，不读取 dummy.js。
*   If I move dummy.js to the same folder as the html files, and modify the path accordingly in newpage.html, things work fine and I get all the outputs.

Wondering, why do I see this behavior? Why isn't the external js file loaded when it is placed in another folder and the relative path is given?

Update: I checked and this also works if I put dummy.js in a subfolder inside the html folder. Just can't have it outside it seems, unless I am missing something.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T14:05:04.190

try to put your `<script src="../platform/dummy.js"></script>`into the head instead of the body... and: you do not need `type="text/javascript" charset="utf-8"`anymore...

```
<head>
    <title>ConferenceToGo</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" /> 
    <link rel="stylesheet" href="../common/jquery.mobile-1.2.0.min.css" />
    <script src="../platform/dummy.js"></script>
    <script src="../common/jquery-1.7.2.min.js"></script>
    <script src="../common/jquery.mobile-1.2.0.min.js"></script>
</head> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-08T20:27:40.803

Change your relative URLs to absolute ones. This will make sure you are referencing the correct file every time.

Your external page would look like this for example:

```
<!DOCTYPE HTML>
<html>
<head>
    <title>ConferenceToGo</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" /> 
    <link rel="stylesheet" href="/base/common/jquery.mobile-1.2.0.min.css" />
    <script type="text/javascript" charset="utf-8" src="/base/common/jquery-1.7.2.min.js"></script>
    <script type="text/javascript" charset="utf-8" src="/base/common/jquery.mobile-1.2.0.min.js"></script>
</head>
<body>
<div id="newpage" data-role="page">
    <script type="text/javascript" charset="utf-8" src="/base/platform/dummy.js"></script>
    <script type="text/javascript" charset="utf-8">
        console.log("Inside test_newpage.html");
        var objDummy = new Dummy();
        objDummy.toString("test param");
    </script>
    <div data-role="content">
        <p>This is a new page !!</p>
    </div><!-- /content -->

</div><!-- /page -->

</body>
</html> 
```

Where `/base/` is a top-level directory on your domain.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-09-03T16:19:14.040

I think the reason might be the relative path of your js. I found that if you are using $.mobile.changePage(); only contents in the target page between the will be loaded, which means all the header content in target page will be ignored/not loaded. And when you reference js in the on your target page, the relative path should be base on the target html. and the "../" seems not working in this case.

# android - 如何在android中跟踪来电的位置

> ID：13283484
> 
> 赞同：0
> 
> 时间：2012-11-08T06:11:17.320
> 
> 标签：android

我想在android编程中跟踪来电的位置。我不知道android中是否有任何api..如果有人有一些知识，请与我分享...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T06:17:09.617

尝试解析电话号码。
每个国家都以国家代码开头，依此类推...

# css - 如何删除选项卡功能中的水平滚动条

> ID：13283487
> 
> 赞同：2
> 
> 时间：2012-11-08T06:11:22.733
> 
> 标签：css, twitter-bootstrap, tabs, scrollbar

我正在研究 twitter-Bootstrap。网页运行得很完美，但是突然间我不知道为什么会出现水平滚动条。有谁知道如何删除滚动条。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-08T06:26:54.290

在 Bootstrap.min.css 中

换行：9 与

```
 .tab-content  
    {
    overflow:hidden;
    } 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-08T06:13:09.463

只需将此样式赋予`.tab-content`：

```
.tab-content {overflow-x: hidden;} 
```

# android - 从android中的本机相机获取模糊图像

> ID：13283491
> 
> 赞同：1
> 
> 时间：2012-11-08T06:11:38.133
> 
> 标签：android

我正在从设备的本机摄像头捕获图像并使用 imageview 在另一个活动中显示它。问题是在 OnActivityResult 方法中我得到的位图是模糊的。我想获得原始大小图像的位图。有人可以帮我吗？ ？提前谢谢。这是我的代码，我在其中获取 onActivityResult 方法中的位图并将其保存到 sd 卡。图像从 sd 卡变得模糊。

```
 camera.setOnClickListener(new View.OnClickListener() {

        @Override
        public void onClick(View v) {

            try {
                Intent mIntent=new Intent(android.provider.MediaStore.ACTION_IMAGE_CAPTURE);
                startActivityForResult(mIntent, CAMERA_PIC_REQUEST);
                WookAtMeStaticVariables.retakePic=false;
            } catch (Exception e) {

                clickmessage="OnClickevent Exception"+e.getMessage();
                showAlertDialogForCameraClickException(TakePic.this);

            }

        }
    });

        @Override
protected void onActivityResult(int requestCode, int resultCode, Intent data) {

    try {
        if (requestCode == CAMERA_PIC_REQUEST && resultCode==RESULT_OK)

        {

               imageBitmap=(Bitmap)data.getExtras().get("data");
               imageBitmap = Bitmap.createScaledBitmap (imageBitmap,750,750, false);
               File file = new File(Environment.getExternalStorageDirectory(),"WookAtMepic"+System.currentTimeMillis()+".jpg");
               WookAtMeStaticVariables.mImageFilePath=file.getAbsolutePath();

               OutputStream outStream = null;
               try {
                    outStream = new FileOutputStream(file);
                    imageBitmap.compress(Bitmap.CompressFormat.JPEG, 100, outStream);
                    outStream.flush();
                    outStream.close();
                   }

                   catch(Exception e)
                   {
                       e.printStackTrace();
                   }

            Intent afterTakePicIntent= new Intent(TakePic.this,AfterTakePic.class);
            startActivity(afterTakePicIntent);

            }

    } catch (Exception e) {

        resultMessage="OnResultevent Exception"+e.getMessage();
        showAlertDialogForCameraResultException(TakePic.this);
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T18:54:31.590

它很容易被忽略，但您从 ACTION_IMAGE_CAPTURE 收到的图像将是一个小位图，除非您指定[EXTRA_OUTPUT](http://developer.android.com/reference/android/provider/MediaStore.html#EXTRA_OUTPUT)。[请参阅此处](http://developer.android.com/reference/android/provider/MediaStore.html#ACTION_IMAGE_CAPTURE)的注释。这样做的原因是，全尺寸图像可能会非常大，大约为几 MB，并且像在 Intent-extra 中那样传递这么多的数据是有问题的。

因此，您需要将临时文件的存储 URI 传递给它（或者您可以发布自己的内容提供程序），然后调整它的大小。

# html - 如何为 TBODY 应用垂直滚动条

> ID：13283492
> 
> 赞同：1
> 
> 时间：2012-11-08T06:11:42.033
> 
> 标签：html, css

我在表中有 4 列和 5 行数据。我必须为 TBODY 应用垂直滚动条，TH 标题内容不应该滚动。

我对场景进行了编码，它工作正常，直到我将滚动类应用于 TBODY。一旦我将滚动样式类应用于 TBODY，它就会破坏之前的对齐方式。任何人都可以帮助解决这个问题.. 进步谢谢

```
 <table class="banker-list">
            <colgroup><col width="40%"><col width="23%"><col width="24%"><col width="13%"></colgroup>
            <thead>
                <tr>
                    <th><p class="fieldLabel">Banker<span class="requiredFieldIndicator">*</span></p></th>
                    <th><p class="fieldLabel">High Balance (<span class="seg-hb">30</span>)</p></th>
                    <th><p class="fieldLabel">High Potential (<span class="seg-hp">60</span>)</p></th>
                    <th><p class="fieldLabel">Core (<span class="seg-core">10</span>)</p></th>
                </tr>
            </thead>
            <tbody class="bankerScroll">
                <tr>
                    <td><input class="banker-name" name="send-to-banker" id="banker_0" type="checkbox"> <label for="banker_0">JOHN</label></td>
                    <td><input name="banker_0_segment" disabled="disabled" type="checkbox"></td>
                    <td><input name="banker_0_segment" disabled="disabled" type="checkbox"></td>
                    <td><input name="banker_0_segment" disabled="disabled" type="checkbox"></td>
                </tr>
                <tr class="oddRow">
                    <td><input class="banker-name" name="send-to-banker" id="banker_1" type="checkbox"> <label for="banker_1">JOHN</label></td>
                    <td><input name="banker_1_segment" disabled="disabled" type="checkbox"></td>
                    <td><input name="banker_1_segment" disabled="disabled" type="checkbox"></td>
                    <td><input name="banker_1_segment" disabled="disabled" type="checkbox"></td>
                </tr>
                <tr>
                    <td><input class="banker-name" name="send-to-banker" id="banker_2" type="checkbox"> <label for="banker_2">JOHN</label></td>
                    <td><input name="banker_2_segment" disabled="disabled" type="checkbox"></td>
                    <td><input name="banker_2_segment" disabled="disabled" type="checkbox"></td>
                    <td><input name="banker_2_segment" disabled="disabled" type="checkbox"></td>
                </tr>
                <tr class="oddRow">
                    <td><input class="banker-name" name="send-to-banker" id="banker_3" type="checkbox"> <label for="banker_3">JOHN</label></td>
                    <td><input name="banker_3_segment" disabled="disabled" type="checkbox"></td>
                    <td><input name="banker_3_segment" disabled="disabled" type="checkbox"></td>
                    <td><input name="banker_3_segment" disabled="disabled" type="checkbox"></td>
                </tr>
                <tr>
                    <td><input class="banker-name" name="send-to-banker" id="banker_4" type="checkbox"> <label for="banker_4">JOHN</label></td>
                    <td><input name="banker_4_segment" disabled="disabled" type="checkbox"></td>
                    <td><input name="banker_4_segment" disabled="disabled" type="checkbox"></td>
                    <td><input name="banker_4_segment" disabled="disabled" type="checkbox"></td>
                </tr>
            </tbody>
        </table>

TABLE {
    border-collapse: collapse;
    width: 100%;
}
P, TABLE {
    font-family: Verdana;
    text-align: left;
}
.dataRow {
    margin-bottom: 5px;
    margin-top: 5px;
}
.fieldLabel {
    color: #000000;
    font-size: 85%;
    font-weight: bold;
}
.bankerScroll {
    display:block;overflow:auto;height:100px;white-space:nowrap;
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-08T06:37:35.413

这是一个工作示例：

[http://www.imaputz.com/cssStuff/bigFourVersion.html](http://www.imaputz.com/cssStuff/bigFourVersion.html)

您必须将 display:block 添加到 thead > tr 和 tbody

# blackberry - 更新的应用程序版本未出现在 BlackBerry AppWorld 中

> ID：13283496
> 
> 赞同：0
> 
> 时间：2012-11-08T06:12:12.217
> 
> 标签：blackberry, blackberry-jde, blackberry-webworks, appworld

我的问题是，在黑莓设备上，在 Appworld 中，我的应用程序显示旧版本，但是当我在 PC 上打开 Appworld 时，它显示新版本 - 反映了所有更改请求。我该怎么做才能让人们获得适用于他们设备的更新版本？

我在 5 天前将我的应用程序上传到 AppWorld，其中还包括对描述的一些更改。一切都被批准了。

我有两个版本的应用程序，一个用于 BlackBerry OS pre-5.0，另一个用于 BlackBerry OS 5.0 及更高版本。但我犯了一个错误。在为 BlackBerry OS pre-5.0 选择最低操作系统版本和支持的设备时，我选择了所有设备。我认为这导致了我的问题。此后，我更改了 BlackBerry OS pre-5.0 的设备选择。我为 BlackBerry OS 5.0+ 选择了一些设备，并为 BlackBerry OS pre-5.0 选择了其他设备。

# android - 在 Android 上保存文本文件以供用户稍后访问的位置

> ID：13283497
> 
> 赞同：1
> 
> 时间：2012-11-08T06:12:15.040
> 
> 标签：android, air

我将在哪里保存用户以后可以在 Android 上轻松访问的文本文件？

我正在使用 Adob​​e AIR，这是一个重要说明，它有一些预定义的文件路径：

```
var fileLocation:String = "my_file.txt";
file = File.applicationStorageDirectory.resolvePath(fileLocation);
file = File.applicationDirectory.resolvePath(fileLocation);
file = File.desktopDirectory.resolvePath(fileLocation);
file = File.documentsDirectory.resolvePath(fileLocation);
file = File.userDirectory.resolvePath(fileLocation);
file = new File(fileLocation); 
```

注意：这里有一个相关问题 [1]，但它使用 Android 特定的 API。如果这是最好的位置，那很好，但是对于 AIR 来说，这就是我正在寻找的东西（就像上面代码中的等效位置一样）。

假设其中一条路径指向适当或可接受的位置。你会把那个文件放在一个子目录中吗？

[1] [Android - 将文本文件保存到哪里？](https://stackoverflow.com/questions/12581273/android-where-to-save-text-files-to)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T07:16:35.217

File.userDirectory 和 File.documentsDirectory 都保存到 SD 卡的根目录，这可能是最好的起点。您可能希望添加与您的应用程序同名的另一个目录以帮助用户找到它。

# javascript - 从 html 视图调用 Get 函数

> ID：13283499
> 
> 赞同：0
> 
> 时间：2012-11-08T06:12:24.537
> 
> 标签：javascript, get

我有返回部分视图的 javascript 代码。

```
var url1="";
 $.get(url1, { 'id': Gid }, function (result) {
 $("#abcd").html(result);   
  }); 
```

查看返回是

```
<div id="goalReport">
</div>

<script type="text/javascript">

   function LoadReport() {
   }
  </script> 
```

我想在我编写的 get 函数成功时调用负载报告函数。

我如何调用负载报告函数而不是将其附加到我尝试过的 div abcd 中

```
result.LoadReport 
```

但它不工作

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T06:14:45.390

```
$.get(url1, { 'id': Gid }, LoadReport); 
```

这是你想要的吗？对不起，我没有完全理解你的问题

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-08T06:14:54.213

您在 javascript 中定义的所有内容都在同一个上下文中。它不像 C# 或其他一些语言，虽然你有范围定义，甚至你可以有命名空间。因此，您可以简单地将代码更改为：

```
var url1="";

$.get(url1, { 'id': Gid }, function (result) {

     //If the result contains the HTML code you mentioned you should append it to the document
     //and browser will initialize the script tag and everything inside it (So you MUST append the script tag to be initiated). So you can call the 
     //function whenever the script tag is loaded. Because you didn't use the src attribute to 
     // reference a javascript file, I think you can call the function on the next line, after
     // appending the element.

     $(result).appendTo(document.body);    

      LoadReport();

   }
); 
```

但是，还有另一种方法，您可以通过某些 RegEx 或字符串函数找到脚本内容并调用该`"eval"`函数并对其进行初始化，而无需将 html 代码附加到文档中。我自己不推荐这种方式，因为它是一个错误的想法，它可能会导致你一些愚蠢的例外。

希望它可以帮助干杯

# php - MySQL 更新命令不起作用

> ID：13283501
> 
> 赞同：0
> 
> 时间：2012-11-08T06:12:35.230
> 
> 标签：php, mysql, ios, xcode

我一直在尝试通过 php 从 iOS 获取 mysql 条目。但是，xcode 的模拟器拒绝更新这些值。我的格式正确吗？（澄清一下，数据库名称是“login”，两个 prog 变量是整数（不必有不同的格式是吗？））

```
<?php
$prog= $_GET['prog'];
$prog1= $_GET['prog1'];
$dbh = new PDO('(censored)');
$sql = "UPDATE login SET oneam = $prog, twelvefif = $prog1 WHERE username = 'hello'"; 
$q = $dbh->prepare( $sql );
$q;
?> 
```

或在 xcode 中...

```
NSString *urlString = [NSString stringWithFormat:@"(censored)?prog=%@&prog1=%@", prog, prog1]; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T21:36:54.833

为了安全起见，你必须用单引号括起你的变量，如果变量有一个整数没问题，否则你必须使用单引号。

我知道您正在使用准备好的语句，并且可以处理此问题，但无论如何您都可以尝试。

```
$sql = "UPDATE login SET oneam = '$prog', twelvefif = '$prog1' WHERE username = 'hello'"; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-08T06:21:59.023

改变 -

```
$prog= $_GET['prog'];
$login = "hello";
$prog= $_GET['prog1']; 
```

至

```
$prog= $_GET['prog'];
$login = "hello";
$prog1= $_GET['prog1']; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-08T21:40:04.027

为避免 sql 注入问题，您应该将变量强制转换为`int`或绑定准备好的语句中的变量（首选...）：

```
$prog = (int) $_GET['prog'];
$prog1 = (int) $_GET['prog1']; 
```

除此之外，您必须实际执行准备好的语句，仅准备它是不够的：

```
$q = $dbh->prepare( $sql );
$q->execute(); 
```

# asp.net - 将json字节数组图像转换为c#列表

> ID：13283503
> 
> 赞同：0
> 
> 时间：2012-11-08T06:12:47.490
> 
> 标签：asp.net, json, image, web-services, bytearray

JSON字符串：

```
 { "Result": 
           [
                { "food_photo":255,216,255,224,0,16,74,70,73,70,0,1.....4,255,217],
                  "qty":"12",
                  "time":"23",
                  "cost":null
                }
           ]
   } 
```

我的问题：如何转换`food_photo`成列表？

仅供参考：我`public byte[] food_photo`在课堂上使用，但是当我执行我的列表时它显示为 null。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T10:21:27.980

尝试将 food_photo 反序列化为字符串并使用 string.split 方法

```
string deserializedFoodPhoto = "255,216,255,224,0,16,74,70,73,70,0,4,255,217";
var photoInList = deserializedFoodPhoto.Split(',').Select(i => byte.Parse(i)).ToList(); 
```

# html - 在新的 DIV HTML 标记中导入现有的 CSS 类

> ID：13283513
> 
> 赞同：1
> 
> 时间：2012-11-08T06:13:47.573
> 
> 标签：html, css, class, stylesheet

可以说有

```
.myButtonClass{
/*#style;*/
} 
```

现在我有了新的

```
<div id="myid"> 
```

一种方法是我可以拥有

```
<div id="myid" class="myButtonClass"> 
```

如果在我的 CSS 中我想将这个类分配给 div

```
div.myid{
/* assign existing class */
.myButtonClass
} 
```

这该怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T06:15:28.657

***[现场演示](http://tinkerbin.com/tbPwQA81)***

嗨，如果您申请或在**Div**中，您现在习惯于**两者** `ID`或`Class`在**Css中**`ID``Class`

 ****像这样**

```
#myid.myButtonClass{
// style here
} 
```

**HTML**

```
<div id="myid" class="myButtonClass">
// Some text here 
</div> 
```

**有关**多个的** **更多信息**`Class`或`id` ***[单击此处](http://css-tricks.com/multiple-class-id-selectors/)*****

 *****[现场演示](http://tinkerbin.com/tbPwQA81)***

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-08T06:17:22.433

用这个..

```
 div#myid.myButtonClass{
   //your code should be here 
} 
```

使用也可以使用这个。

```
 div#myid{
   //your code should be here
 }

div.myButtonClass{
   //your code should be here
 } 
```

您可以使用任何一种关于代码。这两件事的不同之处在于，第一件事是`highly specified the particular div.`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-08T06:28:45.953

如果没有第三方，你不能这样做，使用 LESS ( [http://lesscss.org/](http://lesscss.org) ) 或 Sass ( [http://sass-lang.com/](http://sass-lang.com/) )****

# e-commerce - 下订单后 Magento 自动电子邮件发送给用户

> ID：13283515
> 
> 赞同：2
> 
> 时间：2012-11-08T06:13:48.760
> 
> 标签：e-commerce, magento-1.7, magento, email-confirmation

我正在研究magento。通过结帐流程下订单后，如何启用自动电子邮件发送选项？

我只希望当用户从我的网站下订单时，应向包含订单详细信息的用户电子邮件地址发送一封自动电子邮件。

我使用了销售->订单->电子邮件发送过程，但需要在用户下订单后自动执行此过程。

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-08T08:15:00.467

Magento 会自动发送新的订单电子邮件 - 这是默认系统的配置。

首先，检查是否未禁用发送电子邮件。转到管理面板到“系统 -> 配置 -> 销售 -> 销售电子邮件 -> 订单”部分。验证那里，“启用”设置为“是”。

如果启用了发送，则需要调试应用程序以查找实际原因。最简单的方法是设置[XDebug](http://xdebug.org/)并在方法的开头放置一个断点`Mage_Checkout_Model_Type_Onepage::saveOrder()`。然后您可以逐步执行 PHP，直到您到达该`$order->sendNewOrderEmail();`行。确保执行此行。如果不是 - 找出原因，为什么，因为这是一种非标准行为。如果执行了该行，但未发送电子邮件，则跟踪此调用以查找原因。

希望能帮助到你。

# android - 有没有针对印度的支付网关？

> ID：13283522
> 
> 赞同：8
> 
> 时间：2012-11-08T06:14:30.387
> 
> 标签：android, payment-gateway, credit-card

我正在为我的应用程序寻找一个支付网关来集成。我的应用程序是为印度设计的，所以我需要向用户提供付款过程的借记和贷记销售。

我尝试使用 PayPal Express Checkout，但它仅支持 PayPal 帐户和信用卡。

有没有安卓的网关。请分享您的信息。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-08T06:18:04.973

CCAvenue 在这里被广泛使用。在他们的网站上查看它们：

[http://www.ccavenue.com/ccavenue_index.jsp](http://www.ccavenue.com/ccavenue_index.jsp)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-08T06:45:17.310

你可以试试[zooz](http://www.zooz.com/)。
现在甚至谷歌也允许[在印度开设商家账户](http://android-developers.blogspot.in/2012/10/google-play-seller-support-in-india.htm)

[http://developer.android.com/guide/google/play/billing/index.html](http://developer.android.com/guide/google/play/billing/index.html)

# javascript - jQuery 验证引擎 动态字段验证

> ID：13283523
> 
> 赞同：1
> 
> 时间：2012-11-08T06:14:32.363
> 
> 标签：javascript, jquery, jquery-validation-engine

我正在使用 jQuery 验证引擎进行字段验证

在页面加载时，已经有可用的字段，并且验证对它们来说是正确的，但是有一些按钮可以动态添加字段，并且这些验证显然不起作用:) 我尝试再次初始化实例，但它不起作用。

有没有一种方法可以手动将验证实例添加到我动态添加的那些字段

编辑：抱歉忘了提，我正在使用这个插件 [http://www.position-relative.net/creation/formValidator/index.html](http://www.position-relative.net/creation/formValidator/index.html)

谢谢，莫

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T06:18:30.513

这篇文章对我帮助很大：http: [//xhalent.wordpress.com/2011/01/24/applying-unobtrusive-validation-to-dynamic-content/](http://xhalent.wordpress.com/2011/01/24/applying-unobtrusive-validation-to-dynamic-content/)

您应该验证一个在其中动态添加元素的容器

# codeigniter - Codeigniter 打印查询结果

> ID：13283530
> 
> 赞同：1
> 
> 时间：2012-11-08T06:14:56.950
> 
> 标签：codeigniter

简单的问题，但我不知道为什么它不能正确打印或按预期工作。我在模型中有这个（有效，因为当我 print_r($result) 它显示数据时：

```
function get_latest_entries()
{
    $query = $this->db->get('property');
    return $query->result_array();
} 
```

对于控制器：

```
public function index()
{
    $resultSet['properties'] = $this->propertymodel->get_latest_entries();
    $this->load->view('home', $resultSet);
} 
```

在视图中，我想遍历数组（表有描述、城市、地址列）：

```
<?php
foreach($resultSet as $item)
{
    echo $item->city;
    echo $item->description;
}
?> 
```

我在主页上获得两条记录，其中显示结果如上：

> 严重性：通知消息：未定义变量：resultSet 文件名：views/home.php 行号：16

和

> 严重性：警告消息：为 foreach() 提供的参数无效 文件名：views/home.php 行号：16

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-08T06:36:56.403

使用`$properties`而不是`$resultSet`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-08T06:36:40.177

使用这个...您正在传递`$properties`给您的视图，而不是`$resultSet`..

```
<?php
       foreach($properties as $item) // use properties
       {
        echo $item->city;
        echo $item->description;
       }
    ?> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-08-01T10:20:03.050

这是您的代码中的问题。-您已将数据作为数组数组返回，并且您正尝试作为对象访问，-第二个是，您已将属性变量传递给查看，并且您正在访问结果集。-所以这是您的代码，其中包含错误

```
<?php
foreach($resultSet as $item)
{
    echo $item->city;
    echo $item->description;
}
?> 
```

-您的代码的正确版本在这里...

```
<?php
foreach($properties as $item)
{
    echo $item['city'];
    echo $item['description'];
}
?> 
```

# objective-c - NSWindow 在单击之前没有响应

> ID：13283531
> 
> 赞同：0
> 
> 时间：2012-11-08T06:15:04.863
> 
> 标签：objective-c, cocoa, drag-and-drop, nswindow

我有一个图像编辑器窗口。拖动事件后，我将窗口最小化为左下角的缩影，然后在缩影上放回窗口。在微型图上方，我将光标更改为`operationNotAllowedCursor`。

问题是：`NSWindow`在第一个之后不改变缩影上的光标`draggingEntered`（在第二个之后一切都很好）。此外，在微型 NSWindow 上放置后，在单击它的任何区域之前不会收到任何事件。

最小化窗口的代码（在 NSWindow 子类中）：

```
-(void)minimize
{        
    const double miniSize = 240;
    MSDraggingMiniature *mini = [[MSDraggingMiniature alloc] init];
    [mini setMiniImage:[[MSScreenMaker getInstance] makeEditorScreen:(int)[self windowNumber]]];

    _mainContentView = self.contentView;
    _oldFrame = [self frame];
    [self setStyleMask:NSBorderlessWindowMask];
    self.contentView = mini;
    NSRect drect = [[self screen] frame];
    double width, height;
    if (self.frame.size.width < self.frame.size.height) {
        height = miniSize;
        width = self.frame.size.width / self.frame.size.height * miniSize;
    } else {
        width = miniSize;
        height = self.frame.size.height / self.frame.size.width * miniSize;
    }
    _anima = MSEditorResizeAnimationMinimize;
    [self setFrame:NSMakeRect(drect.origin.x + 20, drect.origin.y + 20 , width, height) display:YES animate:YES];
}
-(void)deminimize
{
    self.contentView = _mainContentView;
    [self setStyleMask:NSTitledWindowMask];
    _anima = MSEditorResizeAnimationDeminimize;
    [self setFrame:_oldFrame display:YES animate:YES];

    [self makeKeyWindow];
    [self makeMainWindow];
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T11:44:30.890

经过大量变体后，我找到了答案。看起来像拖动源一样的区域必须只是`NSView`，而不是`NSButton`我的子类。

我重写了我的 Dragging Source 类 - 现在一切正常。

# c++ - 使用位运算符的算术运算符

> ID：13283540
> 
> 赞同：6
> 
> 时间：2012-11-08T06:15:33.053
> 
> 标签：c++, c

**有没有办法只**使用按位运算符来执行加法（或算术运算）？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-08T06:18:50.027

您可以搜索算术运算符的一些硬件设计。例如，您可以找到全加器、半加器、然后是波纹进位加法器、进位保存加法器、进位超前加法器。然后，您可以生成大量代码以使用按位运算符来执行这些算术运算。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-08T06:24:17.053

添加*位*a、b 和 c

```
carry_out = b&c|a&b|a&c;  // there's a carry, if at least 2 bits are set
sum = a^b^c;              // the sum is the number of set bits modulo 2 
```

必须对字中的所有位执行此操作 - 首先使用 carry_in = c = 0 对位 0 执行此操作，然后迭代到 carry_in(next_bit) = carry_out(previous_result)。

减法发生在将 (ab) 中的 b 位反转并将*初始**进*位设置为 1 时。

 *但是，如果必须并行添加例如 32 个数字，则可以将 'a' 与所有这些数字的 32 lsb 相匹配并并行执行二进制运算。这是一种称为*位切片*的技术。

对于乘法 CSA（进位保存加法器绝对是最好的软件方法——它的“面积”最小）

作为练习，这是一个并行计算 a+b(+c) 的算法：

```
int a = 13113;
int b = 43334;
int c =     1;

int main()
{
   int sum=a^b^c,c2;
   c=((c&a)|(a&b)|(c&b))<<1;
   while (c) {
     c2=(c&sum)<<1;
     sum^=c;
    c=c2;
   }
   printf("%d\n",sum);
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-08T06:31:48.893

注意`bitwise`运算符 in`C`只适用于`integral operands`not on`arithmetic operands`

是的，您可以将其`bitwise`用于所有操作`(+,-,*,/,%)`

例如

```
int a =10;
a<<1; // it's multiplication : a*2
a>>1; //it's division : a/2 
```

我只展示了这个`2`。您可以使用`FULL ADDER` `(SUM and CARRY functios)`任意数量的位来添加两个整数*

# javascript - Javascript秒表以2的幂递增

> ID：13283541
> 
> 赞同：0
> 
> 时间：2012-11-08T06:15:36.993
> 
> 标签：javascript, timer

我的简单秒表有以下代码，它只计算秒数而没有任何格式：

```
function countDown(from, interval, callback) {
   interval = interval || 1000;
   var current = 0;
   var onCount = function() {
      current++;
      if (current <= from) {
         callback(current, from);
         setInterval(onCount, interval);
      }
   }

   onCount();
} 
```

这是通过 onclick 调用的，代码如下：

```
countDown(600, 1000, function(current, from) {
   time_out.innerHTML = current;
}); 
```

放入console.log(current)，我可以看到两个问题。首先，虽然它确实遍历了每个数字，但它似乎变得越来越快，以 2 的幂为单位。在输出 div 中，第一个刻度为 1，第二个刻度为 2，第三个刻度为 4，第四个刻度为 8，依此类推。此外，当它达到 600 时，它实际上并没有停止计数，即使它停止更新 div。我在这里做错了什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-08T06:19:36.093

您使用[`setInterval`](https://developer.mozilla.org/en-US/docs/DOM/window.setInterval)which 将在每次调用函数时以设定的时间间隔调用回调，从而导致许多调用`countDown()`

也许您想改用该[`setTimeout`函数](https://developer.mozilla.org/en-US/docs/DOM/window.setTimeout)，它只会在延迟后调用该函数一次。

# unit-testing - 不同的 Jersey 测试容器有什么区别？

> ID：13283542
> 
> 赞同：2
> 
> 时间：2012-11-08T06:15:40.470
> 
> 标签：unit-testing, jersey

根据[http://jersey.java.net/nonav/apidocs/latest/jersey/jersey-test-framework/jersey-test-framework-core/com/sun/jersey/test/framework/JerseyTest.html](http://jersey.java.net/nonav/apidocs/latest/jersey/jersey-test-framework/jersey-test-framework-core/com/sun/jersey/test/framework/JerseyTest.html)用户可以选择两种测试容器之间：

1.  不支持 servlet 的低级容器
2.  支持 servlet 的基于 Web 的容器

我有以下问题：

1.  每种容器的优点/缺点是什么？例如，我假设低级容器更快，但缺少某种功能。
2.  低级容器不支持 servlet 是什么意思？我认为 JAX-RS 是基于 Servlet 之上的。低级容器不能做什么？

**更新**：

经过进一步研究，我发现低级容器速度更快，但它们确实在没有 servlet 的情况下运行。当客户端发出请求时，将构建适当的资源并将响应传递回客户端，所有这些都在内存中。这类似于运行嵌入式数据库与传统的基于网络的 JDBC 连接。

没有提供 ServletContextListener、注册 servlet 或过滤器的机制。我猜也不支持请求范围。

我的问题是，你真的能在这些限制下测试任何有意义的东西吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-21T15:43:10.113

“……你真的能在这些限制下测试任何有意义的东西吗……”

您可以测试您的业务逻辑，并且做得更快。

（希望看到这个修复：[JERSEY-622](http://java.net/jira/browse/JERSEY-622?page=com.atlassian.jira.plugin.system.issuetabpanels%3Aall-tabpanel)。内存中的测试容器不支持 Jackson，即 Jersey 的 POJO 映射功能。）

# shell - 制作一个菜单驱动的界面，可以读取文件列表并删除它们

> ID：13283545
> 
> 赞同：0
> 
> 时间：2012-11-08T06:16:02.187
> 
> 标签：shell, unix

我正在开发一个 shell 脚本，它是一个菜单驱动的界面。其中一个选项要求用户输入可选文件或目录的列表，然后代码将在检查它们是否为有效文件和目录后将其删除。代码的目标是理解菜单驱动的界面。

我的问题是读取文件和目录名称列表。似乎 sh 不支持数组。这个问题的解决方案是什么？

```
2) echo "enter the name of files want to be deleted: "
read files
.
.
;; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T07:12:49.627

```
2) echo "enter the name of files want to be deleted"
    read a

for CHARACTER in $a ; do
if [ -f $CHARACTER -o -d $CHARACTER ] ; then
      rm -ir $CHARACTER
else
echo "$CHARACTER is not a valid file or directory"
fi
done
     ;; 
```

# jquery - JQuery：修改 SVG 元素尺寸

> ID：13283549
> 
> 赞同：0
> 
> 时间：2012-11-08T06:16:25.617
> 
> 标签：jquery, html, svg

我在 HTML 中嵌入了一个 svg 标签。下面的代码什么都不做：

```
var svg = $('svg');
svg.attr({
    width: "300px", 
    height: "300px"
}); 
```

事实上，我也无法在 CSS 中修改它的大小。我管理的唯一方法是在 html 本身中设置宽度和高度属性：

```
<svg 
    width="300px"
    height="300px"
    xmlns="http://www.w3.org/2000/svg" 
    xmlns:xlink="http://www.w3.org/1999/xlink" 
    xmlns:ev="http://www.w3.org/2001/xml-events"
></svg> 
```

我应该如何更改 SVG 区域的大小？我需要一个 JQuery SVG 插件吗？（请提供示例代码）。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T09:09:48.287

我建议您在例如[jsfiddle.net](http://jsfiddle.net)上发布您正在做的事情的示例。

无论如何，您并不需要 jQuery 来执行此操作。[这是一个](http://xn--dahlstrm-t4a.net/svg/html/inline-transition-size.html)使用 CSS 过渡来更改鼠标悬停的内联 svg 片段的宽度和高度属性的示例。

猜测是，如果更改不会影响您的 svg 片段，那么您有一些 CSS 会覆盖这些更改。

# objective-c - 使用 NSPredicate 的位置之间的距离

> ID：13283559
> 
> 赞同：1
> 
> 时间：2012-11-08T06:17:24.643
> 
> 标签：objective-c, ios, core-data, nspredicate, cllocation

所以我有一个`Core Data`包含经度和纬度的实体作为`NSNumbers`. 我希望`NSFetchRequest`'s`Predicate`根据数据库位置中的对象与我当前位置的距离进行过滤。这需要我将存储的坐标转换为 CLLocationDegrees，然后将它们放入一个`CLLocation`对象中。最后，我可以与`CLLocation` `distanceFromLocation`.

我尽我所能地表达了这一点，有没有人有任何想法我可以用一个来做到这一点`NSPredicate`？

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-08T08:46:52.277

尝试基于块的谓词：

```
CLLocationDistance maxDistance = 100.0;
CLLocation *currentLocation = ...;

NSPredicate *predicate = [NSPredicate predicateWithBlock:^BOOL(id location, NSDictionary *bindings) {
    return [location distanceFromLocation:currentLocation] <= maxDistance;
}]; 
```

# recursion - 方案“应用程序：不是程序；” 计算导数时

> ID：13283564
> 
> 赞同：2
> 
> 时间：2012-11-08T06:17:42.333
> 
> 标签：recursion, functional-programming, scheme, derivative

我是 Scheme 的新手，正在执行一项实现随机梯度下降的任务。到目前为止，我相信我的程序结构是正确的，但是我的程序采用函数 f(x) 的导数给我带来了一些麻烦。在代码底部的“try”循环中，我递归调用`(try (func-eval guess))`where`(func-eval guess)`计算函数局部最小值的下一个猜测，公式为***x - alpha*f'(x)*** where alpha = 0.1。

我在计算导数时似乎遇到了错误...我正在使用 Dr.Racket IDE，它突出显示了以下行有问题： `(f (+ x dx))`...这是我本地导数过程中的第二行：

```
(define (local-minimal first-guess)

;A way to check a guess
(define(good-enough? val1 val2)
(<(abs(- val1 val2)) 0.00001))

; x_new = x_old - alpha*f'(x)    /// f(x)=(x+1)^2+2  //// alpha = 0.1
(define (func-eval x)
  (- x (* 0.1((derivative (+ 2(expt (+ x 1) 2)) 0.00001)x))))

  (define (derivative f dx)
  (lambda (x)
    (/ (- (f (+ x dx)) (f x))
       dx)))

; trys the guess
(define (try guess)
  (if (good-enough? guess -1)
      guess
      (try (func-eval guess))))
(try first-guess)) 
```

我收到一条错误消息：

```
application: not a procedure;
 expected a procedure that can be applied to arguments
  given: 3
  arguments...:
   -1.99999 
```

这是语法错误吗？我认为我可以通过使用`(f (+ x dx))`... 来表示 f(x+dx)。这是否意味着我需要在括号中的 f 之前放置一个运算符？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-08T07:30:18.563

突出显示和错误消息一起告诉您一些有用的信息：该事物`derivative`正在接收，因为它的第一个参数`f`不是一个函数，它需要被调用 in `(f (+ x dx))`。论据从何而来？我们可以运行 DrRacket 的调试器，但是在这里我们可以只看代码——唯一`derivative`调用的地方是 的第一行`func-eval`，所以我们必须在这里传递一个数字而不是一个函数。果然，`(+ 2 (expt (+ x 1) 2))`(with `x`bound) 只是一个数字，尝试应用它会出错。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-08T14:09:52.010

调用时`derivative`，第一个参数必须是*函数*。在下面的过程调用中，第一个参数中的表达式被计算为一个数字，而不是一个函数：

```
(derivative (+ 2 (expt (+ x 1) 2)) 0.00001) 
```

要修复它，请将表达式打包在 a`lambda`中，使其成为实际函数：

```
(derivative (lambda (x) (+ 2 (expt (+ x 1) 2))) 0.00001) 
```

# objective-c - 有什么方法可以访问 iTunes 库来设置闹钟铃声？

> ID：13283565
> 
> 赞同：0
> 
> 时间：2012-11-08T06:17:44.097
> 
> 标签：objective-c, ios

有什么方法可以访问 iTunes 库来设置闹钟铃声？

我正在构建一个警报应用程序。我认为当我的应用程序在后台时我们可以使用本地通知，但它不能播放音乐库的声音。因此，当应用程序处于前台时，我还想播放音乐库中的声音和我的应用程序包中的歌曲。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T06:28:49.463

您可以使用`MPMusicPlayerController`. 为此，您需要包含`MediaPlayer.framework`框架和`<MediaPlayer/MediaPlayer.h>`头文件。

您将使用此委托方法获得选择的音乐 url（为此，您需要`MPMediaPickerControllerDelegate`在 @interface 中添加）：

```
- (void)mediaPicker: (MPMediaPickerController *)mediaPicker didPickMediaItems:(MPMediaItemCollection *)mediaItemCollection
{
} 
```

有关详细说明，请参阅本[教程](http://oleb.net/blog/2009/07/the-music-player-framework-in-the-iphone-sdk/)。

# android - 如何禁用gridview的overscolling？

> ID：13283566
> 
> 赞同：1
> 
> 时间：2012-11-08T06:17:44.177
> 
> 标签：android, gridview, overscroll

我有一个使用 GridView 的 Android 应用程序。
当用户进行垂直滚动时，此 gridview 会自动滚动。我不能使用`setOverScrollMode(...)`，因为它的最低 sdk 版本是 2.2.(Api 8)。

如何禁用 GridView 的 overscolling？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-15T13:44:41.860

你能做到以下几点：

```
if(Build.VERSION.SDK_INT >= Build.VERSION_CODES.GINGERBREAD){
                    mListView.setOverScrollMode(ListView.OVER_SCROLL_NEVER);

            } 
```

但缺点是如果你在listview上添加一个headerview，当你fling时headerview往往会反弹回来。我想知道如何避免这种情况。

# asp.net - 如何在 AJAX 中显示状态描述？

> ID：13283570
> 
> 赞同：4
> 
> 时间：2012-11-08T06:18:18.933
> 
> 标签：asp.net, jquery

我有一个使用 jQuery AJAX 保存数据的页面。在服务器端，如果保存过程失败，我想将 Response 对象的 StatusDescription 设置为“Hey this is Patrick!”。问题是，我无法在客户端显示 StatusDescription！它总是给我“内部服务器错误”。如何显示我的自定义错误消息？

保存.ashx

```
Catch ex As Exception
    Transaction.Rollback()
    context.Response.StatusCode = 500
    context.Response.StatusDescription = "Hey this is Patrick!"
End Try 
```

AJAX

```
$.ajax
({
    type: 'POST',
    url: 'Save.ashx',
    data: data,
    async: false,
    success: function(Data, TextStatus, XHR) {
        alert(Data);
    },
    error: function(XHR, TextStatus, ErrorThrown) {
        alert(ErrorThrown);
    }
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T06:24:09.877

使用 XHR.responseText 然后看看是什么错误。
这是关于 jQuery Call
[jQuery Ajax 错误处理的错误的一个很好的链接，显示自定义异常消息](https://stackoverflow.com/questions/377644/jquery-ajax-error-handling-show-custom-exception-messages)

```
$.ajax
({
    type: 'POST',
    url: 'Save.ashx',
    data: data,
    async: false,
    success: function(Data, TextStatus, XHR) {
       alert(Data);
     },
     error: function(XHR, TextStatus, ErrorThrown) {
       alert(XHR.responseText);
     }
 }); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-08T06:22:19.193

相反，我会在服务器的响应表单中返回一个字符串消息，然后你可以在你的`error`函数中使用它。

# asp.net-mvc-4 - 更改asp.net mvc 4模型中的验证触发顺序

> ID：13283571
> 
> 赞同：6
> 
> 时间：2012-11-08T06:18:23.520
> 
> 标签：asp.net-mvc-4, client-side-validation, validation

这是我的具有属性 OldPassword 的模型

```
 [Required]
 [StringLength(16, ErrorMessage = "The Old Password must be at least 8 characters long.", MinimumLength = 8)]
 [RegularExpression("^(?=.*[a-z])(?=.*[A-Z]).+$", ErrorMessage = "Old Password is Not a valid Password")]
 [Display(Name = "Old Password")]
 public string OldPassword { get; set; } 
```

这是渲染的输出

```
<input class="inputsmall defaultFocus input-validation-error" data-val="true" 
data-val-length="The Old Password must be at least 8 characters long." 
data-val-length-max="16" data-val-length-min="8" 
data-val-regex="Old Password is Not a valid Password" 
data-val-regex-pattern="^(?=.*[a-z])(?=.*[A-Z]).+$" 
data-val-required="The Old Password field is required." id="OldPassword" maxlength="16" name="OldPassword" style="width: 295px;" type="password"> 
```

当前的验证触发顺序是

*   必需的
*   正则表达式
*   长度

我想将订单更改为

*   必需的
*   长度
*   正则表达式

我用谷歌搜索了很多，找不到任何直接的解决方案。请帮我解决一下这个。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-11-16T22:59:55.960

您可以创建一个继承自 DataAnnotationsModelValidatorProvider 的自定义类，并覆盖其中的 GetValidators 方法并将其注册为您的 ModelValidator。在覆盖的方法中，您可以根据需要对验证器进行排序。

```
public class OrderedAnnotationsModelValidatorProvider : DataAnnotationsModelValidatorProvider
{
    public override IEnumerable<ModelValidator> GetValidators(ModelMetadata metadata, ControllerContext context)
    {
        return base.GetValidators(metadata, context).OrderBy(v => v.SomeProperty).AsEnumerable();
    }
} 
```

要使用您的`OrderedAnnotationsModelValidatorProvider`，您必须将其注册到 Global.asax.cs 中的 ModelValidatorProviders 的 ModelValidatorProvidersCollection。

```
ModelValidatorProviders.Providers.Add(new OrderedAnnotationsModelValidatorProvider()); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-10T14:54:32.273

我尝试了 Jani 给出的解决方案，但由于 GetValidator 是密封的，因此无法编译。

如果您遇到这种情况下需要多次和有序的验证，而不是弯曲框架，您应该简单地创建自己的自定义验证属性。

使用命名参数，您最终可以得到一个非常方便的自定义验证，如下所示：

```
[NameValidation(isRequired: true, requiredErrorMessage: "Merci de renseigner votre nom.",
malformedErrorMessage: "Votre nom n'est pas valide.", minLength: 1, maxLength: 100)] 
```

# javascript - javascript google api：将地理编码与坐标相结合

> ID：13283572
> 
> 赞同：0
> 
> 时间：2012-11-08T06:18:25.610
> 
> 标签：javascript, jquery, google-maps, google-maps-api-3

如何将地理编码与已知坐标相结合？可以说，我想显示坐标数组中的标记。

```
function codeAddress()
{
    var latlng = new google.maps.LatLng(42.745334, 12.738430);
    var address = document.getElementById("location").value;

    geocoder.geocode( { 'address': address}, function(results, status) {
        if (status == google.maps.GeocoderStatus.OK) {

            var mapOptions = {
            zoom: 11,
            center: results[0].geometry.location,
            mapTypeId: google.maps.MapTypeId.ROADMAP
            }

        map = new google.maps.Map(document.getElementById("map_canvas"), mapOptions);

            var marker = new google.maps.Marker({
                map: map,
                position: results[0].geometry.location,
                icon: image_icon
            });

        }           

    });

} 
```

所以我有一个值的纬度坐标和地址，我如何将这两者结合到地图中？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T06:31:09.090

```
function codeAddress()
{

    // The following sets up your array.  Most likely you will retrieve the data 
    // from elsewhere, so this is just meant as an illustration.
    var coords = [];        
    coords.push({lat:100,long:200, caption:'yo'});
    coords.push({lat:150,long:250, caption:'yo yo'});
    coords.push({lat:200,long:250, caption:'yo ho ho'});

    var address = document.getElementById("location").value;

    geocoder.geocode( { 'address': address}, function(results, status) {
        if (status == google.maps.GeocoderStatus.OK) {

            var mapOptions = {
            zoom: 11,
            center: results[0].geometry.location,
            mapTypeId: google.maps.MapTypeId.ROADMAP
            }

                       map = new google.maps.Map(document.getElementById("map_canvas"), mapOptions);

            var marker = new google.maps.Marker({
                map: map,
                position: results[0].geometry.location,
                icon: image_icon
            });

            var myLatlng;

            // loop through all the elements in the array, and add markers for each to the map object you've already created.
            for (i=0;i<coords.length;i++){ 
                myLatlng = new google.maps.LatLng(coords[i].lat,coords[i].lng);
                marker = new google.maps.Marker({
                    position: myLatlng,
                    map: map,
                    title:coords[i].caption
                });
            }                

        }    

    });

} 
```

​</p>

# java - 如何定义或引用将在视图中使用的模型类的属性

> ID：13283579
> 
> 赞同：0
> 
> 时间：2012-11-08T06:18:36.907
> 
> 标签：java, oop, model-view-controller

我想让开发人员必须定义要在视图中显示的“模型”类的属性。

我曾想过使用枚举作为解决方案，但我认为不可能在超类（接口）中定义枚举。

如果我的描述不清楚，我很抱歉。有点难以解释。我会尝试用一个具体的案例来解释。

动物.java

```
public interface Animal {
    public void eat();
} 
```

鸟.java

```
public class Bird implements Animal
{
    private String name;
    private int age;
    private Beak beak;
    private Wings wings;

    public Bird(String name, int age, Beak beak, Wings wings)
    {
        this.name = name;
        this.age = age;
        this.beak = beak;
        this.wings = organ;
    }

    //getter setter..

    @Override
    public void eat() {
        //eating
    }
} 
```

Snake.java

```
public class Snake implements Animal
{
    private String name;
    private int age;
    private Fang fangs;

    public Snake(String name, int age, Fang fangs)
    {
        this.name = name;
        this.age = age;
        this.fangs = fangs;
    }

    //getter setter..

    @Override
    public void eat() {
        //eating
    }
} 
```

动物园.java

```
public class Zoo 
{
    private ArrayList<Bird> birds = new ArrayList<Bird>();
    private ArrayList<Snake> snakes = new ArrayList<Snake>();
    private ArrayList<Object?> birdsShownFeatures = new ArrayList<Object?>();
    private ArrayList<Object?> snakesShownFeatures = new ArrayList<Object?>();

    public Zoo()
    {
        birds.add(new Bird("Vulture", 2, new CrookedBeak(), new WideWing()));
        birds.add(new Bird("Whatever", 3, new WhateverBeak(), new WhateverWing()));
        birds.add(new Bird("Wut", 4, new WutBeak(), new WutWing()));

        snakes.add(new Snake("Cobra", 5, new TwinFang()));
        snakes.add(new Snake("Whatever", 5, new WhateverFang()));
        snakes.add(new Snake("Wut", 5, new WutFang()));

        birdsShownFeatures.add(new Object?("name"));
        birdsShownFeatures.add(new Object?("beak"));
        birdsShownFeatures.add(new Object?("wings"));

        snakesShownFeatures.add(new Object?("name"));
        snakesShownFeatures.add(new Object?("fangs"));
    }

    public void showOff()
    {
        for(Bird bird:birds)
        {
            for(Object? object:birdsShownFeatures)
            {
                System.out.println("Bird: "+bird.unknownFunction(object));
            }
        }

        for(Snake snake:snakes)
        {
            for(Object? object:snakesShownFeatures)
            {
                System.out.println("Snake: "+snake.unknownFunction(object));
            }
        }
    }
} 
```

我必须概括Animal（Object？）的子类的属性。而且我必须能够定义一个函数来检索该属性（unknownFunction）。

换句话说，我希望能够轻松定义动物子类的某些属性，并能够进行相应的处理。

完美（不真实？）示例：

```
public class Zoo {
    private ArrayList<Bird> birds = new ArrayList<Bird>();
    private ArrayList<Snake> snakes = new ArrayList<Snake>();
    private ArrayList<Object> birdsShownFeatures = new ArrayList<Object>();
    private ArrayList<Object> snakesShownFeatures = new ArrayList<Object>();

    public Zoo()
    {
        birds.add(new Bird("Vulture", 2, new CrookedBeak(), new WideWing()));
        birds.add(new Bird("Whatever", 3, new WhateverBeak(), new WhateverWing()));
        birds.add(new Bird("Wut", 4, new WutBeak(), new WutWing()));

        snakes.add(new Snake("Cobra", 5, new TwinFang()));
        snakes.add(new Snake("Whatever", 5, new WhateverFang()));
        snakes.add(new Snake("Wut", 5, new WutFang()));

        birdsShownFeatures.add(Bird.NAME);
        birdsShownFeatures.add(Bird.BEAK);
        birdsShownFeatures.add(Bird.WINGS);

        snakesShownFeatures.add(Snake.NAME);
        snakesShownFeatures.add(Snake.FANGS);
    }

    public void showOff()
    {
        for(Bird bird:birds)
        {
            for(Object object:birdsShownFeatures)
            {
                System.out.println("Bird: "+bird.get(object));
            }
        }

        for(Snake snake:snakes)
        {
            for(Object object:snakesShownFeatures)
            {
                System.out.println("Snake: "+snake.get(object));
            }
        }
    }
} 
```

枚举无法工作，因为我无法**强制**开发人员在每次创建实现 Animal 的类时进行实现接口的特定枚举。

蛇和鸟的**属性**都必须能够**泛化**。但还是定义了。让每个属性都实现一个特定的接口不是一种选择，因为让所有需要的类（包括本机）实现一个接口将是一个痛苦。

对不起，如果它太混乱了。我不知道如何正确解释这个案例。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T06:47:12.423

您可以使用反射和泛型。这是您问题的答案，但我认为这是一个糟糕的选择。

使用您的表格示例（请参阅评论），我将使用类似泛型`Table<T>`的`getRow()`方法和返回行的方法（对于`Bird`: `"Vulture", 2, "CrookedBeak", "WideWing"`），如果最终开发人员想要不同类型的行，他可以覆盖您`getRow`的其他内容。另一种选择是在表构造函数中接受 a `Function<T, Row>`（参见[google guava functions](http://code.google.com/p/guava-libraries/wiki/FunctionalExplained)）

* * *

快速和肮脏的示例通用和反射代码示例：

## 抽象动物

```
import java.lang.reflect.Field;
import java.lang.reflect.Modifier;
import java.util.ArrayList;
import java.util.List;

public abstract class AbstractAnimal<T extends Enum<T>> {
    private List<T> selectedFields = new ArrayList<T>();

    public AbstractAnimal(Class<T> clazz)
    {
        if (clazz != null) {
            Field[] fields = clazz.getDeclaredFields();
            for (Field field : fields) {
                if (Modifier.isStatic(field.getModifiers()) && 
                    Modifier.isPublic(field.getModifiers())) {
                    this.selectedFields.add(Enum.valueOf(clazz, field.getName()));
                }
            }
        }
    }

    public abstract void eat();

    public List<T> getSelectedFields()
    {
        return this.selectedFields;
    }

    public Object get(T name)
    {
        if (name == null) {
            return null; 
        }

        try {
            final Class<?> clazz = this.getClass();
            final Field declaredField = clazz.getDeclaredField(name.name().toLowerCase());
            if (declaredField != null) {
                declaredField.setAccessible(true);
                return declaredField.get(this);
            }
        } catch (IllegalAccessException ex) {
            // ignore
        } catch (NoSuchFieldException e) {
            // ignore
        } catch (SecurityException e) {
            // ignore
        }
        return null;
    }
} 
```

## 鸟

```
public class Bird extends AbstractAnimal<Bird.Fields> {

    public static enum Fields {
        NAME, AGE, BEAK, WINGS
    }

    private String name;

    private int age;

    private String beak;

    private String wings;

    public Bird(String name, int age, String beak, String wings)
    {
        super(Fields.class);
        this.name = name;
        this.age = age;
        this.beak = beak;
        this.wings = wings;
    }

    // getter setter..

    @Override
    public void eat()
    {
        // eating
    }
} 
```

## 动物园

```
package com.foo;

import java.util.ArrayList;

public class Zoo {
    private ArrayList<Bird> birds = new ArrayList<Bird>();

    public Zoo()
    {
        birds.add(this.buildBird("Vulture", 2, "CrookedBeak", "WideWing"));
        birds.add(this.buildBird("Whatever", 3, "WhateverBeak", "WhateverWing"));
        birds.add(this.buildBird("Wut", 4, "WutBeak", "WutWing"));
    }

    public void showOff()
    {
        for(Bird bird:birds)
        {
            for (final Bird.Fields selectedField : bird.getSelectedFields()) {
                System.out.println("bird: " + bird.get(selectedField));
            }
        }
    }

    private Bird buildBird(String name, int age, String beak, String wings) 
    {
        Bird result = new Bird(name, age, beak, wings);
        result.getSelectedFields().remove(Bird.Fields.AGE);
        return result;
    }

    public static void main(final String[] args) {
        Zoo z = new Zoo();
        z.showOff();
    }
} 
```

* * *

## 输出

```
bird: Vulture
bird: CrookedBeak
bird: WideWing
bird: Whatever
bird: WhateverBeak
bird: WhateverWing
bird: Wut
bird: WutBeak
bird: WutWing 
```

# c# - 查询与 Windows Phone 7 编码有关

> ID：13283589
> 
> 赞同：1
> 
> 时间：2012-11-08T06:19:38.370
> 
> 标签：c#, .net, visual-studio-2010, windows-phone-7

我已经从 Codeproject.com 下载了 GPS 代码。我想跟踪我当前的位置。在codeproject代码中，它能够找到位置，但我必须在我的代码中输入纬度和经度，这是硬编码的。

我希望这在代码中动态发生。

例如：- 如果我输入代码纬度 = 19.1767；经度 = 73.0222; 然后这将带我去孟买。但是要跟踪他的当前位置，用户不会进入代码并输入纬度和经度。它怎么能动态发生？请帮忙..

感谢和问候哈西卜谢赫

# ios - XCode/iOS：setToolbarHidden:animated 创建新的不需要的工具栏？

> ID：13283590
> 
> 赞同：1
> 
> 时间：2012-11-08T06:19:42.973
> 
> 标签：ios

我正在尝试实现与这篇文章的用户类似的东西：

[Xcode/iOS：如何在向下滚动时隐藏导航和工具栏？](https://stackoverflow.com/questions/10180446/xcode-ios-how-to-hide-navigation-and-toolbar-on-scroll-down)

我可以使用以下代码成功隐藏（或使用 NO 取消隐藏）导航栏：

```
[[self navigationController] setNavigationBarHidden:YES animated:YES]; 
```

但是，当我尝试使用代码隐藏工具栏时：

```
[[self navigationController] setToolbarHidden:YES animated:YES]; 
```

没发生什么事。然后我注意到在取消隐藏工具栏时我收到了一个我没有意识到存在的额外蓝色工具栏。此屏幕截图显示了这一点：

[截屏](https://dl.dropbox.com/u/11692691/host/iOS%20Simulator%20Screen%20shot%20Nov%207,%202012%2010.54.36%20PM.png)

我不要蓝色的吧。我想要做的是隐藏或取消隐藏带有图标的黑色工具栏。（UITabBar）。

我认为我需要做的是我需要以某种方式访问​​父视图控制器之一的导航控制器并在该视图的导航控制器上调用 setToolbarHidden。但是，我似乎无法弄清楚如何做到这一点。

我尝试了以下方法，但似乎都没有效果：

```
[[[self parentViewController] navigationController] setToolbarHidden:YES animated:YES];

or

[[[[[[UIApplication sharedApplication] delegate] window] rootViewController] navigationController] setToolbarHidden:YES animated:YES]; 
```

我的视图控制器故事板包括以下内容：

InitialViewController 是一个 TabBarViewController。它包含三个孩子。其中一个孩子是 UINavigationController。这个导航控制器将几个 UITableViewController 推送到它上面，最终推送了一个 UIViewController。最后一个 UIViewController 就是屏幕截图中看到的。

粗略的布局：

*   TabBarViewController
    *   UIViewController
    *   UITableViewController
    *   UINavigationController
        *   UITableViewController
            *   UITableViewController
                *   UITableViewController
                    *   UIViewController

我试过使用

```
[self parentViewController] parentViewController] parentViewController] ... 
```

试图回到顶端，但这似乎也没有奏效。

有什么建议么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T06:36:49.577

我认为这里的问题可能与`UITabBarController`没有`UIToolbar`. 该`setToolbarHidden:`方法仅适用于`UINavigationController`的*内置*工具栏（[请参阅 Apple 的文档](http://developer.apple.com/library/ios/#documentation/uikit/reference/UINavigationController_Class/Reference/Reference.html)）。如果它`UITabBarController`是您真正想要隐藏的标签栏，请查看[这篇文章，它链接到`UIView`直接](https://stackoverflow.com/a/1996944/1166029)在`UITabBar`.

# python - Brew 无法链接 jpeg

> ID：13283591
> 
> 赞同：2
> 
> 时间：2012-11-08T06:19:48.587
> 
> 标签：python, python-imaging-library, homebrew

当我尝试在我的 osx lion 上安装 PIL 时出现此错误 -

*“在安装 pil 之前，您必须‘brew link jpeg’”*

所以我遵循了那个指示，但是又得到了另一个错误——

*“正在链接 /usr/local/Cellar/jpeg/8d ... 警告：无法链接 jpeg。取消链接 ... 错误：无法符号链接文件：/usr/local/Cellar/jpeg/8d/bin/wrjpgcom 目标 /usr /local/bin/wrjpgcom 已存在。您可能需要将其删除。要强制链接并删除此文件，请执行以下操作："*

我在网站上找到了一个帖子 - [https://superuser.com/questions/402032/brew-link-jpeg-issues](https://superuser.com/questions/402032/brew-link-jpeg-issues) - 但没有解决我的问题。谁能告诉我如何解决这个问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-02T23:55:48.637

从你自己的链接，我学会了尝试

```
brew cleanup 
```

然后我可以根据需要链接。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-02-20T05:54:37.300

我遇到了和你完全一样的问题，我需要一个小时才能解决它。尝试

```
brew link jpeg 
```

它会给你一些提示，比如

```
"Linking /usr/local/Cellar/jpeg/8d... Warning: Could not link jpeg. Unlinking... Error: Could not symlink file: /usr/local/Cellar/jpeg/8d/bin/wrjpgcom Target /usr/local/bin/wrjpgcom already exists. You may need to delete it. To force the link and delete this file, do:" 
```

你需要删除它。未清理的文件...

完成几次删除工作后，您会发现未清理的文件存储在

```
/usr/local/Cellar/jpeg/8d/bin/ 
```

只需删除目录下的所有文件。

```
rm -rf /usr/local/Cellar/jpeg/8d/bin/* 
```

那么，你的环境就基本干净了。尝试

```
brew install PIL 
```

它应该工作。但它还没有完成。你会发现安装后出现一些错误信息：PIL 的链接出现问题。取消链接...尝试

```
brew link PIL 
```

如果它有效，那么一切都完成了。您的 PIL 安装良好。但如果您使用虚拟环境，您可能希望创建一个指向您的 venv 的软链接。

```
ln -s /usr/local/Cellar/pil/1.1.7/lib/python2.7/site-packages/PIL  /Users/nan/social_master/socialvenv/lib/python2.7/site-packages/PIL 
```

希望它有帮助！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-08T06:23:11.893

从堆栈溢出站点本身得到这个..

确保你有 homebrew 和 pip，然后运行：

```
brew install libjpeg 
pip install pil 
```

而且我忘了提到如果上面的命令不能解决问题，请执行此操作

> 确保您没有使用 GCC 4.0。这意味着您现在需要让 MySQLdb 工作的 .bash_profile 文件中的那些导出行需要消失。
> 
> 获取（http://www.ijg.org/files/jpegsrc.v7.tar.gz）并执行通常的 ./configure && make && make install （或自述文件所说的任何内容）。
> 
> 在安装 PIL 之前但在安装 libjpeg 之后，将 setup.py 文件中的“JPEG_ROOT = None”行更改为“JPEG_ROOT = libinclude(“/usr/local”)”</p>

之后，您可以通过 pip 或 easy_install 重新安装 PIL。确保删除上次运行的所有编译内容。

# c# - EF代码中具有一个子实体的多个父实体

> ID：13283595
> 
> 赞同：0
> 
> 时间：2012-11-08T06:20:06.807
> 
> 标签：c#, entity-framework, parent-child

有两个实体`Post`和`Photo`。两者都有一个`comment`实体的集合。

有没有办法避免下面写的（必须为实体中的**每个**父级`mapping`定义**一个**属性）？**`Comment`**

 **```
public class Post
{
    public string Title {get; set;}
    public ICollection<Comment> Comments{get; set; }
}

public class Photo
{
    public string Path{get;set;}
    public ICollection<Comment> Comments{get; set; }
}

public class Comment
{
    public int? PostId{get;set;}
    public Virtual Post Post{get;set;}

    public int? PhotoId{get;set;}
    public Virtual Photo Photo{get;set;}
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-08T06:25:36.397

你可以这样做，

```
public class PostBase{
    public ICollection<Comment> Comments{get; set; }
}

public class Post:PostBase
{
    public string Title {get; set;}

}

public class Photo:PostBase
{
    public string Path{get;set;}

}

public class Comment
{
    public int? PostBaseId{get;set;}
    public Virtual PostBase PostBase{get;set;}

} 
```**

# asp.net - 无法加载文件或程序集“AjaxControlToolkit”或其依赖项之一

> ID：13283597
> 
> 赞同：0
> 
> 时间：2012-11-08T06:20:11.257
> 
> 标签：asp.net

无法加载文件或程序集“AjaxControlToolkit”或其依赖项之一。此程序集由比当前加载的运行时更新的运行时构建，无法加载。将我的应用程序上传到服务器后，我收到此错误。相同的应用程序在 local.i 上运行良好。我使用过 vs 2010,asp.net 相同的

# android - 如何使用xmlpullparser解析android中的汉字

> ID：13283598
> 
> 赞同：0
> 
> 时间：2012-11-08T06:20:11.723
> 
> 标签：android, xmlpullparser

当我想使用 xmlpullparser 解析带有一些汉字的 xml 文件时，我对 android 开发有疑问，但结果显示了一些问号符号。我对此一无所知。我在google找到了一些结果，通过添加utf-8字符串解决。但是，它似乎不适用于我的程序，任何人都可以帮助我吗？？：（

```
protected ArrayList<ExerciseList> doInBackground(String... urls) {
        ArrayList<ExerciseList> exercises =null;
                try
                {
                    URL url = new URL("http://.../viewexercise_test.xml");
                    ExerciseList_parser exerciselist_parser = new ExerciseList_parser();
                    InputStream is = url.openStream();
                    Reader reader = new InputStreamReader(is,"UTF-8");

                    exerciselist_parser.parse(is);
                    exercises = exerciselist_parser.getExercise();
                }
                catch(Exception e)
                {
                    System.out.print(e);
                }

        return exercises;

     } 
```

以下是解析器代码

```
public void parse(InputStream in) throws XmlPullParserException, IOException {
        try {
            XmlPullParser parser = Xml.newPullParser();
            parser.setFeature(XmlPullParser.FEATURE_PROCESS_NAMESPACES, false);
            parser.setInput(in, "utf-8");
            parser.nextTag();
            readFeed(parser);

        } finally {
            in.close();

        }
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T06:36:11.443

我可以看到您正在使用 Pull Parser 但我认为您在调用 utf 时弄错了

好吧，这是我使用 DOM 的代码，但逻辑仍然存在

```
HttpResponse response = client.execute(request);
... // probably some other code to check for HTTP response status code
HttpEntity responseEntity = response.getEntity();
String xml = EntityUtils.toString(responseEntity, HTTP.UTF_8); 
```

你确定它是**utf-8**并且你试过 URLDecoder.decode

# asp.net-mvc-4 - ASP.net MVC4 路由

> ID：13283605
> 
> 赞同：2
> 
> 时间：2012-11-08T06:20:54.047
> 
> 标签：asp.net-mvc-4

关于如何制作用户 URL 的任何提示

例如 [http://www.example.com/username](http://www.example.com/username)

将在 ASP.net MVC4 上显示一个包含用户配置文件的动态页面。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-08T09:07:25.137

这应该可以完成你的工作，

```
public class RouteConfig
{
    public static void RegisterRoutes(RouteCollection routes)
    {
        routes.IgnoreRoute("{resource}.axd/{*pathInfo}");

        routes.MapRoute(
            "UserProfile",
            "{username}",
            new { controller = "User", action = "Index", username = string.Empty }
        );

        routes.MapRoute(
            "Default",
            "{controller}/{action}/{id}",
            new { controller = "Home", action = "Index", id = UrlParameter.Optional }
        );
    }
}

public class UserController : Controller
{
    public ActionResult Index(string username)
    {
        return View();
    }
} 
```

说到用户个人资料页面，我认为您应该花一些时间在 Stackoverflow 上更新您的个人资料详细信息；）

欢迎来到 Stackoverflow！

**延伸阅读：**

*   [ASP.NET MVC 中针对 www.website.com/users/jeffAtwood 等 URL 的用户路由](https://stackoverflow.com/questions/13207043/user-routing-in-asp-net-mvc-for-urls-like-www-website-com-users-jeffatwood)
*   [像 StackOverflow 中那样的 ASP.NET MVC 用户路由？](https://stackoverflow.com/questions/3000547/asp-net-mvc-user-routing-like-that-in-stackoverflow)

# c# - WP7 同步网页请求

> ID：13283607
> 
> 赞同：5
> 
> 时间：2012-11-08T06:21:07.243
> 
> 标签：c#, .net, windows-phone-7

我正在开发一个 Windows Phone 7.1 应用程序，并尝试实现逻辑删除。

由于法律原因，我无法保存我的视图模型。我只保存加密的会话 ID，它可用于从远程服务器加载视图模型数据。

在恢复时，我需要验证会话 ID，如果它已过期 - 我将用户带到我的应用程序的登录页面，如果它仍然可以，我从服务器重新加载视图模型数据。

问题是 HttpWebRequest 缺少阻塞 API。此外，在去墓碑后的 page.OnNavigatedTo 方法内部，[这里描述](https://stackoverflow.com/a/10262218/126995)的方法永远阻塞。

我通过展示我自己的启动画面解决了这个问题。

但是，我宁愿在系统提供的“Resuming...”初始屏幕可见时完成这些 RPC 调用，即在我从 page.OnNavigatedTo 方法返回之前。

任何想法如何在去墓碑后在 page.OnNavigatedTo 内同步完成 HTTP 请求？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T06:36:27.257

更新：另一种选择是使用[Reactive Extensions](http://www.silverlightplayground.org/post/2011/03/30/Using-a-new-pattern-to-call-the-network-with-Reactive-Extensions.aspx)。

如果您使用的是 VS2010，则可以安装[AsyncCTP](http://www.microsoft.com/en-us/download/details.aspx?id=9983)，并且当您执行此操作时，会添加一个扩展方法，允许您等待响应。

```
static async Task<Stream> AsynchronousDownload(string url)
  {
    WebRequest request = WebRequest.Create(url);
    WebResponse response = await request.GetResponseAsync();
    return (response.GetResponseStream());
  } 
```

然后：

更新：

```
protected override async void OnNavigatedTo(NavigationEventArgs e)
        {
            base.OnNavigatedTo(e);

            var myResponse = await AsynchronousDownload("http://stackoverflow.com");
        } 
```

或者

如果您使用的是 VS2012，则可以安装[Microsoft.Bcl.Async](http://blogs.msdn.com/b/bclteam/archive/2012/10/22/using-async-await-without-net-framework-4-5.aspx)库并执行与使用 AsyncCTP 相同的操作，`await`即响应。

或者

您可以在 Caliburn Micro 中实现类似于[Coroutines的东西。](http://caliburnmicro.codeplex.com/wikipage?title=IResult%20and%20Coroutines&referringTitle=Documentation)为此，您实现 IResult 接口。

```
 public interface IResult
{
    void Execute(ActionExecutionContext context);
    event EventHandler<ResultCompletionEventArgs> Completed;
} 
```

一个可能的实现：

```
public class HttpWebRequestResult : IResult
    {
        public HttpWebRequest HttpWebRequest { get; set; }
        public string Result { get; set; }

        public HttpWebRequestResult(string url)
        {
            HttpWebRequest = (HttpWebRequest) HttpWebRequest.Create(url);

        }

        public void Execute (ActionExecutionContext context)
        {
            HttpWebRequest.BeginGetResponse (Callback, HttpWebRequest);
        }

        public void Callback (IAsyncResult asyncResult)
        {
            var httpWebRequest = (HttpWebRequest)asyncResult.AsyncState;
            var httpWebResponse = (HttpWebResponse) httpWebRequest.EndGetResponse(asyncResult);

            using (var reader = new StreamReader(httpWebResponse.GetResponseStream()))
                Result = reader.ReadToEnd();

            Completed (this, new ResultCompletionEventArgs ());
        }

        public event EventHandler<ResultCompletionEventArgs> Completed = delegate { };
    } 
```

然后调用它：

```
var httpWebRequestResult = new HttpWebRequestResult("http://www.google.com");
            yield return httpWebRequestResult;
            var result = httpWebRequestResult.Result; 
```

[这](https://github.com/bugsense/BugSense-Windows-Phone-library/tree/master/BugSense/Coroutines)可能是从 CM 中获取 Coroutines 实现并单独使用它的示例。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-08T06:56:15.860

首先让我说微软确实试图推动你进行异步调用是有充分理由的，这就是我想强调它的原因。

现在，如果您真的想同步进行，我有一个我无法测试自己的想法。使用[HttpWebRequest](http://msdn.microsoft.com/en-us/library/8y7x3zz2%28v=vs.95%29.aspx)类时，有两个重要的函数，您可能也使用过：[BeginGetResponse](http://msdn.microsoft.com/en-us/library/system.net.httpwebrequest.begingetresponse%28v=vs.95%29.aspx)和[EndGetResponse](http://msdn.microsoft.com/en-us/library/system.net.httpwebrequest.endgetresponse%28v=vs.95%29.aspx)。

这两个功能密切合作。`BeginGetResponse`启动一个异步 webrequest，当请求完成`EndGetResponse`时，它会在完成时为您提供输出。这是 MS 试图让你这样做的方式。同步做这些事情的诀窍是`beginGetResponse`返回一个[IAsyncResult](http://msdn.microsoft.com/en-us/library/system.iasyncresult%28v=vs.95%29.aspx)。该`IAsyncResult`接口包含一个[WaitHandler](http://msdn.microsoft.com/en-us/library/system.threading.waithandle%28v=vs.95%29.aspx)，可用于同步等待，直到请求完成。之后，您可以继续使用 endGetRequest 并继续您的业务。[BeginGetRequestStream](http://msdn.microsoft.com/en-us/library/system.net.httpwebrequest.begingetrequeststream%28v=vs.95%29.aspx)和[EndGetRequestStream](http://msdn.microsoft.com/en-us/library/7de1x8cb%28v=vs.95%29.aspx)也是如此。

但正如我之前所说，我没有测试过这个解决方案，它纯粹是理论上的。让我知道它是否有效。

祝你好运！

# java - 数组越界

> ID：13283609
> 
> 赞同：-1
> 
> 时间：2012-11-08T06:21:10.567
> 
> 标签：java, arrays, exception, indexing

该程序的目的是在不使用递归和非递归递减和征服类型方法对数组进行排序的情况下找到数组中的第 k 个最小元素。

我希望有人可以查看我的代码并尝试帮助我解决数组越界错误。

引发这些错误的方法是递归选择，非递归选择工作正常。

我的驱动程序也已附加，如果你想测试我的代码，一切都应该编译。

```
public class KthSmallest
{
private int counter;
private int term;
private int[] A;

int SelectionNonRecursive(int A[], int kthSmallest, int sizeOfA)
{   
    this.A = A;
    if(kthSmallest == 1 || kthSmallest == sizeOfA)
    {
        return (LinearSearch(kthSmallest, sizeOfA));
    }
    else
    {
        for(int i = 0; i<sizeOfA; i++)
        {
            counter = 0;
            for(int j = 0; j<sizeOfA; j++)
            {
                if(A[i] < A[j])
                {
                    counter++;
                }
            }
            if((sizeOfA - counter) == kthSmallest)
            {
                return A[i];
            }
        }
    }

    return 0;
}

int SelectionRecursive(int A[], int kthSmallest, int sizeOfA)
{
    this.A = A;
    return Selection_R(0, sizeOfA - 1, kthSmallest);
}

int Selection_R(int l, int r, int kthSmallest)
{
    if(l<r)
    {
    if(kthSmallest == 1 || kthSmallest == A.length)
    {
        return (LinearSearch(kthSmallest, A.length));
    }
    else
    {
        int s = LomutoPartition(l, r);
        if(s == kthSmallest - 1)
        {
            return A[s];
        }
        else if(s > (A[0] + kthSmallest - 1))
        {
            Selection_R(l, s-1, kthSmallest);
        }
        else
        {
            Selection_R(s+1, r, kthSmallest); 
        }
    }
    }
    return 0;
}

int LomutoPartition(int l, int r)
{
    int pivot = A[l];
    int s = l;
    for(int i = l+1; i<r; i++)
    {
        if(A[i] < pivot)
        {
            s += 1;
            swap(A[s], A[i]);
        }
    }
    swap(A[l], A[s]);
    return s;
}

public void swap(int i, int j)
{
    int holder = A[i];
    A[i] = A[j];
    A[j] = holder;
}

int LinearSearch(int kthSmallest, int sizeOfA)
{
    term = A[0];
    for(int i=1; i<sizeOfA; i++)
    {
        if(kthSmallest == 1)
        {
            if(term > A[i])
            {
                term = A[i];
            }
        }
        else
        {
            if(term < A[i])
            {
                term = A[i];
            }
        }
    }
    return term;
}
}

public class KthDriver
{
public static void main(String[] args)
{
    KthSmallest k1 = new KthSmallest();
    int[] array = {7,1,5,9,3};
    System.out.print(k1.SelectionRecursive(array, 3, array.length));

}
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T06:26:17.633

在您的`LomutoPartition`方法中，您在方法中传递数组元素`swap`：-

```
swap(A[s], A[i]);  // Inside for loop 
```

和

```
swap(A[l], A[s]);  // Outside for loop 
```

您的交换方法将它们视为`indices`：-

```
public void swap(int i, int j)  <-- // `i` and `j` are elements A[s] and A[i]
{
    int holder = A[i];  <-- // You are accessing them as indices(A[i] -> A[A[s]])
    A[i] = A[j];
    A[j] = holder;
} 
```

这就是为什么你得到那个例外。因为，如果数组中的任何元素大于大小，它就会爆炸。

您应该*将调用更改*为：-

```
swap(s, i);   // Inside for loop 
```

和

```
swap(l, s);   // Outside for loop 
```

分别。保持你的方法不变。

请注意，您应该传递数组索引，而不是数组元素。如果您传递数组元素，则方法中的交换将不会反映在您的数组中。因为，您的方法将拥有自己的元素副本。

# objective-c - 在具有 mailcore 的 XCode 4.2 应用程序上归档问题

> ID：13283611
> 
> 赞同：1
> 
> 时间：2012-11-08T06:21:34.467
> 
> 标签：objective-c, email, archive, mailcore

我正在使用 mailcore 准备应用程序。在包含静态库后，我已经成功地在 XCode 3.2 上完全存档。但是我在 XCode 4.2 上遵循的程序相同。我还根据 XCode 4.2 设置了库搜索路径和标题搜索路径。它再次给了我 .xcarchive 文件而不是 .ipa。我已经关注了这个链接..

[iOS 项目的工作区和相关的一个静态库项目](https://stackoverflow.com/questions/5390404/the-workspace-with-the-ios-project-and-related-a-static-library-project)

XCode 4.2 上是否有任何不同的邮件核心归档程序..

# perl - Perl 解包和换行符

> ID：13283612
> 
> 赞同：0
> 
> 时间：2012-11-08T06:21:38.710
> 
> 标签：perl, unpack

我正在使用 unpack 函数将二进制文件的内容转换为十六进制。

我这样做如下：

```
#! /usr/bin/perl

use strict;
use warnings;

my $input=$ARGV[0];

open(INPUT,'<',$input) || die("Couldn't open the file, $input with error: $!\n");
my $value=<INPUT>;
$value=unpack("H*",$value);

print $value,"\n"; 
```

这会将二进制输入文件的内容打印为十六进制字符串。

但是，问题在于，在解析二进制文件的内容时，如果遇到字节 0xa（换行符），解包函数会在该点停止。

因此，我在 $value 变量中得到了不完整的输出。

几个例子：

```
65 2E 0D 0D 0A 24 00 00 00 00 00 00 00 BA DC 95 DC FE BD

FE FF FF FF 07 00 00 00 08 00 00 00 09 00 00 00 0A 00 00 00 0B 00 00 00 0C 00 
```

字节后的所有内容，0xa 不被 unpack 解析。

那么，有没有办法对完整的二进制文件使用 unpack ，这样它就不会在遇到换行符时停止解析？

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-08T08:12:01.320

你怎么看

```
my $value = <INPUT>; 
```

做？读一行，也就是读到0A。使固定：

```
my $value;
{ local $/; $value = <INPUT>; } 
```

另外，你想添加

```
binmode(INPUT); 
```

之后`open`。

# algorithm - 了解树型数据结构的运行时间

> ID：13283613
> 
> 赞同：1
> 
> 时间：2012-11-08T06:21:45.357
> 
> 标签：algorithm, tree, big-o

我有一个数据结构是一棵树，其中每个父级可以有无限数量的子级，树的最大深度是 4。每个级别都是一个不同的类。

我的朋友写了一个算法来遍历这个由 for 循环组成的，伪代码如下：

```
root = tree.root();
for (int i = 0; i < root.children_size(); i++)
    child1 = root.child(i);
    for(int j = 0; j < child1.children_size(); j++)
        child2 = child1.child(j);
        for(int k = 0; k < child2.children_size(); k++)
            child3 = child2.child(k); 
```

他声称因为它有 3 个 for 循环，所以该算法的运行时间是 O(n3)。当我问他 n 是什么时，他说是 for 循环的数量，这没有意义，因为 n 必须是这棵树中的一个结构。我声称 n 是树中总节点的数量，该算法的运行时间为 O(n)，因为运行时间将为 O(root.children_size + child1.children_size + child2.children_size)。

我对运行时间的假设是正确的，O(n)，还是我的朋友，O(n^3)？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T06:45:33.673

是的你是对的 。您实际上是在使用[深度优先搜索](http://en.wikipedia.org/wiki/Depth-first_search)，它只访问每个节点一次（即 dfs 的最坏情况），因此复杂度为 O(N)。就您的朋友而言，我无法理解他用 n 表示什么，因为深度（即for循环的数量）这里是固定的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-08T06:34:57.820

你说的对。访问每个节点一次将使其 O(N)，其中 N 是总数。树中的节点数。

# iphone - 构建成功但没有显示模拟器

> ID：13283614
> 
> 赞同：2
> 
> 时间：2012-11-08T06:21:49.647
> 
> 标签：iphone, objective-c, ios

我正在 iPhone 中开发一个应用程序，在进行一些更改之前，模拟器工作正常。在实施更改后，当我构建应用程序但在构建它时，它说构建成功但作为模拟器的 iPhone 不可见。有什么提示吗？

控制台输出

```
2012-11-08 12:06:08.089 MyApp[743:f803] IT IS  COMING HERE
2012-11-08 12:06:08.093 MyApp[743:f803] IT IS  COMING HERE 1
2012-11-08 12:06:08.094 MyApp[743:f803] IT IS  COMING HERE 2
(lldb) 

- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions
{
    NSLog(@"IT IS  COMING HERE");
    self.window = [[UIWindow alloc] initWithFrame:[[UIScreen mainScreen] bounds]];
    NSLog(@"IT IS  COMING HERE 1");
    // Override point for customization after application launch.
    self.viewController = [[ViewController alloc] initWithNibName:@"ViewController" bundle:nil];
    NSLog(@"IT IS  COMING HERE 2");
    self.window.rootViewController = self.viewController;
    [self.window makeKeyAndVisible];
    NSLog(@"IT IS  GOING FROM HERE");
    return YES; 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-08T06:32:06.510

我之前也遇到过同样的问题，我通过以下方法解决了：

只需**退出模拟器**并再次运行项目。如果它不起作用，那么**退出 xcode**和模拟器并再次运行项目，它肯定会解决问题。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-08T07:40:07.797

有时即使 x-code 显示构建成功，模拟器也不会启动应用程序或完全黑屏。正如每个人都指出的那样，最好的办法是退出 X-code 并重置模拟器。重新启动应用程序，一切正常。

# mysql - 删除 django 使用的数据库中的表

> ID：13283616
> 
> 赞同：1
> 
> 时间：2012-11-08T06:21:53.670
> 
> 标签：mysql, django, django-models

**问题陈述：**我想在数据库中删除一些表。

**错误获取：**外键约束失败

**细节：**

我有一个预先存在的（不是由 django models.py 填充的）数据库。我正在使用 django。我使用这个数据库来创建 django 站点。在 django 中创建站点时，我已经给出了它的名称和正确的设置。在 models.py 中没有创建模型。

执行命令后：

> python manage.py syncdb

Django 在该数据库中添加了以下表格：

> | auth_group |
> 
> | auth_group_permissions |
> 
> | auth_permission |
> 
> | 身份验证用户 |
> 
> | auth_user_groups |
> 
> | auth_user_user_permissions |
> 
> | django_content_type |
> 
> | django_session |
> 
> | django_site |

我想删除所有这些表。

我试过这个查询；

> 删除表表名；

但是mysql提示错误显示：

> ERROR 1217 (23000)：无法删除或更新父行：外键约束失败

有什么方法可以让我只删除上面提到的表格，保持我预先存在的表格完整吗？

谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-08T06:31:25.173

两种可能：

1.  在另一个模式（mysql 术语中的“数据库”）中有一个表，它有一个 FK 引用
2.  innodb 内部数据字典与 mysql 不同步。

您可以通过在删除失败后执行“SHOW ENGINE INNODB STATUS”来查看它是哪个表（无论如何是其中一个）。

如果结果是后一种情况，如果可以的话，我会转储并恢复整个服务器。

MySQL 5.1 及更高版本将在错误消息中为您提供带有 FK 的表的名称。

也试试这个

请参考这个问题[stackoverflow](https://stackoverflow.com/questions/3334619/cannot-delete-or-update-a-parent-row-a-foreign-key-constraint-fails)

禁用外键检查

```
DISABLE KEYS 
```

请确保`SET FOREIGN_KEY_CHECKS=1;`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-08T07:58:57.377

您可以轻松配置 django 以使用 MyISAM，而不是使用默认的 innodb 存储引擎。在后一种情况下，它不会因为关系而限制您执行各种操作。两者都有其积极和消极的观点。

# android - 通知中的 IllegalArgumentException

> ID：13283626
> 
> 赞同：2
> 
> 时间：2012-11-08T06:22:35.340
> 
> 标签：android, notifications

我正在使用通知。

该代码在具有 API 15 的模拟器中完美运行。但是我在具有 API 10 的模拟器中强制关闭。

我得到异常`java.lang.IllegalArgumentException: contentIntent required:`

我在清单中写了以下内容

```
<uses-sdk android:minSdkVersion="8" android:targetSdkVersion="15"/> 
```

代码如下：

```
void showNotification(String status) {
    NotificationManager notificationManager;
    notificationManager = (NotificationManager) 
            getSystemService(Context.NOTIFICATION_SERVICE);
    int icon;
    if (status.equalsIgnoreCase("ON")) icon = R.drawable.on;
    else icon = R.drawable.off;
    String tickerText = "Phone Tracker is  " + status;
    long when = System.currentTimeMillis();
    Notification notification = new Notification(icon, tickerText, when);
    String expandedText = "Phone Tracker is  " + status;
    String expandedTitle = "Phone Tracker is " + status;
    // launchIntent = PendingIntent.getActivity(context, notificationRef,
    // intentSetRamark, 0);
    notification.setLatestEventInfo(getApplicationContext(), expandedTitle,
        expandedText, null);
    notificationManager.notify(1, notification);
    notificationManager.cancel(1);
} 
```

强制关闭的日志是

```
11-08 09:06:29.769: E/AndroidRuntime(359): FATAL EXCEPTION: main
11-08 09:06:29.769: E/AndroidRuntime(359): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.mlost2000free/com.mlost2000free.LostPhoneSettingsActivity}: java.lang.IllegalArgumentException: contentIntent required: pkg=com.mlost2000freeid=1 notification=Notification(vibrate=null,sound=null,defaults=0x0)
11-08 09:06:29.769: E/AndroidRuntime(359):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2663)
11-08 09:06:29.769: E/AndroidRuntime(359):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2679)
11-08 09:06:29.769: E/AndroidRuntime(359):  at android.app.ActivityThread.access$2300(ActivityThread.java:125)
11-08 09:06:29.769: E/AndroidRuntime(359):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2033)
11-08 09:06:29.769: E/AndroidRuntime(359):  at android.os.Handler.dispatchMessage(Handler.java:99)
11-08 09:06:29.769: E/AndroidRuntime(359):  at android.os.Looper.loop(Looper.java:123)
11-08 09:06:29.769: E/AndroidRuntime(359):  at android.app.ActivityThread.main(ActivityThread.java:4627)
11-08 09:06:29.769: E/AndroidRuntime(359):  at java.lang.reflect.Method.invokeNative(Native Method)
11-08 09:06:29.769: E/AndroidRuntime(359):  at java.lang.reflect.Method.invoke(Method.java:521)
11-08 09:06:29.769: E/AndroidRuntime(359):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
11-08 09:06:29.769: E/AndroidRuntime(359):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)
11-08 09:06:29.769: E/AndroidRuntime(359):  at dalvik.system.NativeStart.main(Native Method)
11-08 09:06:29.769: E/AndroidRuntime(359): Caused by: java.lang.IllegalArgumentException: contentIntent required: pkg=com.mlost2000free id=1 notification=Notification(vibrate=null,sound=null,defaults=0x0)
11-08 09:06:29.769: E/AndroidRuntime(359):  at android.os.Parcel.readException(Parcel.java:1251)
11-08 09:06:29.769: E/AndroidRuntime(359):  at android.os.Parcel.readException(Parcel.java:1235)
11-08 09:06:29.769: E/AndroidRuntime(359):  at android.app.INotificationManager$Stub$Proxy.enqueueNotificationWithTag(INotificationManager.java:274)
11-08 09:06:29.769: E/AndroidRuntime(359):  at android.app.NotificationManager.notify(NotificationManager.java:110)
11-08 09:06:29.769: E/AndroidRuntime(359):  at android.app.NotificationManager.notify(NotificationManager.java:90)
11-08 09:06:29.769: E/AndroidRuntime(359):  at com.mlost2000free.LostPhoneSettingsActivity.showNotification(LostPhoneSettingsActivity.java:429)
11-08 09:06:29.769: E/AndroidRuntime(359):  at com.mlost2000free.LostPhoneSettingsActivity.setStatus(LostPhoneSettingsActivity.java:400)
11-08 09:06:29.769: E/AndroidRuntime(359):  at com.mlost2000free.LostPhoneSettingsActivity.onCreate(LostPhoneSettingsActivity.java:76)
11-08 09:06:29.769: E/AndroidRuntime(359):  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
11-08 09:06:29.769: E/AndroidRuntime(359):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2627) 
```

问题是什么。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-08T07:11:23.200

您应该将 Intent 传递给通知。另外值得注意的是，您正在使用一些不推荐使用的方法，即 setLatestEventInfo 它可能值得更改为[http://developer.android.com/reference/android/support/v4/app/NotificationCompat.Builder.html](http://developer.android.com/reference/android/support/v4/app/NotificationCompat.Builder.html)因为这可能会给你前进的问题更少。

# django - 如何在heroku上部署夹层？

> ID：13283628
> 
> 赞同：3
> 
> 时间：2012-11-08T06:22:43.107
> 
> 标签：django, heroku, django-cms, mezzanine

我创建了一个夹层项目，它的名称是 mezzanine-heroku-test 我创建了一个 Procfile，其内容如下：

**网页：python manage.py run_gunicorn -b "0.0.0.0:$PORT" -w 3**

接下来，我访问该网站进行测试，我收到错误：内部服务器错误。那么，您能否帮我逐步在heroku上部署夹层或一些建议？

非常感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-18T03:05:59.573

您应该能够在使用 heroku 工具的日志中看到错误。

```
heroku logs 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-03-24T19:37:44.297

这些都很彻底。

[https://gist.github.com/joshfinnie/4046138](https://gist.github.com/joshfinnie/4046138) [http://www.benhavilland.com/blog/deploying-mezzanine-on-heroku/](http://www.benhavilland.com/blog/deploying-mezzanine-on-heroku/)

这是一个具有挑战性的过程。

# liferay - 调度程序中的 Liferay PortalURL

> ID：13283638
> 
> 赞同：1
> 
> 时间：2012-11-08T06:24:08.303
> 
> 标签：liferay

我正在 liferay Portlet 中创建一个调度程序，一旦调度程序作业完成，我必须发送一封电子邮件。

在这封电子邮件中，我需要将门户 URL 作为链接发送。

```
<a href="http://localhost:8080" 
```

任何人都可以帮助我了解如何在调度程序中获取门户 URL。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-08T20:11:38.250

您可以使用以下内容：

```
Company company = CompanyLocalServiceUtil.getCompany(companyId); 
String portalURL = PortalUtil.getPortalURL(company.getVirtualHost(),
PortalUtil.getPortalPort(), false); 
```

在最后一次调用中，如果您使用的是 https，则最后一个参数必须为 true。

如果您无法访问班级中的 companyId，但您知道数据库中只有一家公司（这是正常情况，除非您处于托管/多租户场景中），那么您可以使用以下内容：

```
Company company = CompanyLocalServiceUtil.getCompanies().get(0); 
```

# php - 如何仅保留唯一值并根据 PHP 数组中的某个标志删除所有重复值？

> ID：13283643
> 
> 赞同：0
> 
> 时间：2012-11-08T06:24:15.447
> 
> 标签：php

我正在处理典型的情况，我想根据不区分大小写的基础对多维数组中的 URL 进行排序，并且它们是与 URL 关联的状态。如果用户设置了多个具有不同状态的 url，那么我想从重复的 url 中获取唯一一个状态设置为 false 的 url。

原始数组：

```
Array
(
[0] => Array
    (
        [url] => www.abc.com
        [status] => true
    )

[1] => Array
    (
        [url] => www.123.com
        [status] => true
    )

[2] => Array
    (
        [url] => www.abc.com
        [status] => true
    )

[3] => Array
    (
        [url] => www.Abc.com
        [status] => false
    )
) 
```

我想要的最终结果：

```
Array
(
[0] => Array
    (
        [url] => www.abc.com
        [status] => false
    )

[1] => Array
    (
        [url] => www.123.com
        [status] => true
     )
) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T06:40:29.173

试试这个：

```
<?php
$arr = array(
    array(
        'url' => 'www.abc.com',
        'status' => 'true'
    ),
    array(
        'url' => 'www.123.com',
        'status' => 'true'
    ),
    array(
        'url' => 'www.abc.com',
        'status' => 'true'
    ),
    array(
        'url' => 'www.Abc.com',
        'status' => 'false'
    )
);

function tolower($v) {
    return array('url'=>strtolower($v['url']),'status'=>$v['status']);
}
$arr = array_map("unserialize", array_unique(array_map("serialize",array_map("tolower", $arr))));
print_r($arr);
?> 
```

希望这可以帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-08T07:21:54.687

```
$filtered = array();

foreach ($urls as $url) {
    $key = strtolower($url['url']);
    if (!isset($filtered[$key]) || $filtered[$key]['status']) {
        $filtered[$key] = $url;
    }
}

var_dump($filtered); 
```

# objective-c - TapToZoom 查询

> ID：13283648
> 
> 赞同：0
> 
> 时间：2012-11-08T06:24:30.377
> 
> 标签：objective-c, uiscrollview, uiimageview

有没有人分析过 iPhone 上 TapToZoom 的示例代码。
该程序执行 3 件事
1\. 双击，执行缩放
2\. 两指点击，执行缩小。
和 3\. 捏缩放

我不明白其中的一小部分。实际图像大小为 1730 × 2430 因此存在一个滚动视图，其中存在大小为 1730 × 2430 的图像`UIImageView`。图像设置为 Scale to Fit。即
，如果图像设置为缩放以填充也具有 1730 × 2430 的 UIImageView，则图像在启动时如何突然适合具有 reloution 320x460 的 iPhone 屏幕

xib 中的图像以其原始大小。但是当应用程序启动时，图像不是原始大小，而是适合滚动视图内容以适应。

这是如何实现的。我没有找到任何在应用程序中执行相同操作的代码。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T06:33:37.563

检查这段代码是否存在于`viewDidLoad`-

```
// calculate minimum scale to perfectly fit image width, and begin at that scale
float minimumScale = [imageScrollView frame].size.width  / [imageView frame].size.width;
[imageScrollView setMinimumZoomScale:minimumScale];
[imageScrollView setZoomScale:minimumScale]; 
```

# android - Android JNI 本地引用表，转储当前状态

> ID：13283649
> 
> 赞同：4
> 
> 时间：2012-11-08T06:24:32.030
> 
> 标签：android, c++, java-native-interface

任何 Android JNI 开发人员都应该熟悉 logcat 中的这条精彩消息。我的问题是：如何告诉 VM 转储当前表状态？我需要它来进行调试，以确保退出时的本机线程没有未完成的本地引用。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2014-05-07T23:26:15.173

完全归功于 Pavel，但我认为其他人可能会喜欢示例代码：

```
jclass vm_class = env->FindClass("dalvik/system/VMDebug");
jmethodID dump_mid = env->GetStaticMethodID( vm_class, "dumpReferenceTables", "()V" );
env->CallStaticVoidMethod( vm_class, dump_mid ); 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-11-08T06:35:20.037

如果有人需要做类似的事情，您可以使用 dalvik.system.VMDebug 中的 dumpReferenceTables

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2017-03-27T06:38:04.307

我尝试下面的代码。它运行良好。

```
try {
    Class cls = Class.forName("android.os.Debug");
    Method method = cls.getDeclaredMethod("dumpReferenceTables");
    Constructor con= cls.getDeclaredConstructor();
    con.setAccessible(true);
    method.invoke(con.newInstance());
    //call method dumpReferenceTables of dalvik.system.VMDebug
    //to dump reference table at last.
}
catch(Exception e){
    Log.i(TAG,"exception="+e.getMessage());
} 
```

* * *

I/art (28913)：全局参考表转储：

I/art (28913)：最后 10 个条目（共 267 个）：

我/艺术（28913）：266：0x12e340c0 java.lang.ref.WeakReference

我/艺术（28913）：265：0x12e34060 java.lang.ref.WeakReference

我/艺术（28913）：264：0x12e24220 java.lang.ref.WeakReference

I/art (28913): 263: 0xa1ba5000 byte[] (2710656 个元素)

I/art (28913): 262: 0xa284d000 byte[] (30276 个元素)

I/art (28913): 261: 0xa2855000 byte[] (19312 个元素)

I/art (28913): 260: 0xa1e3b000 byte[] (6529728 个元素)

我/艺术（28913）：259：0x12e1ca60 android.view.accessibility.AccessibilityManager$1

我/艺术（28913）：258：0x12df2c70 android.content.ContentProvider$Transport

我/艺术（28913）：257：0x12ed4040 java.lang.ref.WeakReference

我/艺术（28913）：摘要：

I/art (28913): 2 of android.opengl.EGLContext (2 unique instances)

I/art (28913): 1 of android.hardware.display.DisplayManagerGlobal$DisplayManagerCallback

I/art (28913)：java.lang.Class 的 223 个（172 个唯一实例）

I/art (28913): 2 of android.opengl.EGLDisplay (2 个唯一实例)

I/art (28913): java.lang.ThreadGroup 中的 2 个（2 个唯一实例）

I/art (28913): 2 of android.opengl.EGLSurface (2 unique instances)

I/art (28913): dalvik.system.VMRuntime 的 1 个

I/art (28913): 1 of android.content.ContentProvider$Transport

I/art (28913): 1 dalvik.system.PathClassLoader

I/art (28913): 1 of android.view.accessibility.AccessibilityManager$1

I/art (28913): 1 of android.app.ActivityThread$ApplicationThread

I/art (28913): 2 of byte[] (100 个元素) (2 个唯一实例)

I/art (28913): 7 of byte[] (8192 个元素) (7 个唯一实例)

I/art (28913): 1 of byte[] (19312 个元素)

I/art (28913): 1 of byte[] (30276 个元素)

I/art (28913): 1 of byte[] (2710656 个元素)

I/art (28913): 1 of byte[] (6529728 个元素)

I/art (28913)：2 个 java.lang.String（2 个唯一实例）

I/art (28913)：java.lang.ref.WeakReference 的 15 个（15 个唯一实例）

# javascript - 动画一个带有后伸的 div

> ID：13283650
> 
> 赞同：1
> 
> 时间：2012-11-08T06:24:34.433
> 
> 标签：javascript, jquery, jquery-animate, jquery-backstretch

我正在尝试使用一个设置为初始浏览器窗口 100% 的 div，并应用 Backstretch 插件，并让它在单击时设置动画以调整到更小的尺寸，而它下面的另一个 div 调整为好吧，允许他们共享屏幕。所有功能似乎都可以正常工作，接受 div 将调整大小并且最初会随之进行回弹，但在动画功能结束后，回弹将迅速回到 100% 的窗口。更奇怪的是，当用户调整整个浏览器的大小时，后伸会卡到正确的位置，并保持在那里。

我将它放入[jsfiddle](http://jsfiddle.net/NcwC7/1/)中，问题的工作方式与我在代码中的工作方式完全相同。click 函数会调整 div 的大小，并且 backstretch 会从其中弹出，直到浏览器调整大小。通常我喜欢尝试解决这种问题，但是我认为这可能超出了我的想象，而且我的最后期限即将到来，这个问题已经困扰了我 2 周。任何见解都会非常有帮助。

这是我正在使用的代码：

HTML

```
<div id="fullbleed">
<div class="button">CLICK</div></div>
<div id="article"></div>` 
```

CSS

```
html, body {
height:100%;
}
body {
margin:0;
padding:0;
}
.button{
width: 70px;
height: 30px;
background-color: fuchsia;
bottom: 190px;
position: absolute;
cursor: pointer;
font-family: 'Open Sans' sans-serif;
font-weight: bold;
text-align: center;
padding: 3px;
font-size: 21px;
left: 41px;
}
#fullbleed{
position:inherit;
top:0;
left:0;
height:100%;
width:100%;
}
#article {
height:0px;
overflow: hidden;
margin-top: 30px;
background-color:aqua;
} 
```

JS

```
$("#fullbleed").backstretch("http://dl.dropbox.com/u/515046/www/coffee-light.jpg");

$(".button").click(function() {
$("#fullbleed").animate({
    height: "200px",
}, 1000);
$(".button").css({
    "visibility": "hidden"
});
});

$(".button").click(function() {
$("#article").animate({
    height: 5000,
}, 1000);
});​ 
```

​</p>

# javascript - Javascript：这些实现中哪个更高效/更好？

> ID：13283652
> 
> 赞同：0
> 
> 时间：2012-11-08T06:24:41.453
> 
> 标签：javascript, jquery

我有一个图标，单击该图标会增加数字输入的值。

我最初将其写为：

```
 $('.icon-chevron-up').click(function(){
      var input = $(this).next();
  var value = eval(input.val());
  input.val((value+1).toString());
  $(this).next.val(value+1);
 }); 
```

然后我将其重写为：

```
 $('.icon-chevron-up').click(function(){
  $(this).next().val((eval($(this).next().val()) + 1).toString());
 }); 
```

有这样做的首选方法吗？如果是这样，为什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T06:48:57.163

这些都不是最好的效率。`eval`不需要，如果你想要性能，你应该缓存你的选择器。有几种方法可以提高效率，但我会这样做：

```
$('.icon-chevron-up').click(function() {
  var $this = $(this), 
      val = $this.next().val();
  $this.next().val( ++val + '' );
}); 
```

`++`转换`val`为一个数字并添加`1`. `+ ''`将前一个数字转换为字符串。

如果你想要一些不那么简洁的东西（我想更具可读性）：

```
$this.next().val( (parseInt( val,10 ) + 1).toString() ); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-08T06:58:48.803

你说的输入是什么意思？它应该是文本输入还是只是一个html标签？

```
<button class="icon-chevron-up">Increase</button>
<div id="numinput">12</div>

var input = $('#numinput').html();
$('.icon-chevron-up').click(function(){    
    input++;
    $('#numinput').html(input);     
}); 
```

# javascript - 如果页面具有垂直滚动条，则尝试使用 Javascript 隐藏元素

> ID：13283653
> 
> 赞同：0
> 
> 时间：2012-11-08T06:24:43.090
> 
> 标签：javascript, jquery

当且仅当页面（html，正文）具有垂直滚动条时，我才尝试隐藏 ID 为 #myWork 的元素。在阅读有关检测垂直滚动条存在的另一个问题/答案后，我有以下代码：

```
var hasVScroll = document.body.scrollHeight > document.body.clientHeight;
        var cStyle = document.body.currentStyle||window.getComputedStyle(document.body, "");
        hasVScroll = cStyle.overflow == "visible" || cStyle.overflowY == "visible" || (hasVScroll && cStyle.overflow == "auto") || (hasVScroll && cStyle.overflowY == "auto");
        if(hasVScroll){
            document.getElementById('myWork').style.display = 'none';
        } 
```

这可行，但是当此 html 页面上没有垂直滚动条时，它也会隐藏 id 为 myWork 的元素。

我将真诚地感谢任何和所有的帮助来解决这个问题。

PS 我尝试在 if 语句中使用 jQuery 隐藏它，因为我已经在使用 jQuery，但这也不起作用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T06:56:17.653

如果您已经在使用 jQuery，这应该可以工作：

```
function init(e){
    var hasVScroll = $(document).height( ) > $(window).height( );

    if(hasVScroll){
        $('#myWork').hide( );
    }

}

$(document).ready(init); 
```

好的，所以它不起作用的原因是这个

```
var cStyle = document.body.currentStyle||window.getComputedStyle(document.body, "");
hasVScroll = cStyle.overflow == "visible" || cStyle.overflowY == "visible" || (hasVScroll && cStyle.overflow == "auto") || (hasVScroll && cStyle.overflowY == "auto"); 
```

始终将 hasVScroll 设置为 true。

希望这可以帮助。

# c# - 如何优化大尺寸for循环

> ID：13283654
> 
> 赞同：6
> 
> 时间：2012-11-08T06:24:43.847
> 
> 标签：c#, performance, .net-3.5

我有一个超过 20k 次迭代的 for 循环，每次迭代大约需要两到三秒，总共大约需要 20 分钟。我如何优化这个 for 循环。我正在使用 .net3.5，所以并行 foreach 是不可能的。所以我将 200000 个号码分成小块并实现了一些线程，现在我可以将时间减少 50%。有没有其他方法可以优化这些 for 循环。

我的示例代码如下

```
 static double sum=0.0;
    public double AsyncTest()
    {
            List<Item> ItemsList = GetItem();//around 20k items
            int count = 0;
            bool flag = true;
            var newItemsList = ItemsList.Take(62).ToList();
            while (flag)
            {
                int j=0;
                WaitHandle[] waitHandles = new WaitHandle[62];
                foreach (Item item in newItemsList)
                {
                    var delegateInstance = new MyDelegate(MyMethod);
                    IAsyncResult asyncResult = delegateInstance.BeginInvoke(item.id, new AsyncCallback(MyAsyncResults), null);
                    waitHandles[j] = asyncResult.AsyncWaitHandle;
                    j++;
                }
                WaitHandle.WaitAll(waitHandles);
                count = count + 62;
                newItemsList = ItemsList.Skip(count).Take(62).ToList();  
            }
            return sum;
    }

    public double MyMethod(int id)
    {
        //Calculations
        return sum;
    }

    static public void MyAsyncResults(IAsyncResult iResult)
    {
        AsyncResult asyncResult = (AsyncResult) iResult;
        MyDelegate del = (MyDelegate) asyncResult.AsyncDelegate;
        double mySum = del.EndInvoke(iResult);
        sum = sum + mySum;
    } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-08T06:38:47.503

可以通过各种技术减少循环次数。但是，这不会给您带来任何明显的改进，因为大量计算是在您的循环中执行的。如果您已经将其并行化以使用所有 CPU 内核，则无需做太多事情。有一定数量的计算要完成，并且有一定的计算机能力可用。你不能从你的机器上挤出比它所能提供的更多的东西。

您可以尝试：

1.  如果可能的话，更有效地实现你的算法
2.  切换到更快的环境/语言，例如非托管 C/C++。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-08T06:58:19.530

1.  您的批次大小 (62) 背后是否有理由？
2.  “MyMethod”方法是 IO 限制还是 CPU 限制？

您在每个周期中所做的是等到所有批次完成，这会浪费一些周期（您实际上是在等待所有 62 次调用完成，然后再进行下一批）。你为什么不稍微改变一下方法，以便你仍然保持 N 个操作同时运行，但是一旦*其中一个*执行操作完成，你就会触发一个新操作？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-08T06:46:42.600

根据这个[博客](http://codebetter.com/patricksmacchia/2008/11/19/an-easy-and-efficient-way-to-improve-net-code-performances/)，在集合的情况下，for 循环比 foreach 更快。尝试循环使用`for`. 我会帮你的。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-08T07:04:12.763

如果我错了，请纠正我，但在我看来，你的线程是在单个项目级别的——我想知道这是否有点过于细化。

您已经在以 62 个项目为单位进行工作。如果您要获取这些项目并在一个线程中处理所有这些项目怎么办？即，你会有这样的事情：

```
void RunMyMethods(IEnumerable<Item> items)
{
    foreach(Item item in items)
    {
        var result = MyMethod(item);
        ...
    }
} 
```

请记住，`WaitHandle`对象可能比使用`Monitor`对象慢：[http ://www.yoda.arachsys.com/csharp/threads/waithandles.shtml](http://www.yoda.arachsys.com/csharp/threads/waithandles.shtml)

否则，通常的建议是：分析性能以找到真正的瓶颈。在您的问题中，您说每次迭代需要 2-3 秒 - 如果有 20000 次迭代，则需要 20 多分钟。

**编辑：**

如果您想最大限度地利用 CPU 时间，那么最好将您的 20000 个项目分成四组，每组 5000 个，并在自己的线程中处理每个组。我想这种“厚实的”并发会比非常细粒度的方法更有效。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-08T07:13:47.837

听起来你有一个 CPU 密集型的`MyMethod`。对于 CPU 密集型任务，您可以通过并行化获得显着改进，但这只是为了更好地利用所有 CPU 内核。除此之外，过多的并行化会开始*损害*性能——我认为这就是你正在做的事情。（这与 I/O 密集型任务不同，您可以尽可能多地并行化。）

在我看来，您需要做的是编写另一种方法，该方法采用“块”项目（不是单个项目）并返回它们的“总和”：

```
double SumChunk(IEnumerable<Item> items)
{
    return items.Sum(x => MyMethod(x));
} 
```

然后将项目数除以*n*（*n*是并行度 - 尝试 n = CPU 核心数，并将其与 x2 进行比较）并将每个块传递给`SumChunk`. 最后，总结子结果。

此外，注意是否有任何块在其他块之前完成。如果是这种情况，那么您的任务分布不是同质的。您需要创建较小的块（例如 300 个项目的块）并将它们传递给`SumChunk`.

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-11-08T09:39:03.147

首先，数字只是不添加：

> 20k 次迭代，每次迭代大约需要两到三秒，总共大约 20 分钟

这是一个**x40**的“并行性因素”——在普通机器上运行是永远无法实现的。

其次，当“优化” CPU 密集型计算时，并行化超出内核数量是没有意义的。尝试放弃这个神奇**`62`**的**`16`**测试并进行基准测试 - 它实际上会运行*得更快*。

我在我的笔记本电脑上运行了你的代码的变形恶意版本，并使用了 10-20% 的改进`Parallel.ForEach`

所以也许你可以让它运行 17 分钟而不是 20 分钟——这*真的*重要吗？

# asp.net - 实体框架：发生参照完整性约束违规

> ID：13283656
> 
> 赞同：-1
> 
> 时间：2012-11-08T06:24:51.500
> 
> 标签：asp.net, entity-framework-4.1, webforms

我正在开发一个`asp.net Web Forms application with Entity Framework`. 当我尝试`PROVINCE_ID`从表中的现有数据进行更新时`DISTRICT`（我更改`PROVINCE_ID`了之前在一个条目中选择的数据并尝试更新。），我得到了以下错误。

```
A referential integrity constraint violation occurred: A primary key property that is a part of referential integrity constraint cannot be changed when the dependent object is Unchanged unless it is being set to the association's principal object. The principal object must be tracked and not marked for deletion. 
```

表结构如下。

![在此处输入图像描述](../Images/2951fff55173dbf1a3e4c7c347867842.png)

**更新**

aspx 页面中的代码。

```
<asp:Content ID="Content2" ContentPlaceHolderID="MainContent" runat="server">

    <asp:EntityDataSource ID="District_EDS" runat="server" ConnectionString="name=ABC_DBEntities"
        DefaultContainerName="ABC_DBEntities" EnableFlattening="False" EntitySetName="DISTRICT"
        EnableUpdate="True" Where="it.DISTRICT_ID = @DISTRICT_ID">
        <WhereParameters>
            <asp:QueryStringParameter DbType="String" Name="DISTRICT_ID" QueryStringField="DISTRICT_ID" />
        </WhereParameters>
    </asp:EntityDataSource>
    <%--DropDownList Entity Data Source--%>
    <asp:EntityDataSource ID="Province_EDS" runat="server" ConnectionString="name=ABC_DBEntities"
        DefaultContainerName="ABC_DBEntities" EnableFlattening="False" EntitySetName="PROVINCE"
        EnableUpdate="True">
    </asp:EntityDataSource>
    <asp:DetailsView ID="District_DV" runat="server" AutoGenerateRows="False" DefaultMode="Edit"
        DataKeyNames="DISTRICT_ID,PROVINCE_ID" DataSourceID="District_EDS" OnItemCommand="District_DV_ItemCommand">
        <Fields>
            <asp:TemplateField HeaderText="District Id *" SortExpression="DISTRICT_ID">
                <ItemTemplate>
                    <asp:Label ID="Label1" runat="server" Text='<%# Bind("DISTRICT_ID") %>'></asp:Label>
                </ItemTemplate>
                <EditItemTemplate>
                    <asp:Label ID="Label1" runat="server" Text='<%# Eval("DISTRICT_ID") %>'></asp:Label>
                </EditItemTemplate>
                <InsertItemTemplate>
                    <asp:Label ID="Label1" runat="server" Text='<%# Eval("DISTRICT_ID") %>'></asp:Label>
                </InsertItemTemplate>
            </asp:TemplateField>
            <asp:TemplateField HeaderText="Province Name *" SortExpression="PROVINCE_ID">
                <ItemTemplate>
                    <asp:Label ID="Label2" runat="server" Text='<%# Bind("PROVINCE_ID") %>'></asp:Label>
                </ItemTemplate>
                <EditItemTemplate>
                    <asp:DropDownList ID="ddl_PROVINCE_id" Width="200" runat="server" DataSourceID="Province_EDS"
                        DataTextField="PROVINCE_NAME" DataValueField="PROVINCE_ID" SelectedValue='<%# Bind("PROVINCE_ID") %>'>
                    </asp:DropDownList>
                    <asp:RequiredFieldValidator ID="PROVINCE_ID_VAL" runat="server" ControlToValidate="ddl_PROVINCE_id"
                        ErrorMessage="Province Name is required." ValidationGroup="DISTRICT"></asp:RequiredFieldValidator>
                </EditItemTemplate>
                <InsertItemTemplate>
                    <asp:Label ID="Label2" runat="server" Text='<%# Eval("PROVINCE_ID") %>'></asp:Label>
                </InsertItemTemplate>
            </asp:TemplateField>
            <asp:TemplateField HeaderText="District Name *" SortExpression="DISTRICT_NAME">
                <ItemTemplate>
                    <asp:Label ID="Label3" runat="server" Text='<%# Bind("DISTRICT_NAME") %>'></asp:Label>
                </ItemTemplate>
                <EditItemTemplate>
                    <asp:TextBox ID="txt_DISTRICT_name" Width="200" runat="server" Text='<%# Bind("DISTRICT_NAME") %>'></asp:TextBox>
                    <asp:RequiredFieldValidator ID="DISTRICT_NAME_VAL" runat="server" ControlToValidate="txt_DISTRICT_name"
                        ErrorMessage="District Name is required." ValidationGroup="DISTRICT"></asp:RequiredFieldValidator>
                </EditItemTemplate>
                <InsertItemTemplate>
                    <asp:TextBox ID="TextBox1" runat="server" Text='<%# Bind("DISTRICT_NAME") %>'></asp:TextBox>
                </InsertItemTemplate>
            </asp:TemplateField>
            <asp:CommandField ShowEditButton="true" ShowCancelButton="false" ValidationGroup="DISTRICT" />
        </Fields>
    </asp:DetailsView>
</asp:Content> 
```

代码隐藏

```
 // Return to index page after updating content on the page.
    protected void District_DV_ItemCommand(Object sender, DetailsViewCommandEventArgs e)
    {
        if (e.CommandName == "Update")
        {
            Response.Redirect("~/District/Index.aspx", false);

        }
    } 
```

云我如何解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-09-21T07:53:24.303

也许这可能是一些指导： [https ://code.msdn.microsoft.com/ASPNET-MVC-Application-b01a9fe8/sourcecode?fileId=134759&pathId=2009908151](https://code.msdn.microsoft.com/ASPNET-MVC-Application-b01a9fe8/sourcecode?fileId=134759&pathId=2009908151)

```
private void UpdateInstructorCourses(string[] selectedCourses, Instructor instructorToUpdate) 
    { 
        if (selectedCourses == null) 
        { 
            instructorToUpdate.Courses = new List<Course>(); 
            return; 
        } 

        var selectedCoursesHS = new HashSet<string>(selectedCourses); 
        var instructorCourses = new HashSet<int> 
            (instructorToUpdate.Courses.Select(c => c.CourseID)); 
        foreach (var course in db.Courses) 
        { 
            if (selectedCoursesHS.Contains(course.CourseID.ToString())) 
            { 
                if (!instructorCourses.Contains(course.CourseID)) 
                { 
                    instructorToUpdate.Courses.Add(course); 
                } 
            } 
            else 
            { 
                if (instructorCourses.Contains(course.CourseID)) 
                { 
                    instructorToUpdate.Courses.Remove(course); 
                } 
            } 
        } 
    } 
```

# android - 重新缩放 ImageView 的位图时图像质量下降

> ID：13283658
> 
> 赞同：1
> 
> 时间：2012-11-08T06:24:57.303
> 
> 标签：android, matrix, imageview, scale

所以我有一个 ImageView，我设置了一个 OnTouchListener。OnTouch 方法如下所示。

```
//Touch event related variables
int touchState;
final int IDLE = 0;
final int TOUCH = 1;
final int PINCH = 2;
float dist0, distCurrent;

public boolean onTouch(View view, MotionEvent event) {
    boolean handledHere = false;

    float distx, disty;

    final int action = event.getAction();

    switch(action & MotionEvent.ACTION_MASK){           
    case MotionEvent.ACTION_DOWN:
        //A pressed gesture has started, the motion contains the initial starting location.
        touchState = TOUCH;
        break;
    case MotionEvent.ACTION_POINTER_DOWN:
        //A non-primary pointer has gone down.
        touchState = PINCH;

        //Get the distance when the second pointer touch
        distx = event.getX(0) - event.getX(1);
        disty = event.getY(0) - event.getY(1);
        dist0 = FloatMath.sqrt(distx * distx + disty * disty);

        break;
    case MotionEvent.ACTION_MOVE:
        if(touchState == PINCH){                        
            //Get the current distance
            distx = event.getX(0) - event.getX(1);
            disty = event.getY(0) - event.getY(1);
            distCurrent = FloatMath.sqrt(distx * distx + disty * disty);

            drawMatrix((ImageView) view);

        } else {
            handledHere = startDrag (view);
        }

        break;
    case MotionEvent.ACTION_UP:
        //A pressed gesture has finished.
        touchState = IDLE;
        break;
    case MotionEvent.ACTION_POINTER_UP:
        //A non-primary pointer has gone up.
        touchState = TOUCH;
        break;

    }

    return handledHere;
}

private void drawMatrix(ImageView view){
    float curScale = distCurrent/dist0;

    if (curScale < 0.5){
        curScale = 0.5f;    
    } else if (curScale > 1.5){
        curScale = 1.2f;
    }

    Bitmap originalBitmap = Bitmap.createBitmap(view.getWidth(), view.getHeight(), Bitmap.Config.ARGB_8888); //view.getDrawingCache();
    Canvas canvas = new Canvas(originalBitmap);
    view.draw(canvas);
    int[] originalSize = (int[]) view.getTag();
    int newHeight = (int) (originalSize[1] * curScale); 
    int newWidth = (int) (originalSize[0] * curScale); 

    view.setImageBitmap(getResizedBitmap(originalBitmap, newHeight, newWidth));
    view.getLayoutParams().height=newHeight;
    view.getLayoutParams().width=newWidth;

}

private Bitmap getResizedBitmap(Bitmap bm, int newHeight, int newWidth) {
    int width = bm.getWidth();
    int height = bm.getHeight();
    float scaleWidth = ((float) newWidth) / width;
    float scaleHeight = ((float) newHeight) / height;
    // create a matrix for the manipulation
    Matrix matrix = new Matrix();
    // resize the bit map
    matrix.postScale(scaleWidth, scaleHeight);
    // recreate the new Bitmap
    Bitmap resizedBitmap = Bitmap.createBitmap(bm, 0, 0, width, height, matrix, false);
    return resizedBitmap;
} 
```

问题是，当我使用手指手势放大或缩小时，图像质量会下降。例如，如果图像是PNG图像，具有半透明渐变，渐变将变为纯色模糊颜色，图像的其余部分变为像素化......任何人都有解决方案，或者遇到相同的问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T10:50:07.843

在 getResizedBitmap() 添加过滤：

```
Bitmap resizedBitmap = Bitmap.createBitmap(bm, 0, 0, width, height, matrix, true); 
```

# javascript - 在 WinJS 的导航应用程序的新页面中显示列表视图控件中所选项目的详细信息

> ID：13283659
> 
> 赞同：1
> 
> 时间：2012-11-08T06:24:59.720
> 
> 标签：javascript, windows-8, winjs

我在网格中工作（从技术上讲是 WinJS.UI.ListView），当用户触摸其中一个图块时，我想导航到第二页，其中包含有关该元素的更多详细信息。我能够导航到不同的页面，但无法获取所选项目的详细信息

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-15T23:06:03.563

所选项目通常作为导航中的参数传递。

因此，当您导航到详细信息页面时，您可能会使用：

```
var item = Data.items.getAt(args.detail.itemIndex);
nav.navigate("/pages/itemDetail/itemDetail.html", { item: Data.getItemReference(item) }); 
```

然后在详细信息页面中，您可以访问传递给 ready 函数的 options 参数：

```
ready: function (element, options) {
    // The data you passed in will be in the options parameter
    var item = options && options.item ? Data.resolveItemReference(options.item) : Data.items.getAt(0);
} 
```

您可以在 MSDN 上了解有关 WinJS 导航的更多信息：http: [//msdn.microsoft.com/en-us/library/windows/apps/hh738344.aspx](http://msdn.microsoft.com/en-us/library/windows/apps/hh738344.aspx)

# database - 修改数据时出现 DbUpdateConcurrencyException

> ID：13283666
> 
> 赞同：1
> 
> 时间：2012-11-08T06:25:48.757
> 
> 标签：database, asp.net-mvc-3, entity-framework, database-first

我现在一直在四处寻找。我尝试了几种解决方案，包括捕获 OptimisticConcurrency 并添加：

> “@Html.HiddenFor(model => model.OrganizationID)”

到我的删除页面。我的索引（列表）、创建和编辑页面就像一个魅力。但是，当我去删除一行时，它给了我以下错误：

> DbUpdateConcurrencyException
> 存储更新、插入或删除语句影响了意外数量的行 (0)。自加载实体后，实体可能已被修改或删除。刷新 ObjectStateManager 条目。

我按照教程构建了 Database First 应用程序。目前，我只是从我的组织表中引入数据，直到我可以让它顺利运行。我的组织模型如下所示（从“添加代码生成项”自动生成）：

```
//------------------------------------------------------------------------------
// <auto-generated>
//    This code was generated from a template.
//
//    Manual changes to this file may cause unexpected behavior in your application.
//    Manual changes to this file will be overwritten if the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------

namespace VAGTC.Models
{
    using System;
    using System.Collections.Generic;

    public partial class Organization
    {
        public Organization()
        {
            this.Contact_Title = new HashSet<Contact_Title>();
            this.Organization_Address = new HashSet<Organization_Address>();
            this.Organization_Business_Type = new HashSet<Organization_Business_Type>();
            this.Organization_Country = new HashSet<Organization_Country>();
            this.Organization_Email = new HashSet<Organization_Email>();
            this.Organization_Membership = new HashSet<Organization_Membership>();
            this.Organization_Notes = new HashSet<Organization_Notes>();
            this.Organization_Phone = new HashSet<Organization_Phone>();
            this.Organization_Website = new HashSet<Organization_Website>();
            this.Contacts = new HashSet<Contact>();
            this.Organization_Industry_Code = new HashSet<Organization_Industry_Code>();
        }

        public int OrganizationID { get; set; }
        public string Name { get; set; }

        public virtual ICollection<Contact_Title> Contact_Title { get; set; }
        public virtual ICollection<Organization_Address> Organization_Address { get; set; }
        public virtual ICollection<Organization_Business_Type> Organization_Business_Type { get; set; }
        public virtual ICollection<Organization_Country> Organization_Country { get; set; }
        public virtual ICollection<Organization_Email> Organization_Email { get; set; }
        public virtual ICollection<Organization_Membership> Organization_Membership { get; set; }
        public virtual ICollection<Organization_Notes> Organization_Notes { get; set; }
        public virtual ICollection<Organization_Phone> Organization_Phone { get; set; }
        public virtual ICollection<Organization_Website> Organization_Website { get; set; }
        public virtual ICollection<Contact> Contacts { get; set; }
        public virtual ICollection<Organization_Industry_Code> Organization_Industry_Code { get; set; }
    }
} 
```

这是我的组织控制器中的 Delete ActionResult：

```
//
// GET: /Organization/Delete/5

public ActionResult Delete(int id)
{
    using (var db = new VAGTCEntities())
    {
        return View(db.Organizations.Find(id));
    }
}

//
// POST: /Organization/Delete/5

[HttpPost]
public ActionResult Delete(int id, Organization organization)
{
    try
    {
        // TODO: Add delete logic here
        using (var db = new VAGTCEntities())
        {
            db.Entry(organization).State = System.Data.EntityState.Deleted;
                db.SaveChanges();

        }
            return RedirectToAction("Index");
    }
    catch
    {
        return View();
    }
} 
```

在我的索引页面上，它声明了主键：

> @Html.ActionLink("Delete", "Delete", new { id=item.OrganizationID })

出于好奇，我决定尝试添加

> “@Html.HiddenFor(model => model.OrganizationID)”

到底部，在 BeginForm 下，而不是在字段集和图例标签下的页面顶部：

```
@using (Html.BeginForm()) {
    <p>
        @Html.HiddenFor(model => model.OrganizationID)
        <input type="submit" value="Delete" /> |
        @Html.ActionLink("Back to List", "Index")
    </p>
} 
```

低头看——它奏效了。我还想发这个！也许其他人会找到它，它会帮助他们。虽然我不知道 100% 为什么会这样——有人可以解释一下吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T06:31:46.033

当你使用 from 助手时

```
@using (Html.BeginForm()) { 
```

它吐出以下输出

```
<form>

</form> 
```

如果要发布隐藏字段，则需要将其放入表单中，否则将不会发布，这就是`OrganizationID`将`0`隐藏字段放在表单之外的原因...

# java - 使用 Google Docs API 获取文档作者的显示名称？

> ID：13283670
> 
> 赞同：0
> 
> 时间：2012-11-08T06:26:00.170
> 
> 标签：java, google-docs

在我有时间迁移到 Drive API 之前，我必须将 Google Documents List API 用于 Android 应用程序。

我想获取与我共享的文档作者的名字和姓氏。

目前我只能使用以下方法获取作者的用户名。

```
// entry is a DocumentListEntry    
String aName = entry.getAuthors().get(0).getName(); 
```

是否有我缺少的属性或方法？Java Docs API 的文档很少。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T06:41:25.330

没有。[这里](https://developers.google.com/gdata/javadoc/com/google/gdata/data/Person)的文档在这方面没有提供太多的余地。您也许可以尝试对名称进行标记，但不能保证给定名称必须由 >1 部分组成，我不推荐这种做法。

# wpf - wpf usercontrol - MVVM模式 - 如何确定加载时间

> ID：13283673
> 
> 赞同：1
> 
> 时间：2012-11-08T06:26:10.170
> 
> 标签：wpf, mvvm, user-controls, wpf-controls

我有一个基于 Prism 的 MVVM 模式的 WPF 应用程序。我们有一个外壳，并将视图作为用户控件加载到外壳中。该应用程序包含基于菜单的导航，当您单击菜单工具时，将加载一个屏幕。我想找出加载视图所花费的时间。时间应包括调用 web 服务、获取模型数据将其转换为 viewmodel 并显示视图所花费的时间。有什么办法吗？有没有免费的工具？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T06:39:40.357

在您的 shell 类中使用[StopWatch 。](http://msdn.microsoft.com/en-us/library/system.diagnostics.stopwatch.aspx)当用户点击导航项时启动它；将`Loaded`事件侦听器添加到您创建的新 UserControl，并在那里停止 StopWatch。那应该给你加载时间。

# php - 如何在php中ping ip地址并给出结果

> ID：13283674
> 
> 赞同：17
> 
> 时间：2012-11-08T06:26:15.380
> 
> 标签：php, ip-address, ping

> **可能重复：**
> [使用 PHP ping IP 地址并回显结果](https://stackoverflow.com/questions/8030789/pinging-an-ip-address-using-php-and-echoing-the-result)

你如何在php中ping一个IP地址。并给出结果，就好像你在 windows 中的 cmd 程序上一样

```
<?php

  system(‘ping -c 192.168.0.104’); // Ping IP address.<br>

   echo “pinged”;<br>

?> 
```

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2012-11-08T06:29:44.193

试试这个

```
$host="192.168.0.104";

exec("ping -c 4 " . $host, $output, $result);

print_r($output);

if ($result == 0)

echo "Ping successful!";

else

echo "Ping unsuccessful!"; 
```

注意：这取决于您正在运行的操作系统。Windows 将默认只有 4 次 ping，而 Linux 将永远 ping。

要在 Windows 中 ping 两次，请使用“ping -n 2 host”

要在 Linux 中 ping 两次，请使用“ping -c 2 host”

* * *

## 回答 #2

> 赞同：20
> 
> 时间：2012-11-08T06:32:03.917

```
$ip =   "127.0.0.1";
exec("ping -n 3 $ip", $output, $status);
print_r($output); 
```

输出如下所示

```
Array
(
    [0] => 
    [1] => Pinging 127.0.0.1 with 32 bytes of data:
    [2] => Reply from 127.0.0.1: bytes=32 time<1ms TTL=128
    [3] => Reply from 127.0.0.1: bytes=32 time<1ms TTL=128
    [4] => Reply from 127.0.0.1: bytes=32 time<1ms TTL=128
    [5] => 
    [6] => Ping statistics for 127.0.0.1:
    [7] =>     Packets: Sent = 3, Received = 3, Lost = 0 (0% loss),
    [8] => Approximate round trip times in milli-seconds:
    [9] =>     Minimum = 0ms, Maximum = 0ms, Average = 0ms
) 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-08T06:31:55.947

[我刚刚和那个执行官](http://php.net/manual/en/function.exec.php)ping 了谷歌

```
<?php
echo exec("ping www.google.com");
?> 
```

输出是：

```
Packets: Sent = 4, Received = 0, Lost = 4 (100% loss), 
```

# wpf - 在 netadvantage Ultimate 2012 vol2 中找不到 InfragisticsWPF4.Chart Assembly

> ID：13283676
> 
> 赞同：0
> 
> 时间：2012-11-08T06:26:28.813
> 
> 标签：wpf, silverlight, infragistics

我下载了netadvantage Ultimate 2012 vol2并安装了它。在早期版本中，我通过添加 InfragisticsWPF4.Chart.v11.2 Assembly 来使用 Infragistics.Windows.Chart 命名空间。但现在我找不到 InfragisticsWPF4.Chart.v12.2 Assembly 。发生了什么变化？如何添加 Infragistics.Windows.Chart 命名空间？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-10T16:21:57.583

XamChart 已退役，不再包含在 NetAdvantage for WPF 中：http: [//www.infragistics.com/community/blogs/jason_beres/archive/2011/01/01/important-product-changes-and-control-retirements- in-2011-2.aspx](http://www.infragistics.com/community/blogs/jason_beres/archive/2011/01/01/important-product-changes-and-control-retirements-in-2011-2.aspx)

# java - 我如何通过 sax 解析器修改 xml 字段值

> ID：13283683
> 
> 赞同：0
> 
> 时间：2012-11-08T06:27:21.557
> 
> 标签：java, xml, jaxb, saxparser

嗨，我对 Xml 解析很陌生

我想经常更改以下属性值............ columnCount，宽度和高度

之后我需要用修改后的数据重写 xml 文件

在使用java（sax，Dom或jaxB解析器）以下xml文件中，请任何人都可以对它提出一些建议......

==================================================== ======================================

```
<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="Hello_subreport1_subreport1" language="groovy" columnCount="2" printOrder="Horizontal" pageWidth="520" pageHeight="802" columnWidth="260" leftMargin="0" rightMargin="0" topMargin="0" bottomMargin="0" uuid="ac19d62f-eac8-428e-8e0a-9011534189ed">
    <property name="ireport.zoom" value="1.0"/>
    <property name="ireport.x" value="0"/>
    <property name="ireport.y" value="0"/>
    <queryString>
        <![CDATA[]]>
    </queryString>
    <field name="subjectName" class="java.lang.String">
        <fieldDescription><![CDATA[subjectName]]></fieldDescription>
    </field>
    <field name="subjectID" class="java.lang.Integer">
        <fieldDescription><![CDATA[subjectID]]></fieldDescription>
    </field>
    <field name="maxMarks" class="java.lang.Integer">
        <fieldDescription><![CDATA[maxMarks]]></fieldDescription>
    </field>
    <field name="redMarks" class="java.lang.Float">
        <fieldDescription><![CDATA[redMarks]]></fieldDescription>
    </field>
    <field name="passMarks" class="java.lang.Integer">
        <fieldDescription><![CDATA[passMarks]]></fieldDescription>
    </field>
    <field name="marks" class="java.lang.Float">
        <fieldDescription><![CDATA[marks]]></fieldDescription>
    </field>
    <background>
        <band splitType="Stretch"/>
    </background>
    <detail>
        <band height="52">
            <textField isStretchWithOverflow="true">
                <reportElement uuid="5f7665fb-9218-4434-a9e5-5eff306499b3" x="0" y="33" width="100" height="20"/>
                <box>
                    <pen lineWidth="0.0"/>
                    <topPen lineWidth="0.0"/>
                    <leftPen lineWidth="0.0"/>
                    <bottomPen lineWidth="0.0"/>
                    <rightPen lineWidth="0.0"/>
                </box>
                <textElement>
                    <font size="12"/>
                </textElement>
                <textFieldExpression><![CDATA[$F{marks}]]></textFieldExpression>
            </textField>
            <textField>
                <reportElement uuid="6b999cb1-600e-4634-be8f-7ac99e225f49" x="0" y="13" width="100" height="20"/>
                <box>
                    <topPen lineWidth="0.25"/>
                </box>
                <textElement/>
                <textFieldExpression><![CDATA[$F{subjectName}]]></textFieldExpression>
            </textField>
        </band>
    </detail>
</jasperReport> 
```

==================================================== =======================

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T06:34:10.957

如果您想修改文档，请使用 DOM 解析器。这会将 xml 文件转换为数据结构，您可以在其中找到属性并更改其值。看看 jdom 或 dom4j，它们真的很容易使用。

如果您只想阅读文档，sax 解析器是一个不错的选择。该解析器只是在解析文档时创建事件。

* * *

回答您的评论：我没有得到 NPE，但`rootNode.getChild("detail"))`返回 null。这是因为元素与命名空间相关联。将示例代码中的最后一行替换为

```
System.out.println(rootNode.getChild("detail", rootNode.getNamespace())); 
```

这样可行。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-08T06:50:28.813

在 Web 上有大量文档详细介绍了 XML 的编辑。探索它们，然后尝试一些东西。如果你被卡住了，那就把它贴在这里。

一些参考：[http ://www.w3schools.com/dom/default.asp](http://www.w3schools.com/dom/default.asp)

[如何在 Dom 解析器中修改 XML 数据](https://stackoverflow.com/questions/11666140/how-to-modify-xml-data-in-dom-parser)

[http://www.mkyong.com/java/how-to-modify-xml-file-in-java-dom-parser/](http://www.mkyong.com/java/how-to-modify-xml-file-in-java-dom-parser/)

[http://www.drdobbs.com/jvm/easy-dom-parsing-in-java/231002580](http://www.drdobbs.com/jvm/easy-dom-parsing-in-java/231002580)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-06-13T09:29:56.113

也许您可以使用[avc-binding-dom](https://code.google.com/p/avc-binding-dom/)，它通过注释将 DOM 节点绑定到您的自定义 Java 接口：

```
import org.w3c.dom.Node;
import net.avcompris.binding.annotation.XPath;
import net.avcompris.binding.dom.impl.DefaultDomBinder;

@Namespaces("xmlns:jr=http://jasperreports.sourceforge.net/jasperreports")
@XPath("/jr:jasperReport")
interface MyJasperReport {

    @XPath("@columnCount")
    int getColumnCount();
    void setColumnCount(int columnCount);

    @XPath("@pageWidth")
    int getPageWidth();
    void setPageWidth(int pageWidth);

    @XPath("jr:property[@name = 'ireport.zoom']/@value")
    String getZoom();
    void setZoom(String zoom);
}

Node node = ... // You have to load the XML file into a DOM node.

MyJasperReport jr = new DefaultDomBinder().bind(node, MyJasperReport.class);

jr.setColumnCount(4); // previously: 2
jr.setPageWidth(1024); // previously: 520
jr.setZoom("1.45"); // previously: "1.0"

... // then save the DOM node into a XML file. 
```

# python - python对列表列表的值求和

> ID：13283689
> 
> 赞同：8
> 
> 时间：2012-11-08T06:27:43.723
> 
> 标签：python, list, sum

我有列表列表，我需要对内部列表求和，例如，

```
a = [[1,2,3], [2,1,4], [4,3,6]] 
```

就我而言， a[i] 的 len 是相同的，即所有内部列表都具有相同的维度。

我需要输出为

```
result = [6,7,13] 
```

我所做的是：

```
result = [sum(a[i]) for i in range(len(a))] 
```

由于我的 len(a) 非常高，我希望有另一种方法可以在不使用 for 循环的情况下获得结果。

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2012-11-08T06:31:05.297

```
result = map(sum, a) 
```

是我会这样做的方式。或者：

```
result = [sum(b) for b in a] 
```

第二个变体与您的变体相同，只是它避免了不必要的范围声明。在 Python 中，您可以直接迭代列表，而不必保留单独的变量作为索引。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-08T07:02:55.847

我知道没有人喜欢它，只是提供一个选择：

```
result = [reduce(lambda x, y: x+y, l) for l in a] 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-08T06:33:51.933

一个简单的答案。

```
a = [[1,2,3], [2,1,4], [4,3,6]]
result = [sum(l) for l in a]

result
[6, 7, 13] 
```

# html - HTML 背景颜色

> ID：13283690
> 
> 赞同：0
> 
> 时间：2012-11-08T06:27:50.573
> 
> 标签：html

1.我正在尝试编写一个文本为红色且背景颜色为黄色的html代码，正在使用以下内容，文本为红色但背景不是黄色，我错过了什么？

2.基本上我正在尝试突出显示一些文本，如果有比突出显示更好的方法，请给我建议

```
 <font face = \"Arial\" style='color:red' 'background-color:yellow'>%s</font> <br><br>" 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-08T06:46:35.937

您的示例中有很多错误。

1.  HTML 属性应该用双引号引起来。
2.  将样式标签视为一个单一的 CSS 属性，所有内容都在一行中。
3.  不推荐使用字体标签，可以用 span 替换。
4.  最好的方法是在单独的 css 样式表中创建一个类，并在 span 内调用您的类。

HTML

```
<span class="highlight">%s</span> 
```

CSS

```
.highlight
  {
    color:Red;
    background-color:Yellow;
  } 
```

希望这可以帮助！祝你好运！

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-08T06:34:11.880

**注意：** `font`标签已弃用，不应鼓励使用。

为什么不使用 span 标签

```
<span class="text">%s</span> 
```

**CSS**

```
.text
  {
    color:Red;
    background-color:Yellow;
  } 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-08T06:30:51.817

你添加一个类并调用它

```
.text {font:arial; color:red; background:#fff;} 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-11-08T06:30:46.560

一些小事情 - HTML 属性应该用双引号括起来（在 周围没有多余的空格`=`）并且 CSS 样式应该以分号结尾，如下所示：

```
<font face="Arial" style="color:red;background-color:yellow">%s</font> 
```

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2012-11-08T06:30:49.417

用这个

```
<font face = \"Arial\" style='color:red;background-color:yellow'>%s</font> <br><br>​ 
```

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2012-11-08T06:35:25.230

您忘记用 a 分隔这两个属性`;`

```
<font face="Arial" style='color:red; background-color:yellow'>This Works!</font> 
```

# objective-c - 预期的 AlertView 错误':'

> ID：13283696
> 
> 赞同：1
> 
> 时间：2012-11-08T06:28:21.260
> 
> 标签：objective-c

```
- (void)showMessageError {
alertMessage = [[UIAlertView alloc] initWithTitle:@"Impossible"
                                                  message:@"Here are the problems:\n%@,\n%@,\n%@",self.Error1,self.Error2,self.Error3
                                                 delegate:self
                                                 cancelButtonTitle:@"OK"
                                                 otherButtonTitles:nil];
[alertMessage show];
} 
```

我只是想只用 cancelButtonTitle 显示这个 AlertView，但我在委托附近收到一个错误：self Expected':'

为什么 ？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-08T06:30:26.500

```
alertMessage = [[UIAlertView alloc] initWithTitle:@"Impossible"
                                              message:[NSString stringWithFormat:@"Here are the problems:\n%@,\n%@,\n%@",self.Error1,self.Error2,self.Error3]
                                             delegate:self
                                             cancelButtonTitle:@"OK"
                                             otherButtonTitles:nil]; 
```

试试这个

# php - 清理属性名称

> ID：13283699
> 
> 赞同：4
> 
> 时间：2012-11-08T06:28:40.917
> 
> 标签：php, regex, html, encoding

根据[验证器中的](http://html5.validator.nu/)[html 语法文档](http://www.w3.org/TR/html-markup/syntax.html#syntax-attributes)和反复试验，我认为 HTML 属性名称中允许的字符是：

*   字母数字
*   连字符
*   下划线
*   时期

例如这些**验证**：

```
<p data-éxample>
<p data-1.5> 
```

我想编写一个用于清理属性名称的函数：

```
<?php 
function sanitize_attr_name ( $name ) {
    return is_string($name) ? preg_replace( '/[^\w\-\.]/', '', $name ) : '';
} 
```

除了特殊的字母字符外，这有效：

```
sanitize_attr_name( 'data-éxample' ); // 'data-xample' 
```

现在有人使用这样的字符可能看起来很疯狂，但[实际上它确实有效，](http://jsfiddle.net/VfUU8/2/)尽管 css 似乎没有验证是否已[转义](http://mothereff.in/css-escapes)。

你如何在 PHP 中实现这一点？如何编写消毒剂以允许特殊的字母字符？这可能通过正则表达式吗？为什么是`ctype_graph('é')`假的？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-08T10:59:52.537

PHP 的正则表达式引擎 PCRE 支持[Unicode 字符](http://www.php.net/manual/en/regexp.reference.unicode.php)`\p{property}`属性。其中一个属性是**任何**字母`L`的属性。所以你可以替换为：**`\w``\p{L}0-9_`**

 **```
'/[^\p{L}0-9_.-]/' 
```

字符类中也不需要转义句点，并且可以在末尾放置连字符以避免转义。**

# php - Zend Form 元素（如 Zend_Form_Element_MultiCheckbox 等）的不区分大小写的 inArray

> ID：13283701
> 
> 赞同：0
> 
> 时间：2012-11-08T06:28:46.327
> 
> 标签：php, zend-framework, zend-form, zend-validate

默认情况下，一些表单元素（例如 Zend_Form_Element_MultiCheckbox 等）注册一个 InArray 验证器，该验证器针对已注册选项的数组键进行验证。此验证器使用区分大小写的比较。使大小写不敏感的最简单的方法是什么？我现在唯一想到的解决方案看起来像这样。关闭此验证器：

```
$element->setRegisterInArrayValidator(false); 
```

创建新的验证器，它将进行不区分大小写的比较并为元素添加此验证。这是解决这个问题的唯一方法吗？如果有一种标准方法可以使 inArray 验证器进行不区分大小写的比较，那似乎会很好。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T10:51:51.200

`Zend_Validate_InArray`使用`in_array`函数，该函数的文档说：

> 如果 needle 是字符串，则以区分大小写的方式进行比较。

`Zend_Validate_InArray`包括用于严格比较的选项，该选项也由`in_array`函数处理。但是没有区分大小写比较的选项。

使用`resursive`选项，`Zend_Validate_InArray`使用递归迭代器代替`in_array`并通过`==`（或，在严格模式下，`===`）运算符比较值。这也是区分大小写的。

所以没有其他选择，只能创建自己的验证器（我将继承自`Zend_Validate_InArray`, 覆盖`public function isValid($value)`）。

# matlab - MATLAB - 巴特沃斯滤波器设计的输入频率

> ID：13283706
> 
> 赞同：2
> 
> 时间：2012-11-08T06:29:32.600
> 
> 标签：matlab, filtering, nyquist

我很难用 'buttord' 和 'butter' 函数计算巴特沃斯系数。我的目标是从我构建的时间序列中过滤掉噪音。时间序列有一个红噪声分量和一个频率为 0.3 Hz 的正弦信号。时间序列的采样频率为 10 Hz。

按照关于“buttord”的文档[http://www.mathworks.com/help/signal/ref/buttord.html](http://www.mathworks.com/help/signal/ref/buttord.html)我计算了规范的 [n, Wn]（遵循文档的示例 1）：

```
Wp = 0.33/(sfreq/2); Ws = 0.37/(sfreq/2);
passripp = 0.1; stopatten = 40;
[n,Wn] = buttord(Wp,Ws,passripp,stopatten);
[b,a] = butter(n,Wn);
y_butter = filter(b,a,timeseries(:,2)); 
```

用时间绘制 y_butter 只会让我到处都是零！

我尝试使用“freqz”来检查滤波器的频率响应（使用 512 个样本）：

```
freqz(b,a,512,sfreq) 
```

其绘图显示过渡带在 1 到 4 Hz 之间！

我对过滤器的理解是：

*   0.3 Hz 信号
*   >> 0.3 Hz 时的噪声
*   通过从 0 到 0.33 Hz 的所有内容
*   衰减 0.36 Hz 以上的一切

您的帮助将不胜感激！

**数据可以在这里下载：[http](http://dl.dropbox.com/u/1918592/detrendedTS.mat) ://dl.dropbox.com/u/1918592/detrendedTS.mat 'ts' 的第 1 列是时间变量，第 2 列是数据变量**

我去除了线性拟合（Matlab'detrend'）以消除一些走开的红噪声行为。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-08T10:42:12.787

您发布的代码会生成第 57 个 (!!!!) 订单过滤器来执行您想要执行的操作。该`freqz`命令确实表明该过滤器是有效的，但是尝试直接实现这样一个高阶过滤器而不首先使用将其转换为二阶部分`tf2sos`无疑会导致严重的数值错误。这可能就是您只看到零的原因。如果将滤波器系数转换为二阶部分，然后级联滤波器，则实际上应该使用该`freqz`命令获得观察到的滤波器输出。

之所以首先获得如此高的滤波器阶数，是因为您将开始带和停止带放置得非常接近。`buttord`对于简单的低通巴特沃斯滤波器，完全不需要使用该函数。只需使用...

```
[b,a] = butter(n,cut/(sfreq/2)); 
```

...只需选择`n`给您想要的滚降（6,12,18 dB 等...）。当使用双精度数据表示时，您只会遇到`n`大约 10 个问题，但您可能会发现一个相对较小的过滤器顺序可以完成您想要的工作。

# linux - linux find 命令输出遍历

> ID：13283715
> 
> 赞同：1
> 
> 时间：2012-11-08T06:30:29.633
> 
> 标签：linux, command, find, traversal, output

我需要创建一个 shell 脚本，它只会在特定源（例如 /var/www/html/folder1/source/）下查找文件（例如 *.jpg），并且必须对 Find 命令返回的输出进行一些操作。以下是我在脚本中编写的命令

```
outputvar = find /var/www/html/folder1/source/ -name \*.jpg 
```

如何对存储 find 命令输出的变量进行遍历操作？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-08T06:34:28.320

您可能希望将`find`命令的输出放在一个文件中，例如

```
find /var/www/html/folder1/source/ -name \*.jpg > /tmp/find.out 
```

您还可以将该输出放入 shell 变量中，例如

```
outfindvar=$(find /var/www/html/folder1/source/ -name \*.jpg) 
```

然后你可以迭代它们

```
for jpgfile in $outfindvar; do 
   ## do something with $jpgfile
done 
```

如果您的文件名中有空格，请小心。在这种情况下，请考虑使用 ; 的`-print0`动作`find`。或者也许使用辅助脚本来执行该`-exec`操作。

你真的应该阅读[Advanced Bash Scripting Guide](http://www.tldp.org/LDP/abs/html/)

您可能希望以

```
#!/bin/bash -vx 
```

`-vx`在调试它时，一旦你的脚本运行良好，就删除它。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-08T06:36:00.523

如何将输出[管道](http://en.wikipedia.org/wiki/Pipeline_%28Unix%29)传输到您想要使用它做的任何其他事情？

```
find /var/www/html/folder1/source/ -name \*.jpg | other_command 
```

# android - 错误 1316：在 Windows 7（和 Visual Studio 2010）上安装 Mono for android 时

> ID：13283719
> 
> 赞同：1
> 
> 时间：2012-11-08T06:30:48.153
> 
> 标签：android, visual-studio-2010, windows-7, xamarin.android

我一直在尝试在 Windows 7 上安装 Mono For Android 4.2.7（使用 Visual Studio 2010）

它检测到只需要安装 Android SDK 和 Visual Studio 插件（这是正确的，因为我目前正在使用 MonoDevelop 和 Android SDK 开发应用程序，然后再尝试安装）

当它开始安装 Visual Studio 插件时，它会显示一个错误。我已经尝试了很多次，重新启动我的计算机，确保所有相关的应用程序都已关闭，但仍然得到同样的结果。

日志说网络问题。我知道它存储文件（本地临时）所以与网络有什么关系:(

部分日志文件如下，任何帮助将不胜感激。谢谢

```
[2012-11-08 05:55:23.450] [Info] Installation ID: 583be3ec-0405-4778-8fc8-5794c02dfe5f
[2012-11-08 05:55:23.450] [Info] Operating system: Windows 7 v6.1.7601.65536 (Enterprise (Service Pack 1); Microsoft Windows NT 6.1.7601 Service Pack 1), 64-bit
[2012-11-08 05:55:23.450] [Info] Installer version: 2.1.1.28292
[2012-11-08 05:55:23.451] [Info] Status: in progress

Some lines here about successfully installing Android SDK were removed. 

[2012-11-08 05:56:25.918] [Info] Skipping installation of software item 'MonoDevelop'
[2012-11-08 05:56:25.918] [Info] Installing software item 'Mono for Android, VisualStudio and MonoDevelop'
[2012-11-08 05:56:25.918] [Info] Installing an MSI
[2012-11-08 05:56:25.918] [Info] Database path: <USER_HOME>\Temp\MonoForAndroid\downloads\mono-android-4.2.7.15330979.msi
[2012-11-08 05:56:25.918] [Info] Starting MSI installation: msiexec /i "<USER_HOME>\Temp\MonoForAndroid\downloads\mono-android-4.2.7.15330979.msi" /quiet /passive /log "<USER_HOME>\Temp\tmpEBB8.tmp" ADDLOCAL=VisualStudioAddin
[2012-11-08 05:56:27.337] [Info] MSI installation process exited with code 1603
[2012-11-08 05:56:27.337] [Info] Status: failed.
[2012-11-08 05:56:27.337] [Info] InstallMsi failed for '<USER_HOME>\Temp\MonoForAndroid\downloads\mono-android-4.2.7.15330979.msi'
[2012-11-08 05:56:27.337] [Exception] Exception was thrown.
[2012-11-08 05:56:27.337] [Exception] System.InvalidOperationException: MSI execution failed.

[2012-11-08 05:56:27.337] [Exception] at WindowsInstaller.WindowsInstallationArchiveHandler.InstallMsi(String file, Boolean needsPrivileges)
[2012-11-08 05:56:27.337] [Info] BEGIN >>>>>> msiexec log: '<USER_HOME>\Temp\tmpEBB8.tmp'
[Info] === Logging started: 8/11/2012  16:56:26 ===
[Info] Action start 16:56:26: INSTALL.

[Info] Action ended 16:56:26: AppSearch. Return value 1.
[Info] MSI (s) (40:20) [16:56:27:103]: Product: Mono for Android 4.2.7 -- Error 1316\. A network error occurred while attempting to read from the file: C:\Users\hasn.aitaiar\AppData\Local\Temp\MonoForAndroid\downloads\4776efd4-a061-4c4c-a6bf-50eb08119eb1-1348755828.msi
[Info] Error 1316\. A network error occurred while attempting to read from the file: C:\Users\hasn.aitaiar\AppData\Local\Temp\MonoForAndroid\downloads\4776efd4-a061-4c4c-a6bf-50eb08119eb1-1348755828.msi 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-27T16:22:21.127

我刚刚解决了这个问题。转到您的临时文件夹，`\AppData\Local\Temp\MonoForAndroid\downloads\mono-android-4.2.7.15330979.msi`

从那里运行它并首先单击卸载。

再次安装，设置将完成。

# objective-c - 如何在 UIImage 中获取指定点的颜色？

> ID：13283732
> 
> 赞同：1
> 
> 时间：2012-11-08T06:31:50.377
> 
> 标签：objective-c, colors, uiimageview, uiimage

比如我有一个UIImage，我想知道图片位置（300、200）是什么颜色，我该怎么做呢？谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-08T07:49:33.263

将此方法称为 uitouch move..

```
-(void) getPixelColorAtLocation:(CGPoint)point
{
    unsigned char pixel[4] = {0};
    CGColorSpaceRef colorSpace = CGColorSpaceCreateDeviceRGB();
    CGContextRef context = CGBitmapContextCreate(pixel, 1, 1, 8, 4, colorSpace, kCGImageAlphaPremultipliedLast);

    CGContextTranslateCTM(context, -point.x, -point.y);

    [self.layer renderInContext:context];

    // NSLog(@"x- %f  y- %f",point.x,point.y);

    CGContextRelease(context);
    CGColorSpaceRelease(colorSpace);

    NSLog(@RGB Color code "%d  %d  %d",pixel[0],pixel[1],pixel[2]);
} 
```

您可以在 RGB colr 组合中获取触摸点的颜色代码。尝试一下

# javascript - 在没有表单的情况下使用 jQuery 和 Rails 定期 ping 服务器，更新表

> ID：13283738
> 
> 赞同：2
> 
> 时间：2012-11-08T06:32:15.047
> 
> 标签：javascript, jquery, ruby-on-rails, ajax, rest

我有点菜鸟，所以请多多包涵！

我正在尝试——当用户在仪表板上登录时——让 jQuery 每 X 秒定期 ping 服务器，并使用当前日期时间更新用户的“心跳”并将“在线”设置为 true。

我可能缺少一些涉及 jQuery 和 Rails 之间通信的 RESTful 概念和概念。刚刚完成 Michael Hartl 的 Ruby on Rails 教程并正在构建他的示例应用程序。

我做过研究，但答案主要涉及填写表格；我想在没有人的情况下做到这一点。

所以我需要以某种方式将 :user_id 传递给 jQuery 并将其链接到正确的 URI。我有一个状态控制器和一个状态模型，它们属于一个用户（其中​​一个）。Heartbeat 和 Online 在状态表中。

rake routes 显示： PUT /states/:id(.:format) states#update

**states_controller.rb**

```
class StatesController < ApplicationController
  before_filter :signed_in_user, only: [:thump]
  before_filter :correct_user,   only: [:thump]

  def new
  end
  def update
    @user = User.find(params[:id])
    user.update_attributes(heartbeat: Time.now, online: true)

    respond_to do |format|
      format.js
    end
  end
end 
```

**应用程序.js**

```
jQuery.ajaxSetup({ 
  'beforeSend': function(xhr) {xhr.setRequestHeader("Accept", "text/javascript")}
})

// Periodically updates heartbeat
$(function(){
    setInterval (thump, 3000);
    var js = '<thump> ';
    function thump(){
        console.log(js + 'Test');       
        $.ajax({
            url: 'states/update',
            type: 'POST',
            success: function(result) {
                console.log(js + result);
            }
        });
    }
}); 
```

谢谢您的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T06:38:45.460

如果您尝试执行的用户与当前登录的用户相同，那么您似乎不需要传递任何内容，只需在控制器中使用 current_user （或其他），而不是传递 id 和再次重新获取相同的对象。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-08T06:40:28.233

为什么不将您的 .js 文件更改为如下所示：

```
function giveLife(url) {
    setInterval (thump, 3000);
    var js = '<thump> ';
    function thump(){
        console.log(js + 'Test');       
        $.ajax({
            url: url,
            type: 'POST',
            success: function(result) {
                console.log(js + result);
            }
        });
    }
} 
```

并将其放在您要启动心跳的视图中：

```
<script type="text/javascript">
    $(function(){
         giveLife(<%= states_path(@state, @user_id).to_json %>);
    });
</script> 
```

# android - 想要取消选中 RadioGroup 中的两个 RadioButton

> ID：13283741
> 
> 赞同：0
> 
> 时间：2012-11-08T06:33:29.570
> 
> 标签：android, radio-button, radio-group

> **可能重复：**
> [取消选中 RadioButton 的 - 替代方法](https://stackoverflow.com/questions/4390804/unchecking-radiobuttons-alternative-method)

场景是我在 radiogroup [Example-Geneder Selection] 中有 2 个单选按钮，

现在，当用户单击相同的选中单选按钮时，它将被取消选中，这意味着单击两个单选按钮后均未选中。

事件序列首先调用 onCheckedChanged 第二调用 OnClick

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T06:43:43.107

请参阅[此](http://www.mkyong.com/android/android-radio-buttons-example/)示例。因为它们使用无线电组和两个按钮名称与男性 - 女性相同。

你一定会成功。

# oracle - 如何在 Oracle APEX 4.1 的一个 TABLE 中调用或创建两个序列

> ID：13283750
> 
> 赞同：0
> 
> 时间：2012-11-08T06:33:54.093
> 
> 标签：oracle, oracle11g, oracle-apex, sequences

我为表 Vendor 创建了两个序列，Vendor_Id 和 Vendor_ReferenceNo。我想在 Vendor 表中调用或添加这两个序列。但是 APEX 4.1 只提供了每个表一个序列的选项。还有其他方法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T08:01:24.693

如果您确实需要这样做（正如评论中提到的@APC，这通常是设计有缺陷的标志），您可以在表上创建一个触发器，从第二个序列中选择并设置相应的列。

# php - 使用 PHP/MySQL 在 textarea 中验证所需文本时遇到问题

> ID：13283753
> 
> 赞同：0
> 
> 时间：2012-11-08T06:34:09.053
> 
> 标签：php, mysql, forms, validation

我有一个文本区域，我试图在提交表单之前验证是否有人填写。我正在用 PHP 完成我所有的验证服务器端。

我有两个想法。任何一个：

1) 将表单提交给自身并让字段在同一页面上验证自己，然后重定向到表单将更新我的数据库的页面。我遇到的问题是，由于它是向自己发布的，一旦页面重定向，我就无法使用 POST 值，因为它们不再有效。

2）所以我想我只是在第二页（表单最初设置为发布到的页面）上进行验证。这是该页面的代码，其中“描述”是文本区域的名称：

```
session_start();
if(!$_POST['description']){
echo "<script>alert(\"Please fill out all fields\");</script>";
header("location:post_job.php");
} 
```

然后它重定向回正在填写表单的页面。我得到了这个错误：

```
Warning: Cannot modify header information - headers already sent by (output started at siteinfo/site/checkjob.php:4) in siteinfo/site/checkjob.php on line 5 
```

第五行是标题行（所以第四行显然是回声行）。我不明白为什么它会产生那个错误，因为我还没有发送标题。任何帮助将不胜感激。谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T06:39:41.527

尝试这个

```
session_start();
if(!$_POST['description']){
echo "<script>alert(\"Please fill out all fields\");";
echo "window.location.href='post_job.php';";
echo "</script>";
} 
```

尽管我必须添加您打算显示信息的方式不是很好。在提交表单之前通过 Ajax 或 javascript 进行验证是一个很好的方法。保持这种方式作为备用计划，以防客户端系统上的 javascript 被禁用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-08T06:39:04.713

带有标签的回显将输出发送到浏览器。请改用您首选的 JavaScript 在脚本标记中重定向的方式。

# c# - 基于当前月份的硬编码月份和年份

> ID：13283754
> 
> 赞同：0
> 
> 时间：2012-11-08T06:34:10.293
> 
> 标签：c#, asp.net

我有一个基于当前月份和年份的登录页面，我必须显示一个标签，比如如果月份是 10 月，它应该显示为 2012 年 7 月至 12 月，如果是 1 月，它应该显示为 2013 年 1 月至 6 月我该怎么办它？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-08T06:39:17.153

如果您能以某种方式获取当前日期（我会说是给定的），只需编写类似以下伪代码的代码：

```
today = now()                              // Current date
if today.month() < 6:                      // Assumes months 0-based.
    output = "January-June " + today.year()
else:
    output = "July-December " + today.year() 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-08T06:52:25.443

这是你的 aspx 代码：

```
<html xmlns="http://www.w3.org/1999/xhtml">
<head runat="server">
    <title>Untitled Page</title>
</head>
<body>
    <form id="form1" runat="server">
    <div>
    <asp:Label ID="datelabel" runat="server" />

    </div>
    </form>
</body>
</html> 
```

这是你的 C# 代码：

```
 protected void Page_Load(object sender, EventArgs e)
        {

            DateTime date = DateTime.Now;    // display format: 4/25/2008 11:45:44 AM
            int mon = date.Month;
            if (mon < 6)
            {
                datelabel.Text = "Jan-june" +date.Year;
            }
            else
                datelabel.Text = "july-dec" +date.Year;

        } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-08T06:55:38.473

尝试这个，

```
 var today = DateTime.Now;
        var result = today.Month <= 6
                         ? string.Format("January-June {0}", today.AddYears(1).Year)
                         : string.Format("July-December  {0}", today.Year); 
```

**结果**：2012 年 7 月至 12 月

# groovy - 分布在范围和地图上

> ID：13283762
> 
> 赞同：0
> 
> 时间：2012-11-08T06:34:41.683
> 
> 标签：groovy

我有几个关于在范围和地图上应用扩展运算符的问题。请参阅下面的代码，错误行已标记。

(1) "assert" 适用于更新的范围，但为什么 "println" 不打印呢？

(2) 当我们说“*range”时，groovy 可以找出并扩展范围。那么为什么 " *map" 也不起作用，为什么我们需要说 "* :map" 呢？

```
def range = (1..3)
println range // prints: [1,2,3]

assert [0,1,2,3] == [0,*range] // works ok
println [0, *range] // error

def map = [a:1, b:2]
assert [a:1, b:2, c:3] == [c:3, *:map] // works ok
assert [a:1, b:2, c:3] == [c:3, *map] // error 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T09:24:23.457

你打电话时：

```
println [0, *range] 
```

它试图调用`getAt`一个属性`println`。您需要将列表括在大括号中以帮助解析器：

```
println( [ 0, *range ] ) 
```

对于第二个错误，`*`这种形式是扩展运算符。它用于传播列表。

您有一张地图，因此需要使用扩展地图运算符`*:`（如您所见）

# python - 检查注册表项是否存在python

> ID：13283771
> 
> 赞同：1
> 
> 时间：2012-11-08T06:35:42.633
> 
> 标签：python, installation, registry, winreg

我在 python 中创建的安装程序中遇到了一个小问题。我有一个函数，它根据它的位置返回一个键的值。

```
def CheckRegistryKey(registryConnection, location, softwareName, keyName):
'''
Check the windows registry and return the key value based on location and keyname
'''    
    try:
        if registryConnection == "machine":
            aReg = ConnectRegistry(None,HKEY_LOCAL_MACHINE)
        elif registryConnection == "user":
            aReg = ConnectRegistry(None,HKEY_CURRENT_USER)   
        aKey = OpenKey(aReg, location)
    except Exception, ex:
        print ex
        return False

    try:
        aSubKey=OpenKey(aKey,softwareName)
        val=QueryValueEx(aSubKey, keyName)
        return val
    except EnvironmentError:
        pass 
```

如果该位置不存在，我会收到错误消息。我希望函数返回`False`，所以如果该位置不存在，那么我可以运行软件安装程序，它总是出现在异常中

```
# check if the machine has .VC++ 2010 Redistributables and install it if needed
try:
    hasRegistryKey = (edit_registry.CheckRegistryKey("machine", r"SOFTWARE\Wow6432Node\Microsoft\VisualStudio\10.0\VC\VCRedist", "x86", "Installed"))
    if hasRegistryKey != False:
        keyCheck = (edit_registry.CheckRegistryKey("machine", r"SOFTWARE\Wow6432Node\Microsoft\VisualStudio\10.0\VC\VCRedist", "x86", "Installed"))[0]
        if keyCheck == 1:   
            print 'vc++ 2010 redist installed'
    else:
        print 'installing VC++ 2010 Redistributables'
        os.system(productsExecutables + 'vcredist_x86.exe /q /norestart')
        print 'VC++ 2010 Redistributables installed'
except Exception, ex:
    print ex 
```

运行代码时遇到的异常是

```
'NoneType' object has no attribute '___getitem___' 
```

我从`def CheckRegistryKey`函数中得到的错误是

```
[Error 2] The system cannot find the file specified 
```

我需要做的是检查注册表项或位置是否存在，如果不将其定向到可执行文件。任何帮助表示赞赏。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-08T06:38:12.590

错误原因：

```
'NoneType' object has no attribute '___getitem___' 
```

在行中：

```
keyCheck = (edit_registry.CheckRegistryKey("machine", r"SOFTWARE\Wow6432Node\Microsoft\VisualStudio\10.0\VC\VCRedist", "x86", "Installed"))[0] 
```

片段`edit_registry.CheckRegistryKey("machine", r"SOFTWARE\Wow6432Node\Microsoft\VisualStudio\10.0\VC\VCRedist", "x86", "Installed")`正在返回`None`。

这意味着您最终会得到：

```
keyCheck = (None)[0] 
```

这就是引发您的错误的原因。您正试图在无对象的对象上获取项目。

`None`您从函数中返回的原因`CheckRegistryKey`是，如果发生错误，您不会返回任何内容。`return False`当你抓住一个时你需要`EnvironmentError`：

```
try:
    aSubKey=OpenKey(aKey,softwareName)
    val=QueryValueEx(aSubKey, keyName)
    return val
except EnvironmentError:
    return False 
```

我还将修改您的代码，以便您只调用`CheckRegistryKey`一次：

```
registryKey = edit_registry.CheckRegistryKey("machine", r"SOFTWARE\Wow6432Node\Microsoft\VisualStudio\10.0\VC\VCRedist", "x86", "Installed")
if registryKey is not False:
    keyCheck = registryKey[0] 
```

# android - 在 Android PhoneGap 中更改方向时，SplashScreen 未更改

> ID：13283775
> 
> 赞同：3
> 
> 时间：2012-11-08T06:36:05.780
> 
> 标签：android, cordova, orientation

我尝试为横向和纵向设置两个启动画面。为此，我在我的活动类中编写了以下代码

```
if (getResources().getConfiguration().orientation == 2) {
            super.setIntegerProperty("splashscreen", R.drawable.equipsplashscreen);
            Log.d("Orientation", "Landscape");
        }
        else {
            super.setIntegerProperty("splashscreen", R.drawable.splashscreen);
            Log.d("Orientation", "Portrait");
        } 
```

屏幕根据方向显示，但问题是..屏幕在加载时没有改变（即我以纵向模式启动我的应用程序，在加载启动画面时我将方向从纵向更改为横向，当时我的横向图像没有加载..只有纵向图像更改为横向样式）。

我正在使用 cordova-1.8.0 和 jquery-1.7.1

我该怎么做..提前谢谢..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T07:16:47.367

在 Android 中，我们必须像这样覆盖 onConfigurationChanged 方法

```
@Override
public void onConfigurationChanged(Configuration newConfig) {

    super.onConfigurationChanged(newConfig);
    if (newConfig.orientation == Configuration.ORIENTATION_PORTRAIT) {
        setContentView(R.layout.splashscreen);
        init();
    } else if (newConfig.orientation == Configuration.ORIENTATION_LANDSCAPE) {
        setContentView(R.layout.splashscreen);
        init();
    }
} 
```

并像这样在清单中添加一个标签

```
<activity
    android:name=".YourActivity"
    android:configChanges="orientation|keyboardHidden"
    android:windowSoftInputMode="stateAlwaysHidden|adjustResize|adjustPan" /> 
```

现在检查phonegap 中的要求，因为我不知道phonegap 我给你提示在android 中做了什么。

# javascript - JavaScript 是否支持 <= 运算符？

> ID：13283776
> 
> 赞同：0
> 
> 时间：2012-11-08T06:36:08.350
> 
> 标签：javascript, jsf-2, facelets

我在 JavaScript 中这样做：

```
function doClick() {
  var theValue = document.getElementById("theForm:theField").value;
  var theLength = theValue.length;

  if( theLength <= 3 )  --> Error
  {
    alert('Character length too small.');
  }
} 
```

并且`thefield`是一个 JSF 组件：

```
<h:form id="theForm">
  <h:commandButton id="theField" action="#{theBean.doFunctionA}" onclick="doClick()"/> 
```

当我在 IE 中渲染它时，它显示了这个错误：

```
Caused by: javax.faces.view.facelets.FaceletException: Error Parsing /viewMetadata/pages/thePage.xhtml: Error Traced[line: 66] The content of elements must consist of well-formed character data or markup.
    at org.apache.myfaces.view.facelets.compiler.SAXCompiler.doCompileViewMetadata(SAXCompiler.java:716)
    at org.apache.myfaces.view.facelets.compiler.Compiler.compileViewMetadata(Compiler.java:126)
    at org.apache.myfaces.view.facelets.impl.DefaultFaceletFactory._createViewMetadataFacelet(DefaultFaceletFactory.java:311)
    at org.apache.myfaces.view.facelets.impl.DefaultFaceletFactory.getViewMetadataFacelet(DefaultFaceletFactory.java:394)
    at org.apache.myfaces.view.facelets.impl.DefaultFaceletFactory.getViewMetadataFacelet(DefaultFaceletFactory.java:376)
    at org.apache.myfaces.view.facelets.FaceletViewDeclarationLanguage._getViewMetadataFacelet(FaceletViewDeclarationLanguage.java:1940)
    at org.apache.myfaces.view.facelets.FaceletViewDeclarationLanguage.access$000(FaceletViewDeclarationLanguage.java:129)
    at org.apache.myfaces.view.facelets.FaceletViewDeclarationLanguage$FaceletViewMetadata.createMetadataView(FaceletViewDeclarationLanguage.java:2049)
    at org.apache.myfaces.lifecycle.RestoreViewExecutor.execute(RestoreViewExecutor.java:161)
    at org.apache.myfaces.lifecycle.LifecycleImpl.executePhase(LifecycleImpl.java:171)
    at org.apache.myfaces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:118)
    at javax.faces.webapp.FacesServlet.service(FacesServlet.java:189)
    ... 52 more 
```

如果我用这个替换错误行：

```
if( theLength == '3' || theLength == '2' || theLength == '1') 
```

然后一切正常。我真的不明白实际发生了什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-08T06:44:34.767

鉴于错误消息：

```
Caused by: javax.faces.view.facelets.FaceletException: Error Parsing 
/viewMetadata/pages/thePage.xhtml: Error Traced[line: 66]
The content of elements must consist of well-formed character data or markup. 
```

听起来它正在尝试将其解析为 XML。您应该阅读 JSF 中通常需要的转义内容，但首先要*尝试*将其转义为 XML：

```
if (theLength &lt;= 3) 
```

在诊断错误时，重要的是要意识到这实际上并没有命中浏览器的 Javascript 引擎——问题在于*生成*页面。

# ruby - Heroku（尝试了我能找到资源的所有东西）

> ID：13283778
> 
> 赞同：1
> 
> 时间：2012-11-08T06:36:16.323
> 
> 标签：ruby, git, heroku

我已经尝试了几乎所有我能想到的才能登录heroku。我能想到的唯一一件事就是在我的计算机（Mac）上以新用户身份运行。然后看看是不是我的配置搞砸了。

有一次我可以，但后来我与它正在使用的旧工作电子邮件发生冲突，虽然我能够使用 heroku，但我再也无法访问该电子邮件了。

所以我试着开始，就好像我刚刚安装了heroku并开始了一个新帐户一样，我尝试了标准设置然后我去了这个：[无法推送到Heroku，因为密钥指纹](https://stackoverflow.com/questions/8786564/cannot-push-to-heroku-because-key-fingerprint)

没有任何效果，我只是不断收到身份验证失败。有任何想法吗？

回顾一下：

我有

1.  删除 ~/.ssh 目录并添加 github 然后我的 heroku 密钥与 add:key 功能
2.  尝试创建一个新用户帐户并重新安装工具带，然后通过正常的设置流程。
3.  并尝试了上面提到的最新的各种 stackoverflow 解决方案。

-- 我想做的并不特别，只是在我的电脑上拥有一个用户帐户。如果您的用户帐户电子邮件与您的 github 电子邮件相同，是否存在问题？我试过有无，我得到的只是“身份验证失败”。一次又一次。

请帮忙。

类型

# python - 如何使用 sqlalchemy 中的关系更改父级？

> ID：13283779
> 
> 赞同：2
> 
> 时间：2012-11-08T06:36:18.420
> 
> 标签：python, sqlalchemy

这是与 backref 和删除级联关系的简单示例。

```
class Parent(Base):
    __tablename__ = 'parent'
    id = Column(Integer, primary_key=True)

class Child(Base):
    __tablename__ = 'child'
    id = Column(Integer, primary_key=True)
    parent_id = Column(Integer, ForeignKey('Parent.id'))
    parent = relation(
        'Parent',
        backref=backref('children', cascade='delete, delete-orphan')
    ) 
```

需要将一些孩子从一个父母重新分配给另一个父母，然后需要删除另一个父母，但是 sqlalchemy 在删除父母之前会删除孩子......

```
p1 = Session.query(Parent).get(...)
p2 = Session.query(Parent).get(...)

p1.children.extend(p2.children)
Session.delete(p2)
Session.commit() 
```

日志：

```
... [worker 0] UPDATE child SET parent_id=%(parent_id)s WHERE child.id = %(child_id)s
...
... [worker 0] DELETE FROM child WHERE child.id = %(id)s
...
... [worker 0] DELETE FROM parent WHERE parent.id = %(id)s
...
... [worker 0] COMMIT 
```

需要以某种方式将孩子与另一个父母分开......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T08:54:32.137

我可以建议的唯一解决方案是：

```
p1 = Session.query(Parent).get(...)
p2 = Session.query(Parent).get(...)

for child in p2.children[:]:
    child.parent = p1

Session.delete(p2)
Session.commit() 
```

# java - JNI 中的 UnsatisfiedLinkError

> ID：13283781
> 
> 赞同：2
> 
> 时间：2012-11-08T06:36:39.550
> 
> 标签：java, c, java-native-interface, native

我正在使用 JNI 为学校开发一个项目。简而言之，我已经让第一部分使用共享库和 JNI 工作，但第二部分（指的是同一个库）每次尝试运行代码时都会给出 UnsatisfiedLinkError。我的教授和助教都无法解决这个问题，我已经尝试调试了一个多星期。

第一部分是一个独立执行的 .java 程序，给定一个整数文件和一个频率，它应该调用 C 中的本机代码来计算直接傅立叶变换并返回一个给定频率的值。在 java 中，我将这些 int 存储到一个数组中，并将该数组传递给 JNI 以计算 C 中的 DFT。这将返回一个 int 值，并且工作起来就像一个魅力。

对于第二部分，我们创建了一个 gui 接口，它加载 JNI 库并接受 .wav 文件或我们自己格式的文件。当从文件选择器中选择文件时，需要此 gui 来计算文件的频率。由于 .wav 文件（和其他类型）具有标题信息以及二进制数据，而不是第一部分中的整数，我的策略是将文件名（作为字符串）传递给 JNI，以便我的本机代码可以将 int 值分解为数组本身，然后计算文件的频率。我的gui完成了，从选择器中选择文件的动作事件应该是调用JNI代码并返回文件的频率。有趣*的是，代码在 linux 中编译并成功加载了库*，但由于此链接错误而崩溃*选择文件并使用文件选择器*调用本机代码时。*我彻底失败了。有任何想法吗？*

 ***这是 JNI 生成的头文件**

```
/* DO NOT EDIT THIS FILE - it is machine generated */
#include <jni.h>
/* Header for class dft */

#ifndef _Included_dft
#define _Included_dft
#ifdef __cplusplus
extern "C" {
#endif
/*
 * Class:     dft
 * Method:    computeDFT
 * Signature: ([III)I
 */
JNIEXPORT jint JNICALL Java_dft_computeDFT
  (JNIEnv *, jobject, jintArray, jint, jint);

/*
 * Class:     dft
 * Method:    computeFileDFT
 * Signature: (Ljava/lang/String;)I
 */
JNIEXPORT jint JNICALL Java_dft_computeFileDFT
  (JNIEnv *, jobject, jstring);

#ifdef __cplusplus
}
#endif
#endif 
```

**这是有效的代码**

```
public class dft
{
private native int computeDFT(int[] nums, int count, int freq);
private native int computeFileDFT(String fileName);

static
{
    /* 
     * !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
     * SYSTEM LOAD LIBRARY PATH BELOW
     * !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
     */
    System.loadLibrary("dft");
}

/**
 * @param args
 * @throws IOException 
 */
public static void main(String[] args) throws IOException
{
    File infile;
    Scanner sc = null;
    dft dft = new dft();
    int count = 0;
    int[] data = new int[4096];

    //code that reads the file and puts the content into an array called 'data'
            //the args[1] below is the specified frequency to be calculated in JNI

    int dftValue = dft.computeDFT(data, count, Integer.parseInt(args[1]));
    System.out.println(dftValue);
} 
```

**这是问题代码**

```
private native int computeFileDFT(String fileName);

static
{
    /* 
     * !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
     * SYSTEM LOAD LIBRARY PATH BELOW
     * !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
     */
    System.loadLibrary("dft");
    System.out.println("loaded successfully");
}

    //imagine more code here creating a JPanel object,
    //adding a bunch of stuff to it, etc. 
    //One key item that is added is a button, 
    //which when pressed opens a JFileChooser object, 
    //below you will see my implementation of the 
    //ActionListener which listens to the button and is 
    //supposed to execute the native code when the file is chosen.

private class TunerButtonListener implements ActionListener
{
    //@Override
    public void actionPerformed(ActionEvent event)
    {
        int returnVal = dialog.showOpenDialog(fileButton);
        if(returnVal == JFileChooser.APPROVE_OPTION) 
        {
            currentFileName = dialog.getSelectedFile().getName();
            currentFilePath = dialog.getSelectedFile().getPath();
            message.setText(currentFileName);

            int val = computeFileDFT(currentFilePath);
                    //more code goes here that does more stuff 
```

**完整的错误消息和堆栈**

```
Exception in thread "AWT-EventQueue-0" java.lang.UnsatisfiedLinkError: TunerPanel.computeFileDFT(Ljava/lang/String;)I
at TunerPanel.computeFileDFT(Native Method)
at TunerPanel$TunerButtonListener.actionPerformed(TunerPanel.java:167)
at javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2012)
at javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2335)
at javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:404)
at javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:259)
at javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:252)
at java.awt.AWTEventMulticaster.mouseReleased(AWTEventMulticaster.java:289)
at java.awt.Component.processMouseEvent(Component.java:6389)
at javax.swing.JComponent.processMouseEvent(JComponent.java:3268)
at java.awt.Component.processEvent(Component.java:6154)
at java.awt.Container.processEvent(Container.java:2045)
at java.awt.Component.dispatchEventImpl(Component.java:4750)
at java.awt.Container.dispatchEventImpl(Container.java:2103)
at java.awt.Component.dispatchEvent(Component.java:4576)
at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4633)
at java.awt.LightweightDispatcher.processMouseEvent(Container.java:4297)
at java.awt.LightweightDispatcher.dispatchEvent(Container.java:4227)
at java.awt.Container.dispatchEventImpl(Container.java:2089)
at java.awt.Window.dispatchEventImpl(Window.java:2518)
at java.awt.Component.dispatchEvent(Component.java:4576)
at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:672)
at java.awt.EventQueue.access$400(EventQueue.java:96)
at java.awt.EventQueue$2.run(EventQueue.java:631)
at java.awt.EventQueue$2.run(EventQueue.java:629)
at java.security.AccessController.doPrivileged(Native Method)
at java.security.AccessControlContext$1.doIntersectionPrivilege(AccessControlContext.java:105)
at java.security.AccessControlContext$1.doIntersectionPrivilege(AccessControlContext.java:116)
at java.awt.EventQueue$3.run(EventQueue.java:645)
at java.awt.EventQueue$3.run(EventQueue.java:643)
at java.security.AccessController.doPrivileged(Native Method)
at java.security.AccessControlContext$1.doIntersectionPrivilege(AccessControlContext.java:105)
at java.awt.EventQueue.dispatchEvent(EventQueue.java:642)
at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:275)
at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:200)
at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:190)
at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:185)
at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:177)
at java.awt.EventDispatchThread.run(EventDispatchThread.java:138) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-08T10:00:27.450

阅读 SO JNI 亚文化中无所不在的聪明人的巨大评论线程，我可能会遗漏一些东西，但对我来说，错误是显而易见的：

您已经针对类创建了本机 JNI 库`dft`，因此您的本机函数是`Java_dft_*`. 在`dft`实例范围内调用它确实有效。

然后你创建另一个类`TunerPanel`。当然，您声明了相同的本机方法签名，但是您没有任何带有`Java_TunerPanel_*`函数的库！您仍在使用与`Java_dft_*`.

使`dft`实例可从`TunerPanel`. 您不能对来自两个不同类的本地方法使用相同的本地库。或者使本机方法成为静态的。就我对 FFT 的理解而言，您不需要在`compute*`.*

# node.js - 如何在 Express 框架中匹配除 css/js/img 之外的所有请求？

> ID：13283788
> 
> 赞同：1
> 
> 时间：2012-11-08T06:37:14.780
> 
> 标签：node.js, express

与 Node.js 和 Express 混在一起。我现在只有以下内容：

```
app.get('*', function(req, res) {

}); 
```

这应该捕获所有网址。排除静态文件的最佳方式是什么——以 .css、.js 和 .png 结尾（或者可能以“css/”、“js/”和“img/”开头）？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-08T07:14:06.343

不要把你的静态文件放在`./views`. 将它们放入并在`./public`上面添加这一行`app.use(app.router)`：

```
 app.use(express.static(path.join(__dirname, 'public'))); 
```

这就是你所需要的，你不需要其他任何东西。

# forms - 使用不同模块的动作类是否会导致表单提交期间标题发生变化？

> ID：13283789
> 
> 赞同：0
> 
> 时间：2012-11-08T06:37:18.520
> 
> 标签：forms, encoding, module, symfony1

我在将表单提交给不同模块的操作时遇到问题，例如我有一个名为“mymobile”的模块，我正在调用模块“register”中的一个操作，该操作将处理注册，如果我正在设置的表单中有任何错误错误消息并转发到“mymobile”模块的页面，我从该页面调用“注册”操作，因此它正在修改标题并且我的日文文本被转换为一些垃圾。有什么方法可以在不更改文本的情况下在表单上显示错误消息？$this->forward() 方法的任何替代方法？我正在使用 symfony 1.1 并且我尝试了 $this->rediect() 它将刷新页面。

提前谢谢你

# php - 从 mysql 日期字段获取 3 天数据

> ID：13283790
> 
> 赞同：-2
> 
> 时间：2012-11-08T06:37:28.880
> 
> 标签：php, mysql

我在 mysql 中有一个 date_time 字段，格式如下：

```
date_time
-----------------
Wed Nov 08 2012 16:22:06 GMT 0 
```

如何从当前日期获取三天数据。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-08T06:49:50.720

我敢打赌 column`Date_Time`的数据类型是 varchar，如果是这种情况，您应该使用`STR_TO_DATE`例如将其转换为有效日期，

```
SELECT STR_TO_DATE(date_time, '%a %b %d %Y %H:%i:%s')
FROM tableName
WHERE   DATE(STR_TO_DATE(date_time, '%a %b %d %Y %H:%i:%s')) >=
        DATE(DATE_ADD(CURDATE(), INTERVAL 3 DAY)) 
```

*   [**SQLFiddle 演示**](http://sqlfiddle.com/#!2/797bd/8)

来源

*   [日期（）](http://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html#function_date)
*   [STR_TO_DATE()](http://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html#function_str-to-date)
*   [日期*格式*](http://davidwalsh.name/format-date-mysql-date_format)
*   [DATE_ADD()](http://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html#function_date-add)
*   [CURDATE()](http://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html#function_curdate)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-08T06:44:11.773

尝试

```
SELECT * FROM table WHERE date_time>=DATE_SUB('2012-09-27',INTERVAL 3 DAY) 
```

或者

```
SELECT created_date FROM property WHERE created_date>=DATE_SUB(NOW(),INTERVAL 3 DAY) 
```

附言

尝试提高你的接受率。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-08T06:40:23.257

请检查此查询，敌人示例

```
SELECT DATE_FORMAT(date_time,"%d-%m-%y") FROM your_tablename; 
```

# joomla - 如何在登录 com_users 登录菜单后将语言从默认更改为其他语言？

> ID：13283810
> 
> 赞同：0
> 
> 时间：2012-11-08T06:38:56.857
> 
> 标签：joomla

我正在使用 com_users 组件登录多语言 Joomla (2.5) 网站，默认语言为英语，第二语言为丹麦语。为此，我正在使用语言切换器模块它提供丹麦语和英语两种语言的登录表单。整个网站在这两种语言下都能正常工作，但是在用丹麦语填写名称和密码后，网站就变成了英语。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T10:32:19.550

转到显示登录来源的丹麦语特定模块并查找选项：**登录重定向页面**。

从默认更改为所需的本地化页面。

# javascript - Javascript 可视化库 - 随时间变化的值

> ID：13283814
> 
> 赞同：3
> 
> 时间：2012-11-08T06:39:15.110
> 
> 标签：javascript, visualization, data-visualization, datavisualization.toolkit

有谁知道可以复制 NYTimes GREAT swing state 可视化的 javascript 库：

![在此处输入图像描述](../Images/a3a8634add6d0c35de4b863340789769.png)

[http://www.nytimes.com/interactive/2012/10/15/us/politics/swing-history.html?ref=politics](http://www.nytimes.com/interactive/2012/10/15/us/politics/swing-history.html?ref=politics)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-08T06:58:20.123

是的。由于迈克尔·博斯托克（d3 的创建者）现在在纽约时报工作，我假设你会想要使用 d3。GitHub repo 上有一个示例页面。;-)

[https://github.com/mbostock/d3/wiki](https://github.com/mbostock/d3/wiki)

这是画廊页面：

[https://github.com/mbostock/d3/wiki/Gallery](https://github.com/mbostock/d3/wiki/Gallery)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-12T14:04:15.587

桑基图可能是你最好的选择。它们展示了价值如何在流程的各个阶段进行拆分和重组。我刚刚使用 d3 库来[可视化参议院提名](http://news.yahoo.com/presidential-nominations-interactive-susan-rice-next-robert-bork-210309988.html)。（在这种情况下，输出从 d3 转换为 Raphael 以获得最终产品。）

[d3 桑基图示例](http://bost.ocks.org/mike/sankey/)

您只需将数据排列为一系列节点和链接，尽管任何循环链接都会欺骗算法。

# java - onInterceptTouchEvent 只获取 ACTION_DOWN

> ID：13283827
> 
> 赞同：30
> 
> 时间：2012-11-08T06:40:34.350
> 
> 标签：java, android

为什么`ViewGroup`只能`ACTION_DOWN`进去`onInterceptTouchEvent`？根据文档，只要返回 false，它就应该接收所有事件类型。 [http://developer.android.com/reference/android/view/ViewGroup.html#onInterceptTouchEvent%28android.view.MotionEvent%29](http://developer.android.com/reference/android/view/ViewGroup.html#onInterceptTouchEvent%28android.view.MotionEvent%29) 第 3 点。

**示例代码：**

```
public class MainActivity extends Activity {

    private static final String TAG = MainActivity.class.getSimpleName();

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(new Container(this));
    }

    private class Container extends LinearLayout {

        public Container(Context context) {
            super(context);
            setBackgroundColor(0xFF0000FF);
        }

        @Override
        public boolean onInterceptTouchEvent(MotionEvent ev) {
            Log.i(TAG, "onInterceptTouchEvent");
            int action = ev.getActionMasked();
            switch (action) {
            case MotionEvent.ACTION_DOWN:
                Log.i(TAG, "onInterceptTouchEvent.ACTION_DOWN");
                break;
            case MotionEvent.ACTION_MOVE:
                Log.i(TAG, "onInterceptTouchEvent.ACTION_MOVE");
                break;
            case MotionEvent.ACTION_CANCEL:
            case MotionEvent.ACTION_UP:
                Log.i(TAG, "onInterceptTouchEvent.ACTION_UP");
                break;
            }
            return super.onInterceptTouchEvent(ev);
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：51
> 
> 时间：2012-11-24T09:36:22.133

我会回答我自己的问题：只有当父级有一个从 onTouchEvent 返回“true”的子视图时才会调用 onInterceptTouchEvent。一旦孩子返回 true，父母现在就有机会拦截该事件。

![在此处输入图像描述](../Images/42572378b56cacf71c6921117920d9bc.png)

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2016-01-31T11:13:49.500

我遇到同样的问题。我读过很多关于它的帖子：
[onInterceptTouchEvent 只获得 ACTION_DOWN](https://stackoverflow.com/questions/13283827/onintercepttouchevent-only-gets-action-down)
[onInterceptTouchEvent 的 ACTION_UP 和 ACTION_MOVE 永远不会被调用](https://stackoverflow.com/questions/21288081/onintercepttouchevents-action-up-and-action-move-never-gets-called)
[onInterceptTouchEvent，onTouchEvent 只看到 ACTION_DOWN](https://stackoverflow.com/questions/12592610/onintercepttouchevent-ontouchevent-only-see-action-down)
[onInterceptTouchEvent 永远不会收到 action_move](https://stackoverflow.com/questions/23725102/onintercepttouchevent-never-receives-action-move)

我还阅读了 android 文档： http:
[//developer.android.com/training/gestures/viewgroup.html](http://developer.android.com/training/gestures/viewgroup.html)
[http://developer.android.com/reference/android/view/ViewGroup.html#onInterceptTouchEvent(android.view.运动事件）](http://developer.android.com/reference/android/view/ViewGroup.html#onInterceptTouchEvent(android.view.MotionEvent))

所有的答案都是一样的。我试了很多次，总是得不到onInterceptTouchEvent()如果没有down事件被调用。

我读了源代码，我猜有些东西改变了：

```
@Override
public boolean dispatchTouchEvent(MotionEvent ev) {
    if (mInputEventConsistencyVerifier != null) {
        mInputEventConsistencyVerifier.onTouchEvent(ev, 1);
    }

    boolean handled = false;
    if (onFilterTouchEventForSecurity(ev)) {
        final int action = ev.getAction();
        final int actionMasked = action & MotionEvent.ACTION_MASK;

        // Handle an initial down.
        if (actionMasked == MotionEvent.ACTION_DOWN) {
            // Throw away all previous state when starting a new touch gesture.
            // The framework may have dropped the up or cancel event for the previous gesture
            // due to an app switch, ANR, or some other state change.
            cancelAndClearTouchTargets(ev);
            resetTouchState();
        }

        // Check for interception.
        final boolean intercepted;
        if (actionMasked == MotionEvent.ACTION_DOWN
                || mFirstTouchTarget != null) {
            final boolean disallowIntercept = (mGroupFlags & FLAG_DISALLOW_INTERCEPT) != 0;
            if (!disallowIntercept) {
                intercepted = onInterceptTouchEvent(ev);
                ev.setAction(action); // restore action in case it was changed
            } else {
                intercepted = false;
            }
        } else {
            // There are no touch targets and this action is not an initial down
            // so this view group continues to intercept touches.
            intercepted = true;
        } 
```

根据上面的代码，`onInterceptTouchEvent(ev)`只有在 时才被调用`MotionEvent.ACTION_DOWN`，这是我们尝试和发现的。所以，我猜是，代码改变了，但文档没有。

如果您想监视或监视所有事件，包括发送到子视图的事件，您可以`dispatchTouchEvent()`像这样覆盖：

```
@Override
public boolean dispatchTouchEvent(MotionEvent event) {
    MyLog.d(MyLog.DEBUG, "dispatchTouchEvent(): "+event.getAction());
    if (isEnabled()) {
        MyLog.d(MyLog.DEBUG, "dispatchTouchEvent()2: "+event.getAction());

        processEvent(event);//here you get all events include move & up

        super.dispatchTouchEvent(event);

        return true; //to keep receive event that follow down event
    }
    return super.dispatchTouchEvent(event);
} 
```

我的可运行代码位于：[https ://github.com/maxyou/gesturebutton/blob/master/src/com/maxproj/gesturebutton/GestureButtonLayout.java](https://github.com/maxyou/gesturebutton/blob/master/src/com/maxproj/gesturebutton/GestureButtonLayout.java)

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2018-05-05T17:12:18.207

**dispatchTouchEvent, onInterceptTouchEvent, requestDisallowInterceptTouchEvent**

[[触摸事件流程]](https://stackoverflow.com/a/57222691/4770877)

官方[文档](https://developer.android.com/guide/topics/ui/ui-events)

> `Activity.dispatchTouchEvent(MotionEvent)`- 这允许您的 Activity 在将它们分派到窗口之前拦截所有触摸事件。
> 
> `ViewGroup.onInterceptTouchEvent(MotionEvent)`- 这允许 ViewGroup 在事件被分派到子视图时观察它们。它是递归函数（从父级到父级）
> 
> `ViewParent.requestDisallowInterceptTouchEvent(boolean)`- 在父视图上调用它以指示它不应使用 onInterceptTouchEvent(MotionEvent) 拦截触摸事件。

# android - unicode中的Android资源文件名会破坏东西吗？

> ID：13283828
> 
> 赞同：2
> 
> 时间：2012-11-08T06:40:42.383
> 
> 标签：android, eclipse, unicode

我正在使用这种文件名移植一个包含大量资源文件的应用程序：

*   game_sound_phrase_コンパス.mp3
*   game_sound_phrase_シンバル.mp3

我感觉 Android 和/或 Eclipse 中的某些东西与此无关。

*   game_sound_phrase_„ÅÑ„Åã„Åù„ÅÜ„ÇÅ„Çì01.mp3：错误：文件名无效。无法添加。
*   game_sound_phrase_„ÅÑ„Åã„Åù„ÅÜ„ÇÅ„Çì01.mp3：错误：文件名无效。无法添加。

我有很多这样的文件。我必须重命名它们吗？

顺便说一句，这些文件放在 raw/.

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-08T06:42:37.797

Eclipse 中的资源文件目前要求文件名仅包含`(a-z0-9-_)`：小写 az、0-9、破折号和下划线。这是一个已知限制，并且已经存在了一段时间，因此您需要重命名文件。

# json - 从 localhost 获取 JSON 响应

> ID：13283829
> 
> 赞同：1
> 
> 时间：2012-11-08T06:40:45.580
> 
> 标签：json, localhost, response

我想从我的本地主机获取 JSON 响应，我在其中创建了一个返回 JSON 响应的 .php 文件。除了本地主机外，它运行良好。我的 apache 服务器和 myPhp 服务器运行良好。有人可以帮助我吗？

# command-line - 詹金斯和命令行中的 FreeSSHd

> ID：13283830
> 
> 赞同：0
> 
> 时间：2012-11-08T06:40:58.610
> 
> 标签：command-line, ssh, jenkins

我已经在我的一台 Windows 服务器中安装了fresshd。现在我通过 putty 连接到系统。它工作正常。当我从命令行运行时我的问题

*PuTTY.lnk -ssh -2 -P 22 用户名@XXX -pw pswd -m command.txt*

command.txt 文件中给出的命令不会执行，它只是打开腻子控制台并关闭。当从 Jenkins 运行时也是同样的问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-13T16:48:11.900

我不确定您是从 Linux 机器连接到 Windows，还是从 Windows 机器连接到 Linux。还是 Windows 到 Windows？

**PuTTY.lnk**不是可执行文件。如果您尝试运行它，它应该会产生错误`'PuTTY.lnk' is not recognized as an internal or external command`。我假设您正在从 Windows 机器运行命令，因为您指的是 Windows 快捷方式文件 (.lnk)

您需要使用**PuTTY.exe** + 命令行的其余部分。请注意，除非它在您的 $PATH 设置中，否则您必须提供 .exe 的完整路径，例如`C:\LocationOfPuttyInstall\putty.exe -ssh -2 -P 22 username@XXX -pw pswd -m command.txt`. 为了防止出现任何其他问题，您还应该指定 command.txt 文件的正确完整路径。

如果您不确定 Putty 的安装位置，请在 Windows 机器上执行以下操作：

*   右键单击 PuTTY 快捷方式（PuTTY.lnk 文件）
*   **在“目标”**下查看

 **这将列出您的 PuTTY.exe 可执行文件的完整路径。
这应该可以解决您的问题。

ps
通常Putty 用于从Windows 机器连接到Linux 机器。从您的问题来看，您似乎正在尝试从一台 Windows 机器连接到另一台 Windows 机器。

您应该为此目的使用**PsExec windows 工具：**
[http ://technet.microsoft.com/en-us/sysinternals/bb897553.aspx](http://technet.microsoft.com/en-us/sysinternals/bb897553.aspx)**

# css - Firefox 的边框比其他浏览器少 1px

> ID：13283834
> 
> 赞同：1
> 
> 时间：2012-11-08T06:41:11.393
> 
> 标签：css, firefox, firebug, border

我正在向 div 添加边框和边框半径，但是边框在 firfox 中的显示方式不同。在firebug中，我可以看到边框是5px，但在布局面板中，它变成了4px。你能告诉我为什么，希望能解决吗？谢谢！

![在此处输入图像描述](../Images/0dea851aabb8544b735efadf4e39f2f5.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-12-15T14:27:32.940

我刚刚遇到了这个问题。重置浏览器的缩放级别。

# iphone - 编译后 MainWindow.XIB 中的问题

> ID：13283839
> 
> 赞同：2
> 
> 时间：2012-11-08T06:41:35.253
> 
> 标签：iphone, objective-c, cocoa, xcode4.2, xib

我有一个未在 XCode 4.2 上存档的应用程序，因为它包含 mailcore 框架，但在库和标题搜索路径中完成更改后，我已经在 XCode 3.2 上成功存档。但是现在，当我在其 MainWindow.XIB 文件中进行更改时，例如添加标签或任何其他控件并在保存项目后进行编译时会出现错误..

**编译XIB MainWindow.xib**

**没有提供足够的论据；要操作的输入文档在哪里？**

并在 XCode 3.2 中扩展所有成绩单时，它给了我一些关于错误的详细描述，希望它更有帮助..

```
CompileXIB MainWindow.xib
cd /Users/amitbattan/Desktop/jony/Test/SampleApplication
setenv IBC_MINIMUM_COMPATIBILITY_VERSION 4.2
setenv PATH "/Developer/Platforms/iPhoneSimulator.platform/Developer/usr/bin:/Developer/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin"
/Developer/usr/bin/ibtool --errors --warnings --notices all_load --output-format human-readable-text --compile /Users/amitbattan/Desktop/Vikas/iRCS_Nov_8_4/RCS/build/Debug-iphonesimulator/iRCS.app/MainWindow.nib /Users/amitbattan/Desktop/Vikas/iRCS_Nov_8_4/RCS/MainWindow.xib --sdk /Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator4.2.sdk

/* com.apple.ibtool.errors */
: error: Not enough arguments provided; where is the input document to operate on? 
```

所以，我不知道为什么会发生这个错误，我怎么能得到这个错误..

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T10:03:19.960

我认为这是一个兼容性问题。我认为已经转移到Xcode 3.2 版本不理解的`.xib`Xcode 4（如行所示）。`setenv IBC_MINIMUM_COMPATIBILITY_VERSION 4.2``ibtool`

我认为您需要恢复到`.xib`更新到 Xcode 4 之前的版本。

# iphone - 使用 GDataXML 创建 XML 文档

> ID：13283840
> 
> 赞同：0
> 
> 时间：2012-11-08T06:41:41.913
> 
> 标签：iphone, objective-c, ios, xml, ios5

我不知道如何使用 GDataXML 创建 XML 文档，也找不到任何可以帮助我的好链接。请告诉我如何执行此操作或提供一些好的链接。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T06:43:28.270

看看[http://www.raywenderlich.com/725/how-to-read-and-write-xml-documents-with-gdataxml](http://www.raywenderlich.com/725/how-to-read-and-write-xml-documents-with-gdataxml)教程。它会帮助你。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-08T08:44:31.663

首先创建 xml 值并将其存储到字符串中。然后使用下面的方法在文档目录下创建xml文件。

//方法将字符串写入xml文件

```
-(void) writeToXMLFile:(NSString *)content
{

    //get the documents directory:
    NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
    NSString *documentsDirectory = [paths objectAtIndex:0];

   //make a file name to write the data to using the documents directory:
   NSString *fileName = [NSString stringWithFormat:@"%@/xmlfile.xml",documentsDirectory];

   //save content to the documents directory
   [content writeToFile:fileName atomically:NO encoding:NSStringEncodingConversionAllowLossy error:nil];

} 
```

# jquery - jQuery从响应中获取所有div

> ID：13283843
> 
> 赞同：0
> 
> 时间：2012-11-08T06:42:12.443
> 
> 标签：jquery, ruby-on-rails-3.1

我有一个 rails 应用程序，当我使用 jQuery`get`函数时，我得到以下响应。我必须使用`id='users_belonging_to_project'`.

如您所见，有多个具有相同 id 的 div。我想为这些 id 获取整个 html() 。

因为它是从响应返回的，所以我使用`$(data).find("div[id^='users_belonging_to_project']")`了它没有给出 div 数组。

```
<div id='i_1' class='clicked'>A</div>
<div id='users_belonging_to_project' class='demo-container'>
    <div id='2' class='user_clicked'>
        tm@gmail.com
    </div>
</div>
<div id='i_2' class='clicked'>B</div>
<div id='users_belonging_to_project' class='demo-container'>
    <div id='2' class='user_clicked'>
        tm@gmail.com
    </div>
</div>
<div id='i_3' class='clicked'>dsf</div>
<div id='users_belonging_to_project' class='demo-container'>
    <div id='3' class='user_clicked'>
        tm1@gmail.com
    </div>
</div>
<div id='i_4' class='clicked'>fd</div>
<div id='users_belonging_to_project' class='demo-container'>
    <div id='2' class='user_clicked'>
        tm@gmail.com
    </div>
    <div id='3' class='user_clicked'>
        tm1@gmail.com
    </div>
</div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T06:46:31.660

一个元素的 id 应该是唯一的，因此`getElementById`返回一个元素，而 jQuery 本身不会寻找多个具有相同 id 的元素。将其从 id-s 更改为其他属性并按该属性进行选择。您可以使用 HTML5 属性`data-identifier`或其他`data-*`您喜欢的属性。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-08T07:32:56.247

元素的 id 应该是唯一的。而不是 Id 使用类，它会给你数组

# android - 拨出电话 Android

> ID：13283844
> 
> 赞同：3
> 
> 时间：2012-11-08T06:42:24.957
> 
> 标签：android

我的应用程序想要获取呼叫在另一端响铃的事件。或者，当对方用户接听电话时。我试过`android.intent.action.NEW_OUTGOING_CALL`了，但对我没有用。我已经通过了`TelephoneManager`，但我无法获得解决方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T07:07:15.080

收听设备的电话状态，请查看此链接：

[Android：完全控制手机（kiosk模式），有可能吗？如何？](https://stackoverflow.com/questions/7121508/android-taking-complete-control-of-phone-is-it-possible-how/7121586#7121586)

尝试通过以下方式`CALL_STATE_OFFHOOK`实现`telephoney manager`：

**CALL_STATE_OFFHOOK**

至少存在一个正在拨号、活动或保持的呼叫，并且没有呼叫正在振铃或等待。

# android - 如何在android中更改选择项的颜色

> ID：13283846
> 
> 赞同：1
> 
> 时间：2012-11-08T06:42:35.057
> 
> 标签：android, listview, onitemclicklistener

关于我的android应用程序，ListView的OnItemClickListener，我想在单击一个项目时实现，这将是突出显示或可以更好：更改颜色（红色，蓝色或橙色）。其余的将是原始颜色。我检查了一些课程，我不知道如何实现，谁能给我一些指导或方向，我将非常感谢你的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T06:53:03.227

尝试使用`android:listSelector="@drawable/your_image"`这意味着不是很好的做法。使用 XML 获得更好的手势，例如`android:listSelector="@drawable/your_drawable_XML_file"`

# android - 我正在尝试获取网站的内容并使其显示在 android 应用程序中

> ID：13283850
> 
> 赞同：0
> 
> 时间：2012-11-08T06:42:44.563
> 
> 标签：android, wordpress, saxparser

我正在尝试获取网站的内容并使其显示在 android 应用程序中，所以我按照教程使用 SAX 解析器来解析网站的 XML 内容，所以根据我创建 RSS HANDLER CLASS 的说明该类的功能是 SAX Parser 遍历整个 XML 文件，每当遇到开始标记时，就会调用 endElement 方法并为其分配 localname 变量，我在 getTitle()、getthumb 中遇到错误() 等，所以请任何人纠正我所做的错误.. 这是我的 RSS 处理程序代码..`enter code here` 类 RSSHandler 扩展 DefaultHandler {

```
private static final String PostList = null;
private Post currentPost = new Post();
StringBuffer chars = new StringBuffer();

@Override
public void startElement(String uri, String localName, String qName,
        Attributes atts) {

    chars = new StringBuffer();
    if (localName.equalsIgnoreCase("item")) {

    }
}

@Override
public void endElement(String uri, String localName, String qName)
        throws SAXException {

    if (localName.equalsIgnoreCase("title")
            && currentPost.getTitle() == null) {
        currentPost.setTitle(chars.toString());

    }
    if (localName.equalsIgnoreCase("pubDate")
            && currentPost.getPubDate() == null) {
        currentPost.setPubDate(chars.toString());

    }
    if (localName.equalsIgnoreCase("thumbnail")
            && currentPost.getThumbnail() == null) {
        currentPost.setThumbnail(chars.toString());

    }
    if (localName.equalsIgnoreCase("link")
            && currentPost.getUrl() == null) {
        currentPost.setUrl(chars.toString());
    }

    if (localName.equalsIgnoreCase("item")) {
        PostList.add(currentPost);
        currentPost = new Post();
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T06:59:51.517

我认为这是您的检索元素中的问题。因为你从他们那里得到了项目或价值，但他们的回应是空的，所以这可能是他们的问题。

请参阅[此](http://www.mkyong.com/java/how-to-read-xml-file-in-java-sax-parser/)示例可能会指导您。

# android - EventSource 不会在 Android Firefox 上自动重新连接

> ID：13283853
> 
> 赞同：5
> 
> 时间：2012-11-08T06:43:12.083
> 
> 标签：android, html, firefox, server-sent-events

我正在尝试实现一个可以在桌面、Android 和 iOS 上运行的 HTML5 应用程序。该应用程序的主要功能是向服务器无线发送有关要运行哪些脚本的命令，并接收从该服务器推送的有关这些脚本状态的常规消息。

服务器正在运行 nodejs，我决定使用服务器发送事件来进行推送通知。这要求我在 Android 上使用 Firefox，因为原生 Android 浏览器不支持 SSE。

我的实现一切正常：节点服务器按应有的方式发布事件，我的客户端 HTML5/javascript 在桌面 chrome/firefox/safari、我的 iPod iOS6 和我的 Android 2.2 手机上正常运行。

但是，我需要处理 4 种常见情况：

*   设备失去其 wi-fi 信号
*   nodejs 服务器崩溃（希望这不常见！）
*   在浏览另一个应用程序等时将浏览器置于 iPod/Android 的后台。
*   浏览器运行时在 iPod/Android 上锁定屏幕

Chrome/Safari 在台式机和 iPod 上都表现完美，如下所示：如果服务器崩溃，网站会自动重新连接并在服务器再次启动时立即获取推送的消息，如果浏览器应用程序因任何原因进入后台，它仍然在后台收到这些消息，或者至少在它回到前台时自动重新连接。

然而，无论是桌面版还是安卓版的 Firefox 都急于永久关闭该 EventSource 连接。一旦浏览器失去与服务器的连接，无论是服务器崩溃、将 firefox 应用程序置于后台还是锁定屏幕，EventSource 连接都会被终止，并且不会尝试重新连接。当然，您可以在返回页面时重新加载页面，但这很烦人，尤其是在您需要将手机放在口袋里而需要锁定屏幕的情况下（此应用程序需要在一些徒步旅行的情况）。

除了一直在 Android Firefox 中重新加载页面之外，任何人都可以推荐任何解决方案吗？下面是我的虚拟实现，每 5 秒发送一次随机数。

**服务器位于 /main/src**

```
src : function(req, res) {
req.socket.setTimeout(Infinity);    

// send headers for event-stream connection
res.writeHead(200, {
    'Content-Type': 'text/event-stream',
    'Cache-Control': 'no-cache',
    'Connection': 'keep-alive'
});
res.write('\n');

var messageCount = 0;
var process; 

function printEvent() {
    messageCount++; 
    rand = Math.floor((Math.random()*10000)+1);
    res.write('id: ' + messageCount + '\n');
    res.write("data: " + rand + '\n\n');        

    process = setTimeout(printEvent, 5000);
}
printEvent(); 

res.socket.on('close', function () {
    res.end();
    clearTimeout(process);
});
} 
```

**客户**

```
var source = new EventSource('/main/src');

source.onopen = function(e){        
    $("#test").html("Connected to server. Waiting for data..."); 
} 

source.onmessage = function(e){  
    $("#test").html("MSG: " + e.data);
}

source.onerror = function(e){  
    var txt;
    switch(e.target.readyState){  
    case EventSource.CONNECTING:  
        txt = 'Reconnecting...';  
        break;  
    case EventSource.CLOSED:  
        txt = 'Connection failed. Will not retry.';  
        break;  
    }
    $("#test").html("Error: " + txt);
} 
```

谢谢！！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-27T02:50:56.217

我只知道一种解决方案，它已经在许多库中使用：“心跳”消息 - 在客户端，您可以检查，如果在 10 秒（5000 秒 + 一些滞后）内没有从服务器收到“随机数” -连接似乎已断开，您应该重新连接（使用本机 EventSource 您可以使用“关闭”方法，而不是创建新的 EventSource 或者您可以尝试[https://github.com/Yaffle/EventSource](https://github.com/Yaffle/EventSource)）

# postgresql - 使用 CREATE TABLE INHERITS 时如何继承注释

> ID：13283854
> 
> 赞同：2
> 
> 时间：2012-11-08T06:43:12.123
> 
> 标签：postgresql, create-table, inheritance

我有一个`basetemplate`使用创建的表：

```
CREATE TABLE basetemplate (
    time_of_creation timestamp with time zone,
); 
```

现在我想用不同的字段创建`table1`，`table2`但都包含`time_of_creation`字段。我尝试使用`CREATE TABLE LIKE`and `CREATE TABLE INHERITS`。这`CREATE TABLE INHERITS`似乎更符合我的要求，因为我可以使用在同一查询中指定的新表字段创建新表。但是对于另一种方法，我将不得不使用`ALTER TABLE`查询来添加我的新表的特定字段。 `CREATE TABLE INHERITS`继承了字段，它的约束；但不是它的评论。
我的问题是，这是否是满足我需求的最佳方式，并且在使用`CREATE TABLE INHERITS`.

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-08T08:20:12.737

`CREATE TABLE INHERITS`不适合仅复制表定义。表的实际*数据*是链接的，所以如果这不是你想要的，那么不要使用表继承，使用`CREATE TABLE ... LIKE`or ，然后使用命令`CREATE TABLE ... OF TYPE`添加字段。`ALTER TABLE`如果这太麻烦，则可能表明您应该只定义一个新表，或者可能使用复合类型或域。

您似乎正在尝试将 OOP 多态继承应用于 SQL。不是一个好主意。在这种情况下，你最好的选择几乎可以肯定就是重复共同领域。在更复杂的情况下，您可以创建`DOMAIN`，或使用 来创建复合类型`CREATE TYPE`，但在这种情况下，这是不必要的；只需重复每个表中的字段。

如果您使用`INHERITS`then 在基表中插入一行，会发生以下情况：

```
regress=> CREATE TABLE basetemplate (
    time_of_creation timestamp with time zone
);
CREATE TABLE
regress=> CREATE TABLE table1 (col1 text) INHERITS (basetemplate);
CREATE TABLE
regress=> INSERT INTO table1(col1, time_of_creation) VALUES ('a', current_timestamp);
INSERT 0 1
regress=> SELECT * FROM table1 ;
       time_of_creation        | col1 
-------------------------------+------
 2012-11-08 16:23:35.645734+08 | a
(1 row) 
```

到目前为止很好，但现在：

```
regress=> select * from basetemplate ;
       time_of_creation        
-------------------------------
 2012-11-08 16:23:35.645734+08
(1 row) 
```

这可能不是你想要的。

它实际上并没有造成任何伤害。`table1`由于继承，插入行没有任何开销。但是，您会发现它使稍后执行某些管理任务变得更加复杂，并且会使诸如表分区之类的事情变得复杂。总的来说，除非你需要，否则我不建议使用继承。

# visual-studio-2010 - cuda 程序的问题

> ID：13283855
> 
> 赞同：0
> 
> 时间：2012-11-08T06:43:15.087
> 
> 标签：visual-studio-2010, cuda

我正在编写一个简单的 cuda 程序，在该程序中我在设备中创建一个二维数组，然后我在内核函数中进行非常基本的操作，并在操作后将其复制回主机的二维数组。我在关注 stackoverlow 和 cuda 论坛的几个线程之后编写了这段代码。我遵循了建议，但我得到的代码输出为 0，而我期望数组的所有成员的输出为 10。我在下面发布我的代码：

```
__global__ void test_kernel(int *dev_ptr[])
{
    int tidx = threadIdx.x;
    int tidy = threadIdx.y;

    dev_ptr[tidx][tidy] = dev_ptr[tidx][tidy] +10;
}

int main(int argc,char *argv[])
{

    int env_end =50;
    int **h_ptr ;
    int **d_ptr ;
    int **env_t;
    int i,k,j;
    /************************************************************************/
    /* cpu
    /************************************************************************/
    env_t =(int **) malloc(env_end * sizeof *env_t);
    for(k=0;k<env_end;k++)
    {env_t[k] = (int *)malloc(env_end* env_end* sizeof *env_t[0]);                                                                                                                             
    }

    for (k = 1; k < env_end; ++k)
        env_t[k] = env_t[k - 1] + env_end;

    memset(*env_t, 0, env_end * env_end* sizeof **env_t);

    for (i=0;i<env_end;i++)
    {  for(j=0;j<env_end;j++)
    {printf("%d\t",env_t[i][j]);        }
    if (j==env_end-1)
    {printf("\n");  }
    }

    /************************************************************************/
    /* gpu
    /************************************************************************/

    h_ptr = (int **)malloc(env_end*sizeof(int *));
    for (i=0;i<env_end;i++)
    {  cudaMalloc((void **)&h_ptr[i],env_end*sizeof(int));
        cudaMemcpy(h_ptr[i],&env_t[i][0],env_end*sizeof(int),cudaMemcpyHostToDevice);
    }

    cudaMalloc((void ***)d_ptr,env_end*sizeof(int));
    cudaMemcpy(d_ptr,h_ptr,env_end*sizeof(int),cudaMemcpyHostToDevice);

    /************************************************************************/
    /* kernel function and declaration
    /************************************************************************/

          dim3 blockDim(env_end,env_end,1);

          test_kernel<<<1,blockDim>>>(d_ptr);

    /************************************************************************/
    /* Copying data back to host
    ************************************************************************/
          for (i=0;i<env_end;i++)
          {cudaMemcpy(env_t[i],h_ptr[i],env_end*sizeof(int),cudaMemcpyDeviceToHost);
          }

          for (i=0;i<env_end;i++)
          {  for(j=0;j<env_end;j++)
          {printf("%d\t",env_t[i][j]);      }
          if (j==env_end-1)
          {printf("\n");    }
          }

    /************************************************************************/
    /* Freeing the memory locations
    /************************************************************************/
          for (i=0;i<env_end;i++)
          {cudaFree(h_ptr[i]);
          }

          cudaFree(d_ptr);
          free(h_ptr);

          for (i=0;i<env_end;i++)
          { free(env_t[i]);
            }
          free(env_t);

} 
```

另一件事是，我正在 MS Visual Studio 2010 中编写代码，并且收到调试断言失败通知。我不确定我做错了什么以及为什么会收到此通知。感谢你的帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-08T07:35:19.507

这段代码有一些问题。包含：

*   `h_ptr`、`env_t`和之间的大小不匹配`d_ptr`。
*   使用`&`而不是`(***void)`for `cudaMalloc`。
*   不要分配主机内存`cudaMalloc`。
*   优化：2D 内存在全局内存中非随之分配。分配一维内存并将其称为二维。

这是完整的代码：

```
#include <stdio.h>
#define SIZE 10
#define INDEX(i,j,k) i*k+j

__global__ void test_kernel(int *dev_ptr, int row_size)
{
    int tidx = threadIdx.x;
    int tidy = threadIdx.y;

    dev_ptr[INDEX(tidx,tidy,row_size)] = dev_ptr[INDEX(tidx,tidy,row_size)] +10;
}

int main(int argc,char *argv[])
{

    int env_end =SIZE;
    int *d_ptr=NULL;
    int *env_t;
    int i,j;

    /************************************************************************/
    // cpu
    /************************************************************************/
    env_t =(int *) malloc(env_end * env_end * sizeof(int));
    memset(env_t, 0, env_end * env_end* sizeof(int));

    printf("Input Array:\n");
    for (i=0;i<env_end;i++)
    {   for(j=0;j<env_end;j++)
        {printf("%d\t",env_t[INDEX(i,j,env_end)]);        }
        printf("\n");
    }
    printf("\n");

    /************************************************************************/
    // gpu
    /************************************************************************/
    cudaMalloc(&d_ptr,env_end*env_end*sizeof(int));
    cudaMemcpy(d_ptr,env_t,env_end*env_end*sizeof(int),cudaMemcpyHostToDevice);

    /************************************************************************/
    // kernel function and declaration
    /************************************************************************/
    dim3 blckDim(env_end,env_end,1);
    test_kernel<<<1,blckDim>>>(d_ptr, env_end);

    /************************************************************************/
    // Copying data back to host
    /************************************************************************/
    cudaMemcpy(env_t,d_ptr,env_end*env_end*sizeof(int),cudaMemcpyDeviceToHost);

    printf("Output Array:\n");
    for (i=0;i<env_end;i++)
    {  for(j=0;j<env_end;j++)
        {printf("%d\t",env_t[INDEX(i,j,env_end)]);      }
        printf("\n");
    }
    printf("\n");

    /************************************************************************/
    // Freeing the memory locations
    /************************************************************************/

    cudaFree(d_ptr);
    free(env_t);

} 
```

# java - GWT：如何获取我动态制作的文本框的更新值

> ID：13283856
> 
> 赞同：0
> 
> 时间：2012-11-08T06:43:18.633
> 
> 标签：java, gwt

我正在动态创建一个文本框，我从服务器获取值，值可能是 5，有时是 10 等，所以我创建的文本框数量会有所不同..

在所有文本框创建之后。

页面中有一个更新按钮，当我单击此更新按钮时，用户可能在任何文本框中输入的任何更改都应该需要转到服务器..我无法做到..

下面是我创建文本框的代码

```
 public void fetchData(){
    public void onSuccess(ArrayList<Details> result) {
          for(int i =0;i<result.size();i++){

                name  = new TextBox();
                name.setText(result.get(i).getName());
                                    verticalPanel.add(name);
                                    namesList.add(name);
                                    }} 
```

假设此时名称值为：admin 现在用户转到 UI 并将 admin 更改为 adminNew 然后单击更新按钮

这是我在更新按钮上所做的

```
 public void Update(){

                     for(int i =0;i<namesList.size(); i++){
         String updatedNanme = namesList.get(i).getText());
    } 
```

}

现在，我将如何在 updatedName 字段中获取用户从 UI（即 adminNew）更改的更新名称。现在我得到了从 fetchData 方法获得的旧名称（即管理员）。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T07:37:11.237

您应该通过调用 getText() 来获取文本框的值，而不是“旧值”。我认为您的文本框列表有问题。也许两次实例化文本框！我建议您调试代码，在文本框实例化和更新发生时设置断点。查看两者是否是同一个实例（例如，如果您使用 eclipse 观察变量，变量的 id 显示在它的前面。这是 VM 的对象 id。检查实例化的文本框的 id 是否相同作为文本框的 ID，您从中获得价值）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-08T09:48:03.480

您是否可以使用用户条目覆盖文本框的内容？您的更新方法将始终将 updatedNanme 设置为您的 namesList 数组中最后一个元素的内容。以及如何访问 updatedNanme 字符串？此字符串仅在 for 循环中可用？

# mysql - 我无法使用 wamp server 2.0 和 win 7 导出我的数据库

> ID：13283859
> 
> 赞同：0
> 
> 时间：2012-11-08T06:43:26.980
> 
> 标签：mysql, windows-7, phpmyadmin, wampserver

当我尝试将我的数据库导出为 .sql 文件时，下载的弹出窗口显示 export.php 文件。Wamp 版本和操作系统：wamp 2.0 和 win 7。

但相同版本的 wamp 服务器与 XP 完美配合。

它是基于操作系统的问题吗？有人可以提出解决方案吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-08T06:50:59.140

您可以使用命令行界面导出数据库。在 Windows 上，运行 cmd.exe，然后键入

```
mysqldump -u USER -p DATABASE > filename.sql 
```

请记住用您的用户名替换 USER 并用您的数据库名称替换 DATABASE，系统会提示您输入密码。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2014-08-10T15:16:08.647

左键单击左侧面板上的 wampserver 图标 >> phpmyadmin >>，单击要导出的数据库 >> 导出 >> 选择您想要的格式（默认 sql） >> GO !!!

# ios - MPMediaPlayerController 如何播放重复音频

> ID：13283861
> 
> 赞同：1
> 
> 时间：2012-11-08T06:43:31.120
> 
> 标签：ios, mpmusicplayercontroller

如何玩**重复，随机**播放**`MPMusicPlayerController`**？

我已经设置了

```
[player setRepeatMode:MPMusicRepeatModeDefault]; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T07:16:13.930

有几种[重复模式](http://developer.apple.com/library/ios/#documentation/mediaplayer/reference/MPMusicPlayerController_ClassReference/Reference/Reference.html)，如

```
MPMusicRepeatModeOne, MPMusicRepeatModeAll 
```

因此，不要将其`MPMusicRepeatModeDefault`设置为您想要的其他模式。（有关更多信息，请参见参考链接...）。

此外，还有几种[shuffleModes](http://developer.apple.com/library/ios/#documentation/mediaplayer/reference/MPMusicPlayerController_ClassReference/Reference/Reference.html)像

```
 MPMusicShuffleModeOff, MPMusicShuffleModeSongs, MPMusicShuffleModeAlbums 
```

在repeatMode 和shuffleMode 中，`default`模式表明您没有明确设置它们。因此，根据需要将它们设置为其他模式。

# database - 推送文件时出现 Apache Couch DB 错误

> ID：13283862
> 
> 赞同：1
> 
> 时间：2012-11-08T06:43:33.987
> 
> 标签：database, file, couchdb

所以我试图推送一个文件，这就是我得到的

Rahuls-MacBook-Pro:couchconfdemo-master 2 Parekh$ couchapp push 。http…………

然后它加载了一点

Rahuls-MacBook-Pro:couchconfdemo-master 2 Parekh$

这不断重复为什么？尽快回答并感谢这是文件的链接

[https://github.com/mheadd/couchconfdemo](https://github.com/mheadd/couchconfdemo) 这是我试图关注的网站 [http://blog.tropo.com/2012/02/08/sms-voting-app-in-10-minutes-with- tropo-and-couchdb/comment-page-1/#comment-24967](http://blog.tropo.com/2012/02/08/sms-voting-app-in-10-minutes-with-tropo-and-couchdb/comment-page-1/#comment-24967) 谢谢

# ios - 获取 iTunes Store 的所有国家和地区和代码

> ID：13283869
> 
> 赞同：2
> 
> 时间：2012-11-08T06:44:33.090
> 
> 标签：ios, itunes, country-codes

我想有一个国家列表及其在 iTunes 中使用的相应代码，以便我可以在 iTunes API 中查询它们。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2015-01-14T15:45:10.583

看起来他们实际上在[https://www.apple.com/itunes/affiliates/resources/documentation/linking-to-the-itunes-music-store.html#CountryCodes的文档中列出了这些国家/地区代码](https://www.apple.com/itunes/affiliates/resources/documentation/linking-to-the-itunes-music-store.html#CountryCodes)

# amazon-appstore - 在亚马逊应用商店上发布时，我需要对代码进行哪些更改？

> ID：13283871
> 
> 赞同：1
> 
> 时间：2012-11-08T06:44:49.137
> 
> 标签：amazon-appstore

我在 GooglePlay 上有一个应用程序，想在亚马逊应用程序商店上发布。

我的代码有什么需要更改的吗？

最有可能的是，必须删除来自 Google 库的许可证检查。对？

还有别的事吗？

非常感谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-08T12:03:36.770

不要认为我需要回答这个问题，但我的应用今天刚刚完成了成功的审核。而且我没有对我的应用进行任何更改。我相信如果您使用 Billng、广告、地图和任何由亚马逊实施的功能，都必须更改。

# javascript - 如何阻止 HTML 复选框专注于点击？

> ID：13283875
> 
> 赞同：8
> 
> 时间：2012-11-08T06:44:59.353
> 
> 标签：javascript, html

任何人都知道如何防止 HTML 复选框在单击时获得焦点？我仍然希望它改变状态，只是没有得到焦点。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-11-08T06:53:32.763

您可以通过在 mousedown 处理程序中使用 preventDefault() 来阻止焦点：

```
$('input[type=checkbox]').mousedown(function (event) {
    // Toggle checkstate logic
    event.preventDefault(); // this would stop mousedown from continuing and would not focus
}); 
```

在纯 JavaScript 中：

```
checkbox.onmousedown = function (event) {
    // Toggle checkstate logic
    event.preventDefault(); // this would stop mousedown from continuing and would not focus
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-08T06:49:44.493

### 给这个CSS：

```
input {outline: 0;} 
```

但请注意，当您使用`Tab`键移动控件时，将无法识别您当前处于哪个控件中。

### 更新#1

使用这个 JavaScript：

```
$('input[type=checkbox]').click(function () {
    this.blur();
}); 
```

# wcf - WCF：保持客户端存活并有时间关闭它

> ID：13283876
> 
> 赞同：0
> 
> 时间：2012-11-08T06:45:03.403
> 
> 标签：wcf, timeout, client, keep-alive

我有一个 WCF 服务 API 的包装器

```
Class APIWrapper
{
   private WCFClient _client;
   //constructor opens a client connection
   public APIWrapper()
   {
      _client = new WCFClient();
      _client.open();
   }

   public API1()
   {
       _client.doSomething1();
   }

   public API2()
   {
       _client.doSomething2();
   }

} 
```

我想问一下：

Q1 会发生超时异常吗？如果这个包装类实例存在太久？（默认情况下WCF连接是否保持活动？没有在config中设置该属性）例如，在构造一个包装类之后，它的API1或API2在10分钟后被调用，这比这个WCF连接的超时值要长。

Q2 我是否需要明确关闭连接，如果需要，我应该像下面这样在包装类的析构函数中这样做吗？

```
~APIWrapper
{
    if(_client !=null)
    try{
         _client.close();  }
    catch(Exception e){
         _client.Abort();   }
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-08T07:19:30.223

我不确定您为什么要这样做，但是如果 WCF 托管在 IIS7 中，则 WCF 将在有或没有连接的情况下启动，保持连接处于活动状态是没有意义的。

以我的经验，这类服务在无状态时效果最好（除非你有充分的理由）。我强烈建议每次打开和关闭连接。如果您这样做是为了提高性能，还有另一种方法可以避免每次关闭和打开。

Q1：根据 MSDN，openTimeout 是 1 分钟

[http://msdn.microsoft.com/en-us/library/system.servicemodel.channels.binding.opentimeout.aspx](http://msdn.microsoft.com/en-us/library/system.servicemodel.channels.binding.opentimeout.aspx)

Q2：您不需要显式关闭连接，但这是一种很好的做法，我强烈建议您这样做。不关闭连接可能会导致 WCF 开销。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-08T07:48:52.500

据我所知，WCF 不会保持连接处于活动状态。在经过预定义的时间后（inactivityTimeout="00:10:00"），当您尝试调用 _client.doSomething1() 或服务上的任何其他方法时，连接将引发异常。

[WCF 不活动超时](https://stackoverflow.com/questions/11946117/wcf-inactivity-timeout)

为了保持连接活跃，您应该以预定义的时间间隔调用一个简单的方法，假设每 1 分钟一次。

但是，我同意 Jordi 的观点，即您应该使用无状态的 wcf 服务，直到确实有必要为止。

# php - 尝试在 PHP 中读取 Excel 2007 文件时文件格式无效

> ID：13283881
> 
> 赞同：0
> 
> 时间：2012-11-08T06:45:31.940
> 
> 标签：php, excel-2007

我正在尝试从 Excel 2003 读取数据，但我希望系统也能加载 Excel 2007 文件。但是 Excel 2007 文件正在触发文件格式异常。检查格式的代码在这里

```
if ($this->header ['ident'] != "\xD0\xCF\x11\xE0\xA1\xB1\x1A\xE1")
        throw new compoundDocumentException ('Invalid file format'); 
```

在这一行中，我想为 Excel 2007 添加标题缩进，我在任何地方都没有找到。

请问我该如何实现？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-19T07:28:06.263

Excel 2007 文件（`.XLSX`文件）使用与以前版本的 Excel[完全不同的基于 XML 的格式](http://en.wikipedia.org/wiki/Office_Open_XML)。在这里简单地检查一个新的标题对你没有帮助——你需要一个完全不同的文件阅读器来阅读这些新文件。

# java - 已读和未读书籍申请

> ID：13283884
> 
> 赞同：3
> 
> 时间：2012-11-08T06:45:59.937
> 
> 标签：java, swing

我对`Java`编程很陌生，想对我想编写的这个测试应用程序提出一些建议。

一般的想法是它将包含一个带有`Title`、`Author`和状态`Date stamp`的书籍列表。`read or not`

`date stamp`必须适用时，然后变为`read status`真。

它将有一个 GUI，以表格格式按字母顺序显示书籍。如果可能的话，我希望该列`names`是可过滤的，即如果您单击`title`它应该按 排序`title`，再次单击它会按降序排序。与`author`和 也是如此`status`。

我想要一个`search`能够基于`title`和搜索书籍的字段`author`。我还希望能够通过单击一个按钮来添加书籍，该按钮会弹出一个窗口以输入`Title`、`Author`和`read status`。

该应用程序将在 a 上运行`PC`，因此我认为将状态存储在`serializing`.

我需要一些关于一些元素的建议，我的计划是：

*   编写 Book 类

    创建它的字段、构造函数、getter 和 setter 等。

*   编写库类

    包含图书馆中书籍的列表（在这里最好使用什么？`ArrayList`等等？）工作类将构建 GUI，读取对象并填充要用于表信息的图书馆。我粗略地想建一张这样的桌子，我会用`JTable`吗？

一列必须是带有 的复选框`status`，可以单击该复选框并弹出确认更改状态。

我敢肯定，一旦我收到反馈，我会有更多问题 :) 感谢您的任何建议。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-11T09:30:21.460

[我已经创建了一个粗略的解决方案，看看并根据需要改进][1]

**[1]：[http ://code.google.com/p/booklist-jtable/downloads/list](http://code.google.com/p/booklist-jtable/downloads/list)**

# nsis - 如何使用 nsis 脚本启动批处理文件？

> ID：13283886
> 
> 赞同：2
> 
> 时间：2012-11-08T06:46:07.733
> 
> 标签：nsis

我已经使用 NSIS 成功创建了 exe 文件。我已经使用以下代码将我的应用程序安装为 Windows 服务：

```
Exec "$INSTDIR\bin\batch.bat" 
```

我已经检查了这条路径

```
Start Menu -> Control Panel -> Administrative Tools -> Services. 
```

我的服务名称已成功安装。我的安装过程的最后一步使用以下代码启动应用程序：

```
!define MUI_FINISHPAGE_RUN net start servicename 
```

但是这段代码不能很好地工作。如果我选​​择复选框，它不会启动服务。

我的情况是：

我的安装过程的最后一步是，我有一个复选框。如果用户选中复选框，则服务立即启动。否则不启动服务。但两种情况下都必须安装服务。如何解决这个问题？如何使用 nsis scrit 启动服务？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T07:01:47.277

正确的代码是：

```
!define MUI_FINISHPAGE_RUN net
!define MUI_FINISHPAGE_RUN_PARAMETERS "start servicename" 
```

或者，如果您想将`net`命令放在批处理文件中或以其他方式隐藏控制台窗口，请参阅对您的一个旧问题的[答案...](https://stackoverflow.com/a/12935584/3501)

# c - 是否有“n 选择 r 模数 m”的数学技术？

> ID：13283889
> 
> 赞同：2
> 
> 时间：2012-11-08T06:46:17.843
> 
> 标签：c

当n，r，m是非常大的数字时，如何在编程中计算nCr % m（即“（n选择r）模数m”）？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T06:53:28.127

我假设您想计算 nCr 类型的大量数据并搜索一些可以**优化**的库函数。在这种情况下，您可以查看[**GNU Scientific Library**](http://www.gnu.org/software/gsl/manual/html_node/)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-11T15:25:38.380

首先，这取决于您所说的“非常大”是什么意思。如果您的问题仅仅是对于标准 64 位整数来说中间值变得太大，那么您可以使用[gmp](http://gmplib.org/)或[BigInteger](http://docs.oracle.com/javase/6/docs/api/java/math/BigInteger.html)之类的东西。

所涉及的数字可能会变得如此之大，以至于您将耗尽内存或耐心，并且您将无法计算中间值以完成精度。在这种情况下，最好的办法是首先确定每个阶乘的素因式分解，使用这些因式分解来确定二项式的因式分解，然后在每个中间步骤使用模数乘以这个因式分解。

您将需要一个不超过 n 的所有素数的列表。

以下是伪代码。我正在使用`int`，但您应该将其替换为您正在使用的任何大型库。

```
int factorial_prime_power(int f, int p) {
    // When p is prime, returns k such that p^k divides f!
    int k = 0;
    while (f > p) {
        f = f / p;
        k = k + f;
    }
    return k;
}
int binomial_prime_power(int n, int r, int p) {
    // when p is prime, returns k such that p^k divides nCr
    return factorial_prime_power(n,p) - factorial_prime_power(r,p) - factorial_prime_power(n-r,p);
}
int powmod(int p, int k, int m) {
    // quickly calculates p^k mod m
    int res = 1;
    int q = p;
    int j = k;
    while (j > 0) {
        // invariant:  p^k is congruent to res * q^j
        if (j is odd) {
            res = (res * q) % m;
            j = (j-1)/2;
        } else {
            j = j / 2;
        }
        q = (q * q) % m;
    }
    return res;
}
int big_binomial(int n, int r, int m) {
    if (n < r or r < 0) {
        return 0;
    }
    int res = 1;
    for(p in all primes from 2 to n) {
        k = binomial_prime_power(n,r,p);
        res = (res * powmod(p,k,m)) % m;
    }
    return res;
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-08T20:10:47.957

有一些技术可以降低计算以整数为模的二项式系数的复杂性`m`，前提是`m`的主要因素都不是太大。`m`以过高的功率划分。

第一步是因式分解`m`，

```
m = ∏ (p_i ^ e_i) 
```

然后计算这些素数中的每一个的模的二项式系数，并将结果与[​​中国剩余定理](http://en.wikipedia.org/wiki/Chinese_remainder_theorem)相结合。

以素数 ( ) 为模的二项式系数的计算`e_i == 1`可以比一般情况更容易计算，参见。例如[这个答案](https://stackoverflow.com/a/10862881/1011995)，但它也可以包含在那里。

对于素数`p`和`n >= 0`，让我们定义

```
F(p, n) =   ∏ k   = p^(n/p) * (n/p)!
         1<=k<=n
           p | k 
```

和

```
G(p, n) =    ∏ k
          1<=k<=n
         gcd(k,n)=1 
```

然后我们有

```
n! = F(p, n) * G(p, n) 
```

并且迭代地，对`(n/p)!`出现在 中使用相同的拆分`F(p, n)`，

```
 m
n! = p^K * ∏ G(p, n/(p^j))
          j=0 
```

哪里`p^m <= n < p^(m+1)`。中的所有因子`G(p, x)`都与 互质`p^e`，因此二项式系数的分母中的相应因子可以取模`p^e`，如果我们找到一种有效的`G(p, x)`模数计算方法`p^e`，我们就有一种有效的方法来计算二项式系数的模数`p^e`。

对于二项式系数，我们有

```
n! / (r! * (n-r)!) = p^M * (∏ G(p, (n/p^j)) * [ ∏ G(p, r/(p^j)) * ∏ G(p, (n-r)/(p^j)) ]^(-1) 
```

让`H(p, e, n) = G(p, n) % (p^e)`. 关键是所有数的互质`p^e`不超过的乘积`p^e`相当简单。它与`-1`模一致`p^e`，除非`p = 2`和`e > 2`，在这种情况下它与 1 一致。

所以

```
H(p, e, n) ≡ (-1)^(n/(p^e)) * H(p, e, n % (p^e)) (mod p^e) 
```

（除非`p = 2`和`e > 2`，在这种情况下第一个因子是 1），我们只需要计算`H(p, e, k)`，`0 <= k < p^e`然后我们可以查找结果。

代码：

```
// invert k modulo p, k and p are supposed coprime
unsigned long long invertMod(unsigned long long k, unsigned long long p) {
    unsigned long long q, pn = 1, po = 0, r = p, s = k;
    unsigned odd = 1;
    do {
        q = r/s;
        q = pn*q + po;
        po = pn;
        pn = q;
        q = r%s;
        r = s;
        s = q;
        odd ^= 1;
    }while(pn < p);
    return odd ? p-po : po;
}

// Calculate the binomial coefficient (n choose k) modulo (prime^exponent)
// requires prime to be a prime, exponent > 0, and 0 <= k <= n,
// furthermore supposes prime^exponent < 2^32, otherwise intermediate
// computations could have mathematical results out of range.
// If k or (n-k) is small, a direct computation would be more efficient.
unsigned long long binmod(unsigned long long prime, unsigned exponent,
                          unsigned long long n, unsigned long long k) {
    // The modulus, prime^exponent
    unsigned long long ppow = 1;
    // We suppose exponent is small, so that exponentiation by repeated
    // squaring wouldn't gain much.
    for(unsigned i = 0; i < exponent; ++i) {
        ppow *= prime;
    }
    // array of remainders of products
    unsigned long long *remainders = malloc(ppow * sizeof *remainders);
    if (!remainders) {
        fprintf(stderr, "Allocation failure\n");
        exit(EXIT_FAILURE);
    }
    for(unsigned long long i = 1; i < ppow; ++i) {
        remainders[i] = i;
    }
    for(unsigned long long i = 0; i < ppow; i += prime) {
        remainders[i] = 1;
    }
    for(unsigned long long i = 2; i < ppow; ++i) {
        remainders[i] *= remainders[i-1];
        remainders[i] %= ppow;
    }

    // Now to business.
    unsigned long long pmult = 0, ntemp = n, ktemp = k, mtemp = n-k,
                       numer = 1, denom = 1, q, r, f;
    if (prime == 2 && exponent > 2) {
        f = 0;
    } else {
        f = 1;
    }
    while(ntemp) {
        r = ntemp % ppow;
        q = ntemp / ppow;
        numer *= remainders[r];
        numer %= ppow;
        if (q & f) {
            numer = ppow - numer;
        }
        ntemp /= prime;
        pmult += ntemp;
    }
    while(ktemp) {
        r = ktemp % ppow;
        q = ktemp / ppow;
        denom *= remainders[r];
        denom %= ppow;
        if (q & f) {
            denom = ppow - denom;
        }
        ktemp /= prime;
        pmult -= ktemp;
    }
    while(mtemp) {
        r = mtemp % ppow;
        q = mtemp / ppow;
        denom *= remainders[r];
        denom %= ppow;
        if (q & f) {
            denom = ppow - denom;
        }
        mtemp /= prime;
        pmult -= mtemp;
    }
    // free memory before returning, we don't use it anymore
    free(remainders);
    if (pmult >= exponent) {
        return 0;
    }
    while(pmult > 0) {
        numer = (numer * prime) % ppow;
        --pmult;
    }
    return (numer * invertMod(denom, ppow)) % ppow;
} 
```

它`n choose k modulo p^e`分`O(p^e + log n)`步计算。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-08T07:01:02.147

分块做。

例如：n!/(r!(nr)!) = 1*2*...*n/(1*2*...r*1*2*...*(nr))=1/ 1*1 * 2/2*2 * 3/3*3 * ... *... 。

每个块都很容易计算，因此您应该避免计算中的溢出。计算块并将您当前的结果乘以它。

此外，在此之前对 n 和 r 进行取模是值得的。

# http - {进程名，节点名}！跨 Erlang 节点的消息 VS rpc:call/4 VS HTTP/1.1

> ID：13283890
> 
> 赞同：0
> 
> 时间：2012-11-08T06:46:24.167
> 
> 标签：http, unix, erlang, chat, messaging

我有一个设置，其中两个节点将进行大量通信。在节点 A 上，将有数千个进程用于访问节点 B 上的服务。两个节点之间将有大量的请求和响应。这两个节点将在两个不同的服务器上运行，每个服务器都在自己的硬件服务器上。

我有 3 个选项： HTTP/1.1 、 rpc:call/4 和直接向节点 B 上注册的 gen_server 发送消息。让我解释每个选项。

**HTTP/1.1**

假设在节点 A 上，我有一个类似 HTTP 客户端`Ibrowse`，在节点 B 上，我有一个类似 Web 服务器`Yaws-1.95`，Web 服务器能够处理无限连接，操作系统设置调整为允许 yaws 处理所有连接. 然后让我在节点 A 上的进程使用 HTTP 进行通信。在这种情况下，每个方法调用都意味着一个 HTTP 请求和一个回复。我相信这里有开销，但我们正在评估这里的选项。称为 erlang 的内置机制`webtool`，可能就是为了这种目的而构建的。

**RPC:调用/4**

我可以直接从节点 A 到节点 B 进行 rpc 调用。我不太确定底层 rpc 机制是如何工作的，但我认为当两个 erlang 节点通过连接时`net_adm:ping/1`，创建的连接不会关闭，但所有 rpc 调用都使用这个管道传输请求并传递响应。请纠正我这一点。

**从节点 A 向节点 B 发送消息**

我可以让节点 A 上的进程只向已注册的进程或节点 B 上的一组进程发送消息。这似乎也是一个干净的选择。

**Q1。**对于两个 erlang 节点将一直在它们之间进行大量通信的应用程序，您会推荐上述哪个选项以及为什么。想象一个消息传递系统，其中两个 erlang 节点是路由器 :) ？

**Q2。**上述哪种方法更干净、问题更少并且更容错（我的意思是，该方法不应该有单点故障，这可能导致节点 A 上的所有进程都失灵）？

**Q3。**您选择的机制：您将如何使其更具容错性或冗余性？

**假设：**节点始终处于活动状态并且永远不会关闭，节点之间的网络连接将始终可用且不拥塞（仅专用于两个节点），操作系统已为这两个节点分配了最大的资源。

感谢您的评价

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-08T13:45:17.540

HTTP 肯定已经过时了。只是创建新连接的往返开销是个问题。

至于 Erlang 连接和使用 Pids，您的优势是可以订阅节点关闭消息并处理节点关闭的情况。单个 TCP 连接应该能够为您提供非常快的速度，但是请注意，它的工作原理就像一个长管道：消息在管道上混合和解复用，这可能会影响线路上的延迟。这也意味着大消息将阻止小消息通过。

您的目标是多少带宽，延迟是多少？回复信息的第 95 和 99 个百分位数是多少？最好提出一些粗略的数字，然后尝试针对这些数字，而不是仅仅“尽可能快”。首先设定你的成功标准。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-08T10:08:58.370

Q1：HTTP 会增加额外的开销，在我看来不会给你任何东西。如果您正在设计 REST API，HTTP 会很有用。就开销而言，直接发送消息和 rpc:call 看起来差不多。

Q2：发送消息更加清晰。这是erlang的设计方式。对于 RPC 调用，您必须始终跟踪哪个调用在何处以及在何种情况下执行，如果两台服务器都有状态，这可能是一个大问题。RPC 调用也是同步的。

Q3：如果我能承受较小的开销，我会使用UBF，否则我会直接在erlang节点之间发送消息。如果带宽是一个问题，则还需要其他技巧。就像以相同的方式对消息进行编码，然后使用一些压缩算法来减小消息的大小，或者我可以完全放弃 erlang 消息传递并使用 UDP 套接字。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-08T18:24:42.933

这并不明显！是最好的方法。当然，它是最简单的，代码也将是最优雅的。

在可扩展性方面，请考虑使用 rpc/! 你必须维护一个 erlang 集群。我发现即使在私有云中只有 10-20 个节点也很痛苦。我永远不会推荐在例如 EC2 上进行更大的部署，其中 io/latency/network 不是确定性的。

我建议以一种可以让您在未来交换通信引擎的方式来构建项目。HTTP 也很重，但有一些选项：

*   套接字套接字 (tcp/udp/sctp)
*   amqp（与负载平衡相关的许多好处）
*   zeromq（甚至比 amqp 更好）

押注 !/rpc 和 OTP 集群是有风险的。您将与全网状开销、主选举算法和仲裁/分区检测作斗争。

# asp.net - 如何让 Rad Tree 节点未对齐

> ID：13283895
> 
> 赞同：0
> 
> 时间：2012-11-08T06:46:40.987
> 
> 标签：asp.net, telerik

我有一个带有节点的 radtree，其中一些节点带有图像和文本。现在，当它们被渲染时，节点会从内容的开头对齐。我希望节点的文本部分对齐。请找到所附图片以获得更多说明。

我尝试添加一个 css 类和一个内容 css 类。但我认为我提到的属性被覆盖了。

任何帮助，将不胜感激。

谢谢。诺埃尔

![浏览树](../Images/49e6ebc9bdd6005fec2c663930b80d1e.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-13T06:28:41.307

从 Telerik 支持那里得到这个：

您可以使用以下 css 类选择器将图像定位在文本之前并保持其当前位置：

```
<style> 
div.RadTreeView .rtImg 
{
margin-left: -16px; 
} 
</style> 
```

# jquery-ui - Jquery UI jConfirm 对话框未显示在 jqgrid 的 gridComplete 上

> ID：13283898
> 
> 赞同：1
> 
> 时间：2012-11-08T06:46:57.213
> 
> 标签：jquery-ui, jqgrid-asp.net

我正在使用`jConfirm`对话框进行确认`jqgrid`。我想要的是当`gridComplete`触发器应该弹出一个`jConfirm`对话框时，它应该弹出一个带有确定的对话框，当我点击确定时它应该`setSeletion`在行中取消按钮`jqgrid`。我的代码如下：

```
// My ajax call in gridComplete function in jqgrid
function listSelectedUsers(data) {
$.ajax({
            cache: false,
            async: true,
            type: "POST",
            url: urlPath,
            data: { countryID: countryID},
            dataType: "json",
            success: function(data){
                  jConfirm(data, 'JqGrid Popup', function(confirmation) {
                   if (confirmation) {

                   }
               });
            },
            error: function(data) {

            }
        });
}

//jqgrid code
// on gridComplete function call, does not show up jConfirm dialog popup.
gridComplete: function() {
    listSelectedUsers(data);
}, 
```

请尽快给我建议解决方案。提前致谢。

# c# - 在 ASP.NET 4.0 中从 GridView 重写 URL

> ID：13283902
> 
> 赞同：0
> 
> 时间：2012-11-08T06:47:13.263
> 
> 标签：c#, asp.net, gridview, url-rewriting

我在我的网站中使用 URL 重写。

我可以使用重写网址

```
Response.RedirectToRoute("bills-show"); 
```

但是从我的 GridView 我如何重定向到另一个页面？目前我在我的`GridViewRowDataBound`.

```
e.Row.Attributes.Add("onclick", "location='CallCenter/BillDetails.aspx?billNo=" + e.Row.Cells[0].Text + "'"); 
```

但我需要的是使用 URL 重写。

我尝试使用

```
e.Row.Attributes.Add("onclick", "WriteUrl(" + e.Row.Cells[0].Text + ")"); // in GridViewRowDataBound. 
```

和

```
protected string WriteUrl(string billNo)
{
    return pg.GetRouteUrl("bill-details", new { billno = billNo });
} 
```

但这不起作用！

你能帮我吗 ？？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T10:06:03.323

在 GridView 列列表中使用[HyperLinkField ：](http://www.google.com/url?sa=t&rct=j&q=&esrc=s&source=web&cd=1&ved=0CDIQFjAA&url=http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.hyperlinkfield.aspx&ei=zIObUNKjMorZ4QTD9oGoCA&usg=AFQjCNEbbcA9elILi_YM1nwDeQxqfH1new&sig2=ox2c8z9JWFZZDYqlphHpmw)

```
 <asp:HyperLinkField HeaderText="Account" DataTextField="Account" 
    DataNavigateUrlFields="Account" Target="_blank" 
    DataNavigateUrlFormatString="CallCenter/BillDetails.aspx?billNo=n={0}"
    SortExpression="Account" HeaderStyle-Width="61" /> 
```

如果此代码无需重写即可工作：

```
 e.Row.Attributes.Add("onclick", "location='CallCenter/BillDetails.aspx?billNo=" +
                              e.Row.Cells[0].Text + "'"); 
```

那么这应该不是问题：

```
 e.Row.Attributes.Add("onclick", "location='"location='orders/" +
                              e.Row.Cells[0].Text + "'"); 
```

# ajax - 使用 Dojo 从 ReST 服务跨域检索 XML 数据

> ID：13283905
> 
> 赞同：0
> 
> 时间：2012-11-08T06:47:25.683
> 
> 标签：ajax, rest, dojo

我正在尝试为响应 XML 的 ReST 应用程序编写一个基于浏览器的 Javascript 客户端（因此 JSONP 似乎是不可能的）。

我正在尝试使用检索数据，`dojo.io.script.get`但传递给回调函数的参数是一个对象，我似乎无法从中检索响应的 XML 数据。

```
dojo.io.script.get({url:"http://enterpriseapp.enterprisedomain/path/to/rest/collection",
    load:function (data) {
        // 'data' does not contain the actual response (which is XML)
    }
}); 
```

检索此数据的正确方法是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T14:55:23.380

**dojo.io.script.get**方法将从指定的网址注入 <script>。此脚本中的数据内容将传递给您的加载函数；因此，内容必须验证为 Javascript。您不能将 XML 加载到脚本标记中。

如果要加载 XML，则需要使用**dojo.xhrGet**；但是，这将不允许对 3rd 方 URL 的请求。使用**dojo.io.script.get**的优点是您可以使用与加载它们的页面不同的源地址。

```
dojo.xhrGet({
    handleAs: "xml",
    load: function(dom){
        // do something with the DOM XML object
    },
    error: function(error){
    }
}); 
```

请参阅：[dojo.xhr 获取文档](http://dojotoolkit.org/reference-guide/1.8/dojo/xhrGet.html#dojo-xhrget)

如果您尝试从另一个网站加载 XML，那将是一条死胡同。如果您有权访问发送服务器，则可以使用**Access-Control-Allow-Origin标头。**

我使用的另一种解决方案是编写代理脚本（用 PHP 或其他服务器语言）以在正确的域上镜像 XML。如果您这样做以包含良好的检查，则需要小心，以免您的服务器代码被某人滥用以进行代理。

有关 Access-Control-Allow-Origin 的更多信息，请参阅以下 Stackoverflow 对话：
[jQuery XML REST Access-Control-Allow-Origin](https://stackoverflow.com/questions/4621056/jquery-xml-rest-access-control-allow-origin)

# java - 未调用 @Named @ViewScoped 的 @PostConstruct 拦截器

> ID：13283906
> 
> 赞同：2
> 
> 时间：2012-11-08T06:47:26.623
> 
> 标签：java, jsf-2, cdi, interceptor, seam3

我已经仔细阅读了 Seam/Weld 文档中关于[拦截器](http://docs.jboss.org/weld/reference/1.0.0/en-US/html/interceptors.html)`InterceptorBinding`的文章并实现了：

```
@InterceptorBinding
@Retention(RetentionPolicy.RUNTIME)
@Target({ElementType.METHOD, ElementType.TYPE})
public @interface MyLog {} 
```

和一个`Interceptor`班级：

```
@MyLog @Interceptor
public class ErpLogInterceptor implements Serializable
{
  @AroundInvoke
  public Object logMethodEntry(InvocationContext invocationContext) throws Exception
  {..}

  @PostConstruct
  public Object logPostConstruct(InvocationContext invocationContext) throws Exception
  {...}
} 
```

不，我试图在`@Named @ViewScoped`bean 中激活拦截器：

```
@javax.inject.Named;
@javax.faces.bean.ViewScoped
public class MyBean implements Serializable
{
  @PostConstruct @MyLog
  public void init()
  {...}

  @MyLog public void toggleButton()
  {..}
} 
```

如果我在我的 JSF 页面上按下一个按钮，则该方法`toggleButton`会被正确调用**并**调用Interceptor 方法`logMethodEntry`。但似乎该方法`@PostConstruct`（我感兴趣）从未被我的班级截获。

这个问题似乎与[Java EE 拦截器和 @ViewScoped bean](https://stackoverflow.com/questions/12841351)有关，但实际上我的拦截器正在以*正常*方法工作。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-09-04T09:25:24.143

您应该将`@PostConstruct`拦截器的返回类型设置为`void`not `Object`。改变：

```
 @PostConstruct
  public Object logPostConstruct(InvocationContext invocationContext) throws Exception
  {...} 
```

至：

```
 @PostConstruct
  public void logPostConstruct(InvocationContext invocationContext) throws Exception
  {...} 
```

# c# - datatable.merge 不添加列

> ID：13283908
> 
> 赞同：2
> 
> 时间：2012-11-08T06:48:07.007
> 
> 标签：c#, ado.net

```
Untyped DataTable
------------------
ColA ColB ColC

Typed DataTable
ColA ColB

TypedDataTable.Merge(UntypedDataTable)

Results in:

ColA ColB ColC 
```

有没有办法阻止它从无类型表中添加额外的列？换句话说，我只想保留 ColA 和 ColB。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-08T06:53:47.260

`Merge`有一个重载，可让您指定如何处理缺少的架构。一种选择是忽略它，这应该会得到你想要的结果。[请参阅此处](http://msdn.microsoft.com/en-us/library/wtk78t63.aspx)的 MSDN 文章。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-10-30T08:56:05.967

```
bool preserveChanges = true; 
```

> preserveChanges: true，保留当前 System.Data.DataTable 中的更改；否则为假

```
TypedDataTable.Merge(UntypedDataTable, preserveChanges, MissingSchemaAction.Ignore) 
```

# jsf - 如何遍历项目列表并将其呈现在固定数量的列中

> ID：13283910
> 
> 赞同：0
> 
> 时间：2012-11-08T06:48:27.587
> 
> 标签：jsf, tomahawk

我想循环抛出项目列表并将它们呈现在每行有 3 列的地方

使用此代码，

```
<t:dataTable var="itemInfo" value="#{itemBean.itemList}">
    <h:column>
        <h:outputText value="#{itemInfo.name}" />
    </h:column>
</t:dataTable> 
```

我可以在一栏上展示它，但我怎样才能在三栏上展示它呢？

例如，如果我有 9 个项目`A B C D E F G H I`，那么它应该如下所示：

```
A B C
D E F
G H I 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T08:04:02.040

您可以像这样将 panelgrid 与 c:forEach 一起使用：

```
<h:panelGrid columns="3">
  <c:forEach items="#{itemBean.itemList}”" var="itemInfo">
    <h:outputText value="${itemInfo.name}"/>
  </c:forEach>
</h:panelGrid> 
```

或者你可以使用 primefaces dataGrid 或类似的东西：http: [//www.primefaces.org/showcase/ui/datagrid.jsf](http://www.primefaces.org/showcase/ui/datagrid.jsf)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-08T06:57:35.367

使用面板网格而不是数据表。

问候

# java - java接受用户输入5个整数

> ID：13283913
> 
> 赞同：0
> 
> 时间：2012-11-08T06:48:49.043
> 
> 标签：java, algorithm

嗨，我们如何在 Java 中限制某个用户输入的整数数量？下面是我接受用户输入的代码，我怎样才能确保只接受来自用户的 5 个整数？谢谢

```
public static void main(String args[]) 
    {
        int a;
         Scanner in = new Scanner(System.in);

      System.out.println("Enter a string");
      a = in.nextInt();
      System.out.println("You entered integer "+a);

    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T06:52:50.743

```
public static void main(String args[]) 
{
  int a[] = new int[5];
  int i = 0; 
  Scanner in = new Scanner(System.in);
  while(i<5)
  {
  System.out.println("Enter an integer");
  a[i] = in.nextInt();
  i++;
  System.out.println("You entered integer "+a[i-1]);
  }

} 
```

a[i] 在 1 到 100 之间

```
public static void main(String args[]) 
    {
      int a[] = new int[5];
      int i = 0; 
      Scanner in = new Scanner(System.in);
      while(i<5)
      {
      System.out.println("Enter an integer between 1 and 100");
      a[i] = in.nextInt();
      if(a[i]>=1 && a[i]<=100) 
      {
        i++;
        System.out.println("You entered integer "+a[i-1]);
      }
      }

    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-08T06:51:51.983

使用`for`仅迭代 5 次的循环并在该`for`循环内获取输入。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-08T06:52:36.250

将静态字段声明为 count=0，

检查是否 a>0 如果是，则将 count 加 1

当 count 已经是 5 时，不要让用户输入任何内容

# java - 通过自定义表模型将行添加到 jtable

> ID：13283916
> 
> 赞同：4
> 
> 时间：2012-11-08T06:49:09.147
> 
> 标签：java, swing, jtable, defaulttablemodel

我创建了一个扩展 DefaultTableModel 的表模型。

```
public class TableModel extends DefaultTableModel {
List<VariableDetails> data;
public AttachedVariableTableModel(){
super();        
this.data=Collections.synchronizedList(new ArrayList<VariableDetails>());
}

//method for adding rows
public void addRow(VariableDetails varDetails){

    this.data.add(varDetails);
    fireTableRowsInserted(this.data.size()-1,this.data.size()-1);
    }

} 
```

我试图将行添加到已经有数据的表中。

```
tModel.addRow(new  VariableDetails()); 
```

但不能添加行。没有例外和错误。这里到底有什么问题？我该如何解决这个问题？提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-08T07:45:12.663

1.  为什么有理由`super();`

2.  `DefaultTableModel`可以添加`Object[]`或`Vector`

3.  必须覆盖`AbstractTableModel`，而不是`DefaultTableModel`，必须覆盖所有[`get/set`方法](https://stackoverflow.com/a/6901508/714968)，在方法中使用正确`fireXxxXxx()`的方法，否则视图中没有可见的东西（`JTable`）

4.  可以从[列表表模型](http://tips4java.wordpress.com/2008/11/24/list-table-model/)或[行表模型开始](http://tips4java.wordpress.com/2008/11/21/row-table-model/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-04-29T14:40:48.153

我可以建议你一个完整的表格模型示例来了解它是如何工作的。它还使用列表作为数据。最重要的是您需要扩展**AbstractTableModel**以使用您自己的变量来存储数据。这是一个完整的源代码示例。

```
import java.util.ArrayList;
import java.util.List;

    import javax.swing.table.AbstractTableModel;

    public class MouseClickTableModel extends AbstractTableModel {
        /**
         * 
         */
        private static final long serialVersionUID = -1807522184370383957L;

        private final String[] columnNames = { "Sr", "X", "Y", "Delay (ms)",
                "Comment" };

        public final Class[] mColTypes = { Integer.class, Integer.class,
                Integer.class, Integer.class, String.class };

        private final List<MouseClick> data;

        public MouseClickTableModel(){
            data = new ArrayList<MouseClick>(10);
        }

        public int getColumnCount() {
            return columnNames.length;
        }

        public int getRowCount() {
            return data.size();
        }

        public String getColumnName(int col) {
            return columnNames[col];
        }

        public Object getValueAt(int row, int col) {
            final MouseClick currentRow = (MouseClick) data.get(row);

            switch (col) {
            case 0:
                return currentRow.getSequNb();
            case 1:
                return currentRow.getXcoo();
            case 2:
                return currentRow.getXycoo();
            case 3:
                return currentRow.getDelay();
            case 4:
                return currentRow.getComment();
            }

            return new String();
        }

        public Class getColumnClass(int c) {
            return mColTypes[c];
        }

        /*
         * Don't need to implement this method unless your table's editable.
         */
        public boolean isCellEditable(int row, int col) {
            return false;
        }

        public void updateRow(Object value, int row, int col) {

        }

        /*
         * Don't need to implement this method unless your table's data can change.
         */
        @Override
        public void setValueAt(Object value, int row, int col) {
            MouseClick currentRow = null;
            if (row >= data.size()) {
                // new data
                currentRow = new MouseClick();
                data.add(0, currentRow);
            }
            // update row
            else {
                currentRow = (MouseClick) data.get(row);
            }

            switch (col) {
            case 0:
                currentRow.setSequNb(((Integer) value).intValue());
                break;
            case 1:
                currentRow.setXcoo(((Integer) value).intValue());
                break;
            case 2:
                currentRow.setXycoo(((Integer) value).intValue());
                break;
            case 3:
                currentRow.setDelay(((Integer) value).intValue());
                break;
            case 4:
                currentRow.setComment(((String) value).toString());
                break;
            }
            // update
            fireTableCellUpdated(row, col);
        }

        public MouseClick getData(int row) {
            return data.get(row);
        }

        public void addMouseClick(MouseClick mc) {
            insertMouseClick(getRowCount(), mc);
        }

        public void insertMouseClick(int row, MouseClick mc) {
            data.add(row, mc);
            fireTableRowsInserted(row, row);
        }

        public void removeMouseClick(int row) {
            data.remove(row);
            fireTableRowsDeleted(row, row);
        }

    } 
```

然后你只需要用你的 ui 设计更新你的模型。

```
JTable table = new JTable(new MouseClickTableModel());
table.setPreferredScrollableViewportSize(new Dimension(500, 70));
table.setFillsViewportHeight(true);
MouseClickTableModel model = getTable().getModel());
model.insertMouseClick(0, new MouseClick(0, Integer.valueOf(xValue),  Integer.valueOf(yValue), 2000, "comment")); 
```

# python - 如何在 BeautifulSoup 中的汤中添加标签（以字符串的形式）

> ID：13283921
> 
> 赞同：0
> 
> 时间：2012-11-08T06:49:18.240
> 
> 标签：python, beautifulsoup

我有一个标签，它只能作为字符串提供给我。示例：tag_str = '你好'

当我执行以下操作时：

```
template_logo_h1_tag.insert(0, tag_str) 
```

其中 template_logo_h1_tag 是 h1 标签

生成的 template_logo_h1_tag 是

```
<h1 id="logo">&lt;a&gt;hello&lt;/a&gt;</h1> 
```

我想避免这个 HTML 转义和生成的标签是

```
<h1 id="logo"><a>hello</a></h1> 
```

有什么我想念的吗？我尝试了 BeautifulSoup.HTML_ENTITIES 但这可以取消转义已经“html-escaped”的字符串。如果您能帮助我，那就太好了！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T06:53:45.693

我发现了一个肮脏的黑客：

template_logo_h1_tag.insert(0, BeautifulSoup('hello').a)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-08T21:22:44.487

我认为您正在寻找 Beautiful Soup 的 .append 方法：[http ://www.crummy.com/software/BeautifulSoup/bs4/doc/#append](http://www.crummy.com/software/BeautifulSoup/bs4/doc/#append)

再加上创建新标签的工厂方法：soup.new_tag()

使用代码更新：

```
soup=BeautifulSoup('<h1 id="logo"></h1>')
template_logo_h1_tag=soup.h1
newtag=soup.new_tag("a")
newtag.append("hello")
template_logo_h1_tag.append(newtag) 
```

然后

```
print soup.prettify 
```

产量

```
<h1 id="logo">
 <a>
  hello
 </a>
</h1> 
```

# android - 在phonegap中检查网络状态？

> ID：13283922
> 
> 赞同：0
> 
> 时间：2012-11-08T06:49:31.420
> 
> 标签：android, cordova, phonegap-plugins

我正在使用 phonegap 开发应用程序。在我的应用程序中，我需要检查网络状态。我使用了以下代码，

```
 function checkConnection() 
{
    var networkState            = navigator.network.connection.type;

    var states                  = {};
    states[Connection.UNKNOWN]  = 'Unknown connection';
    states[Connection.ETHERNET] = 'Ethernet connection';
    states[Connection.WIFI]     = 'WiFi connection';
    states[Connection.CELL_2G]  = 'Cell 2G connection';
    states[Connection.CELL_3G]  = 'Cell 3G connection';
    states[Connection.CELL_4G]  = 'Cell 4G connection';
    states[Connection.NONE]     = 'No network connection';

    console.log("network------"+networkState);               

    return networkState;             
} 
```

它工作正常，但离线模式也返回 3g（在模拟器中测试）。y'day 也工作正常。此方法有任何问题请指导我...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-03-24T06:11:50.153

```
document.addEventListener("deviceready",onDeviceReady,false);
                                       function onDeviceReady() {
                                          pictureSource=navigator.camera.PictureSourceType;
                                          destinationType=navigator.camera.DestinationType;
                                          checkConnection();
                                       }
                                       function checkConnection() {
                                          networkState = navigator.connection.type;
                                           var states = {};
                                            states[Connection.UNKNOWN]  = 'Unknown connection';
                                            states[Connection.ETHERNET] = 'Ethernet connection';
                                            states[Connection.WIFI]     = 'WiFi connection';
                                            states[Connection.CELL_2G]  = 'Cell 2G connection';
                                            states[Connection.CELL_3G]  = 'Cell 3G connection';
                                            states[Connection.CELL_4G]  = 'Cell 4G connection';
                                            states[Connection.CELL]     = 'Cell generic connection';
                                            states[Connection.NONE]     = 'No network connection';

                                        } 
```

现在要检查连接性，您可以提出以下条件：-

```
if(networkState == Connection.NONE){
                                                                      navigator.notification.confirm('It looks like your photo could not be shared. Please try again.',onConfirmOne,'Photo Not Shared',['Ok']);
                                         } 
```

还要在 config.xml 中输入以下标记：-

```
 <feature name="NetworkStatus">
    <param name="ios-package" value="CDVConnection" />
</feature> 
```

# javascript - 填充内容的 iframe 高度

> ID：13283923
> 
> 赞同：0
> 
> 时间：2012-11-08T06:49:32.957
> 
> 标签：javascript, jquery, html, iframe, scroll

我有两个网站 1\. [https://dl.dropbox.com/u/43733183/FacebookPages/tes.html](https://dl.dropbox.com/u/43733183/FacebookPages/tes.html) 2\. [http://iamjusttestingiframe.blogspot.com](http://iamjusttestingiframe.blogspot.com)

我想在第二页上显示第一页。我正在使用 iframe 来做到这一点。我可以控制 iframe 的重量，但是对于高度我有问题

下面是我的代码

```
<iframe frameborder="0" id="iframe1" marginheight="0" marginwidth="0" scrolling="auto" height="100%" src="dl.dropbox.com/u/43733183/FacebookPages/tes.html"; width="100%"></iframe> 
```

如何将它放入我的第一个全高网站？我想在我的页面上有一个主滚动条。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T07:15:55.437

除非您知道 iframe 中文档的高度，否则您将无法设置 iframe 的高度。

您可以使用 javascript 找到文档的高度，但在您的情况下，这是不可能的，因为 iframe 内的文档位于不同的域中，安全性不允许跨域 javascript。（跨域之间有多种通信方式，请google 用于跨域 java 脚本或 window.postmessage 或基于哈希的跨域脚本）

在这种情况下，您的 iframe 高度（以 % 为单位）将不起作用，您需要以 px 为单位的绝对大小。

# nginx - 在 nginx 服务器中打开其他网站链接

> ID：13283925
> 
> 赞同：0
> 
> 时间：2012-11-08T06:49:38.977
> 
> 标签：nginx

我是 Nginx 新手，我已经使用[本教程](http://grokcode.com/784/how-to-setup-a-linux-nginx-uwsgi-python-django-server/)设置了服务器。现在，当我添加指向[http://www.anotherwebsite.com](http://www.anotherwebsite.com)等其他网站的链接时，当我从我的页面单击此链接时，服务器会将我定向到[http://www.mywebsite.com/http://www.anotherwebsite .com](http://www.mywebsite.com/http://www.anotherwebsite.com) _ 服务器将另一个链接附加到我的网站链接。我该如何改变它。我已经研究了这些地方 [如何在 NGINX 中重定向 url，](https://stackoverflow.com/questions/10294481/how-to-redirect-a-url-in-nginx)用 [nginx 重写到漂亮的链接，](https://stackoverflow.com/questions/8495348/rewrite-to-pretty-links-with-nginx) 但我无法让它工作。任何帮助将不胜感激。谢谢

```
server {
    listen          80;
    server_name     $hostname;
    location /static {
        alias /var/www/<app-name>/static;
    }
    error_page   404              /404.html;
    error_page   500 502 503 504  /50x.html;
    location = /50x.html {
        root   /usr/share/nginx/html;
    }
    location / {
        include         uwsgi_params;
        uwsgi_pass unix:/tmp/uwsgi.sock;
        uwsgi_param UWSGI_PYHOME /var/www/<app-name>/env;
        uwsgi_param UWSGI_CHDIR /var/www/<app-name>/project;
        uwsgi_param UWSGI_MODULE <project-name>.wsgi:application;
    }      
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-08T10:52:25.743

您根本没有从您发布的 nginx 配置中进行任何重定向，除了 /static/ 和 /50x.html 之外的所有内容都被传递到 uwsgi 应用程序

因此重定向必须发生在 uwsgi 应用程序中

就从 nginx 内部进行重定向而言，简单的情况是这样的：

```
location /redirected-path {
  #for 302 redirect
  rewrite ^ http://anotherwebsite.example.com/path-on-other-site redirect; 

   #for 301 redirect
  # rewrite ^ http://anotherwebsite.example.com/path-on-other-site permanent;
} 
```

（更复杂的情况涉及更复杂的正则表达式`^`）

更新：

对，所以从您在下面评论中链接的代码中，您真正想要做的是更改输出的 html 代码锚标记的 href 值。

这样做的正确位置是在后端代码中（即在您要连接的 uwsgi 应用程序中）

您可以通过以下重写来做到这一点：

```
 location /main {
   rewrite ^/main(.*) http://www.mysite.com$1 permanent;
 } 
```

**但这**有一个很大的缺点，即需要额外往返服务器，然后客户端会这样做：

1.  向您的服务器请求
2.  响应重定向到另一台服务器
3.  向另一台服务器请求
4.  来自另一台服务器的响应

而如果您在后端代码中更改它，则不再需要步骤 1 和 2。

除了导致潜在的（取决于连接速度和服务器负载）显着延迟。它还会增加您的服务器负载。

使用服务器重写是一种技巧，除非您无权访问后端代码，否则您真的应该跳过

# objective-c - 分段控制段图像

> ID：13283929
> 
> 赞同：0
> 
> 时间：2012-11-08T06:50:00.533
> 
> 标签：objective-c, ios, xcode

在我的项目中，我使用 3 段的分段控制。我有每个段的图片和按下/未按下状态。这是图像：

[图片链接](http://imageshack.us/photo/my-images/43/testph.png/)

如果图片大小与段大小不匹配，则不适合。这个问题有什么解决办法吗？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T07:12:27.473

使用 UIImage 的 - (UIImage *)resizableImageWithCapInsets:(UIEdgeInsets)capInsets 方法将图像设置为您的按钮。它将为您的按钮返回调整大小的图像。在 iOS 5.0 及更高版本中可用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-08T07:19:54.600

如果您使用的是 iOS 5 或更高版本，则可以使用`UIImage`'`resizableImageWithCapInsets:`方法为分段控件创建可调整大小的按钮，然后在其上渲染文本。一个很好的教程可以[在这里找到](http://mobiledevelopertips.com/user-interface/ios-5-uiimage-and-resizableimagewithcapinsets.html)。

本质上，您所要做的就是创建按钮图像的版本，这些版本具有可调整大小的不同末端和中心。

# mysql - UPDATE 查询的 WHERE 子句中的 SELECT 查询

> ID：13283940
> 
> 赞同：3
> 
> 时间：2012-11-08T06:50:58.483
> 
> 标签：mysql

> **可能重复：**
> [Mysql 错误 1093 - 无法在 FROM 子句中指定要更新的目标表](https://stackoverflow.com/questions/45494/mysql-error-1093-cant-specify-target-table-for-update-in-from-clause)

将 SELECT 查询放入 UPDATE 查询的 WHERE 子句时出现错误。

我的查询是这样的：

```
UPDATE `subschedulesseats` m
SET m.studentid='1'
WHERE m.`seatid`= (
    SELECT h.`seatid`
    FROM `subschedulesseats` h
    WHERE h.`sessiontime`='02:30~04:00'
    ORDER BY h.`seatid` ASC
    LIMIT 2,1
) 
```

AND 错误将显示如下：

“您不能在 FROM 子句中指定目标表 'm' 进行更新”

我附上了错误显示的快照。

![在此处输入图像描述](../Images/14d5db71397f2665e852d90481569001.png)

请问有人可以帮我解决这个问题吗？

先感谢您

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-08T06:57:42.637

实际上，您可以通过将其包装在子查询中来更新它（*从而为结果创建临时表*）

```
UPDATE `subschedulesseats` m
SET m.studentid='1'
WHERE m.`seatid`= 
(
    SELECT seatID
    FROM
    (
        SELECT h.`seatid`
        FROM `subschedulesseats` h
        WHERE h.`sessiontime`='02:30~04:00'
        ORDER BY h.`seatid` ASC
        LIMIT 2,1
    ) s
) 
```

或通过使用`JOIN`

```
UPDATE  `subschedulesseats` m
        INNER JOIN
        (
            SELECT seatID
            FROM
            (
                SELECT h.`seatid`
                FROM `subschedulesseats` h
                WHERE h.`sessiontime`='02:30~04:00'
                ORDER BY h.`seatid` ASC
                LIMIT 2,1
            ) s
        ) t ON m.seatID = t.seatID
SET     m.studentid = '1' 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-08T06:54:56.617

在 MySQL 中，您不能修改在 SELECT 部分中使用的同一个表。此行为记录在：[http ://dev.mysql.com/doc/refman/5.6/en/update.html](http://dev.mysql.com/doc/refman/5.6/en/update.html)

参考资料

[https://stackoverflow.com/a/45498/1225190](https://stackoverflow.com/a/45498/1225190)

# android - ScrollView 在底部显示大空间

> ID：13283942
> 
> 赞同：2
> 
> 时间：2012-11-08T06:51:22.493
> 
> 标签：android, listview, scrollview

我已经添加 了`Button`和。在下面添加到in但问题是它在按钮和 之间显示了很大的空间。这是我的代码`ListView``ScrollView``Button``ListView``ScrollView``ListView`

```
ReservationDrinkListAdapter adp = new ReservationDrinkListAdapter(this,
            KukumberApplication.getInstance().getBottleService().menuItems);
        list.setAdapter(adp);
        Util.setListViewHeightBasedOnChildren(list); 
```

以下方法用于显示`ListView`。`ScrollView`

```
 public static void setListViewHeightBasedOnChildren(ListView listView)
   {
       ListAdapter listAdapter = listView.getAdapter(); 
       if (listAdapter == null) {
           // pre-condition
           return;
       }

       int totalHeight = 0;
       for (int i = 0; i < listAdapter.getCount(); i++) {
           View listItem = listAdapter.getView(i, null, listView);
           listItem.measure(0, 0);
           totalHeight += listItem.getMeasuredHeight();
       }

       ViewGroup.LayoutParams params = listView.getLayoutParams();
       params.height = totalHeight + (listView.getDividerHeight() * (listAdapter.getCount() - 1));
       listView.setLayoutParams(params);
   } 
```

我究竟做错了什么？任何建议和示例代码将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T06:58:26.160

在滚动视图中使用列表视图在技术上是可行的，但完全不推荐，这样做（扩展整个列表以便滚动视图容纳所有列表）违背了适配器视图（性能）的全部观点，并且会导致你很多诸如您遇到的问题。

您可以在答案中看到更多关于此的信息，例如： [如何将 ListView 放入 ScrollView 而不会折叠？](https://stackoverflow.com/questions/3495890/how-can-i-put-a-listview-into-a-scrollview-without-it-collapsing) [如何在滚动视图中添加两个列表视图](https://stackoverflow.com/questions/9587754/how-to-add-two-listview-in-scrollview?rq=1) [为什么列表视图不能在滚动视图中使用？](https://stackoverflow.com/questions/8776685/why-listview-cannot-be-used-in-a-scrollview?rq=1) [ScrollView 中的 ListView 在 Android 上不滚动](https://stackoverflow.com/questions/6210895/listview-inside-scrollview-is-not-scrolling-on-android?rq=1)

还有更多。

# uitableview - 如何更改滑动的颜色以删除表格视图单元格中的按钮

> ID：13283944
> 
> 赞同：0
> 
> 时间：2012-11-08T06:51:25.087
> 
> 标签：uitableview

我需要将滑动删除按钮的颜色从红色更改为我的自定义颜色。这可能吗？任何帮助都会很棒。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-01T05:50:28.197

你不能修改它。您需要实现自己的按钮。您可以在单元格上添加滑动手势并制作动画以显示按钮。然后相应地处理按钮动作。

# facebook - 不显示 FB 登录画面

> ID：13283949
> 
> 赞同：-1
> 
> 时间：2012-11-08T06:51:35.507
> 
> 标签：facebook, blackberry

我无法显示 facebook 登录屏幕，我已经下载了 facebook blackberry API [https://sourceforge.net/projects/facebook-bb-sdk/](https://sourceforge.net/projects/facebook-bb-sdk/)，但如果没有登录用户，它会显示 facebook 的当前用户然后它应该打开登录屏幕，但它没有显示，我正在使用以下代码：检索当前用户（同步）：

```
 User user = fb.getCurrentUser();
    To retrieve the current user (Asynchronously):
    fb.getCurrentUser(new BasicAsyncCallback() {
    public void onComplete(com.blackberry.facebook.inf.Object[] objects, final java.lang.Object state) {
    user = (User) objects[0];
    // do whatever you want
    }
    public void onException(final Exception e, final java.lang.Object state) {
    e.printStackTrace();
    // do whatever you want
    }
    }); 
```

我的问题是当设备没有任何 Facebook 用户时，我想要 Facebook 登录屏幕。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-26T23:53:59.873

```
You are trying to get the current user asynchronously. Don't do that if you want to see the login screen. Do this instead:

Runnable a = new Runnable(){
    public void run(){
        ApplicationSettings as = new ApplicationSettings(YOUR_FACEBOOK_NEXT_URL, YOUR_FACEBOOK_APPLICATION_ID, YOUR_FACEBOOK_APPLICATION_SECRET, Facebook.Permissions.ALL_PERMISSIONS);

        Facebook fb = Facebook.getInstance(as);
        try {
        User user = fb.getCurrentUser();
        if( user != null){
            //do whatever
            }
    } catch(FacebookException e){
            //Crazy happened!
    }
    }
};

UiApplication.getUiApplication().invokeLater(a);

I think this should solve your problem. Cheers. 
```

# java - 在位置获取 SWT 小部件

> ID：13283950
> 
> 赞同：3
> 
> 时间：2012-11-08T06:51:38.530
> 
> 标签：java, swt, coordinates, composite

我有一组相对于复合材料的 x/y 坐标，如何找到这些坐标所在的小部件？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-08T13:37:22.353

这很丑，但你可以做这样的功能：

```
public Control getControl(Composite composite, int x, int y)
{
  Control control = null;
  Control[] children = composite.getChildren()
  if (children.length == 0)
     control = composite;
  else
    for (Control tmp : children) {
       // The check below will not work because x, y and the control's bounds could be
       // relative to different parents... Better to convert all coordinates to display
       // by using Control.toDisplay() and then compare below
       if (tmp.getBounds().contains(x, y)) 
       {
         if (control instanceof Composite)
             control = getControl(tmp, x, y);
         else
             control =  tmp;
         break;
       }

    }

  return control;
} 
```

如果您使用 MouseListener 获取坐标，您可以简单地使用：

```
event.getSource(); 
```

# jquery - 使用 jquery 自动完成文本框

> ID：13283952
> 
> 赞同：0
> 
> 时间：2012-11-08T06:51:45.447
> 
> 标签：jquery, ajax

这是我的jQuery代码。

```
 $.ajax({
       url: '/api/LLCReport/GetClientRegionsList',
       async: true,
       success: function (regionList) {
          $("#txtSearchBox").autocomplete(regionList);
       }
  }); 
```

regionlist 就像

```
displaname     path
-------------  ----------
western        region-western
eastern        region-eastern 
```

这里我的问题是自动完成功能不起作用。在搜索条件中，我需要如下所示

```
 Eastern
    reggion-eastern
 Western
    region-eastern 
```

表示首先显示名称，然后是其路径。

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T06:53:40.910

如果您使用 jQuery UI，[自定义显示](http://jqueryui.com/autocomplete/#custom-data)开箱即用

# javascript - Google Chrome 无法在 FB javascript SDK 中运行脚本？

> ID：13283956
> 
> 赞同：0
> 
> 时间：2012-11-08T06:52:05.620
> 
> 标签：javascript, jquery, facebook

我有一个示例代码：

```
<script>
window.fbAsyncInit = function() {
   // init the FB JS SDK
    FB.init({
        appId      : 'xxx', // App ID from the App Dashboard
        status     : true, // check the login status upon init?
        cookie     : true, // set sessions cookies to allow your server to access the session?
        xfbml      : true  // parse XFBML tags on this page?
    });

    FB.getLoginStatus(function(response) {
          var page_id = "40796308305"; // cocacola
          if (response && response.authResponse) {
            var user_id = response.authResponse.userID;
            var fql_query = "SELECT uid FROM page_fan WHERE page_id = "+page_id+"and uid="+user_id;
            FB.Data.query(fql_query).wait(function(rows) {
              if (rows.length == 1 && rows[0].uid == user_id) {
                $('#fbframe').css('display', 'none');
              } else {
                $('#fbframe').css('display', 'block');
              }
            });
          } else {
            alert("Login to like");
          }
    });   
}
(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk')); 
```

和 html

```
<div id="fbframe">
   <fb:like href="https://www.facebook.com/coca-cola" send="false" width="450" show_faces="false"></fb:like>
</div> 
```

当我运行代码时，喜欢页面 facebook.com/coca-cola，但`$('#fbframe').css('display', 'none');`不能在 chrome 中运行（firefox 运行正常）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T07:52:36.070

我的猜测是当你第一次调用 jQuery 库时它还没有加载。

如果你打算使用 jQuery，你需要确保文档首先被加载。

像这样包装你的 loginStatus 调用：

```
$(document).ready(function() {
     FB.getLoginStatus(function(response) {
          var page_id = "40796308305"; // cocacola
          if (response && response.authResponse) {
            var user_id = response.authResponse.userID;
            var fql_query = "SELECT uid FROM page_fan WHERE page_id = "+page_id+"and uid="+user_id;
            FB.Data.query(fql_query).wait(function(rows) {
              if (rows.length == 1 && rows[0].uid == user_id) {
                $('#fbframe').css('display', 'none');
              } else {
                $('#fbframe').css('display', 'block');
              }
            });
          } else {
            alert("Login to like");
          }
    });   
}); 
```

# android - 在 AndroidManifest.xml 中使用 Admob 的 ConfigChanges 声明的 AdActivity

> ID：13283958
> 
> 赞同：4
> 
> 时间：2012-11-08T06:52:11.093
> 
> 标签：android, admob

我正在开发一个 Android 应用程序并尝试实现 Admob 广告 sdk。我已经完成了文档中提到的所有事情，但是在应该显示广告的黑色窗口中出现红色错误。

> 您必须在 AndroidManifest.xml 中使用 ConfigChanges 声明 AdActivity

我在 AndroidManifest.xml 中添加了以下行：

```
<activity
        android:name="com.google.ads.AdActivity"
        android:configChanges="keyboard|keyboardHidden|orientation" /> 
```

我已经尝试过，但仍然无法解决此错误。我正在尝试在装有 Android 4.0.4 的 Xperia 手机中运行该应用程序。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-08T06:58:16.950

你需要把它放在你的清单中：

```
<activity android:name="com.google.android.gms.ads.AdActivity"
    android:configChanges="keyboard|keyboardHidden|orientation|screenLayout|uiMode|screenSize|smallestScreenSize"/> 
```

AdViews 自己处理大量的配置更改。官方文档可以在[这里](https://developers.google.com/mobile-ads-sdk/docs/)找到。

根据[unify](https://stackoverflow.com/a/20233146/3037143)的说法，Admob 现在已集成到 Google Play 服务中。可以在[此处](https://developers.google.com/mobile-ads-sdk/docs/admob/play-migration)找到迁移参考。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-11-27T03:07:14.830

更新答案，包已更改为：

```
<activity android:name="com.google.android.gms.ads.AdActivity"      
android:configChanges="keyboard|keyboardHidden|orientation|screenLayout|uiMode|screenSize|smallestScreenSize"/> 
```

完整的迁移参考：[https ://developers.google.com/mobile-ads-sdk/docs/admob/play-migration](https://developers.google.com/mobile-ads-sdk/docs/admob/play-migration)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-13T22:33:11.267

如果您还没有解决这个问题，我相信是因为您必须为 admob 服务添加一些权限才能向您投放广告

```
<uses-permission android:name="android.permission.INTERNET"/> 
<uses-permission android:name="android.permission.ACCESS_NETWORK_STATE"/> 
```

`</Activity>`在结束标签下添加这些

希望这仍然有帮助

# javascript - 如何允许某些 URL，并根据一些条件阻止其他 URL

> ID：13283960
> 
> 赞同：0
> 
> 时间：2012-11-08T06:52:15.120
> 
> 标签：javascript

基本上我有一个变量可以使用它提供某个图像 $member_profile_image 的 url。我正在尝试检查该网址，然后在其中找到“默认”一词。我已经这样做了，indexOf 显示为 22。这让我知道有人没有将照片上传到他们的个人资料中。如果他们没有上传个人资料照片，我希望他们只能访问我存储在数组 myurls 中的链接。因此，如果上传 indexOf 确实为 22，并且它们位于存储在 myurls 中的其中一个页面上，我根本不希望发生任何事情，但是如果他们尝试转到任何其他页面，我希望将其重定向到该页面上传一张照片。我对这一切都很陌生，所以我可能离这里很远。到目前为止，我唯一能做的就是重定向到上传照片的页面，但它会一遍又一遍地重新加载页面。下面的代码：

```
<script>
var image = "$member_profile_image"
var upload = image.indexOf("Default");
var myurls = new Array(3);
myurls[0] = "http://websiteforyou.spruz.com/?page=login&cmd=c&id=7394750B-F821-48B6-B6AC-1508D1932390&c=eb3hb4el98";
myurls[1] = "http://www.websiteforyou.spruz.com/?page=login&cmd=confirm";
myurls[2] = "http://www.websiteforyou.spruz.com";
myurls[3] = "http://www.websiteforyou.spruz.com/member/?page=settings&cmd=personal";
if(myurls[0,1,2] = window.location && upload == "22")
alert("have a great day");
else
alert("You have to upload a profile image to participate on this site");
window.location.replace("http://www.websiteforyou.spruz.com/member/?page=settings&cmd=personal");
</script> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T14:42:11.357

我不完全明白你在做什么，所以我做了很多假设！一般来说，你最大的错误是`myurls[0,1,2,3] = window.location`因为`myurls[0,1,2,3]`是无效的javascript并且`=`不比较而是分配。

我已经举了一个例子来说明我认为代码应该是什么，我只是希望我是对的。

```
var image   = <?php echo json_encode($member_profile_image) ?>,
    upload  = image.indexOf('Default') === 22,
    myurls  = [
        'http://websiteforyou.spruz.com/?page=login&cmd=c&id=7394750B-F821-48B6-B6AC-1508D1932390&c=eb3hb4el98',
        'http://www.websiteforyou.spruz.com/?page=login&cmd=confirm',
        'http://www.websiteforyou.spruz.com',
        'http://www.websiteforyou.spruz.com/member/?page=settings&cmd=personal'
    ];

if (myurls.indexOf(window.location) > -1 && upload) {
    alert('have a great day');
}
else {
    alert('You have to upload a profile image to participate on this site');
    window.location.replace('http://www.websiteforyou.spruz.com/member/?page=settings&cmd=personal');
} 
```

如果使用 IE8- 你必须自己实现`indexOf`（`Array`或使用 polyfill）

还假设它是您的域并且它没有改变，您可以检查 url 路径，如下所示：

```
var image   = <?php echo json_encode($member_profile_image) ?>,
    upload  = image.indexOf('Default') === 22,
    myurls  = [
        '/?page=login&cmd=c&id=7394750B-F821-48B6-B6AC-1508D1932390&c=eb3hb4el98',
        '/?page=settings&cmd=personal',
        '/?page=login&cmd=confirm',
        ''
    ];

if (myurls.indexOf(window.location.pathname) > -1 && upload) {
    alert('have a great day');
}
else {
    alert('You have to upload a profile image to participate on this site');
    window.location.replace('/member/?page=settings&cmd=personal');
} 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-11-08T07:55:20.630

在 else 语句之后，您需要包装警报并将位置替换为 { } - 就目前而言，无论 if 检查的结果如何，都会运行 window.location 行。

也就是说，改变

```
if(myurls[0,1,2,3] = window.location && upload == "22")
alert("have a great day");
else
alert("You have to upload a profile image to participate on this site");
window.location.replace("http://www.websiteforyou.spruz.com/member/?page=settings&cmd=personal"); 
```

对此：

```
if(myurls[0,1,2,3] = window.location && upload == "22")
  alert("have a great day");
else
{
  alert("You have to upload a profile image to participate on this site");
  window.location.replace("http://www.websiteforyou.spruz.com/member/?page=settings&cmd=personal");
} 
```

# ios - 同一 UIView 上不同图像上的多个捏合手势

> ID：13283968
> 
> 赞同：0
> 
> 时间：2012-11-08T06:52:37.317
> 
> 标签：ios, uigesturerecognizer

我正在使用 Xcode 4.4，目标是 iOS 5。

如标题所示，我想为不同的图像创建多个捏合手势。我使用两种类型的图像。一种设置为背景，第二种类型的图像是粘贴在设置为背景的图像上的图章。为此，我使用 UIGestureRecognizer。一切都很好，直到我粘贴邮票类型的图像并尝试缩放该图像。我可以缩放，但是当我缩放图像时，图像也已设置为背景缩放。

使用下面的代码，我可以粘贴不同的图像（图章类型），单独点击并拖动它们，但当我尝试所有内容缩放时也不能。为什么不工作？

先感谢您

```
 - (void)viewDidLoad{

[super viewDidLoad];
// Do any additional setup after loading the view from its nib.
NSLog(@"menuListType=%@ ; menuID=%@", self.category.menuListType ,self.menu.menuID);

UIImage *aImage; 
NSString *imagepath = [NSString stringWithFormat:@"%@%@",[FileUtility getPDFImageFolderPath], self.menu.imageID];
if (self.menu.imageID == nil || [self.menu.imageID isEqualToString:@""]) {
    //        self.canvasView.image = [UIImage imageNamed:@"NotExistFile.jpg"];
    aImage = [UIImage imageNamed:@"NotExistFile.jpg"];

} else {
    //        self.canvasView.image = [UIImage imageWithContentsOfFile:imagepath];
    aImage = [UIImage imageWithContentsOfFile:imagepath];
    //        self.canvasView = [[[UIImageView alloc] initWithImage:self.canvasView.image] autorelease];
}

// Choose image base and set as background
if ([self.category.menuListType isEqualToString:@"4"]) {
    //set size
    int imageW = aImage.size.width;
    int imageH = aImage.size.height;

    float scale = (imageW > imageH ? 500.0f/imageH : 500.0f/imageW);

    CGSize resizedSize = CGSizeMake(imageW * scale, imageH * scale);
    UIGraphicsBeginImageContext(resizedSize);
    [aImage drawInRect:CGRectMake(0, 0, resizedSize.width, resizedSize.height)];
    UIImage *resizedImage = UIGraphicsGetImageFromCurrentImageContext();
    UIGraphicsEndImageContext();

    self.canvasView.contentMode = UIViewContentModeTop;
    self.canvasView.image = resizedImage;

    if (self.menu.imageID == nil || [self.menu.imageID isEqualToString:@""]) {
    } else {
        self.canvasView = [[[UIImageView alloc] initWithImage:self.canvasView.image] autorelease];
    }

} else {
    // Paste image and set as background
    UIImage *captureImage;
    NSString *capturepath = [NSString stringWithFormat:@"%@%@",[FileUtility getPDFImageFolderPath], @"capture.png"];
    if ([FileUtility fileExist:capturepath]) {
        captureImage = [UIImage imageWithContentsOfFile:capturepath];
    } else {
        captureImage = [UIImage imageNamed:@"NotExistFile3.png"];
    }
    self.canvasView.contentMode = UIViewContentModeTop;;
    self.canvasView.image = captureImage;
    self.canvasView = [[[UIImageView alloc] initWithImage:self.canvasView.image] autorelease];

    // Prepare Gestures
    iViewsTapidx = 0;
    iViewsDblTapidx = 0;
    ivMax = sizeof(iViews) / sizeof(iViews[0]);
    isTaped = NO;
    isDblTaped = NO;
    _width = 100;

    // Initialization code
    // Single tap
    UITapGestureRecognizer *tapg =
    [[UITapGestureRecognizer alloc] initWithTarget:self 
                                            action:@selector(tapAction:)];
    [self.itemView addGestureRecognizer:tapg];

    // Double tap
    UITapGestureRecognizer *doubleTap =
    [[UITapGestureRecognizer alloc] initWithTarget:self
                                            action:@selector(doubleTapAction:)];
    doubleTap.numberOfTapsRequired = 2;
    [self.itemView addGestureRecognizer:doubleTap];

    // longPress（長押し）
    UILongPressGestureRecognizer *longPress =
    [[UILongPressGestureRecognizer alloc] initWithTarget:self 
                                                  action:@selector(longPressAction:)];
    [self.itemView addGestureRecognizer:longPress];

    // drag
    UIPanGestureRecognizer *pan =
    [[UIPanGestureRecognizer alloc] initWithTarget:self 
                                            action:@selector(panAction:)];
    [self.itemView addGestureRecognizer:pan];

    //pinch

    UIPinchGestureRecognizer *pinchGestureRognizer = [[UIPinchGestureRecognizer alloc] initWithTarget:self action:@selector(handlePinch:)];
    [self.itemView addGestureRecognizer:pinchGestureRognizer];

    // Stamp Image
    int i = 0;
    CGPoint tapPoint = CGPointMake(self.canvasView.center.x, self.canvasView.center.y);

    int parcent = aImage.size.width / _width;   // Prepare image to paste
    // Show stamp
    *(iViews+i) = [[UIImageView alloc] initWithImage:aImage];
    (*(iViews+i)).frame =  CGRectMake(tapPoint.x - aImage.size.width/parcent/2, 
                                      tapPoint.y - aImage.size.height/parcent/2,
                                      aImage.size.width/parcent,
                                      aImage.size.height/parcent);
    (*(iViews+i)).tag = i+1;
    [self.itemView addSubview:*(iViews+i)];
    iViewsTapidx = i;
    isTaped = YES;
    self.itemView.userInteractionEnabled = YES;

}

[self showAnimation];
}

// tap
-(void)tapAction:(UITapGestureRecognizer *) sender{
CGPoint tapPoint = [sender locationInView:self.itemView];
NSLog(@">>>tap x=%.2f, y=%.2f", tapPoint.x, tapPoint.y);
int i =0;
isTaped = NO;
for (i = 0; i < ivMax; i++) {
    if (CGRectContainsPoint((*(iViews+i)).frame, tapPoint)) {
        isTaped = YES;
        iViewsTapidx = i;
        NSLog(@"i = %d", i);
        break;
    }
}
}

// doubleTap

-(void)doubleTapAction:(UITapGestureRecognizer *) sender{
NSLog(@">>>doubleTap");
CGPoint tapPoint = [sender locationInView:self.itemView];
isTaped = NO;
isDblTaped = NO;

int i =0;
for (i = 0; i < ivMax; i++) {
    if (CGRectContainsPoint((*(iViews+i)).frame, tapPoint)) {
        isDblTaped = YES;
        iViewsDblTapidx = i;
        break;
    }
}

// remove
if (isDblTaped) {
    NSLog(@"remove %d", i);
    (*(iViews+i)).tag = 0;
    [*(iViews+i) removeFromSuperview];
}
}

// longPress

- (void)longPressAction:(UILongPressGestureRecognizer *) sender{
if ([sender state] == UIGestureRecognizerStateBegan) {

    NSLog(@">>>longPress 1");
}else if ([sender state] == UIGestureRecognizerStateEnded) {

    CGPoint tapPoint = [sender locationInView:self.itemView];
    NSLog(@">>>longPress 2 x=%.2f, y=%.2f", tapPoint.x, tapPoint.y);
    int i =0;
    for (i = 0; i < ivMax; i++) {
        NSLog(@"i = %d", i);
        if ((*(iViews+i)).tag == 0) {
            break;
        }
    }

    if (i < ivMax) {
        //Stamp imapge
        UIImage *stampImage; 
        NSString *imagepath = [NSString stringWithFormat:@"%@%@",[FileUtility getPDFImageFolderPath], self.menu.imageID];
        if (self.menu.imageID == nil || [self.menu.imageID isEqualToString:@""]) {
            stampImage = [UIImage imageNamed:@"NotExistFile.jpg"];

        } else {
            stampImage = [UIImage imageWithContentsOfFile:imagepath];
        }
        int parcent = stampImage.size.width / _width;   // Set stamp image
        //Sow stamp image
        *(iViews+i) = [[UIImageView alloc] initWithImage:stampImage];
        (*(iViews+i)).frame =  CGRectMake(tapPoint.x - stampImage.size.width/parcent/2, 
                                          tapPoint.y - stampImage.size.height/parcent/2, 
                                          stampImage.size.width/parcent,
                                          stampImage.size.height/parcent);
        (*(iViews+i)).tag = i+1;
        [self.itemView addSubview:*(iViews+i)];
        iViewsTapidx = i;
        isTaped = YES;
    }

}
}

// drag
- (void)panAction:(UIPanGestureRecognizer *) sender{
NSLog(@">>>pan");
if (isTaped) {
    CGPoint p = [sender translationInView:self.itemView];
    CGPoint movePoint = CGPointMake((*(iViews+iViewsTapidx)).center.x + p.x, 
                                    (*(iViews+iViewsTapidx)).center.y + p.y);
    (*(iViews+iViewsTapidx)).center = movePoint;
    //        NSLog(@">>>pan x=%.2f, y=%.2f --> x=%.2f, y=%.2f", p.x, p.y, movePoint.x, movePoint.y);
    NSLog(@">>>pan x=%.2f, y=%.2f", p.x, p.y);

    [sender setTranslation:CGPointZero inView:self.itemView];
}
}

-(void) handlePinch:(UIGestureRecognizer *) sender {

UIPinchGestureRecognizer *pinchGesture = (UIPinchGestureRecognizer *) sender;

if (pinchGesture.state == UIGestureRecognizerStateBegan || pinchGesture.state == UIGestureRecognizerStateChanged) {

    //UIView *view = pinchGesture.view;
   // UIView *view = self.itemView;
    self.itemView.transform = CGAffineTransformScale(self.itemView.transform, pinchGesture.scale, pinchGesture.scale);
    pinchGesture.scale = 1;
    NSLog(@"zoom");
}
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T09:56:34.313

另一种方法是使用 UIScrolliew 作为容器而不是 UIView 并使用`- (UIView*)viewForZoomingInScrollView:(UIScrollView *)aScrollView { return imageView; }`

这里的 imageView 是您要缩放的图像，这将缩放您正在捏它的唯一图像并且工作正常。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-08T07:29:03.773

您必须在 Uiimageview 上添加手势识别器，请在此处查看：[UIImageView 上的 UIGestureRecognizer](https://stackoverflow.com/questions/3907397/gesturerecognizer-on-uiimageview)

# java - 用户输入后重新绘制 JPanels（或 JFrames？）？

> ID：13283970
> 
> 赞同：2
> 
> 时间：2012-11-08T06:52:41.953
> 
> 标签：java, swing, jpanel, repaint

我目前正在用 Java 编写日历。日历本身可以很好地填写，月份和年份显示在其下方网格上方的 JComboBoxes 中。Grid 本身充满了空的 JLabels 或 JButtons（一个月中的几天）。JComboBoxes 链接到 ActionListeners，它检测用户更改信息（由 System.out.print 语句确认）。但是，发生这种情况后，我找不到“重绘”JPanel 的方法。被调用的方法完全创建了一个新的 JPanel 并添加了新的 JLabels/JButtons，但在此之后 JFrame 上的任何内容都不会更新。我尝试在整个 JPanel（包括 JComboBoxes 和 BorderLayout 中它下方的网格）、只有网格的 JPanel 和 JFrame 上使用重绘和重新验证，但没有任何反应。

```
// This code is within the build() method that builds the GUI.
// This method adds the centerPanel into the mainPanel

yearChoice.addActionListener(new ActionListener() {
        public void actionPerformed(ActionEvent ae) {
            int i = yearChoice.getSelectedIndex();
            if (i >= 0) {
                yy = Integer.parseInt(yearChoice.getSelectedItem()
                        .toString());
                //System.out.println("Year=" + yy);
                compute();
            }
        }
    });

private void compute(){
    elements = new int[6][7];

// OMITTED is the code that determines whether a cell in the array should be an empty    
// JLabel or a JButton. This code is based on the Calendar, and does work properly,
// but I can't figure out how to get the new Month/Year to show up on a new Panel

    centerPanel = new JPanel(new GridLayout(7, 7));
    JLabel sunday = new JLabel("S"),
            monday = new JLabel("M"),
            tuesday = new JLabel("T"),
            wednesday = new JLabel("W"),
            thursday = new JLabel("Th"),
            friday = new JLabel("F"),
            saturday = new JLabel("S");

    centerPanel.add(sunday);
    centerPanel.add(monday);
    centerPanel.add(tuesday);
    centerPanel.add(wednesday);
    centerPanel.add(thursday);
    centerPanel.add(friday);
    centerPanel.add(saturday);

    for(int i = 0; i < 6; i++){
        for(int j = 0; j < 7; j++){
            if(elements[i][j] == -1){
                centerPanel.add(new JLabel(" "));
            }else{
                centerPanel.add(new JButton("" + elements[i][j]));
            }
        }

    }
    // Here is where I attempt to repaint the centerPanel for the JPanel, but it 
    // doesn't work
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-08T07:54:44.257

> 被调用的方法完全创建了一个新的 JPanel 并添加了新的 JLabels/JButtons，但在此之后 JFrame 上的任何内容都不会更新。我尝试在整个 JPanel（包括 JComboBoxes 和 BorderLayout 中它下方的网格）、只有网格的 JPanel 和 JFrame 上使用重绘和重新验证，但没有任何反应。有谁知道出了什么问题？

1.  `JPanel`你打电话给另一个`(re)validate`&`repaint`

2.  更新不在屏幕上可见的矩形范围内，`JPanel`放在`JScrollPane`

3.  如果更新超出可见矩形，您可以调用 JFrame.pack()，但在这种情况下，JFrame 将在屏幕上更改其尺寸

> 被调用的方法完全创建了一个新的 JPanel 并添加了新的 JLabels/JButtons，但在此之后 JFrame 上的任何内容都不会更新。

1.  为什么要重新创建 JPanel，创建一次并使用 setVisible(false/true)

2.  不要重新创建 JPanel，将这些（两个或三个 JPanel）放到 CardLayout 中，然后任何更改都只会在视图之间切换

* * *

*   为了获得更好的帮助，请尽快发布[SSCCE](http://sscce.org/)，简短，可运行，可编译

*   [代码示例](https://stackoverflow.com/a/6989230/714968)

# php - PHP HTTP Authentication if 条件语句

> ID：13283972
> 
> 赞同：0
> 
> 时间：2012-11-08T06:52:48.637
> 
> 标签：php, http, authentication

```
<?php
   if (!isset($_SERVER['PHP_AUTH_USER'])) {
      header('WWW-Authenticate: Basic realm="My Realm"');
      header('HTTP/1.0 401 Unauthorized');
      echo 'Text to send if user hits Cancel button';
      exit;
   } else {
      echo "<p>Hello {$_SERVER['PHP_AUTH_USER']}.</p>";
      echo "<p>You entered {$_SERVER['PHP_AUTH_PW']} as your password.</p>";
   }
?> 
```

这段代码违背了“if”控制结构工作方式背后的逻辑。但是我在很多代码中都看到了同样的东西，所以出于某种原因它一定是正确的。然而，我的逻辑告诉我并非如此。

当然条件是`"!isset($_SERVER['PHP_AUTH_USER']))`检查是否在服务器上设置了这个变量。假设它没有设置。因此，服务器向需要 HTTP 身份验证的客户端发送一个请求，`"header('WWW-Authenticate: Basic realm="My Realm"');"`假设我提供了一个正确的请求。在此之后，控制结构以某种方式`"if"`跳过了`" header('HTTP/1.0 401 Unauthorized');"`和 echo 语句以及控制结构的其余部分。为什么是这样？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-08T07:19:02.673

该脚本运行两次。

首先，它进入第一个块，将标题和“如果用户点击取消按钮则发送的文本”文本发送到浏览器，然后停止（参见 参考资料`exit`）。PHP 脚本完全终止，忘记了曾经发生过的任何事情。

控制权交给浏览器，您可以在其中输入密码。（此时，浏览器已经收到取消按钮文本，但由于 401 状态标头而无法显示。）输入密码后，控件返回服务器并再次**从top**，现在（发送密码）进入第二部分。

如果您按转义键，浏览器将删除密码对话框，并仅显示它在第一次执行期间已收到的内容（取消按钮文本）。

您可以通过查看您的网络服务器的访问日志来遵循这一点。

# android - 在 android 中使用 group by 和 have

> ID：13283975
> 
> 赞同：0
> 
> 时间：2012-11-08T06:52:55.890
> 
> 标签：android, database, sqlite

我们如何在 android 中使用 group by 和 have？我想使用这个查询：

```
select sum(Quantity) from tbl1 group by name having id=lastid 
```

并使用以下代码在我的项目的其他地方使用我在 groupy 的一页中看到的结果：

```
return mDd.query(DATABASE_TABLE,new String[] {
    KEY_ROWID,
    KEY_TITLE,
    KEY_DATAS,
    KEY_BODY,
    KEY_DATE_TIME
},null,null,KEY_TITLE,null,null); 
```

但我不知道我应该为拥有和 sum() 做什么！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T07:01:48.213

您应该使用[SQliteDatabase](http://developer.android.com/reference/android/database/sqlite/SQLiteDatabase.html#rawQuery%28java.lang.String,%20java.lang.String%5B%5D,%20android.os.CancellationSignal%29)类的`rawQuery`方法：

```
Cursor cursor = sqliteDatabase2.rawQuery(
    "select sum(Quantity) from tbl1 group by name having id=lastid", null);
if(cursor.moveToFirst()) {
    //process cursor
} 
```

灵感来自[在 Android 上使用 Java 获取 SQLite SUM](https://stackoverflow.com/questions/1182831/fetching-a-sqlite-sum-in-java-on-android)

# ios - [CFString retain]：消息发送到已释放实例 0x7020100

> ID：13283977
> 
> 赞同：2
> 
> 时间：2012-11-08T06:53:09.367
> 
> 标签：ios

我正在将现有项目转换为 ARC。它将一些变量转换为 __unsafe_unretained。我的应用程序崩溃并显示消息 [CFString retain]: message sent to deallocated instance 0x7020100。由于我的应用程序很大，因此在每个流程中都会出现此消息而崩溃。任何人都可以提出一个通用的解决方案。

# php - 使用 phpExcel 在 csv 中应用与 xls 或 xlsx 相同的效果

> ID：13283978
> 
> 赞同：0
> 
> 时间：2012-11-08T06:53:08.860
> 
> 标签：php, phpexcel

我正在使用 PhpExcel 将报告导出到 csv 和 xls。我可以在 xls 格式中看到颜色、分组、宽度、Wraptext、字体样式、字体大小、粗体等效果，但是当我将其传递给 csv writer 对象时，数据会正确放置在单元格中但没有效果在 csv 中应用。我正在使用以下代码导出到 csv。

我尝试了两种不同的方法，但结果是一样的

```
$objWriter = PHPExcel_IOFactory::createWriter($objPHPExcel, 'CSV'); 
```

和另一个

```
$objWriter = new PHPExcel_Writer_CSV($objPHPExcel);

$objWriter->setDelimiter(',');
$objWriter->setEnclosure('');
$objWriter->setLineEnding("\r\n");
$objWriter->setSheetIndex(0);

header('Content-type: text/csv');
header('Content-Disposition: attachment;filename="export.csv"');
header('Cache-Control: max-age=0');

$objWriter->save('php://output'); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T08:22:57.120

那是因为 CSV 文件只存储数据，而不是样式......您根本无法存储这样一个事实，即文本块应该是粗体或固定宽度的换行，甚至是 csv 文件中的合并单元格。PHPExcel 无法改变这一点，这只是 CSV 文件的方式，以及如果您确实想要在输出中设置样式，为什么需要使用另一种格式。

# c# - 如何从c#连接mysql？

> ID：13283987
> 
> 赞同：0
> 
> 时间：2012-11-08T06:53:45.687
> 
> 标签：c#, mysql

我下载了`mysql.dll`。当我将此添加到我的解决方案中时，我收到一个错误，例如

> 请确保该文件是可访问的，并且它是有效的程序集或 com 组件...

请告诉我如何从 C# 连接到 MySql 以及我在 C# 中使用 MySql 时可能遇到的任何问题。它会在每个系统上运行吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T07:05:45.520

[http://www.mysql.com/downloads/connector/net/](http://www.mysql.com/downloads/connector/net/)

您可以下载 MySql 连接器并使用它

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-08T07:19:14.270

你应该引用 MySql.Data.dll，而不是 mysql.dll

要打开数据库连接，您可以使用类似这样的东西

```
 internal static MySqlConnection GetConnection(string dbserver, string username, string password, string databasename)
    {
        try
        {
            MySqlConnection conn = new MySqlConnection("server=" + dbserver + ";User Id=" + username + ";Password=" + password + ";Persist Security Info=True;database=" + databasename);
            conn.Open();
            return conn;
        }
        catch (Exception ex)
        {
            // Code to handle exception
        }
    } 
```

关于支持的平台，文档说：

> Connector/NET 可以在任何支持 .NET 框架的平台上运行。.NET 框架主要在最新版本的 Microsoft Windows 上得到支持，并通过 Open Source Mono 框架在 Linux 上得到支持

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-08T07:17:32.280

首先，您必须将 MySQL.data.dll 添加到 References

其次，这里是连接到 MySQL 服务器并从服务器中选择一个简单数据的示例代码

> ```
>  private string _server;
> 
>     private string _port;
> 
>     private string _database;
> 
>     private string _uid;
> 
>     private string _pwd;
> 
>     //Constructor
>     public MySQL()
>     {
>         Initialize();
>     }
> 
>     //Initialize connection string
>     private void Initialize()
>     {
>         _server = "10.11.12.13";
>         _database = "ABCDEF";
>         _port = "3306";
>         _uid = "root";
>         _pwd = "raat";
>         var connectionString = "SERVER=" + _server + ";" + "DATABASE=" + 
>                                   _database + ";" + "PORT=" + _port + ";" + "UID=" + _uid + ";" + "PASSWORD=" + _pwd + ";";> 
>         
>         connection = new MySqlConnection(connectionString);
>     }
> 
>     //Connect to server
>     private bool OpenConnection()
>     {
>         try
>         {
>             if (connection.State != System.Data.ConnectionState.Open)
>                 connection.Open();
> 
>             return true;
>         }
>         catch (MySqlException ex)
>         {
>             //When handling errors, you can your application's response based 
>             //on the error number.
>             //The two most common error numbers when connecting are as follows:
>             //0: Cannot connect to server.
>             //1045: Invalid user name and/or password.
>             switch (ex.Number)
>             {
>                 case 0:
>                     Global._logger.Info("Cannot connect to server.  Contact administrator");
>                     break;
> 
>                 case 1045:
>                     Global._logger.Info("Invalid username/password, please try again");
>                     break;
>             }
>             Global._logger.Info(ex.Message + " / " + ex.StackTrace);
>             return false;
>         }
>     }
> 
>     //Close connection
>     private bool CloseConnection()
>     {
>         try
>         {
>             if (connection.State != System.Data.ConnectionState.Closed)
>                 connection.Close();
> 
>             return true;
>         }
>         catch (MySqlException e)
>         {
>             Global._logger.Info(e.Message + " / " + e.StackTrace);
>             return false;
>         }
>     }
> 
>     //Create query to select data from Server
>     public string GetStudentName(string studentId)
>     {
>         var query = "SELECT * FROM Student WHERE StudentID = '" + studentId;
> 
>         if (OpenConnection())
>         {
>             //Create command
>             var cmd = new MySqlCommand(query, connection);
> 
>             //Create data reader and excute datareader
>             MySqlDataReader dataReader = null;> 
> 
>             try
>             {
>                 dataReader = cmd.ExecuteReader();
>             }
>             catch (MySqlException mySQLEx)
>             {
>                 Global._logger.Error(mySQLEx);
>             }
> 
>             string studentName = "";
> 
>             try
>             {
>                 if (dataReader != null)
>                 {                         
>                     while (dataReader.Read())
>                     {                      
> 
>                         studentName= Convert.ToInt32(dataReader["Name"].ToString());
> 
>                     }
>                     
>                     dataReader.Close();
>                     
>                     CloseConnection();    
> 
>                     return studentName;                    
>                 }               
> 
>             }
>             catch (Exception e)
>             {
>                 Global._logger.Info(e.Message + e.Source);>              
>             }
>         }          
>     } 
> ```

# vba - 关闭 Outlook 提醒

> ID：13283989
> 
> 赞同：11
> 
> 时间：2012-11-08T06:53:48.873
> 
> 标签：vba, outlook, reminders

我没有运气在显示之前以编程方式关闭 Outlook 警报。

```
Private Sub Application_Reminder(ByVal Item As Object)
    Dim objRem As Reminder
    Dim objRems As Reminders
    If Item.Subject = "TESTING" Then
        'downloadAndSendSpreadReport
        Set objRems = Application.Reminders
        i = 0
        For Each objRem In objRems
            i = i + 1
            If objRem.Caption = "TESTING" Then
                objRems.Remove i
                If objRem.IsVisible Then
                    objRem.Dismiss
                End If
                Exit For
            End If
        Next objRem
        Item.ReminderSet = False
        Item.Delete
        'Item.Dismiss
    End If
End Sub 
```

我想将此约会项目用作某些宏的触发器，而无需用户手动关闭提醒。

在我看来，触发此事件时，提醒项不可见，因此无法关闭

我试图从提醒集中删除它，但这似乎从我的日历中删除了整个事件。此外，它仍会显示非 ASCII 格式的 STRANGE TITLE 提醒。

我尝试将约会项的remindSet属性设置为false，提示属性还是弹出来。

所以我正在**寻找**一种方法来a）在提醒自动弹出之前将其关闭/b）。在它自动弹出后关闭提醒......或在 Outlook 中执行预定的 MACRO 的任何解决方法。（请注意，我无权在 Windows 或 VBS 中使用计划作业。）

更新：

现在我有以下代码。提醒正在被删除，但它仍会弹出一个提醒窗口，其标题为“没有约会/提醒”之类的标题。

beforeReminderShow 事件在提醒对象 isVisible = true 的意义上很有用

所以我可以解雇..但即使有 0 个事件，提醒窗口也会继续弹出。

```
Private WithEvents olRemind As Outlook.Reminders
Private Sub olRemind_BeforeReminderShow(Cancel As Boolean)
Set objRems = Application.Reminders
    For Each objRem In objRems
        If objRem.Caption = "TESTING" Then
            If objRem.IsVisible Then
                objRem.Dismiss
            End If
            Exit For
        End If
    Next objRem

End Sub 
```

**[已解决] - 最终编辑**
最终解决方案可行（我放在“ThisOutlookSession”模块中）。希望这对其他人有帮助。

```
' declare this object withEvents displaying all the events
Private WithEvents olRemind As Outlook.Reminders
Private Sub Application_Reminder(ByVal Item As Object)
    Set olRemind = Outlook.Reminders
    ' RUN OTHER MACRO HERE
End Sub

Private Sub olRemind_BeforeReminderShow(Cancel As Boolean)

    For Each objRem In olRemind
        If objRem.Caption = "TESTING" Then
            If objRem.IsVisible Then
                objRem.Dismiss
                Cancel = True
            End If
            Exit For
        End If
    Next objRem

End Sub 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-09T10:13:08.557

我知道如何做到这一点的唯一方法如下。

您需要在模块/类的顶部使用它：

```
Private WithEvents olRemind As Outlook.Reminders 
```

然后，当您获得 Outlook 对象时，您需要执行以下操作：

```
Set olRemind = olApp.Reminders 
```

`olApp`您的 Outlook 应用程序对象在哪里。

现在在你的代码中你需要有这个事件：

```
Private Sub olRemind_BeforeReminderShow(Cancel As Boolean) 
```

将 放在`WithEvents`顶部后，您将能够看到所有可以使用的事件。

现在您可以取消此事件，因此看不到提醒窗口。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-04-08T10:59:33.280

如果要关闭所有提醒，只需实现以下代码（声明此对象`WithEvents`显示所有事件）：

```
Private WithEvents olRemind As Outlook.Reminders

Private Sub Application_Reminder(ByVal Item As Object)
    Set olRemind = Outlook.Reminders
    ' RUN OTHER MACRO HERE
End Sub

Private Sub olRemind_BeforeReminderShow(Cancel As Boolean)
    Cancel = True          
End Sub 
```

# ios - 带有按钮的 CustomAnnotationView

> ID：13283990
> 
> 赞同：3
> 
> 时间：2012-11-08T06:53:49.030
> 
> 标签：ios, xcode, mkmapview, mkannotationview

我一直在为我的项目中的一个问题而苦恼：

我有一个 mapView，我必须显示下面的注释（小 (+) 是我的按钮）

![我该怎么办](../Images/bf5e697dbbb89c9ca253d4219becac51.png)

我已经将 MKAnnotationView 子类化，并且我有这样的 CustomAnnotationView.h：

```
@interface CustomAnnotationView : MKAnnotationView

@property (strong, nonatomic) UIImageView *calloutView;
@property (strong, nonatomic) UIButton *pinButton;
@property (strong, nonatomic) UIView *annView;

- (void)setSelected:(BOOL)selected animated:(BOOL)animated;
- (void)animateCalloutAppearance; 
```

我的 CustomAnnotationView.m

```
- (void)setSelected:(BOOL)selected animated:(BOOL)animated{
    [super setSelected:selected animated:animated];

    if(selected)
    {
        //building my custom animation 
        annView = [[ UIView alloc ] initWithFrame:(CGRectMake(0, 0, 30, 30)) ];

        annView.frame =CGRectMake(0, 0, 200, 50);

        calloutView = [[UIImageView alloc]initWithImage:[UIImage imageNamed:@"customcallout.png"]];

        [calloutView setFrame:CGRectMake(-25, 50, 0, 0)];
        [calloutView sizeToFit];

        [self animateCalloutAppearance];

        //I tried to add a button here but I could't do it like it should be
        [annView addSubview:calloutView];

        [self addSubview:annView];

    }
    else
    {
        //Remove your custom view...

        [annView removeFromSuperview];
    }
}

- (void)didAddSubview:(UIView *)subview{

        if ([[[subview class] description] isEqualToString:@"UICalloutView"]) {
            for (UIView *subsubView in subview.subviews) {
                if ([subsubView class] == [UIImageView class]) {
                    UIImageView *imageView = ((UIImageView *)subsubView);
                    [imageView removeFromSuperview];
                }else if ([subsubView class] == [UILabel class]) {
                    UILabel *labelView = ((UILabel *)subsubView);
                    [labelView removeFromSuperview];
                }
            }

    }
}

- (void)animateCalloutAppearance {
    CGFloat scale = 0.001f;
    calloutView.transform = CGAffineTransformMake(scale, 0.0f, 0.0f, scale, 0, -50);

    [UIView animateWithDuration:0.15 delay:0 options:UIViewAnimationCurveEaseOut animations:^{
        CGFloat scale = 1.1f;
        calloutView.transform = CGAffineTransformMake(scale, 0.0f, 0.0f, scale, 0, 2);

    } completion:^(BOOL finished) {
        [UIView animateWithDuration:0.1 delay:0 options:UIViewAnimationCurveEaseInOut animations:^{
            CGFloat scale = 0.95;
            calloutView.transform = CGAffineTransformMake(scale, 0.0f, 0.0f, scale, 0, -2);

        } completion:^(BOOL finished) {
            [UIView animateWithDuration:0.075 delay:0 options:UIViewAnimationCurveEaseInOut animations:^{
                CGFloat scale = 1.0;
                calloutView.transform = CGAffineTransformMake(scale, 0.0f, 0.0f, scale, 0, 0);

            } completion:nil];
        }];
    }];
}

@end 
```

有了这个，我可以在地图上显示我的自定义注释，但我不知道如何在上面放置一个按钮，这个按钮当然应该能够响应像回调这样的点击`calloutAccessoryControlTapped:`

请任何有工作示例代码或想法的人。谢谢你。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-14T14:27:36.097

`- (UIView*)hitTest`我在`CustmAnnotationView.m`课堂上解决了这个问题。我有一个单独的用于标注视图的笔尖，并使用 hittest 来确定是否`directionsButton`单击了命名的 UILabel（从标注笔尖链接）：

```
- (void)setSelected:(BOOL)selected animated:(BOOL)animated
{
    if (selected) {
        calloutVisible = YES;
        hitTestBuffer = NO;
        self.calloutView = [[[NSBundle mainBundle] loadNibNamed:@"CalloutView" owner:self options:nil] objectAtIndex:0];  
        [directionsButton setFont:[UIFont fontWithName:@"DIN-Medium" size:12.0f]];
        [calloutView setFrame:CGRectMake(calloutView.frame.origin.x, calloutView.frame.origin.y, 280, calloutView.frame.size.height)];          
        [calloutView setAlpha:0.0f];    
        [self addSubview:calloutView];
        [self sendSubviewToBack:calloutView];

        [UIView animateWithDuration:0.3f delay:0.0f options:0 animations:^{     
            [calloutView setAlpha:1.0f];
        } completion:^(BOOL finished) {
        }];

        [super setSelected:selected animated:animated];

    } else {
        calloutVisible = NO;

        CGRect newFrame = self.frame;
        newFrame.size.width = 52;
        self.frame = newFrame;

        [UIView animateWithDuration:0.3f delay:0.0f options:0 animations:^{
            [calloutView setAlpha:0.0f];
        } completion:^(BOOL finished) {
            [calloutView removeFromSuperview];
        }];
    }
}

- (void)directionsPressed
{
    if ([parent respondsToSelector:@selector(directionsPressed:)])
        [parent performSelector:@selector(directionsPressed:) withObject:self.stockist];
}

- (UIView*)hitTest:(CGPoint)point withEvent:(UIEvent *)event
{
    if (calloutVisible) {
        CGPoint hitPoint = [calloutView convertPoint:point toView:directionsButton];
        if ([calloutView pointInside:hitPoint withEvent:event]) {
            if (!hitTestBuffer) {
                [self directionsPressed];
                hitTestBuffer = YES;
            }
            return [directionsButton hitTest:point withEvent:event];
        } else {
            hitTestBuffer = NO;
        }
    }
    return [super hitTest:point withEvent:event];
} 
```

在我的代码`parent`中是我当前的 VC。这可能不是最简洁的方式，但它在当时有效。

标注如下所示：

![大喊](../Images/e45f3d79c48d4626214692cb7ce5dfc5.png)

几个布尔值`calloutVisible`，并`hitTestBuffer`确保按钮只能点击一次且仅在可见时才可点击。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-12T15:44:05.177

为了尝试解决您的问题，我使用了[Apple 的 WeatherMap 示例](http://developer.apple.com/library/ios/#samplecode/WeatherMap/Introduction/Intro.html)，并为您的问题提出了一个可行的解决方案。

我将您的代码添加到`WeatherAnnotationView.m`文件中（减去动画代码），然后添加代码以显示按钮并响应触摸事件：

```
-(void)annotationButtonClicked{
    NSLog(@"** button clicked");
}

- (void)setSelected:(BOOL)selected animated:(BOOL)animated{
    if(selected)
    {
        //building my custom animation
        annView = [[ UIView alloc ] initWithFrame:(CGRectMake(0, 0, 30, 30)) ];

        annView.frame =CGRectMake(0, 0, 200, 50);

        calloutView = [[UIImageView alloc]initWithImage:[UIImage imageNamed:@"cloudy.png"]];

        [calloutView setFrame:CGRectMake(-25, 50, 0, 0)];
        [calloutView sizeToFit];
        [annView addSubview:calloutView];

        /* BUTTON CODE */
        UIButton *button = [[UIButton alloc] initWithFrame:CGRectMake(0,0,20,20)];
        button.backgroundColor = [UIColor orangeColor];

        [button addTarget:self action:@selector(annotationButtonClicked) forControlEvents:UIControlEventTouchUpInside];
        [annView addSubview:button];
        /* END Of BUTTON CODE */

        [self addSubview:annView];

    }
    else
    {
        //Remove your custom view...
        [annView removeFromSuperview];
    }

} 
```

您还没有发布您如何尝试向 中添加按钮`annView`，因此我很难理解您的方法不适用的地方。解决此类问题的一种常见方法是一次删除一段代码并尝试运行您的应用程序。对于初学者，请尝试删除动画代码。然后，尝试删除`calloutView`，并仅保留`annView`和 按钮，直到您的代码可以与按钮一起使用。之后，一次添加一个您之前删除的部分（动画，`calloutView`），看看是哪一个导致您的按钮停止功能。

我希望这会有所帮助。

# java - 如何使用java访问远程数据库

> ID：13283991
> 
> 赞同：1
> 
> 时间：2012-11-08T06:53:48.267
> 
> 标签：java, jdbc, database-connection

我正在尝试从系统访问数据库到其他系统，下面是代码。

```
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.sql.Statement;

public class testConnection {

    /**
     * @param args
     * @throws SQLException 
     */
    public static void main(String[] args) throws SQLException {
        // TODO Auto-generated method stub
        String connectionURL = "jdbc:sqlserver://xxx.xxx.xx.xx:1433;DatabaseName=fingerprintdb;user=sa;password=test"; 
        // Change the connection string according to your db, ip, username and password 
          Connection con = null;
        try { 

            // Load the Driver class. 
            Class.forName("com.microsoft.sqlserver.jdbc.SQLServerDriver"); 
            // If you are using any other database then load the right driver here. 

            //Create the connection using the static getConnection method 
             con = DriverManager.getConnection (connectionURL); 

            //Create a Statement class to execute the SQL statement 
            Statement stmt = con.createStatement(); 

            //Execute the SQL statement and get the results in a Resultset 
            ResultSet rs = stmt.executeQuery("select moviename, releasedate from movies"); 

            // Iterate through the ResultSet, displaying two values 
            // for each row using the getString method 

            while (rs.next()) 
                System.out.println("Name= " + rs.getString("moviename") + " Date= " + rs.getString("releasedate")); 
        } 
        catch (SQLException e) { 
            e.printStackTrace(); 
        } 
        catch (Exception e) { 
            e.printStackTrace(); 
        } 
        finally { 
            // Close the connection 
            con.close(); 
        } 

    }

} 
```

下面是我得到的异常。

```
com.microsoft.sqlserver.jdbc.SQLServerException: The TCP/IP connection to the host xxx.xxx.xx.xx, port 1433 has failed. Error: "connect timed out. Verify the connection properties, check that an instance of SQL Server is running on the host and accepting TCP/IP connections at the port, and that no firewall is blocking TCP connections to the port.".
    at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDriverError(SQLServerException.java:170)
    at com.microsoft.sqlserver.jdbc.SQLServerConnection.connectHelper(SQLServerConnection.java:1049)
    at com.microsoft.sqlserver.jdbc.SQLServerConnection.login(SQLServerConnection.java:833)
    at com.microsoft.sqlserver.jdbc.SQLServerConnection.connect(SQLServerConnection.java:716)
    at com.microsoft.sqlserver.jdbc.SQLServerDriver.connect(SQLServerDriver.java:841)
    at java.sql.DriverManager.getConnection(Unknown Source)
    at java.sql.DriverManager.getConnection(Unknown Source)
    at testConnection.main(testConnection.java:26)
Exception in thread "main" java.lang.NullPointerException
    at testConnection.main(testConnection.java:48) 
```

我能够从同一个系统连接到数据库。但现在我正在尝试以远程方式连接。

我在 cmd 提示符下输入 ipconfig 得到了上面的 IP 地址。我做得对吗，如果不对，请纠正我。

下面是对主机的 ping 日志。

```
Pinging xxx.xxx.xx.xx with 32 bytes of data:

Reply from xxx.xxx.xx.xx: TTL expired in transit.
Reply from xxx.xxx.xx.xx: TTL expired in transit.
Reply from xxx.xxx.xx.xx: TTL expired in transit.
Reply from xxx.xxx.xx.xx: TTL expired in transit.

Ping statistics for xxx.xxx.xx.xx:
    Packets: Sent = 4, Received = 4, Lost = 0 (0% loss),
Approximate round trip times in milli-seconds:
    Minimum = 0ms, Maximum = 0ms, Average = 0ms 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T07:02:34.247

是的，有时会发生.. **（在安装 SQLServer 的位置执行以下过程）**

你需要去

`Start > Microsoft SQL Server > Configuration Tools > SQL Server Configuration Manager`

打开时转到

```
SQL Server Configuration Manager > SQL Server Network Configuration > Protocols for SQLExpress 
```

你会在哪里找到协议 TCP/IP，如果禁用然后启用它点击 TCP/IP，你会找到它的属性。

在此属性中删除所有 TCP 动态端口并将值 1433 添加到所有 TCP 端口并重新启动您的

```
SQL Server Services > SQL Server 
```

它完成了......

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-08T11:18:59.393

you need to configure the remote SQL server to accept TCP/IP connection and you may require to allow remote connection in case if it not enabled.

# entity-framework - VS2012 的数据源工具箱不显示我的实体模型

> ID：13283994
> 
> 赞同：5
> 
> 时间：2012-11-08T06:54:07.523
> 
> 标签：entity-framework, visual-studio-2012

从数据源工具箱本身添加实体模型或通过添加它=>“添加”=>“新项目”后，它不会显示在数据源工具箱中，因此我没有那么容易的拖放功能。

如果我添加一个数据集，它可以工作，但这是一项较旧的技术（不是吗？）我当前项目中的所有内容都是实体模型，并且更改为数据集（只有在我添加时才有效`xmlns:yourAlias="clr-namespace:WpfApplication3"`）将是..我认为不是最好的练习和浪费时间。

我已经重新创建了在 VS 2010 中添加实体模型的相同过程，它可以 100% 工作，我可以简单地从数据源工具箱中拖放

在为客户项目使用它之前，也许只是等待 VS SP1。:(

**//编辑**

如果我在 VS2010 中添加 ADO.net 实体模型，然后在 2012 年加载项目，它会在 dataSource 工具箱中正常加载。这是一个答案，但不是理想的解决方法。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-22T12:49:00.290

在做一个项目时，我最近遇到了同样的问题。我花了大约两天的时间进行广泛的研究，但我想我终于找到了：

[http://msdn.microsoft.com/en-us/data/jj556581](http://msdn.microsoft.com/en-us/data/jj556581)

至少对我来说它解决了问题。请让我知道它是否对您有帮助..

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-20T18:24:33.317

由于沉迷于 L2S，我尝试熟悉 VS2012 和 EF5。但我几乎失去了尝试使用数据源工具箱的神经。

最后我找到了解决方案：

使用对象数据源现在是在数据绑定场景中使用 EF 的推荐方法。有关更多详细信息，请参阅本文 - [http://msdn.microsoft.com/en-us/data/jj574514](http://msdn.microsoft.com/en-us/data/jj574514)。如果这是您想要的，本文还包含一个链接以恢复到旧代码生成。

# web-services - Gwt 应用程序的 Web 服务

> ID：13283995
> 
> 赞同：1
> 
> 时间：2012-11-08T06:54:07.737
> 
> 标签：web-services, gwt, tomcat

我尝试过使用 Jersey、RESTful、Restlet 的 gwt 应用程序支持什么类型的 Web 服务，但 GWT 没有任何效果。我想在 Tomcat 上部署 Web 服务，在应用引擎上部署 GWT 应用程序。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T07:06:33.333

您可以使用 RPC 和 RequestBuilder：

[https://developers.google.com/web-toolkit/doc/latest/DevGuideServerCommunication](https://developers.google.com/web-toolkit/doc/latest/DevGuideServerCommunication)

您还可以使用 RESTful 服务：

[如何从 GWT 调用 RESTFUL 服务？](https://stackoverflow.com/questions/4030969/how-to-call-restful-services-from-gwt)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-09T04:27:14.720

感谢您的支持。. 我得到了我的问题的答案。我使用 Jersey 创建了一个 restfull web 服务，并在我的 gwt 应用程序引擎应用程序中使用以下代码调用它：

```
ClientConfig config = new DefaultClientConfig();
Client client = Client.create(config);
WebResource service = client.resource(UriBuilder.fromUri("http://localhost:8080/de.vogella.jersey.first").build());
String obj=service.path("rest").path("bye").accept(MediaType.TEXT_PLAIN).get(String.class); 
```

Web 应用程序代码是：package de.vogella.jersey.first；

```
import javax.ws.rs.*;

@Path("/bye")
public class Hello {

// This method is called if TEXT_PLAIN is request
@GET
@Produces(MediaType.TEXT_PLAIN)
public String sayPlainTextHello() {
  return "Hello it worked";
} 
```

对于 Web 应用程序代码，请参阅此链接： [http ://www.vogella.com/articles/REST/article.html](http://www.vogella.com/articles/REST/article.html)

# vim - 如何用 vimscript 制作水平尺？

> ID：13283996
> 
> 赞同：1
> 
> 时间：2012-11-08T06:54:16.540
> 
> 标签：vim

我正在尝试执行一个用 # 填充当前行的命令，然后转到开头并用日期和时间重写，然后 o，这是我的尝试：

```
:nnoremap <F6><Home>
set count = 0
normal i
while count <= columns
  normal #

  set count += 1
endwhile
<Home>R =strftime("%c")<CR>
normal o 
```

按 F6 的结果应该是这样的：

日期和时间＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃ #######################

但是是的，这是我第一次尝试扩展 vim，所以请帮助我了解如何使这一切正常。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-08T08:42:37.423

映射的右侧与键入命令基本相同。这使您可以逐步从重复输入内容到录制宏 ( `@q`)，最终制作永久映射。

这是您尝试的直译：

```
:nnoremap <F6> 80I#<Esc>0R<C-r>=strftime("%c")<CR><Esc>o 
```

它使用 80 的固定宽度。如果你想要更动态的东西（比如`'textwidth'`它 > 0 时的值），你必须从直接执行转移到通过编程插值`:execute`，如下所示：

```
:nnoremap <F6> :execute 'normal' (&textwidth > 0 ? &textwidth : 80) . "I#\<lt>Esc>"<CR>0R<C-r>=strftime("%c")<CR><Esc>o 
```

如您所见，这已经变得更加神秘，混合了 Ex 命令和`:normal`模式、引用等。

最后一步是一个完全可配置和可重用的插件。只有对于那些具有复杂错误处理和东西的人，您通常会使用单独`:function`的定义，然后从您的映射中调用它们：

```
function! s:InsertSeparator()
    ...
endfunction
nnoremap <silent> <F6> :call <SID>InsertSeparator()<CR> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-08T14:20:43.970

您可以`printf`在 vimscript 中使用。

```
:nnoremap <F6> I<C-r>=substitute(printf("%-80s", strftime("%c")), '\(\s\)\@<=\s', '#', 'g')<CR><Esc>o 
```

# jquery - 每次回发时加载所需的动态控件

> ID：13283997
> 
> 赞同：1
> 
> 时间：2012-11-08T06:54:21.883
> 
> 标签：jquery, asp.net, .net, c#-4.0

我已经动态创建了 tabcontainer 的多个选项卡，每个 cantain n no's of Question 及其选项（选项是单选按钮可能是 2 到 5）也是动态的，并且使单选按钮 AutoPostBack=true; 所有这些绑定在 UpdatePanel 中在 init 事件中创建的占位符内

当我检查单选按钮时出现问题，页面回发后重新创建所有动态控件，然后它指向火控方法

请帮助我，我赌上这个

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-01-08T13:48:25.833

可能你应该在回发事件中加载你的动态控件。

当您单击单选按钮时，您的 page_load 事件再次调用并执行创建动态控件的代码。

为避免重新创建动态控件，您应该在回发事件中创建控件。

示例代码

```
if (!IsPostBack)
{
   // Code to create your dynamic controls.
} 
```

如果它不适合您，请进一步说明您的代码块问题。

谢谢。

# iphone - 使用 NSRegularExpression 在 xml 标签之间添加额外的文本

> ID：13283998
> 
> 赞同：0
> 
> 时间：2012-11-08T06:54:26.847
> 
> 标签：iphone, regex

我想使用 NSRegularExpression 从 xml 获取标签之间的数据

这是xml

```
<?xml version="1.0" encoding="UTF-8"?>
<document xmlns="@link" xmlns:xsi="@link" xsi:schemaLocation="@link" version="1.0">
<field left="493" top="670" right="1550" bottom="760" type="text">
<value encoding="utf-16">JENNIFER mml</value>
<line left="493" top="670" right="1550" bottom="733">
<char left="493" top="670" right="549" bottom="733" confidence="69">J</char>
<char left="565" top="670" right="605" bottom="718" confidence="71" suspicious="true">E</char>
<char left="623" top="670" right="660" bottom="718" confidence="76">N</char>
<char left="678" top="670" right="720" bottom="722" confidence="56">N</char>
<char left="736" top="674" right="776" bottom="730" confidence="80">I</char>
<char left="804" top="674" right="841" bottom="729" confidence="74">F</char>
<char left="858" top="670" right="902" bottom="725" confidence="80">E</char>
<char left="922" top="670" right="964" bottom="730" confidence="86">R</char>
<char left="965" top="670" right="1442" bottom="730" confidence="100" />
<char left="1443" top="685" right="1495" bottom="720" confidence="2" suspicious="true">m</char>
<char left="1492" top="685" right="1534" bottom="719" confidence="11" suspicious="true">m</char>
<char left="1544" top="685" right="1550" bottom="718" confidence="100" suspicious="true">l</char>
</line>
</field>
</document> 
```

我想在值标签之间提取这些数据

```
<value encoding="utf-16">JENNIFER mml</value> 
```

这是ios代码

```
 NSString *xml =@"<?xml version=\"1.0\" encoding=\"utf-8\" standalone=\"yes\"?><document xmlns=\"@link\" xmlns:xsi=\"@link\" xsi:schemaLocation=\"@link\" version=\"1.0\"><field left=\"493\" top=\"670\" right=\"1550\" bottom=\"760\" type=\"text\"><value encoding=\"utf-16\">JENNIFER mml</value><line left=\"493\" top=\"670\" right=\"1550\" bottom=\"733\"><char left=\"493\" top=\"670\" right=\"549\" bottom=\"733\" confidence=\"69\">J</char><char left=\"565\" top=\"670\" right=\"605\" bottom=\"718\" confidence=\"71\" suspicious=\"true\">E</char><char left=\"623\" top=\"670\" right=\"660\" bottom=\"718\" confidence=\"76\">N</char><char left=\"678\" top=\"670\" right=\"720\" bottom=\"722\" confidence=\"56\">N</char><char left=\"736\" top=\"674\" right=\"776\" bottom=\"730\" confidence=\"80\">I</char><char left=\"804\" top=\"674\" right=\"841\" bottom=\"729\" confidence=\"74\">F</char><char left=\"858\" top=\"670\" right=\"902\" bottom=\"725\" confidence=\"80\">E</char><char left=\"922\" top=\"670\" right=\"964\" bottom=\"730\" confidence=\"86\">R</char><char left=\"965\" top=\"670\" right=\"1442\" bottom=\"730\" confidence=\"100\"> </char><char left=\"1443\" top=\"685\" right=\"1495\" bottom=\"720\" confidence=\"2\" suspicious=\"true\">m</char><char left=\"1492\" top=\"685\" right=\"1534\" bottom=\"719\" confidence=\"11\" suspicious=\"true\">m</char><char left=\"1544\" top=\"685\" right=\"1550\" bottom=\"718\" confidence=\"100\" suspicious=\"true\">l</char></line></field></document>";
NSString *pattern = @"<value>(\\d+)</value>";

NSRegularExpression *regex = [NSRegularExpression
                              regularExpressionWithPattern:pattern
                              options:NSRegularExpressionCaseInsensitive
                              error:nil];
NSTextCheckingResult *textCheckingResult = [regex firstMatchInString:xml options:0 range:NSMakeRange(0, xml.length)];

NSRange matchRange = [textCheckingResult rangeAtIndex:1];
NSString *match = [xml substringWithRange:matchRange];
NSLog(@"Found string '%@'", match); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T07:01:05.517

您当前的正则表达式只匹配一个精确的`<value>`标签*和*一个带有`\d+`.

```
<value>(\d+)</value> 
```

但是，您的输入具有属性 ( `encoding="utf-16"`)*并且*不包含作为值 ( `JENNIFER mml`) 的数字：

```
<value encoding="utf-16">JENNIFER mml</value> 
```

为了克服第一个问题，您可以将属性硬编码到正则表达式中，或者稍微修改模式：

```
<value encoding="utf-16">
or
<value[^>]*> 
```

为了匹配标签的值，因为它似乎是按字母顺序排列的（带有空格），我们也会输入数字，您可以使用：

```
[a-zA-Z0-9\s]+ 
```

因此，您完全可以尝试：

```
<value[^>]*>([a-zA-Z0-9\s]+)</value> 
```

使用您当前的代码（用于复制+粘贴）：

```
NSString *pattern = @"<value[^>]*>([a-zA-Z0-9\\s]+)</value>"; 
```

**UPDATE** ( *anything* can match between `<value></value>`)每条评论，标签
之间的确切文本可以包含*任何*字符，而不仅仅是字母数字。为了解决这个问题，我们可以将所有内容与：`<value></value>`*`(.*)`*

 *```
<value>[^>]*>(.*)</value> 
```

使用您当前的代码：

```
NSString *pattern = @"<value[^>]*>(.*)</value>"; 
```*

# appdomain - 无法将自定义 Dll 加载到新的 AppDomain。显示文件未找到或其依赖项

> ID：13283999
> 
> 赞同：1
> 
> 时间：2012-11-08T06:54:29.763
> 
> 标签：appdomain

我无法将自定义 dll 加载到我的新`appDomain`.

```
AppDomainSetup appSetup = new AppDomainSetup()
{
        ApplicationName = "PluginsDomain",
        ApplicationBase = AppDomain.CurrentDomain.BaseDirectory,
        PrivateBinPath = @"Plugin",
        DisallowBindingRedirects = false,
        DisallowCodeDownload = true,
        ConfigurationFile = AppDomain.CurrentDomain.SetupInformation.ConfigurationFile
};

AppDomain domain = AppDomain.CreateDomain("MyPlugin", null, appSetup);

byte[] bytes = File.ReadAllBytes(@"C:\Users\testUser\Documents\Visual Studio 
                   2012\Projects\BaseClass\BaseClass\bin\helpClass\HelperClass.dll");

Assembly assm= domain.Load(bytes);
Type type=assm.assm.GetExportedTypes()[0];

Object testObj=(Object)appDomain.CreateInstanceAndUnwrap(assm.FullName, type.FullName);

///Here is the problem When I try to compile it show error. 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-12T14:16:31.260

您将需要在您的远程域（“MyPlugin”）中为 AssemblyResolve 实现一个事件侦听器，该侦听器返回所述程序集（在您的情况下为 HelperClass.dll）

您是否尝试将 HelperClass 用作“代理”？如果可能的话，我建议您创建一个“代理”（从 MarshalByRefObj 继承），然后 CreateInstanceAndUnwrap 到您的远程域。然后在“代理”中实现 AssemblyResolve 并通过“代理”加载动态程序集。

```
//Listenner to AssemblyResolve
AppDomain.CurrentDomain.AssemblyResolve += new ResolveEventHandler(CurrentDomain_AssemblyResolve);
Assembly CurrentDomain_AssemblyResolve(object sender, ResolveEventArgs args)
{
    if(args.Name==assm.Fullname)
    {
         return assm;
    }
    else
    {
         return null;
    }
} 
```

我之前写过[一篇关于 AppDomain 和实现“代理”的帖子](http://www.colormecode.com/blog/working-with-appdomain/)